{"version":3,"sources":["resources/home-wallpaper.jpg","components/toast/Toast.js","components/toast/styles.js","components/translate/Translate.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","helpers/logosHelpers.js","components/dashboard/dashboard/TopBar.js","components/common/img/Img.js","components/common/img/styles.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/ValidImageHoc.js","components/dashboard/forms/ValidItemHoc.js","components/dashboard/containers/ImgDialog/styles.js","components/dashboard/containers/ImgDialog/ImgDialog.js","components/dashboard/containers/SaveBtn/SaveBtn.js","components/dashboard/containers/SaveBtn/styles.js","components/dashboard/containers/ItemHoc/styles.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/ItemHoc/ItemHoc.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/dashboard/forms/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/dashboard/forms/items/AdUnit/NewAdUnitHoc.js","components/common/dropdown/Dropdown.js","components/common/dropdown/styles.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","helpers/utmHelpers.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/autocomplete/common.js","components/common/autocomplete/DownshiftMultiple.js","components/common/autocomplete/DownshiftSingle.js","components/common/autocomplete/Autocomplete.js","components/common/autocomplete/styles.js","components/dashboard/forms/items/AdUnit/AdUnitTargeting.js","components/dashboard/containers/UnitTargets/UnitTargets.js","components/common/dialog/content.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/NewCampaignHoc.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/NewAdSlotHoc.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/AdSlot/AdSlotTargeting.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/tableConfig.js","components/dashboard/containers/Tables/EnhancedTableHead.js","components/common/dropdown/ChipMultipleSelect.js","components/dashboard/containers/Tables/EnhancedTableToolbar.js","components/dashboard/containers/Tables/filterHelpers.js","components/dashboard/containers/Tables/EnhancedTable.js","components/dashboard/containers/Campaign/styles.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/ItemCommon.js","components/dashboard/containers/Campaign/Campaign.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/charts/options.js","components/dashboard/charts/simplified.js","components/App/themeMUi.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/DashboardStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Slot/styles.js","components/dashboard/containers/Items/Items.js","components/dashboard/forms/web3/TransactionHoc.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/styles.js","components/dashboard/account/AccountInfo.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/IdentityHoc.js","components/common/stepper/ValidItemHoc.js","components/signin/identity/ownerAuth/AuthHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthLedger.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/IdentityContractOwner.js","components/signin/identity/QuickInfo.js","components/signin/identity/QuickDeploy.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/FullInfo.js","components/signin/identity/ExternalWalletConnect.js","components/signin/identity/styles.js","components/signin/identity/IdentitySteps.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/App.js","serviceWorker.js","index.js","services/store-data/auth.js","services/adex-validator/actions.js","helpers/mediaHelpers.js","constants/actionTypes.js","services/smart-contracts/actions/core.js","services/smart-contracts/contractsCfg.js","constants/targeting.js","services/store-data/loop.js","services/requester/requester.js","services/requester/index.js","services/crypto/crypto.js","store/history.js","services/store-data/campaigns.js","services/store-data/account.js","resources/no-image-box-eddie.jpg","constants/misc.js","services/translations/translations.js","services/store-data/analytics.js","services/smart-contracts/actions/erc20.js","resources/trezor-logo-h.png","resources/ledger_logo_header.png","selectors/selectors.js","selectors/accountSelectors.js","selectors/identitySelectors.js","selectors/locationSelectors.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","selectors/configSelectors.js","selectors/newTransactionSelectors.js","selectors/index.js","store/initialState.js","helpers/formatters.js","services/smart-contracts/ethers.js","services/smart-contracts/signers/ledger.js","actions/common.js","actions/uiActions.js","services/auth/auth.js","helpers/errors.js","actions/accountActions.js","actions/itemActions.js","actions/validationActions.js","actions/identityActions.js","actions/bidActions.js","actions/transactionActions.js","actions/analyticsActions.js","actions/index.js","services/adex-validator/ewt.js","../external \"Module\"","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","resources/404.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png","components/App/CacheBuster.js","services/wallet/wallet.js","helpers/miscHelpers.js","services/adex-market/actions.js","services/smart-contracts/actions/common.js","helpers/validators.js","services/smart-contracts/actions/stats.js","services/smart-contracts/signers/trezor.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","services/adex-relayer/actions.js","reducers/configReducer.js","reducers/index.js","reducers/accountReducer.js","reducers/itemsReducer.js","reducers/uiReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/analyticsReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","services/smart-contracts/actions/identity.js","helpers/localStorageHelpers.js"],"names":["module","exports","__webpack_require__","p","variantIcon","accept","CheckCircleIcon","success","warning","WarningIcon","cancel","ErrorIcon","error","info","InfoIcon","Toast","_Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","close","id","setState","active","actions","removeToast","state","toast","inherits","createClass","key","value","nextProps","nextToast","toasts","_classnames","_this2","classes","Icon","type","anchorOrigin","vertical","horizontal","top","react_default","a","createElement","Snackbar","open","autoHideDuration","timeout","onClose","unclosable","SnackbarContent","aria-describedby","message","className","classnames","icon","iconVariant","label","toString","action","IconButton","aria-label","color","onClick","Close_default","snackbar","defineProperty","Component","connect","memory","dispatch","bindActionCreators","withStyles","theme","spacing","border","borderRadius","backgroundColor","&.active","transform","margin","borderColor","fontSize","opacity","marginRight","display","alignItems","wordBreak","width","maxWidth","Translate","Decorated","language","useSelector","selectLang","assign","t","val","_ref","arguments","length","undefined","_ref$isProp","isProp","_ref$args","args","translate","Confirm","bind","assertThisInitialized","confirm","visible","_this$props","title","text","children","cancelLabel","confirmLabel","noActionBtns","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","data","onConfirm","onCancel","calledOn","withReactRouterLink","_React$Component","_getPrototypeOf2","_len","Array","_key","apply","concat","resolveToLocation","to","path","pathname","history","createHref","handleClick","asyncToGenerator","regenerator_default","mark","_callee","event","wrap","_context","prev","next","preventDefault","stopPropagation","push","stop","_x","_this$props2","rest","match","location","staticContext","objectWithoutProperties","toLocation","href","React","withRouter","createSvgIconCustom","displayName","viewBox","SvgIcon","pure","muiName","d","Anchor","target","url","replace","getUrl","Link","underline","draggable","rel","style","styles","_appBar","_drawerPaper","root","flexGrow","zIndex","overflow","position","minHeight","appBar","left","right","breakpoints","up","flex","flexDirection","flexRow","flexBasis","paddingTop","paddingBottom","&:last-child","paddingRight","paddingLeft","toolbarControls","justifyContent","toolbarTitle","navIconHide","toolbar","objectSpread","flexFlow","height","mixins","drawerPaper","content","palette","background","default","padding","marginLeft","contentInner","EddieSwitch","advColor","accentOne","main","pubColor","accentTwo","switchBase","&$checked","&$checked + $track","checked","track","Switch","RRSwitch","ListItem","ListItemText","primary","ListItemSecondaryAction","SideSwitch","side","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","_ref2","loading","Box","ml","mr","CircularProgress","RRListItem","ETH_SCAN_ADDR_HOST","process","useStyles","makeStyles","activeBgColor","navigation","paper","sntPadding","navListRoot","secondary","navList","bottom","overflowY","overflowX","sideNavToolbar","version","borderTopWidth","borderTopColor","divider","borderTopStyle","contrastText","&:focus","adxLink","hint","&:hover","useCommonStyles","SideNav","selectSide","identity","selectAccountIdentityAddr","commonClasses","selectLocation","split","items","_useSelector","selectAccountStatsFormatted","availableIdentityBalanceMainToken","mainTokenSymbol","List","component","AdexIconTxt","spinners_LoadingSection","Typography","variant","gutterBottom","Divider","dashboard_SideSwitch","button","ListItemIcon","Dashboard_default","Fragment","CampaignIcon","List_default","toUpperCase","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","Date","getFullYear","packageJson","ImgIcon","src","alt","ButtonMenu","btnStyle","rightIcon","leftIconSrc","_useState","useState","_useState2","slicedToArray","setActive","_useState3","_useState4","anchorEl","setAnchorEl","Boolean","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-owns","aria-haspopup","textOverflow","Menu","getAuthLogo","authType","AUTH_TYPES","METAMASK","name","metamaskLogo","TREZOR","trezorLogo","LEDGER","ledgerLogo","DEMO","demoLogo","RRMenuItem","MenuItem","handleDrawerToggle","navTitle","selectNavTitle","account","selectAccount","imgSrc","wallet","btnMenuLabel","email","formatAddress","address","AppBar","Toolbar","Menu_default","lib_default","diameter","seed","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","logOut","ExitToApp_default","noWrap","MAX_IMG_LOAD_TIME","Img","ipfsSrc","validations","Regexes","ipfsRegex","test","helpers","getMediaUrlWithProvider","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","mediaMime","isVideoMedia","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onerror","onload","onabort","setTimeout","onloadedmetadata","_ref3","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","Fab","mini","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this3","_this$props3","allowFullscreen","fullScreenOnClick","_this$state2","imgParent","wrapper","img","fullScreenBtn","circular","cursor","@media(max-width:744px)","minWidth","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","getCroppedImgUrl","objUrl","pixelCrop","fileName","size","cropCanvas","scaleCanvas","crossOrigin","Promise","resolve","reject","crop","x","Math","round","y","getContext","drawImage","toBlob","file","URL","createObjectURL","ImgForm","onDrop","acceptedFiles","rejectedFiles","that","objectUrl","imgName","mime","onChange","tempUrl","onRemove","e","preventBubbling","revokeObjectURL","onCropChange","saveCropped","then","croppedBlob","cropMode","nativeEvent","stopImmediatePropagation","UploadInfo","errMsg","uploadInfo","uploadActions","dropzoneBtn","Crop_default","Clear_default","CloudUpload_default","aspect","additionalInfo","_this$state3","imgForm","header","dropzone","Grid","container","alignContent","item","sm","md","react_image_crop_default","imageStyle","imgDropzonePreview","disabled","Save_default","dist_es","img_Img","marginBottom","grey","marginTop","ValidImageHoc","ValidImage","validate","propsName","widthTarget","heightTarget","mediaWidth","mediaHeight","msg","exact","required","isValid","checkExactishAspect","masgArgs","err","dirty","validateMedia","media","_args","abrupt","getMediaSize","sent","validateId","ValidationHoc","selectValidationsById","_ref$err","_ref$dirty","_ref$removeAll","removeAll","execute","invalidFields","ImgDialog","handleChange","newValues","values","onOk","vals","keys","forEach","onChangeReady","errImg","imgPropName","AVATAR_MAX_WIDTH","AVATAR_MAX_HEIGHT","Cancel_default","forms_ImgForm_ImgForm","imgLabel","persist","ValidItemHoc","SaveBtn","spinner","dirtyProps","save","validationId","fabButton","Check_default","fabProgress","spinners","spinnerId","buttonSuccess","buttonProgress","mediaRoot","buttonRight","buttonLeft","textField","flexWrap","changesLine","changeChip","editIcon","RRButton","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","justify","inline","textTransform","IMG_404","adSlotPut","schemas","adUnitPut","campaignPut","AdSizesByValue","ItemsConstants","ItemHoc","Item","updateNav","itemType","objModel","newItem","dp","slice","indexOf","plainObj","returnPropToInitialState","propName","initialItemState","initialItemStateValue","filter","resetValidationErrors","setActiveFields","field","newActiveFields","activeFields","updateItem","_authType","editImg","_activeInput","_this$props4","matchId","nextState","currentItemInst","nexItemInst","modifiedOn","updateSpinner","prop","validName","_this$props5","schema","result","Joi","_this$props6","description","_this$props7","page_not_found_PageNotFound","isDemo","canEdit","temp","mediaUrl","fallbackMediaUrl","titleErr","descriptionErr","Prompt","when","FormControl","fullWidth","InputLabel","Input","ev","validateTitle","maxLength","onBlur","onFocus","endAdornment","InputAdornment","Edit_default","FormHelperText","errMsgArgs","containers_ImgDialog_ImgDialog","_id","updateImgWidth","updateImgHeight","updateImgLabel","updateImgInfoLabel","updateImgExact","updateImgErrMsg","xs","lg","htmlFor","multiline","rows","validateDescription","showLogo","Paper","imgContainer","fullName","pointer","canEditImg","Info_default","map","Chip","onDelete","containers_SaveBtn_SaveBtn","inEdit","toggleImgEdit","tryGetItemByIpfs","ipfs","index","_ipfs","params","itemId","errColor","&$active","stepperWrapper","pagePaper","pageContent","WebkitOverflowScrolling","@media(max-width:500px)","textAlign","@media(max-width:475px)","mobileStepper","& div","mobileStepLabel","& span","buttonProgressWrapper","errChip","& svg","StepperNav","pages","currentPage","window","innerWidth","StepLabel","MobileStepper","activeStep","steps","Stepper","alternativeLabel","page","i","Step","MaterialStepper","_props$pages","setCurrentPage","canReverse","pageProps","Comp","pageValidation","dirtyErrors","reduce","dirtyErrs","getDirtyValidationErrors","selectSpinnerById","isValidPage","useCallback","goToPage","nextStep","canGoBack","goToPreviousPage","_callee2","_context2","goToNextPage","_callee3","_context3","onValid","useEffect","onKeyPressed","_ref5","_callee4","_context4","_x2","onKeyPress","stepperNav","MaterialUiStepper_StepperNav","Error_default","disableBtnsIfValid","cancelBtn","cancelFunction","completeBtn","JSON","stringify","CancelBtn","onSave","stepsId","stepsPages","stepsPreviewPage","validateIdBase","cancelButton","MaterialUiStepper","fullHeight","max","innerHeight","dialogTitle","wordWrap","&:first-child","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","down","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","TextBtn","Transition","Slide","direction","iconButton","textButton","fabVariant","btnLabelArgs","btnLabel","dialogActions","btnProps","setOpen","onBeforeOpen","ButtonComponent","btnLabelTranslated","react","first","second","TransitionComponent","disableTypography","closeDialog","NewAdUnitHoc","ItemForm","updateNewItem","AdUnit","addUnit","resetNewItem","saved","Dropdown","_this$props$label","_this$props$source","source","_this$props$htmlId","htmlId","_this$props$name","_this$props$disabled","_this$props$error","helperText","_this$props$fullWidth","noSrcLabel","formControl","Select","input","toConsumableArray","spinners_InputLoading","selectEmpty","adUnitPost","AdTypes","constants","AdUnitsTypes","AdUnitBasic","validateAndUpdateType","validateTargetUrl","targetUrl","prevProps","addUtmLink","addUtmParameters","campaign","removeFromUrl","parse","search","protocol","host","newQuery","_i","_Object$entries","entries","query","_ref4","UTM_PARAMS","format","addUrlUtmTracking","newTemp","errTitle","errDescription","errTargetUrl","TextField","FormControlLabel","control","Checkbox","handleChangeAddUtmLink","dropdown_Dropdown","getWidAndHightFromType","sizes","parseInt","handleImgChange","_getWidAndHightFromTy","_getWidAndHightFromTy2","renderInput","inputProps","InputProps","ref","other","inputRef","inputRoot","renderSuggestion","suggestion","itemProps","highlightedIndex","selectedItem","showSelected","isHighlighted","isSelected","selected","fontWeight","getSuggestions","inputValue","allowCreate","validateCreation","toLowerCase","trim","includes","newSuggestion","DownshiftMultiple","handleKeyDown","keycode","newItemValue","handleInputChange","handleDelete","splice","placeholder","openOnClick","allValues","downshift_esm","itemToString","getInputProps","getItemProps","isOpen","inputValue2","selectedItem2","toggleMenu","startAdornment","tabIndex","chip","onKeyDown","square","DownshiftSingle","onInit","errorText","suggestions","clearSelection","dist_index_esm","index_esm","itemSize","itemCount","multiple","autocomplete_DownshiftMultiple","autocomplete_DownshiftSingle","marks","SourcesSelect","SOURCES","collection","tag","score","AdUnitTargeting","handleTargetChange","newValue","newTargets","targets","newTarget","updateNewItemCollections","removeTarget","validateAutocomplete","targetTag","autocomplete_Autocomplete","suggestionMatch","showSuggestionsWhenValueIsSet","Slider","slider","markLabel","aria-labelledby","min","step","valueLabelDisplay","collections","all","tg","newCollection","targeting","tags","_ref4$target","targetIcon","LocationOnIcon","gender","WcIcon","age","ChildCareIcon","getTargetType","UnitTargets","targetArrayValues","TargetIcon","CompareArrows","isTarget","TargetsList","_ref$targets","subHeader","dense","subheader","ListSubheader","PropRow","classNameLeft","classNameRight","_ref$style","uppercase","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","_ref6","imgPreview","boxShadow","shadows","imgPreviewWrapper","AdUnitFormPreview","containers_UnitTargets_UnitTargets","NewAdUnitFormPreview","NewCampaignHoc","Campaign","waitingAction","openCampaign","adUnits","adUnitsArray","handleSelect","hasAdUnits","EnhancedTable","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange_default","iconColor","onIconClick","DateTimePicker","calendarIcon","material_ui_pickers_esm","DateTimePicker_CalendarIconAdor","datepickerContrastInput","common","white","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","moment","MomentUtils","campaignTitleSchema","string","allow","VALIDATOR_LEADER_ID","VALIDATOR_FOLLOWER_ID","VALIDATOR_SOURCES","fee","tempValidators","validateCampaignDates","_ref2$created","created","now","withdrawPeriodStart","activeFrom","NewCampaignFinance","CampaignFinance","validateAndUpdateValidator","update","validators","newValidators","handleDates","maxChannelFees","validateAmount","depositAmount","minPerImpression","openChannel","getFeesOnly","getMaxFees","feesData","fees","isNumberString","utils","parseUnits","_ref4$availableIdenti","stats","formatted","_ref3$maxDeposit","maxDeposit","maxDep","parseFloat","dep","validateAmounts","minTargetingScore","_ref5$availableIdenti","from","date","valueOf","errDepAmnt","errMin","errFrom","errTo","impressions","commify","floor","getTotalImpressions","leader","follower","toFixed","common_DateTimePicker_DateTimePicker","emptyLabel","disablePast","minDate","maxDate","FormGroup","row","WalletAction","CampaignFormPreview","AdUnitsTable","listMode","identityAddr","mainToken","symbol","FormsCommon_WalletAction","formatDateTime","NewCampaignFormPreview","selectAuthType","selectMainToken","AdSlot","addSlot","adSlotPost","NewAdSlotHoc","updateMinPerImpression","validateImage","useFallback","validateFallbackUrl","handleFallbackChange","_this$props$newItem","errFallbackUrl","Switch_Switch","Collapse","in","PredefinedTags","custom","AdSlotTargeting","SlotFallback","AdSlotPreview","AdSlotPreview_SlotFallback","NewAdSlotPreview","SaveBtnWithAdUnit","SaveBtnWithCampaign","saveBtnLabel","saveBtnIcon","HourglassEmpty_default","SaveBtnWithAdSlot","esm_extends","CancelBtnWithItem","CancelBtnWithCampaign","CancelBtnWithAdSlot","dialogCommon","darkerBackground","Add_default","NewUnitStepsWithDialog","WithDialog","forms_FormSteps","AdUnitMedia","noDefaultImg","itemModel","NewUnitDialog","copyProps","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","CampaignUnits","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","AdSlotBasic","AdSlotMedia","descriptionHelperTxt","NewSlotDialog","headCells","numeric","disablePadding","disableOrdering","Other","filterTags","missingData","mapStatusIcons","humanFriendlyStatus","status","ls","waitIcon","HourglassFull_default","doneIcon","DoneAll_default","warningIcon","Warning_default","cashIcon","MonetizationOn_default","EnhancedTableHead","onSelectAllClick","order","orderBy","numSelected","rowCount","onRequestSort","headSide","TableHead","TableRow","TableCell","indeterminate","headCell","align","sortDirection","TableSortLabel","property","visuallyHidden","ChipMultipleSelect","anchorDatePicker","setAnchorDatePicker","selectAll","newSelecteds","n","numberToShow","numberToShowGreater","loopCount","c","join","labelParser","FilterList_default","Popover","transformOrigin","FormLabel","useToolbarStyles","highlight","lighten","light","dark","EnhancedTableToolbar","setSearch","filters","setFilters","filterSide","filtersPresent","initialFilterTags","clsx","flexItem","Search_default","Tooltip","desc","b","Number","filterBySearch","filterByTags","humanFriendlyName","stableSort","array","cmp","stabilizedThis","el","sort","getSorting","orderToken","RRTableCell","RRIconButton","table","tableLayout","tableWrapper","clip","spacer","cellImg","renderActions","enterDelay","Visibility_default","NewItems_NewCloneUnitDialog","cloneItem","decimals","_React$useState","_React$useState2","setOrder","_React$useState3","_React$useState4","setOrderBy","_React$useState5","_React$useState6","orderIsNumeric","setOrderisNumeric","_React$useState7","_React$useState8","setSelected","_React$useState9","_React$useState10","setPage","_React$useState11","_React$useState12","rowsPerPage","setRowsPerPage","_React$useState13","_React$useState14","_React$useState15","_React$useState16","filteredItems","sortedItems","emptyRows","Table","TableBody","isItemSelected","labelId","firstUnit","hover","role","aria-checked","selectedIndex","newSelected","formatTokenAmount","fundsDistributedRatio","bigNumberify","mul","colSpan","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","card","@media(max-width:380px)","basicInfo","ValidatedFallbackAdData","rightComponent","toggleFallbackImgEdit","errFallbackAdUrl","Card","raised","CardMedia","fallbackTargetUrl","CardContent","validUrl","ValidatedSlotMinCPM","_selectMainToken","minCPM","_ref2$prop","_ref2$value","_ref2$item","updateItemTemp","MediaCard","BasicProps","ItemCommon_MediaCard","isArray","CampaignProps","_selectMainToken2","VIEW_MODE","context","handleTabChange","CampaignActions","closeCampaign","statistics","units","spec","CampaignModel","balances","lastApprovedBalances","Tabs","scrollable","scrollButtons","indicatorColor","textColor","Tab","CampaignItem","datepicker","rowsView","ui","RRSideBox","_ref$salePoints","salePoints","linkTitle","sideBox","point","SideSelect","dialogPaper","BackdropProps","backdrop","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","listStyle","tooltip","useStylesArrow","black","popper","&[x-placement*=\"bottom\"] $arrow","&::before","borderWidth","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","arrow","borderStyle","ArrowTooltip","_useStylesArrow","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","enabled","element","typography","pxToRem","_ref$bgColor","bgColor","_ref2$bgColor","infoCard","linkCard","&:hover, &:focus","progress","StatsCard","explain","infoStatsContainer","dashboardCardBody","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","responsive","tooltips","mode","cornerRadius","Helper","hexToRgbaColorString","merge","defaults","global","commonDsProps","lineTension","pointRadius","pointHitRadius","SimpleStatistics","_ref$timeframe","timeframe","eventType","_ref$options","options","_ref$xLabel","xLabel","_ref$y1Label","y1Label","_ref$y2Label","y2Label","_ref$y1Color","y1Color","_ref$y2Color","y2Color","payouts","selectStatsChartData","metric","noLastOne","counts","Chart","pluginService","register","afterDraw","chart","_active","activePoint","controller","ctx","tooltipPosition","topY","scales","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","stroke","restore","chartData","labels","datasets","yAxisID","pointBackgroundColor","linesOptions","maintainAspectRatio","intersect","callbacks","datasetIndex","yLabel","xAxes","gridLines","scaleLabel","labelString","yAxes","ticks","beginAtZero","precision","drawOnChartArea","react_chartjs_2_es","deepOrange","amber","lime","contrastThreshold","tonalOffset","createMuiTheme","fontFamily","overrides","MuiButton","outlined","MuiTableCell","head","whiteSpace","MuiPaper","rounded","MuiTooltip","themeMUI","responsiveFontSizes","factor","timeFrames","VALIDATOR_ANALYTICS_TIMEFRAMES","tf","translated","metrics","publisher","advertiser","timeHints","hour","day","week","BasicStats","selectAnalytics","totalImpressions","selectTotalImpressions","totalMoney","selectTotalMoney","averageCPM","selectAverageCPM","loadingImpressions","loadingMoney","loadingCPM","DashboardStats_StatsCard","updateAnalyticsTimeframe","formatNumberWithCommas","simplified_SimpleStatistics","find","DashboardStats","outstandingBalanceMainToken","goToAccount","side_select_SideSelect","UnitItem","Unit","adUrl","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","IntegrationCode","_ref$slot","slot","onCopy","fallbackUnit","publisherAddr","whitelistedTokens","selectRoutineWithdrawTokensAddresses","whitelistedType","randomize","marketSlot","encodeURIComponent","iframeStr","integrationLabel","copy","integrationCode","Slot","handleFallbackImgUpdateToggle","editFallbackImg","tabsFocus","current","scrollIntoView","behavior","block","createRef","Slot_IntegrationCode","addToast","SlotItem","alignSelf","Items","nav","NewTransactionHoc","TransactionHoc","txId","updateNewTransaction","tx","manyTxs","resetTransaction","resetNewTransaction","handleSaveRes","res","getErrMsg","saveFn","acc","transaction","console","log","txs","txResults","catch","newTransactions","WithdrawFromIdentityForm","numStr","token","identityAvailable","validateNumber","amount","withdrawAmount","withdrawTo","withdrawToSpinner","errAmount","errAddr","validateAddress","addr","WithdrawAnyTokenFromIdentityForm","balanceAnySpinner","tokenAddress","tokenBalance","errToken","setBalance","bal","IdentityPrivilegeLevel","PRIV_LEVELS_SRC","SeAddressPrivilegeForm","setAddrSpinner","setAddr","privLevel","privilegesNames","valueToKey","IdentityWithdrawPreview","toGet","SetPrivilegePreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreviewForm","getFeesFn","previewWarnMsgs","selectNewTransactionById","_transaction$feesData","_transaction$errors","errors","waitingForWalletAction","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","FormStepsWithDialog","FormSteps","txCommon","cancelBtnLabel","WithdrawTokenFromIdentity","WithdrawFromExchangePage","TransactionPreview","identityWithdraw","amountToWithdraw","withdrawFromIdentity","SetIdentityPrivilege","SeAddressPrivilege","addrIdentityPrivilege","setIdentityPrivilege","actionBtn","advancedList","iconBtnLeft","VALIDATOR_LEADER_URL","VALIDATOR_FOLLOWER_URL","AccountInfo","selectWallet","password","selectAccountIdentity","_useSelector2","walletAddress","_useSelector2$walletA","walletAuthType","_useSelector2$walletP","walletPrivileges","identityAddress","identityBalanceMainToken","localWalletDownloadHref","obj","getRecoveryWalletData","walletJsonData","expanded","setExpanded","chr","py","download","SaveAlt_default","pr","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","domNodes","overlay","show","displayRampWidget","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","heading","ExpansionPanelDetails","transactions_SetIdentityPrivilege","Campaigns","NewItems_NewCampaignDialog","accent","containers_Items_Items","AdUnits","AdSlots","NewItems_NewSlotDialog","Dashboard","mobileOpen","setMobileOpen","getAllItems","analyticsLoop","start","campaignsLoop","statsLoop","drawer","dashboard_SideNav","TopBar","Hidden","mdUp","Drawer","anchor","ModalProps","keepMounted","smDown","implementation","Route","containers_Campaign_Campaign","containers_Unit_Unit","containers_Slot_Slot","account_AccountInfo","DashboardStats_DashboardStats","signinContainer","backgroundRepeat","backgroundSize","backgroundPosition","backgroundImage","require","buttons","adxVersion","adexLogoTop","logo","noBg","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","selectRegistrationAllowed","auth","selectAuth","getAllWallets","w","goTo","confirmLogout","toExecute","confirmAction","m","AuthSelect_RRButton","initIdentity","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","IdentityHoc","IdentityForm","updateIdentity","login","resetIdentity","ready","waitingExpected","waiting","waitingUpload","NewItemHoc","updateValidationErrors","AuthHoc","Auth","updateWallet","hdWalletAddrPath","hdWalletAddrIdx","chainId","signType","method","sideSelect","addrListItem","addrInfo","& strong","addrInfoLabel","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","balanceEth","tokensBalances","balance","installingMetamask","setInstallingMetamask","setAddress","_useState5","_useState6","setStats","_useState7","_useState8","waitingMetamaskAction","setWaitingMetamaskAction","_useState9","_useState10","waitingAddrsData","setWaitingAddrsData","isOpera","opr","opera","navigator","userAgent","_useState11","_useState12","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","ethereumProvider","getEthereumProvider","setEth","onfocus","reload","checkMetamask","provider","metamaskSigner","_address","_stats","getEthers","getSigner","getAddress","getAddressBalances","t0","tabBox","paragraph","METAMASK_IMG","dangerouslySetInnerHTML","__html","METAMASK_DL_IMG","metamaskLAbel","AuthTrezor","connectTrezor","waitingTrezorAction","trezorSigner","addresses","allAddressesData","getAddresses","payload","results","hdPath","AddressSelect","onAddrSelect","selectedAddress","addrData","TREZOR_DL_IMG","AuthLedger","connectLedger","waitingLedgerAction","ledgerSigner","LEDGER_DL_IMG","AuthMethod","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","ownerAuth_AuthLedger","IdentityContractOwnerStep","validateContractOwner","identityContractOwner","currOwner","ownerAuth_AuthMethod","QuickInfo","selectIdentity","emailCheck","passwordCheck","tosCheck","validateEmail","validateEmailCheck","validatePassword","validatePasswordCheck","validateTOS","QuickDeploy","walletAddr","QuickLogin","getIdentitiesForDropdown","ownerIdentities","FullLogin","identityContractAddress","updateOwnerIdentities","owner","FulInfo","ExternalConnect","connectType","identity_FullLogin","FullInfo","IdentitySteps","mapPages","GoBtn","_this$props$stepsPage","goToNextPageIfValid","final","infoPaper","gutters","finalValidationQuick","onInvalid","validateQuickLogin","finalValidationStandard","validateStandardLogin","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ConnectedCreateQuickIdentity","JustDialog","identity_IdentitySteps","validateQuickInfo","validateQuickDeploy","ConnectedQuickLogin","ConnectedLoginStandardIdentity","IdentityContractOwner","ConnectedRoot","PrivateRoute","render","Redirect","getRelayerConfig","metamaskChecks","migrateLegacyWallet","removeLegacyKey","ensureQuickWalletBackup","handleLegacyWallet","metamaskNetworkCheck","updateRegistrationAllowed","Root_PrivateRoute","noBackground","onBeforeLift","App","CssBaseline","ThemeProvider","es","store","integration_react","persistor","esm","CacheBuster","react_router_dom","App_Root","toast_Toast","confirm_Confirm","hostname","ReactDOM","components_App_App","getElementById","serviceWorker","registration","unregister","__webpack_exports__","isDemoMode","actions__WEBPACK_IMPORTED_MODULE_0__","services_store_data_campaigns__WEBPACK_IMPORTED_MODULE_1__","services_store_data_account__WEBPACK_IMPORTED_MODULE_2__","services_store_data_analytics__WEBPACK_IMPORTED_MODULE_3__","connected_react_router__WEBPACK_IMPORTED_MODULE_4__","skipRedirect","resetAllItems","resetAllNewItems","resetAllBids","resetAccount","resetAnalytics","getState","getValidatorRequester","baseUrl","Requester","getRequesters","requester","validator","processResponse","json","Error","statusText","getValidatorAuthToken","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","validatorId","existingAuth","signer","validatorAuthTokens","era","ewt","sign","sendMessage","_ref7","_authTokens","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","fetch","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","headers","authorization","authTokens","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","lastApprovedState","_ref8","route","_ref9","body","events","Content-Type","identityAnalytics","_ref11","_ref10","campaignId","leaderAuth","limit","aggregates","idenityAddr","queryParams","_x3","video","videoWidth","videoHeight","getVideoSize","getImageSize","maxPercentTolerance","targetAspect","aspectDiff","abs","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_ALL_BIDS","RESET_ALL_BIDS","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","RESET_ANALYTICS","AdExCore","contracts","Core","Interface","abi","Identity","IdentityABI","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","toEthereumChannel","channel","specHash","crypto","createHash","digest","Channel","creator","tokenAddr","depositAsset","tokenAmount","validUntil","v","getReadyCampaign","newCampaign","period","getValidUntil","nonce","randomBytes","unit","div","maxPerImpression","eventSubmission","uids","rateLimit","lastChecked","getExpiredWithdrawnOutstanding","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default","withdrawn","functions","states","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__","ChannelState","Active","sub","getWithdrawnPerUserOutstanding","withdrawnPerUser","t1","getChannelsWithOutstanding","_getChannelsWithOutstanding","channels","_ref16","feeTokenWhitelist","routineWithdrawTokens","eligible","getAllCampaigns","selectFeeTokenWhitelist","selectRoutineWithdrawTokens","lastApprovedSigs","validBalances","_e","_unused","_channel$status","bTree","BalanceTree","_ref17","getBalance","isZero","_ref19","_ref18","outstanding","outstandingAvailable","_x9","gt","minWeekly","getChannelsToSweepFrom","_callee5","amountToSweep","allChannels","_allChannels$sort$red","_context5","c1","c2","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","sum","lt","add","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","splitSig","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","txns","routineAuthTuple","_txns$reduce","updated","routineOpts","RoutineOps","channelWithdraw","withdrawAmountByToken","feeTokenAddr","identityContract","executeRoutines","encode","routinesTxCount","routinesSweepTxCount","getIdentityRoutineAuthTuple","relayerData","deployData","routineAuthorizationsData","hasValidExecuteRoutines","getSweepChannelsTxns","_x5","_getSweepChannelsTxns","_callee6","_ref20","channelsToSweep","encodedTxns","_context6","toSolidityTuple","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","isSweepTx","getSwapAmountsByToken","_ref12","_balances$reduce","swaps","swapsSumInMainToken","balanceMainToken","swapsByToken","getSweepingTxnsIfNeeded","_x6","_getSweepingTxnsIfNeeded","_callee7","_ref13","amountInMainTokenNeeded","needed","_ref21","mainTokenBalance","currentBalanceInUse","sweepData","_getSwapAmountsByToke","_context7","getWithdrawTokensBalances","sweepTxns","swapAmountsByToken","amountToSwapInMainToken","_x7","_openChannel","_callee8","_ref14","_ref22","getToken","readyCampaign","openReady","ethChannel","approveTxns","channelOpenTx","txnsByFeeToken","mtBalance","maxAvailable","_context8","raw","selectMainFeeToken","hashHex","getApproveTxns","approveForAddress","approveAmount","channelOpen","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","getIdentityTxnsWithNoncesAndFees","getIdentityTxnsTotalFees","totalBN","total","processExecuteByFeeTokens","extraData","closeChannel","_x8","_closeChannel","_callee9","_ref15","_context9","_build_Identity_json__WEBPACK_IMPORTED_MODULE_0__","_build_AdExCore_json__WEBPACK_IMPORTED_MODULE_1__","_build_Dai_json__WEBPACK_IMPORTED_MODULE_2__","_build_IdentityFactory_json__WEBPACK_IMPORTED_MODULE_3__","_abi_ERC20Token_json__WEBPACK_IMPORTED_MODULE_4__","DAI","Dai","IdentityFactory","ERC20","adex_models__WEBPACK_IMPORTED_MODULE_0__","services_translations_translations__WEBPACK_IMPORTED_MODULE_1__","locations","AllCountries","country","genders","Genders","Looper","syncAction","loopName","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","clearLoopTimeout","loopTimeout","syncData","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","opts","startLoop","checkLoop","AdexNodeRequester","getAuthHeaders","authSig","authSignature","selectAuthSig","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","_ref3$route","_ref3$queryParams","_ref3$method","_ref3$headers","_ref3$authSig","userAddr","_ref3$noCache","authToken","noCache","qp","demo","getQuery","hdrs","Buffer","encrypt","decrypt","encryptLegacy","decryptLegacy","getKeyHash","hash","iv","cipher","createCipheriv","encr","encrypted","textParts","shift","encryptedText","decipher","createDecipheriv","decr","createCipher","crypted","createDecipher","dec","history__WEBPACK_IMPORTED_MODULE_0__","createHashHistory","LOOP_TIMEOUT","MOON_GRAVITY_ACCELERATION","MOON_TO_EARTH_WEIGHT","syncCampaigns","updateUserCampaigns","Loop","_loop__WEBPACK_IMPORTED_MODULE_0__","actions__WEBPACK_IMPORTED_MODULE_1__","accountStatsLoop","updateAccountStats","ETHEREUM_NETWORKS","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_SIDES","VALIDATOR_ANALYTICS_EVENT_TYPES","adex_constants__WEBPACK_IMPORTED_MODULE_0__","adex_models__WEBPACK_IMPORTED_MODULE_1__","BID_STATES","ExchangeConstants","TIMEOUTS","SignatureModes","GETH","GRANT","QUICK","SEED","1","for","5","production","development","utm_source","utm_medium","utm_campaign","utm_content","setLang","adex_translations__WEBPACK_IMPORTED_MODULE_0__","adex_translations__WEBPACK_IMPORTED_MODULE_0___default","react_dom_server__WEBPACK_IMPORTED_MODULE_1__","translations","adexTranslations","lang","translation","tpl","_","arg","renderToString","interpolate","lng","updateAccountAnalytics","isEthAddressERC20","contract","isEthAddress","ethers","Contract","ERC20TokenABI","totalSupply","balanceOf","AddressZero","allowance","getERC20Balance","_ref3$addr","_ref3$balanceFor","balanceFor","createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","createSelector","selectAccountStats","settings","router","selectSpinners","ids","allowRegistration","selectTranslations","_opts$isProp","_opts$args","analytics","selectAnalyticsDataAggr","aggr","eventCounts","eventPayouts","_ref10$data","memo","time","parseValueByMetric","selectValidations","selectRelayerConfig","config","relayer","tokens","relayerConfig","selectSaiToken","saiAddr","translationsSelectors_t","configSelectors_selectRelayerConfig","constants_misc__WEBPACK_IMPORTED_MODULE_1__","initialState","Account","signin","passConfirm","publicKey","seedCheck","authenticated","currentItem","web3Transactions","ethNetwork","networkId","gasData","market","getValidatorAnalyticsInitialState","ethers_utils__WEBPACK_IMPORTED_MODULE_0__","timestamp","amountString","pretty","formatUnits","substring","setLogLevel","getEthersResult","adexCore","coreAddr","getAdexCore","_selectRelayerConfig3","standard","getMainToken","identityFactory","identityFactoryAddr","getIdentityFactory","MainToken","getIdentity","localWeb3","providers","JsonRpcProvider","loadInjectedWeb3","addEventListener","ethereum","web3","injectedWeb3","enable","Web3Provider","getLocalWeb3","ethereumSelectedAddress","ethereumNetworkId","networkVersion","isMetaMask","DEFAULT_HD_PATH","LedgerSigner","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","addrsFromPubKey","chainCode","_ref2$from","_ref2$to","hdKey","addrs","derivedKey","HDKey","derive","publicExtendedKey","HDNode","fromExtendedKey","_ref4$from","_ref4$to","transport","eth","_args2","_transport","create","LedgerEth","signTx","txProps","txUnsigned","r","s","signature","txSigned","resolveProperties","serializeTransaction","signTransaction","sendTransaction","txData","signMessage","_args5","hex","toUtf8Bytes","hexlify","signPersonalMessage","joinSignature","_provider","_path","TransportU2F","Signer","types","updateUi","category","_ref$label","_ref$timeout","getGuid","toastId","_ref2$confirmLabel","_ref2$cancelLabel","_ref2$title","_ref2$text","changeLanguage","URLSearchParams","get","refreshCacheAndReload","_ref3$notification","notification","caches","names","delete","addSig","_ref$addr","sig","expiryTime","_ref$identity","localStorage","setItem","getSig","_ref2$addr","_ref2$identity","sigAndTIme","getItem","getErrorMsg","updateSignin","resetSignin","createAccount","updateAccount","meta","updateGasData","withBalance","getOutstandingBalance","getAccountStats","updateValidatorAuthTokens","newAuth","newIdentity","newTokens","_x4","createSession","_ref7$identity","deleteLegacyKey","newWallet","sessionSignature","typedData","leaderValidatorAuth","checkSession","skipErrToast","getAuthSig","getSession","signerAddress","cfg","getRelayerConfigData","getNetworkId","_callee11","_context11","getNetwork","getNetworkData","_callee12","network","_context12","onMetamaskNetworkChange","_getState","isMetamaskMatters","t2","t3","t4","t5","onMetamaskAccountChange","accountAddress","hasAuth","_account$wallet","_x10","_x11","metamaskAccountCheck","_x12","_x13","_x14","_x15","on","accounts","_x16","_x17","hasBackup","_callee13","salt","_ref23","encryptedWallet","_context13","generateSalt","getWalletHash","getQuickWallet","makeBackup","_callee14","walletSalt","walletHash","_context14","backupWallet","_callee10","_selectWallet","isLocal","_context10","_x20","_x21","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","uploadImage","imageBlob","imageName","Base","updateObject","imageIpfs","resItem","postAdUnit","marketAdd","_selectRelayerConfig","resUnit","passback","postAdSlot","slots","resUnits","resSlots","getAdUnits","getAdSlots","updateItems","getAllValidatorsAuthForIdentity","_selectRelayerConfig2","updatedItem","marketUpdate","updateAdSlot","updateAdUnit","updateCampaign","deleteItem","_deleted","restoreItem","successMsg","findSourceByTag","response","mediaURL","mediaSize","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","updateTags","addNewTag","updateCampaignState","getHumanFriendlyName","_ref24","_selectAccount","campaigns","getCampaigns","_ref25","_ref26","_ref27","closeCampaignMarket","_getState$persist$acc","validEthAddress","nonZeroAddr","nonERC20","newErrors","_ref4$err","_ref4$dirty","_ref4$removeAll","validEmail","validPassword","accepted","resetWallet","onUploadLocalWallet","reader","onError","files","FileReader","privileges","saveToLocalStorage","abort","readAsText","identityData","getOwnerIdentities","_data","getIdentityData","_selectIdentity","identityTxData","registerAccount","regAccount","currentPrivileges","isLimitedVolume","actualAuthType","walletData","getLocalWallet","walletInfo","identityPrivileges","handleAfterValidation","identityDataSplit","createLocalWallet","getIdentityDeployData","addDataToWallet","dataKey","dataValue","every","_x18","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","analyticsParams","callsParams","checkAccountChanged","accountCheck","_getState$persist","accountChanged","allAnalytics","itemActions","uiActions","accountActions","identityActions","bidActions","transactionActions","validationActions","analyticsActions","HEADER","base64","alg","payloadEncoded","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","parts","verifyMessage","decode","Module","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","selectors__WEBPACK_IMPORTED_MODULE_2__","_package_json__WEBPACK_IMPORTED_MODULE_3__","actions__WEBPACK_IMPORTED_MODULE_4__","random","cache","latestVersion","versionA","versionB","versionsA","versionsB","isNaN","semverGreaterThan","appVersion","ethers__WEBPACK_IMPORTED_MODULE_0__","pbkdf2__WEBPACK_IMPORTED_MODULE_1__","pbkdf2__WEBPACK_IMPORTED_MODULE_1___default","services_crypto_crypto__WEBPACK_IMPORTED_MODULE_2__","helpers_localStorageHelpers__WEBPACK_IMPORTED_MODULE_3__","constants_misc__WEBPACK_IMPORTED_MODULE_4__","getCipherKey","pass","pbkdf2","pbkdf2Sync","isLegacyCrypto","generateWallet","mnemonic","randomEntropy","entropyToMnemonic","getRandomMnemonic","Wallet","fromMnemonic","privateKey","encrKey","encrData","_ref3$email","isLegacy","jsonData","toLocaleLowerCase","_ref5$email","_ref5$password","_ref5$authType","_ref6$email","_ref6$password","getEncrypted","newKey","_ref7$email","_ref7$password","removeFromLocalStorage","_ref8$email","_ref8$password","_ref8$dataKey","_ref8$dataValue","loadFromLocalStorage","_ref4$email","decryptedStr","decrData","mail","getKeys","isWallet","passwordId","dataStr","keccak256","alpha","substr","hexToDec","h","g","stack","isInt","int","shuffleArray","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","initial","isMoment","dontThrow","_ref3$imageName","formData","FormData","append","convertItemToJSON","itemToConvert","unix","byCreator","isConnectionLost","race","getBlockNumber","urlRegex","emailRegex","passwordRegex","numberStr","isFinite","isEthAddressZero","ethAddressZero","ethAddressERC20","tokenAvailableBalance","feeToken","lte","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","balancesCalls","totalBalanceInMainToken","tokenContract","available","tokenInMainTokenValue","_getAddressBalances","calls","serializedPath","formatEther","_getAccountStats","_ref7$outstandingBala","_identity$status","privilegesAction","_ref18$","identityWithdrawTokensBalancesBalances","deployed","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","mainTokenDecimals","totalOutstandingBalanceMainToken","totalIdentityBalanceMainToken","_getOutstandingBalance","bigZero","allOutstanding","amounts","ch","_getAllValidatorsAuthForIdentity","allValidators","tokenCalls","allTokens","validatorsAuth","_objectSpread2","usdPriceMapping","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","valueInUSD","price","balanceInUSD","usdToMainTokenBalance","balanceUSD","balanceInMainToken","TrezorConnect","manifest","appUrl","TrezorSigner","getAddsParams","_ref$from","_ref$to","bundle","showOnTrezor","_ref3$from","_ref3$to","ethereumGetAddress","ethereumSignTransaction","_args4","ethereumSignMessage","LocalSigner","_wallet","signetTx","arrayify","MetaMaskSigner","_signer","_args3","_getSigner","_signer2","_signer3","getTypedDataHash","entry","valuesHash","schemaHash","solidityKeccak256","_getAuthSig","MAX_SAFE_INTEGER","_signTx","Transaction","getMultipleTxSignatures","_getMultipleTxSignatures","signatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","executeTx","services_requester__WEBPACK_IMPORTED_MODULE_0__","txnsRaw","bytecode","baseIdentityAddr","routineAuthorizationsRaw","updateCfg","newCfg","persistReducers","newState","filterActions","collectionId","addItem","toAdd","newCol","removeCollectionProp","removeItem","toRemove","newItems","currentItems","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","pTxs","updateObj","txHash","memoryReducers","newSignin","newToast","added","hasOwnProperty","updateTx","reduxRouterMiddleware","routerMiddleware","configStorage","storage","rootReducer","combineReducers","persistCombineReducers","connectRouter","configureStore","middlewares","thunk","createStore","compose","applyMiddleware","persistStore","store_store","store_persistor","ScdMcdMigration","ScdMcdMigrationABI","SCD_MCD_MIGRATION_ADDR","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","identityRecoveryAddr","outpace","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","_withdrawFromIdentity","toWithdraw","withdrawTx","maxWithdraw","actualWithdrawAmount","transfer","_setIdentityPrivilege","identityInterface","tx1","setAddrPrivilege","txnsByTokenWithSaiToDaiSwap","daiAddr","saiWithdrawAmount","_getIdentityTxnsWithNoncesAndFees","_ref5$amountInMainTok","_ref5$txns","_ref12$sweepTxns","_ref12$swapAmountsByT","saiToken","isDeployed","initialNonce","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","toNumber","swapSaiToDaiTxns","swapAmount","t6","Set","_tx$routinesTxCount","_tx$routinesSweepTxCo","minFeeAmount","minDeploy","routinesFeeAmount","feeAmount","nonIdentityBalanceFeeAmount","txWithNonce","_getApproveTxns","approve","swapTx","swapSaiToDai","_getIdentityTxnsTotalFees","_ref8$mainToken","byToken","byFeeToken","txFeeAmount","_feeTokenWhitelist$ke","feeFormatted","_processExecuteByFeeTokens","_ref9$extraData","serialized","warn"],"mappings":"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","file":"static/js/main.ea18cfb2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport Button from '@material-ui/core/Button'\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst variantIcon = {\r\n\taccept: CheckCircleIcon,\r\n\tsuccess: CheckCircleIcon,\r\n\twarning: WarningIcon,\r\n\tcancel: ErrorIcon,\r\n\terror: ErrorIcon,\r\n\tinfo: InfoIcon,\r\n}\r\n\r\nexport class Toast extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tactive: false,\r\n\t\t\ttoast: {},\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tlet toast = this.state.toast\r\n\t\tlet nextToast = nextProps.toasts[0]\r\n\r\n\t\tif (!nextToast) {\r\n\t\t\tthis.setState({ active: false, toast: {} })\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\r\n\r\n\t\tif (isNewToast) {\r\n\t\t\tthis.setState({ active: true, toast: nextToast })\r\n\t\t}\r\n\t}\r\n\r\n\tclose = id => {\r\n\t\tthis.setState({ active: false })\r\n\t\tthis.props.actions.removeToast(id)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { toast } = this.state\r\n\t\tconst { classes } = this.props\r\n\t\tconst Icon = variantIcon[toast.type]\r\n\r\n\t\tif (!toast || !Icon) return null\r\n\r\n\t\tconst anchorOrigin = toast.anchorOrigin || {\r\n\t\t\tvertical: 'bottom',\r\n\t\t\thorizontal: 'center',\r\n\t\t}\r\n\r\n\t\tif (toast.top) {\r\n\t\t\tanchorOrigin.horizontal = 'center'\r\n\t\t\tanchorOrigin.vertical = 'top'\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Snackbar\r\n\t\t\t\topen={this.state.active}\r\n\t\t\t\tautoHideDuration={toast.timeout || 0}\r\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\tanchorOrigin={anchorOrigin}\r\n\t\t\t>\r\n\t\t\t\t<SnackbarContent\r\n\t\t\t\t\taria-describedby='client-snackbar'\r\n\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t<span id='client-snackbar' className={classes.message}>\r\n\t\t\t\t\t\t\t<Icon className={classnames(classes.icon, classes.iconVariant)} />\r\n\t\t\t\t\t\t\t{(toast.label || '').toString()}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t\taction={[\r\n\t\t\t\t\t\ttoast.action && toast.action,\r\n\t\t\t\t\t\t!toast.unclosable && (\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tkey='close'\r\n\t\t\t\t\t\t\t\taria-label='Close'\r\n\t\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\t\tclassName={classes.close}\r\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CloseIcon className={classes.icon} />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tclassName={classnames(classes.snackbar, {\r\n\t\t\t\t\t\t[classes.top]: !!toast.top,\r\n\t\t\t\t\t\t[classes.accept]: toast.type === 'accept',\r\n\t\t\t\t\t\t[classes.cancel]: toast.type === 'cancel',\r\n\t\t\t\t\t\t[classes.warning]: toast.type === 'warning',\r\n\t\t\t\t\t})}\r\n\t\t\t\t/>\r\n\t\t\t</Snackbar>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nToast.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\ttoasts: PropTypes.array.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\t// let persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\ttoasts: memory.toasts || [],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Toast))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsnackbar: {\r\n\t\t\tborder: '3px solid',\r\n\t\t\tborderRadius: 0,\r\n\t\t\tbackgroundColor: '#222',\r\n\t\t\t'&.active': {\r\n\t\t\t\ttransform: 'translateY(-20%)',\r\n\t\t\t},\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tborderColor: '#FFAB00',\r\n\t\t\tcolor: '#FFAB00',\r\n\t\t},\r\n\t\tcancel: {\r\n\t\t\tborderColor: '#FF5722',\r\n\t\t\tcolor: '#FF5722',\r\n\t\t},\r\n\t\taccept: {\r\n\t\t\tborderColor: '#00E676',\r\n\t\t\tcolor: '#00E676',\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\ticonVariant: {\r\n\t\t\topacity: 0.9,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tmessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\twidth: '98vw',\r\n\t\t\tmaxWidth: '98vw',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { translate } from 'services/translations/translations'\r\nimport { selectLang } from 'selectors'\r\n\r\nexport default function Translate(Decorated) {\r\n\tfunction Translated(props) {\r\n\t\tconst language = useSelector(selectLang)\r\n\r\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\r\n\t\t\tconst translation = translate(val, { isProp, args }, language)\r\n\r\n\t\t\treturn translation\r\n\t\t}\r\n\r\n\t\treturn <Decorated {...props} t={t} />\r\n\t}\r\n\r\n\treturn Translated\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport Button from '@material-ui/core/Button'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport class Confirm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.cancel = this.cancel.bind(this)\r\n\t\tthis.confirm = this.confirm.bind(this)\r\n\t\tthis.state = {\r\n\t\t\tactive: false,\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tthis.setState({ active: nextProps.visible })\r\n\t}\r\n\r\n\tconfirm() {\r\n\t\tif (typeof this.props.confirm === 'function') {\r\n\t\t\tthis.props.confirm()\r\n\t\t}\r\n\t\tthis.setState({ active: false })\r\n\t}\r\n\r\n\tcancel() {\r\n\t\tif (typeof this.props.cancel === 'function') {\r\n\t\t\tthis.props.cancel()\r\n\t\t}\r\n\r\n\t\tthis.setState({ active: false })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\ttitle,\r\n\t\t\ttext,\r\n\t\t\tchildren,\r\n\t\t\tcancelLabel,\r\n\t\t\tconfirmLabel,\r\n\t\t\tt,\r\n\t\t\tnoActionBtns,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<Dialog open={this.state.active}>\r\n\t\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<DialogContentText id='alert-dialog-description'>\r\n\t\t\t\t\t\t{text}\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t{!noActionBtns && (\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.cancel} color='primary'>\r\n\t\t\t\t\t\t\t{cancelLabel || t('CANCEL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={this.confirm} color='primary' autoFocus>\r\n\t\t\t\t\t\t\t{confirmLabel || t('OK')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t)}\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nConfirm.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tcancelLabel: PropTypes.string,\r\n\tconfirmLabel: PropTypes.string,\r\n\ttitle: PropTypes.string.isRequired,\r\n\ttext: PropTypes.string,\r\n\tconfirm: PropTypes.func,\r\n\tcancel: PropTypes.func,\r\n\tvisible: PropTypes.bool,\r\n\tcalledOn: PropTypes.number,\r\n\tnoActionBtns: PropTypes.bool,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tstate = state.memory\r\n\treturn {\r\n\t\tcancelLabel: state.confirm.data.cancelLabel,\r\n\t\tconfirmLabel: state.confirm.data.confirmLabel,\r\n\t\ttitle: state.confirm.data.title || '',\r\n\t\ttext: state.confirm.data.text || '',\r\n\t\tconfirm: state.confirm.onConfirm,\r\n\t\tcancel: state.confirm.onCancel,\r\n\t\tvisible: state.confirm.active || false,\r\n\t\tcalledOn: state.confirm.calledOn,\r\n\t\tnoActionBtns: state.confirm.noActionBtns,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(Confirm))\r\n","import React from 'react'\r\n// import PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router'\r\n\r\nexport const withReactRouterLink = Component => {\r\n\tclass Decorated extends React.Component {\r\n\t\tresolveToLocation = to => {\r\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\r\n\t\t\tconst href = this.props.history.createHref(path)\r\n\t\t\treturn href\r\n\t\t}\r\n\r\n\t\thandleClick = async event => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tevent.stopPropagation()\r\n\t\t\tconst { to, onClick } = this.props\r\n\r\n\t\t\tif (onClick && typeof onClick === 'function') {\r\n\t\t\t\tawait onClick()\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// TODO: check if it works without infinite loops\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//   // const { to } = this.props;\r\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\r\n\t\t// }\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tto,\r\n\t\t\t\tmatch,\r\n\t\t\t\tlocation,\r\n\t\t\t\thistory,\r\n\t\t\t\tstaticContext,\r\n\t\t\t\tonClick,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst toLocation = this.resolveToLocation(to)\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Component {...rest} href={toLocation} onClick={this.handleClick} />\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\treturn withRouter(Decorated)\r\n}\r\n","import React from 'react'\r\nimport SvgIcon from '@material-ui/core/SvgIcon'\r\nimport pure from 'recompose/pure'\r\n\r\nexport default (path, displayName, viewBox = '') => {\r\n\tlet Icon = props => (\r\n\t\t<SvgIcon viewBox={viewBox} {...props}>\r\n\t\t\t{path}\r\n\t\t</SvgIcon>\r\n\t)\r\n\r\n\tIcon.displayName = displayName\r\n\tIcon = pure(Icon)\r\n\tIcon.muiName = 'SvgIcon'\r\n\r\n\treturn Icon\r\n}\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\r\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\r\n\t</g>,\r\n\r\n\t'Campaign',\r\n\t'0 0 26.12 17.37'\r\n)\r\n","import React from 'react'\r\nimport Link from '@material-ui/core/Link'\r\n\r\nconst getUrl = url => {\r\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\r\n\tif (url) {\r\n\t\turl = '//' + url\r\n\t}\r\n\r\n\treturn url\r\n}\r\n\r\nconst Anchor = ({ href, target, children, label, ...rest }) => {\r\n\tlet url = target && target === '_blank' ? getUrl(href) : href\r\n\treturn (\r\n\t\t<Link\r\n\t\t\tunderline='none'\r\n\t\t\tcolor='inherit'\r\n\t\t\tdraggable='false'\r\n\t\t\trel='noopener noreferrer'\r\n\t\t\t{...rest}\r\n\t\t\ttarget={target}\r\n\t\t\thref={url}\r\n\t\t\tstyle={{ wordBreak: 'break-all' }} // TODO: add it where needed only\r\n\t\t>\r\n\t\t\t{children || label}\r\n\t\t</Link>\r\n\t)\r\n}\r\n\r\nexport default Anchor\r\n","const drawerWidth = 250\r\n\r\nexport const styles = theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tzIndex: 1,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tposition: 'relative',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\twidth: 'auto',\r\n\t\t\tposition: 'fixed',\r\n\t\t\t// marginLeft: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\r\n\t\t\t\tleft: drawerWidth,\r\n\t\t\t},\r\n\t\t\tbackgroundColor: '#eee',\r\n\t\t\tcolor: '#000',\r\n\t\t},\r\n\t\tflex: {\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexBasis: '100%',\r\n\t\t\tpaddingTop: theme.spacing(1),\r\n\t\t\tpaddingBottom: theme.spacing(1),\r\n\t\t\t'&:last-child': {\r\n\t\t\t\tpaddingRight: 240,\r\n\t\t\t\tpaddingTop: theme.spacing(1),\r\n\t\t\t\tpaddingBottom: theme.spacing(1),\r\n\t\t\t\tpaddingLeft: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbarControls: {\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t},\r\n\t\ttoolbarTitle: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t},\r\n\t\tnavIconHide: {\r\n\t\t\tmarginRight: 10,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tflexFlow: 'wrap',\r\n\t\t\theight: 114,\r\n\t\t\t...theme.mixins.toolbar,\r\n\t\t},\r\n\t\tdrawerPaper: {\r\n\t\t\twidth: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: '#fff',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t\tpadding: theme.spacing(3),\r\n\t\t\tpaddingTop: theme.spacing(5),\r\n\t\t\toverflow: 'auto',\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmarginLeft: drawerWidth,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontentInner: {\r\n\t\t\tmaxWidth: 1600,\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\theight: 36,\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\n\r\nconst EddieSwitch = withStyles(theme => {\r\n\tconst advColor = theme.palette.accentOne.main\r\n\tconst pubColor = theme.palette.accentTwo.main\r\n\treturn {\r\n\t\tswitchBase: {\r\n\t\t\tcolor: advColor,\r\n\r\n\t\t\t'&$checked': {\r\n\t\t\t\tcolor: pubColor,\r\n\t\t\t},\r\n\t\t\t'&$checked + $track': {\r\n\t\t\t\tbackgroundColor: pubColor,\r\n\t\t\t},\r\n\t\t},\r\n\t\tchecked: {},\r\n\t\ttrack: { backgroundColor: advColor },\r\n\t}\r\n})(Switch)\r\n\r\nconst RRSwitch = withReactRouterLink(props => (\r\n\t<ListItem>\r\n\t\t<ListItemText primary={props.label} />\r\n\t\t<ListItemSecondaryAction>\r\n\t\t\t<EddieSwitch {...props} />\r\n\t\t</ListItemSecondaryAction>\r\n\t</ListItem>\r\n))\r\n\r\nconst SideSwitch = ({ side, t }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* Keep both if there is no valid side and force react to rerender at the same time */}\r\n\t\t\t{side !== 'advertiser' && (\r\n\t\t\t\t<RRSwitch\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tchecked={true}\r\n\t\t\t\t\tvalue='account'\r\n\t\t\t\t\tto={{ pathname: '/dashboard/advertiser' }}\r\n\t\t\t\t\tlabel={t('PUBLISHER')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{side !== 'publisher' && (\r\n\t\t\t\t<RRSwitch\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tchecked={false}\r\n\t\t\t\t\tto={{ pathname: '/dashboard/publisher' }}\r\n\t\t\t\t\tlabel={t('ADVERTISER')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideSwitch\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(27, 117, 188)'\r\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\r\n\t\t/>\r\n\t</g>,\r\n\t'AdexIcon',\r\n\t'0 0 185 72'\r\n)\r\n","import React from 'react'\r\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\r\n\r\nexport const InputLoading = ({ className, color = 'primary' }) => (\r\n\t<LinearProgress className={className} color={color} />\r\n)\r\n\r\nexport const LoadingSection = ({ loading, children }) => (\r\n\t<Box display='flex' flex='1' alignItems='center'>\r\n\t\t<Box>{children}</Box>\r\n\t\t<Box ml={2} mr={2}>\r\n\t\t\t{loading && <CircularProgress />}\r\n\t\t</Box>\r\n\t</Box>\r\n)\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport classnames from 'classnames'\r\nimport packageJson from './../../../../package.json'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { styles } from './styles'\r\nimport SideSwitch from './SideSwitch'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport DashboardIcon from '@material-ui/icons/Dashboard'\r\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport ListIcon from '@material-ui/icons/List'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport {\r\n\tt,\r\n\tselectSide,\r\n\tselectLocation,\r\n\tselectAccountIdentityAddr,\r\n\tselectAccountStatsFormatted,\r\n} from 'selectors'\r\n\r\nconst RRListItem = withReactRouterLink(ListItem)\r\nconst { ETH_SCAN_ADDR_HOST } = process.env\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.contrastText\r\n\t\t\t: theme.palette.accentTwo.contrastText\r\n\r\n\tconst activeBgColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.main\r\n\t\t\t: theme.palette.accentTwo.main\r\n\r\n\treturn {\r\n\t\tnavigation: {\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t},\r\n\t\tsntPadding: {\r\n\t\t\tpaddingTop: 0,\r\n\t\t},\r\n\t\tnavListRoot: {\r\n\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tnavList: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 80,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t},\r\n\t\tsideNavToolbar: {},\r\n\t\tversion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tpadding: 10,\r\n\t\t\tpaddingLeft: 16,\r\n\t\t\tborderTopWidth: 1,\r\n\t\t\tborderTopColor: theme.palette.divider,\r\n\t\t\tborderTopStyle: 'solid',\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: activeColor,\r\n\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t'&:focus': {\r\n\t\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t},\r\n\t\t},\r\n\t\tadxLink: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst useCommonStyles = makeStyles(styles)\r\n\r\nfunction SideNav(props) {\r\n\tconst side = useSelector(selectSide)\r\n\tconst identity = useSelector(selectAccountIdentityAddr)\r\n\tconst classes = useStyles({ side })\r\n\tconst commonClasses = useCommonStyles()\r\n\tconst routerLocation = useSelector(selectLocation)\r\n\r\n\t// TODO: test location\r\n\tconst location = routerLocation.pathname.split('/')[3]\r\n\tconst isAdvertiser = side === 'advertiser'\r\n\tconst items = isAdvertiser ? 'units' : 'slots'\r\n\tconst { availableIdentityBalanceMainToken, mainTokenSymbol } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\r\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\r\n\t\t<div className={classes.navigation}>\r\n\t\t\t<List\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\tpadding: classes.sntPadding,\r\n\t\t\t\t\troot: classes.navListRoot,\r\n\t\t\t\t}}\r\n\t\t\t\tclassName={classes.navList}\r\n\t\t\t\tcomponent='nav'\r\n\t\t\t>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tcommonClasses.toolbar,\r\n\t\t\t\t\t\t\tclasses.sideNavToolbar\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<AdexIconTxt className={commonClasses.icon} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceMainToken &&\r\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemText>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='h6' component='div' color='textPrimary'>\r\n\t\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t\t0} ${mainTokenSymbol}`}</strong>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='button' display='block' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</ListItemText>\r\n\t\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<SideSwitch side={side} t={t} />\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<DashboardIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t{side === 'advertiser' && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\r\n\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<CampaignIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\r\n\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\r\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === items })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<ListIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://medium.com/adex-network-tips-and-tricks'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<HelpOutlineIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\r\n\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t[classes.active]: location === 'account',\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t</div>\r\n\t\t\t</List>\r\n\t\t\t<div className={classes.version}>\r\n\t\t\t\t<div className={classes.adxLink}>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdEx Network OÜ\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdEx (ADX) Token\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t\t<small> / </small>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdExCore\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref='https://github.com/AdExBlockchain/adex-dapp/blob/master/CHANGELOG.md'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tv.{packageJson.version}-beta\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideNav\r\n","import React, { useState } from 'react'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nconst ImgIcon = ({ src }) => {\r\n\treturn (\r\n\t\t<img\r\n\t\t\tsrc={src}\r\n\t\t\theight={36}\r\n\t\t\twidth='auto'\r\n\t\t\talt='logo'\r\n\t\t\tstyle={{ marginRight: 5 }}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\r\n\tconst [active, setActive] = useState(false)\r\n\tconst [anchorEl, setAnchorEl] = useState(null)\r\n\tconst open = Boolean(anchorEl)\r\n\r\n\tconst handleButtonClick = () => {\r\n\t\tsetActive(!active)\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\r\n\tconst handleMenu = event => {\r\n\t\tsetAnchorEl(event.currentTarget)\r\n\t}\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\r\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button\r\n\t\t\t\tstyle={btnStyle}\r\n\t\t\t\tonClick={handleMenu}\r\n\t\t\t\taria-owns={id}\r\n\t\t\t\taria-haspopup='true'\r\n\t\t\t>\r\n\t\t\t\t{leftIcon}\r\n\t\t\t\t<span\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmaxWidth: 150,\r\n\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</span>\r\n\t\t\t\t{rightIcon}\r\n\t\t\t</Button>\r\n\t\t\t<Menu\r\n\t\t\t\tid={id}\r\n\t\t\t\topen={open}\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\t// anchorOrigin={{\r\n\t\t\t\t// \tvertical: 'top',\r\n\t\t\t\t// \thorizontal: 'right',\r\n\t\t\t\t// }}\r\n\t\t\t\t// transformOrigin={{\r\n\t\t\t\t// \tvertical: 'top',\r\n\t\t\t\t// \thorizontal: 'right',\r\n\t\t\t\t// }}\r\n\t\t\t\tonClick={handleButtonClick}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</Menu>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ButtonMenu\r\n","import { AUTH_TYPES } from 'constants/misc'\r\nimport metamaskLogo from 'resources/metamask-logo.png'\r\nimport trezorLogo from 'resources/trezor-logo-h.png'\r\nimport ledgerLogo from 'resources/ledger_logo_header.png'\r\nimport demoLogo from 'resources/demo-logo.png'\r\n\r\nexport const getAuthLogo = authType => {\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\treturn metamaskLogo\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\treturn trezorLogo\r\n\t\tcase AUTH_TYPES.LEDGER.name:\r\n\t\t\treturn ledgerLogo\r\n\t\tcase AUTH_TYPES.DEMO.name:\r\n\t\t\treturn demoLogo\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\r\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\n// import ChangeLang from 'components/translate/ChangeLang'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport { logOut } from 'services/store-data/auth'\r\n\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport classnames from 'classnames'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { selectNavTitle, selectAccount } from 'selectors'\r\nimport { styles } from './styles'\r\nimport { formatAddress } from 'helpers/formatters'\r\n\r\nconst RRMenuItem = withReactRouterLink(MenuItem)\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TopNav({ handleDrawerToggle, side, t }) {\r\n\tconst classes = useStyles()\r\n\tconst navTitle = useSelector(selectNavTitle)\r\n\tconst account = useSelector(selectAccount)\r\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\r\n\tconst btnMenuLabel =\r\n\t\taccount.wallet.authType === 'demo'\r\n\t\t\t? t('DEMO_MODE')\r\n\t\t\t: account.email ||\r\n\t\t\t  formatAddress(account.wallet.address) ||\r\n\t\t\t  t('NOT_LOGGED')\r\n\r\n\treturn (\r\n\t\t<AppBar className={classes.appBar} position='sticky'>\r\n\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t<div className={classes.flexRow}>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\taria-label='open drawer'\r\n\t\t\t\t\t\tonClick={handleDrawerToggle}\r\n\t\t\t\t\t\tclassName={classnames(classes.navIconHide)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t{/* <AdexIconTxt\r\n              className={classes.icon}\r\n            /> */}\r\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarControls)}>\r\n\t\t\t\t\t\t{/* <Navigation type='horizontal' className={theme.rightNavigation}> */}\r\n\t\t\t\t\t\t{/* At the moment we use translations only for proper items properties display names */}\r\n\t\t\t\t\t\t{/* <ChangeLang /> */}\r\n\t\t\t\t\t\t<Jazzicon\r\n\t\t\t\t\t\t\tdiameter={30}\r\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ButtonMenu\r\n\t\t\t\t\t\t\tid='menu-appbar'\r\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\r\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\r\n\t\t\t\t\t\t\tactive={true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<RRMenuItem\r\n\t\t\t\t\t\t\t\tvalue='account'\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</RRMenuItem>\r\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tvalue='logout'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tlogOut()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</ButtonMenu>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.flexRow}>\r\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarTitle)}>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tvariant='subtitle1'\r\n\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\tclassName={classes.flex}\r\n\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t(navTitle)}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Toolbar>\r\n\t\t</AppBar>\r\n\t)\r\n}\r\n\r\nexport default Translate(TopNav)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\r\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport Translate from 'components/translate/Translate'\r\nimport { validations, helpers } from 'adex-models'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\n\r\nconst MAX_IMG_LOAD_TIME = 7000\r\nclass Img extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\timgSrc: null,\r\n\t\t\tactive: false,\r\n\t\t\tvideoSrc: null,\r\n\t\t}\r\n\r\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\r\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\r\n\t\tthis.loadTimeout = null\r\n\t}\r\n\r\n\tipfsSrc = src => {\r\n\t\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\r\n\t\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\r\n\t\t}\r\n\r\n\t\treturn src\r\n\t}\r\n\r\n\thandleToggle = () => {\r\n\t\tlet active = this.state.active\r\n\t\tthis.setState({ active: !active })\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\r\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\tif (isVideo && !allowVideo) {\r\n\t\t\treturn this.setState({\r\n\t\t\t\timgSrc: VIDEO_IMAGE,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (isVideo) {\r\n\t\t\tthis.displayVideo = document.createElement('video')\r\n\t\t\tthis.setDisplayVideo({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.displayImage = new Image()\r\n\t\t\tthis.setDisplayImage({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps = nextProps => {\r\n\t\tconst nextSrc = this.ipfsSrc(nextProps.src)\r\n\t\tconst thisSrc = this.ipfsSrc(this.props.src)\r\n\t\tconst nextFallback = this.ipfsSrc(nextProps.fallbackSrc)\r\n\t\tconst { mediaMime } = nextProps\r\n\r\n\t\tif (nextSrc !== thisSrc) {\r\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\t\tif (isVideo) {\r\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\r\n\t\t\t\tthis.setDisplayVideo({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\r\n\t\t\t\tthis.setDisplayImage({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.clearLoadTimeout()\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\t\t\tthis.displayImage = null\r\n\t\t}\r\n\t}\r\n\r\n\tclearLoadTimeout = () => {\r\n\t\tif (this.loadTimeout) {\r\n\t\t\tclearTimeout(this.loadTimeout)\r\n\t\t\tthis.loadTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tonFail = fallback => {\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.displayImage.src = fallback\r\n\t\t}\r\n\r\n\t\tthis.clearLoadTimeout()\r\n\r\n\t\tthis.setState({\r\n\t\t\timgSrc: fallback || null,\r\n\t\t})\r\n\t}\r\n\r\n\tsetDisplayImage = ({ image, fallback }) => {\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\r\n\t\t\tthis,\r\n\t\t\tfallback\r\n\t\t)\r\n\r\n\t\tthis.displayImage.onload = () => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\timgSrc: image,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.displayImage.src = image\r\n\t}\r\n\r\n\tsetDisplayVideo = ({ image, fallback }) => {\r\n\t\tthis.displayVideo.src = image\r\n\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\tvideoSrc: image,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfullScreenBtn() {\r\n\t\tconst { classes } = this.props\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tmini\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tthis.handleToggle()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FullscreenIcon />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{this.renderFullscreenDialog()}\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\trenderFullscreenDialog() {\r\n\t\tconst { t, alt, classes, type } = this.props\r\n\t\tconst { active, imgSrc, videoSrc } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={active}\r\n\t\t\t\ttype={type || 'normal'}\r\n\t\t\t\tmaxWidth={false}\r\n\t\t\t\tonClose={this.handleToggle}\r\n\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\r\n\t\t\t\t\t{imgSrc ? (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<video\r\n\t\t\t\t\t\t\tsrc={videoSrc}\r\n\t\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\t\tloop\r\n\t\t\t\t\t\t\tcontrols\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t></video>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\r\n\t\t\t\t\t\t{t('CLOSE')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\talt,\r\n\t\t\tallowFullscreen,\r\n\t\t\tclassName,\r\n\t\t\tclasses,\r\n\t\t\tfullScreenOnClick,\r\n\t\t} = this.props\r\n\t\tconst { imgSrc, videoSrc } = this.state\r\n\t\treturn imgSrc || videoSrc ? (\r\n\t\t\t<div\r\n\t\t\t\tclassName={classnames(classes.imgParent, className, classes.wrapper)}\r\n\t\t\t>\r\n\t\t\t\t{!!imgSrc ? (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\tsrc={this.state.imgSrc}\r\n\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\r\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\tfullScreenOnClick &&\r\n\t\t\t\t\t\t\t(() => {\r\n\t\t\t\t\t\t\t\tthis.handleToggle()\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tsrc={videoSrc}\r\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\tfullScreenOnClick &&\r\n\t\t\t\t\t\t\t(() => {\r\n\t\t\t\t\t\t\t\tthis.handleToggle()\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t></video>\r\n\t\t\t\t)}\r\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\r\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\r\n\t\t\t</div>\r\n\t\t) : (\r\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\r\n\t\t\t\t<span className={classes.circular}>\r\n\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t</span>\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImg.propTypes = {\r\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n\tfallbackSrc: PropTypes.string,\r\n\talt: PropTypes.string,\r\n\tallowFullscreen: PropTypes.bool,\r\n\tfullScreenOnClick: PropTypes.bool,\r\n\tmediaMime: PropTypes.string,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(Img))\r\n","export const styles = theme => ({\r\n\timgLoading: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\timgParent: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: 'max-content',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tcircular: {\r\n\t\tposition: 'relative',\r\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\r\n\t\tleft: 'calc(50% - 20px)',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tfullscreenIcon: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: theme.spacing(1),\r\n\t\tright: theme.spacing(1),\r\n\t\tcursor: 'pointer',\r\n\t\twidth: '30px',\r\n\t\theight: '30px',\r\n\t\tminHeight: '24px',\r\n\t},\r\n\tdialog: {\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t},\r\n\t\t'@media(max-height:823px)': {\r\n\t\t\tminHeight: 'auto',\r\n\t\t},\r\n\t},\r\n\tdialogImageParent: {\r\n\t\t'@media(max-width:1080px)': {\r\n\t\t\tmaxWidth: '80vw',\r\n\t\t\tmaxHeight: '100vw',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t},\r\n\t},\r\n\tdialogImage: {\r\n\t\theight: 'auto',\r\n\t\tmaxWidth: '80vw',\r\n\t},\r\n\timg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t},\r\n\twrapper: {\r\n\t\theight: 'max-content',\r\n\t\twidth: 'max-content',\r\n\t},\r\n})\r\n","/**\r\n * @param {String} objUrl - Image blob url URL.createObjectURL\r\n * @param {Object} pixelCrop - pixelCrop Object provided by react-image-crop\r\n * @param {String} fileName - Name of the returned file in Promise\r\n */\r\nexport const getCroppedImgUrl = ({ objUrl, pixelCrop, fileName, size }) => {\r\n\t// TODO: Validate pixelCrop and size\r\n\tconst cropCanvas = document.createElement('canvas')\r\n\tconst scaleCanvas = document.createElement('canvas')\r\n\r\n\tconst img = new Image()\r\n\timg.crossOrigin = 'Anonymous' // For ipfs URL\r\n\timg.src = objUrl\r\n\r\n\t// As a blob\r\n\treturn new Promise((resolve, reject) => {\r\n\t\timg.onload = () => {\r\n\t\t\tconst width = img.width\r\n\t\t\tconst height = img.height\r\n\r\n\t\t\t// pixelCrop come in %\r\n\t\t\tconst crop = {\r\n\t\t\t\tx: Math.round(width * (pixelCrop.x / 100)),\r\n\t\t\t\ty: Math.round(height * (pixelCrop.y / 100)),\r\n\t\t\t\twidth: Math.round(width * (pixelCrop.width / 100)),\r\n\t\t\t\theight: Math.round(height * (pixelCrop.height / 100)),\r\n\t\t\t}\r\n\r\n\t\t\tcropCanvas.width = crop.width\r\n\t\t\tcropCanvas.height = crop.height\r\n\t\t\tconst cctx = cropCanvas.getContext('2d')\r\n\r\n\t\t\tcctx.drawImage(\r\n\t\t\t\timg,\r\n\t\t\t\tcrop.x,\r\n\t\t\t\tcrop.y,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.width = size.width\r\n\t\t\tscaleCanvas.height = size.height\r\n\r\n\t\t\tconst sctx = scaleCanvas.getContext('2d')\r\n\r\n\t\t\tsctx.drawImage(\r\n\t\t\t\tcropCanvas,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tsize.width,\r\n\t\t\t\tsize.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.toBlob(file => {\r\n\t\t\t\tif (!file) {\r\n\t\t\t\t\treject('Error cropping file')\r\n\t\t\t\t}\r\n\t\t\t\tfile.name = fileName\r\n\t\t\t\tresolve(URL.createObjectURL(file))\r\n\t\t\t}, 'image/jpeg')\r\n\t\t}\r\n\t})\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Img from 'components/common/img/Img'\r\n// import debounce from 'debounce'\r\nimport Dropzone from 'react-dropzone'\r\nimport Translate from 'components/translate/Translate'\r\nimport Button from '@material-ui/core/Button'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ReactCrop from 'react-image-crop'\r\nimport { getCroppedImgUrl } from 'services/images/crop'\r\nimport CropIcon from '@material-ui/icons/Crop'\r\nimport ClearIcon from '@material-ui/icons/Clear'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport FileUploadIcon from '@material-ui/icons/CloudUpload'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass ImgForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tconst { size, imgSrc, mime } = props\r\n\t\tconst aspect = size ? size.width / size.height : undefined\r\n\r\n\t\tthis.state = {\r\n\t\t\timgSrc: imgSrc || '',\r\n\t\t\tmime: mime || '',\r\n\t\t\timgName: '',\r\n\t\t\tcropMode: false,\r\n\t\t\tcrop: { aspect: aspect },\r\n\t\t}\r\n\t}\r\n\r\n\tonDrop = (acceptedFiles, rejectedFiles) => {\r\n\t\tconst that = this\r\n\t\tconst file = acceptedFiles[0]\r\n\t\tif (!file) return\r\n\t\tconst objectUrl = URL.createObjectURL(file)\r\n\r\n\t\tthat.setState({\r\n\t\t\timgSrc: objectUrl,\r\n\t\t\timgName: file.name,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\r\n\t\tthis.props.onChange({\r\n\t\t\ttempUrl: objectUrl,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\t}\r\n\r\n\tonRemove = e => {\r\n\t\tthis.preventBubbling(e)\r\n\r\n\t\tconst { imgSrc } = this.state\r\n\r\n\t\tif (imgSrc) {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tthis.setState({ imgSrc: '', imgName: '' })\r\n\t\t\tthis.props.onChange({ tempUrl: null, mime: null })\r\n\t\t}\r\n\t}\r\n\r\n\tonCropChange = crop => {\r\n\t\tthis.setState({ crop })\r\n\t}\r\n\r\n\tsaveCropped = () => {\r\n\t\tconst { imgSrc, crop, mime, imgName } = this.state\r\n\t\tconst { onChange, size } = this.props\r\n\t\tgetCroppedImgUrl({\r\n\t\t\tobjUrl: imgSrc,\r\n\t\t\tpixelCrop: crop,\r\n\t\t\tfileName: `cropped-${imgName}`,\r\n\t\t\tsize,\r\n\t\t}).then(croppedBlob => {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tthis.setState({ imgSrc: croppedBlob, cropMode: false })\r\n\t\t\tonChange({\r\n\t\t\t\ttempUrl: croppedBlob,\r\n\t\t\t\tmime,\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tpreventBubbling = e => {\r\n\t\tif (e.stopPropagation) {\r\n\t\t\te.stopPropagation()\r\n\t\t}\r\n\t\tif (e.nativeEvent) {\r\n\t\t\te.nativeEvent.stopImmediatePropagation()\r\n\t\t}\r\n\t}\r\n\r\n\tUploadInfo = () => {\r\n\t\tconst { t, classes, size, errMsg } = this.props\r\n\t\tconst { imgSrc, mime } = this.state\r\n\t\treturn (\r\n\t\t\t<div className={classes.uploadInfo}>\r\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\r\n\t\t\t\t\t<div className={classes.uploadActions}>\r\n\t\t\t\t\t\t{/* TEMP: make size required */}\r\n\t\t\t\t\t\t{!!size && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\tthis.preventBubbling(e)\r\n\t\t\t\t\t\t\t\t\tthis.setState({ cropMode: true })\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={this.onRemove}\r\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<FileUploadIcon />\r\n\t\t\t\t)}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\r\n\t\t\t\t\t\t{errMsg}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: CLEAR IMG BLOB!!!!\r\n\trender() {\r\n\t\tconst { t, classes, label, additionalInfo } = this.props\r\n\t\tconst { crop, cropMode, imgName, imgSrc, mime } = this.state\r\n\r\n\t\tconst videoSrc = isVideoMedia(mime)\r\n\t\treturn (\r\n\t\t\t<div className={classes.imgForm}>\r\n\t\t\t\t<AppBar\r\n\t\t\t\t\tposition='static'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.header,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t{imgSrc && imgName ? (\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{label || 'Image'}: {imgName}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<span> {label || 'Upload image'} </span>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{cropMode ? (\r\n\t\t\t\t\t\t<div className={classes.dropzone} onClick={this.preventBubbling}>\r\n\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t<ReactCrop\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: 320 }}\r\n\t\t\t\t\t\t\t\t\t\timageStyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '320px',\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 'auto',\r\n\t\t\t\t\t\t\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\t\tcrop={crop}\r\n\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onCropChange}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.saveCropped}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ cropMode: false })}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Dropzone\r\n\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\r\n\t\t\t\t\t\t\tonDrop={this.onDrop}\r\n\t\t\t\t\t\t\tclassName={classes.dropzone}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t{videoSrc ? (\r\n\t\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\t\t\talt={'name'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t<this.UploadInfo />\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Dropzone>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> {additionalInfo} </small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImgForm.propTypes = {\r\n\timgSrc: PropTypes.string,\r\n\tlabel: PropTypes.string,\r\n\tsize: PropTypes.object,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(ImgForm))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\theader: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tdropzone: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\tborder: `2px dashed ${theme.palette.grey[500]}`,\r\n\t\t\tbackground: theme.palette.background.default,\r\n\t\t\tpadding: 10,\r\n\t\t\tcursor: 'pointer',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timgDropzonePreview: {\r\n\t\t\tmaxHeight: 320,\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdropzoneBtn: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tleftIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tuploadActions: {\r\n\t\t\tmarginTop: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\r\n\r\nexport default function ValidImageHoc(Decorated) {\r\n\tclass ValidImage extends Component {\r\n\t\tvalidate = ({\r\n\t\t\tpropsName,\r\n\t\t\twidthTarget,\r\n\t\t\theightTarget,\r\n\t\t\tmediaWidth,\r\n\t\t\tmediaHeight,\r\n\t\t\tmsg,\r\n\t\t\texact,\r\n\t\t\trequired,\r\n\t\t\tonChange,\r\n\t\t\tmime,\r\n\t\t\ttempUrl,\r\n\t\t}) => {\r\n\t\t\tlet isValid = true\r\n\r\n\t\t\tif (exact) {\r\n\t\t\t\tisValid = checkExactishAspect(\r\n\t\t\t\t\twidthTarget,\r\n\t\t\t\t\tmediaWidth,\r\n\t\t\t\t\theightTarget,\r\n\t\t\t\t\tmediaHeight\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\r\n\t\t\tconst masgArgs = [widthTarget, heightTarget, 'px']\r\n\r\n\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: msg, args: masgArgs },\r\n\t\t\t\tdirty: true,\r\n\t\t\t})\r\n\r\n\t\t\tconst resMedia = {\r\n\t\t\t\twidth: mediaWidth,\r\n\t\t\t\theight: mediaHeight,\r\n\t\t\t\tmime,\r\n\t\t\t\ttempUrl,\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof onChange === 'function') {\r\n\t\t\t\tonChange(propsName, resMedia)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalidateMedia = async (\r\n\t\t\t{\r\n\t\t\t\tpropsName,\r\n\t\t\t\twidthTarget,\r\n\t\t\t\theightTarget,\r\n\t\t\t\tmsg,\r\n\t\t\t\texact,\r\n\t\t\t\trequired,\r\n\t\t\t\tonChange,\r\n\t\t\t} = {},\r\n\t\t\tmedia\r\n\t\t) => {\r\n\t\t\tif (!required && !media.tempUrl && onChange) {\r\n\t\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\t\tisValid: true,\r\n\t\t\t\t\terr: { msg: msg, args: [] },\r\n\t\t\t\t\tdirty: true,\r\n\t\t\t\t})\r\n\t\t\t\t// TODO: fix this\r\n\t\t\t\tonChange(propsName, media)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif (!media.mime || !media.tempUrl) {\r\n\t\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\t\tisValid: false,\r\n\t\t\t\t\tdirty: true,\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\r\n\r\n\t\t\tthis.validate({\r\n\t\t\t\tpropsName,\r\n\t\t\t\twidthTarget,\r\n\t\t\t\theightTarget,\r\n\t\t\t\tmediaWidth: size.width,\r\n\t\t\t\tmediaHeight: size.height,\r\n\t\t\t\tmsg,\r\n\t\t\t\texact,\r\n\t\t\t\trequired,\r\n\t\t\t\tonChange,\r\n\t\t\t\tmime: media.mime,\r\n\t\t\t\ttempUrl: media.tempUrl,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn <Decorated {...props} validateMedia={this.validateMedia} />\r\n\t\t}\r\n\t}\r\n\r\n\tValidImage.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { memory } = state\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidImage))\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport PropTypes from 'prop-types'\r\nimport { execute, validate } from 'actions'\r\nimport { selectValidationsById } from 'selectors'\r\n\r\nexport default function ValidationHoc(Decorated) {\r\n\tconst ValidItem = props => {\r\n\t\tconst validations =\r\n\t\t\tuseSelector(state => selectValidationsById(state, props.validateId)) || {}\r\n\r\n\t\tconst makeValidation = (\r\n\t\t\tkey,\r\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n\t\t) => {\r\n\t\t\tconst { validateId } = props\r\n\t\t\texecute(validate(validateId, key, { isValid, err, dirty, removeAll }))\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Decorated\r\n\t\t\t\t{...props}\r\n\t\t\t\tvalidate={makeValidation}\r\n\t\t\t\tinvalidFields={validations}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\tValidItem.propTypes = {\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\treturn ValidItem\r\n}\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(3)\r\n\treturn {}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport Button from '@material-ui/core/Button'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport { AVATAR_MAX_WIDTH, AVATAR_MAX_HEIGHT } from 'constants/misc'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nexport class ImgDialog extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tvalues: {},\r\n\t\t}\r\n\t}\r\n\r\n\thandleChange = (name, value) => {\r\n\t\tlet newValues = { ...this.state.values }\r\n\t\tnewValues[name] = value\r\n\t\tthis.setState({ values: newValues })\r\n\t}\r\n\r\n\tonOk = () => {\r\n\t\tconst vals = this.state.values\r\n\t\tObject.keys(vals).forEach(key => {\r\n\t\t\tthis.props.onChangeReady(key, vals[key])\r\n\t\t})\r\n\t\tthis.props.handleToggle()\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet t = () => {}\r\n\t\tlet validations = this.props.invalidFields || {}\r\n\t\tlet errImg = validations[this.props.imgPropName]\r\n\t\tlet width = this.props.width || AVATAR_MAX_WIDTH\r\n\t\tlet height = this.props.height || AVATAR_MAX_HEIGHT\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\topen={this.props.active}\r\n\t\t\t\t\t// onEscKeyDown={this.props.handleToggle}\r\n\t\t\t\t\t// onOverlayClick={this.props.handleToggle}\r\n\t\t\t\t\ttitle={this.props.title}\r\n\t\t\t\t\ttype={this.props.type || 'normal'}\r\n\t\t\t\t\t// className={theme[ItemTypesNames[this.props.itemType]]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle>\r\n\t\t\t\t\t\t<IconButton onClick={this.props.handleToggle}>\r\n\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t{this.props.t(this.props.title)}\r\n\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\tlabel={t(this.props.imgLabel)}\r\n\t\t\t\t\t\t\timgSrc={this.props.imgSrc || ''}\r\n\t\t\t\t\t\t\tonChange={this.props.validateMedia.bind(this, {\r\n\t\t\t\t\t\t\t\tpropsName: this.props.imgPropName,\r\n\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\tmsg: this.props.errMsg,\r\n\t\t\t\t\t\t\t\texact: this.props.exact,\r\n\t\t\t\t\t\t\t\trequired: this.props.required,\r\n\t\t\t\t\t\t\t\tonChange: this.handleChange,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tadditionalInfo={t(this.props.additionalInfo)}\r\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\tsize={{ width: width, height: height }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.props.handleToggle} color='primary'>\r\n\t\t\t\t\t\t\t{'Cancel'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={this.onOk}\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t!!(this.props.invalidFields || {})[this.props.imgPropName]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{'Ok'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImgDialog.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tlet persist = state.persist\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ValidItemHoc(ValidImageHoc(withStyles(styles)(ImgDialog))))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n// import classnames from 'classnames'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport CheckIcon from '@material-ui/icons/Check'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\n// NOTE: Separate component to track the validations and spinner to avoid rerender of item top level components\r\nclass SaveBtn extends Component {\r\n\trender() {\r\n\t\tlet {\r\n\t\t\tspinner,\r\n\t\t\tclasses,\r\n\t\t\tsuccess,\r\n\t\t\tdirtyProps,\r\n\t\t\tsave,\r\n\t\t\tvalidations,\r\n\t\t\tvalidationId,\r\n\t\t\tdisabled,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div className={classes.position}>\r\n\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t<Fab\r\n\t\t\t\t\t\tfabButton\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t// className={buttonClassname}\r\n\t\t\t\t\t\tonClick={() => save()}\r\n\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\tdisabled ||\r\n\t\t\t\t\t\t\tspinner ||\r\n\t\t\t\t\t\t\t!dirtyProps.length ||\r\n\t\t\t\t\t\t\t!!Object.keys(validations[validationId] || {}).length\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// {...other}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/*TODO: Success */}\r\n\t\t\t\t\t\t{success ? <CheckIcon /> : <SaveIcon />}\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t{!!spinner && (\r\n\t\t\t\t\t\t<CircularProgress size={68} className={classes.fabProgress} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSaveBtn.propTypes = {\r\n\tspinnerId: PropTypes.string,\r\n\tvalidationId: PropTypes.string,\r\n\titemId: PropTypes.string,\r\n\tvalidations: PropTypes.object,\r\n\tdisabled: PropTypes.bool,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\treturn {\r\n\t\tspinner: memory.spinners[props.spinnerId],\r\n\t\tvalidations: memory.validations,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(SaveBtn)))\r\n","import color from '@material-ui/core/colors/purple'\r\n\r\nexport const styles = theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\twrapper: {\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonSuccess: {\r\n\t\tbackgroundColor: color[500],\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: color[700],\r\n\t\t},\r\n\t},\r\n\tfabProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: -6,\r\n\t\tleft: -6,\r\n\t\tzIndex: 1,\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tposition: {\r\n\t\tposition: 'fixed',\r\n\t\ttop: 86,\r\n\t\tright: 40,\r\n\t\tzIndex: theme.zIndex.appBar,\r\n\t},\r\n})\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\tbuttonLeft: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\ttextField: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tmaxWidth: '70%',\r\n\t\t},\r\n\t\tchangesLine: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'center',\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tchangeChip: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: 0,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: spacing,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport IMG_404 from 'resources/404.png'\r\nimport Img from 'components/common/img/Img'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nclass PageNotFound extends React.Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tclasses,\r\n\t\t\ttitle,\r\n\t\t\tsubtitle,\r\n\t\t\tgoToTxt,\r\n\t\t\tgoToPath,\r\n\t\t\tskipGoToButton,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3'>\r\n\t\t\t\t\t\t\t{t(title || '404_TEXT')}\r\n\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t{subtitle && (\r\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\r\n\t\t\t\t\t\t\t\t{t(subtitle)}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tinline\r\n\t\t\t\t\t\t\tclassName={classes.text}\r\n\t\t\t\t\t\t\tvariant='h1'\r\n\t\t\t\t\t\t\tstyle={{ textTransform: 'uppercase' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('404')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\tsrc={IMG_404}\r\n\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{!skipGoToButton && (\r\n\t\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\r\n\t\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nPageNotFound.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tgoToTxt: PropTypes.string,\r\n\tgoToPath: PropTypes.string,\r\n\tskipGoToButton: PropTypes.bool,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(PageNotFound))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\twrapper: {\r\n\t\t\tmargin: `${spacing * 2}px auto`,\r\n\t\t\tmaxWidth: 1000,\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport ImgDialog from 'components/dashboard/containers/ImgDialog'\r\nimport { schemas, Joi } from 'adex-models'\r\nimport classnames from 'classnames'\r\nimport { Prompt } from 'react-router'\r\nimport Translate from 'components/translate/Translate'\r\nimport { items as ItemsConstants } from 'adex-constants'\r\nimport Img from 'components/common/img/Img'\r\nimport SaveBtn from 'components/dashboard/containers/SaveBtn'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport InfoOutlineIcon from '@material-ui/icons/Info'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport { styles } from './styles'\r\nimport { validName } from 'helpers/validators'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\n\r\nconst { adSlotPut, adUnitPut, campaignPut } = schemas\r\nconst { AdSizesByValue } = ItemsConstants\r\n\r\nexport default function ItemHoc(Decorated) {\r\n\tclass Item extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.save = this.save.bind(this)\r\n\t\t\tthis.state = {\r\n\t\t\t\tactiveFields: {},\r\n\t\t\t\titem: null,\r\n\t\t\t\tinitialItemState: {},\r\n\t\t\t\tdirtyProps: [],\r\n\t\t\t\teditImg: false,\r\n\t\t\t\t_activeInput: null,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateNav = (item = {}) => {\r\n\t\t\tconst { actions, t, itemType } = this.props\r\n\t\t\tactions.updateNav(\r\n\t\t\t\t'navTitle',\r\n\t\t\t\tt(itemType, { isProp: true }) + ' > ' + item.title || ''\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tconst { item, matchId, objModel } = this.props\r\n\r\n\t\t\tif (!item) {\r\n\t\t\t\tthis.updateNav({ title: matchId })\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst initialItemState = new objModel(item)\r\n\r\n\t\t\tthis.setState({ item: { ...item }, initialItemState: initialItemState })\r\n\t\t\tthis.updateNav(initialItemState)\r\n\t\t}\r\n\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\r\n\t\t//     return diffProps || diffState\r\n\t\t// }\r\n\r\n\t\tcomponentWillReceiveProps(nextProps, nextState) {\r\n\t\t\tconst { objModel } = this.props\r\n\t\t\tconst { item } = this.state\r\n\t\t\tlet currentItemInst = new objModel(item || {})\r\n\t\t\t// Assume that the this.props.match.params.itemId can not be changed without remount of the component\r\n\t\t\t// TODO: check the above\r\n\t\t\tlet nextItem = nextProps.item\r\n\t\t\tlet nexItemInst = new objModel(nextItem || {})\r\n\r\n\t\t\tif (currentItemInst.modifiedOn !== nexItemInst.modifiedOn) {\r\n\t\t\t\t// if (\r\n\t\t\t\t// \tJSON.stringify(currentItemInst.plainObj()) !==\r\n\t\t\t\t// \tJSON.stringify(nexItemInst.plainObj())\r\n\t\t\t\t// ) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\titem: nexItemInst.plainObj(),\r\n\t\t\t\t\tinitialItemState: nexItemInst,\r\n\t\t\t\t\tactiveFields: {},\r\n\t\t\t\t\tdirtyProps: [],\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tthis.updateNav(nexItemInst)\r\n\t\t}\r\n\r\n\t\tcomponentWillUnmount() {\r\n\t\t\tif (this.state.item) {\r\n\t\t\t\tthis.props.actions.updateSpinner('update' + this.state.item.id, false)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (name, value) => {\r\n\t\t\tconst { objModel } = this.props\r\n\t\t\tconst { item, dirtyProps } = this.state\r\n\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[name] = value\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\r\n\t\t\tif (dp.indexOf(name) < 0) {\r\n\t\t\t\tdp.push(name)\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\r\n\t\t}\r\n\r\n\t\treturnPropToInitialState = propName => {\r\n\t\t\tconst { objModel, actions } = this.props\r\n\t\t\tconst { dirtyProps, initialItemState, item } = this.state\r\n\t\t\tconst initialItemStateValue = initialItemState[propName]\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[propName] = initialItemStateValue\r\n\r\n\t\t\tconst dp = dirtyProps.filter(dp => {\r\n\t\t\t\treturn dp !== propName\r\n\t\t\t})\r\n\r\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\r\n\t\t\t// TEMP fix, we assume that the initial values are validated\r\n\t\t\tactions.resetValidationErrors(item.id, propName)\r\n\t\t}\r\n\r\n\t\tsetActiveFields = (field, value) => {\r\n\t\t\tlet newActiveFields = { ...this.state.activeFields }\r\n\t\t\tnewActiveFields[field] = value\r\n\t\t\tthis.setState({ activeFields: newActiveFields })\r\n\t\t}\r\n\r\n\t\t//TODO: Do not save if not dirty!\r\n\t\tsave = () => {\r\n\t\t\tconst { itemType, spinner, actions } = this.props\r\n\t\t\tconst { item, dirtyProps } = this.state\r\n\r\n\t\t\tif (dirtyProps.length && !spinner) {\r\n\t\t\t\tactions.updateItem({\r\n\t\t\t\t\titemType,\r\n\t\t\t\t\titem,\r\n\t\t\t\t})\r\n\t\t\t\tthis.setState({ dirtyProps: [] })\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tisDirtyProp(prop) {\r\n\t\t\treturn this.state.item.dirtyProps.indexOf(prop) > -1\r\n\t\t}\r\n\r\n\t\thandleToggle = () => {\r\n\t\t\tconst isDemo = this.props.account._authType === 'demo'\r\n\r\n\t\t\tif (isDemo) return\r\n\r\n\t\t\tlet active = this.state.editImg\r\n\t\t\tthis.setState({ editImg: !active })\r\n\t\t}\r\n\r\n\t\tisNameValid(name) {\r\n\t\t\tconst { msg } = validName(name)\r\n\t\t\treturn !msg\r\n\t\t}\r\n\r\n\t\tvalidateTitle(name, dirty, errMsg) {\r\n\t\t\tconst { itemType, validate } = this.props\r\n\t\t\tlet schema = null\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tschema = adSlotPut.title\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tschema = adUnitPut.title\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'Campaign':\r\n\t\t\t\t\tschema = campaignPut.title\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\r\n\t\t\tconst result = Joi.validate(name, schema)\r\n\t\t\tvalidate('title', {\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tvalidateDescription(name, dirty, errMsg) {\r\n\t\t\tconst { itemType, validate } = this.props\r\n\t\t\tlet schema = null\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tschema = adSlotPut.description\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tschema = adUnitPut.description\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tconst result = Joi.validate(name, schema)\r\n\t\t\tvalidate('description', {\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tvalidations,\r\n\t\t\t\tclasses,\r\n\t\t\t\tt,\r\n\t\t\t\taccount,\r\n\t\t\t\titemType,\r\n\t\t\t\tobjModel,\r\n\t\t\t\tmatchId,\r\n\t\t\t\tside,\r\n\t\t\t\tinvalidFields,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst propsItem = this.props.item\r\n\r\n\t\t\tif (!propsItem) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<PageNotFound\r\n\t\t\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\r\n\t\t\t\t\t\t\targs: [itemType, matchId],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tskipGoToButton\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\t * NOTE: using instance of the item, the instance is passes to the Unit, Slot, Channel and Campaign components,\r\n\t\t\t * in this case there is no need to make instance inside them\r\n\t\t\t */\r\n\r\n\t\t\tconst isDemo = account._authType === 'demo'\r\n\t\t\tconst item = new objModel(this.state.item || {})\r\n\t\t\tlet canEdit = itemType === 'AdSlot'\r\n\t\t\tlet imgSrc = item.temp.tempUrl || item.mediaUrl || item.fallbackMediaUrl\r\n\r\n\t\t\tconst titleErr = invalidFields['title']\r\n\t\t\tconst descriptionErr = invalidFields['description']\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Prompt\r\n\t\t\t\t\t\twhen={!!this.state.dirtyProps.length}\r\n\t\t\t\t\t\tmessage={t('UNSAVED_CHANGES_ALERT')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\terror={!!titleErr && !!titleErr.errMsg}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputLabel>{t('title', { isProp: true })}</InputLabel>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tname={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\t\tvalue={item.title}\r\n\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\tthis.validateTitle(ev.target.value, true)\r\n\t\t\t\t\t\t\t\t\tthis.handleChange('title', ev.target.value)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tmaxLength={1024}\r\n\t\t\t\t\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', false)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonFocus={() => this.validateTitle(item.title, false)}\r\n\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.title}\r\n\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={ev => this.setActiveFields('title', true)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{titleErr && titleErr.errMsg && titleErr.dirty && (\r\n\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t{t(titleErr.errMsg, { args: titleErr.errMsgArgs })}\r\n\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{itemType !== 'Campaign' && (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<ImgDialog\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\timgSrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\thandleToggle={this.handleToggle}\r\n\t\t\t\t\t\t\t\t\tactive={this.state.editImg}\r\n\t\t\t\t\t\t\t\t\tonChangeReady={this.handleChange}\r\n\t\t\t\t\t\t\t\t\tvalidateId={item._id}\r\n\t\t\t\t\t\t\t\t\twidth={\r\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgWidth ||\r\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).width\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\theight={\r\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgHeight ||\r\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).height\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttitle={t(this.props.updateImgLabel)}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t(this.props.updateImgInfoLabel)}\r\n\t\t\t\t\t\t\t\t\texact={this.props.updateImgExact}\r\n\t\t\t\t\t\t\t\t\terrMsg={this.props.updateImgErrMsg}\r\n\t\t\t\t\t\t\t\t\timgPropName='img'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={!!descriptionErr && !!descriptionErr.errMsg}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor='description'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('description', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='description'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.description || ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(ev.target.value, true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange('description', ev.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(item.description, false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{descriptionErr && !!descriptionErr.errMsg ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(descriptionErr.errMsg, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: descriptionErr.errMsgArgs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!item.description && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('NO_DESCRIPTION_YET')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\r\n\t\t\t\t\t\t\t\t\t\t{this.props.showLogo && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: 270 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.mediaRoot,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.imgContainer\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.fullName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.img, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[classes.pointer]:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.canEditImg && !isDemo,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfabButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmini\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={!isDemo ? this.handleToggle : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{!!this.state.dirtyProps.length && (\r\n\t\t\t\t\t\t\t<div className={classes.changesLine}>\r\n\t\t\t\t\t\t\t\t<InfoOutlineIcon className={classes.buttonLeft} />\r\n\t\t\t\t\t\t\t\t<span className={classes.buttonLeft}>\r\n\t\t\t\t\t\t\t\t\t{t('UNSAVED_CHANGES')}:\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t{this.state.dirtyProps.map(p => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.changeChip}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={p}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(p, { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\tonDelete={() => this.returnPropToInitialState(p)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<SaveBtn\r\n\t\t\t\t\t\t\tspinnerId={'update' + item.id}\r\n\t\t\t\t\t\t\tvalidationId={'update-' + validateId}\r\n\t\t\t\t\t\t\tdirtyProps={this.state.dirtyProps}\r\n\t\t\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t!this.state.dirtyProps.length ||\r\n\t\t\t\t\t\t\t\t!!Object.keys(invalidFields).length\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Decorated\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\taccount={account}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tinEdit={!!this.state.dirtyProps.length}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\t\ttoggleImgEdit={this.handleToggle.bind(this)}\r\n\t\t\t\t\t\t\tactiveFields={this.state.activeFields}\r\n\t\t\t\t\t\t\tsetActiveFields={this.setActiveFields.bind(this)}\r\n\t\t\t\t\t\t\tcanEdit={canEdit}\r\n\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\tisDemo={isDemo}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItem.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\titem: PropTypes.object.isRequired,\r\n\t\tspinner: PropTypes.bool,\r\n\t\titemType: PropTypes.string.isRequired,\r\n\t\tobjModel: PropTypes.func.isRequired,\r\n\t}\r\n\r\n\tconst tryGetItemByIpfs = ({ items, ipfs }) => {\r\n\t\tlet keys = Object.keys(items)\r\n\r\n\t\tfor (let index = 0; index < keys.length; index++) {\r\n\t\t\tconst key = keys[index]\r\n\t\t\tconst item = items[key]\r\n\r\n\t\t\tif (!!item && item._ipfs && !!ipfs && item._ipfs === ipfs) {\r\n\t\t\t\treturn item\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist } = state\r\n\t\t// const memory = state.memory\r\n\t\tconst items = persist.items[props.itemType]\r\n\t\tconst id = props.match.params.itemId\r\n\t\tlet item = items[id]\r\n\r\n\t\tif (!item && props.itemType !== undefined) {\r\n\t\t\titem = tryGetItemByIpfs({ items: items, ipfs: id })\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\titem: item,\r\n\t\t\tvalidateId: 'update-' + (item.id || item.ipfs),\r\n\t\t\tmatchId: id,\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(withStyles(styles)(ValidItemHoc(Translate(Item))))\r\n}\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport StepperMUI from '@material-ui/core/Stepper'\r\nimport MobileStepper from '@material-ui/core/MobileStepper'\r\nimport Step from '@material-ui/core/Step'\r\nimport StepLabel from '@material-ui/core/StepLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport { styles } from './styles'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Box from '@material-ui/core/Box'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\r\n\r\nconst getDirtyValidationErrors = (validations = {}) => {\r\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\r\n\t\tconst err = validations[key]\r\n\t\tif (err.dirty) {\r\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\r\n\t\t}\r\n\t\treturn dirtyErrs\r\n\t}, [])\r\n\r\n\treturn errors\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\r\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\r\n\t\t\t\t</StepLabel>\r\n\t\t\t\t<MobileStepper\r\n\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\tsteps={pages.length}\r\n\t\t\t\t\tposition={'static'}\r\n\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t></MobileStepper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\r\n\t\t\t{pages.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title}>\r\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nconst MaterialStepper = props => {\r\n\tconst {\r\n\t\tpages = [],\r\n\t\t// ...props\r\n\t} = props\r\n\tconst classes = useStyles()\r\n\r\n\tconst [currentPage, setCurrentPage] = useState(0)\r\n\tconst canReverse = pages.length > currentPage && currentPage > 0\r\n\r\n\tconst page = pages[currentPage] || {}\r\n\tconst pageProps = page.props || {}\r\n\tconst { validateId } = pageProps\r\n\tconst Comp = page.component || null\r\n\tconst pageValidation = page.pageValidation || null\r\n\r\n\tconst validations = useSelector(state =>\r\n\t\tselectValidationsById(state, validateId)\r\n\t)\r\n\r\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\r\n\tconst isValidPage = useCallback(() => {\r\n\t\treturn !Object.keys(validations || {}).length\r\n\t}, [validations])\r\n\r\n\t// const canAdvance = isValidPage() && !page.completeBtn\r\n\r\n\tconst goToPage = useCallback(\r\n\t\tasync nextStep => {\r\n\t\t\tconst canAdvance = nextStep > currentPage\r\n\t\t\tconst canGoBack = nextStep < currentPage\r\n\r\n\t\t\tif (canAdvance || canGoBack) {\r\n\t\t\t\tsetCurrentPage(nextStep)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[currentPage]\r\n\t)\r\n\r\n\tconst goToPreviousPage = useCallback(async () => {\r\n\t\tif (canReverse) {\r\n\t\t\tgoToPage(currentPage - 1)\r\n\t\t}\r\n\t}, [canReverse, currentPage, goToPage])\r\n\r\n\tconst goToNextPage = useCallback(async () => {\r\n\t\tif (pageValidation) {\r\n\t\t\tpageValidation({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty: true,\r\n\t\t\t\tonValid: () => goToPage(currentPage + 1),\r\n\t\t\t})\r\n\t\t} else if (isValidPage()) {\r\n\t\t\tgoToPage(currentPage + 1)\r\n\t\t}\r\n\t}, [currentPage, goToPage, isValidPage, pageValidation, validateId])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (pageValidation) {\r\n\t\t\tpageValidation({ validateId, dirty: false })\r\n\t\t}\r\n\t}, [currentPage, pageValidation, validateId])\r\n\r\n\tconst onKeyPressed = useCallback(\r\n\t\tasync ev => {\r\n\t\t\tif (ev.key === 'Enter') {\r\n\t\t\t\tev.preventDefault()\r\n\t\t\t\tgoToNextPage()\r\n\t\t\t}\r\n\t\t},\r\n\t\t[goToNextPage]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div className={classes.stepperWrapper} onKeyPress={onKeyPressed}>\r\n\t\t\t<Paper\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: classes.stepperNav,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<StepperNav\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tpages={pages}\r\n\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\tgoToPage={goToPage}\r\n\t\t\t\t/>\r\n\t\t\t</Paper>\r\n\t\t\t<br />\r\n\r\n\t\t\t<Paper\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: classes.pagePaper,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div className={classes.pageContent}>\r\n\t\t\t\t\t{!!Comp && (\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Comp {...pageProps} />{' '}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{!!dirtyErrors && (\r\n\t\t\t\t\t\t<Box color='error.main'>\r\n\t\t\t\t\t\t\t{dirtyErrors.map(err => (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tkey={err.field}\r\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.errChip }}\r\n\t\t\t\t\t\t\t\t\ticon={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\r\n\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={classes.controls}>\r\n\t\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t\t{canReverse && !(page.disableBtnsIfValid && isValidPage()) ? (\r\n\t\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\r\n\t\t\t\t\t\t{page.cancelBtn && !(page.disableBtnsIfValid && isValidPage()) ? (\r\n\t\t\t\t\t\t\t<page.cancelBtn />\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t{typeof page.cancelFunction === 'function' &&\r\n\t\t\t\t\t\t!(page.disableBtnsIfValid && isValidPage()) ? (\r\n\t\t\t\t\t\t\t<Button onClick={page.cancelFunction}>{t('CANCEL')}</Button>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{/* {ValidationBtn && <ValidationBtn {...page.props} />} */}\r\n\r\n\t\t\t\t\t\t{!page.completeBtn || !!pageValidation ? (\r\n\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tdisabled={spinner || (!isValidPage() && !pageValidation)}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={goToNextPage}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{spinner && (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{page.completeBtn && !pageValidation && isValidPage() ? (\r\n\t\t\t\t\t\t\t<page.completeBtn />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Paper>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nMaterialStepper.propTypes = {\r\n\tpages: PropTypes.array.isRequired,\r\n}\r\n\r\nexport default MaterialStepper\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst errColor = theme.palette.error.main\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tcolor: 'purple',\r\n\t\t\t'&$active': {\r\n\t\t\t\tcolor: 'green',\r\n\t\t\t},\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: 'yellow',\r\n\t\t},\r\n\t\tstepperWrapper: {\r\n\t\t\t// display: 'flex',\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 0,\r\n\t\t},\r\n\t\tpagePaper: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 115,\r\n\t\t},\r\n\t\tpageContent: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 20,\r\n\t\t\tleft: 20,\r\n\t\t\tright: 20,\r\n\t\t\tbottom: 50,\r\n\t\t\tpadding: 20,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflex: 1,\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tWebkitOverflowScrolling: 'touch',\r\n\t\t\t'@media(max-width:500px)': {\r\n\t\t\t\tpaddingLeft: 0,\r\n\t\t\t\tpaddingRight: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontrols: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 5,\r\n\t\t\tleft: 20,\r\n\t\t\tright: 20,\r\n\t\t},\r\n\t\tright: {\r\n\t\t\ttextAlign: 'right',\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '86%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tleft: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\ttextAlign: 'left',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '14%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmobileStepper: {\r\n\t\t\twidth: '100%',\r\n\t\t\t'& div': {\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\theight: '10px',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmobileStepLabel: {\r\n\t\t\t'& span': {\r\n\t\t\t\tfontSize: '24px',\r\n\t\t\t\tmargin: '14px auto',\r\n\t\t\t},\r\n\t\t\ttextAlign: 'center',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t\terrChip: {\r\n\t\t\tcolor: errColor,\r\n\t\t\tborderColor: errColor,\r\n\t\t\t'& svg': {\r\n\t\t\t\tcolor: errColor,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n// import { connect } from 'react-redux'\r\n// import { bindActionCreators } from 'redux'\r\n// import actions from 'actions'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nclass FormSteps extends Component {\r\n\tshouldComponentUpdate(nextProps) {\r\n\t\treturn JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst pages = []\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tSaveBtn,\r\n\t\t\tCancelBtn,\r\n\t\t\tonSave,\r\n\t\t\tstepsId,\r\n\t\t\tstepsPages,\r\n\t\t\tstepsPreviewPage,\r\n\t\t\tvalidateIdBase,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\tconst cancelButton = () => (\r\n\t\t\t<CancelBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t)\r\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\r\n\r\n\t\tstepsPages.forEach((page, index) => {\r\n\t\t\tpages.push({\r\n\t\t\t\ttitle: t(page.title),\r\n\t\t\t\tcancelBtn: cancelButton,\r\n\t\t\t\tcomponent: ValidItemHoc(page.page || page),\r\n\t\t\t\tprops: { ...this.props, stepsId, validateId: validateId + '-' + index },\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\tpages.push({\r\n\t\t\ttitle: t(stepsPreviewPage.title || 'PREVIEW'),\r\n\t\t\tcompleteBtn: () => (\r\n\t\t\t\t<SaveBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t\t),\r\n\t\t\tcancelBtn: cancelButton,\r\n\t\t\tcomponent: ValidItemHoc(stepsPreviewPage.page || stepsPreviewPage),\r\n\t\t\tprops: {\r\n\t\t\t\t...this.props,\r\n\t\t\t\tvalidateId: validateId + '-' + stepsPages.length,\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t// <div style={{ textAlign: 'left' }}>\r\n\t\t\t<MaterialStepper pages={pages} />\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nFormSteps.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\titemPages: PropTypes.arrayOf(PropTypes.func),\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsPages: PropTypes.arrayOf(PropTypes.object),\r\n}\r\n\r\nexport default Translate(FormSteps)\r\n","import grey from '@material-ui/core/colors/grey'\r\n\r\nexport const styles = theme => {\r\n\tconst spacing = theme.spacing(3)\r\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\r\n\treturn {\r\n\t\tdialog: {\r\n\t\t\tminHeight: `${fullHeight}px`,\r\n\t\t\tminWidth: 1024,\r\n\t\t\tmaxWidth: 1080,\r\n\t\t\tbackgroundColor: grey[200], // TODO: color,\r\n\t\t\t// maxHeight: `${fullHeight}`,\r\n\t\t\t'@media(max-width:1080px)': {\r\n\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t\t},\r\n\t\t\t'@media(max-height:823px)': {\r\n\t\t\t\tminHeight: `calc(${fullHeight} - ${theme.spacing(2)}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdialogTitle: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\twordWrap: 'break-word',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t\toverflowY: 'auto',\r\n\t\t},\r\n\t\tcontentBox: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 0,\r\n\t\t\t// left: 0,\r\n\t\t\t// bottom: 0,\r\n\t\t\t// right: 0,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t},\r\n\t\tpropRow: {\r\n\t\t\tmargin: '10px 0',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tcontentBody: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tcontentTopLoadingCircular: {\r\n\t\t\tflexShrink: 0,\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tcontentTopLoading: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\t'& > div': {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttextBtn: {\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tbtnIconLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tleftCol: {\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\r\n\t\t\ttextAlign: 'right',\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\ttextAlign: 'left',\r\n\t\t\t},\r\n\t\t},\r\n\t\trightCol: {\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tprogressCircleCenter: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 30px)',\r\n\t\t\ttop: 'calc(50% - 30px)',\r\n\t\t},\r\n\t\tfloating: {\r\n\t\t\tposition: 'fixed',\r\n\t\t\ttop: 86,\r\n\t\t\tright: 40,\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t},\r\n\t\tbreakLong: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\toverflowWrap: 'break-word',\r\n\t\t\thyphens: 'auto',\r\n\t\t},\r\n\t\tdemoImg: {\r\n\t\t\ttop: 'auto',\r\n\t\t\tleft: 'auto',\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\twidth: '100px',\r\n\t\t\theight: 'auto',\r\n\t\t\tposition: 'absolute',\r\n\t\t},\r\n\t\tdemoBody: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontentStickyTop: {\r\n\t\t\tmarginBottom: '2rem',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport classnames from 'classnames'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { t } from 'selectors'\r\n\r\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName={classnames(classes.textBtn, className)}\r\n\t\t\tstyle={style}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t{' '}\r\n\t\t\t{label}{' '}\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nconst TextBtn = withStyles(styles)(textBtn)\r\n\r\nconst Transition = props => {\r\n\treturn <Slide direction='up' {...props} />\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function ItemHoc(Decorated) {\r\n\tfunction WithDialog(props) {\r\n\t\tconst {\r\n\t\t\ticonButton,\r\n\t\t\ttextButton,\r\n\t\t\tfabButton,\r\n\t\t\tvariant,\r\n\t\t\tfabVariant,\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tmini,\r\n\t\t\tbtnLabelArgs,\r\n\t\t\tbtnLabel,\r\n\t\t\tdisabled,\r\n\t\t\tclassName,\r\n\t\t\ticon,\r\n\t\t\ttitle,\r\n\t\t\tdialogActions,\r\n\t\t\tonClick,\r\n\t\t\tfullWidth,\r\n\t\t\t...rest\r\n\t\t} = props\r\n\r\n\t\tconst btnProps = {\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tmini,\r\n\t\t\tvariant,\r\n\t\t\tfullWidth,\r\n\t\t}\r\n\r\n\t\tconst classes = useStyles()\r\n\t\tconst [open, setOpen] = useState(false)\r\n\r\n\t\tconst handleToggle = async () => {\r\n\t\t\tconst { onBeforeOpen } = props\r\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\r\n\t\t\t\tawait onBeforeOpen()\r\n\t\t\t}\r\n\r\n\t\t\tsetOpen(!open)\r\n\t\t}\r\n\r\n\t\tconst closeDialog = () => {\r\n\t\t\tsetOpen(false)\r\n\t\t}\r\n\r\n\t\tlet ButtonComponent = Button\r\n\r\n\t\tif (iconButton) {\r\n\t\t\tButtonComponent = IconButton\r\n\t\t} else if (textButton) {\r\n\t\t\tButtonComponent = TextBtn\r\n\t\t} else if (fabButton) {\r\n\t\t\tButtonComponent = Fab\r\n\t\t}\r\n\r\n\t\tconst btnLabelTranslated = t(btnLabel, { args: btnLabelArgs || [''] })\r\n\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<ButtonComponent\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\taria-label={btnLabelTranslated}\r\n\t\t\t\t\tlabel={btnLabelTranslated}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\thandleToggle()\r\n\t\t\t\t\t\tif (onClick) onClick()\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t{...btnProps}\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\r\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\r\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{icon}\r\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\r\n\t\t\t\t</ButtonComponent>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\t// disableBackdropClick\r\n\t\t\t\t\t// disableEscapeKeyDown\r\n\t\t\t\t\t// maxWidth=\"xs\"\r\n\t\t\t\t\t// fullScreen\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tonClose={handleToggle}\r\n\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t\t\t// onEscKeyDown={handleToggle}\r\n\t\t\t\t\t// onOverlayClick={handleToggle}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle disableTypography>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tvariant='subtitle1'\r\n\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t(title)}\r\n\t\t\t\t\t\t\t<IconButton onClick={handleToggle}>\r\n\t\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\r\n\t\t\t\t\t\t<Decorated {...rest} closeDialog={closeDialog} />\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\r\n\t\t\t\t</Dialog>\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n\r\n\tWithDialog.propTypes = {\r\n\t\tbtnLabel: PropTypes.string.isRequired,\r\n\t\ttitle: PropTypes.string.isRequired,\r\n\t\tfloating: PropTypes.bool,\r\n\t\tonBeforeOpen: PropTypes.func,\r\n\t}\r\n\r\n\treturn WithDialog\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdUnit } from 'adex-models'\r\n\r\nexport default function NewAdUnitHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'AdUnit',\r\n\t\t\t\tAdUnit\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { actions, newItem } = this.props\r\n\t\t\tactions.addUnit(newItem)\r\n\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('AdUnit')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('AdUnit')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { memory } = state\r\n\t\treturn {\r\n\t\t\tnewItem: new AdUnit(memory.newItem['AdUnit']),\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Select from '@material-ui/core/Select'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport classnames from 'classnames'\r\nimport { styles } from './styles'\r\nimport { t } from 'selectors'\r\n\r\nclass Dropdown extends React.Component {\r\n\thandleChange = event => {\r\n\t\tthis.props.onChange(event.target.value)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\tlabel = '',\r\n\t\t\tvalue,\r\n\t\t\tsource = [],\r\n\t\t\thtmlId = 'some-id',\r\n\t\t\tname = '',\r\n\t\t\tdisabled = false,\r\n\t\t\terror = false,\r\n\t\t\thelperText,\r\n\t\t\t// margin = '',\r\n\t\t\tfullWidth = false,\r\n\t\t\tclassName,\r\n\t\t\trequired,\r\n\t\t\tloading,\r\n\t\t\tnoSrcLabel,\r\n\t\t} = this.props\r\n\r\n\t\t// TODO: add native renderer for mobile devices when supported\r\n\t\treturn (\r\n\t\t\t<FormControl\r\n\t\t\t\tclassName={classnames(className, classes.formControl)}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\terror={error}\r\n\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t>\r\n\t\t\t\t<InputLabel htmlFor={htmlId} required={required}>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</InputLabel>\r\n\t\t\t\t{!!source.length && !loading ? (\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tvalue={value.id || value}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tinput={<Input name={name} id={htmlId} />}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{[...source].map(src => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\r\n\t\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{src.label}\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t) : !loading ? (\r\n\t\t\t\t\t<Input disabled value={noSrcLabel} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Input disabled value={t('LOADING_DATA')} />\r\n\t\t\t\t\t\t<InputLoading />\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\r\n\t\t\t</FormControl>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDropdown.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tvalue: PropTypes.oneOfType([\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.bool,\r\n\t]),\r\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\r\n\tdisabled: PropTypes.bool,\r\n\terror: PropTypes.bool,\r\n\thtmlId: PropTypes.string.isRequired,\r\n\tname: PropTypes.string,\r\n\tdisplayEmpty: PropTypes.bool,\r\n\thelperText: PropTypes.string,\r\n}\r\n\r\nexport default withStyles(styles)(Dropdown)\r\n","export const styles = theme => ({\r\n\tformControl: {\r\n\t\t// margin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n\tselectEmpty: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t},\r\n})\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants, schemas, Joi } from 'adex-models'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\r\n\r\nconst { adUnitPost } = schemas\r\n\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nclass AdUnitBasic extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tconst { newItem } = props\r\n\t\tthis.validateTitle(newItem.title, false)\r\n\t\tthis.validateDescription(newItem.description, false)\r\n\t\tthis.validateTargetUrl(newItem.targetUrl, false)\r\n\t\tthis.validateAndUpdateType(false, newItem.type)\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (\r\n\t\t\tprevProps.newItem.title !== this.props.newItem.title ||\r\n\t\t\tprevProps.newItem.type !== this.props.newItem.type ||\r\n\t\t\tprevProps.newItem.temp.addUtmLink !== this.props.newItem.temp.addUtmLink\r\n\t\t) {\r\n\t\t\tthis.addUtmParameters()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateTitle(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adUnitPost.title)\r\n\r\n\t\tthis.props.validate('title', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateDescription(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adUnitPost.description)\r\n\r\n\t\tthis.props.validate('description', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateTargetUrl(targetUrl, dirty) {\r\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\r\n\t\tthis.props.validate('targetUrl', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t\tif (!result.error) this.addUtmParameters(targetUrl)\r\n\t}\r\n\r\n\tvalidateAndUpdateType = (dirty, value) => {\r\n\t\tconst result = Joi.validate(value, adUnitPost.type)\r\n\t\tthis.props.handleChange('type', value)\r\n\t\tthis.props.validate('type', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\taddUtmParameters() {\r\n\t\tconst { handleChange, newItem } = this.props\r\n\t\tconst { targetUrl, title, type, temp } = newItem\r\n\t\tconst { addUtmLink } = temp\r\n\t\tif (!!targetUrl) {\r\n\t\t\tconst newTargetUrl = addUrlUtmTracking({\r\n\t\t\t\ttargetUrl,\r\n\t\t\t\tcampaign: title,\r\n\t\t\t\tcontent: type,\r\n\t\t\t\tremoveFromUrl: !addUtmLink,\r\n\t\t\t})\r\n\t\t\thandleChange('targetUrl', newTargetUrl)\r\n\t\t}\r\n\t}\r\n\r\n\thandleChangeAddUtmLink(ev) {\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.addUtmLink = ev.target.checked\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, newItem, invalidFields, handleChange } = this.props\r\n\t\tconst { targetUrl, type, title, description, temp } = newItem\r\n\t\tconst { addUtmLink } = temp\r\n\t\tconst errTitle = invalidFields['title']\r\n\t\tconst errDescription = invalidFields['description']\r\n\t\tconst errTargetUrl = invalidFields['targetUrl']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => {\r\n\t\t\t\t\t\t\t\tthis.validateDescription(description, true)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTargetUrl(targetUrl, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTargetUrl(targetUrl, false)}\r\n\t\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty ? errTargetUrl.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tchecked={addUtmLink}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleChangeAddUtmLink(ev)}\r\n\t\t\t\t\t\t\t\t\tvalue='checkedB'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('ADD_UTM_LINK')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\r\n\t\t\t\t\t\t\tsource={AdTypes}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitBasic.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdUnitBasic = NewAdUnitHoc(AdUnitBasic)\r\n\r\nexport default Translate(NewAdUnitBasic)\r\n","import url from 'url'\r\nimport { UTM_PARAMS } from 'constants/misc'\r\n\r\nexport const addUrlUtmTracking = ({\r\n\ttargetUrl,\r\n\tcampaign,\r\n\tcontent,\r\n\tremoveFromUrl,\r\n}) => {\r\n\tif (!!targetUrl) {\r\n\t\tconst URL = url.parse(targetUrl, true)\r\n\t\tURL.search = null\r\n\r\n\t\tif (URL.protocol && URL.host) {\r\n\t\t\tconst newQuery = {}\r\n\t\t\tif (removeFromUrl) {\r\n\t\t\t\tfor (let [key, value] of Object.entries(URL.query)) {\r\n\t\t\t\t\tif (UTM_PARAMS[key] !== value) {\r\n\t\t\t\t\t\tnewQuery[key] = value\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = newQuery\r\n\t\t\t} else {\r\n\t\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\r\n\r\n\t\t\t\tif (campaign) {\r\n\t\t\t\t\tquery['utm_campaign'] = campaign\r\n\t\t\t\t}\r\n\t\t\t\tif (content) {\r\n\t\t\t\t\tquery['utm_content'] = content\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = query\r\n\t\t\t}\r\n\t\t\treturn url.format(URL)\r\n\t\t}\r\n\t}\r\n\r\n\treturn targetUrl\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\n\r\nconst getWidAndHightFromType = type => {\r\n\ttype = type || 'legacy_300x100'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n\r\nclass AdUnitMedia extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem, validate } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst { tempUrl } = temp\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tif (tempUrl) {\r\n\t\t\tconst isValidMediaSize = temp.width === width && temp.height === height\r\n\r\n\t\t\tvalidate('temp', {\r\n\t\t\t\tisValid: isValidMediaSize,\r\n\t\t\t\terr: {\r\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t},\r\n\t\t\t\tdirty: true,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tvalidate('temp', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleImgChange = (prop, img) => {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst newTemp = { ...newItem.temp, ...img }\r\n\t\thandleChange(prop, newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { newItem, t, validateMedia } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst errImg = this.props.invalidFields['temp']\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\r\n\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\tmime={temp.mime || ''}\r\n\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\r\n\t\t\t\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\r\n\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitMedia.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tnewItem: PropTypes.object.isRequired,\r\n}\r\n\r\nconst NewAdUnitMedia = NewAdUnitHoc(ValidImageHoc(AdUnitMedia))\r\n\r\nexport default Translate(NewAdUnitMedia)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport { translate } from 'services/translations/translations'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\n\r\nexport const renderInput = inputProps => {\r\n\tconst { InputProps, classes, ref, ...other } = inputProps\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tInputProps={{\r\n\t\t\t\tinputRef: ref,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.inputRoot,\r\n\t\t\t\t},\r\n\t\t\t\t...InputProps,\r\n\t\t\t}}\r\n\t\t\t{...other}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const renderSuggestion = ({\r\n\tsuggestion,\r\n\tindex,\r\n\tstyle,\r\n\titemProps,\r\n\thighlightedIndex,\r\n\tselectedItem,\r\n\tshowSelected,\r\n}) => {\r\n\tconst isHighlighted = highlightedIndex === index\r\n\t// TODO: make it better\r\n\t// Note wo work with obj and array\r\n\tconst isSelected =\r\n\t\t((selectedItem || {}).value || selectedItem || '').indexOf(\r\n\t\t\tsuggestion.value\r\n\t\t) > -1\r\n\r\n\tif (!showSelected && isSelected) {\r\n\t\treturn null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={style}>\r\n\t\t\t<ListItem\r\n\t\t\t\tbutton\r\n\t\t\t\t{...itemProps}\r\n\t\t\t\tkey={suggestion.value || suggestion.label}\r\n\t\t\t\tselected={isHighlighted}\r\n\t\t\t\tcomponent='div'\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tfontWeight: isSelected ? 500 : 400,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<ListItemText primary={suggestion.label} />\r\n\t\t\t</ListItem>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst newSuggestion = inputValue => {\r\n\treturn {\r\n\t\tlabel: `${translate(\r\n\t\t\t'CREATE_TAG_LABEL'\r\n\t\t)} \"${inputValue.toLowerCase().trim()}\"`,\r\n\t\tvalue: inputValue.toLowerCase().trim(),\r\n\t}\r\n}\r\n\r\nrenderSuggestion.propTypes = {\r\n\thighlightedIndex: PropTypes.number,\r\n\tindex: PropTypes.number,\r\n\titemProps: PropTypes.object,\r\n\tselectedItem: PropTypes.string,\r\n\tsuggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\r\n}\r\n\r\nexport const getSuggestions = (\r\n\tinputValue = '',\r\n\tsource,\r\n\tallowCreate,\r\n\tvalidateCreation\r\n) => {\r\n\tif (!inputValue) {\r\n\t\treturn source\r\n\t} else {\r\n\t\tinputValue = inputValue.toLowerCase().trim()\r\n\r\n\t\tsource = source.filter(suggestion => {\r\n\t\t\treturn (\r\n\t\t\t\t!inputValue ||\r\n\t\t\t\tsuggestion.label\r\n\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t.trim()\r\n\t\t\t\t\t.indexOf(inputValue) !== -1\r\n\t\t\t)\r\n\t\t})\r\n\r\n\t\t// Making sure that an option to create a new item will exist when needed\r\n\t\tconst values = source.map(item => {\r\n\t\t\treturn item.value\r\n\t\t})\r\n\r\n\t\tif (\r\n\t\t\t!values.includes(inputValue) &&\r\n\t\t\tallowCreate &&\r\n\t\t\t(!validateCreation || validateCreation(inputValue))\r\n\t\t) {\r\n\t\t\tsource.push(newSuggestion(inputValue))\r\n\t\t}\r\n\r\n\t\treturn source\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport keycode from 'keycode'\r\nimport Downshift from 'downshift'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport { renderInput, getSuggestions, renderSuggestion } from './common'\r\n\r\nclass DownshiftMultiple extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tinputValue: '',\r\n\t\t\tselectedItem: props.value || [],\r\n\t\t}\r\n\t}\r\n\r\n\thandleKeyDown = event => {\r\n\t\tconst { inputValue, selectedItem } = this.state\r\n\t\tif (\r\n\t\t\tselectedItem.length &&\r\n\t\t\t!inputValue.length &&\r\n\t\t\tkeycode(event) === 'backspace'\r\n\t\t) {\r\n\t\t\tconst newItemValue = selectedItem.slice(0, selectedItem.length - 1)\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedItem: newItemValue,\r\n\t\t\t})\r\n\r\n\t\t\tthis.props.onChange(newItemValue)\r\n\t\t}\r\n\t}\r\n\r\n\thandleInputChange = event => {\r\n\t\tconst value = event.target.value.toLowerCase()\r\n\t\tthis.setState({ inputValue: value })\r\n\t}\r\n\r\n\thandleChange = item => {\r\n\t\tlet { selectedItem } = this.state\r\n\r\n\t\tif (selectedItem.indexOf(item.value) === -1) {\r\n\t\t\tselectedItem = [...selectedItem, item.value]\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tinputValue: '',\r\n\t\t\tselectedItem,\r\n\t\t})\r\n\r\n\t\tthis.props.onChange(selectedItem)\r\n\t}\r\n\r\n\thandleDelete = item => () => {\r\n\t\tconst selectedItem = [...this.state.selectedItem]\r\n\t\tselectedItem.splice(selectedItem.indexOf(item), 1)\r\n\r\n\t\tthis.setState({ selectedItem })\r\n\t\tthis.props.onChange(selectedItem)\r\n\t}\r\n\r\n\t/**\r\n\t * source {'propValue': 'propsLabel'} - skip one mapping to get the label for Chip\r\n\t */\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\tsource,\r\n\t\t\tlabel,\r\n\t\t\tid,\r\n\t\t\tplaceholder,\r\n\t\t\thelperText,\r\n\t\t\topenOnClick,\r\n\t\t\tallowCreate,\r\n\t\t\tvalidateCreation,\r\n\t\t} = this.props\r\n\t\tconst { inputValue, selectedItem } = this.state\r\n\t\tconst allValues = Object.keys(source).map(key => {\r\n\t\t\treturn { value: key, label: source[key] }\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t<Downshift\r\n\t\t\t\tinputValue={inputValue}\r\n\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\tselectedItem={selectedItem}\r\n\t\t\t\t// defaultIsOpen={true}\r\n\t\t\t\titemToString={item => item.label}\r\n\t\t\t>\r\n\t\t\t\t{({\r\n\t\t\t\t\tgetInputProps,\r\n\t\t\t\t\tgetItemProps,\r\n\t\t\t\t\tisOpen,\r\n\t\t\t\t\tinputValue: inputValue2,\r\n\t\t\t\t\tselectedItem: selectedItem2,\r\n\t\t\t\t\thighlightedIndex,\r\n\t\t\t\t\ttoggleMenu,\r\n\t\t\t\t}) => (\r\n\t\t\t\t\t<div className={classes.container}>\r\n\t\t\t\t\t\t{renderInput({\r\n\t\t\t\t\t\t\tfullWidth: true,\r\n\t\t\t\t\t\t\tclasses,\r\n\t\t\t\t\t\t\thelperText,\r\n\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\tInputProps: getInputProps({\r\n\t\t\t\t\t\t\t\tstartAdornment: selectedItem.map(item => (\r\n\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\tkey={item}\r\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\t\tlabel={source[item]}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\t\t\tonDelete={this.handleDelete(item)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)),\r\n\t\t\t\t\t\t\t\tonChange: this.handleInputChange,\r\n\t\t\t\t\t\t\t\tonKeyDown: this.handleKeyDown,\r\n\t\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tonClick: () => openOnClick && toggleMenu(),\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t{isOpen ? (\r\n\t\t\t\t\t\t\t<Paper className={classes.paper} square>\r\n\t\t\t\t\t\t\t\t//TODO: use FixedSizeList!\r\n\t\t\t\t\t\t\t\t{getSuggestions(\r\n\t\t\t\t\t\t\t\t\tinputValue2,\r\n\t\t\t\t\t\t\t\t\tallValues,\r\n\t\t\t\t\t\t\t\t\tallowCreate,\r\n\t\t\t\t\t\t\t\t\tvalidateCreation\r\n\t\t\t\t\t\t\t\t).map((suggestion, index) =>\r\n\t\t\t\t\t\t\t\t\trenderSuggestion({\r\n\t\t\t\t\t\t\t\t\t\tsuggestion,\r\n\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\titemProps: getItemProps({ item: suggestion }),\r\n\t\t\t\t\t\t\t\t\t\thighlightedIndex,\r\n\t\t\t\t\t\t\t\t\t\tselectedItem: selectedItem2,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Downshift>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDownshiftMultiple.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default DownshiftMultiple\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Downshift from 'downshift'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { renderInput, getSuggestions, renderSuggestion } from './common'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport { FixedSizeList } from 'react-window'\r\nimport AutoSizer from 'react-virtualized-auto-sizer'\r\nclass DownshiftSingle extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.props.onInit()\r\n\t\tthis.state = {\r\n\t\t\tinputValue: '',\r\n\t\t}\r\n\t}\r\n\r\n\thandleChange = item => {\r\n\t\tconst selectedItem = item ? item.value || item.label : item\r\n\t\tthis.props.onChange(selectedItem)\r\n\t}\r\n\r\n\thandleInputChange = inputValue => {\r\n\t\tif (this.state.inputValue !== inputValue) this.setState({ inputValue })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\tsource,\r\n\t\t\terror,\r\n\t\t\tlabel,\r\n\t\t\tid,\r\n\t\t\tplaceholder,\r\n\t\t\thelperText,\r\n\t\t\terrorText,\r\n\t\t\tshowSelected,\r\n\t\t\tvalue,\r\n\t\t\topenOnClick,\r\n\t\t\tallowCreate,\r\n\t\t\tvalidateCreation,\r\n\t\t} = this.props\r\n\t\tconst allValues = source //Object.keys(source).map(key => { return { value: key, label: source[key] } })\r\n\t\tconst suggestions = getSuggestions(\r\n\t\t\tthis.state.inputValue,\r\n\t\t\tallValues,\r\n\t\t\tallowCreate,\r\n\t\t\tvalidateCreation\r\n\t\t)\r\n\t\treturn (\r\n\t\t\t<Downshift\r\n\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\titemToString={item => (item || {}).label || item || ''}\r\n\t\t\t\tselectedItem={value}\r\n\t\t\t>\r\n\t\t\t\t{({\r\n\t\t\t\t\tgetInputProps,\r\n\t\t\t\t\tgetItemProps,\r\n\t\t\t\t\tisOpen,\r\n\t\t\t\t\tinputValue,\r\n\t\t\t\t\tselectedItem,\r\n\t\t\t\t\thighlightedIndex,\r\n\t\t\t\t\tclearSelection,\r\n\t\t\t\t\ttoggleMenu,\r\n\t\t\t\t}) => {\r\n\t\t\t\t\tthis.handleInputChange(inputValue)\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className={classes.container}>\r\n\t\t\t\t\t\t\t{renderInput({\r\n\t\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\t\tvalue: inputValue,\r\n\t\t\t\t\t\t\t\tfullWidth: true,\r\n\t\t\t\t\t\t\t\tclasses,\r\n\t\t\t\t\t\t\t\thelperText,\r\n\t\t\t\t\t\t\t\tInputProps: getInputProps({\r\n\t\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\t\tonClick: () => {\r\n\t\t\t\t\t\t\t\t\t\tif (openOnClick) {\r\n\t\t\t\t\t\t\t\t\t\t\tclearSelection()\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleMenu()\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\terror,\r\n\t\t\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{isOpen && suggestions.length > 0 ? (\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} square>\r\n\t\t\t\t\t\t\t\t\t<AutoSizer>\r\n\t\t\t\t\t\t\t\t\t\t{({ height, width }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<FixedSizeList\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.paper}\r\n\t\t\t\t\t\t\t\t\t\t\t\theight={height}\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth={width}\r\n\t\t\t\t\t\t\t\t\t\t\t\titemSize={46}\r\n\t\t\t\t\t\t\t\t\t\t\t\titemCount={suggestions.length}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{({ index, style }) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trenderSuggestion({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuggestion: suggestions[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemProps: getItemProps({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem: suggestions[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thighlightedIndex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedItem,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowSelected,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</FixedSizeList>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</AutoSizer>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t\t\t<FormHelperText error id='component-error-text'>\r\n\t\t\t\t\t\t\t\t\t{errorText}\r\n\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t</Downshift>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDownshiftSingle.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default DownshiftSingle\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport DownshiftMultiple from './DownshiftMultiple'\r\nimport DownshiftSingle from './DownshiftSingle'\r\n\r\nfunction Autocomplete(props) {\r\n\tconst { classes, source, multiple, ...rest } = props\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{multiple ? (\r\n\t\t\t\t<DownshiftMultiple classes={classes} source={source} {...rest} />\r\n\t\t\t) : (\r\n\t\t\t\t<DownshiftSingle classes={classes} source={source} {...rest} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAutocomplete.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withStyles(styles)(Autocomplete)\r\n","export const styles = theme => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: 250,\r\n\t},\r\n\tcontainer: {\r\n\t\tflexGrow: 1,\r\n\t\tposition: 'relative',\r\n\t},\r\n\tpaper: {\r\n\t\tposition: 'absolute',\r\n\t\tzIndex: 1,\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\toverflow: 'hidden',\r\n\t\theight: 150,\r\n\t\twidth: '100%',\r\n\t},\r\n\tchip: {\r\n\t\tmargin: `${theme.spacing(1) / 2}px ${theme.spacing(1) / 2}px`,\r\n\t},\r\n\tinputRoot: {\r\n\t\tflexWrap: 'wrap',\r\n\t},\r\n})\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { translate } from 'services/translations/translations'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { SOURCES } from 'constants/targeting'\r\n\r\nconst styles = {\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n\tmarkLabel: {\r\n\t\ttop: '30px',\r\n\t},\r\n}\r\nconst marks = [\r\n\t{\r\n\t\tvalue: 5,\r\n\t\tlabel: 'Low',\r\n\t},\r\n\t{\r\n\t\tvalue: 50,\r\n\t\tlabel: 'Medium',\r\n\t},\r\n\t{\r\n\t\tvalue: 95,\r\n\t\tlabel: 'High',\r\n\t},\r\n]\r\n\r\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\r\n\treturn {\r\n\t\tvalue: {\r\n\t\t\tkey: key, // FOR DROPDOWN\r\n\t\t\tsource: key,\r\n\t\t\tcollection: SOURCES[key].collection,\r\n\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t},\r\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\r\n\t}\r\n})\r\n\r\nclass AdUnitTargeting extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { targets } = props.newItem.temp || {}\r\n\t\tthis.state = {\r\n\t\t\ttargets: [...(targets || [])],\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNewItemCollections(targets) {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst collections = [...targets].reduce(\r\n\t\t\t(all, tg) => {\r\n\t\t\t\tconst newCollection = all[tg.collection] || []\r\n\r\n\t\t\t\t// NOTE: just skip empty tags\r\n\t\t\t\tif (!!tg.target.tag) {\r\n\t\t\t\t\tnewCollection.push(tg.target)\r\n\t\t\t\t}\r\n\t\t\t\tall[tg.collection] = newCollection\r\n\t\t\t\treturn all\r\n\t\t\t},\r\n\t\t\t{ targeting: [], tags: [] }\r\n\t\t)\r\n\r\n\t\tconst { temp } = newItem\r\n\t\tconst newTemp = { ...temp }\r\n\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.targets = [...targets]\r\n\t\tcollections.temp = newTemp\r\n\r\n\t\thandleChange(null, null, collections)\r\n\t}\r\n\r\n\thandleTargetChange = (index, prop, newValue) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...newTargets[index].target }\r\n\t\tnewTarget[prop] = newValue\r\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tnewTarget = target => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.key = newTargets.length\r\n\t\tnewTarget.target = { ...target.target }\r\n\t\tnewTargets.push(newTarget)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tremoveTarget = index => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tnewTargets.splice(index, 1)\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t\tthis.validateAutocomplete({\r\n\t\t\tid: `target-${index}`,\r\n\t\t\tisValid: true,\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\r\n\t\tthis.props.validate(id, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})\r\n\t}\r\n\r\n\ttargetTag = ({\r\n\t\tsource,\r\n\t\tcollection,\r\n\t\tplaceholder,\r\n\t\tlabel,\r\n\t\tindex,\r\n\t\ttarget,\r\n\t\tt,\r\n\t\tclasses,\r\n\t\tinvalidFields,\r\n\t}) => {\r\n\t\tconst id = `target-${index}`\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\tdirection='auto'\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\r\n\t\t\t\t\t\terrorText={\r\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\r\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonChange={newValue => {\r\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: newValue,\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonInit={() =>\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: target.tag,\r\n\t\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// validate={validate}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={11} md={5}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography id={`tbaget-score-${index}`}>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [target.score],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\r\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tmarks={marks}\r\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\r\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\r\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// newItem,\r\n\t\t\tclasses,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\t// const { targeting, tags } = newItem\r\n\r\n\t\tconst { targets } = this.state\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{[...targets].map(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{ source, collection, label, placeholder, target = {} } = {},\r\n\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t\t<this.targetTag\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tsource={SOURCES[source].src}\r\n\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={target => {\r\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitTargeting.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdUnitTargeting = NewAdUnitHoc(withStyles(styles)(AdUnitTargeting))\r\n\r\nexport default Translate(NewAdUnitTargeting)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\r\nimport WcIcon from '@material-ui/icons/Wc'\r\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\r\nimport CompareArrows from '@material-ui/icons/CompareArrows'\r\n\r\nconst targetIcon = {\r\n\tlocation: LocationOnIcon,\r\n\tgender: WcIcon,\r\n\tage: ChildCareIcon,\r\n}\r\n\r\nconst getTargetType = tag => {\r\n\tconst type = tag.split('_')[0] || 'tags'\r\n\treturn type\r\n}\r\n\r\nclass UnitTargets extends Component {\r\n\ttargetArrayValues = (target, type, t, index) => {\r\n\t\tconst TargetIcon = targetIcon[type] || CompareArrows\r\n\t\treturn (\r\n\t\t\t<span key={target.tag + target.score + index}>\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t<TargetIcon />\r\n\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tprimary={t(target.tag, { isTarget: true })}\r\n\t\t\t\t\t\tsecondary={target.score}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<Divider />\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\tTargetsList = ({ targets = [], subHeader, t, ...rest }) => (\r\n\t\t<List\r\n\t\t\tdense\r\n\t\t\tsubheader={subHeader ? <ListSubheader caption={t(subHeader)} /> : null}\r\n\t\t>\r\n\t\t\t{targets.map(target => {\r\n\t\t\t\tconst type = getTargetType(target.tag)\r\n\t\t\t\treturn this.targetArrayValues(target, type, t)\r\n\t\t\t})}\r\n\t\t</List>\r\n\t)\r\n\r\n\trender() {\r\n\t\treturn <this.TargetsList {...this.props} />\r\n\t}\r\n}\r\n\r\nUnitTargets.propTypes = {\r\n\ttargets: PropTypes.array.isRequired,\r\n\tsubHeader: PropTypes.string,\r\n\tt: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default UnitTargets\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { CircularProgress } from '@material-ui/core'\r\nimport { styles } from './styles.js'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\n// TODO: fix responsive styles\r\nconst propRow = ({\r\n\tclasses,\r\n\tleft,\r\n\tright,\r\n\tclassName,\r\n\tclassNameLeft,\r\n\tclassNameRight,\r\n\tstyle = {},\r\n}) => (\r\n\t<Grid\r\n\t\titem\r\n\t\tcontainer\r\n\t\tspacing={2}\r\n\t\txs={12}\r\n\t\tclassName={classnames(className)}\r\n\t\tstyle={style}\r\n\t>\r\n\t\t<Grid\r\n\t\t\titem\r\n\t\t\txs={12}\r\n\t\t\tsm={4}\r\n\t\t\tlg={3}\r\n\t\t\tclassName={classnames(classes.leftCol, classes.uppercase, classNameLeft)}\r\n\t\t>\r\n\t\t\t{left}\r\n\t\t</Grid>\r\n\t\t<Grid\r\n\t\t\titem\r\n\t\t\txs={12}\r\n\t\t\tsm={8}\r\n\t\t\tlg={9}\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tclasses.rightCol,\r\n\t\t\t\tclasses.breakLong,\r\n\t\t\t\tclassNameRight\r\n\t\t\t)}\r\n\t\t>\r\n\t\t\t{right}\r\n\t\t</Grid>\r\n\t</Grid>\r\n)\r\n\r\nconst contentBox = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentBox, className)}>{children}</div>\r\n)\r\n\r\nconst contentBody = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentBody, className)}>{children}</div>\r\n)\r\n\r\nconst contentStickyTop = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\r\n)\r\n\r\nconst topLoading = ({ classes, msg, subMsg, className }) => (\r\n\t<div className={classnames(classes.contentTopLoading)}>\r\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\r\n\t\t<div>\r\n\t\t\t<Typography component='div'> {msg} </Typography>\r\n\t\t\t{subMsg && (\r\n\t\t\t\t<Typography component='div'>\r\n\t\t\t\t\t<strong>{subMsg}</strong>\r\n\t\t\t\t</Typography>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t</div>\r\n)\r\n\r\nconst fullContentSpinner = ({ classes }) => (\r\n\t<CircularProgress\r\n\t\tclassName={classnames(classes.progressCircleCenter)}\r\n\t\tsize={50}\r\n\t/>\r\n)\r\n\r\nexport const PropRow = withStyles(styles)(propRow)\r\nexport const ContentBox = withStyles(styles)(contentBox)\r\nexport const ContentBody = withStyles(styles)(contentBody)\r\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\r\nexport const TopLoading = withStyles(styles)(topLoading)\r\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\timgPreview: {\r\n\t\t\tmaxHeight: 225,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t\timgPreviewWrapper: {\r\n\t\t\theight: 'max-content',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Img from 'components/common/img/Img'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\n\r\nclass AdUnitFormPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, account, ...rest } = this.props\r\n\t\tconst { newItem, t } = rest\r\n\t\tconst { type, title, description, temp, targeting } = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.wallet.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('MEDIA')}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\r\n\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\talt={title}\r\n\t\t\t\t\t\t\t\tmediaMime={temp.mime}\r\n\t\t\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{targeting && (\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitFormPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nconst NewAdUnitFormPreview = NewAdUnitHoc(withStyles(styles)(AdUnitFormPreview))\r\nexport default connect(mapStateToProps)(Translate(NewAdUnitFormPreview))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Campaign } from 'adex-models'\r\n\r\nexport default function NewCampaignHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'Campaign',\r\n\t\t\t\tCampaign\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = async () => {\r\n\t\t\tconst { actions, newItem } = this.props\r\n\t\t\tconst { temp } = newItem\r\n\t\t\tconst newTemp = { ...temp }\r\n\t\t\tnewTemp.waitingAction = true\r\n\t\t\tthis.handleChange('temp', newTemp)\r\n\t\t\tawait actions.openCampaign({ campaign: newItem })\r\n\r\n\t\t\tnewTemp.waitingAction = false\r\n\t\t\tthis.handleChange('temp', newTemp)\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('Campaign')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('Campaign')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\r\n\t\tconst adUnits = persist.items['AdUnit'] || {}\r\n\t\tconst adUnitsArray = Object.values(adUnits) || []\r\n\t\treturn {\r\n\t\t\tnewItem: new Campaign(memory.newItem['Campaign']),\r\n\t\t\tadUnits,\r\n\t\t\tadUnitsArray,\r\n\t\t\tspinner: memory.spinners['opening-campaign'],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { ContentBody } from 'components/common/dialog/content'\r\nimport EnhancedTable from 'components/dashboard/containers/Tables/EnhancedTable'\r\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\r\n\r\nclass CampaignUnits extends Component {\r\n\thandleSelect = selected => {\r\n\t\tconst { adUnits, handleChange } = this.props\r\n\t\tconst units = Object.values(selected).map(value => {\r\n\t\t\treturn adUnits[value]\r\n\t\t})\r\n\r\n\t\thandleChange('adUnits', units)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { adUnitsArray, t } = this.props\r\n\t\tconst hasAdUnits = adUnitsArray && adUnitsArray.length\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t\tdirection={hasAdUnits ? null : 'column'}\r\n\t\t\t\t\talignItems={hasAdUnits ? null : 'center'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t{hasAdUnits ? (\r\n\t\t\t\t\t\t\t\t<EnhancedTable\r\n\t\t\t\t\t\t\t\t\titemType={'AdUnit'}\r\n\t\t\t\t\t\t\t\t\titems={adUnitsArray}\r\n\t\t\t\t\t\t\t\t\tvalidate={this.props.validate}\r\n\t\t\t\t\t\t\t\t\thandleSelect={this.handleSelect}\r\n\t\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\r\n\t\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\r\n\t\t\t\t\t\t\t\t\t<NewUnitDialog\r\n\t\t\t\t\t\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaignUnits.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n\tadUnits: PropTypes.object.isRequired,\r\n\tadUnitsArray: PropTypes.array.isRequired,\r\n}\r\n\r\nconst NewCampaignUnits = NewCampaignHoc(CampaignUnits)\r\n\r\nexport default Translate(NewCampaignUnits)\r\n","import React, { Component } from 'react'\r\nimport { DateTimePicker as MuiDateTimePicker } from 'material-ui-pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CalendarIcon from '@material-ui/icons/DateRange'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\n\r\nconst CalendarIconAdor = ({\r\n\ticon = <CalendarIcon />,\r\n\ticonColor,\r\n\tonIconClick,\r\n}) => (\r\n\t<InputAdornment position='end'>\r\n\t\t<IconButton color={iconColor} onClick={onIconClick}>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t</InputAdornment>\r\n)\r\n\r\nexport class DateTimePicker extends Component {\r\n\trender() {\r\n\t\tconst { calendarIcon, icon, iconColor, onIconClick, ...rest } = this.props\r\n\t\treturn (\r\n\t\t\t<MuiDateTimePicker\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\t\tendAdornment: calendarIcon ? (\r\n\t\t\t\t\t\t<CalendarIconAdor\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : null,\r\n\t\t\t\t}}\r\n\t\t\t\t{...rest}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default DateTimePicker\r\n\r\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\r\n\treturn (\r\n\t\t<DateTimePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport FormGroup from '@material-ui/core/FormGroup'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n// import Dropdown from 'components/common/dropdown'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport { utils } from 'ethers'\r\nimport { openChannel } from 'services/smart-contracts/actions/core'\r\nimport { validations, Joi } from 'adex-models'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { selectSpinnerById } from 'selectors'\r\n\r\nconst moment = new MomentUtils()\r\nconst campaignTitleSchema = Joi.string()\r\n\t.min(3)\r\n\t.max(120)\r\n\t.allow('') // empty string not allowed by default\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_LEADER_FEE = '0'\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\nconst VALIDATOR_FOLLOWER_FEE = '0'\r\n\r\nconst AdvPlatformValidators = {\r\n\t[VALIDATOR_LEADER_ID]: {\r\n\t\tid: VALIDATOR_LEADER_ID,\r\n\t\turl: VALIDATOR_LEADER_URL,\r\n\t\tfee: VALIDATOR_LEADER_FEE,\r\n\t},\r\n}\r\n\r\nconst PubPlatformValidators = {\r\n\t[VALIDATOR_FOLLOWER_ID]: {\r\n\t\tid: VALIDATOR_FOLLOWER_ID,\r\n\t\turl: VALIDATOR_FOLLOWER_URL,\r\n\t\tfee: VALIDATOR_FOLLOWER_FEE,\r\n\t},\r\n}\r\n\r\nconst VALIDATOR_SOURCES = [AdvPlatformValidators, PubPlatformValidators]\r\n\r\n// const AdvValidatorsSrc = Object.keys(AdvPlatformValidators).map(key => {\r\n// \tconst val = AdvPlatformValidators[key]\r\n// \treturn {\r\n// \t\tvalue: key,\r\n// \t\tlabel: `${val.url} - ${val.id}`,\r\n// \t}\r\n// })\r\n\r\n// const PubValidatorsSrc = Object.keys(PubPlatformValidators).map(key => {\r\n// \tconst val = PubPlatformValidators[key]\r\n// \treturn {\r\n// \t\tvalue: key,\r\n// \t\tlabel: `${val.url} - ${val.id}`,\r\n// \t}\r\n// })\r\n\r\nconst tempValidators = [\r\n\t{\r\n\t\tid: VALIDATOR_LEADER_ID,\r\n\t\turl: VALIDATOR_LEADER_URL,\r\n\t\tfee: VALIDATOR_LEADER_FEE,\r\n\t},\r\n\t{\r\n\t\tid: VALIDATOR_FOLLOWER_ID,\r\n\t\turl: VALIDATOR_FOLLOWER_URL,\r\n\t\tfee: VALIDATOR_FOLLOWER_FEE,\r\n\t},\r\n]\r\n\r\nconst getTotalImpressions = ({ depositAmount, minPerImpression, t }) => {\r\n\tconst dep = parseFloat(depositAmount)\r\n\tconst min = parseFloat(minPerImpression)\r\n\tif (!dep) {\r\n\t\treturn t('DEPOSIT_NOT_SET')\r\n\t} else if (!min) {\r\n\t\treturn t('CPM_NOT_SET')\r\n\t} else {\r\n\t\tconst impressions = utils.commify(Math.floor((dep / min) * 1000))\r\n\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\r\n\t}\r\n}\r\n\r\nconst validateCampaignDates = ({\r\n\tcreated = Date.now(),\r\n\twithdrawPeriodStart,\r\n\tactiveFrom,\r\n}) => {\r\n\tlet error = null\r\n\r\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\r\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'withdrawPeriodStart' }\r\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\r\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\r\n\t} else if (activeFrom && activeFrom < created) {\r\n\t\terror = { message: 'ERR_START_BEFORE_NOW', prop: 'activeFrom' }\r\n\t} else if (activeFrom && !withdrawPeriodStart) {\r\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\r\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\r\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nconst validateAmounts = ({\r\n\tmaxDeposit = 0,\r\n\tdepositAmount,\r\n\tminPerImpression,\r\n}) => {\r\n\tconst maxDep = parseFloat(maxDeposit)\r\n\tconst dep = parseFloat(depositAmount)\r\n\tconst min = parseFloat(minPerImpression)\r\n\r\n\tlet error = null\r\n\tif (dep && dep > maxDep) {\r\n\t\terror = {\r\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\r\n\t\t\tprop: 'depositAmount',\r\n\t\t}\r\n\t}\r\n\tif (dep && dep < min) {\r\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\r\n\t}\r\n\tif (dep <= 0) {\r\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\r\n\t}\r\n\tif (min <= 0) {\r\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nclass CampaignFinance extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tmaxChannelFees: 1,\r\n\t\t\tloading: true,\r\n\t\t}\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tconst { newItem, actions, account } = this.props\r\n\t\tconst { updateSpinner } = actions\r\n\r\n\t\tupdateSpinner('getting-campaigns-fees', true)\r\n\t\tthis.validateAndUpdateValidator(false, 0, newItem.validators[0])\r\n\t\tthis.validateAndUpdateValidator(false, 1, newItem.validators[1])\r\n\t\tthis.validateAmount(\r\n\t\t\tnewItem.depositAmount,\r\n\t\t\t'depositAmount',\r\n\t\t\tfalse,\r\n\t\t\t'REQUIRED_FIELD'\r\n\t\t)\r\n\t\tthis.validateAmount(\r\n\t\t\tnewItem.minPerImpression,\r\n\t\t\t'minPerImpression',\r\n\t\t\tfalse,\r\n\t\t\t'REQUIRED_FIELD'\r\n\t\t)\r\n\t\tthis.validateTitle(newItem.title, false, 'TITLE_HELPER_TEXT')\r\n\t\tthis.handleDates('activeFrom', newItem.activeFrom, false)\r\n\t\tthis.handleDates('withdrawPeriodStart', newItem.withdrawPeriodStart, false)\r\n\r\n\t\tconst campaign = { ...newItem }\r\n\t\tcampaign.validators = tempValidators\r\n\t\tconst feesData = await openChannel({\r\n\t\t\tcampaign,\r\n\t\t\taccount,\r\n\t\t\tgetFeesOnly: true,\r\n\t\t\tgetMaxFees: true,\r\n\t\t})\r\n\r\n\t\tthis.setState({ maxChannelFees: feesData.fees, loading: false })\r\n\t\tupdateSpinner('getting-campaigns-fees', false)\r\n\t}\r\n\r\n\tvalidateAndUpdateValidator = (dirty, index, key = {}, update) => {\r\n\t\tconst { handleChange, newItem, validate } = this.props\r\n\t\tconst { validators } = newItem\r\n\t\tconst newValidators = [...validators]\r\n\t\tconst newValue = VALIDATOR_SOURCES[index][key.id || key]\r\n\r\n\t\tnewValidators[index] = newValue\r\n\r\n\t\tconst isValid =\r\n\t\t\t!!newValidators[0] &&\r\n\t\t\t!!newValidators[1] &&\r\n\t\t\t!!newValidators[0].id &&\r\n\t\t\t!!newValidators[0].url &&\r\n\t\t\t!!newValidators[1].id &&\r\n\t\t\t!!newValidators[1].url\r\n\r\n\t\t// TEMP - update like this to avoid changing the flow and other functions\r\n\t\t// <---\r\n\t\tif (!isValid) {\r\n\t\t\thandleChange('validators', tempValidators)\r\n\r\n\t\t\tvalidate('validators', {\r\n\t\t\t\tisValid: true,\r\n\t\t\t\terr: { msg: 'ERR_VALIDATORS' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// END TEMP --->\r\n\r\n\t\tif (update) {\r\n\t\t\thandleChange('validators', newValidators)\r\n\t\t}\r\n\r\n\t\tvalidate('validators', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAmount(value = '', prop, dirty, errMsg) {\r\n\t\tconst isValidNumber = validations.isNumberString(value)\r\n\t\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\r\n\r\n\t\tif (!isValid) {\r\n\t\t\tthis.props.validate(prop, {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tconst { newItem, account } = this.props\r\n\r\n\t\t\tconst { availableIdentityBalanceMainToken = 0 } =\r\n\t\t\t\taccount.stats.formatted || {}\r\n\r\n\t\t\tconst depositAmount =\r\n\t\t\t\tprop === 'depositAmount' ? value : newItem.depositAmount\r\n\t\t\tconst minPerImpression =\r\n\t\t\t\tprop === 'minPerImpression' ? value : newItem.minPerImpression\r\n\t\t\tconst maxDeposit =\r\n\t\t\t\tparseFloat(availableIdentityBalanceMainToken) -\r\n\t\t\t\tthis.state.maxChannelFees\r\n\t\t\tconst result = validateAmounts({\r\n\t\t\t\tmaxDeposit,\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\tminPerImpression,\r\n\t\t\t})\r\n\r\n\t\t\tthis.props.validate(prop, {\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateTitle(name, dirty) {\r\n\t\tconst result = Joi.validate(name, campaignTitleSchema)\r\n\r\n\t\tthis.props.validate('title', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\thandleDates = (prop, value, dirty) => {\r\n\t\tconst { newItem, handleChange, validate } = this.props\r\n\t\tconst withdrawPeriodStart =\r\n\t\t\tprop === 'withdrawPeriodStart' ? value : newItem.withdrawPeriodStart\r\n\t\tconst activeFrom = prop === 'activeFrom' ? value : newItem.activeFrom\r\n\t\tconst result = validateCampaignDates({\r\n\t\t\twithdrawPeriodStart,\r\n\t\t\tactiveFrom,\r\n\t\t\tcreated: newItem.created,\r\n\t\t})\r\n\r\n\t\tvalidate('activeFrom', {\r\n\t\t\tisValid: !(result.error && result.error.prop === 'activeFrom'),\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\r\n\t\tvalidate('withdrawPeriodStart', {\r\n\t\t\tisValid: !(result.error && result.error.prop === 'withdrawPeriodStart'),\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\r\n\t\tif (value) {\r\n\t\t\thandleChange(prop, value)\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\thandleChange,\r\n\t\t\tnewItem,\r\n\t\t\tt,\r\n\t\t\tinvalidFields,\r\n\t\t\taccount,\r\n\t\t\tspinner,\r\n\t\t} = this.props\r\n\t\tconst {\r\n\t\t\ttitle,\r\n\t\t\tvalidators,\r\n\t\t\tdepositAmount,\r\n\t\t\tminPerImpression,\r\n\t\t\t// depositAsset,\r\n\t\t\tactiveFrom,\r\n\t\t\twithdrawPeriodStart,\r\n\t\t\tminTargetingScore,\r\n\t\t} = newItem\r\n\r\n\t\tconst { maxChannelFees, loading } = this.state\r\n\r\n\t\tconst { availableIdentityBalanceMainToken = 0, mainTokenSymbol } =\r\n\t\t\taccount.stats.formatted || {}\r\n\r\n\t\tconst from = activeFrom || undefined\r\n\t\tconst to = withdrawPeriodStart || undefined\r\n\t\tconst now = moment.date().valueOf()\r\n\r\n\t\tconst errTitle = invalidFields['title']\r\n\t\tconst errDepAmnt = invalidFields['depositAmount']\r\n\t\tconst errMin = invalidFields['minPerImpression']\r\n\t\tconst errFrom = invalidFields['activeFrom']\r\n\t\tconst errTo = invalidFields['withdrawPeriodStart']\r\n\r\n\t\tconst impressions = !(errDepAmnt || errMin)\r\n\t\t\t? getTotalImpressions({ depositAmount, minPerImpression, t })\r\n\t\t\t: ''\r\n\r\n\t\tconst leader = validators[0] || {}\r\n\t\tconst follower = validators[1] || {}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{spinner || loading ? (\r\n\t\t\t\t\t<FullContentSpinner />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\tthis.validateTitle(ev.target.value, 'title', true)\r\n\t\t\t\t\t\t\t\t\thandleChange('title', ev.target.value)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{/* <Grid item xs={12}> */}\r\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t\t{/* <Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={value =>\r\n\t\t\t\t\t\t\t\tthis.validateAndUpdateValidator(true, 0, value, true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsource={AdvValidatorsSrc}\r\n\t\t\t\t\t\t\tvalue={(validators[0] || {}).id + ''}\r\n\t\t\t\t\t\t\tlabel={t('ADV_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\thtmlId='leader-validator-dd'\r\n\t\t\t\t\t\t\tname='leader-validator'\r\n\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t<FormControl fullWidth disabled>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor='leader-validator'>\r\n\t\t\t\t\t\t\t\t\t{t('ADV_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t<Input id='leader-validator' value={leader.url || ''} />\r\n\t\t\t\t\t\t\t\t<FormHelperText>{leader.id}</FormHelperText>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{/* <Grid item xs={12}> */}\r\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t\t{/* <Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={value =>\r\n\t\t\t\t\t\t\t\tthis.validateAndUpdateValidator(true, 1, value, true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsource={PubValidatorsSrc}\r\n\t\t\t\t\t\t\tvalue={(validators[1] || {}).id + ''}\r\n\t\t\t\t\t\t\tlabel={t('PUB_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\thtmlId='follower-validator-dd'\r\n\t\t\t\t\t\t\tname='follower-validator'\r\n\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t<FormControl fullWidth disabled>\r\n\t\t\t\t\t\t\t\t<InputLabel htmlFor='follower-validator'>\r\n\t\t\t\t\t\t\t\t\t{t('PUB_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t<Input id='follower-validator' value={follower.url || ''} />\r\n\t\t\t\t\t\t\t\t<FormHelperText>{follower.id}</FormHelperText>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\r\n\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\tparseFloat(\r\n\t\t\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken - maxChannelFees\r\n\t\t\t\t\t\t\t\t\t\t).toFixed(2),\r\n\r\n\t\t\t\t\t\t\t\t\t\tmainTokenSymbol,\r\n\t\t\t\t\t\t\t\t\t\tmaxChannelFees,\r\n\t\t\t\t\t\t\t\t\t\tmainTokenSymbol,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\tname='depositAmount'\r\n\t\t\t\t\t\t\t\tvalue={depositAmount}\r\n\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'depositAmount', true)\r\n\t\t\t\t\t\t\t\t\thandleChange('depositAmount', ev.target.value)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty\r\n\t\t\t\t\t\t\t\t\t\t? errDepAmnt.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('DEPOSIT_AMOUNT_HELPER_TXT', {\r\n\t\t\t\t\t\t\t\t\t\t\t\targs: [maxChannelFees, mainTokenSymbol],\r\n\t\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\r\n\t\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\t\tvalue={minPerImpression}\r\n\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'minPerImpression', true)\r\n\t\t\t\t\t\t\t\t\thandleChange('minPerImpression', ev.target.value)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrMin && !!errMin.dirty ? errMin.errMsg : t('CPM_HELPER_TXT')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\r\n\t\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\r\n\t\t\t\t\t\t\t\tminDate={now}\r\n\t\t\t\t\t\t\t\tmaxDate={to}\r\n\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\tthis.handleDates('activeFrom', val.valueOf(), true)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tvalue={from || null}\r\n\t\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\r\n\t\t\t\t\t\t\t\t\t\t? errFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\r\n\t\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\r\n\t\t\t\t\t\t\t\tminDate={from || now}\r\n\t\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\t\tthis.handleDates('withdrawPeriodStart', val.valueOf(), true)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvalue={to || null}\r\n\t\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\r\n\t\t\t\t\t\t\t\t\t\t? errTo.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleChange(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'minTargetingScore',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaignFinance.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\tconst spinner = selectSpinnerById(state, 'getting-campaigns-fees')\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tspinner,\r\n\t}\r\n}\r\n\r\nconst NewCampaignFinance = NewCampaignHoc(CampaignFinance)\r\n\r\nexport default connect(mapStateToProps)(Translate(NewCampaignFinance))\r\n","import React from 'react'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { TopLoading } from 'components/common/dialog/content'\r\n\r\nexport const WalletAction = ({ t, authType }) => {\r\n\tlet msg = ''\r\n\tlet subMsg\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\r\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.LEDGER.name:\r\n\t\t\tmsg = 'LEDGER_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport EnhancedTable from 'components/dashboard/containers/Tables/EnhancedTable'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n} from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport {\r\n\tselectAccountIdentityAddr,\r\n\tselectAuthType,\r\n\tselectMainToken,\r\n} from 'selectors'\r\n\r\nclass CampaignFormPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\tAdUnitsTable = ({ items }) => {\r\n\t\treturn (\r\n\t\t\t<Grid item sm={12}>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<EnhancedTable itemType={'AdUnit'} items={items} noActions listMode />\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { identityAddr, authType, newItem, mainToken, t } = this.props\r\n\t\tconst {\r\n\t\t\ttitle,\r\n\t\t\t// targeting,\r\n\t\t\tadUnits,\r\n\t\t\tvalidators,\r\n\t\t\tdepositAmount,\r\n\t\t\tminPerImpression,\r\n\t\t\t// maxPerImpression,\r\n\t\t\t// depositAsset,\r\n\t\t\twithdrawPeriodStart,\r\n\t\t\tactiveFrom,\r\n\t\t\tminTargetingScore,\r\n\t\t\t// nonce\r\n\t\t} = newItem\r\n\r\n\t\tconst { symbol } = mainToken\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t{newItem.temp.waitingAction ? (\r\n\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t<WalletAction t={t} authType={authType} />\r\n\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('adUnits', { isProp: true })}\r\n\t\t\t\t\t\tright={<this.AdUnitsTable items={adUnits} />}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('validators', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{validators.map(val => (\r\n\t\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\tright={`${depositAmount} ${symbol}`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\tright={`${minPerImpression} ${symbol}`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('maxPerImpression', { isProp: true })}\r\n\t\t\t\t\t\tright={maxPerImpression}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(activeFrom)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{minTargetingScore && <PropRow right={t('CAMPAIGN_MIN_TARGETING')} />}\r\n\t\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('created', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(created)}\r\n\t\t\t\t\t/> */}\r\n\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaignFormPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tidentityAddr: selectAccountIdentityAddr(state),\r\n\t\tauthType: selectAuthType(state),\r\n\t\tmainToken: selectMainToken(state),\r\n\t}\r\n}\r\n\r\nconst NewCampaignFormPreview = NewCampaignHoc(\r\n\twithStyles(styles)(CampaignFormPreview)\r\n)\r\nexport default connect(mapStateToProps)(Translate(NewCampaignFormPreview))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\n\r\nexport default function NewAdUnitHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'AdSlot',\r\n\t\t\t\tAdSlot\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { actions, newItem } = this.props\r\n\r\n\t\t\tactions.addSlot(newItem)\r\n\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('AdSlot')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('AdSlot')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { memory } = state\r\n\t\treturn {\r\n\t\t\tnewItem: new AdSlot(memory.newItem['AdSlot']),\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { utils } from 'ethers'\r\nimport { validations, constants, schemas, Joi } from 'adex-models'\r\nimport { selectMainToken } from 'selectors'\r\n\r\nconst { adSlotPost } = schemas\r\n\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nclass AdSlotBasic extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tthis.validateTitle(newItem.title, false)\r\n\t\tthis.validateDescription(newItem.description, false)\r\n\t\tthis.validateAndUpdateType(false, newItem.type)\r\n\t}\r\n\r\n\tvalidateTitle(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adSlotPost.title)\r\n\r\n\t\tthis.props.validate('title', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateDescription(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adSlotPost.description)\r\n\r\n\t\tthis.props.validate('description', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAndUpdateType = (dirty, value) => {\r\n\t\tconst result = Joi.validate(value, adSlotPost.type)\r\n\r\n\t\tthis.props.handleChange('type', value)\r\n\t\tthis.props.validate('type', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAmount(value = '', prop, dirty, errMsg) {\r\n\t\tconst isValidNumber = validations.isNumberString(value)\r\n\t\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\r\n\r\n\t\tthis.props.validate(prop, {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tupdateMinPerImpression(value = '') {\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.minPerImpression = value\r\n\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tnewItem,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t\t// nameHelperTxt,\r\n\t\t\t// descriptionHelperTxt\r\n\t\t} = this.props\r\n\t\tconst { type, title, description, temp } = newItem\r\n\t\tconst { minPerImpression } = temp\r\n\t\tconst errTitle = invalidFields['title']\r\n\t\tconst errDescription = invalidFields['description']\r\n\t\tconst errMin = invalidFields['minPerImpression']\r\n\t\tconst { symbol } = selectMainToken\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateDescription(description, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\r\n\t\t\t\t\t\t\tsource={AdTypes}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={minPerImpression}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'minPerImpression', true)\r\n\t\t\t\t\t\t\t\tthis.updateMinPerImpression(ev.target.value)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\r\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotBasic.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdSlotBasic = NewAdSlotHoc(AdSlotBasic)\r\n\r\nexport default Translate(NewAdSlotBasic)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport { schemas, Joi } from 'adex-models'\r\n\r\nconst { adUnitPost } = schemas\r\n\r\nconst getWidAndHightFromType = type => {\r\n\ttype = type || 'legacy_300x250'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n\r\nclass AdSlotMedia extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tconst { temp, targetUrl } = newItem\r\n\t\tconst { useFallback } = temp\r\n\r\n\t\tif (useFallback) {\r\n\t\t\tthis.validateImage(useFallback)\r\n\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateImage = useFallback => {\r\n\t\tconst { newItem, validate } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst { tempUrl } = temp\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tconst isValidMediaSize =\r\n\t\t\t!useFallback ||\r\n\t\t\t(tempUrl &&\r\n\t\t\t\t// TODO: validate ration not exact\r\n\t\t\t\ttemp.width === width &&\r\n\t\t\t\ttemp.height === height)\r\n\r\n\t\tvalidate('temp', {\r\n\t\t\tisValid: isValidMediaSize,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t},\r\n\t\t\tdirty: true,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateFallbackUrl = (targetUrl, dirty, useFallback) => {\r\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\r\n\t\tthis.props.validate('targetUrl', {\r\n\t\t\tisValid: !useFallback || !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\thandleFallbackChange = useFallback => {\r\n\t\tconst { temp, targetUrl } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.useFallback = useFallback\r\n\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t\tthis.validateFallbackUrl(targetUrl, null, useFallback)\r\n\t\tthis.validateImage(useFallback)\r\n\t}\r\n\r\n\thandleImgChange = (prop, img) => {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst newTemp = { ...newItem.temp, ...img }\r\n\t\thandleChange(prop, newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tnewItem,\r\n\t\t\tt,\r\n\t\t\tvalidateMedia,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t} = this.props\r\n\t\tconst { targetUrl, type, temp } = newItem\r\n\t\tconst useFallback = temp.useFallback || false\r\n\t\tconst errImg = this.props.invalidFields['temp']\r\n\t\tconst errFallbackUrl = invalidFields['targetUrl']\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\tchecked={useFallback}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleFallbackChange(ev.target.checked)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormHelperText>{t('USE_FALLBACK_DATA_INFO')}</FormHelperText>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Collapse in={useFallback}>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\r\n\t\t\t\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, false, useFallback)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\r\n\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotMedia.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tnewItem: PropTypes.object.isRequired,\r\n}\r\n\r\nconst NewAdSlotMedia = NewAdSlotHoc(ValidImageHoc(AdSlotMedia))\r\n\r\nexport default Translate(NewAdSlotMedia)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst AcTags = autocompleteTagsSingleSelect()\r\n\r\nconst SOURCES = {\r\n\ttags: { src: AcTags, collection: 'tags' },\r\n\tcustom: { src: [], collection: 'tags' },\r\n}\r\n\r\nconst styles = {\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n\tmarkLabel: {\r\n\t\ttop: '30px',\r\n\t},\r\n}\r\nconst marks = [\r\n\t{\r\n\t\tvalue: 5,\r\n\t\tlabel: 'Low',\r\n\t},\r\n\t{\r\n\t\tvalue: 50,\r\n\t\tlabel: 'Medium',\r\n\t},\r\n\t{\r\n\t\tvalue: 95,\r\n\t\tlabel: 'High',\r\n\t},\r\n]\r\n\r\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\r\n\treturn {\r\n\t\tvalue: {\r\n\t\t\tkey: key, // FOR DROPDOWN\r\n\t\t\tsource: key,\r\n\t\t\tcollection: SOURCES[key].collection,\r\n\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t},\r\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\r\n\t}\r\n})\r\n\r\nclass AdSlotTargeting extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { targets } = props.newItem.temp || {}\r\n\t\tthis.state = {\r\n\t\t\ttargets: targets || [],\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNewItemCollections(targets) {\r\n\t\tconst collections = [...targets].reduce(\r\n\t\t\t(all, tg) => {\r\n\t\t\t\tconst newCollection = all[tg.collection] || []\r\n\t\t\t\t// NOTE: just skip empty tags\r\n\t\t\t\tif (!!tg.target.tag) {\r\n\t\t\t\t\tnewCollection.push(tg.target)\r\n\t\t\t\t}\r\n\t\t\t\tall[tg.collection] = newCollection\r\n\t\t\t\treturn all\r\n\t\t\t},\r\n\t\t\t{ targeting: [], tags: [] }\r\n\t\t)\r\n\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.targets = [...targets]\r\n\t\tcollections.temp = newTemp\r\n\r\n\t\tthis.props.handleChange(null, null, collections)\r\n\t}\r\n\r\n\thandleTargetChange = (index, prop, newValue) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...newTargets[index].target }\r\n\t\tnewTarget[prop] = newValue\r\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tnewTarget = target => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.key = newTargets.length\r\n\t\tnewTarget.target = { ...target.target }\r\n\t\tnewTargets.push(newTarget)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tremoveTarget = index => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tnewTargets.splice(index, 1)\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t\tthis.validateAutocomplete({\r\n\t\t\tid: `target-${index}`,\r\n\t\t\tisValid: true,\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\r\n\t\tthis.props.validate(id, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})\r\n\t}\r\n\r\n\ttargetTag = ({\r\n\t\tsource,\r\n\t\tcollection,\r\n\t\tplaceholder,\r\n\t\tlabel,\r\n\t\tindex,\r\n\t\ttarget,\r\n\t\tt,\r\n\t\tclasses,\r\n\t\tinvalidFields,\r\n\t}) => {\r\n\t\tconst id = `target-${index}`\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\tdirection='auto'\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\r\n\t\t\t\t\t\terrorText={\r\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\r\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonChange={newValue => {\r\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: newValue,\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonInit={() =>\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: target.tag,\r\n\t\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// validate={validate}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={11} md={5}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography id={`target-score-${index}`}>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [target.score],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\r\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tmarks={marks}\r\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\r\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\r\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// newItem,\r\n\t\t\tclasses,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\t// const { targeting, tags } = newItem\r\n\r\n\t\tconst { targets } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{[...targets].map(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{ source, collection, label, placeholder, target = {} } = {},\r\n\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t\t<this.targetTag\r\n\t\t\t\t\t\t\t\t\tkey={index} // TODO\r\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tsource={SOURCES[source].src}\r\n\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={target => {\r\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotTargeting.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdSlotTargeting = NewAdSlotHoc(withStyles(styles)(AdSlotTargeting))\r\n\r\nexport default Translate(NewAdSlotTargeting)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Img from 'components/common/img/Img'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\nimport { selectMainToken } from 'selectors'\r\n\r\nconst SlotFallback = ({ img, targetUrl, t, classes }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\timg: classes.imgPreview,\r\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\r\n\t\t\t\t\t\talt={targetUrl}\r\n\t\t\t\t\t\tmediaMime={img.mime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\r\n\t\t\t\t\t\t{targetUrl}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nclass AdSlotPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, account, mainTokenSymbol, ...rest } = this.props\r\n\t\tconst { newItem, t } = rest\r\n\t\tconst { type, title, description, temp, tags, targetUrl } = newItem\r\n\t\tconst { minPerImpression } = temp\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.wallet.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('MIN_CPM_SLOT_LABEL')}\r\n\t\t\t\t\t\tright={`${minPerImpression} ${mainTokenSymbol}`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{temp.useFallback && (\r\n\t\t\t\t\t\t<SlotFallback\r\n\t\t\t\t\t\t\timg={temp}\r\n\t\t\t\t\t\t\ttargetUrl={targetUrl}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{tags && (\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('tags', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\ttargets={tags}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotPreview.propTypes = {\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tmainTokenSymbol: selectMainToken(state),\r\n\t}\r\n}\r\n\r\nconst NewAdSlotPreview = NewAdSlotHoc(withStyles(styles)(AdSlotPreview))\r\nexport default connect(mapStateToProps)(Translate(NewAdSlotPreview))\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport FormSteps from 'components/dashboard/forms/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport NewAdUnitHoc from './AdUnit/NewAdUnitHoc'\r\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\r\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\r\nimport AdUnitTargeting from './AdUnit/AdUnitTargeting'\r\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\r\nimport NewCampaignHoc from './Campaign/NewCampaignHoc'\r\nimport CampaignUnits from './Campaign/CampaignUnits'\r\n// import CampaignTargeting from './Campaign/CampaignTargeting'\r\nimport CampaignFinance from './Campaign/CampaignFinance'\r\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\r\nimport NewAdSlotHoc from './AdSlot/NewAdSlotHoc'\r\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\r\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\r\nimport AdSlotTargeting from './AdSlot/AdSlotTargeting'\r\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\r\n\r\nconst SaveBtn = ({ newItem, t, save, ...rest }) => {\r\n\treturn (\r\n\t\t<Button color='primary' onClick={save}>\r\n\t\t\t{/*TODO: withStyles */}\r\n\t\t\t<SaveIcon style={{ marginRight: 8 }} />\r\n\t\t\t{t('SAVE')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SendBtn = ({ saveBtnLabel, saveBtnIcon, newItem, t, save, ...rest }) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t\tdisabled={newItem.temp.waitingAction}\r\n\t\t>\r\n\t\t\t{newItem.temp.waitingAction ? (\r\n\t\t\t\t<HourglassEmptyIcon />\r\n\t\t\t) : (\r\n\t\t\t\tsaveBtnIcon || <SaveIcon style={{ marginRight: 8 }} />\r\n\t\t\t)}\r\n\t\t\t{t(saveBtnLabel || 'OPEN_CAMPAIGN')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SaveBtnWithAdUnit = NewAdUnitHoc(SaveBtn)\r\nconst SaveBtnWithCampaign = NewCampaignHoc(SendBtn)\r\nconst SaveBtnWithAdSlot = NewAdSlotHoc(SaveBtn)\r\n\r\nconst CancelBtn = ({ ...props }) => {\r\n\treturn <Button onClick={props.cancel}>{props.t('CANCEL')}</Button>\r\n}\r\n\r\nconst CancelBtnWithItem = NewAdUnitHoc(CancelBtn)\r\nconst CancelBtnWithCampaign = NewCampaignHoc(CancelBtn)\r\nconst CancelBtnWithAdSlot = NewAdSlotHoc(CancelBtn)\r\n\r\nconst dialogCommon = {\r\n\tdarkerBackground: true,\r\n\ticon: <AddIcon />,\r\n}\r\n\r\n// Ad unit\r\nexport const NewUnitSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithAdUnit}\r\n\t\tCancelBtn={CancelBtnWithItem}\r\n\t\tvalidateIdBase={'new-AdUnit-'}\r\n\t\titemType={'AdUnit'}\r\n\t\tstepsId={'new-adunit-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'UNIT_BASIC_STEP', page: AdUnitBasic },\r\n\t\t\t{ title: 'UNIT_MEDIA_STEP', page: AdUnitMedia },\r\n\t\t\t{ title: 'UNIT_TARGETS_STEP', page: AdUnitTargeting },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\tpage: AdUnitFormPreview,\r\n\t\t}}\r\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\r\n\t\tnoDefaultImg\r\n\t\titemModel={AdUnit}\r\n\t/>\r\n)\r\n\r\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\r\n\r\nexport const NewUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_UNIT'\r\n\t\ttitle='CREATE_NEW_UNIT'\r\n\t/>\r\n)\r\n\r\nconst copyProps = {\r\n\tdarkerBackground: true,\r\n\ticon: <FileCopyIcon />,\r\n}\r\n\r\nexport const NewCloneUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\r\n)\r\n\r\n// Campaign\r\nexport const NewCampaignSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithCampaign}\r\n\t\tCancelBtn={CancelBtnWithCampaign}\r\n\t\tvalidateIdBase={'new-Campaign-'}\r\n\t\titemType={'Campaign'}\r\n\t\tstepsId={'new-campaign-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'CAMPAIGN_UNITS_STEP', page: CampaignUnits },\r\n\t\t\t// NOTE: Only at ad units at the moment\r\n\t\t\t// { title: 'CAMPAIGN_TARGETING_STEP', page: CampaignTargeting },\r\n\t\t\t{ title: 'CAMPAIGN_FINANCE_STEP', page: CampaignFinance },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\tpage: CampaignFormPreview,\r\n\t\t}}\r\n\t\titemModel={Campaign}\r\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\r\n\t/>\r\n)\r\n\r\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\r\n\r\nexport const NewCampaignDialog = props => (\r\n\t<NewCampaignStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\ttitle='CREATE_NEW_CAMPAIGN'\r\n\t/>\r\n)\r\n\r\n// Ad slot\r\nexport const NewSlotSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithAdSlot}\r\n\t\tCancelBtn={CancelBtnWithAdSlot}\r\n\t\tvalidateIdBase={'new-AdUnit-'}\r\n\t\titemType={'AdSlot'}\r\n\t\tstepsId={'new-slot-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'SLOT_BASIC_STEP', page: AdSlotBasic },\r\n\t\t\t{ title: 'SLOT_PASSBACK_STEP', page: AdSlotMedia },\r\n\t\t\t{ title: 'SLOT_TAGS_STEP', page: AdSlotTargeting },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdSlotPreview }}\r\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\r\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\r\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\r\n\t\titemModel={AdSlot}\r\n\t/>\r\n)\r\n\r\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\r\n\r\nexport const NewSlotDialog = props => (\r\n\t<NewSlotStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_SLOT'\r\n\t\ttitle='CREATE_NEW_SLOT'\r\n\t/>\r\n)\r\n","import React from 'react'\r\nimport { t } from 'selectors'\r\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport HourglassFullIcon from '@material-ui/icons/HourglassFull'\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\r\n\r\nconst headCells = {\r\n\tCampaign: [\r\n\t\t{\r\n\t\t\tid: 'title',\r\n\t\t\tnumeric: false,\r\n\t\t\tdisablePadding: true,\r\n\t\t\tdisableOrdering: true,\r\n\t\t\tlabel: t('PROP_MEDIA'),\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 'status.humanFriendlyName',\r\n\t\t\tnumeric: false,\r\n\t\t\tdisablePadding: false,\r\n\t\t\tlabel: t('PROP_STATUS'),\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 'depositAmount',\r\n\t\t\tnumeric: true,\r\n\t\t\tdisablePadding: false,\r\n\t\t\tlabel: t('PROP_DEPOSIT'),\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 'status.fundsDistributedRatio',\r\n\t\t\tnumeric: true,\r\n\t\t\tdisablePadding: false,\r\n\t\t\tlabel: t('PROP_DISTRIBUTED', { args: ['%'] }),\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 'minPerImpression',\r\n\t\t\tnumeric: true,\r\n\t\t\tdisablePadding: false,\r\n\t\t\tlabel: t('PROP_CPM'),\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 'created',\r\n\t\t\tnumeric: true,\r\n\t\t\tdisablePadding: false,\r\n\t\t\tlabel: t('PROP_CREATED'),\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 'activeFrom',\r\n\t\t\tnumeric: true,\r\n\t\t\tdisablePadding: false,\r\n\t\t\tlabel: t('PROP_STARTS'),\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 'withdrawPeriodStart',\r\n\t\t\tnumeric: true,\r\n\t\t\tdisablePadding: false,\r\n\t\t\tlabel: t('PROP_ENDS'),\r\n\t\t},\r\n\t],\r\n\tOther: [\r\n\t\t{\r\n\t\t\tid: 'id',\r\n\t\t\tnumeric: false,\r\n\t\t\tdisablePadding: true,\r\n\t\t\tdisableOrdering: true,\r\n\t\t\tlabel: t('PROP_MEDIA'),\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 'title',\r\n\t\t\tnumeric: false,\r\n\t\t\tdisablePadding: false,\r\n\t\t\tlabel: t('PROP_TITLE'),\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 'type',\r\n\t\t\tnumeric: false,\r\n\t\t\tdisablePadding: false,\r\n\t\t\tlabel: t('PROP_TYPE'),\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 'created',\r\n\t\t\tnumeric: false,\r\n\t\t\tdisablePadding: false,\r\n\t\t\tlabel: t('PROP_CREATED'),\r\n\t\t},\r\n\t],\r\n}\r\n\r\nconst filterTags = {\r\n\tCampaign: [{ name: 'active' }, { name: 'completed' }, { name: 'closed' }],\r\n\tOther: [\r\n\t\t{ name: 'legacy_300x250' },\r\n\t\t{ name: 'legacy_250x250' },\r\n\t\t{ name: 'legacy_240x400' },\r\n\t\t{ name: 'legacy_336x280' },\r\n\t\t{ name: 'legacy_180x150' },\r\n\t\t{ name: 'legacy_300x100' },\r\n\t\t{ name: 'legacy_720x300' },\r\n\t\t{ name: 'legacy_468x60' },\r\n\t\t{ name: 'legacy_728x90' },\r\n\t\t{ name: 'legacy_160x600' },\r\n\t\t{ name: 'legacy_120x600' },\r\n\t\t{ name: 'legacy_300x600' },\r\n\t],\r\n}\r\n\r\nconst missingData = {\r\n\tCampaign: t('NO_CAMPAINGS_INFORMATION'),\r\n\tAdUnit: t('NO_ADUNITS_INFORMATION'),\r\n\tAdSlot: t('NO_ADSLOTS_INFORMATION'),\r\n}\r\n\r\nconst mapStatusIcons = (humanFriendlyStatus, status, size) => {\r\n\tconst icon = {\r\n\t\txs: { fontSize: 10 },\r\n\t\tmd: { fontSize: 15 },\r\n\t\tls: { fontSize: 20 },\r\n\t}\r\n\tconst waitIcon = <HourglassFullIcon style={icon[size]} color={'secondary'} />\r\n\tconst doneIcon = <DoneAllIcon style={icon[size]} color={'primary'} />\r\n\tconst warningIcon = <WarningIcon style={icon[size]} color={'error'} />\r\n\tconst cashIcon = <MonetizationOnIcon style={icon[size]} color={'accentTwo'} />\r\n\tif (humanFriendlyStatus === 'Closed' && status.toLowerCase() !== 'exhausted')\r\n\t\treturn waitIcon\r\n\tswitch (status.toLowerCase()) {\r\n\t\tcase 'active':\r\n\t\tcase 'ready':\r\n\t\t\treturn doneIcon\r\n\t\tcase 'pending':\r\n\t\tcase 'initializing':\r\n\t\tcase 'waiting':\r\n\t\t\treturn waitIcon\r\n\t\tcase 'offline':\r\n\t\tcase 'disconnected':\r\n\t\tcase 'unhealthy':\r\n\t\tcase 'invalid':\r\n\t\t\treturn warningIcon\r\n\t\tcase 'withdraw':\r\n\t\t\treturn cashIcon\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n\r\nexport { headCells, filterTags, missingData, mapStatusIcons }\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport TableCell from '@material-ui/core/TableCell'\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport { headCells } from './tableConfig'\r\n\r\nexport default function EnhancedTableHead(props) {\r\n\tconst {\r\n\t\tclasses,\r\n\t\tonSelectAllClick,\r\n\t\torder,\r\n\t\torderBy,\r\n\t\tnumSelected,\r\n\t\trowCount,\r\n\t\tonRequestSort,\r\n\t\titemType,\r\n\t\tnoActions,\r\n\t\tlistMode,\r\n\t} = props\r\n\tconst createSortHandler = (property, numeric) => event => {\r\n\t\tonRequestSort(event, property, numeric)\r\n\t}\r\n\tconst headSide = itemType === 'Campaign' ? itemType : 'Other'\r\n\treturn (\r\n\t\t<TableHead>\r\n\t\t\t<TableRow>\r\n\t\t\t\t{!listMode && (\r\n\t\t\t\t\t<TableCell padding='checkbox'>\r\n\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\tindeterminate={numSelected > 0 && numSelected < rowCount}\r\n\t\t\t\t\t\t\tchecked={numSelected === rowCount}\r\n\t\t\t\t\t\t\tonChange={onSelectAllClick}\r\n\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'select all desserts' }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t)}\r\n\t\t\t\t{headCells[headSide].map(headCell => (\r\n\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\tkey={headCell.id}\r\n\t\t\t\t\t\talign={'left'}\r\n\t\t\t\t\t\tpadding={'default'}\r\n\t\t\t\t\t\tsortDirection={orderBy === headCell.id ? order : false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!headCell.disableOrdering && !listMode ? (\r\n\t\t\t\t\t\t\t<TableSortLabel\r\n\t\t\t\t\t\t\t\tactive={orderBy === headCell.id}\r\n\t\t\t\t\t\t\t\tdirection={order}\r\n\t\t\t\t\t\t\t\tonClick={createSortHandler(headCell.id, headCell.numeric)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{headCell.label}\r\n\t\t\t\t\t\t\t\t{orderBy === headCell.id ? (\r\n\t\t\t\t\t\t\t\t\t<span className={classes.visuallyHidden}>\r\n\t\t\t\t\t\t\t\t\t\t{order === 'desc'\r\n\t\t\t\t\t\t\t\t\t\t\t? 'sorted descending'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'sorted ascending'}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</TableSortLabel>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>{headCell.label}</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t))}\r\n\t\t\t\t{!noActions && (\r\n\t\t\t\t\t<TableCell align={'left'} padding={'default'}>\r\n\t\t\t\t\t\t<div>{'Actions'}</div>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t)}\r\n\t\t\t</TableRow>\r\n\t\t</TableHead>\r\n\t)\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n\titemType: PropTypes.string.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n\tnumSelected: PropTypes.number.isRequired,\r\n\tonRequestSort: PropTypes.func.isRequired,\r\n\tonSelectAllClick: PropTypes.func.isRequired,\r\n\torder: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n\torderBy: PropTypes.string.isRequired,\r\n\trowCount: PropTypes.number.isRequired,\r\n}\r\n","import React, { useState, useCallback, useEffect } from 'react'\r\n// import { PublisherStatistics } from 'components/dashboard/charts/revenue'\r\nimport FilterListIcon from '@material-ui/icons/FilterList'\r\nimport PropTypes from 'prop-types'\r\nimport { Popover, Chip } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport FormLabel from '@material-ui/core/FormLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormGroup from '@material-ui/core/FormGroup'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport { t } from 'selectors'\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(3),\r\n\t},\r\n\tchip: {\r\n\t\tmargin: theme.spacing(1),\r\n\t},\r\n}))\r\n\r\nexport default function ChipMultipleSelect(props) {\r\n\tconst [anchorDatePicker, setAnchorDatePicker] = useState(null)\r\n\tconst { state, setState, items, label } = props\r\n\tconst classes = useStyles()\r\n\r\n\tconst selectAll = useCallback(() => {\r\n\t\tlet newSelecteds = {}\r\n\t\titems.map(n => (newSelecteds[n.name] = true))\r\n\t\tsetState(newSelecteds)\r\n\t}, [items, setState])\r\n\r\n\tuseEffect(() => {\r\n\t\tselectAll()\r\n\t}, [selectAll])\r\n\r\n\tconst handleSelectAllClick = event => {\r\n\t\tif (event.target.checked) {\r\n\t\t\tselectAll()\r\n\t\t\treturn\r\n\t\t}\r\n\t\tsetState({})\r\n\t}\r\n\r\n\tconst selected = Object.keys(state).filter(function(e) {\r\n\t\treturn state[e] === true\r\n\t})\r\n\r\n\tconst labelParser = (selected, numberToShow) => {\r\n\t\tlet result = []\r\n\t\tconst numberToShowGreater = numberToShow >= selected.length\r\n\t\tconst loopCount = numberToShowGreater ? selected.length : numberToShow\r\n\t\tfor (let i = 0; i < loopCount; i++) {\r\n\t\t\tresult.push(`${selected[i].replace(/^\\w/, c => c.toUpperCase())}`)\r\n\t\t}\r\n\t\treturn numberToShowGreater\r\n\t\t\t? result.join(', ')\r\n\t\t\t: result.join(', ').concat(\r\n\t\t\t\t\tt('MORE_SELECTED', {\r\n\t\t\t\t\t\targs: [selected.length - numberToShow],\r\n\t\t\t\t\t})\r\n\t\t\t  )\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Chip\r\n\t\t\t\tlabel={\r\n\t\t\t\t\tselected.length === items.length\r\n\t\t\t\t\t\t? `${label} (${t('ALL_SELECTED')})`\r\n\t\t\t\t\t\t: selected.length === 0\r\n\t\t\t\t\t\t? `${label} (${t('NONE_SELECTED')})`\r\n\t\t\t\t\t\t: labelParser(selected, 2)\r\n\t\t\t\t}\r\n\t\t\t\tcolor={selected.length === items.length ? 'default' : 'secondary'}\r\n\t\t\t\tonClick={e => setAnchorDatePicker(e.currentTarget)}\r\n\t\t\t\ticon={<FilterListIcon />}\r\n\t\t\t\tclassName={classes.chip}\r\n\t\t\t/>\r\n\t\t\t<Popover\r\n\t\t\t\tid={'daterange-picker'}\r\n\t\t\t\topen={Boolean(anchorDatePicker)}\r\n\t\t\t\tanchorEl={anchorDatePicker}\r\n\t\t\t\tonClose={e => setAnchorDatePicker(null)}\r\n\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\tvertical: 'bottom',\r\n\t\t\t\t\thorizontal: 'left',\r\n\t\t\t\t}}\r\n\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\thorizontal: 'left',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<FormControl component='fieldset' className={classes.formControl}>\r\n\t\t\t\t\t<FormLabel component='legend'>{t('FILTER_BY_STATUS')}</FormLabel>\r\n\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tindeterminate={\r\n\t\t\t\t\t\t\t\t\t\tselected.length > 0 && selected.length < items.length\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tchecked={selected.length === items.length}\r\n\t\t\t\t\t\t\t\t\tonChange={handleSelectAllClick}\r\n\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'select all filters' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('SELECT_ALL')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t{items.map(item => (\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={state[item.name] ? state[item.name] : false}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetState({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...state,\r\n\t\t\t\t\t\t\t\t\t\t\t\t[item.name]: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvalue={item.name}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={item.name.replace(/^\\w/, c => c.toUpperCase())}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<FormHelperText>{t('SELECT_INFORMATION')}</FormHelperText>\r\n\t\t\t\t</FormControl>\r\n\t\t\t</Popover>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nChipMultipleSelect.propTypes = {\r\n\tstate: PropTypes.object.isRequired,\r\n\tsetState: PropTypes.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\tlabel: PropTypes.string.isRequired,\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\nimport classnames from 'classnames'\r\nimport ChipMultipleSelect from 'components/common/dropdown/ChipMultipleSelect'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport Input from '@material-ui/core/Input'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport ClearIcon from '@material-ui/icons/Clear'\r\nimport ArchiveIcon from '@material-ui/icons/Archive'\r\nimport { lighten, makeStyles } from '@material-ui/core/styles'\r\nimport { filterTags } from './tableConfig'\r\nimport { t } from 'selectors'\r\n\r\nconst useToolbarStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tpaddingLeft: theme.spacing(2),\r\n\t\tpaddingRight: theme.spacing(1),\r\n\t},\r\n\thighlight:\r\n\t\ttheme.palette.type === 'light'\r\n\t\t\t? {\r\n\t\t\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t\t\t\tbackgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\tcolor: theme.palette.text.primary,\r\n\t\t\t\t\tbackgroundColor: theme.palette.secondary.dark,\r\n\t\t\t  },\r\n\ttitle: {\r\n\t\tflex: '1 1 100%',\r\n\t},\r\n}))\r\n\r\nexport default function EnhancedTableToolbar(props) {\r\n\tconst classes = useToolbarStyles()\r\n\tconst {\r\n\t\tnumSelected,\r\n\t\tsearch,\r\n\t\tsetSearch,\r\n\t\tfilters,\r\n\t\tsetFilters,\r\n\t\titemType,\r\n\t} = props\r\n\tconst filterSide = itemType === 'Campaign' ? itemType : 'Other'\r\n\tconst filtersTagsCount = Object.values(filters).filter(e => e).length\r\n\tconst filtersPresent =\r\n\t\tfiltersTagsCount < filterTags[filterSide].length || search\r\n\tconst initialFilterTags = {}\r\n\tfilterTags[filterSide].map(n => (initialFilterTags[n.name] = true))\r\n\r\n\treturn (\r\n\t\t<Toolbar\r\n\t\t\tclassName={clsx(classes.root, {\r\n\t\t\t\t[classes.highlight]: numSelected > 0,\r\n\t\t\t})}\r\n\t\t>\r\n\t\t\t{numSelected > 0 ? (\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tclassName={classes.title}\r\n\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\tvariant='subtitle1'\r\n\t\t\t\t>\r\n\t\t\t\t\t{numSelected} selected\r\n\t\t\t\t</Typography>\r\n\t\t\t) : (\r\n\t\t\t\t<FormControl className={classnames(classes.flexItem)}>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tname='search'\r\n\t\t\t\t\t\tid='search'\r\n\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\tonChange={ev => setSearch(ev.target.value)}\r\n\t\t\t\t\t\tstartAdornment={\r\n\t\t\t\t\t\t\t<InputAdornment position='start'>\r\n\t\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormControl>\r\n\t\t\t)}\r\n\r\n\t\t\t{numSelected > 0 ? null : (\r\n\t\t\t\t// This is for the multiple select and\r\n\t\t\t\t// will be implemented when we add achive to the market\r\n\t\t\t\t/*!noActions && (\r\n\t\t\t\t\t<Tooltip title='Archive'>\r\n\t\t\t\t\t\t<IconButton aria-label='archive'>\r\n\t\t\t\t\t\t\t<ArchiveIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t)*/\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<Tooltip title={t('FILTER_LIST')}>\r\n\t\t\t\t\t\t<ChipMultipleSelect\r\n\t\t\t\t\t\t\titems={filterTags[filterSide]}\r\n\t\t\t\t\t\t\tstate={filters}\r\n\t\t\t\t\t\t\tsetState={setFilters}\r\n\t\t\t\t\t\t\tlabel={t('FILTER')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{filtersPresent && (\r\n\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\tlabel={t('CLEAR_ALL_FILTERS')}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetSearch('')\r\n\t\t\t\t\t\t\t\tsetFilters(initialFilterTags)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon={<ClearIcon />}\r\n\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t)}\r\n\t\t</Toolbar>\r\n\t)\r\n}\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n\tnumSelected: PropTypes.number.isRequired,\r\n}\r\n","import moment from 'moment'\r\n\r\nconst isOverlapping = (startDate, endDate, dateRange) => {\r\n\tconst startDate1 = moment(startDate)\r\n\tconst endDate1 = moment(endDate)\r\n\tconst startDate2 = moment(dateRange.startDate)\r\n\tconst endDate2 = moment(dateRange.endDate)\r\n\tconst result = moment\r\n\t\t.max(startDate1, startDate2)\r\n\t\t.isBefore(moment.min(endDate1, endDate2))\r\n\treturn result\r\n}\r\n\r\nconst isBetween = (date, dateRange) => {\r\n\tif (dateRange.startDate && dateRange.endDate)\r\n\t\treturn moment(date).isBetween(dateRange.startDate, dateRange.endDate)\r\n\telse return true\r\n}\r\n\r\nconst desc = (a, b, orderBy, numeric) => {\r\n\tconst subCategories = orderBy.split('.')\r\n\tsubCategories.forEach(prop => {\r\n\t\ta = a[prop]\r\n\t\tb = b[prop]\r\n\t})\r\n\tif (numeric) {\r\n\t\ta = Number(a)\r\n\t\tb = Number(b)\r\n\t}\r\n\r\n\tif (b < a) return -1\r\n\tif (b > a) return 1\r\n\treturn 0\r\n}\r\n\r\nconst filterBySearch = (items, search) => {\r\n\treturn items.filter(\r\n\t\titem =>\r\n\t\t\t(item.title && item.title.toLowerCase().includes(search.toLowerCase())) ||\r\n\t\t\t(item.description &&\r\n\t\t\t\titem.description.toLowerCase().includes(search.toLowerCase())) ||\r\n\t\t\t(item.type && item.type.toLowerCase().includes(search.toLowerCase())) ||\r\n\t\t\t(item.status &&\r\n\t\t\t\titem.status.name &&\r\n\t\t\t\titem.status.name.toLowerCase().includes(search.toLowerCase())) ||\r\n\t\t\t(item.id && item.id.toLowerCase() === search.toLowerCase())\r\n\t\t// We can search on more fields as well\r\n\t)\r\n}\r\n\r\nconst filterByTags = (items, filters, itemType) => {\r\n\tconst filtered = items.filter(item => {\r\n\t\tconst tag =\r\n\t\t\titemType === 'Campaign'\r\n\t\t\t\t? item.status && item.status.humanFriendlyName\r\n\t\t\t\t\t? item.status.humanFriendlyName.toLowerCase()\r\n\t\t\t\t\t: 'pending'\r\n\t\t\t\t: item.type.toLowerCase()\r\n\r\n\t\treturn !!filters[tag]\r\n\t})\r\n\r\n\treturn filtered\r\n}\r\n\r\nconst filterByDate = (items, dateRange) => {\r\n\treturn items.filter(\r\n\t\titem => isBetween(item.created, dateRange)\r\n\t\t// In campaigns we can search date for overlapping period between Starts Ends\r\n\t\t// searchOverlap && isOverlapping(item.activeFrom, item.withdrawPeriodStart, dateRange))\r\n\t)\r\n}\r\n\r\nconst stableSort = (array, cmp) => {\r\n\tconst stabilizedThis = array.map((el, index) => [el, index])\r\n\tstabilizedThis.sort((a, b) => {\r\n\t\tconst order = cmp(a[0], b[0])\r\n\t\tif (order !== 0) return order\r\n\t\treturn a[1] - b[1]\r\n\t})\r\n\treturn stabilizedThis.map(el => el[0])\r\n}\r\n\r\nconst getSorting = (order, orderBy, orderToken) => {\r\n\treturn order === 'desc'\r\n\t\t? (a, b) => desc(a, b, orderBy, orderToken)\r\n\t\t: (a, b) => -desc(a, b, orderBy, orderToken)\r\n}\r\n\r\nexport { filterBySearch, filterByTags, filterByDate, stableSort, getSorting }\r\n","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport Img from 'components/common/img/Img'\r\nimport Table from '@material-ui/core/Table'\r\nimport TableBody from '@material-ui/core/TableBody'\r\nimport TableCell from '@material-ui/core/TableCell'\r\nimport TablePagination from '@material-ui/core/TablePagination'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport VisibilityIcon from '@material-ui/icons/Visibility'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport { AdUnit } from 'adex-models'\r\nimport { t, selectSide, selectMainToken } from 'selectors'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useSelector } from 'react-redux'\r\nimport { missingData, headCells, mapStatusIcons } from './tableConfig'\r\nimport EnhancedTableHead from './EnhancedTableHead'\r\nimport EnhancedTableToolbar from './EnhancedTableToolbar'\r\nimport {\r\n\tfilterBySearch,\r\n\tfilterByTags,\r\n\tstableSort,\r\n\tgetSorting,\r\n} from './filterHelpers'\r\nconst RRTableCell = withReactRouterLink(TableCell)\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t},\r\n\tpaper: {\r\n\t\twidth: '100%',\r\n\t\tmarginBottom: theme.spacing(2),\r\n\t},\r\n\ttable: {\r\n\t\t// minWidth: 750,\r\n\t\ttableLayout: 'auto',\r\n\t\twidth: '100%',\r\n\t},\r\n\ttableWrapper: {\r\n\t\toverflowX: 'auto',\r\n\t},\r\n\tvisuallyHidden: {\r\n\t\tborder: 0,\r\n\t\tclip: 'rect(0 0 0 0)',\r\n\t\theight: 1,\r\n\t\tmargin: -1,\r\n\t\toverflow: 'hidden',\r\n\t\tpadding: 0,\r\n\t\tposition: 'absolute',\r\n\t\ttop: 20,\r\n\t\twidth: 1,\r\n\t},\r\n\tspacer: {\r\n\t\tflex: '0',\r\n\t},\r\n\tcellImg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t\tmaxHeight: 70,\r\n\t\tmaxWidth: 180,\r\n\t\tcursor: 'pointer',\r\n\t},\r\n}))\r\n\r\nconst renderActions = ({ item, to, itemType }) => {\r\n\treturn (\r\n\t\t<TableCell>\r\n\t\t\t<Tooltip\r\n\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t// placement='top'\r\n\t\t\t\tenterDelay={1000}\r\n\t\t\t>\r\n\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t<VisibilityIcon color='primary' />\r\n\t\t\t\t</RRIconButton>\r\n\t\t\t</Tooltip>\r\n\t\t\t{itemType === 'AdUnit' ? (\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\texecute(cloneItem({ item, itemType, objModel: AdUnit }))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t) : null}\r\n\t\t</TableCell>\r\n\t)\r\n}\r\n\r\nexport default function EnhancedTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\t// const items = []\r\n\tconst {\r\n\t\titems, //\r\n\t\titemType,\r\n\t\tnoActions,\r\n\t\tvalidate,\r\n\t\thandleSelect,\r\n\t\tlistMode,\r\n\t} = props\r\n\tconst [order, setOrder] = React.useState('desc')\r\n\tconst [orderBy, setOrderBy] = React.useState('created')\r\n\tconst [orderIsNumeric, setOrderisNumeric] = React.useState(true)\r\n\tconst [selected, setSelected] = React.useState([])\r\n\tconst [page, setPage] = React.useState(0)\r\n\tconst [rowsPerPage, setRowsPerPage] = React.useState(5)\r\n\tconst [search, setSearch] = React.useState('')\r\n\tconst [filters, setFilters] = React.useState({})\r\n\r\n\tReact.useEffect(() => {\r\n\t\tconst isValid = !!selected.length\r\n\t\tif (validate && handleSelect) {\r\n\t\t\tvalidate('adUnits', {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: 'ERR_ADUNITS_REQIURED' },\r\n\t\t\t\tdirty: true,\r\n\t\t\t})\r\n\t\t\tisValid && handleSelect(selected)\r\n\t\t}\r\n\t\t// TODO: temp fix - need to redesign the table again\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [selected])\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsetPage(0)\r\n\t}, [search, filters])\r\n\r\n\tconst handleRequestSort = (event, property, numeric) => {\r\n\t\tconst isDesc = orderBy === property && order === 'desc'\r\n\t\tsetOrder(isDesc ? 'asc' : 'desc')\r\n\t\tsetOrderBy(property)\r\n\t\tsetOrderisNumeric(numeric)\r\n\t}\r\n\r\n\tconst handleSelectAllClick = event => {\r\n\t\tif (event.target.checked) {\r\n\t\t\tconst newSelecteds = items.map(n => n.id)\r\n\t\t\tsetSelected(newSelecteds)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tsetSelected([])\r\n\t}\r\n\r\n\tconst handleClick = (event, name) => {\r\n\t\tconst selectedIndex = selected.indexOf(name)\r\n\t\tlet newSelected = []\r\n\r\n\t\tif (selectedIndex === -1) {\r\n\t\t\tnewSelected = newSelected.concat(selected, name)\r\n\t\t} else if (selectedIndex === 0) {\r\n\t\t\tnewSelected = newSelected.concat(selected.slice(1))\r\n\t\t} else if (selectedIndex === selected.length - 1) {\r\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, -1))\r\n\t\t} else if (selectedIndex > 0) {\r\n\t\t\tnewSelected = newSelected.concat(\r\n\t\t\t\tselected.slice(0, selectedIndex),\r\n\t\t\t\tselected.slice(selectedIndex + 1)\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tsetSelected(newSelected)\r\n\t}\r\n\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage)\r\n\t}\r\n\r\n\tconst handleChangeRowsPerPage = event => {\r\n\t\tsetRowsPerPage(parseInt(event.target.value, 10))\r\n\t\tsetPage(0)\r\n\t}\r\n\r\n\tconst isSelected = id => selected.indexOf(id) !== -1\r\n\r\n\tconst filteredItems = listMode\r\n\t\t? items\r\n\t\t: filterBySearch(filterByTags(items, filters, itemType), search)\r\n\r\n\tconst sortedItems = stableSort(\r\n\t\tfilteredItems,\r\n\t\tgetSorting(order, orderBy, orderIsNumeric)\r\n\t)\r\n\r\n\tconst emptyRows =\r\n\t\trowsPerPage -\r\n\t\tMath.min(rowsPerPage, filteredItems.length - 1 - page * rowsPerPage)\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Paper className={classes.paper}>\r\n\t\t\t\t{!listMode && (\r\n\t\t\t\t\t<EnhancedTableToolbar\r\n\t\t\t\t\t\tnumSelected={selected.length}\r\n\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\tsearch={search}\r\n\t\t\t\t\t\tsetSearch={setSearch}\r\n\t\t\t\t\t\tfilters={filters}\r\n\t\t\t\t\t\tsetFilters={setFilters}\r\n\t\t\t\t\t\tnoActions={noActions}\r\n\t\t\t\t\t\tlistMode={listMode}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className={classes.tableWrapper}>\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tclassName={classes.table}\r\n\t\t\t\t\t\taria-labelledby='tableTitle'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\taria-label='enhanced table'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EnhancedTableHead\r\n\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\tnumSelected={selected.length}\r\n\t\t\t\t\t\t\torder={order}\r\n\t\t\t\t\t\t\torderBy={orderBy}\r\n\t\t\t\t\t\t\tonSelectAllClick={handleSelectAllClick}\r\n\t\t\t\t\t\t\tonRequestSort={handleRequestSort}\r\n\t\t\t\t\t\t\trowCount={items.length}\r\n\t\t\t\t\t\t\tnoActions={noActions}\r\n\t\t\t\t\t\t\tlistMode={listMode}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t{sortedItems\r\n\t\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n\t\t\t\t\t\t\t\t.map((item, index) => {\r\n\t\t\t\t\t\t\t\t\t// Campaigns renderer\r\n\t\t\t\t\t\t\t\t\tconst isItemSelected = isSelected(item.id)\r\n\t\t\t\t\t\t\t\t\tconst labelId = `enhanced-table-checkbox-${index}`\r\n\t\t\t\t\t\t\t\t\tconst firstUnit = (item.adUnits && item.adUnits[0]) || {}\r\n\t\t\t\t\t\t\t\t\tconst mediaUrl = firstUnit.mediaUrl || item.mediaUrl || ''\r\n\t\t\t\t\t\t\t\t\tconst mediaMime = firstUnit.mediaMime || item.mediaMime || ''\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow\r\n\t\t\t\t\t\t\t\t\t\t\thover\r\n\t\t\t\t\t\t\t\t\t\t\trole='checkbox'\r\n\t\t\t\t\t\t\t\t\t\t\taria-checked={isItemSelected}\r\n\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\t\t\t\t\t\tselected={isItemSelected}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{!listMode && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell padding='checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={isItemSelected}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={event => handleClick(event, item.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t{itemType === 'Campaign' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.status.humanFriendlyName}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status.humanFriendlyName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status.name,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'xs'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatTokenAmount(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.depositAmount,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{` ${symbol}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(item.status.fundsDistributedRatio || 0) / 10\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatTokenAmount(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{` ${symbol}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{formatDateTime(item.created)}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RRTableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/dashboard/${side}/${itemType}/${item.id}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</RRTableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell> {item.type} </TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{formatDateTime(item.created)}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t{!noActions &&\r\n\t\t\t\t\t\t\t\t\t\t\t\trenderActions({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tto: `/dashboard/${side}/${itemType}/${item.id}`,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titemType,\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{emptyRows > 0 && (\r\n\t\t\t\t\t\t\t\t<TableRow style={{ height: 33 * emptyRows }}>\r\n\t\t\t\t\t\t\t\t\t{items.length > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\tcolSpan={\r\n\t\t\t\t\t\t\t\t\t\t\t\t(headCells[itemType]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? headCells[itemType].length\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: headCells.Other.length) + 2\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\talign='center'\r\n\t\t\t\t\t\t\t\t\t\t\tcolSpan={\r\n\t\t\t\t\t\t\t\t\t\t\t\t(headCells[itemType]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? headCells[itemType].length\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: headCells.Other.length) + 2\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{missingData[itemType]}\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t<TablePagination\r\n\t\t\t\t\trowsPerPageOptions={[10, 20, 50]}\r\n\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\tclasses={{ spacer: classes.spacer }}\r\n\t\t\t\t\tcount={filteredItems.length}\r\n\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\tpage={page}\r\n\t\t\t\t\tonChangePage={handleChangePage}\r\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\r\n\t\t\t\t/>\r\n\t\t\t</Paper>\r\n\t\t</div>\r\n\t)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tflex: {\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\tmarginTop: spacing * 2,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tdatepicker: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: 0,\r\n\t\t},\r\n\t}\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tcard: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\twidth: 320,\r\n\t\t\tdisplay: 'block',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\t'@media(max-width:380px)': {\r\n\t\t\t\tmargin: 0,\r\n\t\t\t\tmarginBottom: spacing,\r\n\t\t\t},\r\n\t\t},\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxHeight: '100%',\r\n\t\t},\r\n\t\tbasicInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'start',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\tlabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tmarginTop: `calc(56.25% - ${40 + spacing}px)`,\r\n\t\t\ttop: 0,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport Img from 'components/common/img/Img'\r\nimport { validUrl } from 'helpers/validators'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport { validations } from 'adex-models'\r\nimport { utils } from 'ethers'\r\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableConfig'\r\nimport { selectMainToken } from 'selectors'\r\n\r\nconst FallbackAdData = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\tisDemo,\r\n\tactiveFields,\r\n\tsetActiveFields,\r\n\tvalidate,\r\n\tinvalidFields,\r\n\ttoggleFallbackImgEdit,\r\n\thandleChange,\r\n\t...rest\r\n}) => {\r\n\tconst errFallbackAdUrl = invalidFields['fallbackAdUrl']\r\n\r\n\treturn (\r\n\t\t<Card className={classes.card} raised={false}>\r\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }} src=''>\r\n\t\t\t\t<Img\r\n\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\tsrc={item.fallbackMediaUrl}\r\n\t\t\t\t\talt={item.fallbackTargetUrl}\r\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t/>\r\n\t\t\t</CardMedia>\r\n\t\t\t{/* <Fab\r\n\t\t\t\tmini\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tonClick={toggleFallbackImgEdit}\r\n\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t\tdisabled={isDemo}\r\n\t\t\t>\r\n\t\t\t\t<EditIcon />\r\n\t\t\t</Fab> */}\r\n\t\t\t<CardContent>\r\n\t\t\t\t{activeFields.fallbackTargetUrl ? (\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t// required\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tlabel={t('fallbackTargetUrl', { isProp: true })}\r\n\t\t\t\t\t\tvalue={item.fallbackTargetUrl || ''}\r\n\t\t\t\t\t\tonChange={ev => handleChange('fallbackTargetUrl', ev.target.value)}\r\n\t\t\t\t\t\t// maxLength={1024}\r\n\t\t\t\t\t\tonBlur={() => {\r\n\t\t\t\t\t\t\tsetActiveFields('fallbackTargetUrl', false)\r\n\t\t\t\t\t\t\tvalidate('fallbackTargetUrl', {\r\n\t\t\t\t\t\t\t\tisValid:\r\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\r\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\trest.validate('fallbackTargetUrl', {\r\n\t\t\t\t\t\t\t\tisValid:\r\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\r\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\r\n\t\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\terrFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t\t<span> {errFallbackAdUrl.errMsg} </span>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t!errFallbackAdUrl || !errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t\t<div>{t('SLOT_FALLBACK_AD_URL_DESCRIPTION')}</div>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{item.fallbackTargetUrl ? (\r\n\t\t\t\t\t\t\t\t<Anchor href={item.fallbackTargetUrl} target='_blank'>\r\n\t\t\t\t\t\t\t\t\t{item.fallbackTargetUrl}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<span style={{ opacity: 0.3 }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{t('NO_FALLBACK_URL_YET')}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{/* <span>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t// disabled={!canEditImg}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\trest.setActiveFields('fallbackTargetUrl', true)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</span> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{errFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span className={classes.error}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{errFallbackAdUrl.errMsg}{' '}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</CardContent>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nconst ValidatedFallbackAdData = ValidItemHoc(FallbackAdData)\r\n\r\nconst updateItemTemp = ({ prop = '', value = '', item = {} } = {}) => {\r\n\tconst { temp } = item\r\n\tconst newTemp = { ...temp }\r\n\tnewTemp[prop] = value\r\n\r\n\treturn newTemp\r\n}\r\n\r\nconst validateAmount = (value = '', prop, dirty, errMsg, validate) => {\r\n\tconst isValidNumber = validations.isNumberString(value)\r\n\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\r\n\r\n\tvalidate(prop, {\r\n\t\tisValid: isValid,\r\n\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\r\n\t\tdirty: dirty,\r\n\t})\r\n}\r\n\r\nconst SlotMinCPM = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\tisDemo,\r\n\tactiveFields,\r\n\tsetActiveFields,\r\n\tvalidate,\r\n\tinvalidFields,\r\n\ttoggleFallbackImgEdit,\r\n\thandleChange,\r\n\t...rest\r\n}) => {\r\n\tconst errMin = invalidFields['minPerImpression']\r\n\tconst { address, decimals, symbol } = selectMainToken()\r\n\tconst minCPM = formatTokenAmount(\r\n\t\tbigNumberify((item.minPerImpression || {})[address] || '0').mul(1000),\r\n\t\tdecimals,\r\n\t\ttrue\r\n\t)\r\n\r\n\tconst minPerImpression =\r\n\t\titem.temp.minPerImpression !== undefined\r\n\t\t\t? item.temp.minPerImpression\r\n\t\t\t: minCPM\r\n\r\n\treturn (\r\n\t\t<FormControl\r\n\t\t\tfullWidth\r\n\t\t\tclassName={classes.textField}\r\n\t\t\tmargin='dense'\r\n\t\t\terror={!!errMin}\r\n\t\t>\r\n\t\t\t<InputLabel>{t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}</InputLabel>\r\n\t\t\t<Input\r\n\t\t\t\tfullWidth\r\n\t\t\t\tautoFocus\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname={'minPerImpression'}\r\n\t\t\t\tvalue={minPerImpression || ''}\r\n\t\t\t\tonChange={ev => {\r\n\t\t\t\t\tvalidateAmount(\r\n\t\t\t\t\t\tev.target.value,\r\n\t\t\t\t\t\t'minPerImpression',\r\n\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t'',\r\n\t\t\t\t\t\tvalidate\r\n\t\t\t\t\t)\r\n\t\t\t\t\thandleChange(\r\n\t\t\t\t\t\t'temp',\r\n\t\t\t\t\t\tupdateItemTemp({\r\n\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\tmaxLength={1024}\r\n\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\tsetActiveFields('minPerImpression', false)\r\n\t\t\t\t}}\r\n\t\t\t\tdisabled={!activeFields.minPerImpression}\r\n\t\t\t\tendAdornment={\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tdisabled={activeFields['minPerImpression'] || isDemo}\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\tonClick={ev => setActiveFields('minPerImpression', true)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\r\n\t\t\t<FormHelperText>\r\n\t\t\t\t{errMin && !!errMin.errMsg\r\n\t\t\t\t\t? t(errMin.errMsg, { args: errMin.errMsgArgs })\r\n\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')}\r\n\t\t\t</FormHelperText>\r\n\t\t</FormControl>\r\n\t)\r\n}\r\n\r\nconst ValidatedSlotMinCPM = ValidItemHoc(SlotMinCPM)\r\n\r\nconst MediaCard = ({\r\n\tclasses,\r\n\tmediaUrl,\r\n\tmediaMime,\r\n\ttitle,\r\n\tcanEditImg,\r\n\ttoggleImgEdit,\r\n\turl,\r\n}) => (\r\n\t<Card className={classes.card} raised={false}>\r\n\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\r\n\t\t\t<Img\r\n\t\t\t\tallowFullscreen={true}\r\n\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\talt={title}\r\n\t\t\t\tclassName={classes.img}\r\n\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\tallowVideo\r\n\t\t\t/>\r\n\t\t</CardMedia>\r\n\t\t{canEditImg && (\r\n\t\t\t<Button\r\n\t\t\t\tvariant='fab'\r\n\t\t\t\tmini\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tonClick={toggleImgEdit}\r\n\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t>\r\n\t\t\t\t<EditIcon />\r\n\t\t\t</Button>\r\n\t\t)}\r\n\r\n\t\t{url && (\r\n\t\t\t<CardContent>\r\n\t\t\t\t<Anchor href={url} target='_blank'>\r\n\t\t\t\t\t{url}\r\n\t\t\t\t</Anchor>\r\n\t\t\t</CardContent>\r\n\t\t)}\r\n\t</Card>\r\n)\r\n\r\nconst basicProps = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\titemType,\r\n\tactiveFields,\r\n\t...rest\r\n}) => {\r\n\tconst mediaUrl = item.mediaUrl\r\n\tconst mediaMime = item.mediaMime\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\r\n\t\t\t\t\t\t{itemType === 'AdSlot' ? (\r\n\t\t\t\t\t\t\t<ValidatedFallbackAdData\r\n\t\t\t\t\t\t\t\tvalidateId={item._id}\r\n\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\tactiveFields={activeFields}\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\r\n\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\r\n\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t{itemType === 'AdSlot' && (\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<ValidatedSlotMinCPM\r\n\t\t\t\t\t\t\t\t\t\tvalidateId={item._id}\r\n\t\t\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\r\n\t\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\tvalue={item.type}\r\n\t\t\t\t\t\t\t\t\tlabel={t('type', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t{Array.isArray(item.tags) && (\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tvalue={item.tags\r\n\t\t\t\t\t\t\t\t\t\t\t.map(tag => `\"${tag.tag}(${tag.score})\"`)\r\n\t\t\t\t\t\t\t\t\t\t\t.join(',\\n')}\r\n\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\tt('tags', { isProp: true }) + ` (${item.tags.length})`\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\trows={7}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\r\n\t\t\t\t{rightComponent}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport const BasicProps = withStyles(styles)(basicProps)\r\n\r\nconst campaignProps = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\titemType,\r\n\t...rest\r\n}) => {\r\n\tconst mediaUrl = item.mediaUrl\r\n\tconst status = item.status || {}\r\n\tconst { decimals, symbol } = selectMainToken()\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={8}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className={classes.basicInfo}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\r\n\t\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\r\n\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={status.humanFriendlyName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.humanFriendlyName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.name,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'md'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(status.fundsDistributedRatio || 0) / 10\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, decimals) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={4}>\r\n\t\t\t\t\t{rightComponent}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// ((status.fundsDistributedRatio || 0) / 10).toFixed(2)\r\nexport const CampaignProps = withStyles(styles)(campaignProps)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport EnhancedTable from 'components/dashboard/containers/Tables/EnhancedTable'\r\nimport Translate from 'components/translate/Translate'\r\nimport Button from '@material-ui/core/Button'\r\nimport { AdUnit as AdUnitModel, Campaign as CampaignModel } from 'adex-models'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { CampaignProps } from 'components/dashboard/containers/ItemCommon'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { selectMainToken } from 'selectors'\r\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\r\n\r\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nconst VIEW_MODE = 'campaignRowsView'\r\n\r\nexport class Campaign extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context)\r\n\r\n\t\tthis.state = {\r\n\t\t\ttabIndex: 0,\r\n\t\t\tstatistics: {},\r\n\t\t}\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\tCampaignActions = ({ campaign, actions, t }) => {\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tactions.closeCampaign({ campaign })\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// classes,\r\n\t\t\titem,\r\n\t\t\t// handleChange,\r\n\t\t\t// activeFields,\r\n\t\t\t// isDemo,\r\n\t\t\tactions,\r\n\t\t\thistory,\r\n\t\t\tmainTokenSymbol,\r\n\t\t\t// ...rest\r\n\t\t} = this.props\r\n\t\tconst { tabIndex } = this.state\r\n\r\n\t\tconst units = item.spec.adUnits\r\n\t\tconst campaign = new CampaignModel(item)\r\n\r\n\t\tconst balances =\r\n\t\t\tcampaign.status && campaign.status.lastApprovedBalances\r\n\t\t\t\t? campaign.status.lastApprovedBalances\r\n\t\t\t\t: {}\r\n\r\n\t\tconst status = (campaign.status || {}).name\r\n\t\tconst leader = campaign.spec.validators[0]\r\n\t\tconst follower = campaign.spec.validators[1]\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<CampaignProps\r\n\t\t\t\t\titem={campaign}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\trightComponent={\r\n\t\t\t\t\t\t// <UnitTargets\r\n\t\t\t\t\t\t// \t{...rest}\r\n\t\t\t\t\t\t// \ttargets={campaign.targeting}\r\n\t\t\t\t\t\t// \tt={t}\r\n\t\t\t\t\t\t// \tsubHeader={t('CAMPAIGN_TARGETING')}\r\n\t\t\t\t\t\t// />\r\n\t\t\t\t\t\t(status === 'Ready' ||\r\n\t\t\t\t\t\t\tstatus === 'Active' ||\r\n\t\t\t\t\t\t\tstatus === 'Withdraw' ||\r\n\t\t\t\t\t\t\tstatus === 'Unhealthy') && (\r\n\t\t\t\t\t\t\t<this.CampaignActions\r\n\t\t\t\t\t\t\t\tcampaign={campaign}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tactions={actions}\r\n\t\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar position='static' color='default'>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\r\n\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\tscrollButtons='off'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label={t('STATE')} />\r\n\t\t\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\r\n\t\t\t\t\t\t\t<Tab label={t('VALIDATORS')} />\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\tsubheader={\r\n\t\t\t\t\t\t\t\t\t<ListSubheader component='div'>{t('BALANCES')}</ListSubheader>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{Object.keys(balances).map(key => (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={key}>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\tprimary={\r\n\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(balances[key]) + ' ' + mainTokenSymbol\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tsecondary={key}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t\t\t<EnhancedTable itemType={'AdUnit'} items={units} noActions />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{tabIndex === 2 && (\r\n\t\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/status`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/status`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaign.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tunits: PropTypes.object.isRequired,\r\n\trowsView: PropTypes.bool.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\tunits: persist.items['AdUnit'],\r\n\t\trowsView: !!persist.ui[VIEW_MODE],\r\n\t\tobjModel: CampaignModel,\r\n\t\titemType: 'Campaign',\r\n\t\tmainTokenSymbol: selectMainToken(state).symbol,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst CampaignItem = ItemHoc(withStyles(styles)(Campaign))\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(CampaignItem))\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\r\n\t</g>,\r\n\r\n\t'AdexPublisher',\r\n\t'0 0 114 110'\r\n)\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\r\n\t</g>,\r\n\t'AdexAdvertiser',\r\n\t'0 0 109 94'\r\n)\r\n","import React, { Component } from 'react'\r\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\r\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Translate from 'components/translate/Translate'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst SideBox = ({\r\n\tsalePoints = [],\r\n\tlinkTitle,\r\n\ticon,\r\n\ttitle,\r\n\tdisabled,\r\n\tclasses,\r\n\t...other\r\n}) => (\r\n\t<div\r\n\t\t{...other}\r\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\r\n\t>\r\n\t\t<div className={classes.icon}>{icon}</div>\r\n\t\t<h2>{title}</h2>\r\n\t\t<ul className={classes.salePoints}>\r\n\t\t\t{salePoints.map(function(point, key) {\r\n\t\t\t\treturn <li key={key}> {point} </li>\r\n\t\t\t})}\r\n\t\t</ul>\r\n\t</div>\r\n)\r\n\r\nconst RRSideBox = withReactRouterLink(SideBox)\r\n\r\nclass SideSelect extends Component {\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\r\n\t\t\t\tBackdropProps={{\r\n\t\t\t\t\tclasses: {\r\n\t\t\t\t\t\troot: classes.backdrop,\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t\tfullWidth\r\n\t\t\t\tmaxWidth='sm'\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<AdvertiserLogo\r\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsalePoints={[\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tto='/dashboard/advertiser'\r\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<PublisherLogo\r\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsalePoints={[\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tto='/dashboard/publisher'\r\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Translate(withStyles(styles)(SideSelect))\r\n","export const styles = () => {\r\n\treturn {\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tsideBox: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tverticalAlign: 'top',\r\n\t\t\topacity: 0.7,\r\n\t\t\t'&:hover:not(.disabled)': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t\topacity: 1,\r\n\t\t\t},\r\n\t\t\t'&.disabled': {\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t},\r\n\t\t\t'@media(max-width:425px)': {\r\n\t\t\t\twidth: '100%',\r\n\t\t\t},\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\twidth: 110,\r\n\t\t\theight: 110,\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\tsalePoints: {\r\n\t\t\tpadding: 0,\r\n\t\t\t'& li': {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tlistStyle: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport classnames from 'classnames'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport { ArrowTooltip } from 'components/common/tooltips'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tposition: 'relative',\r\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\r\n\t\t\tcolor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\r\n\t\t\t\ttheme.palette.text.primary,\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\tbottom: 0,\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst StatsCard = props => {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tsubtitle,\r\n\t\tlinkCard,\r\n\t\tchildren,\r\n\t\tonClick,\r\n\t\tbgColor,\r\n\t\tloading,\r\n\t\texplain,\r\n\t} = props\r\n\r\n\tconst classes = useStyles({ bgColor })\r\n\r\n\treturn (\r\n\t\t<Card\r\n\t\t\t// raised\r\n\t\t\tclassName={classnames(classes.root, classes.infoCard, {\r\n\t\t\t\t[classes.linkCard]: !!linkCard,\r\n\t\t\t})}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<CardContent>\r\n\t\t\t\t{title && (\r\n\t\t\t\t\t<Typography variant='h5' noWrap>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)}\r\n\t\t\t\t{subtitle && (\r\n\t\t\t\t\t<Typography component='p' noWrap>\r\n\t\t\t\t\t\t{subtitle}{' '}\r\n\t\t\t\t\t\t{explain && (\r\n\t\t\t\t\t\t\t<ArrowTooltip\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<Typography component='p' variant='caption'>\r\n\t\t\t\t\t\t\t\t\t\t{explain}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<InfoIcon style={{ fontSize: 12 }}></InfoIcon>\r\n\t\t\t\t\t\t\t</ArrowTooltip>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)}\r\n\t\t\t\t{children}\r\n\t\t\t</CardContent>\r\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nStatsCard.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tlinkCard: PropTypes.bool,\r\n}\r\n\r\nexport default StatsCard\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\tinfoStatsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tjustifyContent: 'stretch',\r\n\t\t\theight: '100%',\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdashboardCardBody: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tpadding: spacing,\r\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\r\n\t\t},\r\n\t}\r\n}\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { defaults } from 'react-chartjs-2'\r\nimport merge from 'lodash.merge'\r\n\r\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\r\n// Eddie colors\r\nexport const CHARTS_COLORS = [\r\n\t'#00BAFF',\r\n\t'#7EDBFF',\r\n\t'#FF9FA8',\r\n\t'#14DC9C',\r\n\t'#61FFB2',\r\n\t'#ABFFE5',\r\n]\r\n\r\nexport let CHARTS_COMMON_OPTIONS = {\r\n\tresponsive: true,\r\n\ttooltips: {\r\n\t\tmode: 'label',\r\n\t\tcornerRadius: 2,\r\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\r\n\t},\r\n}\r\n\r\nexport const hexColorsToRgbaArray = (colors, alpha) => {\r\n\treturn colors.map(color => {\r\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\r\n\t})\r\n}\r\n\r\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Line, Chart } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { selectStatsChartData, selectMainToken } from 'selectors'\r\n\r\nconst commonDsProps = {\r\n\tfill: false,\r\n\tlineTension: 0.3,\r\n\tborderWidth: 0,\r\n\tpointRadius: 3,\r\n\tpointHitRadius: 10,\r\n}\r\n\r\nexport const SimpleStatistics = ({\r\n\tside,\r\n\ttimeframe = '',\r\n\teventType,\r\n\toptions = {},\r\n\tt,\r\n\txLabel = 'TIMEFRAME',\r\n\ty1Label = 'DATA1',\r\n\ty2Label = 'DATA2',\r\n\ty1Color = CHARTS_COLORS[1],\r\n\ty2Color = CHARTS_COLORS[2],\r\n}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst payouts = useSelector(state =>\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType,\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t\tnoLastOne: true,\r\n\t\t})\r\n\t)\r\n\r\n\tconst counts = useSelector(state =>\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType,\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: true,\r\n\t\t})\r\n\t)\r\n\r\n\t// Vertical line / crosshair\r\n\tuseEffect(() => {\r\n\t\tChart.pluginService.register({\r\n\t\t\tafterDraw: function(chart) {\r\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\r\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\r\n\t\t\t\t\tconst ctx = chart.ctx\r\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\r\n\t\t\t\t\tconst topY = chart.scales['y-axis-1'].top\r\n\t\t\t\t\tconst bottomY = chart.scales['y-axis-1'].bottom\r\n\t\t\t\t\tctx.save()\r\n\t\t\t\t\tctx.beginPath()\r\n\t\t\t\t\tctx.moveTo(x, topY)\r\n\t\t\t\t\tctx.lineTo(x, bottomY)\r\n\t\t\t\t\tctx.lineWidth = 1 // line width\r\n\t\t\t\t\tctx.setLineDash([1, 5])\r\n\t\t\t\t\tctx.strokeStyle = '#C0C0C0' // color of the vertical line\r\n\t\t\t\t\tctx.stroke()\r\n\t\t\t\t\tctx.restore()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t})\r\n\t})\r\n\r\n\tconst chartData = {\r\n\t\tlabels: payouts.labels,\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 0.5),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tlabel: y1Label,\r\n\t\t\t\tdata: payouts.datasets,\r\n\t\t\t\tyAxisID: 'y-axis-1',\r\n\t\t\t\tpointBackgroundColor: 'transparent',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 0.5),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tlabel: y2Label,\r\n\t\t\t\tdata: counts.datasets,\r\n\t\t\t\tyAxisID: 'y-axis-2',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\r\n\tconst linesOptions = {\r\n\t\tresponsive: true,\r\n\t\t// This and fixed height are used for proper mobile display of the chart\r\n\t\tmaintainAspectRatio: false,\r\n\t\ttitle: {\r\n\t\t\tdisplay: true,\r\n\t\t\ttext: options.title,\r\n\t\t},\r\n\t\ttooltips: {\r\n\t\t\tbackgroundColor: 'black',\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t\tcallbacks: {\r\n\t\t\t\tlabel: function(t, d) {\r\n\t\t\t\t\t// This adds currency MainToken (DAI) to y1Label in the tooltips\r\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\r\n\t\t\t\t\tvar yLabel = xLabel === y1Label ? `${t.yLabel} ${symbol}` : t.yLabel\r\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\thover: {\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t},\r\n\t\tscales: {\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: y1Label,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid: 'y-axis-1',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tposition: 'right',\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: y2Label,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid: 'y-axis-2',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tprecision: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// grid line settings\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\r\n\treturn <Line height={500} data={chartData} options={linesOptions} />\r\n}\r\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\r\nimport lime from '@material-ui/core/colors/lime'\r\nimport deepOrange from '@material-ui/core/colors/deepOrange'\r\nimport amber from '@material-ui/core/colors/amber'\r\nimport grey from '@material-ui/core/colors/grey'\r\n\r\nconst WHITE = '#fff'\r\nexport const PRIMARY = '#1B75BC'\r\nexport const SECONDARY = '#FFAC00'\r\nexport const ALEX_GREY = '#3f3e3e'\r\nexport const ACCENT_ONE = '#57467B'\r\nexport const ACCENT_TWO = '#7CB4B8'\r\n\r\nconst palette = {\r\n\tprimary: { main: PRIMARY, contrastText: WHITE },\r\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\r\n\taccentOne: { main: ACCENT_ONE, contrastText: WHITE },\r\n\taccentTwo: { main: ACCENT_TWO, contrastText: WHITE },\r\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\r\n\terror: deepOrange,\r\n\twarning: amber,\r\n\tfirst: lime,\r\n\tcontrastThreshold: 3,\r\n\ttonalOffset: 0.2,\r\n\ttext: grey,\r\n}\r\n\r\nconst theme = createMuiTheme({\r\n\ttypography: {\r\n\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n\t\tfontSize: 13,\r\n\t},\r\n\tpalette: { ...palette },\r\n\toverrides: {\r\n\t\tMuiButton: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTableCell: {\r\n\t\t\thead: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t\troot: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiPaper: {\r\n\t\t\trounded: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTooltip: {\r\n\t\t\ttooltip: { borderRadius: 0 },\r\n\t\t},\r\n\t\t// MuiStepIcon: {\r\n\t\t//     root: {\r\n\t\t//         color: 'yellow',\r\n\t\t//         '&$active': {\r\n\t\t//             color: 'orange'\r\n\t\t//         }\r\n\t\t//     },\r\n\t\t//     active: {\r\n\t\t//         color: 'yellow'\r\n\t\t//     }\r\n\t\t// }\r\n\t},\r\n})\r\n\r\nexport const themeMUI = responsiveFontSizes(theme, {\r\n\toptions: ['xs', 'sm', 'md', 'lg', 'xl'],\r\n\tfactor: 3,\r\n})\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { execute, updateAnalyticsTimeframe } from 'actions'\r\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { translate } from 'services/translations/translations'\r\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\r\nimport StatsCard from './StatsCard'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { PRIMARY, ACCENT_ONE, ACCENT_TWO } from 'components/App/themeMUi'\r\nimport { styles } from './styles'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport {\r\n\tt,\r\n\tselectTotalImpressions,\r\n\tselectTotalMoney,\r\n\tselectAverageCPM,\r\n\tselectMainToken,\r\n\tselectAnalytics,\r\n} from 'selectors'\r\n\r\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\r\n\tconst translated = { ...tf }\r\n\ttranslated.label = translate(tf.label)\r\n\treturn translated\r\n})\r\n\r\nconst metrics = {\r\n\tpublisher: [\r\n\t\t{\r\n\t\t\tlabel: translate('LABEL_REVENUE'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: ACCENT_TWO,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: translate('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: PRIMARY,\r\n\t\t},\r\n\t],\r\n\tadvertiser: [\r\n\t\t{\r\n\t\t\tlabel: translate('LABEL_SPEND'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: ACCENT_ONE,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: translate('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: PRIMARY,\r\n\t\t},\r\n\t],\r\n}\r\n\r\nconst timeHints = {\r\n\thour: 'SHOWING_LAST_HOUR',\r\n\tday: 'SHOWING_LAST_24_HOURS',\r\n\tweek: 'SHOWING_LAST_7_DAYS',\r\n}\r\n\r\nexport function BasicStats({ side }) {\r\n\tconst useStyles = makeStyles(styles)\r\n\tconst classes = useStyles()\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst timeframe = useSelector(selectAnalytics).timeframe || ''\r\n\tconst totalImpressions = useSelector(state =>\r\n\t\tselectTotalImpressions(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalMoney = useSelector(state =>\r\n\t\tselectTotalMoney(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst averageCPM = useSelector(state =>\r\n\t\tselectAverageCPM(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst loadingImpressions = totalImpressions === null\r\n\tconst loadingMoney = totalMoney === null\r\n\tconst loadingCPM = averageCPM === null\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<div className={classes.infoStatsContainer}>\r\n\t\t\t\t\t<StatsCard>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\r\n\t\t\t\t\t\t\thelperText={t(timeHints[timeframe])}\r\n\t\t\t\t\t\t\tonChange={val => execute(updateAnalyticsTimeframe(val))}\r\n\t\t\t\t\t\t\tsource={timeFrames}\r\n\t\t\t\t\t\t\tvalue={timeframe}\r\n\t\t\t\t\t\t\thtmlId='timeframe-select'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='primary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t\tloading={loadingImpressions}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t></StatsCard>\r\n\t\t\t\t\t{side === 'advertiser' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentOne'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={loadingMoney}\r\n\t\t\t\t\t\t></StatsCard>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentTwo'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={loadingMoney}\r\n\t\t\t\t\t\t></StatsCard>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='grey'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\r\n\t\t\t\t\t\tloading={loadingCPM}\r\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol} / CPM`}\r\n\t\t\t\t\t></StatsCard>\r\n\t\t\t\t</div>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<SimpleStatistics\r\n\t\t\t\t\tside={side}\r\n\t\t\t\t\ttimeframe={timeframe}\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\ttitle: t(timeFrames.find(a => a.value === timeframe).label),\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ty1Label={metrics[side][0].label}\r\n\t\t\t\t\ty1Color={metrics[side][0].color}\r\n\t\t\t\t\ty2Label={metrics[side][1].label}\r\n\t\t\t\t\ty2Color={metrics[side][1].color}\r\n\t\t\t\t\teventType={'IMPRESSION'}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { execute, updateNav } from 'actions'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport classnames from 'classnames'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport StatsCard from './StatsCard'\r\nimport { styles } from './styles'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { BasicStats } from './BasicStats'\r\nimport { push } from 'connected-react-router'\r\nimport { t, selectSide, selectAccountStatsFormatted } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function DashboardStats(props) {\r\n\tconst side = useSelector(selectSide)\r\n\tconst classes = useStyles()\r\n\tconst {\r\n\t\tavailableIdentityBalanceMainToken,\r\n\t\toutstandingBalanceMainToken,\r\n\t\tmainTokenSymbol,\r\n\t} = useSelector(selectAccountStatsFormatted)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateNav('navTitle', t('DASHBOARD')))\r\n\t}, [])\r\n\r\n\tconst goToAccount = () => {\r\n\t\texecute(push('/dashboard/' + side + '/account'))\r\n\t}\r\n\r\n\tconst InfoStats = () => {\r\n\t\treturn (\r\n\t\t\t<div className={classes.infoStatsContainer}>\r\n\t\t\t\t<StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={goToAccount}\r\n\t\t\t\t\tsubtitle={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO', {\r\n\t\t\t\t\t\targs: [outstandingBalanceMainToken || 0, mainTokenSymbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tloading={\r\n\t\t\t\t\t\t(!outstandingBalanceMainToken &&\r\n\t\t\t\t\t\t\toutstandingBalanceMainToken !== 0) ||\r\n\t\t\t\t\t\t(!availableIdentityBalanceMainToken &&\r\n\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttitle={`${availableIdentityBalanceMainToken || 0} ${mainTokenSymbol}`}\r\n\t\t\t\t></StatsCard>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn side !== 'advertiser' && side !== 'publisher' ? (\r\n\t\t<SideSelect active={true} />\r\n\t) : (\r\n\t\t<div>\r\n\t\t\t<Grid container>\r\n\t\t\t\t<Grid item md={12} lg={12} xs={12}>\r\n\t\t\t\t\t<Card className={classnames(classes.dashboardCardBody)}>\r\n\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t<BasicStats side={side} />\r\n\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item md={12} lg={6}>\r\n\t\t\t\t\t<InfoStats />\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default DashboardStats\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { AdUnit } from 'adex-models'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport Translate from 'components/translate/Translate'\r\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\r\n\r\nexport class Unit extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcloseDialog: false,\r\n\t\t}\r\n\t}\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\r\n\t//     return diffProps || diffState\r\n\t// }\r\n\trender() {\r\n\t\tconst { item, t, ...rest } = this.props\r\n\r\n\t\tif (!item) return <h1>Unit '404'</h1>\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BasicProps\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\turl={item.adUrl}\r\n\t\t\t\t\trightComponent={\r\n\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\ttargets={item.targeting}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tsubHeader={true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nUnit.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\treturn {\r\n\t\tobjModel: AdUnit,\r\n\t\titemType: 'AdUnit',\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst UnitItem = ItemHoc(Unit)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(UnitItem))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\nimport copy from 'copy-to-clipboard'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport url from 'url'\r\nimport { selectRoutineWithdrawTokensAddresses } from 'selectors'\r\n\r\nconst ADVIEW_URL = process.env.ADVIEW_URL\r\nconst adviewUrl = url.parse(ADVIEW_URL)\r\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\r\n\r\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \r\n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\r\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\r\n\t\t\t\tif (f.contentWindow === ev.source) {\r\n\t\t\t\t\tf.height = ev.data.adexHeight;\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t}, false)`\r\n\r\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\n\r\nconst IntegrationCode = ({ t, account, slot = {}, classes, onCopy }) => {\r\n\tconst { id, type, tags, fallbackUnit } = slot\r\n\tconst identityAddr = account.identity.address\r\n\r\n\tlet sizes = type.split('_')[1].split('x')\r\n\tsizes = {\r\n\t\twidth: sizes[0],\r\n\t\theight: sizes[1],\r\n\t}\r\n\r\n\tconst options = {\r\n\t\tpublisherAddr: identityAddr,\r\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\r\n\t\twhitelistedType: type,\r\n\t\trandomize: true,\r\n\t\ttargeting: tags || [],\r\n\t\t// marketURL: ADEX_MARKET_HOST,\r\n\t\twidth: sizes.width,\r\n\t\theight: sizes.height,\r\n\t\tminPerImpression: '0',\r\n\t\tminTargetingScore: '0',\r\n\t\tfallbackUnit,\r\n\t\tmarketSlot: id,\r\n\t}\r\n\r\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\r\n\r\n\tlet src = ADVIEW_URL + query\r\n\r\n\tlet iframeStr =\r\n\t\t`<iframe\\n` +\r\n\t\t`\tsrc=\"${src}\"\\n` +\r\n\t\t`\twidth=\"${sizes.width}\"\\n` +\r\n\t\t`\theight=\"${sizes.height}\"\\n` +\r\n\t\t`\tscrolling=\"no\"\\n` +\r\n\t\t`\tframeborder=\"0\"\\n` +\r\n\t\t`\tstyle=\"border: 0;\"\\n` +\r\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\r\n\t\t`></iframe>`\r\n\r\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.integrationLabel}>\r\n\t\t\t\t{t('INTEGRATION_CODE')}\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tcopy(iframeStr)\r\n\t\t\t\t\t\tonCopy && onCopy()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</div>\r\n\t\t\t<Paper>\r\n\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\r\n\t\t\t</Paper>\r\n\t\t\t{process.env.NODE_ENV !== 'production' && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport class Slot extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\teditFallbackImg: false,\r\n\t\t\ttabIndex: 0,\r\n\t\t}\r\n\t\tthis.tabsFocus = React.createRef()\r\n\t}\r\n\r\n\thandleFallbackImgUpdateToggle = () => {\r\n\t\tconst active = this.state.editFallbackImg\r\n\t\tthis.setState({ editFallbackImg: !active })\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index }, () => {\r\n\t\t\tif (this.tabsFocus.current) {\r\n\t\t\t\tthis.tabsFocus.current.scrollIntoView({\r\n\t\t\t\t\tbehavior: 'smooth',\r\n\t\t\t\t\tblock: 'start',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, classes, isDemo, item, account, itemType, ...rest } = this.props\r\n\t\tconst { tabIndex } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BasicProps\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\turl={item.adUrl}\r\n\t\t\t\t\tcanEditImg={!isDemo}\r\n\t\t\t\t\trightComponent={null}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar position='static' color='default'>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={this.handleTabChange.bind(this)}\r\n\t\t\t\t\t\t\tref={this.tabsFocus}\r\n\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\tscrollButtons='off'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label={t('STATISTICS')} />\r\n\t\t\t\t\t\t\t<Tab label={t('INTEGRATION')} />\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t{tabIndex === 0 && null}\r\n\t\t\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t\t\t<IntegrationCode\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\taccount={account}\r\n\t\t\t\t\t\t\t\tslot={item}\r\n\t\t\t\t\t\t\t\tonCopy={() =>\r\n\t\t\t\t\t\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSlot.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tobjModel: AdSlot,\r\n\t\titemType: 'AdSlot',\r\n\t\t// NOTE: maybe not the best way but pass props to the HOC here\r\n\t\tupdateImgInfoLabel: 'SLOT_AVATAR_IMG_INFO',\r\n\t\tupdateImgLabel: 'SLOT_AVATAR_IMG_LABEL',\r\n\t\tupdateImgErrMsg: 'ERR_IMG_SIZE_MAX',\r\n\t\tupdateImgExact: true,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst SlotItem = ItemHoc(withStyles(styles)(Slot))\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SlotItem)\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tintegrationLabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tintegrationCode: {\r\n\t\t\twhiteSpace: 'pre-wrap',\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\tpadding: spacing,\r\n\t\t\tmargin: 0,\r\n\t\t\talignSelf: 'flex-start',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport EnhancedTable from 'components/dashboard/containers/Tables/EnhancedTable'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nclass Items extends Component {\r\n\tcomponentWillMount() {\r\n\t\tthis.props.actions.updateNav('navTitle', this.props.header)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { itemType } = this.props\r\n\t\tconst items = Object.values(this.props.items || {}) || []\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<EnhancedTable itemType={itemType} items={items} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nItems.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\titems: PropTypes.object.isRequired,\r\n\theader: PropTypes.string.isRequired,\r\n\titemType: PropTypes.string.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst { persist, memory } = state\r\n\treturn {\r\n\t\titems: persist.items[props.itemType] || [],\r\n\t\tside: memory.nav.side,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(Items))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport Helper from 'helpers/miscHelpers'\r\n// import { exchange as ExchangeConstants } from 'adex-constants'\r\n\r\n// const { TX_STATUS } = ExchangeConstants\r\n\r\nexport default function NewTransactionHoc(Decorated) {\r\n\t// TODO: make it common for bids and items\r\n\tclass TransactionHoc extends Component {\r\n\t\tcomponentWillMount() {\r\n\t\t\t// console.log('TransactionHoc')\r\n\t\t}\r\n\r\n\t\thandleChange = (name, value) => {\r\n\t\t\tconst { actions, txId } = this.props\r\n\t\t\tactions.updateNewTransaction({ tx: txId, key: name, value: value })\r\n\t\t}\r\n\r\n\t\t// addTx = (tx) => {\r\n\t\t//     let txData = { ...tx }\r\n\t\t//     txData.status = TX_STATUS.Pending.id\r\n\t\t//     txData.sendingTime = Date.now()\r\n\t\t//     this.props.actions.addWeb3Transaction({ trans: txData, addr: this.props.account._addr })\r\n\t\t// }\r\n\r\n\t\tonSave = (err, tx, manyTxs) => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\r\n\t\t\tthis.resetTransaction()\r\n\t\t}\r\n\r\n\t\tresetTransaction = () => {\r\n\t\t\tconst { actions, txId } = this.props\r\n\t\t\tactions.resetNewTransaction({ tx: txId })\r\n\t\t}\r\n\r\n\t\thandleSaveRes = ({ err, res }) => {\r\n\t\t\tconst { t, actions } = this.props\r\n\t\t\t// const areManyTxs = Array.isArray(res)\r\n\r\n\t\t\tif (err) {\r\n\t\t\t\tactions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tthis.onSave(err, res, Array.isArray(res))\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tthis.handleChange('waitingForWalletAction', true)\r\n\t\t\tthis.props\r\n\t\t\t\t.saveFn({\r\n\t\t\t\t\tacc: this.props.account,\r\n\t\t\t\t\ttransaction: this.props.transaction,\r\n\t\t\t\t})\r\n\t\t\t\t.then((res = {}) => {\r\n\t\t\t\t\tconsole.log('res on save', res)\r\n\r\n\t\t\t\t\tconst txs = res.txResults || res\r\n\t\t\t\t\tconst err = res.err || null\r\n\r\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: txs })\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error = {}) => {\r\n\t\t\t\t\tconsole.log('err on save', error)\r\n\t\t\t\t\tconst res = error.txResults || null\r\n\t\t\t\t\tconst err = error.err || error\r\n\r\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: res })\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\t// TODO: take a look at onSave if change something\r\n\t\t\tthis.onSave(null, null)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tlet transaction = this.props.transaction || {}\r\n\t\t\tlet props = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\ttransaction={transaction}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tresetTransaction={this.resetTransaction}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tTransactionHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tlabel: PropTypes.string,\r\n\t\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t\t.isRequired,\r\n\t\ttransaction: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tsaveFn: PropTypes.func,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\tconst txId = props.stepsId\r\n\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\ttransaction: memory.newTransactions[txId] || {},\r\n\t\t\ttxId: txId,\r\n\t\t\tspinner: memory.spinners[txId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(TransactionHoc))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport { validateNumber } from 'helpers/validators'\r\nimport { InputLoading } from 'components/common/spinners/'\r\n\r\nclass WithdrawFromIdentity extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { validate, transaction } = this.props\r\n\t\t// If nothing entered will validate\r\n\t\tif (!transaction.withdrawAmount) {\r\n\t\t\tvalidate('withdrawAmount', {\r\n\t\t\t\tisValid: true,\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t\tif (!transaction.withdrawTo) {\r\n\t\t\tvalidate('withdrawTo', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateAmount = (numStr, dirty) => {\r\n\t\tconst { token, identityAvailable } = this.props\r\n\t\tlet isValid = validateNumber(numStr)\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\r\n\t\tlet errMsgArgs = []\r\n\t\tlet amount = parseFloat(numStr)\r\n\t\tif (isValid && amount > parseFloat(identityAvailable)) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\r\n\t\t\terrMsgArgs = [identityAvailable, token]\r\n\t\t}\r\n\r\n\t\tthis.props.validate('withdrawAmount', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: msg, args: errMsgArgs },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tactions,\r\n\t\t\tvalidate,\r\n\t\t\ttransaction,\r\n\t\t\tt,\r\n\t\t\tinvalidFields,\r\n\t\t\tidentityAvailable,\r\n\t\t\thandleChange,\r\n\t\t\twithdrawToSpinner,\r\n\t\t\ttoken,\r\n\t\t} = this.props\r\n\t\tconst { withdrawTo, withdrawAmount } = transaction || {}\r\n\t\tconst errAmount = invalidFields['withdrawAmount']\r\n\t\tconst errAddr = invalidFields['withdrawTo']\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t{t('EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY', {\r\n\t\t\t\t\t\targs: [identityAvailable, token],\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled={withdrawToSpinner}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\r\n\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: withdrawTo,\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'withdrawTo',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: withdrawTo,\r\n\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'withdrawTo',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\r\n\t\t\t\t\tname='withdrawAmount'\r\n\t\t\t\t\tvalue={withdrawAmount || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('withdrawAmount', ev.target.value)}\r\n\t\t\t\t\tonBlur={() => this.validateAmount(withdrawAmount, true)}\r\n\t\t\t\t\tonFocus={() => this.validateAmount(withdrawAmount, false)}\r\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\thelperText={\r\n\t\t\t\t\t\terrAmount && !!errAmount.dirty ? (\r\n\t\t\t\t\t\t\terrAmount.errMsg\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\thandleChange('withdrawAmount', identityAvailable)\r\n\t\t\t\t\t\t\t\t\tthis.validateAmount(identityAvailable, true)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\r\n\t\t\t\t\t\t\t\t\targs: [identityAvailable, token],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nWithdrawFromIdentity.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId,\r\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst WithdrawFromIdentityForm = NewTransactionHoc(WithdrawFromIdentity)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(WithdrawFromIdentityForm)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { validateNumber } from 'helpers/validators'\r\nimport { InputLoading } from 'components/common/spinners/'\r\n\r\nclass WithdrawAnyTokenFromIdentity extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { validate, transaction } = this.props\r\n\t\t// If nothing entered will validate\r\n\t\tif (!transaction.withdrawAmount) {\r\n\t\t\tvalidate('withdrawAmount', {\r\n\t\t\t\tisValid: true,\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t\tif (!transaction.withdrawTo) {\r\n\t\t\tvalidate('withdrawTo', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateAmount = (numStr, dirty) => {\r\n\t\tconst { token, identityAvailable } = this.props\r\n\t\tlet isValid = validateNumber(numStr)\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\r\n\t\tlet errMsgArgs = []\r\n\t\tlet amount = parseFloat(numStr)\r\n\t\tif (isValid && amount > parseFloat(identityAvailable)) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\r\n\t\t\terrMsgArgs = [identityAvailable, token]\r\n\t\t}\r\n\r\n\t\tthis.props.validate('withdrawAmount', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: msg, args: errMsgArgs },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tactions,\r\n\t\t\tvalidate,\r\n\t\t\ttransaction,\r\n\t\t\tt,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t\twithdrawToSpinner,\r\n\t\t\tbalanceAnySpinner,\r\n\t\t} = this.props\r\n\t\tconst { withdrawTo, withdrawAmount, tokenAddress, tokenBalance } =\r\n\t\t\ttransaction || {}\r\n\t\tconst errAmount = invalidFields['withdrawAmount']\r\n\t\tconst errAddr = invalidFields['withdrawTo']\r\n\t\tconst errToken = invalidFields['tokenAddress']\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t{t('TOKENS_BALANCE_AVAILABLE_ON_IDENTITY')} {tokenBalance}{' '}\r\n\t\t\t\t</div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled={balanceAnySpinner}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\r\n\t\t\t\t\tname='tokenAddress'\r\n\t\t\t\t\tvalue={tokenAddress || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('tokenAddress', ev.target.value)}\r\n\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: tokenAddress,\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'tokenAddress',\r\n\t\t\t\t\t\t\tsetBalance: bal => handleChange('tokenBalance', bal),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: tokenAddress,\r\n\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'tokenAddress',\r\n\t\t\t\t\t\t\tsetBalance: bal => handleChange('tokenBalance', bal),\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errToken && !!errToken.dirty}\r\n\t\t\t\t\thelperText={errToken && !!errToken.dirty ? errToken.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t{balanceAnySpinner ? <InputLoading /> : null}\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled={withdrawToSpinner}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\r\n\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: withdrawTo,\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'withdrawTo',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: withdrawTo,\r\n\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'withdrawTo',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\r\n\t\t\t\t\tname='withdrawAmount'\r\n\t\t\t\t\tvalue={withdrawAmount || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('withdrawAmount', ev.target.value)}\r\n\t\t\t\t\tonBlur={() => this.validateAmount(withdrawAmount, true)}\r\n\t\t\t\t\tonFocus={() => this.validateAmount(withdrawAmount, false)}\r\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\thelperText={\r\n\t\t\t\t\t\terrAmount && !!errAmount.dirty\r\n\t\t\t\t\t\t\t? errAmount.errMsg\r\n\t\t\t\t\t\t\t: t('MAX_AMOUNT_TO_WITHDRAW', {\r\n\t\t\t\t\t\t\t\t\targs: [tokenBalance],\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nWithdrawAnyTokenFromIdentity.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId,\r\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\r\n\t\tbalanceAnySpinner: memory.spinners['tokenAddress'],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst WithdrawAnyTokenFromIdentityForm = NewTransactionHoc(\r\n\tWithdrawAnyTokenFromIdentity\r\n)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(WithdrawAnyTokenFromIdentityForm)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\nimport { InputLoading } from 'components/common/spinners/'\r\n\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst PRIV_LEVELS_SRC = Object.keys(IdentityPrivilegeLevel).map(key => {\r\n\treturn {\r\n\t\tvalue: IdentityPrivilegeLevel[key],\r\n\t\tlabel: key,\r\n\t}\r\n})\r\n\r\nclass SeAddressPrivilege extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { transaction, validate } = this.props\r\n\t\tif (!transaction.withdrawAmount) {\r\n\t\t\tvalidate('setAddr', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tactions,\r\n\t\t\ttransaction,\r\n\t\t\tt,\r\n\t\t\tinvalidFields,\r\n\t\t\tidentityAvailable,\r\n\t\t\thandleChange,\r\n\t\t\tsetAddrSpinner,\r\n\t\t\tvalidate,\r\n\t\t} = this.props\r\n\t\tconst { setAddr, privLevel } = transaction || {}\r\n\t\t// const errAmount = invalidFields['withdrawAmount']\r\n\t\tconst errAddr = invalidFields['setAddr']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t{t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')} {identityAvailable}{' '}\r\n\t\t\t\t</div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\r\n\t\t\t\t\tname='setAddr'\r\n\t\t\t\t\tvalue={setAddr || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('setAddr', ev.target.value)}\r\n\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: setAddr,\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'setAddr',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: setAddr,\r\n\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'setAddr',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t{setAddrSpinner ? <InputLoading /> : null}\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\r\n\t\t\t\t\thelperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\r\n\t\t\t\t\tonChange={val => handleChange('privLevel', val)}\r\n\t\t\t\t\tsource={PRIV_LEVELS_SRC}\r\n\t\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\r\n\t\t\t\t\thtmlId='label-privLevel'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSeAddressPrivilege.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId,\r\n\t\tsetAddrSpinner: memory.spinners['setAddr'],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst SeAddressPrivilegeForm = NewTransactionHoc(SeAddressPrivilege)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SeAddressPrivilegeForm)\r\n","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { PropRow } from 'components/common/dialog/content'\r\nimport { constants } from 'adex-models'\r\n\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nexport const IdentityWithdrawPreview = ({\r\n\tt,\r\n\twithdrawTo,\r\n\tclasses,\r\n\tfeesData,\r\n\twithdrawAmount,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawAmount'\r\n\t\t\tleft={t('withdrawAmount', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${withdrawAmount} ${symbol}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const SetPrivilegePreview = ({\r\n\tt,\r\n\tsetAddr,\r\n\tclasses,\r\n\tfeesData,\r\n\tprivLevel,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='setAddr'\r\n\t\t\tleft={t('setAddr', { isProp: true })}\r\n\t\t\tright={(setAddr || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='privLevel'\r\n\t\t\tleft={t('privLevel', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={privilegesNames[privLevel]}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const IdentityWithdrawAnyPreview = ({\r\n\tt,\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\tclasses,\r\n\tfeesData,\r\n\twithdrawAmount,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='tokenAddress'\r\n\t\t\tleft={t('tokenAddress', { isProp: true })}\r\n\t\t\tright={(tokenAddress || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawAmount'\r\n\t\t\tleft={t('withdrawAmount', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={withdrawAmount + ' '}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { styles } from './styles'\r\nimport {\r\n\tIdentityWithdrawPreview,\r\n\tSetPrivilegePreview,\r\n\tIdentityWithdrawAnyPreview,\r\n} from './previews'\r\nimport {\r\n\tselectMainToken,\r\n\tt,\r\n\tselectSpinnerById,\r\n\tselectAccount,\r\n\tselectNewTransactionById,\r\n} from 'selectors'\r\nimport { execute, updateSpinner } from 'actions'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TransactionPreview(props) {\r\n\tconst classes = useStyles()\r\n\tconst {\r\n\t\tgetFeesFn,\r\n\t\thandleChange,\r\n\t\tidentityAvailable,\r\n\t\tpreviewWarnMsgs,\r\n\t\tstepsId,\r\n\t} = props\r\n\r\n\tconst txId = stepsId\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst transaction = useSelector(state =>\r\n\t\tselectNewTransactionById(state, txId)\r\n\t)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, txId))\r\n\r\n\tuseEffect(() => {\r\n\t\tif (getFeesFn && Object.keys(transaction).length) {\r\n\t\t\texecute(updateSpinner(txId, true))\r\n\t\t\tgetFeesFn({ account, transaction })\r\n\t\t\t\t.then(feesData => {\r\n\t\t\t\t\thandleChange('feesData', feesData)\r\n\t\t\t\t\t// if (feesData.toGet) {\r\n\t\t\t\t\t// \thandleChange('withdrawAmount', feesData.toGet)\r\n\t\t\t\t\t// }\r\n\t\t\t\t\texecute(updateSpinner(txId, false))\r\n\r\n\t\t\t\t\tif (parseFloat(feesData.fees || 0) > parseFloat(identityAvailable)) {\r\n\t\t\t\t\t\thandleChange('errors', [\r\n\t\t\t\t\t\t\tt('INSUFFICIENT_BALANCE_FOR_FEES', {\r\n\t\t\t\t\t\t\t\targs: [identityAvailable, symbol, feesData.fees, symbol],\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t])\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.error(err)\r\n\t\t\t\t\texecute(updateSpinner(txId, false))\r\n\t\t\t\t\thandleChange('errors', [Helper.getErrMsg(err)])\r\n\t\t\t\t})\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst {\r\n\t\twithdrawTo,\r\n\t\twithdrawAmount,\r\n\t\tsetAddr,\r\n\t\tprivLevel,\r\n\t\ttokenAddress,\r\n\t\tfeesData = {},\r\n\t\terrors = [],\r\n\t} = transaction\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBox>\r\n\t\t\t\t\t{transaction.waitingForWalletAction ? (\r\n\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{errors.length\r\n\t\t\t\t\t\t\t? errors.map((err, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={err}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{previewWarnMsgs\r\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\twithdrawAmount={withdrawAmount}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\r\n\t\t\t\t\t\t\t<SetPrivilegePreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\twithdrawAmount={withdrawAmount}\r\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</ContentBox>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nTransactionPreview.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tpreviewMsgs: PropTypes.array,\r\n}\r\n\r\nconst TransactionPreviewForm = NewTransactionHoc(TransactionPreview)\r\nexport default TransactionPreviewForm\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tcolor: theme.palette.warning.A700,\r\n\t\t},\r\n\t\tcentralSpinner: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 20px)',\r\n\t\t\ttop: ' calc(50% - 20px)',\r\n\t\t},\r\n\t\timgPreview: {\r\n\t\t\theight: 120,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport WithdrawFromExchangePage from './WithdrawFromIdentity'\r\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\r\nimport SeAddressPrivilege from './SeAddressPrivilege'\r\nimport TransactionPreview from './TransactionPreview'\r\nimport Button from '@material-ui/core/Button'\r\nimport TransactionHoc from './TransactionHoc'\r\nimport FormSteps from 'components/dashboard/forms/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\n// import SaveIcon from '@material-ui/icons/Save'\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\r\nimport {\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport { addrIdentityPrivilege, identityWithdraw, execute } from 'actions'\r\n\r\nconst FormStepsWithDialog = WithDialog(FormSteps)\r\n\r\nconst SaveBtn = ({\r\n\tsave,\r\n\tsaveBtnLabel,\r\n\tsaveBtnIcon,\r\n\tt,\r\n\ttransaction,\r\n\twaitingForWalletAction,\r\n\tspinner,\r\n\t...other\r\n}) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t\tdisabled={\r\n\t\t\t\t(!!transaction.errors && !!transaction.errors.length) ||\r\n\t\t\t\t!!transaction.waitingForWalletAction ||\r\n\t\t\t\t!!spinner\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{transaction.waitingForWalletAction ? (\r\n\t\t\t\t<HourglassEmptyIcon />\r\n\t\t\t) : (\r\n\t\t\t\tsaveBtnIcon || ''\r\n\t\t\t)}\r\n\t\t\t{t(saveBtnLabel || 'DO_IT')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst CancelBtn = ({ cancel, cancelBtnLabel, t, ...other }) => {\r\n\treturn <Button onClick={cancel}>{t(cancelBtnLabel || 'CANCEL')}</Button>\r\n}\r\n\r\nconst SaveBtnWithTransaction = TransactionHoc(SaveBtn)\r\nconst CancelBtnWithTransaction = TransactionHoc(CancelBtn)\r\n\r\nconst txCommon = {\r\n\tSaveBtn: SaveBtnWithTransaction,\r\n\tCancelBtn: CancelBtnWithTransaction,\r\n\tvalidateIdBase: 'tx-',\r\n\tdarkerBackground: true,\r\n}\r\n\r\nexport const WithdrawTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tpage: WithdrawFromExchangePage,\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction, account } = {}) => {\r\n\t\t\treturn execute(\r\n\t\t\t\tidentityWithdraw({\r\n\t\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\r\n\t\t\t\t\twithdrawTo: transaction.withdrawTo,\r\n\t\t\t\t\taccount,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction, account } = {}) => {\r\n\t\t\treturn withdrawFromIdentity({\r\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\r\n\t\t\t\twithdrawTo: transaction.withdrawTo,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n)\r\n\r\nexport const SetIdentityPrivilege = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\r\n\t\tstepsId='setIdentityPrivilege'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\r\n\t\t\t\tpage: SeAddressPrivilege,\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn execute(\r\n\t\t\t\taddrIdentityPrivilege({\r\n\t\t\t\t\tprivLevel: transaction.privLevel,\r\n\t\t\t\t\tsetAddr: transaction.setAddr,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction, account } = {}) => {\r\n\t\t\treturn setIdentityPrivilege({\r\n\t\t\t\tprivLevel: transaction.privLevel,\r\n\t\t\t\tsetAddr: transaction.setAddr,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n)\r\n\r\nexport const WithdrawAnyTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawAnyFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tpage: WithdrawAnyTokenFromIdentityPage,\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn execute(\r\n\t\t\t\tidentityWithdraw({\r\n\t\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\r\n\t\t\t\t\ttokenAddress: transaction.tokenAddress,\r\n\t\t\t\t\twithdrawTo: transaction.withdrawTo,\r\n\t\t\t\t\ttokenDecimals: transaction.tokenDecimals,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction, account } = {}) => {\r\n\t\t\treturn withdrawFromIdentity({\r\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\r\n\t\t\t\ttokenAddress: transaction.tokenAddress,\r\n\t\t\t\twithdrawTo: transaction.withdrawTo,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\ttokenDecimals: transaction.tokenDecimals,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n)\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tactionBtn: {\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t\taddress: {\r\n\t\t\twordWrap: 'break-word',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\tadvancedList: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\ticonBtnLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { updateNav, addToast, execute } from 'actions'\r\nimport copy from 'copy-to-clipboard'\r\nimport {\r\n\tWithdrawTokenFromIdentity,\r\n\t// WithdrawAnyTokenFromIdentity,\r\n\tSetIdentityPrivilege,\r\n} from 'components/dashboard/forms/web3/transactions'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport DownloadIcon from '@material-ui/icons/SaveAlt'\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { styles } from './styles.js'\r\nimport { getRecoveryWalletData } from 'services/wallet/wallet'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\r\nimport { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\r\nimport {\r\n\tt,\r\n\tselectWallet,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountIdentity,\r\n} from 'selectors'\r\nimport { formatAddress } from 'helpers/formatters'\r\n\r\n// const RRButton = withReactRouterLink(Button)\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\n\r\nfunction AccountInfo() {\r\n\tconst { authType, email, password } = useSelector(selectWallet)\r\n\tconst identity = useSelector(selectAccountIdentity)\r\n\tconst {\r\n\t\twalletAddress,\r\n\t\twalletAuthType = '',\r\n\t\twalletPrivileges = '',\r\n\t\tidentityAddress,\r\n\t\tidentityBalanceMainToken,\r\n\t\tavailableIdentityBalanceMainToken,\r\n\t\toutstandingBalanceMainToken,\r\n\t\tmainTokenSymbol,\r\n\t} = useSelector(selectAccountStatsFormatted)\r\n\r\n\tconst localWalletDownloadHref = () => {\r\n\t\tconst obj = getRecoveryWalletData({ email, password, authType })\r\n\t\tif (!obj || !obj.wallet) {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\tconst data =\r\n\t\t\t'data:text/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(obj))\r\n\t\treturn data\r\n\t}\r\n\r\n\tconst walletJsonData = localWalletDownloadHref()\r\n\tconst [expanded, setExpanded] = useState(false)\r\n\tconst useStyles = makeStyles(styles)\r\n\tconst classes = useStyles()\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateNav('navTitle', t('ACCOUNT')))\r\n\t}, [])\r\n\r\n\tconst displayRampWidget = () => {\r\n\t\tconst widget = new RampInstantSDK({\r\n\t\t\thostAppName: 'AdExNetwork',\r\n\t\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\r\n\t\t\tvariant: 'auto',\r\n\t\t\tswapAsset: mainTokenSymbol,\r\n\t\t\tuserAddress: identity.address,\r\n\t\t})\r\n\t\twidget.domNodes.overlay.style.zIndex = 1000\r\n\t\twidget.show()\r\n\t}\r\n\r\n\tconst handleExpandChange = () => {\r\n\t\tsetExpanded(!expanded)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<List>\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflex='1'\r\n\t\t\t\t\t\tflexWrap={'wrap'}\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tflexGrow='3'\r\n\t\t\t\t\t\t\tmr={1}\r\n\t\t\t\t\t\t\tflexWrap={'wrap'}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\tjustifyContent='start'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\tprimary={identityAddress}\r\n\t\t\t\t\t\t\t\tsecondary={\r\n\t\t\t\t\t\t\t\t\tauthType === 'demo'\r\n\t\t\t\t\t\t\t\t\t\t? t('DEMO_ACCOUNT_IDENTITY_ADDRESS')\r\n\t\t\t\t\t\t\t\t\t\t: t('IDENTITY_ETH_ADDR')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcopy(identityAddress)\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflex='1'\r\n\t\t\t\t\t\tflexWrap={'wrap'}\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tflexGrow='3'\r\n\t\t\t\t\t\t\tmr={1}\r\n\t\t\t\t\t\t\tflexWrap={'wrap'}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\tjustifyContent='start'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\tprimary={formatAddress(walletAddress)}\r\n\t\t\t\t\t\t\t\tsecondary={\r\n\t\t\t\t\t\t\t\t\tauthType === 'demo'\r\n\t\t\t\t\t\t\t\t\t\t? t('DEMO_ACCOUNT_WALLET_ADDRESS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\targs: [walletAuthType, walletPrivileges],\r\n\t\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t\t\t: t('WALLET_INFO_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twalletAuthType.replace(/^\\w/, chr => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn chr.toUpperCase()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twalletPrivileges || ' - ',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tauthType,\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{walletJsonData && (\r\n\t\t\t\t\t\t\t\t<Box py={1} flexGrow='1'>\r\n\t\t\t\t\t\t\t\t\t<label htmlFor='download-wallet-json'>\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\tid='download-wallet-json'\r\n\t\t\t\t\t\t\t\t\t\t\thref={localWalletDownloadHref()}\r\n\t\t\t\t\t\t\t\t\t\t\tdownload={`adex-account-data-${email}.json`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button size='small' variant='contained' fullWidth>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<DownloadIcon className={classes.iconBtnLeft} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('BACKUP_LOCAL_WALLET')}\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexWrap={'wrap'}\r\n\t\t\t\t\t\tflex='1'\r\n\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box pr={1} flexGrow='8'>\r\n\t\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t0} ${mainTokenSymbol}`}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [outstandingBalanceMainToken || 0, mainTokenSymbol],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\taria-label='delete'\r\n\t\t\t\t\t\t\t\t\tonClick={() => displayRampWidget()}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\r\n\t\t\t\t\t\t\t\t\t{t('TOP_UP_IDENTITY_GBP')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\ttoken={mainTokenSymbol}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<ExpansionPanel expanded={expanded} onChange={handleExpandChange}>\r\n\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\taria-controls='panel1bh-content'\r\n\t\t\t\t\t\tid='panel1bh-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography className={classes.heading}>\r\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\r\n\t\t\t\t\t\t\t\t\tflex='1'\r\n\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Box pr={1} flexGrow='8'>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t\t\tsecondary={''}\r\n\t\t\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t<Box py={1} flexGrow='1'>\r\n\t\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_ID],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_ID],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t{/* <ListItem>\r\n\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\r\n\t\t\t\t\t\t\t\t\tflex='1'\r\n\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</ListItem> */}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t</ExpansionPanel>\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default AccountInfo\r\n","import React, { useState, useEffect } from 'react'\r\nimport SideNav from './SideNav'\r\nimport TopBar from './TopBar'\r\nimport { Route, Switch } from 'react-router'\r\nimport Campaign from 'components/dashboard/containers/Campaign'\r\nimport DashboardStats from 'components/dashboard/containers/DashboardStats'\r\nimport Unit from 'components/dashboard/containers/Unit'\r\nimport Slot from 'components/dashboard/containers/Slot'\r\nimport Items from 'components/dashboard/containers/Items'\r\nimport Account from 'components/dashboard/account/AccountInfo'\r\nimport {\r\n\tNewUnitDialog,\r\n\tNewCampaignDialog,\r\n\tNewSlotDialog,\r\n} from 'components/dashboard/forms/items/NewItems'\r\nimport campaignsLoop from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport analyticsLoop from 'services/store-data/analytics'\r\nimport Drawer from '@material-ui/core/Drawer'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { updateNav, getAllItems, execute } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nconst Campaigns = () => (\r\n\t<>\r\n\t\t<NewCampaignDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\taccent\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\t/>\r\n\t\t<Items header={t('ALL_CAMPAIGNS')} itemType={'Campaign'} />\r\n\t</>\r\n)\r\n\r\nconst AdUnits = () => (\r\n\t<>\r\n\t\t<NewUnitDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t/>\r\n\t\t<Items header={t('ALL_UNITS')} itemType={'AdUnit'} />\r\n\t</>\r\n)\r\n\r\nconst AdSlots = () => (\r\n\t<>\r\n\t\t<NewSlotDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\taccent\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_SLOT'\r\n\t\t/>\r\n\t\t<Items header={t('ALL_SLOTS')} itemType={'AdSlot'} />\r\n\t</>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Dashboard(props) {\r\n\tconst [mobileOpen, setMobileOpen] = useState(false)\r\n\r\n\tconst { match } = props\r\n\tconst { side } = match.params\r\n\tconst classes = useStyles()\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateNav('side', side))\r\n\t\texecute(getAllItems())\r\n\t\tanalyticsLoop.start()\r\n\t\tcampaignsLoop.start()\r\n\t\tstatsLoop.start()\r\n\r\n\t\treturn () => {\r\n\t\t\tcampaignsLoop.stop()\r\n\t\t\tstatsLoop.stop()\r\n\t\t}\r\n\t}, [side])\r\n\r\n\tuseEffect(() => {}, [match, mobileOpen])\r\n\tuseEffect(() => {\r\n\t\texecute(updateNav('side', side))\r\n\t}, [side])\r\n\r\n\tconst handleDrawerToggle = () => {\r\n\t\tsetMobileOpen(!mobileOpen)\r\n\t}\r\n\r\n\tconst drawer = <SideNav side={side} />\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<TopBar\r\n\t\t\t\tside={side}\r\n\t\t\t\topen={mobileOpen}\r\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\r\n\t\t\t/>\r\n\t\t\t<Hidden mdUp>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='temporary'\r\n\t\t\t\t\tanchor='left'\r\n\t\t\t\t\topen={mobileOpen}\r\n\t\t\t\t\tonClose={handleDrawerToggle}\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tModalProps={{\r\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\t\t\t<Hidden smDown implementation='css'>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='permanent'\r\n\t\t\t\t\topen\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\r\n\t\t\t<main className={classes.content}>\r\n\t\t\t\t<div className={classes.contentInner}>\r\n\t\t\t\t\t<div className={classes.toolbar} />\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\r\n\t\t\t\t\t\t\tcomponent={Campaigns}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\r\n\t\t\t\t\t\t\tcomponent={AdUnits}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/Campaign/:itemId'\r\n\t\t\t\t\t\t\tcomponent={props => <Campaign {...props} />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/AdUnit/:itemId'\r\n\t\t\t\t\t\t\tcomponent={props => <Unit {...props} />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\r\n\t\t\t\t\t\t\tcomponent={AdSlots}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/publisher/AdSlot/:itemId'\r\n\t\t\t\t\t\t\tcomponent={props => <Slot {...props} />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\r\n\t\t\t\t\t\t\tcomponent={props => <Account {...props} />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{/* <Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\r\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\r\n\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/:side'\r\n\t\t\t\t\t\t\tcomponent={props => <DashboardStats {...props} />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route component={props => <PageNotFound {...props} />} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Dashboard\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\troot: {\r\n\t\t\t// flexGrow: 1,\r\n\t\t\theight: '100vh',\r\n\t\t},\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\theight: '100vh',\r\n\t\t\tflexGrow: '1',\r\n\t\t},\r\n\t\tactions: {\r\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t},\r\n\t\tbuttons: {\r\n\t\t\tbackgroundColor: theme.palette.grey[200],\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// left: spacing,\r\n\t\t\t// bottom: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\t// marginTop: '1.5vh',\r\n\t\t\t// width: '17.92vh',\r\n\t\t\t// height: '6vh',\r\n\t\t\theight: '2rem',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tnoBg: {\r\n\t\t\tbackground: 0,\r\n\t\t\tboxShadow: 'none',\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\t// position: 'relative',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 24,\r\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t// '&:first-child': {\r\n\t\t\t// \tpaddingTop: spacing,\r\n\t\t\t// },\r\n\t\t\t// overflow: 'visible',\r\n\t\t\t// maxHeight: '100vh'\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport Img from 'components/common/img/Img'\r\nimport classnames from 'classnames'\r\nimport { getAllWallets } from 'services/wallet/wallet'\r\nimport { execute, initIdentity, confirmAction } from 'actions'\r\nimport { selectAuth, selectAccount, selectRegistrationAllowed } from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { formatAddress } from 'helpers/formatters'\r\nimport { push } from 'connected-react-router'\r\nimport { t } from 'selectors'\r\n\r\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst AuthSelect = () => {\r\n\tconst classes = useStyles()\r\n\tconst [wallets, setWallets] = useState([])\r\n\r\n\tconst regAllowed = useSelector(selectRegistrationAllowed)\r\n\tconst showRegistration = REGISTRATION_OPEN || regAllowed\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { wallet } = account || {}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst allWallets = getAllWallets()\r\n\t\tconst wallets = allWallets.filter(\r\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\r\n\t\t)\r\n\t\tsetWallets(wallets)\r\n\t}, [wallet])\r\n\r\n\tconst goTo = (to, confirmLogout, onConfirm) => {\r\n\t\tconst toExecute = () => {\r\n\t\t\tlogOut()\r\n\t\t\texecute(push(to))\r\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\r\n\t\t\t\tonConfirm()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (auth && confirmLogout) {\r\n\t\t\texecute(\r\n\t\t\t\tconfirmAction(toExecute, null, {\r\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\r\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\r\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\r\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TITLE', {\r\n\t\t\t\t\t\targs: [wallet.authType, wallet.address],\r\n\t\t\t\t\t}),\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\ttoExecute()\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='stretch'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t>\r\n\t\t\t<Box p={2} alignItems='center'>\r\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\r\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t{auth && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tto='/side-select'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CONTINUE_AS', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\twallet.email || formatAddress(wallet.address),\r\n\t\t\t\t\t\t\t\twallet.authType,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</RRButton>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t{wallets.map(w => (\r\n\t\t\t\t<Box key={w.name} m={1}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\r\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t))}\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?metamask', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\r\n\t\t\t\t\t\tclassName={classes.btnLogo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{t('METAMASK')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.trezorBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?trezor', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tclasses.btnLogo,\r\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\r\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* {t('TREZOR')} */}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t\t{showRegistration && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default AuthSelect\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tactions: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tlimitedWidthBtn: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tbtnLogo: {\r\n\t\t\theight: '2rem',\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tbtnLogoNoTxt: {\r\n\t\t\tmarginRight: 0,\r\n\t\t},\r\n\t\tmetamaskBtn: {\r\n\t\t\tbackgroundColor: theme.palette.grey[800],\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\ttrezorBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport packageJson from './../../../package.json'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\r\nimport { t } from 'selectors'\r\nimport { Typography } from '@material-ui/core'\r\n\r\nexport default function ConnectHoc(Decorated) {\r\n\tfunction Connect({ classes, ...rest }) {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tclassName={classes.container}\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t// spacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\r\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\r\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\r\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\r\n\t\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\r\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\r\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\r\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref='https://medium.com/adex-network-tips-and-tricks'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HELP')}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\r\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\r\n\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn withStyles(styles)(Connect)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions, { execute, login } from 'actions'\r\nimport { push } from 'connected-react-router'\r\n\r\nexport default function IdentityHoc(Decorated) {\r\n\tclass IdentityForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tready: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value) => {\r\n\t\t\tthis.props.actions.updateIdentity(prop, value)\r\n\t\t}\r\n\r\n\t\t// componentDidUpdate = () => {\r\n\t\t// \tconst { account } = this.props\r\n\t\t// \tif (account.wallet.authSig) {\r\n\t\t// \t\texecute(push('/side-select'))\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\tsave = async () => {\r\n\t\t\texecute(login())\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tconst { resetIdentity } = this.props.actions\r\n\t\t\tresetIdentity()\r\n\t\t\texecute(push('/'))\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { identity, spinner, waitingExpected, ...rest } = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tidentity={identity}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\twaiting={spinner}\r\n\t\t\t\t\twaitingExpected={waitingExpected}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tIdentityForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tidentity: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tidentity: memory.identity,\r\n\t\t\tspinner: memory.spinners['creating-session'],\r\n\t\t\twaitingExpected: memory.spinners['getting-expected-identity'],\r\n\t\t\twaitingUpload: memory.spinners['uploading-account-data'],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(IdentityForm)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport default function NewItemHoc(Decorated) {\r\n\tclass ValidItemHoc extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tinvalidFields: {},\r\n\t\t\t}\r\n\r\n\t\t\tthis.validate = this.validate.bind(this)\r\n\t\t}\r\n\r\n\t\tcomponentWillReceiveProps(nextProps) {\r\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\r\n\t\t}\r\n\r\n\t\tvalidate = (\r\n\t\t\tkey,\r\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n\t\t) => {\r\n\t\t\tif (!isValid) {\r\n\t\t\t\tlet errors = {}\r\n\t\t\t\terrors[key] = {\r\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\r\n\t\t\t\t\tdirty: dirty,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\r\n\t\t\t} else if (removeAll) {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tvalidate={this.validate}\r\n\t\t\t\t\tinvalidFields={this.state.invalidFields}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tValidItemHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\t// let persist = state.persist\r\n\t\tlet memory = state.memory\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport IdentityHoc from '../IdentityHoc'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\n\r\nexport default function AuthHoc(Decorated) {\r\n\tclass Auth extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.state = {\r\n\t\t\t\tmethod: '',\r\n\t\t\t\tsideSelect: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateWallet = ({\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t}) => {\r\n\t\t\tconst wallet = {\r\n\t\t\t\taddress,\r\n\t\t\t\tauthType,\r\n\t\t\t\thdWalletAddrPath,\r\n\t\t\t\thdWalletAddrIdx,\r\n\t\t\t\tpath,\r\n\t\t\t\tchainId,\r\n\t\t\t\tsignType,\r\n\t\t\t}\r\n\r\n\t\t\tthis.props.handleChange('identityContractOwner', address)\r\n\t\t\tthis.props.handleChange('wallet', wallet)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...this.props}\r\n\t\t\t\t\t// updateAcc={this.updateAcc}\r\n\t\t\t\t\tupdateWallet={this.updateWallet}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tAuth.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\tlet persist = state.persist\r\n\t\t// let memory = state.memory\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc(IdentityHoc(Auth))))\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\taddrListItem: {\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpaddingTop: spacing,\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\t'& strong': {\r\n\t\t\t\tmarginRight: spacing * 2,\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfoLabel: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tfontWeight: 'bold',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t\t// marginTop: spacing * 2,\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 70,\r\n\t\t\t// left: 0,\r\n\t\t\t// right: 0,\r\n\t\t\t// bottom: 0\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\ttabLogo: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: spacing * 4,\r\n\t\t\tmaxHeight: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\ttabLabel: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tdlBtnImg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: spacing * 9,\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t\tleftBtnIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '-6vh',\r\n\t\t\tleft: 0,\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\twidth: '12.8vh',\r\n\t\t\theight: '5vh',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function AddrItem({ stats }) {\r\n\tconst { balanceEth, tokensBalances, address } = stats\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<ListItemText\r\n\t\t\tprimary={address}\r\n\t\t\tsecondary={\r\n\t\t\t\t<span className={classes.addrInfo}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> ETH </span>\r\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<span> {symbol} </span>\r\n\t\t\t\t\t\t\t<strong> {balance} </strong>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\r\nimport METAMASK_IMG from 'resources/metamask.png'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport AuthHoc from './AuthHoc'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport { addToast, execute } from 'actions'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers, getEthereumProvider } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\nimport Box from '@material-ui/core/Box'\r\n\r\nfunction AuthMetamask(props) {\r\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\r\n\tconst [address, setAddress] = useState(null)\r\n\tconst [stats, setStats] = useState(null)\r\n\tconst [waitingMetamaskAction, setWaitingMetamaskAction] = useState(false)\r\n\tconst [waitingAddrsData, setWaitingAddrsData] = useState(false)\r\n\tconst { t, classes } = props\r\n\tconst isOpera =\r\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\r\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\r\n\t\tfalse\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst setEth = async () => {\r\n\t\t\tconst ethereumProvider = await getEthereumProvider()\r\n\t\t\tsetIsMetamaskEthereumProvider(\r\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tsetEth()\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (installingMetamask) {\r\n\t\t\t// Refreshes page after user comes back\r\n\t\t\t// from installing Metamask\r\n\t\t\twindow.onfocus = () => {\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t\tsetInstallingMetamask(false)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [installingMetamask])\r\n\r\n\tconst checkMetamask = async () => {\r\n\t\tsetWaitingAddrsData(true)\r\n\t\ttry {\r\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst wallet = {\r\n\t\t\t\tauthType: authType,\r\n\t\t\t}\r\n\r\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\r\n\t\t\tconst address = await metamaskSigner.getAddress()\r\n\t\t\tconst stats = await getAddressBalances({\r\n\t\t\t\taddress: { address },\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\t\t\tsetAddress(address)\r\n\t\t\tsetStats(stats)\r\n\t\t\tsetWaitingAddrsData(false)\r\n\r\n\t\t\tprops.updateWallet({\r\n\t\t\t\taddress,\r\n\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\r\n\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Error: catch', err)\r\n\t\t\tsetWaitingMetamaskAction(false)\r\n\t\t\tsetWaitingAddrsData(false)\r\n\t\t\texecute(\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t{waitingMetamaskAction ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ACTION')} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : waitingAddrsData ? (\r\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t{t('METAMASK_INFO')}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\twidth={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: t('METAMASK_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\r\n\t\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{address ? (\r\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\r\n\t\t\t\t\t\t\t{stats ? (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography paragraph variant='subheading' color='primary'>\r\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={checkMetamask}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</Box>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nAuthMetamask.propTypes = {\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthMetamask)))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport Button from '@material-ui/core/Button'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport AuthHoc from './AuthHoc'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\nclass AuthTrezor extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingTrezorAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: '',\r\n\t\t}\r\n\t}\r\n\r\n\tconnectTrezor = async () => {\r\n\t\tthis.setState({ waitingTrezorAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\r\n\r\n\t\t\t\tconst addresses = await trezorSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.payload.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tconsole.log('result', results)\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: trezorSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingTrezorAction: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingTrezorAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_TREZOR', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingTrezorAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingTrezorAction ? (\r\n\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tt('SELECT_ADDR_TREZOR')\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{addresses.map((res, index) => (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} address={res.address} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst { address, path } = addrData\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\tpath,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.TREZOR.signType,\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ? (\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingTrezorAction={this.state.waitingTrezorAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : this.state.waitingTrezorAction ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t{t('TREZOR_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: t('TREZOR_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io/' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Wallet\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Bridge\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'https://trezor.io'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingTrezorAction && (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={this.connectTrezor}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthTrezor.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthTrezor)))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\nimport AuthHoc from './AuthHoc'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport LEDGER_DL_IMG from 'resources/ledger_logo_header.png'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\n\r\nclass AuthLedger extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingLedgerAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: '',\r\n\t\t}\r\n\t}\r\n\r\n\tconnectLedger = async () => {\r\n\t\tthis.setState({ waitingLedgerAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.LEDGER.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.LEDGER.name,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst ledgerSigner = await getSigner({ wallet, provider })\r\n\t\t\t\tconst addresses = await ledgerSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.LEDGER.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: ledgerSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingLedgerAction: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingLedgerAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_LEDGER', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingLedgerAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingLedgerAction ? (\r\n\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tt('SELECT_ADDR_LEDGER')\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{addresses.map((res, index) => (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst { address, path } = addrData\r\n\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.LEDGER.name,\r\n\t\t\tpath,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.LEDGER.signType,\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ? (\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingLedgerAction={this.state.waitingLedgerAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : this.state.waitingLedgerAction ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t{t('LEDGER_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: t('LEDGER_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://www.ledgerwallet.com/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLEDGER\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<Anchor href='https://www.ledgerwallet.com/' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={LEDGER_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'https://www.ledgerwallet.com/'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingLedgerAction && (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={this.connectLedger}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_LEDGER')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthLedger.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthLedger)))\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport AuthMetamask from './AuthMetamask'\r\nimport AuthTrezor from './AuthTrezor'\r\nimport AuthLedger from './AuthLedger'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction AuthMethod() {\r\n\tconst classes = useStyles()\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst { search } = location\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\r\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\r\n\t\t\t\t{search === '?metamask' && <AuthMetamask />}\r\n\t\t\t\t{search === '?trezor' && <AuthTrezor />}\r\n\t\t\t\t{search === '?ledger' && <AuthLedger />}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default AuthMethod\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport AuthMethod from 'components/signin/identity/ownerAuth/AuthMethod'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nclass IdentityContractOwner extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.validateContractOwner()\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst currOwner = this.props.identity.identityContractOwner\r\n\t\tif (!!currOwner && currOwner !== prevProps.identity.identityContractOwner) {\r\n\t\t\tthis.validateContractOwner()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateContractOwner = () => {\r\n\t\tconst { validate, identity } = this.props\r\n\t\tconst { identityContractOwner } = identity\r\n\r\n\t\tvalidate('identityContractOwner', {\r\n\t\t\tisValid: !!identityContractOwner,\r\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <AuthMethod {...this.props} />\r\n\t}\r\n}\r\n\r\nIdentityContractOwner.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst IdentityContractOwnerStep = IdentityHoc(IdentityContractOwner)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(IdentityContractOwnerStep))\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport { t, selectIdentity, selectValidationsById } from 'selectors'\r\nimport {\r\n\texecute,\r\n\tvalidateEmail,\r\n\tvalidateEmailCheck,\r\n\tvalidatePassword,\r\n\tvalidatePasswordCheck,\r\n\tvalidateTOS,\r\n\tupdateIdentity,\r\n} from 'actions'\r\n\r\nconst QuickInfo = props => {\r\n\tconst checkTos = checked => {\r\n\t\texecute(updateIdentity('tosCheck', checked))\r\n\t\texecute(validateTOS(validateId, checked, true))\r\n\t}\r\n\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\t// Errors\r\n\tconst { email, emailCheck, password, passwordCheck, tosCheck } = validations\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\tonChange={ev => execute(updateIdentity('email', ev.target.value))}\r\n\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, true))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, false))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tvalidateEmailCheck(\r\n\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\tidentity.emailCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.email,\r\n\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tvalidateEmailCheck(\r\n\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\tidentity.emailCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.email,\r\n\t\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\texecute(validatePassword(validateId, identity.password, true))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\texecute(validatePassword(validateId, identity.password, false))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={password && !!password.dirty}\r\n\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\tpassword && !!password.dirty\r\n\t\t\t\t\t\t\t\t? password.errMsg\r\n\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\r\n\t\t\t\t\t\tname='passwordCheck'\r\n\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tvalidatePasswordCheck(\r\n\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.password,\r\n\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tvalidatePasswordCheck(\r\n\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.password,\r\n\t\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\r\n\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\r\n\t\t\t\t\t\t\t\t? passwordCheck.errMsg\r\n\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => checkTos(ev.target.checked)}\r\n\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('TOS_CHECK')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default QuickInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n// import { makeStyles } from '@material-ui/core/styles'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { LoadingSection } from 'components/common/spinners'\r\n// import { styles } from './styles'\r\nimport { t, selectIdentity, selectSpinnerById } from 'selectors'\r\n\r\n// const useStyles = makeStyles(styles)\r\n\r\nconst QuickDeploy = ({ validateId }) => {\r\n\t// const classes = useStyles()\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst { walletAddr, identityAddr } = identity\r\n\r\n\treturn !!spinner ? (\r\n\t\t<LoadingSection>{t('LOADING')}</LoadingSection>\r\n\t) : (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item sm={12}>\r\n\t\t\t\t<Typography paragraph variant='subtitle1'>\r\n\t\t\t\t\t{t('QUICK_WALLET_ADDRESS')}\r\n\t\t\t\t\t{' ' + walletAddr}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography paragraph variant='body2'>\r\n\t\t\t\t\t{t('QUICK_WALLET_ADDRESS_INFO')}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography paragraph variant='subtitle1'>\r\n\t\t\t\t\t{t('IDENTITY_ADDRESS_INFO', {\r\n\t\t\t\t\t\targs: [identityAddr],\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default QuickDeploy\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { execute, updateIdentity } from 'actions'\r\nimport { t, selectIdentity, selectValidationsById } from 'selectors'\r\n\r\nconst QuickLogin = props => {\r\n\tconst { validateId } = props\r\n\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { wallet } = validations\r\n\r\n\treturn (\r\n\t\t<Grid\r\n\t\t\tcontainer\r\n\t\t\tspacing={2}\r\n\t\t\t// direction='row'\r\n\t\t\talignContent='space-between'\r\n\t\t\talignItems='center'\r\n\t\t>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t{t('QUICK_LOGIN_INFO', { args: [identity.email] })}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tdisabled={!!identity.authType}\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\tonChange={ev => execute(updateIdentity('email', ev.target.value))}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t{wallet && !!wallet.dirty && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\r\n\t\t\t\t\t\t\t\t{wallet.errMsg}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t{!!identity.walletAddr && (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Typography variant='body1'>\r\n\t\t\t\t\t\t\t\t\t{t('QUICK_WALLET_ADDRESS', { args: [identity.walletAddr] })}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\r\n\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default QuickLogin\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n\texecute,\r\n\tupdateIdentity,\r\n\townerIdentities as updateOwnerIdentities,\r\n} from 'actions'\r\nimport { selectSpinnerById, selectIdentity, t } from 'selectors'\r\nimport Dropdown from 'components/common/dropdown'\r\n\r\nconst getIdentitiesForDropdown = (ownerIdentities = [], t) =>\r\n\townerIdentities.map(id => {\r\n\t\treturn {\r\n\t\t\tvalue: id.identity + '-' + id.privLevel,\r\n\t\t\tlabel: t('IDENTITY_OPTION_DATA', {\r\n\t\t\t\targs: [id.identity, id.privLevel, id.data.email || '-'],\r\n\t\t\t}),\r\n\t\t}\r\n\t})\r\n\r\nfunction FullLogin(props) {\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst { wallet, ownerIdentities, identityContractAddress } = identity\r\n\tconst { address } = wallet\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, 'getting-owner-identities')\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateOwnerIdentities({ owner: address }))\r\n\t\t// We need it just once on mount\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Grid\r\n\t\t\tcontainer\r\n\t\t\tspacing={2}\r\n\t\t\t// direction='row'\r\n\t\t\talignContent='space-between'\r\n\t\t\talignItems='center'\r\n\t\t>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\r\n\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\r\n\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities, t)}\r\n\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\r\n\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tloading={!!spinner}\r\n\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', { args: [address] })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default FullLogin\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport { t, selectIdentity, selectValidationsById } from 'selectors'\r\nimport {\r\n\texecute,\r\n\tvalidateEmail,\r\n\tvalidateEmailCheck,\r\n\tvalidateTOS,\r\n\tupdateIdentity,\r\n} from 'actions'\r\n\r\n// TODO: work in progress - need to add validations, and generating identity for the address\r\nconst FulInfo = props => {\r\n\tconst checkTos = checked => {\r\n\t\texecute(updateIdentity('tosCheck', checked))\r\n\t\texecute(validateTOS(validateId, checked, true))\r\n\t}\r\n\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\t// Errors\r\n\tconst { email, emailCheck, tosCheck } = validations\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\tonChange={ev => execute(updateIdentity('email', ev.target.value))}\r\n\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, true))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, false))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tvalidateEmailCheck(\r\n\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\tidentity.emailCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.email,\r\n\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\tvalidateEmailCheck(\r\n\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\tidentity.emailCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.email,\r\n\t\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => checkTos(ev.target.checked)}\r\n\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('TOS_CHECK')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default FulInfo\r\n","import React, { useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport FullLogin from './FullLogin'\r\nimport FullInfo from './FullInfo'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbutton: {\r\n\t\theight: '50%',\r\n\t\tminHeight: theme.spacing(4),\r\n\t},\r\n\tcontainer: {},\r\n}))\r\n\r\nexport function ExternalConnect({ t, ...rest }) {\r\n\tconst classes = useStyles()\r\n\tconst [connectType, setConnectType] = useState('')\r\n\r\n\treturn (\r\n\t\t<Grid container alignItems='stretch' className={classes.buttons}>\r\n\t\t\t<Grid\r\n\t\t\t\titem\r\n\t\t\t\tcontainer\r\n\t\t\t\tdirection='column'\r\n\t\t\t\talignItems='stretch'\r\n\t\t\t\tjustify='space-evenly'\r\n\t\t\t>\r\n\t\t\t\t{connectType !== 'create' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h5' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('SELECT_EXISTING_IDENTITY')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<FullLogin {...rest} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t// alignItems='stretch'\r\n\t\t\t\t\t\t\tclassName={classes.buttons}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{/* <Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Button onClick={() => setConnectType('create')}>\r\n\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid> */}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t{connectType === 'create' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Typography variant='h5' gutterBottom>\r\n\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<FullInfo {...rest} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 0,\r\n\t\t\ttop: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: spacing,\r\n\t\t\tbottom: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\tmarginTop: '1.5vh',\r\n\t\t\twidth: '17.92vh',\r\n\t\t\theight: '6vh',\r\n\t\t},\r\n\t\tformControl: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t\tinfoPaper: {\r\n\t\t\t...theme.mixins.gutters(),\r\n\t\t\tpaddingTop: spacing * 2,\r\n\t\t\tpaddingBottom: spacing * 2,\r\n\t\t},\r\n\t\tinput: {\r\n\t\t\tdisplay: 'none',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass IdentitySteps extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tpages: this.mapPages(),\r\n\t\t}\r\n\r\n\t\t// TODO: Check if it is possible to need state update\r\n\t}\r\n\r\n\tmapPages = () => {\r\n\t\tconst {\r\n\t\t\tGoBtn,\r\n\t\t\tcancelFunction,\r\n\t\t\tt,\r\n\t\t\tonSave,\r\n\t\t\tstepsId,\r\n\t\t\tstepsPages = [],\r\n\t\t\tstepsPreviewPage,\r\n\t\t\tvalidateIdBase,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\r\n\r\n\t\tconst pages = stepsPages.map((page, index) => {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: t(page.title),\r\n\t\t\t\tcancelFunction,\r\n\t\t\t\tcomponent: ValidItemHoc(page.page),\r\n\t\t\t\tdisableBtnsIfValid: page.disableBtnsIfValid,\r\n\t\t\t\tprops: { ...this.props, validateId: validateId + '-' + index },\r\n\t\t\t\tpageValidation: page.pageValidation,\r\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\r\n\t\t\t\tcompleteBtn: page.final\r\n\t\t\t\t\t? () => <GoBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t\t\t\t: undefined,\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn pages\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <MaterialStepper pages={this.state.pages} />\r\n\t}\r\n}\r\n\r\nIdentitySteps.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps() {\r\n\t// const persist = state.persist\r\n\t// const memory = state.memory\r\n\treturn {\r\n\t\t// account: persist.account\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(IdentitySteps)))\r\n","import React from 'react'\r\nimport IdentityContractOwner from './IdentityContractOwner'\r\nimport QuickInfo from './QuickInfo'\r\nimport QuickDeploy from './QuickDeploy'\r\nimport QuickLogin from './QuickLogin'\r\nimport { ExternalConnect } from './ExternalWalletConnect'\r\nimport IdentitySteps from './IdentitySteps'\r\nimport { push } from 'connected-react-router'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateQuickLogin,\r\n\tvalidateStandardLogin,\r\n\tvalidateQuickInfo,\r\n\tvalidateQuickDeploy,\r\n\tresetIdentity,\r\n} from 'actions'\r\n\r\nconst cancelFunction = () => {\r\n\texecute(resetIdentity())\r\n\texecute(push('/'))\r\n}\r\n\r\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateQuickLogin({ validateId, dirty }))\r\n\r\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateStandardLogin({ validateId, dirty }))\r\n\r\nconst common = {\r\n\tcancelFunction,\r\n\tvalidateIdBase: 'identity-',\r\n}\r\n\r\nexport const LoginStandardIdentity = props => {\r\n\treturn (\r\n\t\t<IdentitySteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-login'\r\n\t\t\tstepsPages={[\r\n\t\t\t\t{ title: 'SET_IDENTITY_OWNER_ADDRESS', page: IdentityContractOwner },\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\r\n\t\t\t\t\tpage: ExternalConnect,\r\n\t\t\t\t\tpageValidation: finalValidationStandard,\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateQuickIdentity = props => (\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-create'\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_INFO',\r\n\t\t\t\tpage: QuickInfo,\r\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty, onValid, onInvalid })),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_DEPLOY',\r\n\t\t\t\tpage: QuickDeploy,\r\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateQuickDeploy({ validateId, dirty, onValid, onInvalid })\r\n\t\t\t\t\t),\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const LoginQuickIdentity = props => (\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-login'\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_LOGIN',\r\n\t\t\t\tpage: QuickLogin,\r\n\t\t\t\tpageValidation: finalValidationQuick,\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const DemoIdentity = props => (\r\n\t<IdentitySteps {...props} {...common} stepsPages={[]} />\r\n)\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Logo from 'components/common/icons/AdexIconTxt'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tvitalik: {\r\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\r\n\t\tbackgroundPosition: 'center',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundSize: 'contain',\r\n\t},\r\n\tcontainer: {\r\n\t\tmaxWidth: theme.breakpoints.values.md,\r\n\t\tmargin: 'auto',\r\n\t},\r\n\tlogo: {\r\n\t\theight: '5rem',\r\n\t\twidth: '100%',\r\n\t},\r\n}))\r\n\r\nexport default function Home({ t, ...rest }) {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\twidth={1}\r\n\t\t\theight={1}\r\n\t\t\tclassName={classes.root}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='center'\r\n\t\t\tjustifyContent='center'\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-evenly'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tflexGrow={1}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\tmaxWidth='md'\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Logo className={classes.logo} />\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{/* <Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t{/* <Box p={1}>\r\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\r\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box\r\n\t\t\t\t\theight='30%'\r\n\t\t\t\t\tposition='relative'\r\n\t\t\t\t\tclassName={classes.vitalik}\r\n\t\t\t\t\talignSelf='stretch'\r\n\t\t\t\t></Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tdialog: {\r\n\t\theight: '100vh',\r\n\t\twidth: theme.maxWidth || 1200,\r\n\t\tmaxWidth: '100%',\r\n\t},\r\n}))\r\n\r\nexport default function DialogHoc(Decorated) {\r\n\tfunction JustDialog({ ...rest }) {\r\n\t\tconst classes = useStyles()\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Decorated {...rest} />\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\treturn JustDialog\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tmetamaskChecks,\r\n\tmetamaskNetworkCheck,\r\n\tgetRelayerConfig,\r\n\texecute,\r\n\tensureQuickWalletBackup,\r\n\tupdateRegistrationAllowed,\r\n} from 'actions'\r\nimport { Route, Switch, Redirect } from 'react-router'\r\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\r\nimport ConnectHoc from 'components/signin/ConnectHoc'\r\nimport {\r\n\tCreateQuickIdentity,\r\n\t// DemoIdentity,\r\n\tLoginStandardIdentity,\r\n\tLoginQuickIdentity,\r\n} from 'components/signin/identity/Identity'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport Home from 'components/signin/Home'\r\nimport JustDialog from 'components/common/dialog/JustDialog'\r\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\r\nimport Translate from 'components/translate/Translate'\r\nimport { selectAuth, selectWallet, selectLocation } from 'selectors'\r\n\r\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\r\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\r\nconst ConnectedLoginStandardIdentity = ConnectHoc(\r\n\tJustDialog(LoginStandardIdentity)\r\n)\r\nconst ConnectedRoot = ConnectHoc(Home)\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...other}\r\n\t\t\trender={props =>\r\n\t\t\t\tauth === true ? ( //|| true\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst handleLegacyWallet = wallet => {\r\n\tconst { type, email, password, authType } = wallet || {}\r\n\r\n\tif (!type && email && password && authType === 'grant') {\r\n\t\tmigrateLegacyWallet({ email, password })\r\n\t\tremoveLegacyKey({ email, password })\r\n\t}\r\n\r\n\tif (email && password && authType) {\r\n\t\texecute(ensureQuickWalletBackup())\r\n\t}\r\n}\r\n\r\nconst Root = () => {\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst wallet = useSelector(selectWallet)\r\n\tconst location = useSelector(selectLocation)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(getRelayerConfig())\r\n\t\texecute(metamaskChecks())\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\thandleLegacyWallet(wallet)\r\n\t}, [wallet])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(metamaskNetworkCheck())\r\n\t\texecute(updateRegistrationAllowed(location.search))\r\n\t}, [location])\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<PrivateRoute auth={auth} path='/dashboard/:side' component={Dashboard} />\r\n\t\t\t<PrivateRoute auth={auth} path='/side-select' component={SideSelect} />\r\n\t\t\t<Route\r\n\t\t\t\texact\r\n\t\t\t\tpath='/'\r\n\t\t\t\tcomponent={props => <ConnectedRoot {...props} noBackground />}\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\texact\r\n\t\t\t\tpath='/signup/quick'\r\n\t\t\t\tcomponent={props => (\r\n\t\t\t\t\t<ConnectedCreateQuickIdentity {...props} noBackground />\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\texact\r\n\t\t\t\tpath='/login/full'\r\n\t\t\t\tcomponent={props => (\r\n\t\t\t\t\t<ConnectedLoginStandardIdentity {...props} noBackground />\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\texact\r\n\t\t\t\tpath='/login/quick'\r\n\t\t\t\tcomponent={props => <ConnectedQuickLogin {...props} noBackground />}\r\n\t\t\t/>\r\n\t\t\t{/* <Route exact path=\"/identity/demo\" component={DemoIdentity} /> */}\r\n\t\t\t<Route>\r\n\t\t\t\t<PageNotFound />\r\n\t\t\t</Route>\r\n\t\t</Switch>\r\n\t)\r\n}\r\n\r\nexport default Translate(Root)\r\n","import React, { Component } from 'react'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\n// import './App.css'\r\nimport { Provider } from 'react-redux'\r\nimport { persistor, store } from 'store'\r\nimport history from 'store/history'\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport Toast from 'components/toast/Toast'\r\nimport Confirm from 'components/confirm/Confirm'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport Root from './Root'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles'\r\nimport { themeMUI } from './themeMUi'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport CacheBuster from './CacheBuster'\r\n\r\n// console.log('initial store', store.getState())\r\n\r\nconst onBeforeLift = () => {\r\n\t// take some action before the gate lifts\r\n}\r\n\r\nclass App extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\r\n\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\r\n\t\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\r\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\r\n\t\t\t\t\t\t\t\t\t<CacheBuster>\r\n\t\t\t\t\t\t\t\t\t\t<Router>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Root />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Toast />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Confirm />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Router>\r\n\t\t\t\t\t\t\t\t\t</CacheBuster>\r\n\t\t\t\t\t\t\t\t</ConnectedRouter>\r\n\t\t\t\t\t\t\t</PersistGate>\r\n\t\t\t\t\t\t</Provider>\r\n\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t</MuiThemeProvider>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n)\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error)\r\n\t\t})\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type')\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t)\r\n\t\t})\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister()\r\n\t\t})\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './components/App/App'\r\nimport { unregister } from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\nunregister()\r\n","import {\r\n\tgetState,\r\n\texecute,\r\n\tresetAllNewItems,\r\n\tresetAllItems,\r\n\tresetAllBids,\r\n\tresetIdentity,\r\n\tresetAccount,\r\n\tresetAnalytics,\r\n} from 'actions'\r\n\r\nimport campaignsLoop from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport analyticsLoop from 'services/store-data/analytics'\r\n\r\nimport { push } from 'connected-react-router'\r\n\r\nexport const logOut = skipRedirect => {\r\n\tanalyticsLoop.stop()\r\n\tcampaignsLoop.stop()\r\n\tstatsLoop.stop()\r\n\tif (!skipRedirect) {\r\n\t\texecute(push('/'))\r\n\t}\r\n\texecute(resetIdentity())\r\n\texecute(resetAllItems())\r\n\texecute(resetAllNewItems())\r\n\texecute(resetAllBids())\r\n\texecute(resetAccount())\r\n\texecute(resetAnalytics())\r\n}\r\n\r\nexport const isDemoMode = () => {\r\n\treturn getState().persist.account._authType === 'demo'\r\n}\r\n\r\nexport const getAccount = () => {\r\n\treturn getState().persist.account\r\n}\r\n","import Requester from 'services/requester'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport ewt from './ewt'\r\n\r\nconst BEARER_PREFIX = 'Bearer '\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\n\r\nconst getValidatorRequester = ({ baseUrl }) => {\r\n\treturn new Requester({ baseUrl })\r\n}\r\n\r\nconst getRequesters = ({ campaign }) => {\r\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\r\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\r\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\r\n\tconst followerRequester = getValidatorRequester({\r\n\t\tbaseUrl: follower.url,\r\n\t})\r\n\r\n\treturn {\r\n\t\tleader: { requester: leaderRequester, validator: leader },\r\n\t\tfollower: { requester: followerRequester, validator: follower },\r\n\t}\r\n}\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tthrow new Error(\r\n\t\t\ttranslate('SERVICE_ERROR_MSG', {\r\n\t\t\t\targs: [res.url, res.status, res.statusText, text],\r\n\t\t\t})\r\n\t\t)\r\n\t})\r\n}\r\n\r\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\r\n\tconst { identity, wallet } = account\r\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\r\n\tif (existingAuth) {\r\n\t\treturn existingAuth\r\n\t}\r\n\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst payload = {\r\n\t\tid: validatorId,\r\n\t\tidentity: identity.address,\r\n\t\tera: Math.floor(Date.now() / 60000),\r\n\t}\r\n\r\n\tconst token = ewt.sign(signer, payload)\r\n\r\n\treturn token\r\n}\r\n\r\nconst sendMessage = async ({ campaign, options, account }) => {\r\n\tconst { follower, leader } = getRequesters({ campaign })\r\n\r\n\tconst followerAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: follower.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst leaderAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: leader.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst followerResult = await follower.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\tconst leaderResult = await leader.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn {\r\n\t\tresults: {\r\n\t\t\tfollowerResult,\r\n\t\t\tleaderResult,\r\n\t\t},\r\n\t\tauthTokens: {\r\n\t\t\t[follower.id]: followerAuthToken,\r\n\t\t\t[leader.id]: leaderAuthToken,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const lastApprovedState = ({ campaign }) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `channel/${campaign.id}/last-approved`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaign = ({ campaign, account }) => {\r\n\tconst options = {\r\n\t\troute: `channel/${campaign.id}/events`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t}\r\n\r\n\treturn sendMessage({ campaign, options, account })\r\n}\r\n\r\nexport const identityAnalytics = async ({\r\n\tidenityAddr,\r\n\tcampaign,\r\n\tcampaignId,\r\n\tleaderAuth,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n\tside,\r\n}) => {\r\n\tconst baseUrl = VALIDATOR_LEADER_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/for-${side}${campaignId || ''}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn aggregates\r\n}\r\n","const MAX_ASPECT_TOLERANCE = 5\r\n\r\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\r\n\r\nconst getVideoSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst video = document.createElement('video')\r\n\t\tvideo.src = src\r\n\r\n\t\tvideo.onloadedmetadata = ({ target }) => {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: target.videoWidth,\r\n\t\t\t\theight: target.videoHeight,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nconst getImageSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst image = new Image()\r\n\t\timage.src = src\r\n\t\timage.onload = function() {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: this.width,\r\n\t\t\t\theight: this.height,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nexport const getMediaSize = ({ mime, src }) =>\r\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\r\n\r\nexport const checkExactishAspect = (\r\n\twidthTarget,\r\n\twidth,\r\n\theightTarget,\r\n\theight,\r\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\r\n) => {\r\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\r\n\t\treturn false\r\n\t}\r\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\r\n\tconst aspect = parseFloat(width / height)\r\n\r\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\r\n\r\n\tconst isValid =\r\n\t\twidthTarget <= width &&\r\n\t\theightTarget <= height &&\r\n\t\taspectDiff <= maxPercentTolerance\r\n\r\n\treturn isValid\r\n}\r\n","export const ADD_ITEM = 'ADD_ITEM'\r\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\r\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\r\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\r\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\r\nexport const DELETE_ITEM = 'DELETE_ITEM'\r\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\r\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\r\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\r\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\r\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\r\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\r\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\r\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\r\nexport const UPDATE_UI = 'UPDATE_UI'\r\nexport const ADD_TOAST = 'ADD_TOAST'\r\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\r\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\r\nexport const UPDATE_NAV = 'UPDATE_NAV'\r\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\r\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\r\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\r\nexport const UNIT_PLACE_BID = 'PLACE_BID'\r\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\r\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\r\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\r\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\r\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\r\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\r\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\r\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\r\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\r\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\r\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\r\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\r\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\r\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\r\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\r\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\r\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\r\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\r\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\r\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\r\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\r\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\r\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\r\nexport const RESET_WALLET = 'RESET_WALLET'\r\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\r\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\r\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\r\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\r\n","import crypto from 'crypto'\r\nimport {\r\n\tChannel,\r\n\t// MerkleTree,\r\n\tsplitSig,\r\n\tChannelState,\r\n\tRoutineOps,\r\n} from 'adex-protocol-eth/js'\r\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetIdentityTxnsWithNoncesAndFees,\r\n\tgetIdentityTxnsTotalFees,\r\n\tprocessExecuteByFeeTokens,\r\n\tgetApproveTxns,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport { getWithdrawTokensBalances } from 'services/smart-contracts/actions/stats'\r\nimport { contracts } from '../contractsCfg'\r\nimport { closeCampaign } from 'services/adex-validator/actions'\r\nimport { Campaign, AdUnit } from 'adex-models'\r\nimport { getAllCampaigns } from 'services/adex-market/actions'\r\nimport {\r\n\tbigNumberify,\r\n\trandomBytes,\r\n\tparseUnits,\r\n\tInterface,\r\n\t// formatUnits,\r\n\tgetAddress,\r\n} from 'ethers/utils'\r\nimport {\r\n\tselectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectMainFeeToken,\r\n} from 'selectors'\r\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\r\n\r\nconst { AdExCore } = contracts\r\nconst Core = new Interface(AdExCore.abi)\r\nconst Identity = new Interface(IdentityABI)\r\n\r\nconst timeframe = 15 * 1000 // 1 event per 15 seconds\r\nconst VALID_UNTIL_COEFFICIENT = 0.5\r\nconst VALID_UNTIL_MIN_PERIOD = 7 * 24 * 60 * 60 * 1000 // 7 days in ms\r\n\r\nfunction toEthereumChannel(channel) {\r\n\tconst specHash = crypto\r\n\t\t.createHash('sha256')\r\n\t\t.update(JSON.stringify(channel.spec))\r\n\t\t.digest()\r\n\r\n\treturn new Channel({\r\n\t\ttitle: channel.title,\r\n\t\tcreator: channel.creator,\r\n\t\ttokenAddr: channel.depositAsset,\r\n\t\ttokenAmount: channel.depositAmount,\r\n\t\tvalidUntil: channel.validUntil,\r\n\t\tvalidators: channel.spec.validators.map(v => v.id),\r\n\t\tspec: specHash,\r\n\t})\r\n}\r\n\r\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\r\n\tconst period = withdrawPeriodStart - activeFrom\r\n\tconst validUntil =\r\n\t\twithdrawPeriodStart +\r\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\r\n\r\n\treturn Math.floor(validUntil / 1000)\r\n}\r\n\r\nfunction getReadyCampaign(campaign, identity, mainToken) {\r\n\tconst newCampaign = new Campaign(campaign)\r\n\tnewCampaign.creator = identity.address\r\n\tnewCampaign.created = Date.now()\r\n\tnewCampaign.validUntil = getValidUntil(\r\n\t\tnewCampaign.activeFrom,\r\n\t\tnewCampaign.withdrawPeriodStart\r\n\t)\r\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\r\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\r\n\tnewCampaign.depositAmount = parseUnits(\r\n\t\tnewCampaign.depositAmount || '0',\r\n\t\tmainToken.decimals\r\n\t).toString()\r\n\r\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\r\n\tnewCampaign.minPerImpression = parseUnits(\r\n\t\tnewCampaign.minPerImpression || '0',\r\n\t\tmainToken.decimals\r\n\t)\r\n\t\t.div(bigNumberify(1000))\r\n\t\t.toString()\r\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\r\n\r\n\tnewCampaign.depositAsset = mainToken.address\r\n\tnewCampaign.eventSubmission = {\r\n\t\tallow: [\r\n\t\t\t{\r\n\t\t\t\tuids: [\r\n\t\t\t\t\tnewCampaign.creator,\r\n\t\t\t\t\tnewCampaign.validators[0].id,\r\n\t\t\t\t\tnewCampaign.validators[1].id,\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\r\n\t\t],\r\n\t}\r\n\r\n\tnewCampaign.status = {\r\n\t\tname: 'Pending',\r\n\t\thumanFriendlyName: 'Active',\r\n\t\tlastChecked: Date.now(),\r\n\t}\r\n\r\n\treturn newCampaign\r\n}\r\n\r\nconst getExpiredWithdrawnOutstanding = async ({ channel, AdExCore }) => {\r\n\tconst [withdrawn, state] = await Promise.all([\r\n\t\tAdExCore.functions.withdrawn(channel.id),\r\n\t\tAdExCore.functions.states(channel.id),\r\n\t])\r\n\r\n\tif (state === ChannelState.Active) {\r\n\t\treturn bigNumberify(channel.depositAmount).sub(withdrawn)\r\n\t} else {\r\n\t\treturn bigNumberify('0')\r\n\t}\r\n}\r\n\r\nconst getWithdrawnPerUserOutstanding = async ({\r\n\tAdExCore,\r\n\tchannel,\r\n\tbalance,\r\n\tidentityAddr,\r\n}) => {\r\n\treturn bigNumberify(balance).sub(\r\n\t\tawait AdExCore.functions.withdrawnPerUser(channel.id, identityAddr)\r\n\t)\r\n}\r\n\r\nexport async function getChannelsWithOutstanding({ identityAddr, wallet }) {\r\n\tconst { authType } = wallet\r\n\tconst channels = await getAllCampaigns(true)\r\n\tconst { AdExCore } = await getEthers(authType)\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\r\n\r\n\tconst all = await Promise.all(\r\n\t\tchannels\r\n\t\t\t.filter(\r\n\t\t\t\tchannel =>\r\n\t\t\t\t\tchannel &&\r\n\t\t\t\t\tchannel.status &&\r\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\r\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\r\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\r\n\t\t\t)\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\r\n\t\t\t\t\t(balances, e) => {\r\n\t\t\t\t\t\tconst [address, balance] = e\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif (getAddress(address)) {\r\n\t\t\t\t\t\t\t\tbalances[address] = balance\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch {}\r\n\t\t\t\t\t\treturn balances\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{}\r\n\t\t\t\t)\r\n\r\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\r\n\r\n\t\t\t\treturn channel\r\n\t\t\t})\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\t// mTree,\r\n\t\t\t\t\tbTree,\r\n\t\t\t\t\tchannel,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.filter(({ channel, bTree }) => {\r\n\t\t\t\tif (!!channel.status && channel.status.name === 'Expired') {\r\n\t\t\t\t\treturn channel.creator === identityAddr\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\r\n\t\t\t})\r\n\t\t\t.map(async ({ channel, lastApprovedSigs, bTree }) => {\r\n\t\t\t\t//  mTree,\r\n\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\r\n\r\n\t\t\t\tconst outstanding =\r\n\t\t\t\t\tchannel.status.name === 'Expired'\r\n\t\t\t\t\t\t? await getExpiredWithdrawnOutstanding({ channel, AdExCore })\r\n\t\t\t\t\t\t: await getWithdrawnPerUserOutstanding({\r\n\t\t\t\t\t\t\t\tAdExCore,\r\n\t\t\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\t\t\tidentityAddr,\r\n\t\t\t\t\t\t  })\r\n\r\n\t\t\t\tconst outstandingAvailable = outstanding.sub(\r\n\t\t\t\t\tfeeTokenWhitelist[channel.depositAsset].min\r\n\t\t\t\t)\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tchannel,\r\n\t\t\t\t\tbalance,\r\n\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\toutstanding,\r\n\t\t\t\t\toutstandingAvailable,\r\n\t\t\t\t\t// mTree,\r\n\t\t\t\t\tbTree,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t)\r\n\r\n\tconst eligible = all.filter(x => {\r\n\t\treturn (\r\n\t\t\tx.outstanding.gt(\r\n\t\t\t\tbigNumberify(routineWithdrawTokens[x.channel.depositAsset].minWeekly)\r\n\t\t\t) && x.outstandingAvailable.gt(bigNumberify('0'))\r\n\t\t)\r\n\t})\r\n\r\n\treturn eligible\r\n}\r\n\r\nasync function getChannelsToSweepFrom({ amountToSweep, identityAddr, wallet }) {\r\n\tconst allChannels = await getChannelsWithOutstanding({\r\n\t\tidentityAddr,\r\n\t\twallet,\r\n\t})\r\n\r\n\tconst { eligible } = allChannels\r\n\t\t.sort((c1, c2) => {\r\n\t\t\treturn c2.outstandingAvailable.gt(c1.outstandingAvailable)\r\n\t\t})\r\n\t\t.reduce(\r\n\t\t\t(data, c) => {\r\n\t\t\t\tconst current = { ...data }\r\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\r\n\t\t\t\t\tcurrent.eligible.push(c)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcurrent.sum = current.sum.add(c.outstandingAvailable)\r\n\r\n\t\t\t\treturn current\r\n\t\t\t},\r\n\t\t\t{ sum: bigNumberify(0), eligible: [] }\r\n\t\t)\r\n\r\n\treturn eligible\r\n}\r\n\r\nconst getChannelWithdrawData = ({\r\n\tidentityAddr,\r\n\tbalance,\r\n\t// mTree,\r\n\tbTree,\r\n\tlastApprovedSigs,\r\n\tethChannelTuple,\r\n}) => {\r\n\tconst proof = bTree.getProof(identityAddr)\r\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\r\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\r\n\tconst root = bTree.mTree.getRoot()\r\n\r\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\r\n}\r\n\r\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\r\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\r\n\t\t(data, tx) => {\r\n\t\t\tconst updated = { ...data }\r\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\r\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\r\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || bigNumberify(0)\r\n\t\t\t).add(bigNumberify(tx.withdrawAmountByToken[tx.feeTokenAddr]))\r\n\r\n\t\t\treturn updated\r\n\t\t},\r\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\r\n\t)\r\n\r\n\tconst data = Identity.functions.executeRoutines.encode([\r\n\t\troutineAuthTuple,\r\n\t\troutineOpts,\r\n\t])\r\n\r\n\tconst routinesTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tto: identityAddr,\r\n\t\tdata,\r\n\t\twithdrawAmountByToken,\r\n\t\troutinesTxCount: routineOpts.length,\r\n\t\troutinesSweepTxCount: routineOpts.length,\r\n\t}\r\n\r\n\treturn routinesTx\r\n}\r\n\r\nfunction getIdentityRoutineAuthTuple(identity) {\r\n\treturn identity &&\r\n\t\tidentity.relayerData &&\r\n\t\tidentity.relayerData.deployData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t: null\r\n}\r\n\r\nfunction hasValidExecuteRoutines(routineAuthTuple) {\r\n\tconst hasValidRoutines =\r\n\t\troutineAuthTuple &&\r\n\t\troutineAuthTuple.length === 5 &&\r\n\t\t// TODO: get relayer config for giveUpResubmitAfter\r\n\t\tparseInt(routineAuthTuple[2], 16) * 1000 > Date.now() + 12 * 60 * 60 * 1000\r\n\r\n\treturn hasValidRoutines\r\n}\r\n\r\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\r\n\tconst { wallet, identity } = account\r\n\tconst { AdExCore } = await getEthers(wallet.authType)\r\n\tconst identityAddr = identity.address\r\n\tconst channelsToSweep = await getChannelsToSweepFrom({\r\n\t\tamountToSweep,\r\n\t\tidentityAddr,\r\n\t\twallet,\r\n\t})\r\n\r\n\tconst txns = channelsToSweep.map((c, i) => {\r\n\t\tconst {\r\n\t\t\tbTree,\r\n\t\t\t//  mTree,\r\n\t\t\tchannel,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\tbalance,\r\n\t\t} = c\r\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\r\n\r\n\t\tconst data = getChannelWithdrawData({\r\n\t\t\tidentityAddr,\r\n\t\t\tbalance,\r\n\t\t\t// mTree,\r\n\t\t\tbTree,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\tethChannelTuple,\r\n\t\t})\r\n\r\n\t\treturn {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tfeeTokenAddr: channel.depositAsset,\r\n\t\t\tdata,\r\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: balance },\r\n\t\t}\r\n\t})\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\r\n\tlet encodedTxns = null\r\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\r\n\t\tencodedTxns = [\r\n\t\t\tgetSweepExecuteRoutineTx({\r\n\t\t\t\ttxns,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\troutineAuthTuple,\r\n\t\t\t}),\r\n\t\t]\r\n\t} else {\r\n\t\tencodedTxns = txns.map(tx => {\r\n\t\t\ttx.data = Core.functions.channelWithdraw.encode(tx.data)\r\n\t\t\ttx.isSweepTx = true\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\treturn encodedTxns\r\n}\r\n\r\nfunction getSwapAmountsByToken({ balances }) {\r\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\r\n\t\t(swaps, balance) => {\r\n\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\r\n\t\t\t\tbalance.balanceMainToken\r\n\t\t\t)\r\n\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\r\n\t\t\treturn swaps\r\n\t\t},\r\n\t\t{\r\n\t\t\tswapsSumInMainToken: bigNumberify(0),\r\n\t\t\tswapsByToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { swapsByToken, swapsSumInMainToken }\r\n}\r\n\r\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\r\n// amountNeeded must be in MainToken\r\nexport async function getSweepingTxnsIfNeeded({\r\n\tamountInMainTokenNeeded,\r\n\taccount,\r\n}) {\r\n\tconst needed = bigNumberify(amountInMainTokenNeeded)\r\n\tconst { identity, wallet } = account\r\n\tconst { address } = identity\r\n\tconst { authType } = wallet\r\n\r\n\tconst { balances, mainTokenBalance } = await getWithdrawTokensBalances({\r\n\t\tauthType,\r\n\t\taddress,\r\n\t})\r\n\r\n\tlet currentBalanceInUse = mainTokenBalance\r\n\r\n\tconst sweepData = {\r\n\t\tsweepTxns: [],\r\n\t\tswapAmountsByToken: {},\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\t// Swaps all balances\r\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\r\n\t\t\tbalances,\r\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\r\n\t\tsweepData.swapAmountsByToken = swapsByToken\r\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\r\n\t\t\taccount,\r\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\t}\r\n\r\n\treturn sweepData\r\n}\r\n\r\nexport async function openChannel({\r\n\tcampaign,\r\n\taccount,\r\n\tgetFeesOnly,\r\n\tgetMaxFees,\r\n}) {\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\r\n\tconst mainToken = selectMainFeeToken()\r\n\tconst depositAmount = getMaxFees\r\n\t\t? availableIdentityBalanceMainToken\r\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\r\n\r\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\r\n\tconst openReady = readyCampaign.openReady\r\n\tconst ethChannel = toEthereumChannel(openReady)\r\n\tconst channel = {\r\n\t\t...openReady,\r\n\t\tid: ethChannel.hashHex(AdExCore.address),\r\n\t}\r\n\tconst identityAddr = openReady.creator\r\n\r\n\tconst feeTokenAddr = mainToken.address\r\n\r\n\tconst approveTxns = await getApproveTxns({\r\n\t\tgetToken,\r\n\t\ttoken: mainToken,\r\n\t\tidentityAddr,\r\n\t\tfeeTokenAddr: mainToken.address,\r\n\t\tapproveForAddress: AdExCore.address,\r\n\t\tapproveAmount: depositAmount,\r\n\t})\r\n\r\n\tconst channelOpenTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tto: AdExCore.address,\r\n\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\r\n\t}\r\n\tconst txns = [...approveTxns, channelOpenTx]\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: depositAmount,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken })\r\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\r\n\tconst maxAvailable = mtBalance.sub(fees.totalBN)\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\tmaxAvailable,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: { channel },\r\n\t})\r\n\r\n\treadyCampaign.id = channel.id\r\n\treturn {\r\n\t\tresult,\r\n\t\treadyCampaign,\r\n\t}\r\n}\r\n\r\nexport async function closeChannel({ account, campaign }) {\r\n\tconst result = await closeCampaign({ account, campaign })\r\n\treturn result\r\n}\r\n","import Identity from './build/Identity.json'\r\nimport AdExCore from './build/AdExCore.json'\r\nimport Dai from './build/Dai.json'\r\nimport IdentityFactory from './build/IdentityFactory.json'\r\nimport ERC20 from './abi/ERC20Token.json'\r\n\r\nexport const contracts = {\r\n\tIdentity: {\r\n\t\tabi: Identity.abi,\r\n\t},\r\n\tAdExCore: {\r\n\t\taddress: process.env.ADEX_CORE_ADDR,\r\n\t\tabi: AdExCore.abi,\r\n\t},\r\n\tDAI: {\r\n\t\taddress: process.env.DAI_TOKEN_ADDR,\r\n\t\tabi: Dai.abi,\r\n\t\tdecimals: 18,\r\n\t},\r\n\tIdentityFactory: {\r\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\r\n\t\tabi: IdentityFactory.abi,\r\n\t},\r\n\tERC20: {\r\n\t\tabi: ERC20,\r\n\t},\r\n}\r\n","import { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst autocompleteLocationsSingleSelect = () => {\r\n\treturn constants.AllCountries.map(country => {\r\n\t\treturn {\r\n\t\t\tlabel: country.name,\r\n\t\t\tvalue: country.value,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteGendersSingleSelect = () => {\r\n\treturn constants.Genders.map(gender => {\r\n\t\treturn {\r\n\t\t\tlabel: translate(gender.split('_')[1]),\r\n\t\t\tvalue: gender,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const AcLocations = autocompleteLocationsSingleSelect()\r\nexport const AcGenders = autocompleteGendersSingleSelect()\r\nexport const AcTags = autocompleteTagsSingleSelect()\r\n\r\nexport const SOURCES = {\r\n\tlocations: { src: AcLocations, collection: 'targeting' },\r\n\tgenders: { src: AcGenders, collection: 'targeting' },\r\n\ttags: { src: AcTags, collection: 'targeting' },\r\n\tcustom: { src: [], collection: 'targeting' },\r\n}\r\n","export default class Looper {\r\n\tconstructor({ timeout, syncAction, loopName = '' }) {\r\n\t\tif (!timeout) {\r\n\t\t\tthrow new Error('LOOPER timeout prop is required')\r\n\t\t}\r\n\r\n\t\tif (typeof syncAction !== 'function') {\r\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\r\n\t\t}\r\n\r\n\t\tthis.loopTimeout = null\r\n\t\tthis.timeout = timeout\r\n\t\tthis.syncAction = syncAction\r\n\t}\r\n\r\n\tclearLoopTimeout = () => {\r\n\t\tif (this.loopTimeout) {\r\n\t\t\tclearTimeout(this.loopTimeout)\r\n\t\t\tthis.loopTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tsyncData = async opts => {\r\n\t\tawait this.syncAction()\r\n\t}\r\n\r\n\tstartLoop = async opts => {\r\n\t\ttry {\r\n\t\t\tawait this.syncData(opts)\r\n\t\t\tthis.checkLoop()\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\r\n\t\t\tthis.checkLoop()\r\n\t\t}\r\n\t}\r\n\r\n\tcheckLoop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\r\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\r\n\t}\r\n\r\n\tstart = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\t\tthis.startLoop()\r\n\t}\r\n\r\n\tstop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\t}\r\n}\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { getState } from 'actions'\r\nimport { selectAuthSig } from 'selectors'\r\nimport { isDemoMode } from 'services/store-data/auth'\r\n\r\nclass AdexNodeRequester {\r\n\tconstructor({ baseUrl }) {\r\n\t\tthis.baseUrl = baseUrl\r\n\t}\r\n\r\n\tgetAuthHeaders = ({ authSig } = {}) => {\r\n\t\tconst authSignature = selectAuthSig(getState())\r\n\t\treturn {\r\n\t\t\t'X-User-Signature': authSig || authSignature,\r\n\t\t}\r\n\t}\r\n\r\n\tnoCacheHeaders = {\r\n\t\t'Cache-Control': 'no-cache',\r\n\t\tExpires: '0',\r\n\t\tPragma: 'no-cache',\r\n\t}\r\n\r\n\tgetUrl = (base, route, query) => {\r\n\t\tlet url = base + '/'\r\n\t\tif (route) {\r\n\t\t\troute = route.replace(/^\\//, '')\r\n\t\t\turl += route\r\n\t\t}\r\n\r\n\t\turl += query\r\n\r\n\t\treturn url\r\n\t}\r\n\r\n\tfetch = ({\r\n\t\troute = '',\r\n\t\tqueryParams = {},\r\n\t\tmethod = 'GET',\r\n\t\tbody,\r\n\t\theaders = {},\r\n\t\tuserAddr,\r\n\t\tauthSig = '',\r\n\t\tauthToken,\r\n\t\tnoCache = false,\r\n\t}) => {\r\n\t\tconst qp = { ...queryParams }\r\n\t\tif (isDemoMode()) {\r\n\t\t\tqp.demo = true\r\n\t\t}\r\n\r\n\t\tconst query = Helper.getQuery(qp)\r\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\r\n\r\n\t\tconst hdrs = {\r\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\r\n\t\t\t...this.getAuthHeaders({ authSig }),\r\n\t\t\t...headers,\r\n\t\t}\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: hdrs,\r\n\t\t\tbody: body,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default AdexNodeRequester\r\n","import requester from './requester'\r\n\r\nexport default requester\r\n","// Nodejs encryption with CTR\r\nconst crypto = require('crypto')\r\n\r\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\r\nconst CIPHER_ALG = 'aes-256-cbc'\r\nconst IV_LENGTH = 16\r\nconst HASH_ALG = 'sha256'\r\n\r\nconst getKeyHash = key => {\r\n\tconst hash = crypto.createHash(HASH_ALG)\r\n\thash.update(key)\r\n\tconst hashed = hash.digest()\r\n\treturn hashed\r\n}\r\n\r\nexport const encrypt = (text, key) => {\r\n\tif (!text) return ''\r\n\tif (!key) {\r\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\r\n\t}\r\n\tconst iv = crypto.randomBytes(IV_LENGTH)\r\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst encr = cipher.update(text)\r\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\r\n\r\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\r\n}\r\n\r\nexport const decrypt = (text, key) => {\r\n\tconst textParts = text.split(':')\r\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\r\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\r\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst decr = decipher.update(encryptedText)\r\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\r\n\r\n\treturn decrypted.toString()\r\n}\r\n\r\nexport const encryptLegacy = (text, password) => {\r\n\tif (!text) return ''\r\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\r\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\r\n\tcrypted += cipher.final('hex')\r\n\treturn crypted\r\n}\r\n\r\nexport const decryptLegacy = (text, password) => {\r\n\tif (!text) return ''\r\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\r\n\tlet dec = decipher.update(text, 'hex', 'utf8')\r\n\tdec += decipher.final('utf8')\r\n\treturn dec\r\n}\r\n","import { createHashHistory } from 'history'\r\n\r\nconst history = createHashHistory()\r\n\r\nexport default history\r\n","import Loop from './loop'\r\nimport { updateUserCampaigns, execute } from 'actions'\r\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\r\n\r\nconst LOOP_TIMEOUT =\r\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\r\n\r\nconst syncCampaigns = async () => {\r\n\texecute(updateUserCampaigns())\r\n}\r\n\r\nconst campaignsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: syncCampaigns,\r\n\tloopName: '_CAMPAIGNS',\r\n})\r\n\r\nexport default campaignsLoop\r\n","import Loop from './loop'\r\nimport { execute, updateAccountStats } from 'actions'\r\n\r\nconst LOOP_TIMEOUT = 30 * 1000\r\n\r\nconst accountStatsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: () => execute(updateAccountStats()),\r\n\tloopName: '_ACCOUNTS_STATS',\r\n})\r\n\r\nexport default accountStatsLoop\r\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","import { exchange as ExchangeConstants } from 'adex-constants'\r\nimport { constants } from 'adex-models'\r\n\r\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\r\nconst { SignatureModes } = constants\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nexport const AVATAR_MAX_WIDTH = 600\r\nexport const AVATAR_MAX_HEIGHT = 400\r\n\r\nexport const SORT_PROPERTIES_BIDS = [\r\n\t{ value: '_state', label: '' },\r\n\t{ value: '_target', label: '' },\r\n\t{ value: '_amount', label: '' },\r\n\t{ value: '_timeout', label: '' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_BIDS = {\r\n\t_state: {\r\n\t\tlabel: '_state',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: Object.keys(BID_STATES).map(key => {\r\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\r\n\t\t}),\r\n\t},\r\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\r\n}\r\n\r\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\r\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\r\n}\r\n\r\nexport const SORT_PROPERTIES_ITEMS = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n\t{ value: 'type' },\r\n]\r\n\r\nexport const SORT_PROPERTIES_COLLECTION = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_ITEMS = {\r\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\r\n}\r\n\r\nexport const AUTH_TYPES = {\r\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\r\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\r\n\tLEDGER: { name: 'ledger', signType: SignatureModes.GETH, limit: 0 },\r\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\r\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\r\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\r\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\r\n}\r\n\r\nexport const NETWORK_STATUS = {\r\n\t0: 'pending',\r\n\t1: 'success',\r\n\t2: 'failed',\r\n}\r\n\r\nexport const ETHEREUM_NETWORKS = {\r\n\t1: { name: 'Mainnet', for: 'production' },\r\n\t5: { name: 'Goerli', for: 'development' },\r\n\tproduction: { name: 'Mainnet', for: 'production' },\r\n\tdevelopment: { name: 'Goerli', for: 'development' },\r\n}\r\n\r\nexport const SORT_PROPERTIES_CAMPAIGN = [\r\n\t{ value: 'created', label: 'Created' },\r\n\t{ value: 'status.name', label: 'Status' },\r\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\r\n\t{ value: 'activeFrom', label: 'Starts' },\r\n\t{ value: 'depositAmount', label: 'depositAmount' },\r\n\t{ value: 'maxPerImpression', label: 'cpm' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_CAMPAIGN = {\r\n\t'status.name': {\r\n\t\tlabel: 'ststus',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: [\r\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\r\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\r\n\t\t\t{ value: 'Offline', label: 'Offline' },\r\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\r\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\r\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\r\n\t\t\t{ value: 'Ready', label: 'Ready' },\r\n\t\t\t{ value: 'Active', label: 'Active' },\r\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\r\n\t\t\t{ value: 'Expired', label: 'Expired' },\r\n\t\t],\r\n\t},\r\n}\r\n\r\nexport const UTM_PARAMS = {\r\n\tutm_source: 'ADEX',\r\n\tutm_medium: 'CPM',\r\n\tutm_campaign: 'none',\r\n\tutm_content: 'none',\r\n}\r\n\r\nexport const VALIDATOR_ANALYTICS_METRICS = [\r\n\t'eventPayouts', //\r\n\t'eventCounts',\r\n]\r\nexport const VALIDATOR_ANALYTICS_SIDES = [\r\n\t'advertiser',\r\n\t'publisher', //\r\n]\r\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = ['IMPRESSION']\r\n\r\n// TEMP: disable long periods\r\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\r\n\t{ label: 'LABEL_HOUR', value: 'hour' },\r\n\t{ label: 'LABEL_DAY', value: 'day' },\r\n\t{ label: 'LABEL_WEEK', value: 'week' },\r\n\t// { label: 'LABEL_MONTH', value: 'month' },\r\n\t// { label: 'LABEL_YEAR', value: 'year' },\r\n]\r\n\r\nexport const MOON_GRAVITY_ACCELERATION = 1.625\r\nexport const MOON_TO_EARTH_WEIGHT = 0.166\r\n","import adexTranslations from 'adex-translations'\r\nimport { renderToString } from 'react-dom/server'\r\n\r\nconst translations = adexTranslations()\r\n\r\nlet lang = 'en-US'\r\n\r\n// TODO: sanitization\r\nconst interpolate = (tpl, args) => {\r\n\tif (typeof tpl !== 'string') {\r\n\t\treturn ''\r\n\t}\r\n\r\n\treturn tpl.replace(/\\${(\\w+)}/g, (_, v) => {\r\n\t\tlet arg = args[v]\r\n\t\tif (typeof arg === 'object' && !!arg && arg.component) {\r\n\t\t\treturn renderToString(arg.component)\r\n\t\t} else {\r\n\t\t\treturn arg || ''\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const translate = (\r\n\tval = '',\r\n\t{ isProp = false, args = [''] } = {},\r\n\tlanguage = lang\r\n) => {\r\n\tlet key = val + ''\r\n\tif (isProp) {\r\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\r\n\t}\r\n\r\n\tkey = key.toUpperCase()\r\n\r\n\tlet translation = translations[language][key] || val\r\n\r\n\tif (args.length && Array.isArray(args)) {\r\n\t\tconst translatedArgs = args.map(a => {\r\n\t\t\tif (typeof a === 'string') {\r\n\t\t\t\treturn translations[language][a] || a\r\n\t\t\t} else {\r\n\t\t\t\treturn a\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\ttranslation = interpolate(translation, translatedArgs)\r\n\t}\r\n\r\n\treturn translation\r\n}\r\n\r\n// TODO: fix that\r\nexport const setLang = lng => {\r\n\tlang = lng\r\n}\r\n","import Loop from './loop'\r\nimport { execute, updateAccountAnalytics } from 'actions'\r\n\r\nconst LOOP_TIMEOUT = 120 * 1000\r\n\r\nconst analyticsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: () => execute(updateAccountAnalytics()),\r\n\tloopName: '_ANALYTICS',\r\n})\r\n\r\nexport default analyticsLoop\r\n","import { ethers, constants } from 'ethers'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { isEthAddress } from 'helpers/validators'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\n\r\nexport const isEthAddressERC20 = async (addr = '', authType) => {\r\n\ttry {\r\n\t\tif (isEthAddress(addr)) {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\t\tawait Promise.all([\r\n\t\t\t\tcontract.totalSupply(),\r\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\r\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\r\n\t\t\t])\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport const getERC20Balance = async ({\r\n\taddr = '',\r\n\tbalanceFor = '',\r\n\tauthType,\r\n}) => {\r\n\ttry {\r\n\t\tconst { provider } = await getEthers(authType)\r\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\tconst balance = await contract.balanceOf(balanceFor)\r\n\r\n\t\treturn balance\r\n\t} catch (error) {\r\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\r\n\t\treturn null\r\n\t}\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,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\"","import { createSelectorCreator, defaultMemoize } from 'reselect'\r\nimport isEqual from 'lodash.isequal'\r\n\r\n// deep equal memoization instad reference check\r\nexport const createDeepEqualSelector = createSelectorCreator(\r\n\tdefaultMemoize,\r\n\tisEqual\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { createDeepEqualSelector } from './selectors'\r\n\r\nexport const selectAccount = state => state.persist.account\r\n\r\nexport const selectAuth = createSelector(\r\n\tselectAccount,\r\n\t({ wallet, identity }) =>\r\n\t\t!!wallet &&\r\n\t\t!!wallet.address &&\r\n\t\t!!wallet.authSig &&\r\n\t\t!!wallet.authType &&\r\n\t\t!!identity.address\r\n)\r\n\r\nexport const selectWallet = createDeepEqualSelector(\r\n\tselectAccount,\r\n\t({ wallet }) => wallet\r\n)\r\n\r\nexport const selectAuthSig = createSelector(\r\n\tselectWallet,\r\n\t({ authSig }) => authSig\r\n)\r\n\r\nexport const selectAuthType = createSelector(\r\n\tselectWallet,\r\n\t({ authType }) => authType\r\n)\r\n\r\nexport const selectAccountIdentity = createSelector(\r\n\tselectAccount,\r\n\t({ identity }) => identity\r\n)\r\n\r\nexport const selectAccountIdentityAddr = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAccountStats = createSelector(\r\n\tselectAccount,\r\n\t({ stats }) => stats || {}\r\n)\r\n\r\nexport const selectAccountSettings = createSelector(\r\n\tselectAccount,\r\n\t({ settings }) => settings || {}\r\n)\r\n\r\nexport const selectAccountStatsRaw = createSelector(\r\n\tselectAccountStats,\r\n\t({ raw }) => raw || {}\r\n)\r\n\r\nexport const selectAccountStatsFormatted = createSelector(\r\n\tselectAccountStats,\r\n\t({ formatted }) => formatted || {}\r\n)\r\n\r\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData }) =>\r\n\t\trelayerData &&\r\n\t\trelayerData.routineAuthorizationsData &&\r\n\t\trelayerData.routineAuthorizationsData[0]\r\n\t\t\t? relayerData.routineAuthorizationsData[0]\r\n\t\t\t: null\r\n)\r\n","export const selectIdentity = state => state.memory.identity\r\n","export const selectLocation = state => state.router.location\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectNavTitle = state => state.memory.nav.navTitle\r\nexport const selectSide = state => state.memory.nav.side\r\nexport const selectUi = state => state.persist.ui\r\n\r\nexport const selectSpinners = state => state.memory.spinners\r\n\r\nexport const selectSpinnerById = createSelector(\r\n\t[selectSpinners, (_, id) => id],\r\n\t(spinners, id) => spinners[id]\r\n)\r\n\r\nexport const selectMultipleSpinnersByIds = createSelector(\r\n\t[selectSpinners, (_, ids) => ids],\r\n\t(spinners, ids) => ids.map(id => spinners[id])\r\n)\r\n\r\nexport const selectRegistrationAllowed = createSelector(\r\n\tselectUi,\r\n\t({ allowRegistration }) => !!allowRegistration\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getState } from 'store'\r\n\r\nexport const selectLang = state => state.persist.language\r\n\r\nexport const selectTranslations = createSelector(\r\n\t[\r\n\t\tselectLang,\r\n\t\t(_, val, opts = {}) => {\r\n\t\t\treturn { val, opts }\r\n\t\t},\r\n\t],\r\n\t(lang, { val, opts }) => {\r\n\t\tconst { isProp = false, args = [''] } = opts\r\n\t\treturn translate(val, { isProp, args }, lang)\r\n\t}\r\n)\r\n\r\n// Need to useSelector for language in top component where this will be used\r\n// Now this is don by using Translate Hoc on Root\r\n// It will work in actions too as the state isg get when they are called and don't need update\r\nexport const t = (val, opts) => {\r\n\treturn selectTranslations(getState(), val, opts)\r\n}\r\n","import { createSelector } from 'reselect'\r\nimport { formatTokenAmount, formatDateTime } from 'helpers/formatters'\r\n\r\nexport const selectAnalytics = state => state.persist.analytics\r\n\r\nexport const selectAnalyticsData = createSelector(\r\n\t[selectAnalytics, (_, side) => side],\r\n\t(analytics, side) => {\r\n\t\treturn analytics[side] || {}\r\n\t}\r\n)\r\n\r\nexport const selectAnalyticsDataAggr = createSelector(\r\n\t[selectAnalytics, (_, opts = {}) => opts],\r\n\t(analytics, { side, eventType, metric, timeframe }) => {\r\n\t\treturn analytics[side][eventType][metric][timeframe].aggr\r\n\t}\r\n)\r\n\r\nexport const selectTotalImpressions = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectTotalMoney = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\teventPayouts =>\r\n\t\teventPayouts\r\n\t\t\t? eventPayouts.reduce(\r\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value, 18)) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectAverageCPM = createSelector(\r\n\t[\r\n\t\t(state, { side, timeframe } = {}) =>\r\n\t\t\tselectTotalMoney(state, { side, timeframe }),\r\n\t\t(state, { side, timeframe } = {}) =>\r\n\t\t\tselectTotalImpressions(state, { side, timeframe }),\r\n\t],\r\n\t(totalMoney, totalImpressions) =>\r\n\t\ttotalMoney !== null && totalImpressions !== null\r\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\r\n\t\t\t: null\r\n)\r\n\r\nconst parseValueByMetric = ({ value, metric }) => {\r\n\tswitch (metric) {\r\n\t\tcase 'eventPayouts':\r\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\r\n\t\tcase 'eventCounts':\r\n\t\t\treturn parseInt(value, 10)\r\n\t\tdefault:\r\n\t\t\treturn value\r\n\t}\r\n}\r\n\r\nexport const selectStatsChartData = createSelector(\r\n\t[\r\n\t\t(state, { noLastOne, ...rest } = {}) => {\r\n\t\t\treturn { data: selectAnalyticsDataAggr(state, rest), noLastOne, ...rest }\r\n\t\t},\r\n\t],\r\n\t({ data = [], noLastOne, metric, ...rest }) => {\r\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\r\n\t\treturn aggr.reduce(\r\n\t\t\t(memo, item) => {\r\n\t\t\t\tconst { time, value } = item\r\n\t\t\t\tmemo.labels.push(formatDateTime(time))\r\n\t\t\t\tmemo.datasets.push(parseValueByMetric({ value, metric }))\r\n\t\t\t\treturn memo\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabels: [],\r\n\t\t\t\tdatasets: [],\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectValidations = state => state.memory.validations\r\n\r\nexport const selectValidationsById = createSelector(\r\n\t[selectValidations, (_, id) => id],\r\n\t(validations, id) => validations[id]\r\n)\r\n\r\nexport const selectMultipleValidationsByIds = createSelector(\r\n\t[selectValidations, (_, ids) => ids],\r\n\t(validations, ids) => ids.map(id => validations[id])\r\n)\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\n\r\n// can be used outside  components\r\nexport const selectRelayerConfig = state => {\r\n\treturn (state || getState()).persist.config.relayer\r\n}\r\n\r\n// - relayer cfg\r\n// network,\r\n// feeTokenWhitelist, // [{ address, symbol, decimals, standard, min, minDeploy }],\r\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal }],\r\n// coreAddr,\r\n// baseIdentityAddr,\r\n// identityFactoryAddr,\r\n// registryAddr,\r\n// daiAddr,\r\n// marketUrl,\r\n// identityRecoveryAddr,\r\n// weeklyFeeAmount,\r\n// mainToken, // { address, symbol, decimals, standard },\r\n// advertiserMinGrantAmount\r\n// relayerAddr\r\n\r\nexport const selectFeeTokenWhitelist = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ feeTokenWhitelist }) => {\r\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokens = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.map(t => t.address)\r\n\t}\r\n)\r\n\r\nexport const selectConfig = createSelector(\r\n\t[selectRelayerConfig],\r\n\trelayerConfig => {\r\n\t\tconst cfg = { ...relayerConfig }\r\n\t\treturn cfg\r\n\t}\r\n)\r\n\r\nexport const selectMainToken = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ mainToken }) => mainToken\r\n)\r\n\r\nexport const selectSaiToken = createSelector(\r\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\r\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\r\n)\r\n\r\nexport const selectMainFeeToken = createSelector(\r\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\r\n\t({ mainToken }, feeTokenWhitelist) => {\r\n\t\treturn feeTokenWhitelist[mainToken.address]\r\n\t}\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectNewTransactions = state => state.memory.newTransactions\r\n\r\nexport const selectNewTransactionById = createSelector(\r\n\t[selectNewTransactions, (_, id) => id],\r\n\t(txns, id) => txns[id] || {}\r\n)\r\n","export * from './accountSelectors'\r\nexport * from './identitySelectors'\r\nexport * from './locationSelectors'\r\nexport * from './uiSelectors'\r\nexport * from './translationsSelectors'\r\nexport * from './analyticsSelectors'\r\nexport * from './validationsSelectors'\r\nexport * from './configSelectors'\r\nexport * from './newTransactionSelectors'\r\n","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\r\nimport {\r\n\tVALIDATOR_ANALYTICS_SIDES,\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\r\n\tVALIDATOR_ANALYTICS_METRICS,\r\n\tVALIDATOR_ANALYTICS_TIMEFRAMES,\r\n} from 'constants/misc'\r\n\r\nexport const getValidatorAnalyticsInitialState = () => {\r\n\tconst initialState = { timeframe: 'day' }\r\n\tVALIDATOR_ANALYTICS_SIDES.forEach(side =>\r\n\t\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\r\n\t\t\t\tVALIDATOR_ANALYTICS_TIMEFRAMES.forEach(timeframe => {\r\n\t\t\t\t\tinitialState[side] = initialState[side] || {}\r\n\t\t\t\t\tinitialState[side][eventType] = initialState[side][eventType] || {}\r\n\t\t\t\t\tinitialState[side][eventType][metric] =\r\n\t\t\t\t\t\tinitialState[side][eventType][metric] || {}\r\n\t\t\t\t\tinitialState[side][eventType][metric][timeframe.value] =\r\n\t\t\t\t\t\tinitialState[side][eventType][metric][timeframe.value] || {}\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t)\r\n\t)\r\n\r\n\treturn initialState\r\n}\r\n\r\nlet initialState = {\r\n\taccount: new Account(),\r\n\tsignin: {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassConfirm: '',\r\n\t\tseed: '',\r\n\t\tpublicKey: '',\r\n\t\tseedCheck: [],\r\n\t\tauthenticated: false,\r\n\t},\r\n\tnewItem: {\r\n\t\tCampaign: new Campaign().plainObj(),\r\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\r\n\t\tAdSlot: new AdSlot().plainObj(),\r\n\t},\r\n\tcurrentItem: {},\r\n\titems: {\r\n\t\tCampaign: {},\r\n\t\tAdUnit: {},\r\n\t\tAdSlot: {},\r\n\t},\r\n\tspinners: {},\r\n\tui: {},\r\n\ttoasts: [],\r\n\tconfirm: {\r\n\t\tdata: {},\r\n\t},\r\n\tnav: {\r\n\t\tside: '',\r\n\t},\r\n\tlanguage: 'en-US',\r\n\tvalidations: {},\r\n\tnewTransactions: {\r\n\t\tdefault: {},\r\n\t},\r\n\tweb3Transactions: {},\r\n\ttags: {},\r\n\tidentity: {},\r\n\tethNetwork: {\r\n\t\tnetworkId: null,\r\n\t\tgasData: {},\r\n\t},\r\n\twallet: {},\r\n\tconfig: {\r\n\t\trelayer: {},\r\n\t\tmarket: {},\r\n\t\tvalidators: {},\r\n\t},\r\n\tanalytics: getValidatorAnalyticsInitialState(),\r\n}\r\n\r\nexport default initialState\r\n","import { formatUnits, commify } from 'ethers/utils'\r\nimport MomentUtils from '@date-io/moment'\r\nconst moment = new MomentUtils()\r\n\r\nconst DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\r\n\r\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\r\n\tif (!timestamp) {\r\n\t\treturn 'no date'\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatTokenAmount = (\r\n\tamountString,\r\n\tdecimals = 18,\r\n\tpretty,\r\n\ttoFixed\r\n) => {\r\n\tconst formatted = formatUnits(amountString, decimals)\r\n\tif (pretty) {\r\n\t\treturn commify(formatted)\r\n\t} else if (typeof toFixed === 'number') {\r\n\t\treturn parseFloat(formatted).toFixed(toFixed)\r\n\t} else {\r\n\t\treturn formatted\r\n\t}\r\n}\r\n\r\nexport const formatAddress = (address = '') => {\r\n\treturn `${address.substring(0, 8)}...${address.substring(36, 42)}`\r\n}\r\n\r\nexport const formatNumberWithCommas = x => {\r\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n}\r\n","import { ethers, utils, Contract } from 'ethers'\r\nimport { contracts } from './contractsCfg'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { selectRelayerConfig } from 'selectors'\r\n\r\nethers.errors.setLogLevel('error')\r\n\r\nconst { AdExCore, Identity, IdentityFactory } = contracts\r\n\r\nconst getAdexCore = provider => {\r\n\tconst { coreAddr } = selectRelayerConfig()\r\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\r\n}\r\n\r\nconst getMainToken = provider => {\r\n\tconst { mainToken = {} } = selectRelayerConfig()\r\n\treturn new Contract(\r\n\t\tmainToken.address,\r\n\t\tcontracts[mainToken.standard].abi,\r\n\t\tprovider\r\n\t)\r\n}\r\n\r\nconst getToken = ({ provider, standard, address }) => {\r\n\treturn new Contract(address, contracts[standard].abi, provider)\r\n}\r\n\r\nconst getIdentity = ({ provider, address }) => {\r\n\tconst identityContract = new Contract(address, Identity.abi, provider)\r\n\r\n\treturn identityContract\r\n}\r\n\r\nconst getIdentityFactory = provider => {\r\n\tconst { identityFactoryAddr } = selectRelayerConfig()\r\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\r\n}\r\n\r\nconst getEthersResult = provider => {\r\n\tconst adexCore = getAdexCore(provider)\r\n\tconst mainToken = getMainToken(provider)\r\n\tconst identityFactory = getIdentityFactory(provider)\r\n\r\n\tconst results = {\r\n\t\tprovider,\r\n\t\tAdExCore: adexCore,\r\n\t\tIdentity: Identity,\r\n\t\tDai: mainToken,\r\n\t\tMainToken: mainToken,\r\n\t\tIdentityFactory: identityFactory,\r\n\t\tgetToken: ({ standard, address }) =>\r\n\t\t\tgetToken({ provider, standard, address }),\r\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\r\n\t}\r\n\r\n\treturn results\r\n}\r\n\r\nconst localWeb3 = () => {\r\n\tconst provider = new ethers.providers.JsonRpcProvider(\r\n\t\tprocess.env.WEB3_NODE_ADDR\r\n\t)\r\n\treturn getEthersResult(provider)\r\n}\r\n\r\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\r\n\twindow.addEventListener('load', () => {\r\n\t\tconst ethereum = window.ethereum\r\n\t\tconst web3 = window.web3\r\n\t\treturn resolve({\r\n\t\t\tethereum,\r\n\t\t\tweb3,\r\n\t\t})\r\n\t})\r\n})\r\n\r\nconst injectedWeb3 = async () => {\r\n\tconst { web3, ethereum } = await loadInjectedWeb3.then()\r\n\tlet provider = null\r\n\r\n\tif (ethereum) {\r\n\t\ttry {\r\n\t\t\tawait ethereum.enable()\r\n\r\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\r\n\r\n\t\t\treturn getEthersResult(provider)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Err getting injected ethereum.', err)\r\n\t\t\tthrow new Error(err.message)\r\n\t\t}\r\n\t}\r\n\t// Legacy dapp browsers...\r\n\t// TODO: we just have to throw or show notification\r\n\t// At the moment if it throws it will show error toast but not always.\r\n\telse if (web3) {\r\n\t\tconsole.error('Legacy web3 browser detected. It is not supported!')\r\n\t\tconsole.error('Fallback to local web3 provider')\r\n\t\treturn await localWeb3()\r\n\t} else {\r\n\t\tconsole.error('Non-Ethereum browser detected.')\r\n\t\tconsole.error('Fallback to local web3 provider')\r\n\t\treturn await localWeb3()\r\n\t}\r\n}\r\n\r\nconst getLocalWeb3 = async () => {\r\n\tconsole.log('getLocalWeb3')\r\n\treturn localWeb3()\r\n}\r\n\r\nconst getEthers = mode => {\r\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\r\n\t *   and this results in Trezor popup block by the browser\r\n\t */\r\n\tif (mode === AUTH_TYPES.METAMASK.name) {\r\n\t\treturn injectedWeb3()\r\n\t} else {\r\n\t\treturn getLocalWeb3()\r\n\t}\r\n}\r\n\r\nconst ethereumSelectedAddress = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3.then()\r\n\tif (ethereum && ethereum.selectedAddress) {\r\n\t\treturn utils.getAddress(ethereum.selectedAddress)\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nconst ethereumNetworkId = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3.then()\r\n\tif (ethereum) {\r\n\t\tconst id = parseInt(ethereum.networkVersion, 10)\r\n\t\treturn id\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nconst getEthereumProvider = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3.then()\r\n\tif (!ethereum) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tif (ethereum.isMetaMask) {\r\n\t\treturn AUTH_TYPES.METAMASK.name\r\n\t}\r\n\r\n\treturn null\r\n}\r\n\r\nexport {\r\n\tgetEthers,\r\n\tethereumSelectedAddress,\r\n\tethereumNetworkId,\r\n\tgetEthereumProvider,\r\n}\r\n","import { Signer } from 'ethers'\r\nimport { ethers, utils } from 'ethers'\r\nimport LedgerEth from '@ledgerhq/hw-app-eth'\r\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\r\nimport HDKey from 'hdkey'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'\"\r\n\r\nexport default class LedgerSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t\tthis._transport = TransportU2F\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\taddrsFromPubKey = async (\r\n\t\tpublicKey = '',\r\n\t\tchainCode = '',\r\n\t\t{ from = 0, to = 19 } = {}\r\n\t) => {\r\n\t\tconst hdKey = new HDKey()\r\n\t\thdKey.publicKey = Buffer.from(publicKey, 'hex')\r\n\t\thdKey.chainCode = Buffer.from(chainCode, 'hex')\r\n\r\n\t\tconst addrs = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tconst derivedKey = hdKey.derive(`m/${index}`).publicExtendedKey\r\n\r\n\t\t\tconst addr = utils.HDNode.fromExtendedKey(derivedKey).address\r\n\r\n\t\t\taddrs.push({\r\n\t\t\t\taddress: addr,\r\n\t\t\t\tpath: `${this.path}/${index}`,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn addrs\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 5 } = {}) => {\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { publicKey, chainCode } = await eth.getAddress(\r\n\t\t\tthis.path,\r\n\t\t\tfalse,\r\n\t\t\ttrue\r\n\t\t)\r\n\r\n\t\tconst addresses = await this.addrsFromPubKey(publicKey, chainCode, {\r\n\t\t\tfrom,\r\n\t\t\tto,\r\n\t\t})\r\n\r\n\t\treturn addresses\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\t\tconst txUnsigned = utils.serializeTransaction(txProps).substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { r, s, v } = await eth.signTransaction(this.path, txUnsigned)\r\n\r\n\t\tconst signature = {\r\n\t\t\tr: '0x' + r,\r\n\t\t\ts: '0x' + s,\r\n\t\t\tv,\r\n\t\t}\r\n\r\n\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\treturn txSigned\r\n\t}\r\n\r\n\t/*\r\n\t * TODO: may not work.\r\n\t * The ledger device or u2f seems to broken\r\n\t * Can list the addresses\r\n\t * Can sign messages\r\n\t * Signs transactions\r\n\t * Actually it show the tx but does not return value after\r\n\t * confirmation on the device\r\n\t */\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (!opts.hex) {\r\n\t\t\tif (typeof message === 'string') {\r\n\t\t\t\tmessage = utils.toUtf8Bytes(message)\r\n\t\t\t}\r\n\r\n\t\t\tmessage = ethers.utils.hexlify(message)\r\n\t\t}\r\n\r\n\t\tmessage = message.substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\r\n\t\tconst signature = await eth.signPersonalMessage(this.path, message)\r\n\t\tsignature.r = '0x' + signature.r\r\n\t\tsignature.s = '0x' + signature.s\r\n\r\n\t\tconst { address } = await eth.getAddress(this.path)\r\n\r\n\t\tconst res = {\r\n\t\t\tsignature: ethers.utils.joinSignature(signature),\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LedgerSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","import { store } from 'store'\r\n\r\nexport const execute = store.dispatch\r\n\r\nexport const dispatch = store.dispatch\r\n\r\nexport const getState = store.getState\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport * as types from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nexport function updateSpinner(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SPINNER,\r\n\t\t\tspinner: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateUi(item, value, category) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function addToast({\r\n\ttype,\r\n\taction,\r\n\tlabel = '',\r\n\ttimeout = false,\r\n\tunclosable,\r\n\tanchorOrigin,\r\n\ttop,\r\n}) {\r\n\treturn function(dispatch) {\r\n\t\tconst id = Helper.getGuid()\r\n\t\tdispatch({\r\n\t\t\ttype: types.ADD_TOAST,\r\n\t\t\ttoast: {\r\n\t\t\t\ttype,\r\n\t\t\t\taction,\r\n\t\t\t\tlabel,\r\n\t\t\t\ttimeout,\r\n\t\t\t\tunclosable,\r\n\t\t\t\tanchorOrigin,\r\n\t\t\t\ttop,\r\n\t\t\t\tid,\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\treturn id\r\n\t}\r\n}\r\n\r\nexport function removeToast(toastId) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.REMOVE_TOAST,\r\n\t\t\ttoast: toastId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function confirmAction(\r\n\tonConfirm,\r\n\tonCancel,\r\n\t{ confirmLabel = '', cancelLabel = '', title = '', text = '' } = {},\r\n\tnoActionBtns,\r\n\tactive\r\n) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CONFIRM_ACTION,\r\n\t\t\tconfirm: {\r\n\t\t\t\tonConfirm: onConfirm,\r\n\t\t\t\tonCancel: onCancel,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tconfirmLabel: confirmLabel,\r\n\t\t\t\t\tcancelLabel: cancelLabel,\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttext: text,\r\n\t\t\t\t},\r\n\t\t\t\tnoActionBtns,\r\n\t\t\t\tactive,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNav(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NAV,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function changeLanguage(lang) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CHANGE_LANGUAGE,\r\n\t\t\tlang: lang,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateRegistrationAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\r\n\t\t\tupdateUi('allowRegistration', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function refreshCacheAndReload({ version, notification = false }) {\r\n\treturn function(dispatch) {\r\n\t\ttry {\r\n\t\t\tif (notification) {\r\n\t\t\t} else {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\taction: (\r\n\t\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tif (caches) {\r\n\t\t\t\t\t\t\t\t\t// Service worker cache should be cleared with caches.delete()\r\n\t\t\t\t\t\t\t\t\tcaches.keys().then(async function(names) {\r\n\t\t\t\t\t\t\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\twindow.location.reload(true)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{translate('REFRESH')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tlabel: translate('SUCCESS_UPDATING_NEW_APP_VERSION', {\r\n\t\t\t\t\t\targs: [version],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_APP'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n","export const addSig = ({\r\n\taddr = '',\r\n\tsig,\r\n\tmode,\r\n\texpiryTime,\r\n\tidentity = 'notset',\r\n}) => {\r\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\r\n\t\tthrow new Error('addSig - all args are required')\r\n\t}\r\n\r\n\tlocalStorage.setItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\r\n\t\tsig + '-' + expiryTime\r\n\t)\r\n}\r\n\r\nexport const getSig = ({ addr = '', identity = '', mode }) => {\r\n\tlet sigAndTIme = localStorage.getItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\r\n\t)\r\n\r\n\tif (!sigAndTIme) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tsigAndTIme = sigAndTIme.split('-')\r\n\tlet sig = sigAndTIme[0]\r\n\tlet time = sigAndTIme[1]\r\n\r\n\tif (!time || parseInt(time, 10) <= Date.now()) {\r\n\t\treturn null\r\n\t} else {\r\n\t\treturn sig\r\n\t}\r\n}\r\n","export const getErrorMsg = err => {\r\n\tif (!err) {\r\n\t\treturn ''\r\n\t} else if (typeof err === 'object') {\r\n\t\treturn err.msg || err.message || err.errMsg || err.error\r\n\t} else if (Array.isArray(err)) {\r\n\t\treturn err.join(', ')\r\n\t} else {\r\n\t\treturn err\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { addSig, getSig } from 'services/auth/auth'\r\nimport { getSession, checkSession } from 'services/adex-market/actions'\r\nimport {\r\n\tgetRelayerConfigData,\r\n\tregAccount,\r\n\tgetQuickWallet,\r\n\tbackupWallet,\r\n} from 'services/adex-relayer/actions'\r\nimport { updateSpinner } from './uiActions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\r\nimport {\r\n\tremoveLegacyKey,\r\n\tgetWalletHash,\r\n\tgenerateSalt,\r\n\tgetRecoveryWalletData,\r\n} from 'services/wallet/wallet'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport {\r\n\tgetAccountStats,\r\n\tgetOutstandingBalance,\r\n} from 'services/smart-contracts/actions/stats'\r\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\r\nimport { addToast, confirmAction } from './uiActions'\r\nimport {\r\n\tgetEthers,\r\n\tgetEthereumProvider,\r\n\tethereumSelectedAddress,\r\n\tethereumNetworkId,\r\n} from 'services/smart-contracts/ethers'\r\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\r\nimport {\r\n\tselectAccount,\r\n\tselectIdentity,\r\n\tselectAuth,\r\n\tselectWallet,\r\n} from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { push } from 'connected-react-router'\r\n\r\nconst UPDATE_SETTINGS_INTERVAL = 24 * 60 * 60 * 1000 // 1 hour\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\n// MEMORY STORAGE\r\nexport function updateSignin(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SIGNIN,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSignin() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SIGNIN,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSISTENT STORAGE\r\nexport function createAccount(acc) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CREATE_ACCOUNT,\r\n\t\t\taccount: acc,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// LOGOUT\r\nexport function resetAccount() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ACCOUNT,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccount({ meta, newValues }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ACCOUNT,\r\n\t\t\tmeta: meta,\r\n\t\t\tnewValues: newValues,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGasData({ gasData }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GAS_DATA,\r\n\t\t\tgasData: gasData,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccountStats() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { account } = getState().persist\r\n\t\ttry {\r\n\t\t\tconst { identity, wallet } = account\r\n\t\t\tconst { address } = identity\r\n\t\t\tconst withBalance = await getChannelsWithOutstanding({\r\n\t\t\t\tidentityAddr: address,\r\n\t\t\t\twallet,\r\n\t\t\t})\r\n\r\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\r\n\t\t\t\twallet,\r\n\t\t\t\taddress,\r\n\t\t\t\twithBalance,\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\r\n\t\t\t})\r\n\r\n\t\t\tconst { formatted, raw } = await getAccountStats({\r\n\t\t\t\taccount,\r\n\t\t\t\toutstandingBalanceMainToken,\r\n\t\t\t})\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { stats: { formatted, raw } },\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_STATS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateValidatorAuthTokens({ newAuth }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { identity } = getState().persist.account\r\n\r\n\t\tconst newIdentity = { ...identity }\r\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\r\n\r\n\t\t// We don't want to update account if there is no actual change\r\n\t\tif (\r\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\r\n\t\t\tJSON.stringify(newTokens)\r\n\t\t) {\r\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\r\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createSession({\r\n\twallet,\r\n\tidentity = {},\r\n\temail,\r\n\tdeleteLegacyKey,\r\n}) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner('creating-session', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tconst sessionSignature =\r\n\t\t\t\tgetSig({\r\n\t\t\t\t\taddr: newWallet.address,\r\n\t\t\t\t\tmode: newWallet.authType,\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t}) || null\r\n\r\n\t\t\tconst hasSession =\r\n\t\t\t\t!!sessionSignature &&\r\n\t\t\t\t(await checkSession({\r\n\t\t\t\t\tauthSig: sessionSignature,\r\n\t\t\t\t\tskipErrToast: true,\r\n\t\t\t\t}))\r\n\r\n\t\t\tif (hasSession) {\r\n\t\t\t\tnewWallet.authSig = sessionSignature\r\n\t\t\t} else {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tmode,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\r\n\r\n\t\t\t\tconst { status, expiryTime } = await getSession({\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\tmode: mode,\r\n\t\t\t\t\tsignature: signature,\r\n\t\t\t\t\tauthToken: authToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t\tsignerAddress: newWallet.address,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (status === 'OK') {\r\n\t\t\t\t\taddSig({\r\n\t\t\t\t\t\taddr: wallet.address,\r\n\t\t\t\t\t\tsig: signature,\r\n\t\t\t\t\t\tmode: wallet.authType,\r\n\t\t\t\t\t\texpiryTime: expiryTime,\r\n\t\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tnewWallet.authSig = signature\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst account = {\r\n\t\t\t\temail: email,\r\n\t\t\t\twallet: newWallet,\r\n\t\t\t\tidentity: { ...identity },\r\n\t\t\t}\r\n\r\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taccount.identity.validatorAuthTokens = {\r\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\r\n\t\t\t}\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { ...account },\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (deleteLegacyKey) {\r\n\t\t\t\tremoveLegacyKey({\r\n\t\t\t\t\temail: wallet.email,\r\n\t\t\t\t\tpassword: wallet.password,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tdispatch(push('/side-select'))\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner('creating-session', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getRelayerConfig() {\r\n\treturn async function(dispatch) {\r\n\t\tconst cfg = await getRelayerConfigData()\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\r\n\t\t\tcfg,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nasync function getNetworkId() {\r\n\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\r\n\tconst networkId = (await provider.getNetwork()).chainId\r\n\r\n\treturn networkId\r\n}\r\n\r\nasync function getNetworkData({ id }) {\r\n\tconst networkId = id || (await getNetworkId())\r\n\tconst network = ETHEREUM_NETWORKS[networkId] || {}\r\n\r\n\treturn network\r\n}\r\n\r\nexport function onMetamaskNetworkChange({ id } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { persist, router } = getState()\r\n\t\tconst { location } = router\r\n\t\tconst { account } = persist\r\n\t\tconst { search } = location\r\n\t\tconst { authType } = account.wallet\r\n\r\n\t\tconst isMetamaskMatters =\r\n\t\t\t(authType === AUTH_TYPES.METAMASK.name ||\r\n\t\t\t\t(!authType && search === '?metamask')) &&\r\n\t\t\t(await getEthereumProvider()) === AUTH_TYPES.METAMASK.name\r\n\r\n\t\tif (\r\n\t\t\tisMetamaskMatters &&\r\n\t\t\tprocess.env.NODE_ENV !== (await getNetworkData({ id })).for\r\n\t\t) {\r\n\t\t\tconfirmAction(\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: translate('WARNING'),\r\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\r\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\r\n\t\t\t\t\t}),\r\n\t\t\t\t},\r\n\t\t\t\ttrue\r\n\t\t\t)(dispatch)\r\n\t\t} else {\r\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const onMetamaskAccountChange = accountAddress => {\r\n\treturn async function(_, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { authType, address } = account.wallet\r\n\r\n\t\tif (\r\n\t\t\thasAuth &&\r\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\r\n\t\t\t(!accountAddress || address !== accountAddress)\r\n\t\t) {\r\n\t\t\tlogOut()\r\n\t\t} else if (!hasAuth) {\r\n\t\t\tconst identity = selectIdentity(state)\r\n\t\t\tconst { identityContractOwner } = identity\r\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskAccountCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tconst address = await ethereumSelectedAddress()\r\n\t\tonMetamaskAccountChange(address)(_, getState)\r\n\t}\r\n}\r\n\r\nexport function metamaskNetworkCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tconst id = await ethereumNetworkId()\r\n\t\tonMetamaskNetworkChange({ id })(_, getState)\r\n\t}\r\n}\r\n\r\nexport function metamaskChecks() {\r\n\treturn async function(_, getState) {\r\n\t\tmetamaskNetworkCheck()(_, getState)\r\n\t\tmetamaskAccountCheck()(_, getState)\r\n\t\tif (window.ethereum) {\r\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\r\n\t\t\t\tconsole.log('acc changed', accounts[0])\r\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\r\n\t\t\t})\r\n\t\t\twindow.ethereum.on('networkChanged', network => {\r\n\t\t\t\tconsole.log('networkChanged', network)\r\n\t\t\t\tonMetamaskNetworkChange({ id: network })(_, getState)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nasync function hasBackup({ email, password }) {\r\n\tconst salt = generateSalt(email)\r\n\tconst hash = getWalletHash({ salt, password })\r\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\r\n\r\n\treturn !!encryptedWallet && encryptedWallet.wallet\r\n}\r\n\r\nasync function makeBackup({ email, password, authType }) {\r\n\tconst walletSalt = generateSalt(email)\r\n\tconst walletHash = getWalletHash({ salt: walletSalt, password })\r\n\tconst encryptedWallet = getRecoveryWalletData({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tauthType,\r\n\t})\r\n\r\n\tawait backupWallet({\r\n\t\temail,\r\n\t\tsalt: walletSalt,\r\n\t\thash: walletHash,\r\n\t\tencryptedWallet,\r\n\t})\r\n}\r\n\r\nexport function ensureQuickWalletBackup() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner('quick-wallet-backup', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { email, password, authType } = selectWallet(getState())\r\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\r\n\r\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\r\n\t\t\t\tawait makeBackup({ email, password, authType })\r\n\t\t\t}\r\n\t\t} catch (err) {}\r\n\t\tupdateSpinner('quick-wallet-backup', false)(dispatch)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tuploadImage,\r\n\tpostAdUnit,\r\n\tpostAdSlot,\r\n\tupdateAdSlot,\r\n\tupdateAdUnit,\r\n\tupdateCampaign,\r\n} from 'services/adex-market/actions'\r\nimport { execute } from 'actions'\r\nimport { push } from 'connected-react-router'\r\nimport { parseUnits, bigNumberify } from 'ethers/utils'\r\nimport { Base, AdSlot, AdUnit, helpers, Campaign } from 'adex-models'\r\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\r\nimport { updateValidatorAuthTokens } from './accountActions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\r\nimport {\r\n\tgetAdUnits,\r\n\tgetAdSlots,\r\n\tgetCampaigns,\r\n} from 'services/adex-market/actions'\r\nimport {\r\n\topenChannel,\r\n\tcloseChannel,\r\n} from 'services/smart-contracts/actions/core'\r\nimport { lastApprovedState } from 'services/adex-validator/actions'\r\nimport { closeCampaignMarket } from 'services/adex-market/actions'\r\nimport initialState from 'store/initialState'\r\nimport { getMediaSize } from 'helpers/mediaHelpers'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { SOURCES } from 'constants/targeting'\r\nimport {\r\n\tselectAccount,\r\n\tselectRelayerConfig,\r\n\tselectAuthSig,\r\n\tselectAuth,\r\n} from 'selectors'\r\n\r\nconst addToast = ({ type, toastStr, args, dispatch }) => {\r\n\treturn AddToastUi({\r\n\t\tdispatch: dispatch,\r\n\t\ttype: type,\r\n\t\tlabel: translate(toastStr, { args: args }),\r\n\t\ttimeout: 5000,\r\n\t})(dispatch)\r\n}\r\n\r\nconst getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\r\n\treturn fetch(tempUrl)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.blob()\r\n\t\t})\r\n\t\t.then(imgBlob => {\r\n\t\t\tURL.revokeObjectURL(tempUrl)\r\n\t\t\treturn uploadImage({\r\n\t\t\t\timageBlob: imgBlob,\r\n\t\t\t\timageName: 'image.jpeg',\r\n\t\t\t\tauthSig: authSig,\r\n\t\t\t})\r\n\t\t})\r\n}\r\n\r\nexport function updateNewItem(item, newValues, itemType, objModel) {\r\n\titem = Base.updateObject({ item, newValues, objModel })\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\titem,\r\n\t\t\titemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewItems() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_NEW_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// register item\r\nexport function addUnit(item) {\r\n\tconst newItem = { ...item }\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\tauthSig,\r\n\t\t\t})).ipfs\r\n\r\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\r\n\t\t\tnewItem.mediaMime = newItem.temp.mime\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst resItem = await postAdUnit({\r\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdUnit',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function addSlot(item) {\r\n\tconst newItem = { ...item }\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst { mainToken } = selectRelayerConfig()\r\n\t\t\tlet fallbackUnit = null\r\n\t\t\tif (newItem.temp.useFallback) {\r\n\t\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t})).ipfs\r\n\r\n\t\t\t\tconst unit = new AdUnit({\r\n\t\t\t\t\ttype: newItem.type,\r\n\t\t\t\t\tmediaUrl: `ipfs://${imageIpfs}`,\r\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\r\n\t\t\t\t\tmediaMime: newItem.temp.mime,\r\n\t\t\t\t\tcreated: Date.now(),\r\n\t\t\t\t\ttitle: newItem.title,\r\n\t\t\t\t\tdescription: newItem.description,\r\n\t\t\t\t\ttargeting: [],\r\n\t\t\t\t\ttags: [],\r\n\t\t\t\t\tpassback: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst resUnit = await postAdUnit({\r\n\t\t\t\t\tunit: unit.marketAdd,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tfallbackUnit = resUnit.ipfs\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.fallbackUnit = fallbackUnit\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tif (newItem.temp.minPerImpression) {\r\n\t\t\t\tnewItem.minPerImpression = {\r\n\t\t\t\t\t[mainToken.address]: parseUnits(\r\n\t\t\t\t\t\tnewItem.temp.minPerImpression,\r\n\t\t\t\t\t\tmainToken.decimals\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\t.div(bigNumberify(1000))\r\n\t\t\t\t\t\t.toString(),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst resItem = await postAdSlot({\r\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdSlot',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdSlot', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\r\n\t\t\t\targs: ['AdSlot', err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getAllItems() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\tconst { address } = account.identity\r\n\t\t\tconst units = getAdUnits({ identity: address })\r\n\t\t\tconst slots = getAdSlots({ identity: address })\r\n\r\n\t\t\tconst [resUnits, resSlots] = await Promise.all([units, slots])\r\n\r\n\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\r\n\t\t\tupdateItems({ items: resSlots, itemType: 'AdSlot' })(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\r\n\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function openCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner('opening-campaign', true)(dispatch)\r\n\t\tconst account = selectAccount(getState())\r\n\t\ttry {\r\n\t\t\tawait getAllValidatorsAuthForIdentity({\r\n\t\t\t\twithBalance: [{ channel: campaign }],\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tconst { readyCampaign } = await openChannel({\r\n\t\t\t\tcampaign,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: readyCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'OPENING_CAMPAIGN_SENT_TO_RELAYER',\r\n\t\t\t\targs: [readyCampaign.id],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_OPENING_CAMPAIGN',\r\n\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('opening-campaign', false)(dispatch)\r\n\t\treturn true\r\n\t}\r\n}\r\n\r\n// Accepts the entire new item and replace so be careful!\r\nexport function updateItem({ item, itemType } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner('update' + item.id, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\tconst { authSig } = account.wallet\r\n\t\t\tconst { mainToken } = selectRelayerConfig()\r\n\r\n\t\t\tlet updatedItem = null\r\n\t\t\tlet objModel = null\r\n\r\n\t\t\tconst { id } = item\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tif (item.temp.minPerImpression) {\r\n\t\t\t\t\t\titem.minPerImpression = {\r\n\t\t\t\t\t\t\t[mainToken.address]: parseUnits(\r\n\t\t\t\t\t\t\t\titem.temp.minPerImpression,\r\n\t\t\t\t\t\t\t\tmainToken.decimals\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.div(bigNumberify(1000))\r\n\t\t\t\t\t\t\t\t.toString(),\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst slot = new AdSlot(item).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id, authSig })).slot\r\n\t\t\t\t\tobjModel = AdSlot\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tconst unit = new AdUnit(item).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id, authSig })).unit\r\n\t\t\t\t\tobjModel = AdUnit\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'Campaign':\r\n\t\t\t\t\tconst campaign = new Campaign(item).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id, authSig }))\r\n\t\t\t\t\t\t.campaign\r\n\t\t\t\t\tobjModel = Campaign\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\r\n\t\t\t}\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_UPDATING_ITEM',\r\n\t\t\t\targs: [itemType, item.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_UPDATING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('update' + item.id, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function deleteItem({ item, objModel, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = true\r\n\r\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\r\n}\r\n\r\nexport function restoreItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = false\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_RESTORE_ITEM',\r\n\t\terrMsg: 'ERR_RESTORING_ITEM',\r\n\t})\r\n}\r\n\r\nconst findSourceByTag = tag => {\r\n\treturn Object.keys(SOURCES).find(\r\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\r\n\t)\r\n}\r\n\r\nexport function cloneItem({ item, itemType, objModel } = {}) {\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\r\n\t\t\tnewItem.id = ''\r\n\t\t\tnewItem.temp = {\r\n\t\t\t\t...initialState.newItem[itemType].temp,\r\n\t\t\t\ttargets: item.targeting.map((t, index) => {\r\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tkey: index,\r\n\t\t\t\t\t\tcollection: 'targeting',\r\n\t\t\t\t\t\tsource: key,\r\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\ttarget: { ...t },\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\r\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\r\n\t\t\t\tnewItem.mediaUrl,\r\n\t\t\t\tprocess.env.IPFS_GATEWAY\r\n\t\t\t)\r\n\r\n\t\t\tconst response = await fetch(tempUrl)\r\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\r\n\t\t\tconst mediaSize = await getMediaSize({\r\n\t\t\t\tmime: newItem.mediaMime,\r\n\t\t\t\tsrc: mediaURL,\r\n\t\t\t})\r\n\r\n\t\t\tconst temp = {\r\n\t\t\t\t...newItem.temp,\r\n\t\t\t\tmime: item.mediaMime,\r\n\t\t\t\ttempUrl: mediaURL,\r\n\t\t\t\twidth: mediaSize.width,\r\n\t\t\t\theight: mediaSize.height,\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.temp = temp\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\t\titem: newItem,\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function archiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = true\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_ARCHIVING_ITEM',\r\n\t\terrMsg: 'ERR_ARCHIVING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function unarchiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = false\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_UNARCHIVING_ITEM',\r\n\t\terrMsg: 'ERR_UNARCHIVING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function setCurrentItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.SET_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateCurrentItem(item, newMeta) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t\tmeta: newMeta,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateItems({ items, itemType }) {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\r\n\t\t\titems: items,\r\n\t\t\titemType: itemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const resetAllItems = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateTags = ({ tags }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_TAGS,\r\n\t\t\ttags: tags,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewTag = ({ tag }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_NEW_TAG,\r\n\t\t\ttag: tag,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateCampaignState = ({ campaign }) => {\r\n\treturn async dispatch => {\r\n\t\ttry {\r\n\t\t\tconst state = await lastApprovedState({ campaign })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.state = state\r\n\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_GETTING_CAMPAIGN_LAST_STATUS',\r\n\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// TEMP for testing in production until 4.1 is deployed\r\nfunction getHumanFriendlyName(campaign) {\r\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\r\n\t\treturn 'Closed'\r\n\tswitch ((campaign.status || {}).name) {\r\n\t\tcase 'Active':\r\n\t\tcase 'Ready':\r\n\t\tcase 'Pending':\r\n\t\tcase 'Initializing':\r\n\t\tcase 'Waiting':\r\n\t\tcase 'Offline':\r\n\t\tcase 'Disconnected':\r\n\t\tcase 'Unhealthy':\r\n\t\tcase 'Invalid':\r\n\t\t\treturn 'Active'\r\n\t\tcase 'Expired':\r\n\t\tcase 'Exhausted':\r\n\t\tcase 'Withdraw':\r\n\t\t\treturn 'Completed'\r\n\t\tdefault:\r\n\t\t\treturn 'N/A'\r\n\t}\r\n}\r\n\r\nexport function updateUserCampaigns() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst hasAuth = selectAuth(getState())\r\n\t\tconst { wallet, identity } = selectAccount(getState())\r\n\t\tconst { authSig } = wallet\r\n\t\tconst { address } = identity\r\n\r\n\t\tif (hasAuth && authSig && address) {\r\n\t\t\ttry {\r\n\t\t\t\tconst campaigns = await getCampaigns({ authSig, creator: address })\r\n\r\n\t\t\t\tconst campaignsMapped = campaigns\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc => c.creator && c.creator.toLowerCase() === address.toLowerCase()\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.map(c => {\r\n\t\t\t\t\t\tconst campaign = { ...c.spec, ...c }\r\n\r\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\r\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn campaign\r\n\t\t\t\t\t})\r\n\t\t\t\tupdateItems({ items: campaignsMapped, itemType: 'Campaign' })(dispatch)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\r\n\r\n\t\t\t\taddToast({\r\n\t\t\t\t\tdispatch,\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function closeCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst { account } = state.persist\r\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\r\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\r\n\t\t\tupdateValidatorAuthTokens({ newAuth: authTokens })(dispatch, getState)\r\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CLOSING_CAMPAIGN',\r\n\t\t\t\targs: [campaign.id],\r\n\t\t\t})\r\n\t\t\tupdateUserCampaigns(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CLOSING_CAMPAIGN',\r\n\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { updateSpinner } from './uiActions'\r\nimport { validEthAddress } from '../helpers/validators'\r\nimport { translate } from 'services/translations/translations'\r\nimport { addToast } from './uiActions'\r\nimport { getERC20Balance } from 'services/smart-contracts/actions/erc20'\r\nimport { formatUnits, bigNumberify } from 'ethers/utils'\r\nimport { validEmail, validPassword } from 'helpers/validators'\r\nimport { t } from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\n\r\nexport function validateAddress({ addr, dirty, validate, name, setBalance }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { wallet, identity } = getState().persist.account\r\n\t\tconst { authType } = wallet\r\n\t\ttry {\r\n\t\t\tif (validate) validate(name, { isValid: false })\r\n\t\t\tupdateSpinner(name, dirty)(dispatch)\r\n\t\t\tconst { msg } = await validEthAddress({\r\n\t\t\t\taddr,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tnonERC20: !setBalance,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\t\t\tconst isValid = !msg\r\n\r\n\t\t\tif (typeof setBalance === 'function') {\r\n\t\t\t\tconst balance =\r\n\t\t\t\t\t(await getERC20Balance({\r\n\t\t\t\t\t\taddr,\r\n\t\t\t\t\t\tauthType,\r\n\t\t\t\t\t\tbalanceFor: identity.address,\r\n\t\t\t\t\t})) || bigNumberify('0')\r\n\t\t\t\tsetBalance(formatUnits(balance, 18))\r\n\t\t\t}\r\n\t\t\tif (validate)\r\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(name, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidationErrors(item, newErrors) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\terrors: newErrors,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetValidationErrors(item, key) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\tkey,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function validate(\r\n\tvalidateId,\r\n\tkey,\r\n\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (!isValid) {\r\n\t\t\tlet errors = {}\r\n\t\t\terrors[key] = {\r\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t}\r\n\r\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\r\n\t\t} else if (removeAll) {\r\n\t\t\tresetValidationErrors(validateId)(dispatch)\r\n\t\t} else {\r\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateEmail(validateId, email, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = validEmail(email)\r\n\t\tvalidate(validateId, 'email', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\r\n\t\tvalidate(validateId, 'emailCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePassword(validateId, password, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = validPassword(password)\r\n\t\tvalidate(validateId, 'password', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePasswordCheck(\r\n\tvalidateId,\r\n\tpasswordCheck,\r\n\tpassword,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\r\n\t\tvalidate(validateId, 'passwordCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateTOS(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'tosCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { getQuickWallet } from 'services/adex-relayer/actions'\r\nimport { updateSpinner, addToast } from './uiActions'\r\nimport {\r\n\tgetOwnerIdentities,\r\n\tregAccount,\r\n\tgetIdentityData,\r\n} from 'services/adex-relayer/actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { createSession } from './accountActions'\r\n\r\nimport {\r\n\tgetIdentityDeployData,\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport {\r\n\taddDataToWallet,\r\n\tgetWalletHash,\r\n\tgetLocalWallet,\r\n\tmigrateLegacyWallet,\r\n\twalletInfo,\r\n\tcreateLocalWallet,\r\n\tgenerateSalt,\r\n} from 'services/wallet/wallet'\r\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\r\nimport { selectAccount, selectIdentity } from 'selectors'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport {\r\n\tvalidate,\r\n\tvalidateEmail,\r\n\tvalidateEmailCheck,\r\n\tvalidatePassword,\r\n\tvalidatePasswordCheck,\r\n\tvalidateTOS,\r\n} from './validationActions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\n\r\n// MEMORY STORAGE\r\nexport function updateIdentity(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetIdentity() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function initIdentity({ email, authType }) {\r\n\treturn function(dispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'email',\r\n\t\t\tvalue: email,\r\n\t\t})\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'authType',\r\n\t\t\tvalue: authType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// MEMORY STORAGE\r\nexport function updateWallet(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WALLET,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWallet() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WALLET,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function onUploadLocalWallet(event) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner('uploading-account-data', true)(dispatch)\r\n\t\tconst file = event.target.files[0]\r\n\t\tconst reader = new FileReader()\r\n\r\n\t\treader.onload = ev => {\r\n\t\t\ttry {\r\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\r\n\t\t\t\tif (\r\n\t\t\t\t\t!obj ||\r\n\t\t\t\t\t!obj.key ||\r\n\t\t\t\t\t!obj.wallet ||\r\n\t\t\t\t\t!obj.wallet.data ||\r\n\t\t\t\t\t!obj.wallet.identity ||\r\n\t\t\t\t\t!obj.wallet.privileges\r\n\t\t\t\t) {\r\n\t\t\t\t\tthrow new Error(translate('INVALID_JSON_DATA'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\r\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\r\n\t\t\t\t\taddToast({\r\n\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\tlabel: translate('SUCCESS_UPLOADING_ACCOUNT_DATA'),\r\n\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t})(dispatch)\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\t\targs: [err.message],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t\tupdateSpinner('uploading-account-data', true)(dispatch)\r\n\t\t}\r\n\r\n\t\tconst onError = err => {\r\n\t\t\tconsole.error('Error uploading account data.', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t\tupdateSpinner('uploading-account-data', true)(dispatch)\r\n\t\t}\r\n\r\n\t\treader.onerror = ev => {\r\n\t\t\treader.abort()\r\n\t\t\tonError(translate())\r\n\t\t}\r\n\r\n\t\treader.onabort = ev => {\r\n\t\t\tonError(translate('ABORTING_DATA_UPLOAD'))\r\n\t\t}\r\n\r\n\t\treader.readAsText(file)\r\n\t}\r\n}\r\n\r\nexport function identityWithdraw({\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t\ttokenAddress,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function ownerIdentities({ owner }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner('getting-owner-identities', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\r\n\t\t\tconst data = Object.entries(identityData).map(\r\n\t\t\t\tasync ([identityAddr, privLevel]) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst data = await getIdentityData({ identityAddr })\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tidentity: identityAddr,\r\n\t\t\t\t\t\t\tprivLevel,\r\n\t\t\t\t\t\t\tdata,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\r\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\r\n\r\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_OWNER_IDENTITIES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('getting-owner-identities', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function addrIdentityPrivilege({ setAddr, privLevel }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await setIdentityPrivilege({\r\n\t\t\t\taccount,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tprivLevel,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function login() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tidentityData,\r\n\t\t\t\tidentityTxData,\r\n\t\t\t\tdeleteLegacyKey,\r\n\t\t\t\tregisterAccount,\r\n\t\t\t} = selectIdentity(getState())\r\n\r\n\t\t\tif (registerAccount) {\r\n\t\t\t\tawait regAccount({\r\n\t\t\t\t\towner: wallet.address,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\t...identityTxData,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst relayerData = await getIdentityData({\r\n\t\t\t\tidentityAddr: identityData.address,\r\n\t\t\t})\r\n\r\n\t\t\tconst identity = {\r\n\t\t\t\t...identityData,\r\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\r\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\r\n\t\t\t\trelayerData,\r\n\t\t\t}\r\n\r\n\t\t\tawait createSession({\r\n\t\t\t\tidentity,\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tdeleteLegacyKey,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_LOGIN', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateQuickLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { password, email, authType } = identity\r\n\r\n\t\tlet wallet = {}\r\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\r\n\t\tlet actualAuthType = authType\r\n\r\n\t\ttry {\r\n\t\t\tif (email && password) {\r\n\t\t\t\tlet walletData = getLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (!walletData) {\r\n\t\t\t\t\tconst salt = generateSalt(email)\r\n\t\t\t\t\tconst hash = getWalletHash({ salt, password })\r\n\t\t\t\t\tconst { encryptedWallet } =\r\n\t\t\t\t\t\t(await getQuickWallet({\r\n\t\t\t\t\t\t\thash,\r\n\t\t\t\t\t\t})) || {}\r\n\r\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\r\n\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tbackupWallet.wallet &&\r\n\t\t\t\t\t\tbackupWallet.key &&\r\n\t\t\t\t\t\tbackupWallet.wallet.data &&\r\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\r\n\t\t\t\t\t\tbackupWallet.wallet.privileges\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\r\n\t\t\t\t\t\tactualAuthType = info.authType\r\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\r\n\r\n\t\t\t\t\t\twalletData = getLocalWallet({\r\n\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\tpassword,\r\n\t\t\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\r\n\t\t\t\t\twallet = { ...walletData.data }\r\n\t\t\t\t\twallet.email = email\r\n\t\t\t\t\twallet.password = password\r\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\r\n\t\t\t\t\twallet.identity = {\r\n\t\t\t\t\t\taddress: walletData.identity,\r\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!authType) {\r\n\t\t\t\t\t\tmigrateLegacyWallet({ email, password })\r\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\r\n\t\t\terror = err\r\n\t\t}\r\n\r\n\t\tconst isValid = !!wallet.address\r\n\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tawait login()(dispatch, getState)\r\n\t\t}\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nconst handleAfterValidation = ({ isValid, onValid, onInvalid }) => {\r\n\tif (isValid && typeof onValid === 'function') {\r\n\t\tonValid()\r\n\t}\r\n\tif (!isValid && typeof onInvalid === 'function') {\r\n\t\tonInvalid()\r\n\t}\r\n}\r\n\r\nexport function validateStandardLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identity = selectIdentity(getState())\r\n\t\t\tconst { wallet, identityContractAddress } = identity\r\n\t\t\tconst { address } = wallet\r\n\r\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\r\n\t\t\tconst identityData = {\r\n\t\t\t\taddress: identityDataSplit[0],\r\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\r\n\t\t\t}\r\n\r\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\r\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\tconst isValid = !!identityData.address\r\n\r\n\t\t\tvalidate(validateId, 'identityContractAddress', {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_STANDARD_LOGIN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickDeploy({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identity = selectIdentity(getState())\r\n\t\t\tconst { identityAddr, email, password } = identity\r\n\r\n\t\t\tif (!identityAddr) {\r\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\r\n\r\n\t\t\t\tconst walletData = createLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\twalletData.email = email\r\n\t\t\t\twalletData.password = password\r\n\r\n\t\t\t\tconst walletAddr = walletData.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: txData.identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\taddDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'identity',\r\n\t\t\t\t\tdataValue: identityData.address,\r\n\t\t\t\t})\r\n\t\t\t\taddDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'privileges',\r\n\t\t\t\t\tdataValue: identityData.privileges,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\t\t\t}\r\n\r\n\t\t\tconst isValid = !!identityAddr\r\n\r\n\t\t\tvalidate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_QUICK_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { email, emailCheck, password, passwordCheck, tosCheck } = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateEmail(validateId, email, dirty)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\r\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewBid({ bidId, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewBid({ bidId }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\n\r\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_BIDS,\r\n\t\t\tadvBids: advBids,\r\n\t\t\tpubBids: pubBids,\r\n\t\t\tbidsById: bidsById,\r\n\t\t})\r\n\t}\r\n}\r\nexport const resetAllBids = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_BIDS,\r\n\t\t})\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewTransaction({ tx, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewTransaction({ tx }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\nexport function addWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\tif (!tx || !tx.hash || !addr) return\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\r\n\t\t\tvalue: tx,\r\n\t\t\ttx: tx.hash,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// TODO: make update multiple\r\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { addToast, removeToast, confirmAction } from './uiActions'\r\nimport { translate } from 'services/translations/translations'\r\nimport {\r\n\tgetValidatorAuthToken,\r\n\tidentityAnalytics,\r\n} from 'services/adex-validator/actions'\r\nimport { updateValidatorAuthTokens } from './accountActions'\r\nimport {\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\r\n\tVALIDATOR_ANALYTICS_METRICS,\r\n} from 'constants/misc'\r\nimport { getErrorMsg } from 'helpers/errors'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\nconst analyticsParams = (timeframe, side) => {\r\n\tconst callsParams = []\r\n\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\r\n\t\t\tcallsParams.push({\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tside,\r\n\t\t\t\teventType,\r\n\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\treturn callsParams\r\n}\r\n\r\n// getIdentityStatistics tooks to long some times\r\n// if the account is change we do not update the account\r\n// TODO: we can use something for abortable tasks\r\nfunction checkAccountChanged(getState, account) {\r\n\tconst accountCheck = getState().persist.account\r\n\tconst accountChanged =\r\n\t\t!accountCheck.wallet.address ||\r\n\t\taccountCheck.wallet.address !== account.wallet.address ||\r\n\t\t!accountCheck.identity.address ||\r\n\t\t!accountCheck.identity.address !== !account.identity.address\r\n\r\n\treturn accountChanged\r\n}\r\n\r\nexport function updateAccountAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { account, analytics } = getState().persist\r\n\t\tconst { side } = getState().memory.nav\r\n\t\tconst { timeframe } = analytics\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsParams(timeframe, side)\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\tidentityAnalytics({\r\n\t\t\t\t\t...opts,\r\n\t\t\t\t\tleaderAuth,\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\taccountChanged =\r\n\t\t\t\t\t\t\taccountChanged || checkAccountChanged(getState, account)\r\n\r\n\t\t\t\t\t\tif (!accountChanged) {\r\n\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\r\n\t\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\t\tvalue: { ...res },\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\r\n\t\t\tawait Promise.all(allAnalytics)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAnalyticsTimeframe(timeframe) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_ANALYTICS_TIMEFRAME,\r\n\t\t\t\tvalue: timeframe,\r\n\t\t\t})\r\n\t\t\tupdateAccountAnalytics()(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resetAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ANALYTICS,\r\n\t\t})\r\n\t}\r\n}\r\n","import * as common from './common'\r\nimport * as itemActions from './itemActions'\r\nimport * as uiActions from './uiActions'\r\nimport * as accountActions from './accountActions'\r\nimport * as identityActions from './identityActions'\r\nimport * as bidActions from './bidActions'\r\nimport * as transactionActions from './transactionActions'\r\nimport * as validationActions from './validationActions'\r\nimport * as analyticsActions from './analyticsActions'\r\n\r\n// keep it for class components that use connect and actions prop\r\n// without needing to change the code\r\nexport default {\r\n\t...common,\r\n\t...itemActions,\r\n\t...uiActions,\r\n\t...accountActions,\r\n\t...identityActions,\r\n\t...bidActions,\r\n\t...transactionActions,\r\n\t...validationActions,\r\n\t...analyticsActions,\r\n}\r\n\r\n// used for minimal deps in hook components\r\n// import { execute, addTost } from 'actions'\r\n// execute(addTost())\r\nexport * from './common'\r\nexport * from './itemActions'\r\nexport * from './uiActions'\r\nexport * from './accountActions'\r\nexport * from './identityActions'\r\nexport * from './bidActions'\r\nexport * from './transactionActions'\r\nexport * from './validationActions'\r\nexport * from './analyticsActions'\r\n","import base64 from 'base64url'\r\nimport ethers from 'ethers'\r\n\r\n// see https://github.com/ethereum/EIPs/issues/1341\r\n// Implements EIP 1341: Ethereum Web Tokens\r\n\r\nconst HEADER = base64.encode(\r\n\tJSON.stringify({\r\n\t\ttype: 'JWT',\r\n\t\talg: 'ETH',\r\n\t})\r\n)\r\n\r\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\r\n// .address is always checksummed\r\nfunction sign(signer, payload) {\r\n\tconst payloadEncoded = base64.encode(\r\n\t\tJSON.stringify({\r\n\t\t\t...payload,\r\n\t\t\taddress: signer.address,\r\n\t\t})\r\n\t)\r\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\r\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\r\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\r\n\t})\r\n}\r\n\r\nfunction verify(token) {\r\n\tconst parts = token.split('.')\r\n\tif (parts.length !== 3) {\r\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\r\n\t}\r\n\tconst msg = parts.slice(0, 2).join('.')\r\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\r\n\ttry {\r\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\r\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\r\n\t\treturn Promise.resolve({ from, payload })\r\n\t} catch (e) {\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n}\r\n\r\nexport default { sign, verify }\r\n","module.exports = Module;","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404.12db5cc0.png\";","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { refreshCacheAndReload, execute } from 'actions'\r\nglobal.appVersion = packageJson.version\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst semverGreaterThan = (versionA, versionB) => {\r\n\t\tconst versionsA = versionA.split(/\\./g)\r\n\r\n\t\tconst versionsB = versionB.split(/\\./g)\r\n\t\twhile (versionsA.length || versionsB.length) {\r\n\t\t\tconst a = Number(versionsA.shift())\r\n\r\n\t\t\tconst b = Number(versionsB.shift())\r\n\t\t\t// eslint-disable-next-line no-continue\r\n\t\t\tif (a === b) continue\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\treturn a > b || isNaN(b)\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(7)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst latestVersion = meta.version\r\n\t\t\t\tconst currentVersion = global.appVersion\r\n\t\t\t\tconst shouldForceRefresh = semverGreaterThan(\r\n\t\t\t\t\tlatestVersion,\r\n\t\t\t\t\tcurrentVersion\r\n\t\t\t\t)\r\n\t\t\t\tif (shouldForceRefresh) {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\trefreshCacheAndReload({\r\n\t\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import { ethers, utils } from 'ethers'\r\nimport pbkdf2 from 'pbkdf2'\r\nimport {\r\n\tencrypt,\r\n\tdecrypt,\r\n\tencryptLegacy,\r\n\tdecryptLegacy,\r\n} from 'services/crypto/crypto'\r\nimport {\r\n\tloadFromLocalStorage,\r\n\tsaveToLocalStorage,\r\n\tgetKeys,\r\n\tremoveFromLocalStorage,\r\n} from 'helpers/localStorageHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nfunction getCipherKey({ email, password }) {\r\n\tconst pass = generateSalt(password)\r\n\tconst salt = generateSalt(email)\r\n\r\n\tconst key = pbkdf2.pbkdf2Sync(pass, salt, 10000, 64, 'sha512').toString('hex')\r\n\r\n\treturn key\r\n}\r\n\r\nfunction isLegacyCrypto(authType) {\r\n\treturn !authType || authType === 'legacy' || authType === 'grant'\r\n}\r\n\r\n// Returns 12 random words\r\nexport function getRandomMnemonic() {\r\n\tconst randomEntropy = utils.randomBytes(16)\r\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\r\n\r\n\treturn mnemonic\r\n}\r\n\r\nexport function generateWallet(mnemonic) {\r\n\tconst seed = mnemonic || getRandomMnemonic()\r\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\r\n\r\n\treturn {\r\n\t\tmnemonic,\r\n\t\tprivateKey: wallet.privateKey,\r\n\t\taddress: wallet.address,\r\n\t\tpath: wallet.path,\r\n\t}\r\n}\r\n\r\nfunction encrKey({ email, password, authType }) {\r\n\tif (!authType) {\r\n\t\treturn encryptLegacy(email, password)\r\n\t} else if (typeof authType === 'string') {\r\n\t\treturn `adex-${authType}-wallet-${email}`\r\n\t} else {\r\n\t\tthrow new Error('INVALID_TYPE')\r\n\t}\r\n}\r\n\r\nexport function encrData({ email = '', password, data, authType }) {\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\tconst jsonData = JSON.stringify(data)\r\n\tif (isLegacy) {\r\n\t\treturn encryptLegacy(jsonData, email + password)\r\n\t} else {\r\n\t\treturn encrypt(\r\n\t\t\tjsonData,\r\n\t\t\tgetCipherKey({ email: email.toLocaleLowerCase(), password })\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function decrData({ email = '', password, data, authType }) {\r\n\tlet decryptedStr = ''\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\r\n\tif (isLegacy) {\r\n\t\tdecryptedStr = decryptLegacy(data, email + password)\r\n\t} else {\r\n\t\tdecryptedStr = decrypt(\r\n\t\t\tdata,\r\n\t\t\tgetCipherKey({ email: email.toLocaleLowerCase(), password })\r\n\t\t)\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst decr = JSON.parse(decryptedStr)\r\n\t\treturn decr\r\n\t} catch (err) {\r\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\r\n\t}\r\n}\r\n\r\nexport function createLocalWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tmnemonic,\r\n\tauthType = '',\r\n}) {\r\n\tconst walletData = generateWallet(mnemonic)\r\n\tconst key = encrKey({ email, password, authType })\r\n\tconst data = encrData({ data: walletData, email, password, authType })\r\n\tsaveToLocalStorage({ data }, key)\r\n\r\n\twalletData.authType = authType\r\n\treturn walletData\r\n}\r\n\r\nexport function migrateLegacyWallet({ email = '', password = '' }) {\r\n\tconst wallet = getLocalWallet({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tgetEncrypted: true,\r\n\t})\r\n\r\n\tif (wallet && wallet.data) {\r\n\t\tconst newKey = encrKey({ email, password, authType: AUTH_TYPES.GRANT.name })\r\n\t\tsaveToLocalStorage(wallet, newKey)\r\n\t}\r\n}\r\n\r\nexport function removeLegacyKey({ email = '', password = '' }) {\r\n\tconst key = encrKey({ email, password })\r\n\tremoveFromLocalStorage(key)\r\n}\r\n\r\nexport function addDataToWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tdataKey = '',\r\n\tdataValue = '',\r\n\tauthType,\r\n}) {\r\n\tif (dataKey === 'data') {\r\n\t\tthrow new Error('INVALID_DATA_KEY')\r\n\t}\r\n\r\n\tconst key = encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (!wallet) {\r\n\t\tthrow new Error('WALLET_NOT_FOUND')\r\n\t}\r\n\r\n\tconst data = encrData({ data: dataValue, email, password, authType })\r\n\twallet[dataKey] = data\r\n\tsaveToLocalStorage(wallet, key)\r\n}\r\n\r\nexport function getRecoveryWalletData({ email, password, authType }) {\r\n\tif (!email || !password) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst key = encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\treturn {\r\n\t\tkey,\r\n\t\twallet,\r\n\t}\r\n}\r\n\r\nexport function getLocalWallet({ email, password, authType, getEncrypted }) {\r\n\tif (!email || !password) {\r\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\r\n\t}\r\n\r\n\tconst key = encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (wallet) {\r\n\t\tif (getEncrypted) {\r\n\t\t\treturn wallet\r\n\t\t}\r\n\r\n\t\tconst data = Object.keys(wallet).reduce((props, key) => {\r\n\t\t\tprops[key] = decrData({\r\n\t\t\t\tdata: wallet[key],\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\treturn props\r\n\t\t}, {})\r\n\r\n\t\treturn data\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nfunction isWallet(item) {\r\n\treturn item && item.data && item.identity && item.privileges\r\n}\r\n\r\nexport function walletInfo(key, index, wallet) {\r\n\tconst split = key.split('-')\r\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\r\n\tconst authType = split[1] || 'legacy'\r\n\tconst name = mail || `Grant account # ${index + 1}`\r\n\r\n\tconst info = {\r\n\t\tkey,\r\n\t\twallet,\r\n\t\tname,\r\n\t\tauthType,\r\n\t}\r\n\r\n\treturn info\r\n}\r\n\r\nexport function getAllWallets() {\r\n\tconst walletKeys = getKeys()\r\n\t\t.map(key => {\r\n\t\t\treturn {\r\n\t\t\t\tkey,\r\n\t\t\t\titem: loadFromLocalStorage(key),\r\n\t\t\t}\r\n\t\t})\r\n\t\t.filter(({ item }) => isWallet(item))\r\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\r\n\r\n\treturn walletKeys\r\n}\r\n\r\nexport function getWalletHash({ salt, password }) {\r\n\tconst passwordId = utils.id(password)\r\n\r\n\tconst hash = pbkdf2\r\n\t\t.pbkdf2Sync(passwordId, salt, 10000, 64, 'sha512')\r\n\t\t.toString('hex')\r\n\r\n\treturn hash\r\n}\r\n\r\nexport function generateSalt(dataStr) {\r\n\tif (typeof dataStr !== 'string') {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\r\n\t} else if (!dataStr.length) {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\r\n\t}\r\n\r\n\tconst id = utils.id(dataStr)\r\n\tconst salt = utils.keccak256(id)\r\n\treturn salt\r\n}\r\n","import moment from 'moment'\r\n\r\n// TODO: separate exports - not class\r\nclass Helper {\r\n\tgetGuid() {\r\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t}\r\n\r\n\tgetRndHash32(prefix) {\r\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t\tif (prefix) {\r\n\t\t\th = prefix + h.substring(prefix.length)\r\n\t\t}\r\n\t\treturn h\r\n\t}\r\n\r\n\tgetRandomInt(min, max) {\r\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\r\n\t}\r\n\r\n\tgetRandomBool() {\r\n\t\treturn !!this.getRandomInt(0, 1)\r\n\t}\r\n\r\n\tgetRandomPropFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\r\n\t}\r\n\r\n\tgetRandomKeyFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn keys[(keys.length * Math.random()) << 0]\r\n\t}\r\n\r\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\r\n\t\t// TODO: fix +/- 1 day bug\r\n\t\tlet initial = moment.isMoment(initialMoment)\r\n\t\t\t? initialMoment.valueOf()\r\n\t\t\t: undefined\r\n\r\n\t\treturn moment(initial)\r\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\r\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\r\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\r\n\t}\r\n\r\n\thexToRgbaColorString = (hex, alpha) => {\r\n\t\tif (!hex || typeof hex !== 'string') {\r\n\t\t\tthrow new Error('Invalid color')\r\n\t\t} else if (hex.length === 4) {\r\n\t\t\thex = hex + hex.substr(1, 4)\r\n\t\t}\r\n\r\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\r\n\t\t\talpha = 1\r\n\t\t}\r\n\r\n\t\tconst hexToDec = h => {\r\n\t\t\treturn parseInt('0x' + h, 16)\r\n\t\t}\r\n\r\n\t\tlet r = hexToDec(hex.substr(1, 2))\r\n\t\tlet g = hexToDec(hex.substr(3, 2))\r\n\t\tlet b = hexToDec(hex.substr(5, 2))\r\n\r\n\t\treturn `rgba(${r},${g},${b},${alpha})`\r\n\t}\r\n\r\n\tgetQuery(queryParams) {\r\n\t\tif (\r\n\t\t\t!queryParams ||\r\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\r\n\t\t) {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t'?' +\r\n\t\t\t\tObject.keys(queryParams)\r\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\r\n\t\t\t\t\t.map(key => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tencodeURIComponent(key) +\r\n\t\t\t\t\t\t\t'=' +\r\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}, '')\r\n\t\t\t\t\t.join('&') || ''\r\n\t\t)\r\n\t}\r\n\r\n\tgetErrMsg = err => {\r\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\r\n\r\n\t\tif (stack.length > 1) {\r\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\r\n\t\t} else {\r\n\t\t\treturn (err.error || err || '').toString()\r\n\t\t}\r\n\t}\r\n\r\n\tisInt = int => {\r\n\t\treturn typeof int === 'number' && int % 1 === 0\r\n\t}\r\n\r\n\tshuffleArray = array => {\r\n\t\treturn [...array].sort(() => Math.random() - 0.5)\r\n\t}\r\n}\r\n\r\nexport default new Helper()\r\n","import Requester from 'services/requester'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport moment from 'moment'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\r\n\r\nconst processResponse = (res, dontThrow) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tif (res.status === 401 || res.status === 403) {\r\n\t\t\tlogOut()\r\n\t\t}\r\n\t\tif (!dontThrow) {\r\n\t\t\tthrow new Error(\r\n\t\t\t\ttranslate('SERVICE_ERROR_MSG', {\r\n\t\t\t\t\targs: [res.url, res.status, res.statusText, text],\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const getSession = ({\r\n\tidentity,\r\n\tmode,\r\n\tsignature,\r\n\tauthToken,\r\n\thash,\r\n\ttypedData,\r\n\tsignerAddress,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'auth/',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tidentity,\r\n\t\t\t\tmode,\r\n\t\t\t\tsignature,\r\n\t\t\t\tauthToken,\r\n\t\t\t\thash,\r\n\t\t\t\ttypedData,\r\n\t\t\t\tsignerAddress,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const checkSession = ({ authSig, skipErrToast }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'session',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tauthSig,\r\n\t\t\tskipErrToast,\r\n\t\t})\r\n\t\t.then(res => processResponse(res, true))\r\n}\r\n\r\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\r\n\tconst formData = new FormData()\r\n\tformData.append('media', imageBlob, imageName)\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'media',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nconst convertItemToJSON = item => {\r\n\tconst itemToConvert = { ...item }\r\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\r\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\r\n\t}\r\n\r\n\treturn JSON.stringify(itemToConvert)\r\n}\r\n\r\nexport const getAdUnits = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdUnit = ({ unit, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdUnit = ({ unit, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `units/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAdSlots = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdSlot = ({ slot, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdSlot = ({ slot, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `slots/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getCampaigns = ({ authSig, creator }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns/by-owner',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tnoCache: true,\r\n\t\t\tqueryParams: {\r\n\t\t\t\tbyCreator: creator, //\r\n\t\t\t\tt: Date.now(),\r\n\t\t\t},\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${campaign.id}/close`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAllCampaigns = all => {\r\n\tconst queryParams = all\r\n\t\t? {\r\n\t\t\t\tall: true,\r\n\t\t  }\r\n\t\t: {}\r\n\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateCampaign = ({ campaign, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(campaign),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\n\r\nexport const isConnectionLost = async authType => {\r\n\ttry {\r\n\t\t// When we remove Metamask\r\n\t\t// if in 5 sec doesn't connect will\r\n\t\t// return that connection is lost\r\n\t\tconst eth = await Promise.race([\r\n\t\t\tgetEthers(authType),\r\n\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\treject('Timed out')\r\n\t\t\t\t}, 5000)\r\n\t\t\t}),\r\n\t\t])\r\n\t\tawait eth.provider.getBlockNumber()\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn true\r\n\t}\r\n}\r\n","import { utils } from 'ethers'\r\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\r\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\r\n\r\n/*eslint-disable */\r\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\r\nconst emailRegex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\r\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\r\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\r\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\r\n/*eslint-enable */\r\n\r\nexport const validUrl = url => {\r\n\turl = url || ''\r\n\tconst isValid = urlRegex.test(url)\r\n\treturn isValid\r\n}\r\n\r\nexport const validEmail = email => {\r\n\temail = email || ''\r\n\tconst isValid = emailRegex.test(email)\r\n\treturn isValid\r\n}\r\n\r\nexport const validateNumber = numberStr => {\r\n\tnumberStr = numberStr || ''\r\n\tconst isValid =\r\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\r\n\treturn isValid\r\n}\r\n\r\n// > 0\r\nexport const validPositiveInt = intStr => {\r\n\tintStr = intStr || ''\r\n\tconst isValid = onlyDigitsRegex.test(intStr)\r\n\treturn isValid\r\n}\r\n\r\nexport const validName = name => {\r\n\tlet msg = ''\r\n\tconst errMsgArgs = []\r\n\tif (!name) {\r\n\t\tmsg = 'ERR_REQUIRED_FIELD'\r\n\t} else if (name.length < 4) {\r\n\t\tmsg = 'ERR_MIN_LENGTH'\r\n\t\terrMsgArgs.push(4)\r\n\t} else if (name.length > 128) {\r\n\t\tmsg = 'ERR_MAX_LENGTH'\r\n\t\terrMsgArgs.push(128)\r\n\t}\r\n\r\n\treturn {\r\n\t\tmsg,\r\n\t\terrMsgArgs,\r\n\t}\r\n}\r\n\r\nexport const validPassword = password => {\r\n\tpassword = password || ''\r\n\tconst isValid = passwordRegex.test(password)\r\n\treturn isValid\r\n}\r\n\r\nexport const isEthAddress = (addr = '') => {\r\n\ttry {\r\n\t\tutils.getAddress(addr)\r\n\t} catch (e) {\r\n\t\treturn false\r\n\t}\r\n\treturn true\r\n}\r\n\r\nexport const isEthAddressZero = (addr = '') => {\r\n\treturn isEthAddress(addr)\r\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\r\n\t\t: false\r\n}\r\n\r\nexport const validEthAddress = async ({\r\n\taddr = '',\r\n\tnonZeroAddr,\r\n\tnonERC20,\r\n\tauthType,\r\n}) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tconst ethAddressZero = isEthAddressZero(addr)\r\n\t\tconst notEthAddress = !isEthAddress(addr)\r\n\t\tif (notEthAddress) {\r\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\r\n\t\t} else {\r\n\t\t\tif (nonZeroAddr && ethAddressZero) {\r\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\r\n\t\t\t} else {\r\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\r\n\t\t\t\tif (connectionLost) {\r\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\r\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\r\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error === 'Non-Ethereum browser detected.')\r\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t}\r\n\treturn { msg }\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { constants } from 'adex-models'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport {\r\n\tbigNumberify,\r\n\tformatUnits,\r\n\tparseUnits,\r\n\tformatEther,\r\n} from 'ethers/utils'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectFeeTokenWhitelist,\r\n} from 'selectors'\r\n\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\r\n\tif (token.address === mainToken.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\r\n\r\n\t// approve + swap txns\r\n\tconst swapFees = bigNumberify(feeToken.min).mul(bigNumberify(2))\r\n\r\n\tconst isAvailable = swapFees.mul(bigNumberify(2)).lte(balance)\r\n\treturn isAvailable ? balance : bigNumberify(0)\r\n}\r\n\r\nexport const getWithdrawTokensBalances = async ({ authType, address }) => {\r\n\tconst { getToken } = await getEthers(authType)\r\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\r\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\r\n\t\tconst tokenContract = getToken(token)\r\n\r\n\t\tconst balance = await tokenContract.balanceOf(address)\r\n\r\n\t\tconst available = tokenAvailableBalance({\r\n\t\t\ttoken,\r\n\t\t\tmainToken,\r\n\t\t\tbalance,\r\n\t\t})\r\n\r\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: available,\r\n\t\t})\r\n\r\n\t\treturn { token, balance: available, balanceMainToken }\r\n\t})\r\n\r\n\tconst balances = await Promise.all(balancesCalls)\r\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\r\n\t\t(data, token) => {\r\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\r\n\t\t\t\ttoken.balanceMainToken\r\n\t\t\t)\r\n\r\n\t\t\tif (token.address === mainToken.address) {\r\n\t\t\t\tdata.mainTokenBalance = token.balance\r\n\t\t\t}\r\n\r\n\t\t\treturn data\r\n\t\t},\r\n\t\t{\r\n\t\t\ttotalBalanceInMainToken: bigNumberify(0),\r\n\t\t\tmainTokenBalance: bigNumberify(0),\r\n\t\t}\r\n\t)\r\n\r\n\treturn {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t\ttotalBalanceInMainToken,\r\n\t}\r\n}\r\n\r\nexport async function getAddressBalances({ address, authType }) {\r\n\tconst { provider } = await getEthers(authType)\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(address.address),\r\n\t\tgetWithdrawTokensBalances({ authType, address: address.address }),\r\n\t]\r\n\r\n\tconst balances = await Promise.all(calls)\r\n\tconst formatted = {\r\n\t\taddress: address.address,\r\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\r\n\t\tbalanceEth: formatEther(balances[0].toString()),\r\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\r\n\t\t\treturn {\r\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\r\n\t\t\t\tsymbol: token.symbol,\r\n\t\t\t}\r\n\t\t}),\r\n\t}\r\n\r\n\treturn formatted\r\n}\r\n\r\nexport async function getAccountStats({\r\n\taccount,\r\n\toutstandingBalanceMainToken = {\r\n\t\ttotal: bigNumberify('0'),\r\n\t\tavailable: bigNumberify('0'),\r\n\t},\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { authType } = wallet\r\n\tconst { address } = identity\r\n\tconst { getIdentity } = await getEthers(authType)\r\n\tconst { decimals, symbol } = selectMainToken()\r\n\r\n\tconst { status = {} } = identity\r\n\tconst identityContract = getIdentity({ address })\r\n\tlet privilegesAction\r\n\ttry {\r\n\t\tawait identityContract.deployed()\r\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\r\n\t} catch {\r\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\r\n\t}\r\n\r\n\tconst calls = [\r\n\t\tgetWithdrawTokensBalances({ authType, address }),\r\n\t\tprivilegesAction,\r\n\t]\r\n\r\n\tconst [\r\n\t\tidentityWithdrawTokensBalancesBalances = {},\r\n\t\twalletPrivileges,\r\n\t] = await Promise.all(\r\n\t\tcalls.map(c =>\r\n\t\t\tc\r\n\t\t\t\t.then(res => res)\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\treturn undefined\r\n\t\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\tconst identityBalanceMainToken =\r\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken\r\n\r\n\tconst common = {\r\n\t\tmainTokenDecimals: decimals,\r\n\t\tmainTokenSymbol: symbol,\r\n\t}\r\n\r\n\t// BigNumber values for balances\r\n\tconst raw = {\r\n\t\t...common,\r\n\t\tidentityWithdrawTokensBalancesBalances,\r\n\t\twalletPrivileges,\r\n\t\tidentityBalanceMainToken,\r\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\r\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\r\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.available\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.total\r\n\t\t),\r\n\t}\r\n\r\n\tconst formatted = {\r\n\t\t...common,\r\n\t\twalletAddress: wallet.address,\r\n\t\twalletAuthType: wallet.authType,\r\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\r\n\t\tidentityAddress: identity.address,\r\n\t\tidentityBalanceMainToken: formatTokenAmount(\r\n\t\t\tidentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\toutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.outstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalOutstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.availableIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t}\r\n\r\n\treturn {\r\n\t\traw,\r\n\t\tformatted,\r\n\t}\r\n}\r\n\r\n// NOTE: currently working because DAI and SAI has the same price and decimals\r\n// We should use getOutstandingBalanceMainToken if changed\r\nexport async function getOutstandingBalance({ withBalance }) {\r\n\tconst bigZero = bigNumberify(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable } = ch\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstanding)\r\n\t\tcurrent.available = current.available.add(outstandingAvailable)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\r\n\tconst tokens = selectRoutineWithdrawTokens()\r\n\tconst bigZero = bigNumberify(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\r\n\t\tconst { depositAsset } = channel\r\n\t\tconst token = tokens[depositAsset]\r\n\r\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\r\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: outstandingAvailable,\r\n\t\t})\r\n\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstandingMT)\r\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getAllValidatorsAuthForIdentity({\r\n\twithBalance,\r\n\taccount,\r\n}) {\r\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\r\n\r\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\r\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\r\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\r\n\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\r\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\tconst keys = Object.keys(allValidators)\r\n\r\n\tconst tokenCalls = keys.map(async key => {\r\n\t\tif (allValidators[key]) {\r\n\t\t\treturn allValidators[key]\r\n\t\t} else {\r\n\t\t\tconst token = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: key,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\treturn token\r\n\t\t}\r\n\t})\r\n\r\n\tconst allTokens = await Promise.all(tokenCalls)\r\n\r\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[key]: allTokens[index],\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\treturn validatorsAuth\r\n}\r\n\r\nconst usdPriceMapping = {\r\n\t// SAI\r\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': [1.0],\r\n\t// DAI\r\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': [1.0],\r\n}\r\n\r\nasync function valueInUSD({ token, balance }) {\r\n\tconst { address, decimals } = token\r\n\tconst [price] = usdPriceMapping[address.toLowerCase()] || [1.0]\r\n\r\n\tconst balanceInUSD =\r\n\t\tparseFloat(formatUnits(balance.toString(), decimals)) * price\r\n\r\n\treturn balanceInUSD\r\n}\r\n\r\nasync function usdToMainTokenBalance({ balanceUSD }) {\r\n\tconst { address, decimals } = selectMainToken()\r\n\r\n\tconst [price] = usdPriceMapping[address.toLowerCase()] || [1.0]\r\n\r\n\tconst balanceInMainToken = (balanceUSD * price).toString()\r\n\r\n\treturn parseUnits(balanceInMainToken, decimals)\r\n}\r\n\r\nasync function tokenInMainTokenValue({ token, balance }) {\r\n\tconst balanceUSD = await valueInUSD({ token, balance })\r\n\tconst balanceMainToken = await usdToMainTokenBalance({ balanceUSD })\r\n\r\n\treturn balanceMainToken\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport TrezorConnect from 'trezor-connect'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\r\n\r\nTrezorConnect.manifest({\r\n\temail: 'contactus@adex.network',\r\n\tappUrl: 'http://adex.network',\r\n})\r\n\r\nexport default class TrezorSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\r\n\t\tconst bundle = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tbundle.push({\r\n\t\t\t\tpath: this.path + `/${index}`,\r\n\t\t\t\tshowOnTrezor: false,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn { bundle }\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\r\n\t\t\tthis.getAddsParams({ from, to })\r\n\t\t)\r\n\r\n\t\treturn { success, payload }\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\r\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\r\n\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\r\n\t\t\tpath: this.path,\r\n\t\t\ttransaction: txProps,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst signature = {\r\n\t\t\t\tr: payload.r,\r\n\t\t\t\ts: payload.s,\r\n\t\t\t\tv: parseInt(payload.v),\r\n\t\t\t}\r\n\r\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\t\treturn txSigned\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\r\n\t\t\tpath: this.path,\r\n\t\t\tmessage: message,\r\n\t\t\thex: !!opts.hex,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst res = {\r\n\t\t\t\t/*\r\n\t\t\t\t * NOTE: SignatureTypes.GETH\r\n\t\t\t\t * Current TrezorConnect window does not\r\n\t\t\t\t * accept device with old firmware\r\n\t\t\t\t */\r\n\t\t\t\tsignature: '0x' + payload.signature,\r\n\t\t\t\thash: message,\r\n\t\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\t\taddress: payload.address,\r\n\t\t\t}\r\n\r\n\t\t\treturn res\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new TrezorSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","import { Signer, utils, Wallet } from 'ethers'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class LocalSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\r\n\t\tconst { email, password, authType } = opts\r\n\t\tthis._provider = provider\r\n\r\n\t\tconst walletData = getLocalWallet({\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\tauthType,\r\n\t\t})\r\n\r\n\t\tthis._wallet = new Wallet(walletData.data.privateKey, provider)\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._wallet.address\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst signetTx = this._wallet.sign(params)\r\n\t\treturn signetTx\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._wallet.signMessage(message)\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: this._wallet.address,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LocalSigner(provider, {\r\n\t\t\temail: this.email,\r\n\t\t\tpassword: this.password,\r\n\t\t})\r\n\t}\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class MetaMaskSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._signer = provider.getSigner()\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._signer.getAddress()\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\treturn this._signer.sendTransaction(params)\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._signer.signMessage(message)\r\n\t\t// TODO: support EIP712\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: await this._signer.getAddress(),\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new MetaMaskSigner(provider)\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\r\nimport LedgerSigner from 'services/smart-contracts/signers/ledger'\r\nimport LocalSigner from 'services/smart-contracts/signers/local'\r\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\r\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\r\n\r\nexport async function getSigner({ wallet, provider }) {\r\n\t// TODO: Maybe get provider here?\r\n\tconst { authType, path, email, password } = wallet\r\n\r\n\tif (authType === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst signer = new MetaMaskSigner(provider)\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.LEDGER.name) {\r\n\t\tconst signer = new LedgerSigner(provider, { path })\r\n\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.TREZOR.name) {\r\n\t\tconst signer = new TrezorSigner(provider, { path })\r\n\t\treturn signer\r\n\t}\r\n\tif (\r\n\t\tauthType === AUTH_TYPES.GRANT.name ||\r\n\t\tauthType === AUTH_TYPES.QUICK.name\r\n\t) {\r\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\r\n\r\n\t\treturn signer\r\n\t}\r\n\r\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\r\n}\r\n\r\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\r\nexport const getTypedDataHash = ({ typedData }) => {\r\n\tconst values = typedData.map(entry => {\r\n\t\treturn typeof entry.value === 'string'\r\n\t\t\t? utils.toUtf8Bytes(entry.value)\r\n\t\t\t: utils.hexlify(entry.value)\r\n\t})\r\n\tconst valuesHash = utils.keccak256.apply(null, values)\r\n\tconst schema = typedData.map(entry => {\r\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\r\n\t})\r\n\r\n\tconst schemaHash = utils.keccak256.apply(null, schema)\r\n\tconst hash = utils.solidityKeccak256(\r\n\t\t['bytes32', 'bytes32'],\r\n\t\t[schemaHash, valuesHash]\r\n\t)\r\n\r\n\treturn hash\r\n}\r\n\r\nexport async function getAuthSig({ wallet }) {\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst authToken = Math.floor(\r\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\r\n\t).toString()\r\n\r\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\r\n\tconst hash = getTypedDataHash({ typedData })\r\n\tconst signature = await signer.signMessage(hash, { hex: true })\r\n\r\n\treturn {\r\n\t\t...signature,\r\n\t\tauthToken,\r\n\t\thash,\r\n\t}\r\n}\r\n\r\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\r\n\tconst { provider } = await getEthers(authType)\r\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\r\n\r\n\treturn Promise.all(receipts)\r\n}\r\n\r\nexport async function signTx({ tx, signer }) {\r\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\r\n\t\thex: true,\r\n\t})\r\n\tconst signature = splitSig(sig.signature)\r\n\treturn signature\r\n}\r\n\r\nexport async function getMultipleTxSignatures({ txns, signer }) {\r\n\tconst signatures = []\r\n\tfor (const tx of txns) {\r\n\t\tsignatures.push(await signTx({ tx, signer }))\r\n\t}\r\n\r\n\treturn signatures\r\n}\r\n","import Requester from 'services/requester'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tthrow new Error(\r\n\t\t\ttranslate('SERVICE_ERROR_MSG', {\r\n\t\t\t\targs: [res.url, res.status, res.statusText, text],\r\n\t\t\t})\r\n\t\t)\r\n\t})\r\n}\r\n\r\nexport const getOwnerIdentities = ({ owner }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/by-owner/${owner}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getIdentityData = ({ identityAddr }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getRelayerConfigData = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'relayer/cfg',\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}/execute`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxnsRaw,\r\n\t\t\t\tsignatures,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tchannel,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const regAccount = ({\r\n\towner,\r\n\temail,\r\n\tbytecode,\r\n\tidentityFactoryAddr,\r\n\tbaseIdentityAddr,\r\n\tsalt,\r\n\tidentityAddr,\r\n\tprivileges,\r\n\troutineAuthorizationsRaw,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\towner,\r\n\t\t\t\temail,\r\n\t\t\t\tbytecode,\r\n\t\t\t\tidentityFactoryAddr,\r\n\t\t\t\tbaseIdentityAddr,\r\n\t\t\t\tsalt,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tprivileges,\r\n\t\t\t\troutineAuthorizationsRaw,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getQuickWallet = ({ hash }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\temail,\r\n\t\t\t\tsalt,\r\n\t\t\t\thash,\r\n\t\t\t\tencryptedWallet,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nconst updateCfg = (current, type, cfg) => {\r\n\tconst newCfg = { ...current }\r\n\tnewCfg[type] = { ...cfg }\r\n\treturn newCfg\r\n}\r\n\r\nexport default function uiReducer(state = initialState.config, action) {\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RELAYER_CFG:\r\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import account from './accountReducer'\r\nimport signin from './signinReducer'\r\nimport identity from './identityReducer'\r\nimport wallet from './walletReducer'\r\nimport items from './itemsReducer'\r\nimport newItem from './newItemsReducer'\r\n// import currentItem from './currentItemsReducer'\r\nimport spinners from './spinnersReducer'\r\nimport ui from './uiReducer'\r\nimport toasts from './toastsReducer'\r\nimport confirm from './confirmReducer'\r\nimport nav from './navReducer'\r\nimport language from './languageReducer'\r\nimport validations from './validateItemsReducer'\r\nimport newTransactions from './newTransactionsReducer'\r\nimport web3Transactions from './web3TransactionsReducer'\r\nimport tags from './tagsReducer'\r\nimport ethNetwork from './ethNetworkReducer'\r\nimport config from './configReducer'\r\nimport analytics from './analyticsReducer'\r\nimport { filterActions } from 'redux-ignore'\r\nimport * as types from 'constants/actionTypes'\r\n\r\nexport const persistReducers = {\r\n\taccount,\r\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\r\n\tui: filterActions(ui, [types.UPDATE_UI]),\r\n\tlanguage,\r\n\tweb3Transactions,\r\n\ttags,\r\n\tethNetwork,\r\n\tconfig,\r\n\tanalytics,\r\n}\r\n\r\nexport const memoryReducers = {\r\n\tsignin,\r\n\tidentity,\r\n\twallet,\r\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\r\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\r\n\ttoasts,\r\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\r\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\r\n\tvalidations,\r\n\tnewTransactions,\r\n}\r\n","import {\r\n\tCREATE_ACCOUNT,\r\n\tRESET_ACCOUNT,\r\n\tUPDATE_ACCOUNT,\r\n} from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\nimport { Base, Account } from 'adex-models'\r\n\r\nexport default function accountReducer(state = initialState.account, action) {\r\n\tlet newState\r\n\tlet newAccount\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CREATE_ACCOUNT:\r\n\t\t\tnewAccount = { ...action.account }\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase RESET_ACCOUNT:\r\n\t\t\tnewAccount = initialState.account\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ACCOUNT:\r\n\t\t\tnewAccount = Base.updateObject({\r\n\t\t\t\titem: newState,\r\n\t\t\t\tnewValues: { ...action.newValues },\r\n\t\t\t\tobjModel: Account,\r\n\t\t\t})\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_ITEM,\r\n\tDELETE_ITEM,\r\n\tUPDATE_ITEM,\r\n\tREMOVE_ITEM_FROM_ITEM,\r\n\tADD_ITEM_TO_ITEM,\r\n\tUPDATE_ALL_ITEMS,\r\n\tRESET_ALL_ITEMS,\r\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\r\nimport initialState from 'store/initialState'\r\nimport { Item } from 'adex-models'\r\n\r\nexport default function itemsReducer(state = initialState.items, action) {\r\n\tlet newState\r\n\tlet newCollection\r\n\tlet newItem\r\n\tlet collectionId\r\n\tlet item\r\n\r\n\tconst collection = (state = {}, action) => {\r\n\t\tif (!action.item) return state\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t[action.item.id]: action.item,\r\n\t\t}\r\n\t}\r\n\r\n\tconst removeCollectionProp = (collection = {}, prop) => {\r\n\t\tlet newCol = { ...collection }\r\n\t\tdelete newCol[prop]\r\n\t\treturn newCol\r\n\t}\r\n\r\n\tif (action.item && action.itemType) {\r\n\t\tnewState = { ...state }\r\n\t\titem = { ...action.item }\r\n\t\tcollectionId = action.itemType\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_ITEM:\r\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\r\n\t\t\t// id is going to be set when it comes here\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase ADD_ITEM_TO_ITEM:\r\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase DELETE_ITEM:\r\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_ITEM_FROM_ITEM:\r\n\t\t\tnewItem = Item.removeItem(\r\n\t\t\t\tnewState[collectionId][item._id],\r\n\t\t\t\taction.toRemove\r\n\t\t\t)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ALL_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tconst newItems = action.items.reduce((items, item, index) => {\r\n\t\t\t\tconst currentItems = { ...items }\r\n\t\t\t\tconst newItem = { ...item }\r\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\r\n\t\t\t\treturn currentItems\r\n\t\t\t}, newState[action.itemType])\r\n\r\n\t\t\tnewState[action.itemType] = newItems\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_ITEMS:\r\n\t\t\tnewState = { ...initialState.items }\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_UI } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiReducer(state = initialState.ui, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_UI:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState[action.category] = { ...newState[action.category] }\r\n\t\t\t\tnewState[action.category][action.item] = action.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState[action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import initialState from 'store/initialState'\r\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\r\nimport { setLang } from 'services/translations/translations'\r\n\r\nexport default function languageReducer(state = initialState.language, action) {\r\n\tswitch (action.type) {\r\n\t\tcase CHANGE_LANGUAGE:\r\n\t\t\tlet newLang = action.lang || state\r\n\t\t\tsetLang(newLang)\r\n\t\t\treturn newLang\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_WEB3_TRANSACTION,\r\n\tUPDATE_WEB3_TRANSACTION,\r\n\tRESET_WEB3_TRANSACTION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function web3TransactionsReducer(\r\n\tstate = initialState.web3Transactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\tlet newAddrTxs\r\n\tlet pendingTxs\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateObj = ({ obj, key, val }) => {\r\n\t\tobj = obj || {}\r\n\t\tobj[key] = val\r\n\r\n\t\treturn obj\r\n\t}\r\n\r\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\r\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\r\n\t\t\tpTxs.push(newTx.hash)\r\n\t\t} else {\r\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\r\n\t\t}\r\n\r\n\t\treturn pTxs\r\n\t}\r\n\r\n\tif (!action.addr) {\r\n\t\treturn state\r\n\t}\r\n\r\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\r\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\r\n\r\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\r\n\t// If we keep the transactions on the node we can clean them from local storage on address change\r\n\tswitch (action.type) {\r\n\t\tcase ADD_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...action.value }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\r\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase RESET_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: { txHash: action.tx },\r\n\t\t\t})\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_TAGS:\r\n\t\t\tnewState = { ...state, ...action.tags }\r\n\t\t\treturn newState\r\n\t\tcase ADD_NEW_TAG:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.tag] = action.tag\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_GAS_DATA:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.gasData = { ...action.gasData }\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ANALYTICS,\r\n\tRESET_ANALYTICS,\r\n\tUPDATE_ANALYTICS_TIMEFRAME,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function analyticsReducer(\r\n\tstate = initialState.analytics,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.timeframe = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.side] = { ...newState[action.side] }\r\n\t\t\tnewState[action.side][action.eventType] = {\r\n\t\t\t\t...newState[action.side][action.eventType],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\r\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric][\r\n\t\t\t\taction.timeframe\r\n\t\t\t] = { ...action.value }\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ANALYTICS:\r\n\t\t\tnewState = { ...initialState.analytics }\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function signinReducer(state = initialState.signin, action) {\r\n\tlet newState\r\n\tlet newSignin\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SIGNIN:\r\n\t\t\tnewSignin = { ...newState }\r\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\r\n\t\t\t\tnewSignin[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewSignin[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newSignin\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_SIGNIN:\r\n\t\t\tnewSignin = { ...initialState.signin }\r\n\t\t\tnewState = newSignin\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function identityReducer(state = initialState.identity, action) {\r\n\tlet newState\r\n\tlet newIdentity\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_IDENTITY:\r\n\t\t\tnewIdentity = newState\r\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\r\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewIdentity[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newIdentity\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_IDENTITY:\r\n\t\t\tnewIdentity = { ...initialState.identity }\r\n\t\t\tnewState = newIdentity\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function walletReducer(state = initialState.wallet, action) {\r\n\tlet newState\r\n\tlet newWallet\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_WALLET:\r\n\t\t\tnewWallet = newState\r\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\r\n\t\t\t\tnewWallet[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewWallet[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newWallet\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_WALLET:\r\n\t\t\tnewWallet = { ...initialState.wallet }\r\n\t\t\tnewState = newWallet\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_ITEM,\r\n\tRESET_NEW_ITEM,\r\n\tRESET_ALL_NEW_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newItemsReducer(state = initialState.newItem, action) {\r\n\tlet newState\r\n\tlet newItem\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...action.item }\r\n\t\t\tnewState[action.itemType] = newItem\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...initialState.newItem[action.item] }\r\n\t\t\tnewState[action.item] = newItem\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ALL_NEW_ITEMS:\r\n\t\t\tnewState = { ...initialState.newItem }\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function spinnersReducer(state = initialState.spinners, action) {\r\n\tlet newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SPINNER:\r\n\t\t\tnewState[action.spinner] = action.value\r\n\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewState['update' + action.item._id] = false\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function toastsReducer(state = initialState.toasts, action) {\r\n\tlet newState\r\n\tlet newToast\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_TOAST:\r\n\t\t\tnewToast = { ...action.toast }\r\n\t\t\tnewToast.added = Date.now()\r\n\t\t\tnewState = [newToast, ...state]\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_TOAST:\r\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n// import Helper from './../helpers/miscHelpers'\r\n\r\nexport default function confirmReducer(state = initialState.confirm, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CONFIRM_ACTION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.data = { ...action.confirm.data }\r\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\r\n\t\t\tnewState.onCancel = action.confirm.onCancel\r\n\t\t\tnewState.active =\r\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\r\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\r\n\r\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\r\n\t\t\tnewState.calledOn = Date.now()\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_NAV } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function navReducer(state = initialState.nav, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NAV:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ITEM_VALIDATION,\r\n\tRESET_ITEM_VALIDATION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function validateItemsReducer(\r\n\tstate = initialState.validations,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newErrors\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item] }\r\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\r\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\r\n\t\t\t\tdelete newErrors[action.key]\r\n\t\t\t} else if (newErrors && !action.key) {\r\n\t\t\t\tnewErrors = {}\r\n\t\t\t}\r\n\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_TRANSACTION,\r\n\tRESET_NEW_TRANSACTION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newTransactionsReducer(\r\n\tstate = initialState.newTransactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateTx = ({ tx, key, val }) => {\r\n\t\ttx = tx || {}\r\n\t\ttx[key] = val\r\n\r\n\t\treturn tx\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_TRANSACTION:\r\n\t\t\tnewTx = {\r\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\r\n\t\t\t}\r\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\r\n\r\n\t\t\t// console.log('newTx', newTx)\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_NEW_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.newTransactions.default }\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\r\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\r\nimport thunk from 'redux-thunk'\r\nimport { persistReducers, memoryReducers } from 'reducers'\r\nimport history from './history'\r\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\r\nimport { persistStore, persistCombineReducers } from 'redux-persist'\r\nimport localStorage from 'redux-persist/es/storage'\r\n// import session from 'redux-persist/lib/storage/session'\r\n\r\nconst reduxRouterMiddleware = routerMiddleware(history)\r\n\r\nconst configStorage = {\r\n\tkey: 'persist',\r\n\tstorage: localStorage,\r\n}\r\n\r\n// const configSession = {\r\n//   key: 'session',\r\n//   storage: session,\r\n// }\r\n\r\n// const rootReducer = combineReducers(reducers)\r\n\r\n// TODO: make session reducer(signin) - RAM reducer (no persist)\r\nconst rootReducer = combineReducers({\r\n\tpersist: persistCombineReducers(configStorage, persistReducers),\r\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\r\n\trouter: connectRouter(history),\r\n})\r\n\r\nconst logger = store => next => action => {\r\n\t// if (action.type === 'UPDATE_NEWITEM') {\r\n\t//   return next(action)\r\n\t// }\r\n\r\n\tconsole.groupCollapsed(action.type)\r\n\tconsole.info('dispatching', action)\r\n\tlet result = next(action)\r\n\tconsole.log('next state', store.getState())\r\n\tconsole.groupEnd(action.type)\r\n\treturn result\r\n}\r\n\r\nfunction configureStoreProd(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\t// logger\r\n\t]\r\n\r\n\tlet store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcompose(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tlet persistor = persistStore(store)\r\n\r\n\treturn { persistor, store }\r\n}\r\n\r\nfunction configureStoreDev(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\r\n\t\treduxImmutableStateInvariant(),\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\tlogger,\r\n\t]\r\n\r\n\tconst composeEnhancers =\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\r\n\tconst store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tif (module.hot) {\r\n\t\t// Enable Webpack hot module replacement for reducers\r\n\t\tmodule.hot.accept('../reducers', () => {\r\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\r\n\t\t\tstore.replaceReducer(nextReducer)\r\n\t\t})\r\n\t}\r\n\r\n\tlet persistor = persistStore(store)\r\n\treturn { persistor, store }\r\n}\r\n\r\nconst configureStore =\r\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\r\n\r\nexport default configureStore()\r\n","import configureStore from './configureStore'\r\n\r\nexport default configureStore\r\n\r\nexport const store = configureStore.store\r\nexport const persistor = configureStore.persistor\r\nexport const dispatch = store.dispatch\r\nexport const getState = store.getState\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetSigner,\r\n\tgetMultipleTxSignatures,\r\n} from 'services/smart-contracts/actions/ethers'\r\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\r\nimport { Contract } from 'ethers'\r\nimport {\r\n\tbigNumberify,\r\n\tparseUnits,\r\n\tgetAddress,\r\n\tInterface,\r\n\tkeccak256,\r\n} from 'ethers/utils'\r\nimport { generateAddress2 } from 'ethereumjs-util'\r\nimport { executeTx } from 'services/adex-relayer'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectFeeTokenWhitelist,\r\n\tselectSaiToken,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\r\nimport solc from 'solcBrowser'\r\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\r\n\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\r\n\r\nconst ERC20 = new Interface(ERC20TokenABI)\r\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\r\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\r\n\r\nexport async function getIdentityDeployData({\r\n\towner,\r\n\trelayerRoutineAuthValidUntil = 10648454444,\r\n}) {\r\n\tconst {\r\n\t\tidentityFactoryAddr,\r\n\t\trelayerAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tidentityRecoveryAddr,\r\n\t\tcoreAddr,\r\n\t\tmainToken,\r\n\t} = selectRelayerConfig()\r\n\r\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\r\n\r\n\tconst routineAuthorizationsRaw = [\r\n\t\t{\r\n\t\t\trelayer: relayerAddr,\r\n\t\t\toutpace: coreAddr,\r\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tfeeTokenAmount: '0x00',\r\n\t\t},\r\n\t]\r\n\r\n\tconst bytecode = getProxyDeployBytecode(\r\n\t\tbaseIdentityAddr,\r\n\t\tprivileges,\r\n\t\t{\r\n\t\t\tprivSlot: 0,\r\n\t\t\troutineAuthsSlot: 1,\r\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\r\n\t\t\t\tnew RoutineAuthorization(x).hash()\r\n\t\t\t),\r\n\t\t},\r\n\t\tsolc\r\n\t)\r\n\r\n\tconst salt = keccak256(owner)\r\n\r\n\tconst identityAddr = getAddress(\r\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tidentityFactoryAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\tidentityAddr,\r\n\t\tprivileges,\r\n\t\troutineAuthorizationsRaw,\r\n\t}\r\n}\r\n\r\nexport async function withdrawFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { authType } = wallet\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, mainToken.decimals)\r\n\r\n\tconst tokenAddr = mainToken.address\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: tokenAddr,\r\n\t\tto: tokenAddr,\r\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\r\n\t\twithdrawTx: true,\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: toWithdraw,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\r\n\r\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\r\n\r\n\tlet actualWithdrawAmount = toWithdraw\r\n\r\n\tif (toWithdraw.gt(maxWithdraw)) {\r\n\t\tactualWithdrawAmount = maxWithdraw\r\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\r\n\t\t\tif (tx.withdrawTx) {\r\n\t\t\t\ttx.data = ERC20.functions.transfer.encode([\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\tactualWithdrawAmount.toString(),\r\n\t\t\t\t])\r\n\t\t\t}\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, mainToken.decimals),\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function setIdentityPrivilege({\r\n\taccount,\r\n\tsetAddr,\r\n\tprivLevel,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityInterface = new Interface(Identity.abi)\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: identityAddr,\r\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1]\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: (await getIdentityTxnsTotalFees({ txnsByFeeToken })).total,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\ttxnsByFeeToken,\r\n\t\tidentityAddr,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: {\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t},\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\nfunction txnsByTokenWithSaiToDaiSwap({\r\n\ttxns,\r\n\tmainToken,\r\n\tdaiAddr,\r\n\tsaiAddr,\r\n\tidentityAddr,\r\n}) {\r\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\r\n\t\t(current, tx, i) => {\r\n\t\t\tconst { withdrawAmountByToken } = tx\r\n\r\n\t\t\tconst needSaiToDaiSwap =\r\n\t\t\t\t!!withdrawAmountByToken &&\r\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\r\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\r\n\t\t\t\tmainToken.address === daiAddr &&\r\n\t\t\t\tsaiAddr !== daiAddr\r\n\r\n\t\t\tlet feeTokenAddr = ''\r\n\r\n\t\t\tif (needSaiToDaiSwap) {\r\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\r\n\t\t\t\t\tbigNumberify(withdrawAmountByToken[saiAddr])\r\n\t\t\t\t)\r\n\t\t\t\tfeeTokenAddr = daiAddr\r\n\t\t\t}\r\n\r\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\r\n\t\t\t// normalize tx\r\n\t\t\ttx.feeTokenAddr = feeTokenAddr\r\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\r\n\r\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = (\r\n\t\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] || []\r\n\t\t\t).concat([tx])\r\n\r\n\t\t\treturn current\r\n\t\t},\r\n\t\t{\r\n\t\t\tsaiWithdrawAmount: bigNumberify('0'),\r\n\t\t\ttxnsByFeeToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { txnsByFeeToken, saiWithdrawAmount }\r\n}\r\n\r\nexport async function getIdentityTxnsWithNoncesAndFees({\r\n\tamountInMainTokenNeeded = '0',\r\n\ttxns = [],\r\n\tidentityAddr,\r\n\tprovider,\r\n\tIdentity,\r\n\taccount,\r\n\tgetToken,\r\n}) {\r\n\tconst {\r\n\t\tsweepTxns = [],\r\n\t\tswapAmountsByToken = {},\r\n\t} = await getSweepingTxnsIfNeeded({\r\n\t\tamountInMainTokenNeeded,\r\n\t\taccount,\r\n\t})\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\r\n\r\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\r\n\tlet identityContract = null\r\n\r\n\tif (isDeployed) {\r\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\r\n\t}\r\n\r\n\tconst initialNonce = isDeployed\r\n\t\t? (await identityContract.nonce()).toNumber()\r\n\t\t: 0\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns: sweepTxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// 1st - always get sweeping txns (channelWithdraw)\r\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\r\n\t// 3rd - make other txns with the main token only\r\n\r\n\t// TODO: make it work with other tokens\r\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\r\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\r\n\t\t.add(bigNumberify(swapAmountsByToken[saiAddr] || 0))\r\n\r\n\tif (!saiSwapAmount.isZero()) {\r\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\r\n\t\t\t...(await swapSaiToDaiTxns({\r\n\t\t\t\tgetToken,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tdaiAddr,\r\n\t\t\t\tsaiToken,\r\n\t\t\t\tswapAmount: saiSwapAmount,\r\n\t\t\t})),\r\n\t\t]\r\n\t}\r\n\r\n\tconst allFeeTokens = [\r\n\t\t...new Set([\r\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\r\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\r\n\t\t]),\r\n\t]\r\n\r\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\r\n\t\ttxns[token] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t]\r\n\r\n\t\treturn txns\r\n\t}, {})\r\n\r\n\tlet currentNonce = initialNonce\r\n\r\n\tObject.keys(txnsByFeeToken).forEach(key => {\r\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\r\n\t\t\tconst { routinesTxCount = 0, routinesSweepTxCount = 0, isSweepTx } = tx\r\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\r\n\t\t\tconst minFeeAmount = bigNumberify(\r\n\t\t\t\tcurrentNonce === 0 ? feeToken.minDeploy : feeToken.min\r\n\t\t\t)\r\n\r\n\t\t\tconst routinesFeeAmount = bigNumberify(routinesTxCount).mul(\r\n\t\t\t\tbigNumberify(feeToken.min)\r\n\t\t\t)\r\n\r\n\t\t\t// Total relayer fees for the transaction\r\n\t\t\tconst feeAmount = minFeeAmount.add(routinesFeeAmount).toString()\r\n\r\n\t\t\t// fees that are not pre calculated with in the total identity balance\r\n\t\t\tconst nonIdentityBalanceFeeAmount = bigNumberify(feeAmount)\r\n\t\t\t\t.sub(bigNumberify(isSweepTx ? feeToken.min : 0))\r\n\t\t\t\t.sub(bigNumberify(routinesSweepTxCount).mul(bigNumberify(feeToken.min)))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\tconst txWithNonce = {\r\n\t\t\t\t...tx,\r\n\t\t\t\tfeeTokenAddr: feeToken.address,\r\n\t\t\t\tfeeAmount,\r\n\t\t\t\tnonce: currentNonce,\r\n\t\t\t\tnonIdentityBalanceFeeAmount,\r\n\t\t\t}\r\n\r\n\t\t\tcurrentNonce += 1\r\n\r\n\t\t\treturn txWithNonce\r\n\t\t})\r\n\t})\r\n\r\n\treturn txnsByFeeToken\r\n}\r\n\r\nexport async function getApproveTxns({\r\n\tgetToken,\r\n\ttoken,\r\n\tidentityAddr,\r\n\tfeeTokenAddr,\r\n\tapproveForAddress,\r\n\tapproveAmount,\r\n}) {\r\n\tconst tokenContract = getToken(token)\r\n\r\n\tconst allowance = await tokenContract.allowance(\r\n\t\tidentityAddr,\r\n\t\tapproveForAddress\r\n\t)\r\n\r\n\tconst approveTxns = []\r\n\r\n\tif (!allowance.isZero()) {\r\n\t\tapproveTxns.push({\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: token.address,\r\n\t\t\tdata: ERC20.functions.approve.encode([approveForAddress, 0]),\r\n\t\t})\r\n\t}\r\n\r\n\tapproveTxns.push({\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tto: token.address,\r\n\t\tdata: ERC20.functions.approve.encode([approveForAddress, approveAmount]),\r\n\t})\r\n\r\n\treturn approveTxns\r\n}\r\n\r\nasync function swapSaiToDaiTxns({\r\n\tidentityAddr,\r\n\tdaiAddr,\r\n\tsaiToken,\r\n\tswapAmount,\r\n\tgetToken,\r\n}) {\r\n\tconst approveTxns = await getApproveTxns({\r\n\t\tgetToken,\r\n\t\ttoken: saiToken,\r\n\t\tidentityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\r\n\t\tapproveAmount: swapAmount,\r\n\t})\r\n\r\n\tconst swapTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tto: SCD_MCD_MIGRATION_ADDR,\r\n\t\tdata: ScdMcdMigration.functions.swapSaiToDai.encode([swapAmount]),\r\n\t}\r\n\r\n\treturn [...approveTxns, swapTx]\r\n}\r\n\r\n// TODO: use byToken where needed\r\n// currently works because only using SAI and DAI only\r\nexport async function getIdentityTxnsTotalFees({\r\n\ttxnsByFeeToken,\r\n\tmainToken = {},\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst bigZero = bigNumberify('0')\r\n\tconst feesData = Object.values(txnsByFeeToken)\r\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\r\n\t\t.reduce(\r\n\t\t\t(result, tx) => {\r\n\t\t\t\tconst txFeeAmount = bigNumberify(tx.nonIdentityBalanceFeeAmount)\r\n\t\t\t\tresult.total = result.total.add(txFeeAmount)\r\n\r\n\t\t\t\tresult.byToken[tx.feeTokenAddr] = (\r\n\t\t\t\t\tresult.byToken[tx.feeTokenAddr] || bigZero\r\n\t\t\t\t).add(txFeeAmount)\r\n\r\n\t\t\t\treturn result\r\n\t\t\t},\r\n\t\t\t{ total: bigZero, byToken: {} }\r\n\t\t)\r\n\r\n\tconst byToken = Object.entries(feesData.byToken).map(([key, value]) => {\r\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\r\n\t\treturn {\r\n\t\t\taddress: key,\r\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\r\n\t\t\tsymbol,\r\n\t\t\tfeeFormatted: `${formatTokenAmount(\r\n\t\t\t\tvalue.toString(),\r\n\t\t\t\tdecimals,\r\n\t\t\t\tfalse,\r\n\t\t\t\t4\r\n\t\t\t)} ${symbol}`,\r\n\t\t}\r\n\t})\r\n\r\n\tconst fees = {\r\n\t\ttotal: formatTokenAmount(\r\n\t\t\tfeesData.total.toString(),\r\n\t\t\tmainToken.decimals || 18\r\n\t\t),\r\n\t\ttotalBN: feesData.total,\r\n\t\tbyToken,\r\n\t}\r\n\r\n\treturn fees\r\n}\r\n\r\nexport async function processExecuteByFeeTokens({\r\n\ttxnsByFeeToken,\r\n\twallet,\r\n\tprovider,\r\n\tidentityAddr,\r\n\textraData = {},\r\n}) {\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\r\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\r\n\t\tconst data = {\r\n\t\t\ttxnsRaw,\r\n\t\t\tsignatures,\r\n\t\t\tidentityAddr,\r\n\t\t\t...extraData,\r\n\t\t}\r\n\r\n\t\tconst result = await executeTx(data)\r\n\r\n\t\treturn {\r\n\t\t\tresult,\r\n\t\t}\r\n\t})\r\n\r\n\tconst results = await Promise.all(all)\r\n\r\n\treturn results\r\n}\r\n","export function loadFromLocalStorage(key) {\r\n\ttry {\r\n\t\tconst data = localStorage.getItem(key)\r\n\t\tif (data === null) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\treturn JSON.parse(data)\r\n\t} catch (err) {\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport function saveToLocalStorage(data, key) {\r\n\ttry {\r\n\t\tconst serialized = JSON.stringify(data)\r\n\t\tlocalStorage.setItem(key, serialized)\r\n\t} catch (err) {\r\n\t\tconsole.warn(err)\r\n\t}\r\n}\r\n\r\nexport function removeFromLocalStorage(key) {\r\n\tlocalStorage.removeItem(key)\r\n}\r\n\r\nexport function getKeys() {\r\n\treturn Object.keys(localStorage)\r\n}\r\n"],"sourceRoot":""}