{"version":3,"sources":["resources/home-wallpaper.png","constants/actionTypes.js","store/initialState.js","services/translations/translations.js","helpers/sanitizer.js","reducers/configReducer.js","store/history.js","reducers/index.js","reducers/accountReducer.js","reducers/uiReducer.js","reducers/itemsReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/targetingReducer.js","reducers/ensReducer.js","reducers/uiMemoryReducer.js","reducers/channelsReducer.js","reducers/analyticsReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/selectedItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","selectors/selectors.js","selectors/configSelectors.js","helpers/dateUtils.js","selectors/accountSelectors.js","selectors/identitySelectors.js","constants/spinners.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/itemsSelectors.js","selectors/newItemsSelectors.js","helpers/formatters.js","helpers/analyticsTimeHelpers.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","components/common/anchor/anchor.js","selectors/targetingSelectors.js","selectors/newTransactionSelectors.js","components/App/themeMUi.js","selectors/tablesDataSelectors.js","selectors/chartsSelectors.js","constants/misc.js","selectors/dataSelectors.js","selectors/gettingStartedSelectors.js","selectors/locationSelectors.js","actions/common.js","helpers/miscHelpers.js","helpers/errors.js","actions/uiActions.js","services/smart-contracts/contractsCfg.js","services/smart-contracts/ethers.js","services/smart-contracts/actions/erc20.js","services/smart-contracts/actions/common.js","helpers/validators.js","services/store-data/loop.js","services/store-data/campaigns.js","services/store-data/account.js","services/store-data/analytics.js","services/store-data/auth.js","services/requester/requester.js","services/requester/index.js","services/adex-relayer/actions.js","actions/validationActions.js","helpers/mediaHelpers.js","actions/mediaValidations.js","services/adex-market/actions.js","constants/targeting.js","actions/itemActions.js","services/auth/auth.js","services/smart-contracts/signers/trezor.js","helpers/localStorageHelpers.js","services/wallet/wallet.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","services/adex-validator/actions.js","services/smart-contracts/actions/stats.js","services/smart-contracts/actions/identity.js","services/smart-contracts/actions/core.js","services/adex-market/aggregates.js","actions/analyticsActions.js","actions/accountActions.js","actions/identityActions.js","actions/bidActions.js","services/gas/actions.js","actions/transactionActions.js","actions/newItemsActions.js","actions/audienceActions.js","helpers/utmHelpers.js","actions/campaignActions.js","helpers/numbers.js","helpers/itemsHelpers.js","helpers/ipfsHelpers.js","services/images/blob.js","actions/slotActions.js","actions/unitActions.js","actions/index.js","components/toast/Toast.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/icons/AdexIconTxtDark.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","components/translate/Translate.js","helpers/logosHelpers.js","components/App/MultiThemeProvider.js","components/App/ThemeSwitch.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/TopBar.js","components/common/img/Img.js","components/common/img/styles.js","components/dashboard/containers/Tables/MUIDataTableEnhanced.js","components/dashboard/containers/Tables/tableHelpers.js","components/dashboard/containers/Tables/commonFilters.js","components/dashboard/containers/Tables/tableHooks.js","components/dashboard/containers/Tables/toolbars.js","components/dashboard/containers/Tables/CampaignsTable.js","components/common/dirtyErrors.js","components/dashboard/containers/ItemCommon/SaveBtn.js","components/dashboard/containers/ItemCommon/itemCommonNew.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/itemHooks.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/common/stepper/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/common/dropdown/Dropdown.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","services/images/crop.js","components/common/OutlinedPropView/OutlinedPropView.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/dialog/content.js","components/dashboard/containers/TargetsList/TargetsList.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/FormsCommon.js","components/dashboard/containers/AudiencePreview/AudiencePreview.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/common/autocomplete/Autocomplete.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/Audience/AudienceBasic.js","components/dashboard/forms/items/Audience/NewAudiencePreview.js","components/dashboard/forms/items/NewTargetingRules.js","components/dashboard/containers/Slot/WebsiteIssues.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/Website/WebsiteBasic.js","components/dashboard/forms/items/Website/WebsitePreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/AdUnitsTable.js","components/dashboard/containers/Tables/AdSlotsTable.js","components/dashboard/containers/Tables/AudiencesTable.js","components/dashboard/charts/options.js","components/dashboard/charts/campaigns/CampaignStatsDoughnut.js","components/dashboard/containers/Tables/CampaignStatsBreakdownTable.js","components/dashboard/containers/Receipt/styles.js","components/dashboard/containers/Receipt/PublisherReceiptTpl.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/Receipt/CampaignReceiptTpl.js","components/dashboard/containers/Receipt/CompanyDetails.js","components/dashboard/containers/Receipt/Receipt.js","components/dashboard/containers/Tables/StatsByCountryTable.js","components/dashboard/charts/map/MapChart.js","components/dashboard/containers/Campaign/CampaignEdits.js","components/dashboard/containers/Campaign/CampaignBasic.js","components/dashboard/containers/Campaign/CampaignAudience.js","components/dashboard/charts/simplified.js","hooks/useWindowSize.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/common/DatePicker/styles.js","components/common/DatePicker/DatePicker.js","hooks/useKeyPress.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/containers/Campaign/CampaignStatsByTimeframe.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/DashboardStats/AdvertiserStats.js","components/dashboard/containers/Tables/BestEarnersTable.js","components/dashboard/containers/DashboardStats/PublisherStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/SlotEdits.js","components/dashboard/containers/Slot/SlotBasic.js","components/dashboard/containers/Slot/IntegrationCode.js","components/dashboard/containers/Slot/styles.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Audience/Audience.js","components/dashboard/containers/Websites/Websites.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/SetAccountENSPage.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","components/dashboard/deposit/styles.js","helpers/popupHelper.js","services/onramp/index.js","components/dashboard/deposit/Ramp.js","components/dashboard/deposit/TopUp.js","components/dashboard/deposit/TopUpChangelly.js","components/dashboard/getting-started/Colorlib.js","components/dashboard/getting-started/Tutorials.js","components/dashboard/getting-started/GettingStarted.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/ImportantNotifications.js","components/App/Root.js","components/App/CacheBuster.js","components/App/Loading.js","components/App/NetworkErrorDetector.js","components/App/App.js","serviceWorker.js","index.js","services/crypto/crypto.js","resources/no-image-box-eddie.jpg","resources/trezor-logo-h.png","resources/getting-started/GS-email-ic_80x80.png","resources/getting-started/GS-create-ic_80x80.png","resources/getting-started/GS-launch-ic_80x80.png","services/adex-validator/ewt.js","../external \"Module\"","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","resources/404-no.png","resources/404-yes.png","resources/ramp.svg","resources/wyre.svg","resources/paytrie.svg","resources/transak.svg","resources/changelly.svg","resources/getting-started/GS-fund-ic_80x80.png","resources/getting-started/GS-place-ic_80x80.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png"],"names":["module","exports","__webpack_require__","p","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_GLOBAL_UI","UPDATE_UI_BY_IDENTITY","UPDATE_UI_BY_IDENTITY_AND_SIDE","UPDATE_MEMORY_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","RESET_ALL_NEW_TRANSACTIONS","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","UPDATE_ADVANCED_ANALYTICS","RESET_ANALYTICS","UPDATE_CHANNELS_WITH_BALANCE_ALL","RESET_CHANNELS_WITH_BALANCE_ALL","UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE","RESET_CHANNELS_WITH_OUTSTANDING_BALANCE","UPDATE_DEMAND_ANALYTICS","UPDATE_SELECTED_ITEMS","UPDATE_RESOLVE_ENS_ADDRESS","UPDATE_ANALYTICS_PERIOD","UPDATE_PUBLISHER_RECEIPTS","RESET_SELECTED_ITEMS","UPDATE_ANALYTICS_LAST_CHECKED","UPDATE_TARGETING_ANALYTICS","initialState","account","Account","signin","name","email","password","passConfirm","seed","publicKey","seedCheck","authenticated","newItem","Campaign","audienceInput","version","inputs","devices","apply","temp","useUtmTags","useUtmSrcWithPub","plainObj","AdUnit","addUtmLink","AdSlot","rulesInput","autoSetMinCPM","Audience","Website","currentItem","selectedItems","campaigns","adUnits","slots","items","spinners","ui","global","byIdentity","uiMemory","toasts","confirm","data","nav","side","language","validations","newTransactions","default","web3Transactions","targeting","targetingData","minByCategory","countryTiersCoefficients","identity","ethNetwork","networkId","gasData","wallet","config","relayer","market","validators","analytics","channels","withBalanceAll","withOutstandingBalance","ensAddresses","translations","adexTranslations","lang","translate","val","arguments","length","undefined","_ref","_ref$isProp","isProp","_ref$args","args","_ref$toUpperCase","toUpperCase","key","replace","dirty","translation","Array","isArray","tpl","pattern","RegExp","interpolated","split","map","i","element","isValidElement","cloneElement","every","join","interpolate","a","setLang","lng","updateCfg","current","type","cfg","newCfg","Object","objectSpread","history","persistReducers","newState","state","action","Base","updateObject","item","newValues","objModel","category","value","filterActions","newCollection","collectionId","collection","defineProperty","id","itemType","prop","newCol","removeCollectionProp","_id","Item","removeItem","toRemove","newItems","reduce","currentItems","ipfs","match","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","_ref2","pTxs","status","indexOf","hash","push","filter","tx","addr","toConsumableArray","obj","updateObj","txHash","memoryReducers","timeframe","lastChecked","eventType","metric","timestamp","advanced","demand","receipts","period","newSignin","newIdentity","newWallet","itemId","spinner","types","newToast","toast","added","Date","now","concat","t","onConfirm","onCancel","active","noActionBtns","calledOn","newErrors","errors","hasOwnProperty","updateTx","trackPageView","location","ReactGA","set","page","pathname","search","pageview","createHashHistory","initialize","process","listen","reduxRouterMiddleware","routerMiddleware","persistConfig","storage","localStorage","rootReducer","combineReducers","persist","persistCombineReducers","memory","router","connectRouter","configureStore","middlewares","thunk","store","createStore","compose","applyMiddleware","persistor","persistStore","getState","dispatch","createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","creatArrayOnlyLengthChangeSelector","b","selectRelayerConfig","selectFeeTokenWhitelist","createSelector","feeTokenWhitelist","all","tokens","address","selectRoutineWithdrawTokens","routineWithdrawTokens","selectRoutineWithdrawTokenByAddress","_","_ref3","find","token","selectRoutineWithdrawTokensAddresses","_ref4","selectMainToken","relayerConfig","_ref5","mainToken","selectIdentityRecoveryAddr","_ref6","identityRecoveryAddr","selectGasPriceCap","_ref7","gasPriceCap","selectSaiToken","_ref8","saiAddr","selectMainFeeToken","_ref9","DateUtils","_MomentUtils","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","inherits","createClass","date","clone","startOf","endOf","start","end","isBetween","ammount","unit","add","minutes","hours","weeks","months","years","moment","utcOffset","offset","sign","Math","abs","floor","toString","window","Intl","DateTimeFormat","resolvedOptions","timeZone","unix","locale","localeData","_ref2$locale","dow","doy","defaultLocaleData","getLocaleDate","updateLocale","week","firstDayOfWeek","firstDayOfYear","span","dateUtils","hour","getHours","spanStartHour","withSpanStartHour","setHours","startOfHour","formatString","format","MomentUtils","makeJSDateObject","isMoment","getTime","navigator","toLowerCase","selectAccount","selectChannels","selectAuth","authSig","authType","selectWallet","selectEmail","selectAuthSig","selectWalletAddress","selectAuthType","selectAccountIdentity","selectAccountIdentityAddr","selectAccountStats","stats","selectAccountStatsRaw","_ref10","settings","_ref11","raw","selectAccountStatsFormatted","_ref12","formatted","selectAccountIdentityDeployData","_ref13","relayerData","routineAuthorizationsData","_ref14","_ref14$relayerData","deployData","selectChannelsWithUserBalancesEligible","_ref15","selectChannelsWithUserBalancesAll","_ref16","selectAccountIdentityCurrentPrivileges","_ref17","_ref17$relayerData","currentPrivileges","selectWalletPrivileges","selectAccountIdentityCreatedDate","_ref18","created","selectIdentity","selectEnsAddressByAddr","CREATING_SESSION","QUICK_WALLET_BACKUP","GETTING_OWNER_IDENTITIES","UPLOADING_ACCOUNT_DATA","OPENING_CAMPAIGN","GETTING_CAMPAIGNS_FEES","UPDATING_ACCOUNT_IDENTITY","UPDATING_SLOTS_DEMAND","PRINTING_CAMPAIGNS_RECEIPTS","FETCHING_PUBLISHER_RECEIPTS","CHECKING_METAMASK_AUTH","AUTH_WAITING_TREZOR_ACTION","AUTH_WAITING_ADDRESS_DATA","SYNC_WEB3_DATA","selectSide","selectMemoryUi","selectGlobalUi","selectConfirm","selectToasts","selectSpinners","selectIdentityUi","identityAddr","identitiesUi","selectIdentitySideUi","identityUi","selectCompanyData","companyData","selectUserLastSide","userLastSide","selectSpinnerById","selectWeb3SyncSpinnerByValidateId","validateId","selectRegistrationAllowed","ids","allowRegistration","selectEasterEggsAllowed","allowEasterEggs","selectNewVersionAvailable","newVersionAvailable","selectNewVersionAvailableId","selectPrivilegesWarningAccepted","privilegesWarningAccepted","selectSideSpecificUI","selectHideGettingStarted","hideGettingStarted","selectGettingStartedExpanded","gettingStartedExpanded","selectSelectedCampaigns","selectLoginDirectSide","goToSide","selectInitialDataLoadedByData","dataType","initialDataLoaded","selectInitialDataLoaded","_ref13$initialDataLoa","selectCampaignIdInDetails","campaignId","selectLoginSelectedIdentity","loginSelectedIdentity","selectAnalyticsDataSide","selectIdentitySideAnalyticsTimeframe","_ref16$sideAnalyticsT","sideAnalyticsTimeframe","selectIdentitySideAnalyticsPeriod","_ref17$sideAnalyticsP","sideAnalyticsPeriod","startOfDay","endOfDay","selectWindowReloading","windowReloading","selectLang","selectTranslations","opts","_opts$isProp","_opts$args","_opts$components","components","selectItems","selectItemsByType","selectItemByTypeAndId","selectItemsArrayByType","values","selectCampaigns","selectCampaignById","selectCampaignUnitsById","selectCampaignInDetails","selectCampaignWithAnalyticsById","campaign","clicks","selectCampaignEventsCount","impressions","selectCampaignsArray","selectAdUnits","selectAdUnitById","selectAdUnitsArray","selectAdSlots","adSlots","selectAdSlotsArray","selectAdSlotById","selectWebsites","websites","selectWebsitesArray","selectWebsiteByWebsite","ws","url","parse","hostname","selectAudiences","audiences","selectAudiencesArray","selectAudienceById","selectAudienceByCampaignId","categories","publishers","x","selectSavedAudiences","title","selectWebsitesList","sort","updated","selectCampaignDisplayStatus","humanFriendlyName","selectNewItems","selectNewItemByTypeAndId","selectNewCampaign","CampaignModel","selectNewAdUnit","AdUnitModel","selectNewAdSlot","AdSlotModel","selectNewAudience","AudienceModel","selectNewWebsite","_ref6$Website","formatDateTime","noDateLabel","formatDate","formatTokenAmount","amountString","decimals","pretty","toFixed","utils","formatUnits","commify","parseFloat","slice","formatAddress","joinSymbol","substring","formatNumberWithCommas","formatFloatNumberWithCommas","parts","formatAbbrNum","number","decPlaces","pow","abbrev","size","round","truncateString","string","maxLength","trim","MONTH","YEAR","fillEmptyTime","prevAggr","defaultValue","fillAfterLast","time","interval","step","amount","newAggr","initialTime","endTime","min","m","prevAggrInInterval","lastWithValueTime","newData","isNullValue","entries","slicedToArray","getTimePeriods","callEnd","startCopy","startOfMinute","addMinutes","addHours","getHourSpanStart","addDays","addMonths","getBorderPeriodStart","borderStart","_ref4$next","next","_ref4$startIsLive","startIsLive","minDate","maxDate","direction","limitedStart","isAfter","isBefore","day","startOfWeek","addWeeks","month","startOfMonth","year","startOfYear","addYears","Error","getMinStartDateTimeByTimeframe","TIME_INTERVALS","label","ms","timeAgo","since","intervalTimes","getPeriodLabel","getPeriodDataPointLabel","periodEnd","selectAnalytics","selectTargeting","selectAdvancedAnalytics","selectAnalyticsLastChecked","selectAnalyticsLiveTimestamp","currentDate","withdrawPeriodStart","hourStart","dayStart","weekStart","monthStart","yearStart","selectDemandAnalytics","selectDemandAnalyticsByType","selectTargetingAnalytics","_ref4$targetingData","selectTargetingAnalyticsMinByCategories","_ref5$minByCategory","selectTargetingAnalyticsCountryTiersCoefficients","_ref6$countryTiersCoe","selectVerifiedActiveTargetingAnalytics","targetingAnalytics","bySlotCount","byType","forEach","campaignsEarnedFrom","selectTargetingAnalyticsCurrentlyUsedTypes","u","selectTargetingAnalyticsByType","filterByType","some","includes","selectAdvancedAnalyticsByType","from","c","Set","owner","alexaRank","Map","campaignAnalytics","selectTotalStatsByAdUnits","adUnitId","analyticsByChannel","byChannelStats","acc","curr","reportChannelToAdUnit","selectPublisherStatsByType","publisherStats","selectPublisherStatsByCountry","reportPublisherToCountry","selectPublisherPayStatsByCountry","reportPublisherToCountryPay","selectPublisherStatsAdUnit","reportPublisherToAdUnit","selectPublisherStatsAdUnitPay","reportPublisherToAdUnitPay","selectPublisherStatsAdSlot","reportPublisherToAdSlot","selectPublisherStatsAdSlotPay","reportPublisherToAdSlotPay","selectPublisherAggrStatsByCountry","byCountry","max","total","Number","selectAllAdUnitsInChannels","units","_ref19$adUnits","selectPublisherAdvanceStatsToAdUnit","_ref20","_ref21","impressionsByAdUnit","clicksByAdUnit","impressionsPayByAdUnit","clicksPayByAdUnit","impressionsPay","clicksPay","selectPublisherAdvanceStatsToAdSlot","_ref22","_ref23","impressionsByAdSlot","clicksByAdSlot","impressionsPayByAdSlot","clicksPayByAdSlot","selectPublisherTotalImpressions","_ref24","selectCampaignAnalyticsByChannelStats","_ref25","_ref26","_ref27","analyticsByType","selectCampaignAnalyticsByChannelToCountry","_ref28","_ref29","reportChannelToCountry","selectCampaignAnalyticsByChannelToCountryPay","_ref30","_ref31","reportChannelToCountryPay","selectCampaignAggrStatsByCountry","_ref32","selectCampaignAnalyticsByChannelToAdUnit","_ref33","_ref34","selectAnalyticsDataAggr","_ref35","_ref36","_ref38","liveTimestamp","_analytics$side","_analytics$side$event","_analytics$side$event2","_analytics$side$event3","_analytics$side$event4","aggr","selectTotalImpressions","_ref39","eventCounts","_ref40","selectTotalClicks","_ref41","_ref42","selectTotalMoney","_ref43","eventPayouts","_ref44","selectTotalImpressionsWithPayouts","_ref45","_ref46","_ref47","e","_ref48","selectAverageCPM","_ref49","_ref50","totalMoney","totalImpressions","selectStatsChartData","_ref52","noLastOne","rest","objectWithoutProperties","_ref53","_ref53$data","memo","labels","datasets","_ref51","parseInt","parseValueByMetric","selectChartDatapointsImpressions","_ref54","_ref55","selectChartDatapointsClicks","_ref57","_ref58","selectChartDatapointsPayouts","_ref60","_ref61","selectChartDatapointsCPM","_ref63","_ref64","_ref65","payouts","result","n","selectPublisherReceipts","_ref66","selectPublisherReceiptsPresentMonths","keys","r","selectAnalyticsMinAndMaxDates","setMinutes","dateCreated","activeFrom","_campaign$status","closedDate","selectValidations","selectValidationsById","useStyles","makeStyles","theme","externalIcon","marginLeft","spacing","fontSize","link","display","alignItems","fullWidth","width","Anchor","href","target","children","underline","color","component","className","classes","isExternal","getUrl","linkProps","draggable","rel","style","wordBreak","react_default","createElement","Link","assign","clsx","OpenInNew","ExternalAnchor","anchor_Anchor","fontWeight","CountryTiers","constants","AllCountries","OsGroups","_ref$targetingData","_ref2$minByCategory","_ref3$countryTiersCoe","selectMinTargetingCpm","coefficients","selectTargetingCategoriesByType","mapTargetingDataToPublishers","reachPerMillion","selectTargetingPublishersByType","selectTargetingCategories","selectAllTargetingPublishers","autocompleteLocationsSingleSelect","tiers","ruleValue","countries","extraLabel","group","autocompleteCategoriesMultiSelectIn","cat","IabCategories","wrbshrinkerWebsiteApiV3Categories","autocompleteCategoriesMultiSelectNin","getPublisherExtraDataLabel","publisher","autocompletePublishersMultiSelectIn","pub","JSON","stringify","extraData","autocompletePublishersMultiSelectNin","audienceSources","parameter","applyType","actions","minSelected","extraInfo","anchor_ExternalAnchor","disabledValues","helper","oss","selectAutocompleteAudienceSources","locations","catIn","catNin","pubIn","pubNin","singleValuesSrc","multipleValuesSrc","in","nin","selectAudienceSourcesWithOptions","sourcesData","s","source","selectAudienceValidations","__","___","selectAudienceInputsDataByItem","____","advancedOnly","allSrcsWithOptions","selectedItem","isCampaignAudienceItem","errorParameters","errFields","SOURCES","allSrcs","disabled","selectedPublishersCategories","has","getDisabledValues","selectNewTransactionById","txns","WHITE","BLACK","ACCENT_TWO","primary","main","dark","light","lightest","contrastText","secondary","darkPrimary","darkSecondary","paletteCommon","grey","lightGrey","warning","success","info","error","first","lime","common","white","black","paletteDark","accentOne","accentTwo","divider","fade","background","paper","hover","hoverOpacity","selected","selectedOpacity","disabledOpacity","focus","focusOpacity","activatedOpacity","appBar","text","icon","hint","solid","paletteLight","contrastThreshold","tonalOffset","disabledBackground","tooltipBgColor","palette","typography","fontFamily","defaultTheme","createMuiTheme","darkShadows","shadows","lightShadows","commonTheme","overrides","MuiButton","root","borderRadius","outlined","borderColor","contained","backgroundColor","boxShadow","&:hover","@media (hover: none)","&$focusVisible","&:active","MuiTableCell","head","whiteSpace","MuiPaper","rounded","MuiTooltip","tooltip","pxToRem","arrow","MuiSelect","MuiInputLabel","MuiOutlinedInput","MuiAlert","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","MuiTableFooter","flex","padding","MuiAppBar","colorDefault","MUIDataTablePagination","toolbar","MUIDataTableFilter","maxWidth","MuiGridListTile","MUIDataTableBodyCell","stackedCommon","breakpoints","down","height","borderBottom","MUIDataTable","border","MUIDataTableBody","emptyTitle","defaultThemeWithOverrides","responsiveFontSizes","factor","darkTheme","lightTheme","CountryNames","numericToAlpha2","pricingBondsToUserInputPerMile","helpers","selectCampaignsTableData","archived","_ref$decimals","depositAsset","_item$spec","spec","_item$adUnits","pricingBoundsCPMUserInput","specPricingBounds","firstUnit","to","toReceipt","cpm","pricingBounds","IMPRESSION","minPerImpression","maxPerImpression","media","mediaUrl","mediaMime","depositAmount","fundsDistributedRatio","ctr","receiptReady","receiptAvailable","selectCampaignsMaxImpressions","selectCampaignsMaxClicks","selectCampaignsMaxDeposit","_ref2$decimals","selectAdSlotsTableData","earnings","selectAdUnitsTableData","selectOnImage","selectAudiencesTableData","mapByCountryTableData","impressionsByCountry","clicksByCountry","impressionsAggrByCountry","impressionsPayByCountry","clicksPayByCountry","addEarnings","countryName","percentImpressions","averageCPM","selectPublisherStatsByCountryData","selectCampaignAnalyticsToCountryData","selectPublisherStatsByCountryTableData","selectCampaignAnalyticsToCountryTableData","mapByCountryMapChartData","colorScale","scaleLinear","domain","range","chartData","chartCountriesData","objects","geometries","tooltipElements","properties","fillColor","hoverColor","pressedColor","selectPublisherStatsByCountryMapChartData","selectCampaignAnalyticsToCountryMapChartData","selectBestEarnersTableData","selectCampaignStatsTableData","campaignAudienceInput","imprStats","reportChannelToHostname","clickStats","earnStats","reportChannelToHostnamePay","rules","isBlacklisted","website","selectCampaignStatsMaxValues","channelId","newResult","totalClicks","totalEarnings","maxClicks","maxCTR","maxImpressions","maxEarnings","selectAdUnitsStatsMaxValues","selectPublisherReceiptsStatsByMonthTableData","_ref16$decimals","_i","_Object$entries","_ref19","selectPublisherReceiptsStatsByMonthTotalValues","totalPayouts","selectCampaignDoughnutStats","chartColors","maxDataSets","_Object$keys$sort$red","impressionsData","clicksData","hoverBackgroundColor","borderWidth","BID_STATES","ExchangeConstants","TIMEOUTS","SignatureModes","AUTH_TYPES","AdUnitsTypes","READONLY","METAMASK","signType","GETH","limit","TREZOR","DEMO","GRANT","QUICK","SEED","ETHEREUM_NETWORKS","1","for","5","production","development","UTM_PARAMS","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_EVENT_TYPES","WHERE_YOU_KNOW_US","USER_SIDES","extraLabels","WALLET_ACTIONS_MSGS","_WALLET_ACTIONS_MSGS","message","strong","EXECUTE_ACTIONS","withdraw","privilegesChange","ensChange","openCampaign","selectSlotTypesSourceWithDemands","symbol","dA","BigNumber","avgCPM","dB","gt","index","hasPopularGroup","hasNoDemandGroup","demandIfo","totalVolume","selectVerifiedActiveTypes","verified","typeData","get","byOwner","minSlotCount","revenue","totalEarned","totalRevenue","selectUnitTypesSourceWithRecommendations","verifiedTypes","totoShare","_ref4$revenue","typeRest","share","hasLessPopularGroup","selectMonthsRange","startDate","endDate","diff","selectReceiptMonths","monthsEnd","monthTimestamp","selectFromSource","labelValueMapping","translated","l","selectKnowUsFromSource","selectUserSides","websitesAutocompleteSrc","issues","selectHasCreatedAdUnit","adUnitsArray","selectHasCreatedCampaign","campaignsArray","selectHasConfirmedEmail","_ref$meta","meta","emailConfirmed","selectHasFundedAccount","hasCampaign","identityBalanceMainToken","selectHasCreatedAdSlot","adSlotsArray","hasVerifiedSites","selectHasAdSlotImpressions","selectHas5000Impressions","selectStepsData","hasCreatedAdUnit","hasCreatedCampaign","hasCreatedAdSlot","hasConfirmedEmail","hasFundedAccount","hasImpressions","has5000Impressions","selectLocation","selectLocationQuery","query","selectSearchParams","URLSearchParams","ITEMS_SELECTORS","receipt","SIDES","advertiser","selectDashboardBreadcrumbs","_ref4$pathname","paths","sideDashboard","sideDashboardBC","restBC","prev","selector","bc","restCopy","receiptAt","execute","miscHelpers","hexToRgbaColorString","hex","alpha","substr","hexToDec","h","g","getErrMsg","err","stack","isInt","int","shuffleArray","array","random","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","initial","valueOf","queryParams","encodeURIComponent","getErrorMsg","msg","errMsg","updateSpinner","updateGlobalUi","updateMemoryUi","updateInitialDataLoaded","loaded","updateUiByIdentity","updateIdentitySideUi","addToast","_ref$label","_ref$timeout","timeout","unclosable","anchorOrigin","top","Helper","getGuid","removeToast","toastId","confirmAction","_ref2$confirmLabel","confirmLabel","_ref2$cancelLabel","cancelLabel","_ref2$title","_ref2$text","_ref2$noCancel","noCancel","_ref2$noConfirm","noConfirm","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","abrupt","sent","stop","_x","updateNav","changeLanguage","updateRegistrationAllowed","updateCompanyData","_callee2","_context2","console","_x2","_x3","updateSelectedItems","resetSelectedItems","updateSelectedCampaigns","updateNewVersion","shouldForceRefresh","_callee3","_context3","_x4","_x5","refreshCacheAndReload","_callee5","_context5","caches","then","_callee4","names","_context4","Promise","delete","_x8","reload","_x6","_x7","notifyNewTOS","Button","variant","onClick","open","handleRedirectParams","searchParams","grant","selectedIdentity","updateEasterEggsAllowed","updatePrivilegesWarningAccepted","accepted","setGettingStartedExpanded","expanded","updateIdSideAnalyticsChartPeriod","periodStart","_getTimePeriods","updateAnalyticsPeriodPrevNextLive","_ref10$next","_ref10$live","live","_callee6","_selectAnalyticsMinAn","_selectIdentitySideAn","_context6","_x9","_x10","updateIdSideAnalyticsChartTimeframe","updateWindowReloading","isReloading","contracts","Identity","abi","AdExENSManager","publicResolver","ReverseRegistrar","parentDomain","AdExCore","DAI","Dai","IdentityFactory","ERC20","LocalProvider","startsWith","providers","WebSocketProvider","JsonRpcProvider","getEthersResult","provider","adexCore","coreAddr","Contract","getAdexCore","_selectRelayerConfig3","standard","getMainToken","identityFactory","identityFactoryAddr","getIdentityFactory","MainToken","getToken","getIdentity","localWeb3","localProvider","relayerCfg","getEthers","currentProviderCfg","isProviderRelayerConfigChanged","loadInjectedWeb3","resolve","reject","detectEthereumProvider","ethereum","getMetamaskSelectedAddress","accounts","isMetaMask","request","method","t0","log","connectMetaMask","code","injectedWeb3Provider","Web3Provider","getLocalWeb3Provider","mode","ethereumNetworkId","chainId","getEthereumProviderName","_callee7","_context7","getMetamaskEthereum","_callee8","_context8","isEthAddressERC20","contract","_args","isEthAddress","ethers","ERC20TokenABI","totalSupply","balanceOf","AddressZero","allowance","isConnectionLost","eth","race","setTimeout","getBlockNumber","passwordRegex","validPassword","test","getAddress","isEthAddressZero","isZero","validEthAddress","_ref$addr","nonZeroAddr","nonERC20","_ref$quickCheck","quickCheck","ethAddressZero","ethAddressERC20","freeAdExENS","_ref3$username","username","ensAddress","resolveName","Looper","_this","syncAction","_ref$loopName","loopName","stopOn","clearLoopTimeout","loopTimeout","clearTimeout","syncData","makeStopCheck","startLoop","checkLoop","onSync","LOOP_TIMEOUT","campaignsLoop","Loop","_syncAction","updateUserCampaigns","accountStatsLoop","updateAccountStats","analyticsLoop","updateAccountAnalytics","analyticsLoopCustom","_syncAction3","advancedAnalyticsLoop","_syncAction4","updateAccountAdvancedAnalytics","logOut","skipRedirect","dimension1","dimension2","resetAccount","statsLoop","resetIdentity","resetAllItems","resetAllNewItems","resetAllBids","resetAnalytics","resetChannelsWithBalanceAll","resetChannelsWithOutstandingBalance","resetAllNewTransaction","handleRequesterErrorRes","res","textObj","_unused","statusText","requester","AdexNodeRequester","baseUrl","getAuthHeaders","authSignature","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","route","fetch","_ref4$route","_ref4$queryParams","_ref4$method","body","_ref4$headers","headers","_ref4$authSig","userAddr","_ref4$noCache","authToken","noCache","qp","_authType","demo","getQuery","hdrs","Requester","processResponse","json","getOwnerIdentities","getIdentityData","getRelayerConfigData","executeTx","txnsRaw","signatures","channel","Content-Type","regAccount","knowFrom","userSide","moreInfo","bytecode","baseIdentityAddr","salt","privileges","routineAuthorizationsRaw","getQuickWallet","backupWallet","encryptedWallet","getEmail","IdentityPrivilegeLevel","bondPerActionToUserInputPerMileValue","campaignPut","schemas","isNumberString","validateAddress","validate","isValid","updateValidationErrors","resetValidationErrors","_ref4$err","fields","_ref4$dirty","_ref4$removeAll","removeAll","handleAfterValidation","onValid","onInvalid","validateEmailCheck","emailCheck","validatePassword","validatePasswordCheck","passwordCheck","_x11","validateTOS","_x12","_x13","validateENS","_x14","validateWallet","_callee9","_context9","_x15","_x16","validateIdentityContractOwner","identityContractOwner","_callee10","_context10","_x17","_x18","validateKnowFrom","_callee11","_context11","_x19","_x20","validateUserSide","_callee12","_context12","_x21","_x22","validateMoreInfo","_callee13","_context13","_x23","_x24","validateAccessWarning","_callee14","_context14","_x25","_x26","validateCampaignUnits","_callee15","_context15","_x27","_x28","validateCampaignValidators","_callee16","_context16","feeNum","feeDen","feeAddr","_x29","_x30","validateFees","feesAmountBN","amountToSpendBN","_ref24$errorMsg","errorMsg","_callee17","_selectAccountStatsRa","availableIdentityBalanceMainTokenRaw","_selectAccountStatsFo","availableIdentityBalanceMainTokenFormatted","amountNeeded","_selectMainToken","amountNeededFormatted","_context17","availableIdentityBalanceMainToken","_x31","_x32","validateWithdrawAmount","amountToWithdraw","_callee18","_context18","parseUnits","_x33","validateNumberString","integerOnly","_callee19","_context19","_x34","_x35","validateCampaignAmount","_ref30$pricingBounds","maxDeposit","_callee20","isValidNumberDeposit","isValidNumberMin","isValidNumberMax","checkSpeckBounds","isValidDeposit","isValidMin","isValidMax","msgDeposit","msgMin","msgMax","argsMin","argsMax","argsDeposit","depositBn","minBn","maxBn","_context20","lt","lte","div","_x36","_x37","getCampaignDatesValidation","_ref32$created","errActiveFrom","errWithdrawPeriodStart","validateCampaignDates","_callee21","_getCampaignDatesVali","_context21","_x38","_x39","validateCampaignTitle","_callee22","_context22","Joi","_x40","_x41","validateEthAddress","_ref37","_ref37$nonZeroAddr","_ref37$nonERC","_callee23","_context23","_x42","_x43","validatePrivilegesAddress","_ref40$setAddr","setAddr","_ref40$walletAddr","walletAddr","privLevel","warningAccepted","_callee24","isCurrentAddress","_context24","_x44","_x45","validatePrivLevel","_callee25","_context25","_x46","_x47","validateSchemaProp","schema","_callee26","_context26","_x48","validateEmail","validateNotExisting","_callee27","existing","_context27","_x49","locationAudienceInputError","publishersAudienceInputError","categoriesAudienceInputError","_ref50$apply","devicesAudienceInputError","validateAudience","propName","_callee28","errArgs","_context28","_x50","isVideoMedia","getMediaSize","mime","src","video","document","onloadedmetadata","videoWidth","videoHeight","getVideoSize","image","Image","onload","getImageSize","checkExactishAspect","widthTarget","heightTarget","maxPercentTolerance","targetAspect","aspect","aspectDiff","validateMediaSize","exact","required","tempUrl","mediaWidth","mediaHeight","dontThrow","getSession","signature","typedData","signerAddress","checkSession","skipErrToast","convertItemToJSON","itemToConvert","getAdUnits","postAdUnit","updateAdUnit","getAdSlots","postAdSlot","slot","updateAdSlot","closeCampaignMarket","getCampaigns","statuses","byEarner","byCreator","cacheBrake","statusOnly","updateCampaign","verifyWebsite","websiteUrl","getUserAudiences","putAudience","audience","postAudience","country","genders","Genders","gender","tags","PredefinedTags","tag","custom","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","URL","revokeObjectURL","imageBlob","_ref3$imageName","imageName","formData","FormData","append","uploadImage","getAllItems","onDataUpdated","resAudiences","resUnits","resSlots","userSlots","userPassbackUnits","slotsWithUnits","slotWithUnitsRes","passbackUnits","passbacks","targetUrl","fallbackUnit","updateItems","updateItem","_ref7$action","_ref7$goToTableOnSucc","onSuccess","goToTableOnSuccess","updatedItem","path","marketUpdate","t1","findSourceByTag","cloneItem","response","mediaURL","mediaSize","targets","placeholder","getMediaUrlWithProvider","createObjectURL","call","t2","archiveItem","setCurrentItem","updateCurrentItem","newMeta","addNewTag","addSig","sig","expiryTime","_ref$identity","setItem","getSig","_ref2$addr","_ref2$identity","sigAndTIme","getItem","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","getAddsParams","_ref$from","_ref$to","bundle","showOnTrezor","getAddresses","_ref3$from","_ref3$to","payload","ethereumGetAddress","signTx","params","txProps","txSigned","resolveProperties","hexlify","ethereumSignTransaction","transaction","v","serializeTransaction","sendTransaction","txData","signMessage","_args4","ethereumSignMessage","connect","_provider","_path","Signer","loadFromLocalStorage","saveToLocalStorage","serialized","warn","removeFromLocalStorage","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","derivedKey","getCipherKey","generateSalt","isLegacyCrypto","getRandomMnemonic","randomEntropy","randomBytes","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","walletData","Wallet","fromMnemonic","phrase","privateKey","encrKey","encryptLegacy","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","encrypted","encrypt","decrData","_decrData","_ref4$email","decryptedStr","decr","decryptLegacy","decrypt","t3","createLocalWallet","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","migrateLegacyWallet","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getLocalWallet","getEncrypted","removeLegacyKey","_removeLegacyKey","_ref7$email","_ref7$password","addDataToWallet","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","dataKey","_ref8$dataValue","dataValue","getRecoveryWalletData","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","props","walletInfo","mail","getAllWallets","isWallet","getWalletHash","_getWalletHash","passwordId","dataStr","keccak256","LocalSigner","getWallet","_this$_opts","_wallet","_opts","signetTx","_args5","arrayify","MetaMaskSigner","_signer","_args3","getSigner","_getSigner","signer","_signer2","getTypedDataHash","entry","toUtf8Bytes","valuesHash","schemaHash","solidityKeccak256","getAuthSig","_getAuthSig","MAX_SAFE_INTEGER","_signTx","Transaction","hashHex","splitSig","getMultipleTxSignatures","_getMultipleTxSignatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","getValidatorRequester","getRequesters","leader","follower","validator","getValidatorAuthToken","validatorId","existingAuth","validatorAuthTokens","era","ewt","sendMessage","_authTokens","options","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","authorization","results","authTokens","lastApprovedState","closeCampaign","events","updateTargeting","targetingRules","identityAnalytics","leaderAuth","segmentByChannel","weekHoursSpan","aggregates","timezone","getCurrentTimezone","identityAdvancedAnalytics","timeBasedAnalytics","privilegesNames","valueToKey","tokenAvailableBalance","balance","feeToken","mul","getTotalAccountRevenue","withdrawTokens","revenuePr","balanceMainToken","tokenInMainTokenValue","getWithdrawTokensBalances","getFullBalances","_selectRelayerConfig","balancesCalls","balances","_balances$reduce","totalBalanceInMainToken","mainTokenBalance","tokenContract","available","balanceData","getAddressBalances","_getAddressBalances","calls","getBalance","serializedPath","balanceEth","formatEther","tokensBalances","getAccountStats","_getAccountStats","_ref11$outstandingBal","outstandingBalanceMainToken","_ref11$outstandingBal2","outstandingBalanceAllMainToken","_identity$status","identityContract","privilegesAction","_ref22$","identityWithdrawTokensBalancesBalances","walletPrivileges","deployed","catch","totalOutstandingBalanceMainToken","totalIdentityBalanceMainToken","totalOutstandingBalanceAllMainToken","availableIdentityBalanceAllMainToken","totalIdentityBalanceAllMainToken","walletAddress","walletAuthType","identityAddress","getOutstandingBalance","_getOutstandingBalance","withBalance","bigZero","allOutstanding","amounts","ch","outstanding","outstandingAvailable","getAllValidatorsAuthForIdentity","_getAllValidatorsAuthForIdentity","allValidators","tokenCalls","allTokens","validatorsAuth","_objectSpread2","saiDaiConversion","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","_tokenInMainTokenValue","_selectMainToken2","valueInMainToken","Interface","ScdMcdMigration","ScdMcdMigrationABI","AdExENSManagerInterface","ReverseRegistrarInterface","SCD_MCD_MIGRATION_ADDR","getIdentityDeployData","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","outpace","validUntil","feeTokenAddr","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","withdrawFromIdentity","_withdrawFromIdentity","withdrawTo","getFeesOnly","tokenAddr","toWithdraw","withdrawTx","txnsByFeeToken","fees","mtBalance","maxWithdraw","actualWithdrawAmount","encodeFunctionData","getIdentityTxnsWithNoncesAndFees","amountInMainTokenNeeded","executeAction","getIdentityTxnsTotalFees","totalBN","sub","toGet","breakdownFormatted","processExecuteByFeeTokens","setIdentityPrivilege","_setIdentityPrivilege","identityInterface","tx1","txnsByTokenWithSaiToDaiSwap","daiAddr","_txns$reduce","withdrawAmountByToken","saiWithdrawAmount","addIdentityENS","_addIdentityENS","_ref5$username","tx2","_selectRelayerConfig2","_getIdentityTxnsWithNoncesAndFees","_ref6$amountInMainTok","_ref6$executeAction","_ref6$txns","saiToken","mainTokenWithFees","isDeployed","initialNonce","baseFee","mainTxnsFees","feesForMainTxns","totalAmountInMainTokenNeeded","_ref17$sweepTxns","sweepTxns","_ref17$swapAmountsByT","swapAmountsByToken","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","nonce","toNumber","executeBaseFee","minRecommended","minDeploy","getSweepingTxnsIfNeeded","t4","swapSaiToDaiTxns","swapAmount","t5","t6","_tx$routinesSweepTxCo","routinesSweepTxCount","_tx$extraTxFeesCount","extraTxFeesCount","isSweepTx","isDeployTx","txFeeAmount","addBaseFee","sweepRoutinesFeeAmount","extraFeesAmount","feeAmount","nonIdentityBalanceFeeAmount","feesBreakdown","txWithNonce","getApproveTxns","_getApproveTxns","approveForAddress","approveAmount","approveTxns","swapTx","_getIdentityTxnsTotalFees","_ref9$mainToken","_Object$values$reduce","byToken","totalBreakdown","byTokenFormatted","byFeeToken","txnsCount","sweepTxnsCount","sweepTxnsFeeAmount","deployFee","_feeTokenWhitelist$ke","fee","feeFormatted","txnsFee","_processExecuteByFeeTokens","_ref10$extraData","withdrawOtherTokensFromIdentity","_withdrawOtherTokensFromIdentity","tokenAddress","tokenDecimals","_selectRelayerConfig4","userInputPricingBoundsPerMileToRulesValue","Core","IdentityInterface","IdentityABI","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","OUTSTANDING_STATUSES","Active","Ready","Exhausted","Offline","Unhealthy","Withdraw","GLOBAL_MIN_CPM","GLOBAL_MAX_CPM","EXTRA_PROCESS_TIME","toEthereumChannel","specHash","crypto","createHash","update","digest","Channel","creator","tokenAmount","getReadyCampaign","newCampaign","getValidUntil","input","_ref$divider","userInputToTokenValue","eventSubmission","allow","uids","rateLimit","getWithdrawnPerUserOutstanding","withdrawnPerUser","functions","getChannelsWithOutstanding","_getChannelsWithOutstanding","allChannels","withOutstandingBalanceAll","lastApprovedBalances","lastApprovedSigs","validBalances","_e","_channel$status","bTree","BalanceTree","balanceNum","minPlatform","getChannelsToSweepFrom","amountToSweep","_ref6$withBalance","_withBalance$sort$red","eligible","c1","c2","sum","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","routineAuthTuple","routineOpts","RoutineOps","channelWithdraw","getIdentityRoutineAuthTuple","is41identity","hasValidExecuteRoutines","getSweepChannelsTxns","_getSweepChannelsTxns","channelsToSweep","encodedTxns","toSolidityTuple","getSwapAmountsByToken","swaps","swapsSumInMainToken","swapsByToken","_getSweepingTxnsIfNeeded","needed","_account$stats$raw$id","currentBalanceInUse","sweepData","_getSwapAmountsByToke","amountToSwapInMainToken","openChannel","_openChannel","getMaxFees","readyCampaign","openReady","ethChannel","hasIdentityChannelOpen","identityChannelOpenTx","channelOpenTx","maxAvailable","maxAvailableFormatted","storeCampaign","feesFormatted","closeChannel","_closeChannel","getUnitsStatsByType","_getUnitsStatsByType","unitsByType","unitsByTypeStats","prevStats","channelsByType","totalPerImpression","avgPerImpression","statsByType","VALIDATOR_LEADER_ID","analyticsParams","callsParams","analyticsCampaignsParams","aggrByChannelsSegments","_aggr$sort$reduce","aggregations","currentAggr","currentChannelValue","currentTimeValue","updateAccountAnalyticsThrottled","throttle","feeTokens","accountChanged","timeframeIsLive","allAnalytics","updateAnalyticsLastChecked","updateValidatorAuthTokens","newAuth","_selectStatsChartData","aggrByChannelSegments","isAccountChanged","leading","trailing","getReceiptData","presentMonths","monthsWanted","monthsNeeded","promises","startDateNeeded","endDateNeeded","resolvedPromises","getMonthTimeStamp","updateSlotsDemand","demandAnalytics","updateTargetingData","updateSlotsDemandThrottled","updateTargetingDataThrottled","updateSignin","resetSignin","createAccount","updateAccount","updateChannelsWithBalanceAll","updateChannelsWithOutstandingBalance","hasAuth","accountCheck","updateAccountIdentityData","updatedIdentity","isLimitedVolume","newTokens","createSession","_ref8$identity","deleteLegacyKey","sessionSignature","leaderValidatorAuth","redirectSide","persistUserSide","goTo","getRelayerConfig","isMetamaskMatters","doesItMatter","onMetamaskNetworkChange","onMetamaskAccountChange","accountAddress","_account$wallet","_account$wallet$addre","metamaskAccountCheck","selectedAddress","metamaskNetworkCheck","metamaskChecks","on","hasBackup","makeBackup","walletSalt","walletHash","ensureQuickWalletBackup","_selectWallet","isLocal","loadAccountData","stopAccountDataUpdate","beforeWeb3","updateIdentity","initIdentity","updateWallet","resetWallet","onUploadLocalWallet","event","file","reader","onError","files","FileReader","ev","onerror","abort","onabort","readAsText","updateOwnerIdentities","identityData","ens","lookupAddress","login","_selectIdentity","identityTxData","registerAccount","validateQuickLogin","actualAuthType","identityPrivileges","validateStandardLogin","identityContractAddress","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","validateQuickDeploy","_identityAddr","validateQuickInfo","tosCheck","validateFullInfo","accessWarningCheck","validateContractOwner","updateIdentityWallet","hdWalletAddrPath","hdWalletAddrIdx","handleSignupLink","resolveEnsAddress","checkAuthMetamask","metamaskSigner","connectTrezor","trezorSigner","allAddressesData","addrData","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","getGasPrice","gasPrice","updateNewTransaction","resetNewTransaction","checkNetworkCongestion","showToast","gasPriceCapGwei","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","handleFeesData","stepsId","actionName","feeDataAction","feesData","validatePrivilegesChange","txId","_selectNewTransaction","inputValidations","validation","updateIdentityPrivilege","validateIdentityWithdraw","_selectNewTransaction2","validateIdentityWithdrawAny","_selectNewTransaction3","identityWithdrawAny","identityWithdraw","validateENSChange","_selectNewTransaction4","setIdentityENS","completeTx","competeAction","updateNewItem","resetNewItem","updateNewItemAction","Models","itemClassByName","updateNewSlot","updateNewUnit","updateNewCampaign","updateNewAudience","updateNewWebsite","updateNewItemTarget","_ref8$target","remove","_newValues","_selectNewItemByTypeA","hasIndex","filtered","isInteger","splice","updateTargetRuleInput","_ref10$target","isAudience","newInputs","completeItem","audiencePost","audiencePut","updateAudienceInput","updateField","validateAndUpdateAudience","onUpdateSuccess","updatedAudience","mapCurrentToNewAudience","dirtyProps","saveAudience","newAudience","resItem","marketAdd","validateAudienceBasics","validateAudienceInput","_selectNewAudience","_selectNewAudience$in","addUrlUtmTracking","content","protocol","host","audienceInputToTargetingRules","getSuggestedPricingBounds","updateCampaignOnMarket","toastLabel","toastArgs","toastType","updatedCampaign","updateAllData","selectedCampaign","updateCampaignState","getHumanFriendlyName","isPaused","onlyShowIf","updateCampaignAudienceInput","fieldName","mapCurrentToNewCampaignAudienceInput","initialAudienceInput","itemAudienceInput","_ref11$updateAllData","_selectAccount","stateCampaigns","pauseOrResumeCampaign","currentTargetingRules","newRules","shift","unshift","excludeOrIncludeWebsites","hostnames","exclude","newAudienceInput","_newAudienceInput$inp","_inputs$publishers","newIn","_newIn","newNin","_newNin","_newNin2","roastArgs","tempValidators","validateNewCampaignAdUnits","validateCampaignAudienceInput","_selectNewCampaign","_selectNewCampaign$au","suggestedPricingBounds","validateNewCampaignFinance","_selectMainToken3","_campaign$temp","maxChannelFees","newTemp","rulesPricingBounds","maxDepositFormatted","getCampaignActualFees","_campaign$temp2","totalSpend","totalSpendFormatted","handlePrintSelectedReceiptsAdvertiser","validateAndUpdateCampaign","itemPlain","_selectRoutineWithdra","isMinUpdated","isMaxUpdated","isAudienceUpdated","depositAmountInputString","pricingBoundsCPMUserInputString","pricingBoundsImpressionBnString","_state","_selectMainToken4","_decimals","numStringCPMtoImpression","numStr","getWidAndHightFromType","ItemsConstants","ItemsTypes","AdTypesByValue","AdSizesByValue","sizes","ipfsSrc","Regexes","ipfsRegex","getImgObjectUrlFromExternalUrl","imgUrl","objectUrl","adSlotPost","adUnitPost","adSlotPut","slotRulesInputToTargetingRules","VALIDATOR_FOLLOWER_FEE_NUM","VALIDATOR_FOLLOWER_FEE_DEN","getRuleMinCPMWithValidatorFeeAdded","cpmInput","getFallbackUnit","description","imageIpfs","resUnit","passback","validateNewSlotBasics","_slot$minPerImpressio","_ref4$inputs","suggestedMinCPM","rulesCPMWithValidatorFee","validateNewSlotPassback","_selectNewItemByTypeA2","useFallback","_getWidAndHightFromTy","saveSlot","updateWebsiteVerification","mapCurrentToNewPassback","isDirty","updateSlotPasback","updateMultipleFields","onValidProp","_selectNewItemByTypeA3","validateAndUpdateSlot","slotRulesInput","newSlot","updateMinPerImpression","updateRules","minCPM","rulesCPM","isPassbackUpdated","fallbackData","newUnit","finalValidations","updatedSlot","validateAndSaveNewWebsiteBasics","adUnitPut","validateNewUnitBasics","_selectNewAdUnit","validateNewUnitMedia","_selectNewAdUnit2","_selectNewAdUnit2$tem","saveUnit","validateAndUpdateUnit","updatedUnit","uiActions","validationActions","mediaValidations","itemActions","accountActions","identityActions","bidActions","transactionActions","analyticsActions","newItemsActions","audienceActions","campaignActions","slotActions","unitActions","typeToSeverity","accept","cancel","Toast","_useState","useState","_useState2","setActive","_useState3","_useState4","setToast","useSelector","useEffect","nextToast","vertical","horizontal","close","Snackbar","autoHideDuration","onClose","Alert","severity","react","IconButton","aria-label","Close","Confirm","setOpen","_useSelector","_useSelector$data","_useSelector$data$tit","_useSelector$data$tex","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","withReactRouterLink","Component","Decorated","_React$Component","_getPrototypeOf2","_len","_key","resolveToLocation","createHref","handleClick","_this$props","preventDefault","stopPropagation","_this$props2","forwardedRef","staticContext","toLocation","ref","React","WithRouter","withRouter","forwardRef","createSvgIconCustom","displayName","viewBox","Icon","SvgIcon","pure","muiName","d","sideIndex","0","handleChange","useTabsStyles","indicator","useTabStyles","activeColor","minWidth","&$selected","SideSwitch","tabsClasses","tabClasses","Box","bgcolor","Divider","Tabs","onChange","textColor","Tab","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","ml","mr","CircularProgress","RRListItem","ListItem","RRAdexIconTxt","AdexIconTxt","RRAdexIconTxtDark","AdexIconTxtDark","ETH_SCAN_ADDR_HOST","activeBgColor","navigation","sntPadding","paddingTop","navListRoot","flexDirection","justifyContent","navList","position","left","right","bottom","overflowY","overflowX","sideNavToolbar","paddingLeft","borderTopWidth","borderTopColor","borderTopStyle","&:focus","& .MuiListItemIcon-root","adxLink","sideSwitch","marginBottom","cursor","SideNav","useTheme","routerLocation","AdxIcon","flexGrow","spinners_LoadingSection","Typography","button","dashboard_SideSwitch","List","classnames","ListItemIcon","Dashboard_default","ListItemText","List_default","Fragment","CampaignIcon","Group_default","WebSharp_default","Receipt","MonetizationOn_default","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","alt","marginRight","ButtonMenu","btnStyle","rightIcon","leftIconSrc","anchorEl","setAnchorEl","handleClose","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-haspopup","aria-controls","overflow","textOverflow","Menu","Boolean","getContentAnchorEl","transformOrigin","Children","child","Translate","getAuthLogo","metamaskLogo","trezorLogo","demoLogo","THEMES","MultiThemeContext","createContext","MultiThemeProvider","themeType","setThemeType","setTheme","lastTheme","contextValue","switchTheme","Provider","ThemeProvider","ThemeSwitch","_useContext","useContext","Brightness7Sharp","Brightness6Sharp","styles","_drawerPaper","_content","marginTop","up","paddingRight","flexRow","flexBasis","paddingBottom","&:last-child","toolbarControls","toolbarTitle","flexFlow","drawerPaper","contentInner","margin","breadcrumbElement","RRMenuItem","MenuItem","RRLink","handleDrawerToggle","imgSrc","breadcrumbs","btnMenuLabel","AppBar","Toolbar","Hidden","mdUp","pl","Menu_default","smDown","Breadcrumbs","noWrap","pr","react_jazzicon_lib_default","diameter","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","ExitToApp_default","MAX_IMG_LOAD_TIME","Img","handleToggle","setState","componentWillReceiveProps","nextProps","nextSrc","thisSrc","nextFallback","fallbackSrc","thisMime","displayVideo","setDisplayVideo","fallback","NO_IMAGE","displayImage","setDisplayImage","clearLoadTimeout","loadTimeout","onFail","bind","assertThisInitialized","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","_this2","Fab","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this$props3","allowFullscreen","classNameImg","fullScreenOnClick","isCellImg","_this$state2","wrapper","cellImg","img","fullScreenBtn","circular","withStyles","minHeight","@media(max-width:744px)","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","objectFit","generalTableOptions","rowsPerPage","rowsPerPageOptions","setTableProps","align","textLabels","noMatch","toolTip","columnHeaderTooltip","column","pagination","previous","displayRows","downloadCsv","print","viewColumns","filterTable","reset","titleAria","selectedRows","deleteAria","progress","MUIDataTableEnhanced","columns","mui_datatables_dist_default","elevation","noSearch","download","noDownload","noPrint","selectableRows","rowSelectable","disableToolbarSelect","toolbarEnabled","responsive","IconTooltip","Tooltip","mapStatusIcons","xs","md","ls","_status$name","_status$humanFriendly","Wait","tableHelpers_IconTooltip","HourglassFullSharp","Done","DoneAllSharp","Warning","WarningSharp","Cash","MonetizationOnSharp","Pause","PauseSharp","sliderFilterOptions","_ref$initial","_ref$filterTitle","filterTitle","_ref$stepsCount","stepsCount","_ref$stepsPrecision","stepsPrecision","steps","precision","getSliderStep","filterType","customFilterListOptions","render","filterList","filterPos","filterOptions","logic","rowNumber","filters","formated","gutterBottom","pt","Slider","marks","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","valueLabelFormat","useTableData","selectorArgs","getColumns","setData","setColumns","selectedData","reloadData","useCallback","buttonProgress","ReloadData","handleReload","Refresh","PrintAllReceipts","handlePrintAllReceipts","receiptsSpinner","startIcon","Print","RRIconButton","RRImg","getCols","customBodyRender","sortDirection","enterDelay","Visibility","getOptions","onDownload","buildHead","buildBody","mappedData","customToolbar","customToolbarSelect","displayData","setSelectedRows","selectedIndexes","dataIndex","CampaignsTable","campaignsLoaded","_useTableData","errColor","errChip","& svg","DirtyErrors","_ref$chipsProps","chipsProps","_ref$boxProps","boxProps","dirtyErrors","dirtyErrs","field","getDirtyValidationErrors","Chip","esm_Error","buttonSuccess","fabProgress","zIndex","@keyframes pulse","0%","opacity","transform","50%","100%","pulse","&::before","transition","animation","SaveBtn","_ref$dirtyProps","save","isDisabled","Check","Save","card","mediaRoot","basicInfo","flexWrap","buttonRight","buttonLeft","textField","changesLine","changeChip","editIcon","mediaPropChip","changeControls","changeControlsPaper","itemTabsBar","itemTabsContainer","borderTop","DirtyProps","returnPropToInitialState","react_router","when","Info","onDelete","deleteIcon","UndoOutlined","ChangeControls","hookProps","Collapse","itemCommonNew_DirtyProps","SaveBtn_SaveBtn","dirtyErrors_DirtyErrors","mt","ItemTabsContainer","noBackground","Paper","ItemTabsBar","ItemSpecProp","_ref4$value","helperText","InputProps","TextField","readOnly","ItemTitle","errTitle","setActiveFields","_ref5$activeFields","activeFields","showError","errMsgArgs","endAdornment","InputAdornment","Edit","ItemDescription","errDescription","_ref6$activeFields","multiline","rows","ItemAdType","OpenInNewIconBtn","IconButtonWithRef","itemCommonNew_OpenInNewIconBtn","ItemTargetURL","_ref9$targetUrl","ItemFallbackMediaURL","_ref10$targetUrl","MediaCard","_ref11$mediaUrl","_ref11$mediaMime","_ref11$label","Card","raised","CardMedia","img_Img","ItemWebsite","_ref12$item","_ref12$initialItemSta","initialItemState","_ref12$activeFields","dangerouslySetInnerHTML","__html","ArchiveItemBtn","_ref13$itemType","isIconBtn","labelArgs","ArchiveSharp","useItem","validateAndUpdateFn","seItemPlain","_useState5","_useState6","setInitialItemState","_useState7","_useState8","setFields","_useState9","_useState10","setDirtyProps","_useState11","_useState12","setValidateId","_useState13","_useState14","validateAfterReset","setValidateAfterReset","storeItem","dirtyIndex","findIndex","newDirtyProps","dpValue","dp","dirtyFields","&$active","stepperWrapper","pagePaper","textAlign","@media(max-width:475px)","mobileStepper","buttonProgressWrapper","StepperNav","currentPage","innerWidth","MobileStepper","activeStep","Stepper","alternativeLabel","Step","StepLabel","MaterialStepper","_props$initialPage","initialPage","_props$steps","closeDialog","setCurrentPage","isBack","setIsBack","canReverse","pageProps","Comp","validationFn","completeFn","_page$completeBtnTitl","completeBtnTitle","_page$nextBtnTitle","nextBtnTitle","validationSpinner","stepsSpinner","isValidPage","goToPage","nextStep","canGoBack","goToPreviousPage","goToNextPage","handleComplete","onKeyPressed","onKeyPress","mb","stepperNav","MaterialUiStepper_StepperNav","cancelFunction","FormSteps","stepperSteps","setSteps","_useSelector$step","updatedSteps","MaterialUiStepper","dialogTitle","wordWrap","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","textTransform","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","Transition","Slide","eventMap","NEW_UNIT","NEW_CAMPAIGN","NEW_AUDIENCE","NEW_CAMPAIGN_FROM_AUDIENCE","NEW_SLOT","NEW_WEBSITE","ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN","WithDialogHoc","WithDialog","_props$disableBackdro","disableBackdropClick","iconButton","textButton","fabButton","btnLabelArgs","mini","btnLabel","dialogActions","onBeforeOpen","btnProps","locationWithDash","eventMapFound","ButtonComponent","btnLabelTranslated","second","TransitionComponent","disableTypography","Cancel_default","formControl","groupHeader","menuItem","select","ExtraLabel","Dropdown","_props$label","_props$source","_props$htmlId","htmlId","_props$disabled","_props$error","_props$fullWidth","noSrcLabel","IconComponent","FormControl","InputLabel","htmlFor","Select","selectMenu","ListSubheader","Dropdown_ExtraLabel","InfoSharp","FormHelperText","spinners_InputLoading","AdUnitBasic","typesSources","_useSelector2","errTargetUrl","errType","Grid","container","dropdown_Dropdown","getCroppedImgUrl","crop","fileName","canvas","scaleX","naturalWidth","scaleY","naturalHeight","sourceWidth","sourceHeight","getContext","drawImage","y","finalCanvas","bl","bctx","blur","toBlob","PropBaseComponent","inputRef","OutlinedPropView","py","shrink","disableAnimation","OutlinedInput","notched","inputComponent","inputProps","dropzone","imgDropzonePreview","dropzoneBtn","uploadActions","ImgForm","additionalInfo","imgRef","setImgRef","setCrop","cropMode","setCropMode","imgName","setImgName","setMime","setImgSrc","onLoad","preventBubbling","nativeEvent","stopImmediatePropagation","onRemove","saveCropped","croppedBlob","imgForm","common_OutlinedPropView_OutlinedPropView","alignContent","sm","ReactCrop_min_default","imageStyle","onImageLoaded","Clear","dist_es","onDrop","acceptedFiles","rejectedFiles","uploadInfo","Crop","CloudUpload","AdUnitMedia","errImg","ImgForm_ImgForm","mediaProps","PropRow","LocationOnIcon","WcIcon","ChildCareIcon","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","FullContentMessage","_ref7$msgs","msgs","_ref7$color","imgPreview","imgPreviewWrapper","AdUnitPreview","content_PropRow","CampaignUnits","selectedUnits","allAdUnits","allAdUnitsArray","hasAdUnits","Tables_AdUnitsTable","handleSelect","selectedItemsIds","noClone","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange","iconColor","onIconClick","onLiveClick","onNextClick","NavigateNextRounded","Update","DateTimePicker","calendarIcon","onBackClick","_ref2$InputProps","roundHour","DateTimePicker_CalendarIconAdor","startAdornment","NavigateBeforeRounded","datepickerContrastInput","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","_ref3$InputProps","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","getTotalImpressions","dep","minBound","maxBound","CampaignFinance","invalidFields","_temp$suggestedPricin","errDepAmnt","errMin","errMax","errFrom","errTo","updatePricingBoundsImpression","inputValue","newPricingBounds","impression","itemCommonNew_ItemSpecProp","common_DateTimePicker_DateTimePicker","emptyLabel","inputVariant","disablePast","FormGroup","row","FormControlLabel","control","Checkbox","checked","NewItems_CampaignTargetingRules","WalletAction","FeesBreakdown","_ref2$breakdownFormat","ExpansionPanel","square","ExpansionPanelSummary","expandIcon","ExpandMoreSharp","disablePadding","dense","subheader","AudiencePreview","_ref$audienceInput","_audienceInput$locati","subHeader","_audienceInput$catego","_audienceInput$publis","_audienceInput$device","CampaignFormPreview","feesSpinner","openingSpinner","networkCongested","setNetworkCongested","_useSelector$targetin","_useSelector$audience","_useSelector$temp","_ref$IMPRESSION","_audienceInput$inputs","_checkNetwork","checkNetwork","FormsCommon_WalletAction","AlertTitle","FormsCommon_FeesBreakdown","includeIncentivized","disableFrequencyCapping","limitDailyAverageSpending","containers_AudiencePreview_AudiencePreview","StatusIcon","CheckSharp","ErrorSharp","createFilterOptions","AutocompleteWithCreate","initialValue","changeOnInputUpdate","setValue","Autocomplete","onInputChange","selectOnFocus","getLimitTagsText","more","limitTags","groupBy","option","getOptionLabel","renderOption","freeSolo","renderInput","multiple","errorText","onInit","hideSelectedOnDisable","disableCloseOnSelect","_ref2$disabledSrcValu","disabledSrcValues","enableCreate","srcValue","getOptionDisabled","getOptionSelected","opt","Autocomplete_ExtraLabel","renderTags","getCustomizedTagProps","AdSlotBasic","websitesSrc","adTypesSource","_newItem$title","_newItem$description","_newItem$website","_newItem$type","_rulesInput$inputs","allowAdultContent","errWebsite","Autocomplete_AutocompleteWithCreate","AdSlotMedia","_temp$useFallback","errFallbackUrl","Switch","AudienceBasic","slider","markLabel","parameterIcon","PublicSharp","LocalOfferSharp","WebAssetSharp","os","ComputerSharp","browsers","esm_WebSharp","DevicesOtherSharp","MoreHorizSharp","Sources","_ref$source","_ref$target","actionType","currentApply","getApply","autocomplete_Autocomplete","openOnClick","_objectSpread3","getMultipleActionsUsedValues","currentAction","Targets","_ref3$source","_ref3$extraInfo","_ref3$target","applyValue","RadioGroup","_clsx","Radio","NewTargetingRules_Sources","_clsx3","NewTargetingRules","tabIndex","setTabIndex","scrollButtons","indicatorColor","NewTargetingRules_Targets","getIssue","issue","issueChip","copyBtn","RenderIssue","ALL_ISSUES","SLOT_ISSUE_BLACKLISTED","LooksOneSharp","shortLabel","SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED","LooksTwoSharp","SLOT_ISSUE_SOMEONE_ELSE_VERIFIED","Looks3Sharp","WebsiteVerifyBtn","lastUpdated","canUpdate","my","RefreshSharp","WebsiteIssues","asKeyWords","tryAgainBtn","site","defaultIssues","WebsiteIssues_WebsiteVerifyBtn","_getIssue","interactive","WebsiteIssuesLegend","WebsiteDSNRecord","dnsRecord","subtitle","copy","FileCopySharp","SlotFallback","AdSlotPreview","typeDemand","_temp$categories","hasIssues","showDnsRecord","AdSlotPreview_SlotFallback","WebsitePreview","CampaignTargetingRules","items_NewTargetingRules","AudienceRules","NewUnitStepsWithDialog","stepper_FormSteps","validateIdBase","AdUnitFormPreview","imgLabel","noDefaultImg","itemModel","NewUnitDialog","copyProps","darkerBackground","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","imgAdditionalInfo","NewCampaignDialog","NewCampaignFromAudience","NewSlotStepsWithDialog","descriptionHelperTxt","NewSlotDialog","NewAudienceWithDialog","skipRules","NewAudiencePreview","NewAudienceDialog","NewWebsiteWithDialog","WebsiteBasic","NewWebsiteDialog","ImgComponent","AdUnitsTable_RRIconButton","NewItems_NewCloneUnitDialog","itemCommonNew_ArchiveItemBtn","onRowsSelect","rowsSelected","AdUnitsTable","_props$selected","itemsLoaded","setSelectorArgs","allRowsSelected","AdSlotsTable_RRImg","AdSlotsTable_RRIconButton","AdSlotsTable","RRTypography","setCellProps","setCellHeaderProps","AudiencesTable_RRIconButton","VisibilitySharp","NewItems_NewCampaignFromAudience","AudiencesTable","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","tooltips","cornerRadius","merge","defaults","CampaignStatsDoughnut","_ref$maxDataSets","_ref$chartColors","react_chartjs_2_es","legend","callbacks","datasetIndex","tableMeta","rowData","IncludeOrExcludeWebsitesBtn","_ref2$hostnames","endIcon","WebsitesActions","_ref3$hostnames","lg","CampaignStatsBreakdownTable_IncludeOrExcludeWebsitesBtn","BlockSharp","actionData","CampaignStatsBreakdownTable_WebsitesActions","CampaignStatsBreakdownTable","isActive","canSendMsgs","allowActions","dottedDivider","solidDevider","breakdownTable","breakAll","pageBreak","pageBreakAfter","a4","PublisherReceiptTpl","monthBreakdown","_useSelector3","companyName","firstLastName","toHexString","isFinite","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","RRButton","G404","PageNotFound","goToTxt","goToPath","skipGoToButton","justify","PageNotFound_G404","IMG_404_1","IMG_404_2","CampaignReceiptTpl","campaignBreakdown","page_not_found_PageNotFound","CompanyDetails","invoice","useRef","useParams","selectedCampaigns","selectedByPropsOrParams","receiptsAdvertiser","setStartDate","setEndDate","setDirty","dates","validateStartDate","validateEndDate","startDateError","endDateError","monthMappingStartPeriod","setDate","monthMappingEndPeriod","fetchingPublisherReceiptsSpinner","setReceipts","Receipt_CompanyDetails","react_to_print_lib_default","pageStyle","trigger","DateRangeSharp","GetApp","showEarnings","StatsByCountryTable","noViewColumns","MapChart","setContent","index_umd","data-tip","projection","projectionConfig","scale","maxZoom","geography","_ref2$geographies","geographies","geo","_geo$properties","rsmKey","onMouseEnter","onMouseLeave","stroke","outline","pressed","index_es","TargetingRulesEdit","stepTitle","EditCPM","actionValue","valuePerAction","updatedValue","_ref2$activeFields","CampaignBasic","_ref4$advanced","displayStatus","pauseAction","campaignPricingBounds","cpmMin","cpmMax","closeSpinner","pauseSpinner","itemCommonNew_MediaCard","_getCloseCampaignsFee","deposit","totalFees","feesPercent","nonDistributedFunds","feesToPay","percent","toPay","nonDistributed","getCloseCampaignsFees","StopSharp","StarSharp","itemCommonNew_ItemTitle","CampaignEdits_EditCPM","& > *","CampaignAudience","NewItems_NewAudienceDialog","commonDsProps","lineTension","pointRadius","pointHitRadius","FONT","DefaultLabel","SimpleStatistics","data1","data2","data3","data4","_ref2$data1Active","data1Active","_ref2$data2Active","data2Active","_ref2$data3Active","data3Active","_ref2$data4Active","data4Active","dataSynced","_ref2$defaultLabels","defaultLabels","_ref2$options","_ref2$xLabel","xLabel","_ref2$y1Label","y1Label","_ref2$y2Label","y2Label","_ref2$y3Label","y3Label","_ref2$y4Label","y4Label","_ref2$y1Color","y1Color","_ref2$y2Color","y2Color","_ref2$y3Color","y3Color","_ref2$y4Color","y4Color","windowSize","hasWindow","getWindowSize","innerHeight","setWindowSize","onResize","addEventListener","removeEventListener","useWindowSize","chartHeight","Chart","pluginService","register","beforeDraw","chart","ctx","_active","controller","tooltipPosition","chartScalesy1","scales","topY","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","restore","yAxisID","hidden","pointBackgroundColor","linesOptions","layout","maintainAspectRatio","intersect","titleFontSize","bodyFontSize","bodyFontFamily","titleFontFamily","xPadding","yPadding","bodySpacing","caretSize","displayColors","yLabel","xAxes","gridLines","drawBorder","drawTicks","scaleLabel","labelString","ticks","autoSkip","maxTicksLimit","maxRotation","callback","yAxes","beginAtZero","stepSize","px","simplified_DefaultLabel","useStylesArrow","popper","&[x-placement*=\"bottom\"] $arrow","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","borderStyle","ArrowTooltip","_useStylesArrow","_React$useState","_React$useState2","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","enabled","_ref$bgColor","bgColor","_ref2$bgColor","infoCard","linkCard","&:hover, &:focus","visibilityIcon","StatsCard","explain","dataVisible","VIcon","VisibilityOff","dayWrapper","customDayHighlight","nonCurrentMonthDay","highlightNonCurrentMonthDay","highlight","firstHighlight","extend","borderTopLeftRadius","borderBottomLeftRadius","endHighlight","borderTopRightRadius","borderBottomRightRadius","dayDisabled","pointerEvents","DatePicker","_Component","_this$props$InputProp","esm_DatePicker","DatePicker_CalendarIconAdor","dayIsFuture","DatePicker_DatePicker","PeriodDatePicker","renderDay","selectedDate","dayInCurrentMonth","_clsx2","dateClone","selectedDateClone","dayIsBetween","isWithinInterval","isFirstDay","isSameDay","isLastDay","wrapperClassName","dayClassName","shouldDisableDate","views","useKeyPress","targetKey","keyPressed","setKeyPressed","downHandler","upHandler","timeoutMap","timeFrames","tf","getMetrics","getDefaultLabels","DatePickerSwitch","_ref2$period","labelFunc","minutesStep","infoStatsContainer","dashboardCardBody","cardIcon","datePicker","BasicStats","SPACE","ARROW_LEFT","ARROW_RIGHT","isAuth","uiSide","setLoop","metrics","setMetrics","allChannelsLoaded","advAnalyticsLoaded","setData1Active","setData2Active","setData3Active","setData4Active","goNext","goPrev","goLive","BasicStats_DatePickerSwitch","disableFuture","maxDateMessage","minDateMessage","strictCompareDates","DashboardStats_StatsCard","Mouse","esm_MonetizationOn","Equalizer","simplified_SimpleStatistics","CampaignStatsByTimeframe","_useItem","dataLoaded","_item$status","itemCommonNew_ItemTabsBar","itemCommonNew_ChangeControls","itemCommonNew_ItemTabsContainer","CampaignBasic_CampaignBasic","CampaignAudience_CampaignAudience","order","Tables_CampaignStatsBreakdownTable","campaigns_CampaignStatsDoughnut","map_MapChart","Tables_StatsByCountryTable","CampaignStatsByTimeframe_CampaignStatsByTimeframe","Receipt_Receipt","AdvertiserStats","imgProps","BestEarnersTable","_props$selector","_props$title","PublisherStats","Tables_BestEarnersTable","Unit","itemCommonNew_ItemDescription","itemCommonNew_ItemAdType","itemCommonNew_ItemTargetURL","PassbackEdit","SlotAdvancedRules","_ref2$item","SlotEdits","SlotBasic","_hookProps$validation","itemCommonNew_ItemFallbackMediaURL","SlotEdits_SlotEdits","SlotEdits_SlotAdvancedRules","itemCommonNew_ItemWebsite","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","integrationCode","alignSelf","IntegrationCode","_ref$slot","isEmailConfirmed","publisherAddr","whitelistedTokens","whitelistedType","randomize","marketSlot","iframeStr","onCopy","Slot","SlotBasic_SlotBasic","IntegrationCode_IntegrationCode","_useItem$item","Audience_TargetingRulesEdit","list","inline","Websites","disableSticky","secondaryTypographyProps","ListItemSecondaryAction","WithdrawFromIdentity","syncSpinner","_useSelector4","errAmount","errAddr","errFees","WithdrawAnyTokenFromIdentity","errTokenAddress","errTokenDecimals","PRIV_LEVELS_SRC","SeAddressPrivilege","warningMsg","setAddrWarning","errPrivLvl","SetAccountENSPage","errUsername","IdentityWithdrawPreview","SetPrivilegePreview","SetENSPreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreview","previewWarnMsgs","waitingForWalletAction","_useSelector2$feesDat","_useSelector2$errors","classNameLeft","classNameRight","Error_default","Warning_default","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","previews_SetENSPreview","FormStepsWithDialog","txCommon","WithdrawTokenFromIdentity","saveBtnLabel","SetIdentityPrivilege","WithdrawAnyTokenFromIdentityPage","SetAccountENS","VALIDATOR_LEADER_URL","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","AccountItem","actionBtn","advancedList","iconBtnLeft","infoLabel","AccountPrivilageItem","currUserPrivileges","canMakeTx","privColors","AccountInfo_AccountItem","VpnKey","Lock","transactions_SetIdentityPrivilege","identityAvailable","AccountInfo","_useSelector$authType","identityEnsName","setExpanded","transactions_SetAccountENS","AccountInfo_RRButton","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","heading","transactions_WithdrawAnyTokenFromIdentity","userSelect","infoGrid","infoTitle","popupCenter","w","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","documentElement","clientWidth","screen","clientHeight","systemZoom","availWidth","newWindow","RAMP_HOST_API_KEY","TRANSAK_API_KEY","TRANSAK_ENV","commonGAEventProps","fiatProvidersDetails","accountId","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","hostApiKey","domNodes","overlay","show","openOnRampNetwork","RAMP_LOGO","imgAlt","feeInfo","limitInfo","currencies","dest","referenceId","destCurrency","openWyre","WYRE_LOGO","rightSideLabel","openPayTrie","PAYTRIE_LOGO","transak","transakSDK","apiKey","environment","cryptoCurrencyList","defaultCryptoCurrency","disableWalletAddressForm","themeColor","redirectURL","hostURL","widgetHeight","widgetWidth","init","ALL_EVENTS","EVENTS","TRANSAK_ORDER_SUCCESSFUL","orderData","openTransak","TRANSAK_LOGO","cryptoProvidersDetails","CHANGELLY_LOGO","ProviderListItem","disableElevation","Providers","providersDetails","disableGutters","Ramp_ProviderListItem","FiatProviders","Ramp_Providers","CryptoProviders","TopUp","esm_FileCopy","pb","Ramp_FiatProviders","Ramp_CryptoProviders","getChangellyIframe","TopUpChangelly","widgetIframeHtml","useColorlibStepIconStyles","completed","star","ColorlibConnector","DEFAULT_SIZE","line","backgroundSize","LINES_WIDTH","StepConnector","ColorlibStepIcon","backgroundImage","CheckCircle","createAdUnitTutorial","fundAccountTutorial","launchFirstCampaign","placeAdSlot","stepsPlace","stepsIntegrate","mobile","stepper","instructions","expansionPanel","& .MuiExpansionPanelSummary-expandIcon","checkmark","getSteps","contentCompleted","EmailEddie","check","CreateEddie","tutorial","FundEddie","LaunchEddie","PlaceEddie","GettingStarted","stepsData","isGettingStartedHidden","setActiveStep","sideSteps","currentStep","indexOfFirstIncompleteStep","advertiserStep","publisherStep","esm_ExpandMore","CheckCircleOutline","ExpansionPanelDetails","nextButton","KeyboardArrowRight","backButton","KeyboardArrowLeft","nonLinear","connector","StepButton","StepIconComponent","StepIconProps","Campaigns","NewItems_NewCampaignDialog","Add","Tables_CampaignsTable","AdUnits","AdSlots","NewItems_NewSlotDialog","Tables_AdSlotsTable","Audiences","Tables_AudiencesTable","NewItems_NewWebsiteDialog","Websites_Websites","Dashboard","mobileOpen","setMobileOpen","showTxPrivLevelWarning","_updateInitialData","updateInitialData","drawer","dashboard_SideNav","TopBar","Drawer","anchor","ModalProps","keepMounted","implementation","signinContainer","backgroundRepeat","backgroundPosition","require","buttons","adxVersion","adexLogoTop","logo","dialogPaper","noBg","backdrop","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","auth","confirmLogout","toExecute","AuthSelect_RRButton","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","&:first-child","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","AddressSelect","addresses","waitingAction","actionWaitingLabel","selectLabel","AuthMetamask","_useSelector$wallet","installingMetamask","setInstallingMetamask","isOpera","opr","opera","userAgent","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","waitingAddrsData","ethereumProvider","setEth","onfocus","tabBox","METAMASK_IMG","METAMASK_DL_IMG","metamaskLAbel","AuthTrezor","_useSelector$addresse","waitingTrezorAction","AuthCommon_AddressSelect","TREZOR_DL_IMG","AuthMethod","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","knowFromSource","userSides","QuickInfo","sessionSpinner","walletMsgs","FulInfo","_identity$wallet","QuickLogin","getIdentitiesForDropdown","FullLogin","ownerIdentities","finalValidationQuick","finalValidationStandard","validateOwner","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","esm_extends","ImportantNotifications","_ref$severity","_ref$message","_ref$title","_ref$action","ConnectedCreateQuickIdentity","JustDialog","final","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","ConnectedRoot","LogoDark","Logo","PrivateRoute","other","handleLegacyWallet","showNotification","_initialChecks","initialChecks","Root_PrivateRoute","buildMeta","currentVersion","currentTOS","tosVersion","CacheBuster","cache","latestVersion","latestTOS","Loading","DetectNetworkError","problemDetected","setProblemDetected","testAdBlock","SignalCellularConnectedNoInternet0BarSharp","onBeforeLift","App","onReload","App_MultiThemeProvider","CssBaseline","NetworkErrorDetector","useUtils_cfb96ac9","es","integration_react","connected_react_router_esm","App_Root","toast_Toast","confirm_Confirm","ReactDOM","components_App_App","getElementById","serviceWorker","ready","registration","unregister","getKeyHash","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","iv","cipher","encr","createCipheriv","Buffer","textParts","encryptedText","decipher","decrypted","createDecipheriv","crypted","createCipher","dec","createDecipher","HEADER","base64","encode","alg","__webpack_exports__","payloadEncoded","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","verifyMessage","decode","Module"],"mappings":"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","file":"static/js/main.9dc537dd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.fb95f74b.png\";","export const ADD_ITEM = 'ADD_ITEM'\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\nexport const DELETE_ITEM = 'DELETE_ITEM'\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\nexport const UPDATE_GLOBAL_UI = 'UPDATE_GLOBAL_UI'\nexport const UPDATE_UI_BY_IDENTITY = 'UPDATE_UI_BY_IDENTITY'\nexport const UPDATE_UI_BY_IDENTITY_AND_SIDE = 'UPDATE_UI_BY_IDENTITY_AND_SIDE'\nexport const UPDATE_MEMORY_UI = 'UPDATE_MEMORY_UI'\nexport const ADD_TOAST = 'ADD_TOAST'\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\nexport const UPDATE_NAV = 'UPDATE_NAV'\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\nexport const UNIT_PLACE_BID = 'PLACE_BID'\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\nexport const RESET_ALL_NEW_TRANSACTIONS = 'RESET_ALL_NEW_TRANSACTIONS'\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\nexport const RESET_WALLET = 'RESET_WALLET'\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\nexport const UPDATE_ADVANCED_ANALYTICS = 'UPDATE_ADVANCED_ANALYTICS'\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\nexport const UPDATE_CHANNELS_WITH_BALANCE_ALL =\n\t'UPDATE_CHANNELS_WITH_BALANCE_ALL'\nexport const RESET_CHANNELS_WITH_BALANCE_ALL = 'RESET_CHANNELS_WITH_BALANCE_ALL'\nexport const UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE =\n\t'UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE'\nexport const RESET_CHANNELS_WITH_OUTSTANDING_BALANCE =\n\t'RESET_CHANNELS_WITH_OUTSTANDING_BALANCE'\nexport const UPDATE_DEMAND_ANALYTICS = 'UPDATE_DEMAND_ANALYTICS'\nexport const UPDATE_SELECTED_ITEMS = 'UPDATE_SELECTED_ITEMS'\nexport const UPDATE_RESOLVE_ENS_ADDRESS = 'UPDATE_RESOLVE_ENS_ADDRESS'\nexport const UPDATE_ANALYTICS_PERIOD = 'UPDATE_ANALYTICS_PERIOD'\nexport const UPDATE_PUBLISHER_RECEIPTS = 'UPDATE_PUBLISHER_RECEIPTS'\nexport const RESET_SELECTED_ITEMS = 'RESET_SELECTED_ITEMS'\nexport const UPDATE_ANALYTICS_LAST_CHECKED = 'UPDATE_ANALYTICS_LAST_CHECKED'\nexport const UPDATE_TARGETING_ANALYTICS = 'UPDATE_TARGETING_ANALYTICS'\n","import { AdUnit, AdSlot, Campaign, Account, Audience } from 'adex-models'\n\nlet initialState = {\n\taccount: new Account(),\n\tsignin: {\n\t\tname: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\tpassConfirm: '',\n\t\tseed: '',\n\t\tpublicKey: '',\n\t\tseedCheck: [],\n\t\tauthenticated: false,\n\t},\n\tnewItem: {\n\t\tCampaign: new Campaign({\n\t\t\taudienceInput: { version: '1', inputs: { devices: { apply: 'allin' } } },\n\t\t\ttemp: { useUtmTags: true, useUtmSrcWithPub: true },\n\t\t}).plainObj(),\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\n\t\tAdSlot: new AdSlot({\n\t\t\trulesInput: { version: '1', inputs: { autoSetMinCPM: false } },\n\t\t}).plainObj(),\n\t\tAudience: new Audience({\n\t\t\tinputs: { version: '1', devices: { apply: 'allin' } },\n\t\t}).plainObj(),\n\t\tWebsite: {},\n\t},\n\tcurrentItem: {},\n\tselectedItems: {\n\t\tcampaigns: [],\n\t\tadUnits: [],\n\t\tslots: [],\n\t},\n\titems: {\n\t\tCampaign: {},\n\t\tAdUnit: {},\n\t\tAdSlot: {},\n\t\tWebsite: {},\n\t\tAudience: {},\n\t},\n\tspinners: {},\n\tui: {\n\t\tglobal: {},\n\t\tbyIdentity: {},\n\t},\n\tuiMemory: {},\n\ttoasts: [],\n\tconfirm: {\n\t\tdata: {},\n\t},\n\tnav: {\n\t\tside: '',\n\t},\n\tlanguage: 'en-US',\n\tvalidations: {},\n\tnewTransactions: {\n\t\tdefault: {},\n\t},\n\tweb3Transactions: {},\n\ttargeting: {\n\t\ttargetingData: [],\n\t\tminByCategory: {},\n\t\tcountryTiersCoefficients: {},\n\t},\n\tidentity: {},\n\tethNetwork: {\n\t\tnetworkId: null,\n\t\tgasData: {},\n\t},\n\twallet: {},\n\tconfig: {\n\t\trelayer: {},\n\t\tmarket: {},\n\t\tvalidators: {},\n\t},\n\tanalytics: {},\n\tchannels: {\n\t\twithBalanceAll: {},\n\t\twithOutstandingBalance: [],\n\t},\n\tensAddresses: {},\n}\n\nexport default initialState\n","import adexTranslations from 'adex-translations'\nimport { removeTags } from 'helpers/sanitizer'\nimport { isValidElement, cloneElement } from 'react'\n\nconst translations = adexTranslations()\n\nlet lang = 'en-US'\n\nconst interpolate = (tpl, args) => {\n\tif (typeof tpl !== 'string') {\n\t\treturn ''\n\t}\n\n\tconst pattern = new RegExp(/\\${(\\w+)}/, 'gi')\n\tconst parts = tpl.split(pattern)\n\n\tconst interpolated = parts.map((p, i) => {\n\t\tconst element = args[p] || p\n\t\tif (isValidElement(element) && !element.key) {\n\t\t\tconst withKey = cloneElement(element, { key: i })\n\n\t\t\treturn withKey\n\t\t}\n\n\t\treturn element\n\t})\n\n\tif (interpolated.every(i => typeof i === 'string' || typeof i === 'number')) {\n\t\treturn interpolated.join('')\n\t}\n\n\treturn interpolated\n}\n\nexport const translate = (\n\tval = '',\n\t{ isProp = false, args = [''], toUpperCase = false } = {},\n\tlanguage = lang\n) => {\n\tlet key = val + ''\n\tif (isProp) {\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\n\t}\n\tif (toUpperCase) {\n\t\tkey = key.toUpperCase()\n\t}\n\n\tkey = key.toUpperCase()\n\n\tlet translation = removeTags(translations[language][key] || val)\n\n\tif (args.length && Array.isArray(args)) {\n\t\tconst translatedArgs = args.map(a => {\n\t\t\tif (typeof a === 'string') {\n\t\t\t\treturn translations[language][a] || a\n\t\t\t} else {\n\t\t\t\treturn a\n\t\t\t}\n\t\t})\n\n\t\ttranslation = interpolate(translation, translatedArgs)\n\t}\n\n\treturn translation\n}\n\n// TODO: fix that\nexport const setLang = lng => {\n\tlang = lng\n}\n","export const removeTags = dirty => {\n\tif (!dirty || typeof dirty !== 'string') return ''\n\n\treturn (\n\t\tdirty\n\t\t\t// Replace <strong>, <em>, <br>, <u>, <b> and <i> with {strong}, etc...\n\t\t\t.replace(/<(\\/?strong|em|br|[ubi])>/gi, '{{$1}}')\n\t\t\t// Strip any remaining HTML tags\n\t\t\t.replace(/<(?:.|\\n)*?>/gm, '')\n\t\t\t// Replace {strong} ... with <strong> ...\n\t\t\t.replace(/{{(\\/?strong|em|br|[ubi])}}/gi, '<$1>')\n\t)\n}\n","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nconst updateCfg = (current, type, cfg) => {\n\tconst newCfg = { ...current }\n\tnewCfg[type] = { ...cfg }\n\treturn newCfg\n}\n\nexport default function uiReducer(state = initialState.config, action) {\n\tswitch (action.type) {\n\t\tcase UPDATE_RELAYER_CFG:\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { createHashHistory } from 'history'\nimport ReactGA from 'react-ga'\n\nconst trackPageView = location => {\n\tReactGA.set({ page: location.pathname + location.search })\n\tReactGA.pageview(location.pathname + location.search)\n}\n\nconst initGa = history => {\n\tReactGA.initialize(process.env.GA_CODE, {\n\t\t// debug: true,\n\t})\n\ttrackPageView(history.location)\n\thistory.listen(trackPageView)\n}\nconst history = createHashHistory()\ninitGa(history)\n\nexport default history\n","import account from './accountReducer'\nimport signin from './signinReducer'\nimport identity from './identityReducer'\nimport wallet from './walletReducer'\nimport items from './itemsReducer'\nimport newItem from './newItemsReducer'\n// import currentItem from './currentItemsReducer'\nimport spinners from './spinnersReducer'\nimport ui from './uiReducer'\nimport uiMemory from './uiMemoryReducer'\nimport toasts from './toastsReducer'\nimport confirm from './confirmReducer'\nimport nav from './navReducer'\nimport language from './languageReducer'\nimport validations from './validateItemsReducer'\nimport newTransactions from './newTransactionsReducer'\nimport web3Transactions from './web3TransactionsReducer'\nimport targeting from './targetingReducer'\nimport config from './configReducer'\nimport analytics from './analyticsReducer'\nimport channels from './channelsReducer'\nimport selectedItems from './selectedItemsReducer'\nimport ensAddresses from './ensReducer'\nimport { filterActions } from 'redux-ignore'\nimport * as types from 'constants/actionTypes'\n\nexport const persistReducers = {\n\taccount,\n\tui, //: filterActions(ui, [types.UPDATE_UI]),\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\n\tlanguage,\n\tweb3Transactions,\n\ttargeting,\n\tconfig,\n\tensAddresses,\n}\n\nexport const memoryReducers = {\n\tuiMemory,\n\tchannels,\n\tanalytics,\n\tsignin,\n\tidentity,\n\twallet,\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\n\ttoasts,\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\n\tvalidations,\n\tselectedItems,\n\tnewTransactions,\n}\n","import {\n\tCREATE_ACCOUNT,\n\tRESET_ACCOUNT,\n\tUPDATE_ACCOUNT,\n} from '../constants/actionTypes'\nimport initialState from 'store/initialState'\nimport { Base, Account } from 'adex-models'\n\nexport default function accountReducer(state = initialState.account, action) {\n\tlet newState\n\tlet newAccount\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase CREATE_ACCOUNT:\n\t\t\tnewAccount = { ...action.account }\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase RESET_ACCOUNT:\n\t\t\tnewAccount = initialState.account\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase UPDATE_ACCOUNT:\n\t\t\tnewAccount = Base.updateObject({\n\t\t\t\titem: newState,\n\t\t\t\tnewValues: { ...action.newValues },\n\t\t\t\tobjModel: Account,\n\t\t\t})\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_GLOBAL_UI,\n\tUPDATE_UI_BY_IDENTITY,\n\tUPDATE_UI_BY_IDENTITY_AND_SIDE,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function uiReducer(state = initialState.ui, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_UI_BY_IDENTITY:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.byIdentity = { ...newState.byIdentity }\n\t\t\tnewState.byIdentity[action.identity] = {\n\t\t\t\t...newState.byIdentity[action.identity],\n\t\t\t}\n\t\t\tif (action.category) {\n\t\t\t\tnewState.byIdentity[action.identity][action.category] = {\n\t\t\t\t\t...newState.byIdentity[action.identity][action.category],\n\t\t\t\t}\n\t\t\t\tnewState.byIdentity[action.identity][action.category][action.item] =\n\t\t\t\t\taction.value\n\t\t\t} else {\n\t\t\t\tnewState.byIdentity[action.identity][action.item] = action.value\n\t\t\t}\n\t\t\treturn newState\n\n\t\tcase UPDATE_UI_BY_IDENTITY_AND_SIDE:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.byIdentity = { ...(newState.byIdentity || {}) }\n\t\t\tnewState.byIdentity[action.identity] = {\n\t\t\t\t...(newState.byIdentity[action.identity] || {}),\n\t\t\t}\n\t\t\tnewState.byIdentity[action.identity][action.side] = {\n\t\t\t\t...(newState.byIdentity[action.identity][action.side] || {}),\n\t\t\t}\n\t\t\tnewState.byIdentity[action.identity][action.side][action.item] =\n\t\t\t\taction.value\n\n\t\t\treturn newState\n\t\tcase UPDATE_GLOBAL_UI:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.global = { ...newState.global }\n\t\t\tif (action.category) {\n\t\t\t\tnewState.global[action.category] = { ...newState[action.category] }\n\t\t\t\tnewState.global[action.category][action.item] = action.value\n\t\t\t} else {\n\t\t\t\tnewState.global[action.item] = action.value\n\t\t\t}\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_ITEM,\n\tDELETE_ITEM,\n\tUPDATE_ITEM,\n\tREMOVE_ITEM_FROM_ITEM,\n\tUPDATE_ALL_ITEMS,\n\tRESET_ALL_ITEMS,\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\nimport initialState from 'store/initialState'\nimport { Item } from 'adex-models'\n\nexport default function itemsReducer(state = initialState.items, action) {\n\tlet newState\n\tlet newCollection\n\tlet newItem\n\tlet collectionId\n\tlet item\n\n\tconst collection = (state = {}, action) => {\n\t\tif (!action.item) return state\n\t\treturn {\n\t\t\t...state,\n\t\t\t[action.item.id]: { ...action.item },\n\t\t}\n\t}\n\n\tconst removeCollectionProp = (collection = {}, prop) => {\n\t\tlet newCol = { ...collection }\n\t\tdelete newCol[prop]\n\t\treturn newCol\n\t}\n\n\tif (action.item && action.itemType) {\n\t\tnewState = { ...state }\n\t\titem = { ...action.item }\n\t\tcollectionId = action.itemType\n\t}\n\n\tswitch (action.type) {\n\t\tcase ADD_ITEM:\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\n\t\t\t// id is going to be set when it comes here\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase DELETE_ITEM:\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase REMOVE_ITEM_FROM_ITEM:\n\t\t\tnewItem = Item.removeItem(\n\t\t\t\tnewState[collectionId][item._id],\n\t\t\t\taction.toRemove\n\t\t\t)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ITEM:\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ALL_ITEMS:\n\t\t\tnewState = { ...state }\n\t\t\tconst newItems = action.items.reduce((items, item) => {\n\t\t\t\tconst currentItems = { ...items }\n\t\t\t\tif (item.id || item.ipfs) {\n\t\t\t\t\tconst newItem = { ...item }\n\t\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\n\t\t\t\t}\n\t\t\t\treturn currentItems\n\t\t\t}, {})\n\n\t\t\tnewState[action.itemType] = { ...newState[action.itemType], ...newItems }\n\t\t\treturn newState\n\t\tcase RESET_ALL_ITEMS:\n\t\t\tnewState = { ...initialState.items }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import initialState from 'store/initialState'\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\nimport { setLang } from 'services/translations/translations'\n\nexport default function languageReducer(state = initialState.language, action) {\n\tswitch (action.type) {\n\t\tcase CHANGE_LANGUAGE:\n\t\t\tlet newLang = action.lang || state\n\t\t\tsetLang(newLang)\n\t\t\treturn newLang\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_WEB3_TRANSACTION,\n\tUPDATE_WEB3_TRANSACTION,\n\tRESET_WEB3_TRANSACTION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function web3TransactionsReducer(\n\tstate = initialState.web3Transactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\tlet newAddrTxs\n\tlet pendingTxs\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateObj = ({ obj, key, val }) => {\n\t\tobj = obj || {}\n\t\tobj[key] = val\n\n\t\treturn obj\n\t}\n\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\n\t\t\tpTxs.push(newTx.hash)\n\t\t} else {\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\n\t\t}\n\n\t\treturn pTxs\n\t}\n\n\tif (!action.addr) {\n\t\treturn state\n\t}\n\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\n\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\n\t// If we keep the transactions on the node we can clean them from local storage on address change\n\tswitch (action.type) {\n\t\tcase ADD_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...action.value }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase UPDATE_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase RESET_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: { txHash: action.tx },\n\t\t\t})\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_TARGETING_ANALYTICS } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function targetingReducer(\n\tstate = initialState.targeting,\n\taction\n) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_TARGETING_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState = action.value\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_RESOLVE_ENS_ADDRESS } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function ensReducer(state = initialState.ensAddresses, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_RESOLVE_ENS_ADDRESS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_MEMORY_UI } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function uiMemoryReducer(state = initialState.uiMemory, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_MEMORY_UI:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_CHANNELS_WITH_BALANCE_ALL,\n\tRESET_CHANNELS_WITH_BALANCE_ALL,\n\tUPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\n\tRESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function channelsReducer(state = initialState.channels, action) {\n\tlet newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_CHANNELS_WITH_BALANCE_ALL:\n\t\t\tnewState.withBalanceAll = { ...action.channels }\n\t\t\treturn newState\n\t\tcase RESET_CHANNELS_WITH_BALANCE_ALL:\n\t\t\tnewState.withBalanceAll = initialState.channels.withBalanceAll\n\t\t\treturn newState\n\t\tcase UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE:\n\t\t\tnewState.withOutstandingBalance = [...action.channels]\n\t\t\treturn newState\n\t\tcase RESET_CHANNELS_WITH_OUTSTANDING_BALANCE:\n\t\t\tnewState.withOutstandingBalance =\n\t\t\t\tinitialState.channels.withOutstandingBalance\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ANALYTICS,\n\tRESET_ANALYTICS,\n\tUPDATE_ANALYTICS_TIMEFRAME,\n\tUPDATE_ANALYTICS_PERIOD,\n\tUPDATE_ANALYTICS_LAST_CHECKED,\n\tUPDATE_PUBLISHER_RECEIPTS,\n\tUPDATE_ADVANCED_ANALYTICS,\n\tUPDATE_DEMAND_ANALYTICS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function analyticsReducer(\n\tstate = initialState.analytics,\n\taction\n) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.timeframe = action.value\n\t\t\treturn newState\n\t\tcase UPDATE_ANALYTICS_LAST_CHECKED:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.lastChecked = action.value\n\t\t\treturn newState\n\t\tcase UPDATE_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.side] = { ...newState[action.side] }\n\t\t\tnewState[action.side][action.eventType] = {\n\t\t\t\t...newState[action.side][action.eventType],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric][\n\t\t\t\taction.timeframe\n\t\t\t] = {\n\t\t\t\t...newState[action.side][action.eventType][action.metric][\n\t\t\t\t\taction.timeframe\n\t\t\t\t],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric][action.timeframe][\n\t\t\t\taction.timestamp\n\t\t\t] = { ...action.value }\n\t\t\treturn newState\n\t\tcase UPDATE_ADVANCED_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.advanced = { ...newState.advanced }\n\t\t\tnewState.advanced[action.eventType] = {\n\t\t\t\t...action.value,\n\t\t\t}\n\t\t\treturn newState\n\t\tcase UPDATE_DEMAND_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.demand = action.value\n\t\t\treturn newState\n\t\tcase UPDATE_PUBLISHER_RECEIPTS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.receipts = { ...newState.receipts, ...action.value }\n\t\t\treturn newState\n\t\tcase RESET_ANALYTICS:\n\t\t\tnewState = { ...initialState.analytics }\n\t\t\treturn newState\n\t\tcase UPDATE_ANALYTICS_PERIOD:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.period = action.value\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function signinReducer(state = initialState.signin, action) {\n\tlet newState\n\tlet newSignin\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SIGNIN:\n\t\t\tnewSignin = { ...newState }\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\n\t\t\t\tnewSignin[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewSignin[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newSignin\n\n\t\t\treturn newState\n\n\t\tcase RESET_SIGNIN:\n\t\t\tnewSignin = { ...initialState.signin }\n\t\t\tnewState = newSignin\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function identityReducer(state = initialState.identity, action) {\n\tlet newState\n\tlet newIdentity\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_IDENTITY:\n\t\t\tnewIdentity = newState\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewIdentity[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newIdentity\n\n\t\t\treturn newState\n\n\t\tcase RESET_IDENTITY:\n\t\t\tnewIdentity = { ...initialState.identity }\n\t\t\tnewState = newIdentity\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function walletReducer(state = initialState.wallet, action) {\n\tlet newState\n\tlet newWallet\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_WALLET:\n\t\t\tnewWallet = newState\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\n\t\t\t\tnewWallet[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewWallet[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newWallet\n\n\t\t\treturn newState\n\n\t\tcase RESET_WALLET:\n\t\t\tnewWallet = { ...initialState.wallet }\n\t\t\tnewState = newWallet\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_NEW_ITEM,\n\tRESET_NEW_ITEM,\n\tRESET_ALL_NEW_ITEMS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newItemsReducer(state = initialState.newItem, action) {\n\tlet newState\n\tlet newItem\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...action.item }\n\t\t\tif (action.itemId) {\n\t\t\t\tnewState[action.itemId] = newItem\n\t\t\t} else {\n\t\t\t\tnewState[action.itemType] = newItem\n\t\t\t}\n\n\t\t\treturn newState\n\n\t\tcase RESET_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...initialState.newItem[action.itemType] }\n\t\t\tif (action.itemId) {\n\t\t\t\tnewState[action.itemId] = newItem\n\t\t\t} else {\n\t\t\t\tnewState[action.itemType] = newItem\n\t\t\t}\n\n\t\t\treturn newState\n\n\t\tcase RESET_ALL_NEW_ITEMS:\n\t\t\tnewState = { ...initialState.newItem }\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function spinnersReducer(state = initialState.spinners, action) {\n\tconst newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SPINNER:\n\t\t\tnewState[action.spinner] = action.value\n\n\t\t\treturn newState\n\t\tcase UPDATE_ITEM:\n\t\t\tnewState['update' + action.item._id] = false\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function toastsReducer(state = initialState.toasts, action) {\n\tlet newState\n\tlet newToast\n\n\tswitch (action.type) {\n\t\tcase ADD_TOAST:\n\t\t\tnewToast = { ...action.toast }\n\t\t\tnewToast.added = Date.now()\n\t\t\tnewState = [newToast, ...state]\n\t\t\treturn newState\n\n\t\tcase REMOVE_TOAST:\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n// import Helper from './../helpers/miscHelpers'\n\nexport default function confirmReducer(state = initialState.confirm, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase CONFIRM_ACTION:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.data = { ...action.confirm.data }\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\n\t\t\tnewState.onCancel = action.confirm.onCancel\n\t\t\tnewState.active =\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\n\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\n\t\t\tnewState.calledOn = Date.now()\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_NAV } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function navReducer(state = initialState.nav, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NAV:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ITEM_VALIDATION,\n\tRESET_ITEM_VALIDATION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function validateItemsReducer(\n\tstate = initialState.validations,\n\taction\n) {\n\tlet newState\n\tlet newErrors\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tcase RESET_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item] }\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\n\t\t\t\tdelete newErrors[action.key]\n\t\t\t} else if (newErrors && !action.key) {\n\t\t\t\tnewErrors = {}\n\t\t\t}\n\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\r\n\tUPDATE_SELECTED_ITEMS,\r\n\tRESET_SELECTED_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function selectedItemsReducer(\r\n\tstate = initialState.selectedItems,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.collection] = action.selectedItems\r\n\t\t\treturn newState\r\n\t\tcase RESET_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...initialState.selectedItems }\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\n\tUPDATE_NEW_TRANSACTION,\n\tRESET_NEW_TRANSACTION,\n\tRESET_ALL_NEW_TRANSACTIONS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newTransactionsReducer(\n\tstate = initialState.newTransactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateTx = ({ tx, key, val }) => {\n\t\ttx = tx || {}\n\t\ttx[key] = val\n\n\t\treturn tx\n\t}\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_TRANSACTION:\n\t\t\tnewTx = {\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\n\t\t\t}\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\n\n\t\t\t// console.log('newTx', newTx)\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tcase RESET_NEW_TRANSACTION:\n\t\t\tnewTx = { ...initialState.newTransactions.default }\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tcase RESET_ALL_NEW_TRANSACTIONS:\n\t\t\tnewState = initialState.newTransactions\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\nimport thunk from 'redux-thunk'\nimport { persistReducers, memoryReducers } from 'reducers'\nimport history from './history'\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\nimport { persistStore, persistCombineReducers } from 'redux-persist'\nimport localStorage from 'redux-persist/lib/storage'\n// import session from 'redux-persist/lib/storage/session'\n\nconst reduxRouterMiddleware = routerMiddleware(history)\n\nconst persistConfig = {\n\tkey: 'persist',\n\tstorage: localStorage,\n}\n\n// const configSession = {\n//   key: 'session',\n//   storage: session,\n// }\n\n// const rootReducer = combineReducers(reducers)\n\n// TODO: make session reducer(signin) - RAM reducer (no persist)\nconst rootReducer = combineReducers({\n\tpersist: persistCombineReducers(persistConfig, persistReducers),\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\n\trouter: connectRouter(history),\n})\n\nconst logger = store => next => action => {\n\t// if (action.type === 'UPDATE_NEWITEM') {\n\t//   return next(action)\n\t// }\n\n\tconsole.groupCollapsed(action.type)\n\tconsole.info('dispatching', action)\n\tlet result = next(action)\n\tconsole.log('next state', store.getState())\n\tconsole.groupEnd(action.type)\n\treturn result\n}\n\nfunction configureStoreProd(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t]\n\n\tif (process.env.BUILD_TYPE === 'staging') {\n\t\tmiddlewares.push(logger)\n\t}\n\n\tlet store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcompose(applyMiddleware(...middlewares))\n\t)\n\n\tlet persistor = persistStore(store)\n\n\treturn { persistor, store }\n}\n\nfunction configureStoreDev(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\n\t\treduxImmutableStateInvariant(),\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t\tlogger,\n\t]\n\n\tconst composeEnhancers =\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\n\tconst store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\n\t)\n\n\tif (module.hot) {\n\t\t// Enable Webpack hot module replacement for reducers\n\t\tmodule.hot.accept('../reducers', () => {\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\n\t\t\tstore.replaceReducer(nextReducer)\n\t\t})\n\t}\n\n\tlet persistor = persistStore(store)\n\treturn { persistor, store }\n}\n\nconst configureStore =\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\n\nexport default configureStore()\n","import configureStore from './configureStore'\n\nexport default configureStore\n\nexport const store = configureStore.store\nexport const persistor = configureStore.persistor\nexport const dispatch = store.dispatch\nexport const getState = store.getState\n","import { createSelectorCreator, defaultMemoize } from 'reselect'\nimport isEqual from 'lodash.isequal'\n\n// deep equal memoization instad reference check\nexport const createDeepEqualSelector = createSelectorCreator(\n\tdefaultMemoize,\n\tisEqual\n)\n\nexport const creatArrayOnlyLengthChangeSelector = createSelectorCreator(\n\tdefaultMemoize,\n\t(a = [], b = []) => a.length === b.length\n)\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\n\n// can be used outside  components\nexport const selectRelayerConfig = state => {\n\treturn (state || getState()).persist.config.relayer\n}\n\n// - relayer cfg\n// network,\n// feeTokenWhitelist:\n// [\n// \t{\n// \t\taddress,\n// \t\tsymbol,\n// \t\tdecimals,\n// \t\tstandard,\n// \t\tmin,\n// \t\tminDeploy,\n// \t\tminRecommended,\n// \t\texecuteBaseFee: {\n// \t\t\tWITHDRAW: '4200000000000000000',\n// \t\t\tPRIVILEGES_CHANGE: '1000000000000000000',\n// \t\t\tENS_CHANGE: '1000000000000000000',\n// \t\t\tDEFAULT: '1000000000000000000',\n// \t\t},\n// \t},\n// ],\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal, minPlatform }],\n// coreAddr,\n// baseIdentityAddr,\n// identityFactoryAddr,\n// registryAddr,\n// daiAddr,\n// marketUrl,\n// identityRecoveryAddr,\n// weeklyFeeAmount,\n// mainToken, // { address, symbol, decimals, standard },\n// advertiserMinGrantAmount\n// relayerAddr\n// gasPriceCap\n\nexport const selectFeeTokenWhitelist = createSelector(\n\t[selectRelayerConfig],\n\t({ feeTokenWhitelist }) => {\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokens = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokenByAddress = createSelector(\n\t[selectRelayerConfig, (_, address) => address],\n\t({ routineWithdrawTokens }, address) => {\n\t\treturn routineWithdrawTokens.find(token => token.address === address)\n\t}\n)\n\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.map(t => t.address)\n\t}\n)\n\nexport const selectConfig = createSelector(\n\t[selectRelayerConfig],\n\trelayerConfig => {\n\t\tconst cfg = { ...relayerConfig }\n\t\treturn cfg\n\t}\n)\n\nexport const selectMainToken = createSelector(\n\t[selectRelayerConfig],\n\t({ mainToken }) => mainToken || {}\n)\n\nexport const selectIdentityRecoveryAddr = createSelector(\n\t[selectRelayerConfig],\n\t({ identityRecoveryAddr }) => identityRecoveryAddr\n)\n\nexport const selectGasPriceCap = createSelector(\n\t[selectRelayerConfig],\n\t({ gasPriceCap }) => gasPriceCap\n)\n\nexport const selectSaiToken = createSelector(\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\n)\n\nexport const selectMainFeeToken = createSelector(\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\n\t({ mainToken }, feeTokenWhitelist) => {\n\t\treturn feeTokenWhitelist[mainToken.address]\n\t}\n)\n","import MomentUtils from '@date-io/moment'\r\nimport moment from 'moment'\r\nimport 'moment/min/locales'\r\n\r\n// We can't use the new version of @date-io/moment or @date-io/date-fns\r\n// because the datepickers will crash, but we need some more functionality\r\n// as adding hours and start / end of weeks. This is why I have created an\r\n// extention class. We use this as MuiPickersUtilsProvider as well\r\nexport class DateUtils extends MomentUtils {\r\n\tstartOfMinute(date) {\r\n\t\treturn date.clone().startOf('minute')\r\n\t}\r\n\r\n\tstartOfHour(date) {\r\n\t\treturn date.clone().startOf('hour')\r\n\t}\r\n\r\n\tstartOfWeek(date) {\r\n\t\treturn date.clone().startOf('week')\r\n\t}\r\n\r\n\tstartOfYear(date) {\r\n\t\treturn date.clone().startOf('year')\r\n\t}\r\n\r\n\tendOfWeek(date) {\r\n\t\treturn date.clone().endOf('week')\r\n\t}\r\n\r\n\tisWithinInterval(date, { start, end }) {\r\n\t\treturn date.clone().isBetween(start, end, null, '[]')\r\n\t}\r\n\r\n\tadd(date, ammount, unit) {\r\n\t\treturn date.add(ammount, unit)\r\n\t}\r\n\r\n\taddMinutes(date, minutes) {\r\n\t\treturn date.clone().add(minutes, 'minute')\r\n\t}\r\n\r\n\taddHours(date, hours) {\r\n\t\treturn date.clone().add(hours, 'hour')\r\n\t}\r\n\r\n\tstartOf(date, period) {\r\n\t\treturn date.clone().startOf(period)\r\n\t}\r\n\r\n\tendOf(date, period) {\r\n\t\treturn date.clone().endOf(period)\r\n\t}\r\n\r\n\taddWeeks(date, weeks) {\r\n\t\treturn date.clone().add(weeks, 'week')\r\n\t}\r\n\r\n\taddMonths(date, months) {\r\n\t\treturn date.clone().add(months, 'month')\r\n\t}\r\n\r\n\taddYears(date, years) {\r\n\t\treturn date.clone().add(years, 'year')\r\n\t}\r\n\r\n\tgetUTCOffset(date = this.moment()) {\r\n\t\treturn this.moment(date).utcOffset() / 60\r\n\t}\r\n\r\n\tgetUTCOffsetFormatted(date = this.moment()) {\r\n\t\tconst offset = this.moment(date).utcOffset()\r\n\t\tconst sign = offset >= 0 ? '+' : '-'\r\n\t\tconst hours = Math.abs(Math.floor(offset / 60)).toString()\r\n\t\tconst minutes = (offset % 60).toString()\r\n\r\n\t\treturn `${sign}${hours.length === 1 ? '0' + hours : hours}:${\r\n\t\t\tminutes.length === 1 ? '0' + minutes : minutes\r\n\t\t}`\r\n\t}\r\n\r\n\tgetCurrentTimezone(date) {\r\n\t\treturn new window.Intl.DateTimeFormat(date).resolvedOptions().timeZone\r\n\t}\r\n\r\n\tgetUnix(date) {\r\n\t\treturn date.unix()\r\n\t}\r\n\tgetLocaleDate(locale) {\r\n\t\treturn this.moment.localeData(locale)\r\n\t}\r\n\r\n\tupdateLocale({ locale = 'en', dow, doy }) {\r\n\t\tconst defaultLocaleData = this.getLocaleDate(locale)\r\n\t\tthis.moment.updateLocale(locale, {\r\n\t\t\tweek: {\r\n\t\t\t\tdow: dow || defaultLocaleData.firstDayOfWeek(),\r\n\t\t\t\tdoy: doy || defaultLocaleData.firstDayOfYear(),\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tgetHourSpanStart(date, span) {\r\n\t\tconst current = dateUtils.date(date)\r\n\t\tconst hour = dateUtils.getHours(current)\r\n\t\tconst spanStartHour = Math.floor(hour - (hour % span))\r\n\t\tconst withSpanStartHour = dateUtils.setHours(current, spanStartHour)\r\n\r\n\t\treturn dateUtils.startOfHour(withSpanStartHour)\r\n\t}\r\n\r\n\tformat(date, formatString) {\r\n\t\treturn this.moment(date).format(formatString)\r\n\t}\r\n}\r\n\r\nexport function makeJSDateObject(date) {\r\n\tif (moment.isMoment(date)) {\r\n\t\treturn date.clone()\r\n\t}\r\n\r\n\tif (date instanceof Date) {\r\n\t\treturn new Date(date.getTime())\r\n\t}\r\n\r\n\treturn date\r\n}\r\n\r\nconst dateUtils = new DateUtils()\r\ndateUtils.updateLocale({\r\n\tdow: dateUtils\r\n\t\t.getLocaleDate(window.navigator.language.toLowerCase())\r\n\t\t.firstDayOfWeek(),\r\n})\r\n\r\nexport default dateUtils\r\n","import dateUtils from 'helpers/dateUtils'\nimport { createSelector } from 'reselect'\nimport { createDeepEqualSelector } from 'selectors'\n\nexport const selectAccount = state => state.persist.account || {}\nexport const selectChannels = state => state.memory.channels\n\nexport const selectAuth = createSelector(\n\tselectAccount,\n\t({ wallet, identity }) =>\n\t\t!!wallet &&\n\t\t!!wallet.address &&\n\t\t!!wallet.authSig &&\n\t\t!!wallet.authType &&\n\t\t!!identity.address\n)\n\nexport const selectWallet = createDeepEqualSelector(\n\tselectAccount,\n\t({ wallet }) => wallet || {}\n)\n\nexport const selectEmail = createSelector(\n\tselectAccount,\n\t({ email }) => email\n)\n\nexport const selectEmailProvider = createSelector(\n\tselectEmail,\n\temail => (!!email ? email.split('@')[1] : null)\n)\n\nexport const selectAuthSig = createSelector(\n\tselectWallet,\n\t({ authSig }) => authSig\n)\n\nexport const selectWalletAddress = createSelector(\n\tselectWallet,\n\t({ address }) => address\n)\n\nexport const selectAuthType = createSelector(\n\tselectWallet,\n\t({ authType }) => authType\n)\n\nexport const selectAccountIdentity = createSelector(\n\tselectAccount,\n\t({ identity }) => identity || {}\n)\n\nexport const selectAccountIdentityAddr = createSelector(\n\tselectAccountIdentity,\n\t({ address }) => address\n)\n\nexport const selectAccountStats = createSelector(\n\tselectAccount,\n\t({ stats }) => stats || {}\n)\n\nexport const selectAccountSettings = createSelector(\n\tselectAccount,\n\t({ settings }) => settings || {}\n)\n\nexport const selectAccountStatsRaw = createSelector(\n\tselectAccountStats,\n\t({ raw }) => raw || {}\n)\n\nexport const selectAccountStatsFormatted = createSelector(\n\tselectAccountStats,\n\t({ formatted }) => formatted || {}\n)\n\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData }) =>\n\t\trelayerData &&\n\t\trelayerData.routineAuthorizationsData &&\n\t\trelayerData.routineAuthorizationsData[0]\n\t\t\t? relayerData.routineAuthorizationsData[0]\n\t\t\t: null\n)\n\nexport const selectAccountIdentityDeployData = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData = {} }) => relayerData.deployData || {}\n)\n\nexport const selectChannelsWithUserBalancesEligible = createSelector(\n\tselectChannels,\n\t({ withOutstandingBalance }) => [...(withOutstandingBalance || [])]\n)\n\nexport const selectChannelsWithUserBalancesAll = createSelector(\n\tselectChannels,\n\t({ withBalanceAll }) => ({ ...(withBalanceAll || {}) })\n)\n\nexport const selectAccountIdentityCurrentPrivileges = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData: { currentPrivileges } = {} }) => currentPrivileges || {}\n)\n\nexport const selectWalletPrivileges = createSelector(\n\t[selectAccountIdentityCurrentPrivileges, selectWalletAddress],\n\t(privileges = {}, address) => privileges[address] || 0\n)\n\nexport const selectAccountIdentityCreatedDate = createSelector(\n\tselectAccountIdentityDeployData,\n\t({ created }) => dateUtils.date(created || '2018-10-01')\n)\n","import { createSelector } from 'reselect'\n\nexport const selectIdentity = state => state.memory.identity\n\nexport const selectEnsAddresses = state => state.persist.ensAddresses\n\nexport const selectEnsAddressByAddr = createSelector(\n\t[selectEnsAddresses, (_, address) => address],\n\t(ensAddresses, address) => ensAddresses[address] || ''\n)\n","export const CREATING_SESSION = 'CREATING_SESSION'\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\nexport const UPDATING_ACCOUNT_IDENTITY = 'UPDATING_ACCOUNT_IDENTITY'\nexport const UPDATING_SLOTS_DEMAND = 'UPDATING_SLOTS_DEMAND'\nexport const PRINTING_CAMPAIGNS_RECEIPTS = 'PRINTING_CAMPAIGNS_RECEIPTS'\nexport const FETCHING_PUBLISHER_RECEIPTS = 'FETCHING_PUBLISHER_RECEIPTS'\nexport const CHECKING_METAMASK_AUTH = 'CHECKING_METAMASK_AUTH'\nexport const AUTH_WAITING_TREZOR_ACTION = 'AUTH_WAITING_TREZOR_ACTION'\nexport const AUTH_WAITING_ADDRESS_DATA = 'AUTH_WAITING_ADDRESS_DATA'\nexport const UPDATING_TARGETING_DATA = 'UPDATING_TARGETING_DATA'\nexport const SYNC_WEB3_DATA = 'UPDATING_WEB3_DATA'\n","import { createSelector } from 'reselect'\nimport dateUtils from 'helpers/dateUtils'\nimport { selectAccountIdentityAddr } from './accountSelectors'\nimport { SYNC_WEB3_DATA } from 'constants/spinners'\n\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\n\nexport const selectNavTitle = state => state.memory.nav.navTitle\nexport const selectSide = state => state.memory.nav.side\nexport const selectMemoryUi = state => state.memory.uiMemory\nexport const selectGlobalUi = state => state.persist.ui.global\nexport const selectIdentitiesUi = state => state.persist.ui.byIdentity\nexport const selectSelectedItems = state => state.memory.selectedItems\nexport const selectConfirm = state => state.memory.confirm\nexport const selectToasts = state => state.memory.toasts\n\nexport const selectSpinners = state => state.memory.spinners\n\nexport const selectIdentityUi = createSelector(\n\t[selectAccountIdentityAddr, selectIdentitiesUi],\n\t(identityAddr, identitiesUi) => identitiesUi[identityAddr] || {}\n)\n\nexport const selectIdentitySideUi = createSelector(\n\t[selectIdentityUi, selectSide],\n\t(identityUi, side) => identityUi[side] || {}\n)\n\nexport const selectCompanyData = createSelector(\n\t[selectIdentityUi],\n\t({ companyData }) => companyData || {}\n)\n\nexport const selectUserLastSide = createSelector(\n\t[selectIdentityUi],\n\t({ userLastSide }) => userLastSide || ''\n)\n\nexport const selectSpinnerById = createSelector(\n\t[selectSpinners, (_, id) => id],\n\t(spinners, id) => spinners[id]\n)\n\nexport const selectWeb3SyncSpinnerByValidateId = createSelector(\n\t[selectSpinners, (_, validateId) => validateId],\n\t(spinners, validateId) => spinners[SYNC_WEB3_DATA + validateId]\n)\n\nexport const selectMultipleSpinnersByIds = createSelector(\n\t[selectSpinners, (_, ids) => ids],\n\t(spinners, ids) => ids.map(id => spinners[id])\n)\n\nexport const selectRegistrationAllowed = createSelector(\n\tselectGlobalUi,\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\n)\n\nexport const selectEasterEggsAllowed = createSelector(\n\tselectGlobalUi,\n\t({ allowEasterEggs }) => allowEasterEggs\n)\n\nexport const selectNewVersionAvailable = createSelector(\n\tselectGlobalUi,\n\t({ newVersionAvailable }) => newVersionAvailable\n)\n\nexport const selectNewVersionAvailableId = createSelector(\n\tselectGlobalUi,\n\t({ selectNewVersionAvailableId }) => selectNewVersionAvailableId\n)\n\nexport const selectPrivilegesWarningAccepted = createSelector(\n\tselectIdentityUi,\n\t({ privilegesWarningAccepted }) => !!privilegesWarningAccepted\n)\n\nexport const selectSideSpecificUI = createSelector(\n\t[selectIdentityUi, selectSide],\n\t(ui, side) => ui[side] || {}\n)\n\nexport const selectHideGettingStarted = createSelector(\n\t[selectSideSpecificUI],\n\t({ hideGettingStarted }) => hideGettingStarted\n)\n\nexport const selectGettingStartedExpanded = createSelector(\n\tselectIdentityUi,\n\t({ gettingStartedExpanded }) =>\n\t\t// NOTE: default is open but cant set initial state\n\t\tgettingStartedExpanded === undefined ? true : !!gettingStartedExpanded\n)\n\nexport const selectSelectedCampaigns = createSelector(\n\tselectSelectedItems,\n\t({ campaigns }) => campaigns || []\n)\n\nexport const selectLoginDirectSide = createSelector(\n\tselectGlobalUi,\n\t({ goToSide }) => goToSide || ''\n)\n\nexport const selectInitialDataLoadedByData = createSelector(\n\t[selectMemoryUi, (_, dataType) => dataType],\n\t({ initialDataLoaded }, dataType) =>\n\t\tinitialDataLoaded === true ||\n\t\t(typeof initialDataLoaded === 'object' && initialDataLoaded[dataType])\n)\nexport const selectInitialDataLoaded = createSelector(\n\tselectMemoryUi,\n\t({ initialDataLoaded = false }) =>\n\t\tinitialDataLoaded === true ||\n\t\t(typeof initialDataLoaded === 'object' &&\n\t\t\t[\n\t\t\t\t'accountIdentityData',\n\t\t\t\t'allItems',\n\t\t\t\t'stats',\n\t\t\t\t'campaigns',\n\t\t\t\t'advancedAnalytics',\n\t\t\t].every(type => !!initialDataLoaded[type]))\n)\n\nexport const selectCampaignIdInDetails = createSelector(\n\tselectMemoryUi,\n\t({ campaignId }) => campaignId\n)\n\nexport const selectLoginSelectedIdentity = createSelector(\n\tselectMemoryUi,\n\t({ loginSelectedIdentity }) => loginSelectedIdentity\n)\n\nexport const selectAnalyticsDataSide = createSelector(\n\t[selectSide, selectCampaignIdInDetails],\n\t(side, campaignId) => (campaignId ? campaignId : side ? `for-${side}` : '')\n)\n\nexport const selectIdentitySideAnalyticsTimeframe = createSelector(\n\t[selectIdentitySideUi],\n\t({ sideAnalyticsTimeframe = 'day' } = {}) => sideAnalyticsTimeframe\n)\n\nexport const selectIdentitySideAnalyticsPeriod = createSelector(\n\t[selectIdentitySideUi],\n\t({\n\t\tsideAnalyticsPeriod = {\n\t\t\tstart: dateUtils.startOfDay(dateUtils.date()),\n\t\t\tend: dateUtils.endOfDay(dateUtils.date()),\n\t\t},\n\t} = {}) => sideAnalyticsPeriod\n)\n\nexport const selectWindowReloading = createSelector(\n\tselectMemoryUi,\n\t({ windowReloading }) => windowReloading\n)\n","import { createSelector } from 'reselect'\nimport { translate } from 'services/translations/translations'\nimport { getState } from 'store'\n\nexport const selectLang = state => state.persist.language\n\nexport const selectTranslations = createSelector(\n\t[\n\t\tselectLang,\n\t\t(_, val, opts = {}) => {\n\t\t\treturn { val, opts }\n\t\t},\n\t],\n\t(lang, { val, opts }) => {\n\t\tconst { isProp = false, args = [''], components = [] } = opts\n\t\treturn translate(val, { isProp, args, components }, lang)\n\t}\n)\n\n// Need to useSelector for language in top component where this will be used\n// Now this is don by using Translate Hoc on Root\n// It will work in actions too as the state isg get when they are called and don't need update\nexport const t = (val, opts) => {\n\treturn selectTranslations(getState(), val, opts)\n}\n","import { createSelector } from 'reselect'\nimport {\n\tselectCampaignEventsCount,\n\tselectCampaignIdInDetails,\n\tt,\n} from 'selectors'\nimport url from 'url'\nexport const selectItems = state => state.persist.items\n\nexport const selectItemsByType = createSelector(\n\t[selectItems, (_, itemType) => itemType],\n\t(items, itemType) => items[itemType] || {}\n)\n\nexport const selectItemByTypeAndId = createSelector(\n\t[selectItems, (_, itemType, id) => ({ itemType, id })],\n\t(items, { itemType, id }) => (items[itemType] || {})[id] || {}\n)\nexport const selectItemsArrayByType = createSelector(\n\t[selectItemsByType, (_, itemType) => itemType],\n\t(items = {}) => Object.values(items)\n)\n\nexport const selectCampaigns = createSelector(\n\tstate => selectItemsByType(state, 'Campaign'),\n\tcampaigns => campaigns\n)\n\nexport const selectCampaignById = createSelector(\n\t[selectCampaigns, (_, id) => id],\n\t(campaigns, id) => campaigns[id]\n)\n\nexport const selectCampaignUnitsById = createSelector(\n\t[selectCampaignById, (_, id) => id],\n\t({ adUnits } = {}) => adUnits || []\n)\n\nexport const selectCampaignInDetails = createSelector(\n\t[selectCampaignIdInDetails, state => state],\n\t(campaignId, state) =>\n\t\tcampaignId ? selectCampaignById(state, campaignId) : undefined\n)\n\nexport const selectCampaignWithAnalyticsById = createSelector(\n\t[selectCampaigns, (_, id) => id],\n\t(campaigns, id) => {\n\t\tconst campaign = { ...(campaigns[id] || {}) }\n\t\tcampaign.clicks = selectCampaignEventsCount('CLICK', id)\n\t\tcampaign.impressions = selectCampaignEventsCount('IMPRESSION', id)\n\t\treturn campaign\n\t}\n)\n\nexport const selectCampaignsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'Campaign'),\n\tcampaigns => campaigns\n)\n\nexport const selectAdUnits = createSelector(\n\tstate => selectItemsByType(state, 'AdUnit'),\n\tadUnits => adUnits\n)\n\nexport const selectAdUnitById = createSelector(\n\t[selectAdUnits, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectAdUnitsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'AdUnit'),\n\tadUnits => adUnits\n)\n\nexport const selectAdSlots = createSelector(\n\tstate => selectItemsByType(state, 'AdSlot'),\n\tadSlots => adSlots\n)\n\nexport const selectAdSlotsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'AdSlot'),\n\tadSlots => adSlots\n)\n\nexport const selectAdSlotById = createSelector(\n\t[selectAdSlots, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectWebsites = createSelector(\n\tstate => selectItemsByType(state, 'Website'),\n\twebsites => websites\n)\n\nexport const selectWebsitesArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'Website'),\n\twebsites => websites\n)\n\nexport const selectWebsiteById = createSelector(\n\t[selectWebsites, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectWebsiteByWebsite = createSelector(\n\t[selectWebsites, (_, ws) => ws],\n\t(items, ws) => (ws ? items[url.parse(ws).hostname] || {} : {})\n)\n\nexport const selectAudiences = createSelector(\n\tstate => selectItemsByType(state, 'Audience'),\n\taudiences => audiences\n)\n\nexport const selectAudiencesArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'Audience'),\n\taudiences => audiences\n)\n\nexport const selectAudienceById = createSelector(\n\t[selectAudiences, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectAudienceByCampaignId = createSelector(\n\t[selectCampaignById, selectAudiencesArray, (_, id) => id],\n\t(campaign, items, id) => {\n\t\tconst hasCampaignAudienceUpdated =\n\t\t\tcampaign &&\n\t\t\tcampaign.audienceInput &&\n\t\t\tcampaign.audienceInput.inputs &&\n\t\t\t(campaign.audienceInput.inputs.location ||\n\t\t\t\tcampaign.audienceInput.inputs.categories ||\n\t\t\t\tcampaign.audienceInput.inputs.publishers ||\n\t\t\t\tcampaign.audienceInput.inputs.advanced)\n\n\t\treturn hasCampaignAudienceUpdated\n\t\t\t? campaign.audienceInput\n\t\t\t: items.find(x => x && x.campaignId === id)\n\t}\n)\n\nexport const selectSavedAudiences = createSelector(\n\t[selectAudiencesArray],\n\titems => items.filter(x => x && !x.campaignId && x.title)\n)\n\nexport const selectWebsitesList = createSelector(\n\t[selectWebsitesArray],\n\twebsites =>\n\t\twebsites.sort(\n\t\t\t(a, b) => new Date(b.updated).getTime() - new Date(a.updated).getTime()\n\t\t)\n)\n\nexport const selectCampaignDisplayStatus = (status = {}) => {\n\tif (status.name === 'Waiting') {\n\t\treturn 'SCHEDULED'\n\t} else {\n\t\treturn (status.humanFriendlyName || '').toUpperCase()\n\t}\n}\n","import {\n\tCampaign as CampaignModel,\n\tAdUnit as AdUnitModel,\n\tAdSlot as AdSlotModel,\n\tAudience as AudienceModel,\n} from 'adex-models'\nimport initialState from 'store/initialState'\n\nimport { createSelector } from 'reselect'\n\nexport const selectNewItems = state => state.memory.newItem\n\nexport const selectNewItemByType = createSelector(\n\t[selectNewItems, (_, type) => type],\n\t(items, type) => items[type]\n)\n\n// NOTE: currently used only for existing items update\nexport const selectNewItemByTypeAndId = createSelector(\n\t[selectNewItems, (_, type, itemId) => ({ type, itemId })],\n\t(items, { type, itemId }) =>\n\t\t(itemId ? items[itemId] : items[type]) || { ...initialState.newItem[type] }\n)\n\nexport const selectNewCampaign = createSelector(\n\tselectNewItems,\n\t({ Campaign }) => new CampaignModel(Campaign)\n)\n\nexport const selectNewAdUnit = createSelector(\n\tselectNewItems,\n\t({ AdUnit }) => new AdUnitModel(AdUnit)\n)\n\nexport const selectNewAdSlot = createSelector(\n\tselectNewItems,\n\t({ AdSlot }) => new AdSlotModel(AdSlot)\n)\n\nexport const selectNewAudience = createSelector(\n\tselectNewItems,\n\t({ Audience }) => new AudienceModel(Audience)\n)\n\nexport const selectNewWebsite = createSelector(\n\tselectNewItems,\n\t({ Website = {} }) => ({ ...Website })\n)\n","import { utils } from 'ethers'\nimport MomentUtils from '@date-io/moment'\n\nconst moment = new MomentUtils()\n//TODO: use dateUtils\n\nexport const DEFAULT_DATETIME_FORMAT = 'YYYY/MM/DD HH:mm'\nexport const DEFAULT_DATE_FORMAT = 'YYYY/MM/DD'\n\nexport const formatDateTime = (\n\ttimestamp,\n\tformat = DEFAULT_DATETIME_FORMAT,\n\tnoDateLabel = 'no date'\n) => {\n\tif (!timestamp) {\n\t\treturn noDateLabel\n\t}\n\tconst date = moment.date(timestamp)\n\treturn date.format(format)\n}\n\nexport const formatDate = (\n\ttimestamp,\n\tformat = DEFAULT_DATE_FORMAT,\n\tnoDateLabel = 'no date'\n) => {\n\tif (!timestamp) {\n\t\treturn noDateLabel\n\t}\n\tconst date = moment.date(timestamp)\n\treturn date.format(format)\n}\n\nexport const formatTokenAmount = (\n\tamountString = '0',\n\tdecimals = 18,\n\tpretty,\n\ttoFixed\n) => {\n\tconst formatted = utils.formatUnits(amountString, decimals)\n\tif (pretty) {\n\t\treturn utils.commify(formatted)\n\t} else if (typeof toFixed === 'number') {\n\t\t// We want truncated not rounded\n\t\treturn parseFloat(formatted)\n\t\t\t.toFixed(toFixed + 4)\n\t\t\t.slice(0, -4)\n\t} else {\n\t\treturn formatted\n\t}\n}\n\nexport const formatAddress = (address = '', joinSymbol = '...') => {\n\treturn `${address.substring(0, 8)}${joinSymbol}${address.substring(36, 42)}`\n}\n\nexport const formatNumberWithCommas = x => {\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n}\n\nexport const formatFloatNumberWithCommas = x => {\n\tconst parts = x.toString().split('.')\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n\treturn parts.join('.')\n}\n\nexport const formatNumberWithoutCommas = x => {\n\treturn x\n\t\t.toString()\n\t\t.split(',')\n\t\t.join('')\n}\n\nexport const formatAbbrNum = (number, decPlaces) => {\n\t// 2 decimal places => 100, 3 => 1000, etc\n\tdecPlaces = Math.pow(10, decPlaces)\n\n\t// Enumerate number abbreviations\n\tvar abbrev = ['k', 'm', 'b', 't']\n\n\t// Go through the array backwards, so we do the largest first\n\tfor (var i = abbrev.length - 1; i >= 0; i--) {\n\t\t// Convert array index to \"1000\", \"1000000\", etc\n\t\tvar size = Math.pow(10, (i + 1) * 3)\n\n\t\t// If the number is bigger or equal do the abbreviation\n\t\tif (size <= number) {\n\t\t\t// Here, we multiply by decPlaces, round, and then divide by decPlaces.\n\t\t\t// This gives us nice rounding to a particular decimal place.\n\t\t\tnumber = Math.round((number * decPlaces) / size) / decPlaces\n\n\t\t\t// Handle special case where we round up to the next abbreviation\n\t\t\tif (number === 1000 && i < abbrev.length - 1) {\n\t\t\t\tnumber = 1\n\t\t\t\ti++\n\t\t\t}\n\n\t\t\t// Add the letter for the abbreviation\n\t\t\tnumber += abbrev[i]\n\n\t\t\t// We are done... stop\n\t\t\tbreak\n\t\t}\n\t}\n\n\treturn number\n}\n\nexport const truncateString = (string, maxLength = 50) => {\n\tif (!string) return ''\n\tif (string.length <= maxLength) return string\n\treturn `${string.substring(0, maxLength).trim()}...`\n}\n","import dateUtils from 'helpers/dateUtils'\nimport { t } from 'selectors'\n\nconst SECOND = 1000\nconst MINUTE = 60 * SECOND\nconst HOUR = 60 * MINUTE\nconst DAY = 24 * HOUR\nconst WEEK = 7 * DAY\nconst YEAR = 365 * DAY\nconst MONTH = Math.floor(YEAR / 12)\n\nexport const DEFAULT_WEEK_HOURS_SPAN = 3\n\nexport const fillEmptyTime = (\n\tprevAggr,\n\ttimeframe,\n\tdefaultValue = 0,\n\tfillAfterLast = 0,\n\tperiod\n) => {\n\tconst now = Date.now()\n\tconst time = {\n\t\tinterval: period,\n\t\tstep: { period: 1, span: 'minute' },\n\t}\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\t\ttime.step = {\n\t\t\t\tunit: 'minute',\n\t\t\t\tamount: 1,\n\t\t\t}\n\t\t\tbreak\n\t\tcase 'day':\n\t\t\ttime.step = { unit: 'hour', amount: 1 }\n\t\t\tbreak\n\t\tcase 'week':\n\t\t\ttime.step = { unit: 'hour', amount: DEFAULT_WEEK_HOURS_SPAN }\n\t\t\tbreak\n\t\tcase 'month':\n\t\t\ttime.step = { unit: 'day', amount: 1 }\n\t\t\tbreak\n\t\tcase 'year':\n\t\t\ttime.step = { unit: 'month', amount: 1 }\n\t\t\tbreak\n\t\tdefault:\n\t\t\treturn prevAggr\n\t}\n\tconst newAggr = []\n\n\tlet initialTime = +dateUtils.date(time.interval.start)\n\tlet endTime = Math.min(time.interval.end, +dateUtils.date())\n\tfor (\n\t\tlet m = +dateUtils.date(initialTime);\n\t\tm <= endTime;\n\t\tm = +dateUtils.add(dateUtils.date(m), time.step.amount, time.step.unit)\n\t) {\n\t\tnewAggr.push({ value: defaultValue, time: m })\n\t}\n\tconst prevAggrInInterval = prevAggr\n\t\t.filter(a => {\n\t\t\tconst m = a.time\n\t\t\treturn m - initialTime >= 0 && m - endTime <= 0\n\t\t})\n\t\t.sort((a, b) => b.time - a.time)\n\n\tconst lastWithValueTime = (prevAggrInInterval[0] || {}).time || now\n\n\tconst data = [...prevAggrInInterval, ...newAggr].reduce((data, a) => {\n\t\tconst newData = { ...data }\n\t\tconst isNullValue = a.value === null || data[a.time] === null\n\t\tconst value =\n\t\t\ta.time <= lastWithValueTime\n\t\t\t\t? isNullValue\n\t\t\t\t\t? null\n\t\t\t\t\t: data[a.time] || a.value || defaultValue\n\t\t\t\t: fillAfterLast\n\n\t\tnewData[a.time] = a.time <= now ? value : null\n\n\t\treturn newData\n\t}, {})\n\n\tconst result = Object.entries(data)\n\t\t.map(([key, value]) => ({\n\t\t\tvalue,\n\t\t\ttime: +key,\n\t\t}))\n\t\t.sort((a, b) => a.time - b.time)\n\n\treturn result\n}\n\nexport const DATETIME_EXPORT_FORMAT = 'YYYY-MM-DD HH:mm:ss'\n\nexport const getTimePeriods = ({ timeframe, start }) => {\n\tlet end = null\n\tlet callEnd = null\n\tconst startCopy = dateUtils.date(start)\n\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\t\tstart = dateUtils.startOfMinute(startCopy)\n\t\t\tend = dateUtils.addMinutes(start, 59)\n\t\t\tcallEnd = dateUtils.addMinutes(end, 1)\n\t\t\tbreak\n\t\tcase 'day':\n\t\t\tstart = dateUtils.startOfHour(startCopy)\n\t\t\tend = dateUtils.addHours(start, 23)\n\t\t\tcallEnd = dateUtils.addHours(end, 1)\n\t\t\tbreak\n\t\tcase 'week':\n\t\t\tstart = dateUtils.getHourSpanStart(startCopy, DEFAULT_WEEK_HOURS_SPAN)\n\t\t\tend = dateUtils.addDays(start, 6)\n\t\t\tcallEnd = dateUtils.addHours(end, 6)\n\t\t\tbreak\n\t\tcase 'month':\n\t\t\tstart = dateUtils.startOfDay(startCopy)\n\t\t\tend = dateUtils.addDays(dateUtils.addMonths(start, 1), -1)\n\t\t\tcallEnd = dateUtils.addDays(end, 1)\n\t\t\tbreak\n\t\tcase 'year':\n\t\t\tstart = dateUtils.date(startCopy).startOf('month')\n\t\t\tend = dateUtils.addMonths(start, 11)\n\t\t\tcallEnd = dateUtils.addMonths(end, 1)\n\t\t\tbreak\n\t\tdefault:\n\t\t\tbreak\n\t}\n\n\tstart = +start\n\tend = Math.min(+end, +dateUtils.date())\n\tcallEnd = +callEnd\n\n\treturn { start, end, callEnd }\n}\n\nexport const getBorderPeriodStart = ({\n\ttimeframe,\n\tstart,\n\tnext = false,\n\tstartIsLive = false,\n\tminDate,\n\tmaxDate,\n}) => {\n\tconst startCopy = dateUtils.date(start)\n\tconst direction = next ? 1 : -1\n\tlet borderStart\n\tlet limitedStart = startCopy\n\n\tif (\n\t\tnext &&\n\t\tmaxDate &&\n\t\tdateUtils.isAfter(startCopy, dateUtils.date(maxDate))\n\t) {\n\t\tlimitedStart = dateUtils.date(maxDate)\n\t}\n\n\tif (\n\t\t!next &&\n\t\tminDate &&\n\t\tdateUtils.isBefore(startCopy, dateUtils.date(minDate))\n\t) {\n\t\tlimitedStart = dateUtils.date(minDate)\n\t}\n\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\t\tborderStart =\n\t\t\t\tstartIsLive && !next\n\t\t\t\t\t? dateUtils.startOfHour(limitedStart)\n\t\t\t\t\t: dateUtils.addHours(limitedStart, direction)\n\t\t\tbreak\n\t\tcase 'day':\n\t\t\tconst day =\n\t\t\t\tstartIsLive && !next\n\t\t\t\t\t? dateUtils.startOfDay(limitedStart)\n\t\t\t\t\t: dateUtils.addDays(limitedStart, direction)\n\t\t\tborderStart = dateUtils.startOfDay(day)\n\t\t\tbreak\n\t\tcase 'week':\n\t\t\tconst week =\n\t\t\t\tstartIsLive && !next\n\t\t\t\t\t? dateUtils.startOfWeek(startCopy)\n\t\t\t\t\t: dateUtils.addWeeks(startCopy, direction)\n\t\t\tborderStart = dateUtils.startOfDay(week)\n\t\t\tbreak\n\t\tcase 'month':\n\t\t\tconst month =\n\t\t\t\tstartIsLive && !next\n\t\t\t\t\t? dateUtils.startOfMonth(limitedStart)\n\t\t\t\t\t: dateUtils.addMonths(limitedStart, direction)\n\t\t\tborderStart = dateUtils.startOfMonth(month)\n\t\t\tbreak\n\t\tcase 'year':\n\t\t\tconst year =\n\t\t\t\tstartIsLive && !next\n\t\t\t\t\t? dateUtils.startOfYear(limitedStart)\n\t\t\t\t\t: dateUtils.addYears(limitedStart, direction)\n\t\t\tborderStart = dateUtils.startOfMonth(year)\n\t\t\tbreak\n\t\tdefault:\n\t\t\tthrow new Error('INVALID_TIMEFRAME')\n\t}\n\tif (dateUtils.isAfter(borderStart, dateUtils.date())) {\n\t\tborderStart = startCopy\n\t}\n\n\treturn +borderStart\n}\n\nexport const getMinStartDateTimeByTimeframe = ({ timeframe, time }) => {\n\tconst min = dateUtils.date(time)\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\t\treturn dateUtils.addMinutes(min, -59)\n\t\tcase 'day':\n\t\t\treturn dateUtils.addHours(min, -23)\n\t\tcase 'week':\n\t\t\treturn dateUtils.addDays(min, -6)\n\t\tcase 'month':\n\t\t\treturn dateUtils.addDays(dateUtils.addMonths(min, -1), 1)\n\t\tcase 'year':\n\t\t\treturn dateUtils.addMonths(min, -11)\n\t\tdefault:\n\t\t\treturn min\n\t}\n}\n\nconst TIME_INTERVALS = [\n\t{ label: 'YEAR', ms: YEAR },\n\t{ label: 'MONTH', ms: MONTH },\n\t{ label: 'WEEK', ms: WEEK },\n\t{ label: 'DAY', ms: DAY },\n\t{ label: 'HOUR', ms: HOUR },\n\t{ label: 'MINUTE', ms: MINUTE },\n\t{ label: 'SECOND', ms: SECOND },\n]\n\nexport const timeAgo = (time, since = Date.now()) => {\n\tconst ms = Math.floor(since - time)\n\tconst interval = TIME_INTERVALS.find(i => i.ms < ms)\n\tif (!interval) {\n\t\treturn t('JUST_NOW')\n\t}\n\n\tconst intervalTimes = Math.floor(ms / interval.ms)\n\treturn t('TIME_AGO', {\n\t\targs: [intervalTimes, interval.label + (intervalTimes > 1 ? 'S' : '')],\n\t})\n}\n\nexport const DATE_TIME_FORMATS_BY_TIMEFRAME = {\n\tyear: { long: 'YYYY-MM', short: 'YYYY-MM' },\n\tmonth: { long: 'YYYY-MM-DD', short: 'YYYY-MM-DD' },\n\tweek: { long: 'YYYY-MM-DD HH:mm', short: 'YYYY-MM-DD HH:mm' },\n\tday: { long: 'YYYY-MM-DD HH:mm', short: 'YYYY-MM-DD HH:mm' },\n\thour: { long: 'YYYY-MM-DD HH:mm', short: 'YYYY-MM-DD HH:mm' },\n}\n\nexport const getPeriodLabel = ({ timeframe, start, end }) => {\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\tcase 'day':\n\t\tcase 'week':\n\t\t\treturn `${dateUtils.format(start, 'YYYY/MM/DD HH:mm')} - \n${dateUtils.format(end, 'YYYY/MM/DD HH:mm')}`\n\t\tcase 'month':\n\t\t\treturn `${dateUtils.format(start, 'YYYY/MM/DD')} - \n${dateUtils.format(end, 'YYYY/MM/DD')}`\n\t\tcase 'year':\n\t\t\treturn `${dateUtils.format(start, 'YYYY/MM')} - \n${dateUtils.format(end, 'YYYY/MM')}`\n\t\tdefault:\n\t\t\tthrow new Error('INVALID_TIMEFRAME')\n\t}\n}\n\nexport const getPeriodDataPointLabel = ({ timeframe, time }) => {\n\tif (timeframe && time) {\n\t\tswitch (timeframe) {\n\t\t\tcase 'hour':\n\t\t\tcase 'day':\n\t\t\t\treturn `${dateUtils.format(time, 'YYYY/MM/DD HH:mm')}`\n\t\t\tcase 'week':\n\t\t\t\tconst periodEnd = +dateUtils.addMinutes(\n\t\t\t\t\tdateUtils.addHours(dateUtils.date(time), 3),\n\t\t\t\t\t-1\n\t\t\t\t)\n\t\t\t\treturn `${dateUtils.format(time, 'YYYY/MM/DD HH:mm')} - \n${dateUtils.format(periodEnd, 'YYYY/MM/DD HH:mm')}`\n\t\t\tcase 'month':\n\t\t\t\treturn `${dateUtils.format(time, 'YYYY/MM/DD')}`\n\t\t\tcase 'year':\n\t\t\t\treturn `${dateUtils.format(time, 'YYYY/MM')}`\n\t\t\tdefault:\n\t\t\t\tthrow new Error('INVALID_TIMEFRAME')\n\t\t}\n\t}\n\treturn ''\n}\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\nimport {\n\tselectChannelsWithUserBalancesAll,\n\tselectIdentitySideAnalyticsTimeframe,\n\tselectAccountIdentityCreatedDate,\n\tselectCampaignInDetails,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport {\n\tgetPeriodDataPointLabel,\n\tgetMinStartDateTimeByTimeframe,\n} from 'helpers/analyticsTimeHelpers'\nimport {\n\tselectNewItemByTypeAndId,\n\tselectIdentitySideAnalyticsPeriod,\n} from 'selectors'\nimport dateUtils from 'helpers/dateUtils'\nimport { DEFAULT_DATETIME_FORMAT } from 'helpers/formatters'\nimport { t } from './translationsSelectors'\n\nexport const selectAnalytics = state => state.memory.analytics\nexport const selectTargeting = state => state.persist.targeting\n\nconst MIN_SLOTS_FOR_AD_TYPE = 2\n\nexport const selectAnalyticsData = createSelector(\n\t[selectAnalytics, (_, side) => side],\n\t(analytics, side) => {\n\t\treturn analytics[side] || {}\n\t}\n)\n\nexport const selectAdvancedAnalytics = createSelector(\n\t[selectAnalytics],\n\tanalytics => analytics.advanced || {}\n)\n\nexport const selectAnalyticsLastChecked = createSelector(\n\tselectAnalytics,\n\t({ lastChecked }) => {\n\t\treturn lastChecked || new Date()\n\t}\n)\n\nexport const selectAnalyticsLiveTimestamp = createSelector(\n\t[\n\t\tselectIdentitySideAnalyticsTimeframe,\n\t\tselectAnalyticsLastChecked,\n\t\tselectCampaignInDetails,\n\t],\n\t(timeframe, lastChecked, campaign) => {\n\t\tconst currentDate = campaign\n\t\t\t? dateUtils.date(\n\t\t\t\t\tMath.min(campaign.withdrawPeriodStart, +dateUtils.date())\n\t\t\t  )\n\t\t\t: dateUtils.date(lastChecked)\n\t\tlet start = dateUtils.date(currentDate)\n\t\tswitch (timeframe) {\n\t\t\tcase 'hour':\n\t\t\t\tconst hourStart = dateUtils.addMinutes(currentDate, -59)\n\t\t\t\tstart = dateUtils.startOfMinute(hourStart)\n\t\t\t\tbreak\n\t\t\tcase 'day':\n\t\t\t\tconst dayStart = dateUtils.addHours(currentDate, -23)\n\t\t\t\tstart = dateUtils.startOfHour(dayStart)\n\t\t\t\tbreak\n\t\t\tcase 'week':\n\t\t\t\tconst weekStart = dateUtils.addDays(currentDate, -6)\n\t\t\t\tstart = dateUtils.getHourSpanStart(weekStart, 3)\n\t\t\t\tbreak\n\t\t\tcase 'month':\n\t\t\t\tconst monthStart = dateUtils.addDays(\n\t\t\t\t\tdateUtils.addMonths(currentDate, -1),\n\t\t\t\t\t1\n\t\t\t\t)\n\t\t\t\tstart = dateUtils.startOfDay(monthStart)\n\t\t\t\tbreak\n\t\t\tcase 'year':\n\t\t\t\tconst yearStart = dateUtils.addMonths(currentDate, -11)\n\t\t\t\tstart = dateUtils.startOfMonth(yearStart)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tstart = dateUtils.startOfHour(start)\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn +start\n\t}\n)\n\nexport const selectCampaignAnalytics = createSelector(\n\t[selectAnalytics],\n\t({ campaigns }) => campaigns || {}\n)\n\nexport const selectDemandAnalytics = createSelector(\n\t[selectAnalytics],\n\t({ demand }) => demand || {}\n)\n\nexport const selectDemandAnalyticsByType = createSelector(\n\t[selectDemandAnalytics, (_, type) => type],\n\t(demand, type) => demand[type] || {}\n)\n\nexport const selectTargetingAnalytics = createSelector(\n\t[selectTargeting],\n\t({ targetingData = [] }) => targetingData\n)\n\nexport const selectTargetingAnalyticsMinByCategories = createSelector(\n\t[selectTargeting],\n\t({ minByCategory = {} }) => minByCategory\n)\n\nexport const selectTargetingAnalyticsCountryTiersCoefficients = createSelector(\n\t[selectTargeting],\n\t({ countryTiersCoefficients = {} }) => countryTiersCoefficients\n)\n\nexport const selectVerifiedActiveTargetingAnalytics = createSelector(\n\t[selectTargetingAnalytics],\n\ttargetingAnalytics => {\n\t\tconst bySlotCount = targetingAnalytics.reduce((byType, x) => {\n\t\t\tx.types.forEach(t => {\n\t\t\t\tbyType[t] = (byType[t] || 0) + 1\n\t\t\t})\n\n\t\t\treturn byType\n\t\t}, {})\n\n\t\treturn targetingAnalytics\n\t\t\t.filter(\n\t\t\t\tx =>\n\t\t\t\t\t!!x.categories &&\n\t\t\t\t\tx.categories.length &&\n\t\t\t\t\tx.types &&\n\t\t\t\t\tx.types.length &&\n\t\t\t\t\t!!x.campaignsEarnedFrom\n\t\t\t)\n\t\t\t.map(t => ({\n\t\t\t\t...t,\n\t\t\t\ttypes: t.types.filter(x => bySlotCount[x] >= MIN_SLOTS_FOR_AD_TYPE),\n\t\t\t}))\n\t\t\t.filter(x => x.types.length)\n\t}\n)\n\nexport const selectTargetingAnalyticsCurrentlyUsedTypes = createSelector(\n\t[selectNewItemByTypeAndId],\n\titem => {\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\n\t}\n)\n\nexport const selectTargetingAnalyticsByType = createSelector(\n\t[\n\t\tselectVerifiedActiveTargetingAnalytics,\n\t\tselectTargetingAnalyticsCurrentlyUsedTypes,\n\t],\n\t(targetingAnalytics, types) => {\n\t\tconst filterByType = types && types.length\n\n\t\treturn targetingAnalytics.filter(\n\t\t\tx =>\n\t\t\t\t!filterByType || (filterByType && types.some(t => x.types.includes(t)))\n\t\t)\n\t}\n)\n\nexport const selectTargetingCategoriesByType = createSelector(\n\t[selectTargetingAnalyticsByType],\n\ttargeting =>\n\t\tArray.from(\n\t\t\ttargeting.reduce((categories, x) => {\n\t\t\t\tx.categories.forEach(c => categories.add(c))\n\t\t\t\treturn categories\n\t\t\t}, new Set())\n\t\t)\n)\n\nexport const selectTargetingPublishersByType = createSelector(\n\t[selectTargetingAnalyticsByType],\n\ttargeting => {\n\t\treturn Array.from(\n\t\t\ttargeting\n\t\t\t\t.reduce((publishers, { owner, hostname, alexaRank, categories }) => {\n\t\t\t\t\tpublishers.set(hostname, { owner, hostname, alexaRank, categories })\n\t\t\t\t\treturn publishers\n\t\t\t\t}, new Map())\n\t\t\t\t.values()\n\t\t).sort((a, b) => {\n\t\t\tif (a.alexaRank && !b.alexaRank) {\n\t\t\t\treturn -1\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\n\t\t\t\treturn a.alexaRank - b.alexaRank\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\n\t\t\t\treturn 1\n\t\t\t} else {\n\t\t\t\treturn 1\n\t\t\t}\n\t\t})\n\t}\n)\n\nexport const selectTargetingCategories = createSelector(\n\t[selectTargetingAnalytics],\n\ttargeting =>\n\t\tArray.from(\n\t\t\ttargeting.reduce((categories, x) => {\n\t\t\t\tx.categories.forEach(c => categories.add(c))\n\t\t\t\treturn categories\n\t\t\t}, new Set())\n\t\t)\n)\n\n// It is used for exclusion so they are not filtered and are sorted from worst to best\nexport const selectAllTargetingPublishers = createSelector(\n\t[selectTargetingAnalytics],\n\ttargeting => {\n\t\treturn Array.from(\n\t\t\ttargeting\n\t\t\t\t.reduce((publishers, { owner, hostname, alexaRank, categories }) => {\n\t\t\t\t\tpublishers.set(hostname, { owner, hostname, alexaRank, categories })\n\t\t\t\t\treturn publishers\n\t\t\t\t}, new Map())\n\t\t\t\t.values()\n\t\t).sort((a, b) => {\n\t\t\tif (a.alexaRank && !b.alexaRank) {\n\t\t\t\treturn 1\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\n\t\t\t\treturn a.alexaRank - b.alexaRank\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\n\t\t\t\treturn -1\n\t\t\t} else {\n\t\t\t\treturn -1\n\t\t\t}\n\t\t})\n\t}\n)\n\nexport const selectAdvancedAnalyticsByType = createSelector(\n\t[selectAdvancedAnalytics, (_, type) => type],\n\t(campaignAnalytics, type) => campaignAnalytics[type] || {}\n)\n\nexport const selectTotalStatsByAdUnits = createSelector(\n\t(state, { type, adUnitId }) => [\n\t\tselectAdvancedAnalyticsByType(state, type),\n\t\t{ adUnitId },\n\t],\n\t([analyticsByChannel, { adUnitId }]) =>\n\t\tObject.values(analyticsByChannel.byChannelStats || {}).reduce(\n\t\t\t(acc, curr) => acc + curr.reportChannelToAdUnit[adUnitId] || 0,\n\t\t\t0\n\t\t)\n)\n\nexport const selectPublisherStatsByType = createSelector(\n\t(state, type) => selectAdvancedAnalyticsByType(state, type),\n\t({ publisherStats }) => publisherStats || {}\n)\nexport const selectPublisherStatsByCountry = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToCountry }) => reportPublisherToCountry || {}\n)\n\nexport const selectPublisherPayStatsByCountry = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToCountryPay }) => reportPublisherToCountryPay || {}\n)\n\nexport const selectPublisherStatsAdUnit = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToAdUnit }) => reportPublisherToAdUnit || {}\n)\n\nexport const selectPublisherStatsAdUnitPay = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToAdUnitPay }) => reportPublisherToAdUnitPay || {}\n)\n\nexport const selectPublisherStatsAdSlot = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToAdSlot }) => reportPublisherToAdSlot || {}\n)\n\nexport const selectPublisherStatsAdSlotPay = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToAdSlotPay }) => reportPublisherToAdSlotPay || {}\n)\n\nexport const selectPublisherAggrStatsByCountry = createSelector(\n\t(state, type) => selectPublisherStatsByCountry(state, type),\n\t(byCountry = {}) => ({\n\t\tmax: Math.max.apply(null, Object.values(byCountry)),\n\t\ttotal: Object.values(byCountry).reduce(\n\t\t\t(a, value) => a + (Number(value) || 0),\n\t\t\t0\n\t\t),\n\t})\n)\n\nexport const selectAllAdUnitsInChannels = createSelector(\n\tstate => selectChannelsWithUserBalancesAll(state),\n\twithBalanceAll =>\n\t\tObject.values(withBalanceAll).reduce((units, { adUnits = [] } = {}) => {\n\t\t\tadUnits.forEach(u => {\n\t\t\t\tconst id = u.id || u.ipfs\n\t\t\t\tif (id && !units[id]) {\n\t\t\t\t\tunits[id] = { ...u, id }\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn units\n\t\t}, {})\n)\n\nexport const selectPublisherAdvanceStatsToAdUnit = createSelector(\n\tstate => [\n\t\tselectAllAdUnitsInChannels(state),\n\t\tselectPublisherStatsAdUnit(state, 'IMPRESSION'),\n\t\tselectPublisherStatsAdUnit(state, 'CLICK'),\n\t\tselectPublisherStatsAdUnitPay(state, 'IMPRESSION'),\n\t\tselectPublisherStatsAdUnitPay(state, 'CLICK'),\n\t],\n\t([\n\t\tadUnits,\n\t\timpressionsByAdUnit,\n\t\tclicksByAdUnit,\n\t\timpressionsPayByAdUnit,\n\t\tclicksPayByAdUnit,\n\t]) =>\n\t\tObject.values(adUnits)\n\t\t\t.filter(i => impressionsByAdUnit[i.id] !== undefined)\n\t\t\t.map(item => ({\n\t\t\t\t...item,\n\t\t\t\timpressions: impressionsByAdUnit[item.id],\n\t\t\t\tclicks: clicksByAdUnit[item.id],\n\t\t\t\timpressionsPay: Number(impressionsPayByAdUnit[item.id] || 0),\n\t\t\t\tclicksPay: Number(clicksPayByAdUnit[item.id] || 0),\n\t\t\t}))\n)\n\nexport const selectPublisherAdvanceStatsToAdSlot = createSelector(\n\tstate => [\n\t\tselectPublisherStatsAdSlot(state, 'IMPRESSION'),\n\t\tselectPublisherStatsAdSlot(state, 'CLICK'),\n\t\tselectPublisherStatsAdSlotPay(state, 'IMPRESSION'),\n\t\tselectPublisherStatsAdSlotPay(state, 'CLICK'),\n\t],\n\t([\n\t\timpressionsByAdSlot,\n\t\tclicksByAdSlot,\n\t\timpressionsPayByAdSlot,\n\t\tclicksPayByAdSlot,\n\t]) => ({\n\t\timpressionsByAdSlot,\n\t\tclicksByAdSlot,\n\t\timpressionsPayByAdSlot,\n\t\tclicksPayByAdSlot,\n\t})\n)\n\nexport const selectPublisherTotalImpressions = createSelector(\n\tstate => selectPublisherStatsByType(state, 'IMPRESSION'),\n\t({ reportPublisherToAdUnit }) => {\n\t\tconst totalImpressions = reportPublisherToAdUnit\n\t\t\t? Object.values(reportPublisherToAdUnit).reduce(\n\t\t\t\t\t(a, value) => a + Number(value) || 0,\n\t\t\t\t\t0\n\t\t\t  )\n\t\t\t: 0\n\n\t\treturn totalImpressions\n\t}\n)\n\nexport const selectCampaignAnalyticsByChannelStats = createSelector(\n\t(state, { type, campaignId } = {}) => [\n\t\tselectAdvancedAnalyticsByType(state, type),\n\t\tcampaignId,\n\t],\n\t([analyticsByType, campaignId]) =>\n\t\t(analyticsByType.byChannelStats || {})[campaignId] || {}\n)\n\nexport const selectCampaignAnalyticsByChannelToCountry = createSelector(\n\t(state, { type, campaignId } = {}) =>\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\n\t({ reportChannelToCountry }) => reportChannelToCountry || {}\n)\n\nexport const selectCampaignAnalyticsByChannelToCountryPay = createSelector(\n\t(state, { type, campaignId } = {}) =>\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\n\t({ reportChannelToCountryPay }) => reportChannelToCountryPay || {}\n)\n\nexport const selectCampaignAggrStatsByCountry = createSelector(\n\t(state, { type, campaignId } = {}) =>\n\t\tselectCampaignAnalyticsByChannelToCountry(state, { type, campaignId }),\n\t(byCountry = {}) => ({\n\t\tmax: Math.max.apply(null, Object.values(byCountry)),\n\t\ttotal: Object.values(byCountry).reduce(\n\t\t\t(a, value) => a + (Number(value) || 0),\n\t\t\t0\n\t\t),\n\t})\n)\n\nexport const selectCampaignAnalyticsByChannelToAdUnit = createSelector(\n\t(state, { type, campaignId } = {}) =>\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\n\n\t({ reportChannelToAdUnit }) => reportChannelToAdUnit || {}\n)\n\nexport const selectMaxAdUnitStatByChannel = createSelector(\n\t(state, { type, campaignId } = {}) =>\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\n\t({ reportChannelToAdUnit }) =>\n\t\treportChannelToAdUnit\n\t\t\t? Math.max.apply(null, Object.values(reportChannelToAdUnit))\n\t\t\t: 0\n)\n\nexport const selectAnalyticsDataAggr = createSelector(\n\t[\n\t\tselectAnalytics,\n\t\tselectIdentitySideAnalyticsPeriod,\n\t\t(_, opts = {}) => opts,\n\t\tselectAnalyticsLiveTimestamp,\n\t],\n\t(\n\t\tanalytics = {},\n\t\t{ start },\n\t\t{ side, eventType, metric, timeframe },\n\t\tliveTimestamp\n\t) => {\n\t\t// return analytics[side]['eventType'][metric][timeframe].aggr\n\t\t// NOTE: It was working fine with default initial state but\n\t\t// when eventType CLICK was added if you were logged and had\n\t\t// old analytics the initialState is not applied === boom.\n\n\t\tconst {\n\t\t\t[side]: {\n\t\t\t\t[eventType]: {\n\t\t\t\t\t[metric]: {\n\t\t\t\t\t\t[timeframe]: {\n\t\t\t\t\t\t\t[liveTimestamp === start ? 'live' : start]: { aggr } = {},\n\t\t\t\t\t\t} = {},\n\t\t\t\t\t} = {},\n\t\t\t\t} = {},\n\t\t\t} = {},\n\t\t} = analytics\n\n\t\treturn aggr\n\t}\n)\n\nexport function selectCampaignEventsCount(type, campaignId) {\n\treturn Object.values(\n\t\t// TODO: fix this selector w/o using getState\n\t\tselectCampaignAnalyticsByChannelToAdUnit(getState(), {\n\t\t\ttype,\n\t\t\tcampaignId,\n\t\t})\n\t).reduce((a, b) => a + b, 0)\n}\n\nexport const selectTotalImpressions = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalClicks = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'CLICK',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalMoney = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t}),\n\teventPayouts =>\n\t\teventPayouts\n\t\t\t? eventPayouts.reduce(\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value || 0, 18)) || 0,\n\t\t\t\t\t0\n\t\t\t  )\n\t\t\t: null\n)\n\nexport const selectTotalImpressionsWithPayouts = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t}),\n\t],\n\t([eventCounts, eventPayouts]) =>\n\t\teventCounts && eventPayouts\n\t\t\t? eventCounts\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tc =>\n\t\t\t\t\t\t\t(eventPayouts.find(e => e.time === c.time) || { value: null })\n\t\t\t\t\t\t\t\t.value !== null\n\t\t\t\t\t)\n\t\t\t\t\t.reduce((a, { time, value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectAverageCPM = createSelector(\n\t[\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalMoney(state, { side, timeframe }),\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalImpressionsWithPayouts(state, { side, timeframe }),\n\t],\n\t(totalMoney, totalImpressions) =>\n\t\ttotalMoney !== null && totalImpressions !== null\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\n\t\t\t: null\n)\n\nconst parseValueByMetric = ({ value, metric }) => {\n\tswitch (metric) {\n\t\tcase 'eventPayouts':\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\n\t\tcase 'eventCounts':\n\t\t\treturn parseInt(value, 10)\n\t\tdefault:\n\t\t\treturn value\n\t}\n}\n\nexport const selectStatsChartData = createSelector(\n\t[\n\t\t(state, { noLastOne, ...rest } = {}) => {\n\t\t\treturn { data: selectAnalyticsDataAggr(state, rest), noLastOne, ...rest }\n\t\t},\n\t],\n\t({ data = [], noLastOne, metric, timeframe, ...rest }) => {\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\n\t\treturn aggr.reduce(\n\t\t\t(memo, item) => {\n\t\t\t\tconst { time, value } = item\n\t\t\t\tlet label = getPeriodDataPointLabel({ timeframe, time })\n\n\t\t\t\tmemo.labels.push(label)\n\t\t\t\tmemo.datasets.push(\n\t\t\t\t\tvalue !== null ? parseValueByMetric({ value, metric }) : value\n\t\t\t\t)\n\t\t\t\treturn memo\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabels: [],\n\t\t\t\tdatasets: [],\n\t\t\t}\n\t\t)\n\t}\n)\n\nexport const selectChartDatapointsImpressions = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: false,\n\t\t}),\n\t],\n\t([impressions]) => impressions\n)\n\nexport const selectChartDatapointsClicks = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'CLICK',\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: false,\n\t\t}),\n\t],\n\t([clicks]) => clicks\n)\n\nexport const selectChartDatapointsPayouts = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t\tnoLastOne: false,\n\t\t}),\n\t],\n\t([payouts]) => payouts\n)\n\nexport const selectChartDatapointsCPM = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectChartDatapointsPayouts(state, { side, timeframe }),\n\t\tselectChartDatapointsImpressions(state, { side, timeframe }),\n\t],\n\t([payouts, impressions]) => {\n\t\tconst result = {\n\t\t\tlabels: [],\n\t\t\tdatasets: [],\n\t\t}\n\t\tresult.labels = payouts.labels\n\t\tresult.datasets = payouts.datasets.map((n, i) => {\n\t\t\treturn impressions.datasets[i] !== 0\n\t\t\t\t? ((n / impressions.datasets[i]) * 1000).toFixed(6)\n\t\t\t\t: n\n\t\t})\n\t\treturn result\n\t}\n)\n\nexport const selectPublisherReceipts = createSelector(\n\t[selectAnalytics],\n\t({ receipts }) => receipts || {}\n)\n\nexport const selectPublisherReceiptsPresentMonths = createSelector(\n\t[selectPublisherReceipts],\n\treceipts => Object.keys(receipts).map(r => +r)\n)\n\nexport const selectAnalyticsNowLabel = createSelector(\n\t[selectIdentitySideAnalyticsTimeframe, selectAnalyticsLastChecked],\n\t(timeframe, lastChecked) => {\n\t\tswitch (timeframe) {\n\t\t\tcase 'hour':\n\t\t\t\treturn dateUtils.format(\n\t\t\t\t\tdateUtils.date(lastChecked),\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\n\t\t\t\t)\n\t\t\tcase 'day':\n\t\t\t\treturn dateUtils.format(\n\t\t\t\t\tdateUtils.setMinutes(dateUtils.date(lastChecked), 0),\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\n\t\t\t\t)\n\t\t\tcase 'week':\n\t\t\t\treturn dateUtils.format(\n\t\t\t\t\tdateUtils.getHourSpanStart(lastChecked, 3),\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\n\t\t\t\t)\n\t\t\tdefault:\n\t\t\t\treturn dateUtils.format(dateUtils.date(), DEFAULT_DATETIME_FORMAT)\n\t\t}\n\t}\n)\n\nexport const selectAnalyticsMinAndMaxDates = createSelector(\n\t[\n\t\tselectCampaignInDetails,\n\t\tselectAccountIdentityCreatedDate,\n\t\tselectIdentitySideAnalyticsTimeframe,\n\t],\n\t(campaign = {}, dateCreated, timeframe) => {\n\t\tconst { activeFrom, withdrawPeriodStart, status = {} } = campaign\n\n\t\tconst minDate = getMinStartDateTimeByTimeframe({\n\t\t\ttimeframe,\n\t\t\ttime: dateUtils.date(activeFrom || dateCreated),\n\t\t})\n\t\tconst maxDate = getMinStartDateTimeByTimeframe({\n\t\t\ttimeframe,\n\t\t\ttime: status.closedDate || withdrawPeriodStart || dateUtils.date(),\n\t\t})\n\n\t\treturn {\n\t\t\tminDate: +minDate,\n\t\t\tmaxDate: +maxDate,\n\t\t}\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectValidations = state => state.memory.validations\n\nexport const selectValidationsById = createSelector(\n\t[selectValidations, (_, id) => id],\n\t(validations, id) => validations[id]\n)\n\nexport const selectMultipleValidationsByIds = createSelector(\n\t[selectValidations, (_, ids) => ids],\n\t(validations, ids) => ids.map(id => validations[id])\n)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Link } from '@material-ui/core'\nimport { OpenInNew } from '@material-ui/icons'\nimport clsx from 'clsx'\n\nexport const styles = theme => ({\n\texternalIcon: {\n\t\tmarginLeft: theme.spacing(0.5),\n\t\tfontSize: 'small',\n\t},\n\tlink: {\n\t\tdisplay: 'inline-flex',\n\t\talignItems: 'center',\n\t},\n\tfullWidth: {\n\t\twidth: '100%',\n\t},\n})\n\nconst useStyles = makeStyles(styles)\n\nconst getUrl = url => {\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\n\tif (url) {\n\t\turl = '//' + url\n\t}\n\n\treturn url\n}\n\nconst Anchor = ({\n\thref,\n\ttarget,\n\tchildren,\n\tlabel,\n\tunderline,\n\texternalIcon,\n\tcolor,\n\tcomponent,\n\tclassName,\n\tfullWidth,\n\t...rest\n}) => {\n\tconst classes = useStyles()\n\n\tconst isExternal = target && target === '_blank'\n\tconst url = isExternal ? getUrl(href) : href\n\n\tconst linkProps = {\n\t\tunderline: underline || 'none',\n\t\tcolor: color || 'inherit',\n\t\tdraggable: 'false',\n\t\t...(isExternal && { rel: 'noopener noreferrer' }),\n\t\ttarget,\n\t\thref: url,\n\t\tstyle: { wordBreak: 'break-all' }, // TODO: add it where needed only\n\t\t...(component ? { component } : {}),\n\t\t...rest,\n\t}\n\treturn (\n\t\t<Link\n\t\t\t{...linkProps}\n\t\t\tclassName={clsx(className, classes.link, {\n\t\t\t\t[classes.fullWidth]: !!fullWidth,\n\t\t\t})}\n\t\t>\n\t\t\t{!component && (children || label)}\n\t\t\t{!component && externalIcon && (\n\t\t\t\t<OpenInNew className={classes.externalIcon} />\n\t\t\t)}\n\t\t</Link>\n\t)\n}\n\nexport const ExternalAnchor = ({ href, children, style, ...rest }) => (\n\t<Anchor\n\t\tstyle={{ fontWeight: 'bold' }}\n\t\tunderline='always'\n\t\ttarget='_blank'\n\t\tcolor='primary'\n\t\texternalIcon\n\t\thref={href}\n\t\t{...rest}\n\t>\n\t\t{children}\n\t</Anchor>\n)\n\nexport default Anchor\n","import React from 'react'\nimport { createSelector } from 'reselect'\nimport { selectNewItemByTypeAndId, selectValidations } from 'selectors'\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\nimport { constants, IabCategories } from 'adex-models'\nimport { t } from './translationsSelectors'\n\nconst { CountryTiers, AllCountries, OsGroups } = constants\n\nexport const selectTargeting = state => state.persist.targeting\n\nconst MIN_SLOTS_FOR_AD_TYPE = 2\nconst GLOBAL_MIN_CPM_MULTIPLIER = 0.7\n\nexport const selectTargetingAnalytics = createSelector(\n\t[selectTargeting],\n\t({ targetingData = [] }) => targetingData\n)\n\nexport const selectTargetingAnalyticsMinByCategories = createSelector(\n\t[selectTargeting],\n\t({ minByCategory = {} }) => minByCategory\n)\n\nexport const selectTargetingAnalyticsCountryTiersCoefficients = createSelector(\n\t[selectTargeting],\n\t({ countryTiersCoefficients = {} }) => countryTiersCoefficients\n)\n\nexport const selectMinTargetingCpm = createSelector(\n\t[\n\t\tselectTargetingAnalyticsMinByCategories,\n\t\tselectTargetingAnalyticsCountryTiersCoefficients,\n\t],\n\t(minByCategory, coefficients) => {\n\t\tconst minCat = Object.values(minByCategory).sort((a, b) => a - b)[0] || 0\n\t\tconst minCof = Object.values(coefficients).sort((a, b) => a - b)[0] || 0\n\t\tconst minCPM = minCat * minCof * GLOBAL_MIN_CPM_MULTIPLIER\n\n\t\treturn minCPM\n\t}\n)\n\nexport const selectVerifiedActiveTargetingAnalytics = createSelector(\n\t[selectTargetingAnalytics],\n\ttargetingAnalytics => {\n\t\tconst bySlotCount = targetingAnalytics.reduce((byType, x) => {\n\t\t\tx.types.forEach(t => {\n\t\t\t\tbyType[t] = (byType[t] || 0) + 1\n\t\t\t})\n\n\t\t\treturn byType\n\t\t}, {})\n\n\t\treturn targetingAnalytics\n\t\t\t.filter(\n\t\t\t\tx =>\n\t\t\t\t\t!!x.categories &&\n\t\t\t\t\tx.categories.length &&\n\t\t\t\t\tx.types &&\n\t\t\t\t\tx.types.length &&\n\t\t\t\t\t!!x.campaignsEarnedFrom\n\t\t\t)\n\t\t\t.map(t => ({\n\t\t\t\t...t,\n\t\t\t\ttypes: t.types.filter(x => bySlotCount[x] >= MIN_SLOTS_FOR_AD_TYPE),\n\t\t\t}))\n\t\t\t.filter(x => x.types.length)\n\t}\n)\n\nexport const selectTargetingAnalyticsCurrentlyUsedTypes = createSelector(\n\t[selectNewItemByTypeAndId],\n\titem => {\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\n\t}\n)\n\nexport const selectTargetingAnalyticsByType = createSelector(\n\t[\n\t\tselectVerifiedActiveTargetingAnalytics,\n\t\tselectTargetingAnalyticsCurrentlyUsedTypes,\n\t],\n\t(targetingAnalytics, types) => {\n\t\tconst filterByType = types && types.length\n\n\t\treturn targetingAnalytics.filter(\n\t\t\tx =>\n\t\t\t\t!filterByType || (filterByType && types.some(t => x.types.includes(t)))\n\t\t)\n\t}\n)\n\nexport const selectTargetingCategoriesByType = createSelector(\n\t[selectTargetingAnalyticsByType],\n\ttargeting =>\n\t\tArray.from(\n\t\t\ttargeting.reduce((categories, x) => {\n\t\t\t\tx.categories.forEach(c => categories.add(c))\n\t\t\t\treturn categories\n\t\t\t}, new Set())\n\t\t)\n)\n\nconst mapTargetingDataToPublishers = targetingData =>\n\tArray.from(\n\t\ttargetingData\n\t\t\t.reduce(\n\t\t\t\t(\n\t\t\t\t\tpublishers,\n\t\t\t\t\t{ owner, hostname, alexaRank, categories, reachPerMillion }\n\t\t\t\t) => {\n\t\t\t\t\tpublishers.set(hostname, {\n\t\t\t\t\t\towner,\n\t\t\t\t\t\thostname,\n\t\t\t\t\t\talexaRank,\n\t\t\t\t\t\tcategories,\n\t\t\t\t\t\treachPerMillion,\n\t\t\t\t\t})\n\t\t\t\t\treturn publishers\n\t\t\t\t},\n\t\t\t\tnew Map()\n\t\t\t)\n\t\t\t.values()\n\t)\n\nexport const selectTargetingPublishersByType = createSelector(\n\t[selectTargetingAnalyticsByType],\n\ttargeting => {\n\t\treturn mapTargetingDataToPublishers(targeting).sort((a, b) => {\n\t\t\tif (a.alexaRank && !b.alexaRank) {\n\t\t\t\treturn -1\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\n\t\t\t\treturn a.alexaRank - b.alexaRank\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\n\t\t\t\treturn 1\n\t\t\t} else {\n\t\t\t\treturn 1\n\t\t\t}\n\t\t})\n\t}\n)\n\nexport const selectTargetingCategories = createSelector(\n\t[selectTargetingAnalytics],\n\ttargeting =>\n\t\tArray.from(\n\t\t\ttargeting.reduce((categories, x) => {\n\t\t\t\tx.categories.forEach(c => categories.add(c))\n\t\t\t\treturn categories\n\t\t\t}, new Set())\n\t\t)\n)\n\n// It is used for exclusion so they are not filtered and are sorted from worst to best\nexport const selectAllTargetingPublishers = createSelector(\n\t[selectTargetingAnalytics],\n\ttargeting => {\n\t\treturn mapTargetingDataToPublishers(targeting).sort((a, b) => {\n\t\t\tif (a.alexaRank && !b.alexaRank) {\n\t\t\t\treturn 1\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\n\t\t\t\treturn a.alexaRank - b.alexaRank\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\n\t\t\t\treturn -1\n\t\t\t} else {\n\t\t\t\treturn -1\n\t\t\t}\n\t\t})\n\t}\n)\n\n// NOTE: it can be constant but we may need some dynamic data\nconst autocompleteLocationsSingleSelect = createSelector(\n\t[],\n\t() => {\n\t\tconst tiers = Object.values(CountryTiers).map(\n\t\t\t({ name, ruleValue, countries } = {}) => ({\n\t\t\t\tlabel: t(name),\n\t\t\t\textraLabel: countries.join(', '),\n\t\t\t\tvalue: ruleValue,\n\t\t\t\tgroup: t('BY_TIER'),\n\t\t\t})\n\t\t)\n\t\tconst all = AllCountries.map(({ name, ruleValue } = {}) => ({\n\t\t\tlabel: t(name),\n\t\t\tvalue: ruleValue,\n\t\t\tgroup: name[0].toUpperCase(),\n\t\t}))\n\n\t\treturn [...tiers, ...all]\n\t}\n)\n\nconst autocompleteCategoriesMultiSelectIn = createSelector(\n\t[selectTargetingCategoriesByType],\n\tcategories =>\n\t\t[{ label: t('ALL_CATEGORIES'), value: 'ALL' }].concat(\n\t\t\tcategories.map(cat => ({\n\t\t\t\tlabel: t(IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat),\n\t\t\t\tvalue: cat,\n\t\t\t}))\n\t\t)\n)\n\nconst autocompleteCategoriesMultiSelectNin = createSelector(\n\t[selectTargetingCategories],\n\tcategories =>\n\t\tcategories.map(cat => ({\n\t\t\tlabel: t(IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat),\n\t\t\tvalue: cat,\n\t\t}))\n)\n\nconst getPublisherExtraDataLabel = publisher => [\n\t`${t('HOSTNAME')}: ${publisher.hostname}`,\n\t`${t('ALEXA_RANK')}: ${publisher.alexaRank || '-'}`,\n\t`${t('REACH_PER_MILLION')}: ${publisher.reachPerMillion || '-'}`,\n\t`${t('CATEGORIES')}: ${(publisher.categories || [])\n\t\t.map(\n\t\t\tcat => `\"${IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat}\"`\n\t\t)\n\t\t.join(', ')}`,\n]\n\nconst autocompletePublishersMultiSelectIn = createSelector(\n\t[selectTargetingPublishersByType],\n\tpublishers =>\n\t\tpublishers.map(pub => ({\n\t\t\tlabel: pub.hostname,\n\t\t\tvalue: JSON.stringify({ hostname: pub.hostname, publisher: pub.owner }),\n\t\t\textraLabel: getPublisherExtraDataLabel(pub),\n\t\t\textraData: pub,\n\t\t}))\n)\n\nconst autocompletePublishersMultiSelectNin = createSelector(\n\t[selectAllTargetingPublishers],\n\tpublishers =>\n\t\tpublishers.map(pub => ({\n\t\t\tlabel: pub.hostname,\n\t\t\tvalue: JSON.stringify({ hostname: pub.hostname, publisher: pub.owner }),\n\t\t\textraLabel: getPublisherExtraDataLabel(pub),\n\t\t\textraData: pub,\n\t\t}))\n)\n\nexport const audienceSources = [\n\t{\n\t\tparameter: 'location',\n\t\tapplyType: 'single',\n\t\tactions: [\n\t\t\t{ type: 'in', label: t('TARGET_COUNTRIES'), minSelected: 1 },\n\t\t\t{ type: 'nin', label: t('EXCLUDED_COUNTRIES'), minSelected: 1 },\n\t\t\t{ type: 'allin', label: t('SHOW_EVERYWHERE'), value: 'ALL' },\n\t\t],\n\t\textraInfo: t('LOCATION_TIERS_INFO', {\n\t\t\targs: [\n\t\t\t\t<ExternalAnchor\n\t\t\t\t\thref={'https://help.adex.network/hc/en-us/articles/360014629020'}\n\t\t\t\t>\n\t\t\t\t\t{t('HERE')}\n\t\t\t\t</ExternalAnchor>,\n\t\t\t],\n\t\t}),\n\t},\n\t{\n\t\tparameter: 'categories',\n\t\tapplyType: 'multiple',\n\t\tactions: [\n\t\t\t{ type: 'in', label: t('SHOW_SELECTED'), minSelected: 1 },\n\t\t\t{\n\t\t\t\ttype: 'nin',\n\t\t\t\tlabel: t('DONT_SHOW_SELECTED'),\n\t\t\t\tminSelected: 1,\n\t\t\t\tdisabledValues: ['ALL'],\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tparameter: 'publishers',\n\t\tapplyType: 'single',\n\t\tactions: [\n\t\t\t{ type: 'in', label: t('SHOW_ONLY_IN_SELECTED'), minSelected: 1 },\n\t\t\t{ type: 'nin', label: t('DONT_SHOW_IN_SELECTED'), minSelected: 1 },\n\t\t\t{ type: 'allin', label: t('SHOW_EVERYWHERE'), value: 'ALL' },\n\t\t],\n\t},\n\t{\n\t\tparameter: 'devices',\n\t\tapplyType: 'single',\n\t\tactions: [\n\t\t\t{ type: 'allin', label: t('SHOW_EVERYWHERE'), value: 'ALL' },\n\t\t\t{ type: 'in', label: t('SHOW_ONLY_IN_SELECTED'), minSelected: 1 },\n\t\t\t{ type: 'nin', label: t('DONT_SHOW_IN_SELECTED'), minSelected: 1 },\n\t\t],\n\t},\n\t{\n\t\tparameter: 'advanced',\n\t\tapplyType: 'multiple-checkbox',\n\t\tactions: [\n\t\t\t{\n\t\t\t\tvalue: 'includeIncentivized',\n\t\t\t\tlabel: t('INCLUDE_INCENTIVIZED_TRAFFIC'),\n\t\t\t\thelper: (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014543380-What-is-incentivized-traffic-'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LEARN_MORE')}\n\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: 'disableFrequencyCapping',\n\t\t\t\tlabel: t('DISABLE_FREQUENCY_CAPPING'),\n\t\t\t\thelper: (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014597299-What-is-frequency-capping-'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LEARN_MORE')}\n\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: 'limitDailyAverageSpending',\n\t\t\t\tlabel: t('LIMIT_AVERAGE_DAILY_SPENDING'),\n\t\t\t\thelper: (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014597319-How-to-limit-your-average-daily-spend'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LEARN_MORE')}\n\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t),\n\t\t\t},\n\t\t],\n\t},\n]\n\nconst devices = Object.values(OsGroups).map(\n\t({ name, ruleValue, oss } = {}) => ({\n\t\tlabel: t(name),\n\t\textraLabel: oss.join(', '),\n\t\tvalue: ruleValue,\n\t\tgroup: t('POPULAR'),\n\t})\n)\n\nconst selectAutocompleteAudienceSources = createSelector(\n\t[\n\t\tautocompleteLocationsSingleSelect,\n\t\tautocompleteCategoriesMultiSelectIn,\n\t\tautocompleteCategoriesMultiSelectNin,\n\t\tautocompletePublishersMultiSelectIn,\n\t\tautocompletePublishersMultiSelectNin,\n\t],\n\t(locations, catIn, catNin, pubIn, pubNin) => ({\n\t\tlocation: {\n\t\t\tsingleValuesSrc: locations,\n\t\t},\n\t\tcategories: {\n\t\t\tmultipleValuesSrc: {\n\t\t\t\tin: catIn,\n\t\t\t\tnin: catNin,\n\t\t\t},\n\t\t},\n\t\tpublishers: {\n\t\t\tmultipleValuesSrc: {\n\t\t\t\tin: pubIn,\n\t\t\t\tnin: pubNin,\n\t\t\t},\n\t\t},\n\t\tdevices: {\n\t\t\tsingleValuesSrc: devices,\n\t\t},\n\t})\n)\n\nexport const selectAudienceInputItemOptions = createSelector(\n\t[selectNewItemByTypeAndId],\n\titem => {\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\n\t}\n)\n\nconst getDisabledValues = (data, source, inputs, allSrcs) => {\n\tconst disabled = []\n\n\tif (\n\t\tdata.parameter === 'publishers' &&\n\t\tinputs.categories &&\n\t\tinputs.categories.apply &&\n\t\tinputs.categories.apply.includes('in') &&\n\t\tinputs.categories.in &&\n\t\tinputs.categories.in.length\n\t) {\n\t\tdisabled.in = inputs.categories.in.includes('ALL')\n\t\t\t? []\n\t\t\t: source\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tx =>\n\t\t\t\t\t\t\t!x.extraData.categories.some(c =>\n\t\t\t\t\t\t\t\tinputs.categories.in.includes(c)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t.map(c => c.value)\n\t} else if (\n\t\tdata.parameter === 'categories' &&\n\t\tinputs.publishers &&\n\t\tinputs.publishers.apply &&\n\t\tinputs.publishers.apply === 'in' &&\n\t\tinputs.publishers.in &&\n\t\tinputs.publishers.in.length\n\t) {\n\t\tconst selectedPublishersCategories = new Set()\n\t\tallSrcs\n\t\t\t.find(s => s.parameter === 'publishers')\n\t\t\t.source.in.forEach(p => {\n\t\t\t\tif (inputs.publishers.in.includes(p.value)) {\n\t\t\t\t\tp.extraData.categories.forEach(c =>\n\t\t\t\t\t\tselectedPublishersCategories.add(c)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t})\n\n\t\tdisabled.in = source\n\t\t\t.filter(\n\t\t\t\tc => c.value !== 'ALL' && !selectedPublishersCategories.has(c.value)\n\t\t\t)\n\t\t\t.map(c => c.value)\n\t}\n\n\treturn disabled\n}\n\nexport const selectAudienceSourcesWithOptions = createSelector(\n\t[selectAutocompleteAudienceSources],\n\tsourcesData =>\n\t\taudienceSources.map(s => {\n\t\t\tconst source = (sourcesData[s.parameter] || {}).multipleValuesSrc\n\t\t\t\t? sourcesData[s.parameter].multipleValuesSrc\n\t\t\t\t: {}\n\n\t\t\tif ((sourcesData[s.parameter] || {}).singleValuesSrc) {\n\t\t\t\ts.actions.forEach(a => {\n\t\t\t\t\tsource[a.type] = a.value || sourcesData[s.parameter].singleValuesSrc\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...s,\n\t\t\t\tsource,\n\t\t\t}\n\t\t})\n)\n\nexport const selectAudienceValidations = createSelector(\n\t[selectValidations, (_, __, ___, validateId) => validateId],\n\t(validations, id) => validations[id]\n)\n\nexport const selectAudienceInputsDataByItem = createSelector(\n\t[\n\t\tselectAudienceSourcesWithOptions,\n\t\tselectNewItemByTypeAndId,\n\t\tselectAudienceValidations,\n\t\t(_, __, ___, ____, advancedOnly) => advancedOnly,\n\t],\n\t(allSrcsWithOptions, selectedItem, validations = {}, advancedOnly) => {\n\t\tconst isCampaignAudienceItem = selectedItem && !!selectedItem.audienceInput\n\n\t\tconst errors =\n\t\t\tvalidations[isCampaignAudienceItem ? 'audienceInput' : 'inputs'] || {}\n\n\t\tconst errorParameters = errors.dirty ? errors.errFields || {} : {}\n\n\t\tconst inputs =\n\t\t\t(isCampaignAudienceItem\n\t\t\t\t? selectedItem.audienceInput.inputs\n\t\t\t\t: selectedItem.inputs) || {}\n\n\t\tconst SOURCES = allSrcsWithOptions\n\t\t\t.filter(s =>\n\t\t\t\t!!advancedOnly ? s.parameter === 'advanced' : s.parameter !== 'advanced'\n\t\t\t)\n\t\t\t.map(s => {\n\t\t\t\tconst disabledValues = getDisabledValues(\n\t\t\t\t\ts,\n\t\t\t\t\t//TODO: temp only used for in, so there is no point making it to work with other action types\n\t\t\t\t\ts.source.in,\n\t\t\t\t\tinputs,\n\t\t\t\t\tallSrcsWithOptions\n\t\t\t\t)\n\n\t\t\t\tconst source = { ...s.source }\n\t\t\t\tif (\n\t\t\t\t\t!!source.in &&\n\t\t\t\t\tsource.in.length &&\n\t\t\t\t\t!!disabledValues.in &&\n\t\t\t\t\tdisabledValues.in.length\n\t\t\t\t) {\n\t\t\t\t\tsource.in = [...source.in].sort((a, b) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tdisabledValues.in.includes(a.value) &&\n\t\t\t\t\t\t\t!disabledValues.in.includes(b.value)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn 1\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t!disabledValues.in.includes(a.value) &&\n\t\t\t\t\t\t\tdisabledValues.in.includes(b.value)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn -1\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn 0\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\t...s,\n\t\t\t\t\tsource,\n\t\t\t\t\tdisabledValues,\n\t\t\t\t}\n\t\t\t})\n\n\t\tconst audienceInputData = { SOURCES, inputs, errorParameters }\n\n\t\treturn audienceInputData\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectNewTransactions = state => state.memory.newTransactions\n\nexport const selectNewTransactionById = createSelector(\n\t[selectNewTransactions, (_, id) => id],\n\t(txns, id) => txns[id] || {}\n)\n","import {\n\tcreateMuiTheme,\n\tresponsiveFontSizes,\n\tfade,\n} from '@material-ui/core/styles'\nimport { lime, grey } from '@material-ui/core/colors'\n\nconst WHITE = '#fafafa'\nconst BLACK = '#0f0f0f'\n\nexport const ERROR_COLOR = '#FF4269'\nexport const ERROR_LIGHT = '#ff7a97'\nexport const ERROR_DARK = '#c6003f'\n\nexport const WARNING = '#FEB006'\nexport const SUCCESS = '#14dc9c'\nexport const INFO = '#1b75bc'\nexport const ERROR = '#ff6969'\n\n// Light theme\nexport const PRIMARY = '#1B75BC'\nexport const PRIMARY_LIGHT = '#5fa3ef'\nexport const PRIMARY_LIGHTEST = '#96d4ff'\nexport const PRIMARY_DARK = '#004a8b'\nexport const PRIMARY_DARKEST = '#00235d'\n\nexport const SECONDARY = '#1BC69F'\nexport const SECONDARY_LIGHT = '#65fad0'\nexport const SECONDARY_DARK = '#009471'\n\nexport const ALEX_GREY = '#3C3C3C'\nexport const ALEX_GREY_LIGHT = '#666'\nexport const ALEX_GREY_DARK = '#161616'\nexport const ALEX_GREY_LIGHTEST = '#ebebeb'\n\nexport const GANDALF_GREY = '#C4C4C4'\n\nexport const ACCENT_ONE = '#FF6942'\nexport const ACCENT_ONE_LIGHT = '#FF9B6F'\nexport const ACCENT_ONE_DARK = '#c53616'\n\nexport const ACCENT_TWO = '#FFAC00'\nexport const ACCENT_TWO_LIGHT = '#ffde4b'\nexport const ACCENT_TWO_DARK = '#c67d00'\n\nexport const PAPER = WHITE\nexport const BG_DEFAULT = '#efefef'\n\nconst primary = {\n\tmain: PRIMARY,\n\tdark: PRIMARY_DARK,\n\tlight: PRIMARY_LIGHT,\n\tlightest: PRIMARY_LIGHTEST,\n\tcontrastText: WHITE,\n}\n\nconst secondary = {\n\tmain: SECONDARY,\n\tdark: SECONDARY_DARK,\n\tlight: SECONDARY_LIGHT,\n\tcontrastText: WHITE,\n}\n\n// Dark theme\nexport const DARK_PRIMARY = '#0ca597'\nexport const DARK_PRIMARY_LIGHT = '#59d7c8'\nexport const DARK_PRIMARY_LIGHTEST = '#90fffb'\nexport const DARK_PRIMARY_DARK = '#007569'\nexport const DARK_PRIMARY_DARKEST = '#00493f'\n\nexport const DARK_SECONDARY = '#d4ff00'\nexport const DARK_SECONDARY_LIGHT = '#ffff58'\nexport const DARK_SECONDARY_DARK = '#9ecc00'\n\nexport const DARK_PAPER = '#333'\nexport const DARK_BG_DEFAULT = '#0f1316'\nexport const DARK_APPBAR = '#1f1f1f'\n\nexport const DARK_ACCENT_ONE = '#ff7000'\nexport const DARK_ACCENT_ONE_LIGHT = '#ffa140'\nexport const DARK_ACCENT_ONE_DARK = '#c43f00'\n\nexport const DARK_ACCENT_TWO = '#0090dd'\nexport const DARK_ACCENT_TWO_LIGHT = '#60c0ff'\nexport const DARK_ACCENT_TWO_DARK = '#0063ab'\n\nconst darkPrimary = {\n\tmain: DARK_PRIMARY,\n\tdark: DARK_PRIMARY_DARK,\n\tlight: DARK_PRIMARY_LIGHT,\n\tlightest: DARK_PRIMARY_DARKEST,\n\tcontrastText: WHITE,\n}\n\nconst darkSecondary = {\n\tmain: DARK_SECONDARY,\n\tdark: DARK_SECONDARY_DARK,\n\tlight: DARK_SECONDARY_LIGHT,\n\tcontrastText: BLACK,\n}\n\nconst paletteCommon = {\n\tprimary: { main: PRIMARY, contrastText: WHITE },\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\n\tlightGrey: { main: ALEX_GREY_LIGHTEST, contrastText: BLACK },\n\twarning: {\n\t\tmain: WARNING,\n\t\tcontrastText: BLACK,\n\t},\n\tsuccess: {\n\t\tmain: SUCCESS,\n\t\tcontrastText: BLACK,\n\t},\n\tinfo: {\n\t\tmain: INFO,\n\t\tcontrastText: WHITE,\n\t},\n\terror: {\n\t\tmain: ERROR,\n\t\tcontrastText: WHITE,\n\t},\n\tfirst: lime,\n\tcommon: {\n\t\twhite: WHITE,\n\t\tblack: BLACK,\n\t},\n}\n\nconst paletteDark = {\n\ttype: 'dark',\n\t...paletteCommon,\n\tprimary: darkPrimary,\n\tsecondary: darkSecondary,\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\n\t// accentOne: {\n\t// \tmain: DARK_ACCENT_ONE,\n\t// \tlight: ACCENT_ONE_LIGHT,\n\t// \tcontrastText: WHITE,\n\t// },\n\t// accentTwo: {\n\t// \tmain: DARK_ACCENT_TWO,\n\t// \tlight: ACCENT_TWO_LIGHT,\n\t// \tcontrastText: BLACK,\n\t// },\n\t// special: { main: WARNING, contrastText: BLACK },\n\t// text: {\n\t// \tmain: TEXT_MAIN,\n\t// \tprimary: fade(WHITE, 0.69),\n\t// \tsecondary: fade(WHITE, 0.42),\n\t// \tdisabled: fade(WHITE, 0.1948),\n\t// \thint: fade(WHITE, 0.13),\n\t// },\n\tdivider: fade(WHITE, 0.13),\n\tbackground: {\n\t\tpaper: DARK_PAPER,\n\t\tdefault: DARK_BG_DEFAULT,\n\t},\n\taction: {\n\t\taction: fade(WHITE, 0.46),\n\t\thover: fade(WHITE, 0.069),\n\t\thoverOpacity: 0.069,\n\t\tselected: fade(WHITE, 0.1914),\n\t\tselectedOpacity: 0.1914,\n\t\tdisabled: fade(WHITE, 0.1948),\n\t\tdisabledOpacity: 0.48,\n\t\tfocus: fade(WHITE, 0.18),\n\t\tfocusOpacity: 0.18,\n\t\tactivatedOpacity: 0.18,\n\t},\n\tappBar: { main: DARK_APPBAR, contrastText: grey[200] },\n\ttext: {\n\t\ticon: fade(WHITE, 0.42),\n\t\tprimary: fade(WHITE, 0.9),\n\t\tsecondary: fade(WHITE, 0.42),\n\t\tdisabled: fade(WHITE, 0.1948),\n\t\thint: fade(WHITE, 0.13),\n\t\tsolid: grey[200],\n\t},\n}\n\nconst paletteLight = {\n\ttype: 'light',\n\t...paletteCommon,\n\tprimary,\n\tsecondary,\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\n\tgrey: {\n\t\tmain: ALEX_GREY,\n\t\tcontrastText: WHITE,\n\t\tlight: ALEX_GREY_LIGHT,\n\t\tdark: ALEX_GREY_DARK,\n\t},\n\tappBar: { main: grey[200], contrastText: grey[900] },\n\terror: {\n\t\tmain: ERROR_COLOR,\n\t\tlight: ACCENT_TWO_LIGHT,\n\t\tdark: ACCENT_TWO_DARK,\n\t\tcontrastText: WHITE,\n\t},\n\twarning: {\n\t\tmain: ACCENT_TWO,\n\t\tlight: ERROR_LIGHT,\n\t\tdark: ERROR_DARK,\n\t\tcontrastText: WHITE,\n\t},\n\tbackground: {\n\t\tdefault: BG_DEFAULT,\n\t\tpaper: WHITE,\n\t},\n\tinfo: primary,\n\tsuccess: secondary,\n\tfirst: lime,\n\tcontrastThreshold: 3,\n\ttonalOffset: 0.2,\n\taction: {\n\t\tdisabledBackground: grey[200],\n\t\tdisabled: grey[500],\n\t},\n\ttooltipBgColor: fade(ALEX_GREY, 0.98),\n\ttext: {\n\t\ticon: fade(BLACK, 0.69),\n\t\tprimary: fade(BLACK, 0.9),\n\t\tsecondary: fade(BLACK, 0.69),\n\t\tdisabled: fade(BLACK, 0.42),\n\t\thint: fade(BLACK, 0.13),\n\t\tsolid: grey[500],\n\t},\n}\n\nexport const palette = {\n\tprimary,\n\tsecondary,\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\n\tgrey: {\n\t\tmain: ALEX_GREY,\n\t\tcontrastText: WHITE,\n\t\tlight: ALEX_GREY_LIGHT,\n\t\tdark: ALEX_GREY_DARK,\n\t},\n\tappBar: { main: grey[200], contrastText: grey[900] },\n\terror: {\n\t\tmain: ERROR_COLOR,\n\t\tlight: ACCENT_TWO_LIGHT,\n\t\tdark: ACCENT_TWO_DARK,\n\t\tcontrastText: WHITE,\n\t},\n\twarning: {\n\t\tmain: ACCENT_TWO,\n\t\tlight: ERROR_LIGHT,\n\t\tdark: ERROR_DARK,\n\t\tcontrastText: WHITE,\n\t},\n\tinfo: primary,\n\tsuccess: secondary,\n\tfirst: lime,\n\tcontrastThreshold: 3,\n\ttonalOffset: 0.2,\n\ttext: grey,\n\taction: {\n\t\tdisabledBackground: grey[200],\n\t\tdisabled: grey[500],\n\t},\n\ttooltipBgColor: fade(ALEX_GREY, 0.98),\n}\n\nconst typography = {\n\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n\tfontSize: 13.42,\n}\n\nconst defaultTheme = createMuiTheme({\n\ttypography,\n\tpalette: { ...paletteCommon },\n})\n\nconst darkShadows = [...defaultTheme.shadows, '3px 4px 15px 0px rgba(0,0,0,1)']\n\nconst lightShadows = [\n\t...defaultTheme.shadows,\n\t'2px 2px 13px 0px rgba(69,69,69,0.420)',\n]\n\nconst commonTheme = createMuiTheme({\n\t...defaultTheme,\n\ttypography,\n\toverrides: {\n\t\tMuiButton: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tborderColor: ALEX_GREY,\n\t\t\t},\n\t\t\tcontained: {\n\t\t\t\tbackgroundColor: ALEX_GREY,\n\t\t\t\tcolor: WHITE,\n\t\t\t\tboxShadow: 0,\n\t\t\t\t'&:hover': {\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\n\t\t\t\t\tboxShadow: 0,\n\t\t\t\t\t'@media (hover: none)': {\n\t\t\t\t\t\tboxShadow: 0,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t'&$focusVisible': {\n\t\t\t\t\tboxShadow: 0,\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\n\t\t\t\t},\n\t\t\t\t'&:active': {\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\n\n\t\t\t\t\tboxShadow: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tMuiTableCell: {\n\t\t\thead: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t\troot: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t},\n\t\tMuiPaper: {\n\t\t\trounded: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTooltip: {\n\t\t\ttooltip: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tfontSize: defaultTheme.typography.pxToRem(13),\n\t\t\t\tbackgroundColor: palette.tooltipBgColor,\n\t\t\t},\n\t\t\tarrow: {\n\t\t\t\tcolor: palette.tooltipBgColor,\n\t\t\t},\n\t\t},\n\t\tMuiSelect: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiInputLabel: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiOutlinedInput: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiAlert: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\toutlinedSuccess: {\n\t\t\t\tbackgroundColor: WHITE,\n\t\t\t},\n\t\t\toutlinedInfo: {\n\t\t\t\tbackgroundColor: WHITE,\n\t\t\t},\n\t\t\toutlinedWarning: {\n\t\t\t\tbackgroundColor: WHITE,\n\t\t\t},\n\t\t\toutlinedError: {\n\t\t\t\tbackgroundColor: WHITE,\n\t\t\t},\n\t\t},\n\t\t// MuiStepIcon: {\n\t\t//     root: {\n\t\t//         color: 'yellow',\n\t\t//         '&$active': {\n\t\t//             color: 'orange'\n\t\t//         }\n\t\t//     },\n\t\t//     active: {\n\t\t//         color: 'yellow'\n\t\t//     }\n\t\t// },\n\t\tMuiTableFooter: {\n\t\t\troot: {\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tflex: 0,\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMuiAppBar: {\n\t\t\tcolorDefault: {\n\t\t\t\tbackgroundColor: palette.appBar.main,\n\t\t\t\tcolor: palette.appBar.contrastText,\n\t\t\t},\n\t\t},\n\t\tMUIDataTablePagination: {\n\t\t\ttoolbar: {\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMUIDataTableFilter: {\n\t\t\troot: {\n\t\t\t\tmaxWidth: '400px',\n\t\t\t},\n\t\t},\n\t\t// Think of accessing an element not a class\n\t\tMuiGridListTile: {\n\t\t\troot: {\n\t\t\t\twidth: '100% !important',\n\t\t\t},\n\t\t},\n\t\tMUIDataTableBodyCell: {\n\t\t\tstackedCommon: {\n\t\t\t\t[defaultTheme.breakpoints.down('sm')]: {\n\t\t\t\t\tdisplay: 'inline-flex',\n\t\t\t\t\theight: 'auto',\n\t\t\t\t\tborderBottom: 'none',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tMUIDataTable: {\n\t\t\troot: {\n\t\t\t\tborder: '1px solid black',\n\t\t\t},\n\t\t},\n\t\tMUIDataTableBody: {\n\t\t\temptyTitle: {\n\t\t\t\tpadding: defaultTheme.spacing(2),\n\t\t\t\twidth: '100%',\n\t\t\t},\n\t\t},\n\t},\n})\n\nconst defaultThemeWithOverrides = responsiveFontSizes(commonTheme, {\n\tbreakpoints: ['xs', 'sm', 'md', 'lg', 'xl'],\n\tfactor: 3,\n})\n\nexport const darkTheme = createMuiTheme({\n\t...defaultThemeWithOverrides,\n\tpalette: paletteDark,\n\tshadows: darkShadows,\n\ttype: 'dark',\n})\n\nexport const lightTheme = createMuiTheme({\n\t...defaultThemeWithOverrides,\n\tpalette: paletteLight,\n\tshadows: lightShadows,\n\ttype: 'light',\n})\n","import { createSelector } from 'reselect'\nimport {\n\tt,\n\tselectCampaignsArray,\n\tselectRoutineWithdrawTokens,\n\tselectAdSlotsArray,\n\tselectAdUnits,\n\tcreatArrayOnlyLengthChangeSelector,\n\tselectCampaignAnalyticsByChannelStats,\n\tselectCampaignEventsCount,\n\tselectCampaignAnalyticsByChannelToAdUnit,\n\tselectTotalStatsByAdUnits,\n\tselectCampaignUnitsById,\n\tselectMainToken,\n\tselectAnalytics,\n\tselectPublisherAdvanceStatsToAdUnit,\n\tselectPublisherStatsByCountry,\n\tselectCampaignAnalyticsByChannelToCountry,\n\tselectCampaignAnalyticsByChannelToCountryPay,\n\tselectPublisherAggrStatsByCountry,\n\tselectCampaignAggrStatsByCountry,\n\tselectPublisherPayStatsByCountry,\n\tselectPublisherAdvanceStatsToAdSlot,\n\tselectSavedAudiences,\n\tselectAudienceByCampaignId,\n} from 'selectors'\nimport { utils } from 'ethers'\nimport chartCountriesData from 'world-atlas/countries-50m.json'\nimport { scaleLinear } from 'd3-scale'\nimport { formatAbbrNum } from 'helpers/formatters'\nimport {\n\tPRIMARY_DARKEST,\n\tPRIMARY_LIGHTEST,\n\tSECONDARY,\n\tSECONDARY_LIGHT,\n} from 'components/App/themeMUi'\nimport { grey } from '@material-ui/core/colors'\nimport { constants, helpers } from 'adex-models'\nconst { CountryNames, numericToAlpha2 } = constants\nconst { pricingBondsToUserInputPerMile } = helpers\n\nexport const selectCampaignsTableData = createSelector(\n\t[selectCampaignsArray, selectRoutineWithdrawTokens, (_, side) => side],\n\t(campaigns, tokens, side) =>\n\t\tcampaigns\n\t\t\t.filter(x => !x.archived)\n\t\t\t.map(item => {\n\t\t\t\tconst { decimals = 18 } = tokens[item.depositAsset] || {}\n\t\t\t\tconst {\n\t\t\t\t\tid,\n\t\t\t\t\tspec = {},\n\t\t\t\t\tadUnits = [],\n\t\t\t\t\tstatus,\n\t\t\t\t\tpricingBoundsCPMUserInput,\n\t\t\t\t\tspecPricingBounds,\n\t\t\t\t} = item\n\n\t\t\t\tconst firstUnit = adUnits[0] || {}\n\n\t\t\t\tconst to = `/dashboard/${side}/campaigns/${id}`\n\t\t\t\tconst toReceipt = `/dashboard/${side}/receipt/${id}`\n\n\t\t\t\tconst cpm =\n\t\t\t\t\tpricingBoundsCPMUserInput ||\n\t\t\t\t\tpricingBondsToUserInputPerMile({\n\t\t\t\t\t\tpricingBounds: specPricingBounds.IMPRESSION\n\t\t\t\t\t\t\t? specPricingBounds\n\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\tIMPRESSION: {\n\t\t\t\t\t\t\t\t\t\tmin: item.minPerImpression || spec.minPerImpression,\n\t\t\t\t\t\t\t\t\t\tmax: item.maxPerImpression || spec.maxPerImpression,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t  },\n\t\t\t\t\t\tdecimals,\n\t\t\t\t\t})\n\n\t\t\t\treturn {\n\t\t\t\t\tmedia: {\n\t\t\t\t\t\tside,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tmediaUrl: firstUnit.mediaUrl || '',\n\t\t\t\t\t\tmediaMime: firstUnit.mediaMime || '',\n\t\t\t\t\t\tto,\n\t\t\t\t\t},\n\t\t\t\t\ttitle: item.title,\n\t\t\t\t\tstatus: {\n\t\t\t\t\t\tstatus,\n\t\t\t\t\t\tid,\n\t\t\t\t\t},\n\t\t\t\t\tdepositAmount: Number(\n\t\t\t\t\t\tutils.formatUnits(item.depositAmount || '0', decimals)\n\t\t\t\t\t),\n\t\t\t\t\tfundsDistributedRatio: item.status.fundsDistributedRatio || 0,\n\t\t\t\t\timpressions: selectCampaignEventsCount('IMPRESSION', id),\n\t\t\t\t\tclicks: selectCampaignEventsCount('CLICK', id),\n\n\t\t\t\t\tctr:\n\t\t\t\t\t\t(selectCampaignEventsCount('CLICK', id) /\n\t\t\t\t\t\t\tselectCampaignEventsCount('IMPRESSION', id)) *\n\t\t\t\t\t\t\t100 || 0,\n\t\t\t\t\tminPerImpression: Number(cpm.IMPRESSION.min),\n\n\t\t\t\t\tmaxPerImpression: Number(cpm.IMPRESSION.max),\n\t\t\t\t\tcreated: item.created,\n\t\t\t\t\tactiveFrom: spec.activeFrom || item.activeFrom,\n\t\t\t\t\twithdrawPeriodStart:\n\t\t\t\t\t\tspec.withdrawPeriodStart || item.withdrawPeriodStart,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tside,\n\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tto,\n\t\t\t\t\t\ttoReceipt,\n\t\t\t\t\t\treceiptReady:\n\t\t\t\t\t\t\t(item.status.humanFriendlyName === 'Closed' ||\n\t\t\t\t\t\t\t\titem.status.humanFriendlyName === 'Completed') &&\n\t\t\t\t\t\t\t(item.status.name === 'Exhausted' ||\n\t\t\t\t\t\t\t\titem.status.name === 'Expired'),\n\t\t\t\t\t},\n\t\t\t\t\tid,\n\t\t\t\t\treceiptAvailable:\n\t\t\t\t\t\titem.status.humanFriendlyName === 'Closed' ||\n\t\t\t\t\t\titem.status.humanFriendlyName === 'Completed',\n\t\t\t\t}\n\t\t\t})\n)\n\nexport const selectCampaignsTableDataOnLengthChange = creatArrayOnlyLengthChangeSelector(\n\tselectCampaignsTableData,\n\tdata => data\n)\n\nexport const selectCampaignsMaxImpressions = createSelector(\n\tselectCampaignsArray,\n\tcampaigns =>\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.impressions || 0))) || 1\n)\n\nexport const selectCampaignsMaxClicks = createSelector(\n\tselectCampaignsArray,\n\tcampaigns =>\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.clicks || 0))) || 1\n)\n\nexport const selectCampaignsMaxDeposit = createSelector(\n\t[selectCampaignsArray, selectRoutineWithdrawTokens],\n\t(campaigns, tokens) =>\n\t\tMath.max.apply(\n\t\t\tnull,\n\t\t\tcampaigns.map(i => {\n\t\t\t\tconst { decimals = 18 } = tokens[i.depositAsset] || {}\n\t\t\t\treturn Number(utils.formatUnits(i.depositAmount, decimals) || 0)\n\t\t\t})\n\t\t)\n)\n\nexport const selectAdSlotsTableData = createSelector(\n\t[selectAdSlotsArray, selectPublisherAdvanceStatsToAdSlot, (_, side) => side],\n\t(\n\t\tslots,\n\t\t{\n\t\t\timpressionsByAdSlot,\n\t\t\tclicksByAdSlot,\n\t\t\timpressionsPayByAdSlot,\n\t\t\tclicksPayByAdSlot,\n\t\t},\n\t\tside\n\t) =>\n\t\tslots\n\t\t\t.filter(x => !x.archived)\n\t\t\t.map(item => {\n\t\t\t\tconst id = item.id || item.ipfs\n\t\t\t\tconst to = `/dashboard/${side}/slots/${id}`\n\n\t\t\t\tconst { title, mediaUrl, mediaMime, type, created } = item\n\n\t\t\t\tconst clicks = clicksByAdSlot[id]\n\t\t\t\tconst impressions = impressionsByAdSlot[id]\n\t\t\t\treturn {\n\t\t\t\t\tmedia: {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tmediaUrl,\n\t\t\t\t\t\tmediaMime,\n\t\t\t\t\t\tto,\n\t\t\t\t\t},\n\t\t\t\t\ttitle: title,\n\t\t\t\t\ttype: type.replace('legacy_', ''),\n\t\t\t\t\tcreated: created,\n\t\t\t\t\timpressions,\n\t\t\t\t\tclicks,\n\t\t\t\t\tctr: ((clicks || 0) / (impressions || 1)) * 100,\n\t\t\t\t\tearnings:\n\t\t\t\t\t\tNumber(impressionsPayByAdSlot[id] || 0) +\n\t\t\t\t\t\tNumber(clicksPayByAdSlot[id] || 0),\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tto,\n\t\t\t\t\t\titem,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t})\n)\n\nexport const selectAdUnitsTableData = createSelector(\n\t[\n\t\t(state, { side, campaignId, items }) => {\n\t\t\tconst selectOnImage = !!items\n\t\t\treturn {\n\t\t\t\tselectOnImage,\n\t\t\t\tside,\n\t\t\t\titems:\n\t\t\t\t\titems ||\n\t\t\t\t\t(campaignId\n\t\t\t\t\t\t? selectCampaignUnitsById(state, campaignId)\n\t\t\t\t\t\t: selectAdUnits(state)),\n\t\t\t\timpressionsByAdUnit: id =>\n\t\t\t\t\tcampaignId\n\t\t\t\t\t\t? selectCampaignAnalyticsByChannelToAdUnit(state, {\n\t\t\t\t\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\t\t\t\t\tcampaignId,\n\t\t\t\t\t\t  })[id]\n\t\t\t\t\t\t: selectTotalStatsByAdUnits(state, {\n\t\t\t\t\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\t\t\t\t\tadUnitId: id,\n\t\t\t\t\t\t  }),\n\t\t\t\tclicksByAdUnit: id =>\n\t\t\t\t\tcampaignId\n\t\t\t\t\t\t? selectCampaignAnalyticsByChannelToAdUnit(state, {\n\t\t\t\t\t\t\t\ttype: 'CLICK',\n\t\t\t\t\t\t\t\tcampaignId,\n\t\t\t\t\t\t  })[id]\n\t\t\t\t\t\t: selectTotalStatsByAdUnits(state, {\n\t\t\t\t\t\t\t\ttype: 'CLICK',\n\t\t\t\t\t\t\t\tadUnitId: id,\n\t\t\t\t\t\t  }),\n\t\t\t}\n\t\t},\n\t],\n\t({ selectOnImage, side, items, impressionsByAdUnit, clicksByAdUnit }) =>\n\t\tObject.values(items)\n\t\t\t.filter(x => !x.archived)\n\t\t\t.map(item => {\n\t\t\t\tconst id = item.id || item.ipfs\n\t\t\t\tconst to = `/dashboard/${side}/units/${id}`\n\t\t\t\tconst { title, mediaUrl, mediaMime, type, created } = item\n\n\t\t\t\treturn {\n\t\t\t\t\tid,\n\t\t\t\t\tmedia: {\n\t\t\t\t\t\tselectOnImage,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tmediaUrl,\n\t\t\t\t\t\tmediaMime,\n\t\t\t\t\t\tto,\n\t\t\t\t\t},\n\t\t\t\t\timpressions: impressionsByAdUnit(id) || 0,\n\t\t\t\t\tclicks: clicksByAdUnit(id) || 0,\n\t\t\t\t\tctr: (clicksByAdUnit(id) / impressionsByAdUnit(id)) * 100 || 0,\n\t\t\t\t\ttitle,\n\t\t\t\t\ttype,\n\t\t\t\t\tcreated,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tto,\n\t\t\t\t\t\titem,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t})\n)\n\nexport const selectAudiencesTableData = createSelector(\n\t[selectSavedAudiences],\n\taudiences =>\n\t\taudiences\n\t\t\t.filter(x => !x.archived)\n\t\t\t.map(item => {\n\t\t\t\tconst { id, title, inputs, version, created, updated } = item\n\n\t\t\t\tconst to = `/dashboard/advertiser/audiences/${id}`\n\n\t\t\t\treturn {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\ttitle: title || id,\n\t\t\t\t\t\tto,\n\t\t\t\t\t},\n\t\t\t\t\tcreated,\n\t\t\t\t\tupdated,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\taudienceInput: { inputs, version },\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tto: `/dashboard/advertiser/audiences/${id}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t})\n)\n\nconst mapByCountryTableData = ({\n\timpressionsByCountry,\n\tclicksByCountry,\n\timpressionsAggrByCountry,\n\timpressionsPayByCountry,\n\tclicksPayByCountry,\n} = {}) => {\n\tconst addEarnings = impressionsPayByCountry && clicksPayByCountry\n\t// NOTE: assume that there are no click without impressions\n\treturn Object.keys(impressionsByCountry).map(key => {\n\t\treturn {\n\t\t\tcountryName: CountryNames[key],\n\t\t\timpressions: impressionsByCountry[key] || 0,\n\t\t\tpercentImpressions:\n\t\t\t\t((impressionsByCountry[key] || 0) /\n\t\t\t\t\t(impressionsAggrByCountry.total || 1)) *\n\t\t\t\t100,\n\t\t\tclicks: clicksByCountry[key] || 0,\n\n\t\t\tctr:\n\t\t\t\t((clicksByCountry[key] || 0) / (impressionsByCountry[key] || 1)) * 100,\n\t\t\t...(addEarnings && {\n\t\t\t\tearnings:\n\t\t\t\t\t(impressionsPayByCountry[key] || 0) + (clicksPayByCountry[key] || 0),\n\t\t\t\taverageCPM:\n\t\t\t\t\t(Number(impressionsPayByCountry[key] || 0) /\n\t\t\t\t\t\tNumber(impressionsByCountry[key] || 1)) *\n\t\t\t\t\t1000,\n\t\t\t}),\n\t\t}\n\t})\n}\n\nexport const selectPublisherStatsByCountryData = createSelector(\n\t[\n\t\tstate => selectPublisherStatsByCountry(state, 'IMPRESSION'),\n\t\tstate => selectPublisherStatsByCountry(state, 'CLICK'),\n\t\tstate => selectPublisherAggrStatsByCountry(state, 'IMPRESSION'),\n\t\tstate => selectPublisherPayStatsByCountry(state, 'IMPRESSION'),\n\t\tstate => selectPublisherPayStatsByCountry(state, 'CLICK'),\n\t],\n\t(\n\t\timpressionsByCountry,\n\t\tclicksByCountry,\n\t\timpressionsAggrByCountry,\n\t\timpressionsPayByCountry,\n\t\tclicksPayByCountry\n\t) => ({\n\t\timpressionsByCountry,\n\t\tclicksByCountry,\n\t\timpressionsAggrByCountry,\n\t\timpressionsPayByCountry,\n\t\tclicksPayByCountry,\n\t})\n)\n\nexport const selectCampaignAnalyticsToCountryData = createSelector(\n\t(state, { campaignId }) => {\n\t\treturn [\n\t\t\tselectCampaignAnalyticsByChannelToCountry(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tselectCampaignAnalyticsByChannelToCountry(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tselectCampaignAggrStatsByCountry(state, {\n\t\t\t\tcampaignId,\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t}),\n\t\t\tselectCampaignAnalyticsByChannelToCountryPay(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tselectCampaignAnalyticsByChannelToCountryPay(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t]\n\t},\n\t([\n\t\timpressionsByCountry,\n\t\tclicksByCountry,\n\t\timpressionsAggrByCountry,\n\t\timpressionsPayByCountry,\n\t\tclicksPayByCountry,\n\t]) => {\n\t\treturn {\n\t\t\timpressionsByCountry,\n\t\t\tclicksByCountry,\n\t\t\timpressionsAggrByCountry,\n\t\t\timpressionsPayByCountry,\n\t\t\tclicksPayByCountry,\n\t\t}\n\t}\n)\n\nexport const selectPublisherStatsByCountryTableData = createSelector(\n\tselectPublisherStatsByCountryData,\n\tdata => mapByCountryTableData(data)\n)\n\nexport const selectCampaignAnalyticsToCountryTableData = createSelector(\n\t[\n\t\t(state, { campaignId }) => {\n\t\t\treturn selectCampaignAnalyticsToCountryData(state, { campaignId })\n\t\t},\n\t],\n\tdata => mapByCountryTableData(data)\n)\n\nconst mapByCountryMapChartData = ({\n\timpressionsByCountry,\n\tclicksByCountry,\n\timpressionsAggrByCountry,\n} = {}) => {\n\tconst colorScale = scaleLinear()\n\t\t.domain([0, impressionsAggrByCountry.max])\n\t\t.range([PRIMARY_LIGHTEST, PRIMARY_DARKEST])\n\n\tconst hoverColor = SECONDARY\n\tconst pressedColor = SECONDARY_LIGHT\n\tconst chartData = { ...chartCountriesData }\n\n\tchartData.objects.countries.geometries = chartCountriesData.objects.countries.geometries.map(\n\t\tdata => {\n\t\t\tconst id = numericToAlpha2(data.id)\n\t\t\tconst impressions = impressionsByCountry[id] || 0\n\t\t\tconst clicks = clicksByCountry[id] || 0\n\t\t\tconst name = CountryNames[id] || data.name\n\t\t\tconst percentImpressions =\n\t\t\t\t((impressions || 0) / impressionsAggrByCountry.total) * 100 || 0\n\t\t\tconst ctr = ((clicks || 0) / (impressions || 1)) * 100 || 0\n\t\t\tconst tooltipElements = [\n\t\t\t\t`${name}:`,\n\t\t\t\t`${t('LABEL_IMPRESSIONS')}: ${formatAbbrNum(impressions, 2)}`,\n\t\t\t\t`${t('LABEL_CLICKS')}: ${formatAbbrNum(clicks, 2)}`,\n\t\t\t\t`${t('LABEL_PERC')}: ${percentImpressions.toFixed(2)} %`,\n\t\t\t\t`${t('LABEL_CTR')}: ${ctr.toFixed(4)} %`,\n\t\t\t]\n\n\t\t\tconst fillColor = impressions > 0 ? colorScale(impressions) : grey[400]\n\n\t\t\tconst properties = {\n\t\t\t\tname,\n\t\t\t\tfillColor,\n\t\t\t\ttooltipElements,\n\t\t\t}\n\n\t\t\treturn { ...data, properties }\n\t\t}\n\t)\n\n\treturn { chartData, hoverColor, pressedColor }\n}\n\nexport const selectPublisherStatsByCountryMapChartData = createSelector(\n\t[selectPublisherStatsByCountryData],\n\tdata => mapByCountryMapChartData(data)\n)\n\nexport const selectCampaignAnalyticsToCountryMapChartData = createSelector(\n\t[\n\t\t(state, { campaignId }) =>\n\t\t\tselectCampaignAnalyticsToCountryData(state, { campaignId }),\n\t],\n\tdata => mapByCountryMapChartData(data)\n)\n\nexport const selectBestEarnersTableData = createSelector(\n\tselectPublisherAdvanceStatsToAdUnit,\n\titems =>\n\t\titems.map(item => {\n\t\t\tconst {\n\t\t\t\tid,\n\t\t\t\tmediaUrl,\n\t\t\t\tmediaMime,\n\t\t\t\ttype,\n\t\t\t\timpressions,\n\t\t\t\tclicks,\n\t\t\t\timpressionsPay,\n\t\t\t\tclicksPay,\n\t\t\t} = item\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\tmedia: {\n\t\t\t\t\tid,\n\t\t\t\t\tmediaUrl,\n\t\t\t\t\tmediaMime,\n\t\t\t\t},\n\t\t\t\ttype,\n\t\t\t\timpressions,\n\t\t\t\tclicks,\n\t\t\t\tctr: ((clicks || 0) / (impressions || 1)) * 100,\n\t\t\t\tearnings: impressionsPay + clicksPay,\n\t\t\t}\n\t\t})\n)\n\nexport const selectCampaignStatsTableData = createSelector(\n\t[\n\t\tselectAudienceByCampaignId,\n\t\t(state, campaignId) => {\n\t\t\treturn {\n\t\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\t\tcampaignId,\n\t\t\t\t}),\n\t\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\t\ttype: 'CLICK',\n\t\t\t\t\tcampaignId,\n\t\t\t\t}),\n\t\t\t}\n\t\t},\n\t],\n\t(campaignAudienceInput, { impressions, clicks }) => {\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\n\t\tconst earnStats = impressions.reportChannelToHostnamePay || {}\n\n\t\tconst rules = campaignAudienceInput\n\t\t\t? campaignAudienceInput.inputs.publishers\n\t\t\t: null\n\n\t\treturn Object.keys(imprStats).map(key => ({\n\t\t\tisBlacklisted:\n\t\t\t\trules &&\n\t\t\t\t((rules.apply === 'nin' &&\n\t\t\t\t\t(rules.nin || []).some(x => x.includes(key))) ||\n\t\t\t\t\t(rules.apply === 'ni' &&\n\t\t\t\t\t\t!(rules.in || []).some(x => x.includes(key)))),\n\n\t\t\twebsite: key,\n\t\t\timpressions: imprStats[key] || 0,\n\t\t\tctr: ((clickStats[key] || 0) / (imprStats[key] || 1)) * 100,\n\t\t\tearnings: Number(earnStats[key] || 0),\n\t\t\taverageCPM:\n\t\t\t\t(Number(earnStats[key] || 0) / Number(imprStats[key] || 1)) * 1000,\n\t\t\tclicks: clickStats[key] || 0,\n\t\t}))\n\t}\n)\n\nexport const selectCampaignTotalValues = createSelector(\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\t\t\t\tnewResult.totalClicks += current.clicks\n\t\t\t\tnewResult.totalImpressions += current.impressions\n\t\t\t\tnewResult.totalEarnings += current.earnings\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ totalClicks: 0, totalImpressions: 0, totalEarnings: 0 }\n\t\t)\n)\n\nexport const selectCampaignStatsMaxValues = createSelector(\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\n\t\t\t\tnewResult.maxImpressions = Math.max(\n\t\t\t\t\tcurrent.impressions,\n\t\t\t\t\tnewResult.maxImpressions\n\t\t\t\t)\n\t\t\t\tnewResult.maxEarnings = Math.max(\n\t\t\t\t\tcurrent.earnings,\n\t\t\t\t\tnewResult.maxEarnings\n\t\t\t\t)\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxEarnings: 0, maxCTR: 0 }\n\t\t)\n)\n\nexport const selectAdUnitsStatsMaxValues = createSelector(\n\t(state, { side, items, campaignId }) =>\n\t\tselectAdUnitsTableData(state, { side, items, campaignId }),\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\n\t\t\t\tnewResult.maxImpressions = Math.max(\n\t\t\t\t\tcurrent.impressions,\n\t\t\t\t\tnewResult.maxImpressions\n\t\t\t\t)\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxCTR: 0 }\n\t\t)\n)\n\nexport const selectPublisherReceiptsStatsByMonthTableData = createSelector(\n\t[selectAnalytics, selectMainToken, (_, date) => date],\n\t({ receipts }, token, date) => {\n\t\tconst result = []\n\t\tif (receipts && receipts[date]) {\n\t\t\tconst { decimals = 18 } = token || {}\n\t\t\tfor (let [key, value] of Object.entries(receipts[date])) {\n\t\t\t\tresult.push({\n\t\t\t\t\timpressions: value.impressions,\n\t\t\t\t\tpayouts: Number(utils.formatUnits(value.payouts || '0', decimals)),\n\t\t\t\t\tdate: +key,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\treturn result\n\t}\n)\n\nexport const selectPublisherReceiptsStatsByMonthTotalValues = createSelector(\n\t[selectPublisherReceiptsStatsByMonthTableData],\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\t\t\t\tnewResult.totalPayouts += +current.payouts\n\t\t\t\tnewResult.totalImpressions += +current.impressions\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ totalPayouts: 0, totalImpressions: 0 }\n\t\t)\n)\n","import { createSelector } from 'reselect'\nimport { t, selectCampaignAnalyticsByChannelStats } from 'selectors'\n\nexport const selectCampaignDoughnutStats = createSelector(\n\t(state, { campaignId, chartColors, maxDataSets }) => {\n\t\tconst analytics = {\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t}\n\n\t\treturn { ...analytics, chartColors, maxDataSets }\n\t},\n\t({ impressions, clicks, chartColors, maxDataSets }) => {\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\n\n\t\tconst { labels, impressionsData, clicksData } = Object.keys(imprStats)\n\t\t\t.sort((a, b) => imprStats[b] - imprStats[a])\n\t\t\t.reduce(\n\t\t\t\t(data, key, i) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tif (i < maxDataSets) {\n\t\t\t\t\t\tnewData.labels.push(key)\n\t\t\t\t\t\tnewData.impressionsData.push(imprStats[key] || 0)\n\t\t\t\t\t\tdata.clicksData.push(clickStats[key] || 0)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata.labels[maxDataSets] = t('PIE_CHART_OTHER')\n\n\t\t\t\t\t\tdata.impressionsData[maxDataSets] =\n\t\t\t\t\t\t\t(data.impressionsData[maxDataSets] || 0) + (imprStats[key] || 0)\n\n\t\t\t\t\t\tdata.clicksData[maxDataSets] =\n\t\t\t\t\t\t\t(data.clicksData[maxDataSets] || 0) + (clickStats[key] || 0)\n\t\t\t\t\t}\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{ labels: [], impressionsData: [], clicksData: [] }\n\t\t\t)\n\n\t\tconst data = {\n\t\t\tlabels,\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: chartColors,\n\t\t\t\t\thoverBackgroundColor: chartColors,\n\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\tdata: impressionsData,\n\t\t\t\t\tlabel: t('CHART_LABEL_IMPRESSIONS'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: chartColors,\n\t\t\t\t\thoverBackgroundColor: chartColors,\n\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\tdata: clicksData,\n\t\t\t\t\tlabel: t('CHART_LABEL_CLICKS'),\n\t\t\t\t},\n\t\t\t],\n\t\t}\n\n\t\treturn data\n\t}\n)\n","import { exchange as ExchangeConstants } from 'adex-constants'\nimport { constants } from 'adex-models'\n\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\nconst { SignatureModes } = constants\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nexport const AVATAR_MAX_WIDTH = 600\nexport const AVATAR_MAX_HEIGHT = 400\n\nexport const SORT_PROPERTIES_BIDS = [\n\t{ value: '_state', label: '' },\n\t{ value: '_target', label: '' },\n\t{ value: '_amount', label: '' },\n\t{ value: '_timeout', label: '' },\n]\n\nexport const FILTER_PROPERTIES_BIDS = {\n\t_state: {\n\t\tlabel: '_state',\n\t\tlabelIsProp: true,\n\t\tvalues: Object.keys(BID_STATES).map(key => {\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\n\t\t}),\n\t},\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\n}\n\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\n}\n\nexport const SORT_PROPERTIES_ITEMS = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n\t{ value: 'type' },\n]\n\nexport const SORT_PROPERTIES_COLLECTION = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n]\n\nexport const FILTER_PROPERTIES_ITEMS = {\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\n}\n\nexport const AUTH_TYPES = {\n\tREADONLY: { name: 'readonly' },\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\n}\n\nexport const NETWORK_STATUS = {\n\t0: 'pending',\n\t1: 'success',\n\t2: 'failed',\n}\n\nexport const ETHEREUM_NETWORKS = {\n\t1: { name: 'Mainnet', for: 'production' },\n\t5: { name: 'Goerli', for: 'development' },\n\tproduction: { name: 'Mainnet', for: 'production' },\n\tdevelopment: { name: 'Goerli', for: 'development' },\n}\n\nexport const SORT_PROPERTIES_CAMPAIGN = [\n\t{ value: 'created', label: 'Created' },\n\t{ value: 'status.name', label: 'Status' },\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\n\t{ value: 'activeFrom', label: 'Starts' },\n\t{ value: 'depositAmount', label: 'depositAmount' },\n\t{ value: 'maxPerImpression', label: 'cpm' },\n]\n\nexport const FILTER_PROPERTIES_CAMPAIGN = {\n\t'status.name': {\n\t\tlabel: 'ststus',\n\t\tlabelIsProp: true,\n\t\tvalues: [\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\n\t\t\t{ value: 'Offline', label: 'Offline' },\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\n\t\t\t{ value: 'Ready', label: 'Ready' },\n\t\t\t{ value: 'Active', label: 'Active' },\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\n\t\t\t{ value: 'Expired', label: 'Expired' },\n\t\t],\n\t},\n}\n\nexport const UTM_PARAMS = {\n\tutm_source: 'ADEX',\n\tutm_medium: 'CPM',\n\tutm_campaign: 'none',\n\tutm_content: 'none',\n}\n\nexport const VALIDATOR_ANALYTICS_METRICS = [\n\t'eventPayouts', //\n\t'eventCounts',\n]\nexport const VALIDATOR_ANALYTICS_SIDES = [\n\t'advertiser',\n\t'publisher', //\n]\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = [\n\t'IMPRESSION', //\n\t'CLICK',\n]\n\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\n\t{ label: 'LABEL_HOUR', value: 'hour' },\n\t{ label: 'LABEL_DAY', value: 'day' },\n\t{ label: 'LABEL_WEEK', value: 'week' },\n\t{ label: 'LABEL_MONTH', value: 'month' },\n\t{ label: 'LABEL_YEAR', value: 'year' },\n]\n\nexport const WHERE_YOU_KNOW_US = [\n\t{ label: 'LABEL_GOOGLE', value: 'search_engine' },\n\t{ label: 'LABEL_TWITTER', value: 'twitter' },\n\t{ label: 'LABEL_FACEBOOK', value: 'facebook' },\n\t{ label: 'LABEL_REDDIT', value: 'reddit' },\n\t{ label: 'LABEL_EVENT', value: 'event' },\n\t{ label: 'LABEL_FRIEND', value: 'friend' },\n\t{ label: 'LABEL_OTHER', value: 'other' },\n]\n\nexport const USER_SIDES = [\n\t{\n\t\tlabel: 'LABEL_PUBLISHER',\n\t\tvalue: 'publisher',\n\t\textraLabels: ['SALE_POINT_PUB_1', 'SALE_POINT_PUB_2', 'SALE_POINT_PUB_3'],\n\t},\n\t{\n\t\tlabel: 'LABEL_ADVERTISER',\n\t\tvalue: 'advertiser',\n\t\textraLabels: ['SALE_POINT_ADV_1', 'SALE_POINT_ADV_2', 'SALE_POINT_ADV_3'],\n\t},\n]\n\nexport const MOON_GRAVITY_ACCELERATION = 1.625\nexport const MOON_TO_EARTH_WEIGHT = 0.166\n\nexport const WALLET_ACTIONS_MSGS = {\n\t[AUTH_TYPES.METAMASK.name]: [\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\n\t],\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\n\t[AUTH_TYPES.QUICK.name]: [\n\t\t{ message: 'QUICK_WAITING_MSG' },\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\n\t],\n\t[AUTH_TYPES.GRANT.name]: [\n\t\t{ message: 'GRANT_WAITING_MSG' },\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\n\t],\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\n}\n\nexport const EXECUTE_ACTIONS = {\n\twithdraw: 'WITHDRAW',\n\tprivilegesChange: 'PRIVILEGES_CHANGE',\n\tensChange: 'ENS_CHANGE',\n\topenCampaign: 'OPEN_CAMPAIGN',\n\tdefault: 'DEFAULT',\n}\n","import { BigNumber, utils } from 'ethers'\nimport {\n\tt,\n\tselectDemandAnalytics,\n\tselectMainToken,\n\tselectWebsitesArray,\n\tselectVerifiedActiveTargetingAnalytics,\n} from 'selectors'\nimport { createSelector } from 'reselect'\nimport { constants } from 'adex-models'\nimport { WHERE_YOU_KNOW_US, USER_SIDES } from 'constants/misc'\nimport moment from 'moment'\n\nexport const selectSlotTypesSourceWithDemands = createSelector(\n\t[selectDemandAnalytics, selectMainToken],\n\t(demand, { symbol }) => {\n\t\tconst { source } = constants.AdUnitsTypes.map(type => {\n\t\t\treturn {\n\t\t\t\tvalue: type,\n\t\t\t\tlabel: type.split('_')[1],\n\t\t\t\tdemand: demand[type],\n\t\t\t}\n\t\t})\n\t\t\t.sort((a, b) => {\n\t\t\t\tconst dA = BigNumber.from(a.demand ? a.demand.raw.avgCPM : 0)\n\t\t\t\tconst dB = BigNumber.from(b.demand ? b.demand.raw.avgCPM : 0)\n\n\t\t\t\treturn dA.gt(dB) ? -1 : dB.gt(dA) ? 1 : 0\n\t\t\t})\n\t\t\t.reduce(\n\t\t\t\t(data, type, index) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tconst source = newData.source\n\t\t\t\t\tconst current = type\n\t\t\t\t\tif (index === 0 && type.demand) {\n\t\t\t\t\t\tnewData.hasPopularGroup = true\n\t\t\t\t\t\tsource.push({ group: t('POPULAR_SLOTS_TYPES') })\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\t!newData.hasNoDemandGroup &&\n\t\t\t\t\t\tnewData.hasPopularGroup &&\n\t\t\t\t\t\tindex !== 0 &&\n\t\t\t\t\t\t!type.demand\n\t\t\t\t\t) {\n\t\t\t\t\t\tnewData.hasNoDemandGroup = true\n\t\t\t\t\t\tsource.push({ group: t('NO_DEMAND_SLOTS_TYPES') })\n\t\t\t\t\t}\n\n\t\t\t\t\tif (current.demand) {\n\t\t\t\t\t\tconst demandIfo = t('SLOT_TYPE_DEMAND_INFO', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.avgCPM,\n\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.totalVolume,\n\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})\n\t\t\t\t\t\tcurrent.label = `${current.label} (${demandIfo})`\n\t\t\t\t\t}\n\t\t\t\t\tsource.push(current)\n\n\t\t\t\t\tnewData.source = source\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{ source: [], hasPopularGroup: false, hasNoDemandGroup: false }\n\t\t\t)\n\t\treturn source\n\t}\n)\n\nexport const selectVerifiedActiveTypes = createSelector(\n\t[selectVerifiedActiveTargetingAnalytics, selectMainToken],\n\t(targetingAnalytics, { decimals }) => {\n\t\tconst verified = targetingAnalytics.reduce((types, data) => {\n\t\t\tdata.types.forEach(t => {\n\t\t\t\tconst typeData = types.get(t) || {\n\t\t\t\t\tbyOwner: {},\n\t\t\t\t\tminSlotCount: 1,\n\t\t\t\t}\n\n\t\t\t\ttypeData.byOwner[data.owner] = typeData.byOwner[data.owner] || {}\n\t\t\t\t// As totalEarned is by owner we need it once\n\t\t\t\ttypeData.byOwner[data.owner].revenue =\n\t\t\t\t\ttypeData.byOwner[data.owner].revenue || data.totalEarned || '0'\n\n\t\t\t\ttypeData.byOwner[data.owner].campaignsEarnedFrom =\n\t\t\t\t\ttypeData.byOwner[data.owner].campaignsEarnedFrom ||\n\t\t\t\t\tdata.campaignsEarnedFrom ||\n\t\t\t\t\t1\n\t\t\t\ttypes.set(t, typeData)\n\t\t\t})\n\n\t\t\treturn types\n\t\t}, new Map())\n\n\t\tverified.forEach((value, key) => {\n\t\t\tconst totalRevenue = Object.values(value.byOwner).reduce(\n\t\t\t\t(total, r = {}) => total.add(BigNumber.from(r.revenue || '0')),\n\t\t\t\tBigNumber.from('0')\n\t\t\t)\n\n\t\t\tverified.set(key, {\n\t\t\t\trevenue: parseFloat(\n\t\t\t\t\tutils.formatUnits(totalRevenue.toString(), decimals)\n\t\t\t\t),\n\t\t\t})\n\t\t})\n\n\t\treturn verified\n\t}\n)\n\nexport const selectUnitTypesSourceWithRecommendations = createSelector(\n\t[selectVerifiedActiveTypes, selectMainToken],\n\t(verifiedTypes, { symbol } = {}) => {\n\t\tconst totoShare = Array.from(verifiedTypes.values()).reduce(\n\t\t\t(total, { revenue = 0 }) => total + revenue,\n\t\t\t1\n\t\t)\n\n\t\tconst { source } = constants.AdUnitsTypes.map(type => ({\n\t\t\tvalue: type,\n\n\t\t\trevenue: (verifiedTypes.get(type) || {}).revenue || 0,\n\t\t}))\n\t\t\t.sort((a, b) => {\n\t\t\t\treturn b.revenue - a.revenue\n\t\t\t})\n\t\t\t.reduce(\n\t\t\t\t(data, type, index) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tconst source = newData.source\n\t\t\t\t\tconst { revenue, ...typeRest } = type\n\t\t\t\t\tconst current = { ...typeRest }\n\t\t\t\t\tcurrent.label = current.value.split('_')[1]\n\t\t\t\t\tif (index === 0 && revenue > 0) {\n\t\t\t\t\t\tnewData.hasPopularGroup = true\n\t\t\t\t\t\tsource.push({ group: t('MOST_POPULAR_UNITS_TYPES') })\n\t\t\t\t\t}\n\n\t\t\t\t\tconst share = revenue / totoShare\n\t\t\t\t\tif (\n\t\t\t\t\t\t!newData.hasLessPopularGroup &&\n\t\t\t\t\t\tnewData.hasPopularGroup &&\n\t\t\t\t\t\tindex !== 0 &&\n\t\t\t\t\t\tshare <= 0.01 // less than 1%\n\t\t\t\t\t) {\n\t\t\t\t\t\tnewData.hasLessPopularGroup = true\n\t\t\t\t\t\tsource.push({ group: t('LESS_POPULAR_UNITS_TYPES') })\n\t\t\t\t\t}\n\n\t\t\t\t\tsource.push(current)\n\n\t\t\t\t\tnewData.source = source\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tsource: [],\n\t\t\t\t\thasPopularGroup: false,\n\t\t\t\t\thasLessPopularGroup: false,\n\t\t\t\t}\n\t\t\t)\n\n\t\treturn source\n\t}\n)\n\nexport const selectMonthsRange = createSelector(\n\t[\n\t\t(startDate, endDate) => ({\n\t\t\tstartDate,\n\t\t\tendDate,\n\t\t}),\n\t],\n\t({ startDate, endDate }) => {\n\t\tconst months = []\n\t\tfor (\n\t\t\tvar m = moment(startDate).startOf('month');\n\t\t\tm.diff(moment(endDate).startOf('month')) <= 0;\n\t\t\tm.add(1, 'month')\n\t\t) {\n\t\t\tmonths.push(+m)\n\t\t}\n\t\treturn months\n\t}\n)\n\nexport const selectReceiptMonths = createSelector(\n\t[selectMonthsRange, (_, __, monthsEnd) => monthsEnd],\n\t(months, monthsEnd) =>\n\t\tmonths.map(monthTimestamp => ({\n\t\t\tvalue: monthTimestamp,\n\t\t\tlabel: !!monthsEnd\n\t\t\t\t? moment(monthTimestamp)\n\t\t\t\t\t\t.endOf('month')\n\t\t\t\t\t\t.format('Do MMMM, YYYY')\n\t\t\t\t: moment(monthTimestamp).format('Do MMMM, YYYY'),\n\t\t}))\n)\n\nexport const selectFromSource = createSelector(\n\tlabelValueMapping => labelValueMapping,\n\tsource =>\n\t\tsource.map(data => {\n\t\t\tconst translated = { ...data }\n\t\t\ttranslated.label = t(data.label)\n\t\t\tconst extraLabel = data.extraLabel\n\t\t\t\t? t(data.extraLabel)\n\t\t\t\t: data.extraLabels && data.extraLabels.length\n\t\t\t\t? data.extraLabels.map(l => t(l))\n\t\t\t\t: undefined\n\t\t\ttranslated.extraLabel = extraLabel\n\t\t\treturn translated\n\t\t})\n)\n\nexport const selectKnowUsFromSource = createSelector(\n\t() => selectFromSource(WHERE_YOU_KNOW_US),\n\tsource => source\n)\n\nexport const selectUserSides = createSelector(\n\t() => selectFromSource(USER_SIDES),\n\tsource => source\n)\n\nexport const websitesAutocompleteSrc = createSelector(\n\tselectWebsitesArray,\n\twebsites =>\n\t\twebsites.map(ws => {\n\t\t\tconst website = `https://${ws.id}`\n\t\t\treturn {\n\t\t\t\tlabel: website,\n\t\t\t\tvalue: website,\n\t\t\t\tstatus: ws.issues && ws.issues.length ? 'error' : 'success',\n\t\t\t}\n\t\t})\n)\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectAdUnitsArray,\r\n\tselectCampaignsArray,\r\n\tselectAdSlotsArray,\r\n\tselectAccountIdentityDeployData,\r\n\tselectAccountStatsFormatted,\r\n\tselectPublisherTotalImpressions,\r\n\tselectWebsitesList,\r\n} from 'selectors'\r\n\r\nexport const selectHasCreatedAdUnit = createSelector(\r\n\t[selectAdUnitsArray],\r\n\tadUnitsArray => adUnitsArray.length > 0\r\n)\r\n\r\nexport const selectHasCreatedCampaign = createSelector(\r\n\t[selectCampaignsArray],\r\n\tcampaignsArray => campaignsArray.length > 0\r\n)\r\n\r\nexport const selectHasConfirmedEmail = createSelector(\r\n\t[selectAccountIdentityDeployData],\r\n\t({ meta = {} }) => !!meta.emailConfirmed\r\n)\r\n\r\nexport const selectHasFundedAccount = createSelector(\r\n\t[selectAccountStatsFormatted, selectHasCreatedCampaign],\r\n\t({ identityBalanceMainToken }, hasCampaign) =>\r\n\t\thasCampaign || Number(identityBalanceMainToken) > 0\r\n)\r\n\r\nexport const selectHasCreatedAdSlot = createSelector(\r\n\tselectAdSlotsArray,\r\n\tadSlotsArray => adSlotsArray.length > 0\r\n)\r\n\r\nexport const hasVerifiedSites = createSelector(\r\n\tselectWebsitesList,\r\n\twebsites => websites.some(({ issues }) => !issues || !issues.length)\r\n)\r\n\r\nexport const selectHasAdSlotImpressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 0\r\n)\r\nexport const selectHas5000Impressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 5000\r\n)\r\n\r\nexport const selectStepsData = createSelector(\r\n\t[\r\n\t\tselectHasCreatedAdUnit,\r\n\t\tselectHasCreatedCampaign,\r\n\t\tselectHasCreatedAdSlot,\r\n\t\tselectHasConfirmedEmail,\r\n\t\tselectHasFundedAccount,\r\n\t\tselectHasAdSlotImpressions,\r\n\t\tselectHas5000Impressions,\r\n\t\thasVerifiedSites,\r\n\t],\r\n\t(\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions,\r\n\t\thasVerifiedSites\r\n\t) => ({\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions,\r\n\t\thasVerifiedSites,\r\n\t})\r\n)\r\n","import { createSelector } from 'reselect'\nimport {\n\tselectCampaignById,\n\tselectAdUnitById,\n\tselectAdSlotById,\n\tselectSide,\n\tt,\n} from 'selectors'\n\nexport const selectLocation = state => state.router.location\n\nexport const selectSearch = createSelector(\n\tselectLocation,\n\t({ search }) => search\n)\n\nexport const selectLocationQuery = createSelector(\n\tselectLocation,\n\t({ query }) => query || {}\n)\n\nexport const selectSearchParams = createSelector(\n\tselectLocation,\n\t({ search }) => new URLSearchParams(search)\n)\n\nconst ITEMS_SELECTORS = {\n\tcampaigns: selectCampaignById,\n\treceipt: selectCampaignById,\n\tunits: selectAdUnitById,\n\tslots: selectAdSlotById,\n}\n\nconst SIDES = {\n\tadvertiser: true,\n\tpublisher: true,\n}\n\nexport const selectDashboardBreadcrumbs = createSelector(\n\t[selectLocation, state => state, selectSide],\n\t({ pathname = '' }, state, side) => {\n\t\tconst paths = pathname.split('/').filter(x => !!x)\n\t\tconst sideDashboard = paths.slice(0, 2)\n\n\t\t// NOTE: no breadcrumbs if no side dashboard\n\t\tif (sideDashboard[0] !== 'dashboard' || !SIDES[sideDashboard[1]]) {\n\t\t\treturn []\n\t\t}\n\n\t\tconst sideDashboardBC = {\n\t\t\tto: `/${sideDashboard.join('/')}`,\n\t\t\tlabel: 'dashboard',\n\t\t}\n\n\t\tconst rest = paths.slice(2)\n\n\t\tconst restBC = rest.map((x, index) => {\n\t\t\tconst prev = rest[index - 1]\n\t\t\tconst selector = ITEMS_SELECTORS[prev]\n\n\t\t\tlet label = x\n\n\t\t\tif (selector) {\n\t\t\t\tconst { title } = selector(state, x) || {}\n\t\t\t\tlabel = title || label\n\t\t\t}\n\n\t\t\tconst bc = {\n\t\t\t\tlabel,\n\t\t\t}\n\n\t\t\tif (index < rest.length - 1) {\n\t\t\t\tconst restCopy = [...rest]\n\n\t\t\t\tconst receiptAt = restCopy.indexOf('receipt')\n\t\t\t\t// NOTE: go to campaign on receipt breadcrumb\n\t\t\t\t// We need a better way\n\t\t\t\tif (receiptAt >= 0) {\n\t\t\t\t\trestCopy[receiptAt] = side === 'advertiser' ? 'campaigns' : 'receipts'\n\t\t\t\t}\n\n\t\t\t\tbc.to = `${sideDashboardBC.to}/${restCopy\n\t\t\t\t\t.slice(0, index + 1)\n\t\t\t\t\t.join('/')}`\n\t\t\t}\n\n\t\t\treturn bc\n\t\t})\n\n\t\tconst breadcrumbs = [sideDashboardBC, ...restBC].map(b => ({\n\t\t\t...b,\n\t\t\tlabel:\n\t\t\t\tt(b.label.toUpperCase()) !== b.label.toUpperCase()\n\t\t\t\t\t? t(b.label.toUpperCase())\n\t\t\t\t\t: b.label,\n\t\t}))\n\n\t\treturn breadcrumbs || []\n\t}\n)\n","import { store } from 'store'\n\nexport const execute = store.dispatch\n\nexport const dispatch = store.dispatch\n\nexport const getState = store.getState\n","import moment from 'moment'\n\n// TODO: separate exports - not class\nclass Helper {\n\tgetGuid() {\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t}\n\n\tgetRndHash32(prefix) {\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t\tif (prefix) {\n\t\t\th = prefix + h.substring(prefix.length)\n\t\t}\n\t\treturn h\n\t}\n\n\tgetRandomInt(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\n\t}\n\n\tgetRandomBool() {\n\t\treturn !!this.getRandomInt(0, 1)\n\t}\n\n\tgetRandomPropFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\n\t}\n\n\tgetRandomKeyFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn keys[(keys.length * Math.random()) << 0]\n\t}\n\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\n\t\t// TODO: fix +/- 1 day bug\n\t\tlet initial = moment.isMoment(initialMoment)\n\t\t\t? initialMoment.valueOf()\n\t\t\t: undefined\n\n\t\treturn moment(initial)\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\n\t}\n\n\thexToRgbaColorString = (hex, alpha) => {\n\t\tif (!hex || typeof hex !== 'string') {\n\t\t\tthrow new Error('Invalid color')\n\t\t} else if (hex.length === 4) {\n\t\t\thex = hex + hex.substr(1, 4)\n\t\t}\n\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\n\t\t\talpha = 1\n\t\t}\n\n\t\tconst hexToDec = h => {\n\t\t\treturn parseInt('0x' + h, 16)\n\t\t}\n\n\t\tlet r = hexToDec(hex.substr(1, 2))\n\t\tlet g = hexToDec(hex.substr(3, 2))\n\t\tlet b = hexToDec(hex.substr(5, 2))\n\n\t\treturn `rgba(${r},${g},${b},${alpha})`\n\t}\n\n\tgetQuery(queryParams) {\n\t\tif (\n\t\t\t!queryParams ||\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\n\t\t) {\n\t\t\treturn ''\n\t\t}\n\t\treturn (\n\t\t\t'?' +\n\t\t\t\tObject.keys(queryParams)\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\n\t\t\t\t\t.map(key => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tencodeURIComponent(key) +\n\t\t\t\t\t\t\t'=' +\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\n\t\t\t\t\t\t)\n\t\t\t\t\t}, '')\n\t\t\t\t\t.join('&') || ''\n\t\t)\n\t}\n\n\tgetErrMsg = err => {\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\n\n\t\tif (stack.length > 1) {\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\n\t\t} else {\n\t\t\treturn (err.error || err || '').toString()\n\t\t}\n\t}\n\n\tisInt = int => {\n\t\treturn typeof int === 'number' && int % 1 === 0\n\t}\n\n\tshuffleArray = array => {\n\t\treturn [...array].sort(() => Math.random() - 0.5)\n\t}\n}\n\nexport default new Helper()\n","export const getErrorMsg = err => {\n\tif (!err) {\n\t\treturn ''\n\t} else if (typeof err === 'object') {\n\t\treturn err.msg || err.message || err.errMsg || err.error\n\t} else if (Array.isArray(err)) {\n\t\treturn err.join(', ')\n\t} else {\n\t\treturn err\n\t}\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport * as types from 'constants/actionTypes'\nimport Helper from 'helpers/miscHelpers'\nimport {\n\tselectCompanyData,\n\tselectAccountIdentityAddr,\n\tselectIdentitySideAnalyticsTimeframe,\n\tselectIdentitySideAnalyticsPeriod,\n\tselectSide,\n\tselectMemoryUi,\n\tselectAnalyticsLiveTimestamp,\n\tselectAnalyticsMinAndMaxDates,\n\tt,\n} from 'selectors'\nimport {\n\tgetTimePeriods,\n\tgetBorderPeriodStart,\n} from 'helpers/analyticsTimeHelpers'\nimport { getErrorMsg } from 'helpers/errors'\n\nexport function updateSpinner(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SPINNER,\n\t\t\tspinner: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function updateGlobalUi(item, value, category) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_GLOBAL_UI,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t\tcategory: category,\n\t\t})\n\t}\n}\n\nexport function updateMemoryUi(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_MEMORY_UI,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function updateInitialDataLoaded(dataType, loaded) {\n\treturn function(dispatch, getState) {\n\t\tconst { initialDataLoaded } = selectMemoryUi(getState())\n\t\tif (initialDataLoaded !== true) {\n\t\t\tconst newData = { ...(initialDataLoaded || {}) }\n\t\t\tnewData[dataType] = loaded\n\t\t\treturn dispatch({\n\t\t\t\ttype: types.UPDATE_MEMORY_UI,\n\t\t\t\titem: 'initialDataLoaded',\n\t\t\t\tvalue: newData,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function updateUiByIdentity(item, value, category) {\n\treturn function(dispatch, getState) {\n\t\tconst identity = selectAccountIdentityAddr(getState())\n\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY,\n\t\t\tidentity,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t\tcategory: category,\n\t\t})\n\t}\n}\n\nexport function updateIdentitySideUi(item, value) {\n\treturn function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst identity = selectAccountIdentityAddr(state)\n\t\tconst side = selectSide(state)\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY_AND_SIDE,\n\t\t\tidentity,\n\t\t\titem,\n\t\t\tvalue,\n\t\t\tside,\n\t\t})\n\t}\n}\n\nexport function addToast({\n\ttype,\n\taction,\n\tlabel = '',\n\ttimeout = false,\n\tunclosable,\n\tanchorOrigin,\n\ttop,\n}) {\n\treturn function(dispatch) {\n\t\tconst id = Helper.getGuid()\n\t\tdispatch({\n\t\t\ttype: types.ADD_TOAST,\n\t\t\ttoast: {\n\t\t\t\ttype,\n\t\t\t\taction,\n\t\t\t\tlabel,\n\t\t\t\ttimeout,\n\t\t\t\tunclosable,\n\t\t\t\tanchorOrigin,\n\t\t\t\ttop,\n\t\t\t\tid,\n\t\t\t},\n\t\t})\n\n\t\treturn id\n\t}\n}\n\nexport function removeToast(toastId) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.REMOVE_TOAST,\n\t\t\ttoast: toastId,\n\t\t})\n\t}\n}\n\nexport function confirmAction(\n\tonConfirm,\n\tonCancel,\n\t{\n\t\tconfirmLabel = '',\n\t\tcancelLabel = '',\n\t\ttitle = '',\n\t\ttext = '',\n\t\tnoCancel = false,\n\t\tnoConfirm = false,\n\t} = {},\n\tnoActionBtns,\n\tactive\n) {\n\treturn async function(dispatch) {\n\t\treturn await dispatch({\n\t\t\ttype: types.CONFIRM_ACTION,\n\t\t\tconfirm: {\n\t\t\t\tonConfirm: onConfirm,\n\t\t\t\tonCancel: onCancel,\n\t\t\t\tdata: {\n\t\t\t\t\tconfirmLabel: confirmLabel,\n\t\t\t\t\tcancelLabel: cancelLabel,\n\t\t\t\t\ttitle: title,\n\t\t\t\t\ttext: text,\n\t\t\t\t\tnoCancel: noCancel,\n\t\t\t\t\tnoConfirm: noConfirm,\n\t\t\t\t},\n\t\t\t\tnoActionBtns,\n\t\t\t\tactive,\n\t\t\t},\n\t\t})\n\t}\n}\n\nexport function updateNav(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NAV,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function changeLanguage(lang) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CHANGE_LANGUAGE,\n\t\t\tlang: lang,\n\t\t})\n\t}\n}\n\nexport function updateRegistrationAllowed(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\n\t\t\tupdateGlobalUi('allowRegistration', true)(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateCompanyData(newData) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst companyData = selectCompanyData(getState())\n\t\t\tconst newCompanyData = { ...companyData, ...newData }\n\t\t\tupdateUiByIdentity('companyData', newCompanyData)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_COMPANY_DATA', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPDATING_COMPANY_DATA'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateSelectedItems(collection, selectedItems) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SELECTED_ITEMS,\n\t\t\tselectedItems,\n\t\t\tcollection,\n\t\t})\n\t}\n}\n\nexport function resetSelectedItems() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_SELECTED_ITEMS,\n\t\t})\n\t}\n}\n\nexport function updateSelectedCampaigns(selectedItems) {\n\treturn function(dispatch) {\n\t\treturn updateSelectedItems('campaigns', selectedItems)(dispatch)\n\t}\n}\n\nexport function updateNewVersion({ shouldForceRefresh, version }) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateGlobalUi('newVersionAvailable', shouldForceRefresh)(dispatch)\n\t\tawait updateGlobalUi('selectNewVersionAvailableId', version)(dispatch)\n\t}\n}\n\nexport function refreshCacheAndReload({ version }) {\n\treturn async function(dispatch, getState) {\n\t\tif (caches) {\n\t\t\t// Service worker cache should be cleared with caches.delete()\n\t\t\tcaches.keys().then(async function(names) {\n\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\n\t\t\t})\n\t\t}\n\n\t\tawait updateNewVersion({ shouldForceRefresh: false, version })(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t\twindow.location.reload(true)\n\t}\n}\n\nexport function notifyNewTOS() {\n\treturn function(dispatch) {\n\t\ttry {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tunclosable: true,\n\t\t\t\taction: (\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\twindow.open('https://www.adex.network/tos', '_blank')\n\t\t\t\t\t\t\twindow.location.reload(true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t</Button>\n\t\t\t\t),\n\t\t\t\tlabel: t('NOTIFICATION_NEW_TOS', {\n\t\t\t\t\targs: [t('TOS_CHECK')],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPDATING_APP'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function handleRedirectParams(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('confirm-email')\n\t\tconst identity = searchParams.get('confirm-identity')\n\t\tconst grant = searchParams.get('confirm-grant')\n\t\tconst side = (searchParams.get('go-to-side') || '').toLowerCase()\n\t\tconst selectedIdentity = searchParams.get('login-select-identity')\n\n\t\tif (email && identity && !grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('CONFIRM_IDENTITY_EMAIL', {\n\t\t\t\t\targs: [email, identity],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} else if (email && identity && grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('CONFIRM_IDENTITY_EMAIL_GRANT', {\n\t\t\t\t\targs: [email, identity, grant],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tif (['advertiser', 'publisher'].includes(side)) {\n\t\t\tupdateGlobalUi('goToSide', side)(dispatch)\n\t\t}\n\n\t\tif (!!selectedIdentity) {\n\t\t\tupdateMemoryUi('loginSelectedIdentity', selectedIdentity)(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateEasterEggsAllowed(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tif (\n\t\t\tsearchParams.get(process.env.EASTER_EGGS_PARAM) ===\n\t\t\tprocess.env.EASTER_EGGS_VALUE\n\t\t) {\n\t\t\tupdateGlobalUi('allowEasterEggs', true)(dispatch)\n\t\t}\n\t}\n}\n\nexport function updatePrivilegesWarningAccepted(accepted) {\n\treturn function(dispatch, getState) {\n\t\tupdateUiByIdentity('privilegesWarningAccepted', accepted)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function hideGettingStarted(side) {\n\treturn function(dispatch, getState) {\n\t\tupdateUiByIdentity('hideGettingStarted', true, side)(dispatch, getState)\n\t}\n}\n\nexport function setGettingStartedExpanded(expanded) {\n\treturn function(dispatch, getState) {\n\t\tupdateUiByIdentity('gettingStartedExpanded', expanded)(dispatch, getState)\n\t}\n}\n\nexport function updateIdSideAnalyticsChartPeriod(periodStart) {\n\treturn function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\n\t\tconst { start, end, callEnd } = getTimePeriods({\n\t\t\ttimeframe,\n\t\t\tstart: periodStart,\n\t\t})\n\t\tupdateIdentitySideUi('sideAnalyticsPeriod', { start, end, callEnd })(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateAnalyticsPeriodPrevNextLive({\n\tnext = false,\n\tlive = false,\n}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst { minDate, maxDate } = selectAnalyticsMinAndMaxDates(state)\n\t\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\n\t\t\tlet { start } = selectIdentitySideAnalyticsPeriod(state)\n\n\t\t\tif (live) {\n\t\t\t\tstart = selectAnalyticsLiveTimestamp(state)\n\t\t\t} else {\n\t\t\t\tconst startIsLive = start === selectAnalyticsLiveTimestamp(state)\n\t\t\t\tstart = getBorderPeriodStart({\n\t\t\t\t\ttimeframe,\n\t\t\t\t\tstart,\n\t\t\t\t\tnext,\n\t\t\t\t\tstartIsLive,\n\t\t\t\t\tminDate,\n\t\t\t\t\tmaxDate,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tupdateIdSideAnalyticsChartPeriod(start)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS_PREV_PERIOD', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_ANALYTICS_PREV_PERIOD', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateIdSideAnalyticsChartTimeframe(timeframe) {\n\treturn function(dispatch, getState) {\n\t\tupdateIdentitySideUi('sideAnalyticsTimeframe', timeframe)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t\tupdateAnalyticsPeriodPrevNextLive({ live: true })(dispatch, getState)\n\t}\n}\n\nexport function updateWindowReloading(isReloading) {\n\treturn function(dispatch, getState) {\n\t\tupdateMemoryUi('windowReloading', isReloading)(dispatch, getState)\n\t}\n}\n","import Identity from './build/Identity.json'\nimport AdExCore from './build/AdExCore.json'\nimport Dai from './build/Dai.json'\nimport IdentityFactory from './build/IdentityFactory.json'\nimport AdExENSManager from './abi/AdExENSManager.json'\nimport ReverseRegistrar from './abi/ReverseRegistrar.json'\nimport ERC20 from './abi/ERC20Token.json'\n\nexport const contracts = {\n\tIdentity: {\n\t\tabi: Identity.abi,\n\t},\n\tAdExENSManager: {\n\t\taddress: process.env.ADEX_ENS_ADDR,\n\t\tpublicResolver: process.env.REVERSE_REGISTRAR_PUBLIC_RESOLVER,\n\t\tabi: AdExENSManager,\n\t},\n\tReverseRegistrar: {\n\t\taddress: process.env.REVERSE_REGISTRAR_ADDR,\n\t\tparentDomain: process.env.REVERSE_REGISTRAR_PARENT,\n\t\tabi: ReverseRegistrar,\n\t},\n\tAdExCore: {\n\t\taddress: process.env.ADEX_CORE_ADDR,\n\t\tabi: AdExCore.abi,\n\t},\n\tDAI: {\n\t\taddress: process.env.DAI_TOKEN_ADDR,\n\t\tabi: Dai.abi,\n\t\tdecimals: 18,\n\t},\n\tIdentityFactory: {\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\n\t\tabi: IdentityFactory.abi,\n\t},\n\tERC20: {\n\t\tabi: ERC20,\n\t},\n}\n","import { providers, Contract } from 'ethers'\nimport detectEthereumProvider from '@metamask/detect-provider'\nimport { contracts } from './contractsCfg'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { selectRelayerConfig } from 'selectors'\n\n// ethers.errors.setLogLevel('error')\n\nconst { AdExCore, Identity, IdentityFactory } = contracts\n\nconst LocalProvider = process.env.WEB3_NODE_ADDR.startsWith('wss://')\n\t? providers.WebSocketProvider\n\t: providers.JsonRpcProvider\n\nconst getAdexCore = provider => {\n\tconst { coreAddr } = selectRelayerConfig()\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\n}\n\nconst getMainToken = provider => {\n\tconst { mainToken = {} } = selectRelayerConfig()\n\treturn new Contract(\n\t\tmainToken.address,\n\t\tcontracts[mainToken.standard].abi,\n\t\tprovider\n\t)\n}\n\nconst getToken = ({ provider, standard, address }) => {\n\treturn new Contract(address, contracts[standard].abi, provider)\n}\n\nconst getIdentity = ({ provider, address }) => {\n\tconst identityContract = new Contract(address, Identity.abi, provider)\n\n\treturn identityContract\n}\n\nconst getIdentityFactory = provider => {\n\tconst { identityFactoryAddr } = selectRelayerConfig()\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\n}\n\nconst getEthersResult = provider => {\n\tconst adexCore = getAdexCore(provider)\n\tconst mainToken = getMainToken(provider)\n\tconst identityFactory = getIdentityFactory(provider)\n\n\tconst results = {\n\t\tprovider,\n\t\tAdExCore: adexCore,\n\t\tIdentity: Identity,\n\t\tDai: mainToken,\n\t\tMainToken: mainToken,\n\t\tIdentityFactory: identityFactory,\n\t\tgetToken: ({ standard, address }) =>\n\t\t\tgetToken({ provider, standard, address }),\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\n\t}\n\n\treturn results\n}\n\nfunction isProviderRelayerConfigChanged(currentProviderCfg) {\n\tconst cfg = selectRelayerConfig()\n\n\tconst isChanged =\n\t\tcurrentProviderCfg.coreAddr !== cfg.coreAddr ||\n\t\tJSON.stringify(currentProviderCfg.mainToken) !==\n\t\t\tJSON.stringify(cfg.mainToken) ||\n\t\tcurrentProviderCfg.identityFactoryAddr !== cfg.identityFactoryAddr\n\n\treturn isChanged\n}\n\n// NOTE; We need one instance of local provider\n// but it need result to be updated when some relayer cfg props are changed\nconst localWeb3 = new (function() {\n\tlet localProvider\n\tlet relayerCfg\n\tlet result\n\n\tthis.getEthers = () => {\n\t\tif (!localProvider) {\n\t\t\tlocalProvider = new LocalProvider(process.env.WEB3_NODE_ADDR)\n\t\t\trelayerCfg = selectRelayerConfig()\n\t\t\tresult = getEthersResult(localProvider)\n\t\t} else if (relayerCfg && isProviderRelayerConfigChanged(relayerCfg)) {\n\t\t\trelayerCfg = selectRelayerConfig()\n\t\t\tresult = getEthersResult(localProvider)\n\t\t}\n\t\treturn result\n\t}\n})()\n\nconst loadInjectedWeb3 = new Promise(async (resolve, reject) => {\n\tconst provider = await detectEthereumProvider()\n\n\tif (!!window.ethereum && provider !== window.ethereum) {\n\t\tconsole.error('Do you have multiple wallets installed?')\n\t\treject(new Error('Do you have multiple wallets installed?'))\n\n\t\t// TODO: error or toast\n\t}\n\n\tresolve({\n\t\tethereum: window.ethereum,\n\t})\n})\n\nconst getMetamaskSelectedAddress = async () => {\n\tconst { ethereum } = await loadInjectedWeb3\n\n\tif (ethereum && ethereum.isMetaMask) {\n\t\ttry {\n\t\t\tconst accounts = await ethereum.request({ method: 'eth_accounts' })\n\t\t\treturn accounts[0]\n\t\t} catch (err) {\n\t\t\tconsole.log('(getMetamaskSelectedAddress): Please connect to MetaMask.')\n\t\t\tthrow new Error(err)\n\t\t}\n\t}\n}\n\nconst connectMetaMask = async ethereum => {\n\ttry {\n\t\tconst selectedAccount = await getMetamaskSelectedAddress()\n\n\t\tif (!selectedAccount) {\n\t\t\tconst requestedAddresses = await ethereum.request({\n\t\t\t\tmethod: 'eth_requestAccounts',\n\t\t\t})\n\t\t\t// console.log('requestedAddresses', requestedAddresses)\n\t\t}\n\t} catch (err) {\n\t\tif (err.code === 4001) {\n\t\t\t// EIP-1193 userRejectedRequest error\n\t\t\t// If this happens, the user rejected the connection request.\n\t\t\tconsole.log('Please connect to MetaMask.')\n\t\t} else {\n\t\t\tconsole.error(err)\n\t\t}\n\t\t// TODO: error or toast\n\t}\n}\n\nconst injectedWeb3Provider = async () => {\n\tconst { ethereum } = await loadInjectedWeb3\n\n\tif (ethereum) {\n\t\ttry {\n\t\t\tawait connectMetaMask(ethereum)\n\n\t\t\tconst provider = new providers.Web3Provider(ethereum)\n\n\t\t\treturn getEthersResult(provider)\n\t\t} catch (err) {\n\t\t\tconsole.error('Err getting injected ethereum.', err)\n\t\t\tthrow new Error(err.message)\n\t\t}\n\t}\n}\n\nconst getLocalWeb3Provider = async () => {\n\treturn localWeb3.getEthers()\n}\n\nconst getEthers = mode => {\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\n\t *   and this results in Trezor popup block by the browser\n\t */\n\tif (mode === AUTH_TYPES.METAMASK.name) {\n\t\treturn injectedWeb3Provider()\n\t} else {\n\t\treturn getLocalWeb3Provider()\n\t}\n}\n\nconst ethereumNetworkId = async () => {\n\tconst { ethereum } = await loadInjectedWeb3\n\tif (ethereum) {\n\t\tconst chainId = await ethereum.request({ method: 'net_version' })\n\n\t\tconst id = parseInt(chainId, 10)\n\t\treturn id\n\t} else {\n\t\treturn null\n\t}\n}\n\nconst getEthereumProviderName = async () => {\n\tconst { ethereum } = await loadInjectedWeb3\n\n\tif (!ethereum) {\n\t\treturn null\n\t}\n\n\tif (ethereum.isMetaMask) {\n\t\treturn AUTH_TYPES.METAMASK.name\n\t}\n\n\treturn null\n}\n\nconst getMetamaskEthereum = async () => {\n\tconst { ethereum } = await loadInjectedWeb3\n\n\tif (ethereum && ethereum.isMetaMask) {\n\t\treturn ethereum\n\t}\n\n\treturn null\n}\n\nexport {\n\tgetEthers,\n\tethereumNetworkId,\n\tgetEthereumProviderName,\n\tgetMetamaskEthereum,\n\tgetMetamaskSelectedAddress,\n}\n","import { ethers, constants } from 'ethers'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { isEthAddress } from 'helpers/validators'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\nimport { AUTH_TYPES } from 'constants/misc'\n\nexport const isEthAddressERC20 = async (addr = '') => {\n\ttry {\n\t\tif (isEthAddress(addr)) {\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\t\tawait Promise.all([\n\t\t\t\tcontract.totalSupply(),\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\n\t\t\t])\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t} catch (error) {\n\t\treturn false\n\t}\n}\n\nexport const getERC20Balance = async ({ addr = '', balanceFor = '' }) => {\n\ttry {\n\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\tconst balance = await contract.balanceOf(balanceFor)\n\n\t\treturn balance\n\t} catch (error) {\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\n\t\treturn null\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\n\nexport const isConnectionLost = async authType => {\n\ttry {\n\t\t// When we remove Metamask\n\t\t// if in 5 sec doesn't connect will\n\t\t// return that connection is lost\n\t\tconst eth = await Promise.race([\n\t\t\tgetEthers(authType),\n\t\t\tnew Promise((resolve, reject) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\treject('Timed out')\n\t\t\t\t}, 5000)\n\t\t\t}),\n\t\t])\n\t\tawait eth.provider.getBlockNumber()\n\t\treturn false\n\t} catch (error) {\n\t\treturn true\n\t}\n}\n","import { utils } from 'ethers'\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { AUTH_TYPES } from 'constants/misc'\n/*eslint-disable */\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\n/*eslint-enable */\n\nexport const validUrl = url => {\n\turl = url || ''\n\tconst isValid = urlRegex.test(url)\n\treturn isValid\n}\n\nexport const validateNumber = numberStr => {\n\tnumberStr = numberStr || ''\n\tconst isValid =\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\n\treturn isValid\n}\n\n// > 0\nexport const validPositiveInt = intStr => {\n\tintStr = intStr || ''\n\tconst isValid = onlyDigitsRegex.test(intStr)\n\treturn isValid\n}\n\nexport const validName = name => {\n\tlet msg = ''\n\tconst errMsgArgs = []\n\tif (!name) {\n\t\tmsg = 'ERR_REQUIRED_FIELD'\n\t} else if (name.length < 4) {\n\t\tmsg = 'ERR_MIN_LENGTH'\n\t\terrMsgArgs.push(4)\n\t} else if (name.length > 128) {\n\t\tmsg = 'ERR_MAX_LENGTH'\n\t\terrMsgArgs.push(128)\n\t}\n\n\treturn {\n\t\tmsg,\n\t\terrMsgArgs,\n\t}\n}\n\nexport const validPassword = password => {\n\tpassword = password || ''\n\tconst isValid = passwordRegex.test(password)\n\treturn isValid\n}\n\nexport const isEthAddress = (addr = '') => {\n\ttry {\n\t\tutils.getAddress(addr)\n\t} catch (e) {\n\t\treturn false\n\t}\n\treturn true\n}\n\nexport const isEthAddressZero = (addr = '') => {\n\treturn isEthAddress(addr)\n\t\t? utils.BigNumber.from(utils.getAddress(addr)).isZero()\n\t\t: false\n}\n\nexport const validEthAddress = async ({\n\taddr = '',\n\tnonZeroAddr,\n\tnonERC20,\n\tauthType,\n\tquickCheck = false,\n}) => {\n\tlet msg = ''\n\ttry {\n\t\tconst notEthAddress = !addr || !isEthAddress(addr)\n\t\tif (notEthAddress) {\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\n\t\t} else if (!quickCheck) {\n\t\t\tconst ethAddressZero = isEthAddressZero(addr)\n\t\t\tif (nonZeroAddr && ethAddressZero) {\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\n\t\t\t} else {\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\n\t\t\t\tif (connectionLost) {\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t\t\t\t} else {\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tif (error === 'Non-Ethereum browser detected.')\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t}\n\treturn { msg }\n}\n\nexport const freeAdExENS = async ({ username = '' }) => {\n\tlet msg = ''\n\ttry {\n\t\tif (username === '') {\n\t\t\tmsg = 'ERR_ENS_REQUIRED'\n\t\t} else {\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\n\t\t\tconst ensAddress = await provider.resolveName(\n\t\t\t\t`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`\n\t\t\t)\n\n\t\t\tif (ensAddress && !isEthAddressZero(ensAddress)) msg = 'ERR_ENS_NOT_FREE'\n\t\t}\n\t} catch (error) {\n\t\tif (error.code === 'INVALID_ARGUMENT') {\n\t\t\tmsg = 'ERR_INVALID_ARGUMENT_ENS'\n\t\t} else {\n\t\t\tmsg = 'ERR_ENS_CHECK'\n\t\t}\n\t}\n\treturn { msg }\n}\n","export default class Looper {\n\tconstructor({ timeout, syncAction, loopName = '', stopOn }) {\n\t\tif (!timeout) {\n\t\t\tthrow new Error('LOOPER timeout prop is required')\n\t\t}\n\n\t\tif (typeof syncAction !== 'function') {\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\n\t\t}\n\n\t\tthis.loopTimeout = null\n\t\tthis.timeout = timeout\n\t\tthis.syncAction = syncAction\n\t\tthis.loopName = loopName\n\t\tthis.stopOn = stopOn\n\t}\n\n\tclearLoopTimeout = () => {\n\t\tif (this.loopTimeout) {\n\t\t\tclearTimeout(this.loopTimeout)\n\t\t\tthis.loopTimeout = null\n\t\t}\n\t}\n\n\tsyncData = async opts => {\n\t\tthis.makeStopCheck()\n\t\tawait this.syncAction()\n\t\tthis.makeStopCheck()\n\t}\n\n\tstartLoop = async opts => {\n\t\ttry {\n\t\t\tawait this.syncData(opts)\n\t\t\tthis.checkLoop()\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\n\t\t\tthis.checkLoop()\n\t\t}\n\t}\n\n\tcheckLoop = () => {\n\t\tthis.clearLoopTimeout()\n\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\n\t}\n\n\tmakeStopCheck = () => {\n\t\tif (typeof this.stopOn === 'function' && this.stopOn()) {\n\t\t\tthis.stop()\n\t\t}\n\t}\n\n\tstart = async onSync => {\n\t\tthis.clearLoopTimeout()\n\t\tawait this.startLoop()\n\t\tthis.makeStopCheck()\n\t\tif (typeof onSync === 'function') {\n\t\t\tonSync()\n\t\t}\n\t}\n\n\tstop = () => {\n\t\tthis.clearLoopTimeout()\n\t}\n}\n","import Loop from './loop'\nimport { getState } from 'store'\nimport { selectAuth } from 'selectors'\nimport { updateUserCampaigns, execute } from 'actions'\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\n\n// 30 seconds = market statusLoopTick\nconst LOOP_TIMEOUT =\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\n\nconst campaignsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () =>\n\t\tselectAuth(getState()) && (await execute(updateUserCampaigns())),\n\tloopName: '_CAMPAIGNS',\n\tstopOn: () => !selectAuth(getState()),\n})\n\nexport { campaignsLoop }\n","import Loop from './loop'\nimport { getState } from 'store'\nimport { selectAuth } from 'selectors'\nimport { execute, updateAccountStats } from 'actions'\n\nconst LOOP_TIMEOUT = 60 * 1000\n\nconst accountStatsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () =>\n\t\tselectAuth(getState()) && (await execute(updateAccountStats())),\n\tloopName: '_ACCOUNTS_STATS',\n\tstopOn: () => !selectAuth(getState()),\n})\n\nexport default accountStatsLoop\n","import Loop from './loop'\nimport {\n\texecute,\n\tupdateAccountAnalytics,\n\tupdateAccountAdvancedAnalytics,\n} from 'actions'\nimport { getState } from 'store'\nimport { selectAuth } from 'selectors'\n\nconst LOOP_TIMEOUT = 60 * 1000\n\nconst analyticsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () =>\n\t\tselectAuth(getState()) && (await execute(updateAccountAnalytics())),\n\tloopName: '_ANALYTICS',\n\tstopOn: () => !selectAuth(getState()),\n})\n\nconst analyticsLoopCustom = ({ timeout, syncAction, stopOn }) =>\n\tnew Loop({\n\t\ttimeout: timeout,\n\t\tsyncAction: async () => syncAction(),\n\t\tloopName: '_ANALYTICS_CUSTOM',\n\t\tstopOn: () => !selectAuth(getState()) || stopOn,\n\t})\n\nconst advancedAnalyticsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () =>\n\t\tselectAuth(getState()) && (await execute(updateAccountAdvancedAnalytics())),\n\tloopName: '_ANALYTICS_CAMPAIGNS_ADVANCED',\n\tstopOn: () => !selectAuth(getState()),\n})\n\nexport { analyticsLoop, advancedAnalyticsLoop, analyticsLoopCustom }\n","import {\n\tgetState,\n\texecute,\n\tresetAllNewItems,\n\tresetAllItems,\n\tresetAllBids,\n\tresetIdentity,\n\tresetAccount,\n\tresetAnalytics,\n\tresetChannelsWithBalanceAll,\n\tresetChannelsWithOutstandingBalance,\n\tresetAllNewTransaction,\n\tupdateMemoryUi,\n} from 'actions'\nimport ReactGA from 'react-ga'\nimport { campaignsLoop } from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport { advancedAnalyticsLoop } from 'services/store-data/analytics'\n\nimport { push } from 'connected-react-router'\nconst DIMENSIONS_NOT_SET_OR_LOADING = null\nexport const logOut = skipRedirect => {\n\texecute(updateMemoryUi('initialDataLoaded', false))\n\tReactGA.set({\n\t\tdimension1: DIMENSIONS_NOT_SET_OR_LOADING,\n\t\tdimension2: DIMENSIONS_NOT_SET_OR_LOADING,\n\t}) //reset dimensions after logout\n\texecute(resetAccount())\n\tadvancedAnalyticsLoop.stop()\n\tcampaignsLoop.stop()\n\tstatsLoop.stop()\n\tif (!skipRedirect) {\n\t\texecute(push('/'))\n\t}\n\texecute(resetIdentity())\n\texecute(resetAllItems())\n\texecute(resetAllNewItems())\n\texecute(resetAllBids())\n\texecute(resetAnalytics())\n\texecute(resetChannelsWithBalanceAll())\n\texecute(resetChannelsWithOutstandingBalance())\n\texecute(resetAllNewTransaction())\n}\n\nexport const isDemoMode = () => {\n\treturn getState().persist.account._authType === 'demo'\n}\n\nexport const getAccount = () => {\n\treturn getState().persist.account\n}\n","import Helper from 'helpers/miscHelpers'\nimport { getState } from 'actions'\nimport { selectAuthSig } from 'selectors'\nimport { isDemoMode } from 'services/store-data/auth'\nimport { t } from 'selectors'\n\nexport const handleRequesterErrorRes = ({ res, text }) => {\n\tlet message = text\n\ttry {\n\t\tconst textObj = JSON.parse(text)\n\t\tmessage =\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\n\t} catch {}\n\n\tthrow new Error(\n\t\tt('SERVICE_ERROR_MSG', {\n\t\t\targs: [res.url, res.status, res.statusText, message],\n\t\t})\n\t)\n}\n\nclass AdexNodeRequester {\n\tconstructor({ baseUrl }) {\n\t\tthis.baseUrl = baseUrl\n\t}\n\n\tgetAuthHeaders = ({ authSig } = {}) => {\n\t\tconst authSignature = selectAuthSig(getState())\n\t\treturn {\n\t\t\t'X-User-Signature': authSig || authSignature,\n\t\t}\n\t}\n\n\tnoCacheHeaders = {\n\t\t'Cache-Control': 'no-cache',\n\t\tExpires: '0',\n\t\tPragma: 'no-cache',\n\t}\n\n\tgetUrl = (base, route, query) => {\n\t\tlet url = base + '/'\n\t\tif (route) {\n\t\t\troute = route.replace(/^\\//, '')\n\t\t\turl += route\n\t\t}\n\n\t\turl += query\n\n\t\treturn url\n\t}\n\n\tfetch = ({\n\t\troute = '',\n\t\tqueryParams = {},\n\t\tmethod = 'GET',\n\t\tbody,\n\t\theaders = {},\n\t\tuserAddr,\n\t\tauthSig = '',\n\t\tauthToken,\n\t\tnoCache = false,\n\t}) => {\n\t\tconst qp = { ...queryParams }\n\t\tif (isDemoMode()) {\n\t\t\tqp.demo = true\n\t\t}\n\n\t\tconst query = Helper.getQuery(qp)\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\n\n\t\tconst hdrs = {\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\n\t\t\t...this.getAuthHeaders({ authSig }),\n\t\t\t...headers,\n\t\t}\n\t\treturn fetch(url, {\n\t\t\tmethod: method,\n\t\t\theaders: hdrs,\n\t\t\tbody: body,\n\t\t})\n\t}\n}\n\nexport default AdexNodeRequester\n","import requester from './requester'\n\nexport default requester\nexport * from './requester'\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\n\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getOwnerIdentities = ({ owner }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/by-owner/${owner}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getIdentityData = ({ identityAddr }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getRelayerConfigData = () => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'relayer/cfg',\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}/execute`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttxnsRaw,\n\t\t\t\tsignatures,\n\t\t\t\tidentityAddr,\n\t\t\t\tchannel,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const regAccount = ({\n\towner,\n\temail,\n\tknowFrom,\n\tuserSide,\n\tmoreInfo,\n\tbytecode,\n\tidentityFactoryAddr,\n\tbaseIdentityAddr,\n\tsalt,\n\tidentityAddr,\n\tprivileges,\n\troutineAuthorizationsRaw,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\towner,\n\t\t\t\temail,\n\t\t\t\tknowFrom,\n\t\t\t\tuserSide,\n\t\t\t\tmoreInfo,\n\t\t\t\tbytecode,\n\t\t\t\tidentityFactoryAddr,\n\t\t\t\tbaseIdentityAddr,\n\t\t\t\tsalt,\n\t\t\t\tidentityAddr,\n\t\t\t\tprivileges,\n\t\t\t\troutineAuthorizationsRaw,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getQuickWallet = ({ hash }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail,\n\t\t\t\tsalt,\n\t\t\t\thash,\n\t\t\t\tencryptedWallet,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getEmail = ({ email }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/email/${encodeURIComponent(email)}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n","import * as types from 'constants/actionTypes'\nimport { validEthAddress, freeAdExENS } from '../helpers/validators'\nimport { translate } from 'services/translations/translations'\nimport { addToast, updateSpinner } from './uiActions'\nimport { BigNumber, utils } from 'ethers'\nimport { validations, Joi, schemas, constants, helpers } from 'adex-models'\nimport { validPassword } from 'helpers/validators'\nimport {\n\tt,\n\tselectAuthType,\n\tselectAccountStatsRaw,\n\tselectAccountStatsFormatted,\n\tselectMainToken,\n} from 'selectors'\nimport { getErrorMsg } from 'helpers/errors'\nimport { getEmail } from 'services/adex-relayer/actions'\nimport { formatTokenAmount } from 'helpers/formatters'\nconst { IdentityPrivilegeLevel, CountryTiers, OsGroups } = constants\nconst { bondPerActionToUserInputPerMileValue } = helpers\n\nconst { campaignPut, account } = schemas\nconst { isNumberString } = validations\n\nexport function validateAddress({ addr, dirty, validate, name, nonERC20 }) {\n\treturn async function(dispatch, getState) {\n\t\tconst authType = selectAuthType(getState())\n\t\ttry {\n\t\t\tif (validate) validate(name, { isValid: false })\n\t\t\tupdateSpinner(name, dirty)(dispatch)\n\t\t\tconst { msg } = await validEthAddress({\n\t\t\t\taddr,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tnonERC20,\n\t\t\t\tauthType,\n\t\t\t})\n\t\t\tconst isValid = !msg\n\n\t\t\tif (validate) {\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(name, false)(dispatch)\n\t}\n}\n\nexport function updateValidationErrors(item, newErrors) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\terrors: newErrors,\n\t\t})\n\t}\n}\n\nexport function resetValidationErrors(item, key) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\tkey,\n\t\t})\n\t}\n}\n\nexport function validate(\n\tvalidateId,\n\tkey,\n\t{\n\t\tisValid,\n\t\terr = { msg: '', args: [], fields: {} },\n\t\tdirty = false,\n\t\tremoveAll = false,\n\t}\n) {\n\treturn async function(dispatch, getState) {\n\t\tif (!isValid) {\n\t\t\tlet errors = {}\n\t\t\terrors[key] = {\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\n\t\t\t\terrFields: err.fields,\n\t\t\t\tdirty,\n\t\t\t}\n\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\n\t\t} else if (removeAll) {\n\t\t\tresetValidationErrors(validateId)(dispatch)\n\t\t} else {\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\n\t\t}\n\n\t\treturn isValid\n\t}\n}\n\nexport const handleAfterValidation = async ({\n\tisValid,\n\tonValid,\n\tonInvalid,\n}) => {\n\tif (isValid && typeof onValid === 'function') {\n\t\tawait onValid()\n\t}\n\tif (!isValid && typeof onInvalid === 'function') {\n\t\tawait onInvalid()\n\t}\n}\n\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\n\t\tvalidate(validateId, 'emailCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePassword(validateId, password, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = validPassword(password)\n\t\tvalidate(validateId, 'password', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PASSWORD' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePasswordCheck(\n\tvalidateId,\n\tpasswordCheck,\n\tpassword,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\n\t\tvalidate(validateId, 'passwordCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateTOS(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'tosCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateENS({ username, dirty, validateId }) {\n\treturn async function(dispatch) {\n\t\tlet msg = !username\n\t\t\t? 'ERR_NO_ENS_USERNAME_PROVIDED'\n\t\t\t: /^([a-z0-9]+)$/.test(username)\n\t\t\t? null\n\t\t\t: 'ERR_INVALID_ENS_USER_NAME'\n\n\t\tif (!msg) {\n\t\t\tmsg = (await freeAdExENS({\n\t\t\t\tusername,\n\t\t\t})).msg\n\t\t}\n\n\t\tconst isValid = !msg\n\t\tvalidate(validateId, 'username', {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\nexport function validateWallet(validateId, wallet, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!wallet && !!wallet.address\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateIdentityContractOwner(\n\tvalidateId,\n\tidentityContractOwner,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!identityContractOwner\n\t\tvalidate(validateId, 'identityContractOwner', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\nexport function validateKnowFrom(validateId, knowFrom, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!knowFrom\n\t\tvalidate(validateId, 'knowFrom', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_WHERE_YOU_KNOW_US_DROPDOWN_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateUserSide(validateId, userSide, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!userSide\n\t\tvalidate(validateId, 'userSide', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_USER_SIDE_SELECT_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateMoreInfo(validateId, knowFrom, moreInfo, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\tknowFrom === 'other' || knowFrom === 'event' ? !!moreInfo : true\n\t\tvalidate(validateId, 'moreInfo', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_WHERE_YOU_KNOW_US_MOREINFO_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateAccessWarning(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'accessWarningCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignUnits({ validateId, adUnits, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!adUnits && adUnits.length\n\t\tvalidate(validateId, 'adUnits', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignValidators({ validateId, validators, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\t!!validators &&\n\t\t\tvalidators.length === 2 &&\n\t\t\t!!validators[0] &&\n\t\t\t!!validators[1] &&\n\t\t\t!!validators[0].id &&\n\t\t\t!!validators[0].url &&\n\t\t\tvalidators[0].feeNum !== undefined &&\n\t\t\tvalidators[0].feeDen !== undefined &&\n\t\t\tvalidators[0].feeAddr !== undefined &&\n\t\t\t!!validators[1].id &&\n\t\t\t!!validators[1].url &&\n\t\t\tvalidators[1].feeNum !== undefined &&\n\t\t\tvalidators[1].feeDen !== undefined &&\n\t\t\tvalidators[0].feeAddr !== undefined\n\n\t\tvalidate(validateId, 'validators', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateFees({\n\tvalidateId,\n\tfeesAmountBN,\n\tamountToSpendBN,\n\terrorMsg = '',\n\tdirty,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tlet isValid = true\n\t\tlet msg = errorMsg\n\t\tlet args = []\n\t\tconst state = getState()\n\n\t\tconst {\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\n\t\t} = selectAccountStatsRaw(state)\n\t\tconst {\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\n\t\t} = selectAccountStatsFormatted(state)\n\t\tconst amountNeeded = BigNumber.from(feesAmountBN).add(\n\t\t\tBigNumber.from(amountToSpendBN)\n\t\t)\n\n\t\tconst { symbol, decimals } = selectMainToken(state)\n\n\t\tif (amountNeeded.gt(BigNumber.from(availableIdentityBalanceMainTokenRaw))) {\n\t\t\tconst amountNeededFormatted = formatTokenAmount(\n\t\t\t\tamountNeeded,\n\t\t\t\tdecimals,\n\t\t\t\tnull,\n\t\t\t\t2\n\t\t\t)\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_TX_INSUFFICIENT_BALANCE'\n\t\t\targs = [\n\t\t\t\tamountNeededFormatted,\n\t\t\t\tsymbol,\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\n\t\t\t\tsymbol,\n\t\t\t]\n\t\t}\n\n\t\tawait validate(validateId, 'fees', {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateWithdrawAmount({\n\tvalidateId,\n\tamountToWithdraw,\n\tavailableIdentityBalanceMainTokenRaw,\n\tavailableIdentityBalanceMainTokenFormatted,\n\tdecimals,\n\tsymbol,\n\tdirty,\n}) {\n\treturn async function(dispatch) {\n\t\tlet isValid = isNumberString(amountToWithdraw)\n\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\n\t\tlet args = []\n\t\tconst amount = isValid ? utils.parseUnits(amountToWithdraw, decimals) : null\n\t\tif (isValid && amount.isZero()) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_ZERO_WITHDRAW_AMOUNT'\n\t\t} else if (\n\t\t\tisValid &&\n\t\t\tamount.gt(BigNumber.from(availableIdentityBalanceMainTokenRaw))\n\t\t) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\n\t\t\targs = [availableIdentityBalanceMainTokenFormatted, symbol]\n\t\t}\n\n\t\tawait validate(validateId, 'amountToWithdraw', {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateNumberString({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\tintegerOnly,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tlet isValid = isNumberString(value)\n\t\tlet msg = 'ERR_INVALID_AMOUNT'\n\n\t\tif (isValid && integerOnly) {\n\t\t\tconst int = parseInt(value, 10)\n\t\t\tif (int.toString() !== value.toString()) {\n\t\t\t\tisValid = false\n\t\t\t\tmsg = 'ERR_INVALID_INTEGER_NUMBER'\n\t\t\t}\n\t\t}\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg, args: [value] },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignAmount({\n\tvalidateId,\n\tdirty,\n\terrMsg,\n\tdepositAmount,\n\tpricingBounds = { IMPRESSION: {} },\n\tspecPricingBounds,\n\tmaxDeposit,\n\tdecimals,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst min = pricingBounds.IMPRESSION.min || ''\n\t\tconst max = pricingBounds.IMPRESSION.max || ''\n\t\tconst isValidNumberDeposit = isNumberString(depositAmount)\n\t\tconst isValidNumberMin = isNumberString(min)\n\t\tconst isValidNumberMax = isNumberString(max)\n\n\t\tconst checkSpeckBounds = !!specPricingBounds && specPricingBounds.IMPRESSION\n\n\t\tlet isValidDeposit = isValidNumberDeposit\n\t\tlet isValidMin = isValidNumberMin\n\t\tlet isValidMax = isValidNumberMax\n\n\t\tlet msgDeposit = errMsg || 'ERR_INVALID_AMOUNT'\n\t\tlet msgMin = errMsg || 'ERR_INVALID_AMOUNT'\n\t\tlet msgMax = errMsg || 'ERR_INVALID_AMOUNT'\n\t\tlet argsMin = []\n\t\tlet argsMax = []\n\t\tlet argsDeposit = []\n\n\t\tif (isValidDeposit && isValidMin && isValidMax) {\n\t\t\tconst depositBn = utils.parseUnits(depositAmount, decimals)\n\t\t\tconst minBn = utils.parseUnits(min, decimals)\n\t\t\tconst maxBn = utils.parseUnits(max, decimals)\n\n\t\t\tif (!depositBn.isZero() && depositBn.gt(maxDeposit)) {\n\t\t\t\tisValidDeposit = false\n\t\t\t\tmsgDeposit = 'ERR_INSUFFICIENT_IDENTITY_BALANCE'\n\t\t\t}\n\n\t\t\tif (!depositBn.isZero() && depositBn.lt(minBn)) {\n\t\t\t\tisValidDeposit = false\n\t\t\t\tmsgDeposit = 'ERR_DEPOSIT_UNDER_CPM'\n\n\t\t\t\tisValidMin = false\n\t\t\t\tmsgMin = 'ERR_CPM_OVER_DEPOSIT'\n\t\t\t}\n\n\t\t\tif (!depositBn.isZero() && depositBn.lt(maxBn)) {\n\t\t\t\tisValidDeposit = false\n\t\t\t\tmsgDeposit = 'ERR_DEPOSIT_UNDER_MAX_CPM'\n\n\t\t\t\tisValidMax = false\n\t\t\t\tmsgMax = 'ERR_MAX_CPM_OVER_DEPOSIT'\n\t\t\t}\n\n\t\t\tif (depositBn.lte(BigNumber.from(0))) {\n\t\t\t\tisValidDeposit = false\n\t\t\t\tmsgDeposit = 'ERR_ZERO_DEPOSIT'\n\t\t\t}\n\n\t\t\tif (minBn.lte(BigNumber.from(0))) {\n\t\t\t\tisValidMin = false\n\t\t\t\tmsgMin = 'ERR_ZERO_MIN_CPM'\n\t\t\t}\n\n\t\t\tif (maxBn.lte(BigNumber.from(0))) {\n\t\t\t\tisValidMax = false\n\t\t\t\tmsgMax = 'ERR_ZERO_MAX_CPM'\n\t\t\t}\n\n\t\t\tif (maxBn.lt(minBn)) {\n\t\t\t\tisValidMax = false\n\t\t\t\tmsgMax = 'ERR_MAX_CPM_LT_MIN_CPM'\n\n\t\t\t\tisValidMin = false\n\t\t\t\tmsgMin = 'ERR_MIN_CPM_GT_MAX_CPM'\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tcheckSpeckBounds &&\n\t\t\t\tminBn.div(1000).lt(BigNumber.from(specPricingBounds.IMPRESSION.min))\n\t\t\t) {\n\t\t\t\tisValidMin = false\n\t\t\t\tmsgMin = 'ERR_MIN_CPM_LESS_THAN_SPEC'\n\t\t\t\targsMin = [\n\t\t\t\t\tbondPerActionToUserInputPerMileValue(\n\t\t\t\t\t\tspecPricingBounds.IMPRESSION.min,\n\t\t\t\t\t\tdecimals\n\t\t\t\t\t),\n\t\t\t\t]\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tcheckSpeckBounds &&\n\t\t\t\tmaxBn.div(1000).gt(BigNumber.from(specPricingBounds.IMPRESSION.max))\n\t\t\t) {\n\t\t\t\tisValidMax = false\n\t\t\t\tmsgMax = 'ERR_MAX_CPM_HIGHER_THAN_SPEC'\n\t\t\t\targsMax = [\n\t\t\t\t\tbondPerActionToUserInputPerMileValue(\n\t\t\t\t\t\tspecPricingBounds.IMPRESSION.max,\n\t\t\t\t\t\tdecimals\n\t\t\t\t\t),\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\n\t\tawait validate(validateId, 'depositAmount', {\n\t\t\tisValid: isValidDeposit,\n\t\t\terr: { msg: msgDeposit, args: argsDeposit },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\tawait validate(validateId, 'minPerImpression', {\n\t\t\tisValid: isValidMin,\n\t\t\terr: { msg: msgMin, args: argsMin },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\tawait validate(validateId, 'maxPerImpression', {\n\t\t\tisValid: isValidMax,\n\t\t\terr: { msg: msgMax, args: argsMax },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValidDeposit && isValidMin && isValidMax\n\t}\n}\n\nconst MIN_CAMPAIGN_PERIOD = 1 * 60 * 60 * 1000 // 1 hour\n\nconst getCampaignDatesValidation = ({\n\tcreated = Date.now(),\n\twithdrawPeriodStart,\n\tactiveFrom,\n}) => {\n\tlet errActiveFrom = null\n\tlet errWithdrawPeriodStart = null\n\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\n\t\terrWithdrawPeriodStart = { message: 'ERR_END_BEFORE_START' }\n\t} else if (\n\t\twithdrawPeriodStart &&\n\t\tactiveFrom &&\n\t\twithdrawPeriodStart - activeFrom < MIN_CAMPAIGN_PERIOD\n\t) {\n\t\terrWithdrawPeriodStart = {\n\t\t\tmessage: 'ERR_MIN_CAMPAIGN_PERIOD',\n\t\t\targs: ['1', 'HOUR'],\n\t\t}\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\n\t\terrWithdrawPeriodStart = { message: 'ERR_END_BEFORE_NOW' }\n\t} else if (activeFrom && activeFrom < created) {\n\t\terrWithdrawPeriodStart = { message: 'ERR_START_BEFORE_NOW' }\n\t} else if (activeFrom && !withdrawPeriodStart) {\n\t\terrWithdrawPeriodStart = { message: 'ERR_NO_END' }\n\t}\n\n\tif (!withdrawPeriodStart) {\n\t\terrWithdrawPeriodStart = { message: 'ERR_NO_DATE_SET' }\n\t}\n\n\tif (!activeFrom) {\n\t\terrActiveFrom = { message: 'ERR_NO_DATE_SET' }\n\t}\n\n\treturn { errActiveFrom, errWithdrawPeriodStart }\n}\n\nexport function validateCampaignDates({\n\tvalidateId,\n\tactiveFrom,\n\twithdrawPeriodStart,\n\tdirty,\n\tcreated,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst {\n\t\t\terrActiveFrom,\n\t\t\terrWithdrawPeriodStart,\n\t\t} = getCampaignDatesValidation({\n\t\t\twithdrawPeriodStart,\n\t\t\tactiveFrom,\n\t\t\tcreated,\n\t\t})\n\n\t\tvalidate(validateId, 'activeFrom', {\n\t\t\tisValid: !errActiveFrom,\n\t\t\terr: {\n\t\t\t\tmsg: (errActiveFrom || {}).message,\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tvalidate(validateId, 'withdrawPeriodStart', {\n\t\t\tisValid: !errWithdrawPeriodStart,\n\t\t\terr: {\n\t\t\t\tmsg: errWithdrawPeriodStart ? errWithdrawPeriodStart.message : '',\n\t\t\t\targs: errWithdrawPeriodStart && (errWithdrawPeriodStart.args || []),\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tconst isValid = !errWithdrawPeriodStart && !errActiveFrom\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignTitle({ validateId, title, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst result = Joi.validate(title, campaignPut.title)\n\n\t\tconst isValid = !result.error\n\n\t\tvalidate(validateId, 'title', {\n\t\t\tisValid,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEthAddress({\n\tvalidateId,\n\tprop,\n\taddr,\n\tnonZeroAddr = true,\n\tnonERC20 = true,\n\tdirty,\n\tauthType,\n\tquickCheck,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { msg } = await validEthAddress({\n\t\t\taddr,\n\t\t\tnonZeroAddr,\n\t\t\tnonERC20,\n\t\t\tauthType,\n\t\t\tquickCheck,\n\t\t})\n\n\t\tconst isValid = !msg\n\n\t\tawait validate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePrivilegesAddress({\n\tvalidateId,\n\tsetAddr = '',\n\twalletAddr = '',\n\tprivLevel,\n\tauthType,\n\twarningAccepted,\n\tdirty,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst isCurrentAddress =\n\t\t\tsetAddr && setAddr.toLowerCase() === walletAddr.toLowerCase()\n\t\tlet isValid = warningAccepted || !isCurrentAddress\n\n\t\tlet msg = ''\n\t\tconst args = [`PRIV_${privLevel}_LABEL`, authType.toUpperCase()]\n\t\tif (isCurrentAddress && privLevel === 0) {\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_0'\n\t\t} else if (isCurrentAddress && privLevel === 1) {\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_1'\n\t\t} else if (isCurrentAddress && privLevel >= 2) {\n\t\t\tisValid = true\n\t\t} else if (!isCurrentAddress) {\n\t\t\tisValid = true\n\t\t}\n\n\t\tawait validate(validateId, 'setAddrWarning', {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn { isValid, msg }\n\t}\n}\n\nexport function validatePrivLevel({ validateId, privLevel, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\tObject.values(IdentityPrivilegeLevel).indexOf(privLevel) > -1\n\t\tawait validate(validateId, 'privLevel', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PRIV_LEVEL_NOT_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateSchemaProp({ validateId, value, prop, schema, dirty }) {\n\treturn async function(dispatch) {\n\t\tconst result = Joi.validate(value, schema)\n\t\tconst isValid = !result.error\n\n\t\tawait validate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEmail(validateId, email, dirty, validateNotExisting) {\n\treturn async function(dispatch) {\n\t\tconst result = Joi.validate(email, account.email)\n\t\tlet isValid = !result.error\n\t\tlet msg = result.error ? result.error.message : ''\n\n\t\tif (validateNotExisting && isValid) {\n\t\t\tconst { existing } = (await getEmail({ email })) || {}\n\t\t\tisValid = existing === false\n\t\t\tmsg = 'EMAIL_ALREADY_USED'\n\t\t}\n\n\t\tawait validate(validateId, 'email', {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport const locationAudienceInputError = ({ apply, ...values } = {}) => {\n\tif (!apply) {\n\t\treturn 'ERR_LOCATION_AUDIENCE_NOT_SELECTED'\n\t} else if (apply === 'in' && !values.in.length) {\n\t\treturn 'ERR_LOCATION_AUDIENCE_IN_NOT_SELECTED'\n\t} else if (apply === 'nin' && !values.nin.length) {\n\t\treturn 'ERR_LOCATION_AUDIENCE_NIN_NOT_SELECTED'\n\t} else if (\n\t\tapply === 'nin' &&\n\t\tObject.keys(CountryTiers).every(x => values.nin.includes(x))\n\t) {\n\t\treturn 'ERR_LOCATION_CAN_NOT_EXCLUDE_ALL_COUNTRIES'\n\t}\n}\n\nexport const publishersAudienceInputError = ({ apply, ...values } = {}) => {\n\tif (!apply) {\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_NOT_SELECTED'\n\t} else if (apply === 'in' && (!values.in || !values.in.length)) {\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_IN_NOT_SELECTED'\n\t} else if (apply === 'nin' && (!values.nin || !values.nin.length)) {\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_NIN_NOT_SELECTED'\n\t}\n}\n\nexport const categoriesAudienceInputError = ({\n\tapply = [],\n\t...values\n} = {}) => {\n\tif (!apply.includes('in')) {\n\t\treturn 'ERR_CATEGORIES_AUDIENCE_NOT_SELECTED'\n\t} else if (apply.includes('in') && (!values.in || !values.in.length)) {\n\t\treturn 'ERR_CATEGORIES_AUDIENCE_IN_NOT_SELECTED'\n\t}\n}\n\nexport const devicesAudienceInputError = ({ apply, ...values } = {}) => {\n\tif (\n\t\tapply === 'nin' &&\n\t\tObject.keys(OsGroups).every(x => values.nin.includes(x))\n\t) {\n\t\treturn 'ERR_DEVICES_CAN_NOT_EXCLUDE_ALL_DEVICES'\n\t}\n}\n\nexport function validateAudience({ validateId, propName, inputs, dirty }) {\n\treturn async function(dispatch) {\n\t\tconst { location, categories, publishers, devices } = inputs\n\n\t\tconst errors = [\n\t\t\tlocationAudienceInputError(location),\n\t\t\tpublishersAudienceInputError(publishers),\n\t\t\tcategoriesAudienceInputError(categories),\n\t\t\tdevicesAudienceInputError(devices),\n\t\t]\n\n\t\tconst isValid = errors.every(e => !e)\n\t\tconst errArgs = errors\n\t\t\t.filter(e => !!e)\n\t\t\t.map(e => t(e))\n\t\t\t.join(', ')\n\n\t\tawait validate(validateId, propName, {\n\t\t\tisValid,\n\t\t\terr: {\n\t\t\t\tmsg: 'ERR_AUDIENCE_INPUT',\n\t\t\t\targs: [errArgs],\n\t\t\t\tfields: {\n\t\t\t\t\tlocation: !!errors[0],\n\t\t\t\t\tpublishers: !!errors[1],\n\t\t\t\t\tcategories: !!errors[2],\n\t\t\t\t\tdevices: !!errors[3],\n\t\t\t\t},\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n","const MAX_ASPECT_TOLERANCE = 5\n\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\n\nconst getVideoSize = src =>\n\tnew Promise(resolve => {\n\t\tconst video = document.createElement('video')\n\t\tvideo.src = src\n\n\t\tvideo.onloadedmetadata = ({ target }) => {\n\t\t\treturn resolve({\n\t\t\t\twidth: target.videoWidth,\n\t\t\t\theight: target.videoHeight,\n\t\t\t})\n\t\t}\n\t})\n\nconst getImageSize = src =>\n\tnew Promise(resolve => {\n\t\tconst image = new Image()\n\t\timage.src = src\n\t\timage.onload = function() {\n\t\t\treturn resolve({\n\t\t\t\twidth: this.width,\n\t\t\t\theight: this.height,\n\t\t\t})\n\t\t}\n\t})\n\nexport const getMediaSize = ({ mime, src }) =>\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\n\nexport const checkExactishAspect = (\n\twidthTarget,\n\twidth,\n\theightTarget,\n\theight,\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\n) => {\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\n\t\treturn false\n\t}\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\n\tconst aspect = parseFloat(width / height)\n\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\n\n\tconst isValid =\n\t\twidthTarget <= width &&\n\t\theightTarget <= height &&\n\t\taspectDiff <= maxPercentTolerance\n\n\treturn isValid\n}\n","import { validate } from 'actions'\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\n\nexport function validateMediaSize({\n\tvalidateId,\n\tmedia,\n\tpropName,\n\tdirty,\n\twidthTarget,\n\theightTarget,\n\tmsg,\n\texact,\n\trequired,\n} = {}) {\n\treturn async function(dispatch) {\n\t\tconst { mime, tempUrl } = media\n\t\tlet isValid = mime && tempUrl\n\t\tlet args = [widthTarget, heightTarget, 'px']\n\n\t\tif (!required && !media.tempUrl) {\n\t\t\tisValid = true\n\t\t}\n\n\t\tif (required && isValid) {\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\n\t\t\tconst mediaWidth = size.width\n\t\t\tconst mediaHeight = size.height\n\n\t\t\tif (exact) {\n\t\t\t\tisValid = checkExactishAspect(\n\t\t\t\t\twidthTarget,\n\t\t\t\t\tmediaWidth,\n\t\t\t\t\theightTarget,\n\t\t\t\t\tmediaHeight\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\n\t\t\t\tisValid = false\n\t\t\t}\n\t\t}\n\n\t\tawait validate(validateId, propName, {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { logOut } from 'services/store-data/auth'\nimport moment from 'moment'\n\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\n\nconst processResponse = (res, dontThrow, skipRedirect) => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\tif (res.status === 401 || res.status === 403) {\n\t\t\tlogOut(skipRedirect)\n\t\t}\n\t\tif (!dontThrow) {\n\t\t\thandleRequesterErrorRes({ res, text })\n\t\t}\n\t})\n}\n\nexport const getSession = ({\n\tidentity,\n\tmode,\n\tsignature,\n\tauthToken,\n\thash,\n\ttypedData,\n\tsignerAddress,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'auth/',\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tidentity,\n\t\t\t\tmode,\n\t\t\t\tsignature,\n\t\t\t\tauthToken,\n\t\t\t\thash,\n\t\t\t\ttypedData,\n\t\t\t\tsignerAddress,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const checkSession = ({ authSig, skipErrToast }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'session',\n\t\t\tmethod: 'GET',\n\t\t\tauthSig,\n\t\t\tskipErrToast,\n\t\t})\n\t\t.then(res => processResponse(res, true, true))\n}\n\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\n\tconst formData = new FormData()\n\tformData.append('media', imageBlob, imageName)\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'media',\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nconst convertItemToJSON = item => {\n\tconst itemToConvert = { ...item }\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\n\t}\n\n\treturn JSON.stringify(itemToConvert)\n}\n\nexport const getAdUnits = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAdUnitById = ({ unitId }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `units/${unitId}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdUnit = ({ unit, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdUnit = ({ unit, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `units/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAdSlots = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getTargetingData = () => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots/targeting-data',\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdSlot = ({ slot, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdSlot = ({ slot, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `slots/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getUserCampaigns = ({ authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns/by-owner',\n\t\t\tmethod: 'GET',\n\t\t\tnoCache: true,\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${campaign.id}/close`,\n\t\t\tmethod: 'PUT',\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getCampaigns = ({\n\tall,\n\tstatuses,\n\tbyEarner,\n\tbyCreator,\n\tcacheBrake,\n\tstatusOnly,\n} = {}) => {\n\tconst queryParams = {\n\t\t...(all && { all: true }),\n\t\t...(statusOnly && { statusOnly: true }),\n\t\t...(statuses && { status: statuses.join(',') }),\n\t\tbyEarner,\n\t\tbyCreator,\n\t\t...(cacheBrake && { cacheBrake: Date.now() }),\n\t}\n\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateCampaign = ({ campaign, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(campaign),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const verifyWebsite = ({ websiteUrl }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots/verify-website',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON({ websiteUrl }),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getUserAudiences = () => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'audiences',\n\t\t\tmethod: 'GET',\n\t\t\tnoCache: true,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getUserAudienceByCampaign = ({ campaignId }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `audiences/${campaignId}`,\n\t\t\tmethod: 'GET',\n\t\t\tnoCache: true,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const putAudience = ({ audience, id }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `audiences/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(audience),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAudience = ({ audience }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `audiences`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(audience),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n","import { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\n\nconst autocompleteLocationsSingleSelect = () => {\n\treturn constants.AllCountries.map(country => {\n\t\treturn {\n\t\t\tlabel: country.name,\n\t\t\tvalue: country.value,\n\t\t}\n\t})\n}\n\nconst autocompleteGendersSingleSelect = () => {\n\treturn constants.Genders.map(gender => {\n\t\treturn {\n\t\t\tlabel: translate(gender.split('_')[1]),\n\t\t\tvalue: gender,\n\t\t}\n\t})\n}\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nexport const AcLocations = autocompleteLocationsSingleSelect()\nexport const AcGenders = autocompleteGendersSingleSelect()\nexport const AcTags = autocompleteTagsSingleSelect()\n\nexport const SOURCES = {\n\tlocations: { src: AcLocations, collection: 'targeting' },\n\tgenders: { src: AcGenders, collection: 'targeting' },\n\ttags: { src: AcTags, collection: 'targeting' },\n\tcustom: { src: [], collection: 'targeting' },\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\tgetAdUnits,\n\tgetAdSlots,\n\tgetUserAudiences,\n\tuploadImage,\n\tupdateAdSlot,\n\tupdateAdUnit,\n\tupdateCampaign,\n\tputAudience,\n} from 'services/adex-market/actions'\nimport { execute, addToast as AddToastUi, updateSpinner } from 'actions'\nimport { push } from 'connected-react-router'\nimport { Base, AdSlot, AdUnit, helpers, Campaign, Audience } from 'adex-models'\n\nimport { translate } from 'services/translations/translations'\n\nimport initialState from 'store/initialState'\nimport { getMediaSize } from 'helpers/mediaHelpers'\nimport { getErrorMsg } from 'helpers/errors'\nimport { SOURCES } from 'constants/targeting'\nimport { selectAccount, selectAuth, selectItemByTypeAndId } from 'selectors'\n\nconst addToast = ({ type, toastStr, args, dispatch }) => {\n\treturn AddToastUi({\n\t\tdispatch: dispatch,\n\t\ttype: type,\n\t\tlabel: translate(toastStr, { args: args }),\n\t\ttimeout: 5000,\n\t})(dispatch)\n}\n\nexport const getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\n\treturn fetch(tempUrl)\n\t\t.then(resp => {\n\t\t\treturn resp.blob()\n\t\t})\n\t\t.then(imgBlob => {\n\t\t\tURL.revokeObjectURL(tempUrl)\n\t\t\treturn uploadImage({\n\t\t\t\timageBlob: imgBlob,\n\t\t\t\timageName: 'image.jpeg',\n\t\t\t\tauthSig: authSig,\n\t\t\t})\n\t\t})\n}\n\nexport function getAllItems(onDataUpdated) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst { address } = account.identity\n\t\t\tconst units = getAdUnits({ identity: address })\n\t\t\tconst slots = getAdSlots({ identity: address })\n\t\t\tconst audiences = getUserAudiences()\n\n\t\t\tconst [resAudiences, resUnits, resSlots] = await Promise.all([\n\t\t\t\taudiences,\n\t\t\t\tunits,\n\t\t\t\tslots,\n\t\t\t])\n\t\t\tconst userSlots = resSlots.slots || []\n\t\t\tconst userPassbackUnits = (resSlots.passbackUnits || []).reduce(\n\t\t\t\t(passbacks, u) => {\n\t\t\t\t\tconst { id, mediaMime, mediaUrl, targetUrl } = u\n\t\t\t\t\tpassbacks[id] = { mediaMime, mediaUrl, targetUrl }\n\n\t\t\t\t\treturn passbacks\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t)\n\n\t\t\tconst slotsWithUnits = userSlots.map(async s => ({\n\t\t\t\t...s,\n\t\t\t\t...(s.fallbackUnit ? userPassbackUnits[s.fallbackUnit] : {}),\n\t\t\t}))\n\n\t\t\tconst slotWithUnitsRes = await Promise.all(slotsWithUnits)\n\t\t\tif (selectAuth(getState())) {\n\t\t\t\tupdateItems({\n\t\t\t\t\titems: resAudiences.audiences,\n\t\t\t\t\titemType: 'Audience',\n\t\t\t\t})(dispatch)\n\t\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\n\t\t\t\tupdateItems({\n\t\t\t\t\titems: slotWithUnitsRes,\n\t\t\t\t\titemType: 'AdSlot',\n\t\t\t\t})(dispatch)\n\t\t\t\tupdateItems({ items: resSlots.websites || [], itemType: 'Website' })(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tif (typeof onDataUpdated === 'function') {\n\t\t\t\t\tonDataUpdated()\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\n\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t})\n\t\t}\n\t}\n}\n\n// Accepts the entire new item and replace so be careful!\nexport function updateItem({\n\titem,\n\titemType,\n\taction = 'UPDATING',\n\tonSuccess,\n\tgoToTableOnSuccess = false,\n} = {}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { id } = item\n\t\tupdateSpinner(action + id, true)(dispatch)\n\t\ttry {\n\t\t\tconst newItem = { ...item }\n\t\t\tlet updatedItem = null\n\t\t\tlet objModel = null\n\t\t\tlet path = ''\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot': // In case newItem.website is null (very few slots)\n\t\t\t\t\tnewItem.website = newItem.website || ''\n\t\t\t\t\tconst slot = new AdSlot(newItem).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id })).slot\n\t\t\t\t\tobjModel = AdSlot\n\t\t\t\t\tpath = '/dashboard/publisher/slots'\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tconst unit = new AdUnit(newItem).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id })).unit\n\t\t\t\t\tobjModel = AdUnit\n\t\t\t\t\tpath = '/dashboard/advertiser/units'\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tconst campaign = new Campaign(newItem).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id })).campaign\n\t\t\t\t\tobjModel = Campaign\n\t\t\t\t\tpath = '/dashboard/advertiser/campaigns'\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'Audience':\n\t\t\t\t\tconst audience = new Audience(newItem).marketUpdate\n\t\t\t\t\tupdatedItem = (await putAudience({ audience, id })).audience\n\t\t\t\t\tobjModel = Audience\n\t\t\t\t\tpath = '/dashboard/advertiser/audiences'\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\n\t\t\t}\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\n\t\t\t\titemType,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: `SUCCESS_${action}_ITEM`,\n\t\t\t\targs: [itemType, item.title],\n\t\t\t})\n\n\t\t\tif (goToTableOnSuccess) {\n\t\t\t\texecute(push(path))\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_${action}_ITEM`, err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: `ERR_${action}_ITEM`,\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t\tupdateSpinner(action + item.id, false)(dispatch)\n\t}\n}\n\nconst findSourceByTag = tag => {\n\treturn Object.keys(SOURCES).find(\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\n\t)\n}\n\nexport function cloneItem({ item, itemType, objModel } = {}) {\n\treturn async function(dispatch) {\n\t\ttry {\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\n\t\t\tnewItem.id = ''\n\t\t\tnewItem.temp = {\n\t\t\t\t...initialState.newItem[itemType].temp,\n\t\t\t\ttargets: item.targeting.map((t, index) => {\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\n\t\t\t\t\treturn {\n\t\t\t\t\t\tkey: index,\n\t\t\t\t\t\tcollection: 'targeting',\n\t\t\t\t\t\tsource: key,\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\ttarget: { ...t },\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t}\n\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\n\t\t\t\tnewItem.mediaUrl,\n\t\t\t\tprocess.env.IPFS_GATEWAY\n\t\t\t)\n\n\t\t\tconst response = await fetch(tempUrl)\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\n\t\t\tconst mediaSize = await getMediaSize({\n\t\t\t\tmime: newItem.mediaMime,\n\t\t\t\tsrc: mediaURL,\n\t\t\t})\n\n\t\t\tconst temp = {\n\t\t\t\t...newItem.temp,\n\t\t\t\tmime: item.mediaMime,\n\t\t\t\ttempUrl: mediaURL,\n\t\t\t\twidth: mediaSize.width,\n\t\t\t\theight: mediaSize.height,\n\t\t\t}\n\n\t\t\tnewItem.temp = temp\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\t\titem: newItem,\n\t\t\t\titemType,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error(err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function archiveItem({ itemId, itemType, goToTableOnSuccess } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tconst selectedItem = selectItemByTypeAndId(getState(), itemType, itemId)\n\t\tconst item = { ...selectedItem }\n\t\titem.archived = true\n\n\t\tawait updateItem({\n\t\t\titem,\n\t\t\titemType,\n\t\t\taction: 'ARCHIVING',\n\t\t\tgoToTableOnSuccess,\n\t\t})(dispatch, getState)\n\t}\n}\n\nexport function setCurrentItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.SET_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function updateCurrentItem(item, newMeta) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t\tmeta: newMeta,\n\t\t})\n\t}\n}\n\nexport function updateItems({ items, itemType }) {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\n\t\t\titems: items,\n\t\t\titemType: itemType,\n\t\t})\n\t}\n}\n\nexport const resetAllItems = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_ITEMS,\n\t\t})\n\t}\n}\n\nexport const addNewTag = ({ tag }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_NEW_TAG,\n\t\t\ttag: tag,\n\t\t})\n\t}\n}\n","export const addSig = ({\n\taddr = '',\n\tsig,\n\tmode,\n\texpiryTime,\n\tidentity = 'notset',\n}) => {\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\n\t\tthrow new Error('addSig - all args are required')\n\t}\n\n\tlocalStorage.setItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\n\t\tsig + '-' + expiryTime\n\t)\n}\n\nexport const getSig = ({ addr = '', identity = '', mode }) => {\n\tlet sigAndTIme = localStorage.getItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\n\t)\n\n\tif (!sigAndTIme) {\n\t\treturn null\n\t}\n\n\tsigAndTIme = sigAndTIme.split('-')\n\tlet sig = sigAndTIme[0]\n\tlet time = sigAndTIme[1]\n\n\tif (!time || parseInt(time, 10) <= Date.now()) {\n\t\treturn null\n\t} else {\n\t\treturn sig\n\t}\n}\n","import { Signer, utils } from 'ethers'\nimport TrezorConnect from 'trezor-connect'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\n\nTrezorConnect.manifest({\n\temail: 'contactus@adex.network',\n\tappUrl: 'http://adex.network',\n})\n\nexport default class TrezorSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\n\t\tconst bundle = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tbundle.push({\n\t\t\t\tpath: this.path + `/${index}`,\n\t\t\t\tshowOnTrezor: false,\n\t\t\t})\n\t\t}\n\n\t\treturn { bundle }\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\n\t\t\tthis.getAddsParams({ from, to })\n\t\t)\n\n\t\treturn { success, payload }\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\n\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\n\t\t\tpath: this.path,\n\t\t\ttransaction: txProps,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst signature = {\n\t\t\t\tr: payload.r,\n\t\t\t\ts: payload.s,\n\t\t\t\tv: parseInt(payload.v),\n\t\t\t}\n\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\t\treturn txSigned\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\n\t\t\tpath: this.path,\n\t\t\tmessage: message,\n\t\t\thex: !!opts.hex,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst res = {\n\t\t\t\t/*\n\t\t\t\t * NOTE: SignatureTypes.GETH\n\t\t\t\t * Current TrezorConnect window does not\n\t\t\t\t * accept device with old firmware\n\t\t\t\t */\n\t\t\t\tsignature: '0x' + payload.signature,\n\t\t\t\thash: message,\n\t\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\t\taddress: payload.address,\n\t\t\t}\n\n\t\t\treturn res\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tconnect = provider => {\n\t\treturn new TrezorSigner(provider, { path: this.path })\n\t}\n}\n","export function loadFromLocalStorage(key) {\n\ttry {\n\t\tconst data = localStorage.getItem(key)\n\t\tif (data === null) {\n\t\t\treturn undefined\n\t\t}\n\t\treturn JSON.parse(data)\n\t} catch (err) {\n\t\treturn undefined\n\t}\n}\n\nexport function saveToLocalStorage(data, key) {\n\ttry {\n\t\tconst serialized = JSON.stringify(data)\n\t\tlocalStorage.setItem(key, serialized)\n\t} catch (err) {\n\t\tconsole.warn(err)\n\t}\n}\n\nexport function removeFromLocalStorage(key) {\n\tlocalStorage.removeItem(key)\n}\n\nexport function getKeys() {\n\treturn Object.keys(localStorage)\n}\n","import { ethers, utils } from 'ethers'\nimport pbkdf2 from 'pbkdf2'\nimport {\n\tencrypt,\n\tdecrypt,\n\tencryptLegacy,\n\tdecryptLegacy,\n} from 'services/crypto/crypto'\nimport {\n\tloadFromLocalStorage,\n\tsaveToLocalStorage,\n\tgetKeys,\n\tremoveFromLocalStorage,\n} from 'helpers/localStorageHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\n\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\n\treturn new Promise((resolve, reject) => {\n\t\tpbkdf2.pbkdf2(\n\t\t\tpass,\n\t\t\tsalt,\n\t\t\titerations,\n\t\t\tkeylen,\n\t\t\tdigiset,\n\t\t\t(err, derivedKey) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn reject(err)\n\t\t\t\t}\n\n\t\t\t\tconst res = derivedKey.toString(encoding)\n\n\t\t\t\treturn resolve(res)\n\t\t\t}\n\t\t)\n\t})\n}\n\nasync function getCipherKey({ email, password }) {\n\tconst pass = generateSalt(password)\n\tconst salt = generateSalt(email)\n\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn key\n}\n\nfunction isLegacyCrypto(authType) {\n\treturn !authType || authType === 'legacy' || authType === 'grant'\n}\n\n// Returns 12 random words\nexport function getRandomMnemonic() {\n\tconst randomEntropy = utils.randomBytes(16)\n\tconst mnemonic = utils.entropyToMnemonic(randomEntropy)\n\n\treturn mnemonic\n}\n\nexport async function generateWallet(mnemonic) {\n\tconst seed = mnemonic || getRandomMnemonic()\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\n\n\tconst walletData = {\n\t\tmnemonic: wallet.mnemonic.phrase,\n\t\tprivateKey: wallet.privateKey,\n\t\taddress: wallet.address,\n\t\tpath: wallet.mnemonic.path,\n\t}\n\n\treturn walletData\n}\n\nasync function encrKey({ email, password, authType }) {\n\tif (!authType) {\n\t\treturn await encryptLegacy(email, password)\n\t} else if (typeof authType === 'string') {\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\n\t} else {\n\t\tthrow new Error('INVALID_TYPE')\n\t}\n}\n\nexport async function encrData({ email = '', password, data, authType }) {\n\tconst isLegacy = isLegacyCrypto(authType)\n\tconst jsonData = JSON.stringify(data)\n\tif (isLegacy) {\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\n\t\treturn legacyEncrypted\n\t} else {\n\t\tconst encrypted = await encrypt(\n\t\t\tjsonData,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t\treturn encrypted\n\t}\n}\n\nexport async function decrData({ email = '', password, data, authType }) {\n\tlet decryptedStr = ''\n\tconst isLegacy = isLegacyCrypto(authType)\n\n\tif (isLegacy) {\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\n\t} else {\n\t\tdecryptedStr = await decrypt(\n\t\t\tdata,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t}\n\n\ttry {\n\t\tconst decr = JSON.parse(decryptedStr)\n\t\treturn decr\n\t} catch (err) {\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\n\t}\n}\n\nexport async function createLocalWallet({\n\temail = '',\n\tpassword = '',\n\tmnemonic,\n\tauthType = '',\n}) {\n\tconst walletData = await generateWallet(mnemonic)\n\tconst key = await encrKey({ email, password, authType })\n\tconst data = await encrData({ data: walletData, email, password, authType })\n\tawait saveToLocalStorage({ data }, key)\n\n\twalletData.authType = authType\n\treturn walletData\n}\n\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\n\tconst wallet = await getLocalWallet({\n\t\temail,\n\t\tpassword,\n\t\tgetEncrypted: true,\n\t})\n\n\tif (wallet && wallet.data) {\n\t\tconst newKey = await encrKey({\n\t\t\temail,\n\t\t\tpassword,\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\n\t\t})\n\t\tsaveToLocalStorage(wallet, newKey)\n\t}\n}\n\nexport async function removeLegacyKey({ email = '', password = '' }) {\n\tconst key = await encrKey({ email, password })\n\tremoveFromLocalStorage(key)\n}\n\nexport async function addDataToWallet({\n\temail = '',\n\tpassword = '',\n\tdataKey = '',\n\tdataValue = '',\n\tauthType,\n}) {\n\tif (dataKey === 'data') {\n\t\tthrow new Error('INVALID_DATA_KEY')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (!wallet) {\n\t\tthrow new Error('WALLET_NOT_FOUND')\n\t}\n\n\tconst data = await encrData({ data: dataValue, email, password, authType })\n\twallet[dataKey] = data\n\tsaveToLocalStorage(wallet, key)\n}\n\nexport async function getRecoveryWalletData({ email, password, authType }) {\n\tif (!email || !password) {\n\t\treturn null\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\treturn {\n\t\tkey,\n\t\twallet,\n\t}\n}\n\nexport async function getLocalWallet({\n\temail,\n\tpassword,\n\tauthType,\n\tgetEncrypted,\n}) {\n\tif (!email || !password) {\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (wallet) {\n\t\tif (getEncrypted) {\n\t\t\treturn wallet\n\t\t}\n\n\t\tconst walletKeys = Object.keys(wallet)\n\n\t\tconst decrypts = walletKeys.map(async key => {\n\t\t\t// props[key] = await decrData({\n\t\t\t// \tdata: wallet[key],\n\t\t\t// \temail,\n\t\t\t// \tpassword,\n\t\t\t// \tauthType,\n\t\t\t// })\n\n\t\t\tconst decryptedData = await decrData({\n\t\t\t\tdata: wallet[key],\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\treturn decryptedData\n\t\t})\n\n\t\tconst decryptedData = await Promise.all(decrypts)\n\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\n\t\t\tprops[key] = decryptedData[index]\n\t\t\treturn props\n\t\t}, {})\n\n\t\treturn decryptedWallet\n\t} else {\n\t\treturn null\n\t}\n}\n\nfunction isWallet(item) {\n\treturn item && item.data && item.identity && item.privileges\n}\n\nexport function walletInfo(key, index, wallet) {\n\tconst split = key.split('-')\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\n\tconst authType = split[1] || 'legacy'\n\tconst name = mail || `Grant account # ${index + 1}`\n\n\tconst info = {\n\t\tkey,\n\t\twallet,\n\t\tname,\n\t\tauthType,\n\t}\n\n\treturn info\n}\n\nexport function getAllWallets() {\n\tconst walletKeys = getKeys()\n\t\t.map(key => {\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\titem: loadFromLocalStorage(key),\n\t\t\t}\n\t\t})\n\t\t.filter(({ item }) => isWallet(item))\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\n\n\treturn walletKeys\n}\n\nexport async function getWalletHash({ salt, password }) {\n\tconst passwordId = utils.id(password)\n\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn hash\n}\n\nexport function generateSalt(dataStr) {\n\tif (typeof dataStr !== 'string') {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\n\t} else if (!dataStr.length) {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\n\t}\n\n\tconst id = utils.id(dataStr)\n\tconst salt = utils.keccak256(id)\n\treturn salt\n}\n","import { Signer, utils, Wallet } from 'ethers'\nimport { getLocalWallet } from 'services/wallet/wallet'\nimport { constants } from 'adex-models'\n\nexport default class LocalSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\n\t\tthis._provider = provider\n\t\tthis._opts = opts\n\t}\n\n\tgetWallet = async () => {\n\t\tif (this._wallet) {\n\t\t\treturn this._wallet\n\t\t} else {\n\t\t\tconst { email, password, authType } = this._opts\n\t\t\tconst walletData = await getLocalWallet({\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\n\t\t\treturn this._wallet\n\t\t}\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn await this.getWallet().address\n\t}\n\n\tsignTx = async params => {\n\t\tconst signetTx = await this.getWallet().sign(params)\n\t\treturn signetTx\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst wallet = await this.getWallet()\n\n\t\tconst signature = await wallet.signMessage(message)\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: wallet.address,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LocalSigner(provider, {\n\t\t\temail: this.email,\n\t\t\tpassword: this.password,\n\t\t})\n\t}\n}\n","import { Signer, utils } from 'ethers'\nimport { constants } from 'adex-models'\n\nexport default class MetaMaskSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._signer = provider.getSigner()\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn this._signer.getAddress()\n\t}\n\n\tsendTransaction = async params => {\n\t\treturn this._signer.sendTransaction(params)\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst signature = await this._signer.signMessage(message)\n\t\t// TODO: support EIP712\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: await this._signer.getAddress(),\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new MetaMaskSigner(provider)\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { utils } from 'ethers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\nimport LocalSigner from 'services/smart-contracts/signers/local'\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\n\nexport async function getSigner({ wallet, provider }) {\n\t// TODO: Maybe get provider here?\n\tconst { authType, path, email, password } = wallet\n\n\tif (authType === AUTH_TYPES.METAMASK.name) {\n\t\tconst signer = new MetaMaskSigner(provider)\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.TREZOR.name) {\n\t\tconst signer = new TrezorSigner(provider, { path })\n\t\treturn signer\n\t}\n\tif (\n\t\tauthType === AUTH_TYPES.GRANT.name ||\n\t\tauthType === AUTH_TYPES.QUICK.name\n\t) {\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\n\n\t\treturn signer\n\t}\n\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\n}\n\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\nexport const getTypedDataHash = ({ typedData }) => {\n\tconst values = typedData.map(entry => {\n\t\treturn typeof entry.value === 'string'\n\t\t\t? utils.toUtf8Bytes(entry.value)\n\t\t\t: utils.hexlify(entry.value)\n\t})\n\tconst valuesHash = utils.keccak256.apply(null, values)\n\tconst schema = typedData.map(entry => {\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\n\t})\n\n\tconst schemaHash = utils.keccak256.apply(null, schema)\n\tconst hash = utils.solidityKeccak256(\n\t\t['bytes32', 'bytes32'],\n\t\t[schemaHash, valuesHash]\n\t)\n\n\treturn hash\n}\n\nexport async function getAuthSig({ wallet }) {\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst authToken = Math.floor(\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\n\t).toString()\n\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\n\tconst hash = getTypedDataHash({ typedData })\n\tconst signature = await signer.signMessage(hash, { hex: true })\n\n\treturn {\n\t\t...signature,\n\t\tauthToken,\n\t\thash,\n\t}\n}\n\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\n\tconst { provider } = await getEthers(authType)\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\n\n\treturn Promise.all(receipts)\n}\n\nexport async function signTx({ tx, signer }) {\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\n\t\thex: true,\n\t})\n\tconst signature = splitSig(sig.signature)\n\treturn signature\n}\n\nexport async function getMultipleTxSignatures({ txns, signer }) {\n\tconst signatures = []\n\tfor (const tx of txns) {\n\t\tsignatures.push(await signTx({ tx, signer }))\n\t}\n\n\treturn signatures\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport dateUtils from 'helpers/dateUtils'\nimport ewt from './ewt'\n\nconst BEARER_PREFIX = 'Bearer '\nconst ANALYTICS_DATA_VALIDATOR_URL = process.env.ANALYTICS_DATA_VALIDATOR_URL\n\nconst getValidatorRequester = ({ baseUrl }) => {\n\treturn new Requester({ baseUrl })\n}\n\nconst getRequesters = ({ campaign }) => {\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\n\tconst followerRequester = getValidatorRequester({\n\t\tbaseUrl: follower.url,\n\t})\n\n\treturn {\n\t\tleader: { requester: leaderRequester, validator: leader },\n\t\tfollower: { requester: followerRequester, validator: follower },\n\t}\n}\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\n\tconst { identity, wallet } = account\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\n\tif (existingAuth) {\n\t\treturn existingAuth\n\t}\n\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst payload = {\n\t\tid: validatorId,\n\t\tidentity: identity.address,\n\t\tera: Math.floor(Date.now() / 60000),\n\t}\n\n\tconst token = ewt.sign(signer, payload)\n\n\treturn token\n}\n\nconst sendMessage = async ({ campaign, options, account }) => {\n\tconst { follower, leader } = getRequesters({ campaign })\n\n\tconst followerAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: follower.validator.id,\n\t\taccount,\n\t})\n\tconst leaderAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: leader.validator.id,\n\t\taccount,\n\t})\n\tconst followerResult = await follower.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\tconst leaderResult = await leader.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn {\n\t\tresults: {\n\t\t\tfollowerResult,\n\t\t\tleaderResult,\n\t\t},\n\t\tauthTokens: {\n\t\t\t[follower.id]: followerAuthToken,\n\t\t\t[leader.id]: leaderAuthToken,\n\t\t},\n\t}\n}\n\nexport const lastApprovedState = ({ campaign }) => {\n\tconst { leader } = getRequesters({ campaign })\n\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `channel/${campaign.id}/last-approved`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaign = ({ campaign, account }) => {\n\tconst options = {\n\t\troute: `channel/${campaign.id}/events`,\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\n\t\theaders: { 'Content-Type': 'application/json' },\n\t}\n\n\treturn sendMessage({ campaign, options, account })\n}\n\nexport const updateTargeting = ({ campaign, account, targetingRules }) => {\n\tconst options = {\n\t\troute: `channel/${campaign.id}/events`,\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({\n\t\t\tevents: [{ type: 'UPDATE_TARGETING', targetingRules }],\n\t\t}),\n\t\theaders: { 'Content-Type': 'application/json' },\n\t}\n\n\treturn sendMessage({ campaign, options, account })\n}\n\nexport const identityAnalytics = async ({\n\tleaderAuth,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n\tside,\n\tsegmentByChannel,\n\tstart,\n\tend,\n\tweekHoursSpan,\n}) => {\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/${side}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: {\n\t\t\t\tmetric,\n\t\t\t\ttimeframe,\n\t\t\t\tlimit,\n\t\t\t\tsegmentByChannel,\n\t\t\t\teventType,\n\t\t\t\tstart,\n\t\t\t\tend,\n\t\t\t\tweekHoursSpan,\n\t\t\t\ttimezone: dateUtils.getCurrentTimezone(),\n\t\t\t},\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn { aggregates, metric }\n}\n\nexport const identityAdvancedAnalytics = async ({ leaderAuth, eventType }) => {\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/advanced`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType },\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn aggregates\n}\n\nexport const campaignAnalytics = ({\n\tcampaign,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n}) => {\n\tconst { leader } = getRequesters({ campaign })\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `/analytics/${campaign.id}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const timeBasedAnalytics = async ({\n\tleaderAuth,\n\tlimit,\n\ttimeframe,\n\teventType,\n\tmetric,\n\tside,\n\tstart,\n\tend,\n\tsegmentByChannel,\n}) => {\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst result = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/${side}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: {\n\t\t\t\tlimit,\n\t\t\t\ttimeframe,\n\t\t\t\teventType,\n\t\t\t\tmetric,\n\t\t\t\tstart,\n\t\t\t\tend,\n\t\t\t\tsegmentByChannel,\n\t\t\t},\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\treturn result\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { constants } from 'adex-models'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport { BigNumber, utils } from 'ethers'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport {\n\tselectRelayerConfig,\n\tselectMainToken,\n\tselectRoutineWithdrawTokens,\n\tselectFeeTokenWhitelist,\n} from 'selectors'\nimport { AUTH_TYPES } from 'constants/misc'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\n\tif (token.address === mainToken.address) {\n\t\treturn balance\n\t}\n\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\n\n\t// approve + swap txns\n\tconst swapFees = BigNumber.from(feeToken.min).mul(BigNumber.from(2))\n\n\tconst isAvailable = swapFees.mul(BigNumber.from(2)).lte(balance)\n\treturn isAvailable ? balance : BigNumber.from(0)\n}\n\nexport const getTotalAccountRevenue = async ({ all }) => {\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\n\tconst totalRevenue = await Object.values(all).reduce(\n\t\tasync (revenuePr, { balance, depositAsset } = {}) => {\n\t\t\tconst revenue = await revenuePr\n\n\t\t\tconst token = withdrawTokens[depositAsset]\n\n\t\t\t// const hasMinBalance = BigNumber.from(balance).gt(\n\t\t\t// \tBigNumber.from(token.minFinal)\n\t\t\t// )\n\n\t\t\t// NOTE: Show everything\n\t\t\tconst hasMinBalance = BigNumber.from(balance).gt(BigNumber.from(0))\n\n\t\t\tconst balanceMainToken = hasMinBalance\n\t\t\t\t? await tokenInMainTokenValue({\n\t\t\t\t\t\ttoken,\n\t\t\t\t\t\tbalance,\n\t\t\t\t  })\n\t\t\t\t: BigNumber.from(0)\n\n\t\t\treturn revenue.add(balanceMainToken)\n\t\t},\n\t\tPromise.resolve(BigNumber.from(0))\n\t)\n\n\treturn totalRevenue\n}\n\nexport const getWithdrawTokensBalances = async ({\n\taddress,\n\tgetFullBalances,\n}) => {\n\tconst { getToken } = await getEthers(AUTH_TYPES.READONLY)\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\n\t\tconst tokenContract = getToken(token)\n\n\t\tconst balance = await tokenContract.balanceOf(address)\n\n\t\tconst available = getFullBalances\n\t\t\t? balance\n\t\t\t: tokenAvailableBalance({\n\t\t\t\t\ttoken,\n\t\t\t\t\tmainToken,\n\t\t\t\t\tbalance,\n\t\t\t  })\n\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: available,\n\t\t})\n\n\t\treturn { token, balance: available, balanceMainToken }\n\t})\n\n\tconst balances = await Promise.all(balancesCalls)\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\n\t\t(data, balanceData) => {\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\n\t\t\t\tbalanceData.balanceMainToken\n\t\t\t)\n\n\t\t\tif (balanceData.token.address === mainToken.address) {\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\n\t\t\t}\n\n\t\t\treturn data\n\t\t},\n\t\t{\n\t\t\ttotalBalanceInMainToken: BigNumber.from(0),\n\t\t\tmainTokenBalance: BigNumber.from(0),\n\t\t}\n\t)\n\n\treturn {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t\ttotalBalanceInMainToken,\n\t}\n}\n\nexport async function getAddressBalances({ address, getFullBalances }) {\n\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\n\n\tconst calls = [\n\t\tprovider.getBalance(address.address),\n\t\tgetWithdrawTokensBalances({\n\t\t\taddress: address.address,\n\t\t\tgetFullBalances,\n\t\t}),\n\t]\n\n\tconst balances = await Promise.all(calls)\n\n\tconst formatted = {\n\t\taddress: address.address,\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\n\t\tbalanceEth: utils.formatEther(balances[0].toString()),\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\n\t\t\treturn {\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\n\t\t\t\tsymbol: token.symbol,\n\t\t\t}\n\t\t}),\n\t}\n\n\treturn formatted\n}\n\nexport async function getAccountStats({\n\taccount,\n\toutstandingBalanceMainToken = {\n\t\ttotal: BigNumber.from('0'),\n\t\tavailable: BigNumber.from('0'),\n\t},\n\toutstandingBalanceAllMainToken = {\n\t\ttotal: BigNumber.from('0'),\n\t\tavailable: BigNumber.from('0'),\n\t},\n\tall,\n}) {\n\tconst { wallet, identity } = account\n\tconst { address } = identity\n\tconst { getIdentity } = await getEthers(AUTH_TYPES.READONLY)\n\tconst { decimals } = selectMainToken()\n\n\tconst { status = {} } = identity\n\tconst identityContract = getIdentity({ address })\n\tlet privilegesAction\n\ttry {\n\t\tawait identityContract.deployed()\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\n\t} catch {\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\n\t}\n\n\tconst calls = [\n\t\tgetWithdrawTokensBalances({ address }),\n\t\tprivilegesAction,\n\t\tgetTotalAccountRevenue({ all }),\n\t]\n\n\tconst [\n\t\tidentityWithdrawTokensBalancesBalances = {},\n\t\twalletPrivileges,\n\t\ttotalRevenue,\n\t] = await Promise.all(\n\t\tcalls.map(c =>\n\t\t\tc\n\t\t\t\t.then(res => res)\n\t\t\t\t.catch(e => {\n\t\t\t\t\treturn undefined\n\t\t\t\t})\n\t\t)\n\t)\n\n\tconst identityBalanceMainToken =\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken ||\n\t\tBigNumber.from(0)\n\n\t// BigNumber values for balances\n\tconst raw = {\n\t\tidentityWithdrawTokensBalancesBalances,\n\t\twalletPrivileges,\n\t\tidentityBalanceMainToken,\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.available\n\t\t),\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.total\n\t\t),\n\t\toutstandingBalanceAllMainToken: outstandingBalanceAllMainToken.available,\n\t\ttotalOutstandingBalanceAllMainToken: outstandingBalanceAllMainToken.total,\n\t\tavailableIdentityBalanceAllMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceAllMainToken.available\n\t\t),\n\t\ttotalIdentityBalanceAllMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceAllMainToken.total\n\t\t),\n\t\ttotalRevenue,\n\t}\n\n\tconst formatted = {\n\t\twalletAddress: wallet.address,\n\t\twalletAuthType: wallet.authType,\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\n\t\tidentityAddress: identity.address,\n\t\tidentityBalanceMainToken: formatTokenAmount(\n\t\t\tidentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\toutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.outstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalOutstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.availableIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\toutstandingBalanceAllMainToken: formatTokenAmount(\n\t\t\traw.outstandingBalanceAllMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalOutstandingBalanceAllMainToken: formatTokenAmount(\n\t\t\traw.totalOutstandingBalanceAllMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tavailableIdentityBalanceAllMainToken: formatTokenAmount(\n\t\t\traw.availableIdentityBalanceAllMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalIdentityBalanceAllMainToken: formatTokenAmount(\n\t\t\traw.totalIdentityBalanceAllMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalRevenue: formatTokenAmount(\n\t\t\traw.totalRevenue || '0',\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t}\n\n\treturn {\n\t\traw,\n\t\tformatted,\n\t}\n}\n\n// NOTE: currently working because DAI and SAI has the same price and decimals\n// We should use getOutstandingBalanceMainToken if changed\nexport async function getOutstandingBalance({ withBalance }) {\n\tconst bigZero = BigNumber.from(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable } = ch\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstanding)\n\t\tcurrent.available = current.available.add(\n\t\t\tBigNumber.from(outstandingAvailable)\n\t\t)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\n\tconst tokens = selectRoutineWithdrawTokens()\n\tconst bigZero = BigNumber.from(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\n\t\tconst { depositAsset } = channel\n\t\tconst token = tokens[depositAsset]\n\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: outstandingAvailable,\n\t\t})\n\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstandingMT)\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getAllValidatorsAuthForIdentity({\n\twithBalance,\n\taccount,\n}) {\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\n\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\n\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\tconst keys = Object.keys(allValidators)\n\n\tconst tokenCalls = keys.map(async key => {\n\t\tif (allValidators[key]) {\n\t\t\treturn allValidators[key]\n\t\t} else {\n\t\t\tconst token = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: key,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\treturn token\n\t\t}\n\t})\n\n\tconst allTokens = await Promise.all(tokenCalls)\n\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[key]: allTokens[index],\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\treturn validatorsAuth\n}\n\nconst saiDaiConversion = async ({ token, balance }) => balance\n\nconst valueInMainTokenConversions = {\n\t// SAI\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\n\t\t// DAI\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\n\t},\n\t// DAI\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\n\t\t// SAI\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\n\t},\n}\n\nexport async function tokenInMainTokenValue({ token, balance }) {\n\tconst { address } = selectMainToken()\n\n\tif (address === token.address) {\n\t\treturn balance\n\t}\n\n\tconst valueInMainToken = await valueInMainTokenConversions[\n\t\taddress.toLowerCase()\n\t][token.address.toLowerCase()]({\n\t\ttoken,\n\t\tbalance,\n\t})\n\n\treturn valueInMainToken\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetSigner,\n\tgetMultipleTxSignatures,\n} from 'services/smart-contracts/actions/ethers'\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\nimport { Contract, BigNumber, utils } from 'ethers'\nimport { generateAddress2 } from 'ethereumjs-util'\nimport { executeTx } from 'services/adex-relayer'\nimport {\n\tselectRelayerConfig,\n\tselectMainToken,\n\tselectFeeTokenWhitelist,\n\tselectSaiToken,\n\tt,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\nimport solc from 'solcBrowser'\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\nimport { EXECUTE_ACTIONS } from 'constants/misc'\nimport { contracts } from 'services/smart-contracts/contractsCfg'\nconst { AdExENSManager, ReverseRegistrar } = contracts\nconst { Interface, getAddress, parseUnits, id, keccak256 } = utils\n\nconst ERC20 = new Interface(ERC20TokenABI)\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\nconst AdExENSManagerInterface = new Interface(AdExENSManager.abi)\nconst ReverseRegistrarInterface = new Interface(ReverseRegistrar.abi)\n\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\n\nexport async function getIdentityDeployData({\n\towner,\n\trelayerRoutineAuthValidUntil = 10648454444,\n}) {\n\tconst {\n\t\tidentityFactoryAddr,\n\t\trelayerAddr,\n\t\tbaseIdentityAddr,\n\t\tidentityRecoveryAddr,\n\t\tcoreAddr,\n\t\tmainToken,\n\t} = selectRelayerConfig()\n\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\n\n\tconst routineAuthorizationsRaw = [\n\t\t{\n\t\t\trelayer: relayerAddr,\n\t\t\toutpace: coreAddr,\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tfeeTokenAmount: '0x00',\n\t\t},\n\t]\n\n\tconst bytecode = getProxyDeployBytecode(\n\t\tbaseIdentityAddr,\n\t\tprivileges,\n\t\t{\n\t\t\tprivSlot: 0,\n\t\t\troutineAuthsSlot: 1,\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\n\t\t\t\tnew RoutineAuthorization(x).hash()\n\t\t\t),\n\t\t},\n\t\tsolc\n\t)\n\n\tconst salt = keccak256(owner)\n\n\tconst identityAddr = getAddress(\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\n\t)\n\n\treturn {\n\t\tidentityFactoryAddr,\n\t\tbaseIdentityAddr,\n\t\tbytecode,\n\t\tsalt,\n\t\tidentityAddr,\n\t\tprivileges,\n\t\troutineAuthorizationsRaw,\n\t}\n}\n\nexport async function withdrawFromIdentity({\n\taccount,\n\tamountToWithdraw,\n\twithdrawTo,\n\tgetFeesOnly,\n}) {\n\tconst mainToken = selectMainToken()\n\tconst { decimals, symbol, address: tokenAddr } = mainToken\n\tconst { wallet, identity, stats } = account\n\tconst { authType } = wallet\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, Identity, getToken } = await getEthers(authType)\n\n\tconst identityAddr = identity.address\n\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\n\n\tconst withdrawTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: tokenAddr,\n\t\tto: tokenAddr,\n\t\tdata: ERC20.encodeFunctionData('transfer', [withdrawTo, toWithdraw]),\n\t\twithdrawTx: true,\n\t}\n\tconst txns = [withdrawTx]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: toWithdraw,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t\texecuteAction: EXECUTE_ACTIONS.withdraw,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\n\tconst mtBalance = BigNumber.from(availableIdentityBalanceMainToken)\n\n\tif (fees.totalBN.gt(mtBalance)) {\n\t\tthrow new Error(\n\t\t\tt('ERR_INSUFFICIENT_BALANCE_WITHDRAW', {\n\t\t\t\targs: [\n\t\t\t\t\t`${formatTokenAmount(\n\t\t\t\t\t\tmtBalance.toString(),\n\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t2\n\t\t\t\t\t)} ${symbol}`,\n\t\t\t\t\t`${fees.total} ${symbol}`,\n\t\t\t\t\t`${formatTokenAmount(toWithdraw.toString(), decimals)} ${symbol}`,\n\t\t\t\t],\n\t\t\t})\n\t\t)\n\t}\n\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\n\n\tlet actualWithdrawAmount = toWithdraw\n\n\tif (toWithdraw.gt(maxWithdraw)) {\n\t\tactualWithdrawAmount = maxWithdraw\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\n\t\t\tif (tx.withdrawTx) {\n\t\t\t\ttx.data = ERC20.encodeFunctionData('transfer', [\n\t\t\t\t\twithdrawTo,\n\t\t\t\t\tactualWithdrawAmount.toString(),\n\t\t\t\t])\n\t\t\t}\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\ttotalBN: fees.totalBN,\n\t\t\tactualWithdrawAmount,\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, decimals, null, 2),\n\t\t\tbreakdownFormatted: fees.breakdownFormatted,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function setIdentityPrivilege({\n\taccount,\n\tsetAddr,\n\tprivLevel,\n\tgetFeesOnly,\n}) {\n\tconst { wallet, identity } = account\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\tconst identityAddr = identity.address\n\n\tconst identityInterface = new Interface(Identity.abi)\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: identityAddr,\n\t\tdata: identityInterface.encodeFunctionData('setAddrPrivilege', [\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t]),\n\t}\n\n\tconst txns = [tx1]\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t\texecuteAction: EXECUTE_ACTIONS.privilegesChange,\n\t})\n\n\tif (getFeesOnly) {\n\t\tconst {\n\t\t\ttotal,\n\t\t\ttotalBN,\n\t\t\tbreakdownFormatted,\n\t\t} = await getIdentityTxnsTotalFees({\n\t\t\ttxnsByFeeToken,\n\t\t})\n\t\treturn {\n\t\t\tfees: total,\n\t\t\ttotalBN,\n\t\t\tbreakdownFormatted,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\ttxnsByFeeToken,\n\t\tidentityAddr,\n\t\twallet,\n\t\tprovider,\n\t\textraData: {\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t},\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\nfunction txnsByTokenWithSaiToDaiSwap({\n\ttxns,\n\tmainToken,\n\tdaiAddr,\n\tsaiAddr,\n\tidentityAddr,\n}) {\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\n\t\t(current, tx, i) => {\n\t\t\tconst { withdrawAmountByToken } = tx\n\n\t\t\tconst needSaiToDaiSwap =\n\t\t\t\t!!saiAddr &&\n\t\t\t\t!!withdrawAmountByToken &&\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\n\t\t\t\tmainToken.address === daiAddr &&\n\t\t\t\tsaiAddr !== daiAddr\n\n\t\t\tlet feeTokenAddr = ''\n\n\t\t\tif (needSaiToDaiSwap) {\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\n\t\t\t\t\tBigNumber.from(withdrawAmountByToken[saiAddr])\n\t\t\t\t)\n\t\t\t\tfeeTokenAddr = daiAddr\n\t\t\t}\n\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\n\t\t\t// normalize tx\n\t\t\ttx.feeTokenAddr = feeTokenAddr\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\n\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = [\n\t\t\t\t...(current.txnsByFeeToken[feeTokenAddr] || []),\n\t\t\t\ttx,\n\t\t\t]\n\n\t\t\treturn current\n\t\t},\n\t\t{\n\t\t\tsaiWithdrawAmount: BigNumber.from('0'),\n\t\t\ttxnsByFeeToken: {},\n\t\t}\n\t)\n\n\treturn { txnsByFeeToken, saiWithdrawAmount }\n}\n\nexport async function addIdentityENS({ username = '', account, getFeesOnly }) {\n\tconst { wallet, identity } = account\n\tconst { provider, MainToken, getToken, Identity } = await getEthers(\n\t\twallet.authType\n\t)\n\tconst identityAddr = identity.address\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: AdExENSManager.address,\n\t\tdata: AdExENSManagerInterface.encodeFunctionData('registerAndSetup', [\n\t\t\tAdExENSManager.publicResolver,\n\t\t\tid(username),\n\t\t\tidentityAddr,\n\t\t]),\n\t}\n\n\tconst tx2 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: ReverseRegistrar.address,\n\t\tdata: ReverseRegistrarInterface.encodeFunctionData('setName', [\n\t\t\t`${username}.${ReverseRegistrar.parentDomain}`,\n\t\t]),\n\t}\n\n\tconst txns = [tx1, tx2]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t\texecuteAction: EXECUTE_ACTIONS.ensChange,\n\t})\n\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { total, totalBN, breakdownFormatted } = await getIdentityTxnsTotalFees(\n\t\t{\n\t\t\ttxnsByFeeToken,\n\t\t\tmainToken,\n\t\t}\n\t)\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: total,\n\t\t\ttotalBN,\n\t\t\tbreakdownFormatted,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function getIdentityTxnsWithNoncesAndFees({\n\tamountInMainTokenNeeded = '0',\n\texecuteAction = 'DEFAULT',\n\ttxns = [],\n\tidentityAddr,\n\tprovider,\n\tIdentity,\n\taccount,\n\tgetToken,\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst saiToken = selectSaiToken()\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\n\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\n\tlet identityContract = null\n\n\tif (isDeployed) {\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\n\t}\n\n\tconst initialNonce = isDeployed\n\t\t? (await identityContract.nonce()).toNumber()\n\t\t: 0\n\n\tconst baseFee = BigNumber.from(\n\t\t(mainTokenWithFees.executeBaseFee || {})[executeAction] || '0'\n\t)\n\n\tconst mainTxnsFees = txns.length\n\t\t? BigNumber.from(\n\t\t\t\t!initialNonce\n\t\t\t\t\t? mainTokenWithFees.minDeploy\n\t\t\t\t\t: mainTokenWithFees.minRecommended\n\t\t  ).add(\n\t\t\t\tBigNumber.from(mainTokenWithFees.minRecommended).mul(\n\t\t\t\t\tBigNumber.from(txns.length - 1)\n\t\t\t\t)\n\t\t  )\n\t\t: BigNumber.from(0)\n\n\tconst feesForMainTxns = baseFee.add(mainTxnsFees)\n\n\tconst totalAmountInMainTokenNeeded = feesForMainTxns.add(\n\t\tBigNumber.from(amountInMainTokenNeeded)\n\t)\n\n\tconst {\n\t\tsweepTxns = [],\n\t\tswapAmountsByToken = {},\n\t} = await getSweepingTxnsIfNeeded({\n\t\tamountInMainTokenNeeded: totalAmountInMainTokenNeeded,\n\n\t\taccount,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns: sweepTxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// 1st - always get sweeping txns (channelWithdraw)\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\n\t// 3rd - make other txns with the main token only\n\n\t// TODO: make it work with other tokens\n\t// TODO: change getSwapAmountsByToken if more swaps are supported\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\n\t\t.add(BigNumber.from(swapAmountsByToken[saiAddr] || 0))\n\n\tif (!saiSwapAmount.isZero()) {\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\n\t\t\t...(await swapSaiToDaiTxns({\n\t\t\t\tgetToken,\n\t\t\t\tidentityAddr,\n\t\t\t\tdaiAddr,\n\t\t\t\tsaiToken,\n\t\t\t\tswapAmount: saiSwapAmount,\n\t\t\t})),\n\t\t]\n\t}\n\n\tconst allFeeTokens = [\n\t\t...new Set([\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\n\t\t]),\n\t]\n\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\n\t\ttxns[token] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\n\t\t]\n\n\t\treturn txns\n\t}, {})\n\n\tlet currentNonce = initialNonce\n\tlet baseFeeAdded = false\n\n\tObject.keys(txnsByFeeToken).forEach(key => {\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\n\t\t\tconst { routinesSweepTxCount = 0, extraTxFeesCount = 0, isSweepTx } = tx\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\n\t\t\tconst isDeployTx = currentNonce === 0\n\n\t\t\tconst txFeeAmount = isDeployTx\n\t\t\t\t? feeToken.minDeploy\n\t\t\t\t: isSweepTx\n\t\t\t\t? feeToken.min\n\t\t\t\t: feeToken.minRecommended\n\n\t\t\tconst addBaseFee =\n\t\t\t\t!baseFeeAdded && !isSweepTx && tx.feeTokenAddr === mainToken.address\n\n\t\t\tconst sweepRoutinesFeeAmount = BigNumber.from(routinesSweepTxCount).mul(\n\t\t\t\tBigNumber.from(feeToken.min)\n\t\t\t)\n\n\t\t\tconst extraFeesAmount = BigNumber.from(extraTxFeesCount).mul(\n\t\t\t\tBigNumber.from(feeToken.minRecommended)\n\t\t\t)\n\n\t\t\t// Total relayer fees for the transaction\n\t\t\tconst feeAmount = BigNumber.from(txFeeAmount)\n\t\t\t\t.add(sweepRoutinesFeeAmount)\n\t\t\t\t.add(extraFeesAmount)\n\t\t\t\t.add(addBaseFee ? baseFee : BigNumber.from(0))\n\t\t\t\t.toString()\n\n\t\t\t// fees that are not pre calculated with in the total identity balance\n\t\t\t// There are no pre calculated fees in the balance\n\t\t\tconst nonIdentityBalanceFeeAmount = BigNumber.from(feeAmount)\n\t\t\t// .sub(BigNumber.from(isSweepTx ? feeToken.min : 0))\n\t\t\t// .sub(BigNumber.from(routinesSweepTxCount).mul(BigNumber.from(feeToken.min)))\n\t\t\t// .toString()\n\n\t\t\tconst feesBreakdown = {\n\t\t\t\t...(addBaseFee ? { baseFee } : {}),\n\t\t\t\troutinesSweepTxCount,\n\t\t\t\tsweepRoutinesFeeAmount,\n\t\t\t\textraTxFeesCount,\n\t\t\t\textraFeesAmount,\n\t\t\t\tfeeAmount,\n\t\t\t\ttxFeeAmount,\n\t\t\t\tisDeployTx,\n\t\t\t\tisSweepTx,\n\t\t\t}\n\n\t\t\tconst txWithNonce = {\n\t\t\t\t...tx,\n\t\t\t\tfeeTokenAddr: feeToken.address,\n\t\t\t\tfeeAmount,\n\t\t\t\tnonce: currentNonce,\n\t\t\t\tnonIdentityBalanceFeeAmount,\n\t\t\t\tfeesBreakdown,\n\t\t\t\texecuteAction,\n\t\t\t}\n\n\t\t\tcurrentNonce += 1\n\n\t\t\treturn txWithNonce\n\t\t})\n\t})\n\n\treturn txnsByFeeToken\n}\n\nexport async function getApproveTxns({\n\tgetToken,\n\ttoken,\n\tidentityAddr,\n\tfeeTokenAddr,\n\tapproveForAddress,\n\tapproveAmount,\n}) {\n\tconst tokenContract = getToken(token)\n\n\tconst allowance = await tokenContract.allowance(\n\t\tidentityAddr,\n\t\tapproveForAddress\n\t)\n\n\tconst approveTxns = []\n\n\tif (!allowance.isZero()) {\n\t\tapproveTxns.push({\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: token.address,\n\t\t\tdata: ERC20.encodeFunctionData('approve', [approveForAddress, 0]),\n\t\t})\n\t}\n\n\tapproveTxns.push({\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: feeTokenAddr,\n\t\tto: token.address,\n\t\tdata: ERC20.encodeFunctionData('approve', [\n\t\t\tapproveForAddress,\n\t\t\tapproveAmount,\n\t\t]),\n\t})\n\n\treturn approveTxns\n}\n\nasync function swapSaiToDaiTxns({\n\tidentityAddr,\n\tdaiAddr,\n\tsaiToken,\n\tswapAmount,\n\tgetToken,\n}) {\n\tconst approveTxns = await getApproveTxns({\n\t\tgetToken,\n\t\ttoken: saiToken,\n\t\tidentityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\n\t\tapproveAmount: swapAmount,\n\t})\n\n\tconst swapTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tto: SCD_MCD_MIGRATION_ADDR,\n\t\tdata: ScdMcdMigration.encodeFunctionData('swapSaiToDai', [swapAmount]),\n\t}\n\n\treturn [...approveTxns, swapTx]\n}\n\n// TODO: use byToken where needed\n// currently works because only using SAI and DAI only\nexport async function getIdentityTxnsTotalFees({\n\ttxnsByFeeToken,\n\tmainToken = {},\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst bigZero = BigNumber.from('0')\n\tconst { total, byToken, totalBreakdown } = Object.values(txnsByFeeToken)\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\n\t\t.reduce(\n\t\t\t(result, tx) => {\n\t\t\t\tconst {\n\t\t\t\t\tfeesBreakdown,\n\t\t\t\t\tnonIdentityBalanceFeeAmount,\n\t\t\t\t\tfeeTokenAddr,\n\t\t\t\t\texecuteAction,\n\t\t\t\t} = tx\n\t\t\t\tconst { total, byToken, totalBreakdown } = result\n\t\t\t\tconst txFeeAmount = BigNumber.from(nonIdentityBalanceFeeAmount)\n\n\t\t\t\tresult.total = total.add(txFeeAmount)\n\t\t\t\tresult.byToken[feeTokenAddr] = (byToken[feeTokenAddr] || bigZero).add(\n\t\t\t\t\ttxFeeAmount\n\t\t\t\t)\n\n\t\t\t\tresult.totalBreakdown = {\n\t\t\t\t\tbaseFee: BigNumber.from(totalBreakdown.baseFee || '0').add(\n\t\t\t\t\t\tBigNumber.from(feesBreakdown.baseFee || '0')\n\t\t\t\t\t),\n\t\t\t\t\tsweepRoutinesFeeAmount: BigNumber.from(\n\t\t\t\t\t\ttotalBreakdown.sweepRoutinesFeeAmount || '0'\n\t\t\t\t\t).add(BigNumber.from(feesBreakdown.sweepRoutinesFeeAmount)),\n\t\t\t\t\textraFeesAmount: BigNumber.from(\n\t\t\t\t\t\ttotalBreakdown.extraFeesAmount || '0'\n\t\t\t\t\t).add(BigNumber.from(feesBreakdown.extraFeesAmount)),\n\t\t\t\t\tfeeAmount: BigNumber.from(totalBreakdown.feeAmount || '0').add(\n\t\t\t\t\t\tBigNumber.from(feesBreakdown.feeAmount)\n\t\t\t\t\t),\n\t\t\t\t\troutinesSweepTxCount:\n\t\t\t\t\t\t(totalBreakdown.routinesSweepTxCount || 0) +\n\t\t\t\t\t\t(feesBreakdown.routinesSweepTxCount || 0),\n\t\t\t\t\textraTxFeesCount:\n\t\t\t\t\t\t(totalBreakdown.extraTxFeesCount || 0) +\n\t\t\t\t\t\t(feesBreakdown.extraTxFeesCount || 0),\n\t\t\t\t\ttxnsCount:\n\t\t\t\t\t\ttotalBreakdown.txnsCount + (feesBreakdown.isSweepTx ? 0 : 1),\n\t\t\t\t\tsweepTxnsCount:\n\t\t\t\t\t\ttotalBreakdown.sweepTxnsCount +\n\t\t\t\t\t\t(totalBreakdown.routinesSweepTxCount || 0) +\n\t\t\t\t\t\t(feesBreakdown.isSweepTx ? 1 : 0),\n\t\t\t\t\tsweepTxnsFeeAmount: BigNumber.from(\n\t\t\t\t\t\ttotalBreakdown.sweepTxnsFeeAmount || '0'\n\t\t\t\t\t).add(\n\t\t\t\t\t\tBigNumber.from(\n\t\t\t\t\t\t\tfeesBreakdown.isSweepTx\n\t\t\t\t\t\t\t\t? feesBreakdown.txFeeAmount\n\t\t\t\t\t\t\t\t: feesBreakdown.sweepRoutinesFeeAmount\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tdeployFee: feesBreakdown.isDeployTx\n\t\t\t\t\t\t? BigNumber.from(feesBreakdown.txFeeAmount)\n\t\t\t\t\t\t: null,\n\t\t\t\t\texecuteAction,\n\t\t\t\t}\n\n\t\t\t\treturn result\n\t\t\t},\n\t\t\t{\n\t\t\t\ttotal: bigZero,\n\t\t\t\tbyToken: {},\n\t\t\t\ttotalBreakdown: { txnsCount: 0, sweepTxnsCount: 0 },\n\t\t\t}\n\t\t)\n\n\tconst byTokenFormatted = Object.entries(byToken).map(([key, value]) => {\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\n\t\treturn {\n\t\t\taddress: key,\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\n\t\t\tsymbol,\n\t\t\tfeeFormatted: `${formatTokenAmount(\n\t\t\t\tvalue.toString(),\n\t\t\t\tdecimals,\n\t\t\t\tfalse,\n\t\t\t\t4\n\t\t\t)} ${symbol}`,\n\t\t}\n\t})\n\n\tconst breakdownFormatted = {\n\t\t...totalBreakdown,\n\t\tbaseFee: formatTokenAmount(\n\t\t\ttotalBreakdown.baseFee.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tfeeAmount: formatTokenAmount(\n\t\t\ttotalBreakdown.feeAmount.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tsweepRoutinesFeeAmount: formatTokenAmount(\n\t\t\ttotalBreakdown.sweepRoutinesFeeAmount.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\textraFeesAmount: formatTokenAmount(\n\t\t\ttotalBreakdown.extraFeesAmount.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttxnsFee: formatTokenAmount(\n\t\t\ttotalBreakdown.feeAmount\n\t\t\t\t.sub(totalBreakdown.sweepTxnsFeeAmount)\n\t\t\t\t.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tsweepTxnsFeeAmount: formatTokenAmount(\n\t\t\ttotalBreakdown.sweepTxnsFeeAmount.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tdeployFee: totalBreakdown.deployFee\n\t\t\t? formatTokenAmount(\n\t\t\t\t\ttotalBreakdown.deployFee.toString(),\n\t\t\t\t\tmainToken.decimals || 18,\n\t\t\t\t\tfalse,\n\t\t\t\t\t2\n\t\t\t  )\n\t\t\t: null,\n\t}\n\n\tconst fees = {\n\t\t// TODO: change to return total as BN and add totalFormatted\n\t\ttotal: formatTokenAmount(\n\t\t\ttotal.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tbreakdownFormatted,\n\t\ttotalBN: total,\n\t\tbyToken: byTokenFormatted,\n\t}\n\n\treturn fees\n}\n\nexport async function processExecuteByFeeTokens({\n\ttxnsByFeeToken,\n\twallet,\n\tprovider,\n\tidentityAddr,\n\textraData = {},\n}) {\n\tconst signer = await getSigner({ wallet, provider })\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\n\t\tconst data = {\n\t\t\ttxnsRaw,\n\t\t\tsignatures,\n\t\t\tidentityAddr,\n\t\t\t...extraData,\n\t\t}\n\n\t\tif (\n\t\t\tprocess.env.BUILD_TYPE === 'staging' ||\n\t\t\tprocess.env.NODE_ENV === 'development'\n\t\t) {\n\t\t\tconsole.log('data', JSON.stringify(data, null, 2))\n\t\t}\n\n\t\tconst result = await executeTx(data)\n\n\t\treturn {\n\t\t\tresult,\n\t\t}\n\t})\n\n\tconst results = await Promise.all(all)\n\n\treturn results\n}\n\nexport async function withdrawOtherTokensFromIdentity({\n\taccount,\n\tamountToWithdraw,\n\ttokenAddress,\n\ttokenDecimals,\n\twithdrawTo,\n\tgetFeesOnly,\n}) {\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { wallet, identity } = account\n\tconst { authType } = wallet\n\tconst { provider, Identity, getToken } = await getEthers(authType)\n\tconst decimals = parseInt(tokenDecimals, 10)\n\n\tconst identityAddr = identity.address\n\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\n\n\tconst withdrawTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: mainToken.address,\n\t\tto: tokenAddress,\n\t\tdata: ERC20.encodeFunctionData('transfer', [withdrawTo, toWithdraw]),\n\t}\n\tconst txns = [withdrawTx]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t\texecuteAction: EXECUTE_ACTIONS.withdraw,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\ttotalBN: fees.totalBN,\n\t\t\ttoWithdraw,\n\t\t\ttoGet: formatTokenAmount(toWithdraw, decimals, null, 2),\n\t\t\tbreakdownFormatted: fees.breakdownFormatted,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n","import crypto from 'crypto'\nimport { Channel, splitSig, RoutineOps } from 'adex-protocol-eth/js'\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetIdentityTxnsWithNoncesAndFees,\n\tgetIdentityTxnsTotalFees,\n\tprocessExecuteByFeeTokens,\n\tgetApproveTxns,\n} from 'services/smart-contracts/actions/identity'\nimport { contracts } from '../contractsCfg'\nimport { closeCampaign } from 'services/adex-validator/actions'\nimport { Campaign, AdUnit, helpers } from 'adex-models'\nimport { getCampaigns } from 'services/adex-market/actions'\nimport { BigNumber, utils } from 'ethers'\nimport {\n\t// selectFeeTokenWhitelist,\n\tselectRoutineWithdrawTokens,\n\tselectMainFeeToken,\n\tselectMainToken,\n\tselectSaiToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\nimport { selectChannelsWithUserBalancesEligible } from 'selectors'\nimport { getState } from 'store'\nimport { AUTH_TYPES, EXECUTE_ACTIONS } from 'constants/misc'\nconst { parseUnits, Interface, randomBytes, getAddress } = utils\n\nconst { userInputPricingBoundsPerMileToRulesValue } = helpers\n\nconst { AdExCore } = contracts\nconst Core = new Interface(AdExCore.abi)\nconst IdentityInterface = new Interface(IdentityABI)\n\nconst timeframe = 5 * 60 * 1000 // 1 event per 5 minutes\nconst VALID_UNTIL_COEFFICIENT = 0.5\nconst VALID_UNTIL_MIN_PERIOD = 15 * 24 * 60 * 60 * 1000 // 15 days in ms\nconst OUTSTANDING_STATUSES = {\n\tActive: true,\n\tReady: true,\n\tExhausted: true,\n\tOffline: true,\n\tUnhealthy: true,\n\tWithdraw: true,\n}\n\n// TODO: get it from the market\nconst GLOBAL_MIN_CPM = '0.01' // per 1000 user input\nconst GLOBAL_MAX_CPM = '15.00' // per 1000 user input\n\nconst EXTRA_PROCESS_TIME = 69 * 60 // 69 min in seconds\n\nfunction toEthereumChannel(channel) {\n\tconst specHash = crypto\n\t\t.createHash('sha256')\n\t\t.update(JSON.stringify(channel.spec))\n\t\t.digest()\n\n\treturn new Channel({\n\t\ttitle: channel.title,\n\t\tcreator: channel.creator,\n\t\ttokenAddr: channel.depositAsset,\n\t\ttokenAmount: channel.depositAmount,\n\t\tvalidUntil: channel.validUntil,\n\t\tvalidators: channel.spec.validators.map(v => v.id),\n\t\tspec: specHash,\n\t})\n}\n\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\n\tconst period = withdrawPeriodStart - activeFrom\n\tconst validUntil =\n\t\twithdrawPeriodStart +\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\n\n\treturn Math.floor(validUntil / 1000)\n}\n\nfunction userInputToTokenValue({ input, decimals, divider = 1 }) {\n\treturn parseUnits(input || '0', decimals)\n\t\t.div(BigNumber.from(divider))\n\t\t.toString()\n}\n\nfunction getReadyCampaign(campaign, identity, mainToken) {\n\tconst { decimals } = mainToken\n\tconst newCampaign = new Campaign(campaign)\n\n\tnewCampaign.creator = identity.address\n\tnewCampaign.created = Date.now()\n\tnewCampaign.validUntil = getValidUntil(\n\t\tnewCampaign.activeFrom,\n\t\tnewCampaign.withdrawPeriodStart\n\t)\n\tnewCampaign.nonce = BigNumber.from(randomBytes(32)).toString()\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\n\tnewCampaign.depositAmount = userInputToTokenValue({\n\t\tinput: newCampaign.depositAmount,\n\t\tdecimals,\n\t})\n\n\tconst validators = newCampaign.validators.map(v => {\n\t\tconst deposit = BigNumber.from(newCampaign.depositAmount || 0)\n\t\tconst fee = deposit\n\t\t\t.mul(BigNumber.from(v.feeNum || 1))\n\t\t\t.div(BigNumber.from(v.feeDen || 1))\n\t\t\t.toString()\n\n\t\tconst validator = {\n\t\t\tid: v.id,\n\t\t\turl: v.url,\n\t\t\tfee,\n\t\t}\n\n\t\tif (v.feeAddr) {\n\t\t\tvalidator.feeAddr = v.feeAddr\n\t\t}\n\n\t\treturn validator\n\t})\n\n\tnewCampaign.validators = validators\n\n\t// spec pricing bounds\n\tconst pricingBounds = userInputPricingBoundsPerMileToRulesValue({\n\t\tpricingBounds: {\n\t\t\tIMPRESSION: {\n\t\t\t\tmin: GLOBAL_MIN_CPM,\n\t\t\t\tmax: GLOBAL_MAX_CPM,\n\t\t\t},\n\t\t},\n\t\tdecimals,\n\t})\n\n\t// TODO: CLICK when available\n\tnewCampaign.pricingBounds = pricingBounds\n\n\t// TEMP: legacy compatibility\n\tnewCampaign.minPerImpression = pricingBounds.IMPRESSION.min\n\tnewCampaign.maxPerImpression = pricingBounds.IMPRESSION.max\n\n\tnewCampaign.depositAsset = mainToken.address\n\tnewCampaign.eventSubmission = {\n\t\tallow: [\n\t\t\t{\n\t\t\t\tuids: [\n\t\t\t\t\tnewCampaign.creator,\n\t\t\t\t\tnewCampaign.validators[0].id,\n\t\t\t\t\tnewCampaign.validators[1].id,\n\t\t\t\t],\n\t\t\t},\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\n\t\t],\n\t}\n\n\tnewCampaign.status = {\n\t\tname: 'Pending',\n\t\thumanFriendlyName: 'Pending',\n\t\tlastChecked: Date.now(),\n\t}\n\n\treturn newCampaign\n}\n\nconst getWithdrawnPerUserOutstanding = async ({\n\tchannel,\n\tbalance,\n\tidentityAddr,\n}) => {\n\tconst { AdExCore } = await getEthers(AUTH_TYPES.READONLY)\n\tconst withdrawnPerUser = await AdExCore.functions.withdrawnPerUser(\n\t\tchannel.id,\n\t\tidentityAddr\n\t)\n\n\tconst outstanding = BigNumber.from(balance.toString()).sub(\n\t\tBigNumber.from(withdrawnPerUser[0])\n\t)\n\n\treturn outstanding\n}\n\nexport async function getChannelsWithOutstanding({ identityAddr }) {\n\tconst channels = await getCampaigns({ all: true, byEarner: identityAddr })\n\n\t// const feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\n\n\tconst allChannels = await Promise.all(\n\t\tchannels\n\t\t\t.filter(\n\t\t\t\tchannel =>\n\t\t\t\t\tchannel &&\n\t\t\t\t\tchannel.status &&\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\n\t\t\t)\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedBalances } = channel.status\n\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\n\t\t\t\t\t(balances, e) => {\n\t\t\t\t\t\tconst [address, balance] = e\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (getAddress(address)) {\n\t\t\t\t\t\t\t\tbalances[address] = balance\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch {}\n\t\t\t\t\t\treturn balances\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t)\n\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\n\n\t\t\t\treturn channel\n\t\t\t})\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\n\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\n\t\t\t\treturn {\n\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\tlastApprovedBalances,\n\t\t\t\t\tbTree,\n\t\t\t\t\tchannel,\n\t\t\t\t}\n\t\t\t})\n\t\t\t.filter(({ bTree }) => {\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\n\t\t\t})\n\t\t\t.map(\n\t\t\t\tasync ({ channel, lastApprovedSigs, lastApprovedBalances, bTree }) => {\n\t\t\t\t\t//  mTree,\n\t\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\n\n\t\t\t\t\tconst outstanding = await getWithdrawnPerUserOutstanding({\n\t\t\t\t\t\tchannel,\n\t\t\t\t\t\tbalance,\n\t\t\t\t\t\tidentityAddr,\n\t\t\t\t\t})\n\n\t\t\t\t\t// const outstandingAvailable = outstanding.sub(\n\t\t\t\t\t// \tBigNumber.from(feeTokenWhitelist[channel.depositAsset].min)\n\t\t\t\t\t// )\n\n\t\t\t\t\t// NOTE: We will show everything - will add this to withdraw fees\n\t\t\t\t\tconst outstandingAvailable = outstanding\n\n\t\t\t\t\tconst balanceNum = BigNumber.from(channel.depositAmount)\n\t\t\t\t\t\t.sub(BigNumber.from(channel.spec.validators[0].fee || 0))\n\t\t\t\t\t\t.sub(BigNumber.from(channel.spec.validators[1].fee || 0))\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tchannel,\n\t\t\t\t\t\tbalance,\n\t\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\t\toutstanding,\n\t\t\t\t\t\toutstandingAvailable,\n\t\t\t\t\t\tlastApprovedBalances,\n\t\t\t\t\t\tbalanceNum,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t)\n\n\tconst all = Object.assign(\n\t\t{},\n\t\t...allChannels.map(c => {\n\t\t\tconst { channel, balance } = c\n\t\t\tconst { id, depositAmount, depositAsset, status, spec } = channel\n\t\t\tconst balanceNum = BigNumber.from(depositAmount)\n\t\t\t\t.sub(BigNumber.from(c.channel.spec.validators[0].fee))\n\t\t\t\t.sub(BigNumber.from(c.channel.spec.validators[1].fee))\n\t\t\t\t.toString()\n\n\t\t\treturn {\n\t\t\t\t[c.channel.id.toLowerCase()]: {\n\t\t\t\t\tid,\n\t\t\t\t\tbalance,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tdepositAsset,\n\t\t\t\t\tbalanceNum,\n\t\t\t\t\tstatus: status.name,\n\t\t\t\t\tadUnits: spec.adUnits, //TODO: add only what needed\n\t\t\t\t},\n\t\t\t}\n\t\t})\n\t)\n\n\tconst withOutstandingBalanceAll = allChannels.filter(x => {\n\t\treturn (\n\t\t\tOUTSTANDING_STATUSES[x.channel.status.name] &&\n\t\t\tnew Date((x.channel.validUntil - EXTRA_PROCESS_TIME) * 1000) >\n\t\t\t\tDate.now() &&\n\t\t\tx.outstandingAvailable.gt(BigNumber.from('0'))\n\t\t)\n\t})\n\n\tconst withOutstandingBalance = [...withOutstandingBalanceAll].filter(x =>\n\t\t// Used for withdraw and all functions requiring sweeps\n\t\tx.outstanding.gt(\n\t\t\tBigNumber.from(routineWithdrawTokens[x.channel.depositAsset].minPlatform)\n\t\t)\n\t)\n\n\treturn { all, withOutstandingBalanceAll, withOutstandingBalance }\n}\n\nasync function getChannelsToSweepFrom({ amountToSweep, withBalance = [] }) {\n\tconst { eligible } = withBalance\n\t\t.sort((c1, c2) => {\n\t\t\treturn BigNumber.from(c2.outstandingAvailable).gt(\n\t\t\t\tBigNumber.from(c1.outstandingAvailable)\n\t\t\t)\n\t\t})\n\t\t.reduce(\n\t\t\t(data, c) => {\n\t\t\t\tconst current = { ...data }\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\n\t\t\t\t\tcurrent.eligible.push(c)\n\t\t\t\t\tcurrent.sum = current.sum.add(BigNumber.from(c.outstandingAvailable))\n\t\t\t\t}\n\n\t\t\t\treturn current\n\t\t\t},\n\t\t\t{ sum: BigNumber.from(0), eligible: [] }\n\t\t)\n\n\treturn eligible\n}\n\nconst getChannelWithdrawData = ({\n\tidentityAddr,\n\tbalance,\n\tlastApprovedBalances,\n\tlastApprovedSigs,\n\tethChannelTuple,\n}) => {\n\tconst bTree = new BalanceTree(lastApprovedBalances)\n\tconst proof = bTree.getProof(identityAddr)\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\n\tconst root = bTree.mTree.getRoot()\n\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\n}\n\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\n\t\t(data, tx) => {\n\t\t\tconst updated = { ...data }\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || BigNumber.from(0)\n\t\t\t).add(BigNumber.from(tx.withdrawAmountByToken[tx.feeTokenAddr]))\n\n\t\t\treturn updated\n\t\t},\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\n\t)\n\n\tconst data = IdentityInterface.encodeFunctionData('executeRoutines', [\n\t\troutineAuthTuple,\n\t\troutineOpts,\n\t])\n\n\tconst routinesTx = {\n\t\tidentityContract: identityAddr,\n\t\tto: identityAddr,\n\t\tdata,\n\t\twithdrawAmountByToken,\n\t\troutinesSweepTxCount: routineOpts.length,\n\t}\n\n\treturn routinesTx\n}\n\nfunction getIdentityRoutineAuthTuple(identity) {\n\treturn identity &&\n\t\tidentity.relayerData &&\n\t\tidentity.relayerData.deployData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t: null\n}\n\nfunction is41identity(routineAuthTuple) {\n\tconst is41 = routineAuthTuple && routineAuthTuple.length === 5\n\n\treturn is41\n}\n\nfunction hasValidExecuteRoutines(routineAuthTuple) {\n\tconst hasValidRoutines =\n\t\tis41identity(routineAuthTuple) &&\n\t\tparseInt((routineAuthTuple[2], 16) - EXTRA_PROCESS_TIME) * 1000 > Date.now()\n\n\treturn hasValidRoutines\n}\n\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\n\tconst { identity } = account\n\t// TODO: pass withBalance as prop\n\tconst withBalance = selectChannelsWithUserBalancesEligible(getState())\n\n\tconst { AdExCore } = await getEthers(AUTH_TYPES.READONLY)\n\tconst identityAddr = identity.address\n\tconst channelsToSweep = await getChannelsToSweepFrom({\n\t\tamountToSweep,\n\t\tidentityAddr,\n\t\twithBalance,\n\t})\n\n\tconst txns = channelsToSweep.map((c, i) => {\n\t\tconst {\n\t\t\tlastApprovedBalances,\n\t\t\tchannel,\n\t\t\tlastApprovedSigs,\n\t\t\toutstanding,\n\t\t\t// outstandingAvailable,\n\t\t\tbalance,\n\t\t} = c\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\n\n\t\tconst data = getChannelWithdrawData({\n\t\t\tidentityAddr,\n\t\t\tbalance,\n\t\t\tlastApprovedBalances,\n\t\t\tlastApprovedSigs,\n\t\t\tethChannelTuple,\n\t\t})\n\n\t\treturn {\n\t\t\tidentityContract: identityAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tfeeTokenAddr: channel.depositAsset,\n\t\t\tdata,\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\n\t\t}\n\t})\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\n\tlet encodedTxns = null\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\n\t\tencodedTxns = [\n\t\t\tgetSweepExecuteRoutineTx({\n\t\t\t\ttxns,\n\t\t\t\tidentityAddr,\n\t\t\t\troutineAuthTuple,\n\t\t\t}),\n\t\t]\n\t} else {\n\t\tencodedTxns = txns.map(tx => {\n\t\t\ttx.data = Core.encodeFunctionData('channelWithdraw', tx.data)\n\t\t\ttx.isSweepTx = true\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\treturn encodedTxns\n}\n\nfunction getSwapAmountsByToken({ balances }) {\n\tconst mainToken = selectMainToken()\n\tconst saiToken = selectSaiToken()\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\n\t\t(swaps, balance) => {\n\t\t\t// TODO: currently work only for SAI to DAI swap\n\t\t\tif (\n\t\t\t\tsaiToken &&\n\t\t\t\tsaiToken.address &&\n\t\t\t\tbalance.token.address !== mainToken.address &&\n\t\t\t\t// TEMP: remove that check when all tokens swaps are available\n\t\t\t\tbalance.token.address === saiToken.address\n\t\t\t) {\n\t\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\n\t\t\t\t\tbalance.balanceMainToken\n\t\t\t\t)\n\t\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\n\t\t\t}\n\t\t\treturn swaps\n\t\t},\n\t\t{\n\t\t\tswapsSumInMainToken: BigNumber.from(0),\n\t\t\tswapsByToken: {},\n\t\t}\n\t)\n\n\treturn { swapsByToken, swapsSumInMainToken }\n}\n\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\n// amountNeeded must be in MainToken\nexport async function getSweepingTxnsIfNeeded({\n\tamountInMainTokenNeeded,\n\taccount,\n}) {\n\tconst needed = BigNumber.from(amountInMainTokenNeeded)\n\tconst {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t} = account.stats.raw.identityWithdrawTokensBalancesBalances\n\n\tlet currentBalanceInUse = BigNumber.from(mainTokenBalance)\n\n\tconst sweepData = {\n\t\tsweepTxns: [],\n\t\tswapAmountsByToken: {},\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\t// Swaps\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\n\t\t\tbalances,\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\n\t\t})\n\n\t\tsweepData.swapAmountsByToken = swapsByToken\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\n\t\t\taccount,\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\n\t\t})\n\t}\n\n\treturn sweepData\n}\n\nexport function getChannelId({ campaign, account }) {\n\tconst { identity } = account\n\tconst mainToken = selectMainFeeToken()\n\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\n\tconst openReady = readyCampaign.openReady\n\tconst ethChannel = toEthereumChannel(openReady)\n\tconst id = ethChannel.hashHex(AdExCore.address)\n\n\treturn id\n}\n\nexport async function openChannel({\n\tcampaign,\n\taccount,\n\tgetFeesOnly,\n\tgetMaxFees,\n}) {\n\tconst { wallet, identity, stats } = account\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\n\tconst mainToken = selectMainFeeToken()\n\tconst depositAmount = getMaxFees\n\t\t? availableIdentityBalanceMainToken\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\n\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\n\tconst openReady = readyCampaign.openReady\n\tconst ethChannel = toEthereumChannel(openReady)\n\tconst channel = {\n\t\t...openReady,\n\t\tid: ethChannel.hashHex(AdExCore.address),\n\t}\n\tconst identityAddr = openReady.creator\n\tconst feeTokenAddr = mainToken.address\n\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\tconst hasIdentityChannelOpen = is41identity(routineAuthTuple)\n\n\tconst txns = []\n\n\tif (hasIdentityChannelOpen) {\n\t\tconst identityChannelOpenTx = {\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: identityAddr,\n\t\t\tdata: IdentityInterface.encodeFunctionData('channelOpen', [\n\t\t\t\tAdExCore.address,\n\t\t\t\tethChannel.toSolidityTuple(),\n\t\t\t]),\n\t\t\textraTxFeesCount: 1,\n\t\t}\n\t\ttxns.push(identityChannelOpenTx)\n\t} else {\n\t\tconst approveTxns = await getApproveTxns({\n\t\t\tgetToken,\n\t\t\ttoken: mainToken,\n\t\t\tidentityAddr,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tapproveForAddress: AdExCore.address,\n\t\t\tapproveAmount: depositAmount,\n\t\t})\n\n\t\tconst channelOpenTx = {\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tdata: Core.encodeFunctionData('channelOpen', [\n\t\t\t\tethChannel.toSolidityTuple(),\n\t\t\t]),\n\t\t}\n\t\ttxns.push(...approveTxns, channelOpenTx)\n\t}\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: depositAmount,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t\texecuteAction: EXECUTE_ACTIONS.openCampaign,\n\t})\n\n\tconst { total, totalBN, breakdownFormatted } = await getIdentityTxnsTotalFees(\n\t\t{ txnsByFeeToken }\n\t)\n\tconst bigZero = BigNumber.from(0)\n\tconst mtBalance = BigNumber.from(availableIdentityBalanceMainToken)\n\tconst maxAvailable = mtBalance.sub(totalBN).lt(bigZero)\n\t\t? bigZero\n\t\t: mtBalance.sub(totalBN)\n\tconst maxAvailableFormatted = formatTokenAmount(\n\t\tmaxAvailable.toString(),\n\t\tmainToken.decimals || 18,\n\t\tfalse,\n\t\t2\n\t)\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfeesFormatted: total,\n\t\t\tfees: totalBN,\n\t\t\tmaxAvailable,\n\t\t\tmaxAvailableFormatted,\n\t\t\tbreakdownFormatted,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t\textraData: { channel },\n\t})\n\n\treadyCampaign.id = channel.id\n\tconst storeCampaign = { ...readyCampaign }\n\tstoreCampaign.spec = { ...openReady.spec }\n\treturn {\n\t\tresult,\n\t\tstoreCampaign,\n\t}\n}\n\nexport async function closeChannel({ account, campaign }) {\n\tconst result = await closeCampaign({ account, campaign })\n\treturn result\n}\n","import { BigNumber } from 'ethers'\nimport { selectRoutineWithdrawTokens, selectMainToken } from 'selectors'\nimport { tokenInMainTokenValue } from 'services/smart-contracts/actions/stats'\nimport { formatTokenAmount } from 'helpers/formatters'\n\nimport { getCampaigns } from './actions'\n\nexport async function getUnitsStatsByType() {\n\tconst { decimals } = selectMainToken()\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\n\tconst allChannels = await getCampaigns({ statuses: ['Active'] })\n\n\tconst channels = allChannels.filter(\n\t\tchannel => !!withdrawTokens[channel.depositAsset]\n\t)\n\n\tconst unitsByType = channels.reduce((units, channel) => {\n\t\tconst byType = { ...units }\n\t\tchannel.spec.adUnits.forEach(unit => {\n\t\t\tbyType[unit.type] = byType[unit.type] || []\n\t\t\tbyType[unit.type].push(channel)\n\t\t})\n\n\t\treturn byType\n\t}, {})\n\n\tconst unitsByTypeStats = Object.keys(unitsByType).reduce(\n\t\tasync (prevStats, key) => {\n\t\t\tconst stats = await prevStats\n\t\t\tconst channelsByType = unitsByType[key]\n\n\t\t\tlet totalPerImpression = BigNumber.from('0')\n\t\t\tlet totalVolume = BigNumber.from('0')\n\n\t\t\tfor (let index = 0; index < channelsByType.length; index++) {\n\t\t\t\tconst channel = channelsByType[index]\n\n\t\t\t\tconst minPerImpression = await tokenInMainTokenValue({\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\n\t\t\t\t\tbalance: BigNumber.from(channel.spec.minPerImpression),\n\t\t\t\t})\n\t\t\t\tconst depositAmount = await tokenInMainTokenValue({\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\n\t\t\t\t\tbalance: BigNumber.from(channel.depositAmount),\n\t\t\t\t})\n\n\t\t\t\ttotalPerImpression = totalPerImpression.add(minPerImpression)\n\t\t\t\ttotalVolume = totalVolume.add(depositAmount)\n\t\t\t}\n\n\t\t\tconst avgPerImpression = totalPerImpression.div(\n\t\t\t\tBigNumber.from(channelsByType.length)\n\t\t\t)\n\t\t\tconst avgCPM = avgPerImpression.mul(BigNumber.from('1000'))\n\n\t\t\tconst statsByType = { ...stats }\n\t\t\tstatsByType[key] = {}\n\t\t\tstatsByType[key].raw = {\n\t\t\t\ttotalVolume,\n\t\t\t\tavgPerImpression,\n\t\t\t\tavgCPM,\n\t\t\t}\n\n\t\t\tstatsByType[key].formatted = {\n\t\t\t\ttotalVolume: formatTokenAmount(totalVolume, decimals, false, 2),\n\t\t\t\tavgPerImpression: formatTokenAmount(\n\t\t\t\t\tavgPerImpression,\n\t\t\t\t\tdecimals,\n\t\t\t\t\tfalse,\n\t\t\t\t\t2\n\t\t\t\t),\n\t\t\t\tavgCPM: formatTokenAmount(avgCPM, decimals, false, 4),\n\t\t\t}\n\n\t\t\treturn statsByType\n\t\t},\n\t\tPromise.resolve({})\n\t)\n\n\treturn unitsByTypeStats\n}\n","import * as types from 'constants/actionTypes'\nimport throttle from 'lodash.throttle'\nimport { addToast, removeToast, updateSpinner, isAccountChanged } from 'actions'\nimport { translate } from 'services/translations/translations'\nimport {\n\tgetValidatorAuthToken,\n\tidentityAnalytics,\n\tidentityAdvancedAnalytics,\n\ttimeBasedAnalytics,\n} from 'services/adex-validator/actions'\nimport { updateValidatorAuthTokens } from './accountActions'\nimport {\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\n\tVALIDATOR_ANALYTICS_METRICS,\n} from 'constants/misc'\nimport {\n\tUPDATING_SLOTS_DEMAND,\n\tUPDATING_TARGETING_DATA,\n} from 'constants/spinners'\nimport { getErrorMsg } from 'helpers/errors'\nimport { fillEmptyTime } from 'helpers/analyticsTimeHelpers'\nimport { getUnitsStatsByType } from 'services/adex-market/aggregates'\nimport { getTargetingData } from 'services/adex-market/actions'\nimport {\n\tselectChannelsWithUserBalancesAll,\n\tselectFeeTokenWhitelist,\n\tselectRoutineWithdrawTokens,\n\tselectAnalyticsDataSide,\n\tselectAccount,\n\tselectStatsChartData,\n\tselectAnalyticsLiveTimestamp,\n\tselectPublisherReceiptsPresentMonths,\n\tselectIdentitySideAnalyticsTimeframe,\n\tselectIdentitySideAnalyticsPeriod,\n\tselectMonthsRange,\n} from 'selectors'\nimport { BigNumber } from 'ethers'\nimport moment from 'moment'\nimport { FETCHING_PUBLISHER_RECEIPTS } from 'constants/spinners'\nimport { DEFAULT_WEEK_HOURS_SPAN } from 'helpers/analyticsTimeHelpers'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\nconst analyticsParams = ({ timeframe, side }) => {\n\tconst callsParams = []\n\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric => {\n\t\t\tconst segmentByChannel =\n\t\t\t\tside === 'for-publisher' && metric === 'eventPayouts' ? true : undefined\n\t\t\tconst limit = segmentByChannel ? 100 * 25 : 100\n\t\t\tcallsParams.push({\n\t\t\t\tmetric,\n\t\t\t\ttimeframe,\n\t\t\t\tside,\n\t\t\t\teventType,\n\t\t\t\tweekHoursSpan: DEFAULT_WEEK_HOURS_SPAN,\n\t\t\t\tsegmentByChannel,\n\t\t\t\tlimit,\n\t\t\t})\n\t\t})\n\t)\n\n\treturn callsParams\n}\n\nconst analyticsCampaignsParams = () => {\n\tconst callsParams = []\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tcallsParams.push({ eventType })\n\t)\n\treturn callsParams\n}\n\nfunction aggrByChannelsSegments({ aggr, allChannels, withdrawTokens }) {\n\tif (!Object.keys(allChannels).length) {\n\t\treturn []\n\t}\n\t// NOTE: No need to sort them again because fillEmptyTime\n\t// is sorting by time after adding the empty time values\n\tconst { aggregations, all } = aggr\n\t\t.sort((a, b) => b.time - a.time)\n\t\t.reduce(\n\t\t\t(data, a) => {\n\t\t\t\tconst { time } = a\n\t\t\t\tconst { aggregations, channels, all } = data\n\t\t\t\tconst channelId = a.channelId.toLowerCase()\n\t\t\t\tconst {\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tbalanceNum,\n\t\t\t\t\t//  depositAsset,\n\t\t\t\t\t//  status,\n\t\t\t\t\t// \tbalance\n\t\t\t\t} = allChannels[channelId] || {}\n\n\t\t\t\t// NOTE: check if the channel has lifetime min balance e.g. it is in the total balance\n\t\t\t\t// - need to be synced with relayer way for auto sweep - only when campaign is complete\n\n\t\t\t\t// const { minPlatform, minFinal } = withdrawTokens[depositAsset]\n\t\t\t\t// const isExpired = status === 'Expired'\n\t\t\t\t// const minBalance = isExpired ? minFinal : minPlatform\n\t\t\t\t// const hasMinBalance = BigNumber.from(balance).gt(BigNumber.from(minBalance))\n\n\t\t\t\t// if (hasMinBalance) {\n\t\t\t\tconst current = channels[channelId] || { aggr: [] }\n\n\t\t\t\tconst value = BigNumber.from(a.value || 0)\n\t\t\t\t\t.mul(BigNumber.from(balanceNum || 1))\n\t\t\t\t\t.div(BigNumber.from(depositAmount || 1))\n\n\t\t\t\tcurrent.aggr.push({ value, time })\n\n\t\t\t\tconst currentAggr = aggregations[time] || {\n\t\t\t\t\ttime,\n\t\t\t\t\tvalue: BigNumber.from(0),\n\t\t\t\t}\n\t\t\t\tconst currentChannelValue = BigNumber.from(current.value || 0).add(\n\t\t\t\t\tvalue\n\t\t\t\t)\n\n\t\t\t\tconst currentTimeValue = currentAggr.value\n\n\t\t\t\tcurrent.value = currentChannelValue\n\n\t\t\t\tcurrentAggr.value = value.add(currentTimeValue)\n\n\t\t\t\tchannels[channelId] = current\n\t\t\t\taggregations[time] = currentAggr\n\t\t\t\tall[time] = a.value || all[time]\n\t\t\t\t// }\n\n\t\t\t\treturn { aggregations, channels, all }\n\t\t\t},\n\t\t\t{ aggregations: {}, channels: {}, all: {} }\n\t\t)\n\n\t// NOTE: force to null values when value under limits but not naturally 0\n\tconst aggrWithNullValues = Object.values(aggregations).map(\n\t\t({ time, value }) => {\n\t\t\tconst isNull =\n\t\t\t\tall[time] === undefined ||\n\t\t\t\t(BigNumber.from(value).isZero() && all[time] !== '0')\n\t\t\treturn { time, value: isNull ? null : value }\n\t\t}\n\t)\n\n\treturn aggrWithNullValues\n}\n\nexport const updateAccountAnalyticsThrottled = () => (dispatch, getState) => {\n\treturn updateAccountAnalytics(dispatch, getState)\n}\n\nexport const updateAccountAnalytics = throttle(\n\tasync function(dispatch, getState) {\n\t\tupdateAnalyticsLastChecked()(dispatch)\n\t\tconst state = getState()\n\t\tconst { start, end, callEnd } = selectIdentitySideAnalyticsPeriod(state)\n\n\t\tif (!start || !end || !callEnd) {\n\t\t\tconsole.warn('updateAccountAnalytics - periods no selected')\n\t\t\treturn\n\t\t}\n\n\t\tconst account = selectAccount(state)\n\t\tconst side = selectAnalyticsDataSide(state)\n\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\n\t\tconst allChannels = selectChannelsWithUserBalancesAll(state)\n\t\tconst feeTokens = selectFeeTokenWhitelist(state)\n\t\tconst withdrawTokens = selectRoutineWithdrawTokens(state)\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsParams({ timeframe, side })\n\t\t\tlet accountChanged = false\n\t\t\tconst liveTimestamp = selectAnalyticsLiveTimestamp(state)\n\t\t\tconst timeframeIsLive = liveTimestamp === start\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\tconst { datasets, labels } = selectStatsChartData(state, {\n\t\t\t\t\t...opts,\n\t\t\t\t})\n\n\t\t\t\tif (timeframeIsLive || datasets.length === 0 || labels.length === 0) {\n\t\t\t\t\tidentityAnalytics({\n\t\t\t\t\t\t...opts,\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\tend: callEnd || end,\n\t\t\t\t\t\tleaderAuth,\n\t\t\t\t\t})\n\t\t\t\t\t\t.then(({ aggregates, metric }) => {\n\t\t\t\t\t\t\tconst aggrByChannelSegments =\n\t\t\t\t\t\t\t\tside === 'for-publisher' && metric === 'eventPayouts'\n\n\t\t\t\t\t\t\tlet aggr = aggrByChannelSegments\n\t\t\t\t\t\t\t\t? aggrByChannelsSegments({\n\t\t\t\t\t\t\t\t\t\taggr: aggregates.aggr,\n\t\t\t\t\t\t\t\t\t\tallChannels,\n\t\t\t\t\t\t\t\t\t\tfeeTokens,\n\t\t\t\t\t\t\t\t\t\twithdrawTokens,\n\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t: aggregates.aggr\n\t\t\t\t\t\t\tconst fillAfterLast = aggrByChannelSegments ? null : 0\n\n\t\t\t\t\t\t\taggregates.aggr = fillEmptyTime(\n\t\t\t\t\t\t\t\taggr,\n\t\t\t\t\t\t\t\ttimeframe,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tfillAfterLast,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstart,\n\t\t\t\t\t\t\t\t\tend,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\taccountChanged =\n\t\t\t\t\t\t\t\taccountChanged || isAccountChanged(getState, account)\n\n\t\t\t\t\t\t\tif (!accountChanged) {\n\t\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\n\t\t\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\t\t\ttimestamp: liveTimestamp === start ? 'live' : start,\n\t\t\t\t\t\t\t\t\tvalue: { ...aggregates }, // ADD TIME as well\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\tawait Promise.all(allAnalytics)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t},\n\t1000,\n\t{ leading: false, trailing: true }\n)\n\nexport function updateAccountAdvancedAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account } = getState().persist\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsCampaignsParams()\n\t\t\tlet accountChanged = false\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\ttry {\n\t\t\t\t\tconst value = await identityAdvancedAnalytics({\n\t\t\t\t\t\t...opts,\n\t\t\t\t\t\tleaderAuth,\n\t\t\t\t\t})\n\n\t\t\t\t\taccountChanged = accountChanged || isAccountChanged(getState, account)\n\n\t\t\t\t\treturn { opts, value }\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS_SINGLE', err)\n\t\t\t\t\treturn null\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tconst data = await Promise.all(allAnalytics)\n\n\t\t\tif (!accountChanged) {\n\t\t\t\tdata\n\t\t\t\t\t.filter(x => !!x)\n\t\t\t\t\t.forEach(({ opts, value }) =>\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: types.UPDATE_ADVANCED_ANALYTICS,\n\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_CAMPAIGN_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function getReceiptData(startDate, endDate) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst { account } = state.persist\n\t\ttry {\n\t\t\tawait updateSpinner(FETCHING_PUBLISHER_RECEIPTS, true)(dispatch)\n\t\t\tconst presentMonths = selectPublisherReceiptsPresentMonths(state)\n\t\t\tconst monthsWanted = selectMonthsRange(startDate, endDate)\n\t\t\tconst monthsNeeded = monthsWanted\n\t\t\t\t.filter(val => !presentMonths.includes(val))\n\t\t\t\t.sort()\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tif (monthsNeeded.length > 0) {\n\t\t\t\tconst timeframe = 'month'\n\t\t\t\tconst limit = 500\n\t\t\t\tconst promises = []\n\t\t\t\tconst startDateNeeded = monthsNeeded[0]\n\t\t\t\tconst endDateNeeded = monthsNeeded[monthsNeeded.length - 1]\n\t\t\t\t//limit of request is 500 days\n\t\t\t\tfor (\n\t\t\t\t\tvar m = moment(startDateNeeded);\n\t\t\t\t\tm.diff(endDateNeeded) <= 0;\n\t\t\t\t\tm.add(limit, 'day')\n\t\t\t\t) {\n\t\t\t\t\tpromises.push(\n\t\t\t\t\t\ttimeBasedAnalytics({\n\t\t\t\t\t\t\tleaderAuth,\n\t\t\t\t\t\t\ttimeframe,\n\t\t\t\t\t\t\tlimit,\n\t\t\t\t\t\t\tside: 'for-publisher',\n\t\t\t\t\t\t\teventType: 'IMPRESSION',\n\t\t\t\t\t\t\tmetric: 'eventCounts',\n\t\t\t\t\t\t\tstart: +moment(startDateNeeded),\n\t\t\t\t\t\t\tend: +moment(endDateNeeded).endOf('month'),\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ttimeBasedAnalytics({\n\t\t\t\t\t\t\tleaderAuth,\n\t\t\t\t\t\t\ttimeframe,\n\t\t\t\t\t\t\tlimit,\n\t\t\t\t\t\t\tside: 'for-publisher',\n\t\t\t\t\t\t\teventType: 'IMPRESSION',\n\t\t\t\t\t\t\tmetric: 'eventPayouts',\n\t\t\t\t\t\t\tstart: +moment(startDateNeeded),\n\t\t\t\t\t\t\tend: +moment(endDateNeeded).endOf('month'),\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tconst resolvedPromises = await Promise.all(promises)\n\t\t\t\tlet impressions = []\n\t\t\t\tlet payouts = []\n\t\t\t\tfor (let i = 0; i < resolvedPromises.length; i += 2) {\n\t\t\t\t\timpressions = [...impressions, ...resolvedPromises[i].aggr]\n\t\t\t\t\tpayouts = [...payouts, ...resolvedPromises[i + 1].aggr]\n\t\t\t\t}\n\t\t\t\tconst result = {}\n\t\t\t\t// add wanted dates\n\t\t\t\tconst getMonthTimeStamp = date => +moment(date).startOf('month')\n\t\t\t\tmonthsNeeded.forEach(date => {\n\t\t\t\t\tconst month = getMonthTimeStamp(date)\n\t\t\t\t\tif (!result[month]) {\n\t\t\t\t\t\tresult[month] = {}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\timpressions.forEach((item, i) => {\n\t\t\t\t\tconst month = getMonthTimeStamp(item.time)\n\t\t\t\t\tif (result[month]) {\n\t\t\t\t\t\tresult[month][item.time] = {\n\t\t\t\t\t\t\timpressions: item.value,\n\t\t\t\t\t\t\tpayouts: payouts[i].value,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: types.UPDATE_PUBLISHER_RECEIPTS,\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\t...result,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t\tawait updateSpinner(FETCHING_PUBLISHER_RECEIPTS, false)(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.log(err)\n\t\t}\n\t}\n}\n\nexport function resetAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ANALYTICS,\n\t\t})\n\t}\n}\n\nexport function updateAnalyticsLastChecked() {\n\treturn async function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ANALYTICS_LAST_CHECKED,\n\t\t\tvalue: new Date(),\n\t\t})\n\t}\n}\n\nexport const updateSlotsDemand = throttle(\n\tasync function(dispatch) {\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, true)(dispatch)\n\t\ttry {\n\t\t\tconst demandAnalytics = await getUnitsStatsByType()\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_DEMAND_ANALYTICS,\n\t\t\t\tvalue: demandAnalytics,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_SLOTS_DEMAND_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_SLOTS_DEMAND_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, false)(dispatch)\n\t},\n\t5 * 60 * 1000,\n\t{ leading: true, trailing: false }\n)\n\nexport const updateTargetingData = throttle(\n\tasync function(dispatch) {\n\t\tawait updateSpinner(UPDATING_TARGETING_DATA, true)(dispatch)\n\t\ttry {\n\t\t\tconst {\n\t\t\t\ttargetingData,\n\t\t\t\tminByCategory,\n\t\t\t\tcountryTiersCoefficients,\n\t\t\t} = await getTargetingData()\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_TARGETING_ANALYTICS,\n\t\t\t\tvalue: { targetingData, minByCategory, countryTiersCoefficients },\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_TARGETING_DATA_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_TARGETING_DATA_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tawait updateSpinner(UPDATING_TARGETING_DATA, false)(dispatch)\n\t},\n\t5 * 60 * 1000,\n\t{ leading: true, trailing: false }\n)\n\nexport const updateSlotsDemandThrottled = () => dispatch => {\n\treturn updateSlotsDemand(dispatch)\n}\n\nexport const updateTargetingDataThrottled = () => dispatch => {\n\treturn updateTargetingData(dispatch)\n}\n","import * as types from 'constants/actionTypes'\nimport { addSig, getSig } from 'services/auth/auth'\nimport { getSession, checkSession } from 'services/adex-market/actions'\nimport {\n\tgetRelayerConfigData,\n\tgetQuickWallet,\n\tbackupWallet,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { updateSpinner, updateGlobalUi } from 'actions'\nimport { translate } from 'services/translations/translations'\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\nimport {\n\tremoveLegacyKey,\n\tgetWalletHash,\n\tgenerateSalt,\n\tgetRecoveryWalletData,\n} from 'services/wallet/wallet'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport {\n\tgetAccountStats,\n\tgetOutstandingBalance,\n} from 'services/smart-contracts/actions/stats'\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\nimport {\n\taddToast,\n\tconfirmAction,\n\tupdateMemoryUi,\n\tupdateInitialDataLoaded,\n} from './uiActions'\nimport { getAllItems } from './itemActions'\nimport {\n\tupdateSlotsDemandThrottled,\n\tupdateTargetingDataThrottled,\n} from './analyticsActions'\nimport {\n\tgetEthereumProviderName,\n\tethereumNetworkId,\n\tgetMetamaskSelectedAddress,\n} from 'services/smart-contracts/ethers'\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\nimport {\n\tselectAccount,\n\tselectIdentity,\n\tselectAuth,\n\tselectWallet,\n\tselectSearchParams,\n\tselectAuthType,\n\tselectAccountIdentity,\n\tselectLoginDirectSide,\n\tselectUserLastSide,\n} from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { getErrorMsg } from 'helpers/errors'\nimport { push } from 'connected-react-router'\nimport {\n\tCREATING_SESSION,\n\tQUICK_WALLET_BACKUP,\n\tUPDATING_ACCOUNT_IDENTITY,\n\tSYNC_WEB3_DATA,\n} from 'constants/spinners'\nimport { campaignsLoop } from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport {\n\tanalyticsLoop,\n\tadvancedAnalyticsLoop,\n} from 'services/store-data/analytics'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\n// MEMORY STORAGE\nexport function updateSignin(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SIGNIN,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetSignin() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_SIGNIN,\n\t\t})\n\t}\n}\n\n// PERSISTENT STORAGE\nexport function createAccount(acc) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CREATE_ACCOUNT,\n\t\t\taccount: acc,\n\t\t})\n\t}\n}\n\n// LOGOUT\nexport function resetAccount() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ACCOUNT,\n\t\t})\n\t}\n}\n\nexport function updateAccount({ meta, newValues }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ACCOUNT,\n\t\t\tmeta,\n\t\t\tnewValues,\n\t\t})\n\t}\n}\n\nexport function updateChannelsWithBalanceAll(channels) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_BALANCE_ALL,\n\t\t\tchannels,\n\t\t})\n\t}\n}\n\nexport function resetChannelsWithBalanceAll() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_CHANNELS_WITH_BALANCE_ALL,\n\t\t})\n\t}\n}\n\nexport function updateChannelsWithOutstandingBalance(channels) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\n\t\t\tchannels,\n\t\t})\n\t}\n}\n\nexport function resetChannelsWithOutstandingBalance() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\n\t\t})\n\t}\n}\n\n// getIdentityStatistics tooks to long some times\n// if the account is change we do not update the account\n// TODO: we can use something for abortable tasks\nexport function isAccountChanged(getState, account) {\n\tconst hasAuth = selectAuth(getState())\n\tconst accountCheck = selectAccount(getState())\n\tconst accountChanged =\n\t\t!hasAuth ||\n\t\t!accountCheck.wallet.address ||\n\t\taccountCheck.wallet.address !== account.wallet.address ||\n\t\t!accountCheck.identity.address ||\n\t\t!accountCheck.identity.address !== !account.identity.address\n\n\treturn accountChanged\n}\n\nexport function updateAccountStats() {\n\treturn async function(dispatch, getState) {\n\t\tconst account = selectAccount(getState())\n\t\ttry {\n\t\t\tconst { identity } = account\n\t\t\tconst { address } = identity\n\t\t\tconst {\n\t\t\t\tall,\n\t\t\t\twithOutstandingBalance,\n\t\t\t\twithOutstandingBalanceAll,\n\t\t\t} = await getChannelsWithOutstanding({\n\t\t\t\tidentityAddr: address,\n\t\t\t})\n\n\t\t\tif (!isAccountChanged(getState, account)) {\n\t\t\t\tupdateChannelsWithBalanceAll(all)(dispatch)\n\t\t\t\tupdateInitialDataLoaded('allChannels', true)(dispatch, getState)\n\t\t\t}\n\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\n\t\t\t\twithBalance: withOutstandingBalance,\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\n\t\t\t})\n\n\t\t\tconst outstandingBalanceAllMainToken = await getOutstandingBalance({\n\t\t\t\twithBalance: withOutstandingBalanceAll,\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES_ALL', err)\n\t\t\t})\n\n\t\t\tconst { formatted, raw } = await getAccountStats({\n\t\t\t\taccount,\n\t\t\t\toutstandingBalanceMainToken,\n\t\t\t\toutstandingBalanceAllMainToken,\n\t\t\t\tall,\n\t\t\t})\n\n\t\t\tif (!isAccountChanged(getState, account)) {\n\t\t\t\tawait updateChannelsWithOutstandingBalance(withOutstandingBalance)(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tawait updateAccount({\n\t\t\t\t\tnewValues: { stats: { formatted, raw } },\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_STATS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAccountIdentityData(onDataUpdated) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\n\t\tconst identity = selectAccountIdentity(getState())\n\n\t\ttry {\n\t\t\tconst relayerData =\n\t\t\t\t(await getIdentityData({\n\t\t\t\t\tidentityAddr: identity.address,\n\t\t\t\t})) || {}\n\n\t\t\tconst updatedIdentity = { ...identity }\n\n\t\t\tupdatedIdentity.currentPrivileges = relayerData.currentPrivileges\n\t\t\tupdatedIdentity.isLimitedVolume = relayerData.isLimitedVolume\n\t\t\tupdatedIdentity.relayerData = relayerData\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { identity: updatedIdentity },\n\t\t\t})(dispatch)\n\t\t\tif (typeof onDataUpdated === 'function') {\n\t\t\t\tonDataUpdated()\n\t\t\t}\n\t\t} catch (err) {\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_ACCOUNT_IDENTITY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\n\t}\n}\n\nexport function updateValidatorAuthTokens({ newAuth }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { identity } = getState().persist.account\n\n\t\tconst newIdentity = { ...identity }\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\n\n\t\t// We don't want to update account if there is no actual change\n\t\tif (\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\n\t\t\tJSON.stringify(newTokens)\n\t\t) {\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\n\t\t}\n\t}\n}\n\nexport function createSession({\n\twallet,\n\tidentity = {},\n\temail,\n\tdeleteLegacyKey,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\n\t\ttry {\n\t\t\tconst newWallet = { ...wallet }\n\t\t\tconst sessionSignature =\n\t\t\t\tgetSig({\n\t\t\t\t\taddr: newWallet.address,\n\t\t\t\t\tmode: newWallet.authType,\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t}) || null\n\n\t\t\tconst hasSession =\n\t\t\t\t!!sessionSignature &&\n\t\t\t\t(await checkSession({\n\t\t\t\t\tauthSig: sessionSignature,\n\t\t\t\t\tskipErrToast: true,\n\t\t\t\t}))\n\n\t\t\tif (hasSession) {\n\t\t\t\tnewWallet.authSig = sessionSignature\n\t\t\t} else {\n\t\t\t\tconst {\n\t\t\t\t\tsignature,\n\t\t\t\t\tmode,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\n\n\t\t\t\tconst { status, expiryTime } = await getSession({\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\tmode: mode,\n\t\t\t\t\tsignature,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t\tsignerAddress: newWallet.address,\n\t\t\t\t})\n\n\t\t\t\tif (status === 'OK') {\n\t\t\t\t\taddSig({\n\t\t\t\t\t\taddr: wallet.address,\n\t\t\t\t\t\tsig: signature,\n\t\t\t\t\t\tmode: wallet.authType,\n\t\t\t\t\t\texpiryTime: expiryTime,\n\t\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\t})\n\t\t\t\t\tnewWallet.authSig = signature\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst account = {\n\t\t\t\temail: email,\n\t\t\t\twallet: newWallet,\n\t\t\t\tidentity: { ...identity },\n\t\t\t}\n\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taccount.identity.validatorAuthTokens = {\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\n\t\t\t}\n\n\t\t\tawait updateAccount({\n\t\t\t\tnewValues: { ...account },\n\t\t\t})(dispatch)\n\n\t\t\tif (deleteLegacyKey) {\n\t\t\t\tawait removeLegacyKey({\n\t\t\t\t\temail: wallet.email,\n\t\t\t\t\tpassword: wallet.password,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst redirectSide = selectLoginDirectSide(getState())\n\t\t\tawait updateMemoryUi('initialDataLoaded', false)(dispatch, getState)\n\n\t\t\t// getState() - after account is updated\n\t\t\tconst persistUserSide = selectUserLastSide(getState())\n\n\t\t\tconst { userSide } = (identity.relayerData || {}).meta || {}\n\n\t\t\tconst side = persistUserSide || userSide || redirectSide\n\n\t\t\tconst goTo = ['advertiser', 'publisher'].includes(side)\n\t\t\t\t? side\n\t\t\t\t: 'advertiser'\n\n\t\t\tdispatch(push(`/dashboard/${goTo}`))\n\t\t\tupdateGlobalUi('goToSide', '')(dispatch)\n\n\t\t\t// dispatch(push('/side-select'))\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\n\t}\n}\n\nexport function getRelayerConfig() {\n\treturn async function(dispatch) {\n\t\tconst cfg = await getRelayerConfigData()\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\n\t\t\tcfg,\n\t\t})\n\t}\n}\n\nasync function isMetamaskMatters(getState) {\n\tconst state = getState()\n\tconst searchParams = selectSearchParams(state)\n\tconst authType = selectAuthType(state)\n\n\tconst doesItMatter =\n\t\tauthType === AUTH_TYPES.METAMASK.name ||\n\t\t(!authType &&\n\t\t\tsearchParams.get('external') === 'metamask' &&\n\t\t\t(await getEthereumProviderName()) === AUTH_TYPES.METAMASK.name)\n\n\treturn doesItMatter\n}\n\nexport function onMetamaskNetworkChange({ id } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tif (\n\t\t\t(await isMetamaskMatters(getState)) &&\n\t\t\tprocess.env.NODE_ENV !== (ETHEREUM_NETWORKS[id] || {}).for\n\t\t) {\n\t\t\tconfirmAction(\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\ttitle: translate('WARNING'),\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\ttrue\n\t\t\t)(dispatch)\n\t\t} else {\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\n\t\t}\n\t}\n}\n\nexport const onMetamaskAccountChange = (accountAddress = '') => {\n\treturn async function(_, getState) {\n\t\tconst state = getState()\n\t\tconst hasAuth = selectAuth(state)\n\t\tconst account = selectAccount(state)\n\t\tconst { authType, address = '' } = account.wallet\n\n\t\tif (\n\t\t\thasAuth &&\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\n\t\t\t(!accountAddress ||\n\t\t\t\taddress.toLowerCase() !== accountAddress.toLowerCase())\n\t\t) {\n\t\t\tlogOut()\n\t\t} else if (!hasAuth) {\n\t\t\tconst identity = selectIdentity(state)\n\t\t\tconst { identityContractOwner } = identity\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\n\t\t}\n\t}\n}\n\nexport function metamaskAccountCheck() {\n\treturn async function(_, getState) {\n\t\tconst isMatters = await isMetamaskMatters(getState)\n\t\tif (isMatters) {\n\t\t\tconst selectedAddress = await getMetamaskSelectedAddress()\n\t\t\tonMetamaskAccountChange(selectedAddress)(_, getState)\n\t\t}\n\t}\n}\n\nexport function metamaskNetworkCheck() {\n\treturn async function(_, getState) {\n\t\tconst id = await ethereumNetworkId()\n\t\tonMetamaskNetworkChange({ id })(_, getState)\n\t}\n}\n\nexport function metamaskChecks() {\n\treturn async function(_, getState) {\n\t\tmetamaskNetworkCheck()(_, getState)\n\t\tmetamaskAccountCheck()(_, getState)\n\t\tif (window.ethereum) {\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\n\t\t\t\tconsole.log('acc changed', accounts[0])\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\n\t\t\t})\n\t\t\twindow.ethereum.on('chainChanged', chainId => {\n\t\t\t\tconsole.log('chainChanged', chainId)\n\t\t\t\twindow.location.reload()\n\t\t\t})\n\t\t}\n\t}\n}\n\nasync function hasBackup({ email, password }) {\n\tconst salt = generateSalt(email)\n\tconst hash = await getWalletHash({ salt, password })\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\n\n\treturn !!encryptedWallet && encryptedWallet.wallet\n}\n\nasync function makeBackup({ email, password, authType }) {\n\tconst walletSalt = generateSalt(email)\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\n\tconst encryptedWallet = await getRecoveryWalletData({\n\t\temail,\n\t\tpassword,\n\t\tauthType,\n\t})\n\n\tawait backupWallet({\n\t\temail,\n\t\tsalt: walletSalt,\n\t\thash: walletHash,\n\t\tencryptedWallet,\n\t})\n}\n\nexport function ensureQuickWalletBackup() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\n\t\ttry {\n\t\t\tconst { email, password, authType } = selectWallet(getState())\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\n\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\n\t\t\t\tawait makeBackup({ email, password, authType })\n\t\t\t}\n\t\t} catch (err) {}\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\n\t}\n}\n\nexport function loadAccountData() {\n\treturn async function(dispatch, getState) {\n\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\n\t\tconst account = selectAccount(getState())\n\t\t!isAccountChanged(getState, account) &&\n\t\t\t(await updateAccountIdentityData(() =>\n\t\t\t\tupdateInitialDataLoaded('accountIdentityData', true)(dispatch, getState)\n\t\t\t)(dispatch, getState))\n\n\t\tconst items = await getAllItems(() =>\n\t\t\tupdateInitialDataLoaded('allItems', true)(dispatch, getState)\n\t\t)(dispatch, getState)\n\n\t\tconst advancedAnalytics = advancedAnalyticsLoop.start(() =>\n\t\t\tupdateInitialDataLoaded('advancedAnalytics', true)(dispatch, getState)\n\t\t)\n\t\tconst campaigns = campaignsLoop.start(() =>\n\t\t\tupdateInitialDataLoaded('campaigns', true)(dispatch, getState)\n\t\t)\n\t\tconst demand = updateSlotsDemandThrottled()(dispatch, getState)\n\t\tconst targetingData = updateTargetingDataThrottled()(dispatch, getState)\n\n\t\tawait Promise.all[\n\t\t\t(items, advancedAnalytics, campaigns, demand, targetingData)\n\t\t]\n\n\t\tawait statsLoop.start(() =>\n\t\t\tupdateInitialDataLoaded('stats', true)(dispatch, getState)\n\t\t)\n\n\t\tupdateMemoryUi('initialDataLoaded', true)(dispatch, getState)\n\t}\n}\n\nexport function stopAccountDataUpdate() {\n\treturn async function(dispatch, getState) {\n\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\n\t\tanalyticsLoop.stop()\n\t\tadvancedAnalyticsLoop.stop()\n\t\tcampaignsLoop.stop()\n\t\tstatsLoop.stop()\n\t}\n}\n\n// NOTE: Need to be executed before each provider write action\nexport function beforeWeb3(validateId = '') {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(SYNC_WEB3_DATA + validateId, true)(dispatch)\n\t\tawait getRelayerConfig()(dispatch, getState)\n\t\tawait updateAccountIdentityData()(dispatch, getState)\n\t\t// NOTE: the stats are updated on 60 seconds and there is no need to update them\n\t\t// as it took too long time\n\t\t// await updateAccountStats()(dispatch, getState)\n\n\t\tawait new Promise(resolve => setTimeout(resolve, 300))\n\t\tawait updateSpinner(SYNC_WEB3_DATA + validateId, false)(dispatch)\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { getQuickWallet } from 'services/adex-relayer/actions'\nimport { updateSpinner, addToast, handleAfterValidation } from 'actions'\nimport {\n\tgetOwnerIdentities,\n\tregAccount,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { createSession } from './accountActions'\nimport { getIdentityDeployData } from 'services/smart-contracts/actions/identity'\nimport {\n\taddDataToWallet,\n\tgetWalletHash,\n\tgetLocalWallet,\n\tmigrateLegacyWallet,\n\twalletInfo,\n\tcreateLocalWallet,\n\tgenerateSalt,\n} from 'services/wallet/wallet'\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\nimport {\n\tselectLoginSelectedIdentity,\n\tselectIdentity,\n\tselectAuthType,\n\tt,\n} from 'selectors'\nimport { AUTH_TYPES } from 'constants/misc'\nimport {\n\tvalidate,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tvalidateTOS,\n\tvalidateWallet,\n\tvalidateIdentityContractOwner,\n\tvalidateAccessWarning,\n\tvalidateKnowFrom,\n\tvalidateUserSide,\n\tvalidateMoreInfo,\n} from './validationActions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tGETTING_OWNER_IDENTITIES,\n\tUPLOADING_ACCOUNT_DATA,\n\tCHECKING_METAMASK_AUTH,\n\tAUTH_WAITING_TREZOR_ACTION,\n\tAUTH_WAITING_ADDRESS_DATA,\n} from 'constants/spinners'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\n\n// MEMORY STORAGE\nexport function updateIdentity(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetIdentity() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\t}\n}\n\nexport function initIdentity({ email, authType }) {\n\treturn function(dispatch) {\n\t\tdispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\n\t\tdispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'email',\n\t\t\tvalue: email,\n\t\t})\n\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'authType',\n\t\t\tvalue: authType,\n\t\t})\n\t}\n}\n\n// MEMORY STORAGE\nexport function updateWallet(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WALLET,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetWallet() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WALLET,\n\t\t})\n\t}\n}\n\nexport function onUploadLocalWallet(event) {\n\treturn async function(dispatch) {\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\tconst file = event.target.files[0]\n\t\tconst reader = new FileReader()\n\n\t\treader.onload = ev => {\n\t\t\ttry {\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\n\t\t\t\tif (\n\t\t\t\t\t!obj ||\n\t\t\t\t\t!obj.key ||\n\t\t\t\t\t!obj.wallet ||\n\t\t\t\t\t!obj.wallet.data ||\n\t\t\t\t\t!obj.wallet.identity ||\n\t\t\t\t\t!obj.wallet.privileges\n\t\t\t\t) {\n\t\t\t\t\tthrow new Error(t('INVALID_JSON_DATA'))\n\t\t\t\t} else {\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\n\t\t\t\t\taddToast({\n\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\tlabel: t('SUCCESS_UPLOADING_ACCOUNT_DATA'),\n\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t})(dispatch)\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\t\targs: [err.message],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\t}\n\n\t\tconst onError = err => {\n\t\t\tconsole.error('Error uploading account data.', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\n\t\t}\n\n\t\treader.onerror = err => {\n\t\t\treader.abort()\n\t\t\tonError(err)\n\t\t}\n\n\t\treader.onabort = ev => {\n\t\t\tonError(t('ABORTING_DATA_UPLOAD'))\n\t\t}\n\n\t\treader.readAsText(file)\n\t}\n}\n\nexport function updateOwnerIdentities({ owner }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\n\t\ttry {\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\n\t\t\tconst loginSelectedIdentity = selectLoginSelectedIdentity(getState())\n\t\t\tconst data = Object.entries(identityData)\n\t\t\t\t.filter(\n\t\t\t\t\tx =>\n\t\t\t\t\t\t!!x &&\n\t\t\t\t\t\t!!x[0] &&\n\t\t\t\t\t\t(!!loginSelectedIdentity\n\t\t\t\t\t\t\t? x[0].toLowerCase() === loginSelectedIdentity.toLowerCase()\n\t\t\t\t\t\t\t: true)\n\t\t\t\t)\n\t\t\t\t.map(async ([identityAddr, privLevel]) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst ens = await provider.lookupAddress(identityAddr)\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tidentity: identityAddr,\n\t\t\t\t\t\t\tprivLevel,\n\t\t\t\t\t\t\tens,\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch {\n\t\t\t\t\t\treturn null\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\n\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_OWNER_IDENTITIES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\n\t}\n}\n\nexport function login() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst {\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tknowFrom,\n\t\t\t\tuserSide,\n\t\t\t\tmoreInfo,\n\t\t\t\tidentityData,\n\t\t\t\tidentityTxData,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t\tregisterAccount,\n\t\t\t} = selectIdentity(getState())\n\n\t\t\tif (registerAccount) {\n\t\t\t\tawait regAccount({\n\t\t\t\t\towner: wallet.address,\n\t\t\t\t\temail: email.toLowerCase(),\n\t\t\t\t\tknowFrom,\n\t\t\t\t\tuserSide,\n\t\t\t\t\tmoreInfo,\n\t\t\t\t\t...identityTxData,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst relayerData =\n\t\t\t\t(await getIdentityData({\n\t\t\t\t\tidentityAddr: identityData.address,\n\t\t\t\t})) || {}\n\t\t\tconst identity = {\n\t\t\t\t...identityData,\n\t\t\t\taddress: relayerData.deployData._id,\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\n\t\t\t\trelayerData,\n\t\t\t}\n\t\t\tif (identity.currentPrivileges[wallet.address] > 0) {\n\t\t\t\tawait createSession({\n\t\t\t\t\tidentity,\n\t\t\t\t\twallet,\n\t\t\t\t\temail,\n\t\t\t\t\tdeleteLegacyKey,\n\t\t\t\t})(dispatch, getState)\n\t\t\t} else {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ACCOUNT_NONE_PRIVILEGES'),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_LOGIN', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateQuickLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { password, email, authType } = identity\n\n\t\tlet wallet = {}\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\n\t\tlet actualAuthType = authType\n\n\t\ttry {\n\t\t\tif (email && password) {\n\t\t\t\tlet walletData = await getLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t})\n\n\t\t\t\tif (!walletData) {\n\t\t\t\t\tconst salt = generateSalt(email)\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\n\t\t\t\t\tconst { encryptedWallet } =\n\t\t\t\t\t\t(await getQuickWallet({\n\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t})) || {}\n\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tbackupWallet.wallet &&\n\t\t\t\t\t\tbackupWallet.key &&\n\t\t\t\t\t\tbackupWallet.wallet.data &&\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\n\t\t\t\t\t\tbackupWallet.wallet.privileges\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\n\t\t\t\t\t\tactualAuthType = info.authType\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\n\n\t\t\t\t\t\twalletData = await getLocalWallet({\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t\tpassword,\n\t\t\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\n\t\t\t\t\twallet = { ...walletData.data }\n\t\t\t\t\twallet.email = email\n\t\t\t\t\twallet.password = password\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\n\t\t\t\t\twallet.identity = {\n\t\t\t\t\t\taddress: walletData.identity,\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!authType) {\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\n\t\t\terror = err\n\t\t}\n\n\t\tconst isValid = !!wallet.address\n\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tif (isValid) {\n\t\t\tawait login()(dispatch, getState)\n\t\t}\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateStandardLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst identity = selectIdentity(getState())\n\t\t\tconst { wallet, identityContractAddress } = identity\n\t\t\tconst { address } = wallet\n\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\n\t\t\tconst identityData = {\n\t\t\t\taddress: identityDataSplit[0],\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\n\t\t\t}\n\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\tconst isValid = !!identityData.address\n\n\t\t\tvalidate(validateId, 'identityContractAddress', {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\n\t\t\t\tdirty: dirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_STANDARD_LOGIN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\n\treturn async function(dispatch, getState) {\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, wallet } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\n\t\t\tif (!identityAddr && wallet && !!email) {\n\t\t\t\tconst walletAddr = wallet.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: txData.identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_FULL_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickDeploy({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, password } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && email && password\n\n\t\t\tif (!identityAddr && email && password) {\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\n\n\t\t\t\tconst walletData = await createLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t})\n\n\t\t\t\twalletData.email = email\n\t\t\t\twalletData.password = password\n\n\t\t\t\tconst walletAddr = walletData.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\n\t\t\t\tconst identityAddr = txData.identityAddr\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'identity',\n\t\t\t\t\tdataValue: identityAddr,\n\t\t\t\t})\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'privileges',\n\t\t\t\t\tdataValue: identityData.privileges,\n\t\t\t\t})\n\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = !!identityAddr\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_QUICK_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\tpassword,\n\t\t\tpasswordCheck,\n\t\t\ttosCheck,\n\t\t\tknowFrom,\n\t\t\tuserSide,\n\t\t\tmoreInfo,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t\tvalidateKnowFrom(validateId, knowFrom, dirty)(dispatch),\n\t\t\tvalidateUserSide(validateId, userSide, dirty)(dispatch),\n\t\t\tvalidateMoreInfo(validateId, knowFrom, moreInfo, dirty)(dispatch),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\t\t}\n\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\twallet,\n\t\t\tidentityContractOwner,\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\ttosCheck,\n\t\t\tknowFrom,\n\t\t\tuserSide,\n\t\t\tmoreInfo,\n\t\t\taccessWarningCheck,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\t// validate wallet again in case of step skip\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\n\t\t\t// validate step fields\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidateKnowFrom(validateId, knowFrom, dirty)(dispatch),\n\t\t\tvalidateUserSide(validateId, userSide, dirty)(dispatch),\n\t\t\tvalidateMoreInfo(validateId, knowFrom, moreInfo, dirty)(dispatch),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateFullDeploy({\n\t\t\t\tvalidateId,\n\t\t\t\tdirty,\n\t\t\t\tskipSpinnerUpdate: true,\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateContractOwner({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityContractOwner, wallet } = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function updateIdentityWallet({\n\taddress,\n\tauthType,\n\thdWalletAddrPath,\n\thdWalletAddrIdx,\n\tpath,\n\tchainId,\n\tsignType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst wallet = {\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tpath,\n\t\t\tchainId,\n\t\t\tsignType,\n\t\t}\n\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\n\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t}\n}\n\nexport function handleSignupLink(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('signup-email')\n\n\t\tif (email) {\n\t\t\tupdateIdentity('email', email)(dispatch)\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\n\t\t}\n\t}\n}\n\nexport function resolveEnsAddress({ address }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(`ens-${address}`, true)(dispatch)\n\n\t\ttry {\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\n\t\t\tconst name = await provider.lookupAddress(address)\n\t\t\treturn dispatch({\n\t\t\t\ttype: types.UPDATE_RESOLVE_ENS_ADDRESS,\n\t\t\t\titem: address,\n\t\t\t\tvalue: name,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_RESOLVING_ENS_ADDRESS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_RESOLVING_ENS_ADDRESS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(`ens-${address}`, false)(dispatch)\n\t}\n}\n\nexport function checkAuthMetamask() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(CHECKING_METAMASK_AUTH, true)(dispatch)\n\n\t\ttry {\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst wallet = {\n\t\t\t\tauthType,\n\t\t\t}\n\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\n\t\t\tconst address = await metamaskSigner.getAddress()\n\t\t\tconst stats = await getAddressBalances({\n\t\t\t\taddress: { address },\n\t\t\t\tgetFullBalances: true,\n\t\t\t})\n\n\t\t\tupdateIdentity('stats', stats)(dispatch, getState)\n\n\t\t\tupdateIdentityWallet({\n\t\t\t\taddress,\n\t\t\t\tauthType,\n\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\n\t\t\t})(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_AUTH_METAMASK', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(CHECKING_METAMASK_AUTH, false)(dispatch)\n\t}\n}\n\nexport function connectTrezor() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(AUTH_WAITING_TREZOR_ACTION, true)(dispatch)\n\t\ttry {\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\n\n\t\t\tconst wallet = {\n\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\t}\n\n\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\n\n\t\t\tconst { payload, success } = await trezorSigner.getAddresses({\n\t\t\t\tfrom: 0,\n\t\t\t\tto: 19,\n\t\t\t})\n\n\t\t\tif (success && !payload.error) {\n\t\t\t\tupdateSpinner(AUTH_WAITING_ADDRESS_DATA, false)(dispatch)\n\n\t\t\t\tconst allAddressesData = payload.map(address =>\n\t\t\t\t\tgetAddressBalances({ address })\n\t\t\t\t)\n\n\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\tupdateIdentity('addresses', results)(dispatch, getState)\n\t\t\t\tupdateIdentity('hdWalletAddrPath', trezorSigner.path)(\n\t\t\t\t\tdispatch,\n\t\t\t\t\tgetState\n\t\t\t\t)\n\t\t\t} else throw new Error(payload.error || 'TREZOR_ERR')\n\n\t\t\tupdateSpinner('AUTH_WAITING_ADDRESS_DATA', false)(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_AUTH_TREZOR', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_AUTH_TREZOR', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(AUTH_WAITING_ADDRESS_DATA, false)(dispatch)\n\t\tupdateSpinner(AUTH_WAITING_TREZOR_ACTION, false)(dispatch)\n\t}\n}\n\nexport function selectWalletAddress({\n\taddrData,\n\thdWalletAddrIdx,\n\thdWalletAddrPath,\n\tsignType,\n\tauthType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { address, path } = addrData\n\n\t\tupdateIdentityWallet({\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\tsignType,\n\t\t\tpath,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t})(dispatch, getState)\n\t}\n}\n","import * as types from 'constants/actionTypes'\n\n// MEMORY STORAGE\nexport function updateNewBid({ bidId, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetNewBid({ bidId }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\n\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_BIDS,\n\t\t\tadvBids: advBids,\n\t\t\tpubBids: pubBids,\n\t\t\tbidsById: bidsById,\n\t\t})\n\t}\n}\nexport const resetAllBids = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_BIDS,\n\t\t})\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nexport const getGasPrice = async (format = 'wei') => {\r\n\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst gasPrice = await provider.getGasPrice()\r\n\treturn utils.formatUnits(gasPrice.toNumber(), format)\r\n}\r\n","import * as types from 'constants/actionTypes'\nimport {\n\tupdateSpinner,\n\thandleAfterValidation,\n\tvalidateEthAddress,\n\tvalidatePrivilegesAddress,\n\tvalidatePrivLevel,\n\tvalidateWithdrawAmount,\n\taddToast,\n\tvalidateFees,\n\tvalidateENS,\n\tvalidateNumberString,\n\tbeforeWeb3,\n} from 'actions'\nimport {\n\tselectNewTransactionById,\n\tselectWalletAddress,\n\tselectAuthType,\n\tselectAccount,\n\tselectAccountStatsFormatted,\n\tselectAccountStatsRaw,\n\tselectMainToken,\n\tselectGasPriceCap,\n\tt,\n} from 'selectors'\nimport { getErrorMsg } from 'helpers/errors'\nimport { getGasPrice } from 'services/gas/actions'\nimport { utils } from 'ethers'\nimport {\n\twithdrawFromIdentity,\n\tsetIdentityPrivilege,\n\taddIdentityENS,\n\twithdrawOtherTokensFromIdentity,\n} from 'services/smart-contracts/actions/identity'\nimport Helper from 'helpers/miscHelpers'\nimport { validate } from './validationActions'\n\n// MEMORY STORAGE\nexport function updateNewTransaction({ tx, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetAllNewTransaction() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_NEW_TRANSACTIONS,\n\t\t})\n\t}\n}\n\nexport function resetNewTransaction({ tx }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t})\n\t}\n}\n\nexport function checkNetworkCongestion(showToast) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst gasPriceCap = selectGasPriceCap(state)\n\t\tconst gasPriceCapGwei = utils.formatUnits(gasPriceCap, 'gwei')\n\t\tconst gasPrice = await getGasPrice('gwei')\n\t\tif (+gasPriceCapGwei < +gasPrice) {\n\t\t\tif (showToast) {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'warning',\n\t\t\t\t\tlabel: t('WARNING_NETWORK_CONGESTED'),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\n\t\t\treturn t('WARNING_NETWORK_CONGESTED')\n\t\t}\n\t}\n}\n\n// PERSIST STORAGE\nexport function addWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\tif (!tx || !tx.hash || !addr) return\n\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\n\t\t\tvalue: tx,\n\t\t\ttx: tx.hash,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\n// TODO: make update multiple\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function resetWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nfunction handleFeesData({\n\tstepsId,\n\tvalidateId,\n\tdirty,\n\tactionName,\n\tfeeDataAction,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tlet isValid = false\n\t\ttry {\n\t\t\tconst feesData = await feeDataAction()\n\n\t\t\tawait updateNewTransaction({\n\t\t\t\ttx: stepsId,\n\t\t\t\tkey: 'feesData',\n\t\t\t\tvalue: feesData,\n\t\t\t})(dispatch, getState)\n\n\t\t\tisValid = await validateFees({\n\t\t\t\tvalidateId,\n\t\t\t\tfeesAmountBN: feesData.totalBN,\n\t\t\t\tamountToSpendBN: feesData.actualWithdrawAmount || '0',\n\t\t\t\tdirty,\n\t\t\t})(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error(actionName, err)\n\n\t\t\tisValid = false\n\t\t\tawait validate(validateId, 'fees', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: getErrorMsg(err) },\n\t\t\t\tdirty,\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePrivilegesChange({\n\tstepsId,\n\tvalidateId,\n\ttxId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tif (!dirty) {\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\n\t\t}\n\t\tconst state = getState()\n\t\tconst { setAddr, warningAccepted, privLevel } = selectNewTransactionById(\n\t\t\tstate,\n\t\t\tstepsId\n\t\t)\n\t\tconst walletAddr = selectWalletAddress(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: setAddr,\n\t\t\t\tprop: 'setAddr',\n\t\t\t\tnonERC20: true,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t\tquickCheck: !dirty,\n\t\t\t})(dispatch),\n\t\t\tvalidatePrivLevel({\n\t\t\t\tvalidateId,\n\t\t\t\tprivLevel,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tconst validation = await validatePrivilegesAddress({\n\t\t\t\tvalidateId,\n\t\t\t\tsetAddr,\n\t\t\t\twalletAddr,\n\t\t\t\twarningAccepted,\n\t\t\t\tprivLevel,\n\t\t\t\tdirty,\n\t\t\t\tauthType,\n\t\t\t})(dispatch)\n\n\t\t\tisValid = validation.isValid\n\n\t\t\tawait updateNewTransaction({\n\t\t\t\ttx: stepsId,\n\t\t\t\tkey: 'warningMsg',\n\t\t\t\tvalue: validation.msg,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tif (isValid) {\n\t\t\tconst account = selectAccount(state)\n\t\t\tisValid = await handleFeesData({\n\t\t\t\tstepsId,\n\t\t\t\tvalidateId,\n\t\t\t\tdirty,\n\t\t\t\tactionName: 'validatePrivilegesChange',\n\t\t\t\tfeeDataAction: () =>\n\t\t\t\t\tsetIdentityPrivilege({\n\t\t\t\t\t\tprivLevel,\n\t\t\t\t\t\tsetAddr,\n\t\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t\t\taccount,\n\t\t\t\t\t}),\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function updateIdentityPrivilege({ setAddr, privLevel }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await setIdentityPrivilege({\n\t\t\t\taccount,\n\t\t\t\tsetAddr,\n\t\t\t\tprivLevel,\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [result],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateIdentityWithdraw({\n\tstepsId,\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tif (!dirty) {\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\n\t\t}\n\t\tconst state = getState()\n\t\tconst account = selectAccount(state)\n\t\tconst { symbol, decimals } = selectMainToken(state)\n\t\tconst { amountToWithdraw, withdrawTo } = selectNewTransactionById(\n\t\t\tstate,\n\t\t\tstepsId\n\t\t)\n\t\tconst {\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\n\t\t} = selectAccountStatsRaw(state)\n\t\tconst {\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\n\t\t} = selectAccountStatsFormatted(state)\n\n\t\t// const walletAddr = selectWalletAddress(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: withdrawTo,\n\t\t\t\tprop: 'withdrawTo',\n\t\t\t\tnonERC20: true,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t\tquickCheck: !dirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateWithdrawAmount({\n\t\t\t\tvalidateId,\n\t\t\t\tamountToWithdraw,\n\t\t\t\tavailableIdentityBalanceMainTokenRaw,\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\n\t\t\t\tdecimals,\n\t\t\t\tsymbol,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tisValid = await handleFeesData({\n\t\t\t\tstepsId,\n\t\t\t\tvalidateId,\n\t\t\t\tdirty,\n\t\t\t\tactionName: 'validateIdentityWithdraw',\n\t\t\t\tfeeDataAction: () =>\n\t\t\t\t\twithdrawFromIdentity({\n\t\t\t\t\t\taccount,\n\t\t\t\t\t\tamountToWithdraw,\n\t\t\t\t\t\twithdrawTo,\n\t\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t\t}),\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateIdentityWithdrawAny({\n\tstepsId,\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tif (!dirty) {\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\n\t\t}\n\t\tconst state = getState()\n\t\tconst account = selectAccount(state)\n\t\tconst {\n\t\t\tamountToWithdraw,\n\t\t\twithdrawTo,\n\t\t\ttokenAddress,\n\t\t\ttokenDecimals,\n\t\t} = selectNewTransactionById(state, stepsId)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: withdrawTo,\n\t\t\t\tprop: 'withdrawTo',\n\t\t\t\tnonERC20: true,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t\tquickCheck: !dirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: tokenAddress,\n\t\t\t\tprop: 'tokenAddress',\n\t\t\t\tnonERC20: false,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t\tquickCheck: !dirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateNumberString({\n\t\t\t\tvalidateId,\n\t\t\t\tprop: 'amountToWithdraw',\n\t\t\t\tvalue: amountToWithdraw,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateNumberString({\n\t\t\t\tvalidateId,\n\t\t\t\tprop: 'tokenDecimals',\n\t\t\t\tvalue: tokenDecimals,\n\t\t\t\tintegerOnly: true,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tisValid = await handleFeesData({\n\t\t\t\tstepsId,\n\t\t\t\tvalidateId,\n\t\t\t\tdirty,\n\t\t\t\tactionName: 'validateIdentityWithdrawAny',\n\t\t\t\tfeeDataAction: () =>\n\t\t\t\t\twithdrawOtherTokensFromIdentity({\n\t\t\t\t\t\taccount,\n\t\t\t\t\t\tamountToWithdraw,\n\t\t\t\t\t\twithdrawTo,\n\t\t\t\t\t\ttokenDecimals,\n\t\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t\t}),\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function identityWithdrawAny({\n\tamountToWithdraw,\n\twithdrawTo,\n\ttokenAddress,\n\ttokenDecimals,\n}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await withdrawOtherTokensFromIdentity({\n\t\t\t\taccount,\n\t\t\t\tamountToWithdraw,\n\t\t\t\twithdrawTo,\n\t\t\t\ttokenAddress,\n\t\t\t\ttokenDecimals,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await withdrawFromIdentity({\n\t\t\t\taccount,\n\t\t\t\tamountToWithdraw,\n\t\t\t\twithdrawTo,\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [result],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateENSChange({\n\tstepsId,\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tif (!dirty) {\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\n\t\t}\n\t\tconst state = getState()\n\t\tconst { username } = selectNewTransactionById(state, stepsId)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateENS({\n\t\t\t\tvalidateId,\n\t\t\t\tusername,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tconst account = selectAccount(state)\n\t\t\tisValid = await handleFeesData({\n\t\t\t\tstepsId,\n\t\t\t\tvalidateId,\n\t\t\t\tdirty,\n\t\t\t\tactionName: 'validateENSChange',\n\t\t\t\tfeeDataAction: () =>\n\t\t\t\t\taddIdentityENS({\n\t\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t\t\taccount,\n\t\t\t\t\t}),\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function setIdentityENS({ username }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tawait addIdentityENS({\n\t\t\t\tusername,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('ENS_SETUP_NOTIFICATION', { args: [username] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_SETTING_ENS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_SETTING_ENS', {\n\t\t\t\t\targs: [err],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function completeTx({\n\tstepsId,\n\tcompeteAction,\n\tvalidateId,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tawait updateNewTransaction({\n\t\t\ttx: stepsId,\n\t\t\tkey: 'waitingForWalletAction',\n\t\t\tvalue: true,\n\t\t})(dispatch)\n\n\t\tlet isValid = false\n\n\t\ttry {\n\t\t\tconst state = getState()\n\n\t\t\tconst transaction = selectNewTransactionById(state, stepsId)\n\n\t\t\tawait competeAction({ ...transaction })(dispatch, getState)\n\t\t\tisValid = true\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_TRANSACTION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t\tawait updateNewTransaction({\n\t\t\ttx: stepsId,\n\t\t\tkey: 'waitingForWalletAction',\n\t\t\tvalue: false,\n\t\t})(dispatch)\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t// TODO: reset tx if OK\n\t}\n}\n","import {\n\tUPDATE_NEW_ITEM,\n\tRESET_NEW_ITEM,\n\tRESET_ALL_NEW_ITEMS,\n} from 'constants/actionTypes'\nimport { selectNewItemByTypeAndId } from 'selectors'\nimport { Base, Models } from 'adex-models'\nimport { updateSpinner, handleAfterValidation } from 'actions'\n\nexport function updateNewItem(item, newValues, itemType, objModel, itemId) {\n\tif (objModel) {\n\t\titem = Base.updateObject({ item, newValues, objModel })\n\t} else {\n\t\titem = {\n\t\t\t...item,\n\t\t\t...newValues,\n\t\t}\n\t}\n\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: UPDATE_NEW_ITEM,\n\t\t\titem,\n\t\t\titemType,\n\t\t\titemId,\n\t\t})\n\t}\n}\n\nexport function resetNewItem(itemType, itemId) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: RESET_NEW_ITEM,\n\t\t\titemType,\n\t\t\titemId,\n\t\t})\n\t}\n}\n\nexport function resetAllNewItems() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: RESET_ALL_NEW_ITEMS,\n\t\t})\n\t}\n}\n\nexport function updateNewItemAction(type, prop, value, newValues, itemId) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst currentItem = selectNewItemByTypeAndId(state, type, itemId)\n\t\tawait updateNewItem(\n\t\t\tcurrentItem,\n\t\t\tnewValues || { [prop]: value },\n\t\t\ttype,\n\t\t\tModels.itemClassByName[type],\n\t\t\titemId\n\t\t)(dispatch)\n\t}\n}\n\nexport function updateNewSlot(prop, value, newValues, itemId) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateNewItemAction('AdSlot', prop, value, newValues, itemId)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateNewUnit(prop, value, newValues) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateNewItemAction('AdUnit', prop, value, newValues)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateNewCampaign(prop, value, newValues) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateNewItemAction('Campaign', prop, value, newValues)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateNewAudience(prop, value, newValues, itemId) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateNewItemAction('Audience', prop, value, newValues, itemId)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateNewWebsite(prop, value, newValues, itemId) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateNewItemAction('Website', prop, value, newValues, itemId)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateNewItemTarget({\n\tcollection,\n\titemType,\n\titemId,\n\ttarget = {},\n\tindex,\n\tremove,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst { temp } = selectNewItemByTypeAndId(state, itemType, itemId)\n\t\t// We are keeping the state in temp because it dirty with extra data\n\t\tconst targets = [...(temp.targets || [])]\n\t\tconst hasIndex = Number.isInteger(index)\n\n\t\tif (hasIndex && !remove) {\n\t\t\t// NOTE: when updated with index target has only { target: { tag, score }}\n\t\t\ttargets[index] = { ...(targets[index] || {}), ...target }\n\t\t} else if (hasIndex && remove) {\n\t\t\ttargets.splice(index, 1)\n\t\t} else {\n\t\t\t// NOTE: when updated w/o index target has no key\n\t\t\ttargets.push({ ...target, key: targets.length })\n\t\t}\n\n\t\t// The actual targets added to the spec\n\t\tconst filtered = targets.filter(x => x.target.tag).map(x => x.target)\n\n\t\tconst newValues = {\n\t\t\t[collection]: filtered,\n\t\t\ttemp: { ...temp, targets },\n\t\t}\n\n\t\tawait updateNewItemAction(itemType, null, null, newValues, itemId)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateTargetRuleInput({\n\tparameter,\n\titemType,\n\titemId,\n\ttarget = {},\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst item = selectNewItemByTypeAndId(state, itemType, itemId)\n\t\tconst isAudience = itemType === 'Audience'\n\n\t\tconst newValues = { ...item }\n\n\t\tconst newInputs = {\n\t\t\t...(isAudience ? newValues.inputs : newValues.audienceInput.inputs),\n\t\t}\n\n\t\tnewInputs[parameter] = { ...target }\n\n\t\tif (isAudience) {\n\t\t\tnewValues.inputs = newInputs\n\t\t} else {\n\t\t\tnewValues.audienceInput = {\n\t\t\t\tversion: newValues.audienceInput.version || '1',\n\t\t\t\t...newValues.audienceInput,\n\t\t\t\tinputs: newInputs,\n\t\t\t}\n\t\t}\n\n\t\tawait updateNewItemAction(itemType, null, null, newValues, itemId)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function completeItem({\n\titemType,\n\tcompeteAction,\n\tvalidateId,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tlet isValid = false\n\t\ttry {\n\t\t\tif (competeAction) {\n\t\t\t\tawait competeAction()(dispatch, getState)\n\t\t\t}\n\n\t\t\tisValid = true\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ITEM', err)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tif (isValid) {\n\t\t\tresetNewItem(itemType)(dispatch)\n\t\t}\n\t}\n}\n","import { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\nimport { addToast, updateSpinner } from 'actions'\nimport { postAudience, putAudience } from 'services/adex-market/actions'\n\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tt,\n\tselectNewAudience,\n\tselectNewItemByTypeAndId,\n\tselectAudienceById,\n} from 'selectors'\nimport {\n\tvalidateSchemaProp,\n\thandleAfterValidation,\n\tvalidateAudience,\n\tupdateNewItem,\n} from 'actions'\nimport { Audience, schemas } from 'adex-models'\n\nconst { audiencePost, audiencePut } = schemas\n\nexport function updateAudienceInput({\n\tupdateField,\n\titemId,\n\tonValid,\n\tvalidateId,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst { inputs } = selectNewItemByTypeAndId(state, 'Audience', itemId)\n\n\t\tconst isValid = await validateAudience({\n\t\t\tvalidateId,\n\t\t\tinputs,\n\t\t\tdirty: true,\n\t\t\tpropName: 'inputs',\n\t\t})(dispatch)\n\n\t\tif (isValid) {\n\t\t\tawait updateField('inputs', inputs)\n\t\t\tonValid()\n\t\t}\n\t}\n}\n\nexport function validateAndUpdateAudience({\n\tvalidateId,\n\tdirty,\n\titem,\n\tupdate,\n\tonUpdateSuccess,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst { id, title, version, inputs } = item\n\n\t\t\tconst audience = new Audience(item).marketUpdate\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: audiencePut.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: version,\n\t\t\t\t\tprop: 'version',\n\t\t\t\t\tschema: audiencePut.version,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateAudience({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tinputs,\n\t\t\t\t\tdirty,\n\t\t\t\t\tpropName: 'inputs',\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: audience,\n\t\t\t\t\tprop: 'audience',\n\t\t\t\t\tschema: audiencePut,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (isValid && update) {\n\t\t\t\tconst updatedAudience = (await putAudience({\n\t\t\t\t\taudience,\n\t\t\t\t\tid,\n\t\t\t\t})).audience\n\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\t\titem: new Audience(updatedAudience).plainObj(),\n\t\t\t\t\titemType: 'Audience',\n\t\t\t\t})\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['AUDIENCE', updatedAudience.title],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\n\t\t\t\tonUpdateSuccess && onUpdateSuccess()\n\t\t\t} else if (!isValid && update) {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['AUDIENCE', getErrorMsg('INVALID_DATA')],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'error',\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\targs: ['AUDIENCE', getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function mapCurrentToNewAudience({ itemId, dirtyProps }) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst item = selectAudienceById(state, itemId)\n\t\tconst audience = selectNewItemByTypeAndId(state, 'Audience', itemId)\n\n\t\tconst inputs = dirtyProps.includes('inputs') ? audience.inputs : item.inputs\n\n\t\tupdateNewItem(\n\t\t\titem,\n\t\t\t{ inputs: { ...inputs } },\n\t\t\t'Audience',\n\t\t\tAudience,\n\t\t\titem.id\n\t\t)(dispatch, getState)\n\t}\n}\n\nexport function saveAudience({ audienceInput, campaignId } = {}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst newAudience = { ...(audienceInput || selectNewAudience(state)) }\n\t\t\tnewAudience.campaignId = campaignId || null\n\t\t\tif (campaignId) {\n\t\t\t\tnewAudience.title = null\n\t\t\t}\n\n\t\t\tconst audience = new Audience({\n\t\t\t\t...newAudience,\n\t\t\t}).marketAdd\n\n\t\t\tconst resItem = await postAudience({\n\t\t\t\taudience,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: ADD_ITEM,\n\t\t\t\titem: resItem,\n\t\t\t\titemType: 'Audience',\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'success',\n\t\t\t\tlabel: t('AUDIENCE_SAVED', {\n\t\t\t\t\targs: [newAudience.title || campaignId],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_AUDIENCE', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'error',\n\t\t\t\tlabel: t('ERR_CREATING_AUDIENCE', {\n\t\t\t\t\targs: ['AUDIENCE', getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\n\t\t}\n\t}\n}\n\nexport function validateAudienceBasics({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tlet isValid = false\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst audience = selectNewAudience(state)\n\t\t\tconst { title, inputs, version } = audience\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: audiencePost.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: version,\n\t\t\t\t\tprop: 'version',\n\t\t\t\t\tschema: audiencePost.version,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tisValid = validations.every(v => v === true)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_SLOT_BASIC', err)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateAudienceInput({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst { inputs = {} } = selectNewAudience(state)\n\n\t\t\tconst isValid = await validateAudience({\n\t\t\t\tvalidateId,\n\t\t\t\tinputs,\n\t\t\t\tdirty,\n\t\t\t\tpropName: 'inputs',\n\t\t\t})(dispatch)\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {\n\t\t\tconsole.log('err', err)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import url from 'url'\nimport { UTM_PARAMS } from 'constants/misc'\n\nexport const addUrlUtmTracking = ({ targetUrl, campaign, content, src }) => {\n\tif (!!targetUrl) {\n\t\tconst URL = url.parse(targetUrl, true)\n\t\tURL.search = null\n\n\t\tif (URL.protocol && URL.host) {\n\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\n\t\t\tif (campaign) {\n\t\t\t\tquery['utm_campaign'] = campaign\n\t\t\t}\n\t\t\tif (content) {\n\t\t\t\tquery['utm_content'] = content\n\t\t\t}\n\t\t\tif (src) {\n\t\t\t\tquery['utm_source'] = src\n\t\t\t}\n\t\t\tURL.query = query\n\n\t\t\treturn url.format(URL)\n\t\t}\n\t}\n\n\treturn targetUrl\n}\n","import { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\nimport {\n\texecute,\n\taddToast,\n\tupdateSpinner,\n\tupdateItems,\n\tupdateValidatorAuthTokens,\n\tupdateNewCampaign,\n\thandleAfterValidation,\n\tvalidateCampaignValidators,\n\tvalidateCampaignAmount,\n\tvalidateCampaignTitle,\n\tvalidateCampaignDates,\n\tvalidateCampaignUnits,\n\tvalidateSchemaProp,\n\tvalidateAudience,\n\tconfirmAction,\n\tupdateSelectedItems,\n\tsaveAudience,\n\tupdateNewItem,\n\tbeforeWeb3,\n} from 'actions'\nimport { push } from 'connected-react-router'\nimport { schemas, Campaign, helpers } from 'adex-models'\nimport { BigNumber, utils } from 'ethers'\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\nimport {\n\topenChannel,\n\tcloseChannel,\n} from 'services/smart-contracts/actions/core'\nimport {\n\tlastApprovedState,\n\tupdateTargeting,\n} from 'services/adex-validator/actions'\nimport {\n\tcloseCampaignMarket,\n\tupdateCampaign,\n\tgetCampaigns,\n} from 'services/adex-market/actions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tt,\n\tselectAccount,\n\tselectNewCampaign,\n\tselectCampaignById,\n\tselectAuthSig,\n\tselectAuth,\n\tselectMainToken,\n\tselectNewItemByTypeAndId,\n\tselectAudienceByCampaignId,\n\tselectTargetingAnalytics,\n\tselectTargetingAnalyticsMinByCategories,\n\tselectTargetingAnalyticsCountryTiersCoefficients,\n\tselectInitialDataLoadedByData,\n\tselectCampaigns,\n\tselectRoutineWithdrawTokenByAddress,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport {\n\tOPENING_CAMPAIGN,\n\tGETTING_CAMPAIGNS_FEES,\n\tPRINTING_CAMPAIGNS_RECEIPTS,\n} from 'constants/spinners'\nimport Helper from 'helpers/miscHelpers'\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\n\nconst {\n\taudienceInputToTargetingRules,\n\tgetSuggestedPricingBounds,\n\tuserInputPricingBoundsPerMileToRulesValue,\n\tpricingBondsToUserInputPerMile,\n\tbondPerActionToUserInputPerMileValue,\n} = helpers\n\nconst { campaignPut } = schemas\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_LEADER_FEE_NUM = process.env.VALIDATOR_LEADER_FEE_NUM\nconst VALIDATOR_LEADER_FEE_DEN = process.env.VALIDATOR_LEADER_FEE_DEN\nconst VALIDATOR_LEADER_FEE_ADDR = process.env.VALIDATOR_LEADER_FEE_ADDR\n\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\nconst VALIDATOR_FOLLOWER_FEE_NUM = process.env.VALIDATOR_FOLLOWER_FEE_NUM\nconst VALIDATOR_FOLLOWER_FEE_DEN = process.env.VALIDATOR_FOLLOWER_FEE_DEN\nconst VALIDATOR_FOLLOWER_FEE_ADDR = process.env.VALIDATOR_FOLLOWER_FEE_ADDR\n\n// updatedCampaign updated campaign class instance\nfunction updateCampaignOnMarket({ updated, toastLabel, toastArgs, toastType }) {\n\treturn async function(dispatch, getState) {\n\t\tconst updatedCampaign = (await updateCampaign({\n\t\t\tcampaign: updated.marketUpdate,\n\t\t\tid: updated.id,\n\t\t})).campaign\n\n\t\tdispatch({\n\t\t\ttype: UPDATE_ITEM,\n\t\t\titem: new Campaign({\n\t\t\t\t...updatedCampaign.spec,\n\t\t\t\t...updatedCampaign,\n\t\t\t}).plainObj(),\n\t\t\titemType: 'Campaign',\n\t\t})\n\t\taddToast({\n\t\t\ttype: toastType || 'success',\n\t\t\tlabel: t(toastLabel, {\n\t\t\t\targs: toastArgs || ['CAMPAIGN', updatedCampaign.title],\n\t\t\t}),\n\t\t\ttimeout: 50000,\n\t\t})(dispatch)\n\n\t\t// Make sure to update tables\n\t\tawait updateUserCampaigns({ updateAllData: true })(dispatch, getState)\n\t}\n}\n\nexport function openCampaign() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst selectedCampaign = selectNewCampaign(state)\n\t\t\tconst account = selectAccount(state)\n\n\t\t\t// save it in audienceInput as it is not spec prop\n\t\t\t// and saving/parsinf form targeting rules is harder\n\t\t\tconst campaign = {\n\t\t\t\t...selectedCampaign,\n\t\t\t\taudienceInput: {\n\t\t\t\t\t...selectedCampaign.audienceInput,\n\t\t\t\t\tpricingBoundsCPMUserInput: {\n\t\t\t\t\t\t...selectedCampaign.pricingBoundsCPMUserInput,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tif (campaign.temp.useUtmTags) {\n\t\t\t\tcampaign.adUnits = [...campaign.adUnits].map((unit, index) => ({\n\t\t\t\t\t...unit,\n\t\t\t\t\ttargetUrl: addUrlUtmTracking({\n\t\t\t\t\t\ttargetUrl: unit.targetUrl,\n\t\t\t\t\t\tcampaign: campaign.title,\n\t\t\t\t\t\tcontent: `${index + 1}_${unit.type}`,\n\t\t\t\t\t\t...(campaign.temp.useUtmSrcWithPub\n\t\t\t\t\t\t\t? { src: 'adex_PUBHOSTNAME' }\n\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t}),\n\t\t\t\t}))\n\t\t\t}\n\n\t\t\tawait getAllValidatorsAuthForIdentity({\n\t\t\t\twithBalance: [{ channel: campaign }],\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tconst { storeCampaign } = await openChannel({\n\t\t\t\tcampaign,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tawait saveAudience({\n\t\t\t\tcampaignId: storeCampaign.id,\n\t\t\t\taudienceInput: campaign.audienceInput,\n\t\t\t})(dispatch, getState)\n\n\t\t\tdispatch({\n\t\t\t\ttype: ADD_ITEM,\n\t\t\t\titem: new Campaign({\n\t\t\t\t\t...storeCampaign.spec,\n\t\t\t\t\t...storeCampaign,\n\t\t\t\t}).plainObj(),\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('OPENING_CAMPAIGN_SENT_TO_RELAYER', {\n\t\t\t\t\targs: [storeCampaign.id],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_OPENING_CAMPAIGN', {\n\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t\tthrow new Error('ERR_OPENING_CAMPAIGN', err)\n\t\t}\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\n\t\treturn true\n\t}\n}\n\nexport const updateCampaignState = ({ campaign }) => {\n\treturn async dispatch => {\n\t\ttry {\n\t\t\tconst state = await lastApprovedState({ campaign })\n\t\t\tconst newCampaign = { ...campaign }\n\t\t\tnewCampaign.state = state\n\n\t\t\treturn dispatch({\n\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\titem: newCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_LAST_STATUS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\n// TEMP for testing in production until 4.1 is deployed\nfunction getHumanFriendlyName(campaign) {\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\n\t\treturn 'Closed'\n\n\tconst isPaused =\n\t\t((campaign.targetingRules || [])[0] || {}).onlyShowIf === false\n\n\tlet status = 'N/A'\n\tswitch ((campaign.status || {}).name) {\n\t\tcase 'Pending':\n\t\t\tstatus = 'Pending'\n\t\t\tbreak\n\t\tcase 'Active':\n\t\tcase 'Ready':\n\t\tcase 'Initializing':\n\t\tcase 'Waiting':\n\t\tcase 'Offline':\n\t\tcase 'Disconnected':\n\t\tcase 'Unhealthy':\n\t\tcase 'Invalid':\n\t\t\tstatus = 'Active'\n\t\t\tbreak\n\t\tcase 'Expired':\n\t\tcase 'Exhausted':\n\t\tcase 'Withdraw':\n\t\t\tstatus = 'Completed'\n\t\t\tbreak\n\t\tdefault:\n\t\t\tstatus = 'N/A'\n\t\t\tbreak\n\t}\n\n\tif (status === 'Active' && isPaused) {\n\t\tstatus = 'Paused'\n\t}\n\n\treturn status\n}\n\nexport function updateCampaignAudienceInput({\n\tupdateField,\n\tfieldName,\n\titemId,\n\tvalidateId,\n\tonValid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst { audienceInput } = selectNewItemByTypeAndId(\n\t\t\tstate,\n\t\t\t'Campaign',\n\t\t\titemId\n\t\t)\n\n\t\tconst isValid = await validateAudience({\n\t\t\tvalidateId,\n\t\t\tinputs: audienceInput.inputs,\n\t\t\tdirty: true,\n\t\t\tpropName: 'audienceInput',\n\t\t})(dispatch)\n\n\t\tif (isValid) {\n\t\t\tawait updateField(\n\t\t\t\t'audienceInput',\n\t\t\t\taudienceInput,\n\t\t\t\tfieldName\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tname: fieldName,\n\t\t\t\t\t  }\n\t\t\t\t\t: null\n\t\t\t)\n\t\t\tonValid()\n\t\t}\n\t}\n}\n\nexport function mapCurrentToNewCampaignAudienceInput({ itemId, dirtyProps }) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst item = selectCampaignById(state, itemId)\n\t\tconst campaign = selectNewItemByTypeAndId(state, 'Campaign', itemId)\n\t\tconst initialAudienceInput = selectAudienceByCampaignId(state, itemId)\n\t\tconst itemAudienceInput =\n\t\t\titem.audienceInput && Object.keys(item.audienceInput.inputs).length\n\t\t\t\t? item.audienceInput\n\t\t\t\t: initialAudienceInput\n\n\t\tconst audienceInput = dirtyProps.some(p =>\n\t\t\t['audienceInput', 'campaignAdvanced'].includes(p.name || p)\n\t\t)\n\t\t\t? campaign.audienceInput\n\t\t\t: item.audienceInput || itemAudienceInput\n\n\t\tupdateNewItem(\n\t\t\titem,\n\t\t\t{ audienceInput: { ...audienceInput } },\n\t\t\t'Campaign',\n\t\t\tCampaign,\n\t\t\titem.id\n\t\t)(dispatch, getState)\n\t}\n}\n\nexport function updateUserCampaigns({ updateAllData = false } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst hasAuth = selectAuth(state)\n\t\tconst statusOnly =\n\t\t\t!!selectInitialDataLoadedByData(state, 'campaigns') && !updateAllData\n\t\tconst { identity } = selectAccount(state)\n\t\tconst { address } = identity\n\t\tconst stateCampaigns = selectCampaigns(state)\n\t\tconst { decimals } = selectMainToken(state)\n\n\t\tif (hasAuth && address) {\n\t\t\ttry {\n\t\t\t\tconst campaigns = await getCampaigns({\n\t\t\t\t\tall: true,\n\t\t\t\t\tstatusOnly,\n\t\t\t\t\tbyCreator: address,\n\t\t\t\t\tcacheBrake: true,\n\t\t\t\t})\n\n\t\t\t\tconst campaignsMapped = campaigns\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tc =>\n\t\t\t\t\t\t\tc.id &&\n\t\t\t\t\t\t\tc.creator &&\n\t\t\t\t\t\t\tc.creator.toLowerCase() === address.toLowerCase() &&\n\t\t\t\t\t\t\t(statusOnly || c.spec)\n\t\t\t\t\t)\n\t\t\t\t\t.map(c => {\n\t\t\t\t\t\tconst campaign = statusOnly\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t...stateCampaigns[c.id],\n\t\t\t\t\t\t\t\t\t...{ status: c.status },\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t...c.spec,\n\t\t\t\t\t\t\t\t\t...c,\n\t\t\t\t\t\t\t\t\ttargetingRules: c.targetingRules || c.spec.targetingRules,\n\t\t\t\t\t\t\t\t\tspecPricingBounds: {\n\t\t\t\t\t\t\t\t\t\t...(c.spec.pricingBounds || {\n\t\t\t\t\t\t\t\t\t\t\tIMPRESSION: {\n\t\t\t\t\t\t\t\t\t\t\t\tmin: c.spec.minPerImpression || c.minPerImpression,\n\t\t\t\t\t\t\t\t\t\t\t\tmax: c.spec.maxPerImpression || c.maxPerImpression,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t  }\n\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!campaign.audienceInput) {\n\t\t\t\t\t\t\tcampaign.audienceInput = selectAudienceByCampaignId(state, c.id)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!campaign.pricingBoundsCPMUserInput) {\n\t\t\t\t\t\t\tcampaign.pricingBoundsCPMUserInput =\n\t\t\t\t\t\t\t\t(campaign.audienceInput || {}).pricingBoundsCPMUserInput ||\n\t\t\t\t\t\t\t\t(campaign.pricingBounds\n\t\t\t\t\t\t\t\t\t? pricingBondsToUserInputPerMile({\n\t\t\t\t\t\t\t\t\t\t\tpricingBounds: campaign.pricingBounds,\n\t\t\t\t\t\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t: null)\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn campaign\n\t\t\t\t\t})\n\n\t\t\t\tupdateItems({\n\t\t\t\t\titems: campaignsMapped,\n\t\t\t\t\titemType: 'Campaign',\n\t\t\t\t})(dispatch)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\n\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGNS', {\n\t\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function closeCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(`closing-campaign-${campaign.id}`, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst { account } = state.persist\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\n\t\t\tconst newCampaign = { ...campaign }\n\t\t\tnewCampaign.status = {\n\t\t\t\t...newCampaign.status,\n\t\t\t\thumanFriendlyName: 'Closed',\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\titem: newCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\t\t\tawait updateUserCampaigns({ updateAllData: true })(dispatch, getState)\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('SUCCESS_CLOSING_CAMPAIGN'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_CLOSING_CAMPAIGN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(`closing-campaign-${campaign.id}`, false)(dispatch)\n\t}\n}\n\nexport function pauseOrResumeCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(`pausing-campaign-${campaign.id}`, true)(dispatch)\n\t\tlet action = 'PAUSING'\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst { account } = state.persist\n\t\t\tconst updated = new Campaign(campaign)\n\n\t\t\tconst currentTargetingRules = updated.targetingRules || []\n\t\t\tconst newRules = [...currentTargetingRules]\n\n\t\t\tconst isPaused = (currentTargetingRules[0] || {}).onlyShowIf === false\n\t\t\tif (isPaused) {\n\t\t\t\taction = 'RESUMING'\n\t\t\t\tnewRules.shift()\n\t\t\t} else {\n\t\t\t\tnewRules.unshift({ onlyShowIf: false })\n\t\t\t}\n\n\t\t\tupdated.targetingRules = newRules\n\n\t\t\tconst { authTokens } = await updateTargeting({\n\t\t\t\taccount,\n\t\t\t\tcampaign: updated,\n\t\t\t\ttargetingRules: newRules,\n\t\t\t})\n\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\n\t\t\tawait updateCampaignOnMarket({\n\t\t\t\tupdated,\n\t\t\t\ttoastLabel: `SUCCESS_${action}_CAMPAIGN`,\n\t\t\t})(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_${action}_CAMPAIGN`, err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t(`ERR_${action}_CAMPAIGN`, {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(`pausing-campaign-${campaign.id}`, false)(dispatch)\n\t}\n}\n\nexport function excludeOrIncludeWebsites({\n\tcampaignId,\n\thostnames,\n\texclude,\n\taction,\n\tonSuccess,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(`${action}-campaign-website${campaignId}`, true)(dispatch)\n\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst campaign = selectCampaignById(state, campaignId)\n\t\t\tconst targetingData = selectTargetingAnalytics(state)\n\t\t\tconst { account } = state.persist\n\t\t\tconst updated = new Campaign(campaign)\n\n\t\t\tconst currentTargetingRules = campaign.targetingRules || []\n\t\t\tconst isPaused = (currentTargetingRules[0] || {}).onlyShowIf === false\n\n\t\t\tconst campaignAudienceInput = selectAudienceByCampaignId(\n\t\t\t\tstate,\n\t\t\t\tcampaignId\n\t\t\t)\n\n\t\t\t// Add default value for legacy campaigns\n\t\t\tconst newAudienceInput = {\n\t\t\t\tversion: '1',\n\t\t\t\tinputs: { publishers: {} },\n\t\t\t\t...campaignAudienceInput,\n\t\t\t}\n\t\t\tnewAudienceInput.inputs = { ...newAudienceInput.inputs }\n\t\t\tnewAudienceInput.inputs.publishers = {\n\t\t\t\t...newAudienceInput.inputs.publishers,\n\t\t\t}\n\n\t\t\tconst { inputs = {} } = newAudienceInput\n\t\t\tconst { publishers = {} } = inputs\n\n\t\t\t// exclude\n\t\t\tif (exclude && publishers.apply && publishers.apply === 'in') {\n\t\t\t\tconst newIn = [...(publishers.in || [])].filter(value => {\n\t\t\t\t\tconst { hostname } = JSON.parse(value)\n\t\t\t\t\treturn !hostnames.includes(hostname)\n\t\t\t\t})\n\t\t\t\tnewAudienceInput.inputs.publishers.in = newIn\n\t\t\t}\n\t\t\t// include\n\t\t\telse if (!exclude && publishers.apply && publishers.apply === 'in') {\n\t\t\t\tconst newIn = [...hostnames]\n\t\t\t\t\t// Filter already included\n\t\t\t\t\t.filter(h => [...(publishers.in || [])].some(x => x.includes(h)))\n\t\t\t\t\t.map(hostname =>\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\thostname,\n\t\t\t\t\t\t\tpublisher: (\n\t\t\t\t\t\t\t\ttargetingData.find(x => x.hostname === hostname) || {}\n\t\t\t\t\t\t\t).owner,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\n\t\t\t\tnewAudienceInput.inputs.publishers.in = (publishers.in || []).concat(\n\t\t\t\t\tnewIn\n\t\t\t\t)\n\t\t\t}\n\t\t\t// exclude\n\t\t\telse if (exclude && publishers.apply && publishers.apply === 'nin') {\n\t\t\t\tconst newNin = hostnames\n\t\t\t\t\t// Filter already excluded\n\t\t\t\t\t.filter(h => ![...(publishers.nin || [])].some(x => x.includes(h)))\n\t\t\t\t\t.map(hostname =>\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\thostname,\n\t\t\t\t\t\t\tpublisher: (\n\t\t\t\t\t\t\t\ttargetingData.find(x => x.hostname === hostname) || {}\n\t\t\t\t\t\t\t).owner,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = (publishers.nin || []).concat(\n\t\t\t\t\tnewNin\n\t\t\t\t)\n\t\t\t}\n\t\t\t// include\n\t\t\telse if (!exclude && publishers.apply && publishers.apply === 'nin') {\n\t\t\t\tconst newNin = [...(publishers.nin || [])]\n\t\t\t\t\t// Filter selected\n\t\t\t\t\t.filter(value => {\n\t\t\t\t\t\tconst { hostname } = JSON.parse(value)\n\t\t\t\t\t\treturn !hostnames.includes(hostname)\n\t\t\t\t\t})\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = newNin\n\t\t\t}\n\t\t\t// exclude\n\t\t\telse if (\n\t\t\t\texclude &&\n\t\t\t\t(!publishers.apply ||\n\t\t\t\t\t(publishers.apply && publishers.apply === 'allin'))\n\t\t\t) {\n\t\t\t\tconst newNin = [...hostnames].map(hostname =>\n\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\thostname,\n\t\t\t\t\t\tpublisher: (targetingData.find(x => x.hostname === hostname) || {})\n\t\t\t\t\t\t\t.owner,\n\t\t\t\t\t})\n\t\t\t\t)\n\n\t\t\t\tnewAudienceInput.inputs.publishers.apply = 'nin'\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = newNin\n\t\t\t}\n\t\t\t// include\n\t\t\telse if (\n\t\t\t\t!exclude &&\n\t\t\t\t(!publishers.apply ||\n\t\t\t\t\t(publishers.apply && publishers.apply === 'allin'))\n\t\t\t) {\n\t\t\t\t// There is nothing to do\n\t\t\t\treturn addToast({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tlabel: t(`SUCCESS_${action}_WEBSITE`, {\n\t\t\t\t\t\targs: [hostnames.length, updated.title],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tnewAudienceInput.inputs.publishers.apply === 'nin' &&\n\t\t\t\t!newAudienceInput.inputs.publishers.nin.length\n\t\t\t) {\n\t\t\t\tnewAudienceInput.inputs.publishers.apply = 'allin'\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = null\n\t\t\t}\n\n\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\n\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\n\t\t\t\tstate\n\t\t\t)\n\n\t\t\tconst { decimals } = selectMainToken(state)\n\t\t\tconst { pricingBounds, minPerImpression, maxPerImpression } = campaign\n\n\t\t\t// Legacy campaigns shim\n\t\t\tconst campaignPricingBounds = pricingBounds || {\n\t\t\t\tIMPRESSION: {\n\t\t\t\t\tmin: minPerImpression,\n\t\t\t\t\tmax: maxPerImpression,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tconst newRules = audienceInputToTargetingRules({\n\t\t\t\taudienceInput: newAudienceInput,\n\t\t\t\tminByCategory,\n\t\t\t\tcountryTiersCoefficients,\n\t\t\t\tpricingBounds: campaignPricingBounds,\n\t\t\t\tdecimals,\n\t\t\t})\n\n\t\t\tif (isPaused) {\n\t\t\t\tnewRules.unshift({ onlyShowIf: false })\n\t\t\t}\n\n\t\t\tupdated.targetingRules = newRules\n\t\t\tupdated.audienceInput = newAudienceInput\n\n\t\t\tconst { authTokens } = await updateTargeting({\n\t\t\t\taccount,\n\t\t\t\tcampaign: updated,\n\t\t\t\ttargetingRules: newRules,\n\t\t\t})\n\n\t\t\tconst updatedCampaign = (await updateCampaign({\n\t\t\t\tcampaign: updated.marketUpdate,\n\t\t\t\tid: updated.id,\n\t\t\t})).campaign\n\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\n\t\t\tlet toastType = 'success'\n\t\t\tlet toastLabel = `SUCCESS_${action}_WEBSITE`\n\n\t\t\tif (\n\t\t\t\tnewAudienceInput.inputs.publishers.apply === 'in' &&\n\t\t\t\t!newAudienceInput.inputs.publishers.in.length\n\t\t\t) {\n\t\t\t\ttoastType = 'warning'\n\t\t\t\ttoastLabel = `WARNING_NO_PUBLISHERS_${action}_WEBSITE`\n\t\t\t}\n\n\t\t\tawait updateCampaignOnMarket({\n\t\t\t\tupdated,\n\t\t\t\ttoastType,\n\t\t\t\ttoastLabel,\n\t\t\t\troastArgs: [hostnames.length, updatedCampaign.title],\n\t\t\t})(dispatch, getState)\n\n\t\t\tif (typeof onSuccess === 'function') {\n\t\t\t\tonSuccess()\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_${action}_WEBSITE`, err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t(`ERR_${action}_WEBSITE`, {\n\t\t\t\t\targs: [hostnames.length, getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(`${action}-campaign-website${campaignId}`, true)(dispatch)\n\t}\n}\n\nconst tempValidators = [\n\t{\n\t\tid: VALIDATOR_LEADER_ID,\n\t\turl: VALIDATOR_LEADER_URL,\n\t\tfeeNum: VALIDATOR_LEADER_FEE_NUM,\n\t\tfeeDen: VALIDATOR_LEADER_FEE_DEN,\n\t\tfeeAddr: VALIDATOR_LEADER_FEE_ADDR,\n\t},\n\t{\n\t\tid: VALIDATOR_FOLLOWER_ID,\n\t\turl: VALIDATOR_FOLLOWER_URL,\n\t\tfeeNum: VALIDATOR_FOLLOWER_FEE_NUM,\n\t\tfeeDen: VALIDATOR_FOLLOWER_FEE_DEN,\n\t\tfeeAddr: VALIDATOR_FOLLOWER_FEE_ADDR,\n\t},\n]\n\nexport function validateNewCampaignAdUnits({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tif (!dirty) {\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\n\t\t}\n\n\t\tconst state = getState()\n\t\tconst campaign = selectNewCampaign(state)\n\t\tconst { adUnits } = campaign\n\n\t\tconst isValid = await validateCampaignUnits({ validateId, adUnits, dirty })(\n\t\t\tdispatch\n\t\t)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateCampaignAudienceInput({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst {\n\t\t\t\taudienceInput = {},\n\t\t\t\tpricingBoundsCPMUserInput,\n\t\t\t\ttemp,\n\t\t\t} = selectNewCampaign(state)\n\t\t\tconst { inputs } = audienceInput\n\n\t\t\tconst isValid = await validateAudience({\n\t\t\t\tvalidateId,\n\t\t\t\tinputs,\n\t\t\t\tdirty,\n\t\t\t\tpropName: 'audienceInput',\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\n\t\t\t\t\tstate\n\t\t\t\t)\n\t\t\t\tconst suggestedPricingBounds = getSuggestedPricingBounds({\n\t\t\t\t\tminByCategory,\n\t\t\t\t\tcountryTiersCoefficients,\n\t\t\t\t\taudienceInput,\n\t\t\t\t})\n\n\t\t\t\tawait updateNewCampaign('temp', {\n\t\t\t\t\t...temp,\n\t\t\t\t\tsuggestedPricingBounds,\n\t\t\t\t})(dispatch, getState)\n\n\t\t\t\t// Update pricingBounds here in order to avoid value check at next steps\n\t\t\t\t// Only if the bounds are not updated (step back or soft closed modal)\n\t\t\t\tif (\n\t\t\t\t\t!pricingBoundsCPMUserInput ||\n\t\t\t\t\t!(\n\t\t\t\t\t\tpricingBoundsCPMUserInput['IMPRESSION'] ||\n\t\t\t\t\t\tpricingBoundsCPMUserInput['CLICK']\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t\tawait updateNewCampaign(\n\t\t\t\t\t\t'pricingBoundsCPMUserInput',\n\t\t\t\t\t\tsuggestedPricingBounds\n\t\t\t\t\t)(dispatch, getState)\n\t\t\t}\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {\n\t\t\tconsole.error('err', err)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateNewCampaignFinance({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst { decimals } = selectMainToken(state)\n\t\t\tconst campaign = selectNewCampaign(state)\n\t\t\tconst {\n\t\t\t\tvalidators,\n\t\t\t\tdepositAmount,\n\t\t\t\ttitle,\n\t\t\t\tactiveFrom,\n\t\t\t\twithdrawPeriodStart,\n\t\t\t\tcreated,\n\t\t\t\t// pricingBounds,\n\t\t\t\tpricingBoundsCPMUserInput,\n\t\t\t\taudienceInput,\n\t\t\t\t// minTargetingScore,\n\t\t\t\t// adUnits,\n\t\t\t\ttemp = {},\n\t\t\t} = campaign\n\n\t\t\tconst { maxChannelFees, maxDeposit } = temp\n\n\t\t\tconst newCampaign = { ...campaign }\n\n\t\t\tif (!validators || !validators.length) {\n\t\t\t\t// TODO: temp - will need dropdown selector for the follower validator\n\t\t\t\tnewCampaign.validators = tempValidators\n\t\t\t\tawait updateNewCampaign('validators', newCampaign.validators)(\n\t\t\t\t\tdispatch,\n\t\t\t\t\tgetState\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateCampaignValidators({ validateId, validators, dirty })(dispatch),\n\t\t\t\tvalidateCampaignAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tdirty,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tpricingBounds: pricingBoundsCPMUserInput,\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t\tdecimals,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignTitle({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\ttitle,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignDates({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tactiveFrom,\n\t\t\t\t\twithdrawPeriodStart,\n\t\t\t\t\tdirty,\n\t\t\t\t\tcreated,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (typeof maxChannelFees !== 'string') {\n\t\t\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\n\n\t\t\t\tconst account = selectAccount(state)\n\n\t\t\t\tconst {\n\t\t\t\t\tfeesFormatted,\n\t\t\t\t\tmaxAvailable,\n\t\t\t\t\tmaxAvailableFormatted,\n\t\t\t\t} = await openChannel({\n\t\t\t\t\tcampaign: { ...newCampaign },\n\t\t\t\t\taccount,\n\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t\tgetMaxFees: true,\n\t\t\t\t})\n\n\t\t\t\tconst newTemp = { ...temp }\n\t\t\t\tnewTemp.maxChannelFees = feesFormatted\n\t\t\t\tnewTemp.maxDeposit = maxAvailable\n\t\t\t\tnewTemp.maxDepositFormatted = maxAvailableFormatted\n\n\t\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\n\t\t\t}\n\n\t\t\tif (isValid) {\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\n\t\t\t\t\tstate\n\t\t\t\t)\n\n\t\t\t\tconst rulesPricingBounds = userInputPricingBoundsPerMileToRulesValue({\n\t\t\t\t\tpricingBounds: pricingBoundsCPMUserInput,\n\t\t\t\t\tdecimals,\n\t\t\t\t})\n\n\t\t\t\tconst targetingRules = audienceInputToTargetingRules({\n\t\t\t\t\taudienceInput,\n\t\t\t\t\tminByCategory,\n\t\t\t\t\tcountryTiersCoefficients,\n\t\t\t\t\tpricingBounds: rulesPricingBounds,\n\t\t\t\t\tdecimals,\n\t\t\t\t})\n\t\t\t\tawait updateNewCampaign('targetingRules', targetingRules)(\n\t\t\t\t\tdispatch,\n\t\t\t\t\tgetState\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_CAMPAIGN_FINANCE', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_CAMPAIGN_FINANCE', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function getCampaignActualFees() {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst campaign = selectNewCampaign(state)\n\t\t\tconst mainToken = selectMainToken(state)\n\t\t\tconst { temp = {}, depositAmount } = campaign\n\n\t\t\tconst account = selectAccount(state)\n\n\t\t\tconst { feesFormatted, fees, breakdownFormatted } = await openChannel({\n\t\t\t\tcampaign: { ...campaign },\n\t\t\t\taccount,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t})\n\n\t\t\tconst totalSpend = utils\n\t\t\t\t.parseUnits(depositAmount, mainToken.decimals)\n\t\t\t\t.add(fees)\n\n\t\t\tconst totalSpendFormatted = formatTokenAmount(\n\t\t\t\ttotalSpend.toString(),\n\t\t\t\tmainToken.decimals || 18,\n\t\t\t\tfalse,\n\t\t\t\ttrue\n\t\t\t)\n\n\t\t\tconst newTemp = { ...temp }\n\t\t\tnewTemp.feesFormatted = feesFormatted\n\t\t\tnewTemp.totalSpendFormatted = totalSpendFormatted\n\t\t\tnewTemp.breakdownFormatted = breakdownFormatted\n\n\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_FEES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_FEES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\n\t}\n}\n\nexport function handlePrintSelectedReceiptsAdvertiser(selected) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, true)(dispatch)\n\t\tconfirmAction(\n\t\t\tasync () => {\n\t\t\t\tawait updateSelectedItems('campaigns', selected)(dispatch)\n\t\t\t\tawait dispatch(push('/dashboard/advertiser/receipts'))\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\n\t\t\t},\n\t\t\tasync () => {\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\n\t\t\t},\n\t\t\t{\n\t\t\t\tcancelLabel: t('CANCEL'),\n\t\t\t\tconfirmLabel: t('OK'),\n\t\t\t\ttitle: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TITLE'),\n\t\t\t\ttext: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TEXT'),\n\t\t\t}\n\t\t)(dispatch, getState)\n\t}\n}\n\nexport function validateAndUpdateCampaign({\n\tvalidateId,\n\tdirty,\n\titem,\n\titemPlain,\n\tupdate,\n\tdirtyProps,\n\tonUpdateSuccess,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst state = getState()\n\n\t\ttry {\n\t\t\tconst {\n\t\t\t\ttitle,\n\t\t\t\taudienceInput,\n\t\t\t\tpricingBounds,\n\t\t\t\tpricingBoundsCPMUserInput,\n\t\t\t\tminPerImpression,\n\t\t\t\tmaxPerImpression,\n\t\t\t\tdepositAmount,\n\t\t\t\tdepositAsset,\n\t\t\t\ttargetingRules,\n\t\t\t} = item\n\n\t\t\tconst { decimals } = selectRoutineWithdrawTokenByAddress(\n\t\t\t\tstate,\n\t\t\t\tdepositAsset\n\t\t\t)\n\n\t\t\tconst updated = new Campaign(item)\n\n\t\t\tconst currentTargetingRules = targetingRules || []\n\t\t\tconst isPaused = (currentTargetingRules[0] || {}).onlyShowIf === false\n\n\t\t\tconst isMinUpdated = dirtyProps.includes('minPerImpression')\n\t\t\tconst isMaxUpdated = dirtyProps.includes('maxPerImpression')\n\n\t\t\tconst isAudienceUpdated =\n\t\t\t\tdirtyProps.includes('audienceInput') || isMinUpdated || isMaxUpdated\n\n\t\t\tconst depositAmountInputString = formatTokenAmount(\n\t\t\t\tdepositAmount,\n\t\t\t\tdecimals\n\t\t\t)\n\n\t\t\tconst pricingBoundsCPMUserInputString = {\n\t\t\t\t...(pricingBoundsCPMUserInput || { IMPRESSION: {} }),\n\t\t\t}\n\n\t\t\tif (isMinUpdated) {\n\t\t\t\tpricingBoundsCPMUserInputString.IMPRESSION = {\n\t\t\t\t\t...pricingBoundsCPMUserInputString.IMPRESSION,\n\t\t\t\t\tmin: minPerImpression,\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (isMaxUpdated) {\n\t\t\t\tpricingBoundsCPMUserInputString.IMPRESSION = {\n\t\t\t\t\t...pricingBoundsCPMUserInputString.IMPRESSION,\n\t\t\t\t\tmax: maxPerImpression,\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!pricingBoundsCPMUserInputString.IMPRESSION.min) {\n\t\t\t\tpricingBoundsCPMUserInputString.IMPRESSION.min = bondPerActionToUserInputPerMileValue(\n\t\t\t\t\tpricingBounds && pricingBounds.IMPRESSION\n\t\t\t\t\t\t? pricingBounds.IMPRESSION.min\n\t\t\t\t\t\t: minPerImpression,\n\t\t\t\t\tdecimals\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif (!pricingBoundsCPMUserInputString.IMPRESSION.max) {\n\t\t\t\tpricingBoundsCPMUserInputString.IMPRESSION.max = bondPerActionToUserInputPerMileValue(\n\t\t\t\t\tpricingBounds && pricingBounds.IMPRESSION\n\t\t\t\t\t\t? pricingBounds.IMPRESSION.max\n\t\t\t\t\t\t: maxPerImpression,\n\t\t\t\t\tdecimals\n\t\t\t\t)\n\t\t\t}\n\n\t\t\t// Per impression\n\t\t\tconst pricingBoundsImpressionBnString = userInputPricingBoundsPerMileToRulesValue(\n\t\t\t\t{\n\t\t\t\t\tpricingBounds: pricingBoundsCPMUserInputString,\n\t\t\t\t\tdecimals,\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tupdated.pricingBoundsCPMUserInput = pricingBoundsCPMUserInputString\n\t\t\tupdated.audienceInput = {\n\t\t\t\t...audienceInput,\n\t\t\t\t...{ pricingBoundsCPMUserInput: updated.pricingBoundsCPMUserInput },\n\t\t\t}\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateCampaignTitle({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\ttitle,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tdirty,\n\t\t\t\t\tdepositAmount: depositAmountInputString,\n\t\t\t\t\tpricingBounds: updated.audienceInput.pricingBoundsCPMUserInput,\n\t\t\t\t\tspecPricingBounds: itemPlain.specPricingBounds,\n\t\t\t\t\terrMsg: !dirty,\n\t\t\t\t\tmaxDeposit: BigNumber.from(depositAmount),\n\t\t\t\t\tdecimals,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: updated.marketUpdate,\n\t\t\t\t\tprop: 'campaign',\n\t\t\t\t\tschema: campaignPut,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tif (isAudienceUpdated) {\n\t\t\t\tconst state = getState()\n\t\t\t\tconst { decimals } = selectMainToken(state)\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\n\t\t\t\t\tstate\n\t\t\t\t)\n\n\t\t\t\tupdated.targetingRules = audienceInputToTargetingRules({\n\t\t\t\t\taudienceInput: updated.audienceInput,\n\t\t\t\t\tminByCategory,\n\t\t\t\t\tcountryTiersCoefficients,\n\t\t\t\t\tpricingBounds: pricingBoundsImpressionBnString,\n\t\t\t\t\tdecimals,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (isValid && update) {\n\t\t\t\tif (isAudienceUpdated) {\n\t\t\t\t\tconst account = selectAccount(state)\n\t\t\t\t\tif (isPaused) {\n\t\t\t\t\t\tupdated.targetingRules.unshift({ onlyShowIf: false })\n\t\t\t\t\t}\n\n\t\t\t\t\tconst { authTokens } = await updateTargeting({\n\t\t\t\t\t\taccount,\n\t\t\t\t\t\tcampaign: updated,\n\t\t\t\t\t\ttargetingRules: updated.targetingRules,\n\t\t\t\t\t})\n\t\t\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\n\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\tgetState\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tawait updateCampaignOnMarket({\n\t\t\t\t\tupdated,\n\t\t\t\t\ttoastLabel: 'SUCCESS_UPDATING_ITEM',\n\t\t\t\t})(dispatch, getState)\n\n\t\t\t\tonUpdateSuccess && onUpdateSuccess()\n\t\t\t} else if (!isValid && update) {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['CAMPAIGN', getErrorMsg('INVALID_INPUT_PARAMETERS')],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\targs: ['CAMPAIGN', getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import { utils, BigNumber } from 'ethers'\nconst { parseUnits } = utils\n\nexport const numStringCPMtoImpression = ({ numStr, decimals }) => {\n\tif (numStr === null || numStr === undefined) {\n\t\treturn numStr\n\t}\n\n\treturn parseUnits(numStr, decimals)\n\t\t.div(BigNumber.from(1000))\n\t\t.toString()\n}\n","import { items as ItemsConstants } from 'adex-constants'\n\nconst { ItemsTypes, AdTypesByValue, AdSizesByValue } = ItemsConstants\n\nexport const sortCollections = items => {\n\tlet collections = {\n\t\tcampaigns: [],\n\t\tadUnits: [],\n\t\tchannels: [],\n\t\tadSlots: [],\n\t}\n\n\tfor (let i = 0; i < items.length; i++) {\n\t\tlet item = items[i]\n\t\tif (item._type === ItemsTypes.Campaign) collections.campaigns.push(item)\n\t\tif (item._type === ItemsTypes.AdUnit) collections.adUnits.push(item)\n\t\tif (item._type === ItemsTypes.Channel) collections.channel.push(item)\n\t\tif (item._type === ItemsTypes.AdSlot) collections.adSlots.push(item)\n\t}\n\n\treturn collections\n}\n\nexport const cloneObject = obj => {\n\treturn Object.assign(Object.create(obj), obj)\n}\n\nexport const getTypeName = id => {\n\tfor (var key in ItemsTypes) {\n\t\tif (ItemsTypes.hasOwnProperty(key)) {\n\t\t\tif (ItemsTypes[key].id === id) {\n\t\t\t\treturn ItemsTypes[key].name\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport const groupItemsForCollection = ({ collectionId, allItems = {} }) => {\n\tlet grouped = Object.values(allItems).reduce(\n\t\t(memo, item, index) => {\n\t\t\tif (item._items.indexOf(collectionId) > -1) {\n\t\t\t\tmemo.items.push(item)\n\t\t\t} else {\n\t\t\t\tmemo.otherItems.push(item)\n\t\t\t}\n\n\t\t\treturn memo\n\t\t},\n\t\t{ items: [], otherItems: [] }\n\t)\n\n\treturn grouped\n}\n\nexport const itemAdTypeLabel = ({ adType }) => {\n\treturn (AdTypesByValue[adType] || {}).label\n}\n\nexport const itemAdSizeLabel = ({ size, t }) => {\n\tconst adSize = AdSizesByValue[size] || {}\n\treturn t(adSize.label, { args: adSize.labelArgs || [] })\n}\n\nexport const getWidAndHightFromType = type => {\n\ttype = type || 'legacy_300x250'\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n","import { validations, helpers } from 'adex-models'\n\nexport const ipfsSrc = src => {\n\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\n\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\n\t}\n\n\treturn src\n}\n","export const getImgObjectUrlFromExternalUrl = async imgUrl => {\n\tconst res = await fetch(imgUrl)\n\tconst blob = await res.blob()\n\tconst objectUrl = URL.createObjectURL(blob)\n\n\treturn objectUrl\n}\n","import {\n\tupdateSpinner,\n\thandleAfterValidation,\n\tvalidateSchemaProp,\n\tvalidateNumberString,\n\tvalidateMediaSize,\n\tupdateNewSlot,\n\taddToast,\n\tvalidate,\n\tgetImgsIpfsFromBlob,\n\tupdateNewItem,\n\tupdateNewWebsite,\n} from 'actions'\nimport { numStringCPMtoImpression } from 'helpers/numbers'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tselectMainToken,\n\tselectNewAdSlot,\n\tselectAuthSig,\n\tselectNewWebsite,\n\tt,\n\tselectNewItemByTypeAndId,\n\tselectAdSlotById,\n\tselectWebsiteByWebsite,\n} from 'selectors'\nimport { schemas, AdSlot, AdUnit, helpers } from 'adex-models'\nimport {\n\tverifyWebsite,\n\tpostAdUnit,\n\tpostAdSlot,\n\tupdateAdSlot,\n} from 'services/adex-market/actions'\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\n\nimport { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\nimport { ipfsSrc } from 'helpers/ipfsHelpers'\nimport { getImgObjectUrlFromExternalUrl } from 'services/images/blob'\nimport { BigNumber, utils } from 'ethers'\n\nconst { adSlotPost, adUnitPost, adSlotPut } = schemas\nconst { slotRulesInputToTargetingRules } = helpers\n\nconst { VALIDATOR_FOLLOWER_FEE_NUM, VALIDATOR_FOLLOWER_FEE_DEN } = process.env\n\n// in float - CPM\n// NOTE:  `minPerImpression` is used as the value user sees and modifies\n// `minPerImpression` is obsolete in the protocol but this way we can easily\n// manage the user input w/o multiple conversion of the CPM value\nfunction getRuleMinCPMWithValidatorFeeAdded(cpmInput) {\n\tconst withFee =\n\t\t+cpmInput / (1 - +VALIDATOR_FOLLOWER_FEE_NUM / +VALIDATOR_FOLLOWER_FEE_DEN)\n\treturn withFee.toString()\n}\n\nasync function getFallbackUnit({\n\tmediaMime,\n\ttempUrl,\n\ttargetUrl,\n\ttype,\n\tauthSig,\n\ttitle,\n\tdescription,\n}) {\n\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\ttempUrl,\n\t\tauthSig,\n\t})).ipfs\n\n\tconst unit = new AdUnit({\n\t\ttype,\n\t\tmediaUrl: `ipfs://${imageIpfs}`,\n\t\ttargetUrl,\n\t\tmediaMime,\n\t\tcreated: Date.now(),\n\t\ttitle,\n\t\tdescription,\n\t\ttargeting: [],\n\t\ttags: [],\n\t\tpassback: true,\n\t})\n\n\tconst resUnit = await postAdUnit({\n\t\tunit: unit.marketAdd,\n\t\tauthSig,\n\t})\n\n\treturn resUnit\n}\n\nexport function validateNewSlotBasics({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tlet isValid = false\n\t\ttry {\n\t\t\tconst mainToken = selectMainToken()\n\t\t\tconst state = getState()\n\t\t\tconst slot = selectNewAdSlot(state)\n\t\t\tconst {\n\t\t\t\ttitle,\n\t\t\t\tdescription,\n\t\t\t\ttype,\n\t\t\t\twebsite,\n\t\t\t\tminPerImpression = null,\n\t\t\t\trulesInput,\n\t\t\t\ttemp,\n\t\t\t} = slot\n\n\t\t\tconst { inputs = {} } = rulesInput || {}\n\t\t\tconst { autoSetMinCPM } = inputs\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: adSlotPost.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: description,\n\t\t\t\t\tprop: 'description',\n\t\t\t\t\tschema: adSlotPost.description,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: type,\n\t\t\t\t\tprop: 'type',\n\t\t\t\t\tschema: adSlotPost.type,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: website,\n\t\t\t\t\tprop: 'website',\n\t\t\t\t\tschema: adSlotPost.website,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tisValid = validations.every(v => v === true)\n\n\t\t\tif (isValid && !autoSetMinCPM && minPerImpression !== null) {\n\t\t\t\tisValid = await validateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\t\tnumStr: minPerImpression || null,\n\t\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t\t}),\n\t\t\t\t\t},\n\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\tschema: adSlotPost.minPerImpression,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\n\t\t\tconst { hostname, issues, categories, suggestedMinCPM } = isValid\n\t\t\t\t? await verifyWebsite({ websiteUrl: website })\n\t\t\t\t: {}\n\t\t\tconst newTemp = { ...temp, hostname, issues, categories, suggestedMinCPM }\n\n\t\t\tconst ruleCPM = !!autoSetMinCPM ? suggestedMinCPM : minPerImpression\n\n\t\t\tconst rulesCPMWithValidatorFee = getRuleMinCPMWithValidatorFeeAdded(\n\t\t\t\truleCPM\n\t\t\t)\n\n\t\t\tconst rules = slotRulesInputToTargetingRules({\n\t\t\t\trulesInput,\n\t\t\t\tsuggestedMinCPM: rulesCPMWithValidatorFee,\n\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t})\n\n\t\t\tupdateNewSlot('temp', newTemp)(dispatch, getState)\n\t\t\tupdateNewSlot('rules', rules)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\t// NOTE: Just log - most probably the error can be from verifyWebsite\n\t\t\t// bet this doesn't matter at that point\n\t\t\tconsole.error('ERR_VALIDATING_SLOT_BASIC', err)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateNewSlotPassback({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n\titemId,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst state = getState()\n\t\tconst {\n\t\t\ttype,\n\t\t\ttargetUrl,\n\t\t\ttemp: { useFallback, tempUrl, mime },\n\t\t} = selectNewItemByTypeAndId(state, 'AdSlot', itemId)\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tconst validations = await Promise.all([\n\t\t\t...(useFallback\n\t\t\t\t? [\n\t\t\t\t\t\tvalidateMediaSize({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tpropName: 'temp',\n\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmedia: {\n\t\t\t\t\t\t\t\ttempUrl,\n\t\t\t\t\t\t\t\tmime,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})(dispatch),\n\t\t\t\t  ]\n\t\t\t\t: [\n\t\t\t\t\t\tvalidate(validateId, 'temp', {\n\t\t\t\t\t\t\tisValid: true,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t})(dispatch),\n\t\t\t\t  ]),\n\t\t\t...(useFallback\n\t\t\t\t? [\n\t\t\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tvalue: targetUrl,\n\t\t\t\t\t\t\tprop: 'targetUrl',\n\t\t\t\t\t\t\tschema: adUnitPost.targetUrl,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t})(dispatch),\n\t\t\t\t  ]\n\t\t\t\t: [\n\t\t\t\t\t\tvalidate(validateId, 'targetUrl', {\n\t\t\t\t\t\t\tisValid: true,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t})(dispatch),\n\t\t\t\t  ]),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function saveSlot() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst item = selectNewAdSlot(state)\n\t\t\tconst newItem = { ...item }\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst mainToken = selectMainToken()\n\t\t\tlet fallbackUnit = null\n\t\t\tif (newItem.temp.useFallback) {\n\t\t\t\tfallbackUnit = (await getFallbackUnit({\n\t\t\t\t\tmediaMime: newItem.temp.mime,\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\n\t\t\t\t\ttype: newItem.type,\n\t\t\t\t\tauthSig,\n\t\t\t\t\ttitle: newItem.title,\n\t\t\t\t\tdescription: newItem.description,\n\t\t\t\t})).ipfs\n\t\t\t}\n\n\t\t\tnewItem.fallbackUnit = fallbackUnit\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tconst minPerImpression = newItem.rulesInput.inputs.autoSetMinCPM\n\t\t\t\t? newItem.temp.suggestedMinCPM\n\t\t\t\t: newItem.minPerImpression\n\n\t\t\tif (minPerImpression) {\n\t\t\t\tnewItem.minPerImpression = {\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\tnumStr: minPerImpression,\n\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst resItem = await postAdSlot({\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: ADD_ITEM,\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\n\t\t\t\titemType: 'AdSlot',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('SUCCESS_CREATING_ITEM', { args: ['ADSLOT', newItem.title] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_CREATING_ITEM', {\n\t\t\t\t\targs: ['ADSLOT', getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\n\t\t}\n\t}\n}\n\nexport function updateWebsiteVerification({ id, website }) {\n\treturn async function(dispatch, getState) {\n\t\tconst websiteUrl = website || 'https://' + id\n\t\tupdateSpinner('vilifying' + websiteUrl, true)(dispatch)\n\t\ttry {\n\t\t\tconst { issues, updated, hostname } = await verifyWebsite({\n\t\t\t\twebsiteUrl,\n\t\t\t})\n\t\t\tconst item = { id: hostname, issues, updated }\n\n\t\t\tdispatch({\n\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\titem,\n\t\t\t\titemType: 'Website',\n\t\t\t})\n\n\t\t\tif (issues && issues.length) {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'warning',\n\t\t\t\t\tlabel: t('UPDATING_WS_VERIFICATION_WITH_ISSUES', {\n\t\t\t\t\t\targs: [websiteUrl],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t} else {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_WS_VERIFICATION', {\n\t\t\t\t\t\targs: [websiteUrl],\n\t\t\t\t\t}),\n\t\t\t\t\targs: [websiteUrl],\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_WS_VERIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'error',\n\n\t\t\t\tlabel: t('ERR_UPDATING_WS_VERIFICATION', {\n\t\t\t\t\targs: [id, err],\n\t\t\t\t}),\n\t\t\t\targs: [id, err],\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner('vilifying' + websiteUrl, false)(dispatch)\n\t}\n}\n\nexport function mapCurrentToNewPassback({ itemId, dirtyProps }) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst item = selectAdSlotById(state, itemId)\n\t\tconst newItem = selectNewItemByTypeAndId(state, 'AdSlot', itemId)\n\n\t\tconst isDirty = ['mediaUrl', 'mediaMime', 'targetUrl'].some(prop =>\n\t\t\tdirtyProps.includes(prop)\n\t\t)\n\n\t\tconst { mediaUrl, mediaMime, targetUrl } = item\n\t\tconst newValues = {}\n\t\tif (isDirty) {\n\t\t\tnewValues.temp = {\n\t\t\t\t...newItem.temp,\n\t\t\t}\n\t\t\tnewValues.targetUrl = newItem.targetUrl\n\t\t} else {\n\t\t\tconst tempUrl = mediaUrl\n\t\t\t\t? await getImgObjectUrlFromExternalUrl(ipfsSrc(mediaUrl))\n\t\t\t\t: mediaUrl\n\n\t\t\tnewValues.temp = {\n\t\t\t\t...item.temp,\n\t\t\t\ttempUrl,\n\t\t\t\tmime: mediaMime,\n\t\t\t\tuseFallback: !!(mediaUrl || mediaMime || targetUrl),\n\t\t\t}\n\t\t\tnewValues.targetUrl = targetUrl\n\t\t}\n\n\t\tupdateNewItem(item, newValues, 'AdSlot', AdSlot, item.id)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateSlotPasback({\n\tupdateMultipleFields,\n\titemId,\n\tonValid: onValidProp,\n\tvalidateId,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst { temp, targetUrl } = selectNewItemByTypeAndId(\n\t\t\tstate,\n\t\t\t'AdSlot',\n\t\t\titemId\n\t\t)\n\t\tconst { tempUrl, mime, useFallback } = temp\n\n\t\tconst newValues = {\n\t\t\ttargetUrl: useFallback ? targetUrl : '',\n\t\t\tmediaUrl: useFallback ? tempUrl : '',\n\t\t\tmediaMime: useFallback ? mime : '',\n\t\t}\n\n\t\tconst onValid = () => {\n\t\t\tupdateMultipleFields(newValues, [\n\t\t\t\t{\n\t\t\t\t\tname: 'passbackData',\n\t\t\t\t\tfields: ['targetUrl', 'mediaUrl', 'mediaMime'],\n\t\t\t\t},\n\t\t\t])\n\t\t\tonValidProp()\n\t\t}\n\n\t\tawait validateNewSlotPassback({\n\t\t\tvalidateId,\n\t\t\tdirty: true,\n\t\t\tonValid,\n\t\t\titemId,\n\t\t})(dispatch, getState)\n\t}\n}\n\nexport function validateAndUpdateSlot({\n\tvalidateId,\n\tdirty,\n\titem,\n\tupdate,\n\tdirtyProps,\n\tonUpdateSuccess,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst mainToken = selectMainToken()\n\t\t\tconst {\n\t\t\t\tid,\n\t\t\t\ttype,\n\t\t\t\ttitle,\n\t\t\t\tdescription,\n\t\t\t\tminPerImpression,\n\t\t\t\twebsite,\n\t\t\t\tmediaUrl,\n\t\t\t\tmediaMime,\n\t\t\t\ttargetUrl,\n\t\t\t\trulesInput: slotRulesInput,\n\t\t\t} = item\n\n\t\t\t// Because of old slot and default value null\n\t\t\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\n\n\t\t\tconst { autoSetMinCPM } = rulesInput.inputs\n\n\t\t\tconst newSlot = new AdSlot(item)\n\t\t\tconst updateMinPerImpression =\n\t\t\t\ttypeof minPerImpression === 'string' && !autoSetMinCPM\n\n\t\t\tconst updateRules = dirtyProps.some(\n\t\t\t\tprop =>\n\t\t\t\t\tprop &&\n\t\t\t\t\t(prop.name === 'rulesInput' ||\n\t\t\t\t\t\t(prop.fields || []).includes('rulesInput'))\n\t\t\t)\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: adSlotPut.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: description,\n\t\t\t\t\tprop: 'description',\n\t\t\t\t\tschema: adSlotPut.description,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: website,\n\t\t\t\t\tprop: 'website',\n\t\t\t\t\tschema: adSlotPut.website,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tupdateMinPerImpression\n\t\t\t\t\t? validateNumberString({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\tvalue: minPerImpression,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t  })(dispatch)\n\t\t\t\t\t: true,\n\t\t\t\tupdateRules\n\t\t\t\t\t? validateSchemaProp({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tprop: 'rulesInput',\n\t\t\t\t\t\t\tvalue: rulesInput,\n\t\t\t\t\t\t\tschema: adSlotPut.rulesInput,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t  })(dispatch)\n\t\t\t\t\t: true,\n\t\t\t])\n\n\t\t\tlet isValid = validations.every(v => v === true)\n\n\t\t\tlet minCPM = null\n\t\t\tlet newRules = null\n\t\t\tlet rulesCPM = null\n\n\t\t\tif (isValid && !autoSetMinCPM && updateMinPerImpression) {\n\t\t\t\tif (!minPerImpression || parseFloat(minPerImpression) <= 0) {\n\t\t\t\t\tthrow new Error('INVALID_MANUAL_MIN_CPM_VALUE')\n\t\t\t\t}\n\n\t\t\t\trulesCPM = minPerImpression\n\t\t\t} else if (isValid && autoSetMinCPM) {\n\t\t\t\trulesCPM = (await verifyWebsite({ websiteUrl: website }))\n\t\t\t\t\t.suggestedMinCPM\n\n\t\t\t\tif (!rulesCPM) {\n\t\t\t\t\tthrow new Error('INVALID_AUTO_CPM_VALUE')\n\t\t\t\t}\n\t\t\t} else if (isValid) {\n\t\t\t\trulesCPM =\n\t\t\t\t\t!!minPerImpression && typeof minPerImpression === 'object'\n\t\t\t\t\t\t? utils.formatUnits(\n\t\t\t\t\t\t\t\tBigNumber.from(Object.values(minPerImpression)[0]).mul(1000),\n\t\t\t\t\t\t\t\tmainToken.decimals\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: minPerImpression\n\t\t\t}\n\n\t\t\tif (isValid && (updateMinPerImpression || updateRules)) {\n\t\t\t\tnewRules = slotRulesInputToTargetingRules({\n\t\t\t\t\trulesInput,\n\t\t\t\t\tsuggestedMinCPM: getRuleMinCPMWithValidatorFeeAdded(rulesCPM),\n\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t})\n\n\t\t\t\tminCPM = {\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\tnumStr: rulesCPM || null,\n\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t}),\n\t\t\t\t}\n\n\t\t\t\tnewSlot.minPerImpression = minCPM\n\t\t\t\tnewSlot.rules = newRules\n\t\t\t}\n\n\t\t\tconst isPassbackUpdated = dirtyProps.some(\n\t\t\t\tprop => prop && prop.name === 'passbackData'\n\t\t\t)\n\n\t\t\tconst fallbackData = {\n\t\t\t\tmediaMime,\n\t\t\t\tmediaUrl,\n\t\t\t\ttargetUrl,\n\t\t\t}\n\n\t\t\tlet newUnit = null\n\t\t\tif (isValid && isPassbackUpdated && update) {\n\t\t\t\tif (mediaUrl && mediaMime && targetUrl) {\n\t\t\t\t\tconst authSig = selectAuthSig(state)\n\t\t\t\t\tnewUnit = await getFallbackUnit({\n\t\t\t\t\t\tmediaMime,\n\t\t\t\t\t\ttempUrl: mediaUrl,\n\t\t\t\t\t\ttargetUrl,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tauthSig,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tdescription,\n\t\t\t\t\t})\n\n\t\t\t\t\tnewSlot.fallbackUnit = newUnit.ipfs\n\t\t\t\t\tfallbackData.mediaMime = newUnit.mediaMime\n\t\t\t\t\tfallbackData.mediaUrl = newUnit.mediaUrl\n\t\t\t\t\tfallbackData.targetUrl = newUnit.targetUrl\n\t\t\t\t} else {\n\t\t\t\t\tnewSlot.fallbackUnit = null\n\t\t\t\t\tfallbackData.mediaMime = ''\n\t\t\t\t\tfallbackData.mediaUrl = ''\n\t\t\t\t\tfallbackData.targetUrl = ''\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst slot = newSlot.marketUpdate\n\n\t\t\tif (isValid) {\n\t\t\t\tconst finalValidations = await Promise.all([\n\t\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\tvalue: newSlot.minPerImpression,\n\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\tschema: adSlotPut.minPerImpression,\n\t\t\t\t\t\tdirty,\n\t\t\t\t\t})(dispatch),\n\t\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\tvalue: newSlot.rules,\n\t\t\t\t\t\tprop: 'rules',\n\t\t\t\t\t\tschema: adSlotPut.rules,\n\t\t\t\t\t\tdirty,\n\t\t\t\t\t})(dispatch),\n\t\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\tvalue: slot,\n\t\t\t\t\t\tprop: 'slot',\n\t\t\t\t\t\tschema: adSlotPut,\n\t\t\t\t\t\tdirty,\n\t\t\t\t\t})(dispatch),\n\t\t\t\t])\n\n\t\t\t\tisValid = finalValidations.every(v => v === true)\n\t\t\t}\n\n\t\t\tif (isValid && update) {\n\t\t\t\tconst updatedSlot = (await updateAdSlot({ slot, id })).slot\n\n\t\t\t\tif (dirtyProps.includes('website')) {\n\t\t\t\t\tawait updateWebsiteVerification({ website })(dispatch)\n\t\t\t\t}\n\n\t\t\t\tif (newUnit) {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: ADD_ITEM,\n\t\t\t\t\t\titem: new AdUnit(newUnit).plainObj(),\n\t\t\t\t\t\titemType: 'AdUnit',\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\t\titem: new AdSlot({ ...updatedSlot, ...fallbackData }).plainObj(),\n\t\t\t\t\titemType: 'AdSlot',\n\t\t\t\t})\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['ADSLOT', updatedSlot.title],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t\tonUpdateSuccess && onUpdateSuccess()\n\t\t\t} else if (!isValid && update) {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['ADSLOT', getErrorMsg('INVALID_DATA')],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'error',\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\targs: ['ADSLOT', getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateAndSaveNewWebsiteBasics({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tlet isValid = false\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst slot = selectNewWebsite(state)\n\t\t\tconst { website, temp } = slot\n\n\t\t\tisValid = await validateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: website,\n\t\t\t\tprop: 'website',\n\t\t\t\tschema: adSlotPost.website,\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tisValid = !Object.keys(selectWebsiteByWebsite(state, website)).length\n\n\t\t\t\tawait validate(validateId, 'website', {\n\t\t\t\t\tisValid,\n\t\t\t\t\terr: { msg: 'ERR_WEBSITE_EXISTS' },\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\n\t\t\tif (isValid && dirty) {\n\t\t\t\tconst {\n\t\t\t\t\thostname,\n\t\t\t\t\tissues,\n\t\t\t\t\tcategories,\n\t\t\t\t\tsuggestedMinCPM,\n\t\t\t\t\tupdated,\n\t\t\t\t} = isValid ? await verifyWebsite({ websiteUrl: website }) : {}\n\t\t\t\tconst newTemp = {\n\t\t\t\t\t...temp,\n\t\t\t\t\thostname,\n\t\t\t\t\tissues,\n\t\t\t\t\tcategories,\n\t\t\t\t\tsuggestedMinCPM,\n\t\t\t\t}\n\n\t\t\t\tconst newWebsite = {\n\t\t\t\t\tid: hostname,\n\t\t\t\t\tissues,\n\t\t\t\t\tupdated,\n\t\t\t\t}\n\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ADD_ITEM,\n\t\t\t\t\titem: newWebsite,\n\t\t\t\t\titemType: 'Website',\n\t\t\t\t})\n\n\t\t\t\tupdateNewWebsite('temp', newTemp)(dispatch, getState)\n\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'accept',\n\t\t\t\t\tlabel: t('SUCCESS_CREATING_ITEM', {\n\t\t\t\t\t\targs: ['WEBSITE', hostname],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t// NOTE: Just log - most probably the error can be from verifyWebsite\n\t\t\t// bet this doesn't matter at that point\n\t\t\tconsole.error('ERR_VALIDATING_WEBSITE_BASIC', err)\n\t\t\tisValid = false\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import {\n\tupdateSpinner,\n\thandleAfterValidation,\n\tvalidateSchemaProp,\n\tvalidateMediaSize,\n\tvalidate,\n\taddToast,\n\tgetImgsIpfsFromBlob,\n} from 'actions'\nimport { selectNewAdUnit, selectAuthSig, t } from 'selectors'\nimport { schemas, AdUnit } from 'adex-models'\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\n\nimport { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\nimport Helper from 'helpers/miscHelpers'\n\nimport { postAdUnit, updateAdUnit } from 'services/adex-market/actions'\n\nconst { adUnitPost, adUnitPut } = schemas\n\nexport function validateNewUnitBasics({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst { title, description, type, targetUrl } = selectNewAdUnit(state)\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: adUnitPost.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: description,\n\t\t\t\t\tprop: 'description',\n\t\t\t\t\tschema: adUnitPost.description,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: type,\n\t\t\t\t\tprop: 'type',\n\t\t\t\t\tschema: adUnitPost.type,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: targetUrl,\n\t\t\t\t\tprop: 'targetUrl',\n\t\t\t\t\tschema: adUnitPost.targetUrl,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tlet isValid = validations.every(v => v === true)\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateNewUnitMedia({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst state = getState()\n\t\tconst {\n\t\t\ttype,\n\t\t\ttemp: { tempUrl, mime },\n\t\t} = selectNewAdUnit(state)\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateMediaSize({\n\t\t\t\tvalidateId,\n\t\t\t\tdirty,\n\t\t\t\tpropName: 'temp',\n\t\t\t\twidthTarget: width,\n\t\t\t\theightTarget: height,\n\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\texact: true,\n\t\t\t\trequired: true,\n\t\t\t\tmedia: {\n\t\t\t\t\ttempUrl,\n\t\t\t\t\tmime,\n\t\t\t\t},\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function saveUnit() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst item = selectNewAdUnit(state)\n\t\t\tconst newItem = { ...item }\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\tauthSig,\n\t\t\t})).ipfs\n\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\n\t\t\tnewItem.mediaMime = newItem.temp.mime\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tconst resItem = await postAdUnit({\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: ADD_ITEM,\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\n\t\t\t\titemType: 'AdUnit',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_CREATING_ITEM', {\n\t\t\t\t\targs: ['AdUnit', Helper.getErrMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\n\t\t}\n\t}\n}\n\nexport function validateAndUpdateUnit({\n\tvalidateId,\n\tdirty,\n\titem,\n\tupdate,\n\tonUpdateSuccess,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst { id, title, description } = item\n\n\t\t\tconst unit = new AdUnit(item).marketUpdate\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: adUnitPut.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: description,\n\t\t\t\t\tprop: 'description',\n\t\t\t\t\tschema: adUnitPut.description,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: unit,\n\t\t\t\t\tprop: 'unit',\n\t\t\t\t\tschema: adUnitPut,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (isValid && update) {\n\t\t\t\tconst updatedUnit = (await updateAdUnit({ unit, id })).unit\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\t\titem: new AdUnit(updatedUnit).plainObj(),\n\t\t\t\t\titemType: 'AdUnit',\n\t\t\t\t})\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['ADUNIT', updatedUnit.title],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t\tonUpdateSuccess && onUpdateSuccess()\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\targs: ['ADUNIT', Helper.getErrMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import * as common from './common'\nimport * as uiActions from './uiActions'\nimport * as validationActions from './validationActions'\nimport * as mediaValidations from './mediaValidations'\nimport * as itemActions from './itemActions'\nimport * as accountActions from './accountActions'\nimport * as identityActions from './identityActions'\nimport * as bidActions from './bidActions'\nimport * as transactionActions from './transactionActions'\nimport * as analyticsActions from './analyticsActions'\nimport * as newItemsActions from './newItemsActions'\nimport * as audienceActions from './audienceActions'\nimport * as campaignActions from './campaignActions'\nimport * as slotActions from './slotActions'\nimport * as unitActions from './unitActions'\n\n// keep it for class components that use connect and actions prop\n// without needing to change the code\nexport default {\n\t...common,\n\t...uiActions,\n\t...validationActions,\n\t...mediaValidations,\n\t...itemActions,\n\t...accountActions,\n\t...identityActions,\n\t...bidActions,\n\t...transactionActions,\n\t...analyticsActions,\n\t...newItemsActions,\n\t...audienceActions,\n\t...campaignActions,\n\t...slotActions,\n\t...unitActions,\n}\n\n// used for minimal deps in hook components\n// import { execute, addTost } from 'actions'\n// execute(addTost())\nexport * from './common'\nexport * from './validationActions'\nexport * from './mediaValidations'\nexport * from './uiActions'\nexport * from './itemActions'\nexport * from './accountActions'\nexport * from './identityActions'\nexport * from './bidActions'\nexport * from './transactionActions'\nexport * from './analyticsActions'\nexport * from './newItemsActions'\nexport * from './audienceActions'\nexport * from './campaignActions'\nexport * from './slotActions'\nexport * from './unitActions'\n","import React, { Fragment, useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Snackbar, IconButton } from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport { Alert } from '@material-ui/lab'\nimport { selectToasts, selectWindowReloading } from 'selectors'\nimport { execute, removeToast } from 'actions'\n\nconst typeToSeverity = {\n\taccept: 'success',\n\tsuccess: 'success',\n\twarning: 'warning',\n\tinfo: 'info',\n\tcancel: 'error',\n\terror: 'error',\n}\n\nexport const Toast = props => {\n\tconst [active, setActive] = useState(false)\n\tconst [toast, setToast] = useState({})\n\n\tconst toasts = useSelector(selectToasts)\n\tconst isReloading = useSelector(selectWindowReloading)\n\n\tuseEffect(() => {\n\t\tconst nextToast = toasts[0]\n\n\t\tif (!nextToast || isReloading) {\n\t\t\tsetActive(false)\n\t\t\tsetToast({})\n\t\t} else if (nextToast.id !== toast.id) {\n\t\t\tsetActive(true)\n\t\t\tsetToast(nextToast)\n\t\t}\n\t}, [isReloading, toast.id, toasts])\n\n\tconst anchorOrigin = toast.anchorOrigin || {\n\t\tvertical: 'bottom',\n\t\thorizontal: 'center',\n\t}\n\n\tif (toast.top) {\n\t\tanchorOrigin.horizontal = 'center'\n\t\tanchorOrigin.vertical = 'top'\n\t}\n\n\tconst close = id => {\n\t\tsetActive(false)\n\t\tsetTimeout(() => execute(removeToast(id)), 100)\n\t}\n\n\treturn toast ? (\n\t\t<Snackbar\n\t\t\topen={active}\n\t\t\tautoHideDuration={toast.timeout || 0}\n\t\t\tonClose={() => !toast.unclosable && close(toast.id)}\n\t\t\tanchorOrigin={anchorOrigin}\n\t\t>\n\t\t\t<Alert\n\t\t\t\tseverity={typeToSeverity[toast.type]}\n\t\t\t\tvariant='filled'\n\t\t\t\taction={\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{toast.action && toast.action}\n\t\t\t\t\t\t{!toast.unclosable && (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tkey={`close-${toast.id}`}\n\t\t\t\t\t\t\t\taria-label='Close'\n\t\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && close(toast.id)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Fragment>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{(toast.label || '').toString()}\n\t\t\t</Alert>\n\t\t</Snackbar>\n\t) : null\n}\n\nexport default Toast\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { selectConfirm } from 'selectors'\n\nimport {\n\tDialog,\n\tButton,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle,\n} from '@material-ui/core'\n\nexport function Confirm({ children }) {\n\tconst [open, setOpen] = useState(false)\n\n\tconst {\n\t\tonConfirm,\n\t\tonCancel,\n\t\tactive,\n\t\tcalledOn,\n\t\tnoActionBtns,\n\t\tdata: { title = '', text = '', confirmLabel, cancelLabel },\n\t} = useSelector(selectConfirm)\n\n\tuseEffect(() => {\n\t\tsetOpen(!!active)\n\t}, [active, calledOn])\n\n\tconst confirm = () => {\n\t\tif (typeof onConfirm === 'function') {\n\t\t\tonConfirm()\n\t\t}\n\t\tsetOpen(false)\n\t}\n\n\tconst cancel = () => {\n\t\tif (typeof onCancel === 'function') {\n\t\t\tonCancel()\n\t\t}\n\n\t\tsetOpen(false)\n\t}\n\n\treturn (\n\t\t<Dialog open={open}>\n\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<DialogContentText id='alert-dialog-description'>\n\t\t\t\t\t{text}\n\t\t\t\t</DialogContentText>\n\t\t\t\t{children}\n\t\t\t</DialogContent>\n\t\t\t{!noActionBtns && (\n\t\t\t\t<DialogActions>\n\t\t\t\t\t{cancelLabel && (\n\t\t\t\t\t\t<Button onClick={cancel} color='primary'>\n\t\t\t\t\t\t\t{cancelLabel}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{confirmLabel && (\n\t\t\t\t\t\t<Button onClick={confirm} color='primary' autoFocus>\n\t\t\t\t\t\t\t{confirmLabel}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</DialogActions>\n\t\t\t)}\n\t\t</Dialog>\n\t)\n}\n\nexport default Confirm\n","import React, { forwardRef } from 'react'\n// import PropTypes from 'prop-types'\nimport { withRouter } from 'react-router'\n\nexport const withReactRouterLink = Component => {\n\tclass Decorated extends React.Component {\n\t\tresolveToLocation = to => {\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\n\t\t\tconst href = this.props.history.createHref(path)\n\t\t\treturn href\n\t\t}\n\n\t\thandleClick = async event => {\n\t\t\tevent.preventDefault()\n\t\t\tevent.stopPropagation()\n\t\t\tconst { to, onClick } = this.props\n\n\t\t\tif (onClick && typeof onClick === 'function') {\n\t\t\t\tawait onClick()\n\t\t\t\tthis.props.history.push(to)\n\t\t\t} else {\n\t\t\t\tthis.props.history.push(to)\n\t\t\t}\n\t\t}\n\n\t\t// TODO: check if it works without infinite loops\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//   // const { to } = this.props;\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\n\t\t// }\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tforwardedRef,\n\t\t\t\tto,\n\t\t\t\tmatch,\n\t\t\t\tlocation,\n\t\t\t\thistory,\n\t\t\t\tstaticContext,\n\t\t\t\tonClick,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst toLocation = this.resolveToLocation(to)\n\n\t\t\treturn (\n\t\t\t\t<Component\n\t\t\t\t\tref={forwardedRef}\n\t\t\t\t\t{...rest}\n\t\t\t\t\thref={toLocation}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tconst WithRouter = withRouter(Decorated)\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithRouter {...props} forwardedRef={ref} />\n\t))\n}\n","import React from 'react'\nimport SvgIcon from '@material-ui/core/SvgIcon'\nimport pure from 'recompose/pure'\n\nexport default (path, displayName, viewBox = '') => {\n\tlet Icon = props => (\n\t\t<SvgIcon viewBox={viewBox} {...props}>\n\t\t\t{path}\n\t\t</SvgIcon>\n\t)\n\n\tIcon.displayName = displayName\n\tIcon = pure(Icon)\n\tIcon.muiName = 'SvgIcon'\n\n\treturn Icon\n}\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\n\t</g>,\n\n\t'Campaign',\n\t'0 0 26.12 17.37'\n)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Box, Tabs, Tab, Divider } from '@material-ui/core'\nimport { push } from 'connected-react-router'\nimport { execute } from 'actions'\nimport { t } from 'selectors'\nimport { Paper } from '@material-ui/core'\n\nconst sideIndex = {\n\tadvertiser: 0,\n\tpublisher: 1,\n\t'0': 'advertiser',\n\t'1': 'publisher',\n}\n\nconst handleChange = (ev, index) => {\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\n}\n\nconst useTabsStyles = makeStyles(theme => {\n\treturn {\n\t\tindicator: {\n\t\t\t// NOTE: we use Tab background color as indicator\n\t\t\t// There is an animation for the Tabs indicator that looks out of\n\t\t\t// sync with Tab background change\n\t\t\tbackground: '0',\n\t\t},\n\t}\n})\n\nconst useTabStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.primary.main\n\t\t\t: theme.palette.primary.main\n\treturn {\n\t\troot: {\n\t\t\tminWidth: 30,\n\t\t\tbackgroundColor: theme.palette.appBar.main,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t\tbackgroundColor: activeColor,\n\t\t\t},\n\t\t\t'&:hover': {\n\t\t\t\tbackgroundColor: theme.palette.action.hover,\n\t\t\t},\n\t\t},\n\t\tselected: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\tbackgroundColor: activeColor,\n\t\t},\n\t}\n})\n\nconst SideSwitch = ({ side, className }) => {\n\tconst tabsClasses = useTabsStyles({ side })\n\tconst tabClasses = useTabStyles({ side })\n\treturn (\n\t\t<div className={className}>\n\t\t\t<Box bgcolor='background.paper'>\n\t\t\t\t<Divider />\n\t\t\t\t<Tabs\n\t\t\t\t\tclasses={tabsClasses}\n\t\t\t\t\tvalue={sideIndex[side]}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t\tvariant='fullWidth'\n\t\t\t\t\taria-label='side select'\n\t\t\t\t>\n\t\t\t\t\t<Tab classes={tabClasses} label={t('ADVERTISER')} />\n\t\t\t\t\t<Tab classes={tabClasses} label={t('PUBLISHER')} />\n\t\t\t\t</Tabs>\n\t\t\t\t<Divider />\n\t\t\t</Box>\n\t\t</div>\n\t)\n}\n\nexport default SideSwitch\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(27, 117, 188)'\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\n\t\t/>\n\t</g>,\n\t'AdexIcon',\n\t'0 0 185 72'\n)\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path\n\t\t\tfill='#fafafa'\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(27, 117, 188)'\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='#fafafa'\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\n\t\t/>\n\t</g>,\n\t'AdexIcon',\n\t'0 0 185 72'\n)\n","import React from 'react'\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\n\nexport const InputLoading = ({ className, color = 'primary' }) => (\n\t<LinearProgress className={className} color={color} />\n)\n\nexport const LoadingSection = ({ loading, children }) => (\n\t<Box display='flex' flex='1' alignItems='center'>\n\t\t<Box>{children}</Box>\n\t\t<Box ml={2} mr={2}>\n\t\t\t{loading && <CircularProgress />}\n\t\t</Box>\n\t</Box>\n)\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\nimport classnames from 'classnames'\nimport packageJson from './../../../../package.json'\nimport Anchor from 'components/common/anchor/anchor'\nimport SideSwitch from './SideSwitch'\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport AdexIconTxtDark from 'components/common/icons/AdexIconTxtDark'\nimport DashboardIcon from '@material-ui/icons/Dashboard'\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\nimport { Receipt } from '@material-ui/icons'\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport Box from '@material-ui/core/Box'\nimport ListIcon from '@material-ui/icons/List'\nimport AudienceIcon from '@material-ui/icons/Group'\nimport WebsitesIcon from '@material-ui/icons/WebSharp'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport { LoadingSection } from 'components/common/spinners'\nimport {\n\tt,\n\tselectSide,\n\tselectLocation,\n\tselectAccountIdentityAddr,\n\tselectAccountStatsFormatted,\n\tselectMainToken,\n} from 'selectors'\n\nconst RRListItem = withReactRouterLink(ListItem)\nconst RRAdexIconTxt = withReactRouterLink(AdexIconTxt)\nconst RRAdexIconTxtDark = withReactRouterLink(AdexIconTxtDark)\nconst { ETH_SCAN_ADDR_HOST } = process.env\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.primary.contrastText\n\t\t\t: theme.palette.primary.contrastText\n\n\tconst activeBgColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.primary.main\n\t\t\t: theme.palette.primary.main\n\n\treturn {\n\t\tnavigation: {\n\t\t\tbackgroundColor: theme.palette.background.paper,\n\t\t},\n\t\tsntPadding: {\n\t\t\tpaddingTop: 0,\n\t\t},\n\t\tnavListRoot: {\n\t\t\tcolor: theme.palette.text.secondary,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tnavList: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 100,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t},\n\t\tsideNavToolbar: {},\n\t\tversion: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tpadding: 10,\n\t\t\tpaddingLeft: 16,\n\t\t\tborderTopWidth: 1,\n\t\t\tborderTopColor: theme.palette.divider,\n\t\t\tborderTopStyle: 'solid',\n\t\t},\n\t\tactive: {\n\t\t\tcolor: activeColor,\n\t\t\tbackgroundColor: activeBgColor,\n\t\t\t'&:focus': {\n\t\t\t\tbackgroundColor: activeBgColor,\n\t\t\t},\n\t\t\t'&:hover': {\n\t\t\t\tbackgroundColor: activeBgColor,\n\t\t\t\tcolor: activeColor,\n\t\t\t\t'& .MuiListItemIcon-root': {\n\t\t\t\t\tcolor: activeColor,\n\t\t\t\t},\n\t\t\t},\n\t\t\t'& .MuiListItemIcon-root': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tadxLink: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\t'&:hover': {\n\t\t\t\tcolor: theme.palette.text.secondary,\n\t\t\t},\n\t\t},\n\t\tsideSwitch: {\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\n\t\t},\n\t\ticon: {\n\t\t\theight: 32,\n\t\t\twidth: 'auto',\n\t\t\tcursor: 'pointer',\n\t\t},\n\t\tamount: {\n\t\t\tfontSize: theme.typography.pxToRem(18),\n\t\t},\n\t}\n})\n\nfunction SideNav(props) {\n\tconst theme = useTheme()\n\n\tconst side = useSelector(selectSide)\n\tconst identity = useSelector(selectAccountIdentityAddr)\n\tconst classes = useStyles({ side })\n\tconst routerLocation = useSelector(selectLocation)\n\tconst { symbol } = useSelector(selectMainToken)\n\n\t// TODO: test location\n\tconst location = routerLocation.pathname.split('/')[3]\n\tconst isAdvertiser = side === 'advertiser'\n\tconst items = isAdvertiser ? 'units' : 'slots'\n\tconst { availableIdentityBalanceAllMainToken } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\n\tconst AdxIcon = theme.type === 'dark' ? RRAdexIconTxtDark : RRAdexIconTxt\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\tjustifyContent='space-between'\n\t\t\tflexGrow='1'\n\t\t>\n\t\t\t<Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<AdxIcon\n\t\t\t\t\t\t\t\t// @cryptofan\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\n\t\t\t\t\t\t\t\tclassName={classes.icon}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceAllMainToken &&\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceAllMainToken !== 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tvariant='button'\n\t\t\t\t\t\t\t\t\tdisplay='block'\n\t\t\t\t\t\t\t\t\tcomponent='div'\n\t\t\t\t\t\t\t\t\tcolor='textPrimary'\n\t\t\t\t\t\t\t\t\tclasses={{ button: classes.amount }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceAllMainToken ||\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant='button' component='div' display='block'>\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Box>\n\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\n\t\t\t</Box>\n\n\t\t\t<Box\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='column'\n\t\t\t\tjustifyContent='space-between'\n\t\t\t\tflex='1'\n\t\t\t>\n\t\t\t\t<Box>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<DashboardIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\n\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t[classes.active]: location === items,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<ListIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\n\t\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<CampaignIcon />\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\n\t\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/audiences' }}\n\t\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'audiences',\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<AudienceIcon />\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('AUDIENCES')} />\n\t\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{side === 'publisher' && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/publisher/websites' }}\n\t\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'websites',\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<WebsitesIcon />\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('WEBSITES')} />\n\t\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/publisher/receipts' }}\n\t\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'receipts',\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<Receipt />\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('RECEIPTS')} />\n\t\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</List>\n\t\t\t\t</Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/topup' }}\n\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t[classes.active]: location === 'topup',\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<MonetizationOnIcon color='secondary' />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('TOP_UP')} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<HelpOutlineIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={`${ETH_SCAN_ADDR_HOST + identity}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t[classes.active]: location === 'account',\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t</List>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\n\t\t\t<Box>\n\t\t\t\t<ListDivider />\n\t\t\t\t<ListItem>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\n\t\t\t\t\t\t\t\t<Anchor target='_blank' href={process.env.ADEX_SITE_HOST}>\n\t\t\t\t\t\t\t\t\tAdEx Network OÜ\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_SITE_HOST}/tos`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('TOS')}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\tprocess.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tAdEx (ADX) Token\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t<small> / </small>\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\tprocess.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tAdExCore\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref='https://github.com/AdExNetwork/adex-platform/blob/development/CHANGELOG.md.'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tv.{packageJson.version}-beta\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Box>\n\t\t\t\t</ListItem>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default SideNav\n","import React, { useState, Children, cloneElement } from 'react'\nimport { Menu, Button } from '@material-ui/core'\n\nconst ImgIcon = ({ src }) => {\n\treturn (\n\t\t<img\n\t\t\tsrc={src}\n\t\t\theight={36}\n\t\t\twidth='auto'\n\t\t\talt='logo'\n\t\t\tstyle={{ marginRight: 5 }}\n\t\t/>\n\t)\n}\n\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\n\tconst [anchorEl, setAnchorEl] = useState(null)\n\n\tconst handleMenu = event => {\n\t\tsetAnchorEl(event.currentTarget)\n\t}\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tstyle={btnStyle}\n\t\t\t\tonClick={handleMenu}\n\t\t\t\taria-haspopup='true'\n\t\t\t\taria-controls={id}\n\t\t\t>\n\t\t\t\t{leftIcon}\n\t\t\t\t<span\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmaxWidth: 150,\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</span>\n\t\t\t\t{rightIcon}\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\tid={id}\n\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: 'bottom',\n\t\t\t\t\thorizontal: 'right',\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: 'top',\n\t\t\t\t\thorizontal: 'right',\n\t\t\t\t}}\n\t\t\t\tonClick={handleClose}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{Children.map(children, child =>\n\t\t\t\t\tcloneElement(child, {\n\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\ttypeof child.props.onClick === 'function' && child.props.onClick()\n\t\t\t\t\t\t\thandleClose()\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t)}\n\t\t\t</Menu>\n\t\t</>\n\t)\n}\n\nexport default ButtonMenu\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { translate } from 'services/translations/translations'\nimport { selectLang } from 'selectors'\n\nexport default function Translate(Decorated) {\n\tfunction Translated(props) {\n\t\tconst language = useSelector(selectLang)\n\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\n\t\t\tconst translation = translate(val, { isProp, args }, language)\n\n\t\t\treturn translation\n\t\t}\n\n\t\treturn <Decorated {...props} t={t} />\n\t}\n\n\treturn Translated\n}\n","import { AUTH_TYPES } from 'constants/misc'\nimport metamaskLogo from 'resources/metamask-logo.png'\nimport trezorLogo from 'resources/trezor-logo-h.png'\nimport demoLogo from 'resources/demo-logo.png'\n\nexport const getAuthLogo = authType => {\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\treturn metamaskLogo\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\treturn trezorLogo\n\t\tcase AUTH_TYPES.DEMO.name:\n\t\t\treturn demoLogo\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n","import React, { useEffect, useState } from 'react'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport { darkTheme, lightTheme } from './themeMUi'\nimport {\n\tloadFromLocalStorage,\n\tsaveToLocalStorage,\n} from 'helpers/localStorageHelpers'\n\nconst THEMES = {\n\tlight: lightTheme,\n\tdark: darkTheme,\n}\n\nexport const MultiThemeContext = React.createContext()\n\nconst MultiThemeProvider = ({ children }) => {\n\tconst [themeType, setThemeType] = useState('light')\n\tconst [theme, setTheme] = useState(darkTheme)\n\n\tuseEffect(() => {\n\t\tconst lastTheme = loadFromLocalStorage('themeType') || 'light'\n\t\tsetThemeType(lastTheme)\n\t\tsetTheme(THEMES[lastTheme])\n\t}, [])\n\n\tconst switchTheme = () => {\n\t\tif (themeType === 'light') {\n\t\t\tsaveToLocalStorage('dark', 'themeType')\n\t\t\tsetThemeType('dark')\n\t\t\tsetTheme(THEMES['dark'])\n\t\t} else {\n\t\t\tsaveToLocalStorage('light', 'themeType')\n\t\t\tsetThemeType('light')\n\t\t\tsetTheme(THEMES['light'])\n\t\t}\n\t}\n\n\tconst contextValue = {\n\t\tthemeType,\n\t\tswitchTheme,\n\t}\n\n\treturn (\n\t\t<MultiThemeContext.Provider value={contextValue}>\n\t\t\t<MuiThemeProvider theme={theme}>{children}</MuiThemeProvider>\n\t\t</MultiThemeContext.Provider>\n\t)\n}\n\nexport default MultiThemeProvider\n","import React, { useContext } from 'react'\nimport { IconButton } from '@material-ui/core'\nimport {\n\tBrightness7Sharp as LightIcon,\n\tBrightness6Sharp as DarkIcon,\n} from '@material-ui/icons'\nimport { MultiThemeContext } from './MultiThemeProvider'\n\nexport default function ThemeSwitch() {\n\tconst { themeType, switchTheme } = useContext(MultiThemeContext)\n\n\treturn (\n\t\t<IconButton\n\t\t\tid={`theme-switch-go-to-${themeType === 'dark' ? 'light' : 'dark'}`}\n\t\t\tonClick={switchTheme}\n\t\t>\n\t\t\t{themeType === 'dark' ? <LightIcon /> : <DarkIcon />}\n\t\t</IconButton>\n\t)\n}\n","import { fade } from '@material-ui/core/styles/colorManipulator'\n\nconst drawerWidth = 250\nconst lastRowRightReserved = 169\n\nexport const styles = theme => {\n\treturn {\n\t\troot: {\n\t\t\tmarginTop: 69,\n\t\t\tflexGrow: 1,\n\t\t\toverflow: 'hidden',\n\t\t\tposition: 'relative',\n\t\t\tdisplay: 'flex',\n\t\t\theight: 'calc(100vh - 69px)',\n\t\t\twidth: '100vw',\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\t// backgroundImage:\n\t\t\t// \ttheme.type === 'dark'\n\t\t\t// \t\t? `linear-gradient(\n\t\t\t// \t335deg,\n\t\t\t// \t${fade(theme.palette.primary.main, 1)} -46%,\n\t\t\t// \t${fade(theme.palette.background.default, 1)} 44%\n\t\t\t// )`\n\t\t\t// \t\t: 0,\n\t\t\t// backgroundRepeat: 'no-repeat',\n\t\t},\n\t\tappBar: {\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\twidth: 'auto',\n\t\t\tposition: 'fixed',\n\t\t\tbackgroundColor: theme.palette.appBar.main,\n\t\t\t// marginLeft: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\n\t\t\t\tleft: drawerWidth,\n\t\t\t},\n\t\t},\n\t\tflex: {\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'row',\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tpaddingRight: theme.spacing(2),\n\t\t\tpaddingLeft: theme.spacing(2),\n\t\t},\n\n\t\tflexRow: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tflexBasis: '100%',\n\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t'&:last-child': {\n\t\t\t\tpaddingRight: lastRowRightReserved,\n\t\t\t},\n\t\t},\n\t\ttoolbarControls: {\n\t\t\tjustifyContent: 'flex-end',\n\t\t},\n\t\ttoolbarTitle: {\n\t\t\tjustifyContent: 'flex-start',\n\t\t},\n\t\ttoolbar: {\n\t\t\tflexFlow: 'wrap',\n\t\t\theight: 69,\n\t\t\tpaddingRight: 0,\n\t\t\tpaddingLeft: 0,\n\t\t},\n\t\tdrawerPaper: {\n\t\t\twidth: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tposition: 'fixed',\n\t\t\t},\n\t\t\tbackgroundColor: theme.palette.appBar.main,\n\t\t},\n\t\tcontent: {\n\t\t\tflexGrow: 1,\n\t\t\tpadding: theme.spacing(2),\n\t\t\tpaddingTop: theme.spacing(2),\n\t\t\toverflow: 'auto',\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tmarginLeft: drawerWidth,\n\t\t\t\tpadding: theme.spacing(2),\n\t\t\t\tpaddingTop: theme.spacing(2),\n\t\t\t},\n\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\tpadding: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\tcontentInner: {\n\t\t\tmaxWidth: 1420,\n\t\t\tmargin: 'auto',\n\t\t\tmarginBottom: theme.spacing(2),\n\t\t\t// Because of the floating button and table paging\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\tpaddingBottom: 146 + theme.spacing(2),\n\t\t\t},\n\t\t},\n\t\tbreadcrumbElement: {\n\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5)}px)`,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5) +\n\t\t\t\t\tdrawerWidth +\n\t\t\t\t\tlastRowRightReserved}px)`,\n\t\t\t},\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\nimport Translate from 'components/translate/Translate'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\n// import ChangeLang from 'components/translate/ChangeLang'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport { logOut } from 'services/store-data/auth'\nimport ThemeSwitch from 'components/App/ThemeSwitch'\nimport {\n\tAppBar,\n\tToolbar,\n\tTypography,\n\tBreadcrumbs,\n\tIconButton,\n\tListItemIcon,\n\tListItemText,\n\tLink,\n\tMenuItem,\n\tBox,\n\tHidden,\n} from '@material-ui/core'\n\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport { makeStyles } from '@material-ui/core/styles'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { selectAccount, selectDashboardBreadcrumbs } from 'selectors'\nimport { styles } from './styles'\nimport { formatAddress } from 'helpers/formatters'\n\nconst RRMenuItem = withReactRouterLink(MenuItem)\nconst RRLink = withReactRouterLink(Link)\nconst useStyles = makeStyles(styles)\n\nfunction TopNav({ handleDrawerToggle, side, t }) {\n\tconst classes = useStyles()\n\tconst account = useSelector(selectAccount)\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\n\tconst breadcrumbs = useSelector(selectDashboardBreadcrumbs)\n\tconst btnMenuLabel =\n\t\taccount.wallet.authType === 'demo'\n\t\t\t? t('DEMO_MODE')\n\t\t\t: account.email ||\n\t\t\t  formatAddress(account.wallet.address) ||\n\t\t\t  t('NOT_LOGGED')\n\n\treturn (\n\t\t<AppBar className={classes.appBar} color='default' position='sticky'>\n\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='row'\n\t\t\t\t\tflexGrow='1'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t>\n\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t<Box pl={1}>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\taria-label='open drawer'\n\t\t\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Hidden>\n\n\t\t\t\t\t<Hidden smDown>\n\t\t\t\t\t\t<Box display='flex' flexGrow='1' pl={2}>\n\t\t\t\t\t\t\t<Breadcrumbs aria-label='breadcrumb'>\n\t\t\t\t\t\t\t\t{breadcrumbs.map(({ to, label }, index) =>\n\t\t\t\t\t\t\t\t\tto && index < breadcrumbs.length - 1 ? (\n\t\t\t\t\t\t\t\t\t\t<RRLink key={`${index}-${to}`} to={to}>\n\t\t\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t\t\t</RRLink>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.breadcrumbElement }}\n\t\t\t\t\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t\t\t\t\t\tcomponent='div'\n\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-${label}`}\n\t\t\t\t\t\t\t\t\t\t\tcolor='textPrimary'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Breadcrumbs>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Hidden>\n\n\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center' pr={1}>\n\t\t\t\t\t\t{/* <ChangeLang /> */}\n\t\t\t\t\t\t<ThemeSwitch />\n\t\t\t\t\t\t<Jazzicon\n\t\t\t\t\t\t\tdiameter={30}\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ButtonMenu\n\t\t\t\t\t\t\tid='menu-appbar'\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RRMenuItem\n\t\t\t\t\t\t\t\tvalue='account'\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</RRMenuItem>\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tvalue='logout'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tlogOut()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</ButtonMenu>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n\nexport default Translate(TopNav)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\n// import IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport Translate from 'components/translate/Translate'\nimport { ipfsSrc } from 'helpers/ipfsHelpers'\nimport { isVideoMedia } from 'helpers/mediaHelpers'\n\nconst MAX_IMG_LOAD_TIME = 7000\nclass Img extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\timgSrc: null,\n\t\t\tactive: false,\n\t\t\tvideoSrc: null,\n\t\t}\n\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\n\t\tthis.loadTimeout = null\n\t}\n\n\thandleToggle = ev => {\n\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\tev && ev.preventDefault && ev.preventDefault()\n\t\tlet active = this.state.active\n\t\tthis.setState({ active: !active })\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\tif (isVideo && !allowVideo) {\n\t\t\treturn this.setState({\n\t\t\t\timgSrc: VIDEO_IMAGE,\n\t\t\t})\n\t\t}\n\n\t\tif (isVideo) {\n\t\t\tthis.displayVideo = document.createElement('video')\n\t\t\tthis.setDisplayVideo({\n\t\t\t\timage: ipfsSrc(src),\n\t\t\t\tfallback: ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t} else {\n\t\t\tthis.displayImage = new Image()\n\t\t\tthis.setDisplayImage({\n\t\t\t\timage: ipfsSrc(src),\n\t\t\t\tfallback: ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps = nextProps => {\n\t\tconst nextSrc = ipfsSrc(nextProps.src)\n\t\tconst thisSrc = ipfsSrc(this.props.src)\n\t\tconst nextFallback = ipfsSrc(nextProps.fallbackSrc)\n\t\tconst thisMime = this.props.mediaMime\n\t\tconst { mediaMime } = nextProps\n\n\t\tif (nextSrc !== thisSrc || thisMime !== mediaMime) {\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\t\tif (isVideo) {\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\n\t\t\t\tthis.setDisplayVideo({\n\t\t\t\t\timage: ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\n\t\t\t\tthis.setDisplayImage({\n\t\t\t\t\timage: ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.clearLoadTimeout()\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\t\t\tthis.displayImage = null\n\t\t}\n\t}\n\n\tclearLoadTimeout = () => {\n\t\tif (this.loadTimeout) {\n\t\t\tclearTimeout(this.loadTimeout)\n\t\t\tthis.loadTimeout = null\n\t\t}\n\t}\n\n\tonFail = (fallback, image) => {\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.displayImage.src = fallback\n\t\t}\n\n\t\tthis.clearLoadTimeout()\n\n\t\tthis.setState({\n\t\t\timgSrc: fallback || null,\n\t\t})\n\t}\n\n\tsetDisplayImage = ({ image, fallback }) => {\n\t\tthis.clearLoadTimeout()\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback, image)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\n\t\t\tthis,\n\t\t\tfallback\n\t\t)\n\n\t\tthis.displayImage.onload = () => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\timgSrc: image,\n\t\t\t\tvideoSrc: null,\n\t\t\t})\n\t\t}\n\n\t\tthis.displayImage.src = image\n\t}\n\n\tsetDisplayVideo = ({ image, fallback }) => {\n\t\tthis.clearLoadTimeout()\n\t\tthis.displayVideo.src = image\n\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\tvideoSrc: image,\n\t\t\t\timgSrc: null,\n\t\t\t})\n\t\t}\n\t}\n\n\tfullScreenBtn() {\n\t\tconst { classes } = this.props\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Fab\n\t\t\t\t\tsize='small'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.handleToggle()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FullscreenIcon />\n\t\t\t\t</Fab>\n\t\t\t\t{this.renderFullscreenDialog()}\n\t\t\t</span>\n\t\t)\n\t}\n\n\trenderFullscreenDialog() {\n\t\tconst { t, alt, classes, type } = this.props\n\t\tconst { active, imgSrc, videoSrc } = this.state\n\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={active}\n\t\t\t\ttype={type || 'normal'}\n\t\t\t\tmaxWidth={false}\n\t\t\t\tonClose={this.handleToggle}\n\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t>\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\n\t\t\t\t\t{imgSrc ? (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\tcontrols\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t></video>\n\t\t\t\t\t)}\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\n\t\t\t\t\t\t{t('CLOSE')}\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\talt,\n\t\t\tallowFullscreen,\n\t\t\tclassName,\n\t\t\tclassNameImg,\n\t\t\tclasses,\n\t\t\tfullScreenOnClick,\n\t\t\tonClick,\n\t\t\tisCellImg,\n\t\t\tcontrols,\n\t\t} = this.props\n\n\t\tconst { imgSrc, videoSrc } = this.state\n\t\treturn imgSrc || videoSrc ? (\n\t\t\t<div\n\t\t\t\tclassName={classnames(className, classes.wrapper, {\n\t\t\t\t\t[classes.cellImg]: !!isCellImg,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t{!!imgSrc ? (\n\t\t\t\t\t<img\n\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\tsrc={this.state.imgSrc}\n\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tclasses.imgLoading,\n\t\t\t\t\t\t\tclasses.img,\n\t\t\t\t\t\t\tclassNameImg\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\tonClick={onClick || (fullScreenOnClick && this.handleToggle)}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<video\n\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, classes.img)}\n\t\t\t\t\t\tcontrols={!!controls}\n\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\tmuted\n\t\t\t\t\t\tloop\n\t\t\t\t\t\tonClick={onClick || (fullScreenOnClick && this.handleToggle)}\n\t\t\t\t\t></video>\n\t\t\t\t)}\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\n\t\t\t</div>\n\t\t) : (\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\n\t\t\t\t<span className={classes.circular}>\n\t\t\t\t\t<CircularProgress />\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImg.propTypes = {\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\tfallbackSrc: PropTypes.string,\n\talt: PropTypes.string,\n\tallowFullscreen: PropTypes.bool,\n\tfullScreenOnClick: PropTypes.bool,\n\tmediaMime: PropTypes.string,\n}\n\nexport default Translate(withStyles(styles)(Img))\n","export const styles = theme => ({\n\timgLoading: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: '100%',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\tcircular: {\n\t\tposition: 'relative',\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\n\t\tleft: 'calc(50% - 20px)',\n\t\tdisplay: 'inline-block',\n\t},\n\tfullscreenIcon: {\n\t\tposition: 'absolute',\n\t\ttop: theme.spacing(1),\n\t\tright: theme.spacing(1),\n\t\tcursor: 'pointer',\n\t\twidth: '30px',\n\t\theight: '30px',\n\t\tminHeight: '24px',\n\t},\n\tdialog: {\n\t\t'@media(max-width:744px)': {\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t},\n\t\t'@media(max-height:823px)': {\n\t\t\tminHeight: 'auto',\n\t\t},\n\t},\n\tdialogImageParent: {\n\t\t'@media(max-width:1080px)': {\n\t\t\tmaxWidth: '80vw',\n\t\t\tmaxHeight: '100vw',\n\t\t\tdisplay: 'block',\n\t\t\tmargin: 'auto',\n\t\t},\n\t\t'@media(max-width:744px)': {\n\t\t\tpaddingLeft: 0,\n\t\t\tpaddingRight: 0,\n\t\t},\n\t},\n\tdialogImage: {\n\t\theight: 'auto',\n\t\tmaxWidth: '80vw',\n\t},\n\timg: {\n\t\twidth: '100%',\n\t\theight: '100%',\n\t\tobjectFit: 'contain',\n\t},\n\twrapper: {\n\t\theight: '100%',\n\t\twidth: '100%',\n\t},\n\tcellImg: {\n\t\t// Fixed width to avoid col resizing while loading\n\t\theight: 46,\n\t\twidth: 69,\n\t\tcursor: 'pointer',\n\t\tdisplay: 'flex',\n\t},\n})\n","import React from 'react'\nimport MUIDataTable from 'mui-datatables'\nimport { LinearProgress, Box } from '@material-ui/core'\nimport { t } from 'selectors'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst generalTableOptions = {\n\trowsPerPage: 5,\n\trowsPerPageOptions: [5, 10, 25, 50, 100],\n\tsetTableProps: () => {\n\t\treturn {\n\t\t\tpadding: 'default',\n\t\t\tsize: 'small',\n\t\t\twidth: '100%',\n\t\t\talign: 'center',\n\t\t}\n\t},\n\ttextLabels: {\n\t\tbody: {\n\t\t\tnoMatch: t('TABLE_NO_MATCH'),\n\t\t\ttoolTip: t('TABLE_TOOLTIP'),\n\t\t\tcolumnHeaderTooltip: column =>\n\t\t\t\t`${t('TABLE_HEADER_TOOLTIP', {\n\t\t\t\t\targs: [column.label || column],\n\t\t\t\t})}`,\n\t\t},\n\t\tpagination: {\n\t\t\tnext: t('TABLE_NEXT'),\n\t\t\tprevious: t('TABLE_PREV'),\n\t\t\trowsPerPage: t('TABLE_ROWS_PER_PAGE'),\n\t\t\tdisplayRows: t('TABLE_DISPLAY_ROWS'),\n\t\t},\n\t\ttoolbar: {\n\t\t\tsearch: t('TABLE_SEARCH'),\n\t\t\tdownloadCsv: t('TABLE_DL_CSV'),\n\t\t\tprint: t('TABLE_PRINT'),\n\t\t\tviewColumns: t('TABLE_VIEW_COLS'),\n\t\t\tfilterTable: t('TABLE_FILTER'),\n\t\t},\n\t\tfilter: {\n\t\t\tall: t('TABLE_FILTER_ALL'),\n\t\t\ttitle: t('TABLE_FILTER_TITLE'),\n\t\t\treset: t('TABLE_FILTER_RESET'),\n\t\t},\n\t\tviewColumns: {\n\t\t\ttitle: t('TABLE_SHOW_COLS'),\n\t\t\ttitleAria: t('TABLE_SHOW_HIDE_COLS'),\n\t\t},\n\t\tselectedRows: {\n\t\t\ttext: t('TABLE_SELECTED_ROWS'),\n\t\t\tdelete: t('TABLE_DELETE'),\n\t\t\tdeleteAria: t('TABLE_DELETE_SELECTED'),\n\t\t},\n\t},\n}\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tprogress: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nexport default function MUIDataTableEnhanced(props) {\n\tconst { title, data, columns, options, loading } = props\n\tconst classes = useStyles()\n\treturn (\n\t\t<Box>\n\t\t\t<MUIDataTable\n\t\t\t\ttitle={title}\n\t\t\t\tdata={data}\n\t\t\t\tcolumns={columns}\n\t\t\t\toptions={{\n\t\t\t\t\t...generalTableOptions,\n\t\t\t\t\t...options,\n\t\t\t\t\televation: 0,\n\t\t\t\t\tvariant: 'outlined',\n\t\t\t\t\tsearch: !props.noSearch,\n\t\t\t\t\tdownload: !props.noDownload,\n\t\t\t\t\tprint: !props.noPrint,\n\t\t\t\t\tselectableRows: props.rowSelectable ? 'multiple' : 'none',\n\t\t\t\t\tdisableToolbarSelect: props.toolbarEnabled ? false : true,\n\t\t\t\t\tresponsive: 'stacked',\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\n\t\t</Box>\n\t)\n}\n","import React from 'react'\nimport { Tooltip } from '@material-ui/core'\nimport {\n\tDoneAllSharp as DoneAllIcon,\n\tWarningSharp as WarningIcon,\n\tHourglassFullSharp as HourglassFullIcon,\n\tMonetizationOnSharp as MonetizationOnIcon,\n\tPauseSharp as PauseIcon,\n} from '@material-ui/icons'\nimport { t } from 'selectors'\n\nconst IconTooltip = ({ children, name }) => (\n\t<Tooltip title={t(name, { toUpperCase: true })} aria-label={name}>\n\t\t{children}\n\t</Tooltip>\n)\n\nconst mapStatusIcons = (status = {}, size) => {\n\tconst icon = {\n\t\txs: { fontSize: 10 },\n\t\tmd: { fontSize: 15 },\n\t\tls: { fontSize: 20 },\n\t}\n\n\tconst { name = '', humanFriendlyName = '' } = status\n\n\tconst Wait = (\n\t\t<IconTooltip name={name}>\n\t\t\t<HourglassFullIcon style={icon[size]} color={'secondary'} />\n\t\t</IconTooltip>\n\t)\n\tconst Done = (\n\t\t<IconTooltip name={name}>\n\t\t\t<DoneAllIcon style={icon[size]} color={'primary'} />\n\t\t</IconTooltip>\n\t)\n\tconst Warning = (\n\t\t<IconTooltip name={name}>\n\t\t\t<WarningIcon style={icon[size]} color={'error'} />\n\t\t</IconTooltip>\n\t)\n\tconst Cash = (\n\t\t<IconTooltip name={name}>\n\t\t\t<MonetizationOnIcon style={icon[size]} color={'secondary'} />\n\t\t</IconTooltip>\n\t)\n\n\tconst Pause = (\n\t\t<IconTooltip name={name}>\n\t\t\t<PauseIcon style={icon[size]} color={'secondary'} />\n\t\t</IconTooltip>\n\t)\n\n\tif (humanFriendlyName === 'Closed' && name.toLowerCase() !== 'exhausted')\n\t\treturn Wait\n\tif (humanFriendlyName === 'Paused') return Pause\n\n\tswitch (name.toLowerCase()) {\n\t\tcase 'active':\n\t\tcase 'ready':\n\t\t\treturn Done\n\t\tcase 'pending':\n\t\tcase 'initializing':\n\t\tcase 'waiting':\n\t\t\treturn Wait\n\t\tcase 'offline':\n\t\tcase 'disconnected':\n\t\tcase 'unhealthy':\n\t\tcase 'invalid':\n\t\t\treturn Warning\n\t\tcase 'withdraw':\n\t\t\treturn Cash\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n\nexport { mapStatusIcons }\n","import React from 'react'\nimport { Typography, Slider, Box } from '@material-ui/core'\nimport { formatAbbrNum } from 'helpers/formatters'\n\nconst getSliderStep = (min, max, steps, precision = 2) => {\n\tconst diff = max - min\n\tconst step = diff / steps\n\tconst fixed = parseFloat(step.toFixed(precision))\n\n\treturn fixed\n}\n\nexport const sliderFilterOptions = ({\n\tinitial = [],\n\tfilterTitle = '',\n\tstepsCount = 20,\n\tstepsPrecision = 2,\n}) => {\n\tconst min = initial[0] || 0\n\tconst max = initial[1] || 100\n\tconst step = getSliderStep(min, max, stepsCount, stepsPrecision)\n\treturn {\n\t\tfilter: true,\n\t\tdisplay: 'true',\n\t\tfilterType: 'custom',\n\t\tcustomFilterListOptions: {\n\t\t\trender: v =>\n\t\t\t\t`${filterTitle}: ${formatAbbrNum(v[0], 2)} - ${formatAbbrNum(v[1], 2)}`,\n\t\t\tupdate: (filterList, filterPos, index) => {\n\t\t\t\tfilterList[index] = []\n\t\t\t\treturn filterList\n\t\t\t},\n\t\t},\n\n\t\tfilterOptions: {\n\t\t\tnames: [],\n\t\t\tlogic: (rowNumber, filters) => {\n\t\t\t\tconst formated = Number(rowNumber.toString().replace(/[^0-9.]/g, ''))\n\t\t\t\tif (filters.length > 0) {\n\t\t\t\t\treturn formated < filters[0] || formated > filters[1]\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t},\n\t\t\tdisplay: (filterList, onChange, index, column) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography id={`range-slider-${column.name}`} gutterBottom>\n\t\t\t\t\t\t\t{filterTitle}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box pl={2} pr={3} pt={2}>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\t\t\tmarks={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: min,\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(min, 2),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: max,\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(max, 2),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t// Max 20 steps (5,000,000 impressions step 1 ...)\n\t\t\t\t\t\t\t\tstep={step}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\tfilterList[index].length > 0 ? filterList[index] : initial\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={(_, newValue) => {\n\t\t\t\t\t\t\t\t\tonChange(newValue, index, column)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\t\taria-labelledby={`range-slider-${column.name}`}\n\t\t\t\t\t\t\t\tgetAriaValueText={v => formatAbbrNum(v, 2)}\n\t\t\t\t\t\t\t\tvalueLabelFormat={v => formatAbbrNum(v, 2)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t}\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport { useSelector } from 'react-redux'\nimport { selectInitialDataLoaded } from 'selectors'\n\nexport function useTableData({ selector, selectorArgs, getColumns }) {\n\tconst initialDataLoaded = useSelector(selectInitialDataLoaded)\n\tconst [data, setData] = useState([])\n\tconst [columns, setColumns] = useState([])\n\n\tconst selectedData = useSelector(state => selector(state, selectorArgs))\n\n\tconst reloadData = useCallback(() => {\n\t\tsetData(selectedData)\n\t\tsetColumns(getColumns())\n\t}, [getColumns, selectedData])\n\n\tuseEffect(() => {\n\t\treloadData()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [selectedData.length, selector, selectorArgs, initialDataLoaded])\n\n\treturn { data, columns, reloadData }\n}\n","import React, { Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tIconButton,\n\tTooltip,\n\tBox,\n\tButton,\n\tCircularProgress,\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Refresh, Receipt, Print } from '@material-ui/icons'\nimport { t, selectSpinnerById } from 'selectors'\nimport { PRINTING_CAMPAIGNS_RECEIPTS } from 'constants/spinners'\n\nconst useStyles = makeStyles(theme => ({\n\twrapper: {\n\t\tmargin: theme.spacing(1),\n\t\tposition: 'relative',\n\t},\n\tbuttonProgress: {\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}))\n\nexport function ReloadData({ handleReload }) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip arrow title={t('RELOAD_DATA')}>\n\t\t\t\t<IconButton onClick={handleReload}>\n\t\t\t\t\t<Refresh />\n\t\t\t\t</IconButton>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n\nexport function ViewAllReceipts({ handleViewAllReceipts }) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip arrow title={t('VIEW_ALL_RECEIPTS_DATA')}>\n\t\t\t\t<IconButton onClick={handleViewAllReceipts}>\n\t\t\t\t\t<Receipt />\n\t\t\t\t</IconButton>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n\nexport function PrintAllReceipts({ handlePrintAllReceipts, disabled }) {\n\tconst classes = useStyles()\n\tconst receiptsSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, PRINTING_CAMPAIGNS_RECEIPTS)\n\t)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip arrow title={t('RECEIPTS_PRINT_ALL')}>\n\t\t\t\t<Box ml={2} mr={2}>\n\t\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tstartIcon={<Print />}\n\t\t\t\t\t\t\tonClick={handlePrintAllReceipts}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisabled={disabled || receiptsSpinner}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('RECEIPTS_PRINT_ALL')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{receiptsSpinner && (\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</Box>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n","import React, { Fragment } from 'react'\nimport { Tooltip, IconButton } from '@material-ui/core'\nimport { Visibility, Receipt } from '@material-ui/icons'\nimport Img from 'components/common/img/Img'\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport {\n\tt,\n\tselectCampaignsTableData,\n\tselectMainToken,\n\tselectSide,\n\tselectCampaignsMaxImpressions,\n\tselectCampaignsMaxClicks,\n\tselectCampaignsMaxDeposit,\n\tselectInitialDataLoadedByData,\n\tselectCampaignDisplayStatus,\n} from 'selectors'\nimport { utils } from 'ethers'\nimport { execute, handlePrintSelectedReceiptsAdvertiser } from 'actions'\nimport { useSelector } from 'react-redux'\nimport { formatDateTime, truncateString, formatDate } from 'helpers/formatters'\nimport { sliderFilterOptions } from './commonFilters'\nimport { useTableData } from './tableHooks'\nimport { ReloadData, PrintAllReceipts } from './toolbars'\n\nconst RRIconButton = withReactRouterLink(IconButton)\nconst RRImg = withReactRouterLink(Img)\n\nconst getCols = ({ symbol, maxImpressions, maxDeposit, maxClicks }) => [\n\t{\n\t\tname: 'id',\n\t\toptions: {\n\t\t\tdisplay: 'excluded',\n\t\t\tfilter: false,\n\t\t},\n\t},\n\t{\n\t\tname: 'receiptAvailable',\n\t\toptions: {\n\t\t\tdisplay: 'excluded',\n\t\t\tdownload: false,\n\t\t\tfilter: false,\n\t\t},\n\t},\n\t{\n\t\tname: 'media',\n\t\tlabel: t('PROP_MEDIA'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: false,\n\t\t\tdownload: false,\n\t\t\tcustomBodyRender: ({ side, id, mediaUrl, mediaMime, to }) => {\n\t\t\t\treturn (\n\t\t\t\t\t<RRImg\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tisCellImg\n\t\t\t\t\t\tsrc={mediaUrl}\n\t\t\t\t\t\talt={id}\n\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\tto={to}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tname: 'status',\n\t\tlabel: t('PROP_STATUS'),\n\t\toptions: {\n\t\t\tfilter: true,\n\t\t\tsort: false,\n\t\t\tfilterOptions: {\n\t\t\t\tnames: ['ACTIVE', 'SCHEDULED', 'CLOSED', 'COMPLETED', 'PAUSED'],\n\t\t\t\tlogic: ({ status }, filters) => {\n\t\t\t\t\tif (filters.length)\n\t\t\t\t\t\treturn !filters.includes(selectCampaignDisplayStatus(status))\n\t\t\t\t\treturn false\n\t\t\t\t},\n\t\t\t},\n\t\t\tcustomBodyRender: ({ status, id }) => (\n\t\t\t\t<Fragment key={id}>\n\t\t\t\t\t{t(selectCampaignDisplayStatus(status))}{' '}\n\t\t\t\t\t{mapStatusIcons(status, 'xs')}\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t\t// TODO: Sorting issue\n\t\t},\n\t},\n\t{\n\t\tname: 'title',\n\t\tlabel: t('PROP_TITLE'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\n\t\t},\n\t},\n\t{\n\t\tname: 'depositAmount',\n\t\tlabel: t('PROP_DEPOSIT'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: depositAmount => (\n\t\t\t\t<Fragment>{`${depositAmount.toFixed(2)} ${symbol}`}</Fragment>\n\t\t\t),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxDeposit],\n\t\t\t\tfilterTitle: t('DEPOSIT_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'fundsDistributedRatio',\n\t\tlabel: t('PROP_SERVED'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: fundsDistributedRatio =>\n\t\t\t\t`${((fundsDistributedRatio || 0) / 10).toFixed(2)} %`,\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, 100],\n\t\t\t\tfilterTitle: t('DISTRIBUTED_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'impressions',\n\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxImpressions],\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'clicks',\n\t\tlabel: t('CHART_LABEL_CLICKS'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: clicks => utils.commify(clicks || 0),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxClicks],\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'ctr',\n\t\tlabel: t('LABEL_CTR'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: ctr => `${(ctr || 0).toFixed(2)} %`,\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, 100],\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'minPerImpression',\n\t\tlabel: t('CPM_MIN'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: minPerImpression =>\n\t\t\t\t`${minPerImpression.toFixed(2)} ${symbol}`,\n\t\t},\n\t},\n\t// {\n\t// \tname: 'maxPerImpression',\n\t// \tlabel: t('CPM_MAX'),\n\t// \toptions: {\n\t// \t\tfilter: false,\n\t// \t\tsort: true,\n\t// \t\tcustomBodyRender: maxPerImpression =>\n\t// \t\t\t`${maxPerImpression.toFixed(2)} ${symbol}`,\n\t// \t},\n\t// },\n\t{\n\t\tname: 'created',\n\t\tlabel: t('PROP_CREATED'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tsortDirection: 'desc',\n\t\t\tcustomBodyRender: created => formatDate(created),\n\t\t},\n\t},\n\t{\n\t\tname: 'activeFrom',\n\t\tlabel: t('PROP_STARTS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tdisplay: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: activeFrom => formatDateTime(activeFrom),\n\t\t},\n\t},\n\t{\n\t\tname: 'withdrawPeriodStart',\n\t\tlabel: t('PROP_ENDS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tdisplay: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: withdrawPeriodStart =>\n\t\t\t\tformatDateTime(withdrawPeriodStart),\n\t\t},\n\t},\n\t{\n\t\tname: 'actions',\n\t\tlabel: t('ACTIONS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tdownload: false,\n\t\t\tcustomBodyRender: ({ side, id, receiptReady, to, toReceipt }) => (\n\t\t\t\t<Fragment key={id}>\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\tarrow\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\n\t\t\t\t\t\t// placement='top'\n\t\t\t\t\t\tenterDelay={1000}\n\t\t\t\t\t>\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\n\t\t\t\t\t\t\t<Visibility color='primary' />\n\t\t\t\t\t\t</RRIconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\tarrow\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\treceiptReady\n\t\t\t\t\t\t\t\t? t('RECEIPT_VIEW')\n\t\t\t\t\t\t\t\t: 'Report not available until the campaign is completed'\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// placement='top'\n\t\t\t\t\t\tenterDelay={1000}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* SPAN needed to enable tooltip on hover of disabled element\n\t\t\t\t\t\t https://material-ui.com/components/tooltips/#disabled-elements\n\t\t\t\t\t\t*/}\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<RRIconButton\n\t\t\t\t\t\t\t\tto={toReceipt}\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\taria-label='receip'\n\t\t\t\t\t\t\t\tdisabled={!receiptReady}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Receipt color={receiptReady ? 'primary' : 'disabled'} />\n\t\t\t\t\t\t\t</RRIconButton>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t},\n\t},\n]\n\nconst onDownload = (buildHead, buildBody, columns, data, decimals, symbol) => {\n\tconst mappedData = data.map(i => ({\n\t\tindex: i.index,\n\t\tdata: [\n\t\t\ti.data[0],\n\t\t\ti.data[1],\n\t\t\ti.data[2],\n\t\t\ti.data[3].humanFriendlyName,\n\t\t\t`${i.data[4]} ${symbol}`,\n\t\t\t`${((i.data[5] || 0) / 10).toFixed(2)} %`,\n\t\t\ti.data[6],\n\t\t\ti.data[7],\n\t\t\ti.data[8],\n\t\t\tformatDateTime(i.data[9]),\n\t\t\tformatDateTime(i.data[10]),\n\t\t\tformatDateTime(i.data[11]),\n\t\t],\n\t}))\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\n}\n\nconst getOptions = ({ decimals, symbol, reloadData }) => ({\n\tfilterType: 'multiselect',\n\tselectableRows: 'none',\n\tonDownload: (buildHead, buildBody, columns, data) =>\n\t\tonDownload(buildHead, buildBody, columns, data, decimals, symbol),\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\n\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\n\t\tconst selectedItems = displayData\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\n\t\t\t.map(item => item.data[0])\n\t\treturn (\n\t\t\t<PrintAllReceipts\n\t\t\t\thandlePrintAllReceipts={() =>\n\t\t\t\t\texecute(handlePrintSelectedReceiptsAdvertiser(selectedItems))\n\t\t\t\t}\n\t\t\t\tdisabled={selectedItems.length === 0}\n\t\t\t/>\n\t\t)\n\t},\n})\n\nfunction CampaignsTable(props) {\n\tconst side = useSelector(selectSide)\n\tconst maxImpressions = useSelector(selectCampaignsMaxImpressions)\n\tconst maxClicks = useSelector(selectCampaignsMaxClicks)\n\tconst maxDeposit = useSelector(selectCampaignsMaxDeposit)\n\tconst { symbol, decimals } = useSelector(selectMainToken)\n\tconst campaignsLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'campaigns')\n\t)\n\n\tconst { data, columns, reloadData } = useTableData({\n\t\tselector: selectCampaignsTableData,\n\t\tselectorArgs: side,\n\t\tgetColumns: () =>\n\t\t\tgetCols({\n\t\t\t\tdecimals,\n\t\t\t\tsymbol,\n\t\t\t\tmaxImpressions,\n\t\t\t\tmaxClicks,\n\t\t\t\tmaxDeposit,\n\t\t\t}),\n\t})\n\n\tconst options = getOptions({ decimals, symbol, reloadData })\n\n\treturn (\n\t\t<MUIDataTableEnhanced\n\t\t\ttitle={t('ALL_CAMPAIGNS')}\n\t\t\tdata={data}\n\t\t\tcolumns={columns}\n\t\t\toptions={options}\n\t\t\trowSelectable\n\t\t\ttoolbarEnabled\n\t\t\tloading={!campaignsLoaded}\n\t\t\t{...props}\n\t\t/>\n\t)\n}\n\nexport default CampaignsTable\n","import React from 'react'\nimport { Box, Chip } from '@material-ui/core'\nimport { Error as ErrorIcon } from '@material-ui/icons'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { t } from 'selectors'\n\nconst getDirtyValidationErrors = (validations = {}) => {\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\n\t\tconst err = validations[key]\n\t\tif (err.dirty) {\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\n\t\t}\n\t\treturn dirtyErrs\n\t}, [])\n\n\treturn errors\n}\n\nexport const styles = theme => {\n\tconst errColor = theme.palette.error.main\n\treturn {\n\t\terrChip: {\n\t\t\tcolor: errColor,\n\t\t\tborderColor: errColor,\n\t\t\t'& svg': {\n\t\t\t\tcolor: 'inherit',\n\t\t\t},\n\t\t\tmargin: theme.spacing(0.5),\n\t\t\tbackgroundColor: theme.palette.lightGrey.main,\n\t\t},\n\t}\n}\n\nconst useStyles = makeStyles(styles)\n\nexport const DirtyErrors = ({\n\tvalidations,\n\tchipsProps = {},\n\tboxProps = {},\n}) => {\n\tconst classes = useStyles()\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\n\treturn (\n\t\t!!dirtyErrors.length && (\n\t\t\t<Box bgcolor='error.main' p={0.5} {...boxProps}>\n\t\t\t\t{dirtyErrors.map(err => (\n\t\t\t\t\t<Chip\n\t\t\t\t\t\tkey={err.field}\n\t\t\t\t\t\tclasses={{ root: classes.errChip }}\n\t\t\t\t\t\ticon={<ErrorIcon />}\n\t\t\t\t\t\tvariant='default'\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\n\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t{...chipsProps}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</Box>\n\t\t)\n\t)\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { CircularProgress, Fab } from '@material-ui/core'\nimport { Check, Save } from '@material-ui/icons'\nimport clsx from 'clsx'\n\nexport const styles = theme => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t},\n\twrapper: {\n\t\tposition: 'relative',\n\t},\n\tbuttonSuccess: {\n\t\tbackgroundColor: theme.palette.success.main,\n\t\tcolor: theme.palette.success.contrastText,\n\t\t'&:hover': {\n\t\t\tbackgroundColor: theme.palette.success.dark,\n\t\t},\n\t},\n\tfabProgress: {\n\t\tposition: 'absolute',\n\t\ttop: -5,\n\t\tleft: -5,\n\t\tzIndex: 1,\n\t\tcolor: theme.palette.grey.main,\n\t},\n\t'@keyframes pulse': {\n\t\t'0%': {\n\t\t\topacity: 1,\n\t\t\ttransform: 'scale(1)',\n\t\t},\n\t\t'50%': {\n\t\t\topacity: 0,\n\t\t\ttransform: 'scale(1.420)',\n\t\t},\n\t\t'100%': {\n\t\t\topacity: 0,\n\t\t\ttransform: 'scale(1.420)',\n\t\t},\n\t},\n\tpulse: {\n\t\toverflow: 'visible',\n\t\tposition: 'relative',\n\t\t'&::before': {\n\t\t\tcontent: '\"\"',\n\t\t\tdisplay: 'block',\n\t\t\tposition: 'absolute',\n\t\t\twidth: '100%',\n\t\t\theight: '100%',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tbackgroundColor: 'inherit',\n\t\t\tborderRadius: 'inherit',\n\t\t\ttransition: 'opacity .3s, transform .3s',\n\t\t\tanimation: '$pulse 1.69s cubic-bezier(0.23, 0, 0.420, 1) infinite',\n\t\t},\n\t},\n})\n\nconst useStyles = makeStyles(styles)\n\nexport const SaveBtn = ({\n\tspinner,\n\tsuccess,\n\tdirtyProps = [],\n\tvalidations,\n\tsave,\n\tdisabled,\n}) => {\n\tconst classes = useStyles()\n\t// const hasErrors = !!Object.keys(validations).length\n\tconst isDisabled = disabled || spinner || !dirtyProps.length\n\treturn (\n\t\t!!dirtyProps.length && (\n\t\t\t<div className={classes.wrapper}>\n\t\t\t\t<Fab\n\t\t\t\t\tclassName={clsx(classes.wrapper, {\n\t\t\t\t\t\t[classes.pulse]: !isDisabled,\n\t\t\t\t\t})}\n\t\t\t\t\tsize='medium'\n\t\t\t\t\tcolor='secondary'\n\t\t\t\t\tonClick={save}\n\t\t\t\t\tdisabled={isDisabled}\n\t\t\t\t>\n\t\t\t\t\t{/*TODO: Success */}\n\t\t\t\t\t{success ? <Check /> : <Save />}\n\t\t\t\t</Fab>\n\t\t\t\t{!!spinner && (\n\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\tsize={58}\n\t\t\t\t\t\tclassName={classes.fabProgress}\n\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t)\n}\n","import React, { Fragment, forwardRef } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Prompt } from 'react-router'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tChip,\n\tInputAdornment,\n\tIconButton,\n\tTooltip,\n\tCard,\n\tCardMedia,\n\tTextField,\n\tBox,\n\tPaper,\n\tCollapse,\n\tButton,\n} from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\nimport {\n\tInfo,\n\tEdit,\n\tUndoOutlined,\n\tOpenInNew,\n\tArchiveSharp as ArchiveIcon,\n} from '@material-ui/icons'\nimport Img from 'components/common/img/Img'\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\nimport { DirtyErrors } from 'components/common/dirtyErrors'\nimport { t, selectAuthType } from 'selectors'\nimport { execute, confirmAction, archiveItem } from 'actions'\nimport { styles } from './styles'\nimport { SaveBtn } from './SaveBtn'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst useStyles = makeStyles(styles)\n\nexport const DirtyProps = ({ dirtyProps = [], returnPropToInitialState }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Prompt when={!!dirtyProps.length} message={t('UNSAVED_CHANGES_ALERT')} />\n\t\t\t{!!dirtyProps.length && (\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexGrow={1}\n\t\t\t\t\tflexDirection='row'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='flex-start'\n\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\tmr={1}\n\t\t\t\t>\n\t\t\t\t\t<Info color='inherit' className={classes.changeChip} />\n\t\t\t\t\t<span className={classes.changeChip}>{t('UNSAVED_CHANGES')}:</span>\n\t\t\t\t\t{dirtyProps.map(p => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\tvariant='default'\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\tclassName={classes.changeChip}\n\t\t\t\t\t\t\t\tkey={p.name || p}\n\t\t\t\t\t\t\t\tlabel={t(p.name || p, { isProp: true })}\n\t\t\t\t\t\t\t\tonDelete={() => {\n\t\t\t\t\t\t\t\t\treturnPropToInitialState(p)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdeleteIcon={<UndoOutlined />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n\nexport const ChangeControls = hookProps => {\n\tconst classes = useStyles()\n\tconst authType = useSelector(selectAuthType)\n\tconst { dirtyProps, spinner, validations } = hookProps\n\n\treturn (\n\t\t<div className={classes.changeControls}>\n\t\t\t<Collapse timeout={69} in={!!dirtyProps.length}>\n\t\t\t\t<Box className={classes.changeControlsPaper}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\twidth={1}\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\tbgcolor='primary.main'\n\t\t\t\t\t\tcolor='primary.contrastText'\n\t\t\t\t\t\tp={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DirtyProps {...hookProps} />\n\t\t\t\t\t\t<SaveBtn {...hookProps} />\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<DirtyErrors\n\t\t\t\t\t\tvalidations={validations}\n\t\t\t\t\t\tchipsProps={{ color: 'default', variant: 'default' }}\n\t\t\t\t\t\tboxProps={{ mt: 1 }}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\n\t\t\t\t{spinner &&\n\t\t\t\t\t(dirtyProps.includes('audienceInput') ||\n\t\t\t\t\t\tdirtyProps.includes('pricingBoundsCPMUserInput')) && (\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t{WALLET_ACTIONS_MSGS[authType || 'default'].map((msg, i) => (\n\t\t\t\t\t\t\t\t<Box mt={1} key={msg.message + i}>\n\t\t\t\t\t\t\t\t\t<Alert key={i} severity='info' variant='filled'>\n\t\t\t\t\t\t\t\t\t\t{t(msg.message)}\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t</Collapse>\n\t\t</div>\n\t)\n}\n\nexport const ItemTabsContainer = ({ children, noBackground }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Paper\n\t\t\tclassName={classes.itemTabsContainer}\n\t\t\tstyle={noBackground ? { background: 0 } : {}}\n\t\t\tvariant='outlined'\n\t\t>\n\t\t\t{children}\n\t\t</Paper>\n\t)\n}\n\nexport const ItemTabsBar = ({ children }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Paper className={classes.itemTabsBar} variant='outlined'>\n\t\t\t{children}\n\t\t</Paper>\n\t)\n}\n\nexport const ItemSpecProp = ({\n\tprop,\n\tlabel,\n\tvalue = '',\n\thelperText,\n\tInputProps,\n\t...rest\n}) => {\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid={prop}\n\t\t\tlabel={label}\n\t\t\ttype='text'\n\t\t\tmargin='dense'\n\t\t\tname={prop}\n\t\t\tvalue={value || ''}\n\t\t\t// disabled\n\t\t\treadOnly\n\t\t\thelperText={helperText}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={InputProps}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const ItemTitle = ({\n\ttitle,\n\terrTitle,\n\tupdateField,\n\tsetActiveFields,\n\treturnPropToInitialState,\n\tactiveFields = {},\n}) => {\n\tconst active = !!activeFields.title\n\tconst showError = !!errTitle && errTitle.dirty\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-title'\n\t\t\tlabel={t('title', { isProp: true })}\n\t\t\ttype='text'\n\t\t\tname='title'\n\t\t\tvalue={title || ''}\n\t\t\tonChange={ev => {\n\t\t\t\tupdateField('title', ev.target.value)\n\t\t\t}}\n\t\t\tdisabled={!active}\n\t\t\terror={showError}\n\t\t\thelperText={\n\t\t\t\tshowError ? t(errTitle.errMsg, { args: errTitle.errMsgArgs }) : ''\n\t\t\t}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: (\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('title')\n\t\t\t\t\t\t\t\t\t: setActiveFields('title', true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const ItemDescription = ({\n\tdescription,\n\terrDescription,\n\tupdateField,\n\tsetActiveFields,\n\treturnPropToInitialState,\n\tactiveFields = {},\n}) => {\n\tconst active = !!activeFields.description\n\tconst showError = !!errDescription && errDescription.dirty\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-description'\n\t\t\tlabel={t('description', { isProp: true })}\n\t\t\ttype='text'\n\t\t\tname='description'\n\t\t\tvalue={description || ''}\n\t\t\tonChange={ev => {\n\t\t\t\tupdateField('description', ev.target.value)\n\t\t\t}}\n\t\t\tmaxLength={1024}\n\t\t\tmultiline\n\t\t\trows={2}\n\t\t\tdisabled={!activeFields.description}\n\t\t\terror={showError}\n\t\t\thelperText={\n\t\t\t\tshowError\n\t\t\t\t\t? t(errDescription.errMsg, {\n\t\t\t\t\t\t\targs: errDescription.errMsgArgs,\n\t\t\t\t\t  })\n\t\t\t\t\t: ''\n\t\t\t}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: (\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('description')\n\t\t\t\t\t\t\t\t\t: setActiveFields('description', true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const ItemAdType = ({ type }) => {\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-type'\n\t\t\tlabel={t('type', { isProp: true })}\n\t\t\ttype='text'\n\t\t\tname='type'\n\t\t\tvalue={type || ''}\n\t\t\tdisabled={true}\n\t\t\tvariant='outlined'\n\t\t/>\n\t)\n}\n\nconst OpenInNewIconBtn = ({ forwardedRef, ...props }) => {\n\treturn (\n\t\t<IconButton {...props}>\n\t\t\t<OpenInNew />\n\t\t</IconButton>\n\t)\n}\n\nconst IconButtonWithRef = forwardRef((props, ref) => (\n\t<OpenInNewIconBtn {...props} forwardedRef={ref} />\n))\n\nexport const ItemTargetURL = ({ targetUrl = '', label }) => {\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-targetUrl'\n\t\t\tlabel={t(label || 'PROP_TARGETURL')}\n\t\t\ttype='text'\n\t\t\tname='targetUrl'\n\t\t\tvalue={targetUrl}\n\t\t\tdisabled={true}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: (\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\thref={targetUrl}\n\t\t\t\t\t\t\tcomponent={IconButtonWithRef}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const ItemFallbackMediaURL = ({ targetUrl = '' }) => {\n\t// TODO: need to take it from fallbackUnit\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-targetUrl'\n\t\t\tlabel={t('PROP_FALLBACKADURL')}\n\t\t\ttype='text'\n\t\t\tname='targetUrl'\n\t\t\tvalue={targetUrl}\n\t\t\tdisabled={true}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: (\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\thref={targetUrl}\n\t\t\t\t\t\t\tcomponent={IconButtonWithRef}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const MediaCard = ({ mediaUrl = '', mediaMime = '', label = '' }) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<Card className={classes.card} raised={false} variant='outlined'>\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\n\t\t\t\t<Img\n\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\tsrc={mediaUrl}\n\t\t\t\t\talt={label || t('MEDIA')}\n\t\t\t\t\tclassName={classes.img}\n\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\tallowVideo\n\t\t\t\t/>\n\t\t\t\t{label && (\n\t\t\t\t\t<Chip size='small' className={classes.mediaPropChip} label={label} />\n\t\t\t\t)}\n\t\t\t</CardMedia>\n\t\t</Card>\n\t)\n}\n\nexport const ItemWebsite = ({\n\titem = {},\n\tinitialItemState = {},\n\tvalidations,\n\tupdateField,\n\tsetActiveFields,\n\treturnPropToInitialState,\n\tactiveFields = {},\n}) => {\n\tconst { website } = item\n\tconst active = !!activeFields.website\n\tconst { website: error } = validations\n\tconst showError = !!error && error.dirty\n\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-website'\n\t\t\tlabel={t('SLOT_WEBSITE')}\n\t\t\ttype='text'\n\t\t\tname='website'\n\t\t\tvalue={website || ' '}\n\t\t\tonChange={ev => {\n\t\t\t\tupdateField('website', (ev.target.value || '').trim())\n\t\t\t}}\n\t\t\tdisabled={!!initialItemState.website || !active}\n\t\t\terror={showError}\n\t\t\thelperText={\n\t\t\t\tshowError ? (\n\t\t\t\t\tt(error.errMsg, { args: error.errMsgArgs })\n\t\t\t\t) : (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{activeFields.website && (\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t__html: t('SLOT_MIN_CPM_HELPER'),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Fragment>\n\t\t\t\t)\n\t\t\t}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: !initialItemState.website && (\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('website')\n\t\t\t\t\t\t\t\t\t: setActiveFields('website', true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const ArchiveItemBtn = ({\n\titemId,\n\titemType = '',\n\ttitle,\n\tisIconBtn,\n\tonSuccess,\n\tgoToTableOnSuccess,\n\tfullWidth,\n}) => {\n\tconst labelArgs = itemType.toUpperCase()\n\n\tconst onClick = () => {\n\t\texecute(\n\t\t\tconfirmAction(\n\t\t\t\t() =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tarchiveItem({ itemId, itemType, onSuccess, goToTableOnSuccess })\n\t\t\t\t\t),\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\tconfirmLabel: t(`ARCHIVE_CONFIRM_LABEL`, {\n\t\t\t\t\t\targs: [labelArgs],\n\t\t\t\t\t}),\n\t\t\t\t\tcancelLabel: t('CANCEL'),\n\t\t\t\t\ttitle: t(`ARCHIVE_CONFIRM_TITLE`, {\n\t\t\t\t\t\targs: [labelArgs, title],\n\t\t\t\t\t}),\n\t\t\t\t\ttext: t(`ARCHIVE_CONFIRM_INFO`, {\n\t\t\t\t\t\targs: [labelArgs, title],\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t)\n\t\t)\n\t}\n\treturn (\n\t\t<Tooltip\n\t\t\ttitle={t('LABEL_ARCHIVE', { args: [labelArgs] })}\n\t\t\taria-label='archive'\n\t\t>\n\t\t\t{isIconBtn ? (\n\t\t\t\t<IconButton onClick={onClick} aria-label={`archive-${itemId}`}>\n\t\t\t\t\t<ArchiveIcon color='action' />\n\t\t\t\t</IconButton>\n\t\t\t) : (\n\t\t\t\t<Button\n\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tonClick={onClick}\n\t\t\t\t\taria-label={`archive-${itemId}`}\n\t\t\t\t>\n\t\t\t\t\t{t('ARCHIVE')}\n\t\t\t\t</Button>\n\t\t\t)}\n\t\t</Tooltip>\n\t)\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tcard: {\n\t\t\tbackgroundColor: theme.palette.grey.main,\n\t\t\twidth: '100%',\n\t\t\tdisplay: 'block',\n\t\t\tposition: 'relative',\n\t\t\tmaxWidth: '100%',\n\t\t},\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\twidth: 'auto',\n\t\t\tmaxHeight: '100%',\n\t\t},\n\t\tbasicInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'start',\n\t\t\tflexWrap: 'wrap',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\tlabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t},\n\n\t\tbuttonLeft: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\n\t\ttextField: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\ttop: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflexWrap: 'wrap',\n\t\t\tmaxWidth: '70%',\n\t\t},\n\t\tchangesLine: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\talignItems: 'center',\n\t\t},\n\t\tchangeChip: {\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing / 2,\n\t\t\tmarginTop: spacing / 2,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: spacing,\n\t\t\tright: spacing,\n\t\t},\n\t\tmediaPropChip: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: spacing,\n\t\t\tleft: spacing,\n\t\t},\n\t\tchangeControls: {\n\t\t\tposition: 'sticky',\n\t\t\ttop: 0,\n\t\t\tzIndex: theme.zIndex.appBar,\n\t\t},\n\t\tchangeControlsPaper: {\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\tmarginBottom: 0,\n\t\t\t},\n\t\t},\n\t\titemTabsBar: {\n\t\t\t// borderBottom: 0,\n\t\t},\n\t\titemTabsContainer: {\n\t\t\tborderTop: 0,\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t},\n\t}\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tselectItemByTypeAndId,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport { execute } from 'actions'\nimport { Base } from 'adex-models'\n\nexport function useItem({ itemType, match, objModel, validateAndUpdateFn }) {\n\tconst [item, setItem] = useState({})\n\tconst [itemPlain, seItemPlain] = useState({})\n\tconst [initialItemState, setInitialItemState] = useState({})\n\tconst [activeFields, setFields] = useState({})\n\tconst [dirtyProps, setDirtyProps] = useState([])\n\tconst [validateId, setValidateId] = useState('update-default')\n\tconst [validateAfterReset, setValidateAfterReset] = useState(0)\n\n\tconst storeItem = useSelector(state =>\n\t\tselectItemByTypeAndId(state, itemType, match.params.itemId)\n\t)\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\n\tuseEffect(() => {\n\t\tif (!Object.keys(activeFields).length && !dirtyProps.length) {\n\t\t\tconst initial = new objModel(storeItem)\n\t\t\tsetItem(initial)\n\t\t\tseItemPlain(JSON.parse(JSON.stringify(storeItem)))\n\t\t\tsetInitialItemState(initial)\n\t\t\tsetValidateId(`update-${item.id}`)\n\t\t}\n\t}, [item.id, objModel, storeItem, dirtyProps, activeFields])\n\n\tconst setActiveFields = useCallback(\n\t\t(field, value) => {\n\t\t\tsetFields({ ...activeFields, [field]: value })\n\t\t},\n\t\t[activeFields]\n\t)\n\n\tconst onUpdateSuccess = () => {\n\t\tsetDirtyProps([])\n\t\tsetFields({})\n\t}\n\n\tconst validate = useCallback(\n\t\tdirty =>\n\t\t\texecute(\n\t\t\t\tvalidateAndUpdateFn({ item, itemPlain, validateId, dirty, dirtyProps })\n\t\t\t),\n\t\t[dirtyProps, item, itemPlain, validateAndUpdateFn, validateId]\n\t)\n\n\tconst save = useCallback(async () => {\n\t\texecute(\n\t\t\tvalidateAndUpdateFn({\n\t\t\t\titem,\n\t\t\t\titemPlain,\n\t\t\t\tvalidateId,\n\t\t\t\tdirty: true,\n\t\t\t\tupdate: true,\n\t\t\t\tdirtyProps,\n\t\t\t\tonUpdateSuccess,\n\t\t\t})\n\t\t)\n\t}, [dirtyProps, item, itemPlain, validateAndUpdateFn, validateId])\n\n\tconst returnPropToInitialState = useCallback(\n\t\tprop => {\n\t\t\tconst newItem = new objModel(item)\n\t\t\tconst dirtyIndex = dirtyProps.findIndex(\n\t\t\t\tp => (p.name || p) === (prop.name || prop)\n\t\t\t)\n\n\t\t\tif (dirtyIndex > -1) {\n\t\t\t\tconst newDirtyProps = [...dirtyProps]\n\t\t\t\tconst dpValue = newDirtyProps[dirtyIndex]\n\t\t\t\tnewDirtyProps.splice(dirtyIndex, 1)\n\n\t\t\t\tif (dpValue.fields) {\n\t\t\t\t\tdpValue.fields.forEach(\n\t\t\t\t\t\tprop => (newItem[prop] = initialItemState[prop])\n\t\t\t\t\t)\n\t\t\t\t} else {\n\t\t\t\t\tnewItem[dpValue] = initialItemState[prop]\n\t\t\t\t}\n\n\t\t\t\tsetItem(newItem)\n\t\t\t\tsetDirtyProps(newDirtyProps)\n\t\t\t\tsetActiveFields(prop.name || prop, false)\n\t\t\t\tsetValidateAfterReset(true)\n\t\t\t}\n\t\t},\n\t\t[dirtyProps, initialItemState, item, objModel, setActiveFields]\n\t)\n\n\tuseEffect(() => {\n\t\tif (validateAfterReset) {\n\t\t\tvalidate(false)\n\t\t}\n\t\tsetValidateAfterReset(false)\n\t}, [validateAfterReset, validate])\n\n\tconst updateField = useCallback(\n\t\t(field, value, dpValue) => {\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[field] = value\n\n\t\t\tsetItem(newItem)\n\n\t\t\tconst dp = dirtyProps.slice(0)\n\n\t\t\tif (!dp.some(p => (p.name || p) === (dpValue ? dpValue.name : field))) {\n\t\t\t\tdp.push(dpValue || field)\n\t\t\t}\n\t\t\tsetDirtyProps(dp)\n\t\t},\n\t\t[dirtyProps, item, objModel]\n\t)\n\n\tconst updateMultipleFields = useCallback(\n\t\t(newValues, dirtyFields = []) => {\n\t\t\tconst updated = Base.updateObject({ item, newValues, objModel })\n\n\t\t\tsetItem(new objModel(updated))\n\n\t\t\tconst dp = dirtyProps.slice(0)\n\t\t\tdirtyFields.forEach(field => {\n\t\t\t\tif (!dp.some(p => (p.name || p) === (field.name || field))) {\n\t\t\t\t\tdp.push(field)\n\t\t\t\t}\n\t\t\t})\n\t\t\tsetDirtyProps(dp)\n\t\t},\n\t\t[dirtyProps, item, objModel]\n\t)\n\n\treturn {\n\t\titem,\n\t\titemPlain,\n\t\tinitialItemState,\n\t\tactiveFields,\n\t\tsetActiveFields,\n\t\tdirtyProps,\n\t\treturnPropToInitialState,\n\t\tvalidate,\n\t\tvalidateId,\n\t\tvalidations,\n\t\tupdateField,\n\t\tupdateMultipleFields,\n\t\tspinner,\n\t\tsave,\n\t}\n}\n","import React, { useEffect, useState, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tStepper as StepperMUI,\n\tMobileStepper,\n\tStep,\n\tStepLabel,\n\tButton,\n\tPaper,\n\tBox,\n\tCircularProgress,\n\tTypography,\n} from '@material-ui/core'\nimport { styles } from './styles'\nimport { DirtyErrors } from 'components/common/dirtyErrors'\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\nconst StepperNav = ({ steps, currentPage, classes, ...other }) => {\n\tif (window.innerWidth <= 768) {\n\t\treturn (\n\t\t\t<Box\n\t\t\t\tflex\n\t\t\t\tflexDirection='column'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='center'\n\t\t\t>\n\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography align='center'>\n\t\t\t\t\t\t\t{(steps[currentPage] || {}).title}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\n\t\t\t\t\t<MobileStepper\n\t\t\t\t\t\tactiveStep={currentPage}\n\t\t\t\t\t\tsteps={steps.length}\n\t\t\t\t\t\tposition='static'\n\t\t\t\t\t\tvariant='text'\n\t\t\t\t\t\talign='center'\n\t\t\t\t\t\tclassName={classes.mobileStepper}\n\t\t\t\t\t></MobileStepper>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t)\n\t}\n\treturn (\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\n\t\t\t{steps.map((page, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Step key={page.title}>\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\n\t\t\t\t\t</Step>\n\t\t\t\t)\n\t\t\t})}\n\t\t</StepperMUI>\n\t)\n}\n\nconst MaterialStepper = props => {\n\tconst {\n\t\tinitialPage = 0,\n\t\tsteps = [],\n\t\tcloseDialog,\n\t\t// ...rest\n\t} = props\n\tconst classes = useStyles()\n\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\n\tconst [isBack, setIsBack] = useState(false)\n\tconst canReverse = steps.length > currentPage && currentPage > 0\n\n\tconst page = steps[currentPage] || {}\n\tconst pageProps = page.props || {}\n\tconst { validateId } = pageProps\n\tconst Comp = page.component || null\n\tconst {\n\t\tvalidationFn,\n\t\tonValid,\n\t\tstepsId,\n\t\tcompleteFn,\n\t\tcompleteBtnTitle = '',\n\t\tnextBtnTitle = '',\n\t} = page\n\n\tconst validations = useSelector(state =>\n\t\tselectValidationsById(state, validateId)\n\t)\n\n\tconst validationSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, validateId)\n\t)\n\n\tconst stepsSpinner = useSelector(state => selectSpinnerById(state, stepsId))\n\n\tconst spinner = validationSpinner || stepsSpinner\n\n\tconst isValidPage = useCallback(() => {\n\t\treturn !Object.keys(validations || {}).length\n\t}, [validations])\n\n\t// const canAdvance = isValidPage() && !page.completeBtn\n\n\tconst goToPage = useCallback(\n\t\tasync nextStep => {\n\t\t\tconst canAdvance = nextStep > currentPage\n\t\t\tconst canGoBack = nextStep < currentPage\n\n\t\t\tif (canAdvance || canGoBack) {\n\t\t\t\tsetCurrentPage(nextStep)\n\t\t\t}\n\t\t},\n\t\t[currentPage]\n\t)\n\n\tconst goToPreviousPage = useCallback(async () => {\n\t\tif (canReverse) {\n\t\t\tgoToPage(currentPage - 1)\n\t\t\tsetIsBack(true)\n\t\t}\n\t}, [canReverse, currentPage, goToPage])\n\n\tconst goToNextPage = useCallback(async () => {\n\t\tsetIsBack(false)\n\t\tif (validationFn) {\n\t\t\tvalidationFn({\n\t\t\t\tstepsId,\n\t\t\t\tvalidateId,\n\t\t\t\tdirty: true,\n\t\t\t\tonValid: onValid || (() => goToPage(currentPage + 1)),\n\t\t\t})\n\t\t} else if (isValidPage()) {\n\t\t\tgoToPage(currentPage + 1)\n\t\t}\n\t}, [\n\t\tvalidationFn,\n\t\tisValidPage,\n\t\tstepsId,\n\t\tvalidateId,\n\t\tonValid,\n\t\tgoToPage,\n\t\tcurrentPage,\n\t])\n\n\tconst handleComplete = useCallback(async () => {\n\t\tawait completeFn({\n\t\t\tstepsId,\n\t\t\tvalidateId,\n\t\t\tonValid: () => typeof closeDialog === 'function' && closeDialog(),\n\t\t})\n\t}, [closeDialog, completeFn, stepsId, validateId])\n\n\tuseEffect(() => {\n\t\tif (!isBack && validationFn) {\n\t\t\tvalidationFn({ stepsId, validateId, dirty: false })\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [currentPage, validationFn, stepsId, validateId])\n\n\tconst onKeyPressed = useCallback(\n\t\tasync ev => {\n\t\t\tif (ev.key === 'Enter') {\n\t\t\t\tev.preventDefault()\n\t\t\t\tgoToNextPage()\n\t\t\t}\n\t\t},\n\t\t[goToNextPage]\n\t)\n\n\treturn (\n\t\t<Box\n\t\t\tclassName={classes.stepperWrapper}\n\t\t\tonKeyPress={onKeyPressed}\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='space-between'\n\t\t>\n\t\t\t<Box mb={1}>\n\t\t\t\t<Paper\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\troot: classes.stepperNav,\n\t\t\t\t\t}}\n\t\t\t\t\televation={0}\n\t\t\t\t>\n\t\t\t\t\t<StepperNav\n\t\t\t\t\t\t{...props}\n\t\t\t\t\t\tsteps={steps}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\tgoToPage={goToPage}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.pagePaper,\n\t\t\t\t}}\n\t\t\t\televation={0}\n\t\t\t>\n\t\t\t\t{!!Comp && <Comp {...pageProps} />}\n\t\t\t</Paper>\n\n\t\t\t<DirtyErrors validations={validations} />\n\n\t\t\t<Box mt={1}>\n\t\t\t\t<div className={classes.left}>\n\t\t\t\t\t{canReverse && (\n\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className={classes.right}>\n\t\t\t\t\t{typeof page.cancelFunction === 'function' && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\ttypeof closeDialog === 'function' && closeDialog()\n\t\t\t\t\t\t\t\tpage.cancelFunction(stepsId)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('CANCEL')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\n\t\t\t\t\t\t{typeof completeFn === 'function' ? (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={handleComplete}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(completeBtnTitle || 'DO_IT_NOW')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={goToNextPage}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(nextBtnTitle || 'CONTINUE')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{spinner && (\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nMaterialStepper.propTypes = {\n\tsteps: PropTypes.array.isRequired,\n}\n\nexport default MaterialStepper\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst errColor = theme.palette.error.main\n\treturn {\n\t\troot: {\n\t\t\tcolor: 'purple',\n\t\t\t'&$active': {\n\t\t\t\tcolor: 'green',\n\t\t\t},\n\t\t},\n\t\tactive: {\n\t\t\tcolor: 'yellow',\n\t\t},\n\t\tstepperWrapper: {\n\t\t\tposition: 'absolute',\n\t\t\toverflow: 'hidden',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t},\n\t\tpagePaper: {\n\t\t\tflex: '1 1 auto',\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t\theight: 0,\n\t\t\tpadding: spacing,\n\t\t},\n\t\tright: {\n\t\t\ttextAlign: 'right',\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '86%',\n\t\t\t},\n\t\t},\n\t\tleft: {\n\t\t\tdisplay: 'inline-block',\n\t\t\ttextAlign: 'left',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '14%',\n\t\t\t},\n\t\t},\n\t\tmobileStepper: {\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmarginLeft: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t}\n}\n","import React, { forwardRef, useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport { t, selectLocationQuery } from 'selectors'\n\nfunction FormSteps({ cancelFunction, stepsId, steps, closeDialog, ...rest }) {\n\tconst [stepperSteps, setSteps] = useState([])\n\tconst { step = 0 } = useSelector(selectLocationQuery)\n\n\tuseEffect(() => {\n\t\tconst updatedSteps = steps.map((s, index) => ({\n\t\t\t...s,\n\t\t\tstepsId,\n\t\t\ttitle: t(s.title),\n\t\t\tcancelFunction,\n\t\t\tprops: { ...rest, stepsId, validateId: stepsId + '-' + index },\n\t\t}))\n\n\t\tsetSteps(updatedSteps)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [stepsId])\n\n\treturn (\n\t\t<MaterialStepper\n\t\t\tinitialPage={step}\n\t\t\tsteps={stepperSteps}\n\t\t\tcloseDialog={closeDialog}\n\t\t/>\n\t)\n}\n\nFormSteps.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tsteps: PropTypes.arrayOf(PropTypes.object),\n}\n\nexport default forwardRef((props, ref) => (\n\t<FormSteps {...props} forwardedRef={ref} />\n))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tdialog: {\n\t\t\theight: `calc(100vh - ${spacing}px)`,\n\t\t\tminWidth: 1024,\n\t\t\tmaxWidth: 1080,\n\t\t\tbackgroundColor: theme.palette.appBar.main,\n\t\t\t'@media(max-width:1080px)': {\n\t\t\t\tmaxWidth: '100%',\n\t\t\t\tminWidth: `calc(100vw - ${spacing}px)`,\n\t\t\t},\n\t\t},\n\t\tdialogTitle: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t\twordWrap: 'break-word',\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: theme.spacing(2),\n\t\t\tmarginBottom: 0,\n\t\t\tpadding: 0,\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: spacing,\n\t\t\toverflow: 'visible',\n\t\t\toverflowY: 'auto',\n\t\t},\n\t\tcontentBox: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: 1,\n\t\t},\n\t\tpropRow: {\n\t\t\tmargin: '10px 0',\n\t\t\twidth: '100%',\n\t\t},\n\t\tcontentBody: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tcontentTopLoadingCircular: {\n\t\t\tflexShrink: 0,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tcontentTopLoading: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t\t'& > div': {\n\t\t\t\tpadding: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttextBtn: {\n\t\t\tcursor: 'pointer',\n\t\t},\n\t\tbtnIconLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tleftCol: {\n\t\t\ttextTransform: 'uppercase',\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\n\t\t\ttextAlign: 'right',\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\ttextAlign: 'left',\n\t\t\t},\n\t\t},\n\t\trightCol: {\n\t\t\ttextAlign: 'left',\n\t\t},\n\t\tprogressCircleCenter: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 30px)',\n\t\t\ttop: 'calc(50% - 30px)',\n\t\t},\n\t\tfloating: {\n\t\t\tposition: 'sticky',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tmarginBottom: theme.spacing(1),\n\t\t\tzIndex: theme.zIndex.appBar,\n\t\t\t'& svg': {\n\t\t\t\tmarginRight: theme.spacing(1),\n\t\t\t},\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\tmarginBottom: 0,\n\t\t\t\tposition: 'fixed',\n\t\t\t\ttop: 'auto',\n\t\t\t\tleft: 'auto',\n\t\t\t\tbottom: spacing,\n\t\t\t\tright: spacing,\n\t\t\t},\n\t\t},\n\t\tbreakLong: {\n\t\t\twordBreak: 'break-word',\n\t\t\toverflowWrap: 'break-word',\n\t\t\thyphens: 'auto',\n\t\t},\n\t\tdemoImg: {\n\t\t\ttop: 'auto',\n\t\t\tleft: 'auto',\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\twidth: '100px',\n\t\t\theight: 'auto',\n\t\t\tposition: 'absolute',\n\t\t},\n\t\tdemoBody: {\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontentStickyTop: {\n\t\t\tmarginBottom: '2rem',\n\t\t\tposition: 'sticky',\n\t\t\ttop: 0,\n\t\t\tzIndex: theme.zIndex.appBar,\n\t\t\tbackgroundColor: theme.palette.appBar.main,\n\t\t},\n\t\tfullContentMessage: {\n\t\t\tdisplay: 'flex',\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t},\n\t}\n}\n","import React, { Fragment, useState, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport classnames from 'classnames'\nimport Slide from '@material-ui/core/Slide'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Typography from '@material-ui/core/Typography'\nimport { t } from 'selectors'\nimport { selectLocation } from 'selectors'\nimport { useSelector } from 'react-redux'\nimport ReactGA from 'react-ga'\n\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={classnames(classes.textBtn, className)}\n\t\t\tstyle={style}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{' '}\n\t\t\t{label}{' '}\n\t\t</span>\n\t)\n}\n\nconst TextBtn = withStyles(styles)(textBtn)\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction='up' ref={ref} {...props} />\n})\n\nconst eventMap = location => ({\n\tNEW_UNIT: {\n\t\taction: 'advertiser',\n\t\tcategory: 'add_unit',\n\t\tlabel: `units${location}`,\n\t},\n\tNEW_CAMPAIGN: {\n\t\taction: 'advertiser',\n\t\tcategory: 'add_campaign',\n\t\tlabel: `campaigns${location}`,\n\t},\n\tNEW_AUDIENCE: {\n\t\taction: 'advertiser',\n\t\tcategory: 'save_audience',\n\t\tlabel: `audiences${location}`,\n\t},\n\tNEW_CAMPAIGN_FROM_AUDIENCE: {\n\t\taction: 'advertiser',\n\t\tcategory: 'add_campaign',\n\t\tlabel: `audiences${location}`,\n\t},\n\tNEW_SLOT: {\n\t\taction: 'publisher',\n\t\tcategory: 'add_slot',\n\t\tlabel: `slots${location}`,\n\t},\n\tNEW_WEBSITE: {\n\t\taction: 'publisher',\n\t\tcategory: 'add_website',\n\t\tlabel: `websites${location}`,\n\t},\n\tACCOUNT_WITHDRAW_FROM_IDENTITY_BTN: {\n\t\taction: 'account',\n\t\tcategory: 'withdraw',\n\t\tlabel: `account`,\n\t},\n})\n\nconst useStyles = makeStyles(styles)\n\nexport default function WithDialogHoc(Decorated) {\n\tfunction WithDialog(props) {\n\t\tconst {\n\t\t\tdisableBackdropClick = false,\n\t\t\tforwardedRef,\n\t\t\ticonButton,\n\t\t\ttextButton,\n\t\t\tfabButton,\n\t\t\tvariant,\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tbtnLabelArgs,\n\t\t\tbtnLabel,\n\t\t\tdisabled,\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\ttitle,\n\t\t\tdialogActions,\n\t\t\tonClick,\n\t\t\tfullWidth,\n\t\t\tonBeforeOpen,\n\t\t\t...rest\n\t\t} = props\n\n\t\tconst btnProps = {\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tvariant,\n\t\t}\n\n\t\tconst classes = useStyles()\n\t\tconst [open, setOpen] = useState(false)\n\t\tconst location = useSelector(selectLocation)\n\n\t\tconst handleToggle = async () => {\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\n\t\t\t\tawait onBeforeOpen()\n\t\t\t}\n\n\t\t\tsetOpen(!open)\n\t\t}\n\n\t\tconst handleClick = async ev => {\n\t\t\tconst locationWithDash = location.pathname.split('/').join('-')\n\t\t\tconst eventMapFound = eventMap(locationWithDash)[btnLabel]\n\t\t\tif (eventMapFound) {\n\t\t\t\tReactGA.event(eventMapFound)\n\t\t\t}\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\t\tev && ev.preventDefault && ev.preventDefault()\n\t\t\tawait handleToggle()\n\t\t\tif (onClick) await onClick()\n\t\t}\n\n\t\tconst closeDialog = () => {\n\t\t\tsetOpen(false)\n\t\t}\n\n\t\tlet ButtonComponent = null\n\n\t\tif (iconButton) {\n\t\t\tButtonComponent = IconButton\n\t\t} else if (textButton) {\n\t\t\tButtonComponent = TextBtn\n\t\t} else if (fabButton) {\n\t\t\tButtonComponent = Fab\n\t\t} else {\n\t\t\tButtonComponent = Button\n\t\t\tbtnProps.fullWidth = fullWidth\n\t\t}\n\n\t\tconst btnLabelTranslated = btnLabel\n\t\t\t? t(btnLabel, { args: btnLabelArgs || [''] })\n\t\t\t: ''\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<ButtonComponent\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\taria-label={btnLabelTranslated}\n\t\t\t\t\tlabel={btnLabelTranslated}\n\t\t\t\t\tonClick={ev => handleClick(ev)}\n\t\t\t\t\t{...btnProps}\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{icon}\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\n\t\t\t\t</ButtonComponent>\n\t\t\t\t<Dialog\n\t\t\t\t\tdisableBackdropClick={disableBackdropClick}\n\t\t\t\t\t// disableEscapeKeyDown\n\t\t\t\t\t// maxWidth=\"xs\"\n\t\t\t\t\t// fullScreen\n\t\t\t\t\topen={open}\n\t\t\t\t\tonClose={handleToggle}\n\t\t\t\t\tTransitionComponent={Transition}\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t\t\t// onEscKeyDown={handleToggle}\n\t\t\t\t\t// onOverlayClick={handleToggle}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle\n\t\t\t\t\t\tdisableTypography\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography variant='subtitle1'>{t(title)}</Typography>\n\t\t\t\t\t\t<IconButton onClick={handleToggle} size='small'>\n\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\n\t\t\t\t</Dialog>\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\tWithDialog.propTypes = {\n\t\tbtnLabel: PropTypes.string,\n\t\ttitle: PropTypes.string.isRequired,\n\t\tfloating: PropTypes.bool,\n\t\tonBeforeOpen: PropTypes.func,\n\t}\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithDialog {...props} forwardedRef={ref} />\n\t))\n}\n","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tTextField,\n\tListSubheader,\n\tInputLabel,\n\tMenuItem,\n\tFormHelperText,\n\tFormControl,\n\tTooltip,\n\tTypography,\n\tSelect,\n} from '@material-ui/core'\nimport { InfoSharp } from '@material-ui/icons'\n\nimport { InputLoading } from 'components/common/spinners/'\nimport classnames from 'classnames'\nimport { t } from 'selectors'\n\nexport const styles = theme => ({\n\tformControl: {\n\t\tminWidth: 120,\n\t},\n\tgroupHeader: {\n\t\tbackgroundColor: theme.palette.background.paper,\n\t},\n\tmenuItem: {\n\t\twhiteSpace: 'break-spaces',\n\t\twordBreak: 'break-word',\n\t},\n\textraInfo: {\n\t\tmarginLeft: theme.spacing(1),\n\t},\n\tselect: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t},\n})\n\nconst useStyles = makeStyles(styles)\n\nconst ExtraLabel = ({ label }) =>\n\tArray.isArray(label) ? (\n\t\t<Fragment>\n\t\t\t{label.map((x, index) => (\n\t\t\t\t<Typography\n\t\t\t\t\tkey={index}\n\t\t\t\t\tdisplay='block'\n\t\t\t\t\tvariant='caption'\n\t\t\t\t\tcolor='inherit'\n\t\t\t\t>\n\t\t\t\t\t{x}\n\t\t\t\t</Typography>\n\t\t\t))}\n\t\t</Fragment>\n\t) : (\n\t\tlabel\n\t)\n\nfunction Dropdown(props) {\n\tconst classes = useStyles()\n\n\tconst {\n\t\tonChange,\n\t\tlabel = '',\n\t\tvalue,\n\t\tsource = [],\n\t\thtmlId = 'some-id',\n\t\tdisabled = false,\n\t\terror = false,\n\t\thelperText,\n\t\tfullWidth = false,\n\t\tclassName,\n\t\trequired,\n\t\tloading,\n\t\tnoSrcLabel,\n\t\tvariant,\n\t\tIconComponent,\n\t} = props\n\n\tconst handleChange = event => {\n\t\tonChange(event.target.value)\n\t}\n\n\t// TODO: add native renderer for mobile devices when supported\n\treturn (\n\t\t<Fragment>\n\t\t\t{!!source.length && !loading ? (\n\t\t\t\t<FormControl\n\t\t\t\t\tclassName={classnames(className, classes.formControl)}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\terror={error}\n\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\tvariant={variant}\n\t\t\t\t>\n\t\t\t\t\t<InputLabel htmlFor={htmlId} required={required}>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</InputLabel>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tvalue={value.id || value}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tIconComponent={IconComponent}\n\t\t\t\t\t\tclasses={{ selectMenu: classes.select }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{[...source].map(src => {\n\t\t\t\t\t\t\treturn src.group ? (\n\t\t\t\t\t\t\t\t<ListSubheader\n\t\t\t\t\t\t\t\t\tclassName={classes.groupHeader}\n\t\t\t\t\t\t\t\t\tkey={src.group.name || src.group}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{src.group.name || src.group}\n\t\t\t\t\t\t\t\t</ListSubheader>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\n\t\t\t\t\t\t\t\t\tclasses={{ selected: classes.menuItem }}\n\t\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{src.label}\n\t\t\t\t\t\t\t\t\t{!!src.extraLabel && (\n\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\tarrow\n\t\t\t\t\t\t\t\t\t\t\ttitle={<ExtraLabel label={src.extraLabel} />}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<InfoSharp\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraInfo}\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize='small'\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Select>\n\t\t\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\n\t\t\t\t</FormControl>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tvariant={variant}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t\tvalue={loading ? t('LOADING_DATA') : noSrcLabel}\n\t\t\t\t\t\thelperText={loading ? null : helperText}\n\t\t\t\t\t/>\n\t\t\t\t\t{loading && <InputLoading />}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n\nDropdown.propTypes = {\n\tlabel: PropTypes.string,\n\tonChange: PropTypes.func.isRequired,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string,\n\t\tPropTypes.bool,\n\t]),\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\n\tdisabled: PropTypes.bool,\n\terror: PropTypes.bool,\n\thtmlId: PropTypes.string.isRequired,\n\tdisplayEmpty: PropTypes.bool,\n\thelperText: PropTypes.string,\n\tIconComponent: PropTypes.elementType,\n}\n\nexport default Dropdown\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { Grid, TextField } from '@material-ui/core'\nimport Dropdown from 'components/common/dropdown'\nimport { execute, updateNewUnit } from 'actions'\nimport {\n\tt,\n\tselectValidationsById,\n\tselectNewAdUnit,\n\tselectUnitTypesSourceWithRecommendations,\n} from 'selectors'\n\nfunction AdUnitBasic({ validateId }) {\n\tconst { title, description, targetUrl, type } = useSelector(selectNewAdUnit)\n\tconst typesSources = useSelector(selectUnitTypesSourceWithRecommendations)\n\n\tconst {\n\t\ttitle: errTitle,\n\t\tdescription: errDescription,\n\t\ttargetUrl: errTargetUrl,\n\t\ttype: errType,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\tname='title'\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\tonChange={ev => execute(updateNewUnit('title', ev.target.value))}\n\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrTitle && !!errTitle.dirty ? errTitle.errMsg : t('TITLE_HELPER')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tmultiline\n\t\t\t\t\t\trows={3}\n\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(updateNewUnit('description', ev.target.value))\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewUnit('targetUrl', (ev.target.value || '').trim())\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty\n\t\t\t\t\t\t\t\t? errTargetUrl.errMsg\n\t\t\t\t\t\t\t\t: t('TARGETURL_HELPER')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={value => execute(updateNewUnit('type', value))}\n\t\t\t\t\t\tsource={typesSources}\n\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\terror={errType && !!errType.dirty}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrType && !!errType.dirty\n\t\t\t\t\t\t\t\t? errType.errMsg\n\t\t\t\t\t\t\t\t: t('UNIT_TYPE_HELPER')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nAdUnitBasic.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdUnitBasic\n","/**\n * @param {HTMLImageElement} image - Image File Object\n * @param {Object} crop - crop Object from react-image-crop\n * @param {String} fileName - Name of the returned file in Promise\n * @param {Object} size - { width, height } - for image scale\n */\nexport const getCroppedImgUrl = (image, crop, fileName, size) => {\n\tconst canvas = document.createElement('canvas')\n\tconst scaleX = image.naturalWidth / image.width\n\tconst scaleY = image.naturalHeight / image.height\n\n\tconst sourceWidth = crop.width * scaleX\n\tconst sourceHeight = crop.height * scaleY\n\tcanvas.width = sourceWidth\n\tcanvas.height = sourceHeight\n\tconst ctx = canvas.getContext('2d')\n\n\tctx.drawImage(\n\t\timage,\n\t\tcrop.x * scaleX,\n\t\tcrop.y * scaleY,\n\t\tsourceWidth,\n\t\tsourceHeight,\n\t\t0,\n\t\t0,\n\t\tsourceWidth,\n\t\tsourceHeight\n\t)\n\n\tlet finalCanvas = canvas\n\n\tif (size && size.width && size.height) {\n\t\t// Pre blurred img\n\t\tconst bl = document.createElement('canvas')\n\t\tbl.width = sourceWidth\n\t\tbl.height = sourceHeight\n\t\tconst bctx = bl.getContext('2d')\n\t\tconst blur = Math.floor(sourceWidth / size.width / 3)\n\t\tbctx.filter = `blur(${blur}px)`\n\t\tbctx.drawImage(canvas, 0, 0, sourceWidth, sourceHeight)\n\n\t\tfinalCanvas = document.createElement('canvas')\n\t\tfinalCanvas.width = size.width\n\t\tfinalCanvas.height = size.height\n\n\t\tconst sctx = finalCanvas.getContext('2d')\n\n\t\tsctx.drawImage(\n\t\t\tbl,\n\t\t\t0,\n\t\t\t0,\n\t\t\tsourceWidth,\n\t\t\tsourceHeight,\n\t\t\t0,\n\t\t\t0,\n\t\t\tsize.width,\n\t\t\tsize.height\n\t\t)\n\t}\n\n\treturn new Promise((resolve, reject) => {\n\t\tfinalCanvas.toBlob(\n\t\t\tfile => {\n\t\t\t\tif (!file) {\n\t\t\t\t\treject('Error cropping file')\n\t\t\t\t}\n\t\t\t\tfile.name = fileName\n\t\t\t\tresolve(URL.createObjectURL(file))\n\t\t\t},\n\t\t\t'image/jpeg',\n\t\t\t1\n\t\t)\n\t})\n}\n","import React from 'react'\n\nimport { OutlinedInput, InputLabel, FormControl, Box } from '@material-ui/core'\n\nconst PropBaseComponent = ({ value, inputRef, ...rest }) => (\n\t<Box {...rest}>{value}</Box>\n)\n\nconst OutlinedPropView = ({ label, value, margin }) => (\n\t<Box py={1}>\n\t\t<FormControl variant='outlined' fullWidth>\n\t\t\t<InputLabel shrink disableAnimation>\n\t\t\t\t{label}\n\t\t\t</InputLabel>\n\n\t\t\t<OutlinedInput\n\t\t\t\tmargin={margin}\n\t\t\t\tfullWidth\n\t\t\t\tnotched\n\t\t\t\treadOnly\n\t\t\t\tname={label}\n\t\t\t\tlabel={label}\n\t\t\t\tinputComponent={PropBaseComponent}\n\t\t\t\tinputProps={{ style: { height: 'auto', wordWrap: 'break-word' } }}\n\t\t\t\tvalue={value}\n\t\t\t/>\n\t\t</FormControl>\n\t</Box>\n)\n\nexport default OutlinedPropView\n","import React, { useState, useEffect, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport Img from 'components/common/img/Img'\n// import debounce from 'debounce'\nimport Dropzone from 'react-dropzone'\nimport { Button, Typography, Grid, Box } from '@material-ui/core'\nimport ReactCrop from 'react-image-crop'\nimport { getCroppedImgUrl } from 'services/images/crop'\nimport {\n\tCrop as CropIcon,\n\tClear as ClearIcon,\n\tSave as SaveIcon,\n\tCloudUpload as FileUploadIcon,\n} from '@material-ui/icons'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { t } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction ImgForm(props) {\n\tconst classes = useStyles()\n\tconst { size, onChange, label, additionalInfo, errMsg } = props\n\tconst aspect = size ? size.width / size.height : undefined\n\n\tconst [imgRef, setImgRef] = useState(null)\n\tconst [crop, setCrop] = useState({ aspect })\n\tconst [cropMode, setCropMode] = useState(false)\n\tconst [imgName, setImgName] = useState('')\n\tconst [mime, setMime] = useState(props.mime)\n\tconst [imgSrc, setImgSrc] = useState(props.imgSrc)\n\n\tuseEffect(() => {\n\t\tsetCrop({ aspect })\n\t}, [aspect])\n\n\tuseEffect(() => {\n\t\tsetMime(props.mime)\n\t\tsetImgSrc(props.imgSrc)\n\t}, [props.mime, props.imgSrc])\n\n\tconst onLoad = useCallback(img => {\n\t\tsetImgRef(img)\n\t}, [])\n\n\tconst onDrop = (acceptedFiles, rejectedFiles) => {\n\t\tconst file = acceptedFiles[0]\n\t\tif (!file) return\n\t\tconst objectUrl = URL.createObjectURL(file)\n\t\tsetImgSrc(objectUrl)\n\t\tsetImgName(file.name)\n\t\tsetMime(file.type)\n\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\n\t\tonChange({\n\t\t\ttempUrl: objectUrl,\n\t\t\tmime: file.type,\n\t\t})\n\t}\n\n\tconst preventBubbling = e => {\n\t\tif (e.stopPropagation) {\n\t\t\te.stopPropagation()\n\t\t}\n\t\tif (e.nativeEvent) {\n\t\t\te.nativeEvent.stopImmediatePropagation()\n\t\t}\n\t}\n\n\tconst onRemove = e => {\n\t\tpreventBubbling(e)\n\n\t\tif (imgSrc) {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tsetImgSrc('')\n\t\t\tsetImgName('')\n\t\t\tonChange({ tempUrl: null, mime: null })\n\t\t}\n\t}\n\n\tconst saveCropped = async () => {\n\t\tif (imgRef && crop.width > 1 && crop.height > 1) {\n\t\t\tconst croppedBlob = await getCroppedImgUrl(\n\t\t\t\timgRef,\n\t\t\t\tcrop,\n\t\t\t\t`cropped-${imgName}`,\n\t\t\t\tsize\n\t\t\t)\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tsetImgSrc(croppedBlob)\n\t\t\tsetCropMode(false)\n\t\t\tonChange({\n\t\t\t\ttempUrl: croppedBlob,\n\t\t\t\tmime,\n\t\t\t})\n\t\t} else {\n\t\t\t// TODO: Error\n\t\t}\n\t}\n\n\tconst UploadInfo = () => {\n\t\treturn (\n\t\t\t<div className={classes.uploadInfo}>\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\n\t\t\t\t\t<div className={classes.uploadActions}>\n\t\t\t\t\t\t{/* TEMP: make size required */}\n\t\t\t\t\t\t{!!size && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\tpreventBubbling(e)\n\t\t\t\t\t\t\t\t\tsetCropMode(true)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={onRemove}\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<FileUploadIcon />\n\t\t\t\t)}\n\t\t\t\t<div>\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg, .png, .mp4) </small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\n\t\t\t\t\t\t{errMsg}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tconst videoSrc = isVideoMedia(mime)\n\treturn (\n\t\t<div className={classes.imgForm}>\n\t\t\t<OutlinedPropView\n\t\t\t\tlabel={\n\t\t\t\t\timgSrc && imgName\n\t\t\t\t\t\t? `${label || 'Image'}: ${imgName}`\n\t\t\t\t\t\t: label || 'Upload image'\n\t\t\t\t}\n\t\t\t\tvalue={\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{cropMode ? (\n\t\t\t\t\t\t\t\t<div className={classes.dropzone} onClick={preventBubbling}>\n\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.imgDropzonePreview}>\n\t\t\t\t\t\t\t\t\t\t\t\t<ReactCrop\n\t\t\t\t\t\t\t\t\t\t\t\t\timageStyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '30vh',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonImageLoaded={onLoad}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcrop={crop}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={c => setCrop(c)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={saveCropped}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setCropMode(false)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Dropzone\n\t\t\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\n\t\t\t\t\t\t\t\t\tonDrop={onDrop}\n\t\t\t\t\t\t\t\t\tclassName={classes.dropzone}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.imgDropzonePreview}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={imgName || 'media'}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmediaMime={mime}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontrols={!!videoSrc}\n\t\t\t\t\t\t\t\t\t\t\t\t\tallowVideo={!!videoSrc}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t\t\t<UploadInfo />\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Dropzone>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<small> {additionalInfo} </small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nImgForm.propTypes = {\n\tlabel: PropTypes.string,\n\tsize: PropTypes.object,\n}\n\nexport default ImgForm\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tdropzone: {\n\t\t\tmarginBottom: spacing,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t\tborder: `1px dashed ${theme.palette.grey.main}`,\n\t\t\tbackground: theme.palette.background.default,\n\t\t\tpadding: 10,\n\t\t\tcursor: 'pointer',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timgDropzonePreview: {\n\t\t\theight: 320,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\tmaxHeight: '30vh',\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tdropzoneBtn: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tleftIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tuploadActions: {\n\t\t\tmarginTop: spacing,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport { Grid } from '@material-ui/core'\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\nimport { updateNewUnit, execute } from 'actions'\nimport { t, selectNewAdUnit, selectValidationsById } from 'selectors'\n\nfunction AdUnitMedia({ validateId }) {\n\tconst { type, temp } = useSelector(selectNewAdUnit)\n\tconst { temp: errImg } = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst { width, height } = getWidAndHightFromType(type)\n\tconst { tempUrl, mime } = temp\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<ImgForm\n\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\n\t\t\t\t\t\timgSrc={tempUrl || ''}\n\t\t\t\t\t\tmime={mime || ''}\n\t\t\t\t\t\tonChange={mediaProps =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewUnit('temp', {\n\t\t\t\t\t\t\t\t\t...temp,\n\t\t\t\t\t\t\t\t\t...mediaProps,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\n\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t})}\n\t\t\t\t\t\terrMsg={errImg && errImg.dirty ? errImg.errMsg : ''}\n\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nAdUnitMedia.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdUnitMedia\n","import React from 'react'\n\nimport { CircularProgress, Typography, Box } from '@material-ui/core'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { styles } from './styles.js'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { t } from 'selectors'\n\n// TODO: Use it with Grid in previews - we can have more than one in row\nexport const PropRow = ({ left, right }) => (\n\t<Box p={1}>\n\t\t<OutlinedPropView label={left} value={right} />\n\t</Box>\n)\n\nconst contentBox = ({ classes, children, className }) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\tclassName={className}\n\t>\n\t\t{children}\n\t</Box>\n)\n\nconst contentBody = ({ classes, children, className }) => (\n\t<Box flexGrow={1} className={className}>\n\t\t{children}\n\t</Box>\n)\n\nconst contentStickyTop = ({ classes, children, className }) => (\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\n)\n\nconst topLoading = ({ classes, msg, subMsg, className }) => (\n\t<div className={classnames(classes.contentTopLoading)}>\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\n\t\t<div>\n\t\t\t<Typography component='div'> {msg} </Typography>\n\t\t\t{subMsg && (\n\t\t\t\t<Typography component='div'>\n\t\t\t\t\t<strong>{subMsg}</strong>\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t</div>\n\t</div>\n)\n\nconst fullContentSpinner = ({ classes }) => (\n\t<CircularProgress\n\t\tclassName={classnames(classes.progressCircleCenter)}\n\t\tsize={50}\n\t/>\n)\n\nconst fullContentMessage = ({\n\tchildren,\n\tmsgs = [],\n\tspinner,\n\tcolor = 'primary',\n}) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\talignItems='center'\n\t\tjustifyContent='center'\n\t\tbgcolor={`${color}.main`}\n\t\tcolor={`${color}.contrastText`}\n\t>\n\t\t{spinner && (\n\t\t\t<Box p={4}>\n\t\t\t\t<CircularProgress\n\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\n\t\t\t\t\tsize={69}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t)}\n\t\t{children}\n\t\t{msgs\n\t\t\t.filter(x => !!x && x.message)\n\t\t\t.map((msg, index) => {\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\n\t\t\t\treturn (\n\t\t\t\t\t<Typography key={index} component='div'>\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\n\t\t\t\t\t</Typography>\n\t\t\t\t)\n\t\t\t})}\n\t</Box>\n)\n\nexport const ContentBox = withStyles(styles)(contentBox)\nexport const ContentBody = withStyles(styles)(contentBody)\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\nexport const TopLoading = withStyles(styles)(topLoading)\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\n","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\nimport WcIcon from '@material-ui/icons/Wc'\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\nimport CompareArrows from '@material-ui/icons/CompareArrows'\n\nimport { t } from 'selectors'\n\nconst targetIcon = {\n\tlocation: LocationOnIcon,\n\tgender: WcIcon,\n\tage: ChildCareIcon,\n}\n\nconst getTargetType = tag => {\n\tconst type = tag.split('_')[0] || 'tags'\n\treturn type\n}\n\nconst TargetArrayValues = ({ target, addDivider, selected }) => {\n\tconst type = getTargetType(target.tag)\n\tconst TargetIcon = targetIcon[type] || CompareArrows\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ListItem selected={selected}>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<TargetIcon />\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText primary={t(target.tag, { isTarget: true })} />\n\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\n\t\t\t</ListItem>\n\t\t</Fragment>\n\t)\n}\n\nconst TargetsList = ({ targets = [], subHeader }) => (\n\t<List\n\t\tdense\n\t\tsubheader={subHeader ? <ListSubheader>{t(subHeader)}</ListSubheader> : null}\n\t>\n\t\t{targets.map((target, index) => {\n\t\t\treturn (\n\t\t\t\t<TargetArrayValues\n\t\t\t\t\tselected={index % 2 === 0}\n\t\t\t\t\ttarget={target}\n\t\t\t\t\tkey={target.tag + target.score + index}\n\t\t\t\t\taddDivider={targets.length - 1 > index}\n\t\t\t\t/>\n\t\t\t)\n\t\t})}\n\t</List>\n)\n\nTargetsList.propTypes = {\n\ttargets: PropTypes.array,\n\tsubHeader: PropTypes.string,\n}\n\nexport default TargetsList\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\timgPreview: {\n\t\t\tmaxHeight: 225,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t},\n\t\timgPreviewWrapper: {\n\t\t\theight: 'max-content',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Img from 'components/common/img/Img'\nimport TargetsList from 'components/dashboard/containers/TargetsList'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { Grid } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\nimport { t, selectNewAdUnit, selectAccountIdentityAddr } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction AdUnitPreview() {\n\tconst classes = useStyles()\n\tconst { type, title, description, temp, targeting, targetUrl } = useSelector(\n\t\tselectNewAdUnit\n\t)\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t<ContentBody>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\tright={targetUrl}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\t\tright={description}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('MEDIA')}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\t\t\timg: classes.imgPreview,\n\t\t\t\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\t\talt={title}\n\t\t\t\t\t\t\t\t\tmediaMime={temp.mime}\n\t\t\t\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AdUnitPreview\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { ContentBody } from 'components/common/dialog/content'\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\nimport {\n\tt,\n\tselectAdUnitsArray,\n\tselectAdUnits,\n\tselectNewCampaign,\n} from 'selectors'\nimport { updateNewCampaign, execute } from 'actions'\n\nfunction CampaignUnits(props) {\n\tconst { temp } = useSelector(selectNewCampaign)\n\tconst { selectedUnits } = temp\n\tconst allAdUnits = useSelector(selectAdUnits)\n\tconst allAdUnitsArray = useSelector(selectAdUnitsArray)\n\tconst hasAdUnits = allAdUnitsArray && allAdUnitsArray.length\n\n\tconst handleSelect = ({ selectedIndexes, selectedItemsIds } = {}) => {\n\t\tconst units = Object.values(selectedItemsIds).map(value => {\n\t\t\treturn allAdUnits[value]\n\t\t})\n\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.selectedUnits = selectedIndexes\n\n\t\texecute(updateNewCampaign('adUnits', units))\n\t\texecute(updateNewCampaign('temp', newTemp))\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tspacing={2}\n\t\t\t\tdirection={hasAdUnits ? null : 'column'}\n\t\t\t\talignItems={hasAdUnits ? null : 'center'}\n\t\t\t>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{hasAdUnits ? (\n\t\t\t\t\t\t\t<AdUnitsTable\n\t\t\t\t\t\t\t\tselected={selectedUnits}\n\t\t\t\t\t\t\t\titems={allAdUnitsArray}\n\t\t\t\t\t\t\t\tvalidate={props.validate}\n\t\t\t\t\t\t\t\thandleSelect={handleSelect}\n\t\t\t\t\t\t\t\tnoClone\n\t\t\t\t\t\t\t\tnoDownload\n\t\t\t\t\t\t\t\trowSelectable\n\t\t\t\t\t\t\t\tnoPrint\n\t\t\t\t\t\t\t\tnoActions\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\n\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\n\t\t\t\t\t\t\t\t<NewUnitDialog\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default CampaignUnits\n","import React from 'react'\nimport { DateTimePicker as MuiDateTimePicker } from '@material-ui/pickers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport {\n\tDateRange,\n\tNavigateNextRounded,\n\tNavigateBeforeRounded,\n\tUpdate,\n} from '@material-ui/icons'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport utils from 'helpers/dateUtils'\n\nconst CalendarIconAdor = ({\n\ticon = <DateRange />,\n\ticonColor,\n\tonIconClick,\n\tonLiveClick,\n\tonNextClick,\n}) => (\n\t<InputAdornment position='end'>\n\t\t{onNextClick && (\n\t\t\t<IconButton color={iconColor} onClick={onNextClick} size='small'>\n\t\t\t\t<NavigateNextRounded />\n\t\t\t</IconButton>\n\t\t)}\n\t\t<IconButton color={iconColor} onClick={onIconClick} size='small'>\n\t\t\t{icon}\n\t\t</IconButton>\n\t\t{onLiveClick && (\n\t\t\t<IconButton color={iconColor} onClick={onLiveClick} size='small'>\n\t\t\t\t<Update />\n\t\t\t</IconButton>\n\t\t)}\n\t</InputAdornment>\n)\n\nexport function DateTimePicker({\n\tcalendarIcon,\n\ticon,\n\ticonColor,\n\tonIconClick,\n\tonNextClick,\n\tonLiveClick,\n\tonBackClick,\n\tInputProps = {},\n\troundHour,\n\t...rest\n}) {\n\tconst now = utils.date(Date.now())\n\tconst date = roundHour ? utils.setMinutes(now, 0) : now\n\treturn (\n\t\t<MuiDateTimePicker\n\t\t\tvalue={date}\n\t\t\tInputProps={{\n\t\t\t\t...InputProps,\n\t\t\t\tdisabled: rest.disabled,\n\t\t\t\tendAdornment: calendarIcon ? (\n\t\t\t\t\t<CalendarIconAdor\n\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\ticonColor={iconColor}\n\t\t\t\t\t\tonIconClick={onIconClick}\n\t\t\t\t\t\tonNextClick={onNextClick}\n\t\t\t\t\t\tonLiveClick={onLiveClick}\n\t\t\t\t\t/>\n\t\t\t\t) : null,\n\t\t\t\tstartAdornment: onBackClick ? (\n\t\t\t\t\t<InputAdornment position='start'>\n\t\t\t\t\t\t<IconButton color={iconColor} onClick={onBackClick} size='small'>\n\t\t\t\t\t\t\t<NavigateBeforeRounded />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t) : null,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport default DateTimePicker\n\nconst dateTimePickerStyled = ({\n\tclasses,\n\tcalendarIcon,\n\ticon,\n\tInputProps = {},\n\t...rest\n}) => {\n\treturn (\n\t\t<DateTimePicker\n\t\t\tInputLabelProps={{\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t},\n\t\t\t\tFormLabelClasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tInputProps={{\n\t\t\t\t...InputProps,\n\t\t\t\tdisabled: rest.disabled,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastInput,\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\n\t\t\t\t},\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport {\n\tGrid,\n\tFormGroup,\n\tFormControlLabel,\n\tFormControl,\n\tFormHelperText,\n\tCheckbox,\n\tTextField,\n} from '@material-ui/core'\nimport DateTimePicker from 'components/common/DateTimePicker'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport { utils } from 'ethers'\nimport MomentUtils from '@date-io/moment'\nimport { ItemSpecProp } from 'components/dashboard/containers/ItemCommon/'\nimport { CampaignTargetingRules } from 'components/dashboard/forms/items/NewItems'\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\nimport {\n\tselectSpinnerById,\n\tselectMainToken,\n\tselectNewCampaign,\n\tselectValidationsById,\n\tt,\n} from 'selectors'\nimport { execute, updateNewCampaign, validateNumberString } from 'actions'\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\nimport { validations } from 'adex-models'\nconst { isNumberString } = validations\n\nconst moment = new MomentUtils()\n\nconst getTotalImpressions = ({ depositAmount, min, max }) => {\n\ttry {\n\t\tconst dep = isNumberString(depositAmount) && parseFloat(depositAmount)\n\t\tconst minBound = isNumberString(min) && parseFloat(min)\n\t\tconst maxBound = isNumberString(max) && parseFloat(max)\n\t\tif (!dep) {\n\t\t\treturn t('DEPOSIT_NOT_SET')\n\t\t} else if (!minBound || !maxBound) {\n\t\t\treturn ''\n\t\t\t// return t('BOUNDS_NOT_NOT_SET')\n\t\t} else {\n\t\t\tconst impressions = utils.commify(Math.floor((dep / minBound) * 1000))\n\t\t\treturn t('TOTAL_IMPRESSIONS_UP_TO', { args: [impressions] })\n\t\t}\n\t} catch (err) {\n\t\treturn ''\n\t}\n}\n\nfunction CampaignFinance({ validateId, ...rest }) {\n\tconst invalidFields = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst campaign = useSelector(selectNewCampaign)\n\n\tconst {\n\t\ttitle,\n\t\tvalidators,\n\t\tdepositAmount,\n\t\t// pricingBounds: campaignPricingBounds,\n\t\tpricingBoundsCPMUserInput,\n\t\t// depositAsset,\n\t\tactiveFrom,\n\t\twithdrawPeriodStart,\n\t\t// minTargetingScore,\n\t\ttemp = {},\n\t} = campaign\n\n\tconst {\n\t\tmaxChannelFees,\n\t\tmaxDepositFormatted,\n\t\tuseUtmTags,\n\t\tsuggestedPricingBounds = { IMPRESSION: {} },\n\t\tuseUtmSrcWithPub,\n\t} = temp\n\n\t// if pricingBounds is null\n\tconst pricingBounds = pricingBoundsCPMUserInput || { IMPRESSION: {} } //campaignPricingBounds || { IMPRESSION: {} }\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\t)\n\n\tconst from = activeFrom || undefined\n\tconst to = withdrawPeriodStart || undefined\n\tconst now = moment.date().valueOf()\n\n\tconst {\n\t\ttitle: errTitle,\n\t\tdepositAmount: errDepAmnt,\n\t\tminPerImpression: errMin,\n\t\tmaxPerImpression: errMax,\n\t\tactiveFrom: errFrom,\n\t\twithdrawPeriodStart: errTo,\n\t} = invalidFields\n\n\tconst leader = validators[0] || {}\n\tconst follower = validators[1] || {}\n\n\tconst impressions = getTotalImpressions({\n\t\tdepositAmount,\n\t\tmin: pricingBounds.IMPRESSION.min,\n\t\tmax: pricingBounds.IMPRESSION.max,\n\t})\n\n\tconst updatePricingBoundsImpression = (type, inputValue) => {\n\t\tconst value = (inputValue || '').trim()\n\t\tconst newPricingBounds = { ...pricingBounds }\n\t\tconst impression = { ...pricingBounds.IMPRESSION }\n\t\timpression[type] = value\n\t\tnewPricingBounds.IMPRESSION = impression\n\t\texecute(updateNewCampaign('pricingBoundsCPMUserInput', newPricingBounds))\n\t\texecute(\n\t\t\tvalidateNumberString({\n\t\t\t\tvalidateId,\n\t\t\t\tprop: `pricingBounds_${type}`,\n\t\t\t\tvalue,\n\t\t\t\tdirty: true,\n\t\t\t})\n\t\t)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('title', ev.target.value))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\tlabel={t('ADV_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\tprop='leader-validator'\n\t\t\t\t\t\t\tvalue={leader.url || ''}\n\t\t\t\t\t\t\thelperText={leader.id}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\tlabel={t('PUB_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\tprop='follower-validator'\n\t\t\t\t\t\t\tvalue={follower.url || ''}\n\t\t\t\t\t\t\thelperText={follower.id}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\n\t\t\t\t\t\t\t\targs: [maxDepositFormatted, symbol, maxChannelFees, symbol],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tname='depositAmount'\n\t\t\t\t\t\t\tvalue={depositAmount}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = (ev.target.value || '').trim()\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('depositAmount', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'depositAmount',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty\n\t\t\t\t\t\t\t\t\t? errDepAmnt.errMsg\n\t\t\t\t\t\t\t\t\t: impressions\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('CPM_MIN_LABEL')}\n\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\tvalue={pricingBounds.IMPRESSION.min}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tupdatePricingBoundsImpression('min', ev.target.value)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\n\t\t\t\t\t\t\t\t\t: t('CPM_MIN_HELPER_TXT', {\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedPricingBounds.IMPRESSION.min, symbol],\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('CPM_MAX_LABEL')}\n\t\t\t\t\t\t\tname='maxPerImpression'\n\t\t\t\t\t\t\tvalue={pricingBounds.IMPRESSION.max}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tupdatePricingBoundsImpression('max', ev.target.value)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMax && !!errMax.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMax && !!errMax.dirty\n\t\t\t\t\t\t\t\t\t? errMax.errMsg\n\t\t\t\t\t\t\t\t\t: t('CPM_MAX_HELPER_TXT', {\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedPricingBounds.IMPRESSION.max, symbol],\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\n\t\t\t\t\t\t\tinputVariant='outlined'\n\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\n\t\t\t\t\t\t\tminDate={now}\n\t\t\t\t\t\t\tmaxDate={to}\n\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('activeFrom', val.valueOf()))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvalue={from || null}\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\n\t\t\t\t\t\t\tinputVariant='outlined'\n\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\n\t\t\t\t\t\t\tminDate={from || now}\n\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('withdrawPeriodStart', val.valueOf()))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue={to || null}\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!useUtmTags}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('temp', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseUtmTags: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='useUtmTags'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_AUTO_UTM_TAGS')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t{t('CAMPAIGN_AUTO_UTM_TAGS_INFO', {\n\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360011670859-How-to-add-UTM-links-and-track-campaigns'>\n\t\t\t\t\t\t\t\t\t\t\t{t('CHECK_HERE')}\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<FormControl disabled={!useUtmTags}>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!useUtmSrcWithPub}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('temp', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseUtmSrcWithPub: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='useUtmSrcWithPub'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_UTM_SRC_WITH_PUB')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t{t('CAMPAIGN_UTM_SRC_WITH_PUB_INFO', {\n\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t// TODO: link to help\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360011670859-How-to-add-UTM-links-and-track-campaigns'>\n\t\t\t\t\t\t\t\t\t\t\t{t('CHECK_HERE')}\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<CampaignTargetingRules\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\tvalidateId={validateId}\n\t\t\t\t\t\t\tadvancedOnly\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nCampaignFinance.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default CampaignFinance\n","export const styles = theme => {\n\treturn {\n\t\tdatepickerContrastInput: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\tdatepickerContrastLabel: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\t'&$datepickerContrastLabelFocused': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tdatepickerContrastLabelFocused: {},\n\t\tdatepickerContrastUnderline: {\n\t\t\t'&:after': {\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t\t'&:before': {\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t},\n\t}\n}\n","import React from 'react'\nimport {\n\tBox,\n\tList,\n\tListItem,\n\tListItemText,\n\tListSubheader,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n} from '@material-ui/core'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { TopLoading } from 'components/common/dialog/content'\nimport { t } from 'selectors'\n\nexport const WalletAction = ({ t, authType }) => {\n\tlet msg = ''\n\tlet subMsg\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\n\t\t\tbreak\n\t\tdefault:\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\n\t\t\tbreak\n\t}\n\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\n}\n\nexport const FeesBreakdown = ({ breakdownFormatted = {}, symbol }) => (\n\t<Box p={1}>\n\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t<ExpansionPanelSummary\n\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\taria-controls='fees-breakdown'\n\t\t\t\tid='fees-breakdown'\n\t\t\t>\n\t\t\t\t<Typography>\n\t\t\t\t\t{t('FEES_BREAKDOWN_ADVANCED_LABEL', {\n\t\t\t\t\t\targs: [breakdownFormatted.feeAmount, symbol],\n\t\t\t\t\t})}\n\t\t\t\t</Typography>\n\t\t\t</ExpansionPanelSummary>\n\t\t\t<List\n\t\t\t\tdisablePadding\n\t\t\t\tdense\n\t\t\t\tsubheader={\n\t\t\t\t\t<ListSubheader component='div'>\n\t\t\t\t\t\t{t('BD_TOTAL_FEE', {\n\t\t\t\t\t\t\targs: [breakdownFormatted.feeAmount, symbol],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ListSubheader>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{/* {!!breakdownFormatted.deployFee && (\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tprimary={t('BD_DEPLOY_FEE', {\n\t\t\t\t\t\t\t\targs: [breakdownFormatted.deployFee, symbol],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t)} */}\n\t\t\t\t<ListItem>\n\t\t\t\t\t<ListItemText\n\t\t\t\t\t\tprimary={t('BD_TXNS_FEE', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\tbreakdownFormatted.executeAction,\n\t\t\t\t\t\t\t\tbreakdownFormatted.txnsFee,\n\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t</ListItem>\n\t\t\t\t{!!breakdownFormatted.sweepTxnsCount && (\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tprimary={t('BD_SWEEP_FEE', {\n\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\tbreakdownFormatted.sweepTxnsCount,\n\t\t\t\t\t\t\t\t\tbreakdownFormatted.sweepTxnsFeeAmount,\n\t\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t)}\n\t\t\t</List>\n\t\t</ExpansionPanel>\n\t</Box>\n)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { constants, IabCategories } from 'adex-models'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\n\nimport { t } from 'selectors'\nimport { Box, Chip, Tooltip } from '@material-ui/core'\n\nconst { CountryNames, CountryTiers, OsGroups } = constants\n\nconst AudiencePreview = ({ audienceInput = {}, title, subHeader }) => {\n\tconst {\n\t\tlocation = {},\n\t\tcategories = {},\n\t\tpublishers = {},\n\t\t// advanced = {},\n\t\tdevices = {},\n\t} = audienceInput\n\n\treturn (\n\t\t<Box>\n\t\t\t{title && <OutlinedPropView label={t('TITLE')} value={title} />}\n\n\t\t\t{!!location.apply ? (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`LOCATION_${location.apply.toUpperCase()}`)}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tlocation.apply === 'allin' ? (\n\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tlabel={t('ALL_COUNTRIES')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t(location[location.apply] || []).map(x => (\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\tkey={x}\n\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\tCountryTiers[x]\n\t\t\t\t\t\t\t\t\t\t\t? CountryTiers[x].countries.join(', ')\n\t\t\t\t\t\t\t\t\t\t\t: t(CountryNames[x] || x || '')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Chip variant='outlined' size='small' label={t(x || '')} />\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`LOCATION`)}\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{!!categories.apply ? (\n\t\t\t\tcategories.apply.map(apply => (\n\t\t\t\t\t<OutlinedPropView\n\t\t\t\t\t\tkey={apply}\n\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\tlabel={t(`CATEGORIES_${(apply || '').toUpperCase()}`)}\n\t\t\t\t\t\tvalue={(categories[apply] || []).map(cat => (\n\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\tkey={cat}\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tlabel={t(\n\t\t\t\t\t\t\t\t\tIabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t/>\n\t\t\t\t))\n\t\t\t) : (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`CATEGORIES`)}\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{publishers.apply ? (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`PUBLISHERS_${publishers.apply.toUpperCase()}`)}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tpublishers.apply === 'allin' ? (\n\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tlabel={t('ALL_PUBLISHERS')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t(publishers[publishers.apply] || []).map((x, index) => (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tlabel={(JSON.parse(x) || {}).hostname}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`PUBLISHERS`)}\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{!!devices.apply ? (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`DEVICES_${devices.apply.toUpperCase()}`)}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tdevices.apply === 'allin' ? (\n\t\t\t\t\t\t\t<Chip variant='outlined' size='small' label={t('ALL_DEVICES')} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t(devices[devices.apply] || []).map(x => (\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\tkey={x}\n\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\tOsGroups[x]\n\t\t\t\t\t\t\t\t\t\t\t? OsGroups[x].oss.join(', ')\n\t\t\t\t\t\t\t\t\t\t\t: t(OsGroups[x] || x || '')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Chip variant='outlined' size='small' label={t(x || '')} />\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`DEVICES`)}\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</Box>\n\t)\n}\n\nAudiencePreview.propTypes = {\n\taudienceInput: PropTypes.object,\n\tsubHeader: PropTypes.string,\n}\n\nexport default AudiencePreview\n","import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tGrid,\n\tBox,\n\tCircularProgress,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n} from '@material-ui/core'\nimport { Alert, AlertTitle } from '@material-ui/lab'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport {\n\tWalletAction,\n\tFeesBreakdown,\n} from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\nimport { formatDateTime } from 'helpers/formatters'\nimport {\n\tselectAccountIdentityAddr,\n\tselectAuthType,\n\tselectMainToken,\n\tselectSpinnerById,\n\tselectNewCampaign,\n\tt,\n} from 'selectors'\nimport { execute, getCampaignActualFees, checkNetworkCongestion } from 'actions'\nimport { GETTING_CAMPAIGNS_FEES, OPENING_CAMPAIGN } from 'constants/spinners'\n\nfunction CampaignFormPreview() {\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst authType = useSelector(selectAuthType)\n\tconst mainToken = useSelector(selectMainToken)\n\tconst { symbol } = mainToken\n\tconst feesSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\t)\n\n\tconst openingSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, OPENING_CAMPAIGN)\n\t)\n\tconst [networkCongested, setNetworkCongested] = useState(false)\n\n\tconst {\n\t\ttitle,\n\t\t// targeting,\n\t\tadUnits,\n\t\tvalidators,\n\t\tdepositAmount,\n\t\t// pricingBounds,\n\t\tpricingBoundsCPMUserInput,\n\t\t// maxPerImpression,\n\t\t// depositAsset,\n\t\twithdrawPeriodStart,\n\t\tactiveFrom,\n\t\t// minTargetingScore,\n\t\ttargetingRules = {},\n\t\taudienceInput = {},\n\t\t// nonce\n\t\ttemp = {},\n\t} = useSelector(selectNewCampaign)\n\n\tconst { feesFormatted, totalSpendFormatted, breakdownFormatted } = temp\n\tconst { IMPRESSION = {} } = pricingBoundsCPMUserInput || {}\n\tconst { advanced = {} } = audienceInput.inputs\n\n\tuseEffect(() => {\n\t\tasync function checkNetwork() {\n\t\t\tconst msg = await execute(checkNetworkCongestion())\n\n\t\t\tif (msg) {\n\t\t\t\tsetNetworkCongested(msg)\n\t\t\t}\n\t\t}\n\t\texecute(getCampaignActualFees())\n\t\tcheckNetwork()\n\t}, [])\n\n\treturn feesSpinner ? (\n\t\t<FullContentSpinner />\n\t) : (\n\t\t<ContentBox>\n\t\t\t{openingSpinner || networkCongested ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t{openingSpinner && (\n\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t<WalletAction t={t} authType={authType} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t\t{networkCongested && (\n\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t<Alert severity='warning' variant='filled' square>\n\t\t\t\t\t\t\t\t<AlertTitle>{t('NETWORK_WARNING')}</AlertTitle>\n\t\t\t\t\t\t\t\t{networkCongested}\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\n\t\t\t\t\t\t\tright={`${depositAmount} ${symbol}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('CPM_MIN_LABEL')}\n\t\t\t\t\t\t\tright={`${IMPRESSION.min} ${symbol}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('CPM_MAX_LABEL')}\n\t\t\t\t\t\t\tright={`${IMPRESSION.max} ${symbol}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('FEES')}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\tfeesFormatted !== undefined ? (\n\t\t\t\t\t\t\t\t\t`${feesFormatted} ${symbol}`\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<CircularProgress size={42} />\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('CAMPAIGN_FEES_AND_BUDGET')}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\ttotalSpendFormatted !== undefined ? (\n\t\t\t\t\t\t\t\t\t`${totalSpendFormatted} ${symbol}`\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<CircularProgress size={42} />\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FeesBreakdown\n\t\t\t\t\t\t\tbreakdownFormatted={breakdownFormatted}\n\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t\tright={formatDateTime(activeFrom)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t{/* <Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('CAMPAIGN_MIN_TARGETING')}\n\t\t\t\t\t\t\tright={t(minTargetingScore ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid> */}\n\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('validators', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{validators.map(val => (\n\t\t\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t(`CAMPAIGN_AUTO_UTM_TAGS`)}\n\t\t\t\t\t\t\tright={t(temp.useUtmTags ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t(`CAMPAIGN_UTM_SRC_WITH_PUB`)}\n\t\t\t\t\t\t\tright={t(temp.useUtmSrcWithPub ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t(`INCLUDE_INCENTIVIZED_TRAFFIC_LABEL`)}\n\t\t\t\t\t\t\tright={t(advanced.includeIncentivized ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t(`DISABLE_FREQUENCY_CAPPING_LABEL`)}\n\t\t\t\t\t\t\tright={t(advanced.disableFrequencyCapping ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t(`LIMIT_AVERAGE_DAILY_SPENDING_LABEL`)}\n\t\t\t\t\t\t\tright={t(advanced.limitDailyAverageSpending ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('AUDIENCE')}\n\t\t\t\t\t\t\tright={<AudiencePreview audienceInput={audienceInput.inputs} />}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('adUnits', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<AdUnitsTable\n\t\t\t\t\t\t\t\t\titems={adUnits}\n\t\t\t\t\t\t\t\t\tnoSearch\n\t\t\t\t\t\t\t\t\tnoActions\n\t\t\t\t\t\t\t\t\tnoDownload\n\t\t\t\t\t\t\t\t\tnoPrint\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\t\taria-controls='targeting-rules-content'\n\t\t\t\t\t\t\t\tid='targeting-rules-header'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography>{t('TARGETING_RULES')}</Typography>\n\t\t\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\n\t\t\t\t\t\t\t\t<pre>{JSON.stringify(targetingRules || [], null, 2)}</pre>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</ExpansionPanel>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default CampaignFormPreview\n","import React, { useEffect, Fragment, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tFormHelperText,\n\tTextField,\n\tBox,\n\tTooltip,\n\tTypography,\n\tChip,\n} from '@material-ui/core'\nimport AutocompleteMUI, {\n\tcreateFilterOptions,\n} from '@material-ui/lab/Autocomplete'\nimport { CheckSharp, ErrorSharp, InfoSharp } from '@material-ui/icons'\n\nconst StatusIcon = {\n\tsuccess: <CheckSharp color='secondary' />,\n\terror: <ErrorSharp color='error' />,\n}\n\nconst useStyles = makeStyles(theme => ({\n\textraInfo: {\n\t\tmarginLeft: theme.spacing(1),\n\t},\n}))\n\nconst ExtraLabel = ({ label }) =>\n\tArray.isArray(label) ? (\n\t\t<Fragment>\n\t\t\t{label.map((x, index) => (\n\t\t\t\t<Typography\n\t\t\t\t\tkey={index}\n\t\t\t\t\tdisplay='block'\n\t\t\t\t\tvariant='caption'\n\t\t\t\t\tcolor='inherit'\n\t\t\t\t>\n\t\t\t\t\t{x}\n\t\t\t\t</Typography>\n\t\t\t))}\n\t\t</Fragment>\n\t) : (\n\t\tlabel\n\t)\n\nfunction Autocomplete({\n\tsource,\n\tmultiple,\n\tlabel,\n\tvariant,\n\terror,\n\terrorText,\n\tonInit,\n\tvalue,\n\tonChange,\n\tfullWidth,\n\tdisabled,\n\thideSelectedOnDisable,\n\tdisableCloseOnSelect,\n\tdisabledSrcValues = [],\n\tenableCreate,\n}) {\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\ttypeof onInit === 'function' && onInit()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst handleChange = item => {\n\t\tif (multiple) {\n\t\t\tonChange(item.map(i => i.value || i.label || i))\n\t\t} else {\n\t\t\tonChange(item ? item.value || item.label || item : item)\n\t\t}\n\t}\n\n\tconst srcValue = multiple\n\t\t? Array.isArray(value)\n\t\t\t? value.map(v => source.find(s => s.value === v) || '')\n\t\t\t: []\n\t\t: source.find(s => s.value === value) || value\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<AutocompleteMUI\n\t\t\t\tmultiple={multiple}\n\t\t\t\tdisableCloseOnSelect={disableCloseOnSelect}\n\t\t\t\toptions={source}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tgroupBy={option => option.group}\n\t\t\t\tvalue={srcValue}\n\t\t\t\tgetOptionLabel={option => option.label || option.name || option}\n\t\t\t\tgetLimitTagsText={more => `${more} more`}\n\t\t\t\tlimitTags={10}\n\t\t\t\tgetOptionDisabled={option =>\n\t\t\t\t\tdisabledSrcValues.some(x => (option.value || option) === x)\n\t\t\t\t}\n\t\t\t\tgetOptionSelected={(opt, val = '') => {\n\t\t\t\t\tconst isSelected =\n\t\t\t\t\t\t!!opt &&\n\t\t\t\t\t\t!!val &&\n\t\t\t\t\t\t[JSON.stringify(val), val, val.value].includes(opt.value)\n\t\t\t\t\treturn isSelected\n\t\t\t\t}}\n\t\t\t\t// freeSolo\n\t\t\t\tonChange={(_, newValue) => handleChange(newValue)}\n\t\t\t\trenderInput={params => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\tvariant={variant}\n\t\t\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t\trenderOption={option => (\n\t\t\t\t\t<Box\n\t\t\t\t\t\tkey={option.label}\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography display='inline'>{option.label}</Typography>\n\t\t\t\t\t\t{!!option.extraLabel && (\n\t\t\t\t\t\t\t<Tooltip arrow title={<ExtraLabel label={option.extraLabel} />}>\n\t\t\t\t\t\t\t\t<InfoSharp\n\t\t\t\t\t\t\t\t\tclassName={classes.extraInfo}\n\t\t\t\t\t\t\t\t\tfontSize='small'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\trenderTags={(value, getCustomizedTagProps) =>\n\t\t\t\t\tvalue.map(\n\t\t\t\t\t\t(option, index) =>\n\t\t\t\t\t\t\t!(disabled && hideSelectedOnDisable) &&\n\t\t\t\t\t\t\t(!!option.extraLabel ? (\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\tarrow\n\t\t\t\t\t\t\t\t\tkey={option.value + '' + index}\n\t\t\t\t\t\t\t\t\ttitle={<ExtraLabel label={option.extraLabel || ''} />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\tlabel={option.label || option}\n\t\t\t\t\t\t\t\t\t\t{...getCustomizedTagProps({ index })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tlabel={option.label || option}\n\t\t\t\t\t\t\t\t\t{...getCustomizedTagProps({ index })}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{error && (\n\t\t\t\t<FormHelperText error id='component-error-text'>\n\t\t\t\t\t{errorText}\n\t\t\t\t</FormHelperText>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n\nconst filter = createFilterOptions()\n\nexport const AutocompleteWithCreate = ({\n\tsource,\n\tlabel,\n\tvariant,\n\terror,\n\thelperText,\n\tfullWidth,\n\tinitialValue,\n\tdisabled,\n\tonChange,\n\tchangeOnInputUpdate,\n}) => {\n\tconst [value, setValue] = useState(null)\n\n\tuseEffect(() => {\n\t\tsetValue({ label: initialValue, value: initialValue })\n\t}, [initialValue])\n\n\treturn (\n\t\t<AutocompleteMUI\n\t\t\tvalue={value}\n\t\t\tonChange={(event, newValue) => {\n\t\t\t\t// Create a new value from the user input\n\t\t\t\tif (newValue && (newValue.inputValue || newValue.value)) {\n\t\t\t\t\tconst value = newValue.inputValue || newValue.value\n\t\t\t\t\tsetValue({\n\t\t\t\t\t\tlabel: newValue.label || value,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t})\n\t\t\t\t\tonChange(value)\n\t\t\t\t} else {\n\t\t\t\t\tsetValue(newValue)\n\t\t\t\t\tonChange('')\n\t\t\t\t}\n\t\t\t}}\n\t\t\tonInputChange={(ev, value) => {\n\t\t\t\tif (changeOnInputUpdate) {\n\t\t\t\t\tonChange(value)\n\t\t\t\t}\n\t\t\t}}\n\t\t\tfilterOptions={(options, params) => {\n\t\t\t\tconst filtered = filter(options, params)\n\n\t\t\t\t// Suggest the creation of a new value\n\t\t\t\tif (!changeOnInputUpdate && params.inputValue !== '') {\n\t\t\t\t\tfiltered.push({\n\t\t\t\t\t\tinputValue: params.inputValue,\n\t\t\t\t\t\tlabel: `Add \"${params.inputValue}\"`,\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\treturn filtered\n\t\t\t}}\n\t\t\tselectOnFocus\n\t\t\t// clearOnBlur\n\t\t\t// handleHomeEndKeys\n\t\t\tdisabled={disabled}\n\t\t\toptions={source}\n\t\t\tgetLimitTagsText={more => `${more} more`}\n\t\t\tlimitTags={2}\n\t\t\tgroupBy={option => option.group}\n\t\t\tgetOptionLabel={option => {\n\t\t\t\t// Value selected with enter, right from the input\n\t\t\t\tif (typeof option === 'string') {\n\t\t\t\t\treturn option\n\t\t\t\t}\n\t\t\t\t// Add \"xxx\" option created dynamically\n\t\t\t\tif (option.inputValue) {\n\t\t\t\t\treturn option.inputValue\n\t\t\t\t}\n\t\t\t\t// Regular option\n\t\t\t\treturn option.label\n\t\t\t}}\n\t\t\trenderOption={option =>\n\t\t\t\toption.status ? (\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\twidth={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t{option.label}\n\n\t\t\t\t\t\t{StatusIcon[option.status] || option.status}\n\t\t\t\t\t</Box>\n\t\t\t\t) : (\n\t\t\t\t\toption.label\n\t\t\t\t)\n\t\t\t}\n\t\t\tfreeSolo={!changeOnInputUpdate}\n\t\t\trenderInput={params => (\n\t\t\t\t<TextField\n\t\t\t\t\t{...params}\n\t\t\t\t\terror={error}\n\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\thelperText={helperText}\n\t\t\t\t\tvariant={variant}\n\t\t\t\t/>\n\t\t\t)}\n\t\t/>\n\t)\n}\n\nAutocomplete.propTypes = {\n\tsource: PropTypes.array.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tonChange: PropTypes.func.isRequired,\n\tmultiple: PropTypes.bool,\n\tvariant: PropTypes.string,\n}\n\nexport default Autocomplete\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport {\n\tGrid,\n\tTextField,\n\tFormGroup,\n\tFormControlLabel,\n\tFormControl,\n\tCheckbox,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n\tBox,\n} from '@material-ui/core'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\nimport Dropdown from 'components/common/dropdown'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport { AutocompleteWithCreate } from 'components/common/autocomplete'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport {\n\tt,\n\tselectNewAdSlot,\n\tselectValidationsById,\n\tselectSpinnerById,\n\tselectSlotTypesSourceWithDemands,\n\twebsitesAutocompleteSrc,\n\tselectMainToken,\n\tselectMinTargetingCpm,\n} from 'selectors'\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\nimport {\n\tupdateSlotsDemandThrottled,\n\tupdateNewSlot,\n\tvalidateNumberString,\n\texecute,\n} from 'actions'\n\nfunction AdSlotBasic({ validateId }) {\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst newItem = useSelector(selectNewAdSlot)\n\tconst websitesSrc = useSelector(websitesAutocompleteSrc)\n\tconst adTypesSource = useSelector(selectSlotTypesSourceWithDemands)\n\tconst minCPM = useSelector(selectMinTargetingCpm)\n\tconst {\n\t\ttitle = '',\n\t\tdescription = '',\n\t\twebsite = '',\n\t\ttype = '',\n\t\trulesInput: slotRulesInput,\n\t\tminPerImpression,\n\t} = newItem\n\n\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\n\n\tconst { allowAdultContent, autoSetMinCPM } = rulesInput.inputs\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, UPDATING_SLOTS_DEMAND)\n\t)\n\n\tconst {\n\t\ttitle: errTitle,\n\t\tdescription: errDescription,\n\t\twebsite: errWebsite,\n\t\ttype: errType,\n\t\tminPerImpression: errMin,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\tuseEffect(() => {\n\t\texecute(updateSlotsDemandThrottled())\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\n\t\tif (!autoSetMinCPM && minPerImpression === null) {\n\t\t\texecute(updateNewSlot('minPerImpression', minCPM.toFixed(2)))\n\t\t}\n\t}, [autoSetMinCPM, minCPM, minPerImpression])\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => execute(updateNewSlot('title', ev.target.value))}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(updateNewSlot('description', ev.target.value))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<AutocompleteWithCreate\n\t\t\t\t\t\t\tchangeOnInputUpdate\n\t\t\t\t\t\t\tinitialValue={website}\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tsource={websitesSrc}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tlabel={t('SLOT_WEBSITE')}\n\t\t\t\t\t\t\terror={errWebsite && !!errWebsite.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrWebsite && !!errWebsite.dirty ? (\n\t\t\t\t\t\t\t\t\terrWebsite.errMsg\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonChange={value => {\n\t\t\t\t\t\t\t\texecute(updateNewSlot('website', (value || '').trim()))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={value => execute(updateNewSlot('type', value))}\n\t\t\t\t\t\t\tsource={adTypesSource}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\terror={errType && !!errType.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrType && !!errType.dirty\n\t\t\t\t\t\t\t\t\t? errType.errMsg\n\t\t\t\t\t\t\t\t\t: t('SLOT_TYPE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\t\taria-controls='slot-rules-advanced'\n\t\t\t\t\t\t\t\tid='slot-rules-advanced'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography>{t('SLOT_ADVANCED')}</Typography>\n\t\t\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\n\t\t\t\t\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\t\t\t\t\tvalue={minPerImpression || ''}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!!autoSetMinCPM}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = (ev.target.value || '').trim()\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateNewSlot('minPerImpression', value))\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\n\t\t\t\t\t\t\t\t\t\t\t\t\t? errMin.errMsg\n\t\t\t\t\t\t\t\t\t\t\t\t\t: t('SLOT_MANUAL_CPM_MIN_HELPER')\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<OutlinedPropView\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_LABEL')}\n\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={!!autoSetMinCPM}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('rulesInput', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoSetMinCPM: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue='autoSetMinCPM'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_INFO_LABEL')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<OutlinedPropView\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT')}\n\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={!!allowAdultContent}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('rulesInput', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowAdultContent: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue='allowAdultContent'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT_INFO')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</ExpansionPanel>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nAdSlotBasic.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdSlotBasic\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport {\n\tGrid,\n\tTextField,\n\tCollapse,\n\tFormControlLabel,\n\tSwitch,\n} from '@material-ui/core'\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { t, selectNewItemByTypeAndId, selectValidationsById } from 'selectors'\nimport { updateNewSlot, execute } from 'actions'\n\nfunction AdSlotMedia({ validateId, itemId }) {\n\tconst { type, targetUrl, temp } = useSelector(state =>\n\t\tselectNewItemByTypeAndId(state, 'AdSlot', itemId)\n\t)\n\n\tconst { useFallback = false, tempUrl, mime } = temp\n\n\tconst { temp: errImg, targetUrl: errFallbackUrl } = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst { width, height } = getWidAndHightFromType(type)\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<OutlinedPropView\n\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\t\tchecked={useFallback}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'temp',\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseFallback: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t\titemId\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA_INFO')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Collapse in={useFallback}>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('targetUrl', ev.target.value, null, itemId)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\n\t\t\t\t\t\t\t\t\timgSrc={tempUrl || ''}\n\t\t\t\t\t\t\t\t\tmime={mime || ''}\n\t\t\t\t\t\t\t\t\tonChange={mediaProps =>\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot(\n\t\t\t\t\t\t\t\t\t\t\t\t'temp',\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\n\t\t\t\t\t\t\t\t\t\t\t\t\t...mediaProps,\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\titemId\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terrMsg={errImg && errImg.dirty ? errImg.errMsg : ''}\n\t\t\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\t\t\t\theight,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Collapse>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nAdSlotMedia.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdSlotMedia\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport PropTypes from 'prop-types'\nimport { Grid, TextField } from '@material-ui/core'\n\nimport { execute, updateNewAudience } from 'actions'\nimport { t, selectValidationsById, selectNewAudience } from 'selectors'\n\nfunction AudienceBasic({ validateId }) {\n\tconst { title } = useSelector(selectNewAudience)\n\n\tconst { title: errTitle } = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\tname='title'\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(updateNewAudience('title', ev.target.value))\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrTitle && !!errTitle.dirty ? errTitle.errMsg : t('TITLE_HELPER')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nAudienceBasic.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AudienceBasic\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { ContentBox, ContentBody } from 'components/common/dialog/content'\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\nimport { selectNewAudience } from 'selectors'\n\nfunction AdUnitPreview() {\n\tconst { title, inputs, version } = useSelector(selectNewAudience)\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t<ContentBody>\n\t\t\t\t<AudiencePreview audienceInput={inputs} title={title} />\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AdUnitPreview\n","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport clsx from 'clsx'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tGrid,\n\tBox,\n\tTextField,\n\tPaper,\n\tTab,\n\tTabs,\n\tFormControlLabel,\n\tFormControl,\n\tFormHelperText,\n\tRadioGroup,\n\tRadio,\n\tTypography,\n\tCheckbox,\n} from '@material-ui/core'\nimport {\n\tPublicSharp as LocationIcon,\n\tLocalOfferSharp as CategoryIcon,\n\tWebAssetSharp as PublisherIcon,\n\tMoreHorizSharp as AdvIcon,\n\tErrorSharp as ErrIcon,\n\tWebSharp as BrowserIcon,\n\tComputerSharp as OsIcon,\n\tDevicesOtherSharp as DevicesIcon,\n} from '@material-ui/icons'\nimport Autocomplete from 'components/common/autocomplete'\n\nimport { t, selectAudienceInputsDataByItem } from 'selectors'\nimport { execute, updateTargetRuleInput } from 'actions'\n\nconst useStyles = makeStyles(theme => ({\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n\tdisabled: {\n\t\topacity: 0.5,\n\t},\n\tin: {\n\t\tcolor: theme.palette.success.main,\n\t},\n\tnin: {\n\t\tcolor: theme.palette.error.main,\n\t},\n}))\n\nconst parameterIcon = {\n\tlocation: <LocationIcon />,\n\tcategories: <CategoryIcon />,\n\tpublishers: <PublisherIcon />,\n\tos: <OsIcon />,\n\tbrowsers: <BrowserIcon />,\n\tdevices: <DevicesIcon />,\n\tadvanced: <AdvIcon />,\n}\n\nconst getApply = (applyType, currentApply = [], actionType) =>\n\tapplyType === 'single'\n\t\t? actionType\n\t\t: [...currentApply, actionType].filter((t, i, all) => all.indexOf(t) === i)\n\nconst Sources = ({\n\tid,\n\tsource = [],\n\tcollection,\n\tplaceholder,\n\tlabel,\n\tindex,\n\ttarget = {},\n\tparameter,\n\titemId,\n\titemType,\n\tactionType,\n\tapplyType,\n\tdisabled,\n\tdisabledSrcValues,\n}) => {\n\tconst apply = getApply(applyType, target.apply, actionType)\n\n\treturn source.length ? (\n\t\t<Autocomplete\n\t\t\tmultiple\n\t\t\tid={id}\n\t\t\tfullWidth\n\t\t\tdirection='auto'\n\t\t\topenOnClick\n\t\t\trequired={true}\n\t\t\tdisabled={disabled}\n\t\t\thideSelectedOnDisable\n\t\t\tdisabledSrcValues={disabledSrcValues}\n\t\t\tdisableCloseOnSelect\n\t\t\t// error={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t// errorText={\n\t\t\t// \tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t// \t\t? invalidFields[id].errMsg\n\t\t\t// \t\t: null\n\t\t\t// }\n\t\t\tonChange={value => {\n\t\t\t\texecute(\n\t\t\t\t\tupdateTargetRuleInput({\n\t\t\t\t\t\tindex,\n\t\t\t\t\t\titemType,\n\t\t\t\t\t\titemId,\n\t\t\t\t\t\tparameter,\n\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t...target,\n\t\t\t\t\t\t\t...{ [actionType]: value, apply },\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcollection,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t}}\n\t\t\tlabel={label}\n\t\t\tplaceholder={placeholder}\n\t\t\tsource={source}\n\t\t\tvalue={target[actionType] || []}\n\t\t\tvariant='outlined'\n\t\t/>\n\t) : (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tvariant='outlined'\n\t\t\ttype='text'\n\t\t\trequired\n\t\t\tdisabled={disabled}\n\t\t\tname='name'\n\t\t\tvalue={target.value}\n\t\t\tlabel={label}\n\t\t\tonChange={ev =>\n\t\t\t\texecute(\n\t\t\t\t\tupdateTargetRuleInput({\n\t\t\t\t\t\tindex,\n\t\t\t\t\t\titemType,\n\t\t\t\t\t\titemId,\n\t\t\t\t\t\tparameter,\n\t\t\t\t\t\ttarget: { ...target, ...{ [actionType]: ev.target.value, apply } },\n\t\t\t\t\t\tcollection,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t}\n\t\t\tmaxLength={120}\n\t\t/>\n\t)\n}\n\nconst getMultipleActionsUsedValues = ({ actions, currentAction, target }) => {\n\tconst currentSelectedValues = actions\n\t\t.filter(a => a.type !== currentAction.type)\n\t\t.reduce((all, a) => {\n\t\t\treturn [\n\t\t\t\t...all,\n\t\t\t\t...(target[a.type] || []),\n\t\t\t\t...(currentAction.disabledValues || []),\n\t\t\t]\n\t\t}, [])\n\t\t.filter((x, i, all) => all.indexOf(x) === i)\n\n\treturn currentSelectedValues\n}\n\nconst Targets = ({\n\tinputs,\n\tsource = {},\n\textraInfo = null,\n\tcollection,\n\tplaceholder,\n\tlabel,\n\tindex,\n\ttarget = {},\n\tparameter,\n\t// classes,\n\t// invalidFields,\n\tactions,\n\tapplyType,\n\titemId,\n\titemType,\n\tdisabledValues,\n\tSOURCES,\n}) => {\n\tconst classes = useStyles()\n\tconst id = `target-${index}`\n\tconst applyValue = target.apply || actions[0].type\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\twidth={1}\n\t\t\theight={1}\n\t\t\tjustifyContent='space-between'\n\t\t>\n\t\t\t<Box>\n\t\t\t\t{applyType === 'single' && (\n\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\taria-label={parameter}\n\t\t\t\t\t\tname={parameter}\n\t\t\t\t\t\tvalue={applyValue}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateTargetRuleInput({\n\t\t\t\t\t\t\t\t\titemType,\n\t\t\t\t\t\t\t\t\titemId,\n\t\t\t\t\t\t\t\t\tparameter,\n\t\t\t\t\t\t\t\t\ttarget: { ...target, apply: ev.target.value },\n\t\t\t\t\t\t\t\t\tcollection,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{actions.map(a => (\n\t\t\t\t\t\t\t<Box key={parameter + a.type}>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Radio\n\t\t\t\t\t\t\t\t\t\t\tclassName={clsx({\n\t\t\t\t\t\t\t\t\t\t\t\t[classes.in]: ['in', 'allin'].includes(a.type),\n\t\t\t\t\t\t\t\t\t\t\t\t[classes.nin]: a.type === 'nin',\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvalue={a.type}\n\t\t\t\t\t\t\t\t\tlabel={a.label}\n\t\t\t\t\t\t\t\t\tclassName={clsx({\n\t\t\t\t\t\t\t\t\t\t[classes.disabled]: a.type !== applyValue,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t{!!a.value ? (\n\t\t\t\t\t\t\t\t\ta.value\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Sources\n\t\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\t\tsource={source[a.type]}\n\t\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\t\t\t\tdisabled={a.type !== applyValue}\n\t\t\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\t\tparameter={parameter}\n\t\t\t\t\t\t\t\t\t\titemId={itemId}\n\t\t\t\t\t\t\t\t\t\tactionType={a.type}\n\t\t\t\t\t\t\t\t\t\tapplyType={applyType}\n\t\t\t\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t\t\t\t\tdisabledSrcValues={disabledValues[a.type]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</RadioGroup>\n\t\t\t\t)}\n\t\t\t\t{applyType === 'multiple' &&\n\t\t\t\t\tactions.map(a => (\n\t\t\t\t\t\t<Box key={parameter + a.type}>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tclassName={clsx({\n\t\t\t\t\t\t\t\t\t[classes.in]: ['in', 'allin'].includes(a.type),\n\t\t\t\t\t\t\t\t\t[classes.nin]: a.type === 'nin',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{a.label}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{!!a.value ? (\n\t\t\t\t\t\t\t\ta.value\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Sources\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tsource={source[a.type]}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tparameter={parameter}\n\t\t\t\t\t\t\t\t\titemId={itemId}\n\t\t\t\t\t\t\t\t\tactionType={a.type}\n\t\t\t\t\t\t\t\t\tapplyType={applyType}\n\t\t\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t\t\t\tdisabledSrcValues={getMultipleActionsUsedValues({\n\t\t\t\t\t\t\t\t\t\tactions,\n\t\t\t\t\t\t\t\t\t\tcurrentAction: a,\n\t\t\t\t\t\t\t\t\t\ttarget,\n\t\t\t\t\t\t\t\t\t}).concat(disabledValues[a.type] || [])}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t))}\n\t\t\t\t{applyType === 'multiple-checkbox' &&\n\t\t\t\t\tactions.map(a => (\n\t\t\t\t\t\t<Box key={parameter + a.value}>\n\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!target[a.value]}\n\t\t\t\t\t\t\t\t\t\t\tname={a.value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateTargetRuleInput({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemType,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparameter,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...target,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[a.value]: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcollection,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={a.label}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormHelperText>{a.helper}</FormHelperText>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t))}\n\t\t\t</Box>\n\t\t\t<Box>{extraInfo}</Box>\n\t\t</Box>\n\t)\n}\n\nconst NewTargetingRules = ({ itemType, itemId, validateId, advancedOnly }) => {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\tconst classes = useStyles()\n\n\tconst { SOURCES, inputs, errorParameters } = useSelector(state =>\n\t\tselectAudienceInputsDataByItem(\n\t\t\tstate,\n\t\t\titemType,\n\t\t\titemId,\n\t\t\tvalidateId,\n\t\t\tadvancedOnly\n\t\t)\n\t)\n\n\tconst { parameter, source, actions, applyType, disabledValues, extraInfo } =\n\t\tSOURCES[tabIndex] || {}\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' width={1} height={1}>\n\t\t\t{!advancedOnly && (\n\t\t\t\t<Box mb={2}>\n\t\t\t\t\t<Paper position='static' variant='outlined'>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{SOURCES.map(({ parameter }, index) => (\n\t\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\t\tkey={parameter}\n\t\t\t\t\t\t\t\t\tlabel={parameter}\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\terrorParameters[parameter] ? (\n\t\t\t\t\t\t\t\t\t\t\t<ErrIcon color='error' />\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\tparameterIcon[parameter]\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t<Box display='flex' flexGrow='1'>\n\t\t\t\t<Targets\n\t\t\t\t\tinputs={inputs}\n\t\t\t\t\ttarget={inputs[parameter]}\n\t\t\t\t\tkey={parameter}\n\t\t\t\t\tparameter={parameter}\n\t\t\t\t\tlabel={t(parameter)}\n\t\t\t\t\tplaceholder={t(parameter)}\n\t\t\t\t\tsource={source || {}}\n\t\t\t\t\textraInfo={extraInfo}\n\t\t\t\t\tdisabledValues={disabledValues || {}}\n\t\t\t\t\tSOURCES={SOURCES}\n\t\t\t\t\tactions={actions}\n\t\t\t\t\tapplyType={applyType}\n\t\t\t\t\titemId={itemId}\n\t\t\t\t\titemType={itemType}\n\t\t\t\t\tclasses={classes}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nNewTargetingRules.propTypes = {\n\ttitle: PropTypes.string,\n}\n\nexport default NewTargetingRules\n","import React, { Fragment } from 'react'\nimport {\n\tBox,\n\tTooltip,\n\tList,\n\tListSubheader,\n\tListItemText,\n\tListItemIcon,\n\tListItem,\n\tIconButton,\n\tButton,\n\tChip,\n\tTypography,\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\nimport { Alert } from '@material-ui/lab'\nimport {\n\tLooksOneSharp,\n\tLooksTwoSharp,\n\tLooks3Sharp,\n\tLooks4Sharp,\n\tRefreshSharp,\n\tInfoSharp,\n\tFileCopySharp,\n} from '@material-ui/icons'\nimport { useSelector } from 'react-redux'\nimport { timeAgo } from 'helpers/analyticsTimeHelpers'\nimport { selectWebsiteByWebsite, t, selectAccountIdentityAddr } from 'selectors'\nimport { execute, updateWebsiteVerification, addToast } from 'actions'\nimport copy from 'copy-to-clipboard'\n\nconst UPDATE_AGAIN_AFTER = 2 * 60 * 60 * 1000 // 2 h\n\nexport const getIssue = issue => {\n\tconst data = {\n\t\tlabel: issue,\n\t\targs: [],\n\t}\n\tswitch (issue) {\n\t\tcase 'SLOT_ISSUE_INTEGRATION_NOT_VERIFIED':\n\t\t\tdata.args = [\n\t\t\t\t{\n\t\t\t\t\ttype: 'anchor',\n\t\t\t\t\thref:\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360013352340-How-to-verify-your-publisher-website',\n\t\t\t\t\tlabel: 'HERE',\n\t\t\t\t},\n\t\t\t]\n\t\t\treturn data\n\t\tcase 'SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED':\n\t\t\tdata.args = [\n\t\t\t\t{\n\t\t\t\t\ttype: 'anchor',\n\t\t\t\t\thref:\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain',\n\t\t\t\t\tlabel: 'HERE',\n\t\t\t\t},\n\t\t\t]\n\t\t\treturn data\n\n\t\tdefault:\n\t\t\treturn data\n\t}\n}\n\nconst useStyles = makeStyles(theme => ({\n\tmessage: {\n\t\tdisplay: 'block',\n\t},\n\tissueChip: {\n\t\tmarginRight: theme.spacing(0.5),\n\t\tmarginTop: theme.spacing(0.5),\n\t\tmarginBottom: theme.spacing(0.5),\n\t},\n\tcopyBtn: {\n\t\tmarginLeft: theme.spacing(1),\n\t},\n}))\n\nexport function RenderIssue({ label, args }) {\n\treturn args.some(a => a.type === 'anchor') ? (\n\t\tt(label, {\n\t\t\targs: args.map((a, index) =>\n\t\t\t\ta.type === 'anchor' ? (\n\t\t\t\t\t<ExternalAnchor key={index} href={a.href}>\n\t\t\t\t\t\t{` ${t(a.label)}`}\n\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t) : (\n\t\t\t\t\tt(a)\n\t\t\t\t)\n\t\t\t),\n\t\t})\n\t) : (\n\t\t<div\n\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t__html: t(label, { args }),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const ALL_ISSUES = {\n\tSLOT_ISSUE_BLACKLISTED: { icon: LooksOneSharp, shortLabel: t('BLACKLISTED') },\n\tSLOT_ISSUE_OWNERSHIP_NOT_VERIFIED: {\n\t\ticon: LooksTwoSharp,\n\t\tshortLabel: t('NOT_VERIFIED'),\n\t},\n\tSLOT_ISSUE_SOMEONE_ELSE_VERIFIED: {\n\t\ticon: Looks3Sharp,\n\t\tshortLabel: t('VERIFIED_BY_SOMEONE_ELSE'),\n\t},\n}\n\nexport const WebsiteVerifyBtn = ({ id, website, issues, updated }) => {\n\tconst lastUpdated = updated ? Date.now() - new Date(updated).valueOf() : null\n\tconst canUpdate = !updated || lastUpdated > UPDATE_AGAIN_AFTER\n\treturn (\n\t\t!!issues.length && (\n\t\t\t<Box my={1}>\n\t\t\t\t<Button\n\t\t\t\t\tdisabled={!canUpdate}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tstartIcon={<RefreshSharp />}\n\t\t\t\t\tonClick={() => execute(updateWebsiteVerification({ id, website }))}\n\t\t\t\t>\n\t\t\t\t\t{t('TRY_VERIFY')}\n\t\t\t\t</Button>\n\t\t\t\t{!canUpdate && (\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tcomponent='div'\n\t\t\t\t\t\tvariant='caption'\n\t\t\t\t\t\tdisplay='block'\n\t\t\t\t\t\talign='right'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('VERIFICATION_UPDATED_AGO', {\n\t\t\t\t\t\t\targs: [timeAgo(new Date(updated).valueOf())],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t)\n\t)\n}\n\nexport function WebsiteIssues({ issues, website, asKeyWords, tryAgainBtn }) {\n\tconst classes = useStyles()\n\tconst site = useSelector(state => selectWebsiteByWebsite(state, website))\n\tconst defaultIssues = !website ? ['SLOT_ISSUE_NO_WEBSITE'] : []\n\tconst data = issues || site.issues || defaultIssues\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{!!data.length ? (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{site.id && tryAgainBtn && <WebsiteVerifyBtn {...site} />}\n\t\t\t\t\t{data.map((id, index) => {\n\t\t\t\t\t\tconst { label, args } = getIssue(id)\n\t\t\t\t\t\treturn !!asKeyWords ? (\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tarrow\n\t\t\t\t\t\t\t\tinteractive\n\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\ttitle={<RenderIssue label={label} args={args} />}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tlabel={ALL_ISSUES[label].shortLabel}\n\t\t\t\t\t\t\t\t\tclassName={classes.issueChip}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Box key={id} my={index !== 0 && index < data.length ? 1 : 0}>\n\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\tseverity='warning'\n\t\t\t\t\t\t\t\t\tvariant='filled'\n\t\t\t\t\t\t\t\t\tclasses={{ message: classes.message }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<RenderIssue label={label} args={args} />\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</Fragment>\n\t\t\t) : !!asKeyWords ? (\n\t\t\t\t<Typography component='div' variant='caption' color='secondary'>\n\t\t\t\t\t{t('WEBSITE_VERIFIED')}\n\t\t\t\t</Typography>\n\t\t\t) : (\n\t\t\t\t<Alert severity='success' variant='filled' classes={classes}>\n\t\t\t\t\t{t('WEBSITE_VERIFIED')}\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n\nexport function WebsiteIssuesLegend() {\n\treturn (\n\t\t<List dense disablePadding>\n\t\t\t<ListItem>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<InfoSharp />\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText primary={t('NEW_WEBSITE_CREATE_FROM_SLOT_INFO')} />\n\t\t\t</ListItem>\n\t\t\t<ListItem>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<InfoSharp />\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={t('VERIFICATION_INFO_TEXT', {\n\t\t\t\t\t\targs: [24, 'HOURS', 2, 'HOURS'],\n\t\t\t\t\t})}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t</List>\n\t)\n}\n\nexport function WebsiteDSNRecord({ website }) {\n\tconst classes = useStyles()\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst dnsRecord = `adex-publisher=${identityAddr}`\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' height={1} width={1}>\n\t\t\t<Box mb={1}>\n\t\t\t\t<Typography className={classes.subtitle} component='div' gutterBottom>\n\t\t\t\t\t{t('DNS_RECORD_INFO', { args: [website] })}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t<Box\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='row'\n\t\t\t\tcomponent='div'\n\t\t\t\talignItems='center'\n\t\t\t\tflexWrap='wrap'\n\t\t\t\twidth={1}\n\t\t\t\tmb={1}\n\t\t\t>\n\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\n\t\t\t\t\t<pre>{dnsRecord}</pre>\n\t\t\t\t</Box>\n\t\t\t\t<IconButton\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclassName={classes.copyBtn}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcopy(dnsRecord)\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FileCopySharp />\n\t\t\t\t</IconButton>\n\t\t\t</Box>\n\t\t\t<Box>\n\t\t\t\t<Typography className={classes.subtitle} component='div' gutterBottom>\n\t\t\t\t\t{t('WEBSITE_DNS_RECORD_MORE_INFO', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\tkey={1}\n\t\t\t\t\t\t\t\thref='https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{` ${t('THIS_TUTORIAL')}`}\n\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t],\n\t\t\t\t\t})}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React, { Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tTypography,\n\tGrid,\n\tBox,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tChip,\n} from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\nimport { IabCategories } from 'adex-models'\nimport Img from 'components/common/img/Img'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tWebsiteIssues,\n\tWebsiteDSNRecord,\n\tALL_ISSUES,\n} from 'components/dashboard/containers/Slot/WebsiteIssues'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { styles } from '../styles'\nimport {\n\tt,\n\tselectMainToken,\n\tselectNewAdSlot,\n\tselectAccountIdentityAddr,\n\tselectDemandAnalyticsByType,\n} from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nconst SlotFallback = ({ img, targetUrl }) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<Fragment>\n\t\t\t<PropRow\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\n\t\t\t\tright={\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\n\t\t\t\t\t\t{targetUrl}\n\t\t\t\t\t</Anchor>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<PropRow\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\n\t\t\t\tright={\n\t\t\t\t\t<Img\n\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\timg: classes.imgPreview,\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\n\t\t\t\t\t\talt={targetUrl}\n\t\t\t\t\t\tmediaMime={img.mime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\t\t</Fragment>\n\t)\n}\n\nconst AdSlotPreview = () => {\n\tconst {\n\t\ttype,\n\t\ttitle,\n\t\tdescription,\n\t\twebsite,\n\t\ttemp,\n\t\ttargetUrl,\n\t\trules,\n\t\trulesInput,\n\t\tminPerImpression,\n\t} = useSelector(selectNewAdSlot)\n\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst typeDemand = useSelector(state =>\n\t\tselectDemandAnalyticsByType(state, type)\n\t)\n\tconst { allowAdultContent, autoSetMinCPM } = rulesInput.inputs\n\tconst { categories = [], suggestedMinCPM, hostname, issues } = temp\n\n\tconst hasIssues = hostname && issues && issues.length\n\tconst showDnsRecord =\n\t\thasIssues &&\n\t\tissues.some(i => i === ALL_ISSUES.SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED)\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t<ContentBody>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('website', { isProp: true })} right={website} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('SLOT_MIN_CPM', { args: [symbol] })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\tautoSetMinCPM\n\t\t\t\t\t\t\t\t\t? t('SLOT_AUTO_MIN_CPM_PREVIEW_LABEL', {\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedMinCPM, symbol],\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t: t('SLOT_MANUAL_MIN_CPM_PREVIEW_LABEL', {\n\t\t\t\t\t\t\t\t\t\t\targs: [minPerImpression, symbol],\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('SLOT_ALLOW_ADULT_CONTENT')}\n\t\t\t\t\t\t\tright={allowAdultContent ? t('YES') : t('NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\t\tright={description}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('WEBSITE_CATEGORIES')}\n\t\t\t\t\t\t\tright={categories.map(cat => (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tkey={cat}\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tlabel={t(\n\t\t\t\t\t\t\t\t\t\tIabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_WARNING'),\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t{(!typeDemand || !typeDemand.raw) && (\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\tleft={t('DEMAND_WARNINGS')}\n\t\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t\t<Alert severity='warning' variant='outlined'>\n\t\t\t\t\t\t\t\t\t\t{t('SLOT_NO_CURRENT_DEMAND', { args: [type] })}\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{showDnsRecord && (\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_DNS_RECORD_LABEL')}\n\t\t\t\t\t\t\t\tright={<WebsiteDSNRecord website={website} />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{hasIssues && (\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_ISSUES')}\n\t\t\t\t\t\t\t\tright={<WebsiteIssues issues={issues} />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t{temp.useFallback ? (\n\t\t\t\t\t\t\t<SlotFallback img={temp} targetUrl={targetUrl} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<PropRow left={t('FALLBACK_DATA')} right={t('NO')} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-content'\n\t\t\t\t\t\t\t\t\tid='slot-rules-header'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_RULES')}</Typography>\n\t\t\t\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\n\t\t\t\t\t\t\t\t\t<pre>{JSON.stringify(rules || [], null, 2)}</pre>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</ExpansionPanel>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AdSlotPreview\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { Grid, TextField } from '@material-ui/core'\nimport { t, selectValidationsById, selectNewWebsite } from 'selectors'\nimport { updateNewWebsite, execute } from 'actions'\n\nfunction AdSlotBasic({ validateId }) {\n\tconst newItem = useSelector(selectNewWebsite)\n\n\tconst { website = '' } = newItem\n\n\tconst { website: errWebsite } = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tvalue={website}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tlabel={t('WEBSITE_LABEL')}\n\t\t\t\t\t\terror={errWebsite && !!errWebsite.dirty}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrWebsite && !!errWebsite.dirty\n\t\t\t\t\t\t\t\t? errWebsite.errMsg\n\t\t\t\t\t\t\t\t: t('NEW_WEBSITE_HELPER_TEXT')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewWebsite('website', (ev.target.value || '').trim())\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nAdSlotBasic.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdSlotBasic\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Grid, Chip } from '@material-ui/core'\nimport { IabCategories } from 'adex-models'\n\nimport {\n\tWebsiteIssues,\n\tALL_ISSUES,\n\tWebsiteDSNRecord,\n} from 'components/dashboard/containers/Slot/WebsiteIssues'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { t, selectNewWebsite } from 'selectors'\n\nconst WebsitePreview = () => {\n\tconst { website, temp = {} } = useSelector(selectNewWebsite)\n\n\tconst { categories = [], hostname, issues } = temp\n\tconst hasIssues = hostname && issues && issues.length\n\tconst showDnsRecord =\n\t\thasIssues &&\n\t\tissues.some(i => i === ALL_ISSUES.SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED)\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t<ContentBody>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow left={t('website', { isProp: true })} right={website} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('WEBSITE_CATEGORIES')}\n\t\t\t\t\t\t\tright={categories.map(cat => (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tkey={cat}\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tlabel={t(\n\t\t\t\t\t\t\t\t\t\tIabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t{showDnsRecord && (\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_DNS_RECORD_LABEL')}\n\t\t\t\t\t\t\t\tright={<WebsiteDSNRecord website={website} />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{hasIssues && (\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_ISSUES')}\n\t\t\t\t\t\t\t\tright={<WebsiteIssues issues={issues} />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t</Grid>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default WebsitePreview\n","import React from 'react'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport { AdUnit, AdSlot, Campaign, Audience } from 'adex-models'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\nimport CampaignUnits from './Campaign/CampaignUnits'\nimport CampaignFinance from './Campaign/CampaignFinance'\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\nimport AudienceBasic from './Audience/AudienceBasic'\nimport NewAudiencePreview from './Audience/NewAudiencePreview'\nimport NewTargetingRules from './NewTargetingRules'\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\nimport WebsiteBasic from './Website/WebsiteBasic'\nimport WebsitePreview from './Website/WebsitePreview'\n\nimport {\n\texecute,\n\tvalidateNewUnitBasics,\n\tvalidateNewCampaignFinance,\n\tvalidateNewCampaignAdUnits,\n\tvalidateNewSlotBasics,\n\tvalidateNewSlotPassback,\n\tvalidateNewUnitMedia,\n\tvalidateCampaignAudienceInput,\n\tvalidateAudienceBasics,\n\tvalidateAudienceInput,\n\tvalidateAndSaveNewWebsiteBasics,\n\tcompleteItem,\n\tresetNewItem,\n\tsaveUnit,\n\tsaveSlot,\n\tsaveAudience,\n\topenCampaign,\n} from 'actions'\n\nexport const CampaignTargetingRules = props => (\n\t<NewTargetingRules {...props} itemType='Campaign' />\n)\n\nexport const AudienceRules = props => (\n\t<NewTargetingRules {...props} itemType='Audience' />\n)\n\n// Ad unit\nexport const NewUnitSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tcancelFunction={() => execute(resetNewItem('AdUnit'))}\n\t\tvalidateIdBase='new-AdUnit-'\n\t\titemType='AdUnit'\n\t\tstepsId='new-adunit-'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'UNIT_BASIC_STEP',\n\t\t\t\tcomponent: AdUnitBasic,\n\t\t\t\tvalidationFn: props => execute(validateNewUnitBasics(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'UNIT_MEDIA_STEP',\n\t\t\t\tcomponent: AdUnitMedia,\n\t\t\t\tvalidationFn: props => execute(validateNewUnitMedia(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\t\tcompleteBtnTitle: 'SAVE',\n\t\t\t\tcomponent: AdUnitFormPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteItem({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\titemType: 'AdUnit',\n\t\t\t\t\t\t\tcompeteAction: saveUnit,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\n\t\tnoDefaultImg\n\t\titemModel={AdUnit}\n\t/>\n)\n\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\n\nexport const NewUnitDialog = props => (\n\t<NewUnitStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='NEW_UNIT'\n\t\ttitle='CREATE_NEW_UNIT'\n\t/>\n)\n\nconst copyProps = {\n\tdarkerBackground: true,\n\ticon: <FileCopyIcon color='primary' />,\n}\n\nexport const NewCloneUnitDialog = props => (\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\n)\n\n// Campaign\nexport const NewCampaignSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tcancelFunction={() => execute(resetNewItem('Campaign'))}\n\t\tvalidateIdBase='new-Campaign-'\n\t\titemType='Campaign'\n\t\tstepsId='new-campaign-'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_UNITS_STEP',\n\t\t\t\tcomponent: CampaignUnits,\n\t\t\t\tvalidationFn: props => execute(validateNewCampaignAdUnits(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_AUDIENCE_STEP',\n\t\t\t\tcomponent: CampaignTargetingRules,\n\t\t\t\tvalidationFn: props => execute(validateCampaignAudienceInput(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_FINANCE_STEP',\n\t\t\t\tcomponent: CampaignFinance,\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewCampaignFinance({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\t\tcompleteBtnTitle: 'OPEN_CAMPAIGN',\n\t\t\t\tcomponent: CampaignFormPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteItem({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\titemType: 'Campaign',\n\t\t\t\t\t\t\tcompeteAction: openCampaign,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\titemModel={Campaign}\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\n\t/>\n)\n\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\n\nexport const NewCampaignDialog = props => (\n\t<NewCampaignStepsWithDialog\n\t\tbtnLabel='NEW_CAMPAIGN'\n\t\ttitle='CREATE_NEW_CAMPAIGN'\n\t\t{...props}\n\t/>\n)\n\nexport const NewCampaignFromAudience = props => (\n\t<NewCampaignStepsWithDialog {...props} title='NEW_CAMPAIGN_FROM_AUDIENCE' />\n)\n\n// Ad slot\nexport const NewSlotSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tcancelFunction={() => execute(resetNewItem('AdSlot'))}\n\t\tvalidateIdBase='new-AdUnit-'\n\t\titemType='AdSlot'\n\t\tstepsId='new-slot-'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'SLOT_BASIC_STEP',\n\t\t\t\tcomponent: AdSlotBasic,\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewSlotBasics({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'SLOT_PASSBACK_STEP',\n\t\t\t\tcomponent: AdSlotMedia,\n\t\t\t\tvalidationFn: props => execute(validateNewSlotPassback(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\t\tcompleteBtnTitle: 'SAVE',\n\t\t\t\tcomponent: AdSlotPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteItem({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\titemType: 'AdSlot',\n\t\t\t\t\t\t\tcompeteAction: saveSlot,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\n\t\titemModel={AdSlot}\n\t/>\n)\n\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\n\nexport const NewSlotDialog = props => (\n\t<NewSlotStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='NEW_SLOT'\n\t\ttitle='CREATE_NEW_SLOT'\n\t/>\n)\n\n// Audience\n\nexport const AudienceSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tcancelFunction={() => execute(resetNewItem('Audience'))}\n\t\tvalidateIdBase='new-Audience-'\n\t\titemType='Audience'\n\t\tstepsId='new-audience-'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'AUDIENCE_BASIC_STEP',\n\t\t\t\tcomponent: AudienceBasic,\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateAudienceBasics({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t...(props.skipRules\n\t\t\t\t? []\n\t\t\t\t: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'AUDIENCE_STEP',\n\t\t\t\t\t\t\tcomponent: AudienceRules,\n\t\t\t\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateAudienceInput({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t  ]),\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\t\tcompleteBtnTitle: 'SAVE',\n\t\t\t\tcomponent: NewAudiencePreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteItem({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\titemType: 'Audience',\n\t\t\t\t\t\t\tcompeteAction: saveAudience,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\titemModel={Audience}\n\t/>\n)\n\nexport const NewAudienceWithDialog = WithDialog(AudienceSteps)\n\nexport const NewAudienceDialog = props => (\n\t<NewAudienceWithDialog\n\t\tbtnLabel='NEW_AUDIENCE'\n\t\ttitle='CREATE_NEW_AUDIENCE'\n\t\t{...props}\n\t/>\n)\n\n// Website\n\nexport const WebsiteSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tcancelFunction={() => execute(resetNewItem('Website'))}\n\t\tvalidateIdBase='new-Website-'\n\t\titemType='Website'\n\t\tstepsId='new-website-'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'WEBSITE_BASIC_STEP',\n\t\t\t\tnextBtnTitle: 'SAVE',\n\t\t\t\tcomponent: WebsiteBasic,\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateAndSaveNewWebsiteBasics({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'WEBSITE_INFO_AND_PREVIEW_STEP',\n\t\t\t\tcompleteBtnTitle: 'OK',\n\t\t\t\tcomponent: WebsitePreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteItem({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\titemType: 'Website',\n\t\t\t\t\t\t\t// Just to close the dialog\n\t\t\t\t\t\t\tcompeteAction: null,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\titemModel={Audience}\n\t/>\n)\n\nexport const NewWebsiteWithDialog = WithDialog(WebsiteSteps)\n\nexport const NewWebsiteDialog = props => (\n\t<NewWebsiteWithDialog\n\t\tbtnLabel='NEW_WEBSITE'\n\t\ttitle='CREATE_NEW_WEBSITE'\n\t\t{...props}\n\t/>\n)\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport { Tooltip, IconButton, Box } from '@material-ui/core'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport { utils } from 'ethers'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport Img from 'components/common/img/Img'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsTableData,\r\n\tselectSide,\r\n\tselectAdUnitsStatsMaxValues,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst getCols = ({ noActions, noClone, maxImpressions, maxClicks, maxCTR }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ selectOnImage, id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\tconst ImgComponent = selectOnImage ? Img : RRImg\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ImgComponent\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tisCellImg\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t{...(!selectOnImage ? { to } : {})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\t// TODO: fix it with css\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => utils.commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${Number(ctr).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR.toFixed(2)],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: !noActions,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item, id, title }) => (\r\n\t\t\t\t<Box key={id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{!noClone && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tcloneItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tobjModel: AdUnit,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='AdUnit'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\tonRowsSelect,\r\n})\r\n\r\nfunction AdUnitsTable(props) {\r\n\tconst side = useSelector(selectSide)\r\n\tconst {\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\tcampaignId,\r\n\t\thandleSelect,\r\n\t\tselected = [],\r\n\t\titems,\r\n\t} = props\r\n\r\n\tconst { maxClicks, maxImpressions, maxCTR } = useSelector(state =>\r\n\t\tselectAdUnitsStatsMaxValues(state, { side, campaignId })\r\n\t)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst [selectorArgs, setSelectorArgs] = useState({})\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdUnitsTableData,\r\n\t\tselectorArgs,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxCTR,\r\n\t\t\t}),\r\n\t})\r\n\r\n\t// NOTE: despite useTableData hook the component is updating.\r\n\t// 'selectorArgs' are object and they have new reference on each update\r\n\t// that causes useTableData to update the data on selectorArgs change.\r\n\t// If selectorArgs are reference type we need to use useState fot them\r\n\t// TODO: find why useTableData causing this update\r\n\tuseEffect(() => {\r\n\t\tsetSelectorArgs({ side, campaignId, items })\r\n\t}, [side, campaignId, items])\r\n\r\n\tconst onRowsSelect = useCallback(\r\n\t\t(_, allRowsSelected) => {\r\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\r\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\r\n\t\t},\r\n\t\t[data, handleSelect]\r\n\t)\r\n\r\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={campaignId ? t('CAMPAIGN_AD_UNITS') : t('ALL_UNITS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdUnitsTable\r\n","import React from 'react'\r\nimport { Box, IconButton, Tooltip } from '@material-ui/core'\r\nimport { utils } from 'ethers'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport {\r\n\tt,\r\n\tselectSide,\r\n\tselectAdSlotsTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst getCols = ({ symbol }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRImg\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t\tisCellImg\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: title => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => utils.commify(clicks || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: earnings => `${earnings.toFixed(2)} ${symbol}`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item, id, title }) => (\r\n\t\t\t\t<Box key={id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\taria-label='view'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='AdSlot'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdSlotsTable(props) {\r\n\tconst side = useSelector(selectSide)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdSlotsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_SLOTS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdSlotsTable\r\n","import React from 'react'\r\nimport { Tooltip, IconButton, Typography, Box } from '@material-ui/core'\r\nimport { VisibilitySharp as Visibility } from '@material-ui/icons'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport { NewCampaignFromAudience } from 'components/dashboard/forms/items/NewItems'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport {\r\n\tt,\r\n\tselectSide,\r\n\tselectAudiencesTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport { useSelector } from 'react-redux'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nimport { execute, updateNewCampaign } from 'actions'\r\nimport { formatDate } from 'helpers/formatters'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRTypography = withReactRouterLink(Typography)\r\n\r\nconst getCols = ({ symbol }) => [\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tsetCellProps: () => ({ style: { cursor: 'pointer' } }),\r\n\t\t\tcustomBodyRender: ({ title, to }) => (\r\n\t\t\t\t<RRTypography key={title} to={to}>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</RRTypography>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDate(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'updated',\r\n\t\tlabel: t('PROP_UPDATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDate(created, undefined, t('-')),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tsetCellHeaderProps: () => ({ style: { textAlign: 'right' } }),\r\n\t\t\tsetCellProps: () => ({ style: { textAlign: 'right' } }),\r\n\t\t\tcustomBodyRender: ({ id, audienceInput, to, title }) => (\r\n\t\t\t\t<Box key={id}>\r\n\t\t\t\t\t<Tooltip arrow title={t('LABEL_VIEW')} aria-label='view'>\r\n\t\t\t\t\t\t<RRIconButton to={to} aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\ttitle={t('LABEL_NEW_CAMPAIGN_FROM_AUDIENCE')}\r\n\t\t\t\t\t\taria-label='new-campaign'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<NewCampaignFromAudience\r\n\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\r\n\t\t\t\t\t\t\t\t\t\t\t...audienceInput,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ticon={<CampaignIcon color='secondary' />}\r\n\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='Audience'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n})\r\n\r\nfunction AudiencesTable(props) {\r\n\tconst side = useSelector(selectSide)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAudiencesTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('SAVED_AUDIENCES')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AudiencesTable\r\n","import Helper from 'helpers/miscHelpers'\nimport { defaults } from 'react-chartjs-2'\nimport merge from 'lodash.merge'\n\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\n// Eddie colors\nexport const CHARTS_COLORS = [\n\t'#00BAFF',\n\t'#7EDBFF',\n\t'#FF9FA8',\n\t'#14DC9C',\n\t'#61FFB2',\n\t'#ABFFE5',\n]\n\nexport let CHARTS_COMMON_OPTIONS = {\n\tresponsive: true,\n\ttooltips: {\n\t\tmode: 'label',\n\t\tcornerRadius: 2,\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\n\t},\n}\n\nexport const hexColorsToRgbaArray = (colors, alpha) => {\n\treturn colors.map(color => {\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\n\t})\n}\n\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { t, selectCampaignDoughnutStats } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction CampaignStatsDoughnut({\r\n\tcampaignId,\r\n\tmaxDataSets = CHARTS_COLORS.length,\r\n\tchartColors = CHARTS_COLORS,\r\n}) {\r\n\tconst data = useSelector(state =>\r\n\t\tselectCampaignDoughnutStats(state, {\r\n\t\t\tcampaignId,\r\n\t\t\tchartColors,\r\n\t\t\tmaxDataSets,\r\n\t\t})\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Doughnut\r\n\t\t\twidth={420}\r\n\t\t\theight={420}\r\n\t\t\tdata={data}\r\n\t\t\toptions={{\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\ttext: t('CAMPAIGN_STATS_PIE_CHART'),\r\n\t\t\t\t},\r\n\t\t\t\tanimation: false,\r\n\t\t\t\ttooltips: {\r\n\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\tlabel: function(item, data) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].label +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.labels[item.index] +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].data[item.index]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsDoughnut.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsDoughnut\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Grid, Button, CircularProgress, Box, Tooltip } from '@material-ui/core'\r\nimport { BlockSharp, CheckSharp } from '@material-ui/icons'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectCampaignStatsMaxValues,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { useSelector } from 'react-redux'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nimport { execute, excludeOrIncludeWebsites, confirmAction } from 'actions'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nconst getCols = ({\r\n\tsymbol,\r\n\tmaxClicks,\r\n\tmaxImpressions,\r\n\tmaxEarnings,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'isBlacklisted',\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\t// NOTE: hidden - used for selected items\r\n\t\tname: 'website',\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'website',\r\n\t\tlabel: t('WEBSITE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (key, tableMeta) => {\r\n\t\t\t\treturn tableMeta.rowData[0] ? (\r\n\t\t\t\t\t<Tooltip arrow key={key} title={t('WEBSITE_IS_EXCLUDED')}>\r\n\t\t\t\t\t\t<Box color='error.main'>{key}</Box>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Box>{key}</Box>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: impressions => formatNumberWithCommas(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('WEBSITE_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t`${formatNumberWithCommas((earnings || 0).toFixed(2))} ${symbol}`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxEarnings],\r\n\t\t\t\tfilterTitle: t('EARNINGS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'averageCPM',\r\n\t\tlabel: t('LABEL_AVERAGE_CPM'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tcustomBodyRender: averageCPM =>\r\n\t\t\t\t`${formatNumberWithCommas((averageCPM || 0).toFixed(2))} ${symbol}`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => formatNumberWithCommas(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t\tstepsCount: 20,\r\n\t\t\t\tstepsPrecision: 4,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst IncludeOrExcludeWebsitesBtn = ({\r\n\taction,\r\n\texclude,\r\n\thostnames = [],\r\n\tcampaignId,\r\n\ticon,\r\n\tcolor,\r\n\tonSuccess,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, `${action}-campaign-${campaignId}`)\r\n\t)\r\n\treturn (\r\n\t\t<div className={classes.wrapper}>\r\n\t\t\t<Button\r\n\t\t\t\tvariant='contained'\r\n\t\t\t\tcolor={color}\r\n\t\t\t\tsize='medium'\r\n\t\t\t\tfullWidth\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tconfirmAction(\r\n\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\texcludeOrIncludeWebsites({\r\n\t\t\t\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t\t\t\t\t\thostnames,\r\n\t\t\t\t\t\t\t\t\t\texclude,\r\n\t\t\t\t\t\t\t\t\t\taction,\r\n\t\t\t\t\t\t\t\t\t\tonSuccess,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconfirmLabel: t(`${action}_WEBSITES_ACTION_LABEL`),\r\n\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\t\t\t\ttitle: t(`${action}_WEBSITES_CONFIRM_TITLE`, {\r\n\t\t\t\t\t\t\t\t\targs: [hostnames.length],\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\ttext: t(`${action}_WEBSITES_CONFIRM_INFO`, {\r\n\t\t\t\t\t\t\t\t\targs: [hostnames.length],\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\tendIcon={icon}\r\n\t\t\t>\r\n\t\t\t\t{t(`BTN_${action}_WEBSITES`)}\r\n\t\t\t</Button>\r\n\t\t\t{spinner && (\r\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst WebsitesActions = ({ campaignId, hostnames = [], onSuccess }) => {\r\n\treturn (\r\n\t\t<Grid container spacing={1} alignItems='center'>\r\n\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t<IncludeOrExcludeWebsitesBtn\r\n\t\t\t\t\taction='EXCLUDE'\r\n\t\t\t\t\thostnames={hostnames}\r\n\t\t\t\t\texclude={true}\r\n\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\ticon={<BlockSharp />}\r\n\t\t\t\t\tonSuccess={onSuccess}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t<IncludeOrExcludeWebsitesBtn\r\n\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\taction='INCLUDE'\r\n\t\t\t\t\thostnames={hostnames}\r\n\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\ticon={<CheckSharp />}\r\n\t\t\t\t\tonSuccess={onSuccess}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nconst getOptions = ({ reloadData, campaignId }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\trowsPerPage: 25,\r\n\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\r\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\r\n\t\tconst hostnames = displayData\r\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\r\n\t\t\t.map(item => item.data[1])\r\n\r\n\t\tconst actionData = {\r\n\t\t\tcampaignId,\r\n\t\t\thostnames,\r\n\t\t\tonSuccess: reloadData,\r\n\t\t}\r\n\r\n\t\treturn <WebsitesActions {...actionData} />\r\n\t},\r\n})\r\n\r\nfunction CampaignStatsBreakdownTable({ campaignId, isActive, canSendMsgs }) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { maxClicks, maxImpressions, maxEarnings, maxCTR } = useSelector(\r\n\t\tstate => selectCampaignStatsMaxValues(state, campaignId)\r\n\t)\r\n\r\n\tconst allowActions = isActive && canSendMsgs\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignStatsTableData,\r\n\t\tselectorArgs: campaignId,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({ symbol, maxClicks, maxImpressions, maxEarnings, maxCTR }),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData, campaignId, isActive, canSendMsgs })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('CAMPAIGN_STATS_BREAKDOWN')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\trowSelectable={allowActions}\r\n\t\t\ttoolbarEnabled\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsBreakdownTable.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsBreakdownTable\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\ticon: {\r\n\t\t\theight: '3rem',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdottedDivider: {\r\n\t\t\tborderBottom: `0.5px dotted ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tsolidDevider: {\r\n\t\t\tborderBottom: `0.5px solid ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tbreakdownTable: {\r\n\t\t\twidth: '100%',\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tbreakAll: {\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\tpageBreak: {\r\n\t\t\tpageBreakAfter: 'always',\r\n\t\t},\r\n\t\ta4: {\r\n\t\t\twidth: '210mm',\r\n\t\t\tminHeight: '297mm',\r\n\t\t\tpadding: '8mm',\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTableContainer,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCompanyData,\r\n\tselectPublisherReceiptsStatsByMonthTableData,\r\n\tselectPublisherReceiptsStatsByMonthTotalValues,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatDate,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { BigNumber } from 'ethers'\r\nimport moment from 'moment'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function PublisherReceiptTpl({ date } = {}) {\r\n\tconst classes = useStyles()\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\r\n\tconst monthBreakdown = useSelector(state =>\r\n\t\tselectPublisherReceiptsStatsByMonthTableData(state, date)\r\n\t)\r\n\r\n\tconst { totalPayouts, totalImpressions } = useSelector(state =>\r\n\t\tselectPublisherReceiptsStatsByMonthTotalValues(state, date)\r\n\t)\r\n\tconst cpm = ((totalPayouts / totalImpressions) * 1000).toFixed(2)\r\n\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\treturn (\r\n\t\t<Box p={2} mb={5} className={classnames(classes.pageBreak)} width={1}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between' flexWrap='wrap'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4' gutterBottom>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5' gutterBottom>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2' gutterBottom>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t//Unique receipt number made from identity address and the month of the receipt\r\n\t\t\t\t\t\t\tformatAddress(\r\n\t\t\t\t\t\t\t\t`${BigNumber.from(\r\n\t\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t\t.startOf('month')\r\n\t\t\t\t\t\t\t\t\t\t.unix() * 1000\r\n\t\t\t\t\t\t\t\t).toHexString()}${identityAddr.substr(5)}`,\r\n\t\t\t\t\t\t\t\t'-'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={3}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t{formatDate(\r\n\t\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD')\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mb={2} display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6' align='right'>\r\n\t\t\t\t\t\t{t('RECEIPT_EARNED')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant='h4' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\ttotalPayouts.toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t.startOf('month')\r\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\ttotalPayouts.toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(totalImpressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_AVG_CPM')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${isFinite(cpm) ? cpm : Number(0).toFixed(2)}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t{monthBreakdown.length > 0 ? (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<TableContainer>\r\n\t\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_DATE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{`${t('RECEIPT_EARNED')} (${symbol})`}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{monthBreakdown\r\n\t\t\t\t\t\t\t\t\t\t.sort((a, b) => a.date - b.date)\r\n\t\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatDateTime(stats.date, 'YYYY-MM-DD')}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.payouts.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t) : (\r\n\t\t\t\t<Box\r\n\t\t\t\t\tmt={2}\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tjustifyContent='space-around'\r\n\t\t\t\t\talignContent='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography>{t('NO_REVENUE_THIS_MONTH')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nPublisherReceiptTpl.propTypes = {\r\n\tdate: PropTypes.any.isRequired,\r\n}\r\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport IMG_404_1 from 'resources/404-no.png'\nimport IMG_404_2 from 'resources/404-yes.png'\nimport Img from 'components/common/img/Img'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport Translate from 'components/translate/Translate'\nimport { styles } from './styles'\nimport { t } from 'selectors'\n\nconst RRButton = withReactRouterLink(Button)\n\nconst G404 = ({ size }) => (\n\t<Grid item xs={size}>\n\t\t<Typography variant={`h${6 - size}`} style={{ textTransform: 'uppercase' }}>\n\t\t\t{t('404')}\n\t\t</Typography>\n\t</Grid>\n)\n\nclass PageNotFound extends React.Component {\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\ttitle,\n\t\t\tsubtitle,\n\t\t\tgoToTxt,\n\t\t\tgoToPath,\n\t\t\tskipGoToButton,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.wrapper}>\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3' align='center'>\n\t\t\t\t\t\t\t{t(title || '404')}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t{subtitle && (\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\n\t\t\t\t\t\t\t\t{t(subtitle)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<G404 size={3} />\n\t\t\t\t\t<G404 size={4} />\n\t\t\t\t\t<G404 size={2} />\n\t\t\t\t\t<G404 size={1} />\n\t\t\t\t\t<G404 size={5} />\n\t\t\t\t\t<G404 size={3} />\n\t\t\t\t\t<G404 size={2} />\n\n\t\t\t\t\t<Grid item xs={5} sm={3}>\n\t\t\t\t\t\t<Img src={IMG_404_1} alt={'no'} className={classes.img} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={9}>\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={5} sm={3}>\n\t\t\t\t\t\t<Img src={IMG_404_2} alt={'yes'} className={classes.img} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={9}>\n\t\t\t\t\t\t{!skipGoToButton && (\n\t\t\t\t\t\t\t<RRButton\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\n\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\n\t\t\t\t\t\t\t</RRButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nPageNotFound.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tgoToTxt: PropTypes.string,\n\tgoToPath: PropTypes.string,\n\tskipGoToButton: PropTypes.bool,\n}\n\nexport default Translate(withStyles(styles)(PageNotFound))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\twrapper: {\n\t\t\tmargin: `${spacing * 2}px auto`,\n\t\t\tmaxWidth: 1000,\n\t\t},\n\t\timg: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t},\n\t}\n}\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTableContainer,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCampaignWithAnalyticsById,\r\n\tselectCompanyData,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { utils } from 'ethers'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function CampaignReceiptTpl({ campaignId } = {}) {\r\n\tconst classes = useStyles()\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst campaignBreakdown = useSelector(state =>\r\n\t\tselectCampaignStatsTableData(state, campaignId)\r\n\t)\r\n\tconst campaign = useSelector(state =>\r\n\t\tselectCampaignWithAnalyticsById(state, campaignId)\r\n\t)\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\tconst humanFriendlyName = (campaign.status || {}).humanFriendlyName\r\n\tconst receiptReady =\r\n\t\thumanFriendlyName === 'Closed' || humanFriendlyName === 'Completed'\r\n\tif (!campaign.spec || !campaign.creator) {\r\n\t\treturn (\r\n\t\t\t<PageNotFound\r\n\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\r\n\t\t\t\t\targs: ['CAMPAIGN', campaignId],\r\n\t\t\t\t})}\r\n\t\t\t\tgoToPath={`/dashboard/advertiser`}\r\n\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\tif (!receiptReady) return null\r\n\treturn (\r\n\t\t<Box p={2} mb={5} className={classnames(classes.pageBreak)} width={1}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between' flexWrap='wrap'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4' gutterBottom>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5' gutterBottom>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2' gutterBottom>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(campaignId, '-')],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={3}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t{/* TODO: Need a date when the campaign has beeen completed */}\r\n\t\t\t\t\t\t\t<strong>{formatDateTime(campaign.withdrawPeriodStart)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_CAMPAIGN_ID')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{formatAddress(campaignId)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mb={2} display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6' align='right'>\r\n\t\t\t\t\t\t{t('RECEIPT_PAID')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant='h4' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t\t\t\tutils.formatUnits(campaign.depositAmount || '0', decimals)\r\n\t\t\t\t\t\t\t\t) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.activeFrom),\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.withdrawPeriodStart),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${\r\n\t\t\t\t\t\t\tcampaign.status.fundsDistributedRatio && campaign.depositAmount\r\n\t\t\t\t\t\t\t\t? utils.commify(\r\n\t\t\t\t\t\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t\t\t\t\t\tutils.formatUnits(campaign.depositAmount || '\t0', decimals)\r\n\t\t\t\t\t\t\t\t\t\t) *\r\n\t\t\t\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t: Number(0).toFixed(2)\r\n\t\t\t\t\t\t} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.impressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_CLICKS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.clicks)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\r\n\t\t\t{campaignBreakdown.length > 0 && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<TableContainer>\r\n\t\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('CHART_LABEL_CLICKS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`${t('WEBSITE_EARNINGS')} (${symbol})`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{campaignBreakdown\r\n\t\t\t\t\t\t\t\t\t\t.sort((a, b) => b.earnings - a.earnings)\r\n\t\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talign='left'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.breakAll)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{stats.website}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.clicks)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.earnings.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nCampaignReceiptTpl.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Box, Paper, Typography, TextField, Grid } from '@material-ui/core'\r\nimport { execute, updateCompanyData } from 'actions'\r\nimport { t, selectCompanyData } from 'selectors'\r\n\r\nfunction CompanyDetails(props) {\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box mb={1}>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography gutterBottom variant='h5'>\r\n\t\t\t\t\t\t\t\t{t('COMPANY_DETAIL_HEADING')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('COMPANY_NAME')}\r\n\t\t\t\t\t\t\t\tvalue={companyName || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ companyName: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('FIRST_LAST_NAME')}\r\n\t\t\t\t\t\t\t\tvalue={firstLastName || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ firstLastName: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('ADDRESS')}\r\n\t\t\t\t\t\t\t\tvalue={address || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ address: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('COUNTRY')}\r\n\t\t\t\t\t\t\t\tvalue={country || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ country: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t{props.children}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default CompanyDetails\r\n","import React, { useRef, useEffect, useState } from 'react'\r\nimport { useParams, Redirect } from 'react-router'\r\nimport { Box, Button, Paper } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ReactToPrint from 'react-to-print'\r\nimport { Print, DateRangeSharp, GetApp } from '@material-ui/icons'\r\nimport { PublisherReceiptTpl } from './PublisherReceiptTpl'\r\nimport { CampaignReceiptTpl } from './CampaignReceiptTpl'\r\nimport CompanyDetails from './CompanyDetails'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tt,\r\n\tselectSelectedCampaigns,\r\n\tselectSide,\r\n\tselectSpinnerById,\r\n\tselectAccountIdentityDeployData,\r\n\tselectReceiptMonths,\r\n} from 'selectors'\r\nimport { execute, resetSelectedItems, getReceiptData } from 'actions'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { FETCHING_PUBLISHER_RECEIPTS } from 'constants/spinners'\r\nimport { LinearProgress } from '@material-ui/core'\r\nimport { styles } from './styles'\r\nimport ReactGA from 'react-ga'\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Receipt(props) {\r\n\tconst classes = useStyles()\r\n\tconst invoice = useRef()\r\n\tconst side = useSelector(selectSide)\r\n\t// Advertiser Receipt variables\r\n\tconst { itemId } = useParams()\r\n\tconst selectedCampaigns = useSelector(state => selectSelectedCampaigns(state))\r\n\tconst selectedByPropsOrParams = props.itemId || itemId\r\n\tconst receiptsAdvertiser = selectedByPropsOrParams\r\n\t\t? [selectedByPropsOrParams]\r\n\t\t: selectedCampaigns\r\n\r\n\t// Publisher Receipt variables\r\n\tconst { created } = useSelector(state =>\r\n\t\tselectAccountIdentityDeployData(state)\r\n\t)\r\n\tconst [startDate, setStartDate] = useState('')\r\n\tconst [endDate, setEndDate] = useState('')\r\n\tconst [dirty, setDirty] = useState(false)\r\n\tconst dates = useSelector(() => selectReceiptMonths(startDate, endDate))\r\n\tconst validateStartDate =\r\n\t\tstartDate <= endDate && startDate !== '' && endDate !== ''\r\n\tconst validateEndDate =\r\n\t\tendDate >= startDate && startDate !== '' && endDate !== ''\r\n\tconst startDateError = !validateStartDate && dirty\r\n\tconst endDateError = !validateEndDate && dirty\r\n\tconst monthMappingStartPeriod = useSelector(() =>\r\n\t\tselectReceiptMonths(created, new Date().setDate(0), false)\r\n\t)\r\n\tconst monthMappingEndPeriod = useSelector(() =>\r\n\t\tselectReceiptMonths(created, new Date().setDate(0), true)\r\n\t)\r\n\r\n\tconst fetchingPublisherReceiptsSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, FETCHING_PUBLISHER_RECEIPTS)\r\n\t)\r\n\r\n\t// Receipts\r\n\tconst [receipts, setReceipts] = useState(receiptsAdvertiser || [])\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\texecute(resetSelectedItems())\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst getReceipts = () => {\r\n\t\tReactGA.event({\r\n\t\t\taction: 'publisher',\r\n\t\t\tcategory: 'get_receipts',\r\n\t\t\tlabel: 'receipts',\r\n\t\t})\r\n\t\tsetDirty(true)\r\n\t\tif (validateStartDate && validateEndDate) {\r\n\t\t\texecute(getReceiptData(startDate, endDate))\r\n\t\t\tsetReceipts(dates.map(item => item.value))\r\n\t\t}\r\n\t}\r\n\r\n\tif (side === 'advertiser' && receipts.length === 0)\r\n\t\treturn <Redirect to={'/dashboard/advertiser/campaigns'} />\r\n\treturn (\r\n\t\t<Box display='flex' justifyContent='center' alignContent='center'>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\tflexGrow={1}\r\n\t\t\t\toverflow='hidden'\r\n\t\t\t>\r\n\t\t\t\t<CompanyDetails>\r\n\t\t\t\t\t<ReactToPrint\r\n\t\t\t\t\t\tpageStyle={\r\n\t\t\t\t\t\t\t'@page { size: A4 portrait; marks: none; } @media print { body { -webkit-print-color-adjust: exact; } }'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttrigger={() => (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\tside === 'publisher' &&\r\n\t\t\t\t\t\t\t\t\t(receipts.length === 0 || fetchingPublisherReceiptsSpinner)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{!selectedByPropsOrParams\r\n\t\t\t\t\t\t\t\t\t? `${t('RECEIPTS_PRINT_ALL')}`\r\n\t\t\t\t\t\t\t\t\t: `${t('RECEIPT_PRINT')}`}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tcontent={() => invoice.current}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</CompanyDetails>\r\n\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tp={1}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\talignItems='flex-start'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsource={[...monthMappingStartPeriod]}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirty(true)\r\n\t\t\t\t\t\t\t\t\t\tsetStartDate(val)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={startDateError}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tstartDateError && startDate !== ''\r\n\t\t\t\t\t\t\t\t\t\t\t? t('START_DATE_ERROR')\r\n\t\t\t\t\t\t\t\t\t\t\t: t('HELPER_START_DATE')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={startDate}\r\n\t\t\t\t\t\t\t\t\tlabel={t('START_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tname='startDate'\r\n\t\t\t\t\t\t\t\t\thtmlId='start-date-select'\r\n\t\t\t\t\t\t\t\t\tIconComponent={DateRangeSharp}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsource={[...monthMappingEndPeriod]}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirty(true)\r\n\t\t\t\t\t\t\t\t\t\tsetEndDate(val)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={endDateError}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tendDateError && endDate !== ''\r\n\t\t\t\t\t\t\t\t\t\t\t? t('END_DATE_ERROR')\r\n\t\t\t\t\t\t\t\t\t\t\t: t('HELPER_END_DATE')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={endDate}\r\n\t\t\t\t\t\t\t\t\tlabel={t('END_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tname='endDate'\r\n\t\t\t\t\t\t\t\t\thtmlId='end-date-select'\r\n\t\t\t\t\t\t\t\t\tIconComponent={DateRangeSharp}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tstyle={{ minHeight: 54.63 }}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tstartIcon={<GetApp />}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={() => getReceipts()}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('GET_RECEIPTS')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{fetchingPublisherReceiptsSpinner && (\r\n\t\t\t\t\t\t\t<LinearProgress className={classes.progress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t\t<Box mt={2} display='flex' alignItems='center' justifyContent='center'>\r\n\t\t\t\t\t{receipts.length > 0 && (\r\n\t\t\t\t\t\t<Box width={1}>\r\n\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t<Box ref={invoice}>\r\n\t\t\t\t\t\t\t\t\t{receipts.map(item =>\r\n\t\t\t\t\t\t\t\t\t\tside === 'advertiser' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<CampaignReceiptTpl campaignId={item} key={item} />\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\tfetchingPublisherReceiptsSpinner === false && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PublisherReceiptTpl date={item} key={item} />\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\nexport { Receipt }\r\n","import React from 'react'\nimport { utils } from 'ethers'\nimport PropTypes from 'prop-types'\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\nimport { Box } from '@material-ui/core'\nimport { t, selectMainToken } from 'selectors'\nimport { useTableData } from './tableHooks'\nimport { ReloadData } from './toolbars'\nimport { useSelector } from 'react-redux'\n\nconst getCols = ({ showEarnings, symbol }) => [\n\t{\n\t\tname: 'countryName',\n\t\tlabel: t('PROP_COUNTRY'),\n\t\toptions: {\n\t\t\tfilter: true,\n\t\t\tsort: false,\n\t\t\tdownload: true,\n\t\t},\n\t},\n\t{\n\t\tname: 'impressions',\n\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tsortDirection: 'desc',\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\n\t\t},\n\t},\n\t{\n\t\tname: 'percentImpressions',\n\t\tlabel: t('LABEL_PERC'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: percentImpressions =>\n\t\t\t\t`${percentImpressions.toFixed(2)} %`,\n\t\t},\n\t},\n\t{\n\t\tname: 'clicks',\n\t\tlabel: t('LABEL_CLICKS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\n\t\t},\n\t},\n\t{\n\t\tname: 'ctr',\n\t\tlabel: t('LABEL_CTR'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\n\t\t},\n\t},\n\t...(showEarnings\n\t\t? [\n\t\t\t\t{\n\t\t\t\t\tname: 'averageCPM',\n\t\t\t\t\tlabel: t('LABEL_AVERAGE_CPM'),\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tfilter: false,\n\t\t\t\t\t\tsort: true,\n\t\t\t\t\t\tcustomBodyRender: averageCPM =>\n\t\t\t\t\t\t\t`${utils.commify(averageCPM.toFixed(2))} ${symbol}`,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'earnings',\n\t\t\t\t\tlabel: t('LABEL_EARNINGS'),\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tfilter: false,\n\t\t\t\t\t\tsort: true,\n\t\t\t\t\t\tcustomBodyRender: earnings =>\n\t\t\t\t\t\t\t`${utils.commify(earnings.toFixed(2))} ${symbol}`,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t  ]\n\t\t: []),\n]\n\nconst getOptions = ({ reloadData, selected }) => ({\n\tfilterType: 'multiselect',\n\trowsSelected: selected,\n\trowsPerPage: 10,\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\n})\n\nfunction StatsByCountryTable(props) {\n\tconst { selector, selected = [], showEarnings } = props\n\tconst { symbol } = useSelector(selectMainToken)\n\n\tconst { data, columns, reloadData } = useTableData({\n\t\tselector,\n\t\tgetColumns: () =>\n\t\t\tgetCols({\n\t\t\t\tsymbol,\n\t\t\t\tshowEarnings,\n\t\t\t}),\n\t})\n\n\tconst options = getOptions({ selected, reloadData })\n\treturn (\n\t\t<Box>\n\t\t\t<MUIDataTableEnhanced\n\t\t\t\tdata={data}\n\t\t\t\tcolumns={columns}\n\t\t\t\toptions={options}\n\t\t\t\tnoSearch\n\t\t\t\tnoPrint\n\t\t\t\tnoViewColumns\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t</Box>\n\t)\n}\n\nStatsByCountryTable.propTypes = {\n\tselector: PropTypes.func.isRequired,\n\tshowEarnings: PropTypes.bool,\n}\n\nexport default StatsByCountryTable\n","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tZoomableGroup,\n\tComposableMap,\n\tGeographies,\n\tGeography,\n} from 'react-simple-maps'\nimport { Paper } from '@material-ui/core'\nimport ReactTooltip from 'react-tooltip'\nimport { ALEX_GREY } from 'components/App/themeMUi'\n\nconst MapChart = ({ selector }) => {\n\tconst { chartData, hoverColor, pressedColor } = useSelector(selector)\n\n\tconst [content, setContent] = useState('')\n\n\treturn (\n\t\t<Paper elevation={2} variant='outlined' square>\n\t\t\t<ComposableMap\n\t\t\t\tdata-tip='chart-map'\n\t\t\t\tprojection='geoMercator'\n\t\t\t\tprojectionConfig={{\n\t\t\t\t\tscale: 100,\n\t\t\t\t}}\n\t\t\t\twidth={666}\n\t\t\t\theight={420}\n\t\t\t>\n\t\t\t\t<ZoomableGroup maxZoom={3}>\n\t\t\t\t\t<Geographies geography={chartData}>\n\t\t\t\t\t\t{({ geographies = [] }) => {\n\t\t\t\t\t\t\treturn geographies.map(geo => {\n\t\t\t\t\t\t\t\tconst { tooltipElements, fillColor } = geo.properties\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Geography\n\t\t\t\t\t\t\t\t\t\tkey={geo.rsmKey}\n\t\t\t\t\t\t\t\t\t\tgeography={geo}\n\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetContent(tooltipElements)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonMouseLeave={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetContent('')\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tfill={fillColor}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\t\tstroke: 'white',\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\thover: {\n\t\t\t\t\t\t\t\t\t\t\t\tfill: hoverColor,\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tpressed: {\n\t\t\t\t\t\t\t\t\t\t\t\tfill: pressedColor,\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t</Geographies>\n\t\t\t\t</ZoomableGroup>\n\t\t\t</ComposableMap>\n\t\t\t{/* TODO: use material-ui tooltip ot popover */}\n\t\t\t{!!content && (\n\t\t\t\t<ReactTooltip border={false} backgroundColor={ALEX_GREY}>\n\t\t\t\t\t{Array.isArray(content)\n\t\t\t\t\t\t? content.map((x, i) => <div key={i}>{x}</div>)\n\t\t\t\t\t\t: content}\n\t\t\t\t</ReactTooltip>\n\t\t\t)}\n\t\t</Paper>\n\t)\n}\n\nexport default MapChart\n","import React from 'react'\nimport { InputAdornment, IconButton, TextField } from '@material-ui/core'\nimport { Edit, UndoOutlined } from '@material-ui/icons'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport { CampaignTargetingRules } from 'components/dashboard/forms/items/NewItems'\nimport {\n\texecute,\n\tresetNewItem,\n\tupdateCampaignAudienceInput,\n\tvalidateNumberString,\n} from 'actions'\nimport { t } from 'selectors'\nimport { Campaign, helpers } from 'adex-models'\nimport { BigNumber } from 'ethers'\nimport { formatTokenAmount } from 'helpers/formatters'\nconst { bondPerActionToUserInputPerMileValue } = helpers\n\nconst TargetingSteps = ({\n\tupdateField,\n\tfieldName,\n\tstepTitle,\n\titemId,\n\t...props\n}) => {\n\treturn (\n\t\t<FormSteps\n\t\t\t{...props}\n\t\t\tcancelFunction={() => execute(resetNewItem('Campaign', itemId))}\n\t\t\titemId={itemId}\n\t\t\tvalidateIdBase={`update-campaign-${itemId}-`}\n\t\t\titemType='Campaign'\n\t\t\tstepsId={`update-campaign-${itemId}`}\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: stepTitle || 'CAMPAIGN_AUDIENCE',\n\t\t\t\t\tcomponent: CampaignTargetingRules,\n\t\t\t\t\tcompleteBtnTitle: 'OK',\n\t\t\t\t\tcompleteFn: props =>\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tupdateCampaignAudienceInput({\n\t\t\t\t\t\t\t\tupdateField,\n\t\t\t\t\t\t\t\titemId,\n\t\t\t\t\t\t\t\tfieldName,\n\t\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t]}\n\t\t\titemModel={Campaign}\n\t\t/>\n\t)\n}\n\nexport const TargetingRulesEdit = WithDialog(TargetingSteps)\n\nexport const EditCPM = ({\n\tprop,\n\tlabel,\n\tpricingBoundsCPMUserInput,\n\taction,\n\tactionValue,\n\tvaluePerAction,\n\tupdatedValue,\n\tdecimals,\n\tsymbol,\n\tvalidations,\n\tupdateField,\n\tsetActiveFields,\n\treturnPropToInitialState,\n\tactiveFields = {},\n\tdirtyProps,\n\tvalidateId,\n\tcanSendMsgs,\n\tspecPricingBounds,\n}) => {\n\tconst err = validations[prop]\n\tconst active = !!activeFields[prop]\n\tconst showError = !!err && err.dirty\n\tconst isDirty = dirtyProps && dirtyProps.includes(prop)\n\n\tconst value = isDirty\n\t\t? updatedValue\n\t\t: pricingBoundsCPMUserInput &&\n\t\t  pricingBoundsCPMUserInput[action] &&\n\t\t  !!pricingBoundsCPMUserInput[action][actionValue]\n\t\t? pricingBoundsCPMUserInput[action][actionValue]\n\t\t: formatTokenAmount(\n\t\t\t\tBigNumber.from(valuePerAction || 0).mul(1000),\n\t\t\t\tdecimals,\n\t\t\t\ttrue\n\t\t  )\n\treturn (\n\t\t<TextField\n\t\t\tmargin='dense'\n\t\t\tfullWidth\n\t\t\tid={prop}\n\t\t\tlabel={t(label)}\n\t\t\ttype='text'\n\t\t\tname={prop}\n\t\t\tvalue={value + (active ? '' : ' ' + symbol)}\n\t\t\tonChange={ev => {\n\t\t\t\tconst value = (ev.target.value || '').trim()\n\t\t\t\tupdateField(prop, value)\n\t\t\t\texecute(\n\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\tprop,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t}}\n\t\t\tdisabled={!active}\n\t\t\terror={showError}\n\t\t\thelperText={\n\t\t\t\tshowError\n\t\t\t\t\t? t(err.errMsg, { args: err.errMsgArgs })\n\t\t\t\t\t: active && specPricingBounds && specPricingBounds[action]\n\t\t\t\t\t? t(\n\t\t\t\t\t\t\t`BOUNDS_${actionValue.toUpperCase()}_EDIT`,\n\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\tbondPerActionToUserInputPerMileValue(\n\t\t\t\t\t\t\t\t\t\tspecPricingBounds[action][actionValue],\n\t\t\t\t\t\t\t\t\t\tdecimals\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t}\n\t\t\t\t\t  )\n\t\t\t\t\t: ''\n\t\t\t}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: canSendMsgs ? (\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState(prop)\n\t\t\t\t\t\t\t\t\t: setActiveFields(prop, true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t) : null,\n\t\t\t}}\n\t\t/>\n\t)\n}\n","import React from 'react'\nimport {\n\tGrid,\n\tBox,\n\tInputAdornment,\n\tButton,\n\tDivider,\n\tCircularProgress,\n} from '@material-ui/core'\nimport { StopSharp, PauseSharp, StarSharp } from '@material-ui/icons'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { BigNumber } from 'ethers'\nimport {\n\tItemTitle,\n\tMediaCard,\n\tItemSpecProp,\n} from 'components/dashboard/containers/ItemCommon/'\nimport {\n\tTargetingRulesEdit,\n\tEditCPM,\n} from 'components/dashboard/containers/Campaign/CampaignEdits'\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\nimport {\n\tt,\n\tselectMainToken,\n\tselectSpinnerById,\n\tselectCampaignDisplayStatus,\n} from 'selectors'\nimport {\n\texecute,\n\tcloseCampaign,\n\tpauseOrResumeCampaign,\n\tconfirmAction,\n\tmapCurrentToNewCampaignAudienceInput,\n} from 'actions'\nimport { useSelector } from 'react-redux'\n\nconst getCloseCampaignsFees = ({\n\tdepositAmount,\n\tvalidators,\n\tfundsDistributedRatio,\n\tdecimals,\n}) => {\n\tconst deposit = BigNumber.from(depositAmount)\n\tconst totalFees = validators.reduce(\n\t\t(sum, { fee }) => sum.add(BigNumber.from(fee)),\n\t\tBigNumber.from(0)\n\t)\n\n\tconst feesPercent =\n\t\ttotalFees\n\t\t\t.mul(BigNumber.from(10000))\n\t\t\t.div(deposit)\n\t\t\t.toNumber() / 100\n\n\tconst nonDistributedFunds = deposit.sub(\n\t\tdeposit\n\t\t\t.mul(fundsDistributedRatio)\n\t\t\t.div(BigNumber.from(1000))\n\t\t\t.toString()\n\t)\n\n\tconst feesToPay = totalFees.sub(\n\t\ttotalFees\n\t\t\t.mul(fundsDistributedRatio)\n\t\t\t.div(BigNumber.from(1000))\n\t\t\t.toString()\n\t)\n\n\tconst percent = feesPercent.toFixed(2) + '%'\n\tconst toPay = formatTokenAmount(feesToPay, decimals, false, 2)\n\tconst nonDistributed = formatTokenAmount(\n\t\tnonDistributedFunds,\n\t\tdecimals,\n\t\tfalse,\n\t\t2\n\t)\n\n\treturn { percent, toPay, nonDistributed }\n}\n\nconst useStyles = makeStyles(theme => ({\n\twrapper: {\n\t\tmargin: theme.spacing(1),\n\t\tposition: 'relative',\n\t},\n\tbuttonProgress: {\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}))\n\nexport const CampaignBasic = ({\n\titem,\n\titemPlain,\n\tcanSendMsgs,\n\tisActive,\n\t...hookProps\n}) => {\n\tconst classes = useStyles()\n\tconst {\n\t\ttitle,\n\t\tadUnits = [],\n\t\tpricingBounds,\n\t\tpricingBoundsCPMUserInput,\n\t\tdepositAmount,\n\t\tvalidators,\n\t\tminPerImpression,\n\t\tmaxPerImpression,\n\t\taudienceInput,\n\t} = item\n\n\tconst { advanced = {} } = (audienceInput || {}).inputs || {}\n\tconst { decimals, symbol } = selectMainToken()\n\tconst { title: errTitle } = hookProps.validations\n\n\tconst { mediaUrl, mediaMime } = adUnits[0] || {}\n\tconst status = item.status || {}\n\tconst { fundsDistributedRatio } = status\n\tconst displayStatus = selectCampaignDisplayStatus(status)\n\tconst isPaused = ((item.targetingRules || [])[0] || {}).onlyShowIf === false\n\tconst pauseAction = isPaused ? 'RESUME' : 'PAUSE'\n\n\tconst campaignPricingBounds = pricingBounds || { IMPRESSION: {} }\n\tconst cpmMin = campaignPricingBounds.IMPRESSION.min || minPerImpression || 0\n\tconst cpmMax = campaignPricingBounds.IMPRESSION.max || maxPerImpression || 0\n\n\tconst closeSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, `closing-campaign-${item.id}`)\n\t)\n\n\tconst pauseSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, `pausing-campaign-${item.id}`)\n\t)\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\n\t\t\t\t<Box my={1}>\n\t\t\t\t\t<MediaCard mediaUrl={mediaUrl} mediaMime={mediaMime} />\n\t\t\t\t</Box>\n\t\t\t\t{isActive && (\n\t\t\t\t\t<Grid container spacing={1} alignItems='center'>\n\t\t\t\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\n\t\t\t\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\t\t\tpercent,\n\t\t\t\t\t\t\t\t\t\t\ttoPay,\n\t\t\t\t\t\t\t\t\t\t\tnonDistributed,\n\t\t\t\t\t\t\t\t\t\t} = getCloseCampaignsFees({\n\t\t\t\t\t\t\t\t\t\t\tdepositAmount,\n\t\t\t\t\t\t\t\t\t\t\tvalidators,\n\t\t\t\t\t\t\t\t\t\t\tfundsDistributedRatio,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\tconfirmAction(\n\t\t\t\t\t\t\t\t\t\t\t\t() => execute(closeCampaign({ campaign: item })),\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfirmLabel: t('CLOSE_CAMPAIGN_CONFIRM_LABEL'),\n\t\t\t\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: t('CLOSE_CAMPAIGN_CONFIRM_TITLE', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [title],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: t('CLOSE_CAMPAIGN_CONFIRM_INFO', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [percent, toPay, nonDistributed, symbol],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdisabled={closeSpinner || !canSendMsgs}\n\t\t\t\t\t\t\t\t\tendIcon={<StopSharp />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{closeSpinner && (\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\n\t\t\t\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\tconfirmAction(\n\t\t\t\t\t\t\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\texecute(pauseOrResumeCampaign({ campaign: item })),\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfirmLabel: t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${pauseAction}_CAMPAIGN_CONFIRM_LABEL`\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: t(`${pauseAction}_CAMPAIGN_CONFIRM_TITLE`, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [title],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: t(`${pauseAction}_CAMPAIGN_CONFIRM_INFO`, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdisabled={pauseSpinner || !canSendMsgs}\n\t\t\t\t\t\t\t\t\tendIcon={isPaused ? <StarSharp /> : <PauseSharp />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(`BTN_${pauseAction}_CAMPAIGN`)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{pauseSpinner && (\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</Grid>\n\n\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\n\t\t\t\t<Box mt={1}>\n\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\n\t\t\t\t</Box>\n\t\t\t\t<Box mt={1}>\n\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\tprop={'id'}\n\t\t\t\t\t\tvalue={item.id}\n\t\t\t\t\t\tlabel={t('id', { isProp: true })}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'displayStatus'}\n\t\t\t\t\t\t\t\tvalue={displayStatus}\n\t\t\t\t\t\t\t\tlabel={t(displayStatus)}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end' disableTypography>\n\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(status, 'md')}\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'created'}\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\n\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'activeFrom'}\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\n\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'withdrawPeriodStart'}\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\n\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{/* <Box my={1}>\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\t\t\t\tprop={'CAMPAIGN_MIN_TARGETING'}\n\t\t\t\t\t\t\t\t\t\t\tvalue={item.minTargetingScore > 0 ? t('YES') : t('NO')}\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Box> */}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'fundsDistributedRatio'}\n\t\t\t\t\t\t\t\tvalue={((fundsDistributedRatio || 0) / 10).toFixed(2)}\n\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'depositAmount'}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, decimals) + ' ' + symbol\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<EditCPM\n\t\t\t\t\t\t\t\tpricingBoundsCPMUserInput={pricingBoundsCPMUserInput}\n\t\t\t\t\t\t\t\taction='IMPRESSION'\n\t\t\t\t\t\t\t\tactionValue={'min'}\n\t\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\n\t\t\t\t\t\t\t\tprop='minPerImpression'\n\t\t\t\t\t\t\t\tlabel='CPM_MIN'\n\t\t\t\t\t\t\t\tvaluePerAction={cpmMin}\n\t\t\t\t\t\t\t\tupdatedValue={minPerImpression}\n\t\t\t\t\t\t\t\tdecimals={decimals}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t\t// errProp={'pricingBounds_min'}\n\t\t\t\t\t\t\t\tspecPricingBounds={itemPlain.specPricingBounds}\n\t\t\t\t\t\t\t\t{...hookProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<EditCPM\n\t\t\t\t\t\t\t\tpricingBoundsCPMUserInput={pricingBoundsCPMUserInput}\n\t\t\t\t\t\t\t\taction='IMPRESSION'\n\t\t\t\t\t\t\t\tactionValue={'max'}\n\t\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\n\t\t\t\t\t\t\t\tprop='maxPerImpression'\n\t\t\t\t\t\t\t\tlabel='CPM_MAX'\n\t\t\t\t\t\t\t\tvaluePerAction={cpmMax}\n\t\t\t\t\t\t\t\tupdatedValue={maxPerImpression}\n\t\t\t\t\t\t\t\tdecimals={decimals}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t\t// errProp={'pricingBounds_max'}\n\t\t\t\t\t\t\t\tspecPricingBounds={itemPlain.specPricingBounds}\n\t\t\t\t\t\t\t\t{...hookProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Box mt={3} mb={1}>\n\t\t\t\t\t<Divider />\n\t\t\t\t</Box>\n\t\t\t\t<Grid container spacing={2} pt={2}>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'INCLUDE_INCENTIVIZED_TRAFFIC_LABEL'}\n\t\t\t\t\t\t\t\tvalue={t(advanced.includeIncentivized ? 'YES' : 'NO')}\n\t\t\t\t\t\t\t\tlabel={t('INCLUDE_INCENTIVIZED_TRAFFIC_LABEL')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'DISABLE_FREQUENCY_CAPPING_LABEL'}\n\t\t\t\t\t\t\t\tvalue={t(advanced.disableFrequencyCapping ? 'YES' : 'NO')}\n\t\t\t\t\t\t\t\tlabel={t('DISABLE_FREQUENCY_CAPPING_LABEL')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'LIMIT_AVERAGE_DAILY_SPENDING_LABEL'}\n\t\t\t\t\t\t\t\tvalue={t(advanced.limitDailyAverageSpending ? 'YES' : 'NO')}\n\t\t\t\t\t\t\t\tlabel={t('LIMIT_AVERAGE_DAILY_SPENDING_LABEL')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t\t{isActive && (\n\t\t\t\t\t\t\t\t<TargetingRulesEdit\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tadvancedOnly\n\t\t\t\t\t\t\t\t\tfieldName='campaignAdvanced'\n\t\t\t\t\t\t\t\t\tstepTitle='PROP_CAMPAIGN_ADVANCED'\n\t\t\t\t\t\t\t\t\tbtnLabel='EDIT_CAMPAIGN_ADVANCED'\n\t\t\t\t\t\t\t\t\ttitle='EDIT_CAMPAIGN_ADVANCED_TITLE'\n\t\t\t\t\t\t\t\t\titemId={item.id}\n\t\t\t\t\t\t\t\t\tdisabled={!canSendMsgs}\n\t\t\t\t\t\t\t\t\tdisableBackdropClick\n\t\t\t\t\t\t\t\t\tupdateField={hookProps.updateField}\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\tmapCurrentToNewCampaignAudienceInput({\n\t\t\t\t\t\t\t\t\t\t\t\titemId: item.id,\n\t\t\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tBox,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n} from '@material-ui/core'\nimport { t, selectAudienceByCampaignId } from 'selectors'\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\nimport { NewCampaignFromAudience } from 'components/dashboard/forms/items/NewItems'\nimport {\n\texecute,\n\tupdateNewCampaign,\n\tupdateNewAudience,\n\tmapCurrentToNewCampaignAudienceInput,\n} from 'actions'\nimport { NewAudienceDialog } from 'components/dashboard/forms/items/NewItems'\nimport { TargetingRulesEdit } from 'components/dashboard/containers/Campaign/CampaignEdits'\n\nconst useStyles = makeStyles(theme => ({\n\tactions: {\n\t\t'& > *': {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t\tmarginBottom: theme.spacing(1),\n\t\t},\n\t},\n}))\n\nexport const CampaignAudience = ({\n\titem,\n\tisActive,\n\tcanSendMsgs,\n\t...hookProps\n}) => {\n\tconst classes = useStyles()\n\tconst campaignAudienceInput =\n\t\tuseSelector(state => selectAudienceByCampaignId(state, item.id)) || {}\n\n\tconst audienceInput =\n\t\titem.audienceInput && Object.keys(item.audienceInput.inputs).length\n\t\t\t? item.audienceInput\n\t\t\t: campaignAudienceInput\n\n\treturn (\n\t\t<Box>\n\t\t\t<Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<AudiencePreview audienceInput={audienceInput.inputs} />\n\t\t\t\t</Box>\n\t\t\t\t<Box className={classes.actions}>\n\t\t\t\t\t{isActive && (\n\t\t\t\t\t\t<TargetingRulesEdit\n\t\t\t\t\t\t\tbtnLabel='UPDATE_AUDIENCE'\n\t\t\t\t\t\t\ttitle='UPDATE_CAMPAIGN_AUDIENCE'\n\t\t\t\t\t\t\titemId={item.id}\n\t\t\t\t\t\t\tdisabled={!canSendMsgs}\n\t\t\t\t\t\t\tdisableBackdropClick\n\t\t\t\t\t\t\tupdateField={hookProps.updateField}\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tmapCurrentToNewCampaignAudienceInput({\n\t\t\t\t\t\t\t\t\t\titemId: item.id,\n\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<NewCampaignFromAudience\n\t\t\t\t\t\tbtnLabel='NEW_CAMPAIGN_FROM_AUDIENCE'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tonBeforeOpen={() =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\n\t\t\t\t\t\t\t\t\t...audienceInput,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<NewAudienceDialog\n\t\t\t\t\t\tbtnLabel='SAVE_AUDIENCE'\n\t\t\t\t\t\ttitle='CREATE_NEW_AUDIENCE'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tonBeforeOpen={() =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewAudience(null, null, {\n\t\t\t\t\t\t\t\t\t...audienceInput,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box>\n\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\taria-controls='targeting-rules-content'\n\t\t\t\t\t\tid='targeting-rules-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>{t('TARGETING_RULES')}</Typography>\n\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\n\t\t\t\t\t\t<pre>\n\t\t\t\t\t\t\t{JSON.stringify(\n\t\t\t\t\t\t\t\titem.targetingRules || item.spec.targetingRules || [],\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</pre>\n\t\t\t\t\t</Box>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Line, Chart } from 'react-chartjs-2'\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\nimport { GANDALF_GREY, ALEX_GREY_LIGHT } from 'components/App/themeMUi'\nimport { Box, Typography } from '@material-ui/core'\nimport Helper from 'helpers/miscHelpers'\nimport { selectMainToken } from 'selectors'\nimport { formatFloatNumberWithCommas } from 'helpers/formatters'\nimport { t } from 'selectors'\nimport { useWindowSize } from 'hooks/useWindowSize'\n\nconst commonDsProps = {\n\tfill: false,\n\tlineTension: 0,\n\tborderWidth: 2,\n\tpointRadius: 2,\n\tpointHitRadius: 10,\n}\n\nconst DEFAULT_FONT_SIZE = 14.2\nconst FONT = 'Roboto'\nconst DASH_SIZE = 4\nconst DASH_WIDTH = 2\n\nconst DefaultLabel = ({ label = '', align }) =>\n\tlabel.split('-').map((x, index, all) => (\n\t\t<Typography key={x + index} component='div' variant='caption' align={align}>\n\t\t\t{x}\n\t\t</Typography>\n\t))\n\nexport const SimpleStatistics = ({\n\tdata1,\n\tdata2,\n\tdata3,\n\tdata4,\n\tdata1Active = true,\n\tdata2Active = true,\n\tdata3Active = true,\n\tdata4Active = true,\n\tdataSynced,\n\tdefaultLabels = [],\n\toptions = {},\n\txLabel = 'TIMEFRAME',\n\ty1Label = 'DATA1',\n\ty2Label = 'DATA2',\n\ty3Label = 'DATA3',\n\ty4Label = 'DATA4',\n\ty1Color = CHARTS_COLORS[1],\n\ty2Color = CHARTS_COLORS[2],\n\ty3Color = CHARTS_COLORS[3],\n\ty4Color = CHARTS_COLORS[4],\n}) => {\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst windowSize = useWindowSize()\n\tconst chartHeight = Math.min(\n\t\tMath.max(Math.floor((windowSize.height || 0) / 2.2), 240),\n\t\t420\n\t)\n\t// Vertical line / crosshair\n\tuseEffect(() => {\n\t\tChart.pluginService.register({\n\t\t\tbeforeDraw: function(chart) {\n\t\t\t\tconst ctx = chart.ctx\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\n\t\t\t\t\tconst chartScalesy1 = chart.scales['y-axis-1']\n\t\t\t\t\tif (chartScalesy1) {\n\t\t\t\t\t\tconst topY = chartScalesy1.top\n\t\t\t\t\t\tconst bottomY = chartScalesy1.bottom\n\t\t\t\t\t\tctx.save()\n\t\t\t\t\t\tctx.beginPath()\n\t\t\t\t\t\tctx.moveTo(x, topY)\n\t\t\t\t\t\tctx.lineTo(x, bottomY)\n\t\t\t\t\t\tctx.lineWidth = DASH_WIDTH\n\t\t\t\t\t\tctx.setLineDash([DASH_SIZE, DASH_SIZE])\n\t\t\t\t\t\tctx.strokeStyle = GANDALF_GREY // color of the vertical line\n\t\t\t\t\t\tctx.stroke()\n\t\t\t\t\t\tctx.restore()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t})\n\n\tconst chartData = {\n\t\tlabels: dataSynced ? data1.labels : defaultLabels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 1),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\n\t\t\t\tlabel: y1Label,\n\t\t\t\tdata: dataSynced ? data1.datasets : [],\n\t\t\t\tyAxisID: 'y-axis-1',\n\t\t\t\thidden: !data1Active,\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 1),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\n\t\t\t\tlabel: y2Label,\n\t\t\t\tdata: dataSynced ? data2.datasets : [],\n\t\t\t\tyAxisID: 'y-axis-2',\n\t\t\t\thidden: !data2Active,\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y3Color, 1),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y3Color, 1),\n\t\t\t\tlabel: y3Label,\n\t\t\t\tdata: dataSynced ? data3.datasets : [],\n\t\t\t\tyAxisID: 'y-axis-3',\n\t\t\t\thidden: !data3Active,\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y4Color, 1),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y4Color, 1),\n\t\t\t\tpointBackgroundColor: y4Color,\n\t\t\t\tlabel: y4Label,\n\t\t\t\tdata: dataSynced ? data4.datasets : [],\n\t\t\t\tyAxisID: 'y-axis-4',\n\t\t\t\thidden: !data4Active,\n\t\t\t},\n\t\t],\n\t}\n\n\tconst linesOptions = {\n\t\tanimation: false,\n\t\tresponsive: true,\n\t\tlayout: {\n\t\t\tpadding: {\n\t\t\t\ttop: 16,\n\t\t\t},\n\t\t},\n\t\t// This and fixed height are used for proper mobile display of the chart\n\t\tmaintainAspectRatio: false,\n\t\ttitle: {\n\t\t\tdisplay: false,\n\t\t\ttext: options.title,\n\t\t},\n\t\tlegend: {\n\t\t\tdisplay: false,\n\t\t},\n\t\ttooltips: {\n\t\t\tbackgroundColor: 'black',\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t\ttitleFontSize: DEFAULT_FONT_SIZE,\n\t\t\tbodyFontSize: DEFAULT_FONT_SIZE,\n\t\t\tbodyFontFamily: FONT,\n\t\t\ttitleFontFamily: FONT,\n\t\t\txPadding: 8,\n\t\t\tyPadding: 8,\n\t\t\tcornerRadius: 0,\n\t\t\tbodySpacing: 4,\n\t\t\tcaretSize: 8,\n\t\t\tdisplayColors: true,\n\t\t\tcallbacks: {\n\t\t\t\tlabel: function(t, d) {\n\t\t\t\t\t// This adds currency MainToken (DAI) to y3Label in the tooltips\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\n\t\t\t\t\tvar yLabel =\n\t\t\t\t\t\txLabel === y3Label\n\t\t\t\t\t\t\t? `${formatFloatNumberWithCommas(t.yLabel)} ${symbol}`\n\t\t\t\t\t\t\t: formatFloatNumberWithCommas(t.yLabel)\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\thover: {\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [\n\t\t\t\t{\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tdrawBorder: true,\n\t\t\t\t\t\tdrawTicks: true,\n\t\t\t\t\t\tcolor: ALEX_GREY_LIGHT,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\n\t\t\t\t\t\tfontFamily: FONT,\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tautoSkip: true,\n\t\t\t\t\t\tmaxTicksLimit: 2,\n\t\t\t\t\t\tmaxRotation: 0,\n\t\t\t\t\t\tpadding: -24,\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\n\t\t\t\t\t\tfontFamily: FONT,\n\t\t\t\t\t\tcallback: () => '',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\t// NOTE: this one is just to show constant size grid lines\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\t// color: ALEX_GREY_LIGHT,\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tdrawBorder: false,\n\t\t\t\t\t\tdrawTicks: false,\n\t\t\t\t\t\tcolor: ALEX_GREY_LIGHT,\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tmaxTicksLimit: 11,\n\t\t\t\t\t\tstepSize: 1,\n\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\tmax: 10,\n\t\t\t\t\t\tcallback: () => '',\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t},\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tid: 'y-axis-dummy-grid-lines',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tid: 'y-axis-1',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tid: 'y-axis-2',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tid: 'y-axis-3',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t// Hax - force to shift the data veridically\n\t\t\t\t\t\t// because chance for overlapping with -1 is very big\n\t\t\t\t\t\t// At same CPM impressions are the same curve as the sped one\n\t\t\t\t\t\tmaxTicksLimit: 3,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tid: 'y-axis-4',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t}\n\n\treturn (\n\t\t<Box>\n\t\t\t<Box height={chartHeight}>\n\t\t\t\t<Line height={chartHeight} data={chartData} options={linesOptions} />\n\t\t\t</Box>\n\t\t\t<Box\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='row'\n\t\t\t\tjustifyContent='space-between'\n\t\t\t\talignItems='center'\n\t\t\t\tpx={1}\n\t\t\t\tflexWrap='wrap'\n\t\t\t>\n\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t<DefaultLabel label={defaultLabels[0]} align='left' />\n\t\t\t\t</Box>\n\n\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t<Typography component='div' variant='caption' align='center'>\n\t\t\t\t\t\t{t(xLabel || 'TIMEFRAME')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\n\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t<DefaultLabel label={defaultLabels[1]} align='right' />\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import { useState, useEffect } from 'react'\r\n\r\nexport function useWindowSize() {\r\n\tconst hasWindow = typeof window === 'object'\r\n\r\n\tfunction getWindowSize() {\r\n\t\treturn {\r\n\t\t\twidth: hasWindow ? window.innerWidth : 0,\r\n\t\t\theight: hasWindow ? window.innerHeight : 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst [windowSize, setWindowSize] = useState(getWindowSize)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!hasWindow) {\r\n\t\t\treturn false\r\n\t\t}\r\n\r\n\t\tfunction onResize() {\r\n\t\t\tsetWindowSize(getWindowSize())\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('resize', onResize)\r\n\r\n\t\treturn () => window.removeEventListener('resize', onResize)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [hasWindow])\r\n\r\n\treturn windowSize\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Box, Typography } from '@material-ui/core'\nimport classnames from 'classnames'\nimport { ArrowTooltip } from 'components/common/tooltips'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport { Info, Visibility, VisibilityOff } from '@material-ui/icons'\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\troot: {\n\t\t\tcursor: 'pointer',\n\t\t\tposition: 'relative',\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\n\t\t\tcolor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\n\t\t\t\ttheme.palette.text.primary,\n\t\t},\n\t\tinfoCard: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tprogress: {\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tposition: 'absolute',\n\t\t\twidth: '100%',\n\t\t},\n\t\tvisibilityIcon: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\tposition: 'absolute',\n\t\t\ttop: theme.spacing(0.3),\n\t\t\tright: theme.spacing(0.5),\n\t\t},\n\t}\n})\n\nconst StatsCard = props => {\n\tconst {\n\t\ttitle,\n\t\tsubtitle,\n\t\tlinkCard,\n\t\tchildren,\n\t\tonClick,\n\t\tbgColor,\n\t\tloading,\n\t\texplain,\n\t\tdataVisible,\n\t} = props\n\n\tconst classes = useStyles({ bgColor, dataVisible })\n\n\tconst VIcon = dataVisible ? Visibility : VisibilityOff\n\n\treturn (\n\t\t<Box\n\t\t\toverflow='hidden'\n\t\t\tp={1}\n\t\t\tvariant='outlined'\n\t\t\tclassName={classnames(classes.root, {\n\t\t\t\t[classes.linkCard]: !!linkCard,\n\t\t\t})}\n\t\t\tonClick={onClick}\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\tjustifyContent='center'\n\t\t\talignContent='stretch'\n\t\t\tflexWrap='wrap'\n\t\t\tflexGrow={1}\n\t\t>\n\t\t\t<Box>\n\t\t\t\t{children}\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='row'\n\t\t\t\t\tjustifyContent='flex-start'\n\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tpr={3}\n\t\t\t\t>\n\t\t\t\t\t{onClick && <VIcon className={classes.visibilityIcon} size='large' />}\n\t\t\t\t\t{title && (\n\t\t\t\t\t\t<Typography variant='h6' noWrap>\n\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\n\t\t\t\t{subtitle &&\n\t\t\t\t\t(explain ? (\n\t\t\t\t\t\t<ArrowTooltip\n\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t<Typography component='div' variant='caption'>\n\t\t\t\t\t\t\t\t\t{explain}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Typography component='div'>\n\t\t\t\t\t\t\t\t{subtitle} <Info style={{ fontSize: 12 }} />\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</ArrowTooltip>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Typography component='div'>{subtitle}</Typography>\n\t\t\t\t\t))}\n\t\t\t</Box>\n\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\n\t\t</Box>\n\t)\n}\n\nStatsCard.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tlinkCard: PropTypes.bool,\n}\n\nexport default StatsCard\n","export const styles = theme => {\n\treturn {\n\t\tdatepickerContrastInput: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\tdatepickerContrastLabel: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\t'&$datepickerContrastLabelFocused': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tdatepickerContrastLabelFocused: {},\n\t\tdatepickerContrastUnderline: {\n\t\t\t'&:after': {\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t\t'&:before': {\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t},\n\t\tdayWrapper: {\n\t\t\tposition: 'relative',\n\t\t},\n\t\tday: {\n\t\t\twidth: 36,\n\t\t\theight: 36,\n\t\t\tfontSize: theme.typography.caption.fontSize,\n\t\t\tmargin: '0 2px',\n\t\t\tcolor: 'inherit',\n\t\t},\n\t\tcustomDayHighlight: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: '2px',\n\t\t\tright: '2px',\n\t\t\tborder: `1px solid ${theme.palette.secondary.main}`,\n\t\t\tborderRadius: '50%',\n\t\t},\n\t\tnonCurrentMonthDay: {\n\t\t\tcolor: theme.palette.text.disabled,\n\t\t},\n\t\thighlightNonCurrentMonthDay: {\n\t\t\tcolor: '#676767',\n\t\t},\n\t\thighlight: {\n\t\t\tbackground: theme.palette.primary.main,\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\tfirstHighlight: {\n\t\t\textend: 'highlight',\n\t\t\tborderTopLeftRadius: '50%',\n\t\t\tborderBottomLeftRadius: '50%',\n\t\t},\n\t\tendHighlight: {\n\t\t\textend: 'highlight',\n\t\t\tborderTopRightRadius: '50%',\n\t\t\tborderBottomRightRadius: '50%',\n\t\t},\n\t\tdayDisabled: {\n\t\t\tcolor: 'rgba(0, 0, 0, 0.38)',\n\t\t\tpointerEvents: 'none',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport { DatePicker as MuiDatePicker } from '@material-ui/pickers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport {\n\tDateRangeSharp,\n\tNavigateNextRounded,\n\tNavigateBeforeRounded,\n\tUpdate,\n} from '@material-ui/icons'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport dateUtils, { makeJSDateObject } from 'helpers/dateUtils'\nimport clsx from 'clsx'\n\nconst CalendarIconAdor = ({\n\ticon = <DateRangeSharp />,\n\ticonColor,\n\tonIconClick,\n\tonNextClick,\n\tonLiveClick,\n}) => (\n\t<InputAdornment position='end'>\n\t\t{onNextClick && (\n\t\t\t<IconButton color={iconColor} onClick={onNextClick} size='small'>\n\t\t\t\t<NavigateNextRounded />\n\t\t\t</IconButton>\n\t\t)}\n\t\t<IconButton color={iconColor} onClick={onIconClick} size='small'>\n\t\t\t{icon}\n\t\t</IconButton>\n\t\t{onLiveClick && (\n\t\t\t<IconButton color={iconColor} onClick={onLiveClick} size='small'>\n\t\t\t\t<Update />\n\t\t\t</IconButton>\n\t\t)}\n\t</InputAdornment>\n)\n\nexport class DatePicker extends Component {\n\trender() {\n\t\tconst {\n\t\t\tcalendarIcon,\n\t\t\ticon,\n\t\t\ticonColor,\n\t\t\tInputProps = {},\n\t\t\tonIconClick,\n\t\t\tonNextClick,\n\t\t\tonLiveClick,\n\t\t\tonBackClick,\n\t\t\t...rest\n\t\t} = this.props\n\t\treturn (\n\t\t\t<MuiDatePicker\n\t\t\t\tInputProps={{\n\t\t\t\t\t...InputProps,\n\t\t\t\t\tdisabled: rest.disabled,\n\t\t\t\t\tendAdornment: calendarIcon ? (\n\t\t\t\t\t\t<CalendarIconAdor\n\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\ticonColor={iconColor}\n\t\t\t\t\t\t\tonIconClick={onIconClick}\n\t\t\t\t\t\t\tonNextClick={onNextClick}\n\t\t\t\t\t\t\tonLiveClick={onLiveClick}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null,\n\t\t\t\t\tstartAdornment: onBackClick ? (\n\t\t\t\t\t\t<InputAdornment position='start'>\n\t\t\t\t\t\t\t<IconButton color={iconColor} onClick={onBackClick} size='small'>\n\t\t\t\t\t\t\t\t<NavigateBeforeRounded />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t) : null,\n\t\t\t\t}}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default DatePicker\n\nconst datePickerStyled = ({\n\tclasses,\n\tcalendarIcon,\n\ticon,\n\tInputProps = {},\n\t...rest\n}) => {\n\treturn (\n\t\t<DatePicker\n\t\t\tInputLabelProps={{\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t},\n\t\t\t\tFormLabelClasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tInputProps={{\n\t\t\t\t...InputProps,\n\t\t\t\tdisabled: rest.disabled,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastInput,\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\n\t\t\t\t},\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const DatePickerContrast = withStyles(styles)(datePickerStyled)\n\nconst dayIsFuture = date => dateUtils.isAfter(date, dateUtils.date())\n\nfunction PeriodSelectDatePicker({ classes, period, ...rest }) {\n\tconst renderWrappedWeekDay = (date, selectedDate, dayInCurrentMonth) => {\n\t\tlet dateClone = makeJSDateObject(date)\n\t\tlet selectedDateClone = makeJSDateObject(selectedDate)\n\n\t\tconst start = dateUtils.startOfDay(selectedDateClone)\n\t\tlet end = dateUtils.date(start)\n\n\t\tswitch (period) {\n\t\t\tcase 'week':\n\t\t\t\tend = dateUtils.startOfDay(dateUtils.addDays(start, 6))\n\t\t\t\tmaxDate = dateUtils.addDays(dateUtils.date(), -6)\n\t\t\t\tbreak\n\t\t\tcase 'month':\n\t\t\t\tend = dateUtils.startOfDay(\n\t\t\t\t\tdateUtils.addDays(dateUtils.addMonths(start, 1), -1)\n\t\t\t\t)\n\t\t\t\tmaxDate = dateUtils.addDays(dateUtils.addMonths(dateUtils.date(), 1), 1)\n\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t}\n\n\t\tconst dayIsBetween = dateUtils.isWithinInterval(dateClone, { start, end })\n\t\tconst isFirstDay = dateUtils.isSameDay(dateClone, start)\n\t\tconst isLastDay = dateUtils.isSameDay(dateClone, end)\n\n\t\tconst wrapperClassName = clsx({\n\t\t\t[classes.highlight]: dayIsBetween,\n\t\t\t[classes.firstHighlight]: isFirstDay,\n\t\t\t[classes.endHighlight]: isLastDay,\n\t\t})\n\n\t\tconst dayClassName = clsx(classes.day, {\n\t\t\t[classes.nonCurrentMonthDay]: !dayInCurrentMonth,\n\t\t\t[classes.highlightNonCurrentMonthDay]: !dayInCurrentMonth && dayIsBetween,\n\t\t\t[classes.dayDisabled]: dayIsFuture(dateClone),\n\t\t})\n\n\t\treturn (\n\t\t\t<div className={wrapperClassName}>\n\t\t\t\t<IconButton className={dayClassName}>\n\t\t\t\t\t<span> {dateUtils.format(dateClone, 'D')} </span>\n\t\t\t\t</IconButton>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tlet maxDate = dateUtils.date()\n\n\tswitch (period) {\n\t\tcase 'week':\n\t\t\tmaxDate = dateUtils.addDays(dateUtils.date(), -6)\n\t\t\tbreak\n\t\tcase 'month':\n\t\t\tmaxDate = dateUtils.addDays(dateUtils.addMonths(dateUtils.date(), -1), 1)\n\n\t\t\tbreak\n\t\tdefault:\n\t\t\tbreak\n\t}\n\n\treturn (\n\t\t<DatePicker\n\t\t\tlabel='Week Picker'\n\t\t\trenderDay={renderWrappedWeekDay}\n\t\t\tshouldDisableDate={date => dayIsFuture(date)}\n\t\t\tviews={['year', 'month', 'date']}\n\t\t\tmaxDate={maxDate}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const PeriodDatePicker = withStyles(styles)(PeriodSelectDatePicker)\n","import { useState, useEffect } from 'react'\r\n\r\nexport function useKeyPress(targetKey) {\r\n\tconst [keyPressed, setKeyPressed] = useState(false)\r\n\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\tconst downHandler = ev => {\r\n\t\tif (ev.key === targetKey) {\r\n\t\t\tev.preventDefault()\r\n\t\t\tsetKeyPressed(true)\r\n\t\t}\r\n\t}\r\n\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\tconst upHandler = ev => {\r\n\t\tif (ev.key === targetKey) {\r\n\t\t\tev.preventDefault()\r\n\t\t\tsetKeyPressed(false)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('keydown', downHandler)\r\n\t\twindow.addEventListener('keyup', upHandler)\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', downHandler)\r\n\t\t\twindow.removeEventListener('keyup', upHandler)\r\n\t\t}\r\n\t}, [downHandler, upHandler])\r\n\r\n\treturn keyPressed\r\n}\r\n","import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tVisibility,\n\tMonetizationOn,\n\tMouse,\n\tEqualizer,\n} from '@material-ui/icons'\nimport { Box } from '@material-ui/core'\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\nimport Dropdown from 'components/common/dropdown'\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\nimport StatsCard from './StatsCard'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport DateTimePicker from 'components/common/DateTimePicker'\nimport { PeriodDatePicker, DatePicker } from 'components/common/DatePicker'\nimport { ALEX_GREY_LIGHT } from 'components/App/themeMUi'\nimport { styles } from './styles'\nimport { formatNumberWithCommas } from 'helpers/formatters'\nimport {\n\texecute,\n\tupdateIdSideAnalyticsChartTimeframe,\n\tupdateIdSideAnalyticsChartPeriod,\n\tupdateAnalyticsPeriodPrevNextLive,\n\tupdateAccountAnalyticsThrottled,\n} from 'actions'\nimport {\n\tt,\n\tselectTotalImpressions,\n\tselectTotalMoney,\n\tselectAverageCPM,\n\tselectMainToken,\n\tselectIdentitySideAnalyticsTimeframe,\n\tselectIdentitySideAnalyticsPeriod,\n\tselectTotalClicks,\n\tselectChartDatapointsCPM,\n\tselectChartDatapointsImpressions,\n\tselectChartDatapointsClicks,\n\tselectChartDatapointsPayouts,\n\tselectSide,\n\tselectAnalyticsDataSide,\n\tselectAuth,\n\tselectInitialDataLoadedByData,\n\t// selectMissingRevenueDataPointsAccepted,\n\tselectAnalyticsMinAndMaxDates,\n} from 'selectors'\nimport dateUtils from 'helpers/dateUtils'\nimport { useKeyPress } from 'hooks/useKeyPress'\nimport { analyticsLoopCustom } from 'services/store-data/analytics'\nimport {\n\tgetPeriodLabel,\n\tgetPeriodDataPointLabel,\n} from 'helpers/analyticsTimeHelpers'\n\nconst min = 60 * 1000\n\nconst timeoutMap = {\n\thour: min,\n\tday: 10 * min,\n\tweek: 30 * min,\n\tmonth: 60 * 2 * min,\n\tyear: 60 * 24 * min,\n}\n\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\n\tconst translated = { ...tf }\n\ttranslated.label = t(tf.label)\n\treturn translated\n})\n\nconst getMetrics = theme => ({\n\tpublisher: [\n\t\t{\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: theme.palette.primary.main,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CLICKS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: theme.palette.secondary.main,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_REVENUE'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: theme.palette.accentTwo.main,\n\t\t},\n\t\t{\n\t\t\tlabel: t('PROP_CPM'),\n\t\t\tcolor: ALEX_GREY_LIGHT,\n\t\t},\n\t],\n\tadvertiser: [\n\t\t{\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: theme.palette.primary.main,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CLICKS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: theme.palette.secondary.main,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_SPEND'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: theme.palette.accentOne.main,\n\t\t},\n\t\t{\n\t\t\tlabel: t('PROP_CPM'),\n\t\t\tcolor: ALEX_GREY_LIGHT,\n\t\t},\n\t],\n})\n\nconst getDefaultLabels = ({ timeframe, start, end }) => [\n\tgetPeriodDataPointLabel({ timeframe, time: start }),\n\tgetPeriodDataPointLabel({ timeframe, time: end }),\n]\n\nconst DatePickerSwitch = ({ timeframe, period: { start, end }, ...rest }) => {\n\tswitch (timeframe) {\n\t\tcase 'week':\n\t\t\treturn (\n\t\t\t\t<PeriodDatePicker\n\t\t\t\t\t{...rest}\n\t\t\t\t\tperiod='week'\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\n\t\t\t\t/>\n\t\t\t)\n\t\tcase 'day':\n\t\t\treturn (\n\t\t\t\t<DatePicker\n\t\t\t\t\t{...rest}\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\n\t\t\t\t/>\n\t\t\t)\n\t\tcase 'hour':\n\t\t\treturn (\n\t\t\t\t<DateTimePicker\n\t\t\t\t\t{...rest}\n\t\t\t\t\tviews={['date', 'hours']}\n\t\t\t\t\troundHour\n\t\t\t\t\tminutesStep={60}\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\n\t\t\t\t/>\n\t\t\t)\n\t\tcase 'month':\n\t\t\treturn (\n\t\t\t\t<PeriodDatePicker\n\t\t\t\t\t{...rest}\n\t\t\t\t\tperiod='month'\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\n\t\t\t\t/>\n\t\t\t)\n\t\tcase 'year':\n\t\t\treturn (\n\t\t\t\t<DatePicker\n\t\t\t\t\t{...rest}\n\t\t\t\t\tviews={['year', 'month']}\n\t\t\t\t\tmaxDate={dateUtils.addMonths(dateUtils.date(), -11)}\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\n\t\t\t\t/>\n\t\t\t)\n\t\tdefault:\n\t\t\treturn <DatePicker {...rest} />\n\t}\n}\nconst useStyles = makeStyles(styles)\n\nexport function BasicStats() {\n\tconst theme = useTheme()\n\tconst classes = useStyles()\n\tconst SPACE = useKeyPress(' ')\n\tconst ARROW_LEFT = useKeyPress('ArrowLeft')\n\tconst ARROW_RIGHT = useKeyPress('ArrowRight')\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst isAuth = useSelector(state => selectAuth(state))\n\tconst { start, end } = useSelector(selectIdentitySideAnalyticsPeriod)\n\tconst timeframe = useSelector(selectIdentitySideAnalyticsTimeframe)\n\tconst uiSide = useSelector(selectSide)\n\t// NOTE: side can be: for-publisher, for-advertiser or current campaign in details Id\n\tconst side = useSelector(selectAnalyticsDataSide)\n\tconst { minDate, maxDate } = useSelector(selectAnalyticsMinAndMaxDates)\n\tconst [loop, setLoop] = useState()\n\tconst [metrics, setMetrics] = useState(null)\n\tconst allChannelsLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'allChannels')\n\t)\n\tconst advAnalyticsLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\n\t)\n\tconst itemsLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'allItems')\n\t)\n\tconst initialDataLoaded =\n\t\tallChannelsLoaded && advAnalyticsLoaded && itemsLoaded\n\tconst [data1Active, setData1Active] = useState(true)\n\tconst [data2Active, setData2Active] = useState(true)\n\tconst [data3Active, setData3Active] = useState(true)\n\tconst [data4Active, setData4Active] = useState(true)\n\n\tconst defaultLabels = getDefaultLabels({ timeframe, start, end })\n\n\tconst totalImpressions = useSelector(state =>\n\t\tselectTotalImpressions(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalClicks = useSelector(state =>\n\t\tselectTotalClicks(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalMoney = useSelector(state =>\n\t\tselectTotalMoney(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst averageCPM = useSelector(state =>\n\t\tselectAverageCPM(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst payouts = useSelector(state =>\n\t\tselectChartDatapointsPayouts(state, { side, timeframe })\n\t)\n\n\tconst impressions = useSelector(state =>\n\t\tselectChartDatapointsImpressions(state, { side, timeframe })\n\t)\n\n\tconst clicks = useSelector(state =>\n\t\tselectChartDatapointsClicks(state, { side, timeframe })\n\t)\n\n\tconst cpm = useSelector(state =>\n\t\tselectChartDatapointsCPM(state, { side, timeframe })\n\t)\n\n\tconst goNext = () => {\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ next: true }))\n\t}\n\n\tconst goPrev = () => {\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ next: false }))\n\t}\n\n\tconst goLive = () => {\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ live: true }))\n\t}\n\n\tuseEffect(() => {\n\t\tsetMetrics(getMetrics(theme))\n\t}, [theme])\n\n\tuseEffect(() => {\n\t\tSPACE && goLive()\n\t\tARROW_RIGHT && goNext()\n\t\tARROW_LEFT && goPrev()\n\t}, [ARROW_LEFT, ARROW_RIGHT, SPACE])\n\n\tuseEffect(() => {\n\t\tif (initialDataLoaded && side && timeframe && start) {\n\t\t\texecute(updateAccountAnalyticsThrottled())\n\t\t}\n\t}, [initialDataLoaded, side, timeframe, start])\n\n\tuseEffect(() => {\n\t\tif (initialDataLoaded && side) {\n\t\t\tgoLive()\n\t\t}\n\t}, [initialDataLoaded, side])\n\n\tuseEffect(() => {\n\t\tinitialDataLoaded && loop && loop.start()\n\t\treturn () => {\n\t\t\tloop && loop.stop()\n\t\t}\n\t}, [initialDataLoaded, loop])\n\n\tuseEffect(() => {\n\t\tloop && loop.stop()\n\t\tsetLoop(\n\t\t\tanalyticsLoopCustom({\n\t\t\t\ttimeout: timeoutMap[timeframe],\n\t\t\t\tsyncAction: async () => {\n\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\tasync () =>\n\t\t\t\t\t\t\tisAuth && (await execute(updateAccountAnalyticsThrottled())),\n\t\t\t\t\t\ttimeoutMap[timeframe] -\n\t\t\t\t\t\t\t(Date.now() % timeoutMap[timeframe]) +\n\t\t\t\t\t\t\t5 * 1000\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t})\n\t\t)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [timeframe, isAuth])\n\n\tconst dataSynced =\n\t\t!!initialDataLoaded &&\n\t\t[\n\t\t\timpressions.labels[impressions.labels.length - 1],\n\t\t\tpayouts.labels[payouts.labels.length - 1],\n\t\t].every(x => !!x && x === clicks.labels[clicks.labels.length - 1]) &&\n\t\t[totalImpressions, totalMoney, averageCPM, totalClicks].every(\n\t\t\tx => x !== null\n\t\t)\n\n\treturn (\n\t\tuiSide &&\n\t\tmetrics && (\n\t\t\t<Box>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='row'\n\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\talignItems='stretch'\n\t\t\t\t>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\talignItems='start'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box m={1} ml={0} flexGrow='1'>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\n\t\t\t\t\t\t\t\t// helperText={t(timeHints[timeframe])}\n\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\t//TODO: fix change of timeframe, set default period as well\n\t\t\t\t\t\t\t\t\texecute(updateIdSideAnalyticsChartTimeframe(val))\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tsource={timeFrames}\n\t\t\t\t\t\t\t\tvalue={timeframe}\n\t\t\t\t\t\t\t\thtmlId='timeframe-select'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box m={1} ml={0} flexGrow='1'>\n\t\t\t\t\t\t\t<DatePickerSwitch\n\t\t\t\t\t\t\t\tperiod={{ start, end }}\n\t\t\t\t\t\t\t\ttimeframe={timeframe}\n\t\t\t\t\t\t\t\tvalue={start}\n\t\t\t\t\t\t\t\tminutesStep={60}\n\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\texecute(updateIdSideAnalyticsChartPeriod(val))\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tInputProps={{ multiline: true, className: classes.datePicker }}\n\t\t\t\t\t\t\t\tdisableFuture\n\t\t\t\t\t\t\t\tinputVariant='outlined'\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\t\tlabel={t('ANALYTICS_PERIOD')}\n\t\t\t\t\t\t\t\tmaxDate={maxDate}\n\t\t\t\t\t\t\t\tminDate={minDate}\n\t\t\t\t\t\t\t\t// Only when picking future hours as they can't be disabled\n\t\t\t\t\t\t\t\tmaxDateMessage='' //{t('MAX_DATE_ERROR')}\n\t\t\t\t\t\t\t\tminDateMessage='' // we do not need error msgs e.g. for new accounts\n\t\t\t\t\t\t\t\tstrictCompareDates\n\t\t\t\t\t\t\t\tonBackClick={e => {\n\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\tgoPrev()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonLiveClick={e => {\n\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\tgoLive()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonNextClick={e => {\n\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\tgoNext()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='primary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t\tloading={!dataSynced}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t\tonClick={() => setData1Active(!data1Active)}\n\t\t\t\t\t\tdataVisible={data1Active}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Visibility className={classes.cardIcon} />\n\t\t\t\t\t</StatsCard>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='secondary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_CLICKS')}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_CLICKS')}\n\t\t\t\t\t\tloading={!dataSynced}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalClicks || 0)} (${parseFloat(\n\t\t\t\t\t\t\t(totalClicks / totalImpressions) * 100 || 0\n\t\t\t\t\t\t).toFixed(2)} % ${t('LABEL_CTR')})`}\n\t\t\t\t\t\tonClick={() => setData2Active(!data2Active)}\n\t\t\t\t\t\tdataVisible={data2Active}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Mouse className={classes.cardIcon} />\n\t\t\t\t\t</StatsCard>\n\t\t\t\t\t{uiSide === 'advertiser' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentOne'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={!dataSynced}\n\t\t\t\t\t\t\tonClick={() => setData3Active(!data3Active)}\n\t\t\t\t\t\t\tdataVisible={data3Active}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MonetizationOn className={classes.cardIcon} />\n\t\t\t\t\t\t</StatsCard>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{uiSide === 'publisher' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentTwo'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={!dataSynced}\n\t\t\t\t\t\t\tonClick={() => setData3Active(!data3Active)}\n\t\t\t\t\t\t\tdataVisible={data3Active}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MonetizationOn className={classes.cardIcon} />\n\t\t\t\t\t\t</StatsCard>\n\t\t\t\t\t)}\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='grey'\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\n\t\t\t\t\t\tloading={!dataSynced}\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\n\t\t\t\t\t\t)} ${symbol} / CPM`}\n\t\t\t\t\t\tonClick={() => setData4Active(!data4Active)}\n\t\t\t\t\t\tdataVisible={data4Active}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Equalizer className={classes.cardIcon} />\n\t\t\t\t\t</StatsCard>\n\t\t\t\t</Box>\n\n\t\t\t\t<Box mt={1}>\n\t\t\t\t\t<SimpleStatistics\n\t\t\t\t\t\tstart={start}\n\t\t\t\t\t\tend={end}\n\t\t\t\t\t\ttimeframe={timeframe}\n\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t(timeFrames.find(a => a.value === timeframe) || {}).label || '',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdefaultLabels={defaultLabels}\n\t\t\t\t\t\tdata1={impressions}\n\t\t\t\t\t\tdata2={clicks}\n\t\t\t\t\t\tdata3={payouts}\n\t\t\t\t\t\tdata4={cpm}\n\t\t\t\t\t\tdata1Active={data1Active}\n\t\t\t\t\t\tdata2Active={data2Active}\n\t\t\t\t\t\tdata3Active={data3Active}\n\t\t\t\t\t\tdata4Active={data4Active}\n\t\t\t\t\t\tdataSynced={dataSynced}\n\t\t\t\t\t\ty1Label={metrics[uiSide][0].label}\n\t\t\t\t\t\ty1Color={metrics[uiSide][0].color}\n\t\t\t\t\t\ty2Label={metrics[uiSide][1].label}\n\t\t\t\t\t\ty2Color={metrics[uiSide][1].color}\n\t\t\t\t\t\ty3Label={metrics[uiSide][2].label}\n\t\t\t\t\t\ty3Color={metrics[uiSide][2].color}\n\t\t\t\t\t\ty4Label={metrics[uiSide][3].label}\n\t\t\t\t\t\ty4Color={metrics[uiSide][3].color}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t)\n\t)\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\tinfoStatsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\tjustifyContent: 'stretch',\n\t\t\theight: '100%',\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: spacing,\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tdashboardCardBody: {\n\t\t\tmargin: spacing,\n\t\t\tpadding: spacing,\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\n\t\t},\n\t\tcardIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: '-33px',\n\t\t\tright: '-33px',\n\t\t\tfontSize: '120px',\n\t\t\topacity: '0.13',\n\t\t\ttransform: 'rotate(-45deg)',\n\t\t\tpointerEvents: 'none',\n\t\t},\n\t\t// NOTE: need this to match multilenie datepicker and dropdown heights\n\t\tdatePicker: {\n\t\t\tpaddingTop: 9.108,\n\t\t\tpaddingBottom: 9.108,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { Grid, Box } from '@material-ui/core'\n\nimport { ItemSpecProp } from 'components/dashboard/containers/ItemCommon/'\nimport { BasicStats } from 'components/dashboard/containers/DashboardStats/BasicStats'\nimport { formatDateTime } from 'helpers/formatters'\nimport { t } from 'selectors'\n\nexport const CampaignStatsByTimeframe = ({ item }) => {\n\treturn (\n\t\t<Box>\n\t\t\t<Grid container spacing={1}>\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\tprop={'created'}\n\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\n\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\tprop={'activeFrom'}\n\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\n\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\tprop={'withdrawPeriodStart'}\n\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\n\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<BasicStats />\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t)\n}\n","import React, { useState, Fragment, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport {\n\tGrid,\n\tBox,\n\tPaper,\n\tList,\n\tListItem,\n\tListItemText,\n\tTypography,\n\tTabs,\n\tTab,\n\tLinearProgress,\n} from '@material-ui/core'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { Campaign as CampaignModel } from 'adex-models'\nimport Anchor from 'components/common/anchor/anchor'\nimport CampaignStatsDoughnut from 'components/dashboard/charts/campaigns/CampaignStatsDoughnut'\nimport CampaignStatsBreakdownTable from 'components/dashboard/containers/Tables/CampaignStatsBreakdownTable'\nimport { Receipt } from 'components/dashboard/containers/Receipt'\nimport {\n\tselectCampaignAnalyticsToCountryTableData,\n\tselectCampaignAnalyticsToCountryMapChartData,\n\tselectInitialDataLoadedByData,\n\tt,\n} from 'selectors'\nimport StatsByCountryTable from 'components/dashboard/containers/Tables/StatsByCountryTable'\nimport MapChart from 'components/dashboard/charts/map/MapChart'\nimport { CampaignBasic } from './CampaignBasic'\nimport { CampaignAudience } from './CampaignAudience'\nimport { validateAndUpdateCampaign, updateMemoryUi, execute } from 'actions'\nimport {\n\tuseItem,\n\tChangeControls,\n\tItemTabsBar,\n\tItemTabsContainer,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { CampaignStatsByTimeframe } from './CampaignStatsByTimeframe'\n\nfunction Campaign({ match }) {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\tconst { item, ...hookProps } = useItem({\n\t\titemType: 'Campaign',\n\t\tmatch,\n\t\tobjModel: CampaignModel,\n\t\tvalidateAndUpdateFn: validateAndUpdateCampaign,\n\t})\n\tconst dataLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\n\t)\n\n\tconst campaign = new CampaignModel(item)\n\tconst { humanFriendlyName } = campaign.status || {}\n\tconst leader = campaign.spec.validators[0]\n\tconst follower = campaign.spec.validators[1]\n\tconst campaignId = campaign.id\n\tconst { status = {} } = item\n\tconst canSendMsgs =\n\t\tstatus.name &&\n\t\t['Ready', 'Waiting', 'Active', 'Unhealthy'].includes(status.name) &&\n\t\tstatus.humanFriendlyName !== 'Closed'\n\n\tconst isActive =\n\t\tstatus.humanFriendlyName === 'Active' ||\n\t\tstatus.humanFriendlyName === 'Paused'\n\n\tuseEffect(() => {\n\t\texecute(updateMemoryUi('campaignId', campaignId))\n\n\t\treturn () => {\n\t\t\texecute(updateMemoryUi('campaignId', undefined))\n\t\t}\n\t}, [campaignId])\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('CAMPAIGN_MAIN')} />\n\t\t\t\t\t<Tab label={t('CAMPAIGN_AUDIENCE')} />\n\t\t\t\t\t<Tab label={t('WEBSITE_STATS')} />\n\t\t\t\t\t<Tab label={t('COUNTRY_STATS')} />\n\t\t\t\t\t<Tab label={t('TIMEFRAME_STATS')} />\n\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\n\t\t\t\t\t<Tab label={t('VALIDATORS')} />\n\t\t\t\t\t{['Closed', 'Completed'].includes(humanFriendlyName) && (\n\t\t\t\t\t\t<Tab label={t('RECEIPT')} />\n\t\t\t\t\t)}\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ChangeControls {...hookProps} />\n\t\t\t<ItemTabsContainer>\n\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<CampaignBasic\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t{...hookProps}\n\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\n\t\t\t\t\t\t\tisActive={isActive}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 1 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<CampaignAudience\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t{...hookProps}\n\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\n\t\t\t\t\t\t\tisActive={isActive}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 2 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t{!dataLoaded && <LinearProgress />}\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\tflexGrow='1'\n\t\t\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box flexGrow='1' order={{ xs: 2, md: 2, lg: 1 }}>\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t\t\t\t\t<CampaignStatsBreakdownTable\n\t\t\t\t\t\t\t\t\t\tcampaignId={campaignId}\n\t\t\t\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\n\t\t\t\t\t\t\t\t\t\tisActive={isActive}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={2} order={{ xs: 1, md: 1, lg: 2 }}>\n\t\t\t\t\t\t\t\t<CampaignStatsDoughnut campaignId={campaignId} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 3 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Grid container spacing={1} alignItems='flex-start'>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography variant='button' align='center'>\n\t\t\t\t\t\t\t\t\t\t{t('COUNTRY_STATS_PERIOD', { args: ['30', 'DAYS'] })}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{!dataLoaded && <LinearProgress />}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\n\t\t\t\t\t\t\t\t<MapChart\n\t\t\t\t\t\t\t\t\tselector={state =>\n\t\t\t\t\t\t\t\t\t\tselectCampaignAnalyticsToCountryMapChartData(state, {\n\t\t\t\t\t\t\t\t\t\t\tcampaignId,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t\t\t\t\t<StatsByCountryTable\n\t\t\t\t\t\t\t\t\t\tselector={state =>\n\t\t\t\t\t\t\t\t\t\t\tselectCampaignAnalyticsToCountryTableData(state, {\n\t\t\t\t\t\t\t\t\t\t\t\tcampaignId,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tshowEarnings\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\n\t\t\t\t{tabIndex === 4 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<CampaignStatsByTimeframe item={item} />\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 5 && <AdUnitsTable campaignId={campaignId} noClone />}\n\t\t\t\t{tabIndex === 6 && (\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaignId}/status`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaignId}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaignId}/status`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaignId}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</List>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 7 && <Receipt itemId={campaignId} />}\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n\nCampaign.propTypes = {\n\tmatch: PropTypes.object.isRequired,\n}\n\nexport default Campaign\n","import React, { Fragment, useState } from 'react'\nimport { Box, Tabs, Tab } from '@material-ui/core'\nimport { BasicStats } from './BasicStats'\nimport {\n\tItemTabsBar,\n\tItemTabsContainer,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { t } from 'selectors'\n\nexport function AdvertiserStats() {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('CHARTS')} />\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ItemTabsContainer>\n\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<BasicStats side='advertiser' />\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n","import React, { useCallback } from 'react'\nimport { utils } from 'ethers'\nimport Img from 'components/common/img/Img'\nimport { useSelector } from 'react-redux'\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\nimport {\n\tt,\n\tselectBestEarnersTableData,\n\tselectMainToken,\n\tselectInitialDataLoadedByData,\n} from 'selectors'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport { useTableData } from './tableHooks'\nimport { ReloadData } from './toolbars'\nconst RRImg = withReactRouterLink(Img)\n\nconst getCols = ({ symbol }) => [\n\t{\n\t\tname: 'media',\n\t\tlabel: t('PROP_MEDIA'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: false,\n\t\t\tdownload: true,\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\n\t\t\t\tconst ImgComponent = to ? RRImg : Img\n\t\t\t\tconst imgProps = to ? { to } : { fullScreenOnClick: true }\n\t\t\t\treturn (\n\t\t\t\t\t<ImgComponent\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tisCellImg\n\t\t\t\t\t\tsrc={mediaUrl}\n\t\t\t\t\t\talt={id}\n\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\t{...imgProps}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tname: 'type',\n\t\tlabel: t('PROP_TYPE'),\n\t\toptions: {\n\t\t\tfilter: true,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\n\t\t},\n\t},\n\t{\n\t\tname: 'impressions',\n\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: impressions => utils.commify(impressions || 0),\n\t\t},\n\t},\n\t{\n\t\tname: 'clicks',\n\t\tlabel: t('LABEL_CLICKS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: clicks => utils.commify(clicks || 0),\n\t\t},\n\t},\n\t{\n\t\tname: 'ctr',\n\t\tlabel: t('LABEL_CTR'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tsortDirection: 'desc',\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\n\t\t},\n\t},\n\t{\n\t\tname: 'earnings',\n\t\tlabel: t('LABEL_EARNINGS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: earnings => `${earnings.toFixed(2)} ${symbol}`,\n\t\t},\n\t},\n]\n\nconst onDownload = (buildHead, buildBody, columns, data) => {\n\tconst mappedData = data.map(i => ({\n\t\tindex: i.index,\n\t\tdata: [i.data[0].id, i.data[1].replace('legacy_', ''), i.data[2]],\n\t}))\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\n}\n\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\n\tfilterType: 'multiselect',\n\trowsSelected: selected,\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\n\tonDownload: (buildHead, buildBody, columns, data) =>\n\t\tonDownload(buildHead, buildBody, columns, data),\n\tonRowsSelect,\n\trowsPerPage: 5,\n})\n\nfunction BestEarnersTable(props) {\n\tconst {\n\t\tnoActions,\n\t\tnoClone,\n\t\thandleSelect,\n\t\tselected = [],\n\t\tselector = selectBestEarnersTableData,\n\t\ttitle = '',\n\t} = props\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst dataLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\n\t)\n\n\tconst { data, columns, reloadData } = useTableData({\n\t\tselector,\n\t\tgetColumns: () =>\n\t\t\tgetCols({\n\t\t\t\tnoActions,\n\t\t\t\tnoClone,\n\t\t\t\tsymbol,\n\t\t\t}),\n\t})\n\n\tconst onRowsSelect = useCallback(\n\t\t(_, allRowsSelected) => {\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\n\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\n\t\t},\n\t\t[data, handleSelect]\n\t)\n\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\n\treturn (\n\t\t<MUIDataTableEnhanced\n\t\t\ttitle={t(title)}\n\t\t\tdata={data}\n\t\t\tcolumns={columns}\n\t\t\toptions={options}\n\t\t\tloading={!dataLoaded}\n\t\t\tnoSearch\n\t\t\tnoDownload\n\t\t\tnoPrint\n\t\t\tnoViewColumns\n\t\t/>\n\t)\n}\n\nexport default BestEarnersTable\n","import React, { Fragment, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tBox,\n\tGrid,\n\tPaper,\n\tTypography,\n\tTab,\n\tTabs,\n\tLinearProgress,\n} from '@material-ui/core'\nimport {\n\tItemTabsBar,\n\tItemTabsContainer,\n} from 'components/dashboard/containers/ItemCommon/'\nimport BestEarnersTable from 'components/dashboard/containers/Tables/BestEarnersTable'\nimport StatsByCountryTable from 'components/dashboard/containers/Tables/StatsByCountryTable'\nimport MapChart from 'components/dashboard/charts/map/MapChart'\nimport { BasicStats } from './BasicStats'\nimport {\n\tt,\n\tselectPublisherStatsByCountryTableData,\n\tselectPublisherStatsByCountryMapChartData,\n\tselectBestEarnersTableData,\n\tselectInitialDataLoadedByData,\n} from 'selectors'\n\nexport function PublisherStats() {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\tconst dataLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\n\t)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('CHARTS')} />\n\t\t\t\t\t<Tab label={t('COUNTRY_DATA')} />\n\t\t\t\t\t<Tab label={t('TABLE_BEST_EARNERS_UNITS_TITLE')} />\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ItemTabsContainer noBackground>\n\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<BasicStats side='publisher' />\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 1 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography variant='button' align='center'>\n\t\t\t\t\t\t\t\t\t\t{t('COUNTRY_STATS_PERIOD', { args: ['30', 'DAYS'] })}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{!dataLoaded && <LinearProgress />}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\n\t\t\t\t\t\t\t\t<MapChart\n\t\t\t\t\t\t\t\t\tselector={selectPublisherStatsByCountryMapChartData}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t\t\t\t\t<StatsByCountryTable\n\t\t\t\t\t\t\t\t\t\tselector={selectPublisherStatsByCountryTableData}\n\t\t\t\t\t\t\t\t\t\t// TODO: uncomment after 26.04.2020\n\t\t\t\t\t\t\t\t\t\t// showEarnings\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 2 && (\n\t\t\t\t\t// <Box p={1}>\n\t\t\t\t\t<BestEarnersTable\n\t\t\t\t\t\tselector={selectBestEarnersTableData}\n\t\t\t\t\t\ttitle='TABLE_BEST_EARNERS_UNITS_TITLE'\n\t\t\t\t\t/>\n\t\t\t\t\t// </Box>\n\t\t\t\t)}\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n\nexport default PublisherStats\n","import React, { Fragment, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { Grid, Tabs, Tab, Box } from '@material-ui/core'\nimport {\n\tuseItem,\n\tChangeControls,\n\tItemTitle,\n\tItemDescription,\n\tItemAdType,\n\tItemTargetURL,\n\tMediaCard,\n\tArchiveItemBtn,\n\tItemTabsContainer,\n\tItemTabsBar,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { AdUnit } from 'adex-models'\nimport { validateAndUpdateUnit } from 'actions'\nimport { t } from 'selectors'\n\nfunction Unit({ match }) {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\n\tconst { item, ...hookProps } = useItem({\n\t\titemType: 'AdUnit',\n\t\tmatch,\n\t\tobjModel: AdUnit,\n\t\tvalidateAndUpdateFn: validateAndUpdateUnit,\n\t})\n\n\tconst { validations } = hookProps\n\n\tconst {\n\t\tid,\n\t\ttitle,\n\t\tarchived,\n\t\tdescription,\n\t\tmediaUrl,\n\t\tmediaMime,\n\t\ttype,\n\t\ttargetUrl,\n\t} = item\n\tconst { title: errTitle, description: errDescription } = validations\n\n\tif (!item) return <h1>Unit '404'</h1>\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('AD_UNIT')} />\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ChangeControls {...hookProps} />\n\t\t\t<ItemTabsContainer>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\t\t\t\tlabel={t('UNIT_MEDIA_IMG_LABEL')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t{!archived && (\n\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t<ArchiveItemBtn\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\titemType='AdUnit'\n\t\t\t\t\t\t\t\t\t\titemId={id}\n\t\t\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\t\t\tgoToTableOnSuccess\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<ItemDescription\n\t\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\t\terrDescription={errDescription}\n\t\t\t\t\t\t\t\t\t{...hookProps}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<ItemAdType type={type} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<ItemTargetURL targetUrl={targetUrl} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Box>\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n\nUnit.propTypes = {\n\tmatch: PropTypes.object.isRequired,\n}\n\nexport default Unit\n","import React from 'react'\nimport {\n\tInputAdornment,\n\tIconButton,\n\tTextField,\n\tBox,\n\tFormControl,\n\tFormControlLabel,\n\tFormGroup,\n\tCheckbox,\n\tGrid,\n} from '@material-ui/core'\nimport { Edit, UndoOutlined } from '@material-ui/icons'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport AdSlotMedia from 'components/dashboard/forms/items/AdSlot/AdSlotMedia'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { BigNumber } from 'ethers'\n\nimport {\n\texecute,\n\tresetNewItem,\n\tupdateSlotPasback,\n\tmapCurrentToNewPassback,\n\tvalidateNumberString,\n} from 'actions'\nimport { t, selectMainToken } from 'selectors'\n\nimport { AdSlot } from 'adex-models'\n\nexport const PassbackSteps = ({ updateMultipleFields, itemId, ...props }) => {\n\treturn (\n\t\t<FormSteps\n\t\t\t{...props}\n\t\t\tcancelFunction={() => execute(resetNewItem('AdSlot', itemId))}\n\t\t\titemId={itemId}\n\t\t\tvalidateIdBase='new-AdUnit-'\n\t\t\titemType='AdSlot'\n\t\t\tstepsId='new-slot-'\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SLOT_PASSBACK_STEP',\n\t\t\t\t\tcomponent: AdSlotMedia,\n\t\t\t\t\tcompleteBtnTitle: 'OK',\n\t\t\t\t\tcompleteFn: props =>\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tupdateSlotPasback({ updateMultipleFields, itemId, ...props })\n\t\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t]}\n\t\t\titemModel={AdSlot}\n\t\t/>\n\t)\n}\n\nconst PassbackEdit = WithDialog(PassbackSteps)\n\nexport const SlotAdvancedRules = ({\n\titem = {},\n\tupdateMultipleFields,\n\tvalidations,\n\tvalidateId,\n\tupdateField,\n\tsetActiveFields,\n\treturnPropToInitialState,\n\tactiveFields = {},\n}) => {\n\tconst { address, decimals, symbol } = selectMainToken()\n\tconst { minPerImpression, rulesInput: slotRulesInput } = item\n\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\n\tconst { autoSetMinCPM, allowAdultContent } = rulesInput.inputs\n\tconst active = !!activeFields.minPerImpression\n\tconst { minPerImpression: errMin } = validations\n\tconst showError = !!errMin && errMin.dirty\n\tconst minCPM =\n\t\ttypeof minPerImpression === 'object'\n\t\t\t? formatTokenAmount(\n\t\t\t\t\tBigNumber.from((item.minPerImpression || {})[address] || '0').mul(\n\t\t\t\t\t\t1000\n\t\t\t\t\t),\n\t\t\t\t\tdecimals,\n\t\t\t\t\ttrue\n\t\t\t  )\n\t\t\t: minPerImpression\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<TextField\n\t\t\t\t\tfullWidth\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL_MANUAL', { args: [symbol] })}\n\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\tvalue={minCPM || ''}\n\t\t\t\t\tdisabled={!!autoSetMinCPM || !active}\n\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\tupdateField('minPerImpression', value, {\n\t\t\t\t\t\t\tname: 'slotAdvanced',\n\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\n\t\t\t\t\t\t})\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t\terror={showError}\n\t\t\t\t\tmaxLength={120}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\tshowError ? errMin.errMsg : t('SLOT_MANUAL_CPM_MIN_HELPER')\n\t\t\t\t\t}\n\t\t\t\t\tInputProps={\n\t\t\t\t\t\t!autoSetMinCPM\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? returnPropToInitialState('minPerImpression')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: setActiveFields('minPerImpression', true)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: {}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Grid>\n\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_LABEL')}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!autoSetMinCPM}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst checked = ev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\tupdateField(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'rulesInput',\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoSetMinCPM: checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'slotAdvanced',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tvalue='autoSetMinCPM'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_INFO_LABEL')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT')}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!allowAdultContent}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\tupdateField(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'rulesInput',\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowAdultContent: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'slotAdvanced',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='allowAdultContent'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT_INFO')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport const SlotEdits = ({ item, ...hookProps }) => {\n\treturn (\n\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\n\t\t\t<PassbackEdit\n\t\t\t\tfullWidth\n\t\t\t\tsize='large'\n\t\t\t\tvariant='contained'\n\t\t\t\tcolor='secondary'\n\t\t\t\tbtnLabel='UPDATE_PASSBACK'\n\t\t\t\ttitle='UPDATE_SLOT_PASSBACK'\n\t\t\t\titemId={item.id}\n\t\t\t\tdisableBackdropClick\n\t\t\t\tupdateMultipleFields={hookProps.updateMultipleFields}\n\t\t\t\tonClick={() =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tmapCurrentToNewPassback({\n\t\t\t\t\t\t\titemId: item.id,\n\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t/>\n\t\t</Box>\n\t)\n}\n","import React, { Fragment } from 'react'\nimport {\n\tGrid,\n\tBox,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n} from '@material-ui/core'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\n\nimport { WebsiteIssues } from 'components/dashboard/containers/Slot/WebsiteIssues'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { SlotEdits, SlotAdvancedRules } from './SlotEdits'\nimport {\n\tItemTitle,\n\tItemDescription,\n\tItemAdType,\n\tItemFallbackMediaURL,\n\tMediaCard,\n\tItemWebsite,\n\tArchiveItemBtn,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { t } from 'selectors'\n\nexport const SlotBasic = ({ item, ...hookProps }) => {\n\tconst {\n\t\tid,\n\t\ttitle,\n\t\tdescription,\n\t\tmediaUrl,\n\t\tmediaMime,\n\t\ttype,\n\t\ttargetUrl,\n\t\twebsite,\n\t\tarchived,\n\t\trules,\n\t} = item\n\tconst { title: errTitle, description: errDescription } = hookProps.validations\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box p={2}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ItemFallbackMediaURL targetUrl={targetUrl} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<SlotEdits item={item} {...hookProps} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{!archived && (\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<ArchiveItemBtn\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\titemType='AdSlot'\n\t\t\t\t\t\t\t\t\titemId={id}\n\t\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\t\tgoToTableOnSuccess\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-advanced'\n\t\t\t\t\t\t\t\t\tid='slot-rules-advanced'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_ADVANCED')}</Typography>\n\t\t\t\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t\t<SlotAdvancedRules item={item} {...hookProps} />\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</ExpansionPanel>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-content'\n\t\t\t\t\t\t\t\t\tid='slot-rules-header'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_RULES')}</Typography>\n\t\t\t\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\n\t\t\t\t\t\t\t\t\t<pre>{JSON.stringify(rules || [], null, 2)}</pre>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</ExpansionPanel>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ItemDescription\n\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\terrDescription={errDescription}\n\t\t\t\t\t\t\t\t{...hookProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ItemAdType type={type} />\n\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ItemWebsite item={item} {...hookProps} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<OutlinedPropView\n\t\t\t\t\t\t\t\tlabel={t('WEBSITE_VERIFICATION')}\n\t\t\t\t\t\t\t\tvalue={<WebsiteIssues website={website} tryAgainBtn />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}></Grid>\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\t\t</Fragment>\n\t)\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport copy from 'copy-to-clipboard'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { Paper, IconButton, Box, Typography } from '@material-ui/core'\nimport { Alert, AlertTitle } from '@material-ui/lab'\n\nimport { execute, addToast } from 'actions'\n\nimport url from 'url'\nimport {\n\tselectRoutineWithdrawTokensAddresses,\n\tselectHasConfirmedEmail,\n\tselectAccountIdentityAddr,\n\tt,\n} from 'selectors'\n\nconst ADVIEW_URL = process.env.ADVIEW_URL\nconst adviewUrl = url.parse(ADVIEW_URL)\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\n\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\n\t\t\t\tif (f.contentWindow === ev.source) {\n\t\t\t\t\tf.height = ev.data.adexHeight;\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t}, false)`\n\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\n\nconst useStyles = makeStyles(styles)\n\nexport const IntegrationCode = ({ slot = {} }) => {\n\tconst classes = useStyles()\n\tconst { id, type, tags, fallbackUnit } = slot\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst isEmailConfirmed = useSelector(selectHasConfirmedEmail)\n\n\tlet sizes = type.split('_')[1].split('x')\n\tsizes = {\n\t\twidth: sizes[0],\n\t\theight: sizes[1],\n\t}\n\n\tconst options = {\n\t\tpublisherAddr: identityAddr,\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\n\t\twhitelistedType: type,\n\t\trandomize: true,\n\t\ttargeting: tags || [],\n\t\t// marketURL: ADEX_MARKET_HOST,\n\t\twidth: sizes.width,\n\t\theight: sizes.height,\n\t\tminPerImpression: '0',\n\t\t// minTargetingScore: '0',\n\t\tfallbackUnit,\n\t\tmarketSlot: id,\n\t}\n\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\n\n\tlet src = ADVIEW_URL + query\n\n\tlet iframeStr =\n\t\t`<iframe\\n` +\n\t\t`\tsrc=\"${src}\"\\n` +\n\t\t`\twidth=\"${sizes.width}\"\\n` +\n\t\t`\theight=\"${sizes.height}\"\\n` +\n\t\t`\tscrolling=\"no\"\\n` +\n\t\t`\tframeborder=\"0\"\\n` +\n\t\t`\tstyle=\"border: 0;\"\\n` +\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\n\t\t`></iframe>`\n\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\n\n\t// \t<Alert severity='warning' variant='filled'>\n\t// \t<AlertTitle>{t('EMAIL_NOT_CONFIRMED_WARNING_TITLE')}</AlertTitle>\n\t// \t<div\n\t// \t\tdangerouslySetInnerHTML={{\n\t// \t\t\t__html: t('EMAIL_WARNING_SLOT_INTEGRATION'),\n\t// \t\t}}\n\t// \t/>\n\t// </Alert>\n\treturn isEmailConfirmed ? (\n\t\t<Box overflow='hidden'>\n\t\t\t<Box mb={1}>\n\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\tpx={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>{t('INTEGRATION_CODE')}</Typography>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\tonCopy={() =>\n\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tcopy(iframeStr)\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CopyIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Box>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t\t<Paper variant='outlined'>\n\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\n\t\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\n\t\t\t\t</Box>\n\t\t\t</Paper>\n\t\t\t{process.env.NODE_ENV !== 'production' && (\n\t\t\t\t<div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Box>\n\t) : (\n\t\t<Alert severity='warning' variant='filled'>\n\t\t\t<AlertTitle>{t('EMAIL_NOT_CONFIRMED_WARNING_TITLE')}</AlertTitle>\n\t\t\t<div\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: t('EMAIL_WARNING_SLOT_INTEGRATION'),\n\t\t\t\t}}\n\t\t\t/>\n\t\t</Alert>\n\t)\n}\n\nIntegrationCode.propTypes = {\n\tslot: PropTypes.object.isRequired,\n}\n","export const styles = theme => {\n\treturn {\n\t\tintegrationCode: {\n\t\t\twhiteSpace: 'pre-wrap',\n\t\t\twordBreak: 'break-word',\n\t\t\tmargin: 0,\n\t\t\talignSelf: 'flex-start',\n\t\t},\n\t}\n}\n","import React, { Fragment, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { AdSlot } from 'adex-models'\nimport { Tabs, Tab } from '@material-ui/core'\nimport {\n\tuseItem,\n\tChangeControls,\n\tItemTabsBar,\n\tItemTabsContainer,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { SlotBasic } from './SlotBasic'\nimport { IntegrationCode } from './IntegrationCode'\nimport { validateAndUpdateSlot } from 'actions'\nimport { t } from 'selectors'\n\nfunction Slot({ match }) {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\tconst { item, ...hookProps } = useItem({\n\t\titemType: 'AdSlot',\n\t\tmatch,\n\t\tobjModel: AdSlot,\n\t\tvalidateAndUpdateFn: validateAndUpdateSlot,\n\t})\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('SLOT_MAIN')} />\n\t\t\t\t\t<Tab label={t('INTEGRATION')} />\n\t\t\t\t\t{/* There are no stats displayed currently so I will just comment this out */}\n\t\t\t\t\t{/* <Tab label={t('STATISTICS')} /> */}\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ChangeControls {...hookProps} />\n\t\t\t<ItemTabsContainer>\n\t\t\t\t{tabIndex === 0 && <SlotBasic item={item} {...hookProps} />}\n\t\t\t\t{tabIndex === 1 && <IntegrationCode slot={item} />}\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n\nSlot.propTypes = {\n\tmatch: PropTypes.object.isRequired,\n}\n\nexport default Slot\n","import React, { Fragment, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport PropTypes from 'prop-types'\nimport { Audience as AudienceModel } from 'adex-models'\nimport { Tabs, Tab, Box } from '@material-ui/core'\nimport {\n\tuseItem,\n\tChangeControls,\n\tItemTitle,\n\tArchiveItemBtn,\n\tItemTabsContainer,\n\tItemTabsBar,\n} from 'components/dashboard/containers/ItemCommon/'\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport {\n\tNewCampaignFromAudience,\n\tAudienceRules,\n} from 'components/dashboard/forms/items/NewItems'\nimport {\n\texecute,\n\tupdateNewCampaign,\n\tupdateNewAudience,\n\tresetNewItem,\n\tupdateAudienceInput,\n\tmapCurrentToNewAudience,\n} from 'actions'\nimport { NewAudienceDialog } from 'components/dashboard/forms/items/NewItems'\nimport { validateAndUpdateAudience as validateAndUpdateFn } from 'actions'\nimport { t } from 'selectors'\n\nconst useStyles = makeStyles(theme => ({\n\tactions: {\n\t\tmarginTop: theme.spacing(1),\n\t\t'& > *': {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t\tmarginBottom: theme.spacing(1),\n\t\t},\n\t},\n}))\n\nexport const TargetingSteps = ({ updateField, itemId, ...props }) => {\n\treturn (\n\t\t<FormSteps\n\t\t\t{...props}\n\t\t\tcancelFunction={() => execute(resetNewItem('Audience', itemId))}\n\t\t\titemId={itemId}\n\t\t\tvalidateIdBase={`update-audience-${itemId}-`}\n\t\t\titemType='Audience'\n\t\t\tstepsId={`update-campaign-${itemId}`}\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SAVED_AUDIENCE',\n\t\t\t\t\tcomponent: AudienceRules,\n\t\t\t\t\tcompleteBtnTitle: 'OK',\n\t\t\t\t\tcompleteFn: props =>\n\t\t\t\t\t\texecute(updateAudienceInput({ updateField, itemId, ...props })),\n\t\t\t\t},\n\t\t\t]}\n\t\t\titemModel={AudienceModel}\n\t\t/>\n\t)\n}\n\nconst TargetingRulesEdit = WithDialog(TargetingSteps)\n\nfunction Audience({ match }) {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\n\tconst classes = useStyles()\n\n\tconst { item = {}, ...hookProps } = useItem({\n\t\titemType: 'Audience',\n\t\tmatch,\n\t\tobjModel: AudienceModel,\n\t\tvalidateAndUpdateFn,\n\t})\n\n\tconst { validations } = hookProps\n\tconst { inputs, title, id, archived } = item\n\tconst { title: errTitle } = validations\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('AUDIENCE_MAIN')} />\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ChangeControls {...hookProps} />\n\t\t\t<ItemTabsContainer>\n\t\t\t\t<Box p={1} pt={2}>\n\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\n\n\t\t\t\t\t<AudiencePreview audienceInput={inputs} />\n\n\t\t\t\t\t<Box className={classes.actions}>\n\t\t\t\t\t\t<TargetingRulesEdit\n\t\t\t\t\t\t\tbtnLabel='UPDATE_AUDIENCE'\n\t\t\t\t\t\t\ttitle='UPDATE_CAMPAIGN_AUDIENCE'\n\t\t\t\t\t\t\titemId={id}\n\t\t\t\t\t\t\tdisableBackdropClick\n\t\t\t\t\t\t\tupdateField={hookProps.updateField}\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tmapCurrentToNewAudience({\n\t\t\t\t\t\t\t\t\t\titemId: id,\n\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<NewCampaignFromAudience\n\t\t\t\t\t\t\tbtnLabel='NEW_CAMPAIGN_FROM_AUDIENCE'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonBeforeOpen={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\n\t\t\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<NewAudienceDialog\n\t\t\t\t\t\t\tbtnLabel='NEW_AUDIENCE_FROM_THIS'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonBeforeOpen={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewAudience(null, null, {\n\t\t\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\t\t\ttitle: title + ' (2)',\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{!archived && (\n\t\t\t\t\t\t\t<ArchiveItemBtn\n\t\t\t\t\t\t\t\titemType='Audience'\n\t\t\t\t\t\t\t\titemId={id}\n\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\tgoToTableOnSuccess\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n\nAudience.propTypes = {\n\tmatch: PropTypes.object.isRequired,\n}\n\nexport default Audience\n","import React, { Fragment } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport {\n\tList,\n\tListItem,\n\tDivider,\n\tListItemText,\n\tListItemIcon,\n\tListItemSecondaryAction,\n\tListSubheader,\n\tPaper,\n\tBox,\n} from '@material-ui/core'\nimport { CheckSharp, WarningSharp } from '@material-ui/icons'\nimport {\n\tWebsiteIssues,\n\tWebsiteIssuesLegend,\n\tWebsiteVerifyBtn,\n} from 'components/dashboard/containers/Slot/WebsiteIssues'\nimport { t, selectWebsitesList } from 'selectors'\n\nconst useStyles = makeStyles(theme => ({\n\tlist: {\n\t\twidth: '100%',\n\t},\n\tinline: {\n\t\tdisplay: 'inline',\n\t\twordBreak: 'break-all',\n\t},\n\twarning: {\n\t\tcolor: theme.palette.warning.main,\n\t},\n\tsuccess: {\n\t\tcolor: theme.palette.success.main,\n\t},\n}))\n\nexport default function Websites() {\n\tconst classes = useStyles()\n\tconst websites = useSelector(selectWebsitesList)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box mb={1}>\n\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t<WebsiteIssuesLegend />\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t\t<Box>\n\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t<List className={classes.list} dense disablePadding>\n\t\t\t\t\t\t<ListSubheader disableSticky>\n\t\t\t\t\t\t\t{t('REGISTERED_WEBSITES')}\n\t\t\t\t\t\t</ListSubheader>\n\t\t\t\t\t\t{websites.map(({ id, issues, updated }, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Fragment key={id}>\n\t\t\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t\t{issues.length ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<WarningSharp className={classes.warning} />\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckSharp className={classes.success} />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\t\tprimary={id}\n\t\t\t\t\t\t\t\t\t\t\tsecondaryTypographyProps={{\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent: 'div',\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tsecondary={<WebsiteIssues issues={issues} asKeyWords />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t\t\t\t\t\t<WebsiteVerifyBtn\n\t\t\t\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\t\t\t\tissues={issues}\n\t\t\t\t\t\t\t\t\t\t\t\tupdated={updated}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t\t{index < websites.length - 1 && <Divider />}\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</List>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</Fragment>\n\t)\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport {\n\tTextField,\n\tButton,\n\tBox,\n\tListItemText,\n\tTypography,\n} from '@material-ui/core'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { InputLoading } from 'components/common/spinners/'\nimport {\n\tt,\n\tselectValidationsById,\n\tselectNewTransactionById,\n\tselectMainToken,\n\tselectSpinnerById,\n\tselectAccountStatsFormatted,\n\tselectWeb3SyncSpinnerByValidateId,\n} from 'selectors'\nimport { execute, updateNewTransaction } from 'actions'\nimport { Alert } from '@material-ui/lab'\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\n\nconst WithdrawFromIdentity = ({ stepsId, validateId } = {}) => {\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst {\n\t\tavailableIdentityBalanceMainToken: max,\n\t\tavailableIdentityBalanceAllMainToken,\n\t} = useSelector(selectAccountStatsFormatted)\n\n\tconst { amountToWithdraw, withdrawTo } = useSelector(state =>\n\t\tselectNewTransactionById(state, stepsId)\n\t)\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\tconst syncSpinner = useSelector(state =>\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\n\t)\n\n\tconst {\n\t\tamountToWithdraw: errAmount,\n\t\twithdrawTo: errAddr,\n\t\tfees: errFees,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{syncSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t{availableIdentityBalanceAllMainToken !== max ? (\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tprimary={`${max || 0} ${symbol}`}\n\t\t\t\t\t\t\t\tsecondary={t(\n\t\t\t\t\t\t\t\t\t'IDENTITY_MAIN_TOKEN_BALANCE_WITHDRAW_AVAILABLE_INFO',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360016097580-Why-can-t-I-withdraw-my-entire-balance-'>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('FIND_MORE')}\n\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Typography variant='subtitle1' display='block'>\n\t\t\t\t\t\t\t\t{t(\n\t\t\t\t\t\t\t\t\t'EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\targs: [max, symbol],\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<Alert variant='filled' severity='warning'>\n\t\t\t\t\t\t\t{t('WITHDRAW_ADDRESS_WARNING')}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\tkey: 'withdrawTo',\n\t\t\t\t\t\t\t\t\t\tvalue: (ev.target.value || '').trim(),\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t!spinner && errAddr && !!errAddr.dirty ? errAddr.errMsg : ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{spinner && <InputLoading />}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('PROP_WITHDRAWAMOUNT')}\n\t\t\t\t\t\t\tname='amountToWithdraw'\n\t\t\t\t\t\t\tvalue={amountToWithdraw || ''}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\n\t\t\t\t\t\t\t\t\t\tvalue: (ev.target.value || '').trim(),\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: max,\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\t\t\t\targs: [max, symbol],\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\n\t\t\t\t\t\t<Alert variant='filled' severity='error'>\n\t\t\t\t\t\t\t{errFees.errMsg}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t)}\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nWithdrawFromIdentity.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t.isRequired,\n}\n\nexport default WithdrawFromIdentity\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport TextField from '@material-ui/core/TextField'\nimport { InputLoading } from 'components/common/spinners/'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport {\n\tt,\n\tselectValidationsById,\n\tselectNewTransactionById,\n\tselectSpinnerById,\n\tselectWeb3SyncSpinnerByValidateId,\n} from 'selectors'\nimport { execute, updateNewTransaction } from 'actions'\nimport { Alert } from '@material-ui/lab'\n\nconst WithdrawAnyTokenFromIdentity = ({ stepsId, validateId } = {}) => {\n\tconst {\n\t\tamountToWithdraw,\n\t\twithdrawTo,\n\t\ttokenAddress,\n\t\ttokenDecimals,\n\t} = useSelector(state => selectNewTransactionById(state, stepsId))\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\tconst syncSpinner = useSelector(state =>\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\n\t)\n\n\tconst {\n\t\tamountToWithdraw: errAmount,\n\t\twithdrawTo: errAddr,\n\t\ttokenAddress: errTokenAddress,\n\t\ttokenDecimals: errTokenDecimals,\n\t\tfees: errFees,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{syncSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\n\t\t\t\t\t\tname='tokenAddress'\n\t\t\t\t\t\tvalue={tokenAddress || ''}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\tkey: 'tokenAddress',\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errTokenAddress && !!errTokenAddress.dirty}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrTokenAddress && !!errTokenAddress.dirty\n\t\t\t\t\t\t\t\t? errTokenAddress.errMsg\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<TextField\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW_DECIMALS')}\n\t\t\t\t\t\tname='tokenDecimals'\n\t\t\t\t\t\tvalue={tokenDecimals || ''}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\tkey: 'tokenDecimals',\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errTokenDecimals && !!errTokenDecimals.dirty}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrTokenDecimals && !!errTokenDecimals.dirty\n\t\t\t\t\t\t\t\t? errTokenDecimals.errMsg\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\tkey: 'withdrawTo',\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t\t/>\n\t\t\t\t\t{spinner ? <InputLoading /> : null}\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('PROP_WITHDRAWAMOUNT')}\n\t\t\t\t\t\tname='amountToWithdraw'\n\t\t\t\t\t\tvalue={amountToWithdraw || ''}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\t\thelperText={errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\n\t\t\t\t\t/>\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\n\t\t\t\t\t\t<Alert variant='filled' severity='error'>\n\t\t\t\t\t\t\t{errFees.errMsg}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t)}\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nWithdrawAnyTokenFromIdentity.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t.isRequired,\n}\n\nexport default WithdrawAnyTokenFromIdentity\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport {\n\tBox,\n\tTextField,\n\tFormControlLabel,\n\tFormControl,\n\tCheckbox,\n\tTypography,\n} from '@material-ui/core'\nimport Dropdown from 'components/common/dropdown'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { constants } from 'adex-models'\nimport {\n\tt,\n\tselectValidationsById,\n\tselectNewTransactionById,\n\tselectWeb3SyncSpinnerByValidateId,\n} from 'selectors'\nimport { execute, updateNewTransaction } from 'actions'\nimport { Alert } from '@material-ui/lab'\n\nconst { IdentityPrivilegeLevel } = constants\n\nconst PRIV_LEVELS_SRC = Object.values(IdentityPrivilegeLevel).map(value => {\n\treturn {\n\t\tvalue,\n\t\tlabel: t(`PRIV_${value}_LABEL`),\n\t\tinfo: t(`PRIV_${value}_INFO`),\n\t}\n})\n\nfunction SeAddressPrivilege({ stepsId, validateId } = {}) {\n\tconst { setAddr, privLevel, warningAccepted, warningMsg } = useSelector(\n\t\tstate => selectNewTransactionById(state, stepsId)\n\t)\n\n\tconst {\n\t\tsetAddr: errAddr,\n\t\tsetAddrWarning: warning,\n\t\tprivLevel: errPrivLvl,\n\t\tfees: errFees,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\tconst syncSpinner = useSelector(state =>\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\n\t)\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{syncSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<Typography variant='subtitle1' display='block'>\n\t\t\t\t\t\t\t{t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')}:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\n\t\t\t\t\t\t\tname='setAddr'\n\t\t\t\t\t\t\tvalue={setAddr || ''}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\tkey: 'setAddr',\n\t\t\t\t\t\t\t\t\t\tvalue: (ev.target.value || '').trim(),\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\n\t\t\t\t\t\t\t// helperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\n\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\tkey: 'privLevel',\n\t\t\t\t\t\t\t\t\t\tvalue: val,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsource={PRIV_LEVELS_SRC}\n\t\t\t\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\n\t\t\t\t\t\t\thtmlId='label-privLevel'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\terror={errPrivLvl && !!errPrivLvl.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrPrivLvl && !!errPrivLvl.dirty\n\t\t\t\t\t\t\t\t\t? errPrivLvl.errMsg\n\t\t\t\t\t\t\t\t\t: t('SELECT_PRIV_LEVEL_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\n\t\t\t\t\t\t\t{t('PRIV_LEVEL_INFO_LABEL')}:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t{PRIV_LEVELS_SRC.map(x => (\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tkey={x.value}\n\t\t\t\t\t\t\t\tvariant='caption'\n\t\t\t\t\t\t\t\tdisplay='block'\n\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<strong>{x.label}:</strong> {x.info}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\n\t\t\t\t\t\t\t* {t('PRIV_LEVEL_INFO')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{(warning || warningAccepted || warningMsg) && (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\terror={warning && warning.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!warningAccepted}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'warningAccepted',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='warningAccepted'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t((warning || {}).errMsg || warningMsg)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\n\t\t\t\t\t\t<Alert variant='filled' severity='error'>\n\t\t\t\t\t\t\t{errFees.errMsg}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t)}\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nSeAddressPrivilege.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t.isRequired,\n}\n\nexport default SeAddressPrivilege\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport { execute, updateNewTransaction } from 'actions'\nimport { TextField, InputAdornment, Box, Typography } from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport {\n\tt,\n\tselectValidationsById,\n\tselectNewTransactionById,\n\tselectWeb3SyncSpinnerByValidateId,\n} from 'selectors'\n\nfunction SetAccountENSPage({ stepsId, validateId } = {}) {\n\tconst { username } = useSelector(state =>\n\t\tselectNewTransactionById(state, stepsId)\n\t)\n\n\tconst { username: errUsername, fees: errFees } = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst syncSpinner = useSelector(state =>\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\n\t)\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{syncSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<Typography variant='subtitle1' display='block'>\n\t\t\t\t\t\t\t{t('SET_ENS_MAIN_INFO')}:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tlabel={t('ENS_TO_SET_TO_ADDR')}\n\t\t\t\t\t\t\tname='username'\n\t\t\t\t\t\t\tvalue={username || ''}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\tkey: 'username',\n\t\t\t\t\t\t\t\t\t\tvalue: (ev.target.value || '').trim(),\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t{`.${process.env.REVERSE_REGISTRAR_PARENT}`}\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errUsername && !!errUsername.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrUsername && !!errUsername.dirty ? errUsername.errMsg : ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\n\t\t\t\t\t\t<Alert variant='filled' severity='error'>\n\t\t\t\t\t\t\t{errFees.errMsg}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t)}\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nSetAccountENSPage.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t.isRequired,\n}\n\nexport default SetAccountENSPage\n","import React from 'react'\nimport { Box, ListItemText } from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\n\nimport { PropRow } from 'components/common/dialog/content'\nimport { t } from 'selectors'\n\nexport const IdentityWithdrawPreview = ({\n\twithdrawTo,\n\tclasses,\n\tfeesData,\n\tamountToWithdraw,\n\tsymbol,\n}) => (\n\t<Box>\n\t\t<Box p={1}>\n\t\t\t<Alert variant='filled' severity='warning'>\n\t\t\t\t{t('WITHDRAW_ADDRESS_WARNING')}\n\t\t\t</Alert>\n\t\t</Box>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='amountToWithdraw'\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${amountToWithdraw} ${symbol}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</Box>\n)\n\nexport const SetPrivilegePreview = ({\n\tsetAddr,\n\tclasses,\n\tfeesData,\n\tprivLevel,\n\tsymbol,\n}) => (\n\t<Box>\n\t\t<PropRow\n\t\t\tkey='setAddr'\n\t\t\tleft={t('setAddr', { isProp: true })}\n\t\t\tright={(setAddr || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='privLevel'\n\t\t\tleft={t('privLevel', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [feesData.fees, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={t(`PRIV_${privLevel}_LABEL`)}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</Box>\n)\n\nexport const SetENSPreview = ({\n\tusername,\n\taddress,\n\tclasses,\n\tfeesData,\n\tsymbol,\n}) => (\n\t<Box>\n\t\t<PropRow\n\t\t\tkey='addr'\n\t\t\tleft={t('ENS_ADDR_TO_BE_SET')}\n\t\t\tright={(address || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='username'\n\t\t\tleft={t('username', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('ENS_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\tfeesData.fees,\n\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`,\n\t\t\t\t\t\t],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</Box>\n)\n\nexport const IdentityWithdrawAnyPreview = ({\n\twithdrawTo,\n\ttokenAddress,\n\tclasses,\n\tfeesData,\n\tamountToWithdraw,\n}) => (\n\t<Box>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='tokenAddress'\n\t\t\tleft={t('tokenAddress', { isProp: true })}\n\t\t\tright={(tokenAddress || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='amountToWithdraw'\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={amountToWithdraw + ' '}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</Box>\n)\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport PropTypes from 'prop-types'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport { Alert, AlertTitle } from '@material-ui/lab'\nimport { Box } from '@material-ui/core'\nimport {\n\tWalletAction,\n\tFeesBreakdown,\n} from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport { styles } from './styles'\nimport {\n\tIdentityWithdrawPreview,\n\tSetPrivilegePreview,\n\tSetENSPreview,\n\tIdentityWithdrawAnyPreview,\n} from './previews'\n\nimport {\n\tselectMainToken,\n\tt,\n\tselectSpinnerById,\n\tselectAccount,\n\tselectNewTransactionById,\n} from 'selectors'\nimport { execute, checkNetworkCongestion } from 'actions'\n\nconst useStyles = makeStyles(styles)\n\nfunction TransactionPreview(props) {\n\tconst classes = useStyles()\n\tconst { previewWarnMsgs, stepsId } = props\n\tconst txId = stepsId\n\tconst account = useSelector(selectAccount)\n\tconst { address } = account.identity\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst spinner = useSelector(state => selectSpinnerById(state, stepsId))\n\tconst {\n\t\twithdrawTo,\n\t\tamountToWithdraw,\n\t\twaitingForWalletAction,\n\t\tsetAddr,\n\t\tusername,\n\t\tprivLevel,\n\t\ttokenAddress,\n\t\tfeesData = {},\n\t\terrors = [],\n\t} = useSelector(state => selectNewTransactionById(state, txId))\n\tconst [networkCongested, setNetworkCongested] = useState(false)\n\n\tuseEffect(() => {\n\t\tasync function checkNetwork() {\n\t\t\tconst msg = await execute(checkNetworkCongestion())\n\n\t\t\tif (msg) {\n\t\t\t\tsetNetworkCongested(msg)\n\t\t\t}\n\t\t}\n\n\t\tcheckNetwork()\n\t}, [])\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<ContentBox>\n\t\t\t\t\t{waitingForWalletAction || networkCongested ? (\n\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t{waitingForWalletAction && (\n\t\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{networkCongested && (\n\t\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t\t<Alert severity='warning' variant='filled' square>\n\t\t\t\t\t\t\t\t\t\t<AlertTitle>{t('NETWORK_WARNING')}</AlertTitle>\n\t\t\t\t\t\t\t\t\t\t{networkCongested}\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{errors.length\n\t\t\t\t\t\t\t? errors.map((err, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\t\tright={err}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{previewWarnMsgs\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\n\t\t\t\t\t\t\t<SetPrivilegePreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setENS' && (\n\t\t\t\t\t\t\t<SetENSPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\taddress={address}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t\tusername={username}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<FeesBreakdown\n\t\t\t\t\t\t\tbreakdownFormatted={feesData.breakdownFormatted}\n\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</ContentBox>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nTransactionPreview.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tpreviewMsgs: PropTypes.array,\n}\n\nexport default TransactionPreview\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\twarning: {\n\t\t\tcolor: theme.palette.warning.A700,\n\t\t},\n\t\tcentralSpinner: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 20px)',\n\t\t\ttop: ' calc(50% - 20px)',\n\t\t},\n\t\timgPreview: {\n\t\t\theight: 120,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t}\n}\n","import React from 'react'\nimport WithdrawFromIdentity from './WithdrawFromIdentity'\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\nimport SeAddressPrivilege from './SeAddressPrivilege'\nimport SetAccountENSPage from './SetAccountENSPage'\nimport TransactionPreview from './TransactionPreview'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport {\n\tidentityWithdraw,\n\tsetIdentityENS,\n\tvalidatePrivilegesChange,\n\tidentityWithdrawAny,\n\tvalidateIdentityWithdraw,\n\tcompleteTx,\n\texecute,\n\tresetNewTransaction,\n\tupdateIdentityPrivilege,\n\tvalidateENSChange,\n\tvalidateIdentityWithdrawAny,\n} from 'actions'\nimport ReactGA from 'react-ga'\n\nconst FormStepsWithDialog = WithDialog(FormSteps)\n\nconst cancelFunction = stepsId => {\n\texecute(resetNewTransaction({ tx: stepsId }))\n}\n\nconst txCommon = {\n\tcancelFunction,\n\tdarkerBackground: true,\n}\n\nexport const WithdrawTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawFromIdentity'\n\t\t{...txCommon}\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tcomponent: WithdrawFromIdentity,\n\t\t\t\tvalidationFn: props => {\n\t\t\t\t\texecute(validateIdentityWithdraw(props))\n\t\t\t\t\tReactGA.event({\n\t\t\t\t\t\taction: 'account',\n\t\t\t\t\t\tcategory: 'withdraw',\n\t\t\t\t\t\tlabel: 'continue',\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\n\t\t\t\tcomponent: TransactionPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteTx({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\tcompeteAction: identityWithdraw,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const SetIdentityPrivilege = ({ SaveBtn, label, ...props }) => {\n\treturn (\n\t\t<FormStepsWithDialog\n\t\t\t{...props}\n\t\t\tbtnLabel={label || 'ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'}\n\t\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\n\t\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\n\t\t\tstepsId='setIdentityPrivilege'\n\t\t\t{...txCommon}\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\n\t\t\t\t\tcomponent: SeAddressPrivilege,\n\t\t\t\t\tvalidationFn: props => execute(validatePrivilegesChange(props)),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\n\t\t\t\t\tcompleteBtnTitle: 'PROCEED',\n\t\t\t\t\tcomponent: TransactionPreview,\n\t\t\t\t\tcompleteFn: props =>\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tcompleteTx({\n\t\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\t\tcompeteAction: updateIdentityPrivilege,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const WithdrawAnyTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawAnyFromIdentity'\n\t\t{...txCommon}\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tcomponent: WithdrawAnyTokenFromIdentityPage,\n\t\t\t\tvalidationFn: props => execute(validateIdentityWithdrawAny(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\n\t\t\t\tcomponent: TransactionPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteTx({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\tcompeteAction: identityWithdrawAny,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const SetAccountENS = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_SET_ENS_BTN'\n\t\tsaveBtnLabel='ACCOUNT_SET_ENS_SAVE_BTN'\n\t\ttitle='ACCOUNT_SET_ENS_TITLE'\n\t\tstepsId='setENS'\n\t\t{...txCommon}\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_SET_ENS_STEP',\n\t\t\t\tcomponent: SetAccountENSPage,\n\t\t\t\tvalidationFn: props => execute(validateENSChange(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\n\t\t\t\tcomponent: TransactionPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteTx({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\tcompeteAction: setIdentityENS,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t/>\n)\n","import React, { useState, Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tWithdrawTokenFromIdentity,\n\tWithdrawAnyTokenFromIdentity,\n\tSetIdentityPrivilege,\n\tSetAccountENS,\n} from 'components/dashboard/forms/web3/transactions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tList,\n\tListItem,\n\tListItemText,\n\tDivider as ListDivider,\n\tListSubheader,\n\tButton,\n\tBox,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n\tIconButton,\n\tPaper,\n\tGrid,\n\tTooltip,\n} from '@material-ui/core'\nimport { InfoSharp } from '@material-ui/icons'\nimport { VpnKey, Lock } from '@material-ui/icons'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\nimport { styles } from './styles.js'\nimport { LoadingSection } from 'components/common/spinners'\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport copy from 'copy-to-clipboard'\nimport {\n\tt,\n\tselectWallet,\n\tselectAccountStatsFormatted,\n\tselectAccountIdentityAddr,\n\tselectWalletPrivileges,\n\tselectMainToken,\n\tselectEasterEggsAllowed,\n\tselectEnsAddressByAddr,\n\tselectAccountIdentityCurrentPrivileges,\n\tselectIdentityRecoveryAddr,\n\tselectSide,\n} from 'selectors'\nimport { execute, addToast, updateNewTransaction } from 'actions'\nimport { formatAddress } from 'helpers/formatters'\n\nconst RRButton = withReactRouterLink(Button)\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\n\nconst AccountItem = ({ left, right }) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<ListItem>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tclassName={classes.root}\n\t\t\t\tspacing={1}\n\t\t\t\tjustify='center'\n\t\t\t\talignItems='center'\n\t\t\t>\n\t\t\t\t<Grid item xs={12} sm={6} md={9}>\n\t\t\t\t\t{left}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={6} md={3}>\n\t\t\t\t\t{right}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</ListItem>\n\t)\n}\n\nconst useStyles = makeStyles(styles)\n\nfunction AccountInfo() {\n\tconst { authType = '' } = useSelector(selectWallet)\n\tconst identityAddress = useSelector(selectAccountIdentityAddr)\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst side = useSelector(selectSide)\n\tconst canMakeTx = privileges > 1\n\tconst currentPrivileges = useSelector(selectAccountIdentityCurrentPrivileges)\n\tconst identityRecoveryAddr = useSelector(selectIdentityRecoveryAddr)\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst {\n\t\twalletAddress,\n\t\tidentityBalanceMainToken,\n\t\tavailableIdentityBalanceMainToken,\n\t\tavailableIdentityBalanceAllMainToken,\n\t} = useSelector(selectAccountStatsFormatted)\n\n\tconst identityEnsName = useSelector(state =>\n\t\tselectEnsAddressByAddr(state, identityAddress)\n\t)\n\n\tconst allowEasterEggs = useSelector(selectEasterEggsAllowed)\n\n\tconst [expanded, setExpanded] = useState(false)\n\n\tconst classes = useStyles()\n\n\tconst handleExpandChange = () => {\n\t\tsetExpanded(!expanded)\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Paper variant='outlined'>\n\t\t\t\t<List className={classes.root} disablePadding>\n\t\t\t\t\t<ListSubheader disableSticky>{t('ADEX_ACCOUNT')}</ListSubheader>\n\t\t\t\t\t<AccountItem\n\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\t{...(identityEnsName && {\n\t\t\t\t\t\t\t\t\t\tprimary: identityEnsName,\n\t\t\t\t\t\t\t\t\t\tsecondary: identityAddress,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t{...(!identityEnsName && {\n\t\t\t\t\t\t\t\t\t\tprimary: identityAddress,\n\t\t\t\t\t\t\t\t\t\tsecondary: (\n\t\t\t\t\t\t\t\t\t\t\t<span className={classes.infoLabel}>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('ENS_NOT_SET')}\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\tinteractive\n\t\t\t\t\t\t\t\t\t\t\t\t\tarrow\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={t('ENS_NOT_SET_INFO', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360017777100-What-is-an-Account-Username-and-how-to-set-it-'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('HERE')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InfoSharp\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraInfo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize='small'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcopy(identityAddress)\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CopyIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t!!identityAddress && (\n\t\t\t\t\t\t\t\t<SetAccountENS\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t\ttoken='DAI'\n\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<AccountItem\n\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceAllMainToken ||\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}\n\t\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_INFO')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{availableIdentityBalanceAllMainToken !==\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken && (\n\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken ||\n\t\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}\n\t\t\t\t\t\t\t\t\t\tsecondary={t(\n\t\t\t\t\t\t\t\t\t\t\t'IDENTITY_MAIN_TOKEN_BALANCE_WITHDRAW_AVAILABLE_INFO',\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360016097580-Why-can-t-I-withdraw-my-entire-balance-'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('FIND_MORE')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t<RRButton\n\t\t\t\t\t\t\t\t\t\tto={`/dashboard/${side}/topup`}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\taria-label='delete'\n\t\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t\t{t('TOP_UP')}\n\t\t\t\t\t\t\t\t\t</RRButton>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\n\t\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\t\ttoken={symbol}\n\t\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</List>\n\t\t\t</Paper>\n\t\t\t<Box mt={1}>\n\t\t\t\t<ExpansionPanel\n\t\t\t\t\texpanded={expanded}\n\t\t\t\t\tonChange={handleExpandChange}\n\t\t\t\t\tsquare={true}\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\taria-controls='panel1bh-content'\n\t\t\t\t\t\tid='panel1bh-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography className={classes.heading}>\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<AccountItem\n\t\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tsecondary={''}\n\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<SetIdentityPrivilege\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<ListSubheader disableSticky>\n\t\t\t\t\t\t\t{t('WALLETS_WITH_PRIVILEGES')}\n\t\t\t\t\t\t</ListSubheader>\n\t\t\t\t\t\t<List disablePadding>\n\t\t\t\t\t\t\t<AccountPrivilageItem\n\t\t\t\t\t\t\t\taddress={walletAddress}\n\t\t\t\t\t\t\t\tprivileges={privileges}\n\t\t\t\t\t\t\t\tauthType={authType}\n\t\t\t\t\t\t\t\tcurrent\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{Object.keys(currentPrivileges)\n\t\t\t\t\t\t\t\t.filter(a => a !== identityRecoveryAddr && a !== walletAddress)\n\t\t\t\t\t\t\t\t.map((address, key) => (\n\t\t\t\t\t\t\t\t\t<Fragment key={key}>\n\t\t\t\t\t\t\t\t\t\t<AccountPrivilageItem\n\t\t\t\t\t\t\t\t\t\t\taddress={address}\n\t\t\t\t\t\t\t\t\t\t\tprivileges={currentPrivileges[address]}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_LEADER_ID)],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_FOLLOWER_ID)],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\n\t\t\t\t\t\t\t{allowEasterEggs && (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</Box>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</Box>\n\t\t</Fragment>\n\t)\n}\n\nfunction AccountPrivilageItem(props) {\n\tconst classes = useStyles()\n\tconst currUserPrivileges = useSelector(selectWalletPrivileges)\n\tconst canMakeTx = currUserPrivileges > 1\n\tconst { address, privileges, current, authType } = props\n\tconst privColors = ['disabled', 'secondary', 'primary']\n\tconst { availableIdentityBalanceMainToken } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\treturn (\n\t\t<AccountItem\n\t\t\tleft={\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tdirection='row'\n\t\t\t\t\tspacing={2}\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustify='flex-start'\n\t\t\t\t>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<VpnKey color={privColors[privileges]} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\tprimary={<Typography>{formatAddress(address)}</Typography>}\n\t\t\t\t\t\t\tsecondary={t('WALLET_PRIV_LABEL', {\n\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t}\n\t\t\tright={\n\t\t\t\t<Grid container direction='row' justify='center' alignItems='center'>\n\t\t\t\t\t{current ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\tstartIcon={<Lock />}\n\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\tcolor={privColors[currUserPrivileges]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${t('CURRENT_AUTH')} : ${authType}`}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<SetIdentityPrivilege\n\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tlabel='CHANGE_PRIVILEGE'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\ttx: 'setIdentityPrivilege',\n\t\t\t\t\t\t\t\t\t\tkey: 'setAddr',\n\t\t\t\t\t\t\t\t\t\tvalue: address,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Grid>\n\t\t\t}\n\t\t/>\n\t)\n}\n\nexport default AccountInfo\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tactionBtn: {\n\t\t\tmargin: spacing,\n\t\t},\n\t\taddress: {\n\t\t\twordWrap: 'break-word',\n\t\t\twordBreak: 'break-all',\n\t\t\tflexGrow: 0,\n\t\t},\n\t\tadvancedList: {\n\t\t\twidth: '100%',\n\t\t},\n\t\ticonBtnLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tinfoLabel: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t},\n\t\textraInfo: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t}\n}\n","export const styles = theme => {\n\treturn {\n\t\tcopyBtn: {\n\t\t\tbackgroundColor: theme.palette.appBar.main,\n\t\t\toverflowWrap: 'anywhere',\n\t\t\tuserSelect: 'text',\n\t\t\ttextTransform: 'none',\n\t\t},\n\t\ttitle: {\n\t\t\tfontSize: '2rem',\n\t\t\ttextAlign: 'center',\n\t\t\ttextTransform: 'uppercase',\n\t\t},\n\t\tsubtitle: {\n\t\t\tfontSize: '1rem',\n\t\t\ttextAlign: 'center',\n\t\t\ttextTransform: 'uppercase',\n\t\t},\n\t\tpaper: {\n\t\t\theight: '100%',\n\t\t},\n\t\tinfo: {\n\t\t\tfontSize: '10px',\n\t\t},\n\t\tinfoGrid: {\n\t\t\ttextAlign: 'right',\n\t\t},\n\t\tinfoTitle: {\n\t\t\tfontSize: '12px',\n\t\t},\n\t\timg: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n}\n","export const popupCenter = ({ url, title, w, h }) => {\r\n\t// Fixes dual-screen position                             Most browsers      Firefox\r\n\tconst dualScreenLeft =\r\n\t\twindow.screenLeft !== undefined ? window.screenLeft : window.screenX\r\n\tconst dualScreenTop =\r\n\t\twindow.screenTop !== undefined ? window.screenTop : window.screenY\r\n\r\n\tconst width = window.innerWidth\r\n\t\t? window.innerWidth\r\n\t\t: document.documentElement.clientWidth\r\n\t\t? document.documentElement.clientWidth\r\n\t\t: window.screen.width\r\n\tconst height = window.innerHeight\r\n\t\t? window.innerHeight\r\n\t\t: document.documentElement.clientHeight\r\n\t\t? document.documentElement.clientHeight\r\n\t\t: window.screen.height\r\n\r\n\tconst systemZoom = width / window.screen.availWidth\r\n\tconst left = (width - w) / 2 / systemZoom + dualScreenLeft\r\n\tconst top = (height - h) / 2 / systemZoom + dualScreenTop\r\n\tconst newWindow = window.open(\r\n\t\turl,\r\n\t\ttitle,\r\n\t\t`\r\n\t\ttoolbar=no,scrollbars=no,resizable=no\r\n\t\twidth=${w / systemZoom}, \r\n\t\theight=${h / systemZoom}, \r\n\t\ttop=${top}, \r\n\t\tleft=${left},\r\n\t\t`\r\n\t)\r\n\r\n\tif (window.focus) newWindow.focus()\r\n}\r\n","import { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\r\nimport { popupCenter } from 'helpers/popupHelper'\r\nimport transakSDK from '@transak/transak-sdk'\r\nimport url from 'url'\r\nimport { t } from 'selectors'\r\n\r\nconst PAYTRIE_PARTNER_URL = 'https://partner.paytrie.com/?app=876454'\r\nconst WYRE_URL = 'https://pay.sendwyre.com/purchase?'\r\nconst { RAMP_HOST_API_KEY, TRANSAK_API_KEY, TRANSAK_ENV } = process.env\r\n\r\n//https://docs.sendwyre.com/docs/wyre-widget-v2\r\nexport const openWyre = ({ accountId, symbol, ...rest }) => {\r\n\tconst URL = url.parse(WYRE_URL, true)\r\n\tURL.search = null\r\n\tif (accountId) {\r\n\t\tURL.query = {\r\n\t\t\t...URL.query,\r\n\t\t\tdest: accountId ? `ethereum:${accountId}` : null,\r\n\t\t\treferenceId: accountId,\r\n\t\t\tdestCurrency: symbol,\r\n\t\t\t...rest,\r\n\t\t}\r\n\t\tpopupCenter({\r\n\t\t\turl: url.format(URL),\r\n\t\t\ttitle: t('WYRE_DEPOSIT'),\r\n\t\t\tw: 450,\r\n\t\t\th: 700,\r\n\t\t})\r\n\t} else {\r\n\t\tconsole.error('WYRE_DEPOSIT_MISSING_DEST_PARAM')\r\n\t}\r\n}\r\n\r\n//https://paytrie.com/developer\r\nexport const openPayTrie = ({ accountId, email, symbol, ...rest }) => {\r\n\tconst URL = url.parse(PAYTRIE_PARTNER_URL, true)\r\n\tURL.search = null\r\n\tURL.query = {\r\n\t\t...URL.query,\r\n\t\taddr: accountId,\r\n\t\temail,\r\n\t\trightSideLabel: symbol,\r\n\t\t...rest,\r\n\t}\r\n\tpopupCenter({\r\n\t\t//TODO: Change testwyre to production\r\n\t\turl: url.format(URL),\r\n\t\ttitle: t('PAYTRIE_DEPOSIT'),\r\n\t\tw: 450,\r\n\t\th: 700,\r\n\t})\r\n}\r\n\r\nexport const openOnRampNetwork = ({ accountId, symbol }) => {\r\n\tconst widget = new RampInstantSDK({\r\n\t\thostAppName: 'AdExNetwork',\r\n\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\r\n\t\tvariant: 'auto',\r\n\t\tswapAsset: symbol,\r\n\t\tuserAddress: accountId,\r\n\t\thostApiKey: RAMP_HOST_API_KEY,\r\n\t})\r\n\twidget.domNodes.overlay.style.zIndex = 1300\r\n\twidget.show()\r\n}\r\n\r\nexport const openTransak = ({ accountId, symbol }) => {\r\n\tconst transak = new transakSDK({\r\n\t\tapiKey: TRANSAK_API_KEY, // Your API Key\r\n\t\tenvironment: TRANSAK_ENV, // STAGING/PRODUCTION\r\n\t\tcryptoCurrencyList: symbol,\r\n\t\tdefaultCryptoCurrency: symbol,\r\n\t\tdisableWalletAddressForm: true,\r\n\t\twalletAddress: accountId, // Your customer's wallet address\r\n\t\tthemeColor: '000000', // App theme color\r\n\t\t// fiatCurrency: 'GBP', // INR/GBP\r\n\t\temail: '', // Your customer's email address\r\n\t\tredirectURL: '',\r\n\t\thostURL: window.location.origin,\r\n\t\twidgetHeight: 'calc(100% - 60px)',\r\n\t\twidgetWidth: '100%',\r\n\t})\r\n\r\n\ttransak.init()\r\n\r\n\t// To get all the events\r\n\ttransak.on(transak.ALL_EVENTS, data => {\r\n\t\tconsole.log(data)\r\n\t})\r\n\r\n\t// This will trigger when the user marks payment is made.\r\n\ttransak.on(transak.EVENTS.TRANSAK_ORDER_SUCCESSFUL, orderData => {\r\n\t\tconsole.log(orderData)\r\n\t\ttransak.close()\r\n\t})\r\n}\r\n","import React from 'react'\nimport {\n\tBox,\n\tTypography,\n\tButton,\n\tList,\n\tListItem,\n\tGrid,\n} from '@material-ui/core'\nimport { t } from 'selectors'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Img from 'components/common/img/Img'\nimport {\n\topenWyre,\n\topenPayTrie,\n\topenOnRampNetwork,\n\topenTransak,\n} from 'services/onramp'\nimport RAMP_LOGO from 'resources/ramp.svg'\nimport WYRE_LOGO from 'resources/wyre.svg'\nimport PAYTRIE_LOGO from 'resources/paytrie.svg'\nimport TRANSAK_LOGO from 'resources/transak.svg'\nimport CHANGELLY_LOGO from 'resources/changelly.svg'\nimport { styles } from './styles'\nimport { push } from 'connected-react-router'\nimport { execute } from 'actions'\nimport ReactGA from 'react-ga'\n\nconst useStyles = makeStyles(styles)\nconst commonGAEventProps = {\n\taction: 'account',\n\tcategory: 'top_up',\n}\nconst fiatProvidersDetails = [\n\t{\n\t\ttitle: t('BANK_TRANSFER_OR_CARD_PAYMENTS'),\n\t\tonClick: props => openOnRampNetwork(props),\n\t\timgSrc: RAMP_LOGO,\n\t\timgAlt: t('RAMP'),\n\t\tfeeInfo: t('RAMP_FEES'),\n\t\tlimitInfo: t('RAMP_LIMITS'),\n\t\tcurrencies: t('RAMP_CURRENCIES'),\n\t},\n\t{\n\t\ttitle: t('CREDIT_CARD'),\n\t\tonClick: props => openWyre(props),\n\t\timgSrc: WYRE_LOGO,\n\t\timgAlt: t('WYRE'),\n\t\tfeeInfo: t('WYRE_FEES'),\n\t\tlimitInfo: t('WYRE_LIMITS'),\n\t\tcurrencies: t('WYRE_CURRENCIES'),\n\t},\n\t{\n\t\ttitle: t('BANK_TRANSFER'),\n\t\tonClick: props => openPayTrie(props),\n\t\timgSrc: PAYTRIE_LOGO,\n\t\timgAlt: t('PAYTRIE'),\n\t\tfeeInfo: t('PAYTRIE_FEES'),\n\t\tlimitInfo: t('PAYTRIE_LIMITS'),\n\t\tcurrencies: t('PAYTRIE_CURRENCIES'),\n\t},\n\t{\n\t\ttitle: t('BANK_TRANSFER_AND_CARD_PAYMENTS'),\n\t\tonClick: props => openTransak(props),\n\t\timgSrc: TRANSAK_LOGO,\n\t\timgAlt: t('TRANSAK'),\n\t\tfeeInfo: t('TRANSAK_FEES'),\n\t\tlimitInfo: t('TRANSAK_LIMITS'),\n\t\tcurrencies: t('TRANSAK_CURRENCIES'),\n\t},\n]\n\nconst cryptoProvidersDetails = [\n\t{\n\t\ttitle: t('CHANGELLY_TRANSFER'),\n\t\tonClick: ({ side }) => execute(push(`/dashboard/${side}/topup/changelly`)),\n\t\timgSrc: CHANGELLY_LOGO,\n\t\timgAlt: t('CHANGELLY'),\n\t\tfeeInfo: t('CHANGELLY_FEES'),\n\t\tlimitInfo: t('CHANGELLY_TIME'),\n\t\tcurrencies: t('CHANGELLY_CURRENCIES', { args: ['BTC, ETH, XRP'] }),\n\t},\n]\n\nconst ProviderListItem = ({\n\timgSrc,\n\timgAlt,\n\ttitle,\n\tfeeInfo,\n\tlimitInfo,\n\tcurrencies,\n}) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<Button size='large' fullWidth disableElevation className={classes.copyBtn}>\n\t\t\t<Box width='100%'>\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tdirection='row'\n\t\t\t\t\tjustify='space-between'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tspacing={1}\n\t\t\t\t>\n\t\t\t\t\t<Grid item xs={5} sm={4} md={4}>\n\t\t\t\t\t\t<Img className={classes.img} alt={imgAlt} src={imgSrc} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={8} md={8} className={classes.infoGrid}>\n\t\t\t\t\t\t<Typography className={classes.infoTitle}>{title}</Typography>\n\t\t\t\t\t\t{[feeInfo, limitInfo, currencies].map((item, key) => (\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tkey={`info-${key}`}\n\t\t\t\t\t\t\t\tclassName={classes.info}\n\t\t\t\t\t\t\t\tcomponent='p'\n\t\t\t\t\t\t\t\tcolor='textSecondary'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\t\t</Button>\n\t)\n}\n\nconst Providers = ({ providersDetails, accountId, symbol, email, side }) => (\n\t<List disablePadding>\n\t\t{providersDetails.map((item, key) => (\n\t\t\t<ListItem\n\t\t\t\tdisableGutters\n\t\t\t\tkey={key}\n\t\t\t\tonClick={() => {\n\t\t\t\t\titem.onClick({ accountId, symbol, email, side })\n\t\t\t\t\tReactGA.event({\n\t\t\t\t\t\t...commonGAEventProps,\n\t\t\t\t\t\tlabel: item.imgAlt,\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ProviderListItem\n\t\t\t\t\tkey={key}\n\t\t\t\t\ttitle={item.title}\n\t\t\t\t\timgSrc={item.imgSrc}\n\t\t\t\t\timgAlt={item.imgAlt}\n\t\t\t\t\tfeeInfo={item.feeInfo}\n\t\t\t\t\tlimitInfo={item.limitInfo}\n\t\t\t\t\tcurrencies={item.currencies}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t))}\n\t</List>\n)\n\nexport const FiatProviders = ({ accountId, symbol, email }) => (\n\t<Providers\n\t\tprovidersDetails={fiatProvidersDetails}\n\t\taccountId={accountId}\n\t\tsymbol={symbol}\n\t\temail={email}\n\t/>\n)\n\nexport const CryptoProviders = ({ accountId, symbol, email, side }) => (\n\t<Providers\n\t\tprovidersDetails={cryptoProvidersDetails}\n\t\taccountId={accountId}\n\t\tsymbol={symbol}\n\t\temail={email}\n\t\tside={side}\n\t/>\n)\n","import React from 'react'\nimport { Box, Paper, Typography, Button, Grid } from '@material-ui/core'\nimport { FileCopy } from '@material-ui/icons'\nimport {\n\tt,\n\tselectAccountIdentityAddr,\n\tselectMainToken,\n\tselectEmail,\n\tselectSide,\n} from 'selectors'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport copy from 'copy-to-clipboard'\nimport { styles } from './styles'\nimport { execute, addToast } from 'actions'\nimport { FiatProviders, CryptoProviders } from './Ramp'\nimport ReactGA from 'react-ga'\n\nconst useStyles = makeStyles(styles)\n\nexport default function TopUp() {\n\tconst classes = useStyles()\n\tconst accountId = useSelector(selectAccountIdentityAddr)\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst email = useSelector(selectEmail)\n\tconst side = useSelector(selectSide)\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item lg={4} md={6} sm={6} xs={12}>\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tp={2}\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t// justifyContent='space-between'\n\t\t\t\t\t\theight={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Typography className={classes.title}>{t('DAI')}</Typography>\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\n\t\t\t\t\t\t\t\t{t('DIRECT_DEPOSIT')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\n\t\t\t\t\t\t\t\t\t{t('DAI_DIRECT_DEPOSIT_INFO')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tcopy(accountId)\n\t\t\t\t\t\t\t\t\tReactGA.event({\n\t\t\t\t\t\t\t\t\t\taction: 'account',\n\t\t\t\t\t\t\t\t\t\tcategory: 'top_up',\n\t\t\t\t\t\t\t\t\t\tlabel: 'direct',\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={classes.copyBtn}\n\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tendIcon={<FileCopy fontSize='small' color='disabled' />}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{accountId}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Paper>\n\t\t\t</Grid>\n\t\t\t<Grid item lg={4} md={6} sm={6} xs={12}>\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tp={2}\n\t\t\t\t\t\tpb={1}\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t// justifyContent='space-between'\n\t\t\t\t\t\theight={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Typography className={classes.title}>\n\t\t\t\t\t\t\t\t{t('FIAT_CURRENCY')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\n\t\t\t\t\t\t\t\t{t('CREDIT_CARD_BANK_TRANSFER')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\n\t\t\t\t\t\t\t\t\t{t('ONRAMP_INFO')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<FiatProviders\n\t\t\t\t\t\t\t\taccountId={accountId}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t\temail={email}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Paper>\n\t\t\t</Grid>\n\t\t\t<Grid item lg={4} md={6} sm={6} xs={12}>\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tp={2}\n\t\t\t\t\t\tpb={1}\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t// justifyContent='space-between'\n\t\t\t\t\t\theight={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Typography className={classes.title}>\n\t\t\t\t\t\t\t\t{t('CRYPTO_CURRENCY_DEPOSIT')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\n\t\t\t\t\t\t\t\t{t('CRYPTO_EXCHANGE')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\n\t\t\t\t\t\t\t\t\t{t('CRYPTO_CURRENCY_DEPOSIT_INFO')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<CryptoProviders\n\t\t\t\t\t\t\t\taccountId={accountId}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t\temail={email}\n\t\t\t\t\t\t\t\tside={side}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Paper>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Paper, Box } from '@material-ui/core'\nimport { selectAccountIdentityAddr } from 'selectors'\n\nconst onloadFunction = `\nfunction at(t) {\n\tvar e = t.target,\n\t\ti = e.parentNode,\n\t\tn = e.contentWindow,\n\t\tr = function() {\n\t\t\treturn n.postMessage({ width: i.offsetWidth }, 'https://widget.changelly.com');\n\t\t};\n\twindow.addEventListener('resize', r), r();\n};\nat.apply(this, arguments);\n`\nconst getChangellyIframe = identityAddress =>\n\t`\n\t<iframe \n\tsrc=\"https://widget.changelly.com?from=btc,eth,xrp&to=dai&amount=0.007&address=${identityAddress}&fromDefault=btc&toDefault=dai&theme=aqua&merchant_id=unl7fil0on3x48m1&payment_id=&v=2\" \n\twidth=\"100%\" height=\"600\" class=\"changelly\" scrolling=\"no\" \n\tonLoad=\"${onloadFunction}\" \n\tstyle=\"min-width: 100%; width: 100px; overflow-y: hidden; border: none\">Can't load widget</iframe>\n`\n\nfunction TopUpChangelly(props) {\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst widgetIframeHtml = getChangellyIframe(identityAddr)\n\n\treturn (\n\t\t<Paper variant='outlined'>\n\t\t\t<Box p={2}>\n\t\t\t\t{!!identityAddr && (\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: widgetIframeHtml }} />\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t</Paper>\n\t)\n}\n\nexport default TopUpChangelly\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport { Box } from '@material-ui/core'\r\nimport { CheckCircle } from '@material-ui/icons'\r\nimport StepConnector from '@material-ui/core/StepConnector'\r\n\r\nconst LINES_WIDTH = 3\r\nconst DEFAULT_SIZE = 80\r\n\r\nconst useColorlibStepIconStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tbackgroundColor: 'transparent',\r\n\t\tzIndex: 1,\r\n\t\twidth: props => DEFAULT_SIZE,\r\n\t\theight: props => DEFAULT_SIZE,\r\n\t\tdisplay: 'flex',\r\n\t\tborderRadius: '50%',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.text.solid}`,\r\n\t\ttransition: '0.5s',\r\n\t\t'&:hover': {\r\n\t\t\tboxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n\t\t\ttransform: 'translateY(-5px)',\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.primary.main} !important`,\r\n\t},\r\n\tcompleted: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.accentTwo.main}`,\r\n\t},\r\n\tstar: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.accentTwo.contrastText,\r\n\t\tcolor: theme.palette.accentTwo.main,\r\n\t\ttop: '-40%',\r\n\t\tright: '-32%',\r\n\t\tborderRadius: '50%',\r\n\t},\r\n}))\r\n\r\nexport const ColorlibConnector = withStyles(theme => ({\r\n\talternativeLabel: {\r\n\t\ttop: DEFAULT_SIZE / 2,\r\n\t\tleft: `calc(-50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t\tright: `calc(50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t},\r\n\tline: {\r\n\t\theight: LINES_WIDTH,\r\n\t\tborder: 0,\r\n\t\tbackground: `linear-gradient(to right, transparent 50%, ${theme.palette.background.paper} 50%), ${theme.palette.text.solid}`,\r\n\t\tbackgroundSize: `${LINES_WIDTH * 5}px`,\r\n\t},\r\n}))(StepConnector)\r\n\r\nexport function ColorlibStepIcon(props) {\r\n\tconst classes = useColorlibStepIconStyles(props)\r\n\tconst { active, completed, icon } = props\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={clsx(classes.root, {\r\n\t\t\t\t[classes.completed]: completed,\r\n\t\t\t\t[classes.active]: active,\r\n\t\t\t})}\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundImage: `url(${icon})`,\r\n\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{completed && <CheckCircle className={clsx(classes.star)} />}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n\tactive: PropTypes.bool,\r\n\tcompleted: PropTypes.bool,\r\n\ticon: PropTypes.node,\r\n}\r\n","import React, { Fragment } from 'react'\nimport { Typography } from '@material-ui/core'\nimport { confirmAction, execute } from 'actions'\nimport { t } from 'selectors'\nimport { ExternalAnchor } from 'components/common/anchor/'\n\nexport const createAdUnitTutorial = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 8; i++) {\n\t\tsteps.push(`TUTORIAL_CREATE_AD_UNIT_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_UNIT_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_UNIT_END'),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const fundAccountTutorial = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 4; i++) {\n\t\tsteps.push(`TUTORIAL_FUND_ACC_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\ttitle: t('TUTORIAL_FUND_ACC_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_START')}</Typography>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t{t('TUTORIAL_FUND_ACC_MORE_INFO', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t'https://www.adex.network/blog/adex-integrates-ramp-networks-fiat-onramp-advertisers-can-now-pay-in-fiat/'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('HERE')}\n\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_END')}</Typography>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const launchFirstCampaign = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 5; i++) {\n\t\tsteps.push(`TUTORIAL_LAUNCH_CAMPAIGN_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\ttitle: t('TUTORIAL_LAUNCH_CAMPAIGN_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Typography>{t('TUTORIAL_LAUNCH_CAMPAIGN_START')}</Typography>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: t('TUTORIAL_LAUNCH_CAMPAIGN_END'),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const createAdSlot = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 7; i++) {\n\t\tsteps.push(`TUTORIAL_CREATE_AD_SLOT_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_SLOT_TTILE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_SLOT_END'),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const verifyWebsite = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 2; i++) {\n\t\tsteps.push(`TUTORIAL_VERIFY_WEBSITE_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\ttitle: t('TUTORIAL_VERIFY_WEBSITE_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t{t('TUTORIAL_VERIFY_WEBSITE_MORE_INFO')}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360013352340-How-to-verify-your-publisher-website'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('TUTORIAL_VERIFY_WEBSITE_INFO_LINK_1')}\n\t\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('TUTORIAL_VERIFY_WEBSITE_INFO_LINK_2')}\n\t\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t\t\t,\n\t\t\t\t\t</Typography>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const placeAdSlot = () => {\n\tconst stepsPlace = []\n\tconst stepsIntegrate = []\n\n\tfor (let i = 1; i <= 4; i++) {\n\t\tstepsPlace.push(`TUTORIAL_PLACE_AD_SLOT_STEP_${i}`)\n\t}\n\n\tfor (let i = 5; i <= 6; i++) {\n\t\tstepsIntegrate.push(`TUTORIAL_PLACE_AD_SLOT_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\ttitle: t('TUTORIAL_PLACE_AD_SLOT_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_PLACE')}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{stepsPlace.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\n\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INTEGRATE')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{stepsPlace.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\n\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_MORE_INFO')}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360011670479-How-to-Create-Publisher-Ad-Slots'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_1')}\n\t\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012022820-How-to-implement-an-ad-slot-to-your-website'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_2')}\n\t\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<ExternalAnchor href={'https://html.com/tags/iframe/'}>\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_3')}\n\t\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360013148720-How-to-integrate-AdEx-ads-on-a-WordPress-site'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_4')}\n\t\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n","import React, { useEffect, useState } from 'react'\nimport { ACCENT_TWO } from 'components/App/themeMUi'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tBox,\n\tStepButton,\n\tMobileStepper,\n\tStepper,\n\tStep,\n\tStepLabel,\n\tButton,\n\tTypography,\n\tHidden,\n\tLink,\n\tExpansionPanel,\n\tExpansionPanelDetails,\n\tExpansionPanelSummary,\n\tTooltip,\n} from '@material-ui/core'\nimport {\n\tKeyboardArrowLeft,\n\tKeyboardArrowRight,\n\tExpandMore,\n\tClose,\n\tCheckCircleOutline,\n\tCheckCircle,\n} from '@material-ui/icons'\nimport EmailEddie from 'resources/getting-started/GS-email-ic_80x80.png'\nimport FundEddie from 'resources/getting-started/GS-fund-ic_80x80.png'\nimport CreateEddie from 'resources/getting-started/GS-create-ic_80x80.png'\nimport LaunchEddie from 'resources/getting-started/GS-launch-ic_80x80.png'\nimport PlaceEddie from 'resources/getting-started/GS-place-ic_80x80.png'\n// import BonusEddie from 'resources/getting-started/GS-bonus-ic_80x80.png'\nimport {\n\tt,\n\tselectStepsData,\n\tselectHideGettingStarted,\n\tselectGettingStartedExpanded,\n} from 'selectors'\nimport { useSelector } from 'react-redux'\nimport { ColorlibStepIcon, ColorlibConnector } from './Colorlib'\nimport { hideGettingStarted, setGettingStartedExpanded, execute } from 'actions'\nimport {\n\tcreateAdUnitTutorial,\n\tfundAccountTutorial,\n\tlaunchFirstCampaign,\n\t// createAdSlot,\n\tverifyWebsite,\n\tplaceAdSlot,\n} from './Tutorials'\n// import { useEffectDebugger } from 'hooks/useEffectDebugger'\nimport ReactGA from 'react-ga'\n\nconst useStyles = makeStyles(theme => {\n\tconst stepperBackgroundColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.background.paper\n\t\t\t: theme.palette.background.paper\n\n\treturn {\n\t\tmobile: {\n\t\t\tbackgroundColor: 'transparent',\n\t\t\tflex: 1,\n\t\t},\n\t\tstepper: {\n\t\t\tbackgroundColor: 'transparent',\n\t\t},\n\t\tbutton: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tinstructions: {\n\t\t\tmarginTop: theme.spacing(1),\n\t\t\tmarginBottom: theme.spacing(1),\n\t\t},\n\t\texpansionPanel: {\n\t\t\tcolor: theme.palette.primary.main,\n\t\t\tbackgroundColor: stepperBackgroundColor,\n\t\t\t'& .MuiExpansionPanelSummary-expandIcon': {\n\t\t\t\tcolor: theme.palette.primary.main,\n\t\t\t},\n\t\t},\n\t\tcheckmark: {\n\t\t\tcolor: theme.palette.accentTwo.main,\n\t\t},\n\t}\n})\n\nconst getSteps = ({\n\thasCreatedAdUnit,\n\thasCreatedCampaign,\n\thasCreatedAdSlot,\n\thasConfirmedEmail,\n\thasFundedAccount,\n\thasImpressions,\n\t// has5000Impressions,\n\thasVerifiedSites,\n}) => ({\n\tadvertiser: [\n\t\t{\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\n\t\t\tcontent: (\n\t\t\t\t<span\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t),\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\n\t\t\ticon: EmailEddie,\n\t\t\tcheck: hasConfirmedEmail,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_ADD_UNIT_LABEL'),\n\t\t\tcontent: t('TUTORIAL_ADD_UNIT_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_CREATE_UNIT_COMPLETE'),\n\t\t\ticon: CreateEddie,\n\t\t\tcheck: hasCreatedAdUnit,\n\t\t\ttutorial: createAdUnitTutorial,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_FUND_ACCOUNT_LABEL'),\n\t\t\tcontent: t('TUTORIAL_FUND_ACCOUNT_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_FUND_ACC_COMPLETE'),\n\t\t\ticon: FundEddie,\n\t\t\tcheck: hasFundedAccount,\n\t\t\ttutorial: fundAccountTutorial,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_FIRST_CAMPAIGN_LABEL'),\n\t\t\tcontent: t('TUTORIAL_FIRST_CAMPAIGN_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_LAUNCH_CAMPAIGN_COMPLETE'),\n\t\t\ticon: LaunchEddie,\n\t\t\tcheck: hasCreatedCampaign,\n\t\t\ttutorial: launchFirstCampaign,\n\t\t},\n\t\t// {\n\t\t// \tlabel: 'Receive your bonus',\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\n\t\t// \ticon: BonusEddie,\n\t\t// \tcheck: false,\n\t\t// },\n\t],\n\tpublisher: [\n\t\t{\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\n\t\t\tcontent: (\n\t\t\t\t<span\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t),\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\n\t\t\ticon: EmailEddie,\n\t\t\tcheck: hasConfirmedEmail,\n\t\t},\n\t\t// {\n\t\t// \tlabel: t('TUTORIAL_ADD_SLOT_LABEL'),\n\t\t// \tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\n\t\t// \tcontentCompleted: t('TUTORIAL_CREATE_AD_SLOT_COMPLETE'),\n\t\t// \ticon: CreateEddie,\n\t\t// \tcheck: hasCreatedAdSlot,\n\t\t// \ttutorial: createAdSlot,\n\t\t// },\n\t\t{\n\t\t\tlabel: t('TUTORIAL_VERIFY_WEBSITE_LABEL'),\n\t\t\tcontent: t('TUTORIAL_VERIFY_WEBSITE_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_VERIFY_WEBSITE_COMPLETE'),\n\t\t\ticon: CreateEddie,\n\t\t\tcheck: hasVerifiedSites,\n\t\t\ttutorial: verifyWebsite,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_PLACE_SLOT_LABEL'),\n\t\t\tcontent: t('TUTORIAL_PLACE_AD_SLOT_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_PLACE_AD_SLOT_COMPLETE'),\n\t\t\ticon: PlaceEddie,\n\t\t\tcheck: hasCreatedAdSlot && hasImpressions,\n\t\t\ttutorial: placeAdSlot,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_REACH_5000_LABEL'),\n\t\t\tcontent: t('TUTORIAL_REACH_5000_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_5000_IMPRESSIONS_COMPLETE'),\n\t\t\ticon: LaunchEddie,\n\t\t\tcheck: hasImpressions,\n\t\t},\n\t\t// {\n\t\t// \tlabel: 'Receive your bonus',\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\n\t\t// \ticon: BonusEddie,\n\t\t// \tcheck: false,\n\t\t// },\n\t],\n})\n\nexport default function GettingStarted(props) {\n\tconst { side } = props\n\tconst classes = useStyles({ side })\n\tconst stepsData = useSelector(selectStepsData)\n\tconst isGettingStartedHidden = useSelector(selectHideGettingStarted)\n\tconst expanded = useSelector(selectGettingStartedExpanded)\n\tconst [steps, setSteps] = useState({})\n\n\tconst [activeStep, setActiveStep] = React.useState(0)\n\n\tconst sideSteps = steps[side] || []\n\tconst currentStep = sideSteps[activeStep] || {}\n\n\tconst indexOfFirstIncompleteStep = sideSteps.findIndex(step => !step.check)\n\n\tconst handleStep = step => () => {\n\t\tsetActiveStep(step)\n\t}\n\n\tconst handleNext = () => {\n\t\tsetActiveStep(activeStep + 1)\n\t}\n\tconst handleBack = () => {\n\t\tsetActiveStep(activeStep - 1)\n\t}\n\n\tconst handleDismiss = () => {\n\t\tsetActiveStep(0)\n\t\texecute(hideGettingStarted(side))\n\t}\n\n\tuseEffect(() => {\n\t\tsetSteps(getSteps(stepsData))\n\t}, [stepsData])\n\n\tuseEffect(() => {\n\t\tconst advertiserStep = getSteps(stepsData).advertiser.findIndex(\n\t\t\tstep => !step.check\n\t\t)\n\t\tconst publisherStep = getSteps(stepsData).publisher.findIndex(\n\t\t\tstep => !step.check\n\t\t)\n\t\tReactGA.set({\n\t\t\tdimension1:\n\t\t\t\tadvertiserStep === -1 ? 'completed' : `step${advertiserStep + 1}`,\n\t\t\tdimension2:\n\t\t\t\tpublisherStep === -1 ? 'completed' : `step${publisherStep + 1}`,\n\t\t})\n\t}, [stepsData])\n\n\tuseEffect(() => {\n\t\tsetActiveStep(\n\t\t\tindexOfFirstIncompleteStep !== -1\n\t\t\t\t? indexOfFirstIncompleteStep\n\t\t\t\t: sideSteps.length - 1\n\t\t)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [steps, indexOfFirstIncompleteStep])\n\t// TODO: wait for the data to be loaded before displaying the getting started\n\treturn (\n\t\t!isGettingStartedHidden &&\n\t\t!!sideSteps.length && (\n\t\t\t<Box mb={1}>\n\t\t\t\t<ExpansionPanel\n\t\t\t\t\texpanded={expanded}\n\t\t\t\t\tonChange={() => execute(setGettingStartedExpanded(!expanded))}\n\t\t\t\t\tsquare={true}\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMore />}\n\t\t\t\t\t\tclasses={{ root: classes.expansionPanel }}\n\t\t\t\t\t\taria-controls='expand-getting-started'\n\t\t\t\t\t\tid='getting-started-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\twidth={1}\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Typography variant={'h6'}>\n\t\t\t\t\t\t\t\t{`${t('GETTING_STARTED_HEADING')} (${\n\t\t\t\t\t\t\t\t\tside === 'publisher' ? t('PUBLISHER') : t('ADVERTISER')\n\t\t\t\t\t\t\t\t})`}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center'>\n\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => {\n\t\t\t\t\t\t\t\t\tconst Icon = check ? CheckCircle : CheckCircleOutline\n\t\t\t\t\t\t\t\t\tconst color = ACCENT_TWO\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Tooltip arrow title={label} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t<Icon className={classes.checkmark} />\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</ExpansionPanelSummary>\n\n\t\t\t\t\t<ExpansionPanelDetails>\n\t\t\t\t\t\t<Box width={1}>\n\t\t\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t\t\t<Box p={2} justifyContent={'center'} display='flex'>\n\t\t\t\t\t\t\t\t\t<ColorlibStepIcon\n\t\t\t\t\t\t\t\t\t\ticon={currentStep.icon}\n\t\t\t\t\t\t\t\t\t\tcompleted={currentStep.check}\n\t\t\t\t\t\t\t\t\t\tsize='35vw'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<MobileStepper\n\t\t\t\t\t\t\t\t\tclassName={classes.mobile}\n\t\t\t\t\t\t\t\t\tsteps={sideSteps.length}\n\t\t\t\t\t\t\t\t\tposition='static'\n\t\t\t\t\t\t\t\t\tvariant='progress'\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\n\t\t\t\t\t\t\t\t\tnextButton={\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleNext}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === sideSteps.length - 1}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('NEXT')}\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowRight />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbackButton={\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleBack}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === 0}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowLeft />\n\t\t\t\t\t\t\t\t\t\t\t{t('BACK')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t<Hidden smDown>\n\t\t\t\t\t\t\t\t<Stepper\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.stepper }}\n\t\t\t\t\t\t\t\t\tnonLinear\n\t\t\t\t\t\t\t\t\talternativeLabel\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\n\t\t\t\t\t\t\t\t\tconnector={<ColorlibConnector />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => (\n\t\t\t\t\t\t\t\t\t\t<Step key={label}>\n\t\t\t\t\t\t\t\t\t\t\t<StepButton onClick={handleStep(index)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<StepLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconComponent={ColorlibStepIcon}\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconProps={{ icon, completed: check }}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t\t\t\t\t</StepLabel>\n\t\t\t\t\t\t\t\t\t\t\t</StepButton>\n\t\t\t\t\t\t\t\t\t\t</Step>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Stepper>\n\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t{indexOfFirstIncompleteStep === -1 ? (\n\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\t\tjustifyContent={'space-between'}\n\t\t\t\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('GETTING_STARTED_FINISHED')}</strong>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleDismiss}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<Close />}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('DISMISS')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tvariant={'body1'}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('GETTING_STARTED_STEPS', {\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [activeStep + 1, currentStep.label || ''],\n\t\t\t\t\t\t\t\t\t\t\t\t})}{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.check ? t('COMPLETED') : ''}\n\t\t\t\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t{currentStep.check ? (\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.contentCompleted}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.content}{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.tutorial &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tt('GETTING_STARTED_NOT_SURE_SEE_TUTORIAL', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey='see-tutorial-link'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='#'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentStep.tutorial()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunderline={'hover'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('OUR_TUTORIAL')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</ExpansionPanelDetails>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</Box>\n\t\t)\n\t)\n}\n","import React, { useState, useEffect, Fragment } from 'react'\nimport SideNav from './SideNav'\nimport TopBar from './TopBar'\nimport { Route, Switch } from 'react-router'\nimport Campaign from 'components/dashboard/containers/Campaign'\nimport { Receipt } from 'components/dashboard/containers/Receipt'\nimport {\n\tPublisherStats,\n\tAdvertiserStats,\n} from 'components/dashboard/containers/DashboardStats'\nimport Unit from 'components/dashboard/containers/Unit'\nimport Slot from 'components/dashboard/containers/Slot'\nimport Audience from 'components/dashboard/containers/Audience'\nimport WebsitesPage from 'components/dashboard/containers/Websites'\nimport Account from 'components/dashboard/account/AccountInfo'\nimport TopUp from 'components/dashboard/deposit/TopUp'\nimport TopUpChangelly from 'components/dashboard/deposit/TopUpChangelly'\nimport {\n\tNewUnitDialog,\n\tNewCampaignDialog,\n\tNewSlotDialog,\n\tNewAudienceDialog,\n\tNewWebsiteDialog,\n} from 'components/dashboard/forms/items/NewItems'\nimport {\n\tCampaignsTable,\n\tAdSlotsTable,\n\tAdUnitsTable,\n\tAudiencesTable,\n} from 'components/dashboard/containers/Tables'\nimport { Drawer, Box, Hidden, Paper } from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Add } from '@material-ui/icons'\nimport { styles } from './styles'\nimport {\n\texecute,\n\tresolveEnsAddress,\n\tupdatePrivilegesWarningAccepted,\n\tloadAccountData,\n\tstopAccountDataUpdate,\n\tupdateNav,\n\tupdateUiByIdentity,\n} from 'actions'\nimport {\n\tt,\n\tselectAccountIdentityAddr,\n\tselectWalletPrivileges,\n\tselectPrivilegesWarningAccepted,\n\tselectInitialDataLoaded,\n} from 'selectors'\nimport { useSelector } from 'react-redux'\nimport GettingStarted from '../getting-started/GettingStarted'\n\nconst Campaigns = () => {\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst disabled = privileges <= 1\n\treturn (\n\t\t<Box>\n\t\t\t<NewCampaignDialog\n\t\t\t\tdisabled={disabled}\n\t\t\t\tfabButton\n\t\t\t\tvariant='extended'\n\t\t\t\tcolor='secondary'\n\t\t\t\tbtnLabel='NEW_CAMPAIGN'\n\t\t\t\tsize='medium'\n\t\t\t\ticon={<Add />}\n\t\t\t/>\n\t\t\t<Paper variant='outlined'>\n\t\t\t\t<CampaignsTable />\n\t\t\t</Paper>\n\t\t</Box>\n\t)\n}\n\nconst AdUnits = () => (\n\t<Box>\n\t\t<NewUnitDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_UNIT'\n\t\t\tsize='medium'\n\t\t\ticon={<Add />}\n\t\t/>\n\t\t<Paper variant='outlined'>\n\t\t\t<AdUnitsTable />\n\t\t</Paper>\n\t</Box>\n)\n\nconst AdSlots = () => (\n\t<Box>\n\t\t<NewSlotDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_SLOT'\n\t\t\tsize='medium'\n\t\t\ticon={<Add />}\n\t\t/>\n\t\t<Paper variant='outlined'>\n\t\t\t<AdSlotsTable />\n\t\t</Paper>\n\t</Box>\n)\n\nconst Audiences = () => (\n\t<Box>\n\t\t<NewAudienceDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_AUDIENCE'\n\t\t\tsize='medium'\n\t\t\ticon={<Add />}\n\t\t/>\n\t\t<Paper variant='outlined'>\n\t\t\t<AudiencesTable />\n\t\t</Paper>\n\t</Box>\n)\n\nconst Websites = () => (\n\t<Box>\n\t\t<NewWebsiteDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_WEBSITE'\n\t\t\tsize='medium'\n\t\t\ticon={<Add />}\n\t\t/>\n\t\t<WebsitesPage />\n\t</Box>\n)\n\nconst useStyles = makeStyles(styles)\n\nfunction Dashboard(props) {\n\tconst [mobileOpen, setMobileOpen] = useState(false)\n\tconst address = useSelector(selectAccountIdentityAddr)\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst privilegesWarningAccepted = useSelector(selectPrivilegesWarningAccepted)\n\tconst showTxPrivLevelWarning = privileges <= 1 && !privilegesWarningAccepted\n\n\tconst { match } = props\n\tconst { side } = match.params\n\tconst classes = useStyles()\n\n\tconst dataLoaded = useSelector(selectInitialDataLoaded)\n\n\tuseEffect(() => {\n\t\tasync function updateInitialData() {\n\t\t\texecute(loadAccountData())\n\t\t}\n\n\t\tupdateInitialData()\n\n\t\treturn () => {\n\t\t\texecute(stopAccountDataUpdate())\n\t\t}\n\t}, [])\n\n\tuseEffect(() => {\n\t\texecute(resolveEnsAddress({ address }))\n\t}, [address])\n\n\tuseEffect(() => {\n\t\texecute(updateNav('side', side))\n\t\texecute(updateUiByIdentity('userLastSide', side))\n\t}, [side])\n\n\tconst handleDrawerToggle = () => {\n\t\tsetMobileOpen(!mobileOpen)\n\t}\n\n\tconst drawer = <SideNav side={side} />\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<TopBar\n\t\t\t\tside={side}\n\t\t\t\topen={mobileOpen}\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\n\t\t\t/>\n\t\t\t<Hidden mdUp>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='temporary'\n\t\t\t\t\tanchor='left'\n\t\t\t\t\topen={mobileOpen}\n\t\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t\tModalProps={{\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\t\t\t<Hidden smDown implementation='css'>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='permanent'\n\t\t\t\t\topen\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\n\t\t\t<main className={classes.content}>\n\t\t\t\t<div className={classes.contentInner}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t{showTxPrivLevelWarning && (\n\t\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\tvariant='filled'\n\t\t\t\t\t\t\t\t\tseverity='info'\n\t\t\t\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\t\t\t\texecute(updatePrivilegesWarningAccepted(true))\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('PRIVILEGES_LEVEL_WARNING_MSG', {\n\t\t\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{dataLoaded && <GettingStarted side={side} />}\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\n\t\t\t\t\t\t\t\tcomponent={Campaigns}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\n\t\t\t\t\t\t\t\tcomponent={AdUnits}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/audiences'\n\t\t\t\t\t\t\t\tcomponent={Audiences}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/audiences/:itemId'\n\t\t\t\t\t\t\t\tcomponent={Audience}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipts'\n\t\t\t\t\t\t\t\tcomponent={Receipt}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns/:itemId'\n\t\t\t\t\t\t\t\tcomponent={Campaign}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipt/:itemId'\n\t\t\t\t\t\t\t\tcomponent={Receipt}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/units/:itemId'\n\t\t\t\t\t\t\t\tcomponent={Unit}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\n\t\t\t\t\t\t\t\tcomponent={AdSlots}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/slots/:itemId'\n\t\t\t\t\t\t\t\tcomponent={Slot}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/websites'\n\t\t\t\t\t\t\t\tcomponent={Websites}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/receipts'\n\t\t\t\t\t\t\t\tcomponent={Receipt}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\n\t\t\t\t\t\t\t\tcomponent={Account}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/topup/changelly'}\n\t\t\t\t\t\t\t\tcomponent={TopUpChangelly}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route exact path={'/dashboard/:side/topup'} component={TopUp} />\n\t\t\t\t\t\t\t{/* <Route\n\t\t\t\t\t\t\t\tauth={this.props.auth}\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\n\t\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser'\n\t\t\t\t\t\t\t\tcomponent={AdvertiserStats}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher'\n\t\t\t\t\t\t\t\tcomponent={PublisherStats}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route component={PageNotFound} />\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\troot: {\n\t\t\t// flexGrow: 1,\n\t\t\theight: '100vh',\n\t\t},\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\theight: '100vh',\n\t\t\tflexGrow: '1',\n\t\t},\n\t\tactions: {\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.png')})`,\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tbackgroundColor: theme.palette.background.paper,\n\t\t},\n\t\tbuttons: {\n\t\t\tbackgroundColor: theme.palette.grey[200],\n\t\t},\n\t\tadxVersion: {\n\t\t\t// position: 'absolute',\n\t\t\t// left: spacing,\n\t\t\t// bottom: spacing\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\t// marginTop: '1.5vh',\n\t\t\t// width: '17.92vh',\n\t\t\t// height: '6vh',\n\t\t\theight: '2rem',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tnoBg: {\n\t\t\tbackground: 0,\n\t\t\tboxShadow: 'none',\n\t\t\toverflow: 'visible',\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\t// position: 'relative',\n\t\t\tjustifyContent: 'center',\n\t\t\tpadding: 24,\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t// '&:first-child': {\n\t\t\t// \tpaddingTop: spacing,\n\t\t\t// },\n\t\t\t// overflow: 'visible',\n\t\t\t// maxHeight: '100vh'\n\t\t},\n\t}\n}\n","import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport { Box, Divider } from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport classnames from 'classnames'\nimport { getAllWallets } from 'services/wallet/wallet'\nimport { execute, initIdentity, confirmAction } from 'actions'\nimport {\n\tt,\n\tselectAuth,\n\tselectAccount,\n\tselectRegistrationAllowed,\n\tselectUserLastSide,\n} from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { formatAddress } from 'helpers/formatters'\nimport { push } from 'connected-react-router'\nimport { removeFromLocalStorage } from 'helpers/localStorageHelpers'\n\nconst RRButton = withReactRouterLink(Button)\nconst useStyles = makeStyles(styles)\n\nconst AuthSelect = () => {\n\tconst classes = useStyles()\n\tconst [wallets, setWallets] = useState([])\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\tconst auth = useSelector(selectAuth)\n\tconst userSide = useSelector(selectUserLastSide) || 'publisher'\n\tconst account = useSelector(selectAccount)\n\tconst { wallet, identity } = account || {}\n\n\tuseEffect(() => {\n\t\tconst allWallets = getAllWallets()\n\t\tconst wallets = allWallets.filter(\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\n\t\t)\n\t\tsetWallets(wallets)\n\t}, [wallet])\n\n\tconst goTo = (to, confirmLogout, onConfirm) => {\n\t\tconst toExecute = () => {\n\t\t\t// skip redirect as you are going to be redirected on next line\n\t\t\t// this resolves an issue of \"Same web property ID is tracked twice.\"\n\t\t\t// with the google analytics pixel\n\t\t\tlogOut(true)\n\t\t\texecute(push(to))\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\n\t\t\t\tonConfirm()\n\t\t\t}\n\t\t}\n\t\tif (auth && confirmLogout) {\n\t\t\texecute(\n\t\t\t\tconfirmAction(toExecute, null, {\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TEXT', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\n\t\t\t\t\t\t\tidentity.address,\n\t\t\t\t\t\t],\n\t\t\t\t\t}),\n\t\t\t\t})\n\t\t\t)\n\t\t} else {\n\t\t\ttoExecute()\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='stretch'\n\t\t\tjustifyContent='space-between'\n\t\t>\n\t\t\t<Box p={2} alignItems='center'>\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{auth && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<RRButton\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tto={`/dashboard/${userSide}`}\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CONTINUE_AS', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\twallet.email || formatAddress(identity.address),\n\t\t\t\t\t\t\t\twallet.authType,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</RRButton>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t{wallets.map(w => (\n\t\t\t\t<Box key={w.name} m={1} display='flex'>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tconfirmAction(\n\t\t\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\t\t\tremoveFromLocalStorage(w.key)\n\t\t\t\t\t\t\t\t\t\tsetWallets(wallets.filter(i => i.key !== w.key))\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tconfirmLabel: t('CONFIRM_YES'),\n\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\n\t\t\t\t\t\t\t\t\t\ttitle: t('CONFIRM_DIALOG_REMOVE_SAVED_AUTH_TITLE'),\n\t\t\t\t\t\t\t\t\t\ttext: t('CONFIRM_DIALOG_REMOVE_SAVED_AUTH_TEXT', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\n\t\t\t\t\t\t\t\t\t\t\t\tidentity.address,\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Close />\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t))}\n\t\t\t{(wallets.length > 0 || auth) && <Divider />}\n\t\t\t{showRegistration && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\n\t\t\t\t>\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\n\t\t\t\t\t\tclassName={classes.btnLogo}\n\t\t\t\t\t/>\n\t\t\t\t\t{t('METAMASK')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.trezorBtn}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tclasses.btnLogo,\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* {t('TREZOR')} */}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default AuthSelect\n","export const styles = theme => {\n\treturn {\n\t\tactions: {\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tlimitedWidthBtn: {\n\t\t\twordBreak: 'break-word',\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tbtnLogo: {\n\t\t\theight: '2rem',\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tbtnLogoNoTxt: {\n\t\t\tmarginRight: 0,\n\t\t},\n\t\tmetamaskBtn: {\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\tcolor: theme.palette.common.black,\n\t\t},\n\t\ttrezorBtn: {\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\tcolor: theme.palette.common.black,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Hidden from '@material-ui/core/Hidden'\nimport Anchor from 'components/common/anchor/anchor'\nimport packageJson from './../../../package.json'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\nimport { t } from 'selectors'\nimport { Typography } from '@material-ui/core'\nimport ThemeSwitch from 'components/App/ThemeSwitch'\n\nexport default function ConnectHoc(Decorated) {\n\tfunction Connect({ classes, ...rest }) {\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Grid\n\t\t\t\t\tclassName={classes.container}\n\t\t\t\t\tcontainer\n\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t// spacing={2}\n\t\t\t\t>\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\n\t\t\t\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\n\t\t\t\t\t\t\t\t<ThemeSwitch />\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={2}>\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tp={2}\n\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('HELP')}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn withStyles(styles)(Connect)\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\taddrListItem: {\n\t\t\t'&:hover': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\taddrInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\tflexGrow: 1,\n\t\t\tpaddingTop: spacing,\n\t\t\twhiteSpace: 'normal',\n\t\t\t'& strong': {\n\t\t\t\tmarginRight: spacing * 2,\n\t\t\t},\n\t\t},\n\t\taddrInfoLabel: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tfontWeight: 'bold',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t},\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t\t// marginTop: spacing * 2,\n\t\t\t// position: 'absolute',\n\t\t\t// top: 70,\n\t\t\t// left: 0,\n\t\t\t// right: 0,\n\t\t\t// bottom: 0\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\ttabLogo: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: spacing * 4,\n\t\t\tmaxHeight: '100%',\n\t\t\twidth: 'auto',\n\t\t},\n\t\ttabLabel: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tdlBtnImg: {\n\t\t\tmaxWidth: '100%',\n\t\t\tmaxHeight: spacing * 9,\n\t\t\twidth: 'auto',\n\t\t\theight: 'auto',\n\t\t},\n\t\tleftBtnIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '-6vh',\n\t\t\tleft: 0,\n\t\t},\n\t\tlogo: {\n\t\t\twidth: '12.8vh',\n\t\t\theight: '5vh',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { List, ListItem, ListItemText } from '@material-ui/core'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { selectWalletAddress, execute } from 'actions'\n\nconst useStyles = makeStyles(styles)\n\nexport function AddrItem({ stats }) {\n\tconst { balanceEth, tokensBalances, address } = stats\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<ListItemText\n\t\t\tprimary={address}\n\t\t\tsecondary={\n\t\t\t\t<span className={classes.addrInfo}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<span> ETH </span>\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\n\t\t\t\t\t</span>\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<span> {symbol} </span>\n\t\t\t\t\t\t\t<strong> {balance} </strong>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</span>\n\t\t\t}\n\t\t/>\n\t)\n}\n\nexport const AddressSelect = ({\n\taddresses,\n\taddress,\n\twaitingAction,\n\tactionWaitingLabel,\n\tselectLabel,\n\tsignType,\n\tauthType,\n\thdWalletAddrPath,\n\tclasses,\n}) => {\n\treturn (\n\t\t<ContentBox>\n\t\t\t<ContentStickyTop>\n\t\t\t\t{waitingAction ? <TopLoading msg={actionWaitingLabel} /> : selectLabel}\n\t\t\t</ContentStickyTop>\n\t\t\t<ContentBody>\n\t\t\t\t<List>\n\t\t\t\t\t{addresses.map((addrData, hdWalletAddrIdx) => (\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\tkey={addrData.address}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tselectWalletAddress({\n\t\t\t\t\t\t\t\t\t\taddrData,\n\t\t\t\t\t\t\t\t\t\thdWalletAddrPath,\n\t\t\t\t\t\t\t\t\t\thdWalletAddrIdx,\n\t\t\t\t\t\t\t\t\t\tsignType,\n\t\t\t\t\t\t\t\t\t\tauthType,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tselected={address === addrData.address}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<AddrItem stats={addrData} address={addrData.address} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))}\n\t\t\t\t</List>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\nimport METAMASK_IMG from 'resources/metamask.png'\nimport Anchor from 'components/common/anchor/anchor'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport Box from '@material-ui/core/Box'\nimport { checkAuthMetamask, execute } from 'actions'\nimport { getEthereumProviderName } from 'services/smart-contracts/ethers'\nimport { t, selectIdentity, selectSpinnerById } from 'selectors'\nimport { CHECKING_METAMASK_AUTH } from 'constants/spinners'\n\nconst useStyles = makeStyles(styles)\n\nfunction AuthMetamask() {\n\tconst classes = useStyles()\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\n\tconst { address } = wallet\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\n\tconst isOpera =\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\n\t\tfalse\n\t)\n\n\tconst waitingAddrsData = useSelector(state =>\n\t\tselectSpinnerById(state, CHECKING_METAMASK_AUTH)\n\t)\n\n\tuseEffect(() => {\n\t\tconst setEth = async () => {\n\t\t\tconst ethereumProvider = await getEthereumProviderName()\n\t\t\tsetIsMetamaskEthereumProvider(\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\n\t\t\t)\n\t\t}\n\n\t\tsetEth()\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (installingMetamask) {\n\t\t\t// Refreshes page after user comes back\n\t\t\t// from installing Metamask\n\t\t\twindow.onfocus = () => {\n\t\t\t\twindow.location.reload()\n\t\t\t\tsetInstallingMetamask(false)\n\t\t\t}\n\t\t}\n\t}, [installingMetamask])\n\n\treturn (\n\t\t<ContentBox className={classes.tabBox}>\n\t\t\t{waitingAddrsData ? (\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<Typography variant='subtitle1'>{t('METAMASK_INFO')}</Typography>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\twidth={1}\n\t\t\t\t>\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t{t('METAMASK_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\tkey={'metamask-anchor'}\n\t\t\t\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\n\t\t\t\t\t\t\t\talt={'metamask logo'}\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{address ? (\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\n\t\t\t\t\t\t\t{stats ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Typography variant='subtitle1' color='primary'>\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => execute(checkAuthMetamask())}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : null}\n\t\t\t\t</Box>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AuthMetamask\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Anchor from 'components/common/anchor/anchor'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\nimport { AddressSelect } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\nimport {\n\tAUTH_WAITING_ADDRESS_DATA,\n\tAUTH_WAITING_TREZOR_ACTION,\n} from 'constants/spinners'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { t, selectIdentity, selectSpinnerById } from 'selectors'\nimport { connectTrezor, execute } from 'actions'\n\nconst useStyles = makeStyles(styles)\n\nfunction AuthTrezor() {\n\tconst classes = useStyles()\n\tconst { wallet = {}, addresses = [], hdWalletAddrPath } = useSelector(\n\t\tselectIdentity\n\t)\n\tconst { address } = wallet\n\n\tconst waitingTrezorAction = useSelector(state =>\n\t\tselectSpinnerById(state, AUTH_WAITING_TREZOR_ACTION)\n\t)\n\n\tconst waitingAddrsData = useSelector(state =>\n\t\tselectSpinnerById(state, AUTH_WAITING_ADDRESS_DATA)\n\t)\n\n\treturn addresses.length ? (\n\t\t<AddressSelect\n\t\t\twaitingAction={waitingTrezorAction}\n\t\t\tactionWaitingLabel={t('TREZOR_WAITING_ACTION')}\n\t\t\tselectLabel={t('SELECT_ADDR_TREZOR')}\n\t\t\taddress={address}\n\t\t\taddresses={addresses}\n\t\t\tsignType={AUTH_TYPES.TREZOR.signType}\n\t\t\tauthType={AUTH_TYPES.TREZOR.name}\n\t\t\thdWalletAddrPath={hdWalletAddrPath}\n\t\t\tclasses={classes}\n\t\t/>\n\t) : (\n\t\t<ContentBox className={classes.tabBox}>\n\t\t\t{waitingAddrsData ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : waitingTrezorAction ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : null}\n\n\t\t\t<ContentBody>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\twidth={1}\n\t\t\t\t>\n\t\t\t\t\t<Typography variant='subtitle1' gutterBottom>\n\t\t\t\t\t\t{t('TREZOR_INFO')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t{t('TREZOR_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\tkey='trezor-wallet'\n\t\t\t\t\t\t\t\t\thref='https://trezor.io/'\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tTREZOR Wallet\n\t\t\t\t\t\t\t\t</Anchor>,\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\tkey='trezor-bridge'\n\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tTREZOR Bridge\n\t\t\t\t\t\t\t\t</Anchor>,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\n\t\t\t\t\t\t\t\talt={'https://trezor.io'}\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{!waitingAddrsData && !waitingTrezorAction && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => execute(connectTrezor())}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AuthTrezor\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport { selectLocationQuery } from 'selectors'\nimport AuthMetamask from './AuthMetamask'\nimport AuthTrezor from './AuthTrezor'\n\nconst useStyles = makeStyles(theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t},\n\t}\n})\n\nfunction AuthMethod(props) {\n\tconst classes = useStyles()\n\tconst query = useSelector(selectLocationQuery)\n\tconst method = query['external']\n\n\treturn (\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\n\t\t\t\t{method === 'metamask' && <AuthMetamask {...props} />}\n\t\t\t\t{method === 'trezor' && <AuthTrezor {...props} />}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default AuthMethod\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tGrid,\n\tTextField,\n\tCheckbox,\n\tFormControlLabel,\n\tFormHelperText,\n\tFormControl,\n\tBox,\n} from '@material-ui/core'\nimport { ExternalAnchor } from 'components/common/anchor'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport Dropdown from 'components/common/dropdown'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n\tselectKnowUsFromSource,\n\tselectUserSides,\n} from 'selectors'\nimport { execute, updateIdentity } from 'actions'\n\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst knowFromSource = selectKnowUsFromSource()\nconst userSides = selectUserSides()\n\nconst QuickInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\n\t]\n\n\t// Errors\n\tconst {\n\t\temail,\n\t\temailCheck,\n\t\tpassword,\n\t\tpasswordCheck,\n\t\ttosCheck,\n\t\tknowFrom,\n\t\tmoreInfo,\n\t\tuserSide,\n\t} = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner || sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t{password && !!password.dirty ? (\n\t\t\t\t\t\t\t\t\t\t\t<Box> {password.errMsg} </Box>\n\t\t\t\t\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t\t\t\t\t<Box>{t('PASSWORD_RULES')} </Box>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='passwordCheck'\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tname='knowFrom'\n\t\t\t\t\t\t\t\tlabel={t('knowFrom', { isProp: true })}\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('knowFrom', val))}\n\t\t\t\t\t\t\t\tsource={knowFromSource}\n\t\t\t\t\t\t\t\tvalue={identity.knowFrom || ''}\n\t\t\t\t\t\t\t\thtmlId='select-know-from'\n\t\t\t\t\t\t\t\terror={knowFrom && !!knowFrom.dirty}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tknowFrom && !!knowFrom.dirty\n\t\t\t\t\t\t\t\t\t\t? knowFrom.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('KNOW_FROM_CHECK_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{(identity.knowFrom === 'event' ||\n\t\t\t\t\t\t\tidentity.knowFrom === 'other') && (\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tlabel={t('moreInfo', { isProp: true })}\n\t\t\t\t\t\t\t\t\tname='moreInfo'\n\t\t\t\t\t\t\t\t\tvalue={identity.moreInfo || ''}\n\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('moreInfo', ev.target.value))\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={moreInfo && !!moreInfo.dirty}\n\t\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\tmoreInfo && !!moreInfo.dirty\n\t\t\t\t\t\t\t\t\t\t\t? moreInfo.errMsg\n\t\t\t\t\t\t\t\t\t\t\t: t('MORE_INFO_CHECK_RULES')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tname='userSide'\n\t\t\t\t\t\t\t\tlabel={t('USER_SIDE_SELECT_LABEL')}\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('userSide', val))}\n\t\t\t\t\t\t\t\tsource={userSides}\n\t\t\t\t\t\t\t\tvalue={identity.userSide || ''}\n\t\t\t\t\t\t\t\thtmlId='select-user-side'\n\t\t\t\t\t\t\t\terror={userSide && !!userSide.dirty}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tuserSide && !!userSide.dirty\n\t\t\t\t\t\t\t\t\t\t? userSide.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('USER_SIDE_INFO')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('TOS_CHECK_LABEL', {\n\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href={`${process.env.ADEX_TOS_URL}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('TOS')}\n\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n\tselectKnowUsFromSource,\n\tselectUserSides,\n} from 'selectors'\nimport { ExternalAnchor } from 'components/common/anchor'\nimport { execute, updateIdentity } from 'actions'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport Dropdown from 'components/common/dropdown'\nimport { CREATING_SESSION } from 'constants/spinners'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst knowFromSource = selectKnowUsFromSource()\nconst userSides = selectUserSides()\n\nconst FulInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\tconst { wallet = {} } = identity\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\t// Errors\n\tconst {\n\t\temail,\n\t\temailCheck,\n\t\ttosCheck,\n\t\taccessWarningCheck,\n\t\tknowFrom,\n\t\tuserSide,\n\t\tmoreInfo,\n\t} = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t{walletAddress}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tname='knowFrom'\n\t\t\t\t\t\t\t\tlabel={t('knowFrom', { isProp: true })}\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('knowFrom', val))}\n\t\t\t\t\t\t\t\tsource={knowFromSource}\n\t\t\t\t\t\t\t\tvalue={identity.knowFrom || ''}\n\t\t\t\t\t\t\t\thtmlId='select-know-from'\n\t\t\t\t\t\t\t\terror={knowFrom && !!knowFrom.dirty}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tknowFrom && !!knowFrom.dirty\n\t\t\t\t\t\t\t\t\t\t? knowFrom.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('KNOW_FROM_CHECK_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{(identity.knowFrom === 'event' ||\n\t\t\t\t\t\t\tidentity.knowFrom === 'other') && (\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tlabel={t('moreInfo', { isProp: true })}\n\t\t\t\t\t\t\t\t\tname='moreInfo'\n\t\t\t\t\t\t\t\t\tvalue={identity.moreInfo || ''}\n\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('moreInfo', ev.target.value))\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={moreInfo && !!moreInfo.dirty}\n\t\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\tmoreInfo && !!moreInfo.dirty\n\t\t\t\t\t\t\t\t\t\t\t? moreInfo.errMsg\n\t\t\t\t\t\t\t\t\t\t\t: t('MORE_INFO_CHECK_RULES')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tname='userSide'\n\t\t\t\t\t\t\t\tlabel={t('USER_SIDE_SELECT_LABEL')}\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('userSide', val))}\n\t\t\t\t\t\t\t\tsource={userSides}\n\t\t\t\t\t\t\t\tvalue={identity.userSide || ''}\n\t\t\t\t\t\t\t\thtmlId='select-user-side'\n\t\t\t\t\t\t\t\terror={userSide && !!userSide.dirty}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tuserSide && !!userSide.dirty\n\t\t\t\t\t\t\t\t\t\t? userSide.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('USER_SIDE_INFO')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('TOS_CHECK_LABEL', {\n\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('TOS')}\n\t\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FulInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { execute, updateIdentity } from 'actions'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst QuickLogin = props => {\n\tconst { validateId } = props\n\n\tconst identity = useSelector(selectIdentity)\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\n\t]\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { wallet } = validations\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickLogin\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport { push } from 'connected-react-router'\nimport Typography from '@material-ui/core/Typography'\nimport { execute, updateIdentity, updateOwnerIdentities } from 'actions'\nimport {\n\tselectSpinnerById,\n\tselectIdentity,\n\tt,\n\tselectSearchParams,\n\tselectRegistrationAllowed,\n} from 'selectors'\nimport Dropdown from 'components/common/dropdown'\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst getIdentitiesForDropdown = (ownerIdentities = []) =>\n\townerIdentities.map(id => {\n\t\treturn {\n\t\t\tvalue: id.identity + '-' + id.privLevel,\n\t\t\tlabel: id.ens\n\t\t\t\t? t('IDENTITY_OPTION_DATA_ENS', {\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.ens, id.identity],\n\t\t\t\t  })\n\t\t\t\t: t('IDENTITY_OPTION_DATA', {\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.identity],\n\t\t\t\t  }),\n\t\t}\n\t})\n\nfunction FullLogin(props) {\n\tconst identity = useSelector(selectIdentity)\n\tconst {\n\t\twalletAddr,\n\t\twallet = {},\n\t\townerIdentities,\n\t\tidentityContractAddress,\n\t} = identity\n\tconst walletAddress = wallet.address || walletAddr\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\n\t)\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\n\tconst searchParams = useSelector(selectSearchParams)\n\tsearchParams.set('step', '1')\n\n\tconst search = searchParams.toString()\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\n\tuseEffect(() => {\n\t\texecute(updateOwnerIdentities({ owner: walletAddress }))\n\t\t// We need it just once on mount\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities)}\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{showRegistration && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FullLogin\n","import React from 'react'\nimport AuthMethod from './ownerAuth/AuthMethod'\nimport QuickInfo from './QuickInfo'\nimport FullInfo from './FullInfo'\nimport QuickLogin from './QuickLogin'\nimport FullLogin from './FullLogin'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport { push } from 'connected-react-router'\n\nimport {\n\texecute,\n\tvalidateQuickLogin,\n\tvalidateStandardLogin,\n\tvalidateQuickInfo,\n\tvalidateFullInfo,\n\tvalidateContractOwner,\n\tresetIdentity,\n} from 'actions'\n\nconst cancelFunction = () => {\n\texecute(resetIdentity())\n\texecute(push('/'))\n}\n\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\n\nconst common = {\n\tcancelFunction,\n\tvalidateIdBase: 'identity-',\n}\n\nexport const LoginStandardIdentity = props => {\n\treturn (\n\t\t<FormSteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-login'\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tcomponent: AuthMethod,\n\t\t\t\t\tvalidationFn: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\n\t\t\t\t\tcomponent: FullLogin,\n\t\t\t\t\tvalidationFn: finalValidationStandard,\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateStandardIdentity = props => {\n\treturn (\n\t\t<FormSteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-create'\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tcomponent: AuthMethod,\n\t\t\t\t\tvalidationFn: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'FULL_INFO',\n\t\t\t\t\tcomponent: FullInfo,\n\t\t\t\t\tvalidationFn: ({ validateId, dirty }) =>\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateQuickIdentity = props => (\n\t<FormSteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-create'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_INFO',\n\t\t\t\tcomponent: QuickInfo,\n\t\t\t\tvalidationFn: ({ validateId, dirty }) =>\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const LoginQuickIdentity = props => (\n\t<FormSteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-login'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_LOGIN',\n\t\t\t\tcomponent: QuickLogin,\n\t\t\t\tvalidationFn: finalValidationQuick,\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const DemoIdentity = props => (\n\t<FormSteps {...props} {...common} steps={[]} />\n)\n","import React from 'react'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Logo from 'components/common/icons/AdexIconTxt'\nimport LogoDark from 'components/common/icons/AdexIconTxtDark'\nimport Typography from '@material-ui/core/Typography'\nimport Anchor from 'components/common/anchor/anchor'\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\ttextAlign: 'center',\n\t},\n\tvitalik: {\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\n\t\tbackgroundPosition: 'center',\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundSize: 'contain',\n\t},\n\tcontainer: {\n\t\tmaxWidth: theme.breakpoints.values.md,\n\t\tmargin: 'auto',\n\t},\n\tlogo: {\n\t\theight: '5rem',\n\t\twidth: '100%',\n\t},\n}))\n\nexport default function Home({ t, ...rest }) {\n\tconst classes = useStyles()\n\tconst theme = useTheme()\n\n\tconst AdxIcon = theme.type === 'dark' ? LogoDark : Logo\n\n\treturn (\n\t\t<Box\n\t\t\twidth={1}\n\t\t\theight={1}\n\t\t\tclassName={classes.root}\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='center'\n\t\t\tjustifyContent='center'\n\t\t>\n\t\t\t<Box\n\t\t\t\tclassName={classes.container}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='row'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='space-evenly'\n\t\t\t\tflexWrap='wrap'\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box\n\t\t\t\tflexGrow={1}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='column'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='center'\n\t\t\t\tmaxWidth='md'\n\t\t\t\tclassName={classes.container}\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<AdxIcon className={classes.logo} />\n\t\t\t\t</Box>\n\n\t\t\t\t{/* <Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={1}>\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t{/* <Box p={1}>\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box\n\t\t\t\t\theight='30%'\n\t\t\t\t\tposition='relative'\n\t\t\t\t\tclassName={classes.vitalik}\n\t\t\t\t\talignSelf='stretch'\n\t\t\t\t></Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport { styles } from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport default function DialogHoc(Decorated) {\n\tfunction JustDialog({ ...rest }) {\n\t\tconst classes = useStyles()\n\n\t\treturn (\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\n\t\t\t\t<DialogContent classes={{ root: classes.content }}>\n\t\t\t\t\t<Decorated {...rest} />\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\treturn JustDialog\n}\n","import React from 'react'\nimport { Box } from '@material-ui/core'\nimport { Alert, AlertTitle } from '@material-ui/lab'\n\nexport function ImportantNotifications({\n\tseverity = 'info',\n\tmessage = null,\n\ttitle = null,\n\taction = null,\n}) {\n\treturn (\n\t\t<Box\n\t\t\tstyle={{ position: 'fixed', top: 0, left: 0, right: 0, zIndex: 10000 }}\n\t\t>\n\t\t\t<Alert\n\t\t\t\tvariant='filled'\n\t\t\t\tseverity={severity}\n\t\t\t\tstyle={{ flex: 1 }}\n\t\t\t\taction={action}\n\t\t\t>\n\t\t\t\t{title && <AlertTitle>{title}</AlertTitle>}\n\t\t\t\t{message}\n\t\t\t</Alert>\n\t\t</Box>\n\t)\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tmetamaskChecks,\n\tmetamaskNetworkCheck,\n\tgetRelayerConfig,\n\texecute,\n\tensureQuickWalletBackup,\n\tupdateRegistrationAllowed,\n\tupdateEasterEggsAllowed,\n\thandleRedirectParams,\n\thandleSignupLink,\n\trefreshCacheAndReload,\n} from 'actions'\nimport { Route, Switch, Redirect } from 'react-router'\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\nimport ConnectHoc from 'components/signin/ConnectHoc'\nimport {\n\tCreateQuickIdentity,\n\tLoginStandardIdentity,\n\tCreateStandardIdentity,\n\tLoginQuickIdentity,\n} from 'components/signin/identity/Identity'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport Home from 'components/signin/Home'\nimport JustDialog from 'components/common/dialog/JustDialog'\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\nimport Translate from 'components/translate/Translate'\nimport { Button } from '@material-ui/core'\nimport {\n\tselectAuth,\n\tselectWallet,\n\tselectLocation,\n\tt,\n\tselectNewVersionAvailable,\n\tselectNewVersionAvailableId,\n} from 'selectors'\nimport { getMetamaskEthereum } from 'services/smart-contracts/ethers'\nimport { ImportantNotifications } from './ImportantNotifications'\n\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\nconst ConnectedLoginStandardIdentity = ConnectHoc(\n\tJustDialog(LoginStandardIdentity)\n)\nconst ConnectedCreateStandardIdentity = ConnectHoc(\n\tJustDialog(CreateStandardIdentity)\n)\nconst ConnectedRoot = ConnectHoc(Home)\n\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...other}\n\t\t\trender={props =>\n\t\t\t\tauth === true ? ( //|| true\n\t\t\t\t\t<Component {...props} />\n\t\t\t\t) : (\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t)\n}\n\nconst handleLegacyWallet = async wallet => {\n\tconst { type, email, password, authType } = wallet || {}\n\n\tif (!type && email && password && authType === 'grant') {\n\t\tawait migrateLegacyWallet({ email, password })\n\t\tawait removeLegacyKey({ email, password })\n\t}\n\n\tif (email && password && authType) {\n\t\texecute(ensureQuickWalletBackup())\n\t}\n}\n\nconst Root = () => {\n\tconst auth = useSelector(selectAuth)\n\tconst wallet = useSelector(selectWallet)\n\tconst location = useSelector(selectLocation)\n\tconst showNotification = useSelector(selectNewVersionAvailable)\n\tconst version = useSelector(selectNewVersionAvailableId)\n\n\tuseEffect(() => {\n\t\tasync function initialChecks() {\n\t\t\tawait getMetamaskEthereum()\n\t\t\texecute(metamaskChecks())\n\n\t\t\texecute(getRelayerConfig())\n\t\t\texecute(handleRedirectParams(location.search))\n\t\t\texecute(handleSignupLink(location.search))\n\t\t}\n\n\t\tinitialChecks()\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tuseEffect(() => {\n\t\thandleLegacyWallet(wallet)\n\t}, [wallet])\n\n\tuseEffect(() => {\n\t\texecute(metamaskNetworkCheck())\n\t\texecute(updateRegistrationAllowed(location.search))\n\t\texecute(updateEasterEggsAllowed(location.search))\n\t}, [location])\n\n\treturn (\n\t\t<>\n\t\t\t{showNotification && (\n\t\t\t\t<ImportantNotifications\n\t\t\t\t\ttitle={t('RELOAD_REQUIRED')}\n\t\t\t\t\tmessage={t('SUCCESS_UPDATING_NEW_APP_VERSION', {\n\t\t\t\t\t\targs: [version],\n\t\t\t\t\t})}\n\t\t\t\t\tseverity='success'\n\t\t\t\t\taction={\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\texecute(refreshCacheAndReload({ version }))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('RELOAD_NOW')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<Switch>\n\t\t\t\t<PrivateRoute\n\t\t\t\t\tauth={auth}\n\t\t\t\t\tpath='/dashboard/:side'\n\t\t\t\t\tcomponent={Dashboard}\n\t\t\t\t/>\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/quick'\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/login/full'\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/full'\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\n\t\t\t\t<Route>\n\t\t\t\t\t<PageNotFound />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</>\n\t)\n}\n\nexport default Translate(Root)\n","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { updateNewVersion, execute, notifyNewTOS } from 'actions'\r\n\r\nconst buildMeta = {\r\n\tcurrentVersion: packageJson.version,\r\n\tcurrentTOS: packageJson.tosVersion,\r\n}\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(2)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst { latestVersion, latestTOS } = meta\r\n\t\t\t\tconst { currentVersion, currentTOS } = buildMeta\r\n\t\t\t\tconst shouldForceRefresh = latestVersion !== currentVersion\r\n\r\n\t\t\t\texecute(\r\n\t\t\t\t\tupdateNewVersion({\r\n\t\t\t\t\t\tshouldForceRefresh,\r\n\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst shouldNotifyNewTOS = latestTOS !== currentTOS\r\n\t\t\t\tif (shouldNotifyNewTOS) {\r\n\t\t\t\t\texecute(notifyNewTOS())\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import React from 'react'\nimport { useTheme } from '@material-ui/core/styles'\nimport { LinearProgress, Box } from '@material-ui/core'\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport AdexIconTxtDark from 'components/common/icons/AdexIconTxtDark'\n\nexport default function Loading() {\n\tconst theme = useTheme()\n\n\tconst AdxIcon = theme.type === 'dark' ? AdexIconTxt : AdexIconTxtDark\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\twidth='100vw'\n\t\t\theight='100vh'\n\t\t\tflexDirection='column'\n\t\t\tjustifyContent='center'\n\t\t\talignItems='center'\n\t\t\tposition='absolute'\n\t\t>\n\t\t\t<Box mb={1}>\n\t\t\t\t<AdxIcon style={{ width: 200, height: 'auto' }} />\n\t\t\t</Box>\n\t\t\t<Box width={200}>\n\t\t\t\t<LinearProgress color='secondary' />\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React, { useState, useEffect } from 'react'\nimport {\n\tDialog,\n\tDialogContent,\n\tDialogTitle,\n\tList,\n\tListItem,\n\tListItemText,\n\tListItemIcon,\n} from '@material-ui/core'\n\nimport {\n\tBlockSharp as AdBlockIcon,\n\tSignalCellularConnectedNoInternet0BarSharp as NoNetworkIcon,\n\tErrorSharp as NoValidatorIcon,\n} from '@material-ui/icons'\nimport { t } from 'selectors'\n\nconst DetectNetworkError = () => {\n\tconst [problemDetected, setProblemDetected] = useState(false)\n\n\tuseEffect(() => {\n\t\tconst testAdBlock = async () => {\n\t\t\ttry {\n\t\t\t\t// Just detect for moonicorn which is currently blocked by the adblockers\n\t\t\t\tfetch(`https://tom.moonicorn.network/channel/list`, {\n\t\t\t\t\tmethod: 'HEAD',\n\t\t\t\t})\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tsetProblemDetected(false)\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tsetProblemDetected(true)\n\t\t\t\t\t\tconsole.error(err)\n\t\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tsetProblemDetected(true)\n\t\t\t\tconsole.error(err)\n\t\t\t}\n\t\t}\n\n\t\ttestAdBlock()\n\t}, [])\n\n\treturn (\n\t\t<Dialog open={problemDetected}>\n\t\t\t<DialogTitle id='adblock-and-network-dialog-title'>\n\t\t\t\t{t('PROBLEM_DETECTED_TITLE')}\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<List subheader={t('PROBLEM_DETECTED_SUBHEADER')}>\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<AdBlockIcon color='error' />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tprimary={t('PR_ADBLOCKER_PRIMARY')}\n\t\t\t\t\t\t\tsecondary={t('PR_ADBLOCKER_SECONDARY')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<NoNetworkIcon color='error' />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tcolor='error'\n\t\t\t\t\t\t\tprimary={t('PR_NO_CONNECTION_PRIMARY')}\n\t\t\t\t\t\t\tsecondary={t('PR_NO_CONNECTION_SECONDARY')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItem>\n\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<NoValidatorIcon color='error' />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tprimary={t('PR_NO_VALIDATOR_PRIMARY')}\n\t\t\t\t\t\t\tsecondary={t('PR_NO_VALIDATOR_SECONDARY')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t</List>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t)\n}\n\nexport default DetectNetworkError\n","import React, { useEffect } from 'react'\nimport 'react-image-crop/dist/ReactCrop.css'\nimport './App.css'\nimport { Provider } from 'react-redux'\nimport { persistor, store } from 'store'\nimport history from 'store/history'\nimport { ConnectedRouter } from 'connected-react-router'\nimport Toast from 'components/toast/Toast'\nimport Confirm from 'components/confirm/Confirm'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport Root from './Root'\nimport { DateUtils } from 'helpers/dateUtils'\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport CacheBuster from './CacheBuster'\nimport { updateWindowReloading, execute } from 'actions'\nimport MultiThemeProvider from './MultiThemeProvider'\nimport Loading from './Loading'\nimport NetworkErrorDetector from './NetworkErrorDetector'\n\nconst onBeforeLift = () => {\n\t// take some action before the gate lifts\n}\n\nconst App = () => {\n\tuseEffect(() => {\n\t\texecute(updateWindowReloading(false))\n\n\t\tfunction onReload() {\n\t\t\texecute(updateWindowReloading(true))\n\t\t}\n\n\t\twindow.addEventListener('beforeunload', onReload)\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('beforeunload', onReload)\n\t\t}\n\t})\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<MultiThemeProvider>\n\t\t\t\t<CssBaseline />\n\t\t\t\t<NetworkErrorDetector />\n\t\t\t\t<MuiPickersUtilsProvider utils={DateUtils}>\n\t\t\t\t\t<Provider store={store}>\n\t\t\t\t\t\t<PersistGate\n\t\t\t\t\t\t\tloading={<Loading />}\n\t\t\t\t\t\t\tonBeforeLift={onBeforeLift}\n\t\t\t\t\t\t\tpersistor={persistor}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ConnectedRouter history={history}>\n\t\t\t\t\t\t\t\t<CacheBuster>\n\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\n\t\t\t\t\t\t\t\t\t\t<Root />\n\t\t\t\t\t\t\t\t\t\t<Toast />\n\t\t\t\t\t\t\t\t\t\t<Confirm />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</CacheBuster>\n\t\t\t\t\t\t\t</ConnectedRouter>\n\t\t\t\t\t\t</PersistGate>\n\t\t\t\t\t</Provider>\n\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t</MultiThemeProvider>\n\t\t</React.Fragment>\n\t)\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n)\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error)\n\t\t})\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type')\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t)\n\t\t})\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister()\n\t\t})\n\t}\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App/App'\nimport { unregister } from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\nunregister()\n","// Nodejs encryption with CTR\nconst crypto = require('crypto')\n\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\nconst CIPHER_ALG = 'aes-256-cbc'\nconst IV_LENGTH = 16\nconst HASH_ALG = 'sha256'\n\nconst getKeyHash = key => {\n\tconst hash = crypto.createHash(HASH_ALG)\n\thash.update(key)\n\tconst hashed = hash.digest()\n\treturn hashed\n}\n\nexport const encrypt = async (text, key) => {\n\tif (!text) return ''\n\tif (!key) {\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\n\t}\n\tconst iv = crypto.randomBytes(IV_LENGTH)\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst encr = cipher.update(text)\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\n\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\n}\n\nexport const decrypt = async (text, key) => {\n\tconst textParts = text.split(':')\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst decr = decipher.update(encryptedText)\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\n\n\treturn decrypted.toString()\n}\n\nexport const encryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\n\tcrypted += cipher.final('hex')\n\treturn crypted\n}\n\nexport const decryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\n\tlet dec = decipher.update(text, 'hex', 'utf8')\n\tdec += decipher.final('utf8')\n\treturn dec\n}\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDItMTdUMTY6MDg6MTErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjQ3KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjQ3KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjg0OWZlMjc1LWQzZGEtZjI0Zi1hZjY1LWM2ZjAwZjk0MmZmMyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjg0YmMzZjJjLTE4NDEtZTk0ZC1iZjg4LTdiNmJhMzkxOGQ0YiIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjExNmFhMzE5LTJhNGUtNTU0My1hMDFjLTU0OGZhZWU4Y2U5YSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MTE2YWEzMTktMmE0ZS01NTQzLWEwMWMtNTQ4ZmFlZThjZTlhIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODQ5ZmUyNzUtZDNkYS1mMjRmLWFmNjUtYzZmMDBmOTQyZmYzIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA5OjQ3KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+CelIuwAAGaZJREFUeF7tnAdcFGfawJ9lC7vssvS6sFTpCGoEsaFiQ2yJxEvUXBK/2GNy+U5TjS0XPRPz8/RiLpp4uRhrvBgLgmDDCopYAOlI721p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\"","module.exports = __webpack_public_path__ + \"static/media/GS-create-ic_80x80.d41e2bbc.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDItMTdUMTY6MDg6MTErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjA0KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjA0KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmMwYTM2YWNkLTI0MWQtMWM0ZC04YTBjLWZmZGZjZWE1YTk1NyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjExN2ZkN2FiLTdlMTQtNjk0ZS1iNGYzLTcyNTA0YjI1MTU4MSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmIxMWJhYTU3LWYzMDctOTI0NC05MTVmLTRlZTQ4YjE4M2M4NyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjExYmFhNTctZjMwNy05MjQ0LTkxNWYtNGVlNDhiMTgzYzg3IiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YzBhMzZhY2QtMjQxZC0xYzRkLThhMGMtZmZkZmNlYTVhOTU3IiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA5OjA0KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+zfLLjwAAF5NJREFUeF7tXAl0FFW6/m/1lu7sSZOkyQIJaQgQiKwCsiqBsA3IEkbUAUUeouKMT87MOOogLuhhjs6bxfGND3BgmMFBBxnEsK+CLBEI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\"","import base64 from 'base64url'\nimport ethers from 'ethers'\n\n// see https://github.com/ethereum/EIPs/issues/1341\n// Implements EIP 1341: Ethereum Web Tokens\n\nconst HEADER = base64.encode(\n\tJSON.stringify({\n\t\ttype: 'JWT',\n\t\talg: 'ETH',\n\t})\n)\n\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\n// .address is always checksummed\nfunction sign(signer, payload) {\n\tconst payloadEncoded = base64.encode(\n\t\tJSON.stringify({\n\t\t\t...payload,\n\t\t\taddress: signer.address,\n\t\t})\n\t)\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\n\t})\n}\n\nfunction verify(token) {\n\tconst parts = token.split('.')\n\tif (parts.length !== 3) {\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\n\t}\n\tconst msg = parts.slice(0, 2).join('.')\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\n\ttry {\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\n\t\treturn Promise.resolve({ from, payload })\n\t} catch (e) {\n\t\treturn Promise.reject(e)\n\t}\n}\n\nexport default { sign, verify }\n","module.exports = Module;","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404-no.0ec9cb01.png\";","module.exports = __webpack_public_path__ + \"static/media/404-yes.ade3b1a3.png\";","module.exports = __webpack_public_path__ + \"static/media/ramp.a70bdb13.svg\";","module.exports = __webpack_public_path__ + \"static/media/wyre.88a9c74f.svg\";","module.exports = __webpack_public_path__ + \"static/media/paytrie.e3ec2363.svg\";","module.exports = __webpack_public_path__ + \"static/media/transak.e906a179.svg\";","module.exports = __webpack_public_path__ + \"static/media/changelly.d1beb98c.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDItMTdUMTY6MDg6MTErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjMyKzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjMyKzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmIwNDIwZDczLWQ3YzQtNGM0NC04MTE1LTYwZGRmZjcwYTEyMiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjY3Yjg5NTQxLWUxMWUtZjg0Mi1hODMwLTY3Mjc5OTlhYjg5MCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjBlZmIzM2Q2LTcxOTMtYjQ0MS1iN2E1LTRhYzU1OTI0YTdkMCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MGVmYjMzZDYtNzE5My1iNDQxLWI3YTUtNGFjNTU5MjRhN2QwIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjA0MjBkNzMtZDdjNC00YzQ0LTgxMTUtNjBkZGZmNzBhMTIyIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA5OjMyKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+lvIY5AAAGQlJREFUeF7tnAlYVOe5x9/ZZ5hh9mEbtmGRRZBNxGgNGIMaAc2i2ZvcJO1tb5o8vWnvbdPe3pvaPulN29veNK3N3rRZmifR1LgAGjUu0bjjCsiwOYDsDMzK7HPf93AgLoBD0Gp6+ek8MN/5DnPO+73L//vOOQMzzDDDDDPMMMMMX0047M8bznPPPcc9cuTIM/irlcfjtQQCgabCwsL2tWvXBkZ63JzcNAZcvXq1pLkopqN7capa3O8AUZ8dRP0Ol9Ay3CC9YD0q7jTvCngDnyBmdpebgpvGgEuXLo1re3ieqW9B4tgxpamloBDyoc06DJbWAdAcbXNpj7Wtk1q9azdv3mxju91QuOzPGw5fxM+3G9SXDKhUwINIqRDmRimAH6eCjvLZ4trvLf5+f6rmwPLly3VstwkpLS2VlpeXp+Ov181RbhoDuhSShW6dlH03Qv+wh/nJwdPXSATM7165GNrumpPN4fPvZRomoLSi1GDLj69puj+3dtnK8qfZ5msOj/15veGix2QYDAZnS0uLl227hKTZ6d8Qmp08ZUOvPazdIub5AvwBMR88aDx/MAjtNhd4/EGmr+6wya5q6H28sbHRxTRcRkVFhaF/bsL+lq8XJjriVRyB05MzyyP+o8lk8rFdrhnX3YDLVpUti7iz+KOBefFrFY39h5uamozspktoPXvuo65dR9d17TjyUr5f/mtNjWmP9nC7f8jhSW2Wi4UuckOW+M1nP9353oY32LdXkDQrKcutk9/uVYgjPCoJ+GTi8JhjnTVNjY3n2C7XjOtmQJIlwmj1z1sfKHilY0Vm1HCMghO9u7mmyWj8nO0yEUE0sr/J2NTaeqZ+U2FQ+bairifdEa9M8SokHIHVBQkfn3mlydh4kO1/BbhvWwpX9pr+VFeNrHUw1RmtiJYbe+2tZ+u3sF2uGdctBx48e/J7jY8V/dicq+dSCg/wOOCTCtTs5pCprKy8EDHkXTlr3f6faI61+yU9NggG/YfZzROyd+9eX9WWqk2lsvh5aa/vXymwuzPuuOOOWezma8Y19cA1a9YI4+Li0tPS0sqGMqN+54xV8jiBIPixAHAwj0Xuaz2AXrCL7R4ydXV1wZb6hs/mucIbBEPD5VKz63mj0WhhN08KGjKIHmmMvXVuSU9Jykv5Ik13U73xBLt52lwTA65YsSJDf2vB813ZkX/pX5j0jNQ0IBe39i/XHWt/J/LA+UPaY+0Ogc0dJ2/p/bT5XON+drcpg+FfO1sZdcLv9/c3NzcPsc0hEXdL7pqWh+fmOWOUFYW+cEtzXcMhdtO0mLY+WrVqlbJjnt5kuidXHuRzIXJvkzthw6k51dXVlxSL22+/XSGRSMRbtmzpYZv+rsz/4RNHG795y1z6XXegxZP4fs38bdu2TdsTp50Dh4aGfBimbjIe3+mFqF2Nb15uPGLnzp2WG2W8lStXhrsiwzPYt9A/P1HoMGieZ99Oi2kbEHOMXXOo7UHd563e6J0NFl6fdS276abB6/UWe1Rh0vCWAVCf6oSovc1uDD01alMR2+VLM+0QHmV5xYqHgcuVb9u09Y9s001DWVmZHvPmbC6X68VXF6aSlvXr15OgH1HmM8zwleVLh3BBQYHg+PHj485rp0pxcbEMwyqXw+HkuHTSJJ9MpA0I+SIsTCKuL+jlOdy9kl57A9frPxIIBE5i9XSzu95wvpQBMfkWxytUW83Djs+dPt+/VlVV1bObpgTmpiRrgvoFr0xYoartOgCB4CFnvDKj95bEFQNzE8R+MX+kI4pwntsP4c39oDjXM6Co7/2zbMD56xtV1S9mykK6vLw8P1mprn6hZJm8JD4puctu+0a4Plogl8sPdHV1TWn5PX5ezi9q/23xo9F7Gneo/PwVmzZt2mU6fvbDW/yqvypPdGj8En7GcLSCB1wOkExyRcjAkhkVhoYtkp9o/wvOmfvYP3XDmIoBOeh5D2VodBt+umiJwuwahvfrT0OpIYUfIwsvbnbYTuAJTWm1I00fzwUh/wHt8Y5/R+ONeTFO04bOn6rdON8VXiVtNy+wpeoi/OKR9UAibtPZI7vf2fBL9u1VQU9flJmZaW1oaBh3+Ws6hKIDyXDFZXeU7bknPevd/y5ZFu4LBGCTsR6ydJEwMOyEvzXUDaI8mHB1ZCIwl23RV9ftEQqF407vKisrj6vr+4rS1+1/N6xzZOorO28GeUPf7/DXq0qQJUuWaG575N7Xmh4q2GeJDHsHm66ZbBtlQg8sLS2NyMjIWB0/p/DVjuzlP65d/K1EWdspWKiUwy5TMwh5PNCFSWFDw9ngkNv1L5gHD7C7TomkRMMBNFQn+/YK0Bu9hSmZmyW17YbBOfqc6F3GpshB35O0wMB2uQJMM2EJ2elPmRelrG9+pPBrdoMa3Cppyny79DjOp8ddj/yykHfFBoNBytZq9CIDiuE5HpFsqSUqLa87dZGoK/Vr4BeImc58twMW7F0H/yHzwWyNDt48fRyOdnW8v7Wy8iHcfF1FKRnFEq+sCWsz/+/2rVWvss3jglVdzI/VvtX0T0X3jV1nwaNL/OBEd9TB85k4YINM2zWAk/WDl4JoNPCIwmFYEQWWiBRwqPTg508wy8GKqOk4DTmnN4Hq/PFmh8eTj6FoZbdeV2jVRyqVNuMsYuRiySTQgu7nZ0790HR/7vODBbGceVEKcA4NA/fZzS/vemfDk2y3acOB7WiRKcLzumDexp8MKS7ULkTj1bHNNyXLVpV/3XR3zpsZ9+ULFCI+NH1wwiN96+Cc7du3N7BdpsWUFxM4AT/M2fGiW9lZ9+DNbjxi+6at7ySuP3VPz4c1TpPVBW0FsUJ3rPJn7OZpMyUD0qpyxr7X/VHGfU9VI2zzTc+2rVu3hK8//WDHjnq/AzNiz6LkVXQhn908LUI3IBovbf+fIOHk5h+j7Sa8Inazsn3Lls0JH515k+/0gDkvVhSUS65JHgzJgBS2GXtfCyTV/O1ZNN6v2OavGkGhZfi5iP0tbpwSBoJ8/jW5nHHVIsLzDkP2zpfc0Q2fPV1dXfk62/yVZdldK9/ge/yoZCo3sk3TYlIDSqw9kFv1wqCqx/ggCuVtbPNXHdKF10yzTmDAIMQ07IXMPa+c5NoH13zyySdN7IYZLuMKA0oHO7BYvDUc2XzwNzKZ7OehiNb/z4wYEP+HD5iowvpi63dVcvzeH4x3ZW2GK+EYXtgYjG7YO6joa9oY8Hp/iwqdxPE1yxH/8Cxfvnwp3YjIvp1hhhlmmGGGGf5eXPOLLP+o0L3ePol4kcg6XMXlck9u3brVSe0hG5CeJNqwYQNdFvx7asTR47uhurS4uJjvWph6puXhwnR5Yx8oa7uGwpv7q8V99s2TGrC8vFwbCASWO2Pkd9njlCURx9oep/uO2c0hsWLFiij8sZzH41WHeidBRUVFii8QKLMlqe8Oax9a/8nHW/7AbrrmoA6W47EZKisrT7FNV4B98pofn3/cnB87Zi+6dVlR332lB9J9KiKV4rvWtIgyu0FVZMmM4jpjFOgDQUh7+cChz3/751vYruNC90nbbLZ8v0xyhy1Vs8Jm0BTYUrWc1DcPvbHr3Y++yXajfjyHw1EklUqZG8ZxnxKPVrrCnqwtsyXr0oYyI8GjlEDi+pOmpJqeZJyT+2kf/El3P3xpj6SLTTU1NRkeHmeZLVmzwp6oXsRzeoa1O8/l7dixo5XtdgnL7lz53ZNrl7+oiwiHANqhx+kBri+A9th/dFwPXLpm1c/rv7PoJ85YJdsyQtSeJkjceCYWR+sC23Q5nKV3rTxw/oH8WwazoiEg/GLNMnZrrTV6W/1KEHDjXDp5kSNeuVJR39O184ON82n7soqyHxm/vfB5HLhLjklZ3wOp6z4rwbzT4JMI3uMPe79fVVV1kt3M3OSk1WqTOELenbwAxzjZOh9GQxF69Yd98xPjBrNjOD6pkGkXDg1Dyp8O+70KyUlRr/WQwOZqFdg8p6urq3fQ9sWP3fv7+h+VPnV7sg48/gDsajND1O7G4dgNJ/PYu3dGuGNV+X0BP7T1t3T8zPDhiUX1T99azBHyYYFOBt0eH3QlqABDuhC7MgYsKytbO5SsucsvEwUDPJAGBHxln1ggk3RbYSA/lrowj2mRv9hSdXJ/mHDPQEEceGVCENjdoDpx4SWmEzI/f+4vvetP5dV+r3iNL0wIqaow4OLOrTFyPEP+s71FCXOtKTpt0luHBMsrKua7VJLHPGqJwaOR5p43qDUCu8cfv/lsKvvnGOiWDo+E/zAaKojHJraJ+OogjxNtztFz6MmBUcjTnXFK3vk1uQUYmgVcrx+S3zx0EKqBMWCQywkL4Hl0OdzQYXODAF8xO4yv0ZW9sSV9uo+4qyTlzfMP5n8mz07+a1jLwG8iP2txC9DiQy/uAf7bR0FTw9gtF1+MlwSDwZctGZHpjY8XzWl+tCi59cECTcfKLBHf7gFp2yDTaZFeBdk4AMOR4SDHEU9N1oJIxAfVqU63OMh5n/4OQc8Fh/U7nozZfm6Q9ksIF0P86U46UDj3nUXLW+/L0wZEPMB8FfDIBUtrn13yzw1PLSo1F8TqwtsGudqjbf0cDid85K+N0N3dfWgoK6b09H8u+9bZZ5c8WvdMcUXTY0UC/faRW3hUYgEsiFGCiMcFuvcmFo+vJFEDCoUE3BGyeKYTwnMHBoP+IJzqsoD/iAkSPjpF94Mzt7KMxVhqampSV0nyM+ghXHTxTF+4aI3ucJuPY3cLOucnQtfcOLAnacAZryox5M7+dlpcUqbY5T/pCRPMH8zR66UdQxB5oIW5Bc06S8cY2zo7CgzKMJBhKJ/HMEk/0Aq69EjoQc+K+vDEjk/e2/AK+/EMRqPROUce5cdjWNrp8oJnRwO0rs4BjzqMGQxJlxU0Jy7s9qilCy2LU7JvS9CAcHcTnCvPgsE8fbgzWv6kISfzsbR4Q2qmPjGwb9++xrSEJEPvrUlMmqB0oDnegd7vAQ96uBZzewIay+kNgB8LguBUJzhPXQBJQy/w+uwSQ3ZmRmJhVkVAwCsSm53RdI+1KyocuhanQnhLf0z7oVN/GjNgSkqKDg/8Oy70lCCOiCNRw+27JVGgPdoOvQsMjM/RLWbDUXKwpEfKVHXd8YJeWwPaokTS79BiaEDP15IAcxi40OPoljSBxQVNuE+3wwMBDFn34DBcwPBWYC6VNfYfSE00NOLnWunRLvYwOOlJKQ5Jl+UJ4QULjzfsBXuuHm6NVYEWw9qCBrDMiljtDRdnqY29HGm3DUxoaLtBg/mWD069AoayY5TW9MhC9VGTp6XeuDkzwZBtS9KURu1tBjceV+/CJBjKjIKYXUY4n6wBG4YrPRUqQXlyYWk69M+KAHOKFrDi8vD8s/tuMeT2LTBEW9IjGMdwq6VMXkIP1Oa5wl5mQpGg5z2a75jV03V72khmZYnfdBba78yCSDyBfjwhH5bvyP0tEODzAKsYkz9whDDUGhgDjuYWKvN0CdErG7lFhPQTYU0decyXjwZV1nUHZa3mIXGv/SQnEHB5FJIMe6IqdmBuPN+H+8VtqYWBu+bAbfFqaLO5oOejk0xupW2UV7XH28GlCQMXpgUenpQb0w0HX+l/2O+Q9NpecSvECcN6xW3mvFg1DjrlMuazibALFkB5xhiDSNh4Gkz4WaEiRy9N+/2+eWMeeP/993va+3vuNhfEkW4bQ2HsBXFeLMyLRimDWDGM5E0D0L04BaiKkbcSEQfPY3s/tokwPCTMgZFXjCLtsAB6AnrxyEeOeIySM5QVLekvSjD0z09MHczVK8nzR/cLw8+yaaTQ4cUChgk8iIPi1qJ300njfxoUu0EL+Zi30tEz6M4DzSETDBTGCdsrshb03pqcOTgnRsJEBGuoUei549E2DuY3OnYLRk+okIyJ2t+6bayIUBJX1fa8KsGwuBgSXPQawFDpQC/Q4QF23XZJsWOgytl6bx7Qw4DkOaP3841izolhEvVUwFzMeDQWWMbzUbNd4kV04pQ6JDgoZpcPwO0DnB2APUHNREWo0N9oW5nFvgsN2ge59OJyXk7O6aDZugY9QTs6Okp01U70HOaBZzwJERYDR7yK2XYxlKAtKH5JO6IYBt1BE4ZxANzoQV8WyrmXe87F0JdT0KA04+dcwJSAuhLzVMRIiIcIhTzl68kQWoZBfeICaLDAKOt6QG7sAzkWS9GAw3KJAevq6vw54VEHcLgfsM3Siengw9G1mbzFfgYzKxkHBRranx0DszCUrD6sCVhAXFhwyDOvF+SNVP2peBAunClMxXj07DHOdGBwjn7s/C6G9KB+2znMl1bsEw3WHD0WoEgm1IdQYXCCwfwr/LyxsbE7T6DdJbS67sKKGkbedvGMYiIUOCq83FiYjTkKHRW8JzqwyGhHvOg6MWosJp+FiBCVAMkR7ZE2kLUPgg/1Jp3jaC6/HGecClDrglojg1vxd51EyEQjQZ44rmWajMbO/LDID6TnzSVY9aKDIeQTMea+fvQEPnpFOyp1Kbo7jVKocDHPTXQS40FVXIDyiGTXVFCjOPeicsBiyXgSBzO8yOzE4jROqsFzGc2lXkwTSkwXTiweNBcmFOd66Zm7icGpkKovT3+k+dF5KeO5+GRQSIda1Sjxx22tRUmC4Y/pAqd9KJO+MCblOu1hExOyVP3ohfNinCH4oG3V1JL/5fCwOEZ/2gQdK8Ye5hwXlFrgDxOMyTIifuOZwUldi74VI0cWeXY4Wv4IShaODKdn0vYhTJ5OZuRIskzEuCM6DiSW9dtxxnF/PiPCcSJPT1OCVyEeC02qxOqTnYDTRBTxEUxI0ayIDBrq50wEySoqDMxgT+IkpE7UGFVxH5+xo4j24/EJsJCYJzUgLf10dnYu5A97yvhuP59OiA6YQlpIRYL01QTwUFaQuLahqp+okpIHxW2uhY6yTDxCAczDAqVF0Vwfp7w0r+H+ZGiquOQFo23TNd4oFMIepRgCOEefiICYj8rivAlVSYmqsf953cGWbnG3LXpCm9Ni6mCqpqqjPKvQnqBivkVoFs4faVpGojYUSAvih0I36kY37nsxIgxLMnBH+WzwhosYLVeMSZpyzW70dFp3uxiaYxNUmK4GhRuJfD8ahO6qpcGknImRxPb4AhLQKpwD0zRtMDuabb0UqvRJ7x77WNple7zysjv8J/TA6OhoriM3/qd9CxKZM09BAyTixLsXE6jVE9r31+CcFT1Qx8xSNKijqFDQXJoQYTWk3EYPzkhxWgUoKZrphYMTGKeYUN4jY3jxGCaDQi1qXwvzt5XnepiKG9ZphQisurSUdjk0sKRfJypGMpM5mPbqwd8tSsp84vXXXx9mm8eYtDSUrr7zhdP/tfSHpOVorknLP2bMUbLWgbE5bSjQycf/7TS0Yw4be4DwIkhvURhh1Wf69i40sFumTswnDdBdknKJ9Ir4vJWZRo4OXqiQTsx8cc87n7694VF8e2lIsEyqG0Qu3x+x+jErJfT1S04MIzKEBxP8VIja3QTdxcnjGo8gqUDrhTgnnpbxOGh8yqtalCklmA6iMIwpV9PgTNV4RGxlbbdmmEP3Uo9rPGJSA27durVNfaJjC/NwTU0HXY0C0+ocRvGHCs1kvOHCKeu1LwMtfAzOiWEMRzmbBD1dhugsTWN7hA5JK+2xjl+sX7/ezjaNy1WVq9w0tC7pr8fdmET/fPmS0GSgyGQqJwnXvqJEpo08RFnbzfx+PRjKiAIqeHUDDthDs4wDrZhqtEwxGQ85GpwcYzw0R9ssPsfw2+zbCbmqAcPCwnbrDrfdAx7ft/VVdbWUyEOBlrRmvXGICV3KtHys3jTvpNXlUKF8SPk2ZNixpZUbB+ZVkjm0eDoRtPBAuVK/rR6D9IvzojSgO9q2kb6qhW2akEl1IEFPRaKgbqRV4xxVzOEAj/MISomJBRMLzVPN7OInFw8ogYrIqmxwh2hAKixJ79cw0sI/zoIEDcjV5ugkxq8GpSOuPwiqs93MchmhO3TejR74EJ7zVUfvqga8GLRj11yu8myAz1vlSFQLJltqIkbntrE4wt1LUiEJD5CD/5w+P7NiPdn+tC+t95H+oyX7i/uqznYx+m30hKcKeRgfp3AiHJglKNwv4CALjH0olgUotXyQ8u6xdds/3vIe231SpmRAotHY2DAPVNWSNnORRxkW5UMRPN4iAIUfeZ4Mp37kTd7Z0VBIX+WJObS32wqRmJ8Yw0wCCV+SUHqUJqMrO6TrJCjQuxdfuagbKmQ8Evj8zGjmohJd623DcI/bcpYuV1T5W3sfN5lMIX19weQuNAl0v4hEJlvqlwkrnJHhGTgvptsXAgKHxyoYdPbj1K8f/IEhv1R45+n/KE3n4EwjHcOXVjL8x9qZYkRFKZQjID0WW1UH7eVZoN9xDkx3zpnGkY+Q8NFpMN0zh9G2NDHwY0RQxcZUk1hVVWViu12VaR7G1cn71dPdbXfnoKW+IGaH0YaJ+3lrinZN/7z4AnNe7FWrO12gSnrvOPQXxoM5V8+2jg+tMtNMh29zA49mTZQuqJ1emD64bj/OjDqg8Yn5l3yuzDQImf/z6aPV1dVXrb4jAPwf1bfxYvjGTaQAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAZZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDItMTdUMTY6MDg6MTErMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjE0KzAyOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTAyLTE3VDE2OjA5OjE0KzAyOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjYxYTliNmFlLTNiODctZmU0MC1iNzZmLTllZDBkZjYzYjM5YyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjBmMDI5MDBjLWZhZDEtNmQ0Ny1iYzJmLTBkODRlODkwODNkNSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjg1OTZiMGEyLTY5YmMtNWM0ZS05MjFlLWE2NzAwY2NmMjNiNCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODU5NmIwYTItNjliYy01YzRlLTkyMWUtYTY3MDBjY2YyM2I0IiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NjFhOWI2YWUtM2I4Ny1mZTQwLWI3NmYtOWVkMGRmNjNiMzljIiBzdEV2dDp3aGVuPSIyMDIwLTAyLTE3VDE2OjA5OjE0KzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+rSUE+gAABchJREFUeF7tmn1MlVUcx3/3uc995/1KyZsMUYgEzFzpbJJrUwqGkpLZxmYvo3JSsUJcM61lf+WWRVvly1rlwFjUVnC5GfiChToqFEbMFhYCAoJX3naB+/p0zsNpozHl3nvQw+Wez/bdPc95nmd77pdzvs/vnAtwOBwOh8PhcDgcDofD4XA4/oOCfHpFdnb2dpVa/YbBEKwhXX6Jy+VwjQwPX3Q4HC/W1tZaSbdXeG1gTk5OQuyi+KaSfft1okrl1wZi6k/+NFD2+ZFDZrN5L+nyCoF8eozb7Y6/P215qD+Zh54Zfm+8CL09ffKx8q9mEPquyu1l6Q8sEARhoXzgA14biFEgSNMvaG1pgz3F78Dbu98DobcDdKXFSLuQsy40Bem+i08G+huxcdGQnJIEazJWgxQWCa7ENHCmr0HfXkmu8J2AMDDCGAEfHToAzxbkg6QzwHjRB2DbVkTO0hEQBt5JvJ7/qIRZ98TGJ09vemqbfPyH8yaY7B1y219Yr46DFWKk3LYMDMCe1wuPmkymArnDS6gNrLJ1wF7rBbntL7ypXwlPa5fKbVoD+RSmhBtICTeQEp8NtNkmAC2BoO3nBgCJdAYgPhlot9vh+OFPIVehgty2G7D2UCPorw2Ts4GFLwaGNP9yFjbrQ0EUBGgftMBbxvtgQ1krGomBNxQ9NjAzMzPq8ZxN70eFhFUcXJcJETo9nOvuhHCtDlr6+6A1RocXyeTqwOG2Bubl5emysrKyN2zcXNGbmnml4ZkPd1U/+qr2m7+vwDDKwBH7BKjRevLbwS74Z0s6uSuwUDyWl39ZAe4mtXWwU5KkMUEQtHZNUPR4aFTKqDFuuSVuhaZ/8cPg0ASRWwCCbnZBdtNxeEHvhDM9V6F8ayKMJhjJ2bnPbBbSiujS01JvUgYoHRNINnCLanCqdSDJ0/F2U1KCpRfKYcdiFxjXryJ9/kGyGAYxwuSAoDYwuLxDGjXGk0PPuafjNyiynof87c/h/UHS639QGyiYHZJbEMmhZxi7W+D5zirYWfgK6DVq0Kro99V8Ab/zR8btcvtS1wg0tA/J7ZnISAqHtJhguU1tIJzwrvaIRCNva/t3UFxcAqJKBcFaFYTq1OTs3QVlNlwbGpPb5Y09UHpycpt+JnZlJsCWByd38WkN9LwORA8b13oCVv7w7p8pSxJl8zBu1O9ysxNrPDJQ6bTBsjOfuVNPffyJqJB2km4Zq80JvcNjTNQ3Mk6egh0zGmgY7IZVlbsnFjVXvWw2mQrRtHGRUzIaUQlhaAqzEKvomMotDcQlTeKvFfBI+WuXwvvbV5vN5iOoe9qcUYsCBKEcZCKNdy+/O8E0A/F0jW2rg7XHdliSz31VYhu2PIQCtpmcngbPQITC7QbDUA8safwaMr4ouJ5ae3C/aOlKrKmpOVBfX++Ur7wFAZ+B6bUH8WjrzvjypbKk88dyjdJ4wo81Nfvq6uo82p9SKQUwqEWPhPPyv3vC9CjHKDUnMnDR5VORZ8sPx5lrqvPRiPu+srLSqz8rLqLDDRqPhHMLoxQUKL9whtFqDmRgdXX1DdK+a+DS3YnyazbEGo/qwNnG5nRBH84wSl33hzrwToCzcGGIjlr3IrGGiYF480ZELxJqoSxlDRMDcf02ZnfSy/G/RRETmBjocLnhptVGrUEk1jAxENeBEaisoVW4nv0/yTIxENeBelRY04vNRu5UqA30rhKbvBrXgXga02se1IHWCQf0DI15JJxbGFwH4hqOVv2j86AO1OClHFqXeqIIlFlGlF2zJZyDrKE2EL8QdCiPmIjRj1lToTYQ13R2lEesxBpqA3FB24/ziIEGRifIU7CD2kA8jYxBWiaaFxmI16TYRFZizexkoBPlEQvNmwxE9RgLzZsMXIDyiIWMQfMkA/HvIkxEfqRiCbWBgQ43kBJuICXcQEq4gZRwAynhBlLCDaSEG0gJN5ASbiAl3EBKuIGUcAMp4QZSAfAv9zIDHEKL3x4AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";"],"sourceRoot":""}