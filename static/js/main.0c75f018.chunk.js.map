{"version":3,"sources":["selectors/selectors.js","selectors/configSelectors.js","selectors/accountSelectors.js","selectors/identitySelectors.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/itemsSelectors.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","selectors/newTransactionSelectors.js","selectors/newItemsSelectors.js","selectors/tablesDataSelectors.js","selectors/chartsSelectors.js","selectors/dataSelectors.js","selectors/gettingStartedSelectors.js","selectors/locationSelectors.js","selectors/index.js","services/smart-contracts/actions/stats.js","services/smart-contracts/signers/trezor.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","services/adex-validator/actions.js","services/smart-contracts/actions/erc20.js","services/smart-contracts/actions/common.js","helpers/validators.js","helpers/localStorageHelpers.js","resources/home-wallpaper.jpg","components/toast/Toast.js","components/toast/styles.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","components/translate/Translate.js","helpers/logosHelpers.js","components/dashboard/dashboard/TopBar.js","components/dashboard/containers/SaveBtn/SaveBtn.js","components/dashboard/containers/SaveBtn/styles.js","components/dashboard/containers/ItemHoc/styles.js","components/dashboard/forms/ValidItemHoc.js","components/common/img/Img.js","components/common/img/styles.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/ItemHoc/ItemHoc.js","components/dashboard/containers/Tables/MUIDataTableEnhanced.js","components/dashboard/containers/Tables/tableHelpers.js","components/dashboard/containers/Tables/styles.js","components/dashboard/containers/Tables/commonFilters.js","components/dashboard/containers/Tables/tableHooks.js","components/dashboard/containers/Tables/toolbars.js","components/dashboard/containers/Tables/CampaignsTable.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/dashboard/forms/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/dashboard/forms/items/AdUnit/NewAdUnitHoc.js","components/common/dropdown/Dropdown.js","components/common/dropdown/styles.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","helpers/utmHelpers.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/ValidImageHoc.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/autocomplete/common.js","components/common/autocomplete/Autocomplete.js","components/common/autocomplete/styles.js","components/dashboard/forms/items/AdUnit/AdUnitTargeting.js","components/dashboard/containers/UnitTargets/UnitTargets.js","components/common/dialog/content.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/NewCampaignHoc.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/NewAdSlotHoc.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/AdSlot/AdSlotTargeting.js","components/dashboard/containers/Slot/WebsiteIssues.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/AdUnitsTable.js","components/dashboard/containers/Tables/AdSlotsTable.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/ItemCommon.js","components/dashboard/charts/options.js","components/dashboard/charts/campaigns/CampaignStatsDoughnut.js","components/dashboard/containers/Tables/CampaignStatsBreakdownTable.js","components/dashboard/containers/Receipt/Receipt.js","components/dashboard/containers/Receipt/CompanyDetails.js","components/dashboard/containers/Receipt/CampaignReceipt.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/Campaign/styles.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/dashboard/charts/simplified.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/App/themeMUi.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/DashboardStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Slot/styles.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/TransactionHoc.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/SetAccountENSPage.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","components/dashboard/getting-started/Colorlib.js","components/dashboard/getting-started/Tutorials.js","components/dashboard/getting-started/GettingStarted.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/common/stepper/ValidItemHoc.js","components/signin/identity/ownerAuth/AuthHoc.js","components/signin/identity/IdentityHoc.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthLedger.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/IdentitySteps.js","components/signin/identity/styles.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/App.js","serviceWorker.js","index.js","constants/actionTypes.js","services/store-data/auth.js","helpers/mediaHelpers.js","services/smart-contracts/contractsCfg.js","services/smart-contracts/actions/core.js","services/requester/requester.js","services/requester/index.js","helpers/formatters.js","services/store-data/analytics.js","services/store-data/loop.js","constants/targeting.js","services/translations/translations.js","helpers/sanitizer.js","services/crypto/crypto.js","constants/misc.js","store/initialState.js","store/history.js","services/store-data/campaigns.js","services/store-data/account.js","resources/no-image-box-eddie.jpg","resources/trezor-logo-h.png","resources/ledger_logo_header.png","constants/spinners.js","services/smart-contracts/ethers.js","resources/getting-started/GS-email-ic.png","resources/getting-started/GS-create-ic.png","resources/getting-started/GS-launch-ic.png","actions/common.js","actions/uiActions.js","helpers/errors.js","helpers/numbers.js","actions/itemActions.js","services/auth/auth.js","helpers/timeHelpers.js","services/adex-market/aggregates.js","actions/analyticsActions.js","actions/accountActions.js","actions/validationActions.js","actions/identityActions.js","actions/bidActions.js","actions/transactionActions.js","actions/campaignActions.js","actions/newItemsActions.js","actions/index.js","reducers/configReducer.js","reducers/index.js","reducers/accountReducer.js","reducers/itemsReducer.js","reducers/uiReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/analyticsReducer.js","reducers/channelsReducer.js","reducers/ensReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/selectedItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","../../adex-translations/index.js","services/smart-contracts/signers/ledger.js","services/adex-validator/ewt.js","../external \"Module\"","helpers/miscHelpers.js","resources/metamask-logo.png","resources/demo-logo.png","resources/404-no.png","resources/404-yes.png","resources/video-placeholder.jpg","resources/getting-started/GS-fund-ic.png","resources/getting-started/GS-place-ic.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png","services/adex-market/actions.js","components/App/CacheBuster.js","services/wallet/wallet.js","services/smart-contracts/actions/identity.js","services/adex-relayer/actions.js"],"names":["createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","creatArrayOnlyLengthChangeSelector","a","arguments","length","undefined","b","selectRelayerConfig","state","getState","persist","config","relayer","selectFeeTokenWhitelist","createSelector","_ref","feeTokenWhitelist","reduce","all","t","tokens","Object","objectSpread","address","selectRoutineWithdrawTokens","_ref2","routineWithdrawTokens","selectRoutineWithdrawTokensAddresses","_ref3","map","selectMainToken","relayerConfig","_ref4","mainToken","selectSaiToken","_ref5","saiAddr","selectMainFeeToken","_ref6","selectAccount","account","selectChannels","channels","selectAuth","wallet","identity","authSig","authType","selectWallet","selectEmail","email","selectAuthSig","split","selectWalletAddress","selectAuthType","selectAccountIdentity","_ref7","selectAccountIdentityAddr","_ref8","selectAccountStats","_ref9","stats","selectAccountStatsRaw","_ref10","settings","_ref11","raw","selectAccountStatsFormatted","_ref12","formatted","selectAccountIdentityDeployData","_ref13","relayerData","routineAuthorizationsData","_ref14","deployData","selectChannelsWithUserBalancesEligible","_ref15","withOutstandingBalance","toConsumableArray","selectChannelsWithUserBalancesAll","_ref16","withBalanceAll","selectAccountIdentityCurrentPrivileges","_ref17","_ref17$relayerData","currentPrivileges","selectWalletPrivileges","selectIdentity","memory","selectEnsAddressByAddr","ensAddresses","_","selectSide","nav","side","selectGlobalUi","ui","global","selectConfirm","confirm","selectSpinners","spinners","selectIdentityUi","byIdentity","identityAddr","identitiesUi","selectCompanyData","companyData","selectSpinnerById","id","selectRegistrationAllowed","ids","allowRegistration","process","selectEasterEggsAllowed","allowEasterEggs","selectPrivilegesWarningAccepted","privilegesWarningAccepted","selectHideGettingStarted","hideGettingStarted","selectGettingStartedExpanded","gettingStartedExpanded","selectSelectedCampaigns","selectedItems","campaigns","selectLoginDirectSide","goToSide","selectLang","language","selectTranslations","val","opts","lang","_opts$isProp","isProp","_opts$args","args","_opts$components","components","translate","selectItemsByType","items","itemType","selectItemsArrayByType","values","selectCampaigns","selectCampaignById","selectCampaignUnitsById","adUnits","selectCampaignWithAnalyticsById","campaign","clicks","selectCampaignEventsCount","impressions","selectCampaignsArray","selectAdUnits","selectAdUnitById","selectAdUnitsArray","selectAdSlots","adSlots","selectAdSlotsArray","selectAdSlotById","selectWebsites","websites","selectWebsiteByWebsite","ws","url","parse","hostname","selectAnalytics","analytics","selectAdvancedAnalytics","advanced","selectAnalyticsTimeframe","timeframe","selectDemandAnalytics","demand","selectAdvancedAnalyticsByType","type","campaignAnalytics","selectTotalStatsByAdUnits","adUnitId","slicedToArray","analyticsByChannel","byChannelStats","acc","curr","reportChannelToAdUnit","selectPublisherStatsByType","advancedByType","publisherStats","selectPublisherTotalImpressions","reportPublisherToAdUnit","value","Number","selectCampaignAnalyticsByChannelStats","campaignId","analyticsByType","selectCampaignAnalyticsByChannelToAdUnit","selectAnalyticsDataAggr","Math","max","apply","eventType","metric","_analytics$side","_analytics$side$event","_analytics$side$event2","_analytics$side$event3","aggr","selectTotalImpressions","eventCounts","_ref18","selectTotalClicks","_ref19","_ref20","selectTotalMoney","_ref21","eventPayouts","_ref22","formatTokenAmount","selectTotalImpressionsWithPayouts","_ref23","_ref24","_ref25","filter","c","find","e","time","_ref26","selectAverageCPM","_ref27","_ref28","totalMoney","totalImpressions","selectStatsChartData","_ref30","noLastOne","rest","objectWithoutProperties","data","_ref31","_ref31$data","slice","memo","item","labels","push","formatDateTime","datasets","_ref29","parseFloat","parseInt","parseValueByMetric","selectChartDatapointsImpressions","_ref32","_ref33","selectChartDatapointsClicks","_ref35","_ref36","selectChartDatapointsPayouts","_ref38","_ref39","selectChartDatapointsCPM","_ref41","_ref42","_ref43","payouts","result","n","i","toFixed","selectPublisherRevenueNoticeActive","some","w","issuss","selectValidations","validations","selectValidationsById","selectNewTransactionById","newTransactions","txns","selectNewItems","newItem","selectNewCampaign","Campaign","CampaignModel","selectNewAdSlot","AdUnit","AdUnitModel","AdSlot","AdSlotModel","selectCampaignsTableData","_ref$decimals","depositAsset","decimals","_item$spec","spec","_item$adUnits","firstUnit","to","concat","toReceipt","media","mediaUrl","mediaMime","title","status","humanFriendlyName","originalName","name","depositAmount","formatUnits","fundsDistributedRatio","ctr","minPerImpression","created","activeFrom","withdrawPeriodStart","actions","receiptReady","receiptAvailable","selectCampaignsMaxImpressions","selectCampaignsMaxClicks","selectCampaignsMaxDeposit","_ref2$decimals","selectAdSlotsTableData","slots","ipfs","fallbackUnit","replace","selectAdUnitsTableData","impressionsByAdUnit","clicksByAdUnit","selectCampaignStatsTableData","imprStats","reportChannelToHostname","clickStats","earnStats","reportChannelToHostnamePay","keys","key","website","earnings","selectCampaignStatsMaxValues","channelId","current","newResult","totalClicks","totalEarnings","maxClicks","maxCTR","maxImpressions","maxEarnings","selectAdUnitsStatsMaxValues","selectCampaignDoughnutStats","chartColors","maxDataSets","_Object$keys$sort$red","sort","newData","impressionsData","clicksData","backgroundColor","hoverBackgroundColor","borderWidth","label","selectSlotTypesSourceWithDemands","symbol","constants","AdUnitsTypes","dA","bigNumberify","avgCPM","dB","gt","index","source","hasPopularGroup","group","hasNoDemandGroup","demandIfo","totalVolume","selectHasCreatedAdUnit","adUnitsArray","selectHasCreatedCampaign","campaignsArray","selectHasConfirmedEmail","meta","emailConfirmed","selectHasFundedAccount","hasCampaign","identityBalanceMainToken","selectHasCreatedAdSlot","adSlotsArray","selectHasAdSlotImpressions","selectHas5000Impressions","sectStepsData","hasCreatedAdUnit","hasCreatedCampaign","hasCreatedAdSlot","hasConfirmedEmail","hasFundedAccount","hasImpressions","has5000Impressions","selectLocation","router","location","selectLocationQuery","search","query","selectSearchParams","URLSearchParams","ITEMS_SELECTORS","receipt","units","SIDES","advertiser","publisher","selectDashboardBreadcrumbs","_ref4$pathname","pathname","paths","x","sideDashboard","sideDashboardBC","join","restBC","prev","selector","bc","restCopy","receiptAt","indexOf","toUpperCase","__webpack_require__","d","__webpack_exports__","configSelectors_selectRelayerConfig","translationsSelectors_t","privilegesNames","valueToKey","IdentityPrivilegeLevel","tokenAvailableBalance","token","balance","feeToken","min","mul","lte","getTotalAccountRevenue","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default","mark","_callee2","withdrawTokens","totalRevenue","wrap","_context2","next","_callee","revenuePr","revenue","balanceMainToken","_args","_context","sent","minFinal","tokenInMainTokenValue","t0","abrupt","add","stop","_x2","this","Promise","resolve","_x","getWithdrawTokensBalances","_callee4","getFullBalances","getToken","_selectRelayerConfig","balancesCalls","balances","_balances$reduce","totalBalanceInMainToken","mainTokenBalance","_context4","getEthers","_callee3","tokenContract","available","_context3","balanceOf","_x4","balanceData","_x3","getAddressBalances","_x5","_getAddressBalances","_callee6","provider","calls","_context6","getBalance","path","serializedPath","balanceEth","formatEther","toString","tokensBalances","getAccountStats","_x6","_getAccountStats","_callee7","_ref11$outstandingBal","outstandingBalanceMainToken","getIdentity","_selectMainToken","_identity$status","identityContract","privilegesAction","_ref22$","identityWithdrawTokensBalancesBalances","walletPrivileges","_context7","total","deployed","privileges","then","res","catch","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","totalOutstandingBalanceMainToken","availableIdentityBalanceMainToken","totalIdentityBalanceMainToken","walletAddress","walletAuthType","identityAddress","getOutstandingBalance","_x7","_getOutstandingBalance","_callee8","withBalance","bigZero","initial","allOutstanding","_context8","amounts","ch","outstanding","outstandingAvailable","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","getAllValidatorsAuthForIdentity","_x9","_getAllValidatorsAuthForIdentity","_callee11","validatorAuthTokens","allValidators","tokenCalls","allTokens","validatorsAuth","_context11","_objectSpread2","channel","leader","validators","follower","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_callee10","_context10","getValidatorAuthToken","validatorId","_x12","saiDaiConversion","_callee5","_context5","_x10","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","_x11","_tokenInMainTokenValue","_callee12","_selectMainToken2","valueInMainToken","_context12","toLowerCase","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getAddsParams","_ref$from","from","_ref$to","bundle","showOnTrezor","getAddresses","asyncToGenerator","regenerator_default","_ref3$from","_ref3$to","success","payload","ethereumGetAddress","signTx","params","txProps","signature","txSigned","utils","resolveProperties","hexlify","ethereumSignTransaction","transaction","r","s","v","serializeTransaction","Error","error","sendTransaction","txData","signMessage","message","_args4","ethereumSignMessage","hex","hash","mode","SignatureModes","GETH","connect","_provider","_path","Signer","LocalSigner","getWallet","_this$_opts","password","walletData","_wallet","_opts","getLocalWallet","Wallet","privateKey","getAddress","signetTx","sign","_args5","arrayify","MetaMaskSigner","_signer","_args3","t1","t2","t3","getSigner","_getSigner","signer","_signer2","_signer3","AUTH_TYPES","METAMASK","LEDGER","LedgerSigner","TREZOR","GRANT","QUICK","getTypedDataHash","typedData","entry","toUtf8Bytes","valuesHash","keccak256","schema","schemaHash","solidityKeccak256","getAuthSig","_getAuthSig","authToken","floor","random","MAX_SAFE_INTEGER","_signTx","tx","sig","Transaction","hashHex","splitSig","getMultipleTxSignatures","_getMultipleTxSignatures","signatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","getValidatorRequester","baseUrl","Requester","getRequesters","requester","validator","processResponse","json","text","handleRequesterErrorRes","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","existingAuth","era","Date","now","ewt","sendMessage","_authTokens","options","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","fetch","headers","authorization","results","authTokens","lastApprovedState","route","method","closeCampaign","body","JSON","stringify","events","Content-Type","identityAnalytics","leaderAuth","limit","segmentByChannel","aggregates","queryParams","identityCampaignsAnalytics","isEthAddressERC20","addr","contract","isEthAddress","ethers","Contract","ERC20TokenABI","totalSupply","AddressZero","allowance","isConnectionLost","eth","race","reject","setTimeout","getBlockNumber","urlRegex","passwordRegex","validUrl","test","validateNumber","numberStr","isNaN","isFinite","validName","msg","errMsgArgs","validPassword","isEthAddressZero","isZero","validEthAddress","_ref$addr","nonZeroAddr","nonERC20","ethAddressZero","ethAddressERC20","freeAdExENS","_ref3$ens","ens","ensAddress","resolveName","code","loadFromLocalStorage","localStorage","getItem","err","saveToLocalStorage","serialized","setItem","console","warn","removeFromLocalStorage","removeItem","getKeys","module","exports","p","variantIcon","accept","CheckCircleIcon","warning","WarningIcon","cancel","ErrorIcon","info","InfoIcon","Toast","_Component","props","close","setState","active","removeToast","toast","inherits","createClass","nextProps","nextToast","toasts","_classnames","_this2","classes","Icon","anchorOrigin","vertical","horizontal","top","react_default","createElement","Snackbar","open","autoHideDuration","timeout","onClose","unclosable","SnackbarContent","aria-describedby","className","classnames","icon","iconVariant","action","IconButton","aria-label","color","onClick","Close_default","snackbar","defineProperty","Component","dispatch","bindActionCreators","withStyles","theme","spacing","border","borderRadius","&.active","transform","margin","borderColor","fontSize","opacity","marginRight","display","alignItems","wordBreak","width","maxWidth","Confirm","children","_useState","useState","_useState2","setOpen","_useSelector","useSelector","onConfirm","onCancel","noActionBtns","_useSelector$data","_useSelector$data$tit","_useSelector$data$tex","confirmLabel","cancelLabel","useEffect","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","withReactRouterLink","Decorated","_React$Component","_getPrototypeOf2","_len","Array","_key","resolveToLocation","history","createHref","handleClick","event","_this$props","preventDefault","stopPropagation","_this$props2","forwardedRef","match","staticContext","toLocation","assign","ref","href","React","WithRouter","withRouter","forwardRef","createSvgIconCustom","displayName","viewBox","SvgIcon","pure","muiName","Anchor","target","underline","externalIcon","isExternal","getUrl","linkProps","draggable","rel","style","Link","OpenInNew","ExternalAnchor","anchor_Anchor","fontWeight","styles","_drawerPaper","root","flexGrow","zIndex","overflow","position","minHeight","appBar","left","right","breakpoints","up","flex","flexDirection","paddingRight","paddingLeft","flexRow","flexBasis","paddingBottom","&:last-child","toolbarControls","justifyContent","toolbarTitle","navIconHide","toolbar","flexFlow","height","drawerPaper","content","palette","background","default","padding","paddingTop","marginLeft","contentInner","breadcrumbElement","sideIndex","0","1","handleChange","ev","execute","useTabsStyles","makeStyles","indicator","accentOne","main","accentTwo","useTabStyles","activeColor","minWidth","&$selected","selected","light","SideSwitch","tabsClasses","tabClasses","Box","bgcolor","boxShadow","Tabs","onChange","textColor","variant","Tab","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","ml","mr","CircularProgress","RRListItem","ListItem","ETH_SCAN_ADDR_HOST","useStyles","activeBgColor","navigation","paper","sntPadding","navListRoot","secondary","navList","bottom","overflowY","overflowX","sideNavToolbar","version","borderTopWidth","borderTopColor","divider","borderTopStyle","contrastText","&:focus","&:hover","adxLink","hint","sideSwitch","marginBottom","amount","typography","pxToRem","useCommonStyles","SideNav","commonClasses","routerLocation","List","component","AdexIconTxt","spinners_LoadingSection","Typography","button","Divider","dashboard_SideSwitch","ListItemIcon","Dashboard_default","ListItemText","primary","Fragment","CampaignIcon","List_default","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","src","alt","ButtonMenu","btnStyle","rightIcon","leftIconSrc","setActive","_useState3","_useState4","anchorEl","setAnchorEl","Boolean","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-haspopup","aria-controls","textOverflow","Menu","getContentAnchorEl","transformOrigin","Translate","_ref$isProp","_ref$args","getAuthLogo","metamaskLogo","trezorLogo","ledgerLogo","DEMO","demoLogo","RRMenuItem","MenuItem","RRLink","handleDrawerToggle","imgSrc","breadcrumbs","btnMenuLabel","formatAddress","AppBar","Toolbar","Menu_default","lib_default","diameter","seed","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","logOut","ExitToApp_default","Breadcrumbs","noWrap","SaveBtn","spinner","dirtyProps","save","validationId","disabled","wrapper","Fab","Check_default","Save_default","size","fabProgress","spinnerId","buttonSuccess","buttonProgress","marginTop","mediaRoot","img","buttonRight","buttonLeft","textField","flexWrap","changesLine","changeChip","editIcon","ValidationHoc","validateId","validate","isValid","_ref$err","_ref$dirty","dirty","_ref$removeAll","removeAll","invalidFields","MAX_IMG_LOAD_TIME","Img","ipfsSrc","Regexes","ipfsRegex","helpers","getMediaUrlWithProvider","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","isVideoMedia","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onerror","onload","onabort","bind","assertThisInitialized","onloadedmetadata","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this$props3","allowFullscreen","fullScreenOnClick","_this$state2","imgParent","fullScreenBtn","circular","cursor","@media(max-width:744px)","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","RRButton","G404","Grid","xs","textTransform","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","container","justify","align","PageNotFound_G404","sm","img_Img","IMG_404_1","window","IMG_404_2","adSlotPut","schemas","adUnitPut","campaignPut","ItemHoc","Item","objModel","dp","plainObj","returnPropToInitialState","propName","initialItemState","initialItemStateValue","resetValidationErrors","setActiveFields","field","newActiveFields","activeFields","_this$state3","updateItem","_authType","editImg","_activeInput","nextState","currentItemInst","nexItemInst","modifiedOn","updateSpinner","prop","errMsg","_this$props4","Joi","_this$props5","description","_this$props6","matchId","page_not_found_PageNotFound","isDemo","canEdit","titleErr","descriptionErr","react_router","when","FormControl","fullWidth","InputLabel","Input","validateTitle","maxLength","onBlur","onFocus","endAdornment","InputAdornment","Edit_default","FormHelperText","md","lg","htmlFor","multiline","rows","validateDescription","Info_default","Chip","onDelete","containers_SaveBtn_SaveBtn","inEdit","toggleImgEdit","tryGetItemByIpfs","_ipfs","itemId","ValidItemHoc","generalTableOptions","rowsPerPage","rowsPerPageOptions","setTableProps","textLabels","noMatch","toolTip","columnHeaderTooltip","column","pagination","previous","displayRows","downloadCsv","print","viewColumns","filterTable","reset","titleAria","selectedRows","delete","deleteAria","MUIDataTableEnhanced","columns","dist_default","elevation","noSearch","download","noDownload","noPrint","selectableRows","rowSelectable","disableToolbarSelect","toolbarEnabled","mapStatusIcons","humanFriendlyStatus","ls","waitIcon","HourglassFull_default","doneIcon","DoneAll_default","warningIcon","Warning_default","cashIcon","MonetizationOn_default","cellImg","sliderFilterOptions","_ref$initial","_ref$filterTitle","filterTitle","_ref$stepsCount","stepsCount","_ref$stepsPrecision","stepsPrecision","step","steps","precision","getSliderStep","filterType","customFilterListOptions","render","formatAbbrNum","update","filterList","filterPos","filterOptions","names","logic","rowNumber","filters","formated","gutterBottom","pl","pr","pt","Slider","marks","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","valueLabelFormat","useTableData","selectorArgs","getColumns","setData","setColumns","selectedData","reloadData","useCallback","ReloadData","handleReload","react","Tooltip","Refresh","PrintAllReceipts","handlePrintAllReceipts","receiptsSpinner","PRINTING_CAMPAIGNS_RECEIPTS","startIcon","Print","RRIconButton","RRImg","getCols","maxDeposit","customBodyRender","includes","truncateString","commify","sortDirection","enterDelay","Visibility","Receipt","getOptions","onDownload","buildHead","buildBody","mappedData","trim","customToolbar","customToolbarSelect","displayData","setSelectedRows","selectedIndexes","dataIndex","handlePrintSelectedReceipts","CampaignsTable","_useTableData","errColor","&$active","stepperWrapper","pagePaper","pageContent","WebkitOverflowScrolling","@media(max-width:500px)","textAlign","@media(max-width:475px)","mobileStepper","& div","mobileStepLabel","& span","buttonProgressWrapper","errChip","& svg","StepperNav","pages","currentPage","innerWidth","StepLabel","MobileStepper","activeStep","Stepper","alternativeLabel","page","Step","MaterialStepper","_props$initialPage","initialPage","_props$pages","setCurrentPage","canReverse","pageProps","Comp","_page$pageValidation","pageValidation","onValid","stepsId","dirtyErrors","dirtyErrs","getDirtyValidationErrors","isValidPage","goToPage","nextStep","canGoBack","goToPreviousPage","goToNextPage","onKeyPressed","onKeyPress","Paper","stepperNav","MaterialUiStepper_StepperNav","Error_default","disableBtnsIfValid","cancelBtn","cancelFunction","completeBtn","FormSteps","CancelBtn","onSave","stepsPages","stepsPreviewPage","validateIdBase","cancelButton","forEach","goToNextPageIfValid","MaterialUiStepper","FormSteps_FormSteps","fullHeight","innerHeight","grey","dialogTitle","wordWrap","&:first-child","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","down","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","Transition","Slide","direction","WithDialog","iconButton","textButton","fabButton","fabVariant","btnLabelArgs","mini","btnLabel","dialogActions","onBeforeOpen","btnProps","ButtonComponent","btnLabelTranslated","first","second","TransitionComponent","disableTypography","Cancel_default","closeDialog","NewAdUnitHoc","ItemForm","newValues","updateNewItem","addUnit","resetNewItem","saved","formControl","Dropdown","_props$label","_props$source","_props$htmlId","htmlId","_props$disabled","_props$error","helperText","_props$fullWidth","required","noSrcLabel","IconComponent","inputLabel","useRef","_React$useState","_React$useState2","labelWidth","setLabelWidth","offsetWidth","Select","ListSubheader","spinners_InputLoading","adUnitPost","AdTypes","AdUnitBasic","validateAndUpdateType","validateTargetUrl","targetUrl","prevProps","temp","addUtmLink","addUtmParameters","withHttp","removeFromUrl","URL","protocol","host","newQuery","_i","_Object$entries","entries","UTM_PARAMS","format","addUrlUtmTracking","newTemp","checked","errTitle","errDescription","errTargetUrl","TextField","FormControlLabel","control","Checkbox","handleChangeAddUtmLink","dropdown_Dropdown","getCroppedImgUrl","objUrl","pixelCrop","fileName","cropCanvas","scaleCanvas","crossOrigin","crop","round","y","getContext","drawImage","toBlob","file","createObjectURL","ImgForm","onDrop","acceptedFiles","rejectedFiles","that","objectUrl","imgName","mime","tempUrl","onRemove","preventBubbling","revokeObjectURL","onCropChange","saveCropped","croppedBlob","cropMode","nativeEvent","stopImmediatePropagation","UploadInfo","uploadInfo","uploadActions","dropzoneBtn","Crop_default","Clear_default","CloudUpload_default","aspect","additionalInfo","imgForm","header","dropzone","alignContent","react_image_crop_default","imageStyle","imgDropzonePreview","dist_es","ValidImageHoc","ValidImage","propsName","widthTarget","heightTarget","mediaWidth","mediaHeight","exact","checkExactishAspect","masgArgs","validateMedia","getMediaSize","getWidAndHightFromType","sizes","handleImgChange","_getWidAndHightFromTy","errImg","_getWidAndHightFromTy2","forms_ImgForm_ImgForm","getSuggestions","inputValue","allowCreate","validateCreation","suggestion","newSuggestion","chip","inputRoot","multiple","errorText","onInit","defaultValue","setInputValue","suggestions","selectedItem","Autocomplete","getOptionLabel","option","onInputChange","renderInput","inputProps","SourcesSelect","SOURCES","collection","tag","score","placeholder","AdUnitTargeting","handleTargetChange","newTargets","targets","newTarget","updateNewItemCollections","removeTarget","splice","validateAutocomplete","targetTag","_ref2$source","autocomplete_Autocomplete","openOnClick","suggestionMatch","showSuggestionsWhenValueIsSet","slider","markLabel","collections","tg","newCollection","targeting","tags","_ref4$source","_ref4$target","AddIcon","targetIcon","LocationOnIcon","gender","WcIcon","age","ChildCareIcon","getTargetType","UnitTargets","targetArrayValues","TargetIcon","CompareArrows","isTarget","ListItemSecondaryAction","TargetsList","_ref$targets","subHeader","dense","subheader","PropRow","classNameLeft","classNameRight","_ref$style","uppercase","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","FullContentMessage","_ref7$msgs","msgs","_ref7$color","strong","imgPreview","shadows","imgPreviewWrapper","AdUnitFormPreview","containers_UnitTargets_UnitTargets","NewAdUnitFormPreview","NewCampaignHoc","waitingAction","openCampaign","OPENING_CAMPAIGN","CampaignUnits","selectedUnits","allAdUnits","allAdUnitsArray","hasAdUnits","Tables_AdUnitsTable","handleSelect","selectedItemsIds","updateNewCampaign","noClone","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange_default","iconColor","onIconClick","DateTimePicker","calendarIcon","esm_DateTimePicker","InputProps","DateTimePicker_CalendarIconAdor","datepickerContrastInput","common","white","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","isNumberString","moment","MomentUtils","getTotalImpressions","dep","CampaignFinance","minTargetingScore","_campaign$temp","maxChannelFees","maxDepositFormatted","GETTING_CAMPAIGNS_FEES","date","valueOf","errDepAmnt","errMin","errFrom","errTo","validateNumberString","common_DateTimePicker_DateTimePicker","emptyLabel","disablePast","minDate","maxDate","FormGroup","row","WalletAction","UnitsTable","NewCampaignFormPreview","_newItem$temp","feesFormatted","totalSpendFormatted","getCampaignActualFees","FormsCommon_WalletAction","CampaignFormPreview_UnitsTable","addSlot","AdSlotBasic","adTypesSource","_newItem$title","_newItem$description","_newItem$website","_newItem$type","_newItem$minPerImpres","UPDATING_SLOTS_DEMAND","updateSlotsDemandThrottled","errWebsite","errType","updateNewSlot","dangerouslySetInnerHTML","__html","NewAdSlotHoc","validateImage","useFallback","validateFallbackUrl","handleFallbackChange","_this$props$newItem","errFallbackUrl","Switch","Collapse","in","PredefinedTags","_id","custom","AdSlotTargeting","getIssue","issue","WebsiteIssues","issues","site","_getIssue","anchor_ExternalAnchor","SlotFallback","AdSlotPreview","mainTokenSymbol","AdSlotPreview_SlotFallback","NewAdSlotPreview","SaveBtnWithAdUnit","SaveBtnWithCampaign","saveBtnLabel","saveBtnIcon","HourglassEmpty_default","SaveBtnWithAdSlot","esm_extends","CancelBtnWithItem","CancelBtnWithCampaign","CancelBtnWithAdSlot","dialogCommon","darkerBackground","Add_default","NewUnitStepsWithDialog","forms_FormSteps","AdUnitMedia","imgLabel","noDefaultImg","itemModel","NewUnitDialog","copyProps","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","onInvalid","validateNewCampaignAdUnits","validateNewCampaignFinance","CampaignFormPreview","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","validateNewSlotBasics","AdSlotMedia","descriptionHelperTxt","NewSlotDialog","AdUnitsTable_RRImg","AdUnitsTable_RRIconButton","NewItems_NewCloneUnitDialog","cloneItem","onRowsSelect","rowsSelected","AdUnitsTable","_props$selected","setSelectorArgs","allRowsSelected","AdSlotsTable_RRImg","AdSlotsTable_RRIconButton","AdSlotsTable","card","@media(max-width:380px)","basicInfo","ValidatedFallbackAdData","rightComponent","canEditImg","toggleFallbackImgEdit","errFallbackAdUrl","Card","raised","CardMedia","fallbackMediaUrl","fallbackTargetUrl","CardContent","updateItemTemp","_ref2$prop","_ref2$value","_ref2$item","ValidatedSlotMinCPM","minCPM","parseUnits","validateAmount","ValidatedSlotWebsite","validateWebsite","MediaCard","BasicProps","ItemCommon_MediaCard","isArray","CampaignProps","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","responsive","tooltips","cornerRadius","Helper","hexToRgbaColorString","merge","defaults","CampaignStatsDoughnut","_ref$maxDataSets","_ref$chartColors","react_chartjs_2_es","legend","animation","callbacks","datasetIndex","formatNumberWithCommas","CampaignStatsBreakdownTable","_useSelector2","dottedDivider","borderBottom","solidDevider","breakdownTable","breakAll","whiteSpace","pageBreak","pageBreakAfter","campaignBreakdown","companyName","firstLastName","country","creator","mb","mt","Table","TableHead","TableRow","TableCell","TableBody","CompanyDetails","updateCompanyData","a4","hideOnMobile","hideOnDesktop","CampaignReceipt","invoice","useParams","selectedByPropsOrParams","receipts","Receipt_CompanyDetails","react_to_print_lib_default","trigger","containers_Receipt_Receipt","VIEW_MODE","context","handleTabChange","tabIndex","CampaignActions","statistics","scrollButtons","indicatorColor","clone","order","Tables_CampaignStatsBreakdownTable","campaigns_CampaignStatsDoughnut","CampaignItem","ownProps","rowsView","RRSideBox","_ref$salePoints","salePoints","linkTitle","other","sideBox","point","SideSelect","dialogPaper","BackdropProps","backdrop","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","listStyle","commonDsProps","lineTension","pointRadius","pointHitRadius","SimpleStatistics","cpm","_ref$options","_ref$xLabel","xLabel","_ref$y1Label","y1Label","_ref$y2Label","y2Label","_ref$y3Label","y3Label","_ref$y4Label","y4Label","_ref$y1Color","y1Color","_ref$y2Color","y2Color","_ref$y3Color","y3Color","_ref$y4Color","y4Color","Chart","pluginService","register","afterDraw","chart","tooltip","_active","activePoint","controller","ctx","tooltipPosition","chartScalesy1","scales","topY","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","stroke","restore","chartData","yAxisID","pointBackgroundColor","linesOptions","maintainAspectRatio","intersect","yLabel","formatFloatNumberWithCommas","hover","xAxes","gridLines","scaleLabel","labelString","ticks","autoSkip","callback","tick","array","yAxes","beginAtZero","drawOnChartArea","useStylesArrow","black","popper","&[x-placement*=\"bottom\"] $arrow","&::before","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","arrow","borderStyle","ArrowTooltip","_useStylesArrow","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","enabled","element","_ref$bgColor","bgColor","_ref2$bgColor","infoCard","linkCard","&:hover, &:focus","progress","StatsCard","explain","deepOrange","amber","lime","contrastThreshold","tonalOffset","disabledBackground","createMuiTheme","fontFamily","overrides","MuiButton","outlined","MuiTableCell","head","MuiPaper","rounded","MuiTooltip","MuiSelect","MuiInputLabel","MuiOutlinedInput","MuiAlert","MuiTableFooter","MuiAppBar","colorDefault","MUIDataTablePagination","MUIDataTableFilter","MuiGridListTile","MUIDataTableBodyCell","stackedCommon","themeMUI","responsiveFontSizes","factor","infoStatsContainer","dashboardCardBody","timeFrames","VALIDATOR_ANALYTICS_TIMEFRAMES","tf","translated","metrics","timeHints","hour","day","week","BasicStats","averageCPM","loadingImpressions","loadingMoney","loadingCPM","loadingClicks","dataInSync","DashboardStats_StatsCard","updateAnalyticsTimeframe","Infinity","simplified_SimpleStatistics","DashboardStats","side_select_SideSelect","UnitItem","Unit","adUrl","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","IntegrationCode","_ref$slot","slot","onCopy","publisherAddr","whitelistedTokens","whitelistedType","randomize","marketSlot","encodeURIComponent","iframeStr","integrationLabel","copy","integrationCode","Slot","handleFallbackImgUpdateToggle","editFallbackImg","tabsFocus","scrollIntoView","behavior","block","createRef","Slot_IntegrationCode","addToast","SlotItem","alignSelf","updateImgInfoLabel","updateImgLabel","updateImgErrMsg","updateImgExact","WithdrawFromIdentity","_useSelector3","amountToWithdraw","withdrawTo","_useSelector4","errAmount","errAddr","updateNewTransaction","NewTransactionHoc","TransactionHoc","txId","manyTxs","resetTransaction","resetNewTransaction","handleSaveRes","getErrMsg","saveFn","log","txs","txResults","WithdrawAnyTokenFromIdentityForm","numStr","tokenAddress","withdrawToSpinner","balanceAnySpinner","tokenBalance","tokenDecimals","errToken","validateAddress","PRIV_LEVELS_SRC","SeAddressPrivilege","setAddr","privLevel","warningAccepted","warningMsg","setAddrWarning","errPrivLvl","SetAccountENSPageForm","handleValidate","_timeout","setEns","validateENS","withdrawAmount","setEnsSpinner","noValidate","IdentityWithdrawPreview","feesData","fees","toGet","SetPrivilegePreview","SetENSPreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreviewForm","getFeesFn","identityAvailable","previewWarnMsgs","_transaction$feesData","_transaction$errors","errors","waitingForWalletAction","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","previews_SetENSPreview","FormStepsWithDialog","txCommon","cancelBtnLabel","WithdrawTokenFromIdentity","validateIdentityWithdraw","TransactionPreview","_ref4$transaction","identityWithdraw","SetIdentityPrivilege","validatePrivilegesChange","addrIdentityPrivilege","setIdentityPrivilege","getFeesOnly","WithdrawAnyTokenFromIdentity","WithdrawAnyTokenFromIdentityPage","identityWithdrawAny","_ref9$transaction","withdrawOtherTokensFromIdentity","SetAccountENS","SetAccountENSPage","setIdentityENS","username","addIdentityENS","VALIDATOR_LEADER_URL","VALIDATOR_LEADER_ID","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","AccountItem","actionBtn","advancedList","iconBtnLeft","AccountInfo","_useSelector$authType","canMakeTx","identityEnsName","expanded","setExpanded","AccountInfo_AccountItem","transactions_SetAccountENS","py","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","domNodes","overlay","show","displayRampWidget","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","ExpansionPanel","square","ExpansionPanelSummary","expandIcon","heading","ExpansionPanelDetails","transactions_SetIdentityPrivilege","transactions_WithdrawAnyTokenFromIdentity","useColorlibStepIconStyles","transition","completed","star","ColorlibConnector","DEFAULT_SIZE","line","backgroundSize","LINES_WIDTH","StepConnector","ColorlibStepIcon","_clsx","clsx","backgroundImage","Stars","createAdUnitTutorial","confirmAction","fundAccountTutorial","launchFirstCampaign","createAdSlot","placeAdSlot","mobile","stepper","instructions","expansionPanel","getSteps","contentCompleted","EmailEddie","check","CreateEddie","tutorial","FundEddie","LaunchEddie","PlaceEddie","GettingStarted","stepsData","isGettingStartedHidden","setSteps","setActiveStep","sideSteps","currentStep","indexOfFirstIncompleteStep","findIndex","setGettingStartedExpanded","esm_ExpandMore","Star","StarBorder","Hidden","mdUp","nextButton","KeyboardArrowRight","backButton","KeyboardArrowLeft","smDown","nonLinear","connector","StepButton","StepIconComponent","StepIconProps","esm_Close","Campaigns","NewItems_NewCampaignDialog","accent","Tables_CampaignsTable","AdUnits","AdSlots","NewItems_NewSlotDialog","Tables_AdSlotsTable","Dashboard","mobileOpen","setMobileOpen","dataLoaded","setDataLoaded","showPublisherRevenueNotice","showTxPrivLevelWarning","_updateInitialData","loadAccountData","updateInitialData","stopAccountDataUpdate","resolveEnsAddress","updateNav","drawer","dashboard_SideNav","TopBar","Drawer","anchor","ModalProps","keepMounted","implementation","Alert","severity","updatePrivilegesWarningAccepted","Account","signinContainer","backgroundRepeat","backgroundPosition","require","buttons","adxVersion","adexLogoTop","logo","noBg","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","auth","getAllWallets","goTo","confirmLogout","toExecute","m","AuthSelect_RRButton","initIdentity","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","AuthMetamask","_useSelector$wallet","installingMetamask","setInstallingMetamask","waitingMetamaskAction","setWaitingMetamaskAction","_useState5","_useState6","waitingAddrsData","setWaitingAddrsData","isOpera","opr","opera","navigator","userAgent","_useState7","_useState8","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","ethereumProvider","getEthereumProvider","setEth","onfocus","reload","checkMetamask","metamaskSigner","_address","_stats","updateIdentity","updateIdentityWallet","signType","tabBox","METAMASK_IMG","METAMASK_DL_IMG","metamaskLAbel","NewItemHoc","updateValidationErrors","AuthHoc","Auth","updateWallet","hdWalletAddrPath","hdWalletAddrIdx","chainId","sideSelect","IdentityForm","login","resetIdentity","ready","waitingExpected","waiting","CREATING_SESSION","waitingUpload","UPLOADING_ACCOUNT_DATA","IdentityHoc","AuthTrezor","connectTrezor","waitingTrezorAction","trezorSigner","addresses","allAddressesData","hdPath","AddressSelect","onAddrSelect","selectedAddress","addrData","TREZOR_DL_IMG","AuthLedger","connectLedger","waitingLedgerAction","ledgerSigner","LEDGER_DL_IMG","AuthMethod","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","ownerAuth_AuthLedger","QuickInfo","sessionSpinner","walletMsgs","emailCheck","passwordCheck","tosCheck","FulInfo","_identity$wallet","walletAddr","WALLET_ACTIONS_MSGS","accessWarningCheck","QuickLogin","getIdentitiesForDropdown","FullLogin","ownerIdentities","identityContractAddress","GETTING_OWNER_IDENTITIES","searchParams","set","updateOwnerIdentities","owner","IdentitySteps","mapPages","GoBtn","_this$props$stepsPage","final","infoPaper","mixins","gutters","input","finalValidationQuick","validateQuickLogin","finalValidationStandard","validateStandardLogin","validateOwner","validateContractOwner","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ConnectedCreateQuickIdentity","JustDialog","identity_IdentitySteps","validateQuickInfo","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","validateFullInfo","ConnectedRoot","PrivateRoute","handleLegacyWallet","migrateLegacyWallet","removeLegacyKey","ensureQuickWalletBackup","getRelayerConfig","metamaskChecks","handleRedirectParams","handleSignupLink","metamaskNetworkCheck","updateRegistrationAllowed","updateEasterEggsAllowed","react_router_dom","Root_PrivateRoute","onBeforeLift","App","CssBaseline","ThemeProvider","useUtils_cfb96ac9","es","store","integration_react","persistor","esm","CacheBuster","App_Root","toast_Toast","confirm_Confirm","ReactDOM","components_App_App","getElementById","serviceWorker","registration","unregister","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_GLOBAL_UI","UPDATE_UI_BY_IDENTITY","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","RESET_ALL_NEW_TRANSACTIONS","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_ALL_BIDS","RESET_ALL_BIDS","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","UPDATE_ADVANCED_ANALYTICS","RESET_ANALYTICS","UPDATE_CHANNELS_WITH_BALANCE_ALL","RESET_CHANNELS_WITH_BALANCE_ALL","UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE","RESET_CHANNELS_WITH_OUTSTANDING_BALANCE","UPDATE_DEMAND_ANALYTICS","UPDATE_SELECTED_ITEMS","UPDATE_RESOLVE_ENS_ADDRESS","isDemoMode","actions__WEBPACK_IMPORTED_MODULE_0__","services_store_data_campaigns__WEBPACK_IMPORTED_MODULE_1__","services_store_data_account__WEBPACK_IMPORTED_MODULE_2__","services_store_data_analytics__WEBPACK_IMPORTED_MODULE_3__","connected_react_router__WEBPACK_IMPORTED_MODULE_4__","skipRedirect","resetAccount","analyticsLoop","analyticsCampaignsLoop","campaignsLoop","statsLoop","resetAllItems","resetAllNewItems","resetAllBids","resetAnalytics","resetChannelsWithBalanceAll","resetChannelsWithOutstandingBalance","resetAllNewTransaction","video","videoWidth","videoHeight","getVideoSize","getImageSize","maxPercentTolerance","targetAspect","aspectDiff","abs","contracts","_build_Identity_json__WEBPACK_IMPORTED_MODULE_0__","_build_AdExCore_json__WEBPACK_IMPORTED_MODULE_1__","_build_Dai_json__WEBPACK_IMPORTED_MODULE_2__","_build_IdentityFactory_json__WEBPACK_IMPORTED_MODULE_3__","_abi_AdExENSManager_json__WEBPACK_IMPORTED_MODULE_4__","_abi_ReverseRegistrar_json__WEBPACK_IMPORTED_MODULE_5__","_abi_ERC20Token_json__WEBPACK_IMPORTED_MODULE_6__","Identity","abi","AdExENSManager","publicResolver","ReverseRegistrar","parentDomain","AdExCore","DAI","Dai","IdentityFactory","ERC20","Core","Interface","IdentityInterface","IdentityABI","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","OUTSTANDING_STATUSES","Active","Ready","Exhausted","Offline","Unhealthy","Withdraw","EXTRA_PROCESS_TIME","toEthereumChannel","specHash","crypto","createHash","digest","Channel","tokenAddr","tokenAmount","validUntil","getReadyCampaign","newCampaign","period","getValidUntil","nonce","randomBytes","unit","fee","feeNum","div","feeDen","feeAddr","maxPerImpression","eventSubmission","allow","uids","rateLimit","lastChecked","getWithdrawnPerUserOutstanding","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default","functions","withdrawnPerUser","sub","getChannelsWithOutstanding","_getChannelsWithOutstanding","allChannels","getAllCampaigns","byEarner","lastApprovedBalances","lastApprovedSigs","validBalances","_e","_unused","_channel$status","bTree","BalanceTree","balanceNum","_x8","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","minPlatform","getChannelsToSweepFrom","amountToSweep","_ref4$withBalance","_withBalance$sort$red","eligible","c1","c2","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","sum","lt","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","routineAuthTuple","_txns$reduce","updated","routineOpts","RoutineOps","channelWithdraw","withdrawAmountByToken","feeTokenAddr","executeRoutines","encode","routinesSweepTxCount","getIdentityRoutineAuthTuple","is41identity","hasValidExecuteRoutines","getSweepChannelsTxns","_getSweepChannelsTxns","channelsToSweep","encodedTxns","toSolidityTuple","isSweepTx","getSwapAmountsByToken","saiToken","swaps","swapsSumInMainToken","swapsByToken","getSweepingTxnsIfNeeded","_getSweepingTxnsIfNeeded","amountInMainTokenNeeded","needed","_account$stats$raw$id","currentBalanceInUse","sweepData","_getSwapAmountsByToke","sweepTxns","swapAmountsByToken","amountToSwapInMainToken","openChannel","_openChannel","getMaxFees","readyCampaign","openReady","ethChannel","hasIdentityChannelOpen","identityChannelOpenTx","approveTxns","channelOpenTx","txnsByFeeToken","totalBN","mtBalance","maxAvailable","maxAvailableFormatted","storeCampaign","channelOpen","extraTxFeesCount","getApproveTxns","approveForAddress","approveAmount","getIdentityTxnsWithNoncesAndFees","getIdentityTxnsTotalFees","processExecuteByFeeTokens","extraData","closeChannel","_closeChannel","textObj","statusText","AdexNodeRequester","getAuthHeaders","authSignature","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","_ref4$route","_ref4$queryParams","_ref4$method","_ref4$headers","_ref4$authSig","userAddr","_ref4$noCache","noCache","qp","demo","getQuery","hdrs","requester_handleRequesterErrorRes","ethers_utils__WEBPACK_IMPORTED_MODULE_0__","timestamp","amountString","pretty","joinSymbol","substring","parts","number","decPlaces","pow","abbrev","string","Loop","syncAction","_syncAction","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","updateAccountAnalytics","loopName","stopOn","_syncAction2","updateAccountCampaignsAnalytics","Looper","_ref$loopName","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","clearLoopTimeout","loopTimeout","syncData","makeStopCheck","startLoop","checkLoop","start","adex_models__WEBPACK_IMPORTED_MODULE_0__","services_translations_translations__WEBPACK_IMPORTED_MODULE_1__","locations","AllCountries","genders","Genders","translations_translate","setLang","translations","adexTranslations","translation","tpl","pattern","RegExp","interpolated","isValidElement","cloneElement","every","interpolate","lng","getKeyHash","encrypt","iv","cipher","encr","encrypted","createCipheriv","Buffer","decrypt","textParts","encryptedText","decipher","decr","decrypted","shift","createDecipheriv","encryptLegacy","crypted","createCipher","decryptLegacy","dec","createDecipher","BID_STATES","ExchangeConstants","TIMEOUTS","SEED","ETHEREUM_NETWORKS","for","5","production","development","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_EVENT_TYPES","MOON_GRAVITY_ACCELERATION","MOON_TO_EARTH_WEIGHT","_WALLET_ACTIONS_MSGS","initialState","signin","passConfirm","publicKey","seedCheck","authenticated","currentItem","campaings","Website","web3Transactions","ethNetwork","networkId","gasData","market","history__WEBPACK_IMPORTED_MODULE_0__","createHashHistory","listen","gtag","page_path","LOOP_TIMEOUT","updateUserCampaigns","accountStatsLoop","updateAccountStats","QUICK_WALLET_BACKUP","UPDATING_ACCOUNT_IDENTITY","setLogLevel","getEthersResult","adexCore","coreAddr","getAdexCore","_selectRelayerConfig3","standard","getMainToken","identityFactory","identityFactoryAddr","getIdentityFactory","MainToken","localWeb3","providers","JsonRpcProvider","loadInjectedWeb3","addEventListener","ethereum","web3","injectedWeb3","enable","Web3Provider","getLocalWeb3","ethereumNetworkId","networkVersion","isMetaMask","types","updateGlobalUi","category","updateUiByIdentity","_ref$label","_ref$timeout","getGuid","toastId","_ref2$confirmLabel","_ref2$cancelLabel","_ref2$title","_ref2$text","_ref2$noCancel","noCancel","_ref2$noConfirm","noConfirm","changeLanguage","get","updateSelectedItems","updateSelectedCampaigns","refreshCacheAndReload","caches","notifyNewTOS","grant","accepted","getErrorMsg","numStringCPMtoImpression","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","uploadImage","imageBlob","imageName","Base","updateObject","imageIpfs","resItem","postAdUnit","marketAdd","resUnit","passback","postAdSlot","getAllItems","resUnits","resSlots","getAdUnits","getAdSlots","updateItems","updatedItem","marketUpdate","updateAdSlot","updateAdUnit","updateCampaign","deleteItem","_deleted","restoreItem","successMsg","findSourceByTag","response","mediaURL","mediaSize","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","updateTags","addNewTag","addSig","expiryTime","_ref$identity","getSig","_ref2$addr","_ref2$identity","sigAndTIme","fillEmptyTime","prevAggr","intervals","nowUTC","utc","lastSixHoursPeriod","startOf","lastHour","subtract","end","last24Hours","last7Days","thisWeek","endOf","lastWeek","thisMonth","lastMonth","intervalsMs","interval","ammount","newAggr","diff","unix","prevAggrInInterval","getUnitsStatsByType","_getUnitsStatsByType","unitsByType","unitsByTypeStats","byType","prevStats","channelsByType","totalPerImpression","avgPerImpression","statsByType","analyticsParams","callsParams","analyticsCampaignsParams","aggrByChannelsSegments","feeTokens","_aggr$sort$reduce","aggregations","_withdrawTokens$depos","minBalance","currentAggr","currentChannelValue","hasMinBalance","currentTimeValue","feeSubtracted","currentAvailable","currentAdded","points","curInnerAggr","accountChanged","allAnalytics","updateValidatorAuthTokens","newAuth","aggrByChannelSegments","isAccountChanged","updateSlotsDemand","throttle","demandAnalytics","leading","trailing","updateSignin","resetSignin","createAccount","updateAccount","updateChannelsWithBalanceAll","updateChannelsWithOutstandingBalance","updateGasData","hasAuth","accountCheck","updateAccountIdentityData","updatedIdentity","getIdentityData","isLimitedVolume","newIdentity","newTokens","createSession","_ref9$identity","deleteLegacyKey","newWallet","sessionSignature","leaderValidatorAuth","checkSession","skipErrToast","getSession","signerAddress","cfg","getRelayerConfigData","getNetworkId","_callee14","_context14","getNetwork","getNetworkData","_callee15","network","_context15","isMetamaskMatters","_callee16","doesItMatter","_context16","onMetamaskNetworkChange","_x13","onMetamaskAccountChange","accountAddress","_account$wallet","_account$wallet$addre","identityContractOwner","_x14","_x15","metamaskAccountCheck","_x16","_x17","_callee9","_context9","_x18","_x19","on","accounts","_x20","_x21","hasBackup","_callee17","salt","encryptedWallet","_context17","generateSalt","getWalletHash","getQuickWallet","makeBackup","_callee18","walletSalt","walletHash","_context18","getRecoveryWalletData","backupWallet","_selectWallet","isLocal","_x24","_x25","t4","t5","_x26","_x27","_callee13","_context13","_x28","_x29","newErrors","_ref4$err","_ref4$dirty","_ref4$removeAll","handleAfterValidation","validateEmailCheck","validatePassword","validatePasswordCheck","validateTOS","validateWallet","validateIdentityContractOwner","validateAccessWarning","validateCampaignUnits","_x22","_x23","validateCampaignValidators","validateAmounts","_ref21$maxDeposit","validateWithdrawAmount","availableIdentityBalanceMainTokenRaw","availableIdentityBalanceMainTokenFormatted","errorMsg","validateCampaignAmount","isValidNumber","deposit","isValidDeposit","isValidMin","_x30","_x31","getCampaignDatesValidation","_ref28$created","validateCampaignDates","_x32","_x33","validateCampaignTitle","_x34","_x35","validateEthAddress","_ref33$nonZeroAddr","_ref33$nonERC","_ref34","_callee19","_context19","_x36","_x37","validatePrivilegesAddress","_ref36$setAddr","_ref36$walletAddr","_ref37","_callee20","isCurrentAddress","_context20","_x38","_x39","validatePrivLevel","_callee21","_context21","_x40","_x41","validateSchemaProp","_ref40","_callee22","_context22","_x42","validateEmail","validateNotExisting","_callee23","existing","_context23","getEmail","_x43","resetWallet","onUploadLocalWallet","reader","onError","files","FileReader","obj","abort","readAsText","withdrawFromIdentity","identityData","getOwnerIdentities","lookupAddress","_selectIdentity","identityTxData","registerAccount","regAccount","actualAuthType","walletInfo","identityPrivileges","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","getIdentityDeployData","validateQuickDeploy","_identityAddr","createLocalWallet","addDataToWallet","dataKey","dataValue","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","_selectNewTransaction","inputValidations","validation","_selectNewTransaction2","_selectAccountStatsRa","_selectAccountStatsFo","updateCampaignState","getHumanFriendlyName","_selectAccount","getCampaigns","closeCampaignMarket","currentCampaign","tempValidators","_campaign$temp2","totalSpend","adSlotPost","currentSlot","_slot$minPerImpressio","verifyWebsite","websiteUrl","itemActions","uiActions","accountActions","identityActions","bidActions","transactionActions","validationActions","analyticsActions","campaignActions","newItemsActions","updateCfg","newCfg","persistReducers","newState","filterActions","collectionId","addItem","toAdd","newCol","removeCollectionProp","toRemove","newItems","currentItems","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","pTxs","updateObj","txHash","memoryReducers","newSignin","newToast","added","calledOn","hasOwnProperty","updateTx","reduxRouterMiddleware","routerMiddleware","persistConfig","storage","rootReducer","combineReducers","persistCombineReducers","connectRouter","configureStore","middlewares","thunk","createStore","compose","applyMiddleware","persistStore","store_store","store_persistor","bg-BG","de-DE","en-US","es-ES","fr-FR","hr-HR","hu-HU","it-IT","nl-NL","pt-BR","pt-PT","ru-RU","se-SE","sr-RS","zh-CN","onlyTranslated","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","addrsFromPubKey","chainCode","_ref2$from","_ref2$to","hdKey","addrs","derivedKey","HDKey","derive","publicExtendedKey","HDNode","fromExtendedKey","_ref4$from","_ref4$to","transport","_args2","_transport","create","LedgerEth","txUnsigned","signTransaction","signPersonalMessage","joinSignature","TransportU2F","HEADER","base64","alg","payloadEncoded","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","verifyMessage","decode","Module","alpha","substr","hexToDec","h","g","stack","isInt","int","shuffleArray","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","isMoment","dontThrow","_ref3$imageName","formData","FormData","append","convertItemToJSON","itemToConvert","statuses","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","selectors__WEBPACK_IMPORTED_MODULE_2__","_package_json__WEBPACK_IMPORTED_MODULE_3__","actions__WEBPACK_IMPORTED_MODULE_4__","semverGreaterThan","versionA","versionB","versionsA","versionsB","cache","latestVersion","latestTOS","currentVersion","currentTOS","tosVersion","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","getCipherKey","isLegacyCrypto","getRandomMnemonic","randomEntropy","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","fromMnemonic","encrKey","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","decrData","_decrData","_ref4$email","decryptedStr","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getEncrypted","_removeLegacyKey","_ref7$email","_ref7$password","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","_ref8$dataValue","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","mail","isWallet","_getWalletHash","passwordId","dataStr","ScdMcdMigration","ScdMcdMigrationABI","AdExENSManagerInterface","ReverseRegistrarInterface","SCD_MCD_MIGRATION_ADDR","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","baseIdentityAddr","identityRecoveryAddr","routineAuthorizationsRaw","bytecode","outpace","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","_withdrawFromIdentity","toWithdraw","withdrawTx","maxWithdraw","actualWithdrawAmount","transfer","_setIdentityPrivilege","identityInterface","tx1","setAddrPrivilege","txnsByTokenWithSaiToDaiSwap","daiAddr","saiWithdrawAmount","_addIdentityENS","_ref5$username","tx2","_selectRelayerConfig2","registerAndSetup","setName","_getIdentityTxnsWithNoncesAndFees","_ref6$amountInMainTok","_ref6$txns","mainTokenWithFees","isDeployed","initialNonce","feesForMainTxns","totalAmountInMainTokenNeeded","_ref16$sweepTxns","_ref16$swapAmountsByT","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","toNumber","minRecommended","minDeploy","swapSaiToDaiTxns","swapAmount","t6","Set","_tx$routinesSweepTxCo","_tx$extraTxFeesCount","txFeeAmount","minFeeAmount","sweepRoutinesFeeAmount","extraFeesAmount","feeAmount","nonIdentityBalanceFeeAmount","txWithNonce","_getApproveTxns","approve","swapTx","swapSaiToDai","_getIdentityTxnsTotalFees","_ref9$mainToken","byToken","byFeeToken","_feeTokenWhitelist$ke","feeFormatted","_processExecuteByFeeTokens","_ref10$extraData","txnsRaw","executeTx","_withdrawOtherTokensFromIdentity","_selectRelayerConfig4","services_requester__WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"static/js/main.0c75f018.chunk.js","sourcesContent":["import { createSelectorCreator, defaultMemoize } from 'reselect'\r\nimport isEqual from 'lodash.isequal'\r\n\r\n// deep equal memoization instad reference check\r\nexport const createDeepEqualSelector = createSelectorCreator(\r\n\tdefaultMemoize,\r\n\tisEqual\r\n)\r\n\r\nexport const creatArrayOnlyLengthChangeSelector = createSelectorCreator(\r\n\tdefaultMemoize,\r\n\t(a = [], b = []) => a.length === b.length\r\n)\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\n\r\n// can be used outside  components\r\nexport const selectRelayerConfig = state => {\r\n\treturn (state || getState()).persist.config.relayer\r\n}\r\n\r\n// - relayer cfg\r\n// network,\r\n// feeTokenWhitelist, // [{ address, symbol, decimals, standard, min, minDeploy, minRecommended }],\r\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal, minPlatform }],\r\n// coreAddr,\r\n// baseIdentityAddr,\r\n// identityFactoryAddr,\r\n// registryAddr,\r\n// daiAddr,\r\n// marketUrl,\r\n// identityRecoveryAddr,\r\n// weeklyFeeAmount,\r\n// mainToken, // { address, symbol, decimals, standard },\r\n// advertiserMinGrantAmount\r\n// relayerAddr\r\n\r\nexport const selectFeeTokenWhitelist = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ feeTokenWhitelist }) => {\r\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokens = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\r\n\t\t\tconst tokens = { ...all }\r\n\t\t\ttokens[t.address] = t\r\n\r\n\t\t\treturn tokens\r\n\t\t}, {})\r\n\t}\r\n)\r\n\r\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ routineWithdrawTokens }) => {\r\n\t\treturn routineWithdrawTokens.map(t => t.address)\r\n\t}\r\n)\r\n\r\nexport const selectConfig = createSelector(\r\n\t[selectRelayerConfig],\r\n\trelayerConfig => {\r\n\t\tconst cfg = { ...relayerConfig }\r\n\t\treturn cfg\r\n\t}\r\n)\r\n\r\nexport const selectMainToken = createSelector(\r\n\t[selectRelayerConfig],\r\n\t({ mainToken }) => mainToken || {}\r\n)\r\n\r\nexport const selectSaiToken = createSelector(\r\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\r\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\r\n)\r\n\r\nexport const selectMainFeeToken = createSelector(\r\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\r\n\t({ mainToken }, feeTokenWhitelist) => {\r\n\t\treturn feeTokenWhitelist[mainToken.address]\r\n\t}\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { createDeepEqualSelector } from 'selectors'\r\n\r\nexport const selectAccount = state => state.persist.account || {}\r\nexport const selectChannels = state => state.persist.channels\r\n\r\nexport const selectAuth = createSelector(\r\n\tselectAccount,\r\n\t({ wallet, identity }) =>\r\n\t\t!!wallet &&\r\n\t\t!!wallet.address &&\r\n\t\t!!wallet.authSig &&\r\n\t\t!!wallet.authType &&\r\n\t\t!!identity.address\r\n)\r\n\r\nexport const selectWallet = createDeepEqualSelector(\r\n\tselectAccount,\r\n\t({ wallet }) => wallet || {}\r\n)\r\n\r\nexport const selectEmail = createSelector(\r\n\tselectAccount,\r\n\t({ email }) => email\r\n)\r\n\r\nexport const selectEmailProvider = createSelector(\r\n\tselectEmail,\r\n\temail => (!!email ? email.split('@')[1] : null)\r\n)\r\n\r\nexport const selectAuthSig = createSelector(\r\n\tselectWallet,\r\n\t({ authSig }) => authSig\r\n)\r\n\r\nexport const selectWalletAddress = createSelector(\r\n\tselectWallet,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAuthType = createSelector(\r\n\tselectWallet,\r\n\t({ authType }) => authType\r\n)\r\n\r\nexport const selectAccountIdentity = createSelector(\r\n\tselectAccount,\r\n\t({ identity }) => identity || {}\r\n)\r\n\r\nexport const selectAccountIdentityAddr = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ address }) => address\r\n)\r\n\r\nexport const selectAccountStats = createSelector(\r\n\tselectAccount,\r\n\t({ stats }) => stats || {}\r\n)\r\n\r\nexport const selectAccountSettings = createSelector(\r\n\tselectAccount,\r\n\t({ settings }) => settings || {}\r\n)\r\n\r\nexport const selectAccountStatsRaw = createSelector(\r\n\tselectAccountStats,\r\n\t({ raw }) => raw || {}\r\n)\r\n\r\nexport const selectAccountStatsFormatted = createSelector(\r\n\tselectAccountStats,\r\n\t({ formatted }) => formatted || {}\r\n)\r\n\r\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData }) =>\r\n\t\trelayerData &&\r\n\t\trelayerData.routineAuthorizationsData &&\r\n\t\trelayerData.routineAuthorizationsData[0]\r\n\t\t\t? relayerData.routineAuthorizationsData[0]\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectAccountIdentityDeployData = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData }) => relayerData.deployData\r\n)\r\n\r\nexport const selectChannelsWithUserBalancesEligible = createSelector(\r\n\tselectChannels,\r\n\t({ withOutstandingBalance }) => [...(withOutstandingBalance || [])]\r\n)\r\n\r\nexport const selectChannelsWithUserBalancesAll = createSelector(\r\n\tselectChannels,\r\n\t({ withBalanceAll }) => ({ ...(withBalanceAll || {}) })\r\n)\r\n\r\nexport const selectAccountIdentityCurrentPrivileges = createSelector(\r\n\tselectAccountIdentity,\r\n\t({ relayerData: { currentPrivileges } = {} }) => currentPrivileges || {}\r\n)\r\n\r\nexport const selectWalletPrivileges = createSelector(\r\n\t[selectAccountIdentityCurrentPrivileges, selectWalletAddress],\r\n\t(privileges = {}, address) => privileges[address] || 0\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectIdentity = state => state.memory.identity\r\n\r\nexport const selectEnsAddresses = state => state.persist.ensAddresses\r\n\r\nexport const selectEnsAddressByAddr = createSelector(\r\n\t[selectEnsAddresses, (_, address) => address],\r\n\t(ensAddresses, address) => ensAddresses[address] || ''\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { selectAccountIdentityAddr } from './accountSelectors'\r\n\r\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\r\n\r\nexport const selectNavTitle = state => state.memory.nav.navTitle\r\nexport const selectSide = state => state.memory.nav.side\r\nexport const selectGlobalUi = state => state.persist.ui.global\r\nexport const selectIdentitiesUi = state => state.persist.ui.byIdentity\r\nexport const selectSelectedItems = state => state.memory.selectedItems\r\nexport const selectConfirm = state => state.memory.confirm\r\n\r\nexport const selectSpinners = state => state.memory.spinners\r\n\r\nexport const selectIdentityUi = createSelector(\r\n\t[selectAccountIdentityAddr, selectIdentitiesUi],\r\n\t(identityAddr, identitiesUi) => identitiesUi[identityAddr] || {}\r\n)\r\n\r\nexport const selectCompanyData = createSelector(\r\n\t[selectIdentityUi],\r\n\t({ companyData }) => companyData || {}\r\n)\r\n\r\nexport const selectSpinnerById = createSelector(\r\n\t[selectSpinners, (_, id) => id],\r\n\t(spinners, id) => spinners[id]\r\n)\r\n\r\nexport const selectMultipleSpinnersByIds = createSelector(\r\n\t[selectSpinners, (_, ids) => ids],\r\n\t(spinners, ids) => ids.map(id => spinners[id])\r\n)\r\n\r\nexport const selectRegistrationAllowed = createSelector(\r\n\tselectGlobalUi,\r\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\r\n)\r\n\r\nexport const selectEasterEggsAllowed = createSelector(\r\n\tselectGlobalUi,\r\n\t({ allowEasterEggs }) => allowEasterEggs\r\n)\r\n\r\nexport const selectPrivilegesWarningAccepted = createSelector(\r\n\tselectIdentityUi,\r\n\t({ privilegesWarningAccepted }) => !!privilegesWarningAccepted\r\n)\r\n\r\nexport const selectHideGettingStarted = createSelector(\r\n\tselectIdentityUi,\r\n\t({ hideGettingStarted }) => hideGettingStarted\r\n)\r\n\r\nexport const selectGettingStartedExpanded = createSelector(\r\n\tselectIdentityUi,\r\n\t({ gettingStartedExpanded }) =>\r\n\t\t// NOTE: default is open but cant set initial state\r\n\t\tgettingStartedExpanded === undefined ? true : !!gettingStartedExpanded\r\n)\r\n\r\nexport const selectSelectedCampaigns = createSelector(\r\n\tselectSelectedItems,\r\n\t({ campaigns }) => campaigns || []\r\n)\r\n\r\nexport const selectLoginDirectSide = createSelector(\r\n\tselectGlobalUi,\r\n\t({ goToSide }) => goToSide || ''\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getState } from 'store'\r\n\r\nexport const selectLang = state => state.persist.language\r\n\r\nexport const selectTranslations = createSelector(\r\n\t[\r\n\t\tselectLang,\r\n\t\t(_, val, opts = {}) => {\r\n\t\t\treturn { val, opts }\r\n\t\t},\r\n\t],\r\n\t(lang, { val, opts }) => {\r\n\t\tconst { isProp = false, args = [''], components = [] } = opts\r\n\t\treturn translate(val, { isProp, args, components }, lang)\r\n\t}\r\n)\r\n\r\n// Need to useSelector for language in top component where this will be used\r\n// Now this is don by using Translate Hoc on Root\r\n// It will work in actions too as the state isg get when they are called and don't need update\r\nexport const t = (val, opts) => {\r\n\treturn selectTranslations(getState(), val, opts)\r\n}\r\n","import { createSelector } from 'reselect'\r\nimport { selectCampaignEventsCount } from 'selectors'\r\nimport url from 'url'\r\nexport const selectItems = state => state.persist.items\r\n\r\nexport const selectItemsByType = createSelector(\r\n\t[selectItems, (_, itemType) => itemType],\r\n\t(items, itemType) => items[itemType] || {}\r\n)\r\n\r\nexport const selectItemsArrayByType = createSelector(\r\n\t[selectItemsByType, (_, itemType) => itemType],\r\n\t(items = {}) => Object.values(items)\r\n)\r\n\r\nexport const selectCampaigns = createSelector(\r\n\tstate => selectItemsByType(state, 'Campaign'),\r\n\tcampaigns => campaigns\r\n)\r\n\r\nexport const selectCampaignById = createSelector(\r\n\t[selectCampaigns, (_, id) => id],\r\n\t(campaigns, id) => campaigns[id]\r\n)\r\n\r\nexport const selectCampaignUnitsById = createSelector(\r\n\t[selectCampaignById, (_, id) => id],\r\n\t({ adUnits } = {}) => adUnits || []\r\n)\r\n\r\nexport const selectCampaignWithAnalyticsById = createSelector(\r\n\t[selectCampaigns, (_, id) => id],\r\n\t(campaigns, id) => {\r\n\t\tconst campaign = { ...(campaigns[id] || {}) }\r\n\t\tcampaign.clicks = selectCampaignEventsCount('CLICK', id)\r\n\t\tcampaign.impressions = selectCampaignEventsCount('IMPRESSION', id)\r\n\t\treturn campaign\r\n\t}\r\n)\r\n\r\nexport const selectCampaignsArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'Campaign'),\r\n\tcampaigns => campaigns\r\n)\r\n\r\nexport const selectAdUnits = createSelector(\r\n\tstate => selectItemsByType(state, 'AdUnit'),\r\n\tadUnits => adUnits\r\n)\r\n\r\nexport const selectAdUnitById = createSelector(\r\n\t[selectAdUnits, (_, id) => id],\r\n\t(items, id) => items[id]\r\n)\r\n\r\nexport const selectAdUnitsArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'AdUnit'),\r\n\tadUnits => adUnits\r\n)\r\n\r\nexport const selectAdSlots = createSelector(\r\n\tstate => selectItemsByType(state, 'AdSlot'),\r\n\tadSlots => adSlots\r\n)\r\n\r\nexport const selectAdSlotsArray = createSelector(\r\n\tstate => selectItemsArrayByType(state, 'AdSlot'),\r\n\tadSlots => adSlots\r\n)\r\n\r\nexport const selectAdSlotById = createSelector(\r\n\t[selectAdSlots, (_, id) => id],\r\n\t(items, id) => items[id]\r\n)\r\n\r\nexport const selectWebsites = createSelector(\r\n\tstate => selectItemsByType(state, 'Website'),\r\n\twebsites => websites\r\n)\r\n\r\nexport const selectWebsiteById = createSelector(\r\n\t[selectWebsites, (_, id) => id],\r\n\t(items, id) => items[id]\r\n)\r\n\r\nexport const selectWebsiteByWebsite = createSelector(\r\n\t[selectWebsites, (_, ws) => ws],\r\n\t(items, ws) => (ws ? items[url.parse(ws).hostname] || {} : {})\r\n)\r\n","import { getState } from 'store'\r\nimport { createSelector } from 'reselect'\r\nimport { formatTokenAmount, formatDateTime } from 'helpers/formatters'\r\nimport { selectWebsites } from 'selectors'\r\n\r\nexport const selectAnalytics = state => state.persist.analytics\r\n\r\nexport const selectAnalyticsData = createSelector(\r\n\t[selectAnalytics, (_, side) => side],\r\n\t(analytics, side) => {\r\n\t\treturn analytics[side] || {}\r\n\t}\r\n)\r\n\r\nexport const selectAdvancedAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\tanalytics => analytics.advanced || {}\r\n)\r\n\r\nexport const selectAnalyticsTimeframe = createSelector(\r\n\tselectAnalytics,\r\n\t({ timeframe }) => {\r\n\t\treturn timeframe\r\n\t}\r\n)\r\n\r\nexport const selectCampaignAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\t({ campaigns }) => campaigns || {}\r\n)\r\n\r\nexport const selectDemandAnalytics = createSelector(\r\n\t[selectAnalytics],\r\n\t({ demand }) => demand || {}\r\n)\r\n\r\nexport const selectAdvancedAnalyticsByType = createSelector(\r\n\t[selectAdvancedAnalytics, (_, type) => type],\r\n\t(campaignAnalytics, type) => campaignAnalytics[type] || {}\r\n)\r\n\r\nexport const selectTotalStatsByAdUnits = createSelector(\r\n\t(state, { type, adUnitId }) => [\r\n\t\tselectAdvancedAnalyticsByType(state, type),\r\n\t\t{ adUnitId },\r\n\t],\r\n\t([analyticsByChannel, { adUnitId }]) =>\r\n\t\tObject.values(analyticsByChannel.byChannelStats || {}).reduce(\r\n\t\t\t(acc, curr) => acc + curr.reportChannelToAdUnit[adUnitId] || 0,\r\n\t\t\t0\r\n\t\t)\r\n)\r\n\r\nexport const selectPublisherStatsByType = createSelector(\r\n\t(state, type) => selectAdvancedAnalyticsByType(state, type),\r\n\tadvancedByType => advancedByType.publisherStats || {}\r\n)\r\nexport const selectPublisherTotalImpressions = createSelector(\r\n\tstate => selectPublisherStatsByType(state, 'IMPRESSION'),\r\n\t({ reportPublisherToAdUnit }) => {\r\n\t\tconst totalImpressions = reportPublisherToAdUnit\r\n\t\t\t? Object.values(reportPublisherToAdUnit).reduce(\r\n\t\t\t\t\t(a, value) => a + Number(value) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: 0\r\n\r\n\t\treturn totalImpressions\r\n\t}\r\n)\r\n\r\nexport const selectCampaignAnalyticsByChannelStats = createSelector(\r\n\t(state, { type, campaignId } = {}) => [\r\n\t\tselectAdvancedAnalyticsByType(state, type),\r\n\t\tcampaignId,\r\n\t],\r\n\t([analyticsByType, campaignId]) =>\r\n\t\t(analyticsByType.byChannelStats || {})[campaignId] || {}\r\n)\r\n\r\nexport const selectCampaignAnalyticsByChannelToAdUnit = createSelector(\r\n\t(state, { type, campaignId } = {}) => [\r\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\r\n\t],\r\n\t([{ reportChannelToAdUnit }]) => {\r\n\t\treturn reportChannelToAdUnit || {}\r\n\t}\r\n)\r\n\r\nexport const selectMaxAdUnitStatByChannel = createSelector(\r\n\t(state, { type, campaignId } = {}) =>\r\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\r\n\t({ reportChannelToAdUnit }) => {\r\n\t\treturn reportChannelToAdUnit\r\n\t\t\t? Math.max.apply(null, Object.values(reportChannelToAdUnit))\r\n\t\t\t: 0\r\n\t}\r\n)\r\n\r\nexport const selectAnalyticsDataAggr = createSelector(\r\n\t[selectAnalytics, (_, opts = {}) => opts],\r\n\t(analytics = {}, { side, eventType, metric, timeframe }) => {\r\n\t\t// return analytics[side]['eventType'][metric][timeframe].aggr\r\n\t\t// NOTE: It was working fine with default initial state but\r\n\t\t// when eventType CLICK was added if you were logged and had\r\n\t\t// old analytics the initialState is not applied === boom.\r\n\r\n\t\tconst {\r\n\t\t\t[side]: {\r\n\t\t\t\t[eventType]: { [metric]: { [timeframe]: { aggr } = {} } = {} } = {},\r\n\t\t\t} = {},\r\n\t\t} = analytics\r\n\r\n\t\treturn aggr\r\n\t}\r\n)\r\n\r\nexport function selectCampaignEventsCount(type, campaignId) {\r\n\treturn Object.values(\r\n\t\t// TODO: fix this selector w/o using getState\r\n\t\tselectCampaignAnalyticsByChannelToAdUnit(getState(), {\r\n\t\t\ttype,\r\n\t\t\tcampaignId,\r\n\t\t})\r\n\t).reduce((a, b) => a + b, 0)\r\n}\r\n\r\nexport const selectTotalImpressions = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectTotalClicks = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'CLICK',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\teventCounts =>\r\n\t\teventCounts\r\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectTotalMoney = createSelector(\r\n\t(state, { side, timeframe } = {}) =>\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\teventPayouts =>\r\n\t\teventPayouts\r\n\t\t\t? eventPayouts.reduce(\r\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value || 0, 18)) || 0,\r\n\t\t\t\t\t0\r\n\t\t\t  )\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectTotalImpressionsWithPayouts = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t}),\r\n\t\tselectAnalyticsDataAggr(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t}),\r\n\t],\r\n\t([eventCounts, eventPayouts]) =>\r\n\t\teventCounts && eventPayouts\r\n\t\t\t? eventCounts\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc =>\r\n\t\t\t\t\t\t\t(eventPayouts.find(e => e.time === c.time) || { value: null })\r\n\t\t\t\t\t\t\t\t.value !== null\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.reduce((a, { time, value }) => a + Number(value) || 0, 0)\r\n\t\t\t: null\r\n)\r\n\r\nexport const selectAverageCPM = createSelector(\r\n\t[\r\n\t\t(state, { side, timeframe } = {}) =>\r\n\t\t\tselectTotalMoney(state, { side, timeframe }),\r\n\t\t(state, { side, timeframe } = {}) =>\r\n\t\t\tselectTotalImpressionsWithPayouts(state, { side, timeframe }),\r\n\t],\r\n\t(totalMoney, totalImpressions) =>\r\n\t\ttotalMoney !== null && totalImpressions !== null\r\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\r\n\t\t\t: null\r\n)\r\n\r\nconst parseValueByMetric = ({ value, metric }) => {\r\n\tswitch (metric) {\r\n\t\tcase 'eventPayouts':\r\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\r\n\t\tcase 'eventCounts':\r\n\t\t\treturn parseInt(value, 10)\r\n\t\tdefault:\r\n\t\t\treturn value\r\n\t}\r\n}\r\n\r\nexport const selectStatsChartData = createSelector(\r\n\t[\r\n\t\t(state, { noLastOne, ...rest } = {}) => {\r\n\t\t\treturn { data: selectAnalyticsDataAggr(state, rest), noLastOne, ...rest }\r\n\t\t},\r\n\t],\r\n\t({ data = [], noLastOne, metric, ...rest }) => {\r\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\r\n\t\treturn aggr.reduce(\r\n\t\t\t(memo, item) => {\r\n\t\t\t\tconst { time, value } = item\r\n\t\t\t\tmemo.labels.push(formatDateTime(time))\r\n\t\t\t\tmemo.datasets.push(\r\n\t\t\t\t\tvalue !== null ? parseValueByMetric({ value, metric }) : value\r\n\t\t\t\t)\r\n\t\t\t\treturn memo\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabels: [],\r\n\t\t\t\tdatasets: [],\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n)\r\n\r\nexport const selectChartDatapointsImpressions = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: true,\r\n\t\t}),\r\n\t],\r\n\t([impressions]) => impressions\r\n)\r\n\r\nexport const selectChartDatapointsClicks = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'CLICK',\r\n\t\t\tmetric: 'eventCounts',\r\n\t\t\tnoLastOne: true,\r\n\t\t}),\r\n\t],\r\n\t([clicks]) => clicks\r\n)\r\n\r\nexport const selectChartDatapointsPayouts = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectStatsChartData(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t\teventType: 'IMPRESSION',\r\n\t\t\tmetric: 'eventPayouts',\r\n\t\t\tnoLastOne: true,\r\n\t\t}),\r\n\t],\r\n\t([payouts]) => payouts\r\n)\r\n\r\nexport const selectChartDatapointsCPM = createSelector(\r\n\t(state, { side, timeframe } = {}) => [\r\n\t\tselectChartDatapointsPayouts(state, { side, timeframe }),\r\n\t\tselectChartDatapointsImpressions(state, { side, timeframe }),\r\n\t],\r\n\t([payouts, impressions]) => {\r\n\t\tconst result = {\r\n\t\t\tlabels: [],\r\n\t\t\tdatasets: [],\r\n\t\t}\r\n\t\tresult.labels = payouts.labels\r\n\t\tresult.datasets = payouts.datasets.map((n, i) => {\r\n\t\t\treturn impressions.datasets[i] !== 0\r\n\t\t\t\t? ((n / impressions.datasets[i]) * 1000).toFixed(6)\r\n\t\t\t\t: n\r\n\t\t})\r\n\t\treturn result\r\n\t}\r\n)\r\n\r\nexport const selectPublisherRevenueNoticeActive = createSelector(\r\n\t[selectPublisherTotalImpressions, selectWebsites],\r\n\t(totalImpressions, websites) =>\r\n\t\t(websites.length && websites.some(w => w.issuss.length === 0)) ||\r\n\t\t!totalImpressions\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectValidations = state => state.memory.validations\r\n\r\nexport const selectValidationsById = createSelector(\r\n\t[selectValidations, (_, id) => id],\r\n\t(validations, id) => validations[id]\r\n)\r\n\r\nexport const selectMultipleValidationsByIds = createSelector(\r\n\t[selectValidations, (_, ids) => ids],\r\n\t(validations, ids) => ids.map(id => validations[id])\r\n)\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectNewTransactions = state => state.memory.newTransactions\r\n\r\nexport const selectNewTransactionById = createSelector(\r\n\t[selectNewTransactions, (_, id) => id],\r\n\t(txns, id) => txns[id] || {}\r\n)\r\n","import {\r\n\tCampaign as CampaignModel,\r\n\tAdUnit as AdUnitModel,\r\n\tAdSlot as AdSlotModel,\r\n} from 'adex-models'\r\n\r\nimport { createSelector } from 'reselect'\r\n\r\nexport const selectNewItems = state => state.memory.newItem\r\n\r\nexport const selectNewCampaign = createSelector(\r\n\tselectNewItems,\r\n\t({ Campaign }) => new CampaignModel(Campaign)\r\n)\r\n\r\nexport const selectNewAdUnit = createSelector(\r\n\tselectNewItems,\r\n\t({ AdUnit }) => new AdUnitModel(AdUnit)\r\n)\r\n\r\nexport const selectNewAdSlot = createSelector(\r\n\tselectNewItems,\r\n\t({ AdSlot }) => new AdSlotModel(AdSlot)\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectCampaignsArray,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectAdSlotsArray,\r\n\tselectAdUnits,\r\n\tcreatArrayOnlyLengthChangeSelector,\r\n\tselectCampaignAnalyticsByChannelStats,\r\n\tselectCampaignEventsCount,\r\n\tselectCampaignAnalyticsByChannelToAdUnit,\r\n\tselectTotalStatsByAdUnits,\r\n\tselectCampaignUnitsById,\r\n} from 'selectors'\r\nimport { formatUnits } from 'ethers/utils'\r\n\r\nexport const selectCampaignsTableData = createSelector(\r\n\t[selectCampaignsArray, selectRoutineWithdrawTokens, (_, side) => side],\r\n\t(campaigns, tokens, side) =>\r\n\t\tcampaigns.map(item => {\r\n\t\t\tconst { decimals = 18 } = tokens[item.depositAsset] || {}\r\n\t\t\tconst { id, spec = {}, adUnits = [] } = item\r\n\r\n\t\t\tconst firstUnit = adUnits[0] || {}\r\n\r\n\t\t\tconst to = `/dashboard/${side}/campaigns/${id}`\r\n\t\t\tconst toReceipt = `/dashboard/${side}/receipt/${id}`\r\n\r\n\t\t\treturn {\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tside,\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl: firstUnit.mediaUrl || '',\r\n\t\t\t\t\tmediaMime: firstUnit.mediaMime || '',\r\n\t\t\t\t\tto,\r\n\t\t\t\t},\r\n\t\t\t\ttitle: item.title,\r\n\t\t\t\tstatus: {\r\n\t\t\t\t\thumanFriendlyName: item.status.humanFriendlyName,\r\n\t\t\t\t\toriginalName: item.status.name,\r\n\t\t\t\t},\r\n\t\t\t\tdepositAmount: Number(formatUnits(item.depositAmount || '0', decimals)),\r\n\t\t\t\tfundsDistributedRatio: item.status.fundsDistributedRatio || 0,\r\n\t\t\t\timpressions: selectCampaignEventsCount('IMPRESSION', id),\r\n\t\t\t\tclicks: selectCampaignEventsCount('CLICK', id),\r\n\r\n\t\t\t\tctr:\r\n\t\t\t\t\t(selectCampaignEventsCount('CLICK', id) /\r\n\t\t\t\t\t\tselectCampaignEventsCount('IMPRESSION', id)) *\r\n\t\t\t\t\t\t100 || 0,\r\n\r\n\t\t\t\tminPerImpression: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tminPerImpression:\r\n\t\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t\tformatUnits(\r\n\t\t\t\t\t\t\t\tspec.minPerImpression || item.minPerImpression || '0',\r\n\t\t\t\t\t\t\t\tdecimals\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t) * 1000,\r\n\t\t\t\t},\r\n\t\t\t\tcreated: item.created,\r\n\t\t\t\tactiveFrom: spec.activeFrom || item.activeFrom,\r\n\t\t\t\twithdrawPeriodStart:\r\n\t\t\t\t\tspec.withdrawPeriodStart || item.withdrawPeriodStart,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tside,\r\n\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tto,\r\n\t\t\t\t\ttoReceipt,\r\n\t\t\t\t\treceiptReady:\r\n\t\t\t\t\t\t(item.status.humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\t\t\titem.status.humanFriendlyName === 'Completed') &&\r\n\t\t\t\t\t\t(item.status.name === 'Exhausted' ||\r\n\t\t\t\t\t\t\titem.status.name === 'Expired'),\r\n\t\t\t\t},\r\n\t\t\t\tid,\r\n\t\t\t\treceiptAvailable:\r\n\t\t\t\t\titem.status.humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\titem.status.humanFriendlyName === 'Completed',\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectCampaignsTableDataOnLengthChange = creatArrayOnlyLengthChangeSelector(\r\n\tselectCampaignsTableData,\r\n\tdata => data\r\n)\r\n\r\nexport const selectCampaignsMaxImpressions = createSelector(\r\n\tselectCampaignsArray,\r\n\tcampaigns =>\r\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.impressions || 0))) || 1\r\n)\r\n\r\nexport const selectCampaignsMaxClicks = createSelector(\r\n\tselectCampaignsArray,\r\n\tcampaigns =>\r\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.clicks || 0))) || 1\r\n)\r\n\r\nexport const selectCampaignsMaxDeposit = createSelector(\r\n\t[selectCampaignsArray, selectRoutineWithdrawTokens],\r\n\t(campaigns, tokens) =>\r\n\t\tMath.max.apply(\r\n\t\t\tnull,\r\n\t\t\tcampaigns.map(i => {\r\n\t\t\t\tconst { decimals = 18 } = tokens[i.depositAsset] || {}\r\n\t\t\t\treturn Number(formatUnits(i.depositAmount, decimals) || 0)\r\n\t\t\t})\r\n\t\t)\r\n)\r\n\r\nexport const selectAdSlotsTableData = createSelector(\r\n\t[selectAdSlotsArray, (_, side) => side],\r\n\t(slots, side) =>\r\n\t\tslots.map(item => {\r\n\t\t\tconst id = item.id || item.ipfs\r\n\t\t\tconst to = `/dashboard/${side}/slots/${id}`\r\n\t\t\treturn {\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl: item.fallbackUnit ? `ipfs://${item.fallbackUnit}` : '', //TODO: provide fallback image to slot\r\n\t\t\t\t\tmediaMime: 'image/jpeg',\r\n\t\t\t\t\tto,\r\n\t\t\t\t},\r\n\t\t\t\ttitle: item.title,\r\n\t\t\t\ttype: item.type.replace('legacy_', ''),\r\n\t\t\t\tcreated: item.created,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tto,\r\n\t\t\t\t\titem,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectAdUnitsTableData = createSelector(\r\n\t[\r\n\t\t(state, { side, campaignId, items }) => ({\r\n\t\t\tside,\r\n\t\t\titems:\r\n\t\t\t\titems ||\r\n\t\t\t\t(campaignId\r\n\t\t\t\t\t? selectCampaignUnitsById(state, campaignId)\r\n\t\t\t\t\t: selectAdUnits(state)),\r\n\t\t\timpressionsByAdUnit: id =>\r\n\t\t\t\tcampaignId\r\n\t\t\t\t\t? selectCampaignAnalyticsByChannelToAdUnit(state, {\r\n\t\t\t\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t  })[id]\r\n\t\t\t\t\t: selectTotalStatsByAdUnits(state, {\r\n\t\t\t\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\t\t\t\tadUnitId: id,\r\n\t\t\t\t\t  }),\r\n\t\t\tclicksByAdUnit: id =>\r\n\t\t\t\tcampaignId\r\n\t\t\t\t\t? selectCampaignAnalyticsByChannelToAdUnit(state, {\r\n\t\t\t\t\t\t\ttype: 'CLICK',\r\n\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t  })[id]\r\n\t\t\t\t\t: selectTotalStatsByAdUnits(state, {\r\n\t\t\t\t\t\t\ttype: 'CLICK',\r\n\t\t\t\t\t\t\tadUnitId: id,\r\n\t\t\t\t\t  }),\r\n\t\t}),\r\n\t],\r\n\t({ side, items, impressionsByAdUnit, clicksByAdUnit }) =>\r\n\t\tObject.values(items).map(item => {\r\n\t\t\tconst id = item.id || item.ipfs\r\n\t\t\tconst to = `/dashboard/${side}/units/${id}`\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tmedia: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tmediaUrl: item.mediaUrl,\r\n\t\t\t\t\tmediaMime: item.mediaMime,\r\n\t\t\t\t\tto,\r\n\t\t\t\t},\r\n\t\t\t\timpressions: impressionsByAdUnit(id) || 0,\r\n\t\t\t\tclicks: clicksByAdUnit(id) || 0,\r\n\t\t\t\tctr: (clicksByAdUnit(id) / impressionsByAdUnit(id)) * 100 || 0,\r\n\t\t\t\ttitle: item.title,\r\n\t\t\t\ttype: item.type,\r\n\t\t\t\tcreated: item.created,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\tto,\r\n\t\t\t\t\titem,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n)\r\n\r\nexport const selectCampaignStatsTableData = createSelector(\r\n\t(state, campaignId) => {\r\n\t\treturn {\r\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'CLICK',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t}\r\n\t},\r\n\t({ impressions, clicks }) => {\r\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\r\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\r\n\t\tconst earnStats = impressions.reportChannelToHostnamePay || {}\r\n\t\treturn Object.keys(imprStats).map(key => ({\r\n\t\t\twebsite: key,\r\n\t\t\timpressions: imprStats[key] || 0,\r\n\t\t\tctr:\r\n\t\t\t\t(((clickStats[key] || 0) / (imprStats[key] || 0)) * 100).toFixed(2) ||\r\n\t\t\t\t0,\r\n\t\t\tearnings: Number((earnStats[key] || 0).toFixed(2)),\r\n\t\t\tclicks: clickStats[key] || 0,\r\n\t\t}))\r\n\t}\r\n)\r\n\r\nexport const selectCampaignTotalValues = createSelector(\r\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\t\t\t\tnewResult.totalClicks += current.clicks\r\n\t\t\t\tnewResult.totalImpressions += current.impressions\r\n\t\t\t\tnewResult.totalEarnings += current.earnings\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ totalClicks: 0, totalImpressions: 0, totalEarnings: 0 }\r\n\t\t)\r\n)\r\n\r\nexport const selectCampaignStatsMaxValues = createSelector(\r\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\r\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\r\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\r\n\t\t\t\tnewResult.maxImpressions = Math.max(\r\n\t\t\t\t\tcurrent.impressions,\r\n\t\t\t\t\tnewResult.maxImpressions\r\n\t\t\t\t)\r\n\t\t\t\tnewResult.maxEarnings = Math.max(\r\n\t\t\t\t\tcurrent.earnings,\r\n\t\t\t\t\tnewResult.maxEarnings\r\n\t\t\t\t)\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxEarnings: 0, maxCTR: 0 }\r\n\t\t)\r\n)\r\n\r\nexport const selectAdUnitsStatsMaxValues = createSelector(\r\n\t(state, { side, items, campaignId }) =>\r\n\t\tselectAdUnitsTableData(state, { side, items, campaignId }),\r\n\tdata =>\r\n\t\tdata.reduce(\r\n\t\t\t(result, current) => {\r\n\t\t\t\tconst newResult = { ...result }\r\n\r\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\r\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\r\n\t\t\t\tnewResult.maxImpressions = Math.max(\r\n\t\t\t\t\tcurrent.impressions,\r\n\t\t\t\t\tnewResult.maxImpressions\r\n\t\t\t\t)\r\n\t\t\t\treturn newResult\r\n\t\t\t},\r\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxCTR: 0 }\r\n\t\t)\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport { t, selectCampaignAnalyticsByChannelStats } from 'selectors'\r\n\r\nexport const selectCampaignDoughnutStats = createSelector(\r\n\t(state, { campaignId, chartColors, maxDataSets }) => {\r\n\t\tconst analytics = {\r\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'IMPRESSION',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\r\n\t\t\t\ttype: 'CLICK',\r\n\t\t\t\tcampaignId,\r\n\t\t\t}),\r\n\t\t}\r\n\r\n\t\treturn { ...analytics, chartColors, maxDataSets }\r\n\t},\r\n\t({ impressions, clicks, chartColors, maxDataSets }) => {\r\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\r\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\r\n\r\n\t\tconst { labels, impressionsData, clicksData } = Object.keys(imprStats)\r\n\t\t\t.sort((a, b) => imprStats[b] - imprStats[a])\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, key, i) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tif (i < maxDataSets) {\r\n\t\t\t\t\t\tnewData.labels.push(key)\r\n\t\t\t\t\t\tnewData.impressionsData.push(imprStats[key] || 0)\r\n\t\t\t\t\t\tdata.clicksData.push(clickStats[key] || 0)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdata.labels[maxDataSets] = t('PIE_CHART_OTHER')\r\n\r\n\t\t\t\t\t\tdata.impressionsData[maxDataSets] =\r\n\t\t\t\t\t\t\t(data.impressionsData[maxDataSets] || 0) + (imprStats[key] || 0)\r\n\r\n\t\t\t\t\t\tdata.clicksData[maxDataSets] =\r\n\t\t\t\t\t\t\t(data.clicksData[maxDataSets] || 0) + (clickStats[key] || 0)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{ labels: [], impressionsData: [], clicksData: [] }\r\n\t\t\t)\r\n\r\n\t\tconst data = {\r\n\t\t\tlabels,\r\n\t\t\tdatasets: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: chartColors,\r\n\t\t\t\t\thoverBackgroundColor: chartColors,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: impressionsData,\r\n\t\t\t\t\tlabel: t('CHART_LABEL_IMPRESSIONS'),\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: chartColors,\r\n\t\t\t\t\thoverBackgroundColor: chartColors,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: clicksData,\r\n\t\t\t\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t}\r\n\r\n\t\treturn data\r\n\t}\r\n)\r\n","import { bigNumberify } from 'ethers/utils'\r\nimport { t, selectDemandAnalytics, selectMainToken } from 'selectors'\r\nimport { createSelector } from 'reselect'\r\nimport { constants } from 'adex-models'\r\n\r\nexport const selectSlotTypesSourceWithDemands = createSelector(\r\n\t[selectDemandAnalytics, selectMainToken],\r\n\t(demand, { symbol }) => {\r\n\t\tconst { source } = constants.AdUnitsTypes.map(type => {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: type,\r\n\t\t\t\tlabel: type.split('_')[1],\r\n\t\t\t\tdemand: demand[type],\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.sort((a, b) => {\r\n\t\t\t\tconst dA = bigNumberify(a.demand ? a.demand.raw.avgCPM : 0)\r\n\t\t\t\tconst dB = bigNumberify(b.demand ? b.demand.raw.avgCPM : 0)\r\n\r\n\t\t\t\treturn dA.gt(dB) ? -1 : dB.gt(dA) ? 1 : 0\r\n\t\t\t})\r\n\t\t\t.reduce(\r\n\t\t\t\t(data, type, index) => {\r\n\t\t\t\t\tconst newData = { ...data }\r\n\t\t\t\t\tconst source = newData.source\r\n\t\t\t\t\tconst current = type\r\n\t\t\t\t\tif (index === 0 && type.demand) {\r\n\t\t\t\t\t\tnewData.hasPopularGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('POPULAR_SLOTS_TYPES') })\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t!newData.hasNoDemandGroup &&\r\n\t\t\t\t\t\tnewData.hasPopularGroup &&\r\n\t\t\t\t\t\tindex !== 0 &&\r\n\t\t\t\t\t\t!type.demand\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tnewData.hasNoDemandGroup = true\r\n\t\t\t\t\t\tsource.push({ group: t('NO_DEMAND_SLOTS_TYPES') })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (current.demand) {\r\n\t\t\t\t\t\tconst demandIfo = t('SLOT_TYPE_DEMAND_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.avgCPM,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.totalVolume,\r\n\t\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tcurrent.label = `${current.label} (${demandIfo})`\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsource.push(current)\r\n\r\n\t\t\t\t\tnewData.source = source\r\n\r\n\t\t\t\t\treturn newData\r\n\t\t\t\t},\r\n\t\t\t\t{ source: [], hasPopularGroup: false, hasNoDemandGroup: false }\r\n\t\t\t)\r\n\t\treturn source\r\n\t}\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectAdUnitsArray,\r\n\tselectCampaignsArray,\r\n\tselectAdSlotsArray,\r\n\tselectAccountIdentityDeployData,\r\n\tselectAccountStatsFormatted,\r\n\tselectPublisherTotalImpressions,\r\n} from 'selectors'\r\n\r\nexport const selectHasCreatedAdUnit = createSelector(\r\n\t[selectAdUnitsArray],\r\n\tadUnitsArray => adUnitsArray.length > 0\r\n)\r\n\r\nexport const selectHasCreatedCampaign = createSelector(\r\n\t[selectCampaignsArray],\r\n\tcampaignsArray => campaignsArray.length > 0\r\n)\r\n\r\nexport const selectHasConfirmedEmail = createSelector(\r\n\t[selectAccountIdentityDeployData],\r\n\t({ meta }) => !!meta.emailConfirmed\r\n)\r\n\r\nexport const selectHasFundedAccount = createSelector(\r\n\t[selectAccountStatsFormatted, selectHasCreatedCampaign],\r\n\t({ identityBalanceMainToken }, hasCampaign) =>\r\n\t\thasCampaign || Number(identityBalanceMainToken) > 0\r\n)\r\n\r\nexport const selectHasCreatedAdSlot = createSelector(\r\n\tselectAdSlotsArray,\r\n\tadSlotsArray => adSlotsArray.length > 0\r\n)\r\n\r\nexport const selectHasAdSlotImpressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 0\r\n)\r\nexport const selectHas5000Impressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 5000\r\n)\r\n\r\nexport const sectStepsData = createSelector(\r\n\t[\r\n\t\tselectHasCreatedAdUnit,\r\n\t\tselectHasCreatedCampaign,\r\n\t\tselectHasCreatedAdSlot,\r\n\t\tselectHasConfirmedEmail,\r\n\t\tselectHasFundedAccount,\r\n\t\tselectHasAdSlotImpressions,\r\n\t\tselectHas5000Impressions,\r\n\t],\r\n\t(\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions\r\n\t) => ({\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions,\r\n\t})\r\n)\r\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectCampaignById,\r\n\tselectAdUnitById,\r\n\tselectAdSlotById,\r\n\tt,\r\n} from 'selectors'\r\n\r\nexport const selectLocation = state => state.router.location\r\n\r\nexport const selectSearch = createSelector(\r\n\tselectLocation,\r\n\t({ search }) => search\r\n)\r\n\r\nexport const selectLocationQuery = createSelector(\r\n\tselectLocation,\r\n\t({ query }) => query || {}\r\n)\r\n\r\nexport const selectSearchParams = createSelector(\r\n\tselectLocation,\r\n\t({ search }) => new URLSearchParams(search)\r\n)\r\n\r\nconst ITEMS_SELECTORS = {\r\n\tcampaigns: selectCampaignById,\r\n\treceipt: selectCampaignById,\r\n\tunits: selectAdUnitById,\r\n\tslots: selectAdSlotById,\r\n}\r\n\r\nconst SIDES = {\r\n\tadvertiser: true,\r\n\tpublisher: true,\r\n}\r\n\r\nexport const selectDashboardBreadcrumbs = createSelector(\r\n\t[selectLocation, state => state],\r\n\t({ pathname = '' }, state) => {\r\n\t\tconst paths = pathname.split('/').filter(x => !!x)\r\n\t\tconst sideDashboard = paths.slice(0, 2)\r\n\r\n\t\t// NOTE: no breadcrumbs if no side dashboard\r\n\t\tif (sideDashboard[0] !== 'dashboard' || !SIDES[sideDashboard[1]]) {\r\n\t\t\treturn []\r\n\t\t}\r\n\r\n\t\tconst sideDashboardBC = {\r\n\t\t\tto: `/${sideDashboard.join('/')}`,\r\n\t\t\tlabel: 'dashboard',\r\n\t\t}\r\n\r\n\t\tconst rest = paths.slice(2)\r\n\r\n\t\tconst restBC = rest.map((x, index) => {\r\n\t\t\tconst prev = rest[index - 1]\r\n\t\t\tconst selector = ITEMS_SELECTORS[prev]\r\n\r\n\t\t\tlet label = x\r\n\r\n\t\t\tif (selector) {\r\n\t\t\t\tconst { title } = selector(state, x) || {}\r\n\t\t\t\tlabel = title || label\r\n\t\t\t}\r\n\r\n\t\t\tconst bc = {\r\n\t\t\t\tlabel,\r\n\t\t\t}\r\n\r\n\t\t\tif (index < rest.length - 1) {\r\n\t\t\t\tconst restCopy = [...rest]\r\n\r\n\t\t\t\tconst receiptAt = restCopy.indexOf('receipt')\r\n\t\t\t\t// NOTE: go to campaign on receipt breadcrumb\r\n\t\t\t\tif (receiptAt >= 0) {\r\n\t\t\t\t\trestCopy[receiptAt] = 'campaigns'\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbc.to = `${sideDashboardBC.to}/${restCopy\r\n\t\t\t\t\t.slice(0, index + 1)\r\n\t\t\t\t\t.join('/')}`\r\n\t\t\t}\r\n\r\n\t\t\treturn bc\r\n\t\t})\r\n\r\n\t\tconst breadcrumbs = [sideDashboardBC, ...restBC].map(b => ({\r\n\t\t\t...b,\r\n\t\t\tlabel:\r\n\t\t\t\tt(b.label.toUpperCase()) !== b.label.toUpperCase()\r\n\t\t\t\t\t? t(b.label.toUpperCase())\r\n\t\t\t\t\t: b.label,\r\n\t\t}))\r\n\r\n\t\treturn breadcrumbs || []\r\n\t}\r\n)\r\n","export * from './selectors'\r\nexport * from './configSelectors'\r\nexport * from './accountSelectors'\r\nexport * from './identitySelectors'\r\nexport * from './uiSelectors'\r\nexport * from './translationsSelectors'\r\nexport * from './itemsSelectors'\r\nexport * from './analyticsSelectors'\r\nexport * from './validationsSelectors'\r\nexport * from './newTransactionSelectors'\r\nexport * from './newItemsSelectors'\r\nexport * from './tablesDataSelectors'\r\nexport * from './chartsSelectors'\r\nexport * from './dataSelectors'\r\nexport * from './gettingStartedSelectors'\r\nexport * from './locationSelectors'\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { constants } from 'adex-models'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport { bigNumberify, formatEther } from 'ethers/utils'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectFeeTokenWhitelist,\r\n} from 'selectors'\r\n\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\r\n\tif (token.address === mainToken.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\r\n\r\n\t// approve + swap txns\r\n\tconst swapFees = bigNumberify(feeToken.min).mul(bigNumberify(2))\r\n\r\n\tconst isAvailable = swapFees.mul(bigNumberify(2)).lte(balance)\r\n\treturn isAvailable ? balance : bigNumberify(0)\r\n}\r\n\r\nexport const getTotalAccountRevenue = async ({ all }) => {\r\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\r\n\tconst totalRevenue = await Object.values(all).reduce(\r\n\t\tasync (revenuePr, { balance, depositAsset } = {}) => {\r\n\t\t\tconst revenue = await revenuePr\r\n\r\n\t\t\tconst token = withdrawTokens[depositAsset]\r\n\r\n\t\t\tconst hasMinBalance = bigNumberify(balance).gt(\r\n\t\t\t\tbigNumberify(token.minFinal)\r\n\t\t\t)\r\n\r\n\t\t\tconst balanceMainToken = hasMinBalance\r\n\t\t\t\t? await tokenInMainTokenValue({\r\n\t\t\t\t\t\ttoken,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t  })\r\n\t\t\t\t: bigNumberify(0)\r\n\r\n\t\t\treturn revenue.add(balanceMainToken)\r\n\t\t},\r\n\t\tPromise.resolve(bigNumberify(0))\r\n\t)\r\n\r\n\treturn totalRevenue\r\n}\r\n\r\nexport const getWithdrawTokensBalances = async ({\r\n\tauthType,\r\n\taddress,\r\n\tgetFullBalances,\r\n}) => {\r\n\tconst { getToken } = await getEthers(authType)\r\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\r\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\r\n\t\tconst tokenContract = getToken(token)\r\n\r\n\t\tconst balance = await tokenContract.balanceOf(address)\r\n\r\n\t\tconst available = getFullBalances\r\n\t\t\t? balance\r\n\t\t\t: tokenAvailableBalance({\r\n\t\t\t\t\ttoken,\r\n\t\t\t\t\tmainToken,\r\n\t\t\t\t\tbalance,\r\n\t\t\t  })\r\n\r\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: available,\r\n\t\t})\r\n\r\n\t\treturn { token, balance: available, balanceMainToken }\r\n\t})\r\n\r\n\tconst balances = await Promise.all(balancesCalls)\r\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\r\n\t\t(data, balanceData) => {\r\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\r\n\t\t\t\tbalanceData.balanceMainToken\r\n\t\t\t)\r\n\r\n\t\t\tif (balanceData.token.address === mainToken.address) {\r\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\r\n\t\t\t}\r\n\r\n\t\t\treturn data\r\n\t\t},\r\n\t\t{\r\n\t\t\ttotalBalanceInMainToken: bigNumberify(0),\r\n\t\t\tmainTokenBalance: bigNumberify(0),\r\n\t\t}\r\n\t)\r\n\r\n\treturn {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t\ttotalBalanceInMainToken,\r\n\t}\r\n}\r\n\r\nexport async function getAddressBalances({\r\n\taddress,\r\n\tauthType,\r\n\tgetFullBalances,\r\n}) {\r\n\tconst { provider } = await getEthers(authType)\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(address.address),\r\n\t\tgetWithdrawTokensBalances({\r\n\t\t\tauthType,\r\n\t\t\taddress: address.address,\r\n\t\t\tgetFullBalances,\r\n\t\t}),\r\n\t]\r\n\r\n\tconst balances = await Promise.all(calls)\r\n\tconst formatted = {\r\n\t\taddress: address.address,\r\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\r\n\t\tbalanceEth: formatEther(balances[0].toString()),\r\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\r\n\t\t\treturn {\r\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\r\n\t\t\t\tsymbol: token.symbol,\r\n\t\t\t}\r\n\t\t}),\r\n\t}\r\n\r\n\treturn formatted\r\n}\r\n\r\nexport async function getAccountStats({\r\n\taccount,\r\n\toutstandingBalanceMainToken = {\r\n\t\ttotal: bigNumberify('0'),\r\n\t\tavailable: bigNumberify('0'),\r\n\t},\r\n\tall,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { authType } = wallet\r\n\tconst { address } = identity\r\n\tconst { getIdentity } = await getEthers(authType)\r\n\tconst { decimals } = selectMainToken()\r\n\r\n\tconst { status = {} } = identity\r\n\tconst identityContract = getIdentity({ address })\r\n\tlet privilegesAction\r\n\ttry {\r\n\t\tawait identityContract.deployed()\r\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\r\n\t} catch {\r\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\r\n\t}\r\n\r\n\tconst calls = [\r\n\t\tgetWithdrawTokensBalances({ authType, address }),\r\n\t\tprivilegesAction,\r\n\t\tgetTotalAccountRevenue({ all }),\r\n\t]\r\n\r\n\tconst [\r\n\t\tidentityWithdrawTokensBalancesBalances = {},\r\n\t\twalletPrivileges,\r\n\t\ttotalRevenue,\r\n\t] = await Promise.all(\r\n\t\tcalls.map(c =>\r\n\t\t\tc\r\n\t\t\t\t.then(res => res)\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\treturn undefined\r\n\t\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\tconst identityBalanceMainToken =\r\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken\r\n\r\n\t// BigNumber values for balances\r\n\tconst raw = {\r\n\t\tidentityWithdrawTokensBalancesBalances,\r\n\t\twalletPrivileges,\r\n\t\tidentityBalanceMainToken,\r\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\r\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\r\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.available\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\r\n\t\t\toutstandingBalanceMainToken.total\r\n\t\t),\r\n\t\ttotalRevenue,\r\n\t}\r\n\r\n\tconst formatted = {\r\n\t\twalletAddress: wallet.address,\r\n\t\twalletAuthType: wallet.authType,\r\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\r\n\t\tidentityAddress: identity.address,\r\n\t\tidentityBalanceMainToken: formatTokenAmount(\r\n\t\t\tidentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\toutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.outstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalOutstandingBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.availableIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\r\n\t\t\traw.totalIdentityBalanceMainToken,\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalRevenue: formatTokenAmount(\r\n\t\t\traw.totalRevenue || '0',\r\n\t\t\tdecimals,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t}\r\n\r\n\treturn {\r\n\t\traw,\r\n\t\tformatted,\r\n\t}\r\n}\r\n\r\n// NOTE: currently working because DAI and SAI has the same price and decimals\r\n// We should use getOutstandingBalanceMainToken if changed\r\nexport async function getOutstandingBalance({ withBalance }) {\r\n\tconst bigZero = bigNumberify(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable } = ch\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstanding)\r\n\t\tcurrent.available = current.available.add(\r\n\t\t\tbigNumberify(outstandingAvailable)\r\n\t\t)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\r\n\tconst tokens = selectRoutineWithdrawTokens()\r\n\tconst bigZero = bigNumberify(0)\r\n\r\n\tconst initial = { total: bigZero, available: bigZero }\r\n\r\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\r\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\r\n\t\tconst { depositAsset } = channel\r\n\t\tconst token = tokens[depositAsset]\r\n\r\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\r\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\r\n\t\t\ttoken,\r\n\t\t\tbalance: outstandingAvailable,\r\n\t\t})\r\n\r\n\t\tconst current = { ...amounts }\r\n\t\tcurrent.total = current.total.add(outstandingMT)\r\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\r\n\r\n\t\treturn current\r\n\t}, initial)\r\n\r\n\treturn allOutstanding\r\n}\r\n\r\nexport async function getAllValidatorsAuthForIdentity({\r\n\twithBalance,\r\n\taccount,\r\n}) {\r\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\r\n\r\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\r\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\r\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\r\n\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\r\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\tconst keys = Object.keys(allValidators)\r\n\r\n\tconst tokenCalls = keys.map(async key => {\r\n\t\tif (allValidators[key]) {\r\n\t\t\treturn allValidators[key]\r\n\t\t} else {\r\n\t\t\tconst token = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: key,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\treturn token\r\n\t\t}\r\n\t})\r\n\r\n\tconst allTokens = await Promise.all(tokenCalls)\r\n\r\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[key]: allTokens[index],\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\treturn validatorsAuth\r\n}\r\n\r\nconst saiDaiConversion = async ({ token, balance }) => balance\r\n\r\nconst valueInMainTokenConversions = {\r\n\t// SAI\r\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\r\n\t\t// DAI\r\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\r\n\t},\r\n\t// DAI\r\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\r\n\t\t// SAI\r\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\r\n\t},\r\n}\r\n\r\nexport async function tokenInMainTokenValue({ token, balance }) {\r\n\tconst { address } = selectMainToken()\r\n\r\n\tif (address === token.address) {\r\n\t\treturn balance\r\n\t}\r\n\r\n\tconst valueInMainToken = await valueInMainTokenConversions[\r\n\t\taddress.toLowerCase()\r\n\t][token.address.toLowerCase()]({\r\n\t\ttoken,\r\n\t\tbalance,\r\n\t})\r\n\r\n\treturn valueInMainToken\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport TrezorConnect from 'trezor-connect'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\r\n\r\nTrezorConnect.manifest({\r\n\temail: 'contactus@adex.network',\r\n\tappUrl: 'http://adex.network',\r\n})\r\n\r\nexport default class TrezorSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\r\n\t\tconst bundle = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tbundle.push({\r\n\t\t\t\tpath: this.path + `/${index}`,\r\n\t\t\t\tshowOnTrezor: false,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn { bundle }\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\r\n\t\t\tthis.getAddsParams({ from, to })\r\n\t\t)\r\n\r\n\t\treturn { success, payload }\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\r\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\r\n\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\r\n\t\t\tpath: this.path,\r\n\t\t\ttransaction: txProps,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst signature = {\r\n\t\t\t\tr: payload.r,\r\n\t\t\t\ts: payload.s,\r\n\t\t\t\tv: parseInt(payload.v),\r\n\t\t\t}\r\n\r\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\t\treturn txSigned\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\r\n\t\t\tpath: this.path,\r\n\t\t\tmessage: message,\r\n\t\t\thex: !!opts.hex,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst res = {\r\n\t\t\t\t/*\r\n\t\t\t\t * NOTE: SignatureTypes.GETH\r\n\t\t\t\t * Current TrezorConnect window does not\r\n\t\t\t\t * accept device with old firmware\r\n\t\t\t\t */\r\n\t\t\t\tsignature: '0x' + payload.signature,\r\n\t\t\t\thash: message,\r\n\t\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\t\taddress: payload.address,\r\n\t\t\t}\r\n\r\n\t\t\treturn res\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new TrezorSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","import { Signer, utils, Wallet } from 'ethers'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class LocalSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\r\n\t\tthis._provider = provider\r\n\t\tthis._opts = opts\r\n\t}\r\n\r\n\tgetWallet = async () => {\r\n\t\tif (this._wallet) {\r\n\t\t\treturn this._wallet\r\n\t\t} else {\r\n\t\t\tconst { email, password, authType } = this._opts\r\n\t\t\tconst walletData = await getLocalWallet({\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\r\n\t\t\treturn this._wallet\r\n\t\t}\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn await this.getWallet().address\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst signetTx = await this.getWallet().sign(params)\r\n\t\treturn signetTx\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst wallet = await this.getWallet()\r\n\r\n\t\tconst signature = await wallet.signMessage(message)\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: wallet.address,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LocalSigner(provider, {\r\n\t\t\temail: this.email,\r\n\t\t\tpassword: this.password,\r\n\t\t})\r\n\t}\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class MetaMaskSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._signer = provider.getSigner()\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._signer.getAddress()\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\treturn this._signer.sendTransaction(params)\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._signer.signMessage(message)\r\n\t\t// TODO: support EIP712\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: await this._signer.getAddress(),\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new MetaMaskSigner(provider)\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\r\nimport LedgerSigner from 'services/smart-contracts/signers/ledger'\r\nimport LocalSigner from 'services/smart-contracts/signers/local'\r\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\r\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\r\n\r\nexport async function getSigner({ wallet, provider }) {\r\n\t// TODO: Maybe get provider here?\r\n\tconst { authType, path, email, password } = wallet\r\n\r\n\tif (authType === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst signer = new MetaMaskSigner(provider)\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.LEDGER.name) {\r\n\t\tconst signer = new LedgerSigner(provider, { path })\r\n\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.TREZOR.name) {\r\n\t\tconst signer = new TrezorSigner(provider, { path })\r\n\t\treturn signer\r\n\t}\r\n\tif (\r\n\t\tauthType === AUTH_TYPES.GRANT.name ||\r\n\t\tauthType === AUTH_TYPES.QUICK.name\r\n\t) {\r\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\r\n\r\n\t\treturn signer\r\n\t}\r\n\r\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\r\n}\r\n\r\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\r\nexport const getTypedDataHash = ({ typedData }) => {\r\n\tconst values = typedData.map(entry => {\r\n\t\treturn typeof entry.value === 'string'\r\n\t\t\t? utils.toUtf8Bytes(entry.value)\r\n\t\t\t: utils.hexlify(entry.value)\r\n\t})\r\n\tconst valuesHash = utils.keccak256.apply(null, values)\r\n\tconst schema = typedData.map(entry => {\r\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\r\n\t})\r\n\r\n\tconst schemaHash = utils.keccak256.apply(null, schema)\r\n\tconst hash = utils.solidityKeccak256(\r\n\t\t['bytes32', 'bytes32'],\r\n\t\t[schemaHash, valuesHash]\r\n\t)\r\n\r\n\treturn hash\r\n}\r\n\r\nexport async function getAuthSig({ wallet }) {\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst authToken = Math.floor(\r\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\r\n\t).toString()\r\n\r\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\r\n\tconst hash = getTypedDataHash({ typedData })\r\n\tconst signature = await signer.signMessage(hash, { hex: true })\r\n\r\n\treturn {\r\n\t\t...signature,\r\n\t\tauthToken,\r\n\t\thash,\r\n\t}\r\n}\r\n\r\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\r\n\tconst { provider } = await getEthers(authType)\r\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\r\n\r\n\treturn Promise.all(receipts)\r\n}\r\n\r\nexport async function signTx({ tx, signer }) {\r\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\r\n\t\thex: true,\r\n\t})\r\n\tconst signature = splitSig(sig.signature)\r\n\treturn signature\r\n}\r\n\r\nexport async function getMultipleTxSignatures({ txns, signer }) {\r\n\tconst signatures = []\r\n\tfor (const tx of txns) {\r\n\t\tsignatures.push(await signTx({ tx, signer }))\r\n\t}\r\n\r\n\treturn signatures\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport ewt from './ewt'\r\n\r\nconst BEARER_PREFIX = 'Bearer '\r\nconst ANALYTICS_DATA_VALIDATOR_URL = process.env.ANALYTICS_DATA_VALIDATOR_URL\r\n\r\nconst getValidatorRequester = ({ baseUrl }) => {\r\n\treturn new Requester({ baseUrl })\r\n}\r\n\r\nconst getRequesters = ({ campaign }) => {\r\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\r\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\r\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\r\n\tconst followerRequester = getValidatorRequester({\r\n\t\tbaseUrl: follower.url,\r\n\t})\r\n\r\n\treturn {\r\n\t\tleader: { requester: leaderRequester, validator: leader },\r\n\t\tfollower: { requester: followerRequester, validator: follower },\r\n\t}\r\n}\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\thandleRequesterErrorRes({ res, text })\r\n\t})\r\n}\r\n\r\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\r\n\tconst { identity, wallet } = account\r\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\r\n\tif (existingAuth) {\r\n\t\treturn existingAuth\r\n\t}\r\n\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst payload = {\r\n\t\tid: validatorId,\r\n\t\tidentity: identity.address,\r\n\t\tera: Math.floor(Date.now() / 60000),\r\n\t}\r\n\r\n\tconst token = ewt.sign(signer, payload)\r\n\r\n\treturn token\r\n}\r\n\r\nconst sendMessage = async ({ campaign, options, account }) => {\r\n\tconst { follower, leader } = getRequesters({ campaign })\r\n\r\n\tconst followerAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: follower.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst leaderAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: leader.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst followerResult = await follower.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\tconst leaderResult = await leader.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn {\r\n\t\tresults: {\r\n\t\t\tfollowerResult,\r\n\t\t\tleaderResult,\r\n\t\t},\r\n\t\tauthTokens: {\r\n\t\t\t[follower.id]: followerAuthToken,\r\n\t\t\t[leader.id]: leaderAuthToken,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const lastApprovedState = ({ campaign }) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `channel/${campaign.id}/last-approved`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaign = ({ campaign, account }) => {\r\n\tconst options = {\r\n\t\troute: `channel/${campaign.id}/events`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t}\r\n\r\n\treturn sendMessage({ campaign, options, account })\r\n}\r\n\r\nexport const identityAnalytics = async ({\r\n\tleaderAuth,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n\tside,\r\n\tsegmentByChannel,\r\n}) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/for-${side}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: {\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tlimit,\r\n\t\t\t\tsegmentByChannel,\r\n\t\t\t\teventType,\r\n\t\t\t},\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn { aggregates, metric }\r\n}\r\n\r\nexport const identityCampaignsAnalytics = async ({ leaderAuth, eventType }) => {\r\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/advanced`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType },\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn aggregates\r\n}\r\n\r\nexport const campaignAnalytics = ({\r\n\tcampaign,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n}) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/${campaign.id}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import { ethers, constants } from 'ethers'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { isEthAddress } from 'helpers/validators'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\n\r\nexport const isEthAddressERC20 = async (addr = '', authType) => {\r\n\ttry {\r\n\t\tif (isEthAddress(addr)) {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\t\tawait Promise.all([\r\n\t\t\t\tcontract.totalSupply(),\r\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\r\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\r\n\t\t\t])\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport const getERC20Balance = async ({\r\n\taddr = '',\r\n\tbalanceFor = '',\r\n\tauthType,\r\n}) => {\r\n\ttry {\r\n\t\tconst { provider } = await getEthers(authType)\r\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\tconst balance = await contract.balanceOf(balanceFor)\r\n\r\n\t\treturn balance\r\n\t} catch (error) {\r\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\r\n\t\treturn null\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\n\r\nexport const isConnectionLost = async authType => {\r\n\ttry {\r\n\t\t// When we remove Metamask\r\n\t\t// if in 5 sec doesn't connect will\r\n\t\t// return that connection is lost\r\n\t\tconst eth = await Promise.race([\r\n\t\t\tgetEthers(authType),\r\n\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\treject('Timed out')\r\n\t\t\t\t}, 5000)\r\n\t\t\t}),\r\n\t\t])\r\n\t\tawait eth.provider.getBlockNumber()\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn true\r\n\t}\r\n}\r\n","import { utils } from 'ethers'\r\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\r\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\n/*eslint-disable */\r\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\r\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\r\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\r\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\r\n/*eslint-enable */\r\n\r\nexport const validUrl = url => {\r\n\turl = url || ''\r\n\tconst isValid = urlRegex.test(url)\r\n\treturn isValid\r\n}\r\n\r\nexport const validateNumber = numberStr => {\r\n\tnumberStr = numberStr || ''\r\n\tconst isValid =\r\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\r\n\treturn isValid\r\n}\r\n\r\n// > 0\r\nexport const validPositiveInt = intStr => {\r\n\tintStr = intStr || ''\r\n\tconst isValid = onlyDigitsRegex.test(intStr)\r\n\treturn isValid\r\n}\r\n\r\nexport const validName = name => {\r\n\tlet msg = ''\r\n\tconst errMsgArgs = []\r\n\tif (!name) {\r\n\t\tmsg = 'ERR_REQUIRED_FIELD'\r\n\t} else if (name.length < 4) {\r\n\t\tmsg = 'ERR_MIN_LENGTH'\r\n\t\terrMsgArgs.push(4)\r\n\t} else if (name.length > 128) {\r\n\t\tmsg = 'ERR_MAX_LENGTH'\r\n\t\terrMsgArgs.push(128)\r\n\t}\r\n\r\n\treturn {\r\n\t\tmsg,\r\n\t\terrMsgArgs,\r\n\t}\r\n}\r\n\r\nexport const validPassword = password => {\r\n\tpassword = password || ''\r\n\tconst isValid = passwordRegex.test(password)\r\n\treturn isValid\r\n}\r\n\r\nexport const isEthAddress = (addr = '') => {\r\n\ttry {\r\n\t\tutils.getAddress(addr)\r\n\t} catch (e) {\r\n\t\treturn false\r\n\t}\r\n\treturn true\r\n}\r\n\r\nexport const isEthAddressZero = (addr = '') => {\r\n\treturn isEthAddress(addr)\r\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\r\n\t\t: false\r\n}\r\n\r\nexport const validEthAddress = async ({\r\n\taddr = '',\r\n\tnonZeroAddr,\r\n\tnonERC20,\r\n\tauthType,\r\n}) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tconst ethAddressZero = isEthAddressZero(addr)\r\n\t\tconst notEthAddress = !isEthAddress(addr)\r\n\t\tif (notEthAddress) {\r\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\r\n\t\t} else {\r\n\t\t\tif (nonZeroAddr && ethAddressZero) {\r\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\r\n\t\t\t} else {\r\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\r\n\t\t\t\tif (connectionLost) {\r\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\r\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\r\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error === 'Non-Ethereum browser detected.')\r\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t}\r\n\treturn { msg }\r\n}\r\n\r\nexport const freeAdExENS = async ({ ens = '', authType }) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tif (ens === '') {\r\n\t\t\tmsg = 'ERR_ENS_REQUIRED'\r\n\t\t} else {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst ensAddress = await provider.resolveName(\r\n\t\t\t\t`${ens}.${process.env.REVERSE_REGISTRAR_PARENT}`\r\n\t\t\t)\r\n\r\n\t\t\tif (ensAddress && !isEthAddressZero(ensAddress)) msg = 'ERR_ENS_NOT_FREE'\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error.code === 'INVALID_ARGUMENT') {\r\n\t\t\tmsg = 'ERR_INVALID_ARGUMENT_ENS'\r\n\t\t} else {\r\n\t\t\tmsg = 'ERR_ENS_CHECK'\r\n\t\t}\r\n\t}\r\n\treturn { msg }\r\n}\r\n","export function loadFromLocalStorage(key) {\r\n\ttry {\r\n\t\tconst data = localStorage.getItem(key)\r\n\t\tif (data === null) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\treturn JSON.parse(data)\r\n\t} catch (err) {\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport function saveToLocalStorage(data, key) {\r\n\ttry {\r\n\t\tconst serialized = JSON.stringify(data)\r\n\t\tlocalStorage.setItem(key, serialized)\r\n\t} catch (err) {\r\n\t\tconsole.warn(err)\r\n\t}\r\n}\r\n\r\nexport function removeFromLocalStorage(key) {\r\n\tlocalStorage.removeItem(key)\r\n}\r\n\r\nexport function getKeys() {\r\n\treturn Object.keys(localStorage)\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst variantIcon = {\r\n\taccept: CheckCircleIcon,\r\n\tsuccess: CheckCircleIcon,\r\n\twarning: WarningIcon,\r\n\tcancel: ErrorIcon,\r\n\terror: ErrorIcon,\r\n\tinfo: InfoIcon,\r\n}\r\n\r\nexport class Toast extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tactive: false,\r\n\t\t\ttoast: {},\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tlet toast = this.state.toast\r\n\t\tlet nextToast = nextProps.toasts[0]\r\n\r\n\t\tif (!nextToast) {\r\n\t\t\tthis.setState({ active: false, toast: {} })\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\r\n\r\n\t\tif (isNewToast) {\r\n\t\t\tthis.setState({ active: true, toast: nextToast })\r\n\t\t}\r\n\t}\r\n\r\n\tclose = id => {\r\n\t\tthis.setState({ active: false })\r\n\t\tthis.props.actions.removeToast(id)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { toast } = this.state\r\n\t\tconst { classes } = this.props\r\n\t\tconst Icon = variantIcon[toast.type]\r\n\r\n\t\tif (!toast || !Icon) return null\r\n\r\n\t\tconst anchorOrigin = toast.anchorOrigin || {\r\n\t\t\tvertical: 'bottom',\r\n\t\t\thorizontal: 'center',\r\n\t\t}\r\n\r\n\t\tif (toast.top) {\r\n\t\t\tanchorOrigin.horizontal = 'center'\r\n\t\t\tanchorOrigin.vertical = 'top'\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Snackbar\r\n\t\t\t\topen={this.state.active}\r\n\t\t\t\tautoHideDuration={toast.timeout || 0}\r\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\tanchorOrigin={anchorOrigin}\r\n\t\t\t>\r\n\t\t\t\t<SnackbarContent\r\n\t\t\t\t\taria-describedby='client-snackbar'\r\n\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t<span id='client-snackbar' className={classes.message}>\r\n\t\t\t\t\t\t\t<Icon className={classnames(classes.icon, classes.iconVariant)} />\r\n\t\t\t\t\t\t\t{(toast.label || '').toString()}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t\taction={[\r\n\t\t\t\t\t\ttoast.action && toast.action,\r\n\t\t\t\t\t\t!toast.unclosable && (\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tkey='close'\r\n\t\t\t\t\t\t\t\taria-label='Close'\r\n\t\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\t\tclassName={classes.close}\r\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CloseIcon className={classes.icon} />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tclassName={classnames(classes.snackbar, {\r\n\t\t\t\t\t\t[classes.top]: !!toast.top,\r\n\t\t\t\t\t\t[classes.accept]: toast.type === 'accept',\r\n\t\t\t\t\t\t[classes.cancel]: toast.type === 'cancel',\r\n\t\t\t\t\t\t[classes.warning]: toast.type === 'warning',\r\n\t\t\t\t\t})}\r\n\t\t\t\t/>\r\n\t\t\t</Snackbar>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nToast.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\ttoasts: PropTypes.array.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\t// let persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\ttoasts: memory.toasts || [],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Toast))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsnackbar: {\r\n\t\t\tborder: '3px solid',\r\n\t\t\tborderRadius: 0,\r\n\t\t\tbackgroundColor: '#222',\r\n\t\t\t'&.active': {\r\n\t\t\t\ttransform: 'translateY(-20%)',\r\n\t\t\t},\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tborderColor: '#FFAB00',\r\n\t\t\tcolor: '#FFAB00',\r\n\t\t},\r\n\t\tcancel: {\r\n\t\t\tborderColor: '#FF5722',\r\n\t\t\tcolor: '#FF5722',\r\n\t\t},\r\n\t\taccept: {\r\n\t\t\tborderColor: '#00E676',\r\n\t\t\tcolor: '#00E676',\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\ticonVariant: {\r\n\t\t\topacity: 0.9,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tmessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\twidth: '98vw',\r\n\t\t\tmaxWidth: '98vw',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectConfirm } from 'selectors'\r\n\r\nimport {\r\n\tDialog,\r\n\tButton,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogContentText,\r\n\tDialogTitle,\r\n} from '@material-ui/core'\r\n\r\nexport function Confirm({ children }) {\r\n\tconst [open, setOpen] = useState(false)\r\n\r\n\tconst {\r\n\t\tonConfirm,\r\n\t\tonCancel,\r\n\t\tactive,\r\n\t\t// calledOn,\r\n\t\tnoActionBtns,\r\n\t\tdata: { title = '', text = '', confirmLabel, cancelLabel },\r\n\t} = useSelector(selectConfirm)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOpen(!!active)\r\n\t}, [active])\r\n\r\n\tconst confirm = () => {\r\n\t\tif (typeof onConfirm === 'function') {\r\n\t\t\tonConfirm()\r\n\t\t}\r\n\t\tsetOpen(false)\r\n\t}\r\n\r\n\tconst cancel = () => {\r\n\t\tif (typeof onCancel === 'function') {\r\n\t\t\tonCancel()\r\n\t\t}\r\n\r\n\t\tsetOpen(false)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Dialog open={open}>\r\n\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\r\n\t\t\t<DialogContent>\r\n\t\t\t\t<DialogContentText id='alert-dialog-description'>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</DialogContentText>\r\n\t\t\t\t{children}\r\n\t\t\t</DialogContent>\r\n\t\t\t{!noActionBtns && (\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t{cancelLabel && (\r\n\t\t\t\t\t\t<Button onClick={cancel} color='primary'>\r\n\t\t\t\t\t\t\t{cancelLabel}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{confirmLabel && (\r\n\t\t\t\t\t\t<Button onClick={confirm} color='primary' autoFocus>\r\n\t\t\t\t\t\t\t{confirmLabel}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</DialogActions>\r\n\t\t\t)}\r\n\t\t</Dialog>\r\n\t)\r\n}\r\n\r\nexport default Confirm\r\n","import React, { forwardRef } from 'react'\r\n// import PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router'\r\n\r\nexport const withReactRouterLink = Component => {\r\n\tclass Decorated extends React.Component {\r\n\t\tresolveToLocation = to => {\r\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\r\n\t\t\tconst href = this.props.history.createHref(path)\r\n\t\t\treturn href\r\n\t\t}\r\n\r\n\t\thandleClick = async event => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tevent.stopPropagation()\r\n\t\t\tconst { to, onClick } = this.props\r\n\r\n\t\t\tif (onClick && typeof onClick === 'function') {\r\n\t\t\t\tawait onClick()\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.history.push(to)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// TODO: check if it works without infinite loops\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//   // const { to } = this.props;\r\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\r\n\t\t// }\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tforwardedRef,\r\n\t\t\t\tto,\r\n\t\t\t\tmatch,\r\n\t\t\t\tlocation,\r\n\t\t\t\thistory,\r\n\t\t\t\tstaticContext,\r\n\t\t\t\tonClick,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst toLocation = this.resolveToLocation(to)\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Component\r\n\t\t\t\t\tref={forwardedRef}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\thref={toLocation}\r\n\t\t\t\t\tonClick={this.handleClick}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tconst WithRouter = withRouter(Decorated)\r\n\r\n\treturn forwardRef((props, ref) => (\r\n\t\t<WithRouter {...props} forwardedRef={ref} />\r\n\t))\r\n}\r\n","import React from 'react'\r\nimport SvgIcon from '@material-ui/core/SvgIcon'\r\nimport pure from 'recompose/pure'\r\n\r\nexport default (path, displayName, viewBox = '') => {\r\n\tlet Icon = props => (\r\n\t\t<SvgIcon viewBox={viewBox} {...props}>\r\n\t\t\t{path}\r\n\t\t</SvgIcon>\r\n\t)\r\n\r\n\tIcon.displayName = displayName\r\n\tIcon = pure(Icon)\r\n\tIcon.muiName = 'SvgIcon'\r\n\r\n\treturn Icon\r\n}\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\r\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\r\n\t</g>,\r\n\r\n\t'Campaign',\r\n\t'0 0 26.12 17.37'\r\n)\r\n","import React from 'react'\r\nimport Link from '@material-ui/core/Link'\r\nimport { OpenInNew } from '@material-ui/icons'\r\n\r\nconst getUrl = url => {\r\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\r\n\tif (url) {\r\n\t\turl = '//' + url\r\n\t}\r\n\r\n\treturn url\r\n}\r\n\r\nconst Anchor = ({\r\n\thref,\r\n\ttarget,\r\n\tchildren,\r\n\tlabel,\r\n\tunderline,\r\n\texternalIcon,\r\n\tcolor,\r\n\t...rest\r\n}) => {\r\n\tconst isExternal = target && target === '_blank'\r\n\tconst url = isExternal ? getUrl(href) : href\r\n\r\n\tconst linkProps = {\r\n\t\tunderline: underline || 'none',\r\n\t\tcolor: color || 'inherit',\r\n\t\tdraggable: 'false',\r\n\t\t...(isExternal && { rel: 'noopener noreferrer' }),\r\n\t\ttarget,\r\n\t\thref: url,\r\n\t\tstyle: { wordBreak: 'break-all' }, // TODO: add it where needed only\r\n\t\t...rest,\r\n\t}\r\n\treturn (\r\n\t\t<Link {...linkProps}>\r\n\t\t\t{children || label}{' '}\r\n\t\t\t{externalIcon && <OpenInNew style={{ fontSize: 'small' }} />}\r\n\t\t</Link>\r\n\t)\r\n}\r\n\r\nexport const ExternalAnchor = ({ href, children, style }) => (\r\n\t<Anchor\r\n\t\tstyle={{ fontWeight: 'bold' }}\r\n\t\tunderline='always'\r\n\t\ttarget='_blank'\r\n\t\tcolor='primary'\r\n\t\texternalIcon\r\n\t\thref={href}\r\n\t>\r\n\t\t{children}\r\n\t</Anchor>\r\n)\r\n\r\nexport default Anchor\r\n","const drawerWidth = 250\r\nconst lastRowRightReserved = 240\r\n\r\nexport const styles = theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tzIndex: 1,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tposition: 'relative',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\twidth: 'auto',\r\n\t\t\tposition: 'fixed',\r\n\t\t\t// marginLeft: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\r\n\t\t\t\tleft: drawerWidth,\r\n\t\t\t},\r\n\t\t},\r\n\t\tflex: {\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tpaddingRight: theme.spacing(2),\r\n\t\t\tpaddingLeft: theme.spacing(2),\r\n\t\t},\r\n\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexBasis: '100%',\r\n\t\t\tpaddingBottom: theme.spacing(1),\r\n\t\t\t'&:last-child': {\r\n\t\t\t\tpaddingRight: lastRowRightReserved,\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbarControls: {\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t},\r\n\t\ttoolbarTitle: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t},\r\n\t\tnavIconHide: {\r\n\t\t\tmarginRight: 10,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tflexFlow: 'wrap',\r\n\t\t\theight: 114,\r\n\t\t\tpaddingRight: 0,\r\n\t\t\tpaddingLeft: 0,\r\n\t\t},\r\n\t\tdrawerPaper: {\r\n\t\t\twidth: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: '#fff',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t\tpadding: theme.spacing(2),\r\n\t\t\tpaddingTop: theme.spacing(4),\r\n\t\t\toverflow: 'auto',\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmarginLeft: drawerWidth,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontentInner: {\r\n\t\t\tmaxWidth: 1600,\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\tbreadcrumbElement: {\r\n\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5)}px)`,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5) +\r\n\t\t\t\t\tdrawerWidth +\r\n\t\t\t\t\tlastRowRightReserved}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport { push } from 'connected-react-router'\r\nimport { execute } from 'actions'\r\nimport { t } from 'selectors'\r\n\r\nconst sideIndex = {\r\n\tadvertiser: 0,\r\n\tpublisher: 1,\r\n\t'0': 'advertiser',\r\n\t'1': 'publisher',\r\n}\r\n\r\nconst handleChange = (ev, index) => {\r\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\r\n}\r\n\r\nconst useTabsStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.main\r\n\t\t\t: theme.palette.accentTwo.main\r\n\r\n\treturn {\r\n\t\tindicator: {\r\n\t\t\tbackgroundColor: activeColor,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst useTabStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.main\r\n\t\t\t: theme.palette.accentTwo.main\r\n\r\n\tconst activeBgColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.light\r\n\t\t\t: theme.palette.accentTwo.light\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tminWidth: 30,\r\n\t\t\t'&$selected': {\r\n\t\t\t\tcolor: activeColor,\r\n\t\t\t},\r\n\t\t},\r\n\t\tselected: {\r\n\t\t\tcolor: activeColor,\r\n\t\t\tbackgroundColor: activeBgColor,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst SideSwitch = ({ side, className }) => {\r\n\tconst tabsClasses = useTabsStyles({ side })\r\n\tconst tabClasses = useTabStyles({ side })\r\n\treturn (\r\n\t\t<div className={className}>\r\n\t\t\t<Box bgcolor='background.paper' boxShadow={2}>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tclasses={tabsClasses}\r\n\t\t\t\t\tvalue={sideIndex[side]}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\tvariant='fullWidth'\r\n\t\t\t\t\taria-label='side select'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab classes={tabClasses} label={t('ADVERTISER')} />\r\n\t\t\t\t\t<Tab classes={tabClasses} label={t('PUBLISHER')} />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</Box>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideSwitch\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(27, 117, 188)'\r\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\r\n\t\t/>\r\n\t</g>,\r\n\t'AdexIcon',\r\n\t'0 0 185 72'\r\n)\r\n","import React from 'react'\r\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\r\n\r\nexport const InputLoading = ({ className, color = 'primary' }) => (\r\n\t<LinearProgress className={className} color={color} />\r\n)\r\n\r\nexport const LoadingSection = ({ loading, children }) => (\r\n\t<Box display='flex' flex='1' alignItems='center'>\r\n\t\t<Box>{children}</Box>\r\n\t\t<Box ml={2} mr={2}>\r\n\t\t\t{loading && <CircularProgress />}\r\n\t\t</Box>\r\n\t</Box>\r\n)\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport classnames from 'classnames'\r\nimport packageJson from './../../../../package.json'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { styles } from './styles'\r\nimport SideSwitch from './SideSwitch'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport DashboardIcon from '@material-ui/icons/Dashboard'\r\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport Box from '@material-ui/core/Box'\r\nimport ListIcon from '@material-ui/icons/List'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport {\r\n\tt,\r\n\tselectSide,\r\n\tselectLocation,\r\n\tselectAccountIdentityAddr,\r\n\tselectAccountStatsFormatted,\r\n\tselectMainToken,\r\n} from 'selectors'\r\n\r\nconst RRListItem = withReactRouterLink(ListItem)\r\nconst { ETH_SCAN_ADDR_HOST } = process.env\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst activeColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.contrastText\r\n\t\t\t: theme.palette.accentTwo.contrastText\r\n\r\n\tconst activeBgColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.main\r\n\t\t\t: theme.palette.accentTwo.main\r\n\r\n\tconst hoverActiveBgColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.light\r\n\t\t\t: theme.palette.accentTwo.light\r\n\r\n\treturn {\r\n\t\tnavigation: {\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t},\r\n\t\tsntPadding: {\r\n\t\t\tpaddingTop: 0,\r\n\t\t},\r\n\t\tnavListRoot: {\r\n\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tnavList: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 100,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t},\r\n\t\tsideNavToolbar: {},\r\n\t\tversion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tpadding: 10,\r\n\t\t\tpaddingLeft: 16,\r\n\t\t\tborderTopWidth: 1,\r\n\t\t\tborderTopColor: theme.palette.divider,\r\n\t\t\tborderTopStyle: 'solid',\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: activeColor,\r\n\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t'&:focus': {\r\n\t\t\t\tbackgroundColor: activeBgColor,\r\n\t\t\t},\r\n\t\t\t'&:hover': {\r\n\t\t\t\tbackgroundColor: hoverActiveBgColor,\r\n\t\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\t},\r\n\t\t},\r\n\t\tadxLink: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\t},\r\n\t\t},\r\n\t\tsideSwitch: {\r\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\theight: 32,\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tamount: {\r\n\t\t\tfontSize: theme.typography.pxToRem(18),\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst useCommonStyles = makeStyles(styles)\r\n\r\nfunction SideNav(props) {\r\n\tconst side = useSelector(selectSide)\r\n\tconst identity = useSelector(selectAccountIdentityAddr)\r\n\tconst classes = useStyles({ side })\r\n\tconst commonClasses = useCommonStyles()\r\n\tconst routerLocation = useSelector(selectLocation)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\t// TODO: test location\r\n\tconst location = routerLocation.pathname.split('/')[3]\r\n\tconst isAdvertiser = side === 'advertiser'\r\n\tconst items = isAdvertiser ? 'units' : 'slots'\r\n\tconst { availableIdentityBalanceMainToken } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\r\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\r\n\t\t<div className={classes.navigation}>\r\n\t\t\t<List\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\tpadding: classes.sntPadding,\r\n\t\t\t\t\troot: classes.navListRoot,\r\n\t\t\t\t}}\r\n\t\t\t\tclassName={classes.navList}\r\n\t\t\t\tcomponent='nav'\r\n\t\t\t>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tbgcolor='background.paper'\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tcommonClasses.toolbar,\r\n\t\t\t\t\t\t\tclasses.sideNavToolbar\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<AdexIconTxt className={classes.icon} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceMainToken &&\r\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tvariant='button'\r\n\t\t\t\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\t\t\t\tcolor='textPrimary'\r\n\t\t\t\t\t\t\t\t\tclasses={{ button: classes.amount }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceMainToken ||\r\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant='button' component='div' display='block'>\r\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<DashboardIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t{side === 'advertiser' && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\r\n\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<CampaignIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\r\n\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\r\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === items })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<ListIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t<ListDivider />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Anchor target='_blank' href={`${process.env.ADEX_HELP_URL}`}>\r\n\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<HelpOutlineIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\r\n\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t[classes.active]: location === 'account',\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\r\n\t\t\t\t\t</RRListItem>\r\n\t\t\t\t</div>\r\n\t\t\t</List>\r\n\t\t\t<div className={classes.version}>\r\n\t\t\t\t<div className={classes.adxLink}>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdEx Network OÜ\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.adxLink}>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={`${process.env.ADEX_SITE_HOST}/tos`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdEx (ADX) Token\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t\t<small> / </small>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdExCore\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref='https://github.com/AdExNetwork/adex-platform/blob/development/CHANGELOG.md.'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tv.{packageJson.version}-beta\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SideNav\r\n","import React, { useState } from 'react'\r\nimport { Menu, Button } from '@material-ui/core'\r\n\r\nconst ImgIcon = ({ src }) => {\r\n\treturn (\r\n\t\t<img\r\n\t\t\tsrc={src}\r\n\t\t\theight={36}\r\n\t\t\twidth='auto'\r\n\t\t\talt='logo'\r\n\t\t\tstyle={{ marginRight: 5 }}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\r\n\tconst [active, setActive] = useState(false)\r\n\tconst [anchorEl, setAnchorEl] = useState(null)\r\n\tconst open = Boolean(anchorEl)\r\n\r\n\tconst handleButtonClick = () => {\r\n\t\tsetActive(!active)\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\r\n\tconst handleMenu = event => {\r\n\t\tsetAnchorEl(event.currentTarget)\r\n\t}\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\r\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button\r\n\t\t\t\tstyle={btnStyle}\r\n\t\t\t\tonClick={handleMenu}\r\n\t\t\t\taria-haspopup='true'\r\n\t\t\t\taria-controls={id}\r\n\t\t\t>\r\n\t\t\t\t{leftIcon}\r\n\t\t\t\t<span\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmaxWidth: 150,\r\n\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</span>\r\n\t\t\t\t{rightIcon}\r\n\t\t\t</Button>\r\n\t\t\t<Menu\r\n\t\t\t\tid={id}\r\n\t\t\t\topen={open}\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\tgetContentAnchorEl={null}\r\n\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\tvertical: 'bottom',\r\n\t\t\t\t\thorizontal: 'right',\r\n\t\t\t\t}}\r\n\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\thorizontal: 'right',\r\n\t\t\t\t}}\r\n\t\t\t\tonClick={handleButtonClick}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</Menu>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ButtonMenu\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { translate } from 'services/translations/translations'\r\nimport { selectLang } from 'selectors'\r\n\r\nexport default function Translate(Decorated) {\r\n\tfunction Translated(props) {\r\n\t\tconst language = useSelector(selectLang)\r\n\r\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\r\n\t\t\tconst translation = translate(val, { isProp, args }, language)\r\n\r\n\t\t\treturn translation\r\n\t\t}\r\n\r\n\t\treturn <Decorated {...props} t={t} />\r\n\t}\r\n\r\n\treturn Translated\r\n}\r\n","import { AUTH_TYPES } from 'constants/misc'\r\nimport metamaskLogo from 'resources/metamask-logo.png'\r\nimport trezorLogo from 'resources/trezor-logo-h.png'\r\nimport ledgerLogo from 'resources/ledger_logo_header.png'\r\nimport demoLogo from 'resources/demo-logo.png'\r\n\r\nexport const getAuthLogo = authType => {\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\treturn metamaskLogo\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\treturn trezorLogo\r\n\t\tcase AUTH_TYPES.LEDGER.name:\r\n\t\t\treturn ledgerLogo\r\n\t\tcase AUTH_TYPES.DEMO.name:\r\n\t\t\treturn demoLogo\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\r\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\n// import ChangeLang from 'components/translate/ChangeLang'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport { logOut } from 'services/store-data/auth'\r\n\r\nimport {\r\n\tAppBar,\r\n\tToolbar,\r\n\tTypography,\r\n\tBreadcrumbs,\r\n\tIconButton,\r\n\tListItemIcon,\r\n\tListItemText,\r\n\tLink,\r\n\tMenuItem,\r\n} from '@material-ui/core'\r\n\r\nimport classnames from 'classnames'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { selectAccount, selectDashboardBreadcrumbs } from 'selectors'\r\nimport { styles } from './styles'\r\nimport { formatAddress } from 'helpers/formatters'\r\n\r\nconst RRMenuItem = withReactRouterLink(MenuItem)\r\nconst RRLink = withReactRouterLink(Link)\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TopNav({ handleDrawerToggle, side, t }) {\r\n\tconst classes = useStyles()\r\n\tconst account = useSelector(selectAccount)\r\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\r\n\tconst breadcrumbs = useSelector(selectDashboardBreadcrumbs)\r\n\tconst btnMenuLabel =\r\n\t\taccount.wallet.authType === 'demo'\r\n\t\t\t? t('DEMO_MODE')\r\n\t\t\t: account.email ||\r\n\t\t\t  formatAddress(account.wallet.address) ||\r\n\t\t\t  t('NOT_LOGGED')\r\n\r\n\treturn (\r\n\t\t<AppBar className={classes.appBar} color='default' position='sticky'>\r\n\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t<div className={classes.flexRow}>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\taria-label='open drawer'\r\n\t\t\t\t\t\tonClick={handleDrawerToggle}\r\n\t\t\t\t\t\tclassName={classnames(classes.navIconHide)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t{/* <AdexIconTxt\r\n\t\t\t\t\tclassName={classes.icon}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarControls)}>\r\n\t\t\t\t\t\t{/* <Navigation type='horizontal' className={theme.rightNavigation}> */}\r\n\t\t\t\t\t\t{/* At the moment we use translations only for proper items properties display names */}\r\n\t\t\t\t\t\t{/* <ChangeLang /> */}\r\n\t\t\t\t\t\t<Jazzicon\r\n\t\t\t\t\t\t\tdiameter={30}\r\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ButtonMenu\r\n\t\t\t\t\t\t\tid='menu-appbar'\r\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\r\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<RRMenuItem\r\n\t\t\t\t\t\t\t\tvalue='account'\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</RRMenuItem>\r\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tvalue='logout'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tlogOut()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</ButtonMenu>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.flexRow}>\r\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarTitle)}>\r\n\t\t\t\t\t\t<Breadcrumbs aria-label='breadcrumb'>\r\n\t\t\t\t\t\t\t{breadcrumbs.map(({ to, label }, index) =>\r\n\t\t\t\t\t\t\t\tto && index < breadcrumbs.length - 1 ? (\r\n\t\t\t\t\t\t\t\t\t<RRLink key={`${index}-${to}`} to={to}>\r\n\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t</RRLink>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.breadcrumbElement }}\r\n\t\t\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\t\t\t\t\t\tkey={`${index}-${label}`}\r\n\t\t\t\t\t\t\t\t\t\tcolor='textPrimary'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Breadcrumbs>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Toolbar>\r\n\t\t</AppBar>\r\n\t)\r\n}\r\n\r\nexport default Translate(TopNav)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n// import classnames from 'classnames'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport CheckIcon from '@material-ui/icons/Check'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\n// NOTE: Separate component to track the validations and spinner to avoid rerender of item top level components\r\nclass SaveBtn extends Component {\r\n\trender() {\r\n\t\tlet {\r\n\t\t\tspinner,\r\n\t\t\tclasses,\r\n\t\t\tsuccess,\r\n\t\t\tdirtyProps,\r\n\t\t\tsave,\r\n\t\t\tvalidations,\r\n\t\t\tvalidationId,\r\n\t\t\tdisabled,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div className={classes.position}>\r\n\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t<Fab\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t// className={buttonClassname}\r\n\t\t\t\t\t\tonClick={() => save()}\r\n\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\tdisabled ||\r\n\t\t\t\t\t\t\tspinner ||\r\n\t\t\t\t\t\t\t!dirtyProps.length ||\r\n\t\t\t\t\t\t\t!!Object.keys(validations[validationId] || {}).length\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// {...other}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/*TODO: Success */}\r\n\t\t\t\t\t\t{success ? <CheckIcon /> : <SaveIcon />}\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t{!!spinner && (\r\n\t\t\t\t\t\t<CircularProgress size={68} className={classes.fabProgress} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSaveBtn.propTypes = {\r\n\tspinnerId: PropTypes.string,\r\n\tvalidationId: PropTypes.string,\r\n\titemId: PropTypes.string,\r\n\tvalidations: PropTypes.object,\r\n\tdisabled: PropTypes.bool,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\treturn {\r\n\t\tspinner: memory.spinners[props.spinnerId],\r\n\t\tvalidations: memory.validations,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(SaveBtn)))\r\n","import color from '@material-ui/core/colors/purple'\r\n\r\nexport const styles = theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\twrapper: {\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonSuccess: {\r\n\t\tbackgroundColor: color[500],\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: color[700],\r\n\t\t},\r\n\t},\r\n\tfabProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: -6,\r\n\t\tleft: -6,\r\n\t\tzIndex: 1,\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tposition: {\r\n\t\tposition: 'fixed',\r\n\t\ttop: 86,\r\n\t\tright: 40,\r\n\t\tzIndex: theme.zIndex.appBar + 1,\r\n\t},\r\n})\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\tbuttonLeft: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\ttextField: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tmaxWidth: '70%',\r\n\t\t},\r\n\t\tchangesLine: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'center',\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tchangeChip: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: 0,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: spacing,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport PropTypes from 'prop-types'\r\nimport { execute, validate } from 'actions'\r\nimport { selectValidationsById } from 'selectors'\r\n\r\nexport default function ValidationHoc(Decorated) {\r\n\tconst ValidItem = props => {\r\n\t\tconst validations =\r\n\t\t\tuseSelector(state => selectValidationsById(state, props.validateId)) || {}\r\n\r\n\t\tconst makeValidation = (\r\n\t\t\tkey,\r\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n\t\t) => {\r\n\t\t\tconst { validateId } = props\r\n\t\t\texecute(validate(validateId, key, { isValid, err, dirty, removeAll }))\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Decorated\r\n\t\t\t\t{...props}\r\n\t\t\t\tvalidate={makeValidation}\r\n\t\t\t\tinvalidFields={validations}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\tValidItem.propTypes = {\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\treturn ValidItem\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\r\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport Translate from 'components/translate/Translate'\r\nimport { validations, helpers } from 'adex-models'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\n\r\nconst MAX_IMG_LOAD_TIME = 7000\r\nclass Img extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\timgSrc: null,\r\n\t\t\tactive: false,\r\n\t\t\tvideoSrc: null,\r\n\t\t}\r\n\r\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\r\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\r\n\t\tthis.loadTimeout = null\r\n\t}\r\n\r\n\tipfsSrc = src => {\r\n\t\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\r\n\t\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\r\n\t\t}\r\n\r\n\t\treturn src\r\n\t}\r\n\r\n\thandleToggle = ev => {\r\n\t\tev && ev.stopPropagation && ev.stopPropagation()\r\n\t\tev && ev.preventDefault && ev.preventDefault()\r\n\t\tlet active = this.state.active\r\n\t\tthis.setState({ active: !active })\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\r\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\tif (isVideo && !allowVideo) {\r\n\t\t\treturn this.setState({\r\n\t\t\t\timgSrc: VIDEO_IMAGE,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (isVideo) {\r\n\t\t\tthis.displayVideo = document.createElement('video')\r\n\t\t\tthis.setDisplayVideo({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.displayImage = new Image()\r\n\t\t\tthis.setDisplayImage({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps = nextProps => {\r\n\t\tconst nextSrc = this.ipfsSrc(nextProps.src)\r\n\t\tconst thisSrc = this.ipfsSrc(this.props.src)\r\n\t\tconst nextFallback = this.ipfsSrc(nextProps.fallbackSrc)\r\n\t\tconst { mediaMime } = nextProps\r\n\r\n\t\tif (nextSrc !== thisSrc) {\r\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\t\tif (isVideo) {\r\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\r\n\t\t\t\tthis.setDisplayVideo({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\r\n\t\t\t\tthis.setDisplayImage({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.clearLoadTimeout()\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\t\t\tthis.displayImage = null\r\n\t\t}\r\n\t}\r\n\r\n\tclearLoadTimeout = () => {\r\n\t\tif (this.loadTimeout) {\r\n\t\t\tclearTimeout(this.loadTimeout)\r\n\t\t\tthis.loadTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tonFail = fallback => {\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.displayImage.src = fallback\r\n\t\t}\r\n\r\n\t\tthis.clearLoadTimeout()\r\n\r\n\t\tthis.setState({\r\n\t\t\timgSrc: fallback || null,\r\n\t\t})\r\n\t}\r\n\r\n\tsetDisplayImage = ({ image, fallback }) => {\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\r\n\t\t\tthis,\r\n\t\t\tfallback\r\n\t\t)\r\n\r\n\t\tthis.displayImage.onload = () => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\timgSrc: image,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.displayImage.src = image\r\n\t}\r\n\r\n\tsetDisplayVideo = ({ image, fallback }) => {\r\n\t\tthis.displayVideo.src = image\r\n\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\tvideoSrc: image,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfullScreenBtn() {\r\n\t\tconst { classes } = this.props\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tsize='small'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tthis.handleToggle()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FullscreenIcon />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{this.renderFullscreenDialog()}\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\trenderFullscreenDialog() {\r\n\t\tconst { t, alt, classes, type } = this.props\r\n\t\tconst { active, imgSrc, videoSrc } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={active}\r\n\t\t\t\ttype={type || 'normal'}\r\n\t\t\t\tmaxWidth={false}\r\n\t\t\t\tonClose={this.handleToggle}\r\n\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\r\n\t\t\t\t\t{imgSrc ? (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<video\r\n\t\t\t\t\t\t\tsrc={videoSrc}\r\n\t\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\t\tloop\r\n\t\t\t\t\t\t\tcontrols\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t></video>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\r\n\t\t\t\t\t\t{t('CLOSE')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\talt,\r\n\t\t\tallowFullscreen,\r\n\t\t\tclassName,\r\n\t\t\tclasses,\r\n\t\t\tfullScreenOnClick,\r\n\t\t\tonClick,\r\n\t\t} = this.props\r\n\t\tconst { imgSrc, videoSrc } = this.state\r\n\t\treturn imgSrc || videoSrc ? (\r\n\t\t\t<div\r\n\t\t\t\tclassName={classnames(classes.imgParent, className, classes.wrapper)}\r\n\t\t\t>\r\n\t\t\t\t{!!imgSrc ? (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\tsrc={this.state.imgSrc}\r\n\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\r\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\tonClick={onClick || (fullScreenOnClick && this.handleToggle)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tsrc={videoSrc}\r\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\r\n\t\t\t\t\t\tautoPlay\r\n\t\t\t\t\t\tmuted\r\n\t\t\t\t\t\tloop\r\n\t\t\t\t\t\tonClick={onClick || (fullScreenOnClick && this.handleToggle)}\r\n\t\t\t\t\t></video>\r\n\t\t\t\t)}\r\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\r\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\r\n\t\t\t</div>\r\n\t\t) : (\r\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\r\n\t\t\t\t<span className={classes.circular}>\r\n\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t</span>\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImg.propTypes = {\r\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n\tfallbackSrc: PropTypes.string,\r\n\talt: PropTypes.string,\r\n\tallowFullscreen: PropTypes.bool,\r\n\tfullScreenOnClick: PropTypes.bool,\r\n\tmediaMime: PropTypes.string,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(Img))\r\n","export const styles = theme => ({\r\n\timgLoading: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\timgParent: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: 'max-content',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tcircular: {\r\n\t\tposition: 'relative',\r\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\r\n\t\tleft: 'calc(50% - 20px)',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tfullscreenIcon: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: theme.spacing(1),\r\n\t\tright: theme.spacing(1),\r\n\t\tcursor: 'pointer',\r\n\t\twidth: '30px',\r\n\t\theight: '30px',\r\n\t\tminHeight: '24px',\r\n\t},\r\n\tdialog: {\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t},\r\n\t\t'@media(max-height:823px)': {\r\n\t\t\tminHeight: 'auto',\r\n\t\t},\r\n\t},\r\n\tdialogImageParent: {\r\n\t\t'@media(max-width:1080px)': {\r\n\t\t\tmaxWidth: '80vw',\r\n\t\t\tmaxHeight: '100vw',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t},\r\n\t},\r\n\tdialogImage: {\r\n\t\theight: 'auto',\r\n\t\tmaxWidth: '80vw',\r\n\t},\r\n\timg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t},\r\n\twrapper: {\r\n\t\theight: 'max-content',\r\n\t\twidth: 'max-content',\r\n\t},\r\n})\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport IMG_404_1 from 'resources/404-no.png'\r\nimport IMG_404_2 from 'resources/404-yes.png'\r\nimport Img from 'components/common/img/Img'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\nimport { t } from 'selectors'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nconst G404 = ({ size }) => (\r\n\t<Grid item xs={size}>\r\n\t\t<Typography variant={`h${6 - size}`} style={{ textTransform: 'uppercase' }}>\r\n\t\t\t{t('404')}\r\n\t\t</Typography>\r\n\t</Grid>\r\n)\r\n\r\nclass PageNotFound extends React.Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\ttitle,\r\n\t\t\tsubtitle,\r\n\t\t\tgoToTxt,\r\n\t\t\tgoToPath,\r\n\t\t\tskipGoToButton,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3' align='center'>\r\n\t\t\t\t\t\t\t{t(title || '404')}\r\n\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t{subtitle && (\r\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\r\n\t\t\t\t\t\t\t\t{t(subtitle)}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<G404 size={3} />\r\n\t\t\t\t\t<G404 size={4} />\r\n\t\t\t\t\t<G404 size={2} />\r\n\t\t\t\t\t<G404 size={1} />\r\n\t\t\t\t\t<G404 size={5} />\r\n\t\t\t\t\t<G404 size={3} />\r\n\t\t\t\t\t<G404 size={2} />\r\n\r\n\t\t\t\t\t<Grid item xs={5} sm={3}>\r\n\t\t\t\t\t\t<Img src={IMG_404_1} alt={'no'} className={classes.img} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={9}>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\r\n\t\t\t\t\t\t\t{window.location.href}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={5} sm={3}>\r\n\t\t\t\t\t\t<Img src={IMG_404_2} alt={'yes'} className={classes.img} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={7} sm={9}>\r\n\t\t\t\t\t\t{!skipGoToButton && (\r\n\t\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\r\n\t\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nPageNotFound.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tgoToTxt: PropTypes.string,\r\n\tgoToPath: PropTypes.string,\r\n\tskipGoToButton: PropTypes.bool,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(PageNotFound))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\twrapper: {\r\n\t\t\tmargin: `${spacing * 2}px auto`,\r\n\t\t\tmaxWidth: 1000,\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport {\r\n\tGrid,\r\n\tIconButton,\r\n\tInput,\r\n\tInputLabel,\r\n\tInputAdornment,\r\n\tFormControl,\r\n\tChip,\r\n} from '@material-ui/core'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport { schemas, Joi } from 'adex-models'\r\nimport { Prompt } from 'react-router'\r\nimport Translate from 'components/translate/Translate'\r\nimport SaveBtn from 'components/dashboard/containers/SaveBtn'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport InfoOutlineIcon from '@material-ui/icons/Info'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport { styles } from './styles'\r\nimport { validName } from 'helpers/validators'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport { selectSide } from 'selectors'\r\n\r\nconst { adSlotPut, adUnitPut, campaignPut } = schemas\r\n\r\nexport default function ItemHoc(Decorated) {\r\n\tclass Item extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.save = this.save.bind(this)\r\n\t\t\tthis.state = {\r\n\t\t\t\tactiveFields: {},\r\n\t\t\t\titem: null,\r\n\t\t\t\tinitialItemState: {},\r\n\t\t\t\tdirtyProps: [],\r\n\t\t\t\teditImg: false,\r\n\t\t\t\t_activeInput: null,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tconst { item, objModel } = this.props\r\n\r\n\t\t\tconst initialItemState = new objModel(item)\r\n\r\n\t\t\tthis.setState({ item: { ...item }, initialItemState: initialItemState })\r\n\t\t}\r\n\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\r\n\t\t//     return diffProps || diffState\r\n\t\t// }\r\n\r\n\t\tcomponentWillReceiveProps(nextProps, nextState) {\r\n\t\t\tconst { objModel } = this.props\r\n\t\t\tconst { item } = this.state\r\n\t\t\tlet currentItemInst = new objModel(item || {})\r\n\t\t\t// Assume that the this.props.match.params.itemId can not be changed without remount of the component\r\n\t\t\t// TODO: check the above\r\n\t\t\tlet nextItem = nextProps.item\r\n\t\t\tlet nexItemInst = new objModel(nextItem || {})\r\n\r\n\t\t\tif (currentItemInst.modifiedOn !== nexItemInst.modifiedOn) {\r\n\t\t\t\t// if (\r\n\t\t\t\t// \tJSON.stringify(currentItemInst.plainObj()) !==\r\n\t\t\t\t// \tJSON.stringify(nexItemInst.plainObj())\r\n\t\t\t\t// ) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\titem: nexItemInst.plainObj(),\r\n\t\t\t\t\tinitialItemState: nexItemInst,\r\n\t\t\t\t\tactiveFields: {},\r\n\t\t\t\t\tdirtyProps: [],\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcomponentWillUnmount() {\r\n\t\t\tif (this.state.item) {\r\n\t\t\t\tthis.props.actions.updateSpinner('update' + this.state.item.id, false)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (name, value) => {\r\n\t\t\tconst { objModel } = this.props\r\n\t\t\tconst { item, dirtyProps } = this.state\r\n\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[name] = value\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\r\n\t\t\tif (dp.indexOf(name) < 0) {\r\n\t\t\t\tdp.push(name)\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\r\n\t\t}\r\n\r\n\t\treturnPropToInitialState = propName => {\r\n\t\t\tconst { objModel, actions } = this.props\r\n\t\t\tconst { dirtyProps, initialItemState, item } = this.state\r\n\t\t\tconst initialItemStateValue = initialItemState[propName]\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[propName] = initialItemStateValue\r\n\r\n\t\t\tconst dp = dirtyProps.filter(dp => {\r\n\t\t\t\treturn dp !== propName\r\n\t\t\t})\r\n\r\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\r\n\t\t\t// TEMP fix, we assume that the initial values are validated\r\n\t\t\tactions.resetValidationErrors(item.id, propName)\r\n\t\t}\r\n\r\n\t\tsetActiveFields = (field, value) => {\r\n\t\t\tlet newActiveFields = { ...this.state.activeFields }\r\n\t\t\tnewActiveFields[field] = value\r\n\t\t\tthis.setState({ activeFields: newActiveFields })\r\n\t\t}\r\n\r\n\t\t//TODO: Do not save if not dirty!\r\n\t\tsave = () => {\r\n\t\t\tconst { itemType, spinner, actions } = this.props\r\n\t\t\tconst { item, dirtyProps } = this.state\r\n\r\n\t\t\tif (dirtyProps.length && !spinner) {\r\n\t\t\t\tactions.updateItem({\r\n\t\t\t\t\titemType,\r\n\t\t\t\t\titem,\r\n\t\t\t\t})\r\n\t\t\t\tthis.setState({ dirtyProps: [] })\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tisDirtyProp(prop) {\r\n\t\t\treturn this.state.item.dirtyProps.indexOf(prop) > -1\r\n\t\t}\r\n\r\n\t\thandleToggle = () => {\r\n\t\t\tconst isDemo = this.props.account._authType === 'demo'\r\n\r\n\t\t\tif (isDemo) return\r\n\r\n\t\t\tlet active = this.state.editImg\r\n\t\t\tthis.setState({ editImg: !active })\r\n\t\t}\r\n\r\n\t\tisNameValid(name) {\r\n\t\t\tconst { msg } = validName(name)\r\n\t\t\treturn !msg\r\n\t\t}\r\n\r\n\t\tvalidateTitle(name, dirty, errMsg) {\r\n\t\t\tconst { itemType, validate } = this.props\r\n\t\t\tlet schema = null\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tschema = adSlotPut.title\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tschema = adUnitPut.title\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'Campaign':\r\n\t\t\t\t\tschema = campaignPut.title\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\r\n\t\t\tconst result = Joi.validate(name, schema)\r\n\t\t\tvalidate('title', {\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tvalidateDescription(name, dirty, errMsg) {\r\n\t\t\tconst { itemType, validate } = this.props\r\n\t\t\tlet schema = null\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tschema = adSlotPut.description\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tschema = adUnitPut.description\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tconst result = Joi.validate(name, schema)\r\n\t\t\tvalidate('description', {\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tvalidations,\r\n\t\t\t\tclasses,\r\n\t\t\t\tt,\r\n\t\t\t\taccount,\r\n\t\t\t\titemType,\r\n\t\t\t\tobjModel,\r\n\t\t\t\tmatchId,\r\n\t\t\t\tside,\r\n\t\t\t\tinvalidFields,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst propsItem = this.props.item\r\n\r\n\t\t\tif (!propsItem) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<PageNotFound\r\n\t\t\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\r\n\t\t\t\t\t\t\targs: [itemType.toUpperCase(), matchId],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tgoToPath={`/dashboard/${side}`}\r\n\t\t\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\t * NOTE: using instance of the item, the instance is passes to the Unit, Slot, Channel and Campaign components,\r\n\t\t\t * in this case there is no need to make instance inside them\r\n\t\t\t */\r\n\r\n\t\t\tconst isDemo = account._authType === 'demo'\r\n\t\t\tconst item = new objModel(this.state.item || {})\r\n\t\t\tlet canEdit = itemType === 'AdSlot'\r\n\r\n\t\t\tconst titleErr = invalidFields['title']\r\n\t\t\tconst descriptionErr = invalidFields['description']\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Prompt\r\n\t\t\t\t\t\twhen={!!this.state.dirtyProps.length}\r\n\t\t\t\t\t\tmessage={t('UNSAVED_CHANGES_ALERT')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\terror={!!titleErr && !!titleErr.errMsg}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputLabel>{t('title', { isProp: true })}</InputLabel>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tname={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\t\tvalue={item.title}\r\n\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\tthis.validateTitle(ev.target.value, true)\r\n\t\t\t\t\t\t\t\t\tthis.handleChange('title', ev.target.value)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tmaxLength={1024}\r\n\t\t\t\t\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', false)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonFocus={() => this.validateTitle(item.title, false)}\r\n\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.title}\r\n\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={ev => this.setActiveFields('title', true)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{titleErr && titleErr.errMsg && titleErr.dirty && (\r\n\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t{t(titleErr.errMsg, { args: titleErr.errMsgArgs })}\r\n\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{itemType !== 'Campaign' && (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={!!descriptionErr && !!descriptionErr.errMsg}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor='description'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('description', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='description'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.description || ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(ev.target.value, true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange('description', ev.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(item.description, false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{descriptionErr && !!descriptionErr.errMsg ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(descriptionErr.errMsg, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: descriptionErr.errMsgArgs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!item.description && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('NO_DESCRIPTION_YET')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{!!this.state.dirtyProps.length && (\r\n\t\t\t\t\t\t\t<div className={classes.changesLine}>\r\n\t\t\t\t\t\t\t\t<InfoOutlineIcon className={classes.buttonLeft} />\r\n\t\t\t\t\t\t\t\t<span className={classes.buttonLeft}>\r\n\t\t\t\t\t\t\t\t\t{t('UNSAVED_CHANGES')}:\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t{this.state.dirtyProps.map(p => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.changeChip}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={p}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(p, { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\tonDelete={() => this.returnPropToInitialState(p)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<SaveBtn\r\n\t\t\t\t\t\t\tspinnerId={'update' + item.id}\r\n\t\t\t\t\t\t\tvalidationId={'update-' + validateId}\r\n\t\t\t\t\t\t\tdirtyProps={this.state.dirtyProps}\r\n\t\t\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t!this.state.dirtyProps.length ||\r\n\t\t\t\t\t\t\t\t!!Object.keys(invalidFields).length\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Decorated\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\taccount={account}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tinEdit={!!this.state.dirtyProps.length}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\t\ttoggleImgEdit={this.handleToggle.bind(this)}\r\n\t\t\t\t\t\t\tactiveFields={this.state.activeFields}\r\n\t\t\t\t\t\t\tsetActiveFields={this.setActiveFields.bind(this)}\r\n\t\t\t\t\t\t\tcanEdit={canEdit}\r\n\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\tisDemo={isDemo}\r\n\t\t\t\t\t\t\tvalidateId={validateId}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItem.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\titem: PropTypes.object.isRequired,\r\n\t\tspinner: PropTypes.bool,\r\n\t\titemType: PropTypes.string.isRequired,\r\n\t\tobjModel: PropTypes.func.isRequired,\r\n\t}\r\n\r\n\tconst tryGetItemByIpfs = ({ items, ipfs }) => {\r\n\t\tlet keys = Object.keys(items)\r\n\r\n\t\tfor (let index = 0; index < keys.length; index++) {\r\n\t\t\tconst key = keys[index]\r\n\t\t\tconst item = items[key]\r\n\r\n\t\t\tif (!!item && item._ipfs && !!ipfs && item._ipfs === ipfs) {\r\n\t\t\t\treturn item\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist } = state\r\n\t\t// const memory = state.memory\r\n\t\tconst items = persist.items[props.itemType]\r\n\t\tconst id = props.match.params.itemId\r\n\t\tlet item = items[id]\r\n\r\n\t\tif (!item && props.itemType !== undefined) {\r\n\t\t\titem = tryGetItemByIpfs({ items: items, ipfs: id })\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\titem: item,\r\n\t\t\tvalidateId: 'update-' + (item ? item.id || item.ipfs : 'notfound'),\r\n\t\t\tmatchId: id,\r\n\t\t\tside: selectSide(state),\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(withStyles(styles)(ValidItemHoc(Translate(Item))))\r\n}\r\n","import React from 'react'\r\nimport MUIDataTable from 'mui-datatables'\r\nimport { t } from 'selectors'\r\n\r\nconst generalTableOptions = {\r\n\trowsPerPage: 5,\r\n\trowsPerPageOptions: [5, 10, 25, 50, 100],\r\n\tsetTableProps: () => {\r\n\t\treturn {\r\n\t\t\tpadding: 'default',\r\n\t\t\tsize: 'small',\r\n\t\t\twidth: '100%',\r\n\t\t\talign: 'center',\r\n\t\t}\r\n\t},\r\n\ttextLabels: {\r\n\t\tbody: {\r\n\t\t\tnoMatch: t('TABLE_NO_MATCH'),\r\n\t\t\ttoolTip: t('TABLE_TOOLTIP'),\r\n\t\t\tcolumnHeaderTooltip: column =>\r\n\t\t\t\t`${t('TABLE_HEADER_TOOLTIP', {\r\n\t\t\t\t\targs: [column.label || column],\r\n\t\t\t\t})}`,\r\n\t\t},\r\n\t\tpagination: {\r\n\t\t\tnext: t('TABLE_NEXT'),\r\n\t\t\tprevious: t('TABLE_PREV'),\r\n\t\t\trowsPerPage: t('TABLE_ROWS_PER_PAGE'),\r\n\t\t\tdisplayRows: t('TABLE_DISPLAY_ROWS'),\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tsearch: t('TABLE_SEARCH'),\r\n\t\t\tdownloadCsv: t('TABLE_DL_CSV'),\r\n\t\t\tprint: t('TABLE_PRINT'),\r\n\t\t\tviewColumns: t('TABLE_VIEW_COLS'),\r\n\t\t\tfilterTable: t('TABLE_FILTER'),\r\n\t\t},\r\n\t\tfilter: {\r\n\t\t\tall: t('TABLE_FILTER_ALL'),\r\n\t\t\ttitle: t('TABLE_FILTER_TITLE'),\r\n\t\t\treset: t('TABLE_FILTER_RESET'),\r\n\t\t},\r\n\t\tviewColumns: {\r\n\t\t\ttitle: t('TABLE_SHOW_COLS'),\r\n\t\t\ttitleAria: t('TABLE_SHOW_HIDE_COLS'),\r\n\t\t},\r\n\t\tselectedRows: {\r\n\t\t\ttext: t('TABLE_SELECTED_ROWS'),\r\n\t\t\tdelete: t('TABLE_DELETE'),\r\n\t\t\tdeleteAria: t('TABLE_DELETE_SELECTED'),\r\n\t\t},\r\n\t},\r\n}\r\nexport default function MUIDataTableEnhanced(props) {\r\n\tconst { title, data, columns, options } = props\r\n\r\n\treturn (\r\n\t\t<MUIDataTable\r\n\t\t\ttitle={title}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={{\r\n\t\t\t\t...generalTableOptions,\r\n\t\t\t\t...options,\r\n\t\t\t\televation: 2,\r\n\t\t\t\tsearch: !props.noSearch,\r\n\t\t\t\tdownload: !props.noDownload,\r\n\t\t\t\tprint: !props.noPrint,\r\n\t\t\t\tselectableRows: props.rowSelectable ? 'multiple' : 'none',\r\n\t\t\t\tdisableToolbarSelect: props.toolbarEnabled ? false : true,\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport HourglassFullIcon from '@material-ui/icons/HourglassFull'\r\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\r\n\r\nconst mapStatusIcons = (humanFriendlyStatus, status, size) => {\r\n\tconst icon = {\r\n\t\txs: { fontSize: 10 },\r\n\t\tmd: { fontSize: 15 },\r\n\t\tls: { fontSize: 20 },\r\n\t}\r\n\tconst waitIcon = <HourglassFullIcon style={icon[size]} color={'secondary'} />\r\n\tconst doneIcon = <DoneAllIcon style={icon[size]} color={'primary'} />\r\n\tconst warningIcon = <WarningIcon style={icon[size]} color={'error'} />\r\n\tconst cashIcon = <MonetizationOnIcon style={icon[size]} color={'accentTwo'} />\r\n\tif (humanFriendlyStatus === 'Closed' && status.toLowerCase() !== 'exhausted')\r\n\t\treturn waitIcon\r\n\tswitch (status.toLowerCase()) {\r\n\t\tcase 'active':\r\n\t\tcase 'ready':\r\n\t\t\treturn doneIcon\r\n\t\tcase 'pending':\r\n\t\tcase 'initializing':\r\n\t\tcase 'waiting':\r\n\t\t\treturn waitIcon\r\n\t\tcase 'offline':\r\n\t\tcase 'disconnected':\r\n\t\tcase 'unhealthy':\r\n\t\tcase 'invalid':\r\n\t\t\treturn warningIcon\r\n\t\tcase 'withdraw':\r\n\t\t\treturn cashIcon\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n\r\nexport { mapStatusIcons }\r\n","export const styles = theme => ({\r\n\tcellImg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t\tmaxHeight: 60,\r\n\t\tmaxWidth: 180,\r\n\t\tcursor: 'pointer',\r\n\t},\r\n})\r\n","import React from 'react'\r\nimport { Typography, Slider, Box } from '@material-ui/core'\r\nimport { formatAbbrNum } from 'helpers/formatters'\r\n\r\nconst getSliderStep = (min, max, steps, precision = 2) => {\r\n\tconst diff = max - min\r\n\tconst step = diff / steps\r\n\tconst fixed = parseFloat(step.toFixed(precision))\r\n\r\n\treturn fixed\r\n}\r\n\r\nexport const sliderFilterOptions = ({\r\n\tinitial = [],\r\n\tfilterTitle = '',\r\n\tstepsCount = 20,\r\n\tstepsPrecision = 2,\r\n}) => {\r\n\tconst min = initial[0] || 0\r\n\tconst max = initial[1] || 100\r\n\tconst step = getSliderStep(min, max, stepsCount, stepsPrecision)\r\n\treturn {\r\n\t\tfilter: true,\r\n\t\tdisplay: 'true',\r\n\t\tfilterType: 'custom',\r\n\t\tcustomFilterListOptions: {\r\n\t\t\trender: v =>\r\n\t\t\t\t`${filterTitle}: ${formatAbbrNum(v[0], 2)} - ${formatAbbrNum(v[1], 2)}`,\r\n\t\t\tupdate: (filterList, filterPos, index) => {\r\n\t\t\t\tfilterList[index] = []\r\n\t\t\t\treturn filterList\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tfilterOptions: {\r\n\t\t\tnames: [],\r\n\t\t\tlogic: (rowNumber, filters) => {\r\n\t\t\t\tconst formated = Number(rowNumber.toString().replace(/[^0-9.]/g, ''))\r\n\t\t\t\tif (filters.length > 0) {\r\n\t\t\t\t\treturn formated < filters[0] || formated > filters[1]\r\n\t\t\t\t}\r\n\t\t\t\treturn false\r\n\t\t\t},\r\n\t\t\tdisplay: (filterList, onChange, index, column) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Typography id={`range-slider-${column.name}`} gutterBottom>\r\n\t\t\t\t\t\t\t{filterTitle}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Box pl={2} pr={3} pt={2}>\r\n\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\tmin={min}\r\n\t\t\t\t\t\t\t\tmax={max}\r\n\t\t\t\t\t\t\t\tmarks={[\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: min,\r\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(min, 2),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: max,\r\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(max, 2),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t// Max 20 steps (5,000,000 impressions step 1 ...)\r\n\t\t\t\t\t\t\t\tstep={step}\r\n\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\tfilterList[index].length > 0 ? filterList[index] : initial\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonChange={(_, newValue) => {\r\n\t\t\t\t\t\t\t\t\tonChange(newValue, index, column)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\t\taria-labelledby={`range-slider-${column.name}`}\r\n\t\t\t\t\t\t\t\tgetAriaValueText={v => formatAbbrNum(v, 2)}\r\n\t\t\t\t\t\t\t\tvalueLabelFormat={v => formatAbbrNum(v, 2)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport function useTableData({ selector, selectorArgs, getColumns }) {\r\n\tconst [data, setData] = useState([])\r\n\tconst [columns, setColumns] = useState([])\r\n\r\n\tconst selectedData = useSelector(state => selector(state, selectorArgs))\r\n\r\n\tconst reloadData = useCallback(() => {\r\n\t\tsetData(selectedData)\r\n\t\tsetColumns(getColumns())\r\n\t}, [getColumns, selectedData])\r\n\r\n\tuseEffect(() => {\r\n\t\treloadData()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [selectedData.length, selector, selectorArgs])\r\n\r\n\treturn { data, columns, reloadData }\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tIconButton,\r\n\tTooltip,\r\n\tBox,\r\n\tButton,\r\n\tCircularProgress,\r\n} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Refresh, Receipt, Print } from '@material-ui/icons'\r\nimport { t, selectSpinnerById } from 'selectors'\r\nimport { PRINTING_CAMPAIGNS_RECEIPTS } from 'constants/spinners'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nexport function ReloadData({ handleReload }) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip title={t('RELOAD_DATA')}>\r\n\t\t\t\t<IconButton onClick={handleReload}>\r\n\t\t\t\t\t<Refresh />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function ViewAllReceipts({ handleViewAllReceipts }) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip title={t('VIEW_ALL_RECEIPTS_DATA')}>\r\n\t\t\t\t<IconButton onClick={handleViewAllReceipts}>\r\n\t\t\t\t\t<Receipt />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nexport function PrintAllReceipts({ handlePrintAllReceipts, disabled }) {\r\n\tconst classes = useStyles()\r\n\tconst receiptsSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, PRINTING_CAMPAIGNS_RECEIPTS)\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Tooltip title={t('RECEIPTS_PRINT_ALL')}>\r\n\t\t\t\t<Box ml={2} mr={2}>\r\n\t\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\tonClick={handlePrintAllReceipts}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={disabled || receiptsSpinner}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('RECEIPTS_PRINT_ALL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{receiptsSpinner && (\r\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Box>\r\n\t\t\t</Tooltip>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility, Receipt } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectCampaignsTableData,\r\n\tselectMainToken,\r\n\tselectSide,\r\n\tselectCampaignsMaxImpressions,\r\n\tselectCampaignsMaxClicks,\r\n\tselectCampaignsMaxDeposit,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { commify } from 'ethers/utils'\r\nimport { execute, handlePrintSelectedReceipts } from 'actions'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData, PrintAllReceipts } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({\r\n\tclasses,\r\n\tsymbol,\r\n\tmaxImpressions,\r\n\tmaxDeposit,\r\n\tmaxClicks,\r\n}) => [\r\n\t{\r\n\t\tname: 'id',\r\n\t\toptions: {\r\n\t\t\tdisplay: 'excluded',\r\n\t\t\tfilter: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'receiptAvailable',\r\n\t\toptions: {\r\n\t\t\tdisplay: 'excluded',\r\n\t\t\tdownload: false,\r\n\t\t\tfilter: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ side, id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t// TODO: Images issue some stop displaying\r\n\t\t\t\t\t<RRImg\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'status',\r\n\t\tlabel: t('PROP_STATUS'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: false,\r\n\t\t\tfilterOptions: {\r\n\t\t\t\tnames: ['Active', 'Closed', 'Completed'],\r\n\t\t\t\tlogic: (status, filters) => {\r\n\t\t\t\t\tif (filters.length) return !filters.includes(status.humanFriendlyName)\r\n\t\t\t\t\treturn false\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tcustomBodyRender: ({ humanFriendlyName, originalName, id }) => (\r\n\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t{humanFriendlyName}{' '}\r\n\t\t\t\t\t{mapStatusIcons(humanFriendlyName, originalName, 'xs')}\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t\t// TODO: Sorting issue\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'depositAmount',\r\n\t\tlabel: t('PROP_DEPOSIT'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: depositAmount => (\r\n\t\t\t\t<Fragment>{`${depositAmount.toFixed(2)} ${symbol}`}</Fragment>\r\n\t\t\t),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxDeposit],\r\n\t\t\t\tfilterTitle: t('DEPOSIT_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'fundsDistributedRatio',\r\n\t\tlabel: t('PROP_SERVED'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: fundsDistributedRatio =>\r\n\t\t\t\t`${((fundsDistributedRatio || 0) / 10).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, 100],\r\n\t\t\t\tfilterTitle: t('DISTRIBUTED_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${(ctr || 0).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, 100],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'minPerImpression',\r\n\t\tlabel: t('PROP_CPM'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ({ minPerImpression, id }) => (\r\n\t\t\t\t<Fragment key={id}>{`${minPerImpression.toFixed(\r\n\t\t\t\t\t2\r\n\t\t\t\t)} ${symbol}`}</Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'activeFrom',\r\n\t\tlabel: t('PROP_STARTS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: activeFrom => formatDateTime(activeFrom),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'withdrawPeriodStart',\r\n\t\tlabel: t('PROP_ENDS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: withdrawPeriodStart =>\r\n\t\t\t\tformatDateTime(withdrawPeriodStart),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ side, id, receiptReady, to, toReceipt }) => (\r\n\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\treceiptReady\r\n\t\t\t\t\t\t\t\t? t('RECEIPT_VIEW')\r\n\t\t\t\t\t\t\t\t: 'Report not available until the campaign is completed'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* SPAN needed to enable tooltip on hover of disabled element\r\n\t\t\t\t\t\t https://material-ui.com/components/tooltips/#disabled-elements\r\n\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<RRIconButton\r\n\t\t\t\t\t\t\t\tto={toReceipt}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\taria-label='receip'\r\n\t\t\t\t\t\t\t\tdisabled={!receiptReady}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Receipt color={receiptReady ? 'primary' : 'grey'} />\r\n\t\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data, decimals, symbol) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0],\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2],\r\n\t\t\ti.data[3].humanFriendlyName,\r\n\t\t\t`${i.data[4]} ${symbol}`,\r\n\t\t\t`${((i.data[5] || 0) / 10).toFixed(2)} %`,\r\n\t\t\ti.data[6],\r\n\t\t\ti.data[7],\r\n\t\t\ti.data[8],\r\n\t\t\tformatDateTime(i.data[9]),\r\n\t\t\tformatDateTime(i.data[10]),\r\n\t\t\tformatDateTime(i.data[11]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ decimals, symbol, reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data, decimals, symbol),\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\r\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\r\n\t\tconst selectedItems = displayData\r\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\r\n\t\t\t.map(item => item.data[0])\r\n\t\treturn (\r\n\t\t\t<PrintAllReceipts\r\n\t\t\t\thandlePrintAllReceipts={() =>\r\n\t\t\t\t\texecute(handlePrintSelectedReceipts(selectedItems))\r\n\t\t\t\t}\r\n\t\t\t\tdisabled={selectedItems.length === 0}\r\n\t\t\t/>\r\n\t\t)\r\n\t},\r\n})\r\n\r\nfunction CampaignsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst maxImpressions = useSelector(selectCampaignsMaxImpressions)\r\n\tconst maxClicks = useSelector(selectCampaignsMaxClicks)\r\n\tconst maxDeposit = useSelector(selectCampaignsMaxDeposit)\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tdecimals,\r\n\t\t\t\tclasses,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxDeposit,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ decimals, symbol, reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_CAMPAIGNS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\trowSelectable\r\n\t\t\ttoolbarEnabled\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default CampaignsTable\r\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport StepperMUI from '@material-ui/core/Stepper'\r\nimport MobileStepper from '@material-ui/core/MobileStepper'\r\nimport Step from '@material-ui/core/Step'\r\nimport StepLabel from '@material-ui/core/StepLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport { styles } from './styles'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Box from '@material-ui/core/Box'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\r\n\r\nconst getDirtyValidationErrors = (validations = {}) => {\r\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\r\n\t\tconst err = validations[key]\r\n\t\tif (err.dirty) {\r\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\r\n\t\t}\r\n\t\treturn dirtyErrs\r\n\t}, [])\r\n\r\n\treturn errors\r\n}\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\r\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\r\n\t\t\t\t</StepLabel>\r\n\t\t\t\t<MobileStepper\r\n\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\tsteps={pages.length}\r\n\t\t\t\t\tposition={'static'}\r\n\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t></MobileStepper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\r\n\t\t\t{pages.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title}>\r\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nconst MaterialStepper = props => {\r\n\tconst {\r\n\t\tinitialPage = 0,\r\n\t\tpages = [],\r\n\t\t// ...props\r\n\t} = props\r\n\tconst classes = useStyles()\r\n\r\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\r\n\tconst canReverse = pages.length > currentPage && currentPage > 0\r\n\r\n\tconst page = pages[currentPage] || {}\r\n\tconst pageProps = page.props || {}\r\n\tconst { validateId } = pageProps\r\n\tconst Comp = page.component || null\r\n\tconst { pageValidation = null, onValid, stepsId } = page\r\n\r\n\tconst validations = useSelector(state =>\r\n\t\tselectValidationsById(state, validateId)\r\n\t)\r\n\r\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\r\n\tconst isValidPage = useCallback(() => {\r\n\t\treturn !Object.keys(validations || {}).length\r\n\t}, [validations])\r\n\r\n\t// const canAdvance = isValidPage() && !page.completeBtn\r\n\r\n\tconst goToPage = useCallback(\r\n\t\tasync nextStep => {\r\n\t\t\tconst canAdvance = nextStep > currentPage\r\n\t\t\tconst canGoBack = nextStep < currentPage\r\n\r\n\t\t\tif (canAdvance || canGoBack) {\r\n\t\t\t\tsetCurrentPage(nextStep)\r\n\t\t\t}\r\n\t\t},\r\n\t\t[currentPage]\r\n\t)\r\n\r\n\tconst goToPreviousPage = useCallback(async () => {\r\n\t\tif (canReverse) {\r\n\t\t\tgoToPage(currentPage - 1)\r\n\t\t}\r\n\t}, [canReverse, currentPage, goToPage])\r\n\r\n\tconst goToNextPage = useCallback(async () => {\r\n\t\tif (pageValidation) {\r\n\t\t\tpageValidation({\r\n\t\t\t\tstepsId,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty: true,\r\n\t\t\t\tonValid: onValid || (() => goToPage(currentPage + 1)),\r\n\t\t\t})\r\n\t\t} else if (isValidPage()) {\r\n\t\t\tgoToPage(currentPage + 1)\r\n\t\t}\r\n\t}, [\r\n\t\tcurrentPage,\r\n\t\tgoToPage,\r\n\t\tisValidPage,\r\n\t\tonValid,\r\n\t\tpageValidation,\r\n\t\tstepsId,\r\n\t\tvalidateId,\r\n\t])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (pageValidation) {\r\n\t\t\tpageValidation({ stepsId, validateId, dirty: false })\r\n\t\t}\r\n\t}, [currentPage, pageValidation, stepsId, validateId])\r\n\r\n\tconst onKeyPressed = useCallback(\r\n\t\tasync ev => {\r\n\t\t\tif (ev.key === 'Enter') {\r\n\t\t\t\tev.preventDefault()\r\n\t\t\t\tgoToNextPage()\r\n\t\t\t}\r\n\t\t},\r\n\t\t[goToNextPage]\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div className={classes.stepperWrapper} onKeyPress={onKeyPressed}>\r\n\t\t\t<Paper\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: classes.stepperNav,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<StepperNav\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tpages={pages}\r\n\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\tgoToPage={goToPage}\r\n\t\t\t\t/>\r\n\t\t\t</Paper>\r\n\t\t\t<br />\r\n\r\n\t\t\t<Paper\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\troot: classes.pagePaper,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div className={classes.pageContent}>\r\n\t\t\t\t\t{!!Comp && <Comp {...pageProps} />}\r\n\r\n\t\t\t\t\t{!!dirtyErrors && (\r\n\t\t\t\t\t\t<Box color='error.main'>\r\n\t\t\t\t\t\t\t{dirtyErrors.map(err => (\r\n\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\tkey={err.field}\r\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.errChip }}\r\n\t\t\t\t\t\t\t\t\ticon={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\r\n\t\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={classes.controls}>\r\n\t\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t\t{canReverse && !(page.disableBtnsIfValid && isValidPage()) ? (\r\n\t\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\r\n\t\t\t\t\t\t{page.cancelBtn && !(page.disableBtnsIfValid && isValidPage()) ? (\r\n\t\t\t\t\t\t\t<page.cancelBtn />\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t{typeof page.cancelFunction === 'function' &&\r\n\t\t\t\t\t\t!(page.disableBtnsIfValid && isValidPage()) ? (\r\n\t\t\t\t\t\t\t<Button onClick={page.cancelFunction}>{t('CANCEL')}</Button>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{/* {ValidationBtn && <ValidationBtn {...page.props} />} */}\r\n\r\n\t\t\t\t\t\t{!page.completeBtn || !!pageValidation ? (\r\n\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tdisabled={spinner || (!isValidPage() && !pageValidation)}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={goToNextPage}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{spinner && (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{page.completeBtn && !pageValidation && isValidPage() ? (\r\n\t\t\t\t\t\t\t<page.completeBtn />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Paper>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nMaterialStepper.propTypes = {\r\n\tpages: PropTypes.array.isRequired,\r\n}\r\n\r\nexport default MaterialStepper\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst errColor = theme.palette.error.main\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tcolor: 'purple',\r\n\t\t\t'&$active': {\r\n\t\t\t\tcolor: 'green',\r\n\t\t\t},\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: 'yellow',\r\n\t\t},\r\n\t\tstepperWrapper: {\r\n\t\t\t// display: 'flex',\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 0,\r\n\t\t},\r\n\t\tpagePaper: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\ttop: 115,\r\n\t\t},\r\n\t\tpageContent: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 20,\r\n\t\t\tleft: 20,\r\n\t\t\tright: 20,\r\n\t\t\tbottom: 50,\r\n\t\t\tpadding: 20,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflex: 1,\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tWebkitOverflowScrolling: 'touch',\r\n\t\t\t'@media(max-width:500px)': {\r\n\t\t\t\tpaddingLeft: 0,\r\n\t\t\t\tpaddingRight: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontrols: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 5,\r\n\t\t\tleft: 20,\r\n\t\t\tright: 20,\r\n\t\t},\r\n\t\tright: {\r\n\t\t\ttextAlign: 'right',\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '86%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tleft: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\ttextAlign: 'left',\r\n\t\t\twidth: '50%',\r\n\t\t\t'@media(max-width:475px)': {\r\n\t\t\t\twidth: '14%',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmobileStepper: {\r\n\t\t\twidth: '100%',\r\n\t\t\t'& div': {\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\theight: '10px',\r\n\t\t\t},\r\n\t\t},\r\n\t\tmobileStepLabel: {\r\n\t\t\t'& span': {\r\n\t\t\t\tfontSize: '24px',\r\n\t\t\t\tmargin: '14px auto',\r\n\t\t\t},\r\n\t\t\ttextAlign: 'center',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t\terrChip: {\r\n\t\t\tcolor: errColor,\r\n\t\t\tborderColor: errColor,\r\n\t\t\t'& svg': {\r\n\t\t\t\tcolor: errColor,\r\n\t\t\t},\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component, forwardRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport { t } from 'selectors'\r\n\r\nclass FormSteps extends Component {\r\n\tshouldComponentUpdate(nextProps) {\r\n\t\treturn JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst pages = []\r\n\t\tconst {\r\n\t\t\tSaveBtn,\r\n\t\t\tCancelBtn,\r\n\t\t\tcancelFunction,\r\n\t\t\tonSave,\r\n\t\t\tstepsId,\r\n\t\t\tstepsPages,\r\n\t\t\tstepsPreviewPage,\r\n\t\t\tvalidateIdBase,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\tconst cancelButton = () => (\r\n\t\t\t<CancelBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t)\r\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\r\n\r\n\t\tstepsPages.forEach((page, index) => {\r\n\t\t\tpages.push({\r\n\t\t\t\ttitle: t(page.title),\r\n\t\t\t\tcancelBtn: cancelButton,\r\n\t\t\t\tcomponent: !page.pageValidation\r\n\t\t\t\t\t? ValidItemHoc(page.page || page)\r\n\t\t\t\t\t: page.page || page,\r\n\t\t\t\tpageValidation: page.pageValidation,\r\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\r\n\t\t\t\tstepsId,\r\n\t\t\t\tprops: { ...this.props, stepsId, validateId: validateId + '-' + index },\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\tpages.push({\r\n\t\t\ttitle: t(stepsPreviewPage.title || 'PREVIEW'),\r\n\t\t\tcompleteBtn: () => (\r\n\t\t\t\t<SaveBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t\t),\r\n\t\t\tcancelBtn: cancelButton,\r\n\t\t\tcomponent: ValidItemHoc(stepsPreviewPage.page || stepsPreviewPage),\r\n\t\t\tstepsId,\r\n\t\t\tprops: {\r\n\t\t\t\t...this.props,\r\n\t\t\t\tvalidateId: validateId + '-' + stepsPages.length,\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t// <div style={{ textAlign: 'left' }}>\r\n\t\t\t<MaterialStepper pages={pages} />\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nFormSteps.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\titemPages: PropTypes.arrayOf(PropTypes.func),\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsPages: PropTypes.arrayOf(PropTypes.object),\r\n}\r\n\r\nexport default forwardRef((props, ref) => (\r\n\t<FormSteps {...props} forwardedRef={ref} />\r\n))\r\n","import grey from '@material-ui/core/colors/grey'\r\n\r\nexport const styles = theme => {\r\n\tconst spacing = theme.spacing(3)\r\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\r\n\treturn {\r\n\t\tdialog: {\r\n\t\t\tminHeight: `${fullHeight}px`,\r\n\t\t\tminWidth: 1024,\r\n\t\t\tmaxWidth: 1080,\r\n\t\t\tbackgroundColor: grey[200], // TODO: color,\r\n\t\t\t// maxHeight: `${fullHeight}`,\r\n\t\t\t'@media(max-width:1080px)': {\r\n\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t\t},\r\n\t\t\t'@media(max-height:823px)': {\r\n\t\t\t\tminHeight: `calc(${fullHeight} - ${theme.spacing(2)}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdialogTitle: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\twordWrap: 'break-word',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t\toverflowY: 'auto',\r\n\t\t},\r\n\t\tcontentBox: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 0,\r\n\t\t\t// left: 0,\r\n\t\t\t// bottom: 0,\r\n\t\t\t// right: 0,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tpropRow: {\r\n\t\t\tmargin: '10px 0',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tcontentBody: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tcontentTopLoadingCircular: {\r\n\t\t\tflexShrink: 0,\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tcontentTopLoading: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t\t'& > div': {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttextBtn: {\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tbtnIconLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tleftCol: {\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\r\n\t\t\ttextAlign: 'right',\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\ttextAlign: 'left',\r\n\t\t\t},\r\n\t\t},\r\n\t\trightCol: {\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tprogressCircleCenter: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 30px)',\r\n\t\t\ttop: 'calc(50% - 30px)',\r\n\t\t},\r\n\t\tfloating: {\r\n\t\t\tposition: 'fixed',\r\n\t\t\ttop: 86,\r\n\t\t\tright: 40,\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t},\r\n\t\tbreakLong: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\toverflowWrap: 'break-word',\r\n\t\t\thyphens: 'auto',\r\n\t\t},\r\n\t\tdemoImg: {\r\n\t\t\ttop: 'auto',\r\n\t\t\tleft: 'auto',\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\twidth: '100px',\r\n\t\t\theight: 'auto',\r\n\t\t\tposition: 'absolute',\r\n\t\t},\r\n\t\tdemoBody: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontentStickyTop: {\r\n\t\t\tmarginBottom: '2rem',\r\n\t\t},\r\n\t\tfullContentMessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment, useState, forwardRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport classnames from 'classnames'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { t } from 'selectors'\r\n\r\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName={classnames(classes.textBtn, className)}\r\n\t\t\tstyle={style}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t{' '}\r\n\t\t\t{label}{' '}\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nconst TextBtn = withStyles(styles)(textBtn)\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n\treturn <Slide direction='up' ref={ref} {...props} />\r\n})\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport default function ItemHoc(Decorated) {\r\n\tfunction WithDialog(props) {\r\n\t\tconst {\r\n\t\t\tforwardedRef,\r\n\t\t\ticonButton,\r\n\t\t\ttextButton,\r\n\t\t\tfabButton,\r\n\t\t\tvariant,\r\n\t\t\tfabVariant,\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tmini,\r\n\t\t\tbtnLabelArgs,\r\n\t\t\tbtnLabel,\r\n\t\t\tdisabled,\r\n\t\t\tclassName,\r\n\t\t\ticon,\r\n\t\t\ttitle,\r\n\t\t\tdialogActions,\r\n\t\t\tonClick,\r\n\t\t\tfullWidth,\r\n\t\t\tonBeforeOpen,\r\n\t\t\t...rest\r\n\t\t} = props\r\n\r\n\t\tconst btnProps = {\r\n\t\t\tcolor,\r\n\t\t\tsize,\r\n\t\t\tvariant,\r\n\t\t}\r\n\r\n\t\tconst classes = useStyles()\r\n\t\tconst [open, setOpen] = useState(false)\r\n\r\n\t\tconst handleToggle = async () => {\r\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\r\n\t\t\t\tawait onBeforeOpen()\r\n\t\t\t}\r\n\r\n\t\t\tsetOpen(!open)\r\n\t\t}\r\n\r\n\t\tconst handleClick = async ev => {\r\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\r\n\t\t\tev && ev.preventDefault && ev.preventDefault()\r\n\t\t\tawait handleToggle()\r\n\t\t\tif (onClick) onClick()\r\n\t\t}\r\n\r\n\t\tconst closeDialog = () => {\r\n\t\t\tsetOpen(false)\r\n\t\t}\r\n\r\n\t\tlet ButtonComponent = null\r\n\r\n\t\tif (iconButton) {\r\n\t\t\tButtonComponent = IconButton\r\n\t\t} else if (textButton) {\r\n\t\t\tButtonComponent = TextBtn\r\n\t\t} else if (fabButton) {\r\n\t\t\tButtonComponent = Fab\r\n\t\t} else {\r\n\t\t\tButtonComponent = Button\r\n\t\t\tbtnProps.fullWidth = fullWidth\r\n\t\t}\r\n\r\n\t\tconst btnLabelTranslated = btnLabel\r\n\t\t\t? t(btnLabel, { args: btnLabelArgs || [''] })\r\n\t\t\t: ''\r\n\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<ButtonComponent\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\taria-label={btnLabelTranslated}\r\n\t\t\t\t\tlabel={btnLabelTranslated}\r\n\t\t\t\t\tonClick={ev => handleClick(ev)}\r\n\t\t\t\t\t{...btnProps}\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\r\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\r\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{icon}\r\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\r\n\t\t\t\t</ButtonComponent>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\t// disableBackdropClick\r\n\t\t\t\t\t// disableEscapeKeyDown\r\n\t\t\t\t\t// maxWidth=\"xs\"\r\n\t\t\t\t\t// fullScreen\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tonClose={handleToggle}\r\n\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t\t\t// onEscKeyDown={handleToggle}\r\n\t\t\t\t\t// onOverlayClick={handleToggle}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle disableTypography>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tvariant='subtitle1'\r\n\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t(title)}\r\n\t\t\t\t\t\t\t<IconButton onClick={handleToggle}>\r\n\t\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</DialogTitle>{' '}\r\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\r\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\r\n\t\t\t\t</Dialog>\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}\r\n\r\n\tWithDialog.propTypes = {\r\n\t\tbtnLabel: PropTypes.string,\r\n\t\ttitle: PropTypes.string.isRequired,\r\n\t\tfloating: PropTypes.bool,\r\n\t\tonBeforeOpen: PropTypes.func,\r\n\t}\r\n\r\n\treturn forwardRef((props, ref) => (\r\n\t\t<WithDialog {...props} forwardedRef={ref} />\r\n\t))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdUnit } from 'adex-models'\r\n\r\nexport default function NewAdUnitHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'AdUnit',\r\n\t\t\t\tAdUnit\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { actions, newItem } = this.props\r\n\t\t\tactions.addUnit(newItem)\r\n\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('AdUnit')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('AdUnit')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { memory } = state\r\n\t\treturn {\r\n\t\t\tnewItem: new AdUnit(memory.newItem['AdUnit']),\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Select from '@material-ui/core/Select'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport classnames from 'classnames'\r\nimport { styles } from './styles'\r\nimport { t } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Dropdown(props) {\r\n\tconst classes = useStyles()\r\n\r\n\tconst {\r\n\t\tonChange,\r\n\t\tlabel = '',\r\n\t\tvalue,\r\n\t\tsource = [],\r\n\t\thtmlId = 'some-id',\r\n\t\tdisabled = false,\r\n\t\terror = false,\r\n\t\thelperText,\r\n\t\t// margin = '',\r\n\t\tfullWidth = false,\r\n\t\tclassName,\r\n\t\trequired,\r\n\t\tloading,\r\n\t\tnoSrcLabel,\r\n\t\tvariant,\r\n\t\tIconComponent,\r\n\t} = props\r\n\r\n\tconst inputLabel = React.useRef(null)\r\n\tconst [labelWidth, setLabelWidth] = React.useState(0)\r\n\tReact.useEffect(() => {\r\n\t\tsetLabelWidth(inputLabel.current.offsetWidth)\r\n\t}, [])\r\n\r\n\tconst handleChange = event => {\r\n\t\tonChange(event.target.value)\r\n\t}\r\n\r\n\t// TODO: add native renderer for mobile devices when supported\r\n\treturn (\r\n\t\t<FormControl\r\n\t\t\tclassName={classnames(className, classes.formControl)}\r\n\t\t\tdisabled={disabled}\r\n\t\t\terror={error}\r\n\t\t\tfullWidth={fullWidth}\r\n\t\t\tvariant={variant}\r\n\t\t>\r\n\t\t\t<InputLabel ref={inputLabel} htmlFor={htmlId} required={required}>\r\n\t\t\t\t{label}\r\n\t\t\t</InputLabel>\r\n\t\t\t{!!source.length && !loading ? (\r\n\t\t\t\t<Select\r\n\t\t\t\t\tvalue={value.id || value}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tlabelWidth={labelWidth}\r\n\t\t\t\t\tIconComponent={IconComponent}\r\n\t\t\t\t>\r\n\t\t\t\t\t{[...source].map(src => {\r\n\t\t\t\t\t\treturn src.group ? (\r\n\t\t\t\t\t\t\t<ListSubheader key={src.group.name || src.group}>\r\n\t\t\t\t\t\t\t\t{src.group.name || src.group}\r\n\t\t\t\t\t\t\t</ListSubheader>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\r\n\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{src.label}\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Select>\r\n\t\t\t) : !loading ? (\r\n\t\t\t\t<Input disabled value={noSrcLabel} />\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Input disabled value={t('LOADING_DATA')} />\r\n\t\t\t\t\t<InputLoading />\r\n\t\t\t\t</>\r\n\t\t\t)}{' '}\r\n\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\r\n\t\t</FormControl>\r\n\t)\r\n}\r\n\r\nDropdown.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tvalue: PropTypes.oneOfType([\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.bool,\r\n\t]),\r\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\r\n\tdisabled: PropTypes.bool,\r\n\terror: PropTypes.bool,\r\n\thtmlId: PropTypes.string.isRequired,\r\n\tdisplayEmpty: PropTypes.bool,\r\n\thelperText: PropTypes.string,\r\n\tIconComponent: PropTypes.elementType,\r\n}\r\n\r\nexport default Dropdown\r\n","export const styles = theme => ({\r\n\tformControl: {\r\n\t\t// margin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n})\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants, schemas, Joi } from 'adex-models'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\r\n\r\nconst { adUnitPost } = schemas\r\n\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nclass AdUnitBasic extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tconst { newItem } = props\r\n\t\tthis.validateTitle(newItem.title, false)\r\n\t\tthis.validateDescription(newItem.description, false)\r\n\t\tthis.validateTargetUrl(newItem.targetUrl, false)\r\n\t\tthis.validateAndUpdateType(false, newItem.type)\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (\r\n\t\t\tprevProps.newItem.title !== this.props.newItem.title ||\r\n\t\t\tprevProps.newItem.type !== this.props.newItem.type ||\r\n\t\t\tprevProps.newItem.temp.addUtmLink !== this.props.newItem.temp.addUtmLink\r\n\t\t) {\r\n\t\t\tthis.addUtmParameters()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateTitle(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adUnitPost.title)\r\n\r\n\t\tthis.props.validate('title', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateDescription(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adUnitPost.description)\r\n\r\n\t\tthis.props.validate('description', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateTargetUrl(targetUrl, dirty) {\r\n\t\tconst withHttp = url => (!/^https?:\\/\\//i.test(url) ? `http://${url}` : url)\r\n\t\tconst result = Joi.validate(withHttp(targetUrl), adUnitPost.targetUrl)\r\n\t\tthis.props.validate('targetUrl', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t\tif (!result.error) this.addUtmParameters(withHttp(targetUrl))\r\n\t}\r\n\r\n\tvalidateAndUpdateType = (dirty, value) => {\r\n\t\tconst result = Joi.validate(value, adUnitPost.type)\r\n\t\tthis.props.handleChange('type', value)\r\n\t\tthis.props.validate('type', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\taddUtmParameters(targetUrl) {\r\n\t\tconst { handleChange, newItem } = this.props\r\n\t\tconst { title, type, temp } = newItem\r\n\t\tconst { addUtmLink } = temp\r\n\t\tif (!!targetUrl) {\r\n\t\t\tconst newTargetUrl = addUrlUtmTracking({\r\n\t\t\t\ttargetUrl,\r\n\t\t\t\tcampaign: title,\r\n\t\t\t\tcontent: type,\r\n\t\t\t\tremoveFromUrl: !addUtmLink,\r\n\t\t\t})\r\n\t\t\thandleChange('targetUrl', newTargetUrl)\r\n\t\t}\r\n\t}\r\n\r\n\thandleChangeAddUtmLink(ev) {\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.addUtmLink = ev.target.checked\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, newItem, invalidFields, handleChange } = this.props\r\n\t\tconst { targetUrl, type, title, description, temp } = newItem\r\n\t\tconst { addUtmLink } = temp\r\n\t\tconst errTitle = invalidFields['title']\r\n\t\tconst errDescription = invalidFields['description']\r\n\t\tconst errTargetUrl = invalidFields['targetUrl']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => {\r\n\t\t\t\t\t\t\t\tthis.validateDescription(description, true)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTargetUrl(targetUrl, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTargetUrl(targetUrl, false)}\r\n\t\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty ? errTargetUrl.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tchecked={addUtmLink}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleChangeAddUtmLink(ev)}\r\n\t\t\t\t\t\t\t\t\tvalue='checkedB'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('ADD_UTM_LINK')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\r\n\t\t\t\t\t\t\tsource={AdTypes}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitBasic.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdUnitBasic = NewAdUnitHoc(AdUnitBasic)\r\n\r\nexport default Translate(NewAdUnitBasic)\r\n","import url from 'url'\r\nimport { UTM_PARAMS } from 'constants/misc'\r\n\r\nexport const addUrlUtmTracking = ({\r\n\ttargetUrl,\r\n\tcampaign,\r\n\tcontent,\r\n\tremoveFromUrl,\r\n}) => {\r\n\tif (!!targetUrl) {\r\n\t\tconst URL = url.parse(targetUrl, true)\r\n\t\tURL.search = null\r\n\r\n\t\tif (URL.protocol && URL.host) {\r\n\t\t\tconst newQuery = {}\r\n\t\t\tif (removeFromUrl) {\r\n\t\t\t\tfor (let [key, value] of Object.entries(URL.query)) {\r\n\t\t\t\t\tif (UTM_PARAMS[key] !== value) {\r\n\t\t\t\t\t\tnewQuery[key] = value\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = newQuery\r\n\t\t\t} else {\r\n\t\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\r\n\r\n\t\t\t\tif (campaign) {\r\n\t\t\t\t\tquery['utm_campaign'] = campaign\r\n\t\t\t\t}\r\n\t\t\t\tif (content) {\r\n\t\t\t\t\tquery['utm_content'] = content\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = query\r\n\t\t\t}\r\n\t\t\treturn url.format(URL)\r\n\t\t}\r\n\t}\r\n\r\n\treturn targetUrl\r\n}\r\n","/**\r\n * @param {String} objUrl - Image blob url URL.createObjectURL\r\n * @param {Object} pixelCrop - pixelCrop Object provided by react-image-crop\r\n * @param {String} fileName - Name of the returned file in Promise\r\n */\r\nexport const getCroppedImgUrl = ({ objUrl, pixelCrop, fileName, size }) => {\r\n\t// TODO: Validate pixelCrop and size\r\n\tconst cropCanvas = document.createElement('canvas')\r\n\tconst scaleCanvas = document.createElement('canvas')\r\n\r\n\tconst img = new Image()\r\n\timg.crossOrigin = 'Anonymous' // For ipfs URL\r\n\timg.src = objUrl\r\n\r\n\t// As a blob\r\n\treturn new Promise((resolve, reject) => {\r\n\t\timg.onload = () => {\r\n\t\t\tconst width = img.width\r\n\t\t\tconst height = img.height\r\n\r\n\t\t\t// pixelCrop come in %\r\n\t\t\tconst crop = {\r\n\t\t\t\tx: Math.round(width * (pixelCrop.x / 100)),\r\n\t\t\t\ty: Math.round(height * (pixelCrop.y / 100)),\r\n\t\t\t\twidth: Math.round(width * (pixelCrop.width / 100)),\r\n\t\t\t\theight: Math.round(height * (pixelCrop.height / 100)),\r\n\t\t\t}\r\n\r\n\t\t\tcropCanvas.width = crop.width\r\n\t\t\tcropCanvas.height = crop.height\r\n\t\t\tconst cctx = cropCanvas.getContext('2d')\r\n\r\n\t\t\tcctx.drawImage(\r\n\t\t\t\timg,\r\n\t\t\t\tcrop.x,\r\n\t\t\t\tcrop.y,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.width = size.width\r\n\t\t\tscaleCanvas.height = size.height\r\n\r\n\t\t\tconst sctx = scaleCanvas.getContext('2d')\r\n\r\n\t\t\tsctx.drawImage(\r\n\t\t\t\tcropCanvas,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tsize.width,\r\n\t\t\t\tsize.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.toBlob(file => {\r\n\t\t\t\tif (!file) {\r\n\t\t\t\t\treject('Error cropping file')\r\n\t\t\t\t}\r\n\t\t\t\tfile.name = fileName\r\n\t\t\t\tresolve(URL.createObjectURL(file))\r\n\t\t\t}, 'image/jpeg')\r\n\t\t}\r\n\t})\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Img from 'components/common/img/Img'\r\n// import debounce from 'debounce'\r\nimport Dropzone from 'react-dropzone'\r\nimport Translate from 'components/translate/Translate'\r\nimport Button from '@material-ui/core/Button'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ReactCrop from 'react-image-crop'\r\nimport { getCroppedImgUrl } from 'services/images/crop'\r\nimport CropIcon from '@material-ui/icons/Crop'\r\nimport ClearIcon from '@material-ui/icons/Clear'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport FileUploadIcon from '@material-ui/icons/CloudUpload'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass ImgForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tconst { size, imgSrc, mime } = props\r\n\t\tconst aspect = size ? size.width / size.height : undefined\r\n\r\n\t\tthis.state = {\r\n\t\t\timgSrc: imgSrc || '',\r\n\t\t\tmime: mime || '',\r\n\t\t\timgName: '',\r\n\t\t\tcropMode: false,\r\n\t\t\tcrop: { aspect: aspect },\r\n\t\t}\r\n\t}\r\n\r\n\tonDrop = (acceptedFiles, rejectedFiles) => {\r\n\t\tconst that = this\r\n\t\tconst file = acceptedFiles[0]\r\n\t\tif (!file) return\r\n\t\tconst objectUrl = URL.createObjectURL(file)\r\n\r\n\t\tthat.setState({\r\n\t\t\timgSrc: objectUrl,\r\n\t\t\timgName: file.name,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\r\n\t\tthis.props.onChange({\r\n\t\t\ttempUrl: objectUrl,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\t}\r\n\r\n\tonRemove = e => {\r\n\t\tthis.preventBubbling(e)\r\n\r\n\t\tconst { imgSrc } = this.state\r\n\r\n\t\tif (imgSrc) {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tthis.setState({ imgSrc: '', imgName: '' })\r\n\t\t\tthis.props.onChange({ tempUrl: null, mime: null })\r\n\t\t}\r\n\t}\r\n\r\n\tonCropChange = crop => {\r\n\t\tthis.setState({ crop })\r\n\t}\r\n\r\n\tsaveCropped = () => {\r\n\t\tconst { imgSrc, crop, mime, imgName } = this.state\r\n\t\tconst { onChange, size } = this.props\r\n\t\tgetCroppedImgUrl({\r\n\t\t\tobjUrl: imgSrc,\r\n\t\t\tpixelCrop: crop,\r\n\t\t\tfileName: `cropped-${imgName}`,\r\n\t\t\tsize,\r\n\t\t}).then(croppedBlob => {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tthis.setState({ imgSrc: croppedBlob, cropMode: false })\r\n\t\t\tonChange({\r\n\t\t\t\ttempUrl: croppedBlob,\r\n\t\t\t\tmime,\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tpreventBubbling = e => {\r\n\t\tif (e.stopPropagation) {\r\n\t\t\te.stopPropagation()\r\n\t\t}\r\n\t\tif (e.nativeEvent) {\r\n\t\t\te.nativeEvent.stopImmediatePropagation()\r\n\t\t}\r\n\t}\r\n\r\n\tUploadInfo = () => {\r\n\t\tconst { t, classes, size, errMsg } = this.props\r\n\t\tconst { imgSrc, mime } = this.state\r\n\t\treturn (\r\n\t\t\t<div className={classes.uploadInfo}>\r\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\r\n\t\t\t\t\t<div className={classes.uploadActions}>\r\n\t\t\t\t\t\t{/* TEMP: make size required */}\r\n\t\t\t\t\t\t{!!size && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\tthis.preventBubbling(e)\r\n\t\t\t\t\t\t\t\t\tthis.setState({ cropMode: true })\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={this.onRemove}\r\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<FileUploadIcon />\r\n\t\t\t\t)}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\r\n\t\t\t\t\t\t{errMsg}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: CLEAR IMG BLOB!!!!\r\n\trender() {\r\n\t\tconst { t, classes, label, additionalInfo } = this.props\r\n\t\tconst { crop, cropMode, imgName, imgSrc, mime } = this.state\r\n\r\n\t\tconst videoSrc = isVideoMedia(mime)\r\n\t\treturn (\r\n\t\t\t<div className={classes.imgForm}>\r\n\t\t\t\t<AppBar\r\n\t\t\t\t\tposition='static'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.header,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t{imgSrc && imgName ? (\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{label || 'Image'}: {imgName}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<span> {label || 'Upload image'} </span>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{cropMode ? (\r\n\t\t\t\t\t\t<div className={classes.dropzone} onClick={this.preventBubbling}>\r\n\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t<ReactCrop\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: 320 }}\r\n\t\t\t\t\t\t\t\t\t\timageStyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '320px',\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 'auto',\r\n\t\t\t\t\t\t\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\t\tcrop={crop}\r\n\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onCropChange}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.saveCropped}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ cropMode: false })}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Dropzone\r\n\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\r\n\t\t\t\t\t\t\tonDrop={this.onDrop}\r\n\t\t\t\t\t\t\tclassName={classes.dropzone}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t{videoSrc ? (\r\n\t\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\t\t\talt={'name'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t<this.UploadInfo />\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Dropzone>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> {additionalInfo} </small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImgForm.propTypes = {\r\n\timgSrc: PropTypes.string,\r\n\tlabel: PropTypes.string,\r\n\tsize: PropTypes.object,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(ImgForm))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\theader: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tdropzone: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\tborder: `2px dashed ${theme.palette.grey[500]}`,\r\n\t\t\tbackground: theme.palette.background.default,\r\n\t\t\tpadding: 10,\r\n\t\t\tcursor: 'pointer',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timgDropzonePreview: {\r\n\t\t\tmaxHeight: 320,\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdropzoneBtn: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tleftIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tuploadActions: {\r\n\t\t\tmarginTop: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\r\n\r\nexport default function ValidImageHoc(Decorated) {\r\n\tclass ValidImage extends Component {\r\n\t\tvalidate = ({\r\n\t\t\tpropsName,\r\n\t\t\twidthTarget,\r\n\t\t\theightTarget,\r\n\t\t\tmediaWidth,\r\n\t\t\tmediaHeight,\r\n\t\t\tmsg,\r\n\t\t\texact,\r\n\t\t\trequired,\r\n\t\t\tonChange,\r\n\t\t\tmime,\r\n\t\t\ttempUrl,\r\n\t\t}) => {\r\n\t\t\tlet isValid = true\r\n\r\n\t\t\tif (exact) {\r\n\t\t\t\tisValid = checkExactishAspect(\r\n\t\t\t\t\twidthTarget,\r\n\t\t\t\t\tmediaWidth,\r\n\t\t\t\t\theightTarget,\r\n\t\t\t\t\tmediaHeight\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\r\n\t\t\tconst masgArgs = [widthTarget, heightTarget, 'px']\r\n\r\n\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: msg, args: masgArgs },\r\n\t\t\t\tdirty: true,\r\n\t\t\t})\r\n\r\n\t\t\tconst resMedia = {\r\n\t\t\t\twidth: mediaWidth,\r\n\t\t\t\theight: mediaHeight,\r\n\t\t\t\tmime,\r\n\t\t\t\ttempUrl,\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof onChange === 'function') {\r\n\t\t\t\tonChange(propsName, resMedia)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalidateMedia = async (\r\n\t\t\t{\r\n\t\t\t\tpropsName,\r\n\t\t\t\twidthTarget,\r\n\t\t\t\theightTarget,\r\n\t\t\t\tmsg,\r\n\t\t\t\texact,\r\n\t\t\t\trequired,\r\n\t\t\t\tonChange,\r\n\t\t\t} = {},\r\n\t\t\tmedia\r\n\t\t) => {\r\n\t\t\tif (!required && !media.tempUrl && onChange) {\r\n\t\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\t\tisValid: true,\r\n\t\t\t\t\terr: { msg: msg, args: [] },\r\n\t\t\t\t\tdirty: true,\r\n\t\t\t\t})\r\n\t\t\t\t// TODO: fix this\r\n\t\t\t\tonChange(propsName, media)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif (!media.mime || !media.tempUrl) {\r\n\t\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\t\tisValid: false,\r\n\t\t\t\t\tdirty: true,\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\r\n\r\n\t\t\tthis.validate({\r\n\t\t\t\tpropsName,\r\n\t\t\t\twidthTarget,\r\n\t\t\t\theightTarget,\r\n\t\t\t\tmediaWidth: size.width,\r\n\t\t\t\tmediaHeight: size.height,\r\n\t\t\t\tmsg,\r\n\t\t\t\texact,\r\n\t\t\t\trequired,\r\n\t\t\t\tonChange,\r\n\t\t\t\tmime: media.mime,\r\n\t\t\t\ttempUrl: media.tempUrl,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn <Decorated {...props} validateMedia={this.validateMedia} />\r\n\t\t}\r\n\t}\r\n\r\n\tValidImage.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { memory } = state\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidImage))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\n\r\nconst getWidAndHightFromType = type => {\r\n\ttype = type || ''\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n\r\nclass AdUnitMedia extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem, validate, validateMedia } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst { tempUrl, mime } = temp\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tif (tempUrl) {\r\n\t\t\tvalidateMedia(\r\n\t\t\t\t{\r\n\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\texact: true,\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttempUrl,\r\n\t\t\t\t\tmime,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\tvalidate('temp', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleImgChange = (prop, img) => {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst newTemp = { ...newItem.temp, ...img }\r\n\t\thandleChange(prop, newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { newItem, t, validateMedia } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst errImg = this.props.invalidFields['temp']\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\r\n\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\tmime={temp.mime || ''}\r\n\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\r\n\t\t\t\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\r\n\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitMedia.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tnewItem: PropTypes.object.isRequired,\r\n}\r\n\r\nconst NewAdUnitMedia = NewAdUnitHoc(ValidImageHoc(AdUnitMedia))\r\n\r\nexport default Translate(NewAdUnitMedia)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { translate } from 'services/translations/translations'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\n\r\nexport const renderInput = inputProps => {\r\n\tconst { InputProps, classes, ref, ...other } = inputProps\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tInputProps={{\r\n\t\t\t\tinputRef: ref,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.inputRoot,\r\n\t\t\t\t},\r\n\t\t\t\t...InputProps,\r\n\t\t\t}}\r\n\t\t\t{...other}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const renderSuggestion = ({\r\n\tsuggestion,\r\n\tindex,\r\n\tstyle,\r\n\titemProps,\r\n\thighlightedIndex,\r\n\tselectedItem,\r\n\tshowSelected,\r\n}) => {\r\n\tconst isHighlighted = highlightedIndex === index\r\n\t// TODO: make it better\r\n\t// Note wo work with obj and array\r\n\tconst isSelected =\r\n\t\t((selectedItem || {}).value || selectedItem || '').indexOf(\r\n\t\t\tsuggestion.value\r\n\t\t) > -1\r\n\r\n\tif (!showSelected && isSelected) {\r\n\t\treturn null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={style}>\r\n\t\t\t<ListItem\r\n\t\t\t\tbutton\r\n\t\t\t\t{...itemProps}\r\n\t\t\t\tkey={suggestion.value || suggestion.label}\r\n\t\t\t\tselected={isHighlighted}\r\n\t\t\t\tcomponent='div'\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tfontWeight: isSelected ? 500 : 400,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<ListItemText primary={suggestion.label} />\r\n\t\t\t</ListItem>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst newSuggestion = inputValue => {\r\n\treturn {\r\n\t\tlabel: `${translate(\r\n\t\t\t'CREATE_TAG_LABEL'\r\n\t\t)} \"${inputValue.toLowerCase().trim()}\"`,\r\n\t\tvalue: inputValue.toLowerCase().trim(),\r\n\t}\r\n}\r\n\r\nrenderSuggestion.propTypes = {\r\n\thighlightedIndex: PropTypes.number,\r\n\tindex: PropTypes.number,\r\n\titemProps: PropTypes.object,\r\n\tselectedItem: PropTypes.string,\r\n\tsuggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\r\n}\r\n\r\nexport const getSuggestions = (\r\n\tinputValue = '',\r\n\tsource,\r\n\tallowCreate,\r\n\tvalidateCreation\r\n) => {\r\n\tif (!inputValue) {\r\n\t\treturn source\r\n\t} else {\r\n\t\tinputValue = inputValue.toLowerCase().trim()\r\n\r\n\t\tsource = source.filter(suggestion => {\r\n\t\t\treturn (\r\n\t\t\t\t!inputValue ||\r\n\t\t\t\tsuggestion.label\r\n\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t.trim()\r\n\t\t\t\t\t.indexOf(inputValue) !== -1\r\n\t\t\t)\r\n\t\t})\r\n\r\n\t\t// Making sure that an option to create a new item will exist when needed\r\n\t\tconst values = source.map(item => {\r\n\t\t\treturn item.value\r\n\t\t})\r\n\r\n\t\tif (\r\n\t\t\t!values.includes(inputValue) &&\r\n\t\t\tallowCreate &&\r\n\t\t\t(!validateCreation || validateCreation(inputValue))\r\n\t\t) {\r\n\t\t\tsource.push(newSuggestion(inputValue))\r\n\t\t}\r\n\r\n\t\treturn source\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { Autocomplete as AutocompleteMUI } from '@material-ui/lab'\r\nimport { getSuggestions } from './common'\r\n\r\nfunction Autocomplete(props) {\r\n\tconst {\r\n\t\tclasses,\r\n\t\tsource,\r\n\t\tmultiple,\r\n\t\tlabel,\r\n\t\tvariant,\r\n\t\tallowCreate,\r\n\t\tvalidateCreation,\r\n\t\terror,\r\n\t\terrorText,\r\n\t\tonInit,\r\n\t\tonChange,\r\n\t\tdefaultValue,\r\n\t} = props\r\n\tconst [inputValue, setInputValue] = useState('')\r\n\r\n\tconst suggestions = getSuggestions(\r\n\t\tinputValue,\r\n\t\tsource,\r\n\t\tallowCreate,\r\n\t\tvalidateCreation\r\n\t)\r\n\tuseEffect(() => {\r\n\t\tonInit()\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst handleChange = item => {\r\n\t\tconst selectedItem = item ? item.value || item.label : item\r\n\t\tonChange(selectedItem)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.container}>\r\n\t\t\t\t<AutocompleteMUI\r\n\t\t\t\t\tmultiple={multiple}\r\n\t\t\t\t\toptions={suggestions}\r\n\t\t\t\t\tgetOptionLabel={option => option.label}\r\n\t\t\t\t\tonChange={(_, newValue) => handleChange(newValue)}\r\n\t\t\t\t\tonInputChange={(_, newValue) => setInputValue(newValue)}\r\n\t\t\t\t\tdefaultValue={defaultValue}\r\n\t\t\t\t\trenderInput={params => {\r\n\t\t\t\t\t\tif (defaultValue) params.inputProps.value = defaultValue\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\t\t\tvariant={variant}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\terror={error}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t{error && (\r\n\t\t\t\t\t<FormHelperText error id='component-error-text'>\r\n\t\t\t\t\t\t{errorText}\r\n\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAutocomplete.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withStyles(styles)(Autocomplete)\r\n","export const styles = theme => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: 250,\r\n\t},\r\n\tcontainer: {\r\n\t\tflexGrow: 1,\r\n\t\tposition: 'relative',\r\n\t},\r\n\tpaper: {\r\n\t\tposition: 'absolute',\r\n\t\t// TODO: fix the component and do nou use z-index\r\n\t\tzIndex: 1000,\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\toverflow: 'hidden',\r\n\t\theight: 150,\r\n\t\twidth: '100%',\r\n\t},\r\n\tchip: {\r\n\t\tmargin: `${theme.spacing(1) / 2}px ${theme.spacing(1) / 2}px`,\r\n\t},\r\n\tinputRoot: {\r\n\t\tflexWrap: 'wrap',\r\n\t},\r\n})\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { translate } from 'services/translations/translations'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { SOURCES } from 'constants/targeting'\r\n\r\nconst styles = {\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n\tmarkLabel: {\r\n\t\ttop: '30px',\r\n\t},\r\n}\r\nconst marks = [\r\n\t{\r\n\t\tvalue: 5,\r\n\t\tlabel: 'Low',\r\n\t},\r\n\t{\r\n\t\tvalue: 50,\r\n\t\tlabel: 'Medium',\r\n\t},\r\n\t{\r\n\t\tvalue: 95,\r\n\t\tlabel: 'High',\r\n\t},\r\n]\r\n\r\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\r\n\treturn {\r\n\t\tvalue: {\r\n\t\t\tkey: key, // FOR DROPDOWN\r\n\t\t\tsource: key,\r\n\t\t\tcollection: SOURCES[key].collection,\r\n\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t},\r\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\r\n\t}\r\n})\r\n\r\nclass AdUnitTargeting extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { targets } = props.newItem.temp || {}\r\n\t\tthis.state = {\r\n\t\t\ttargets: [...(targets || [])],\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNewItemCollections(targets) {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst collections = [...targets].reduce(\r\n\t\t\t(all, tg) => {\r\n\t\t\t\tconst newCollection = all[tg.collection] || []\r\n\r\n\t\t\t\t// NOTE: just skip empty tags\r\n\t\t\t\tif (!!tg.target.tag) {\r\n\t\t\t\t\tnewCollection.push(tg.target)\r\n\t\t\t\t}\r\n\t\t\t\tall[tg.collection] = newCollection\r\n\t\t\t\treturn all\r\n\t\t\t},\r\n\t\t\t{ targeting: [], tags: [] }\r\n\t\t)\r\n\r\n\t\tconst { temp } = newItem\r\n\t\tconst newTemp = { ...temp }\r\n\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.targets = [...targets]\r\n\t\tcollections.temp = newTemp\r\n\r\n\t\thandleChange(null, null, collections)\r\n\t}\r\n\r\n\thandleTargetChange = (index, prop, newValue) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...newTargets[index].target }\r\n\t\tnewTarget[prop] = newValue\r\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tnewTarget = target => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.key = newTargets.length\r\n\t\tnewTarget.target = { ...target.target }\r\n\t\tnewTargets.push(newTarget)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tremoveTarget = index => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tnewTargets.splice(index, 1)\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t\tthis.validateAutocomplete({\r\n\t\t\tid: `target-${index}`,\r\n\t\t\tisValid: true,\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\r\n\t\tthis.props.validate(id, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})\r\n\t}\r\n\r\n\ttargetTag = ({\r\n\t\tsource = [],\r\n\t\tcollection,\r\n\t\tplaceholder,\r\n\t\tlabel,\r\n\t\tindex,\r\n\t\ttarget,\r\n\t\tt,\r\n\t\tclasses,\r\n\t\tinvalidFields,\r\n\t}) => {\r\n\t\tconst id = `target-${index}`\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\tdirection='auto'\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\r\n\t\t\t\t\t\terrorText={\r\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\r\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonChange={newValue => {\r\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: newValue,\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonInit={() =>\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: target.tag,\r\n\t\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalidateAutocomplete={this.validateAutocomplete}\r\n\t\t\t\t\t\t// validate={validate}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tdefaultValue={target.tag || null}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={11} md={5}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography id={`tbaget-score-${index}`}>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [target.score],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\r\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tmarks={marks}\r\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\r\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\r\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// newItem,\r\n\t\t\tclasses,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\t// const { targeting, tags } = newItem\r\n\r\n\t\tconst { targets } = this.state\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t{[...targets].map(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tsource = '',\r\n\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\t\t\ttarget = {},\r\n\t\t\t\t\t\t\t\t} = {},\r\n\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t\t<this.targetTag\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\r\n\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={target => {\r\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t\tIconComponent={AddIcon}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitTargeting.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdUnitTargeting = NewAdUnitHoc(withStyles(styles)(AdUnitTargeting))\r\n\r\nexport default Translate(NewAdUnitTargeting)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\r\nimport WcIcon from '@material-ui/icons/Wc'\r\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\r\nimport CompareArrows from '@material-ui/icons/CompareArrows'\r\n\r\nconst targetIcon = {\r\n\tlocation: LocationOnIcon,\r\n\tgender: WcIcon,\r\n\tage: ChildCareIcon,\r\n}\r\n\r\nconst getTargetType = tag => {\r\n\tconst type = tag.split('_')[0] || 'tags'\r\n\treturn type\r\n}\r\n\r\nclass UnitTargets extends Component {\r\n\ttargetArrayValues = (target, type, t, index) => {\r\n\t\tconst TargetIcon = targetIcon[type] || CompareArrows\r\n\t\treturn (\r\n\t\t\t<span key={target.tag + target.score + index}>\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t<TargetIcon />\r\n\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tprimary={t(target.tag, { isTarget: true })}\r\n\t\t\t\t\t\tsecondary={target.score}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<Divider />\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\tTargetsList = ({ targets = [], subHeader, t, ...rest }) => (\r\n\t\t<List\r\n\t\t\tdense\r\n\t\t\tsubheader={\r\n\t\t\t\tsubHeader ? <ListSubheader>{t(subHeader)}</ListSubheader> : null\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{targets.map(target => {\r\n\t\t\t\tconst type = getTargetType(target.tag)\r\n\t\t\t\treturn this.targetArrayValues(target, type, t)\r\n\t\t\t})}\r\n\t\t</List>\r\n\t)\r\n\r\n\trender() {\r\n\t\treturn <this.TargetsList {...this.props} />\r\n\t}\r\n}\r\n\r\nUnitTargets.propTypes = {\r\n\ttargets: PropTypes.array.isRequired,\r\n\tsubHeader: PropTypes.string,\r\n\tt: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default UnitTargets\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { CircularProgress } from '@material-ui/core'\r\nimport { styles } from './styles.js'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { t } from 'selectors'\r\n\r\n// TODO: fix responsive styles\r\nconst propRow = ({\r\n\tclasses,\r\n\tleft,\r\n\tright,\r\n\tclassName,\r\n\tclassNameLeft,\r\n\tclassNameRight,\r\n\tstyle = {},\r\n}) => (\r\n\t<Grid\r\n\t\titem\r\n\t\tcontainer\r\n\t\tspacing={2}\r\n\t\txs={12}\r\n\t\tclassName={classnames(className)}\r\n\t\tstyle={style}\r\n\t>\r\n\t\t<Grid\r\n\t\t\titem\r\n\t\t\txs={12}\r\n\t\t\tsm={4}\r\n\t\t\tlg={3}\r\n\t\t\tclassName={classnames(classes.leftCol, classes.uppercase, classNameLeft)}\r\n\t\t>\r\n\t\t\t{left}\r\n\t\t</Grid>\r\n\t\t<Grid\r\n\t\t\titem\r\n\t\t\txs={12}\r\n\t\t\tsm={8}\r\n\t\t\tlg={9}\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tclasses.rightCol,\r\n\t\t\t\tclasses.breakLong,\r\n\t\t\t\tclassNameRight\r\n\t\t\t)}\r\n\t\t>\r\n\t\t\t{right}\r\n\t\t</Grid>\r\n\t</Grid>\r\n)\r\n\r\nconst contentBox = ({ classes, children, className }) => (\r\n\t<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tdisplay='flex'\r\n\t\tflexDirection='column'\r\n\t\tclassName={className}\r\n\t>\r\n\t\t{children}\r\n\t</Box>\r\n)\r\n\r\nconst contentBody = ({ classes, children, className }) => (\r\n\t<Box flexGrow={1} className={className}>\r\n\t\t{children}\r\n\t</Box>\r\n)\r\n\r\nconst contentStickyTop = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\r\n)\r\n\r\nconst topLoading = ({ classes, msg, subMsg, className }) => (\r\n\t<div className={classnames(classes.contentTopLoading)}>\r\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\r\n\t\t<div>\r\n\t\t\t<Typography component='div'> {msg} </Typography>\r\n\t\t\t{subMsg && (\r\n\t\t\t\t<Typography component='div'>\r\n\t\t\t\t\t<strong>{subMsg}</strong>\r\n\t\t\t\t</Typography>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t</div>\r\n)\r\n\r\nconst fullContentSpinner = ({ classes }) => (\r\n\t<CircularProgress\r\n\t\tclassName={classnames(classes.progressCircleCenter)}\r\n\t\tsize={50}\r\n\t/>\r\n)\r\n\r\nconst fullContentMessage = ({\r\n\tchildren,\r\n\tmsgs = [],\r\n\tspinner,\r\n\tcolor = 'primary',\r\n}) => (\r\n\t<Box\r\n\t\twidth={1}\r\n\t\theight={1}\r\n\t\tdisplay='flex'\r\n\t\tflexDirection='column'\r\n\t\talignItems='center'\r\n\t\tjustifyContent='center'\r\n\t\tbgcolor={`${color}.main`}\r\n\t\tcolor={`${color}.contrastText`}\r\n\t>\r\n\t\t{spinner && (\r\n\t\t\t<Box p={4}>\r\n\t\t\t\t<CircularProgress\r\n\t\t\t\t\tcolor={`${color}.contrastText`}\r\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\r\n\t\t\t\t\tsize={69}\r\n\t\t\t\t/>\r\n\t\t\t</Box>\r\n\t\t)}\r\n\t\t{children}\r\n\t\t{msgs\r\n\t\t\t.filter(x => !!x && x.message)\r\n\t\t\t.map((msg, index) => {\r\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Typography key={index} component='div'>\r\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t</Box>\r\n)\r\n\r\nexport const PropRow = withStyles(styles)(propRow)\r\nexport const ContentBox = withStyles(styles)(contentBox)\r\nexport const ContentBody = withStyles(styles)(contentBody)\r\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\r\nexport const TopLoading = withStyles(styles)(topLoading)\r\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\r\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\timgPreview: {\r\n\t\t\tmaxHeight: 225,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t\timgPreviewWrapper: {\r\n\t\t\theight: 'max-content',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Img from 'components/common/img/Img'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\n\r\nclass AdUnitFormPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, account, ...rest } = this.props\r\n\t\tconst { newItem, t } = rest\r\n\t\tconst { type, title, description, temp, targeting } = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.wallet.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('MEDIA')}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\r\n\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\talt={title}\r\n\t\t\t\t\t\t\t\tmediaMime={temp.mime}\r\n\t\t\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{targeting && (\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitFormPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nconst NewAdUnitFormPreview = NewAdUnitHoc(withStyles(styles)(AdUnitFormPreview))\r\nexport default connect(mapStateToProps)(Translate(NewAdUnitFormPreview))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Campaign } from 'adex-models'\r\nimport { OPENING_CAMPAIGN } from 'constants/spinners'\r\n\r\nexport default function NewCampaignHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'Campaign',\r\n\t\t\t\tCampaign\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = async () => {\r\n\t\t\tconst { actions, newItem } = this.props\r\n\t\t\tconst { temp } = newItem\r\n\t\t\tconst newTemp = { ...temp }\r\n\t\t\tnewTemp.waitingAction = true\r\n\t\t\tthis.handleChange('temp', newTemp)\r\n\t\t\tawait actions.openCampaign({ campaign: newItem })\r\n\r\n\t\t\tnewTemp.waitingAction = false\r\n\t\t\tthis.handleChange('temp', newTemp)\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('Campaign')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('Campaign')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\r\n\t\tconst adUnits = persist.items['AdUnit'] || {}\r\n\t\tconst adUnitsArray = Object.values(adUnits) || []\r\n\t\treturn {\r\n\t\t\tnewItem: new Campaign(memory.newItem['Campaign']),\r\n\t\t\tadUnits,\r\n\t\t\tadUnitsArray,\r\n\t\t\tspinner: memory.spinners[OPENING_CAMPAIGN],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { ContentBody } from 'components/common/dialog/content'\r\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsArray,\r\n\tselectAdUnits,\r\n\tselectNewCampaign,\r\n} from 'selectors'\r\nimport { updateNewCampaign, execute } from 'actions'\r\n\r\nfunction CampaignUnits(props) {\r\n\tconst { temp } = useSelector(selectNewCampaign)\r\n\tconst { selectedUnits } = temp\r\n\tconst allAdUnits = useSelector(selectAdUnits)\r\n\tconst allAdUnitsArray = useSelector(selectAdUnitsArray)\r\n\tconst hasAdUnits = allAdUnitsArray && allAdUnitsArray.length\r\n\r\n\tconst handleSelect = ({ selectedIndexes, selectedItemsIds } = {}) => {\r\n\t\tconst units = Object.values(selectedItemsIds).map(value => {\r\n\t\t\treturn allAdUnits[value]\r\n\t\t})\r\n\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.selectedUnits = selectedIndexes\r\n\r\n\t\texecute(updateNewCampaign('adUnits', units))\r\n\t\texecute(updateNewCampaign('temp', newTemp))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\tdirection={hasAdUnits ? null : 'column'}\r\n\t\t\t\talignItems={hasAdUnits ? null : 'center'}\r\n\t\t\t>\r\n\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{hasAdUnits ? (\r\n\t\t\t\t\t\t\t<AdUnitsTable\r\n\t\t\t\t\t\t\t\tselected={selectedUnits}\r\n\t\t\t\t\t\t\t\titems={allAdUnitsArray}\r\n\t\t\t\t\t\t\t\tvalidate={props.validate}\r\n\t\t\t\t\t\t\t\thandleSelect={handleSelect}\r\n\t\t\t\t\t\t\t\tnoClone\r\n\t\t\t\t\t\t\t\tnoDownload\r\n\t\t\t\t\t\t\t\trowSelectable\r\n\t\t\t\t\t\t\t\tnoPrint\r\n\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\r\n\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\r\n\t\t\t\t\t\t\t\t<NewUnitDialog\r\n\t\t\t\t\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default CampaignUnits\r\n","import React, { Component } from 'react'\r\nimport { DateTimePicker as MuiDateTimePicker } from '@material-ui/pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CalendarIcon from '@material-ui/icons/DateRange'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\n\r\nconst CalendarIconAdor = ({\r\n\ticon = <CalendarIcon />,\r\n\ticonColor,\r\n\tonIconClick,\r\n}) => (\r\n\t<InputAdornment position='end'>\r\n\t\t<IconButton color={iconColor} onClick={onIconClick}>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t</InputAdornment>\r\n)\r\n\r\nexport class DateTimePicker extends Component {\r\n\trender() {\r\n\t\tconst { calendarIcon, icon, iconColor, onIconClick, ...rest } = this.props\r\n\t\treturn (\r\n\t\t\t<MuiDateTimePicker\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\t\tendAdornment: calendarIcon ? (\r\n\t\t\t\t\t\t<CalendarIconAdor\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : null,\r\n\t\t\t\t}}\r\n\t\t\t\t{...rest}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default DateTimePicker\r\n\r\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\r\n\treturn (\r\n\t\t<DateTimePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport FormGroup from '@material-ui/core/FormGroup'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport { utils } from 'ethers'\r\nimport MomentUtils from '@date-io/moment'\r\nimport {\r\n\tselectSpinnerById,\r\n\tselectMainToken,\r\n\tselectNewCampaign,\r\n\tselectValidationsById,\r\n\tt,\r\n} from 'selectors'\r\nimport { execute, updateNewCampaign, validateNumberString } from 'actions'\r\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\r\nimport { validations } from 'adex-models'\r\nconst { isNumberString } = validations\r\n\r\nconst moment = new MomentUtils()\r\n\r\nconst getTotalImpressions = ({ depositAmount, minPerImpression }) => {\r\n\ttry {\r\n\t\tconst dep = isNumberString(depositAmount) && parseFloat(depositAmount)\r\n\t\tconst min = isNumberString(minPerImpression) && parseFloat(minPerImpression)\r\n\t\tif (!dep) {\r\n\t\t\treturn t('DEPOSIT_NOT_SET')\r\n\t\t} else if (!min) {\r\n\t\t\treturn t('CPM_NOT_SET')\r\n\t\t} else {\r\n\t\t\tconst impressions = utils.commify(Math.floor((dep / min) * 1000))\r\n\t\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\r\n\t\t}\r\n\t} catch (err) {\r\n\t\treturn 'N/A'\r\n\t}\r\n}\r\n\r\nfunction CampaignFinance({ validateId }) {\r\n\tconst invalidFields = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst campaign = useSelector(selectNewCampaign)\r\n\r\n\tconst {\r\n\t\ttitle,\r\n\t\tvalidators,\r\n\t\tdepositAmount,\r\n\t\tminPerImpression,\r\n\t\t// depositAsset,\r\n\t\tactiveFrom,\r\n\t\twithdrawPeriodStart,\r\n\t\tminTargetingScore,\r\n\t\ttemp = {},\r\n\t} = campaign\r\n\r\n\tconst { maxChannelFees, maxDepositFormatted } = temp\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\r\n\t)\r\n\r\n\tconst from = activeFrom || undefined\r\n\tconst to = withdrawPeriodStart || undefined\r\n\tconst now = moment.date().valueOf()\r\n\r\n\tconst errTitle = invalidFields['title']\r\n\tconst errDepAmnt = invalidFields['depositAmount']\r\n\tconst errMin = invalidFields['minPerImpression']\r\n\tconst errFrom = invalidFields['activeFrom']\r\n\tconst errTo = invalidFields['withdrawPeriodStart']\r\n\r\n\tconst impressions = getTotalImpressions({\r\n\t\tdepositAmount,\r\n\t\tminPerImpression,\r\n\t})\r\n\r\n\tconst leader = validators[0] || {}\r\n\tconst follower = validators[1] || {}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('title', ev.target.value))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<FormControl fullWidth disabled>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor='leader-validator'>\r\n\t\t\t\t\t\t\t\t{t('ADV_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t<Input id='leader-validator' value={leader.url || ''} />\r\n\t\t\t\t\t\t\t<FormHelperText>{leader.id}</FormHelperText>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<FormControl fullWidth disabled>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor='follower-validator'>\r\n\t\t\t\t\t\t\t\t{t('PUB_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t<Input id='follower-validator' value={follower.url || ''} />\r\n\t\t\t\t\t\t\t<FormHelperText>{follower.id}</FormHelperText>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [maxDepositFormatted, symbol, maxChannelFees, symbol],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tname='depositAmount'\r\n\t\t\t\t\t\t\tvalue={depositAmount}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('depositAmount', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'depositAmount',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty ? errDepAmnt.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={minPerImpression}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('minPerImpression', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty ? errMin.errMsg : t('CPM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\r\n\t\t\t\t\t\t\tminDate={now}\r\n\t\t\t\t\t\t\tmaxDate={to}\r\n\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('activeFrom', val.valueOf()))\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvalue={from || null}\r\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\r\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\r\n\t\t\t\t\t\t\tminDate={from || now}\r\n\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('withdrawPeriodStart', val.valueOf()))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvalue={to || null}\r\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\r\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'minTargetingScore',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nCampaignFinance.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignFinance\r\n","import React from 'react'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { TopLoading } from 'components/common/dialog/content'\r\n\r\nexport const WalletAction = ({ t, authType }) => {\r\n\tlet msg = ''\r\n\tlet subMsg\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\r\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.LEDGER.name:\r\n\t\t\tmsg = 'LEDGER_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport { Grid, CircularProgress } from '@material-ui/core'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport {\r\n\tselectAccountIdentityAddr,\r\n\tselectAuthType,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tt,\r\n} from 'selectors'\r\nimport { execute, getCampaignActualFees } from 'actions'\r\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\r\n\r\nconst UnitsTable = ({ items }) => {\r\n\treturn (\r\n\t\t<Grid item sm={12}>\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<AdUnitsTable items={items} noSearch noActions noDownload noPrint />\r\n\t\t\t</ContentBody>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nfunction CampaignFormPreview({ newItem } = {}) {\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst authType = useSelector(selectAuthType)\r\n\tconst mainToken = useSelector(selectMainToken)\r\n\tconst { symbol } = mainToken\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\r\n\t)\r\n\r\n\tconst {\r\n\t\ttitle,\r\n\t\t// targeting,\r\n\t\tadUnits,\r\n\t\tvalidators,\r\n\t\tdepositAmount,\r\n\t\tminPerImpression,\r\n\t\t// maxPerImpression,\r\n\t\t// depositAsset,\r\n\t\twithdrawPeriodStart,\r\n\t\tactiveFrom,\r\n\t\tminTargetingScore,\r\n\t\t// nonce\r\n\t\ttemp = {},\r\n\t} = newItem\r\n\r\n\tconst { feesFormatted, totalSpendFormatted } = temp\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(getCampaignActualFees())\r\n\t}, [])\r\n\r\n\treturn spinner ? (\r\n\t\t<FullContentSpinner />\r\n\t) : (\r\n\t\t<ContentBox>\r\n\t\t\t{temp.waitingAction ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<WalletAction t={t} authType={authType} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\r\n\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/> */}\r\n\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('validators', { isProp: true })}\r\n\t\t\t\t\tright={\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{validators.map(val => (\r\n\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('CPM', { isProp: true })}\r\n\t\t\t\t\tright={`${minPerImpression} ${symbol}`}\r\n\t\t\t\t/>\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\tright={`${depositAmount} ${symbol}`}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('FEES')}\r\n\t\t\t\t\tright={\r\n\t\t\t\t\t\tfeesFormatted !== undefined ? (\r\n\t\t\t\t\t\t\t`${feesFormatted} ${symbol}`\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<CircularProgress size={42} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('CAMPAIGN_FEES_AND_BUDGET')}\r\n\t\t\t\t\tright={\r\n\t\t\t\t\t\ttotalSpendFormatted !== undefined ? (\r\n\t\t\t\t\t\t\t`${totalSpendFormatted} ${symbol}`\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<CircularProgress size={42} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('maxPerImpression', { isProp: true })}\r\n\t\t\t\t\t\tright={maxPerImpression}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\tright={formatDateTime(activeFrom)}\r\n\t\t\t\t/>\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\r\n\t\t\t\t/>\r\n\t\t\t\t{minTargetingScore && <PropRow right={t('CAMPAIGN_MIN_TARGETING')} />}\r\n\t\t\t\t<PropRow\r\n\t\t\t\t\tleft={t('adUnits', { isProp: true })}\r\n\t\t\t\t\tright={<UnitsTable items={adUnits} />}\r\n\t\t\t\t/>\r\n\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('created', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(created)}\r\n\t\t\t\t\t/> */}\r\n\r\n\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t<br />\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nCampaignFormPreview.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n}\r\n\r\nconst NewCampaignFormPreview = NewCampaignHoc(CampaignFormPreview)\r\nexport default NewCampaignFormPreview\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\n\r\nexport default function NewAdUnitHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'AdSlot',\r\n\t\t\t\tAdSlot\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { actions, newItem } = this.props\r\n\r\n\t\t\tactions.addSlot(newItem)\r\n\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('AdSlot')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('AdSlot')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { memory } = state\r\n\t\treturn {\r\n\t\t\tnewItem: new AdSlot(memory.newItem['AdSlot']),\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { FullContentSpinner } from 'components/common/dialog/content'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectNewAdSlot,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n\tselectSlotTypesSourceWithDemands,\r\n} from 'selectors'\r\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\r\nimport {\r\n\tupdateSlotsDemandThrottled,\r\n\tvalidateNumberString,\r\n\tupdateNewSlot,\r\n\texecute,\r\n} from 'actions'\r\n\r\nfunction AdSlotBasic({ validateId }) {\r\n\tconst newItem = useSelector(selectNewAdSlot)\r\n\tconst adTypesSource = useSelector(selectSlotTypesSourceWithDemands)\r\n\tconst {\r\n\t\ttitle = '',\r\n\t\tdescription = '',\r\n\t\twebsite = '',\r\n\t\ttype = '',\r\n\t\tminPerImpression = '',\r\n\t} = newItem\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, UPDATING_SLOTS_DEMAND)\r\n\t)\r\n\r\n\tconst invalidFields = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateSlotsDemandThrottled())\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst {\r\n\t\ttitle: errTitle,\r\n\t\tdescription: errDescription,\r\n\t\twebsite: errWebsite,\r\n\t\ttype: errType,\r\n\t\tminPerImpression: errMin,\r\n\t} = invalidFields\r\n\r\n\tconst { symbol } = selectMainToken\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => execute(updateNewSlot('title', ev.target.value))}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('description', ev.target.value))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('SLOT_WEBSITE')}\r\n\t\t\t\t\t\t\tname='website'\r\n\t\t\t\t\t\t\tvalue={website}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('website', ev.target.value))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={errWebsite && !!errWebsite.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrWebsite && !!errWebsite.dirty ? (\r\n\t\t\t\t\t\t\t\t\terrWebsite.errMsg\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={value => execute(updateNewSlot('type', value))}\r\n\t\t\t\t\t\t\tsource={adTypesSource}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t\terror={errType && !!errType.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrType && !!errType.dirty\r\n\t\t\t\t\t\t\t\t\t? errType.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_TYPE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={minPerImpression || ''}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tconst value = ev.target.value\r\n\t\t\t\t\t\t\t\texecute(updateNewSlot('minPerImpression', value))\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\r\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAdSlotBasic.propTypes = {\r\n\tvalidateId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default AdSlotBasic\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport { schemas, Joi } from 'adex-models'\r\n\r\nconst { adUnitPost } = schemas\r\n\r\nconst getWidAndHightFromType = type => {\r\n\ttype = type || 'legacy_300x250'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n\r\nclass AdSlotMedia extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tconst { temp, targetUrl } = newItem\r\n\t\tconst { useFallback } = temp\r\n\r\n\t\tif (useFallback) {\r\n\t\t\tthis.validateImage(useFallback)\r\n\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateImage = useFallback => {\r\n\t\tconst { newItem, validate, validateMedia } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst { tempUrl, mime } = temp\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tif (!useFallback) {\r\n\t\t\tvalidate('temp', {\r\n\t\t\t\tisValid: true,\r\n\t\t\t\terr: {\r\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t},\r\n\t\t\t\tdirty: true,\r\n\t\t\t})\r\n\t\t} else if (tempUrl) {\r\n\t\t\tvalidateMedia(\r\n\t\t\t\t{\r\n\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\texact: true,\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttempUrl,\r\n\t\t\t\t\tmime,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateFallbackUrl = (targetUrl, dirty, useFallback) => {\r\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\r\n\t\tthis.props.validate('targetUrl', {\r\n\t\t\tisValid: !useFallback || !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\thandleFallbackChange = useFallback => {\r\n\t\tconst { temp, targetUrl } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.useFallback = useFallback\r\n\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t\tthis.validateFallbackUrl(targetUrl, null, useFallback)\r\n\t\tthis.validateImage(useFallback)\r\n\t}\r\n\r\n\thandleImgChange = (prop, img) => {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst newTemp = { ...newItem.temp, ...img }\r\n\t\thandleChange(prop, newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tnewItem,\r\n\t\t\tt,\r\n\t\t\tvalidateMedia,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t} = this.props\r\n\t\tconst { targetUrl, type, temp } = newItem\r\n\t\tconst useFallback = temp.useFallback || false\r\n\t\tconst errImg = this.props.invalidFields['temp']\r\n\t\tconst errFallbackUrl = invalidFields['targetUrl']\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\tchecked={useFallback}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleFallbackChange(ev.target.checked)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormHelperText>{t('USE_FALLBACK_DATA_INFO')}</FormHelperText>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Collapse in={useFallback}>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\r\n\t\t\t\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, false, useFallback)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\r\n\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotMedia.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tnewItem: PropTypes.object.isRequired,\r\n}\r\n\r\nconst NewAdSlotMedia = NewAdSlotHoc(ValidImageHoc(AdSlotMedia))\r\n\r\nexport default Translate(NewAdSlotMedia)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst AcTags = autocompleteTagsSingleSelect()\r\n\r\nconst SOURCES = {\r\n\ttags: { src: AcTags, collection: 'tags' },\r\n\tcustom: { src: [], collection: 'tags' },\r\n}\r\n\r\nconst styles = {\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n\tmarkLabel: {\r\n\t\ttop: '30px',\r\n\t},\r\n}\r\nconst marks = [\r\n\t{\r\n\t\tvalue: 5,\r\n\t\tlabel: 'Low',\r\n\t},\r\n\t{\r\n\t\tvalue: 50,\r\n\t\tlabel: 'Medium',\r\n\t},\r\n\t{\r\n\t\tvalue: 95,\r\n\t\tlabel: 'High',\r\n\t},\r\n]\r\n\r\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\r\n\treturn {\r\n\t\tvalue: {\r\n\t\t\tkey: key, // FOR DROPDOWN\r\n\t\t\tsource: key,\r\n\t\t\tcollection: SOURCES[key].collection,\r\n\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t},\r\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\r\n\t}\r\n})\r\n\r\nclass AdSlotTargeting extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { targets } = props.newItem.temp || {}\r\n\t\tthis.state = {\r\n\t\t\ttargets: targets || [],\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNewItemCollections(targets) {\r\n\t\tconst collections = [...targets].reduce(\r\n\t\t\t(all, tg) => {\r\n\t\t\t\tconst newCollection = all[tg.collection] || []\r\n\t\t\t\t// NOTE: just skip empty tags\r\n\t\t\t\tif (!!tg.target.tag) {\r\n\t\t\t\t\tnewCollection.push(tg.target)\r\n\t\t\t\t}\r\n\t\t\t\tall[tg.collection] = newCollection\r\n\t\t\t\treturn all\r\n\t\t\t},\r\n\t\t\t{ targeting: [], tags: [] }\r\n\t\t)\r\n\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.targets = [...targets]\r\n\t\tcollections.temp = newTemp\r\n\r\n\t\tthis.props.handleChange(null, null, collections)\r\n\t}\r\n\r\n\thandleTargetChange = (index, prop, newValue) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...newTargets[index].target }\r\n\t\tnewTarget[prop] = newValue\r\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tnewTarget = target => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.key = newTargets.length\r\n\t\tnewTarget.target = { ...target.target }\r\n\t\tnewTargets.push(newTarget)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tremoveTarget = index => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tnewTargets.splice(index, 1)\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t\tthis.validateAutocomplete({\r\n\t\t\tid: `target-${index}`,\r\n\t\t\tisValid: true,\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\r\n\t\tthis.props.validate(id, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})\r\n\t}\r\n\r\n\ttargetTag = ({\r\n\t\tsource = [],\r\n\t\tcollection,\r\n\t\tplaceholder,\r\n\t\tlabel,\r\n\t\tindex,\r\n\t\ttarget,\r\n\t\tt,\r\n\t\tclasses,\r\n\t\tinvalidFields,\r\n\t}) => {\r\n\t\tconst id = `target-${index}`\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\tdirection='auto'\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\r\n\t\t\t\t\t\terrorText={\r\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\r\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonChange={newValue => {\r\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: newValue,\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonInit={() =>\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: target.tag,\r\n\t\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// validate={validate}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={11} md={5}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography id={`target-score-${index}`}>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [target.score],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\r\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tmarks={marks}\r\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\r\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\r\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// newItem,\r\n\t\t\tclasses,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\t// const { targeting, tags } = newItem\r\n\r\n\t\tconst { targets } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{[...targets].map(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tsource = '',\r\n\t\t\t\t\t\t\t\t\tcollection,\r\n\t\t\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\t\t\ttarget = {},\r\n\t\t\t\t\t\t\t\t} = {},\r\n\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t\t<this.targetTag\r\n\t\t\t\t\t\t\t\t\tkey={index} // TODO\r\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\r\n\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={target => {\r\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t\tIconComponent={AddIcon}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotTargeting.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdSlotTargeting = NewAdSlotHoc(withStyles(styles)(AdSlotTargeting))\r\n\r\nexport default Translate(NewAdSlotTargeting)\r\n","import React, { Fragment } from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectWebsiteByWebsite, t } from 'selectors'\r\n\r\nconst getIssue = issue => {\r\n\tconst data = {\r\n\t\tlabel: issue,\r\n\t\targs: [],\r\n\t}\r\n\tswitch (issue) {\r\n\t\tcase 'SLOT_ISSUE_INTEGRATION_NOT_VERIFIED':\r\n\t\t\tdata.args = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'anchor',\r\n\t\t\t\t\thref:\r\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012022820-How-to-implement-an-ad-slot-to-your-website',\r\n\t\t\t\t\tlabel: 'HERE',\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t\treturn data\r\n\t\tcase 'SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED':\r\n\t\t\tdata.args = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'anchor',\r\n\t\t\t\t\thref:\r\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain',\r\n\t\t\t\t\tlabel: 'HERE',\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t\treturn data\r\n\r\n\t\tdefault:\r\n\t\t\treturn data\r\n\t}\r\n}\r\n\r\nexport function WebsiteIssues({ issues, website }) {\r\n\tconst site = useSelector(state => selectWebsiteByWebsite(state, website))\r\n\tconst data = issues || site.issues || []\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{data.map((x = {}) => {\r\n\t\t\t\tconst { label, args } = getIssue(x)\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Typography key={label} component='div' color='primary' gutterBottom>\r\n\t\t\t\t\t\t{t(label, {\r\n\t\t\t\t\t\t\targs: args.map((a, index) =>\r\n\t\t\t\t\t\t\t\ta.type === 'anchor' ? (\r\n\t\t\t\t\t\t\t\t\t<ExternalAnchor key={index} href={a.href}>\r\n\t\t\t\t\t\t\t\t\t\t{t(a.label)}\r\n\t\t\t\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\tt(a)\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import React, { Component, Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { Typography } from '@material-ui/core'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Img from 'components/common/img/Img'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { WebsiteIssues } from 'components/dashboard/containers/Slot/WebsiteIssues'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\nimport { selectMainToken } from 'selectors'\r\n\r\nconst SlotFallback = ({ img, targetUrl, t, classes }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\timg: classes.imgPreview,\r\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\r\n\t\t\t\t\t\talt={targetUrl}\r\n\t\t\t\t\t\tmediaMime={img.mime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\r\n\t\t\t\t\t\t{targetUrl}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nclass AdSlotPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, account, mainTokenSymbol, ...rest } = this.props\r\n\t\tconst { newItem, t } = rest\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\ttitle,\r\n\t\t\tdescription,\r\n\t\t\twebsite,\r\n\t\t\ttemp,\r\n\t\t\ttags,\r\n\t\t\ttargetUrl,\r\n\t\t\tminPerImpression,\r\n\t\t} = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.wallet.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow left={t('website', { isProp: true })} right={website} />\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{temp.hostname && temp.issues && temp.issues.length && (\r\n\t\t\t\t\t\t<PropRow right={<WebsiteIssues issues={temp.issues} />} />\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('MIN_CPM_SLOT_LABEL')}\r\n\t\t\t\t\t\tright={`${minPerImpression} ${mainTokenSymbol}`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{temp.useFallback && (\r\n\t\t\t\t\t\t<SlotFallback\r\n\t\t\t\t\t\t\timg={temp}\r\n\t\t\t\t\t\t\ttargetUrl={targetUrl}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{tags && (\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('tags', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\ttargets={tags}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotPreview.propTypes = {\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tmainTokenSymbol: selectMainToken(state).symbol,\r\n\t}\r\n}\r\n\r\nconst NewAdSlotPreview = NewAdSlotHoc(withStyles(styles)(AdSlotPreview))\r\nexport default connect(mapStateToProps)(Translate(NewAdSlotPreview))\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport FormSteps from 'components/dashboard/forms/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport NewAdUnitHoc from './AdUnit/NewAdUnitHoc'\r\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\r\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\r\nimport AdUnitTargeting from './AdUnit/AdUnitTargeting'\r\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\r\nimport NewCampaignHoc from './Campaign/NewCampaignHoc'\r\nimport CampaignUnits from './Campaign/CampaignUnits'\r\n// import CampaignTargeting from './Campaign/CampaignTargeting'\r\nimport CampaignFinance from './Campaign/CampaignFinance'\r\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\r\nimport NewAdSlotHoc from './AdSlot/NewAdSlotHoc'\r\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\r\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\r\nimport AdSlotTargeting from './AdSlot/AdSlotTargeting'\r\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateNewCampaignFinance,\r\n\tvalidateNewCampaignAdUnits,\r\n\tvalidateNewSlotBasics,\r\n} from 'actions'\r\n\r\nconst SaveBtn = ({ newItem, t, save, ...rest }) => {\r\n\treturn (\r\n\t\t<Button color='primary' onClick={save}>\r\n\t\t\t{/*TODO: withStyles */}\r\n\t\t\t<SaveIcon style={{ marginRight: 8 }} />\r\n\t\t\t{t('SAVE')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SendBtn = ({ saveBtnLabel, saveBtnIcon, newItem, t, save, ...rest }) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t\tdisabled={newItem.temp.waitingAction}\r\n\t\t>\r\n\t\t\t{newItem.temp.waitingAction ? (\r\n\t\t\t\t<HourglassEmptyIcon />\r\n\t\t\t) : (\r\n\t\t\t\tsaveBtnIcon || <SaveIcon style={{ marginRight: 8 }} />\r\n\t\t\t)}\r\n\t\t\t{t(saveBtnLabel || 'OPEN_CAMPAIGN')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SaveBtnWithAdUnit = NewAdUnitHoc(SaveBtn)\r\nconst SaveBtnWithCampaign = NewCampaignHoc(SendBtn)\r\nconst SaveBtnWithAdSlot = NewAdSlotHoc(SaveBtn)\r\n\r\nconst CancelBtn = ({ ...props }) => {\r\n\treturn <Button onClick={props.cancel}>{props.t('CANCEL')}</Button>\r\n}\r\n\r\nconst CancelBtnWithItem = NewAdUnitHoc(CancelBtn)\r\nconst CancelBtnWithCampaign = NewCampaignHoc(CancelBtn)\r\nconst CancelBtnWithAdSlot = NewAdSlotHoc(CancelBtn)\r\n\r\nconst dialogCommon = {\r\n\tdarkerBackground: true,\r\n\ticon: <AddIcon />,\r\n}\r\n\r\n// Ad unit\r\nexport const NewUnitSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithAdUnit}\r\n\t\tCancelBtn={CancelBtnWithItem}\r\n\t\tvalidateIdBase={'new-AdUnit-'}\r\n\t\titemType={'AdUnit'}\r\n\t\tstepsId={'new-adunit-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'UNIT_BASIC_STEP', page: AdUnitBasic },\r\n\t\t\t{ title: 'UNIT_MEDIA_STEP', page: AdUnitMedia },\r\n\t\t\t{ title: 'UNIT_TARGETS_STEP', page: AdUnitTargeting },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\tpage: AdUnitFormPreview,\r\n\t\t}}\r\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\r\n\t\tnoDefaultImg\r\n\t\titemModel={AdUnit}\r\n\t/>\r\n)\r\n\r\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\r\n\r\nexport const NewUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_UNIT'\r\n\t\ttitle='CREATE_NEW_UNIT'\r\n\t/>\r\n)\r\n\r\nconst copyProps = {\r\n\tdarkerBackground: true,\r\n\ticon: <FileCopyIcon color='primary' />,\r\n}\r\n\r\nexport const NewCloneUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\r\n)\r\n\r\n// Campaign\r\nexport const NewCampaignSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithCampaign}\r\n\t\tCancelBtn={CancelBtnWithCampaign}\r\n\t\tvalidateIdBase={'new-Campaign-'}\r\n\t\titemType={'Campaign'}\r\n\t\tstepsId={'new-campaign-'}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_UNITS_STEP',\r\n\t\t\t\tpage: CampaignUnits,\r\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewCampaignAdUnits({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t// NOTE: Only at ad units at the moment\r\n\t\t\t// { title: 'CAMPAIGN_TARGETING_STEP', page: CampaignTargeting },\r\n\t\t\t{\r\n\t\t\t\ttitle: 'CAMPAIGN_FINANCE_STEP',\r\n\t\t\t\tpage: CampaignFinance,\r\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewCampaignFinance({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\tpage: CampaignFormPreview,\r\n\t\t}}\r\n\t\titemModel={Campaign}\r\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\r\n\t/>\r\n)\r\n\r\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\r\n\r\nexport const NewCampaignDialog = props => (\r\n\t<NewCampaignStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\ttitle='CREATE_NEW_CAMPAIGN'\r\n\t/>\r\n)\r\n\r\n// Ad slot\r\nexport const NewSlotSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithAdSlot}\r\n\t\tCancelBtn={CancelBtnWithAdSlot}\r\n\t\tvalidateIdBase={'new-AdUnit-'}\r\n\t\titemType={'AdSlot'}\r\n\t\tstepsId={'new-slot-'}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'SLOT_BASIC_STEP',\r\n\t\t\t\tpage: AdSlotBasic,\r\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateNewSlotBasics({\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{ title: 'SLOT_PASSBACK_STEP', page: AdSlotMedia },\r\n\t\t\t{ title: 'SLOT_TAGS_STEP', page: AdSlotTargeting },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdSlotPreview }}\r\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\r\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\r\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\r\n\t\titemModel={AdSlot}\r\n\t/>\r\n)\r\n\r\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\r\n\r\nexport const NewSlotDialog = props => (\r\n\t<NewSlotStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_SLOT'\r\n\t\ttitle='CREATE_NEW_SLOT'\r\n\t/>\r\n)\r\n","import React, { useEffect, useState, useCallback, Fragment } from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport { commify } from 'ethers/utils'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsTableData,\r\n\tselectSide,\r\n\tselectAdUnitsStatsMaxValues,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({\r\n\tclasses,\r\n\tnoActions,\r\n\tnoClone,\r\n\tmaxImpressions,\r\n\tmaxClicks,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRImg\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\t// TODO: fix it with css\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${Number(ctr).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR.toFixed(2)],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: !noActions,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item }) => (\r\n\t\t\t\t<Fragment key={item.id}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{!noClone && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tcloneItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tobjModel: AdUnit,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\tonRowsSelect,\r\n})\r\n\r\nfunction AdUnitsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst {\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\tcampaignId,\r\n\t\thandleSelect,\r\n\t\tselected = [],\r\n\t\titems,\r\n\t} = props\r\n\r\n\tconst { maxClicks, maxImpressions, maxCTR } = useSelector(state =>\r\n\t\tselectAdUnitsStatsMaxValues(state, { side, campaignId })\r\n\t)\r\n\r\n\tconst [selectorArgs, setSelectorArgs] = useState({})\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdUnitsTableData,\r\n\t\tselectorArgs,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxCTR,\r\n\t\t\t}),\r\n\t})\r\n\r\n\t// NOTE: despite useTableData hook the component is updating.\r\n\t// 'selectorArgs' are object and they have new reference on each update\r\n\t// that causes useTableData to update the data on selectorArgs change.\r\n\t// If selectorArgs are reference type we need to use useState fot them\r\n\t// TODO: find why useTableData causing this update\r\n\tuseEffect(() => {\r\n\t\tsetSelectorArgs({ side, campaignId, items })\r\n\t}, [side, campaignId, items])\r\n\r\n\tconst onRowsSelect = useCallback(\r\n\t\t(_, allRowsSelected) => {\r\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\r\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\r\n\t\t},\r\n\t\t[data, handleSelect]\r\n\t)\r\n\r\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={campaignId ? t('CAMPAIGN_AD_UNITS') : t('ALL_UNITS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdUnitsTable\r\n","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { t, selectSide, selectAdSlotsTableData } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRImg\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_STATUS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item }) => (\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\taria-label='view'\r\n\t\t\t\t>\r\n\t\t\t\t\t<RRIconButton to={to} variant='contained'>\r\n\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdSlotsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdSlotsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_SLOTS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdSlotsTable\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tcard: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\twidth: 320,\r\n\t\t\tdisplay: 'block',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\t'@media(max-width:380px)': {\r\n\t\t\t\tmargin: 0,\r\n\t\t\t\tmarginBottom: spacing,\r\n\t\t\t},\r\n\t\t},\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxHeight: '100%',\r\n\t\t},\r\n\t\tbasicInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'start',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\tlabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tmarginTop: `calc(56.25% - ${40 + spacing}px)`,\r\n\t\t\ttop: 0,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport Img from 'components/common/img/Img'\r\nimport { validUrl } from 'helpers/validators'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport { validations, schemas, Joi } from 'adex-models'\r\nimport { utils } from 'ethers'\r\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\r\nimport { selectMainToken } from 'selectors'\r\nimport { WebsiteIssues } from 'components/dashboard/containers/Slot/WebsiteIssues'\r\n\r\nconst FallbackAdData = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\tisDemo,\r\n\tactiveFields,\r\n\tsetActiveFields,\r\n\tvalidate,\r\n\tinvalidFields,\r\n\ttoggleFallbackImgEdit,\r\n\thandleChange,\r\n\t...rest\r\n}) => {\r\n\tconst errFallbackAdUrl = invalidFields['fallbackAdUrl']\r\n\r\n\treturn (\r\n\t\t<Card className={classes.card} raised={false}>\r\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }} src=''>\r\n\t\t\t\t<Img\r\n\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\tsrc={item.fallbackMediaUrl}\r\n\t\t\t\t\talt={item.fallbackTargetUrl}\r\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t/>\r\n\t\t\t</CardMedia>\r\n\t\t\t{/* <Fab\r\n\t\t\t\tmini\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tonClick={toggleFallbackImgEdit}\r\n\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t\tdisabled={isDemo}\r\n\t\t\t>\r\n\t\t\t\t<EditIcon />\r\n\t\t\t</Fab> */}\r\n\t\t\t<CardContent>\r\n\t\t\t\t{activeFields.fallbackTargetUrl ? (\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t// required\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tlabel={t('fallbackTargetUrl', { isProp: true })}\r\n\t\t\t\t\t\tvalue={item.fallbackTargetUrl || ''}\r\n\t\t\t\t\t\tonChange={ev => handleChange('fallbackTargetUrl', ev.target.value)}\r\n\t\t\t\t\t\t// maxLength={1024}\r\n\t\t\t\t\t\tonBlur={() => {\r\n\t\t\t\t\t\t\tsetActiveFields('fallbackTargetUrl', false)\r\n\t\t\t\t\t\t\tvalidate('fallbackTargetUrl', {\r\n\t\t\t\t\t\t\t\tisValid:\r\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\r\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\trest.validate('fallbackTargetUrl', {\r\n\t\t\t\t\t\t\t\tisValid:\r\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\r\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\r\n\t\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\terrFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t\t<span> {errFallbackAdUrl.errMsg} </span>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t!errFallbackAdUrl || !errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t\t<div>{t('SLOT_FALLBACK_AD_URL_DESCRIPTION')}</div>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{item.fallbackTargetUrl ? (\r\n\t\t\t\t\t\t\t\t<Anchor href={item.fallbackTargetUrl} target='_blank'>\r\n\t\t\t\t\t\t\t\t\t{item.fallbackTargetUrl}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<span style={{ opacity: 0.3 }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{t('NO_FALLBACK_URL_YET')}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{/* <span>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t// disabled={!canEditImg}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\trest.setActiveFields('fallbackTargetUrl', true)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</span> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{errFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span className={classes.error}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{errFallbackAdUrl.errMsg}{' '}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</CardContent>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nconst ValidatedFallbackAdData = ValidItemHoc(FallbackAdData)\r\n\r\nconst updateItemTemp = ({ prop = '', value = '', item = {} } = {}) => {\r\n\tconst { temp } = item\r\n\tconst newTemp = { ...temp }\r\n\tnewTemp[prop] = value\r\n\r\n\treturn newTemp\r\n}\r\n\r\nconst validateAmount = (value = '', prop, dirty, errMsg, validate) => {\r\n\tconst isValidNumber = validations.isNumberString(value)\r\n\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\r\n\r\n\tvalidate(prop, {\r\n\t\tisValid: isValid,\r\n\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\r\n\t\tdirty: dirty,\r\n\t})\r\n}\r\n\r\nconst validateWebsite = (value = '', prop, dirty, errMsg, validate) => {\r\n\tconst result = Joi.validate(value, schemas.adSlotPut.website)\r\n\r\n\tconst isValid = !result.error\r\n\r\n\tvalidate(prop, {\r\n\t\tisValid: isValid,\r\n\t\terr: { msg: errMsg || 'SLOT_WEBSITE_ERR' },\r\n\t\tdirty: dirty,\r\n\t})\r\n}\r\n\r\nconst SlotMinCPM = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\tisDemo,\r\n\tactiveFields,\r\n\tsetActiveFields,\r\n\tvalidate,\r\n\tinvalidFields,\r\n\ttoggleFallbackImgEdit,\r\n\thandleChange,\r\n\t...rest\r\n}) => {\r\n\tconst errMin = invalidFields['minPerImpression']\r\n\tconst { address, decimals, symbol } = selectMainToken()\r\n\tconst minCPM = formatTokenAmount(\r\n\t\tbigNumberify((item.minPerImpression || {})[address] || '0').mul(1000),\r\n\t\tdecimals,\r\n\t\ttrue\r\n\t)\r\n\r\n\tconst minPerImpression =\r\n\t\titem.temp.minPerImpression !== undefined\r\n\t\t\t? item.temp.minPerImpression\r\n\t\t\t: minCPM\r\n\r\n\treturn (\r\n\t\t<FormControl\r\n\t\t\tfullWidth\r\n\t\t\tclassName={classes.textField}\r\n\t\t\tmargin='dense'\r\n\t\t\terror={!!errMin}\r\n\t\t>\r\n\t\t\t<InputLabel>{t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}</InputLabel>\r\n\t\t\t<Input\r\n\t\t\t\tfullWidth\r\n\t\t\t\tautoFocus\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname={'minPerImpression'}\r\n\t\t\t\tvalue={minPerImpression || ''}\r\n\t\t\t\tonChange={ev => {\r\n\t\t\t\t\tvalidateAmount(\r\n\t\t\t\t\t\tev.target.value,\r\n\t\t\t\t\t\t'minPerImpression',\r\n\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t'',\r\n\t\t\t\t\t\tvalidate\r\n\t\t\t\t\t)\r\n\t\t\t\t\thandleChange(\r\n\t\t\t\t\t\t'temp',\r\n\t\t\t\t\t\tupdateItemTemp({\r\n\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\tmaxLength={1024}\r\n\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\tsetActiveFields('minPerImpression', false)\r\n\t\t\t\t}}\r\n\t\t\t\tdisabled={!activeFields.minPerImpression}\r\n\t\t\t\tendAdornment={\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tdisabled={activeFields['minPerImpression'] || isDemo}\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\tonClick={ev => setActiveFields('minPerImpression', true)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\r\n\t\t\t<FormHelperText>\r\n\t\t\t\t{errMin && !!errMin.errMsg\r\n\t\t\t\t\t? t(errMin.errMsg, { args: errMin.errMsgArgs })\r\n\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')}\r\n\t\t\t</FormHelperText>\r\n\t\t</FormControl>\r\n\t)\r\n}\r\n\r\nconst ValidatedSlotMinCPM = ValidItemHoc(SlotMinCPM)\r\n\r\nconst SlotWebsite = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\tisDemo,\r\n\tactiveFields,\r\n\tsetActiveFields,\r\n\tvalidate,\r\n\tinvalidFields,\r\n\thandleChange,\r\n\t...rest\r\n}) => {\r\n\tconst errWebsite = invalidFields['website']\r\n\r\n\tconst website = item.temp.website\r\n\r\n\treturn (\r\n\t\t<FormControl\r\n\t\t\tfullWidth\r\n\t\t\tclassName={classes.textField}\r\n\t\t\tmargin='dense'\r\n\t\t\terror={!!errWebsite && activeFields.website}\r\n\t\t>\r\n\t\t\t<InputLabel>{t('SLOT_WEBSITE')}</InputLabel>\r\n\t\t\t<Input\r\n\t\t\t\tfullWidth\r\n\t\t\t\tautoFocus\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname={'website'}\r\n\t\t\t\tvalue={website || item.website || ''}\r\n\t\t\t\tonChange={ev => {\r\n\t\t\t\t\tvalidateWebsite(ev.target.value, 'website', true, '', validate)\r\n\t\t\t\t\thandleChange(\r\n\t\t\t\t\t\t'temp',\r\n\t\t\t\t\t\tupdateItemTemp({\r\n\t\t\t\t\t\t\tprop: 'website',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\tmaxLength={1024}\r\n\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\tsetActiveFields('website', false)\r\n\t\t\t\t}}\r\n\t\t\t\tdisabled={!!item.website || !activeFields.website}\r\n\t\t\t\tendAdornment={\r\n\t\t\t\t\t!item.website && (\r\n\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tdisabled={activeFields.website || isDemo}\r\n\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\tonClick={ev => setActiveFields('website', true)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\r\n\t\t\t<FormHelperText component='div'>\r\n\t\t\t\t{errWebsite && !!errWebsite.errMsg && activeFields.website ? (\r\n\t\t\t\t\tt(errWebsite.errMsg, { args: errWebsite.errMsgArgs })\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t{activeFields.website && (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t__html: t('SLOT_MIN_CPM_HELPER'),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t)}\r\n\t\t\t</FormHelperText>\r\n\t\t</FormControl>\r\n\t)\r\n}\r\n\r\nconst ValidatedSlotWebsite = ValidItemHoc(SlotWebsite)\r\n\r\nconst MediaCard = ({\r\n\tclasses,\r\n\tmediaUrl,\r\n\tmediaMime,\r\n\ttitle,\r\n\tcanEditImg,\r\n\ttoggleImgEdit,\r\n\turl,\r\n}) => (\r\n\t<Card className={classes.card} raised={false}>\r\n\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\r\n\t\t\t<Img\r\n\t\t\t\tallowFullscreen={true}\r\n\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\talt={title}\r\n\t\t\t\tclassName={classes.img}\r\n\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\tallowVideo\r\n\t\t\t/>\r\n\t\t</CardMedia>\r\n\t\t{canEditImg && (\r\n\t\t\t<Button\r\n\t\t\t\tvariant='fab'\r\n\t\t\t\tmini\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tonClick={toggleImgEdit}\r\n\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t>\r\n\t\t\t\t<EditIcon />\r\n\t\t\t</Button>\r\n\t\t)}\r\n\r\n\t\t{url && (\r\n\t\t\t<CardContent>\r\n\t\t\t\t<Anchor href={url} target='_blank'>\r\n\t\t\t\t\t{url}\r\n\t\t\t\t</Anchor>\r\n\t\t\t</CardContent>\r\n\t\t)}\r\n\t</Card>\r\n)\r\n\r\nconst basicProps = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\titemType,\r\n\tactiveFields,\r\n\tvalidateId,\r\n\t...rest\r\n}) => {\r\n\tconst mediaUrl = item.mediaUrl\r\n\tconst mediaMime = item.mediaMime\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\r\n\t\t\t\t\t\t{itemType === 'AdSlot' ? (\r\n\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t<ValidatedFallbackAdData\r\n\t\t\t\t\t\t\t\t\tvalidateId={validateId}\r\n\t\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<WebsiteIssues website={item.website} />\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\r\n\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\r\n\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t{itemType === 'AdSlot' && (\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<ValidatedSlotMinCPM\r\n\t\t\t\t\t\t\t\t\t\tvalidateId={validateId}\r\n\t\t\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\r\n\t\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{itemType === 'AdSlot' && (\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<ValidatedSlotWebsite\r\n\t\t\t\t\t\t\t\t\t\tvalidateId={validateId}\r\n\t\t\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\r\n\t\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\tvalue={item.type}\r\n\t\t\t\t\t\t\t\t\tlabel={t('type', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t{Array.isArray(item.tags) && itemType === 'AdSlot' && (\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tvalue={item.tags\r\n\t\t\t\t\t\t\t\t\t\t\t.map(tag => `\"${tag.tag}(${tag.score})\"`)\r\n\t\t\t\t\t\t\t\t\t\t\t.join(',\\n')}\r\n\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\tt('tags', { isProp: true }) + ` (${item.tags.length})`\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\trows={7}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\r\n\t\t\t\t{rightComponent}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport const BasicProps = withStyles(styles)(basicProps)\r\n\r\nconst campaignProps = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\titemType,\r\n\t...rest\r\n}) => {\r\n\tconst mediaUrl = item.mediaUrl\r\n\tconst status = item.status || {}\r\n\tconst { decimals, symbol } = selectMainToken()\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={8}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className={classes.basicInfo}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\r\n\t\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\r\n\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.minTargetingScore > 0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={status.humanFriendlyName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.humanFriendlyName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.name,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'md'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(status.fundsDistributedRatio || 0) / 10\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, decimals) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={4}>\r\n\t\t\t\t\t{rightComponent}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// ((status.fundsDistributedRatio || 0) / 10).toFixed(2)\r\nexport const CampaignProps = withStyles(styles)(campaignProps)\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { defaults } from 'react-chartjs-2'\r\nimport merge from 'lodash.merge'\r\n\r\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\r\n// Eddie colors\r\nexport const CHARTS_COLORS = [\r\n\t'#00BAFF',\r\n\t'#7EDBFF',\r\n\t'#FF9FA8',\r\n\t'#14DC9C',\r\n\t'#61FFB2',\r\n\t'#ABFFE5',\r\n]\r\n\r\nexport let CHARTS_COMMON_OPTIONS = {\r\n\tresponsive: true,\r\n\ttooltips: {\r\n\t\tmode: 'label',\r\n\t\tcornerRadius: 2,\r\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\r\n\t},\r\n}\r\n\r\nexport const hexColorsToRgbaArray = (colors, alpha) => {\r\n\treturn colors.map(color => {\r\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\r\n\t})\r\n}\r\n\r\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\r\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { t, selectCampaignDoughnutStats } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction CampaignStatsDoughnut({\r\n\tcampaignId,\r\n\tmaxDataSets = CHARTS_COLORS.length,\r\n\tchartColors = CHARTS_COLORS,\r\n}) {\r\n\tconst data = useSelector(state =>\r\n\t\tselectCampaignDoughnutStats(state, {\r\n\t\t\tcampaignId,\r\n\t\t\tchartColors,\r\n\t\t\tmaxDataSets,\r\n\t\t})\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Doughnut\r\n\t\t\twidth={450}\r\n\t\t\theight={450}\r\n\t\t\tdata={data}\r\n\t\t\toptions={{\r\n\t\t\t\t// responsive: true,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\ttext: t('CAMPAIGN_STATS_PIE_CHART'),\r\n\t\t\t\t},\r\n\t\t\t\tanimation: false,\r\n\t\t\t\ttooltips: {\r\n\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\tlabel: function(item, data) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].label +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.labels[item.index] +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].data[item.index]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsDoughnut.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsDoughnut\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectCampaignStatsMaxValues,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { useSelector } from 'react-redux'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst getCols = ({\r\n\tsymbol,\r\n\tmaxClicks,\r\n\tmaxImpressions,\r\n\tmaxEarnings,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'website',\r\n\t\tlabel: t('WEBSITE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: impressions => formatNumberWithCommas(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('WEBSITE_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t`${formatNumberWithCommas(earnings || 0)} ${symbol}`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxEarnings],\r\n\t\t\t\tfilterTitle: t('EARNINGS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => formatNumberWithCommas(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t\tstepsCount: 20,\r\n\t\t\t\tstepsPrecision: 4,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\trowsPerPage: 20,\r\n})\r\n\r\nfunction CampaignStatsBreakdownTable({ campaignId }) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { maxClicks, maxImpressions, maxEarnings, maxCTR } = useSelector(\r\n\t\tstate => selectCampaignStatsMaxValues(state, campaignId)\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignStatsTableData,\r\n\t\tselectorArgs: campaignId,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({ symbol, maxClicks, maxImpressions, maxEarnings, maxCTR }),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('CAMPAIGN_STATS_BREAKDOWN')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsBreakdownTable.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsBreakdownTable\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCampaignWithAnalyticsById,\r\n\tselectCompanyData,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { formatUnits } from 'ethers/utils'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\ticon: {\r\n\t\t\theight: '3rem',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdottedDivider: {\r\n\t\t\tborderBottom: `0.5px dotted ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tsolidDevider: {\r\n\t\t\tborderBottom: `0.5px solid ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tbreakdownTable: {\r\n\t\t\twidth: '100%',\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tbreakAll: {\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\tpageBreak: {\r\n\t\t\tpageBreakAfter: 'always',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction Receipt({ campaignId } = {}) {\r\n\tconst classes = useStyles()\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst campaignBreakdown = useSelector(state =>\r\n\t\tselectCampaignStatsTableData(state, campaignId)\r\n\t)\r\n\tconst campaign = useSelector(state =>\r\n\t\tselectCampaignWithAnalyticsById(state, campaignId)\r\n\t)\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\tconst humanFriendlyName = (campaign.status || {}).humanFriendlyName\r\n\tconst receiptReady =\r\n\t\thumanFriendlyName === 'Closed' || humanFriendlyName === 'Completed'\r\n\tif (!campaign.spec || !campaign.creator) {\r\n\t\treturn (\r\n\t\t\t<PageNotFound\r\n\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\r\n\t\t\t\t\targs: ['CAMPAIGN', campaignId],\r\n\t\t\t\t})}\r\n\t\t\t\tgoToPath={`/dashboard/advertiser`}\r\n\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\tif (!receiptReady) return null\r\n\treturn (\r\n\t\t<Box mb={5} className={classnames(classes.pageBreak)}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4'>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5'>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2'>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(campaignId, '-')],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={5}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t{/* TODO: Need a date when the campaign has beeen completed */}\r\n\t\t\t\t\t\t\t<strong>{formatDateTime(campaign.withdrawPeriodStart)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_CAMPAIGN_ID')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{formatAddress(campaignId)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_PAID')}</Typography>\r\n\t\t\t\t\t<Typography variant='h4'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\tNumber(formatUnits(campaign.depositAmount || '0', decimals)) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.activeFrom),\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.withdrawPeriodStart),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\tNumber(formatUnits(campaign.depositAmount || '0', decimals)) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.impressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_CLICKS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.clicks)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\r\n\t\t\t{campaignBreakdown.length > 0 && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6'>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('CHART_LABEL_CLICKS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE_EARNINGS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t{campaignBreakdown\r\n\t\t\t\t\t\t\t\t\t.sort((a, b) => b.earnings - a.earnings)\r\n\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell className={classnames(classes.breakAll)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>{stats.website}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.clicks)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.earnings\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nReceipt.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default Receipt\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Box, Card, Typography, TextField } from '@material-ui/core'\r\nimport { execute, updateCompanyData } from 'actions'\r\nimport { t, selectCompanyData } from 'selectors'\r\n\r\nfunction CompanyDetails(props) {\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box mb={3} mt={3}>\r\n\t\t\t<Box mb={1}>\r\n\t\t\t\t<Typography variant='h4'>{'Company Details'}</Typography>\r\n\t\t\t</Box>\r\n\t\t\t<Card>\r\n\t\t\t\t<Box p={3}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('COMPANY_NAME')}\r\n\t\t\t\t\t\tvalue={companyName || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ companyName: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('FIRST_LAST_NAME')}\r\n\t\t\t\t\t\tvalue={firstLastName || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ firstLastName: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('ADDRESS')}\r\n\t\t\t\t\t\tvalue={address || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ address: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel={t('COUNTRY')}\r\n\t\t\t\t\t\tvalue={country || ''}\r\n\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\texecute(updateCompanyData({ country: ev.target.value }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{props.children}\r\n\t\t\t\t</Box>\r\n\t\t\t</Card>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default CompanyDetails\r\n","import React, { useRef } from 'react'\r\nimport { useParams, Redirect } from 'react-router'\r\nimport { Box, Card, Button, Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ReactToPrint from 'react-to-print'\r\nimport classnames from 'classnames'\r\nimport { Print, Visibility } from '@material-ui/icons'\r\nimport Receipt from './Receipt'\r\nimport CompanyDetails from './CompanyDetails'\r\nimport { useSelector } from 'react-redux'\r\nimport { t, selectSelectedCampaigns } from 'selectors'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\ta4: {\r\n\t\t\twidth: '210mm',\r\n\t\t\tminHeight: '297mm',\r\n\t\t\tpadding: '8mm',\r\n\t\t},\r\n\t\thideOnMobile: {\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\thideOnDesktop: {\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n})\r\nfunction CampaignReceipt(props) {\r\n\tconst classes = useStyles()\r\n\tconst invoice = useRef()\r\n\tconst { itemId } = useParams()\r\n\tconst items = useSelector(state => selectSelectedCampaigns(state))\r\n\t// TODO: render back button\r\n\tconst selectedByPropsOrParams = props.itemId || itemId\r\n\tconst receipts = selectedByPropsOrParams ? [selectedByPropsOrParams] : items\r\n\tif (receipts.length === 0)\r\n\t\treturn <Redirect to={'/dashboard/advertiser/campaigns'} />\r\n\treturn (\r\n\t\t<Box display='flex' justifyContent='center' alignContent='center'>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t>\r\n\t\t\t\t<CompanyDetails>\r\n\t\t\t\t\t<Box mt={2}>\r\n\t\t\t\t\t\t<ReactToPrint\r\n\t\t\t\t\t\t\ttrigger={() => (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{!selectedByPropsOrParams\r\n\t\t\t\t\t\t\t\t\t\t? `${t('RECEIPTS_PRINT_ALL')}`\r\n\t\t\t\t\t\t\t\t\t\t: `${t('RECEIPT_PRINT')}`}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tcontent={() => invoice.current}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</CompanyDetails>\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<Box className={classnames(classes.hideOnDesktop)}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tp={5}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Visibility />\r\n\t\t\t\t\t\t\t<Typography variant='overline' display='block' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_PREVIEW_ONLY_DESKTOP')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box className={classnames(classes.hideOnMobile)}>\r\n\t\t\t\t\t\t{receipts.length > 0 && (\r\n\t\t\t\t\t\t\t<Box ref={invoice} className={classnames(classes.a4)}>\r\n\t\t\t\t\t\t\t\t{receipts.map(campaignId => (\r\n\t\t\t\t\t\t\t\t\t<Receipt campaignId={campaignId} key={campaignId} />\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Card>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\nexport { CampaignReceipt }\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\r\nimport Translate from 'components/translate/Translate'\r\nimport Button from '@material-ui/core/Button'\r\nimport { Campaign as CampaignModel } from 'adex-models'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { CampaignProps } from 'components/dashboard/containers/ItemCommon'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport CampaignStatsDoughnut from 'components/dashboard/charts/campaigns/CampaignStatsDoughnut'\r\nimport CampaignStatsBreakdownTable from 'components/dashboard/containers/Tables/CampaignStatsBreakdownTable'\r\nimport { CampaignReceipt } from 'components/dashboard/containers/Receipt/CampaignReceipt'\r\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\r\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nconst VIEW_MODE = 'campaignRowsView'\r\n\r\nexport class Campaign extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context)\r\n\r\n\t\tthis.state = {\r\n\t\t\ttabIndex: 0,\r\n\t\t\tstatistics: {},\r\n\t\t}\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\tCampaignActions = ({ campaign, actions, t }) => {\r\n\t\tconst humanFriendlyName = campaign.status.humanFriendlyName\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tactions.closeCampaign({ campaign })\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdisabled={humanFriendlyName === 'Closed'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tclasses,\r\n\t\t\titem,\r\n\t\t\t// handleChange,\r\n\t\t\t// activeFields,\r\n\t\t\t// isDemo,\r\n\t\t\tactions,\r\n\t\t\thistory,\r\n\t\t\t// ...rest\r\n\t\t} = this.props\r\n\t\tconst { tabIndex } = this.state\r\n\t\tconst campaign = new CampaignModel(item)\r\n\t\tconst status = (campaign.status || {}).name\r\n\t\tconst humanFriendlyName = campaign.status.humanFriendlyName\r\n\t\tconst leader = campaign.spec.validators[0]\r\n\t\tconst follower = campaign.spec.validators[1]\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<CampaignProps\r\n\t\t\t\t\titem={campaign}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\trightComponent={\r\n\t\t\t\t\t\t// <UnitTargets\r\n\t\t\t\t\t\t// \t{...rest}\r\n\t\t\t\t\t\t// \ttargets={campaign.targeting}\r\n\t\t\t\t\t\t// \tt={t}\r\n\t\t\t\t\t\t// \tsubHeader={t('CAMPAIGN_TARGETING')}\r\n\t\t\t\t\t\t// />\r\n\t\t\t\t\t\t(status === 'Ready' ||\r\n\t\t\t\t\t\t\tstatus === 'Active' ||\r\n\t\t\t\t\t\t\tstatus === 'Withdraw' ||\r\n\t\t\t\t\t\t\tstatus === 'Unhealthy') && (\r\n\t\t\t\t\t\t\t<this.CampaignActions\r\n\t\t\t\t\t\t\t\tcampaign={campaign}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tactions={actions}\r\n\t\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar position='static' color='default' className={classes.appBar}>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\r\n\t\t\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label={t('STATISTICS')} />\r\n\t\t\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\r\n\t\t\t\t\t\t\t<Tab label={t('VALIDATORS')} />\r\n\t\t\t\t\t\t\t{(humanFriendlyName === 'Closed' ||\r\n\t\t\t\t\t\t\t\thumanFriendlyName === 'Completed') && (\r\n\t\t\t\t\t\t\t\t<Tab label={t('RECEIPT')} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Box clone order={{ xs: 2, md: 2, lg: 1 }}>\r\n\t\t\t\t\t\t\t\t\t<Grid item lg={8} md={12} xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<CampaignStatsBreakdownTable campaignId={item.id} />\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<Box clone order={{ xs: 1, md: 1, lg: 2 }}>\r\n\t\t\t\t\t\t\t\t\t<Grid item lg={4} md={12} xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<CampaignStatsDoughnut campaignId={item.id} />\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t\t\t<AdUnitsTable campaignId={campaign.id} noClone />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{tabIndex === 2 && (\r\n\t\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/status`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/status`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{tabIndex === 3 && <CampaignReceipt itemId={campaign.id} />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaign.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tunits: PropTypes.object.isRequired,\r\n\trowsView: PropTypes.bool.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n\tconst { persist } = state\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\tunits: persist.items['AdUnit'],\r\n\t\trowsView: !!persist.ui.global[VIEW_MODE],\r\n\t\tobjModel: CampaignModel,\r\n\t\titemType: 'Campaign',\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst CampaignItem = ItemHoc(withStyles(styles)(Campaign))\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(CampaignItem))\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tappBar: {\r\n\t\t\tzIndex: theme.zIndex.appBar - 1,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\r\n\t</g>,\r\n\r\n\t'AdexPublisher',\r\n\t'0 0 114 110'\r\n)\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\r\n\t</g>,\r\n\t'AdexAdvertiser',\r\n\t'0 0 109 94'\r\n)\r\n","import React, { Component } from 'react'\r\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\r\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Translate from 'components/translate/Translate'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst SideBox = ({\r\n\tsalePoints = [],\r\n\tlinkTitle,\r\n\ticon,\r\n\ttitle,\r\n\tdisabled,\r\n\tclasses,\r\n\t...other\r\n}) => (\r\n\t<div\r\n\t\t{...other}\r\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\r\n\t>\r\n\t\t<div className={classes.icon}>{icon}</div>\r\n\t\t<h2>{title}</h2>\r\n\t\t<ul className={classes.salePoints}>\r\n\t\t\t{salePoints.map(function(point, key) {\r\n\t\t\t\treturn <li key={key}> {point} </li>\r\n\t\t\t})}\r\n\t\t</ul>\r\n\t</div>\r\n)\r\n\r\nconst RRSideBox = withReactRouterLink(SideBox)\r\n\r\nclass SideSelect extends Component {\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\r\n\t\t\t\tBackdropProps={{\r\n\t\t\t\t\tclasses: {\r\n\t\t\t\t\t\troot: classes.backdrop,\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t\tfullWidth\r\n\t\t\t\tmaxWidth='sm'\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<AdvertiserLogo\r\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsalePoints={[\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tto='/dashboard/advertiser'\r\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<PublisherLogo\r\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsalePoints={[\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tto='/dashboard/publisher'\r\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Translate(withStyles(styles)(SideSelect))\r\n","export const styles = () => {\r\n\treturn {\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tsideBox: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tverticalAlign: 'top',\r\n\t\t\topacity: 0.7,\r\n\t\t\t'&:hover:not(.disabled)': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t\topacity: 1,\r\n\t\t\t},\r\n\t\t\t'&.disabled': {\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t},\r\n\t\t\t'@media(max-width:425px)': {\r\n\t\t\t\twidth: '100%',\r\n\t\t\t},\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\twidth: 110,\r\n\t\t\theight: 110,\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\tsalePoints: {\r\n\t\t\tpadding: 0,\r\n\t\t\t'& li': {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tlistStyle: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Line, Chart } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { selectMainToken } from 'selectors'\r\nimport { formatFloatNumberWithCommas } from 'helpers/formatters'\r\n\r\nconst commonDsProps = {\r\n\tfill: false,\r\n\tlineTension: 0.1,\r\n\tborderWidth: 0,\r\n\tpointRadius: 3,\r\n\tpointHitRadius: 10,\r\n}\r\n\r\nexport const SimpleStatistics = ({\r\n\tpayouts,\r\n\timpressions,\r\n\tclicks,\r\n\tcpm,\r\n\toptions = {},\r\n\tt,\r\n\txLabel = 'TIMEFRAME',\r\n\ty1Label = 'DATA1',\r\n\ty2Label = 'DATA2',\r\n\ty3Label = 'DATA3',\r\n\ty4Label = 'DATA4',\r\n\ty1Color = CHARTS_COLORS[1],\r\n\ty2Color = CHARTS_COLORS[2],\r\n\ty3Color = CHARTS_COLORS[3],\r\n\ty4Color = CHARTS_COLORS[4],\r\n}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\t// Vertical line / crosshair\r\n\tuseEffect(() => {\r\n\t\tChart.pluginService.register({\r\n\t\t\tafterDraw: function(chart) {\r\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\r\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\r\n\t\t\t\t\tconst ctx = chart.ctx\r\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\r\n\t\t\t\t\tconst chartScalesy1 = chart.scales['y-axis-1']\r\n\t\t\t\t\tif (chartScalesy1) {\r\n\t\t\t\t\t\tconst topY = chartScalesy1.top\r\n\t\t\t\t\t\tconst bottomY = chartScalesy1.bottom\r\n\t\t\t\t\t\tctx.save()\r\n\t\t\t\t\t\tctx.beginPath()\r\n\t\t\t\t\t\tctx.moveTo(x, topY)\r\n\t\t\t\t\t\tctx.lineTo(x, bottomY)\r\n\t\t\t\t\t\tctx.lineWidth = 1 // line width\r\n\t\t\t\t\t\tctx.setLineDash([1, 5])\r\n\t\t\t\t\t\tctx.strokeStyle = '#C0C0C0' // color of the vertical line\r\n\t\t\t\t\t\tctx.stroke()\r\n\t\t\t\t\t\tctx.restore()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t})\r\n\t})\r\n\r\n\tconst chartData = {\r\n\t\tlabels: payouts.labels,\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tlabel: y1Label,\r\n\t\t\t\tdata: payouts.datasets,\r\n\t\t\t\tyAxisID: 'y-axis-1',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tlabel: y2Label,\r\n\t\t\t\tdata: impressions.datasets,\r\n\t\t\t\tyAxisID: 'y-axis-2',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y3Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y3Color, 1),\r\n\t\t\t\tlabel: y3Label,\r\n\t\t\t\tdata: clicks.datasets,\r\n\t\t\t\tyAxisID: 'y-axis-3',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y4Color, 1),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y4Color, 1),\r\n\t\t\t\tpointBackgroundColor: y4Color,\r\n\t\t\t\tlabel: y4Label,\r\n\t\t\t\tdata: cpm.datasets,\r\n\t\t\t\tyAxisID: 'y-axis-4',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\r\n\tconst linesOptions = {\r\n\t\tanimation: false,\r\n\t\tresponsive: true,\r\n\t\t// This and fixed height are used for proper mobile display of the chart\r\n\t\tmaintainAspectRatio: false,\r\n\t\ttitle: {\r\n\t\t\tdisplay: true,\r\n\t\t\ttext: options.title,\r\n\t\t},\r\n\t\ttooltips: {\r\n\t\t\tbackgroundColor: 'black',\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t\tcallbacks: {\r\n\t\t\t\tlabel: function(t, d) {\r\n\t\t\t\t\t// This adds currency MainToken (DAI) to y1Label in the tooltips\r\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\r\n\t\t\t\t\tvar yLabel =\r\n\t\t\t\t\t\txLabel === y1Label\r\n\t\t\t\t\t\t\t? `${formatFloatNumberWithCommas(t.yLabel)} ${symbol}`\r\n\t\t\t\t\t\t\t: formatFloatNumberWithCommas(t.yLabel)\r\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\thover: {\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t},\r\n\t\tscales: {\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tautoSkip: false,\r\n\t\t\t\t\t\tcallback: function(tick, index, array) {\r\n\t\t\t\t\t\t\treturn index % Math.floor(array.length / 12) ? '' : tick\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: y1Label,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid: 'y-axis-1',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tposition: 'right',\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: y2Label,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid: 'y-axis-2',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tprecision: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// grid line settings\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tposition: 'right',\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: y3Label,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid: 'y-axis-3',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tprecision: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// grid line settings\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear',\r\n\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t\tlabelString: y4Label,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid: 'y-axis-4',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\r\n\treturn <Line height={500} data={chartData} options={linesOptions} />\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport classnames from 'classnames'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport { ArrowTooltip } from 'components/common/tooltips'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tposition: 'relative',\r\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\r\n\t\t\tcolor: ({ bgColor = '' }) =>\r\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\r\n\t\t\t\ttheme.palette.text.primary,\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\tbottom: 0,\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst StatsCard = props => {\r\n\tconst {\r\n\t\ttitle,\r\n\t\tsubtitle,\r\n\t\tlinkCard,\r\n\t\tchildren,\r\n\t\tonClick,\r\n\t\tbgColor,\r\n\t\tloading,\r\n\t\texplain,\r\n\t} = props\r\n\r\n\tconst classes = useStyles({ bgColor })\r\n\r\n\treturn (\r\n\t\t<Card\r\n\t\t\t// raised\r\n\t\t\tclassName={classnames(classes.root, classes.infoCard, {\r\n\t\t\t\t[classes.linkCard]: !!linkCard,\r\n\t\t\t})}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<CardContent>\r\n\t\t\t\t{title && (\r\n\t\t\t\t\t<Typography variant='h5' noWrap>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)}\r\n\t\t\t\t{subtitle && (\r\n\t\t\t\t\t<Typography component='p' noWrap>\r\n\t\t\t\t\t\t{subtitle}{' '}\r\n\t\t\t\t\t\t{explain && (\r\n\t\t\t\t\t\t\t<ArrowTooltip\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<Typography component='p' variant='caption'>\r\n\t\t\t\t\t\t\t\t\t\t{explain}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<InfoIcon style={{ fontSize: 12 }}></InfoIcon>\r\n\t\t\t\t\t\t\t</ArrowTooltip>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t)}\r\n\t\t\t\t{children}\r\n\t\t\t</CardContent>\r\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nStatsCard.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tlinkCard: PropTypes.bool,\r\n}\r\n\r\nexport default StatsCard\r\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\r\nimport lime from '@material-ui/core/colors/lime'\r\nimport deepOrange from '@material-ui/core/colors/deepOrange'\r\nimport amber from '@material-ui/core/colors/amber'\r\nimport grey from '@material-ui/core/colors/grey'\r\n\r\nconst WHITE = '#fff'\r\nexport const PRIMARY = '#1B75BC'\r\nexport const SECONDARY = '#FFAC00'\r\nexport const ALEX_GREY = '#3f3e3e'\r\nexport const ACCENT_ONE = '#57467B'\r\nexport const ACCENT_ONE_LIGHT = '#dedded'\r\nexport const ACCENT_TWO = '#7CB4B8'\r\nexport const ACCENT_TWO_LIGHT = '#e4f3f5'\r\n\r\nconst palette = {\r\n\tprimary: { main: PRIMARY, contrastText: WHITE },\r\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\r\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\r\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\r\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\r\n\tappBar: { main: grey[200], contrastText: grey[900] },\r\n\terror: deepOrange,\r\n\twarning: amber,\r\n\tfirst: lime,\r\n\tcontrastThreshold: 3,\r\n\ttonalOffset: 0.2,\r\n\ttext: grey,\r\n\taction: {\r\n\t\tdisabledBackground: grey[300],\r\n\t\tdisabled: grey[600],\r\n\t},\r\n}\r\n\r\nexport const theme = createMuiTheme({\r\n\ttypography: {\r\n\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n\t\tfontSize: 13,\r\n\t},\r\n\tpalette: { ...palette },\r\n\toverrides: {\r\n\t\tMuiButton: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTableCell: {\r\n\t\t\thead: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t\troot: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiPaper: {\r\n\t\t\trounded: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTooltip: {\r\n\t\t\ttooltip: { borderRadius: 0 },\r\n\t\t},\r\n\t\tMuiSelect: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiInputLabel: {\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiOutlinedInput: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiAlert: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\t// MuiStepIcon: {\r\n\t\t//     root: {\r\n\t\t//         color: 'yellow',\r\n\t\t//         '&$active': {\r\n\t\t//             color: 'orange'\r\n\t\t//         }\r\n\t\t//     },\r\n\t\t//     active: {\r\n\t\t//         color: 'yellow'\r\n\t\t//     }\r\n\t\t// },\r\n\t\tMuiTableFooter: {\r\n\t\t\troot: {\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tflex: 0,\r\n\t\t\t\tpadding: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiAppBar: {\r\n\t\t\tcolorDefault: {\r\n\t\t\t\tbackgroundColor: palette.appBar.main,\r\n\t\t\t\tcolor: palette.appBar.contrastText,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTablePagination: {\r\n\t\t\ttoolbar: {\r\n\t\t\t\tpadding: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableFilter: {\r\n\t\t\troot: {\r\n\t\t\t\tmaxWidth: '400px',\r\n\t\t\t},\r\n\t\t},\r\n\t\t// Think of accessing an element not a class\r\n\t\tMuiGridListTile: {\r\n\t\t\troot: {\r\n\t\t\t\twidth: '100% !important',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMUIDataTableBodyCell: {\r\n\t\t\tstackedCommon: {\r\n\t\t\t\theight: '80px !important',\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n})\r\n\r\nexport const themeMUI = responsiveFontSizes(theme, {\r\n\toptions: ['xs', 'sm', 'md', 'lg', 'xl'],\r\n\tfactor: 3,\r\n})\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\tinfoStatsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tjustifyContent: 'stretch',\r\n\t\t\theight: '100%',\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdashboardCardBody: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tpadding: spacing,\r\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { execute, updateAnalyticsTimeframe } from 'actions'\r\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\r\nimport StatsCard from './StatsCard'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tPRIMARY,\r\n\tSECONDARY,\r\n\tACCENT_ONE,\r\n\tACCENT_TWO,\r\n\tALEX_GREY,\r\n} from 'components/App/themeMUi'\r\nimport { styles } from './styles'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport {\r\n\tt,\r\n\tselectTotalImpressions,\r\n\tselectTotalMoney,\r\n\tselectAverageCPM,\r\n\tselectMainToken,\r\n\tselectAnalytics,\r\n\tselectTotalClicks,\r\n\tselectChartDatapointsCPM,\r\n\tselectChartDatapointsImpressions,\r\n\tselectChartDatapointsClicks,\r\n\tselectChartDatapointsPayouts,\r\n} from 'selectors'\r\n\r\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\r\n\tconst translated = { ...tf }\r\n\ttranslated.label = t(tf.label)\r\n\treturn translated\r\n})\r\n\r\nconst metrics = {\r\n\tpublisher: [\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_REVENUE'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: ACCENT_TWO,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: PRIMARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CLICKS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: SECONDARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CTR'),\r\n\t\t\tcolor: ALEX_GREY,\r\n\t\t},\r\n\t],\r\n\tadvertiser: [\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_SPEND'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: ACCENT_ONE,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: PRIMARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('LABEL_CLICKS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: SECONDARY,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('PROP_CPM'),\r\n\t\t\tcolor: ALEX_GREY,\r\n\t\t},\r\n\t],\r\n}\r\n\r\nconst timeHints = {\r\n\thour: 'SHOWING_LAST_HOUR',\r\n\tday: 'SHOWING_LAST_24_HOURS',\r\n\tweek: 'SHOWING_LAST_7_DAYS',\r\n}\r\n\r\nexport function BasicStats({ side }) {\r\n\tconst useStyles = makeStyles(styles)\r\n\tconst classes = useStyles()\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst timeframe = useSelector(selectAnalytics).timeframe || ''\r\n\tconst totalImpressions = useSelector(state =>\r\n\t\tselectTotalImpressions(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalClicks = useSelector(state =>\r\n\t\tselectTotalClicks(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalMoney = useSelector(state =>\r\n\t\tselectTotalMoney(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst averageCPM = useSelector(state =>\r\n\t\tselectAverageCPM(state, {\r\n\t\t\tside,\r\n\t\t\ttimeframe,\r\n\t\t})\r\n\t)\r\n\r\n\tconst loadingImpressions = totalImpressions === null\r\n\tconst loadingMoney = totalMoney === null\r\n\tconst loadingCPM = averageCPM === null\r\n\tconst loadingClicks = totalClicks === null\r\n\r\n\tconst payouts = useSelector(state =>\r\n\t\tselectChartDatapointsPayouts(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst impressions = useSelector(state =>\r\n\t\tselectChartDatapointsImpressions(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst clicks = useSelector(state =>\r\n\t\tselectChartDatapointsClicks(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst cpm = useSelector(state =>\r\n\t\tselectChartDatapointsCPM(state, { side, timeframe })\r\n\t)\r\n\r\n\tconst dataInSync =\r\n\t\t(clicks.labels[clicks.labels.length - 1] ===\r\n\t\t\timpressions[impressions.labels.length - 1]) ===\r\n\t\tpayouts[payouts.labels.length - 1]\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<div className={classes.infoStatsContainer}>\r\n\t\t\t\t\t<StatsCard>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\r\n\t\t\t\t\t\t\thelperText={t(timeHints[timeframe])}\r\n\t\t\t\t\t\t\tonChange={val => execute(updateAnalyticsTimeframe(val))}\r\n\t\t\t\t\t\t\tsource={timeFrames}\r\n\t\t\t\t\t\t\tvalue={timeframe}\r\n\t\t\t\t\t\t\thtmlId='timeframe-select'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='primary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t\tloading={loadingImpressions && !dataInSync}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\r\n\t\t\t\t\t></StatsCard>\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='secondary'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_CLICKS')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_CLICKS')}\r\n\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\tloadingClicks &&\r\n\t\t\t\t\t\t\tloadingImpressions &&\r\n\t\t\t\t\t\t\t!dataInSync &&\r\n\t\t\t\t\t\t\ttotalClicks / totalImpressions !== Infinity\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalClicks || 0)} (${parseFloat(\r\n\t\t\t\t\t\t\t(totalClicks / totalImpressions) * 100 || 0\r\n\t\t\t\t\t\t).toFixed(2)} % ${t('LABEL_CTR')})`}\r\n\t\t\t\t\t></StatsCard>\r\n\t\t\t\t\t{side === 'advertiser' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentOne'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={loadingMoney && !dataInSync}\r\n\t\t\t\t\t\t></StatsCard>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\t\tbgColor='accentTwo'\r\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\r\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\r\n\t\t\t\t\t\t\t)} ${symbol}`}\r\n\t\t\t\t\t\t\tloading={loadingMoney && !dataInSync}\r\n\t\t\t\t\t\t></StatsCard>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tbgColor='grey'\r\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\r\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\r\n\t\t\t\t\t\tloading={loadingCPM && !dataInSync}\r\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\r\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol} / CPM`}\r\n\t\t\t\t\t></StatsCard>\r\n\t\t\t\t</div>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<SimpleStatistics\r\n\t\t\t\t\tside={side}\r\n\t\t\t\t\ttimeframe={timeframe}\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\ttitle:\r\n\t\t\t\t\t\t\t(timeFrames.find(a => a.value === timeframe) || {}).label || '',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tpayouts={payouts}\r\n\t\t\t\t\timpressions={impressions}\r\n\t\t\t\t\tclicks={clicks}\r\n\t\t\t\t\tcpm={cpm}\r\n\t\t\t\t\ty1Label={metrics[side][0].label}\r\n\t\t\t\t\ty1Color={metrics[side][0].color}\r\n\t\t\t\t\ty2Label={metrics[side][1].label}\r\n\t\t\t\t\ty2Color={metrics[side][1].color}\r\n\t\t\t\t\ty3Label={metrics[side][2].label}\r\n\t\t\t\t\ty3Color={metrics[side][2].color}\r\n\t\t\t\t\ty4Label={metrics[side][3].label}\r\n\t\t\t\t\ty4Color={metrics[side][3].color}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Box, Paper } from '@material-ui/core'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport { BasicStats } from './BasicStats'\r\nimport { selectSide } from 'selectors'\r\n\r\nexport function DashboardStats(props) {\r\n\tconst side = useSelector(selectSide)\r\n\r\n\treturn side !== 'advertiser' && side !== 'publisher' ? (\r\n\t\t<SideSelect active={true} />\r\n\t) : (\r\n\t\t<Paper elevation={2}>\r\n\t\t\t<Box p={1}>\r\n\t\t\t\t<BasicStats side={side} />\r\n\t\t\t</Box>\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\nexport default DashboardStats\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { AdUnit } from 'adex-models'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport Translate from 'components/translate/Translate'\r\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\r\n\r\nexport class Unit extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcloseDialog: false,\r\n\t\t}\r\n\t}\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\r\n\t//     return diffProps || diffState\r\n\t// }\r\n\trender() {\r\n\t\tconst { item, t, ...rest } = this.props\r\n\r\n\t\tif (!item) return <h1>Unit '404'</h1>\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BasicProps\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\turl={item.adUrl}\r\n\t\t\t\t\trightComponent={\r\n\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\ttargets={item.targeting}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tsubHeader={'PROP_TARGETING'}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nUnit.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\treturn {\r\n\t\tobjModel: AdUnit,\r\n\t\titemType: 'AdUnit',\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst UnitItem = ItemHoc(Unit)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(UnitItem))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\nimport copy from 'copy-to-clipboard'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport url from 'url'\r\nimport { selectRoutineWithdrawTokensAddresses } from 'selectors'\r\n\r\nconst ADVIEW_URL = process.env.ADVIEW_URL\r\nconst adviewUrl = url.parse(ADVIEW_URL)\r\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\r\n\r\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \r\n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\r\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\r\n\t\t\t\tif (f.contentWindow === ev.source) {\r\n\t\t\t\t\tf.height = ev.data.adexHeight;\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t}, false)`\r\n\r\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\n\r\nconst IntegrationCode = ({ t, account, slot = {}, classes, onCopy }) => {\r\n\tconst { id, type, tags, fallbackUnit } = slot\r\n\tconst identityAddr = account.identity.address\r\n\r\n\tlet sizes = type.split('_')[1].split('x')\r\n\tsizes = {\r\n\t\twidth: sizes[0],\r\n\t\theight: sizes[1],\r\n\t}\r\n\r\n\tconst options = {\r\n\t\tpublisherAddr: identityAddr,\r\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\r\n\t\twhitelistedType: type,\r\n\t\trandomize: true,\r\n\t\ttargeting: tags || [],\r\n\t\t// marketURL: ADEX_MARKET_HOST,\r\n\t\twidth: sizes.width,\r\n\t\theight: sizes.height,\r\n\t\tminPerImpression: '0',\r\n\t\tminTargetingScore: '0',\r\n\t\tfallbackUnit,\r\n\t\tmarketSlot: id,\r\n\t}\r\n\r\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\r\n\r\n\tlet src = ADVIEW_URL + query\r\n\r\n\tlet iframeStr =\r\n\t\t`<iframe\\n` +\r\n\t\t`\tsrc=\"${src}\"\\n` +\r\n\t\t`\twidth=\"${sizes.width}\"\\n` +\r\n\t\t`\theight=\"${sizes.height}\"\\n` +\r\n\t\t`\tscrolling=\"no\"\\n` +\r\n\t\t`\tframeborder=\"0\"\\n` +\r\n\t\t`\tstyle=\"border: 0;\"\\n` +\r\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\r\n\t\t`></iframe>`\r\n\r\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.integrationLabel}>\r\n\t\t\t\t{t('INTEGRATION_CODE')}\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tcopy(iframeStr)\r\n\t\t\t\t\t\tonCopy && onCopy()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</div>\r\n\t\t\t<Paper>\r\n\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\r\n\t\t\t</Paper>\r\n\t\t\t{process.env.NODE_ENV !== 'production' && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport class Slot extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\teditFallbackImg: false,\r\n\t\t\ttabIndex: 0,\r\n\t\t}\r\n\t\tthis.tabsFocus = React.createRef()\r\n\t}\r\n\r\n\thandleFallbackImgUpdateToggle = () => {\r\n\t\tconst active = this.state.editFallbackImg\r\n\t\tthis.setState({ editFallbackImg: !active })\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index }, () => {\r\n\t\t\tif (this.tabsFocus.current) {\r\n\t\t\t\tthis.tabsFocus.current.scrollIntoView({\r\n\t\t\t\t\tbehavior: 'smooth',\r\n\t\t\t\t\tblock: 'start',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, classes, isDemo, item, account, itemType, ...rest } = this.props\r\n\t\tconst { tabIndex } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BasicProps\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\turl={item.adUrl}\r\n\t\t\t\t\tcanEditImg={!isDemo}\r\n\t\t\t\t\trightComponent={null}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar position='static' color='default'>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={this.handleTabChange.bind(this)}\r\n\t\t\t\t\t\t\tref={this.tabsFocus}\r\n\t\t\t\t\t\t\tscrollButtons='auto'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label={t('INTEGRATION')} />\r\n\t\t\t\t\t\t\t{/* There are no stats displayed currently so I will just comment this out */}\r\n\t\t\t\t\t\t\t{/* <Tab label={t('STATISTICS')} /> */}\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t\t\t<IntegrationCode\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\taccount={account}\r\n\t\t\t\t\t\t\t\tslot={item}\r\n\t\t\t\t\t\t\t\tonCopy={() =>\r\n\t\t\t\t\t\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{/* {tabIndex === 0 && null} */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSlot.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tobjModel: AdSlot,\r\n\t\titemType: 'AdSlot',\r\n\t\t// NOTE: maybe not the best way but pass props to the HOC here\r\n\t\tupdateImgInfoLabel: 'SLOT_AVATAR_IMG_INFO',\r\n\t\tupdateImgLabel: 'SLOT_AVATAR_IMG_LABEL',\r\n\t\tupdateImgErrMsg: 'ERR_IMG_SIZE_MAX',\r\n\t\tupdateImgExact: true,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst SlotItem = ItemHoc(withStyles(styles)(Slot))\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SlotItem)\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tintegrationLabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tintegrationCode: {\r\n\t\t\twhiteSpace: 'pre-wrap',\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\tpadding: spacing,\r\n\t\t\tmargin: 0,\r\n\t\t\talignSelf: 'flex-start',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport {\r\n\tt,\r\n\tselectValidationsById,\r\n\tselectNewTransactionById,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectAccountStatsFormatted,\r\n} from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\n\r\nconst WithdrawFromIdentity = ({ stepsId, validateId } = {}) => {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst { availableIdentityBalanceMainToken: max } = useSelector(\r\n\t\tselectAccountStatsFormatted\r\n\t)\r\n\r\n\tconst { amountToWithdraw, withdrawTo } = useSelector(state =>\r\n\t\tselectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\r\n\tconst { amountToWithdraw: errAmount, withdrawTo: errAddr } = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div>\r\n\t\t\t\t{' '}\r\n\t\t\t\t{t('EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY', {\r\n\t\t\t\t\targs: [max, symbol],\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t\t<TextField\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\ttype='text'\r\n\t\t\t\trequired\r\n\t\t\t\tfullWidth\r\n\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\tname='withdrawTo'\r\n\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t// onChange={ev => handleChange('withdrawTo', ev.target.value)}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'withdrawTo',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t/>\r\n\t\t\t{spinner ? <InputLoading /> : null}\r\n\t\t\t<TextField\r\n\t\t\t\ttype='text'\r\n\t\t\t\tfullWidth\r\n\t\t\t\trequired\r\n\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\r\n\t\t\t\tname='amountToWithdraw'\r\n\t\t\t\tvalue={amountToWithdraw || ''}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\thelperText={\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\r\n\t\t\t\t\t\t\t\t\t\tvalue: max,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\r\n\t\t\t\t\t\t\t\targs: [max, symbol],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nWithdrawFromIdentity.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default WithdrawFromIdentity\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport Helper from 'helpers/miscHelpers'\r\n// import { exchange as ExchangeConstants } from 'adex-constants'\r\n\r\n// const { TX_STATUS } = ExchangeConstants\r\n\r\nexport default function NewTransactionHoc(Decorated) {\r\n\t// TODO: make it common for bids and items\r\n\tclass TransactionHoc extends Component {\r\n\t\tcomponentWillMount() {\r\n\t\t\t// console.log('TransactionHoc')\r\n\t\t}\r\n\r\n\t\thandleChange = (name, value) => {\r\n\t\t\tconst { actions, txId } = this.props\r\n\t\t\tactions.updateNewTransaction({ tx: txId, key: name, value: value })\r\n\t\t}\r\n\r\n\t\t// addTx = (tx) => {\r\n\t\t//     let txData = { ...tx }\r\n\t\t//     txData.status = TX_STATUS.Pending.id\r\n\t\t//     txData.sendingTime = Date.now()\r\n\t\t//     this.props.actions.addWeb3Transaction({ trans: txData, addr: this.props.account._addr })\r\n\t\t// }\r\n\r\n\t\tonSave = (err, tx, manyTxs) => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\r\n\t\t\tthis.resetTransaction()\r\n\t\t}\r\n\r\n\t\tresetTransaction = () => {\r\n\t\t\tconst { actions, txId } = this.props\r\n\t\t\tactions.resetNewTransaction({ tx: txId })\r\n\t\t}\r\n\r\n\t\thandleSaveRes = ({ err, res }) => {\r\n\t\t\tconst { t, actions } = this.props\r\n\t\t\t// const areManyTxs = Array.isArray(res)\r\n\r\n\t\t\tif (err) {\r\n\t\t\t\tactions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tthis.onSave(err, res, Array.isArray(res))\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tthis.handleChange('waitingForWalletAction', true)\r\n\t\t\tthis.props\r\n\t\t\t\t.saveFn({\r\n\t\t\t\t\tacc: this.props.account,\r\n\t\t\t\t\ttransaction: this.props.transaction,\r\n\t\t\t\t})\r\n\t\t\t\t.then((res = {}) => {\r\n\t\t\t\t\tconsole.log('res on save', res)\r\n\r\n\t\t\t\t\tconst txs = res.txResults || res\r\n\t\t\t\t\tconst err = res.err || null\r\n\r\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: txs })\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error = {}) => {\r\n\t\t\t\t\tconsole.log('err on save', error)\r\n\t\t\t\t\tconst res = error.txResults || null\r\n\t\t\t\t\tconst err = error.err || error\r\n\r\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: res })\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\t// TODO: take a look at onSave if change something\r\n\t\t\tthis.onSave(null, null)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tlet transaction = this.props.transaction || {}\r\n\t\t\tlet props = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\ttransaction={transaction}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tresetTransaction={this.resetTransaction}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tTransactionHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tlabel: PropTypes.string,\r\n\t\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t\t.isRequired,\r\n\t\ttransaction: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tsaveFn: PropTypes.func,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\tconst txId = props.stepsId\r\n\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\ttransaction: memory.newTransactions[txId] || {},\r\n\t\t\ttxId: txId,\r\n\t\t\tspinner: memory.spinners[txId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(TransactionHoc))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { validateNumber } from 'helpers/validators'\r\nimport { InputLoading } from 'components/common/spinners/'\r\n\r\nclass WithdrawAnyTokenFromIdentity extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { validate, transaction } = this.props\r\n\t\t// If nothing entered will validate\r\n\t\tif (!transaction.amountToWithdraw) {\r\n\t\t\tvalidate('amountToWithdraw', {\r\n\t\t\t\tisValid: true,\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t\tif (!transaction.withdrawTo) {\r\n\t\t\tvalidate('withdrawTo', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t\tif (!transaction.tokenAddress) {\r\n\t\t\tvalidate('tokenAddress', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateAmount = (numStr, dirty) => {\r\n\t\tlet isValid = validateNumber(numStr)\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\r\n\r\n\t\tthis.props.validate('amountToWithdraw', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: msg },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tactions,\r\n\t\t\tvalidate,\r\n\t\t\ttransaction,\r\n\t\t\tt,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t\twithdrawToSpinner,\r\n\t\t\tbalanceAnySpinner,\r\n\t\t} = this.props\r\n\t\tconst {\r\n\t\t\twithdrawTo,\r\n\t\t\tamountToWithdraw,\r\n\t\t\ttokenAddress,\r\n\t\t\ttokenBalance,\r\n\t\t\ttokenDecimals,\r\n\t\t} = transaction || {}\r\n\t\tconst errAmount = invalidFields['amountToWithdraw']\r\n\t\tconst errAddr = invalidFields['withdrawTo']\r\n\t\tconst errToken = invalidFields['tokenAddress']\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled={balanceAnySpinner}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\r\n\t\t\t\t\tname='tokenAddress'\r\n\t\t\t\t\tvalue={tokenAddress || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('tokenAddress', ev.target.value)}\r\n\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: tokenAddress,\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'tokenAddress',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: tokenAddress,\r\n\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'tokenAddress',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errToken && !!errToken.dirty}\r\n\t\t\t\t\thelperText={errToken && !!errToken.dirty ? errToken.errMsg : ''}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW_DECIMALS')}\r\n\t\t\t\t\tname='tokenDecimals'\r\n\t\t\t\t\tvalue={tokenDecimals || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('tokenDecimals', ev.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled={withdrawToSpinner}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\r\n\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: withdrawTo,\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'withdrawTo',\r\n\t\t\t\t\t\t\tnonERC20: true,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: withdrawTo,\r\n\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'withdrawTo',\r\n\t\t\t\t\t\t\tnonERC20: true,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('TOKENS_AMOUNT_TO_WITHDRAW')}\r\n\t\t\t\t\tname='amountToWithdraw'\r\n\t\t\t\t\tvalue={amountToWithdraw || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('amountToWithdraw', ev.target.value)}\r\n\t\t\t\t\tonBlur={() => this.validateAmount(amountToWithdraw, true)}\r\n\t\t\t\t\tonFocus={() => this.validateAmount(amountToWithdraw, false)}\r\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\thelperText={\r\n\t\t\t\t\t\terrAmount && !!errAmount.dirty\r\n\t\t\t\t\t\t\t? errAmount.errMsg\r\n\t\t\t\t\t\t\t: t('MAX_AMOUNT_TO_WITHDRAW', {\r\n\t\t\t\t\t\t\t\t\targs: [tokenBalance],\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nWithdrawAnyTokenFromIdentity.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId,\r\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\r\n\t\tbalanceAnySpinner: memory.spinners['tokenAddress'],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst WithdrawAnyTokenFromIdentityForm = NewTransactionHoc(\r\n\tWithdrawAnyTokenFromIdentity\r\n)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(WithdrawAnyTokenFromIdentityForm)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport Box from '@material-ui/core/Box'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport { constants } from 'adex-models'\r\nimport { t, selectValidationsById, selectNewTransactionById } from 'selectors'\r\nimport { execute, updateNewTransaction } from 'actions'\r\n\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst PRIV_LEVELS_SRC = Object.values(IdentityPrivilegeLevel).map(value => {\r\n\treturn {\r\n\t\tvalue,\r\n\t\tlabel: t(`PRIV_${value}_LABEL`),\r\n\t\tinfo: t(`PRIV_${value}_INFO`),\r\n\t}\r\n})\r\n\r\nfunction SeAddressPrivilege({ stepsId, validateId } = {}) {\r\n\tconst { setAddr, privLevel, warningAccepted, warningMsg } = useSelector(\r\n\t\tstate => selectNewTransactionById(state, stepsId)\r\n\t)\r\n\r\n\tconst {\r\n\t\tsetAddr: errAddr,\r\n\t\tsetAddrWarning: warning,\r\n\t\tprivLevel: errPrivLvl,\r\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div> {t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')}</div>\r\n\t\t\t<TextField\r\n\t\t\t\ttype='text'\r\n\t\t\t\trequired\r\n\t\t\t\tfullWidth\r\n\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\r\n\t\t\t\tname='setAddr'\r\n\t\t\t\tvalue={setAddr || ''}\r\n\t\t\t\tonChange={ev =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'setAddr',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t/>\r\n\t\t\t<Dropdown\r\n\t\t\t\trequired\r\n\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\r\n\t\t\t\t// helperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\r\n\t\t\t\tonChange={val =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\tkey: 'privLevel',\r\n\t\t\t\t\t\t\tvalue: val,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tsource={PRIV_LEVELS_SRC}\r\n\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\r\n\t\t\t\thtmlId='label-privLevel'\r\n\t\t\t\tfullWidth\r\n\t\t\t\terror={errPrivLvl && !!errPrivLvl.dirty}\r\n\t\t\t\thelperText={\r\n\t\t\t\t\terrPrivLvl && !!errPrivLvl.dirty\r\n\t\t\t\t\t\t? errPrivLvl.errMsg\r\n\t\t\t\t\t\t: t('SELECT_PRIV_LEVEL_HELPER_TXT')\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<Box marginTop={2}>\r\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\r\n\t\t\t\t\t{t('PRIV_LEVEL_INFO_LABEL')}:\r\n\t\t\t\t</Typography>\r\n\t\t\t\t{PRIV_LEVELS_SRC.map(x => (\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tkey={x.value}\r\n\t\t\t\t\t\tvariant='caption'\r\n\t\t\t\t\t\tdisplay='block'\r\n\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<strong>{x.label}:</strong> {x.info}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t))}\r\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\r\n\t\t\t\t\t* {t('PRIV_LEVEL_INFO')}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t{(warning || warningAccepted || warningMsg) && (\r\n\t\t\t\t<FormControl error={warning && warning.dirty} component='fieldset'>\r\n\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tchecked={!!warningAccepted}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\r\n\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\t\t\t\t\t\t\tkey: 'warningAccepted',\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvalue='warningAccepted'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={t((warning || {}).errMsg || warningMsg)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormControl>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nSeAddressPrivilege.propTypes = {\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t.isRequired,\r\n}\r\n\r\nexport default SeAddressPrivilege\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { InputLoading } from 'components/common/spinners/'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\n\r\nclass SetAccountENSPage extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { transaction, validate } = this.props\r\n\t\tif (!transaction.withdrawAmount) {\r\n\t\t\tvalidate('setEns', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleValidate = () => {\r\n\t\tif (this._timeout) {\r\n\t\t\t//if there is already a timeout in process cancel it\r\n\t\t\tclearTimeout(this._timeout)\r\n\t\t}\r\n\t\tthis._timeout = setTimeout(() => {\r\n\t\t\tthis._timeout = null\r\n\t\t\tconst { actions, transaction, validate } = this.props\r\n\t\t\tconst { setEns } = transaction || {}\r\n\t\t\tactions.validateENS({\r\n\t\t\t\tens: setEns,\r\n\t\t\t\tdirty: true,\r\n\t\t\t\tvalidate,\r\n\t\t\t\tname: 'setEns',\r\n\t\t\t})\r\n\t\t}, 500)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\ttransaction,\r\n\t\t\tt,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t\tsetEnsSpinner,\r\n\t\t} = this.props\r\n\t\tconst { setEns } = transaction || {}\r\n\t\t// const errAmount = invalidFields['withdrawAmount']\r\n\t\tconst errAddr = invalidFields['setEns']\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div> {t('SET_ENS_MAIN_INFO')}</div>\r\n\t\t\t\t<form noValidate>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tlabel={t('ENS_TO_SET_TO_ADDR')}\r\n\t\t\t\t\t\tname='setEns'\r\n\t\t\t\t\t\tvalue={setEns || ''}\r\n\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\thandleChange('setEns', ev.target.value.toLowerCase())\r\n\t\t\t\t\t\t\tthis.handleValidate()\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t{`.${process.env.REVERSE_REGISTRAR_PARENT}`}\r\n\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{setEnsSpinner ? <InputLoading /> : null}\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSetAccountENSPage.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId,\r\n\t\tsetEnsSpinner: memory.spinners['setEns'],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst SetAccountENSPageForm = NewTransactionHoc(SetAccountENSPage)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SetAccountENSPageForm)\r\n","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { PropRow } from 'components/common/dialog/content'\r\n\r\nexport const IdentityWithdrawPreview = ({\r\n\tt,\r\n\twithdrawTo,\r\n\tclasses,\r\n\tfeesData,\r\n\tamountToWithdraw,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='amountToWithdraw'\r\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${amountToWithdraw} ${symbol}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const SetPrivilegePreview = ({\r\n\tt,\r\n\tsetAddr,\r\n\tclasses,\r\n\tfeesData,\r\n\tprivLevel,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='setAddr'\r\n\t\t\tleft={t('setAddr', { isProp: true })}\r\n\t\t\tright={(setAddr || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='privLevel'\r\n\t\t\tleft={t('privLevel', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [feesData.fees, symbol],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={t(`PRIV_${privLevel}_LABEL`)}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const SetENSPreview = ({\r\n\tt,\r\n\tsetEns,\r\n\taddress,\r\n\tclasses,\r\n\tfeesData,\r\n\tsymbol,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='addr'\r\n\t\t\tleft={t('ENS_ADDR_TO_BE_SET')}\r\n\t\t\tright={(address || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='setEns'\r\n\t\t\tleft={t('setEns', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('ENS_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\tfeesData.fees,\r\n\t\t\t\t\t\t\tsymbol,\r\n\t\t\t\t\t\t\t`${setEns}.${process.env.REVERSE_REGISTRAR_PARENT}`,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={`${setEns}.${process.env.REVERSE_REGISTRAR_PARENT}`}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const IdentityWithdrawAnyPreview = ({\r\n\tt,\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\tclasses,\r\n\tfeesData,\r\n\tamountToWithdraw,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='tokenAddress'\r\n\t\t\tleft={t('tokenAddress', { isProp: true })}\r\n\t\t\tright={(tokenAddress || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='amountToWithdraw'\r\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={amountToWithdraw + ' '}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { styles } from './styles'\r\nimport {\r\n\tIdentityWithdrawPreview,\r\n\tSetPrivilegePreview,\r\n\tSetENSPreview,\r\n\tIdentityWithdrawAnyPreview,\r\n} from './previews'\r\n\r\nimport {\r\n\tselectMainToken,\r\n\tt,\r\n\tselectSpinnerById,\r\n\tselectAccount,\r\n\tselectNewTransactionById,\r\n} from 'selectors'\r\nimport { execute, updateSpinner } from 'actions'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TransactionPreview(props) {\r\n\tconst classes = useStyles()\r\n\tconst {\r\n\t\tgetFeesFn,\r\n\t\thandleChange,\r\n\t\tidentityAvailable,\r\n\t\tpreviewWarnMsgs,\r\n\t\tstepsId,\r\n\t} = props\r\n\tconst txId = stepsId\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { address } = account.identity\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst transaction = useSelector(state =>\r\n\t\tselectNewTransactionById(state, txId)\r\n\t)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, txId))\r\n\r\n\tuseEffect(() => {\r\n\t\tif (getFeesFn && Object.keys(transaction).length) {\r\n\t\t\texecute(updateSpinner(txId, true))\r\n\t\t\tgetFeesFn({ account, transaction })\r\n\t\t\t\t.then(feesData => {\r\n\t\t\t\t\thandleChange('feesData', feesData)\r\n\t\t\t\t\t// if (feesData.toGet) {\r\n\t\t\t\t\t// \thandleChange('withdrawAmount', feesData.toGet)\r\n\t\t\t\t\t// }\r\n\t\t\t\t\texecute(updateSpinner(txId, false))\r\n\r\n\t\t\t\t\tif (parseFloat(feesData.fees || 0) > parseFloat(identityAvailable)) {\r\n\t\t\t\t\t\thandleChange('errors', [\r\n\t\t\t\t\t\t\tt('INSUFFICIENT_BALANCE_FOR_FEES', {\r\n\t\t\t\t\t\t\t\targs: [identityAvailable, symbol, feesData.fees, symbol],\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t])\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.error(err)\r\n\t\t\t\t\texecute(updateSpinner(txId, false))\r\n\t\t\t\t\thandleChange('errors', [Helper.getErrMsg(err)])\r\n\t\t\t\t})\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tconst {\r\n\t\twithdrawTo,\r\n\t\tamountToWithdraw,\r\n\t\tsetAddr,\r\n\t\tsetEns,\r\n\t\tprivLevel,\r\n\t\ttokenAddress,\r\n\t\tfeesData = {},\r\n\t\terrors = [],\r\n\t} = transaction\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentSpinner />\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBox>\r\n\t\t\t\t\t{transaction.waitingForWalletAction ? (\r\n\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t{errors.length\r\n\t\t\t\t\t\t\t? errors.map((err, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\r\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={err}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{previewWarnMsgs\r\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\r\n\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\r\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\r\n\t\t\t\t\t\t\t<SetPrivilegePreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\r\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\r\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{stepsId === 'setENS' && (\r\n\t\t\t\t\t\t\t<SetENSPreview\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tfeesData={feesData}\r\n\t\t\t\t\t\t\t\taddress={address}\r\n\t\t\t\t\t\t\t\tsymbol={symbol}\r\n\t\t\t\t\t\t\t\tsetEns={setEns}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</ContentBox>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nTransactionPreview.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tpreviewMsgs: PropTypes.array,\r\n}\r\n\r\nconst TransactionPreviewForm = NewTransactionHoc(TransactionPreview)\r\nexport default TransactionPreviewForm\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tcolor: theme.palette.warning.A700,\r\n\t\t},\r\n\t\tcentralSpinner: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 20px)',\r\n\t\t\ttop: ' calc(50% - 20px)',\r\n\t\t},\r\n\t\timgPreview: {\r\n\t\t\theight: 120,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport WithdrawFromIdentity from './WithdrawFromIdentity'\r\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\r\nimport SeAddressPrivilege from './SeAddressPrivilege'\r\nimport SetAccountENSPage from './SetAccountENSPage'\r\nimport TransactionPreview from './TransactionPreview'\r\nimport Button from '@material-ui/core/Button'\r\nimport TransactionHoc from './TransactionHoc'\r\nimport FormSteps from 'components/dashboard/forms/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\r\nimport {\r\n\tsetIdentityPrivilege,\r\n\taddIdentityENS,\r\n\twithdrawOtherTokensFromIdentity,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport {\r\n\taddrIdentityPrivilege,\r\n\tidentityWithdraw,\r\n\tsetIdentityENS,\r\n\tvalidatePrivilegesChange,\r\n\tidentityWithdrawAny,\r\n\tvalidateIdentityWithdraw,\r\n\texecute,\r\n} from 'actions'\r\n\r\nconst FormStepsWithDialog = WithDialog(FormSteps)\r\n\r\nconst SaveBtn = ({\r\n\tsave,\r\n\tsaveBtnLabel,\r\n\tsaveBtnIcon,\r\n\tt,\r\n\ttransaction,\r\n\twaitingForWalletAction,\r\n\tspinner,\r\n\t...other\r\n}) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t\tdisabled={\r\n\t\t\t\t(!!transaction.errors && !!transaction.errors.length) ||\r\n\t\t\t\t!!transaction.waitingForWalletAction ||\r\n\t\t\t\t!!spinner\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{transaction.waitingForWalletAction ? (\r\n\t\t\t\t<HourglassEmptyIcon />\r\n\t\t\t) : (\r\n\t\t\t\tsaveBtnIcon || ''\r\n\t\t\t)}\r\n\t\t\t{t(saveBtnLabel || 'DO_IT')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst CancelBtn = ({ cancel, cancelBtnLabel, t, ...other }) => {\r\n\treturn <Button onClick={cancel}>{t(cancelBtnLabel || 'CANCEL')}</Button>\r\n}\r\n\r\nconst SaveBtnWithTransaction = TransactionHoc(SaveBtn)\r\nconst CancelBtnWithTransaction = TransactionHoc(CancelBtn)\r\n\r\nconst txCommon = {\r\n\tSaveBtn: SaveBtnWithTransaction,\r\n\tCancelBtn: CancelBtnWithTransaction,\r\n\tvalidateIdBase: 'tx-',\r\n\tdarkerBackground: true,\r\n}\r\n\r\nexport const WithdrawTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tpage: WithdrawFromIdentity,\r\n\t\t\t\tpageValidation: ({ stepsId, validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidateIdentityWithdraw({\r\n\t\t\t\t\t\t\tstepsId,\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction: { amountToWithdraw, withdrawTo } } = {}) => {\r\n\t\t\treturn execute(\r\n\t\t\t\tidentityWithdraw({\r\n\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}}\r\n\t/>\r\n)\r\n\r\nexport const SetIdentityPrivilege = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\r\n\t\tstepsId='setIdentityPrivilege'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\r\n\t\t\t\tpage: SeAddressPrivilege,\r\n\t\t\t\tpageValidation: ({ stepsId, validateId, dirty, onValid, onInvalid }) =>\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tvalidatePrivilegesChange({\r\n\t\t\t\t\t\t\tstepsId,\r\n\t\t\t\t\t\t\tvalidateId,\r\n\t\t\t\t\t\t\tdirty,\r\n\t\t\t\t\t\t\tonValid,\r\n\t\t\t\t\t\t\tonInvalid,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t),\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn execute(\r\n\t\t\t\taddrIdentityPrivilege({\r\n\t\t\t\t\tprivLevel: transaction.privLevel,\r\n\t\t\t\t\tsetAddr: transaction.setAddr,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction, account } = {}) => {\r\n\t\t\treturn setIdentityPrivilege({\r\n\t\t\t\tprivLevel: transaction.privLevel,\r\n\t\t\t\tsetAddr: transaction.setAddr,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n)\r\n\r\nexport const WithdrawAnyTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawAnyFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tpage: WithdrawAnyTokenFromIdentityPage,\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn execute(identityWithdrawAny(transaction))\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction = {}, account } = {}) => {\r\n\t\t\treturn withdrawOtherTokensFromIdentity({\r\n\t\t\t\t...transaction,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n)\r\n\r\nexport const SetAccountENS = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_SET_ENS_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_SET_ENS_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_SET_ENS_TITLE'\r\n\t\tstepsId='setENS'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_SET_ENS_STEP',\r\n\t\t\t\tpage: SetAccountENSPage,\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn execute(\r\n\t\t\t\tsetIdentityENS({\r\n\t\t\t\t\tusername: transaction.setEns,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}}\r\n\t\tgetFeesFn={({ account } = {}) => {\r\n\t\t\treturn addIdentityENS({\r\n\t\t\t\taccount,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n)\r\n","import React, { useState, Fragment } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tWithdrawTokenFromIdentity,\r\n\tWithdrawAnyTokenFromIdentity,\r\n\tSetIdentityPrivilege,\r\n\tSetAccountENS,\r\n} from 'components/dashboard/forms/web3/transactions'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { styles } from './styles.js'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\r\nimport { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport copy from 'copy-to-clipboard'\r\nimport {\r\n\tt,\r\n\tselectWallet,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountIdentityAddr,\r\n\tselectWalletPrivileges,\r\n\tselectMainToken,\r\n\tselectEasterEggsAllowed,\r\n\tselectEnsAddressByAddr,\r\n} from 'selectors'\r\nimport { execute, addToast } from 'actions'\r\nimport { formatAddress } from 'helpers/formatters'\r\n// const RRButton = withReactRouterLink(Button)\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\n\r\nconst AccountItem = props => (\r\n\t<ListItem>\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexWrap={'wrap'}\r\n\t\t\tflex='1'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t\talignItems='center'\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tflexGrow='8'\r\n\t\t\t\tflexBasis='700px'\r\n\t\t\t\tmr={1}\r\n\t\t\t\tflexWrap={'nowrap'}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t>\r\n\t\t\t\t<Box flex='1'>{props.left}</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box flexGrow='1' flexBasis='20em'>\r\n\t\t\t\t{props.right}\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t</ListItem>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AccountInfo() {\r\n\tconst { authType = '' } = useSelector(selectWallet)\r\n\tconst identityAddress = useSelector(selectAccountIdentityAddr)\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst canMakeTx = privileges > 1\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst {\r\n\t\twalletAddress,\r\n\t\tidentityBalanceMainToken,\r\n\t\tavailableIdentityBalanceMainToken,\r\n\t} = useSelector(selectAccountStatsFormatted)\r\n\r\n\tconst identityEnsName = useSelector(state =>\r\n\t\tselectEnsAddressByAddr(state, identityAddress)\r\n\t)\r\n\r\n\tconst allowEasterEggs = useSelector(selectEasterEggsAllowed)\r\n\r\n\tconst [expanded, setExpanded] = useState(false)\r\n\r\n\tconst classes = useStyles()\r\n\r\n\tconst displayRampWidget = () => {\r\n\t\tconst widget = new RampInstantSDK({\r\n\t\t\thostAppName: 'AdExNetwork',\r\n\t\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\r\n\t\t\tvariant: 'auto',\r\n\t\t\tswapAsset: symbol,\r\n\t\t\tuserAddress: identityAddress,\r\n\t\t})\r\n\t\twidget.domNodes.overlay.style.zIndex = 1000\r\n\t\twidget.show()\r\n\t}\r\n\r\n\tconst handleExpandChange = () => {\r\n\t\tsetExpanded(!expanded)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<List className={classes.root}>\r\n\t\t\t\t<ListSubheader>{t('ADEX_ACCOUNT')}</ListSubheader>\r\n\t\t\t\t<AccountItem\r\n\t\t\t\t\tleft={\r\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t{...(identityEnsName && {\r\n\t\t\t\t\t\t\t\t\tprimary: identityEnsName,\r\n\t\t\t\t\t\t\t\t\tsecondary: identityAddress,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t{...(!identityEnsName && {\r\n\t\t\t\t\t\t\t\t\tprimary: identityAddress,\r\n\t\t\t\t\t\t\t\t\tsecondary: t('ENS_NOT_SET'),\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcopy(identityAddress)\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tright={\r\n\t\t\t\t\t\t!!identityAddress && (\r\n\t\t\t\t\t\t\t<SetAccountENS\r\n\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\ttoken='DAI'\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<AccountItem\r\n\t\t\t\t\tleft={\r\n\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken || 0} ${symbol}`}\r\n\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tright={\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\taria-label='delete'\r\n\t\t\t\t\t\t\t\t\tonClick={() => displayRampWidget()}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\r\n\t\t\t\t\t\t\t\t\t{t('TOP_UP_IDENTITY_GBP')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\ttoken={symbol}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<ExpansionPanel\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonChange={handleExpandChange}\r\n\t\t\t\t\tsquare={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\taria-controls='panel1bh-content'\r\n\t\t\t\t\t\tid='panel1bh-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography className={classes.heading}>\r\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\r\n\t\t\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t\tprimary={formatAddress(walletAddress)}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={t('WALLET_INFO_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t`AUTH_${authType.toUpperCase()}`,\r\n\t\t\t\t\t\t\t\t\t\t\t\t`PRIV_${privileges}_LABEL`,\r\n\t\t\t\t\t\t\t\t\t\t\t\tauthType,\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t<AccountItem\r\n\t\t\t\t\t\t\t\tleft={\r\n\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\t\tsecondary={''}\r\n\t\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t></AccountItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_LEADER_ID)],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_FOLLOWER_ID)],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t{allowEasterEggs && (\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\r\n\t\t\t\t\t\t\t\t\t\tflex='1'\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Box py={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t</ExpansionPanel>\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default AccountInfo\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tactionBtn: {\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t\taddress: {\r\n\t\t\twordWrap: 'break-word',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t\tflexGrow: 0,\r\n\t\t},\r\n\t\tadvancedList: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\ticonBtnLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport { Box } from '@material-ui/core'\r\nimport { Stars } from '@material-ui/icons'\r\nimport { PRIMARY, SECONDARY } from 'components/App/themeMUi'\r\nimport StepConnector from '@material-ui/core/StepConnector'\r\n\r\nconst LINES_WIDTH = 3\r\nconst DEFAULT_SIZE = 80\r\n\r\nconst useColorlibStepIconStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tbackgroundColor: 'transparent',\r\n\t\tzIndex: 1,\r\n\t\twidth: props => DEFAULT_SIZE,\r\n\t\theight: props => DEFAULT_SIZE,\r\n\t\tdisplay: 'flex',\r\n\t\tborderRadius: '50%',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.text[500]}`,\r\n\t\ttransition: '0.5s',\r\n\t\t'&:hover': {\r\n\t\t\tboxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n\t\t\ttransform: 'translateY(-5px)',\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${PRIMARY} !important`,\r\n\t},\r\n\tcompleted: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${SECONDARY}`,\r\n\t},\r\n\tstar: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\ttop: '-40%',\r\n\t\tright: '-32%',\r\n\t\tborderRadius: '50%',\r\n\t},\r\n}))\r\n\r\nexport const ColorlibConnector = withStyles(theme => ({\r\n\talternativeLabel: {\r\n\t\ttop: DEFAULT_SIZE / 2,\r\n\t\tleft: `calc(-50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t\tright: `calc(50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t},\r\n\tline: {\r\n\t\theight: LINES_WIDTH,\r\n\t\tborder: 0,\r\n\t\tbackground: `linear-gradient(to right, transparent 50%, #fff 50%), ${\r\n\t\t\ttheme.palette.text[500]\r\n\t\t}`,\r\n\t\tbackgroundSize: `${LINES_WIDTH * 6}px`,\r\n\t},\r\n}))(StepConnector)\r\n\r\nexport function ColorlibStepIcon(props) {\r\n\tconst classes = useColorlibStepIconStyles(props)\r\n\tconst { active, completed, icon } = props\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={clsx(classes.root, {\r\n\t\t\t\t[classes.completed]: completed,\r\n\t\t\t\t[classes.active]: active,\r\n\t\t\t})}\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundImage: `url(${icon})`,\r\n\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{completed && <Stars className={clsx(classes.star)} color='secondary' />}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n\tactive: PropTypes.bool,\r\n\tcompleted: PropTypes.bool,\r\n\ticon: PropTypes.node,\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport { confirmAction, execute } from 'actions'\r\nimport { t } from 'selectors'\r\nimport { ExternalAnchor } from 'components/common/anchor/'\r\n\r\nexport const createAdUnitTutorial = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 8; i++) {\r\n\t\tsteps.push(`TUTORIAL_CREATE_AD_UNIT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_UNIT_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_UNIT_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const fundAccountTutorial = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 4; i++) {\r\n\t\tsteps.push(`TUTORIAL_FUND_ACC_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_FUND_ACC_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_START')}</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_FUND_ACC_MORE_INFO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t'https://www.adex.network/blog/adex-integrates-ramp-networks-fiat-onramp-advertisers-can-now-pay-in-fiat/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HERE')}\r\n\t\t\t\t\t\t\t\t</ExternalAnchor>,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_END')}</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const launchFirstCampaign = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 5; i++) {\r\n\t\tsteps.push(`TUTORIAL_LAUNCH_CAMPAIGN_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_LAUNCH_CAMPAIGN_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography>{t('TUTORIAL_LAUNCH_CAMPAIGN_START')}</Typography>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_LAUNCH_CAMPAIGN_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const createAdSlot = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 7; i++) {\r\n\t\tsteps.push(`TUTORIAL_CREATE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_SLOT_TTILE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_SLOT_END'),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport const placeAdSlot = () => {\r\n\tconst steps = []\r\n\r\n\tfor (let i = 1; i <= 2; i++) {\r\n\t\tsteps.push(`TUTORIAL_PLACE_AD_SLOT_STEP_${i}`)\r\n\t}\r\n\treturn execute(\r\n\t\tconfirmAction(null, null, {\r\n\t\t\tconfirmLabel: t('OK'),\r\n\t\t\ttitle: t('TUTORIAL_PLACE_AD_SLOT_TITLE'),\r\n\t\t\ttext: (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t{steps.map(step => (\r\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_MORE_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor href={'https://html.com/tags/iframe/'}>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_1')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t<ExternalAnchor\r\n\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t'https://webcusp.com/iframe-wordpress-plugins-and-tutorials/'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_2')}\r\n\t\t\t\t\t\t</ExternalAnchor>\r\n\t\t\t\t\t\t,\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Fragment>\r\n\t\t\t),\r\n\t\t})\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n\tBox,\r\n\tStepButton,\r\n\tMobileStepper,\r\n\tStepper,\r\n\tStep,\r\n\tStepLabel,\r\n\tButton,\r\n\tTypography,\r\n\tHidden,\r\n\tLink,\r\n\tExpansionPanel,\r\n\tExpansionPanelDetails,\r\n\tExpansionPanelSummary,\r\n\tTooltip,\r\n} from '@material-ui/core'\r\nimport {\r\n\tKeyboardArrowLeft,\r\n\tKeyboardArrowRight,\r\n\tExpandMore,\r\n\tClose,\r\n\tStar,\r\n\tStarBorder,\r\n} from '@material-ui/icons'\r\nimport EmailEddie from 'resources/getting-started/GS-email-ic.png'\r\nimport FundEddie from 'resources/getting-started/GS-fund-ic.png'\r\nimport CreateEddie from 'resources/getting-started/GS-create-ic.png'\r\nimport LaunchEddie from 'resources/getting-started/GS-launch-ic.png'\r\nimport PlaceEddie from 'resources/getting-started/GS-place-ic.png'\r\n// import BonusEddie from 'resources/getting-started/GS-bonus-ic.png'\r\nimport {\r\n\tt,\r\n\tsectStepsData,\r\n\tselectHideGettingStarted,\r\n\tselectGettingStartedExpanded,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { ColorlibStepIcon, ColorlibConnector } from './Colorlib'\r\nimport { hideGettingStarted, setGettingStartedExpanded, execute } from 'actions'\r\nimport {\r\n\tcreateAdUnitTutorial,\r\n\tfundAccountTutorial,\r\n\tlaunchFirstCampaign,\r\n\tcreateAdSlot,\r\n\tplaceAdSlot,\r\n} from './Tutorials'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst stepperBackgroundColor = ({ side }) =>\r\n\t\tside === 'advertiser'\r\n\t\t\t? theme.palette.accentOne.main\r\n\t\t\t: theme.palette.accentTwo.main\r\n\r\n\treturn {\r\n\t\tmobile: {\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tstepper: {\r\n\t\t\tbackgroundColor: 'transparent',\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tinstructions: {\r\n\t\t\tmarginTop: theme.spacing(1),\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t},\r\n\t\texpansionPanel: {\r\n\t\t\tcolor: stepperBackgroundColor,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nconst getSteps = ({\r\n\thasCreatedAdUnit,\r\n\thasCreatedCampaign,\r\n\thasCreatedAdSlot,\r\n\thasConfirmedEmail,\r\n\thasFundedAccount,\r\n\thasImpressions,\r\n\thas5000Impressions,\r\n}) => ({\r\n\tadvertiser: [\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\r\n\t\t\tcontent: (\r\n\t\t\t\t<span\r\n\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\r\n\t\t\ticon: EmailEddie,\r\n\t\t\tcheck: hasConfirmedEmail,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_ADD_UNIT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_ADD_UNIT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CREATE_UNIT_COMPLETE'),\r\n\t\t\ticon: CreateEddie,\r\n\t\t\tcheck: hasCreatedAdUnit,\r\n\t\t\ttutorial: createAdUnitTutorial,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_FUND_ACCOUNT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_FUND_ACCOUNT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_FUND_ACC_COMPLETE'),\r\n\t\t\ticon: FundEddie,\r\n\t\t\tcheck: hasFundedAccount,\r\n\t\t\ttutorial: fundAccountTutorial,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_FIRST_CAMPAIGN_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_FIRST_CAMPAIGN_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_LAUNCH_CAMPAIGN_COMPLETE'),\r\n\t\t\ticon: LaunchEddie,\r\n\t\t\tcheck: hasCreatedCampaign,\r\n\t\t\ttutorial: launchFirstCampaign,\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tlabel: 'Receive your bonus',\r\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\r\n\t\t// \ticon: BonusEddie,\r\n\t\t// \tcheck: false,\r\n\t\t// },\r\n\t],\r\n\tpublisher: [\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\r\n\t\t\tcontent: (\r\n\t\t\t\t<span\r\n\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\r\n\t\t\ticon: EmailEddie,\r\n\t\t\tcheck: hasConfirmedEmail,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_ADD_SLOT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_CREATE_AD_SLOT_COMPLETE'),\r\n\t\t\ticon: CreateEddie,\r\n\t\t\tcheck: hasCreatedAdSlot,\r\n\t\t\ttutorial: createAdSlot,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_PLACE_SLOT_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_PLACE_AD_SLOT_COMPLETE'),\r\n\t\t\ticon: PlaceEddie,\r\n\t\t\tcheck: hasImpressions,\r\n\t\t\ttutorial: placeAdSlot,\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: t('TUTORIAL_REACH_5000_LABEL'),\r\n\t\t\tcontent: t('TUTORIAL_REACH_5000_CONTENT'),\r\n\t\t\tcontentCompleted: t('TUTORIAL_5000_IMPRESSIONS_COMPLETE'),\r\n\t\t\ticon: LaunchEddie,\r\n\t\t\tcheck: has5000Impressions,\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tlabel: 'Receive your bonus',\r\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\r\n\t\t// \ticon: BonusEddie,\r\n\t\t// \tcheck: false,\r\n\t\t// },\r\n\t],\r\n})\r\n\r\nexport default function GettingStarted(props) {\r\n\tconst { side } = props\r\n\tconst classes = useStyles({ side })\r\n\r\n\tconst stepsData = useSelector(sectStepsData)\r\n\r\n\tconst isGettingStartedHidden = useSelector(selectHideGettingStarted)\r\n\tconst expanded = useSelector(selectGettingStartedExpanded)\r\n\tconst [steps, setSteps] = useState({})\r\n\r\n\tconst [activeStep, setActiveStep] = React.useState(0)\r\n\r\n\tconst sideSteps = steps[side] || []\r\n\tconst currentStep = sideSteps[activeStep] || {}\r\n\r\n\tconst indexOfFirstIncompleteStep = sideSteps.findIndex(step => !step.check)\r\n\r\n\tconst handleStep = step => () => {\r\n\t\tsetActiveStep(step)\r\n\t}\r\n\r\n\tconst handleNext = () => {\r\n\t\tsetActiveStep(activeStep + 1)\r\n\t}\r\n\tconst handleBack = () => {\r\n\t\tsetActiveStep(activeStep - 1)\r\n\t}\r\n\r\n\tconst handleDismiss = () => {\r\n\t\tsetActiveStep(0)\r\n\t\texecute(hideGettingStarted())\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSteps(getSteps(stepsData))\r\n\t}, [stepsData])\r\n\tuseEffect(() => {\r\n\t\tsetActiveStep(\r\n\t\t\tindexOfFirstIncompleteStep !== -1\r\n\t\t\t\t? indexOfFirstIncompleteStep\r\n\t\t\t\t: sideSteps.length - 1\r\n\t\t)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [indexOfFirstIncompleteStep])\r\n\t// TODO: wait for the data to be loaded before displaying the getting started\r\n\treturn (\r\n\t\t!isGettingStartedHidden &&\r\n\t\tsideSteps.length && (\r\n\t\t\t<Box mb={2}>\r\n\t\t\t\t<ExpansionPanel\r\n\t\t\t\t\tclasses={{ root: classes.expansionPanel }}\r\n\t\t\t\t\texpanded={expanded}\r\n\t\t\t\t\tonChange={() => execute(setGettingStartedExpanded(!expanded))}\r\n\t\t\t\t\tsquare={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMore />}\r\n\t\t\t\t\t\taria-controls='expand-getting-started'\r\n\t\t\t\t\t\tid='getting-started-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Typography variant={'h6'}>\r\n\t\t\t\t\t\t\t\t{t('GETTING_STARTED_HEADING')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center'>\r\n\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => {\r\n\t\t\t\t\t\t\t\t\tconst Icon = check ? Star : StarBorder\r\n\t\t\t\t\t\t\t\t\tconst color = check ? 'secondary' : 'inherit'\r\n\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title={label} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon color={color} />\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</ExpansionPanelSummary>\r\n\r\n\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t<Box width={1}>\r\n\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t<Box p={2} justifyContent={'center'} display='flex'>\r\n\t\t\t\t\t\t\t\t\t<ColorlibStepIcon\r\n\t\t\t\t\t\t\t\t\t\ticon={currentStep.icon}\r\n\t\t\t\t\t\t\t\t\t\tcompleted={currentStep.check}\r\n\t\t\t\t\t\t\t\t\t\tsize='35vw'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<MobileStepper\r\n\t\t\t\t\t\t\t\t\tclassName={classes.mobile}\r\n\t\t\t\t\t\t\t\t\tsteps={sideSteps.length}\r\n\t\t\t\t\t\t\t\t\tposition='static'\r\n\t\t\t\t\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\t\tnextButton={\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleNext}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === sideSteps.length - 1}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('NEXT')}\r\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowRight />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tbackButton={\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleBack}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === 0}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowLeft />\r\n\t\t\t\t\t\t\t\t\t\t\t{t('BACK')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t<Hidden smDown>\r\n\t\t\t\t\t\t\t\t<Stepper\r\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.stepper }}\r\n\t\t\t\t\t\t\t\t\tnonLinear\r\n\t\t\t\t\t\t\t\t\talternativeLabel\r\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\r\n\t\t\t\t\t\t\t\t\tconnector={<ColorlibConnector />}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<Step key={label}>\r\n\t\t\t\t\t\t\t\t\t\t\t<StepButton onClick={handleStep(index)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<StepLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconComponent={ColorlibStepIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconProps={{ icon, completed: check }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</StepLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t</StepButton>\r\n\t\t\t\t\t\t\t\t\t\t</Step>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</Stepper>\r\n\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t{indexOfFirstIncompleteStep === -1 ? (\r\n\t\t\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent={'space-between'}\r\n\t\t\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('GETTING_STARTED_FINISHED')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleDismiss}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<Close />}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('DISMISS')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tvariant={'body1'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('GETTING_STARTED_STEPS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [activeStep + 1, currentStep.label || ''],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.check ? t('COMPLETED') : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t{currentStep.check ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.contentCompleted}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.content}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.tutorial &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tt('GETTING_STARTED_NOT_SURE_SEE_TUTORIAL', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey='see-tutorial-link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='#'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentStep.tutorial()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunderline={'hover'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('OUR_TUTORIAL')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t</ExpansionPanel>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t)\r\n}\r\n","import React, { useState, useEffect, Fragment } from 'react'\r\nimport SideNav from './SideNav'\r\nimport TopBar from './TopBar'\r\nimport { Route, Switch } from 'react-router'\r\nimport Campaign, {\r\n\tCampaignReceipt,\r\n} from 'components/dashboard/containers/Campaign'\r\nimport DashboardStats from 'components/dashboard/containers/DashboardStats'\r\nimport Unit from 'components/dashboard/containers/Unit'\r\nimport Slot from 'components/dashboard/containers/Slot'\r\nimport Account from 'components/dashboard/account/AccountInfo'\r\nimport {\r\n\tNewUnitDialog,\r\n\tNewCampaignDialog,\r\n\tNewSlotDialog,\r\n} from 'components/dashboard/forms/items/NewItems'\r\nimport {\r\n\tCampaignsTable,\r\n\tAdSlotsTable,\r\n\tAdUnitsTable,\r\n} from 'components/dashboard/containers/Tables'\r\nimport Drawer from '@material-ui/core/Drawer'\r\nimport Box from '@material-ui/core/Box'\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\texecute,\r\n\tresolveEnsAddress,\r\n\tupdatePrivilegesWarningAccepted,\r\n\tloadAccountData,\r\n\tstopAccountDataUpdate,\r\n\tupdateNav,\r\n} from 'actions'\r\nimport {\r\n\tt,\r\n\tselectAccountIdentityAddr,\r\n\tselectWalletPrivileges,\r\n\tselectPrivilegesWarningAccepted,\r\n\tselectPublisherRevenueNoticeActive,\r\n} from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport GettingStarted from '../getting-started/GettingStarted'\r\n\r\nconst Campaigns = () => {\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst disabled = privileges <= 1\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<NewCampaignDialog\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tfabButton\r\n\t\t\t\tvariant='extended'\r\n\t\t\t\taccent\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\t\t/>\r\n\t\t\t<CampaignsTable />\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n\r\nconst AdUnits = () => (\r\n\t<>\r\n\t\t<NewUnitDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t/>\r\n\t\t<AdUnitsTable />\r\n\t</>\r\n)\r\n\r\nconst AdSlots = () => (\r\n\t<>\r\n\t\t<NewSlotDialog\r\n\t\t\tfabButton\r\n\t\t\tvariant='extended'\r\n\t\t\taccent\r\n\t\t\tcolor='secondary'\r\n\t\t\tbtnLabel='NEW_SLOT'\r\n\t\t/>\r\n\t\t<AdSlotsTable />\r\n\t</>\r\n)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Dashboard(props) {\r\n\tconst [mobileOpen, setMobileOpen] = useState(false)\r\n\tconst [dataLoaded, setDataLoaded] = useState(false)\r\n\tconst address = useSelector(selectAccountIdentityAddr)\r\n\tconst showPublisherRevenueNotice = useSelector(\r\n\t\tselectPublisherRevenueNoticeActive\r\n\t)\r\n\tconst privileges = useSelector(selectWalletPrivileges)\r\n\tconst privilegesWarningAccepted = useSelector(selectPrivilegesWarningAccepted)\r\n\tconst showTxPrivLevelWarning = privileges <= 1 && !privilegesWarningAccepted\r\n\r\n\tconst { match } = props\r\n\tconst { side } = match.params\r\n\tconst classes = useStyles()\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function updateInitialData() {\r\n\t\t\tawait execute(loadAccountData())\r\n\t\t\tsetDataLoaded(true)\r\n\t\t}\r\n\r\n\t\tupdateInitialData()\r\n\r\n\t\treturn () => {\r\n\t\t\texecute(stopAccountDataUpdate())\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(resolveEnsAddress({ address }))\r\n\t}, [address])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateNav('side', side))\r\n\t}, [side])\r\n\r\n\tconst handleDrawerToggle = () => {\r\n\t\tsetMobileOpen(!mobileOpen)\r\n\t}\r\n\r\n\tconst drawer = <SideNav side={side} />\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<TopBar\r\n\t\t\t\tside={side}\r\n\t\t\t\topen={mobileOpen}\r\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\r\n\t\t\t/>\r\n\t\t\t<Hidden mdUp>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='temporary'\r\n\t\t\t\t\tanchor='left'\r\n\t\t\t\t\topen={mobileOpen}\r\n\t\t\t\t\tonClose={handleDrawerToggle}\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tModalProps={{\r\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\t\t\t<Hidden smDown implementation='css'>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\tvariant='permanent'\r\n\t\t\t\t\topen\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drawer}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</Hidden>\r\n\r\n\t\t\t<main className={classes.content}>\r\n\t\t\t\t<div className={classes.contentInner}>\r\n\t\t\t\t\t<div className={classes.toolbar} />\r\n\t\t\t\t\t{showTxPrivLevelWarning && (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tseverity='info'\r\n\t\t\t\t\t\t\t\tonClose={() => {\r\n\t\t\t\t\t\t\t\t\texecute(updatePrivilegesWarningAccepted(true))\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('PRIVILEGES_LEVEL_WARNING_MSG', {\r\n\t\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{side === 'publisher' && showPublisherRevenueNotice && (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Alert variant='outlined' severity='warning'>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{t('PUBLISHER_REVENUE_NOTICE', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey='publisher-revenue-notice'\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\tunderline='always'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012285459-Mandatory-verification-for-publishers'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{<strong>{t('HERE')}</strong>}\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{dataLoaded && <GettingStarted side={side} />}\r\n\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\r\n\t\t\t\t\t\t\tcomponent={Campaigns}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\r\n\t\t\t\t\t\t\tcomponent={AdUnits}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns/:itemId'\r\n\t\t\t\t\t\t\tcomponent={Campaign}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipts'\r\n\t\t\t\t\t\t\tcomponent={CampaignReceipt}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipt/:itemId'\r\n\t\t\t\t\t\t\tcomponent={CampaignReceipt}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/units/:itemId'\r\n\t\t\t\t\t\t\tcomponent={Unit}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\r\n\t\t\t\t\t\t\tcomponent={AdSlots}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath='/dashboard/publisher/slots/:itemId'\r\n\t\t\t\t\t\t\tcomponent={Slot}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\r\n\t\t\t\t\t\t\tcomponent={Account}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{/* <Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\r\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\r\n\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t<Route exact path='/dashboard/:side' component={DashboardStats} />\r\n\t\t\t\t\t\t<Route component={PageNotFound} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Dashboard\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\troot: {\r\n\t\t\t// flexGrow: 1,\r\n\t\t\theight: '100vh',\r\n\t\t},\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\theight: '100vh',\r\n\t\t\tflexGrow: '1',\r\n\t\t},\r\n\t\tactions: {\r\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t},\r\n\t\tbuttons: {\r\n\t\t\tbackgroundColor: theme.palette.grey[200],\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// left: spacing,\r\n\t\t\t// bottom: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\t// marginTop: '1.5vh',\r\n\t\t\t// width: '17.92vh',\r\n\t\t\t// height: '6vh',\r\n\t\t\theight: '2rem',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tnoBg: {\r\n\t\t\tbackground: 0,\r\n\t\t\tboxShadow: 'none',\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\t// position: 'relative',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 24,\r\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t// '&:first-child': {\r\n\t\t\t// \tpaddingTop: spacing,\r\n\t\t\t// },\r\n\t\t\t// overflow: 'visible',\r\n\t\t\t// maxHeight: '100vh'\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { Typography } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport Img from 'components/common/img/Img'\r\nimport classnames from 'classnames'\r\nimport { getAllWallets } from 'services/wallet/wallet'\r\nimport { execute, initIdentity, confirmAction } from 'actions'\r\nimport { selectAuth, selectAccount, selectRegistrationAllowed } from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { formatAddress } from 'helpers/formatters'\r\nimport { push } from 'connected-react-router'\r\nimport { t } from 'selectors'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst AuthSelect = () => {\r\n\tconst classes = useStyles()\r\n\tconst [wallets, setWallets] = useState([])\r\n\r\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { wallet, identity } = account || {}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst allWallets = getAllWallets()\r\n\t\tconst wallets = allWallets.filter(\r\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\r\n\t\t)\r\n\t\tsetWallets(wallets)\r\n\t}, [wallet])\r\n\r\n\tconst goTo = (to, confirmLogout, onConfirm) => {\r\n\t\tconst toExecute = () => {\r\n\t\t\tlogOut()\r\n\t\t\texecute(push(to))\r\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\r\n\t\t\t\tonConfirm()\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (auth && confirmLogout) {\r\n\t\t\texecute(\r\n\t\t\t\tconfirmAction(toExecute, null, {\r\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\r\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\r\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\r\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TEXT', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\r\n\t\t\t\t\t\t\tidentity.address,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t}),\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\ttoExecute()\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='stretch'\r\n\t\t\tjustifyContent='space-between'\r\n\t\t>\r\n\t\t\t<Box p={2} alignItems='center'>\r\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\r\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\r\n\t\t\t\t</Typography>\r\n\t\t\t</Box>\r\n\t\t\t{auth && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tto='/side-select'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CONTINUE_AS', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\twallet.email || formatAddress(identity.address),\r\n\t\t\t\t\t\t\t\twallet.authType,\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</RRButton>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t{wallets.map(w => (\r\n\t\t\t\t<Box key={w.name} m={1}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\r\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t))}\r\n\t\t\t{showRegistration && (\r\n\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\r\n\t\t\t\t\t\tclassName={classes.btnLogo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{t('METAMASK')}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t\t<Box m={1}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.trezorBtn}\r\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tclasses.btnLogo,\r\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\r\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* {t('TREZOR')} */}\r\n\t\t\t\t</Button>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default AuthSelect\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tactions: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tlimitedWidthBtn: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tbtnLogo: {\r\n\t\t\theight: '2rem',\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tbtnLogoNoTxt: {\r\n\t\t\tmarginRight: 0,\r\n\t\t},\r\n\t\tmetamaskBtn: {\r\n\t\t\tbackgroundColor: theme.palette.grey[800],\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\ttrezorBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport packageJson from './../../../package.json'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\r\nimport { t } from 'selectors'\r\nimport { Typography } from '@material-ui/core'\r\n\r\nexport default function ConnectHoc(Decorated) {\r\n\tfunction Connect({ classes, ...rest }) {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tclassName={classes.container}\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t// spacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\r\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\r\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\r\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\r\n\t\t\t\t\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\r\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\r\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\r\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HELP')}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\r\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\r\n\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn withStyles(styles)(Connect)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\taddrListItem: {\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpaddingTop: spacing,\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\t'& strong': {\r\n\t\t\t\tmarginRight: spacing * 2,\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfoLabel: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tfontWeight: 'bold',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t\t// marginTop: spacing * 2,\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 70,\r\n\t\t\t// left: 0,\r\n\t\t\t// right: 0,\r\n\t\t\t// bottom: 0\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\ttabLogo: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: spacing * 4,\r\n\t\t\tmaxHeight: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\ttabLabel: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tdlBtnImg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: spacing * 9,\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t\tleftBtnIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '-6vh',\r\n\t\t\tleft: 0,\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\twidth: '12.8vh',\r\n\t\t\theight: '5vh',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function AddrItem({ stats }) {\r\n\tconst { balanceEth, tokensBalances, address } = stats\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<ListItemText\r\n\t\t\tprimary={address}\r\n\t\t\tsecondary={\r\n\t\t\t\t<span className={classes.addrInfo}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> ETH </span>\r\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<span> {symbol} </span>\r\n\t\t\t\t\t\t\t<strong> {balance} </strong>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\r\nimport METAMASK_IMG from 'resources/metamask.png'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers, getEthereumProvider } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\nimport Box from '@material-ui/core/Box'\r\nimport {\r\n\taddToast,\r\n\tupdateIdentity,\r\n\tupdateIdentityWallet,\r\n\texecute,\r\n} from 'actions'\r\nimport { t, selectIdentity } from 'selectors'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction AuthMetamask(props) {\r\n\tconst classes = useStyles()\r\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\r\n\tconst { address } = wallet\r\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\r\n\t// const [stats, setStats] = useState(null)\r\n\tconst [waitingMetamaskAction, setWaitingMetamaskAction] = useState(false)\r\n\tconst [waitingAddrsData, setWaitingAddrsData] = useState(false)\r\n\tconst isOpera =\r\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\r\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\r\n\t\tfalse\r\n\t)\r\n\r\n\tuseEffect(() => {\r\n\t\tconst setEth = async () => {\r\n\t\t\tconst ethereumProvider = await getEthereumProvider()\r\n\t\t\tsetIsMetamaskEthereumProvider(\r\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tsetEth()\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (installingMetamask) {\r\n\t\t\t// Refreshes page after user comes back\r\n\t\t\t// from installing Metamask\r\n\t\t\twindow.onfocus = () => {\r\n\t\t\t\twindow.location.reload()\r\n\t\t\t\tsetInstallingMetamask(false)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [installingMetamask])\r\n\r\n\tconst checkMetamask = async () => {\r\n\t\tsetWaitingAddrsData(true)\r\n\t\ttry {\r\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst wallet = {\r\n\t\t\t\tauthType: authType,\r\n\t\t\t}\r\n\r\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\r\n\t\t\tconst address = await metamaskSigner.getAddress()\r\n\t\t\tconst stats = await getAddressBalances({\r\n\t\t\t\taddress: { address },\r\n\t\t\t\tauthType,\r\n\t\t\t\tgetFullBalances: true,\r\n\t\t\t})\r\n\r\n\t\t\texecute(updateIdentity('stats', stats))\r\n\t\t\tsetWaitingAddrsData(false)\r\n\r\n\t\t\texecute(\r\n\t\t\t\tupdateIdentityWallet({\r\n\t\t\t\t\taddress,\r\n\t\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\r\n\t\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Error: catch', err)\r\n\t\t\tsetWaitingMetamaskAction(false)\r\n\t\t\tsetWaitingAddrsData(false)\r\n\t\t\texecute(\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t{waitingMetamaskAction ? (\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ACTION')} />\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t) : waitingAddrsData ? (\r\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\r\n\t\t\t) : null}\r\n\t\t\t<ContentBody>\r\n\t\t\t\t<Typography variant='subtitle1'>{t('METAMASK_INFO')}</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\talignItems='center'\r\n\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\twidth={1}\r\n\t\t\t\t>\r\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t\t{t('METAMASK_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={'metamask-anchor'}\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box mt={1}>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\tisOpera\r\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\r\n\t\t\t\t\t\t\t\talt={'metamask logo'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{address ? (\r\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\r\n\t\t\t\t\t\t\t{stats ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='subtitle1' color='primary'>\r\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={checkMetamask}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</Box>\r\n\t\t\t</ContentBody>\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default AuthMetamask\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport default function NewItemHoc(Decorated) {\r\n\tclass ValidItemHoc extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tinvalidFields: {},\r\n\t\t\t}\r\n\r\n\t\t\tthis.validate = this.validate.bind(this)\r\n\t\t}\r\n\r\n\t\tcomponentWillReceiveProps(nextProps) {\r\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\r\n\t\t}\r\n\r\n\t\tvalidate = (\r\n\t\t\tkey,\r\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n\t\t) => {\r\n\t\t\tif (!isValid) {\r\n\t\t\t\tlet errors = {}\r\n\t\t\t\terrors[key] = {\r\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\r\n\t\t\t\t\tdirty: dirty,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\r\n\t\t\t} else if (removeAll) {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tvalidate={this.validate}\r\n\t\t\t\t\tinvalidFields={this.state.invalidFields}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tValidItemHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\t// let persist = state.persist\r\n\t\tlet memory = state.memory\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport IdentityHoc from '../IdentityHoc'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\n\r\nexport default function AuthHoc(Decorated) {\r\n\tclass Auth extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.state = {\r\n\t\t\t\tmethod: '',\r\n\t\t\t\tsideSelect: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateWallet = ({\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t}) => {\r\n\t\t\tconst wallet = {\r\n\t\t\t\taddress,\r\n\t\t\t\tauthType,\r\n\t\t\t\thdWalletAddrPath,\r\n\t\t\t\thdWalletAddrIdx,\r\n\t\t\t\tpath,\r\n\t\t\t\tchainId,\r\n\t\t\t\tsignType,\r\n\t\t\t}\r\n\r\n\t\t\tthis.props.handleChange('identityContractOwner', address)\r\n\t\t\tthis.props.handleChange('wallet', wallet)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...this.props}\r\n\t\t\t\t\t// updateAcc={this.updateAcc}\r\n\t\t\t\t\tupdateWallet={this.updateWallet}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tAuth.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\tlet persist = state.persist\r\n\t\t// let memory = state.memory\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc(IdentityHoc(Auth))))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions, { execute, login } from 'actions'\r\nimport { push } from 'connected-react-router'\r\nimport { CREATING_SESSION, UPLOADING_ACCOUNT_DATA } from 'constants/spinners'\r\n\r\nexport default function IdentityHoc(Decorated) {\r\n\tclass IdentityForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tready: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value) => {\r\n\t\t\tthis.props.actions.updateIdentity(prop, value)\r\n\t\t}\r\n\r\n\t\t// componentDidUpdate = () => {\r\n\t\t// \tconst { account } = this.props\r\n\t\t// \tif (account.wallet.authSig) {\r\n\t\t// \t\texecute(push('/side-select'))\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\tsave = async () => {\r\n\t\t\texecute(login())\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tconst { resetIdentity } = this.props.actions\r\n\t\t\tresetIdentity()\r\n\t\t\texecute(push('/'))\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { identity, spinner, waitingExpected, ...rest } = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tidentity={identity}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\twaiting={spinner}\r\n\t\t\t\t\twaitingExpected={waitingExpected}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tIdentityForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tidentity: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tidentity: memory.identity,\r\n\t\t\tspinner: memory.spinners[CREATING_SESSION],\r\n\t\t\twaitingUpload: memory.spinners[UPLOADING_ACCOUNT_DATA],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(IdentityForm)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport AuthHoc from './AuthHoc'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\nclass AuthTrezor extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingTrezorAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: '',\r\n\t\t}\r\n\t}\r\n\r\n\tconnectTrezor = async () => {\r\n\t\tthis.setState({ waitingTrezorAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\r\n\r\n\t\t\t\tconst addresses = await trezorSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.payload.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tconsole.log('result', results)\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: trezorSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingTrezorAction: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingTrezorAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_TREZOR', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingTrezorAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingTrezorAction ? (\r\n\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tt('SELECT_ADDR_TREZOR')\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{addresses.map((res, index) => (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} address={res.address} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst { address, path } = addrData\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\tpath,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.TREZOR.signType,\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ? (\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingTrezorAction={this.state.waitingTrezorAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : this.state.waitingTrezorAction ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t\t\t\twidth={1}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Typography variant='subtitle1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{t('TREZOR_INFO')}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t\t<Typography gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{t('TREZOR_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey='trezor-wallet'\r\n\t\t\t\t\t\t\t\t\t\t\t\thref='https://trezor.io/'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Wallet\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey='trezor-bridge'\r\n\t\t\t\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Bridge\r\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\t\talt={'https://trezor.io'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t{!this.state.waitingAddrsData &&\r\n\t\t\t\t\t\t\t\t\t!this.state.waitingTrezorAction && (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.connectTrezor}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthTrezor.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthTrezor)))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\nimport AuthHoc from './AuthHoc'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport LEDGER_DL_IMG from 'resources/ledger_logo_header.png'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\n\r\nclass AuthLedger extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingLedgerAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: '',\r\n\t\t}\r\n\t}\r\n\r\n\tconnectLedger = async () => {\r\n\t\tthis.setState({ waitingLedgerAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.LEDGER.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.LEDGER.name,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst ledgerSigner = await getSigner({ wallet, provider })\r\n\t\t\t\tconst addresses = await ledgerSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.LEDGER.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: ledgerSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingLedgerAction: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingLedgerAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_LEDGER', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingLedgerAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingLedgerAction ? (\r\n\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tt('SELECT_ADDR_LEDGER')\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{addresses.map((res, index) => (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst { address, path } = addrData\r\n\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.LEDGER.name,\r\n\t\t\tpath,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.LEDGER.signType,\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ? (\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingLedgerAction={this.state.waitingLedgerAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : this.state.waitingLedgerAction ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Typography variant='subtitle1'>{t('LEDGER_INFO')}</Typography>\r\n\t\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t\t\t{t('LEDGER_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\tkey='auth-ledger'\r\n\t\t\t\t\t\t\t\t\t\t\thref='https://www.ledgerwallet.com/'\r\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tLEDGER\r\n\t\t\t\t\t\t\t\t\t\t</Anchor>,\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Anchor href='https://www.ledgerwallet.com/' target='_blank'>\r\n\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\tsrc={LEDGER_DL_IMG}\r\n\t\t\t\t\t\t\t\t\talt={'https://www.ledgerwallet.com/'}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingLedgerAction && (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={this.connectLedger}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_LEDGER')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthLedger.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthLedger)))\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocationQuery } from 'selectors'\r\nimport AuthMetamask from './AuthMetamask'\r\nimport AuthTrezor from './AuthTrezor'\r\nimport AuthLedger from './AuthLedger'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction AuthMethod() {\r\n\tconst classes = useStyles()\r\n\tconst query = useSelector(selectLocationQuery)\r\n\tconst method = query['external']\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\r\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\r\n\t\t\t\t{method === 'metamask' && <AuthMetamask />}\r\n\t\t\t\t{method === 'trezor' && <AuthTrezor />}\r\n\t\t\t\t{method === 'ledger' && <AuthLedger />}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default AuthMethod\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport { execute, updateIdentity } from 'actions'\r\n\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\n\r\nconst QuickInfo = props => {\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\tconst walletMsgs = [\r\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\r\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\r\n\t]\r\n\r\n\t// Errors\r\n\tconst { email, emailCheck, password, passwordCheck, tosCheck } = validations\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{spinner || sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tpassword && !!password.dirty\r\n\t\t\t\t\t\t\t\t\t\t? password.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='passwordCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default QuickInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { execute, updateIdentity } from 'actions'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst FulInfo = props => {\r\n\tconst { validateId } = props\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst { wallet = {} } = identity\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\r\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\r\n\r\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\r\n\t// Errors\r\n\tconst { email, emailCheck, tosCheck, accessWarningCheck } = validations\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t{walletAddress}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\r\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\r\n\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default FulInfo\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { execute, updateIdentity } from 'actions'\r\nimport {\r\n\tt,\r\n\tselectIdentity,\r\n\tselectValidationsById,\r\n\tselectSpinnerById,\r\n} from 'selectors'\r\nimport { CREATING_SESSION } from 'constants/spinners'\r\n\r\nconst QuickLogin = props => {\r\n\tconst { validateId } = props\r\n\r\n\tconst identity = useSelector(selectIdentity)\r\n\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\tconst walletMsgs = [\r\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\r\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\r\n\t]\r\n\r\n\tconst validations = useSelector(\r\n\t\tstate => selectValidationsById(state, validateId) || {}\r\n\t)\r\n\r\n\tconst { wallet } = validations\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{spinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t// direction='row'\r\n\t\t\t\t\t\talignContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('QUICK_LOGIN_INFO', { args: [identity.email] })}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default QuickLogin\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport { push } from 'connected-react-router'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n\texecute,\r\n\tupdateIdentity,\r\n\townerIdentities as updateOwnerIdentities,\r\n} from 'actions'\r\nimport {\r\n\tselectSpinnerById,\r\n\tselectIdentity,\r\n\tt,\r\n\tselectSearchParams,\r\n\tselectRegistrationAllowed,\r\n} from 'selectors'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tFullContentMessage,\r\n} from 'components/common/dialog/content'\r\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\r\n\r\nconst getIdentitiesForDropdown = (ownerIdentities = []) =>\r\n\townerIdentities.map(id => {\r\n\t\treturn {\r\n\t\t\tvalue: id.identity + '-' + id.privLevel,\r\n\t\t\tlabel: id.ens\r\n\t\t\t\t? t('IDENTITY_OPTION_DATA_ENS', {\r\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.ens, id.identity],\r\n\t\t\t\t  })\r\n\t\t\t\t: t('IDENTITY_OPTION_DATA', {\r\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.identity],\r\n\t\t\t\t  }),\r\n\t\t}\r\n\t})\r\n\r\nfunction FullLogin(props) {\r\n\tconst identity = useSelector(selectIdentity)\r\n\tconst {\r\n\t\twalletAddr,\r\n\t\twallet = {},\r\n\t\townerIdentities,\r\n\t\tidentityContractAddress,\r\n\t} = identity\r\n\tconst walletAddress = wallet.address || walletAddr\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\r\n\t)\r\n\tconst sessionSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, CREATING_SESSION)\r\n\t)\r\n\r\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\r\n\r\n\tconst searchParams = useSelector(selectSearchParams)\r\n\tsearchParams.set('step', '1')\r\n\r\n\tconst search = searchParams.toString()\r\n\r\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(\r\n\t\t\tupdateOwnerIdentities({ owner: walletAddress, authType: wallet.authType })\r\n\t\t)\r\n\t\t// We need it just once on mount\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<ContentBox>\r\n\t\t\t{sessionSpinner ? (\r\n\t\t\t\t<FullContentMessage\r\n\t\t\t\t\tmsgs={walletMsgs}\r\n\t\t\t\t\tspinner={true}\r\n\t\t\t\t></FullContentMessage>\r\n\t\t\t) : (\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t// direction='row'\r\n\t\t\t\t\t\talignContent='space-between'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\r\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\r\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\r\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{showRegistration && (\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t)}\r\n\t\t</ContentBox>\r\n\t)\r\n}\r\n\r\nexport default FullLogin\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { selectLocationQuery } from 'selectors'\r\n\r\nclass IdentitySteps extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tpages: this.mapPages(),\r\n\t\t}\r\n\r\n\t\t// TODO: Check if it is possible to need state update\r\n\t}\r\n\r\n\tmapPages = () => {\r\n\t\tconst {\r\n\t\t\tGoBtn,\r\n\t\t\tcancelFunction,\r\n\t\t\tt,\r\n\t\t\tonSave,\r\n\t\t\tstepsId,\r\n\t\t\tstepsPages = [],\r\n\t\t\tstepsPreviewPage,\r\n\t\t\tvalidateIdBase,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\r\n\r\n\t\tconst pages = stepsPages.map((page, index) => {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: t(page.title),\r\n\t\t\t\tcancelFunction,\r\n\t\t\t\tcomponent: ValidItemHoc(page.page),\r\n\t\t\t\tdisableBtnsIfValid: page.disableBtnsIfValid,\r\n\t\t\t\tprops: { ...this.props, validateId: validateId + '-' + index },\r\n\t\t\t\tpageValidation: page.pageValidation,\r\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\r\n\t\t\t\tcompleteBtn: page.final\r\n\t\t\t\t\t? () => <GoBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t\t\t\t: undefined,\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn pages\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { initialPage } = this.props\r\n\t\treturn (\r\n\t\t\t<MaterialStepper initialPage={initialPage} pages={this.state.pages} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nIdentitySteps.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\t// const persist = state.persist\r\n\t// const memory = state.memory\r\n\treturn {\r\n\t\tinitialPage: selectLocationQuery(state)['step'] || 0,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(IdentitySteps)))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 0,\r\n\t\t\ttop: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: spacing,\r\n\t\t\tbottom: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\tmarginTop: '1.5vh',\r\n\t\t\twidth: '17.92vh',\r\n\t\t\theight: '6vh',\r\n\t\t},\r\n\t\tformControl: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t\tinfoPaper: {\r\n\t\t\t...theme.mixins.gutters(),\r\n\t\t\tpaddingTop: spacing * 2,\r\n\t\t\tpaddingBottom: spacing * 2,\r\n\t\t},\r\n\t\tinput: {\r\n\t\t\tdisplay: 'none',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport AuthMethod from './ownerAuth/AuthMethod'\r\nimport QuickInfo from './QuickInfo'\r\nimport FullInfo from './FullInfo'\r\nimport QuickLogin from './QuickLogin'\r\nimport FullLogin from './FullLogin'\r\nimport IdentitySteps from './IdentitySteps'\r\nimport { push } from 'connected-react-router'\r\n\r\nimport {\r\n\texecute,\r\n\tvalidateQuickLogin,\r\n\tvalidateStandardLogin,\r\n\tvalidateQuickInfo,\r\n\tvalidateFullInfo,\r\n\tvalidateContractOwner,\r\n\tresetIdentity,\r\n} from 'actions'\r\n\r\nconst cancelFunction = () => {\r\n\texecute(resetIdentity())\r\n\texecute(push('/'))\r\n}\r\n\r\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\r\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\r\n\r\nconst common = {\r\n\tcancelFunction,\r\n\tvalidateIdBase: 'identity-',\r\n}\r\n\r\nexport const LoginStandardIdentity = props => {\r\n\treturn (\r\n\t\t<IdentitySteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-login'\r\n\t\t\tstepsPages={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\r\n\t\t\t\t\tpage: AuthMethod,\r\n\t\t\t\t\tpageValidation: validateOwner,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\r\n\t\t\t\t\tpage: FullLogin,\r\n\t\t\t\t\tpageValidation: finalValidationStandard,\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateStandardIdentity = props => {\r\n\treturn (\r\n\t\t<IdentitySteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-create'\r\n\t\t\tstepsPages={[\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\r\n\t\t\t\t\tpage: AuthMethod,\r\n\t\t\t\t\tpageValidation: validateOwner,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'FULL_INFO',\r\n\t\t\t\t\tpage: FullInfo,\r\n\t\t\t\t\tpageValidation: ({ validateId, dirty }) =>\r\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const CreateQuickIdentity = props => (\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-create'\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_INFO',\r\n\t\t\t\tpage: QuickInfo,\r\n\t\t\t\tpageValidation: ({ validateId, dirty }) =>\r\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const LoginQuickIdentity = props => (\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='quick-identity-login'\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'QUICK_LOGIN',\r\n\t\t\t\tpage: QuickLogin,\r\n\t\t\t\tpageValidation: finalValidationQuick,\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const DemoIdentity = props => (\r\n\t<IdentitySteps {...props} {...common} stepsPages={[]} />\r\n)\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Logo from 'components/common/icons/AdexIconTxt'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tvitalik: {\r\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\r\n\t\tbackgroundPosition: 'center',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundSize: 'contain',\r\n\t},\r\n\tcontainer: {\r\n\t\tmaxWidth: theme.breakpoints.values.md,\r\n\t\tmargin: 'auto',\r\n\t},\r\n\tlogo: {\r\n\t\theight: '5rem',\r\n\t\twidth: '100%',\r\n\t},\r\n}))\r\n\r\nexport default function Home({ t, ...rest }) {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\twidth={1}\r\n\t\t\theight={1}\r\n\t\t\tclassName={classes.root}\r\n\t\t\tdisplay='flex'\r\n\t\t\tflexDirection='column'\r\n\t\t\talignItems='center'\r\n\t\t\tjustifyContent='center'\r\n\t\t>\r\n\t\t\t<Box\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='space-evenly'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box\r\n\t\t\t\tflexGrow={1}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\tmaxWidth='md'\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Logo className={classes.logo} />\r\n\t\t\t\t</Box>\r\n\r\n\t\t\t\t{/* <Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={1}>\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\r\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\r\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t{/* <Box p={1}>\r\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\r\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box> */}\r\n\t\t\t\t<Box\r\n\t\t\t\t\theight='30%'\r\n\t\t\t\t\tposition='relative'\r\n\t\t\t\t\tclassName={classes.vitalik}\r\n\t\t\t\t\talignSelf='stretch'\r\n\t\t\t\t></Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tdialog: {\r\n\t\theight: '100vh',\r\n\t\twidth: theme.maxWidth || 1200,\r\n\t\tmaxWidth: '100%',\r\n\t},\r\n}))\r\n\r\nexport default function DialogHoc(Decorated) {\r\n\tfunction JustDialog({ ...rest }) {\r\n\t\tconst classes = useStyles()\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Decorated {...rest} />\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\treturn JustDialog\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tmetamaskChecks,\r\n\tmetamaskNetworkCheck,\r\n\tgetRelayerConfig,\r\n\texecute,\r\n\tensureQuickWalletBackup,\r\n\tupdateRegistrationAllowed,\r\n\tupdateEasterEggsAllowed,\r\n\thandleRedirectParams,\r\n\thandleSignupLink,\r\n} from 'actions'\r\nimport { Route, Switch, Redirect } from 'react-router'\r\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\r\nimport ConnectHoc from 'components/signin/ConnectHoc'\r\nimport {\r\n\tCreateQuickIdentity,\r\n\tLoginStandardIdentity,\r\n\tCreateStandardIdentity,\r\n\tLoginQuickIdentity,\r\n} from 'components/signin/identity/Identity'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport Home from 'components/signin/Home'\r\nimport JustDialog from 'components/common/dialog/JustDialog'\r\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\r\nimport Translate from 'components/translate/Translate'\r\nimport { selectAuth, selectWallet, selectLocation } from 'selectors'\r\n\r\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\r\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\r\nconst ConnectedLoginStandardIdentity = ConnectHoc(\r\n\tJustDialog(LoginStandardIdentity)\r\n)\r\nconst ConnectedCreateStandardIdentity = ConnectHoc(\r\n\tJustDialog(CreateStandardIdentity)\r\n)\r\nconst ConnectedRoot = ConnectHoc(Home)\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...other}\r\n\t\t\trender={props =>\r\n\t\t\t\tauth === true ? ( //|| true\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst handleLegacyWallet = async wallet => {\r\n\tconst { type, email, password, authType } = wallet || {}\r\n\r\n\tif (!type && email && password && authType === 'grant') {\r\n\t\tawait migrateLegacyWallet({ email, password })\r\n\t\tawait removeLegacyKey({ email, password })\r\n\t}\r\n\r\n\tif (email && password && authType) {\r\n\t\texecute(ensureQuickWalletBackup())\r\n\t}\r\n}\r\n\r\nconst Root = () => {\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst wallet = useSelector(selectWallet)\r\n\tconst location = useSelector(selectLocation)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(getRelayerConfig())\r\n\t\texecute(metamaskChecks())\r\n\t\texecute(handleRedirectParams(location.search))\r\n\t\texecute(handleSignupLink(location.search))\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\thandleLegacyWallet(wallet)\r\n\t}, [wallet])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(metamaskNetworkCheck())\r\n\t\texecute(updateRegistrationAllowed(location.search))\r\n\t\texecute(updateEasterEggsAllowed(location.search))\r\n\t}, [location])\r\n\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<Switch>\r\n\t\t\t\t<PrivateRoute\r\n\t\t\t\t\tauth={auth}\r\n\t\t\t\t\tpath='/dashboard/:side'\r\n\t\t\t\t\tcomponent={Dashboard}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoute auth={auth} path='/side-select' component={SideSelect} />\r\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/signup/quick'\r\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/login/full'\r\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route\r\n\t\t\t\t\texact\r\n\t\t\t\t\tpath='/signup/full'\r\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\r\n\t\t\t\t<Route>\r\n\t\t\t\t\t<PageNotFound />\r\n\t\t\t\t</Route>\r\n\t\t\t</Switch>\r\n\t\t</Router>\r\n\t)\r\n}\r\n\r\nexport default Translate(Root)\r\n","import React, { Component } from 'react'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\nimport './App.css'\r\nimport { Provider } from 'react-redux'\r\nimport { persistor, store } from 'store'\r\nimport history from 'store/history'\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport Toast from 'components/toast/Toast'\r\nimport Confirm from 'components/confirm/Confirm'\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport Root from './Root'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles'\r\nimport { themeMUI } from './themeMUi'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport CacheBuster from './CacheBuster'\r\n\r\n// console.log('initial store', store.getState())\r\n\r\nconst onBeforeLift = () => {\r\n\t// take some action before the gate lifts\r\n}\r\n\r\nclass App extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\r\n\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\r\n\t\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\r\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\r\n\t\t\t\t\t\t\t\t\t<CacheBuster>\r\n\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Root />\r\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\r\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</CacheBuster>\r\n\t\t\t\t\t\t\t\t</ConnectedRouter>\r\n\t\t\t\t\t\t\t</PersistGate>\r\n\t\t\t\t\t\t</Provider>\r\n\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t</MuiThemeProvider>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n)\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error)\r\n\t\t})\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type')\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t)\r\n\t\t})\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister()\r\n\t\t})\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './components/App/App'\r\nimport { unregister } from './serviceWorker'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\nunregister()\r\n","export const ADD_ITEM = 'ADD_ITEM'\r\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\r\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\r\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\r\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\r\nexport const DELETE_ITEM = 'DELETE_ITEM'\r\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\r\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\r\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\r\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\r\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\r\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\r\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\r\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\r\nexport const UPDATE_GLOBAL_UI = 'UPDATE_GLOBAL_UI'\r\nexport const UPDATE_UI_BY_IDENTITY = 'UPDATE_UI_BY_IDENTITY'\r\nexport const ADD_TOAST = 'ADD_TOAST'\r\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\r\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\r\nexport const UPDATE_NAV = 'UPDATE_NAV'\r\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\r\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\r\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\r\nexport const UNIT_PLACE_BID = 'PLACE_BID'\r\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\r\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\r\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\r\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\r\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\r\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\r\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\r\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\r\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\r\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\r\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\r\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\r\nexport const RESET_ALL_NEW_TRANSACTIONS = 'RESET_ALL_NEW_TRANSACTIONS'\r\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\r\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\r\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\r\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\r\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\r\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\r\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\r\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\r\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\r\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\r\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\r\nexport const RESET_WALLET = 'RESET_WALLET'\r\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\r\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\r\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\r\nexport const UPDATE_ADVANCED_ANALYTICS = 'UPDATE_ADVANCED_ANALYTICS'\r\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\r\nexport const UPDATE_CHANNELS_WITH_BALANCE_ALL =\r\n\t'UPDATE_CHANNELS_WITH_BALANCE_ALL'\r\nexport const RESET_CHANNELS_WITH_BALANCE_ALL = 'RESET_CHANNELS_WITH_BALANCE_ALL'\r\nexport const UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE =\r\n\t'UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE'\r\nexport const RESET_CHANNELS_WITH_OUTSTANDING_BALANCE =\r\n\t'RESET_CHANNELS_WITH_OUTSTANDING_BALANCE'\r\nexport const UPDATE_DEMAND_ANALYTICS = 'UPDATE_DEMAND_ANALYTICS'\r\nexport const UPDATE_SELECTED_ITEMS = 'UPDATE_SELECTED_ITEMS'\r\nexport const UPDATE_RESOLVE_ENS_ADDRESS = 'UPDATE_RESOLVE_ENS_ADDRESS'\r\n","import {\r\n\tgetState,\r\n\texecute,\r\n\tresetAllNewItems,\r\n\tresetAllItems,\r\n\tresetAllBids,\r\n\tresetIdentity,\r\n\tresetAccount,\r\n\tresetAnalytics,\r\n\tresetChannelsWithBalanceAll,\r\n\tresetChannelsWithOutstandingBalance,\r\n\tresetAllNewTransaction,\r\n} from 'actions'\r\n\r\nimport { campaignsLoop } from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport {\r\n\tanalyticsLoop,\r\n\tanalyticsCampaignsLoop,\r\n} from 'services/store-data/analytics'\r\n\r\nimport { push } from 'connected-react-router'\r\n\r\nexport const logOut = skipRedirect => {\r\n\texecute(resetAccount())\r\n\tanalyticsLoop.stop()\r\n\tanalyticsCampaignsLoop.stop()\r\n\tcampaignsLoop.stop()\r\n\tstatsLoop.stop()\r\n\tif (!skipRedirect) {\r\n\t\texecute(push('/'))\r\n\t}\r\n\texecute(resetIdentity())\r\n\texecute(resetAllItems())\r\n\texecute(resetAllNewItems())\r\n\texecute(resetAllBids())\r\n\texecute(resetAnalytics())\r\n\texecute(resetChannelsWithBalanceAll())\r\n\texecute(resetChannelsWithOutstandingBalance())\r\n\texecute(resetAllNewTransaction())\r\n}\r\n\r\nexport const isDemoMode = () => {\r\n\treturn getState().persist.account._authType === 'demo'\r\n}\r\n\r\nexport const getAccount = () => {\r\n\treturn getState().persist.account\r\n}\r\n","const MAX_ASPECT_TOLERANCE = 5\r\n\r\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\r\n\r\nconst getVideoSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst video = document.createElement('video')\r\n\t\tvideo.src = src\r\n\r\n\t\tvideo.onloadedmetadata = ({ target }) => {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: target.videoWidth,\r\n\t\t\t\theight: target.videoHeight,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nconst getImageSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst image = new Image()\r\n\t\timage.src = src\r\n\t\timage.onload = function() {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: this.width,\r\n\t\t\t\theight: this.height,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nexport const getMediaSize = ({ mime, src }) =>\r\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\r\n\r\nexport const checkExactishAspect = (\r\n\twidthTarget,\r\n\twidth,\r\n\theightTarget,\r\n\theight,\r\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\r\n) => {\r\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\r\n\t\treturn false\r\n\t}\r\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\r\n\tconst aspect = parseFloat(width / height)\r\n\r\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\r\n\r\n\tconst isValid =\r\n\t\twidthTarget <= width &&\r\n\t\theightTarget <= height &&\r\n\t\taspectDiff <= maxPercentTolerance\r\n\r\n\treturn isValid\r\n}\r\n","import Identity from './build/Identity.json'\r\nimport AdExCore from './build/AdExCore.json'\r\nimport Dai from './build/Dai.json'\r\nimport IdentityFactory from './build/IdentityFactory.json'\r\nimport AdExENSManager from './abi/AdExENSManager.json'\r\nimport ReverseRegistrar from './abi/ReverseRegistrar.json'\r\nimport ERC20 from './abi/ERC20Token.json'\r\n\r\nexport const contracts = {\r\n\tIdentity: {\r\n\t\tabi: Identity.abi,\r\n\t},\r\n\tAdExENSManager: {\r\n\t\taddress: process.env.ADEX_ENS_ADDR,\r\n\t\tpublicResolver: process.env.REVERSE_REGISTRAR_PUBLIC_RESOLVER,\r\n\t\tabi: AdExENSManager,\r\n\t},\r\n\tReverseRegistrar: {\r\n\t\taddress: process.env.REVERSE_REGISTRAR_ADDR,\r\n\t\tparentDomain: process.env.REVERSE_REGISTRAR_PARENT,\r\n\t\tabi: ReverseRegistrar,\r\n\t},\r\n\tAdExCore: {\r\n\t\taddress: process.env.ADEX_CORE_ADDR,\r\n\t\tabi: AdExCore.abi,\r\n\t},\r\n\tDAI: {\r\n\t\taddress: process.env.DAI_TOKEN_ADDR,\r\n\t\tabi: Dai.abi,\r\n\t\tdecimals: 18,\r\n\t},\r\n\tIdentityFactory: {\r\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\r\n\t\tabi: IdentityFactory.abi,\r\n\t},\r\n\tERC20: {\r\n\t\tabi: ERC20,\r\n\t},\r\n}\r\n","import crypto from 'crypto'\r\nimport { Channel, splitSig, RoutineOps } from 'adex-protocol-eth/js'\r\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetIdentityTxnsWithNoncesAndFees,\r\n\tgetIdentityTxnsTotalFees,\r\n\tprocessExecuteByFeeTokens,\r\n\tgetApproveTxns,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport { contracts } from '../contractsCfg'\r\nimport { closeCampaign } from 'services/adex-validator/actions'\r\nimport { Campaign, AdUnit } from 'adex-models'\r\nimport { getAllCampaigns } from 'services/adex-market/actions'\r\nimport {\r\n\tbigNumberify,\r\n\trandomBytes,\r\n\tparseUnits,\r\n\tInterface,\r\n\tgetAddress,\r\n} from 'ethers/utils'\r\nimport {\r\n\tselectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectMainFeeToken,\r\n\tselectMainToken,\r\n\tselectSaiToken,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\r\nimport { selectChannelsWithUserBalancesEligible } from 'selectors'\r\nimport { getState } from 'store'\r\n\r\nconst { AdExCore } = contracts\r\nconst Core = new Interface(AdExCore.abi)\r\nconst IdentityInterface = new Interface(IdentityABI)\r\n\r\nconst timeframe = 5 * 60 * 1000 // 1 event per 5 minutes\r\nconst VALID_UNTIL_COEFFICIENT = 0.5\r\nconst VALID_UNTIL_MIN_PERIOD = 15 * 24 * 60 * 60 * 1000 // 15 days in ms\r\nconst OUTSTANDING_STATUSES = {\r\n\tActive: true,\r\n\tReady: true,\r\n\tExhausted: true,\r\n\tOffline: true,\r\n\tUnhealthy: true,\r\n\tWithdraw: true,\r\n}\r\n\r\nconst EXTRA_PROCESS_TIME = 69 * 60 // 69 min in seconds\r\n\r\nfunction toEthereumChannel(channel) {\r\n\tconst specHash = crypto\r\n\t\t.createHash('sha256')\r\n\t\t.update(JSON.stringify(channel.spec))\r\n\t\t.digest()\r\n\r\n\treturn new Channel({\r\n\t\ttitle: channel.title,\r\n\t\tcreator: channel.creator,\r\n\t\ttokenAddr: channel.depositAsset,\r\n\t\ttokenAmount: channel.depositAmount,\r\n\t\tvalidUntil: channel.validUntil,\r\n\t\tvalidators: channel.spec.validators.map(v => v.id),\r\n\t\tspec: specHash,\r\n\t})\r\n}\r\n\r\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\r\n\tconst period = withdrawPeriodStart - activeFrom\r\n\tconst validUntil =\r\n\t\twithdrawPeriodStart +\r\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\r\n\r\n\treturn Math.floor(validUntil / 1000)\r\n}\r\n\r\nfunction getReadyCampaign(campaign, identity, mainToken) {\r\n\tconst newCampaign = new Campaign(campaign)\r\n\r\n\tnewCampaign.creator = identity.address\r\n\tnewCampaign.created = Date.now()\r\n\tnewCampaign.validUntil = getValidUntil(\r\n\t\tnewCampaign.activeFrom,\r\n\t\tnewCampaign.withdrawPeriodStart\r\n\t)\r\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\r\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\r\n\tnewCampaign.depositAmount = parseUnits(\r\n\t\tnewCampaign.depositAmount || '0',\r\n\t\tmainToken.decimals\r\n\t).toString()\r\n\r\n\tconst validators = newCampaign.validators.map(v => {\r\n\t\tconst deposit = bigNumberify(newCampaign.depositAmount || 0)\r\n\t\tconst fee = deposit\r\n\t\t\t.mul(bigNumberify(v.feeNum || 1))\r\n\t\t\t.div(bigNumberify(v.feeDen || 1))\r\n\t\t\t.toString()\r\n\r\n\t\tconst validator = {\r\n\t\t\tid: v.id,\r\n\t\t\turl: v.url,\r\n\t\t\tfee,\r\n\t\t}\r\n\r\n\t\tif (v.feeAddr) {\r\n\t\t\tvalidator.feeAddr = v.feeAddr\r\n\t\t}\r\n\r\n\t\treturn validator\r\n\t})\r\n\r\n\tnewCampaign.validators = validators\r\n\r\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\r\n\tnewCampaign.minPerImpression = parseUnits(\r\n\t\tnewCampaign.minPerImpression || '0',\r\n\t\tmainToken.decimals\r\n\t)\r\n\t\t.div(bigNumberify(1000))\r\n\t\t.toString()\r\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\r\n\r\n\tnewCampaign.depositAsset = mainToken.address\r\n\tnewCampaign.eventSubmission = {\r\n\t\tallow: [\r\n\t\t\t{\r\n\t\t\t\tuids: [\r\n\t\t\t\t\tnewCampaign.creator,\r\n\t\t\t\t\tnewCampaign.validators[0].id,\r\n\t\t\t\t\tnewCampaign.validators[1].id,\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\r\n\t\t],\r\n\t}\r\n\r\n\tnewCampaign.status = {\r\n\t\tname: 'Pending',\r\n\t\thumanFriendlyName: 'Active',\r\n\t\tlastChecked: Date.now(),\r\n\t}\r\n\r\n\treturn newCampaign\r\n}\r\n\r\nconst getWithdrawnPerUserOutstanding = async ({\r\n\tAdExCore,\r\n\tchannel,\r\n\tbalance,\r\n\tidentityAddr,\r\n}) => {\r\n\treturn bigNumberify(balance).sub(\r\n\t\tawait AdExCore.functions.withdrawnPerUser(channel.id, identityAddr)\r\n\t)\r\n}\r\n\r\nexport async function getChannelsWithOutstanding({ identityAddr, wallet }) {\r\n\tconst { authType } = wallet\r\n\tconst channels = await getAllCampaigns({ all: true, byEarner: identityAddr })\r\n\tconst { AdExCore } = await getEthers(authType)\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\r\n\r\n\tconst allChannels = await Promise.all(\r\n\t\tchannels\r\n\t\t\t.filter(\r\n\t\t\t\tchannel =>\r\n\t\t\t\t\tchannel &&\r\n\t\t\t\t\tchannel.status &&\r\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\r\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\r\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\r\n\t\t\t)\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\r\n\t\t\t\t\t(balances, e) => {\r\n\t\t\t\t\t\tconst [address, balance] = e\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif (getAddress(address)) {\r\n\t\t\t\t\t\t\t\tbalances[address] = balance\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch {}\r\n\t\t\t\t\t\treturn balances\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{}\r\n\t\t\t\t)\r\n\r\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\r\n\r\n\t\t\t\treturn channel\r\n\t\t\t})\r\n\t\t\t.map(channel => {\r\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\r\n\r\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\tlastApprovedBalances,\r\n\t\t\t\t\tbTree,\r\n\t\t\t\t\tchannel,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.filter(({ bTree }) => {\r\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\r\n\t\t\t})\r\n\t\t\t.map(\r\n\t\t\t\tasync ({ channel, lastApprovedSigs, lastApprovedBalances, bTree }) => {\r\n\t\t\t\t\t//  mTree,\r\n\t\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\r\n\r\n\t\t\t\t\tconst outstanding = await getWithdrawnPerUserOutstanding({\r\n\t\t\t\t\t\tAdExCore,\r\n\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\tidentityAddr,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tconst outstandingAvailable = outstanding.sub(\r\n\t\t\t\t\t\tbigNumberify(feeTokenWhitelist[channel.depositAsset].min)\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\t\tconst balanceNum = bigNumberify(channel.depositAmount)\r\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[0].fee || 0))\r\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[1].fee || 0))\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tchannel,\r\n\t\t\t\t\t\tbalance,\r\n\t\t\t\t\t\tlastApprovedSigs,\r\n\t\t\t\t\t\toutstanding,\r\n\t\t\t\t\t\toutstandingAvailable,\r\n\t\t\t\t\t\tlastApprovedBalances,\r\n\t\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t)\r\n\r\n\tconst all = Object.assign(\r\n\t\t{},\r\n\t\t...allChannels.map(c => {\r\n\t\t\tconst { channel, balance } = c\r\n\t\t\tconst { id, depositAmount, depositAsset, status } = channel\r\n\t\t\tconst balanceNum = bigNumberify(depositAmount)\r\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[0].fee))\r\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[1].fee))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\treturn {\r\n\t\t\t\t[c.channel.id.toLowerCase()]: {\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tbalance,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tdepositAsset,\r\n\t\t\t\t\tbalanceNum,\r\n\t\t\t\t\tstatus: status.name,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t})\r\n\t)\r\n\r\n\tconst withOutstandingBalance = allChannels.filter(x => {\r\n\t\treturn (\r\n\t\t\tOUTSTANDING_STATUSES[x.channel.status.name] &&\r\n\t\t\tnew Date((x.channel.validUntil - EXTRA_PROCESS_TIME) * 1000) >\r\n\t\t\t\tDate.now() &&\r\n\t\t\tx.outstanding.gt(\r\n\t\t\t\tbigNumberify(routineWithdrawTokens[x.channel.depositAsset].minPlatform)\r\n\t\t\t) &&\r\n\t\t\tx.outstandingAvailable.gt(bigNumberify('0'))\r\n\t\t)\r\n\t})\r\n\r\n\treturn { all, withOutstandingBalance }\r\n}\r\n\r\nasync function getChannelsToSweepFrom({ amountToSweep, withBalance = [] }) {\r\n\tconst { eligible } = withBalance\r\n\t\t.sort((c1, c2) => {\r\n\t\t\treturn bigNumberify(c2.outstandingAvailable).gt(\r\n\t\t\t\tbigNumberify(c1.outstandingAvailable)\r\n\t\t\t)\r\n\t\t})\r\n\t\t.reduce(\r\n\t\t\t(data, c) => {\r\n\t\t\t\tconst current = { ...data }\r\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\r\n\t\t\t\t\tcurrent.eligible.push(c)\r\n\t\t\t\t\tcurrent.sum = current.sum.add(bigNumberify(c.outstandingAvailable))\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn current\r\n\t\t\t},\r\n\t\t\t{ sum: bigNumberify(0), eligible: [] }\r\n\t\t)\r\n\r\n\treturn eligible\r\n}\r\n\r\nconst getChannelWithdrawData = ({\r\n\tidentityAddr,\r\n\tbalance,\r\n\tlastApprovedBalances,\r\n\tlastApprovedSigs,\r\n\tethChannelTuple,\r\n}) => {\r\n\tconst bTree = new BalanceTree(lastApprovedBalances)\r\n\tconst proof = bTree.getProof(identityAddr)\r\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\r\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\r\n\tconst root = bTree.mTree.getRoot()\r\n\r\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\r\n}\r\n\r\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\r\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\r\n\t\t(data, tx) => {\r\n\t\t\tconst updated = { ...data }\r\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\r\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\r\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || bigNumberify(0)\r\n\t\t\t).add(bigNumberify(tx.withdrawAmountByToken[tx.feeTokenAddr]))\r\n\r\n\t\t\treturn updated\r\n\t\t},\r\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\r\n\t)\r\n\r\n\tconst data = IdentityInterface.functions.executeRoutines.encode([\r\n\t\troutineAuthTuple,\r\n\t\troutineOpts,\r\n\t])\r\n\r\n\tconst routinesTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tto: identityAddr,\r\n\t\tdata,\r\n\t\twithdrawAmountByToken,\r\n\t\troutinesSweepTxCount: routineOpts.length,\r\n\t}\r\n\r\n\treturn routinesTx\r\n}\r\n\r\nfunction getIdentityRoutineAuthTuple(identity) {\r\n\treturn identity &&\r\n\t\tidentity.relayerData &&\r\n\t\tidentity.relayerData.deployData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\r\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\r\n\t\t: null\r\n}\r\n\r\nfunction is41identity(routineAuthTuple) {\r\n\tconst is41 = routineAuthTuple && routineAuthTuple.length === 5\r\n\r\n\treturn is41\r\n}\r\n\r\nfunction hasValidExecuteRoutines(routineAuthTuple) {\r\n\tconst hasValidRoutines =\r\n\t\tis41identity(routineAuthTuple) &&\r\n\t\tparseInt((routineAuthTuple[2], 16) - EXTRA_PROCESS_TIME) * 1000 > Date.now()\r\n\r\n\treturn hasValidRoutines\r\n}\r\n\r\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\r\n\tconst { wallet, identity } = account\r\n\t// TODO: pass withBalance as prop\r\n\tconst withBalance = selectChannelsWithUserBalancesEligible(getState())\r\n\r\n\tconst { AdExCore } = await getEthers(wallet.authType)\r\n\tconst identityAddr = identity.address\r\n\tconst channelsToSweep = await getChannelsToSweepFrom({\r\n\t\tamountToSweep,\r\n\t\tidentityAddr,\r\n\t\twithBalance,\r\n\t})\r\n\r\n\tconst txns = channelsToSweep.map((c, i) => {\r\n\t\tconst {\r\n\t\t\tlastApprovedBalances,\r\n\t\t\tchannel,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\toutstanding,\r\n\t\t\t// outstandingAvailable,\r\n\t\t\tbalance,\r\n\t\t} = c\r\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\r\n\r\n\t\tconst data = getChannelWithdrawData({\r\n\t\t\tidentityAddr,\r\n\t\t\tbalance,\r\n\t\t\tlastApprovedBalances,\r\n\t\t\tlastApprovedSigs,\r\n\t\t\tethChannelTuple,\r\n\t\t})\r\n\r\n\t\treturn {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tfeeTokenAddr: channel.depositAsset,\r\n\t\t\tdata,\r\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\r\n\t\t}\r\n\t})\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\r\n\tlet encodedTxns = null\r\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\r\n\t\tencodedTxns = [\r\n\t\t\tgetSweepExecuteRoutineTx({\r\n\t\t\t\ttxns,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\troutineAuthTuple,\r\n\t\t\t}),\r\n\t\t]\r\n\t} else {\r\n\t\tencodedTxns = txns.map(tx => {\r\n\t\t\ttx.data = Core.functions.channelWithdraw.encode(tx.data)\r\n\t\t\ttx.isSweepTx = true\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\treturn encodedTxns\r\n}\r\n\r\nfunction getSwapAmountsByToken({ balances }) {\r\n\tconst mainToken = selectMainToken()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\r\n\t\t(swaps, balance) => {\r\n\t\t\t// TODO: currently work only for SAI to DAI swap\r\n\t\t\tif (\r\n\t\t\t\tbalance.token.address !== mainToken.address &&\r\n\t\t\t\t// TEMP: remove that check when all tokens swaps are available\r\n\t\t\t\tbalance.token.address === saiToken.address\r\n\t\t\t) {\r\n\t\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\r\n\t\t\t\t\tbalance.balanceMainToken\r\n\t\t\t\t)\r\n\t\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\r\n\t\t\t}\r\n\t\t\treturn swaps\r\n\t\t},\r\n\t\t{\r\n\t\t\tswapsSumInMainToken: bigNumberify(0),\r\n\t\t\tswapsByToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { swapsByToken, swapsSumInMainToken }\r\n}\r\n\r\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\r\n// amountNeeded must be in MainToken\r\nexport async function getSweepingTxnsIfNeeded({\r\n\tamountInMainTokenNeeded,\r\n\taccount,\r\n}) {\r\n\tconst needed = bigNumberify(amountInMainTokenNeeded)\r\n\tconst {\r\n\t\tbalances,\r\n\t\tmainTokenBalance,\r\n\t} = account.stats.raw.identityWithdrawTokensBalancesBalances\r\n\r\n\tlet currentBalanceInUse = bigNumberify(mainTokenBalance)\r\n\r\n\tconst sweepData = {\r\n\t\tsweepTxns: [],\r\n\t\tswapAmountsByToken: {},\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\t// Swaps\r\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\r\n\t\t\tbalances,\r\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\r\n\t\tsweepData.swapAmountsByToken = swapsByToken\r\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\r\n\t}\r\n\r\n\tif (needed.gt(currentBalanceInUse)) {\r\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\r\n\t\t\taccount,\r\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\r\n\t\t})\r\n\t}\r\n\r\n\treturn sweepData\r\n}\r\n\r\nexport async function openChannel({\r\n\tcampaign,\r\n\taccount,\r\n\tgetFeesOnly,\r\n\tgetMaxFees,\r\n}) {\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\r\n\tconst mainToken = selectMainFeeToken()\r\n\tconst depositAmount = getMaxFees\r\n\t\t? availableIdentityBalanceMainToken\r\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\r\n\r\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\r\n\tconst openReady = readyCampaign.openReady\r\n\tconst ethChannel = toEthereumChannel(openReady)\r\n\tconst channel = {\r\n\t\t...openReady,\r\n\t\tid: ethChannel.hashHex(AdExCore.address),\r\n\t}\r\n\tconst identityAddr = openReady.creator\r\n\tconst feeTokenAddr = mainToken.address\r\n\r\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\r\n\tconst hasIdentityChannelOpen = is41identity(routineAuthTuple)\r\n\r\n\tconst txns = []\r\n\r\n\tif (hasIdentityChannelOpen) {\r\n\t\tconst identityChannelOpenTx = {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: identityAddr,\r\n\t\t\tdata: IdentityInterface.functions.channelOpen.encode([\r\n\t\t\t\tAdExCore.address,\r\n\t\t\t\tethChannel.toSolidityTuple(),\r\n\t\t\t]),\r\n\t\t\textraTxFeesCount: 1,\r\n\t\t}\r\n\t\ttxns.push(identityChannelOpenTx)\r\n\t} else {\r\n\t\tconst approveTxns = await getApproveTxns({\r\n\t\t\tgetToken,\r\n\t\t\ttoken: mainToken,\r\n\t\t\tidentityAddr,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tapproveForAddress: AdExCore.address,\r\n\t\t\tapproveAmount: depositAmount,\r\n\t\t})\r\n\r\n\t\tconst channelOpenTx = {\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: AdExCore.address,\r\n\t\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\r\n\t\t}\r\n\t\ttxns.push(...approveTxns, channelOpenTx)\r\n\t}\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: depositAmount,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst { total, totalBN } = await getIdentityTxnsTotalFees({ txnsByFeeToken })\r\n\tconst bigZero = bigNumberify(0)\r\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\r\n\tconst maxAvailable = mtBalance.sub(totalBN).lt(bigZero)\r\n\t\t? bigZero\r\n\t\t: mtBalance.sub(totalBN)\r\n\tconst maxAvailableFormatted = formatTokenAmount(\r\n\t\tmaxAvailable.toString(),\r\n\t\tmainToken.decimals || 18,\r\n\t\tfalse,\r\n\t\t2\r\n\t)\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfeesFormatted: total,\r\n\t\t\tfees: totalBN,\r\n\t\t\tmaxAvailable,\r\n\t\t\tmaxAvailableFormatted,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: { channel },\r\n\t})\r\n\r\n\treadyCampaign.id = channel.id\r\n\tconst storeCampaign = { ...readyCampaign }\r\n\tstoreCampaign.spec = { ...openReady.spec }\r\n\treturn {\r\n\t\tresult,\r\n\t\tstoreCampaign,\r\n\t}\r\n}\r\n\r\nexport async function closeChannel({ account, campaign }) {\r\n\tconst result = await closeCampaign({ account, campaign })\r\n\treturn result\r\n}\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { getState } from 'actions'\r\nimport { selectAuthSig } from 'selectors'\r\nimport { isDemoMode } from 'services/store-data/auth'\r\nimport { t } from 'selectors'\r\n\r\nexport const handleRequesterErrorRes = ({ res, text }) => {\r\n\tlet message = text\r\n\ttry {\r\n\t\tconst textObj = JSON.parse(text)\r\n\t\tmessage =\r\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\r\n\t} catch {}\r\n\r\n\tthrow new Error(\r\n\t\tt('SERVICE_ERROR_MSG', {\r\n\t\t\targs: [res.url, res.status, res.statusText, message],\r\n\t\t})\r\n\t)\r\n}\r\n\r\nclass AdexNodeRequester {\r\n\tconstructor({ baseUrl }) {\r\n\t\tthis.baseUrl = baseUrl\r\n\t}\r\n\r\n\tgetAuthHeaders = ({ authSig } = {}) => {\r\n\t\tconst authSignature = selectAuthSig(getState())\r\n\t\treturn {\r\n\t\t\t'X-User-Signature': authSig || authSignature,\r\n\t\t}\r\n\t}\r\n\r\n\tnoCacheHeaders = {\r\n\t\t'Cache-Control': 'no-cache',\r\n\t\tExpires: '0',\r\n\t\tPragma: 'no-cache',\r\n\t}\r\n\r\n\tgetUrl = (base, route, query) => {\r\n\t\tlet url = base + '/'\r\n\t\tif (route) {\r\n\t\t\troute = route.replace(/^\\//, '')\r\n\t\t\turl += route\r\n\t\t}\r\n\r\n\t\turl += query\r\n\r\n\t\treturn url\r\n\t}\r\n\r\n\tfetch = ({\r\n\t\troute = '',\r\n\t\tqueryParams = {},\r\n\t\tmethod = 'GET',\r\n\t\tbody,\r\n\t\theaders = {},\r\n\t\tuserAddr,\r\n\t\tauthSig = '',\r\n\t\tauthToken,\r\n\t\tnoCache = false,\r\n\t}) => {\r\n\t\tconst qp = { ...queryParams }\r\n\t\tif (isDemoMode()) {\r\n\t\t\tqp.demo = true\r\n\t\t}\r\n\r\n\t\tconst query = Helper.getQuery(qp)\r\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\r\n\r\n\t\tconst hdrs = {\r\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\r\n\t\t\t...this.getAuthHeaders({ authSig }),\r\n\t\t\t...headers,\r\n\t\t}\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: hdrs,\r\n\t\t\tbody: body,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default AdexNodeRequester\r\n","import requester from './requester'\r\n\r\nexport default requester\r\nexport * from './requester'\r\n","import { formatUnits, commify } from 'ethers/utils'\r\nimport MomentUtils from '@date-io/moment'\r\nconst moment = new MomentUtils()\r\n\r\nconst DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\r\n\r\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\r\n\tif (!timestamp) {\r\n\t\treturn 'no date'\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatTokenAmount = (\r\n\tamountString,\r\n\tdecimals = 18,\r\n\tpretty,\r\n\ttoFixed\r\n) => {\r\n\tconst formatted = formatUnits(amountString, decimals)\r\n\tif (pretty) {\r\n\t\treturn commify(formatted)\r\n\t} else if (typeof toFixed === 'number') {\r\n\t\t// We want truncated not rounded\r\n\t\treturn parseFloat(formatted)\r\n\t\t\t.toFixed(toFixed + 4)\r\n\t\t\t.slice(0, -4)\r\n\t} else {\r\n\t\treturn formatted\r\n\t}\r\n}\r\n\r\nexport const formatAddress = (address = '', joinSymbol = '...') => {\r\n\treturn `${address.substring(0, 8)}${joinSymbol}${address.substring(36, 42)}`\r\n}\r\n\r\nexport const formatNumberWithCommas = x => {\r\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n}\r\n\r\nexport const formatFloatNumberWithCommas = x => {\r\n\tconst parts = x.toString().split('.')\r\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n\treturn parts.join('.')\r\n}\r\n\r\nexport const formatNumberWithoutCommas = x => {\r\n\treturn x\r\n\t\t.toString()\r\n\t\t.split(',')\r\n\t\t.join('')\r\n}\r\n\r\nexport const formatAbbrNum = (number, decPlaces) => {\r\n\t// 2 decimal places => 100, 3 => 1000, etc\r\n\tdecPlaces = Math.pow(10, decPlaces)\r\n\r\n\t// Enumerate number abbreviations\r\n\tvar abbrev = ['k', 'm', 'b', 't']\r\n\r\n\t// Go through the array backwards, so we do the largest first\r\n\tfor (var i = abbrev.length - 1; i >= 0; i--) {\r\n\t\t// Convert array index to \"1000\", \"1000000\", etc\r\n\t\tvar size = Math.pow(10, (i + 1) * 3)\r\n\r\n\t\t// If the number is bigger or equal do the abbreviation\r\n\t\tif (size <= number) {\r\n\t\t\t// Here, we multiply by decPlaces, round, and then divide by decPlaces.\r\n\t\t\t// This gives us nice rounding to a particular decimal place.\r\n\t\t\tnumber = Math.round((number * decPlaces) / size) / decPlaces\r\n\r\n\t\t\t// Handle special case where we round up to the next abbreviation\r\n\t\t\tif (number == 1000 && i < abbrev.length - 1) {\r\n\t\t\t\tnumber = 1\r\n\t\t\t\ti++\r\n\t\t\t}\r\n\r\n\t\t\t// Add the letter for the abbreviation\r\n\t\t\tnumber += abbrev[i]\r\n\r\n\t\t\t// We are done... stop\r\n\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\treturn number\r\n}\r\n\r\nexport const truncateString = (string, maxLength = 50) => {\r\n\tif (!string) return ''\r\n\tif (string.length <= maxLength) return string\r\n\treturn `${string.substring(0, maxLength).trim()}...`\r\n}\r\n","import Loop from './loop'\r\nimport {\r\n\texecute,\r\n\tupdateAccountAnalytics,\r\n\tupdateAccountCampaignsAnalytics,\r\n} from 'actions'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\n\r\nconst LOOP_TIMEOUT = 120 * 1000\r\n\r\nconst analyticsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountAnalytics())),\r\n\tloopName: '_ANALYTICS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nconst analyticsCampaignsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) &&\r\n\t\t(await execute(updateAccountCampaignsAnalytics())),\r\n\tloopName: '_ANALYTICS_CAMPAIGNS_ADVANCED',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport { analyticsLoop, analyticsCampaignsLoop }\r\n","export default class Looper {\r\n\tconstructor({ timeout, syncAction, loopName = '', stopOn }) {\r\n\t\tif (!timeout) {\r\n\t\t\tthrow new Error('LOOPER timeout prop is required')\r\n\t\t}\r\n\r\n\t\tif (typeof syncAction !== 'function') {\r\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\r\n\t\t}\r\n\r\n\t\tthis.loopTimeout = null\r\n\t\tthis.timeout = timeout\r\n\t\tthis.syncAction = syncAction\r\n\t\tthis.loopName = loopName\r\n\t\tthis.stopOn = stopOn\r\n\t}\r\n\r\n\tclearLoopTimeout = () => {\r\n\t\tif (this.loopTimeout) {\r\n\t\t\tclearTimeout(this.loopTimeout)\r\n\t\t\tthis.loopTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tsyncData = async opts => {\r\n\t\tthis.makeStopCheck()\r\n\t\tawait this.syncAction()\r\n\t\tthis.makeStopCheck()\r\n\t}\r\n\r\n\tstartLoop = async opts => {\r\n\t\ttry {\r\n\t\t\tawait this.syncData(opts)\r\n\t\t\tthis.checkLoop()\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\r\n\t\t\tthis.checkLoop()\r\n\t\t}\r\n\t}\r\n\r\n\tcheckLoop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\r\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\r\n\t}\r\n\r\n\tmakeStopCheck = () => {\r\n\t\tif (typeof this.stopOn === 'function' && this.stopOn()) {\r\n\t\t\tthis.stop()\r\n\t\t}\r\n\t}\r\n\r\n\tstart = async () => {\r\n\t\tthis.clearLoopTimeout()\r\n\t\tawait this.startLoop()\r\n\t\tthis.makeStopCheck()\r\n\t}\r\n\r\n\tstop = () => {\r\n\t\tthis.clearLoopTimeout()\r\n\t}\r\n}\r\n","import { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst autocompleteLocationsSingleSelect = () => {\r\n\treturn constants.AllCountries.map(country => {\r\n\t\treturn {\r\n\t\t\tlabel: country.name,\r\n\t\t\tvalue: country.value,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteGendersSingleSelect = () => {\r\n\treturn constants.Genders.map(gender => {\r\n\t\treturn {\r\n\t\t\tlabel: translate(gender.split('_')[1]),\r\n\t\t\tvalue: gender,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const AcLocations = autocompleteLocationsSingleSelect()\r\nexport const AcGenders = autocompleteGendersSingleSelect()\r\nexport const AcTags = autocompleteTagsSingleSelect()\r\n\r\nexport const SOURCES = {\r\n\tlocations: { src: AcLocations, collection: 'targeting' },\r\n\tgenders: { src: AcGenders, collection: 'targeting' },\r\n\ttags: { src: AcTags, collection: 'targeting' },\r\n\tcustom: { src: [], collection: 'targeting' },\r\n}\r\n","import adexTranslations from 'adex-translations'\r\nimport { removeTags } from 'helpers/sanitizer'\r\nimport { isValidElement, cloneElement } from 'react'\r\n\r\nconst translations = adexTranslations()\r\n\r\nlet lang = 'en-US'\r\n\r\nconst interpolate = (tpl, args) => {\r\n\tif (typeof tpl !== 'string') {\r\n\t\treturn ''\r\n\t}\r\n\r\n\tconst pattern = new RegExp(/\\${(\\w+)}/, 'gi')\r\n\tconst parts = tpl.split(pattern)\r\n\r\n\tconst interpolated = parts.map((p, i) => {\r\n\t\tconst element = args[p] || p\r\n\t\tif (isValidElement(element) && !element.key) {\r\n\t\t\tconst withKey = cloneElement(element, { key: i })\r\n\r\n\t\t\treturn withKey\r\n\t\t}\r\n\r\n\t\treturn element\r\n\t})\r\n\r\n\tif (interpolated.every(i => typeof i === 'string' || typeof i === 'number')) {\r\n\t\treturn interpolated.join('')\r\n\t}\r\n\r\n\treturn interpolated\r\n}\r\n\r\nexport const translate = (\r\n\tval = '',\r\n\t{ isProp = false, args = [''] } = {},\r\n\tlanguage = lang\r\n) => {\r\n\tlet key = val + ''\r\n\tif (isProp) {\r\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\r\n\t}\r\n\r\n\tkey = key.toUpperCase()\r\n\r\n\tlet translation = removeTags(translations[language][key] || val)\r\n\r\n\tif (args.length && Array.isArray(args)) {\r\n\t\tconst translatedArgs = args.map(a => {\r\n\t\t\tif (typeof a === 'string') {\r\n\t\t\t\treturn translations[language][a] || a\r\n\t\t\t} else {\r\n\t\t\t\treturn a\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\ttranslation = interpolate(translation, translatedArgs)\r\n\t}\r\n\r\n\treturn translation\r\n}\r\n\r\n// TODO: fix that\r\nexport const setLang = lng => {\r\n\tlang = lng\r\n}\r\n","export const removeTags = dirty => {\r\n\tif (!dirty || typeof dirty !== 'string') return ''\r\n\r\n\treturn (\r\n\t\tdirty\r\n\t\t\t// Replace <strong>, <em>, <br>, <u>, <b> and <i> with {strong}, etc...\r\n\t\t\t.replace(/<(\\/?strong|em|br|[ubi])>/gi, '{{$1}}')\r\n\t\t\t// Strip any remaining HTML tags\r\n\t\t\t.replace(/<(?:.|\\n)*?>/gm, '')\r\n\t\t\t// Replace {strong} ... with <strong> ...\r\n\t\t\t.replace(/{{(\\/?strong|em|br|[ubi])}}/gi, '<$1>')\r\n\t)\r\n}\r\n","// Nodejs encryption with CTR\r\nconst crypto = require('crypto')\r\n\r\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\r\nconst CIPHER_ALG = 'aes-256-cbc'\r\nconst IV_LENGTH = 16\r\nconst HASH_ALG = 'sha256'\r\n\r\nconst getKeyHash = key => {\r\n\tconst hash = crypto.createHash(HASH_ALG)\r\n\thash.update(key)\r\n\tconst hashed = hash.digest()\r\n\treturn hashed\r\n}\r\n\r\nexport const encrypt = async (text, key) => {\r\n\tif (!text) return ''\r\n\tif (!key) {\r\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\r\n\t}\r\n\tconst iv = crypto.randomBytes(IV_LENGTH)\r\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst encr = cipher.update(text)\r\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\r\n\r\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\r\n}\r\n\r\nexport const decrypt = async (text, key) => {\r\n\tconst textParts = text.split(':')\r\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\r\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\r\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\r\n\tconst decr = decipher.update(encryptedText)\r\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\r\n\r\n\treturn decrypted.toString()\r\n}\r\n\r\nexport const encryptLegacy = async (text, password) => {\r\n\tif (!text) return ''\r\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\r\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\r\n\tcrypted += cipher.final('hex')\r\n\treturn crypted\r\n}\r\n\r\nexport const decryptLegacy = async (text, password) => {\r\n\tif (!text) return ''\r\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\r\n\tlet dec = decipher.update(text, 'hex', 'utf8')\r\n\tdec += decipher.final('utf8')\r\n\treturn dec\r\n}\r\n","import { exchange as ExchangeConstants } from 'adex-constants'\r\nimport { constants } from 'adex-models'\r\n\r\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\r\nconst { SignatureModes } = constants\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nexport const AVATAR_MAX_WIDTH = 600\r\nexport const AVATAR_MAX_HEIGHT = 400\r\n\r\nexport const SORT_PROPERTIES_BIDS = [\r\n\t{ value: '_state', label: '' },\r\n\t{ value: '_target', label: '' },\r\n\t{ value: '_amount', label: '' },\r\n\t{ value: '_timeout', label: '' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_BIDS = {\r\n\t_state: {\r\n\t\tlabel: '_state',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: Object.keys(BID_STATES).map(key => {\r\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\r\n\t\t}),\r\n\t},\r\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\r\n}\r\n\r\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\r\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\r\n}\r\n\r\nexport const SORT_PROPERTIES_ITEMS = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n\t{ value: 'type' },\r\n]\r\n\r\nexport const SORT_PROPERTIES_COLLECTION = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_ITEMS = {\r\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\r\n}\r\n\r\nexport const AUTH_TYPES = {\r\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\r\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\r\n\tLEDGER: { name: 'ledger', signType: SignatureModes.GETH, limit: 0 },\r\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\r\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\r\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\r\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\r\n}\r\n\r\nexport const NETWORK_STATUS = {\r\n\t0: 'pending',\r\n\t1: 'success',\r\n\t2: 'failed',\r\n}\r\n\r\nexport const ETHEREUM_NETWORKS = {\r\n\t1: { name: 'Mainnet', for: 'production' },\r\n\t5: { name: 'Goerli', for: 'development' },\r\n\tproduction: { name: 'Mainnet', for: 'production' },\r\n\tdevelopment: { name: 'Goerli', for: 'development' },\r\n}\r\n\r\nexport const SORT_PROPERTIES_CAMPAIGN = [\r\n\t{ value: 'created', label: 'Created' },\r\n\t{ value: 'status.name', label: 'Status' },\r\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\r\n\t{ value: 'activeFrom', label: 'Starts' },\r\n\t{ value: 'depositAmount', label: 'depositAmount' },\r\n\t{ value: 'maxPerImpression', label: 'cpm' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_CAMPAIGN = {\r\n\t'status.name': {\r\n\t\tlabel: 'ststus',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: [\r\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\r\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\r\n\t\t\t{ value: 'Offline', label: 'Offline' },\r\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\r\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\r\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\r\n\t\t\t{ value: 'Ready', label: 'Ready' },\r\n\t\t\t{ value: 'Active', label: 'Active' },\r\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\r\n\t\t\t{ value: 'Expired', label: 'Expired' },\r\n\t\t],\r\n\t},\r\n}\r\n\r\nexport const UTM_PARAMS = {\r\n\tutm_source: 'ADEX',\r\n\tutm_medium: 'CPM',\r\n\tutm_campaign: 'none',\r\n\tutm_content: 'none',\r\n}\r\n\r\nexport const VALIDATOR_ANALYTICS_METRICS = [\r\n\t'eventPayouts', //\r\n\t'eventCounts',\r\n]\r\nexport const VALIDATOR_ANALYTICS_SIDES = [\r\n\t'advertiser',\r\n\t'publisher', //\r\n]\r\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = [\r\n\t'IMPRESSION', //\r\n\t'CLICK',\r\n]\r\n\r\n// TEMP: disable long periods\r\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\r\n\t{ label: 'LABEL_HOUR', value: 'hour' },\r\n\t{ label: 'LABEL_DAY', value: 'day' },\r\n\t{ label: 'LABEL_WEEK', value: 'week' },\r\n\t// { label: 'LABEL_MONTH', value: 'month' },\r\n\t// { label: 'LABEL_YEAR', value: 'year' },\r\n]\r\n\r\nexport const MOON_GRAVITY_ACCELERATION = 1.625\r\nexport const MOON_TO_EARTH_WEIGHT = 0.166\r\n\r\nexport const WALLET_ACTIONS_MSGS = {\r\n\t[AUTH_TYPES.METAMASK.name]: [\r\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\r\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\r\n\t],\r\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\r\n\t[AUTH_TYPES.LEDGER.name]: [{ message: 'LEDGER_WAITING_ACTION' }],\r\n\t[AUTH_TYPES.QUICK.name]: [\r\n\t\t{ message: 'QUICK_WAITING_MSG' },\r\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\r\n\t],\r\n\t[AUTH_TYPES.GRANT.name]: [\r\n\t\t{ message: 'GRANT_WAITING_MSG' },\r\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\r\n\t],\r\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\r\n}\r\n","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\r\n\r\nlet initialState = {\r\n\taccount: new Account(),\r\n\tsignin: {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassConfirm: '',\r\n\t\tseed: '',\r\n\t\tpublicKey: '',\r\n\t\tseedCheck: [],\r\n\t\tauthenticated: false,\r\n\t},\r\n\tnewItem: {\r\n\t\tCampaign: new Campaign().plainObj(),\r\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\r\n\t\tAdSlot: new AdSlot().plainObj(),\r\n\t},\r\n\tcurrentItem: {},\r\n\tselectedItems: {\r\n\t\tcampaings: [],\r\n\t\tadUnits: [],\r\n\t\tslots: [],\r\n\t},\r\n\titems: {\r\n\t\tCampaign: {},\r\n\t\tAdUnit: {},\r\n\t\tAdSlot: {},\r\n\t\tWebsite: {},\r\n\t},\r\n\tspinners: {},\r\n\tui: {\r\n\t\tglobal: {},\r\n\t\tbyIdentity: {},\r\n\t},\r\n\ttoasts: [],\r\n\tconfirm: {\r\n\t\tdata: {},\r\n\t},\r\n\tnav: {\r\n\t\tside: '',\r\n\t},\r\n\tlanguage: 'en-US',\r\n\tvalidations: {},\r\n\tnewTransactions: {\r\n\t\tdefault: {},\r\n\t},\r\n\tweb3Transactions: {},\r\n\ttags: {},\r\n\tidentity: {},\r\n\tethNetwork: {\r\n\t\tnetworkId: null,\r\n\t\tgasData: {},\r\n\t},\r\n\twallet: {},\r\n\tconfig: {\r\n\t\trelayer: {},\r\n\t\tmarket: {},\r\n\t\tvalidators: {},\r\n\t},\r\n\tanalytics: { timeframe: 'day' },\r\n\tchannels: {\r\n\t\twithBalanceAll: {},\r\n\t\twithOutstandingBalance: [],\r\n\t},\r\n\tensAddresses: {},\r\n}\r\n\r\nexport default initialState\r\n","import { createHashHistory } from 'history'\r\n\r\nconst history = createHashHistory()\r\n\r\nhistory.listen(location => {\r\n\twindow.gtag &&\r\n\t\twindow.gtag('config', process.env.GA_CODE, {\r\n\t\t\tpage_path: location.pathname + location.search,\r\n\t\t})\r\n})\r\n\r\nexport default history\r\n","import Loop from './loop'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\nimport { updateUserCampaigns, execute } from 'actions'\r\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\r\n\r\n// 30 seconds = market statusLoopTick\r\nconst LOOP_TIMEOUT =\r\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\r\n\r\nconst campaignsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateUserCampaigns())),\r\n\tloopName: '_CAMPAIGNS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport { campaignsLoop }\r\n","import Loop from './loop'\r\nimport { getState } from 'store'\r\nimport { selectAuth } from 'selectors'\r\nimport { execute, updateAccountStats } from 'actions'\r\n\r\nconst LOOP_TIMEOUT = 60 * 1000\r\n\r\nconst accountStatsLoop = new Loop({\r\n\ttimeout: LOOP_TIMEOUT,\r\n\tsyncAction: async () =>\r\n\t\tselectAuth(getState()) && (await execute(updateAccountStats())),\r\n\tloopName: '_ACCOUNTS_STATS',\r\n\tstopOn: () => !selectAuth(getState()),\r\n})\r\n\r\nexport default accountStatsLoop\r\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,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\"","export const CREATING_SESSION = 'CREATING_SESSION'\r\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\r\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\r\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\r\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\r\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\r\nexport const UPDATING_ACCOUNT_IDENTITY = 'UPDATING_ACCOUNT_IDENTITY'\r\nexport const UPDATING_SLOTS_DEMAND = 'UPDATING_SLOTS_DEMAND'\r\nexport const PRINTING_CAMPAIGNS_RECEIPTS = 'PRINTING_CAMPAIGNS_RECEIPTS'\r\n","import { ethers, Contract } from 'ethers'\r\nimport { contracts } from './contractsCfg'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { selectRelayerConfig } from 'selectors'\r\n\r\nethers.errors.setLogLevel('error')\r\n\r\nconst { AdExCore, Identity, IdentityFactory } = contracts\r\n\r\nconst getAdexCore = provider => {\r\n\tconst { coreAddr } = selectRelayerConfig()\r\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\r\n}\r\n\r\nconst getMainToken = provider => {\r\n\tconst { mainToken = {} } = selectRelayerConfig()\r\n\treturn new Contract(\r\n\t\tmainToken.address,\r\n\t\tcontracts[mainToken.standard].abi,\r\n\t\tprovider\r\n\t)\r\n}\r\n\r\nconst getToken = ({ provider, standard, address }) => {\r\n\treturn new Contract(address, contracts[standard].abi, provider)\r\n}\r\n\r\nconst getIdentity = ({ provider, address }) => {\r\n\tconst identityContract = new Contract(address, Identity.abi, provider)\r\n\r\n\treturn identityContract\r\n}\r\n\r\nconst getIdentityFactory = provider => {\r\n\tconst { identityFactoryAddr } = selectRelayerConfig()\r\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\r\n}\r\n\r\nconst getEthersResult = provider => {\r\n\tconst adexCore = getAdexCore(provider)\r\n\tconst mainToken = getMainToken(provider)\r\n\tconst identityFactory = getIdentityFactory(provider)\r\n\r\n\tconst results = {\r\n\t\tprovider,\r\n\t\tAdExCore: adexCore,\r\n\t\tIdentity: Identity,\r\n\t\tDai: mainToken,\r\n\t\tMainToken: mainToken,\r\n\t\tIdentityFactory: identityFactory,\r\n\t\tgetToken: ({ standard, address }) =>\r\n\t\t\tgetToken({ provider, standard, address }),\r\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\r\n\t}\r\n\r\n\treturn results\r\n}\r\n\r\nconst localWeb3 = () => {\r\n\tconst provider = new ethers.providers.JsonRpcProvider(\r\n\t\tprocess.env.WEB3_NODE_ADDR\r\n\t)\r\n\treturn getEthersResult(provider)\r\n}\r\n\r\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\r\n\twindow.addEventListener('load', () => {\r\n\t\tconst ethereum = window.ethereum\r\n\t\tconst web3 = window.web3\r\n\t\treturn resolve({\r\n\t\t\tethereum,\r\n\t\t\tweb3,\r\n\t\t})\r\n\t})\r\n})\r\n\r\nconst injectedWeb3 = async () => {\r\n\tconst { web3, ethereum } = await loadInjectedWeb3\r\n\tlet provider = null\r\n\r\n\tif (ethereum) {\r\n\t\ttry {\r\n\t\t\tawait ethereum.enable()\r\n\r\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\r\n\r\n\t\t\treturn getEthersResult(provider)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Err getting injected ethereum.', err)\r\n\t\t\tthrow new Error(err.message)\r\n\t\t}\r\n\t}\r\n\t// Legacy dapp browsers...\r\n\t// TODO: we just have to throw or show notification\r\n\t// At the moment if it throws it will show error toast but not always.\r\n\telse if (web3) {\r\n\t\tconsole.error('Legacy web3 browser detected. It is not supported!')\r\n\t\tconsole.error('Fallback to local web3 provider')\r\n\t\treturn await localWeb3()\r\n\t} else {\r\n\t\tconsole.error('Non-Ethereum browser detected.')\r\n\t\tconsole.error('Fallback to local web3 provider')\r\n\t\treturn await localWeb3()\r\n\t}\r\n}\r\n\r\nconst getLocalWeb3 = async () => {\r\n\t// console.log('getLocalWeb3')\r\n\treturn localWeb3()\r\n}\r\n\r\nconst getEthers = mode => {\r\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\r\n\t *   and this results in Trezor popup block by the browser\r\n\t */\r\n\tif (mode === AUTH_TYPES.METAMASK.name) {\r\n\t\treturn injectedWeb3()\r\n\t} else {\r\n\t\treturn getLocalWeb3()\r\n\t}\r\n}\r\n\r\nconst ethereumNetworkId = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\tif (ethereum) {\r\n\t\tconst id = parseInt(ethereum.networkVersion, 10)\r\n\t\treturn id\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nconst getEthereumProvider = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3\r\n\tif (!ethereum) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tif (ethereum.isMetaMask) {\r\n\t\treturn AUTH_TYPES.METAMASK.name\r\n\t}\r\n\r\n\treturn null\r\n}\r\n\r\nexport { getEthers, ethereumNetworkId, getEthereumProvider }\r\n","module.exports = __webpack_public_path__ + \"static/media/GS-email-ic.7f647acc.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-create-ic.8de20f7a.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-launch-ic.b4a8f505.png\";","import { store } from 'store'\r\n\r\nexport const execute = store.dispatch\r\n\r\nexport const dispatch = store.dispatch\r\n\r\nexport const getState = store.getState\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport * as types from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { selectCompanyData, selectAccountIdentityAddr } from 'selectors'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nexport function updateSpinner(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SPINNER,\r\n\t\t\tspinner: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGlobalUi(item, value, category) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GLOBAL_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateUiByIdentity(item, value, category) {\r\n\treturn function(dispatch, getState) {\r\n\t\tconst identity = selectAccountIdentityAddr(getState())\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY,\r\n\t\t\tidentity,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function addToast({\r\n\ttype,\r\n\taction,\r\n\tlabel = '',\r\n\ttimeout = false,\r\n\tunclosable,\r\n\tanchorOrigin,\r\n\ttop,\r\n}) {\r\n\treturn function(dispatch) {\r\n\t\tconst id = Helper.getGuid()\r\n\t\tdispatch({\r\n\t\t\ttype: types.ADD_TOAST,\r\n\t\t\ttoast: {\r\n\t\t\t\ttype,\r\n\t\t\t\taction,\r\n\t\t\t\tlabel,\r\n\t\t\t\ttimeout,\r\n\t\t\t\tunclosable,\r\n\t\t\t\tanchorOrigin,\r\n\t\t\t\ttop,\r\n\t\t\t\tid,\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\treturn id\r\n\t}\r\n}\r\n\r\nexport function removeToast(toastId) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.REMOVE_TOAST,\r\n\t\t\ttoast: toastId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function confirmAction(\r\n\tonConfirm,\r\n\tonCancel,\r\n\t{\r\n\t\tconfirmLabel = '',\r\n\t\tcancelLabel = '',\r\n\t\ttitle = '',\r\n\t\ttext = '',\r\n\t\tnoCancel = false,\r\n\t\tnoConfirm = false,\r\n\t} = {},\r\n\tnoActionBtns,\r\n\tactive\r\n) {\r\n\treturn async function(dispatch) {\r\n\t\treturn await dispatch({\r\n\t\t\ttype: types.CONFIRM_ACTION,\r\n\t\t\tconfirm: {\r\n\t\t\t\tonConfirm: onConfirm,\r\n\t\t\t\tonCancel: onCancel,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tconfirmLabel: confirmLabel,\r\n\t\t\t\t\tcancelLabel: cancelLabel,\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttext: text,\r\n\t\t\t\t\tnoCancel: noCancel,\r\n\t\t\t\t\tnoConfirm: noConfirm,\r\n\t\t\t\t},\r\n\t\t\t\tnoActionBtns,\r\n\t\t\t\tactive,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNav(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NAV,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function changeLanguage(lang) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CHANGE_LANGUAGE,\r\n\t\t\tlang: lang,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateRegistrationAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\r\n\t\t\tupdateGlobalUi('allowRegistration', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateCompanyData(newData) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst companyData = selectCompanyData(getState())\r\n\t\t\tconst newCompanyData = { ...companyData, ...newData }\r\n\t\t\tupdateUiByIdentity('companyData', newCompanyData)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_COMPANY_DATA', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_COMPANY_DATA'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateSelectedItems(collection, selectedItems) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SELECTED_ITEMS,\r\n\t\t\tselectedItems,\r\n\t\t\tcollection,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateSelectedCampaigns(selectedItems) {\r\n\treturn function(dispatch) {\r\n\t\treturn updateSelectedItems('campaigns', selectedItems)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function refreshCacheAndReload({ version }) {\r\n\treturn function(dispatch) {\r\n\t\ttry {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\taction: (\r\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tif (caches) {\r\n\t\t\t\t\t\t\t\t// Service worker cache should be cleared with caches.delete()\r\n\t\t\t\t\t\t\t\tcaches.keys().then(async function(names) {\r\n\t\t\t\t\t\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\twindow.location.reload(true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{translate('REFRESH')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t),\r\n\t\t\t\tlabel: translate('SUCCESS_UPDATING_NEW_APP_VERSION', {\r\n\t\t\t\t\targs: [version],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_APP'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function notifyNewTOS() {\r\n\treturn function(dispatch) {\r\n\t\ttry {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\taction: (\r\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\twindow.open('https://www.adex.network/tos', '_blank')\r\n\t\t\t\t\t\t\twindow.location.reload(true)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{translate('TOS_CHECK')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t),\r\n\t\t\t\tlabel: translate('NOTIFICATION_NEW_TOS', {\r\n\t\t\t\t\targs: [translate('TOS_CHECK')],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_APP'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function handleRedirectParams(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst email = searchParams.get('confirm-email')\r\n\t\tconst identity = searchParams.get('confirm-identity')\r\n\t\tconst grant = searchParams.get('confirm-grant')\r\n\t\tconst side = (searchParams.get('go-to-side') || '').toLowerCase()\r\n\r\n\t\tif (email && identity && !grant) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL', {\r\n\t\t\t\t\targs: [email, identity],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} else if (email && identity && grant) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL_GRANT', {\r\n\t\t\t\t\targs: [email, identity, grant],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tif (['advertiser', 'publisher'].includes(side)) {\r\n\t\t\tupdateGlobalUi('goToSide', side)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateEasterEggsAllowed(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tif (\r\n\t\t\tsearchParams.get(process.env.EASTER_EGGS_PARAM) ===\r\n\t\t\tprocess.env.EASTER_EGGS_VALUE\r\n\t\t) {\r\n\t\t\tupdateGlobalUi('allowEasterEggs', true)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updatePrivilegesWarningAccepted(accepted) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('privilegesWarningAccepted', accepted)(\r\n\t\t\tdispatch,\r\n\t\t\tgetState\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport function hideGettingStarted() {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('hideGettingStarted', true)(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function setGettingStartedExpanded(expanded) {\r\n\treturn function(dispatch, getState) {\r\n\t\tupdateUiByIdentity('gettingStartedExpanded', expanded)(dispatch, getState)\r\n\t}\r\n}\r\n","export const getErrorMsg = err => {\r\n\tif (!err) {\r\n\t\treturn ''\r\n\t} else if (typeof err === 'object') {\r\n\t\treturn err.msg || err.message || err.errMsg || err.error\r\n\t} else if (Array.isArray(err)) {\r\n\t\treturn err.join(', ')\r\n\t} else {\r\n\t\treturn err\r\n\t}\r\n}\r\n","import { parseUnits, bigNumberify } from 'ethers/utils'\r\n\r\nexport const numStringCPMtoImpression = ({ numStr, decimals }) => {\r\n\tif (numStr === null || numStr === undefined) {\r\n\t\treturn numStr\r\n\t}\r\n\r\n\treturn parseUnits(numStr, decimals)\r\n\t\t.div(bigNumberify(1000))\r\n\t\t.toString()\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tuploadImage,\r\n\tpostAdUnit,\r\n\tpostAdSlot,\r\n\tupdateAdSlot,\r\n\tupdateAdUnit,\r\n\tupdateCampaign,\r\n} from 'services/adex-market/actions'\r\nimport { Base, AdSlot, AdUnit, helpers, Campaign } from 'adex-models'\r\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\r\n\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAdUnits, getAdSlots } from 'services/adex-market/actions'\r\n\r\nimport initialState from 'store/initialState'\r\nimport { getMediaSize } from 'helpers/mediaHelpers'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { numStringCPMtoImpression } from 'helpers/numbers'\r\nimport { SOURCES } from 'constants/targeting'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectAuthSig,\r\n\tselectMainToken,\r\n\tselectAccount,\r\n\tselectAuth,\r\n} from 'selectors'\r\n\r\nconst addToast = ({ type, toastStr, args, dispatch }) => {\r\n\treturn AddToastUi({\r\n\t\tdispatch: dispatch,\r\n\t\ttype: type,\r\n\t\tlabel: translate(toastStr, { args: args }),\r\n\t\ttimeout: 5000,\r\n\t})(dispatch)\r\n}\r\n\r\nconst getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\r\n\treturn fetch(tempUrl)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.blob()\r\n\t\t})\r\n\t\t.then(imgBlob => {\r\n\t\t\tURL.revokeObjectURL(tempUrl)\r\n\t\t\treturn uploadImage({\r\n\t\t\t\timageBlob: imgBlob,\r\n\t\t\t\timageName: 'image.jpeg',\r\n\t\t\t\tauthSig: authSig,\r\n\t\t\t})\r\n\t\t})\r\n}\r\n\r\nexport function updateNewItem(item, newValues, itemType, objModel) {\r\n\titem = Base.updateObject({ item, newValues, objModel })\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\titem,\r\n\t\t\titemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewItems() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_NEW_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// register item\r\nexport function addUnit(item) {\r\n\tconst newItem = { ...item }\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\tauthSig,\r\n\t\t\t})).ipfs\r\n\r\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\r\n\t\t\tnewItem.mediaMime = newItem.temp.mime\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst resItem = await postAdUnit({\r\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdUnit',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function addSlot(item) {\r\n\tconst newItem = { ...item }\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tlet fallbackUnit = null\r\n\t\t\tif (newItem.temp.useFallback) {\r\n\t\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t})).ipfs\r\n\r\n\t\t\t\tconst unit = new AdUnit({\r\n\t\t\t\t\ttype: newItem.type,\r\n\t\t\t\t\tmediaUrl: `ipfs://${imageIpfs}`,\r\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\r\n\t\t\t\t\tmediaMime: newItem.temp.mime,\r\n\t\t\t\t\tcreated: Date.now(),\r\n\t\t\t\t\ttitle: newItem.title,\r\n\t\t\t\t\tdescription: newItem.description,\r\n\t\t\t\t\ttargeting: [],\r\n\t\t\t\t\ttags: [],\r\n\t\t\t\t\tpassback: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst resUnit = await postAdUnit({\r\n\t\t\t\t\tunit: unit.marketAdd,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tfallbackUnit = resUnit.ipfs\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.fallbackUnit = fallbackUnit\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tif (newItem.minPerImpression) {\r\n\t\t\t\tnewItem.minPerImpression = {\r\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\tnumStr: newItem.minPerImpression,\r\n\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t}),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst resItem = await postAdSlot({\r\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdSlot',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdSlot', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\r\n\t\t\t\targs: ['AdSlot', err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getAllItems() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst { address } = account.identity\r\n\t\t\tconst units = getAdUnits({ identity: address })\r\n\t\t\tconst slots = getAdSlots({ identity: address })\r\n\r\n\t\t\tconst [resUnits, resSlots] = await Promise.all([units, slots])\r\n\r\n\t\t\tif (selectAuth(getState())) {\r\n\t\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\r\n\t\t\t\tupdateItems({ items: resSlots.slots, itemType: 'AdSlot' })(dispatch)\r\n\t\t\t\tupdateItems({ items: resSlots.websites, itemType: 'Website' })(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\r\n\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Accepts the entire new item and replace so be careful!\r\nexport function updateItem({ item, itemType } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { id } = item\r\n\t\tupdateSpinner('update' + id, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\tconst { authSig } = account.wallet\r\n\t\t\tconst { mainToken } = selectRelayerConfig()\r\n\r\n\t\t\tconst newItem = { ...item }\r\n\t\t\tlet updatedItem = null\r\n\t\t\tlet objModel = null\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tif (typeof newItem.temp.minPerImpression === 'string') {\r\n\t\t\t\t\t\tnewItem.minPerImpression = {\r\n\t\t\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\t\t\tnumStr: newItem.temp.minPerImpression,\r\n\t\t\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (typeof newItem.temp.website === 'string') {\r\n\t\t\t\t\t\tnewItem.website = newItem.temp.website\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// In case newItem.website is null (very few slots)\r\n\t\t\t\t\tnewItem.website = newItem.website || ''\r\n\t\t\t\t\tconst slot = new AdSlot(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id, authSig })).slot\r\n\t\t\t\t\tobjModel = AdSlot\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tconst unit = new AdUnit(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id, authSig })).unit\r\n\t\t\t\t\tobjModel = AdUnit\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'Campaign':\r\n\t\t\t\t\tconst campaign = new Campaign(newItem).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id, authSig }))\r\n\t\t\t\t\t\t.campaign\r\n\t\t\t\t\tobjModel = Campaign\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\r\n\t\t\t}\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_UPDATING_ITEM',\r\n\t\t\t\targs: [itemType, item.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_UPDATING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('update' + item.id, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function deleteItem({ item, objModel, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = true\r\n\r\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\r\n}\r\n\r\nexport function restoreItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = false\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_RESTORE_ITEM',\r\n\t\terrMsg: 'ERR_RESTORING_ITEM',\r\n\t})\r\n}\r\n\r\nconst findSourceByTag = tag => {\r\n\treturn Object.keys(SOURCES).find(\r\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\r\n\t)\r\n}\r\n\r\nexport function cloneItem({ item, itemType, objModel } = {}) {\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\r\n\t\t\tnewItem.id = ''\r\n\t\t\tnewItem.temp = {\r\n\t\t\t\t...initialState.newItem[itemType].temp,\r\n\t\t\t\ttargets: item.targeting.map((t, index) => {\r\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tkey: index,\r\n\t\t\t\t\t\tcollection: 'targeting',\r\n\t\t\t\t\t\tsource: key,\r\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\ttarget: { ...t },\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\r\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\r\n\t\t\t\tnewItem.mediaUrl,\r\n\t\t\t\tprocess.env.IPFS_GATEWAY\r\n\t\t\t)\r\n\r\n\t\t\tconst response = await fetch(tempUrl)\r\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\r\n\t\t\tconst mediaSize = await getMediaSize({\r\n\t\t\t\tmime: newItem.mediaMime,\r\n\t\t\t\tsrc: mediaURL,\r\n\t\t\t})\r\n\r\n\t\t\tconst temp = {\r\n\t\t\t\t...newItem.temp,\r\n\t\t\t\tmime: item.mediaMime,\r\n\t\t\t\ttempUrl: mediaURL,\r\n\t\t\t\twidth: mediaSize.width,\r\n\t\t\t\theight: mediaSize.height,\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.temp = temp\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\t\titem: newItem,\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function archiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = true\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_ARCHIVING_ITEM',\r\n\t\terrMsg: 'ERR_ARCHIVING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function unarchiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = false\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_UNARCHIVING_ITEM',\r\n\t\terrMsg: 'ERR_UNARCHIVING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function setCurrentItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.SET_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateCurrentItem(item, newMeta) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t\tmeta: newMeta,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateItems({ items, itemType }) {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\r\n\t\t\titems: items,\r\n\t\t\titemType: itemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const resetAllItems = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateTags = ({ tags }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_TAGS,\r\n\t\t\ttags: tags,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewTag = ({ tag }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_NEW_TAG,\r\n\t\t\ttag: tag,\r\n\t\t})\r\n\t}\r\n}\r\n","export const addSig = ({\r\n\taddr = '',\r\n\tsig,\r\n\tmode,\r\n\texpiryTime,\r\n\tidentity = 'notset',\r\n}) => {\r\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\r\n\t\tthrow new Error('addSig - all args are required')\r\n\t}\r\n\r\n\tlocalStorage.setItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\r\n\t\tsig + '-' + expiryTime\r\n\t)\r\n}\r\n\r\nexport const getSig = ({ addr = '', identity = '', mode }) => {\r\n\tlet sigAndTIme = localStorage.getItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\r\n\t)\r\n\r\n\tif (!sigAndTIme) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tsigAndTIme = sigAndTIme.split('-')\r\n\tlet sig = sigAndTIme[0]\r\n\tlet time = sigAndTIme[1]\r\n\r\n\tif (!time || parseInt(time, 10) <= Date.now()) {\r\n\t\treturn null\r\n\t} else {\r\n\t\treturn sig\r\n\t}\r\n}\r\n","import moment from 'moment'\r\n\r\nexport const intervalsMs = () => {\r\n\tconst nowUTC = moment.utc()\r\n\r\n\t// TODO: Make it dynamic\r\n\tconst lastSixHoursPeriod = Math.floor(\r\n\t\t(nowUTC.clone().valueOf() - nowUTC.clone().startOf('day')) /\r\n\t\t\t(6 * 60 * 60 * 1000)\r\n\t)\r\n\treturn {\r\n\t\tlastHour: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.startOf('minute')\r\n\t\t\t\t.add(1, 'minute')\r\n\t\t\t\t.subtract(1, 'hours'),\r\n\t\t\tend: moment().startOf('minute'),\r\n\t\t},\r\n\t\tlast24Hours: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.subtract(1, 'day')\r\n\t\t\t\t.startOf('hour')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: moment()\r\n\t\t\t\t.startOf('hour')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t\tlast7Days: {\r\n\t\t\tstart: nowUTC\r\n\t\t\t\t.clone()\r\n\t\t\t\t.startOf('day')\r\n\t\t\t\t.add(lastSixHoursPeriod * 6, 'hours')\r\n\t\t\t\t.subtract(7, 'days')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: nowUTC\r\n\t\t\t\t.clone()\r\n\t\t\t\t.startOf('day')\r\n\t\t\t\t.add(lastSixHoursPeriod * 6, 'hours')\r\n\t\t\t\t.add(2, 'hours')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t\tthisWeek: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.utc()\r\n\t\t\t\t.startOf('isoWeek')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: moment()\r\n\t\t\t\t.utc()\r\n\t\t\t\t.endOf('isoWeek')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t\tlastWeek: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.subtract(1, 'week')\r\n\t\t\t\t.startOf('isoWeek')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: moment()\r\n\t\t\t\t.subtract(1, 'week')\r\n\t\t\t\t.endOf('isoWeek')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t\tthisMonth: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.startOf('month')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: moment()\r\n\t\t\t\t.endOf('month')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t\tlastMonth: {\r\n\t\t\tstart: moment()\r\n\t\t\t\t.subtract(1, 'month')\r\n\t\t\t\t.startOf('month')\r\n\t\t\t\t.valueOf(),\r\n\t\t\tend: moment()\r\n\t\t\t\t.subtract(1, 'month')\r\n\t\t\t\t.endOf('month')\r\n\t\t\t\t.valueOf(),\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const fillEmptyTime = (prevAggr, timeframe, defaultValue = 0) => {\r\n\tconst intervals = intervalsMs()\r\n\tconst time = {\r\n\t\tinterval: intervals.lastHour,\r\n\t\tstep: { ammount: 1, unit: 'minute' },\r\n\t}\r\n\tswitch (timeframe) {\r\n\t\tcase 'hour':\r\n\t\t\ttime.interval = intervals.lastHour\r\n\t\t\ttime.step = { ammount: 1, unit: 'minute' }\r\n\t\t\tbreak\r\n\t\tcase 'day':\r\n\t\t\ttime.interval = intervals.last24Hours\r\n\t\t\ttime.step = { ammount: 1, unit: 'hour' }\r\n\t\t\tbreak\r\n\t\tcase 'week':\r\n\t\t\ttime.interval = intervals.last7Days\r\n\t\t\ttime.step = { ammount: 6, unit: 'hour' }\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\treturn prevAggr\r\n\t}\r\n\tconst newAggr = []\r\n\tfor (\r\n\t\tvar m = moment(time.interval.start);\r\n\t\tm.diff(time.interval.end) <= 0;\r\n\t\tm.add(time.step.ammount, time.step.unit)\r\n\t) {\r\n\t\tnewAggr.push({ value: defaultValue, time: m.unix() * 1000 })\r\n\t}\r\n\r\n\tconst prevAggrInInterval = prevAggr.filter(a => {\r\n\t\tconst m = moment(a.time)\r\n\t\treturn m.diff(time.interval.start) >= 0 && m.diff(time.interval.end) <= 0\r\n\t})\r\n\r\n\tconst data = [...prevAggrInInterval, ...newAggr].reduce((data, a) => {\r\n\t\tconst newData = { ...data }\r\n\t\tconst value = data[a.time] || a.value || defaultValue\r\n\t\tnewData[a.time] = value\r\n\r\n\t\treturn newData\r\n\t}, {})\r\n\r\n\tconst result = Object.entries(data)\r\n\t\t.map(([key, value]) => ({\r\n\t\t\tvalue,\r\n\t\t\ttime: +key,\r\n\t\t}))\r\n\t\t.sort((a, b) => a.time - b.time)\r\n\r\n\treturn result\r\n}\r\n\r\nexport const DATETIME_EXPORT_FORMAT = 'YYYY-MM-DD HH:mm:ss'\r\n","import { bigNumberify } from 'ethers/utils'\r\nimport { selectRoutineWithdrawTokens, selectMainToken } from 'selectors'\r\nimport { tokenInMainTokenValue } from 'services/smart-contracts/actions/stats'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\n\r\nimport { getAllCampaigns } from './actions'\r\n\r\nexport async function getUnitsStatsByType() {\r\n\tconst { decimals } = selectMainToken()\r\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\r\n\tconst allChannels = await getAllCampaigns()\r\n\r\n\tconst channels = allChannels.filter(\r\n\t\tchannel => !!withdrawTokens[channel.depositAsset]\r\n\t)\r\n\r\n\tconst unitsByType = channels.reduce((units, channel) => {\r\n\t\tconst byType = { ...units }\r\n\t\tchannel.spec.adUnits.forEach(unit => {\r\n\t\t\tbyType[unit.type] = byType[unit.type] || []\r\n\t\t\tbyType[unit.type].push(channel)\r\n\t\t})\r\n\r\n\t\treturn byType\r\n\t}, {})\r\n\r\n\tconst unitsByTypeStats = Object.keys(unitsByType).reduce(\r\n\t\tasync (prevStats, key) => {\r\n\t\t\tconst stats = await prevStats\r\n\t\t\tconst channelsByType = unitsByType[key]\r\n\r\n\t\t\tlet totalPerImpression = bigNumberify('0')\r\n\t\t\tlet totalVolume = bigNumberify('0')\r\n\r\n\t\t\tfor (let index = 0; index < channelsByType.length; index++) {\r\n\t\t\t\tconst channel = channelsByType[index]\r\n\r\n\t\t\t\tconst minPerImpression = await tokenInMainTokenValue({\r\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\r\n\t\t\t\t\tbalance: bigNumberify(channel.spec.minPerImpression),\r\n\t\t\t\t})\r\n\t\t\t\tconst depositAmount = await tokenInMainTokenValue({\r\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\r\n\t\t\t\t\tbalance: bigNumberify(channel.depositAmount),\r\n\t\t\t\t})\r\n\r\n\t\t\t\ttotalPerImpression = totalPerImpression.add(minPerImpression)\r\n\t\t\t\ttotalVolume = totalVolume.add(depositAmount)\r\n\t\t\t}\r\n\r\n\t\t\tconst avgPerImpression = totalPerImpression.div(\r\n\t\t\t\tbigNumberify(channelsByType.length)\r\n\t\t\t)\r\n\t\t\tconst avgCPM = avgPerImpression.mul(bigNumberify('1000'))\r\n\r\n\t\t\tconst statsByType = { ...stats }\r\n\t\t\tstatsByType[key] = {}\r\n\t\t\tstatsByType[key].raw = {\r\n\t\t\t\ttotalVolume,\r\n\t\t\t\tavgPerImpression,\r\n\t\t\t\tavgCPM,\r\n\t\t\t}\r\n\r\n\t\t\tstatsByType[key].formatted = {\r\n\t\t\t\ttotalVolume: formatTokenAmount(totalVolume, decimals, false, 2),\r\n\t\t\t\tavgPerImpression: formatTokenAmount(\r\n\t\t\t\t\tavgPerImpression,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t\tfalse,\r\n\t\t\t\t\t2\r\n\t\t\t\t),\r\n\t\t\t\tavgCPM: formatTokenAmount(avgCPM, decimals, false, 4),\r\n\t\t\t}\r\n\r\n\t\t\treturn statsByType\r\n\t\t},\r\n\t\tPromise.resolve({})\r\n\t)\r\n\r\n\treturn unitsByTypeStats\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport throttle from 'lodash.throttle'\r\nimport { addToast, removeToast, updateSpinner, isAccountChanged } from 'actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport {\r\n\tgetValidatorAuthToken,\r\n\tidentityAnalytics,\r\n\tidentityCampaignsAnalytics,\r\n} from 'services/adex-validator/actions'\r\nimport { updateValidatorAuthTokens } from './accountActions'\r\nimport {\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\r\n\tVALIDATOR_ANALYTICS_METRICS,\r\n} from 'constants/misc'\r\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { fillEmptyTime } from 'helpers/timeHelpers'\r\nimport { getUnitsStatsByType } from 'services/adex-market/aggregates'\r\nimport {\r\n\tselectChannelsWithUserBalancesAll,\r\n\tselectFeeTokenWhitelist,\r\n\tselectRoutineWithdrawTokens,\r\n\tselectSide,\r\n\tselectAccount,\r\n\tselectAnalyticsTimeframe,\r\n} from 'selectors'\r\nimport { bigNumberify } from 'ethers/utils'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\nconst analyticsParams = (timeframe, side) => {\r\n\tconst callsParams = []\r\n\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\r\n\t\t\tcallsParams.push({\r\n\t\t\t\tmetric,\r\n\t\t\t\ttimeframe,\r\n\t\t\t\tside,\r\n\t\t\t\teventType,\r\n\t\t\t\t...(side === 'publisher' &&\r\n\t\t\t\t\tmetric === 'eventPayouts' && { segmentByChannel: true }),\r\n\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\treturn callsParams\r\n}\r\n\r\nconst analyticsCampaignsParams = () => {\r\n\tconst callsParams = []\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\tcallsParams.push({ eventType })\r\n\t)\r\n\treturn callsParams\r\n}\r\n\r\nfunction aggrByChannelsSegments({\r\n\taggr,\r\n\tallChannels,\r\n\tfeeTokens,\r\n\twithdrawTokens,\r\n}) {\r\n\tif (!Object.keys(allChannels).length) {\r\n\t\treturn []\r\n\t}\r\n\t// NOTE: No need to sort them again because fillEmptyTime\r\n\t// is sorting by time after adding the empty time values\r\n\tconst { aggregations, all } = aggr\r\n\t\t.sort((a, b) => b.time - a.time)\r\n\t\t.reduce(\r\n\t\t\t(data, a) => {\r\n\t\t\t\tconst { time } = a\r\n\t\t\t\tconst { aggregations, channels, all } = data\r\n\t\t\t\tconst channelId = a.channelId.toLowerCase()\r\n\r\n\t\t\t\tconst { depositAmount, balanceNum, depositAsset, status } =\r\n\t\t\t\t\tallChannels[channelId] || {}\r\n\r\n\t\t\t\tconst { minPlatform, minFinal } = withdrawTokens[depositAsset]\r\n\t\t\t\tconst { min } = feeTokens[depositAsset]\r\n\t\t\t\tconst isExpired = status === 'Expired'\r\n\t\t\t\tconst minBalance = isExpired ? minFinal : minPlatform\r\n\r\n\t\t\t\tconst current = channels[channelId] || { aggr: [] }\r\n\r\n\t\t\t\tconst value = bigNumberify(a.value || 0)\r\n\t\t\t\t\t.mul(bigNumberify(balanceNum || 1))\r\n\t\t\t\t\t.div(bigNumberify(depositAmount || 1))\r\n\r\n\t\t\t\tcurrent.aggr.push({ value, time })\r\n\r\n\t\t\t\tconst currentAggr = aggregations[time] || {\r\n\t\t\t\t\ttime,\r\n\t\t\t\t\tvalue: bigNumberify(0),\r\n\t\t\t\t}\r\n\t\t\t\tconst currentChannelValue = bigNumberify(current.value || 0).add(value)\r\n\r\n\t\t\t\tconst hasMinBalance = currentChannelValue.gt(bigNumberify(minBalance))\r\n\t\t\t\tconst currentTimeValue = currentAggr.value\r\n\r\n\t\t\t\tcurrent.value = currentChannelValue\r\n\r\n\t\t\t\tif (hasMinBalance && !current.feeSubtracted) {\r\n\t\t\t\t\tcurrent.feeSubtracted = true\r\n\t\t\t\t\tconst currentAvailable = currentChannelValue.sub(bigNumberify(min))\r\n\t\t\t\t\tconst currentAdded = bigNumberify(0)\r\n\t\t\t\t\tconst points = current.aggr\r\n\r\n\t\t\t\t\tfor (let index = points.length - 1; index >= 0; index--) {\r\n\t\t\t\t\t\tconst point = points[index]\r\n\t\t\t\t\t\tcurrentAdded.add(point.value)\r\n\r\n\t\t\t\t\t\tconst curInnerAggr = aggregations[point.time] || {\r\n\t\t\t\t\t\t\ttime,\r\n\t\t\t\t\t\t\tvalue: bigNumberify(0),\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (currentAdded.lt(currentAvailable)) {\r\n\t\t\t\t\t\t\tcurInnerAggr.value = curInnerAggr.value.add(point.value)\r\n\t\t\t\t\t\t\taggregations[point.time] = curInnerAggr\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\tcurInnerAggr.value = curInnerAggr.value.add(\r\n\t\t\t\t\t\t\t\tcurrentAdded.sub(currentAvailable)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\taggregations[point.time] = curInnerAggr\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (hasMinBalance && current.feeSubtracted) {\r\n\t\t\t\t\tcurrentAggr.value = value.add(currentTimeValue)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tchannels[channelId] = current\r\n\t\t\t\taggregations[time] = currentAggr\r\n\t\t\t\tall[time] = a.value || all[time]\r\n\r\n\t\t\t\treturn { aggregations, channels, all }\r\n\t\t\t},\r\n\t\t\t{ aggregations: {}, channels: {}, all: {} }\r\n\t\t)\r\n\r\n\t// NOTE: force to null values when value under limits but not naturally 0\r\n\tconst aggrWithNullValues = Object.values(aggregations).map(\r\n\t\t({ time, value }) => {\r\n\t\t\tconst isNull =\r\n\t\t\t\tall[time] === undefined ||\r\n\t\t\t\t(bigNumberify(value).isZero() && all[time] !== '0')\r\n\t\t\treturn { time, value: isNull ? null : value }\r\n\t\t}\r\n\t)\r\n\r\n\treturn aggrWithNullValues\r\n}\r\n\r\nexport function updateAccountAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\r\n\t\tconst side = selectSide(state)\r\n\t\tconst timeframe = selectAnalyticsTimeframe(state)\r\n\t\tconst allChannels = selectChannelsWithUserBalancesAll(state)\r\n\t\tconst feeTokens = selectFeeTokenWhitelist(state)\r\n\t\tconst withdrawTokens = selectRoutineWithdrawTokens(state)\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsParams(timeframe, side)\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\tidentityAnalytics({\r\n\t\t\t\t\t...opts,\r\n\t\t\t\t\tleaderAuth,\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(({ aggregates, metric }) => {\r\n\t\t\t\t\t\tconst aggrByChannelSegments =\r\n\t\t\t\t\t\t\tside === 'publisher' && metric === 'eventPayouts'\r\n\t\t\t\t\t\tlet aggr = aggrByChannelSegments\r\n\t\t\t\t\t\t\t? aggrByChannelsSegments({\r\n\t\t\t\t\t\t\t\t\taggr: aggregates.aggr,\r\n\t\t\t\t\t\t\t\t\tallChannels,\r\n\t\t\t\t\t\t\t\t\tfeeTokens,\r\n\t\t\t\t\t\t\t\t\twithdrawTokens,\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t: aggregates.aggr\r\n\r\n\t\t\t\t\t\tconst defaultValue = aggrByChannelSegments ? null : 0\r\n\r\n\t\t\t\t\t\taggregates.aggr = fillEmptyTime(aggr, timeframe, defaultValue)\r\n\t\t\t\t\t\taccountChanged =\r\n\t\t\t\t\t\t\taccountChanged || isAccountChanged(getState, account)\r\n\r\n\t\t\t\t\t\tif (!accountChanged) {\r\n\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\r\n\t\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\t\tvalue: { ...aggregates },\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\r\n\t\t\tawait Promise.all(allAnalytics)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAccountCampaignsAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { account } = getState().persist\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsCampaignsParams()\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst value = await identityCampaignsAnalytics({\r\n\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\tleaderAuth,\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\taccountChanged = accountChanged || isAccountChanged(getState, account)\r\n\r\n\t\t\t\t\treturn { opts, value }\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\treturn null\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tconst data = await Promise.all(allAnalytics)\r\n\r\n\t\t\tif (!accountChanged) {\r\n\t\t\t\tdata\r\n\t\t\t\t\t.filter(x => !!x)\r\n\t\t\t\t\t.forEach(({ opts, value }) =>\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype: types.UPDATE_ADVANCED_ANALYTICS,\r\n\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_CAMPAIGN_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAnalyticsTimeframe(timeframe) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_ANALYTICS_TIMEFRAME,\r\n\t\t\t\tvalue: timeframe,\r\n\t\t\t})\r\n\t\t\tupdateAccountAnalytics()(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resetAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ANALYTICS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateSlotsDemand = throttle(\r\n\tasync function(dispatch) {\r\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst demandAnalytics = await getUnitsStatsByType()\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_DEMAND_ANALYTICS,\r\n\t\t\t\tvalue: demandAnalytics,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SLOTS_DEMAND_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_SLOTS_DEMAND_ANALYTICS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, false)(dispatch)\r\n\t},\r\n\t5 * 60 * 1000,\r\n\t{ leading: true, trailing: false }\r\n)\r\n\r\nexport const updateSlotsDemandThrottled = () => dispatch => {\r\n\treturn updateSlotsDemand(dispatch)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { addSig, getSig } from 'services/auth/auth'\r\nimport { getSession, checkSession } from 'services/adex-market/actions'\r\nimport {\r\n\tgetRelayerConfigData,\r\n\tgetQuickWallet,\r\n\tbackupWallet,\r\n\tgetIdentityData,\r\n} from 'services/adex-relayer/actions'\r\nimport { updateSpinner, updateGlobalUi } from './uiActions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\r\nimport {\r\n\tremoveLegacyKey,\r\n\tgetWalletHash,\r\n\tgenerateSalt,\r\n\tgetRecoveryWalletData,\r\n} from 'services/wallet/wallet'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport {\r\n\tgetAccountStats,\r\n\tgetOutstandingBalance,\r\n} from 'services/smart-contracts/actions/stats'\r\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\r\nimport { addToast, confirmAction } from './uiActions'\r\nimport { getAllItems } from './itemActions'\r\nimport { updateSlotsDemandThrottled } from './analyticsActions'\r\nimport {\r\n\tgetEthers,\r\n\tgetEthereumProvider,\r\n\tethereumNetworkId,\r\n} from 'services/smart-contracts/ethers'\r\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\r\nimport {\r\n\tselectAccount,\r\n\tselectIdentity,\r\n\tselectAuth,\r\n\tselectWallet,\r\n\tselectSearchParams,\r\n\tselectAuthType,\r\n\tselectAccountIdentity,\r\n\tselectLoginDirectSide,\r\n} from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { push } from 'connected-react-router'\r\nimport {\r\n\tCREATING_SESSION,\r\n\tQUICK_WALLET_BACKUP,\r\n\tUPDATING_ACCOUNT_IDENTITY,\r\n} from 'constants/spinners'\r\nimport { campaignsLoop } from 'services/store-data/campaigns'\r\nimport statsLoop from 'services/store-data/account'\r\nimport {\r\n\tanalyticsLoop,\r\n\tanalyticsCampaignsLoop,\r\n} from 'services/store-data/analytics'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\n// MEMORY STORAGE\r\nexport function updateSignin(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SIGNIN,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSignin() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SIGNIN,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSISTENT STORAGE\r\nexport function createAccount(acc) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CREATE_ACCOUNT,\r\n\t\t\taccount: acc,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// LOGOUT\r\nexport function resetAccount() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ACCOUNT,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccount({ meta, newValues }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ACCOUNT,\r\n\t\t\tmeta: meta,\r\n\t\t\tnewValues: newValues,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateChannelsWithBalanceAll(channels) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_BALANCE_ALL,\r\n\t\t\tchannels,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetChannelsWithBalanceAll() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_CHANNELS_WITH_BALANCE_ALL,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateChannelsWithOutstandingBalance(channels) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\t\t\tchannels,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetChannelsWithOutstandingBalance() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGasData({ gasData }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GAS_DATA,\r\n\t\t\tgasData: gasData,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// getIdentityStatistics tooks to long some times\r\n// if the account is change we do not update the account\r\n// TODO: we can use something for abortable tasks\r\nexport function isAccountChanged(getState, account) {\r\n\tconst hasAuth = selectAuth(getState())\r\n\tconst accountCheck = selectAccount(getState())\r\n\tconst accountChanged =\r\n\t\t!hasAuth ||\r\n\t\t!accountCheck.wallet.address ||\r\n\t\taccountCheck.wallet.address !== account.wallet.address ||\r\n\t\t!accountCheck.identity.address ||\r\n\t\t!accountCheck.identity.address !== !account.identity.address\r\n\r\n\treturn accountChanged\r\n}\r\n\r\nexport function updateAccountStats() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst account = selectAccount(getState())\r\n\t\ttry {\r\n\t\t\tconst { identity, wallet } = account\r\n\t\t\tconst { address } = identity\r\n\t\t\tconst { all, withOutstandingBalance } = await getChannelsWithOutstanding({\r\n\t\t\t\tidentityAddr: address,\r\n\t\t\t\twallet,\r\n\t\t\t})\r\n\r\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\r\n\t\t\t\twallet,\r\n\t\t\t\taddress,\r\n\t\t\t\twithBalance: withOutstandingBalance,\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\r\n\t\t\t})\r\n\r\n\t\t\tconst { formatted, raw } = await getAccountStats({\r\n\t\t\t\taccount,\r\n\t\t\t\toutstandingBalanceMainToken,\r\n\t\t\t\tall,\r\n\t\t\t})\r\n\r\n\t\t\tif (!isAccountChanged(getState, account)) {\r\n\t\t\t\tawait updateChannelsWithBalanceAll(all)(dispatch)\r\n\t\t\t\tawait updateChannelsWithOutstandingBalance(withOutstandingBalance)(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tawait updateAccount({\r\n\t\t\t\t\tnewValues: { stats: { formatted, raw } },\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_STATS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAccountIdentityData() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\r\n\t\tconst identity = selectAccountIdentity(getState())\r\n\r\n\t\ttry {\r\n\t\t\tconst relayerData =\r\n\t\t\t\t(await getIdentityData({\r\n\t\t\t\t\tidentityAddr: identity.address,\r\n\t\t\t\t})) || {}\r\n\r\n\t\t\tconst updatedIdentity = { ...identity }\r\n\r\n\t\t\tupdatedIdentity.currentPrivileges = relayerData.currentPrivileges\r\n\t\t\tupdatedIdentity.isLimitedVolume = relayerData.isLimitedVolume\r\n\t\t\tupdatedIdentity.relayerData = relayerData\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { identity: updatedIdentity },\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPDATING_ACCOUNT_IDENTITY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidatorAuthTokens({ newAuth }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { identity } = getState().persist.account\r\n\r\n\t\tconst newIdentity = { ...identity }\r\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\r\n\r\n\t\t// We don't want to update account if there is no actual change\r\n\t\tif (\r\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\r\n\t\t\tJSON.stringify(newTokens)\r\n\t\t) {\r\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\r\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createSession({\r\n\twallet,\r\n\tidentity = {},\r\n\temail,\r\n\tdeleteLegacyKey,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tconst sessionSignature =\r\n\t\t\t\tgetSig({\r\n\t\t\t\t\taddr: newWallet.address,\r\n\t\t\t\t\tmode: newWallet.authType,\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t}) || null\r\n\r\n\t\t\tconst hasSession =\r\n\t\t\t\t!!sessionSignature &&\r\n\t\t\t\t(await checkSession({\r\n\t\t\t\t\tauthSig: sessionSignature,\r\n\t\t\t\t\tskipErrToast: true,\r\n\t\t\t\t}))\r\n\r\n\t\t\tif (hasSession) {\r\n\t\t\t\tnewWallet.authSig = sessionSignature\r\n\t\t\t} else {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tmode,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\r\n\r\n\t\t\t\tconst { status, expiryTime } = await getSession({\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\tmode: mode,\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t\tsignerAddress: newWallet.address,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (status === 'OK') {\r\n\t\t\t\t\taddSig({\r\n\t\t\t\t\t\taddr: wallet.address,\r\n\t\t\t\t\t\tsig: signature,\r\n\t\t\t\t\t\tmode: wallet.authType,\r\n\t\t\t\t\t\texpiryTime: expiryTime,\r\n\t\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tnewWallet.authSig = signature\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst account = {\r\n\t\t\t\temail: email,\r\n\t\t\t\twallet: newWallet,\r\n\t\t\t\tidentity: { ...identity },\r\n\t\t\t}\r\n\r\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taccount.identity.validatorAuthTokens = {\r\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\r\n\t\t\t}\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { ...account },\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (deleteLegacyKey) {\r\n\t\t\t\tawait removeLegacyKey({\r\n\t\t\t\t\temail: wallet.email,\r\n\t\t\t\t\tpassword: wallet.password,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst side = selectLoginDirectSide(getState())\r\n\r\n\t\t\tif (['advertiser', 'publisher'].includes(side)) {\r\n\t\t\t\tdispatch(push(`/dashboard/${side}`))\r\n\t\t\t\tupdateGlobalUi('goToSide', '')(dispatch)\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(push('/side-select'))\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getRelayerConfig() {\r\n\treturn async function(dispatch) {\r\n\t\tconst cfg = await getRelayerConfigData()\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\r\n\t\t\tcfg,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nasync function getNetworkId() {\r\n\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\r\n\tconst networkId = (await provider.getNetwork()).chainId\r\n\r\n\treturn networkId\r\n}\r\n\r\nasync function getNetworkData({ id }) {\r\n\tconst networkId = id || (await getNetworkId())\r\n\tconst network = ETHEREUM_NETWORKS[networkId] || {}\r\n\r\n\treturn network\r\n}\r\n\r\nasync function isMetamaskMatters(getState) {\r\n\tconst state = getState()\r\n\tconst searchParams = selectSearchParams(state)\r\n\tconst authType = selectAuthType(state)\r\n\r\n\tconst doesItMatter =\r\n\t\tauthType === AUTH_TYPES.METAMASK.name ||\r\n\t\t(!authType &&\r\n\t\t\tsearchParams.get('external') === 'metamask' &&\r\n\t\t\t(await getEthereumProvider()) === AUTH_TYPES.METAMASK.name)\r\n\r\n\treturn doesItMatter\r\n}\r\n\r\nexport function onMetamaskNetworkChange({ id } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (\r\n\t\t\t(await isMetamaskMatters(getState)) &&\r\n\t\t\tprocess.env.NODE_ENV !== (await getNetworkData({ id })).for\r\n\t\t) {\r\n\t\t\tconfirmAction(\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: translate('WARNING'),\r\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\r\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\r\n\t\t\t\t\t}),\r\n\t\t\t\t},\r\n\t\t\t\ttrue\r\n\t\t\t)(dispatch)\r\n\t\t} else {\r\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const onMetamaskAccountChange = (accountAddress = '') => {\r\n\treturn async function(_, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { authType, address = '' } = account.wallet\r\n\r\n\t\tif (\r\n\t\t\thasAuth &&\r\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\r\n\t\t\t(!accountAddress ||\r\n\t\t\t\taddress.toLowerCase() !== accountAddress.toLowerCase())\r\n\t\t) {\r\n\t\t\tlogOut()\r\n\t\t} else if (!hasAuth) {\r\n\t\t\tconst identity = selectIdentity(state)\r\n\t\t\tconst { identityContractOwner } = identity\r\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskAccountCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tif (await isMetamaskMatters(getState)) {\r\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\r\n\r\n\t\t\t// NOTE: using provider with ethereum.enable() seems to work\r\n\t\t\tonMetamaskAccountChange(provider.provider.selectedAddress)(_, getState)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskNetworkCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tconst id = await ethereumNetworkId()\r\n\t\tonMetamaskNetworkChange({ id })(_, getState)\r\n\t}\r\n}\r\n\r\nexport function metamaskChecks() {\r\n\treturn async function(_, getState) {\r\n\t\tmetamaskNetworkCheck()(_, getState)\r\n\t\tmetamaskAccountCheck()(_, getState)\r\n\t\tif (window.ethereum) {\r\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\r\n\t\t\t\tconsole.log('acc changed', accounts[0])\r\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\r\n\t\t\t})\r\n\t\t\twindow.ethereum.on('networkChanged', network => {\r\n\t\t\t\tconsole.log('networkChanged', network)\r\n\t\t\t\tonMetamaskNetworkChange({ id: network })(_, getState)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nasync function hasBackup({ email, password }) {\r\n\tconst salt = generateSalt(email)\r\n\tconst hash = await getWalletHash({ salt, password })\r\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\r\n\r\n\treturn !!encryptedWallet && encryptedWallet.wallet\r\n}\r\n\r\nasync function makeBackup({ email, password, authType }) {\r\n\tconst walletSalt = generateSalt(email)\r\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\r\n\tconst encryptedWallet = await getRecoveryWalletData({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tauthType,\r\n\t})\r\n\r\n\tawait backupWallet({\r\n\t\temail,\r\n\t\tsalt: walletSalt,\r\n\t\thash: walletHash,\r\n\t\tencryptedWallet,\r\n\t})\r\n}\r\n\r\nexport function ensureQuickWalletBackup() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { email, password, authType } = selectWallet(getState())\r\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\r\n\r\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\r\n\t\t\t\tawait makeBackup({ email, password, authType })\r\n\t\t\t}\r\n\t\t} catch (err) {}\r\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function loadAccountData() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst account = selectAccount(getState())\r\n\t\t!isAccountChanged(getState, account) &&\r\n\t\t\t(await updateAccountIdentityData()(dispatch, getState))\r\n\t\t!isAccountChanged(getState, account) &&\r\n\t\t\t(await getAllItems()(dispatch, getState))\r\n\r\n\t\t!isAccountChanged(getState, account) && (await statsLoop.start())\r\n\t\t!isAccountChanged(getState, account) && (await analyticsLoop.start())\r\n\t\t!isAccountChanged(getState, account) &&\r\n\t\t\t(await analyticsCampaignsLoop.start())\r\n\t\t!isAccountChanged(getState, account) && (await campaignsLoop.start())\r\n\r\n\t\tupdateSlotsDemandThrottled()(dispatch, getState)\r\n\t}\r\n}\r\n\r\nexport function stopAccountDataUpdate() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tanalyticsLoop.stop()\r\n\t\tanalyticsCampaignsLoop.stop()\r\n\t\tcampaignsLoop.stop()\r\n\t\tstatsLoop.stop()\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { updateSpinner } from './uiActions'\r\nimport { validEthAddress, freeAdExENS } from '../helpers/validators'\r\nimport { translate } from 'services/translations/translations'\r\nimport { addToast } from './uiActions'\r\nimport { bigNumberify, parseUnits } from 'ethers/utils'\r\nimport { validations, Joi, schemas, constants } from 'adex-models'\r\nimport { validPassword } from 'helpers/validators'\r\nimport { t, selectAuthType } from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport { getEmail } from 'services/adex-relayer/actions'\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst { campaignPut, account } = schemas\r\nconst { isNumberString } = validations\r\n\r\nexport function validateAddress({ addr, dirty, validate, name, nonERC20 }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst authType = selectAuthType(getState())\r\n\t\ttry {\r\n\t\t\tif (validate) validate(name, { isValid: false })\r\n\t\t\tupdateSpinner(name, dirty)(dispatch)\r\n\t\t\tconst { msg } = await validEthAddress({\r\n\t\t\t\taddr,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tnonERC20,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\t\t\tconst isValid = !msg\r\n\r\n\t\t\tif (validate) {\r\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(name, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateValidationErrors(item, newErrors) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\terrors: newErrors,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetValidationErrors(item, key) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\r\n\t\t\titem,\r\n\t\t\tkey,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function validate(\r\n\tvalidateId,\r\n\tkey,\r\n\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tif (!isValid) {\r\n\t\t\tlet errors = {}\r\n\t\t\terrors[key] = {\r\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t}\r\n\r\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\r\n\t\t} else if (removeAll) {\r\n\t\t\tresetValidationErrors(validateId)(dispatch)\r\n\t\t} else {\r\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const handleAfterValidation = async ({\r\n\tisValid,\r\n\tonValid,\r\n\tonInvalid,\r\n}) => {\r\n\tif (isValid && typeof onValid === 'function') {\r\n\t\tawait onValid()\r\n\t}\r\n\tif (!isValid && typeof onInvalid === 'function') {\r\n\t\tawait onInvalid()\r\n\t}\r\n}\r\n\r\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\r\n\t\tvalidate(validateId, 'emailCheck', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePassword(validateId, password, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = validPassword(password)\r\n\t\tvalidate(validateId, 'password', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePasswordCheck(\r\n\tvalidateId,\r\n\tpasswordCheck,\r\n\tpassword,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\r\n\t\tvalidate(validateId, 'passwordCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateTOS(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'tosCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateENS({ ens, dirty, validate, name }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { authType } = getState().persist.account.wallet\r\n\t\ttry {\r\n\t\t\tif (validate) validate(name, { isValid: false })\r\n\t\t\tupdateSpinner(name, dirty)(dispatch)\r\n\t\t\tconst { msg } = await freeAdExENS({\r\n\t\t\t\tens,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\t\t\tconst isValid = !msg\r\n\t\t\tupdateSpinner(name, false)(dispatch)\r\n\t\t\tif (validate)\r\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('ERR_VALIDATING_ENS_ADDRESS', error)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_ENS_ADDRESS', { args: [error] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\nexport function validateWallet(validateId, wallet, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!wallet && !!wallet.address\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateIdentityContractOwner(\r\n\tvalidateId,\r\n\tidentityContractOwner,\r\n\tdirty\r\n) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!identityContractOwner\r\n\t\tvalidate(validateId, 'identityContractOwner', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateAccessWarning(validateId, accepted, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!accepted\r\n\t\tvalidate(validateId, 'accessWarningCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignUnits(validateId, adUnits, dirty) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = !!adUnits && adUnits.length\r\n\t\tvalidate(validateId, 'adUnits', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignValidators({ validateId, validators, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\t!!validators &&\r\n\t\t\tvalidators.length === 2 &&\r\n\t\t\t!!validators[0] &&\r\n\t\t\t!!validators[1] &&\r\n\t\t\t!!validators[0].id &&\r\n\t\t\t!!validators[0].url &&\r\n\t\t\tvalidators[0].feeNum !== undefined &&\r\n\t\t\tvalidators[0].feeDen !== undefined &&\r\n\t\t\tvalidators[0].feeAddr !== undefined &&\r\n\t\t\t!!validators[1].id &&\r\n\t\t\t!!validators[1].url &&\r\n\t\t\tvalidators[1].feeNum !== undefined &&\r\n\t\t\tvalidators[1].feeDen !== undefined &&\r\n\t\t\tvalidators[0].feeAddr !== undefined\r\n\r\n\t\tvalidate(validateId, 'validators', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nconst validateAmounts = ({\r\n\tmaxDeposit = bigNumberify(0),\r\n\tdepositAmount,\r\n\tminPerImpression,\r\n}) => {\r\n\tlet error = null\r\n\tif (!depositAmount.isZero() && depositAmount.gt(maxDeposit)) {\r\n\t\terror = {\r\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\r\n\t\t\tprop: 'depositAmount',\r\n\t\t}\r\n\t}\r\n\tif (!depositAmount.isZero() && depositAmount.lt(minPerImpression)) {\r\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\r\n\t}\r\n\tif (depositAmount.lte(bigNumberify(0))) {\r\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\r\n\t}\r\n\tif (minPerImpression.lte(bigNumberify(0))) {\r\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nexport function validateWithdrawAmount({\r\n\tvalidateId,\r\n\tamountToWithdraw,\r\n\tavailableIdentityBalanceMainTokenRaw,\r\n\tavailableIdentityBalanceMainTokenFormatted,\r\n\tdecimals,\r\n\tsymbol,\r\n\terrorMsg,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tlet isValid = isNumberString(amountToWithdraw)\r\n\r\n\t\tlet msg = errorMsg || 'ERR_INVALID_AMOUNT_VALUE'\r\n\t\tlet args = []\r\n\t\tlet amount = isValid ? parseUnits(amountToWithdraw, decimals) : null\r\n\t\tif (errorMsg) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = errorMsg\r\n\t\t} else if (isValid && amount.isZero()) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_ZERO_WITHDRAW_AMOUNT'\r\n\t\t} else if (\r\n\t\t\tisValid &&\r\n\t\t\tamount.gt(bigNumberify(availableIdentityBalanceMainTokenRaw))\r\n\t\t) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\r\n\t\t\targs = [availableIdentityBalanceMainTokenFormatted, symbol]\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'amountToWithdraw', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateNumberString({ validateId, prop, value, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid = isNumberString(value)\r\n\r\n\t\tvalidate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_INVALID_AMOUNT' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignAmount({\r\n\tvalidateId,\r\n\tprop,\r\n\tvalue,\r\n\tdirty,\r\n\terrMsg,\r\n\tdepositAmount,\r\n\tminPerImpression,\r\n\tmaxDeposit,\r\n\tdecimals,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValidNumber = isNumberString(value)\r\n\t\tlet isValid = isValidNumber && parseUnits(value, decimals)\r\n\t\tlet msg = errMsg || 'ERR_INVALID_AMOUNT'\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst deposit = prop === 'depositAmount' ? value : depositAmount\r\n\t\t\tconst min = prop === 'minPerImpression' ? value : minPerImpression\r\n\r\n\t\t\tconst isValidDeposit = isNumberString(deposit)\r\n\t\t\tconst isValidMin = isNumberString(min)\r\n\r\n\t\t\tif (isValidDeposit && isValidMin) {\r\n\t\t\t\tconst result = validateAmounts({\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t\tdepositAmount: parseUnits(deposit, decimals),\r\n\t\t\t\t\tminPerImpression: parseUnits(min, decimals),\r\n\t\t\t\t})\r\n\r\n\t\t\t\tisValid = !result.error\r\n\t\t\t\tmsg = result.error ? result.error.message : ''\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalidate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nconst MIN_CAMPAIGN_PERIOD = 1 * 60 * 60 * 1000 // 1 hour\r\n\r\nconst getCampaignDatesValidation = ({\r\n\tcreated = Date.now(),\r\n\twithdrawPeriodStart,\r\n\tactiveFrom,\r\n}) => {\r\n\tlet error = null\r\n\r\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\r\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'withdrawPeriodStart' }\r\n\t} else if (\r\n\t\twithdrawPeriodStart &&\r\n\t\tactiveFrom &&\r\n\t\twithdrawPeriodStart - activeFrom < MIN_CAMPAIGN_PERIOD\r\n\t) {\r\n\t\terror = {\r\n\t\t\tmessage: 'ERR_MIN_CAMPAIGN_PERIOD',\r\n\t\t\targs: ['1', 'HOUR'],\r\n\t\t\tprop: 'withdrawPeriodStart',\r\n\t\t}\r\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\r\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\r\n\t} else if (activeFrom && activeFrom < created) {\r\n\t\terror = { message: 'ERR_START_BEFORE_NOW' }\r\n\t} else if (activeFrom && !withdrawPeriodStart) {\r\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\r\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\r\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nexport function validateCampaignDates({\r\n\tvalidateId,\r\n\tprop,\r\n\tvalue,\r\n\tdirty,\r\n\twithdrawPeriodStart,\r\n\tactiveFrom,\r\n\tcreated,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst withdraw =\r\n\t\t\tprop === 'withdrawPeriodStart' ? value : withdrawPeriodStart\r\n\t\tconst from = prop === 'activeFrom' ? value : activeFrom\r\n\r\n\t\tconst result = getCampaignDatesValidation({\r\n\t\t\twithdrawPeriodStart: withdraw,\r\n\t\t\tactiveFrom: from,\r\n\t\t\tcreated,\r\n\t\t})\r\n\r\n\t\tvalidate(validateId, 'activeFrom', {\r\n\t\t\tisValid: !!from,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: 'ERR_NO_DATE_SET',\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tvalidate(validateId, 'withdrawPeriodStart', {\r\n\t\t\tisValid: !(result.error && result.error.prop === 'withdrawPeriodStart'),\r\n\t\t\terr: {\r\n\t\t\t\tmsg: result.error ? result.error.message : '',\r\n\t\t\t\targs: result.error && (result.error.args || []),\r\n\t\t\t},\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tconst isValid = !result.error\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateCampaignTitle({ validateId, title, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst result = Joi.validate(title, campaignPut.title)\r\n\r\n\t\tconst isValid = !result.error\r\n\r\n\t\tvalidate(validateId, 'title', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEthAddress({\r\n\tvalidateId,\r\n\tprop,\r\n\taddr,\r\n\tnonZeroAddr = true,\r\n\tnonERC20 = true,\r\n\tdirty,\r\n\tauthType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { msg } = await validEthAddress({\r\n\t\t\taddr,\r\n\t\t\tnonZeroAddr,\r\n\t\t\tnonERC20,\r\n\t\t\tauthType,\r\n\t\t})\r\n\r\n\t\tconst isValid = !msg\r\n\r\n\t\tawait validate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validatePrivilegesAddress({\r\n\tvalidateId,\r\n\tsetAddr = '',\r\n\twalletAddr = '',\r\n\tprivLevel,\r\n\tauthType,\r\n\twarningAccepted,\r\n\tdirty,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isCurrentAddress =\r\n\t\t\tsetAddr && setAddr.toLowerCase() === walletAddr.toLowerCase()\r\n\t\tlet isValid = warningAccepted || !isCurrentAddress\r\n\r\n\t\tlet msg = ''\r\n\t\tconst args = [`PRIV_${privLevel}_LABEL`, authType.toUpperCase()]\r\n\t\tif (isCurrentAddress && privLevel === 0) {\r\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_0'\r\n\t\t} else if (isCurrentAddress && privLevel === 1) {\r\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_1'\r\n\t\t} else if (isCurrentAddress && privLevel >= 2) {\r\n\t\t\tisValid = true\r\n\t\t} else if (!isCurrentAddress) {\r\n\t\t\tisValid = true\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'setAddrWarning', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg, args },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn { isValid, msg }\r\n\t}\r\n}\r\n\r\nexport function validatePrivLevel({ validateId, privLevel, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst isValid =\r\n\t\t\tObject.values(IdentityPrivilegeLevel).indexOf(privLevel) > -1\r\n\t\tawait validate(validateId, 'privLevel', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_PRIV_LEVEL_NOT_SELECTED' },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\nexport function validateSchemaProp({ validateId, value, prop, schema, dirty }) {\r\n\treturn async function(dispatch) {\r\n\t\tconst result = Joi.validate(value, schema)\r\n\t\tconst isValid = !result.error\r\n\r\n\t\tawait validate(validateId, prop, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n\r\nexport function validateEmail(validateId, email, dirty, validateNotExisting) {\r\n\treturn async function(dispatch) {\r\n\t\tconst result = Joi.validate(email, account.email)\r\n\t\tlet isValid = !result.error\r\n\t\tlet msg = result.error ? result.error.message : ''\r\n\r\n\t\tif (validateNotExisting && isValid) {\r\n\t\t\tconst { existing } = (await getEmail({ email })) || {}\r\n\t\t\tisValid = existing === false\r\n\t\t\tmsg = 'EMAIL_ALREADY_USED'\r\n\t\t}\r\n\r\n\t\tawait validate(validateId, 'email', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg },\r\n\t\t\tdirty,\r\n\t\t})(dispatch)\r\n\r\n\t\treturn isValid\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { getQuickWallet } from 'services/adex-relayer/actions'\r\nimport { updateSpinner, addToast, handleAfterValidation } from 'actions'\r\nimport {\r\n\tgetOwnerIdentities,\r\n\tregAccount,\r\n\tgetIdentityData,\r\n} from 'services/adex-relayer/actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { createSession } from './accountActions'\r\n\r\nimport {\r\n\tgetIdentityDeployData,\r\n\twithdrawFromIdentity,\r\n\taddIdentityENS,\r\n\tsetIdentityPrivilege,\r\n\twithdrawOtherTokensFromIdentity,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport {\r\n\taddDataToWallet,\r\n\tgetWalletHash,\r\n\tgetLocalWallet,\r\n\tmigrateLegacyWallet,\r\n\twalletInfo,\r\n\tcreateLocalWallet,\r\n\tgenerateSalt,\r\n} from 'services/wallet/wallet'\r\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\r\nimport { selectAccount, selectIdentity, selectAuthType } from 'selectors'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport {\r\n\tvalidate,\r\n\tvalidateEmail,\r\n\tvalidateEmailCheck,\r\n\tvalidatePassword,\r\n\tvalidatePasswordCheck,\r\n\tvalidateTOS,\r\n\tvalidateWallet,\r\n\tvalidateIdentityContractOwner,\r\n\tvalidateAccessWarning,\r\n} from './validationActions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tGETTING_OWNER_IDENTITIES,\r\n\tUPLOADING_ACCOUNT_DATA,\r\n} from 'constants/spinners'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\n\r\n// MEMORY STORAGE\r\nexport function updateIdentity(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetIdentity() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function initIdentity({ email, authType }) {\r\n\treturn function(dispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'email',\r\n\t\t\tvalue: email,\r\n\t\t})\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: 'authType',\r\n\t\t\tvalue: authType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// MEMORY STORAGE\r\nexport function updateWallet(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WALLET,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWallet() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WALLET,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function onUploadLocalWallet(event) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\r\n\t\tconst file = event.target.files[0]\r\n\t\tconst reader = new FileReader()\r\n\r\n\t\treader.onload = ev => {\r\n\t\t\ttry {\r\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\r\n\t\t\t\tif (\r\n\t\t\t\t\t!obj ||\r\n\t\t\t\t\t!obj.key ||\r\n\t\t\t\t\t!obj.wallet ||\r\n\t\t\t\t\t!obj.wallet.data ||\r\n\t\t\t\t\t!obj.wallet.identity ||\r\n\t\t\t\t\t!obj.wallet.privileges\r\n\t\t\t\t) {\r\n\t\t\t\t\tthrow new Error(translate('INVALID_JSON_DATA'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\r\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\r\n\t\t\t\t\taddToast({\r\n\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\tlabel: translate('SUCCESS_UPLOADING_ACCOUNT_DATA'),\r\n\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t})(dispatch)\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\t\targs: [err.message],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\r\n\t\t}\r\n\r\n\t\tconst onError = err => {\r\n\t\t\tconsole.error('Error uploading account data.', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\r\n\t\t}\r\n\r\n\t\treader.onerror = ev => {\r\n\t\t\treader.abort()\r\n\t\t\tonError(translate())\r\n\t\t}\r\n\r\n\t\treader.onabort = ev => {\r\n\t\t\tonError(translate('ABORTING_DATA_UPLOAD'))\r\n\t\t}\r\n\r\n\t\treader.readAsText(file)\r\n\t}\r\n}\r\n\r\nexport function setIdentityENS({ username }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tawait addIdentityENS({\r\n\t\t\t\tusername,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('ENS_SETUP_NOTIFICATION', { args: [username] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SETTING_ENS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_SETTING_ENS', {\r\n\t\t\t\t\targs: [err],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function identityWithdrawAny({\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\ttokenAddress,\r\n\ttokenDecimals,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await withdrawOtherTokensFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t\ttokenAddress,\r\n\t\t\t\ttokenDecimals,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function ownerIdentities({ owner, authType }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\r\n\t\t\tconst data = Object.entries(identityData).map(\r\n\t\t\t\tasync ([identityAddr, privLevel]) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst ens = await provider.lookupAddress(identityAddr)\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tidentity: identityAddr,\r\n\t\t\t\t\t\t\tprivLevel,\r\n\t\t\t\t\t\t\tens,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch {\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\r\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\r\n\r\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_OWNER_IDENTITIES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function addrIdentityPrivilege({ setAddr, privLevel }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await setIdentityPrivilege({\r\n\t\t\t\taccount,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tprivLevel,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function login() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tidentityData,\r\n\t\t\t\tidentityTxData,\r\n\t\t\t\tdeleteLegacyKey,\r\n\t\t\t\tregisterAccount,\r\n\t\t\t} = selectIdentity(getState())\r\n\r\n\t\t\tif (registerAccount) {\r\n\t\t\t\tawait regAccount({\r\n\t\t\t\t\towner: wallet.address,\r\n\t\t\t\t\temail: email.toLowerCase(),\r\n\t\t\t\t\t...identityTxData,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst relayerData =\r\n\t\t\t\t(await getIdentityData({\r\n\t\t\t\t\tidentityAddr: identityData.address,\r\n\t\t\t\t})) || {}\r\n\r\n\t\t\tconst identity = {\r\n\t\t\t\t...identityData,\r\n\t\t\t\taddress: relayerData.deployData._id,\r\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\r\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\r\n\t\t\t\trelayerData,\r\n\t\t\t}\r\n\r\n\t\t\tawait createSession({\r\n\t\t\t\tidentity,\r\n\t\t\t\twallet,\r\n\t\t\t\temail,\r\n\t\t\t\tdeleteLegacyKey,\r\n\t\t\t})(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_LOGIN', { args: [getErrorMsg(err)] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function validateQuickLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { password, email, authType } = identity\r\n\r\n\t\tlet wallet = {}\r\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\r\n\t\tlet actualAuthType = authType\r\n\r\n\t\ttry {\r\n\t\t\tif (email && password) {\r\n\t\t\t\tlet walletData = await getLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (!walletData) {\r\n\t\t\t\t\tconst salt = generateSalt(email)\r\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\r\n\t\t\t\t\tconst { encryptedWallet } =\r\n\t\t\t\t\t\t(await getQuickWallet({\r\n\t\t\t\t\t\t\thash,\r\n\t\t\t\t\t\t})) || {}\r\n\r\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\r\n\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tbackupWallet.wallet &&\r\n\t\t\t\t\t\tbackupWallet.key &&\r\n\t\t\t\t\t\tbackupWallet.wallet.data &&\r\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\r\n\t\t\t\t\t\tbackupWallet.wallet.privileges\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\r\n\t\t\t\t\t\tactualAuthType = info.authType\r\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\r\n\r\n\t\t\t\t\t\twalletData = await getLocalWallet({\r\n\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\tpassword,\r\n\t\t\t\t\t\t\tauthType: actualAuthType,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\r\n\t\t\t\t\twallet = { ...walletData.data }\r\n\t\t\t\t\twallet.email = email\r\n\t\t\t\t\twallet.password = password\r\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\r\n\t\t\t\t\twallet.identity = {\r\n\t\t\t\t\t\taddress: walletData.identity,\r\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!authType) {\r\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\r\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\r\n\t\t\t\t\tdispatch\r\n\t\t\t\t)\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\r\n\t\t\terror = err\r\n\t\t}\r\n\r\n\t\tconst isValid = !!wallet.address\r\n\r\n\t\tvalidate(validateId, 'wallet', {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\r\n\t\t\tdirty: dirty,\r\n\t\t})(dispatch)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tawait login()(dispatch, getState)\r\n\t\t}\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateStandardLogin({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identity = selectIdentity(getState())\r\n\t\t\tconst { wallet, identityContractAddress } = identity\r\n\t\t\tconst { address } = wallet\r\n\r\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\r\n\t\t\tconst identityData = {\r\n\t\t\t\taddress: identityDataSplit[0],\r\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\r\n\t\t\t}\r\n\r\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\r\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\tconst isValid = !!identityData.address\r\n\r\n\t\t\tvalidate(validateId, 'identityContractAddress', {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_STANDARD_LOGIN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityAddr, email, wallet } = identity\r\n\t\ttry {\r\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\r\n\t\t\tif (!identityAddr && wallet && !!email) {\r\n\t\t\t\tconst walletAddr = wallet.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: txData.identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\r\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\r\n\t\t\t}\r\n\r\n\t\t\tawait validate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_FULL_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickDeploy({ validateId, dirty }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityAddr, email, password } = identity\r\n\t\ttry {\r\n\t\t\tlet isValid = !!identityAddr && email && password\r\n\r\n\t\t\tif (!identityAddr && email && password) {\r\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\r\n\r\n\t\t\t\tconst walletData = await createLocalWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\twalletData.email = email\r\n\t\t\t\twalletData.password = password\r\n\r\n\t\t\t\tconst walletAddr = walletData.address\r\n\r\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\r\n\r\n\t\t\t\tconst identityAddr = txData.identityAddr\r\n\t\t\t\tconst identityData = {\r\n\t\t\t\t\taddress: identityAddr,\r\n\t\t\t\t\tprivileges: txData.privileges,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tawait addDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'identity',\r\n\t\t\t\t\tdataValue: identityAddr,\r\n\t\t\t\t})\r\n\t\t\t\tawait addDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t\tdataKey: 'privileges',\r\n\t\t\t\t\tdataValue: identityData.privileges,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\r\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\r\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\r\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\r\n\r\n\t\t\t\tisValid = !!identityAddr\r\n\t\t\t}\r\n\r\n\t\t\tawait validate(validateId, 'identityAddr', {\r\n\t\t\t\tisValid,\r\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tawait login()(dispatch, getState)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_QUICK_DEPLOY', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { email, emailCheck, password, passwordCheck, tosCheck } = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\r\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\r\n\t\t\t\tdispatch,\r\n\t\t\t\tgetState\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst {\r\n\t\t\twallet,\r\n\t\t\tidentityContractOwner,\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\ttosCheck,\r\n\t\t\taccessWarningCheck,\r\n\t\t} = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\t// validate wallet again in case of step skip\r\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\r\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\r\n\t\t\t// validate step fields\r\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\r\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\r\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\r\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tupdateSpinner(validateId, true)(dispatch)\r\n\t\t\tawait validateFullDeploy({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tdirty,\r\n\t\t\t\tskipSpinnerUpdate: true,\r\n\t\t\t})(dispatch, getState)\r\n\t\t}\r\n\r\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateContractOwner({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst identity = selectIdentity(getState())\r\n\t\tconst { identityContractOwner, wallet } = identity\r\n\r\n\t\tconst validations = await Promise.all([\r\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\r\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\r\n\t\t\t\tdispatch\r\n\t\t\t),\r\n\t\t])\r\n\r\n\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tupdateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateIdentityWallet({\r\n\taddress,\r\n\tauthType,\r\n\thdWalletAddrPath,\r\n\thdWalletAddrIdx,\r\n\tpath,\r\n\tchainId,\r\n\tsignType,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst wallet = {\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t}\r\n\r\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\r\n\t\tupdateIdentity('wallet', wallet)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function handleSignupLink(search) {\r\n\treturn function(dispatch) {\r\n\t\tconst searchParams = new URLSearchParams(search)\r\n\r\n\t\tconst email = searchParams.get('signup-email')\r\n\r\n\t\tif (email) {\r\n\t\t\tupdateIdentity('email', email)(dispatch)\r\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resolveEnsAddress({ address }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst authType = selectAuthType(state)\r\n\t\tupdateSpinner(`ens-${address}`, true)(dispatch)\r\n\r\n\t\ttry {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst name = await provider.lookupAddress(address)\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_RESOLVE_ENS_ADDRESS,\r\n\t\t\t\titem: address,\r\n\t\t\t\tvalue: name,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_RESOLVING_ENS_ADDRESS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_RESOLVING_ENS_ADDRESS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(`ens-${address}`, false)(dispatch)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewBid({ bidId, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewBid({ bidId }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\n\r\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_BIDS,\r\n\t\t\tadvBids: advBids,\r\n\t\t\tpubBids: pubBids,\r\n\t\t\tbidsById: bidsById,\r\n\t\t})\r\n\t}\r\n}\r\nexport const resetAllBids = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_BIDS,\r\n\t\t})\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tupdateSpinner,\r\n\thandleAfterValidation,\r\n\tupdateAccountIdentityData,\r\n\tvalidateEthAddress,\r\n\tvalidatePrivilegesAddress,\r\n\tvalidatePrivLevel,\r\n\tvalidateWithdrawAmount,\r\n} from 'actions'\r\nimport {\r\n\tselectNewTransactionById,\r\n\tselectWalletAddress,\r\n\tselectAuthType,\r\n\tselectAccount,\r\n\tselectAccountStatsFormatted,\r\n\tselectAccountStatsRaw,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport { getErrorMsg } from 'helpers/errors'\r\n\r\nimport { withdrawFromIdentity } from 'services/smart-contracts/actions/identity'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewTransaction({ tx, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewTransaction() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_NEW_TRANSACTIONS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewTransaction({ tx }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\nexport function addWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\tif (!tx || !tx.hash || !addr) return\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\r\n\t\t\tvalue: tx,\r\n\t\t\ttx: tx.hash,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// TODO: make update multiple\r\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function validatePrivilegesChange({\r\n\tstepsId,\r\n\tvalidateId,\r\n\ttxId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tawait updateAccountIdentityData()(dispatch, getState)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst { setAddr, warningAccepted, privLevel } = selectNewTransactionById(\r\n\t\t\tstate,\r\n\t\t\tstepsId\r\n\t\t)\r\n\t\tconst walletAddr = selectWalletAddress(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: setAddr,\r\n\t\t\t\tprop: 'setAddr',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidatePrivLevel({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\tconst validation = await validatePrivilegesAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\twalletAddr,\r\n\t\t\t\twarningAccepted,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tdirty,\r\n\t\t\t\tauthType,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tisValid = validation.isValid\r\n\r\n\t\t\tawait updateNewTransaction({\r\n\t\t\t\ttx: stepsId,\r\n\t\t\t\tkey: 'warningMsg',\r\n\t\t\t\tvalue: validation.msg,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateIdentityWithdraw({\r\n\tstepsId,\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\tawait updateAccountIdentityData()(dispatch, getState)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { symbol, decimals } = selectMainToken(state)\r\n\t\tconst { amountToWithdraw, withdrawTo } = selectNewTransactionById(\r\n\t\t\tstate,\r\n\t\t\tstepsId\r\n\t\t)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\r\n\t\t} = selectAccountStatsRaw(state)\r\n\t\tconst {\r\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\r\n\t\t} = selectAccountStatsFormatted(state)\r\n\r\n\t\t// const walletAddr = selectWalletAddress(state)\r\n\t\tconst authType = selectAuthType(state)\r\n\r\n\t\tconst inputValidations = await Promise.all([\r\n\t\t\tvalidateEthAddress({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\taddr: withdrawTo,\r\n\t\t\t\tprop: 'withdrawTo',\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tauthType,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t\tvalidateWithdrawAmount({\r\n\t\t\t\tvalidateId,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\tavailableIdentityBalanceMainTokenRaw,\r\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\r\n\t\t\t\tdecimals,\r\n\t\t\t\tsymbol,\r\n\t\t\t\tdirty,\r\n\t\t\t})(dispatch),\r\n\t\t])\r\n\r\n\t\tlet isValid = inputValidations.every(v => v === true)\r\n\r\n\t\tif (isValid) {\r\n\t\t\ttry {\r\n\t\t\t\tconst feesData = await withdrawFromIdentity({\r\n\t\t\t\t\taccount,\r\n\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tawait updateNewTransaction({\r\n\t\t\t\t\ttx: stepsId,\r\n\t\t\t\t\tkey: 'feesData',\r\n\t\t\t\t\tvalue: feesData,\r\n\t\t\t\t})(dispatch, getState)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tisValid = false\r\n\r\n\t\t\t\tawait validateWithdrawAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tamountToWithdraw,\r\n\t\t\t\t\tavailableIdentityBalanceMainTokenRaw,\r\n\t\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\r\n\t\t\t\t\tdecimals,\r\n\t\t\t\t\tsymbol,\r\n\t\t\t\t\terrorMsg: getErrorMsg(err),\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\texecute,\r\n\taddToast,\r\n\tupdateSpinner,\r\n\tupdateItems,\r\n\tupdateValidatorAuthTokens,\r\n\tupdateNewItem,\r\n\thandleAfterValidation,\r\n\tvalidateCampaignValidators,\r\n\tvalidateCampaignAmount,\r\n\tvalidateCampaignTitle,\r\n\tvalidateCampaignDates,\r\n\tvalidateCampaignUnits,\r\n\tconfirmAction,\r\n\tupdateSelectedCampaigns,\r\n} from 'actions'\r\nimport { push } from 'connected-react-router'\r\nimport { parseUnits } from 'ethers/utils'\r\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\r\nimport { getCampaigns } from 'services/adex-market/actions'\r\nimport {\r\n\topenChannel,\r\n\tcloseChannel,\r\n} from 'services/smart-contracts/actions/core'\r\nimport { lastApprovedState } from 'services/adex-validator/actions'\r\nimport { closeCampaignMarket } from 'services/adex-market/actions'\r\nimport { getErrorMsg } from 'helpers/errors'\r\nimport {\r\n\tt,\r\n\tselectAccount,\r\n\tselectNewCampaign,\r\n\tselectAuthSig,\r\n\tselectAuth,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { Campaign } from 'adex-models'\r\nimport {\r\n\tOPENING_CAMPAIGN,\r\n\tGETTING_CAMPAIGNS_FEES,\r\n\tPRINTING_CAMPAIGNS_RECEIPTS,\r\n} from 'constants/spinners'\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_LEADER_FEE_NUM = process.env.VALIDATOR_LEADER_FEE_NUM\r\nconst VALIDATOR_LEADER_FEE_DEN = process.env.VALIDATOR_LEADER_FEE_DEN\r\nconst VALIDATOR_LEADER_FEE_ADDR = process.env.VALIDATOR_LEADER_FEE_ADDR\r\n\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\nconst VALIDATOR_FOLLOWER_FEE_NUM = process.env.VALIDATOR_FOLLOWER_FEE_NUM\r\nconst VALIDATOR_FOLLOWER_FEE_DEN = process.env.VALIDATOR_FOLLOWER_FEE_DEN\r\nconst VALIDATOR_FOLLOWER_FEE_ADDR = process.env.VALIDATOR_FOLLOWER_FEE_ADDR\r\n\r\nexport function openCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\r\n\t\tconst account = selectAccount(getState())\r\n\t\ttry {\r\n\t\t\tawait getAllValidatorsAuthForIdentity({\r\n\t\t\t\twithBalance: [{ channel: campaign }],\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tconst { storeCampaign } = await openChannel({\r\n\t\t\t\tcampaign,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: storeCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('OPENING_CAMPAIGN_SENT_TO_RELAYER', {\r\n\t\t\t\t\targs: [storeCampaign.id],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_OPENING_CAMPAIGN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\r\n\t\treturn true\r\n\t}\r\n}\r\n\r\nexport const updateCampaignState = ({ campaign }) => {\r\n\treturn async dispatch => {\r\n\t\ttry {\r\n\t\t\tconst state = await lastApprovedState({ campaign })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.state = state\r\n\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_LAST_STATUS', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// TEMP for testing in production until 4.1 is deployed\r\nfunction getHumanFriendlyName(campaign) {\r\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\r\n\t\treturn 'Closed'\r\n\tswitch ((campaign.status || {}).name) {\r\n\t\tcase 'Active':\r\n\t\tcase 'Ready':\r\n\t\tcase 'Pending':\r\n\t\tcase 'Initializing':\r\n\t\tcase 'Waiting':\r\n\t\tcase 'Offline':\r\n\t\tcase 'Disconnected':\r\n\t\tcase 'Unhealthy':\r\n\t\tcase 'Invalid':\r\n\t\t\treturn 'Active'\r\n\t\tcase 'Expired':\r\n\t\tcase 'Exhausted':\r\n\t\tcase 'Withdraw':\r\n\t\t\treturn 'Completed'\r\n\t\tdefault:\r\n\t\t\treturn 'N/A'\r\n\t}\r\n}\r\n\r\nexport function updateUserCampaigns() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst { wallet, identity } = selectAccount(state)\r\n\t\tconst { authSig } = wallet\r\n\t\tconst { address } = identity\r\n\r\n\t\tif (hasAuth && authSig && address) {\r\n\t\t\ttry {\r\n\t\t\t\tconst campaigns = await getCampaigns({ authSig, creator: address })\r\n\t\t\t\tlet campaignsMapped = campaigns\r\n\t\t\t\t\t.filter(\r\n\t\t\t\t\t\tc => c.creator && c.creator.toLowerCase() === address.toLowerCase()\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.map(c => {\r\n\t\t\t\t\t\tconst campaign = { ...c.spec, ...c }\r\n\r\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\r\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn campaign\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\tupdateItems({\r\n\t\t\t\t\titems: campaignsMapped,\r\n\t\t\t\t\titemType: 'Campaign',\r\n\t\t\t\t})(dispatch)\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\r\n\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGNS', {\r\n\t\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function closeCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst authSig = selectAuthSig(state)\r\n\t\t\tconst { account } = state.persist\r\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\r\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.status = {\r\n\t\t\t\t...newCampaign.status,\r\n\t\t\t\thumanFriendlyName: 'Closed',\r\n\t\t\t}\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\tupdateValidatorAuthTokens({ newAuth: authTokens })(dispatch, getState)\r\n\t\t\tupdateUserCampaigns(dispatch, getState)\r\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: t('SUCCESS_CLOSING_CAMPAIGN'),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_CLOSING_CAMPAIGN', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function updateNewCampaign(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst currentCampaign = selectNewCampaign(getState())\r\n\t\tawait updateNewItem(\r\n\t\t\tcurrentCampaign,\r\n\t\t\tnewValues || { [prop]: value },\r\n\t\t\t'Campaign',\r\n\t\t\tCampaign\r\n\t\t)(dispatch)\r\n\t}\r\n}\r\n\r\nconst tempValidators = [\r\n\t{\r\n\t\tid: VALIDATOR_LEADER_ID,\r\n\t\turl: VALIDATOR_LEADER_URL,\r\n\t\tfeeNum: VALIDATOR_LEADER_FEE_NUM,\r\n\t\tfeeDen: VALIDATOR_LEADER_FEE_DEN,\r\n\t\tfeeAddr: VALIDATOR_LEADER_FEE_ADDR,\r\n\t},\r\n\t{\r\n\t\tid: VALIDATOR_FOLLOWER_ID,\r\n\t\turl: VALIDATOR_FOLLOWER_URL,\r\n\t\tfeeNum: VALIDATOR_FOLLOWER_FEE_NUM,\r\n\t\tfeeDen: VALIDATOR_FOLLOWER_FEE_DEN,\r\n\t\tfeeAddr: VALIDATOR_FOLLOWER_FEE_ADDR,\r\n\t},\r\n]\r\n\r\nexport function validateNewCampaignAdUnits({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\r\n\t\tconst state = getState()\r\n\t\tconst campaign = selectNewCampaign(state)\r\n\t\tconst { adUnits } = campaign\r\n\r\n\t\tconst isValid = await validateCampaignUnits({ validateId, adUnits, dirty })\r\n\r\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewCampaignFinance({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst {\r\n\t\t\t\tvalidators,\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\tminPerImpression,\r\n\t\t\t\ttitle,\r\n\t\t\t\tactiveFrom,\r\n\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\tcreated,\r\n\t\t\t\ttemp = {},\r\n\t\t\t} = campaign\r\n\r\n\t\t\tconst { maxChannelFees, maxDeposit } = temp\r\n\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\r\n\t\t\tif (!validators || !validators.length) {\r\n\t\t\t\t// TODO: temp - will need dropdown selector for the follower validator\r\n\t\t\t\tnewCampaign.validators = tempValidators\r\n\t\t\t\tawait updateNewCampaign('validators', newCampaign.validators)(\r\n\t\t\t\t\tdispatch,\r\n\t\t\t\t\tgetState\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateCampaignValidators({ validateId, validators, dirty })(dispatch),\r\n\t\t\t\tvalidateCampaignAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'depositAmount',\r\n\t\t\t\t\tvalue: depositAmount,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tminPerImpression,\r\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignAmount({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\tvalue: minPerImpression,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tdepositAmount,\r\n\t\t\t\t\tminPerImpression,\r\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\r\n\t\t\t\t\tmaxDeposit,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignTitle({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignDates({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'activeFrom',\r\n\t\t\t\t\tvalue: activeFrom,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tactiveFrom,\r\n\t\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\t\tcreated,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateCampaignDates({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'withdrawPeriodStart',\r\n\t\t\t\t\tvalue: withdrawPeriodStart,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t\tactiveFrom,\r\n\t\t\t\t\twithdrawPeriodStart,\r\n\t\t\t\t\tcreated,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tconst isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (typeof maxChannelFees !== 'string') {\r\n\t\t\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\r\n\r\n\t\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\t\tconst {\r\n\t\t\t\t\tfeesFormatted,\r\n\t\t\t\t\tmaxAvailable,\r\n\t\t\t\t\tmaxAvailableFormatted,\r\n\t\t\t\t} = await openChannel({\r\n\t\t\t\t\tcampaign: { ...newCampaign },\r\n\t\t\t\t\taccount,\r\n\t\t\t\t\tgetFeesOnly: true,\r\n\t\t\t\t\tgetMaxFees: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst newTemp = { ...temp }\r\n\t\t\t\tnewTemp.maxChannelFees = feesFormatted\r\n\t\t\t\tnewTemp.maxDeposit = maxAvailable\r\n\t\t\t\tnewTemp.maxDepositFormatted = maxAvailableFormatted\r\n\r\n\t\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\r\n\t\t\t}\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_VALIDATING_CAMPAIGN_FINANCE', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_VALIDATING_CAMPAIGN_FINANCE', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getCampaignActualFees() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst state = getState()\r\n\t\t\tconst campaign = selectNewCampaign(state)\r\n\t\t\tconst mainToken = selectMainToken(state)\r\n\t\t\tconst { temp = {}, depositAmount } = campaign\r\n\r\n\t\t\tconst account = selectAccount(state)\r\n\r\n\t\t\tconst { feesFormatted, fees } = await openChannel({\r\n\t\t\t\tcampaign: { ...campaign },\r\n\t\t\t\taccount,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t})\r\n\r\n\t\t\tconst totalSpend = parseUnits(depositAmount, mainToken.decimals).add(fees)\r\n\r\n\t\t\tconst totalSpendFormatted = formatTokenAmount(\r\n\t\t\t\ttotalSpend.toString(),\r\n\t\t\t\tmainToken.decimals || 18,\r\n\t\t\t\tfalse,\r\n\t\t\t\ttrue\r\n\t\t\t)\r\n\r\n\t\t\tconst newTemp = { ...temp }\r\n\t\t\tnewTemp.feesFormatted = feesFormatted\r\n\t\t\tnewTemp.totalSpendFormatted = totalSpendFormatted\r\n\r\n\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_FEES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_FEES', {\r\n\t\t\t\t\targs: [getErrorMsg(err)],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function handlePrintSelectedReceipts(selected) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, true)(dispatch)\r\n\t\tconfirmAction(\r\n\t\t\tasync () => {\r\n\t\t\t\tawait updateSelectedCampaigns(selected)(dispatch, getState)\r\n\t\t\t\tawait dispatch(push('/dashboard/advertiser/receipts'))\r\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\r\n\t\t\t},\r\n\t\t\tasync () => {\r\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\tconfirmLabel: t('OK'),\r\n\t\t\t\ttitle: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TITLE'),\r\n\t\t\t\ttext: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TEXT'),\r\n\t\t\t}\r\n\t\t)(dispatch, getState)\r\n\t}\r\n}\r\n","import {\r\n\tupdateSpinner,\r\n\tupdateNewItem,\r\n\thandleAfterValidation,\r\n\tvalidateSchemaProp,\r\n\tvalidateNumberString,\r\n} from 'actions'\r\nimport { numStringCPMtoImpression } from 'helpers/numbers'\r\nimport { selectMainToken, selectNewAdSlot } from 'selectors'\r\nimport { AdSlot, schemas } from 'adex-models'\r\nimport { verifyWebsite } from 'services/adex-market/actions'\r\n\r\nconst { adSlotPost } = schemas\r\n\r\nexport function updateNewSlot(prop, value, newValues) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst currentSlot = selectNewAdSlot(state)\r\n\t\tawait updateNewItem(\r\n\t\t\tcurrentSlot,\r\n\t\t\tnewValues || { [prop]: value },\r\n\t\t\t'AdSlot',\r\n\t\t\tAdSlot\r\n\t\t)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function validateNewSlotBasics({\r\n\tvalidateId,\r\n\tdirty,\r\n\tonValid,\r\n\tonInvalid,\r\n}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tawait updateSpinner(validateId, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst mainToken = selectMainToken()\r\n\t\t\tconst state = getState()\r\n\t\t\tconst slot = selectNewAdSlot(state)\r\n\t\t\tconst {\r\n\t\t\t\ttitle,\r\n\t\t\t\tdescription,\r\n\t\t\t\ttype,\r\n\t\t\t\twebsite,\r\n\t\t\t\tminPerImpression = null,\r\n\t\t\t\ttemp,\r\n\t\t\t} = slot\r\n\r\n\t\t\tconst validations = await Promise.all([\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: title,\r\n\t\t\t\t\tprop: 'title',\r\n\t\t\t\t\tschema: adSlotPost.title,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: description,\r\n\t\t\t\t\tprop: 'description',\r\n\t\t\t\t\tschema: adSlotPost.description,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: type,\r\n\t\t\t\t\tprop: 'type',\r\n\t\t\t\t\tschema: adSlotPost.type,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: website,\r\n\t\t\t\t\tprop: 'website',\r\n\t\t\t\t\tschema: adSlotPost.website,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t\tvalidateNumberString({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\tvalue: minPerImpression || '0',\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch),\r\n\t\t\t])\r\n\r\n\t\t\tlet isValid = validations.every(v => v === true)\r\n\r\n\t\t\tif (isValid) {\r\n\t\t\t\tisValid = await validateSchemaProp({\r\n\t\t\t\t\tvalidateId,\r\n\t\t\t\t\tvalue: {\r\n\t\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\r\n\t\t\t\t\t\t\tnumStr: minPerImpression,\r\n\t\t\t\t\t\t\tdecimals: mainToken.decimals,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\tschema: adSlotPost.minPerImpression,\r\n\t\t\t\t\tdirty,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\r\n\t\t\tconst { hostname, issues } = isValid\r\n\t\t\t\t? await verifyWebsite({ websiteUrl: website })\r\n\t\t\t\t: {}\r\n\t\t\tconst newTemp = { ...temp, hostname, issues }\r\n\t\t\tupdateNewSlot('temp', newTemp)(dispatch, getState)\r\n\r\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\r\n\t\t} catch (err) {}\r\n\r\n\t\tawait updateSpinner(validateId, false)(dispatch)\r\n\t}\r\n}\r\n","import * as common from './common'\r\nimport * as itemActions from './itemActions'\r\nimport * as uiActions from './uiActions'\r\nimport * as accountActions from './accountActions'\r\nimport * as identityActions from './identityActions'\r\nimport * as bidActions from './bidActions'\r\nimport * as transactionActions from './transactionActions'\r\nimport * as validationActions from './validationActions'\r\nimport * as analyticsActions from './analyticsActions'\r\nimport * as campaignActions from './campaignActions'\r\nimport * as newItemsActions from './newItemsActions'\r\n\r\n// keep it for class components that use connect and actions prop\r\n// without needing to change the code\r\nexport default {\r\n\t...common,\r\n\t...itemActions,\r\n\t...uiActions,\r\n\t...accountActions,\r\n\t...identityActions,\r\n\t...bidActions,\r\n\t...transactionActions,\r\n\t...validationActions,\r\n\t...analyticsActions,\r\n\t...campaignActions,\r\n\t...newItemsActions,\r\n}\r\n\r\n// used for minimal deps in hook components\r\n// import { execute, addTost } from 'actions'\r\n// execute(addTost())\r\nexport * from './common'\r\nexport * from './itemActions'\r\nexport * from './uiActions'\r\nexport * from './accountActions'\r\nexport * from './identityActions'\r\nexport * from './bidActions'\r\nexport * from './transactionActions'\r\nexport * from './validationActions'\r\nexport * from './analyticsActions'\r\nexport * from './campaignActions'\r\nexport * from './newItemsActions'\r\n","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nconst updateCfg = (current, type, cfg) => {\r\n\tconst newCfg = { ...current }\r\n\tnewCfg[type] = { ...cfg }\r\n\treturn newCfg\r\n}\r\n\r\nexport default function uiReducer(state = initialState.config, action) {\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RELAYER_CFG:\r\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import account from './accountReducer'\r\nimport signin from './signinReducer'\r\nimport identity from './identityReducer'\r\nimport wallet from './walletReducer'\r\nimport items from './itemsReducer'\r\nimport newItem from './newItemsReducer'\r\n// import currentItem from './currentItemsReducer'\r\nimport spinners from './spinnersReducer'\r\nimport ui from './uiReducer'\r\nimport toasts from './toastsReducer'\r\nimport confirm from './confirmReducer'\r\nimport nav from './navReducer'\r\nimport language from './languageReducer'\r\nimport validations from './validateItemsReducer'\r\nimport newTransactions from './newTransactionsReducer'\r\nimport web3Transactions from './web3TransactionsReducer'\r\nimport tags from './tagsReducer'\r\nimport ethNetwork from './ethNetworkReducer'\r\nimport config from './configReducer'\r\nimport analytics from './analyticsReducer'\r\nimport channels from './channelsReducer'\r\nimport selectedItems from './selectedItemsReducer'\r\nimport ensAddresses from './ensReducer'\r\nimport { filterActions } from 'redux-ignore'\r\nimport * as types from 'constants/actionTypes'\r\n\r\nexport const persistReducers = {\r\n\taccount,\r\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\r\n\tui, //: filterActions(ui, [types.UPDATE_UI]),\r\n\tlanguage,\r\n\tweb3Transactions,\r\n\ttags,\r\n\tethNetwork,\r\n\tconfig,\r\n\tanalytics,\r\n\tchannels,\r\n\tensAddresses,\r\n}\r\n\r\nexport const memoryReducers = {\r\n\tsignin,\r\n\tidentity,\r\n\twallet,\r\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\r\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\r\n\ttoasts,\r\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\r\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\r\n\tvalidations,\r\n\tselectedItems,\r\n\tnewTransactions,\r\n}\r\n","import {\r\n\tCREATE_ACCOUNT,\r\n\tRESET_ACCOUNT,\r\n\tUPDATE_ACCOUNT,\r\n} from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\nimport { Base, Account } from 'adex-models'\r\n\r\nexport default function accountReducer(state = initialState.account, action) {\r\n\tlet newState\r\n\tlet newAccount\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CREATE_ACCOUNT:\r\n\t\t\tnewAccount = { ...action.account }\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase RESET_ACCOUNT:\r\n\t\t\tnewAccount = initialState.account\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ACCOUNT:\r\n\t\t\tnewAccount = Base.updateObject({\r\n\t\t\t\titem: newState,\r\n\t\t\t\tnewValues: { ...action.newValues },\r\n\t\t\t\tobjModel: Account,\r\n\t\t\t})\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_ITEM,\r\n\tDELETE_ITEM,\r\n\tUPDATE_ITEM,\r\n\tREMOVE_ITEM_FROM_ITEM,\r\n\tADD_ITEM_TO_ITEM,\r\n\tUPDATE_ALL_ITEMS,\r\n\tRESET_ALL_ITEMS,\r\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\r\nimport initialState from 'store/initialState'\r\nimport { Item } from 'adex-models'\r\n\r\nexport default function itemsReducer(state = initialState.items, action) {\r\n\tlet newState\r\n\tlet newCollection\r\n\tlet newItem\r\n\tlet collectionId\r\n\tlet item\r\n\r\n\tconst collection = (state = {}, action) => {\r\n\t\tif (!action.item) return state\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t[action.item.id]: action.item,\r\n\t\t}\r\n\t}\r\n\r\n\tconst removeCollectionProp = (collection = {}, prop) => {\r\n\t\tlet newCol = { ...collection }\r\n\t\tdelete newCol[prop]\r\n\t\treturn newCol\r\n\t}\r\n\r\n\tif (action.item && action.itemType) {\r\n\t\tnewState = { ...state }\r\n\t\titem = { ...action.item }\r\n\t\tcollectionId = action.itemType\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_ITEM:\r\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\r\n\t\t\t// id is going to be set when it comes here\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase ADD_ITEM_TO_ITEM:\r\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase DELETE_ITEM:\r\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_ITEM_FROM_ITEM:\r\n\t\t\tnewItem = Item.removeItem(\r\n\t\t\t\tnewState[collectionId][item._id],\r\n\t\t\t\taction.toRemove\r\n\t\t\t)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ALL_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tconst newItems = action.items.reduce((items, item) => {\r\n\t\t\t\tconst currentItems = { ...items }\r\n\t\t\t\tconst newItem = { ...item }\r\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\r\n\t\t\t\treturn currentItems\r\n\t\t\t}, {})\r\n\r\n\t\t\tnewState[action.itemType] = { ...newState[action.itemType], ...newItems }\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_ITEMS:\r\n\t\t\tnewState = { ...initialState.items }\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_GLOBAL_UI, UPDATE_UI_BY_IDENTITY } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiReducer(state = initialState.ui, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_UI_BY_IDENTITY:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.byIdentity = { ...newState.byIdentity }\r\n\t\t\tnewState.byIdentity[action.identity] = {\r\n\t\t\t\t...newState.byIdentity[action.identity],\r\n\t\t\t}\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState.byIdentity[action.identity][action.category] = {\r\n\t\t\t\t\t...newState.byIdentity[action.identity][action.category],\r\n\t\t\t\t}\r\n\t\t\t\tnewState.byIdentity[action.identity][action.category][action.item] =\r\n\t\t\t\t\taction.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState.byIdentity[action.identity][action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_GLOBAL_UI:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.global = { ...newState.global }\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState.global[action.category] = { ...newState[action.category] }\r\n\t\t\t\tnewState.global[action.category][action.item] = action.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState.global[action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import initialState from 'store/initialState'\r\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\r\nimport { setLang } from 'services/translations/translations'\r\n\r\nexport default function languageReducer(state = initialState.language, action) {\r\n\tswitch (action.type) {\r\n\t\tcase CHANGE_LANGUAGE:\r\n\t\t\tlet newLang = action.lang || state\r\n\t\t\tsetLang(newLang)\r\n\t\t\treturn newLang\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_WEB3_TRANSACTION,\r\n\tUPDATE_WEB3_TRANSACTION,\r\n\tRESET_WEB3_TRANSACTION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function web3TransactionsReducer(\r\n\tstate = initialState.web3Transactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\tlet newAddrTxs\r\n\tlet pendingTxs\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateObj = ({ obj, key, val }) => {\r\n\t\tobj = obj || {}\r\n\t\tobj[key] = val\r\n\r\n\t\treturn obj\r\n\t}\r\n\r\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\r\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\r\n\t\t\tpTxs.push(newTx.hash)\r\n\t\t} else {\r\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\r\n\t\t}\r\n\r\n\t\treturn pTxs\r\n\t}\r\n\r\n\tif (!action.addr) {\r\n\t\treturn state\r\n\t}\r\n\r\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\r\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\r\n\r\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\r\n\t// If we keep the transactions on the node we can clean them from local storage on address change\r\n\tswitch (action.type) {\r\n\t\tcase ADD_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...action.value }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\r\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase RESET_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: { txHash: action.tx },\r\n\t\t\t})\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_TAGS:\r\n\t\t\tnewState = { ...state, ...action.tags }\r\n\t\t\treturn newState\r\n\t\tcase ADD_NEW_TAG:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.tag] = action.tag\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_GAS_DATA:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.gasData = { ...action.gasData }\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ANALYTICS,\r\n\tRESET_ANALYTICS,\r\n\tUPDATE_ANALYTICS_TIMEFRAME,\r\n\tUPDATE_ADVANCED_ANALYTICS,\r\n\tUPDATE_DEMAND_ANALYTICS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function analyticsReducer(\r\n\tstate = initialState.analytics,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.timeframe = action.value\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.side] = { ...newState[action.side] }\r\n\t\t\tnewState[action.side][action.eventType] = {\r\n\t\t\t\t...newState[action.side][action.eventType],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\r\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric][\r\n\t\t\t\taction.timeframe\r\n\t\t\t] = { ...action.value }\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ADVANCED_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.advanced = { ...newState.advanced }\r\n\t\t\tnewState.advanced[action.eventType] = {\r\n\t\t\t\t...action.value,\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_DEMAND_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.demand = action.value\r\n\t\t\treturn newState\r\n\t\tcase RESET_ANALYTICS:\r\n\t\t\tnewState = { ...initialState.analytics }\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_CHANNELS_WITH_BALANCE_ALL,\r\n\tRESET_CHANNELS_WITH_BALANCE_ALL,\r\n\tUPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n\tRESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function channelsReducer(state = initialState.channels, action) {\r\n\tlet newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_CHANNELS_WITH_BALANCE_ALL:\r\n\t\t\tnewState.withBalanceAll = { ...action.channels }\r\n\t\t\treturn newState\r\n\t\tcase RESET_CHANNELS_WITH_BALANCE_ALL:\r\n\t\t\tnewState.withBalanceAll = initialState.channels.withBalanceAll\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE:\r\n\t\t\tnewState.withOutstandingBalance = [...action.channels]\r\n\t\t\treturn newState\r\n\t\tcase RESET_CHANNELS_WITH_OUTSTANDING_BALANCE:\r\n\t\t\tnewState.withOutstandingBalance =\r\n\t\t\t\tinitialState.channels.withOutstandingBalance\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_RESOLVE_ENS_ADDRESS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function ensReducer(state = initialState.ensAddresses, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_RESOLVE_ENS_ADDRESS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function signinReducer(state = initialState.signin, action) {\r\n\tlet newState\r\n\tlet newSignin\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SIGNIN:\r\n\t\t\tnewSignin = { ...newState }\r\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\r\n\t\t\t\tnewSignin[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewSignin[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newSignin\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_SIGNIN:\r\n\t\t\tnewSignin = { ...initialState.signin }\r\n\t\t\tnewState = newSignin\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function identityReducer(state = initialState.identity, action) {\r\n\tlet newState\r\n\tlet newIdentity\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_IDENTITY:\r\n\t\t\tnewIdentity = newState\r\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\r\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewIdentity[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newIdentity\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_IDENTITY:\r\n\t\t\tnewIdentity = { ...initialState.identity }\r\n\t\t\tnewState = newIdentity\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function walletReducer(state = initialState.wallet, action) {\r\n\tlet newState\r\n\tlet newWallet\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_WALLET:\r\n\t\t\tnewWallet = newState\r\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\r\n\t\t\t\tnewWallet[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewWallet[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newWallet\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_WALLET:\r\n\t\t\tnewWallet = { ...initialState.wallet }\r\n\t\t\tnewState = newWallet\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_ITEM,\r\n\tRESET_NEW_ITEM,\r\n\tRESET_ALL_NEW_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newItemsReducer(state = initialState.newItem, action) {\r\n\tlet newState\r\n\tlet newItem\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...action.item }\r\n\t\t\tnewState[action.itemType] = newItem\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...initialState.newItem[action.item] }\r\n\t\t\tnewState[action.item] = newItem\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ALL_NEW_ITEMS:\r\n\t\t\tnewState = { ...initialState.newItem }\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function spinnersReducer(state = initialState.spinners, action) {\r\n\tconst newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SPINNER:\r\n\t\t\tnewState[action.spinner] = action.value\r\n\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewState['update' + action.item._id] = false\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function toastsReducer(state = initialState.toasts, action) {\r\n\tlet newState\r\n\tlet newToast\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_TOAST:\r\n\t\t\tnewToast = { ...action.toast }\r\n\t\t\tnewToast.added = Date.now()\r\n\t\t\tnewState = [newToast, ...state]\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_TOAST:\r\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n// import Helper from './../helpers/miscHelpers'\r\n\r\nexport default function confirmReducer(state = initialState.confirm, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CONFIRM_ACTION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.data = { ...action.confirm.data }\r\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\r\n\t\t\tnewState.onCancel = action.confirm.onCancel\r\n\t\t\tnewState.active =\r\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\r\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\r\n\r\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\r\n\t\t\tnewState.calledOn = Date.now()\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_NAV } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function navReducer(state = initialState.nav, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NAV:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ITEM_VALIDATION,\r\n\tRESET_ITEM_VALIDATION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function validateItemsReducer(\r\n\tstate = initialState.validations,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newErrors\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item] }\r\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\r\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\r\n\t\t\t\tdelete newErrors[action.key]\r\n\t\t\t} else if (newErrors && !action.key) {\r\n\t\t\t\tnewErrors = {}\r\n\t\t\t}\r\n\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SELECTED_ITEMS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function selectedItemsReducer(\r\n\tstate = initialState.selectedItems,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.collection] = action.selectedItems\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_TRANSACTION,\r\n\tRESET_NEW_TRANSACTION,\r\n\tRESET_ALL_NEW_TRANSACTIONS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newTransactionsReducer(\r\n\tstate = initialState.newTransactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateTx = ({ tx, key, val }) => {\r\n\t\ttx = tx || {}\r\n\t\ttx[key] = val\r\n\r\n\t\treturn tx\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_TRANSACTION:\r\n\t\t\tnewTx = {\r\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\r\n\t\t\t}\r\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\r\n\r\n\t\t\t// console.log('newTx', newTx)\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_NEW_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.newTransactions.default }\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_NEW_TRANSACTIONS:\r\n\t\t\tnewState = initialState.newTransactions\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\r\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\r\nimport thunk from 'redux-thunk'\r\nimport { persistReducers, memoryReducers } from 'reducers'\r\nimport history from './history'\r\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\r\nimport { persistStore, persistCombineReducers } from 'redux-persist'\r\nimport localStorage from 'redux-persist/lib/storage'\r\n// import session from 'redux-persist/lib/storage/session'\r\n\r\nconst reduxRouterMiddleware = routerMiddleware(history)\r\n\r\nconst persistConfig = {\r\n\tkey: 'persist',\r\n\tstorage: localStorage,\r\n}\r\n\r\n// const configSession = {\r\n//   key: 'session',\r\n//   storage: session,\r\n// }\r\n\r\n// const rootReducer = combineReducers(reducers)\r\n\r\n// TODO: make session reducer(signin) - RAM reducer (no persist)\r\nconst rootReducer = combineReducers({\r\n\tpersist: persistCombineReducers(persistConfig, persistReducers),\r\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\r\n\trouter: connectRouter(history),\r\n})\r\n\r\nconst logger = store => next => action => {\r\n\t// if (action.type === 'UPDATE_NEWITEM') {\r\n\t//   return next(action)\r\n\t// }\r\n\r\n\tconsole.groupCollapsed(action.type)\r\n\tconsole.info('dispatching', action)\r\n\tlet result = next(action)\r\n\tconsole.log('next state', store.getState())\r\n\tconsole.groupEnd(action.type)\r\n\treturn result\r\n}\r\n\r\nfunction configureStoreProd(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t]\r\n\r\n\tif (process.env.BUILD_TYPE === 'staging') {\r\n\t\tmiddlewares.push(logger)\r\n\t}\r\n\r\n\tlet store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcompose(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tlet persistor = persistStore(store)\r\n\r\n\treturn { persistor, store }\r\n}\r\n\r\nfunction configureStoreDev(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\r\n\t\treduxImmutableStateInvariant(),\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\tlogger,\r\n\t]\r\n\r\n\tconst composeEnhancers =\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\r\n\tconst store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tif (module.hot) {\r\n\t\t// Enable Webpack hot module replacement for reducers\r\n\t\tmodule.hot.accept('../reducers', () => {\r\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\r\n\t\t\tstore.replaceReducer(nextReducer)\r\n\t\t})\r\n\t}\r\n\r\n\tlet persistor = persistStore(store)\r\n\treturn { persistor, store }\r\n}\r\n\r\nconst configureStore =\r\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\r\n\r\nexport default configureStore()\r\n","import configureStore from './configureStore'\r\n\r\nexport default configureStore\r\n\r\nexport const store = configureStore.store\r\nexport const persistor = configureStore.persistor\r\nexport const dispatch = store.dispatch\r\nexport const getState = store.getState\r\n","// No automatic generation: we don't want to depend on fs, as we want to keep this universal\n// ls *-*.json | while read line; do printf \"\\\"`printf $line | cut -d '.' -f1`\\\": require(\\\"./$line\\\"),\\n\"; done\nmodule.exports = function () {\n  return {\n    \"bg-BG\": require(\"./bg-BG.json\"),\n    \"de-DE\": require(\"./de-DE.json\"),\n    \"en-US\": require(\"./en-US.json\"),\n    \"es-ES\": require(\"./es-ES.json\"),\n    \"fr-FR\": require(\"./fr-FR.json\"),\n    \"hr-HR\": require(\"./hr-HR.json\"),\n    \"hu-HU\": require(\"./hu-HU.json\"),\n    \"it-IT\": require(\"./it-IT.json\"),\n    \"nl-NL\": require(\"./nl-NL.json\"),\n    \"pt-BR\": require(\"./pt-BR.json\"),\n    \"pt-PT\": require(\"./pt-PT.json\"),\n    \"ru-RU\": require(\"./ru-RU.json\"),\n    \"se-SE\": require(\"./se-SE.json\"),\n    \"sr-RS\": require(\"./sr-RS.json\"),\n    \"zh-CN\": require(\"./zh-CN.json\")\n  };\n}; // ls *-*.json | while read line; do printf \"\\\"`printf $line | cut -d '.' -f1`\\\",\\n\"; done\n\n\nmodule.exports.all = [\"bg-BG\", \"da-DK\", \"de-DE\", \"en-US\", \"es-ES\", \"fr-FR\", \"he-IL\", \"hr-HR\", \"hu-HU\", \"it-IT\", \"nl-NL\", \"pt-BR\", \"pt-PT\", \"ru-RU\", \"se-SE\", \"sr-RS\", \"zh-CN\"];\nmodule.exports.onlyTranslated = [\"en-US\", \"es-ES\"];","import { Signer } from 'ethers'\r\nimport { ethers, utils } from 'ethers'\r\nimport LedgerEth from '@ledgerhq/hw-app-eth'\r\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\r\nimport HDKey from 'hdkey'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'\"\r\n\r\nexport default class LedgerSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t\tthis._transport = TransportU2F\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\taddrsFromPubKey = async (\r\n\t\tpublicKey = '',\r\n\t\tchainCode = '',\r\n\t\t{ from = 0, to = 19 } = {}\r\n\t) => {\r\n\t\tconst hdKey = new HDKey()\r\n\t\thdKey.publicKey = Buffer.from(publicKey, 'hex')\r\n\t\thdKey.chainCode = Buffer.from(chainCode, 'hex')\r\n\r\n\t\tconst addrs = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tconst derivedKey = hdKey.derive(`m/${index}`).publicExtendedKey\r\n\r\n\t\t\tconst addr = utils.HDNode.fromExtendedKey(derivedKey).address\r\n\r\n\t\t\taddrs.push({\r\n\t\t\t\taddress: addr,\r\n\t\t\t\tpath: `${this.path}/${index}`,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn addrs\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 5 } = {}) => {\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { publicKey, chainCode } = await eth.getAddress(\r\n\t\t\tthis.path,\r\n\t\t\tfalse,\r\n\t\t\ttrue\r\n\t\t)\r\n\r\n\t\tconst addresses = await this.addrsFromPubKey(publicKey, chainCode, {\r\n\t\t\tfrom,\r\n\t\t\tto,\r\n\t\t})\r\n\r\n\t\treturn addresses\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\t\tconst txUnsigned = utils.serializeTransaction(txProps).substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { r, s, v } = await eth.signTransaction(this.path, txUnsigned)\r\n\r\n\t\tconst signature = {\r\n\t\t\tr: '0x' + r,\r\n\t\t\ts: '0x' + s,\r\n\t\t\tv,\r\n\t\t}\r\n\r\n\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\treturn txSigned\r\n\t}\r\n\r\n\t/*\r\n\t * TODO: may not work.\r\n\t * The ledger device or u2f seems to broken\r\n\t * Can list the addresses\r\n\t * Can sign messages\r\n\t * Signs transactions\r\n\t * Actually it show the tx but does not return value after\r\n\t * confirmation on the device\r\n\t */\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (!opts.hex) {\r\n\t\t\tif (typeof message === 'string') {\r\n\t\t\t\tmessage = utils.toUtf8Bytes(message)\r\n\t\t\t}\r\n\r\n\t\t\tmessage = ethers.utils.hexlify(message)\r\n\t\t}\r\n\r\n\t\tmessage = message.substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\r\n\t\tconst signature = await eth.signPersonalMessage(this.path, message)\r\n\t\tsignature.r = '0x' + signature.r\r\n\t\tsignature.s = '0x' + signature.s\r\n\r\n\t\tconst { address } = await eth.getAddress(this.path)\r\n\r\n\t\tconst res = {\r\n\t\t\tsignature: ethers.utils.joinSignature(signature),\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LedgerSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","import base64 from 'base64url'\r\nimport ethers from 'ethers'\r\n\r\n// see https://github.com/ethereum/EIPs/issues/1341\r\n// Implements EIP 1341: Ethereum Web Tokens\r\n\r\nconst HEADER = base64.encode(\r\n\tJSON.stringify({\r\n\t\ttype: 'JWT',\r\n\t\talg: 'ETH',\r\n\t})\r\n)\r\n\r\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\r\n// .address is always checksummed\r\nfunction sign(signer, payload) {\r\n\tconst payloadEncoded = base64.encode(\r\n\t\tJSON.stringify({\r\n\t\t\t...payload,\r\n\t\t\taddress: signer.address,\r\n\t\t})\r\n\t)\r\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\r\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\r\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\r\n\t})\r\n}\r\n\r\nfunction verify(token) {\r\n\tconst parts = token.split('.')\r\n\tif (parts.length !== 3) {\r\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\r\n\t}\r\n\tconst msg = parts.slice(0, 2).join('.')\r\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\r\n\ttry {\r\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\r\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\r\n\t\treturn Promise.resolve({ from, payload })\r\n\t} catch (e) {\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n}\r\n\r\nexport default { sign, verify }\r\n","module.exports = Module;","import moment from 'moment'\r\n\r\n// TODO: separate exports - not class\r\nclass Helper {\r\n\tgetGuid() {\r\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t}\r\n\r\n\tgetRndHash32(prefix) {\r\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t\tif (prefix) {\r\n\t\t\th = prefix + h.substring(prefix.length)\r\n\t\t}\r\n\t\treturn h\r\n\t}\r\n\r\n\tgetRandomInt(min, max) {\r\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\r\n\t}\r\n\r\n\tgetRandomBool() {\r\n\t\treturn !!this.getRandomInt(0, 1)\r\n\t}\r\n\r\n\tgetRandomPropFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\r\n\t}\r\n\r\n\tgetRandomKeyFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn keys[(keys.length * Math.random()) << 0]\r\n\t}\r\n\r\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\r\n\t\t// TODO: fix +/- 1 day bug\r\n\t\tlet initial = moment.isMoment(initialMoment)\r\n\t\t\t? initialMoment.valueOf()\r\n\t\t\t: undefined\r\n\r\n\t\treturn moment(initial)\r\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\r\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\r\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\r\n\t}\r\n\r\n\thexToRgbaColorString = (hex, alpha) => {\r\n\t\tif (!hex || typeof hex !== 'string') {\r\n\t\t\tthrow new Error('Invalid color')\r\n\t\t} else if (hex.length === 4) {\r\n\t\t\thex = hex + hex.substr(1, 4)\r\n\t\t}\r\n\r\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\r\n\t\t\talpha = 1\r\n\t\t}\r\n\r\n\t\tconst hexToDec = h => {\r\n\t\t\treturn parseInt('0x' + h, 16)\r\n\t\t}\r\n\r\n\t\tlet r = hexToDec(hex.substr(1, 2))\r\n\t\tlet g = hexToDec(hex.substr(3, 2))\r\n\t\tlet b = hexToDec(hex.substr(5, 2))\r\n\r\n\t\treturn `rgba(${r},${g},${b},${alpha})`\r\n\t}\r\n\r\n\tgetQuery(queryParams) {\r\n\t\tif (\r\n\t\t\t!queryParams ||\r\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\r\n\t\t) {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t'?' +\r\n\t\t\t\tObject.keys(queryParams)\r\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\r\n\t\t\t\t\t.map(key => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tencodeURIComponent(key) +\r\n\t\t\t\t\t\t\t'=' +\r\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}, '')\r\n\t\t\t\t\t.join('&') || ''\r\n\t\t)\r\n\t}\r\n\r\n\tgetErrMsg = err => {\r\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\r\n\r\n\t\tif (stack.length > 1) {\r\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\r\n\t\t} else {\r\n\t\t\treturn (err.error || err || '').toString()\r\n\t\t}\r\n\t}\r\n\r\n\tisInt = int => {\r\n\t\treturn typeof int === 'number' && int % 1 === 0\r\n\t}\r\n\r\n\tshuffleArray = array => {\r\n\t\treturn [...array].sort(() => Math.random() - 0.5)\r\n\t}\r\n}\r\n\r\nexport default new Helper()\r\n","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/404-no.0ec9cb01.png\";","module.exports = __webpack_public_path__ + \"static/media/404-yes.ade3b1a3.png\";","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/GS-fund-ic.a3c1ce2c.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MWE5YjZhZS0zYjg3LWZlNDAtYjc2Zi05ZWQwZGY2M2IzOWMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowZjAyOTAwYy1mYWQxLTZkNDctYmMyZi0wZDg0ZTg5MDgzZDUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NTk2YjBhMi02OWJjLTVjNGUtOTIxZS1hNjcwMGNjZjIzYjQiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1OTZiMGEyLTY5YmMtNWM0ZS05MjFlLWE2NzAwY2NmMjNiNCIgc3RFdnQ6d2hlbj0iMjAyMC0wMi0xN1QxNjowODoxMSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjYxYTliNmFlLTNiODctZmU0MC1iNzZmLTllZDBkZjYzYjM5YyIgc3RFdnQ6d2hlbj0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pq0lBPoAABGCSURBVHja7d0JlBT1ncDx8TauuyYRdxVdTXY3Hk9WfZrEczUx3jMwI/c9HIJBOQSCQECQWwGVQ2PkUkCQYNQowWON0c0q66pI9OGiAkEuueWQ4Zb/VrUzzdycAz09n99739cw0wNidX1e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\"","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport moment from 'moment'\r\n\r\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\r\n\r\nconst processResponse = (res, dontThrow, skipRedirect) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tif (res.status === 401 || res.status === 403) {\r\n\t\t\tlogOut(skipRedirect)\r\n\t\t}\r\n\t\tif (!dontThrow) {\r\n\t\t\thandleRequesterErrorRes({ res, text })\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const getSession = ({\r\n\tidentity,\r\n\tmode,\r\n\tsignature,\r\n\tauthToken,\r\n\thash,\r\n\ttypedData,\r\n\tsignerAddress,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'auth/',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tidentity,\r\n\t\t\t\tmode,\r\n\t\t\t\tsignature,\r\n\t\t\t\tauthToken,\r\n\t\t\t\thash,\r\n\t\t\t\ttypedData,\r\n\t\t\t\tsignerAddress,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const checkSession = ({ authSig, skipErrToast }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'session',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tauthSig,\r\n\t\t\tskipErrToast,\r\n\t\t})\r\n\t\t.then(res => processResponse(res, true, true))\r\n}\r\n\r\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\r\n\tconst formData = new FormData()\r\n\tformData.append('media', imageBlob, imageName)\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'media',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nconst convertItemToJSON = item => {\r\n\tconst itemToConvert = { ...item }\r\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\r\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\r\n\t}\r\n\r\n\treturn JSON.stringify(itemToConvert)\r\n}\r\n\r\nexport const getAdUnits = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdUnit = ({ unit, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdUnit = ({ unit, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `units/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAdSlots = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdSlot = ({ slot, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdSlot = ({ slot, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `slots/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getCampaigns = ({ authSig, creator }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns/by-owner',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tnoCache: true,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${campaign.id}/close`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAllCampaigns = ({ all, statuses, byEarner } = {}) => {\r\n\tconst queryParams = {\r\n\t\t...(all && { all: true }),\r\n\t\t...(statuses && { status: statuses.join(',') }),\r\n\t\tbyEarner,\r\n\t}\r\n\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateCampaign = ({ campaign, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `campaigns/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(campaign),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const verifyWebsite = ({ websiteUrl }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots/verify-website',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON({ websiteUrl }),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { refreshCacheAndReload, execute, notifyNewTOS } from 'actions'\r\nglobal.meta = {\r\n\tcurrentVersion: packageJson.version,\r\n\tcurrentTOS: packageJson.tosVersion,\r\n}\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst semverGreaterThan = (versionA = '', versionB = '') => {\r\n\t\tconst versionsA = versionA.split(/\\./g)\r\n\r\n\t\tconst versionsB = versionB.split(/\\./g)\r\n\t\twhile (versionsA.length || versionsB.length) {\r\n\t\t\tconst a = Number(versionsA.shift())\r\n\r\n\t\t\tconst b = Number(versionsB.shift())\r\n\t\t\t// eslint-disable-next-line no-continue\r\n\t\t\tif (a === b) continue\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\treturn a > b || isNaN(b)\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(7)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst { latestVersion, latestTOS } = meta\r\n\t\t\t\tconst { currentVersion, currentTOS } = global.meta || {}\r\n\t\t\t\tconst shouldForceRefresh =\r\n\t\t\t\t\t!global.meta || semverGreaterThan(latestVersion, currentVersion)\r\n\t\t\t\tif (shouldForceRefresh) {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\trefreshCacheAndReload({\r\n\t\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tconst shouldNotifyNewTOS =\r\n\t\t\t\t\t!global.meta || semverGreaterThan(latestTOS, currentTOS)\r\n\t\t\t\tif (shouldNotifyNewTOS) {\r\n\t\t\t\t\texecute(notifyNewTOS())\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import { ethers, utils } from 'ethers'\r\nimport pbkdf2 from 'pbkdf2'\r\nimport {\r\n\tencrypt,\r\n\tdecrypt,\r\n\tencryptLegacy,\r\n\tdecryptLegacy,\r\n} from 'services/crypto/crypto'\r\nimport {\r\n\tloadFromLocalStorage,\r\n\tsaveToLocalStorage,\r\n\tgetKeys,\r\n\tremoveFromLocalStorage,\r\n} from 'helpers/localStorageHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tpbkdf2.pbkdf2(\r\n\t\t\tpass,\r\n\t\t\tsalt,\r\n\t\t\titerations,\r\n\t\t\tkeylen,\r\n\t\t\tdigiset,\r\n\t\t\t(err, derivedKey) => {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn reject(err)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst res = derivedKey.toString(encoding)\r\n\r\n\t\t\t\treturn resolve(res)\r\n\t\t\t}\r\n\t\t)\r\n\t})\r\n}\r\n\r\nasync function getCipherKey({ email, password }) {\r\n\tconst pass = generateSalt(password)\r\n\tconst salt = generateSalt(email)\r\n\r\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\r\n\r\n\treturn key\r\n}\r\n\r\nfunction isLegacyCrypto(authType) {\r\n\treturn !authType || authType === 'legacy' || authType === 'grant'\r\n}\r\n\r\n// Returns 12 random words\r\nexport function getRandomMnemonic() {\r\n\tconst randomEntropy = utils.randomBytes(16)\r\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\r\n\r\n\treturn mnemonic\r\n}\r\n\r\nexport async function generateWallet(mnemonic) {\r\n\tconst seed = mnemonic || getRandomMnemonic()\r\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\r\n\r\n\treturn {\r\n\t\tmnemonic,\r\n\t\tprivateKey: wallet.privateKey,\r\n\t\taddress: wallet.address,\r\n\t\tpath: wallet.path,\r\n\t}\r\n}\r\n\r\nasync function encrKey({ email, password, authType }) {\r\n\tif (!authType) {\r\n\t\treturn await encryptLegacy(email, password)\r\n\t} else if (typeof authType === 'string') {\r\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\r\n\t} else {\r\n\t\tthrow new Error('INVALID_TYPE')\r\n\t}\r\n}\r\n\r\nexport async function encrData({ email = '', password, data, authType }) {\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\tconst jsonData = JSON.stringify(data)\r\n\tif (isLegacy) {\r\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\r\n\t\treturn legacyEncrypted\r\n\t} else {\r\n\t\tconst encrypted = await encrypt(\r\n\t\t\tjsonData,\r\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\r\n\t\t)\r\n\t\treturn encrypted\r\n\t}\r\n}\r\n\r\nexport async function decrData({ email = '', password, data, authType }) {\r\n\tlet decryptedStr = ''\r\n\tconst isLegacy = isLegacyCrypto(authType)\r\n\r\n\tif (isLegacy) {\r\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\r\n\t} else {\r\n\t\tdecryptedStr = await decrypt(\r\n\t\t\tdata,\r\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\r\n\t\t)\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst decr = JSON.parse(decryptedStr)\r\n\t\treturn decr\r\n\t} catch (err) {\r\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\r\n\t}\r\n}\r\n\r\nexport async function createLocalWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tmnemonic,\r\n\tauthType = '',\r\n}) {\r\n\tconst walletData = await generateWallet(mnemonic)\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst data = await encrData({ data: walletData, email, password, authType })\r\n\tawait saveToLocalStorage({ data }, key)\r\n\r\n\twalletData.authType = authType\r\n\treturn walletData\r\n}\r\n\r\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\r\n\tconst wallet = await getLocalWallet({\r\n\t\temail,\r\n\t\tpassword,\r\n\t\tgetEncrypted: true,\r\n\t})\r\n\r\n\tif (wallet && wallet.data) {\r\n\t\tconst newKey = await encrKey({\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\r\n\t\t})\r\n\t\tsaveToLocalStorage(wallet, newKey)\r\n\t}\r\n}\r\n\r\nexport async function removeLegacyKey({ email = '', password = '' }) {\r\n\tconst key = await encrKey({ email, password })\r\n\tremoveFromLocalStorage(key)\r\n}\r\n\r\nexport async function addDataToWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tdataKey = '',\r\n\tdataValue = '',\r\n\tauthType,\r\n}) {\r\n\tif (dataKey === 'data') {\r\n\t\tthrow new Error('INVALID_DATA_KEY')\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (!wallet) {\r\n\t\tthrow new Error('WALLET_NOT_FOUND')\r\n\t}\r\n\r\n\tconst data = await encrData({ data: dataValue, email, password, authType })\r\n\twallet[dataKey] = data\r\n\tsaveToLocalStorage(wallet, key)\r\n}\r\n\r\nexport async function getRecoveryWalletData({ email, password, authType }) {\r\n\tif (!email || !password) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\treturn {\r\n\t\tkey,\r\n\t\twallet,\r\n\t}\r\n}\r\n\r\nexport async function getLocalWallet({\r\n\temail,\r\n\tpassword,\r\n\tauthType,\r\n\tgetEncrypted,\r\n}) {\r\n\tif (!email || !password) {\r\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\r\n\t}\r\n\r\n\tconst key = await encrKey({ email, password, authType })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (wallet) {\r\n\t\tif (getEncrypted) {\r\n\t\t\treturn wallet\r\n\t\t}\r\n\r\n\t\tconst walletKeys = Object.keys(wallet)\r\n\r\n\t\tconst decrypts = walletKeys.map(async key => {\r\n\t\t\t// props[key] = await decrData({\r\n\t\t\t// \tdata: wallet[key],\r\n\t\t\t// \temail,\r\n\t\t\t// \tpassword,\r\n\t\t\t// \tauthType,\r\n\t\t\t// })\r\n\r\n\t\t\tconst decryptedData = await decrData({\r\n\t\t\t\tdata: wallet[key],\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\r\n\t\t\treturn decryptedData\r\n\t\t})\r\n\r\n\t\tconst decryptedData = await Promise.all(decrypts)\r\n\r\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\r\n\t\t\tprops[key] = decryptedData[index]\r\n\t\t\treturn props\r\n\t\t}, {})\r\n\r\n\t\treturn decryptedWallet\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nfunction isWallet(item) {\r\n\treturn item && item.data && item.identity && item.privileges\r\n}\r\n\r\nexport function walletInfo(key, index, wallet) {\r\n\tconst split = key.split('-')\r\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\r\n\tconst authType = split[1] || 'legacy'\r\n\tconst name = mail || `Grant account # ${index + 1}`\r\n\r\n\tconst info = {\r\n\t\tkey,\r\n\t\twallet,\r\n\t\tname,\r\n\t\tauthType,\r\n\t}\r\n\r\n\treturn info\r\n}\r\n\r\nexport function getAllWallets() {\r\n\tconst walletKeys = getKeys()\r\n\t\t.map(key => {\r\n\t\t\treturn {\r\n\t\t\t\tkey,\r\n\t\t\t\titem: loadFromLocalStorage(key),\r\n\t\t\t}\r\n\t\t})\r\n\t\t.filter(({ item }) => isWallet(item))\r\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\r\n\r\n\treturn walletKeys\r\n}\r\n\r\nexport async function getWalletHash({ salt, password }) {\r\n\tconst passwordId = utils.id(password)\r\n\r\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\r\n\r\n\treturn hash\r\n}\r\n\r\nexport function generateSalt(dataStr) {\r\n\tif (typeof dataStr !== 'string') {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\r\n\t} else if (!dataStr.length) {\r\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\r\n\t}\r\n\r\n\tconst id = utils.id(dataStr)\r\n\tconst salt = utils.keccak256(id)\r\n\treturn salt\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetSigner,\r\n\tgetMultipleTxSignatures,\r\n} from 'services/smart-contracts/actions/ethers'\r\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\r\nimport { Contract } from 'ethers'\r\nimport {\r\n\tbigNumberify,\r\n\tparseUnits,\r\n\tgetAddress,\r\n\tInterface,\r\n\tkeccak256,\r\n\tid,\r\n} from 'ethers/utils'\r\nimport { generateAddress2 } from 'ethereumjs-util'\r\nimport { executeTx } from 'services/adex-relayer'\r\nimport {\r\n\tselectRelayerConfig,\r\n\tselectMainToken,\r\n\tselectFeeTokenWhitelist,\r\n\tselectSaiToken,\r\n\tt,\r\n} from 'selectors'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\r\nimport solc from 'solcBrowser'\r\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\r\nimport { contracts } from 'services/smart-contracts/contractsCfg'\r\nconst { AdExENSManager, ReverseRegistrar } = contracts\r\n\r\nconst ERC20 = new Interface(ERC20TokenABI)\r\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\r\nconst AdExENSManagerInterface = new Interface(AdExENSManager.abi)\r\nconst ReverseRegistrarInterface = new Interface(ReverseRegistrar.abi)\r\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\r\n\r\nexport async function getIdentityDeployData({\r\n\towner,\r\n\trelayerRoutineAuthValidUntil = 10648454444,\r\n}) {\r\n\tconst {\r\n\t\tidentityFactoryAddr,\r\n\t\trelayerAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tidentityRecoveryAddr,\r\n\t\tcoreAddr,\r\n\t\tmainToken,\r\n\t} = selectRelayerConfig()\r\n\r\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\r\n\r\n\tconst routineAuthorizationsRaw = [\r\n\t\t{\r\n\t\t\trelayer: relayerAddr,\r\n\t\t\toutpace: coreAddr,\r\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\r\n\t\t\tfeeTokenAddr: mainToken.address,\r\n\t\t\tfeeTokenAmount: '0x00',\r\n\t\t},\r\n\t]\r\n\r\n\tconst bytecode = getProxyDeployBytecode(\r\n\t\tbaseIdentityAddr,\r\n\t\tprivileges,\r\n\t\t{\r\n\t\t\tprivSlot: 0,\r\n\t\t\troutineAuthsSlot: 1,\r\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\r\n\t\t\t\tnew RoutineAuthorization(x).hash()\r\n\t\t\t),\r\n\t\t},\r\n\t\tsolc\r\n\t)\r\n\r\n\tconst salt = keccak256(owner)\r\n\r\n\tconst identityAddr = getAddress(\r\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tidentityFactoryAddr,\r\n\t\tbaseIdentityAddr,\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\tidentityAddr,\r\n\t\tprivileges,\r\n\t\troutineAuthorizationsRaw,\r\n\t}\r\n}\r\n\r\nexport async function withdrawFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst mainToken = selectMainToken()\r\n\tconst { decimals, symbol, address: tokenAddr } = mainToken\r\n\tconst { wallet, identity, stats } = account\r\n\tconst { authType } = wallet\r\n\tconst { availableIdentityBalanceMainToken } = stats.raw\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: tokenAddr,\r\n\t\tto: tokenAddr,\r\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\r\n\t\twithdrawTx: true,\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\tamountInMainTokenNeeded: toWithdraw,\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\r\n\r\n\tif (fees.totalBN.gt(mtBalance)) {\r\n\t\tthrow new Error(\r\n\t\t\tt('ERR_INSUFFICIENT_BALANCE_WITHDRAW', {\r\n\t\t\t\targs: [\r\n\t\t\t\t\t`${formatTokenAmount(\r\n\t\t\t\t\t\tmtBalance.toString(),\r\n\t\t\t\t\t\tdecimals,\r\n\t\t\t\t\t\tfalse,\r\n\t\t\t\t\t\t2\r\n\t\t\t\t\t)} ${symbol}`,\r\n\t\t\t\t\t`${fees.total} ${symbol}`,\r\n\t\t\t\t\t`${formatTokenAmount(toWithdraw.toString(), decimals)} ${symbol}`,\r\n\t\t\t\t],\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\r\n\r\n\tlet actualWithdrawAmount = toWithdraw\r\n\r\n\tif (toWithdraw.gt(maxWithdraw)) {\r\n\t\tactualWithdrawAmount = maxWithdraw\r\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\r\n\t\t\tif (tx.withdrawTx) {\r\n\t\t\t\ttx.data = ERC20.functions.transfer.encode([\r\n\t\t\t\t\twithdrawTo,\r\n\t\t\t\t\tactualWithdrawAmount.toString(),\r\n\t\t\t\t])\r\n\t\t\t}\r\n\r\n\t\t\treturn tx\r\n\t\t})\r\n\t}\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, decimals),\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function setIdentityPrivilege({\r\n\taccount,\r\n\tsetAddr,\r\n\tprivLevel,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityInterface = new Interface(Identity.abi)\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: identityAddr,\r\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1]\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: (await getIdentityTxnsTotalFees({ txnsByFeeToken })).total,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\ttxnsByFeeToken,\r\n\t\tidentityAddr,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t\textraData: {\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t},\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\nfunction txnsByTokenWithSaiToDaiSwap({\r\n\ttxns,\r\n\tmainToken,\r\n\tdaiAddr,\r\n\tsaiAddr,\r\n\tidentityAddr,\r\n}) {\r\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\r\n\t\t(current, tx, i) => {\r\n\t\t\tconst { withdrawAmountByToken } = tx\r\n\r\n\t\t\tconst needSaiToDaiSwap =\r\n\t\t\t\t!!withdrawAmountByToken &&\r\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\r\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\r\n\t\t\t\tmainToken.address === daiAddr &&\r\n\t\t\t\tsaiAddr !== daiAddr\r\n\r\n\t\t\tlet feeTokenAddr = ''\r\n\r\n\t\t\tif (needSaiToDaiSwap) {\r\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\r\n\t\t\t\t\tbigNumberify(withdrawAmountByToken[saiAddr])\r\n\t\t\t\t)\r\n\t\t\t\tfeeTokenAddr = daiAddr\r\n\t\t\t}\r\n\r\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\r\n\t\t\t// normalize tx\r\n\t\t\ttx.feeTokenAddr = feeTokenAddr\r\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\r\n\r\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = [\r\n\t\t\t\t...(current.txnsByFeeToken[feeTokenAddr] || []),\r\n\t\t\t\ttx,\r\n\t\t\t]\r\n\r\n\t\t\treturn current\r\n\t\t},\r\n\t\t{\r\n\t\t\tsaiWithdrawAmount: bigNumberify('0'),\r\n\t\t\ttxnsByFeeToken: {},\r\n\t\t}\r\n\t)\r\n\r\n\treturn { txnsByFeeToken, saiWithdrawAmount }\r\n}\r\n\r\nexport async function addIdentityENS({ username = '', account, getFeesOnly }) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, MainToken, getToken, Identity } = await getEthers(\r\n\t\twallet.authType\r\n\t)\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: AdExENSManager.address,\r\n\t\tdata: AdExENSManagerInterface.functions.registerAndSetup.encode([\r\n\t\t\tAdExENSManager.publicResolver,\r\n\t\t\tid(username),\r\n\t\t\tidentityAddr,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst tx2 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: MainToken.address,\r\n\t\tto: ReverseRegistrar.address,\r\n\t\tdata: ReverseRegistrarInterface.functions.setName.encode([\r\n\t\t\t`${username}.${ReverseRegistrar.parentDomain}`,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1, tx2]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { total } = await getIdentityTxnsTotalFees({\r\n\t\ttxnsByFeeToken,\r\n\t\tmainToken,\r\n\t})\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: total,\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function getIdentityTxnsWithNoncesAndFees({\r\n\tamountInMainTokenNeeded = '0',\r\n\ttxns = [],\r\n\tidentityAddr,\r\n\tprovider,\r\n\tIdentity,\r\n\taccount,\r\n\tgetToken,\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst saiToken = selectSaiToken()\r\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\r\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\r\n\r\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\r\n\tlet identityContract = null\r\n\r\n\tif (isDeployed) {\r\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\r\n\t}\r\n\r\n\tconst initialNonce = isDeployed\r\n\t\t? (await identityContract.nonce()).toNumber()\r\n\t\t: 0\r\n\r\n\tconst feesForMainTxns = txns.length\r\n\t\t? bigNumberify(\r\n\t\t\t\t!initialNonce\r\n\t\t\t\t\t? mainTokenWithFees.minDeploy\r\n\t\t\t\t\t: mainTokenWithFees.minRecommended\r\n\t\t  ).add(\r\n\t\t\t\tbigNumberify(mainTokenWithFees.minRecommended).mul(\r\n\t\t\t\t\tbigNumberify(txns.length - 1)\r\n\t\t\t\t)\r\n\t\t  )\r\n\t\t: bigNumberify(0)\r\n\r\n\tconst totalAmountInMainTokenNeeded = feesForMainTxns.add(\r\n\t\tbigNumberify(amountInMainTokenNeeded)\r\n\t)\r\n\r\n\tconst {\r\n\t\tsweepTxns = [],\r\n\t\tswapAmountsByToken = {},\r\n\t} = await getSweepingTxnsIfNeeded({\r\n\t\tamountInMainTokenNeeded: totalAmountInMainTokenNeeded,\r\n\r\n\t\taccount,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns: sweepTxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// { txnsByFeeToken, saiWithdrawAmount }\r\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\r\n\t\ttxns,\r\n\t\tmainToken,\r\n\t\tdaiAddr,\r\n\t\tsaiAddr,\r\n\t\tidentityAddr,\r\n\t})\r\n\r\n\t// 1st - always get sweeping txns (channelWithdraw)\r\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\r\n\t// 3rd - make other txns with the main token only\r\n\r\n\t// TODO: make it work with other tokens\r\n\t// TODO: change getSwapAmountsByToken if more swaps are supported\r\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\r\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\r\n\t\t.add(bigNumberify(swapAmountsByToken[saiAddr] || 0))\r\n\r\n\tif (!saiSwapAmount.isZero()) {\r\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\r\n\t\t\t...(await swapSaiToDaiTxns({\r\n\t\t\t\tgetToken,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tdaiAddr,\r\n\t\t\t\tsaiToken,\r\n\t\t\t\tswapAmount: saiSwapAmount,\r\n\t\t\t})),\r\n\t\t]\r\n\t}\r\n\r\n\tconst allFeeTokens = [\r\n\t\t...new Set([\r\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\r\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\r\n\t\t]),\r\n\t]\r\n\r\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\r\n\t\ttxns[token] = [\r\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\r\n\t\t]\r\n\r\n\t\treturn txns\r\n\t}, {})\r\n\r\n\tlet currentNonce = initialNonce\r\n\r\n\tObject.keys(txnsByFeeToken).forEach(key => {\r\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\r\n\t\t\tconst { routinesSweepTxCount = 0, extraTxFeesCount = 0, isSweepTx } = tx\r\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\r\n\t\t\tconst txFeeAmount = isSweepTx ? feeToken.min : feeToken.minRecommended\r\n\r\n\t\t\tconst minFeeAmount = bigNumberify(\r\n\t\t\t\tcurrentNonce === 0 ? feeToken.minDeploy : txFeeAmount\r\n\t\t\t)\r\n\r\n\t\t\tconst sweepRoutinesFeeAmount = bigNumberify(routinesSweepTxCount).mul(\r\n\t\t\t\tbigNumberify(feeToken.min)\r\n\t\t\t)\r\n\r\n\t\t\tconst extraFeesAmount = bigNumberify(extraTxFeesCount).mul(\r\n\t\t\t\tbigNumberify(feeToken.minRecommended)\r\n\t\t\t)\r\n\r\n\t\t\t// Total relayer fees for the transaction\r\n\t\t\tconst feeAmount = minFeeAmount\r\n\t\t\t\t.add(sweepRoutinesFeeAmount)\r\n\t\t\t\t.add(extraFeesAmount)\r\n\t\t\t\t.toString()\r\n\r\n\t\t\t// fees that are not pre calculated with in the total identity balance\r\n\t\t\tconst nonIdentityBalanceFeeAmount = bigNumberify(feeAmount)\r\n\t\t\t\t.sub(bigNumberify(isSweepTx ? feeToken.min : 0))\r\n\t\t\t\t.sub(bigNumberify(routinesSweepTxCount).mul(bigNumberify(feeToken.min)))\r\n\t\t\t\t.toString()\r\n\r\n\t\t\tconst txWithNonce = {\r\n\t\t\t\t...tx,\r\n\t\t\t\tfeeTokenAddr: feeToken.address,\r\n\t\t\t\tfeeAmount,\r\n\t\t\t\tnonce: currentNonce,\r\n\t\t\t\tnonIdentityBalanceFeeAmount,\r\n\t\t\t}\r\n\r\n\t\t\tcurrentNonce += 1\r\n\r\n\t\t\treturn txWithNonce\r\n\t\t})\r\n\t})\r\n\r\n\treturn txnsByFeeToken\r\n}\r\n\r\nexport async function getApproveTxns({\r\n\tgetToken,\r\n\ttoken,\r\n\tidentityAddr,\r\n\tfeeTokenAddr,\r\n\tapproveForAddress,\r\n\tapproveAmount,\r\n}) {\r\n\tconst tokenContract = getToken(token)\r\n\r\n\tconst allowance = await tokenContract.allowance(\r\n\t\tidentityAddr,\r\n\t\tapproveForAddress\r\n\t)\r\n\r\n\tconst approveTxns = []\r\n\r\n\tif (!allowance.isZero()) {\r\n\t\tapproveTxns.push({\r\n\t\t\tidentityContract: identityAddr,\r\n\t\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\t\tto: token.address,\r\n\t\t\tdata: ERC20.functions.approve.encode([approveForAddress, 0]),\r\n\t\t})\r\n\t}\r\n\r\n\tapproveTxns.push({\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tto: token.address,\r\n\t\tdata: ERC20.functions.approve.encode([approveForAddress, approveAmount]),\r\n\t})\r\n\r\n\treturn approveTxns\r\n}\r\n\r\nasync function swapSaiToDaiTxns({\r\n\tidentityAddr,\r\n\tdaiAddr,\r\n\tsaiToken,\r\n\tswapAmount,\r\n\tgetToken,\r\n}) {\r\n\tconst approveTxns = await getApproveTxns({\r\n\t\tgetToken,\r\n\t\ttoken: saiToken,\r\n\t\tidentityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\r\n\t\tapproveAmount: swapAmount,\r\n\t})\r\n\r\n\tconst swapTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: daiAddr,\r\n\t\tto: SCD_MCD_MIGRATION_ADDR,\r\n\t\tdata: ScdMcdMigration.functions.swapSaiToDai.encode([swapAmount]),\r\n\t}\r\n\r\n\treturn [...approveTxns, swapTx]\r\n}\r\n\r\n// TODO: use byToken where needed\r\n// currently works because only using SAI and DAI only\r\nexport async function getIdentityTxnsTotalFees({\r\n\ttxnsByFeeToken,\r\n\tmainToken = {},\r\n}) {\r\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\r\n\tconst bigZero = bigNumberify('0')\r\n\tconst feesData = Object.values(txnsByFeeToken)\r\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\r\n\t\t.reduce(\r\n\t\t\t(result, tx) => {\r\n\t\t\t\tconst txFeeAmount = bigNumberify(tx.nonIdentityBalanceFeeAmount)\r\n\t\t\t\tresult.total = result.total.add(txFeeAmount)\r\n\r\n\t\t\t\tresult.byToken[tx.feeTokenAddr] = (\r\n\t\t\t\t\tresult.byToken[tx.feeTokenAddr] || bigZero\r\n\t\t\t\t).add(txFeeAmount)\r\n\r\n\t\t\t\treturn result\r\n\t\t\t},\r\n\t\t\t{ total: bigZero, byToken: {} }\r\n\t\t)\r\n\r\n\tconst byToken = Object.entries(feesData.byToken).map(([key, value]) => {\r\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\r\n\t\treturn {\r\n\t\t\taddress: key,\r\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\r\n\t\t\tsymbol,\r\n\t\t\tfeeFormatted: `${formatTokenAmount(\r\n\t\t\t\tvalue.toString(),\r\n\t\t\t\tdecimals,\r\n\t\t\t\tfalse,\r\n\t\t\t\t4\r\n\t\t\t)} ${symbol}`,\r\n\t\t}\r\n\t})\r\n\r\n\tconst fees = {\r\n\t\t// TODO: change to return total as BN and add totalFormatted\r\n\t\ttotal: formatTokenAmount(\r\n\t\t\tfeesData.total.toString(),\r\n\t\t\tmainToken.decimals || 18,\r\n\t\t\tfalse,\r\n\t\t\t2\r\n\t\t),\r\n\t\ttotalBN: feesData.total,\r\n\t\tbyToken,\r\n\t}\r\n\r\n\treturn fees\r\n}\r\n\r\nexport async function processExecuteByFeeTokens({\r\n\ttxnsByFeeToken,\r\n\twallet,\r\n\tprovider,\r\n\tidentityAddr,\r\n\textraData = {},\r\n}) {\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\r\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\r\n\t\tconst data = {\r\n\t\t\ttxnsRaw,\r\n\t\t\tsignatures,\r\n\t\t\tidentityAddr,\r\n\t\t\t...extraData,\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\tprocess.env.BUILD_TYPE === 'staging' ||\r\n\t\t\tprocess.env.NODE_ENV === 'development'\r\n\t\t) {\r\n\t\t\tconsole.log('data', JSON.stringify(data, null, 2))\r\n\t\t}\r\n\r\n\t\tconst result = await executeTx(data)\r\n\r\n\t\treturn {\r\n\t\t\tresult,\r\n\t\t}\r\n\t})\r\n\r\n\tconst results = await Promise.all(all)\r\n\r\n\treturn results\r\n}\r\n\r\nexport async function withdrawOtherTokensFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\ttokenAddress,\r\n\ttokenDecimals,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst { mainToken } = selectRelayerConfig()\r\n\tconst { wallet, identity } = account\r\n\tconst { authType } = wallet\r\n\tconst { provider, Identity, getToken } = await getEthers(authType)\r\n\tconst decimals = parseInt(tokenDecimals, 10)\r\n\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\r\n\r\n\tconst withdrawTx = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tfeeTokenAddr: mainToken.address,\r\n\t\tto: tokenAddress,\r\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\r\n\t}\r\n\tconst txns = [withdrawTx]\r\n\r\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\r\n\t\ttxns,\r\n\t\tidentityAddr,\r\n\t\tprovider,\r\n\t\tIdentity,\r\n\t\taccount,\r\n\t\tgetToken,\r\n\t})\r\n\r\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: fees.total,\r\n\t\t\ttoGet: formatTokenAmount(toWithdraw, decimals),\r\n\t\t}\r\n\t}\r\n\r\n\tconst result = await processExecuteByFeeTokens({\r\n\t\tidentityAddr,\r\n\t\ttxnsByFeeToken,\r\n\t\twallet,\r\n\t\tprovider,\r\n\t})\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\r\n\r\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\thandleRequesterErrorRes({ res, text })\r\n\t})\r\n}\r\n\r\nexport const getOwnerIdentities = ({ owner }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/by-owner/${owner}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getIdentityData = ({ identityAddr }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getRelayerConfigData = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'relayer/cfg',\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}/execute`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxnsRaw,\r\n\t\t\t\tsignatures,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tchannel,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const regAccount = ({\r\n\towner,\r\n\temail,\r\n\tbytecode,\r\n\tidentityFactoryAddr,\r\n\tbaseIdentityAddr,\r\n\tsalt,\r\n\tidentityAddr,\r\n\tprivileges,\r\n\troutineAuthorizationsRaw,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/${identityAddr}`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\towner,\r\n\t\t\t\temail,\r\n\t\t\t\tbytecode,\r\n\t\t\t\tidentityFactoryAddr,\r\n\t\t\t\tbaseIdentityAddr,\r\n\t\t\t\tsalt,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tprivileges,\r\n\t\t\t\troutineAuthorizationsRaw,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getQuickWallet = ({ hash }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `wallet`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\temail,\r\n\t\t\t\tsalt,\r\n\t\t\t\thash,\r\n\t\t\t\tencryptedWallet,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getEmail = ({ email }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/email/${encodeURIComponent(email)}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n"],"sourceRoot":""}