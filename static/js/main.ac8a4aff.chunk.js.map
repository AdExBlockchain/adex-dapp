{"version":3,"sources":["selectors/selectors.js","selectors/accountSelectors.js","selectors/identitySelectors.js","selectors/locationSelectors.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","selectors/configSelectors.js","selectors/newTransactionSelectors.js","selectors/newItemsSelectors.js","selectors/itemsSelectors.js","selectors/tablesDataSelectors.js","selectors/chartsSelectors.js","selectors/index.js","services/adex-relayer/actions.js","services/smart-contracts/signers/trezor.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","helpers/localStorageHelpers.js","constants/actionTypes.js","resources/home-wallpaper.jpg","components/toast/Toast.js","components/toast/styles.js","components/translate/Translate.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","helpers/logosHelpers.js","components/dashboard/dashboard/TopBar.js","components/common/img/Img.js","components/common/img/styles.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/ValidImageHoc.js","components/dashboard/forms/ValidItemHoc.js","components/dashboard/containers/ImgDialog/styles.js","components/dashboard/containers/ImgDialog/ImgDialog.js","components/dashboard/containers/SaveBtn/SaveBtn.js","components/dashboard/containers/SaveBtn/styles.js","components/dashboard/containers/ItemHoc/styles.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/ItemHoc/ItemHoc.js","components/dashboard/containers/Tables/MUIDataTableEnhanced.js","components/dashboard/containers/Tables/tableHelpers.js","components/dashboard/containers/Tables/styles.js","components/dashboard/containers/Tables/commonFilters.js","components/dashboard/containers/Tables/tableHooks.js","components/dashboard/containers/Tables/toolbars.js","components/dashboard/containers/Tables/CampaignsTable.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/dashboard/forms/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/dashboard/forms/items/AdUnit/NewAdUnitHoc.js","components/common/dropdown/Dropdown.js","components/common/dropdown/styles.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","helpers/utmHelpers.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/autocomplete/common.js","components/common/autocomplete/DownshiftMultiple.js","components/common/autocomplete/DownshiftSingle.js","components/common/autocomplete/Autocomplete.js","components/common/autocomplete/styles.js","components/dashboard/forms/items/AdUnit/AdUnitTargeting.js","components/dashboard/containers/UnitTargets/UnitTargets.js","components/common/dialog/content.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/NewCampaignHoc.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/NewAdSlotHoc.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/AdSlot/AdSlotTargeting.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/AdUnitsTable.js","components/dashboard/containers/Tables/AdSlotsTable.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/ItemCommon.js","components/dashboard/charts/options.js","components/dashboard/charts/campaigns/CampaignStatsDoughnut.js","components/dashboard/containers/Tables/CampaignStatsBreakdownTable.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/Campaign/styles.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/charts/simplified.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/App/themeMUi.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/DashboardStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Slot/styles.js","components/dashboard/forms/web3/TransactionHoc.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/SetAccountENSPage.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","helpers/ensHelper.js","components/common/ens/EnsAddressResolver.js","components/common/ens/styles.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/common/stepper/ValidItemHoc.js","components/signin/identity/ownerAuth/AuthHoc.js","components/signin/identity/IdentityHoc.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthLedger.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/IdentitySteps.js","components/signin/identity/styles.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/App.js","serviceWorker.js","index.js","services/store-data/auth.js","services/smart-contracts/actions/stats.js","helpers/mediaHelpers.js","services/smart-contracts/contractsCfg.js","services/smart-contracts/actions/core.js","services/requester/requester.js","services/requester/index.js","services/store-data/loop.js","services/store-data/campaigns.js","services/store-data/analytics.js","constants/targeting.js","services/crypto/crypto.js","helpers/formatters.js","constants/misc.js","services/translations/translations.js","store/history.js","services/store-data/account.js","resources/no-image-box-eddie.jpg","store/initialState.js","services/smart-contracts/actions/erc20.js","resources/trezor-logo-h.png","resources/ledger_logo_header.png","constants/spinners.js","actions/common.js","actions/uiActions.js","helpers/errors.js","actions/itemActions.js","services/auth/auth.js","actions/accountActions.js","actions/validationActions.js","actions/identityActions.js","actions/bidActions.js","actions/transactionActions.js","helpers/timeHelpers.js","actions/analyticsActions.js","actions/campaignActions.js","actions/index.js","services/smart-contracts/ethers.js","services/wallet/wallet.js","services/smart-contracts/signers/ledger.js","helpers/miscHelpers.js","services/adex-validator/ewt.js","../external \"Module\"","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","resources/404-no.png","resources/404-yes.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png","components/App/CacheBuster.js","services/smart-contracts/actions/common.js","helpers/validators.js","services/adex-market/actions.js","reducers/configReducer.js","reducers/index.js","reducers/accountReducer.js","reducers/itemsReducer.js","reducers/uiReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/analyticsReducer.js","reducers/channelsReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","services/smart-contracts/actions/identity.js","services/adex-validator/actions.js"],"names":["createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","creatArrayOnlyLengthChangeSelector","a","arguments","length","undefined","b","selectAccount","state","persist","account","selectAuth","createSelector","_ref","wallet","identity","address","authSig","authType","selectWallet","_ref2","selectAuthSig","_ref3","selectWalletAddress","_ref4","selectAuthType","_ref5","selectAccountIdentity","_ref6","selectAccountIdentityAddr","_ref7","selectAccountStats","_ref8","stats","selectAccountStatsFormatted","_ref9","settings","_ref10","raw","_ref11","formatted","selectChannelsWithUserBalances","_ref12","relayerData","routineAuthorizationsData","getState","channels","_ref13","withBalance","selectAccountIdentityCurrentPrivileges","_ref14","currentPrivileges","selectIdentity","memory","selectLocation","router","location","selectLocationQuery","search","query","selectSearchParams","URLSearchParams","selectNavTitle","nav","navTitle","selectSide","side","selectSpinners","spinners","selectSpinnerById","_","id","selectRegistrationAllowed","ids","map","ui","allowRegistration","process","selectLang","language","selectTranslations","val","opts","lang","_opts$isProp","isProp","_opts$args","args","translate","t","selectAnalytics","analytics","selectCampaignAnalytics","campaigns","selectCampaignAnalyticsByType","type","campaignAnalytics","selectCampaignAnalyticsByChannelStats","campaignId","Object","slicedToArray","analyticsByType","byChannelStats","selectAnalyticsDataAggr","eventType","metric","timeframe","_analytics$side","_analytics$side$event","_analytics$side$event2","_analytics$side$event3","_analytics$side$event4","aggr","selectTotalImpressions","eventCounts","reduce","value","Number","selectTotalClicks","selectTotalMoney","eventPayouts","formatTokenAmount","selectAverageCPM","totalMoney","totalImpressions","selectStatsChartData","noLastOne","rest","objectWithoutProperties","objectSpread","data","_ref15","_ref15$data","slice","memo","item","time","labels","push","formatDateTime","datasets","parseFloat","parseInt","parseValueByMetric","selectValidations","validations","selectValidationsById","selectRelayerConfig","config","relayer","selectFeeTokenWhitelist","feeTokenWhitelist","all","tokens","selectRoutineWithdrawTokens","routineWithdrawTokens","selectRoutineWithdrawTokensAddresses","selectMainToken","relayerConfig","mainToken","selectSaiToken","saiAddr","selectMainFeeToken","selectNewTransactionById","newTransactions","txns","selectNewItems","newItem","selectNewCampaign","Campaign","CampaignModel","selectItemsByType","AdUnit","AdUnitModel","AdSlot","AdSlotModel","items","itemType","selectItemsArrayByType","values","selectCampaigns","selectCampaignsArray","selectAdUnits","adUnits","selectAdUnitsArray","selectAdSlotsArray","adSlots","selectCampaignsTableData","_ref$decimals","depositAsset","decimals","spec","media","status","humanFriendlyName","originalName","name","depositAmount","formatUnits","fundsDistributedRatio","impressions","clicks","minPerImpression","created","activeFrom","withdrawPeriodStart","actions","to","concat","selectCampaignsMaxImpressions","Math","max","apply","i","selectCampaignsMaxClicks","selectCampaignsMaxDeposit","_ref2$decimals","selectAdSlotsTableData","slots","mediaUrl","fallbackUnit","mediaMime","title","replace","ipfs","selectAdUnitsTableData","units","selectCampaignStatsTableData","imprStats","reportChannelToHostname","clickStats","earnStats","reportChannelToHostnamePay","keys","key","website","ctr","toFixed","earnings","selectCampaignStatsMaxValues","channelId","result","current","newResult","maxClicks","maxCTR","maxImpressions","maxEarnings","selectCampaignDoughnutStats","chartColors","maxDataSets","_Object$keys$sort$red","sort","newData","impressionsData","clicksData","backgroundColor","hoverBackgroundColor","borderWidth","label","__webpack_require__","d","__webpack_exports__","translationsSelectors_t","analyticsSelectors_selectAnalytics","configSelectors_selectRelayerConfig","getOwnerIdentities","getIdentityData","getRelayerConfigData","executeTx","regAccount","getQuickWallet","backupWallet","services_requester__WEBPACK_IMPORTED_MODULE_0__","requester","Requester","baseUrl","processResponse","res","json","text","then","handleRequesterErrorRes","owner","fetch","route","method","identityAddr","txnsRaw","signatures","channel","body","JSON","stringify","headers","Content-Type","email","bytecode","identityFactoryAddr","baseIdentityAddr","salt","privileges","routineAuthorizationsRaw","hash","encodeURIComponent","encryptedWallet","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","provider","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getAddsParams","_ref$from","from","_ref$to","bundle","index","path","showOnTrezor","getAddresses","asyncToGenerator","regenerator_default","mark","_callee","_ref3$from","_ref3$to","success","payload","_args","wrap","_context","prev","next","ethereumGetAddress","sent","abrupt","stop","signTx","_callee2","params","txProps","signature","txSigned","_context2","utils","resolveProperties","hexlify","ethereumSignTransaction","transaction","r","s","v","serializeTransaction","Error","error","_x","sendTransaction","_callee3","txData","_context3","_x2","signMessage","_callee4","message","_args4","_context4","ethereumSignMessage","hex","mode","constants","SignatureModes","GETH","_x3","connect","_provider","_path","Signer","LocalSigner","getWallet","_this$_opts","password","walletData","_wallet","_opts","getLocalWallet","Wallet","privateKey","getAddress","signetTx","sign","_callee5","_args5","_context5","arrayify","MetaMaskSigner","_signer","_args3","t0","t1","t2","t3","getSigner","_getSigner","signer","_signer2","_signer3","AUTH_TYPES","METAMASK","LEDGER","LedgerSigner","TREZOR","GRANT","QUICK","getTypedDataHash","typedData","entry","toUtf8Bytes","valuesHash","keccak256","schema","schemaHash","solidityKeccak256","getAuthSig","_getAuthSig","authToken","getEthers","floor","random","MAX_SAFE_INTEGER","toString","_x4","_signTx","tx","sig","Transaction","hashHex","splitSig","getMultipleTxSignatures","_x5","_getMultipleTxSignatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","loadFromLocalStorage","localStorage","getItem","parse","err","saveToLocalStorage","serialized","setItem","console","warn","removeFromLocalStorage","removeItem","getKeys","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_ALL_BIDS","RESET_ALL_BIDS","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","UPDATE_ADVANCED_CAMPAIGN_ANALYTICS","RESET_ANALYTICS","UPDATE_CHANNELS_WITH_BALANCE","RESET_CHANNELS_WITH_BALANCE","module","exports","p","variantIcon","accept","CheckCircleIcon","warning","WarningIcon","cancel","ErrorIcon","info","InfoIcon","Toast","_Component","props","close","setState","active","removeToast","toast","inherits","createClass","nextProps","nextToast","toasts","_classnames","_this2","classes","Icon","anchorOrigin","vertical","horizontal","top","react_default","createElement","Snackbar","open","autoHideDuration","timeout","onClose","unclosable","SnackbarContent","aria-describedby","className","classnames","icon","iconVariant","action","IconButton","aria-label","color","onClick","Close_default","snackbar","defineProperty","Component","dispatch","bindActionCreators","withStyles","theme","spacing","border","borderRadius","&.active","transform","margin","borderColor","fontSize","opacity","marginRight","display","alignItems","wordBreak","width","maxWidth","Translate","Decorated","useSelector","assign","_ref$isProp","_ref$args","Confirm","bind","assertThisInitialized","confirm","visible","_this$props","children","cancelLabel","confirmLabel","noActionBtns","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","onConfirm","onCancel","calledOn","withReactRouterLink","_React$Component","_getPrototypeOf2","_len","Array","_key","resolveToLocation","pathname","history","createHref","handleClick","event","preventDefault","stopPropagation","_this$props2","forwardedRef","match","staticContext","toLocation","ref","href","React","WithRouter","withRouter","forwardRef","createSvgIconCustom","displayName","viewBox","SvgIcon","pure","muiName","Anchor","target","url","getUrl","Link","underline","draggable","rel","style","styles","_drawerPaper","root","flexGrow","zIndex","overflow","position","minHeight","appBar","left","right","breakpoints","up","flex","flexDirection","flexRow","flexBasis","paddingTop","paddingBottom","&:last-child","paddingRight","paddingLeft","toolbarControls","justifyContent","toolbarTitle","navIconHide","toolbar","flexFlow","height","mixins","drawerPaper","content","palette","background","default","padding","marginLeft","contentInner","sideIndex","advertiser","publisher","0","1","handleChange","ev","execute","useStyles","makeStyles","activeColor","accentOne","main","accentTwo","minWidth","&$selected","selected","indicator","SideSwitch","Box","bgcolor","boxShadow","Tabs","onChange","indicatorColor","textColor","variant","Tab","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","ml","mr","CircularProgress","RRListItem","ListItem","ETH_SCAN_ADDR_HOST","activeBgColor","navigation","paper","sntPadding","navListRoot","secondary","navList","bottom","overflowY","overflowX","sideNavToolbar","version","borderTopWidth","borderTopColor","divider","borderTopStyle","contrastText","&:focus","adxLink","hint","&:hover","sideSwitch","marginBottom","useCommonStyles","SideNav","commonClasses","routerLocation","symbol","split","availableIdentityBalanceMainToken","List","component","AdexIconTxt","spinners_LoadingSection","ListItemText","Typography","gutterBottom","Divider","dashboard_SideSwitch","button","ListItemIcon","Dashboard_default","primary","Fragment","CampaignIcon","List_default","toUpperCase","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","Date","getFullYear","packageJson","ImgIcon","src","alt","ButtonMenu","btnStyle","rightIcon","leftIconSrc","_useState","useState","_useState2","setActive","_useState3","_useState4","anchorEl","setAnchorEl","Boolean","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-owns","aria-haspopup","textOverflow","Menu","getAuthLogo","metamaskLogo","trezorLogo","ledgerLogo","DEMO","demoLogo","RRMenuItem","MenuItem","handleDrawerToggle","imgSrc","btnMenuLabel","formatAddress","AppBar","Toolbar","Menu_default","lib_default","diameter","seed","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","logOut","ExitToApp_default","noWrap","MAX_IMG_LOAD_TIME","Img","ipfsSrc","Regexes","ipfsRegex","test","helpers","getMediaUrlWithProvider","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","isVideoMedia","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onerror","onload","onabort","setTimeout","onloadedmetadata","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","Fab","mini","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this$props3","allowFullscreen","fullScreenOnClick","_this$state2","imgParent","wrapper","img","fullScreenBtn","circular","cursor","@media(max-width:744px)","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","getCroppedImgUrl","objUrl","pixelCrop","fileName","size","cropCanvas","scaleCanvas","crossOrigin","Promise","resolve","reject","crop","x","round","y","getContext","drawImage","toBlob","file","URL","createObjectURL","ImgForm","onDrop","acceptedFiles","rejectedFiles","that","objectUrl","imgName","mime","tempUrl","onRemove","e","preventBubbling","revokeObjectURL","onCropChange","saveCropped","croppedBlob","cropMode","nativeEvent","stopImmediatePropagation","UploadInfo","errMsg","uploadInfo","uploadActions","dropzoneBtn","Crop_default","Clear_default","CloudUpload_default","aspect","additionalInfo","_this$state3","imgForm","header","dropzone","Grid","container","alignContent","sm","md","react_image_crop_default","imageStyle","imgDropzonePreview","disabled","Save_default","dist_es","img_Img","grey","marginTop","ValidImageHoc","ValidImage","validate","propsName","widthTarget","heightTarget","mediaWidth","mediaHeight","msg","exact","required","isValid","checkExactishAspect","masgArgs","dirty","validateMedia","getMediaSize","validateId","ValidationHoc","_ref$err","_ref$dirty","_ref$removeAll","removeAll","invalidFields","ImgDialog","newValues","onOk","vals","forEach","onChangeReady","errImg","imgPropName","AVATAR_MAX_WIDTH","AVATAR_MAX_HEIGHT","Cancel_default","forms_ImgForm_ImgForm","imgLabel","ValidItemHoc","SaveBtn","spinner","dirtyProps","save","validationId","fabButton","Check_default","fabProgress","spinnerId","buttonSuccess","buttonProgress","mediaRoot","buttonRight","buttonLeft","textField","flexWrap","changesLine","changeChip","editIcon","RRButton","G404","xs","inline","textTransform","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","justify","align","PageNotFound_G404","IMG_404_1","window","IMG_404_2","adSlotPut","schemas","adUnitPut","campaignPut","AdSizesByValue","ItemsConstants","ItemHoc","Item","updateNav","objModel","dp","indexOf","plainObj","returnPropToInitialState","propName","initialItemState","initialItemStateValue","filter","resetValidationErrors","setActiveFields","field","newActiveFields","activeFields","updateItem","_authType","editImg","_activeInput","_this$props4","matchId","nextState","currentItemInst","nexItemInst","modifiedOn","updateSpinner","prop","validName","_this$props5","Joi","_this$props6","description","_this$props7","page_not_found_PageNotFound","isDemo","canEdit","temp","fallbackMediaUrl","titleErr","descriptionErr","react_router","when","FormControl","fullWidth","InputLabel","Input","validateTitle","maxLength","onBlur","onFocus","endAdornment","InputAdornment","Edit_default","FormHelperText","errMsgArgs","containers_ImgDialog_ImgDialog","_id","updateImgWidth","updateImgHeight","updateImgLabel","updateImgInfoLabel","updateImgExact","updateImgErrMsg","lg","htmlFor","multiline","rows","validateDescription","showLogo","Paper","imgContainer","fullName","pointer","canEditImg","Info_default","Chip","onDelete","containers_SaveBtn_SaveBtn","inEdit","toggleImgEdit","tryGetItemByIpfs","_ipfs","itemId","generalTableOptions","rowsPerPage","rowsPerPageOptions","setTableProps","textLabels","noMatch","toolTip","columnHeaderTooltip","column","pagination","previous","displayRows","downloadCsv","print","viewColumns","filterTable","reset","titleAria","selectedRows","delete","deleteAria","MUIDataTableEnhanced","columns","options","mui_datatables_dist_default","noSearch","download","noDownload","noPrint","selectableRows","rowSelectable","customToolbarSelect","displayData","setSelectedRows","mapStatusIcons","humanFriendlyStatus","ls","waitIcon","HourglassFull_default","doneIcon","DoneAll_default","warningIcon","Warning_default","cashIcon","MonetizationOn_default","toLowerCase","cellImg","sliderFilterOptions","_ref$initial","initial","_ref$filterTitle","filterTitle","_ref$stepsCount","stepsCount","_ref$stepsPrecision","stepsPrecision","min","step","steps","precision","getSliderStep","filterType","customFilterListOptions","render","formatAbbrNum","update","filterList","filterPos","filterOptions","names","logic","rowNumber","filters","formated","pl","pr","pt","Slider","marks","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","valueLabelFormat","useTableData","selector","selectorArgs","getColumns","setData","setColumns","selectedData","reloadData","useCallback","useEffect","ReloadData","handleReload","react","Tooltip","Refresh_default","RRIconButton","getCols","maxDeposit","customBodyRender","includes","commify","sortDirection","enterDelay","Visibility","getOptions","onDownload","buildHead","buildBody","mappedData","bigNumberify","mul","trim","customToolbar","CampaignsTable","_useSelector","_useTableData","errColor","&$active","stepperWrapper","pagePaper","pageContent","WebkitOverflowScrolling","@media(max-width:500px)","textAlign","@media(max-width:475px)","mobileStepper","& div","mobileStepLabel","& span","buttonProgressWrapper","errChip","& svg","StepperNav","pages","currentPage","innerWidth","StepLabel","MobileStepper","activeStep","Stepper","alternativeLabel","page","Step","MaterialStepper","_props$initialPage","initialPage","_props$pages","setCurrentPage","canReverse","pageProps","Comp","_page$pageValidation","pageValidation","onValid","stepsId","dirtyErrors","dirtyErrs","getDirtyValidationErrors","isValidPage","goToPage","nextStep","canGoBack","goToPreviousPage","goToNextPage","onKeyPressed","onKeyPress","stepperNav","MaterialUiStepper_StepperNav","Error_default","disableBtnsIfValid","cancelBtn","cancelFunction","completeBtn","FormSteps","CancelBtn","onSave","stepsPages","stepsPreviewPage","validateIdBase","cancelButton","goToNextPageIfValid","MaterialUiStepper","FormSteps_FormSteps","fullHeight","innerHeight","dialogTitle","wordWrap","&:first-child","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","down","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","Transition","Slide","direction","WithDialog","iconButton","textButton","fabVariant","btnLabelArgs","btnLabel","dialogActions","onBeforeOpen","btnProps","setOpen","ButtonComponent","btnLabelTranslated","first","second","TransitionComponent","disableTypography","closeDialog","NewAdUnitHoc","ItemForm","updateNewItem","addUnit","resetNewItem","saved","formControl","Dropdown","_props$label","_props$source","source","_props$htmlId","htmlId","_props$disabled","_props$error","helperText","_props$fullWidth","noSrcLabel","IconComponent","inputLabel","useRef","_React$useState","_React$useState2","labelWidth","setLabelWidth","offsetWidth","Select","toConsumableArray","spinners_InputLoading","adUnitPost","AdTypes","AdUnitsTypes","AdUnitBasic","validateAndUpdateType","validateTargetUrl","targetUrl","prevProps","addUtmLink","addUtmParameters","campaign","removeFromUrl","protocol","host","newQuery","_i","_Object$entries","entries","UTM_PARAMS","format","addUrlUtmTracking","newTemp","checked","errTitle","errDescription","errTargetUrl","TextField","FormControlLabel","control","Checkbox","handleChangeAddUtmLink","dropdown_Dropdown","getWidAndHightFromType","sizes","handleImgChange","_getWidAndHightFromTy","_getWidAndHightFromTy2","renderInput","inputProps","InputProps","other","inputRef","inputRoot","renderSuggestion","suggestion","itemProps","highlightedIndex","selectedItem","showSelected","isHighlighted","isSelected","fontWeight","getSuggestions","inputValue","allowCreate","validateCreation","newSuggestion","DownshiftMultiple","handleKeyDown","keycode","newItemValue","handleInputChange","handleDelete","splice","placeholder","openOnClick","allValues","downshift_esm","itemToString","getInputProps","getItemProps","isOpen","inputValue2","selectedItem2","toggleMenu","startAdornment","tabIndex","chip","onKeyDown","square","DownshiftSingle","onInit","errorText","suggestions","clearSelection","dist_index_esm","index_esm","itemSize","itemCount","multiple","autocomplete_DownshiftMultiple","autocomplete_DownshiftSingle","SourcesSelect","SOURCES","collection","tag","score","AdUnitTargeting","handleTargetChange","newTargets","targets","newTarget","updateNewItemCollections","removeTarget","validateAutocomplete","targetTag","_ref2$source","autocomplete_Autocomplete","suggestionMatch","showSuggestionsWhenValueIsSet","slider","markLabel","collections","tg","newCollection","targeting","tags","_ref4$source","_ref4$target","AddIcon","targetIcon","LocationOnIcon","gender","WcIcon","age","ChildCareIcon","getTargetType","UnitTargets","targetArrayValues","TargetIcon","CompareArrows","isTarget","ListItemSecondaryAction","TargetsList","_ref$targets","subHeader","dense","subheader","ListSubheader","PropRow","classNameLeft","classNameRight","_ref$style","uppercase","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","FullContentMessage","_ref7$msgs","msgs","_ref7$color","strong","imgPreview","shadows","imgPreviewWrapper","AdUnitFormPreview","containers_UnitTargets_UnitTargets","NewAdUnitFormPreview","NewCampaignHoc","waitingAction","openCampaign","adUnitsArray","OPENING_CAMPAIGN","CampaignUnits","selectedUnits","allAdUnits","allAdUnitsArray","hasAdUnits","Tables_AdUnitsTable","handleSelect","selectedIndexes","selectedItemsIds","updateNewCampaign","noClone","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange_default","iconColor","onIconClick","DateTimePicker","calendarIcon","material_ui_pickers_esm","DateTimePicker_CalendarIconAdor","datepickerContrastInput","common","white","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","isNumberString","moment","MomentUtils","getTotalImpressions","dep","CampaignFinance","validators","minTargetingScore","_campaign$temp","maxChannelFees","maxDepositFormatted","GETTING_CAMPAIGNS_FEES","now","date","valueOf","errDepAmnt","errMin","errFrom","errTo","leader","follower","validateNumberString","common_DateTimePicker_DateTimePicker","emptyLabel","disablePast","minDate","maxDate","FormGroup","row","WalletAction","UnitsTable","NewCampaignFormPreview","_newItem$temp","getCampaignActualFees","FormsCommon_WalletAction","CampaignFormPreview_UnitsTable","feesFormatted","totalSpendFormatted","addSlot","adSlotPost","NewAdSlotHoc","parseUnits","validateAmount","updateMinPerImpression","validateImage","useFallback","validateFallbackUrl","handleFallbackChange","_this$props$newItem","errFallbackUrl","Switch","Collapse","in","PredefinedTags","custom","AdSlotTargeting","SlotFallback","AdSlotPreview","mainTokenSymbol","AdSlotPreview_SlotFallback","NewAdSlotPreview","SaveBtnWithAdUnit","SaveBtnWithCampaign","saveBtnLabel","saveBtnIcon","HourglassEmpty_default","SaveBtnWithAdSlot","esm_extends","CancelBtnWithItem","CancelBtnWithCampaign","CancelBtnWithAdSlot","dialogCommon","darkerBackground","Add_default","NewUnitStepsWithDialog","forms_FormSteps","AdUnitMedia","noDefaultImg","itemModel","NewUnitDialog","copyProps","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","onInvalid","validateNewCampaignAdUnits","validateNewCampaignFinance","CampaignFormPreview","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","AdSlotBasic","AdSlotMedia","descriptionHelperTxt","NewSlotDialog","truncateString","AdUnitsTable_RRIconButton","NewItems_NewCloneUnitDialog","cloneItem","onRowsSelect","rowsSelected","AdUnitsTable","campaignUnits","_props$selected","setSelectorArgs","allRowsSelected","dataIndex","AdSlotsTable_RRIconButton","AdSlotsTable","card","@media(max-width:380px)","basicInfo","ValidatedFallbackAdData","rightComponent","toggleFallbackImgEdit","errFallbackAdUrl","Card","raised","CardMedia","fallbackTargetUrl","CardContent","validUrl","ValidatedSlotMinCPM","_selectMainToken","minCPM","_ref2$prop","_ref2$value","_ref2$item","updateItemTemp","MediaCard","BasicProps","ItemCommon_MediaCard","isArray","join","CampaignProps","_selectMainToken2","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","responsive","tooltips","cornerRadius","Helper","hexToRgbaColorString","merge","defaults","global","CampaignStatsDoughnut","_ref$maxDataSets","_ref$chartColors","react_chartjs_2_es","legend","animation","callbacks","datasetIndex","formatNumberWithCommas","CampaignStatsBreakdownTable","_useSelector2","VIEW_MODE","context","handleTabChange","CampaignActions","closeCampaign","statistics","scrollable","scrollButtons","clone","order","Tables_CampaignStatsBreakdownTable","campaigns_CampaignStatsDoughnut","CampaignItem","datepicker","ownProps","rowsView","RRSideBox","_ref$salePoints","salePoints","linkTitle","sideBox","point","SideSelect","dialogPaper","BackdropProps","backdrop","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","listStyle","infoStatsContainer","infoCard","linkCard","&:hover, &:focus","dashboardCardBody","commonDsProps","lineTension","pointRadius","pointHitRadius","SimpleStatistics","payouts","_ref$options","_ref$xLabel","xLabel","_ref$y1Label","y1Label","_ref$y2Label","y2Label","_ref$y3Label","y3Label","_ref$y1Color","y1Color","_ref$y2Color","y2Color","_ref$y3Color","y3Color","Chart","pluginService","register","afterDraw","chart","tooltip","_active","activePoint","controller","ctx","tooltipPosition","chartScalesy1","scales","topY","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","stroke","restore","chartData","yAxisID","pointBackgroundColor","linesOptions","maintainAspectRatio","intersect","yLabel","hover","xAxes","gridLines","scaleLabel","labelString","yAxes","ticks","beginAtZero","drawOnChartArea","useStylesArrow","black","popper","&[x-placement*=\"bottom\"] $arrow","&::before","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","arrow","borderStyle","ArrowTooltip","_useStylesArrow","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","enabled","element","typography","pxToRem","_ref$bgColor","bgColor","_ref2$bgColor","progress","StatsCard","explain","deepOrange","amber","lime","contrastThreshold","tonalOffset","createMuiTheme","fontFamily","overrides","MuiButton","outlined","MuiTableCell","head","whiteSpace","MuiPaper","rounded","MuiTooltip","MuiFormControl","MuiSelect","MuiInputLabel","MuiOutlinedInput","MuiTableFooter","MuiAppBar","colorDefault","MUIDataTablePagination","MUIDataTableFilter","MuiGridListTile","MUIDataTableBodyCell","stackedCommon","themeMUI","responsiveFontSizes","factor","timeFrames","VALIDATOR_ANALYTICS_TIMEFRAMES","tf","translated","metrics","timeHints","hour","day","week","BasicStats","totalClicks","averageCPM","loadingImpressions","loadingMoney","loadingCPM","loadingClicks","dataInSync","DashboardStats_StatsCard","updateAnalyticsTimeframe","Infinity","simplified_SimpleStatistics","find","DashboardStats","side_select_SideSelect","UnitItem","Unit","adUrl","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","IntegrationCode","_ref$slot","slot","onCopy","publisherAddr","whitelistedTokens","whitelistedType","randomize","marketSlot","iframeStr","integrationLabel","copy","integrationCode","Slot","handleFallbackImgUpdateToggle","editFallbackImg","tabsFocus","scrollIntoView","behavior","block","createRef","Slot_IntegrationCode","addToast","SlotItem","alignSelf","NewTransactionHoc","TransactionHoc","txId","updateNewTransaction","manyTxs","resetTransaction","resetNewTransaction","handleSaveRes","getErrMsg","saveFn","acc","log","txs","txResults","catch","WithdrawFromIdentityForm","numStr","token","identityAvailable","validateNumber","amount","withdrawAmount","withdrawTo","withdrawToSpinner","errAmount","errAddr","validateAddress","addr","WithdrawAnyTokenFromIdentityForm","balanceAnySpinner","tokenAddress","tokenBalance","errToken","setBalance","bal","IdentityPrivilegeLevel","PRIV_LEVELS_SRC","SeAddressPrivilege","setAddr","privLevel","warningAccepted","warningMsg","errPrivLvl","SetAccountENSPageForm","handleValidate","_timeout","setEns","validateENS","ens","setEnsSpinner","noValidate","IdentityWithdrawPreview","valueToKey","feesData","fees","toGet","SetPrivilegePreview","SetENSPreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreviewForm","getFeesFn","previewWarnMsgs","_transaction$feesData","_transaction$errors","errors","waitingForWalletAction","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","previews_SetENSPreview","FormStepsWithDialog","txCommon","cancelBtnLabel","WithdrawTokenFromIdentity","WithdrawFromExchangePage","TransactionPreview","identityWithdraw","amountToWithdraw","withdrawFromIdentity","getFeesOnly","SetIdentityPrivilege","validatePrivilegesChange","addrIdentityPrivilege","setIdentityPrivilege","fetchName","lookup","ethers","getDefaultProvider","lookupAddress","EnsAddressResolver","ensName","setEnsName","setSearching","_resolveENS","isEthAddress","resolveENS","VALIDATOR_LEADER_URL","VALIDATOR_LEADER_ID","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","AccountItem","actionBtn","advancedList","iconBtnLeft","AccountInfo","_useSelector$authType","_useSelector3","walletAddress","identityAddress","walletPrivileges","identityBalanceMainToken","outstandingBalanceMainToken","localWalletDownloadHref","setLocalWalletDownloadHref","loadBackupHref","obj","getRecoveryWalletData","expanded","setExpanded","_useState5","_useState6","setEnsSearching","_useState7","_useState8","identityEnsName","setIdentityEnsName","AccountInfo_AccountItem","ens_EnsAddressResolver","py","SaveAlt_default","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","domNodes","overlay","show","displayRampWidget","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","heading","ExpansionPanelDetails","transactions_SetIdentityPrivilege","Campaigns","NewItems_NewCampaignDialog","accent","Tables_CampaignsTable","AdUnits","AdSlots","NewItems_NewSlotDialog","Tables_AdSlotsTable","Dashboard","mobileOpen","setMobileOpen","getAllItems","analyticsLoop","start","analyticsCampaignsLoop","campaignsLoop","campaignsLoopStats","statsLoop","drawer","dashboard_SideNav","TopBar","Hidden","mdUp","Drawer","anchor","ModalProps","keepMounted","smDown","implementation","Account","signinContainer","backgroundRepeat","backgroundSize","backgroundPosition","backgroundImage","require","buttons","adxVersion","adexLogoTop","logo","noBg","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","auth","getAllWallets","w","goTo","confirmLogout","toExecute","confirmAction","m","AuthSelect_RRButton","initIdentity","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","balanceEth","tokensBalances","balance","AuthMetamask","_useSelector$wallet","installingMetamask","setInstallingMetamask","waitingMetamaskAction","setWaitingMetamaskAction","waitingAddrsData","setWaitingAddrsData","isOpera","opr","opera","navigator","userAgent","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","ethereumProvider","getEthereumProvider","setEth","onfocus","reload","checkMetamask","metamaskSigner","_address","_stats","getAddressBalances","getFullBalances","updateIdentity","updateIdentityWallet","signType","tabBox","METAMASK_IMG","dangerouslySetInnerHTML","__html","METAMASK_DL_IMG","metamaskLAbel","NewItemHoc","updateValidationErrors","AuthHoc","Auth","updateWallet","hdWalletAddrPath","hdWalletAddrIdx","chainId","sideSelect","IdentityForm","login","resetIdentity","ready","waitingExpected","waiting","CREATING_SESSION","waitingUpload","UPLOADING_ACCOUNT_DATA","IdentityHoc","AuthTrezor","connectTrezor","waitingTrezorAction","trezorSigner","addresses","allAddressesData","results","hdPath","AddressSelect","onAddrSelect","selectedAddress","addrData","TREZOR_DL_IMG","AuthLedger","connectLedger","waitingLedgerAction","ledgerSigner","LEDGER_DL_IMG","AuthMethod","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","ownerAuth_AuthLedger","QuickInfo","sessionSpinner","walletMsgs","emailCheck","passwordCheck","tosCheck","accessWarningCheck","validateEmail","validateEmailCheck","validatePassword","validatePasswordCheck","FulInfo","_identity$wallet","walletAddr","WALLET_ACTIONS_MSGS","QuickLogin","getIdentitiesForDropdown","ownerIdentities","FullLogin","identityContractAddress","GETTING_OWNER_IDENTITIES","searchParams","set","updateOwnerIdentities","IdentitySteps","mapPages","GoBtn","_this$props$stepsPage","final","infoPaper","gutters","input","finalValidationQuick","validateQuickLogin","finalValidationStandard","validateStandardLogin","validateOwner","validateContractOwner","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ConnectedCreateQuickIdentity","JustDialog","identity_IdentitySteps","validateQuickInfo","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","validateFullInfo","ConnectedRoot","PrivateRoute","handleLegacyWallet","migrateLegacyWallet","removeLegacyKey","ensureQuickWalletBackup","getRelayerConfig","metamaskChecks","handleRedirectParams","handleSignupLink","metamaskNetworkCheck","updateRegistrationAllowed","react_router_dom","Root_PrivateRoute","onBeforeLift","App","CssBaseline","ThemeProvider","es","store","integration_react","persistor","esm","CacheBuster","App_Root","toast_Toast","confirm_Confirm","hostname","ReactDOM","components_App_App","getElementById","serviceWorker","registration","unregister","isDemoMode","actions__WEBPACK_IMPORTED_MODULE_0__","services_store_data_campaigns__WEBPACK_IMPORTED_MODULE_1__","services_store_data_account__WEBPACK_IMPORTED_MODULE_2__","services_store_data_analytics__WEBPACK_IMPORTED_MODULE_3__","connected_react_router__WEBPACK_IMPORTED_MODULE_4__","skipRedirect","resetAllItems","resetAllNewItems","resetAllBids","resetAccount","resetAnalytics","resetChannelsWithBalance","privilegesNames","tokenAvailableBalance","feeToken","lte","getWithdrawTokensBalances","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default","getToken","_selectRelayerConfig","balancesCalls","balances","_balances$reduce","totalBalanceInMainToken","mainTokenBalance","tokenContract","available","balanceMainToken","balanceOf","tokenInMainTokenValue","balanceData","add","_getAddressBalances","calls","getBalance","serializedPath","formatEther","getAccountStats","_getAccountStats","_ref7$outstandingBala","getIdentity","_identity$status","identityContract","privilegesAction","_ref16","_ref17","_ref17$","identityWithdrawTokensBalancesBalances","total","deployed","c","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","totalOutstandingBalanceMainToken","totalIdentityBalanceMainToken","walletAuthType","getOutstandingBalance","_getOutstandingBalance","bigZero","allOutstanding","amounts","ch","outstanding","outstandingAvailable","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","getAllValidatorsAuthForIdentity","_x7","_getAllValidatorsAuthForIdentity","_callee8","validatorAuthTokens","allValidators","tokenCalls","allTokens","validatorsAuth","_context8","_ref18","_objectSpread2","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_ref19","_callee7","_context7","getValidatorAuthToken","validatorId","_x9","saiDaiConversion","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","_callee9","valueInMainToken","_context9","video","videoWidth","videoHeight","getVideoSize","getImageSize","maxPercentTolerance","targetAspect","aspectDiff","abs","contracts","_build_Identity_json__WEBPACK_IMPORTED_MODULE_0__","_build_AdExCore_json__WEBPACK_IMPORTED_MODULE_1__","_build_Dai_json__WEBPACK_IMPORTED_MODULE_2__","_build_IdentityFactory_json__WEBPACK_IMPORTED_MODULE_3__","_build_AdExENSManager_json__WEBPACK_IMPORTED_MODULE_4__","_build_ReverseRegistrar_json__WEBPACK_IMPORTED_MODULE_5__","_abi_ERC20Token_json__WEBPACK_IMPORTED_MODULE_6__","Identity","abi","AdExENSManager","publicResolver","ReverseRegistrar","parentDomain","AdExCore","DAI","Dai","IdentityFactory","ERC20","Core","Interface","IdentityInterface","IdentityABI","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","toEthereumChannel","specHash","crypto","createHash","digest","Channel","creator","tokenAddr","tokenAmount","validUntil","getReadyCampaign","newCampaign","period","getValidUntil","nonce","randomBytes","unit","fee","div","feeDen","feeNum","validator","feeAddr","maxPerImpression","eventSubmission","allow","uids","rateLimit","lastChecked","getWithdrawnPerUserOutstanding","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default","functions","withdrawnPerUser","sub","getChannelsWithOutstanding","_getChannelsWithOutstanding","eligible","getAllCampaigns","lastApprovedBalances","lastApprovedSigs","validBalances","_e","_unused","_channel$status","bTree","BalanceTree","isZero","_x8","gt","minWeekly","getChannelsToSweepFrom","amountToSweep","_ref4$withBalance","_withBalance$sort$red","c1","c2","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","sum","lt","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","routineAuthTuple","_txns$reduce","updated","routineOpts","RoutineOps","channelWithdraw","withdrawAmountByToken","feeTokenAddr","executeRoutines","encode","routinesTxCount","routinesSweepTxCount","getIdentityRoutineAuthTuple","deployData","is41identity","hasValidExecuteRoutines","getSweepChannelsTxns","_getSweepChannelsTxns","channelsToSweep","encodedTxns","toSolidityTuple","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","isSweepTx","getSwapAmountsByToken","saiToken","swaps","swapsSumInMainToken","swapsByToken","getSweepingTxnsIfNeeded","_getSweepingTxnsIfNeeded","_callee6","amountInMainTokenNeeded","needed","_account$stats$raw$id","currentBalanceInUse","sweepData","_getSwapAmountsByToke","_context6","sweepTxns","swapAmountsByToken","amountToSwapInMainToken","openChannel","_x6","_openChannel","getMaxFees","readyCampaign","openReady","ethChannel","hasIdentityChannelOpen","identityChannelOpenTx","approveTxns","channelOpenTx","txnsByFeeToken","totalBN","mtBalance","maxAvailable","maxAvailableFormatted","storeCampaign","channelOpen","extraTxFeesCount","getApproveTxns","approveForAddress","approveAmount","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","getIdentityTxnsWithNoncesAndFees","getIdentityTxnsTotalFees","processExecuteByFeeTokens","extraData","closeChannel","_closeChannel","textObj","statusText","AdexNodeRequester","getAuthHeaders","authSignature","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","_ref4$route","_ref4$queryParams","queryParams","_ref4$method","_ref4$headers","_ref4$authSig","userAddr","_ref4$noCache","noCache","qp","demo","getQuery","hdrs","requester_handleRequesterErrorRes","Looper","syncAction","loopName","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","clearLoopTimeout","loopTimeout","syncData","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","startLoop","checkLoop","LOOP_TIMEOUT","MOON_GRAVITY_ACCELERATION","MOON_TO_EARTH_WEIGHT","syncCampaigns","updateStats","updateUserCampaigns","Loop","_loop__WEBPACK_IMPORTED_MODULE_0__","actions__WEBPACK_IMPORTED_MODULE_1__","updateAccountAnalytics","updateAccountCampaingsAnalytics","adex_models__WEBPACK_IMPORTED_MODULE_0__","services_translations_translations__WEBPACK_IMPORTED_MODULE_1__","locations","AllCountries","country","genders","Genders","getKeyHash","encrypt","iv","cipher","encr","encrypted","createCipheriv","Buffer","decrypt","textParts","encryptedText","decipher","decr","decrypted","shift","createDecipheriv","encryptLegacy","crypted","createCipher","decryptLegacy","dec","createDecipher","ethers_utils__WEBPACK_IMPORTED_MODULE_0__","timestamp","amountString","pretty","substring","number","decPlaces","pow","abbrev","string","BID_STATES","ExchangeConstants","TIMEOUTS","limit","SEED","ETHEREUM_NETWORKS","for","5","production","development","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_EVENT_TYPES","_WALLET_ACTIONS_MSGS","setLang","adex_translations__WEBPACK_IMPORTED_MODULE_0__","adex_translations__WEBPACK_IMPORTED_MODULE_0___default","n","react_dom_server__WEBPACK_IMPORTED_MODULE_1__","translations","adexTranslations","translation","tpl","arg","renderToString","interpolate","lng","history__WEBPACK_IMPORTED_MODULE_0__","createHashHistory","accountStatsLoop","updateAccountStats","initialState","signin","passConfirm","publicKey","seedCheck","authenticated","currentItem","web3Transactions","ethNetwork","networkId","gasData","market","isEthAddressERC20","contract","Contract","ERC20TokenABI","totalSupply","AddressZero","allowance","getERC20Balance","_ref3$addr","_ref3$balanceFor","balanceFor","QUICK_WALLET_BACKUP","UPDATING_ACCOUNT_IDENTITY","types","updateUi","category","_ref$label","_ref$timeout","getGuid","toastId","_ref2$confirmLabel","_ref2$cancelLabel","_ref2$title","_ref2$text","changeLanguage","get","refreshCacheAndReload","_ref3$notification","notification","caches","grant","getErrorMsg","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","uploadImage","imageBlob","imageName","Base","updateObject","imageIpfs","resItem","postAdUnit","marketAdd","resUnit","passback","postAdSlot","resUnits","resSlots","getAdUnits","getAdSlots","updateItems","_selectRelayerConfig2","updatedItem","marketUpdate","updateAdSlot","updateAdUnit","updateCampaign","deleteItem","_deleted","restoreItem","successMsg","findSourceByTag","response","mediaURL","mediaSize","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","meta","updateTags","addNewTag","addSig","_ref$addr","expiryTime","_ref$identity","getSig","_ref2$addr","_ref2$identity","sigAndTIme","updateSignin","resetSignin","createAccount","updateAccount","updateChannelsWithBalance","updateGasData","updateAccountIdentityData","updatedIdentity","isLimitedVolume","updateValidatorAuthTokens","newAuth","newIdentity","newTokens","createSession","_ref9$identity","deleteLegacyKey","newWallet","sessionSignature","leaderValidatorAuth","checkSession","skipErrToast","getSession","signerAddress","cfg","getNetworkId","_callee12","_ref24","_context12","getNetwork","getNetworkData","_callee13","network","_context13","onMetamaskNetworkChange","isMetamaskMatters","t4","t5","_x10","_x11","onMetamaskAccountChange","accountAddress","hasAuth","_account$wallet","identityContractOwner","_x12","_x13","metamaskAccountCheck","ethereumSelectedAddress","_x14","_x15","ethereumNetworkId","_x16","_x17","_ref20","_callee10","_context10","ethereum","on","accounts","_x18","_x19","hasBackup","_callee14","_ref21","_ref25","_context14","generateSalt","getWalletHash","makeBackup","_callee15","_ref22","walletSalt","walletHash","_context15","_ref23","_callee11","_selectWallet","isLocal","_context11","_x22","_x23","_getState$persist$acc","_isValid","validEthAddress","nonZeroAddr","nonERC20","newErrors","_ref4$err","_ref4$dirty","_ref4$removeAll","handleAfterValidation","validEmail","validPassword","validateTOS","accepted","freeAdExENS","validateWallet","validateIdentityContractOwner","_x20","_x21","validateAccessWarning","validateCampaignUnits","_x24","_x25","validateCampaignValidators","_x26","_x27","validateAmounts","_ref22$maxDeposit","_x28","_x29","validateCampaignAmount","_ref26","_callee16","isValidNumber","deposit","isValidDeposit","isValidMin","_context16","_x30","_x31","getCampaignDatesValidation","_ref27","_ref27$created","validateCampaignDates","_ref28","_ref29","_callee17","_context17","_x32","_x33","validateCampaignTitle","_ref30","_ref31","_callee18","_context18","_x34","_x35","validateEthAddress","_ref32","_ref32$nonZeroAddr","_ref32$nonERC","_ref33","_callee19","_ref34","_context19","_x36","_x37","validatePrivilegesAddress","_ref35","_ref35$setAddr","_ref35$walletAddr","_ref36","_callee20","isCurrentAddress","_context20","_x38","_x39","validatePrivLevel","_ref37","_ref38","_callee21","_context21","_x40","_x41","resetWallet","onUploadLocalWallet","reader","onError","files","FileReader","abort","readAsText","setIdentityENS","username","addIdentityENS","identityData","_data","_selectIdentity","identityTxData","registerAccount","actualAuthType","walletInfo","identityPrivileges","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","getIdentityDeployData","validateQuickDeploy","_identityAddr","createLocalWallet","addDataToWallet","dataKey","dataValue","every","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","_selectNewTransaction","_selectAccountIdentit","inputValidations","validation","fillEmptyTime","prevAggr","intervals","nowUTC","utc","lastSixHoursPeriod","startOf","lastHour","subtract","end","last24Hours","last7Days","thisWeek","endOf","lastWeek","thisMonth","lastMonth","intervalsMs","interval","ammount","newAggr","diff","unix","analyticsParams","callsParams","analyticsCampaignsParams","checkAccountChanged","accountCheck","_getState$persist","leaderAuth","accountChanged","allAnalytics","identityAnalytics","identityCampaignsAnalytics","updateCampaignState","lastApprovedState","getHumanFriendlyName","_selectAccount","campaignsFromStore","campaignPromises","campaignsMapped","getCampaigns","authTokens","closeCampaignMarket","currentCampaign","tempValidators","_campaign$temp2","totalSpend","itemActions","uiActions","accountActions","identityActions","bidActions","transactionActions","validationActions","analyticsActions","campaignActions","setLogLevel","getEthersResult","adexCore","coreAddr","getAdexCore","_selectRelayerConfig3","standard","getMainToken","identityFactory","getIdentityFactory","MainToken","localWeb3","providers","JsonRpcProvider","loadInjectedWeb3","addEventListener","web3","injectedWeb3","enable","Web3Provider","getLocalWeb3","networkVersion","isMetaMask","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","derivedKey","getCipherKey","isLegacyCrypto","getRandomMnemonic","randomEntropy","HDNode","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","fromMnemonic","encrKey","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","decrData","_decrData","_ref4$email","decryptedStr","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getEncrypted","_removeLegacyKey","_ref7$email","_ref7$password","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","_ref8$dataValue","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","mail","isWallet","_getWalletHash","passwordId","dataStr","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","addrsFromPubKey","chainCode","_ref2$from","_ref2$to","hdKey","addrs","HDKey","derive","publicExtendedKey","fromExtendedKey","_ref4$from","_ref4$to","transport","eth","_args2","_transport","create","LedgerEth","txUnsigned","signTransaction","signPersonalMessage","joinSignature","TransportU2F","alpha","substr","hexToDec","h","g","stack","isInt","int","shuffleArray","array","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","isMoment","HEADER","base64","alg","payloadEncoded","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","parts","verifyMessage","decode","Module","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","selectors__WEBPACK_IMPORTED_MODULE_2__","_package_json__WEBPACK_IMPORTED_MODULE_3__","actions__WEBPACK_IMPORTED_MODULE_4__","cache","latestVersion","versionA","versionB","versionsA","versionsB","isNaN","semverGreaterThan","appVersion","isConnectionLost","race","getBlockNumber","urlRegex","emailRegex","passwordRegex","numberStr","isFinite","isEthAddressZero","ethAddressZero","ethAddressERC20","_ref3$ens","ensAddress","resolveName","code","dontThrow","_ref3$imageName","formData","FormData","append","convertItemToJSON","itemToConvert","byCreator","updateCfg","newCfg","persistReducers","newState","filterActions","collectionId","addItem","toAdd","newCol","removeCollectionProp","toRemove","newItems","currentItems","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","pTxs","updateObj","txHash","memoryReducers","newSignin","newToast","added","hasOwnProperty","updateTx","reduxRouterMiddleware","routerMiddleware","persistConfig","storage","rootReducer","combineReducers","persistCombineReducers","connectRouter","configureStore","middlewares","thunk","createStore","compose","applyMiddleware","persistStore","store_store","store_persistor","ScdMcdMigration","ScdMcdMigrationABI","SCD_MCD_MIGRATION_ADDR","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","identityRecoveryAddr","outpace","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","_withdrawFromIdentity","toWithdraw","withdrawTx","maxWithdraw","actualWithdrawAmount","transfer","_setIdentityPrivilege","identityInterface","tx1","setAddrPrivilege","txnsByTokenWithSaiToDaiSwap","daiAddr","saiWithdrawAmount","_addIdentityENS","_ref5$username","AdExENSManagerInterface","ReverseRegistrarInterface","tx2","registerAndSetup","setName","_getIdentityTxnsWithNoncesAndFees","_ref6$amountInMainTok","_ref6$txns","_selectRelayerConfig4","mainTokenWithFees","isDeployed","initialNonce","feesForMainTxns","_ref15$sweepTxns","_ref15$swapAmountsByT","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","toNumber","minDeploy","swapSaiToDaiTxns","swapAmount","t6","Set","_tx$routinesTxCount","_tx$routinesSweepTxCo","_tx$extraTxFeesCount","minFeeAmount","routinesFeeAmount","extraFeesAmount","feeAmount","nonIdentityBalanceFeeAmount","txWithNonce","_getApproveTxns","approve","swapTx","swapSaiToDai","_getIdentityTxnsTotalFees","_ref9$mainToken","byToken","byFeeToken","txFeeAmount","_feeTokenWhitelist$ke","feeFormatted","_processExecuteByFeeTokens","_ref10$extraData","getValidatorRequester","getRequesters","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","existingAuth","era","ewt","sendMessage","_authTokens","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","authorization","events","aggregates","idenityAddr"],"mappings":"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","file":"static/js/main.ac8a4aff.chunk.js","sourcesContent":["import { createSelectorCreator, defaultMemoize } from 'reselect'\nimport isEqual from 'lodash.isequal'\n\n// deep equal memoization instad reference check\nexport const createDeepEqualSelector = createSelectorCreator(\n\tdefaultMemoize,\n\tisEqual\n)\n\nexport const creatArrayOnlyLengthChangeSelector = createSelectorCreator(\n\tdefaultMemoize,\n\t(a = [], b = []) => a.length === b.length\n)\n","import { createSelector } from 'reselect'\nimport { createDeepEqualSelector } from 'selectors'\nimport { getState } from 'store'\n\nexport const selectAccount = state => state.persist.account || {}\nexport const selectChannels = state => (state || getState()).persist.channels\n\nexport const selectAuth = createSelector(\n\tselectAccount,\n\t({ wallet, identity }) =>\n\t\t!!wallet &&\n\t\t!!wallet.address &&\n\t\t!!wallet.authSig &&\n\t\t!!wallet.authType &&\n\t\t!!identity.address\n)\n\nexport const selectWallet = createDeepEqualSelector(\n\tselectAccount,\n\t({ wallet }) => wallet || {}\n)\n\nexport const selectAuthSig = createSelector(\n\tselectWallet,\n\t({ authSig }) => authSig\n)\n\nexport const selectWalletAddress = createSelector(\n\tselectWallet,\n\t({ address }) => address\n)\n\nexport const selectAuthType = createSelector(\n\tselectWallet,\n\t({ authType }) => authType\n)\n\nexport const selectAccountIdentity = createSelector(\n\tselectAccount,\n\t({ identity }) => identity || {}\n)\n\nexport const selectAccountIdentityAddr = createSelector(\n\tselectAccountIdentity,\n\t({ address }) => address\n)\n\nexport const selectAccountStats = createSelector(\n\tselectAccount,\n\t({ stats }) => stats || {}\n)\n\nexport const selectAccountSettings = createSelector(\n\tselectAccount,\n\t({ settings }) => settings || {}\n)\n\nexport const selectAccountStatsRaw = createSelector(\n\tselectAccountStats,\n\t({ raw }) => raw || {}\n)\n\nexport const selectAccountStatsFormatted = createSelector(\n\tselectAccountStats,\n\t({ formatted }) => formatted || {}\n)\n\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData }) =>\n\t\trelayerData &&\n\t\trelayerData.routineAuthorizationsData &&\n\t\trelayerData.routineAuthorizationsData[0]\n\t\t\t? relayerData.routineAuthorizationsData[0]\n\t\t\t: null\n)\n\nexport const selectChannelsWithUserBalances = createSelector(\n\tselectChannels,\n\t({ withBalance }) => withBalance\n)\n\nexport const selectAccountIdentityCurrentPrivileges = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData: { currentPrivileges } }) => currentPrivileges || {}\n)\n","export const selectIdentity = state => state.memory.identity\n","import { createSelector } from 'reselect'\n\nexport const selectLocation = state => state.router.location\n\nexport const selectSearch = createSelector(\n\tselectLocation,\n\t({ search }) => search\n)\n\nexport const selectLocationQuery = createSelector(\n\tselectLocation,\n\t({ query }) => query || {}\n)\n\nexport const selectSearchParams = createSelector(\n\tselectLocation,\n\t({ search }) => new URLSearchParams(search)\n)\n","import { createSelector } from 'reselect'\n\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\n\nexport const selectNavTitle = state => state.memory.nav.navTitle\nexport const selectSide = state => state.memory.nav.side\nexport const selectUi = state => state.persist.ui\n\nexport const selectSpinners = state => state.memory.spinners\n\nexport const selectSpinnerById = createSelector(\n\t[selectSpinners, (_, id) => id],\n\t(spinners, id) => spinners[id]\n)\n\nexport const selectMultipleSpinnersByIds = createSelector(\n\t[selectSpinners, (_, ids) => ids],\n\t(spinners, ids) => ids.map(id => spinners[id])\n)\n\nexport const selectRegistrationAllowed = createSelector(\n\tselectUi,\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\n)\n","import { createSelector } from 'reselect'\nimport { translate } from 'services/translations/translations'\nimport { getState } from 'store'\n\nexport const selectLang = state => state.persist.language\n\nexport const selectTranslations = createSelector(\n\t[\n\t\tselectLang,\n\t\t(_, val, opts = {}) => {\n\t\t\treturn { val, opts }\n\t\t},\n\t],\n\t(lang, { val, opts }) => {\n\t\tconst { isProp = false, args = [''] } = opts\n\t\treturn translate(val, { isProp, args }, lang)\n\t}\n)\n\n// Need to useSelector for language in top component where this will be used\n// Now this is don by using Translate Hoc on Root\n// It will work in actions too as the state isg get when they are called and don't need update\nexport const t = (val, opts) => {\n\treturn selectTranslations(getState(), val, opts)\n}\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\nimport { formatTokenAmount, formatDateTime } from 'helpers/formatters'\n\nexport const selectAnalytics = state => (state || getState()).persist.analytics\n\nexport const selectAnalyticsData = createSelector(\n\t[selectAnalytics, (_, side) => side],\n\t(analytics, side) => {\n\t\treturn analytics[side] || {}\n\t}\n)\n\nexport const selectCampaignAnalytics = createSelector(\n\t[selectAnalytics],\n\tanalytics => analytics.campaigns || {}\n)\n\nexport const selectCampaignAnalyticsByType = createSelector(\n\t[selectCampaignAnalytics, (_, type) => type],\n\t(campaignAnalytics, type) => campaignAnalytics[type] || {}\n)\n\nexport const selectCampaignAnalyticsByChannelStats = createSelector(\n\t(state, { type, campaignId } = {}) => [\n\t\tselectCampaignAnalyticsByType(state, type),\n\t\tcampaignId,\n\t],\n\t([analyticsByType, campaignId]) =>\n\t\t(analyticsByType.byChannelStats || {})[campaignId] || {}\n)\n\nexport const selectAnalyticsDataAggr = createSelector(\n\t[selectAnalytics, (_, opts = {}) => opts],\n\t(analytics = {}, { side, eventType, metric, timeframe }) => {\n\t\t// return analytics[side]['eventType'][metric][timeframe].aggr\n\t\t// NOTE: It was working fine with default initial state but\n\t\t// when eventType CLICK was added if you were logged and had\n\t\t// old analytics the initialState is not applied === boom.\n\n\t\tconst {\n\t\t\t[side]: {\n\t\t\t\t[eventType]: {\n\t\t\t\t\t[metric]: { [timeframe]: { aggr = [] } = {} } = {},\n\t\t\t\t} = {},\n\t\t\t} = {},\n\t\t} = analytics\n\n\t\treturn aggr\n\t}\n)\n\nexport const selectTotalImpressions = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalClicks = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'CLICK',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalMoney = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t}),\n\teventPayouts =>\n\t\teventPayouts\n\t\t\t? eventPayouts.reduce(\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value, 18)) || 0,\n\t\t\t\t\t0\n\t\t\t  )\n\t\t\t: null\n)\n\nexport const selectAverageCPM = createSelector(\n\t[\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalMoney(state, { side, timeframe }),\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalImpressions(state, { side, timeframe }),\n\t],\n\t(totalMoney, totalImpressions) =>\n\t\ttotalMoney !== null && totalImpressions !== null\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\n\t\t\t: null\n)\n\nconst parseValueByMetric = ({ value, metric }) => {\n\tswitch (metric) {\n\t\tcase 'eventPayouts':\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\n\t\tcase 'eventCounts':\n\t\t\treturn parseInt(value, 10)\n\t\tdefault:\n\t\t\treturn value\n\t}\n}\n\nexport const selectStatsChartData = createSelector(\n\t[\n\t\t(state, { noLastOne, ...rest } = {}) => {\n\t\t\treturn { data: selectAnalyticsDataAggr(state, rest), noLastOne, ...rest }\n\t\t},\n\t],\n\t({ data = [], noLastOne, metric, ...rest }) => {\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\n\t\treturn aggr.reduce(\n\t\t\t(memo, item) => {\n\t\t\t\tconst { time, value } = item\n\t\t\t\tmemo.labels.push(formatDateTime(time))\n\t\t\t\tmemo.datasets.push(parseValueByMetric({ value, metric }))\n\t\t\t\treturn memo\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabels: [],\n\t\t\t\tdatasets: [],\n\t\t\t}\n\t\t)\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectValidations = state => state.memory.validations\n\nexport const selectValidationsById = createSelector(\n\t[selectValidations, (_, id) => id],\n\t(validations, id) => validations[id]\n)\n\nexport const selectMultipleValidationsByIds = createSelector(\n\t[selectValidations, (_, ids) => ids],\n\t(validations, ids) => ids.map(id => validations[id])\n)\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\n\n// can be used outside  components\nexport const selectRelayerConfig = state => {\n\treturn (state || getState()).persist.config.relayer\n}\n\n// - relayer cfg\n// network,\n// feeTokenWhitelist, // [{ address, symbol, decimals, standard, min, minDeploy }],\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal }],\n// coreAddr,\n// baseIdentityAddr,\n// identityFactoryAddr,\n// registryAddr,\n// daiAddr,\n// marketUrl,\n// identityRecoveryAddr,\n// weeklyFeeAmount,\n// mainToken, // { address, symbol, decimals, standard },\n// advertiserMinGrantAmount\n// relayerAddr\n\nexport const selectFeeTokenWhitelist = createSelector(\n\t[selectRelayerConfig],\n\t({ feeTokenWhitelist }) => {\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokens = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.map(t => t.address)\n\t}\n)\n\nexport const selectConfig = createSelector(\n\t[selectRelayerConfig],\n\trelayerConfig => {\n\t\tconst cfg = { ...relayerConfig }\n\t\treturn cfg\n\t}\n)\n\nexport const selectMainToken = createSelector(\n\t[selectRelayerConfig],\n\t({ mainToken }) => mainToken || {}\n)\n\nexport const selectSaiToken = createSelector(\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\n)\n\nexport const selectMainFeeToken = createSelector(\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\n\t({ mainToken }, feeTokenWhitelist) => {\n\t\treturn feeTokenWhitelist[mainToken.address]\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectNewTransactions = state => state.memory.newTransactions\n\nexport const selectNewTransactionById = createSelector(\n\t[selectNewTransactions, (_, id) => id],\n\t(txns, id) => txns[id] || {}\n)\n","import {\n\tCampaign as CampaignModel,\n\tAdUnit as AdUnitModel,\n\tAdSlot as AdSlotModel,\n} from 'adex-models'\n\nimport { createSelector } from 'reselect'\n\nexport const selectNewItems = state => state.memory.newItem\n\nexport const selectNewCampaign = createSelector(\n\tselectNewItems,\n\t({ Campaign }) => new CampaignModel(Campaign)\n)\n\nexport const selectNewAdUnit = createSelector(\n\tselectNewItems,\n\t({ AdUnit }) => new AdUnitModel(AdUnit)\n)\n\nexport const selectNewAdSlot = createSelector(\n\tselectNewItems,\n\t({ AdSlot }) => new AdSlotModel(AdSlot)\n)\n","import { createSelector } from 'reselect'\n\nexport const selectItems = state => state.persist.items\n\nexport const selectItemsByType = createSelector(\n\t[selectItems, (_, itemType) => itemType],\n\t(items, itemType) => items[itemType] || {}\n)\n\nexport const selectItemsArrayByType = createSelector(\n\t[selectItemsByType, (_, itemType) => itemType],\n\titems => Object.values(items)\n)\n\nexport const selectCampaigns = createSelector(\n\tstate => selectItemsByType(state, 'Campaign'),\n\tcampaigns => campaigns\n)\n\nexport const selectCampaignsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'Campaign'),\n\tcampaigns => campaigns\n)\n\nexport const selectAdUnits = createSelector(\n\tstate => selectItemsByType(state, 'AdUnit'),\n\tadUnits => adUnits\n)\n\nexport const selectAdUnitById = createSelector(\n\t[selectAdUnits, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectAdUnitsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'AdUnit'),\n\tadUnits => adUnits\n)\n\nexport const selectAdSlots = createSelector(\n\tstate => selectItemsByType(state, 'AdSlot'),\n\tadSlots => adSlots\n)\n\nexport const selectAdSlotsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'AdSlot'),\n\tadSlots => adSlots\n)\n","import { createSelector } from 'reselect'\nimport {\n\tselectCampaignsArray,\n\tselectRoutineWithdrawTokens,\n\tselectAdSlotsArray,\n\tselectAdUnits,\n\tcreatArrayOnlyLengthChangeSelector,\n\tselectCampaignAnalyticsByChannelStats,\n} from 'selectors'\nimport { formatUnits } from 'ethers/utils'\n\nexport const selectCampaignsTableData = createSelector(\n\t[selectCampaignsArray, selectRoutineWithdrawTokens, (_, side) => side],\n\t(campaigns, tokens, side) =>\n\t\tcampaigns.map(item => {\n\t\t\tconst { decimals = 18 } = tokens[item.depositAsset] || {}\n\t\t\tconst spec = item.spec || {}\n\t\t\treturn {\n\t\t\t\tmedia: {\n\t\t\t\t\tid: item.id,\n\t\t\t\t\tadUnits: item.adUnits,\n\t\t\t\t},\n\t\t\t\tstatus: {\n\t\t\t\t\thumanFriendlyName: item.status.humanFriendlyName,\n\t\t\t\t\toriginalName: item.status.name,\n\t\t\t\t},\n\t\t\t\tdepositAmount: Number(formatUnits(item.depositAmount || '0', decimals)),\n\t\t\t\tfundsDistributedRatio: item.status.fundsDistributedRatio || 0,\n\t\t\t\timpressions: Number(item.impressions || '0'),\n\t\t\t\tclicks: Number(item.clicks || '0'),\n\t\t\t\tminPerImpression:\n\t\t\t\t\tNumber(\n\t\t\t\t\t\tformatUnits(\n\t\t\t\t\t\t\tspec.minPerImpression || item.minPerImpression || '0',\n\t\t\t\t\t\t\tdecimals\n\t\t\t\t\t\t)\n\t\t\t\t\t) * 1000,\n\t\t\t\tcreated: item.created,\n\t\t\t\tactiveFrom: spec.activeFrom || item.activeFrom,\n\t\t\t\twithdrawPeriodStart:\n\t\t\t\t\tspec.withdrawPeriodStart || item.withdrawPeriodStart,\n\t\t\t\tactions: {\n\t\t\t\t\tto: `/dashboard/${side}/Campaign/${item.id}`,\n\t\t\t\t},\n\t\t\t}\n\t\t})\n)\n\nexport const selectCampaignsTableDataOnLengthChange = creatArrayOnlyLengthChangeSelector(\n\tselectCampaignsTableData,\n\tdata => data\n)\n\nexport const selectCampaignsMaxImpressions = createSelector(\n\tselectCampaignsArray,\n\tcampaigns =>\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.impressions || 0))) || 1\n)\n\nexport const selectCampaignsMaxClicks = createSelector(\n\tselectCampaignsArray,\n\tcampaigns =>\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.clicks || 0))) || 1\n)\n\nexport const selectCampaignsMaxDeposit = createSelector(\n\t[selectCampaignsArray, selectRoutineWithdrawTokens],\n\t(campaigns, tokens) =>\n\t\tMath.max.apply(\n\t\t\tnull,\n\t\t\tcampaigns.map(i => {\n\t\t\t\tconst { decimals = 18 } = tokens[i.depositAsset] || {}\n\t\t\t\treturn Number(formatUnits(i.depositAmount, decimals) || 0)\n\t\t\t})\n\t\t)\n)\n\nexport const selectAdSlotsTableData = createSelector(\n\t[selectAdSlotsArray, (_, side) => side],\n\t(slots, side) =>\n\t\tslots.map(item => {\n\t\t\treturn {\n\t\t\t\tmedia: {\n\t\t\t\t\tid: item.id,\n\t\t\t\t\tmediaUrl: item.fallbackUnit ? `ipfs://${item.fallbackUnit}` : '', //TODO: provide fallback image to slot\n\t\t\t\t\tmediaMime: 'image/jpeg',\n\t\t\t\t},\n\t\t\t\ttitle: item.title,\n\t\t\t\ttype: item.type.replace('legacy_', ''),\n\t\t\t\tcreated: item.created,\n\t\t\t\tactions: {\n\t\t\t\t\tto: `/dashboard/${side}/AdSlot/${item.id || item.ipfs}`,\n\t\t\t\t\titem,\n\t\t\t\t},\n\t\t\t}\n\t\t})\n)\n\nexport const selectAdUnitsTableData = createSelector(\n\t[selectAdUnits, (_, { side, items }) => ({ side, items })],\n\t(units, { side, items }) =>\n\t\tObject.values(items || units).map(item => ({\n\t\t\tid: item.id,\n\t\t\tmedia: {\n\t\t\t\tid: item.id,\n\t\t\t\tmediaUrl: item.mediaUrl,\n\t\t\t\tmediaMime: item.mediaMime,\n\t\t\t},\n\t\t\ttitle: item.title || units[item.ipfs].title,\n\t\t\ttype: item.type,\n\t\t\tcreated: item.created,\n\t\t\tactions: {\n\t\t\t\tto: `/dashboard/${side}/AdUnit/${item.id || item.ipfs}`,\n\t\t\t\titem,\n\t\t\t},\n\t\t}))\n)\n\nexport const selectCampaignStatsTableData = createSelector(\n\t(state, campaignId) => {\n\t\treturn {\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t}\n\t},\n\t({ impressions, clicks }) => {\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\n\t\tconst earnStats = impressions.reportChannelToHostnamePay || {}\n\t\treturn Object.keys(imprStats).map(key => ({\n\t\t\twebsite: key,\n\t\t\timpressions: imprStats[key] || 0,\n\t\t\tctr:\n\t\t\t\t(((clickStats[key] || 0) / (imprStats[key] || 0)) * 100).toFixed(2) ||\n\t\t\t\t0,\n\t\t\tearnings: Number((earnStats[key] || 0).toFixed(2)),\n\t\t\tclicks: clickStats[key] || 0,\n\t\t}))\n\t}\n)\n\nexport const selectCampaignStatsMaxValues = createSelector(\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\n\t\t\t\tnewResult.maxImpressions = Math.max(\n\t\t\t\t\tcurrent.impressions,\n\t\t\t\t\tnewResult.maxImpressions\n\t\t\t\t)\n\t\t\t\tnewResult.maxEarnings = Math.max(\n\t\t\t\t\tcurrent.earnings,\n\t\t\t\t\tnewResult.maxEarnings\n\t\t\t\t)\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxEarnings: 0, maxCTR: 0 }\n\t\t)\n)\n","import { createSelector } from 'reselect'\nimport { t, selectCampaignAnalyticsByChannelStats } from 'selectors'\n\nexport const selectCampaignDoughnutStats = createSelector(\n\t(state, { campaignId, chartColors, maxDataSets }) => {\n\t\tconst analytics = {\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t}\n\n\t\treturn { ...analytics, chartColors, maxDataSets }\n\t},\n\t({ impressions, clicks, chartColors, maxDataSets }) => {\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\n\n\t\tconst { labels, impressionsData, clicksData } = Object.keys(imprStats)\n\t\t\t.sort((a, b) => imprStats[b] - imprStats[a])\n\t\t\t.reduce(\n\t\t\t\t(data, key, i) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tif (i < maxDataSets) {\n\t\t\t\t\t\tnewData.labels.push(key)\n\t\t\t\t\t\tnewData.impressionsData.push(imprStats[key] || 0)\n\t\t\t\t\t\tdata.clicksData.push(clickStats[key] || 0)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata.labels[maxDataSets] = t('PIE_CHART_OTHER')\n\n\t\t\t\t\t\tdata.impressionsData[maxDataSets] =\n\t\t\t\t\t\t\t(data.impressionsData[maxDataSets] || 0) + (imprStats[key] || 0)\n\n\t\t\t\t\t\tdata.clicksData[maxDataSets] =\n\t\t\t\t\t\t\t(data.clicksData[maxDataSets] || 0) + (clickStats[key] || 0)\n\t\t\t\t\t}\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{ labels: [], impressionsData: [], clicksData: [] }\n\t\t\t)\n\n\t\tconst data = {\n\t\t\tlabels,\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: chartColors,\n\t\t\t\t\thoverBackgroundColor: chartColors,\n\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\tdata: impressionsData,\n\t\t\t\t\tlabel: t('CHART_LABEL_IMPRESSIONS'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: chartColors,\n\t\t\t\t\thoverBackgroundColor: chartColors,\n\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\tdata: clicksData,\n\t\t\t\t\tlabel: t('CHART_LABEL_CLICKS'),\n\t\t\t\t},\n\t\t\t],\n\t\t}\n\n\t\treturn data\n\t}\n)\n","export * from './selectors'\nexport * from './accountSelectors'\nexport * from './identitySelectors'\nexport * from './locationSelectors'\nexport * from './uiSelectors'\nexport * from './translationsSelectors'\nexport * from './analyticsSelectors'\nexport * from './validationsSelectors'\nexport * from './configSelectors'\nexport * from './newTransactionSelectors'\nexport * from './newItemsSelectors'\nexport * from './itemsSelectors'\nexport * from './tablesDataSelectors'\nexport * from './chartsSelectors'\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\n\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getOwnerIdentities = ({ owner }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/by-owner/${owner}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getIdentityData = ({ identityAddr }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getRelayerConfigData = () => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'relayer/cfg',\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}/execute`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttxnsRaw,\n\t\t\t\tsignatures,\n\t\t\t\tidentityAddr,\n\t\t\t\tchannel,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const regAccount = ({\n\towner,\n\temail,\n\tbytecode,\n\tidentityFactoryAddr,\n\tbaseIdentityAddr,\n\tsalt,\n\tidentityAddr,\n\tprivileges,\n\troutineAuthorizationsRaw,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\towner,\n\t\t\t\temail,\n\t\t\t\tbytecode,\n\t\t\t\tidentityFactoryAddr,\n\t\t\t\tbaseIdentityAddr,\n\t\t\t\tsalt,\n\t\t\t\tidentityAddr,\n\t\t\t\tprivileges,\n\t\t\t\troutineAuthorizationsRaw,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getQuickWallet = ({ hash }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail,\n\t\t\t\tsalt,\n\t\t\t\thash,\n\t\t\t\tencryptedWallet,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n","import { Signer, utils } from 'ethers'\nimport TrezorConnect from 'trezor-connect'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\n\nTrezorConnect.manifest({\n\temail: 'contactus@adex.network',\n\tappUrl: 'http://adex.network',\n})\n\nexport default class TrezorSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\n\t\tconst bundle = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tbundle.push({\n\t\t\t\tpath: this.path + `/${index}`,\n\t\t\t\tshowOnTrezor: false,\n\t\t\t})\n\t\t}\n\n\t\treturn { bundle }\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\n\t\t\tthis.getAddsParams({ from, to })\n\t\t)\n\n\t\treturn { success, payload }\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\n\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\n\t\t\tpath: this.path,\n\t\t\ttransaction: txProps,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst signature = {\n\t\t\t\tr: payload.r,\n\t\t\t\ts: payload.s,\n\t\t\t\tv: parseInt(payload.v),\n\t\t\t}\n\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\t\treturn txSigned\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\n\t\t\tpath: this.path,\n\t\t\tmessage: message,\n\t\t\thex: !!opts.hex,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst res = {\n\t\t\t\t/*\n\t\t\t\t * NOTE: SignatureTypes.GETH\n\t\t\t\t * Current TrezorConnect window does not\n\t\t\t\t * accept device with old firmware\n\t\t\t\t */\n\t\t\t\tsignature: '0x' + payload.signature,\n\t\t\t\thash: message,\n\t\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\t\taddress: payload.address,\n\t\t\t}\n\n\t\t\treturn res\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tconnect = provider => {\n\t\treturn new TrezorSigner(provider, { path: this.path })\n\t}\n}\n","import { Signer, utils, Wallet } from 'ethers'\nimport { getLocalWallet } from 'services/wallet/wallet'\nimport { constants } from 'adex-models'\n\nexport default class LocalSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\n\t\tthis._provider = provider\n\t\tthis._opts = opts\n\t}\n\n\tgetWallet = async () => {\n\t\tif (this._wallet) {\n\t\t\treturn this._wallet\n\t\t} else {\n\t\t\tconst { email, password, authType } = this._opts\n\t\t\tconst walletData = await getLocalWallet({\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\n\t\t\treturn this._wallet\n\t\t}\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn await this.getWallet().address\n\t}\n\n\tsignTx = async params => {\n\t\tconst signetTx = await this.getWallet().sign(params)\n\t\treturn signetTx\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst wallet = await this.getWallet()\n\n\t\tconst signature = await wallet.signMessage(message)\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: wallet.address,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LocalSigner(provider, {\n\t\t\temail: this.email,\n\t\t\tpassword: this.password,\n\t\t})\n\t}\n}\n","import { Signer, utils } from 'ethers'\nimport { constants } from 'adex-models'\n\nexport default class MetaMaskSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._signer = provider.getSigner()\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn this._signer.getAddress()\n\t}\n\n\tsendTransaction = async params => {\n\t\treturn this._signer.sendTransaction(params)\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst signature = await this._signer.signMessage(message)\n\t\t// TODO: support EIP712\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: await this._signer.getAddress(),\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new MetaMaskSigner(provider)\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { utils } from 'ethers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\nimport LedgerSigner from 'services/smart-contracts/signers/ledger'\nimport LocalSigner from 'services/smart-contracts/signers/local'\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\n\nexport async function getSigner({ wallet, provider }) {\n\t// TODO: Maybe get provider here?\n\tconst { authType, path, email, password } = wallet\n\n\tif (authType === AUTH_TYPES.METAMASK.name) {\n\t\tconst signer = new MetaMaskSigner(provider)\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.LEDGER.name) {\n\t\tconst signer = new LedgerSigner(provider, { path })\n\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.TREZOR.name) {\n\t\tconst signer = new TrezorSigner(provider, { path })\n\t\treturn signer\n\t}\n\tif (\n\t\tauthType === AUTH_TYPES.GRANT.name ||\n\t\tauthType === AUTH_TYPES.QUICK.name\n\t) {\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\n\n\t\treturn signer\n\t}\n\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\n}\n\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\nexport const getTypedDataHash = ({ typedData }) => {\n\tconst values = typedData.map(entry => {\n\t\treturn typeof entry.value === 'string'\n\t\t\t? utils.toUtf8Bytes(entry.value)\n\t\t\t: utils.hexlify(entry.value)\n\t})\n\tconst valuesHash = utils.keccak256.apply(null, values)\n\tconst schema = typedData.map(entry => {\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\n\t})\n\n\tconst schemaHash = utils.keccak256.apply(null, schema)\n\tconst hash = utils.solidityKeccak256(\n\t\t['bytes32', 'bytes32'],\n\t\t[schemaHash, valuesHash]\n\t)\n\n\treturn hash\n}\n\nexport async function getAuthSig({ wallet }) {\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst authToken = Math.floor(\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\n\t).toString()\n\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\n\tconst hash = getTypedDataHash({ typedData })\n\tconst signature = await signer.signMessage(hash, { hex: true })\n\n\treturn {\n\t\t...signature,\n\t\tauthToken,\n\t\thash,\n\t}\n}\n\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\n\tconst { provider } = await getEthers(authType)\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\n\n\treturn Promise.all(receipts)\n}\n\nexport async function signTx({ tx, signer }) {\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\n\t\thex: true,\n\t})\n\tconst signature = splitSig(sig.signature)\n\treturn signature\n}\n\nexport async function getMultipleTxSignatures({ txns, signer }) {\n\tconst signatures = []\n\tfor (const tx of txns) {\n\t\tsignatures.push(await signTx({ tx, signer }))\n\t}\n\n\treturn signatures\n}\n","export function loadFromLocalStorage(key) {\n\ttry {\n\t\tconst data = localStorage.getItem(key)\n\t\tif (data === null) {\n\t\t\treturn undefined\n\t\t}\n\t\treturn JSON.parse(data)\n\t} catch (err) {\n\t\treturn undefined\n\t}\n}\n\nexport function saveToLocalStorage(data, key) {\n\ttry {\n\t\tconst serialized = JSON.stringify(data)\n\t\tlocalStorage.setItem(key, serialized)\n\t} catch (err) {\n\t\tconsole.warn(err)\n\t}\n}\n\nexport function removeFromLocalStorage(key) {\n\tlocalStorage.removeItem(key)\n}\n\nexport function getKeys() {\n\treturn Object.keys(localStorage)\n}\n","export const ADD_ITEM = 'ADD_ITEM'\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\nexport const DELETE_ITEM = 'DELETE_ITEM'\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\nexport const UPDATE_UI = 'UPDATE_UI'\nexport const ADD_TOAST = 'ADD_TOAST'\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\nexport const UPDATE_NAV = 'UPDATE_NAV'\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\nexport const UNIT_PLACE_BID = 'PLACE_BID'\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\nexport const RESET_WALLET = 'RESET_WALLET'\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\nexport const UPDATE_ADVANCED_CAMPAIGN_ANALYTICS =\n\t'UPDATE_ADVANCED_CAMPAIGN_ANALYTICS'\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\nexport const UPDATE_CHANNELS_WITH_BALANCE = 'UPDATE_CHANNELS_WITH_BALANCE'\nexport const RESET_CHANNELS_WITH_BALANCE = 'RESET_CHANNELS_WITH_BALANCE'\n","module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport Button from '@material-ui/core/Button'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport InfoIcon from '@material-ui/icons/Info'\nimport CloseIcon from '@material-ui/icons/Close'\nimport IconButton from '@material-ui/core/IconButton'\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst variantIcon = {\n\taccept: CheckCircleIcon,\n\tsuccess: CheckCircleIcon,\n\twarning: WarningIcon,\n\tcancel: ErrorIcon,\n\terror: ErrorIcon,\n\tinfo: InfoIcon,\n}\n\nexport class Toast extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t\ttoast: {},\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tlet toast = this.state.toast\n\t\tlet nextToast = nextProps.toasts[0]\n\n\t\tif (!nextToast) {\n\t\t\tthis.setState({ active: false, toast: {} })\n\t\t\treturn\n\t\t}\n\n\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\n\n\t\tif (isNewToast) {\n\t\t\tthis.setState({ active: true, toast: nextToast })\n\t\t}\n\t}\n\n\tclose = id => {\n\t\tthis.setState({ active: false })\n\t\tthis.props.actions.removeToast(id)\n\t}\n\n\trender() {\n\t\tconst { toast } = this.state\n\t\tconst { classes } = this.props\n\t\tconst Icon = variantIcon[toast.type]\n\n\t\tif (!toast || !Icon) return null\n\n\t\tconst anchorOrigin = toast.anchorOrigin || {\n\t\t\tvertical: 'bottom',\n\t\t\thorizontal: 'center',\n\t\t}\n\n\t\tif (toast.top) {\n\t\t\tanchorOrigin.horizontal = 'center'\n\t\t\tanchorOrigin.vertical = 'top'\n\t\t}\n\n\t\treturn (\n\t\t\t<Snackbar\n\t\t\t\topen={this.state.active}\n\t\t\t\tautoHideDuration={toast.timeout || 0}\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\tanchorOrigin={anchorOrigin}\n\t\t\t>\n\t\t\t\t<SnackbarContent\n\t\t\t\t\taria-describedby='client-snackbar'\n\t\t\t\t\tmessage={\n\t\t\t\t\t\t<span id='client-snackbar' className={classes.message}>\n\t\t\t\t\t\t\t<Icon className={classnames(classes.icon, classes.iconVariant)} />\n\t\t\t\t\t\t\t{(toast.label || '').toString()}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t\taction={[\n\t\t\t\t\t\ttoast.action && toast.action,\n\t\t\t\t\t\t!toast.unclosable && (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tkey='close'\n\t\t\t\t\t\t\t\taria-label='Close'\n\t\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\t\tclassName={classes.close}\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CloseIcon className={classes.icon} />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t),\n\t\t\t\t\t]}\n\t\t\t\t\tclassName={classnames(classes.snackbar, {\n\t\t\t\t\t\t[classes.top]: !!toast.top,\n\t\t\t\t\t\t[classes.accept]: toast.type === 'accept',\n\t\t\t\t\t\t[classes.cancel]: toast.type === 'cancel',\n\t\t\t\t\t\t[classes.warning]: toast.type === 'warning',\n\t\t\t\t\t})}\n\t\t\t\t/>\n\t\t\t</Snackbar>\n\t\t)\n\t}\n}\n\nToast.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\ttoasts: PropTypes.array.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\t// let persist = state.persist\n\tlet memory = state.memory\n\treturn {\n\t\ttoasts: memory.toasts || [],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(withStyles(styles)(Toast))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tsnackbar: {\n\t\t\tborder: '3px solid',\n\t\t\tborderRadius: 0,\n\t\t\tbackgroundColor: '#222',\n\t\t\t'&.active': {\n\t\t\t\ttransform: 'translateY(-20%)',\n\t\t\t},\n\t\t\tmargin: spacing,\n\t\t},\n\t\twarning: {\n\t\t\tborderColor: '#FFAB00',\n\t\t\tcolor: '#FFAB00',\n\t\t},\n\t\tcancel: {\n\t\t\tborderColor: '#FF5722',\n\t\t\tcolor: '#FF5722',\n\t\t},\n\t\taccept: {\n\t\t\tborderColor: '#00E676',\n\t\t\tcolor: '#00E676',\n\t\t},\n\t\ticon: {\n\t\t\tfontSize: 20,\n\t\t},\n\t\ticonVariant: {\n\t\t\topacity: 0.9,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tmessage: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\twordBreak: 'break-all',\n\t\t},\n\t\ttop: {\n\t\t\twidth: '98vw',\n\t\t\tmaxWidth: '98vw',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { translate } from 'services/translations/translations'\nimport { selectLang } from 'selectors'\n\nexport default function Translate(Decorated) {\n\tfunction Translated(props) {\n\t\tconst language = useSelector(selectLang)\n\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\n\t\t\tconst translation = translate(val, { isProp, args }, language)\n\n\t\t\treturn translation\n\t\t}\n\n\t\treturn <Decorated {...props} t={t} />\n\t}\n\n\treturn Translated\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Dialog from '@material-ui/core/Dialog'\nimport Button from '@material-ui/core/Button'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Translate from 'components/translate/Translate'\n\nexport class Confirm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.cancel = this.cancel.bind(this)\n\t\tthis.confirm = this.confirm.bind(this)\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.setState({ active: nextProps.visible })\n\t}\n\n\tconfirm() {\n\t\tif (typeof this.props.confirm === 'function') {\n\t\t\tthis.props.confirm()\n\t\t}\n\t\tthis.setState({ active: false })\n\t}\n\n\tcancel() {\n\t\tif (typeof this.props.cancel === 'function') {\n\t\t\tthis.props.cancel()\n\t\t}\n\n\t\tthis.setState({ active: false })\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t\ttext,\n\t\t\tchildren,\n\t\t\tcancelLabel,\n\t\t\tconfirmLabel,\n\t\t\tt,\n\t\t\tnoActionBtns,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<Dialog open={this.state.active}>\n\t\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText id='alert-dialog-description'>\n\t\t\t\t\t\t{text}\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t{children}\n\t\t\t\t</DialogContent>\n\t\t\t\t{!noActionBtns && (\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.cancel} color='primary'>\n\t\t\t\t\t\t\t{cancelLabel || t('CANCEL')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button onClick={this.confirm} color='primary' autoFocus>\n\t\t\t\t\t\t\t{confirmLabel || t('OK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t)}\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n\nConfirm.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tcancelLabel: PropTypes.string,\n\tconfirmLabel: PropTypes.string,\n\ttitle: PropTypes.string.isRequired,\n\ttext: PropTypes.string,\n\tconfirm: PropTypes.func,\n\tcancel: PropTypes.func,\n\tvisible: PropTypes.bool,\n\tcalledOn: PropTypes.number,\n\tnoActionBtns: PropTypes.bool,\n}\n\nfunction mapStateToProps(state) {\n\tstate = state.memory\n\treturn {\n\t\tcancelLabel: state.confirm.data.cancelLabel,\n\t\tconfirmLabel: state.confirm.data.confirmLabel,\n\t\ttitle: state.confirm.data.title || '',\n\t\ttext: state.confirm.data.text || '',\n\t\tconfirm: state.confirm.onConfirm,\n\t\tcancel: state.confirm.onCancel,\n\t\tvisible: state.confirm.active || false,\n\t\tcalledOn: state.confirm.calledOn,\n\t\tnoActionBtns: state.confirm.noActionBtns,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(Confirm))\n","import React, { forwardRef } from 'react'\n// import PropTypes from 'prop-types'\nimport { withRouter } from 'react-router'\n\nexport const withReactRouterLink = Component => {\n\tclass Decorated extends React.Component {\n\t\tresolveToLocation = to => {\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\n\t\t\tconst href = this.props.history.createHref(path)\n\t\t\treturn href\n\t\t}\n\n\t\thandleClick = async event => {\n\t\t\tevent.preventDefault()\n\t\t\tevent.stopPropagation()\n\t\t\tconst { to, onClick } = this.props\n\n\t\t\tif (onClick && typeof onClick === 'function') {\n\t\t\t\tawait onClick()\n\t\t\t\tthis.props.history.push(to)\n\t\t\t} else {\n\t\t\t\tthis.props.history.push(to)\n\t\t\t}\n\t\t}\n\n\t\t// TODO: check if it works without infinite loops\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//   // const { to } = this.props;\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\n\t\t// }\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tforwardedRef,\n\t\t\t\tto,\n\t\t\t\tmatch,\n\t\t\t\tlocation,\n\t\t\t\thistory,\n\t\t\t\tstaticContext,\n\t\t\t\tonClick,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst toLocation = this.resolveToLocation(to)\n\n\t\t\treturn (\n\t\t\t\t<Component\n\t\t\t\t\tref={forwardedRef}\n\t\t\t\t\t{...rest}\n\t\t\t\t\thref={toLocation}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tconst WithRouter = withRouter(Decorated)\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithRouter {...props} forwardedRef={ref} />\n\t))\n}\n","import React from 'react'\nimport SvgIcon from '@material-ui/core/SvgIcon'\nimport pure from 'recompose/pure'\n\nexport default (path, displayName, viewBox = '') => {\n\tlet Icon = props => (\n\t\t<SvgIcon viewBox={viewBox} {...props}>\n\t\t\t{path}\n\t\t</SvgIcon>\n\t)\n\n\tIcon.displayName = displayName\n\tIcon = pure(Icon)\n\tIcon.muiName = 'SvgIcon'\n\n\treturn Icon\n}\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\n\t</g>,\n\n\t'Campaign',\n\t'0 0 26.12 17.37'\n)\n","import React from 'react'\nimport Link from '@material-ui/core/Link'\n\nconst getUrl = url => {\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\n\tif (url) {\n\t\turl = '//' + url\n\t}\n\n\treturn url\n}\n\nconst Anchor = ({ href, target, children, label, ...rest }) => {\n\tlet url = target && target === '_blank' ? getUrl(href) : href\n\treturn (\n\t\t<Link\n\t\t\tunderline='none'\n\t\t\tcolor='inherit'\n\t\t\tdraggable='false'\n\t\t\trel='noopener noreferrer'\n\t\t\t{...rest}\n\t\t\ttarget={target}\n\t\t\thref={url}\n\t\t\tstyle={{ wordBreak: 'break-all' }} // TODO: add it where needed only\n\t\t>\n\t\t\t{children || label}\n\t\t</Link>\n\t)\n}\n\nexport default Anchor\n","const drawerWidth = 250\n\nexport const styles = theme => {\n\treturn {\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t\tzIndex: 1,\n\t\t\toverflow: 'hidden',\n\t\t\tposition: 'relative',\n\t\t\tdisplay: 'flex',\n\t\t\tminHeight: '100vh',\n\t\t\twidth: '100%',\n\t\t},\n\t\tappBar: {\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\twidth: 'auto',\n\t\t\tposition: 'fixed',\n\t\t\t// marginLeft: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\n\t\t\t\tleft: drawerWidth,\n\t\t\t},\n\t\t},\n\t\tflex: {\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'row',\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t},\n\n\t\tflexRow: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tflexBasis: '100%',\n\t\t\tpaddingTop: theme.spacing(1),\n\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t'&:last-child': {\n\t\t\t\tpaddingRight: 240,\n\t\t\t\tpaddingTop: theme.spacing(1),\n\t\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t\tpaddingLeft: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttoolbarControls: {\n\t\t\tjustifyContent: 'flex-end',\n\t\t},\n\t\ttoolbarTitle: {\n\t\t\tjustifyContent: 'flex-start',\n\t\t},\n\t\tnavIconHide: {\n\t\t\tmarginRight: 10,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tdisplay: 'none',\n\t\t\t},\n\t\t},\n\t\ttoolbar: {\n\t\t\tflexFlow: 'wrap',\n\t\t\theight: 114,\n\t\t\t...theme.mixins.toolbar,\n\t\t},\n\t\tdrawerPaper: {\n\t\t\twidth: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tposition: 'fixed',\n\t\t\t},\n\t\t\tbackgroundColor: '#fff',\n\t\t},\n\t\tcontent: {\n\t\t\tflexGrow: 1,\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\tpadding: theme.spacing(3),\n\t\t\tpaddingTop: theme.spacing(5),\n\t\t\toverflow: 'auto',\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tmarginLeft: drawerWidth,\n\t\t\t},\n\t\t},\n\t\tcontentInner: {\n\t\t\tmaxWidth: 1600,\n\t\t\tmargin: 'auto',\n\t\t},\n\t\ticon: {\n\t\t\theight: 36,\n\t\t\twidth: 'auto',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport { push } from 'connected-react-router'\nimport { execute } from 'actions'\nimport { t } from 'selectors'\n\nconst sideIndex = {\n\tadvertiser: 0,\n\tpublisher: 1,\n\t'0': 'advertiser',\n\t'1': 'publisher',\n}\n\nconst handleChange = (ev, index) => {\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\n}\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.main\n\t\t\t: theme.palette.accentTwo.main\n\n\treturn {\n\t\t// TODO: keep it everywhere in case of components update\n\t\troot: {\n\t\t\tminWidth: 30,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: activeColor,\n\t\t\t},\n\t\t},\n\t\tselected: {\n\t\t\tcolor: activeColor,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: activeColor,\n\t\t\t},\n\t\t},\n\t\tindicator: {\n\t\t\tbackgroundColor: activeColor,\n\t\t},\n\t}\n})\n\nconst SideSwitch = ({ side, className }) => {\n\tconst classes = useStyles({ side })\n\treturn (\n\t\t<div className={className}>\n\t\t\t<Box bgcolor='background.paper' boxShadow={2}>\n\t\t\t\t<Tabs\n\t\t\t\t\tclasses={classes}\n\t\t\t\t\tvalue={sideIndex[side]}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t\tvariant='fullWidth'\n\t\t\t\t\taria-label='side select'\n\t\t\t\t>\n\t\t\t\t\t<Tab classes={classes} label={t('ADVERTISER')} />\n\t\t\t\t\t<Tab classes={classes} label={t('PUBLISHER')} />\n\t\t\t\t</Tabs>\n\t\t\t</Box>\n\t\t</div>\n\t)\n}\n\nexport default SideSwitch\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(27, 117, 188)'\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\n\t\t/>\n\t</g>,\n\t'AdexIcon',\n\t'0 0 185 72'\n)\n","import React from 'react'\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\n\nexport const InputLoading = ({ className, color = 'primary' }) => (\n\t<LinearProgress className={className} color={color} />\n)\n\nexport const LoadingSection = ({ loading, children }) => (\n\t<Box display='flex' flex='1' alignItems='center'>\n\t\t<Box>{children}</Box>\n\t\t<Box ml={2} mr={2}>\n\t\t\t{loading && <CircularProgress />}\n\t\t</Box>\n\t</Box>\n)\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\nimport classnames from 'classnames'\nimport packageJson from './../../../../package.json'\nimport Anchor from 'components/common/anchor/anchor'\nimport { styles } from './styles'\nimport SideSwitch from './SideSwitch'\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport DashboardIcon from '@material-ui/icons/Dashboard'\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport Box from '@material-ui/core/Box'\nimport ListIcon from '@material-ui/icons/List'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { LoadingSection } from 'components/common/spinners'\nimport {\n\tt,\n\tselectSide,\n\tselectLocation,\n\tselectAccountIdentityAddr,\n\tselectAccountStatsFormatted,\n\tselectMainToken,\n} from 'selectors'\n\nconst RRListItem = withReactRouterLink(ListItem)\nconst { ETH_SCAN_ADDR_HOST } = process.env\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.contrastText\n\t\t\t: theme.palette.accentTwo.contrastText\n\n\tconst activeBgColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.main\n\t\t\t: theme.palette.accentTwo.main\n\n\treturn {\n\t\tnavigation: {\n\t\t\tbackgroundColor: theme.palette.background.paper,\n\t\t},\n\t\tsntPadding: {\n\t\t\tpaddingTop: 0,\n\t\t},\n\t\tnavListRoot: {\n\t\t\tcolor: theme.palette.text.secondary,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tnavList: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 80,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t},\n\t\tsideNavToolbar: {},\n\t\tversion: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tpadding: 10,\n\t\t\tpaddingLeft: 16,\n\t\t\tborderTopWidth: 1,\n\t\t\tborderTopColor: theme.palette.divider,\n\t\t\tborderTopStyle: 'solid',\n\t\t},\n\t\tactive: {\n\t\t\tcolor: activeColor,\n\t\t\tbackgroundColor: activeBgColor,\n\t\t\t'&:focus': {\n\t\t\t\tbackgroundColor: activeBgColor,\n\t\t\t},\n\t\t},\n\t\tadxLink: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\t'&:hover': {\n\t\t\t\tcolor: theme.palette.text.secondary,\n\t\t\t},\n\t\t},\n\t\tsideSwitch: {\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\n\t\t},\n\t}\n})\n\nconst useCommonStyles = makeStyles(styles)\n\nfunction SideNav(props) {\n\tconst side = useSelector(selectSide)\n\tconst identity = useSelector(selectAccountIdentityAddr)\n\tconst classes = useStyles({ side })\n\tconst commonClasses = useCommonStyles()\n\tconst routerLocation = useSelector(selectLocation)\n\tconst { symbol } = useSelector(selectMainToken)\n\n\t// TODO: test location\n\tconst location = routerLocation.pathname.split('/')[3]\n\tconst isAdvertiser = side === 'advertiser'\n\tconst items = isAdvertiser ? 'units' : 'slots'\n\tconst { availableIdentityBalanceMainToken } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\n\t\t<div className={classes.navigation}>\n\t\t\t<List\n\t\t\t\tclasses={{\n\t\t\t\t\tpadding: classes.sntPadding,\n\t\t\t\t\troot: classes.navListRoot,\n\t\t\t\t}}\n\t\t\t\tclassName={classes.navList}\n\t\t\t\tcomponent='nav'\n\t\t\t>\n\t\t\t\t<div>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tbgcolor='background.paper'\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tcommonClasses.toolbar,\n\t\t\t\t\t\t\tclasses.sideNavToolbar\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<AdexIconTxt className={commonClasses.icon} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceMainToken &&\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t<Typography variant='h6' component='div' color='textPrimary'>\n\t\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceMainToken ||\n\t\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography variant='button' display='block' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<DashboardIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\n\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<CampaignIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\n\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === items })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<ListIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Anchor target='_blank' href={`${process.env.ADEX_HELP_URL}`}>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<HelpOutlineIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t[classes.active]: location === 'account',\n\t\t\t\t\t\t})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t</div>\n\t\t\t</List>\n\t\t\t<div className={classes.version}>\n\t\t\t\t<div className={classes.adxLink}>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdEx Network OÜ\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdEx (ADX) Token\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t\t<small> / </small>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdExCore\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref='https://github.com/AdExBlockchain/adex-dapp/blob/master/CHANGELOG.md'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tv.{packageJson.version}-beta\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default SideNav\n","import React, { useState } from 'react'\nimport Menu from '@material-ui/core/Menu'\nimport Button from '@material-ui/core/Button'\n\nconst ImgIcon = ({ src }) => {\n\treturn (\n\t\t<img\n\t\t\tsrc={src}\n\t\t\theight={36}\n\t\t\twidth='auto'\n\t\t\talt='logo'\n\t\t\tstyle={{ marginRight: 5 }}\n\t\t/>\n\t)\n}\n\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\n\tconst [active, setActive] = useState(false)\n\tconst [anchorEl, setAnchorEl] = useState(null)\n\tconst open = Boolean(anchorEl)\n\n\tconst handleButtonClick = () => {\n\t\tsetActive(!active)\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst handleMenu = event => {\n\t\tsetAnchorEl(event.currentTarget)\n\t}\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tstyle={btnStyle}\n\t\t\t\tonClick={handleMenu}\n\t\t\t\taria-owns={id}\n\t\t\t\taria-haspopup='true'\n\t\t\t>\n\t\t\t\t{leftIcon}\n\t\t\t\t<span\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmaxWidth: 150,\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</span>\n\t\t\t\t{rightIcon}\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\tid={id}\n\t\t\t\topen={open}\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t// anchorOrigin={{\n\t\t\t\t// \tvertical: 'top',\n\t\t\t\t// \thorizontal: 'right',\n\t\t\t\t// }}\n\t\t\t\t// transformOrigin={{\n\t\t\t\t// \tvertical: 'top',\n\t\t\t\t// \thorizontal: 'right',\n\t\t\t\t// }}\n\t\t\t\tonClick={handleButtonClick}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Menu>\n\t\t</>\n\t)\n}\n\nexport default ButtonMenu\n","import { AUTH_TYPES } from 'constants/misc'\nimport metamaskLogo from 'resources/metamask-logo.png'\nimport trezorLogo from 'resources/trezor-logo-h.png'\nimport ledgerLogo from 'resources/ledger_logo_header.png'\nimport demoLogo from 'resources/demo-logo.png'\n\nexport const getAuthLogo = authType => {\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\treturn metamaskLogo\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\treturn trezorLogo\n\t\tcase AUTH_TYPES.LEDGER.name:\n\t\t\treturn ledgerLogo\n\t\tcase AUTH_TYPES.DEMO.name:\n\t\t\treturn demoLogo\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\nimport Translate from 'components/translate/Translate'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\n// import ChangeLang from 'components/translate/ChangeLang'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport { logOut } from 'services/store-data/auth'\n\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport classnames from 'classnames'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport MenuIcon from '@material-ui/icons/Menu'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { selectNavTitle, selectAccount } from 'selectors'\nimport { styles } from './styles'\nimport { formatAddress } from 'helpers/formatters'\n\nconst RRMenuItem = withReactRouterLink(MenuItem)\nconst useStyles = makeStyles(styles)\n\nfunction TopNav({ handleDrawerToggle, side, t }) {\n\tconst classes = useStyles()\n\tconst navTitle = useSelector(selectNavTitle)\n\tconst account = useSelector(selectAccount)\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\n\tconst btnMenuLabel =\n\t\taccount.wallet.authType === 'demo'\n\t\t\t? t('DEMO_MODE')\n\t\t\t: account.email ||\n\t\t\t  formatAddress(account.wallet.address) ||\n\t\t\t  t('NOT_LOGGED')\n\n\treturn (\n\t\t<AppBar className={classes.appBar} color='default' position='sticky'>\n\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t<div className={classes.flexRow}>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\taria-label='open drawer'\n\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\tclassName={classnames(classes.navIconHide)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t{/* <AdexIconTxt\n              className={classes.icon}\n            /> */}\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarControls)}>\n\t\t\t\t\t\t{/* <Navigation type='horizontal' className={theme.rightNavigation}> */}\n\t\t\t\t\t\t{/* At the moment we use translations only for proper items properties display names */}\n\t\t\t\t\t\t{/* <ChangeLang /> */}\n\t\t\t\t\t\t<Jazzicon\n\t\t\t\t\t\t\tdiameter={30}\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ButtonMenu\n\t\t\t\t\t\t\tid='menu-appbar'\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\n\t\t\t\t\t\t\tactive={true}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RRMenuItem\n\t\t\t\t\t\t\t\tvalue='account'\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</RRMenuItem>\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tvalue='logout'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tlogOut()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</ButtonMenu>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.flexRow}>\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarTitle)}>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant='subtitle1'\n\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\tclassName={classes.flex}\n\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(navTitle)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n\nexport default Translate(TopNav)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\n// import IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport Translate from 'components/translate/Translate'\nimport { validations, helpers } from 'adex-models'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\n\nconst MAX_IMG_LOAD_TIME = 7000\nclass Img extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\timgSrc: null,\n\t\t\tactive: false,\n\t\t\tvideoSrc: null,\n\t\t}\n\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\n\t\tthis.loadTimeout = null\n\t}\n\n\tipfsSrc = src => {\n\t\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\n\t\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\n\t\t}\n\n\t\treturn src\n\t}\n\n\thandleToggle = ev => {\n\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\tev && ev.preventDefault && ev.preventDefault()\n\t\tlet active = this.state.active\n\t\tthis.setState({ active: !active })\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\tif (isVideo && !allowVideo) {\n\t\t\treturn this.setState({\n\t\t\t\timgSrc: VIDEO_IMAGE,\n\t\t\t})\n\t\t}\n\n\t\tif (isVideo) {\n\t\t\tthis.displayVideo = document.createElement('video')\n\t\t\tthis.setDisplayVideo({\n\t\t\t\timage: this.ipfsSrc(src),\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t} else {\n\t\t\tthis.displayImage = new Image()\n\t\t\tthis.setDisplayImage({\n\t\t\t\timage: this.ipfsSrc(src),\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps = nextProps => {\n\t\tconst nextSrc = this.ipfsSrc(nextProps.src)\n\t\tconst thisSrc = this.ipfsSrc(this.props.src)\n\t\tconst nextFallback = this.ipfsSrc(nextProps.fallbackSrc)\n\t\tconst { mediaMime } = nextProps\n\n\t\tif (nextSrc !== thisSrc) {\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\t\tif (isVideo) {\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\n\t\t\t\tthis.setDisplayVideo({\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\n\t\t\t\tthis.setDisplayImage({\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.clearLoadTimeout()\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\t\t\tthis.displayImage = null\n\t\t}\n\t}\n\n\tclearLoadTimeout = () => {\n\t\tif (this.loadTimeout) {\n\t\t\tclearTimeout(this.loadTimeout)\n\t\t\tthis.loadTimeout = null\n\t\t}\n\t}\n\n\tonFail = fallback => {\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.displayImage.src = fallback\n\t\t}\n\n\t\tthis.clearLoadTimeout()\n\n\t\tthis.setState({\n\t\t\timgSrc: fallback || null,\n\t\t})\n\t}\n\n\tsetDisplayImage = ({ image, fallback }) => {\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\n\t\t\tthis,\n\t\t\tfallback\n\t\t)\n\n\t\tthis.displayImage.onload = () => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\timgSrc: image,\n\t\t\t})\n\t\t}\n\n\t\tthis.displayImage.src = image\n\t}\n\n\tsetDisplayVideo = ({ image, fallback }) => {\n\t\tthis.displayVideo.src = image\n\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\tvideoSrc: image,\n\t\t\t})\n\t\t}\n\t}\n\n\tfullScreenBtn() {\n\t\tconst { classes } = this.props\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Fab\n\t\t\t\t\tmini\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.handleToggle()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FullscreenIcon />\n\t\t\t\t</Fab>\n\t\t\t\t{this.renderFullscreenDialog()}\n\t\t\t</span>\n\t\t)\n\t}\n\n\trenderFullscreenDialog() {\n\t\tconst { t, alt, classes, type } = this.props\n\t\tconst { active, imgSrc, videoSrc } = this.state\n\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={active}\n\t\t\t\ttype={type || 'normal'}\n\t\t\t\tmaxWidth={false}\n\t\t\t\tonClose={this.handleToggle}\n\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t>\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\n\t\t\t\t\t{imgSrc ? (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\tcontrols\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t></video>\n\t\t\t\t\t)}\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\n\t\t\t\t\t\t{t('CLOSE')}\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\talt,\n\t\t\tallowFullscreen,\n\t\t\tclassName,\n\t\t\tclasses,\n\t\t\tfullScreenOnClick,\n\t\t} = this.props\n\t\tconst { imgSrc, videoSrc } = this.state\n\t\treturn imgSrc || videoSrc ? (\n\t\t\t<div\n\t\t\t\tclassName={classnames(classes.imgParent, className, classes.wrapper)}\n\t\t\t>\n\t\t\t\t{!!imgSrc ? (\n\t\t\t\t\t<img\n\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\tsrc={this.state.imgSrc}\n\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\tonClick={fullScreenOnClick && this.handleToggle}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<video\n\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\n\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\tmuted\n\t\t\t\t\t\tloop\n\t\t\t\t\t\tonClick={fullScreenOnClick && this.handleToggle}\n\t\t\t\t\t></video>\n\t\t\t\t)}\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\n\t\t\t</div>\n\t\t) : (\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\n\t\t\t\t<span className={classes.circular}>\n\t\t\t\t\t<CircularProgress />\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImg.propTypes = {\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\tfallbackSrc: PropTypes.string,\n\talt: PropTypes.string,\n\tallowFullscreen: PropTypes.bool,\n\tfullScreenOnClick: PropTypes.bool,\n\tmediaMime: PropTypes.string,\n}\n\nexport default Translate(withStyles(styles)(Img))\n","export const styles = theme => ({\n\timgLoading: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: '100%',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\timgParent: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: 'max-content',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\tcircular: {\n\t\tposition: 'relative',\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\n\t\tleft: 'calc(50% - 20px)',\n\t\tdisplay: 'inline-block',\n\t},\n\tfullscreenIcon: {\n\t\tposition: 'absolute',\n\t\ttop: theme.spacing(1),\n\t\tright: theme.spacing(1),\n\t\tcursor: 'pointer',\n\t\twidth: '30px',\n\t\theight: '30px',\n\t\tminHeight: '24px',\n\t},\n\tdialog: {\n\t\t'@media(max-width:744px)': {\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t},\n\t\t'@media(max-height:823px)': {\n\t\t\tminHeight: 'auto',\n\t\t},\n\t},\n\tdialogImageParent: {\n\t\t'@media(max-width:1080px)': {\n\t\t\tmaxWidth: '80vw',\n\t\t\tmaxHeight: '100vw',\n\t\t\tdisplay: 'block',\n\t\t\tmargin: 'auto',\n\t\t},\n\t\t'@media(max-width:744px)': {\n\t\t\tpaddingLeft: 0,\n\t\t\tpaddingRight: 0,\n\t\t},\n\t},\n\tdialogImage: {\n\t\theight: 'auto',\n\t\tmaxWidth: '80vw',\n\t},\n\timg: {\n\t\twidth: 'auto',\n\t\theight: 'auto',\n\t},\n\twrapper: {\n\t\theight: 'max-content',\n\t\twidth: 'max-content',\n\t},\n})\n","/**\n * @param {String} objUrl - Image blob url URL.createObjectURL\n * @param {Object} pixelCrop - pixelCrop Object provided by react-image-crop\n * @param {String} fileName - Name of the returned file in Promise\n */\nexport const getCroppedImgUrl = ({ objUrl, pixelCrop, fileName, size }) => {\n\t// TODO: Validate pixelCrop and size\n\tconst cropCanvas = document.createElement('canvas')\n\tconst scaleCanvas = document.createElement('canvas')\n\n\tconst img = new Image()\n\timg.crossOrigin = 'Anonymous' // For ipfs URL\n\timg.src = objUrl\n\n\t// As a blob\n\treturn new Promise((resolve, reject) => {\n\t\timg.onload = () => {\n\t\t\tconst width = img.width\n\t\t\tconst height = img.height\n\n\t\t\t// pixelCrop come in %\n\t\t\tconst crop = {\n\t\t\t\tx: Math.round(width * (pixelCrop.x / 100)),\n\t\t\t\ty: Math.round(height * (pixelCrop.y / 100)),\n\t\t\t\twidth: Math.round(width * (pixelCrop.width / 100)),\n\t\t\t\theight: Math.round(height * (pixelCrop.height / 100)),\n\t\t\t}\n\n\t\t\tcropCanvas.width = crop.width\n\t\t\tcropCanvas.height = crop.height\n\t\t\tconst cctx = cropCanvas.getContext('2d')\n\n\t\t\tcctx.drawImage(\n\t\t\t\timg,\n\t\t\t\tcrop.x,\n\t\t\t\tcrop.y,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height\n\t\t\t)\n\n\t\t\tscaleCanvas.width = size.width\n\t\t\tscaleCanvas.height = size.height\n\n\t\t\tconst sctx = scaleCanvas.getContext('2d')\n\n\t\t\tsctx.drawImage(\n\t\t\t\tcropCanvas,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tsize.width,\n\t\t\t\tsize.height\n\t\t\t)\n\n\t\t\tscaleCanvas.toBlob(file => {\n\t\t\t\tif (!file) {\n\t\t\t\t\treject('Error cropping file')\n\t\t\t\t}\n\t\t\t\tfile.name = fileName\n\t\t\t\tresolve(URL.createObjectURL(file))\n\t\t\t}, 'image/jpeg')\n\t\t}\n\t})\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Img from 'components/common/img/Img'\n// import debounce from 'debounce'\nimport Dropzone from 'react-dropzone'\nimport Translate from 'components/translate/Translate'\nimport Button from '@material-ui/core/Button'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport ReactCrop from 'react-image-crop'\nimport { getCroppedImgUrl } from 'services/images/crop'\nimport CropIcon from '@material-ui/icons/Crop'\nimport ClearIcon from '@material-ui/icons/Clear'\nimport SaveIcon from '@material-ui/icons/Save'\nimport FileUploadIcon from '@material-ui/icons/CloudUpload'\nimport Grid from '@material-ui/core/Grid'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nclass ImgForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst { size, imgSrc, mime } = props\n\t\tconst aspect = size ? size.width / size.height : undefined\n\n\t\tthis.state = {\n\t\t\timgSrc: imgSrc || '',\n\t\t\tmime: mime || '',\n\t\t\timgName: '',\n\t\t\tcropMode: false,\n\t\t\tcrop: { aspect: aspect },\n\t\t}\n\t}\n\n\tonDrop = (acceptedFiles, rejectedFiles) => {\n\t\tconst that = this\n\t\tconst file = acceptedFiles[0]\n\t\tif (!file) return\n\t\tconst objectUrl = URL.createObjectURL(file)\n\n\t\tthat.setState({\n\t\t\timgSrc: objectUrl,\n\t\t\timgName: file.name,\n\t\t\tmime: file.type,\n\t\t})\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\n\t\tthis.props.onChange({\n\t\t\ttempUrl: objectUrl,\n\t\t\tmime: file.type,\n\t\t})\n\t}\n\n\tonRemove = e => {\n\t\tthis.preventBubbling(e)\n\n\t\tconst { imgSrc } = this.state\n\n\t\tif (imgSrc) {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tthis.setState({ imgSrc: '', imgName: '' })\n\t\t\tthis.props.onChange({ tempUrl: null, mime: null })\n\t\t}\n\t}\n\n\tonCropChange = crop => {\n\t\tthis.setState({ crop })\n\t}\n\n\tsaveCropped = () => {\n\t\tconst { imgSrc, crop, mime, imgName } = this.state\n\t\tconst { onChange, size } = this.props\n\t\tgetCroppedImgUrl({\n\t\t\tobjUrl: imgSrc,\n\t\t\tpixelCrop: crop,\n\t\t\tfileName: `cropped-${imgName}`,\n\t\t\tsize,\n\t\t}).then(croppedBlob => {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tthis.setState({ imgSrc: croppedBlob, cropMode: false })\n\t\t\tonChange({\n\t\t\t\ttempUrl: croppedBlob,\n\t\t\t\tmime,\n\t\t\t})\n\t\t})\n\t}\n\n\tpreventBubbling = e => {\n\t\tif (e.stopPropagation) {\n\t\t\te.stopPropagation()\n\t\t}\n\t\tif (e.nativeEvent) {\n\t\t\te.nativeEvent.stopImmediatePropagation()\n\t\t}\n\t}\n\n\tUploadInfo = () => {\n\t\tconst { t, classes, size, errMsg } = this.props\n\t\tconst { imgSrc, mime } = this.state\n\t\treturn (\n\t\t\t<div className={classes.uploadInfo}>\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\n\t\t\t\t\t<div className={classes.uploadActions}>\n\t\t\t\t\t\t{/* TEMP: make size required */}\n\t\t\t\t\t\t{!!size && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\tthis.preventBubbling(e)\n\t\t\t\t\t\t\t\t\tthis.setState({ cropMode: true })\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={this.onRemove}\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<FileUploadIcon />\n\t\t\t\t)}\n\t\t\t\t<div>\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\n\t\t\t\t\t\t{errMsg}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t// TODO: CLEAR IMG BLOB!!!!\n\trender() {\n\t\tconst { t, classes, label, additionalInfo } = this.props\n\t\tconst { crop, cropMode, imgName, imgSrc, mime } = this.state\n\n\t\tconst videoSrc = isVideoMedia(mime)\n\t\treturn (\n\t\t\t<div className={classes.imgForm}>\n\t\t\t\t<AppBar\n\t\t\t\t\tposition='static'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\troot: classes.header,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t{imgSrc && imgName ? (\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{label || 'Image'}: {imgName}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span> {label || 'Upload image'} </span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<div>\n\t\t\t\t\t{cropMode ? (\n\t\t\t\t\t\t<div className={classes.dropzone} onClick={this.preventBubbling}>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t<ReactCrop\n\t\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: 320 }}\n\t\t\t\t\t\t\t\t\t\timageStyle={{\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '320px',\n\t\t\t\t\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\n\t\t\t\t\t\t\t\t\t\tcrop={crop}\n\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={this.onCropChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\tonClick={this.saveCropped}\n\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ cropMode: false })}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Dropzone\n\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\n\t\t\t\t\t\t\tonDrop={this.onDrop}\n\t\t\t\t\t\t\tclassName={classes.dropzone}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t{videoSrc ? (\n\t\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\t\t\t\t\talt={'name'}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t<this.UploadInfo />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Dropzone>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> {additionalInfo} </small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nImgForm.propTypes = {\n\timgSrc: PropTypes.string,\n\tlabel: PropTypes.string,\n\tsize: PropTypes.object,\n}\n\nexport default Translate(withStyles(styles)(ImgForm))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\theader: {\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tdropzone: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t\tborder: `2px dashed ${theme.palette.grey[500]}`,\n\t\t\tbackground: theme.palette.background.default,\n\t\t\tpadding: 10,\n\t\t\tcursor: 'pointer',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timgDropzonePreview: {\n\t\t\tmaxHeight: 320,\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t},\n\t\tdropzoneBtn: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tleftIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tuploadActions: {\n\t\t\tmarginTop: spacing,\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\n\nexport default function ValidImageHoc(Decorated) {\n\tclass ValidImage extends Component {\n\t\tvalidate = ({\n\t\t\tpropsName,\n\t\t\twidthTarget,\n\t\t\theightTarget,\n\t\t\tmediaWidth,\n\t\t\tmediaHeight,\n\t\t\tmsg,\n\t\t\texact,\n\t\t\trequired,\n\t\t\tonChange,\n\t\t\tmime,\n\t\t\ttempUrl,\n\t\t}) => {\n\t\t\tlet isValid = true\n\n\t\t\tif (exact) {\n\t\t\t\tisValid = checkExactishAspect(\n\t\t\t\t\twidthTarget,\n\t\t\t\t\tmediaWidth,\n\t\t\t\t\theightTarget,\n\t\t\t\t\tmediaHeight\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\n\t\t\t\tisValid = false\n\t\t\t}\n\n\t\t\tconst masgArgs = [widthTarget, heightTarget, 'px']\n\n\t\t\tthis.props.validate(propsName, {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: msg, args: masgArgs },\n\t\t\t\tdirty: true,\n\t\t\t})\n\n\t\t\tconst resMedia = {\n\t\t\t\twidth: mediaWidth,\n\t\t\t\theight: mediaHeight,\n\t\t\t\tmime,\n\t\t\t\ttempUrl,\n\t\t\t}\n\n\t\t\tif (typeof onChange === 'function') {\n\t\t\t\tonChange(propsName, resMedia)\n\t\t\t}\n\t\t}\n\n\t\tvalidateMedia = async (\n\t\t\t{\n\t\t\t\tpropsName,\n\t\t\t\twidthTarget,\n\t\t\t\theightTarget,\n\t\t\t\tmsg,\n\t\t\t\texact,\n\t\t\t\trequired,\n\t\t\t\tonChange,\n\t\t\t} = {},\n\t\t\tmedia\n\t\t) => {\n\t\t\tif (!required && !media.tempUrl && onChange) {\n\t\t\t\tthis.props.validate(propsName, {\n\t\t\t\t\tisValid: true,\n\t\t\t\t\terr: { msg: msg, args: [] },\n\t\t\t\t\tdirty: true,\n\t\t\t\t})\n\t\t\t\t// TODO: fix this\n\t\t\t\tonChange(propsName, media)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (!media.mime || !media.tempUrl) {\n\t\t\t\tthis.props.validate(propsName, {\n\t\t\t\t\tisValid: false,\n\t\t\t\t\tdirty: true,\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\n\n\t\t\tthis.validate({\n\t\t\t\tpropsName,\n\t\t\t\twidthTarget,\n\t\t\t\theightTarget,\n\t\t\t\tmediaWidth: size.width,\n\t\t\t\tmediaHeight: size.height,\n\t\t\t\tmsg,\n\t\t\t\texact,\n\t\t\t\trequired,\n\t\t\t\tonChange,\n\t\t\t\tmime: media.mime,\n\t\t\t\ttempUrl: media.tempUrl,\n\t\t\t})\n\t\t}\n\n\t\trender() {\n\t\t\tconst props = this.props\n\t\t\treturn <Decorated {...props} validateMedia={this.validateMedia} />\n\t\t}\n\t}\n\n\tValidImage.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tvalidations: memory.validations[props.validateId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidImage))\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport PropTypes from 'prop-types'\nimport { execute, validate } from 'actions'\nimport { selectValidationsById } from 'selectors'\n\nexport default function ValidationHoc(Decorated) {\n\tconst ValidItem = props => {\n\t\tconst validations =\n\t\t\tuseSelector(state => selectValidationsById(state, props.validateId)) || {}\n\n\t\tconst makeValidation = (\n\t\t\tkey,\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n\t\t) => {\n\t\t\tconst { validateId } = props\n\t\t\texecute(validate(validateId, key, { isValid, err, dirty, removeAll }))\n\t\t}\n\n\t\treturn (\n\t\t\t<Decorated\n\t\t\t\t{...props}\n\t\t\t\tvalidate={makeValidation}\n\t\t\t\tinvalidFields={validations}\n\t\t\t/>\n\t\t)\n\t}\n\n\tValidItem.propTypes = {\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\treturn ValidItem\n}\n","export const styles = theme => {\n\t// const spacing = theme.spacing(3)\n\treturn {}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport { AVATAR_MAX_WIDTH, AVATAR_MAX_HEIGHT } from 'constants/misc'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nexport class ImgDialog extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tvalues: {},\n\t\t}\n\t}\n\n\thandleChange = (name, value) => {\n\t\tlet newValues = { ...this.state.values }\n\t\tnewValues[name] = value\n\t\tthis.setState({ values: newValues })\n\t}\n\n\tonOk = () => {\n\t\tconst vals = this.state.values\n\t\tObject.keys(vals).forEach(key => {\n\t\t\tthis.props.onChangeReady(key, vals[key])\n\t\t})\n\t\tthis.props.handleToggle()\n\t}\n\n\trender() {\n\t\tlet t = () => {}\n\t\tlet validations = this.props.invalidFields || {}\n\t\tlet errImg = validations[this.props.imgPropName]\n\t\tlet width = this.props.width || AVATAR_MAX_WIDTH\n\t\tlet height = this.props.height || AVATAR_MAX_HEIGHT\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Dialog\n\t\t\t\t\topen={this.props.active}\n\t\t\t\t\t// onEscKeyDown={this.props.handleToggle}\n\t\t\t\t\t// onOverlayClick={this.props.handleToggle}\n\t\t\t\t\ttitle={this.props.title}\n\t\t\t\t\ttype={this.props.type || 'normal'}\n\t\t\t\t\t// className={theme[ItemTypesNames[this.props.itemType]]}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle>\n\t\t\t\t\t\t<IconButton onClick={this.props.handleToggle}>\n\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t{this.props.t(this.props.title)}\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\tlabel={t(this.props.imgLabel)}\n\t\t\t\t\t\t\timgSrc={this.props.imgSrc || ''}\n\t\t\t\t\t\t\tonChange={this.props.validateMedia.bind(this, {\n\t\t\t\t\t\t\t\tpropsName: this.props.imgPropName,\n\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\tmsg: this.props.errMsg,\n\t\t\t\t\t\t\t\texact: this.props.exact,\n\t\t\t\t\t\t\t\trequired: this.props.required,\n\t\t\t\t\t\t\t\tonChange: this.handleChange,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tadditionalInfo={t(this.props.additionalInfo)}\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\tsize={{ width: width, height: height }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.props.handleToggle} color='primary'>\n\t\t\t\t\t\t\t{'Cancel'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={this.onOk}\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!!(this.props.invalidFields || {})[this.props.imgPropName]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{'Ok'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImgDialog.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tlet persist = state.persist\n\t// let memory = state.memory\n\treturn {\n\t\taccount: persist.account,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ValidItemHoc(ValidImageHoc(withStyles(styles)(ImgDialog))))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\n// import classnames from 'classnames'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Fab from '@material-ui/core/Fab'\nimport CheckIcon from '@material-ui/icons/Check'\nimport SaveIcon from '@material-ui/icons/Save'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\n// NOTE: Separate component to track the validations and spinner to avoid rerender of item top level components\nclass SaveBtn extends Component {\n\trender() {\n\t\tlet {\n\t\t\tspinner,\n\t\t\tclasses,\n\t\t\tsuccess,\n\t\t\tdirtyProps,\n\t\t\tsave,\n\t\t\tvalidations,\n\t\t\tvalidationId,\n\t\t\tdisabled,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.position}>\n\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t<Fab\n\t\t\t\t\t\tfabButton\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t// className={buttonClassname}\n\t\t\t\t\t\tonClick={() => save()}\n\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\tdisabled ||\n\t\t\t\t\t\t\tspinner ||\n\t\t\t\t\t\t\t!dirtyProps.length ||\n\t\t\t\t\t\t\t!!Object.keys(validations[validationId] || {}).length\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// {...other}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/*TODO: Success */}\n\t\t\t\t\t\t{success ? <CheckIcon /> : <SaveIcon />}\n\t\t\t\t\t</Fab>\n\t\t\t\t\t{!!spinner && (\n\t\t\t\t\t\t<CircularProgress size={68} className={classes.fabProgress} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSaveBtn.propTypes = {\n\tspinnerId: PropTypes.string,\n\tvalidationId: PropTypes.string,\n\titemId: PropTypes.string,\n\tvalidations: PropTypes.object,\n\tdisabled: PropTypes.bool,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\treturn {\n\t\tspinner: memory.spinners[props.spinnerId],\n\t\tvalidations: memory.validations,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(withStyles(styles)(SaveBtn)))\n","import color from '@material-ui/core/colors/purple'\n\nexport const styles = theme => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t},\n\twrapper: {\n\t\tposition: 'relative',\n\t},\n\tbuttonSuccess: {\n\t\tbackgroundColor: color[500],\n\t\t'&:hover': {\n\t\t\tbackgroundColor: color[700],\n\t\t},\n\t},\n\tfabProgress: {\n\t\tcolor: color[500],\n\t\tposition: 'absolute',\n\t\ttop: -6,\n\t\tleft: -6,\n\t\tzIndex: 1,\n\t},\n\tbuttonProgress: {\n\t\tcolor: color[500],\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tposition: {\n\t\tposition: 'fixed',\n\t\ttop: 86,\n\t\tright: 40,\n\t\tzIndex: theme.zIndex.appBar,\n\t},\n})\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\twidth: '100%',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\tbuttonLeft: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\ttextField: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\ttop: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflexWrap: 'wrap',\n\t\t\tmaxWidth: '70%',\n\t\t},\n\t\tchangesLine: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\talignItems: 'center',\n\t\t\tcolor: theme.palette.secondary.main,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tchangeChip: {\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: 0,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: spacing,\n\t\t\tright: spacing,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport IMG_404_1 from 'resources/404-no.png'\nimport IMG_404_2 from 'resources/404-yes.png'\nimport Img from 'components/common/img/Img'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport Translate from 'components/translate/Translate'\nimport { styles } from './styles'\nimport { t } from 'selectors'\n\nconst RRButton = withReactRouterLink(Button)\n\nconst G404 = ({ size }) => (\n\t<Grid item xs={size}>\n\t\t<Typography\n\t\t\tinline\n\t\t\tvariant={`h${size}`}\n\t\t\tstyle={{ textTransform: 'uppercase' }}\n\t\t>\n\t\t\t{t('404')}\n\t\t</Typography>\n\t</Grid>\n)\n\nclass PageNotFound extends React.Component {\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\ttitle,\n\t\t\tsubtitle,\n\t\t\tgoToTxt,\n\t\t\tgoToPath,\n\t\t\tskipGoToButton,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.wrapper}>\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3' align='center'>\n\t\t\t\t\t\t\t{t(title || '404')}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t{subtitle && (\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\n\t\t\t\t\t\t\t\t{t(subtitle)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<G404 size={3} />\n\t\t\t\t\t<G404 size={4} />\n\t\t\t\t\t<G404 size={2} />\n\t\t\t\t\t<G404 size={1} />\n\t\t\t\t\t<G404 size={5} />\n\t\t\t\t\t<G404 size={3} />\n\t\t\t\t\t<G404 size={2} />\n\n\t\t\t\t\t<Grid item xs={5} sm={3}>\n\t\t\t\t\t\t<Img src={IMG_404_1} alt={'no'} className={classes.img} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={9}>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={5} sm={3}>\n\t\t\t\t\t\t<Img src={IMG_404_2} alt={'yes'} className={classes.img} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={9}>\n\t\t\t\t\t\t{!skipGoToButton && (\n\t\t\t\t\t\t\t<RRButton\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\n\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\n\t\t\t\t\t\t\t</RRButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nPageNotFound.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tgoToTxt: PropTypes.string,\n\tgoToPath: PropTypes.string,\n\tskipGoToButton: PropTypes.bool,\n}\n\nexport default Translate(withStyles(styles)(PageNotFound))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\twrapper: {\n\t\t\tmargin: `${spacing * 2}px auto`,\n\t\t\tmaxWidth: 1000,\n\t\t},\n\t\timg: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Grid from '@material-ui/core/Grid'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport EditIcon from '@material-ui/icons/Edit'\nimport ImgDialog from 'components/dashboard/containers/ImgDialog'\nimport { schemas, Joi } from 'adex-models'\nimport classnames from 'classnames'\nimport { Prompt } from 'react-router'\nimport Translate from 'components/translate/Translate'\nimport { items as ItemsConstants } from 'adex-constants'\nimport Img from 'components/common/img/Img'\nimport SaveBtn from 'components/dashboard/containers/SaveBtn'\nimport { withStyles } from '@material-ui/core/styles'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport FormControl from '@material-ui/core/FormControl'\nimport Paper from '@material-ui/core/Paper'\nimport InfoOutlineIcon from '@material-ui/icons/Info'\nimport Chip from '@material-ui/core/Chip'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport { styles } from './styles'\nimport { validName } from 'helpers/validators'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport { selectSide } from 'selectors'\n\nconst { adSlotPut, adUnitPut, campaignPut } = schemas\nconst { AdSizesByValue } = ItemsConstants\n\nexport default function ItemHoc(Decorated) {\n\tclass Item extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\t\t\tthis.save = this.save.bind(this)\n\t\t\tthis.state = {\n\t\t\t\tactiveFields: {},\n\t\t\t\titem: null,\n\t\t\t\tinitialItemState: {},\n\t\t\t\tdirtyProps: [],\n\t\t\t\teditImg: false,\n\t\t\t\t_activeInput: null,\n\t\t\t}\n\t\t}\n\n\t\tupdateNav = (item = {}) => {\n\t\t\tconst { actions, t, itemType } = this.props\n\t\t\tactions.updateNav(\n\t\t\t\t'navTitle',\n\t\t\t\tt(itemType, { isProp: true }) + ' > ' + item.title || ''\n\t\t\t)\n\t\t}\n\n\t\tcomponentWillMount() {\n\t\t\tconst { item, matchId, objModel } = this.props\n\n\t\t\tif (!item) {\n\t\t\t\tthis.updateNav({ title: matchId })\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst initialItemState = new objModel(item)\n\n\t\t\tthis.setState({ item: { ...item }, initialItemState: initialItemState })\n\t\t\tthis.updateNav(initialItemState)\n\t\t}\n\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\n\t\t//     return diffProps || diffState\n\t\t// }\n\n\t\tcomponentWillReceiveProps(nextProps, nextState) {\n\t\t\tconst { objModel } = this.props\n\t\t\tconst { item } = this.state\n\t\t\tlet currentItemInst = new objModel(item || {})\n\t\t\t// Assume that the this.props.match.params.itemId can not be changed without remount of the component\n\t\t\t// TODO: check the above\n\t\t\tlet nextItem = nextProps.item\n\t\t\tlet nexItemInst = new objModel(nextItem || {})\n\n\t\t\tif (currentItemInst.modifiedOn !== nexItemInst.modifiedOn) {\n\t\t\t\t// if (\n\t\t\t\t// \tJSON.stringify(currentItemInst.plainObj()) !==\n\t\t\t\t// \tJSON.stringify(nexItemInst.plainObj())\n\t\t\t\t// ) {\n\t\t\t\tthis.setState({\n\t\t\t\t\titem: nexItemInst.plainObj(),\n\t\t\t\t\tinitialItemState: nexItemInst,\n\t\t\t\t\tactiveFields: {},\n\t\t\t\t\tdirtyProps: [],\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.updateNav(nexItemInst)\n\t\t}\n\n\t\tcomponentWillUnmount() {\n\t\t\tif (this.state.item) {\n\t\t\t\tthis.props.actions.updateSpinner('update' + this.state.item.id, false)\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (name, value) => {\n\t\t\tconst { objModel } = this.props\n\t\t\tconst { item, dirtyProps } = this.state\n\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[name] = value\n\n\t\t\tconst dp = dirtyProps.slice(0)\n\n\t\t\tif (dp.indexOf(name) < 0) {\n\t\t\t\tdp.push(name)\n\t\t\t}\n\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\n\t\t}\n\n\t\treturnPropToInitialState = propName => {\n\t\t\tconst { objModel, actions } = this.props\n\t\t\tconst { dirtyProps, initialItemState, item } = this.state\n\t\t\tconst initialItemStateValue = initialItemState[propName]\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[propName] = initialItemStateValue\n\n\t\t\tconst dp = dirtyProps.filter(dp => {\n\t\t\t\treturn dp !== propName\n\t\t\t})\n\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\n\t\t\t// TEMP fix, we assume that the initial values are validated\n\t\t\tactions.resetValidationErrors(item.id, propName)\n\t\t}\n\n\t\tsetActiveFields = (field, value) => {\n\t\t\tlet newActiveFields = { ...this.state.activeFields }\n\t\t\tnewActiveFields[field] = value\n\t\t\tthis.setState({ activeFields: newActiveFields })\n\t\t}\n\n\t\t//TODO: Do not save if not dirty!\n\t\tsave = () => {\n\t\t\tconst { itemType, spinner, actions } = this.props\n\t\t\tconst { item, dirtyProps } = this.state\n\n\t\t\tif (dirtyProps.length && !spinner) {\n\t\t\t\tactions.updateItem({\n\t\t\t\t\titemType,\n\t\t\t\t\titem,\n\t\t\t\t})\n\t\t\t\tthis.setState({ dirtyProps: [] })\n\t\t\t}\n\t\t}\n\n\t\tisDirtyProp(prop) {\n\t\t\treturn this.state.item.dirtyProps.indexOf(prop) > -1\n\t\t}\n\n\t\thandleToggle = () => {\n\t\t\tconst isDemo = this.props.account._authType === 'demo'\n\n\t\t\tif (isDemo) return\n\n\t\t\tlet active = this.state.editImg\n\t\t\tthis.setState({ editImg: !active })\n\t\t}\n\n\t\tisNameValid(name) {\n\t\t\tconst { msg } = validName(name)\n\t\t\treturn !msg\n\t\t}\n\n\t\tvalidateTitle(name, dirty, errMsg) {\n\t\t\tconst { itemType, validate } = this.props\n\t\t\tlet schema = null\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tschema = adSlotPut.title\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tschema = adUnitPut.title\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tschema = campaignPut.title\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tconst result = Joi.validate(name, schema)\n\t\t\tvalidate('title', {\n\t\t\t\tisValid: !result.error,\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t}\n\n\t\tvalidateDescription(name, dirty, errMsg) {\n\t\t\tconst { itemType, validate } = this.props\n\t\t\tlet schema = null\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tschema = adSlotPut.description\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tschema = adUnitPut.description\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t\tconst result = Joi.validate(name, schema)\n\t\t\tvalidate('description', {\n\t\t\t\tisValid: !result.error,\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t}\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tvalidations,\n\t\t\t\tclasses,\n\t\t\t\tt,\n\t\t\t\taccount,\n\t\t\t\titemType,\n\t\t\t\tobjModel,\n\t\t\t\tmatchId,\n\t\t\t\tside,\n\t\t\t\tinvalidFields,\n\t\t\t\tvalidateId,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst propsItem = this.props.item\n\n\t\t\tif (!propsItem) {\n\t\t\t\treturn (\n\t\t\t\t\t<PageNotFound\n\t\t\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\n\t\t\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\n\t\t\t\t\t\t\targs: [itemType.toUpperCase(), matchId],\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tgoToPath={`/dashboard/${side}`}\n\t\t\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t\t/*\n\t\t\t * NOTE: using instance of the item, the instance is passes to the Unit, Slot, Channel and Campaign components,\n\t\t\t * in this case there is no need to make instance inside them\n\t\t\t */\n\n\t\t\tconst isDemo = account._authType === 'demo'\n\t\t\tconst item = new objModel(this.state.item || {})\n\t\t\tlet canEdit = itemType === 'AdSlot'\n\t\t\tlet imgSrc = item.temp.tempUrl || item.mediaUrl || item.fallbackMediaUrl\n\n\t\t\tconst titleErr = invalidFields['title']\n\t\t\tconst descriptionErr = invalidFields['description']\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Prompt\n\t\t\t\t\t\twhen={!!this.state.dirtyProps.length}\n\t\t\t\t\t\tmessage={t('UNSAVED_CHANGES_ALERT')}\n\t\t\t\t\t/>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\terror={!!titleErr && !!titleErr.errMsg}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<InputLabel>{t('title', { isProp: true })}</InputLabel>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname={t('title', { isProp: true })}\n\t\t\t\t\t\t\t\tvalue={item.title}\n\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\tthis.validateTitle(ev.target.value, true)\n\t\t\t\t\t\t\t\t\tthis.handleChange('title', ev.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tmaxLength={1024}\n\t\t\t\t\t\t\t\tonBlur={ev => {\n\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', false)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonFocus={() => this.validateTitle(item.title, false)}\n\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.title}\n\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t// disabled\n\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\t\t\tonClick={ev => this.setActiveFields('title', true)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{titleErr && titleErr.errMsg && titleErr.dirty && (\n\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t{t(titleErr.errMsg, { args: titleErr.errMsgArgs })}\n\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{itemType !== 'Campaign' && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<ImgDialog\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\timgSrc={imgSrc}\n\t\t\t\t\t\t\t\t\thandleToggle={this.handleToggle}\n\t\t\t\t\t\t\t\t\tactive={this.state.editImg}\n\t\t\t\t\t\t\t\t\tonChangeReady={this.handleChange}\n\t\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\t\twidth={\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgWidth ||\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).width\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\theight={\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgHeight ||\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).height\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttitle={t(this.props.updateImgLabel)}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t(this.props.updateImgInfoLabel)}\n\t\t\t\t\t\t\t\t\texact={this.props.updateImgExact}\n\t\t\t\t\t\t\t\t\terrMsg={this.props.updateImgErrMsg}\n\t\t\t\t\t\t\t\t\timgPropName='img'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\terror={!!descriptionErr && !!descriptionErr.errMsg}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor='description'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('description', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.description || ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(ev.target.value, true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange('description', ev.target.value)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(item.description, false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{descriptionErr && !!descriptionErr.errMsg ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(descriptionErr.errMsg, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: descriptionErr.errMsgArgs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t!item.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('NO_DESCRIPTION_YET')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\n\t\t\t\t\t\t\t\t\t\t{this.props.showLogo && (\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: 270 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.mediaRoot,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.imgContainer\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.fullName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.img, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[classes.pointer]:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.canEditImg && !isDemo,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfabButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmini\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.editIcon}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={!isDemo ? this.handleToggle : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{!!this.state.dirtyProps.length && (\n\t\t\t\t\t\t\t<div className={classes.changesLine}>\n\t\t\t\t\t\t\t\t<InfoOutlineIcon className={classes.buttonLeft} />\n\t\t\t\t\t\t\t\t<span className={classes.buttonLeft}>\n\t\t\t\t\t\t\t\t\t{t('UNSAVED_CHANGES')}:\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{this.state.dirtyProps.map(p => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.changeChip}\n\t\t\t\t\t\t\t\t\t\t\tkey={p}\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(p, { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\tonDelete={() => this.returnPropToInitialState(p)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SaveBtn\n\t\t\t\t\t\t\tspinnerId={'update' + item.id}\n\t\t\t\t\t\t\tvalidationId={'update-' + validateId}\n\t\t\t\t\t\t\tdirtyProps={this.state.dirtyProps}\n\t\t\t\t\t\t\tsave={this.save}\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!this.state.dirtyProps.length ||\n\t\t\t\t\t\t\t\t!!Object.keys(invalidFields).length\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Decorated\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\taccount={account}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tinEdit={!!this.state.dirtyProps.length}\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\tsave={this.save}\n\t\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\t\ttoggleImgEdit={this.handleToggle.bind(this)}\n\t\t\t\t\t\t\tactiveFields={this.state.activeFields}\n\t\t\t\t\t\t\tsetActiveFields={this.setActiveFields.bind(this)}\n\t\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t\tisDemo={isDemo}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n\n\tItem.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\titem: PropTypes.object.isRequired,\n\t\tspinner: PropTypes.bool,\n\t\titemType: PropTypes.string.isRequired,\n\t\tobjModel: PropTypes.func.isRequired,\n\t}\n\n\tconst tryGetItemByIpfs = ({ items, ipfs }) => {\n\t\tlet keys = Object.keys(items)\n\n\t\tfor (let index = 0; index < keys.length; index++) {\n\t\t\tconst key = keys[index]\n\t\t\tconst item = items[key]\n\n\t\t\tif (!!item && item._ipfs && !!ipfs && item._ipfs === ipfs) {\n\t\t\t\treturn item\n\t\t\t}\n\t\t}\n\n\t\treturn null\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist } = state\n\t\t// const memory = state.memory\n\t\tconst items = persist.items[props.itemType]\n\t\tconst id = props.match.params.itemId\n\t\tlet item = items[id]\n\n\t\tif (!item && props.itemType !== undefined) {\n\t\t\titem = tryGetItemByIpfs({ items: items, ipfs: id })\n\t\t}\n\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\titem: item,\n\t\t\tvalidateId: 'update-' + (item ? item.id || item.ipfs : 'notfound'),\n\t\t\tmatchId: id,\n\t\t\tside: selectSide(state),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(withStyles(styles)(ValidItemHoc(Translate(Item))))\n}\n","import React from 'react'\nimport MUIDataTable from 'mui-datatables'\nimport { t } from 'selectors'\n\nconst generalTableOptions = {\n\trowsPerPage: 5,\n\trowsPerPageOptions: [5, 10, 25, 50, 100],\n\tsetTableProps: () => {\n\t\treturn {\n\t\t\tpadding: 'default',\n\t\t\tsize: 'small',\n\t\t\twidth: '100%',\n\t\t\talign: 'center',\n\t\t}\n\t},\n\ttextLabels: {\n\t\tbody: {\n\t\t\tnoMatch: t('TABLE_NO_MATCH'),\n\t\t\ttoolTip: t('TABLE_TOOLTIP'),\n\t\t\tcolumnHeaderTooltip: column =>\n\t\t\t\t`${t('TABLE_HEADER_TOOLTIP', {\n\t\t\t\t\targs: [column.label || column],\n\t\t\t\t})}`,\n\t\t},\n\t\tpagination: {\n\t\t\tnext: t('TABLE_NEXT'),\n\t\t\tprevious: t('TABLE_PREV'),\n\t\t\trowsPerPage: t('TABLE_ROWS_PER_PAGE'),\n\t\t\tdisplayRows: t('TABLE_DISPLAY_ROWS'),\n\t\t},\n\t\ttoolbar: {\n\t\t\tsearch: t('TABLE_SEARCH'),\n\t\t\tdownloadCsv: t('TABLE_DL_CSV'),\n\t\t\tprint: t('TABLE_PRINT'),\n\t\t\tviewColumns: t('TABLE_VIEW_COLS'),\n\t\t\tfilterTable: t('TABLE_FILTER'),\n\t\t},\n\t\tfilter: {\n\t\t\tall: t('TABLE_FILTER_ALL'),\n\t\t\ttitle: t('TABLE_FILTER_TITLE'),\n\t\t\treset: t('TABLE_FILTER_RESET'),\n\t\t},\n\t\tviewColumns: {\n\t\t\ttitle: t('TABLE_SHOW_COLS'),\n\t\t\ttitleAria: t('TABLE_SHOW_HIDE_COLS'),\n\t\t},\n\t\tselectedRows: {\n\t\t\ttext: t('TABLE_SELECTED_ROWS'),\n\t\t\tdelete: t('TABLE_DELETE'),\n\t\t\tdeleteAria: t('TABLE_DELETE_SELECTED'),\n\t\t},\n\t},\n}\nexport default function MUIDataTableEnhanced(props) {\n\tconst { title, data, columns, options } = props\n\n\treturn (\n\t\t<MUIDataTable\n\t\t\ttitle={title}\n\t\t\tdata={data}\n\t\t\tcolumns={columns}\n\t\t\toptions={{\n\t\t\t\t...generalTableOptions,\n\t\t\t\t...options,\n\t\t\t\tsearch: !props.noSearch,\n\t\t\t\tdownload: !props.noDownload,\n\t\t\t\tprint: !props.noPrint,\n\t\t\t\tselectableRows: props.rowSelectable ? 'multiple' : 'none',\n\t\t\t\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\n\t\t\t\t\t//This disables toolbar when selected elements on all tables\n\t\t\t\t},\n\t\t\t}}\n\t\t/>\n\t)\n}\n","import React from 'react'\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport HourglassFullIcon from '@material-ui/icons/HourglassFull'\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\n\nconst mapStatusIcons = (humanFriendlyStatus, status, size) => {\n\tconst icon = {\n\t\txs: { fontSize: 10 },\n\t\tmd: { fontSize: 15 },\n\t\tls: { fontSize: 20 },\n\t}\n\tconst waitIcon = <HourglassFullIcon style={icon[size]} color={'secondary'} />\n\tconst doneIcon = <DoneAllIcon style={icon[size]} color={'primary'} />\n\tconst warningIcon = <WarningIcon style={icon[size]} color={'error'} />\n\tconst cashIcon = <MonetizationOnIcon style={icon[size]} color={'accentTwo'} />\n\tif (humanFriendlyStatus === 'Closed' && status.toLowerCase() !== 'exhausted')\n\t\treturn waitIcon\n\tswitch (status.toLowerCase()) {\n\t\tcase 'active':\n\t\tcase 'ready':\n\t\t\treturn doneIcon\n\t\tcase 'pending':\n\t\tcase 'initializing':\n\t\tcase 'waiting':\n\t\t\treturn waitIcon\n\t\tcase 'offline':\n\t\tcase 'disconnected':\n\t\tcase 'unhealthy':\n\t\tcase 'invalid':\n\t\t\treturn warningIcon\n\t\tcase 'withdraw':\n\t\t\treturn cashIcon\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n\nexport { mapStatusIcons }\n","export const styles = theme => ({\r\n\tcellImg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t\tmaxHeight: 60,\r\n\t\tmaxWidth: 180,\r\n\t\tcursor: 'pointer',\r\n\t},\r\n})\r\n","import React from 'react'\nimport { Typography, Slider, Box } from '@material-ui/core'\nimport { formatAbbrNum, formatNumberWithoutCommas } from 'helpers/formatters'\n\nconst getSliderStep = (min, max, steps, precision = 2) => {\n\tconst diff = max - min\n\tconst step = diff / steps\n\tconst fixed = parseFloat(step.toFixed(precision))\n\n\treturn fixed\n}\n\nexport const sliderFilterOptions = ({\n\tinitial = [],\n\tfilterTitle = '',\n\tstepsCount = 20,\n\tstepsPrecision = 2,\n}) => {\n\tconst min = initial[0] || 0\n\tconst max = initial[1] || 100\n\tconst step = getSliderStep(min, max, stepsCount, stepsPrecision)\n\treturn {\n\t\tfilter: true,\n\t\tdisplay: 'true',\n\t\tfilterType: 'custom',\n\t\tcustomFilterListOptions: {\n\t\t\trender: v =>\n\t\t\t\t`${filterTitle}: ${formatAbbrNum(v[0], 2)} - ${formatAbbrNum(v[1], 2)}`,\n\t\t\tupdate: (filterList, filterPos, index) => {\n\t\t\t\tfilterList[index] = []\n\t\t\t\treturn filterList\n\t\t\t},\n\t\t},\n\n\t\tfilterOptions: {\n\t\t\tnames: [],\n\t\t\tlogic: (rowNumber, filters) => {\n\t\t\t\tconst formated = Number(rowNumber.toString().replace(/[^0-9.]/g, ''))\n\t\t\t\tif (filters.length > 0) {\n\t\t\t\t\treturn formated < filters[0] || formated > filters[1]\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t},\n\t\t\tdisplay: (filterList, onChange, index, column) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography id={`range-slider-${column.name}`} gutterBottom>\n\t\t\t\t\t\t\t{filterTitle}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box pl={2} pr={3} pt={2}>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\t\t\tmarks={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: min,\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(min, 2),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: max,\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(max, 2),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t// Max 20 steps (5,000,000 impressions step 1 ...)\n\t\t\t\t\t\t\t\tstep={step}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\tfilterList[index].length > 0 ? filterList[index] : initial\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={(_, newValue) => {\n\t\t\t\t\t\t\t\t\tonChange(newValue, index, column)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\t\taria-labelledby={`range-slider-${column.name}`}\n\t\t\t\t\t\t\t\tgetAriaValueText={v => formatAbbrNum(v, 2)}\n\t\t\t\t\t\t\t\tvalueLabelFormat={v => formatAbbrNum(v, 2)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t}\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport { useSelector } from 'react-redux'\n\nexport function useTableData({ selector, selectorArgs, getColumns }) {\n\tconst [data, setData] = useState([])\n\tconst [columns, setColumns] = useState([])\n\n\tconst selectedData = useSelector(state => selector(state, selectorArgs))\n\n\tconst reloadData = useCallback(() => {\n\t\tsetData(selectedData)\n\t\tsetColumns(getColumns())\n\t}, [getColumns, selectedData])\n\n\tuseEffect(() => {\n\t\treloadData()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [selectedData.length, selector, selectorArgs])\n\n\treturn { data, columns, reloadData }\n}\n","import React, { Fragment } from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport RefreshIcon from '@material-ui/icons/Refresh'\nimport { t } from 'selectors'\n\nexport function ReloadData({ handleReload }) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip title={t('RELOAD_DATA')}>\n\t\t\t\t<IconButton onClick={handleReload}>\n\t\t\t\t\t<RefreshIcon />\n\t\t\t\t</IconButton>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n","import React from 'react'\nimport classnames from 'classnames'\nimport { Tooltip, IconButton } from '@material-ui/core'\nimport { Visibility } from '@material-ui/icons'\nimport Img from 'components/common/img/Img'\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport {\n\tt,\n\tselectCampaignsTableData,\n\tselectMainToken,\n\tselectSide,\n\tselectCampaignsMaxImpressions,\n\tselectCampaignsMaxClicks,\n\tselectCampaignsMaxDeposit,\n} from 'selectors'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { bigNumberify, commify } from 'ethers/utils'\nimport { useSelector } from 'react-redux'\nimport { styles } from './styles'\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\nimport { sliderFilterOptions } from './commonFilters'\nimport { useTableData } from './tableHooks'\nimport { ReloadData } from './toolbars'\nconst RRIconButton = withReactRouterLink(IconButton)\n\nconst useStyles = makeStyles(styles)\n\nconst getCols = ({\n\tclasses,\n\tsymbol,\n\tmaxImpressions,\n\tmaxDeposit,\n\tmaxClicks,\n}) => [\n\t{\n\t\tname: 'media',\n\t\tlabel: t('PROP_MEDIA'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: false,\n\t\t\tcustomBodyRender: ({ id, adUnits }) => {\n\t\t\t\treturn (\n\t\t\t\t\t// TODO: Images issue some stop displaying\n\t\t\t\t\t<Img\n\t\t\t\t\t\tfullScreenOnClick={true}\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\n\t\t\t\t\t\tsrc={adUnits[0].mediaUrl}\n\t\t\t\t\t\talt={id}\n\t\t\t\t\t\tmediaMime={adUnits[0].mediaMime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tname: 'status',\n\t\tlabel: t('PROP_STATUS'),\n\t\toptions: {\n\t\t\tfilter: true,\n\t\t\tsort: false,\n\t\t\tfilterOptions: {\n\t\t\t\tnames: ['Active', 'Closed', 'Completed'],\n\t\t\t\tlogic: (status, filters) => {\n\t\t\t\t\tif (filters.length) return !filters.includes(status.humanFriendlyName)\n\t\t\t\t\treturn false\n\t\t\t\t},\n\t\t\t},\n\t\t\tcustomBodyRender: ({ humanFriendlyName, originalName }) => (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{humanFriendlyName}{' '}\n\t\t\t\t\t{mapStatusIcons(humanFriendlyName, originalName, 'xs')}\n\t\t\t\t</React.Fragment>\n\t\t\t),\n\t\t\t// TODO: Sorting issue\n\t\t},\n\t},\n\t{\n\t\tname: 'depositAmount',\n\t\tlabel: t('PROP_DEPOSIT'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: depositAmount => (\n\t\t\t\t<React.Fragment>{`${depositAmount.toFixed(\n\t\t\t\t\t2\n\t\t\t\t)} ${symbol}`}</React.Fragment>\n\t\t\t),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxDeposit],\n\t\t\t\tfilterTitle: t('DEPOSIT_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'fundsDistributedRatio',\n\t\tlabel: t('PROP_DISTRIBUTED'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: fundsDistributedRatio =>\n\t\t\t\t`${((fundsDistributedRatio || 0) / 10).toFixed(2)}%`,\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, 100],\n\t\t\t\tfilterTitle: t('DISTRIBUTED_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'impressions',\n\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxImpressions],\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'clicks',\n\t\tlabel: t('CHART_LABEL_CLICKS'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxClicks],\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'minPerImpression',\n\t\tlabel: t('PROP_CPM'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: minPerImpression => (\n\t\t\t\t<React.Fragment>{`${minPerImpression.toFixed(\n\t\t\t\t\t2\n\t\t\t\t)} ${symbol}`}</React.Fragment>\n\t\t\t),\n\t\t},\n\t},\n\t{\n\t\tname: 'created',\n\t\tlabel: t('PROP_CREATED'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tsortDirection: 'desc',\n\t\t\tcustomBodyRender: created => formatDateTime(created),\n\t\t},\n\t},\n\t{\n\t\tname: 'activeFrom',\n\t\tlabel: t('PROP_STARTS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: activeFrom => formatDateTime(activeFrom),\n\t\t},\n\t},\n\t{\n\t\tname: 'withdrawPeriodStart',\n\t\tlabel: t('PROP_ENDS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: withdrawPeriodStart =>\n\t\t\t\tformatDateTime(withdrawPeriodStart),\n\t\t},\n\t},\n\t{\n\t\tname: 'actions',\n\t\tlabel: t('ACTIONS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tdownload: false,\n\t\t\tcustomBodyRender: ({ to }) => (\n\t\t\t\t<Tooltip\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\n\t\t\t\t\t// placement='top'\n\t\t\t\t\tenterDelay={1000}\n\t\t\t\t>\n\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\n\t\t\t\t\t\t<Visibility color='primary' />\n\t\t\t\t\t</RRIconButton>\n\t\t\t\t</Tooltip>\n\t\t\t),\n\t\t},\n\t},\n]\n\nconst onDownload = (buildHead, buildBody, columns, data, decimals, symbol) => {\n\tconst mappedData = data.map(i => ({\n\t\tindex: i.index,\n\t\tdata: [\n\t\t\ti.data[0].id,\n\t\t\ti.data[1].humanFriendlyName,\n\t\t\t`${formatTokenAmount(\n\t\t\t\tbigNumberify(i.data[2]).mul(1000),\n\t\t\t\tdecimals,\n\t\t\t\ttrue\n\t\t\t)} ${symbol}`,\n\t\t\t`${((i.data[3] || 0) / 10).toFixed(2)}%`,\n\t\t\ti.data[4],\n\t\t\ti.data[5],\n\t\t\t`${formatTokenAmount(\n\t\t\t\tbigNumberify(i.data[6]).mul(1000),\n\t\t\t\tdecimals,\n\t\t\t\ttrue\n\t\t\t)} ${symbol}`,\n\t\t\tformatDateTime(i.data[7]),\n\t\t\tformatDateTime(i.data[8]),\n\t\t\tformatDateTime(i.data[9]),\n\t\t],\n\t}))\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\n}\n\nconst getOptions = ({ decimals, symbol, reloadData }) => ({\n\tfilterType: 'multiselect',\n\tselectableRows: 'none',\n\tonDownload: (buildHead, buildBody, columns, data) =>\n\t\tonDownload(buildHead, buildBody, columns, data, decimals, symbol),\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\n})\n\nfunction CampaignsTable(props) {\n\tconst classes = useStyles()\n\tconst side = useSelector(selectSide)\n\tconst maxImpressions = useSelector(selectCampaignsMaxImpressions)\n\tconst maxClicks = useSelector(selectCampaignsMaxClicks)\n\tconst maxDeposit = useSelector(selectCampaignsMaxDeposit)\n\tconst { symbol, decimals } = useSelector(selectMainToken)\n\n\tconst { data, columns, reloadData } = useTableData({\n\t\tselector: selectCampaignsTableData,\n\t\tselectorArgs: side,\n\t\tgetColumns: () =>\n\t\t\tgetCols({\n\t\t\t\tdecimals,\n\t\t\t\tclasses,\n\t\t\t\tsymbol,\n\t\t\t\tmaxImpressions,\n\t\t\t\tmaxClicks,\n\t\t\t\tmaxDeposit,\n\t\t\t}),\n\t})\n\n\tconst options = getOptions({ decimals, symbol, reloadData })\n\n\treturn (\n\t\t<MUIDataTableEnhanced\n\t\t\ttitle={t('ALL_CAMPAIGNS')}\n\t\t\tdata={data}\n\t\t\tcolumns={columns}\n\t\t\toptions={options}\n\t\t\t{...props}\n\t\t/>\n\t)\n}\n\nexport default CampaignsTable\n","import React, { useEffect, useState, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport StepperMUI from '@material-ui/core/Stepper'\nimport MobileStepper from '@material-ui/core/MobileStepper'\nimport Step from '@material-ui/core/Step'\nimport StepLabel from '@material-ui/core/StepLabel'\nimport Button from '@material-ui/core/Button'\nimport { styles } from './styles'\nimport Paper from '@material-ui/core/Paper'\nimport Box from '@material-ui/core/Box'\nimport Chip from '@material-ui/core/Chip'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\n\nconst getDirtyValidationErrors = (validations = {}) => {\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\n\t\tconst err = validations[key]\n\t\tif (err.dirty) {\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\n\t\t}\n\t\treturn dirtyErrs\n\t}, [])\n\n\treturn errors\n}\n\nconst useStyles = makeStyles(styles)\n\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\n\tif (window.innerWidth <= 768) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\n\t\t\t\t</StepLabel>\n\t\t\t\t<MobileStepper\n\t\t\t\t\tactiveStep={currentPage}\n\t\t\t\t\tsteps={pages.length}\n\t\t\t\t\tposition={'static'}\n\t\t\t\t\tvariant='progress'\n\t\t\t\t\tclassName={classes.mobileStepper}\n\t\t\t\t></MobileStepper>\n\t\t\t</div>\n\t\t)\n\t}\n\treturn (\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\n\t\t\t{pages.map((page, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Step key={page.title}>\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\n\t\t\t\t\t</Step>\n\t\t\t\t)\n\t\t\t})}\n\t\t</StepperMUI>\n\t)\n}\n\nconst MaterialStepper = props => {\n\tconst {\n\t\tinitialPage = 0,\n\t\tpages = [],\n\t\t// ...props\n\t} = props\n\tconst classes = useStyles()\n\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\n\tconst canReverse = pages.length > currentPage && currentPage > 0\n\n\tconst page = pages[currentPage] || {}\n\tconst pageProps = page.props || {}\n\tconst { validateId } = pageProps\n\tconst Comp = page.component || null\n\tconst { pageValidation = null, onValid, stepsId } = page\n\n\tconst validations = useSelector(state =>\n\t\tselectValidationsById(state, validateId)\n\t)\n\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\n\tconst isValidPage = useCallback(() => {\n\t\treturn !Object.keys(validations || {}).length\n\t}, [validations])\n\n\t// const canAdvance = isValidPage() && !page.completeBtn\n\n\tconst goToPage = useCallback(\n\t\tasync nextStep => {\n\t\t\tconst canAdvance = nextStep > currentPage\n\t\t\tconst canGoBack = nextStep < currentPage\n\n\t\t\tif (canAdvance || canGoBack) {\n\t\t\t\tsetCurrentPage(nextStep)\n\t\t\t}\n\t\t},\n\t\t[currentPage]\n\t)\n\n\tconst goToPreviousPage = useCallback(async () => {\n\t\tif (canReverse) {\n\t\t\tgoToPage(currentPage - 1)\n\t\t}\n\t}, [canReverse, currentPage, goToPage])\n\n\tconst goToNextPage = useCallback(async () => {\n\t\tif (pageValidation) {\n\t\t\tpageValidation({\n\t\t\t\tstepsId,\n\t\t\t\tvalidateId,\n\t\t\t\tdirty: true,\n\t\t\t\tonValid: onValid || (() => goToPage(currentPage + 1)),\n\t\t\t})\n\t\t} else if (isValidPage()) {\n\t\t\tgoToPage(currentPage + 1)\n\t\t}\n\t}, [\n\t\tcurrentPage,\n\t\tgoToPage,\n\t\tisValidPage,\n\t\tonValid,\n\t\tpageValidation,\n\t\tstepsId,\n\t\tvalidateId,\n\t])\n\n\tuseEffect(() => {\n\t\tif (pageValidation) {\n\t\t\tpageValidation({ stepsId, validateId, dirty: false })\n\t\t}\n\t}, [currentPage, pageValidation, stepsId, validateId])\n\n\tconst onKeyPressed = useCallback(\n\t\tasync ev => {\n\t\t\tif (ev.key === 'Enter') {\n\t\t\t\tev.preventDefault()\n\t\t\t\tgoToNextPage()\n\t\t\t}\n\t\t},\n\t\t[goToNextPage]\n\t)\n\n\treturn (\n\t\t<div className={classes.stepperWrapper} onKeyPress={onKeyPressed}>\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.stepperNav,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<StepperNav\n\t\t\t\t\t{...props}\n\t\t\t\t\tpages={pages}\n\t\t\t\t\tclasses={classes}\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\tgoToPage={goToPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<br />\n\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.pagePaper,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className={classes.pageContent}>\n\t\t\t\t\t{!!Comp && <Comp {...pageProps} />}\n\n\t\t\t\t\t{!!dirtyErrors && (\n\t\t\t\t\t\t<Box color='error.main'>\n\t\t\t\t\t\t\t{dirtyErrors.map(err => (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tkey={err.field}\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.errChip }}\n\t\t\t\t\t\t\t\t\ticon={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\n\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className={classes.controls}>\n\t\t\t\t\t<div className={classes.left}>\n\t\t\t\t\t\t{canReverse && !(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={classes.right}>\n\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\n\t\t\t\t\t\t{page.cancelBtn && !(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<page.cancelBtn />\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t{typeof page.cancelFunction === 'function' &&\n\t\t\t\t\t\t!(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<Button onClick={page.cancelFunction}>{t('CANCEL')}</Button>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{/* {ValidationBtn && <ValidationBtn {...page.props} />} */}\n\n\t\t\t\t\t\t{!page.completeBtn || !!pageValidation ? (\n\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={spinner || (!isValidPage() && !pageValidation)}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\tonClick={goToNextPage}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{spinner && (\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{page.completeBtn && !pageValidation && isValidPage() ? (\n\t\t\t\t\t\t\t<page.completeBtn />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Paper>\n\t\t</div>\n\t)\n}\n\nMaterialStepper.propTypes = {\n\tpages: PropTypes.array.isRequired,\n}\n\nexport default MaterialStepper\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst errColor = theme.palette.error.main\n\treturn {\n\t\troot: {\n\t\t\tcolor: 'purple',\n\t\t\t'&$active': {\n\t\t\t\tcolor: 'green',\n\t\t\t},\n\t\t},\n\t\tactive: {\n\t\t\tcolor: 'yellow',\n\t\t},\n\t\tstepperWrapper: {\n\t\t\t// display: 'flex',\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t},\n\t\tpagePaper: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 115,\n\t\t},\n\t\tpageContent: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 20,\n\t\t\tleft: 20,\n\t\t\tright: 20,\n\t\t\tbottom: 50,\n\t\t\tpadding: 20,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t\tdisplay: 'flex',\n\t\t\tflex: 1,\n\t\t\tjustifyContent: 'space-between',\n\t\t\tflexDirection: 'column',\n\t\t\tWebkitOverflowScrolling: 'touch',\n\t\t\t'@media(max-width:500px)': {\n\t\t\t\tpaddingLeft: 0,\n\t\t\t\tpaddingRight: 0,\n\t\t\t},\n\t\t},\n\t\tcontrols: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 5,\n\t\t\tleft: 20,\n\t\t\tright: 20,\n\t\t},\n\t\tright: {\n\t\t\ttextAlign: 'right',\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '86%',\n\t\t\t},\n\t\t},\n\t\tleft: {\n\t\t\tdisplay: 'inline-block',\n\t\t\ttextAlign: 'left',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '14%',\n\t\t\t},\n\t\t},\n\t\tmobileStepper: {\n\t\t\twidth: '100%',\n\t\t\t'& div': {\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '10px',\n\t\t\t},\n\t\t},\n\t\tmobileStepLabel: {\n\t\t\t'& span': {\n\t\t\t\tfontSize: '24px',\n\t\t\t\tmargin: '14px auto',\n\t\t\t},\n\t\t\ttextAlign: 'center',\n\t\t\twidth: 'auto',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmargin: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t\terrChip: {\n\t\t\tcolor: errColor,\n\t\t\tborderColor: errColor,\n\t\t\t'& svg': {\n\t\t\t\tcolor: errColor,\n\t\t\t},\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t}\n}\n","import React, { Component, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport { t } from 'selectors'\n\nclass FormSteps extends Component {\n\tshouldComponentUpdate(nextProps) {\n\t\treturn JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t}\n\n\trender() {\n\t\tconst pages = []\n\t\tconst {\n\t\t\tSaveBtn,\n\t\t\tCancelBtn,\n\t\t\tcancelFunction,\n\t\t\tonSave,\n\t\t\tstepsId,\n\t\t\tstepsPages,\n\t\t\tstepsPreviewPage,\n\t\t\tvalidateIdBase,\n\t\t\t...rest\n\t\t} = this.props\n\t\tconst cancelButton = () => (\n\t\t\t<CancelBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t)\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\n\n\t\tstepsPages.forEach((page, index) => {\n\t\t\tpages.push({\n\t\t\t\ttitle: t(page.title),\n\t\t\t\tcancelBtn: cancelButton,\n\t\t\t\tcomponent: !page.pageValidation\n\t\t\t\t\t? ValidItemHoc(page.page || page)\n\t\t\t\t\t: page.page || page,\n\t\t\t\tpageValidation: page.pageValidation,\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\n\t\t\t\tstepsId,\n\t\t\t\tprops: { ...this.props, stepsId, validateId: validateId + '-' + index },\n\t\t\t})\n\t\t})\n\n\t\tpages.push({\n\t\t\ttitle: t(stepsPreviewPage.title || 'PREVIEW'),\n\t\t\tcompleteBtn: () => (\n\t\t\t\t<SaveBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t\t),\n\t\t\tcancelBtn: cancelButton,\n\t\t\tcomponent: ValidItemHoc(stepsPreviewPage.page || stepsPreviewPage),\n\t\t\tstepsId,\n\t\t\tprops: {\n\t\t\t\t...this.props,\n\t\t\t\tvalidateId: validateId + '-' + stepsPages.length,\n\t\t\t},\n\t\t})\n\n\t\treturn (\n\t\t\t// <div style={{ textAlign: 'left' }}>\n\t\t\t<MaterialStepper pages={pages} />\n\t\t\t// </div>\n\t\t)\n\t}\n}\n\nFormSteps.propTypes = {\n\ttitle: PropTypes.string,\n\titemPages: PropTypes.arrayOf(PropTypes.func),\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsPages: PropTypes.arrayOf(PropTypes.object),\n}\n\nexport default forwardRef((props, ref) => (\n\t<FormSteps {...props} forwardedRef={ref} />\n))\n","import grey from '@material-ui/core/colors/grey'\n\nexport const styles = theme => {\n\tconst spacing = theme.spacing(3)\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\n\treturn {\n\t\tdialog: {\n\t\t\tminHeight: `${fullHeight}px`,\n\t\t\tminWidth: 1024,\n\t\t\tmaxWidth: 1080,\n\t\t\tbackgroundColor: grey[200], // TODO: color,\n\t\t\t// maxHeight: `${fullHeight}`,\n\t\t\t'@media(max-width:1080px)': {\n\t\t\t\tmaxWidth: '100%',\n\t\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t\t},\n\t\t\t'@media(max-height:823px)': {\n\t\t\t\tminHeight: `calc(${fullHeight} - ${theme.spacing(2)}px)`,\n\t\t\t},\n\t\t},\n\t\tdialogTitle: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t\twordWrap: 'break-word',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t\toverflowY: 'auto',\n\t\t},\n\t\tcontentBox: {\n\t\t\t// position: 'absolute',\n\t\t\t// top: 0,\n\t\t\t// left: 0,\n\t\t\t// bottom: 0,\n\t\t\t// right: 0,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: 1,\n\t\t},\n\t\tpropRow: {\n\t\t\tmargin: '10px 0',\n\t\t\twidth: '100%',\n\t\t},\n\t\tcontentBody: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tcontentTopLoadingCircular: {\n\t\t\tflexShrink: 0,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tcontentTopLoading: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t\t'& > div': {\n\t\t\t\tpadding: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttextBtn: {\n\t\t\tcursor: 'pointer',\n\t\t},\n\t\tbtnIconLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tleftCol: {\n\t\t\ttextTransform: 'uppercase',\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\n\t\t\ttextAlign: 'right',\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\ttextAlign: 'left',\n\t\t\t},\n\t\t},\n\t\trightCol: {\n\t\t\ttextAlign: 'left',\n\t\t},\n\t\tprogressCircleCenter: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 30px)',\n\t\t\ttop: 'calc(50% - 30px)',\n\t\t},\n\t\tfloating: {\n\t\t\tposition: 'fixed',\n\t\t\ttop: 86,\n\t\t\tright: 40,\n\t\t\tzIndex: theme.zIndex.appBar,\n\t\t},\n\t\tbreakLong: {\n\t\t\twordBreak: 'break-word',\n\t\t\toverflowWrap: 'break-word',\n\t\t\thyphens: 'auto',\n\t\t},\n\t\tdemoImg: {\n\t\t\ttop: 'auto',\n\t\t\tleft: 'auto',\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\twidth: '100px',\n\t\t\theight: 'auto',\n\t\t\tposition: 'absolute',\n\t\t},\n\t\tdemoBody: {\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontentStickyTop: {\n\t\t\tmarginBottom: '2rem',\n\t\t},\n\t\tfullContentMessage: {\n\t\t\tdisplay: 'flex',\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t},\n\t}\n}\n","import React, { Fragment, useState, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport classnames from 'classnames'\nimport Slide from '@material-ui/core/Slide'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Typography from '@material-ui/core/Typography'\nimport { t } from 'selectors'\n\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={classnames(classes.textBtn, className)}\n\t\t\tstyle={style}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{' '}\n\t\t\t{label}{' '}\n\t\t</span>\n\t)\n}\n\nconst TextBtn = withStyles(styles)(textBtn)\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction='up' ref={ref} {...props} />\n})\n\nconst useStyles = makeStyles(styles)\n\nexport default function ItemHoc(Decorated) {\n\tfunction WithDialog(props) {\n\t\tconst {\n\t\t\tforwardedRef,\n\t\t\ticonButton,\n\t\t\ttextButton,\n\t\t\tfabButton,\n\t\t\tvariant,\n\t\t\tfabVariant,\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tbtnLabelArgs,\n\t\t\tbtnLabel,\n\t\t\tdisabled,\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\ttitle,\n\t\t\tdialogActions,\n\t\t\tonClick,\n\t\t\tfullWidth,\n\t\t\tonBeforeOpen,\n\t\t\t...rest\n\t\t} = props\n\n\t\tconst btnProps = {\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tvariant,\n\t\t}\n\n\t\tconst classes = useStyles()\n\t\tconst [open, setOpen] = useState(false)\n\n\t\tconst handleToggle = async () => {\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\n\t\t\t\tawait onBeforeOpen()\n\t\t\t}\n\n\t\t\tsetOpen(!open)\n\t\t}\n\n\t\tconst handleClick = async ev => {\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\t\tev && ev.preventDefault && ev.preventDefault()\n\t\t\tawait handleToggle()\n\t\t\tif (onClick) onClick()\n\t\t}\n\n\t\tconst closeDialog = () => {\n\t\t\tsetOpen(false)\n\t\t}\n\n\t\tlet ButtonComponent = null\n\n\t\tif (iconButton) {\n\t\t\tButtonComponent = IconButton\n\t\t} else if (textButton) {\n\t\t\tButtonComponent = TextBtn\n\t\t} else if (fabButton) {\n\t\t\tButtonComponent = Fab\n\t\t} else {\n\t\t\tButtonComponent = Button\n\t\t\tbtnProps.fullWidth = fullWidth\n\t\t}\n\n\t\tconst btnLabelTranslated = btnLabel\n\t\t\t? t(btnLabel, { args: btnLabelArgs || [''] })\n\t\t\t: ''\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<ButtonComponent\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\taria-label={btnLabelTranslated}\n\t\t\t\t\tlabel={btnLabelTranslated}\n\t\t\t\t\tonClick={ev => handleClick(ev)}\n\t\t\t\t\t{...btnProps}\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{icon}\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\n\t\t\t\t</ButtonComponent>\n\t\t\t\t<Dialog\n\t\t\t\t\t// disableBackdropClick\n\t\t\t\t\t// disableEscapeKeyDown\n\t\t\t\t\t// maxWidth=\"xs\"\n\t\t\t\t\t// fullScreen\n\t\t\t\t\topen={open}\n\t\t\t\t\tonClose={handleToggle}\n\t\t\t\t\tTransitionComponent={Transition}\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t\t\t// onEscKeyDown={handleToggle}\n\t\t\t\t\t// onOverlayClick={handleToggle}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle disableTypography>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant='subtitle1'\n\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(title)}\n\t\t\t\t\t\t\t<IconButton onClick={handleToggle}>\n\t\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</DialogTitle>{' '}\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\n\t\t\t\t</Dialog>\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\tWithDialog.propTypes = {\n\t\tbtnLabel: PropTypes.string,\n\t\ttitle: PropTypes.string.isRequired,\n\t\tfloating: PropTypes.bool,\n\t\tonBeforeOpen: PropTypes.func,\n\t}\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithDialog {...props} forwardedRef={ref} />\n\t))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdUnit } from 'adex-models'\n\nexport default function NewAdUnitHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'AdUnit',\n\t\t\t\tAdUnit\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = () => {\n\t\t\tconst { actions, newItem } = this.props\n\t\t\tactions.addUnit(newItem)\n\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('AdUnit')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('AdUnit')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tnewItem: new AdUnit(memory.newItem['AdUnit']),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport Select from '@material-ui/core/Select'\nimport { InputLoading } from 'components/common/spinners/'\nimport classnames from 'classnames'\nimport { styles } from './styles'\nimport { t } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction Dropdown(props) {\n\tconst classes = useStyles()\n\n\tconst {\n\t\tonChange,\n\t\tlabel = '',\n\t\tvalue,\n\t\tsource = [],\n\t\thtmlId = 'some-id',\n\t\tdisabled = false,\n\t\terror = false,\n\t\thelperText,\n\t\t// margin = '',\n\t\tfullWidth = false,\n\t\tclassName,\n\t\trequired,\n\t\tloading,\n\t\tnoSrcLabel,\n\t\tvariant,\n\t\tIconComponent,\n\t} = props\n\n\tconst inputLabel = React.useRef(null)\n\tconst [labelWidth, setLabelWidth] = React.useState(0)\n\tReact.useEffect(() => {\n\t\tsetLabelWidth(inputLabel.current.offsetWidth)\n\t}, [])\n\n\tconst handleChange = event => {\n\t\tonChange(event.target.value)\n\t}\n\n\t// TODO: add native renderer for mobile devices when supported\n\treturn (\n\t\t<FormControl\n\t\t\tclassName={classnames(className, classes.formControl)}\n\t\t\tdisabled={disabled}\n\t\t\terror={error}\n\t\t\tfullWidth={fullWidth}\n\t\t\tvariant={variant}\n\t\t>\n\t\t\t<InputLabel ref={inputLabel} htmlFor={htmlId} required={required}>\n\t\t\t\t{label}\n\t\t\t</InputLabel>\n\t\t\t{!!source.length && !loading ? (\n\t\t\t\t<Select\n\t\t\t\t\tvalue={value.id || value}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tlabelWidth={labelWidth}\n\t\t\t\t\tIconComponent={IconComponent}\n\t\t\t\t>\n\t\t\t\t\t{[...source].map(src => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\n\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{src.label}\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</Select>\n\t\t\t) : !loading ? (\n\t\t\t\t<Input disabled value={noSrcLabel} />\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<Input disabled value={t('LOADING_DATA')} />\n\t\t\t\t\t<InputLoading />\n\t\t\t\t</>\n\t\t\t)}{' '}\n\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\n\t\t</FormControl>\n\t)\n}\n\nDropdown.propTypes = {\n\tlabel: PropTypes.string,\n\tonChange: PropTypes.func.isRequired,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string,\n\t\tPropTypes.bool,\n\t]),\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\n\tdisabled: PropTypes.bool,\n\terror: PropTypes.bool,\n\thtmlId: PropTypes.string.isRequired,\n\tdisplayEmpty: PropTypes.bool,\n\thelperText: PropTypes.string,\n\tIconComponent: PropTypes.element,\n}\n\nexport default Dropdown\n","export const styles = theme => ({\n\tformControl: {\n\t\t// margin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n})\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport { constants, schemas, Joi } from 'adex-models'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\n\nconst { adUnitPost } = schemas\n\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nclass AdUnitBasic extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst { newItem } = props\n\t\tthis.validateTitle(newItem.title, false)\n\t\tthis.validateDescription(newItem.description, false)\n\t\tthis.validateTargetUrl(newItem.targetUrl, false)\n\t\tthis.validateAndUpdateType(false, newItem.type)\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (\n\t\t\tprevProps.newItem.title !== this.props.newItem.title ||\n\t\t\tprevProps.newItem.type !== this.props.newItem.type ||\n\t\t\tprevProps.newItem.temp.addUtmLink !== this.props.newItem.temp.addUtmLink\n\t\t) {\n\t\t\tthis.addUtmParameters()\n\t\t}\n\t}\n\n\tvalidateTitle(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adUnitPost.title)\n\n\t\tthis.props.validate('title', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateDescription(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adUnitPost.description)\n\n\t\tthis.props.validate('description', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateTargetUrl(targetUrl, dirty) {\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\n\t\tthis.props.validate('targetUrl', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t\tif (!result.error) this.addUtmParameters(targetUrl)\n\t}\n\n\tvalidateAndUpdateType = (dirty, value) => {\n\t\tconst result = Joi.validate(value, adUnitPost.type)\n\t\tthis.props.handleChange('type', value)\n\t\tthis.props.validate('type', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\taddUtmParameters() {\n\t\tconst { handleChange, newItem } = this.props\n\t\tconst { targetUrl, title, type, temp } = newItem\n\t\tconst { addUtmLink } = temp\n\t\tif (!!targetUrl) {\n\t\t\tconst newTargetUrl = addUrlUtmTracking({\n\t\t\t\ttargetUrl,\n\t\t\t\tcampaign: title,\n\t\t\t\tcontent: type,\n\t\t\t\tremoveFromUrl: !addUtmLink,\n\t\t\t})\n\t\t\thandleChange('targetUrl', newTargetUrl)\n\t\t}\n\t}\n\n\thandleChangeAddUtmLink(ev) {\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.addUtmLink = ev.target.checked\n\t\tthis.props.handleChange('temp', newTemp)\n\t}\n\n\trender() {\n\t\tconst { t, newItem, invalidFields, handleChange } = this.props\n\t\tconst { targetUrl, type, title, description, temp } = newItem\n\t\tconst { addUtmLink } = temp\n\t\tconst errTitle = invalidFields['title']\n\t\tconst errDescription = invalidFields['description']\n\t\tconst errTargetUrl = invalidFields['targetUrl']\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\t\tthis.validateDescription(description, true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTargetUrl(targetUrl, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTargetUrl(targetUrl, false)}\n\t\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty ? errTargetUrl.errMsg : ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tchecked={addUtmLink}\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleChangeAddUtmLink(ev)}\n\t\t\t\t\t\t\t\t\tvalue='checkedB'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={t('ADD_UTM_LINK')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\n\t\t\t\t\t\t\tsource={AdTypes}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitBasic.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdUnitBasic = NewAdUnitHoc(AdUnitBasic)\n\nexport default Translate(NewAdUnitBasic)\n","import url from 'url'\nimport { UTM_PARAMS } from 'constants/misc'\n\nexport const addUrlUtmTracking = ({\n\ttargetUrl,\n\tcampaign,\n\tcontent,\n\tremoveFromUrl,\n}) => {\n\tif (!!targetUrl) {\n\t\tconst URL = url.parse(targetUrl, true)\n\t\tURL.search = null\n\n\t\tif (URL.protocol && URL.host) {\n\t\t\tconst newQuery = {}\n\t\t\tif (removeFromUrl) {\n\t\t\t\tfor (let [key, value] of Object.entries(URL.query)) {\n\t\t\t\t\tif (UTM_PARAMS[key] !== value) {\n\t\t\t\t\t\tnewQuery[key] = value\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tURL.query = newQuery\n\t\t\t} else {\n\t\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\n\n\t\t\t\tif (campaign) {\n\t\t\t\t\tquery['utm_campaign'] = campaign\n\t\t\t\t}\n\t\t\t\tif (content) {\n\t\t\t\t\tquery['utm_content'] = content\n\t\t\t\t}\n\t\t\t\tURL.query = query\n\t\t\t}\n\t\t\treturn url.format(URL)\n\t\t}\n\t}\n\n\treturn targetUrl\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport Grid from '@material-ui/core/Grid'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\n\nconst getWidAndHightFromType = type => {\n\ttype = type || ''\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n\nclass AdUnitMedia extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem, validate, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst { tempUrl, mime } = temp\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tif (tempUrl) {\n\t\t\tvalidateMedia(\n\t\t\t\t{\n\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\twidthTarget: width,\n\t\t\t\t\theightTarget: height,\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\texact: true,\n\t\t\t\t\trequired: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttempUrl,\n\t\t\t\t\tmime,\n\t\t\t\t}\n\t\t\t)\n\t\t} else {\n\t\t\tvalidate('temp', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\thandleImgChange = (prop, img) => {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst newTemp = { ...newItem.temp, ...img }\n\t\thandleChange(prop, newTemp)\n\t}\n\n\trender() {\n\t\tconst { newItem, t, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst errImg = this.props.invalidFields['temp']\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\n\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\tmime={temp.mime || ''}\n\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\n\t\t\t\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\n\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitMedia.propTypes = {\n\ttitle: PropTypes.string,\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewAdUnitMedia = NewAdUnitHoc(ValidImageHoc(AdUnitMedia))\n\nexport default Translate(NewAdUnitMedia)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport TextField from '@material-ui/core/TextField'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport { translate } from 'services/translations/translations'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\n\nexport const renderInput = inputProps => {\n\tconst { InputProps, classes, ref, ...other } = inputProps\n\n\treturn (\n\t\t<TextField\n\t\t\tInputProps={{\n\t\t\t\tinputRef: ref,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.inputRoot,\n\t\t\t\t},\n\t\t\t\t...InputProps,\n\t\t\t}}\n\t\t\t{...other}\n\t\t/>\n\t)\n}\n\nexport const renderSuggestion = ({\n\tsuggestion,\n\tindex,\n\tstyle,\n\titemProps,\n\thighlightedIndex,\n\tselectedItem,\n\tshowSelected,\n}) => {\n\tconst isHighlighted = highlightedIndex === index\n\t// TODO: make it better\n\t// Note wo work with obj and array\n\tconst isSelected =\n\t\t((selectedItem || {}).value || selectedItem || '').indexOf(\n\t\t\tsuggestion.value\n\t\t) > -1\n\n\tif (!showSelected && isSelected) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div style={style}>\n\t\t\t<ListItem\n\t\t\t\tbutton\n\t\t\t\t{...itemProps}\n\t\t\t\tkey={suggestion.value || suggestion.label}\n\t\t\t\tselected={isHighlighted}\n\t\t\t\tcomponent='div'\n\t\t\t\tstyle={{\n\t\t\t\t\tfontWeight: isSelected ? 500 : 400,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ListItemText primary={suggestion.label} />\n\t\t\t</ListItem>\n\t\t</div>\n\t)\n}\n\nconst newSuggestion = inputValue => {\n\treturn {\n\t\tlabel: `${translate(\n\t\t\t'CREATE_TAG_LABEL'\n\t\t)} \"${inputValue.toLowerCase().trim()}\"`,\n\t\tvalue: inputValue.toLowerCase().trim(),\n\t}\n}\n\nrenderSuggestion.propTypes = {\n\thighlightedIndex: PropTypes.number,\n\tindex: PropTypes.number,\n\titemProps: PropTypes.object,\n\tselectedItem: PropTypes.string,\n\tsuggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\n}\n\nexport const getSuggestions = (\n\tinputValue = '',\n\tsource,\n\tallowCreate,\n\tvalidateCreation\n) => {\n\tif (!inputValue) {\n\t\treturn source\n\t} else {\n\t\tinputValue = inputValue.toLowerCase().trim()\n\n\t\tsource = source.filter(suggestion => {\n\t\t\treturn (\n\t\t\t\t!inputValue ||\n\t\t\t\tsuggestion.label\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.trim()\n\t\t\t\t\t.indexOf(inputValue) !== -1\n\t\t\t)\n\t\t})\n\n\t\t// Making sure that an option to create a new item will exist when needed\n\t\tconst values = source.map(item => {\n\t\t\treturn item.value\n\t\t})\n\n\t\tif (\n\t\t\t!values.includes(inputValue) &&\n\t\t\tallowCreate &&\n\t\t\t(!validateCreation || validateCreation(inputValue))\n\t\t) {\n\t\t\tsource.push(newSuggestion(inputValue))\n\t\t}\n\n\t\treturn source\n\t}\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport keycode from 'keycode'\nimport Downshift from 'downshift'\nimport Paper from '@material-ui/core/Paper'\nimport Chip from '@material-ui/core/Chip'\nimport { renderInput, getSuggestions, renderSuggestion } from './common'\n\nclass DownshiftMultiple extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tinputValue: '',\n\t\t\tselectedItem: props.value || [],\n\t\t}\n\t}\n\n\thandleKeyDown = event => {\n\t\tconst { inputValue, selectedItem } = this.state\n\t\tif (\n\t\t\tselectedItem.length &&\n\t\t\t!inputValue.length &&\n\t\t\tkeycode(event) === 'backspace'\n\t\t) {\n\t\t\tconst newItemValue = selectedItem.slice(0, selectedItem.length - 1)\n\t\t\tthis.setState({\n\t\t\t\tselectedItem: newItemValue,\n\t\t\t})\n\n\t\t\tthis.props.onChange(newItemValue)\n\t\t}\n\t}\n\n\thandleInputChange = event => {\n\t\tconst value = event.target.value.toLowerCase()\n\t\tthis.setState({ inputValue: value })\n\t}\n\n\thandleChange = item => {\n\t\tlet { selectedItem } = this.state\n\n\t\tif (selectedItem.indexOf(item.value) === -1) {\n\t\t\tselectedItem = [...selectedItem, item.value]\n\t\t}\n\n\t\tthis.setState({\n\t\t\tinputValue: '',\n\t\t\tselectedItem,\n\t\t})\n\n\t\tthis.props.onChange(selectedItem)\n\t}\n\n\thandleDelete = item => () => {\n\t\tconst selectedItem = [...this.state.selectedItem]\n\t\tselectedItem.splice(selectedItem.indexOf(item), 1)\n\n\t\tthis.setState({ selectedItem })\n\t\tthis.props.onChange(selectedItem)\n\t}\n\n\t/**\n\t * source {'propValue': 'propsLabel'} - skip one mapping to get the label for Chip\n\t */\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\tsource,\n\t\t\tlabel,\n\t\t\tid,\n\t\t\tplaceholder,\n\t\t\thelperText,\n\t\t\topenOnClick,\n\t\t\tallowCreate,\n\t\t\tvalidateCreation,\n\t\t} = this.props\n\t\tconst { inputValue, selectedItem } = this.state\n\t\tconst allValues = Object.keys(source).map(key => {\n\t\t\treturn { value: key, label: source[key] }\n\t\t})\n\n\t\treturn (\n\t\t\t<Downshift\n\t\t\t\tinputValue={inputValue}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\tselectedItem={selectedItem}\n\t\t\t\t// defaultIsOpen={true}\n\t\t\t\titemToString={item => item.label}\n\t\t\t>\n\t\t\t\t{({\n\t\t\t\t\tgetInputProps,\n\t\t\t\t\tgetItemProps,\n\t\t\t\t\tisOpen,\n\t\t\t\t\tinputValue: inputValue2,\n\t\t\t\t\tselectedItem: selectedItem2,\n\t\t\t\t\thighlightedIndex,\n\t\t\t\t\ttoggleMenu,\n\t\t\t\t}) => (\n\t\t\t\t\t<div className={classes.container}>\n\t\t\t\t\t\t{renderInput({\n\t\t\t\t\t\t\tfullWidth: true,\n\t\t\t\t\t\t\tclasses,\n\t\t\t\t\t\t\thelperText,\n\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\tInputProps: getInputProps({\n\t\t\t\t\t\t\t\tstartAdornment: selectedItem.map(item => (\n\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\tkey={item}\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\t\tlabel={source[item]}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\tonDelete={this.handleDelete(item)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)),\n\t\t\t\t\t\t\t\tonChange: this.handleInputChange,\n\t\t\t\t\t\t\t\tonKeyDown: this.handleKeyDown,\n\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tonClick: () => openOnClick && toggleMenu(),\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t{isOpen ? (\n\t\t\t\t\t\t\t<Paper className={classes.paper} square>\n\t\t\t\t\t\t\t\t{/* TODO: use FixedSizeList! */}\n\t\t\t\t\t\t\t\t{getSuggestions(\n\t\t\t\t\t\t\t\t\tinputValue2,\n\t\t\t\t\t\t\t\t\tallValues,\n\t\t\t\t\t\t\t\t\tallowCreate,\n\t\t\t\t\t\t\t\t\tvalidateCreation\n\t\t\t\t\t\t\t\t).map((suggestion, index) =>\n\t\t\t\t\t\t\t\t\trenderSuggestion({\n\t\t\t\t\t\t\t\t\t\tsuggestion,\n\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\titemProps: getItemProps({ item: suggestion }),\n\t\t\t\t\t\t\t\t\t\thighlightedIndex,\n\t\t\t\t\t\t\t\t\t\tselectedItem: selectedItem2,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Downshift>\n\t\t)\n\t}\n}\n\nDownshiftMultiple.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default DownshiftMultiple\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Downshift from 'downshift'\nimport Paper from '@material-ui/core/Paper'\nimport { renderInput, getSuggestions, renderSuggestion } from './common'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport { FixedSizeList } from 'react-window'\nimport AutoSizer from 'react-virtualized-auto-sizer'\nclass DownshiftSingle extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.props.onInit()\n\t\tthis.state = {\n\t\t\tinputValue: '',\n\t\t}\n\t}\n\n\thandleChange = item => {\n\t\tconst selectedItem = item ? item.value || item.label : item\n\t\tthis.props.onChange(selectedItem)\n\t}\n\n\thandleInputChange = inputValue => {\n\t\tif (this.state.inputValue !== inputValue) this.setState({ inputValue })\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\tsource,\n\t\t\terror,\n\t\t\tlabel,\n\t\t\tid,\n\t\t\tplaceholder,\n\t\t\thelperText,\n\t\t\terrorText,\n\t\t\tshowSelected,\n\t\t\tvalue,\n\t\t\topenOnClick,\n\t\t\tallowCreate,\n\t\t\tvalidateCreation,\n\t\t\tvariant,\n\t\t} = this.props\n\t\tconst allValues = source //Object.keys(source).map(key => { return { value: key, label: source[key] } })\n\t\tconst suggestions = getSuggestions(\n\t\t\tthis.state.inputValue,\n\t\t\tallValues,\n\t\t\tallowCreate,\n\t\t\tvalidateCreation\n\t\t)\n\t\treturn (\n\t\t\t<Downshift\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\titemToString={item => (item || {}).label || item || ''}\n\t\t\t\tselectedItem={value}\n\t\t\t>\n\t\t\t\t{({\n\t\t\t\t\tgetInputProps,\n\t\t\t\t\tgetItemProps,\n\t\t\t\t\tisOpen,\n\t\t\t\t\tinputValue,\n\t\t\t\t\tselectedItem,\n\t\t\t\t\thighlightedIndex,\n\t\t\t\t\tclearSelection,\n\t\t\t\t\ttoggleMenu,\n\t\t\t\t}) => {\n\t\t\t\t\tthis.handleInputChange(inputValue)\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className={classes.container}>\n\t\t\t\t\t\t\t{renderInput({\n\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\tvalue: inputValue,\n\t\t\t\t\t\t\t\tfullWidth: true,\n\t\t\t\t\t\t\t\tclasses,\n\t\t\t\t\t\t\t\thelperText,\n\t\t\t\t\t\t\t\tvariant,\n\t\t\t\t\t\t\t\tInputProps: getInputProps({\n\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\tif (openOnClick) {\n\t\t\t\t\t\t\t\t\t\t\tclearSelection()\n\t\t\t\t\t\t\t\t\t\t\ttoggleMenu()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\terror,\n\t\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t{isOpen && suggestions.length > 0 ? (\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} square>\n\t\t\t\t\t\t\t\t\t<AutoSizer>\n\t\t\t\t\t\t\t\t\t\t{({ height, width }) => (\n\t\t\t\t\t\t\t\t\t\t\t<FixedSizeList\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.paper}\n\t\t\t\t\t\t\t\t\t\t\t\theight={height}\n\t\t\t\t\t\t\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\t\t\t\t\t\t\titemSize={46}\n\t\t\t\t\t\t\t\t\t\t\t\titemCount={suggestions.length}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{({ index, style }) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\trenderSuggestion({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuggestion: suggestions[index],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemProps: getItemProps({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem: suggestions[index],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thighlightedIndex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedItem,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowSelected,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</FixedSizeList>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</AutoSizer>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t{error && (\n\t\t\t\t\t\t\t\t<FormHelperText error id='component-error-text'>\n\t\t\t\t\t\t\t\t\t{errorText}\n\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</Downshift>\n\t\t)\n\t}\n}\n\nDownshiftSingle.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default DownshiftSingle\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport DownshiftMultiple from './DownshiftMultiple'\nimport DownshiftSingle from './DownshiftSingle'\n\nfunction Autocomplete(props) {\n\tconst { classes, source, multiple, ...rest } = props\n\n\treturn (\n\t\t<div>\n\t\t\t{multiple ? (\n\t\t\t\t<DownshiftMultiple classes={classes} source={source} {...rest} />\n\t\t\t) : (\n\t\t\t\t<DownshiftSingle classes={classes} source={source} {...rest} />\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nAutocomplete.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default withStyles(styles)(Autocomplete)\n","export const styles = theme => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\theight: 250,\n\t},\n\tcontainer: {\n\t\tflexGrow: 1,\n\t\tposition: 'relative',\n\t},\n\tpaper: {\n\t\tposition: 'absolute',\n\t\t// TODO: fix the component and do nou use z-index\n\t\tzIndex: 1000,\n\t\tmarginTop: theme.spacing(1),\n\t\tleft: 0,\n\t\tright: 0,\n\t\toverflow: 'hidden',\n\t\theight: 150,\n\t\twidth: '100%',\n\t},\n\tchip: {\n\t\tmargin: `${theme.spacing(1) / 2}px ${theme.spacing(1) / 2}px`,\n\t},\n\tinputRoot: {\n\t\tflexWrap: 'wrap',\n\t},\n})\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport Slider from '@material-ui/core/Slider'\nimport IconButton from '@material-ui/core/IconButton'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport AddIcon from '@material-ui/icons/Add'\nimport Autocomplete from 'components/common/autocomplete'\nimport Typography from '@material-ui/core/Typography'\nimport Dropdown from 'components/common/dropdown'\nimport { translate } from 'services/translations/translations'\nimport { withStyles } from '@material-ui/core/styles'\nimport { SOURCES } from 'constants/targeting'\n\nconst styles = {\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n}\nconst marks = [\n\t{\n\t\tvalue: 5,\n\t\tlabel: 'Low',\n\t},\n\t{\n\t\tvalue: 50,\n\t\tlabel: 'Medium',\n\t},\n\t{\n\t\tvalue: 95,\n\t\tlabel: 'High',\n\t},\n]\n\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\n\treturn {\n\t\tvalue: {\n\t\t\tkey: key, // FOR DROPDOWN\n\t\t\tsource: key,\n\t\t\tcollection: SOURCES[key].collection,\n\t\t\ttarget: { tag: '', score: 1 },\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t},\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\n\t}\n})\n\nclass AdUnitTargeting extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tconst { targets } = props.newItem.temp || {}\n\t\tthis.state = {\n\t\t\ttargets: [...(targets || [])],\n\t\t}\n\t}\n\n\tupdateNewItemCollections(targets) {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst collections = [...targets].reduce(\n\t\t\t(all, tg) => {\n\t\t\t\tconst newCollection = all[tg.collection] || []\n\n\t\t\t\t// NOTE: just skip empty tags\n\t\t\t\tif (!!tg.target.tag) {\n\t\t\t\t\tnewCollection.push(tg.target)\n\t\t\t\t}\n\t\t\t\tall[tg.collection] = newCollection\n\t\t\t\treturn all\n\t\t\t},\n\t\t\t{ targeting: [], tags: [] }\n\t\t)\n\n\t\tconst { temp } = newItem\n\t\tconst newTemp = { ...temp }\n\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.targets = [...targets]\n\t\tcollections.temp = newTemp\n\n\t\thandleChange(null, null, collections)\n\t}\n\n\thandleTargetChange = (index, prop, newValue) => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...newTargets[index].target }\n\t\tnewTarget[prop] = newValue\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tnewTarget = target => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...target }\n\t\tnewTarget.key = newTargets.length\n\t\tnewTarget.target = { ...target.target }\n\t\tnewTargets.push(newTarget)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tremoveTarget = index => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tnewTargets.splice(index, 1)\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t\tthis.validateAutocomplete({\n\t\t\tid: `target-${index}`,\n\t\t\tisValid: true,\n\t\t\tdirty: false,\n\t\t})\n\t}\n\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\n\t\tthis.props.validate(id, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\n\t\t\tdirty,\n\t\t})\n\t}\n\n\ttargetTag = ({\n\t\tsource = [],\n\t\tcollection,\n\t\tplaceholder,\n\t\tlabel,\n\t\tindex,\n\t\ttarget,\n\t\tt,\n\t\tclasses,\n\t\tinvalidFields,\n\t}) => {\n\t\tconst id = `target-${index}`\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tdirection='auto'\n\t\t\t\t\t\topenOnClick\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t\t\t\terrorText={\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={newValue => {\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: newValue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonInit={() =>\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: target.tag,\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// validate={validate}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tsource={source}\n\t\t\t\t\t\tvalue={target.tag}\n\t\t\t\t\t\tsuggestionMatch='anywhere'\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\n\t\t\t\t\t\tallowCreate={!source.length}\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={11} md={5}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography id={`tbaget-score-${index}`}>\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\n\t\t\t\t\t\t\t\targs: [target.score],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\tdisabled={!target.tag}\n\t\t\t\t\t\t\tvalue={target.score}\n\t\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\n\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// newItem,\n\t\t\tclasses,\n\t\t\t...rest\n\t\t} = this.props\n\t\t// const { targeting, tags } = newItem\n\n\t\tconst { targets } = this.state\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t{[...targets].map(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsource = '',\n\t\t\t\t\t\t\t\t\tcollection,\n\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\t\ttarget = {},\n\t\t\t\t\t\t\t\t} = {},\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t<this.targetTag\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tonChange={target => {\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\n\t\t\t\t\t\t\tvalue={''}\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\tIconComponent={AddIcon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitTargeting.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdUnitTargeting = NewAdUnitHoc(withStyles(styles)(AdUnitTargeting))\n\nexport default Translate(NewAdUnitTargeting)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Divider from '@material-ui/core/Divider'\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\nimport WcIcon from '@material-ui/icons/Wc'\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\nimport CompareArrows from '@material-ui/icons/CompareArrows'\n\nconst targetIcon = {\n\tlocation: LocationOnIcon,\n\tgender: WcIcon,\n\tage: ChildCareIcon,\n}\n\nconst getTargetType = tag => {\n\tconst type = tag.split('_')[0] || 'tags'\n\treturn type\n}\n\nclass UnitTargets extends Component {\n\ttargetArrayValues = (target, type, t, index) => {\n\t\tconst TargetIcon = targetIcon[type] || CompareArrows\n\t\treturn (\n\t\t\t<span key={target.tag + target.score + index}>\n\t\t\t\t<ListItem>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<TargetIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText\n\t\t\t\t\t\tprimary={t(target.tag, { isTarget: true })}\n\t\t\t\t\t\tsecondary={target.score}\n\t\t\t\t\t/>\n\t\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\n\t\t\t\t</ListItem>\n\t\t\t\t<Divider />\n\t\t\t</span>\n\t\t)\n\t}\n\n\tTargetsList = ({ targets = [], subHeader, t, ...rest }) => (\n\t\t<List\n\t\t\tdense\n\t\t\tsubheader={\n\t\t\t\tsubHeader ? <ListSubheader>{t(subHeader)}</ListSubheader> : null\n\t\t\t}\n\t\t>\n\t\t\t{targets.map(target => {\n\t\t\t\tconst type = getTargetType(target.tag)\n\t\t\t\treturn this.targetArrayValues(target, type, t)\n\t\t\t})}\n\t\t</List>\n\t)\n\n\trender() {\n\t\treturn <this.TargetsList {...this.props} />\n\t}\n}\n\nUnitTargets.propTypes = {\n\ttargets: PropTypes.array.isRequired,\n\tsubHeader: PropTypes.string,\n\tt: PropTypes.func.isRequired,\n}\n\nexport default UnitTargets\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\nimport { CircularProgress } from '@material-ui/core'\nimport { styles } from './styles.js'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { t } from 'selectors'\n\n// TODO: fix responsive styles\nconst propRow = ({\n\tclasses,\n\tleft,\n\tright,\n\tclassName,\n\tclassNameLeft,\n\tclassNameRight,\n\tstyle = {},\n}) => (\n\t<Grid\n\t\titem\n\t\tcontainer\n\t\tspacing={2}\n\t\txs={12}\n\t\tclassName={classnames(className)}\n\t\tstyle={style}\n\t>\n\t\t<Grid\n\t\t\titem\n\t\t\txs={12}\n\t\t\tsm={4}\n\t\t\tlg={3}\n\t\t\tclassName={classnames(classes.leftCol, classes.uppercase, classNameLeft)}\n\t\t>\n\t\t\t{left}\n\t\t</Grid>\n\t\t<Grid\n\t\t\titem\n\t\t\txs={12}\n\t\t\tsm={8}\n\t\t\tlg={9}\n\t\t\tclassName={classnames(\n\t\t\t\tclasses.rightCol,\n\t\t\t\tclasses.breakLong,\n\t\t\t\tclassNameRight\n\t\t\t)}\n\t\t>\n\t\t\t{right}\n\t\t</Grid>\n\t</Grid>\n)\n\nconst contentBox = ({ classes, children, className }) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\tclassName={className}\n\t>\n\t\t{children}\n\t</Box>\n)\n\nconst contentBody = ({ classes, children, className }) => (\n\t<Box flexGrow={1} className={className}>\n\t\t{children}\n\t</Box>\n)\n\nconst contentStickyTop = ({ classes, children, className }) => (\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\n)\n\nconst topLoading = ({ classes, msg, subMsg, className }) => (\n\t<div className={classnames(classes.contentTopLoading)}>\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\n\t\t<div>\n\t\t\t<Typography component='div'> {msg} </Typography>\n\t\t\t{subMsg && (\n\t\t\t\t<Typography component='div'>\n\t\t\t\t\t<strong>{subMsg}</strong>\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t</div>\n\t</div>\n)\n\nconst fullContentSpinner = ({ classes }) => (\n\t<CircularProgress\n\t\tclassName={classnames(classes.progressCircleCenter)}\n\t\tsize={50}\n\t/>\n)\n\nconst fullContentMessage = ({\n\tchildren,\n\tmsgs = [],\n\tspinner,\n\tcolor = 'primary',\n}) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\talignItems='center'\n\t\tjustifyContent='center'\n\t\tbgcolor={`${color}.main`}\n\t\tcolor={`${color}.contrastText`}\n\t>\n\t\t{spinner && (\n\t\t\t<Box p={4}>\n\t\t\t\t<CircularProgress\n\t\t\t\t\tcolor={`${color}.contrastText`}\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\n\t\t\t\t\tsize={69}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t)}\n\t\t{children}\n\t\t{msgs\n\t\t\t.filter(x => !!x && x.message)\n\t\t\t.map((msg, index) => {\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\n\t\t\t\treturn (\n\t\t\t\t\t<Typography key={index} component='div'>\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\n\t\t\t\t\t</Typography>\n\t\t\t\t)\n\t\t\t})}\n\t</Box>\n)\n\nexport const PropRow = withStyles(styles)(propRow)\nexport const ContentBox = withStyles(styles)(contentBox)\nexport const ContentBody = withStyles(styles)(contentBody)\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\nexport const TopLoading = withStyles(styles)(topLoading)\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\timgPreview: {\n\t\t\tmaxHeight: 225,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t\timgPreviewWrapper: {\n\t\t\theight: 'max-content',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Img from 'components/common/img/Img'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\n\nclass AdUnitFormPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.save = props.save\n\t}\n\n\trender() {\n\t\tconst { classes, account, ...rest } = this.props\n\t\tconst { newItem, t } = rest\n\t\tconst { type, title, description, temp, targeting } = newItem\n\n\t\treturn (\n\t\t\t<ContentBox>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\n\t\t\t\t\t\tright={account.wallet.address}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\tright={description}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('MEDIA')}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\n\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\talt={title}\n\t\t\t\t\t\t\t\tmediaMime={temp.mime}\n\t\t\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{targeting && (\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\ttargets={targeting}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* </Grid> */}\n\t\t\t\t\t<br />\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n}\n\nAdUnitFormPreview.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\treturn {\n\t\taccount: persist.account,\n\t}\n}\n\nconst NewAdUnitFormPreview = NewAdUnitHoc(withStyles(styles)(AdUnitFormPreview))\nexport default connect(mapStateToProps)(Translate(NewAdUnitFormPreview))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { Campaign } from 'adex-models'\nimport { OPENING_CAMPAIGN } from 'constants/spinners'\n\nexport default function NewCampaignHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'Campaign',\n\t\t\t\tCampaign\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = async () => {\n\t\t\tconst { actions, newItem } = this.props\n\t\t\tconst { temp } = newItem\n\t\t\tconst newTemp = { ...temp }\n\t\t\tnewTemp.waitingAction = true\n\t\t\tthis.handleChange('temp', newTemp)\n\t\t\tawait actions.openCampaign({ campaign: newItem })\n\n\t\t\tnewTemp.waitingAction = false\n\t\t\tthis.handleChange('temp', newTemp)\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('Campaign')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('Campaign')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\n\t\tconst adUnits = persist.items['AdUnit'] || {}\n\t\tconst adUnitsArray = Object.values(adUnits) || []\n\t\treturn {\n\t\t\tnewItem: new Campaign(memory.newItem['Campaign']),\n\t\t\tadUnits,\n\t\t\tadUnitsArray,\n\t\t\tspinner: memory.spinners[OPENING_CAMPAIGN],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { ContentBody } from 'components/common/dialog/content'\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\nimport {\n\tt,\n\tselectAdUnitsArray,\n\tselectAdUnits,\n\tselectNewCampaign,\n} from 'selectors'\nimport { updateNewCampaign, execute } from 'actions'\n\nfunction CampaignUnits(props) {\n\tconst { temp } = useSelector(selectNewCampaign)\n\tconst { selectedUnits } = temp\n\tconst allAdUnits = useSelector(selectAdUnits)\n\tconst allAdUnitsArray = useSelector(selectAdUnitsArray)\n\tconst hasAdUnits = allAdUnitsArray && allAdUnitsArray.length\n\n\tconst handleSelect = ({ selectedIndexes, selectedItemsIds } = {}) => {\n\t\tconst units = Object.values(selectedItemsIds).map(value => {\n\t\t\treturn allAdUnits[value]\n\t\t})\n\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.selectedUnits = selectedIndexes\n\n\t\texecute(updateNewCampaign('adUnits', units))\n\t\texecute(updateNewCampaign('temp', newTemp))\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tspacing={2}\n\t\t\t\tdirection={hasAdUnits ? null : 'column'}\n\t\t\t\talignItems={hasAdUnits ? null : 'center'}\n\t\t\t>\n\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{hasAdUnits ? (\n\t\t\t\t\t\t\t<AdUnitsTable\n\t\t\t\t\t\t\t\tselected={selectedUnits}\n\t\t\t\t\t\t\t\titems={allAdUnitsArray}\n\t\t\t\t\t\t\t\tvalidate={props.validate}\n\t\t\t\t\t\t\t\thandleSelect={handleSelect}\n\t\t\t\t\t\t\t\tnoClone\n\t\t\t\t\t\t\t\tnoDownload\n\t\t\t\t\t\t\t\trowSelectable\n\t\t\t\t\t\t\t\tnoPrint\n\t\t\t\t\t\t\t\tnoActions\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\n\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\n\t\t\t\t\t\t\t\t<NewUnitDialog\n\t\t\t\t\t\t\t\t\tvariant='extended'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default CampaignUnits\n","import React, { Component } from 'react'\nimport { DateTimePicker as MuiDateTimePicker } from 'material-ui-pickers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport CalendarIcon from '@material-ui/icons/DateRange'\nimport InputAdornment from '@material-ui/core/InputAdornment'\n\nconst CalendarIconAdor = ({\n\ticon = <CalendarIcon />,\n\ticonColor,\n\tonIconClick,\n}) => (\n\t<InputAdornment position='end'>\n\t\t<IconButton color={iconColor} onClick={onIconClick}>\n\t\t\t{icon}\n\t\t</IconButton>\n\t</InputAdornment>\n)\n\nexport class DateTimePicker extends Component {\n\trender() {\n\t\tconst { calendarIcon, icon, iconColor, onIconClick, ...rest } = this.props\n\t\treturn (\n\t\t\t<MuiDateTimePicker\n\t\t\t\tInputProps={{\n\t\t\t\t\tdisabled: rest.disabled,\n\t\t\t\t\tendAdornment: calendarIcon ? (\n\t\t\t\t\t\t<CalendarIconAdor\n\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\ticonColor={iconColor}\n\t\t\t\t\t\t\tonIconClick={onIconClick}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null,\n\t\t\t\t}}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default DateTimePicker\n\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\n\treturn (\n\t\t<DateTimePicker\n\t\t\tInputLabelProps={{\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t},\n\t\t\t\tFormLabelClasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tInputProps={{\n\t\t\t\tdisabled: rest.disabled,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastInput,\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\n\t\t\t\t},\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\n","export const styles = theme => {\n\treturn {\n\t\tdatepickerContrastInput: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\tdatepickerContrastLabel: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\t'&$datepickerContrastLabelFocused': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tdatepickerContrastLabelFocused: {},\n\t\tdatepickerContrastUnderline: {\n\t\t\t'&:after': {\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t\t'&:before': {\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport Grid from '@material-ui/core/Grid'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport TextField from '@material-ui/core/TextField'\nimport DateTimePicker from 'components/common/DateTimePicker'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport { utils } from 'ethers'\nimport MomentUtils from '@date-io/moment'\nimport {\n\tselectSpinnerById,\n\tselectMainToken,\n\tselectNewCampaign,\n\tselectValidationsById,\n\tt,\n} from 'selectors'\nimport { execute, updateNewCampaign, validateNumberString } from 'actions'\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\nimport { validations } from 'adex-models'\nconst { isNumberString } = validations\n\nconst moment = new MomentUtils()\n\nconst getTotalImpressions = ({ depositAmount, minPerImpression }) => {\n\ttry {\n\t\tconst dep = isNumberString(depositAmount) && parseFloat(depositAmount)\n\t\tconst min = isNumberString(minPerImpression) && parseFloat(minPerImpression)\n\t\tif (!dep) {\n\t\t\treturn t('DEPOSIT_NOT_SET')\n\t\t} else if (!min) {\n\t\t\treturn t('CPM_NOT_SET')\n\t\t} else {\n\t\t\tconst impressions = utils.commify(Math.floor((dep / min) * 1000))\n\t\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\n\t\t}\n\t} catch (err) {\n\t\treturn 'N/A'\n\t}\n}\n\nfunction CampaignFinance({ validateId }) {\n\tconst invalidFields = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst campaign = useSelector(selectNewCampaign)\n\n\tconst {\n\t\ttitle,\n\t\tvalidators,\n\t\tdepositAmount,\n\t\tminPerImpression,\n\t\t// depositAsset,\n\t\tactiveFrom,\n\t\twithdrawPeriodStart,\n\t\tminTargetingScore,\n\t\ttemp = {},\n\t} = campaign\n\n\tconst { maxChannelFees, maxDepositFormatted } = temp\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\t)\n\n\tconst from = activeFrom || undefined\n\tconst to = withdrawPeriodStart || undefined\n\tconst now = moment.date().valueOf()\n\n\tconst errTitle = invalidFields['title']\n\tconst errDepAmnt = invalidFields['depositAmount']\n\tconst errMin = invalidFields['minPerImpression']\n\tconst errFrom = invalidFields['activeFrom']\n\tconst errTo = invalidFields['withdrawPeriodStart']\n\n\tconst impressions = getTotalImpressions({\n\t\tdepositAmount,\n\t\tminPerImpression,\n\t})\n\n\tconst leader = validators[0] || {}\n\tconst follower = validators[1] || {}\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('title', ev.target.value))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<FormControl fullWidth disabled>\n\t\t\t\t\t\t\t<InputLabel htmlFor='leader-validator'>\n\t\t\t\t\t\t\t\t{t('ADV_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t<Input id='leader-validator' value={leader.url || ''} />\n\t\t\t\t\t\t\t<FormHelperText>{leader.id}</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<FormControl fullWidth disabled>\n\t\t\t\t\t\t\t<InputLabel htmlFor='follower-validator'>\n\t\t\t\t\t\t\t\t{t('PUB_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t<Input id='follower-validator' value={follower.url || ''} />\n\t\t\t\t\t\t\t<FormHelperText>{follower.id}</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\n\t\t\t\t\t\t\t\targs: [maxDepositFormatted, symbol, maxChannelFees, symbol],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tname='depositAmount'\n\t\t\t\t\t\t\tvalue={depositAmount}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('depositAmount', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'depositAmount',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty\n\t\t\t\t\t\t\t\t\t? errDepAmnt.errMsg\n\t\t\t\t\t\t\t\t\t: t('DEPOSIT_AMOUNT_HELPER_TXT', {\n\t\t\t\t\t\t\t\t\t\t\targs: [maxChannelFees, symbol],\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\n\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\tvalue={minPerImpression}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('minPerImpression', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty ? errMin.errMsg : t('CPM_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\n\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\n\t\t\t\t\t\t\tminDate={now}\n\t\t\t\t\t\t\tmaxDate={to}\n\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('activeFrom', val.valueOf()))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvalue={from || null}\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\n\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\n\t\t\t\t\t\t\tminDate={from || now}\n\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('withdrawPeriodStart', val.valueOf()))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue={to || null}\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'minTargetingScore',\n\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nCampaignFinance.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default CampaignFinance\n","import React from 'react'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { TopLoading } from 'components/common/dialog/content'\n\nexport const WalletAction = ({ t, authType }) => {\n\tlet msg = ''\n\tlet subMsg\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.LEDGER.name:\n\t\t\tmsg = 'LEDGER_WAITING_ACTION'\n\t\t\tbreak\n\t\tdefault:\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\n\t\t\tbreak\n\t}\n\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport NewCampaignHoc from './NewCampaignHoc'\nimport Grid from '@material-ui/core/Grid'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport { formatDateTime } from 'helpers/formatters'\nimport {\n\tselectAccountIdentityAddr,\n\tselectAuthType,\n\tselectMainToken,\n\tselectSpinnerById,\n\tt,\n} from 'selectors'\nimport { execute, getCampaignActualFees } from 'actions'\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\n\nconst UnitsTable = ({ items }) => {\n\treturn (\n\t\t<Grid item sm={12}>\n\t\t\t<ContentBody>\n\t\t\t\t<AdUnitsTable items={items} noSearch noActions noDownload noPrint />\n\t\t\t</ContentBody>\n\t\t</Grid>\n\t)\n}\n\nfunction CampaignFormPreview({ newItem } = {}) {\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst authType = useSelector(selectAuthType)\n\tconst mainToken = useSelector(selectMainToken)\n\tconst { symbol } = mainToken\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\t)\n\n\tconst {\n\t\ttitle,\n\t\t// targeting,\n\t\tadUnits,\n\t\tvalidators,\n\t\tdepositAmount,\n\t\tminPerImpression,\n\t\t// maxPerImpression,\n\t\t// depositAsset,\n\t\twithdrawPeriodStart,\n\t\tactiveFrom,\n\t\tminTargetingScore,\n\t\t// nonce\n\t\ttemp = {},\n\t} = newItem\n\n\tuseEffect(() => {\n\t\texecute(getCampaignActualFees())\n\t}, [])\n\n\treturn spinner ? (\n\t\t<FullContentSpinner />\n\t) : (\n\t\t<ContentBox>\n\t\t\t{temp.waitingAction ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<WalletAction t={t} authType={authType} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\n\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\ttargets={targeting}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/> */}\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('adUnits', { isProp: true })}\n\t\t\t\t\tright={<UnitsTable items={adUnits} />}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('validators', { isProp: true })}\n\t\t\t\t\tright={\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{validators.map(val => (\n\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('CPM', { isProp: true })}\n\t\t\t\t\tright={`${minPerImpression} ${symbol}`}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\n\t\t\t\t\tright={`${depositAmount} ${symbol}`}\n\t\t\t\t/>\n\n\t\t\t\t<PropRow left={t('FEES')} right={`${temp.feesFormatted} ${symbol}`} />\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('CAMPAIGN_FEES_AND_BUDGET')}\n\t\t\t\t\tright={`${temp.totalSpendFormatted} ${symbol}`}\n\t\t\t\t/>\n\n\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('maxPerImpression', { isProp: true })}\n\t\t\t\t\t\tright={maxPerImpression}\n\t\t\t\t\t/> */}\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\n\t\t\t\t\tright={formatDateTime(activeFrom)}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\n\t\t\t\t/>\n\t\t\t\t{minTargetingScore && <PropRow right={t('CAMPAIGN_MIN_TARGETING')} />}\n\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('created', { isProp: true })}\n\t\t\t\t\t\tright={formatDateTime(created)}\n\t\t\t\t\t/> */}\n\n\t\t\t\t{/* </Grid> */}\n\t\t\t\t<br />\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nCampaignFormPreview.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewCampaignFormPreview = NewCampaignHoc(CampaignFormPreview)\nexport default NewCampaignFormPreview\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdSlot } from 'adex-models'\n\nexport default function NewAdUnitHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'AdSlot',\n\t\t\t\tAdSlot\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = () => {\n\t\t\tconst { actions, newItem } = this.props\n\n\t\t\tactions.addSlot(newItem)\n\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('AdSlot')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('AdSlot')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tnewItem: new AdSlot(memory.newItem['AdSlot']),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport { utils } from 'ethers'\nimport { validations, constants, schemas, Joi } from 'adex-models'\nimport { selectMainToken } from 'selectors'\n\nconst { adSlotPost } = schemas\n\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nclass AdSlotBasic extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem } = this.props\n\t\tthis.validateTitle(newItem.title, false)\n\t\tthis.validateDescription(newItem.description, false)\n\t\tthis.validateAndUpdateType(false, newItem.type)\n\t}\n\n\tvalidateTitle(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adSlotPost.title)\n\n\t\tthis.props.validate('title', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateDescription(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adSlotPost.description)\n\n\t\tthis.props.validate('description', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateAndUpdateType = (dirty, value) => {\n\t\tconst result = Joi.validate(value, adSlotPost.type)\n\n\t\tthis.props.handleChange('type', value)\n\t\tthis.props.validate('type', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateAmount(value = '', prop, dirty, errMsg) {\n\t\tconst isValidNumber = validations.isNumberString(value)\n\t\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\n\n\t\tthis.props.validate(prop, {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tupdateMinPerImpression(value = '') {\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.minPerImpression = value\n\n\t\tthis.props.handleChange('temp', newTemp)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\tnewItem,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t\t// nameHelperTxt,\n\t\t\t// descriptionHelperTxt\n\t\t} = this.props\n\t\tconst { type, title, description, temp } = newItem\n\t\tconst { minPerImpression } = temp\n\t\tconst errTitle = invalidFields['title']\n\t\tconst errDescription = invalidFields['description']\n\t\tconst errMin = invalidFields['minPerImpression']\n\t\tconst { symbol } = selectMainToken\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateDescription(description, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\n\t\t\t\t\t\t\tsource={AdTypes}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\n\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\tvalue={minPerImpression}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'minPerImpression', true)\n\t\t\t\t\t\t\t\tthis.updateMinPerImpression(ev.target.value)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\n\t\t\t\t\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotBasic.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdSlotBasic = NewAdSlotHoc(AdSlotBasic)\n\nexport default Translate(NewAdSlotBasic)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\nimport Collapse from '@material-ui/core/Collapse'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Switch from '@material-ui/core/Switch'\nimport { schemas, Joi } from 'adex-models'\n\nconst { adUnitPost } = schemas\n\nconst getWidAndHightFromType = type => {\n\ttype = type || 'legacy_300x250'\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n\nclass AdSlotMedia extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem } = this.props\n\t\tconst { temp, targetUrl } = newItem\n\t\tconst { useFallback } = temp\n\n\t\tif (useFallback) {\n\t\t\tthis.validateImage(useFallback)\n\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\n\t\t}\n\t}\n\n\tvalidateImage = useFallback => {\n\t\tconst { newItem, validate, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst { tempUrl, mime } = temp\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tif (!useFallback) {\n\t\t\tvalidate('temp', {\n\t\t\t\tisValid: true,\n\t\t\t\terr: {\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t},\n\t\t\t\tdirty: true,\n\t\t\t})\n\t\t} else if (tempUrl) {\n\t\t\tvalidateMedia(\n\t\t\t\t{\n\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\twidthTarget: width,\n\t\t\t\t\theightTarget: height,\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\texact: true,\n\t\t\t\t\trequired: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttempUrl,\n\t\t\t\t\tmime,\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t}\n\n\tvalidateFallbackUrl = (targetUrl, dirty, useFallback) => {\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\n\t\tthis.props.validate('targetUrl', {\n\t\t\tisValid: !useFallback || !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\thandleFallbackChange = useFallback => {\n\t\tconst { temp, targetUrl } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.useFallback = useFallback\n\n\t\tthis.props.handleChange('temp', newTemp)\n\t\tthis.validateFallbackUrl(targetUrl, null, useFallback)\n\t\tthis.validateImage(useFallback)\n\t}\n\n\thandleImgChange = (prop, img) => {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst newTemp = { ...newItem.temp, ...img }\n\t\thandleChange(prop, newTemp)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tnewItem,\n\t\t\tt,\n\t\t\tvalidateMedia,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t} = this.props\n\t\tconst { targetUrl, type, temp } = newItem\n\t\tconst useFallback = temp.useFallback || false\n\t\tconst errImg = this.props.invalidFields['temp']\n\t\tconst errFallbackUrl = invalidFields['targetUrl']\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\tchecked={useFallback}\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleFallbackChange(ev.target.checked)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormHelperText>{t('USE_FALLBACK_DATA_INFO')}</FormHelperText>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Collapse in={useFallback}>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\n\t\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, false, useFallback)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\n\t\t\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\n\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Collapse>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotMedia.propTypes = {\n\ttitle: PropTypes.string,\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewAdSlotMedia = NewAdSlotHoc(ValidImageHoc(AdSlotMedia))\n\nexport default Translate(NewAdSlotMedia)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport Slider from '@material-ui/core/Slider'\nimport IconButton from '@material-ui/core/IconButton'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport AddIcon from '@material-ui/icons/Add'\nimport Autocomplete from 'components/common/autocomplete'\nimport Typography from '@material-ui/core/Typography'\nimport Dropdown from 'components/common/dropdown'\nimport { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nconst AcTags = autocompleteTagsSingleSelect()\n\nconst SOURCES = {\n\ttags: { src: AcTags, collection: 'tags' },\n\tcustom: { src: [], collection: 'tags' },\n}\n\nconst styles = {\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n}\nconst marks = [\n\t{\n\t\tvalue: 5,\n\t\tlabel: 'Low',\n\t},\n\t{\n\t\tvalue: 50,\n\t\tlabel: 'Medium',\n\t},\n\t{\n\t\tvalue: 95,\n\t\tlabel: 'High',\n\t},\n]\n\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\n\treturn {\n\t\tvalue: {\n\t\t\tkey: key, // FOR DROPDOWN\n\t\t\tsource: key,\n\t\t\tcollection: SOURCES[key].collection,\n\t\t\ttarget: { tag: '', score: 1 },\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t},\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\n\t}\n})\n\nclass AdSlotTargeting extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tconst { targets } = props.newItem.temp || {}\n\t\tthis.state = {\n\t\t\ttargets: targets || [],\n\t\t}\n\t}\n\n\tupdateNewItemCollections(targets) {\n\t\tconst collections = [...targets].reduce(\n\t\t\t(all, tg) => {\n\t\t\t\tconst newCollection = all[tg.collection] || []\n\t\t\t\t// NOTE: just skip empty tags\n\t\t\t\tif (!!tg.target.tag) {\n\t\t\t\t\tnewCollection.push(tg.target)\n\t\t\t\t}\n\t\t\t\tall[tg.collection] = newCollection\n\t\t\t\treturn all\n\t\t\t},\n\t\t\t{ targeting: [], tags: [] }\n\t\t)\n\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.targets = [...targets]\n\t\tcollections.temp = newTemp\n\n\t\tthis.props.handleChange(null, null, collections)\n\t}\n\n\thandleTargetChange = (index, prop, newValue) => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...newTargets[index].target }\n\t\tnewTarget[prop] = newValue\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tnewTarget = target => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...target }\n\t\tnewTarget.key = newTargets.length\n\t\tnewTarget.target = { ...target.target }\n\t\tnewTargets.push(newTarget)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tremoveTarget = index => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tnewTargets.splice(index, 1)\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t\tthis.validateAutocomplete({\n\t\t\tid: `target-${index}`,\n\t\t\tisValid: true,\n\t\t\tdirty: false,\n\t\t})\n\t}\n\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\n\t\tthis.props.validate(id, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\n\t\t\tdirty,\n\t\t})\n\t}\n\n\ttargetTag = ({\n\t\tsource = [],\n\t\tcollection,\n\t\tplaceholder,\n\t\tlabel,\n\t\tindex,\n\t\ttarget,\n\t\tt,\n\t\tclasses,\n\t\tinvalidFields,\n\t}) => {\n\t\tconst id = `target-${index}`\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tdirection='auto'\n\t\t\t\t\t\topenOnClick\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t\t\t\terrorText={\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={newValue => {\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: newValue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonInit={() =>\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: target.tag,\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// validate={validate}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tsource={source}\n\t\t\t\t\t\tvalue={target.tag}\n\t\t\t\t\t\tsuggestionMatch='anywhere'\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\n\t\t\t\t\t\tallowCreate={!source.length}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={11} md={5}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography id={`target-score-${index}`}>\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\n\t\t\t\t\t\t\t\targs: [target.score],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\tdisabled={!target.tag}\n\t\t\t\t\t\t\tvalue={target.score}\n\t\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\n\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// newItem,\n\t\t\tclasses,\n\t\t\t...rest\n\t\t} = this.props\n\t\t// const { targeting, tags } = newItem\n\n\t\tconst { targets } = this.state\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t{[...targets].map(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsource = '',\n\t\t\t\t\t\t\t\t\tcollection,\n\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\t\ttarget = {},\n\t\t\t\t\t\t\t\t} = {},\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t<this.targetTag\n\t\t\t\t\t\t\t\t\tkey={index} // TODO\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tonChange={target => {\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\n\t\t\t\t\t\t\tvalue={''}\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\tIconComponent={AddIcon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotTargeting.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdSlotTargeting = NewAdSlotHoc(withStyles(styles)(AdSlotTargeting))\n\nexport default Translate(NewAdSlotTargeting)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Img from 'components/common/img/Img'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\nimport { selectMainToken } from 'selectors'\n\nconst SlotFallback = ({ img, targetUrl, t, classes }) => {\n\treturn (\n\t\t<div>\n\t\t\t<PropRow\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\n\t\t\t\tright={\n\t\t\t\t\t<Img\n\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\timg: classes.imgPreview,\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\n\t\t\t\t\t\talt={targetUrl}\n\t\t\t\t\t\tmediaMime={img.mime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<PropRow\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\n\t\t\t\tright={\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\n\t\t\t\t\t\t{targetUrl}\n\t\t\t\t\t</Anchor>\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nclass AdSlotPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.save = props.save\n\t}\n\n\trender() {\n\t\tconst { classes, account, mainTokenSymbol, ...rest } = this.props\n\t\tconst { newItem, t } = rest\n\t\tconst { type, title, description, temp, tags, targetUrl } = newItem\n\t\tconst { minPerImpression } = temp\n\n\t\treturn (\n\t\t\t<ContentBox>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\n\t\t\t\t\t\tright={account.wallet.address}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\tright={description}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('MIN_CPM_SLOT_LABEL')}\n\t\t\t\t\t\tright={`${minPerImpression} ${mainTokenSymbol}`}\n\t\t\t\t\t/>\n\t\t\t\t\t{temp.useFallback && (\n\t\t\t\t\t\t<SlotFallback\n\t\t\t\t\t\t\timg={temp}\n\t\t\t\t\t\t\ttargetUrl={targetUrl}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* </Grid> */}\n\t\t\t\t\t<br />\n\t\t\t\t\t{tags && (\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('tags', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\ttargets={tags}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n}\n\nAdSlotPreview.propTypes = {\n\taccount: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\treturn {\n\t\taccount: persist.account,\n\t\tmainTokenSymbol: selectMainToken(state).symbol,\n\t}\n}\n\nconst NewAdSlotPreview = NewAdSlotHoc(withStyles(styles)(AdSlotPreview))\nexport default connect(mapStateToProps)(Translate(NewAdSlotPreview))\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport FormSteps from 'components/dashboard/forms/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\nimport AddIcon from '@material-ui/icons/Add'\nimport SaveIcon from '@material-ui/icons/Save'\nimport NewAdUnitHoc from './AdUnit/NewAdUnitHoc'\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\nimport AdUnitTargeting from './AdUnit/AdUnitTargeting'\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\nimport NewCampaignHoc from './Campaign/NewCampaignHoc'\nimport CampaignUnits from './Campaign/CampaignUnits'\n// import CampaignTargeting from './Campaign/CampaignTargeting'\nimport CampaignFinance from './Campaign/CampaignFinance'\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\nimport NewAdSlotHoc from './AdSlot/NewAdSlotHoc'\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\nimport AdSlotTargeting from './AdSlot/AdSlotTargeting'\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\n\nimport {\n\texecute,\n\tvalidateNewCampaignFinance,\n\tvalidateNewCampaignAdUnits,\n} from 'actions'\n\nconst SaveBtn = ({ newItem, t, save, ...rest }) => {\n\treturn (\n\t\t<Button color='primary' onClick={save}>\n\t\t\t{/*TODO: withStyles */}\n\t\t\t<SaveIcon style={{ marginRight: 8 }} />\n\t\t\t{t('SAVE')}\n\t\t</Button>\n\t)\n}\n\nconst SendBtn = ({ saveBtnLabel, saveBtnIcon, newItem, t, save, ...rest }) => {\n\treturn (\n\t\t<Button\n\t\t\tcolor='primary'\n\t\t\tonClick={save}\n\t\t\tdisabled={newItem.temp.waitingAction}\n\t\t>\n\t\t\t{newItem.temp.waitingAction ? (\n\t\t\t\t<HourglassEmptyIcon />\n\t\t\t) : (\n\t\t\t\tsaveBtnIcon || <SaveIcon style={{ marginRight: 8 }} />\n\t\t\t)}\n\t\t\t{t(saveBtnLabel || 'OPEN_CAMPAIGN')}\n\t\t</Button>\n\t)\n}\n\nconst SaveBtnWithAdUnit = NewAdUnitHoc(SaveBtn)\nconst SaveBtnWithCampaign = NewCampaignHoc(SendBtn)\nconst SaveBtnWithAdSlot = NewAdSlotHoc(SaveBtn)\n\nconst CancelBtn = ({ ...props }) => {\n\treturn <Button onClick={props.cancel}>{props.t('CANCEL')}</Button>\n}\n\nconst CancelBtnWithItem = NewAdUnitHoc(CancelBtn)\nconst CancelBtnWithCampaign = NewCampaignHoc(CancelBtn)\nconst CancelBtnWithAdSlot = NewAdSlotHoc(CancelBtn)\n\nconst dialogCommon = {\n\tdarkerBackground: true,\n\ticon: <AddIcon />,\n}\n\n// Ad unit\nexport const NewUnitSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithAdUnit}\n\t\tCancelBtn={CancelBtnWithItem}\n\t\tvalidateIdBase={'new-AdUnit-'}\n\t\titemType={'AdUnit'}\n\t\tstepsId={'new-adunit-'}\n\t\tstepsPages={[\n\t\t\t{ title: 'UNIT_BASIC_STEP', page: AdUnitBasic },\n\t\t\t{ title: 'UNIT_MEDIA_STEP', page: AdUnitMedia },\n\t\t\t{ title: 'UNIT_TARGETS_STEP', page: AdUnitTargeting },\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\tpage: AdUnitFormPreview,\n\t\t}}\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\n\t\tnoDefaultImg\n\t\titemModel={AdUnit}\n\t/>\n)\n\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\n\nexport const NewUnitDialog = props => (\n\t<NewUnitStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_UNIT'\n\t\ttitle='CREATE_NEW_UNIT'\n\t/>\n)\n\nconst copyProps = {\n\tdarkerBackground: true,\n\ticon: <FileCopyIcon color='primary' />,\n}\n\nexport const NewCloneUnitDialog = props => (\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\n)\n\n// Campaign\nexport const NewCampaignSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithCampaign}\n\t\tCancelBtn={CancelBtnWithCampaign}\n\t\tvalidateIdBase={'new-Campaign-'}\n\t\titemType={'Campaign'}\n\t\tstepsId={'new-campaign-'}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_UNITS_STEP',\n\t\t\t\tpage: CampaignUnits,\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewCampaignAdUnits({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t// NOTE: Only at ad units at the moment\n\t\t\t// { title: 'CAMPAIGN_TARGETING_STEP', page: CampaignTargeting },\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_FINANCE_STEP',\n\t\t\t\tpage: CampaignFinance,\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewCampaignFinance({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\tpage: CampaignFormPreview,\n\t\t}}\n\t\titemModel={Campaign}\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\n\t/>\n)\n\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\n\nexport const NewCampaignDialog = props => (\n\t<NewCampaignStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_CAMPAIGN'\n\t\ttitle='CREATE_NEW_CAMPAIGN'\n\t/>\n)\n\n// Ad slot\nexport const NewSlotSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithAdSlot}\n\t\tCancelBtn={CancelBtnWithAdSlot}\n\t\tvalidateIdBase={'new-AdUnit-'}\n\t\titemType={'AdSlot'}\n\t\tstepsId={'new-slot-'}\n\t\tstepsPages={[\n\t\t\t{ title: 'SLOT_BASIC_STEP', page: AdSlotBasic },\n\t\t\t{ title: 'SLOT_PASSBACK_STEP', page: AdSlotMedia },\n\t\t\t{ title: 'SLOT_TAGS_STEP', page: AdSlotTargeting },\n\t\t]}\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdSlotPreview }}\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\n\t\titemModel={AdSlot}\n\t/>\n)\n\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\n\nexport const NewSlotDialog = props => (\n\t<NewSlotStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_SLOT'\n\t\ttitle='CREATE_NEW_SLOT'\n\t/>\n)\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { t, selectAdUnitsTableData, selectSide } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes, noActions, noClone }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\t// TODO: fix it with css\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: !noActions,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item }) => (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{!noClone && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tcloneItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tobjModel: AdUnit,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\tonRowsSelect,\r\n})\r\n\r\nfunction AdUnitsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst {\r\n\t\titems, //\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\tcampaignUnits,\r\n\t\thandleSelect,\r\n\t\tselected = [],\r\n\t} = props\r\n\r\n\tconst [selectorArgs, setSelectorArgs] = useState({})\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdUnitsTableData,\r\n\t\tselectorArgs,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t}),\r\n\t})\r\n\r\n\t// NOTE: despite useTableData hook the component is updating.\r\n\t// 'selectorArgs' are object and they have new reference on each update\r\n\t// that causes useTableData to update the data on selectorArgs change.\r\n\t// If selectorArgs are reference type we need to use useState fot them\r\n\t// TODO: find why useTableData causing this update\r\n\tuseEffect(() => {\r\n\t\tsetSelectorArgs({ side, items })\r\n\t}, [side, items])\r\n\r\n\tconst onRowsSelect = useCallback(\r\n\t\t(_, allRowsSelected) => {\r\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\r\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\r\n\t\t},\r\n\t\t[data, handleSelect]\r\n\t)\r\n\r\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={campaignUnits ? t('CAMPAIGN_AD_UNITS') : t('ALL_UNITS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdUnitsTable\r\n","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { t, selectSide, selectAdSlotsTableData } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_STATUS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to }) => (\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\taria-label='view'\r\n\t\t\t\t>\r\n\t\t\t\t\t<RRIconButton to={to} variant='contained'>\r\n\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdSlotsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdSlotsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_SLOTS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdSlotsTable\r\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tcard: {\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing,\n\t\t\twidth: 320,\n\t\t\tdisplay: 'block',\n\t\t\tposition: 'relative',\n\t\t\tmaxWidth: '100%',\n\t\t\t'@media(max-width:380px)': {\n\t\t\t\tmargin: 0,\n\t\t\t\tmarginBottom: spacing,\n\t\t\t},\n\t\t},\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\twidth: 'auto',\n\t\t\tmaxHeight: '100%',\n\t\t},\n\t\tbasicInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'start',\n\t\t\tflexWrap: 'wrap',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\tlabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tmarginTop: `calc(56.25% - ${40 + spacing}px)`,\n\t\t\ttop: 0,\n\t\t\tright: spacing,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport EditIcon from '@material-ui/icons/Edit'\nimport Img from 'components/common/img/Img'\nimport { validUrl } from 'helpers/validators'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport Anchor from 'components/common/anchor/anchor'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\nimport { bigNumberify } from 'ethers/utils'\nimport { validations } from 'adex-models'\nimport { utils } from 'ethers'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\nimport { selectMainToken } from 'selectors'\n\nconst FallbackAdData = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\tisDemo,\n\tactiveFields,\n\tsetActiveFields,\n\tvalidate,\n\tinvalidFields,\n\ttoggleFallbackImgEdit,\n\thandleChange,\n\t...rest\n}) => {\n\tconst errFallbackAdUrl = invalidFields['fallbackAdUrl']\n\n\treturn (\n\t\t<Card className={classes.card} raised={false}>\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }} src=''>\n\t\t\t\t<Img\n\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\tclassName={classes.img}\n\t\t\t\t\tsrc={item.fallbackMediaUrl}\n\t\t\t\t\talt={item.fallbackTargetUrl}\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t/>\n\t\t\t</CardMedia>\n\t\t\t{/* <Fab\n\t\t\t\tmini\n\t\t\t\tcolor='secondary'\n\t\t\t\tonClick={toggleFallbackImgEdit}\n\t\t\t\tclassName={classes.editIcon}\n\t\t\t\tdisabled={isDemo}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</Fab> */}\n\t\t\t<CardContent>\n\t\t\t\t{activeFields.fallbackTargetUrl ? (\n\t\t\t\t\t<TextField\n\t\t\t\t\t\t// required\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tlabel={t('fallbackTargetUrl', { isProp: true })}\n\t\t\t\t\t\tvalue={item.fallbackTargetUrl || ''}\n\t\t\t\t\t\tonChange={ev => handleChange('fallbackTargetUrl', ev.target.value)}\n\t\t\t\t\t\t// maxLength={1024}\n\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\tsetActiveFields('fallbackTargetUrl', false)\n\t\t\t\t\t\t\tvalidate('fallbackTargetUrl', {\n\t\t\t\t\t\t\t\tisValid:\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\trest.validate('fallbackTargetUrl', {\n\t\t\t\t\t\t\t\tisValid:\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={\n\t\t\t\t\t\t\terrFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t\t<span> {errFallbackAdUrl.errMsg} </span>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t!errFallbackAdUrl || !errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t\t<div>{t('SLOT_FALLBACK_AD_URL_DESCRIPTION')}</div>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{item.fallbackTargetUrl ? (\n\t\t\t\t\t\t\t\t<Anchor href={item.fallbackTargetUrl} target='_blank'>\n\t\t\t\t\t\t\t\t\t{item.fallbackTargetUrl}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span style={{ opacity: 0.3 }}>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t{t('NO_FALLBACK_URL_YET')}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{/* <span>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t// disabled={!canEditImg}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\trest.setActiveFields('fallbackTargetUrl', true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</span> */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{errFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span className={classes.error}>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t{errFallbackAdUrl.errMsg}{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</CardContent>\n\t\t</Card>\n\t)\n}\n\nconst ValidatedFallbackAdData = ValidItemHoc(FallbackAdData)\n\nconst updateItemTemp = ({ prop = '', value = '', item = {} } = {}) => {\n\tconst { temp } = item\n\tconst newTemp = { ...temp }\n\tnewTemp[prop] = value\n\n\treturn newTemp\n}\n\nconst validateAmount = (value = '', prop, dirty, errMsg, validate) => {\n\tconst isValidNumber = validations.isNumberString(value)\n\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\n\n\tvalidate(prop, {\n\t\tisValid: isValid,\n\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\n\t\tdirty: dirty,\n\t})\n}\n\nconst SlotMinCPM = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\tisDemo,\n\tactiveFields,\n\tsetActiveFields,\n\tvalidate,\n\tinvalidFields,\n\ttoggleFallbackImgEdit,\n\thandleChange,\n\t...rest\n}) => {\n\tconst errMin = invalidFields['minPerImpression']\n\tconst { address, decimals, symbol } = selectMainToken()\n\tconst minCPM = formatTokenAmount(\n\t\tbigNumberify((item.minPerImpression || {})[address] || '0').mul(1000),\n\t\tdecimals,\n\t\ttrue\n\t)\n\n\tconst minPerImpression =\n\t\titem.temp.minPerImpression !== undefined\n\t\t\t? item.temp.minPerImpression\n\t\t\t: minCPM\n\n\treturn (\n\t\t<FormControl\n\t\t\tfullWidth\n\t\t\tclassName={classes.textField}\n\t\t\tmargin='dense'\n\t\t\terror={!!errMin}\n\t\t>\n\t\t\t<InputLabel>{t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}</InputLabel>\n\t\t\t<Input\n\t\t\t\tfullWidth\n\t\t\t\tautoFocus\n\t\t\t\ttype='text'\n\t\t\t\tname={'minPerImpression'}\n\t\t\t\tvalue={minPerImpression || ''}\n\t\t\t\tonChange={ev => {\n\t\t\t\t\tvalidateAmount(\n\t\t\t\t\t\tev.target.value,\n\t\t\t\t\t\t'minPerImpression',\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t'',\n\t\t\t\t\t\tvalidate\n\t\t\t\t\t)\n\t\t\t\t\thandleChange(\n\t\t\t\t\t\t'temp',\n\t\t\t\t\t\tupdateItemTemp({\n\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t\tmaxLength={1024}\n\t\t\t\tonBlur={ev => {\n\t\t\t\t\tsetActiveFields('minPerImpression', false)\n\t\t\t\t}}\n\t\t\t\tdisabled={!activeFields.minPerImpression}\n\t\t\t\tendAdornment={\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// disabled\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tdisabled={activeFields['minPerImpression'] || isDemo}\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\tonClick={ev => setActiveFields('minPerImpression', true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<FormHelperText>\n\t\t\t\t{errMin && !!errMin.errMsg\n\t\t\t\t\t? t(errMin.errMsg, { args: errMin.errMsgArgs })\n\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')}\n\t\t\t</FormHelperText>\n\t\t</FormControl>\n\t)\n}\n\nconst ValidatedSlotMinCPM = ValidItemHoc(SlotMinCPM)\n\nconst MediaCard = ({\n\tclasses,\n\tmediaUrl,\n\tmediaMime,\n\ttitle,\n\tcanEditImg,\n\ttoggleImgEdit,\n\turl,\n}) => (\n\t<Card className={classes.card} raised={false}>\n\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\n\t\t\t<Img\n\t\t\t\tallowFullscreen={true}\n\t\t\t\tsrc={mediaUrl}\n\t\t\t\talt={title}\n\t\t\t\tclassName={classes.img}\n\t\t\t\tmediaMime={mediaMime}\n\t\t\t\tallowVideo\n\t\t\t/>\n\t\t</CardMedia>\n\t\t{canEditImg && (\n\t\t\t<Button\n\t\t\t\tvariant='fab'\n\t\t\t\tmini\n\t\t\t\tcolor='secondary'\n\t\t\t\tonClick={toggleImgEdit}\n\t\t\t\tclassName={classes.editIcon}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</Button>\n\t\t)}\n\n\t\t{url && (\n\t\t\t<CardContent>\n\t\t\t\t<Anchor href={url} target='_blank'>\n\t\t\t\t\t{url}\n\t\t\t\t</Anchor>\n\t\t\t</CardContent>\n\t\t)}\n\t</Card>\n)\n\nconst basicProps = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\titemType,\n\tactiveFields,\n\t...rest\n}) => {\n\tconst mediaUrl = item.mediaUrl\n\tconst mediaMime = item.mediaMime\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\n\t\t\t\t\t\t{itemType === 'AdSlot' ? (\n\t\t\t\t\t\t\t<ValidatedFallbackAdData\n\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\tactiveFields={activeFields}\n\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\n\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t{itemType === 'AdSlot' && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<ValidatedSlotMinCPM\n\t\t\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\n\t\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\tvalue={item.type}\n\t\t\t\t\t\t\t\t\tlabel={t('type', { isProp: true })}\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t{Array.isArray(item.tags) && itemType === 'AdSlot' && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tvalue={item.tags\n\t\t\t\t\t\t\t\t\t\t\t.map(tag => `\"${tag.tag}(${tag.score})\"`)\n\t\t\t\t\t\t\t\t\t\t\t.join(',\\n')}\n\t\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t\tt('tags', { isProp: true }) + ` (${item.tags.length})`\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\trows={7}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\n\t\t\t\t{rightComponent}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport const BasicProps = withStyles(styles)(basicProps)\n\nconst campaignProps = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\titemType,\n\t...rest\n}) => {\n\tconst mediaUrl = item.mediaUrl\n\tconst status = item.status || {}\n\tconst { decimals, symbol } = selectMainToken()\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={8}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className={classes.basicInfo}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\n\t\t\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\n\t\t\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\n\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={status.humanFriendlyName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.humanFriendlyName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'md'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(status.fundsDistributedRatio || 0) / 10\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, decimals) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={4}>\n\t\t\t\t\t{rightComponent}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\n// ((status.fundsDistributedRatio || 0) / 10).toFixed(2)\nexport const CampaignProps = withStyles(styles)(campaignProps)\n","import Helper from 'helpers/miscHelpers'\nimport { defaults } from 'react-chartjs-2'\nimport merge from 'lodash.merge'\n\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\n// Eddie colors\nexport const CHARTS_COLORS = [\n\t'#00BAFF',\n\t'#7EDBFF',\n\t'#FF9FA8',\n\t'#14DC9C',\n\t'#61FFB2',\n\t'#ABFFE5',\n]\n\nexport let CHARTS_COMMON_OPTIONS = {\n\tresponsive: true,\n\ttooltips: {\n\t\tmode: 'label',\n\t\tcornerRadius: 2,\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\n\t},\n}\n\nexport const hexColorsToRgbaArray = (colors, alpha) => {\n\treturn colors.map(color => {\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\n\t})\n}\n\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { t, selectCampaignDoughnutStats } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction CampaignStatsDoughnut({\r\n\tcampaignId,\r\n\tmaxDataSets = CHARTS_COLORS.length,\r\n\tchartColors = CHARTS_COLORS,\r\n}) {\r\n\tconst data = useSelector(state =>\r\n\t\tselectCampaignDoughnutStats(state, {\r\n\t\t\tcampaignId,\r\n\t\t\tchartColors,\r\n\t\t\tmaxDataSets,\r\n\t\t})\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Doughnut\r\n\t\t\twidth={450}\r\n\t\t\theight={450}\r\n\t\t\tdata={data}\r\n\t\t\toptions={{\r\n\t\t\t\t// responsive: true,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\ttext: t('CAMPAIGN_STATS_PIE_CHART'),\r\n\t\t\t\t},\r\n\t\t\t\tanimation: false,\r\n\t\t\t\ttooltips: {\r\n\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\tlabel: function(item, data) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].label +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.labels[item.index] +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].data[item.index]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsDoughnut.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsDoughnut\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectCampaignStatsMaxValues,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { useSelector } from 'react-redux'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst getCols = ({\r\n\tsymbol,\r\n\tmaxClicks,\r\n\tmaxImpressions,\r\n\tmaxEarnings,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'website',\r\n\t\tlabel: t('WEBSITE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: impressions => formatNumberWithCommas(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('WEBSITE_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t`${formatNumberWithCommas(earnings || 0)} ${symbol}`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxEarnings],\r\n\t\t\t\tfilterTitle: t('EARNINGS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => formatNumberWithCommas(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr}%`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t\tstepsCount: 20,\r\n\t\t\t\tstepsPrecision: 4,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\trowsPerPage: 20,\r\n})\r\n\r\nfunction CampaignStatsBreakdownTable({ campaignId }) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { maxClicks, maxImpressions, maxEarnings, maxCTR } = useSelector(\r\n\t\tstate => selectCampaignStatsMaxValues(state, campaignId)\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignStatsTableData,\r\n\t\tselectorArgs: campaignId,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({ symbol, maxClicks, maxImpressions, maxEarnings, maxCTR }),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('CAMPAIGN_STATS_BREAKDOWN')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsBreakdownTable.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsBreakdownTable\r\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport Translate from 'components/translate/Translate'\nimport Button from '@material-ui/core/Button'\nimport { AdUnit as AdUnitModel, Campaign as CampaignModel } from 'adex-models'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { CampaignProps } from 'components/dashboard/containers/ItemCommon'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport AppBar from '@material-ui/core/AppBar'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Anchor from 'components/common/anchor/anchor'\nimport CampaignStatsDoughnut from 'components/dashboard/charts/campaigns/CampaignStatsDoughnut'\nimport CampaignStatsBreakdownTable from 'components/dashboard/containers/Tables/CampaignStatsBreakdownTable'\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\n\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\nconst VIEW_MODE = 'campaignRowsView'\n\nexport class Campaign extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context)\n\n\t\tthis.state = {\n\t\t\ttabIndex: 0,\n\t\t\tstatistics: {},\n\t\t}\n\t}\n\n\thandleTabChange = (event, index) => {\n\t\tthis.setState({ tabIndex: index })\n\t}\n\n\tCampaignActions = ({ campaign, actions, t }) => {\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tactions.closeCampaign({ campaign })\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// classes,\n\t\t\titem,\n\t\t\t// handleChange,\n\t\t\t// activeFields,\n\t\t\t// isDemo,\n\t\t\tactions,\n\t\t\thistory,\n\t\t\t// ...rest\n\t\t} = this.props\n\t\tconst { tabIndex } = this.state\n\t\tconst units = item.spec.adUnits\n\t\tconst campaign = new CampaignModel(item)\n\t\tconst status = (campaign.status || {}).name\n\t\tconst leader = campaign.spec.validators[0]\n\t\tconst follower = campaign.spec.validators[1]\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<CampaignProps\n\t\t\t\t\titem={campaign}\n\t\t\t\t\tt={t}\n\t\t\t\t\trightComponent={\n\t\t\t\t\t\t// <UnitTargets\n\t\t\t\t\t\t// \t{...rest}\n\t\t\t\t\t\t// \ttargets={campaign.targeting}\n\t\t\t\t\t\t// \tt={t}\n\t\t\t\t\t\t// \tsubHeader={t('CAMPAIGN_TARGETING')}\n\t\t\t\t\t\t// />\n\t\t\t\t\t\t(status === 'Ready' ||\n\t\t\t\t\t\t\tstatus === 'Active' ||\n\t\t\t\t\t\t\tstatus === 'Withdraw' ||\n\t\t\t\t\t\t\tstatus === 'Unhealthy') && (\n\t\t\t\t\t\t\t<this.CampaignActions\n\t\t\t\t\t\t\t\tcampaign={campaign}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tactions={actions}\n\t\t\t\t\t\t\t\thistory={history}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<AppBar position='static' color='default'>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\n\t\t\t\t\t\t\tscrollable\n\t\t\t\t\t\t\tscrollButtons='off'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label={t('STATISTICS')} />\n\t\t\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\n\t\t\t\t\t\t\t<Tab label={t('VALIDATORS')} />\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Box clone order={{ xs: 2, md: 2, lg: 1 }}>\n\t\t\t\t\t\t\t\t\t<Grid item lg={8} md={12} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<CampaignStatsBreakdownTable campaignId={item.id} />\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box clone order={{ xs: 1, md: 1, lg: 2 }}>\n\t\t\t\t\t\t\t\t\t<Grid item lg={4} md={12} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<CampaignStatsDoughnut campaignId={item.id} />\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{tabIndex === 1 && (\n\t\t\t\t\t\t\t<AdUnitsTable items={units} campaignUnits noClone />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{tabIndex === 2 && (\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/status`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/status`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nCampaign.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tunits: PropTypes.object.isRequired,\n\trowsView: PropTypes.bool.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, ownProps) {\n\tconst { persist } = state\n\t// let memory = state.memory\n\treturn {\n\t\tunits: persist.items['AdUnit'],\n\t\trowsView: !!persist.ui[VIEW_MODE],\n\t\tobjModel: CampaignModel,\n\t\titemType: 'Campaign',\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst CampaignItem = ItemHoc(withStyles(styles)(Campaign))\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(CampaignItem))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tflex: {\n\t\t\tflex: 1,\n\t\t},\n\t\tappBar: {\n\t\t\tmarginTop: spacing * 2,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tdatepicker: {\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: 0,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\n\t</g>,\n\n\t'AdexPublisher',\n\t'0 0 114 110'\n)\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\n\t</g>,\n\t'AdexAdvertiser',\n\t'0 0 109 94'\n)\n","import React, { Component } from 'react'\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport Translate from 'components/translate/Translate'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst SideBox = ({\n\tsalePoints = [],\n\tlinkTitle,\n\ticon,\n\ttitle,\n\tdisabled,\n\tclasses,\n\t...other\n}) => (\n\t<div\n\t\t{...other}\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\n\t>\n\t\t<div className={classes.icon}>{icon}</div>\n\t\t<h2>{title}</h2>\n\t\t<ul className={classes.salePoints}>\n\t\t\t{salePoints.map(function(point, key) {\n\t\t\t\treturn <li key={key}> {point} </li>\n\t\t\t})}\n\t\t</ul>\n\t</div>\n)\n\nconst RRSideBox = withReactRouterLink(SideBox)\n\nclass SideSelect extends Component {\n\trender() {\n\t\tlet { t, classes } = this.props\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={true}\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\n\t\t\t\tBackdropProps={{\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\troot: classes.backdrop,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tfullWidth\n\t\t\t\tmaxWidth='sm'\n\t\t\t>\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<AdvertiserLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/advertiser'\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<PublisherLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/publisher'\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n\nexport default Translate(withStyles(styles)(SideSelect))\n","export const styles = () => {\n\treturn {\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tsideBox: {\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\theight: 'auto',\n\t\t\ttextAlign: 'center',\n\t\t\tverticalAlign: 'top',\n\t\t\topacity: 0.7,\n\t\t\t'&:hover:not(.disabled)': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t\topacity: 1,\n\t\t\t},\n\t\t\t'&.disabled': {\n\t\t\t\topacity: 0.3,\n\t\t\t},\n\t\t\t'@media(max-width:425px)': {\n\t\t\t\twidth: '100%',\n\t\t\t},\n\t\t},\n\t\ticon: {\n\t\t\twidth: 110,\n\t\t\theight: 110,\n\t\t\tmargin: 'auto',\n\t\t},\n\t\tsalePoints: {\n\t\t\tpadding: 0,\n\t\t\t'& li': {\n\t\t\t\tdisplay: 'block',\n\t\t\t\tlistStyle: 'none',\n\t\t\t},\n\t\t},\n\t}\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\tinfoStatsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\tjustifyContent: 'stretch',\n\t\t\theight: '100%',\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: spacing,\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tdashboardCardBody: {\n\t\t\tmargin: spacing,\n\t\t\tpadding: spacing,\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\n\t\t},\n\t}\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Line, Chart } from 'react-chartjs-2'\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\nimport Helper from 'helpers/miscHelpers'\nimport { selectStatsChartData, selectMainToken } from 'selectors'\n\nconst commonDsProps = {\n\tfill: false,\n\tlineTension: 0.3,\n\tborderWidth: 0,\n\tpointRadius: 3,\n\tpointHitRadius: 10,\n}\n\nexport const SimpleStatistics = ({\n\tside,\n\ttimeframe = '',\n\teventType,\n\tpayouts,\n\timpressions,\n\tclicks,\n\toptions = {},\n\tt,\n\txLabel = 'TIMEFRAME',\n\ty1Label = 'DATA1',\n\ty2Label = 'DATA2',\n\ty3Label = 'DATA3',\n\ty1Color = CHARTS_COLORS[1],\n\ty2Color = CHARTS_COLORS[2],\n\ty3Color = CHARTS_COLORS[3],\n}) => {\n\tconst { symbol } = useSelector(selectMainToken)\n\n\t// Vertical line / crosshair\n\tuseEffect(() => {\n\t\tChart.pluginService.register({\n\t\t\tafterDraw: function(chart) {\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\n\t\t\t\t\tconst ctx = chart.ctx\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\n\t\t\t\t\tconst chartScalesy1 = chart.scales['y-axis-1']\n\t\t\t\t\tif (chartScalesy1) {\n\t\t\t\t\t\tconst topY = chartScalesy1.top\n\t\t\t\t\t\tconst bottomY = chartScalesy1.bottom\n\t\t\t\t\t\tctx.save()\n\t\t\t\t\t\tctx.beginPath()\n\t\t\t\t\t\tctx.moveTo(x, topY)\n\t\t\t\t\t\tctx.lineTo(x, bottomY)\n\t\t\t\t\t\tctx.lineWidth = 1 // line width\n\t\t\t\t\t\tctx.setLineDash([1, 5])\n\t\t\t\t\t\tctx.strokeStyle = '#C0C0C0' // color of the vertical line\n\t\t\t\t\t\tctx.stroke()\n\t\t\t\t\t\tctx.restore()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t})\n\n\tconst chartData = {\n\t\tlabels: payouts.labels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 0.5),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\n\t\t\t\tlabel: y1Label,\n\t\t\t\tdata: payouts.datasets,\n\t\t\t\tyAxisID: 'y-axis-1',\n\t\t\t\tpointBackgroundColor: 'transparent',\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 0.5),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\n\t\t\t\tlabel: y2Label,\n\t\t\t\tdata: impressions.datasets,\n\t\t\t\tyAxisID: 'y-axis-2',\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y3Color, 0.5),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y3Color, 1),\n\t\t\t\tlabel: y3Label,\n\t\t\t\tdata: clicks.datasets,\n\t\t\t\tyAxisID: 'y-axis-3',\n\t\t\t},\n\t\t],\n\t}\n\n\tconst linesOptions = {\n\t\tanimation: false,\n\t\tresponsive: true,\n\t\t// This and fixed height are used for proper mobile display of the chart\n\t\tmaintainAspectRatio: false,\n\t\ttitle: {\n\t\t\tdisplay: true,\n\t\t\ttext: options.title,\n\t\t},\n\t\ttooltips: {\n\t\t\tbackgroundColor: 'black',\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t\tcallbacks: {\n\t\t\t\tlabel: function(t, d) {\n\t\t\t\t\t// This adds currency MainToken (DAI) to y1Label in the tooltips\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\n\t\t\t\t\tvar yLabel = xLabel === y1Label ? `${t.yLabel} ${symbol}` : t.yLabel\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\thover: {\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t},\n\t\tscales: {\n\t\t\txAxes: [\n\t\t\t\t{\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y1Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-1',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tposition: 'right',\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y2Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-2',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tprecision: 0,\n\t\t\t\t\t},\n\t\t\t\t\t// grid line settings\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tposition: 'right',\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y3Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-3',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tprecision: 0,\n\t\t\t\t\t},\n\t\t\t\t\t// grid line settings\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t}\n\n\treturn <Line height={500} data={chartData} options={linesOptions} />\n}\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport Typography from '@material-ui/core/Typography'\nimport classnames from 'classnames'\nimport InfoIcon from '@material-ui/icons/Info'\nimport { ArrowTooltip } from 'components/common/tooltips'\nimport LinearProgress from '@material-ui/core/LinearProgress'\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\troot: {\n\t\t\tposition: 'relative',\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\n\t\t\tcolor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\n\t\t\t\ttheme.palette.text.primary,\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: theme.spacing(1),\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tprogress: {\n\t\t\tbottom: 0,\n\t\t\tposition: 'absolute',\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nconst StatsCard = props => {\n\tconst {\n\t\ttitle,\n\t\tsubtitle,\n\t\tlinkCard,\n\t\tchildren,\n\t\tonClick,\n\t\tbgColor,\n\t\tloading,\n\t\texplain,\n\t} = props\n\n\tconst classes = useStyles({ bgColor })\n\n\treturn (\n\t\t<Card\n\t\t\t// raised\n\t\t\tclassName={classnames(classes.root, classes.infoCard, {\n\t\t\t\t[classes.linkCard]: !!linkCard,\n\t\t\t})}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t<CardContent>\n\t\t\t\t{title && (\n\t\t\t\t\t<Typography variant='h5' noWrap>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t\t{subtitle && (\n\t\t\t\t\t<Typography component='p' noWrap>\n\t\t\t\t\t\t{subtitle}{' '}\n\t\t\t\t\t\t{explain && (\n\t\t\t\t\t\t\t<ArrowTooltip\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t<Typography component='p' variant='caption'>\n\t\t\t\t\t\t\t\t\t\t{explain}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InfoIcon style={{ fontSize: 12 }}></InfoIcon>\n\t\t\t\t\t\t\t</ArrowTooltip>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t\t{children}\n\t\t\t</CardContent>\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\n\t\t</Card>\n\t)\n}\n\nStatsCard.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tlinkCard: PropTypes.bool,\n}\n\nexport default StatsCard\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\nimport lime from '@material-ui/core/colors/lime'\nimport deepOrange from '@material-ui/core/colors/deepOrange'\nimport amber from '@material-ui/core/colors/amber'\nimport grey from '@material-ui/core/colors/grey'\n\nconst WHITE = '#fff'\nexport const PRIMARY = '#1B75BC'\nexport const SECONDARY = '#FFAC00'\nexport const ALEX_GREY = '#3f3e3e'\nexport const ACCENT_ONE = '#57467B'\nexport const ACCENT_TWO = '#7CB4B8'\n\nconst palette = {\n\tprimary: { main: PRIMARY, contrastText: WHITE },\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\n\taccentOne: { main: ACCENT_ONE, contrastText: WHITE },\n\taccentTwo: { main: ACCENT_TWO, contrastText: WHITE },\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\n\tappBar: { main: grey[200], contrastText: grey[900] },\n\terror: deepOrange,\n\twarning: amber,\n\tfirst: lime,\n\tcontrastThreshold: 3,\n\ttonalOffset: 0.2,\n\ttext: grey,\n}\n\nexport const theme = createMuiTheme({\n\ttypography: {\n\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n\t\tfontSize: 13,\n\t},\n\tpalette: { ...palette },\n\toverrides: {\n\t\tMuiButton: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTableCell: {\n\t\t\thead: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t\troot: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t},\n\t\tMuiPaper: {\n\t\t\trounded: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTooltip: {\n\t\t\ttooltip: { borderRadius: 0 },\n\t\t},\n\t\tMuiFormControl: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiSelect: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiInputLabel: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiOutlinedInput: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\t// MuiStepIcon: {\n\t\t//     root: {\n\t\t//         color: 'yellow',\n\t\t//         '&$active': {\n\t\t//             color: 'orange'\n\t\t//         }\n\t\t//     },\n\t\t//     active: {\n\t\t//         color: 'yellow'\n\t\t//     }\n\t\t// },\n\t\tMuiTableFooter: {\n\t\t\troot: {\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tflex: 0,\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMuiAppBar: {\n\t\t\tcolorDefault: {\n\t\t\t\tbackgroundColor: palette.appBar.main,\n\t\t\t\tcolor: palette.appBar.contrastText,\n\t\t\t},\n\t\t},\n\t\tMUIDataTablePagination: {\n\t\t\ttoolbar: {\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMUIDataTableFilter: {\n\t\t\troot: {\n\t\t\t\tmaxWidth: '400px',\n\t\t\t},\n\t\t},\n\t\t// Think of accessing an element not a class\n\t\tMuiGridListTile: {\n\t\t\troot: {\n\t\t\t\twidth: '100% !important',\n\t\t\t},\n\t\t},\n\t\tMUIDataTableBodyCell: {\n\t\t\tstackedCommon: {\n\t\t\t\theight: '80px !important',\n\t\t\t},\n\t\t},\n\t},\n})\n\nexport const themeMUI = responsiveFontSizes(theme, {\n\toptions: ['xs', 'sm', 'md', 'lg', 'xl'],\n\tfactor: 3,\n})\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { execute, updateAnalyticsTimeframe } from 'actions'\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\nimport Dropdown from 'components/common/dropdown'\nimport Grid from '@material-ui/core/Grid'\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\nimport StatsCard from './StatsCard'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tPRIMARY,\n\tSECONDARY,\n\tACCENT_ONE,\n\tACCENT_TWO,\n} from 'components/App/themeMUi'\nimport { styles } from './styles'\nimport { formatNumberWithCommas } from 'helpers/formatters'\nimport {\n\tt,\n\tselectTotalImpressions,\n\tselectTotalMoney,\n\tselectAverageCPM,\n\tselectMainToken,\n\tselectAnalytics,\n\tselectTotalClicks,\n\tselectStatsChartData,\n} from 'selectors'\n\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\n\tconst translated = { ...tf }\n\ttranslated.label = t(tf.label)\n\treturn translated\n})\n\nconst metrics = {\n\tpublisher: [\n\t\t{\n\t\t\tlabel: t('LABEL_REVENUE'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_TWO,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CLICKS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: SECONDARY,\n\t\t},\n\t],\n\tadvertiser: [\n\t\t{\n\t\t\tlabel: t('LABEL_SPEND'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_ONE,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CLICKS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: SECONDARY,\n\t\t},\n\t],\n}\n\nconst timeHints = {\n\thour: 'SHOWING_LAST_HOUR',\n\tday: 'SHOWING_LAST_24_HOURS',\n\tweek: 'SHOWING_LAST_7_DAYS',\n}\n\nexport function BasicStats({ side }) {\n\tconst useStyles = makeStyles(styles)\n\tconst classes = useStyles()\n\tconst { symbol } = useSelector(selectMainToken)\n\n\tconst timeframe = useSelector(selectAnalytics).timeframe || ''\n\tconst totalImpressions = useSelector(state =>\n\t\tselectTotalImpressions(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalClicks = useSelector(state =>\n\t\tselectTotalClicks(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalMoney = useSelector(state =>\n\t\tselectTotalMoney(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst averageCPM = useSelector(state =>\n\t\tselectAverageCPM(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst loadingImpressions = totalImpressions === null\n\tconst loadingMoney = totalMoney === null\n\tconst loadingCPM = averageCPM === null\n\tconst loadingClicks = totalClicks === null\n\n\tconst payouts = useSelector(state =>\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t\tnoLastOne: true,\n\t\t})\n\t)\n\n\tconst impressions = useSelector(state =>\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: true,\n\t\t})\n\t)\n\n\tconst clicks = useSelector(state =>\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'CLICK',\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: true,\n\t\t})\n\t)\n\tconst dataInSync =\n\t\t(clicks.labels[clicks.labels.length - 1] ===\n\t\t\timpressions[impressions.labels.length - 1]) ===\n\t\tpayouts[payouts.labels.length - 1]\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<div className={classes.infoStatsContainer}>\n\t\t\t\t\t<StatsCard>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\n\t\t\t\t\t\t\thelperText={t(timeHints[timeframe])}\n\t\t\t\t\t\t\tonChange={val => execute(updateAnalyticsTimeframe(val))}\n\t\t\t\t\t\t\tsource={timeFrames}\n\t\t\t\t\t\t\tvalue={timeframe}\n\t\t\t\t\t\t\thtmlId='timeframe-select'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</StatsCard>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='primary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t\tloading={loadingImpressions && !dataInSync}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='secondary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_CLICKS')}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_CLICKS')}\n\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\tloadingClicks &&\n\t\t\t\t\t\t\tloadingImpressions &&\n\t\t\t\t\t\t\t!dataInSync &&\n\t\t\t\t\t\t\ttotalClicks / totalImpressions !== Infinity\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalClicks || 0)} (${parseFloat(\n\t\t\t\t\t\t\t(totalClicks / totalImpressions) * 100 || 0\n\t\t\t\t\t\t).toFixed(2)}% ${t('LABEL_CTR')})`}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentOne'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={loadingMoney && !dataInSync}\n\t\t\t\t\t\t></StatsCard>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{side === 'publisher' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentTwo'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={loadingMoney && !dataInSync}\n\t\t\t\t\t\t></StatsCard>\n\t\t\t\t\t)}\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='grey'\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\n\t\t\t\t\t\tloading={loadingCPM && !dataInSync}\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\n\t\t\t\t\t\t)} ${symbol} / CPM`}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<SimpleStatistics\n\t\t\t\t\tside={side}\n\t\t\t\t\ttimeframe={timeframe}\n\t\t\t\t\toptions={{\n\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t(timeFrames.find(a => a.value === timeframe) || {}).label || '',\n\t\t\t\t\t}}\n\t\t\t\t\tpayouts={payouts}\n\t\t\t\t\timpressions={impressions}\n\t\t\t\t\tclicks={clicks}\n\t\t\t\t\ty1Label={metrics[side][0].label}\n\t\t\t\t\ty1Color={metrics[side][0].color}\n\t\t\t\t\ty2Label={metrics[side][1].label}\n\t\t\t\t\ty2Color={metrics[side][1].color}\n\t\t\t\t\ty3Label={metrics[side][2].label}\n\t\t\t\t\ty3Color={metrics[side][2].color}\n\t\t\t\t\tt={t}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { execute, updateNav } from 'actions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport classnames from 'classnames'\nimport SideSelect from 'components/signin/side-select/SideSelect'\nimport { styles } from './styles'\nimport Grid from '@material-ui/core/Grid'\nimport { BasicStats } from './BasicStats'\nimport { t, selectSide } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nexport function DashboardStats(props) {\n\tconst side = useSelector(selectSide)\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\texecute(updateNav('navTitle', t('DASHBOARD')))\n\t}, [])\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? (\n\t\t<SideSelect active={true} />\n\t) : (\n\t\t<div>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item md={12} lg={12} xs={12}>\n\t\t\t\t\t<Card className={classnames(classes.dashboardCardBody)}>\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<BasicStats side={side} />\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default DashboardStats\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { AdUnit } from 'adex-models'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport Translate from 'components/translate/Translate'\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\n\nexport class Unit extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tcloseDialog: false,\n\t\t}\n\t}\n\t// shouldComponentUpdate(nextProps, nextState) {\n\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\n\t//     return diffProps || diffState\n\t// }\n\trender() {\n\t\tconst { item, t, ...rest } = this.props\n\n\t\tif (!item) return <h1>Unit '404'</h1>\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<BasicProps\n\t\t\t\t\titem={item}\n\t\t\t\t\tt={t}\n\t\t\t\t\turl={item.adUrl}\n\t\t\t\t\trightComponent={\n\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\ttargets={item.targeting}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tsubHeader={'PROP_TARGETING'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nUnit.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\treturn {\n\t\tobjModel: AdUnit,\n\t\titemType: 'AdUnit',\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst UnitItem = ItemHoc(Unit)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(UnitItem))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdSlot } from 'adex-models'\nimport copy from 'copy-to-clipboard'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\nimport Paper from '@material-ui/core/Paper'\nimport IconButton from '@material-ui/core/IconButton'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport AppBar from '@material-ui/core/AppBar'\nimport url from 'url'\nimport { selectRoutineWithdrawTokensAddresses } from 'selectors'\n\nconst ADVIEW_URL = process.env.ADVIEW_URL\nconst adviewUrl = url.parse(ADVIEW_URL)\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\n\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\n\t\t\t\tif (f.contentWindow === ev.source) {\n\t\t\t\t\tf.height = ev.data.adexHeight;\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t}, false)`\n\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\n\nconst IntegrationCode = ({ t, account, slot = {}, classes, onCopy }) => {\n\tconst { id, type, tags, fallbackUnit } = slot\n\tconst identityAddr = account.identity.address\n\n\tlet sizes = type.split('_')[1].split('x')\n\tsizes = {\n\t\twidth: sizes[0],\n\t\theight: sizes[1],\n\t}\n\n\tconst options = {\n\t\tpublisherAddr: identityAddr,\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\n\t\twhitelistedType: type,\n\t\trandomize: true,\n\t\ttargeting: tags || [],\n\t\t// marketURL: ADEX_MARKET_HOST,\n\t\twidth: sizes.width,\n\t\theight: sizes.height,\n\t\tminPerImpression: '0',\n\t\tminTargetingScore: '0',\n\t\tfallbackUnit,\n\t\tmarketSlot: id,\n\t}\n\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\n\n\tlet src = ADVIEW_URL + query\n\n\tlet iframeStr =\n\t\t`<iframe\\n` +\n\t\t`\tsrc=\"${src}\"\\n` +\n\t\t`\twidth=\"${sizes.width}\"\\n` +\n\t\t`\theight=\"${sizes.height}\"\\n` +\n\t\t`\tscrolling=\"no\"\\n` +\n\t\t`\tframeborder=\"0\"\\n` +\n\t\t`\tstyle=\"border: 0;\"\\n` +\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\n\t\t`></iframe>`\n\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.integrationLabel}>\n\t\t\t\t{t('INTEGRATION_CODE')}\n\t\t\t\t<IconButton\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcopy(iframeStr)\n\t\t\t\t\t\tonCopy && onCopy()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CopyIcon />\n\t\t\t\t</IconButton>\n\t\t\t</div>\n\t\t\t<Paper>\n\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\n\t\t\t</Paper>\n\t\t\t{process.env.NODE_ENV !== 'production' && (\n\t\t\t\t<div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport class Slot extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\teditFallbackImg: false,\n\t\t\ttabIndex: 0,\n\t\t}\n\t\tthis.tabsFocus = React.createRef()\n\t}\n\n\thandleFallbackImgUpdateToggle = () => {\n\t\tconst active = this.state.editFallbackImg\n\t\tthis.setState({ editFallbackImg: !active })\n\t}\n\n\thandleTabChange = (event, index) => {\n\t\tthis.setState({ tabIndex: index }, () => {\n\t\t\tif (this.tabsFocus.current) {\n\t\t\t\tthis.tabsFocus.current.scrollIntoView({\n\t\t\t\t\tbehavior: 'smooth',\n\t\t\t\t\tblock: 'start',\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { t, classes, isDemo, item, account, itemType, ...rest } = this.props\n\t\tconst { tabIndex } = this.state\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<BasicProps\n\t\t\t\t\titem={item}\n\t\t\t\t\titemType={itemType}\n\t\t\t\t\tt={t}\n\t\t\t\t\turl={item.adUrl}\n\t\t\t\t\tcanEditImg={!isDemo}\n\t\t\t\t\trightComponent={null}\n\t\t\t\t\t{...rest}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<AppBar position='static' color='default'>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={this.handleTabChange.bind(this)}\n\t\t\t\t\t\t\tref={this.tabsFocus}\n\t\t\t\t\t\t\tscrollable\n\t\t\t\t\t\t\tscrollButtons='off'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label={t('INTEGRATION')} />\n\t\t\t\t\t\t\t{/* There are no stats displayed currently so I will just comment this out */}\n\t\t\t\t\t\t\t{/* <Tab label={t('STATISTICS')} /> */}\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t\t\t<IntegrationCode\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\taccount={account}\n\t\t\t\t\t\t\t\tslot={item}\n\t\t\t\t\t\t\t\tonCopy={() =>\n\t\t\t\t\t\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{/* {tabIndex === 0 && null} */}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSlot.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\t// let memory = state.memory\n\treturn {\n\t\taccount: persist.account,\n\t\tobjModel: AdSlot,\n\t\titemType: 'AdSlot',\n\t\t// NOTE: maybe not the best way but pass props to the HOC here\n\t\tupdateImgInfoLabel: 'SLOT_AVATAR_IMG_INFO',\n\t\tupdateImgLabel: 'SLOT_AVATAR_IMG_LABEL',\n\t\tupdateImgErrMsg: 'ERR_IMG_SIZE_MAX',\n\t\tupdateImgExact: true,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst SlotItem = ItemHoc(withStyles(styles)(Slot))\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SlotItem)\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tintegrationLabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tintegrationCode: {\n\t\t\twhiteSpace: 'pre-wrap',\n\t\t\twordBreak: 'break-word',\n\t\t\tpadding: spacing,\n\t\t\tmargin: 0,\n\t\t\talignSelf: 'flex-start',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport Helper from 'helpers/miscHelpers'\n// import { exchange as ExchangeConstants } from 'adex-constants'\n\n// const { TX_STATUS } = ExchangeConstants\n\nexport default function NewTransactionHoc(Decorated) {\n\t// TODO: make it common for bids and items\n\tclass TransactionHoc extends Component {\n\t\tcomponentWillMount() {\n\t\t\t// console.log('TransactionHoc')\n\t\t}\n\n\t\thandleChange = (name, value) => {\n\t\t\tconst { actions, txId } = this.props\n\t\t\tactions.updateNewTransaction({ tx: txId, key: name, value: value })\n\t\t}\n\n\t\t// addTx = (tx) => {\n\t\t//     let txData = { ...tx }\n\t\t//     txData.status = TX_STATUS.Pending.id\n\t\t//     txData.sendingTime = Date.now()\n\t\t//     this.props.actions.addWeb3Transaction({ trans: txData, addr: this.props.account._addr })\n\t\t// }\n\n\t\tonSave = (err, tx, manyTxs) => {\n\t\t\tconst { closeDialog } = this.props\n\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\n\t\t\tthis.resetTransaction()\n\t\t}\n\n\t\tresetTransaction = () => {\n\t\t\tconst { actions, txId } = this.props\n\t\t\tactions.resetNewTransaction({ tx: txId })\n\t\t}\n\n\t\thandleSaveRes = ({ err, res }) => {\n\t\t\tconst { t, actions } = this.props\n\t\t\t// const areManyTxs = Array.isArray(res)\n\n\t\t\tif (err) {\n\t\t\t\tactions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.onSave(err, res, Array.isArray(res))\n\t\t}\n\n\t\tsave = () => {\n\t\t\tthis.handleChange('waitingForWalletAction', true)\n\t\t\tthis.props\n\t\t\t\t.saveFn({\n\t\t\t\t\tacc: this.props.account,\n\t\t\t\t\ttransaction: this.props.transaction,\n\t\t\t\t})\n\t\t\t\t.then((res = {}) => {\n\t\t\t\t\tconsole.log('res on save', res)\n\n\t\t\t\t\tconst txs = res.txResults || res\n\t\t\t\t\tconst err = res.err || null\n\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: txs })\n\t\t\t\t})\n\t\t\t\t.catch((error = {}) => {\n\t\t\t\t\tconsole.log('err on save', error)\n\t\t\t\t\tconst res = error.txResults || null\n\t\t\t\t\tconst err = error.err || error\n\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: res })\n\t\t\t\t})\n\t\t}\n\n\t\tcancel = () => {\n\t\t\t// TODO: take a look at onSave if change something\n\t\t\tthis.onSave(null, null)\n\t\t}\n\n\t\trender() {\n\t\t\tlet transaction = this.props.transaction || {}\n\t\t\tlet props = this.props\n\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...props}\n\t\t\t\t\ttransaction={transaction}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tresetTransaction={this.resetTransaction}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tTransactionHoc.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tlabel: PropTypes.string,\n\t\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t\t.isRequired,\n\t\ttransaction: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\tsaveFn: PropTypes.func,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\t\tconst txId = props.stepsId\n\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\ttransaction: memory.newTransactions[txId] || {},\n\t\t\ttxId: txId,\n\t\t\tspinner: memory.spinners[txId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(TransactionHoc))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport { validateNumber } from 'helpers/validators'\nimport { InputLoading } from 'components/common/spinners/'\n\nclass WithdrawFromIdentity extends Component {\n\tcomponentDidMount() {\n\t\tconst { validate, transaction } = this.props\n\t\t// If nothing entered will validate\n\t\tif (!transaction.withdrawAmount) {\n\t\t\tvalidate('withdrawAmount', {\n\t\t\t\tisValid: true,\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t\tif (!transaction.withdrawTo) {\n\t\t\tvalidate('withdrawTo', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\tvalidateAmount = (numStr, dirty) => {\n\t\tconst { token, identityAvailable } = this.props\n\t\tlet isValid = validateNumber(numStr)\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\n\t\tlet errMsgArgs = []\n\t\tlet amount = parseFloat(numStr)\n\t\tif (isValid && amount > parseFloat(identityAvailable)) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\n\t\t\terrMsgArgs = [identityAvailable, token]\n\t\t}\n\n\t\tthis.props.validate('withdrawAmount', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: msg, args: errMsgArgs },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactions,\n\t\t\tvalidate,\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\tidentityAvailable,\n\t\t\thandleChange,\n\t\t\twithdrawToSpinner,\n\t\t\ttoken,\n\t\t} = this.props\n\t\tconst { withdrawTo, withdrawAmount } = transaction || {}\n\t\tconst errAmount = invalidFields['withdrawAmount']\n\t\tconst errAddr = invalidFields['withdrawTo']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t{' '}\n\t\t\t\t\t{t('EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY', {\n\t\t\t\t\t\targs: [identityAvailable, token],\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={withdrawToSpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\n\t\t\t\t\tname='withdrawAmount'\n\t\t\t\t\tvalue={withdrawAmount || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawAmount', ev.target.value)}\n\t\t\t\t\tonBlur={() => this.validateAmount(withdrawAmount, true)}\n\t\t\t\t\tonFocus={() => this.validateAmount(withdrawAmount, false)}\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleChange('withdrawAmount', identityAvailable)\n\t\t\t\t\t\t\t\t\tthis.validateAmount(identityAvailable, true)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\t\targs: [identityAvailable, token],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nWithdrawFromIdentity.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst WithdrawFromIdentityForm = NewTransactionHoc(WithdrawFromIdentity)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(WithdrawFromIdentityForm)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport { validateNumber } from 'helpers/validators'\nimport { InputLoading } from 'components/common/spinners/'\n\nclass WithdrawAnyTokenFromIdentity extends Component {\n\tcomponentDidMount() {\n\t\tconst { validate, transaction } = this.props\n\t\t// If nothing entered will validate\n\t\tif (!transaction.withdrawAmount) {\n\t\t\tvalidate('withdrawAmount', {\n\t\t\t\tisValid: true,\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t\tif (!transaction.withdrawTo) {\n\t\t\tvalidate('withdrawTo', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\tvalidateAmount = (numStr, dirty) => {\n\t\tconst { token, identityAvailable } = this.props\n\t\tlet isValid = validateNumber(numStr)\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\n\t\tlet errMsgArgs = []\n\t\tlet amount = parseFloat(numStr)\n\t\tif (isValid && amount > parseFloat(identityAvailable)) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\n\t\t\terrMsgArgs = [identityAvailable, token]\n\t\t}\n\n\t\tthis.props.validate('withdrawAmount', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: msg, args: errMsgArgs },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactions,\n\t\t\tvalidate,\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t\twithdrawToSpinner,\n\t\t\tbalanceAnySpinner,\n\t\t} = this.props\n\t\tconst { withdrawTo, withdrawAmount, tokenAddress, tokenBalance } =\n\t\t\ttransaction || {}\n\t\tconst errAmount = invalidFields['withdrawAmount']\n\t\tconst errAddr = invalidFields['withdrawTo']\n\t\tconst errToken = invalidFields['tokenAddress']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t{' '}\n\t\t\t\t\t{t('TOKENS_BALANCE_AVAILABLE_ON_IDENTITY')} {tokenBalance}{' '}\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={balanceAnySpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\n\t\t\t\t\tname='tokenAddress'\n\t\t\t\t\tvalue={tokenAddress || ''}\n\t\t\t\t\tonChange={ev => handleChange('tokenAddress', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: tokenAddress,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'tokenAddress',\n\t\t\t\t\t\t\tsetBalance: bal => handleChange('tokenBalance', bal),\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: tokenAddress,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'tokenAddress',\n\t\t\t\t\t\t\tsetBalance: bal => handleChange('tokenBalance', bal),\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errToken && !!errToken.dirty}\n\t\t\t\t\thelperText={errToken && !!errToken.dirty ? errToken.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{balanceAnySpinner ? <InputLoading /> : null}\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={withdrawToSpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\n\t\t\t\t\tname='withdrawAmount'\n\t\t\t\t\tvalue={withdrawAmount || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawAmount', ev.target.value)}\n\t\t\t\t\tonBlur={() => this.validateAmount(withdrawAmount, true)}\n\t\t\t\t\tonFocus={() => this.validateAmount(withdrawAmount, false)}\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\terrAmount && !!errAmount.dirty\n\t\t\t\t\t\t\t? errAmount.errMsg\n\t\t\t\t\t\t\t: t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\t\targs: [tokenBalance],\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nWithdrawAnyTokenFromIdentity.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\n\t\tbalanceAnySpinner: memory.spinners['tokenAddress'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst WithdrawAnyTokenFromIdentityForm = NewTransactionHoc(\n\tWithdrawAnyTokenFromIdentity\n)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(WithdrawAnyTokenFromIdentityForm)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport Box from '@material-ui/core/Box'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport Typography from '@material-ui/core/Typography'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport { constants } from 'adex-models'\nimport { t, selectValidationsById, selectNewTransactionById } from 'selectors'\nimport { execute, updateNewTransaction } from 'actions'\n\nconst { IdentityPrivilegeLevel } = constants\n\nconst PRIV_LEVELS_SRC = Object.values(IdentityPrivilegeLevel).map(value => {\n\treturn {\n\t\tvalue,\n\t\tlabel: t(`PRIV_${value}_LABEL`),\n\t\tinfo: t(`PRIV_${value}_INFO`),\n\t}\n})\n\nfunction SeAddressPrivilege(props) {\n\tconst { stepsId, validateId } = props\n\tconst { setAddr, privLevel, warningAccepted, warningMsg } = useSelector(\n\t\tstate => selectNewTransactionById(state, stepsId)\n\t)\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst errAddr = validations['setAddr']\n\tconst warning = validations['setAddrWarning']\n\tconst errPrivLvl = validations['privLevel']\n\n\treturn (\n\t\t<div>\n\t\t\t<div> {t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')}</div>\n\t\t\t<TextField\n\t\t\t\ttype='text'\n\t\t\t\trequired\n\t\t\t\tfullWidth\n\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\n\t\t\t\tname='setAddr'\n\t\t\t\tvalue={setAddr || ''}\n\t\t\t\tonChange={ev =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'setAddr',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t/>\n\t\t\t<Dropdown\n\t\t\t\trequired\n\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\n\t\t\t\t// helperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\n\t\t\t\tonChange={val =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'privLevel',\n\t\t\t\t\t\t\tvalue: val,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tsource={PRIV_LEVELS_SRC}\n\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\n\t\t\t\thtmlId='label-privLevel'\n\t\t\t\tfullWidth\n\t\t\t\terror={errPrivLvl && !!errPrivLvl.dirty}\n\t\t\t\thelperText={\n\t\t\t\t\terrPrivLvl && !!errPrivLvl.dirty\n\t\t\t\t\t\t? errPrivLvl.errMsg\n\t\t\t\t\t\t: t('SELECT_PRIV_LEVEL_HELPER_TXT')\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Box marginTop={2}>\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\n\t\t\t\t\t{t('PRIV_LEVEL_INFO_LABEL')}:\n\t\t\t\t</Typography>\n\t\t\t\t{PRIV_LEVELS_SRC.map(x => (\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tkey={x.value}\n\t\t\t\t\t\tvariant='caption'\n\t\t\t\t\t\tdisplay='block'\n\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t>\n\t\t\t\t\t\t<strong>{x.label}:</strong> {x.info}\n\t\t\t\t\t</Typography>\n\t\t\t\t))}\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\n\t\t\t\t\t* {t('PRIV_LEVEL_INFO')}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{(warning || warningAccepted || warningMsg) && (\n\t\t\t\t<FormControl error={warning && warning.dirty} component='fieldset'>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tchecked={!!warningAccepted}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\t\tkey: 'warningAccepted',\n\t\t\t\t\t\t\t\t\t\t\tvalue: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue='warningAccepted'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel={t((warning || {}).errMsg || warningMsg)}\n\t\t\t\t\t/>\n\t\t\t\t</FormControl>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nSeAddressPrivilege.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n}\n\nexport default SeAddressPrivilege\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport { InputLoading } from 'components/common/spinners/'\nimport InputAdornment from '@material-ui/core/InputAdornment'\n\nclass SetAccountENSPage extends Component {\n\tcomponentDidMount() {\n\t\tconst { transaction, validate } = this.props\n\t\tif (!transaction.withdrawAmount) {\n\t\t\tvalidate('setEns', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\thandleValidate = () => {\n\t\tif (this._timeout) {\n\t\t\t//if there is already a timeout in process cancel it\n\t\t\tclearTimeout(this._timeout)\n\t\t}\n\t\tthis._timeout = setTimeout(() => {\n\t\t\tthis._timeout = null\n\t\t\tconst { actions, transaction, validate } = this.props\n\t\t\tconst { setEns } = transaction || {}\n\t\t\tactions.validateENS({\n\t\t\t\tens: setEns,\n\t\t\t\tdirty: true,\n\t\t\t\tvalidate,\n\t\t\t\tname: 'setEns',\n\t\t\t})\n\t\t}, 500)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t\tsetEnsSpinner,\n\t\t} = this.props\n\t\tconst { setEns } = transaction || {}\n\t\t// const errAmount = invalidFields['withdrawAmount']\n\t\tconst errAddr = invalidFields['setEns']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div> {t('SET_ENS_MAIN_INFO')}</div>\n\t\t\t\t<form noValidate>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tlabel={t('ENS_TO_SET_TO_ADDR')}\n\t\t\t\t\t\tname='setEns'\n\t\t\t\t\t\tvalue={setEns || ''}\n\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\thandleChange('setEns', ev.target.value.toLowerCase())\n\t\t\t\t\t\t\tthis.handleValidate()\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t{`.${process.env.REVERSE_REGISTRAR_PARENT}`}\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t\t/>\n\t\t\t\t\t{setEnsSpinner ? <InputLoading /> : null}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSetAccountENSPage.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\tsetEnsSpinner: memory.spinners['setEns'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst SetAccountENSPageForm = NewTransactionHoc(SetAccountENSPage)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SetAccountENSPageForm)\n","import React from 'react'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { PropRow } from 'components/common/dialog/content'\nimport { constants } from 'adex-models'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nexport const IdentityWithdrawPreview = ({\n\tt,\n\twithdrawTo,\n\tclasses,\n\tfeesData,\n\twithdrawAmount,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='withdrawAmount'\n\t\t\tleft={t('withdrawAmount', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${withdrawAmount} ${symbol}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const SetPrivilegePreview = ({\n\tt,\n\tsetAddr,\n\tclasses,\n\tfeesData,\n\tprivLevel,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='setAddr'\n\t\t\tleft={t('setAddr', { isProp: true })}\n\t\t\tright={(setAddr || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='privLevel'\n\t\t\tleft={t('privLevel', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [feesData.fees, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`PRIV_${privLevel}_LABEL`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const SetENSPreview = ({\n\tt,\n\tsetEns,\n\taddress,\n\tclasses,\n\tfeesData,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='addr'\n\t\t\tleft={t('ENS_ADDR_TO_BE_SET')}\n\t\t\tright={(address || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='setEns'\n\t\t\tleft={t('setEns', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('ENS_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\tfeesData.fees,\n\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t`${setEns}.${process.env.REVERSE_REGISTRAR_PARENT}`,\n\t\t\t\t\t\t],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${setEns}.${process.env.REVERSE_REGISTRAR_PARENT}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const IdentityWithdrawAnyPreview = ({\n\tt,\n\twithdrawTo,\n\ttokenAddress,\n\tclasses,\n\tfeesData,\n\twithdrawAmount,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='tokenAddress'\n\t\t\tleft={t('tokenAddress', { isProp: true })}\n\t\t\tright={(tokenAddress || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='withdrawAmount'\n\t\t\tleft={t('withdrawAmount', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={withdrawAmount + ' '}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport PropTypes from 'prop-types'\nimport NewTransactionHoc from './TransactionHoc'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { styles } from './styles'\nimport {\n\tIdentityWithdrawPreview,\n\tSetPrivilegePreview,\n\tSetENSPreview,\n\tIdentityWithdrawAnyPreview,\n} from './previews'\n\nimport {\n\tselectMainToken,\n\tt,\n\tselectSpinnerById,\n\tselectAccount,\n\tselectNewTransactionById,\n} from 'selectors'\nimport { execute, updateSpinner } from 'actions'\n\nconst useStyles = makeStyles(styles)\n\nfunction TransactionPreview(props) {\n\tconst classes = useStyles()\n\tconst {\n\t\tgetFeesFn,\n\t\thandleChange,\n\t\tidentityAvailable,\n\t\tpreviewWarnMsgs,\n\t\tstepsId,\n\t} = props\n\tconst txId = stepsId\n\tconst account = useSelector(selectAccount)\n\tconst { address } = account.identity\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst transaction = useSelector(state =>\n\t\tselectNewTransactionById(state, txId)\n\t)\n\tconst spinner = useSelector(state => selectSpinnerById(state, txId))\n\n\tuseEffect(() => {\n\t\tif (getFeesFn && Object.keys(transaction).length) {\n\t\t\texecute(updateSpinner(txId, true))\n\t\t\tgetFeesFn({ account, transaction })\n\t\t\t\t.then(feesData => {\n\t\t\t\t\thandleChange('feesData', feesData)\n\t\t\t\t\t// if (feesData.toGet) {\n\t\t\t\t\t// \thandleChange('withdrawAmount', feesData.toGet)\n\t\t\t\t\t// }\n\t\t\t\t\texecute(updateSpinner(txId, false))\n\n\t\t\t\t\tif (parseFloat(feesData.fees || 0) > parseFloat(identityAvailable)) {\n\t\t\t\t\t\thandleChange('errors', [\n\t\t\t\t\t\t\tt('INSUFFICIENT_BALANCE_FOR_FEES', {\n\t\t\t\t\t\t\t\targs: [identityAvailable, symbol, feesData.fees, symbol],\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t])\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error(err)\n\t\t\t\t\texecute(updateSpinner(txId, false))\n\t\t\t\t\thandleChange('errors', [Helper.getErrMsg(err)])\n\t\t\t\t})\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst {\n\t\twithdrawTo,\n\t\twithdrawAmount,\n\t\tsetAddr,\n\t\tsetEns,\n\t\tprivLevel,\n\t\ttokenAddress,\n\t\tfeesData = {},\n\t\terrors = [],\n\t} = transaction\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<ContentBox>\n\t\t\t\t\t{transaction.waitingForWalletAction ? (\n\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\n\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{errors.length\n\t\t\t\t\t\t\t? errors.map((err, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\t\tright={err}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{previewWarnMsgs\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\twithdrawAmount={withdrawAmount}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\n\t\t\t\t\t\t\t<SetPrivilegePreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\twithdrawAmount={withdrawAmount}\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setENS' && (\n\t\t\t\t\t\t\t<SetENSPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\taddress={address}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t\tsetEns={setEns}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</ContentBox>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nTransactionPreview.propTypes = {\n\tlabel: PropTypes.string,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tpreviewMsgs: PropTypes.array,\n}\n\nconst TransactionPreviewForm = NewTransactionHoc(TransactionPreview)\nexport default TransactionPreviewForm\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\twarning: {\n\t\t\tcolor: theme.palette.warning.A700,\n\t\t},\n\t\tcentralSpinner: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 20px)',\n\t\t\ttop: ' calc(50% - 20px)',\n\t\t},\n\t\timgPreview: {\n\t\t\theight: 120,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t}\n}\n","import React from 'react'\nimport WithdrawFromExchangePage from './WithdrawFromIdentity'\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\nimport SeAddressPrivilege from './SeAddressPrivilege'\nimport SetAccountENSPage from './SetAccountENSPage'\nimport TransactionPreview from './TransactionPreview'\nimport Button from '@material-ui/core/Button'\nimport TransactionHoc from './TransactionHoc'\nimport FormSteps from 'components/dashboard/forms/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport { t } from 'selectors'\n// import SaveIcon from '@material-ui/icons/Save'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\nimport {\n\twithdrawFromIdentity,\n\tsetIdentityPrivilege,\n\taddIdentityENS,\n} from 'services/smart-contracts/actions/identity'\nimport {\n\taddrIdentityPrivilege,\n\tidentityWithdraw,\n\tsetIdentityENS,\n\tvalidatePrivilegesChange,\n\texecute,\n} from 'actions'\n\nconst FormStepsWithDialog = WithDialog(FormSteps)\n\nconst SaveBtn = ({\n\tsave,\n\tsaveBtnLabel,\n\tsaveBtnIcon,\n\tt,\n\ttransaction,\n\twaitingForWalletAction,\n\tspinner,\n\t...other\n}) => {\n\treturn (\n\t\t<Button\n\t\t\tcolor='primary'\n\t\t\tonClick={save}\n\t\t\tdisabled={\n\t\t\t\t(!!transaction.errors && !!transaction.errors.length) ||\n\t\t\t\t!!transaction.waitingForWalletAction ||\n\t\t\t\t!!spinner\n\t\t\t}\n\t\t>\n\t\t\t{transaction.waitingForWalletAction ? (\n\t\t\t\t<HourglassEmptyIcon />\n\t\t\t) : (\n\t\t\t\tsaveBtnIcon || ''\n\t\t\t)}\n\t\t\t{t(saveBtnLabel || 'DO_IT')}\n\t\t</Button>\n\t)\n}\n\nconst CancelBtn = ({ cancel, cancelBtnLabel, t, ...other }) => {\n\treturn <Button onClick={cancel}>{t(cancelBtnLabel || 'CANCEL')}</Button>\n}\n\nconst SaveBtnWithTransaction = TransactionHoc(SaveBtn)\nconst CancelBtnWithTransaction = TransactionHoc(CancelBtn)\n\nconst txCommon = {\n\tSaveBtn: SaveBtnWithTransaction,\n\tCancelBtn: CancelBtnWithTransaction,\n\tvalidateIdBase: 'tx-',\n\tdarkerBackground: true,\n}\n\nexport const WithdrawTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawFromIdentity'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tpage: WithdrawFromExchangePage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction, account } = {}) => {\n\t\t\treturn execute(\n\t\t\t\tidentityWithdraw({\n\t\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\t\taccount,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ transaction, account } = {}) => {\n\t\t\treturn withdrawFromIdentity({\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const SetIdentityPrivilege = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'\n\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\n\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\n\t\tstepsId='setIdentityPrivilege'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\n\t\t\t\tpage: SeAddressPrivilege,\n\t\t\t\tpageValidation: ({ stepsId, validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidatePrivilegesChange({\n\t\t\t\t\t\t\tstepsId,\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(\n\t\t\t\taddrIdentityPrivilege({\n\t\t\t\t\tprivLevel: transaction.privLevel,\n\t\t\t\t\tsetAddr: transaction.setAddr,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ transaction, account } = {}) => {\n\t\t\treturn setIdentityPrivilege({\n\t\t\t\tprivLevel: transaction.privLevel,\n\t\t\t\tsetAddr: transaction.setAddr,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const WithdrawAnyTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawAnyFromIdentity'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tpage: WithdrawAnyTokenFromIdentityPage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(\n\t\t\t\tidentityWithdraw({\n\t\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\t\ttokenAddress: transaction.tokenAddress,\n\t\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\t\ttokenDecimals: transaction.tokenDecimals,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ transaction, account } = {}) => {\n\t\t\treturn withdrawFromIdentity({\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\ttokenAddress: transaction.tokenAddress,\n\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\ttokenDecimals: transaction.tokenDecimals,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const SetAccountENS = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_SET_ENS_BTN'\n\t\tsaveBtnLabel='ACCOUNT_SET_ENS_SAVE_BTN'\n\t\ttitle='ACCOUNT_SET_ENS_TITLE'\n\t\tstepsId='setENS'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_SET_ENS_STEP',\n\t\t\t\tpage: SetAccountENSPage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\tprops.setIdentityEnsName(t('WAITING_FOR_TRANSACTION'))\n\t\t\treturn execute(\n\t\t\t\tsetIdentityENS({\n\t\t\t\t\tusername: transaction.setEns,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ account } = {}) => {\n\t\t\treturn addIdentityENS({\n\t\t\t\taccount,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t})\n\t\t}}\n\t/>\n)\n","import { ethers } from 'ethers'\r\nimport { t } from 'selectors'\r\n\r\nexport const fetchName = async lookup => {\r\n\tconst provider = ethers.getDefaultProvider()\r\n\ttry {\r\n\t\tconst name = await provider.lookupAddress(lookup)\r\n\t\treturn name //if not set returns null\r\n\t} catch (err) {\r\n\t\tconsole.error(err)\r\n\t\treturn t('ENS_NOT_SET')\r\n\t}\r\n}\r\n","import React, { useState, useEffect, memo } from 'react'\nimport PropTypes from 'prop-types'\nimport Box from '@material-ui/core/Box'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { isEthAddress } from 'helpers/validators'\nimport { t } from 'selectors'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport IconButton from '@material-ui/core/IconButton'\nimport copy from 'copy-to-clipboard'\nimport { addToast, execute } from 'actions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles.js'\nimport { fetchName } from 'helpers/ensHelper'\nimport { LoadingSection } from 'components/common/spinners'\nconst useStyles = makeStyles(styles)\n\nconst EnsAddressResolver = memo(props => {\n\tconst { address, name } = props\n\tconst [ensName, setEnsName] = useState(name)\n\tconst [searching, setSearching] = useState()\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\tsetSearching(true)\n\t\tasync function resolveENS() {\n\t\t\tif (ensName) {\n\t\t\t\tsetSearching(false)\n\t\t\t} else {\n\t\t\t\tif (!address) return false\n\t\t\t\tif (!ensName && isEthAddress(address)) {\n\t\t\t\t\tsetEnsName(await fetchName(address))\n\t\t\t\t\tsetSearching(false)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tresolveENS()\n\t}, [address, ensName])\n\n\treturn (\n\t\t<LoadingSection loading={!address}>\n\t\t\t{address && (\n\t\t\t\t<Box display='flex' flexWrap={'nowrap'} alignItems='center'>\n\t\t\t\t\t{address}\n\t\t\t\t\t{/* <Box>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\tprimary={ensName ? ensName : address}\n\t\t\t\t\t\t\tsecondary={\n\t\t\t\t\t\t\t\tsearching\n\t\t\t\t\t\t\t\t\t? t('SEARCHING_ENS')\n\t\t\t\t\t\t\t\t\t: ensName\n\t\t\t\t\t\t\t\t\t? address\n\t\t\t\t\t\t\t\t\t: t('ENS_NOT_SET')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box> */}\n\t\t\t\t\t<Box pl={2}>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tcopy(address)\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CopyIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</LoadingSection>\n\t)\n})\n\nEnsAddressResolver.propTypes = {\n\taddress: PropTypes.string.isRequired,\n}\n\nexport default EnsAddressResolver\n","export const styles = theme => {\r\n\treturn {\r\n\t\taddress: {\r\n\t\t\twordWrap: 'break-word',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { updateNav, execute } from 'actions'\nimport {\n\tWithdrawTokenFromIdentity,\n\t// WithdrawAnyTokenFromIdentity,\n\tSetIdentityPrivilege,\n\tSetAccountENS,\n} from 'components/dashboard/forms/web3/transactions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport DownloadIcon from '@material-ui/icons/SaveAlt'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport Typography from '@material-ui/core/Typography'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { styles } from './styles.js'\nimport { getRecoveryWalletData } from 'services/wallet/wallet'\nimport { LoadingSection } from 'components/common/spinners'\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\nimport { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\nimport EnsAddressResolver from 'components/common/ens/EnsAddressResolver'\nimport {\n\tt,\n\tselectWallet,\n\tselectAccountStatsFormatted,\n\tselectAccountIdentity,\n\tselectMainToken,\n} from 'selectors'\nimport { formatAddress } from 'helpers/formatters'\nimport { fetchName } from 'helpers/ensHelper'\n// const RRButton = withReactRouterLink(Button)\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\n\nconst AccountItem = props => (\n\t<ListItem>\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexWrap={'wrap'}\n\t\t\tflex='1'\n\t\t\tjustifyContent='space-between'\n\t\t\talignItems='center'\n\t\t>\n\t\t\t<Box\n\t\t\t\tflexGrow='8'\n\t\t\t\tflexBasis='700px'\n\t\t\t\tmr={1}\n\t\t\t\tflexWrap={'nowrap'}\n\t\t\t\tdisplay='flex'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='space-between'\n\t\t\t>\n\t\t\t\t<Box flex='1'>{props.left}</Box>\n\t\t\t</Box>\n\t\t\t<Box flexGrow='1' flexBasis='20em'>\n\t\t\t\t{props.right}\n\t\t\t</Box>\n\t\t</Box>\n\t</ListItem>\n)\n\nconst useStyles = makeStyles(styles)\n\nfunction AccountInfo() {\n\tconst { authType = '', email, password } = useSelector(selectWallet)\n\tconst identity = useSelector(selectAccountIdentity)\n\tconst { privileges } = identity\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst {\n\t\twalletAddress,\n\t\twalletPrivileges = '',\n\t\tidentityAddress,\n\t\tidentityBalanceMainToken,\n\t\tavailableIdentityBalanceMainToken,\n\t\toutstandingBalanceMainToken,\n\t} = useSelector(selectAccountStatsFormatted)\n\n\tconst [localWalletDownloadHref, setLocalWalletDownloadHref] = useState('')\n\n\tconst loadBackupHref = async () => {\n\t\tconst obj = await getRecoveryWalletData({ email, password, authType })\n\t\tif (obj && obj.wallet) {\n\t\t\tconst data =\n\t\t\t\t'data:text/json;charset=utf-8,' +\n\t\t\t\tencodeURIComponent(JSON.stringify(obj))\n\n\t\t\tsetLocalWalletDownloadHref(data)\n\t\t}\n\t}\n\n\tconst [expanded, setExpanded] = useState(false)\n\tconst [ensSearching, setEnsSearching] = useState(true)\n\tconst [identityEnsName, setIdentityEnsName] = useState()\n\tconst classes = useStyles()\n\tconst canSetENS = privileges >= 2 && !ensSearching && !identityEnsName\n\n\tuseEffect(() => {\n\t\texecute(updateNav('navTitle', t('ACCOUNT')))\n\t\tasync function resolveENS() {\n\t\t\tsetIdentityEnsName(await fetchName(identityAddress))\n\t\t\tsetEnsSearching(false)\n\t\t}\n\t\tresolveENS()\n\t}, [identityAddress])\n\n\tuseEffect(() => {\n\t\tloadBackupHref()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst displayRampWidget = () => {\n\t\tconst widget = new RampInstantSDK({\n\t\t\thostAppName: 'AdExNetwork',\n\t\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\n\t\t\tvariant: 'auto',\n\t\t\tswapAsset: symbol,\n\t\t\tuserAddress: identity.address,\n\t\t})\n\t\twidget.domNodes.overlay.style.zIndex = 1000\n\t\twidget.show()\n\t}\n\n\tconst handleExpandChange = () => {\n\t\tsetExpanded(!expanded)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<List>\n\t\t\t\t<AccountItem\n\t\t\t\t\tleft={\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\tsecondary={\n\t\t\t\t\t\t\t\t\tauthType === 'demo'\n\t\t\t\t\t\t\t\t\t\t? t('DEMO_ACCOUNT_IDENTITY_ADDRESS')\n\t\t\t\t\t\t\t\t\t\t: t('IDENTITY_ETH_ADDR')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<EnsAddressResolver\n\t\t\t\t\t\t\t\taddress={identityAddress}\n\t\t\t\t\t\t\t\tname={identityEnsName}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t\t// right={\n\t\t\t\t\t// \tcanSetENS && (\n\t\t\t\t\t// \t\t<SetAccountENS\n\t\t\t\t\t// \t\t\tfullWidth\n\t\t\t\t\t// \t\t\tvariant='contained'\n\t\t\t\t\t// \t\t\tcolor='primary'\n\t\t\t\t\t// \t\t\ttoken='DAI'\n\t\t\t\t\t// \t\t\tsize='small'\n\t\t\t\t\t// \t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t// \t\t\tsetIdentityEnsName={setIdentityEnsName}\n\t\t\t\t\t// \t\t/>\n\t\t\t\t\t// \t)\n\t\t\t\t\t// }\n\t\t\t\t/>\n\t\t\t\t<ListDivider />\n\t\t\t\t<AccountItem\n\t\t\t\t\tleft={\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\tprimary={formatAddress(walletAddress)}\n\t\t\t\t\t\t\tsecondary={t('WALLET_INFO_LABEL', {\n\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t`AUTH_${authType.toUpperCase()}`,\n\t\t\t\t\t\t\t\t\t`PRIV_${privileges}_LABEL`,\n\t\t\t\t\t\t\t\t\tauthType,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\tright={\n\t\t\t\t\t\tlocalWalletDownloadHref && (\n\t\t\t\t\t\t\t<Box py={1} flexGrow='1'>\n\t\t\t\t\t\t\t\t<label htmlFor='download-wallet-json'>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tid='download-wallet-json'\n\t\t\t\t\t\t\t\t\t\thref={localWalletDownloadHref}\n\t\t\t\t\t\t\t\t\t\tdownload={`adex-account-data-${email}.json`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Button size='small' variant='contained' fullWidth>\n\t\t\t\t\t\t\t\t\t\t\t<DownloadIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t\t\t{t('BACKUP_LOCAL_WALLET')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ListDivider />\n\t\t\t\t<AccountItem\n\t\t\t\t\tleft={\n\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken || 0} ${symbol}`}\n\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO', {\n\t\t\t\t\t\t\t\t\targs: [outstandingBalanceMainToken || 0, symbol],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t}\n\t\t\t\t\tright={\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\taria-label='delete'\n\t\t\t\t\t\t\t\t\tonClick={() => displayRampWidget()}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t{t('TOP_UP_IDENTITY_GBP')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\ttoken={symbol}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ListDivider />\n\t\t\t\t<ExpansionPanel expanded={expanded} onChange={handleExpandChange}>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\taria-controls='panel1bh-content'\n\t\t\t\t\t\tid='panel1bh-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography className={classes.heading}>\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t<ExpansionPanelDetails>\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\n\t\t\t\t\t\t\t<AccountItem\n\t\t\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\t\tsecondary={''}\n\t\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t></AccountItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_ID],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_ID],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t{/* <ListItem>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</ListItem> */}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</ExpansionPanelDetails>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</List>\n\t\t</div>\n\t)\n}\n\nexport default AccountInfo\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tactionBtn: {\n\t\t\tmargin: spacing,\n\t\t},\n\t\taddress: {\n\t\t\twordWrap: 'break-word',\n\t\t\twordBreak: 'break-all',\n\t\t},\n\t\tadvancedList: {\n\t\t\twidth: '100%',\n\t\t},\n\t\ticonBtnLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t}\n}\n","import React, { useState, useEffect } from 'react'\nimport SideNav from './SideNav'\nimport TopBar from './TopBar'\nimport { Route, Switch } from 'react-router'\nimport Campaign from 'components/dashboard/containers/Campaign'\nimport DashboardStats from 'components/dashboard/containers/DashboardStats'\nimport Unit from 'components/dashboard/containers/Unit'\nimport Slot from 'components/dashboard/containers/Slot'\nimport Account from 'components/dashboard/account/AccountInfo'\nimport {\n\tNewUnitDialog,\n\tNewCampaignDialog,\n\tNewSlotDialog,\n} from 'components/dashboard/forms/items/NewItems'\nimport {\n\tCampaignsTable,\n\tAdSlotsTable,\n\tAdUnitsTable,\n} from 'components/dashboard/containers/Tables'\nimport {\n\tcampaignsLoop,\n\tcampaignsLoopStats,\n} from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport {\n\tanalyticsLoop,\n\tanalyticsCampaignsLoop,\n} from 'services/store-data/analytics'\nimport Drawer from '@material-ui/core/Drawer'\nimport Hidden from '@material-ui/core/Hidden'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { updateNav, getAllItems, execute } from 'actions'\nimport { t } from 'selectors'\n\nconst Campaigns = () => (\n\t<>\n\t\t<NewCampaignDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\taccent\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_CAMPAIGN'\n\t\t/>\n\t\t<CampaignsTable />\n\t</>\n)\n\nconst AdUnits = () => (\n\t<>\n\t\t<NewUnitDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_UNIT'\n\t\t/>\n\t\t<AdUnitsTable />\n\t</>\n)\n\nconst AdSlots = () => (\n\t<>\n\t\t<NewSlotDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\taccent\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_SLOT'\n\t\t/>\n\t\t<AdSlotsTable />\n\t</>\n)\n\nconst useStyles = makeStyles(styles)\n\nfunction Dashboard(props) {\n\tconst [mobileOpen, setMobileOpen] = useState(false)\n\n\tconst { match } = props\n\tconst { side } = match.params\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\texecute(updateNav('side', side))\n\t\texecute(getAllItems())\n\t\tanalyticsLoop.start()\n\t\tanalyticsCampaignsLoop.start()\n\t\tcampaignsLoop.start()\n\t\tcampaignsLoopStats.start()\n\t\tstatsLoop.start()\n\n\t\treturn () => {\n\t\t\tanalyticsLoop.stop()\n\t\t\tanalyticsCampaignsLoop.stop()\n\t\t\tcampaignsLoop.stop()\n\t\t\tcampaignsLoopStats.stop()\n\t\t\tstatsLoop.stop()\n\t\t}\n\t}, [side])\n\n\tuseEffect(() => {}, [match, mobileOpen])\n\tuseEffect(() => {\n\t\texecute(updateNav('side', side))\n\t}, [side])\n\n\tconst handleDrawerToggle = () => {\n\t\tsetMobileOpen(!mobileOpen)\n\t}\n\n\tconst drawer = <SideNav side={side} />\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<TopBar\n\t\t\t\tside={side}\n\t\t\t\topen={mobileOpen}\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\n\t\t\t/>\n\t\t\t<Hidden mdUp>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='temporary'\n\t\t\t\t\tanchor='left'\n\t\t\t\t\topen={mobileOpen}\n\t\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t\tModalProps={{\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\t\t\t<Hidden smDown implementation='css'>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='permanent'\n\t\t\t\t\topen\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\n\t\t\t<main className={classes.content}>\n\t\t\t\t<div className={classes.contentInner}>\n\t\t\t\t\t<div className={classes.toolbar} />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\n\t\t\t\t\t\t\tcomponent={Campaigns}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\n\t\t\t\t\t\t\tcomponent={AdUnits}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/Campaign/:itemId'\n\t\t\t\t\t\t\tcomponent={Campaign}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/AdUnit/:itemId'\n\t\t\t\t\t\t\tcomponent={Unit}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\n\t\t\t\t\t\t\tcomponent={AdSlots}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/publisher/AdSlot/:itemId'\n\t\t\t\t\t\t\tcomponent={Slot}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\n\t\t\t\t\t\t\tcomponent={Account}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* <Route\n\t\t\t\t\t\t\t\tauth={this.props.auth}\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\n\t\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t<Route exact path='/dashboard/:side' component={DashboardStats} />\n\t\t\t\t\t\t<Route component={PageNotFound} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\troot: {\n\t\t\t// flexGrow: 1,\n\t\t\theight: '100vh',\n\t\t},\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\theight: '100vh',\n\t\t\tflexGrow: '1',\n\t\t},\n\t\tactions: {\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t},\n\t\tbuttons: {\n\t\t\tbackgroundColor: theme.palette.grey[200],\n\t\t},\n\t\tadxVersion: {\n\t\t\t// position: 'absolute',\n\t\t\t// left: spacing,\n\t\t\t// bottom: spacing\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\t// marginTop: '1.5vh',\n\t\t\t// width: '17.92vh',\n\t\t\t// height: '6vh',\n\t\t\theight: '2rem',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tnoBg: {\n\t\t\tbackground: 0,\n\t\t\tboxShadow: 'none',\n\t\t\toverflow: 'visible',\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\t// position: 'relative',\n\t\t\tjustifyContent: 'center',\n\t\t\tpadding: 24,\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t// '&:first-child': {\n\t\t\t// \tpaddingTop: spacing,\n\t\t\t// },\n\t\t\t// overflow: 'visible',\n\t\t\t// maxHeight: '100vh'\n\t\t},\n\t}\n}\n","import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport Img from 'components/common/img/Img'\nimport classnames from 'classnames'\nimport { getAllWallets } from 'services/wallet/wallet'\nimport { execute, initIdentity, confirmAction } from 'actions'\nimport { selectAuth, selectAccount, selectRegistrationAllowed } from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { formatAddress } from 'helpers/formatters'\nimport { push } from 'connected-react-router'\nimport { t } from 'selectors'\n\nconst RRButton = withReactRouterLink(Button)\nconst useStyles = makeStyles(styles)\n\nconst AuthSelect = () => {\n\tconst classes = useStyles()\n\tconst [wallets, setWallets] = useState([])\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\tconst auth = useSelector(selectAuth)\n\tconst account = useSelector(selectAccount)\n\tconst { wallet, identity } = account || {}\n\n\tuseEffect(() => {\n\t\tconst allWallets = getAllWallets()\n\t\tconst wallets = allWallets.filter(\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\n\t\t)\n\t\tsetWallets(wallets)\n\t}, [wallet])\n\n\tconst goTo = (to, confirmLogout, onConfirm) => {\n\t\tconst toExecute = () => {\n\t\t\tlogOut()\n\t\t\texecute(push(to))\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\n\t\t\t\tonConfirm()\n\t\t\t}\n\t\t}\n\t\tif (auth && confirmLogout) {\n\t\t\texecute(\n\t\t\t\tconfirmAction(toExecute, null, {\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TEXT', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\n\t\t\t\t\t\t\tidentity.address,\n\t\t\t\t\t\t],\n\t\t\t\t\t}),\n\t\t\t\t})\n\t\t\t)\n\t\t} else {\n\t\t\ttoExecute()\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='stretch'\n\t\t\tjustifyContent='space-between'\n\t\t>\n\t\t\t<Box p={2} alignItems='center'>\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{auth && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<RRButton\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tto='/side-select'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CONTINUE_AS', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\twallet.email || formatAddress(identity.address),\n\t\t\t\t\t\t\t\twallet.authType,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</RRButton>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t{wallets.map(w => (\n\t\t\t\t<Box key={w.name} m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t))}\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\n\t\t\t\t>\n\t\t\t\t\t<Img\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\n\t\t\t\t\t\tclassName={classes.btnLogo}\n\t\t\t\t\t/>\n\t\t\t\t\t{t('METAMASK')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.trezorBtn}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\n\t\t\t\t>\n\t\t\t\t\t<Img\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tclasses.btnLogo,\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* {t('TREZOR')} */}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\n\t\t\t\t>\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t{showRegistration && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</Box>\n\t)\n}\n\nexport default AuthSelect\n","export const styles = theme => {\n\treturn {\n\t\tactions: {\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tlimitedWidthBtn: {\n\t\t\twordBreak: 'break-word',\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tbtnLogo: {\n\t\t\theight: '2rem',\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tbtnLogoNoTxt: {\n\t\t\tmarginRight: 0,\n\t\t},\n\t\tmetamaskBtn: {\n\t\t\tbackgroundColor: theme.palette.grey[800],\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\ttrezorBtn: {\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Hidden from '@material-ui/core/Hidden'\nimport Anchor from 'components/common/anchor/anchor'\nimport packageJson from './../../../package.json'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\nimport { t } from 'selectors'\nimport { Typography } from '@material-ui/core'\n\nexport default function ConnectHoc(Decorated) {\n\tfunction Connect({ classes, ...rest }) {\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Grid\n\t\t\t\t\tclassName={classes.container}\n\t\t\t\t\tcontainer\n\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t// spacing={2}\n\t\t\t\t>\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\n\t\t\t\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={2}>\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tp={2}\n\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('HELP')}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn withStyles(styles)(Connect)\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\taddrListItem: {\n\t\t\t'&:hover': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\taddrInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\tflexGrow: 1,\n\t\t\tpaddingTop: spacing,\n\t\t\twhiteSpace: 'normal',\n\t\t\t'& strong': {\n\t\t\t\tmarginRight: spacing * 2,\n\t\t\t},\n\t\t},\n\t\taddrInfoLabel: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tfontWeight: 'bold',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t},\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t\t// marginTop: spacing * 2,\n\t\t\t// position: 'absolute',\n\t\t\t// top: 70,\n\t\t\t// left: 0,\n\t\t\t// right: 0,\n\t\t\t// bottom: 0\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\ttabLogo: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: spacing * 4,\n\t\t\tmaxHeight: '100%',\n\t\t\twidth: 'auto',\n\t\t},\n\t\ttabLabel: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tdlBtnImg: {\n\t\t\tmaxWidth: '100%',\n\t\t\tmaxHeight: spacing * 9,\n\t\t\twidth: 'auto',\n\t\t\theight: 'auto',\n\t\t},\n\t\tleftBtnIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '-6vh',\n\t\t\tleft: 0,\n\t\t},\n\t\tlogo: {\n\t\t\twidth: '12.8vh',\n\t\t\theight: '5vh',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport function AddrItem({ stats }) {\n\tconst { balanceEth, tokensBalances, address } = stats\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<ListItemText\n\t\t\tprimary={address}\n\t\t\tsecondary={\n\t\t\t\t<span className={classes.addrInfo}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<span> ETH </span>\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\n\t\t\t\t\t</span>\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<span> {symbol} </span>\n\t\t\t\t\t\t\t<strong> {balance} </strong>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</span>\n\t\t\t}\n\t\t/>\n\t)\n}\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\nimport METAMASK_IMG from 'resources/metamask.png'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getEthers, getEthereumProvider } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\nimport Box from '@material-ui/core/Box'\nimport {\n\taddToast,\n\tupdateIdentity,\n\tupdateIdentityWallet,\n\texecute,\n} from 'actions'\nimport { t, selectIdentity } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction AuthMetamask(props) {\n\tconst classes = useStyles()\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\n\tconst { address } = wallet\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\n\t// const [stats, setStats] = useState(null)\n\tconst [waitingMetamaskAction, setWaitingMetamaskAction] = useState(false)\n\tconst [waitingAddrsData, setWaitingAddrsData] = useState(false)\n\tconst isOpera =\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\n\t\tfalse\n\t)\n\n\tuseEffect(() => {\n\t\tconst setEth = async () => {\n\t\t\tconst ethereumProvider = await getEthereumProvider()\n\t\t\tsetIsMetamaskEthereumProvider(\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\n\t\t\t)\n\t\t}\n\n\t\tsetEth()\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (installingMetamask) {\n\t\t\t// Refreshes page after user comes back\n\t\t\t// from installing Metamask\n\t\t\twindow.onfocus = () => {\n\t\t\t\twindow.location.reload()\n\t\t\t\tsetInstallingMetamask(false)\n\t\t\t}\n\t\t}\n\t}, [installingMetamask])\n\n\tconst checkMetamask = async () => {\n\t\tsetWaitingAddrsData(true)\n\t\ttry {\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst wallet = {\n\t\t\t\tauthType: authType,\n\t\t\t}\n\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\n\t\t\tconst address = await metamaskSigner.getAddress()\n\t\t\tconst stats = await getAddressBalances({\n\t\t\t\taddress: { address },\n\t\t\t\tauthType,\n\t\t\t\tgetFullBalances: true,\n\t\t\t})\n\n\t\t\texecute(updateIdentity('stats', stats))\n\t\t\tsetWaitingAddrsData(false)\n\n\t\t\texecute(\n\t\t\t\tupdateIdentityWallet({\n\t\t\t\t\taddress,\n\t\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\n\t\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\n\t\t\t\t})\n\t\t\t)\n\t\t} catch (err) {\n\t\t\tconsole.error('Error: catch', err)\n\t\t\tsetWaitingMetamaskAction(false)\n\t\t\tsetWaitingAddrsData(false)\n\t\t\texecute(\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t}\n\n\treturn (\n\t\t<ContentBox className={classes.tabBox}>\n\t\t\t{waitingMetamaskAction ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ACTION')} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : waitingAddrsData ? (\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<Typography variant='subheading'>{t('METAMASK_INFO')}</Typography>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\twidth={1}\n\t\t\t\t>\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('METAMASK_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\n\t\t\t\t\t\t\t\talt={'Downlad metamask'}\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{address ? (\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\n\t\t\t\t\t\t\t{stats ? (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Typography variant='subheading' color='primary'>\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={checkMetamask}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : null}\n\t\t\t\t</Box>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AuthMetamask\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\n\nexport default function NewItemHoc(Decorated) {\n\tclass ValidItemHoc extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.state = {\n\t\t\t\tinvalidFields: {},\n\t\t\t}\n\n\t\t\tthis.validate = this.validate.bind(this)\n\t\t}\n\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\n\t\t}\n\n\t\tcomponentWillMount() {\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\n\t\t}\n\n\t\tvalidate = (\n\t\t\tkey,\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n\t\t) => {\n\t\t\tif (!isValid) {\n\t\t\t\tlet errors = {}\n\t\t\t\terrors[key] = {\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\n\t\t\t\t\tdirty: dirty,\n\t\t\t\t}\n\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\n\t\t\t} else if (removeAll) {\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\n\t\t\t} else {\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\n\t\t\t}\n\t\t}\n\n\t\trender() {\n\t\t\tconst props = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...props}\n\t\t\t\t\tvalidate={this.validate}\n\t\t\t\t\tinvalidFields={this.state.invalidFields}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tValidItemHoc.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\t// let persist = state.persist\n\t\tlet memory = state.memory\n\t\treturn {\n\t\t\tvalidations: memory.validations[props.validateId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidItemHoc))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport IdentityHoc from '../IdentityHoc'\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\n\nexport default function AuthHoc(Decorated) {\n\tclass Auth extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\t\t\tthis.state = {\n\t\t\t\tmethod: '',\n\t\t\t\tsideSelect: false,\n\t\t\t}\n\t\t}\n\n\t\tupdateWallet = ({\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tpath,\n\t\t\tchainId,\n\t\t\tsignType,\n\t\t}) => {\n\t\t\tconst wallet = {\n\t\t\t\taddress,\n\t\t\t\tauthType,\n\t\t\t\thdWalletAddrPath,\n\t\t\t\thdWalletAddrIdx,\n\t\t\t\tpath,\n\t\t\t\tchainId,\n\t\t\t\tsignType,\n\t\t\t}\n\n\t\t\tthis.props.handleChange('identityContractOwner', address)\n\t\t\tthis.props.handleChange('wallet', wallet)\n\t\t}\n\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...this.props}\n\t\t\t\t\t// updateAcc={this.updateAcc}\n\t\t\t\t\tupdateWallet={this.updateWallet}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tAuth.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t}\n\n\tfunction mapStateToProps(state) {\n\t\tlet persist = state.persist\n\t\t// let memory = state.memory\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidItemHoc(IdentityHoc(Auth))))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions, { execute, login } from 'actions'\nimport { push } from 'connected-react-router'\nimport { CREATING_SESSION, UPLOADING_ACCOUNT_DATA } from 'constants/spinners'\n\nexport default function IdentityHoc(Decorated) {\n\tclass IdentityForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tready: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value) => {\n\t\t\tthis.props.actions.updateIdentity(prop, value)\n\t\t}\n\n\t\t// componentDidUpdate = () => {\n\t\t// \tconst { account } = this.props\n\t\t// \tif (account.wallet.authSig) {\n\t\t// \t\texecute(push('/side-select'))\n\t\t// \t}\n\t\t// }\n\n\t\tsave = async () => {\n\t\t\texecute(login())\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tconst { resetIdentity } = this.props.actions\n\t\t\tresetIdentity()\n\t\t\texecute(push('/'))\n\t\t}\n\n\t\trender() {\n\t\t\tconst { identity, spinner, waitingExpected, ...rest } = this.props\n\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tidentity={identity}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t\twaiting={spinner}\n\t\t\t\t\twaitingExpected={waitingExpected}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tIdentityForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\tidentity: PropTypes.object.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\tidentity: memory.identity,\n\t\t\tspinner: memory.spinners[CREATING_SESSION],\n\t\t\twaitingUpload: memory.spinners[UPLOADING_ACCOUNT_DATA],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(IdentityForm)\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Translate from 'components/translate/Translate'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport Button from '@material-ui/core/Button'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport AuthHoc from './AuthHoc'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\n\nclass AuthTrezor extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tmethod: '',\n\t\t\tsideSelect: false,\n\t\t\taddresses: [],\n\t\t\twaitingTrezorAction: false,\n\t\t\twaitingAddrsData: false,\n\t\t\tselectedAddress: null,\n\t\t\thdPath: '',\n\t\t}\n\t}\n\n\tconnectTrezor = async () => {\n\t\tthis.setState({ waitingTrezorAction: true }, async () => {\n\t\t\ttry {\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\n\n\t\t\t\tconst wallet = {\n\t\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\t\t}\n\n\t\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\n\n\t\t\t\tconst addresses = await trezorSigner.getAddresses({ from: 0, to: 19 })\n\n\t\t\t\tconst allAddressesData = addresses.payload.map(address =>\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\n\t\t\t\t)\n\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\t\tconsole.log('result', results)\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thdPath: trezorSigner.path,\n\t\t\t\t\t\taddresses: results,\n\t\t\t\t\t\twaitingAddrsData: false,\n\t\t\t\t\t\twaitingTrezorAction: false,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error: catch', err)\n\t\t\t\tthis.setState({ waitingTrezorAction: false, waitingAddrsData: false })\n\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_TREZOR', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tAddressSelect = ({ addresses, waitingTrezorAction, t, classes, ...rest }) => {\n\t\treturn (\n\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t{waitingTrezorAction ? (\n\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\tt('SELECT_ADDR_TREZOR')\n\t\t\t\t\t)}\n\t\t\t\t</ContentStickyTop>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{addresses.map((res, index) => (\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\t\tkey={res.address}\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} address={res.address} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\n\t\tconst { address, path } = addrData\n\t\tthis.props.updateWallet({\n\t\t\taddress,\n\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\tpath,\n\t\t\thdWalletAddrPath: this.state.hdPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tsignType: AUTH_TYPES.TREZOR.signType,\n\t\t})\n\n\t\tthis.setState({ selectedAddress: address })\n\t}\n\n\trender() {\n\t\tlet { t, classes } = this.props\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.addresses.length ? (\n\t\t\t\t\t<this.AddressSelect\n\t\t\t\t\t\twaitingTrezorAction={this.state.waitingTrezorAction}\n\t\t\t\t\t\taddresses={this.state.addresses}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : this.state.waitingTrezorAction ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t\t<Typography variant='subheading'>{t('TREZOR_INFO')}</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('TREZOR_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io/' target='_blank'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Wallet\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Bridge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\n\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'https://trezor.io'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingTrezorAction && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={this.connectTrezor}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContentBody>\n\t\t\t\t\t</ContentBox>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAuthTrezor.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tupdateWallet: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default Translate(AuthHoc(withStyles(styles)(AuthTrezor)))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Translate from 'components/translate/Translate'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\nimport AuthHoc from './AuthHoc'\nimport Helper from 'helpers/miscHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport LEDGER_DL_IMG from 'resources/ledger_logo_header.png'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\n\nclass AuthLedger extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tmethod: '',\n\t\t\tsideSelect: false,\n\t\t\taddresses: [],\n\t\t\twaitingLedgerAction: false,\n\t\t\twaitingAddrsData: false,\n\t\t\tselectedAddress: null,\n\t\t\thdPath: '',\n\t\t}\n\t}\n\n\tconnectLedger = async () => {\n\t\tthis.setState({ waitingLedgerAction: true }, async () => {\n\t\t\ttry {\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.LEDGER.name)\n\n\t\t\t\tconst wallet = {\n\t\t\t\t\tauthType: AUTH_TYPES.LEDGER.name,\n\t\t\t\t}\n\n\t\t\t\tconst ledgerSigner = await getSigner({ wallet, provider })\n\t\t\t\tconst addresses = await ledgerSigner.getAddresses({ from: 0, to: 19 })\n\n\t\t\t\tconst allAddressesData = addresses.map(address =>\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.LEDGER.name })\n\t\t\t\t)\n\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thdPath: ledgerSigner.path,\n\t\t\t\t\t\taddresses: results,\n\t\t\t\t\t\twaitingAddrsData: false,\n\t\t\t\t\t\twaitingLedgerAction: false,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error: catch', err)\n\t\t\t\tthis.setState({ waitingLedgerAction: false, waitingAddrsData: false })\n\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_LEDGER', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tAddressSelect = ({ addresses, waitingLedgerAction, t, classes, ...rest }) => {\n\t\treturn (\n\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t{waitingLedgerAction ? (\n\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\tt('SELECT_ADDR_LEDGER')\n\t\t\t\t\t)}\n\t\t\t\t</ContentStickyTop>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{addresses.map((res, index) => (\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\t\tkey={res.address}\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\n\t\tconst { address, path } = addrData\n\n\t\tthis.props.updateWallet({\n\t\t\taddress,\n\t\t\tauthType: AUTH_TYPES.LEDGER.name,\n\t\t\tpath,\n\t\t\thdWalletAddrPath: this.state.hdPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tsignType: AUTH_TYPES.LEDGER.signType,\n\t\t})\n\n\t\tthis.setState({ selectedAddress: address })\n\t}\n\n\trender() {\n\t\tlet { t, classes } = this.props\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.addresses.length ? (\n\t\t\t\t\t<this.AddressSelect\n\t\t\t\t\t\twaitingLedgerAction={this.state.waitingLedgerAction}\n\t\t\t\t\t\taddresses={this.state.addresses}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ADDRS_INFO')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : this.state.waitingLedgerAction ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t\t<Typography variant='subheading'>{t('LEDGER_INFO')}</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('LEDGER_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://www.ledgerwallet.com/'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLEDGER\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<Anchor href='https://www.ledgerwallet.com/' target='_blank'>\n\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\tsrc={LEDGER_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'https://www.ledgerwallet.com/'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingLedgerAction && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={this.connectLedger}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_LEDGER')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContentBody>\n\t\t\t\t\t</ContentBox>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAuthLedger.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tupdateWallet: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default Translate(AuthHoc(withStyles(styles)(AuthLedger)))\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport { selectLocationQuery } from 'selectors'\nimport AuthMetamask from './AuthMetamask'\nimport AuthTrezor from './AuthTrezor'\nimport AuthLedger from './AuthLedger'\n\nconst useStyles = makeStyles(theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t},\n\t}\n})\n\nfunction AuthMethod() {\n\tconst classes = useStyles()\n\tconst query = useSelector(selectLocationQuery)\n\tconst method = query['external']\n\n\treturn (\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\n\t\t\t\t{method === 'metamask' && <AuthMetamask />}\n\t\t\t\t{method === 'trezor' && <AuthTrezor />}\n\t\t\t\t{method === 'ledger' && <AuthLedger />}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default AuthMethod\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport {\n\texecute,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tupdateIdentity,\n} from 'actions'\n\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst QuickInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\n\t]\n\n\t// Errors\n\tconst {\n\t\temail,\n\t\temailCheck,\n\t\tpassword,\n\t\tpasswordCheck,\n\t\ttosCheck,\n\t\taccessWarningCheck,\n\t} = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner || sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, true))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, false))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(validatePassword(validateId, identity.password, true))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidatePassword(validateId, identity.password, false)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpassword && !!password.dirty\n\t\t\t\t\t\t\t\t\t\t? password.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='passwordCheck'\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidatePasswordCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.password,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidatePasswordCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.password,\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_QUICK_CHECK')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\texecute,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tupdateIdentity,\n} from 'actions'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { CREATING_SESSION } from 'constants/spinners'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst FulInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\tconst { wallet = {} } = identity\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\t// Errors\n\tconst { email, emailCheck, tosCheck, accessWarningCheck } = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t{walletAddress}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, true))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, false))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FulInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { execute, updateIdentity } from 'actions'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst QuickLogin = props => {\n\tconst { validateId } = props\n\n\tconst identity = useSelector(selectIdentity)\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\n\t]\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { wallet } = validations\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('QUICK_LOGIN_INFO', { args: [identity.email] })}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickLogin\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport { push } from 'connected-react-router'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\texecute,\n\tupdateIdentity,\n\townerIdentities as updateOwnerIdentities,\n} from 'actions'\nimport {\n\tselectSpinnerById,\n\tselectIdentity,\n\tt,\n\tselectSearchParams,\n\tselectRegistrationAllowed,\n} from 'selectors'\nimport Dropdown from 'components/common/dropdown'\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst getIdentitiesForDropdown = (ownerIdentities = [], t) =>\n\townerIdentities.map(id => {\n\t\treturn {\n\t\t\tvalue: id.identity + '-' + id.privLevel,\n\t\t\tlabel: t('IDENTITY_OPTION_DATA', {\n\t\t\t\targs: [id.identity, `PRIV_${id.privLevel}_LABEL`, id.data.email || '-'],\n\t\t\t}),\n\t\t}\n\t})\n\nfunction FullLogin(props) {\n\tconst identity = useSelector(selectIdentity)\n\tconst {\n\t\twalletAddr,\n\t\twallet = {},\n\t\townerIdentities,\n\t\tidentityContractAddress,\n\t} = identity\n\tconst walletAddress = wallet.address || walletAddr\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\n\t)\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\n\tconst searchParams = useSelector(selectSearchParams)\n\tsearchParams.set('step', '1')\n\n\tconst search = searchParams.toString()\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\n\tuseEffect(() => {\n\t\texecute(updateOwnerIdentities({ owner: walletAddress }))\n\t\t// We need it just once on mount\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities, t)}\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{showRegistration && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FullLogin\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport Translate from 'components/translate/Translate'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { selectLocationQuery } from 'selectors'\n\nclass IdentitySteps extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpages: this.mapPages(),\n\t\t}\n\n\t\t// TODO: Check if it is possible to need state update\n\t}\n\n\tmapPages = () => {\n\t\tconst {\n\t\t\tGoBtn,\n\t\t\tcancelFunction,\n\t\t\tt,\n\t\t\tonSave,\n\t\t\tstepsId,\n\t\t\tstepsPages = [],\n\t\t\tstepsPreviewPage,\n\t\t\tvalidateIdBase,\n\t\t\t...rest\n\t\t} = this.props\n\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\n\n\t\tconst pages = stepsPages.map((page, index) => {\n\t\t\treturn {\n\t\t\t\ttitle: t(page.title),\n\t\t\t\tcancelFunction,\n\t\t\t\tcomponent: ValidItemHoc(page.page),\n\t\t\t\tdisableBtnsIfValid: page.disableBtnsIfValid,\n\t\t\t\tprops: { ...this.props, validateId: validateId + '-' + index },\n\t\t\t\tpageValidation: page.pageValidation,\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\n\t\t\t\tcompleteBtn: page.final\n\t\t\t\t\t? () => <GoBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t\t\t\t: undefined,\n\t\t\t}\n\t\t})\n\n\t\treturn pages\n\t}\n\n\trender() {\n\t\tconst { initialPage } = this.props\n\t\treturn (\n\t\t\t<MaterialStepper initialPage={initialPage} pages={this.state.pages} />\n\t\t)\n\t}\n}\n\nIdentitySteps.propTypes = {\n\tactions: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\t// const persist = state.persist\n\t// const memory = state.memory\n\treturn {\n\t\tinitialPage: selectLocationQuery(state)['step'] || 0,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(withStyles(styles)(IdentitySteps)))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t},\n\t\tadxVersion: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: spacing,\n\t\t\tbottom: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\tmarginTop: '1.5vh',\n\t\t\twidth: '17.92vh',\n\t\t\theight: '6vh',\n\t\t},\n\t\tformControl: {\n\t\t\tdisplay: 'flex',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmargin: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t\tinfoPaper: {\n\t\t\t...theme.mixins.gutters(),\n\t\t\tpaddingTop: spacing * 2,\n\t\t\tpaddingBottom: spacing * 2,\n\t\t},\n\t\tinput: {\n\t\t\tdisplay: 'none',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport AuthMethod from './ownerAuth/AuthMethod'\nimport QuickInfo from './QuickInfo'\nimport FullInfo from './FullInfo'\nimport QuickLogin from './QuickLogin'\nimport FullLogin from './FullLogin'\nimport IdentitySteps from './IdentitySteps'\nimport { push } from 'connected-react-router'\n\nimport {\n\texecute,\n\tvalidateQuickLogin,\n\tvalidateStandardLogin,\n\tvalidateQuickInfo,\n\tvalidateFullInfo,\n\tvalidateContractOwner,\n\tresetIdentity,\n} from 'actions'\n\nconst cancelFunction = () => {\n\texecute(resetIdentity())\n\texecute(push('/'))\n}\n\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\n\nconst common = {\n\tcancelFunction,\n\tvalidateIdBase: 'identity-',\n}\n\nexport const LoginStandardIdentity = props => {\n\treturn (\n\t\t<IdentitySteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-login'\n\t\t\tstepsPages={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tpage: AuthMethod,\n\t\t\t\t\tpageValidation: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\n\t\t\t\t\tpage: FullLogin,\n\t\t\t\t\tpageValidation: finalValidationStandard,\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateStandardIdentity = props => {\n\treturn (\n\t\t<IdentitySteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-create'\n\t\t\tstepsPages={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tpage: AuthMethod,\n\t\t\t\t\tpageValidation: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'FULL_INFO',\n\t\t\t\t\tpage: FullInfo,\n\t\t\t\t\tpageValidation: ({ validateId, dirty }) =>\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateQuickIdentity = props => (\n\t<IdentitySteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-create'\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_INFO',\n\t\t\t\tpage: QuickInfo,\n\t\t\t\tpageValidation: ({ validateId, dirty }) =>\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const LoginQuickIdentity = props => (\n\t<IdentitySteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-login'\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_LOGIN',\n\t\t\t\tpage: QuickLogin,\n\t\t\t\tpageValidation: finalValidationQuick,\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const DemoIdentity = props => (\n\t<IdentitySteps {...props} {...common} stepsPages={[]} />\n)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Logo from 'components/common/icons/AdexIconTxt'\nimport Typography from '@material-ui/core/Typography'\nimport Anchor from 'components/common/anchor/anchor'\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\ttextAlign: 'center',\n\t},\n\tvitalik: {\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\n\t\tbackgroundPosition: 'center',\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundSize: 'contain',\n\t},\n\tcontainer: {\n\t\tmaxWidth: theme.breakpoints.values.md,\n\t\tmargin: 'auto',\n\t},\n\tlogo: {\n\t\theight: '5rem',\n\t\twidth: '100%',\n\t},\n}))\n\nexport default function Home({ t, ...rest }) {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box\n\t\t\twidth={1}\n\t\t\theight={1}\n\t\t\tclassName={classes.root}\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='center'\n\t\t\tjustifyContent='center'\n\t\t>\n\t\t\t<Box\n\t\t\t\tclassName={classes.container}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='row'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='space-evenly'\n\t\t\t\tflexWrap='wrap'\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box\n\t\t\t\tflexGrow={1}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='column'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='center'\n\t\t\t\tmaxWidth='md'\n\t\t\t\tclassName={classes.container}\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Logo className={classes.logo} />\n\t\t\t\t</Box>\n\n\t\t\t\t{/* <Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={1}>\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t{/* <Box p={1}>\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box\n\t\t\t\t\theight='30%'\n\t\t\t\t\tposition='relative'\n\t\t\t\t\tclassName={classes.vitalik}\n\t\t\t\t\talignSelf='stretch'\n\t\t\t\t></Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\n\nconst useStyles = makeStyles(theme => ({\n\tdialog: {\n\t\theight: '100vh',\n\t\twidth: theme.maxWidth || 1200,\n\t\tmaxWidth: '100%',\n\t},\n}))\n\nexport default function DialogHoc(Decorated) {\n\tfunction JustDialog({ ...rest }) {\n\t\tconst classes = useStyles()\n\n\t\treturn (\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Decorated {...rest} />\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\treturn JustDialog\n}\n","import React, { useEffect } from 'react'\nimport { HashRouter as Router } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport {\n\tmetamaskChecks,\n\tmetamaskNetworkCheck,\n\tgetRelayerConfig,\n\texecute,\n\tensureQuickWalletBackup,\n\tupdateRegistrationAllowed,\n\thandleRedirectParams,\n\thandleSignupLink,\n} from 'actions'\nimport { Route, Switch, Redirect } from 'react-router'\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\nimport ConnectHoc from 'components/signin/ConnectHoc'\nimport {\n\tCreateQuickIdentity,\n\tLoginStandardIdentity,\n\tCreateStandardIdentity,\n\tLoginQuickIdentity,\n} from 'components/signin/identity/Identity'\nimport SideSelect from 'components/signin/side-select/SideSelect'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport Home from 'components/signin/Home'\nimport JustDialog from 'components/common/dialog/JustDialog'\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\nimport Translate from 'components/translate/Translate'\nimport { selectAuth, selectWallet, selectLocation } from 'selectors'\n\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\nconst ConnectedLoginStandardIdentity = ConnectHoc(\n\tJustDialog(LoginStandardIdentity)\n)\nconst ConnectedCreateStandardIdentity = ConnectHoc(\n\tJustDialog(CreateStandardIdentity)\n)\nconst ConnectedRoot = ConnectHoc(Home)\n\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...other}\n\t\t\trender={props =>\n\t\t\t\tauth === true ? ( //|| true\n\t\t\t\t\t<Component {...props} />\n\t\t\t\t) : (\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t)\n}\n\nconst handleLegacyWallet = async wallet => {\n\tconst { type, email, password, authType } = wallet || {}\n\n\tif (!type && email && password && authType === 'grant') {\n\t\tawait migrateLegacyWallet({ email, password })\n\t\tawait removeLegacyKey({ email, password })\n\t}\n\n\tif (email && password && authType) {\n\t\texecute(ensureQuickWalletBackup())\n\t}\n}\n\nconst Root = () => {\n\tconst auth = useSelector(selectAuth)\n\tconst wallet = useSelector(selectWallet)\n\tconst location = useSelector(selectLocation)\n\n\tuseEffect(() => {\n\t\texecute(getRelayerConfig())\n\t\texecute(metamaskChecks())\n\t\texecute(handleRedirectParams(location.search))\n\t\texecute(handleSignupLink(location.search))\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tuseEffect(() => {\n\t\thandleLegacyWallet(wallet)\n\t}, [wallet])\n\n\tuseEffect(() => {\n\t\texecute(metamaskNetworkCheck())\n\t\texecute(updateRegistrationAllowed(location.search))\n\t}, [location])\n\n\treturn (\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<PrivateRoute\n\t\t\t\t\tauth={auth}\n\t\t\t\t\tpath='/dashboard/:side'\n\t\t\t\t\tcomponent={Dashboard}\n\t\t\t\t/>\n\t\t\t\t<PrivateRoute auth={auth} path='/side-select' component={SideSelect} />\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/quick'\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/login/full'\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/full'\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\n\t\t\t\t<Route>\n\t\t\t\t\t<PageNotFound />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t)\n}\n\nexport default Translate(Root)\n","import React, { Component } from 'react'\nimport 'react-image-crop/dist/ReactCrop.css'\n// import './App.css'\nimport { Provider } from 'react-redux'\nimport { persistor, store } from 'store'\nimport history from 'store/history'\nimport { ConnectedRouter } from 'connected-react-router'\nimport Toast from 'components/toast/Toast'\nimport Confirm from 'components/confirm/Confirm'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport Root from './Root'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport { themeMUI } from './themeMUi'\nimport MomentUtils from '@date-io/moment'\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport CacheBuster from './CacheBuster'\n\n// console.log('initial store', store.getState())\n\nconst onBeforeLift = () => {\n\t// take some action before the gate lifts\n}\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CssBaseline />\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\n\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\n\t\t\t\t\t\t<Provider store={store}>\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\n\t\t\t\t\t\t\t\t\t<CacheBuster>\n\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\n\t\t\t\t\t\t\t\t\t\t\t<Root />\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</CacheBuster>\n\t\t\t\t\t\t\t\t</ConnectedRouter>\n\t\t\t\t\t\t\t</PersistGate>\n\t\t\t\t\t\t</Provider>\n\t\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n)\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error)\n\t\t})\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type')\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t)\n\t\t})\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister()\n\t\t})\n\t}\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App/App'\nimport { unregister } from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\nunregister()\n","import {\n\tgetState,\n\texecute,\n\tresetAllNewItems,\n\tresetAllItems,\n\tresetAllBids,\n\tresetIdentity,\n\tresetAccount,\n\tresetAnalytics,\n\tresetChannelsWithBalance,\n} from 'actions'\n\nimport {\n\tcampaignsLoop,\n\tcampaignsLoopStats,\n} from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport {\n\tanalyticsLoop,\n\tanalyticsCampaignsLoop,\n} from 'services/store-data/analytics'\n\nimport { push } from 'connected-react-router'\n\nexport const logOut = skipRedirect => {\n\tanalyticsLoop.stop()\n\tanalyticsCampaignsLoop.stop()\n\tcampaignsLoop.stop()\n\tcampaignsLoopStats.stop()\n\tstatsLoop.stop()\n\tif (!skipRedirect) {\n\t\texecute(push('/'))\n\t}\n\texecute(resetIdentity())\n\texecute(resetAllItems())\n\texecute(resetAllNewItems())\n\texecute(resetAllBids())\n\texecute(resetAccount())\n\texecute(resetAnalytics())\n\texecute(resetChannelsWithBalance())\n}\n\nexport const isDemoMode = () => {\n\treturn getState().persist.account._authType === 'demo'\n}\n\nexport const getAccount = () => {\n\treturn getState().persist.account\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { constants } from 'adex-models'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport { bigNumberify, formatEther } from 'ethers/utils'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport {\n\tselectRelayerConfig,\n\tselectMainToken,\n\tselectRoutineWithdrawTokens,\n\tselectFeeTokenWhitelist,\n} from 'selectors'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\n\tif (token.address === mainToken.address) {\n\t\treturn balance\n\t}\n\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\n\n\t// approve + swap txns\n\tconst swapFees = bigNumberify(feeToken.min).mul(bigNumberify(2))\n\n\tconst isAvailable = swapFees.mul(bigNumberify(2)).lte(balance)\n\treturn isAvailable ? balance : bigNumberify(0)\n}\n\nexport const getWithdrawTokensBalances = async ({\n\tauthType,\n\taddress,\n\tgetFullBalances,\n}) => {\n\tconst { getToken } = await getEthers(authType)\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\n\t\tconst tokenContract = getToken(token)\n\n\t\tconst balance = await tokenContract.balanceOf(address)\n\n\t\tconst available = getFullBalances\n\t\t\t? balance\n\t\t\t: tokenAvailableBalance({\n\t\t\t\t\ttoken,\n\t\t\t\t\tmainToken,\n\t\t\t\t\tbalance,\n\t\t\t  })\n\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: available,\n\t\t})\n\n\t\treturn { token, balance: available, balanceMainToken }\n\t})\n\n\tconst balances = await Promise.all(balancesCalls)\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\n\t\t(data, balanceData) => {\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\n\t\t\t\tbalanceData.balanceMainToken\n\t\t\t)\n\n\t\t\tif (balanceData.token.address === mainToken.address) {\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\n\t\t\t}\n\n\t\t\treturn data\n\t\t},\n\t\t{\n\t\t\ttotalBalanceInMainToken: bigNumberify(0),\n\t\t\tmainTokenBalance: bigNumberify(0),\n\t\t}\n\t)\n\n\treturn {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t\ttotalBalanceInMainToken,\n\t}\n}\n\nexport async function getAddressBalances({\n\taddress,\n\tauthType,\n\tgetFullBalances,\n}) {\n\tconst { provider } = await getEthers(authType)\n\n\tconst calls = [\n\t\tprovider.getBalance(address.address),\n\t\tgetWithdrawTokensBalances({\n\t\t\tauthType,\n\t\t\taddress: address.address,\n\t\t\tgetFullBalances,\n\t\t}),\n\t]\n\n\tconst balances = await Promise.all(calls)\n\tconst formatted = {\n\t\taddress: address.address,\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\n\t\tbalanceEth: formatEther(balances[0].toString()),\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\n\t\t\treturn {\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\n\t\t\t\tsymbol: token.symbol,\n\t\t\t}\n\t\t}),\n\t}\n\n\treturn formatted\n}\n\nexport async function getAccountStats({\n\taccount,\n\toutstandingBalanceMainToken = {\n\t\ttotal: bigNumberify('0'),\n\t\tavailable: bigNumberify('0'),\n\t},\n}) {\n\tconst { wallet, identity } = account\n\tconst { authType } = wallet\n\tconst { address } = identity\n\tconst { getIdentity } = await getEthers(authType)\n\tconst { decimals } = selectMainToken()\n\n\tconst { status = {} } = identity\n\tconst identityContract = getIdentity({ address })\n\tlet privilegesAction\n\ttry {\n\t\tawait identityContract.deployed()\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\n\t} catch {\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\n\t}\n\n\tconst calls = [\n\t\tgetWithdrawTokensBalances({ authType, address }),\n\t\tprivilegesAction,\n\t]\n\n\tconst [\n\t\tidentityWithdrawTokensBalancesBalances = {},\n\t\twalletPrivileges,\n\t] = await Promise.all(\n\t\tcalls.map(c =>\n\t\t\tc\n\t\t\t\t.then(res => res)\n\t\t\t\t.catch(e => {\n\t\t\t\t\treturn undefined\n\t\t\t\t})\n\t\t)\n\t)\n\n\tconst identityBalanceMainToken =\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken\n\n\t// BigNumber values for balances\n\tconst raw = {\n\t\tidentityWithdrawTokensBalancesBalances,\n\t\twalletPrivileges,\n\t\tidentityBalanceMainToken,\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.available\n\t\t),\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.total\n\t\t),\n\t}\n\n\tconst formatted = {\n\t\twalletAddress: wallet.address,\n\t\twalletAuthType: wallet.authType,\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\n\t\tidentityAddress: identity.address,\n\t\tidentityBalanceMainToken: formatTokenAmount(\n\t\t\tidentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\toutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.outstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalOutstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.availableIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t}\n\n\treturn {\n\t\traw,\n\t\tformatted,\n\t}\n}\n\n// NOTE: currently working because DAI and SAI has the same price and decimals\n// We should use getOutstandingBalanceMainToken if changed\nexport async function getOutstandingBalance({ withBalance }) {\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable } = ch\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstanding)\n\t\tcurrent.available = current.available.add(outstandingAvailable)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\n\tconst tokens = selectRoutineWithdrawTokens()\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\n\t\tconst { depositAsset } = channel\n\t\tconst token = tokens[depositAsset]\n\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: outstandingAvailable,\n\t\t})\n\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstandingMT)\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getAllValidatorsAuthForIdentity({\n\twithBalance,\n\taccount,\n}) {\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\n\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\n\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\tconst keys = Object.keys(allValidators)\n\n\tconst tokenCalls = keys.map(async key => {\n\t\tif (allValidators[key]) {\n\t\t\treturn allValidators[key]\n\t\t} else {\n\t\t\tconst token = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: key,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\treturn token\n\t\t}\n\t})\n\n\tconst allTokens = await Promise.all(tokenCalls)\n\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[key]: allTokens[index],\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\treturn validatorsAuth\n}\n\nconst saiDaiConversion = ({ token, balance }) => balance\n\nconst valueInMainTokenConversions = {\n\t// SAI\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\n\t\t// DAI\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\n\t},\n\t// DAI\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\n\t\t// SAI\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\n\t},\n}\n\nasync function tokenInMainTokenValue({ token, balance }) {\n\tconst { address } = selectMainToken()\n\n\tif (address === token.address) {\n\t\treturn balance\n\t}\n\n\tconst valueInMainToken = valueInMainTokenConversions[address.toLowerCase()][\n\t\ttoken.address.toLowerCase()\n\t]({\n\t\ttoken,\n\t\tbalance,\n\t})\n\n\treturn valueInMainToken\n}\n","const MAX_ASPECT_TOLERANCE = 5\n\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\n\nconst getVideoSize = src =>\n\tnew Promise(resolve => {\n\t\tconst video = document.createElement('video')\n\t\tvideo.src = src\n\n\t\tvideo.onloadedmetadata = ({ target }) => {\n\t\t\treturn resolve({\n\t\t\t\twidth: target.videoWidth,\n\t\t\t\theight: target.videoHeight,\n\t\t\t})\n\t\t}\n\t})\n\nconst getImageSize = src =>\n\tnew Promise(resolve => {\n\t\tconst image = new Image()\n\t\timage.src = src\n\t\timage.onload = function() {\n\t\t\treturn resolve({\n\t\t\t\twidth: this.width,\n\t\t\t\theight: this.height,\n\t\t\t})\n\t\t}\n\t})\n\nexport const getMediaSize = ({ mime, src }) =>\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\n\nexport const checkExactishAspect = (\n\twidthTarget,\n\twidth,\n\theightTarget,\n\theight,\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\n) => {\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\n\t\treturn false\n\t}\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\n\tconst aspect = parseFloat(width / height)\n\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\n\n\tconst isValid =\n\t\twidthTarget <= width &&\n\t\theightTarget <= height &&\n\t\taspectDiff <= maxPercentTolerance\n\n\treturn isValid\n}\n","import Identity from './build/Identity.json'\nimport AdExCore from './build/AdExCore.json'\nimport Dai from './build/Dai.json'\nimport IdentityFactory from './build/IdentityFactory.json'\nimport AdExENSManager from './build/AdExENSManager.json'\nimport ReverseRegistrar from './build/ReverseRegistrar.json'\nimport ERC20 from './abi/ERC20Token.json'\n\nexport const contracts = {\n\tIdentity: {\n\t\tabi: Identity.abi,\n\t},\n\tAdExENSManager: {\n\t\taddress: process.env.ADEX_ENS_ADDR,\n\t\tpublicResolver: process.env.REVERSE_REGISTRAR_PUBLIC_RESOLVER,\n\t\tabi: AdExENSManager.abi,\n\t},\n\tReverseRegistrar: {\n\t\taddress: process.env.REVERSE_REGISTRAR_ADDR,\n\t\tparentDomain: process.env.REVERSE_REGISTRAR_PARENT,\n\t\tabi: ReverseRegistrar.abi,\n\t},\n\tAdExCore: {\n\t\taddress: process.env.ADEX_CORE_ADDR,\n\t\tabi: AdExCore.abi,\n\t},\n\tDAI: {\n\t\taddress: process.env.DAI_TOKEN_ADDR,\n\t\tabi: Dai.abi,\n\t\tdecimals: 18,\n\t},\n\tIdentityFactory: {\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\n\t\tabi: IdentityFactory.abi,\n\t},\n\tERC20: {\n\t\tabi: ERC20,\n\t},\n}\n","import crypto from 'crypto'\nimport {\n\tChannel,\n\tsplitSig,\n\tChannelState,\n\tRoutineOps,\n} from 'adex-protocol-eth/js'\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetIdentityTxnsWithNoncesAndFees,\n\tgetIdentityTxnsTotalFees,\n\tprocessExecuteByFeeTokens,\n\tgetApproveTxns,\n} from 'services/smart-contracts/actions/identity'\nimport { contracts } from '../contractsCfg'\nimport { closeCampaign } from 'services/adex-validator/actions'\nimport { Campaign, AdUnit } from 'adex-models'\nimport { getAllCampaigns } from 'services/adex-market/actions'\nimport {\n\tbigNumberify,\n\trandomBytes,\n\tparseUnits,\n\tInterface,\n\tgetAddress,\n} from 'ethers/utils'\nimport {\n\tselectFeeTokenWhitelist,\n\tselectRoutineWithdrawTokens,\n\tselectMainFeeToken,\n\tselectMainToken,\n\tselectSaiToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\nimport { selectChannelsWithUserBalances } from 'selectors'\n\nconst { AdExCore } = contracts\nconst Core = new Interface(AdExCore.abi)\nconst IdentityInterface = new Interface(IdentityABI)\n\nconst timeframe = 15 * 1000 // 1 event per 15 seconds\nconst VALID_UNTIL_COEFFICIENT = 0.5\nconst VALID_UNTIL_MIN_PERIOD = 15 * 24 * 60 * 60 * 1000 // 15 days in ms\n\nfunction toEthereumChannel(channel) {\n\tconst specHash = crypto\n\t\t.createHash('sha256')\n\t\t.update(JSON.stringify(channel.spec))\n\t\t.digest()\n\n\treturn new Channel({\n\t\ttitle: channel.title,\n\t\tcreator: channel.creator,\n\t\ttokenAddr: channel.depositAsset,\n\t\ttokenAmount: channel.depositAmount,\n\t\tvalidUntil: channel.validUntil,\n\t\tvalidators: channel.spec.validators.map(v => v.id),\n\t\tspec: specHash,\n\t})\n}\n\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\n\tconst period = withdrawPeriodStart - activeFrom\n\tconst validUntil =\n\t\twithdrawPeriodStart +\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\n\n\treturn Math.floor(validUntil / 1000)\n}\n\nfunction getReadyCampaign(campaign, identity, mainToken) {\n\tconst newCampaign = new Campaign(campaign)\n\n\tnewCampaign.creator = identity.address\n\tnewCampaign.created = Date.now()\n\tnewCampaign.validUntil = getValidUntil(\n\t\tnewCampaign.activeFrom,\n\t\tnewCampaign.withdrawPeriodStart\n\t)\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\n\tnewCampaign.depositAmount = parseUnits(\n\t\tnewCampaign.depositAmount || '0',\n\t\tmainToken.decimals\n\t).toString()\n\n\tconst validators = newCampaign.validators.map(v => {\n\t\tconst deposit = bigNumberify(newCampaign.depositAmount || 0)\n\t\tconst fee = deposit\n\t\t\t.div(bigNumberify(v.feeDen || 1))\n\t\t\t.mul(bigNumberify(v.feeNum || 0))\n\t\t\t.toString()\n\n\t\tconst validator = {\n\t\t\tid: v.id,\n\t\t\turl: v.url,\n\t\t\tfee,\n\t\t}\n\n\t\tif (v.feeAddr) {\n\t\t\tvalidator.feeAddr = v.feeAddr\n\t\t}\n\n\t\treturn validator\n\t})\n\n\tnewCampaign.validators = validators\n\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\n\tnewCampaign.minPerImpression = parseUnits(\n\t\tnewCampaign.minPerImpression || '0',\n\t\tmainToken.decimals\n\t)\n\t\t.div(bigNumberify(1000))\n\t\t.toString()\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\n\n\tnewCampaign.depositAsset = mainToken.address\n\tnewCampaign.eventSubmission = {\n\t\tallow: [\n\t\t\t{\n\t\t\t\tuids: [\n\t\t\t\t\tnewCampaign.creator,\n\t\t\t\t\tnewCampaign.validators[0].id,\n\t\t\t\t\tnewCampaign.validators[1].id,\n\t\t\t\t],\n\t\t\t},\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\n\t\t],\n\t}\n\n\tnewCampaign.status = {\n\t\tname: 'Pending',\n\t\thumanFriendlyName: 'Active',\n\t\tlastChecked: Date.now(),\n\t}\n\n\treturn newCampaign\n}\n\nconst getWithdrawnPerUserOutstanding = async ({\n\tAdExCore,\n\tchannel,\n\tbalance,\n\tidentityAddr,\n}) => {\n\treturn bigNumberify(balance).sub(\n\t\tawait AdExCore.functions.withdrawnPerUser(channel.id, identityAddr)\n\t)\n}\n\nexport async function getChannelsWithOutstanding({ identityAddr, wallet }) {\n\tconst { authType } = wallet\n\tconst channels = await getAllCampaigns(true)\n\tconst { AdExCore } = await getEthers(authType)\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\n\n\tconst all = await Promise.all(\n\t\tchannels\n\t\t\t.filter(\n\t\t\t\tchannel =>\n\t\t\t\t\tchannel &&\n\t\t\t\t\tchannel.status &&\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\n\t\t\t)\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedBalances } = channel.status\n\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\n\t\t\t\t\t(balances, e) => {\n\t\t\t\t\t\tconst [address, balance] = e\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (getAddress(address)) {\n\t\t\t\t\t\t\t\tbalances[address] = balance\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch {}\n\t\t\t\t\t\treturn balances\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t)\n\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\n\n\t\t\t\treturn channel\n\t\t\t})\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\n\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\n\t\t\t\treturn {\n\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\t// mTree,\n\t\t\t\t\tbTree,\n\t\t\t\t\tchannel,\n\t\t\t\t}\n\t\t\t})\n\t\t\t.filter(({ bTree }) => {\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\n\t\t\t})\n\t\t\t.map(async ({ channel, lastApprovedSigs, bTree }) => {\n\t\t\t\t//  mTree,\n\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\n\n\t\t\t\tconst outstanding = await getWithdrawnPerUserOutstanding({\n\t\t\t\t\tAdExCore,\n\t\t\t\t\tchannel,\n\t\t\t\t\tbalance,\n\t\t\t\t\tidentityAddr,\n\t\t\t\t})\n\n\t\t\t\tconst outstandingAvailable = outstanding.sub(\n\t\t\t\t\tfeeTokenWhitelist[channel.depositAsset].min\n\t\t\t\t)\n\n\t\t\t\treturn {\n\t\t\t\t\tchannel,\n\t\t\t\t\tbalance,\n\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\toutstanding,\n\t\t\t\t\toutstandingAvailable,\n\t\t\t\t\t// mTree,\n\t\t\t\t\tbTree,\n\t\t\t\t}\n\t\t\t})\n\t)\n\n\tconst eligible = all.filter(x => {\n\t\treturn (\n\t\t\tx.outstanding.gt(\n\t\t\t\tbigNumberify(routineWithdrawTokens[x.channel.depositAsset].minWeekly)\n\t\t\t) && x.outstandingAvailable.gt(bigNumberify('0'))\n\t\t)\n\t})\n\n\treturn eligible\n}\n\nasync function getChannelsToSweepFrom({ amountToSweep, withBalance = [] }) {\n\tconst { eligible } = withBalance\n\t\t.sort((c1, c2) => {\n\t\t\treturn c2.outstandingAvailable.gt(c1.outstandingAvailable)\n\t\t})\n\t\t.reduce(\n\t\t\t(data, c) => {\n\t\t\t\tconst current = { ...data }\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\n\t\t\t\t\tcurrent.eligible.push(c)\n\t\t\t\t}\n\n\t\t\t\tcurrent.sum = current.sum.add(c.outstandingAvailable)\n\n\t\t\t\treturn current\n\t\t\t},\n\t\t\t{ sum: bigNumberify(0), eligible: [] }\n\t\t)\n\n\treturn eligible\n}\n\nconst getChannelWithdrawData = ({\n\tidentityAddr,\n\tbalance,\n\t// mTree,\n\tbTree,\n\tlastApprovedSigs,\n\tethChannelTuple,\n}) => {\n\tconst proof = bTree.getProof(identityAddr)\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\n\tconst root = bTree.mTree.getRoot()\n\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\n}\n\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\n\t\t(data, tx) => {\n\t\t\tconst updated = { ...data }\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || bigNumberify(0)\n\t\t\t).add(bigNumberify(tx.withdrawAmountByToken[tx.feeTokenAddr]))\n\n\t\t\treturn updated\n\t\t},\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\n\t)\n\n\tconst data = IdentityInterface.functions.executeRoutines.encode([\n\t\troutineAuthTuple,\n\t\troutineOpts,\n\t])\n\n\tconst routinesTx = {\n\t\tidentityContract: identityAddr,\n\t\tto: identityAddr,\n\t\tdata,\n\t\twithdrawAmountByToken,\n\t\troutinesTxCount: routineOpts.length,\n\t\troutinesSweepTxCount: routineOpts.length,\n\t}\n\n\treturn routinesTx\n}\n\nfunction getIdentityRoutineAuthTuple(identity) {\n\treturn identity &&\n\t\tidentity.relayerData &&\n\t\tidentity.relayerData.deployData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t: null\n}\n\nfunction is41identity(routineAuthTuple) {\n\tconst is41 = routineAuthTuple && routineAuthTuple.length === 5\n\n\treturn is41\n}\n\nfunction hasValidExecuteRoutines(routineAuthTuple) {\n\tconst hasValidRoutines =\n\t\tis41identity(routineAuthTuple) &&\n\t\t// TODO: get relayer config for giveUpResubmitAfter\n\t\tparseInt(routineAuthTuple[2], 16) * 1000 > Date.now() + 12 * 60 * 60 * 1000\n\n\treturn hasValidRoutines\n}\n\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\n\tconst { wallet, identity } = account\n\t// TODO: pass withBalance as prop\n\tconst withBalance = selectChannelsWithUserBalances()\n\n\tconst { AdExCore } = await getEthers(wallet.authType)\n\tconst identityAddr = identity.address\n\tconst channelsToSweep = await getChannelsToSweepFrom({\n\t\tamountToSweep,\n\t\tidentityAddr,\n\t\twithBalance,\n\t})\n\n\tconst txns = channelsToSweep.map((c, i) => {\n\t\tconst {\n\t\t\tbTree,\n\t\t\t//  mTree,\n\t\t\tchannel,\n\t\t\tlastApprovedSigs,\n\t\t\toutstanding,\n\t\t\t// outstandingAvailable,\n\t\t\tbalance,\n\t\t} = c\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\n\n\t\tconst data = getChannelWithdrawData({\n\t\t\tidentityAddr,\n\t\t\tbalance,\n\t\t\t// mTree,\n\t\t\tbTree,\n\t\t\tlastApprovedSigs,\n\t\t\tethChannelTuple,\n\t\t})\n\n\t\treturn {\n\t\t\tidentityContract: identityAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tfeeTokenAddr: channel.depositAsset,\n\t\t\tdata,\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\n\t\t}\n\t})\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\n\tlet encodedTxns = null\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\n\t\tencodedTxns = [\n\t\t\tgetSweepExecuteRoutineTx({\n\t\t\t\ttxns,\n\t\t\t\tidentityAddr,\n\t\t\t\troutineAuthTuple,\n\t\t\t}),\n\t\t]\n\t} else {\n\t\tencodedTxns = txns.map(tx => {\n\t\t\ttx.data = Core.functions.channelWithdraw.encode(tx.data)\n\t\t\ttx.isSweepTx = true\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\treturn encodedTxns\n}\n\nfunction getSwapAmountsByToken({ balances }) {\n\tconst mainToken = selectMainToken()\n\tconst saiToken = selectSaiToken()\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\n\t\t(swaps, balance) => {\n\t\t\t// TODO: currently work only for SAI to DAI swap\n\t\t\tif (\n\t\t\t\tbalance.token.address !== mainToken.address &&\n\t\t\t\t// TEMP: remove that check when all tokens swaps are available\n\t\t\t\tbalance.token.address === saiToken.address\n\t\t\t) {\n\t\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\n\t\t\t\t\tbalance.balanceMainToken\n\t\t\t\t)\n\t\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\n\t\t\t}\n\t\t\treturn swaps\n\t\t},\n\t\t{\n\t\t\tswapsSumInMainToken: bigNumberify(0),\n\t\t\tswapsByToken: {},\n\t\t}\n\t)\n\n\treturn { swapsByToken, swapsSumInMainToken }\n}\n\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\n// amountNeeded must be in MainToken\nexport async function getSweepingTxnsIfNeeded({\n\tamountInMainTokenNeeded,\n\taccount,\n}) {\n\tconst needed = bigNumberify(amountInMainTokenNeeded)\n\tconst {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t} = account.stats.raw.identityWithdrawTokensBalancesBalances\n\n\tlet currentBalanceInUse = bigNumberify(mainTokenBalance)\n\n\tconst sweepData = {\n\t\tsweepTxns: [],\n\t\tswapAmountsByToken: {},\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\t// Swaps\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\n\t\t\tbalances,\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\n\t\t})\n\n\t\tsweepData.swapAmountsByToken = swapsByToken\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\n\t\t\taccount,\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\n\t\t})\n\t}\n\n\treturn sweepData\n}\n\nexport async function openChannel({\n\tcampaign,\n\taccount,\n\tgetFeesOnly,\n\tgetMaxFees,\n}) {\n\tconst { wallet, identity, stats } = account\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\n\tconst mainToken = selectMainFeeToken()\n\tconst depositAmount = getMaxFees\n\t\t? availableIdentityBalanceMainToken\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\n\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\n\tconst openReady = readyCampaign.openReady\n\tconst ethChannel = toEthereumChannel(openReady)\n\tconst channel = {\n\t\t...openReady,\n\t\tid: ethChannel.hashHex(AdExCore.address),\n\t}\n\tconst identityAddr = openReady.creator\n\tconst feeTokenAddr = mainToken.address\n\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\tconst hasIdentityChannelOpen = is41identity(routineAuthTuple)\n\n\tconst txns = []\n\n\tif (hasIdentityChannelOpen) {\n\t\tconst identityChannelOpenTx = {\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: identityAddr,\n\t\t\tdata: IdentityInterface.functions.channelOpen.encode([\n\t\t\t\tAdExCore.address,\n\t\t\t\tethChannel.toSolidityTuple(),\n\t\t\t]),\n\t\t\textraTxFeesCount: 1,\n\t\t}\n\t\ttxns.push(identityChannelOpenTx)\n\t} else {\n\t\tconst approveTxns = await getApproveTxns({\n\t\t\tgetToken,\n\t\t\ttoken: mainToken,\n\t\t\tidentityAddr,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tapproveForAddress: AdExCore.address,\n\t\t\tapproveAmount: depositAmount,\n\t\t})\n\n\t\tconst channelOpenTx = {\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\n\t\t}\n\t\ttxns.push(...approveTxns, channelOpenTx)\n\t}\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: depositAmount,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst { total, totalBN } = await getIdentityTxnsTotalFees({ txnsByFeeToken })\n\tconst bigZero = bigNumberify(0)\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\tconst maxAvailable = mtBalance.sub(totalBN).lt(bigZero)\n\t\t? bigZero\n\t\t: mtBalance.sub(totalBN)\n\tconst maxAvailableFormatted = formatTokenAmount(\n\t\tmaxAvailable.toString(),\n\t\tmainToken.decimals || 18,\n\t\tfalse,\n\t\ttrue\n\t)\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfeesFormatted: total,\n\t\t\tfees: totalBN,\n\t\t\tmaxAvailable,\n\t\t\tmaxAvailableFormatted,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t\textraData: { channel },\n\t})\n\n\treadyCampaign.id = channel.id\n\tconst storeCampaign = { ...readyCampaign }\n\tstoreCampaign.spec = { ...openReady.spec }\n\treturn {\n\t\tresult,\n\t\tstoreCampaign,\n\t}\n}\n\nexport async function closeChannel({ account, campaign }) {\n\tconst result = await closeCampaign({ account, campaign })\n\treturn result\n}\n","import Helper from 'helpers/miscHelpers'\nimport { getState } from 'actions'\nimport { selectAuthSig } from 'selectors'\nimport { isDemoMode } from 'services/store-data/auth'\nimport { t } from 'selectors'\n\nexport const handleRequesterErrorRes = ({ res, text }) => {\n\tlet message = text\n\ttry {\n\t\tconst textObj = JSON.parse(text)\n\t\tmessage =\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\n\t} catch {}\n\n\tthrow new Error(\n\t\tt('SERVICE_ERROR_MSG', {\n\t\t\targs: [res.url, res.status, res.statusText, message],\n\t\t})\n\t)\n}\n\nclass AdexNodeRequester {\n\tconstructor({ baseUrl }) {\n\t\tthis.baseUrl = baseUrl\n\t}\n\n\tgetAuthHeaders = ({ authSig } = {}) => {\n\t\tconst authSignature = selectAuthSig(getState())\n\t\treturn {\n\t\t\t'X-User-Signature': authSig || authSignature,\n\t\t}\n\t}\n\n\tnoCacheHeaders = {\n\t\t'Cache-Control': 'no-cache',\n\t\tExpires: '0',\n\t\tPragma: 'no-cache',\n\t}\n\n\tgetUrl = (base, route, query) => {\n\t\tlet url = base + '/'\n\t\tif (route) {\n\t\t\troute = route.replace(/^\\//, '')\n\t\t\turl += route\n\t\t}\n\n\t\turl += query\n\n\t\treturn url\n\t}\n\n\tfetch = ({\n\t\troute = '',\n\t\tqueryParams = {},\n\t\tmethod = 'GET',\n\t\tbody,\n\t\theaders = {},\n\t\tuserAddr,\n\t\tauthSig = '',\n\t\tauthToken,\n\t\tnoCache = false,\n\t}) => {\n\t\tconst qp = { ...queryParams }\n\t\tif (isDemoMode()) {\n\t\t\tqp.demo = true\n\t\t}\n\n\t\tconst query = Helper.getQuery(qp)\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\n\n\t\tconst hdrs = {\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\n\t\t\t...this.getAuthHeaders({ authSig }),\n\t\t\t...headers,\n\t\t}\n\t\treturn fetch(url, {\n\t\t\tmethod: method,\n\t\t\theaders: hdrs,\n\t\t\tbody: body,\n\t\t})\n\t}\n}\n\nexport default AdexNodeRequester\n","import requester from './requester'\n\nexport default requester\nexport * from './requester'\n","export default class Looper {\n\tconstructor({ timeout, syncAction, loopName = '' }) {\n\t\tif (!timeout) {\n\t\t\tthrow new Error('LOOPER timeout prop is required')\n\t\t}\n\n\t\tif (typeof syncAction !== 'function') {\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\n\t\t}\n\n\t\tthis.loopTimeout = null\n\t\tthis.timeout = timeout\n\t\tthis.syncAction = syncAction\n\t}\n\n\tclearLoopTimeout = () => {\n\t\tif (this.loopTimeout) {\n\t\t\tclearTimeout(this.loopTimeout)\n\t\t\tthis.loopTimeout = null\n\t\t}\n\t}\n\n\tsyncData = async opts => {\n\t\tawait this.syncAction()\n\t}\n\n\tstartLoop = async opts => {\n\t\ttry {\n\t\t\tawait this.syncData(opts)\n\t\t\tthis.checkLoop()\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\n\t\t\tthis.checkLoop()\n\t\t}\n\t}\n\n\tcheckLoop = () => {\n\t\tthis.clearLoopTimeout()\n\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\n\t}\n\n\tstart = () => {\n\t\tthis.clearLoopTimeout()\n\t\tthis.startLoop()\n\t}\n\n\tstop = () => {\n\t\tthis.clearLoopTimeout()\n\t}\n}\n","import Loop from './loop'\nimport { updateUserCampaigns, execute } from 'actions'\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\n\nconst LOOP_TIMEOUT =\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\n// It might be 30 seconds or so\n\nconst syncCampaigns = async updateStats => {\n\texecute(updateUserCampaigns(updateStats))\n}\n\nconst campaignsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => syncCampaigns(false),\n\tloopName: '_CAMPAIGNS',\n})\n\nconst campaignsLoopStats = new Loop({\n\ttimeout: LOOP_TIMEOUT * 2.5,\n\tsyncAction: () => syncCampaigns(true),\n\tloopName: '_CAMPAIGNS_STATS',\n})\nexport { campaignsLoop, campaignsLoopStats }\n","import Loop from './loop'\nimport {\n\texecute,\n\tupdateAccountAnalytics,\n\tupdateAccountCampaingsAnalytics,\n} from 'actions'\n\nconst LOOP_TIMEOUT = 120 * 1000\n\nconst analyticsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => execute(updateAccountAnalytics()),\n\tloopName: '_ANALYTICS',\n})\n\nconst analyticsCampaignsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => execute(updateAccountCampaingsAnalytics()),\n\tloopName: '_ANALYTICS_CAMPAIGNS_ADVANCED',\n})\n\nexport { analyticsLoop, analyticsCampaignsLoop }\n","import { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\n\nconst autocompleteLocationsSingleSelect = () => {\n\treturn constants.AllCountries.map(country => {\n\t\treturn {\n\t\t\tlabel: country.name,\n\t\t\tvalue: country.value,\n\t\t}\n\t})\n}\n\nconst autocompleteGendersSingleSelect = () => {\n\treturn constants.Genders.map(gender => {\n\t\treturn {\n\t\t\tlabel: translate(gender.split('_')[1]),\n\t\t\tvalue: gender,\n\t\t}\n\t})\n}\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nexport const AcLocations = autocompleteLocationsSingleSelect()\nexport const AcGenders = autocompleteGendersSingleSelect()\nexport const AcTags = autocompleteTagsSingleSelect()\n\nexport const SOURCES = {\n\tlocations: { src: AcLocations, collection: 'targeting' },\n\tgenders: { src: AcGenders, collection: 'targeting' },\n\ttags: { src: AcTags, collection: 'targeting' },\n\tcustom: { src: [], collection: 'targeting' },\n}\n","// Nodejs encryption with CTR\nconst crypto = require('crypto')\n\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\nconst CIPHER_ALG = 'aes-256-cbc'\nconst IV_LENGTH = 16\nconst HASH_ALG = 'sha256'\n\nconst getKeyHash = key => {\n\tconst hash = crypto.createHash(HASH_ALG)\n\thash.update(key)\n\tconst hashed = hash.digest()\n\treturn hashed\n}\n\nexport const encrypt = async (text, key) => {\n\tif (!text) return ''\n\tif (!key) {\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\n\t}\n\tconst iv = crypto.randomBytes(IV_LENGTH)\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst encr = cipher.update(text)\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\n\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\n}\n\nexport const decrypt = async (text, key) => {\n\tconst textParts = text.split(':')\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst decr = decipher.update(encryptedText)\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\n\n\treturn decrypted.toString()\n}\n\nexport const encryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\n\tcrypted += cipher.final('hex')\n\treturn crypted\n}\n\nexport const decryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\n\tlet dec = decipher.update(text, 'hex', 'utf8')\n\tdec += decipher.final('utf8')\n\treturn dec\n}\n","import { formatUnits, commify } from 'ethers/utils'\nimport MomentUtils from '@date-io/moment'\nconst moment = new MomentUtils()\n\nconst DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\n\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\n\tif (!timestamp) {\n\t\treturn 'no date'\n\t}\n\tconst date = moment.date(timestamp)\n\treturn date.format(format)\n}\n\nexport const formatTokenAmount = (\n\tamountString,\n\tdecimals = 18,\n\tpretty,\n\ttoFixed\n) => {\n\tconst formatted = formatUnits(amountString, decimals)\n\tif (pretty) {\n\t\treturn commify(formatted)\n\t} else if (typeof toFixed === 'number') {\n\t\treturn parseFloat(formatted).toFixed(toFixed)\n\t} else {\n\t\treturn formatted\n\t}\n}\n\nexport const formatAddress = (address = '') => {\n\treturn `${address.substring(0, 8)}...${address.substring(36, 42)}`\n}\n\nexport const formatNumberWithCommas = x => {\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n}\n\nexport const formatNumberWithoutCommas = x => {\n\treturn x\n\t\t.toString()\n\t\t.split(',')\n\t\t.join('')\n}\n\nexport const formatAbbrNum = (number, decPlaces) => {\n\t// 2 decimal places => 100, 3 => 1000, etc\n\tdecPlaces = Math.pow(10, decPlaces)\n\n\t// Enumerate number abbreviations\n\tvar abbrev = ['k', 'm', 'b', 't']\n\n\t// Go through the array backwards, so we do the largest first\n\tfor (var i = abbrev.length - 1; i >= 0; i--) {\n\t\t// Convert array index to \"1000\", \"1000000\", etc\n\t\tvar size = Math.pow(10, (i + 1) * 3)\n\n\t\t// If the number is bigger or equal do the abbreviation\n\t\tif (size <= number) {\n\t\t\t// Here, we multiply by decPlaces, round, and then divide by decPlaces.\n\t\t\t// This gives us nice rounding to a particular decimal place.\n\t\t\tnumber = Math.round((number * decPlaces) / size) / decPlaces\n\n\t\t\t// Handle special case where we round up to the next abbreviation\n\t\t\tif (number == 1000 && i < abbrev.length - 1) {\n\t\t\t\tnumber = 1\n\t\t\t\ti++\n\t\t\t}\n\n\t\t\t// Add the letter for the abbreviation\n\t\t\tnumber += abbrev[i]\n\n\t\t\t// We are done... stop\n\t\t\tbreak\n\t\t}\n\t}\n\n\treturn number\n}\n\nexport const truncateString = (string, maxLength = 50) => {\n\tif (!string) return ''\n\tif (string.length <= maxLength) return string\n\treturn `${string.substring(0, maxLength).trim()}...`\n}\n","import { exchange as ExchangeConstants } from 'adex-constants'\nimport { constants } from 'adex-models'\n\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\nconst { SignatureModes } = constants\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nexport const AVATAR_MAX_WIDTH = 600\nexport const AVATAR_MAX_HEIGHT = 400\n\nexport const SORT_PROPERTIES_BIDS = [\n\t{ value: '_state', label: '' },\n\t{ value: '_target', label: '' },\n\t{ value: '_amount', label: '' },\n\t{ value: '_timeout', label: '' },\n]\n\nexport const FILTER_PROPERTIES_BIDS = {\n\t_state: {\n\t\tlabel: '_state',\n\t\tlabelIsProp: true,\n\t\tvalues: Object.keys(BID_STATES).map(key => {\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\n\t\t}),\n\t},\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\n}\n\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\n}\n\nexport const SORT_PROPERTIES_ITEMS = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n\t{ value: 'type' },\n]\n\nexport const SORT_PROPERTIES_COLLECTION = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n]\n\nexport const FILTER_PROPERTIES_ITEMS = {\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\n}\n\nexport const AUTH_TYPES = {\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\n\tLEDGER: { name: 'ledger', signType: SignatureModes.GETH, limit: 0 },\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\n}\n\nexport const NETWORK_STATUS = {\n\t0: 'pending',\n\t1: 'success',\n\t2: 'failed',\n}\n\nexport const ETHEREUM_NETWORKS = {\n\t1: { name: 'Mainnet', for: 'production' },\n\t5: { name: 'Goerli', for: 'development' },\n\tproduction: { name: 'Mainnet', for: 'production' },\n\tdevelopment: { name: 'Goerli', for: 'development' },\n}\n\nexport const SORT_PROPERTIES_CAMPAIGN = [\n\t{ value: 'created', label: 'Created' },\n\t{ value: 'status.name', label: 'Status' },\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\n\t{ value: 'activeFrom', label: 'Starts' },\n\t{ value: 'depositAmount', label: 'depositAmount' },\n\t{ value: 'maxPerImpression', label: 'cpm' },\n]\n\nexport const FILTER_PROPERTIES_CAMPAIGN = {\n\t'status.name': {\n\t\tlabel: 'ststus',\n\t\tlabelIsProp: true,\n\t\tvalues: [\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\n\t\t\t{ value: 'Offline', label: 'Offline' },\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\n\t\t\t{ value: 'Ready', label: 'Ready' },\n\t\t\t{ value: 'Active', label: 'Active' },\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\n\t\t\t{ value: 'Expired', label: 'Expired' },\n\t\t],\n\t},\n}\n\nexport const UTM_PARAMS = {\n\tutm_source: 'ADEX',\n\tutm_medium: 'CPM',\n\tutm_campaign: 'none',\n\tutm_content: 'none',\n}\n\nexport const VALIDATOR_ANALYTICS_METRICS = [\n\t'eventPayouts', //\n\t'eventCounts',\n]\nexport const VALIDATOR_ANALYTICS_SIDES = [\n\t'advertiser',\n\t'publisher', //\n]\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = [\n\t'IMPRESSION', //\n\t'CLICK',\n]\n\n// TEMP: disable long periods\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\n\t{ label: 'LABEL_HOUR', value: 'hour' },\n\t{ label: 'LABEL_DAY', value: 'day' },\n\t{ label: 'LABEL_WEEK', value: 'week' },\n\t// { label: 'LABEL_MONTH', value: 'month' },\n\t// { label: 'LABEL_YEAR', value: 'year' },\n]\n\nexport const MOON_GRAVITY_ACCELERATION = 1.625\nexport const MOON_TO_EARTH_WEIGHT = 0.166\n\nexport const WALLET_ACTIONS_MSGS = {\n\t[AUTH_TYPES.METAMASK.name]: [\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\n\t],\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\n\t[AUTH_TYPES.LEDGER.name]: [{ message: 'LEDGER_WAITING_ACTION' }],\n\t[AUTH_TYPES.QUICK.name]: [\n\t\t{ message: 'QUICK_WAITING_MSG' },\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\n\t],\n\t[AUTH_TYPES.GRANT.name]: [\n\t\t{ message: 'GRANT_WAITING_MSG' },\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\n\t],\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\n}\n","import adexTranslations from 'adex-translations'\nimport { renderToString } from 'react-dom/server'\n\nconst translations = adexTranslations()\n\nlet lang = 'en-US'\n\n// TODO: sanitization\nconst interpolate = (tpl, args) => {\n\tif (typeof tpl !== 'string') {\n\t\treturn ''\n\t}\n\n\treturn tpl.replace(/\\${(\\w+)}/g, (_, v) => {\n\t\tlet arg = args[v]\n\t\tif (typeof arg === 'object' && !!arg && arg.component) {\n\t\t\treturn renderToString(arg.component)\n\t\t} else {\n\t\t\treturn arg || ''\n\t\t}\n\t})\n}\n\nexport const translate = (\n\tval = '',\n\t{ isProp = false, args = [''] } = {},\n\tlanguage = lang\n) => {\n\tlet key = val + ''\n\tif (isProp) {\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\n\t}\n\n\tkey = key.toUpperCase()\n\n\tlet translation = translations[language][key] || val\n\n\tif (args.length && Array.isArray(args)) {\n\t\tconst translatedArgs = args.map(a => {\n\t\t\tif (typeof a === 'string') {\n\t\t\t\treturn translations[language][a] || a\n\t\t\t} else {\n\t\t\t\treturn a\n\t\t\t}\n\t\t})\n\n\t\ttranslation = interpolate(translation, translatedArgs)\n\t}\n\n\treturn translation\n}\n\n// TODO: fix that\nexport const setLang = lng => {\n\tlang = lng\n}\n","import { createHashHistory } from 'history'\n\nconst history = createHashHistory()\n\nexport default history\n","import Loop from './loop'\nimport { execute, updateAccountStats } from 'actions'\n\nconst LOOP_TIMEOUT = 60 * 1000\n\nconst accountStatsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => execute(updateAccountStats()),\n\tloopName: '_ACCOUNTS_STATS',\n})\n\nexport default accountStatsLoop\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\n\nlet initialState = {\n\taccount: new Account(),\n\tsignin: {\n\t\tname: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\tpassConfirm: '',\n\t\tseed: '',\n\t\tpublicKey: '',\n\t\tseedCheck: [],\n\t\tauthenticated: false,\n\t},\n\tnewItem: {\n\t\tCampaign: new Campaign().plainObj(),\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\n\t\tAdSlot: new AdSlot().plainObj(),\n\t},\n\tcurrentItem: {},\n\titems: {\n\t\tCampaign: {},\n\t\tAdUnit: {},\n\t\tAdSlot: {},\n\t},\n\tspinners: {},\n\tui: {},\n\ttoasts: [],\n\tconfirm: {\n\t\tdata: {},\n\t},\n\tnav: {\n\t\tside: '',\n\t},\n\tlanguage: 'en-US',\n\tvalidations: {},\n\tnewTransactions: {\n\t\tdefault: {},\n\t},\n\tweb3Transactions: {},\n\ttags: {},\n\tidentity: {},\n\tethNetwork: {\n\t\tnetworkId: null,\n\t\tgasData: {},\n\t},\n\twallet: {},\n\tconfig: {\n\t\trelayer: {},\n\t\tmarket: {},\n\t\tvalidators: {},\n\t},\n\tanalytics: { timeframe: 'day' },\n\tchannels: {\n\t\twithBalance: [],\n\t},\n}\n\nexport default initialState\n","import { ethers, constants } from 'ethers'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { isEthAddress } from 'helpers/validators'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\n\nexport const isEthAddressERC20 = async (addr = '', authType) => {\n\ttry {\n\t\tif (isEthAddress(addr)) {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\t\tawait Promise.all([\n\t\t\t\tcontract.totalSupply(),\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\n\t\t\t])\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t} catch (error) {\n\t\treturn false\n\t}\n}\n\nexport const getERC20Balance = async ({\n\taddr = '',\n\tbalanceFor = '',\n\tauthType,\n}) => {\n\ttry {\n\t\tconst { provider } = await getEthers(authType)\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\tconst balance = await contract.balanceOf(balanceFor)\n\n\t\treturn balance\n\t} catch (error) {\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\n\t\treturn null\n\t}\n}\n","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAABACAYAAAAzvWouAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAETtJREFUeJztnWu0XEWVgL9cLnB5JBeQgAgUlQBCCYaExwyMIsyIvBR5DwKiiQ8YdA2IQQYxGHQYB1iAS3FgBkFgAFmACgKKIENiSEAihtdgMTxiUQQJitwESAARMj92NTldfbr7dN9zu/sm9a11V3Keu7pP7zq7du29a8yKFSvIorSZCBwPHABMAMZSzRTv7EPkoLS5Evh03rGSeAVYCNwOXOqd/f0IykokRj1jxowBoL+yQ2nTD/wrMB1YszvNaspYYKfwN11pcx4w0zv7VneblUj0Nn0ASps1gJ8Ap9O7Sh6zJvA14Meh/YlEog6VN/rZwEHdbMgwOBj4BjCjUwKVNhcDJ0a7J6ahRHGUNhOA84HDsvu9s2O606JVm77whU/vdkOGyVeUNqqD8tbP2TfYQfmrAoPAI91uxOpCH/BPjB5zvR5rIZ8jkUjk0Afs3+1GlMQB3W5AItGr9AHbdrsRJbF1txuQSPQqfcA63W5EScTz/YlEItDX7QYkEomRJyl6IrEakBQ9kVgN6AcObfGaFBSSSIwy+r2zN3e7EYlEYmRJpnsisRrQ3/yURC+jtNkaOA74MLA5sAGwIfA68DywHJgPXOid/d8RkP9RYCqwS0Z2haeA+4DbvLM3jIDsDYFTgY8AWwCbZQ4PAUuB+4ErvbO/KFt+ph3bANOAvUMb8p7BfcAF3tnHR7AdA8B7QxveAp4APCRFH7UobT4DfBXYps4pA0g9AYAdgGlKGwfM8M5eW4L8rwOfBRrlGGwT/o5T2vwHcKZ39j9LkD0R+B6NoyE3DH8aOEppsxS4yDt7ZuY+LwLvylxzm3e2cHKX0uZ44DTqB2vFz+BzSpuFwFeLdHxKm3OAf4l2fzJ+fkqb3YEvhHaMBd4fDj2HdIBJ0UcbSpu/Aa5Geu5W0cA1SptpwEe8syuanJ8nfzJwI/U7mHpsDFyitPk4cGyrcjPyTwO+Cazd4qWDwAylzVHIZ38GeeNnFX2oYBv2AP6b1r8DgInA9Uqbad7ZZmHbrzdpx3rAeYgl8b6cU96o/Ccp+iiiyY98CPgt8DDwF2Bd5C2yC9XmNIiZv1hpM8k7+0IL8g8BLgHe3Xrr3+EAYB5tJCEpbb4JnNn0xMZsCzygtMlTjCJtOBOpg9DoGTyCPIMBYEfyn8H+SpvngR29s39uox3jge8jSt40c7JfaTO1RRm3eGdfarVhieGhtJmBVACKuRv4HdL7/xUpt/UiMC7sexDYBPgQK81Iwr75Shtd5M2utDkYuIh8JX8WsIip+FzY14f8uN8CDNK5VDDAd4GbmsnNyJ9JvpIPIRbGCuClIK/ClohCbg7smdm/MXAH0FLuu9LmW8hwKWYWMh5eEraXAH9GPv8bSOc7DvkOJmauezfwm2hfkXasCVyGPNNC6dH9wBWtCAGmIF9ookOEsWCs5AuBa5Ef03Xe2XsbXL9r+O8C4PDsIUTZDmkif1vgW4TxXoalyNvrOuCH3tml0XVrAPsgadA/R4qDVN5sOyFvvaYobXYkX8EuDv9a4Hrv7J9yrt0aOBD4A7A7sFU4NAXpFAuhtDkppw0LgZsRPfqBd/bhBtfvjaRT/wY4KnNogtLmh97ZY4q2BSm0MgVx+mV5Hng8/LsC6fiBZLr3PEHJvhvtXgDMBn7rnf1ps3t4Zx8IzruzEKX7eObwvkqbD3hn59WR34eYiLGp+wrwM+AE7+yrdeS+BdyhtLkTqchzFvApxJQF2K1Z2wM3U2sqnxM+y0zv7LJ6F3pnnwYuUtpcDvw7sC+wfThcKBFKaWOQsXCWBchsxq3e2dnN7uGdna20mQecC/wIOCJz+FClzRTv7IMFmrM5MBmxViq8gHT6Z3hn38ieXCkOmebRe5/rqf6RDwFzgauKKHkF7+zbwEykt38mc2gdZNxfj8+Q73S6AfEA5yp5JHuFd/ZixJy9lIJOLwClzbHUerX/C3jbO3tqIyWP2rDcO3sy8t0tbXZ+xA3UPoMHkOmy2UVv4p19E/gK8DLgMocGkE6oCEcCe2S2Hwc+5J2dHit5lqToPUxwfk2Jdl8K3O6dbbkMUxiLn478OLLsobSJzcDKWPBI5C2S5T7g+Fa99mFa6D3A11u47MvR9hDyuz2rFdkZvggUjidQ2hyDONSyXAdc7p19qlXhwcqZSW0Zrb2UNmsVuMUrrDTZfw/s4p19otlFSdF7m3gOdTawxnCCP7yzS4BfsdJxBPJWz3N0fYyVY9oKLwHHBAuhHc5FPN93NTtRabM2tUOGWxGfxJvtCPfO/gWxCIoSdzT3AC94Z+e3Iz+0YRHwGNXPYACZk29Gxbp6HfiYd3Z5EZlJ0XuUEPW1e7T7/5BAkeFyI/B0tG/nnPMOALaL9j3onXXtCvbOvoZ4qG8rcPoMRAGyvOKdndWu/MC1iAOvIUqbTVjpT6jgKOcZ3IbMlmT5+wLXVcbmN3pn4+vrkhS9d/l8tL0QWBYCPYZFMDljj3PVmzss6BGb7FBOWe2rkWmhZmP1uKN7GFg0XOHBGllc4NSTou2FwPMlTS/PJxPQEpiQd2IOSxHfSWGSovcu+0Xb85E3YVm8GG2vqbTJzslOonb6y3lnfz1cwd7Zl5GAnmbme+yEewr5HsrggQLn7B1tPwIM+/MDeGf/ijgns8TWSz3mhesLk6bXepe4d98BGK+0+XDeyW2wa7S9BfIGr3ikJwPjo3OeL0k2iEXxKOLsK8r6SORZGdyAeMAb8Z5o2yDx6keX1IbJ0fZmSptNC0QrFvXQv0NS9N4l7t3fn3tWuWTDNLektnBoTUDKMHiIBrHiIdgm7uz+FAflDIPnmp9S8wy2o9ZnUTbrNjm+2Ds7t9WbJtO9d9ms+Smlk13Dro9aB11Zb1OQsNmNGhwf6aq+Rebyu/EMmk2xtWVVJUVPVHiV6kCSvDjwQsEpBRmicXZWnrXZcrZdPbyzzTLDauIKOsByJJimEUUskRr6y1zUzjs7FSlCkCifyynB49yAjah+W5SmVHV4FUkuqUees6m032qbK/BeQ+20ZJmMp3nUXlsO2TRGHz1s4J39XAfl5Sl6mb+XQaozzWKWI2/9rN+gzLdsnDYa81rOvnW8s2eV2IZ2+EM7FyXTvXeJq+2uFQI4OsUa1I7J43Dc4TAeeavnEiLY4nH0mqHYQhnkBQhl5b9B7TMYDGHB3aRQJFxMUvTeJR5DDiKpnZ3iZWqDaho5z1plAtXVXeq1Ict6yPx+GezR/JSaZzCWlZlv3aKt0OOk6L1LPB6fBHywg/IfRzzjWcpckNNQGxkWEweU7EhtEEu7/F2Bc+Loue2BfyhJfkdJit67xPX2NwB2VtqU5pBqwoNUT7cBaKXNcMpIZRmgughGHjdG2xtQ7E1chCKWwf9E24NIxdlRR1L03uX7VGc3gUSuHdgJ4SHDKm+qp5UU01xCFdcxNC+hdC214/QtlTb7DlP+XhSre/e9HPk6FOgcVfQrbVpdqeUU72zuskyh3E4rps3d3tm4ekrlXhOAb7fSMO9sw5JIownv7JtKm7lIqmiFKcDJSps7Wo11bpMXEIdUNkLtcKS08HD4FLBps5O8s68qbR6m2lyfDHxZaTOr3VRV4MIiJ3lnlypt5lOdd7ADcLbSZr92quh2i37g4BavOavBsZ1bvF/8xsoy2OK9VkXOQAoKZkNR/xb4N2pz1dtCaTPQIHjkZmRcWlVUUmlzsXe2LWVX2rwXeZtOLXjJ14BfUh0aujuirP/chvzjaOJxjzgbKSwZyz+dNmLO67Rp7UbVYcogme49jHf2UeDOaPc44HClzfTh3l9p81ngKaXNuDryH0IKTcTm6zSlTbOa5Hny1kUUpGitOELRyzjTbBDYLyxw0Ir8XZBKtoUJceVzot1jgROUNnEqccsobb4EPFGwukzbJEXvfY6mNhpra+BEpc1loQpLSyhtxiptfoIUndwcGQvX4xpqO5sB4EqlzQdakDmI1ITfhZVv1KJJMv+IDCOybAt8QWlzd1gSqZn8mUi9uEoq7iLyg2LyOBZ4Mtq3FXCG0uY77UTZKW02UtrcglgMCvmeR4yk6D1OqMhyLLVTPVsjlURnK22mhUIRDVHabKi0uRipmXYoK83RPZQ2ufPD4Y26mNoaZ5sAdyltLmw2E6C0ORApK74X1d7u2c3aHNrwAjCd2mCRsUhVlllKmzlKm7OVNrspbbTSZnulzdFKmx8pbZ5BhpzZbLRHqc3Oqyf/JaTWXBxnrpEhyDylzVGhYm5DlDabKm0uQ4KRDkJiAwD2UdqMWBJNP9KrxnnHo5E/dln+g0qbMu83zzv7QQDv7P1hoY0rqM6oGkTGizsgTrpnkLfWfUjM9AASlHIokl45ifzQz3chddsPq9OWGUG2ojoMdQA4BRlKLAB+ipRBHkCcbXsj6bXjqc29/hVwLwXz0b2z1ypttkC8/nEq5xbhb09kTN+MWYifo/Dwwzv7yzBcOp/q+vbjEL/JZcgbfiHyDO5FIv/WQWL6D0OskB3JDzzaEBnzTy3aplboR8rz7DMSN+8wD3W7ASVTZVZ6Z+9Q2nwCMfG2jM4di0TN7UR1zfYiLANuRzzhuQTv9ynABUhd9DjmXIW/orMeT4Rzp7bSUO/suUobi4yzGy3u2Ih7kCqsj7V6oXf2eqXNK8jCEXHRzPWRjnQSxb+HCsuQTnLEchn6gB+P1M07zKryOerinZ2DKPMcykkZ/R1wonf2yDBEaCR7EeLlvosChRUbcKd3tu3iDd7ZW5Bx/u20tmLQI0hBxqne2XuGIf/niBU1l3KegUXq4x87klOmfcBV1IY6jjY8cGUH5XXCt5E77vXODnln90JMwbm0nuSwDBmjzwB29c5eXfRC7+wfgU8AP0BM72a501kWAV/0zmbnpAuNkXPa8aJ39kAkruAipI7b01Qr3qtI1dxfIyufnuydPcg7u7AdmZH8xd7ZPZF16efR/jM4DZjkna0Xy1JaFGS/d/Y1pc0JSG83Gp1zbwOfD9lOneI2pFDhSNJwKOKdvRO4U2mzFTLfvi0y3z2W6mSRZYjH2iOx498G7m032CMsQHC+0uYSROmPQObFB6hO+HgN8Zs4pA57XEv9dWT1k29k9rVUeNE76wmVWpU2A0ik3XhEQZYDz3ln6xVqyOtkWlIs7+xNwE1Km+2Q+nMTEQfdOKqfwXLEofks8p2c550tUpzyPqq/HxATv2XGrFghzzsEElyOrGfViClhfrUGpc2VwKdbkH9VKFaRd6/JSLx1I94EpvloYfjVGSXL6W6GeHPfQJxyz450RxgcZRsjCrQM8GGxiJ5EafNJpOx0lgu8s6eWcO9Nkc5vPaTDWwIsGkYkX9tU1l57Z0rGO3u10uYx4Dt0NkuqXeYAXyq4MN1qg5cVRcss4lhU7iJGtgJO2cTx8ksoqcptmA4svO58J6iae/XOLgD2VNpMAvZHTJG4EmYjB0ir1Skbnf8S4j/I8joyFvtFiBpLJNolTkx5BJkaXCV5x3RPJFYXlDYfpXZJqJ8BRzQrGjnaSMsmJ1ZLlDYbIbMGWYaAJ1c1Jc+SFD2x2hAWrnwUCd/NMovOTs92nKToiVFBiNNfEmLXd2jj+lOQCqrxMktzgCe8sw+X0c5eJZV7TowWTkJi+w9HYusXI0p6K2C9s1UVa0NK6q5IHPoh5Mf4L0Cy0krJK+9lkjMuMSpQ2gxRbl33BcD9yNz5SC7K0FVq5tETiV5FabM7Mt1ahqIPIZlm6wPnhOi6VZ6k6InRwJNIFJtGUlT3oflKKzFDSIGNN5GAohkdDpvuKsl0T4walDbrI9Vm3ofE9Pcjse3rIBltWeW/C1FuF7bfRqyCK0L04GpBxXRPip4YlYSlmXZDClpsyspFGVcgySl94f8OmOudfbwLzew6FUVPJBKJRCKxKvD/nMIJeWSO8QEAAAAASUVORK5CYII=\"","export const CREATING_SESSION = 'CREATING_SESSION'\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\nexport const UPDATING_ACCOUNT_IDENTITY = 'UPDATING_ACCOUNT_IDENTITY'\n","import { store } from 'store'\n\nexport const execute = store.dispatch\n\nexport const dispatch = store.dispatch\n\nexport const getState = store.getState\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport * as types from 'constants/actionTypes'\nimport Helper from 'helpers/miscHelpers'\nimport { translate } from 'services/translations/translations'\n\nexport function updateSpinner(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SPINNER,\n\t\t\tspinner: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function updateUi(item, value, category) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_UI,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t\tcategory: category,\n\t\t})\n\t}\n}\n\nexport function addToast({\n\ttype,\n\taction,\n\tlabel = '',\n\ttimeout = false,\n\tunclosable,\n\tanchorOrigin,\n\ttop,\n}) {\n\treturn function(dispatch) {\n\t\tconst id = Helper.getGuid()\n\t\tdispatch({\n\t\t\ttype: types.ADD_TOAST,\n\t\t\ttoast: {\n\t\t\t\ttype,\n\t\t\t\taction,\n\t\t\t\tlabel,\n\t\t\t\ttimeout,\n\t\t\t\tunclosable,\n\t\t\t\tanchorOrigin,\n\t\t\t\ttop,\n\t\t\t\tid,\n\t\t\t},\n\t\t})\n\n\t\treturn id\n\t}\n}\n\nexport function removeToast(toastId) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.REMOVE_TOAST,\n\t\t\ttoast: toastId,\n\t\t})\n\t}\n}\n\nexport function confirmAction(\n\tonConfirm,\n\tonCancel,\n\t{ confirmLabel = '', cancelLabel = '', title = '', text = '' } = {},\n\tnoActionBtns,\n\tactive\n) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CONFIRM_ACTION,\n\t\t\tconfirm: {\n\t\t\t\tonConfirm: onConfirm,\n\t\t\t\tonCancel: onCancel,\n\t\t\t\tdata: {\n\t\t\t\t\tconfirmLabel: confirmLabel,\n\t\t\t\t\tcancelLabel: cancelLabel,\n\t\t\t\t\ttitle: title,\n\t\t\t\t\ttext: text,\n\t\t\t\t},\n\t\t\t\tnoActionBtns,\n\t\t\t\tactive,\n\t\t\t},\n\t\t})\n\t}\n}\n\nexport function updateNav(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NAV,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function changeLanguage(lang) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CHANGE_LANGUAGE,\n\t\t\tlang: lang,\n\t\t})\n\t}\n}\n\nexport function updateRegistrationAllowed(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\n\t\t\tupdateUi('allowRegistration', true)(dispatch)\n\t\t}\n\t}\n}\n\nexport function refreshCacheAndReload({ version, notification = false }) {\n\treturn function(dispatch) {\n\t\ttry {\n\t\t\tif (notification) {\n\t\t\t} else {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'accept',\n\t\t\t\t\taction: (\n\t\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (caches) {\n\t\t\t\t\t\t\t\t\t// Service worker cache should be cleared with caches.delete()\n\t\t\t\t\t\t\t\t\tcaches.keys().then(async function(names) {\n\t\t\t\t\t\t\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.location.reload(true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{translate('REFRESH')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t),\n\t\t\t\t\tlabel: translate('SUCCESS_UPDATING_NEW_APP_VERSION', {\n\t\t\t\t\t\targs: [version],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_APP'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function handleRedirectParams(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('confirm-email')\n\t\tconst identity = searchParams.get('confirm-identity')\n\t\tconst grant = searchParams.get('confirm-grant')\n\n\t\tif (email && identity && !grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL', {\n\t\t\t\t\targs: [email, identity],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} else if (email && identity && grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL_GRANT', {\n\t\t\t\t\targs: [email, identity, grant],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n","export const getErrorMsg = err => {\n\tif (!err) {\n\t\treturn ''\n\t} else if (typeof err === 'object') {\n\t\treturn err.msg || err.message || err.errMsg || err.error\n\t} else if (Array.isArray(err)) {\n\t\treturn err.join(', ')\n\t} else {\n\t\treturn err\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\tuploadImage,\n\tpostAdUnit,\n\tpostAdSlot,\n\tupdateAdSlot,\n\tupdateAdUnit,\n\tupdateCampaign,\n} from 'services/adex-market/actions'\nimport { parseUnits, bigNumberify } from 'ethers/utils'\nimport { Base, AdSlot, AdUnit, helpers, Campaign } from 'adex-models'\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\n\nimport { translate } from 'services/translations/translations'\nimport { getAdUnits, getAdSlots } from 'services/adex-market/actions'\n\nimport initialState from 'store/initialState'\nimport { getMediaSize } from 'helpers/mediaHelpers'\nimport { getErrorMsg } from 'helpers/errors'\nimport { SOURCES } from 'constants/targeting'\nimport { selectRelayerConfig, selectAuthSig } from 'selectors'\n\nconst addToast = ({ type, toastStr, args, dispatch }) => {\n\treturn AddToastUi({\n\t\tdispatch: dispatch,\n\t\ttype: type,\n\t\tlabel: translate(toastStr, { args: args }),\n\t\ttimeout: 5000,\n\t})(dispatch)\n}\n\nconst getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\n\treturn fetch(tempUrl)\n\t\t.then(resp => {\n\t\t\treturn resp.blob()\n\t\t})\n\t\t.then(imgBlob => {\n\t\t\tURL.revokeObjectURL(tempUrl)\n\t\t\treturn uploadImage({\n\t\t\t\timageBlob: imgBlob,\n\t\t\t\timageName: 'image.jpeg',\n\t\t\t\tauthSig: authSig,\n\t\t\t})\n\t\t})\n}\n\nexport function updateNewItem(item, newValues, itemType, objModel) {\n\titem = Base.updateObject({ item, newValues, objModel })\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\titem,\n\t\t\titemType,\n\t\t})\n\t}\n}\n\nexport function resetNewItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function resetAllNewItems() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_NEW_ITEMS,\n\t\t})\n\t}\n}\n\n// register item\nexport function addUnit(item) {\n\tconst newItem = { ...item }\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\tauthSig,\n\t\t\t})).ipfs\n\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\n\t\t\tnewItem.mediaMime = newItem.temp.mime\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tconst resItem = await postAdUnit({\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\n\t\t\t\titemType: 'AdUnit',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function addSlot(item) {\n\tconst newItem = { ...item }\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst { mainToken } = selectRelayerConfig()\n\t\t\tlet fallbackUnit = null\n\t\t\tif (newItem.temp.useFallback) {\n\t\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\t\tauthSig,\n\t\t\t\t})).ipfs\n\n\t\t\t\tconst unit = new AdUnit({\n\t\t\t\t\ttype: newItem.type,\n\t\t\t\t\tmediaUrl: `ipfs://${imageIpfs}`,\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\n\t\t\t\t\tmediaMime: newItem.temp.mime,\n\t\t\t\t\tcreated: Date.now(),\n\t\t\t\t\ttitle: newItem.title,\n\t\t\t\t\tdescription: newItem.description,\n\t\t\t\t\ttargeting: [],\n\t\t\t\t\ttags: [],\n\t\t\t\t\tpassback: true,\n\t\t\t\t})\n\n\t\t\t\tconst resUnit = await postAdUnit({\n\t\t\t\t\tunit: unit.marketAdd,\n\t\t\t\t\tauthSig,\n\t\t\t\t})\n\n\t\t\t\tfallbackUnit = resUnit.ipfs\n\t\t\t}\n\n\t\t\tnewItem.fallbackUnit = fallbackUnit\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tif (newItem.temp.minPerImpression) {\n\t\t\t\tnewItem.minPerImpression = {\n\t\t\t\t\t[mainToken.address]: parseUnits(\n\t\t\t\t\t\tnewItem.temp.minPerImpression,\n\t\t\t\t\t\tmainToken.decimals\n\t\t\t\t\t)\n\t\t\t\t\t\t.div(bigNumberify(1000))\n\t\t\t\t\t\t.toString(),\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst resItem = await postAdSlot({\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\n\t\t\t\titemType: 'AdSlot',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdSlot', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\n\t\t\t\targs: ['AdSlot', err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function getAllItems() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst { account } = getState().persist\n\t\t\tconst { address } = account.identity\n\t\t\tconst units = getAdUnits({ identity: address })\n\t\t\tconst slots = getAdSlots({ identity: address })\n\n\t\t\tconst [resUnits, resSlots] = await Promise.all([units, slots])\n\n\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\n\t\t\tupdateItems({ items: resSlots, itemType: 'AdSlot' })(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\n\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t})\n\t\t}\n\t}\n}\n\n// Accepts the entire new item and replace so be careful!\nexport function updateItem({ item, itemType } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner('update' + item.id, true)(dispatch)\n\t\ttry {\n\t\t\tconst { account } = getState().persist\n\t\t\tconst { authSig } = account.wallet\n\t\t\tconst { mainToken } = selectRelayerConfig()\n\n\t\t\tlet updatedItem = null\n\t\t\tlet objModel = null\n\n\t\t\tconst { id } = item\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tif (item.temp.minPerImpression) {\n\t\t\t\t\t\titem.minPerImpression = {\n\t\t\t\t\t\t\t[mainToken.address]: parseUnits(\n\t\t\t\t\t\t\t\titem.temp.minPerImpression,\n\t\t\t\t\t\t\t\tmainToken.decimals\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.div(bigNumberify(1000))\n\t\t\t\t\t\t\t\t.toString(),\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst slot = new AdSlot(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id, authSig })).slot\n\t\t\t\t\tobjModel = AdSlot\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tconst unit = new AdUnit(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id, authSig })).unit\n\t\t\t\t\tobjModel = AdUnit\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tconst campaign = new Campaign(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id, authSig }))\n\t\t\t\t\t\t.campaign\n\t\t\t\t\tobjModel = Campaign\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\n\t\t\t}\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\n\t\t\t\titemType,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_UPDATING_ITEM',\n\t\t\t\targs: [itemType, item.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_UPDATING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t\tupdateSpinner('update' + item.id, false)(dispatch)\n\t}\n}\n\nexport function deleteItem({ item, objModel, authSig } = {}) {\n\titem = { ...item }\n\titem._deleted = true\n\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\n}\n\nexport function restoreItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._deleted = false\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_RESTORE_ITEM',\n\t\terrMsg: 'ERR_RESTORING_ITEM',\n\t})\n}\n\nconst findSourceByTag = tag => {\n\treturn Object.keys(SOURCES).find(\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\n\t)\n}\n\nexport function cloneItem({ item, itemType, objModel } = {}) {\n\treturn async function(dispatch) {\n\t\ttry {\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\n\t\t\tnewItem.id = ''\n\t\t\tnewItem.temp = {\n\t\t\t\t...initialState.newItem[itemType].temp,\n\t\t\t\ttargets: item.targeting.map((t, index) => {\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\n\t\t\t\t\treturn {\n\t\t\t\t\t\tkey: index,\n\t\t\t\t\t\tcollection: 'targeting',\n\t\t\t\t\t\tsource: key,\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\ttarget: { ...t },\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t}\n\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\n\t\t\t\tnewItem.mediaUrl,\n\t\t\t\tprocess.env.IPFS_GATEWAY\n\t\t\t)\n\n\t\t\tconst response = await fetch(tempUrl)\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\n\t\t\tconst mediaSize = await getMediaSize({\n\t\t\t\tmime: newItem.mediaMime,\n\t\t\t\tsrc: mediaURL,\n\t\t\t})\n\n\t\t\tconst temp = {\n\t\t\t\t...newItem.temp,\n\t\t\t\tmime: item.mediaMime,\n\t\t\t\ttempUrl: mediaURL,\n\t\t\t\twidth: mediaSize.width,\n\t\t\t\theight: mediaSize.height,\n\t\t\t}\n\n\t\t\tnewItem.temp = temp\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\t\titem: newItem,\n\t\t\t\titemType,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error(err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function archiveItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._archived = true\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_ARCHIVING_ITEM',\n\t\terrMsg: 'ERR_ARCHIVING_ITEM',\n\t})\n}\n\nexport function unarchiveItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._archived = false\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_UNARCHIVING_ITEM',\n\t\terrMsg: 'ERR_UNARCHIVING_ITEM',\n\t})\n}\n\nexport function setCurrentItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.SET_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function updateCurrentItem(item, newMeta) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t\tmeta: newMeta,\n\t\t})\n\t}\n}\n\nexport function updateItems({ items, itemType }) {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\n\t\t\titems: items,\n\t\t\titemType: itemType,\n\t\t})\n\t}\n}\n\nexport const resetAllItems = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_ITEMS,\n\t\t})\n\t}\n}\n\nexport const updateTags = ({ tags }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_TAGS,\n\t\t\ttags: tags,\n\t\t})\n\t}\n}\n\nexport const addNewTag = ({ tag }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_NEW_TAG,\n\t\t\ttag: tag,\n\t\t})\n\t}\n}\n","export const addSig = ({\n\taddr = '',\n\tsig,\n\tmode,\n\texpiryTime,\n\tidentity = 'notset',\n}) => {\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\n\t\tthrow new Error('addSig - all args are required')\n\t}\n\n\tlocalStorage.setItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\n\t\tsig + '-' + expiryTime\n\t)\n}\n\nexport const getSig = ({ addr = '', identity = '', mode }) => {\n\tlet sigAndTIme = localStorage.getItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\n\t)\n\n\tif (!sigAndTIme) {\n\t\treturn null\n\t}\n\n\tsigAndTIme = sigAndTIme.split('-')\n\tlet sig = sigAndTIme[0]\n\tlet time = sigAndTIme[1]\n\n\tif (!time || parseInt(time, 10) <= Date.now()) {\n\t\treturn null\n\t} else {\n\t\treturn sig\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { addSig, getSig } from 'services/auth/auth'\nimport { getSession, checkSession } from 'services/adex-market/actions'\nimport {\n\tgetRelayerConfigData,\n\tgetQuickWallet,\n\tbackupWallet,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { updateSpinner } from './uiActions'\nimport { translate } from 'services/translations/translations'\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\nimport {\n\tremoveLegacyKey,\n\tgetWalletHash,\n\tgenerateSalt,\n\tgetRecoveryWalletData,\n} from 'services/wallet/wallet'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport {\n\tgetAccountStats,\n\tgetOutstandingBalance,\n} from 'services/smart-contracts/actions/stats'\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\nimport { addToast, confirmAction } from './uiActions'\nimport {\n\tgetEthers,\n\tgetEthereumProvider,\n\tethereumSelectedAddress,\n\tethereumNetworkId,\n} from 'services/smart-contracts/ethers'\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\nimport {\n\tselectAccount,\n\tselectIdentity,\n\tselectAuth,\n\tselectWallet,\n\tselectSearchParams,\n\tselectAuthType,\n} from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { getErrorMsg } from 'helpers/errors'\nimport { push } from 'connected-react-router'\nimport {\n\tCREATING_SESSION,\n\tQUICK_WALLET_BACKUP,\n\tUPDATING_ACCOUNT_IDENTITY,\n} from 'constants/spinners'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\n// MEMORY STORAGE\nexport function updateSignin(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SIGNIN,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetSignin() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_SIGNIN,\n\t\t})\n\t}\n}\n\n// PERSISTENT STORAGE\nexport function createAccount(acc) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CREATE_ACCOUNT,\n\t\t\taccount: acc,\n\t\t})\n\t}\n}\n\n// LOGOUT\nexport function resetAccount() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ACCOUNT,\n\t\t})\n\t}\n}\n\nexport function updateAccount({ meta, newValues }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ACCOUNT,\n\t\t\tmeta: meta,\n\t\t\tnewValues: newValues,\n\t\t})\n\t}\n}\n\nexport function updateChannelsWithBalance({ withBalance }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_BALANCE,\n\t\t\twithBalance,\n\t\t})\n\t}\n}\n\nexport function resetChannelsWithBalance() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_CHANNELS_WITH_BALANCE,\n\t\t})\n\t}\n}\n\nexport function updateGasData({ gasData }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_GAS_DATA,\n\t\t\tgasData: gasData,\n\t\t})\n\t}\n}\n\nexport function updateAccountStats() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account } = getState().persist\n\t\ttry {\n\t\t\tconst { identity, wallet } = account\n\t\t\tconst { address } = identity\n\t\t\tconst withBalance =\n\t\t\t\t(await getChannelsWithOutstanding({\n\t\t\t\t\tidentityAddr: address,\n\t\t\t\t\twallet,\n\t\t\t\t})) || account.stats.withBalance\n\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\n\t\t\t\twallet,\n\t\t\t\taddress,\n\t\t\t\twithBalance,\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\n\t\t\t})\n\n\t\t\tconst { formatted, raw } = await getAccountStats({\n\t\t\t\taccount,\n\t\t\t\toutstandingBalanceMainToken,\n\t\t\t})\n\t\t\tupdateChannelsWithBalance({ withBalance })(dispatch)\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { stats: { formatted, raw } },\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_STATS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAccountIdentityData() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\n\t\ttry {\n\t\t\tconst relayerData = await getIdentityData({\n\t\t\t\tidentityAddr: identity.address,\n\t\t\t})\n\n\t\t\tconst updatedIdentity = { ...identity }\n\n\t\t\tupdatedIdentity.currentPrivileges = relayerData.currentPrivileges\n\t\t\tupdatedIdentity.isLimitedVolume = relayerData.isLimitedVolume\n\t\t\tupdatedIdentity.relayerData = relayerData\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { identity: updatedIdentity },\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_ACCOUNT_IDENTITY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\n\t}\n}\n\nexport function updateValidatorAuthTokens({ newAuth }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { identity } = getState().persist.account\n\n\t\tconst newIdentity = { ...identity }\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\n\n\t\t// We don't want to update account if there is no actual change\n\t\tif (\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\n\t\t\tJSON.stringify(newTokens)\n\t\t) {\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\n\t\t}\n\t}\n}\n\nexport function createSession({\n\twallet,\n\tidentity = {},\n\temail,\n\tdeleteLegacyKey,\n}) {\n\treturn async function(dispatch) {\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\n\t\ttry {\n\t\t\tconst newWallet = { ...wallet }\n\t\t\tconst sessionSignature =\n\t\t\t\tgetSig({\n\t\t\t\t\taddr: newWallet.address,\n\t\t\t\t\tmode: newWallet.authType,\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t}) || null\n\n\t\t\tconst hasSession =\n\t\t\t\t!!sessionSignature &&\n\t\t\t\t(await checkSession({\n\t\t\t\t\tauthSig: sessionSignature,\n\t\t\t\t\tskipErrToast: true,\n\t\t\t\t}))\n\n\t\t\tif (hasSession) {\n\t\t\t\tnewWallet.authSig = sessionSignature\n\t\t\t} else {\n\t\t\t\tconst {\n\t\t\t\t\tsignature,\n\t\t\t\t\tmode,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\n\n\t\t\t\tconst { status, expiryTime } = await getSession({\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\tmode: mode,\n\t\t\t\t\tsignature,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t\tsignerAddress: newWallet.address,\n\t\t\t\t})\n\n\t\t\t\tif (status === 'OK') {\n\t\t\t\t\taddSig({\n\t\t\t\t\t\taddr: wallet.address,\n\t\t\t\t\t\tsig: signature,\n\t\t\t\t\t\tmode: wallet.authType,\n\t\t\t\t\t\texpiryTime: expiryTime,\n\t\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\t})\n\t\t\t\t\tnewWallet.authSig = signature\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst account = {\n\t\t\t\temail: email,\n\t\t\t\twallet: newWallet,\n\t\t\t\tidentity: { ...identity },\n\t\t\t}\n\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taccount.identity.validatorAuthTokens = {\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\n\t\t\t}\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { ...account },\n\t\t\t})(dispatch)\n\n\t\t\tif (deleteLegacyKey) {\n\t\t\t\tawait removeLegacyKey({\n\t\t\t\t\temail: wallet.email,\n\t\t\t\t\tpassword: wallet.password,\n\t\t\t\t})\n\t\t\t}\n\t\t\tdispatch(push('/side-select'))\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\n\t}\n}\n\nexport function getRelayerConfig() {\n\treturn async function(dispatch) {\n\t\tconst cfg = await getRelayerConfigData()\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\n\t\t\tcfg,\n\t\t})\n\t}\n}\n\nasync function getNetworkId() {\n\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\n\tconst networkId = (await provider.getNetwork()).chainId\n\n\treturn networkId\n}\n\nasync function getNetworkData({ id }) {\n\tconst networkId = id || (await getNetworkId())\n\tconst network = ETHEREUM_NETWORKS[networkId] || {}\n\n\treturn network\n}\n\nexport function onMetamaskNetworkChange({ id } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst searchParams = selectSearchParams(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst isMetamaskMatters =\n\t\t\t(authType === AUTH_TYPES.METAMASK.name ||\n\t\t\t\t(!authType && searchParams.get('external') === 'metamask')) &&\n\t\t\t(await getEthereumProvider()) === AUTH_TYPES.METAMASK.name\n\n\t\tif (\n\t\t\tisMetamaskMatters &&\n\t\t\tprocess.env.NODE_ENV !== (await getNetworkData({ id })).for\n\t\t) {\n\t\t\tconfirmAction(\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\ttitle: translate('WARNING'),\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\ttrue\n\t\t\t)(dispatch)\n\t\t} else {\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\n\t\t}\n\t}\n}\n\nexport const onMetamaskAccountChange = accountAddress => {\n\treturn async function(_, getState) {\n\t\tconst state = getState()\n\t\tconst hasAuth = selectAuth(state)\n\t\tconst account = selectAccount(state)\n\t\tconst { authType, address } = account.wallet\n\n\t\tif (\n\t\t\thasAuth &&\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\n\t\t\t(!accountAddress || address !== accountAddress)\n\t\t) {\n\t\t\tlogOut()\n\t\t} else if (!hasAuth) {\n\t\t\tconst identity = selectIdentity(state)\n\t\t\tconst { identityContractOwner } = identity\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\n\t\t}\n\t}\n}\n\nexport function metamaskAccountCheck() {\n\treturn async function(_, getState) {\n\t\tconst address = await ethereumSelectedAddress()\n\t\tonMetamaskAccountChange(address)(_, getState)\n\t}\n}\n\nexport function metamaskNetworkCheck() {\n\treturn async function(_, getState) {\n\t\tconst id = await ethereumNetworkId()\n\t\tonMetamaskNetworkChange({ id })(_, getState)\n\t}\n}\n\nexport function metamaskChecks() {\n\treturn async function(_, getState) {\n\t\tmetamaskNetworkCheck()(_, getState)\n\t\tmetamaskAccountCheck()(_, getState)\n\t\tif (window.ethereum) {\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\n\t\t\t\tconsole.log('acc changed', accounts[0])\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\n\t\t\t})\n\t\t\twindow.ethereum.on('networkChanged', network => {\n\t\t\t\tconsole.log('networkChanged', network)\n\t\t\t\tonMetamaskNetworkChange({ id: network })(_, getState)\n\t\t\t})\n\t\t}\n\t}\n}\n\nasync function hasBackup({ email, password }) {\n\tconst salt = generateSalt(email)\n\tconst hash = await getWalletHash({ salt, password })\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\n\n\treturn !!encryptedWallet && encryptedWallet.wallet\n}\n\nasync function makeBackup({ email, password, authType }) {\n\tconst walletSalt = generateSalt(email)\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\n\tconst encryptedWallet = await getRecoveryWalletData({\n\t\temail,\n\t\tpassword,\n\t\tauthType,\n\t})\n\n\tawait backupWallet({\n\t\temail,\n\t\tsalt: walletSalt,\n\t\thash: walletHash,\n\t\tencryptedWallet,\n\t})\n}\n\nexport function ensureQuickWalletBackup() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\n\t\ttry {\n\t\t\tconst { email, password, authType } = selectWallet(getState())\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\n\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\n\t\t\t\tawait makeBackup({ email, password, authType })\n\t\t\t}\n\t\t} catch (err) {}\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { updateSpinner } from './uiActions'\nimport { validEthAddress, freeAdExENS } from '../helpers/validators'\nimport { translate } from 'services/translations/translations'\nimport { addToast } from './uiActions'\nimport { getERC20Balance } from 'services/smart-contracts/actions/erc20'\nimport { formatUnits, bigNumberify, parseUnits } from 'ethers/utils'\nimport { validations, Joi, schemas, constants } from 'adex-models'\nimport { validEmail, validPassword } from 'helpers/validators'\nimport { t } from 'selectors'\nimport { getErrorMsg } from 'helpers/errors'\nconst { IdentityPrivilegeLevel } = constants\n\nconst { campaignPut } = schemas\nconst { isNumberString } = validations\n\nexport function validateAddress({ addr, dirty, validate, name, setBalance }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { wallet, identity } = getState().persist.account\n\t\tconst { authType } = wallet\n\t\tconst isValid = false\n\t\ttry {\n\t\t\tif (validate) validate(name, { isValid: false })\n\t\t\tupdateSpinner(name, dirty)(dispatch)\n\t\t\tconst { msg } = await validEthAddress({\n\t\t\t\taddr,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tnonERC20: !setBalance,\n\t\t\t\tauthType,\n\t\t\t})\n\t\t\tconst isValid = !msg\n\n\t\t\tif (typeof setBalance === 'function') {\n\t\t\t\tconst balance =\n\t\t\t\t\t(await getERC20Balance({\n\t\t\t\t\t\taddr,\n\t\t\t\t\t\tauthType,\n\t\t\t\t\t\tbalanceFor: identity.address,\n\t\t\t\t\t})) || bigNumberify('0')\n\t\t\t\tsetBalance(formatUnits(balance, 18))\n\t\t\t}\n\t\t\tif (validate)\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(name, false)(dispatch)\n\t}\n}\n\nexport function updateValidationErrors(item, newErrors) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\terrors: newErrors,\n\t\t})\n\t}\n}\n\nexport function resetValidationErrors(item, key) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\tkey,\n\t\t})\n\t}\n}\n\nexport function validate(\n\tvalidateId,\n\tkey,\n\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n) {\n\treturn async function(dispatch, getState) {\n\t\tif (!isValid) {\n\t\t\tlet errors = {}\n\t\t\terrors[key] = {\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\n\t\t\t\tdirty: dirty,\n\t\t\t}\n\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\n\t\t} else if (removeAll) {\n\t\t\tresetValidationErrors(validateId)(dispatch)\n\t\t} else {\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\n\t\t}\n\t}\n}\n\nexport const handleAfterValidation = async ({\n\tisValid,\n\tonValid,\n\tonInvalid,\n}) => {\n\tif (isValid && typeof onValid === 'function') {\n\t\tawait onValid()\n\t}\n\tif (!isValid && typeof onInvalid === 'function') {\n\t\tawait onInvalid()\n\t}\n}\n\nexport function validateEmail(validateId, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = validEmail(email)\n\t\tvalidate(validateId, 'email', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_EMAIL' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\n\t\tvalidate(validateId, 'emailCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePassword(validateId, password, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = validPassword(password)\n\t\tvalidate(validateId, 'password', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PASSWORD' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePasswordCheck(\n\tvalidateId,\n\tpasswordCheck,\n\tpassword,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\n\t\tvalidate(validateId, 'passwordCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateTOS(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'tosCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateENS({ ens, dirty, validate, name }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { authType } = getState().persist.account.wallet\n\t\ttry {\n\t\t\tif (validate) validate(name, { isValid: false })\n\t\t\tupdateSpinner(name, dirty)(dispatch)\n\t\t\tconst { msg } = await freeAdExENS({\n\t\t\t\tens,\n\t\t\t\tauthType,\n\t\t\t})\n\t\t\tconst isValid = !msg\n\t\t\tupdateSpinner(name, false)(dispatch)\n\t\t\tif (validate)\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\n\t\t} catch (error) {\n\t\t\tconsole.error('ERR_VALIDATING_ENS_ADDRESS', error)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_ENS_ADDRESS', { args: [error] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\nexport function validateWallet(validateId, wallet, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!wallet && !!wallet.address\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateIdentityContractOwner(\n\tvalidateId,\n\tidentityContractOwner,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!identityContractOwner\n\t\tvalidate(validateId, 'identityContractOwner', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateAccessWarning(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'accessWarningCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignUnits(validateId, adUnits, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!adUnits && adUnits.length\n\t\tvalidate(validateId, 'adUnits', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignValidators({ validateId, validators, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\t!!validators &&\n\t\t\tvalidators.length === 2 &&\n\t\t\t!!validators[0] &&\n\t\t\t!!validators[1] &&\n\t\t\t!!validators[0].id &&\n\t\t\t!!validators[0].url &&\n\t\t\tvalidators[0].feeNum !== undefined &&\n\t\t\tvalidators[0].feeDen !== undefined &&\n\t\t\tvalidators[0].feeAddr !== undefined &&\n\t\t\t!!validators[1].id &&\n\t\t\t!!validators[1].url &&\n\t\t\tvalidators[1].feeNum !== undefined &&\n\t\t\tvalidators[1].feeDen !== undefined &&\n\t\t\tvalidators[0].feeAddr !== undefined\n\n\t\tvalidate(validateId, 'validators', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nconst validateAmounts = ({\n\tmaxDeposit = bigNumberify(0),\n\tdepositAmount,\n\tminPerImpression,\n}) => {\n\tlet error = null\n\tif (!depositAmount.isZero() && depositAmount.gt(maxDeposit)) {\n\t\terror = {\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\n\t\t\tprop: 'depositAmount',\n\t\t}\n\t}\n\tif (!depositAmount.isZero() && depositAmount.lt(minPerImpression)) {\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\n\t}\n\tif (depositAmount.lte(bigNumberify(0))) {\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\n\t}\n\tif (minPerImpression.lte(bigNumberify(0))) {\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\n\t}\n\n\treturn { error }\n}\n\nexport function validateNumberString({ validateId, prop, value, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = isNumberString(value)\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_INVALID_AMOUNT' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignAmount({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\terrMsg,\n\tdepositAmount,\n\tminPerImpression,\n\tmaxDeposit,\n\tdecimals,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValidNumber = isNumberString(value)\n\t\tlet isValid = isValidNumber && parseUnits(value, decimals)\n\t\tlet msg = errMsg || 'ERR_INVALID_AMOUNT'\n\n\t\tif (isValid) {\n\t\t\tconst deposit = prop === 'depositAmount' ? value : depositAmount\n\t\t\tconst min = prop === 'minPerImpression' ? value : minPerImpression\n\n\t\t\tconst isValidDeposit = isNumberString(deposit)\n\t\t\tconst isValidMin = isNumberString(min)\n\n\t\t\tif (isValidDeposit && isValidMin) {\n\t\t\t\tconst result = validateAmounts({\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t\tdepositAmount: parseUnits(deposit, decimals),\n\t\t\t\t\tminPerImpression: parseUnits(min, decimals),\n\t\t\t\t})\n\n\t\t\t\tisValid = !result.error\n\t\t\t\tmsg = result.error ? result.error.message : ''\n\t\t\t}\n\t\t}\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nconst MIN_CAMPAIGN_PERIOD = 1 * 60 * 60 * 1000 // 1 hour\n\nconst getCampaignDatesValidation = ({\n\tcreated = Date.now(),\n\twithdrawPeriodStart,\n\tactiveFrom,\n}) => {\n\tlet error = null\n\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'withdrawPeriodStart' }\n\t} else if (\n\t\twithdrawPeriodStart &&\n\t\tactiveFrom &&\n\t\twithdrawPeriodStart - activeFrom < MIN_CAMPAIGN_PERIOD\n\t) {\n\t\terror = {\n\t\t\tmessage: 'ERR_MIN_CAMPAIGN_PERIOD',\n\t\t\targs: ['1', 'HOUR'],\n\t\t\tprop: 'withdrawPeriodStart',\n\t\t}\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\n\t} else if (activeFrom && activeFrom < created) {\n\t\terror = { message: 'ERR_START_BEFORE_NOW' }\n\t} else if (activeFrom && !withdrawPeriodStart) {\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\n\t}\n\n\treturn { error }\n}\n\nexport function validateCampaignDates({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\twithdrawPeriodStart,\n\tactiveFrom,\n\tcreated,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst withdraw =\n\t\t\tprop === 'withdrawPeriodStart' ? value : withdrawPeriodStart\n\t\tconst from = prop === 'activeFrom' ? value : activeFrom\n\n\t\tconst result = getCampaignDatesValidation({\n\t\t\twithdrawPeriodStart: withdraw,\n\t\t\tactiveFrom: from,\n\t\t\tcreated,\n\t\t})\n\n\t\tvalidate(validateId, 'activeFrom', {\n\t\t\tisValid: !!from,\n\t\t\terr: {\n\t\t\t\tmsg: 'ERR_NO_DATE_SET',\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tvalidate(validateId, 'withdrawPeriodStart', {\n\t\t\tisValid: !(result.error && result.error.prop === 'withdrawPeriodStart'),\n\t\t\terr: {\n\t\t\t\tmsg: result.error ? result.error.message : '',\n\t\t\t\targs: result.error && (result.error.args || []),\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tconst isValid = !result.error\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignTitle({ validateId, title, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst result = Joi.validate(title, campaignPut.title)\n\n\t\tconst isValid = !result.error\n\n\t\tvalidate(validateId, 'title', {\n\t\t\tisValid,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEthAddress({\n\tvalidateId,\n\tprop,\n\taddr,\n\tnonZeroAddr = true,\n\tnonERC20 = true,\n\tdirty,\n\tauthType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { msg } = await validEthAddress({\n\t\t\taddr,\n\t\t\tnonZeroAddr,\n\t\t\tnonERC20,\n\t\t\tauthType,\n\t\t})\n\n\t\tconst isValid = !msg\n\n\t\tawait validate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePrivilegesAddress({\n\tvalidateId,\n\tsetAddr = '',\n\twalletAddr = '',\n\tcurrentPrivileges,\n\tprivLevel,\n\tauthType,\n\twarningAccepted,\n\tdirty,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst isCurrentAddress =\n\t\t\tsetAddr && setAddr.toLowerCase() === walletAddr.toLowerCase()\n\t\tlet isValid = warningAccepted || !isCurrentAddress\n\n\t\tlet msg = ''\n\t\tconst args = [`PRIV_${privLevel}_LABEL`, authType.toUpperCase()]\n\t\tif (isCurrentAddress && privLevel === 0) {\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_0'\n\t\t} else if (isCurrentAddress && privLevel === 1) {\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_1'\n\t\t} else if (isCurrentAddress && privLevel >= 2) {\n\t\t\tisValid = true\n\t\t} else if (!isCurrentAddress) {\n\t\t\tisValid = true\n\t\t}\n\n\t\tawait validate(validateId, 'setAddrWarning', {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn { isValid, msg }\n\t}\n}\n\nexport function validatePrivLevel({ validateId, privLevel, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\tObject.values(IdentityPrivilegeLevel).indexOf(privLevel) > -1\n\t\tawait validate(validateId, 'privLevel', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PRIV_LEVEL_NOT_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { getQuickWallet } from 'services/adex-relayer/actions'\nimport { updateSpinner, addToast, handleAfterValidation } from 'actions'\nimport {\n\tgetOwnerIdentities,\n\tregAccount,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { translate } from 'services/translations/translations'\nimport { createSession } from './accountActions'\n\nimport {\n\tgetIdentityDeployData,\n\twithdrawFromIdentity,\n\taddIdentityENS,\n\tsetIdentityPrivilege,\n} from 'services/smart-contracts/actions/identity'\nimport {\n\taddDataToWallet,\n\tgetWalletHash,\n\tgetLocalWallet,\n\tmigrateLegacyWallet,\n\twalletInfo,\n\tcreateLocalWallet,\n\tgenerateSalt,\n} from 'services/wallet/wallet'\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\nimport { selectAccount, selectIdentity } from 'selectors'\nimport { AUTH_TYPES } from 'constants/misc'\nimport {\n\tvalidate,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tvalidateTOS,\n\tvalidateWallet,\n\tvalidateIdentityContractOwner,\n\tvalidateAccessWarning,\n} from './validationActions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tGETTING_OWNER_IDENTITIES,\n\tUPLOADING_ACCOUNT_DATA,\n} from 'constants/spinners'\n\n// MEMORY STORAGE\nexport function updateIdentity(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetIdentity() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\t}\n}\n\nexport function initIdentity({ email, authType }) {\n\treturn function(dispatch) {\n\t\tdispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\n\t\tdispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'email',\n\t\t\tvalue: email,\n\t\t})\n\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'authType',\n\t\t\tvalue: authType,\n\t\t})\n\t}\n}\n\n// MEMORY STORAGE\nexport function updateWallet(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WALLET,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetWallet() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WALLET,\n\t\t})\n\t}\n}\n\nexport function onUploadLocalWallet(event) {\n\treturn async function(dispatch) {\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\tconst file = event.target.files[0]\n\t\tconst reader = new FileReader()\n\n\t\treader.onload = ev => {\n\t\t\ttry {\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\n\t\t\t\tif (\n\t\t\t\t\t!obj ||\n\t\t\t\t\t!obj.key ||\n\t\t\t\t\t!obj.wallet ||\n\t\t\t\t\t!obj.wallet.data ||\n\t\t\t\t\t!obj.wallet.identity ||\n\t\t\t\t\t!obj.wallet.privileges\n\t\t\t\t) {\n\t\t\t\t\tthrow new Error(translate('INVALID_JSON_DATA'))\n\t\t\t\t} else {\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\n\t\t\t\t\taddToast({\n\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\tlabel: translate('SUCCESS_UPLOADING_ACCOUNT_DATA'),\n\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t})(dispatch)\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\t\targs: [err.message],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\t}\n\n\t\tconst onError = err => {\n\t\t\tconsole.error('Error uploading account data.', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\n\t\t}\n\n\t\treader.onerror = ev => {\n\t\t\treader.abort()\n\t\t\tonError(translate())\n\t\t}\n\n\t\treader.onabort = ev => {\n\t\t\tonError(translate('ABORTING_DATA_UPLOAD'))\n\t\t}\n\n\t\treader.readAsText(file)\n\t}\n}\n\nexport function setIdentityENS({ username }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await addIdentityENS({\n\t\t\t\tusername,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('ENS_SETUP_NOTIFICATION', { args: [username] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_SETTING_ENS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_SETTING_ENS', {\n\t\t\t\t\targs: [err],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function identityWithdraw({\n\tamountToWithdraw,\n\twithdrawTo,\n\ttokenAddress,\n}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await withdrawFromIdentity({\n\t\t\t\taccount,\n\t\t\t\tamountToWithdraw,\n\t\t\t\twithdrawTo,\n\t\t\t\ttokenAddress,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function ownerIdentities({ owner }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\n\t\ttry {\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\n\t\t\tconst data = Object.entries(identityData).map(\n\t\t\t\tasync ([identityAddr, privLevel]) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst data = await getIdentityData({ identityAddr })\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tidentity: identityAddr,\n\t\t\t\t\t\t\tprivLevel,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch {\n\t\t\t\t\t\treturn null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\n\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_OWNER_IDENTITIES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\n\t}\n}\n\nexport function addrIdentityPrivilege({ setAddr, privLevel }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await setIdentityPrivilege({\n\t\t\t\taccount,\n\t\t\t\tsetAddr,\n\t\t\t\tprivLevel,\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [result],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function login() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst {\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tidentityData,\n\t\t\t\tidentityTxData,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t\tregisterAccount,\n\t\t\t} = selectIdentity(getState())\n\n\t\t\tif (registerAccount) {\n\t\t\t\tawait regAccount({\n\t\t\t\t\towner: wallet.address,\n\t\t\t\t\temail: email.toLowerCase(),\n\t\t\t\t\t...identityTxData,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst relayerData = await getIdentityData({\n\t\t\t\tidentityAddr: identityData.address,\n\t\t\t})\n\n\t\t\tconst identity = {\n\t\t\t\t...identityData,\n\t\t\t\taddress: relayerData.deployData._id,\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\n\t\t\t\trelayerData,\n\t\t\t}\n\n\t\t\tawait createSession({\n\t\t\t\tidentity,\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_LOGIN', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateQuickLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { password, email, authType } = identity\n\n\t\tlet wallet = {}\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\n\t\tlet actualAuthType = authType\n\n\t\ttry {\n\t\t\tif (email && password) {\n\t\t\t\tlet walletData = await getLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t})\n\n\t\t\t\tif (!walletData) {\n\t\t\t\t\tconst salt = generateSalt(email)\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\n\t\t\t\t\tconst { encryptedWallet } =\n\t\t\t\t\t\t(await getQuickWallet({\n\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t})) || {}\n\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tbackupWallet.wallet &&\n\t\t\t\t\t\tbackupWallet.key &&\n\t\t\t\t\t\tbackupWallet.wallet.data &&\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\n\t\t\t\t\t\tbackupWallet.wallet.privileges\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\n\t\t\t\t\t\tactualAuthType = info.authType\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\n\n\t\t\t\t\t\twalletData = await getLocalWallet({\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t\tpassword,\n\t\t\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\n\t\t\t\t\twallet = { ...walletData.data }\n\t\t\t\t\twallet.email = email\n\t\t\t\t\twallet.password = password\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\n\t\t\t\t\twallet.identity = {\n\t\t\t\t\t\taddress: walletData.identity,\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!authType) {\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\n\t\t\terror = err\n\t\t}\n\n\t\tconst isValid = !!wallet.address\n\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tif (isValid) {\n\t\t\tawait login()(dispatch, getState)\n\t\t}\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateStandardLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst identity = selectIdentity(getState())\n\t\t\tconst { wallet, identityContractAddress } = identity\n\t\t\tconst { address } = wallet\n\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\n\t\t\tconst identityData = {\n\t\t\t\taddress: identityDataSplit[0],\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\n\t\t\t}\n\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\tconst isValid = !!identityData.address\n\n\t\t\tvalidate(validateId, 'identityContractAddress', {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\n\t\t\t\tdirty: dirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_STANDARD_LOGIN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\n\treturn async function(dispatch, getState) {\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, wallet } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\n\t\t\tif (!identityAddr && wallet && !!email) {\n\t\t\t\tconst walletAddr = wallet.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: txData.identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_FULL_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickDeploy({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, password } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && email && password\n\n\t\t\tif (!identityAddr && email && password) {\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\n\n\t\t\t\tconst walletData = await createLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t})\n\n\t\t\t\twalletData.email = email\n\t\t\t\twalletData.password = password\n\n\t\t\t\tconst walletAddr = walletData.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\n\t\t\t\tconst identityAddr = txData.identityAddr\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'identity',\n\t\t\t\t\tdataValue: identityAddr,\n\t\t\t\t})\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'privileges',\n\t\t\t\t\tdataValue: identityData.privileges,\n\t\t\t\t})\n\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = !!identityAddr\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_QUICK_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\tpassword,\n\t\t\tpasswordCheck,\n\t\t\ttosCheck,\n\t\t\taccessWarningCheck,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateEmail(validateId, email, dirty)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\t\t}\n\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\twallet,\n\t\t\tidentityContractOwner,\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\ttosCheck,\n\t\t\taccessWarningCheck,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\t// validate wallet again in case of step skip\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\n\t\t\t// validate step fields\n\t\t\tvalidateEmail(validateId, email, dirty)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateFullDeploy({\n\t\t\t\tvalidateId,\n\t\t\t\tdirty,\n\t\t\t\tskipSpinnerUpdate: true,\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateContractOwner({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityContractOwner, wallet } = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function updateIdentityWallet({\n\taddress,\n\tauthType,\n\thdWalletAddrPath,\n\thdWalletAddrIdx,\n\tpath,\n\tchainId,\n\tsignType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst wallet = {\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tpath,\n\t\t\tchainId,\n\t\t\tsignType,\n\t\t}\n\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\n\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t}\n}\n\nexport function handleSignupLink(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('signup-email')\n\n\t\tif (email) {\n\t\t\tupdateIdentity('email', email)(dispatch)\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\n\t\t}\n\t}\n}\n","import * as types from 'constants/actionTypes'\n\n// MEMORY STORAGE\nexport function updateNewBid({ bidId, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetNewBid({ bidId }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\n\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_BIDS,\n\t\t\tadvBids: advBids,\n\t\t\tpubBids: pubBids,\n\t\t\tbidsById: bidsById,\n\t\t})\n\t}\n}\nexport const resetAllBids = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_BIDS,\n\t\t})\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\tupdateSpinner,\n\taddToast,\n\thandleAfterValidation,\n\tvalidate,\n\tupdateAccountIdentityData,\n\tvalidateEthAddress,\n\tvalidatePrivilegesAddress,\n\tvalidatePrivLevel,\n} from 'actions'\nimport {\n\tselectNewTransactionById,\n\tselectAccountIdentityCurrentPrivileges,\n\tselectWalletAddress,\n\tselectAuthType,\n} from 'selectors'\n\n// MEMORY STORAGE\nexport function updateNewTransaction({ tx, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetNewTransaction({ tx }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\nexport function addWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\tif (!tx || !tx.hash || !addr) return\n\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\n\t\t\tvalue: tx,\n\t\t\ttx: tx.hash,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\n// TODO: make update multiple\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function resetWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function validatePrivilegesChange({\n\tstepsId,\n\tvalidateId,\n\ttxId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tawait updateAccountIdentityData()\n\n\t\tconst state = getState()\n\t\tconst { setAddr, warningAccepted, privLevel } = selectNewTransactionById(\n\t\t\tstate,\n\t\t\tstepsId\n\t\t)\n\t\tconst walletAddr = selectWalletAddress(state)\n\t\tconst { currentPrivileges } = selectAccountIdentityCurrentPrivileges(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: setAddr,\n\t\t\t\tprop: 'setAddr',\n\t\t\t\tnonERC20: true,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidatePrivLevel({\n\t\t\t\tvalidateId,\n\t\t\t\tprivLevel,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tconst validation = await validatePrivilegesAddress({\n\t\t\t\tvalidateId,\n\t\t\t\tsetAddr,\n\t\t\t\twalletAddr,\n\t\t\t\tcurrentPrivileges,\n\t\t\t\twarningAccepted,\n\t\t\t\tprivLevel,\n\t\t\t\tdirty,\n\t\t\t\tauthType,\n\t\t\t})(dispatch)\n\n\t\t\tisValid = validation.isValid\n\n\t\t\tawait updateNewTransaction({\n\t\t\t\ttx: stepsId,\n\t\t\t\tkey: 'warningMsg',\n\t\t\t\tvalue: validation.msg,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import moment from 'moment'\n\nexport const intervalsMs = () => {\n\tconst nowUTC = moment.utc()\n\n\t// TODO: Make it dynamic\n\tconst lastSixHoursPeriod = Math.floor(\n\t\t(nowUTC.clone().valueOf() - nowUTC.clone().startOf('day')) /\n\t\t\t(6 * 60 * 60 * 1000)\n\t)\n\treturn {\n\t\tlastHour: {\n\t\t\tstart: moment()\n\t\t\t\t.startOf('minute')\n\t\t\t\t.subtract(1, 'hours'),\n\t\t\tend: moment().startOf('minute'),\n\t\t},\n\t\tlast24Hours: {\n\t\t\tstart: moment()\n\t\t\t\t.subtract(1, 'day')\n\t\t\t\t.startOf('hour')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.startOf('hour')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tlast7Days: {\n\t\t\tstart: nowUTC\n\t\t\t\t.clone()\n\t\t\t\t.startOf('day')\n\t\t\t\t.add(lastSixHoursPeriod * 6, 'hours')\n\t\t\t\t.subtract(7, 'days')\n\t\t\t\t.valueOf(),\n\t\t\tend: nowUTC\n\t\t\t\t.clone()\n\t\t\t\t.startOf('day')\n\t\t\t\t.add(lastSixHoursPeriod * 6, 'hours')\n\t\t\t\t.add(2, 'hours')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tthisWeek: {\n\t\t\tstart: moment()\n\t\t\t\t.utc()\n\t\t\t\t.startOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.utc()\n\t\t\t\t.endOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tlastWeek: {\n\t\t\tstart: moment()\n\t\t\t\t.subtract(1, 'week')\n\t\t\t\t.startOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.subtract(1, 'week')\n\t\t\t\t.endOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tthisMonth: {\n\t\t\tstart: moment()\n\t\t\t\t.startOf('month')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.endOf('month')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tlastMonth: {\n\t\t\tstart: moment()\n\t\t\t\t.subtract(1, 'month')\n\t\t\t\t.startOf('month')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.subtract(1, 'month')\n\t\t\t\t.endOf('month')\n\t\t\t\t.valueOf(),\n\t\t},\n\t}\n}\n\nexport const fillEmptyTime = (prevAggr, timeframe) => {\n\tconst intervals = intervalsMs()\n\tconst time = {\n\t\tinterval: intervals.lastHour,\n\t\tstep: { ammount: 1, unit: 'minute' },\n\t}\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\t\ttime.interval = intervals.lastHour\n\t\t\ttime.step = { ammount: 1, unit: 'minute' }\n\t\t\tbreak\n\t\tcase 'day':\n\t\t\ttime.interval = intervals.last24Hours\n\t\t\ttime.step = { ammount: 1, unit: 'hour' }\n\t\t\tbreak\n\t\tcase 'week':\n\t\t\ttime.interval = intervals.last7Days\n\t\t\ttime.step = { ammount: 6, unit: 'hour' }\n\t\t\tbreak\n\t\tdefault:\n\t\t\treturn prevAggr\n\t}\n\tconst newAggr = []\n\tfor (\n\t\tvar m = moment(time.interval.start);\n\t\tm.diff(time.interval.end, time.step.unit) <= 0;\n\t\tm.add(time.step.ammount, time.step.unit)\n\t) {\n\t\tnewAggr.push({ value: '0', time: m.unix() * 1000 })\n\t}\n\n\tconst data = [...prevAggr, ...newAggr].reduce((data, a) => {\n\t\tconst newData = { ...data }\n\t\tconst value = (+data[a.time] || +a.value || 0).toString()\n\t\tnewData[a.time] = value\n\n\t\treturn newData\n\t}, {})\n\n\tconst result = Object.entries(data)\n\t\t.map(([key, value]) => ({\n\t\t\tvalue,\n\t\t\ttime: +key,\n\t\t}))\n\t\t.sort((a, b) => a.time - b.time)\n\n\treturn result\n}\n\nexport const DATETIME_EXPORT_FORMAT = 'YYYY-MM-DD HH:mm:ss'\n","import * as types from 'constants/actionTypes'\nimport { addToast, removeToast, confirmAction } from './uiActions'\nimport { translate } from 'services/translations/translations'\nimport {\n\tgetValidatorAuthToken,\n\tidentityAnalytics,\n\tidentityCampaignsAnalytics,\n} from 'services/adex-validator/actions'\nimport { updateValidatorAuthTokens } from './accountActions'\nimport {\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\n\tVALIDATOR_ANALYTICS_METRICS,\n} from 'constants/misc'\nimport { getErrorMsg } from 'helpers/errors'\nimport { fillEmptyTime } from 'helpers/timeHelpers'\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\nconst analyticsParams = (timeframe, side) => {\n\tconst callsParams = []\n\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\n\t\t\tcallsParams.push({\n\t\t\t\tmetric,\n\t\t\t\ttimeframe,\n\t\t\t\tside,\n\t\t\t\teventType,\n\t\t\t})\n\t\t)\n\t)\n\n\treturn callsParams\n}\n\nconst analyticsCampaignsParams = () => {\n\tconst callsParams = []\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tcallsParams.push({ eventType })\n\t)\n\treturn callsParams\n}\n\n// getIdentityStatistics tooks to long some times\n// if the account is change we do not update the account\n// TODO: we can use something for abortable tasks\nfunction checkAccountChanged(getState, account) {\n\tconst accountCheck = getState().persist.account\n\tconst accountChanged =\n\t\t!accountCheck.wallet.address ||\n\t\taccountCheck.wallet.address !== account.wallet.address ||\n\t\t!accountCheck.identity.address ||\n\t\t!accountCheck.identity.address !== !account.identity.address\n\n\treturn accountChanged\n}\n\nexport function updateAccountAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account, analytics } = getState().persist\n\t\tconst { side } = getState().memory.nav\n\t\tconst { timeframe } = analytics\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsParams(timeframe, side)\n\t\t\tlet accountChanged = false\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\tidentityAnalytics({\n\t\t\t\t\t...opts,\n\t\t\t\t\tleaderAuth,\n\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tres.aggr = fillEmptyTime(res.aggr, timeframe)\n\t\t\t\t\t\taccountChanged =\n\t\t\t\t\t\t\taccountChanged || checkAccountChanged(getState, account)\n\n\t\t\t\t\t\tif (!accountChanged) {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\n\t\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\t\tvalue: { ...res },\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\n\t\t\t\t\t})\n\t\t\t})\n\n\t\t\tawait Promise.all(allAnalytics)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAccountCampaingsAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account } = getState().persist\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsCampaignsParams()\n\t\t\tlet accountChanged = false\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\tidentityCampaignsAnalytics({\n\t\t\t\t\t...opts,\n\t\t\t\t\tleaderAuth,\n\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\taccountChanged =\n\t\t\t\t\t\t\taccountChanged || checkAccountChanged(getState, account)\n\n\t\t\t\t\t\tif (!accountChanged) {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: types.UPDATE_ADVANCED_CAMPAIGN_ANALYTICS,\n\t\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\t\tvalue: { ...res },\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS_SINGLE', err)\n\t\t\t\t\t})\n\t\t\t})\n\n\t\t\tawait Promise.all(allAnalytics)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_CAMPAIGN_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAnalyticsTimeframe(timeframe) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ANALYTICS_TIMEFRAME,\n\t\t\t\tvalue: timeframe,\n\t\t\t})\n\t\t\tupdateAccountAnalytics()(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function resetAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ANALYTICS,\n\t\t})\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\texecute,\n\taddToast,\n\tupdateSpinner,\n\tupdateItems,\n\tupdateValidatorAuthTokens,\n\tupdateNewItem,\n\thandleAfterValidation,\n\tvalidateCampaignValidators,\n\tvalidateCampaignAmount,\n\tvalidateCampaignTitle,\n\tvalidateCampaignDates,\n\tvalidateCampaignUnits,\n} from 'actions'\nimport { push } from 'connected-react-router'\nimport { parseUnits, bigNumberify } from 'ethers/utils'\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\nimport { getCampaigns } from 'services/adex-market/actions'\nimport {\n\topenChannel,\n\tcloseChannel,\n} from 'services/smart-contracts/actions/core'\nimport {\n\tlastApprovedState,\n\tcampaignAnalytics,\n} from 'services/adex-validator/actions'\nimport { closeCampaignMarket } from 'services/adex-market/actions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tt,\n\tselectAccount,\n\tselectRelayerConfig,\n\tselectCampaigns,\n\tselectNewCampaign,\n\tselectAuthSig,\n\tselectAuth,\n\tselectMainToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { Campaign } from 'adex-models'\nimport { OPENING_CAMPAIGN, GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_LEADER_FEE_NUM = process.env.VALIDATOR_LEADER_FEE_NUM\nconst VALIDATOR_LEADER_FEE_DEN = process.env.VALIDATOR_LEADER_FEE_DEN\nconst VALIDATOR_LEADER_FEE_ADDR = process.env.VALIDATOR_LEADER_FEE_ADDR\n\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\nconst VALIDATOR_FOLLOWER_FEE_NUM = process.env.VALIDATOR_FOLLOWER_FEE_NUM\nconst VALIDATOR_FOLLOWER_FEE_DEN = process.env.VALIDATOR_FOLLOWER_FEE_DEN\nconst VALIDATOR_FOLLOWER_FEE_ADDR = process.env.VALIDATOR_FOLLOWER_FEE_ADDR\n\nexport function openCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\n\t\tconst account = selectAccount(getState())\n\t\ttry {\n\t\t\tawait getAllValidatorsAuthForIdentity({\n\t\t\t\twithBalance: [{ channel: campaign }],\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tconst { storeCampaign } = await openChannel({\n\t\t\t\tcampaign,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: storeCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('OPENING_CAMPAIGN_SENT_TO_RELAYER', {\n\t\t\t\t\targs: [storeCampaign.id],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_OPENING_CAMPAIGN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\n\t\treturn true\n\t}\n}\n\nexport const updateCampaignState = ({ campaign }) => {\n\treturn async dispatch => {\n\t\ttry {\n\t\t\tconst state = await lastApprovedState({ campaign })\n\t\t\tconst newCampaign = { ...campaign }\n\t\t\tnewCampaign.state = state\n\n\t\t\treturn dispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: newCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_LAST_STATUS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\n// TEMP for testing in production until 4.1 is deployed\nfunction getHumanFriendlyName(campaign) {\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\n\t\treturn 'Closed'\n\tswitch ((campaign.status || {}).name) {\n\t\tcase 'Active':\n\t\tcase 'Ready':\n\t\tcase 'Pending':\n\t\tcase 'Initializing':\n\t\tcase 'Waiting':\n\t\tcase 'Offline':\n\t\tcase 'Disconnected':\n\t\tcase 'Unhealthy':\n\t\tcase 'Invalid':\n\t\t\treturn 'Active'\n\t\tcase 'Expired':\n\t\tcase 'Exhausted':\n\t\tcase 'Withdraw':\n\t\t\treturn 'Completed'\n\t\tdefault:\n\t\t\treturn 'N/A'\n\t}\n}\n\nexport function updateUserCampaigns(updateStats = true) {\n\treturn async function(dispatch, getState) {\n\t\tconst hasAuth = selectAuth(getState())\n\t\tconst { wallet, identity } = selectAccount(getState())\n\t\tconst { authSig } = wallet\n\t\tconst { address } = identity\n\t\tconst campaignsFromStore = selectCampaigns(getState())\n\t\tconst campaignPromises = []\n\t\tif (hasAuth && authSig && address) {\n\t\t\ttry {\n\t\t\t\tconst campaigns = await getCampaigns({ authSig, creator: address })\n\t\t\t\tlet campaignsMapped = campaigns\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tc => c.creator && c.creator.toLowerCase() === address.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\t.map(c => {\n\t\t\t\t\t\tif (updateStats) {\n\t\t\t\t\t\t\tconst impressions = campaignAnalytics({\n\t\t\t\t\t\t\t\tcampaign: c,\n\t\t\t\t\t\t\t\teventType: 'IMPRESSION',\n\t\t\t\t\t\t\t\tmetric: 'eventCounts',\n\t\t\t\t\t\t\t\ttimeframe: 'year',\n\t\t\t\t\t\t\t\tlimit: 200,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tconst clicks = campaignAnalytics({\n\t\t\t\t\t\t\t\tcampaign: c,\n\t\t\t\t\t\t\t\teventType: 'CLICK',\n\t\t\t\t\t\t\t\tmetric: 'eventCounts',\n\t\t\t\t\t\t\t\ttimeframe: 'year',\n\t\t\t\t\t\t\t\tlimit: 200,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tcampaignPromises.push(impressions)\n\t\t\t\t\t\t\tcampaignPromises.push(clicks)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst campaign = { ...c.spec, ...c }\n\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!updateStats) {\n\t\t\t\t\t\t\t//when not updating the stats keep the previous\n\t\t\t\t\t\t\tconst { impressions, clicks } = campaignsFromStore[c.id] || {\n\t\t\t\t\t\t\t\timpressions: 0,\n\t\t\t\t\t\t\t\tclicks: 0,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcampaign.impressions = impressions\n\t\t\t\t\t\t\tcampaign.clicks = clicks\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn campaign\n\t\t\t\t\t})\n\t\t\t\tif (updateStats) {\n\t\t\t\t\tcampaignsMapped = await Promise.all(campaignPromises).then(function(\n\t\t\t\t\t\tresults\n\t\t\t\t\t) {\n\t\t\t\t\t\t// replace promises with their resolved values\n\t\t\t\t\t\tlet index = 0\n\t\t\t\t\t\tfor (let i = 0; i < results.length; i += 2) {\n\t\t\t\t\t\t\tcampaignsMapped[index].impressions = results[i].aggr.reduce(\n\t\t\t\t\t\t\t\t(a, b) => a + (Number(b.value) || 0),\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tcampaignsMapped[index].clicks = results[i + 1].aggr.reduce(\n\t\t\t\t\t\t\t\t(a, b) => a + (Number(b.value) || 0),\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t++index\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn campaignsMapped\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tupdateItems({\n\t\t\t\t\titems: campaignsMapped,\n\t\t\t\t\titemType: 'Campaign',\n\t\t\t\t})(dispatch)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\n\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGNS', {\n\t\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function closeCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst { account } = state.persist\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\n\t\t\tupdateValidatorAuthTokens({ newAuth: authTokens })(dispatch, getState)\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CLOSING_CAMPAIGN',\n\t\t\t\targs: [campaign.id],\n\t\t\t})\n\t\t\tupdateUserCampaigns(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_CLOSING_CAMPAIGN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\n\t}\n}\n\nexport function updateNewCampaign(prop, value, newValues) {\n\treturn async function(dispatch, getState) {\n\t\tconst currentCampaign = selectNewCampaign(getState())\n\t\tawait updateNewItem(\n\t\t\tcurrentCampaign,\n\t\t\tnewValues || { [prop]: value },\n\t\t\t'Campaign',\n\t\t\tCampaign\n\t\t)(dispatch)\n\t}\n}\n\nconst tempValidators = [\n\t{\n\t\tid: VALIDATOR_LEADER_ID,\n\t\turl: VALIDATOR_LEADER_URL,\n\t\tfeeNum: VALIDATOR_LEADER_FEE_NUM,\n\t\tfeeDen: VALIDATOR_LEADER_FEE_DEN,\n\t\tfeeAddr: VALIDATOR_LEADER_FEE_ADDR,\n\t},\n\t{\n\t\tid: VALIDATOR_FOLLOWER_ID,\n\t\turl: VALIDATOR_FOLLOWER_URL,\n\t\tfeeNum: VALIDATOR_FOLLOWER_FEE_NUM,\n\t\tfeeDen: VALIDATOR_FOLLOWER_FEE_DEN,\n\t\tfeeAddr: VALIDATOR_FOLLOWER_FEE_ADDR,\n\t},\n]\n\nexport function validateNewCampaignAdUnits({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst state = getState()\n\t\tconst campaign = selectNewCampaign(state)\n\t\tconst { adUnits } = campaign\n\n\t\tconst isValid = await validateCampaignUnits({ validateId, adUnits, dirty })\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateNewCampaignFinance({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst campaign = selectNewCampaign(state)\n\t\t\tconst {\n\t\t\t\tvalidators,\n\t\t\t\tdepositAmount,\n\t\t\t\tminPerImpression,\n\t\t\t\ttitle,\n\t\t\t\tactiveFrom,\n\t\t\t\twithdrawPeriodStart,\n\t\t\t\tcreated,\n\t\t\t\ttemp = {},\n\t\t\t} = campaign\n\n\t\t\tconst { maxChannelFees, maxDeposit } = temp\n\n\t\t\tconst newCampaign = { ...campaign }\n\n\t\t\tif (!validators || !validators.length) {\n\t\t\t\t// TODO: temp - will need dropdown selector for the follower validator\n\t\t\t\tnewCampaign.validators = tempValidators\n\t\t\t\tawait updateNewCampaign('validators', newCampaign.validators)(\n\t\t\t\t\tdispatch,\n\t\t\t\t\tgetState\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateCampaignValidators({ validateId, validators, dirty })(dispatch),\n\t\t\t\tvalidateCampaignAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'depositAmount',\n\t\t\t\t\tvalue: depositAmount,\n\t\t\t\t\tdirty,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tminPerImpression,\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\tvalue: minPerImpression,\n\t\t\t\t\tdirty,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tminPerImpression,\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignTitle({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\ttitle,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignDates({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'activeFrom',\n\t\t\t\t\tvalue: activeFrom,\n\t\t\t\t\tdirty,\n\t\t\t\t\tactiveFrom,\n\t\t\t\t\twithdrawPeriodStart,\n\t\t\t\t\tcreated,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignDates({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'withdrawPeriodStart',\n\t\t\t\t\tvalue: withdrawPeriodStart,\n\t\t\t\t\tdirty,\n\t\t\t\t\tactiveFrom,\n\t\t\t\t\twithdrawPeriodStart,\n\t\t\t\t\tcreated,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (typeof maxChannelFees !== 'string') {\n\t\t\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\n\n\t\t\t\tconst account = selectAccount(state)\n\n\t\t\t\tconst {\n\t\t\t\t\tfeesFormatted,\n\t\t\t\t\tmaxAvailable,\n\t\t\t\t\tmaxAvailableFormatted,\n\t\t\t\t} = await openChannel({\n\t\t\t\t\tcampaign: { ...newCampaign },\n\t\t\t\t\taccount,\n\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t\tgetMaxFees: true,\n\t\t\t\t})\n\n\t\t\t\tconst newTemp = { ...temp }\n\t\t\t\tnewTemp.maxChannelFees = feesFormatted\n\t\t\t\tnewTemp.maxDeposit = maxAvailable\n\t\t\t\tnewTemp.maxDepositFormatted = maxAvailableFormatted\n\n\t\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\n\t\t\t}\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_CAMPAIGN_FINANCE', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_CAMPAIGN_FINANCE', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function getCampaignActualFees() {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst campaign = selectNewCampaign(state)\n\t\t\tconst mainToken = selectMainToken(state)\n\t\t\tconst { temp = {}, depositAmount } = campaign\n\n\t\t\tconst account = selectAccount(state)\n\n\t\t\tconst { feesFormatted, fees } = await openChannel({\n\t\t\t\tcampaign: { ...campaign },\n\t\t\t\taccount,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t})\n\n\t\t\tconst totalSpend = parseUnits(depositAmount, mainToken.decimals).add(fees)\n\n\t\t\tconst totalSpendFormatted = formatTokenAmount(\n\t\t\t\ttotalSpend.toString(),\n\t\t\t\tmainToken.decimals || 18,\n\t\t\t\tfalse,\n\t\t\t\ttrue\n\t\t\t)\n\n\t\t\tconst newTemp = { ...temp }\n\t\t\tnewTemp.feesFormatted = feesFormatted\n\t\t\tnewTemp.totalSpendFormatted = totalSpendFormatted\n\n\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_FEES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_FEES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\n\t}\n}\n","import * as common from './common'\nimport * as itemActions from './itemActions'\nimport * as uiActions from './uiActions'\nimport * as accountActions from './accountActions'\nimport * as identityActions from './identityActions'\nimport * as bidActions from './bidActions'\nimport * as transactionActions from './transactionActions'\nimport * as validationActions from './validationActions'\nimport * as analyticsActions from './analyticsActions'\nimport * as campaignActions from './campaignActions'\n\n// keep it for class components that use connect and actions prop\n// without needing to change the code\nexport default {\n\t...common,\n\t...itemActions,\n\t...uiActions,\n\t...accountActions,\n\t...identityActions,\n\t...bidActions,\n\t...transactionActions,\n\t...validationActions,\n\t...analyticsActions,\n\t...campaignActions,\n}\n\n// used for minimal deps in hook components\n// import { execute, addTost } from 'actions'\n// execute(addTost())\nexport * from './common'\nexport * from './itemActions'\nexport * from './uiActions'\nexport * from './accountActions'\nexport * from './identityActions'\nexport * from './bidActions'\nexport * from './transactionActions'\nexport * from './validationActions'\nexport * from './analyticsActions'\nexport * from './campaignActions'\n","import { ethers, utils, Contract } from 'ethers'\nimport { contracts } from './contractsCfg'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { selectRelayerConfig } from 'selectors'\n\nethers.errors.setLogLevel('error')\n\nconst {\n\tAdExCore,\n\tIdentity,\n\tIdentityFactory,\n\tAdExENSManager,\n\tReverseRegistrar,\n} = contracts\n\nconst getAdexCore = provider => {\n\tconst { coreAddr } = selectRelayerConfig()\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\n}\n\nconst getMainToken = provider => {\n\tconst { mainToken = {} } = selectRelayerConfig()\n\treturn new Contract(\n\t\tmainToken.address,\n\t\tcontracts[mainToken.standard].abi,\n\t\tprovider\n\t)\n}\n\nconst getToken = ({ provider, standard, address }) => {\n\treturn new Contract(address, contracts[standard].abi, provider)\n}\n\nconst getIdentity = ({ provider, address }) => {\n\tconst identityContract = new Contract(address, Identity.abi, provider)\n\n\treturn identityContract\n}\n\nconst getIdentityFactory = provider => {\n\tconst { identityFactoryAddr } = selectRelayerConfig()\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\n}\n\nconst getEthersResult = provider => {\n\tconst adexCore = getAdexCore(provider)\n\tconst mainToken = getMainToken(provider)\n\tconst identityFactory = getIdentityFactory(provider)\n\n\tconst results = {\n\t\tprovider,\n\t\tAdExCore: adexCore,\n\t\tIdentity: Identity,\n\t\tDai: mainToken,\n\t\tMainToken: mainToken,\n\t\tIdentityFactory: identityFactory,\n\t\tAdExENSManager,\n\t\tReverseRegistrar,\n\t\tgetToken: ({ standard, address }) =>\n\t\t\tgetToken({ provider, standard, address }),\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\n\t}\n\n\treturn results\n}\n\nconst localWeb3 = () => {\n\tconst provider = new ethers.providers.JsonRpcProvider(\n\t\tprocess.env.WEB3_NODE_ADDR\n\t)\n\treturn getEthersResult(provider)\n}\n\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\n\twindow.addEventListener('load', () => {\n\t\tconst ethereum = window.ethereum\n\t\tconst web3 = window.web3\n\t\treturn resolve({\n\t\t\tethereum,\n\t\t\tweb3,\n\t\t})\n\t})\n})\n\nconst injectedWeb3 = async () => {\n\tconst { web3, ethereum } = await loadInjectedWeb3.then()\n\tlet provider = null\n\n\tif (ethereum) {\n\t\ttry {\n\t\t\tawait ethereum.enable()\n\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\n\n\t\t\treturn getEthersResult(provider)\n\t\t} catch (err) {\n\t\t\tconsole.error('Err getting injected ethereum.', err)\n\t\t\tthrow new Error(err.message)\n\t\t}\n\t}\n\t// Legacy dapp browsers...\n\t// TODO: we just have to throw or show notification\n\t// At the moment if it throws it will show error toast but not always.\n\telse if (web3) {\n\t\tconsole.error('Legacy web3 browser detected. It is not supported!')\n\t\tconsole.error('Fallback to local web3 provider')\n\t\treturn await localWeb3()\n\t} else {\n\t\tconsole.error('Non-Ethereum browser detected.')\n\t\tconsole.error('Fallback to local web3 provider')\n\t\treturn await localWeb3()\n\t}\n}\n\nconst getLocalWeb3 = async () => {\n\t// console.log('getLocalWeb3')\n\treturn localWeb3()\n}\n\nconst getEthers = mode => {\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\n\t *   and this results in Trezor popup block by the browser\n\t */\n\tif (mode === AUTH_TYPES.METAMASK.name) {\n\t\treturn injectedWeb3()\n\t} else {\n\t\treturn getLocalWeb3()\n\t}\n}\n\nconst ethereumSelectedAddress = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (ethereum && ethereum.selectedAddress) {\n\t\treturn utils.getAddress(ethereum.selectedAddress)\n\t} else {\n\t\treturn null\n\t}\n}\n\nconst ethereumNetworkId = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (ethereum) {\n\t\tconst id = parseInt(ethereum.networkVersion, 10)\n\t\treturn id\n\t} else {\n\t\treturn null\n\t}\n}\n\nconst getEthereumProvider = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (!ethereum) {\n\t\treturn null\n\t}\n\n\tif (ethereum.isMetaMask) {\n\t\treturn AUTH_TYPES.METAMASK.name\n\t}\n\n\treturn null\n}\n\nexport {\n\tgetEthers,\n\tethereumSelectedAddress,\n\tethereumNetworkId,\n\tgetEthereumProvider,\n}\n","import { ethers, utils } from 'ethers'\nimport pbkdf2 from 'pbkdf2'\nimport {\n\tencrypt,\n\tdecrypt,\n\tencryptLegacy,\n\tdecryptLegacy,\n} from 'services/crypto/crypto'\nimport {\n\tloadFromLocalStorage,\n\tsaveToLocalStorage,\n\tgetKeys,\n\tremoveFromLocalStorage,\n} from 'helpers/localStorageHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\n\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\n\treturn new Promise((resolve, reject) => {\n\t\tpbkdf2.pbkdf2(\n\t\t\tpass,\n\t\t\tsalt,\n\t\t\titerations,\n\t\t\tkeylen,\n\t\t\tdigiset,\n\t\t\t(err, derivedKey) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn reject(err)\n\t\t\t\t}\n\n\t\t\t\tconst res = derivedKey.toString(encoding)\n\n\t\t\t\treturn resolve(res)\n\t\t\t}\n\t\t)\n\t})\n}\n\nasync function getCipherKey({ email, password }) {\n\tconst pass = generateSalt(password)\n\tconst salt = generateSalt(email)\n\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn key\n}\n\nfunction isLegacyCrypto(authType) {\n\treturn !authType || authType === 'legacy' || authType === 'grant'\n}\n\n// Returns 12 random words\nexport function getRandomMnemonic() {\n\tconst randomEntropy = utils.randomBytes(16)\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\n\n\treturn mnemonic\n}\n\nexport async function generateWallet(mnemonic) {\n\tconst seed = mnemonic || getRandomMnemonic()\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\n\n\treturn {\n\t\tmnemonic,\n\t\tprivateKey: wallet.privateKey,\n\t\taddress: wallet.address,\n\t\tpath: wallet.path,\n\t}\n}\n\nasync function encrKey({ email, password, authType }) {\n\tif (!authType) {\n\t\treturn await encryptLegacy(email, password)\n\t} else if (typeof authType === 'string') {\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\n\t} else {\n\t\tthrow new Error('INVALID_TYPE')\n\t}\n}\n\nexport async function encrData({ email = '', password, data, authType }) {\n\tconst isLegacy = isLegacyCrypto(authType)\n\tconst jsonData = JSON.stringify(data)\n\tif (isLegacy) {\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\n\t\treturn legacyEncrypted\n\t} else {\n\t\tconst encrypted = await encrypt(\n\t\t\tjsonData,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t\treturn encrypted\n\t}\n}\n\nexport async function decrData({ email = '', password, data, authType }) {\n\tlet decryptedStr = ''\n\tconst isLegacy = isLegacyCrypto(authType)\n\n\tif (isLegacy) {\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\n\t} else {\n\t\tdecryptedStr = await decrypt(\n\t\t\tdata,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t}\n\n\ttry {\n\t\tconst decr = JSON.parse(decryptedStr)\n\t\treturn decr\n\t} catch (err) {\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\n\t}\n}\n\nexport async function createLocalWallet({\n\temail = '',\n\tpassword = '',\n\tmnemonic,\n\tauthType = '',\n}) {\n\tconst walletData = await generateWallet(mnemonic)\n\tconst key = await encrKey({ email, password, authType })\n\tconst data = await encrData({ data: walletData, email, password, authType })\n\tawait saveToLocalStorage({ data }, key)\n\n\twalletData.authType = authType\n\treturn walletData\n}\n\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\n\tconst wallet = await getLocalWallet({\n\t\temail,\n\t\tpassword,\n\t\tgetEncrypted: true,\n\t})\n\n\tif (wallet && wallet.data) {\n\t\tconst newKey = await encrKey({\n\t\t\temail,\n\t\t\tpassword,\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\n\t\t})\n\t\tsaveToLocalStorage(wallet, newKey)\n\t}\n}\n\nexport async function removeLegacyKey({ email = '', password = '' }) {\n\tconst key = await encrKey({ email, password })\n\tremoveFromLocalStorage(key)\n}\n\nexport async function addDataToWallet({\n\temail = '',\n\tpassword = '',\n\tdataKey = '',\n\tdataValue = '',\n\tauthType,\n}) {\n\tif (dataKey === 'data') {\n\t\tthrow new Error('INVALID_DATA_KEY')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (!wallet) {\n\t\tthrow new Error('WALLET_NOT_FOUND')\n\t}\n\n\tconst data = await encrData({ data: dataValue, email, password, authType })\n\twallet[dataKey] = data\n\tsaveToLocalStorage(wallet, key)\n}\n\nexport async function getRecoveryWalletData({ email, password, authType }) {\n\tif (!email || !password) {\n\t\treturn null\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\treturn {\n\t\tkey,\n\t\twallet,\n\t}\n}\n\nexport async function getLocalWallet({\n\temail,\n\tpassword,\n\tauthType,\n\tgetEncrypted,\n}) {\n\tif (!email || !password) {\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (wallet) {\n\t\tif (getEncrypted) {\n\t\t\treturn wallet\n\t\t}\n\n\t\tconst walletKeys = Object.keys(wallet)\n\n\t\tconst decrypts = walletKeys.map(async key => {\n\t\t\t// props[key] = await decrData({\n\t\t\t// \tdata: wallet[key],\n\t\t\t// \temail,\n\t\t\t// \tpassword,\n\t\t\t// \tauthType,\n\t\t\t// })\n\n\t\t\tconst decryptedData = await decrData({\n\t\t\t\tdata: wallet[key],\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\treturn decryptedData\n\t\t})\n\n\t\tconst decryptedData = await Promise.all(decrypts)\n\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\n\t\t\tprops[key] = decryptedData[index]\n\t\t\treturn props\n\t\t}, {})\n\n\t\treturn decryptedWallet\n\t} else {\n\t\treturn null\n\t}\n}\n\nfunction isWallet(item) {\n\treturn item && item.data && item.identity && item.privileges\n}\n\nexport function walletInfo(key, index, wallet) {\n\tconst split = key.split('-')\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\n\tconst authType = split[1] || 'legacy'\n\tconst name = mail || `Grant account # ${index + 1}`\n\n\tconst info = {\n\t\tkey,\n\t\twallet,\n\t\tname,\n\t\tauthType,\n\t}\n\n\treturn info\n}\n\nexport function getAllWallets() {\n\tconst walletKeys = getKeys()\n\t\t.map(key => {\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\titem: loadFromLocalStorage(key),\n\t\t\t}\n\t\t})\n\t\t.filter(({ item }) => isWallet(item))\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\n\n\treturn walletKeys\n}\n\nexport async function getWalletHash({ salt, password }) {\n\tconst passwordId = utils.id(password)\n\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn hash\n}\n\nexport function generateSalt(dataStr) {\n\tif (typeof dataStr !== 'string') {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\n\t} else if (!dataStr.length) {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\n\t}\n\n\tconst id = utils.id(dataStr)\n\tconst salt = utils.keccak256(id)\n\treturn salt\n}\n","import { Signer } from 'ethers'\nimport { ethers, utils } from 'ethers'\nimport LedgerEth from '@ledgerhq/hw-app-eth'\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\nimport HDKey from 'hdkey'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'\"\n\nexport default class LedgerSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t\tthis._transport = TransportU2F\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\taddrsFromPubKey = async (\n\t\tpublicKey = '',\n\t\tchainCode = '',\n\t\t{ from = 0, to = 19 } = {}\n\t) => {\n\t\tconst hdKey = new HDKey()\n\t\thdKey.publicKey = Buffer.from(publicKey, 'hex')\n\t\thdKey.chainCode = Buffer.from(chainCode, 'hex')\n\n\t\tconst addrs = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tconst derivedKey = hdKey.derive(`m/${index}`).publicExtendedKey\n\n\t\t\tconst addr = utils.HDNode.fromExtendedKey(derivedKey).address\n\n\t\t\taddrs.push({\n\t\t\t\taddress: addr,\n\t\t\t\tpath: `${this.path}/${index}`,\n\t\t\t})\n\t\t}\n\n\t\treturn addrs\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 5 } = {}) => {\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\t\tconst { publicKey, chainCode } = await eth.getAddress(\n\t\t\tthis.path,\n\t\t\tfalse,\n\t\t\ttrue\n\t\t)\n\n\t\tconst addresses = await this.addrsFromPubKey(publicKey, chainCode, {\n\t\t\tfrom,\n\t\t\tto,\n\t\t})\n\n\t\treturn addresses\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\t\tconst txUnsigned = utils.serializeTransaction(txProps).substring(2)\n\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\t\tconst { r, s, v } = await eth.signTransaction(this.path, txUnsigned)\n\n\t\tconst signature = {\n\t\t\tr: '0x' + r,\n\t\t\ts: '0x' + s,\n\t\t\tv,\n\t\t}\n\n\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\treturn txSigned\n\t}\n\n\t/*\n\t * TODO: may not work.\n\t * The ledger device or u2f seems to broken\n\t * Can list the addresses\n\t * Can sign messages\n\t * Signs transactions\n\t * Actually it show the tx but does not return value after\n\t * confirmation on the device\n\t */\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (!opts.hex) {\n\t\t\tif (typeof message === 'string') {\n\t\t\t\tmessage = utils.toUtf8Bytes(message)\n\t\t\t}\n\n\t\t\tmessage = ethers.utils.hexlify(message)\n\t\t}\n\n\t\tmessage = message.substring(2)\n\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\n\t\tconst signature = await eth.signPersonalMessage(this.path, message)\n\t\tsignature.r = '0x' + signature.r\n\t\tsignature.s = '0x' + signature.s\n\n\t\tconst { address } = await eth.getAddress(this.path)\n\n\t\tconst res = {\n\t\t\tsignature: ethers.utils.joinSignature(signature),\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LedgerSigner(provider, { path: this.path })\n\t}\n}\n","import moment from 'moment'\n\n// TODO: separate exports - not class\nclass Helper {\n\tgetGuid() {\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t}\n\n\tgetRndHash32(prefix) {\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t\tif (prefix) {\n\t\t\th = prefix + h.substring(prefix.length)\n\t\t}\n\t\treturn h\n\t}\n\n\tgetRandomInt(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\n\t}\n\n\tgetRandomBool() {\n\t\treturn !!this.getRandomInt(0, 1)\n\t}\n\n\tgetRandomPropFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\n\t}\n\n\tgetRandomKeyFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn keys[(keys.length * Math.random()) << 0]\n\t}\n\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\n\t\t// TODO: fix +/- 1 day bug\n\t\tlet initial = moment.isMoment(initialMoment)\n\t\t\t? initialMoment.valueOf()\n\t\t\t: undefined\n\n\t\treturn moment(initial)\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\n\t}\n\n\thexToRgbaColorString = (hex, alpha) => {\n\t\tif (!hex || typeof hex !== 'string') {\n\t\t\tthrow new Error('Invalid color')\n\t\t} else if (hex.length === 4) {\n\t\t\thex = hex + hex.substr(1, 4)\n\t\t}\n\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\n\t\t\talpha = 1\n\t\t}\n\n\t\tconst hexToDec = h => {\n\t\t\treturn parseInt('0x' + h, 16)\n\t\t}\n\n\t\tlet r = hexToDec(hex.substr(1, 2))\n\t\tlet g = hexToDec(hex.substr(3, 2))\n\t\tlet b = hexToDec(hex.substr(5, 2))\n\n\t\treturn `rgba(${r},${g},${b},${alpha})`\n\t}\n\n\tgetQuery(queryParams) {\n\t\tif (\n\t\t\t!queryParams ||\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\n\t\t) {\n\t\t\treturn ''\n\t\t}\n\t\treturn (\n\t\t\t'?' +\n\t\t\t\tObject.keys(queryParams)\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\n\t\t\t\t\t.map(key => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tencodeURIComponent(key) +\n\t\t\t\t\t\t\t'=' +\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\n\t\t\t\t\t\t)\n\t\t\t\t\t}, '')\n\t\t\t\t\t.join('&') || ''\n\t\t)\n\t}\n\n\tgetErrMsg = err => {\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\n\n\t\tif (stack.length > 1) {\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\n\t\t} else {\n\t\t\treturn (err.error || err || '').toString()\n\t\t}\n\t}\n\n\tisInt = int => {\n\t\treturn typeof int === 'number' && int % 1 === 0\n\t}\n\n\tshuffleArray = array => {\n\t\treturn [...array].sort(() => Math.random() - 0.5)\n\t}\n}\n\nexport default new Helper()\n","import base64 from 'base64url'\nimport ethers from 'ethers'\n\n// see https://github.com/ethereum/EIPs/issues/1341\n// Implements EIP 1341: Ethereum Web Tokens\n\nconst HEADER = base64.encode(\n\tJSON.stringify({\n\t\ttype: 'JWT',\n\t\talg: 'ETH',\n\t})\n)\n\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\n// .address is always checksummed\nfunction sign(signer, payload) {\n\tconst payloadEncoded = base64.encode(\n\t\tJSON.stringify({\n\t\t\t...payload,\n\t\t\taddress: signer.address,\n\t\t})\n\t)\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\n\t})\n}\n\nfunction verify(token) {\n\tconst parts = token.split('.')\n\tif (parts.length !== 3) {\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\n\t}\n\tconst msg = parts.slice(0, 2).join('.')\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\n\ttry {\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\n\t\treturn Promise.resolve({ from, payload })\n\t} catch (e) {\n\t\treturn Promise.reject(e)\n\t}\n}\n\nexport default { sign, verify }\n","module.exports = Module;","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404-no.0ec9cb01.png\";","module.exports = __webpack_public_path__ + \"static/media/404-yes.ade3b1a3.png\";","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { refreshCacheAndReload, execute } from 'actions'\r\nglobal.appVersion = packageJson.version\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst semverGreaterThan = (versionA, versionB) => {\r\n\t\tconst versionsA = versionA.split(/\\./g)\r\n\r\n\t\tconst versionsB = versionB.split(/\\./g)\r\n\t\twhile (versionsA.length || versionsB.length) {\r\n\t\t\tconst a = Number(versionsA.shift())\r\n\r\n\t\t\tconst b = Number(versionsB.shift())\r\n\t\t\t// eslint-disable-next-line no-continue\r\n\t\t\tif (a === b) continue\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\treturn a > b || isNaN(b)\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(7)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst latestVersion = meta.version\r\n\t\t\t\tconst currentVersion = global.appVersion\r\n\t\t\t\tconst shouldForceRefresh = semverGreaterThan(\r\n\t\t\t\t\tlatestVersion,\r\n\t\t\t\t\tcurrentVersion\r\n\t\t\t\t)\r\n\t\t\t\tif (shouldForceRefresh) {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\trefreshCacheAndReload({\r\n\t\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\n\nexport const isConnectionLost = async authType => {\n\ttry {\n\t\t// When we remove Metamask\n\t\t// if in 5 sec doesn't connect will\n\t\t// return that connection is lost\n\t\tconst eth = await Promise.race([\n\t\t\tgetEthers(authType),\n\t\t\tnew Promise((resolve, reject) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\treject('Timed out')\n\t\t\t\t}, 5000)\n\t\t\t}),\n\t\t])\n\t\tawait eth.provider.getBlockNumber()\n\t\treturn false\n\t} catch (error) {\n\t\treturn true\n\t}\n}\n","import { utils } from 'ethers'\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { ethers } from 'ethers'\n/*eslint-disable */\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\nconst emailRegex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\n/*eslint-enable */\n\nexport const validUrl = url => {\n\turl = url || ''\n\tconst isValid = urlRegex.test(url)\n\treturn isValid\n}\n\nexport const validEmail = email => {\n\temail = email || ''\n\tconst isValid = emailRegex.test(email)\n\treturn isValid\n}\n\nexport const validateNumber = numberStr => {\n\tnumberStr = numberStr || ''\n\tconst isValid =\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\n\treturn isValid\n}\n\n// > 0\nexport const validPositiveInt = intStr => {\n\tintStr = intStr || ''\n\tconst isValid = onlyDigitsRegex.test(intStr)\n\treturn isValid\n}\n\nexport const validName = name => {\n\tlet msg = ''\n\tconst errMsgArgs = []\n\tif (!name) {\n\t\tmsg = 'ERR_REQUIRED_FIELD'\n\t} else if (name.length < 4) {\n\t\tmsg = 'ERR_MIN_LENGTH'\n\t\terrMsgArgs.push(4)\n\t} else if (name.length > 128) {\n\t\tmsg = 'ERR_MAX_LENGTH'\n\t\terrMsgArgs.push(128)\n\t}\n\n\treturn {\n\t\tmsg,\n\t\terrMsgArgs,\n\t}\n}\n\nexport const validPassword = password => {\n\tpassword = password || ''\n\tconst isValid = passwordRegex.test(password)\n\treturn isValid\n}\n\nexport const isEthAddress = (addr = '') => {\n\ttry {\n\t\tutils.getAddress(addr)\n\t} catch (e) {\n\t\treturn false\n\t}\n\treturn true\n}\n\nexport const isEthAddressZero = (addr = '') => {\n\treturn isEthAddress(addr)\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\n\t\t: false\n}\n\nexport const validEthAddress = async ({\n\taddr = '',\n\tnonZeroAddr,\n\tnonERC20,\n\tauthType,\n}) => {\n\tlet msg = ''\n\ttry {\n\t\tconst ethAddressZero = isEthAddressZero(addr)\n\t\tconst notEthAddress = !isEthAddress(addr)\n\t\tif (notEthAddress) {\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\n\t\t} else {\n\t\t\tif (nonZeroAddr && ethAddressZero) {\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\n\t\t\t} else {\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\n\t\t\t\tif (connectionLost) {\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t\t\t\t} else {\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tif (error === 'Non-Ethereum browser detected.')\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t}\n\treturn { msg }\n}\n\nexport const freeAdExENS = async ({ ens = '', authType }) => {\n\tlet msg = ''\n\ttry {\n\t\tif (ens === '') {\n\t\t\tmsg = 'ERR_ENS_REQUIRED'\n\t\t} else {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst ensAddress = await provider.resolveName(\n\t\t\t\t`${ens}.${process.env.REVERSE_REGISTRAR_PARENT}`\n\t\t\t)\n\n\t\t\tif (ensAddress && !isEthAddressZero(ensAddress)) msg = 'ERR_ENS_NOT_FREE'\n\t\t}\n\t} catch (error) {\n\t\tif (error.code === 'INVALID_ARGUMENT') {\n\t\t\tmsg = 'ERR_INVALID_ARGUMENT_ENS'\n\t\t} else {\n\t\t\tmsg = 'ERR_ENS_CHECK'\n\t\t}\n\t}\n\treturn { msg }\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { logOut } from 'services/store-data/auth'\nimport moment from 'moment'\n\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\n\nconst processResponse = (res, dontThrow, skipRedirect) => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\tif (res.status === 401 || res.status === 403) {\n\t\t\tlogOut(skipRedirect)\n\t\t}\n\t\tif (!dontThrow) {\n\t\t\thandleRequesterErrorRes({ res, text })\n\t\t}\n\t})\n}\n\nexport const getSession = ({\n\tidentity,\n\tmode,\n\tsignature,\n\tauthToken,\n\thash,\n\ttypedData,\n\tsignerAddress,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'auth/',\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tidentity,\n\t\t\t\tmode,\n\t\t\t\tsignature,\n\t\t\t\tauthToken,\n\t\t\t\thash,\n\t\t\t\ttypedData,\n\t\t\t\tsignerAddress,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const checkSession = ({ authSig, skipErrToast }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'session',\n\t\t\tmethod: 'GET',\n\t\t\tauthSig,\n\t\t\tskipErrToast,\n\t\t})\n\t\t.then(res => processResponse(res, true, true))\n}\n\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\n\tconst formData = new FormData()\n\tformData.append('media', imageBlob, imageName)\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'media',\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nconst convertItemToJSON = item => {\n\tconst itemToConvert = { ...item }\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\n\t}\n\n\treturn JSON.stringify(itemToConvert)\n}\n\nexport const getAdUnits = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdUnit = ({ unit, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdUnit = ({ unit, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `units/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAdSlots = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdSlot = ({ slot, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdSlot = ({ slot, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `slots/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getCampaigns = ({ authSig, creator }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns/by-owner',\n\t\t\tmethod: 'GET',\n\t\t\tnoCache: true,\n\t\t\tqueryParams: {\n\t\t\t\tbyCreator: creator, //\n\t\t\t\tt: Date.now(),\n\t\t\t},\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${campaign.id}/close`,\n\t\t\tmethod: 'PUT',\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAllCampaigns = all => {\n\tconst queryParams = all\n\t\t? {\n\t\t\t\tall: true,\n\t\t  }\n\t\t: {}\n\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateCampaign = ({ campaign, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(campaign),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nconst updateCfg = (current, type, cfg) => {\n\tconst newCfg = { ...current }\n\tnewCfg[type] = { ...cfg }\n\treturn newCfg\n}\n\nexport default function uiReducer(state = initialState.config, action) {\n\tswitch (action.type) {\n\t\tcase UPDATE_RELAYER_CFG:\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import account from './accountReducer'\nimport signin from './signinReducer'\nimport identity from './identityReducer'\nimport wallet from './walletReducer'\nimport items from './itemsReducer'\nimport newItem from './newItemsReducer'\n// import currentItem from './currentItemsReducer'\nimport spinners from './spinnersReducer'\nimport ui from './uiReducer'\nimport toasts from './toastsReducer'\nimport confirm from './confirmReducer'\nimport nav from './navReducer'\nimport language from './languageReducer'\nimport validations from './validateItemsReducer'\nimport newTransactions from './newTransactionsReducer'\nimport web3Transactions from './web3TransactionsReducer'\nimport tags from './tagsReducer'\nimport ethNetwork from './ethNetworkReducer'\nimport config from './configReducer'\nimport analytics from './analyticsReducer'\nimport channels from './channelsReducer'\nimport { filterActions } from 'redux-ignore'\nimport * as types from 'constants/actionTypes'\n\nexport const persistReducers = {\n\taccount,\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\n\tui: filterActions(ui, [types.UPDATE_UI]),\n\tlanguage,\n\tweb3Transactions,\n\ttags,\n\tethNetwork,\n\tconfig,\n\tanalytics,\n\tchannels,\n}\n\nexport const memoryReducers = {\n\tsignin,\n\tidentity,\n\twallet,\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\n\ttoasts,\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\n\tvalidations,\n\tnewTransactions,\n}\n","import {\n\tCREATE_ACCOUNT,\n\tRESET_ACCOUNT,\n\tUPDATE_ACCOUNT,\n} from '../constants/actionTypes'\nimport initialState from 'store/initialState'\nimport { Base, Account } from 'adex-models'\n\nexport default function accountReducer(state = initialState.account, action) {\n\tlet newState\n\tlet newAccount\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase CREATE_ACCOUNT:\n\t\t\tnewAccount = { ...action.account }\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase RESET_ACCOUNT:\n\t\t\tnewAccount = initialState.account\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase UPDATE_ACCOUNT:\n\t\t\tnewAccount = Base.updateObject({\n\t\t\t\titem: newState,\n\t\t\t\tnewValues: { ...action.newValues },\n\t\t\t\tobjModel: Account,\n\t\t\t})\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_ITEM,\n\tDELETE_ITEM,\n\tUPDATE_ITEM,\n\tREMOVE_ITEM_FROM_ITEM,\n\tADD_ITEM_TO_ITEM,\n\tUPDATE_ALL_ITEMS,\n\tRESET_ALL_ITEMS,\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\nimport initialState from 'store/initialState'\nimport { Item } from 'adex-models'\n\nexport default function itemsReducer(state = initialState.items, action) {\n\tlet newState\n\tlet newCollection\n\tlet newItem\n\tlet collectionId\n\tlet item\n\n\tconst collection = (state = {}, action) => {\n\t\tif (!action.item) return state\n\t\treturn {\n\t\t\t...state,\n\t\t\t[action.item.id]: action.item,\n\t\t}\n\t}\n\n\tconst removeCollectionProp = (collection = {}, prop) => {\n\t\tlet newCol = { ...collection }\n\t\tdelete newCol[prop]\n\t\treturn newCol\n\t}\n\n\tif (action.item && action.itemType) {\n\t\tnewState = { ...state }\n\t\titem = { ...action.item }\n\t\tcollectionId = action.itemType\n\t}\n\n\tswitch (action.type) {\n\t\tcase ADD_ITEM:\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\n\t\t\t// id is going to be set when it comes here\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase ADD_ITEM_TO_ITEM:\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase DELETE_ITEM:\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase REMOVE_ITEM_FROM_ITEM:\n\t\t\tnewItem = Item.removeItem(\n\t\t\t\tnewState[collectionId][item._id],\n\t\t\t\taction.toRemove\n\t\t\t)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ITEM:\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ALL_ITEMS:\n\t\t\tnewState = { ...state }\n\t\t\tconst newItems = action.items.reduce((items, item, index) => {\n\t\t\t\tconst currentItems = { ...items }\n\t\t\t\tconst newItem = { ...item }\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\n\t\t\t\treturn currentItems\n\t\t\t}, newState[action.itemType])\n\n\t\t\tnewState[action.itemType] = newItems\n\t\t\treturn newState\n\t\tcase RESET_ALL_ITEMS:\n\t\t\tnewState = { ...initialState.items }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_UI } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function uiReducer(state = initialState.ui, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_UI:\n\t\t\tnewState = { ...state }\n\t\t\tif (action.category) {\n\t\t\t\tnewState[action.category] = { ...newState[action.category] }\n\t\t\t\tnewState[action.category][action.item] = action.value\n\t\t\t} else {\n\t\t\t\tnewState[action.item] = action.value\n\t\t\t}\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import initialState from 'store/initialState'\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\nimport { setLang } from 'services/translations/translations'\n\nexport default function languageReducer(state = initialState.language, action) {\n\tswitch (action.type) {\n\t\tcase CHANGE_LANGUAGE:\n\t\t\tlet newLang = action.lang || state\n\t\t\tsetLang(newLang)\n\t\t\treturn newLang\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_WEB3_TRANSACTION,\n\tUPDATE_WEB3_TRANSACTION,\n\tRESET_WEB3_TRANSACTION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function web3TransactionsReducer(\n\tstate = initialState.web3Transactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\tlet newAddrTxs\n\tlet pendingTxs\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateObj = ({ obj, key, val }) => {\n\t\tobj = obj || {}\n\t\tobj[key] = val\n\n\t\treturn obj\n\t}\n\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\n\t\t\tpTxs.push(newTx.hash)\n\t\t} else {\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\n\t\t}\n\n\t\treturn pTxs\n\t}\n\n\tif (!action.addr) {\n\t\treturn state\n\t}\n\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\n\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\n\t// If we keep the transactions on the node we can clean them from local storage on address change\n\tswitch (action.type) {\n\t\tcase ADD_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...action.value }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase UPDATE_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase RESET_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: { txHash: action.tx },\n\t\t\t})\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function tagsReducer(state = initialState.tags, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_TAGS:\n\t\t\tnewState = { ...state, ...action.tags }\n\t\t\treturn newState\n\t\tcase ADD_NEW_TAG:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.tag] = action.tag\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function tagsReducer(state = initialState.tags, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_GAS_DATA:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.gasData = { ...action.gasData }\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ANALYTICS,\n\tRESET_ANALYTICS,\n\tUPDATE_ANALYTICS_TIMEFRAME,\n\tUPDATE_ADVANCED_CAMPAIGN_ANALYTICS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function analyticsReducer(\n\tstate = initialState.analytics,\n\taction\n) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.timeframe = action.value\n\t\t\treturn newState\n\t\tcase UPDATE_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.side] = { ...newState[action.side] }\n\t\t\tnewState[action.side][action.eventType] = {\n\t\t\t\t...newState[action.side][action.eventType],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric][\n\t\t\t\taction.timeframe\n\t\t\t] = { ...action.value }\n\t\t\treturn newState\n\t\tcase UPDATE_ADVANCED_CAMPAIGN_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.campaigns = { ...newState.campaigns }\n\t\t\tnewState.campaigns[action.eventType] = {\n\t\t\t\t...action.value,\n\t\t\t}\n\t\t\treturn newState\n\t\tcase RESET_ANALYTICS:\n\t\t\tnewState = { ...initialState.analytics }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_CHANNELS_WITH_BALANCE,\n\tRESET_CHANNELS_WITH_BALANCE,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function channelsReducer(state = initialState.channels, action) {\n\tlet newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_CHANNELS_WITH_BALANCE:\n\t\t\tnewState.withBalance = [...action.withBalance]\n\t\t\treturn newState\n\t\tcase RESET_CHANNELS_WITH_BALANCE:\n\t\t\tnewState.withBalance = initialState.channels.withBalance\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function signinReducer(state = initialState.signin, action) {\n\tlet newState\n\tlet newSignin\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SIGNIN:\n\t\t\tnewSignin = { ...newState }\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\n\t\t\t\tnewSignin[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewSignin[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newSignin\n\n\t\t\treturn newState\n\n\t\tcase RESET_SIGNIN:\n\t\t\tnewSignin = { ...initialState.signin }\n\t\t\tnewState = newSignin\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function identityReducer(state = initialState.identity, action) {\n\tlet newState\n\tlet newIdentity\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_IDENTITY:\n\t\t\tnewIdentity = newState\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewIdentity[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newIdentity\n\n\t\t\treturn newState\n\n\t\tcase RESET_IDENTITY:\n\t\t\tnewIdentity = { ...initialState.identity }\n\t\t\tnewState = newIdentity\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function walletReducer(state = initialState.wallet, action) {\n\tlet newState\n\tlet newWallet\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_WALLET:\n\t\t\tnewWallet = newState\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\n\t\t\t\tnewWallet[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewWallet[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newWallet\n\n\t\t\treturn newState\n\n\t\tcase RESET_WALLET:\n\t\t\tnewWallet = { ...initialState.wallet }\n\t\t\tnewState = newWallet\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_NEW_ITEM,\n\tRESET_NEW_ITEM,\n\tRESET_ALL_NEW_ITEMS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newItemsReducer(state = initialState.newItem, action) {\n\tlet newState\n\tlet newItem\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...action.item }\n\t\t\tnewState[action.itemType] = newItem\n\n\t\t\treturn newState\n\n\t\tcase RESET_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...initialState.newItem[action.item] }\n\t\t\tnewState[action.item] = newItem\n\n\t\t\treturn newState\n\n\t\tcase RESET_ALL_NEW_ITEMS:\n\t\t\tnewState = { ...initialState.newItem }\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function spinnersReducer(state = initialState.spinners, action) {\n\tconst newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SPINNER:\n\t\t\tnewState[action.spinner] = action.value\n\n\t\t\treturn newState\n\t\tcase UPDATE_ITEM:\n\t\t\tnewState['update' + action.item._id] = false\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function toastsReducer(state = initialState.toasts, action) {\n\tlet newState\n\tlet newToast\n\n\tswitch (action.type) {\n\t\tcase ADD_TOAST:\n\t\t\tnewToast = { ...action.toast }\n\t\t\tnewToast.added = Date.now()\n\t\t\tnewState = [newToast, ...state]\n\t\t\treturn newState\n\n\t\tcase REMOVE_TOAST:\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n// import Helper from './../helpers/miscHelpers'\n\nexport default function confirmReducer(state = initialState.confirm, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase CONFIRM_ACTION:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.data = { ...action.confirm.data }\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\n\t\t\tnewState.onCancel = action.confirm.onCancel\n\t\t\tnewState.active =\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\n\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\n\t\t\tnewState.calledOn = Date.now()\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_NAV } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function navReducer(state = initialState.nav, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NAV:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ITEM_VALIDATION,\n\tRESET_ITEM_VALIDATION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function validateItemsReducer(\n\tstate = initialState.validations,\n\taction\n) {\n\tlet newState\n\tlet newErrors\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tcase RESET_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item] }\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\n\t\t\t\tdelete newErrors[action.key]\n\t\t\t} else if (newErrors && !action.key) {\n\t\t\t\tnewErrors = {}\n\t\t\t}\n\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_NEW_TRANSACTION,\n\tRESET_NEW_TRANSACTION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newTransactionsReducer(\n\tstate = initialState.newTransactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateTx = ({ tx, key, val }) => {\n\t\ttx = tx || {}\n\t\ttx[key] = val\n\n\t\treturn tx\n\t}\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_TRANSACTION:\n\t\t\tnewTx = {\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\n\t\t\t}\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\n\n\t\t\t// console.log('newTx', newTx)\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tcase RESET_NEW_TRANSACTION:\n\t\t\tnewTx = { ...initialState.newTransactions.default }\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\nimport thunk from 'redux-thunk'\nimport { persistReducers, memoryReducers } from 'reducers'\nimport history from './history'\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\nimport { persistStore, persistCombineReducers } from 'redux-persist'\nimport localStorage from 'redux-persist/lib/storage'\n// import session from 'redux-persist/lib/storage/session'\n\nconst reduxRouterMiddleware = routerMiddleware(history)\n\nconst persistConfig = {\n\tkey: 'persist',\n\tstorage: localStorage,\n}\n\n// const configSession = {\n//   key: 'session',\n//   storage: session,\n// }\n\n// const rootReducer = combineReducers(reducers)\n\n// TODO: make session reducer(signin) - RAM reducer (no persist)\nconst rootReducer = combineReducers({\n\tpersist: persistCombineReducers(persistConfig, persistReducers),\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\n\trouter: connectRouter(history),\n})\n\nconst logger = store => next => action => {\n\t// if (action.type === 'UPDATE_NEWITEM') {\n\t//   return next(action)\n\t// }\n\n\tconsole.groupCollapsed(action.type)\n\tconsole.info('dispatching', action)\n\tlet result = next(action)\n\tconsole.log('next state', store.getState())\n\tconsole.groupEnd(action.type)\n\treturn result\n}\n\nfunction configureStoreProd(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t\t// logger,\n\t]\n\n\tlet store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcompose(applyMiddleware(...middlewares))\n\t)\n\n\tlet persistor = persistStore(store)\n\n\treturn { persistor, store }\n}\n\nfunction configureStoreDev(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\n\t\treduxImmutableStateInvariant(),\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t\tlogger,\n\t]\n\n\tconst composeEnhancers =\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\n\tconst store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\n\t)\n\n\tif (module.hot) {\n\t\t// Enable Webpack hot module replacement for reducers\n\t\tmodule.hot.accept('../reducers', () => {\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\n\t\t\tstore.replaceReducer(nextReducer)\n\t\t})\n\t}\n\n\tlet persistor = persistStore(store)\n\treturn { persistor, store }\n}\n\nconst configureStore =\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\n\nexport default configureStore()\n","import configureStore from './configureStore'\n\nexport default configureStore\n\nexport const store = configureStore.store\nexport const persistor = configureStore.persistor\nexport const dispatch = store.dispatch\nexport const getState = store.getState\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetSigner,\n\tgetMultipleTxSignatures,\n} from 'services/smart-contracts/actions/ethers'\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\nimport { Contract } from 'ethers'\nimport {\n\tbigNumberify,\n\tparseUnits,\n\tgetAddress,\n\tInterface,\n\tkeccak256,\n\tid,\n} from 'ethers/utils'\nimport { generateAddress2 } from 'ethereumjs-util'\nimport { executeTx } from 'services/adex-relayer'\nimport {\n\tselectRelayerConfig,\n\tselectFeeTokenWhitelist,\n\tselectSaiToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\nimport solc from 'solcBrowser'\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\n\nconst ERC20 = new Interface(ERC20TokenABI)\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\n\nexport async function getIdentityDeployData({\n\towner,\n\trelayerRoutineAuthValidUntil = 10648454444,\n}) {\n\tconst {\n\t\tidentityFactoryAddr,\n\t\trelayerAddr,\n\t\tbaseIdentityAddr,\n\t\tidentityRecoveryAddr,\n\t\tcoreAddr,\n\t\tmainToken,\n\t} = selectRelayerConfig()\n\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\n\n\tconst routineAuthorizationsRaw = [\n\t\t{\n\t\t\trelayer: relayerAddr,\n\t\t\toutpace: coreAddr,\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tfeeTokenAmount: '0x00',\n\t\t},\n\t]\n\n\tconst bytecode = getProxyDeployBytecode(\n\t\tbaseIdentityAddr,\n\t\tprivileges,\n\t\t{\n\t\t\tprivSlot: 0,\n\t\t\troutineAuthsSlot: 1,\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\n\t\t\t\tnew RoutineAuthorization(x).hash()\n\t\t\t),\n\t\t},\n\t\tsolc\n\t)\n\n\tconst salt = keccak256(owner)\n\n\tconst identityAddr = getAddress(\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\n\t)\n\n\treturn {\n\t\tidentityFactoryAddr,\n\t\tbaseIdentityAddr,\n\t\tbytecode,\n\t\tsalt,\n\t\tidentityAddr,\n\t\tprivileges,\n\t\troutineAuthorizationsRaw,\n\t}\n}\n\nexport async function withdrawFromIdentity({\n\taccount,\n\tamountToWithdraw,\n\twithdrawTo,\n\tgetFeesOnly,\n}) {\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { wallet, identity, stats } = account\n\tconst { authType } = wallet\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, Identity, getToken } = await getEthers(authType)\n\n\tconst identityAddr = identity.address\n\n\tconst toWithdraw = parseUnits(amountToWithdraw, mainToken.decimals)\n\n\tconst tokenAddr = mainToken.address\n\n\tconst withdrawTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: tokenAddr,\n\t\tto: tokenAddr,\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\n\t\twithdrawTx: true,\n\t}\n\tconst txns = [withdrawTx]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: toWithdraw,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\n\n\tlet actualWithdrawAmount = toWithdraw\n\n\tif (toWithdraw.gt(maxWithdraw)) {\n\t\tactualWithdrawAmount = maxWithdraw\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\n\t\t\tif (tx.withdrawTx) {\n\t\t\t\ttx.data = ERC20.functions.transfer.encode([\n\t\t\t\t\twithdrawTo,\n\t\t\t\t\tactualWithdrawAmount.toString(),\n\t\t\t\t])\n\t\t\t}\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, mainToken.decimals),\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function setIdentityPrivilege({\n\taccount,\n\tsetAddr,\n\tprivLevel,\n\tgetFeesOnly,\n}) {\n\tconst { wallet, identity } = account\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\tconst identityAddr = identity.address\n\n\tconst identityInterface = new Interface(Identity.abi)\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: identityAddr,\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t]),\n\t}\n\n\tconst txns = [tx1]\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: (await getIdentityTxnsTotalFees({ txnsByFeeToken })).total,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\ttxnsByFeeToken,\n\t\tidentityAddr,\n\t\twallet,\n\t\tprovider,\n\t\textraData: {\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t},\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\nfunction txnsByTokenWithSaiToDaiSwap({\n\ttxns,\n\tmainToken,\n\tdaiAddr,\n\tsaiAddr,\n\tidentityAddr,\n}) {\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\n\t\t(current, tx, i) => {\n\t\t\tconst { withdrawAmountByToken } = tx\n\n\t\t\tconst needSaiToDaiSwap =\n\t\t\t\t!!withdrawAmountByToken &&\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\n\t\t\t\tmainToken.address === daiAddr &&\n\t\t\t\tsaiAddr !== daiAddr\n\n\t\t\tlet feeTokenAddr = ''\n\n\t\t\tif (needSaiToDaiSwap) {\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\n\t\t\t\t\tbigNumberify(withdrawAmountByToken[saiAddr])\n\t\t\t\t)\n\t\t\t\tfeeTokenAddr = daiAddr\n\t\t\t}\n\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\n\t\t\t// normalize tx\n\t\t\ttx.feeTokenAddr = feeTokenAddr\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\n\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = (\n\t\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] || []\n\t\t\t).concat([tx])\n\n\t\t\treturn current\n\t\t},\n\t\t{\n\t\t\tsaiWithdrawAmount: bigNumberify('0'),\n\t\t\ttxnsByFeeToken: {},\n\t\t}\n\t)\n\n\treturn { txnsByFeeToken, saiWithdrawAmount }\n}\n\nexport async function addIdentityENS({ username = '', account, getFeesOnly }) {\n\tconst { wallet, identity } = account\n\tconst {\n\t\tprovider,\n\t\tMainToken,\n\t\tgetToken,\n\t\tIdentity,\n\t\tAdExENSManager,\n\t\tReverseRegistrar,\n\t} = await getEthers(wallet.authType)\n\tconst identityAddr = identity.address\n\tconst AdExENSManagerInterface = new Interface(AdExENSManager.abi)\n\tconst ReverseRegistrarInterface = new Interface(ReverseRegistrar.abi)\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: AdExENSManager.address,\n\t\tdata: AdExENSManagerInterface.functions.registerAndSetup.encode([\n\t\t\tAdExENSManager.publicResolver,\n\t\t\tid(username),\n\t\t\tidentityAddr,\n\t\t]),\n\t}\n\n\tconst tx2 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: ReverseRegistrar.address,\n\t\tdata: ReverseRegistrarInterface.functions.setName.encode([\n\t\t\t`${username}.${ReverseRegistrar.parentDomain}`,\n\t\t]),\n\t}\n\n\tconst txns = [tx1, tx2]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { total } = await getIdentityTxnsTotalFees({\n\t\ttxnsByFeeToken,\n\t\tmainToken,\n\t})\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: total,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function getIdentityTxnsWithNoncesAndFees({\n\tamountInMainTokenNeeded = '0',\n\ttxns = [],\n\tidentityAddr,\n\tprovider,\n\tIdentity,\n\taccount,\n\tgetToken,\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst saiToken = selectSaiToken()\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\n\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\n\tlet identityContract = null\n\n\tif (isDeployed) {\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\n\t}\n\n\tconst initialNonce = isDeployed\n\t\t? (await identityContract.nonce()).toNumber()\n\t\t: 0\n\n\tconst feesForMainTxns = txns.length\n\t\t? bigNumberify(\n\t\t\t\t!initialNonce ? mainTokenWithFees.minDeploy : mainTokenWithFees.min\n\t\t  ).add(\n\t\t\t\tbigNumberify(mainTokenWithFees.min).mul(bigNumberify(txns.length - 1))\n\t\t  )\n\t\t: bigNumberify(0)\n\n\tconst {\n\t\tsweepTxns = [],\n\t\tswapAmountsByToken = {},\n\t} = await getSweepingTxnsIfNeeded({\n\t\tamountInMainTokenNeeded: feesForMainTxns.add(\n\t\t\tbigNumberify(amountInMainTokenNeeded)\n\t\t),\n\t\taccount,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns: sweepTxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// 1st - always get sweeping txns (channelWithdraw)\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\n\t// 3rd - make other txns with the main token only\n\n\t// TODO: make it work with other tokens\n\t// TODO: change getSwapAmountsByToken if more swaps are supported\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\n\t\t.add(bigNumberify(swapAmountsByToken[saiAddr] || 0))\n\n\tif (!saiSwapAmount.isZero()) {\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\n\t\t\t...(await swapSaiToDaiTxns({\n\t\t\t\tgetToken,\n\t\t\t\tidentityAddr,\n\t\t\t\tdaiAddr,\n\t\t\t\tsaiToken,\n\t\t\t\tswapAmount: saiSwapAmount,\n\t\t\t})),\n\t\t]\n\t}\n\n\tconst allFeeTokens = [\n\t\t...new Set([\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\n\t\t]),\n\t]\n\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\n\t\ttxns[token] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\n\t\t]\n\n\t\treturn txns\n\t}, {})\n\n\tlet currentNonce = initialNonce\n\n\tObject.keys(txnsByFeeToken).forEach(key => {\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\n\t\t\tconst {\n\t\t\t\troutinesTxCount = 0,\n\t\t\t\troutinesSweepTxCount = 0,\n\t\t\t\textraTxFeesCount = 0,\n\t\t\t\tisSweepTx,\n\t\t\t} = tx\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\n\t\t\tconst minFeeAmount = bigNumberify(\n\t\t\t\tcurrentNonce === 0 ? feeToken.minDeploy : feeToken.min\n\t\t\t)\n\n\t\t\tconst routinesFeeAmount = bigNumberify(routinesTxCount).mul(\n\t\t\t\tbigNumberify(feeToken.min)\n\t\t\t)\n\n\t\t\tconst extraFeesAmount = bigNumberify(extraTxFeesCount).mul(\n\t\t\t\tbigNumberify(feeToken.min)\n\t\t\t)\n\n\t\t\t// Total relayer fees for the transaction\n\t\t\tconst feeAmount = minFeeAmount\n\t\t\t\t.add(routinesFeeAmount)\n\t\t\t\t.add(extraFeesAmount)\n\t\t\t\t.toString()\n\n\t\t\t// fees that are not pre calculated with in the total identity balance\n\t\t\tconst nonIdentityBalanceFeeAmount = bigNumberify(feeAmount)\n\t\t\t\t.sub(bigNumberify(isSweepTx ? feeToken.min : 0))\n\t\t\t\t.sub(bigNumberify(routinesSweepTxCount).mul(bigNumberify(feeToken.min)))\n\t\t\t\t.toString()\n\n\t\t\tconst txWithNonce = {\n\t\t\t\t...tx,\n\t\t\t\tfeeTokenAddr: feeToken.address,\n\t\t\t\tfeeAmount,\n\t\t\t\tnonce: currentNonce,\n\t\t\t\tnonIdentityBalanceFeeAmount,\n\t\t\t}\n\n\t\t\tcurrentNonce += 1\n\n\t\t\treturn txWithNonce\n\t\t})\n\t})\n\n\treturn txnsByFeeToken\n}\n\nexport async function getApproveTxns({\n\tgetToken,\n\ttoken,\n\tidentityAddr,\n\tfeeTokenAddr,\n\tapproveForAddress,\n\tapproveAmount,\n}) {\n\tconst tokenContract = getToken(token)\n\n\tconst allowance = await tokenContract.allowance(\n\t\tidentityAddr,\n\t\tapproveForAddress\n\t)\n\n\tconst approveTxns = []\n\n\tif (!allowance.isZero()) {\n\t\tapproveTxns.push({\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: token.address,\n\t\t\tdata: ERC20.functions.approve.encode([approveForAddress, 0]),\n\t\t})\n\t}\n\n\tapproveTxns.push({\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: feeTokenAddr,\n\t\tto: token.address,\n\t\tdata: ERC20.functions.approve.encode([approveForAddress, approveAmount]),\n\t})\n\n\treturn approveTxns\n}\n\nasync function swapSaiToDaiTxns({\n\tidentityAddr,\n\tdaiAddr,\n\tsaiToken,\n\tswapAmount,\n\tgetToken,\n}) {\n\tconst approveTxns = await getApproveTxns({\n\t\tgetToken,\n\t\ttoken: saiToken,\n\t\tidentityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\n\t\tapproveAmount: swapAmount,\n\t})\n\n\tconst swapTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tto: SCD_MCD_MIGRATION_ADDR,\n\t\tdata: ScdMcdMigration.functions.swapSaiToDai.encode([swapAmount]),\n\t}\n\n\treturn [...approveTxns, swapTx]\n}\n\n// TODO: use byToken where needed\n// currently works because only using SAI and DAI only\nexport async function getIdentityTxnsTotalFees({\n\ttxnsByFeeToken,\n\tmainToken = {},\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst bigZero = bigNumberify('0')\n\tconst feesData = Object.values(txnsByFeeToken)\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\n\t\t.reduce(\n\t\t\t(result, tx) => {\n\t\t\t\tconst txFeeAmount = bigNumberify(tx.nonIdentityBalanceFeeAmount)\n\t\t\t\tresult.total = result.total.add(txFeeAmount)\n\n\t\t\t\tresult.byToken[tx.feeTokenAddr] = (\n\t\t\t\t\tresult.byToken[tx.feeTokenAddr] || bigZero\n\t\t\t\t).add(txFeeAmount)\n\n\t\t\t\treturn result\n\t\t\t},\n\t\t\t{ total: bigZero, byToken: {} }\n\t\t)\n\n\tconst byToken = Object.entries(feesData.byToken).map(([key, value]) => {\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\n\t\treturn {\n\t\t\taddress: key,\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\n\t\t\tsymbol,\n\t\t\tfeeFormatted: `${formatTokenAmount(\n\t\t\t\tvalue.toString(),\n\t\t\t\tdecimals,\n\t\t\t\tfalse,\n\t\t\t\t4\n\t\t\t)} ${symbol}`,\n\t\t}\n\t})\n\n\tconst fees = {\n\t\t// TODO: change to return total as BN and add totalFormatted\n\t\ttotal: formatTokenAmount(\n\t\t\tfeesData.total.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalBN: feesData.total,\n\t\tbyToken,\n\t}\n\n\treturn fees\n}\n\nexport async function processExecuteByFeeTokens({\n\ttxnsByFeeToken,\n\twallet,\n\tprovider,\n\tidentityAddr,\n\textraData = {},\n}) {\n\tconst signer = await getSigner({ wallet, provider })\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\n\t\tconst data = {\n\t\t\ttxnsRaw,\n\t\t\tsignatures,\n\t\t\tidentityAddr,\n\t\t\t...extraData,\n\t\t}\n\n\t\tconst result = await executeTx(data)\n\n\t\treturn {\n\t\t\tresult,\n\t\t}\n\t})\n\n\tconst results = await Promise.all(all)\n\n\treturn results\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport ewt from './ewt'\n\nconst BEARER_PREFIX = 'Bearer '\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\n\nconst getValidatorRequester = ({ baseUrl }) => {\n\treturn new Requester({ baseUrl })\n}\n\nconst getRequesters = ({ campaign }) => {\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\n\tconst followerRequester = getValidatorRequester({\n\t\tbaseUrl: follower.url,\n\t})\n\n\treturn {\n\t\tleader: { requester: leaderRequester, validator: leader },\n\t\tfollower: { requester: followerRequester, validator: follower },\n\t}\n}\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\n\tconst { identity, wallet } = account\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\n\tif (existingAuth) {\n\t\treturn existingAuth\n\t}\n\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst payload = {\n\t\tid: validatorId,\n\t\tidentity: identity.address,\n\t\tera: Math.floor(Date.now() / 60000),\n\t}\n\n\tconst token = ewt.sign(signer, payload)\n\n\treturn token\n}\n\nconst sendMessage = async ({ campaign, options, account }) => {\n\tconst { follower, leader } = getRequesters({ campaign })\n\n\tconst followerAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: follower.validator.id,\n\t\taccount,\n\t})\n\tconst leaderAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: leader.validator.id,\n\t\taccount,\n\t})\n\tconst followerResult = await follower.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\tconst leaderResult = await leader.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn {\n\t\tresults: {\n\t\t\tfollowerResult,\n\t\t\tleaderResult,\n\t\t},\n\t\tauthTokens: {\n\t\t\t[follower.id]: followerAuthToken,\n\t\t\t[leader.id]: leaderAuthToken,\n\t\t},\n\t}\n}\n\nexport const lastApprovedState = ({ campaign }) => {\n\tconst { leader } = getRequesters({ campaign })\n\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `channel/${campaign.id}/last-approved`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaign = ({ campaign, account }) => {\n\tconst options = {\n\t\troute: `channel/${campaign.id}/events`,\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\n\t\theaders: { 'Content-Type': 'application/json' },\n\t}\n\n\treturn sendMessage({ campaign, options, account })\n}\n\nexport const identityAnalytics = async ({\n\tidenityAddr,\n\tcampaign,\n\tcampaignId,\n\tleaderAuth,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n\tside,\n}) => {\n\tconst baseUrl = VALIDATOR_LEADER_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/for-${side}${campaignId || ''}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn aggregates\n}\n\nexport const identityCampaignsAnalytics = async ({ leaderAuth, eventType }) => {\n\tconst baseUrl = VALIDATOR_LEADER_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/advanced`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType },\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn aggregates\n}\n\nexport const campaignAnalytics = ({\n\tcampaign,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n}) => {\n\tconst { leader } = getRequesters({ campaign })\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `/analytics/${campaign.id}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\n\t\t})\n\t\t.then(processResponse)\n}\n"],"sourceRoot":""}