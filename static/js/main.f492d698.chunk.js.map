{"version":3,"sources":["resources/home-wallpaper.jpg","constants/actionTypes.js","constants/misc.js","store/initialState.js","services/translations/translations.js","reducers/index.js","reducers/accountReducer.js","reducers/itemsReducer.js","reducers/uiReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/analyticsReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/newTransactionsReducer.js","store/history.js","store/configureStore.js","actions/common.js","helpers/miscHelpers.js","selectors/accountSelectors.js","selectors/identitySelectors.js","selectors/locationSelectors.js","selectors/uiSelectors.js","services/store-data/campaigns.js","services/store-data/auth.js","services/requester/index.js","services/requester/requester.js","services/adex-market/actions.js","actions/uiActions.js","services/auth/auth.js","services/adex-relayer/actions.js","services/smart-contracts/contractsCfg.js","services/smart-contracts/ethers.js","services/smart-contracts/signers/trezor.js","services/crypto/crypto.js","helpers/localStorageHelpers.js","services/wallet/wallet.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","actions/transactionActions.js","services/smart-contracts/actions/ethers.js","services/adex-validator/actions.js","services/smart-contracts/actions/stats.js","actions/accountActions.js","services/smart-contracts/actions/core.js","helpers/mediaHelpers.js","constants/targeting.js","actions/itemActions.js","helpers/formatters.js","services/smart-contracts/actions/identity.js","actions/identityActions.js","actions/bidActions.js","services/smart-contracts/actions/erc20.js","services/smart-contracts/actions/common.js","helpers/validators.js","actions/validationActions.js","actions/analyticsActions.js","actions/index.js","components/toast/Toast.js","components/toast/styles.js","components/translate/Translate.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","helpers/logosHelpers.js","components/common/spinners/index.js","components/dashboard/dashboard/TopBar.js","components/common/img/Img.js","components/common/img/styles.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/ValidImageHoc.js","components/dashboard/forms/ValidItemHoc.js","components/dashboard/containers/ImgDialog/styles.js","components/dashboard/containers/ImgDialog/ImgDialog.js","components/dashboard/containers/SaveBtn/SaveBtn.js","components/dashboard/containers/SaveBtn/styles.js","components/dashboard/containers/ItemHoc/styles.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/ItemHoc/ItemHoc.js","components/common/dropdown/Dropdown.js","components/common/dropdown/styles.js","components/dashboard/containers/Lists/styles.js","components/dashboard/containers/Lists/Controls.js","components/dashboard/containers/Lists/ListWithControls.js","components/dashboard/collection/Rows.js","components/dashboard/forms/stepper/MaterialUiStepper.js","components/dashboard/forms/stepper/styles.js","components/dashboard/forms/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/content.js","components/common/dialog/WithDialog.js","components/dashboard/forms/items/AdUnit/NewAdUnitHoc.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","helpers/utmHelpers.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/autocomplete/common.js","components/common/autocomplete/DownshiftMultiple.js","components/common/autocomplete/DownshiftSingle.js","components/common/autocomplete/Autocomplete.js","components/common/autocomplete/styles.js","components/dashboard/forms/items/AdUnit/AdUnitTargeting.js","components/dashboard/containers/UnitTargets/UnitTargets.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/NewCampaignHoc.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/NewAdSlotHoc.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/AdSlot/AdSlotTargeting.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/ItemsList/ItemsList.js","components/dashboard/containers/ItemsList/styles.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/ItemCommon.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/Campaign/styles.js","components/dashboard/charts/options.js","components/dashboard/charts/slot/styles.js","components/dashboard/charts/slot/bidsStatus.js","components/dashboard/charts/slot/bidsLegend.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/dashboard/charts/simplified.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/DashboardStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Slot/styles.js","components/dashboard/containers/Items/Items.js","components/dashboard/containers/Transactions/Transactions.js","components/dashboard/containers/Transactions/styles.js","components/dashboard/forms/web3/TransactionHoc.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/styles.js","components/dashboard/account/AccountInfo.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/IdentityHoc.js","components/signin/identity/styles.js","components/signin/identity/IdentityContractAddressEthDeploy.js","components/common/stepper/ValidItemHoc.js","components/signin/identity/ownerAuth/AuthHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthLedger.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/IdentityContractOwner.js","components/signin/identity/GrantInfo.js","components/signin/identity/GrantDeploy.js","components/signin/identity/GrantLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/ExternalWalletConnect.js","components/common/stepper/styles.js","components/common/stepper/MaterialUiStepper.js","components/signin/identity/IdentitySteps.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/themeMUi.js","components/App/App.js","serviceWorker.js","index.js","resources/no-image-box-eddie.jpg","resources/trezor-logo-h.png","resources/ledger_logo_header.png","services/smart-contracts/signers/ledger.js","services/adex-validator/ewt.js","../external \"Module\"","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","resources/404.png","resources/rekt-eddie.png","resources/download-metamask.png","resources/adex-logo-txt-sm.svg","resources/eddie/eddie-20.png"],"names":["module","exports","__webpack_require__","p","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS","RESET_ANALYTICS","BID_STATES","ExchangeConstants","TIMEOUTS","SignatureModes","constants","AdTypes","AdUnitsTypes","map","type","value","label","split","SORT_PROPERTIES_ITEMS","Object","keys","key","id","FILTER_PROPERTIES_ITEMS","labelIsProp","values","AUTH_TYPES","METAMASK","name","signType","GETH","limit","TREZOR","LEDGER","DEMO","GRANT","SEED","ETHEREUM_NETWORKS","1","for","5","production","development","SORT_PROPERTIES_CAMPAIGN","FILTER_PROPERTIES_CAMPAIGN","status.name","UTM_PARAMS","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_SIDES","VALIDATOR_ANALYTICS_EVENT_TYPES","VALIDATOR_ANALYTICS_TIMEFRAMES","initialState","account","Account","signin","email","password","passConfirm","seed","publicKey","seedCheck","authenticated","newItem","Campaign","plainObj","AdUnit","temp","addUtmLink","AdSlot","currentItem","items","spinners","ui","toasts","confirm","data","nav","side","language","validations","newTransactions","default","web3Transactions","tags","identity","ethNetwork","networkId","gasData","wallet","config","relayer","market","validators","analytics","forEach","eventType","metric","timeframe","getValidatorAnalyticsInitialState","translations","adexTranslations","lang","translate","val","arguments","length","undefined","_ref","_ref$isProp","isProp","_ref$args","args","replace","toUpperCase","translation","Array","isArray","tpl","_","v","arg","component","renderToString","interpolate","setLang","lng","persistReducers","newState","state","action","objectSpread","Base","updateObject","item","newValues","objModel","filterActions","newCollection","collectionId","collection","defineProperty","itemType","Item","addItem","_id","toAdd","prop","newCol","removeCollectionProp","removeItem","toRemove","newItems","reduce","index","currentItems","ipfs","match","category","types","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","_ref2","pTxs","status","indexOf","hash","push","filter","tx","addr","toConsumableArray","obj","updateObj","txHash","tag","memoryReducers","newSignin","newidentity","newWallet","spinner","newToast","toast","added","Date","now","concat","t","onConfirm","onCancel","active","noActionBtns","calledOn","newErrors","errors","hasOwnProperty","updateTx","history","createHashHistory","reduxRouterMiddleware","routerMiddleware","configStorage","storage","localStorage","rootReducer","combineReducers","persist","persistCombineReducers","memory","router","connectRouter","configureStore","middlewares","thunk","store","createStore","compose","applyMiddleware","apply","persistor","persistStore","execute","dispatch","getState","miscHelpers","hexToRgbaColorString","hex","alpha","Error","substr","hexToDec","h","parseInt","r","g","b","getErrMsg","err","stack","message","toString","error","isInt","int","shuffleArray","array","sort","Math","random","c","prefix","substring","min","max","floor","this","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","initial","moment","isMoment","valueOf","add","queryParams","encodeURIComponent","join","selectAccount","selectAuth","createSelector","address","authSig","authType","selectIdentity","selectLocation","location","selectNavTitle","navTitle","LOOP_TIMEOUT","campaignsCheckTimeout","clearCampaignsTimeout","clearTimeout","syncCampaigns","asyncToGenerator","regenerator_default","a","mark","_callee","hasAuth","_selectAccount","campaigns","campaignsMapped","wrap","_context","prev","next","getCampaigns","sent","spec","updateItems","t0","console","addToast","toastStr","stop","checkCampaigns","then","checkCampaignsLoop","catch","setTimeout","store_data_campaigns","logOut","skipRedirect","campaignsLoop","resetIdentity","resetAllItems","resetAllNewItems","resetAllBids","resetAccount","resetAnalytics","isDemoMode","_authType","requester","AdexNodeRequester","_this","baseUrl","classCallCheck","getAuthHeaders","acc","X-User-Address","_addr","X-User-Signature","_authSig","X-Auth-Token","_authToken","getUrl","base","route","query","url","fetch","_ref3","_ref3$route","_ref3$queryParams","_ref3$method","method","body","_ref3$headers","headers","_ref3$authSig","userAddr","qp","authToken","demo","Helper","getQuery","hdrs","Requester","process","processResponse","res","dontThrow","json","text","statusText","getSession","mode","signature","typedData","signerAddress","JSON","stringify","Content-Type","checkSession","skipErrToast","convertItemToJSON","itemToConvert","created","unix","getAdUnits","_ref4","postAdUnit","_ref5","unit","updateAdUnit","_ref6","getAdSlots","_ref7","postAdSlot","_ref8","slot","updateAdSlot","_ref9","_ref10","getAllCampaigns","all","updateSpinner","updateUi","_ref$label","_ref$timeout","timeout","unclosable","anchorOrigin","top","getGuid","removeToast","toastId","confirmAction","_ref2$confirmLabel","confirmLabel","_ref2$cancelLabel","cancelLabel","_ref2$title","title","_ref2$text","updateNav","changeLanguage","updateValidationErrors","resetValidationErrors","addSig","_ref$addr","sig","expiryTime","_ref$identity","setItem","toLowerCase","getSig","_ref2$addr","_ref2$identity","sigAndTIme","getItem","time","grantAccount","ownerAddr","mail","couponCode","getGrantType","getOwnerIdentities","owner","registerFullIdentity","privileges","sendOpenChannel","txnsRaw","signatures","channel","identityAddr","registerExpectedIdentity","relayerConfig","executeTx","_ref11","setAddrPriv","_ref12","privLevel","setAddr","contracts","Identity","abi","AdExCore","DAI","Dai","decimals","IdentityFactory","localWeb3","provider","adexCore","dai","identityFactory","results","ethers","providers","JsonRpcProvider","Contract","abrupt","loadInjectedWeb3","Promise","resolve","reject","window","addEventListener","ethereum","web3","getInjectedWeb3","_callee2","enabled","_results","_context2","enable","log","Web3Provider","currentProvider","getLocalWeb3","getEthers","_callee3","injected","_context3","_x","ethereumSelectedAddress","_callee4","_context4","selectedAddress","utils","getAddress","ethereumNetworkId","_callee5","_context5","networkVersion","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","opts","possibleConstructorReturn","getPrototypeOf","call","getAddsParams","_ref$from","from","_ref$to","to","bundle","path","showOnTrezor","getAddresses","_ref3$from","_ref3$to","success","payload","_args","ethereumGetAddress","signTx","params","txProps","txSigned","resolveProperties","hexlify","ethereumSignTransaction","transaction","s","serializeTransaction","sendTransaction","txData","_x2","signMessage","_args4","ethereumSignMessage","_x3","connect","_provider","_path","Signer","crypto","require","encrypt","cipher","createCipher","crypted","update","final","decrypt","decipher","createDecipher","dec","loadFromLocalStorage","parse","saveToLocalStorage","serialized","warn","generateWallet","mnemonic","randomEntropy","randomBytes","HDNode","entropyToMnemonic","getRandomMnemonic","Wallet","fromMnemonic","privateKey","encrKey","encrData","addDataToWallet","_ref5$email","_ref5$password","_ref5$dataKey","dataKey","_ref5$dataValue","dataValue","getLocalWallet","props","decrData","LocalSigner","_wallet","signetTx","sign","arrayify","walletData","MetaMaskSigner","_signer","_args3","t1","t2","t3","getSigner","updateNewTransaction","resetNewTransaction","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","prepareTx","_prepareTx","sender","gasLimit","gasPrice","pTx","populateTransaction","toHexString","nonce","processTx","_processTx","fromType","txRes","settings","receipt","txSuccessData","nextNonce","updateAccount","wait","_getSigner","signer","_signer2","_signer3","LedgerSigner","getTypedDataHash","entry","toUtf8Bytes","valuesHash","keccak256","schema","schemaHash","solidityKeccak256","getAuthSig","_x4","_getAuthSig","Number","MAX_SAFE_INTEGER","_x6","_signTx","_callee6","_context6","Transaction","hashHex","splitSig","getMultipleTxSignatures","_x7","_getMultipleTxSignatures","_callee7","txns","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_context7","Symbol","iterator","done","return","finish","getValidatorRequester","getRequesters","campaign","leader","follower","validator","getValidatorAuthToken","validatorId","existingAuth","token","validatorAuthTokens","era","ewt","sendMessage","_authTokens","options","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","authorization","authTokens","lastApprovedState","closeCampaign","events","identityAnalytics","campaignId","leaderAuth","aggregates","idenityAddr","formatEther","formatUnits","privilegesNames","valueToKey","IdentityPrivilegeLevel","getAddressBalances","_getAddressBalances","calls","balances","formatted","getBalance","balanceOf","serializedPath","balanceEth","balanceDai","getAccountStats","_getAccountStats","_ref2$outstandingBala","outstandingBalanceDai","_identity$status","identityContract","privilegesAction","walletBalanceEth","walletBalanceDai","_ref9$","identityBalanceDai","walletPrivileges","raw","bigNumberify","deployed","e","slicedToArray","totalIdentityBalanceDai","walletAddress","walletAuthType","identityAddress","getAllChannels","channels","lastApprovedBalances","allLeafs","mTree","entries","_ref13","k","Channel","getBalanceLeaf","MerkleTree","_x8","getAllChannelsWhereHasBalance","allActive","_ref14","_ref15","balance","getOutstandingBalance","_x5","_getOutstandingBalance","withBalance","_ref16","withOutstanding","totalOutstanding","_ref18","_ref17","outstanding","withdrawnPerUser","sub","_x9","sum","ch","getAllValidatorsAuthForIdentity","_getAllValidatorsAuthForIdentity","_callee9","allValidators","tokenCalls","allTokens","validatorsAuth","_context9","_ref19","_objectSpread2","_ref20","_callee8","_context8","_x10","getAllChannelsForIdentity","_getAllChannelsForIdentity","_callee10","_context10","UPDATE_SETTINGS_INTERVAL","VALIDATOR_LEADER_ID","updateSignin","resetSignin","createAccount","meta","updateGasData","updateAccountStats","stats","oldAggregates","updateAccountSettings","_getState$persist$acc","grantType","updated","doUpdate","newSettings","updateValidatorAuthTokens","newAuth","newIdentity","newTokens","createSession","sessionSignature","leaderValidatorAuth","getRelayerConfig","cfg","getNetworkId","_callee11","_context11","getNetwork","chainId","getNetworkData","_callee12","network","_context12","onMetamaskNetworkChange","_getState","search","isMetamaskMatters","_x11","onMetamaskAccountChange","accountAddress","_account$wallet","identityContractOwner","_x12","_x13","metamaskAccountCheck","_x14","_x15","metamaskNetworkCheck","_x16","_x17","metamaskChecks","on","accounts","_x18","_x19","Core","Interface","ERC20","feeAmountApprove","feeAmountOpen","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","totalFeesFormatted","toEthereumChannel","specHash","createHash","digest","creator","tokenAddr","depositAsset","tokenAmount","depositAmount","validUntil","getReadyCampaign","newCampaign","activeFrom","withdrawPeriodStart","period","getValidUntil","adUnits","parseUnits","minPerImpression","div","maxPerImpression","eventSubmission","allow","uids","rateLimit","lastChecked","openChannel","_openChannel","readyCampaign","openReady","ethChannel","initialNonce","feeTokenAddr","tx1","tx2","result","toNumber","feeAmount","functions","approve","encode","channelOpen","toSolidityTuple","closeChannel","_closeChannel","isVideoMedia","getMediaSize","mime","src","video","document","createElement","onloadedmetadata","target","width","videoWidth","height","videoHeight","getVideoSize","image","Image","onload","getImageSize","checkExactishAspect","widthTarget","heightTarget","maxPercentTolerance","targetAspect","parseFloat","aspect","aspectDiff","abs","SOURCES","locations","AllCountries","country","genders","Genders","gender","PredefinedTags","custom","AddToastUi","getImgsIpfsFromBlob","tempUrl","resp","blob","imgBlob","URL","revokeObjectURL","imageBlob","_ref3$imageName","imageName","formData","FormData","append","uploadImage","updateNewItem","resetNewItem","imageIpfs","resItem","mediaUrl","mediaMime","marketAdd","addSlot","fallbackUnit","resUnit","useFallback","targetUrl","description","targeting","passback","getAllItems","units","slots","resUnits","resSlots","openCampaign","removeItemFromItem","addItemToItem","updateItem","updatedItem","marketUpdate","deleteItem","_deleted","restoreItem","successMsg","errMsg","findSourceByTag","find","cloneItem","response","mediaURL","mediaSize","targets","source","placeholder","helpers","getMediaUrlWithProvider","createObjectURL","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","_ref21","updateTags","_ref22","addNewTag","_ref23","updateCampaignState","_ref24","_ref25","_ref26","_ref27","_ref28","MomentUtils","formatDateTime","timestamp","format","date","formatTokenAmount","amountString","pretty","commify","IDENTITY_BASE_ADDR","IDENTITY_FACTORY_ADDR","GAS_LIMIT_DEPLOY_CONTRACT","feeAmountTransfer","feeAmountSetPrivileges","getIdentityBytecode","_getIdentityBytecode","bytecode","getProxyDeployBytecode","privSlot","solc","getIdentityDeployData","_getIdentityDeployData","salt","expectedAddr","generateAddress2","deployIdentityContract","_deployIdentityContract","identityFactoryWithSigner","deploy","withdrawFromIdentity","_withdrawFromIdentity","amountToWithdraw","withdrawTo","getFeesOnly","toWithdraw","fees","mul","toGet","transfer","setIdentityPrivilege","_setIdentityPrivilege","identityInterface","setAddrPrivilege","updateIdentity","updateWallet","resetWallet","getGrantAccount","walletAddr","coupon","identityData","deployFullIdentity","identityTxData","getFullIdentityTxData","getRegisterExpectedIdentity","onUploadLocalWallet","event","file","reader","onError","files","FileReader","ev","onerror","abort","onabort","readAsText","identityWithdraw","ownerIdentities","addrIdentityPrivilege","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","isEthAddressERC20","contract","isEthAddress","ERC20TokenABI","totalSupply","AddressZero","allowance","isConnectionLost","eth","race","getBlockNumber","urlRegex","emailRegex","passwordRegex","couponRegex","validUrl","test","validEmail","validateNumber","numberStr","isNaN","isFinite","validName","msg","errMsgArgs","validQuickAccountCoupon","isEthAddressZero","isZero","validEthAddress","nonZeroAddr","nonERC20","ethAddressZero","ethAddressERC20","validateAddress","dirty","validate","isValid","analyticsParams","callsParams","checkAccountChanged","accountCheck","updateAccountAnalytics","accountChanged","allAnalytics","src_actions","common","itemActions","uiActions","accountActions","identityActions","bidActions","transactionActions","validationActions","analyticsActions","variantIcon","accept","CheckCircleIcon","warning","WarningIcon","cancel","ErrorIcon","info","InfoIcon","Toast","_Component","close","setState","actions","inherits","createClass","nextProps","nextToast","_classnames","_this2","classes","Icon","vertical","horizontal","react_default","Snackbar","open","autoHideDuration","onClose","SnackbarContent","aria-describedby","className","classnames","icon","iconVariant","IconButton","aria-label","color","onClick","Close_default","snackbar","Component","bindActionCreators","withStyles","theme","spacing","border","borderRadius","backgroundColor","&.active","transform","margin","borderColor","fontSize","opacity","marginRight","display","alignItems","wordBreak","maxWidth","Translate","Decorated","Translated","assign","bind","Confirm","assertThisInitialized","visible","_this$props","children","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","withReactRouterLink","_React$Component","_getPrototypeOf2","_len","_key","resolveToLocation","handleClick","preventDefault","_this$props2","rest","staticContext","objectWithoutProperties","toLocation","href","React","withRouter","createSvgIconCustom","displayName","viewBox","SvgIcon","pure","muiName","d","Anchor","draggable","rel","style","styles","_appBar","_drawerPaper","root","flexGrow","zIndex","overflow","position","minHeight","appBar","left","right","breakpoints","up","flex","flexDirection","flexRow","flexBasis","paddingTop","paddingBottom","&:last-child","paddingLeft","toolbarControls","justifyContent","toolbarTitle","navIconHide","toolbar","flexFlow","mixins","drawerPaper","content","palette","background","padding","marginLeft","contentInner","navigation","paper","version","bottom","borderTopWidth","borderTopColor","divider","borderTopStyle","navList","overflowY","overflowX","navListRoot","secondary","sideNavToolbar","sntPadding","white","primary","light","&:focus","newItemBtn","adxLink","hint","&:hover","bar","actionCount","marginTop","RRSwitch","ListItem","ListItemText","ListItemSecondaryAction","anchor_anchor","Switch_Switch","SideSwitch","checked","pathname","fill","RRListItem","SideNav","nextState","langChanged","sideChanged","locationChanged","transactionsChanged","transactions","bidsAwaitingActionChanged","bidsAwaitingActionCount","isAdvertiser","List","AdexIconTxt","Divider","button","ListItemIcon","Dashboard_default","Fragment","CampaignIcon","Icon_Icon","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","alt","ButtonMenu","anchorEl","handleButtonClick","handleMenuHide","handleMenu","currentTarget","handleClose","btnStyle","iconStyle","Boolean","leftIcon","leftIconSrc","ButtonMenuMui_ImgIcon","aria-owns","aria-haspopup","textOverflow","Menu","getAuthLogo","metamaskLogo","trezorLogo","ledgerLogo","demoLogo","InputLoading","LinearProgress","LoadingSection","loading","Box","ml","mr","CircularProgress","RRMenuItem","MenuItem","useStyles","makeStyles","handleDrawerToggle","useSelector","imgSrc","btnMenueLabel","AppBar","Toolbar","ButtonMenuMui","ExpandMore_default","caption","Typography","variant","noWrap","spinners_LoadingSection","MAX_IMG_LOAD_TIME","Img","ipfsSrc","Regexes","ipfsRegex","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","displayVideo","setDisplayVideo","fallback","NO_IMAGE","displayImage","setDisplayImage","clearLoadTimeout","loadTimeout","onFail","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","Fab","mini","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this3","_this$props3","allowFullscreen","fullScreenOnClick","_this$state2","imgParent","wrapper","img","fullScreenBtn","circular","cursor","@media(max-width:744px)","minWidth","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","paddingRight","getCroppedImgUrl","objUrl","pixelCrop","fileName","size","cropCanvas","scaleCanvas","crossOrigin","crop","x","round","y","getContext","drawImage","toBlob","ImgForm","onDrop","acceptedFiles","rejectedFiles","that","objectUrl","imgName","onChange","onRemove","preventBubbling","onCropChange","saveCropped","croppedBlob","cropMode","stopPropagation","nativeEvent","stopImmediatePropagation","UploadInfo","uploadInfo","uploadActions","dropzoneBtn","Crop_default","Clear_default","CloudUpload_default","additionalInfo","_this$state3","imgForm","header","dropzone","Grid","container","alignContent","sm","md","react_image_crop_default","imageStyle","imgDropzonePreview","gutterBottom","disabled","Save_default","dist_es","img_Img","marginBottom","grey","ValidImageHoc","ValidImage","propsName","mediaWidth","mediaHeight","exact","required","masgArgs","validateMedia","media","validateId","NewItemHoc","ValidItemHoc","_ref$err","_ref$dirty","_ref$removeAll","removeAll","invalidFields","ImgDialog","handleChange","onOk","vals","onChangeReady","errImg","imgPropName","Cancel_default","forms_ImgForm_ImgForm","imgLabel","SaveBtn","dirtyProps","save","validationId","fabButton","Check_default","fabProgress","spinnerId","buttonSuccess","buttonProgress","mediaRoot","buttonRight","buttonLeft","main","textField","flexWrap","changesLine","changeChip","editIcon","RRButton","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","justify","inline","textTransform","IMG_404","adSlotPut","schemas","adUnitPut","AdSizesByValue","ItemsConstants","ItemHoc","dp","slice","returnPropToInitialState","propName","initialItemState","initialItemStateValue","setActiveFields","field","newActiveFields","activeFields","editImg","_activeInput","_this$props4","matchId","currentItemInst","nexItemInst","modifiedOn","_this$props5","Joi","_this$props6","_this$props7","page_not_found_PageNotFound","isDemo","canEdit","fallbackMediaUrl","titleErr","descriptionErr","Prompt","when","containers_ImgDialog_ImgDialog","updateImgWidth","updateImgHeight","updateImgLabel","updateImgInfoLabel","updateImgExact","updateImgErrMsg","Info_default","Chip","onDelete","xs","lg","FormControl","fullWidth","InputLabel","Input","validateTitle","maxLength","onBlur","onFocus","endAdornment","InputAdornment","Edit_default","FormHelperText","htmlFor","multiline","rows","validateDescription","showLogo","Paper","imgContainer","fullName","pointer","canEditImg","containers_SaveBtn_SaveBtn","inEdit","toggleImgEdit","tryGetItemByIpfs","_ipfs","itemId","Dropdown","_this$props$label","_this$props$htmlId","htmlId","_this$props$name","_this$props$disabled","_this$props$error","helperText","_this$props$fullWidth","formControl","Select","input","selectEmpty","flexItem","rowButton","rwoButtonRoot","row","bottomControls","listRoot","controlsRoot","pageSize","Pagination","page","pages","goToPrevPage","goToNextPage","goToPage","dropdown_Dropdown","getAllPagedValues","ChevronLeft_default","ChevronRight_default","current","INT_STRING","mapFilterProps","_ref$filterProps","filterProps","labelArgs","mapSortProperties","_ref2$sortProps","sortProps","ListWithControls","context","newStateValue","filterByValues","filterProperties","filterByValueFilter","handleChangeRxState","uiStateId","changePageSize","newPageSize","itemsLength","searchMatch","regex","RegExp","matchString","exec","filterItems","sortProperty","sortOrder","filterBy","filterArchived","filtered","i","isItem","archived","o","propA","propB","lt","gt","filteredLength","maxPages","ceil","sortProperties","filteredItems","renderItems","renderRows","startAdornment","Search_default","ArrowUpward_default","ArrowDownward_default","goToLastPage","goToFirstPage","rowsView","viewModeId","Rows","handleRowSelect","selected","newSelected","Table","tableHeadRenderer","TableBody","u","rowRenderer","StepperNav","currentPage","innerWidth","StepLabel","mobileStepLabel","MobileStepper","activeStep","steps","mobileStepper","Stepper","alternativeLabel","Step","MaterialStepper","nextStep","canAdvance","canAdvanceNextToPage","canGoBack","setPageIndex","Comp","MaterialUiStepper_StepperNav","stepperNav","pagePaper","pageContent","canReverse","cancelBtn","completeBtn","isValidPage","WithMaterialStepper","withStepper","&$active","WebkitOverflowScrolling","@media(max-width:500px)","textAlign","@media(max-width:475px)","& div","& span","MyMaterialStepper","stepper","CancelBtn","onSave","stepsId","stepsPages","stepsPreviewPage","validateIdBase","cancelButton","MaterialUiStepper","fullHeight","innerHeight","dialogTitle","wordWrap","&:first-child","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","down","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","PropRow","classNameLeft","classNameRight","_ref$style","uppercase","ContentBox","ContentBody","ContentStickyTop","contentStickyTop","TopLoading","FullContentSpinner","TextBtn","Transition","Slide","direction","WithDialog","onBeforeOpen","closeDialog","renderDemoModeAction","paragraph","DEMO_IMAGE","iconButton","textButton","fabVariant","btnLabelArgs","dialogActions","ButtonComponent","btnProps","btnLabel","react","first","second","TransitionComponent","disableTypography","NewAdUnitHoc","ItemForm","addTo","saved","adUnitPost","AdUnitBasic","validateAndUpdateType","validateTargetUrl","prevProps","addUtmParameters","removeFromUrl","protocol","host","newQuery","_i","_Object$entries","addUrlUtmTracking","newTemp","errTitle","errDescription","errTargetUrl","TextField","FormControlLabel","control","Checkbox","handleChangeAddUtmLink","getWidAndHightFromType","sizes","handleImgChange","_getWidAndHightFromTy","_getWidAndHightFromTy2","renderInput","inputProps","InputProps","ref","other","inputRef","inputRoot","renderSuggestion","suggestion","itemProps","highlightedIndex","selectedItem","showSelected","isHighlighted","isSelected","fontWeight","getSuggestions","inputValue","allowCreate","validateCreation","trim","includes","newSuggestion","DownshiftMultiple","handleKeyDown","keycode","newItemValue","handleInputChange","handleDelete","splice","openOnClick","allValues","downshift_esm","itemToString","getInputProps","getItemProps","isOpen","inputValue2","selectedItem2","toggleMenu","tabIndex","chip","onKeyDown","square","DownshiftSingle","onInit","errorText","suggestions","clearSelection","react_virtualized_auto_sizer_dist_index_esm","dist_index_esm","itemSize","itemCount","multiple","autocomplete_DownshiftMultiple","autocomplete_DownshiftSingle","marks","SourcesSelect","score","AdUnitTargeting","handleTargetChange","newValue","newTargets","newTarget","updateNewItemCollections","removeTarget","validateAutocomplete","targetTag","autocomplete_Autocomplete","suggestionMatch","showSuggestionsWhenValueIsSet","Slider","slider","markLabel","aria-labelledby","step","valueLabelDisplay","collections","tg","_ref4$target","targetIcon","LocationOnIcon","WcIcon","age","ChildCareIcon","getTargetType","UnitTargets","targetArrayValues","TargetIcon","CompareArrows","isTarget","TargetsList","_ref$targets","subHeader","dense","subheader","ListSubheader","imgPreview","boxShadow","shadows","imgPreviewWrapper","AdUnitFormPreview","containers_UnitTargets_UnitTargets","NewAdUnitFormPreview","NewCampaignHoc","waitingAction","adUnitsArray","CampaignUnits","handleSelect","validateUnits","hasAdUnits","containers_ItemsList_ItemsList","selectMode","selectedItems","onSelect","listMode","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange_default","iconColor","onIconClick","DateTimePicker","calendarIcon","material_ui_pickers_esm","DateTimePicker_CalendarIconAdor","datepickerContrastInput","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","underline","VALIDATOR_LEADER_URL","VALIDATOR_LEADER_FEE","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","VALIDATOR_FOLLOWER_FEE","VALIDATOR_SOURCES","fee","validateCampaignDates","_ref2$created","validateAndUpdateValidator","newValidators","handleDates","validateAmount","isNumberString","_ref4$identityBalance","_ref3$maxDeposit","maxDeposit","maxDep","dep","validateAmounts","minTargetingScore","_ref5$identityBalance","errDepAmnt","errMin","errFrom","errTo","impressions","getTotalImpressions","toFixed","common_DateTimePicker_DateTimePicker","emptyLabel","disablePast","minDate","maxDate","FormGroup","WalletAction","CampaignFormPreview","AdUnitsTable","noControls","FormsCommon_WalletAction","NewCampaignFormPreview","adSlotPost","NewAdSlotHoc","updateMinPerImpression","validateImage","validateFallbackUrl","handleFallbackChange","_this$props$newItem","errFallbackUrl","Collapse","in","AdSlotTargeting","SlotFallback","AdSlotPreview","AdSlotPreview_SlotFallback","NewAdSlotPreview","SaveBtnWithAdUnit","SaveBtnWithCampaign","saveBtnLabel","saveBtnIcon","HourglassEmpty_default","SaveBtnWithAdSlot","esm_extends","CancelBtnWithItem","CancelBtnWithCampaign","CancelBtnWithAdSlot","dialogCommon","darkerBackground","Add_default","NewUnitStepsWithDialog","forms_FormSteps","AdUnitMedia","noDefaultImg","itemModel","NewUnitDialog","copyProps","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","CampaignFinance","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","AdSlotBasic","AdSlotMedia","descriptionHelperTxt","NewSlotDialog","TableCell","TableCell_TableCell","RRTableCell","ItemsList","renderTableHead","TableHead","TableRow","ItemsList_TableCell","renderCampaignTableHead","renderTableRow","cellImg","fallbackMediaiUrl","renderActions","renderCampaignTableRow","firstUnit","fundsDistributedRatio","Tooltip","enterDelay","ItemsList_RRButton","NewItems_NewCloneUnitDialog","collection_Rows","Lists_ListWithControls","archive","card","@media(max-width:380px)","basicInfo","ValidatedFallbackAdData","rightComponent","toggleFallbackImgEdit","errFallbackAdUrl","Card","raised","CardMedia","fallbackTargetUrl","CardContent","ValidatedSlotMinCPM","minCPM","_ref2$prop","_ref2$value","_ref2$item","updateItemTemp","MediaCard","BasicProps","ItemCommon_MediaCard","CampaignProps","VIEW_MODE","componentDidMount","handleTabChange","CampaignActions","statistics","CampaignModel","lastApproved","Tabs","scrollable","scrollButtons","indicatorColor","textColor","Tab","removeFromItem","AdUnitModel","CampaignItem","datepicker","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","responsive","tooltips","cornerRadius","merge","defaults","global","legendList","listStyle","legendSpan","float","legendListItem","fontFamily","chartParent","chartLabel","@media(min-width:650px) and (max-width:1279px)","chartContainer","chartTitle","BidsStatusPie","componentWillUpdate","pieData","forceUpdate","doughnut","createRef","onPieClick","cutoutPercentage","legend","legendCallback","chart","bidsLegend","callbacks","tooltipItem","labels","count","datasets","datasetIndex","totalCount","maintainAspectRatio","chartData","hoverBackgroundColor","borderWidth","chartInstance","generateLegend","react_chartjs_2_es","getElementAtEvent","BidsLegend","legendItems","textDecoration","toggleChartItem","toggleLabelCross","RRSideBox","_ref$salePoints","salePoints","linkTitle","sideBox","point","SideSelect","dialogPaper","BackdropProps","backdrop","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","infoStatsContainer","infoCard","linkCard","&:hover, &:focus","dashboardCardBody","commonDsProps","lineTension","pointRadius","pointHitRadius","parseData","aggr","memo","parseValueByMetric","SimpleStatistics","_ref3$data","_ref3$timeframe","_ref3$options","_ref3$xLabel","xLabel","_ref3$y1Label","y1Label","_ref3$y2Label","y2Label","_ref3$y1Color","y1Color","_ref3$y2Color","y2Color","useEffect","Chart","pluginService","register","afterDraw","tooltip","_active","activePoint","controller","ctx","tooltipPosition","topY","scales","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","stroke","restore","payoutsData","yAxisID","linesOptions","intersect","yLabel","hover","xAxes","gridLines","scaleLabel","labelString","yAxes","ticks","beginAtZero","precision","drawOnChartArea","timeFrames","tf","translated","metrics","publisher","advertiser","BasicStats","_useState","useState","_useState2","setTimeframe","simplified_SimpleStatistics","BidStatesLabels","DashboardStats","goToAccount","mapBidsToStats","bids","initialValue","bid","amount","_amount","mapClosedBidsToStats","_state","Canceled","canceled","Expired","expired","Completed","completed","getLabel","extraLabel","mapData","_ref$action","_ref$active","_ref$closed","closed","_ref$open","PieLabels","PieDataCount","PieDataAmount","tabs","Accepted","activeCount","openCount","DoesNotExist","completedCount","canceledCount","expiredCount","BidsStateChart","bidsStatus","_index","goToBids","InfoStats","DashboardStats_StatsCard","bidsData","bidsStats","side_select_SideSelect","UnitItem","Unit","adUrl","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","IntegrationCode","_ref$slot","onCopy","publisherAddr","whitelistedToken","whitelistedType","randomize","marketSlot","iframeStr","integrationLabel","copy","integrationCode","Slot","handleFallbackImgUpdateToggle","editFallbackImg","tabsFocus","scrollIntoView","behavior","block","Slot_IntegrationCode","SlotItem","whiteSpace","alignSelf","Items","SORT_PROPERTIES","Transactions","multiSelectable","selectable","sendingTime","Transactions_TableCell","txMethod","compactCol","reduced","itm","delete","NewTransactionHoc","TransactionHoc","txId","manyTxs","resetTransaction","handleSaveRes","saveFn","txs","txResults","WithdrawFromIdentityForm","numStr","identityAvailable","withdrawAmount","withdrawToSpinner","errAmount","errAddr","spinners_InputLoading","PRIV_LEVELS_SRC","SeAddressPrivilegeForm","setAddrSpinner","IdentityWithdrawPreview","SetPrivilegePreview","TransactionPreviewForm","TransactionPreview","gas","getFeesFn","_this$props2$transact","previewWarnMsgs","_transaction$fees","waitingForWalletAction","Error_default","Warning_default","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","A700","centralSpinner","FormStepsWithDialog","FormSteps","txCommon","cancelBtnLabel","WithdrawTokenFromIdentity","WithdrawFromExchangePage","SetIdentityPrivilege","SeAddressPrivilege","actionBtn","advancedList","extendedIcon","localWalletDownloadHref","getRecoveryWalletData","walletJsonData","expanded","setExpanded","_formatted$walletAuth","_formatted$walletPriv","_account$wallet2","m","download","SaveAlt_default","chr","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","domNodes","overlay","show","displayRampWidget","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","heading","ExpansionPanelDetails","transactions_SetIdentityPrivilege","Dashboard","mobileOpen","toggleDrawerActive","drawerActive","toggleDrawerPinned","drawerPinned","toggleSidebar","sidebarPinned","renderAdUnits","containers_Items_Items","renderCampaigns","NewItems_NewCampaignDialog","accent","renderAdSlots","NewItems_NewSlotDialog","AdSlotModel","handleDrawerOpen","handleDrawerClose","drawer","dashboard_SideNav","TopBar","Hidden","mdUp","Drawer","anchor","ModalProps","keepMounted","smDown","implementation","Switch","locatiom","Route","auth","renderChannels","withTheme","signinContainer","backgroundRepeat","backgroundSize","backgroundPosition","backgroundImage","buttons","adxVersion","adexLogoTop","logo","noBg","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect_RRButton","ConnectHoc","noBackground","xl","auth_select_AuthSelect","IdentityHoc","IdentityForm","componentDidUpdate","registerExpected","ready","waitingExpected","waiting","waitingUpload","buttonProgressWrapper","infoPaper","gutters","IdentityContractAddressStep","validateIdentity","getIdentityContractData","_this$props$identity","emailCheck","code","validateEmail","validateEmailCheck","validateCode","currIdentity","isValidFormat","waitingCheck","checkAccessCode","cpn","exist","used","AuthHoc","Auth","hdWalletAddrPath","hdWalletAddrIdx","sideSelect","addrListItem","addrInfo","& strong","addrInfoLabel","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","AuthMetamask","checkMetamask","waitingAddrsData","metamaskSigner","waitingMetamaskAction","tabBox","dangerouslySetInnerHTML","__html","METAMASK_DL_IMG","metamaskLAbel","AuthTrezor","connectTrezor","waitingTrezorAction","trezorSigner","addresses","allAddressesData","hdPath","AddressSelect","onAddrSelect","addrData","TREZOR_DL_IMG","AuthLedger","connectLedger","waitingLedgerAction","ledgerSigner","LEDGER_DL_IMG","AuthMethod","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","ownerAuth_AuthLedger","validateContractOwner","currOwner","ownerAuth_AuthMethod","IdentityGrantInfoStep","passwordCheck","tosCheck","validatePassword","validatePasswordCheck","validateCoupon","validateTOS","validPassword","checkCoupon","accepted","IdentityGrantDeployStep","initLocalWallet","_ref4$email","_ref4$password","_ref4$mnemonic","createLocalWallet","getIdentity","waitingGrant","grantAmount","IdentityGrantLoginStep","validateWallet","identityPrivileges","getIdentitiesForDropdown","balanceDAI","IdentityFullLoginStep","identityDataSplit","identityContractAddress","_identity$ownerIdenti","ExternalConnect","connectType","setConnectType","identity_FullLogin","identity_IdentityContractAddressEthDeploy","stepperWrapper","stepper_MaterialUiStepper_StepperNav","disableBtnsIfValid","MaterialUiStepper_WithMaterialStepper","IdentitySteps","mapPages","GoBtn","_this$props$stepsPage","stepper_MaterialUiStepper","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ConnectedCreateGrantIdentity","JustDialog","identity_IdentitySteps","GrantInfo","GrantDeploy","ConnectedGrantLogin","GrantLogin","ConnectedCreateFullIdentity","IdentityContractOwner","IdentityContractAddressEthDeploy","ConnectedLoginStandardIdentity","ConnectedRoot","ADEX_LOGO","PrivateRoute","render","Redirect","Root","Root_PrivateRoute","contrastText","deepOrange","amber","lime","contrastThreshold","tonalOffset","themeMUI","createMuiTheme","overrides","MuiButton","outlined","MuiTableCell","head","MuiPaper","rounded","onBeforeLift","CssBaselineStyled","@global","html","CssBaseline","globalStyles","App","MuiThemeProvider","es","integration_react","esm","react_router_dom","App_Root","toast_Toast","confirm_Confirm","hostname","_Object$keys","ReactDOM","components_App_App","getElementById","navigator","serviceWorker","registration","unregister","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","addrsFromPubKey","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","chainCode","_ref2$from","_ref2$to","hdKey","addrs","derivedKey","HDKey","Buffer","derive","publicExtendedKey","fromExtendedKey","_ref4$from","_ref4$to","transport","_args2","_transport","create","LedgerEth","txUnsigned","signTransaction","_args5","signPersonalMessage","joinSignature","TransportU2F","HEADER","base64","alg","__webpack_exports__","payloadEncoded","C_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","parts","verifyMessage","decode","Module"],"mappings":"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","file":"static/js/main.f492d698.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","export const ADD_ITEM = 'ADD_ITEM'\r\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\r\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\r\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\r\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\r\nexport const DELETE_ITEM = 'DELETE_ITEM'\r\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\r\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\r\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\r\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\r\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\r\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\r\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\r\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\r\nexport const UPDATE_UI = 'UPDATE_UI'\r\nexport const ADD_TOAST = 'ADD_TOAST'\r\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\r\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\r\nexport const UPDATE_NAV = 'UPDATE_NAV'\r\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\r\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\r\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\r\nexport const UNIT_PLACE_BID = 'PLACE_BID'\r\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\r\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\r\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\r\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\r\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\r\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\r\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\r\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\r\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\r\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\r\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\r\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\r\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\r\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\r\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\r\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\r\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\r\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\r\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\r\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\r\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\r\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\r\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\r\nexport const RESET_WALLET = 'RESET_WALLET'\r\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\r\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\r\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\r\n","import { exchange as ExchangeConstants } from 'adex-constants'\r\nimport { constants } from 'adex-models'\r\n\r\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\r\nconst { SignatureModes } = constants\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nexport const AVATAR_MAX_WIDTH = 600\r\nexport const AVATAR_MAX_HEIGHT = 400\r\n\r\nexport const SORT_PROPERTIES_BIDS = [\r\n\t{ value: '_state', label: '' },\r\n\t{ value: '_target', label: '' },\r\n\t{ value: '_amount', label: '' },\r\n\t{ value: '_timeout', label: '' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_BIDS = {\r\n\t_state: {\r\n\t\tlabel: '_state',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: Object.keys(BID_STATES).map(key => {\r\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\r\n\t\t}),\r\n\t},\r\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\r\n}\r\n\r\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\r\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\r\n}\r\n\r\nexport const SORT_PROPERTIES_ITEMS = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n\t{ value: 'type' },\r\n]\r\n\r\nexport const SORT_PROPERTIES_COLLECTION = [\r\n\t{ value: 'created' },\r\n\t{ value: 'title' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_ITEMS = {\r\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\r\n}\r\n\r\nexport const AUTH_TYPES = {\r\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\r\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\r\n\tLEDGER: { name: 'ledger', signType: SignatureModes.GETH, limit: 0 },\r\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\r\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\r\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\r\n}\r\n\r\nexport const NETWORK_STATUS = {\r\n\t0: 'pending',\r\n\t1: 'success',\r\n\t2: 'failed',\r\n}\r\n\r\nexport const ETHEREUM_NETWORKS = {\r\n\t1: { name: 'Mainnet', for: 'production' },\r\n\t5: { name: 'Goerli', for: 'development' },\r\n\tproduction: { name: 'Mainnet', for: 'production' },\r\n\tdevelopment: { name: 'Goerli', for: 'development' },\r\n}\r\n\r\nexport const SORT_PROPERTIES_CAMPAIGN = [\r\n\t{ value: 'created', label: 'Created' },\r\n\t{ value: 'status.name', label: 'Status' },\r\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\r\n\t{ value: 'activeFrom', label: 'Starts' },\r\n\t{ value: 'depositAmount', label: 'depositAmount' },\r\n\t{ value: 'maxPerImpression', label: 'cpm' },\r\n]\r\n\r\nexport const FILTER_PROPERTIES_CAMPAIGN = {\r\n\t'status.name': {\r\n\t\tlabel: 'ststus',\r\n\t\tlabelIsProp: true,\r\n\t\tvalues: [\r\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\r\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\r\n\t\t\t{ value: 'Offline', label: 'Offline' },\r\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\r\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\r\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\r\n\t\t\t{ value: 'Ready', label: 'Ready' },\r\n\t\t\t{ value: 'Active', label: 'Active' },\r\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\r\n\t\t\t{ value: 'Expired', label: 'Expired' },\r\n\t\t],\r\n\t},\r\n}\r\n\r\nexport const UTM_PARAMS = {\r\n\tutm_source: 'ADEX',\r\n\tutm_medium: 'CPM',\r\n\tutm_campaign: 'none',\r\n\tutm_content: 'none',\r\n}\r\n\r\nexport const VALIDATOR_ANALYTICS_METRICS = [\r\n\t'eventPayouts', //\r\n\t'eventCounts',\r\n]\r\nexport const VALIDATOR_ANALYTICS_SIDES = [\r\n\t'advertiser',\r\n\t'publisher', //\r\n]\r\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = ['IMPRESSION']\r\n\r\n// TEMP: disable long periods\r\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\r\n\t{ label: 'LABEL_HOUR', value: 'hour' },\r\n\t{ label: 'LABEL_DAY', value: 'day' },\r\n\t{ label: 'LABEL_WEEK', value: 'week' },\r\n\t// { label: 'LABEL_MONTH', value: 'month' },\r\n\t// { label: 'LABEL_YEAR', value: 'year' },\r\n]\r\n\r\nexport const MOON_GRAVITY_ACCELERATION = 1.625\r\nexport const MOON_TO_EARTH_WEIGHT = 0.166\r\n","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\r\nimport {\r\n\tVALIDATOR_ANALYTICS_SIDES,\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\r\n\tVALIDATOR_ANALYTICS_METRICS,\r\n\tVALIDATOR_ANALYTICS_TIMEFRAMES,\r\n} from 'constants/misc'\r\n\r\nexport const getValidatorAnalyticsInitialState = () => {\r\n\tconst initialState = {}\r\n\r\n\tVALIDATOR_ANALYTICS_SIDES.forEach(side =>\r\n\t\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\r\n\t\t\t\tVALIDATOR_ANALYTICS_TIMEFRAMES.forEach(timeframe => {\r\n\t\t\t\t\tinitialState[side] = initialState[side] || {}\r\n\t\t\t\t\tinitialState[side][eventType] = initialState[side][eventType] || {}\r\n\t\t\t\t\tinitialState[side][eventType][metric] =\r\n\t\t\t\t\t\tinitialState[side][eventType][metric] || {}\r\n\t\t\t\t\tinitialState[side][eventType][metric][timeframe.value] =\r\n\t\t\t\t\t\tinitialState[side][eventType][metric][timeframe.value] || {}\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t)\r\n\t)\r\n\r\n\treturn initialState\r\n}\r\n\r\nlet initialState = {\r\n\taccount: new Account(),\r\n\tsignin: {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpassConfirm: '',\r\n\t\tseed: '',\r\n\t\tpublicKey: '',\r\n\t\tseedCheck: [],\r\n\t\tauthenticated: false,\r\n\t},\r\n\tnewItem: {\r\n\t\tCampaign: new Campaign().plainObj(),\r\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\r\n\t\tAdSlot: new AdSlot().plainObj(),\r\n\t},\r\n\tcurrentItem: {},\r\n\titems: {\r\n\t\tCampaign: {},\r\n\t\tAdUnit: {},\r\n\t\tAdSlot: {},\r\n\t},\r\n\tspinners: {},\r\n\tui: {},\r\n\ttoasts: [],\r\n\tconfirm: {\r\n\t\tdata: {},\r\n\t},\r\n\tnav: {\r\n\t\tside: '',\r\n\t},\r\n\tlanguage: 'en-US',\r\n\tvalidations: {},\r\n\tnewTransactions: {\r\n\t\tdefault: {},\r\n\t},\r\n\tweb3Transactions: {},\r\n\ttags: {},\r\n\tidentity: {},\r\n\tethNetwork: {\r\n\t\tnetworkId: null,\r\n\t\tgasData: {},\r\n\t},\r\n\twallet: {},\r\n\tconfig: {\r\n\t\trelayer: {},\r\n\t\tmarket: {},\r\n\t\tvalidators: {},\r\n\t},\r\n\tanalytics: getValidatorAnalyticsInitialState(),\r\n}\r\n\r\nexport default initialState\r\n","import adexTranslations from 'adex-translations'\r\nimport { renderToString } from 'react-dom/server'\r\n\r\nconst translations = adexTranslations()\r\n\r\nlet lang = 'en-US'\r\n\r\n// TODO: sanitization\r\nconst interpolate = (tpl, args) => {\r\n\tif (typeof tpl !== 'string') {\r\n\t\treturn ''\r\n\t}\r\n\r\n\treturn tpl.replace(/\\${(\\w+)}/g, (_, v) => {\r\n\t\tlet arg = args[v]\r\n\t\tif (typeof arg === 'object' && arg.component) {\r\n\t\t\treturn renderToString(arg.component)\r\n\t\t} else {\r\n\t\t\treturn arg\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const translate = (\r\n\tval = '',\r\n\t{ isProp = false, args = [''] } = {},\r\n\tlanguage = lang\r\n) => {\r\n\tlet key = val + ''\r\n\tif (isProp) {\r\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\r\n\t}\r\n\r\n\tkey = key.toUpperCase()\r\n\r\n\tlet translation = translations[language][key] || val\r\n\r\n\tif (args.length && Array.isArray(args)) {\r\n\t\ttranslation = interpolate(translation, args)\r\n\t}\r\n\r\n\treturn translation\r\n}\r\n\r\n// TODO: fix that\r\nexport const setLang = lng => {\r\n\tlang = lng\r\n}\r\n","import account from './accountReducer'\r\nimport signin from './signinReducer'\r\nimport identity from './identityReducer'\r\nimport wallet from './walletReducer'\r\nimport items from './itemsReducer'\r\nimport newItem from './newItemsReducer'\r\n// import currentItem from './currentItemsReducer'\r\nimport spinners from './spinnersReducer'\r\nimport ui from './uiReducer'\r\nimport toasts from './toastsReducer'\r\nimport confirm from './confirmReducer'\r\nimport nav from './navReducer'\r\nimport language from './languageReducer'\r\nimport validations from './validateItemsReducer'\r\nimport newTransactions from './newTransactionsReducer'\r\nimport web3Transactions from './web3TransactionsReducer'\r\nimport tags from './tagsReducer'\r\nimport ethNetwork from './ethNetworkReducer'\r\nimport analytics from './analyticsReducer'\r\nimport { filterActions } from 'redux-ignore'\r\nimport * as types from 'constants/actionTypes'\r\n\r\nexport const persistReducers = {\r\n\taccount,\r\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\r\n\tui: filterActions(ui, [types.UPDATE_UI]),\r\n\tlanguage,\r\n\tweb3Transactions,\r\n\ttags,\r\n\tethNetwork,\r\n\tanalytics,\r\n}\r\n\r\nexport const memoryReducers = {\r\n\tsignin,\r\n\tidentity,\r\n\twallet,\r\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\r\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\r\n\ttoasts,\r\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\r\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\r\n\tvalidations,\r\n\tnewTransactions,\r\n}\r\n","import {\r\n\tCREATE_ACCOUNT,\r\n\tRESET_ACCOUNT,\r\n\tUPDATE_ACCOUNT,\r\n} from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\nimport { Base, Account } from 'adex-models'\r\n\r\nexport default function accountReducer(state = initialState.account, action) {\r\n\tlet newState\r\n\tlet newAccount\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CREATE_ACCOUNT:\r\n\t\t\tnewAccount = { ...action.account }\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase RESET_ACCOUNT:\r\n\t\t\tnewAccount = initialState.account\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ACCOUNT:\r\n\t\t\tnewAccount = Base.updateObject({\r\n\t\t\t\titem: newState,\r\n\t\t\t\tnewValues: { ...action.newValues },\r\n\t\t\t\tobjModel: Account,\r\n\t\t\t})\r\n\t\t\tnewState = newAccount\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_ITEM,\r\n\tDELETE_ITEM,\r\n\tUPDATE_ITEM,\r\n\tREMOVE_ITEM_FROM_ITEM,\r\n\tADD_ITEM_TO_ITEM,\r\n\tUPDATE_ALL_ITEMS,\r\n\tRESET_ALL_ITEMS,\r\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\r\nimport initialState from 'store/initialState'\r\nimport { Item } from 'adex-models'\r\n\r\nexport default function itemsReducer(state = initialState.items, action) {\r\n\tlet newState\r\n\tlet newCollection\r\n\tlet newItem\r\n\tlet collectionId\r\n\tlet item\r\n\r\n\tconst collection = (state = {}, action) => {\r\n\t\tif (!action.item) return state\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\t[action.item.id]: action.item,\r\n\t\t}\r\n\t}\r\n\r\n\tconst removeCollectionProp = (collection = {}, prop) => {\r\n\t\tlet newCol = { ...collection }\r\n\t\tdelete newCol[prop]\r\n\t\treturn newCol\r\n\t}\r\n\r\n\tif (action.item && action.itemType) {\r\n\t\tnewState = { ...state }\r\n\t\titem = { ...action.item }\r\n\t\tcollectionId = action.itemType\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_ITEM:\r\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\r\n\t\t\t// id is going to be set when it comes here\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase ADD_ITEM_TO_ITEM:\r\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase DELETE_ITEM:\r\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_ITEM_FROM_ITEM:\r\n\t\t\tnewItem = Item.removeItem(\r\n\t\t\t\tnewState[collectionId][item._id],\r\n\t\t\t\taction.toRemove\r\n\t\t\t)\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewItem = item\r\n\t\t\tnewCollection = collection(newState[collectionId], {\r\n\t\t\t\t...action,\r\n\t\t\t\titem: newItem,\r\n\t\t\t})\r\n\t\t\tnewState[collectionId] = newCollection\r\n\t\t\treturn newState\r\n\r\n\t\tcase UPDATE_ALL_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tconst newItems = action.items.reduce((items, item, index) => {\r\n\t\t\t\tconst currentItems = { ...items }\r\n\t\t\t\tconst newItem = { ...item }\r\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\r\n\t\t\t\treturn currentItems\r\n\t\t\t}, newState[action.itemType])\r\n\r\n\t\t\tnewState[action.itemType] = newItems\r\n\t\t\treturn newState\r\n\t\tcase RESET_ALL_ITEMS:\r\n\t\t\tnewState = { ...initialState.items }\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_UI } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function uiReducer(state = initialState.ui, action) {\r\n\tlet newState\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_UI:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tif (action.category) {\r\n\t\t\t\tnewState[action.category] = { ...newState[action.category] }\r\n\t\t\t\tnewState[action.category][action.item] = action.value\r\n\t\t\t} else {\r\n\t\t\t\tnewState[action.item] = action.value\r\n\t\t\t}\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import initialState from 'store/initialState'\r\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\r\nimport { setLang } from 'services/translations/translations'\r\n\r\nexport default function languageReducer(state = initialState.language, action) {\r\n\tswitch (action.type) {\r\n\t\tcase CHANGE_LANGUAGE:\r\n\t\t\tlet newLang = action.lang || state\r\n\t\t\tsetLang(newLang)\r\n\t\t\treturn newLang\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tADD_WEB3_TRANSACTION,\r\n\tUPDATE_WEB3_TRANSACTION,\r\n\tRESET_WEB3_TRANSACTION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function web3TransactionsReducer(\r\n\tstate = initialState.web3Transactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\tlet newAddrTxs\r\n\tlet pendingTxs\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateObj = ({ obj, key, val }) => {\r\n\t\tobj = obj || {}\r\n\t\tobj[key] = val\r\n\r\n\t\treturn obj\r\n\t}\r\n\r\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\r\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\r\n\t\t\tpTxs.push(newTx.hash)\r\n\t\t} else {\r\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\r\n\t\t}\r\n\r\n\t\treturn pTxs\r\n\t}\r\n\r\n\tif (!action.addr) {\r\n\t\treturn state\r\n\t}\r\n\r\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\r\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\r\n\r\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\r\n\t// If we keep the transactions on the node we can clean them from local storage on address change\r\n\tswitch (action.type) {\r\n\t\tcase ADD_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...action.value }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\r\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: newTx,\r\n\t\t\t})\r\n\t\t\tnewState[action.addr] = newAddrTxs\r\n\t\t\treturn newState\r\n\t\tcase RESET_WEB3_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\r\n\t\t\tnewAddrTxs[action.tx] = newTx\r\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\r\n\t\t\t\tpTxs: pendingTxs,\r\n\t\t\t\tnewTx: { txHash: action.tx },\r\n\t\t\t})\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_TAGS:\r\n\t\t\tnewState = { ...state, ...action.tags }\r\n\t\t\treturn newState\r\n\t\tcase ADD_NEW_TAG:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.tag] = action.tag\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function tagsReducer(state = initialState.tags, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_GAS_DATA:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.gasData = { ...action.gasData }\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_ANALYTICS, RESET_ANALYTICS } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function analyticsReducer(\r\n\tstate = initialState.analytics,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ANALYTICS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.side] = { ...newState[action.side] }\r\n\t\t\tnewState[action.side][action.eventType] = {\r\n\t\t\t\t...newState[action.side][action.eventType],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\r\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\r\n\t\t\t}\r\n\t\t\tnewState[action.side][action.eventType][action.metric][\r\n\t\t\t\taction.timeframe\r\n\t\t\t] = { ...action.value }\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ANALYTICS:\r\n\t\t\tnewState = { ...initialState.analytics }\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function signinReducer(state = initialState.signin, action) {\r\n\tlet newState\r\n\tlet newSignin\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SIGNIN:\r\n\t\t\tnewSignin = { ...newState }\r\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\r\n\t\t\t\tnewSignin[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewSignin[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newSignin\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_SIGNIN:\r\n\t\t\tnewSignin = { ...initialState.signin }\r\n\t\t\tnewState = newSignin\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function identityReducer(state = initialState.identity, action) {\r\n\tlet newState\r\n\tlet newidentity\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_IDENTITY:\r\n\t\t\tnewidentity = newState\r\n\t\t\tif (Array.isArray(newidentity[action.prop])) {\r\n\t\t\t\tnewidentity[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewidentity[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newidentity\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_IDENTITY:\r\n\t\t\tnewidentity = { ...initialState.identity }\r\n\t\t\tnewState = newidentity\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function walletReducer(state = initialState.wallet, action) {\r\n\tlet newState\r\n\tlet newWallet\r\n\r\n\tnewState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_WALLET:\r\n\t\t\tnewWallet = newState\r\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\r\n\t\t\t\tnewWallet[action.prop] = [...action.value]\r\n\t\t\t} else {\r\n\t\t\t\tnewWallet[action.prop] = action.value\r\n\t\t\t}\r\n\r\n\t\t\tnewState = newWallet\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_WALLET:\r\n\t\t\tnewWallet = { ...initialState.wallet }\r\n\t\t\tnewState = newWallet\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_ITEM,\r\n\tRESET_NEW_ITEM,\r\n\tRESET_ALL_NEW_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newItemsReducer(state = initialState.newItem, action) {\r\n\tlet newState\r\n\tlet newItem\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...action.item }\r\n\t\t\tnewState[action.itemType] = newItem\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_NEW_ITEM:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewItem = { ...initialState.newItem[action.item] }\r\n\t\t\tnewState[action.item] = newItem\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ALL_NEW_ITEMS:\r\n\t\t\tnewState = { ...initialState.newItem }\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function spinnersReducer(state = initialState.spinners, action) {\r\n\tlet newState = { ...state }\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SPINNER:\r\n\t\t\tnewState[action.spinner] = action.value\r\n\r\n\t\t\treturn newState\r\n\t\tcase UPDATE_ITEM:\r\n\t\t\tnewState['update' + action.item._id] = false\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function toastsReducer(state = initialState.toasts, action) {\r\n\tlet newState\r\n\tlet newToast\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_TOAST:\r\n\t\t\tnewToast = { ...action.toast }\r\n\t\t\tnewToast.added = Date.now()\r\n\t\t\tnewState = [newToast, ...state]\r\n\t\t\treturn newState\r\n\r\n\t\tcase REMOVE_TOAST:\r\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n// import Helper from './../helpers/miscHelpers'\r\n\r\nexport default function confirmReducer(state = initialState.confirm, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase CONFIRM_ACTION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState.data = { ...action.confirm.data }\r\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\r\n\t\t\tnewState.onCancel = action.confirm.onCancel\r\n\t\t\tnewState.active =\r\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\r\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\r\n\r\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\r\n\t\t\tnewState.calledOn = Date.now()\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { UPDATE_NAV } from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function navReducer(state = initialState.nav, action) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NAV:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.item] = action.value\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_ITEM_VALIDATION,\r\n\tRESET_ITEM_VALIDATION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function validateItemsReducer(\r\n\tstate = initialState.validations,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newErrors\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tcase RESET_ITEM_VALIDATION:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewErrors = { ...newState[action.item] }\r\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\r\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\r\n\t\t\t\tdelete newErrors[action.key]\r\n\t\t\t} else if (newErrors && !action.key) {\r\n\t\t\t\tnewErrors = {}\r\n\t\t\t}\r\n\r\n\t\t\tnewState[action.item] = newErrors\r\n\r\n\t\t\treturn newState\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tUPDATE_NEW_TRANSACTION,\r\n\tRESET_NEW_TRANSACTION,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function newTransactionsReducer(\r\n\tstate = initialState.newTransactions,\r\n\taction\r\n) {\r\n\tlet newState\r\n\tlet newTx\r\n\r\n\tnewState = { ...state }\r\n\r\n\t// No model update\r\n\tconst updateTx = ({ tx, key, val }) => {\r\n\t\ttx = tx || {}\r\n\t\ttx[key] = val\r\n\r\n\t\treturn tx\r\n\t}\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_NEW_TRANSACTION:\r\n\t\t\tnewTx = {\r\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\r\n\t\t\t}\r\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\r\n\r\n\t\t\t// console.log('newTx', newTx)\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tcase RESET_NEW_TRANSACTION:\r\n\t\t\tnewTx = { ...initialState.newTransactions.default }\r\n\t\t\tnewState[action.tx] = newTx\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { createHashHistory } from 'history'\r\n\r\nconst history = createHashHistory()\r\n\r\nexport default history\r\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\r\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\r\nimport thunk from 'redux-thunk'\r\nimport { persistReducers, memoryReducers } from 'reducers'\r\nimport history from './history'\r\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\r\nimport { persistStore, persistCombineReducers } from 'redux-persist'\r\nimport localStorage from 'redux-persist/es/storage'\r\n// import session from 'redux-persist/lib/storage/session'\r\n\r\nconst reduxRouterMiddleware = routerMiddleware(history)\r\n\r\nconst configStorage = {\r\n\tkey: 'persist',\r\n\tstorage: localStorage,\r\n}\r\n\r\n// const configSession = {\r\n//   key: 'session',\r\n//   storage: session,\r\n// }\r\n\r\n// const rootReducer = combineReducers(reducers)\r\n\r\n// TODO: make session reducer(signin) - RAM reducer (no persist)\r\nconst rootReducer = combineReducers({\r\n\tpersist: persistCombineReducers(configStorage, persistReducers),\r\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\r\n\trouter: connectRouter(history),\r\n})\r\n\r\nconst logger = store => next => action => {\r\n\t// if (action.type === 'UPDATE_NEWITEM') {\r\n\t//   return next(action)\r\n\t// }\r\n\r\n\tconsole.groupCollapsed(action.type)\r\n\tconsole.info('dispatching', action)\r\n\tlet result = next(action)\r\n\tconsole.log('next state', store.getState())\r\n\tconsole.groupEnd(action.type)\r\n\treturn result\r\n}\r\n\r\nfunction configureStoreProd(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\t// logger\r\n\t]\r\n\r\n\tlet store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcompose(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tlet persistor = persistStore(store)\r\n\r\n\treturn { persistor, store }\r\n}\r\n\r\nfunction configureStoreDev(initialState) {\r\n\tconst middlewares = [\r\n\t\t// Add other middleware on this line...\r\n\r\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\r\n\t\treduxImmutableStateInvariant(),\r\n\r\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\r\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\r\n\t\tthunk,\r\n\t\treduxRouterMiddleware,\r\n\t\tlogger,\r\n\t]\r\n\r\n\tconst composeEnhancers =\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\r\n\tconst store = createStore(\r\n\t\trootReducer,\r\n\t\tinitialState,\r\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\r\n\t)\r\n\r\n\tif (module.hot) {\r\n\t\t// Enable Webpack hot module replacement for reducers\r\n\t\tmodule.hot.accept('../reducers', () => {\r\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\r\n\t\t\tstore.replaceReducer(nextReducer)\r\n\t\t})\r\n\t}\r\n\r\n\tlet persistor = persistStore(store)\r\n\treturn { persistor, store }\r\n}\r\n\r\nconst configureStore =\r\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\r\n\r\nexport default configureStore()\r\n","import configureStore from 'store/configureStore'\r\nconst { store } = configureStore\r\n\r\nexport const execute = store.dispatch\r\n\r\nexport const dispatch = store.dispatch\r\n\r\nexport const getState = () => {\r\n\treturn store.getState()\r\n}\r\n","import moment from 'moment'\r\n\r\n// TODO: separate exports - not class\r\nclass Helper {\r\n\tgetGuid() {\r\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t}\r\n\r\n\tgetRndHash32(prefix) {\r\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\tvar r = (Math.random() * 16) | 0,\r\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\r\n\t\t\treturn v.toString(16)\r\n\t\t})\r\n\t\tif (prefix) {\r\n\t\t\th = prefix + h.substring(prefix.length)\r\n\t\t}\r\n\t\treturn h\r\n\t}\r\n\r\n\tgetRandomInt(min, max) {\r\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\r\n\t}\r\n\r\n\tgetRandomBool() {\r\n\t\treturn !!this.getRandomInt(0, 1)\r\n\t}\r\n\r\n\tgetRandomPropFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\r\n\t}\r\n\r\n\tgetRandomKeyFromObj(obj) {\r\n\t\tvar keys = Object.keys(obj)\r\n\t\treturn keys[(keys.length * Math.random()) << 0]\r\n\t}\r\n\r\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\r\n\t\t// TODO: fix +/- 1 day bug\r\n\t\tlet initial = moment.isMoment(initialMoment)\r\n\t\t\t? initialMoment.valueOf()\r\n\t\t\t: undefined\r\n\r\n\t\treturn moment(initial)\r\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\r\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\r\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\r\n\t}\r\n\r\n\thexToRgbaColorString = (hex, alpha) => {\r\n\t\tif (!hex || typeof hex !== 'string') {\r\n\t\t\tthrow new Error('Invalid color')\r\n\t\t} else if (hex.length === 4) {\r\n\t\t\thex = hex + hex.substr(1, 4)\r\n\t\t}\r\n\r\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\r\n\t\t\talpha = 1\r\n\t\t}\r\n\r\n\t\tconst hexToDec = h => {\r\n\t\t\treturn parseInt('0x' + h, 16)\r\n\t\t}\r\n\r\n\t\tlet r = hexToDec(hex.substr(1, 2))\r\n\t\tlet g = hexToDec(hex.substr(3, 2))\r\n\t\tlet b = hexToDec(hex.substr(5, 2))\r\n\r\n\t\treturn `rgba(${r},${g},${b},${alpha})`\r\n\t}\r\n\r\n\tgetQuery(queryParams) {\r\n\t\tif (\r\n\t\t\t!queryParams ||\r\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\r\n\t\t) {\r\n\t\t\treturn ''\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t'?' +\r\n\t\t\t\tObject.keys(queryParams)\r\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\r\n\t\t\t\t\t.map(key => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tencodeURIComponent(key) +\r\n\t\t\t\t\t\t\t'=' +\r\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}, '')\r\n\t\t\t\t\t.join('&') || ''\r\n\t\t)\r\n\t}\r\n\r\n\tgetErrMsg = err => {\r\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\r\n\r\n\t\tif (stack.length > 1) {\r\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\r\n\t\t} else {\r\n\t\t\treturn (err.error || err || '').toString()\r\n\t\t}\r\n\t}\r\n\r\n\tisInt = int => {\r\n\t\treturn typeof int === 'number' && int % 1 === 0\r\n\t}\r\n\r\n\tshuffleArray = array => {\r\n\t\treturn [...array].sort(() => Math.random() - 0.5)\r\n\t}\r\n}\r\n\r\nexport default new Helper()\r\n","import { createSelector } from 'reselect'\r\n\r\nexport const selectAccount = state => state.persist.account\r\n\r\nexport const selectAuth = createSelector(\r\n\tselectAccount,\r\n\t({ wallet, identity }) =>\r\n\t\t!!wallet &&\r\n\t\t!!wallet.address &&\r\n\t\t!!wallet.authSig &&\r\n\t\t!!wallet.authType &&\r\n\t\t!!identity.address\r\n)\r\n","export const selectIdentity = state => state.memory.identity\r\n","export const selectLocation = state => state.router.location\r\n","export const selectNavTitle = state => state.memory.nav.navTitle\r\n","import { getState, updateItems, execute, addToast } from 'actions'\r\nimport { getCampaigns } from 'services/adex-market/actions'\r\nimport { selectAccount, selectAuth } from 'selectors'\r\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\r\n\r\nconst LOOP_TIMEOUT =\r\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\r\n\r\nlet campaignsCheckTimeout = null\r\n\r\nconst clearCampaignsTimeout = () => {\r\n\tif (campaignsCheckTimeout) {\r\n\t\tclearTimeout(campaignsCheckTimeout)\r\n\t\tcampaignsCheckTimeout = null\r\n\t}\r\n}\r\n\r\nconst syncCampaigns = async () => {\r\n\tconst hasAuth = selectAuth(getState())\r\n\tconst { wallet } = selectAccount(getState())\r\n\tconst { authSig } = wallet\r\n\r\n\tif (hasAuth && authSig) {\r\n\t\ttry {\r\n\t\t\tconst campaigns = await getCampaigns({ authSig: wallet.authSig })\r\n\r\n\t\t\tconst campaignsMapped = campaigns.map(c => {\r\n\t\t\t\treturn { ...c, ...c.spec }\r\n\t\t\t})\r\n\r\n\t\t\texecute(updateItems({ items: campaignsMapped, itemType: 'Campaign' }))\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\r\n\t\t\texecute(\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\r\n\t\t\t\t\targs: [err],\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst checkCampaigns = () => {\r\n\tsyncCampaigns()\r\n\t\t.then(() => {\r\n\t\t\tcheckCampaignsLoop()\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tcheckCampaignsLoop()\r\n\t\t})\r\n}\r\n\r\nconst checkCampaignsLoop = () => {\r\n\tclearCampaignsTimeout()\r\n\r\n\tcampaignsCheckTimeout = setTimeout(checkCampaigns, LOOP_TIMEOUT)\r\n}\r\n\r\nconst start = () => {\r\n\tclearCampaignsTimeout()\r\n\tcheckCampaigns()\r\n}\r\n\r\nconst stop = () => {\r\n\tclearCampaignsTimeout()\r\n}\r\n\r\nexport default {\r\n\tstart,\r\n\tstop,\r\n}\r\n","import {\r\n\tgetState,\r\n\texecute,\r\n\tresetAllNewItems,\r\n\tresetAllItems,\r\n\tresetAllBids,\r\n\tresetIdentity,\r\n\tresetAccount,\r\n\tresetAnalytics,\r\n} from 'actions'\r\n\r\nimport campaignsLoop from 'services/store-data/campaigns'\r\n\r\nimport { push } from 'connected-react-router'\r\n\r\nexport const logOut = skipRedirect => {\r\n\tif (!skipRedirect) {\r\n\t\texecute(push('/'))\r\n\t}\r\n\tcampaignsLoop.stop()\r\n\texecute(resetIdentity())\r\n\texecute(resetAllItems())\r\n\texecute(resetAllNewItems())\r\n\texecute(resetAllBids())\r\n\texecute(resetAccount())\r\n\texecute(resetAnalytics())\r\n}\r\n\r\nexport const isDemoMode = () => {\r\n\treturn getState().persist.account._authType === 'demo'\r\n}\r\n\r\nexport const getAccount = () => {\r\n\treturn getState().persist.account\r\n}\r\n","import requester from './requester'\r\n\r\nexport default requester\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { isDemoMode, getAccount } from 'services/store-data/auth'\r\n\r\nclass AdexNodeRequester {\r\n\tconstructor({ baseUrl }) {\r\n\t\tthis.baseUrl = baseUrl\r\n\t}\r\n\r\n\tgetAuthHeaders = ({ authSig } = {}) => {\r\n\t\tconst acc = getAccount()\r\n\t\treturn {\r\n\t\t\t'X-User-Address': acc._addr,\r\n\t\t\t'X-User-Signature': authSig || acc._authSig,\r\n\t\t\t'X-Auth-Token': acc._authToken,\r\n\t\t}\r\n\t}\r\n\r\n\tgetUrl = (base, route, query) => {\r\n\t\tlet url = base + '/'\r\n\t\tif (route) {\r\n\t\t\troute = route.replace(/^\\//, '')\r\n\t\t\turl += route\r\n\t\t}\r\n\r\n\t\turl += query\r\n\r\n\t\treturn url\r\n\t}\r\n\r\n\tfetch = ({\r\n\t\troute = '',\r\n\t\tqueryParams = {},\r\n\t\tmethod = 'GET',\r\n\t\tbody,\r\n\t\theaders = {},\r\n\t\tuserAddr,\r\n\t\tauthSig = '',\r\n\t\tauthToken,\r\n\t}) => {\r\n\t\tconst qp = { ...queryParams }\r\n\t\tif (isDemoMode()) {\r\n\t\t\tqp.demo = true\r\n\t\t}\r\n\r\n\t\tlet query = Helper.getQuery(qp)\r\n\t\tlet url = this.getUrl(this.baseUrl, route, query)\r\n\r\n\t\tlet hdrs = {\r\n\t\t\t...this.getAuthHeaders({ authSig }),\r\n\t\t\t...headers,\r\n\t\t}\r\n\r\n\t\treturn fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: hdrs,\r\n\t\t\tbody: body,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport default AdexNodeRequester\r\n","import Requester from 'services/requester'\r\nimport { logOut } from 'services/store-data/auth'\r\nimport moment from 'moment'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\r\n\r\nconst processResponse = (res, dontThrow) => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tif (res.status === 401 || res.status === 403) {\r\n\t\t\tlogOut()\r\n\t\t}\r\n\t\tif (!dontThrow) {\r\n\t\t\tthrow new Error(\r\n\t\t\t\ttranslate('SERVICE_ERROR_MSG', {\r\n\t\t\t\t\targs: [res.url, res.status, res.statusText, text],\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const getSession = ({\r\n\tidentity,\r\n\tmode,\r\n\tsignature,\r\n\tauthToken,\r\n\thash,\r\n\ttypedData,\r\n\tsignerAddress,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'auth/',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tidentity,\r\n\t\t\t\tmode,\r\n\t\t\t\tsignature,\r\n\t\t\t\tauthToken,\r\n\t\t\t\thash,\r\n\t\t\t\ttypedData,\r\n\t\t\t\tsignerAddress,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const checkSession = ({ authSig, skipErrToast }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'session',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tauthSig,\r\n\t\t\tskipErrToast,\r\n\t\t})\r\n\t\t.then(res => processResponse(res, true))\r\n}\r\n\r\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\r\n\tconst formData = new FormData()\r\n\tformData.append('media', imageBlob, imageName)\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'media',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nconst convertItemToJSON = item => {\r\n\tconst itemToConvert = { ...item }\r\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\r\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\r\n\t}\r\n\r\n\treturn JSON.stringify(itemToConvert)\r\n}\r\n\r\nexport const getAdUnits = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdUnit = ({ unit, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'units',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdUnit = ({ unit, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `units/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(unit),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAdSlots = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { identity },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const postAdSlot = ({ slot, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'slots',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const updateAdSlot = ({ slot, id, authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `slots/${id}`,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: convertItemToJSON(slot),\r\n\t\t\tauthSig,\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getCampaigns = ({ authSig }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns/by-owner',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tauthSig,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getAllCampaigns = all => {\r\n\tconst queryParams = all\r\n\t\t? {\r\n\t\t\t\tall: true,\r\n\t\t  }\r\n\t\t: {}\r\n\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'campaigns',\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams,\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport Helper from 'helpers/miscHelpers'\r\n\r\nexport function updateSpinner(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SPINNER,\r\n\t\t\tspinner: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateUi(item, value, category) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_UI,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t\tcategory: category,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function addToast({\r\n\ttype,\r\n\taction,\r\n\tlabel = '',\r\n\ttimeout = false,\r\n\tunclosable,\r\n\tanchorOrigin,\r\n\ttop,\r\n}) {\r\n\treturn function(dispatch) {\r\n\t\tconst id = Helper.getGuid()\r\n\t\tdispatch({\r\n\t\t\ttype: types.ADD_TOAST,\r\n\t\t\ttoast: {\r\n\t\t\t\ttype,\r\n\t\t\t\taction,\r\n\t\t\t\tlabel,\r\n\t\t\t\ttimeout,\r\n\t\t\t\tunclosable,\r\n\t\t\t\tanchorOrigin,\r\n\t\t\t\ttop,\r\n\t\t\t\tid,\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\treturn id\r\n\t}\r\n}\r\n\r\nexport function removeToast(toastId) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.REMOVE_TOAST,\r\n\t\t\ttoast: toastId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function confirmAction(\r\n\tonConfirm,\r\n\tonCancel,\r\n\t{ confirmLabel = '', cancelLabel = '', title = '', text = '' } = {},\r\n\tnoActionBtns,\r\n\tactive\r\n) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CONFIRM_ACTION,\r\n\t\t\tconfirm: {\r\n\t\t\t\tonConfirm: onConfirm,\r\n\t\t\t\tonCancel: onCancel,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tconfirmLabel: confirmLabel,\r\n\t\t\t\t\tcancelLabel: cancelLabel,\r\n\t\t\t\t\ttitle: title,\r\n\t\t\t\t\ttext: text,\r\n\t\t\t\t},\r\n\t\t\t\tnoActionBtns,\r\n\t\t\t\tactive,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateNav(item, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NAV,\r\n\t\t\titem: item,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function changeLanguage(lang) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CHANGE_LANGUAGE,\r\n\t\t\tlang: lang,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateValidationErrors(item, newErrors) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\r\n\t\t\titem: item,\r\n\t\t\terrors: newErrors,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetValidationErrors(item, key) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\r\n\t\t\titem: item,\r\n\t\t\tkey: key,\r\n\t\t})\r\n\t}\r\n}\r\n","export const addSig = ({\r\n\taddr = '',\r\n\tsig,\r\n\tmode,\r\n\texpiryTime,\r\n\tidentity = 'notset',\r\n}) => {\r\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\r\n\t\tthrow new Error('addSig - all args are required')\r\n\t}\r\n\r\n\tlocalStorage.setItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\r\n\t\tsig + '-' + expiryTime\r\n\t)\r\n}\r\n\r\nexport const getSig = ({ addr = '', identity = '', mode }) => {\r\n\tlet sigAndTIme = localStorage.getItem(\r\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\r\n\t)\r\n\r\n\tif (!sigAndTIme) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tsigAndTIme = sigAndTIme.split('-')\r\n\tlet sig = sigAndTIme[0]\r\n\tlet time = sigAndTIme[1]\r\n\r\n\tif (!time || parseInt(time, 10) <= Date.now()) {\r\n\t\treturn null\r\n\t} else {\r\n\t\treturn sig\r\n\t}\r\n}\r\n","import Requester from 'services/requester'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\r\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tthrow new Error(\r\n\t\t\ttranslate('SERVICE_ERROR_MSG', {\r\n\t\t\t\targs: [res.url, res.status, res.statusText, text],\r\n\t\t\t})\r\n\t\t)\r\n\t})\r\n}\r\n\r\nexport const identityToEmail = ({ identity, privileges, mail }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'identity/info-mail',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tidentity,\r\n\t\t\t\tprivileges,\r\n\t\t\t\tmail,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const grantAccount = ({ ownerAddr, mail, couponCode }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'identity/grant-account',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tmail,\r\n\t\t\t\townerAddr,\r\n\t\t\t\tcouponCode,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getGrantType = ({ identity }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/grant-type/${identity}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const checkCoupon = ({ coupon }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/valid-coupon/${coupon}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const checkAccessCode = ({ code }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/valid-accesscode/${code}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const getOwnerIdentities = ({ owner }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: `identity/owners/${owner}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const identityBytecode = ({ owner, privLevel, identityBaseAddr }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'identity/identity-bytecode',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\towner,\r\n\t\t\t\tprivLevel,\r\n\t\t\t\tidentityBaseAddr,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const registerFullIdentity = ({\r\n\ttxHash,\r\n\tidentity,\r\n\tprivileges,\r\n\tmail,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'identity/register-identity',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxHash,\r\n\t\t\t\tidentity,\r\n\t\t\t\tprivileges,\r\n\t\t\t\tmail,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const sendOpenChannel = ({\r\n\ttxnsRaw,\r\n\tsignatures,\r\n\tchannel,\r\n\tidentityAddr,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'channel/open',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxnsRaw,\r\n\t\t\t\tsignatures,\r\n\t\t\t\tchannel,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const registerExpectedIdentity = ({ owner, mail }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'identity/register-expected',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\towner,\r\n\t\t\t\tmail,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const relayerConfig = () => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'relayer/cfg',\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const executeTx = ({ txnsRaw, signatures, identityAddr }) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'identity/execute',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxnsRaw,\r\n\t\t\t\tsignatures,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const setAddrPriv = ({\r\n\ttxnsRaw,\r\n\tsignatures,\r\n\tidentityAddr,\r\n\tprivLevel,\r\n\tsetAddr,\r\n}) => {\r\n\treturn requester\r\n\t\t.fetch({\r\n\t\t\troute: 'identity/set-addr-privilege',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttxnsRaw,\r\n\t\t\t\tsignatures,\r\n\t\t\t\tidentityAddr,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tprivLevel,\r\n\t\t\t}),\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n","import Identity from './build/Identity.json'\r\nimport AdExCore from './build/AdExCore.json'\r\nimport Dai from './build/Dai.json'\r\nimport IdentityFactory from './build/IdentityFactory.json'\r\n\r\nexport const contracts = {\r\n\tIdentity: {\r\n\t\tabi: Identity.abi,\r\n\t},\r\n\tAdExCore: {\r\n\t\taddress: process.env.ADEX_CORE_ADDR,\r\n\t\tabi: AdExCore.abi,\r\n\t},\r\n\tDAI: {\r\n\t\taddress: process.env.DAI_TOKEN_ADDR,\r\n\t\tabi: Dai.abi,\r\n\t\tdecimals: 18,\r\n\t},\r\n\tIdentityFactory: {\r\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\r\n\t\tabi: IdentityFactory.abi,\r\n\t},\r\n}\r\n","import { ethers, utils } from 'ethers'\r\nimport { contracts } from './contractsCfg'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nconst { AdExCore, Identity, DAI, IdentityFactory } = contracts\r\nconst localWeb3 = async () => {\r\n\tconst provider = new ethers.providers.JsonRpcProvider(\r\n\t\tprocess.env.WEB3_NODE_ADDR\r\n\t)\r\n\tconst adexCore = new ethers.Contract(AdExCore.address, AdExCore.abi, provider)\r\n\tconst dai = new ethers.Contract(DAI.address, DAI.abi, provider)\r\n\tconst identityFactory = new ethers.Contract(\r\n\t\tIdentityFactory.address,\r\n\t\tIdentityFactory.abi,\r\n\t\tprovider\r\n\t)\r\n\r\n\tconst results = {\r\n\t\tprovider: provider,\r\n\t\tAdExCore: adexCore,\r\n\t\tIdentity: Identity,\r\n\t\tDai: dai,\r\n\t\tIdentityFactory: identityFactory,\r\n\t}\r\n\r\n\treturn results\r\n}\r\n\r\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\r\n\twindow.addEventListener('load', () => {\r\n\t\tconst ethereum = window.ethereum\r\n\t\tconst web3 = window.web3\r\n\t\treturn resolve({\r\n\t\t\tethereum,\r\n\t\t\tweb3,\r\n\t\t})\r\n\t})\r\n})\r\n\r\nconst getInjectedWeb3 = async () => {\r\n\tconst { web3, ethereum } = await loadInjectedWeb3.then()\r\n\tlet provider = null\r\n\t// let mode = null // metamask, and as some point trezor, ledger, ...\r\n\tlet adexCore = null\r\n\tlet dai = null\r\n\tlet identityFactory = null\r\n\r\n\tif (ethereum) {\r\n\t\ttry {\r\n\t\t\tconst enabled = await ethereum.enable()\r\n\t\t\tconsole.log('Injected ethereum detected.', enabled)\r\n\r\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\r\n\t\t\tadexCore = new ethers.Contract(AdExCore.address, AdExCore.abi, provider)\r\n\t\t\tdai = new ethers.Contract(DAI.address, DAI.abi, provider)\r\n\t\t\tidentityFactory = new ethers.Contract(\r\n\t\t\t\tIdentityFactory.address,\r\n\t\t\t\tIdentityFactory.abi,\r\n\t\t\t\tprovider\r\n\t\t\t)\r\n\t\t\tconst results = {\r\n\t\t\t\tprovider: provider,\r\n\t\t\t\tAdExCore: adexCore,\r\n\t\t\t\tIdentity: Identity,\r\n\t\t\t\tDai: dai,\r\n\t\t\t\tIdentityFactory: identityFactory,\r\n\t\t\t}\r\n\r\n\t\t\treturn results\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Err getting injected ethereum.', err)\r\n\t\t\tthrow new Error(err.message)\r\n\t\t}\r\n\t}\r\n\t// Legacy dapp browsers...\r\n\telse if (web3) {\r\n\t\tprovider = new ethers.providers.Web3Provider(window.web3.currentProvider)\r\n\t\tadexCore = new ethers.Contract(AdExCore.address, AdExCore.abi, provider)\r\n\t\tdai = new ethers.Contract(DAI.address, DAI.abi, provider)\r\n\t\tidentityFactory = new ethers.Contract(\r\n\t\t\tIdentityFactory.address,\r\n\t\t\tIdentityFactory.abi,\r\n\t\t\tprovider\r\n\t\t)\r\n\r\n\t\tconsole.log('Injected legacy web3 detected.')\r\n\t\tconst results = {\r\n\t\t\tprovider: provider,\r\n\t\t\tAdExCore: adexCore,\r\n\t\t\tIdentity: Identity,\r\n\t\t\tDai: dai,\r\n\t\t\tIdentityFactory: identityFactory,\r\n\t\t}\r\n\r\n\t\treturn results\r\n\t} else {\r\n\t\tconsole.error('Non-Ethereum browser detected.')\r\n\t\tconsole.error('Fallback to local web3 provider')\r\n\t\treturn await localWeb3()\r\n\t}\r\n}\r\n\r\nconst getLocalWeb3 = new Promise(function(resolve, reject) {\r\n\tconsole.log('getLocalWeb3')\r\n\tresolve(localWeb3())\r\n})\r\n\r\nconst getEthers = async mode => {\r\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\r\n\t *   and this results in Trezor popup block by the browser\r\n\t */\r\n\tif (mode === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst injected = await getInjectedWeb3()\r\n\t\treturn injected\r\n\t} else {\r\n\t\treturn getLocalWeb3\r\n\t}\r\n}\r\n\r\nconst ethereumSelectedAddress = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3.then()\r\n\tif (ethereum && ethereum.selectedAddress) {\r\n\t\treturn utils.getAddress(ethereum.selectedAddress)\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nconst ethereumNetworkId = async () => {\r\n\tconst { ethereum } = await loadInjectedWeb3.then()\r\n\tif (ethereum) {\r\n\t\tconst id = parseInt(ethereum.networkVersion, 10)\r\n\t\treturn id\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nexport { getEthers, ethereumSelectedAddress, ethereumNetworkId }\r\n","import { Signer, utils } from 'ethers'\r\nimport TrezorConnect from 'trezor-connect'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\r\n\r\nTrezorConnect.manifest({\r\n\temail: 'contactus@adex.network',\r\n\tappUrl: 'http://adex.network',\r\n})\r\n\r\nexport default class TrezorSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\r\n\t\tconst bundle = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tbundle.push({\r\n\t\t\t\tpath: this.path + `/${index}`,\r\n\t\t\t\tshowOnTrezor: false,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn { bundle }\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\r\n\t\t\tthis.getAddsParams({ from, to })\r\n\t\t)\r\n\r\n\t\treturn { success, payload }\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\r\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\r\n\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\r\n\t\t\tpath: this.path,\r\n\t\t\ttransaction: txProps,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst signature = {\r\n\t\t\t\tr: payload.r,\r\n\t\t\t\ts: payload.s,\r\n\t\t\t\tv: parseInt(payload.v),\r\n\t\t\t}\r\n\r\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\t\treturn txSigned\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\r\n\t\t\tpath: this.path,\r\n\t\t\tmessage: message,\r\n\t\t\thex: !!opts.hex,\r\n\t\t})\r\n\r\n\t\tif (success) {\r\n\t\t\tconst res = {\r\n\t\t\t\t/*\r\n\t\t\t\t * NOTE: SignatureTypes.GETH\r\n\t\t\t\t * Current TrezorConnect window does not\r\n\t\t\t\t * accept device with old firmware\r\n\t\t\t\t */\r\n\t\t\t\tsignature: '0x' + payload.signature,\r\n\t\t\t\thash: message,\r\n\t\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\t\taddress: payload.address,\r\n\t\t\t}\r\n\r\n\t\t\treturn res\r\n\t\t} else {\r\n\t\t\tthrow new Error(payload.error)\r\n\t\t}\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new TrezorSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","// Nodejs encryption with CTR\r\nvar crypto = require('crypto'),\r\n\talgorithm = 'aes-256-ctr',\r\n\tdefault_password = 'kaipahH5' // temp\r\n\r\nexport const encrypt = (text, password = default_password) => {\r\n\tif (!text) return ''\r\n\tvar cipher = crypto.createCipher(algorithm, password)\r\n\tvar crypted = cipher.update(text, 'utf8', 'hex')\r\n\tcrypted += cipher.final('hex')\r\n\treturn crypted\r\n}\r\n\r\nexport const decrypt = (text, password = default_password) => {\r\n\tif (!text) return ''\r\n\tvar decipher = crypto.createDecipher(algorithm, password)\r\n\tvar dec = decipher.update(text, 'hex', 'utf8')\r\n\tdec += decipher.final('utf8')\r\n\treturn dec\r\n}\r\n","export const loadFromLocalStorage = key => {\r\n\ttry {\r\n\t\tconst data = localStorage.getItem(key)\r\n\t\tif (data === null) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\t\treturn JSON.parse(data)\r\n\t} catch (err) {\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport function saveToLocalStorage(data, key) {\r\n\ttry {\r\n\t\tconst serialized = JSON.stringify(data)\r\n\t\tlocalStorage.setItem(key, serialized)\r\n\t} catch (err) {\r\n\t\tconsole.warn(err)\r\n\t}\r\n}\r\n","import { ethers, utils } from 'ethers'\r\nimport { encrypt, decrypt } from 'services/crypto/crypto'\r\nimport {\r\n\tloadFromLocalStorage,\r\n\tsaveToLocalStorage,\r\n} from 'helpers/localStorageHelpers'\r\n\r\n// Returns 12 random words\r\nexport function getRandomMnemonic() {\r\n\tconst randomEntropy = utils.randomBytes(16)\r\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\r\n\r\n\treturn mnemonic\r\n}\r\n\r\nexport function generateWallet(mnemonic) {\r\n\tconst seed = mnemonic || getRandomMnemonic()\r\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\r\n\r\n\treturn {\r\n\t\tmnemonic,\r\n\t\tprivateKey: wallet.privateKey,\r\n\t\taddress: wallet.address,\r\n\t\tpath: wallet.path,\r\n\t}\r\n}\r\n\r\nfunction encrKey({ email, password }) {\r\n\tconst key = encrypt(email, password)\r\n\treturn key\r\n}\r\n\r\nfunction encrData({ email, password, data }) {\r\n\tconst encr = encrypt(JSON.stringify(data), email + password)\r\n\treturn encr\r\n}\r\n\r\nfunction decrData({ email, password, data }) {\r\n\tconst decr = JSON.parse(decrypt(data, email + password))\r\n\treturn decr\r\n}\r\n\r\nexport function createLocalWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tmnemonic = '',\r\n}) {\r\n\tconst walletData = generateWallet(mnemonic)\r\n\tconst key = encrKey({ email, password })\r\n\tconst data = encrData({ data: walletData, email, password })\r\n\tsaveToLocalStorage({ data }, key)\r\n\r\n\treturn walletData\r\n}\r\n\r\nexport function addDataToWallet({\r\n\temail = '',\r\n\tpassword = '',\r\n\tdataKey = '',\r\n\tdataValue = '',\r\n}) {\r\n\tif (dataKey === 'data') {\r\n\t\tthrow new Error('Invalid data key')\r\n\t}\r\n\r\n\tconst key = encrKey({ email, password })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (!wallet) {\r\n\t\tthrow new Error('Wallet not found')\r\n\t}\r\n\r\n\tconst data = encrData({ data: dataValue, email, password })\r\n\twallet[dataKey] = data\r\n\r\n\tsaveToLocalStorage(wallet, key)\r\n}\r\n\r\nexport function getRecoveryWalletData({ email, password }) {\r\n\tif (!email || !password) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst key = encrKey({ email, password })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\treturn {\r\n\t\tkey,\r\n\t\twallet,\r\n\t}\r\n}\r\n\r\nexport function getLocalWallet({ email, password }) {\r\n\tif (!email || !password) {\r\n\t\tthrow new Error('email and password are required')\r\n\t}\r\n\r\n\tconst key = encrKey({ email, password })\r\n\tconst wallet = loadFromLocalStorage(key)\r\n\r\n\tif (wallet) {\r\n\t\tconst data = Object.keys(wallet).reduce((props, key) => {\r\n\t\t\tprops[key] = decrData({\r\n\t\t\t\tdata: wallet[key],\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t})\r\n\r\n\t\t\treturn props\r\n\t\t}, {})\r\n\r\n\t\treturn data\r\n\t} else {\r\n\t\treturn null\r\n\t}\r\n}\r\n","import { Signer, utils, Wallet } from 'ethers'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class LocalSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\r\n\t\tconst walletData = getLocalWallet({\r\n\t\t\temail: opts.email,\r\n\t\t\tpassword: opts.password,\r\n\t\t})\r\n\r\n\t\tthis._wallet = new Wallet(walletData.data.privateKey, provider)\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._wallet.address\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst signetTx = this._wallet.sign(params)\r\n\t\treturn signetTx\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._wallet.signMessage(message)\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: this._wallet.address,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LocalSigner(provider, {\r\n\t\t\temail: this.email,\r\n\t\t\tpassword: this.password,\r\n\t\t})\r\n\t}\r\n}\r\n","import { Signer, utils } from 'ethers'\r\nimport { constants } from 'adex-models'\r\n\r\nexport default class MetaMaskSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._signer = provider.getSigner()\r\n\t}\r\n\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\tgetAddress = async () => {\r\n\t\treturn this._signer.getAddress()\r\n\t}\r\n\r\n\tsendTransaction = async params => {\r\n\t\treturn this._signer.sendTransaction(params)\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (opts.hex) {\r\n\t\t\tmessage = utils.arrayify(message)\r\n\t\t}\r\n\r\n\t\tconst signature = await this._signer.signMessage(message)\r\n\t\t// TODO: support EIP712\r\n\t\tconst res = {\r\n\t\t\tsignature,\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress: await this._signer.getAddress(),\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new MetaMaskSigner(provider)\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewTransaction({ tx, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewTransaction({ tx }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\nexport function addWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\tif (!tx || !tx.hash || !addr) return\r\n\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\r\n\t\t\tvalue: tx,\r\n\t\t\ttx: tx.hash,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// TODO: make update multiple\r\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWeb3Transaction({ tx, addr }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\r\n\t\t\ttx: tx,\r\n\t\t\taddr: addr,\r\n\t\t})\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { utils } from 'ethers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\r\nimport LedgerSigner from 'services/smart-contracts/signers/ledger'\r\nimport LocalSigner from 'services/smart-contracts/signers/local'\r\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\r\nimport { translate } from 'services/translations/translations'\r\nimport { execute } from 'actions/common'\r\nimport {\r\n\t// addWeb3Transaction,\r\n\tupdateWeb3Transaction,\r\n} from 'actions/transactionActions'\r\nimport { addToast } from 'actions/uiActions'\r\nimport { updateAccount } from 'actions/accountActions'\r\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\r\n\r\n/**\r\n * NOTE: DO NOT CALL WITH CONNECTED SIGNER\r\n * Will fill missing props gasLimit, nonce, chainId, etc..  *\r\n * */\r\nexport async function prepareTx({ tx, provider, sender, gasLimit, gasPrice }) {\r\n\tconst pTx = await utils.populateTransaction(tx, provider, sender)\r\n\r\n\t// TO work with all signers\r\n\tpTx.gasLimit = gasLimit || pTx.gasLimit.toHexString()\r\n\tpTx.gasPrice = gasPrice || pTx.gasPrice.toHexString()\r\n\tpTx.value = pTx.value || utils.hexlify(0)\r\n\tpTx.nonce = utils.hexlify(pTx.nonce)\r\n\r\n\treturn pTx\r\n}\r\n\r\nexport async function processTx({\r\n\ttx,\r\n\ttxSuccessData,\r\n\tfrom,\r\n\tfromType,\r\n\taccount,\r\n}) {\r\n\ttry {\r\n\t\tconst txRes = await tx\r\n\t\t// const txData = {\r\n\t\t// \t// id: txRes.hash,\r\n\t\t// \thash: txRes.hash,\r\n\t\t// \tnonce: txRes.nonce,\r\n\t\t// \t...txSuccessData,\r\n\t\t// \tstatus: 'pending',\r\n\t\t// \tsendingTime: Date.now(),\r\n\t\t// \ttxData: txRes\r\n\t\t// }\r\n\r\n\t\t// execute(\r\n\t\t// \taddWeb3Transaction({ tx: txData, addr: from })\r\n\t\t// )\r\n\t\texecute(\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\taction: 'X',\r\n\t\t\t\tlabel: translate('TRANSACTION_SENT_MSG', {\r\n\t\t\t\t\targs: [txRes.hash],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t\tconst settings = { ...account.settings }\r\n\t\tsettings[fromType] = { ...settings[fromType] } || {}\r\n\t\tsettings[fromType].nextNonce = txRes.nonce + 1\r\n\t\texecute(\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { settings },\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t\t// TODO: catch and toast\r\n\t\tconst receipt = await txRes.wait()\r\n\t\texecute(\r\n\t\t\tupdateWeb3Transaction({\r\n\t\t\t\ttx: txRes.hash,\r\n\t\t\t\tkey: 'status',\r\n\t\t\t\tvalue:\r\n\t\t\t\t\treceipt.status === 1 ||\r\n\t\t\t\t\treceipt.status === '0x1' ||\r\n\t\t\t\t\treceipt.status === true\r\n\t\t\t\t\t\t? 'success'\r\n\t\t\t\t\t\t: 'failed',\r\n\t\t\t\taddr: from,\r\n\t\t\t})\r\n\t\t)\r\n\t} catch (err) {\r\n\t\tconsole.error(err)\r\n\t\texecute(\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\taction: 'X',\r\n\t\t\t\tlabel: translate('TRANSACTION_ERR_MSG', {\r\n\t\t\t\t\targs: [err],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 50000,\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport async function getSigner({ wallet, provider }) {\r\n\t// TODO: Maybe get provider here?\r\n\tconst { authType, path, email, password } = wallet\r\n\r\n\tif (authType === AUTH_TYPES.METAMASK.name) {\r\n\t\tconst signer = new MetaMaskSigner(provider)\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.LEDGER.name) {\r\n\t\tconst signer = new LedgerSigner(provider, { path })\r\n\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.TREZOR.name) {\r\n\t\tconst signer = new TrezorSigner(provider, { path })\r\n\t\treturn signer\r\n\t}\r\n\tif (authType === AUTH_TYPES.GRANT.name) {\r\n\t\tconst signer = new LocalSigner(provider, { email, password })\r\n\r\n\t\treturn signer\r\n\t}\r\n\r\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\r\n}\r\n\r\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\r\nexport const getTypedDataHash = ({ typedData }) => {\r\n\tconst values = typedData.map(entry => {\r\n\t\treturn typeof entry.value === 'string'\r\n\t\t\t? utils.toUtf8Bytes(entry.value)\r\n\t\t\t: utils.hexlify(entry.value)\r\n\t})\r\n\tconst valuesHash = utils.keccak256.apply(null, values)\r\n\tconst schema = typedData.map(entry => {\r\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\r\n\t})\r\n\r\n\tconst schemaHash = utils.keccak256.apply(null, schema)\r\n\tconst hash = utils.solidityKeccak256(\r\n\t\t['bytes32', 'bytes32'],\r\n\t\t[schemaHash, valuesHash]\r\n\t)\r\n\r\n\treturn hash\r\n}\r\n\r\nexport async function getAuthSig({ wallet }) {\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst authToken = Math.floor(\r\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\r\n\t).toString()\r\n\r\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\r\n\tconst hash = getTypedDataHash({ typedData })\r\n\tconst signature = await signer.signMessage(hash, { hex: true })\r\n\r\n\treturn {\r\n\t\t...signature,\r\n\t\tauthToken,\r\n\t\thash,\r\n\t}\r\n}\r\n\r\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\r\n\tconst { provider } = await getEthers(authType)\r\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\r\n\r\n\treturn Promise.all(receipts)\r\n}\r\n\r\nexport async function signTx({ tx, signer }) {\r\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\r\n\t\thex: true,\r\n\t})\r\n\tconst signature = splitSig(sig.signature)\r\n\treturn signature\r\n}\r\n\r\nexport async function getMultipleTxSignatures({ txns, signer }) {\r\n\tconst signatures = []\r\n\tfor (const tx of txns) {\r\n\t\tsignatures.push(await signTx({ tx, signer }))\r\n\t}\r\n\r\n\treturn signatures\r\n}\r\n","import Requester from 'services/requester'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport ewt from './ewt'\r\n\r\nconst BEARER_PREFIX = 'Bearer '\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\n\r\nconst getValidatorRequester = ({ baseUrl }) => {\r\n\treturn new Requester({ baseUrl })\r\n}\r\n\r\nconst getRequesters = ({ campaign }) => {\r\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\r\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\r\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\r\n\tconst followerRequester = getValidatorRequester({\r\n\t\tbaseUrl: follower.url,\r\n\t})\r\n\r\n\treturn {\r\n\t\tleader: { requester: leaderRequester, validator: leader },\r\n\t\tfollower: { requester: followerRequester, validator: follower },\r\n\t}\r\n}\r\n\r\nconst processResponse = res => {\r\n\tif (res.status >= 200 && res.status < 400) {\r\n\t\treturn res.json()\r\n\t}\r\n\r\n\treturn res.text().then(text => {\r\n\t\tthrow new Error(\r\n\t\t\ttranslate('SERVICE_ERROR_MSG', {\r\n\t\t\t\targs: [res.url, res.status, res.statusText, text],\r\n\t\t\t})\r\n\t\t)\r\n\t})\r\n}\r\n\r\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\r\n\tconst { identity, wallet } = account\r\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\r\n\tif (existingAuth) {\r\n\t\treturn existingAuth\r\n\t}\r\n\r\n\tconst { provider } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst payload = {\r\n\t\tid: validatorId,\r\n\t\tidentity: identity.address,\r\n\t\tera: Math.floor(Date.now() / 60000),\r\n\t}\r\n\r\n\tconst token = ewt.sign(signer, payload)\r\n\r\n\treturn token\r\n}\r\n\r\nconst sendMessage = async ({ campaign, options, account }) => {\r\n\tconst { follower, leader } = getRequesters({ campaign })\r\n\r\n\tconst followerAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: follower.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst leaderAuthToken = await getValidatorAuthToken({\r\n\t\tvalidatorId: leader.validator.id,\r\n\t\taccount,\r\n\t})\r\n\tconst followerResult = await follower.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\tconst leaderResult = await leader.requester\r\n\t\t.fetch({\r\n\t\t\t...options,\r\n\t\t\theaders: {\r\n\t\t\t\t...options.headers,\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn {\r\n\t\tresults: {\r\n\t\t\tfollowerResult,\r\n\t\t\tleaderResult,\r\n\t\t},\r\n\t\tauthTokens: {\r\n\t\t\t[follower.id]: followerAuthToken,\r\n\t\t\t[leader.id]: leaderAuthToken,\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const lastApprovedState = ({ campaign }) => {\r\n\tconst { leader } = getRequesters({ campaign })\r\n\r\n\treturn leader.requester\r\n\t\t.fetch({\r\n\t\t\troute: `channel/${campaign.id}/last-approved`,\r\n\t\t\tmethod: 'GET',\r\n\t\t})\r\n\t\t.then(processResponse)\r\n}\r\n\r\nexport const closeCampaign = ({ campaign, account }) => {\r\n\tconst options = {\r\n\t\troute: `channel/${campaign.id}/events`,\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t}\r\n\r\n\treturn sendMessage({ campaign, options, account })\r\n}\r\n\r\nexport const identityAnalytics = async ({\r\n\tidenityAddr,\r\n\tcampaign,\r\n\tcampaignId,\r\n\tleaderAuth,\r\n\teventType,\r\n\tmetric,\r\n\ttimeframe,\r\n\tlimit,\r\n\tside,\r\n}) => {\r\n\tconst baseUrl = VALIDATOR_LEADER_URL\r\n\tconst requester = getValidatorRequester({ baseUrl })\r\n\r\n\tconst aggregates = await requester\r\n\t\t.fetch({\r\n\t\t\troute: `/analytics/for-${side}${campaignId || ''}`,\r\n\t\t\tmethod: 'GET',\r\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\r\n\t\t\t},\r\n\t\t})\r\n\t\t.then(processResponse)\r\n\r\n\treturn aggregates\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { constants } from 'adex-models'\r\nimport { utils, Contract } from 'ethers'\r\nimport { getAllCampaigns } from 'services/adex-market/actions'\r\nimport {\r\n\tlastApprovedState,\r\n\tgetValidatorAuthToken,\r\n} from 'services/adex-validator/actions'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport { Channel, MerkleTree } from 'adex-protocol-eth/js'\r\n\r\nconst { formatEther, formatUnits } = utils\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nexport async function getAddressBalances({ address, authType }) {\r\n\tconst { provider, Dai } = await getEthers(authType)\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(address.address),\r\n\t\tDai.balanceOf(address.address),\r\n\t]\r\n\r\n\tconst balances = await Promise.all(calls)\r\n\tconst formatted = {\r\n\t\taddress: address.address,\r\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\r\n\t\tbalanceEth: balances[0].toString(),\r\n\t\tbalanceDai: balances[1].toString(),\r\n\t}\r\n\r\n\treturn formatted\r\n}\r\n\r\nexport async function getAccountStats({\r\n\taccount,\r\n\toutstandingBalanceDai = bigNumberify(0),\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, Dai, Identity } = await getEthers(wallet.authType)\r\n\r\n\tconst { status = {} } = identity\r\n\tconst identityContract = new Contract(\r\n\t\tidentity.address,\r\n\t\tIdentity.abi,\r\n\t\tprovider\r\n\t)\r\n\tlet privilegesAction\r\n\ttry {\r\n\t\tawait identityContract.deployed()\r\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\r\n\t} catch {\r\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\r\n\t}\r\n\r\n\tconst calls = [\r\n\t\tprovider.getBalance(wallet.address),\r\n\t\tDai.balanceOf(wallet.address),\r\n\t\tDai.balanceOf(identity.address),\r\n\t\tprivilegesAction,\r\n\t]\r\n\r\n\tconst [\r\n\t\twalletBalanceEth,\r\n\t\twalletBalanceDai,\r\n\t\tidentityBalanceDai = bigNumberify(0),\r\n\t\twalletPrivileges,\r\n\t] = await Promise.all(\r\n\t\tcalls.map(c =>\r\n\t\t\tc\r\n\t\t\t\t.then(res => res)\r\n\t\t\t\t.catch(e => {\r\n\t\t\t\t\treturn undefined\r\n\t\t\t\t})\r\n\t\t)\r\n\t)\r\n\r\n\t// BigNumber values for balances\r\n\tconst raw = {\r\n\t\twalletBalanceEth,\r\n\t\twalletBalanceDai,\r\n\t\tidentityBalanceDai,\r\n\t\twalletPrivileges,\r\n\t\toutstandingBalanceDai,\r\n\t\ttotalIdentityBalanceDai: identityBalanceDai.add(outstandingBalanceDai),\r\n\t}\r\n\r\n\tconst formatted = {\r\n\t\twalletAddress: wallet.address,\r\n\t\twalletAuthType: wallet.authType,\r\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\r\n\t\twalletBalanceEth: formatEther(walletBalanceEth),\r\n\t\twalletBalanceDai: formatUnits(walletBalanceDai, 18),\r\n\t\tidentityAddress: identity.address,\r\n\t\tidentityBalanceDai: formatUnits(identityBalanceDai, 18),\r\n\t\toutstandingBalanceDai: formatUnits(outstandingBalanceDai, 18),\r\n\t\ttotalIdentityBalanceDai: formatUnits(raw.totalIdentityBalanceDai, 18),\r\n\t}\r\n\r\n\treturn {\r\n\t\traw,\r\n\t\tformatted,\r\n\t}\r\n}\r\n\r\nasync function getAllChannels() {\r\n\tconst channels = await getAllCampaigns(true)\r\n\treturn Promise.all(\r\n\t\tchannels.map(async channel => {\r\n\t\t\tconst { lastApprovedBalances } = channel.status || {}\r\n\r\n\t\t\tif (lastApprovedBalances) {\r\n\t\t\t\tconst allLeafs = Object.entries(lastApprovedBalances).map(([k, v]) =>\r\n\t\t\t\t\tChannel.getBalanceLeaf(k, v)\r\n\t\t\t\t)\r\n\t\t\t\tconst mTree = new MerkleTree(allLeafs)\r\n\t\t\t\treturn { lastApprovedBalances, mTree, channel }\r\n\t\t\t} else {\r\n\t\t\t\treturn { lastApprovedBalances: null, mTree: null, channel }\r\n\t\t\t}\r\n\t\t})\r\n\t)\r\n}\r\n\r\nasync function getAllChannelsWhereHasBalance(allActive, addr) {\r\n\treturn allActive\r\n\t\t.filter(\r\n\t\t\t({ lastApprovedBalances }) =>\r\n\t\t\t\tlastApprovedBalances && !!lastApprovedBalances[addr]\r\n\t\t)\r\n\t\t.map(({ channel, lastApprovedBalances }) => ({\r\n\t\t\tchannel,\r\n\t\t\tbalance: lastApprovedBalances[addr],\r\n\t\t}))\r\n}\r\n\r\nexport async function getOutstandingBalance({ wallet, address, withBalance }) {\r\n\tconst { authType } = wallet\r\n\tconst { AdExCore } = await getEthers(authType)\r\n\r\n\tconst withOutstanding = await Promise.all(\r\n\t\twithBalance.map(async ({ channel, balance }) => {\r\n\t\t\tconst outstanding = bigNumberify(balance).sub(\r\n\t\t\t\tawait AdExCore.withdrawnPerUser(channel.id, address)\r\n\t\t\t)\r\n\t\t\treturn { channel, outstanding }\r\n\t\t})\r\n\t)\r\n\r\n\tconst totalOutstanding = withOutstanding.reduce((sum, ch) => {\r\n\t\tconst currentSum = sum.add(ch.outstanding)\r\n\t\treturn currentSum\r\n\t}, bigNumberify('0'))\r\n\r\n\treturn totalOutstanding || bigNumberify('0')\r\n}\r\n\r\nexport async function getAllValidatorsAuthForIdentity({\r\n\twithBalance,\r\n\taccount,\r\n}) {\r\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\r\n\r\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\r\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\r\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\r\n\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\r\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\tconst keys = Object.keys(allValidators)\r\n\r\n\tconst tokenCalls = keys.map(async key => {\r\n\t\tif (allValidators[key]) {\r\n\t\t\treturn allValidators[key]\r\n\t\t} else {\r\n\t\t\tconst token = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: key,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\treturn token\r\n\t\t}\r\n\t})\r\n\r\n\tconst allTokens = await Promise.all(tokenCalls)\r\n\r\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\r\n\t\tconst validators = {\r\n\t\t\t...all,\r\n\t\t\t[key]: allTokens[index],\r\n\t\t}\r\n\r\n\t\treturn validators\r\n\t}, {})\r\n\r\n\treturn validatorsAuth\r\n}\r\n\r\nexport async function getAllChannelsForIdentity({ address }) {\r\n\tconst allActive = await getAllChannels()\r\n\tconst withBalance = await getAllChannelsWhereHasBalance(allActive, address)\r\n\r\n\treturn withBalance\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { addSig, getSig } from 'services/auth/auth'\r\nimport { getSession, checkSession } from 'services/adex-market/actions'\r\nimport { relayerConfig, getGrantType } from 'services/adex-relayer/actions'\r\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\r\nimport { updateSpinner } from './uiActions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\r\nimport {\r\n\tgetAllChannelsForIdentity,\r\n\tgetAccountStats,\r\n\tgetOutstandingBalance,\r\n} from 'services/smart-contracts/actions/stats'\r\nimport { addToast, confirmAction } from './uiActions'\r\nimport {\r\n\tgetEthers,\r\n\tethereumSelectedAddress,\r\n\tethereumNetworkId,\r\n} from 'services/smart-contracts/ethers'\r\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\r\nimport { selectAccount, selectIdentity, selectAuth } from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\n\r\nconst UPDATE_SETTINGS_INTERVAL = 24 * 60 * 60 * 1000 // 1 hour\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\n// MEMORY STORAGE\r\nexport function updateSignin(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_SIGNIN,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetSignin() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_SIGNIN,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSISTENT STORAGE\r\nexport function createAccount(acc) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.CREATE_ACCOUNT,\r\n\t\t\taccount: acc,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// LOGOUT\r\nexport function resetAccount() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ACCOUNT,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccount({ meta, newValues }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ACCOUNT,\r\n\t\t\tmeta: meta,\r\n\t\t\tnewValues: newValues,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateGasData({ gasData }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_GAS_DATA,\r\n\t\t\tgasData: gasData,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateAccountStats() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { account } = getState().persist\r\n\t\ttry {\r\n\t\t\tconst { identity, wallet, stats } = account\r\n\t\t\tconst { address } = identity\r\n\t\t\tconst oldAggregates = stats.aggregates\r\n\r\n\t\t\tconst withBalance = await getAllChannelsForIdentity({ address })\r\n\r\n\t\t\tconst outstandingBalanceDai = await getOutstandingBalance({\r\n\t\t\t\twallet,\r\n\t\t\t\taddress,\r\n\t\t\t\twithBalance,\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\r\n\t\t\t})\r\n\r\n\t\t\tconst { formatted, raw } = await getAccountStats({\r\n\t\t\t\taccount,\r\n\t\t\t\toutstandingBalanceDai,\r\n\t\t\t})\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { stats: { formatted, raw, aggregates: oldAggregates } },\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_STATS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_STATS', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateAccountSettings() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { identity, settings } = getState().persist.account\r\n\t\tconst { grantType, updated } = settings\r\n\t\tconst now = Date.now()\r\n\t\tconst doUpdate =\r\n\t\t\t!grantType || now - (updated || 0) > UPDATE_SETTINGS_INTERVAL\r\n\r\n\t\ttry {\r\n\t\t\tif (doUpdate) {\r\n\t\t\t\tconst newSettings = { ...settings }\r\n\t\t\t\tnewSettings.grantType = (await getGrantType({\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t})).type\r\n\t\t\t\tnewSettings.updated = now\r\n\t\t\t\tupdateAccount({ newValues: { settings: newSettings } })(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_SETTINGS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_SETTINGS', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function updateValidatorAuthTokens({ newAuth }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { identity } = getState().persist.account\r\n\r\n\t\tconst newIdentity = { ...identity }\r\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\r\n\r\n\t\t// We don't want to update account if there is no actual change\r\n\t\tif (\r\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\r\n\t\t\tJSON.stringify(newTokens)\r\n\t\t) {\r\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\r\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function createSession({ wallet, identity, email }) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner('creating-session', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tconst sessionSignature =\r\n\t\t\t\tgetSig({\r\n\t\t\t\t\taddr: newWallet.address,\r\n\t\t\t\t\tmode: newWallet.authType,\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t}) || null\r\n\r\n\t\t\tconst hasSession =\r\n\t\t\t\t!!sessionSignature &&\r\n\t\t\t\t(await checkSession({\r\n\t\t\t\t\tauthSig: sessionSignature,\r\n\t\t\t\t\tskipErrToast: true,\r\n\t\t\t\t}))\r\n\r\n\t\t\tif (hasSession) {\r\n\t\t\t\tnewWallet.authSig = sessionSignature\r\n\t\t\t} else {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tsignature,\r\n\t\t\t\t\tmode,\r\n\t\t\t\t\tauthToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\r\n\r\n\t\t\t\tconst { status, expiryTime } = await getSession({\r\n\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\tmode: mode,\r\n\t\t\t\t\tsignature: signature,\r\n\t\t\t\t\tauthToken: authToken,\r\n\t\t\t\t\thash,\r\n\t\t\t\t\ttypedData,\r\n\t\t\t\t\tsignerAddress: newWallet.address,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (status === 'OK') {\r\n\t\t\t\t\taddSig({\r\n\t\t\t\t\t\taddr: wallet.address,\r\n\t\t\t\t\t\tsig: signature,\r\n\t\t\t\t\t\tmode: wallet.authType,\r\n\t\t\t\t\t\texpiryTime: expiryTime,\r\n\t\t\t\t\t\tidentity: identity.address,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tnewWallet.authSig = signature\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst account = {\r\n\t\t\t\temail: email,\r\n\t\t\t\twallet: newWallet,\r\n\t\t\t\tidentity: { ...identity },\r\n\t\t\t}\r\n\r\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\taccount.identity.validatorAuthTokens = {\r\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\r\n\t\t\t}\r\n\r\n\t\t\tupdateAccount({\r\n\t\t\t\tnewValues: { ...account },\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner('creating-session', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getRelayerConfig() {\r\n\treturn async function(dispatch) {\r\n\t\tconst cfg = await relayerConfig()\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\r\n\t\t\tcfg,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nasync function getNetworkId() {\r\n\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\r\n\tconst networkId = (await provider.getNetwork()).chainId\r\n\r\n\treturn networkId\r\n}\r\n\r\nasync function getNetworkData({ id }) {\r\n\tconst networkId = id || (await getNetworkId())\r\n\tconst network = ETHEREUM_NETWORKS[networkId] || {}\r\n\r\n\treturn network\r\n}\r\n\r\nexport function onMetamaskNetworkChange({ id } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { persist, router } = getState()\r\n\t\tconst { location } = router\r\n\t\tconst { account } = persist\r\n\t\tconst { search } = location\r\n\t\tconst { authType } = account.wallet\r\n\r\n\t\tconst isMetamaskMatters =\r\n\t\t\tauthType === AUTH_TYPES.METAMASK.name ||\r\n\t\t\t(!authType && search === '?metamask')\r\n\r\n\t\tif (\r\n\t\t\tisMetamaskMatters &&\r\n\t\t\tprocess.env.NODE_ENV !== (await getNetworkData({ id })).for\r\n\t\t) {\r\n\t\t\tconfirmAction(\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: translate('WARNING'),\r\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\r\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\r\n\t\t\t\t\t}),\r\n\t\t\t\t},\r\n\t\t\t\ttrue\r\n\t\t\t)(dispatch)\r\n\t\t} else {\r\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const onMetamaskAccountChange = accountAddress => {\r\n\treturn async function(_, getState) {\r\n\t\tconst state = getState()\r\n\t\tconst hasAuth = selectAuth(state)\r\n\t\tconst account = selectAccount(state)\r\n\t\tconst { authType, address } = account.wallet\r\n\r\n\t\tif (\r\n\t\t\thasAuth &&\r\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\r\n\t\t\t(!accountAddress || address !== accountAddress)\r\n\t\t) {\r\n\t\t\tlogOut()\r\n\t\t} else if (!hasAuth) {\r\n\t\t\tconst identity = selectIdentity(state)\r\n\t\t\tconst { identityContractOwner } = identity\r\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function metamaskAccountCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tconst address = await ethereumSelectedAddress()\r\n\t\tonMetamaskAccountChange(address)(_, getState)\r\n\t}\r\n}\r\n\r\nexport function metamaskNetworkCheck() {\r\n\treturn async function(_, getState) {\r\n\t\tconst id = await ethereumNetworkId()\r\n\t\tonMetamaskNetworkChange({ id })(_, getState)\r\n\t}\r\n}\r\n\r\nexport function metamaskChecks() {\r\n\treturn async function(_, getState) {\r\n\t\tmetamaskNetworkCheck()(_, getState)\r\n\t\tmetamaskAccountCheck()(_, getState)\r\n\t\tif (window.ethereum) {\r\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\r\n\t\t\t\tconsole.log('acc changed', accounts[0])\r\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\r\n\t\t\t})\r\n\t\t\twindow.ethereum.on('networkChanged', network => {\r\n\t\t\t\tconsole.log('networkChanged', network)\r\n\t\t\t\tonMetamaskNetworkChange({ id: network })(_, getState)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n","import crypto from 'crypto'\r\nimport {\r\n\tChannel,\r\n\t// splitSig,\r\n\t// Transaction\r\n} from 'adex-protocol-eth/js'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetSigner,\r\n\tgetMultipleTxSignatures,\r\n} from 'services/smart-contracts/actions/ethers'\r\nimport { contracts } from '../contractsCfg'\r\nimport { sendOpenChannel } from 'services/adex-relayer/actions'\r\nimport { closeCampaign } from 'services/adex-validator/actions'\r\nimport { Campaign, AdUnit } from 'adex-models'\r\nimport {\r\n\tbigNumberify,\r\n\trandomBytes,\r\n\tparseUnits,\r\n\tInterface,\r\n\tformatUnits,\r\n} from 'ethers/utils'\r\nimport { Contract } from 'ethers'\r\n\r\nconst { AdExCore, DAI } = contracts\r\nconst Core = new Interface(AdExCore.abi)\r\nconst ERC20 = new Interface(DAI.abi)\r\nconst feeAmountApprove = '150000000000000000'\r\nconst feeAmountOpen = '160000000000000000'\r\nconst timeframe = 15000 // 1 event per 15 seconds\r\nconst VALID_UNTIL_COEFFICIENT = 0.5\r\nconst VALID_UNTIL_MIN_PERIOD = 7 * 24 * 60 * 60 * 1000 // 7 days in ms\r\n\r\nexport const totalFeesFormatted = formatUnits(\r\n\tbigNumberify(feeAmountApprove)\r\n\t\t.add(bigNumberify(feeAmountOpen))\r\n\t\t.toString(),\r\n\t18\r\n)\r\n\r\nfunction toEthereumChannel(channel) {\r\n\tconst specHash = crypto\r\n\t\t.createHash('sha256')\r\n\t\t.update(JSON.stringify(channel.spec))\r\n\t\t.digest()\r\n\r\n\treturn new Channel({\r\n\t\tcreator: channel.creator,\r\n\t\ttokenAddr: channel.depositAsset,\r\n\t\ttokenAmount: channel.depositAmount,\r\n\t\tvalidUntil: channel.validUntil,\r\n\t\tvalidators: channel.spec.validators.map(v => v.id),\r\n\t\tspec: specHash,\r\n\t})\r\n}\r\n\r\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\r\n\tconst period = withdrawPeriodStart - activeFrom\r\n\tconst validUntil =\r\n\t\twithdrawPeriodStart +\r\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\r\n\r\n\treturn Math.floor(validUntil / 1000)\r\n}\r\n\r\nfunction getReadyCampaign(campaign, identity, Dai) {\r\n\tconst newCampaign = new Campaign(campaign)\r\n\tnewCampaign.creator = identity.address\r\n\tnewCampaign.created = Date.now()\r\n\tnewCampaign.validUntil = getValidUntil(\r\n\t\tnewCampaign.activeFrom,\r\n\t\tnewCampaign.withdrawPeriodStart\r\n\t)\r\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\r\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\r\n\tnewCampaign.depositAmount = parseUnits(\r\n\t\tnewCampaign.depositAmount,\r\n\t\tDAI.decimals\r\n\t).toString()\r\n\r\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\r\n\tnewCampaign.minPerImpression = parseUnits(\r\n\t\tnewCampaign.minPerImpression,\r\n\t\tDAI.decimals\r\n\t)\r\n\t\t.div(bigNumberify(1000))\r\n\t\t.toString()\r\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\r\n\r\n\tnewCampaign.depositAsset = newCampaign.depositAsset || Dai.address\r\n\tnewCampaign.eventSubmission = {\r\n\t\tallow: [\r\n\t\t\t{\r\n\t\t\t\tuids: [\r\n\t\t\t\t\tnewCampaign.creator,\r\n\t\t\t\t\tnewCampaign.validators[0].id,\r\n\t\t\t\t\tnewCampaign.validators[1].id,\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\r\n\t\t],\r\n\t}\r\n\r\n\tnewCampaign.status = { name: 'Pending', lastChecked: Date.now() }\r\n\r\n\treturn newCampaign\r\n}\r\n\r\nexport async function openChannel({ campaign, account }) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, AdExCore, Dai, Identity } = await getEthers(wallet.authType)\r\n\r\n\tconst readyCampaign = getReadyCampaign(campaign, identity, Dai)\r\n\tconst openReady = readyCampaign.openReady\r\n\tconst ethChannel = toEthereumChannel(openReady)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst channel = {\r\n\t\t...openReady,\r\n\t\tid: ethChannel.hashHex(AdExCore.address),\r\n\t}\r\n\tconst identityAddr = openReady.creator\r\n\tconst identityContract = new Contract(identityAddr, Identity.abi, provider)\r\n\tconst initialNonce = (await identityContract.nonce()).toNumber()\r\n\r\n\tconst feeTokenAddr = campaign.temp.feeTokenAddr || Dai.address\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tfeeAmount: feeAmountApprove,\r\n\t\tto: Dai.address,\r\n\t\tdata: ERC20.functions.approve.encode([\r\n\t\t\tAdExCore.address,\r\n\t\t\tchannel.depositAmount,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst tx2 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce + 1,\r\n\t\tfeeTokenAddr: feeTokenAddr,\r\n\t\tfeeAmount: feeAmountOpen,\r\n\t\tto: AdExCore.address,\r\n\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\r\n\t}\r\n\r\n\tconst txns = [tx1, tx2]\r\n\tconst signatures = await getMultipleTxSignatures({ txns, signer })\r\n\r\n\tconst data = {\r\n\t\ttxnsRaw: txns,\r\n\t\tsignatures,\r\n\t\tchannel,\r\n\t\tidentityAddr: identity.address,\r\n\t}\r\n\r\n\tconst result = await sendOpenChannel(data)\r\n\treadyCampaign.id = channel.id\r\n\treturn {\r\n\t\tresult,\r\n\t\treadyCampaign,\r\n\t}\r\n}\r\n\r\nexport async function closeChannel({ account, campaign }) {\r\n\tconst result = await closeCampaign({ account, campaign })\r\n\treturn result\r\n}\r\n","const MAX_ASPECT_TOLERANCE = 5\r\n\r\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\r\n\r\nconst getVideoSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst video = document.createElement('video')\r\n\t\tvideo.src = src\r\n\r\n\t\tvideo.onloadedmetadata = ({ target }) => {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: target.videoWidth,\r\n\t\t\t\theight: target.videoHeight,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nconst getImageSize = src =>\r\n\tnew Promise(resolve => {\r\n\t\tconst image = new Image()\r\n\t\timage.src = src\r\n\t\timage.onload = function() {\r\n\t\t\treturn resolve({\r\n\t\t\t\twidth: this.width,\r\n\t\t\t\theight: this.height,\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\nexport const getMediaSize = ({ mime, src }) =>\r\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\r\n\r\nexport const checkExactishAspect = (\r\n\twidthTarget,\r\n\twidth,\r\n\theightTarget,\r\n\theight,\r\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\r\n) => {\r\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\r\n\t\treturn false\r\n\t}\r\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\r\n\tconst aspect = parseFloat(width / height)\r\n\r\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\r\n\r\n\tconst isValid =\r\n\t\twidthTarget <= width &&\r\n\t\theightTarget <= height &&\r\n\t\taspectDiff <= maxPercentTolerance\r\n\r\n\treturn isValid\r\n}\r\n","import { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nconst autocompleteLocationsSingleSelect = () => {\r\n\treturn constants.AllCountries.map(country => {\r\n\t\treturn {\r\n\t\t\tlabel: country.name,\r\n\t\t\tvalue: country.value,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteGendersSingleSelect = () => {\r\n\treturn constants.Genders.map(gender => {\r\n\t\treturn {\r\n\t\t\tlabel: translate(gender.split('_')[1]),\r\n\t\t\tvalue: gender,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport const AcLocations = autocompleteLocationsSingleSelect()\r\nexport const AcGenders = autocompleteGendersSingleSelect()\r\nexport const AcTags = autocompleteTagsSingleSelect()\r\n\r\nexport const SOURCES = {\r\n\tlocations: { src: AcLocations, collection: 'targeting' },\r\n\tgenders: { src: AcGenders, collection: 'targeting' },\r\n\ttags: { src: AcTags, collection: 'targeting' },\r\n\tcustom: { src: [], collection: 'targeting' },\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport {\r\n\tuploadImage,\r\n\tpostAdUnit,\r\n\tpostAdSlot,\r\n\tupdateAdSlot,\r\n\tupdateAdUnit,\r\n} from 'services/adex-market/actions'\r\nimport { parseUnits, bigNumberify } from 'ethers/utils'\r\nimport { Base, AdSlot, AdUnit, helpers } from 'adex-models'\r\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\r\nimport { updateValidatorAuthTokens } from './accountActions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\r\nimport {\r\n\tgetAdUnits,\r\n\tgetAdSlots,\r\n\t// getCampaigns,\r\n} from 'services/adex-market/actions'\r\nimport {\r\n\topenChannel,\r\n\tcloseChannel,\r\n} from 'services/smart-contracts/actions/core'\r\nimport { lastApprovedState } from 'services/adex-validator/actions'\r\nimport initialState from 'store/initialState'\r\nimport { getMediaSize } from 'helpers/mediaHelpers'\r\n\r\nimport { contracts } from 'services/smart-contracts/contractsCfg'\r\nimport { SOURCES } from 'constants/targeting'\r\nconst { DAI } = contracts\r\n\r\nconst addToast = ({ type, toastStr, args, dispatch }) => {\r\n\treturn AddToastUi({\r\n\t\tdispatch: dispatch,\r\n\t\ttype: type,\r\n\t\taction: 'X',\r\n\t\tlabel: translate(toastStr, { args: args }),\r\n\t\ttimeout: 5000,\r\n\t})(dispatch)\r\n}\r\n\r\nconst getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\r\n\treturn fetch(tempUrl)\r\n\t\t.then(resp => {\r\n\t\t\treturn resp.blob()\r\n\t\t})\r\n\t\t.then(imgBlob => {\r\n\t\t\tURL.revokeObjectURL(tempUrl)\r\n\t\t\treturn uploadImage({\r\n\t\t\t\timageBlob: imgBlob,\r\n\t\t\t\timageName: 'image.jpeg',\r\n\t\t\t\tauthSig: authSig,\r\n\t\t\t})\r\n\t\t})\r\n}\r\n\r\n// const uploadImages = ({ item, authSig }) => {\r\n// \tlet imgIpfsProm = Promise.resolve()\r\n// \tlet fallbackImgIpfsProm = Promise.resolve()\r\n\r\n// \tif (item._meta.img.tempUrl) {\r\n// \t\timgIpfsProm = getImgsIpfsFromBlob({ tempUrl: item._meta.img.tempUrl, authSig: authSig })\r\n// \t}\r\n\r\n// \tif (item._fallbackAdImg && item._fallbackAdImg.tempUrl) {\r\n// \t\tfallbackImgIpfsProm = getImgsIpfsFromBlob({ tempUrl: item._fallbackAdImg.tempUrl, authSig: authSig })\r\n// \t}\r\n\r\n// \treturn Promise.all([imgIpfsProm, fallbackImgIpfsProm])\r\n// \t\t.then(([imgIpf, fallbackImgIpfs]) => {\r\n// \t\t\tif (imgIpf) {\r\n// \t\t\t\titem._meta.img = { ipfs: imgIpf.ipfs }\r\n// \t\t\t}\r\n\r\n// \t\t\tif (fallbackImgIpfs) {\r\n// \t\t\t\titem._fallbackAdImg = { ipfs: fallbackImgIpfs.ipfs }\r\n// \t\t\t}\r\n\r\n// \t\t\treturn item\r\n// \t\t})\r\n// }\r\n\r\nexport function updateNewItem(item, newValues, itemType, objModel) {\r\n\titem = Base.updateObject({ item, newValues, objModel })\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\titem,\r\n\t\t\titemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetAllNewItems() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_NEW_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// register item\r\nexport function addItem(item, itemType, authSig) {\r\n\tconst newItem = { ...item }\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\tauthSig,\r\n\t\t\t})).ipfs\r\n\r\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\r\n\t\t\tnewItem.mediaMime = newItem.temp.mime\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tconst resItem = await postAdUnit({\r\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdUnit',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\r\n\t\t\t\targs: ['AdUnit', err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function addSlot(item, itemType, authSig) {\r\n\tconst newItem = { ...item }\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tlet fallbackUnit = null\r\n\t\t\tif (newItem.temp.useFallback) {\r\n\t\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\r\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t})).ipfs\r\n\r\n\t\t\t\tconst unit = new AdUnit({\r\n\t\t\t\t\ttype: newItem.type,\r\n\t\t\t\t\tmediaUrl: `ipfs://${imageIpfs}`,\r\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\r\n\t\t\t\t\tmediaMime: newItem.temp.mime,\r\n\t\t\t\t\tcreated: Date.now(),\r\n\t\t\t\t\ttitle: newItem.title,\r\n\t\t\t\t\tdescription: newItem.description,\r\n\t\t\t\t\ttargeting: [],\r\n\t\t\t\t\ttags: [],\r\n\t\t\t\t\tpassback: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconst resUnit = await postAdUnit({\r\n\t\t\t\t\tunit: unit.marketAdd,\r\n\t\t\t\t\tauthSig,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tfallbackUnit = resUnit.ipfs\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.fallbackUnit = fallbackUnit\r\n\t\t\tnewItem.created = Date.now()\r\n\r\n\t\t\tif (newItem.temp.minPerImpression) {\r\n\t\t\t\tnewItem.minPerImpression = {\r\n\t\t\t\t\t[DAI.address]: parseUnits(newItem.temp.minPerImpression, DAI.decimals)\r\n\t\t\t\t\t\t.div(bigNumberify(1000))\r\n\t\t\t\t\t\t.toString(),\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst resItem = await postAdSlot({\r\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\r\n\t\t\t\tauthSig,\r\n\t\t\t})\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\r\n\t\t\t\titemType: 'AdSlot',\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\r\n\t\t\t\targs: ['AdSlot', newItem.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\r\n\t\t\t\targs: ['AdSlot', err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getAllItems() {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\t// const { authSig } = account.wallet\r\n\t\t\tconst { address } = account.identity\r\n\t\t\tconst units = getAdUnits({ identity: address })\r\n\t\t\tconst slots = getAdSlots({ identity: address })\r\n\t\t\t// const campaigns = getCampaigns({ authSig })\r\n\r\n\t\t\tconst [\r\n\t\t\t\tresUnits,\r\n\t\t\t\tresSlots,\r\n\t\t\t\t// resCampaigns,\r\n\t\t\t] = await Promise.all([\r\n\t\t\t\tunits,\r\n\t\t\t\tslots,\r\n\t\t\t\t//\tcampaigns\r\n\t\t\t])\r\n\r\n\t\t\t// const campaignsMapped = resCampaigns.map(c => {\r\n\t\t\t// \treturn { ...c, ...c.spec }\r\n\t\t\t// })\r\n\r\n\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\r\n\t\t\tupdateItems({ items: resSlots, itemType: 'AdSlot' })(dispatch)\r\n\t\t\t// updateItems({ items: campaignsMapped, itemType: 'Campaign' })(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\r\n\t\t\t\targs: [err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function openCampaign({ campaign, account }) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner('opening-campaign', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tawait getAllValidatorsAuthForIdentity({\r\n\t\t\t\twithBalance: [{ channel: campaign }],\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tconst { readyCampaign } = await openChannel({ campaign, account })\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.ADD_ITEM,\r\n\t\t\t\titem: readyCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'OPENING_CAMPAIGN_SENT_TO_RELAYER',\r\n\t\t\t\targs: [readyCampaign.id],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_OPENING_CAMPAIGN',\r\n\t\t\t\targs: [err],\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('opening-campaign', false)(dispatch)\r\n\t\treturn true\r\n\t}\r\n}\r\n\r\nexport function removeItemFromItem({ item, toRemove, authSig } = {}) {\r\n\treturn function(dispatch) {\r\n\t\t// removeItmFromItm({ item: item._id, collection: toRemove._id || toRemove, authSig: authSig })\r\n\t\t// \t.then((res) => {\r\n\t\t// \t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: 'SUCCESS_REMOVE_ITEM_FROM_ITEM', args: [ItemTypesNames[item._type], item._meta.fullName, ItemTypesNames[toRemove._type], toRemove._meta.fullName,] })\r\n\t\t// \t\treturn dispatch({\r\n\t\t// \t\t\ttype: types.REMOVE_ITEM_FROM_ITEM,\r\n\t\t// \t\t\titem: item,\r\n\t\t// \t\t\ttoRemove: toRemove,\r\n\t\t// \t\t})\r\n\t\t// \t})\r\n\t\t// \t.catch((err) => {\r\n\t\t// \t\treturn addToast({ dispatch: dispatch, type: 'cancel', toastStr: 'ERR_REMOVE_ITEM_FROM_ITEM', args: [ItemTypesNames[item._type], ItemTypesNames[toRemove._type], err] })\r\n\t\t// \t})\r\n\t}\r\n}\r\n\r\nexport function addItemToItem({ item, toAdd, authSig } = {}) {\r\n\treturn function(dispatch) {\r\n\t\t// addItmToItm({ item: item._id, collection: toAdd._id || toAdd, authSig: authSig })\r\n\t\t// \t.then((res) => {\r\n\t\t// \t\t//TODO: use response and UPDATE_ITEM\r\n\t\t// \t\taddToast({ dispatch: dispatch, type: 'accept', toastStr: 'SUCCESS_ADD_ITEM_TO_ITEM', args: [ItemTypesNames[item._type], item._meta.fullName, ItemTypesNames[toAdd._type], toAdd._meta.fullName,] })\r\n\t\t// \t\treturn dispatch({\r\n\t\t// \t\t\ttype: types.ADD_ITEM_TO_ITEM,\r\n\t\t// \t\t\titem: item,\r\n\t\t// \t\t\ttoAdd: toAdd,\r\n\t\t// \t\t})\r\n\t\t// \t})\r\n\t\t// \t.catch((err) => {\r\n\t\t// \t\treturn addToast({ dispatch: dispatch, type: 'cancel', toastStr: 'ERR_ADD_ITEM_FROM_ITEM', args: [ItemTypesNames[item._type], ItemTypesNames[toAdd._type], err] })\r\n\t\t// \t})\r\n\t}\r\n}\r\n\r\n// Accepts the entire new item and replace so be careful!\r\nexport function updateItem({ item, itemType } = {}) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner('update' + item.id, true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\tconst { authSig } = account.wallet\r\n\r\n\t\t\tlet updatedItem = null\r\n\t\t\tlet objModel = null\r\n\r\n\t\t\tconst { id } = item\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tif (item.temp.minPerImpression) {\r\n\t\t\t\t\t\titem.minPerImpression = {\r\n\t\t\t\t\t\t\t[DAI.address]: parseUnits(\r\n\t\t\t\t\t\t\t\titem.temp.minPerImpression,\r\n\t\t\t\t\t\t\t\tDAI.decimals\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.div(bigNumberify(1000))\r\n\t\t\t\t\t\t\t\t.toString(),\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst slot = new AdSlot(item).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id, authSig })).slot\r\n\t\t\t\t\tobjModel = AdSlot\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tconst unit = new AdUnit(item).marketUpdate\r\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id, authSig })).unit\r\n\t\t\t\t\tobjModel = AdUnit\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\r\n\t\t\t}\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_UPDATING_ITEM',\r\n\t\t\t\targs: [itemType, item.title],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_UPDATING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('update' + item.id, false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function deleteItem({ item, objModel, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = true\r\n\r\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\r\n}\r\n\r\nexport function restoreItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._deleted = false\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_RESTORE_ITEM',\r\n\t\terrMsg: 'ERR_RESTORING_ITEM',\r\n\t})\r\n}\r\n\r\nconst findSourceByTag = tag => {\r\n\treturn Object.keys(SOURCES).find(\r\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\r\n\t)\r\n}\r\n\r\nexport function cloneItem({ item, itemType, objModel } = {}) {\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\r\n\t\t\tnewItem.id = ''\r\n\t\t\tnewItem.temp = {\r\n\t\t\t\t...initialState.newItem[itemType].temp,\r\n\t\t\t\ttargets: item.targeting.map((t, index) => {\r\n\t\t\t\t\tconst key = findSourceByTag(t.tag)\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tkey: index,\r\n\t\t\t\t\t\tcollection: 'targeting',\r\n\t\t\t\t\t\tsource: key,\r\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\t\t\t\ttarget: { ...t },\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t}\r\n\r\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\r\n\t\t\t\tnewItem.mediaUrl,\r\n\t\t\t\tprocess.env.IPFS_GATEWAY\r\n\t\t\t)\r\n\r\n\t\t\tconst response = await fetch(tempUrl)\r\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\r\n\t\t\tconst mediaSize = await getMediaSize({\r\n\t\t\t\tmime: newItem.mediaMime,\r\n\t\t\t\tsrc: mediaURL,\r\n\t\t\t})\r\n\r\n\t\t\tconst temp = {\r\n\t\t\t\t...newItem.temp,\r\n\t\t\t\tmime: item.mediaMime,\r\n\t\t\t\ttempUrl: mediaURL,\r\n\t\t\t\twidth: mediaSize.width,\r\n\t\t\t\theight: mediaSize.height,\r\n\t\t\t}\r\n\r\n\t\t\tnewItem.temp = temp\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\r\n\t\t\t\titem: newItem,\r\n\t\t\t\titemType,\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\r\n\t\t\t\targs: [itemType, err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function archiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = true\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_ARCHIVING_ITEM',\r\n\t\terrMsg: 'ERR_ARCHIVING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function unarchiveItem({ item, authSig } = {}) {\r\n\titem = { ...item }\r\n\titem._archived = false\r\n\r\n\treturn updateItem({\r\n\t\titem: item,\r\n\t\tauthSig: authSig,\r\n\t\tsuccessMsg: 'SUCCESS_UNARCHIVING_ITEM',\r\n\t\terrMsg: 'ERR_UNARCHIVING_ITEM',\r\n\t})\r\n}\r\n\r\nexport function setCurrentItem(item) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.SET_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateCurrentItem(item, newMeta) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\r\n\t\t\titem: item,\r\n\t\t\tmeta: newMeta,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function updateItems({ items, itemType }) {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\r\n\t\t\titems: items,\r\n\t\t\titemType: itemType,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const resetAllItems = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_ITEMS,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateTags = ({ tags }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_TAGS,\r\n\t\t\ttags: tags,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const addNewTag = ({ tag }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.ADD_NEW_TAG,\r\n\t\t\ttag: tag,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateCampaignState = ({ campaign }) => {\r\n\treturn async dispatch => {\r\n\t\ttry {\r\n\t\t\tconst state = await lastApprovedState({ campaign })\r\n\t\t\tconst newCampaign = { ...campaign }\r\n\t\t\tnewCampaign.state = state\r\n\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: types.UPDATE_ITEM,\r\n\t\t\t\titem: newCampaign,\r\n\t\t\t\titemType: 'Campaign',\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch: dispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_GETTING_CAMPAIGN_LAST_STATUS',\r\n\t\t\t\targs: [err],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function closeCampaign({ campaign }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst { account } = getState().persist\r\n\t\t\tconst { results, authTokens } = await closeChannel({ account, campaign })\r\n\r\n\t\t\tupdateValidatorAuthTokens({ newAuth: authTokens })(dispatch)\r\n\t\t\t// TODO: update campaign state\r\n\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\ttoastStr: 'SUCCESS_CLOSING_CAMPAIGN',\r\n\t\t\t\targs: [campaign.id],\r\n\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\r\n\t\t\taddToast({\r\n\t\t\t\tdispatch,\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\ttoastStr: 'ERR_CLOSING_CAMPAIGN',\r\n\t\t\t\targs: [err],\r\n\t\t\t})\r\n\t\t}\r\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\r\n\t}\r\n}\r\n","import { formatUnits, commify } from 'ethers/utils'\r\nimport MomentUtils from '@date-io/moment'\r\nconst moment = new MomentUtils()\r\n\r\nconst DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\r\n\r\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\r\n\tif (!timestamp) {\r\n\t\treturn 'no date'\r\n\t}\r\n\tconst date = moment.date(timestamp)\r\n\treturn date.format(format)\r\n}\r\n\r\nexport const formatTokenAmount = (amountString, decimals = 18, pretty) => {\r\n\tconst formatted = formatUnits(amountString, decimals)\r\n\tif (pretty) {\r\n\t\treturn commify(formatted)\r\n\t} else {\r\n\t\treturn formatted\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport {\r\n\tgetSigner,\r\n\tprepareTx,\r\n\tprocessTx,\r\n\tgetMultipleTxSignatures,\r\n} from 'services/smart-contracts/actions/ethers'\r\nimport { ethers, Contract } from 'ethers'\r\nimport {\r\n\tbigNumberify,\r\n\tparseUnits,\r\n\t// randomBytes,\r\n\tgetAddress,\r\n\thexlify,\r\n\tInterface,\r\n\tkeccak256,\r\n} from 'ethers/utils'\r\nimport { generateAddress2 } from 'ethereumjs-util'\r\nimport {\r\n\t// identityBytecode,\r\n\texecuteTx,\r\n\tsetAddrPriv,\r\n} from 'services/adex-relayer/actions'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { contracts } from '../contractsCfg'\r\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\r\n// import FactoryABI from 'adex-protocol-eth/abi/IdentityFactory'\r\n// const Factory = new Interface(FactoryABI)\r\n\r\nimport solc from 'solcBrowser'\r\n\r\nconst { DAI } = contracts\r\n\r\nconst { IDENTITY_BASE_ADDR, IDENTITY_FACTORY_ADDR } = process.env\r\n\r\nconst GAS_LIMIT_DEPLOY_CONTRACT = 150000\r\nconst feeAmountTransfer = '150000000000000000'\r\nconst feeAmountSetPrivileges = '150000000000000000'\r\nconst ERC20 = new Interface(DAI.abi)\r\n/*\r\nexport async function getIdentityBytecode({ owner, privLevel }) {\r\n\tconst res = await identityBytecode({\r\n\t\towner,\r\n\t\tprivLevel,\r\n\t\tidentityBaseAddr: IDENTITY_BASE_ADDR\r\n\t})\r\n\treturn res.bytecode\r\n}\r\n\r\nexport async function getIdentityDeployData({ owner, privLevel }) {\r\n\tconst bytecode = await getIdentityBytecode({ owner, privLevel })\r\n\tconst salt =\r\n\t\t`0x${Buffer.from(randomBytes(32)).toString('hex')}`\r\n\tconst expectedAddr = getAddress(\r\n\t\t`0x${generateAddress2(IDENTITY_FACTORY_ADDR, salt, bytecode)\r\n\t\t\t.toString('hex')}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\texpectedAddr\r\n\t}\r\n}\r\n*/\r\n\r\nexport async function getIdentityBytecode({ owner, privLevel }) {\r\n\tconst privileges = [[owner, 3]]\r\n\r\n\tconst bytecode = getProxyDeployBytecode(\r\n\t\tIDENTITY_BASE_ADDR,\r\n\t\tprivileges,\r\n\t\t{\r\n\t\t\tprivSlot: 0,\r\n\t\t},\r\n\t\tsolc\r\n\t)\r\n\r\n\treturn bytecode\r\n}\r\n\r\nexport async function getIdentityDeployData({ owner, privLevel }) {\r\n\tconst bytecode = await getIdentityBytecode({ owner, privLevel })\r\n\tconst salt = keccak256(owner)\r\n\r\n\tconst expectedAddr = getAddress(\r\n\t\t`0x${generateAddress2(IDENTITY_FACTORY_ADDR, salt, bytecode).toString(\r\n\t\t\t'hex'\r\n\t\t)}`\r\n\t)\r\n\r\n\treturn {\r\n\t\tIDENTITY_FACTORY_ADDR,\r\n\t\tIDENTITY_BASE_ADDR,\r\n\t\tbytecode,\r\n\t\tsalt,\r\n\t\texpectedAddr,\r\n\t}\r\n}\r\n\r\nexport async function deployIdentityContract({\r\n\twallet,\r\n\tbytecode,\r\n\tsalt,\r\n\texpectedAddr,\r\n}) {\r\n\tconst { provider, IdentityFactory } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\r\n\tconst pTx = await prepareTx({\r\n\t\ttx: IdentityFactory.deploy(bytecode, salt),\r\n\t\tprovider,\r\n\t\tsender: wallet.address,\r\n\t\tgasLimit: hexlify(GAS_LIMIT_DEPLOY_CONTRACT),\r\n\t})\r\n\r\n\tpTx.gasLimit = hexlify(GAS_LIMIT_DEPLOY_CONTRACT)\r\n\tconst identityFactoryWithSigner = IdentityFactory.connect(signer)\r\n\r\n\tconst tx = identityFactoryWithSigner.deploy(bytecode, salt, pTx)\r\n\r\n\tprocessTx({\r\n\t\ttx,\r\n\t\ttxSuccessData: {},\r\n\t\tfrom: wallet.address,\r\n\t\taccount: {},\r\n\t})\r\n\r\n\treturn tx\r\n}\r\n\r\nexport function getPrivileges({ walletAddr, identityAddr, walletAuthType }) {\r\n\treturn getEthers(walletAuthType).then(({ provider, Identity }) => {\r\n\t\tconst contract = new ethers.Contract(identityAddr, Identity.abi, provider)\r\n\t\treturn contract.privileges(walletAddr)\r\n\t})\r\n}\r\n\r\nexport async function sendDaiToIdentity({\r\n\taccount,\r\n\tamountToSend,\r\n\t// gas,\r\n\testimateGasOnly,\r\n}) {\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, Dai } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst daiWithSigner = Dai.connect(signer)\r\n\tconst tokenAmount = parseUnits(amountToSend, 18).toString()\r\n\r\n\tconst pTx = await prepareTx({\r\n\t\ttx: Dai.transfer(identity.address, tokenAmount),\r\n\t\tprovider,\r\n\t\t// gasLimit,\r\n\t\tsender: wallet.address,\r\n\t})\r\n\r\n\tif (estimateGasOnly) {\r\n\t\treturn pTx.gasLimit\r\n\t}\r\n\r\n\tprocessTx({\r\n\t\ttx: daiWithSigner.transfer(identity.address, tokenAmount, pTx),\r\n\t\ttxSuccessData: { txMethod: 'TX_SEND_DAI_TO_IDENTITY' },\r\n\t\tfrom: wallet.address,\r\n\t\tfromType: 'wallet',\r\n\t\taccount,\r\n\t})\r\n\r\n\treturn {}\r\n}\r\n\r\nexport async function withdrawFromIdentity({\r\n\taccount,\r\n\tamountToWithdraw,\r\n\twithdrawTo,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst toWithdraw = parseUnits(amountToWithdraw, 18)\r\n\tconst fees = bigNumberify(feeAmountTransfer).mul(bigNumberify('2'))\r\n\tconst tokenAmount = toWithdraw.sub(fees).toString()\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: formatTokenAmount(fees.toString(), 18),\r\n\t\t\ttoGet: formatTokenAmount(tokenAmount, 18),\r\n\t\t}\r\n\t}\r\n\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, Dai, Identity } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityContract = new Contract(identityAddr, Identity.abi, provider)\r\n\r\n\tconst initialNonce = (await identityContract.nonce()).toNumber()\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce,\r\n\t\tfeeTokenAddr: Dai.address,\r\n\t\tfeeAmount: feeAmountTransfer,\r\n\t\tto: Dai.address,\r\n\t\tdata: ERC20.functions.approve.encode([identityAddr, tokenAmount]),\r\n\t}\r\n\r\n\tconst tx2 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce + 1,\r\n\t\tfeeTokenAddr: Dai.address,\r\n\t\tfeeAmount: feeAmountTransfer,\r\n\t\tto: Dai.address,\r\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, tokenAmount]),\r\n\t}\r\n\r\n\tconst txns = [tx1, tx2]\r\n\tconst signatures = await getMultipleTxSignatures({ txns, signer })\r\n\r\n\tconst data = {\r\n\t\ttxnsRaw: txns,\r\n\t\tsignatures,\r\n\t\tidentityAddr: identity.address,\r\n\t}\r\n\r\n\tconst result = await executeTx(data)\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n\r\nexport async function setIdentityPrivilege({\r\n\taccount,\r\n\tsetAddr,\r\n\tprivLevel,\r\n\tgetFeesOnly,\r\n}) {\r\n\tconst fees = bigNumberify(feeAmountSetPrivileges)\r\n\r\n\tif (getFeesOnly) {\r\n\t\treturn {\r\n\t\t\tfees: formatTokenAmount(fees.toString(), 18),\r\n\t\t}\r\n\t}\r\n\r\n\tconst { wallet, identity } = account\r\n\tconst { provider, Dai, Identity } = await getEthers(wallet.authType)\r\n\tconst signer = await getSigner({ wallet, provider })\r\n\tconst identityAddr = identity.address\r\n\r\n\tconst identityContract = new Contract(identityAddr, Identity.abi, provider)\r\n\r\n\tconst identityInterface = new Interface(Identity.abi)\r\n\r\n\tconst initialNonce = (await identityContract.nonce()).toNumber()\r\n\r\n\tconst tx1 = {\r\n\t\tidentityContract: identityAddr,\r\n\t\tnonce: initialNonce,\r\n\t\tfeeTokenAddr: Dai.address,\r\n\t\tfeeAmount: feeAmountSetPrivileges,\r\n\t\tto: identityAddr,\r\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t]),\r\n\t}\r\n\r\n\tconst txns = [tx1]\r\n\tconst signatures = await getMultipleTxSignatures({ txns, signer })\r\n\r\n\tconst data = {\r\n\t\ttxnsRaw: txns,\r\n\t\tsignatures,\r\n\t\tidentityAddr: identity.address,\r\n\t\tsetAddr,\r\n\t\tprivLevel,\r\n\t}\r\n\r\n\tconst result = await setAddrPriv(data)\r\n\r\n\treturn {\r\n\t\tresult,\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { grantAccount } from 'services/adex-relayer/actions'\r\nimport { updateSpinner } from './uiActions'\r\nimport { deployIdentityContract } from 'services/smart-contracts/actions/identity'\r\nimport {\r\n\tregisterFullIdentity,\r\n\tregisterExpectedIdentity,\r\n\tgetOwnerIdentities,\r\n} from 'services/adex-relayer/actions'\r\nimport { translate } from 'services/translations/translations'\r\nimport { addToast } from './uiActions'\r\nimport {\r\n\tgetIdentityDeployData,\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport { addDataToWallet } from 'services/wallet/wallet'\r\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\r\nimport { selectAccount } from 'selectors'\r\n\r\n// MEMORY STORAGE\r\nexport function updateIdentity(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_IDENTITY,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetIdentity() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_IDENTITY,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// MEMORY STORAGE\r\nexport function updateWallet(prop, value) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_WALLET,\r\n\t\t\tprop: prop,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetWallet() {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_WALLET,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function getGrantAccount({ walletAddr, email, password, coupon }) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner('getting-grant-identity', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identityData = await grantAccount({\r\n\t\t\t\townerAddr: walletAddr,\r\n\t\t\t\tmail: email,\r\n\t\t\t\tcouponCode: coupon,\r\n\t\t\t})\r\n\r\n\t\t\t// TODO: validate identityData\r\n\r\n\t\t\tif (identityData) {\r\n\t\t\t\taddDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tdataKey: 'identity',\r\n\t\t\t\t\tdataValue: identityData.address,\r\n\t\t\t\t})\r\n\t\t\t\taddDataToWallet({\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tdataKey: 'privileges',\r\n\t\t\t\t\tdataValue: identityData.privileges,\r\n\t\t\t\t})\r\n\t\t\t\tupdateIdentity('identityAddr', identityData.address)(dispatch)\r\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_REGISTER_GRANT_IDENTITY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_REGISTER_GRANT_IDENTITY', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\r\n\t\tupdateSpinner('getting-grant-identity', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function deployFullIdentity({\r\n\twallet,\r\n\temail,\r\n\tidentityTxData,\r\n\tidentityAddr,\r\n}) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner('getting-full-identity', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst tx = await deployIdentityContract({\r\n\t\t\t\t...identityTxData,\r\n\t\t\t\twallet,\r\n\t\t\t})\r\n\r\n\t\t\tconst regInfo = await registerFullIdentity({\r\n\t\t\t\ttxHash: tx.hash,\r\n\t\t\t\tidentity: identityAddr,\r\n\t\t\t\tprivileges: [wallet.address, 3],\r\n\t\t\t\tmail: email,\r\n\t\t\t})\r\n\r\n\t\t\tif (regInfo) {\r\n\t\t\t\tupdateIdentity('isRegistered', true)(dispatch)\r\n\t\t\t} else {\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: translate('ERR_REGISTER_IDENTITY', { args: [tx.hash] }),\r\n\t\t\t\t\ttimeout: 20000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_REGISTER_IDENTITY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_REGISTER_IDENTITY', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('getting-full-identity', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function getFullIdentityTxData({ owner, privLevel }) {\r\n\treturn async function(dispatch) {\r\n\t\ttry {\r\n\t\t\tconst txData = await getIdentityDeployData({ owner, privLevel })\r\n\t\t\tupdateIdentity('identityAddr', txData.expectedAddr)(dispatch)\r\n\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GET_IDENTITY_TX_DATA', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GET_IDENTITY_TX_DATA', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getRegisterExpectedIdentity({ owner, mail }) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner('getting-expected-identity', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identityData = await registerExpectedIdentity({ owner, mail })\r\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_REGISTERING_EXPECTED_IDENTITY', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_REGISTERING_EXPECTED_IDENTITY', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('getting-expected-identity', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function onUploadLocalWallet(event) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner('uploading-account-data', true)(dispatch)\r\n\t\tconst file = event.target.files[0]\r\n\t\tconst reader = new FileReader()\r\n\r\n\t\treader.onload = ev => {\r\n\t\t\ttry {\r\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\r\n\t\t\t\tif (\r\n\t\t\t\t\t!obj ||\r\n\t\t\t\t\t!obj.key ||\r\n\t\t\t\t\t!obj.wallet ||\r\n\t\t\t\t\t!obj.wallet.data ||\r\n\t\t\t\t\t!obj.wallet.identity ||\r\n\t\t\t\t\t!obj.wallet.privileges\r\n\t\t\t\t) {\r\n\t\t\t\t\tthrow new Error(translate('INVALID_JSON_DATA'))\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\r\n\t\t\t\t\taddToast({\r\n\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\tlabel: translate('SUCCESS_UPLOADING_ACCOUNT_DATA'),\r\n\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t})(dispatch)\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\r\n\t\t\t\taddToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\r\n\t\t\t\t\t\targs: [err.message],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})(dispatch)\r\n\t\t\t}\r\n\t\t\tupdateSpinner('uploading-account-data', true)(dispatch)\r\n\t\t}\r\n\r\n\t\tconst onError = err => {\r\n\t\t\tconsole.error('Error uploading account data.', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', { args: [err] }),\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t})(dispatch)\r\n\t\t\tupdateSpinner('uploading-account-data', true)(dispatch)\r\n\t\t}\r\n\r\n\t\treader.onerror = ev => {\r\n\t\t\treader.abort()\r\n\t\t\tonError(translate())\r\n\t\t}\r\n\r\n\t\treader.onabort = ev => {\r\n\t\t\tonError(translate('ABORTING_DATA_UPLOAD'))\r\n\t\t}\r\n\r\n\t\treader.readAsText(file)\r\n\t}\r\n}\r\n\r\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\r\n\t\t\tconst result = await withdrawFromIdentity({\r\n\t\t\t\taccount,\r\n\t\t\t\tamountToWithdraw,\r\n\t\t\t\twithdrawTo,\r\n\t\t\t})\r\n\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function ownerIdentities({ owner }) {\r\n\treturn async function(dispatch) {\r\n\t\tupdateSpinner('getting-owner-identities', true)(dispatch)\r\n\t\ttry {\r\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\r\n\t\t\tupdateIdentity('ownerIdentities', identityData)(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_GETTING_OWNER_IDENTITIES', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t\tupdateSpinner('getting-owner-identities', false)(dispatch)\r\n\t}\r\n}\r\n\r\nexport function addrIdentityPrivilege({ setAddr, privLevel }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\ttry {\r\n\t\t\tconst account = selectAccount(getState())\r\n\t\t\tconst result = await setIdentityPrivilege({\r\n\t\t\t\taccount,\r\n\t\t\t\tsetAddr,\r\n\t\t\t\tprivLevel,\r\n\t\t\t})\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'accept',\r\n\t\t\t\tlabel: translate('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [result],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\r\n\t\t\t\t\targs: [err],\r\n\t\t\t\t}),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\n\r\n// MEMORY STORAGE\r\nexport function updateNewBid({ bidId, key, value }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t\tkey: key,\r\n\t\t\tvalue: value,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport function resetNewBid({ bidId }) {\r\n\treturn function(dispatch) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_NEW_BID,\r\n\t\t\tbidId: bidId,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// PERSIST STORAGE\r\n\r\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.UPDATE_ALL_BIDS,\r\n\t\t\tadvBids: advBids,\r\n\t\t\tpubBids: pubBids,\r\n\t\t\tbidsById: bidsById,\r\n\t\t})\r\n\t}\r\n}\r\nexport const resetAllBids = () => {\r\n\treturn dispatch => {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ALL_BIDS,\r\n\t\t})\r\n\t}\r\n}\r\n","import { ethers, constants } from 'ethers'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { isEthAddress } from 'helpers/validators'\r\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\r\n\r\nexport const isEthAddressERC20 = async (addr = '', authType) => {\r\n\ttry {\r\n\t\tif (isEthAddress(addr)) {\r\n\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\r\n\t\t\tawait Promise.all([\r\n\t\t\t\tcontract.totalSupply(),\r\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\r\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\r\n\t\t\t])\r\n\t\t\treturn true\r\n\t\t}\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn false\r\n\t}\r\n}\r\n","import { getEthers } from 'services/smart-contracts/ethers'\r\n\r\nexport const isConnectionLost = async authType => {\r\n\ttry {\r\n\t\t// When we remove Metamask\r\n\t\t// if in 5 sec doesn't connect will\r\n\t\t// return that connection is lost\r\n\t\tconst eth = await Promise.race([\r\n\t\t\tgetEthers(authType),\r\n\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\treject('Timed out')\r\n\t\t\t\t}, 5000)\r\n\t\t\t}),\r\n\t\t])\r\n\t\tawait eth.provider.getBlockNumber()\r\n\t\treturn false\r\n\t} catch (error) {\r\n\t\treturn true\r\n\t}\r\n}\r\n","import { utils } from 'ethers'\r\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\r\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\r\n\r\n/*eslint-disable */\r\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\r\nconst emailRegex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\r\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\r\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\r\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\r\nconst couponRegex = /^[a-fA-F0-9]{8}$/\r\n/*eslint-enable */\r\n\r\nexport const validUrl = url => {\r\n\turl = url || ''\r\n\tconst isValid = urlRegex.test(url)\r\n\treturn isValid\r\n}\r\n\r\nexport const validEmail = email => {\r\n\temail = email || ''\r\n\tconst isValid = emailRegex.test(email)\r\n\treturn isValid\r\n}\r\n\r\nexport const validateNumber = numberStr => {\r\n\tnumberStr = numberStr || ''\r\n\tconst isValid =\r\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\r\n\treturn isValid\r\n}\r\n\r\n// > 0\r\nexport const validPositiveInt = intStr => {\r\n\tintStr = intStr || ''\r\n\tconst isValid = onlyDigitsRegex.test(intStr)\r\n\treturn isValid\r\n}\r\n\r\nexport const validName = name => {\r\n\tlet msg = ''\r\n\tconst errMsgArgs = []\r\n\tif (!name) {\r\n\t\tmsg = 'ERR_REQUIRED_FIELD'\r\n\t} else if (name.length < 4) {\r\n\t\tmsg = 'ERR_MIN_LENGTH'\r\n\t\terrMsgArgs.push(4)\r\n\t} else if (name.length > 128) {\r\n\t\tmsg = 'ERR_MAX_LENGTH'\r\n\t\terrMsgArgs.push(128)\r\n\t}\r\n\r\n\treturn {\r\n\t\tmsg,\r\n\t\terrMsgArgs,\r\n\t}\r\n}\r\n\r\nexport const validPassword = password => {\r\n\tpassword = password || ''\r\n\tconst isValid = passwordRegex.test(password)\r\n\treturn isValid\r\n}\r\n\r\nexport const validQuickAccountCoupon = coupon => {\r\n\tcoupon = coupon || ''\r\n\tconst isValid = couponRegex.test(coupon)\r\n\treturn isValid\r\n}\r\n\r\nexport const isEthAddress = (addr = '') => {\r\n\ttry {\r\n\t\tutils.getAddress(addr)\r\n\t} catch (e) {\r\n\t\treturn false\r\n\t}\r\n\treturn true\r\n}\r\n\r\nexport const isEthAddressZero = (addr = '') => {\r\n\treturn isEthAddress(addr)\r\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\r\n\t\t: false\r\n}\r\n\r\nexport const validEthAddress = async ({\r\n\taddr = '',\r\n\tnonZeroAddr,\r\n\tnonERC20,\r\n\tauthType,\r\n}) => {\r\n\tlet msg = ''\r\n\ttry {\r\n\t\tconst ethAddressZero = isEthAddressZero(addr)\r\n\t\tconst notEthAddress = !isEthAddress(addr)\r\n\t\tif (notEthAddress) {\r\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\r\n\t\t} else {\r\n\t\t\tif (nonZeroAddr && ethAddressZero) {\r\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\r\n\t\t\t} else {\r\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\r\n\t\t\t\tif (connectionLost) {\r\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\r\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\r\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tif (error === 'Non-Ethereum browser detected.')\r\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\r\n\t}\r\n\treturn { msg }\r\n}\r\n","import { updateSpinner } from './uiActions'\r\nimport { validEthAddress } from '../helpers/validators'\r\nimport { translate } from 'services/translations/translations'\r\nimport { addToast } from './uiActions'\r\n\r\nexport function validateAddress({ addr, dirty, validate, name }) {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { authType } = getState().persist.account.wallet\r\n\t\ttry {\r\n\t\t\tif (validate) validate(name, { isValid: false })\r\n\t\t\tupdateSpinner(name, dirty)(dispatch)\r\n\t\t\tconst { msg } = await validEthAddress({\r\n\t\t\t\taddr,\r\n\t\t\t\tnonZeroAddr: true,\r\n\t\t\t\tnonERC20: true,\r\n\t\t\t\tauthType,\r\n\t\t\t})\r\n\t\t\tconst isValid = !msg\r\n\t\t\tupdateSpinner(name, false)(dispatch)\r\n\t\t\tif (validate)\r\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', error)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', { args: [error] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n","import * as types from 'constants/actionTypes'\r\nimport { addToast, removeToast, confirmAction } from './uiActions'\r\nimport { translate } from 'services/translations/translations'\r\nimport {\r\n\tgetValidatorAuthToken,\r\n\tidentityAnalytics,\r\n} from 'services/adex-validator/actions'\r\nimport { updateValidatorAuthTokens } from './accountActions'\r\nimport {\r\n\tVALIDATOR_ANALYTICS_SIDES,\r\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\r\n\tVALIDATOR_ANALYTICS_METRICS,\r\n\tVALIDATOR_ANALYTICS_TIMEFRAMES,\r\n} from 'constants/misc'\r\n\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\n\r\nconst analyticsParams = () => {\r\n\tconst callsParams = []\r\n\r\n\tVALIDATOR_ANALYTICS_SIDES.forEach(side =>\r\n\t\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\r\n\t\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\r\n\t\t\t\tVALIDATOR_ANALYTICS_TIMEFRAMES.forEach(timeframe => {\r\n\t\t\t\t\tcallsParams.push({\r\n\t\t\t\t\t\tmetric,\r\n\t\t\t\t\t\ttimeframe: timeframe.value,\r\n\t\t\t\t\t\tside,\r\n\t\t\t\t\t\teventType,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t)\r\n\t)\r\n\r\n\treturn callsParams\r\n}\r\n\r\n// getIdentityStatistics tooks to long some times\r\n// if the account is change we do not update the account\r\n// TODO: we can use something for abortable tasks\r\nfunction checkAccountChanged(getState, account) {\r\n\tconst accountCheck = getState().persist.account\r\n\tconst accountChanged =\r\n\t\t!accountCheck.wallet.address ||\r\n\t\taccountCheck.wallet.address !== account.wallet.address ||\r\n\t\t!accountCheck.identity.address ||\r\n\t\t!accountCheck.identity.address !== !account.identity.address\r\n\r\n\treturn accountChanged\r\n}\r\n\r\nexport function updateAccountAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\tconst { account } = getState().persist\r\n\t\ttry {\r\n\t\t\tconst toastId = addToast({\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\r\n\t\t\t\ttimeout: false,\r\n\t\t\t\tunclosable: true,\r\n\t\t\t\ttop: true,\r\n\t\t\t})(dispatch)\r\n\r\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\r\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\r\n\t\t\t\taccount,\r\n\t\t\t})\r\n\r\n\t\t\tremoveToast(toastId)(dispatch)\r\n\r\n\t\t\tupdateValidatorAuthTokens({\r\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\r\n\t\t\t})(dispatch, getState)\r\n\r\n\t\t\tconst params = analyticsParams()\r\n\t\t\tlet accountChanged = false\r\n\t\t\tconst allAnalytics = params.map(async opts => {\r\n\t\t\t\tidentityAnalytics({\r\n\t\t\t\t\t...opts,\r\n\t\t\t\t\tleaderAuth,\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\taccountChanged =\r\n\t\t\t\t\t\t\taccountChanged || checkAccountChanged(getState, account)\r\n\r\n\t\t\t\t\t\tif (!accountChanged) {\r\n\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\r\n\t\t\t\t\t\t\t\t...opts,\r\n\t\t\t\t\t\t\t\tvalue: { ...res },\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\r\n\t\t\tawait Promise.all(allAnalytics)\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('ERR_ANALYTICS', err)\r\n\t\t\taddToast({\r\n\t\t\t\ttype: 'cancel',\r\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [err] }),\r\n\t\t\t\ttimeout: 20000,\r\n\t\t\t})(dispatch)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function resetAnalytics() {\r\n\treturn async function(dispatch, getState) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: types.RESET_ANALYTICS,\r\n\t\t})\r\n\t}\r\n}\r\n","import * as common from './common'\r\nimport * as itemActions from './itemActions'\r\nimport * as uiActions from './uiActions'\r\nimport * as accountActions from './accountActions'\r\nimport * as identityActions from './identityActions'\r\nimport * as bidActions from './bidActions'\r\nimport * as transactionActions from './transactionActions'\r\nimport * as validationActions from './validationActions'\r\nimport * as analyticsActions from './analyticsActions'\r\n\r\n// keep it for class components that use connect and actions prop\r\n// without needing to change the code\r\nexport default {\r\n\t...common,\r\n\t...itemActions,\r\n\t...uiActions,\r\n\t...accountActions,\r\n\t...identityActions,\r\n\t...bidActions,\r\n\t...transactionActions,\r\n\t...validationActions,\r\n\t...analyticsActions,\r\n}\r\n\r\n// used for minimal deps in hook components\r\n// import { execute, addTost } from 'actions'\r\n// execute(addTost())\r\nexport * from './common'\r\nexport * from './itemActions'\r\nexport * from './uiActions'\r\nexport * from './accountActions'\r\nexport * from './identityActions'\r\nexport * from './bidActions'\r\nexport * from './transactionActions'\r\nexport * from './analyticsActions'\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst variantIcon = {\r\n\taccept: CheckCircleIcon,\r\n\tsuccess: CheckCircleIcon,\r\n\twarning: WarningIcon,\r\n\tcancel: ErrorIcon,\r\n\terror: ErrorIcon,\r\n\tinfo: InfoIcon,\r\n}\r\n\r\nexport class Toast extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tactive: false,\r\n\t\t\ttoast: {},\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tlet toast = this.state.toast\r\n\t\tlet nextToast = nextProps.toasts[0]\r\n\r\n\t\tif (!nextToast) {\r\n\t\t\tthis.setState({ active: false, toast: {} })\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\r\n\r\n\t\tif (isNewToast) {\r\n\t\t\tthis.setState({ active: true, toast: nextToast })\r\n\t\t}\r\n\t}\r\n\r\n\tclose = id => {\r\n\t\tthis.setState({ active: false })\r\n\t\tthis.props.actions.removeToast(id)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { toast } = this.state\r\n\t\tconst { classes } = this.props\r\n\t\tconst Icon = variantIcon[toast.type]\r\n\r\n\t\tif (!toast || !Icon) return null\r\n\r\n\t\tconst anchorOrigin = toast.anchorOrigin || {\r\n\t\t\tvertical: 'bottom',\r\n\t\t\thorizontal: 'center',\r\n\t\t}\r\n\r\n\t\tif (toast.top) {\r\n\t\t\tanchorOrigin.horizontal = 'center'\r\n\t\t\tanchorOrigin.vertical = 'top'\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Snackbar\r\n\t\t\t\topen={this.state.active}\r\n\t\t\t\tautoHideDuration={toast.timeout || 0}\r\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\tanchorOrigin={anchorOrigin}\r\n\t\t\t>\r\n\t\t\t\t<SnackbarContent\r\n\t\t\t\t\taria-describedby='client-snackbar'\r\n\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t<span id='client-snackbar' className={classes.message}>\r\n\t\t\t\t\t\t\t<Icon className={classnames(classes.icon, classes.iconVariant)} />\r\n\t\t\t\t\t\t\t{(toast.label || '').toString()}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t\taction={[\r\n\t\t\t\t\t\t!toast.unclosable && (\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tkey='close'\r\n\t\t\t\t\t\t\t\taria-label='Close'\r\n\t\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\t\tclassName={classes.close}\r\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CloseIcon className={classes.icon} />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tclassName={classnames(classes.snackbar, {\r\n\t\t\t\t\t\t[classes.top]: !!toast.top,\r\n\t\t\t\t\t\t[classes.accept]: toast.type === 'accept',\r\n\t\t\t\t\t\t[classes.cancel]: toast.type === 'cancel',\r\n\t\t\t\t\t\t[classes.warning]: toast.type === 'warning',\r\n\t\t\t\t\t})}\r\n\t\t\t\t/>\r\n\t\t\t</Snackbar>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nToast.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\ttoasts: PropTypes.array.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\t// let persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\ttoasts: memory.toasts || [],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Toast))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsnackbar: {\r\n\t\t\tborder: '3px solid',\r\n\t\t\tborderRadius: 0,\r\n\t\t\tbackgroundColor: '#222',\r\n\t\t\t'&.active': {\r\n\t\t\t\ttransform: 'translateY(-20%)',\r\n\t\t\t},\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tborderColor: '#FFAB00',\r\n\t\t\tcolor: '#FFAB00',\r\n\t\t},\r\n\t\tcancel: {\r\n\t\t\tborderColor: '#FF5722',\r\n\t\t\tcolor: '#FF5722',\r\n\t\t},\r\n\t\taccept: {\r\n\t\t\tborderColor: '#00E676',\r\n\t\t\tcolor: '#00E676',\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\ticonVariant: {\r\n\t\t\topacity: 0.9,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tmessage: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\twidth: '98vw',\r\n\t\t\tmaxWidth: '98vw',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { translate } from 'services/translations/translations'\r\n\r\nexport default function Translate(Decorated) {\r\n\tclass Translated extends Component {\r\n\t\tt(val, { isProp = false, args = [''] } = {}) {\r\n\t\t\tconst translation = translate(val, { isProp, args }, this.props.language)\r\n\r\n\t\t\treturn translation\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\treturn <Decorated {...this.props} t={this.t.bind(this)} />\r\n\t\t}\r\n\t}\r\n\r\n\tTranslated.propTypes = {\r\n\t\tlanguage: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\tconst { persist } = state\r\n\t\treturn {\r\n\t\t\tlanguage: persist.language,\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tnull\r\n\t)(Translated)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport Button from '@material-ui/core/Button'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport class Confirm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.cancel = this.cancel.bind(this)\r\n\t\tthis.confirm = this.confirm.bind(this)\r\n\t\tthis.state = {\r\n\t\t\tactive: false,\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tthis.setState({ active: nextProps.visible })\r\n\t}\r\n\r\n\tconfirm() {\r\n\t\tif (typeof this.props.confirm === 'function') {\r\n\t\t\tthis.props.confirm()\r\n\t\t}\r\n\t\tthis.setState({ active: false })\r\n\t}\r\n\r\n\tcancel() {\r\n\t\tif (typeof this.props.cancel === 'function') {\r\n\t\t\tthis.props.cancel()\r\n\t\t}\r\n\r\n\t\tthis.setState({ active: false })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\ttitle,\r\n\t\t\ttext,\r\n\t\t\tchildren,\r\n\t\t\tcancelLabel,\r\n\t\t\tconfirmLabel,\r\n\t\t\tt,\r\n\t\t\tnoActionBtns,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<Dialog open={this.state.active}>\r\n\t\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<DialogContentText id='alert-dialog-description'>\r\n\t\t\t\t\t\t{text}\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t{!noActionBtns && (\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.cancel} color='primary'>\r\n\t\t\t\t\t\t\t{cancelLabel || t('CANCEL')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={this.confirm} color='primary' autoFocus>\r\n\t\t\t\t\t\t\t{confirmLabel || t('OK')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t)}\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nConfirm.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tcancelLabel: PropTypes.string,\r\n\tconfirmLabel: PropTypes.string,\r\n\ttitle: PropTypes.string.isRequired,\r\n\ttext: PropTypes.string,\r\n\tconfirm: PropTypes.func,\r\n\tcancel: PropTypes.func,\r\n\tvisible: PropTypes.bool,\r\n\tcalledOn: PropTypes.number,\r\n\tnoActionBtns: PropTypes.bool,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tstate = state.memory\r\n\treturn {\r\n\t\tcancelLabel: state.confirm.data.cancelLabel,\r\n\t\tconfirmLabel: state.confirm.data.confirmLabel,\r\n\t\ttitle: state.confirm.data.title || '',\r\n\t\ttext: state.confirm.data.text || '',\r\n\t\tconfirm: state.confirm.onConfirm,\r\n\t\tcancel: state.confirm.onCancel,\r\n\t\tvisible: state.confirm.active || false,\r\n\t\tcalledOn: state.confirm.calledOn,\r\n\t\tnoActionBtns: state.confirm.noActionBtns,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(Confirm))\r\n","import React from 'react'\r\n// import PropTypes from 'prop-types'\r\nimport { withRouter } from 'react-router'\r\n\r\nexport const withReactRouterLink = Component => {\r\n\tclass Decorated extends React.Component {\r\n\t\tresolveToLocation = to => {\r\n\t\t\treturn typeof to === 'object' ? to['pathname'] : to\r\n\t\t}\r\n\r\n\t\thandleClick = event => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tconst { to, onClick } = this.props\r\n\r\n\t\t\tif (onClick && typeof onClick === 'function') {\r\n\t\t\t\tonClick()\r\n\t\t\t}\r\n\r\n\t\t\tthis.props.history.push(to)\r\n\t\t}\r\n\r\n\t\t// TODO: check if it works without infinite loops\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//   // const { to } = this.props;\r\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\r\n\t\t// }\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tto,\r\n\t\t\t\tmatch,\r\n\t\t\t\tlocation,\r\n\t\t\t\thistory,\r\n\t\t\t\tstaticContext,\r\n\t\t\t\tonClick,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst toLocation = this.resolveToLocation(to)\r\n\t\t\treturn (\r\n\t\t\t\t<Component {...rest} href={toLocation} onClick={this.handleClick} />\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\treturn withRouter(Decorated)\r\n}\r\n","import React from 'react'\r\nimport SvgIcon from '@material-ui/core/SvgIcon'\r\nimport pure from 'recompose/pure'\r\n\r\nexport default (path, displayName, viewBox = '') => {\r\n\tlet Icon = props => (\r\n\t\t<SvgIcon viewBox={viewBox} {...props}>\r\n\t\t\t{path}\r\n\t\t</SvgIcon>\r\n\t)\r\n\r\n\tIcon.displayName = displayName\r\n\tIcon = pure(Icon)\r\n\tIcon.muiName = 'SvgIcon'\r\n\r\n\treturn Icon\r\n}\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\r\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\r\n\t</g>,\r\n\r\n\t'Campaign',\r\n\t'0 0 26.12 17.37'\r\n)\r\n","import React from 'react'\r\n\r\nconst getUrl = url => {\r\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\r\n\tif (url) {\r\n\t\turl = '//' + url\r\n\t}\r\n\r\n\treturn url\r\n}\r\n\r\nconst Anchor = ({ href, target, children, label, ...rest }) => {\r\n\tlet url = target && target === '_blank' ? getUrl(href) : href\r\n\treturn (\r\n\t\t<a\r\n\t\t\tdraggable='false'\r\n\t\t\trel='noopener noreferrer'\r\n\t\t\t{...rest}\r\n\t\t\ttarget={target}\r\n\t\t\thref={url}\r\n\t\t\tstyle={{ wordBreak: 'break-all' }} // TODO: add it where needed only\r\n\t\t>\r\n\t\t\t{children || label}\r\n\t\t</a>\r\n\t)\r\n}\r\n\r\nexport default Anchor\r\n","const drawerWidth = 250\r\n\r\nexport const styles = theme => {\r\n\treturn {\r\n\t\troot: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tzIndex: 1,\r\n\t\t\toverflow: 'hidden',\r\n\t\t\tposition: 'relative',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\twidth: 'auto',\r\n\t\t\tposition: 'fixed',\r\n\t\t\t// marginLeft: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\r\n\t\t\t\tleft: drawerWidth,\r\n\t\t\t},\r\n\t\t\tbackgroundColor: '#eee',\r\n\t\t\tcolor: '#000',\r\n\t\t},\r\n\t\tflex: {\r\n\t\t\tflex: 1,\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t},\r\n\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexBasis: '100%',\r\n\t\t\tpaddingTop: theme.spacing(0.5),\r\n\t\t\tpaddingBottom: theme.spacing(0.5),\r\n\t\t\t'&:last-child': {\r\n\t\t\t\t// paddingRight: 100,\r\n\t\t\t\tpaddingTop: theme.spacing(1.5),\r\n\t\t\t\tpaddingBottom: theme.spacing(1.5),\r\n\t\t\t\tpaddingLeft: theme.spacing(1.5),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbarControls: {\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t},\r\n\t\ttoolbarTitle: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t},\r\n\t\tnavIconHide: {\r\n\t\t\tmarginRight: 10,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tdisplay: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t\ttoolbar: {\r\n\t\t\tflexFlow: 'wrap',\r\n\t\t\theight: 114,\r\n\t\t\t...theme.mixins.toolbar,\r\n\t\t},\r\n\t\tdrawerPaper: {\r\n\t\t\twidth: drawerWidth,\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t},\r\n\t\t\tbackgroundColor: '#fff',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tflexGrow: 1,\r\n\t\t\tbackgroundColor: theme.palette.background.default,\r\n\t\t\tpadding: theme.spacing(3),\r\n\t\t\tpaddingTop: theme.spacing(5),\r\n\t\t\toverflow: 'auto',\r\n\t\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\t\tmarginLeft: drawerWidth,\r\n\t\t\t},\r\n\t\t},\r\n\t\tcontentInner: {\r\n\t\t\tmaxWidth: 1600,\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\theight: 36,\r\n\t\t\twidth: 'auto',\r\n\t\t\t// marginRight: 10,\r\n\t\t\t// paddingLeft: theme.spacing(1.5),\r\n\t\t\t// [theme.breakpoints.down('xs')]: {\r\n\t\t\t//     display: 'none',\r\n\t\t\t// },\r\n\t\t},\r\n\t\tnavigation: {\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t},\r\n\t\tversion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tpadding: 10,\r\n\t\t\tpaddingLeft: 16,\r\n\t\t\tborderTopWidth: 1,\r\n\t\t\tborderTopColor: theme.palette.divider,\r\n\t\t\tborderTopStyle: 'solid',\r\n\t\t},\r\n\t\tnavList: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 80,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\toverflowX: 'hidden',\r\n\t\t},\r\n\t\tnavListRoot: {\r\n\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tsideNavToolbar: {},\r\n\t\tsntPadding: {\r\n\t\t\tpaddingTop: 0,\r\n\t\t},\r\n\t\tactive: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\tbackgroundColor: theme.palette.primary.light,\r\n\t\t\t'&:focus': {\r\n\t\t\t\tbackgroundColor: theme.palette.primary.light,\r\n\t\t\t},\r\n\t\t},\r\n\t\tnewItemBtn: {\r\n\t\t\twidth: '200px', // TODO\r\n\t\t},\r\n\t\tadxLink: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\t},\r\n\t\t},\r\n\t\tbar: {\r\n\t\t\topacity: 0.5,\r\n\t\t},\r\n\t\tactionCount: {\r\n\t\t\tmarginTop: theme.spacing(1),\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst RRSwitch = withReactRouterLink(props => (\r\n\t<ListItem>\r\n\t\t<ListItemText primary={props.label} />\r\n\t\t<ListItemSecondaryAction>\r\n\t\t\t<Anchor {...props}>\r\n\t\t\t\t<Switch {...props} />\r\n\t\t\t</Anchor>\r\n\t\t</ListItemSecondaryAction>\r\n\t</ListItem>\r\n))\r\n\r\nconst sideSwitch = ({ side, t, classes }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* Keep both if there is no valid side and force react to rerender at the same time */}\r\n\t\t\t{side !== 'advertiser' && (\r\n\t\t\t\t<RRSwitch\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tchecked={true}\r\n\t\t\t\t\tvalue='account'\r\n\t\t\t\t\tto={{ pathname: '/dashboard/advertiser' }}\r\n\t\t\t\t\tlabel={t('PUBLISHER')}\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tbar: classes.bar,\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{side !== 'publisher' && (\r\n\t\t\t\t<RRSwitch\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tchecked={false}\r\n\t\t\t\t\tto={{ pathname: '/dashboard/publisher' }}\r\n\t\t\t\t\tlabel={t('ADVERTISER')}\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tbar: classes.bar,\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const SideSwitch = withStyles(styles)(sideSwitch)\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(27, 117, 188)'\r\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\r\n\t\t/>\r\n\t\t<path\r\n\t\t\tfill='rgb(60, 60, 59)'\r\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\r\n\t\t/>\r\n\t</g>,\r\n\t'AdexIcon',\r\n\t'0 0 185 72'\r\n)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport Translate from 'components/translate/Translate'\r\nimport classnames from 'classnames'\r\nimport packageJson from './../../../../package.json'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { SideSwitch } from './SideSwitch'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport DashboardIcon from '@material-ui/icons/Dashboard'\r\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\r\n// import Badge from '@material-ui/core/Badge'\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\r\n\r\nconst RRListItem = withReactRouterLink(ListItem)\r\nconst { ETH_SCAN_ADDR_HOST } = process.env\r\n\r\nclass SideNav extends Component {\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\tlet langChanged = this.props.language !== nextProps.language\r\n\t\tlet sideChanged = this.props.side !== nextProps.side\r\n\t\tlet locationChanged =\r\n\t\t\tthis.props.location.pathname !== nextProps.location.pathname\r\n\t\tlet transactionsChanged =\r\n\t\t\t(this.props.transactions.pendingTxs || []).length !==\r\n\t\t\t(nextProps.transactions.pendingTxs || []).length\r\n\t\tlet bidsAwaitingActionChanged =\r\n\t\t\tthis.bidsAwaitingActionCount !== nextProps.bidsAwaitingActionCount\r\n\t\treturn (\r\n\t\t\tlangChanged ||\r\n\t\t\tsideChanged ||\r\n\t\t\tlocationChanged ||\r\n\t\t\ttransactionsChanged ||\r\n\t\t\tbidsAwaitingActionChanged\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tside,\r\n\t\t\tidentity,\r\n\t\t\tt,\r\n\t\t\t// transactions,\r\n\t\t\tclasses,\r\n\t\t} = this.props\r\n\t\tif (side !== 'advertiser' && side !== 'publisher') {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\t// TODO: test location\r\n\t\tconst location = this.props.location.pathname.split('/')[3]\r\n\t\tconst isAdvertiser = side === 'advertiser'\r\n\t\tconst items = isAdvertiser ? 'units' : 'slots'\r\n\t\tconst itemsIcon = isAdvertiser\r\n\t\t\t? 'format_list_bulleted'\r\n\t\t\t: 'format_list_bulleted'\r\n\t\t// const pendingTrsCount = (transactions.pendingTxs || []).length\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.navigation}>\r\n\t\t\t\t<List\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\tpadding: classes.sntPadding,\r\n\t\t\t\t\t\troot: classes.navListRoot,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tclassName={classes.navList}\r\n\t\t\t\t\tcomponent='nav'\r\n\t\t\t\t>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classnames(classes.toolbar, classes.sideNavToolbar)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<AdexIconTxt className={classes.icon} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<SideSwitch side={side} t={t} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<DashboardIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t{side === 'advertiser' && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\r\n\t\t\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<CampaignIcon />\r\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\r\n\t\t\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === items })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<Icon>{itemsIcon}</Icon>\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t\t<ListDivider />\r\n\r\n\t\t\t\t\t\t{/* <RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/transactions' }}\r\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === 'transactions' })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{pendingTrsCount > 0 ?\r\n\t\t\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\t\t\tbadgeContent={pendingTrsCount <= 9 ? pendingTrsCount : '9+'}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.actionCount)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t\t\t\t</Badge> : <SwapHorizontalIcon />}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n                        </RRListItem> */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref='https://medium.com/adex-network-tips-and-tricks'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<HelpOutlineIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\r\n\t\t\t\t\t\t\t<ListItem button>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</Anchor>\r\n\r\n\t\t\t\t\t\t<RRListItem\r\n\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\tclassName={classnames({\r\n\t\t\t\t\t\t\t\t[classes.active]: location === 'account',\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t<AccountBoxIcon />\r\n\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\r\n\t\t\t\t\t\t</RRListItem>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</List>\r\n\t\t\t\t<div className={classes.version}>\r\n\t\t\t\t\t<div className={classes.adxLink}>\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\r\n\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAdEx Network OÜ\r\n\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\tprocess.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAdEx (ADX) Token\r\n\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t<small> / </small>\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\tprocess.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tAdExCore\r\n\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\thref='https://github.com/AdExBlockchain/adex-dapp/blob/master/CHANGELOG.md'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tv.{packageJson.version}-beta\r\n\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSideNav.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist /*memory*/ } = state\r\n\r\n\treturn {\r\n\t\t// account: persist.account,\r\n\t\ttransactions: persist.web3Transactions[persist.account._addr] || {},\r\n\t\tidentity: persist.account.identity.address,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(SideNav)))\r\n","import React, { Component } from 'react'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport Button from '@material-ui/core/Button'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst ImgIcon = ({ src }) => {\r\n\treturn (\r\n\t\t<img\r\n\t\t\tsrc={src}\r\n\t\t\theight={36}\r\n\t\t\twidth='auto'\r\n\t\t\talt='logo'\r\n\t\t\tstyle={{ marginRight: 5 }}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nclass ButtonMenu extends Component {\r\n\tstate = {\r\n\t\tactive: false,\r\n\t\tanchorEl: null,\r\n\t}\r\n\r\n\thandleButtonClick = () =>\r\n\t\tthis.setState({ active: !this.state.active, anchorEl: null })\r\n\thandleMenuHide = () => this.setState({ active: false })\r\n\r\n\thandleMenu = event => {\r\n\t\tthis.setState({ anchorEl: event.currentTarget })\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({ anchorEl: null })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { btnStyle, label, iconStyle, icon } = this.props\r\n\t\tconst { anchorEl } = this.state\r\n\t\tconst open = Boolean(anchorEl)\r\n\t\tlet leftIcon = this.props.leftIconSrc ? (\r\n\t\t\t<ImgIcon src={this.props.leftIconSrc} />\r\n\t\t) : null\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t// style={{ display: 'inline-block' }}\r\n\t\t\t>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tstyle={btnStyle}\r\n\t\t\t\t\tonClick={this.handleMenu}\r\n\t\t\t\t\taria-owns='menu-appbar' // {open ? 'menu-appbar' : null}\r\n\t\t\t\t\taria-haspopup='true'\r\n\t\t\t\t>\r\n\t\t\t\t\t{leftIcon}\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmaxWidth: 150,\r\n\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\ttextOverflow: 'ellipsis',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<Icon style={iconStyle}>{icon}</Icon>\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Menu\r\n\t\t\t\t\tid='menu-appbar'\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\t\t// anchorOrigin={{\r\n\t\t\t\t\t//   vertical: 'top',\r\n\t\t\t\t\t//   horizontal: 'right',\r\n\t\t\t\t\t// }}\r\n\t\t\t\t\t// transformOrigin={{\r\n\t\t\t\t\t//   vertical: 'top',\r\n\t\t\t\t\t//   horizontal: 'right',\r\n\t\t\t\t\t// }}\r\n\t\t\t\t\tonClick={this.handleButtonClick}\r\n\t\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.props.children}\r\n\t\t\t\t</Menu>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles()(ButtonMenu)\r\n","import { AUTH_TYPES } from 'constants/misc'\r\nimport metamaskLogo from 'resources/metamask-logo.png'\r\nimport trezorLogo from 'resources/trezor-logo-h.png'\r\nimport ledgerLogo from 'resources/ledger_logo_header.png'\r\nimport demoLogo from 'resources/demo-logo.png'\r\n\r\nexport const getAuthLogo = authType => {\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\treturn metamaskLogo\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\treturn trezorLogo\r\n\t\tcase AUTH_TYPES.LEDGER.name:\r\n\t\t\treturn ledgerLogo\r\n\t\tcase AUTH_TYPES.DEMO.name:\r\n\t\t\treturn demoLogo\r\n\t\tdefault:\r\n\t\t\treturn ''\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\r\n\r\nexport const InputLoading = ({ msg, className }) => (\r\n\t<div>\r\n\t\t<LinearProgress className={className} />\r\n\t\t{msg ? <div> {msg} </div> : null}\r\n\t</div>\r\n)\r\n\r\nexport const LoadingSection = ({ loading, children }) => (\r\n\t<Box display='flex' alignItems='center'>\r\n\t\t<Box>{children}</Box>\r\n\t\t<Box ml={2} mr={2}>\r\n\t\t\t{loading && <CircularProgress />}\r\n\t\t</Box>\r\n\t</Box>\r\n)\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\n// import ChangeLang from 'components/translate/ChangeLang'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport { logOut } from 'services/store-data/auth'\r\n\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport classnames from 'classnames'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Icon from '@material-ui/core/Icon'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport { selectNavTitle, selectAccount } from 'selectors'\r\nimport { styles } from './styles'\r\n\r\nconst RRMenuItem = withReactRouterLink(MenuItem)\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction TopNav({ handleDrawerToggle, side, t }) {\r\n\tconst classes = useStyles()\r\n\tconst navTitle = useSelector(selectNavTitle)\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { totalIdentityBalanceDai } = account.stats.formatted || {}\r\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\r\n\tconst btnMenueLabel =\r\n\t\taccount.wallet.authType === 'demo'\r\n\t\t\t? t('DEMO_MODE')\r\n\t\t\t: account.email || account.wallet.address || t('NOT_LOGGED')\r\n\r\n\treturn (\r\n\t\t<AppBar className={classes.appBar} position='sticky'>\r\n\t\t\t<Toolbar className={classes.toolbar}>\r\n\t\t\t\t<div className={classes.flexRow}>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\taria-label='open drawer'\r\n\t\t\t\t\t\tonClick={handleDrawerToggle}\r\n\t\t\t\t\t\tclassName={classnames(classes.navIconHide)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Icon>menu</Icon>\r\n\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t{/* <AdexIconTxt\r\n              className={classes.icon}\r\n            /> */}\r\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarControls)}>\r\n\t\t\t\t\t\t{/* <Navigation type='horizontal' className={theme.rightNavigation}> */}\r\n\t\t\t\t\t\t{/* At the moment we use translations only for proper items properties display names */}\r\n\t\t\t\t\t\t{/* <ChangeLang /> */}\r\n\t\t\t\t\t\t<ButtonMenu\r\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\r\n\t\t\t\t\t\t\ticon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\t\tlabel={btnMenueLabel}\r\n\t\t\t\t\t\t\tactive={true}\r\n\t\t\t\t\t\t\ticonStyle={{ marginTop: -2, marginLeft: 10, fontSize: 20 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<RRMenuItem\r\n\t\t\t\t\t\t\t\tvalue='account'\r\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\r\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<Icon>account_box</Icon>\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</RRMenuItem>\r\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tvalue='logout'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tlogOut()\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t<Icon>exit_to_app</Icon>\r\n\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\r\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</ButtonMenu>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.flexRow}>\r\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarTitle)}>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tvariant='subtitle1'\r\n\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\tclassName={classes.flex}\r\n\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t(navTitle)}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t!totalIdentityBalanceDai && totalIdentityBalanceDai !== 0\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItemText primary={`${totalIdentityBalanceDai || 0} DAI`} />\r\n\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Toolbar>\r\n\t\t</AppBar>\r\n\t)\r\n}\r\n\r\nexport default Translate(TopNav)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\r\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport Translate from 'components/translate/Translate'\r\nimport { validations, helpers } from 'adex-models'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\n\r\nconst MAX_IMG_LOAD_TIME = 7000\r\nclass Img extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\timgSrc: null,\r\n\t\t\tactive: false,\r\n\t\t\tvideoSrc: null,\r\n\t\t}\r\n\r\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\r\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\r\n\t\tthis.loadTimeout = null\r\n\t}\r\n\r\n\tipfsSrc = src => {\r\n\t\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\r\n\t\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\r\n\t\t}\r\n\r\n\t\treturn src\r\n\t}\r\n\r\n\thandleToggle = () => {\r\n\t\tlet active = this.state.active\r\n\t\tthis.setState({ active: !active })\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\r\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\tif (isVideo && !allowVideo) {\r\n\t\t\treturn this.setState({\r\n\t\t\t\timgSrc: VIDEO_IMAGE,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (isVideo) {\r\n\t\t\tthis.displayVideo = document.createElement('video')\r\n\t\t\tthis.setDisplayVideo({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.displayImage = new Image()\r\n\t\t\tthis.setDisplayImage({\r\n\t\t\t\timage: this.ipfsSrc(src),\r\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps = nextProps => {\r\n\t\tconst nextSrc = this.ipfsSrc(nextProps.src)\r\n\t\tconst thisSrc = this.ipfsSrc(this.props.src)\r\n\t\tconst nextFallback = this.ipfsSrc(nextProps.fallbackSrc)\r\n\t\tconst { mediaMime } = nextProps\r\n\r\n\t\tif (nextSrc !== thisSrc) {\r\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\r\n\r\n\t\t\tif (isVideo) {\r\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\r\n\t\t\t\tthis.setDisplayVideo({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\r\n\t\t\t\tthis.setDisplayImage({\r\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\r\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.clearLoadTimeout()\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\t\t\tthis.displayImage = null\r\n\t\t}\r\n\t}\r\n\r\n\tclearLoadTimeout = () => {\r\n\t\tif (this.loadTimeout) {\r\n\t\t\tclearTimeout(this.loadTimeout)\r\n\t\t\tthis.loadTimeout = null\r\n\t\t}\r\n\t}\r\n\r\n\tonFail = fallback => {\r\n\t\tif (this.displayImage) {\r\n\t\t\tthis.displayImage.onerror = null\r\n\t\t\tthis.displayImage.onload = null\r\n\t\t\tthis.displayImage.onabort = null\r\n\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.displayImage.src = fallback\r\n\t\t}\r\n\r\n\t\tthis.clearLoadTimeout()\r\n\r\n\t\tthis.setState({\r\n\t\t\timgSrc: fallback || null,\r\n\t\t})\r\n\t}\r\n\r\n\tsetDisplayImage = ({ image, fallback }) => {\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\r\n\t\t\tthis,\r\n\t\t\tfallback\r\n\t\t)\r\n\r\n\t\tthis.displayImage.onload = () => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\timgSrc: image,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.displayImage.src = image\r\n\t}\r\n\r\n\tsetDisplayVideo = ({ image, fallback }) => {\r\n\t\tthis.displayVideo.src = image\r\n\r\n\t\tthis.loadTimeout = setTimeout(() => {\r\n\t\t\tthis.onFail(fallback)\r\n\t\t}, MAX_IMG_LOAD_TIME)\r\n\r\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\r\n\t\t\tthis.clearLoadTimeout()\r\n\t\t\tthis.setState({\r\n\t\t\t\tvideoSrc: image,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tfullScreenBtn() {\r\n\t\tconst { classes } = this.props\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tmini\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tthis.handleToggle()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FullscreenIcon />\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{this.renderFullscreenDialog()}\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\trenderFullscreenDialog() {\r\n\t\tconst { t, alt, classes, type } = this.props\r\n\t\tconst { active, imgSrc, videoSrc } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={active}\r\n\t\t\t\ttype={type || 'normal'}\r\n\t\t\t\tmaxWidth={false}\r\n\t\t\t\tonClose={this.handleToggle}\r\n\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\r\n\t\t\t\t\t{imgSrc ? (\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<video\r\n\t\t\t\t\t\t\tsrc={videoSrc}\r\n\t\t\t\t\t\t\tautoPlay='true'\r\n\t\t\t\t\t\t\tmuted='true'\r\n\t\t\t\t\t\t\tloop='true'\r\n\t\t\t\t\t\t\tcontrols\r\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\r\n\t\t\t\t\t\t></video>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\r\n\t\t\t\t\t\t{t('CLOSE')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\talt,\r\n\t\t\tallowFullscreen,\r\n\t\t\tclassName,\r\n\t\t\tclasses,\r\n\t\t\tfullScreenOnClick,\r\n\t\t} = this.props\r\n\t\tconst { imgSrc, videoSrc } = this.state\r\n\t\treturn imgSrc || videoSrc ? (\r\n\t\t\t<div\r\n\t\t\t\tclassName={classnames(classes.imgParent, className, classes.wrapper)}\r\n\t\t\t>\r\n\t\t\t\t{!!imgSrc ? (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\tsrc={this.state.imgSrc}\r\n\t\t\t\t\t\tdraggable='false'\r\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\r\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\r\n\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\tfullScreenOnClick &&\r\n\t\t\t\t\t\t\t(() => {\r\n\t\t\t\t\t\t\t\tthis.handleToggle()\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<video\r\n\t\t\t\t\t\tsrc={videoSrc}\r\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\r\n\t\t\t\t\t\tautoPlay='true'\r\n\t\t\t\t\t\tmuted='true'\r\n\t\t\t\t\t\tloop='true'\r\n\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\tfullScreenOnClick &&\r\n\t\t\t\t\t\t\t(() => {\r\n\t\t\t\t\t\t\t\tthis.handleToggle()\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t></video>\r\n\t\t\t\t)}\r\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\r\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\r\n\t\t\t</div>\r\n\t\t) : (\r\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\r\n\t\t\t\t<span className={classes.circular}>\r\n\t\t\t\t\t<CircularProgress />\r\n\t\t\t\t</span>\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImg.propTypes = {\r\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n\tfallbackSrc: PropTypes.string,\r\n\talt: PropTypes.string,\r\n\tallowFullscreen: PropTypes.bool,\r\n\tfullScreenOnClick: PropTypes.bool,\r\n\tmediaMime: PropTypes.string,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(Img))\r\n","export const styles = theme => ({\r\n\timgLoading: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: '100%',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\timgParent: {\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\twidth: 'auto',\r\n\t\theight: 'max-content',\r\n\t\tposition: 'relative',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tcircular: {\r\n\t\tposition: 'relative',\r\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\r\n\t\tleft: 'calc(50% - 20px)',\r\n\t\tdisplay: 'inline-block',\r\n\t},\r\n\tfullscreenIcon: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: theme.spacing(1),\r\n\t\tright: theme.spacing(1),\r\n\t\tcursor: 'pointer',\r\n\t\twidth: '30px',\r\n\t\theight: '30px',\r\n\t\tminHeight: '24px',\r\n\t},\r\n\tdialog: {\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t},\r\n\t\t'@media(max-height:823px)': {\r\n\t\t\tminHeight: 'auto',\r\n\t\t},\r\n\t},\r\n\tdialogImageParent: {\r\n\t\t'@media(max-width:1080px)': {\r\n\t\t\tmaxWidth: '80vw',\r\n\t\t\tmaxHeight: '100vw',\r\n\t\t\tdisplay: 'block',\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\t'@media(max-width:744px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t},\r\n\t},\r\n\tdialogImage: {\r\n\t\theight: 'auto',\r\n\t\tmaxWidth: '80vw',\r\n\t},\r\n\timg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t},\r\n\twrapper: {\r\n\t\theight: 'max-content',\r\n\t\twidth: 'max-content',\r\n\t},\r\n})\r\n","/**\r\n * @param {String} objUrl - Image blob url URL.createObjectURL\r\n * @param {Object} pixelCrop - pixelCrop Object provided by react-image-crop\r\n * @param {String} fileName - Name of the returned file in Promise\r\n */\r\nexport const getCroppedImgUrl = ({ objUrl, pixelCrop, fileName, size }) => {\r\n\t// TODO: Validate pixelCrop and size\r\n\tconst cropCanvas = document.createElement('canvas')\r\n\tconst scaleCanvas = document.createElement('canvas')\r\n\r\n\tconst img = new Image()\r\n\timg.crossOrigin = 'Anonymous' // For ipfs URL\r\n\timg.src = objUrl\r\n\r\n\t// As a blob\r\n\treturn new Promise((resolve, reject) => {\r\n\t\timg.onload = () => {\r\n\t\t\tconst width = img.width\r\n\t\t\tconst height = img.height\r\n\r\n\t\t\t// pixelCrop come in %\r\n\t\t\tconst crop = {\r\n\t\t\t\tx: Math.round(width * (pixelCrop.x / 100)),\r\n\t\t\t\ty: Math.round(height * (pixelCrop.y / 100)),\r\n\t\t\t\twidth: Math.round(width * (pixelCrop.width / 100)),\r\n\t\t\t\theight: Math.round(height * (pixelCrop.height / 100)),\r\n\t\t\t}\r\n\r\n\t\t\tcropCanvas.width = crop.width\r\n\t\t\tcropCanvas.height = crop.height\r\n\t\t\tconst cctx = cropCanvas.getContext('2d')\r\n\r\n\t\t\tcctx.drawImage(\r\n\t\t\t\timg,\r\n\t\t\t\tcrop.x,\r\n\t\t\t\tcrop.y,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.width = size.width\r\n\t\t\tscaleCanvas.height = size.height\r\n\r\n\t\t\tconst sctx = scaleCanvas.getContext('2d')\r\n\r\n\t\t\tsctx.drawImage(\r\n\t\t\t\tcropCanvas,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tcrop.width,\r\n\t\t\t\tcrop.height,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tsize.width,\r\n\t\t\t\tsize.height\r\n\t\t\t)\r\n\r\n\t\t\tscaleCanvas.toBlob(file => {\r\n\t\t\t\tif (!file) {\r\n\t\t\t\t\treject('Error cropping file')\r\n\t\t\t\t}\r\n\t\t\t\tfile.name = fileName\r\n\t\t\t\tresolve(URL.createObjectURL(file))\r\n\t\t\t}, 'image/jpeg')\r\n\t\t}\r\n\t})\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Img from 'components/common/img/Img'\r\n// import debounce from 'debounce'\r\nimport Dropzone from 'react-dropzone'\r\nimport Translate from 'components/translate/Translate'\r\nimport Button from '@material-ui/core/Button'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ReactCrop from 'react-image-crop'\r\nimport { getCroppedImgUrl } from 'services/images/crop'\r\nimport CropIcon from '@material-ui/icons/Crop'\r\nimport ClearIcon from '@material-ui/icons/Clear'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport FileUploadIcon from '@material-ui/icons/CloudUpload'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass ImgForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tconst { size, imgSrc, mime } = props\r\n\t\tconst aspect = size ? size.width / size.height : undefined\r\n\r\n\t\tthis.state = {\r\n\t\t\timgSrc: imgSrc || '',\r\n\t\t\tmime: mime || '',\r\n\t\t\timgName: '',\r\n\t\t\tcropMode: false,\r\n\t\t\tcrop: { aspect: aspect },\r\n\t\t}\r\n\t}\r\n\r\n\tonDrop = (acceptedFiles, rejectedFiles) => {\r\n\t\tconst that = this\r\n\t\tconst file = acceptedFiles[0]\r\n\t\tif (!file) return\r\n\t\tconst objectUrl = URL.createObjectURL(file)\r\n\r\n\t\tthat.setState({\r\n\t\t\timgSrc: objectUrl,\r\n\t\t\timgName: file.name,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\r\n\t\tthis.props.onChange({\r\n\t\t\ttempUrl: objectUrl,\r\n\t\t\tmime: file.type,\r\n\t\t})\r\n\t}\r\n\r\n\tonRemove = e => {\r\n\t\tthis.preventBubbling(e)\r\n\r\n\t\tconst { imgSrc } = this.state\r\n\r\n\t\tif (imgSrc) {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tthis.setState({ imgSrc: '', imgName: '' })\r\n\t\t\tthis.props.onChange({ tempUrl: null, mime: null })\r\n\t\t}\r\n\t}\r\n\r\n\tonCropChange = crop => {\r\n\t\tthis.setState({ crop })\r\n\t}\r\n\r\n\tsaveCropped = () => {\r\n\t\tconst { imgSrc, crop, mime, imgName } = this.state\r\n\t\tconst { onChange, size } = this.props\r\n\t\tgetCroppedImgUrl({\r\n\t\t\tobjUrl: imgSrc,\r\n\t\t\tpixelCrop: crop,\r\n\t\t\tfileName: `cropped-${imgName}`,\r\n\t\t\tsize,\r\n\t\t}).then(croppedBlob => {\r\n\t\t\tURL.revokeObjectURL(imgSrc)\r\n\t\t\tthis.setState({ imgSrc: croppedBlob, cropMode: false })\r\n\t\t\tonChange({\r\n\t\t\t\ttempUrl: croppedBlob,\r\n\t\t\t\tmime,\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tpreventBubbling = e => {\r\n\t\tif (e.stopPropagation) {\r\n\t\t\te.stopPropagation()\r\n\t\t}\r\n\t\tif (e.nativeEvent) {\r\n\t\t\te.nativeEvent.stopImmediatePropagation()\r\n\t\t}\r\n\t}\r\n\r\n\tUploadInfo = () => {\r\n\t\tconst { t, classes, size, errMsg } = this.props\r\n\t\tconst { imgSrc, mime } = this.state\r\n\t\treturn (\r\n\t\t\t<div className={classes.uploadInfo}>\r\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\r\n\t\t\t\t\t<div className={classes.uploadActions}>\r\n\t\t\t\t\t\t{/* TEMP: make size required */}\r\n\t\t\t\t\t\t{!!size && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\tthis.preventBubbling(e)\r\n\t\t\t\t\t\t\t\t\tthis.setState({ cropMode: true })\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tonClick={this.onRemove}\r\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<FileUploadIcon />\r\n\t\t\t\t)}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\r\n\t\t\t\t\t\t{errMsg}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: CLEAR IMG BLOB!!!!\r\n\trender() {\r\n\t\tconst { t, classes, label, additionalInfo } = this.props\r\n\t\tconst { crop, cropMode, imgName, imgSrc, mime } = this.state\r\n\r\n\t\tconst videoSrc = isVideoMedia(mime)\r\n\t\treturn (\r\n\t\t\t<div className={classes.imgForm}>\r\n\t\t\t\t<AppBar\r\n\t\t\t\t\tposition='static'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.header,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t{imgSrc && imgName ? (\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t{label || 'Image'}: {imgName}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<span> {label || 'Upload image'} </span>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{cropMode ? (\r\n\t\t\t\t\t\t<div className={classes.dropzone} onClick={this.preventBubbling}>\r\n\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t<ReactCrop\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: 320 }}\r\n\t\t\t\t\t\t\t\t\t\timageStyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '320px',\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 'auto',\r\n\t\t\t\t\t\t\t\t\t\t\theight: 'auto',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\t\tcrop={crop}\r\n\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onCropChange}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.saveCropped}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ cropMode: false })}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\r\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Dropzone\r\n\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\r\n\t\t\t\t\t\t\tonDrop={this.onDrop}\r\n\t\t\t\t\t\t\tclassName={classes.dropzone}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\tspacing={2}\r\n\t\t\t\t\t\t\t\talignContent='center'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t{videoSrc ? (\r\n\t\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\t\t\talt={'name'}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t<this.UploadInfo />\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Dropzone>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<small> {additionalInfo} </small>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImgForm.propTypes = {\r\n\timgSrc: PropTypes.string,\r\n\tlabel: PropTypes.string,\r\n\tsize: PropTypes.object,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(ImgForm))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\theader: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tdropzone: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t\tborder: `2px dashed ${theme.palette.grey[500]}`,\r\n\t\t\tbackground: theme.palette.background.default,\r\n\t\t\tpadding: 10,\r\n\t\t\tcursor: 'pointer',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timgDropzonePreview: {\r\n\t\t\tmaxHeight: 320,\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdropzoneBtn: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tleftIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tuploadActions: {\r\n\t\t\tmarginTop: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\r\n\r\nexport default function ValidImageHoc(Decorated) {\r\n\tclass ValidImage extends Component {\r\n\t\tvalidate = ({\r\n\t\t\tpropsName,\r\n\t\t\twidthTarget,\r\n\t\t\theightTarget,\r\n\t\t\tmediaWidth,\r\n\t\t\tmediaHeight,\r\n\t\t\tmsg,\r\n\t\t\texact,\r\n\t\t\trequired,\r\n\t\t\tonChange,\r\n\t\t\tmime,\r\n\t\t\ttempUrl,\r\n\t\t}) => {\r\n\t\t\tlet isValid = true\r\n\r\n\t\t\tif (exact) {\r\n\t\t\t\tisValid = checkExactishAspect(\r\n\t\t\t\t\twidthTarget,\r\n\t\t\t\t\tmediaWidth,\r\n\t\t\t\t\theightTarget,\r\n\t\t\t\t\tmediaHeight\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\r\n\t\t\t\tisValid = false\r\n\t\t\t}\r\n\r\n\t\t\tconst masgArgs = [widthTarget, heightTarget, 'px']\r\n\r\n\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: msg, args: masgArgs },\r\n\t\t\t\tdirty: true,\r\n\t\t\t})\r\n\r\n\t\t\tconst resMedia = {\r\n\t\t\t\twidth: mediaWidth,\r\n\t\t\t\theight: mediaHeight,\r\n\t\t\t\tmime,\r\n\t\t\t\ttempUrl,\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof onChange === 'function') {\r\n\t\t\t\tonChange(propsName, resMedia)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvalidateMedia = async (\r\n\t\t\t{\r\n\t\t\t\tpropsName,\r\n\t\t\t\twidthTarget,\r\n\t\t\t\theightTarget,\r\n\t\t\t\tmsg,\r\n\t\t\t\texact,\r\n\t\t\t\trequired,\r\n\t\t\t\tonChange,\r\n\t\t\t} = {},\r\n\t\t\tmedia\r\n\t\t) => {\r\n\t\t\tif (!required && !media.tempUrl && onChange) {\r\n\t\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\t\tisValid: true,\r\n\t\t\t\t\terr: { msg: msg, args: [] },\r\n\t\t\t\t\tdirty: true,\r\n\t\t\t\t})\r\n\t\t\t\t// TODO: fix this\r\n\t\t\t\tonChange(propsName, media)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif (!media.mime || !media.tempUrl) {\r\n\t\t\t\tthis.props.validate(propsName, {\r\n\t\t\t\t\tisValid: false,\r\n\t\t\t\t\tdirty: true,\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\r\n\r\n\t\t\tthis.validate({\r\n\t\t\t\tpropsName,\r\n\t\t\t\twidthTarget,\r\n\t\t\t\theightTarget,\r\n\t\t\t\tmediaWidth: size.width,\r\n\t\t\t\tmediaHeight: size.height,\r\n\t\t\t\tmsg,\r\n\t\t\t\texact,\r\n\t\t\t\trequired,\r\n\t\t\t\tonChange,\r\n\t\t\t\tmime: media.mime,\r\n\t\t\t\ttempUrl: media.tempUrl,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn <Decorated {...props} validateMedia={this.validateMedia} />\r\n\t\t}\r\n\t}\r\n\r\n\tValidImage.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { memory } = state\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidImage))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport default function NewItemHoc(Decorated) {\r\n\tclass ValidItemHoc extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tinvalidFields: {},\r\n\t\t\t}\r\n\r\n\t\t\tthis.validate = this.validate.bind(this)\r\n\t\t}\r\n\r\n\t\tcomponentWillReceiveProps(nextProps) {\r\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\r\n\t\t}\r\n\r\n\t\tvalidate = (\r\n\t\t\tkey,\r\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n\t\t) => {\r\n\t\t\tif (!isValid) {\r\n\t\t\t\tlet errors = {}\r\n\t\t\t\terrors[key] = {\r\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\r\n\t\t\t\t\tdirty: dirty,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\r\n\t\t\t} else if (removeAll) {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tvalidate={this.validate}\r\n\t\t\t\t\tinvalidFields={this.state.invalidFields}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tValidItemHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\t// let persist = state.persist\r\n\t\tlet memory = state.memory\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc))\r\n}\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(3)\r\n\treturn {}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport Button from '@material-ui/core/Button'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport { AVATAR_MAX_WIDTH, AVATAR_MAX_HEIGHT } from 'constants/misc'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nexport class ImgDialog extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tvalues: {},\r\n\t\t}\r\n\t}\r\n\r\n\thandleChange = (name, value) => {\r\n\t\tlet newValues = { ...this.state.values }\r\n\t\tnewValues[name] = value\r\n\t\tthis.setState({ values: newValues })\r\n\t}\r\n\r\n\tonOk = () => {\r\n\t\tconst vals = this.state.values\r\n\t\tObject.keys(vals).forEach(key => {\r\n\t\t\tthis.props.onChangeReady(key, vals[key])\r\n\t\t})\r\n\t\tthis.props.handleToggle()\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet t = () => {}\r\n\t\tlet validations = this.props.invalidFields || {}\r\n\t\tlet errImg = validations[this.props.imgPropName]\r\n\t\tlet width = this.props.width || AVATAR_MAX_WIDTH\r\n\t\tlet height = this.props.height || AVATAR_MAX_HEIGHT\r\n\t\treturn (\r\n\t\t\t<span>\r\n\t\t\t\t<Dialog\r\n\t\t\t\t\topen={this.props.active}\r\n\t\t\t\t\t// onEscKeyDown={this.props.handleToggle}\r\n\t\t\t\t\t// onOverlayClick={this.props.handleToggle}\r\n\t\t\t\t\ttitle={this.props.title}\r\n\t\t\t\t\ttype={this.props.type || 'normal'}\r\n\t\t\t\t\t// className={theme[ItemTypesNames[this.props.itemType]]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogTitle>\r\n\t\t\t\t\t\t<IconButton onClick={this.props.handleToggle}>\r\n\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t{this.props.t(this.props.title)}\r\n\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\tlabel={t(this.props.imgLabel)}\r\n\t\t\t\t\t\t\timgSrc={this.props.imgSrc || ''}\r\n\t\t\t\t\t\t\tonChange={this.props.validateMedia.bind(this, {\r\n\t\t\t\t\t\t\t\tpropsName: this.props.imgPropName,\r\n\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\tmsg: this.props.errMsg,\r\n\t\t\t\t\t\t\t\texact: this.props.exact,\r\n\t\t\t\t\t\t\t\trequired: this.props.required,\r\n\t\t\t\t\t\t\t\tonChange: this.handleChange,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tadditionalInfo={t(this.props.additionalInfo)}\r\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\tsize={{ width: width, height: height }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.props.handleToggle} color='primary'>\r\n\t\t\t\t\t\t\t{'Cancel'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={this.onOk}\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t!!(this.props.invalidFields || {})[this.props.imgPropName]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{'Ok'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</Dialog>\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nImgDialog.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tlet persist = state.persist\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(ValidItemHoc(ValidImageHoc(withStyles(styles)(ImgDialog))))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n// import classnames from 'classnames'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport CheckIcon from '@material-ui/icons/Check'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\n// NOTE: Separate component to track the validations and spinner to avoid rerender of item top level components\r\nclass SaveBtn extends Component {\r\n\trender() {\r\n\t\tlet {\r\n\t\t\tspinner,\r\n\t\t\tclasses,\r\n\t\t\tsuccess,\r\n\t\t\tdirtyProps,\r\n\t\t\tsave,\r\n\t\t\tvalidations,\r\n\t\t\tvalidationId,\r\n\t\t\tdisabled,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div className={classes.position}>\r\n\t\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t\t<Fab\r\n\t\t\t\t\t\tfabButton\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t// className={buttonClassname}\r\n\t\t\t\t\t\tonClick={() => save()}\r\n\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\tdisabled ||\r\n\t\t\t\t\t\t\tspinner ||\r\n\t\t\t\t\t\t\t!dirtyProps.length ||\r\n\t\t\t\t\t\t\t!!Object.keys(validations[validationId] || {}).length\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// {...other}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/*TODO: Success */}\r\n\t\t\t\t\t\t{success ? <CheckIcon /> : <SaveIcon />}\r\n\t\t\t\t\t</Fab>\r\n\t\t\t\t\t{!!spinner && (\r\n\t\t\t\t\t\t<CircularProgress size={68} className={classes.fabProgress} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSaveBtn.propTypes = {\r\n\tspinnerId: PropTypes.string,\r\n\tvalidationId: PropTypes.string,\r\n\titemId: PropTypes.string,\r\n\tvalidations: PropTypes.object,\r\n\tdisabled: PropTypes.bool,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\treturn {\r\n\t\tspinner: memory.spinners[props.spinnerId],\r\n\t\tvalidations: memory.validations,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(SaveBtn)))\r\n","import color from '@material-ui/core/colors/purple'\r\n\r\nexport const styles = theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\twrapper: {\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonSuccess: {\r\n\t\tbackgroundColor: color[500],\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: color[700],\r\n\t\t},\r\n\t},\r\n\tfabProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: -6,\r\n\t\tleft: -6,\r\n\t\tzIndex: 1,\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tcolor: color[500],\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tposition: {\r\n\t\tposition: 'fixed',\r\n\t\ttop: 86,\r\n\t\tright: 40,\r\n\t\tzIndex: theme.zIndex.appBar,\r\n\t},\r\n})\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\tbuttonLeft: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\ttextField: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\ttop: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tmaxWidth: '70%',\r\n\t\t},\r\n\t\tchangesLine: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\talignItems: 'center',\r\n\t\t\tcolor: theme.palette.secondary.main,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tchangeChip: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: 0,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tbottom: spacing,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport IMG_404 from 'resources/404.png'\r\nimport Img from 'components/common/img/Img'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nclass PageNotFound extends React.Component {\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tclasses,\r\n\t\t\ttitle,\r\n\t\t\tsubtitle,\r\n\t\t\tgoToTxt,\r\n\t\t\tgoToPath,\r\n\t\t\tskipGoToButton,\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<div className={classes.wrapper}>\r\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3'>\r\n\t\t\t\t\t\t\t{t(title || '404_TEXT')}\r\n\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t{subtitle && (\r\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\r\n\t\t\t\t\t\t\t\t{t(subtitle)}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tinline\r\n\t\t\t\t\t\t\tclassName={classes.text}\r\n\t\t\t\t\t\t\tvariant='h1'\r\n\t\t\t\t\t\t\tstyle={{ textTransform: 'uppercase' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('404')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\tsrc={IMG_404}\r\n\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{!skipGoToButton && (\r\n\t\t\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\r\n\t\t\t\t\t\t\t</RRButton>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nPageNotFound.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tgoToTxt: PropTypes.string,\r\n\tgoToPath: PropTypes.string,\r\n\tskipGoToButton: PropTypes.bool,\r\n}\r\n\r\nexport default Translate(withStyles(styles)(PageNotFound))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\twrapper: {\r\n\t\t\tmargin: `${spacing * 2}px auto`,\r\n\t\t\tmaxWidth: 1000,\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport ImgDialog from 'components/dashboard/containers/ImgDialog'\r\nimport { schemas, Joi } from 'adex-models'\r\nimport classnames from 'classnames'\r\nimport { Prompt } from 'react-router'\r\nimport Translate from 'components/translate/Translate'\r\nimport { items as ItemsConstants } from 'adex-constants'\r\nimport Img from 'components/common/img/Img'\r\nimport SaveBtn from 'components/dashboard/containers/SaveBtn'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport InfoOutlineIcon from '@material-ui/icons/Info'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport { styles } from './styles'\r\nimport { validName } from 'helpers/validators'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\n\r\nconst { adSlotPut, adUnitPut } = schemas\r\nconst { AdSizesByValue } = ItemsConstants\r\n\r\nexport default function ItemHoc(Decorated) {\r\n\tclass Item extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.save = this.save.bind(this)\r\n\t\t\tthis.state = {\r\n\t\t\t\tactiveFields: {},\r\n\t\t\t\titem: null,\r\n\t\t\t\tinitialItemState: {},\r\n\t\t\t\tdirtyProps: [],\r\n\t\t\t\teditImg: false,\r\n\t\t\t\t_activeInput: null,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateNav = (item = {}) => {\r\n\t\t\tconst { actions, t, itemType } = this.props\r\n\t\t\tactions.updateNav(\r\n\t\t\t\t'navTitle',\r\n\t\t\t\tt(itemType, { isProp: true }) + ' > ' + item.title || ''\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tconst { item, matchId, objModel } = this.props\r\n\r\n\t\t\tif (!item) {\r\n\t\t\t\tthis.updateNav({ title: matchId })\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst initialItemState = new objModel(item)\r\n\r\n\t\t\tthis.setState({ item: { ...item }, initialItemState: initialItemState })\r\n\t\t\tthis.updateNav(initialItemState)\r\n\t\t}\r\n\r\n\t\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\r\n\t\t//     return diffProps || diffState\r\n\t\t// }\r\n\r\n\t\tcomponentWillReceiveProps(nextProps, nextState) {\r\n\t\t\tconst { objModel } = this.props\r\n\t\t\tconst { item } = this.state\r\n\t\t\tlet currentItemInst = new objModel(item || {})\r\n\t\t\t// Assume that the this.props.match.params.itemId can not be changed without remount of the component\r\n\t\t\t// TODO: check the above\r\n\t\t\tlet nextItem = nextProps.item\r\n\t\t\tlet nexItemInst = new objModel(nextItem || {})\r\n\r\n\t\t\tif (currentItemInst.modifiedOn !== nexItemInst.modifiedOn) {\r\n\t\t\t\t// if (\r\n\t\t\t\t// \tJSON.stringify(currentItemInst.plainObj()) !==\r\n\t\t\t\t// \tJSON.stringify(nexItemInst.plainObj())\r\n\t\t\t\t// ) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\titem: nexItemInst.plainObj(),\r\n\t\t\t\t\tinitialItemState: nexItemInst,\r\n\t\t\t\t\tactiveFields: {},\r\n\t\t\t\t\tdirtyProps: [],\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tthis.updateNav(nexItemInst)\r\n\t\t}\r\n\r\n\t\tcomponentWillUnmount() {\r\n\t\t\tif (this.state.item) {\r\n\t\t\t\tthis.props.actions.updateSpinner('update' + this.state.item.id, false)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (name, value) => {\r\n\t\t\tconst { objModel } = this.props\r\n\t\t\tconst { item, dirtyProps } = this.state\r\n\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[name] = value\r\n\r\n\t\t\tconst dp = dirtyProps.slice(0)\r\n\r\n\t\t\tif (dp.indexOf(name) < 0) {\r\n\t\t\t\tdp.push(name)\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\r\n\t\t}\r\n\r\n\t\treturnPropToInitialState = propName => {\r\n\t\t\tconst { objModel, actions } = this.props\r\n\t\t\tconst { dirtyProps, initialItemState, item } = this.state\r\n\t\t\tconst initialItemStateValue = initialItemState[propName]\r\n\t\t\tconst newItem = new objModel(item)\r\n\t\t\tnewItem[propName] = initialItemStateValue\r\n\r\n\t\t\tconst dp = dirtyProps.filter(dp => {\r\n\t\t\t\treturn dp !== propName\r\n\t\t\t})\r\n\r\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\r\n\t\t\t// TEMP fix, we assume that the initial values are validated\r\n\t\t\tactions.resetValidationErrors(item.id, propName)\r\n\t\t}\r\n\r\n\t\tsetActiveFields = (field, value) => {\r\n\t\t\tlet newActiveFields = { ...this.state.activeFields }\r\n\t\t\tnewActiveFields[field] = value\r\n\t\t\tthis.setState({ activeFields: newActiveFields })\r\n\t\t}\r\n\r\n\t\t//TODO: Do not save if not dirty!\r\n\t\tsave = () => {\r\n\t\t\tconst { itemType, spinner, actions } = this.props\r\n\t\t\tconst { item, dirtyProps } = this.state\r\n\r\n\t\t\tif (dirtyProps.length && !spinner) {\r\n\t\t\t\tactions.updateItem({\r\n\t\t\t\t\titemType,\r\n\t\t\t\t\titem,\r\n\t\t\t\t})\r\n\t\t\t\tthis.setState({ dirtyProps: [] })\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tisDirtyProp(prop) {\r\n\t\t\treturn this.state.item.dirtyProps.indexOf(prop) > -1\r\n\t\t}\r\n\r\n\t\thandleToggle = () => {\r\n\t\t\tconst isDemo = this.props.account._authType === 'demo'\r\n\r\n\t\t\tif (isDemo) return\r\n\r\n\t\t\tlet active = this.state.editImg\r\n\t\t\tthis.setState({ editImg: !active })\r\n\t\t}\r\n\r\n\t\tisNameValid(name) {\r\n\t\t\tconst { msg } = validName(name)\r\n\t\t\treturn !msg\r\n\t\t}\r\n\r\n\t\tvalidateTitle(name, dirty, errMsg) {\r\n\t\t\tconst { itemType, validate } = this.props\r\n\t\t\tlet schema = null\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tschema = adSlotPut.title\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tschema = adUnitPut.title\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\r\n\t\t\tconst result = Joi.validate(name, schema)\r\n\t\t\tvalidate('title', {\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tvalidateDescription(name, dirty, errMsg) {\r\n\t\t\tconst { itemType, validate } = this.props\r\n\t\t\tlet schema = null\r\n\r\n\t\t\tswitch (itemType) {\r\n\t\t\t\tcase 'AdSlot':\r\n\t\t\t\t\tschema = adSlotPut.description\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'AdUnit':\r\n\t\t\t\t\tschema = adUnitPut.description\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tconst result = Joi.validate(name, schema)\r\n\t\t\tvalidate('description', {\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\tvalidations,\r\n\t\t\t\tclasses,\r\n\t\t\t\tt,\r\n\t\t\t\taccount,\r\n\t\t\t\titemType,\r\n\t\t\t\tobjModel,\r\n\t\t\t\tmatchId,\r\n\t\t\t\tside,\r\n\t\t\t\tinvalidFields,\r\n\t\t\t\tvalidateId,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\t\t\tconst propsItem = this.props.item\r\n\r\n\t\t\tif (!propsItem) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<PageNotFound\r\n\t\t\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\r\n\t\t\t\t\t\t\targs: [itemType, matchId],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\tskipGoToButton\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\t * NOTE: using instance of the item, the instance is passes to the Unit, Slot, Channel and Campaign components,\r\n\t\t\t * in this case there is no need to make instance inside them\r\n\t\t\t */\r\n\r\n\t\t\tconst isDemo = account._authType === 'demo'\r\n\t\t\tconst item = new objModel(this.state.item || {})\r\n\t\t\tlet canEdit = itemType === 'AdSlot'\r\n\t\t\tlet imgSrc = item.temp.tempUrl || item.mediaUrl || item.fallbackMediaUrl\r\n\r\n\t\t\tconst titleErr = invalidFields['title']\r\n\t\t\tconst descriptionErr = invalidFields['description']\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Prompt\r\n\t\t\t\t\t\twhen={!!this.state.dirtyProps.length}\r\n\t\t\t\t\t\tmessage={t('UNSAVED_CHANGES_ALERT')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{itemType !== 'Campaign' && (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<ImgDialog\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\timgSrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\thandleToggle={this.handleToggle}\r\n\t\t\t\t\t\t\t\t\tactive={this.state.editImg}\r\n\t\t\t\t\t\t\t\t\tonChangeReady={this.handleChange}\r\n\t\t\t\t\t\t\t\t\tvalidateId={item._id}\r\n\t\t\t\t\t\t\t\t\twidth={\r\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgWidth ||\r\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).width\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\theight={\r\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgHeight ||\r\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).height\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttitle={t(this.props.updateImgLabel)}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t(this.props.updateImgInfoLabel)}\r\n\t\t\t\t\t\t\t\t\texact={this.props.updateImgExact}\r\n\t\t\t\t\t\t\t\t\terrMsg={this.props.updateImgErrMsg}\r\n\t\t\t\t\t\t\t\t\timgPropName='img'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{!!this.state.dirtyProps.length && (\r\n\t\t\t\t\t\t\t\t\t<div className={classes.changesLine}>\r\n\t\t\t\t\t\t\t\t\t\t<InfoOutlineIcon className={classes.buttonLeft} />\r\n\t\t\t\t\t\t\t\t\t\t<span className={classes.buttonLeft}>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('UNSAVED_CHANGES')}:\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.dirtyProps.map(p => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.changeChip}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={p}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t(p, { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonDelete={() => this.returnPropToInitialState(p)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={!!titleErr && !!titleErr.errMsg}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel>{t('title', { isProp: true })}</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateTitle(ev.target.value, true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange('title', ev.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => this.validateTitle(item.title, false)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{titleErr && titleErr.errMsg && titleErr.dirty && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(titleErr.errMsg, { args: titleErr.errMsgArgs })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={!!descriptionErr && !!descriptionErr.errMsg}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor='description'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('description', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='description'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.description || ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(ev.target.value, true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange('description', ev.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(item.description, false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{descriptionErr && !!descriptionErr.errMsg ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(descriptionErr.errMsg, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: descriptionErr.errMsgArgs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!item.description && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('NO_DESCRIPTION_YET')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\r\n\t\t\t\t\t\t\t\t\t\t{this.props.showLogo && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: 270 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.mediaRoot,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.imgContainer\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.fullName}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.img, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[classes.pointer]:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.canEditImg && !isDemo,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfabButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmini\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={!isDemo ? this.handleToggle : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<SaveBtn\r\n\t\t\t\t\t\t\t\t\tspinnerId={'update' + item.id}\r\n\t\t\t\t\t\t\t\t\tvalidationId={'update-' + validateId}\r\n\t\t\t\t\t\t\t\t\tdirtyProps={this.state.dirtyProps}\r\n\t\t\t\t\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t!this.state.dirtyProps.length ||\r\n\t\t\t\t\t\t\t\t\t\t!!Object.keys(invalidFields).length\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Decorated\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\taccount={account}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tinEdit={!!this.state.dirtyProps.length}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\t\t\ttoggleImgEdit={this.handleToggle.bind(this)}\r\n\t\t\t\t\t\t\tactiveFields={this.state.activeFields}\r\n\t\t\t\t\t\t\tsetActiveFields={this.setActiveFields.bind(this)}\r\n\t\t\t\t\t\t\tcanEdit={canEdit}\r\n\t\t\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\t\t\tisDemo={isDemo}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItem.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\titem: PropTypes.object.isRequired,\r\n\t\tspinner: PropTypes.bool,\r\n\t\titemType: PropTypes.string.isRequired,\r\n\t\tobjModel: PropTypes.func.isRequired,\r\n\t}\r\n\r\n\tconst tryGetItemByIpfs = ({ items, ipfs }) => {\r\n\t\tlet keys = Object.keys(items)\r\n\r\n\t\tfor (let index = 0; index < keys.length; index++) {\r\n\t\t\tconst key = keys[index]\r\n\t\t\tconst item = items[key]\r\n\r\n\t\t\tif (!!item && item._ipfs && !!ipfs && item._ipfs === ipfs) {\r\n\t\t\t\treturn item\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist } = state\r\n\t\t// const memory = state.memory\r\n\t\tconst items = persist.items[props.itemType]\r\n\t\tconst id = props.match.params.itemId\r\n\t\tlet item = items[id]\r\n\r\n\t\tif (!item && props.itemType !== undefined) {\r\n\t\t\titem = tryGetItemByIpfs({ items: items, ipfs: id })\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\titem: item,\r\n\t\t\tvalidateId: 'update-' + (item.id || item.ipfs),\r\n\t\t\tmatchId: id,\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(withStyles(styles)(ValidItemHoc(Translate(Item))))\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport Select from '@material-ui/core/Select'\r\nimport classnames from 'classnames'\r\nimport { styles } from './styles'\r\n\r\nclass Dropdown extends React.Component {\r\n\thandleChange = event => {\r\n\t\tthis.props.onChange(event.target.value)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\tlabel = '',\r\n\t\t\tvalue,\r\n\t\t\tsource,\r\n\t\t\thtmlId = 'some-id',\r\n\t\t\tname = '',\r\n\t\t\tdisabled = false,\r\n\t\t\terror = false,\r\n\t\t\thelperText,\r\n\t\t\t// margin = '',\r\n\t\t\tfullWidth = false,\r\n\t\t\tclassName,\r\n\t\t\trequired,\r\n\t\t} = this.props\r\n\r\n\t\t// TODO: add native renderer for mobile devices when supported\r\n\t\treturn (\r\n\t\t\t<FormControl\r\n\t\t\t\tclassName={classnames(className, classes.formControl)}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\terror={error}\r\n\t\t\t\tfullWidth={fullWidth}\r\n\t\t\t>\r\n\t\t\t\t<InputLabel htmlFor={htmlId} required={required}>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</InputLabel>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tvalue={value.id || value}\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\tinput={<Input name={name} id={htmlId} />}\r\n\t\t\t\t>\r\n\t\t\t\t\t{[...source].map(src => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\r\n\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{src.label}\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Select>\r\n\t\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\r\n\t\t\t</FormControl>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDropdown.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\tonChange: PropTypes.func.isRequired,\r\n\tvalue: PropTypes.oneOfType([\r\n\t\tPropTypes.number,\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.bool,\r\n\t]),\r\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\r\n\tdisabled: PropTypes.bool,\r\n\terror: PropTypes.bool,\r\n\thtmlId: PropTypes.string.isRequired,\r\n\tname: PropTypes.string,\r\n\tdisplayEmpty: PropTypes.bool,\r\n\thelperText: PropTypes.string,\r\n}\r\n\r\nexport default withStyles(styles)(Dropdown)\r\n","export const styles = theme => ({\r\n\tformControl: {\r\n\t\t// margin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n\tselectEmpty: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t},\r\n})\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\t// const iconButtonSize = 48 - (spacing * 2)\r\n\treturn {\r\n\t\tcontrols: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexDirection: 'row',\r\n\t\t},\r\n\t\tflexRow: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tflexItem: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\trowButton: {\r\n\t\t\tmarginTop: spacing * 1.5,\r\n\t\t\t// width: iconButtonSize,\r\n\t\t\t// height: iconButtonSize\r\n\t\t},\r\n\t\trwoButtonRoot: {\r\n\t\t\tmargin: spacing / 2,\r\n\t\t},\r\n\t\trow: {\r\n\t\t\tdisplay: 'block',\r\n\t\t},\r\n\t\tbottomControls: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t},\r\n\t\tlistRoot: {\r\n\t\t\tpaddingBottom: spacing * 1.5,\r\n\t\t\toverflowX: 'auto',\r\n\t\t},\r\n\t\tcontrolsRoot: {\r\n\t\t\tpadding: spacing * 1.5,\r\n\t\t\tpaddingBottom: spacing * 0.5,\r\n\t\t\t// marginBottom: spacing * 2\r\n\t\t},\r\n\t\tpageSize: {\r\n\t\t\twidth: '100px',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\n// import Slider from '@material-ui/core/Slider'\r\nimport classnames from 'classnames'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft'\r\nimport ChevronRight from '@material-ui/icons/ChevronRight'\r\nimport Dropdown from 'components/common/dropdown'\r\n// import Typography from '@material-ui/core/Typography'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nexport const PAGE_SIZES = [\r\n\t{ value: 5, label: 5 },\r\n\t{ value: 10, label: 10 },\r\n\t{ value: 20, label: 20 },\r\n\t{ value: 46, label: 46 },\r\n]\r\n\r\nconst pagination = props => {\r\n\tconst {\r\n\t\tpage,\r\n\t\tpages,\r\n\t\t// pageSize,\r\n\t\tclasses,\r\n\t\tgoToPrevPage,\r\n\t\tgoToNextPage,\r\n\t\tgoToPage,\r\n\t\t// changePageSize,\r\n\t\t// className,\r\n\t\tt,\r\n\t} = props\r\n\treturn (\r\n\t\t<div className={classes.flexRow}>\r\n\t\t\t{pages > 1 && (\r\n\t\t\t\t<div className={classnames(classes.flexItem, classes.flexRow)}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tlabel={t('LIST_CONTROL_LABEL_PAGE')}\r\n\t\t\t\t\t\t\thelperText={t('LIST_CONTROL_LABEL_PAGE_OF', { args: [pages] })}\r\n\t\t\t\t\t\t\tonChange={goToPage}\r\n\t\t\t\t\t\t\tsource={getAllPagedValues(page, pages)}\r\n\t\t\t\t\t\t\tvalue={page + ''}\r\n\t\t\t\t\t\t\thtmlId='page-size-select'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tdisabled={!(page > 0 && pages > page)}\r\n\t\t\t\t\t\tonClick={goToPrevPage}\r\n\t\t\t\t\t\tclassName={classes.rowButton}\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ChevronLeft />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tdisabled={!(page < pages - 1)}\r\n\t\t\t\t\t\tonClick={goToNextPage}\r\n\t\t\t\t\t\tclassName={classes.rowButton}\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ChevronRight />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{/* <div\r\n\t\t\t\tclassName={classnames(classes.flexItem, classes.pageSize)}\r\n\t\t\t>\r\n\t\t\t\t<Typography noWrap id=\"page-size\">{t('LIST_CONTROL_LABEL_PAGE_SIZE')} <strong>{pageSize}</strong> </Typography>\r\n\t\t\t\t<Slider style={{ padding: '22px 0' }} aria-labelledby=\"page-size\" min={5} max={25} step={5} value={pageSize} onChange={changePageSize} />\r\n\t\t\t</div> */}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const Pagination = withStyles(styles)(pagination)\r\n\r\nconst getAllPagedValues = (current, max) => {\r\n\t// let pages = {}\r\n\r\n\t// for (var index = 0; index < max; index++) {\r\n\t//     pages[index + ''] = index + 1 + ''\r\n\t// }\r\n\r\n\tlet pages = []\r\n\r\n\tfor (var index = 0; index < max; index++) {\r\n\t\tpages.push({ value: index + '', label: index + 1 + '' })\r\n\t}\r\n\r\n\treturn pages\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport Input from '@material-ui/core/Input'\r\nimport { Pagination } from './Controls'\r\nimport Translate from 'components/translate/Translate'\r\n// import classnames from 'classnasmes'\r\n// import Radio from '@material-ui/core/Radio'\r\n// import RadioGroup from '@material-ui/core/RadioGroup'\r\n// import FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward'\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport classnames from 'classnames'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport { bigNumberify } from 'ethers/utils'\r\n\r\nconst INT_STRING = /^[0-9]+$/\r\nconst PAGE_SIZE = 50\r\n\r\nconst mapFilterProps = ({ filterProps = {}, t }) => {\r\n\treturn Object.keys(filterProps).map(key => {\r\n\t\tconst prop = filterProps[key]\r\n\t\tconst label = prop.label || key\r\n\t\treturn {\r\n\t\t\tlabel: t(label, {\r\n\t\t\t\tisProp: prop.labelIsProp || !prop.label,\r\n\t\t\t\targs: prop.labelArgs || [],\r\n\t\t\t}),\r\n\t\t\tvalue: key,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst mapSortProperties = ({ sortProps = [], t }) => {\r\n\treturn sortProps.map(prop => {\r\n\t\tconst label = prop.label || prop.value\r\n\t\tconst value = (prop.value !== null && prop.value !== undefined\r\n\t\t\t? prop.value\r\n\t\t\t: ''\r\n\t\t).toString()\r\n\r\n\t\treturn {\r\n\t\t\tvalue,\r\n\t\t\tlabel: t(label, { isProp: !prop.label, args: prop.labelArgs || [] }),\r\n\t\t}\r\n\t})\r\n}\r\n\r\nclass ListWithControls extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context)\r\n\r\n\t\tconst uiStateId = props.uiStateId\r\n\r\n\t\tconst sortProperties = mapSortProperties({\r\n\t\t\tsortProps: props.sortProperties || [{}],\r\n\t\t\tt: props.t,\r\n\t\t})\r\n\t\t// TODO: update on ComponentWillReceiveProps\r\n\t\tthis.state = {\r\n\t\t\titems: [],\r\n\t\t\tpage: 0, //\r\n\t\t\tsearch: '', //\r\n\t\t\tsortProperties: sortProperties,\r\n\t\t\tfilterProperties: mapFilterProps({\r\n\t\t\t\tfilterProps: props.filterProperties,\r\n\t\t\t\tt: props.t,\r\n\t\t\t}),\r\n\t\t\tfilteredItems: [],\r\n\t\t\tfilterBy: '', //\r\n\t\t\tfilterByValues: [],\r\n\t\t\tfilterByValueFilter: '', //\r\n\t\t\tuiStateId: uiStateId,\r\n\t\t}\r\n\t}\r\n\r\n\tgoToPage(page) {\r\n\t\tthis.setState({ page: parseInt(page, 10) })\r\n\t}\r\n\r\n\thandleChange = (name, value) => {\r\n\t\tlet newStateValue = { [name]: value }\r\n\t\tif (name === 'search') newStateValue.page = 0\r\n\t\tif (name === 'filterBy') {\r\n\t\t\tnewStateValue.filterByValues = [{ label: 'ALL', value: '' }].concat(\r\n\t\t\t\tthis.props.filterProperties[value].values\r\n\t\t\t)\r\n\t\t\tnewStateValue.filterByValueFilter = ''\r\n\t\t}\r\n\t\tthis.setState(newStateValue)\r\n\t}\r\n\r\n\t// For changing redux state\r\n\thandleChangeRxState = (name, value) => {\r\n\t\tthis.props.actions.updateUi(name, value, this.state.uiStateId)\r\n\t}\r\n\r\n\tchangePageSize = (\r\n\t\tname,\r\n\t\t{ itemsLength, page, pages } = {},\r\n\t\tev,\r\n\t\tnewPageSize\r\n\t) => {\r\n\t\t/*\r\n    \tlet currentPageSize = this.props.pageSize\r\n    \tlet currentFirstIndex = page * currentPageSize // To have at least the first item on current page on the next page\r\n\t\tlet nextPage = Math.floor(currentFirstIndex / newPageSize)\r\n\t\t*/\r\n\t\tthis.props.actions.updateUi('pageSize', newPageSize, this.state.uiStateId)\r\n\t}\r\n\r\n\tsearch = ({ item, search, searchMatch }) => {\r\n\t\tconst regex = new RegExp(search, 'i')\r\n\t\tlet matchString = null\r\n\t\tif (typeof searchMatch === 'function') {\r\n\t\t\tmatchString = searchMatch(item)\r\n\t\t} else if (typeof searchMatch === 'string' && !!searchMatch) {\r\n\t\t\tmatchString = searchMatch\r\n\t\t} else {\r\n\t\t\tmatchString = (item.title || '') + (item.description || '')\r\n\t\t}\r\n\r\n\t\tconst match = regex.exec(matchString)\r\n\t\treturn !!match\r\n\t}\r\n\r\n\tfilterItems = ({\r\n\t\titems,\r\n\t\tsearch,\r\n\t\tsortProperty,\r\n\t\tsortOrder,\r\n\t\tpage,\r\n\t\tpageSize,\r\n\t\tsearchMatch,\r\n\t\tfilterBy,\r\n\t\tfilterArchived,\r\n\t}) => {\r\n\t\t// TODO: optimize filter\r\n\t\t// TODO: maybe filter deleted before this?\r\n\t\tlet filtered = (items || []).filter(i => {\r\n\t\t\tconst isItem = !!i && (i.id || i.ipfs)\r\n\t\t\tif (!isItem) return isItem\r\n\r\n\t\t\tif (\r\n\t\t\t\tfilterArchived !== '' &&\r\n\t\t\t\ti.archived !== undefined &&\r\n\t\t\t\tfilterArchived.toString() !== i.archived.toString()\r\n\t\t\t) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\r\n\t\t\tif (filterBy && filterBy.key && filterBy.value) {\r\n\t\t\t\tlet itemValue =\r\n\t\t\t\t\tfilterBy.key.split('.').reduce((o, p) => (o ? o[p] : 'noprop'), i) ||\r\n\t\t\t\t\t''\r\n\r\n\t\t\t\tlet passFilter = itemValue.toString() === filterBy.value.toString()\r\n\r\n\t\t\t\tif (!passFilter) {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet hasSearch = !!search\r\n\t\t\tif (!hasSearch) return isItem\r\n\r\n\t\t\treturn this.search({ item: i, search, searchMatch })\r\n\t\t})\r\n\r\n\t\tif (sortProperty) {\r\n\t\t\tfiltered = filtered.sort((a, b) => {\r\n\t\t\t\tlet propA = a[sortProperty]\r\n\t\t\t\tlet propB = b[sortProperty]\r\n\r\n\t\t\t\tif (INT_STRING.test(propA) && INT_STRING.test(propB)) {\r\n\t\t\t\t\tpropA = bigNumberify(propA)\r\n\t\t\t\t\tpropB = bigNumberify(propB)\r\n\t\t\t\t\treturn (propA.lt(propB) ? -1 : propA.gt(propB) ? 1 : 0) * sortOrder\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (propA < propB ? -1 : propA > propB ? 1 : 0) * sortOrder\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tlet filteredLength = filtered.length\r\n\r\n\t\tlet maxPages = Math.ceil(filteredLength / pageSize)\r\n\r\n\t\tlet paged = filtered.slice(page * pageSize, page * pageSize + pageSize)\r\n\r\n\t\treturn {\r\n\t\t\titems: paged,\r\n\t\t\tpage: page,\r\n\t\t\tpages: maxPages,\r\n\t\t\titemsLength: filteredLength,\r\n\t\t\tpageSize: pageSize,\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet data = this.filterItems({\r\n\t\t\titems: this.props.items,\r\n\t\t\tsearch: this.state.search,\r\n\t\t\tsortProperty:\r\n\t\t\t\tthis.props.sortProperty || this.state.sortProperties[0].value,\r\n\t\t\tsortOrder: this.props.sortOrder || -1,\r\n\t\t\tpage: this.state.page,\r\n\t\t\tpageSize: PAGE_SIZE, // this.props.pageSize || 10,\r\n\t\t\tsearchMatch: this.props.searchMatch,\r\n\t\t\tfilterBy: {\r\n\t\t\t\tkey: this.state.filterBy,\r\n\t\t\t\tvalue: this.state.filterByValueFilter,\r\n\t\t\t},\r\n\t\t\tfilterArchived: this.props.filterArchived || 'false',\r\n\t\t})\r\n\r\n\t\tlet items = data.items\r\n\t\tlet renderItems\r\n\r\n\t\trenderItems = this.props.renderRows\r\n\r\n\t\tconst { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<Paper>\r\n\t\t\t\t<div className={classes.controlsRoot}>\r\n\t\t\t\t\t<div className={classes.controls}>\r\n\t\t\t\t\t\t<FormControl className={classnames(classes.flexItem)}>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor='search'>\r\n\t\t\t\t\t\t\t\t{t('LIST_CONTROL_LABEL_SEARCH')}\r\n\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tname='search'\r\n\t\t\t\t\t\t\t\tid='search'\r\n\t\t\t\t\t\t\t\tvalue={this.state.search}\r\n\t\t\t\t\t\t\t\tonChange={ev => this.handleChange('search', ev.target.value)}\r\n\t\t\t\t\t\t\t\tstartAdornment={\r\n\t\t\t\t\t\t\t\t\t<InputAdornment position='start'>\r\n\t\t\t\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<div className={classnames(classes.flexRow, classes.flexItem)}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\tlabel={t('LIST_CONTROL_LABEL_SORT')}\r\n\t\t\t\t\t\t\t\tonChange={this.handleChangeRxState.bind(this, 'sortProperty')}\r\n\t\t\t\t\t\t\t\tsource={this.state.sortProperties}\r\n\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\tthis.props.sortProperty || this.state.sortProperties[0].value\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\thtmlId='sort-by-prop'\r\n\t\t\t\t\t\t\t\tname='sortProperty'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tcolor={this.props.sortOrder === 1 ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\tonClick={this.handleChangeRxState.bind(this, 'sortOrder', 1)}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.rowButton}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ArrowUpwardIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tcolor={this.props.sortOrder === -1 ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\tonClick={this.handleChangeRxState.bind(this, 'sortOrder', -1)}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.rowButton}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<ArrowDownwardIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{/* {this.props.filterProperties &&\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={classnames(classes.flexRow)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tclassName={classnames(classes.flexItem)}\r\n\t\t\t\t\t\t\t\t\tauto\r\n\t\t\t\t\t\t\t\t\tlabel={t('LIST_CONTROL_LABEL_FILTER_BY')}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange.bind(this, 'filterBy')}\r\n\t\t\t\t\t\t\t\t\tsource={this.state.filterProperties}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.filterBy !== null ? this.state.filterBy.toString() : ''}\r\n\t\t\t\t\t\t\t\t\thtmlId='filter-by-prop-dd'\r\n\t\t\t\t\t\t\t\t\tname='filterBy'\r\n\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tclassName={classnames(classes.flexItem)}\r\n\t\t\t\t\t\t\t\t\tauto\r\n\t\t\t\t\t\t\t\t\tlabel={t('LIST_CONTROL_LABEL_FILTER_BY_VALUE')}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange.bind(this, 'filterByValueFilter')}\r\n\t\t\t\t\t\t\t\t\tsource={mapSortProperties({ sortProps: this.state.filterByValues, t: this.props.t })}\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.filterByValueFilter !== null ? this.state.filterByValueFilter.toString() : ''}\r\n\t\t\t\t\t\t\t\t\thtmlId='filter-by-value-dd'\r\n\t\t\t\t\t\t\t\t\tname='filterByValueFilter'\r\n\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\tdisabled={!this.state.filterBy}\r\n\t\t\t\t\t\t\t\t\thelperText={t('HELPER_TXT_FILTER_BY_VALUE')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t} */}\r\n\r\n\t\t\t\t\t\t{/* {this.props.archive &&\r\n\t\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\t\tname='archived'\r\n\t\t\t\t\t\t\t\tvalue={typeof this.props.filterArchived === 'string' ? this.props.filterArchived.toString() : 'false'}\r\n\t\t\t\t\t\t\t\tonChange={(ev) => this.handleChangeRxState('filterArchived', ev.target.value)}\r\n\t\t\t\t\t\t\t\tclassName={classnames(classes.flexRow, classes.flexItem)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FormControlLabel value='false' control={<Radio color='primary' />} label={t('LABEL_ACTIVE')} />\r\n\t\t\t\t\t\t\t\t<FormControlLabel value='true' control={<Radio color='primary' />} label={t('LABEL_ARCHIVED')} />\r\n\t\t\t\t\t\t\t\t<FormControlLabel value='' control={<Radio color='primary' />} label={t('LABEL_ALL')} />\r\n\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t} */}\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={classnames(classes.controls, classes.bottomControls)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tpage={data.page}\r\n\t\t\t\t\t\t\t\tpages={data.pages}\r\n\t\t\t\t\t\t\t\tpageSize={PAGE_SIZE || this.props.pageSize || 10}\r\n\t\t\t\t\t\t\t\titemsLength={data.itemsLength}\r\n\t\t\t\t\t\t\t\tgoToPage={this.goToPage.bind(this)}\r\n\t\t\t\t\t\t\t\tgoToLastPage={this.goToPage.bind(this, data.pages - 1)}\r\n\t\t\t\t\t\t\t\tgoToNextPage={this.goToPage.bind(this, data.page + 1)}\r\n\t\t\t\t\t\t\t\tgoToFirstPage={this.goToPage.bind(this, 0)}\r\n\t\t\t\t\t\t\t\tgoToPrevPage={this.goToPage.bind(this, data.page - 1)}\r\n\t\t\t\t\t\t\t\tchangePageSize={this.changePageSize.bind(this, 'pageSize', {\r\n\t\t\t\t\t\t\t\t\tpage: data.page,\r\n\t\t\t\t\t\t\t\t\tpages: data.pages,\r\n\t\t\t\t\t\t\t\t\titemsLength: data.itemsLength,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<div className={classnames(classes.listRoot)}>{renderItems(items)}</div>\r\n\t\t\t</Paper>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nListWithControls.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\trowsView: PropTypes.bool.isRequired,\r\n\titemRenderer: PropTypes.func,\r\n\tside: PropTypes.string.isRequired,\r\n\tobjModel: PropTypes.func,\r\n\tsortProperties: PropTypes.array.isRequired,\r\n\tfilterProperties: PropTypes.object,\r\n\tuiStateId: PropTypes.string.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst persist = state.persist\r\n\tconst memory = state.memory\r\n\r\n\t// TODO: A little hacky, maybe find a better way\r\n\t// Gets the last path in URL. ex: https://localhost:3000/dashboard/publisher/slots -> slots\r\n\tconst uiStateId = props.uiStateId || 'default'\r\n\treturn {\r\n\t\trowsView: !!persist.ui[props.viewModeId],\r\n\t\tpageSize: persist.ui[uiStateId]\r\n\t\t\t? persist.ui[uiStateId]['pageSize'] || 10\r\n\t\t\t: 10,\r\n\t\tsortProperty: persist.ui[uiStateId]\r\n\t\t\t? persist.ui[uiStateId]['sortProperty']\r\n\t\t\t: null,\r\n\t\tsortOrder: persist.ui[uiStateId]\r\n\t\t\t? persist.ui[uiStateId]['sortOrder'] || -1\r\n\t\t\t: -1,\r\n\t\tfilterArchived: persist.ui[uiStateId]\r\n\t\t\t? persist.ui[uiStateId]['filterArchived'] || false\r\n\t\t\t: false,\r\n\t\tside: memory.nav.side,\r\n\t\taccount: persist.account,\r\n\t\tsortProperties: props.sortProperties || [],\r\n\t\tfilterProperties: props.filterProperties,\r\n\t\tuiStateId: uiStateId,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(ListWithControls)))\r\n","import React, { Component } from 'react'\r\nimport Table from '@material-ui/core/Table'\r\nimport TableBody from '@material-ui/core/TableBody'\r\n\r\nclass Rows extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context)\r\n\r\n\t\tthis.state = {\r\n\t\t\t// TODO: maybe in the store?\r\n\t\t\tselected: [],\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\t// Reset selected\r\n\t\t// TODO: make better check because this will always  return true\r\n\t\tif (nextProps.rows !== this.props.rows) {\r\n\t\t\tthis.setState({ selected: [] })\r\n\t\t}\r\n\t}\r\n\r\n\thandleRowSelect = selected => {\r\n\t\tlet newSelected = selected.map(index => this.props.rows[index].id)\r\n\t\tthis.setState({ selected: newSelected })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { side, rows, padding, itemType, size } = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Table size={size || 'small'} padding={padding || 'default'}>\r\n\t\t\t\t\t{this.props.tableHeadRenderer({ selected: this.state.selected })}\r\n\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t{rows.map((u, i) => {\r\n\t\t\t\t\t\t\tlet to = `/dashboard/${side}/${itemType}/${u.id || u.ipfs}`\r\n\t\t\t\t\t\t\tlet selected = this.state.selected.indexOf(u.id) !== -1\r\n\t\t\t\t\t\t\treturn this.props.rowRenderer(u, i, { to, selected, itemType })\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t</Table>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Rows\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Stepper } from 'react-step/lib/stepper'\r\nimport { withStepper } from 'react-step/lib/with-stepper'\r\nimport StepperMUI from '@material-ui/core/Stepper'\r\nimport MobileStepper from '@material-ui/core/MobileStepper'\r\nimport Step from '@material-ui/core/Step'\r\nimport StepLabel from '@material-ui/core/StepLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\nimport Paper from '@material-ui/core/Paper'\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\r\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\r\n\t\t\t\t</StepLabel>\r\n\t\t\t\t<MobileStepper\r\n\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\tsteps={pages.length}\r\n\t\t\t\t\tposition={'static'}\r\n\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t></MobileStepper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\r\n\t\t\t{pages.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title}>\r\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nclass MaterialStepper extends React.Component {\r\n\t// onComplete() {\r\n\t//     // console.log('currPage', this.currPage)\r\n\t//     let props = this.props\r\n\t//     let page = props.pages[props.currentPage]\r\n\r\n\t//     // console.log('props.pages[props.currentPage]', page.component)\r\n\t// }\r\n\r\n\tgoToPage(nextStep) {\r\n\t\tlet canAdvance =\r\n\t\t\tnextStep > this.props.currentPage && this.canAdvanceNextToPage()\r\n\t\tlet canGoBack = nextStep < this.props.currentPage\r\n\r\n\t\tif (canAdvance || canGoBack) {\r\n\t\t\tthis.props.setPageIndex(nextStep)\r\n\t\t}\r\n\t}\r\n\r\n\tcanAdvanceNextToPage() {\r\n\t\t/* TODO: add check for optional steps that can be skipped\r\n\t\t */\r\n\t\tlet page = this.props.pages[this.props.currentPage]\r\n\t\tif (\r\n\t\t\tthis.props.canAdvance &&\r\n\t\t\t!Object.keys(this.props.validations[page.props.validateId] || {}).length\r\n\t\t) {\r\n\t\t\treturn true\r\n\t\t} else {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\tisValidPage() {\r\n\t\tlet page = this.props.pages[this.props.currentPage]\r\n\t\treturn !Object.keys(this.props.validations[page.props.validateId] || {})\r\n\t\t\t.length\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { pages, component, validations, currentPage, t, classes, ...props } = {\r\n\t\t\t...this.props,\r\n\t\t}\r\n\t\tlet page = pages[currentPage]\r\n\t\tlet Comp = page.component\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Paper>\r\n\t\t\t\t\t<StepperNav\r\n\t\t\t\t\t\tclassName={classes.stepperNav}\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\tpages={pages}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\t\tgoToPage={this.goToPage.bind(this)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.pagePaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={classes.pageContent}>{<Comp {...page.props} />}</div>\r\n\r\n\t\t\t\t\t<div className={classes.controls}>\r\n\t\t\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t\t\t{props.canReverse ? (\r\n\t\t\t\t\t\t\t\t<Button onClick={() => props.setPageIndex(currentPage - 1)}>\r\n\t\t\t\t\t\t\t\t\t{t('BACK')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\r\n\t\t\t\t\t\t\t{page.cancelBtn ? <page.cancelBtn /> : null}\r\n\t\t\t\t\t\t\t{this.canAdvanceNextToPage() && !page.completeBtn ? (\r\n\t\t\t\t\t\t\t\t<Button onClick={this.goToPage.bind(this, currentPage + 1)}>\r\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) : !page.completeBtn ? (\r\n\t\t\t\t\t\t\t\t<Button label='Continue' disabled>\r\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{page.completeBtn && this.isValidPage() ? (\r\n\t\t\t\t\t\t\t\t<page.completeBtn />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst WithMaterialStepper = withStepper(\r\n\twithStyles(styles)(Translate(MaterialStepper))\r\n)\r\n\r\nclass MyMaterialStepper extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Stepper pages={this.props.pages} style={{ display: 'block' }}>\r\n\t\t\t\t<WithMaterialStepper\r\n\t\t\t\t\titemType={this.props.itemType}\r\n\t\t\t\t\tvalidations={this.props.validations}\r\n\t\t\t\t/>\r\n\t\t\t</Stepper>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nMyMaterialStepper.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tpages: PropTypes.array.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tlet persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tvalidations: memory.validations,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(MyMaterialStepper)\r\n","export const styles = {\r\n\troot: {\r\n\t\tcolor: 'purple',\r\n\t\t'&$active': {\r\n\t\t\tcolor: 'green',\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tcolor: 'yellow',\r\n\t},\r\n\tpagePaper: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\ttop: 115,\r\n\t},\r\n\tpageContent: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 20,\r\n\t\tleft: 20,\r\n\t\tright: 20,\r\n\t\tbottom: 50,\r\n\t\tpadding: 20,\r\n\t\toverflowY: 'auto',\r\n\t\toverflowX: 'hidden',\r\n\t\tWebkitOverflowScrolling: 'touch',\r\n\t\t'@media(max-width:500px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t},\r\n\t},\r\n\tcontrols: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 5,\r\n\t\tleft: 20,\r\n\t\tright: 20,\r\n\t},\r\n\tright: {\r\n\t\ttextAlign: 'right',\r\n\t\tdisplay: 'inline-block',\r\n\t\twidth: '50%',\r\n\t\t'@media(max-width:475px)': {\r\n\t\t\twidth: '86%',\r\n\t\t},\r\n\t},\r\n\tleft: {\r\n\t\tdisplay: 'inline-block',\r\n\t\ttextAlign: 'left',\r\n\t\twidth: '50%',\r\n\t\t'@media(max-width:475px)': {\r\n\t\t\twidth: '14%',\r\n\t\t},\r\n\t},\r\n\tmobileStepper: {\r\n\t\twidth: '100%',\r\n\t\t'& div': {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '10px',\r\n\t\t},\r\n\t},\r\n\tmobileStepLabel: {\r\n\t\t'& span': {\r\n\t\t\tfontSize: '24px',\r\n\t\t\tmargin: '14px auto',\r\n\t\t},\r\n\t\ttextAlign: 'center',\r\n\t\twidth: 'auto',\r\n\t},\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n// import { connect } from 'react-redux'\r\n// import { bindActionCreators } from 'redux'\r\n// import actions from 'actions'\r\nimport MaterialStepper from 'components/dashboard/forms/stepper/MaterialUiStepper'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nclass FormSteps extends Component {\r\n\tshouldComponentUpdate(nextProps) {\r\n\t\treturn JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst pages = []\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tSaveBtn,\r\n\t\t\tCancelBtn,\r\n\t\t\tonSave,\r\n\t\t\tstepsId,\r\n\t\t\tstepsPages,\r\n\t\t\tstepsPreviewPage,\r\n\t\t\tvalidateIdBase,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\tconst cancelButton = () => (\r\n\t\t\t<CancelBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t)\r\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\r\n\r\n\t\tstepsPages.forEach((page, index) => {\r\n\t\t\tpages.push({\r\n\t\t\t\ttitle: t(page.title),\r\n\t\t\t\tcancelBtn: cancelButton,\r\n\t\t\t\tcomponent: ValidItemHoc(page.page || page),\r\n\t\t\t\tprops: { ...this.props, stepsId, validateId: validateId + '-' + index },\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\tpages.push({\r\n\t\t\ttitle: t(stepsPreviewPage.title || 'PREVIEW'),\r\n\t\t\tcompleteBtn: () => (\r\n\t\t\t\t<SaveBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t\t),\r\n\t\t\tcancelBtn: cancelButton,\r\n\t\t\tcomponent: ValidItemHoc(stepsPreviewPage.page || stepsPreviewPage),\r\n\t\t\tprops: {\r\n\t\t\t\t...this.props,\r\n\t\t\t\tvalidateId: validateId + '-' + stepsPages.length,\r\n\t\t\t},\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t// <div style={{ textAlign: 'left' }}>\r\n\t\t\t<MaterialStepper pages={pages} />\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nFormSteps.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\titemPages: PropTypes.arrayOf(PropTypes.func),\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsPages: PropTypes.arrayOf(PropTypes.object),\r\n}\r\n\r\nexport default Translate(FormSteps)\r\n","import grey from '@material-ui/core/colors/grey'\r\n\r\nexport const styles = theme => {\r\n\tconst spacing = theme.spacing(3)\r\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\r\n\treturn {\r\n\t\tdialog: {\r\n\t\t\tminHeight: `${fullHeight}px`,\r\n\t\t\tminWidth: 1024,\r\n\t\t\tmaxWidth: 1080,\r\n\t\t\tbackgroundColor: grey[200], // TODO: color,\r\n\t\t\t// maxHeight: `${fullHeight}`,\r\n\t\t\t'@media(max-width:1080px)': {\r\n\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n\t\t\t},\r\n\t\t\t'@media(max-height:823px)': {\r\n\t\t\t\tminHeight: `calc(${fullHeight} - ${theme.spacing(2)}px)`,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdialogTitle: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\twordWrap: 'break-word',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t\toverflowY: 'auto',\r\n\t\t},\r\n\t\tcontentBox: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 0,\r\n\t\t\t// left: 0,\r\n\t\t\t// bottom: 0,\r\n\t\t\t// right: 0,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t},\r\n\t\tpropRow: {\r\n\t\t\tmargin: '10px 0',\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\tcontentBody: {\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tcontentTopLoadingCircular: {\r\n\t\t\tflexShrink: 0,\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tcontentTopLoading: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\t'& > div': {\r\n\t\t\t\tpadding: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t\ttextBtn: {\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tbtnIconLeft: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tleftCol: {\r\n\t\t\ttextTransform: 'uppercase',\r\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\r\n\t\t\ttextAlign: 'right',\r\n\t\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\t\ttextAlign: 'left',\r\n\t\t\t},\r\n\t\t},\r\n\t\trightCol: {\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tprogressCircleCenter: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 30px)',\r\n\t\t\ttop: 'calc(50% - 30px)',\r\n\t\t},\r\n\t\tfloating: {\r\n\t\t\tposition: 'fixed',\r\n\t\t\ttop: 86,\r\n\t\t\tright: 40,\r\n\t\t\tzIndex: theme.zIndex.appBar,\r\n\t\t},\r\n\t\tbreakLong: {\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\toverflowWrap: 'break-word',\r\n\t\t\thyphens: 'auto',\r\n\t\t},\r\n\t\tdemoImg: {\r\n\t\t\ttop: 'auto',\r\n\t\t\tleft: 'auto',\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\twidth: '100px',\r\n\t\t\theight: 'auto',\r\n\t\t\tposition: 'absolute',\r\n\t\t},\r\n\t\tdemoBody: {\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { CircularProgress } from '@material-ui/core'\r\nimport { styles } from './styles.js'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\n// TODO: fix responsive styles\r\nconst propRow = ({\r\n\tclasses,\r\n\tleft,\r\n\tright,\r\n\tclassName,\r\n\tclassNameLeft,\r\n\tclassNameRight,\r\n\tstyle = {},\r\n}) => (\r\n\t<Grid\r\n\t\titem\r\n\t\tcontainer\r\n\t\tspacing={2}\r\n\t\txs={12}\r\n\t\tclassName={classnames(className)}\r\n\t\tstyle={style}\r\n\t>\r\n\t\t<Grid\r\n\t\t\titem\r\n\t\t\txs={12}\r\n\t\t\tsm={4}\r\n\t\t\tlg={3}\r\n\t\t\tclassName={classnames(classes.leftCol, classes.uppercase, classNameLeft)}\r\n\t\t>\r\n\t\t\t{left}\r\n\t\t</Grid>\r\n\t\t<Grid\r\n\t\t\titem\r\n\t\t\txs={12}\r\n\t\t\tsm={8}\r\n\t\t\tlg={9}\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tclasses.rightCol,\r\n\t\t\t\tclasses.breakLong,\r\n\t\t\t\tclassNameRight\r\n\t\t\t)}\r\n\t\t>\r\n\t\t\t{right}\r\n\t\t</Grid>\r\n\t</Grid>\r\n)\r\n\r\nconst contentBox = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentBox, className)}>{children}</div>\r\n)\r\n\r\nconst contentBody = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentBody, className)}>{children}</div>\r\n)\r\n\r\nconst contentStickyTop = ({ classes, children, className }) => (\r\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\r\n)\r\n\r\nconst topLoading = ({ classes, msg, className }) => (\r\n\t<div className={classnames(classes.contentTopLoading)}>\r\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\r\n\t\t<div> {msg} </div>\r\n\t</div>\r\n)\r\n\r\nconst fullContentSpinner = ({ classes }) => (\r\n\t<CircularProgress\r\n\t\tclassName={classnames(classes.progressCircleCenter)}\r\n\t\tsize={50}\r\n\t/>\r\n)\r\n\r\nexport const PropRow = withStyles(styles)(propRow)\r\nexport const ContentBox = withStyles(styles)(contentBox)\r\nexport const ContentBody = withStyles(styles)(contentBody)\r\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\r\nexport const TopLoading = withStyles(styles)(topLoading)\r\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\r\n","import React, { Component, Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport classnames from 'classnames'\r\nimport Translate from 'components/translate/Translate'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n} from 'components/common/dialog/content'\r\nimport { logOut, isDemoMode } from 'services/store-data/auth'\r\nimport DEMO_IMAGE from 'resources/rekt-eddie.png'\r\nimport Img from 'components/common/img/Img'\r\n\r\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName={classnames(classes.textBtn, className)}\r\n\t\t\tstyle={style}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t{' '}\r\n\t\t\t{label}{' '}\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nconst TextBtn = withStyles(styles)(textBtn)\r\n\r\nconst Transition = props => {\r\n\treturn <Slide direction='up' {...props} />\r\n}\r\n\r\nexport default function ItemHoc(Decorated) {\r\n\tclass WithDialog extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.state = {\r\n\t\t\t\topen: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\t\tconst shouldUpdate =\r\n\t\t\t\tthis.state.open !== nextState.open ||\r\n\t\t\t\tJSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\r\n\t\t\treturn shouldUpdate\r\n\t\t}\r\n\r\n\t\thandleToggle = async () => {\r\n\t\t\tconst { onBeforeOpen } = this.props\r\n\t\t\tif (typeof onBeforeOpen === 'function' && !this.state.open) {\r\n\t\t\t\tawait onBeforeOpen()\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({ open: !this.state.open })\r\n\t\t}\r\n\r\n\t\tcloseDialog = () => {\r\n\t\t\tthis.setState({ open: false })\r\n\t\t}\r\n\r\n\t\trenderDemoModeAction = () => {\r\n\t\t\tconst { classes, t } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<ContentBox>\r\n\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t{t('DEMO_MODE_ACTION_DESCRIPTION')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button onClick={logOut} variant='contained' color='primary'>\r\n\t\t\t\t\t\t\t\t{t('DEMO_GO_AUTH_BTN')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tclassName={classes.demoImg}\r\n\t\t\t\t\t\t\t\tallowFullscreen={false}\r\n\t\t\t\t\t\t\t\tsrc={DEMO_IMAGE}\r\n\t\t\t\t\t\t\t\talt={'Demo image'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ContentBody>\r\n\t\t\t\t</ContentBox>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst {\r\n\t\t\t\ticonButton,\r\n\t\t\t\ttextButton,\r\n\t\t\t\tfabButton,\r\n\t\t\t\tvariant,\r\n\t\t\t\tfabVariant,\r\n\t\t\t\tcolor,\r\n\t\t\t\tsize,\r\n\t\t\t\tmini,\r\n\t\t\t\tclasses,\r\n\t\t\t\tt,\r\n\t\t\t\tbtnLabelArgs,\r\n\t\t\t\tdisabled,\r\n\t\t\t\tclassName,\r\n\t\t\t\ticon,\r\n\t\t\t\ttitle,\r\n\t\t\t\tdialogActions,\r\n\t\t\t\tonClick,\r\n\t\t\t\t...rest\r\n\t\t\t} = this.props\r\n\r\n\t\t\tlet ButtonComponent = Button\r\n\r\n\t\t\tconst btnProps = {\r\n\t\t\t\tcolor,\r\n\t\t\t\tsize,\r\n\t\t\t\tmini,\r\n\t\t\t\tvariant,\r\n\t\t\t}\r\n\r\n\t\t\tif (iconButton) {\r\n\t\t\t\tButtonComponent = IconButton\r\n\t\t\t} else if (textButton) {\r\n\t\t\t\tButtonComponent = TextBtn\r\n\t\t\t} else if (fabButton) {\r\n\t\t\t\tButtonComponent = Fab\r\n\t\t\t}\r\n\r\n\t\t\tconst btnLabel = t(this.props.btnLabel, { args: btnLabelArgs || [''] })\r\n\t\t\tconst isDemo = isDemoMode()\r\n\r\n\t\t\tconst { open } = this.state\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<ButtonComponent\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\taria-label={btnLabel}\r\n\t\t\t\t\t\tlabel={btnLabel}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tthis.handleToggle()\r\n\t\t\t\t\t\t\tif (onClick) onClick()\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t{...btnProps}\r\n\t\t\t\t\t\t// style={this.props.style}\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\r\n\t\t\t\t\t\t\t{ [classes.first]: color === 'first' },\r\n\t\t\t\t\t\t\t{ [classes.second]: color === 'second' }\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{icon && (\r\n\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\tclassName={classnames({ [classes.btnIconLeft]: !iconButton })}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{icon}\r\n\t\t\t\t\t\t\t</Icon>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{!iconButton && btnLabel}\r\n\t\t\t\t\t</ButtonComponent>\r\n\t\t\t\t\t<Dialog\r\n\t\t\t\t\t\t// disableBackdropClick\r\n\t\t\t\t\t\t// disableEscapeKeyDown\r\n\t\t\t\t\t\t// maxWidth=\"xs\"\r\n\t\t\t\t\t\t// fullScreen\r\n\t\t\t\t\t\topen={open}\r\n\t\t\t\t\t\tonClose={this.handleToggle}\r\n\t\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\t\tclasses={{ paper: classes.dialog }}\r\n\t\t\t\t\t\t// onEscKeyDown={this.handleToggle}\r\n\t\t\t\t\t\t// onOverlayClick={this.handleToggle}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* <AppBar className={classes.appBar}>\r\n                            <Toolbar> */}\r\n\t\t\t\t\t\t<DialogTitle disableTypography>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tvariant='subtitle1'\r\n\t\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(title)}\r\n\t\t\t\t\t\t\t\t<IconButton onClick={this.handleToggle}>\r\n\t\t\t\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t\t{/* </Toolbar>\r\n                        </AppBar> */}\r\n\t\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\r\n\t\t\t\t\t\t\t{isDemo ? (\r\n\t\t\t\t\t\t\t\t// NOTE: ugly but it's temp and saves a lot of work!\r\n\t\t\t\t\t\t\t\tthis.renderDemoModeAction()\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Decorated {...rest} closeDialog={this.closeDialog} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\r\n\t\t\t\t\t</Dialog>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tWithDialog.propTypes = {\r\n\t\tbtnLabel: PropTypes.string.isRequired,\r\n\t\ttitle: PropTypes.string.isRequired,\r\n\t\tfloating: PropTypes.bool,\r\n\t\tonBeforeOpen: PropTypes.func,\r\n\t}\r\n\r\n\treturn Translate(withStyles(styles)(WithDialog))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdUnit } from 'adex-models'\r\n\r\nexport default function NewAdUnitHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'AdUnit',\r\n\t\t\t\tAdUnit\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { actions, newItem, account, addTo } = this.props\r\n\t\t\tnewItem.owner = account.wallet.address\r\n\r\n\t\t\tactions.addItem(newItem, addTo, account.wallet.authSig)\r\n\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('AdUnit')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('AdUnit')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tnewItem: new AdUnit(memory.newItem['AdUnit']),\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants, schemas, Joi } from 'adex-models'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\r\n\r\nconst { adUnitPost } = schemas\r\n\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nclass AdUnitBasic extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tconst { newItem } = props\r\n\t\tthis.validateTitle(newItem.title, false)\r\n\t\tthis.validateDescription(newItem.description, false)\r\n\t\tthis.validateTargetUrl(newItem.targetUrl, false)\r\n\t\tthis.validateAndUpdateType(false, newItem.type)\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (\r\n\t\t\tprevProps.newItem.title !== this.props.newItem.title ||\r\n\t\t\tprevProps.newItem.type !== this.props.newItem.type ||\r\n\t\t\tprevProps.newItem.temp.addUtmLink !== this.props.newItem.temp.addUtmLink\r\n\t\t) {\r\n\t\t\tthis.addUtmParameters()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateTitle(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adUnitPost.title)\r\n\r\n\t\tthis.props.validate('title', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateDescription(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adUnitPost.description)\r\n\r\n\t\tthis.props.validate('description', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateTargetUrl(targetUrl, dirty) {\r\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\r\n\t\tthis.props.validate('targetUrl', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t\tif (!result.error) this.addUtmParameters(targetUrl)\r\n\t}\r\n\r\n\tvalidateAndUpdateType = (dirty, value) => {\r\n\t\tconst result = Joi.validate(value, adUnitPost.type)\r\n\t\tthis.props.handleChange('type', value)\r\n\t\tthis.props.validate('type', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\taddUtmParameters() {\r\n\t\tconst { handleChange, newItem } = this.props\r\n\t\tconst { targetUrl, title, type, temp } = newItem\r\n\t\tconst { addUtmLink } = temp\r\n\t\tif (!!targetUrl) {\r\n\t\t\tconst newTargetUrl = addUrlUtmTracking({\r\n\t\t\t\ttargetUrl,\r\n\t\t\t\tcampaign: title,\r\n\t\t\t\tcontent: type,\r\n\t\t\t\tremoveFromUrl: !addUtmLink,\r\n\t\t\t})\r\n\t\t\thandleChange('targetUrl', newTargetUrl)\r\n\t\t}\r\n\t}\r\n\r\n\thandleChangeAddUtmLink(ev) {\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.addUtmLink = ev.target.checked\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, newItem, invalidFields, handleChange } = this.props\r\n\t\tconst { targetUrl, type, title, description, temp } = newItem\r\n\t\tconst { addUtmLink } = temp\r\n\t\tconst errTitle = invalidFields['title']\r\n\t\tconst errDescription = invalidFields['description']\r\n\t\tconst errTargetUrl = invalidFields['targetUrl']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => {\r\n\t\t\t\t\t\t\t\tthis.validateDescription(description, true)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTargetUrl(targetUrl, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTargetUrl(targetUrl, false)}\r\n\t\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty ? errTargetUrl.errMsg : ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tchecked={addUtmLink}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleChangeAddUtmLink(ev)}\r\n\t\t\t\t\t\t\t\t\tvalue='checkedB'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('ADD_UTM_LINK')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\r\n\t\t\t\t\t\t\tsource={AdTypes}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitBasic.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdUnitBasic = NewAdUnitHoc(AdUnitBasic)\r\n\r\nexport default Translate(NewAdUnitBasic)\r\n","import url from 'url'\r\nimport { UTM_PARAMS } from 'constants/misc'\r\n\r\nexport const addUrlUtmTracking = ({\r\n\ttargetUrl,\r\n\tcampaign,\r\n\tcontent,\r\n\tremoveFromUrl,\r\n}) => {\r\n\tif (!!targetUrl) {\r\n\t\tconst URL = url.parse(targetUrl, true)\r\n\t\tURL.search = null\r\n\r\n\t\tif (URL.protocol && URL.host) {\r\n\t\t\tconst newQuery = {}\r\n\t\t\tif (removeFromUrl) {\r\n\t\t\t\tfor (let [key, value] of Object.entries(URL.query)) {\r\n\t\t\t\t\tif (UTM_PARAMS[key] !== value) {\r\n\t\t\t\t\t\tnewQuery[key] = value\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = newQuery\r\n\t\t\t} else {\r\n\t\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\r\n\r\n\t\t\t\tif (campaign) {\r\n\t\t\t\t\tquery['utm_campaign'] = campaign\r\n\t\t\t\t}\r\n\t\t\t\tif (content) {\r\n\t\t\t\t\tquery['utm_content'] = content\r\n\t\t\t\t}\r\n\t\t\t\tURL.query = query\r\n\t\t\t}\r\n\t\t\treturn url.format(URL)\r\n\t\t}\r\n\t}\r\n\r\n\treturn targetUrl\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\n\r\nconst getWidAndHightFromType = type => {\r\n\ttype = type || 'legacy_300x100'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n\r\nclass AdUnitMedia extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem, validate } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst { tempUrl } = temp\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tif (tempUrl) {\r\n\t\t\tconst isValidMediaSize = temp.width === width && temp.height === height\r\n\r\n\t\t\tvalidate('temp', {\r\n\t\t\t\tisValid: isValidMediaSize,\r\n\t\t\t\terr: {\r\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t},\r\n\t\t\t\tdirty: true,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tvalidate('temp', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleImgChange = (prop, img) => {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst newTemp = { ...newItem.temp, ...img }\r\n\t\thandleChange(prop, newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { newItem, t, validateMedia } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst errImg = this.props.invalidFields['temp']\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\r\n\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\tmime={temp.mime || ''}\r\n\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\r\n\t\t\t\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\r\n\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitMedia.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tnewItem: PropTypes.object.isRequired,\r\n}\r\n\r\nconst NewAdUnitMedia = NewAdUnitHoc(ValidImageHoc(AdUnitMedia))\r\n\r\nexport default Translate(NewAdUnitMedia)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport { translate } from 'services/translations/translations'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\n\r\nexport const renderInput = inputProps => {\r\n\tconst { InputProps, classes, ref, ...other } = inputProps\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\tInputProps={{\r\n\t\t\t\tinputRef: ref,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.inputRoot,\r\n\t\t\t\t},\r\n\t\t\t\t...InputProps,\r\n\t\t\t}}\r\n\t\t\t{...other}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const renderSuggestion = ({\r\n\tsuggestion,\r\n\tindex,\r\n\tstyle,\r\n\titemProps,\r\n\thighlightedIndex,\r\n\tselectedItem,\r\n\tshowSelected,\r\n}) => {\r\n\tconst isHighlighted = highlightedIndex === index\r\n\t// TODO: make it better\r\n\t// Note wo work with obj and array\r\n\tconst isSelected =\r\n\t\t((selectedItem || {}).value || selectedItem || '').indexOf(\r\n\t\t\tsuggestion.value\r\n\t\t) > -1\r\n\r\n\tif (!showSelected && isSelected) {\r\n\t\treturn null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={style}>\r\n\t\t\t<ListItem\r\n\t\t\t\tbutton\r\n\t\t\t\t{...itemProps}\r\n\t\t\t\tkey={suggestion.value || suggestion.label}\r\n\t\t\t\tselected={isHighlighted}\r\n\t\t\t\tcomponent='div'\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tfontWeight: isSelected ? 500 : 400,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<ListItemText primary={suggestion.label} />\r\n\t\t\t</ListItem>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst newSuggestion = inputValue => {\r\n\treturn {\r\n\t\tlabel: `${translate(\r\n\t\t\t'CREATE_TAG_LABEL'\r\n\t\t)} \"${inputValue.toLowerCase().trim()}\"`,\r\n\t\tvalue: inputValue.toLowerCase().trim(),\r\n\t}\r\n}\r\n\r\nrenderSuggestion.propTypes = {\r\n\thighlightedIndex: PropTypes.number,\r\n\tindex: PropTypes.number,\r\n\titemProps: PropTypes.object,\r\n\tselectedItem: PropTypes.string,\r\n\tsuggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\r\n}\r\n\r\nexport const getSuggestions = (\r\n\tinputValue = '',\r\n\tsource,\r\n\tallowCreate,\r\n\tvalidateCreation\r\n) => {\r\n\tif (!inputValue) {\r\n\t\treturn source\r\n\t} else {\r\n\t\tinputValue = inputValue.toLowerCase().trim()\r\n\r\n\t\tsource = source.filter(suggestion => {\r\n\t\t\treturn (\r\n\t\t\t\t!inputValue ||\r\n\t\t\t\tsuggestion.label\r\n\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t.trim()\r\n\t\t\t\t\t.indexOf(inputValue) !== -1\r\n\t\t\t)\r\n\t\t})\r\n\r\n\t\t// Making sure that an option to create a new item will exist when needed\r\n\t\tconst values = source.map(item => {\r\n\t\t\treturn item.value\r\n\t\t})\r\n\r\n\t\tif (\r\n\t\t\t!values.includes(inputValue) &&\r\n\t\t\tallowCreate &&\r\n\t\t\t(!validateCreation || validateCreation(inputValue))\r\n\t\t) {\r\n\t\t\tsource.push(newSuggestion(inputValue))\r\n\t\t}\r\n\r\n\t\treturn source\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport keycode from 'keycode'\r\nimport Downshift from 'downshift'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport { renderInput, getSuggestions, renderSuggestion } from './common'\r\n\r\nclass DownshiftMultiple extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tinputValue: '',\r\n\t\t\tselectedItem: props.value || [],\r\n\t\t}\r\n\t}\r\n\r\n\thandleKeyDown = event => {\r\n\t\tconst { inputValue, selectedItem } = this.state\r\n\t\tif (\r\n\t\t\tselectedItem.length &&\r\n\t\t\t!inputValue.length &&\r\n\t\t\tkeycode(event) === 'backspace'\r\n\t\t) {\r\n\t\t\tconst newItemValue = selectedItem.slice(0, selectedItem.length - 1)\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedItem: newItemValue,\r\n\t\t\t})\r\n\r\n\t\t\tthis.props.onChange(newItemValue)\r\n\t\t}\r\n\t}\r\n\r\n\thandleInputChange = event => {\r\n\t\tconst value = event.target.value.toLowerCase()\r\n\t\tthis.setState({ inputValue: value })\r\n\t}\r\n\r\n\thandleChange = item => {\r\n\t\tlet { selectedItem } = this.state\r\n\r\n\t\tif (selectedItem.indexOf(item.value) === -1) {\r\n\t\t\tselectedItem = [...selectedItem, item.value]\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tinputValue: '',\r\n\t\t\tselectedItem,\r\n\t\t})\r\n\r\n\t\tthis.props.onChange(selectedItem)\r\n\t}\r\n\r\n\thandleDelete = item => () => {\r\n\t\tconst selectedItem = [...this.state.selectedItem]\r\n\t\tselectedItem.splice(selectedItem.indexOf(item), 1)\r\n\r\n\t\tthis.setState({ selectedItem })\r\n\t\tthis.props.onChange(selectedItem)\r\n\t}\r\n\r\n\t/**\r\n\t * source {'propValue': 'propsLabel'} - skip one mapping to get the label for Chip\r\n\t */\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\tsource,\r\n\t\t\tlabel,\r\n\t\t\tid,\r\n\t\t\tplaceholder,\r\n\t\t\thelperText,\r\n\t\t\topenOnClick,\r\n\t\t\tallowCreate,\r\n\t\t\tvalidateCreation,\r\n\t\t} = this.props\r\n\t\tconst { inputValue, selectedItem } = this.state\r\n\t\tconst allValues = Object.keys(source).map(key => {\r\n\t\t\treturn { value: key, label: source[key] }\r\n\t\t})\r\n\r\n\t\treturn (\r\n\t\t\t<Downshift\r\n\t\t\t\tinputValue={inputValue}\r\n\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\tselectedItem={selectedItem}\r\n\t\t\t\t// defaultIsOpen={true}\r\n\t\t\t\titemToString={item => item.label}\r\n\t\t\t>\r\n\t\t\t\t{({\r\n\t\t\t\t\tgetInputProps,\r\n\t\t\t\t\tgetItemProps,\r\n\t\t\t\t\tisOpen,\r\n\t\t\t\t\tinputValue: inputValue2,\r\n\t\t\t\t\tselectedItem: selectedItem2,\r\n\t\t\t\t\thighlightedIndex,\r\n\t\t\t\t\ttoggleMenu,\r\n\t\t\t\t}) => (\r\n\t\t\t\t\t<div className={classes.container}>\r\n\t\t\t\t\t\t{renderInput({\r\n\t\t\t\t\t\t\tfullWidth: true,\r\n\t\t\t\t\t\t\tclasses,\r\n\t\t\t\t\t\t\thelperText,\r\n\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\tInputProps: getInputProps({\r\n\t\t\t\t\t\t\t\tstartAdornment: selectedItem.map(item => (\r\n\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\tkey={item}\r\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\t\tlabel={source[item]}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\t\t\tonDelete={this.handleDelete(item)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)),\r\n\t\t\t\t\t\t\t\tonChange: this.handleInputChange,\r\n\t\t\t\t\t\t\t\tonKeyDown: this.handleKeyDown,\r\n\t\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tonClick: () => openOnClick && toggleMenu(),\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t{isOpen ? (\r\n\t\t\t\t\t\t\t<Paper className={classes.paper} square>\r\n\t\t\t\t\t\t\t\t//TODO: use FixedSizeList!\r\n\t\t\t\t\t\t\t\t{getSuggestions(\r\n\t\t\t\t\t\t\t\t\tinputValue2,\r\n\t\t\t\t\t\t\t\t\tallValues,\r\n\t\t\t\t\t\t\t\t\tallowCreate,\r\n\t\t\t\t\t\t\t\t\tvalidateCreation\r\n\t\t\t\t\t\t\t\t).map((suggestion, index) =>\r\n\t\t\t\t\t\t\t\t\trenderSuggestion({\r\n\t\t\t\t\t\t\t\t\t\tsuggestion,\r\n\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\titemProps: getItemProps({ item: suggestion }),\r\n\t\t\t\t\t\t\t\t\t\thighlightedIndex,\r\n\t\t\t\t\t\t\t\t\t\tselectedItem: selectedItem2,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Downshift>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDownshiftMultiple.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default DownshiftMultiple\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Downshift from 'downshift'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { renderInput, getSuggestions, renderSuggestion } from './common'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport { FixedSizeList } from 'react-window'\r\nimport AutoSizer from 'react-virtualized-auto-sizer'\r\nclass DownshiftSingle extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.props.onInit()\r\n\t\tthis.state = {\r\n\t\t\tinputValue: '',\r\n\t\t}\r\n\t}\r\n\r\n\thandleChange = item => {\r\n\t\tconst selectedItem = item ? item.value || item.label : item\r\n\t\tthis.props.onChange(selectedItem)\r\n\t}\r\n\r\n\thandleInputChange = inputValue => {\r\n\t\tif (this.state.inputValue !== inputValue) this.setState({ inputValue })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\tsource,\r\n\t\t\terror,\r\n\t\t\tlabel,\r\n\t\t\tid,\r\n\t\t\tplaceholder,\r\n\t\t\thelperText,\r\n\t\t\terrorText,\r\n\t\t\tshowSelected,\r\n\t\t\tvalue,\r\n\t\t\topenOnClick,\r\n\t\t\tallowCreate,\r\n\t\t\tvalidateCreation,\r\n\t\t} = this.props\r\n\t\tconst allValues = source //Object.keys(source).map(key => { return { value: key, label: source[key] } })\r\n\t\tconst suggestions = getSuggestions(\r\n\t\t\tthis.state.inputValue,\r\n\t\t\tallValues,\r\n\t\t\tallowCreate,\r\n\t\t\tvalidateCreation\r\n\t\t)\r\n\t\treturn (\r\n\t\t\t<Downshift\r\n\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\titemToString={item => (item || {}).label || item || ''}\r\n\t\t\t\tselectedItem={value}\r\n\t\t\t>\r\n\t\t\t\t{({\r\n\t\t\t\t\tgetInputProps,\r\n\t\t\t\t\tgetItemProps,\r\n\t\t\t\t\tisOpen,\r\n\t\t\t\t\tinputValue,\r\n\t\t\t\t\tselectedItem,\r\n\t\t\t\t\thighlightedIndex,\r\n\t\t\t\t\tclearSelection,\r\n\t\t\t\t\ttoggleMenu,\r\n\t\t\t\t}) => {\r\n\t\t\t\t\tthis.handleInputChange(inputValue)\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className={classes.container}>\r\n\t\t\t\t\t\t\t{renderInput({\r\n\t\t\t\t\t\t\t\tlabel,\r\n\t\t\t\t\t\t\t\tvalue: inputValue,\r\n\t\t\t\t\t\t\t\tfullWidth: true,\r\n\t\t\t\t\t\t\t\tclasses,\r\n\t\t\t\t\t\t\t\thelperText,\r\n\t\t\t\t\t\t\t\tInputProps: getInputProps({\r\n\t\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\t\tonClick: () => {\r\n\t\t\t\t\t\t\t\t\t\tif (openOnClick) {\r\n\t\t\t\t\t\t\t\t\t\t\tclearSelection()\r\n\t\t\t\t\t\t\t\t\t\t\ttoggleMenu()\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\terror,\r\n\t\t\t\t\t\t\t\t\tplaceholder,\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{isOpen && suggestions.length > 0 ? (\r\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} square>\r\n\t\t\t\t\t\t\t\t\t<AutoSizer>\r\n\t\t\t\t\t\t\t\t\t\t{({ height, width }) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<FixedSizeList\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.paper}\r\n\t\t\t\t\t\t\t\t\t\t\t\theight={height}\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth={width}\r\n\t\t\t\t\t\t\t\t\t\t\t\titemSize={46}\r\n\t\t\t\t\t\t\t\t\t\t\t\titemCount={suggestions.length}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{({ index, style }) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trenderSuggestion({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuggestion: suggestions[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemProps: getItemProps({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem: suggestions[index],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thighlightedIndex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedItem,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowSelected,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</FixedSizeList>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</AutoSizer>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t\t\t<FormHelperText error id='component-error-text'>\r\n\t\t\t\t\t\t\t\t\t{errorText}\r\n\t\t\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t</Downshift>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDownshiftSingle.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default DownshiftSingle\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport DownshiftMultiple from './DownshiftMultiple'\r\nimport DownshiftSingle from './DownshiftSingle'\r\n\r\nfunction Autocomplete(props) {\r\n\tconst { classes, source, multiple, ...rest } = props\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{multiple ? (\r\n\t\t\t\t<DownshiftMultiple classes={classes} source={source} {...rest} />\r\n\t\t\t) : (\r\n\t\t\t\t<DownshiftSingle classes={classes} source={source} {...rest} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAutocomplete.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withStyles(styles)(Autocomplete)\r\n","export const styles = theme => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\theight: 250,\r\n\t},\r\n\tcontainer: {\r\n\t\tflexGrow: 1,\r\n\t\tposition: 'relative',\r\n\t},\r\n\tpaper: {\r\n\t\tposition: 'absolute',\r\n\t\tzIndex: 1,\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\toverflow: 'hidden',\r\n\t\theight: 150,\r\n\t\twidth: '100%',\r\n\t},\r\n\tchip: {\r\n\t\tmargin: `${theme.spacing(1) / 2}px ${theme.spacing(1) / 2}px`,\r\n\t},\r\n\tinputRoot: {\r\n\t\tflexWrap: 'wrap',\r\n\t},\r\n})\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { translate } from 'services/translations/translations'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { SOURCES } from 'constants/targeting'\r\n\r\nconst styles = {\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n\tmarkLabel: {\r\n\t\ttop: '30px',\r\n\t},\r\n}\r\nconst marks = [\r\n\t{\r\n\t\tvalue: 5,\r\n\t\tlabel: 'Low',\r\n\t},\r\n\t{\r\n\t\tvalue: 50,\r\n\t\tlabel: 'Medium',\r\n\t},\r\n\t{\r\n\t\tvalue: 95,\r\n\t\tlabel: 'High',\r\n\t},\r\n]\r\n\r\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\r\n\treturn {\r\n\t\tvalue: {\r\n\t\t\tkey: key, // FOR DROPDOWN\r\n\t\t\tsource: key,\r\n\t\t\tcollection: SOURCES[key].collection,\r\n\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t},\r\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\r\n\t}\r\n})\r\n\r\nclass AdUnitTargeting extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { targets } = props.newItem.temp || {}\r\n\t\tthis.state = {\r\n\t\t\ttargets: [...(targets || [])],\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNewItemCollections(targets) {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst collections = [...targets].reduce(\r\n\t\t\t(all, tg) => {\r\n\t\t\t\tconst newCollection = all[tg.collection] || []\r\n\r\n\t\t\t\t// NOTE: just skip empty tags\r\n\t\t\t\tif (!!tg.target.tag) {\r\n\t\t\t\t\tnewCollection.push(tg.target)\r\n\t\t\t\t}\r\n\t\t\t\tall[tg.collection] = newCollection\r\n\t\t\t\treturn all\r\n\t\t\t},\r\n\t\t\t{ targeting: [], tags: [] }\r\n\t\t)\r\n\r\n\t\tconst { temp } = newItem\r\n\t\tconst newTemp = { ...temp }\r\n\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.targets = [...targets]\r\n\t\tcollections.temp = newTemp\r\n\r\n\t\thandleChange(null, null, collections)\r\n\t}\r\n\r\n\thandleTargetChange = (index, prop, newValue) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...newTargets[index].target }\r\n\t\tnewTarget[prop] = newValue\r\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tnewTarget = target => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.key = newTargets.length\r\n\t\tnewTarget.target = { ...target.target }\r\n\t\tnewTargets.push(newTarget)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tremoveTarget = index => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tnewTargets.splice(index, 1)\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t\tthis.validateAutocomplete({\r\n\t\t\tid: `target-${index}`,\r\n\t\t\tisValid: true,\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\r\n\t\tthis.props.validate(id, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})\r\n\t}\r\n\r\n\ttargetTag = ({\r\n\t\tsource,\r\n\t\tcollection,\r\n\t\tplaceholder,\r\n\t\tlabel,\r\n\t\tindex,\r\n\t\ttarget,\r\n\t\tt,\r\n\t\tclasses,\r\n\t\tinvalidFields,\r\n\t}) => {\r\n\t\tconst id = `target-${index}`\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\tdirection='auto'\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\r\n\t\t\t\t\t\terrorText={\r\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\r\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonChange={newValue => {\r\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: newValue,\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonInit={() =>\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: target.tag,\r\n\t\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// validate={validate}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={11} md={5}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography id={`tbaget-score-${index}`}>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [target.score],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\r\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tmarks={marks}\r\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\r\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\r\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// newItem,\r\n\t\t\tclasses,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\t// const { targeting, tags } = newItem\r\n\r\n\t\tconst { targets } = this.state\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{[...targets].map(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{ source, collection, label, placeholder, target = {} } = {},\r\n\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t\t<this.targetTag\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tsource={SOURCES[source].src}\r\n\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={target => {\r\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitTargeting.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdUnitTargeting = NewAdUnitHoc(withStyles(styles)(AdUnitTargeting))\r\n\r\nexport default Translate(NewAdUnitTargeting)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\r\nimport WcIcon from '@material-ui/icons/Wc'\r\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\r\nimport CompareArrows from '@material-ui/icons/CompareArrows'\r\n\r\nconst targetIcon = {\r\n\tlocation: LocationOnIcon,\r\n\tgender: WcIcon,\r\n\tage: ChildCareIcon,\r\n}\r\n\r\nconst getTargetType = tag => {\r\n\tconst type = tag.split('_')[0] || 'tags'\r\n\treturn type\r\n}\r\n\r\nclass UnitTargets extends Component {\r\n\ttargetArrayValues = (target, type, t, index) => {\r\n\t\tconst TargetIcon = targetIcon[type] || CompareArrows\r\n\t\treturn (\r\n\t\t\t<span key={target.tag + target.score + index}>\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t<TargetIcon />\r\n\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tprimary={t(target.tag, { isTarget: true })}\r\n\t\t\t\t\t\tsecondary={target.score}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<Divider />\r\n\t\t\t</span>\r\n\t\t)\r\n\t}\r\n\r\n\tTargetsList = ({ targets = [], subHeader, t, ...rest }) => (\r\n\t\t<List\r\n\t\t\tdense\r\n\t\t\tsubheader={subHeader ? <ListSubheader caption={t(subHeader)} /> : null}\r\n\t\t>\r\n\t\t\t{targets.map(target => {\r\n\t\t\t\tconst type = getTargetType(target.tag)\r\n\t\t\t\treturn this.targetArrayValues(target, type, t)\r\n\t\t\t})}\r\n\t\t</List>\r\n\t)\r\n\r\n\trender() {\r\n\t\treturn <this.TargetsList {...this.props} />\r\n\t}\r\n}\r\n\r\nUnitTargets.propTypes = {\r\n\ttargets: PropTypes.array.isRequired,\r\n\tsubHeader: PropTypes.string,\r\n\tt: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default UnitTargets\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\timgPreview: {\r\n\t\t\tmaxHeight: 225,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: 'auto',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t\timgPreviewWrapper: {\r\n\t\t\theight: 'max-content',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewAdUnitHoc from './NewAdUnitHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Img from 'components/common/img/Img'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\n\r\nclass AdUnitFormPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, account, ...rest } = this.props\r\n\t\tconst { newItem, t } = rest\r\n\t\tconst { type, title, description, temp, targeting } = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.wallet.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('MEDIA')}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\r\n\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\talt={title}\r\n\t\t\t\t\t\t\t\tmediaMime={temp.mime}\r\n\t\t\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{targeting && (\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdUnitFormPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nconst NewAdUnitFormPreview = NewAdUnitHoc(withStyles(styles)(AdUnitFormPreview))\r\nexport default connect(mapStateToProps)(Translate(NewAdUnitFormPreview))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Campaign } from 'adex-models'\r\n\r\nexport default function NewCampaignHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'Campaign',\r\n\t\t\t\tCampaign\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = async () => {\r\n\t\t\tconst { actions, newItem, account } = this.props\r\n\t\t\tconst { temp } = newItem\r\n\t\t\tconst newTemp = { ...temp }\r\n\t\t\tnewTemp.waitingAction = true\r\n\t\t\tthis.handleChange('temp', newTemp)\r\n\t\t\tawait actions.openCampaign({ campaign: newItem, account })\r\n\r\n\t\t\tnewTemp.waitingAction = false\r\n\t\t\tthis.handleChange('temp', newTemp)\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('Campaign')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('Campaign')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\r\n\t\tconst adUnits = persist.items['AdUnit'] || {}\r\n\t\tconst adUnitsArray = Array.from(Object.values(adUnits)) || []\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tnewItem: new Campaign(memory.newItem['Campaign']),\r\n\t\t\tadUnits,\r\n\t\t\tadUnitsArray,\r\n\t\t\tspinner: memory.spinners['opening-campaign'],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { ContentBody } from 'components/common/dialog/content'\r\nimport ItemsList from 'components/dashboard/containers/ItemsList'\r\nimport { AdUnit } from 'adex-models'\r\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport { SORT_PROPERTIES_ITEMS, FILTER_PROPERTIES_ITEMS } from 'constants/misc'\r\n\r\nclass CampaignUnits extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tselected:\r\n\t\t\t\tprops.newItem.adUnits.reduce((selected, unit) => {\r\n\t\t\t\t\tselected[unit.ipfs] = true\r\n\t\t\t\t\treturn selected\r\n\t\t\t\t}, {}) || {},\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tthis.validateUnits(newItem.adUnits, true)\r\n\t}\r\n\r\n\tvalidateUnits(adUnits, dirty) {\r\n\t\tconst isValid = !!adUnits.length\r\n\t\tthis.props.validate('adUnits', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_ADUNITS_REQIURED' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\thandleSelect = (ipfs, checked) => {\r\n\t\tconst newSelected = { ...this.state.selected }\r\n\t\tconst { adUnits, handleChange } = this.props\r\n\r\n\t\tif (checked) {\r\n\t\t\tnewSelected[ipfs] = true\r\n\t\t} else {\r\n\t\t\tdelete newSelected[ipfs]\r\n\t\t}\r\n\r\n\t\tthis.setState({ selected: newSelected })\r\n\t\tconst units = Object.keys(newSelected).map(key => {\r\n\t\t\treturn adUnits[key]\r\n\t\t})\r\n\r\n\t\thandleChange('adUnits', units)\r\n\t\tthis.validateUnits(units, true)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { adUnitsArray, t } = this.props\r\n\t\tconst hasAdUnits = adUnitsArray && adUnitsArray.length\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\tspacing={2}\r\n\t\t\t\t\tdirection={hasAdUnits ? null : 'column'}\r\n\t\t\t\t\talignItems={hasAdUnits ? null : 'center'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t{hasAdUnits ? (\r\n\t\t\t\t\t\t\t\t<ItemsList\r\n\t\t\t\t\t\t\t\t\tobjModel={AdUnit}\r\n\t\t\t\t\t\t\t\t\tselectMode\r\n\t\t\t\t\t\t\t\t\tselectedItems={this.state.selected}\r\n\t\t\t\t\t\t\t\t\tonSelect={(unit, checked) => {\r\n\t\t\t\t\t\t\t\t\t\tthis.handleSelect(unit, checked)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\titems={adUnitsArray}\r\n\t\t\t\t\t\t\t\t\tlistMode='rows'\r\n\t\t\t\t\t\t\t\t\titemType={'AdUnit'}\r\n\t\t\t\t\t\t\t\t\tviewModeId={'newCampaignAdUnits'}\r\n\t\t\t\t\t\t\t\t\tsortProperties={SORT_PROPERTIES_ITEMS}\r\n\t\t\t\t\t\t\t\t\tfilterProperties={FILTER_PROPERTIES_ITEMS}\r\n\t\t\t\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\r\n\t\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\r\n\t\t\t\t\t\t\t\t\t<NewUnitDialog\r\n\t\t\t\t\t\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaignUnits.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n\tadUnits: PropTypes.object.isRequired,\r\n\tadUnitsArray: PropTypes.array.isRequired,\r\n}\r\n\r\nconst NewCampaignUnits = NewCampaignHoc(CampaignUnits)\r\n\r\nexport default Translate(NewCampaignUnits)\r\n","import React, { Component } from 'react'\r\nimport { DateTimePicker as MuiDateTimePicker } from 'material-ui-pickers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CalendarIcon from '@material-ui/icons/DateRange'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\n\r\nconst CalendarIconAdor = ({\r\n\ticon = <CalendarIcon />,\r\n\ticonColor,\r\n\tonIconClick,\r\n}) => (\r\n\t<InputAdornment position='end'>\r\n\t\t<IconButton color={iconColor} onClick={onIconClick}>\r\n\t\t\t{icon}\r\n\t\t</IconButton>\r\n\t</InputAdornment>\r\n)\r\n\r\nexport class DateTimePicker extends Component {\r\n\trender() {\r\n\t\tconst { calendarIcon, icon, iconColor, onIconClick, ...rest } = this.props\r\n\t\treturn (\r\n\t\t\t<MuiDateTimePicker\r\n\t\t\t\tInputProps={{\r\n\t\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\t\tendAdornment: calendarIcon ? (\r\n\t\t\t\t\t\t<CalendarIconAdor\r\n\t\t\t\t\t\t\ticon={icon}\r\n\t\t\t\t\t\t\ticonColor={iconColor}\r\n\t\t\t\t\t\t\tonIconClick={onIconClick}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : null,\r\n\t\t\t\t}}\r\n\t\t\t\t{...rest}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default DateTimePicker\r\n\r\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\r\n\treturn (\r\n\t\t<DateTimePicker\r\n\t\t\tInputLabelProps={{\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t},\r\n\t\t\t\tFormLabelClasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastLabel,\r\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\tInputProps={{\r\n\t\t\t\tdisabled: rest.disabled,\r\n\t\t\t\tclasses: {\r\n\t\t\t\t\troot: classes.datepickerContrastInput,\r\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\r\n\t\t\t\t},\r\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\r\n\t\t\t}}\r\n\t\t\t{...rest}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport FormGroup from '@material-ui/core/FormGroup'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n// import Dropdown from 'components/common/dropdown'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport DateTimePicker from 'components/common/DateTimePicker'\r\nimport { utils } from 'ethers'\r\nimport { validations } from 'adex-models'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { totalFeesFormatted } from 'services/smart-contracts/actions/core'\r\nconst moment = new MomentUtils()\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_LEADER_FEE = '0'\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\nconst VALIDATOR_FOLLOWER_FEE = '0'\r\n\r\nconst AdvPlatformValidators = {\r\n\t[VALIDATOR_LEADER_ID]: {\r\n\t\tid: VALIDATOR_LEADER_ID,\r\n\t\turl: VALIDATOR_LEADER_URL,\r\n\t\tfee: VALIDATOR_LEADER_FEE,\r\n\t},\r\n}\r\n\r\nconst PubPlatformValidators = {\r\n\t[VALIDATOR_FOLLOWER_ID]: {\r\n\t\tid: VALIDATOR_FOLLOWER_ID,\r\n\t\turl: VALIDATOR_FOLLOWER_URL,\r\n\t\tfee: VALIDATOR_FOLLOWER_FEE,\r\n\t},\r\n}\r\n\r\nconst VALIDATOR_SOURCES = [AdvPlatformValidators, PubPlatformValidators]\r\n\r\n// const AdvValidatorsSrc = Object.keys(AdvPlatformValidators).map(key => {\r\n// \tconst val = AdvPlatformValidators[key]\r\n// \treturn {\r\n// \t\tvalue: key,\r\n// \t\tlabel: `${val.url} - ${val.id}`,\r\n// \t}\r\n// })\r\n\r\n// const PubValidatorsSrc = Object.keys(PubPlatformValidators).map(key => {\r\n// \tconst val = PubPlatformValidators[key]\r\n// \treturn {\r\n// \t\tvalue: key,\r\n// \t\tlabel: `${val.url} - ${val.id}`,\r\n// \t}\r\n// })\r\n\r\nconst getTotalImpressions = ({ depositAmount, minPerImpression, t }) => {\r\n\tconst dep = parseFloat(depositAmount)\r\n\tconst min = parseFloat(minPerImpression)\r\n\tif (!dep) {\r\n\t\treturn t('DEPOSIT_NOT_SET')\r\n\t} else if (!min) {\r\n\t\treturn t('CPM_NOT_SET')\r\n\t} else {\r\n\t\tconst impressions = utils.commify(Math.floor((dep / min) * 1000))\r\n\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\r\n\t}\r\n}\r\n\r\nconst validateCampaignDates = ({\r\n\tcreated = Date.now(),\r\n\twithdrawPeriodStart,\r\n\tactiveFrom,\r\n}) => {\r\n\tlet error = null\r\n\r\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\r\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'withdrawPeriodStart' }\r\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\r\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\r\n\t} else if (activeFrom && activeFrom < created) {\r\n\t\terror = { message: 'ERR_START_BEFORE_NOW', prop: 'activeFrom' }\r\n\t} else if (activeFrom && !withdrawPeriodStart) {\r\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\r\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\r\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nconst validateAmounts = ({\r\n\tmaxDeposit = 0,\r\n\tdepositAmount,\r\n\tminPerImpression,\r\n}) => {\r\n\tconst maxDep = parseFloat(maxDeposit)\r\n\tconst dep = parseFloat(depositAmount)\r\n\tconst min = parseFloat(minPerImpression)\r\n\r\n\tlet error = null\r\n\tif (dep && dep > maxDep) {\r\n\t\terror = {\r\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\r\n\t\t\tprop: 'depositAmount',\r\n\t\t}\r\n\t}\r\n\tif (dep && dep < min) {\r\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\r\n\t}\r\n\tif (dep <= 0) {\r\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\r\n\t}\r\n\tif (min <= 0) {\r\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\r\n\t}\r\n\r\n\treturn { error }\r\n}\r\n\r\nclass CampaignFinance extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tthis.validateAndUpdateValidator(false, 0, newItem.validators[0])\r\n\t\tthis.validateAndUpdateValidator(false, 1, newItem.validators[1])\r\n\t\tthis.validateAmount(\r\n\t\t\tnewItem.depositAmount,\r\n\t\t\t'depositAmount',\r\n\t\t\tfalse,\r\n\t\t\t'REQUIRED_FIELD'\r\n\t\t)\r\n\t\tthis.validateAmount(\r\n\t\t\tnewItem.minPerImpression,\r\n\t\t\t'minPerImpression',\r\n\t\t\tfalse,\r\n\t\t\t'REQUIRED_FIELD'\r\n\t\t)\r\n\t\tthis.handleDates('activeFrom', newItem.activeFrom, false)\r\n\t\tthis.handleDates('withdrawPeriodStart', newItem.withdrawPeriodStart, false)\r\n\t}\r\n\r\n\tvalidateAndUpdateValidator = (dirty, index, key = {}, update) => {\r\n\t\tconst { handleChange, newItem, validate } = this.props\r\n\t\tconst { validators } = newItem\r\n\t\tconst newValidators = [...validators]\r\n\t\tconst newValue = VALIDATOR_SOURCES[index][key.id || key]\r\n\r\n\t\tnewValidators[index] = newValue\r\n\r\n\t\tconst isValid =\r\n\t\t\t!!newValidators[0] &&\r\n\t\t\t!!newValidators[1] &&\r\n\t\t\t!!newValidators[0].id &&\r\n\t\t\t!!newValidators[0].url &&\r\n\t\t\t!!newValidators[1].id &&\r\n\t\t\t!!newValidators[1].url\r\n\r\n\t\t// TEMP - update like this to avoid changing the flow and other functions\r\n\t\t// <---\r\n\t\tif (!isValid) {\r\n\t\t\tconst tempValidators = [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: VALIDATOR_LEADER_ID,\r\n\t\t\t\t\turl: VALIDATOR_LEADER_URL,\r\n\t\t\t\t\tfee: VALIDATOR_LEADER_FEE,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: VALIDATOR_FOLLOWER_ID,\r\n\t\t\t\t\turl: VALIDATOR_FOLLOWER_URL,\r\n\t\t\t\t\tfee: VALIDATOR_FOLLOWER_FEE,\r\n\t\t\t\t},\r\n\t\t\t]\r\n\r\n\t\t\thandleChange('validators', tempValidators)\r\n\r\n\t\t\tvalidate('validators', {\r\n\t\t\t\tisValid: true,\r\n\t\t\t\terr: { msg: 'ERR_VALIDATORS' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// END TEMP --->\r\n\r\n\t\tif (update) {\r\n\t\t\thandleChange('validators', newValidators)\r\n\t\t}\r\n\r\n\t\tvalidate('validators', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAmount(value = '', prop, dirty, errMsg) {\r\n\t\tconst isValidNumber = validations.isNumberString(value)\r\n\t\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\r\n\r\n\t\tif (!isValid) {\r\n\t\t\tthis.props.validate(prop, {\r\n\t\t\t\tisValid: isValid,\r\n\t\t\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tconst { newItem, account } = this.props\r\n\r\n\t\t\tconst { identityBalanceDai = 0 } = account.stats.formatted || {}\r\n\t\t\tconst depositAmount =\r\n\t\t\t\tprop === 'depositAmount' ? value : newItem.depositAmount\r\n\t\t\tconst minPerImpression =\r\n\t\t\t\tprop === 'minPerImpression' ? value : newItem.minPerImpression\r\n\r\n\t\t\tconst result = validateAmounts({\r\n\t\t\t\tmaxDeposit: identityBalanceDai - totalFeesFormatted,\r\n\t\t\t\tdepositAmount,\r\n\t\t\t\tminPerImpression,\r\n\t\t\t})\r\n\r\n\t\t\tthis.props.validate(prop, {\r\n\t\t\t\tisValid: !result.error,\r\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleDates = (prop, value, dirty) => {\r\n\t\tconst { newItem, handleChange, validate } = this.props\r\n\t\tconst withdrawPeriodStart =\r\n\t\t\tprop === 'withdrawPeriodStart' ? value : newItem.withdrawPeriodStart\r\n\t\tconst activeFrom = prop === 'activeFrom' ? value : newItem.activeFrom\r\n\t\tconst result = validateCampaignDates({\r\n\t\t\twithdrawPeriodStart,\r\n\t\t\tactiveFrom,\r\n\t\t\tcreated: newItem.created,\r\n\t\t})\r\n\r\n\t\tvalidate('activeFrom', {\r\n\t\t\tisValid: !(result.error && result.error.prop === 'activeFrom'),\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\r\n\t\tvalidate('withdrawPeriodStart', {\r\n\t\t\tisValid: !(result.error && result.error.prop === 'withdrawPeriodStart'),\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\r\n\t\tif (value) {\r\n\t\t\thandleChange(prop, value)\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { handleChange, newItem, t, invalidFields, account } = this.props\r\n\t\tconst {\r\n\t\t\tvalidators,\r\n\t\t\tdepositAmount,\r\n\t\t\tminPerImpression,\r\n\t\t\t// depositAsset,\r\n\t\t\tactiveFrom,\r\n\t\t\twithdrawPeriodStart,\r\n\t\t\tminTargetingScore,\r\n\t\t} = newItem\r\n\r\n\t\tconst { identityBalanceDai = 0 } = account.stats.formatted || {}\r\n\r\n\t\tconst from = activeFrom || undefined\r\n\t\tconst to = withdrawPeriodStart || undefined\r\n\t\tconst now = moment.date().valueOf()\r\n\r\n\t\tconst errDepAmnt = invalidFields['depositAmount']\r\n\t\tconst errMin = invalidFields['minPerImpression']\r\n\t\tconst errFrom = invalidFields['activeFrom']\r\n\t\tconst errTo = invalidFields['withdrawPeriodStart']\r\n\r\n\t\tconst impressions = !(errDepAmnt || errMin)\r\n\t\t\t? getTotalImpressions({ depositAmount, minPerImpression, t })\r\n\t\t\t: ''\r\n\r\n\t\tconst leader = validators[0] || {}\r\n\t\tconst follower = validators[1] || {}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t{/* <Grid item xs={12}> */}\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t{/* <Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={value =>\r\n\t\t\t\t\t\t\t\tthis.validateAndUpdateValidator(true, 0, value, true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsource={AdvValidatorsSrc}\r\n\t\t\t\t\t\t\tvalue={(validators[0] || {}).id + ''}\r\n\t\t\t\t\t\t\tlabel={t('ADV_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\thtmlId='leader-validator-dd'\r\n\t\t\t\t\t\t\tname='leader-validator'\r\n\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t<FormControl fullWidth disabled>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor='leader-validator'>\r\n\t\t\t\t\t\t\t\t{t('ADV_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t<Input id='leader-validator' value={leader.url || ''} />\r\n\t\t\t\t\t\t\t<FormHelperText>{leader.id}</FormHelperText>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t{/* <Grid item xs={12}> */}\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t{/* <Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={value =>\r\n\t\t\t\t\t\t\t\tthis.validateAndUpdateValidator(true, 1, value, true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsource={PubValidatorsSrc}\r\n\t\t\t\t\t\t\tvalue={(validators[1] || {}).id + ''}\r\n\t\t\t\t\t\t\tlabel={t('PUB_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\thtmlId='follower-validator-dd'\r\n\t\t\t\t\t\t\tname='follower-validator'\r\n\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t<FormControl fullWidth disabled>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor='follower-validator'>\r\n\t\t\t\t\t\t\t\t{t('PUB_PLATFORM_VALIDATOR')}\r\n\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t<Input id='follower-validator' value={follower.url || ''} />\r\n\t\t\t\t\t\t\t<FormHelperText>{follower.id}</FormHelperText>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t(identityBalanceDai - totalFeesFormatted).toFixed(2),\r\n\t\t\t\t\t\t\t\t\t'DAI',\r\n\t\t\t\t\t\t\t\t\ttotalFeesFormatted,\r\n\t\t\t\t\t\t\t\t\t'DAI',\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\tname='depositAmount'\r\n\t\t\t\t\t\t\tvalue={depositAmount}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'depositAmount', true)\r\n\t\t\t\t\t\t\t\thandleChange('depositAmount', ev.target.value)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty\r\n\t\t\t\t\t\t\t\t\t? errDepAmnt.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DEPOSIT_AMOUNT_HELPER_TXT', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [totalFeesFormatted, 'DAI'],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={minPerImpression}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'minPerImpression', true)\r\n\t\t\t\t\t\t\t\thandleChange('minPerImpression', ev.target.value)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty ? errMin.errMsg : t('CPM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\r\n\t\t\t\t\t\t\tminDate={now}\r\n\t\t\t\t\t\t\tmaxDate={to}\r\n\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\tthis.handleDates('activeFrom', val.valueOf(), true)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvalue={from || null}\r\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\r\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\r\n\t\t\t\t\t\t\tdisablePast\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcalendarIcon\r\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\r\n\t\t\t\t\t\t\tminDate={from || now}\r\n\t\t\t\t\t\t\tonChange={val =>\r\n\t\t\t\t\t\t\t\tthis.handleDates('withdrawPeriodStart', val.valueOf(), true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvalue={to || null}\r\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\r\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={6}>\r\n\t\t\t\t\t\t<FormGroup row>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\thandleChange(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'minTargetingScore',\r\n\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaignFinance.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n}\r\n\r\nconst NewCampaignFinance = NewCampaignHoc(CampaignFinance)\r\n\r\nexport default Translate(NewCampaignFinance)\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tdatepickerContrastInput: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\tdatepickerContrastLabel: {\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t'&$datepickerContrastLabelFocused': {\r\n\t\t\t\tcolor: theme.palette.common.white,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdatepickerContrastLabelFocused: {},\r\n\t\tdatepickerContrastUnderline: {\r\n\t\t\t'&:after': {\r\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t\t'&:before': {\r\n\t\t\t\tborder: '0 !important',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { TopLoading } from 'components/common/dialog/content'\r\n\r\nexport const WalletAction = ({ t, authType }) => {\r\n\tlet msg = ''\r\n\r\n\tswitch (authType) {\r\n\t\tcase AUTH_TYPES.METAMASK.name:\r\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.TREZOR.name:\r\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tcase AUTH_TYPES.LEDGER.name:\r\n\t\t\tmsg = 'LEDGER_WAITING_ACTION'\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\r\n\t\t\tbreak\r\n\t}\r\n\r\n\treturn <TopLoading msg={t(msg)} />\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewCampaignHoc from './NewCampaignHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ItemsList from 'components/dashboard/containers/ItemsList'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n} from 'components/common/dialog/content'\r\nimport { AdUnit } from 'adex-models'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\n\r\nclass CampaignFormPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\tAdUnitsTable = ({ items }) => {\r\n\t\treturn (\r\n\t\t\t<Grid item sm={12}>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<ItemsList\r\n\t\t\t\t\t\tobjModel={AdUnit}\r\n\t\t\t\t\t\titems={items}\r\n\t\t\t\t\t\tlistMode\r\n\t\t\t\t\t\titemType={'AdUnit'}\r\n\t\t\t\t\t\tnoControls\r\n\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\tnoActions\r\n\t\t\t\t\t\tsortProperties={[]}\r\n\t\t\t\t\t\tviewModeId={'newCampaignAdUnitsPreview'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { account, newItem, t } = this.props\r\n\t\tconst {\r\n\t\t\t// targeting,\r\n\t\t\tadUnits,\r\n\t\t\tvalidators,\r\n\t\t\tdepositAmount,\r\n\t\t\tminPerImpression,\r\n\t\t\t// maxPerImpression,\r\n\t\t\t// depositAsset,\r\n\t\t\twithdrawPeriodStart,\r\n\t\t\tactiveFrom,\r\n\t\t\tminTargetingScore,\r\n\t\t\t// nonce\r\n\t\t} = newItem\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t{newItem.temp.waitingAction ? (\r\n\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.identity.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\ttargets={targeting}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('adUnits', { isProp: true })}\r\n\t\t\t\t\t\tright={<this.AdUnitsTable items={adUnits} />}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('validators', { isProp: true })}\r\n\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{validators.map(val => (\r\n\t\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\tright={depositAmount + ' DAI'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\tright={minPerImpression + ' DAI'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('maxPerImpression', { isProp: true })}\r\n\t\t\t\t\t\tright={maxPerImpression}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(activeFrom)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{minTargetingScore && <PropRow right={t('CAMPAIGN_MIN_TARGETING')} />}\r\n\t\t\t\t\t{/* <PropRow\r\n\t\t\t\t\t\tleft={t('created', { isProp: true })}\r\n\t\t\t\t\t\tright={formatDateTime(created)}\r\n\t\t\t\t\t/> */}\r\n\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaignFormPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nconst NewCampaignFormPreview = NewCampaignHoc(\r\n\twithStyles(styles)(CampaignFormPreview)\r\n)\r\nexport default connect(mapStateToProps)(Translate(NewCampaignFormPreview))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\n\r\nexport default function NewAdUnitHoc(Decorated) {\r\n\tclass ItemForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tactive: false,\r\n\t\t\t\tsaved: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value, newValues) => {\r\n\t\t\tthis.props.actions.updateNewItem(\r\n\t\t\t\tthis.props.newItem,\r\n\t\t\t\tnewValues || { [prop]: value },\r\n\t\t\t\t'AdSlot',\r\n\t\t\t\tAdSlot\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tonSave = () => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { actions, newItem, account } = this.props\r\n\t\t\tnewItem.owner = account.wallet.address\r\n\r\n\t\t\tactions.addSlot(newItem, 'AdSlot', account.wallet.authSig)\r\n\r\n\t\t\tthis.onSave()\r\n\t\t\tactions.resetNewItem('AdSlot')\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tthis.onSave()\r\n\t\t\tthis.props.actions.resetNewItem('AdSlot')\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { classes, ...rest } = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tItemForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tnewItem: PropTypes.object.isRequired,\r\n\t\ttitle: PropTypes.string,\r\n\t\taddTo: PropTypes.object,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tnewItem: new AdSlot(memory.newItem['AdSlot']),\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(ItemForm)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { utils } from 'ethers'\r\nimport { validations, constants, schemas, Joi } from 'adex-models'\r\n\r\nconst { adSlotPost } = schemas\r\n\r\nconst AdTypes = constants.AdUnitsTypes.map(type => {\r\n\treturn {\r\n\t\tvalue: type,\r\n\t\tlabel: type.split('_')[1],\r\n\t}\r\n})\r\n\r\nclass AdSlotBasic extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tthis.validateTitle(newItem.title, false)\r\n\t\tthis.validateDescription(newItem.description, false)\r\n\t\tthis.validateAndUpdateType(false, newItem.type)\r\n\t}\r\n\r\n\tvalidateTitle(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adSlotPost.title)\r\n\r\n\t\tthis.props.validate('title', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateDescription(name, dirty, errMsg) {\r\n\t\tconst result = Joi.validate(name, adSlotPost.description)\r\n\r\n\t\tthis.props.validate('description', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAndUpdateType = (dirty, value) => {\r\n\t\tconst result = Joi.validate(value, adSlotPost.type)\r\n\r\n\t\tthis.props.handleChange('type', value)\r\n\t\tthis.props.validate('type', {\r\n\t\t\tisValid: !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAmount(value = '', prop, dirty, errMsg) {\r\n\t\tconst isValidNumber = validations.isNumberString(value)\r\n\t\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\r\n\r\n\t\tthis.props.validate(prop, {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tupdateMinPerImpression(value = '') {\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.minPerImpression = value\r\n\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tnewItem,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t\t// nameHelperTxt,\r\n\t\t\t// descriptionHelperTxt\r\n\t\t} = this.props\r\n\t\tconst { type, title, description, temp } = newItem\r\n\t\tconst { minPerImpression } = temp\r\n\t\tconst errTitle = invalidFields['title']\r\n\t\tconst errDescription = invalidFields['description']\r\n\t\tconst errMin = invalidFields['minPerImpression']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\r\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\r\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateDescription(description, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\r\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\r\n\t\t\t\t\t\t\tmaxLength={300}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\r\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\r\n\t\t\t\t\t\t\tsource={AdTypes}\r\n\t\t\t\t\t\t\tvalue={type + ''}\r\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12} md={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: ['DAI'] })}\r\n\t\t\t\t\t\t\tname='minPerImpression'\r\n\t\t\t\t\t\t\tvalue={minPerImpression}\r\n\t\t\t\t\t\t\tonChange={ev => {\r\n\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'minPerImpression', true)\r\n\t\t\t\t\t\t\t\tthis.updateMinPerImpression(ev.target.value)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\r\n\t\t\t\t\t\t\tmaxLength={120}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\r\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotBasic.propTypes = {\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdSlotBasic = NewAdSlotHoc(AdSlotBasic)\r\n\r\nexport default Translate(NewAdSlotBasic)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport ImgForm from 'components/dashboard/forms/ImgForm'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport { schemas, Joi } from 'adex-models'\r\n\r\nconst { adUnitPost } = schemas\r\n\r\nconst getWidAndHightFromType = type => {\r\n\ttype = type || 'legacy_300x250'\r\n\tif (!type) {\r\n\t\treturn {\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst sizes = type.split('_')[1].split('x')\r\n\treturn {\r\n\t\twidth: parseInt(sizes[0], 10),\r\n\t\theight: parseInt(sizes[1], 10),\r\n\t}\r\n}\r\n\r\nclass AdSlotMedia extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { newItem } = this.props\r\n\t\tconst { temp, targetUrl } = newItem\r\n\t\tconst { useFallback } = temp\r\n\r\n\t\tif (useFallback) {\r\n\t\t\tthis.validateImage(useFallback)\r\n\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateImage = useFallback => {\r\n\t\tconst { newItem, validate } = this.props\r\n\t\tconst { type, temp } = newItem\r\n\t\tconst { tempUrl } = temp\r\n\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\tconst isValidMediaSize =\r\n\t\t\t!useFallback ||\r\n\t\t\t(tempUrl &&\r\n\t\t\t\t// TODO: validate ration not exact\r\n\t\t\t\ttemp.width === width &&\r\n\t\t\t\ttemp.height === height)\r\n\r\n\t\tvalidate('temp', {\r\n\t\t\tisValid: isValidMediaSize,\r\n\t\t\terr: {\r\n\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t},\r\n\t\t\tdirty: true,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateFallbackUrl = (targetUrl, dirty, useFallback) => {\r\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\r\n\t\tthis.props.validate('targetUrl', {\r\n\t\t\tisValid: !useFallback || !result.error,\r\n\t\t\terr: { msg: result.error ? result.error.message : '' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\thandleFallbackChange = useFallback => {\r\n\t\tconst { temp, targetUrl } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\t\tnewTemp.useFallback = useFallback\r\n\r\n\t\tthis.props.handleChange('temp', newTemp)\r\n\t\tthis.validateFallbackUrl(targetUrl, null, useFallback)\r\n\t\tthis.validateImage(useFallback)\r\n\t}\r\n\r\n\thandleImgChange = (prop, img) => {\r\n\t\tconst { newItem, handleChange } = this.props\r\n\t\tconst newTemp = { ...newItem.temp, ...img }\r\n\t\thandleChange(prop, newTemp)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tnewItem,\r\n\t\t\tt,\r\n\t\t\tvalidateMedia,\r\n\t\t\tinvalidFields,\r\n\t\t\thandleChange,\r\n\t\t} = this.props\r\n\t\tconst { targetUrl, type, temp } = newItem\r\n\t\tconst useFallback = temp.useFallback || false\r\n\t\tconst errImg = this.props.invalidFields['temp']\r\n\t\tconst errFallbackUrl = invalidFields['targetUrl']\r\n\t\tconst { width, height } = getWidAndHightFromType(type)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\tchecked={useFallback}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleFallbackChange(ev.target.checked)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormHelperText>{t('USE_FALLBACK_DATA_INFO')}</FormHelperText>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Collapse in={useFallback}>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\r\n\t\t\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\r\n\t\t\t\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, false, useFallback)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\r\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\r\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t\t\t<ImgForm\r\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\r\n\t\t\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\r\n\t\t\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\r\n\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\r\n\t\t\t\t\t\t\t\t\t\twidthTarget: width,\r\n\t\t\t\t\t\t\t\t\t\theightTarget: height,\r\n\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\r\n\t\t\t\t\t\t\t\t\t\texact: true,\r\n\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\r\n\t\t\t\t\t\t\t\t\tsize={{\r\n\t\t\t\t\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Collapse>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotMedia.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tnewItem: PropTypes.object.isRequired,\r\n}\r\n\r\nconst NewAdSlotMedia = NewAdSlotHoc(ValidImageHoc(AdSlotMedia))\r\n\r\nexport default Translate(NewAdSlotMedia)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Slider from '@material-ui/core/Slider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport Autocomplete from 'components/common/autocomplete'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\nimport { translate } from 'services/translations/translations'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst autocompleteTagsSingleSelect = () => {\r\n\treturn constants.PredefinedTags.map(tag => {\r\n\t\treturn {\r\n\t\t\tlabel: tag._id,\r\n\t\t\tvalue: tag._id,\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst AcTags = autocompleteTagsSingleSelect()\r\n\r\nconst SOURCES = {\r\n\ttags: { src: AcTags, collection: 'tags' },\r\n\tcustom: { src: [], collection: 'tags' },\r\n}\r\n\r\nconst styles = {\r\n\tslider: {\r\n\t\tpadding: '22px 0px',\r\n\t},\r\n\tmarkLabel: {\r\n\t\ttop: '30px',\r\n\t},\r\n}\r\nconst marks = [\r\n\t{\r\n\t\tvalue: 5,\r\n\t\tlabel: 'Low',\r\n\t},\r\n\t{\r\n\t\tvalue: 50,\r\n\t\tlabel: 'Medium',\r\n\t},\r\n\t{\r\n\t\tvalue: 95,\r\n\t\tlabel: 'High',\r\n\t},\r\n]\r\n\r\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\r\n\treturn {\r\n\t\tvalue: {\r\n\t\t\tkey: key, // FOR DROPDOWN\r\n\t\t\tsource: key,\r\n\t\t\tcollection: SOURCES[key].collection,\r\n\t\t\ttarget: { tag: '', score: 1 },\r\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\r\n\t\t},\r\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\r\n\t}\r\n})\r\n\r\nclass AdSlotTargeting extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tconst { targets } = props.newItem.temp || {}\r\n\t\tthis.state = {\r\n\t\t\ttargets: targets || [],\r\n\t\t}\r\n\t}\r\n\r\n\tupdateNewItemCollections(targets) {\r\n\t\tconst collections = [...targets].reduce(\r\n\t\t\t(all, tg) => {\r\n\t\t\t\tconst newCollection = all[tg.collection] || []\r\n\t\t\t\t// NOTE: just skip empty tags\r\n\t\t\t\tif (!!tg.target.tag) {\r\n\t\t\t\t\tnewCollection.push(tg.target)\r\n\t\t\t\t}\r\n\t\t\t\tall[tg.collection] = newCollection\r\n\t\t\t\treturn all\r\n\t\t\t},\r\n\t\t\t{ targeting: [], tags: [] }\r\n\t\t)\r\n\r\n\t\tconst { temp } = this.props.newItem\r\n\t\tconst newTemp = { ...temp }\r\n\r\n\t\t// Need this to keep the state if user get back\r\n\t\tnewTemp.targets = [...targets]\r\n\t\tcollections.temp = newTemp\r\n\r\n\t\tthis.props.handleChange(null, null, collections)\r\n\t}\r\n\r\n\thandleTargetChange = (index, prop, newValue) => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...newTargets[index].target }\r\n\t\tnewTarget[prop] = newValue\r\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tnewTarget = target => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tconst newTarget = { ...target }\r\n\t\tnewTarget.key = newTargets.length\r\n\t\tnewTarget.target = { ...target.target }\r\n\t\tnewTargets.push(newTarget)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t}\r\n\r\n\tremoveTarget = index => {\r\n\t\tconst newTargets = [...this.state.targets]\r\n\t\tnewTargets.splice(index, 1)\r\n\t\tthis.updateNewItemCollections(newTargets)\r\n\t\tthis.setState({ targets: newTargets })\r\n\t\tthis.validateAutocomplete({\r\n\t\t\tid: `target-${index}`,\r\n\t\t\tisValid: true,\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\r\n\t\tthis.props.validate(id, {\r\n\t\t\tisValid,\r\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\r\n\t\t\tdirty,\r\n\t\t})\r\n\t}\r\n\r\n\ttargetTag = ({\r\n\t\tsource,\r\n\t\tcollection,\r\n\t\tplaceholder,\r\n\t\tlabel,\r\n\t\tindex,\r\n\t\ttarget,\r\n\t\tt,\r\n\t\tclasses,\r\n\t\tinvalidFields,\r\n\t}) => {\r\n\t\tconst id = `target-${index}`\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\tdirection='auto'\r\n\t\t\t\t\t\topenOnClick\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\r\n\t\t\t\t\t\terrorText={\r\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\r\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonChange={newValue => {\r\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: newValue,\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonInit={() =>\r\n\t\t\t\t\t\t\tthis.validateAutocomplete({\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\tisValid: target.tag,\r\n\t\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// validate={validate}\r\n\t\t\t\t\t\tlabel={label}\r\n\t\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\t\tsource={source}\r\n\t\t\t\t\t\tvalue={target.tag}\r\n\t\t\t\t\t\tsuggestionMatch='anywhere'\r\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\r\n\t\t\t\t\t\tallowCreate={!source.length}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={11} md={5}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Typography id={`target-score-${index}`}>\r\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\r\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\r\n\t\t\t\t\t\t\t\targs: [target.score],\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\r\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\r\n\t\t\t\t\t\t\tdisabled={!target.tag}\r\n\t\t\t\t\t\t\tvalue={target.score}\r\n\t\t\t\t\t\t\tmarks={marks}\r\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\r\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\r\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// newItem,\r\n\t\t\tclasses,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\t// const { targeting, tags } = newItem\r\n\r\n\t\tconst { targets } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t{[...targets].map(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{ source, collection, label, placeholder, target = {} } = {},\r\n\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t) => (\r\n\t\t\t\t\t\t\t\t<this.targetTag\r\n\t\t\t\t\t\t\t\t\tkey={index} // TODO\r\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\r\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\r\n\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\tsource={SOURCES[source].src}\r\n\t\t\t\t\t\t\t\t\tcollection={collection}\r\n\t\t\t\t\t\t\t\t\ttarget={target}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tonChange={target => {\r\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\r\n\t\t\t\t\t\t\tvalue={''}\r\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\r\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\r\n\t\t\t\t\t\t\tname='adType'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotTargeting.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tdescriptionHelperTxt: PropTypes.string,\r\n\tnameHelperTxt: PropTypes.string,\r\n}\r\n\r\nconst NewAdSlotTargeting = NewAdSlotHoc(withStyles(styles)(AdSlotTargeting))\r\n\r\nexport default Translate(NewAdSlotTargeting)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport NewAdSlotHoc from './NewAdSlotHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Img from 'components/common/img/Img'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n} from 'components/common/dialog/content'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from '../styles'\r\n\r\nconst SlotFallback = ({ img, targetUrl, t, classes }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\timg: classes.imgPreview,\r\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\r\n\t\t\t\t\t\talt={targetUrl}\r\n\t\t\t\t\t\tmediaMime={img.mime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<PropRow\r\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\r\n\t\t\t\tright={\r\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\r\n\t\t\t\t\t\t{targetUrl}\r\n\t\t\t\t\t</Anchor>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nclass AdSlotPreview extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.save = props.save\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, account, ...rest } = this.props\r\n\t\tconst { newItem, t } = rest\r\n\t\tconst { type, title, description, temp, tags, targetUrl } = newItem\r\n\t\tconst { minPerImpression } = temp\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\r\n\t\t\t\t\t\tright={account.wallet.address}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\r\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\r\n\t\t\t\t\t\tright={description}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\tleft={t('MIN_CPM_SLOT_LABEL')}\r\n\t\t\t\t\t\tright={minPerImpression + ' DAI'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{temp.useFallback && (\r\n\t\t\t\t\t\t<SlotFallback\r\n\t\t\t\t\t\t\timg={temp}\r\n\t\t\t\t\t\t\ttargetUrl={targetUrl}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{tags && (\r\n\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\tleft={t('tags', { isProp: true })}\r\n\t\t\t\t\t\t\tright={\r\n\t\t\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\ttargets={tags}\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAdSlotPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tnewItem: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nconst NewAdSlotPreview = NewAdSlotHoc(withStyles(styles)(AdSlotPreview))\r\nexport default connect(mapStateToProps)(Translate(NewAdSlotPreview))\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport FormSteps from 'components/dashboard/forms/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport NewAdUnitHoc from './AdUnit/NewAdUnitHoc'\r\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\r\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\r\nimport AdUnitTargeting from './AdUnit/AdUnitTargeting'\r\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\r\nimport NewCampaignHoc from './Campaign/NewCampaignHoc'\r\nimport CampaignUnits from './Campaign/CampaignUnits'\r\n// import CampaignTargeting from './Campaign/CampaignTargeting'\r\nimport CampaignFinance from './Campaign/CampaignFinance'\r\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\r\nimport NewAdSlotHoc from './AdSlot/NewAdSlotHoc'\r\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\r\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\r\nimport AdSlotTargeting from './AdSlot/AdSlotTargeting'\r\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\r\n\r\nconst SaveBtn = ({ newItem, t, save, ...rest }) => {\r\n\treturn (\r\n\t\t<Button color='primary' onClick={save}>\r\n\t\t\t{/*TODO: withStyles */}\r\n\t\t\t<SaveIcon style={{ marginRight: 8 }} />\r\n\t\t\t{t('SAVE')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SendBtn = ({ saveBtnLabel, saveBtnIcon, newItem, t, save, ...rest }) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t\tdisabled={newItem.temp.waitingAction}\r\n\t\t>\r\n\t\t\t{newItem.temp.waitingAction ? (\r\n\t\t\t\t<HourglassEmptyIcon />\r\n\t\t\t) : (\r\n\t\t\t\tsaveBtnIcon || <SaveIcon style={{ marginRight: 8 }} />\r\n\t\t\t)}\r\n\t\t\t{t(saveBtnLabel || 'OPEN_CAMPAIGN')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst SaveBtnWithAdUnit = NewAdUnitHoc(SaveBtn)\r\nconst SaveBtnWithCampaign = NewCampaignHoc(SendBtn)\r\nconst SaveBtnWithAdSlot = NewAdSlotHoc(SaveBtn)\r\n\r\nconst CancelBtn = ({ ...props }) => {\r\n\treturn <Button onClick={props.cancel}>{props.t('CANCEL')}</Button>\r\n}\r\n\r\nconst CancelBtnWithItem = NewAdUnitHoc(CancelBtn)\r\nconst CancelBtnWithCampaign = NewCampaignHoc(CancelBtn)\r\nconst CancelBtnWithAdSlot = NewAdSlotHoc(CancelBtn)\r\n\r\nconst dialogCommon = {\r\n\tdarkerBackground: true,\r\n\ticon: <AddIcon />,\r\n}\r\n\r\n// Ad unit\r\nexport const NewUnitSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithAdUnit}\r\n\t\tCancelBtn={CancelBtnWithItem}\r\n\t\tvalidateIdBase={'new-AdUnit-'}\r\n\t\titemType={'AdUnit'}\r\n\t\tstepsId={'new-adunit-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'UNIT_BASIC_STEP', page: AdUnitBasic },\r\n\t\t\t{ title: 'UNIT_MEDIA_STEP', page: AdUnitMedia },\r\n\t\t\t{ title: 'UNIT_TARGETS_STEP', page: AdUnitTargeting },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\tpage: AdUnitFormPreview,\r\n\t\t}}\r\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\r\n\t\tnoDefaultImg\r\n\t\titemModel={AdUnit}\r\n\t/>\r\n)\r\n\r\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\r\n\r\nexport const NewUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_UNIT'\r\n\t\ttitle='CREATE_NEW_UNIT'\r\n\t/>\r\n)\r\n\r\nconst copyProps = {\r\n\tdarkerBackground: true,\r\n\ticon: <FileCopyIcon />,\r\n}\r\n\r\nexport const NewCloneUnitDialog = props => (\r\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\r\n)\r\n\r\n// Campaign\r\nexport const NewCampaignSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithCampaign}\r\n\t\tCancelBtn={CancelBtnWithCampaign}\r\n\t\tvalidateIdBase={'new-Campaign-'}\r\n\t\titemType={'Campaign'}\r\n\t\tstepsId={'new-campaign-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'CAMPAIGN_UNITS_STEP', page: CampaignUnits },\r\n\t\t\t// NOTE: Only at ad units at the moment\r\n\t\t\t// { title: 'CAMPAIGN_TARGETING_STEP', page: CampaignTargeting },\r\n\t\t\t{ title: 'CAMPAIGN_FINANCE_STEP', page: CampaignFinance },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\r\n\t\t\tpage: CampaignFormPreview,\r\n\t\t}}\r\n\t\titemModel={Campaign}\r\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\r\n\t/>\r\n)\r\n\r\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\r\n\r\nexport const NewCampaignDialog = props => (\r\n\t<NewCampaignStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\ttitle='CREATE_NEW_CAMPAIGN'\r\n\t/>\r\n)\r\n\r\n// Ad slot\r\nexport const NewSlotSteps = props => (\r\n\t<FormSteps\r\n\t\t{...props}\r\n\t\tSaveBtn={SaveBtnWithAdSlot}\r\n\t\tCancelBtn={CancelBtnWithAdSlot}\r\n\t\tvalidateIdBase={'new-AdUnit-'}\r\n\t\titemType={'AdSlot'}\r\n\t\tstepsId={'new-slot-'}\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'SLOT_BASIC_STEP', page: AdSlotBasic },\r\n\t\t\t{ title: 'SLOT_PASSBACK_STEP', page: AdSlotMedia },\r\n\t\t\t{ title: 'SLOT_TAGS_STEP', page: AdSlotTargeting },\r\n\t\t]}\r\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdSlotPreview }}\r\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\r\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\r\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\r\n\t\titemModel={AdSlot}\r\n\t/>\r\n)\r\n\r\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\r\n\r\nexport const NewSlotDialog = props => (\r\n\t<NewSlotStepsWithDialog\r\n\t\t{...props}\r\n\t\t{...dialogCommon}\r\n\t\tbtnLabel='NEW_SLOT'\r\n\t\ttitle='CREATE_NEW_SLOT'\r\n\t/>\r\n)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ListWithControls from 'components/dashboard/containers/Lists/ListWithControls'\r\nimport classnames from 'classnames'\r\nimport TableCellMui from '@material-ui/core/TableCell'\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport Button from '@material-ui/core/Button'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\n// import IconButton from '@material-ui/core/IconButton'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Img from 'components/common/img/Img'\r\nimport Rows from 'components/dashboard/collection/Rows'\r\nimport Translate from 'components/translate/Translate'\r\n// import DeleteIcon from '@material-ui/icons/Delete'\r\n// import { FileCopy } from '@material-ui/icons'\r\n// import ArchiveIcon from '@material-ui/icons/Archive'\r\n// import UnarchiveIcon from '@material-ui/icons/Unarchive'\r\n// import RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline'\r\n// import AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\n// import { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\n\r\nconst TableCell = ({ children, ...rest }) => (\r\n\t<TableCellMui {...rest}>{!!children && children}</TableCellMui>\r\n)\r\n\r\nconst RRTableCell = withReactRouterLink(TableCell)\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nclass ItemsList extends Component {\r\n\trenderTableHead = ({ selected }) => {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tselectedItems,\r\n\t\t\tselectMode,\r\n\t\t\tnoActions,\r\n\t\t\t// itemType\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow>\r\n\t\t\t\t\t{selectMode && (\r\n\t\t\t\t\t\t<TableCell>{Object.keys(selectedItems).length || ''}</TableCell>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<TableCell> {t('PROP_MEDIA')}</TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_TITLE')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_TYPE')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_CREATED')} </TableCell>\r\n\r\n\t\t\t\t\t{!noActions && <TableCell> {t('ACTIONS')} </TableCell>}\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t)\r\n\t}\r\n\r\n\trenderCampaignTableHead = ({ selected }) => {\r\n\t\tconst { t, selectedItems, selectMode, noActions } = this.props\r\n\t\treturn (\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow>\r\n\t\t\t\t\t{selectMode && (\r\n\t\t\t\t\t\t<TableCell>{Object.keys(selectedItems).length || ''}</TableCell>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<TableCell> {t('PROP_MEDIA')}</TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_STATUS')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_DEPOSIT')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_DISTRIBUTED', { args: ['%'] })} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('PROP_CPM')} </TableCell>\r\n\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t{/* {t('PROP_CREATED')}/ <br /> */}\r\n\t\t\t\t\t\t{t('PROP_STARTS')}/ <br />\r\n\t\t\t\t\t\t{t('PROP_ENDS')}\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t{!noActions && <TableCell> {t('ACTIONS')} </TableCell>}\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t)\r\n\t}\r\n\r\n\trenderTableRow = (item, index, { to, selected }) => {\r\n\t\tconst {\r\n\t\t\t// t,\r\n\t\t\tclasses,\r\n\t\t\tselectMode,\r\n\t\t\tselectedItems,\r\n\t\t\tonSelect,\r\n\t\t\tnoActions,\r\n\t\t} = this.props\r\n\t\t// const ImagCell = noActions ? TableCell : RRTableCell\r\n\r\n\t\treturn (\r\n\t\t\t<TableRow key={item.ipfs || index} selected={selectedItems[item.ipfs]}>\r\n\t\t\t\t{selectMode && (\r\n\t\t\t\t\t<TableCell padding='checkbox'>\r\n\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t// indeterminate={numSelected > 0 && numSelected < rowCount}\r\n\t\t\t\t\t\t\tchecked={!!selectedItems[item.ipfs]}\r\n\t\t\t\t\t\t\tonChange={event => {\r\n\t\t\t\t\t\t\t\tonSelect(item.ipfs, event.target.checked)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t)}\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={item.mediaUrl || item.fallbackMediaiUrl || ''}\r\n\t\t\t\t\t\talt={item.title}\r\n\t\t\t\t\t\tmediaMime={item.mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<RRTableCell\r\n\t\t\t\t\t// className={tableTheme.link}\r\n\t\t\t\t\tto={to}\r\n\t\t\t\t>\r\n\t\t\t\t\t{item.title}\r\n\t\t\t\t</RRTableCell>\r\n\t\t\t\t<TableCell> {item.type} </TableCell>\r\n\t\t\t\t<TableCell> {formatDateTime(item.created)} </TableCell>\r\n\t\t\t\t{!noActions && this.renderActions({ item, to })}\r\n\t\t\t</TableRow>\r\n\t\t)\r\n\t}\r\n\r\n\trenderCampaignTableRow = (item, index, { to, selected }) => {\r\n\t\tconst {\r\n\t\t\tselectMode,\r\n\t\t\tselectedItems,\r\n\t\t\tonSelect,\r\n\t\t\tnoActions,\r\n\t\t\tclasses,\r\n\t\t} = this.props\r\n\r\n\t\tconst status = item.status || {}\r\n\t\tconst firstUnit = item.adUnits[0] || {}\r\n\t\tconst mediaUrl = firstUnit.mediaUrl || ''\r\n\t\tconst mediaMime = firstUnit.mediaMime || ''\r\n\r\n\t\treturn (\r\n\t\t\t<TableRow key={item.ipfs || index} selected={selectedItems[item.ipfs]}>\r\n\t\t\t\t{selectMode && (\r\n\t\t\t\t\t<TableCell padding='checkbox'>\r\n\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t// indeterminate={numSelected > 0 && numSelected < rowCount}\r\n\t\t\t\t\t\t\tchecked={!!selectedItems[item.ipfs]}\r\n\t\t\t\t\t\t\tonChange={event => {\r\n\t\t\t\t\t\t\t\tonSelect(item.ipfs, event.target.checked)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t)}\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={item.title}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell> {status.name} </TableCell>\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t{formatTokenAmount(item.depositAmount, 18, true)} DAI{' '}\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t{((status.fundsDistributedRatio || 0) / 10).toFixed(2)}\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t{formatTokenAmount(\r\n\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\r\n\t\t\t\t\t\t18,\r\n\t\t\t\t\t\ttrue\r\n\t\t\t\t\t)}{' '}\r\n\t\t\t\t\tDAI\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell>\r\n\t\t\t\t\t{/* {formatDateTime(item.created)} <br /> */}\r\n\t\t\t\t\t{formatDateTime(item.activeFrom)} <br />\r\n\t\t\t\t\t{formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t{!noActions && this.renderActions({ item, to })}\r\n\t\t\t</TableRow>\r\n\t\t)\r\n\t}\r\n\r\n\trenderActions = ({ item, to }) => {\r\n\t\tconst { t, account, actions, authSig, itemType } = this.props\r\n\t\tconst itemName = item.title\r\n\t\tconst itemTypeName = t(itemType, { isProp: true })\r\n\t\tconst isDemo = account.wallet.address === 'demo'\r\n\r\n\t\treturn (\r\n\t\t\t<TableCell>\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t>\r\n\t\t\t\t\t<RRButton to={to} variant='contained' color='primary'>\r\n\t\t\t\t\t\t{t('LABEL_VIEW')}\r\n\t\t\t\t\t</RRButton>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t\t{itemType === 'AdUnit' ? (\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\tactions.cloneItem({ item, itemType, objModel: AdUnit })\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{/* {!item.archived &&\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('TOOLTIP_ARCHIVE')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t// label={t('ARCHIVE')}\r\n\t\t\t\t\t\t\t// className={RTButtonTheme.danger}\r\n\t\t\t\t\t\t\tonClick={actions.confirmAction.bind(this,\r\n\t\t\t\t\t\t\t\tactions.archiveItem.bind(this, { item: item, authSig: account.wallet.authSig }),\r\n\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tconfirmLabel: t('CONFIRM_YES'),\r\n\t\t\t\t\t\t\t\t\tcancelLabel: t('CONFIRM_NO'),\r\n\t\t\t\t\t\t\t\t\ttext: t('ARCHIVE_ITEM', { args: [itemTypeName, itemName] }),\r\n\t\t\t\t\t\t\t\t\ttitle: t('CONFIRM_SURE')\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ArchiveIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t}\r\n\t\t\t\t{item.archived &&\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('TOOLTIP_UNARCHIVE')}\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tdisabled={isDemo}\r\n\t\t\t\t\t\t\t// label={t('UNARCHIVE')}\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tonClick={actions.confirmAction.bind(this,\r\n\t\t\t\t\t\t\t\tactions.unarchiveItem.bind(this, { item: item, authSig: account.wallet.authSig }),\r\n\t\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tconfirmLabel: t('CONFIRM_YES'),\r\n\t\t\t\t\t\t\t\t\tcancelLabel: t('CONFIRM_NO'),\r\n\t\t\t\t\t\t\t\t\ttext: t('UNARCHIVE_ITEM', { args: [itemType, itemName] }),\r\n\t\t\t\t\t\t\t\t\ttitle: t('CONFIRM_SURE')\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<UnarchiveIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t} */}\r\n\t\t\t</TableCell>\r\n\t\t)\r\n\t}\r\n\r\n\trenderRows = items => {\r\n\t\tconst { itemType, side, padding } = this.props\r\n\t\treturn (\r\n\t\t\t<Rows\r\n\t\t\t\tpadding={padding}\r\n\t\t\t\tside={side}\r\n\t\t\t\trows={items}\r\n\t\t\t\titemType={itemType}\r\n\t\t\t\trowRenderer={\r\n\t\t\t\t\titemType === 'Campaign'\r\n\t\t\t\t\t\t? this.renderCampaignTableRow\r\n\t\t\t\t\t\t: this.renderTableRow\r\n\t\t\t\t}\r\n\t\t\t\ttableHeadRenderer={\r\n\t\t\t\t\titemType === 'Campaign'\r\n\t\t\t\t\t\t? this.renderCampaignTableHead\r\n\t\t\t\t\t\t: this.renderTableHead\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { items, viewModeId, side, noControls, classes, ...rest } = this.props\r\n\r\n\t\tif (noControls) {\r\n\t\t\treturn this.renderRows(items)\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<ListWithControls\r\n\t\t\t\t{...rest}\r\n\t\t\t\titems={items}\r\n\t\t\t\tviewModeId={viewModeId}\r\n\t\t\t\tarchive\r\n\t\t\t\trenderRows={this.renderRows}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nItemsList.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\tviewModeId: PropTypes.string.isRequired,\r\n\theader: PropTypes.string,\r\n\tobjModel: PropTypes.func.isRequired,\r\n\titemType: PropTypes.string.isRequired,\r\n\tsortProperties: PropTypes.array.isRequired,\r\n\tselectedItems: PropTypes.object,\r\n\tselectMode: PropTypes.bool,\r\n\tonSelect: PropTypes.func,\r\n\tnoControls: PropTypes.bool,\r\n\tnoActions: PropTypes.bool,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst persist = state.persist\r\n\tconst memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tside: memory.nav.side,\r\n\t\tselectedItems: props.selectedItems || {},\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(ItemsList)))\r\n","export const styles = () => {\r\n\treturn {\r\n\t\tcellImg: {\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxHeight: 70,\r\n\t\t\tmaxWidth: 180,\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t}\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\tconst aspect = '56.25%'\r\n\r\n\treturn {\r\n\t\tcard: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\twidth: 320,\r\n\t\t\tdisplay: 'block',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\t'@media(max-width:380px)': {\r\n\t\t\t\tmargin: 0,\r\n\t\t\t\tmarginBottom: spacing,\r\n\t\t\t},\r\n\t\t},\r\n\t\tmediaRoot: {\r\n\t\t\theight: 0,\r\n\t\t\tpaddingTop: aspect, // 16:9\r\n\t\t\tposition: 'relative',\r\n\t\t\toverflow: 'hidden',\r\n\t\t},\r\n\t\timg: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tright: 0,\r\n\t\t\tmargin: 'auto',\r\n\t\t\t// minWidth: '50%',\r\n\t\t\t// minHeight: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxHeight: '100%',\r\n\t\t},\r\n\t\tbasicInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'start',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tbuttonRight: {\r\n\t\t\tmarginLeft: spacing,\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\tlabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t},\r\n\t\teditIcon: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tmarginTop: `calc(56.25% - ${40 + spacing}px)`,\r\n\t\t\ttop: 0,\r\n\t\t\tright: spacing,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport Img from 'components/common/img/Img'\r\nimport { validUrl } from 'helpers/validators'\r\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n// import { utils } from 'ethers'\r\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport { contracts } from 'services/smart-contracts/contractsCfg'\r\nimport { validations } from 'adex-models'\r\nimport { utils } from 'ethers'\r\n\r\nconst { DAI } = contracts\r\n\r\nconst FallbackAdData = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\tisDemo,\r\n\tactiveFields,\r\n\tsetActiveFields,\r\n\tvalidate,\r\n\tinvalidFields,\r\n\ttoggleFallbackImgEdit,\r\n\thandleChange,\r\n\t...rest\r\n}) => {\r\n\tconst errFallbackAdUrl = invalidFields['fallbackAdUrl']\r\n\r\n\treturn (\r\n\t\t<Card className={classes.card} raised={false}>\r\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }} src=''>\r\n\t\t\t\t<Img\r\n\t\t\t\t\tallowFullscreen={true}\r\n\t\t\t\t\tclassName={classes.img}\r\n\t\t\t\t\tsrc={item.fallbackMediaUrl}\r\n\t\t\t\t\talt={item.fallbackTargetUrl}\r\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t/>\r\n\t\t\t</CardMedia>\r\n\t\t\t{/* <Fab\r\n\t\t\t\tmini\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tonClick={toggleFallbackImgEdit}\r\n\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t\tdisabled={isDemo}\r\n\t\t\t>\r\n\t\t\t\t<EditIcon />\r\n\t\t\t</Fab> */}\r\n\t\t\t<CardContent>\r\n\t\t\t\t{activeFields.fallbackTargetUrl ? (\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t// required\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tlabel={t('fallbackTargetUrl', { isProp: true })}\r\n\t\t\t\t\t\tvalue={item.fallbackTargetUrl || ''}\r\n\t\t\t\t\t\tonChange={ev => handleChange('fallbackTargetUrl', ev.target.value)}\r\n\t\t\t\t\t\t// maxLength={1024}\r\n\t\t\t\t\t\tonBlur={() => {\r\n\t\t\t\t\t\t\tsetActiveFields('fallbackTargetUrl', false)\r\n\t\t\t\t\t\t\tvalidate('fallbackTargetUrl', {\r\n\t\t\t\t\t\t\t\tisValid:\r\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\r\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\r\n\t\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\trest.validate('fallbackTargetUrl', {\r\n\t\t\t\t\t\t\t\tisValid:\r\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\r\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\r\n\t\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\terrFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t\t<span> {errFallbackAdUrl.errMsg} </span>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t!errFallbackAdUrl || !errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t\t<div>{t('SLOT_FALLBACK_AD_URL_DESCRIPTION')}</div>\r\n\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{item.fallbackTargetUrl ? (\r\n\t\t\t\t\t\t\t\t<Anchor href={item.fallbackTargetUrl} target='_blank'>\r\n\t\t\t\t\t\t\t\t\t{item.fallbackTargetUrl}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<span style={{ opacity: 0.3 }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{t('NO_FALLBACK_URL_YET')}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{/* <span>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t// disabled={!canEditImg}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\trest.setActiveFields('fallbackTargetUrl', true)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</span> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{errFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span className={classes.error}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{errFallbackAdUrl.errMsg}{' '}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</CardContent>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nconst ValidatedFallbackAdData = ValidItemHoc(FallbackAdData)\r\n\r\nconst updateItemTemp = ({ prop = '', value = '', item = {} } = {}) => {\r\n\tconst { temp } = item\r\n\tconst newTemp = { ...temp }\r\n\tnewTemp[prop] = value\r\n\r\n\treturn newTemp\r\n}\r\n\r\nconst validateAmount = (value = '', prop, dirty, errMsg, validate) => {\r\n\tconst isValidNumber = validations.isNumberString(value)\r\n\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\r\n\r\n\tvalidate(prop, {\r\n\t\tisValid: isValid,\r\n\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\r\n\t\tdirty: dirty,\r\n\t})\r\n}\r\n\r\nconst SlotMinCPM = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\tisDemo,\r\n\tactiveFields,\r\n\tsetActiveFields,\r\n\tvalidate,\r\n\tinvalidFields,\r\n\ttoggleFallbackImgEdit,\r\n\thandleChange,\r\n\t...rest\r\n}) => {\r\n\tconst errMin = invalidFields['minPerImpression']\r\n\tconst minCPM = formatTokenAmount(\r\n\t\tbigNumberify((item.minPerImpression || {})[DAI.address] || '0').mul(1000),\r\n\t\t18,\r\n\t\ttrue\r\n\t)\r\n\r\n\tconst minPerImpression =\r\n\t\titem.temp.minPerImpression !== undefined\r\n\t\t\t? item.temp.minPerImpression\r\n\t\t\t: minCPM\r\n\r\n\treturn (\r\n\t\t<FormControl\r\n\t\t\tfullWidth\r\n\t\t\tclassName={classes.textField}\r\n\t\t\tmargin='dense'\r\n\t\t\terror={!!errMin}\r\n\t\t>\r\n\t\t\t<InputLabel>{t('MIN_CPM_SLOT_LABEL', { args: ['DAI'] })}</InputLabel>\r\n\t\t\t<Input\r\n\t\t\t\tfullWidth\r\n\t\t\t\tautoFocus\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname={'minPerImpression'}\r\n\t\t\t\tvalue={minPerImpression || ''}\r\n\t\t\t\tonChange={ev => {\r\n\t\t\t\t\tvalidateAmount(\r\n\t\t\t\t\t\tev.target.value,\r\n\t\t\t\t\t\t'minPerImpression',\r\n\t\t\t\t\t\ttrue,\r\n\t\t\t\t\t\t'',\r\n\t\t\t\t\t\tvalidate\r\n\t\t\t\t\t)\r\n\t\t\t\t\thandleChange(\r\n\t\t\t\t\t\t'temp',\r\n\t\t\t\t\t\tupdateItemTemp({\r\n\t\t\t\t\t\t\tprop: 'minPerImpression',\r\n\t\t\t\t\t\t\tvalue: ev.target.value,\r\n\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\tmaxLength={1024}\r\n\t\t\t\tonBlur={ev => {\r\n\t\t\t\t\tsetActiveFields('minPerImpression', false)\r\n\t\t\t\t}}\r\n\t\t\t\tdisabled={!activeFields.minPerImpression}\r\n\t\t\t\tendAdornment={\r\n\t\t\t\t\t<InputAdornment position='end'>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t\t\t// size='small'\r\n\t\t\t\t\t\t\tdisabled={activeFields['minPerImpression'] || isDemo}\r\n\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\tclassName={classes.buttonRight}\r\n\t\t\t\t\t\t\tonClick={ev => setActiveFields('minPerImpression', true)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\r\n\t\t\t<FormHelperText>\r\n\t\t\t\t{errMin && !!errMin.errMsg\r\n\t\t\t\t\t? t(errMin.errMsg, { args: errMin.errMsgArgs })\r\n\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')}\r\n\t\t\t</FormHelperText>\r\n\t\t</FormControl>\r\n\t)\r\n}\r\n\r\nconst ValidatedSlotMinCPM = ValidItemHoc(SlotMinCPM)\r\n\r\nconst MediaCard = ({\r\n\tclasses,\r\n\tmediaUrl,\r\n\tmediaMime,\r\n\ttitle,\r\n\tcanEditImg,\r\n\ttoggleImgEdit,\r\n\turl,\r\n}) => (\r\n\t<Card className={classes.card} raised={false}>\r\n\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\r\n\t\t\t<Img\r\n\t\t\t\tallowFullscreen={true}\r\n\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\talt={title}\r\n\t\t\t\tclassName={classes.img}\r\n\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\tallowVideo\r\n\t\t\t/>\r\n\t\t</CardMedia>\r\n\t\t{canEditImg && (\r\n\t\t\t<Button\r\n\t\t\t\tvariant='fab'\r\n\t\t\t\tmini\r\n\t\t\t\tcolor='secondary'\r\n\t\t\t\tonClick={toggleImgEdit}\r\n\t\t\t\tclassName={classes.editIcon}\r\n\t\t\t>\r\n\t\t\t\t<EditIcon />\r\n\t\t\t</Button>\r\n\t\t)}\r\n\r\n\t\t{url && (\r\n\t\t\t<CardContent>\r\n\t\t\t\t<Anchor href={url} target='_blank'>\r\n\t\t\t\t\t{url}\r\n\t\t\t\t</Anchor>\r\n\t\t\t</CardContent>\r\n\t\t)}\r\n\t</Card>\r\n)\r\n\r\nconst basicProps = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\titemType,\r\n\tactiveFields,\r\n\t...rest\r\n}) => {\r\n\tconst mediaUrl = item.mediaUrl\r\n\tconst mediaMime = item.mediaMime\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\r\n\t\t\t\t\t\t{itemType === 'AdSlot' ? (\r\n\t\t\t\t\t\t\t<ValidatedFallbackAdData\r\n\t\t\t\t\t\t\t\tvalidateId={item._id}\r\n\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\tactiveFields={activeFields}\r\n\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\r\n\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\r\n\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t{itemType === 'AdSlot' && (\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<ValidatedSlotMinCPM\r\n\t\t\t\t\t\t\t\t\t\tvalidateId={item._id}\r\n\t\t\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\r\n\t\t\t\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\tvalue={item.type}\r\n\t\t\t\t\t\t\t\t\tlabel={t('type', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t{Array.isArray(item.tags) && (\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tvalue={item.tags\r\n\t\t\t\t\t\t\t\t\t\t\t.map(tag => `\"${tag.tag}(${tag.score})\"`)\r\n\t\t\t\t\t\t\t\t\t\t\t.join(',\\n')}\r\n\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\tt('tags', { isProp: true }) + ` (${item.tags.length})`\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\trows={7}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\r\n\t\t\t\t{rightComponent}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport const BasicProps = withStyles(styles)(basicProps)\r\n\r\nconst campaignProps = ({\r\n\titem,\r\n\tt,\r\n\trightComponent,\r\n\turl,\r\n\tclasses,\r\n\tcanEditImg,\r\n\titemType,\r\n\t...rest\r\n}) => {\r\n\tconst mediaUrl = item.mediaUrl\r\n\tconst status = item.status || {}\r\n\t// console.log('item', item)\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={8}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className={classes.basicInfo}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\r\n\t\t\t\t\t\t\t\t\t<MediaCard\r\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\r\n\t\t\t\t\t\t\t\t\t\ttitle={item.title}\r\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\r\n\t\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\r\n\t\t\t\t\t\t\t\t\t\turl={url}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\r\n\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={status.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(status.fundsDistributedRatio || 0) / 10\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, 18) + ' DAI'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t18,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) + ' DAI'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={4}>\r\n\t\t\t\t\t{rightComponent}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// ((status.fundsDistributedRatio || 0) / 10).toFixed(2)\r\nexport const CampaignProps = withStyles(styles)(campaignProps)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport ItemsList from 'components/dashboard/containers/ItemsList'\r\nimport Translate from 'components/translate/Translate'\r\nimport Button from '@material-ui/core/Button'\r\nimport { AdUnit as AdUnitModel, Campaign as CampaignModel } from 'adex-models'\r\nimport { SORT_PROPERTIES_ITEMS, FILTER_PROPERTIES_ITEMS } from 'constants/misc'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { CampaignProps } from 'components/dashboard/containers/ItemCommon'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\r\n\r\nconst VIEW_MODE = 'campaignRowsView'\r\n\r\nexport class Campaign extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context)\r\n\r\n\t\tthis.state = {\r\n\t\t\ttabIndex: 0,\r\n\t\t\tstatistics: {},\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis.props.actions.updateCampaignState({ campaign: this.props.item })\r\n\t\t// this.props.actions.updateCampaignStatistics({ campaign: this.props.item })\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\tCampaignActions = ({ campaign, actions, t }) => {\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tonClick={() => actions.closeCampaign({ campaign })}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// classes,\r\n\t\t\titem,\r\n\t\t\t// setActiveFields,\r\n\t\t\t// handleChange,\r\n\t\t\t// activeFields,\r\n\t\t\t// isDemo,\r\n\t\t\tactions,\r\n\t\t\t// ...rest\r\n\t\t} = this.props\r\n\t\tconst { tabIndex } = this.state\r\n\r\n\t\tconst units = item.spec.adUnits\r\n\t\tconst campaign = new CampaignModel(item)\r\n\r\n\t\tconst balances =\r\n\t\t\tcampaign.state && campaign.state.lastApproved\r\n\t\t\t\t? campaign.state.lastApproved.newState.msg.balances\r\n\t\t\t\t: {}\r\n\r\n\t\tconst status = (campaign.status || {}).name\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<CampaignProps\r\n\t\t\t\t\titem={campaign}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\trightComponent={\r\n\t\t\t\t\t\t// <UnitTargets\r\n\t\t\t\t\t\t// \t{...rest}\r\n\t\t\t\t\t\t// \ttargets={campaign.targeting}\r\n\t\t\t\t\t\t// \tt={t}\r\n\t\t\t\t\t\t// \tsubHeader={t('CAMPAIGN_TARGETING')}\r\n\t\t\t\t\t\t// />\r\n\t\t\t\t\t\t(status === 'Ready' ||\r\n\t\t\t\t\t\t\tstatus === 'Active' ||\r\n\t\t\t\t\t\t\tstatus === 'Unhealthy') && (\r\n\t\t\t\t\t\t\t<this.CampaignActions\r\n\t\t\t\t\t\t\t\tcampaign={campaign}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\tactions={actions}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar position='static' color='default'>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\r\n\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\tscrollButtons='off'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label={t('STATE')} />\r\n\t\t\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t{tabIndex === 0 && (\r\n\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\tsubheader={\r\n\t\t\t\t\t\t\t\t\t<ListSubheader component='div'>{t('BALANCES')}</ListSubheader>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{Object.keys(balances).map(key => (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={key}>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\t\t\tprimary={formatTokenAmount(balances[key]) + ' DAI'}\r\n\t\t\t\t\t\t\t\t\t\t\tsecondary={key}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t\t\t<ItemsList\r\n\t\t\t\t\t\t\t\tremoveFromItem\r\n\t\t\t\t\t\t\t\titems={units}\r\n\t\t\t\t\t\t\t\tviewModeId={VIEW_MODE}\r\n\t\t\t\t\t\t\t\titemType='AdUnit'\r\n\t\t\t\t\t\t\t\tobjModel={AdUnitModel}\r\n\t\t\t\t\t\t\t\tsortProperties={SORT_PROPERTIES_ITEMS}\r\n\t\t\t\t\t\t\t\tfilterProperties={FILTER_PROPERTIES_ITEMS}\r\n\t\t\t\t\t\t\t\tuiStateId='campaign-units'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCampaign.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tunits: PropTypes.object.isRequired,\r\n\trowsView: PropTypes.bool.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tunits: persist.items['AdUnit'],\r\n\t\trowsView: !!persist.ui[VIEW_MODE],\r\n\t\tobjModel: CampaignModel,\r\n\t\titemType: 'Campaign',\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst CampaignItem = ItemHoc(withStyles(styles)(Campaign))\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(CampaignItem))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tflex: {\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t\tappBar: {\r\n\t\t\tmarginTop: spacing * 2,\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\tdatepicker: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tmarginLeft: 0,\r\n\t\t},\r\n\t}\r\n}\r\n","import Helper from 'helpers/miscHelpers'\r\nimport { defaults } from 'react-chartjs-2'\r\nimport merge from 'lodash.merge'\r\n\r\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\r\n// Eddie colors\r\nexport const CHARTS_COLORS = [\r\n\t'#00BAFF',\r\n\t'#7EDBFF',\r\n\t'#FF9FA8',\r\n\t'#14DC9C',\r\n\t'#61FFB2',\r\n\t'#ABFFE5',\r\n]\r\n\r\nexport let CHARTS_COMMON_OPTIONS = {\r\n\tresponsive: true,\r\n\ttooltips: {\r\n\t\tmode: 'label',\r\n\t\tcornerRadius: 2,\r\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\r\n\t},\r\n}\r\n\r\nexport const hexColorsToRgbaArray = (colors, alpha) => {\r\n\treturn colors.map(color => {\r\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\r\n\t})\r\n}\r\n\r\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tlegendList: {\r\n\t\t\tlistStyle: 'none',\r\n\t\t\tpaddingLeft: 0,\r\n\t\t},\r\n\t\tlegendSpan: {\r\n\t\t\twidth: '40px',\r\n\t\t\tminHeight: '13px',\r\n\t\t\tfloat: 'left',\r\n\t\t\tmargin: '0px 8px',\r\n\t\t},\r\n\t\tlegendListItem: {\r\n\t\t\theight: '20px',\r\n\t\t\tfontSize: '12px',\r\n\t\t\tmarginLeft: '8px',\r\n\t\t\tcolor: '#666',\r\n\t\t\tfontFamily: \"'Roboto', 'Arial', sans-serif\",\r\n\t\t\tcursor: 'pointer',\r\n\t\t},\r\n\t\tchartParent: {\r\n\t\t\theight: 'auto',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t\talignItems: 'center',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t},\r\n\t\tchartLabel: {\r\n\t\t\tmargin: '0 auto',\r\n\t\t\t'@media(min-width:650px) and (max-width:1279px)': {\r\n\t\t\t\tmargin: 'auto',\r\n\t\t\t},\r\n\t\t},\r\n\t\tchartContainer: {\r\n\t\t\tmargin: '0 auto',\r\n\t\t\t'@media(min-width:650px) and (max-width:1279px)': {\r\n\t\t\t\tmargin: 'auto',\r\n\t\t\t},\r\n\t\t},\r\n\t\tchartTitle: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tcolor: '#666',\r\n\t\t\tfontFamily: \"'Roboto', 'Arial', sans-serif\",\r\n\t\t\tflexBasis: '100%',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport { BidsLegend } from '.'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass BidsStatusPie extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.doughnut = React.createRef()\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// Force update to get the doughnut ref\r\n\t\tthis.forceUpdate()\r\n\t}\r\n\r\n\tcomponentWillUpdate = (nextProps, nextState) => {\r\n\t\t// Hack to update doughnut ref\r\n\t\tif (\r\n\t\t\tJSON.stringify(nextProps.pieData) !== JSON.stringify(this.props.pieData)\r\n\t\t) {\r\n\t\t\tthis.forceUpdate()\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst pieData = this.props.pieData || {}\r\n\t\tconst options = this.props.options || {}\r\n\t\tconst { onPieClick } = this.props\r\n\t\tconst classes = this.props.classes\r\n\r\n\t\tlet opts = {\r\n\t\t\t// responsive: true,\r\n\t\t\t// responsiveAnimationDuration: 500,\r\n\t\t\tcutoutPercentage: 70,\r\n\t\t\tlegend: {\r\n\t\t\t\tdisplay: false,\r\n\t\t\t},\r\n\t\t\tlegendCallback: function(chart) {\r\n\t\t\t\treturn <BidsLegend chart={chart} />\r\n\t\t\t},\r\n\t\t\ttooltips: {\r\n\t\t\t\tcallbacks: {\r\n\t\t\t\t\tlabel: function(tooltipItem, data) {\r\n\t\t\t\t\t\tlet label = (data.labels[tooltipItem.index] || '').split(' [')[0]\r\n\t\t\t\t\t\tlabel += ': '\r\n\t\t\t\t\t\tlet count =\r\n\t\t\t\t\t\t\tdata.datasets[tooltipItem.datasetIndex].data[tooltipItem.index]\r\n\t\t\t\t\t\tlabel += count\r\n\t\t\t\t\t\tlabel +=\r\n\t\t\t\t\t\t\t' (' + ((count / pieData.totalCount) * 100).toFixed(2) + '%)'\r\n\t\t\t\t\t\treturn label\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tmaintainAspectRatio: false,\r\n\t\t\t...options,\r\n\t\t}\r\n\r\n\t\tlet chartData = {\r\n\t\t\tlabels: pieData.labels || [],\r\n\t\t\tdatasets: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: CHARTS_COLORS,\r\n\t\t\t\t\t// borderColor: CHARTS_COLORS,\r\n\t\t\t\t\thoverBackgroundColor: CHARTS_COLORS,\r\n\t\t\t\t\t// hoverBorderColor: CHARTS_COLORS,\r\n\t\t\t\t\tborderWidth: 0,\r\n\t\t\t\t\tdata: pieData.data || [],\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className={classes.chartParent}>\r\n\t\t\t\t<h3 className={classes.chartTitle}>{this.props.chartTitle}</h3>\r\n\t\t\t\t<div className={classes.chartLabel}>\r\n\t\t\t\t\t{this.doughnut.current\r\n\t\t\t\t\t\t? this.doughnut.current.chartInstance.generateLegend()\r\n\t\t\t\t\t\t: null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={classes.chartContainer}>\r\n\t\t\t\t\t<Doughnut\r\n\t\t\t\t\t\twidth={250}\r\n\t\t\t\t\t\theight={150}\r\n\t\t\t\t\t\tref={this.doughnut}\r\n\t\t\t\t\t\tdata={chartData}\r\n\t\t\t\t\t\toptions={opts}\r\n\t\t\t\t\t\tgetElementAtEvent={e => {\r\n\t\t\t\t\t\t\tonPieClick(e[0])\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles)(BidsStatusPie)\r\n","import React, { Component } from 'react'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass BidsLegend extends Component {\r\n\ttoggleChartItem(e, index) {\r\n\t\tconst chart = this.props.chart\r\n\r\n\t\tchart.legend.options.onClick.call(chart, e, chart.legend.legendItems[index])\r\n\t}\r\n\r\n\ttoggleLabelCross(label) {\r\n\t\tlabel.style.textDecoration === 'line-through'\r\n\t\t\t? (label.style.textDecoration = 'none')\r\n\t\t\t: (label.style.textDecoration = 'line-through')\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { chart, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<ul className={classes.legendList}>\r\n\t\t\t\t\t{chart.data.datasets[0].data.map((item, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\tclassName={classes.legendListItem}\r\n\t\t\t\t\t\t\t\tonClick={event => {\r\n\t\t\t\t\t\t\t\t\tthis.toggleChartItem(event, i)\r\n\t\t\t\t\t\t\t\t\tthis.toggleLabelCross(event.currentTarget)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: chart.data.datasets[0].backgroundColor[i],\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName={classes.legendSpan}\r\n\t\t\t\t\t\t\t\t></span>\r\n\t\t\t\t\t\t\t\t{chart.data.labels[i] ? chart.data.labels[i] : null}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nexport default withStyles(styles)(BidsLegend)\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\r\n\t</g>,\r\n\r\n\t'AdexPublisher',\r\n\t'0 0 114 110'\r\n)\r\n","import React from 'react'\r\nimport createSvgIconCustom from './createSvgIconCustom'\r\n\r\nexport default createSvgIconCustom(\r\n\t<g>\r\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\r\n\t</g>,\r\n\t'AdexAdvertiser',\r\n\t'0 0 109 94'\r\n)\r\n","import React, { Component } from 'react'\r\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\r\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Translate from 'components/translate/Translate'\r\nimport classnames from 'classnames'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst SideBox = ({\r\n\tsalePoints = [],\r\n\tlinkTitle,\r\n\ticon,\r\n\ttitle,\r\n\tdisabled,\r\n\tclasses,\r\n\t...other\r\n}) => (\r\n\t<div\r\n\t\t{...other}\r\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\r\n\t>\r\n\t\t<div className={classes.icon}>{icon}</div>\r\n\t\t<h2>{title}</h2>\r\n\t\t<ul className={classes.salePoints}>\r\n\t\t\t{salePoints.map(function(point, key) {\r\n\t\t\t\treturn <li key={key}> {point} </li>\r\n\t\t\t})}\r\n\t\t</ul>\r\n\t</div>\r\n)\r\n\r\nconst RRSideBox = withReactRouterLink(SideBox)\r\n\r\nclass SideSelect extends Component {\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={true}\r\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\r\n\t\t\t\tBackdropProps={{\r\n\t\t\t\t\tclasses: {\r\n\t\t\t\t\t\troot: classes.backdrop,\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t\tfullWidth\r\n\t\t\t\tmaxWidth='sm'\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<AdvertiserLogo\r\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsalePoints={[\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tto='/dashboard/advertiser'\r\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<RRSideBox\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<PublisherLogo\r\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsalePoints={[\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\r\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tto='/dashboard/publisher'\r\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Translate(withStyles(styles)(SideSelect))\r\n","export const styles = () => {\r\n\treturn {\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tsideBox: {\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\twidth: '50%',\r\n\t\t\theight: 'auto',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tverticalAlign: 'top',\r\n\t\t\topacity: 0.7,\r\n\t\t\t'&:hover:not(.disabled)': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t\topacity: 1,\r\n\t\t\t},\r\n\t\t\t'&.disabled': {\r\n\t\t\t\topacity: 0.3,\r\n\t\t\t},\r\n\t\t\t'@media(max-width:425px)': {\r\n\t\t\t\twidth: '100%',\r\n\t\t\t},\r\n\t\t},\r\n\t\ticon: {\r\n\t\t\twidth: 110,\r\n\t\t\theight: 110,\r\n\t\t\tmargin: 'auto',\r\n\t\t},\r\n\t\tsalePoints: {\r\n\t\t\tpadding: 0,\r\n\t\t\t'& li': {\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t\tlistStyle: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\tinfoStatsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tjustifyContent: 'stretch',\r\n\t\t\theight: '100%',\r\n\t\t},\r\n\t\tinfoCard: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tflexGrow: 1,\r\n\t\t},\r\n\t\tlinkCard: {\r\n\t\t\t'&:hover, &:focus': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\tdashboardCardBody: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tpadding: spacing,\r\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { styles } from './styles'\r\nimport classnames from 'classnames'\r\nimport { LoadingSection } from 'components/common/spinners'\r\n\r\nconst StatsCard = props => {\r\n\tconst {\r\n\t\tclasses,\r\n\t\ttitle,\r\n\t\tsubtitle,\r\n\t\tlinkCard,\r\n\t\tloading,\r\n\t\tchildren,\r\n\t\tonClick,\r\n\t} = props\r\n\r\n\treturn (\r\n\t\t<Card\r\n\t\t\t// raised\r\n\t\t\tclassName={classnames(classes.infoCard, {\r\n\t\t\t\t[classes.linkCard]: !!linkCard,\r\n\t\t\t})}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t<LoadingSection loading={loading}>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t{title && (\r\n\t\t\t\t\t\t<Typography variant='h5' noWrap>\r\n\t\t\t\t\t\t\t{title}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{subtitle && (\r\n\t\t\t\t\t\t<Typography component='p' noWrap>\r\n\t\t\t\t\t\t\t{subtitle}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</CardContent>\r\n\t\t\t</LoadingSection>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nStatsCard.propTypes = {\r\n\tclasses: PropTypes.object.isRequired,\r\n\ttitle: PropTypes.string,\r\n\tsubtitle: PropTypes.string,\r\n\tlinkCard: PropTypes.bool,\r\n}\r\n\r\nexport default withStyles(styles)(StatsCard)\r\n","import React, { useEffect } from 'react'\r\nimport { Line, Chart } from 'react-chartjs-2'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { formatTokenAmount, formatDateTime } from 'helpers/formatters'\r\n\r\nconst parseValueByMetric = ({ value, metric }) => {\r\n\tswitch (metric) {\r\n\t\tcase 'eventPayouts':\r\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\r\n\t\tcase 'eventCounts':\r\n\t\t\treturn parseInt(value, 10)\r\n\t\tdefault:\r\n\t\t\treturn value\r\n\t}\r\n}\r\n\r\nconst commonDsProps = {\r\n\tfill: false,\r\n\tlineTension: 0.3,\r\n\tborderWidth: 0,\r\n\tpointRadius: 3,\r\n\tpointHitRadius: 10,\r\n}\r\n\r\nconst parseData = ({ data, metric, timeframe }) => {\r\n\tconst aggr = data[metric][timeframe].aggr || []\r\n\treturn aggr.reduce(\r\n\t\t(memo, item) => {\r\n\t\t\tconst { time, value } = item\r\n\t\t\tmemo.labels.push(formatDateTime(time))\r\n\t\t\tmemo.datasets.push(parseValueByMetric({ value, metric }))\r\n\t\t\treturn memo\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabels: [],\r\n\t\t\tdatasets: [],\r\n\t\t}\r\n\t)\r\n}\r\n\r\nexport const SimpleStatistics = ({\r\n\tdata = {},\r\n\ttimeframe = '',\r\n\toptions = {},\r\n\tt,\r\n\txLabel = 'TIMEFRAME',\r\n\ty1Label = 'DATA1',\r\n\ty2Label = 'DATA2',\r\n\ty1Color = CHARTS_COLORS[1],\r\n\ty2Color = CHARTS_COLORS[2],\r\n}) => {\r\n\t// Vertical line / crosshair\r\n\tuseEffect(() => {\r\n\t\tChart.pluginService.register({\r\n\t\t\tafterDraw: function(chart) {\r\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\r\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\r\n\t\t\t\t\tconst ctx = chart.ctx\r\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\r\n\t\t\t\t\tconst topY = chart.scales['y-axis-1'].top\r\n\t\t\t\t\tconst bottomY = chart.scales['y-axis-1'].bottom\r\n\t\t\t\t\tctx.save()\r\n\t\t\t\t\tctx.beginPath()\r\n\t\t\t\t\tctx.moveTo(x, topY)\r\n\t\t\t\t\tctx.lineTo(x, bottomY)\r\n\t\t\t\t\tctx.lineWidth = 1 // line width\r\n\t\t\t\t\tctx.setLineDash([1, 5])\r\n\t\t\t\t\tctx.strokeStyle = '#C0C0C0' // color of the vertical line\r\n\t\t\t\t\tctx.stroke()\r\n\t\t\t\t\tctx.restore()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t})\r\n\t})\r\n\r\n\tconst payoutsData = parseData({ data, metric: 'eventPayouts', timeframe })\r\n\r\n\tconst chartData = {\r\n\t\tlabels: payoutsData.labels,\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 0.5),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\r\n\t\t\t\tlabel: y1Label,\r\n\t\t\t\tdata: payoutsData.datasets,\r\n\t\t\t\tyAxisID: 'y-axis-1',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t...commonDsProps,\r\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 0.5),\r\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\r\n\t\t\t\tlabel: y2Label,\r\n\t\t\t\tdata: parseData({ data, metric: 'eventCounts', timeframe }).datasets,\r\n\t\t\t\tyAxisID: 'y-axis-2',\r\n\t\t\t},\r\n\t\t],\r\n\t}\r\n\r\n\tconst linesOptions = {\r\n\t\tresponsive: true,\r\n\t\t// This and fixed height are used for proper mobile display of the chart\r\n\t\tmaintainAspectRatio: false,\r\n\t\ttitle: {\r\n\t\t\tdisplay: true,\r\n\t\t\ttext: options.title,\r\n\t\t},\r\n\t\ttooltips: {\r\n\t\t\tbackgroundColor: 'black',\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t\tcallbacks: {\r\n\t\t\t\tlabel: function(t, d) {\r\n\t\t\t\t\t// This adds currency DAI to y1Label in the tooltips\r\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\r\n\t\t\t\t\tvar yLabel = xLabel === y1Label ? `${t.yLabel} DAI` : t.yLabel\r\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\thover: {\r\n\t\t\tmode: 'index',\r\n\t\t\tintersect: false,\r\n\t\t},\r\n\t\tscales: {\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: y1Label,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid: 'y-axis-1',\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\tposition: 'right',\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: y2Label,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tid: 'y-axis-2',\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\tprecision: 0,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// grid line settings\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t}\r\n\r\n\treturn <Line height={500} data={chartData} options={linesOptions} />\r\n}\r\n","import React, { useState } from 'react'\r\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { translate } from 'services/translations/translations'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\r\n\r\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\r\n\tconst translated = { ...tf }\r\n\ttranslated.label = translate(tf.label)\r\n\treturn translated\r\n})\r\n\r\nconst metrics = {\r\n\tpublisher: [\r\n\t\t{\r\n\t\t\tlabel: translate('LABEL_REVENUE'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: CHARTS_COLORS[3],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: translate('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: CHARTS_COLORS[1],\r\n\t\t},\r\n\t],\r\n\tadvertiser: [\r\n\t\t{\r\n\t\t\tlabel: translate('LABEL_SPEND'),\r\n\t\t\tvalue: 'eventPayouts',\r\n\t\t\tcolor: CHARTS_COLORS[2],\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: translate('LABEL_IMPRESSIONS'),\r\n\t\t\tvalue: 'eventCounts',\r\n\t\t\tcolor: CHARTS_COLORS[1],\r\n\t\t},\r\n\t],\r\n}\r\n\r\nexport function BasicStats({ analytics, side, t }) {\r\n\tconst [timeframe, setTimeframe] = useState(timeFrames[0].value)\r\n\tconst data = analytics[side] || {}\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2}>\r\n\t\t\t<Grid item xs={12} sm={6} md={3}>\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\r\n\t\t\t\t\tonChange={val => setTimeframe(val)}\r\n\t\t\t\t\tsource={timeFrames}\r\n\t\t\t\t\tvalue={timeframe}\r\n\t\t\t\t\thtmlId='timeframe-select'\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<SimpleStatistics\r\n\t\t\t\t\tdata={data['IMPRESSION']}\r\n\t\t\t\t\ttimeframe={timeframe}\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\ttitle: t(timeFrames.find(a => a.value === timeframe).label),\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ty1Label={metrics[side][0].label}\r\n\t\t\t\t\ty1Color={metrics[side][0].color}\r\n\t\t\t\t\ty2Label={metrics[side][1].label}\r\n\t\t\t\t\ty2Color={metrics[side][1].color}\r\n\t\t\t\t\teventType={'IMPRESSION'}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions, { execute } from 'actions'\r\nimport { BidsStatusPie } from 'components/dashboard/charts/slot'\r\nimport Translate from 'components/translate/Translate'\r\nimport { exchange as ExchangeConstants } from 'adex-constants'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport classnames from 'classnames'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport StatsCard from './StatsCard'\r\nimport { styles } from './styles'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { BasicStats } from './BasicStats'\r\nimport { push } from 'connected-react-router'\r\n\r\nconst { BidStatesLabels, BID_STATES } = ExchangeConstants\r\n\r\n// const COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#EBE', '#FAC']\r\n\r\nexport class DashboardStats extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tbidsData: [],\r\n\t\t\tbidsStats: {},\r\n\t\t}\r\n\t}\r\n\r\n\tgoToAccount = () => {\r\n\t\texecute(push('/dashboard/' + this.props.side + '/account'))\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.actions.updateNav('navTitle', this.props.t('DASHBOARD'))\r\n\t}\r\n\r\n\thandleTabChange = index => {\r\n\t\tthis.setState({ tabIndex: index })\r\n\t}\r\n\r\n\tmapBidsToStats = (bids, initialValue) => {\r\n\t\treturn bids.reduce(\r\n\t\t\t(memo, bid) => {\r\n\t\t\t\tmemo.count += 1\r\n\t\t\t\tmemo.amount += parseInt(bid._amount, 10)\r\n\r\n\t\t\t\treturn memo\r\n\t\t\t},\r\n\t\t\t{ amount: 0, count: 0 }\r\n\t\t)\r\n\t}\r\n\r\n\tmapClosedBidsToStats = bids => {\r\n\t\treturn bids.reduce(\r\n\t\t\t(memo, bid) => {\r\n\t\t\t\tswitch (bid._state) {\r\n\t\t\t\t\tcase BID_STATES.Canceled.id:\r\n\t\t\t\t\t\tmemo.canceled.count += 1\r\n\t\t\t\t\t\tmemo.canceled.amount += parseInt(bid._amount, 10)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase BID_STATES.Expired.id:\r\n\t\t\t\t\t\tmemo.expired.count += 1\r\n\t\t\t\t\t\tmemo.expired.amount += parseInt(bid._amount, 10)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase BID_STATES.Completed.id:\r\n\t\t\t\t\t\tmemo.completed.count += 1\r\n\t\t\t\t\t\tmemo.completed.amount += parseInt(bid._amount, 10)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn memo\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcompleted: { amount: 0, count: 0 },\r\n\t\t\t\tcanceled: { amount: 0, count: 0 },\r\n\t\t\t\texpired: { amount: 0, count: 0 },\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tgetLabel = (state, count, extraLabel) => {\r\n\t\treturn (\r\n\t\t\tthis.props.t(BidStatesLabels[state]) +\r\n\t\t\t(extraLabel ? extraLabel : '') +\r\n\t\t\t' [' +\r\n\t\t\tcount +\r\n\t\t\t']'\r\n\t\t)\r\n\t}\r\n\r\n\tmapData = ({ action = [], active = [], closed = [], open = [] }) => {\r\n\t\t// NOTE: Ugly but with 1 loop  map all the needed data\r\n\t\tconst PieLabels = []\r\n\t\tconst PieDataCount = []\r\n\t\tconst PieDataAmount = []\r\n\t\tconst tabs = []\r\n\t\tlet totalCount = 0\r\n\r\n\t\tconst stats = {}\r\n\t\t// const { t } = this.props\r\n\r\n\t\tstats.action = this.mapBidsToStats(action)\r\n\t\tconst actionCount = stats.action.count\r\n\t\tPieLabels.push(\r\n\t\t\tthis.getLabel(\r\n\t\t\t\tBID_STATES.Accepted.id,\r\n\t\t\t\tactionCount,\r\n\t\t\t\t' (' + this.props.t('BIDS_READY_TO_VERIFY') + ')'\r\n\t\t\t)\r\n\t\t)\r\n\t\tPieDataCount.push(actionCount)\r\n\t\tPieDataAmount.push(stats.action.amount)\r\n\t\ttotalCount += actionCount\r\n\t\ttabs.push('action')\r\n\r\n\t\tstats.active = this.mapBidsToStats(active)\r\n\t\tconst activeCount = stats.active.count\r\n\t\tPieLabels.push(\r\n\t\t\tthis.getLabel(\r\n\t\t\t\tBID_STATES.Accepted.id,\r\n\t\t\t\tactiveCount,\r\n\t\t\t\t' (' + this.props.t('BIDS_ACTIVE') + ')'\r\n\t\t\t)\r\n\t\t)\r\n\t\tPieDataCount.push(activeCount)\r\n\t\tPieDataAmount.push(stats.active.amount)\r\n\t\ttotalCount += activeCount\r\n\t\ttabs.push('active')\r\n\r\n\t\tstats.open = this.mapBidsToStats(open)\r\n\t\tconst openCount = stats.open.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.DoesNotExist.id, openCount))\r\n\t\tPieDataCount.push(openCount)\r\n\t\tPieDataAmount.push(stats.open.amount)\r\n\t\ttotalCount += openCount\r\n\t\ttabs.push('open')\r\n\r\n\t\tstats.closed = this.mapClosedBidsToStats(closed)\r\n\r\n\t\tconst completedCount = stats.closed.completed.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.Completed.id, completedCount))\r\n\t\tPieDataCount.push(completedCount)\r\n\t\tPieDataAmount.push(stats.closed.completed.amount)\r\n\t\ttotalCount += completedCount\r\n\t\ttabs.push('closed')\r\n\r\n\t\tconst canceledCount = stats.closed.canceled.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.Canceled.id, canceledCount))\r\n\t\tPieDataCount.push(canceledCount)\r\n\t\tPieDataAmount.push(stats.closed.canceled.amount)\r\n\t\ttotalCount += canceledCount\r\n\t\ttabs.push('closed')\r\n\r\n\t\tconst expiredCount = stats.closed.expired.count\r\n\t\tPieLabels.push(this.getLabel(BID_STATES.Expired.id, expiredCount))\r\n\t\tPieDataCount.push(expiredCount)\r\n\t\tPieDataAmount.push(stats.closed.expired.amount)\r\n\t\ttotalCount += expiredCount\r\n\t\ttabs.push('closed')\r\n\r\n\t\tstats.pieData = {\r\n\t\t\tlabels: PieLabels,\r\n\t\t\tdata: PieDataCount,\r\n\t\t\ttotalCount: totalCount,\r\n\t\t}\r\n\r\n\t\tstats.tabs = tabs\r\n\r\n\t\treturn stats\r\n\t}\r\n\r\n\tBidsStateChart = ({ stats }) => {\r\n\t\tconst t = this.props.t\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BidsStatusPie\r\n\t\t\t\t\tpieData={stats.pieData}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\tchartTitle={t('TITLE_STATS_BY_BID_STATUS')}\r\n\t\t\t\t\tonPieClick={ev => {\r\n\t\t\t\t\t\tif (ev && !isNaN(ev._index)) {\r\n\t\t\t\t\t\t\tthis.goToBids(stats.tabs[ev._index])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: Common func to get account stats for here and account component\r\n\tInfoStats = ({ stats }) => {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\t// side,\r\n\t\t\taccount,\r\n\t\t} = this.props\r\n\t\t// const spentEarned = side === 'publisher' ? 'LABEL_TOTAL_REVENUE' : 'LABEL_TOTAL_EXPENSES'\r\n\r\n\t\tconst formatted = account.stats.formatted || {}\r\n\t\tconst {\r\n\t\t\t// walletAddress,\r\n\t\t\t// walletAuthType,\r\n\t\t\t// walletPrivileges,\r\n\t\t\t// walletBalanceEth,\r\n\t\t\t// walletBalanceDai,\r\n\t\t\t// identityAddress,\r\n\t\t\tidentityBalanceDai,\r\n\t\t\toutstandingBalanceDai,\r\n\t\t\ttotalIdentityBalanceDai,\r\n\t\t} = formatted\r\n\t\tconst classes = this.props.classes\r\n\t\treturn (\r\n\t\t\t<div className={classes.infoStatsContainer}>\r\n\t\t\t\t{/* <StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tsubtitle={t(spentEarned)}\r\n\t\t\t\t\t// title={adxToFloatView(stats.closed.completed.amount || 0) + ' ADX'}\r\n\t\t\t\t\tonClick={() => this.goToBids('closed')}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard>\r\n\r\n\t\t\t\t<StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={() => this.goToBids('action')}\r\n\t\t\t\t\tsubtitle={t('LABEL_AMOUNT_READY_TO_VERIFY')}\r\n\t\t\t\t\t// title={adxToFloatView(stats.action.amount || 0) + ' ADX'}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard>\r\n\r\n\t\t\t\t{side === 'advertiser' &&\r\n\t\t\t\t\t<StatsCard\r\n\t\t\t\t\t\tlinkCard\r\n\t\t\t\t\t\tonClick={() => this.goToBids('open')}\r\n\t\t\t\t\t\tsubtitle={t('LABEL_OPEN_BIDS_AMOUNT')}\r\n\t\t\t\t\t\t// title={adxToFloatView(stats.open.amount || 0) + ' ADX'}\r\n\t\t\t\t\t>\r\n\r\n\t\t\t\t\t</StatsCard>\r\n\t\t\t\t} */}\r\n\r\n\t\t\t\t{/* <StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={this.goToAccount}\r\n\t\t\t\t\tsubtitle={t('WALLET_ETH_BALANCE')}\r\n\t\t\t\t\ttitle={walletBalanceEth + ' ETH'}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard>\r\n\r\n\t\t\t\t<StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={this.goToAccount}\r\n\t\t\t\t\tsubtitle={t('WALLET_DAI_BALANCE')}\r\n\t\t\t\t\ttitle={walletBalanceDai + ' DAI'}\r\n\t\t\t\t>\r\n\t\t\t\t</StatsCard> */}\r\n\r\n\t\t\t\t<StatsCard\r\n\t\t\t\t\tlinkCard\r\n\t\t\t\t\tonClick={this.goToAccount}\r\n\t\t\t\t\tsubtitle={t('IDENTITY_DAI_BALANCE_AVAILABLE_INFO', {\r\n\t\t\t\t\t\targs: [identityBalanceDai || 0, outstandingBalanceDai || 0],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tloading={\r\n\t\t\t\t\t\t(!identityBalanceDai && identityBalanceDai !== 0) ||\r\n\t\t\t\t\t\t(!outstandingBalanceDai && outstandingBalanceDai !== 0) ||\r\n\t\t\t\t\t\t(!totalIdentityBalanceDai && totalIdentityBalanceDai !== 0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttitle={`${totalIdentityBalanceDai || 0} DAI`}\r\n\t\t\t\t></StatsCard>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tside,\r\n\t\t\t// sideBids,\r\n\t\t\tclasses,\r\n\t\t\tt,\r\n\t\t\tanalytics,\r\n\t\t} = this.props\r\n\t\tif (side !== 'advertiser' && side !== 'publisher') {\r\n\t\t\treturn <SideSelect active={true} />\r\n\t\t}\r\n\r\n\t\t// const stats = this.mapData(sideBids)\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item md={12} lg={12} xs={12}>\r\n\t\t\t\t\t\t<Card className={classnames(classes.dashboardCardBody)}>\r\n\t\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t\t{analytics ? (\r\n\t\t\t\t\t\t\t\t\t<BasicStats side={side} analytics={analytics} t={t} />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\tt('NO_STATS_YET')\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item md={12} lg={6}>\r\n\t\t\t\t\t\t<this.InfoStats\r\n\t\t\t\t\t\t// stats={stats}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDashboardStats.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst { persist, memory } = state\r\n\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tside: memory.nav.side,\r\n\t\tanalytics: persist.analytics,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Translate(DashboardStats)))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { AdUnit } from 'adex-models'\r\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\r\nimport Translate from 'components/translate/Translate'\r\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\r\n\r\nexport class Unit extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcloseDialog: false,\r\n\t\t}\r\n\t}\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\r\n\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\r\n\t//     return diffProps || diffState\r\n\t// }\r\n\trender() {\r\n\t\tconst { item, t, ...rest } = this.props\r\n\r\n\t\tif (!item) return <h1>Unit '404'</h1>\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BasicProps\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\turl={item.adUrl}\r\n\t\t\t\t\trightComponent={\r\n\t\t\t\t\t\t<UnitTargets\r\n\t\t\t\t\t\t\t{...rest}\r\n\t\t\t\t\t\t\ttargets={item.targeting}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\tsubHeader={true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nUnit.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\treturn {\r\n\t\tobjModel: AdUnit,\r\n\t\titemType: 'AdUnit',\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst UnitItem = ItemHoc(Unit)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(UnitItem))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { AdSlot } from 'adex-models'\r\nimport copy from 'copy-to-clipboard'\r\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\r\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { contracts } from 'services/smart-contracts/contractsCfg'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport url from 'url'\r\n\r\nconst ADVIEW_URL = process.env.ADVIEW_URL\r\nconst adviewUrl = url.parse(ADVIEW_URL)\r\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\r\n\r\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \r\n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\r\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\r\n\t\t\t\tif (f.contentWindow === ev.source) {\r\n\t\t\t\t\tf.height = ev.data.adexHeight;\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t}, false)`\r\n\r\nconst { DAI } = contracts\r\n\r\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\r\n\r\nconst IntegrationCode = ({ t, account, slot = {}, classes, onCopy }) => {\r\n\tconst { id, type, tags, fallbackUnit } = slot\r\n\tconst identityAddr = account.identity.address\r\n\r\n\tlet sizes = type.split('_')[1].split('x')\r\n\tsizes = {\r\n\t\twidth: sizes[0],\r\n\t\theight: sizes[1],\r\n\t}\r\n\r\n\tconst options = {\r\n\t\tpublisherAddr: identityAddr,\r\n\t\twhitelistedToken: DAI.address,\r\n\t\twhitelistedType: type,\r\n\t\trandomize: true,\r\n\t\ttargeting: tags || [],\r\n\t\t// marketURL: ADEX_MARKET_HOST,\r\n\t\twidth: sizes.width,\r\n\t\theight: sizes.height,\r\n\t\tminPerImpression: '0',\r\n\t\tminTargetingScore: '0',\r\n\t\tfallbackUnit,\r\n\t\tmarketSlot: id,\r\n\t}\r\n\r\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\r\n\r\n\tlet src = ADVIEW_URL + query\r\n\r\n\tlet iframeStr =\r\n\t\t`<iframe\\n` +\r\n\t\t`\tsrc=\"${src}\"\\n` +\r\n\t\t`\twidth=\"${sizes.width}\"\\n` +\r\n\t\t`\theight=\"${sizes.height}\"\\n` +\r\n\t\t`\tscrolling=\"no\"\\n` +\r\n\t\t`\tframeborder=\"0\"\\n` +\r\n\t\t`\tstyle=\"border: 0;\"\\n` +\r\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\r\n\t\t`></iframe>`\r\n\r\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.integrationLabel}>\r\n\t\t\t\t{t('INTEGRATION_CODE')}\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tcopy(iframeStr)\r\n\t\t\t\t\t\tonCopy && onCopy()\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</div>\r\n\t\t\t<Paper>\r\n\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\r\n\t\t\t</Paper>\r\n\t\t\t{process.env.NODE_ENV !== 'production' && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\r\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport class Slot extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\teditFallbackImg: false,\r\n\t\t\ttabIndex: 0,\r\n\t\t}\r\n\t\tthis.tabsFocus = React.createRef()\r\n\t}\r\n\r\n\thandleFallbackImgUpdateToggle = () => {\r\n\t\tconst active = this.state.editFallbackImg\r\n\t\tthis.setState({ editFallbackImg: !active })\r\n\t}\r\n\r\n\thandleTabChange = (event, index) => {\r\n\t\tthis.setState({ tabIndex: index }, () => {\r\n\t\t\tif (this.tabsFocus.current) {\r\n\t\t\t\tthis.tabsFocus.current.scrollIntoView({\r\n\t\t\t\t\tbehavior: 'smooth',\r\n\t\t\t\t\tblock: 'start',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, classes, isDemo, item, account, itemType, ...rest } = this.props\r\n\t\tconst { tabIndex } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<BasicProps\r\n\t\t\t\t\titem={item}\r\n\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\tt={t}\r\n\t\t\t\t\turl={item.adUrl}\r\n\t\t\t\t\tcanEditImg={!isDemo}\r\n\t\t\t\t\trightComponent={null}\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AppBar position='static' color='default'>\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabIndex}\r\n\t\t\t\t\t\t\tonChange={this.handleTabChange.bind(this)}\r\n\t\t\t\t\t\t\tref={this.tabsFocus}\r\n\t\t\t\t\t\t\tscrollable\r\n\t\t\t\t\t\t\tscrollButtons='off'\r\n\t\t\t\t\t\t\tindicatorColor='primary'\r\n\t\t\t\t\t\t\ttextColor='primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Tab label={t('STATISTICS')} />\r\n\t\t\t\t\t\t\t<Tab label={t('INTEGRATION')} />\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t{tabIndex === 0 && null}\r\n\t\t\t\t\t\t{tabIndex === 1 && (\r\n\t\t\t\t\t\t\t<IntegrationCode\r\n\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\taccount={account}\r\n\t\t\t\t\t\t\t\tslot={item}\r\n\t\t\t\t\t\t\t\tonCopy={() =>\r\n\t\t\t\t\t\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\taction: 'X',\r\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSlot.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\titem: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tobjModel: AdSlot,\r\n\t\titemType: 'AdSlot',\r\n\t\t// NOTE: maybe not the best way but pass props to the HOC here\r\n\t\tupdateImgInfoLabel: 'SLOT_AVATAR_IMG_INFO',\r\n\t\tupdateImgLabel: 'SLOT_AVATAR_IMG_LABEL',\r\n\t\tupdateImgErrMsg: 'ERR_IMG_SIZE_MAX',\r\n\t\tupdateImgExact: true,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst SlotItem = ItemHoc(withStyles(styles)(Slot))\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SlotItem)\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tintegrationLabel: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'space-between',\r\n\t\t},\r\n\t\tintegrationCode: {\r\n\t\t\twhiteSpace: 'pre-wrap',\r\n\t\t\twordBreak: 'break-word',\r\n\t\t\tpadding: spacing,\r\n\t\t\tmargin: 0,\r\n\t\t\talignSelf: 'flex-start',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ItemsList from 'components/dashboard/containers/ItemsList'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nclass Items extends Component {\r\n\tcomponentWillMount() {\r\n\t\tthis.props.actions.updateNav('navTitle', this.props.header)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes, itemType, ...rest } = this.props\r\n\t\tconst items = Array.from(Object.values(this.props.items || {})) || []\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{!!this.props.newItemBtn && <this.props.newItemBtn />}\r\n\r\n\t\t\t\t<ItemsList\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\titemType={itemType}\r\n\t\t\t\t\titems={items}\r\n\t\t\t\t\tviewModeId={this.props.viewModeId}\r\n\t\t\t\t\tarchive\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nItems.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\titems: PropTypes.object.isRequired,\r\n\tviewModeId: PropTypes.string.isRequired,\r\n\theader: PropTypes.string.isRequired,\r\n\tobjModel: PropTypes.func.isRequired,\r\n\titemType: PropTypes.string.isRequired,\r\n\tsortProperties: PropTypes.array.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst { persist, memory } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\titems: persist.items[props.itemType] || [],\r\n\t\tside: memory.nav.side,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(Items))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ListWithControls from 'components/dashboard/containers/Lists/ListWithControls'\r\nimport classnames from 'classnames'\r\nimport Rows from 'components/dashboard/collection/Rows'\r\nimport TableCellMui from '@material-ui/core/TableCell'\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { styles } from './styles'\r\n\r\nconst SORT_PROPERTIES = [\r\n\t{ value: 'sendingTime', label: '' },\r\n\t{ value: 'status', label: '' },\r\n\t{ value: 'txMethod', label: '' },\r\n\t{ value: 'id', label: '' },\r\n]\r\n\r\nconst TableCell = ({ children, ...rest }) => (\r\n\t<TableCellMui {...rest}>{!!children && children}</TableCellMui>\r\n)\r\n\r\nclass Transactions extends Component {\r\n\tcomponentWillMount() {\r\n\t\tthis.props.actions.updateNav('navTitle', this.props.t('TRANSACTIONS'))\r\n\t}\r\n\r\n\trenderTableHead() {\r\n\t\tlet t = this.props.t\r\n\t\treturn (\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow>\r\n\t\t\t\t\t<TableCell> {t('TRANS_METHOD')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('TRANS_ID')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('TRANS_NONCE')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('TRANS_STATUS')} </TableCell>\r\n\t\t\t\t\t<TableCell> {t('TRANS_SENDING_TIME')} </TableCell>\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t)\r\n\t}\r\n\r\n\t// TODO: make something common with unit bids\r\n\trenderTableRow(transaction, index, { to, selected }) {\r\n\t\tif (!transaction) return null\r\n\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<TableRow key={transaction.id || index}>\r\n\t\t\t\t<TableCell> {t(transaction.txMethod)} </TableCell>\r\n\t\t\t\t<TableCell className={classnames(classes.compactCol)}>\r\n\t\t\t\t\t<Typography noWrap>\r\n\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_TX_HOST + transaction.id}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t{transaction.id}{' '}\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</TableCell>\r\n\t\t\t\t<TableCell> {transaction.nonce} </TableCell>\r\n\t\t\t\t<TableCell> {transaction.status} </TableCell>\r\n\t\t\t\t<TableCell> {formatDateTime(transaction.sendingTime)} </TableCell>\r\n\t\t\t</TableRow>\r\n\t\t)\r\n\t}\r\n\r\n\trenderRows = items => (\r\n\t\t<Rows\r\n\t\t\tmultiSelectable={false}\r\n\t\t\tselectable={false}\r\n\t\t\tside={this.props.side}\r\n\t\t\titem={items}\r\n\t\t\trows={items}\r\n\t\t\trowRenderer={this.renderTableRow.bind(this)}\r\n\t\t\ttableHeadRenderer={this.renderTableHead.bind(this)}\r\n\t\t/>\r\n\t)\r\n\r\n\tsearchMatch = transaction => {\r\n\t\treturn (\r\n\t\t\t(transaction.id || '') +\r\n\t\t\t(transaction.status || '') +\r\n\t\t\t(transaction.bidId || '') +\r\n\t\t\t(transaction.state || '') +\r\n\t\t\t(transaction.sendingTime || '')\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\t// let t = this.props.t\r\n\t\tconst { transactions } = this.props\r\n\r\n\t\tconst reduced = Object.keys(transactions).reduce((memo, key) => {\r\n\t\t\tif (key && key.toString().length === 66) {\r\n\t\t\t\tconst itm = { ...transactions[key] }\r\n\t\t\t\titm.id = key\r\n\t\t\t\tmemo.push(itm)\r\n\t\t\t}\r\n\r\n\t\t\treturn memo\r\n\t\t}, [])\r\n\r\n\t\t// let itemsCount = reduced.length\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{/* <div className={classnames(theme.heading, theme.Transactions, theme.items)}>\r\n                    <h2 > {t('TRANSACTIONS')} {'(' + itemsCount + ')'} </h2>\r\n                </div> */}\r\n\r\n\t\t\t\t<ListWithControls\r\n\t\t\t\t\titems={reduced}\r\n\t\t\t\t\tlistMode='rows'\r\n\t\t\t\t\tdelete\r\n\t\t\t\t\trenderRows={this.renderRows}\r\n\t\t\t\t\tsortProperties={SORT_PROPERTIES}\r\n\t\t\t\t\tsearchMatch={this.searchMatch}\r\n\t\t\t\t\tuiStateId='transactions'\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nTransactions.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\ttransactions: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst { persist } = state\r\n\tconst { account, web3Transactions } = persist\r\n\t// let memory = state.memory\r\n\treturn {\r\n\t\taccount,\r\n\t\ttransactions: {\r\n\t\t\t...(web3Transactions[account.wallet.address] || {}),\r\n\t\t\t...(web3Transactions[account.identity.address] || {}),\r\n\t\t},\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(Translate(Transactions)))\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tcompactCol: {\r\n\t\t\tmaxWidth: 80,\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport Helper from 'helpers/miscHelpers'\r\n// import { exchange as ExchangeConstants } from 'adex-constants'\r\n\r\n// const { TX_STATUS } = ExchangeConstants\r\n\r\nexport default function NewTransactionHoc(Decorated) {\r\n\t// TODO: make it common for bids and items\r\n\tclass TransactionHoc extends Component {\r\n\t\tcomponentWillMount() {\r\n\t\t\t// console.log('TransactionHoc')\r\n\t\t}\r\n\r\n\t\thandleChange = (name, value) => {\r\n\t\t\tconst { actions, txId } = this.props\r\n\t\t\tactions.updateNewTransaction({ tx: txId, key: name, value: value })\r\n\t\t}\r\n\r\n\t\t// addTx = (tx) => {\r\n\t\t//     let txData = { ...tx }\r\n\t\t//     txData.status = TX_STATUS.Pending.id\r\n\t\t//     txData.sendingTime = Date.now()\r\n\t\t//     this.props.actions.addWeb3Transaction({ trans: txData, addr: this.props.account._addr })\r\n\t\t// }\r\n\r\n\t\tonSave = (err, tx, manyTxs) => {\r\n\t\t\tconst { closeDialog } = this.props\r\n\r\n\t\t\tif (closeDialog) {\r\n\t\t\t\tcloseDialog()\r\n\t\t\t}\r\n\r\n\t\t\tthis.resetTransaction()\r\n\t\t}\r\n\r\n\t\tresetTransaction = () => {\r\n\t\t\tconst { actions, txId } = this.props\r\n\t\t\tactions.resetNewTransaction({ tx: txId })\r\n\t\t}\r\n\r\n\t\thandleSaveRes = ({ err, res }) => {\r\n\t\t\tconst { t, actions } = this.props\r\n\t\t\t// const areManyTxs = Array.isArray(res)\r\n\r\n\t\t\tif (err) {\r\n\t\t\t\tactions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\taction: 'X',\r\n\t\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\r\n\t\t\t\t\ttimeout: 50000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tthis.onSave(err, res, Array.isArray(res))\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tthis.handleChange('waitingForWalletAction', true)\r\n\t\t\tthis.props\r\n\t\t\t\t.saveFn({\r\n\t\t\t\t\tacc: this.props.account,\r\n\t\t\t\t\ttransaction: this.props.transaction,\r\n\t\t\t\t})\r\n\t\t\t\t.then((res = {}) => {\r\n\t\t\t\t\tconsole.log('res on save', res)\r\n\r\n\t\t\t\t\tconst txs = res.txResults || res\r\n\t\t\t\t\tconst err = res.err || null\r\n\r\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: txs })\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error = {}) => {\r\n\t\t\t\t\tconsole.log('err on save', error)\r\n\t\t\t\t\tconst res = error.txResults || null\r\n\t\t\t\t\tconst err = error.err || error\r\n\r\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: res })\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\t// TODO: take a look at onSave if change something\r\n\t\t\tthis.onSave(null, null)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tlet transaction = this.props.transaction || {}\r\n\t\t\tlet props = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\ttransaction={transaction}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tresetTransaction={this.resetTransaction}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tTransactionHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tlabel: PropTypes.string,\r\n\t\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\r\n\t\t\t.isRequired,\r\n\t\ttransaction: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tsaveFn: PropTypes.func,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\tconst txId = props.stepsId\r\n\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\ttransaction: memory.newTransactions[txId] || {},\r\n\t\t\ttxId: txId,\r\n\t\t\tspinner: memory.spinners[txId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(TransactionHoc))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { validateNumber } from 'helpers/validators'\r\nimport { InputLoading } from 'components/common/spinners/'\r\n\r\nclass WithdrawFromIdentity extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { validate, transaction } = this.props\r\n\t\t// If nothing entered will validate\r\n\t\tif (!transaction.withdrawAmount) {\r\n\t\t\tvalidate('withdrawAmount', {\r\n\t\t\t\tisValid: true,\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t\tif (!transaction.withdrawTo) {\r\n\t\t\tvalidate('withdrawTo', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateAmount = (numStr, dirty) => {\r\n\t\tlet isValid = validateNumber(numStr)\r\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\r\n\t\tlet errMsgArgs = []\r\n\t\tif (\r\n\t\t\tisValid &&\r\n\t\t\tparseFloat(numStr) > parseFloat(this.props.identityAvailable)\r\n\t\t) {\r\n\t\t\tisValid = false\r\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\r\n\t\t\terrMsgArgs = [this.props.identityAvailable, 'DAI']\r\n\t\t}\r\n\r\n\t\tthis.props.validate('withdrawAmount', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: msg, args: errMsgArgs },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tactions,\r\n\t\t\tvalidate,\r\n\t\t\ttransaction,\r\n\t\t\tt,\r\n\t\t\tinvalidFields,\r\n\t\t\tidentityAvailable,\r\n\t\t\thandleChange,\r\n\t\t\twithdrawToSpinner,\r\n\t\t} = this.props\r\n\t\tconst { withdrawTo, withdrawAmount } = transaction || {}\r\n\t\tconst errAmount = invalidFields['withdrawAmount']\r\n\t\tconst errAddr = invalidFields['withdrawTo']\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t{t('EXCHANGE_CURRENT_DAI_BALANCE_AVAILABLE_ON_IDENTITY')}{' '}\r\n\t\t\t\t\t{identityAvailable}{' '}\r\n\t\t\t\t</div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tdisabled={withdrawToSpinner}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\r\n\t\t\t\t\tname='withdrawTo'\r\n\t\t\t\t\tvalue={withdrawTo || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\r\n\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: withdrawTo,\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'withdrawTo',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: withdrawTo,\r\n\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'withdrawTo',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\r\n\t\t\t\t\tname='withdrawAmount'\r\n\t\t\t\t\tvalue={withdrawAmount || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('withdrawAmount', ev.target.value)}\r\n\t\t\t\t\tonBlur={() => this.validateAmount(withdrawAmount, true)}\r\n\t\t\t\t\tonFocus={() => this.validateAmount(withdrawAmount, false)}\r\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\r\n\t\t\t\t\thelperText={\r\n\t\t\t\t\t\terrAmount && !!errAmount.dirty\r\n\t\t\t\t\t\t\t? errAmount.errMsg\r\n\t\t\t\t\t\t\t: t('MAX_AMOUNT_TO_WITHDRAW', {\r\n\t\t\t\t\t\t\t\t\targs: [identityAvailable, 'DAI'],\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nWithdrawFromIdentity.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId,\r\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst WithdrawFromIdentityForm = NewTransactionHoc(WithdrawFromIdentity)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(WithdrawFromIdentityForm)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\n// import Translate from 'components/translate/Translate'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { constants } from 'adex-models'\r\nimport { InputLoading } from 'components/common/spinners/'\r\n\r\nconst { IdentityPrivilegeLevel } = constants\r\n\r\nconst PRIV_LEVELS_SRC = Object.keys(IdentityPrivilegeLevel).map(key => {\r\n\treturn {\r\n\t\tvalue: IdentityPrivilegeLevel[key],\r\n\t\tlabel: key,\r\n\t}\r\n})\r\n\r\nclass SeAddressPrivilege extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { transaction, validate } = this.props\r\n\t\tif (!transaction.withdrawAmount) {\r\n\t\t\tvalidate('setAddr', {\r\n\t\t\t\tisValid: false,\r\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\r\n\t\t\t\tdirty: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tactions,\r\n\t\t\ttransaction,\r\n\t\t\tt,\r\n\t\t\tinvalidFields,\r\n\t\t\tidentityAvailable,\r\n\t\t\thandleChange,\r\n\t\t\tsetAddrSpinner,\r\n\t\t\tvalidate,\r\n\t\t} = this.props\r\n\t\tconst { setAddr, privLevel } = transaction || {}\r\n\t\t// const errAmount = invalidFields['withdrawAmount']\r\n\t\tconst errAddr = invalidFields['setAddr']\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t{t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')} {identityAvailable}{' '}\r\n\t\t\t\t</div>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\r\n\t\t\t\t\tname='setAddr'\r\n\t\t\t\t\tvalue={setAddr || ''}\r\n\t\t\t\t\tonChange={ev => handleChange('setAddr', ev.target.value)}\r\n\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: setAddr,\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'setAddr',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\tactions.validateAddress({\r\n\t\t\t\t\t\t\taddr: setAddr,\r\n\t\t\t\t\t\t\tdirty: false,\r\n\t\t\t\t\t\t\tvalidate,\r\n\t\t\t\t\t\t\tname: 'setAddr',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\r\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\r\n\t\t\t\t/>\r\n\t\t\t\t{setAddrSpinner ? <InputLoading /> : null}\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\r\n\t\t\t\t\thelperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\r\n\t\t\t\t\tonChange={val => handleChange('privLevel', val)}\r\n\t\t\t\t\tsource={PRIV_LEVELS_SRC}\r\n\t\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\r\n\t\t\t\t\thtmlId='label-privLevel'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSeAddressPrivilege.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\t// const persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttxId: txId,\r\n\t\tsetAddrSpinner: memory.spinners['setAddr'],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst SeAddressPrivilegeForm = NewTransactionHoc(SeAddressPrivilege)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(SeAddressPrivilegeForm)\r\n","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { PropRow } from 'components/common/dialog/content'\r\nimport { constants } from 'adex-models'\r\n\r\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\r\n\r\nexport const IdentityWithdrawPreview = ({\r\n\tt,\r\n\twithdrawTo,\r\n\tclasses,\r\n\tfees,\r\n\twithdrawAmount,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawTo'\r\n\t\t\tleft={t('withdrawTo', { isProp: true })}\r\n\t\t\tright={(withdrawTo || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='withdrawAmount'\r\n\t\t\tleft={t('withdrawAmount', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\r\n\t\t\t\t\t\targs: [fees.fees, 'DAI', fees.toGet, 'DAI'],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={withdrawAmount + ' DAI'}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n\r\nexport const SetPrivilegePreview = ({\r\n\tt,\r\n\tsetAddr,\r\n\tclasses,\r\n\tfees,\r\n\tprivLevel,\r\n}) => (\r\n\t<div>\r\n\t\t<PropRow\r\n\t\t\tkey='setAddr'\r\n\t\t\tleft={t('setAddr', { isProp: true })}\r\n\t\t\tright={(setAddr || '').toString()}\r\n\t\t/>\r\n\t\t<PropRow\r\n\t\t\tkey='privLevel'\r\n\t\t\tleft={t('privLevel', { isProp: true })}\r\n\t\t\tright={\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\r\n\t\t\t\t\t\targs: [fees.fees, 'DAI'],\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tprimary={privilegesNames[privLevel]}\r\n\t\t\t\t/>\r\n\t\t\t}\r\n\t\t/>\r\n\t</div>\r\n)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport NewTransactionHoc from './TransactionHoc'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\n// import { DEFAULT_GAS_PRICE } from 'services/smart-contracts/constants'\r\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\r\nimport {\r\n\tPropRow,\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tFullContentSpinner,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { IdentityWithdrawPreview, SetPrivilegePreview } from './previews'\r\n\r\nclass TransactionPreview extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props, context)\r\n\r\n\t\tthis.state = {\r\n\t\t\tgas: null,\r\n\t\t\tfees: null,\r\n\t\t\terrors: [],\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst {\r\n\t\t\tgetFeesFn,\r\n\t\t\tactions,\r\n\t\t\thandleChange,\r\n\t\t\tidentityAvailable,\r\n\t\t\ttransaction,\r\n\t\t\ttxId,\r\n\t\t\tt,\r\n\t\t\taccount,\r\n\t\t} = this.props\r\n\t\tif (getFeesFn && Object.keys(transaction).length) {\r\n\t\t\tactions.updateSpinner(txId, true)\r\n\t\t\tgetFeesFn({ acc: account, transaction: transaction })\r\n\t\t\t\t.then(fees => {\r\n\t\t\t\t\thandleChange('fees', fees)\r\n\t\t\t\t\tthis.setState({ fees: fees })\r\n\t\t\t\t\tactions.updateSpinner(txId, false)\r\n\r\n\t\t\t\t\tif (parseFloat(fees.fees || 0) > parseFloat(identityAvailable)) {\r\n\t\t\t\t\t\thandleChange('errors', [\r\n\t\t\t\t\t\t\tt('INSUFFICIENT_BALANCE_FOR_FEES', {\r\n\t\t\t\t\t\t\t\targs: [identityAvailable, 'DAI', fees.fees, 'DAI'],\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t])\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\tactions.updateSpinner(txId, false)\r\n\t\t\t\t\thandleChange('errors', [Helper.getErrMsg(err)])\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\ttransaction = {},\r\n\t\t\tt,\r\n\t\t\tclasses,\r\n\t\t\taccount,\r\n\t\t\tpreviewWarnMsgs,\r\n\t\t\tspinner,\r\n\t\t\tstepsId,\r\n\t\t} = this.props\r\n\t\tconst errors = transaction.errors || []\r\n\t\tconst {\r\n\t\t\twithdrawTo,\r\n\t\t\twithdrawAmount,\r\n\t\t\tsetAddr,\r\n\t\t\tprivLevel,\r\n\t\t\tfees = {},\r\n\t\t} = transaction\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{spinner ? (\r\n\t\t\t\t\t<FullContentSpinner />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ContentBox>\r\n\t\t\t\t\t\t{transaction.waitingForWalletAction ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t{errors.length\r\n\t\t\t\t\t\t\t\t? errors.map((err, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\r\n\t\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\r\n\t\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\r\n\t\t\t\t\t\t\t\t\t\t\tright={err}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t\t{previewWarnMsgs\r\n\t\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<PropRow\r\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\r\n\t\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\r\n\t\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t\t: null}\r\n\r\n\t\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\r\n\t\t\t\t\t\t\t\t<IdentityWithdrawPreview\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\tfees={fees}\r\n\t\t\t\t\t\t\t\t\twithdrawAmount={withdrawAmount}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\r\n\t\t\t\t\t\t\t\t<SetPrivilegePreview\r\n\t\t\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\t\t\tsetAddr={setAddr}\r\n\t\t\t\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\t\t\t\tfees={fees}\r\n\t\t\t\t\t\t\t\t\tprivLevel={privLevel}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nTransactionPreview.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tlabel: PropTypes.string,\r\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\ttransaction: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tpreviewMsgs: PropTypes.array,\r\n\testimateGasFn: PropTypes.func,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tconst persist = state.persist\r\n\tconst memory = state.memory\r\n\tconst txId = props.stepsId\r\n\treturn {\r\n\t\ttransaction: memory.newTransactions[txId] || {},\r\n\t\ttxId: txId,\r\n\t\tspinner: memory.spinners[txId],\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst TransactionPreviewForm = NewTransactionHoc(TransactionPreview)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles)(TransactionPreviewForm))\r\n","export const styles = theme => {\r\n\t// const spacing = theme.spacing(1)\r\n\treturn {\r\n\t\terror: {\r\n\t\t\tcolor: theme.palette.error.main,\r\n\t\t},\r\n\t\twarning: {\r\n\t\t\tcolor: theme.palette.warning.A700,\r\n\t\t},\r\n\t\tcentralSpinner: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 'calc(50% - 20px)',\r\n\t\t\ttop: ' calc(50% - 20px)',\r\n\t\t},\r\n\t\timgPreview: {\r\n\t\t\theight: 120,\r\n\t\t\twidth: 'auto',\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tboxShadow: theme.shadows[2],\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport WithdrawFromExchangePage from './WithdrawFromIdentity'\r\nimport SeAddressPrivilege from './SeAddressPrivilege'\r\nimport TransactionPreview from './TransactionPreview'\r\nimport Button from '@material-ui/core/Button'\r\nimport TransactionHoc from './TransactionHoc'\r\nimport FormSteps from 'components/dashboard/forms/FormSteps'\r\nimport WithDialog from 'components/common/dialog/WithDialog'\r\n// import SaveIcon from '@material-ui/icons/Save'\r\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\r\nimport {\r\n\twithdrawFromIdentity,\r\n\tsetIdentityPrivilege,\r\n} from 'services/smart-contracts/actions/identity'\r\nimport { addrIdentityPrivilege, identityWithdraw, execute } from 'actions'\r\n\r\nconst FormStepsWithDialog = WithDialog(FormSteps)\r\n\r\nconst SaveBtn = ({\r\n\tsave,\r\n\tsaveBtnLabel,\r\n\tsaveBtnIcon,\r\n\tt,\r\n\ttransaction,\r\n\twaitingForWalletAction,\r\n\tspinner,\r\n\t...other\r\n}) => {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tcolor='primary'\r\n\t\t\tonClick={save}\r\n\t\t\tdisabled={\r\n\t\t\t\t(!!transaction.errors && !!transaction.errors.length) ||\r\n\t\t\t\t!!transaction.waitingForWalletAction ||\r\n\t\t\t\t!!spinner\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{transaction.waitingForWalletAction ? (\r\n\t\t\t\t<HourglassEmptyIcon />\r\n\t\t\t) : (\r\n\t\t\t\tsaveBtnIcon || ''\r\n\t\t\t)}\r\n\t\t\t{t(saveBtnLabel || 'DO_IT')}\r\n\t\t</Button>\r\n\t)\r\n}\r\n\r\nconst CancelBtn = ({ cancel, cancelBtnLabel, t, ...other }) => {\r\n\treturn <Button onClick={cancel}>{t(cancelBtnLabel || 'CANCEL')}</Button>\r\n}\r\n\r\nconst SaveBtnWithTransaction = TransactionHoc(SaveBtn)\r\nconst CancelBtnWithTransaction = TransactionHoc(CancelBtn)\r\n\r\nconst txCommon = {\r\n\tSaveBtn: SaveBtnWithTransaction,\r\n\tCancelBtn: CancelBtnWithTransaction,\r\n\tvalidateIdBase: 'tx-',\r\n\tdarkerBackground: true,\r\n}\r\n\r\nexport const WithdrawTokenFromIdentity = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\r\n\t\tstepsId='withdrawFromIdentity'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\r\n\t\t\t\tpage: WithdrawFromExchangePage,\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn execute(\r\n\t\t\t\tidentityWithdraw({\r\n\t\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\r\n\t\t\t\t\twithdrawTo: transaction.withdrawTo,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction } = {}) => {\r\n\t\t\treturn withdrawFromIdentity({\r\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n)\r\n\r\nexport const SetIdentityPrivilege = props => (\r\n\t<FormStepsWithDialog\r\n\t\t{...props}\r\n\t\tbtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'\r\n\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\r\n\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\r\n\t\tstepsId='setIdentityPrivilege'\r\n\t\t{...txCommon}\r\n\t\tstepsPages={[\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\r\n\t\t\t\tpage: SeAddressPrivilege,\r\n\t\t\t},\r\n\t\t]}\r\n\t\tstepsPreviewPage={{\r\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\r\n\t\t\tpage: TransactionPreview,\r\n\t\t}}\r\n\t\tsaveFn={({ transaction } = {}) => {\r\n\t\t\treturn execute(\r\n\t\t\t\taddrIdentityPrivilege({\r\n\t\t\t\t\tprivLevel: transaction.privLevel,\r\n\t\t\t\t\tsetAddr: transaction.setAddr,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t}}\r\n\t\tgetFeesFn={({ transaction } = {}) => {\r\n\t\t\treturn setIdentityPrivilege({\r\n\t\t\t\tprivLevel: transaction.privLevel,\r\n\t\t\t\tsetAddr: transaction.setAddr,\r\n\t\t\t\tgetFeesOnly: true,\r\n\t\t\t})\r\n\t\t}}\r\n\t/>\r\n)\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\titemActions: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflex: '0 0 187px',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\talignItems: 'flex-end',\r\n\t\t\tjustifyContent: 'space-around',\r\n\t\t},\r\n\t\tactionBtn: {\r\n\t\t\tmarginBottom: spacing,\r\n\t\t},\r\n\t\taddress: {\r\n\t\t\twordWrap: 'break-word',\r\n\t\t},\r\n\t\tadvancedList: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t\textendedIcon: {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport { updateNav, addToast, updateAccountStats, execute } from 'actions'\r\nimport actions from 'actions'\r\nimport copy from 'copy-to-clipboard'\r\nimport Translate from 'components/translate/Translate'\r\nimport {\r\n\tWithdrawTokenFromIdentity,\r\n\tSetIdentityPrivilege,\r\n} from 'components/dashboard/forms/web3/transactions'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListDivider from '@material-ui/core/Divider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Button from '@material-ui/core/Button'\r\nimport Box from '@material-ui/core/Box'\r\nimport CopyIcon from '@material-ui/icons/FileCopy'\r\nimport DownloadIcon from '@material-ui/icons/SaveAlt'\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport { styles } from './styles.js'\r\nimport { getRecoveryWalletData } from 'services/wallet/wallet'\r\nimport { LoadingSection } from 'components/common/spinners'\r\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\r\nimport { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\r\nimport { selectAccount } from 'selectors'\r\n\r\n// const RRButton = withReactRouterLink(Button)\r\n\r\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\r\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\r\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\r\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\r\n\r\nfunction AccountInfo({ t }) {\r\n\t// eslint-disable-next-line no-useless-constructor\r\n\tconst account = useSelector(selectAccount)\r\n\tconst localWalletDownloadHref = () => {\r\n\t\tconst { email, password } = account.wallet\r\n\t\tconst obj = getRecoveryWalletData({ email, password })\r\n\t\tif (!obj) {\r\n\t\t\treturn null\r\n\t\t}\r\n\t\tconst data =\r\n\t\t\t'data:text/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(obj))\r\n\t\treturn data\r\n\t}\r\n\tconst walletJsonData = localWalletDownloadHref()\r\n\tconst [expanded, setExpanded] = useState(false)\r\n\tconst useStyles = makeStyles(styles)\r\n\tconst classes = useStyles()\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateAccountStats())\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(updateNav('navTitle', t('ACCOUNT')))\r\n\t}, [t])\r\n\r\n\tconst displayRampWidget = () => {\r\n\t\tconst widget = new RampInstantSDK({\r\n\t\t\thostAppName: 'AdExNetwork',\r\n\t\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\r\n\t\t\tvariant: 'auto',\r\n\t\t\tswapAsset: 'DAI',\r\n\t\t\tuserAddress: account.identity.address,\r\n\t\t})\r\n\t\twidget.domNodes.overlay.style.zIndex = 1000\r\n\t\twidget.show()\r\n\t}\r\n\r\n\tconst handleExpandChange = () => {\r\n\t\tsetExpanded(!expanded)\r\n\t}\r\n\r\n\tconst { grantType } = account.settings\r\n\tconst formatted = account.stats.formatted || {}\r\n\tconst {\r\n\t\twalletAddress,\r\n\t\twalletAuthType = '',\r\n\t\twalletPrivileges = '',\r\n\t\tidentityAddress,\r\n\t\tidentityBalanceDai,\r\n\t} = formatted\r\n\tconst { authType, email } = account.wallet\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<List\r\n\t\t\t// dense={true}\r\n\t\t\t>\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\tprimary={identityAddress}\r\n\t\t\t\t\t\tsecondary={\r\n\t\t\t\t\t\t\taccount._authType === 'demo'\r\n\t\t\t\t\t\t\t\t? t('DEMO_ACCOUNT_IDENTITY_ADDRESS')\r\n\t\t\t\t\t\t\t\t: t('IDENTITY_ETH_ADDR')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\tjustifyContent='center'\r\n\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t\t\t{walletJsonData && (\r\n\t\t\t\t\t\t\t\t<label htmlFor='download-wallet-json'>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\tid='download-wallet-json'\r\n\t\t\t\t\t\t\t\t\t\thref={localWalletDownloadHref()}\r\n\t\t\t\t\t\t\t\t\t\tdownload={`adex-account-data-${email}.json`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Button size='small' variant='contained'>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('BACKUP_LOCAL_WALLET')}\r\n\t\t\t\t\t\t\t\t\t\t\t<DownloadIcon />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box m={1}>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcopy(identityAddress)\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\taddToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\r\n\t\t\t\t\t\t\t\t\t\t\taction: 'X',\r\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\r\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CopyIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\tprimary={walletAddress}\r\n\t\t\t\t\t\tsecondary={\r\n\t\t\t\t\t\t\taccount.authType === 'demo'\r\n\t\t\t\t\t\t\t\t? t('DEMO_ACCOUNT_WALLET_ADDRESS', {\r\n\t\t\t\t\t\t\t\t\t\targs: [walletAuthType, walletPrivileges],\r\n\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t: t('WALLET_INFO_LABEL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\twalletAuthType.replace(/^\\w/, chr => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn chr.toUpperCase()\r\n\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\twalletPrivileges || ' - ',\r\n\t\t\t\t\t\t\t\t\t\t\tauthType,\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<ListItem>\r\n\t\t\t\t\t<Box display='flex' flexWrap={'wrap'} flex='1'>\r\n\t\t\t\t\t\t<Box display='flex' flexWrap={'wrap'} flex='1'>\r\n\t\t\t\t\t\t\t<LoadingSection\r\n\t\t\t\t\t\t\t\tloading={!identityBalanceDai && identityBalanceDai !== 0}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tprimary={`${identityBalanceDai || 0} DAI`}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_DAI_BALANCE_AVAILABLE')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</LoadingSection>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\taria-label='delete'\r\n\t\t\t\t\t\t\t\tclassName={classes.actionBtn}\r\n\t\t\t\t\t\t\t\tonClick={() => displayRampWidget()}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.extendedIcon} />\r\n\t\t\t\t\t\t\t\t{t('TOP_UP_IDENTITY_EUR')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Box className={classes.itemActions}>\r\n\t\t\t\t\t\t\t{grantType !== 'advertiser' && (\r\n\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tidentityAvailable={identityBalanceDai}\r\n\t\t\t\t\t\t\t\t\tidentityAvailableRaw={identityBalanceDai}\r\n\t\t\t\t\t\t\t\t\ttoken='DAI'\r\n\t\t\t\t\t\t\t\t\tclassName={classes.actionBtn}\r\n\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\tactions={actions}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</ListItem>\r\n\t\t\t\t<ListDivider />\r\n\t\t\t\t<ExpansionPanel expanded={expanded} onChange={handleExpandChange}>\r\n\t\t\t\t\t<ExpansionPanelSummary\r\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\r\n\t\t\t\t\t\taria-controls='panel1bh-content'\r\n\t\t\t\t\t\tid='panel1bh-header'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography className={classes.heading}>\r\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</ExpansionPanelSummary>\r\n\t\t\t\t\t<ExpansionPanelDetails>\r\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tsecondary={''}\r\n\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div className={classes.itemActions}>\r\n\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\r\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\t\t\t\t\ttoken='DAI'\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.actionBtn}\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tactions={actions}\r\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={identityBalanceDai}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListDivider />\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_ID],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t<ListItemText\r\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\r\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_ID],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\r\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</ExpansionPanelDetails>\r\n\t\t\t\t</ExpansionPanel>\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nAccountInfo.propTypes = {\r\n\tt: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AccountInfo)\r\n","import React from 'react'\r\nimport SideNav from './SideNav'\r\nimport TopBar from './TopBar'\r\nimport { Route, Switch } from 'react-router'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Campaign from 'components/dashboard/containers/Campaign'\r\nimport DashboardStats from 'components/dashboard/containers/DashboardStats'\r\nimport Unit from 'components/dashboard/containers/Unit'\r\nimport Slot from 'components/dashboard/containers/Slot'\r\nimport Items from 'components/dashboard/containers/Items'\r\nimport Transactions from 'components/dashboard/containers/Transactions'\r\nimport {\r\n\tAdUnit as AdUnitModel,\r\n\tAdSlot as AdSlotModel,\r\n\tCampaign as CampaignModel,\r\n} from 'adex-models'\r\nimport Account from 'components/dashboard/account/AccountInfo'\r\nimport Translate from 'components/translate/Translate'\r\nimport {\r\n\tNewUnitDialog,\r\n\tNewCampaignDialog,\r\n\tNewSlotDialog,\r\n} from 'components/dashboard/forms/items/NewItems'\r\nimport campaignsLoop from 'services/store-data/campaigns'\r\nimport {\r\n\tSORT_PROPERTIES_ITEMS,\r\n\tFILTER_PROPERTIES_ITEMS,\r\n\tFILTER_PROPERTIES_CAMPAIGN,\r\n\tSORT_PROPERTIES_CAMPAIGN,\r\n} from 'constants/misc'\r\nimport Drawer from '@material-ui/core/Drawer'\r\nimport Hidden from '@material-ui/core/Hidden'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nclass Dashboard extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tdrawerActive: false,\r\n\t\t\tdrawerPinned: false,\r\n\t\t\tsidebarPinned: false,\r\n\t\t\tmobileOpen: false,\r\n\t\t}\r\n\t}\r\n\r\n\thandleDrawerToggle = () => {\r\n\t\tthis.setState({ mobileOpen: !this.state.mobileOpen })\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tcampaignsLoop.stop()\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { actions } = this.props\r\n\r\n\t\tactions.updateNav('side', this.props.match.params.side)\r\n\t\tactions.getRelayerConfig()\r\n\t\tactions.getAllItems()\r\n\t\tactions.updateAccountStats()\r\n\t\tactions.updateAccountSettings()\r\n\t\tactions.updateAccountAnalytics()\r\n\t\tcampaignsLoop.start()\r\n\t}\r\n\r\n\t// shouldComponentUpdate(nextProps, nextState) {\r\n\r\n\t// }\r\n\r\n\tcomponentWillUpdate(nextProps) {\r\n\t\tif (nextProps.match.params.side !== this.props.match.params.side) {\r\n\t\t\tthis.props.actions.updateNav('side', nextProps.match.params.side)\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleDrawerActive = () => {\r\n\t\tthis.setState({ drawerActive: !this.state.drawerActive })\r\n\t}\r\n\r\n\ttoggleDrawerPinned = () => {\r\n\t\tthis.setState({ drawerPinned: !this.state.drawerPinned })\r\n\t}\r\n\r\n\ttoggleSidebar = () => {\r\n\t\tthis.setState({ sidebarPinned: !this.state.sidebarPinned })\r\n\t}\r\n\r\n\trenderAdUnits = () => {\r\n\t\treturn (\r\n\t\t\t<Items\r\n\t\t\t\theader={this.props.t('ALL_UNITS')}\r\n\t\t\t\tviewModeId='rowsViewUnits'\r\n\t\t\t\titemType={'AdUnit'}\r\n\t\t\t\tnewItemBtn={() => (\r\n\t\t\t\t\t<NewUnitDialog\r\n\t\t\t\t\t\tfabButton\r\n\t\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tbtnLabel='NEW_UNIT'\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\tobjModel={AdUnitModel}\r\n\t\t\t\tsortProperties={SORT_PROPERTIES_ITEMS}\r\n\t\t\t\tfilterProperties={FILTER_PROPERTIES_ITEMS}\r\n\t\t\t\tuiStateId='units'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\trenderCampaigns = () => {\r\n\t\treturn (\r\n\t\t\t<Items\r\n\t\t\t\theader={this.props.t('ALL_CAMPAIGNS')}\r\n\t\t\t\tviewModeId='rowsViewCampaigns'\r\n\t\t\t\titemType={'Campaign'}\r\n\t\t\t\tnewItemBtn={() => (\r\n\t\t\t\t\t<NewCampaignDialog\r\n\t\t\t\t\t\tfabButton\r\n\t\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\t\taccent\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tbtnLabel='NEW_CAMPAIGN'\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\tobjModel={CampaignModel}\r\n\t\t\t\tsortProperties={SORT_PROPERTIES_CAMPAIGN}\r\n\t\t\t\tuiStateId='campaigns'\r\n\t\t\t\tfilterProperties={FILTER_PROPERTIES_CAMPAIGN}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\trenderAdSlots = () => {\r\n\t\treturn (\r\n\t\t\t<Items\r\n\t\t\t\theader={this.props.t('ALL_SLOTS')}\r\n\t\t\t\tviewModeId='rowsViewSlots'\r\n\t\t\t\titemType={'AdSlot'}\r\n\t\t\t\tnewItemBtn={() => (\r\n\t\t\t\t\t<NewSlotDialog\r\n\t\t\t\t\t\tfabButton\r\n\t\t\t\t\t\tvariant='extended'\r\n\t\t\t\t\t\taccent\r\n\t\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\t\tbtnLabel='NEW_SLOT'\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\tobjModel={AdSlotModel}\r\n\t\t\t\tsortProperties={SORT_PROPERTIES_ITEMS}\r\n\t\t\t\tfilterProperties={FILTER_PROPERTIES_ITEMS}\r\n\t\t\t\tuiStateId='slots'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\thandleDrawerOpen = () => {\r\n\t\tthis.setState({ open: true })\r\n\t}\r\n\r\n\thandleDrawerClose = () => {\r\n\t\tthis.setState({ open: false })\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst side = this.props.side || this.props.match.params.side\r\n\t\tconst { classes, theme } = this.props\r\n\r\n\t\tconst drawer = (\r\n\t\t\t<div>\r\n\t\t\t\t{/* <div className={classes.toolbar}>\r\n                    <SideSwitch side={side} t={this.props.t} />\r\n                </div>\r\n                <Divider /> */}\r\n\t\t\t\t<SideNav location={this.props.location} side={side} />\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<TopBar\r\n\t\t\t\t\tside={side}\r\n\t\t\t\t\topen={this.state.open}\r\n\t\t\t\t\thandleDrawerToggle={this.handleDrawerToggle}\r\n\t\t\t\t/>\r\n\t\t\t\t<Hidden mdUp>\r\n\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\tvariant='temporary'\r\n\t\t\t\t\t\tanchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n\t\t\t\t\t\topen={this.state.mobileOpen}\r\n\t\t\t\t\t\tonClose={this.handleDrawerToggle}\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tModalProps={{\r\n\t\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{drawer}\r\n\t\t\t\t\t</Drawer>\r\n\t\t\t\t</Hidden>\r\n\t\t\t\t<Hidden smDown implementation='css'>\r\n\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\tvariant='permanent'\r\n\t\t\t\t\t\topen\r\n\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{drawer}\r\n\t\t\t\t\t</Drawer>\r\n\t\t\t\t</Hidden>\r\n\r\n\t\t\t\t<main className={classes.content}>\r\n\t\t\t\t\t<div className={classes.contentInner}>\r\n\t\t\t\t\t\t<div className={classes.toolbar} />\r\n\r\n\t\t\t\t\t\t<Switch locatiom={this.props.location}>\r\n\t\t\t\t\t\t\tTODO: Make things dynamic if easier\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\r\n\t\t\t\t\t\t\t\tcomponent={this.renderCampaigns}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\r\n\t\t\t\t\t\t\t\tcomponent={this.renderAdUnits}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/Campaign/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Campaign}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/AdUnit/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Unit}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/channels'\r\n\t\t\t\t\t\t\t\tcomponent={this.renderChannels}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\r\n\t\t\t\t\t\t\t\tcomponent={this.renderAdSlots}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/AdSlot/:itemId'\r\n\t\t\t\t\t\t\t\tcomponent={Slot}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\r\n\t\t\t\t\t\t\t\tcomponent={Account}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\r\n\t\t\t\t\t\t\t\tcomponent={Transactions}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\t\tpath='/dashboard/:side'\r\n\t\t\t\t\t\t\t\tcomponent={DashboardStats}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\tauth={this.props.auth}\r\n\t\t\t\t\t\t\t\tcomponent={() => <h1>404 at {side} side</h1>}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</main>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nDashboard.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tnull,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles, { withTheme: true })(Dashboard)))\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\troot: {\r\n\t\t\t// flexGrow: 1,\r\n\t\t\theight: '100vh',\r\n\t\t},\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\theight: '100vh',\r\n\t\t\tflexGrow: '1',\r\n\t\t},\r\n\t\tactions: {\r\n\t\t\tposition: 'relative',\r\n\t\t\theight: '100vh',\r\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t},\r\n\t\tbuttons: {\r\n\t\t\tbackgroundColor: theme.palette.grey[200],\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// left: spacing,\r\n\t\t\t// bottom: spacing\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\tmarginTop: '1.5vh',\r\n\t\t\twidth: '17.92vh',\r\n\t\t\theight: '6vh',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tnoBg: {\r\n\t\t\tbackground: 0,\r\n\t\t\tboxShadow: 'none',\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\t// position: 'relative',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tpadding: 24,\r\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t// '&:first-child': {\r\n\t\t\t// \tpaddingTop: spacing,\r\n\t\t\t// },\r\n\t\t\t// overflow: 'visible',\r\n\t\t\t// maxHeight: '100vh'\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getAuthLogo } from 'helpers/logosHelpers'\r\nimport Img from 'components/common/img/Img'\r\nimport classnames from 'classnames'\r\nimport { execute, resetIdentity } from 'actions'\r\nimport { selectAuth, selectAccount } from 'selectors'\r\nimport { logOut } from 'services/store-data/auth'\r\n\r\nconst RRButton = withReactRouterLink(Button)\r\n\r\nconst AuthSelect = ({ t, classes }) => {\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst account = useSelector(selectAccount)\r\n\tconst { wallet } = account || {}\r\n\r\n\tuseEffect(() => {\r\n\t\t// NOTE: reset identity if someone press backspace\r\n\t\t// to go to this page\r\n\t\texecute(resetIdentity())\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Grid\r\n\t\t\tcontainer\r\n\t\t\tspacing={2}\r\n\t\t\tdirection='column'\r\n\t\t\talignItems='stretch'\r\n\t\t\twrap='nowrap'\r\n\t\t>\r\n\t\t\t{auth && (\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<RRButton\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tto='/side-select'\r\n\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\tcolor='default'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('CONTINUE_AS', {\r\n\t\t\t\t\t\t\targs: [wallet.email || wallet.address, wallet.authType],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</RRButton>\r\n\t\t\t\t</Grid>\r\n\t\t\t)}\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<RRButton\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tto='/identity/grant'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tonClick={logOut}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('CREATE_GRANT_ACCOUNT')}\r\n\t\t\t\t</RRButton>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<RRButton\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tto='/login/grant'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tonClick={logOut}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('LOGIN_GRANT_ACCOUNT')}\r\n\t\t\t\t</RRButton>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<RRButton\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tto='/login/full?metamask'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.metamaskBtn}\r\n\t\t\t\t\tonClick={logOut}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\r\n\t\t\t\t\t\tclassName={classes.btnLogo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{t('METAMASK')}\r\n\t\t\t\t</RRButton>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12}>\r\n\t\t\t\t<RRButton\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tto='/login/full?trezor'\r\n\t\t\t\t\tsize='large'\r\n\t\t\t\t\tcolor='default'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tclassName={classes.trezorBtn}\r\n\t\t\t\t\tonClick={logOut}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\r\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\r\n\t\t\t\t\t\tclassName={classnames(classes.btnLogo, classes.btnLogoNoTxt)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{/* {t('TREZOR')} */}\r\n\t\t\t\t</RRButton>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default Translate(withStyles(styles)(AuthSelect))\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\tactions: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tbtnLogo: {\r\n\t\t\theight: '2rem',\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t\tbtnLogoNoTxt: {\r\n\t\t\tmarginRight: 0,\r\n\t\t},\r\n\t\tmetamaskBtn: {\r\n\t\t\tbackgroundColor: theme.palette.grey[800],\r\n\t\t\tcolor: theme.palette.common.white,\r\n\t\t},\r\n\t\ttrezorBtn: {\r\n\t\t\tbackgroundColor: theme.palette.common.white,\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport Logo from 'components/common/icons/AdexIconTxt'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport packageJson from './../../../package.json'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\r\n\r\nexport default function ConnectHoc(Decorated) {\r\n\tfunction Connect({ classes, t, noBackground, rest }) {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tclassName={classes.container}\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t// spacing={2}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\r\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\r\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\r\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\titem\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\txs={12}\r\n\t\t\t\t\t\tmd={5}\r\n\t\t\t\t\t\tlg={4}\r\n\t\t\t\t\t\txl={3}\r\n\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t\tclassName={classes.buttons}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\tdirection='column'\r\n\t\t\t\t\t\t\talignItems='stretch'\r\n\t\t\t\t\t\t\tjustify='space-between'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t<div className={classes.adexLogoTop}>\r\n\t\t\t\t\t\t\t\t\t<Logo className={classes.logo} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\t\tp={2}\r\n\t\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\t\tflexDirection='column'\r\n\t\t\t\t\t\t\t\talignItems='center'\r\n\t\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\thref='https://medium.com/adex-network-tips-and-tricks'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('HELP')}\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\r\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\r\n\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn Translate(withStyles(styles)(Connect))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions, { execute } from 'actions'\r\nimport { push } from 'connected-react-router'\r\n\r\nexport default function IdentityHoc(Decorated) {\r\n\tclass IdentityForm extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.save = this.save.bind(this)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tready: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandleChange = (prop, value) => {\r\n\t\t\tthis.props.actions.updateIdentity(prop, value)\r\n\t\t}\r\n\r\n\t\tcomponentDidUpdate = () => {\r\n\t\t\tif (this.props.account.wallet.authSig) {\r\n\t\t\t\texecute(push('/side-select'))\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsave = () => {\r\n\t\t\tconst { identity, actions } = this.props\r\n\t\t\tconst { wallet, email, identityData } = identity\r\n\r\n\t\t\tconst newWallet = { ...wallet }\r\n\t\t\tactions.createSession({\r\n\t\t\t\tidentity: identityData,\r\n\t\t\t\twallet: newWallet,\r\n\t\t\t\temail,\r\n\t\t\t\tregisterExpected: !identityData,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tcancel = () => {\r\n\t\t\tconst { resetIdentity } = this.props.actions\r\n\t\t\tresetIdentity()\r\n\t\t\texecute(push('/'))\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst { identity, spinner, waitingExpected, ...rest } = this.props\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tidentity={identity}\r\n\t\t\t\t\tsave={this.save}\r\n\t\t\t\t\thandleChange={this.handleChange}\r\n\t\t\t\t\tcancel={this.cancel}\r\n\t\t\t\t\twaiting={spinner}\r\n\t\t\t\t\twaitingExpected={waitingExpected}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tIdentityForm.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\taccount: PropTypes.object.isRequired,\r\n\t\tidentity: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\tconst { persist, memory } = state\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t\tidentity: memory.identity,\r\n\t\t\tspinner: memory.spinners['creating-session'],\r\n\t\t\twaitingExpected: memory.spinners['getting-expected-identity'],\r\n\t\t\twaitingUpload: memory.spinners['uploading-account-data'],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(IdentityForm)\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\tsigninContainer: {\r\n\t\t\toverflowX: 'hidden',\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tminHeight: '100vh',\r\n\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\tbackgroundSize: 'cover',\r\n\t\t\tbackgroundPosition: 'center',\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tcontainer: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: 0,\r\n\t\t\ttop: 0,\r\n\t\t\tright: 0,\r\n\t\t\tbottom: 0,\r\n\t\t},\r\n\t\tadxVersion: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tleft: spacing,\r\n\t\t\tbottom: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\ttextAlign: 'center',\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\tmarginTop: '1.5vh',\r\n\t\t\twidth: '17.92vh',\r\n\t\t\theight: '6vh',\r\n\t\t},\r\n\t\tformControl: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t},\r\n\t\tbuttonProgressWrapper: {\r\n\t\t\tmargin: spacing,\r\n\t\t\tposition: 'relative',\r\n\t\t},\r\n\t\tbuttonProgress: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '50%',\r\n\t\t\tleft: '50%',\r\n\t\t\tmarginTop: -12,\r\n\t\t\tmarginLeft: -12,\r\n\t\t},\r\n\t\tinfoPaper: {\r\n\t\t\t...theme.mixins.gutters(),\r\n\t\t\tpaddingTop: spacing * 2,\r\n\t\t\tpaddingBottom: spacing * 2,\r\n\t\t},\r\n\t\tinput: {\r\n\t\t\tdisplay: 'none',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Translate from 'components/translate/Translate'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { validEmail, validQuickAccountCoupon } from 'helpers/validators'\r\nimport { checkAccessCode } from 'services/adex-relayer/actions'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst ACCESS_CODE_CHECK = process.env.ACCESS_CODE_CHECK === 'true'\r\n\r\nclass IdentityContractAddressEthDeploy extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { email, emailCheck, code } = this.props.identity\r\n\r\n\t\tthis.validateIdentity()\r\n\t\tthis.validateEmail(email, false)\r\n\t\tthis.validateEmailCheck(emailCheck, false)\r\n\t\tACCESS_CODE_CHECK && this.validateCode(code, false)\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst currIdentity = this.props.identity.identityData\r\n\t\tif (\r\n\t\t\t!!currIdentity &&\r\n\t\t\tcurrIdentity.address !== (prevProps.identity.identityData || {}).address\r\n\t\t) {\r\n\t\t\tthis.validateIdentity()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateIdentity = () => {\r\n\t\tconst { validate, identity } = this.props\r\n\t\tconst { identityData } = identity\r\n\r\n\t\tvalidate('identityData', {\r\n\t\t\tisValid: !!identityData,\r\n\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateEmail(email, dirty) {\r\n\t\tconst isValid = validEmail(email)\r\n\t\tthis.props.validate('email', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateEmailCheck(emailCheck, email, dirty) {\r\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\r\n\t\tthis.props.validate('emailCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateCode(code, dirty) {\r\n\t\tconst isValidFormat = validQuickAccountCoupon(code)\r\n\r\n\t\tif (!isValidFormat) {\r\n\t\t\tthis.props.validate('code', {\r\n\t\t\t\tisValid: isValidFormat,\r\n\t\t\t\terr: { msg: 'ERR_ACCESS_CODE_FORMAT' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({ waitingCheck: true }, () => {\r\n\t\t\t\tcheckAccessCode({ code })\r\n\t\t\t\t\t.then((cpn = {}) => {\r\n\t\t\t\t\t\tconst isValid = cpn.exist === true && cpn.used === false\r\n\t\t\t\t\t\tlet msg = ''\r\n\t\t\t\t\t\tif (cpn.exist === false) {\r\n\t\t\t\t\t\t\tmsg = 'ERR_ACCESS_CODE_NOT_EXIST'\r\n\t\t\t\t\t\t} else if (cpn.used === true) {\r\n\t\t\t\t\t\t\tmsg = 'ERR_ACCESS_CODE_USED'\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.props.validate('code', {\r\n\t\t\t\t\t\t\tisValid: isValid,\r\n\t\t\t\t\t\t\terr: { msg: msg },\r\n\t\t\t\t\t\t\tdirty: dirty,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.props.validate('code', {\r\n\t\t\t\t\t\t\tisValid: false,\r\n\t\t\t\t\t\t\terr: { msg: 'ERR_ACCESS_CODE_NETWORK' },\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tgetIdentityContractData = async () => {\r\n\t\tconst { actions, identity } = this.props\r\n\t\tconst { wallet, email } = identity\r\n\t\tactions.getRegisterExpectedIdentity({\r\n\t\t\towner: wallet.address,\r\n\t\t\tmail: email,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tidentity,\r\n\t\t\thandleChange,\r\n\t\t\tinvalidFields,\r\n\t\t\twaitingExpected,\r\n\t\t\tclasses,\r\n\t\t} = this.props\r\n\t\tconst { identityData } = identity\r\n\t\t// Errors\r\n\t\tconst { email, emailCheck, code } = invalidFields\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t{ACCESS_CODE_CHECK && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography paragraph variant='body1'>\r\n\t\t\t\t\t\t\t\t{t('ACCESS_CODE_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{ACCESS_CODE_CHECK && (\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('code', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='code'\r\n\t\t\t\t\t\t\t\tvalue={identity.code || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev => handleChange('code', ev.target.value)}\r\n\t\t\t\t\t\t\t\tonBlur={() => this.validateCode(identity.code, true)}\r\n\t\t\t\t\t\t\t\tonFocus={() => this.validateCode(identity.code, false)}\r\n\t\t\t\t\t\t\t\terror={code && !!code.dirty}\r\n\t\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\tcode && !!code.dirty ? code.errMsg : t('ENTER_VALID_CODE')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography paragraph variant='body1'>\r\n\t\t\t\t\t\t\t{t('GENERATE_FULL_IDENTITY_INFO_EMAIL')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('email', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateEmail(identity.email, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateEmail(identity.email, false)}\r\n\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('emailCheck', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\t\tthis.validateEmailCheck(\r\n\t\t\t\t\t\t\t\t\tidentity.emailCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.email,\r\n\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\tthis.validateEmailCheck(\r\n\t\t\t\t\t\t\t\t\tidentity.emailCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.email,\r\n\t\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Typography paragraph variant='body1'>\r\n\t\t\t\t\t\t\t{t('GENERATE_FULL_IDENTITY_INFO_ADDRESS')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t{!(identityData || {}).address ? (\r\n\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={this.getIdentityContractData}\r\n\t\t\t\t\t\t\t\t\tdisabled={waitingExpected}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('GENERATE_IDENTITY_ADDRESS')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{waitingExpected && (\r\n\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Typography paragraph variant='subtitle2' color='primary'>\r\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_CONTRACT_IS', { args: [identityData.address] })}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nIdentityContractAddressEthDeploy.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tidentity: PropTypes.object.isRequired,\r\n\thandleChange: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tinvalidFields: PropTypes.object.isRequired,\r\n\tvalidate: PropTypes.func.isRequired,\r\n}\r\n\r\nconst IdentityContractAddressStep = IdentityHoc(\r\n\tIdentityContractAddressEthDeploy\r\n)\r\nexport default Translate(withStyles(styles)(IdentityContractAddressStep))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nexport default function NewItemHoc(Decorated) {\r\n\tclass ValidItemHoc extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tinvalidFields: {},\r\n\t\t\t}\r\n\r\n\t\t\tthis.validate = this.validate.bind(this)\r\n\t\t}\r\n\r\n\t\tcomponentWillReceiveProps(nextProps) {\r\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\r\n\t\t}\r\n\r\n\t\tcomponentWillMount() {\r\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\r\n\t\t}\r\n\r\n\t\tvalidate = (\r\n\t\t\tkey,\r\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\r\n\t\t) => {\r\n\t\t\tif (!isValid) {\r\n\t\t\t\tlet errors = {}\r\n\t\t\t\terrors[key] = {\r\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\r\n\t\t\t\t\tdirty: dirty,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\r\n\t\t\t} else if (removeAll) {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\tconst props = this.props\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...props}\r\n\t\t\t\t\tvalidate={this.validate}\r\n\t\t\t\t\tinvalidFields={this.state.invalidFields}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tValidItemHoc.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t\tvalidateId: PropTypes.string.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state, props) {\r\n\t\t// let persist = state.persist\r\n\t\tlet memory = state.memory\r\n\t\treturn {\r\n\t\t\tvalidations: memory.validations[props.validateId],\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc))\r\n}\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport Translate from 'components/translate/Translate'\r\nimport IdentityHoc from '../IdentityHoc'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\n\r\nexport default function AuthHoc(Decorated) {\r\n\tclass Auth extends Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props)\r\n\t\t\tthis.state = {\r\n\t\t\t\tmethod: '',\r\n\t\t\t\tsideSelect: false,\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdateWallet = ({\r\n\t\t\taddress,\r\n\t\t\tauthType,\r\n\t\t\thdWalletAddrPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tpath,\r\n\t\t\tchainId,\r\n\t\t\tsignType,\r\n\t\t\tbalanceEth,\r\n\t\t\tbalanceDai,\r\n\t\t}) => {\r\n\t\t\tconst wallet = {\r\n\t\t\t\taddress,\r\n\t\t\t\tauthType,\r\n\t\t\t\thdWalletAddrPath,\r\n\t\t\t\thdWalletAddrIdx,\r\n\t\t\t\tpath,\r\n\t\t\t\tchainId,\r\n\t\t\t\tsignType,\r\n\t\t\t\tbalanceEth,\r\n\t\t\t\tbalanceDai,\r\n\t\t\t}\r\n\r\n\t\t\tthis.props.handleChange('identityContractOwner', address)\r\n\t\t\tthis.props.handleChange('wallet', wallet)\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\treturn (\r\n\t\t\t\t<Decorated\r\n\t\t\t\t\t{...this.props}\r\n\t\t\t\t\t// updateAcc={this.updateAcc}\r\n\t\t\t\t\tupdateWallet={this.updateWallet}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tAuth.propTypes = {\r\n\t\tactions: PropTypes.object.isRequired,\r\n\t}\r\n\r\n\tfunction mapStateToProps(state) {\r\n\t\tlet persist = state.persist\r\n\t\t// let memory = state.memory\r\n\t\treturn {\r\n\t\t\taccount: persist.account,\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapDispatchToProps(dispatch) {\r\n\t\treturn {\r\n\t\t\tactions: bindActionCreators(actions, dispatch),\r\n\t\t}\r\n\t}\r\n\r\n\treturn connect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps\r\n\t)(Translate(ValidItemHoc(IdentityHoc(Auth))))\r\n}\r\n","export const styles = theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\treturn {\r\n\t\taddrListItem: {\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfo: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexWrap: 'wrap',\r\n\t\t\tflexGrow: 1,\r\n\t\t\tpaddingTop: spacing,\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\t'& strong': {\r\n\t\t\t\tmarginRight: spacing * 2,\r\n\t\t\t},\r\n\t\t},\r\n\t\taddrInfoLabel: {\r\n\t\t\tcolor: theme.palette.text.hint,\r\n\t\t\tfontWeight: 'bold',\r\n\t\t},\r\n\t\tdialogPaper: {\r\n\t\t\theight: '80vh',\r\n\t\t\tmargin: spacing * 2,\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'column',\r\n\t\t\tflex: '1 1 auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tpadding: 0,\r\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\r\n\t\t\t'&:first-child': {\r\n\t\t\t\tpaddingTop: spacing,\r\n\t\t\t},\r\n\t\t\toverflow: 'visible',\r\n\t\t},\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t\t// marginTop: spacing * 2,\r\n\t\t\t// position: 'absolute',\r\n\t\t\t// top: 70,\r\n\t\t\t// left: 0,\r\n\t\t\t// right: 0,\r\n\t\t\t// bottom: 0\r\n\t\t},\r\n\t\tbackdrop: {\r\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\r\n\t\t},\r\n\t\ttabLogo: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\theight: spacing * 4,\r\n\t\t\tmaxHeight: '100%',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\ttabLabel: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexDirection: 'row',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tdlBtnImg: {\r\n\t\t\tmaxWidth: '100%',\r\n\t\t\tmaxHeight: spacing * 9,\r\n\t\t\twidth: 'auto',\r\n\t\t\theight: 'auto',\r\n\t\t},\r\n\t\tleftBtnIcon: {\r\n\t\t\tmarginRight: spacing,\r\n\t\t},\r\n\t\tadexLogoTop: {\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '-6vh',\r\n\t\t\tleft: 0,\r\n\t\t},\r\n\t\tlogo: {\r\n\t\t\twidth: '12.8vh',\r\n\t\t\theight: '5vh',\r\n\t\t},\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { utils } from 'ethers'\r\n\r\nexport const addrItem = ({ stats, t, classes }) => {\r\n\tconst { balanceEth, balanceDai, address } = stats\r\n\r\n\treturn (\r\n\t\t<ListItemText\r\n\t\t\tprimary={address}\r\n\t\t\tsecondary={\r\n\t\t\t\t<span className={classes.addrInfo}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> ETH </span>\r\n\t\t\t\t\t\t<strong> {utils.formatEther(balanceEth)} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<span> DAI </span>\r\n\t\t\t\t\t\t<strong> {utils.formatEther(balanceDai)} </strong>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</span>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const AddrItem = withStyles(styles)(addrItem)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport AuthHoc from './AuthHoc'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\nclass AuthMetamask extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddress: null,\r\n\t\t\tstats: null,\r\n\t\t\twaitingMetamaskAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t}\r\n\t}\r\n\r\n\tcheckMetamask = async () => {\r\n\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst authType = AUTH_TYPES.METAMASK.name\r\n\t\t\t\tconst { provider } = await getEthers(authType)\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: authType,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\r\n\t\t\t\tconst address = await metamaskSigner.getAddress()\r\n\t\t\t\tconst stats = await getAddressBalances({\r\n\t\t\t\t\taddress: { address },\r\n\t\t\t\t\tauthType,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\taddress,\r\n\t\t\t\t\tstats,\r\n\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.props.updateWallet({\r\n\t\t\t\t\taddress,\r\n\t\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\r\n\t\t\t\t\tbalanceEth: stats.balanceEth,\r\n\t\t\t\t\tbalanceDai: stats.balanceDai,\r\n\t\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingMetamaskAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\taction: 'X',\r\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_METAMASK', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, classes } = this.props\r\n\t\tconst { address, stats } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t{this.state.waitingMetamaskAction ? (\r\n\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ACTION')} />\r\n\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t) : this.state.waitingAddrsData ? (\r\n\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\r\n\t\t\t\t) : null}\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t{t('METAMASK_INFO')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t__html: t('METAMASK_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tcomponent: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Anchor href='https://metamask.io/' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t<Anchor href='https://metamask.io/' target='_blank'>\r\n\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\r\n\t\t\t\t\t\t\t\talt={'Downlad metamask'}\r\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{address ? (\r\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\r\n\t\t\t\t\t\t\t{stats ? (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography paragraph variant='subheading' color='primary'>\r\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} t={t} addr={address} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={this.checkMetamask}\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tdisabled={this.state.waitingAddrsData}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthMetamask.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthMetamask)))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport Button from '@material-ui/core/Button'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport AuthHoc from './AuthHoc'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\n\r\nclass AuthTrezor extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingTrezorAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: '',\r\n\t\t}\r\n\t}\r\n\r\n\tconnectTrezor = async () => {\r\n\t\tthis.setState({ waitingTrezorAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\r\n\r\n\t\t\t\tconst addresses = await trezorSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.payload.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tconsole.log('result', results)\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: trezorSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingTrezorAction: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingTrezorAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\taction: 'X',\r\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_TREZOR', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingTrezorAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingTrezorAction ? (\r\n\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tt('SELECT_ADDR_TREZOR')\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{addresses.map((res, index) => (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} address={res.address} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst { address, path, balanceEth, balanceDai } = addrData\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.TREZOR.name,\r\n\t\t\tpath,\r\n\t\t\tbalanceEth,\r\n\t\t\tbalanceDai,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.TREZOR.signType,\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ? (\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingTrezorAction={this.state.waitingTrezorAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : this.state.waitingTrezorAction ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t{t('TREZOR_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: t('TREZOR_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io/' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Wallet\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Bridge\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'https://trezor.io'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingTrezorAction && (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={this.connectTrezor}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthTrezor.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthTrezor)))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Button from '@material-ui/core/Button'\r\nimport Translate from 'components/translate/Translate'\r\nimport Anchor from 'components/common/anchor/anchor'\r\nimport Img from 'components/common/img/Img'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\r\nimport AuthHoc from './AuthHoc'\r\nimport Helper from 'helpers/miscHelpers'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\nimport { AddrItem } from './AuthCommon'\r\nimport {\r\n\tContentBox,\r\n\tContentBody,\r\n\tContentStickyTop,\r\n\tTopLoading,\r\n} from 'components/common/dialog/content'\r\nimport LEDGER_DL_IMG from 'resources/ledger_logo_header.png'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getEthers } from 'services/smart-contracts/ethers'\r\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\r\n\r\nclass AuthLedger extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tmethod: '',\r\n\t\t\tsideSelect: false,\r\n\t\t\taddresses: [],\r\n\t\t\twaitingLedgerAction: false,\r\n\t\t\twaitingAddrsData: false,\r\n\t\t\tselectedAddress: null,\r\n\t\t\thdPath: '',\r\n\t\t}\r\n\t}\r\n\r\n\tconnectLedger = async () => {\r\n\t\tthis.setState({ waitingLedgerAction: true }, async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.LEDGER.name)\r\n\r\n\t\t\t\tconst wallet = {\r\n\t\t\t\t\tauthType: AUTH_TYPES.LEDGER.name,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst ledgerSigner = await getSigner({ wallet, provider })\r\n\t\t\t\tconst addresses = await ledgerSigner.getAddresses({ from: 0, to: 19 })\r\n\r\n\t\t\t\tconst allAddressesData = addresses.map(address =>\r\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.LEDGER.name })\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\r\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\r\n\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\thdPath: ledgerSigner.path,\r\n\t\t\t\t\t\taddresses: results,\r\n\t\t\t\t\t\twaitingAddrsData: false,\r\n\t\t\t\t\t\twaitingLedgerAction: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error: catch', err)\r\n\t\t\t\tthis.setState({ waitingLedgerAction: false, waitingAddrsData: false })\r\n\t\t\t\tthis.props.actions.addToast({\r\n\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\taction: 'X',\r\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_LEDGER', {\r\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tAddressSelect = ({ addresses, waitingLedgerAction, t, classes, ...rest }) => {\r\n\t\treturn (\r\n\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t{waitingLedgerAction ? (\r\n\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tt('SELECT_ADDR_LEDGER')\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t<ContentBody>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{addresses.map((res, index) => (\r\n\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\r\n\t\t\t\t\t\t\t\tkey={res.address}\r\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\r\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} />\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</ContentBody>\r\n\t\t\t</ContentBox>\r\n\t\t)\r\n\t}\r\n\r\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\r\n\t\tconst { address, path, balanceEth, balanceDai } = addrData\r\n\r\n\t\tthis.props.updateWallet({\r\n\t\t\taddress,\r\n\t\t\tauthType: AUTH_TYPES.LEDGER.name,\r\n\t\t\tpath,\r\n\t\t\tbalanceEth,\r\n\t\t\tbalanceDai,\r\n\t\t\thdWalletAddrPath: this.state.hdPath,\r\n\t\t\thdWalletAddrIdx,\r\n\t\t\tsignType: AUTH_TYPES.LEDGER.signType,\r\n\t\t})\r\n\r\n\t\tthis.setState({ selectedAddress: address })\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { t, classes } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.state.addresses.length ? (\r\n\t\t\t\t\t<this.AddressSelect\r\n\t\t\t\t\t\twaitingLedgerAction={this.state.waitingLedgerAction}\r\n\t\t\t\t\t\taddresses={this.state.addresses}\r\n\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\r\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ADDRS_INFO')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : this.state.waitingLedgerAction ? (\r\n\t\t\t\t\t\t\t<ContentStickyTop>\r\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\r\n\t\t\t\t\t\t\t</ContentStickyTop>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<ContentBody>\r\n\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t{t('LEDGER_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: t('LEDGER_BASIC_USAGE_INFO', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://www.ledgerwallet.com/'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLEDGER\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography paragraph>\r\n\t\t\t\t\t\t\t\t<Anchor href='https://www.ledgerwallet.com/' target='_blank'>\r\n\t\t\t\t\t\t\t\t\t<Img\r\n\t\t\t\t\t\t\t\t\t\tsrc={LEDGER_DL_IMG}\r\n\t\t\t\t\t\t\t\t\t\talt={'https://www.ledgerwallet.com/'}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Anchor>\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingLedgerAction && (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={this.connectLedger}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_LEDGER')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ContentBody>\r\n\t\t\t\t\t</ContentBox>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nAuthLedger.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\tupdateWallet: PropTypes.func.isRequired,\r\n\tt: PropTypes.func.isRequired,\r\n\tclasses: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Translate(AuthHoc(withStyles(styles)(AuthLedger)))\r\n","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport AuthMetamask from './AuthMetamask'\r\nimport AuthTrezor from './AuthTrezor'\r\nimport AuthLedger from './AuthLedger'\r\n\r\nconst useStyles = makeStyles(theme => {\r\n\tconst spacing = theme.spacing(1)\r\n\r\n\treturn {\r\n\t\ttabsContainer: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tflexGrow: 1,\r\n\t\t\toverflowY: 'auto',\r\n\t\t\tposition: 'relative',\r\n\t\t\tmargin: spacing,\r\n\t\t},\r\n\t}\r\n})\r\n\r\nfunction AuthMethod() {\r\n\tconst classes = useStyles()\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst { search } = location\r\n\r\n\treturn (\r\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\r\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\r\n\t\t\t\t{search === '?metamask' && <AuthMetamask />}\r\n\t\t\t\t{search === '?trezor' && <AuthTrezor />}\r\n\t\t\t\t{search === '?ledger' && <AuthLedger />}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nexport default AuthMethod\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport AuthMethod from 'components/signin/identity/ownerAuth/AuthMethod'\r\nimport Translate from 'components/translate/Translate'\r\n\r\nclass IdentityContractAddress extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.validateContractOwner()\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst currOwner = this.props.identity.identityContractOwner\r\n\t\tif (!!currOwner && currOwner !== prevProps.identity.identityContractOwner) {\r\n\t\t\tthis.validateContractOwner()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateContractOwner = () => {\r\n\t\tconst { validate, identity } = this.props\r\n\t\tconst { identityContractOwner } = identity\r\n\r\n\t\tvalidate('identityContractOwner', {\r\n\t\t\tisValid: !!identityContractOwner,\r\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <AuthMethod {...this.props} />\r\n\t}\r\n}\r\n\r\nIdentityContractAddress.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { persist } = state\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst IdentityContractAddressStep = IdentityHoc(IdentityContractAddress)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(IdentityContractAddressStep))\r\n","import React, { Component } from 'react'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Translate from 'components/translate/Translate'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport {\r\n\tvalidEmail,\r\n\tvalidPassword,\r\n\tvalidQuickAccountCoupon,\r\n} from 'helpers/validators'\r\nimport { checkCoupon } from 'services/adex-relayer/actions'\r\n\r\nclass GrantInfo extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst {\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\tpassword,\r\n\t\t\tpasswordCheck,\r\n\t\t\tcoupon,\r\n\t\t\ttosCheck,\r\n\t\t} = this.props.identity\r\n\r\n\t\tthis.validateEmail(email, false)\r\n\t\tthis.validateEmailCheck(emailCheck, false)\r\n\t\tthis.validatePassword(password, false)\r\n\t\tthis.validatePasswordCheck(passwordCheck, false)\r\n\t\tthis.validateCoupon(coupon, false)\r\n\t\tthis.validateTOS(tosCheck, false)\r\n\t}\r\n\r\n\tvalidateEmail(email, dirty) {\r\n\t\tconst isValid = validEmail(email)\r\n\t\tthis.props.validate('email', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateEmailCheck(emailCheck, email, dirty) {\r\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\r\n\t\tthis.props.validate('emailCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidatePassword(password, dirty) {\r\n\t\tconst isValid = validPassword(password)\r\n\t\tthis.props.validate('password', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidatePasswordCheck(passwordCheck, password, dirty) {\r\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\r\n\t\tthis.props.validate('passwordCheck', {\r\n\t\t\tisValid: isValid,\r\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tvalidateCoupon(coupon, dirty) {\r\n\t\tconst isValidFormat = validQuickAccountCoupon(coupon)\r\n\r\n\t\tif (!isValidFormat) {\r\n\t\t\tthis.props.validate('coupon', {\r\n\t\t\t\tisValid: isValidFormat,\r\n\t\t\t\terr: { msg: 'ERR_COUPON_FORMAT' },\r\n\t\t\t\tdirty: dirty,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({ waitingCheck: true }, () => {\r\n\t\t\t\tcheckCoupon({ coupon })\r\n\t\t\t\t\t.then((cpn = {}) => {\r\n\t\t\t\t\t\tconst isValid = cpn.exist === true && cpn.used === false\r\n\t\t\t\t\t\tlet msg = ''\r\n\t\t\t\t\t\tif (cpn.exist === false) {\r\n\t\t\t\t\t\t\tmsg = 'ERR_COUPON_NOT_EXIST'\r\n\t\t\t\t\t\t} else if (cpn.used === true) {\r\n\t\t\t\t\t\t\tmsg = 'ERR_COUPON_USED'\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.props.validate('coupon', {\r\n\t\t\t\t\t\t\tisValid: isValid,\r\n\t\t\t\t\t\t\terr: { msg: msg },\r\n\t\t\t\t\t\t\tdirty: dirty,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.props.validate('coupon', {\r\n\t\t\t\t\t\t\tisValid: false,\r\n\t\t\t\t\t\t\terr: { msg: 'ERR_COUPON_NETWORK' },\r\n\t\t\t\t\t\t\tdirty: true,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateTOS(accepted, dirty) {\r\n\t\tthis.props.validate('tosCheck', {\r\n\t\t\tisValid: !!accepted,\r\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\ttosCheck(checked) {\r\n\t\tthis.props.handleChange('tosCheck', checked)\r\n\t\tthis.validateTOS(checked, true)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, identity, handleChange, invalidFields } = this.props\r\n\t\t// Errors\r\n\t\tconst {\r\n\t\t\tcoupon,\r\n\t\t\temail,\r\n\t\t\temailCheck,\r\n\t\t\tpassword,\r\n\t\t\tpasswordCheck,\r\n\t\t\ttosCheck,\r\n\t\t} = invalidFields\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('coupon', { isProp: true })}\r\n\t\t\t\t\t\t\tname='coupon'\r\n\t\t\t\t\t\t\tvalue={identity.coupon || ''}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('coupon', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateCoupon(identity.coupon, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateCoupon(identity.coupon, false)}\r\n\t\t\t\t\t\t\terror={coupon && !!coupon.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\tcoupon && !!coupon.dirty\r\n\t\t\t\t\t\t\t\t\t? coupon.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('ENTER_VALID_COUPON')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('email', ev.target.value.trim())}\r\n\t\t\t\t\t\t\tonBlur={() => this.validateEmail(identity.email, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validateEmail(identity.email, false)}\r\n\t\t\t\t\t\t\terror={email && !!email.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\r\n\t\t\t\t\t\t\tname='emailCheck'\r\n\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\r\n\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\thandleChange('emailCheck', ev.target.value.trim())\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\t\tthis.validateEmailCheck(\r\n\t\t\t\t\t\t\t\t\tidentity.emailCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.email,\r\n\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\tthis.validateEmailCheck(\r\n\t\t\t\t\t\t\t\t\tidentity.emailCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.email,\r\n\t\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\r\n\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('password', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() => this.validatePassword(identity.password, true)}\r\n\t\t\t\t\t\t\tonFocus={() => this.validatePassword(identity.password, false)}\r\n\t\t\t\t\t\t\terror={password && !!password.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\tpassword && !!password.dirty\r\n\t\t\t\t\t\t\t\t\t? password.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\r\n\t\t\t\t\t\t\tname='passwordCheck'\r\n\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\r\n\t\t\t\t\t\t\tonChange={ev => handleChange('passwordCheck', ev.target.value)}\r\n\t\t\t\t\t\t\tonBlur={() =>\r\n\t\t\t\t\t\t\t\tthis.validatePasswordCheck(\r\n\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.password,\r\n\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\tthis.validatePasswordCheck(\r\n\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\r\n\t\t\t\t\t\t\t\t\tidentity.password,\r\n\t\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\r\n\t\t\t\t\t\t\tmaxLength={128}\r\n\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\r\n\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\r\n\t\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\r\n\t\t\t\t\t\t\tcomponent='fieldset'\r\n\t\t\t\t\t\t\t// className={classes.formControl}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev => this.tosCheck(ev.target.checked)}\r\n\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={t('TOS_CHECK')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\r\n\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst IdentityGrantInfoStep = IdentityHoc(GrantInfo)\r\nexport default Translate(withStyles(styles)(IdentityGrantInfoStep))\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { createLocalWallet } from 'services/wallet/wallet'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nclass GrantDeploy extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.validateIdentity()\r\n\t\tif (!this.props.identity.identityAddr) {\r\n\t\t\tthis.initLocalWallet()\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst currIdentity = this.props.identity.identityAddr\r\n\t\tif (!!currIdentity && currIdentity !== prevProps.identity.identityAddr) {\r\n\t\t\tthis.validateIdentity()\r\n\t\t}\r\n\t}\r\n\r\n\tvalidateIdentity = () => {\r\n\t\tconst { validate, identity } = this.props\r\n\t\tconst { identityAddr } = identity\r\n\r\n\t\tvalidate('identityAddr', {\r\n\t\t\tisValid: !!identityAddr,\r\n\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\r\n\t\t\tdirty: false,\r\n\t\t})\r\n\t}\r\n\r\n\tinitLocalWallet = () => {\r\n\t\tconst { handleChange, identity } = this.props\r\n\t\tconst { email, password } = identity\r\n\r\n\t\tconst walletData = createLocalWallet({\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t})\r\n\r\n\t\twalletData.authType = AUTH_TYPES.GRANT.name\r\n\t\twalletData.email = email\r\n\t\twalletData.password = password\r\n\r\n\t\thandleChange('wallet', walletData)\r\n\t\thandleChange('walletAddr', walletData.address)\r\n\t}\r\n\r\n\tgetIdentity = () => {\r\n\t\tconst { identity, actions } = this.props\r\n\t\tconst { email, password, coupon, walletAddr } = identity\r\n\r\n\t\tactions.getGrantAccount({\r\n\t\t\twalletAddr,\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\tcoupon,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, identity, classes, waitingGrant } = this.props\r\n\t\tconst { walletAddr, identityAddr, grantAmount } = identity\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t{t('GRANT_WALLET_ADDRESS')}\r\n\t\t\t\t\t\t\t{' ' + walletAddr}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography paragraph variant='body2'>\r\n\t\t\t\t\t\t\t{t('GRANT_WALLET_ADDRESS_INFO')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t\t{!!identityAddr ? (\r\n\t\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_ADDRESS_INFO', {\r\n\t\t\t\t\t\t\t\t\t\targs: [identityAddr, grantAmount],\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\r\n\t\t\t\t\t\t\t\t\t\t{t('IDENTITY_ADDRESS_INFO_1')}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.getIdentity}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={waitingGrant}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('GET_GRANT_IDENTITY')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t{waitingGrant && (\r\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nGrantDeploy.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\tconst { memory } = state\r\n\r\n\treturn {\r\n\t\twaitingGrant: memory.spinners['getting-grant-identity'],\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nconst IdentityGrantDeployStep = IdentityHoc(GrantDeploy)\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(IdentityGrantDeployStep)))\r\n","import React, { Component } from 'react'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\nimport { getLocalWallet } from 'services/wallet/wallet'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nclass GrantLogin extends Component {\r\n\tcomponentDidMount() {\r\n\t\tthis.validateWallet(false)\r\n\t}\r\n\r\n\tvalidateWallet = dirty => {\r\n\t\tconst { identity, handleChange, validate } = this.props\r\n\t\tconst { email, password } = identity\r\n\r\n\t\tlet wallet = {}\r\n\r\n\t\tif (email && password) {\r\n\t\t\tconst walletData = getLocalWallet({\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t})\r\n\r\n\t\t\tif (!!walletData && walletData.data) {\r\n\t\t\t\twallet = { ...walletData.data }\r\n\t\t\t\twallet.email = email\r\n\t\t\t\twallet.password = password\r\n\t\t\t\twallet.authType = AUTH_TYPES.GRANT.name\r\n\t\t\t\twallet.identity = {\r\n\t\t\t\t\taddress: walletData.identity,\r\n\t\t\t\t\tprivileges: walletData.identityPrivileges,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\thandleChange('wallet', wallet)\r\n\t\t\thandleChange('walletAddr', wallet.address)\r\n\t\t\thandleChange('identityData', wallet.identity)\r\n\t\t}\r\n\r\n\t\tvalidate('wallet', {\r\n\t\t\tisValid: !!wallet.address,\r\n\t\t\terr: { msg: 'ERR_LOCAL_WALLET_LOGIN' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tt,\r\n\t\t\tidentity,\r\n\t\t\thandleChange,\r\n\t\t\tinvalidFields,\r\n\t\t\tclasses,\r\n\t\t\tactions,\r\n\t\t} = this.props\r\n\t\t// Errors\r\n\t\tconst { wallet } = invalidFields\r\n\t\treturn (\r\n\t\t\t// <div>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\t// direction='row'\r\n\t\t\t\talignContent='space-between'\r\n\t\t\t\talignItems='center'\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('GRANT_LOGIN_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev => handleChange('email', ev.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\r\n\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev => handleChange('password', ev.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{wallet && !!wallet.dirty && (\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{wallet.errMsg}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t{!!identity.walletAddr && (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body1'>\r\n\t\t\t\t\t\t\t\t\t\t{t('GRANT_WALLET_ADDRESS', { args: [identity.walletAddr] })}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t{t('GRANT_IDENTITY_ADDRESS', {\r\n\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tonClick={() => this.validateWallet(true)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('CHECK_GRANT_IDENTITY')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\taccept='text/json'\r\n\t\t\t\t\t\tclassName={classes.input}\r\n\t\t\t\t\t\tid='contained-button-file'\r\n\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\tonChange={actions.onUploadLocalWallet}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor='contained-button-file'>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t// variant=\"contained\"\r\n\t\t\t\t\t\t\tcomponent='span'\r\n\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('UPLOAD_ACCOUNT_DATA_JSON')}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst IdentityGrantLoginStep = IdentityHoc(GrantLogin)\r\nexport default Translate(withStyles(styles)(IdentityGrantLoginStep))\r\n","import React, { Component } from 'react'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Translate from 'components/translate/Translate'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport { formatTokenAmount } from 'helpers/formatters'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nimport Dropdown from 'components/common/dropdown'\r\n\r\nconst getIdentitiesForDropdown = (ownerIdentities, t) =>\r\n\townerIdentities.map(id => {\r\n\t\treturn {\r\n\t\t\tvalue: id.identity + '-' + id.privLevel,\r\n\t\t\tlabel: t('IDENTITY_OPTION_DATA', {\r\n\t\t\t\targs: [\r\n\t\t\t\t\tid.identity,\r\n\t\t\t\t\tid.privLevel,\r\n\t\t\t\t\tformatTokenAmount(bigNumberify(id.balanceDAI).toString(), 18, true),\r\n\t\t\t\t\t'DAI',\r\n\t\t\t\t],\r\n\t\t\t}),\r\n\t\t}\r\n\t})\r\n\r\nclass FullLogin extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { actions, identity } = this.props\r\n\t\tactions.ownerIdentities({ owner: identity.wallet.address })\r\n\t\tthis.validateIdentity(false)\r\n\t}\r\n\r\n\tvalidateIdentity = dirty => {\r\n\t\tconst { identity, handleChange, validate } = this.props\r\n\t\tconst { wallet, identityContractAddress } = identity\r\n\r\n\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\r\n\t\tconst identityData = {\r\n\t\t\taddress: identityDataSplit[0],\r\n\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\r\n\t\t}\r\n\r\n\t\thandleChange('wallet', wallet)\r\n\t\thandleChange('walletAddr', wallet.address)\r\n\t\thandleChange('identityData', identityData)\r\n\r\n\t\tvalidate('identityContractAddress', {\r\n\t\t\tisValid: !!identityData.address,\r\n\t\t\terr: { msg: 'ERR_LOCAL_WALLET_LOGIN' },\r\n\t\t\tdirty: dirty,\r\n\t\t})\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (\r\n\t\t\tprevProps.identity.identityContractAddress !==\r\n\t\t\t\tthis.props.identity.identityContractAddress &&\r\n\t\t\tthis.props.identity.wallet\r\n\t\t) {\r\n\t\t\tthis.validateIdentity(true)\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t, identity, handleChange } = this.props\r\n\t\tconst { ownerIdentities = [], identityContractAddress } = identity\r\n\r\n\t\treturn (\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\tspacing={2}\r\n\t\t\t\t// direction='row'\r\n\t\t\t\talignContent='space-between'\r\n\t\t\t\talignItems='center'\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\r\n\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\r\n\t\t\t\t\t\t\t\tonChange={val => handleChange('identityContractAddress', val)}\r\n\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities, t)}\r\n\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\r\n\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst IdentityFullLoginStep = IdentityHoc(FullLogin)\r\nexport default Translate(withStyles(styles)(IdentityFullLoginStep))\r\n","import React, { useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport FullLogin from './FullLogin'\r\nimport IdentityContractAddressEthDeploy from './IdentityContractAddressEthDeploy'\r\nimport Anchor from 'components/common/anchor/anchor'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbutton: {\r\n\t\theight: '50%',\r\n\t\tminHeight: theme.spacing(4),\r\n\t},\r\n\tcontainer: {},\r\n}))\r\n\r\nexport function ExternalConnect({ t, ...rest }) {\r\n\tconst classes = useStyles()\r\n\tconst [connectType, setConnectType] = useState('')\r\n\r\n\treturn (\r\n\t\t<Grid container alignItems='stretch' className={classes.buttons}>\r\n\t\t\t<Grid\r\n\t\t\t\titem\r\n\t\t\t\tcontainer\r\n\t\t\t\tdirection='column'\r\n\t\t\t\talignItems='stretch'\r\n\t\t\t\tjustify='space-evenly'\r\n\t\t\t>\r\n\t\t\t\t{connectType !== 'create' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h5' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('SELECT_EXISTING_IDENTITY')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<FullLogin {...rest} />\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t// alignItems='stretch'\r\n\t\t\t\t\t\t\tclassName={classes.buttons}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<Button onClick={() => setConnectType('create')}>\r\n\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t{connectType === 'create' && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Typography variant='h5' gutterBottom>\r\n\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY')}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<IdentityContractAddressEthDeploy {...rest} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n","export const styles = {\r\n\troot: {\r\n\t\tcolor: 'purple',\r\n\t\t'&$active': {\r\n\t\t\tcolor: 'green',\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tcolor: 'yellow',\r\n\t},\r\n\tstepperWrapper: {\r\n\t\t// display: 'flex',\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\ttop: 0,\r\n\t},\r\n\tpagePaper: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\ttop: 115,\r\n\t},\r\n\tpageContent: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 20,\r\n\t\tleft: 20,\r\n\t\tright: 20,\r\n\t\tbottom: 50,\r\n\t\tpadding: 20,\r\n\t\toverflowY: 'auto',\r\n\t\toverflowX: 'hidden',\r\n\t\tdisplay: 'flex',\r\n\t\tWebkitOverflowScrolling: 'touch',\r\n\t\t'@media(max-width:500px)': {\r\n\t\t\tpaddingLeft: 0,\r\n\t\t\tpaddingRight: 0,\r\n\t\t},\r\n\t},\r\n\tcontrols: {\r\n\t\tposition: 'absolute',\r\n\t\tbottom: 5,\r\n\t\tleft: 20,\r\n\t\tright: 20,\r\n\t},\r\n\tright: {\r\n\t\ttextAlign: 'right',\r\n\t\tdisplay: 'inline-block',\r\n\t\twidth: '50%',\r\n\t\t'@media(max-width:475px)': {\r\n\t\t\twidth: '86%',\r\n\t\t},\r\n\t},\r\n\tleft: {\r\n\t\tdisplay: 'inline-block',\r\n\t\ttextAlign: 'left',\r\n\t\twidth: '50%',\r\n\t\t'@media(max-width:475px)': {\r\n\t\t\twidth: '14%',\r\n\t\t},\r\n\t},\r\n\tmobileStepper: {\r\n\t\twidth: '100%',\r\n\t\t'& div': {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '10px',\r\n\t\t},\r\n\t},\r\n\tmobileStepLabel: {\r\n\t\t'& span': {\r\n\t\t\tfontSize: '24px',\r\n\t\t\tmargin: '14px auto',\r\n\t\t},\r\n\t\ttextAlign: 'center',\r\n\t\twidth: 'auto',\r\n\t},\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport { Stepper } from 'react-step/lib/stepper'\r\nimport { withStepper } from 'react-step/lib/with-stepper'\r\nimport StepperMUI from '@material-ui/core/Stepper'\r\nimport MobileStepper from '@material-ui/core/MobileStepper'\r\nimport Step from '@material-ui/core/Step'\r\nimport StepLabel from '@material-ui/core/StepLabel'\r\nimport Button from '@material-ui/core/Button'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Translate from 'components/translate/Translate'\r\nimport { styles } from './styles'\r\nimport Paper from '@material-ui/core/Paper'\r\n\r\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\r\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\r\n\tif (window.innerWidth <= 768) {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\r\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\r\n\t\t\t\t</StepLabel>\r\n\t\t\t\t<MobileStepper\r\n\t\t\t\t\tactiveStep={currentPage}\r\n\t\t\t\t\tsteps={pages.length}\r\n\t\t\t\t\tposition={'static'}\r\n\t\t\t\t\tvariant='progress'\r\n\t\t\t\t\tclassName={classes.mobileStepper}\r\n\t\t\t\t></MobileStepper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\treturn (\r\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\r\n\t\t\t{pages.map((page, i) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Step key={page.title}>\r\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\r\n\t\t\t\t\t</Step>\r\n\t\t\t\t)\r\n\t\t\t})}\r\n\t\t</StepperMUI>\r\n\t)\r\n}\r\n\r\nclass MaterialStepper extends React.Component {\r\n\t// onComplete() {\r\n\t//     // console.log('currPage', this.currPage)\r\n\t//     let props = this.props\r\n\t//     let page = props.pages[props.currentPage]\r\n\r\n\t//     // console.log('props.pages[props.currentPage]', page.component)\r\n\t// }\r\n\r\n\tgoToPage(nextStep) {\r\n\t\tlet canAdvance =\r\n\t\t\tnextStep > this.props.currentPage && this.canAdvanceNextToPage()\r\n\t\tlet canGoBack = nextStep < this.props.currentPage\r\n\r\n\t\tif (canAdvance || canGoBack) {\r\n\t\t\tthis.props.setPageIndex(nextStep)\r\n\t\t}\r\n\t}\r\n\r\n\tcanAdvanceNextToPage() {\r\n\t\t/* TODO: add check for optional steps that can be skipped\r\n\t\t */\r\n\t\tlet page = this.props.pages[this.props.currentPage]\r\n\t\tif (\r\n\t\t\tthis.props.canAdvance &&\r\n\t\t\t!Object.keys(this.props.validations[page.props.validateId] || {}).length\r\n\t\t) {\r\n\t\t\treturn true\r\n\t\t} else {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\tisValidPage() {\r\n\t\tlet page = this.props.pages[this.props.currentPage]\r\n\t\treturn !Object.keys(this.props.validations[page.props.validateId] || {})\r\n\t\t\t.length\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet { pages, component, validations, currentPage, t, classes, ...props } = {\r\n\t\t\t...this.props,\r\n\t\t}\r\n\t\tlet page = pages[currentPage]\r\n\t\tlet Comp = page.component\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.stepperWrapper}>\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.stepperNav,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<StepperNav\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\tpages={pages}\r\n\t\t\t\t\t\tclasses={classes}\r\n\t\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\t\tgoToPage={this.goToPage.bind(this)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<Paper\r\n\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\troot: classes.pagePaper,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className={classes.pageContent}>{<Comp {...page.props} />}</div>\r\n\r\n\t\t\t\t\t<div className={classes.controls}>\r\n\t\t\t\t\t\t<div className={classes.left}>\r\n\t\t\t\t\t\t\t{props.canReverse &&\r\n\t\t\t\t\t\t\t!(page.disableBtnsIfValid && this.isValidPage()) ? (\r\n\t\t\t\t\t\t\t\t<Button onClick={() => props.setPageIndex(currentPage - 1)}>\r\n\t\t\t\t\t\t\t\t\t{t('BACK')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className={classes.right}>\r\n\t\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\r\n\t\t\t\t\t\t\t{page.cancelBtn &&\r\n\t\t\t\t\t\t\t!(page.disableBtnsIfValid && this.isValidPage()) ? (\r\n\t\t\t\t\t\t\t\t<page.cancelBtn />\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{this.canAdvanceNextToPage() && !page.completeBtn ? (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={this.goToPage.bind(this, currentPage + 1)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) : !page.completeBtn ? (\r\n\t\t\t\t\t\t\t\t<Button label='Continue' disabled>\r\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{page.completeBtn && this.isValidPage() ? (\r\n\t\t\t\t\t\t\t\t<page.completeBtn />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Paper>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst WithMaterialStepper = withStepper(\r\n\twithStyles(styles)(Translate(MaterialStepper))\r\n)\r\n\r\nclass MyMaterialStepper extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Stepper pages={this.props.pages} style={{ display: 'block' }}>\r\n\t\t\t\t<WithMaterialStepper\r\n\t\t\t\t\titemType={this.props.itemType}\r\n\t\t\t\t\tvalidations={this.props.validations}\r\n\t\t\t\t/>\r\n\t\t\t</Stepper>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nMyMaterialStepper.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n\taccount: PropTypes.object.isRequired,\r\n\tpages: PropTypes.array.isRequired,\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n\tlet persist = state.persist\r\n\tlet memory = state.memory\r\n\treturn {\r\n\t\taccount: persist.account,\r\n\t\tvalidations: memory.validations,\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(MyMaterialStepper)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport actions from 'actions'\r\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\r\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\r\nimport Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nclass IdentitySteps extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tpages: this.mapPages(),\r\n\t\t}\r\n\r\n\t\t// TODO: Check if it is possible to need state update\r\n\t}\r\n\r\n\tmapPages = () => {\r\n\t\tconst {\r\n\t\t\tGoBtn,\r\n\t\t\tCancelBtn,\r\n\t\t\tt,\r\n\t\t\tonSave,\r\n\t\t\tstepsId,\r\n\t\t\tstepsPages = [],\r\n\t\t\tstepsPreviewPage,\r\n\t\t\tvalidateIdBase,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\tconst cancelButton = () => (\r\n\t\t\t<CancelBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t)\r\n\r\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\r\n\r\n\t\tconst pages = stepsPages.map((page, index) => {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: t(page.title),\r\n\t\t\t\tcancelBtn: cancelButton,\r\n\t\t\t\tcomponent: ValidItemHoc(page.page),\r\n\t\t\t\tdisableBtnsIfValid: page.disableBtnsIfValid,\r\n\t\t\t\tprops: { ...this.props, validateId: validateId + '-' + index },\r\n\t\t\t\tcompleteBtn: page.final\r\n\t\t\t\t\t? () => <GoBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\r\n\t\t\t\t\t: undefined,\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn pages\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <MaterialStepper pages={this.state.pages} />\r\n\t}\r\n}\r\n\r\nIdentitySteps.propTypes = {\r\n\tactions: PropTypes.object.isRequired,\r\n}\r\n\r\nfunction mapStateToProps() {\r\n\t// const persist = state.persist\r\n\t// const memory = state.memory\r\n\treturn {\r\n\t\t// account: persist.account\r\n\t}\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn {\r\n\t\tactions: bindActionCreators(actions, dispatch),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Translate(withStyles(styles)(IdentitySteps)))\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport IdentityHoc from './IdentityHoc'\r\nimport IdentityContractAddressEthDeploy from './IdentityContractAddressEthDeploy'\r\n// import IdentityContractAddressEthTransaction from './IdentityContractAddressEthTransaction'\r\nimport IdentityContractOwner from './IdentityContractOwner'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport GrantInfo from './GrantInfo'\r\nimport GrantDeploy from './GrantDeploy'\r\nimport GrantLogin from './GrantLogin'\r\n// import FullLogin from './FullLogin'\r\nimport { ExternalConnect } from './ExternalWalletConnect'\r\nimport IdentitySteps from './IdentitySteps'\r\n// import Translate from 'components/translate/Translate'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { styles } from './styles'\r\n\r\nconst GoBtn = ({ waiting, save, t, classes, ...rest }) => {\r\n\treturn (\r\n\t\t<span className={classes.buttonProgressWrapper}>\r\n\t\t\t<Button color='primary' onClick={save} disabled={waiting}>\r\n\t\t\t\t{t('LETS_GO')}\r\n\t\t\t</Button>\r\n\t\t\t{waiting && (\r\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t)}\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nconst GoBtnWithIdentity = withStyles(styles)(IdentityHoc(GoBtn))\r\n\r\nconst CancelBtn = ({ ...props }) => {\r\n\treturn <Button onClick={props.cancel}>{props.t('CANCEL')}</Button>\r\n}\r\n\r\nconst CancelBtnWithIdentity = IdentityHoc(CancelBtn)\r\n\r\nconst common = {\r\n\tGoBtn: GoBtnWithIdentity,\r\n\tCancelBtn: CancelBtnWithIdentity,\r\n\tvalidateIdBase: 'identity-',\r\n}\r\n\r\nexport const CreateGrantIdentity = props => (\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='grant-identity-create'\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'GRANT_INFO', page: GrantInfo },\r\n\t\t\t{\r\n\t\t\t\ttitle: 'GRANT_DEPLOY',\r\n\t\t\t\tpage: GrantDeploy,\r\n\t\t\t\tfinal: true,\r\n\t\t\t\tdisableBtnsIfValid: true,\r\n\t\t\t},\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const LoginGrantIdentity = props => (\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='grant-identity-login'\r\n\t\tstepsPages={[{ title: 'GRANT_LOGIN', page: GrantLogin, final: true }]}\r\n\t/>\r\n)\r\n\r\nexport const CreteFullIdentity = props => (\r\n\t<IdentitySteps\r\n\t\t{...props}\r\n\t\t{...common}\r\n\t\tstepsId='full-identity-create'\r\n\t\tstepsPages={[\r\n\t\t\t{ title: 'SET_IDENTITY_OWNER_ADDRESS', page: IdentityContractOwner },\r\n\t\t\t{\r\n\t\t\t\ttitle: 'GENERATE_IDENTITY_CONTRACT_ADDRESS',\r\n\t\t\t\tpage: IdentityContractAddressEthDeploy,\r\n\t\t\t\tfinal: true,\r\n\t\t\t},\r\n\t\t\t// { title: 'DEPLOY_IDENTITY_CONTRACT_ADDRESS', page: IdentityContractAddressEthTransaction, final: true }\r\n\t\t]}\r\n\t/>\r\n)\r\n\r\nexport const LoginStandardIdentity = props => {\r\n\treturn (\r\n\t\t<IdentitySteps\r\n\t\t\t{...props}\r\n\t\t\t{...common}\r\n\t\t\tstepsId='full-identity-login'\r\n\t\t\tstepsPages={[\r\n\t\t\t\t{ title: 'SET_IDENTITY_OWNER_ADDRESS', page: IdentityContractOwner },\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\r\n\t\t\t\t\tpage: ExternalConnect,\r\n\t\t\t\t\tfinal: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport const DemoIdentity = props => (\r\n\t<IdentitySteps {...props} {...common} stepsPages={[]} />\r\n)\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Box from '@material-ui/core/Box'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Img from 'components/common/img/Img'\r\n\r\nimport ADEX_LOGO from 'resources/adex-logo-txt-sm.svg'\r\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-20.png'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tvitalik: {\r\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\r\n\t\tbackgroundPosition: 'center',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundSize: 'contain',\r\n\t},\r\n\tcontainer: {\r\n\t\tmaxWidth: theme.breakpoints.values.md,\r\n\t\tmargin: 'auto',\r\n\t},\r\n}))\r\n\r\nexport default function Home({ t, ...rest }) {\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<Box width={1} height={1} className={classes.root} alignItems='center'>\r\n\t\t\t<Box\r\n\t\t\t\theight={1}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\talignItems='center'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\tmaxWidth='md'\r\n\t\t\t\tclassName={classes.container}\r\n\t\t\t>\r\n\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\r\n\t\t\t\t\t{t('GET_IN_TOUCH')}\r\n\t\t\t\t</Typography>\r\n\r\n\t\t\t\t<Img src={ADEX_LOGO} alt='AdEx logo' />\r\n\t\t\t\t<Typography variant='h5' component='h5' gutterBottom>\r\n\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography variant='body1' gutterBottom>\r\n\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Box\r\n\t\t\t\t\theight='30%'\r\n\t\t\t\t\tposition='relative'\r\n\t\t\t\t\tclassName={classes.vitalik}\r\n\t\t\t\t\talignSelf='stretch'\r\n\t\t\t\t></Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tdialog: {\r\n\t\theight: '100vh',\r\n\t\twidth: theme.maxWidth || 1200,\r\n\t\tmaxWidth: '100%',\r\n\t},\r\n}))\r\n\r\nexport default function DialogHoc(Decorated) {\r\n\tfunction JustDialog({ ...rest }) {\r\n\t\tconst classes = useStyles()\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Decorated {...rest} />\r\n\t\t\t\t</DialogContent>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\t}\r\n\r\n\treturn JustDialog\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { metamaskChecks, metamaskNetworkCheck, execute } from 'actions'\r\nimport { Route, Switch, Redirect } from 'react-router'\r\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\r\nimport ConnectHoc from 'components/signin/ConnectHoc'\r\nimport {\r\n\tCreateGrantIdentity,\r\n\tCreteFullIdentity,\r\n\t// DemoIdentity,\r\n\tLoginGrantIdentity,\r\n\tLoginStandardIdentity,\r\n} from 'components/signin/identity/Identity'\r\nimport SideSelect from 'components/signin/side-select/SideSelect'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport Home from 'components/signin/Home'\r\nimport JustDialog from 'components/common/dialog/JustDialog'\r\nimport { selectAuth, selectLocation } from 'selectors'\r\n\r\nconst ConnectedCreateGrantIdentity = ConnectHoc(JustDialog(CreateGrantIdentity))\r\nconst ConnectedGrantLogin = ConnectHoc(JustDialog(LoginGrantIdentity))\r\nconst ConnectedCreateFullIdentity = ConnectHoc(JustDialog(CreteFullIdentity))\r\nconst ConnectedLoginStandardIdentity = ConnectHoc(\r\n\tJustDialog(LoginStandardIdentity)\r\n)\r\nconst ConnectedRoot = ConnectHoc(Home)\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...other}\r\n\t\t\trender={props =>\r\n\t\t\t\tauth === true ? ( //|| true\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nconst Root = () => {\r\n\tconst auth = useSelector(selectAuth)\r\n\tconst location = useSelector(selectLocation)\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(metamaskChecks())\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\texecute(metamaskNetworkCheck())\r\n\t}, [location])\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<PrivateRoute auth={auth} path='/dashboard/:side' component={Dashboard} />\r\n\t\t\t<PrivateRoute auth={auth} path='/side-select' component={SideSelect} />\r\n\t\t\t<Route\r\n\t\t\t\texact\r\n\t\t\t\tpath='/'\r\n\t\t\t\tcomponent={props => <ConnectedRoot {...props} noBackground />}\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\texact\r\n\t\t\t\tpath='/identity/grant'\r\n\t\t\t\tcomponent={props => (\r\n\t\t\t\t\t<ConnectedCreateGrantIdentity {...props} noBackground />\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\texact\r\n\t\t\t\tpath='/login/grant'\r\n\t\t\t\tcomponent={props => <ConnectedGrantLogin {...props} noBackground />}\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\texact\r\n\t\t\t\tpath='/login/full'\r\n\t\t\t\tcomponent={props => (\r\n\t\t\t\t\t<ConnectedLoginStandardIdentity {...props} noBackground />\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t\t<Route\r\n\t\t\t\texact\r\n\t\t\t\tpath='/identity/full'\r\n\t\t\t\tcomponent={props => (\r\n\t\t\t\t\t<ConnectedCreateFullIdentity {...props} noBackground />\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t\t{/* <Route exact path=\"/identity/demo\" component={DemoIdentity} /> */}\r\n\t\t\t<Route>\r\n\t\t\t\t<PageNotFound />\r\n\t\t\t</Route>\r\n\t\t</Switch>\r\n\t)\r\n}\r\n\r\nexport default Root\r\n","import { createMuiTheme } from '@material-ui/core/styles'\r\nimport lime from '@material-ui/core/colors/lime'\r\nimport deepOrange from '@material-ui/core/colors/deepOrange'\r\nimport amber from '@material-ui/core/colors/amber'\r\nimport grey from '@material-ui/core/colors/grey'\r\n\r\nconst ADEX_BLUE = '#1B75BC'\r\nconst ADEX_GREEN = '#14DC9C'\r\n\r\nconst palette = {\r\n\tprimary: { main: ADEX_BLUE, contrastText: '#fff' },\r\n\tsecondary: { main: ADEX_GREEN, contrastText: '#fff' },\r\n\terror: deepOrange,\r\n\twarning: amber,\r\n\tfirst: lime,\r\n\tcontrastThreshold: 3,\r\n\ttonalOffset: 0.2,\r\n\ttext: grey,\r\n}\r\n\r\nexport const themeMUI = createMuiTheme({\r\n\tpalette: { ...palette },\r\n\toverrides: {\r\n\t\tMuiButton: {\r\n\t\t\troot: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t\toutlined: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiTableCell: {\r\n\t\t\thead: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t\troot: {\r\n\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t},\r\n\t\t},\r\n\t\tMuiPaper: {\r\n\t\t\trounded: {\r\n\t\t\t\tborderRadius: 0,\r\n\t\t\t},\r\n\t\t},\r\n\t\t// MuiStepIcon: {\r\n\t\t//     root: {\r\n\t\t//         color: 'yellow',\r\n\t\t//         '&$active': {\r\n\t\t//             color: 'orange'\r\n\t\t//         }\r\n\t\t//     },\r\n\t\t//     active: {\r\n\t\t//         color: 'yellow'\r\n\t\t//     }\r\n\t\t// }\r\n\t},\r\n})\r\n\r\nexport const globalStyles = theme => {\r\n\treturn {\r\n\t\t'@global': {\r\n\t\t\thtml: {\r\n\t\t\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n\t\t\t},\r\n\t\t\ta: {\r\n\t\t\t\ttextDecoration: 'none',\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Switch, HashRouter as Router } from 'react-router-dom'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\n// import './App.css'\r\nimport { Provider } from 'react-redux'\r\nimport configureStore from 'store/configureStore'\r\nimport history from 'store/history'\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport Toast from 'components/toast/Toast'\r\nimport Confirm from 'components/confirm/Confirm'\r\nimport { PersistGate } from 'redux-persist/es/integration/react'\r\nimport Root from './Root'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles'\r\nimport { themeMUI, globalStyles } from './themeMUi'\r\nimport MomentUtils from '@date-io/moment'\r\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport { withStyles } from '@material-ui/core/styles'\r\n\r\nconst { persistor, store } = configureStore\r\n// console.log('initial store', store.getState())\r\n\r\nconst onBeforeLift = () => {\r\n\t// take some action before the gate lifts\r\n}\r\n\r\nconst cssBaselineStyled = ({ classes }) => (\r\n\t// Might break something\r\n\t<CssBaseline classes={classes.globalStyles} />\r\n)\r\n\r\nconst CssBaselineStyled = withStyles(globalStyles)(cssBaselineStyled)\r\n\r\nclass App extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<CssBaselineStyled\r\n\t\t\t\t// classes={\r\n\t\t\t\t//   { children: classes.globalStyles }\r\n\t\t\t\t// }\r\n\t\t\t\t/>\r\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\r\n\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\r\n\t\t\t\t\t\t<Provider store={store}>\r\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\r\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\r\n\t\t\t\t\t\t\t\t\t<Router>\r\n\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Root />\r\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\r\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Router>\r\n\t\t\t\t\t\t\t\t</ConnectedRouter>\r\n\t\t\t\t\t\t\t</PersistGate>\r\n\t\t\t\t\t\t</Provider>\r\n\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t</MuiThemeProvider>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n)\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error)\r\n\t\t})\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl)\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type')\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t)\r\n\t\t})\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\tregistration.unregister()\r\n\t\t})\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './components/App/App'\r\nimport { unregister } from './serviceWorker'\r\n\r\n// Temp here?\r\nObject.values = function* values(obj) {\r\n\tfor (let prop of Object.keys(obj)) {\r\n\t\tyield obj[prop]\r\n\t}\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\nunregister()\r\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,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\"","import { Signer } from 'ethers'\r\nimport { ethers, utils } from 'ethers'\r\nimport LedgerEth from '@ledgerhq/hw-app-eth'\r\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\r\nimport HDKey from 'hdkey'\r\nimport { constants } from 'adex-models'\r\n\r\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'\"\r\n\r\nexport default class LedgerSigner extends Signer {\r\n\tconstructor(provider, opts = {}) {\r\n\t\tsuper()\r\n\t\tthis._provider = provider\r\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\r\n\t\tthis._transport = TransportU2F\r\n\t}\r\n\r\n\tget path() {\r\n\t\treturn this._path\r\n\t}\r\n\tget provider() {\r\n\t\treturn this._provider\r\n\t}\r\n\r\n\taddrsFromPubKey = async (\r\n\t\tpublicKey = '',\r\n\t\tchainCode = '',\r\n\t\t{ from = 0, to = 19 } = {}\r\n\t) => {\r\n\t\tconst hdKey = new HDKey()\r\n\t\thdKey.publicKey = Buffer.from(publicKey, 'hex')\r\n\t\thdKey.chainCode = Buffer.from(chainCode, 'hex')\r\n\r\n\t\tconst addrs = []\r\n\t\tfor (let index = from; index < to; index++) {\r\n\t\t\tconst derivedKey = hdKey.derive(`m/${index}`).publicExtendedKey\r\n\r\n\t\t\tconst addr = utils.HDNode.fromExtendedKey(derivedKey).address\r\n\r\n\t\t\taddrs.push({\r\n\t\t\t\taddress: addr,\r\n\t\t\t\tpath: `${this.path}/${index}`,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn addrs\r\n\t}\r\n\r\n\tgetAddresses = async ({ from = 0, to = 5 } = {}) => {\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { publicKey, chainCode } = await eth.getAddress(\r\n\t\t\tthis.path,\r\n\t\t\tfalse,\r\n\t\t\ttrue\r\n\t\t)\r\n\r\n\t\tconst addresses = await this.addrsFromPubKey(publicKey, chainCode, {\r\n\t\t\tfrom,\r\n\t\t\tto,\r\n\t\t})\r\n\r\n\t\treturn addresses\r\n\t}\r\n\r\n\tsignTx = async params => {\r\n\t\tconst txProps = await utils.resolveProperties(params)\r\n\t\tconst txUnsigned = utils.serializeTransaction(txProps).substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\t\tconst { r, s, v } = await eth.signTransaction(this.path, txUnsigned)\r\n\r\n\t\tconst signature = {\r\n\t\t\tr: '0x' + r,\r\n\t\t\ts: '0x' + s,\r\n\t\t\tv,\r\n\t\t}\r\n\r\n\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\r\n\r\n\t\treturn txSigned\r\n\t}\r\n\r\n\t/*\r\n\t * TODO: may not work.\r\n\t * The ledger device or u2f seems to broken\r\n\t * Can list the addresses\r\n\t * Can sign messages\r\n\t * Signs transactions\r\n\t * Actually it show the tx but does not return value after\r\n\t * confirmation on the device\r\n\t */\r\n\tsendTransaction = async params => {\r\n\t\tconst txSigned = await this.signTx(params)\r\n\t\tconst txData = this.provider.sendTransaction(txSigned)\r\n\t\treturn txData\r\n\t}\r\n\r\n\tsignMessage = async (message, opts = {}) => {\r\n\t\tif (!opts.hex) {\r\n\t\t\tif (typeof message === 'string') {\r\n\t\t\t\tmessage = utils.toUtf8Bytes(message)\r\n\t\t\t}\r\n\r\n\t\t\tmessage = ethers.utils.hexlify(message)\r\n\t\t}\r\n\r\n\t\tmessage = message.substring(2)\r\n\r\n\t\tconst transport = await this._transport.create()\r\n\t\tconst eth = new LedgerEth(transport)\r\n\r\n\t\tconst signature = await eth.signPersonalMessage(this.path, message)\r\n\t\tsignature.r = '0x' + signature.r\r\n\t\tsignature.s = '0x' + signature.s\r\n\r\n\t\tconst { address } = await eth.getAddress(this.path)\r\n\r\n\t\tconst res = {\r\n\t\t\tsignature: ethers.utils.joinSignature(signature),\r\n\t\t\thash: message,\r\n\t\t\tmode: constants.SignatureModes.GETH,\r\n\t\t\taddress,\r\n\t\t}\r\n\r\n\t\treturn res\r\n\t}\r\n\r\n\tconnect = provider => {\r\n\t\treturn new LedgerSigner(provider, { path: this.path })\r\n\t}\r\n}\r\n","import base64 from 'base64url'\r\nimport ethers from 'ethers'\r\n\r\n// see https://github.com/ethereum/EIPs/issues/1341\r\n// Implements EIP 1341: Ethereum Web Tokens\r\n\r\nconst HEADER = base64.encode(\r\n\tJSON.stringify({\r\n\t\ttype: 'JWT',\r\n\t\talg: 'ETH',\r\n\t})\r\n)\r\n\r\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\r\n// .address is always checksummed\r\nfunction sign(signer, payload) {\r\n\tconst payloadEncoded = base64.encode(\r\n\t\tJSON.stringify({\r\n\t\t\t...payload,\r\n\t\t\taddress: signer.address,\r\n\t\t})\r\n\t)\r\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\r\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\r\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\r\n\t})\r\n}\r\n\r\nfunction verify(token) {\r\n\tconst parts = token.split('.')\r\n\tif (parts.length !== 3) {\r\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\r\n\t}\r\n\tconst msg = parts.slice(0, 2).join('.')\r\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\r\n\ttry {\r\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\r\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\r\n\t\treturn Promise.resolve({ from, payload })\r\n\t} catch (e) {\r\n\t\treturn Promise.reject(e)\r\n\t}\r\n}\r\n\r\nexport default { sign, verify }\r\n","module.exports = Module;","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404.12db5cc0.png\";","module.exports = __webpack_public_path__ + \"static/media/rekt-eddie.8bd0ccfa.png\";","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/adex-logo-txt-sm.9fd40458.svg\";","module.exports = __webpack_public_path__ + \"static/media/eddie-20.a814049a.png\";"],"sourceRoot":""}