(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1014:function(e,t,a){e.exports=a.p+"static/media/home-wallpaper.9793fae1.jpg"},1015:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"execute",function(){return nt}),a.d(n,"dispatch",function(){return rt}),a.d(n,"getState",function(){return it});var r={};a.r(r),a.d(r,"updateSpinner",function(){return kt}),a.d(r,"updateUi",function(){return St}),a.d(r,"addToast",function(){return Nt}),a.d(r,"removeToast",function(){return _t}),a.d(r,"confirmAction",function(){return Rt}),a.d(r,"updateNav",function(){return Dt}),a.d(r,"changeLanguage",function(){return Lt}),a.d(r,"updateValidationErrors",function(){return Pt}),a.d(r,"resetValidationErrors",function(){return Mt});var i={};a.r(i),a.d(i,"updateNewTransaction",function(){return ka}),a.d(i,"resetNewTransaction",function(){return Sa}),a.d(i,"addWeb3Transaction",function(){return Na}),a.d(i,"updateWeb3Transaction",function(){return _a}),a.d(i,"resetWeb3Transaction",function(){return Ra});var s={};a.r(s),a.d(s,"updateSignin",function(){return Sn}),a.d(s,"resetSignin",function(){return Nn}),a.d(s,"createAccount",function(){return _n}),a.d(s,"resetAccount",function(){return Rn}),a.d(s,"updateAccount",function(){return Dn}),a.d(s,"updateGasData",function(){return Ln}),a.d(s,"updateAccountStats",function(){return Pn}),a.d(s,"updateAccountSettings",function(){return Mn}),a.d(s,"updateValidatorAuthTokens",function(){return Un}),a.d(s,"createSession",function(){return Bn}),a.d(s,"getRelayerConfig",function(){return Fn}),a.d(s,"metamaskNetworkCheck",function(){return Zn}),a.d(s,"onMetamaskAccountChange",function(){return Yn}),a.d(s,"metamaskAccountCheck",function(){return Jn}),a.d(s,"metamaskChecks",function(){return Kn});var o={};a.r(o),a.d(o,"updateNewItem",function(){return Or}),a.d(o,"resetNewItem",function(){return Ar}),a.d(o,"resetAllNewItems",function(){return wr}),a.d(o,"addItem",function(){return Tr}),a.d(o,"addSlot",function(){return Ir}),a.d(o,"getAllItems",function(){return Cr}),a.d(o,"openCampaign",function(){return xr}),a.d(o,"removeItemFromItem",function(){return jr}),a.d(o,"addItemToItem",function(){return kr}),a.d(o,"updateItem",function(){return Sr}),a.d(o,"deleteItem",function(){return Nr}),a.d(o,"restoreItem",function(){return _r}),a.d(o,"cloneItem",function(){return Dr}),a.d(o,"archiveItem",function(){return Lr}),a.d(o,"unarchiveItem",function(){return Pr}),a.d(o,"setCurrentItem",function(){return Mr}),a.d(o,"updateCurrentItem",function(){return Ur}),a.d(o,"updateItems",function(){return Br}),a.d(o,"resetAllItems",function(){return Fr}),a.d(o,"updateTags",function(){return Wr}),a.d(o,"addNewTag",function(){return Gr}),a.d(o,"updateCampaignState",function(){return Vr}),a.d(o,"closeCampaign",function(){return Hr});var c={};a.r(c),a.d(c,"updateIdentity",function(){return fi}),a.d(c,"resetIdentity",function(){return bi}),a.d(c,"updateWallet",function(){return Ei}),a.d(c,"resetWallet",function(){return yi}),a.d(c,"getGrantAccount",function(){return Oi}),a.d(c,"deployFullIdentity",function(){return Ai}),a.d(c,"getFullIdentityTxData",function(){return wi}),a.d(c,"getRegisterExpectedIdentity",function(){return Ti}),a.d(c,"onUploadLocalWallet",function(){return Ii}),a.d(c,"identityWithdraw",function(){return Ci}),a.d(c,"ownerIdentities",function(){return xi}),a.d(c,"addrIdentityPrivilege",function(){return ji});var l={};a.r(l),a.d(l,"updateNewBid",function(){return ki}),a.d(l,"resetNewBid",function(){return Si}),a.d(l,"updateBids",function(){return Ni}),a.d(l,"resetAllBids",function(){return _i});var u={};a.r(u),a.d(u,"validateAddress",function(){return Ji});var d={};a.r(d),a.d(d,"updateAccountAnalytics",function(){return Qi}),a.d(d,"resetAnalytics",function(){return $i});var p=a(2),m=a.n(p),h=a(0),g=a.n(h),v=a(35),f=a.n(v),b=(a(545),a(7)),E=a(8),y=a(10),O=a(9),A=a(11),w=a(508),T=(a(546),a(16)),I=a(17),C=(a(445),a(313)),x=a(4),j="ADD_ITEM",k="UPDATE_ITEM",S="UPDATE_NEWITEM",N="RESET_NEWITEM",_="RESET_ALL_NEWITEMS",R="DELETE_ITEM",D="REMOVE_ITEM_FROM_ITEM",L="ADD_ITEM_TO_ITEM",P="UPDATE_ALL_ITEMS",M="RESET_ALL_ITEMS",U="SET_CURRENTITEM",B="UPDATE_CURRENTITEM",F="UPDATE_SPINNER",W="UPDATE_UI",G="ADD_TOAST",V="REMOVE_TOAST",H="CONFIRM_ACTION",z="UPDATE_NAV",Z="CHANGE_LANGUAGE",Y="UPDATE_ITEM_VALIDATION",J="RESET_ITEM_VALIDATION",K="UPDATE_NEW_BID",X="RESET_NEW_BID",q="UPDATE_SIGNIN",Q="RESET_SIGNIN",$="CREATE_ACCOUNT",ee="UPDATE_ACCOUNT",te="RESET_ACCOUNT",ae="UPDATE_NEW_TRANSACTION",ne="RESET_NEW_TRANSACTION",re="ADD_WEB3_TRANSACTION",ie="UPDATE_WEB3_TRANSACTION",se="RESET_WEB3_TRANSACTION",oe="UPDATE_TAGS",ce="ADD_NEW_TAG",le="UPDATE_IDENTITY",ue="RESET_IDENTITY",de="UPDATE_GAS_DATA",pe="UPDATE_WALLET",me="RESET_WALLET",he="UPDATE_RELAYER_CFG",ge="UPDATE_ANALYTICS",ve="RESET_ANALYTICS",fe=a(15),be=a(120),Ee=be.exchange.BID_STATES,ye=be.exchange.TIMEOUTS,Oe=fe.constants.SignatureModes,Ae=fe.constants.AdUnitsTypes.map(function(e){return{value:e,label:e.split("_")[1]}}),we=(Object.keys(Ee).map(function(e){return{value:Ee[e].id,label:Ee[e].label}}),[{value:"created"},{value:"title"},{value:"type"}]),Te={type:{label:"type",labelIsProp:!0,values:Ae}},Ie={METAMASK:{name:"metamask",signType:Oe.GETH,limit:0},TREZOR:{name:"trezor",signType:Oe.GETH,limit:0},LEDGER:{name:"ledger",signType:Oe.GETH,limit:0},DEMO:{name:"demo",signType:Oe.GETH,limit:0},GRANT:{name:"grant",signType:Oe.GETH,limit:50},SEED:{name:"seed",signType:Oe.GETH,limit:500}},Ce=[{value:"created",label:"Created"},{value:"status.name",label:"Status"},{value:"withdrawPeriodStart",label:"Ends"},{value:"activeFrom",label:"Starts"},{value:"depositAmount",label:"depositAmount"},{value:"maxPerImpression",label:"cpm"}],xe={"status.name":{label:"ststus",labelIsProp:!0,values:[{value:"Pending",label:"Pending"},{value:"Initializing",label:"Initializing"},{value:"Offline",label:"Offline"},{value:"Disconnected",label:"Disconnected"},{value:"Invalid",label:"Invalid"},{value:"Unhealthy",label:"Unhealthy"},{value:"Ready",label:"Ready"},{value:"Active",label:"Active"},{value:"Exhausted",label:"Exhausted"},{value:"Expired",label:"Expired"}]}},je={utm_source:"ADEX",utm_medium:"CPM",utm_campaign:"none",utm_content:"none"},ke=["eventPayouts","eventCounts"],Se=["advertiser","publisher"],Ne=["IMPRESSION"],_e=[{label:"LABEL_HOUR",value:"hour"},{label:"LABEL_DAY",value:"day"},{label:"LABEL_WEEK",value:"week"}],Re={account:new fe.Account,signin:{name:"",email:"",password:"",passConfirm:"",seed:"",publicKey:"",seedCheck:[],authenticated:!1},newItem:{Campaign:(new fe.Campaign).plainObj(),AdUnit:new fe.AdUnit({temp:{addUtmLink:!0}}).plainObj(),AdSlot:(new fe.AdSlot).plainObj()},currentItem:{},items:{Campaign:{},AdUnit:{},AdSlot:{}},spinners:{},ui:{},toasts:[],confirm:{data:{}},nav:{side:""},language:"en-US",validations:{},newTransactions:{default:{}},web3Transactions:{},tags:{},identity:{},ethNetwork:{networkId:null,gasData:{}},wallet:{},config:{relayer:{},market:{},validators:{}},analytics:function(){var e={};return Se.forEach(function(t){return Ne.forEach(function(a){return ke.forEach(function(n){return _e.forEach(function(r){e[t]=e[t]||{},e[t][a]=e[t][a]||{},e[t][a][n]=e[t][a][n]||{},e[t][a][n][r.value]=e[t][a][n][r.value]||{}})})})}),e}()};var De=a(36);var Le=a(23);var Pe=a(446),Me=a.n(Pe),Ue=a(447),Be=Me()(),Fe="en-US",We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.isProp,n=void 0!==a&&a,r=t.args,i=void 0===r?[""]:r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe,o=e+"";n&&(o="PROP_"+o.replace(/^_/,"")),o=o.toUpperCase();var c=Be[s][o]||e;return i.length&&Array.isArray(i)&&(c=function(e,t){return"string"!==typeof e?"":e.replace(/\${(\w+)}/g,function(e,a){var n=t[a];return"object"===typeof n&&n.component?Object(Ue.renderToString)(n.component):n})}(c,i)),c},Ge=function(e){Fe=e};var Ve=a(141),He={account:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.account,a=arguments.length>1?arguments[1]:void 0;switch(e=Object(x.a)({},t),a.type){case $:return e=Object(x.a)({},a.account);case te:return e=Re.account;case ee:return e=fe.Base.updateObject({item:e,newValues:Object(x.a)({},a.newValues),objModel:fe.Account});default:return t}},items:Object(Ve.filterActions)(function(){var e,t,a,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.items,s=arguments.length>1?arguments[1]:void 0,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.item?Object(x.a)({},e,Object(Le.a)({},t.item.id,t.item)):e};switch(s.item&&s.itemType&&(e=Object(x.a)({},i),r=Object(x.a)({},s.item),n=s.itemType),s.type){case j:return a=r,t=o(e[n],Object(x.a)({},s,{item:a})),e[n]=t,e;case L:return a=fe.Item.addItem(e[n][r._id],s.toAdd),t=o(e[n],Object(x.a)({},s,{item:a})),e[n]=t,e;case R:return t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object(x.a)({},e);return delete a[t],a}(e[n],r._id),e[n]=t,e;case D:return a=fe.Item.removeItem(e[n][r._id],s.toRemove),t=o(e[n],Object(x.a)({},s,{item:a})),e[n]=t,e;case k:return a=r,t=o(e[n],Object(x.a)({},s,{item:a})),e[n]=t,e;case P:e=Object(x.a)({},i);var c=s.items.reduce(function(e,t,a){var n=Object(x.a)({},e),r=Object(x.a)({},t);return n[r.id||r.ipfs]=r,n},e[s.itemType]);return e[s.itemType]=c,e;case M:return e=Object(x.a)({},Re.items);default:return i}},function(e){return e.type.match(/_ITEM/)}),ui:Object(Ve.filterActions)(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.ui,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case W:return e=Object(x.a)({},t),a.category?(e[a.category]=Object(x.a)({},e[a.category]),e[a.category][a.item]=a.value):e[a.item]=a.value,e;default:return t}},[W]),language:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.language,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:var a=t.lang||e;return Ge(a),a;default:return e}},web3Transactions:function(){var e,t,a,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.web3Transactions,i=arguments.length>1?arguments[1]:void 0;e=Object(x.a)({},r);var s=function(e){var t=e.pTxs,a=e.newTx;return 0===a.status&&t.indexOf(a.hash)?t.push(a.hash):t=t.filter(function(e){return e!==a.hash}),t};if(!i.addr)return r;switch(a=Object(x.a)({},e[i.addr]||{}),n=Object(De.a)(a.pendingTxs||[]),i.type){case re:return t=Object(x.a)({},i.value),a[i.tx]=t,a.pendingTxs=s({pTxs:n,newTx:t}),e[i.addr]=a,e;case ie:return t=function(e){var t=e.obj,a=e.key,n=e.val;return(t=t||{})[a]=n,t}({obj:t=Object(x.a)({},a[i.tx]||{}),key:i.key,val:i.value}),a[i.tx]=t,a.pendingTxs=s({pTxs:n,newTx:t}),e[i.addr]=a,e;case se:return t=Object(x.a)({},Re.web3Transactions.default),a[i.tx]=t,a.pendingTxs=s({pTxs:n,newTx:{txHash:i.tx}}),e[i.tx]=t,e;default:return r}},tags:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.tags,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case oe:return e=Object(x.a)({},t,a.tags);case ce:return(e=Object(x.a)({},t))[a.tag]=a.tag,e;default:return t}},ethNetwork:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.tags,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case de:return(e=Object(x.a)({},t)).gasData=Object(x.a)({},a.gasData),e;default:return t}},analytics:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.analytics,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case ge:return(e=Object(x.a)({},t))[a.side]=Object(x.a)({},e[a.side]),e[a.side][a.eventType]=Object(x.a)({},e[a.side][a.eventType]),e[a.side][a.eventType][a.metric]=Object(x.a)({},e[a.side][a.eventType][a.metric]),e[a.side][a.eventType][a.metric][a.timeframe]=Object(x.a)({},a.value),e;case ve:return e=Object(x.a)({},Re.analytics);default:return t}}},ze={signin:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.signin,n=arguments.length>1?arguments[1]:void 0;switch(e=Object(x.a)({},a),n.type){case q:return t=Object(x.a)({},e),Array.isArray(t[n.prop])?t[n.prop]=Object(De.a)(n.value):t[n.prop]=n.value,e=t;case Q:return e=t=Object(x.a)({},Re.signin);default:return a}},identity:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.identity,n=arguments.length>1?arguments[1]:void 0;switch(e=Object(x.a)({},a),n.type){case le:return t=e,Array.isArray(t[n.prop])?t[n.prop]=Object(De.a)(n.value):t[n.prop]=n.value,e=t;case ue:return e=t=Object(x.a)({},Re.identity);default:return a}},wallet:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.wallet,n=arguments.length>1?arguments[1]:void 0;switch(e=Object(x.a)({},a),n.type){case pe:return t=e,Array.isArray(t[n.prop])?t[n.prop]=Object(De.a)(n.value):t[n.prop]=n.value,e=t;case me:return e=t=Object(x.a)({},Re.wallet);default:return a}},newItem:Object(Ve.filterActions)(function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.newItem,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case S:return e=Object(x.a)({},a),t=Object(x.a)({},n.item),e[n.itemType]=t,e;case N:return e=Object(x.a)({},a),t=Object(x.a)({},Re.newItem[n.item]),e[n.item]=t,e;case _:return e=Object(x.a)({},Re.newItem);default:return a}},function(e){return e.type.match(/_NEWITEM/)}),spinners:Object(Ve.filterActions)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.spinners,t=arguments.length>1?arguments[1]:void 0,a=Object(x.a)({},e);switch(t.type){case F:return a[t.spinner]=t.value,a;case k:return a["update"+t.item._id]=!1,a;default:return e}},[F]),toasts:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.toasts,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case G:return(e=Object(x.a)({},a.toast)).added=Date.now(),[e].concat(Object(De.a)(t));case V:return t.filter(function(e){return e.id!==a.toast});default:return t}},confirm:Object(Ve.filterActions)(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.confirm,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case H:return(e=Object(x.a)({},t)).data=Object(x.a)({},a.confirm.data),e.onConfirm=a.confirm.onConfirm,e.onCancel=a.confirm.onCancel,e.active=void 0===a.confirm.active||a.confirm.active,e.noActionBtns=!!a.confirm.noActionBtns,e.calledOn=Date.now(),e;default:return t}},[H]),nav:Object(Ve.filterActions)(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.nav,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case z:return(e=Object(x.a)({},t))[a.item]=a.value,e;default:return t}},[z]),validations:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.validations,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Y:return e=Object(x.a)({},a),t=Object(x.a)({},e[n.item],n.errors),e[n.item]=t,e;case J:return e=Object(x.a)({},a),(t=Object(x.a)({},e[n.item]))&&t.hasOwnProperty(n.key)?delete t[n.key]:t&&!n.key&&(t={}),e[n.item]=t,e;default:return a}},newTransactions:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.newTransactions,n=arguments.length>1?arguments[1]:void 0;switch(e=Object(x.a)({},a),n.type){case ae:return t=function(e){var t=e.tx,a=e.key,n=e.val;return(t=t||{})[a]=n,t}({tx:t=Object(x.a)({},e[n.tx]||Re.newTransactions.default),key:n.key,val:n.value}),e[n.tx]=t,e;case ne:return t=Object(x.a)({},Re.newTransactions.default),e[n.tx]=t,e;default:return a}}},Ze=a(59),Ye=Object(Ze.b)(),Je=a(381),Ke=a(131),Xe=a(261),qe=a(509),Qe=Object(Je.a)(Ye),$e={key:"persist",storage:qe.a},et=Object(I.c)({persist:Object(Xe.a)($e,He),memory:Object(I.c)(ze),router:Object(Ke.b)(Ye)});var tt=function(e){var t=[C.a,Qe],a=Object(I.e)(et,e,Object(I.d)(I.a.apply(void 0,t)));return{persistor:Object(Xe.b)(a),store:a}}(),at=tt.store,nt=at.dispatch,rt=at.dispatch,it=function(){return at.getState()},st=a(96),ot=a(13),ct=a(101),lt=a.n(ct),ut=new(function(){function e(){Object(b.a)(this,e),this.hexToRgbaColorString=function(e,t){if(!e||"string"!==typeof e)throw new Error("Invalid color");4===e.length&&(e+=e.substr(1,4)),"object"!==typeof t&&"undefined"!==typeof t||(t=1);var a=function(e){return parseInt("0x"+e,16)},n=a(e.substr(1,2)),r=a(e.substr(3,2)),i=a(e.substr(5,2));return"rgba(".concat(n,",").concat(r,",").concat(i,",").concat(t,")")},this.getErrMsg=function(e){var t=(e.message||e||"").toString().split(/\r\n|\n|\r/g);return t.length>1?(e.name?e.name+": ":"")+t[0].toString():(e.error||e||"").toString()},this.isInt=function(e){return"number"===typeof e&&e%1===0},this.shuffleArray=function(e){return Object(De.a)(e).sort(function(){return Math.random()-.5})}}return Object(E.a)(e,[{key:"getGuid",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},{key:"getRndHash32",value:function(e){var t="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});return e&&(t=e+t.substring(e.length)),t}},{key:"getRandomInt",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"getRandomBool",value:function(){return!!this.getRandomInt(0,1)}},{key:"getRandomPropFromObj",value:function(e){var t=Object.keys(e);return e[t[t.length*Math.random()<<0]]}},{key:"getRandomKeyFromObj",value:function(e){var t=Object.keys(e);return t[t.length*Math.random()<<0]}},{key:"geRandomMoment",value:function(e,t,a){var n=lt.a.isMoment(a)?a.valueOf():void 0;return lt()(n).add(this.getRandomInt(-e,t),"d").add(this.getRandomInt(-24,24),"h").add(this.getRandomInt(-60,60),"m")}},{key:"getQuery",value:function(e){return!e||"object"===typeof e&&!Object.keys(e).length?"":"?"+Object.keys(e).filter(function(t){return void 0!==e[t]}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])},"").join("&")||!1}}]),e}()),dt=a(67),pt=function(e){e||nt(Object(dt.d)("/")),nt(bi()),nt(Fr()),nt(wr()),nt(_i()),nt(Rn()),nt($i())},mt=function(){return"demo"===it().persist.account._authType},ht=function e(t){var a=this,n=t.baseUrl;Object(b.a)(this,e),this.getAuthHeaders=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).authSig,t=it().persist.account;return{"X-User-Address":t._addr,"X-User-Signature":e||t._authSig,"X-Auth-Token":t._authToken}},this.getUrl=function(e,t,a){var n=e+"/";return t&&(n+=t=t.replace(/^\//,"")),n+=a},this.fetch=function(e){var t=e.route,n=void 0===t?"":t,r=e.queryParams,i=void 0===r?{}:r,s=e.method,o=void 0===s?"GET":s,c=e.body,l=e.headers,u=void 0===l?{}:l,d=(e.userAddr,e.authSig),p=void 0===d?"":d,m=(e.authToken,Object(x.a)({},i));mt()&&(m.demo=!0);var h=ut.getQuery(m),g=a.getUrl(a.baseUrl,n,h),v=Object(x.a)({},a.getAuthHeaders({authSig:p}),u);return fetch(g,{method:o,headers:v,body:c})},this.baseUrl=n},gt=new ht({baseUrl:"https://market.adex.network"}),vt=function(e,t){return e.status>=200&&e.status<400?e.json():e.text().then(function(a){if(401!==e.status&&403!==e.status||pt(),!t)throw new Error(We("SERVICE_ERROR_MSG",{args:[e.url,e.status,e.statusText,a]}))})},ft=function(e){var t=e.identity,a=e.mode,n=e.signature,r=e.authToken,i=e.hash,s=e.typedData,o=e.signerAddress;return gt.fetch({route:"auth/",method:"POST",body:JSON.stringify({identity:t,mode:a,signature:n,authToken:r,hash:i,typedData:s,signerAddress:o}),headers:{"Content-Type":"application/json"}}).then(vt)},bt=function(e){var t=e.authSig,a=e.skipErrToast;return gt.fetch({route:"session",method:"GET",authSig:t,skipErrToast:a}).then(function(e){return vt(e,!0)})},Et=function(e){var t=Object(x.a)({},e);return t.created&&lt.a.isMoment(t.created)&&(t.created=lt.a.unix(t.created)/1e3),JSON.stringify(t)},yt=function(e){var t=e.identity;return gt.fetch({route:"units",method:"GET",queryParams:{identity:t}}).then(vt)},Ot=function(e){var t=e.unit,a=e.authSig;return gt.fetch({route:"units",method:"POST",body:Et(t),authSig:a,headers:{"Content-Type":"application/json"}}).then(vt)},At=function(e){var t=e.unit,a=e.id,n=e.authSig;return gt.fetch({route:"units/".concat(a),method:"PUT",body:Et(t),authSig:n,headers:{"Content-Type":"application/json"}}).then(vt)},wt=function(e){var t=e.identity;return gt.fetch({route:"slots",method:"GET",queryParams:{identity:t}}).then(vt)},Tt=function(e){var t=e.slot,a=e.authSig;return gt.fetch({route:"slots",method:"POST",body:Et(t),authSig:a,headers:{"Content-Type":"application/json"}}).then(vt)},It=function(e){var t=e.slot,a=e.id,n=e.authSig;return gt.fetch({route:"slots/".concat(a),method:"PUT",body:Et(t),authSig:n,headers:{"Content-Type":"application/json"}}).then(vt)},Ct=function(e){var t=e.authSig;return gt.fetch({route:"campaigns/by-owner",method:"GET",authSig:t}).then(vt)},xt=function(e){var t=e?{all:!0}:{};return gt.fetch({route:"campaigns",method:"GET",queryParams:t}).then(vt)},jt=a(31);function kt(e,t){return function(a){return a({type:F,spinner:e,value:t})}}function St(e,t,a){return function(n){return n({type:W,item:e,value:t,category:a})}}function Nt(e){var t=e.type,a=e.action,n=e.label,r=void 0===n?"":n,i=e.timeout,s=void 0!==i&&i,o=e.unclosable,c=e.anchorOrigin,l=e.top;return function(e){var n=ut.getGuid();return e({type:G,toast:{type:t,action:a,label:r,timeout:s,unclosable:o,anchorOrigin:c,top:l,id:n}}),n}}function _t(e){return function(t){return t({type:V,toast:e})}}function Rt(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.confirmLabel,r=void 0===n?"":n,i=a.cancelLabel,s=void 0===i?"":i,o=a.title,c=void 0===o?"":o,l=a.text,u=void 0===l?"":l,d=arguments.length>3?arguments[3]:void 0,p=arguments.length>4?arguments[4]:void 0;return function(a){return a({type:H,confirm:{onConfirm:e,onCancel:t,data:{confirmLabel:r,cancelLabel:s,title:c,text:u},noActionBtns:d,active:p}})}}function Dt(e,t){return function(a){return a({type:z,item:e,value:t})}}function Lt(e){return function(t){return t({type:Z,lang:e})}}function Pt(e,t){return function(a){return a({type:Y,item:e,errors:t})}}function Mt(e,t){return function(a){return a({type:J,item:e,key:t})}}var Ut=function(e){var t=e.addr,a=void 0===t?"":t,n=e.sig,r=e.mode,i=e.expiryTime,s=e.identity,o=void 0===s?"notset":s;if(!a||!n||!i||void 0===r)throw new Error("addSig - all args are required");localStorage.setItem("addr-"+r+"-"+a.toLowerCase()+"-"+o,n+"-"+i)},Bt=function(e){var t=e.addr,a=void 0===t?"":t,n=e.identity,r=void 0===n?"":n,i=e.mode,s=localStorage.getItem("addr-"+i+"-"+a.toLowerCase()+"-"+r);if(!s)return null;var o=(s=s.split("-"))[0],c=s[1];return!c||parseInt(c,10)<=Date.now()?null:o},Ft=new ht({baseUrl:"https://relayer.adex.network"}),Wt=function(e){return e.status>=200&&e.status<400?e.json():e.text().then(function(t){throw new Error(We("SERVICE_ERROR_MSG",{args:[e.url,e.status,e.statusText,t]}))})},Gt=function(e){var t=e.ownerAddr,a=e.mail,n=e.couponCode;return Ft.fetch({route:"identity/grant-account",method:"POST",body:JSON.stringify({mail:a,ownerAddr:t,couponCode:n}),headers:{"Content-Type":"application/json"}}).then(Wt)},Vt=function(e){var t=e.identity;return Ft.fetch({route:"identity/grant-type/".concat(t),method:"GET"}).then(Wt)},Ht=function(e){var t=e.owner;return Ft.fetch({route:"identity/owners/".concat(t),method:"GET"}).then(Wt)},zt=function(e){var t=e.txHash,a=e.identity,n=e.privileges,r=e.mail;return Ft.fetch({route:"identity/register-identity",method:"POST",body:JSON.stringify({txHash:t,identity:a,privileges:n,mail:r}),headers:{"Content-Type":"application/json"}}).then(Wt)},Zt=function(e){var t=e.txnsRaw,a=e.signatures,n=e.channel,r=e.identityAddr;return Ft.fetch({route:"channel/open",method:"POST",body:JSON.stringify({txnsRaw:t,signatures:a,channel:n,identityAddr:r}),headers:{"Content-Type":"application/json"}}).then(Wt)},Yt=function(e){var t=e.owner,a=e.mail;return Ft.fetch({route:"identity/register-expected",method:"POST",body:JSON.stringify({owner:t,mail:a}),headers:{"Content-Type":"application/json"}}).then(Wt)},Jt=function(){return Ft.fetch({route:"relayer/cfg",method:"GET"}).then(Wt)},Kt=function(e){var t=e.txnsRaw,a=e.signatures,n=e.identityAddr;return Ft.fetch({route:"identity/execute",method:"POST",body:JSON.stringify({txnsRaw:t,signatures:a,identityAddr:n}),headers:{"Content-Type":"application/json"}}).then(Wt)},Xt=function(e){var t=e.txnsRaw,a=e.signatures,n=e.identityAddr,r=e.privLevel,i=e.setAddr;return Ft.fetch({route:"identity/set-addr-privilege",method:"POST",body:JSON.stringify({txnsRaw:t,signatures:a,identityAddr:n,setAddr:i,privLevel:r}),headers:{"Content-Type":"application/json"}}).then(Wt)},qt=a(18),Qt=a(448),$t=a(449),ea=a(450),ta=a(451),aa={Identity:{abi:Qt.abi},AdExCore:{address:"0x333420fC6A897356E69b62417cd17fF012177d2b",abi:$t.abi},DAI:{address:"0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359",abi:ea.abi,decimals:18},IdentityFactory:{address:"0x801DbBB2fcbf9F4C3865c6BA5c5012eE19Ec283a",abi:ta.abi}},na=aa.AdExCore,ra=aa.Identity,ia=aa.DAI,sa=aa.IdentityFactory,oa=function(){var e=Object(ot.a)(m.a.mark(function e(){var t,a,n,r,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new qt.ethers.providers.JsonRpcProvider("https://mainnet.infura.io/v3/3d22938fd7dd41b7af4197752f83e8a1"),a=new qt.ethers.Contract(na.address,na.abi,t),n=new qt.ethers.Contract(ia.address,ia.abi,t),r=new qt.ethers.Contract(sa.address,sa.abi,t),i={provider:t,AdExCore:a,Identity:ra,Dai:n,IdentityFactory:r},e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ca=new Promise(function(e,t){window.addEventListener("load",function(){var t=window.ethereum,a=window.web3;return e({ethereum:t,web3:a})})}),la=function(){var e=Object(ot.a)(m.a.mark(function e(){var t,a,n,r,i,s,o,c,l,u;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca.then();case 2:if(t=e.sent,a=t.web3,n=t.ethereum,r=null,i=null,s=null,o=null,!n){e.next=29;break}return e.prev=10,e.next=13,n.enable();case 13:return c=e.sent,console.log("Injected ethereum detected.",c),r=new qt.ethers.providers.Web3Provider(n),i=new qt.ethers.Contract(na.address,na.abi,r),s=new qt.ethers.Contract(ia.address,ia.abi,r),o=new qt.ethers.Contract(sa.address,sa.abi,r),l={provider:r,AdExCore:i,Identity:ra,Dai:s,IdentityFactory:o},e.abrupt("return",l);case 23:throw e.prev=23,e.t0=e.catch(10),console.error(e.t0),new Error(e.t0.message);case 27:e.next=41;break;case 29:if(!a){e.next=39;break}return r=new qt.ethers.providers.Web3Provider(window.web3.currentProvider),i=new qt.ethers.Contract(na.address,na.abi,r),s=new qt.ethers.Contract(ia.address,ia.abi,r),o=new qt.ethers.Contract(sa.address,sa.abi,r),console.log("Injected legacy web3 detected."),u={provider:r,AdExCore:i,Identity:ra,Dai:s,IdentityFactory:o},e.abrupt("return",u);case 39:throw console.error("Non-Ethereum browser detected."),new Error("Non-Ethereum browser detected.");case 41:case"end":return e.stop()}},e,null,[[10,23]])}));return function(){return e.apply(this,arguments)}}(),ua=new Promise(function(e,t){console.log("getLocalWeb3"),e(oa())}),da=function(){var e=Object(ot.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==Ie.METAMASK.name){e.next=7;break}return e.next=3,la();case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.abrupt("return",ua);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),pa=a(190),ma=a.n(pa),ha="m/44'/60'/0'/0";ma.a.manifest({email:"contactus@adex.network",appUrl:"http://adex.network"});var ga=function(e){function t(e){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this))).getAddsParams=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?10:r,s=[],o=n;o<i;o++)s.push({path:a.path+"/".concat(o),showOnTrezor:!1});return{bundle:s}},a.getAddresses=Object(ot.a)(m.a.mark(function e(){var t,n,r,i,s,o,c,l,u=arguments;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},n=t.from,r=void 0===n?0:n,i=t.to,s=void 0===i?9:i,e.next=3,ma.a.ethereumGetAddress(a.getAddsParams({from:r,to:s}));case 3:return o=e.sent,c=o.success,l=o.payload,e.abrupt("return",{success:c,payload:l});case 7:case"end":return e.stop()}},e)})),a.signTx=function(){var e=Object(ot.a)(m.a.mark(function e(t){var n,r,i,s,o,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt.utils.resolveProperties(t);case 2:return(n=e.sent).value=n.value||qt.utils.hexlify(0),e.next=6,ma.a.ethereumSignTransaction({path:a.path,transaction:n});case 6:if(r=e.sent,i=r.success,s=r.payload,!i){e.next=15;break}return o={r:s.r,s:s.s,v:parseInt(s.v)},c=qt.utils.serializeTransaction(n,o),e.abrupt("return",c);case 15:throw new Error(s.error);case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.sendTransaction=function(){var e=Object(ot.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.signTx(t);case 2:return n=e.sent,r=a.provider.sendTransaction(n),e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.signMessage=function(){var e=Object(ot.a)(m.a.mark(function e(t){var n,r,i,s,o,c=arguments;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,ma.a.ethereumSignMessage({path:a.path,message:t,hex:!!n.hex});case 3:if(r=e.sent,i=r.success,s=r.payload,!i){e.next=11;break}return o={signature:"0x"+s.signature,hash:t,mode:fe.constants.SignatureModes.GETH,address:s.address},e.abrupt("return",o);case 11:throw new Error(s.error);case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.connect=function(e){return new t(e,{path:a.path})},a._provider=e,a._path=n.path||ha,a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"path",get:function(){return this._path}},{key:"provider",get:function(){return this._provider}}]),t}(qt.Signer),va=a(452),fa=a(114),ba=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kaipahH5";if(!e)return"";var a=fa.createCipher("aes-256-ctr",t),n=a.update(e,"utf8","hex");return n+=a.final("hex")},Ea=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kaipahH5";if(!e)return"";var a=fa.createDecipher("aes-256-ctr",t),n=a.update(e,"hex","utf8");return n+=a.final("utf8")},ya=function(e){try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(a){return}};function Oa(e,t){try{var a=JSON.stringify(e);localStorage.setItem(t,a)}catch(n){console.warn(n)}}function Aa(e){var t=e||function(){var e=qt.utils.randomBytes(16);return qt.utils.HDNode.entropyToMnemonic(e)}(),a=qt.ethers.Wallet.fromMnemonic(t);return{mnemonic:e,privateKey:a.privateKey,address:a.address,path:a.path}}function wa(e){var t=e.email,a=e.password;return ba(t,a)}function Ta(e){var t=e.email,a=e.password,n=e.data;return ba(JSON.stringify(n),t+a)}function Ia(e){var t=e.email,a=void 0===t?"":t,n=e.password,r=void 0===n?"":n,i=e.dataKey,s=void 0===i?"":i,o=e.dataValue,c=void 0===o?"":o;if("data"===s)throw new Error("Invalid data key");var l=wa({email:a,password:r}),u=ya(l);if(!u)throw new Error("Wallet not found");var d=Ta({data:c,email:a,password:r});u[s]=d,Oa(u,l)}function Ca(e){var t=e.email,a=e.password;if(!t||!a)throw new Error("email and password are required");var n=wa({email:t,password:a}),r=ya(n);return r?Object.keys(r).reduce(function(e,n){return e[n]=function(e){var t=e.email,a=e.password,n=e.data;return JSON.parse(Ea(n,t+a))}({data:r[n],email:t,password:a}),e},{}):null}var xa=function(e){function t(e){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this))).getAddress=Object(ot.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a._wallet.address);case 1:case"end":return e.stop()}},e)})),a.signTx=function(){var e=Object(ot.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a._wallet.sign(t),e.abrupt("return",n);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.sendTransaction=function(){var e=Object(ot.a)(m.a.mark(function e(t){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.signTx(t);case 2:return n=e.sent,r=a.provider.sendTransaction(n),e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.signMessage=function(){var e=Object(ot.a)(m.a.mark(function e(t){var n,r,i=arguments;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(i.length>1&&void 0!==i[1]?i[1]:{}).hex&&(t=qt.utils.arrayify(t)),e.next=4,a._wallet.signMessage(t);case 4:return n=e.sent,r={signature:n,hash:t,mode:fe.constants.SignatureModes.GETH,address:a._wallet.address},e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.connect=function(e){return new t(e,{email:a.email,password:a.password})},a._provider=e;var r=Ca({email:n.email,password:n.password});return a._wallet=new qt.Wallet(r.data.privateKey,e),a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"provider",get:function(){return this._provider}}]),t}(qt.Signer),ja=function(e){function t(e){var a;arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this))).getAddress=Object(ot.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a._signer.getAddress());case 1:case"end":return e.stop()}},e)})),a.sendTransaction=function(){var e=Object(ot.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a._signer.sendTransaction(t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.signMessage=function(){var e=Object(ot.a)(m.a.mark(function e(t){var n,r,i=arguments;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(i.length>1&&void 0!==i[1]?i[1]:{}).hex&&(t=qt.utils.arrayify(t)),e.next=4,a._signer.signMessage(t);case 4:return n=e.sent,e.t0=n,e.t1=t,e.t2=fe.constants.SignatureModes.GETH,e.next=10,a._signer.getAddress();case 10:return e.t3=e.sent,r={signature:e.t0,hash:e.t1,mode:e.t2,address:e.t3},e.abrupt("return",r);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.connect=function(e){return new t(e)},a._provider=e,a._signer=e.getSigner(),a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"provider",get:function(){return this._provider}}]),t}(qt.Signer);function ka(e){var t=e.tx,a=e.key,n=e.value;return function(e){return e({type:ae,tx:t,key:a,value:n})}}function Sa(e){var t=e.tx;return function(e){return e({type:ne,tx:t})}}function Na(e){var t=e.tx,a=e.addr;return function(e){if(t&&t.hash&&a)return e({type:re,value:t,tx:t.hash,addr:a})}}function _a(e){var t=e.tx,a=e.key,n=e.value,r=e.addr;return function(e){return e({type:ie,tx:t,key:a,value:n,addr:r})}}function Ra(e){var t=e.tx,a=e.addr;return function(e){return e({type:se,tx:t,addr:a})}}var Da=a(121);function La(e){return Pa.apply(this,arguments)}function Pa(){return(Pa=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.tx,n=t.provider,r=t.sender,i=t.gasLimit,s=t.gasPrice,e.next=3,qt.utils.populateTransaction(a,n,r);case 3:return(o=e.sent).gasLimit=i||o.gasLimit.toHexString(),o.gasPrice=s||o.gasPrice.toHexString(),o.value=o.value||qt.utils.hexlify(0),o.nonce=qt.utils.hexlify(o.nonce),e.abrupt("return",o);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ma(e){return Ua.apply(this,arguments)}function Ua(){return(Ua=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.tx,t.txSuccessData,n=t.from,r=t.fromType,i=t.account,e.prev=1,e.next=4,a;case 4:return s=e.sent,nt(Nt({type:"accept",action:"X",label:We("TRANSACTION_SENT_MSG",{args:[s.hash]}),timeout:5e4})),(o=Object(x.a)({},i.settings))[r]=Object(x.a)({},o[r])||{},o[r].nextNonce=s.nonce+1,nt(Dn({newValues:{settings:o}})),e.next=12,s.wait();case 12:c=e.sent,nt(_a({tx:s.hash,key:"status",value:1===c.status||"0x1"===c.status||!0===c.status?"success":"failed",addr:n})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),console.error(e.t0),nt(Nt({type:"cancel",action:"X",label:We("TRANSACTION_ERR_MSG",{args:[e.t0]}),timeout:5e4}));case 20:case"end":return e.stop()}},e,null,[[1,16]])}))).apply(this,arguments)}function Ba(e){return Fa.apply(this,arguments)}function Fa(){return(Fa=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o,c,l,u,d;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.wallet,n=t.provider,r=a.authType,i=a.path,s=a.email,o=a.password,r!==Ie.METAMASK.name){e.next=5;break}return c=new ja(n),e.abrupt("return",c);case 5:if(r!==Ie.LEDGER.name){e.next=8;break}return l=new va.a(n,{path:i}),e.abrupt("return",l);case 8:if(r!==Ie.TREZOR.name){e.next=11;break}return u=new ga(n,{path:i}),e.abrupt("return",u);case 11:if(r!==Ie.GRANT.name){e.next=14;break}return d=new xa(n,{email:s,password:o}),e.abrupt("return",d);case 14:throw new Error("Invalid wallet authType ".concat(a.authType));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Wa=function(e){var t=e.typedData,a=t.map(function(e){return"string"===typeof e.value?qt.utils.toUtf8Bytes(e.value):qt.utils.hexlify(e.value)}),n=qt.utils.keccak256.apply(null,a),r=t.map(function(e){return qt.utils.toUtf8Bytes(e.type+" "+e.name)}),i=qt.utils.keccak256.apply(null,r);return qt.utils.solidityKeccak256(["bytes32","bytes32"],[i,n])};function Ga(e){return Va.apply(this,arguments)}function Va(){return(Va=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.wallet,e.next=3,da(a.authType);case 3:return n=e.sent,r=n.provider,e.next=7,Ba({wallet:a,provider:r});case 7:return i=e.sent,s=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(),o=Wa({typedData:[{type:"uint",name:"Auth token",value:s}]}),e.next=13,i.signMessage(o,{hex:!0});case 13:return c=e.sent,e.abrupt("return",Object(x.a)({},c,{authToken:s,hash:o}));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ha(e){return za.apply(this,arguments)}function za(){return(za=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.txHashes,n=void 0===a?[]:a,r=t.authType,e.next=3,da(r);case 3:return i=e.sent,s=i.provider,o=n.map(function(e){return s.getTransactionReceipt(e)}),e.abrupt("return",Promise.all(o));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Za(e){return Ya.apply(this,arguments)}function Ya(){return(Ya=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.tx,n=t.signer,e.next=3,n.signMessage(new Da.Transaction(a).hashHex(),{hex:!0});case 3:return r=e.sent,i=Object(Da.splitSig)(r.signature),e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ja(e){return Ka.apply(this,arguments)}function Ka(){return(Ka=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o,c,l,u;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.txns,n=t.signer,r=[],i=!0,s=!1,o=void 0,e.prev=5,c=a[Symbol.iterator]();case 7:if(i=(l=c.next()).done){e.next=17;break}return u=l.value,e.t0=r,e.next=12,Za({tx:u,signer:n});case 12:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 14:i=!0,e.next=7;break;case 17:e.next=23;break;case 19:e.prev=19,e.t2=e.catch(5),s=!0,o=e.t2;case 23:e.prev=23,e.prev=24,i||null==c.return||c.return();case 26:if(e.prev=26,!s){e.next=29;break}throw o;case 29:return e.finish(26);case 30:return e.finish(23);case 31:return e.abrupt("return",r);case 32:case"end":return e.stop()}},e,null,[[5,19,23,31],[24,,26,30]])}))).apply(this,arguments)}var Xa=a(455),qa=function(e){var t=e.baseUrl;return new ht({baseUrl:t})},Qa=function(e){var t=e.campaign,a=(t.validators||t.spec.validators)[0],n=(t.validators||t.spec.validators)[1];return{leader:{requester:qa({baseUrl:a.url}),validator:a},follower:{requester:qa({baseUrl:n.url}),validator:n}}},$a=function(e){return e.status>=200&&e.status<400?e.json():e.text().then(function(t){throw new Error(We("SERVICE_ERROR_MSG",{args:[e.url,e.status,e.statusText,t]}))})},en=function(){var e=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o,c,l,u,d;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.validatorId,n=t.account,r=n.identity,i=n.wallet,!(s=(r.validatorAuthTokens||{})[a])){e.next=5;break}return e.abrupt("return",s);case 5:return e.next=7,da(i.authType);case 7:return o=e.sent,c=o.provider,e.next=11,Ba({wallet:i,provider:c});case 11:return l=e.sent,u={id:a,identity:r.address,era:Math.floor(Date.now()/6e4)},d=Xa.a.sign(l,u),e.abrupt("return",d);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),tn=function(){var e=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o,c,l,u,d,p;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.campaign,r=t.options,i=t.account,s=Qa({campaign:n}),o=s.follower,c=s.leader,e.next=4,en({validatorId:o.validator.id,account:i});case 4:return l=e.sent,e.next=7,en({validatorId:c.validator.id,account:i});case 7:return u=e.sent,e.next=10,o.requester.fetch(Object(x.a)({},r,{headers:Object(x.a)({},r.headers,{authorization:"Bearer "+l})})).then($a);case 10:return d=e.sent,e.next=13,c.requester.fetch(Object(x.a)({},r,{headers:Object(x.a)({},r.headers,{authorization:"Bearer "+u})})).then($a);case 13:return p=e.sent,e.abrupt("return",{results:{followerResult:d,leaderResult:p},authTokens:(a={},Object(Le.a)(a,o.id,l),Object(Le.a)(a,c.id,u),a)});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),an=function(e){var t=e.campaign;return Qa({campaign:t}).leader.requester.fetch({route:"channel/".concat(t.id,"/last-approved"),method:"GET"}).then($a)},nn=function(e){var t=e.campaign,a=e.account,n={route:"channel/".concat(t.id,"/events"),method:"POST",body:JSON.stringify({events:[{type:"CLOSE"}]}),headers:{"Content-Type":"application/json"}};return tn({campaign:t,options:n,account:a})},rn=function(){var e=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o,c,l,u;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.idenityAddr,t.campaign,a=t.campaignId,n=t.leaderAuth,r=t.eventType,i=t.metric,s=t.timeframe,o=t.limit,c=t.side,"https://tom.moonicorn.network",l=qa({baseUrl:"https://tom.moonicorn.network"}),e.next=5,l.fetch({route:"/analytics/for-".concat(c).concat(a||""),method:"GET",queryParams:{eventType:r,metric:i,timeframe:s,limit:o},headers:{authorization:"Bearer "+n}}).then($a);case 5:return u=e.sent,e.abrupt("return",u);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),sn=qt.utils.formatEther,on=qt.utils.formatUnits,cn=fe.constants.valueToKey(fe.constants.IdentityPrivilegeLevel);function ln(e){return un.apply(this,arguments)}function un(){return(un=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o,c,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.address,n=t.authType,e.next=3,da(n);case 3:return r=e.sent,i=r.provider,s=r.Dai,o=[i.getBalance(a.address),s.balanceOf(a.address)],e.next=9,Promise.all(o);case 9:return c=e.sent,l={address:a.address,path:a.serializedPath||a.path,balanceEth:c[0].toString(),balanceDai:c[1].toString()},e.abrupt("return",l);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function dn(e){return pn.apply(this,arguments)}function pn(){return(pn=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o,c,l,u,d,p,h,g,v,f,b,E,y,O,A,w,T,I;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=t.outstandingBalanceDai,r=void 0===n?Object(jt.bigNumberify)(0):n,i=a.wallet,s=a.identity,e.next=4,da(i.authType);case 4:return o=e.sent,c=o.provider,l=o.Dai,u=o.Identity,d=s.status,p=void 0===d?{}:d,h=new qt.Contract(s.address,u.abi,c),e.prev=10,e.next=13,h.deployed();case 13:g=h.privileges(i.address),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),g=Promise.resolve(p.type||"Not Deployed");case 19:return v=[c.getBalance(i.address),l.balanceOf(i.address),l.balanceOf(s.address),g],e.next=22,Promise.all(v.map(function(e){return e.then(function(e){return e}).catch(function(e){})}));case 22:return f=e.sent,b=Object(st.a)(f,4),E=b[0],y=b[1],O=b[2],A=void 0===O?Object(jt.bigNumberify)(0):O,w=b[3],T={walletBalanceEth:E,walletBalanceDai:y,identityBalanceDai:A,walletPrivileges:w,outstandingBalanceDai:r,totalIdentityBalanceDai:A.add(r)},I={walletAddress:i.address,walletAuthType:i.authType,walletPrivileges:cn[w],walletBalanceEth:sn(E),walletBalanceDai:on(y,18),identityAddress:s.address,identityBalanceDai:on(A,18),outstandingBalanceDai:on(r,18),totalIdentityBalanceDai:on(T.totalIdentityBalanceDai,18)},e.abrupt("return",{raw:T,formatted:I});case 32:case"end":return e.stop()}},e,null,[[10,16]])}))).apply(this,arguments)}function mn(){return hn.apply(this,arguments)}function hn(){return(hn=Object(ot.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt(!0);case 2:return t=e.sent,e.abrupt("return",Promise.all(t.map(function(){var e=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an({campaign:t});case 2:if(a=e.sent,!(n=a.lastApproved)){e.next=11;break}return r=n.newState.msg.balances,i=Object.keys(r).map(function(e){return Da.Channel.getBalanceLeaf(e,r[e])}),s=new Da.MerkleTree(i),e.abrupt("return",{lastApproved:n,mTree:s,channel:t});case 11:return e.abrupt("return",{lastApproved:null,mTree:null,channel:t});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=Object(ot.a)(m.a.mark(function e(t,a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter(function(e){var t=e.lastApproved;return t&&!!t.newState.msg.balances[a]}).map(function(e){return{channel:e.channel,balance:e.lastApproved.newState.msg.balances[a]}}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fn(e){return bn.apply(this,arguments)}function bn(){return(bn=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o,c,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.wallet,n=t.address,r=t.withBalance,i=a.authType,e.next=4,da(i);case 4:return s=e.sent,o=s.AdExCore,e.next=8,Promise.all(r.map(function(){var e=Object(ot.a)(m.a.mark(function e(t){var a,r,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.channel,r=t.balance,e.t0=Object(jt.bigNumberify)(r),e.next=4,o.withdrawnPerUser(a.id,n);case 4:return e.t1=e.sent,i=e.t0.sub.call(e.t0,e.t1),e.abrupt("return",{channel:a,outstanding:i});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 8:return c=e.sent,l=c.reduce(function(e,t){return e.add(t.outstanding)},Object(jt.bigNumberify)("0")),e.abrupt("return",l||Object(jt.bigNumberify)("0"));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function En(e){return yn.apply(this,arguments)}function yn(){return(yn=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o,c,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.withBalance,n=t.account,r=n.identity.validatorAuthTokens||{},i=a.reduce(function(e,t){var a,n=t.channel,i=(n.validators||n.spec.validators)[0].id,s=(n.validators||n.spec.validators)[1].id;return Object(x.a)({},e,(a={},Object(Le.a)(a,i,e[i]||r[i]||null),Object(Le.a)(a,s,e[s]||r[s]||null),a))},{}),s=Object.keys(i),o=s.map(function(){var e=Object(ot.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i[t]){e.next=4;break}return e.abrupt("return",i[t]);case 4:return e.next=6,en({validatorId:t,account:n});case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=7,Promise.all(o);case 7:return c=e.sent,l=s.reduce(function(e,t,a){return Object(x.a)({},e,Object(Le.a)({},t,c[a]))},{}),e.abrupt("return",l);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function On(e){return An.apply(this,arguments)}function An(){return(An=Object(ot.a)(m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.address,e.next=3,mn();case 3:return n=e.sent,e.next=6,gn(n,a);case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var wn=a(456),Tn=function(e){return e.persist.account},In=Object(wn.a)(Tn,function(e){var t=e.wallet,a=e.identity;return!!t&&!!t.address&&!!t.authSig&&!!t.authType&&!!a.address}),Cn=function(e){return e.memory.identity},xn=function(e){return e.router.location},jn=864e5,kn="0x2892f6C41E0718eeeDd49D98D648C789668cA67d";function Sn(e,t){return function(a){return a({type:q,prop:e,value:t})}}function Nn(){return function(e){return e({type:Q})}}function _n(e){return function(t){return t({type:$,account:e})}}function Rn(){return function(e){return e({type:te})}}function Dn(e){var t=e.meta,a=e.newValues;return function(e){return e({type:ee,meta:t,newValues:a})}}function Ln(e){var t=e.gasData;return function(e){return e({type:de,gasData:t})}}function Pn(){return function(){var e=Object(ot.a)(m.a.mark(function e(t,a){var n,r,i,s,o,c,l,u,d,p,h;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().persist.account,e.prev=1,r=n.identity,i=n.wallet,s=n.stats,o=r.address,c=s.aggregates,e.next=7,On({address:o});case 7:return l=e.sent,e.next=10,fn({wallet:i,address:o,withBalance:l}).catch(function(e){console.error("ERR_OUTSTANDING_BALANCES",e)});case 10:return u=e.sent,e.next=13,dn({account:n,outstandingBalanceDai:u});case 13:d=e.sent,p=d.formatted,h=d.raw,Dn({newValues:{stats:{formatted:p,raw:h,aggregates:c}}})(t),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),console.error("ERR_STATS",e.t0),Nt({type:"cancel",label:We("ERR_STATS",{args:[e.t0]}),timeout:2e4})(t);case 23:case"end":return e.stop()}},e,null,[[1,19]])}));return function(t,a){return e.apply(this,arguments)}}()}function Mn(){return function(){var e=Object(ot.a)(m.a.mark(function e(t,a){var n,r,i,s,o,c,l,u;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a().persist.account,r=n.identity,i=n.settings,s=i.grantType,o=i.updated,c=Date.now(),l=!s||c-(o||0)>jn,e.prev=4,!l){e.next=12;break}return u=Object(x.a)({},i),e.next=9,Vt({identity:r.address});case 9:u.grantType=e.sent.type,u.updated=c,Dn({newValues:{settings:u}})(t);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error("ERR_SETTINGS",e.t0),Nt({type:"cancel",label:We("ERR_SETTINGS",{args:[e.t0]}),timeout:2e4})(t);case 18:case"end":return e.stop()}},e,null,[[4,14]])}));return function(t,a){return e.apply(this,arguments)}}()}function Un(e){var t=e.newAuth;return function(){var e=Object(ot.a)(m.a.mark(function e(a,n){var r,i,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n().persist.account.identity,i=Object(x.a)({},r),s=Object(x.a)({},i.validatorAuthTokens||{},t),JSON.stringify(i.validatorAuthTokens)!==JSON.stringify(s)&&(i.validatorAuthTokens=s,Dn({newValues:{identity:i}})(a));case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}function Bn(e){var t=e.wallet,a=e.identity,n=e.email;return function(){var e=Object(ot.a)(m.a.mark(function e(r){var i,s,o,c,l,u,d,p,h,g,v,f,b;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(kt("creating-session",!0)(r),e.prev=1,i=Object(x.a)({},t),s=Bt({addr:i.address,mode:i.authType,identity:a.address})||null,e.t0=!!s,!e.t0){e.next=9;break}return e.next=8,bt({authSig:s,skipErrToast:!0});case 8:e.t0=e.sent;case 9:if(!e.t0){e.next=14;break}i.authSig=s,e.next=28;break;case 14:return e.next=16,Ga({wallet:i});case 16:return o=e.sent,c=o.signature,l=o.mode,u=o.authToken,d=o.hash,p=o.typedData,e.next=24,ft({identity:a.address,mode:l,signature:c,authToken:u,hash:d,typedData:p,signerAddress:i.address});case 24:h=e.sent,g=h.status,v=h.expiryTime,"OK"===g&&(Ut({addr:t.address,sig:c,mode:t.authType,expiryTime:v,identity:a.address}),i.authSig=c);case 28:return f={email:n,wallet:i,identity:Object(x.a)({},a)},e.next=31,en({validatorId:kn,account:f});case 31:b=e.sent,f.identity.validatorAuthTokens=Object(Le.a)({},kn,b),Dn({newValues:Object(x.a)({},f)})(r),e.next=40;break;case 36:e.prev=36,e.t1=e.catch(1),console.error("ERR_GETTING_SESSION",e.t1),Nt({type:"cancel",label:We("ERR_GETTING_SESSION",{args:[e.t1]}),timeout:2e4})(r);case 40:kt("creating-session",!1)(r);case 41:case"end":return e.stop()}},e,null,[[1,36]])}));return function(t){return e.apply(this,arguments)}}()}function Fn(){return function(){var e=Object(ot.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt();case 2:return a=e.sent,e.abrupt("return",t({type:he,cfg:a}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}function Wn(){return Gn.apply(this,arguments)}function Gn(){return(Gn=Object(ot.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,da(Ie.METAMASK.name);case 2:return t=e.sent,a=t.provider,e.next=6,a.getNetwork();case 6:return n=e.sent.chainId,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vn(){return Hn.apply(this,arguments)}function Hn(){return(Hn=Object(ot.a)(m.a.mark(function e(){var t,a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,da(Ie.METAMASK.name);case 2:return t=e.sent,a=t.provider,e.next=6,a.getSigner().getAddress();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var zn={1:{name:"Mainnet",for:"production"},5:{name:"Goerli",for:"development"},production:{name:"Mainnet",for:"production"},development:{name:"Goerli",for:"development"}};function Zn(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id;return function(){var t=Object(ot.a)(m.a.mark(function t(a,n){var r,i,s,o,c,l,u,d,p;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),i=r.persist,s=r.router,o=s.location,c=i.account,l=o.search,u=c.wallet.authType,t.t0=e,t.t0){t.next=10;break}return t.next=9,Wn();case 9:t.t0=t.sent;case 10:d=t.t0,p=u===Ie.METAMASK.name||!u&&"?metamask"===l,"production"!==(zn[d]||{}).for&&p?Rt(null,null,{title:We("WARNING"),text:We("WATNING_METAMASK_INVALID_NETWORK",{args:[zn.production.name]})},!0)(a):Rt(null,null,{},!0,!1)(a);case 14:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}var Yn=function(e){return function(){var t=Object(ot.a)(m.a.mark(function t(a,n){var r,i,s,o,c,l,u;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n(),i=Tn(r),s=Cn(r),o=s.identityContractOwner,c=i.wallet,l=c.authType,u=c.address,l&&e&&(l!==Ie.METAMASK.name||u===e)||pt(!o||o===e);case 6:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()};function Jn(){return function(){var e=Object(ot.a)(m.a.mark(function e(t,a){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vn();case 2:n=e.sent,Yn(n)(t,a);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}function Kn(){return function(){var e=Object(ot.a)(m.a.mark(function e(t,a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Zn()(t,a),Jn()(t,a),window.ethereum&&(window.ethereum.on("accountsChanged",function(e){console.log("acc changed",e[0]),Yn(e[0])(t,a)}),window.ethereum.on("networkChanged",function(e){console.log("networkChanged",e),Zn({id:e})(t,a)}));case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}var Xn=a(114),qn=a.n(Xn),Qn=aa.AdExCore,$n=aa.DAI,er=new jt.Interface(Qn.abi),tr=new jt.Interface($n.abi),ar="150000000000000000",nr="160000000000000000",rr=15e3,ir=.5,sr=6048e5,or=Object(jt.formatUnits)(Object(jt.bigNumberify)(ar).add(Object(jt.bigNumberify)(nr)).toString(),18);function cr(e){var t=qn.a.createHash("sha256").update(JSON.stringify(e.spec)).digest();return new Da.Channel({creator:e.creator,tokenAddr:e.depositAsset,tokenAmount:e.depositAmount,validUntil:e.validUntil,validators:e.spec.validators.map(function(e){return e.id}),spec:t})}function lr(e,t,a){var n=new fe.Campaign(e);return n.creator=t.address,n.created=Date.now(),n.validUntil=function(e,t){var a=t-e,n=t+Math.max(a*ir,sr);return Math.floor(n/1e3)}(n.activeFrom,n.withdrawPeriodStart),n.nonce=Object(jt.bigNumberify)(Object(jt.randomBytes)(32)).toString(),n.adUnits=n.adUnits.map(function(e){return new fe.AdUnit(e).spec}),n.depositAmount=Object(jt.parseUnits)(n.depositAmount,$n.decimals).toString(),n.minPerImpression=Object(jt.parseUnits)(n.minPerImpression,$n.decimals).div(Object(jt.bigNumberify)(1e3)).toString(),n.maxPerImpression=n.minPerImpression,n.depositAsset=n.depositAsset||a.address,n.eventSubmission={allow:[{uids:[n.creator,n.validators[0].id,n.validators[1].id]},{uids:null,rateLimit:{type:"ip",timeframe:rr}}]},n.status={name:"Pending",lastChecked:Date.now()},n}function ur(e){return dr.apply(this,arguments)}function dr(){return(dr=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o,c,l,u,d,p,h,g,v,f,b,E,y,O,A,w,T,I,C;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.campaign,n=t.account,r=n.wallet,i=n.identity,e.next=4,da(r.authType);case 4:return s=e.sent,o=s.provider,c=s.AdExCore,l=s.Dai,u=s.Identity,d=lr(a,i,l),p=d.openReady,h=cr(p),e.next=14,Ba({wallet:r,provider:o});case 14:return g=e.sent,v=Object(x.a)({},p,{id:h.hashHex(c.address)}),f=p.creator,b=new qt.Contract(f,u.abi,o),e.next=20,b.nonce();case 20:return E=e.sent.toNumber(),y=a.temp.feeTokenAddr||l.address,O={identityContract:f,nonce:E,feeTokenAddr:y,feeAmount:ar,to:l.address,data:tr.functions.approve.encode([c.address,v.depositAmount])},A={identityContract:f,nonce:E+1,feeTokenAddr:y,feeAmount:nr,to:c.address,data:er.functions.channelOpen.encode([h.toSolidityTuple()])},w=[O,A],e.next=27,Ja({txns:w,signer:g});case 27:return T=e.sent,I={txnsRaw:w,signatures:T,channel:v,identityAddr:i.address},e.next=31,Zt(I);case 31:return C=e.sent,d.id=v.id,e.abrupt("return",{result:C,readyCampaign:d});case 34:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pr(e){return mr.apply(this,arguments)}function mr(){return(mr=Object(ot.a)(m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=t.campaign,e.next=3,nn({account:a,campaign:n});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var hr=function(){return"video"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/")[0]},gr=function(e){var t=e.mime,a=e.src;return hr(t)?function(e){return new Promise(function(t){var a=document.createElement("video");a.src=e,a.onloadedmetadata=function(e){var a=e.target;return t({width:a.videoWidth,height:a.videoHeight})}})}(a):function(e){return new Promise(function(t){var a=new Image;a.src=e,a.onload=function(){return t({width:this.width,height:this.height})}})}(a)},vr=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;if(e<=0||t<=0||a<=0||n<=0)return!1;var i=parseFloat(e/a),s=parseFloat(t/n),o=Math.abs((i-s)/i*100);return e<=t&&a<=n&&o<=r},fr={locations:{src:fe.constants.AllCountries.map(function(e){return{label:e.name,value:e.value}}),collection:"targeting"},genders:{src:fe.constants.Genders.map(function(e){return{label:We(e.split("_")[1]),value:e}}),collection:"targeting"},tags:{src:fe.constants.PredefinedTags.map(function(e){return{label:e._id,value:e._id}}),collection:"targeting"},custom:{src:[],collection:"targeting"}},br=aa.DAI,Er=function(e){var t=e.type,a=e.toastStr,n=e.args,r=e.dispatch;return Nt({dispatch:r,type:t,action:"X",label:We(a,{args:n}),timeout:5e3})(r)},yr=function(e){var t=e.tempUrl,a=e.authSig;return fetch(t).then(function(e){return e.blob()}).then(function(e){return URL.revokeObjectURL(t),function(e){var t=e.imageBlob,a=e.imageName,n=void 0===a?"":a,r=e.authSig,i=new FormData;return i.append("media",t,n),gt.fetch({route:"media",method:"POST",body:i,authSig:r}).then(vt)}({imageBlob:e,imageName:"image.jpeg",authSig:a})})};function Or(e,t,a,n){return e=fe.Base.updateObject({item:e,newValues:t,objModel:n}),function(t){return t({type:S,item:e,itemType:a})}}function Ar(e){return function(t){return t({type:N,item:e})}}function wr(){return function(e){return e({type:_})}}function Tr(e,t,a){var n=Object(x.a)({},e);return function(){var e=Object(ot.a)(m.a.mark(function e(t){var r,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yr({tempUrl:n.temp.tempUrl,authSig:a});case 3:return r=e.sent.ipfs,n.mediaUrl="ipfs://".concat(r),n.mediaMime=n.temp.mime,n.created=Date.now(),e.next=9,Ot({unit:new fe.AdUnit(n).marketAdd,authSig:a});case 9:i=e.sent,t({type:j,item:new fe.AdUnit(i).plainObj(),itemType:"AdUnit"}),Er({dispatch:t,type:"accept",toastStr:"SUCCESS_CREATING_ITEM",args:["AdUnit",n.title]}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("ERR_CREATING_ITEM",e.t0),Er({dispatch:t,type:"cancel",toastStr:"ERR_CREATING_ITEM",args:["AdUnit",e.t0]});case 18:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}()}function Ir(e,t,a){var n=Object(x.a)({},e);return function(){var e=Object(ot.a)(m.a.mark(function e(t){var r,i,s,o,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=null,!n.temp.useFallback){e.next=11;break}return e.next=5,yr({tempUrl:n.temp.tempUrl,authSig:a});case 5:return i=e.sent.ipfs,s=new fe.AdUnit({type:n.type,mediaUrl:"ipfs://".concat(i),targetUrl:n.targetUrl,mediaMime:n.temp.mime,created:Date.now(),title:n.title,description:n.description,targeting:[],tags:[],passback:!0}),e.next=9,Ot({unit:s.marketAdd,authSig:a});case 9:o=e.sent,r=o.ipfs;case 11:return n.fallbackUnit=r,n.created=Date.now(),n.temp.minPerImpression&&(n.minPerImpression=Object(Le.a)({},br.address,Object(jt.parseUnits)(n.temp.minPerImpression,br.decimals).div(Object(jt.bigNumberify)(1e3)).toString())),e.next=16,Tt({slot:new fe.AdSlot(n).marketAdd,authSig:a});case 16:c=e.sent,t({type:j,item:new fe.AdSlot(c).plainObj(),itemType:"AdSlot"}),Er({dispatch:t,type:"accept",toastStr:"SUCCESS_CREATING_ITEM",args:["AdSlot",n.title]}),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),console.error("ERR_CREATING_ITEM",e.t0),Er({dispatch:t,type:"cancel",toastStr:"ERR_CREATING_ITEM",args:["AdSlot",e.t0]});case 25:case"end":return e.stop()}},e,null,[[0,21]])}));return function(t){return e.apply(this,arguments)}}()}function Cr(){return function(){var e=Object(ot.a)(m.a.mark(function e(t,a){var n,r,i,s,o,c,l,u,d,p,h,g;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a().persist.account,r=n.wallet.authSig,i=n.identity.address,s=yt({identity:i}),o=wt({identity:i}),c=Ct({authSig:r}),e.next=9,Promise.all([s,o,c]);case 9:l=e.sent,u=Object(st.a)(l,3),d=u[0],p=u[1],h=u[2],g=h.map(function(e){return Object(x.a)({},e,e.spec)}),Br({items:d,itemType:"AdUnit"})(t),Br({items:p,itemType:"AdSlot"})(t),Br({items:g,itemType:"Campaign"})(t),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("ERR_GETTING_ITEMS",e.t0),Er({dispatch:t,type:"cancel",toastStr:"ERR_GETTING_ITEMS",args:[e.t0]});case 24:case"end":return e.stop()}},e,null,[[0,20]])}));return function(t,a){return e.apply(this,arguments)}}()}function xr(e){var t=e.campaign,a=e.account;return function(){var e=Object(ot.a)(m.a.mark(function e(n){var r,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return kt("opening-campaign",!0)(n),e.prev=1,e.next=4,En({withBalance:[{channel:t}],account:a});case 4:return e.next=6,ur({campaign:t,account:a});case 6:r=e.sent,i=r.readyCampaign,n({type:j,item:i,itemType:"Campaign"}),Er({dispatch:n,type:"accept",toastStr:"OPENING_CAMPAIGN_SENT_TO_RELAYER",args:[i.id]}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("ERR_OPENING_CAMPAIGN",e.t0),Er({dispatch:n,type:"cancel",toastStr:"ERR_OPENING_CAMPAIGN",args:[e.t0]});case 16:return kt("opening-campaign",!1)(n),e.abrupt("return",!0);case 18:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}()}function jr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.item,e.toRemove,e.authSig;return function(e){}}function kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.item,e.toAdd,e.authSig;return function(e){}}function Sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.item,a=e.itemType;return function(){var e=Object(ot.a)(m.a.mark(function e(n,r){var i,s,o,c,l,u,d;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:kt("update"+t.id,!0)(n),e.prev=1,i=r().persist.account,s=i.wallet.authSig,o=null,c=null,l=t.id,e.t0=a,e.next="AdSlot"===e.t0?10:"AdUnit"===e.t0?17:23;break;case 10:return t.temp.minPerImpression&&(t.minPerImpression=Object(Le.a)({},br.address,Object(jt.parseUnits)(t.temp.minPerImpression,br.decimals).div(Object(jt.bigNumberify)(1e3)).toString())),u=new fe.AdSlot(t).marketUpdate,e.next=14,It({slot:u,id:l,authSig:s});case 14:return o=e.sent.slot,c=fe.AdSlot,e.abrupt("break",24);case 17:return d=new fe.AdUnit(t).marketUpdate,e.next=20,At({unit:d,id:l,authSig:s});case 20:return o=e.sent.unit,c=fe.AdUnit,e.abrupt("break",24);case 23:throw new Error(We("INVALID_ITEM_TYPE"));case 24:n({type:k,item:new c(o).plainObj(),itemType:a}),Er({dispatch:n,type:"accept",toastStr:"SUCCESS_UPDATING_ITEM",args:[a,t.title]}),e.next=32;break;case 28:e.prev=28,e.t1=e.catch(1),console.error("ERR_UPDATING_ITEM",e.t1),Er({dispatch:n,type:"cancel",toastStr:"ERR_UPDATING_ITEM",args:[a,e.t1]});case 32:kt("update"+t.id,!1)(n);case 33:case"end":return e.stop()}},e,null,[[1,28]])}));return function(t,a){return e.apply(this,arguments)}}()}function Nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.item;e.objModel,e.authSig;(t=Object(x.a)({},t))._deleted=!0}function _r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.item,a=e.authSig;return(t=Object(x.a)({},t))._deleted=!1,Sr({item:t,authSig:a,successMsg:"SUCCESS_RESTORE_ITEM",errMsg:"ERR_RESTORING_ITEM"})}var Rr=function(e){return Object.keys(fr).find(function(t){return fr[t].src.filter(function(t){return t.value===e}).length>0})};function Dr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.item,a=e.itemType,n=e.objModel;return function(){var e=Object(ot.a)(m.a.mark(function e(r){var i,s,o,c,l,u;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(i=fe.Base.updateObject({item:t,objModel:n})).id="",i.temp=Object(x.a)({},Re.newItem[a].temp,{targets:t.targeting.map(function(e,t){var a=Rr(e.tag);return{key:t,collection:"targeting",source:a,label:We("TARGET_LABEL_".concat(a.toUpperCase())),placeholder:We("TARGET_LABEL_".concat(a.toUpperCase())),target:Object(x.a)({},e)}})}),s=fe.helpers.getMediaUrlWithProvider(i.mediaUrl,"https://ipfs.moonicorn.network/ipfs/"),e.next=7,fetch(s);case 7:return o=e.sent,e.t0=URL,e.next=11,o.blob();case 11:return e.t1=e.sent,c=e.t0.createObjectURL.call(e.t0,e.t1),e.next=15,gr({mime:i.mediaMime,src:c});case 15:l=e.sent,u=Object(x.a)({},i.temp,{mime:t.mediaMime,tempUrl:c,width:l.width,height:l.height}),i.temp=u,r({type:S,item:i,itemType:a}),e.next=25;break;case 21:e.prev=21,e.t2=e.catch(0),console.error(e.t2),Er({dispatch:r,type:"cancel",toastStr:"ERR_CLONING_ITEM",args:[a,e.t2]});case 25:case"end":return e.stop()}},e,null,[[0,21]])}));return function(t){return e.apply(this,arguments)}}()}function Lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.item,a=e.authSig;return(t=Object(x.a)({},t))._archived=!0,Sr({item:t,authSig:a,successMsg:"SUCCESS_ARCHIVING_ITEM",errMsg:"ERR_ARCHIVING_ITEM"})}function Pr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.item,a=e.authSig;return(t=Object(x.a)({},t))._archived=!1,Sr({item:t,authSig:a,successMsg:"SUCCESS_UNARCHIVING_ITEM",errMsg:"ERR_UNARCHIVING_ITEM"})}function Mr(e){return function(t){return t({type:U,item:e})}}function Ur(e,t){return function(a){return a({type:B,item:e,meta:t})}}function Br(e){var t=e.items,a=e.itemType;return function(e){return e({type:P,items:t,itemType:a})}}var Fr=function(){return function(e){return e({type:M})}},Wr=function(e){var t=e.tags;return function(e){return e({type:oe,tags:t})}},Gr=function(e){var t=e.tag;return function(e){return e({type:ce,tag:t})}},Vr=function(e){var t=e.campaign;return function(){var e=Object(ot.a)(m.a.mark(function e(a){var n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an({campaign:t});case 3:return n=e.sent,(r=Object(x.a)({},t)).state=n,e.abrupt("return",a({type:k,item:r,itemType:"Campaign"}));case 9:e.prev=9,e.t0=e.catch(0),console.error("ERR_GETTING_CAMPAIGN_LAST_STATUS",e.t0),Er({dispatch:a,type:"cancel",toastStr:"ERR_GETTING_CAMPAIGN_LAST_STATUS",args:[e.t0]});case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()};function Hr(e){var t=e.campaign;return function(){var e=Object(ot.a)(m.a.mark(function e(a,n){var r,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return kt("closing-campaign",!0)(a),e.prev=1,r=n().persist.account,e.next=5,pr({account:r,campaign:t});case 5:i=e.sent,i.results,Un({newAuth:i.authTokens})(a),Er({dispatch:a,type:"accept",toastStr:"SUCCESS_CLOSING_CAMPAIGN",args:[t.id]}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("ERR_CLOSING_CAMPAIGN",e.t0),Er({dispatch:a,type:"cancel",toastStr:"ERR_CLOSING_CAMPAIGN",args:[e.t0]});case 16:kt("closing-campaign",!1)(a);case 17:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t,a){return e.apply(this,arguments)}}()}var zr=a(306),Zr=a(154),Yr=new Zr.a,Jr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm";return e?Yr.date(e).format(t):"no date"},Kr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,a=arguments.length>2?arguments[2]:void 0,n=Object(jt.formatUnits)(e,t);return a?Object(jt.commify)(n):n},Xr=a(457),qr=a(458),Qr=a.n(qr),$r=aa.DAI,ei=Object({NODE_ENV:"production",PUBLIC_URL:"",IPFS_GATEWAY:"https://ipfs.moonicorn.network/ipfs/",WEB3_NODE_ADDR:"https://mainnet.infura.io/v3/3d22938fd7dd41b7af4197752f83e8a1",ADEX_CORE_ADDR:"0x333420fC6A897356E69b62417cd17fF012177d2b",ADX_TOKEN_ADDR:"0x4470BB87d77b963A013DB939BE332f927f2b992e",ETH_SCAN_ADDR_HOST:"https://etherscan.io/address/",ETH_SCAN_TX_HOST:"https://etherscan.io/address/",ADEX_SITE_HOST:"https://www.adex.network/",ADEX_RELAYER_HOST:"https://relayer.adex.network",ADEX_RELAYER_ADDR:"0x942f9ce5d9a33a82f88d233aeb3292e680230348",ADEX_MARKET_HOST:"https://market.adex.network",IDENTITY_BASE_ADDR:"0xbDf97b0F5fa78beaE684d9fb67Dd45F11B996e46",IDENTITY_FACTORY_ADDR:"0x801DbBB2fcbf9F4C3865c6BA5c5012eE19Ec283a",VALIDATOR_REGISTRY:"0x7671dB0a70fA0196071d634F26971b9371627Dc0",VALIDATOR_LEADER_URL:"https://tom.moonicorn.network",VALIDATOR_LEADER_ID:"0x2892f6C41E0718eeeDd49D98D648C789668cA67d",VALIDATOR_FOLLOWER_URL:"https://jerry.moonicorn.network",VALIDATOR_FOLLOWER_ID:"0xce07CbB7e054514D590a0262C93070D838bFBA2e",DAI_TOKEN_ADDR:"0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359",ACCESS_CODE_CHECK:"true",ADVIEW_URL:"https://viewm.moonicorn.network/#"}),ti=ei.IDENTITY_BASE_ADDR,ai=ei.IDENTITY_FACTORY_ADDR,ni=15e4,ri="150000000000000000",ii="150000000000000000",si=new jt.Interface($r.abi);function oi(e){return ci.apply(this,arguments)}function ci(){return(ci=Object(ot.a)(m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.owner,t.privLevel,n=[[a,3]],r=Object(Xr.getProxyDeployBytecode)(ti,n,{privSlot:0},Qr.a),e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function li(e){return ui.apply(this,arguments)}function ui(){return(ui=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.owner,n=t.privLevel,e.next=3,oi({owner:a,privLevel:n});case 3:return r=e.sent,i=Object(jt.keccak256)(a),s=Object(jt.getAddress)("0x".concat(Object(zr.generateAddress2)(ai,i,r).toString("hex"))),e.abrupt("return",{IDENTITY_FACTORY_ADDR:ai,IDENTITY_BASE_ADDR:ti,bytecode:r,salt:i,expectedAddr:s});case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function di(e){return pi.apply(this,arguments)}function pi(){return(pi=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o,c,l,u,d;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.wallet,n=t.bytecode,r=t.salt,t.expectedAddr,e.next=3,da(a.authType);case 3:return i=e.sent,s=i.provider,o=i.IdentityFactory,e.next=8,Ba({wallet:a,provider:s});case 8:return c=e.sent,e.next=11,La({tx:o.deploy(n,r),provider:s,sender:a.address,gasLimit:Object(jt.hexlify)(ni)});case 11:return(l=e.sent).gasLimit=Object(jt.hexlify)(ni),u=o.connect(c),Ma({tx:d=u.deploy(n,r,l),txSuccessData:{},from:a.address,account:{}}),e.abrupt("return",d);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mi(e){return hi.apply(this,arguments)}function hi(){return(hi=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o,c,l,u,d,p,h,g,v,f,b,E,y,O,A,w,T,I;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.account,n=t.amountToWithdraw,r=t.withdrawTo,i=t.getFeesOnly,s=Object(jt.parseUnits)(n,18),o=Object(jt.bigNumberify)(ri).mul(Object(jt.bigNumberify)("2")),c=s.sub(o).toString(),!i){e.next=6;break}return e.abrupt("return",{fees:Kr(o.toString(),18),toGet:Kr(c,18)});case 6:return l=a.wallet,u=a.identity,e.next=9,da(l.authType);case 9:return d=e.sent,p=d.provider,h=d.Dai,g=d.Identity,e.next=15,Ba({wallet:l,provider:p});case 15:return v=e.sent,f=u.address,b=new qt.Contract(f,g.abi,p),e.next=20,b.nonce();case 20:return E=e.sent.toNumber(),y={identityContract:f,nonce:E,feeTokenAddr:h.address,feeAmount:ri,to:h.address,data:si.functions.approve.encode([f,c])},O={identityContract:f,nonce:E+1,feeTokenAddr:h.address,feeAmount:ri,to:h.address,data:si.functions.transfer.encode([r,c])},A=[y,O],e.next=26,Ja({txns:A,signer:v});case 26:return w=e.sent,T={txnsRaw:A,signatures:w,identityAddr:u.address},e.next=30,Kt(T);case 30:return I=e.sent,e.abrupt("return",{result:I});case 32:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gi(e){return vi.apply(this,arguments)}function vi(){return(vi=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o,c,l,u,d,p,h,g,v,f,b,E,y,O,A,w;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.account,n=t.setAddr,r=t.privLevel,i=t.getFeesOnly,s=Object(jt.bigNumberify)(ii),!i){e.next=4;break}return e.abrupt("return",{fees:Kr(s.toString(),18)});case 4:return o=a.wallet,c=a.identity,e.next=7,da(o.authType);case 7:return l=e.sent,u=l.provider,d=l.Dai,p=l.Identity,e.next=13,Ba({wallet:o,provider:u});case 13:return h=e.sent,g=c.address,v=new qt.Contract(g,p.abi,u),f=new jt.Interface(p.abi),e.next=19,v.nonce();case 19:return b=e.sent.toNumber(),E={identityContract:g,nonce:b,feeTokenAddr:d.address,feeAmount:ii,to:g,data:f.functions.setAddrPrivilege.encode([n,r])},y=[E],e.next=24,Ja({txns:y,signer:h});case 24:return O=e.sent,A={txnsRaw:y,signatures:O,identityAddr:c.address,setAddr:n,privLevel:r},e.next=28,Xt(A);case 28:return w=e.sent,e.abrupt("return",{result:w});case 30:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fi(e,t){return function(a){return a({type:le,prop:e,value:t})}}function bi(){return function(e){return e({type:ue})}}function Ei(e,t){return function(a){return a({type:pe,prop:e,value:t})}}function yi(){return function(e){return e({type:me})}}function Oi(e){var t=e.walletAddr,a=e.email,n=e.password,r=e.coupon;return function(){var e=Object(ot.a)(m.a.mark(function e(i){var s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return kt("getting-grant-identity",!0)(i),e.prev=1,e.next=4,Gt({ownerAddr:t,mail:a,couponCode:r});case 4:(s=e.sent)&&(Ia({email:a,password:n,dataKey:"identity",dataValue:s.address}),Ia({email:a,password:n,dataKey:"privileges",dataValue:s.privileges}),fi("identityAddr",s.address)(i),fi("identityData",s)(i)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("ERR_REGISTER_GRANT_IDENTITY",e.t0),Nt({type:"cancel",label:We("ERR_REGISTER_GRANT_IDENTITY",{args:[e.t0]}),timeout:2e4})(i);case 12:kt("getting-grant-identity",!1)(i);case 13:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}function Ai(e){var t=e.wallet,a=e.email,n=e.identityTxData,r=e.identityAddr;return function(){var e=Object(ot.a)(m.a.mark(function e(i){var s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return kt("getting-full-identity",!0)(i),e.prev=1,e.next=4,di(Object(x.a)({},n,{wallet:t}));case 4:return s=e.sent,e.next=7,zt({txHash:s.hash,identity:r,privileges:[t.address,3],mail:a});case 7:e.sent?fi("isRegistered",!0)(i):Nt({type:"cancel",label:We("ERR_REGISTER_IDENTITY",{args:[s.hash]}),timeout:2e4})(i),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("ERR_REGISTER_IDENTITY",e.t0),Nt({type:"cancel",label:We("ERR_REGISTER_IDENTITY",{args:[e.t0]}),timeout:2e4})(i);case 15:kt("getting-full-identity",!1)(i);case 16:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}()}function wi(e){var t=e.owner,a=e.privLevel;return function(){var e=Object(ot.a)(m.a.mark(function e(n){var r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,li({owner:t,privLevel:a});case 3:fi("identityAddr",(r=e.sent).expectedAddr)(n),fi("identityTxData",r)(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("ERR_GET_IDENTITY_TX_DATA",e.t0),Nt({type:"cancel",label:We("ERR_GET_IDENTITY_TX_DATA",{args:[e.t0]}),timeout:2e4})(n);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}function Ti(e){var t=e.owner,a=e.mail;return function(){var e=Object(ot.a)(m.a.mark(function e(n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return kt("getting-expected-identity",!0)(n),e.prev=1,e.next=4,Yt({owner:t,mail:a});case 4:fi("identityData",e.sent)(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("ERR_REGISTERING_EXPECTED_IDENTITY",e.t0),Nt({type:"cancel",label:We("ERR_REGISTERING_EXPECTED_IDENTITY",{args:[e.t0]}),timeout:2e4})(n);case 12:kt("getting-expected-identity",!1)(n);case 13:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}function Ii(e){return function(){var t=Object(ot.a)(m.a.mark(function t(a){var n,r,i;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:kt("uploading-account-data",!0)(a),n=e.target.files[0],(r=new FileReader).onload=function(e){try{var t=JSON.parse(e.target.result);if(!(t&&t.key&&t.wallet&&t.wallet.data&&t.wallet.identity&&t.wallet.privileges))throw new Error(We("INVALID_JSON_DATA"));Oa(t.wallet,t.key),Nt({type:"accept",label:We("SUCCESS_UPLOADING_ACCOUNT_DATA"),timeout:5e3})(a)}catch(n){console.error("Error uploading account json data: ",n),Nt({type:"cancel",label:We("ERR_UPLOADING_ACCOUNT_DATA",{args:[n.message]}),timeout:5e3})(a)}kt("uploading-account-data",!0)(a)},i=function(e){console.error("Error uploading account data.",e),Nt({type:"cancel",label:We("ERR_UPLOADING_ACCOUNT_DATA",{args:[e]}),timeout:5e3})(a),kt("uploading-account-data",!0)(a)},r.onerror=function(e){r.abort(),i(We())},r.onabort=function(e){i(We("ABORTING_DATA_UPLOAD"))},r.readAsText(n);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}function Ci(e){var t=e.amountToWithdraw,a=e.withdrawTo;return function(){var e=Object(ot.a)(m.a.mark(function e(n,r){var i,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=r().persist.account,e.next=4,mi({account:i,amountToWithdraw:t,withdrawTo:a});case 4:s=e.sent,Nt({type:"accept",label:We("IDENTITY_WITHDRAW_NOTIFICATION",{args:[s]}),timeout:2e4})(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("ERR_IDENTITY_WITHDRAW_NOTIFICATION",e.t0),Nt({type:"cancel",label:We("ERR_IDENTITY_WITHDRAW_NOTIFICATION",{args:[e.t0]}),timeout:2e4})(n);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}()}function xi(e){var t=e.owner;return function(){var e=Object(ot.a)(m.a.mark(function e(a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return kt("getting-owner-identities",!0)(a),e.prev=1,e.next=4,Ht({owner:t});case 4:fi("ownerIdentities",e.sent)(a),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("ERR_GETTING_OWNER_IDENTITIES",e.t0),Nt({type:"cancel",label:We("ERR_GETTING_OWNER_IDENTITIES",{args:[e.t0]}),timeout:2e4})(a);case 12:kt("getting-owner-identities",!1)(a);case 13:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}function ji(e){var t=e.setAddr,a=e.privLevel;return function(){var e=Object(ot.a)(m.a.mark(function e(n,r){var i,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=r().persist.account,e.next=4,gi({account:i,setAddr:t,privLevel:a});case 4:s=e.sent,Nt({type:"accept",label:We("IDENTITY_SET_ADDR_PRIV_NOTIFICATION",{args:[s]}),timeout:2e4})(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION",e.t0),Nt({type:"cancel",label:We("ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION",{args:[e.t0]}),timeout:2e4})(n);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}()}function ki(e){var t=e.bidId,a=e.key,n=e.value;return function(e){return e({type:K,bidId:t,key:a,value:n})}}function Si(e){var t=e.bidId;return function(e){return e({type:X,bidId:t})}}var Ni=function(e){var t=e.advBids,a=e.pubBids,n=e.bidsById;return function(e){return e({type:"UPDATE_ALL_BIDS",advBids:t,pubBids:a,bidsById:n})}},_i=function(){return function(e){return e({type:"RESET_ALL_BIDS"})}},Ri=a(459),Di=function(){var e=Object(ot.a)(m.a.mark(function e(){var t,a,n,r,i,s=arguments;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:"",a=s.length>1?s[1]:void 0,e.prev=2,!zi(t)){e.next=12;break}return e.next=6,da(a);case 6:return n=e.sent,r=n.provider,i=new qt.ethers.Contract(t,Ri,r),e.next=11,Promise.all([i.totalSupply(),i.balanceOf(qt.constants.AddressZero),i.allowance(qt.constants.AddressZero,qt.constants.AddressZero)]);case 11:return e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",!1);case 18:case"end":return e.stop()}},e,null,[[2,15]])}));return function(){return e.apply(this,arguments)}}(),Li=function(){var e=Object(ot.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.race([da(t),new Promise(function(e,t){setTimeout(function(){t("Timed out")},5e3)})]);case 3:return a=e.sent,e.next=6,a.provider.getBlockNumber();case 6:return e.abrupt("return",!1);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),Pi=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:\/?#[\]@!\$&'\(\)\*\+,;=.]+$/,Mi=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,Ui=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/,Bi=/^[a-fA-F0-9]{8}$/,Fi=function(e){return e=e||"",Pi.test(e)},Wi=function(e){return e=e||"",Mi.test(e)},Gi=function(e){return e=e||"",!isNaN(parseFloat(e))&&isFinite(e)&&e>0},Vi=function(e){var t="",a=[];return e?e.length<4?(t="ERR_MIN_LENGTH",a.push(4)):e.length>128&&(t="ERR_MAX_LENGTH",a.push(128)):t="ERR_REQUIRED_FIELD",{msg:t,errMsgArgs:a}},Hi=function(e){return e=e||"",Bi.test(e)},zi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{qt.utils.getAddress(e)}catch(t){return!1}return!0},Zi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!zi(e)&&qt.utils.bigNumberify(qt.utils.getAddress(e)).isZero()},Yi=function(){var e=Object(ot.a)(m.a.mark(function e(t){var a,n,r,i,s,o,c,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.addr,n=void 0===a?"":a,r=t.nonZeroAddr,i=t.nonERC20,s=t.authType,o="",e.prev=2,c=Zi(n),!!zi(n)){e.next=9;break}o="ERR_INVALID_ETH_ADDRESS",e.next=24;break;case 9:if(!r||!c){e.next=13;break}o="ERR_INVALID_ETH_ADDRESS_ZERO",e.next=24;break;case 13:return e.next=15,Li(s);case 15:if(!e.sent){e.next=20;break}o="ERR_INVALID_CONNECTION_LOST",e.next=24;break;case 20:return e.next=22,Di(n);case 22:l=e.sent,!c&&i&&l&&(o="ERR_INVALID_ETH_ADDRESS_TOKEN");case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(2),"Non-Ethereum browser detected."===e.t0&&(o="ERR_INVALID_CONNECTION_LOST");case 29:return e.abrupt("return",{msg:o});case 30:case"end":return e.stop()}},e,null,[[2,26]])}));return function(t){return e.apply(this,arguments)}}();function Ji(e){var t=e.addr,a=e.dirty,n=e.validate,r=e.name;return function(){var e=Object(ot.a)(m.a.mark(function e(i,s){var o,c,l,u;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=s().persist.account.wallet.authType,e.prev=1,n&&n(r,{isValid:!1}),kt(r,a)(i),e.next=6,Yi({addr:t,nonZeroAddr:!0,nonERC20:!0,authType:o});case 6:c=e.sent,l=c.msg,u=!l,kt(r,!1)(i),n&&n(r,{isValid:u,err:{msg:l},dirty:a}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.error("ERR_VALIDATING_ETH_ADDRESS",e.t0),Nt({type:"cancel",label:We("ERR_VALIDATING_ETH_ADDRESS",{args:[e.t0]}),timeout:2e4})(i);case 17:case"end":return e.stop()}},e,null,[[1,13]])}));return function(t,a){return e.apply(this,arguments)}}()}var Ki="0x2892f6C41E0718eeeDd49D98D648C789668cA67d",Xi=function(){var e=[];return Se.forEach(function(t){return Ne.forEach(function(a){return ke.forEach(function(n){return _e.forEach(function(r){e.push({metric:n,timeframe:r.value,side:t,eventType:a})})})})}),e};function qi(e,t){var a=e().persist.account;return!a.wallet.address||a.wallet.address!==t.wallet.address||!a.identity.address||!a.identity.address!==!t.identity.address}function Qi(){return function(){var e=Object(ot.a)(m.a.mark(function e(t,a){var n,r,i,s,o,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().persist.account,e.prev=1,r=Nt({type:"warning",label:We("SIGN_VALIDATORS_AUTH"),timeout:!1,unclosable:!0,top:!0})(t),e.next=5,en({validatorId:Ki,account:n});case 5:return i=e.sent,_t(r)(t),Un({newAuth:Object(Le.a)({},Ki,i)})(t,a),s=Xi(),o=!1,c=s.map(function(){var e=Object(ot.a)(m.a.mark(function e(r){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:rn(Object(x.a)({},r,{leaderAuth:i})).then(function(e){(o=o||qi(a,n))||t(Object(x.a)({type:ge},r,{value:Object(x.a)({},e)}))}).catch(function(e){console.error("ERR_ANALYTICS_SINGLE",e)});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=13,Promise.all(c);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("ERR_ANALYTICS",e.t0),Nt({type:"cancel",label:We("ERR_ANALYTICS",{args:[e.t0]}),timeout:2e4})(t);case 19:case"end":return e.stop()}},e,null,[[1,15]])}));return function(t,a){return e.apply(this,arguments)}}()}function $i(){return function(){var e=Object(ot.a)(m.a.mark(function e(t,a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:ve}));case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}var es=Object(x.a)({},n,o,r,s,c,l,i,u,d),ts=a(1110),as=a(314),ns=a.n(as),rs=a(188),is=a.n(rs),ss=a(236),os=a.n(ss),cs=a(237),ls=a.n(cs),us=a(460),ds=a.n(us),ps=a(513),ms=a(1054),hs=a(24),gs=a.n(hs),vs=a(6),fs={accept:ns.a,success:ns.a,warning:os.a,cancel:is.a,error:is.a,info:ls.a},bs=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).close=function(e){a.setState({active:!1}),a.props.actions.removeToast(e)},a.state={active:!1,toast:{}},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state.toast,a=e.toasts[0];a?!!a&&t.id!==a.id&&this.setState({active:!0,toast:a}):this.setState({active:!1,toast:{}})}},{key:"render",value:function(){var e,t=this,a=this.state.toast,n=this.props.classes,r=fs[a.type];if(!a||!r)return null;var i=a.anchorOrigin||{vertical:"bottom",horizontal:"center"};return a.top&&(i.horizontal="center",i.vertical="top"),g.a.createElement(ts.a,{open:this.state.active,autoHideDuration:a.timeout||0,onClose:function(){return!a.unclosable&&t.close(a.id)},anchorOrigin:i},g.a.createElement(ms.a,{"aria-describedby":"client-snackbar",message:g.a.createElement("span",{id:"client-snackbar",className:n.message},g.a.createElement(r,{className:gs()(n.icon,n.iconVariant)}),(a.label||"").toString()),action:[!a.unclosable&&g.a.createElement(ps.a,{key:"close","aria-label":"Close",color:"inherit",className:n.close,onClick:function(){return!a.unclosable&&t.close(a.id)}},g.a.createElement(ds.a,{className:n.icon}))],className:gs()(n.snackbar,(e={},Object(Le.a)(e,n.top,!!a.top),Object(Le.a)(e,n.accept,"accept"===a.type),Object(Le.a)(e,n.cancel,"cancel"===a.type),Object(Le.a)(e,n.warning,"warning"===a.type),e))}))}}]),t}(h.Component);var Es=Object(T.c)(function(e){return{toasts:e.memory.toasts||[]}},function(e){return{actions:Object(I.b)(es,e)}})(Object(vs.a)(function(e){var t=e.spacing(1);return{snackbar:{border:"3px solid",borderRadius:0,backgroundColor:"#222","&.active":{transform:"translateY(-20%)"},margin:t},warning:{borderColor:"#FFAB00",color:"#FFAB00"},cancel:{borderColor:"#FF5722",color:"#FF5722"},accept:{borderColor:"#00E676",color:"#00E676"},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:t},message:{display:"flex",alignItems:"center",wordBreak:"break-all"},top:{width:"98vw",maxWidth:"98vw"}}})(bs)),ys=a(41),Os=a(1055),As=a(1061),ws=a(1060),Ts=a(1058),Is=a(1059),Cs=a(1057);function xs(e){var t=function(t){function a(){return Object(b.a)(this,a),Object(y.a)(this,Object(O.a)(a).apply(this,arguments))}return Object(A.a)(a,t),Object(E.a)(a,[{key:"t",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.isProp,n=void 0!==a&&a,r=t.args;return We(e,{isProp:n,args:void 0===r?[""]:r},this.props.language)}},{key:"render",value:function(){return g.a.createElement(e,Object.assign({},this.props,{t:this.t.bind(this)}))}}]),a}(h.Component);return Object(T.c)(function(e){return{language:e.persist.language}},null)(t)}var js=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).cancel=a.cancel.bind(Object(ys.a)(a)),a.confirm=a.confirm.bind(Object(ys.a)(a)),a.state={active:!1},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({active:e.visible})}},{key:"confirm",value:function(){"function"===typeof this.props.confirm&&this.props.confirm(),this.setState({active:!1})}},{key:"cancel",value:function(){"function"===typeof this.props.cancel&&this.props.cancel(),this.setState({active:!1})}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.text,n=e.children,r=e.cancelLabel,i=e.confirmLabel,s=e.t,o=e.noActionBtns;return g.a.createElement(Os.a,{open:this.state.active},g.a.createElement(Cs.a,{id:"alert-dialog-title"},t),g.a.createElement(Ts.a,null,g.a.createElement(Is.a,{id:"alert-dialog-description"},a),n),!o&&g.a.createElement(ws.a,null,g.a.createElement(As.a,{onClick:this.cancel,color:"primary"},r||s("CANCEL")),g.a.createElement(As.a,{onClick:this.confirm,color:"primary",autoFocus:!0},i||s("OK"))))}}]),t}(h.Component);var ks=Object(T.c)(function(e){return{cancelLabel:(e=e.memory).confirm.data.cancelLabel,confirmLabel:e.confirm.data.confirmLabel,title:e.confirm.data.title||"",text:e.confirm.data.text||"",confirm:e.confirm.onConfirm,cancel:e.confirm.onCancel,visible:e.confirm.active||!1,calledOn:e.confirm.calledOn,noActionBtns:e.confirm.noActionBtns}},function(e){return{actions:Object(I.b)(es,e)}})(xs(js)),Ss=a(461),Ns=a(19),_s=a(462),Rs=a(1111),Ds=a(1100),Ls=a(1066),Ps=a(1017),Ms=a(1068),Us=a(1063),Bs=a(1067),Fs=a(1069),Ws=a(1062),Gs=function(e){var t=function(t){function a(){var e,t;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(y.a)(this,(e=Object(O.a)(a)).call.apply(e,[this].concat(r)))).resolveToLocation=function(e){return"object"===typeof e?e.pathname:e},t.handleClick=function(e){e.preventDefault();var a=t.props,n=a.to,r=a.onClick;r&&"function"===typeof r&&r(),t.props.history.push(n)},t}return Object(A.a)(a,t),Object(E.a)(a,[{key:"render",value:function(){var t=this.props,a=t.to,n=(t.match,t.location,t.history,t.staticContext,t.onClick,Object(Ns.a)(t,["to","match","location","history","staticContext","onClick"])),r=this.resolveToLocation(a);return g.a.createElement(e,Object.assign({},n,{href:r,onClick:this.handleClick}))}}]),a}(g.a.Component);return Object(Ws.a)(t)},Vs=a(232),Hs=a(463),zs=a.n(Hs),Zs=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=function(t){return g.a.createElement(Vs.a,Object.assign({viewBox:a},t),e)};return n.displayName=t,(n=zs()(n)).muiName="SvgIcon",n},Ys=Zs(g.a.createElement("g",null,g.a.createElement("path",{d:"M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z"}),g.a.createElement("path",{d:"M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z"})),"Campaign","0 0 26.12 17.37"),Js=a(245),Ks=function(e){var t=e.href,a=e.target,n=e.children,r=e.label,i=Object(Ns.a)(e,["href","target","children","label"]),s=a&&"_blank"===a?function(e){return(e=(e||"").replace(/^(https?:)?\/\//i,""))&&(e="//"+e),e}(t):t;return g.a.createElement("a",Object.assign({draggable:"false",rel:"noopener noreferrer"},i,{target:a,href:s,style:{wordBreak:"break-all"}}),n||r)},Xs=function(e){var t,a;return{root:{flexGrow:1,zIndex:1,overflow:"hidden",position:"relative",display:"flex",minHeight:"100vh",width:"100%"},appBar:(t={top:0,left:0,right:0,width:"auto",position:"fixed"},Object(Le.a)(t,e.breakpoints.up("md"),{left:250}),Object(Le.a)(t,"backgroundColor","#eee"),Object(Le.a)(t,"color","#000"),t),flex:{flex:1,flexDirection:"row",display:"flex",alignItems:"center"},flexRow:{display:"flex",alignItems:"center",flexBasis:"100%",paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5),"&:last-child":{paddingRight:100,paddingTop:e.spacing(1.5),paddingBottom:e.spacing(1.5),paddingLeft:e.spacing(1.5)}},toolbarControls:{justifyContent:"flex-end"},toolbarTitle:{justifyContent:"flex-start"},navIconHide:Object(Le.a)({marginRight:10},e.breakpoints.up("md"),{display:"none"}),toolbar:Object(x.a)({flexFlow:"wrap",height:114},e.mixins.toolbar),drawerPaper:(a={width:250},Object(Le.a)(a,e.breakpoints.up("md"),{position:"fixed"}),Object(Le.a)(a,"backgroundColor","#fff"),a),content:Object(Le.a)({flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3),paddingTop:e.spacing(5),overflow:"auto"},e.breakpoints.up("md"),{marginLeft:250}),contentInner:{maxWidth:1600,margin:"auto"},icon:{height:36,width:"auto"},navigation:{backgroundColor:e.palette.background.paper},version:{position:"absolute",bottom:0,left:0,right:0,padding:10,paddingLeft:16,borderTopWidth:1,borderTopColor:e.palette.divider,borderTopStyle:"solid"},navList:{position:"absolute",top:0,left:0,right:0,bottom:80,overflowY:"auto",overflowX:"hidden"},navListRoot:{color:e.palette.text.secondary,display:"flex",flexDirection:"column",justifyContent:"space-between"},sideNavToolbar:{},sntPadding:{paddingTop:0},active:{color:e.palette.common.white,backgroundColor:e.palette.primary.light,"&:focus":{backgroundColor:e.palette.primary.light}},newItemBtn:{width:"200px"},adxLink:{color:e.palette.text.hint,"&:hover":{color:e.palette.text.secondary}},bar:{opacity:.5},actionCount:{marginTop:e.spacing(1)}}},qs=a(1065),Qs=a(1064),$s=Gs(function(e){return g.a.createElement(Ps.a,null,g.a.createElement(Us.a,{primary:e.label}),g.a.createElement(Qs.a,null,g.a.createElement(Ks,e,g.a.createElement(qs.a,e))))}),eo=Object(vs.a)(Xs)(function(e){var t=e.side,a=e.t,n=e.classes;return g.a.createElement("div",null,"advertiser"!==t&&g.a.createElement($s,{color:"default",checked:!0,value:"account",to:{pathname:"/dashboard/advertiser"},label:a("PUBLISHER"),classes:{bar:n.bar}}),"publisher"!==t&&g.a.createElement($s,{color:"default",checked:!1,to:{pathname:"/dashboard/publisher"},label:a("ADVERTISER"),classes:{bar:n.bar}}))}),to=Zs(g.a.createElement("g",null,g.a.createElement("path",{fill:"rgb(60, 60, 59)",d:"M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z"}),g.a.createElement("path",{fill:"rgb(27, 117, 188)",d:"M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z"}),g.a.createElement("path",{fill:"rgb(60, 60, 59)",d:"M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z"})),"AdexIcon","0 0 185 72"),ao=a(464),no=a.n(ao),ro=a(466),io=a.n(ro),so=a(465),oo=a.n(so),co=a(467),lo=a.n(co),uo=Gs(Ps.a),po=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(E.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props.language!==e.language,n=this.props.side!==e.side,r=this.props.location.pathname!==e.location.pathname,i=(this.props.transactions.pendingTxs||[]).length!==(e.transactions.pendingTxs||[]).length,s=this.bidsAwaitingActionCount!==e.bidsAwaitingActionCount;return a||n||r||i||s}},{key:"render",value:function(){var e=this.props,t=e.side,a=e.identity,n=e.t,r=e.classes;if("advertiser"!==t&&"publisher"!==t)return null;var i=this.props.location.pathname.split("/")[3],s="advertiser"===t,o=s?"units":"slots";return g.a.createElement("div",{className:r.navigation},g.a.createElement(Ls.a,{classes:{padding:r.sntPadding,root:r.navListRoot},className:r.navList,component:"nav"},g.a.createElement("div",null,g.a.createElement("div",{className:gs()(r.toolbar,r.sideNavToolbar)},g.a.createElement(Ps.a,null,g.a.createElement(to,{className:r.icon})),g.a.createElement(eo,{side:t,t:n})),g.a.createElement(Bs.a,null),g.a.createElement(uo,{button:!0,to:{pathname:"/dashboard/"+t},className:gs()(Object(Le.a)({},r.active,!i))},g.a.createElement(Ms.a,null,g.a.createElement(no.a,null)),g.a.createElement(Us.a,{primary:n("DASHBOARD")})),g.a.createElement(Bs.a,null),"advertiser"===t&&g.a.createElement(g.a.Fragment,null,g.a.createElement(uo,{button:!0,to:{pathname:"/dashboard/advertiser/campaigns"},className:gs()(Object(Le.a)({},r.active,"campaigns"===i))},g.a.createElement(Ms.a,null,g.a.createElement(Ys,null)),g.a.createElement(Us.a,{primary:n("CAMPAIGNS")})),g.a.createElement(Bs.a,null)),g.a.createElement(uo,{button:!0,to:{pathname:"/dashboard/"+t+"/"+o},className:gs()(Object(Le.a)({},r.active,i===o))},g.a.createElement(Ms.a,null,g.a.createElement(Fs.a,null,"format_list_bulleted")),g.a.createElement(Us.a,{primary:n(o.toUpperCase())})),g.a.createElement(Bs.a,null)),g.a.createElement("div",null,g.a.createElement(Ks,{target:"_blank",href:"https://medium.com/adex-network-tips-and-tricks"},g.a.createElement(Ps.a,{button:!0},g.a.createElement(Ms.a,null,g.a.createElement(oo.a,null)),g.a.createElement(Us.a,{primary:n("HELP")}))),g.a.createElement(Ks,{target:"_blank",href:"".concat("https://etherscan.io/address/"+a)},g.a.createElement(Ps.a,{button:!0},g.a.createElement(Ms.a,null,g.a.createElement(io.a,null)),g.a.createElement(Us.a,{primary:n("TRANSACTIONS")}))),g.a.createElement(uo,{button:!0,to:{pathname:"/dashboard/"+t+"/account"},className:gs()(Object(Le.a)({},r.active,"account"===i))},g.a.createElement(Ms.a,null,g.a.createElement(lo.a,null)),g.a.createElement(Us.a,{primary:n("ACCOUNT")})))),g.a.createElement("div",{className:r.version},g.a.createElement("div",{className:r.adxLink},g.a.createElement("small",null," ","\xa9 ",(new Date).getFullYear()," \xa0",g.a.createElement(Ks,{className:r.adxLink,target:"_blank",href:"https://www.adex.network/"},"AdEx Network O\xdc"))),g.a.createElement("div",null,g.a.createElement("small",null,g.a.createElement(Ks,{className:r.adxLink,target:"_blank",href:"https://etherscan.io/address/0x4470BB87d77b963A013DB939BE332f927f2b992e"},"AdEx (ADX) Token")),g.a.createElement("small",null," / "),g.a.createElement("small",null,g.a.createElement(Ks,{className:r.adxLink,target:"_blank",href:"https://etherscan.io/address/0x333420fC6A897356E69b62417cd17fF012177d2b"},"AdExCore"))),g.a.createElement("div",null,g.a.createElement("small",null,g.a.createElement(Ks,{className:r.adxLink,target:"_blank",href:"https://github.com/AdExBlockchain/adex-dapp/blob/master/CHANGELOG.md"},"v.",Js.version,"-beta")))))}}]),t}(h.Component);var mo=Object(T.c)(function(e){var t=e.persist;return{transactions:t.web3Transactions[t.account._addr]||{},identity:t.account.identity.address}},function(e){return{actions:Object(I.b)(es,e)}})(xs(Object(vs.a)(Xs)(po))),ho=a(511),go=function(e){var t=e.src;return g.a.createElement("img",{src:t,height:36,width:"auto",alt:"logo",style:{marginRight:5}})},vo=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={active:!1,anchorEl:null},a.handleButtonClick=function(){return a.setState({active:!a.state.active,anchorEl:null})},a.handleMenuHide=function(){return a.setState({active:!1})},a.handleMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.btnStyle,a=e.label,n=e.iconStyle,r=e.icon,i=this.state.anchorEl,s=Boolean(i),o=this.props.leftIconSrc?g.a.createElement(go,{src:this.props.leftIconSrc}):null;return g.a.createElement("div",null,g.a.createElement(As.a,{style:t,onClick:this.handleMenu,"aria-owns":"menu-appbar","aria-haspopup":"true"},o,g.a.createElement("span",{style:{maxWidth:150,overflow:"hidden",textOverflow:"ellipsis"}},a),g.a.createElement(Fs.a,{style:n},r)),g.a.createElement(ho.a,{id:"menu-appbar",open:s,anchorEl:i,onClick:this.handleButtonClick,onClose:this.handleClose},this.props.children))}}]),t}(h.Component),fo=Object(vs.a)()(vo),bo=a(468),Eo=a.n(bo),yo=a(247),Oo=a.n(yo),Ao=a(248),wo=a.n(Ao),To=a(469),Io=a.n(To),Co=function(e){switch(e){case Ie.METAMASK.name:return Eo.a;case Ie.TREZOR.name:return Oo.a;case Ie.LEDGER.name:return wo.a;case Ie.DEMO.name:return Io.a;default:return""}},xo=a(1072),jo=a(1073),ko=a(104),So=a(1071),No=a(249),_o=a.n(No),Ro=Gs(So.a),Do=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={auth:!0},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.handleDrawerToggle,n=e.account,r=e.side,i=e.navTitle,s=e.classes,o=Co(n.wallet.authType),c="demo"===n.wallet.authType?t("DEMO_MODE"):n.email||n.wallet.address||t("NOT_LOGGED");return g.a.createElement(xo.a,{className:s.appBar,position:"sticky"},g.a.createElement(jo.a,{className:s.toolbar},g.a.createElement("div",{className:s.flexRow},g.a.createElement(ps.a,{color:"inherit","aria-label":"open drawer",onClick:a,className:gs()(s.navIconHide)},g.a.createElement(Fs.a,null,"menu")),g.a.createElement("div",{className:gs()(s.flex,s.toolbarControls)},g.a.createElement(fo,{leftIconSrc:o,icon:g.a.createElement(_o.a,null),label:c,active:!0,iconStyle:{marginTop:-2,marginLeft:10,fontSize:20}},g.a.createElement(Ro,{value:"account",to:{pathname:"/dashboard/"+r+"/account"},caption:t("ACCOUNT")},g.a.createElement(Ms.a,null,g.a.createElement(Fs.a,null,"account_box")),g.a.createElement(Us.a,{classes:{primary:s.primary},primary:t("ACCOUNT")})),g.a.createElement(So.a,{value:"logout",onClick:function(){pt()}},g.a.createElement(Ms.a,null,g.a.createElement(Fs.a,null,"exit_to_app")),g.a.createElement(Us.a,{classes:{primary:s.primary},primary:t("LOGOUT")}))))),g.a.createElement("div",{className:s.flexRow},g.a.createElement("div",{className:gs()(s.flex,s.toolbarTitle)},g.a.createElement(ko.a,{variant:"subtitle1",color:"inherit",className:s.flex,noWrap:!0},t(i))))))}}]),t}(h.Component);var Lo=Object(T.c)(function(e){var t=e.persist,a=e.memory;return{account:t.account,navTitle:a.nav.navTitle||""}},function(e){return{actions:Object(I.b)(es,e)}})(xs(Object(vs.a)(Xs)(Do))),Po=a(1076),Mo=a(139),Uo=a.n(Mo),Bo=a(118),Fo=a.n(Bo),Wo=a(192),Go=a.n(Wo),Vo=a(470),Ho=a.n(Vo),zo=a(1075),Zo=a(471),Yo=a.n(Zo),Jo=a(1074),Ko=3e3,Xo=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).ipfsSrc=function(e){return e&&fe.validations.Regexes.ipfsRegex.test(e)?fe.helpers.getMediaUrlWithProvider(e,"https://ipfs.moonicorn.network/ipfs/"):e},a.handleToggle=function(){var e=a.state.active;a.setState({active:!e})},a.componentWillReceiveProps=function(e){var t=a.ipfsSrc(e.src),n=a.ipfsSrc(a.props.src),r=a.ipfsSrc(e.fallbackSrc),i=e.mediaMime;t!==n&&(!!i&&hr(i)?(a.displayVideo=a.displayVideo||document.createElement("video"),a.setDisplayVideo({image:a.ipfsSrc(t),fallback:a.ipfsSrc(r)||Go.a})):(a.displayImage=a.displayImage||new Image,a.setDisplayImage({image:a.ipfsSrc(t),fallback:a.ipfsSrc(r)||Go.a})))},a.clearLoadTimeout=function(){a.loadTimeout&&(clearTimeout(a.loadTimeout),a.loadTimeout=null)},a.onFail=function(e){a.displayImage&&(a.displayImage.onerror=null,a.displayImage.onload=null,a.displayImage.onabort=null,a.clearLoadTimeout(),a.displayImage.src=e),a.clearLoadTimeout(),a.setState({imgSrc:e||null})},a.setDisplayImage=function(e){var t=e.image,n=e.fallback;a.loadTimeout=setTimeout(function(){a.onFail(n)},Ko),a.displayImage.onerror=a.displayImage.onabort=a.onFail.bind(Object(ys.a)(a),n),a.displayImage.onload=function(){a.clearLoadTimeout(),a.setState({imgSrc:t})},a.displayImage.src=t},a.setDisplayVideo=function(e){var t=e.image,n=e.fallback;a.displayVideo.src=t,a.loadTimeout=setTimeout(function(){a.onFail(n)},Ko),a.displayVideo.onloadedmetadata=function(e){e.target;a.clearLoadTimeout(),a.setState({videoSrc:t})}},a.state={imgSrc:null,active:!1,videoSrc:null},a.setDisplayImage=a.setDisplayImage.bind(Object(ys.a)(a)),a.setDisplayVideo=a.setDisplayVideo.bind(Object(ys.a)(a)),a.loadTimeout=null,a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.src,a=e.fallbackSrc,n=e.mediaMime,r=e.allowVideo,i=!!n&&hr(n);if(i&&!r)return this.setState({imgSrc:Ho.a});i?(this.displayVideo=document.createElement("video"),this.setDisplayVideo({image:this.ipfsSrc(t),fallback:this.ipfsSrc(a)||Go.a})):(this.displayImage=new Image,this.setDisplayImage({image:this.ipfsSrc(t),fallback:this.ipfsSrc(a)||Go.a}))}},{key:"componentWillUnmount",value:function(){this.clearLoadTimeout(),this.displayImage&&(this.displayImage.onerror=null,this.displayImage.onload=null,this.displayImage.onabort=null,this.displayImage=null)}},{key:"fullScreenBtn",value:function(){var e=this,t=this.props.classes;return g.a.createElement("span",null,g.a.createElement(Jo.a,{mini:!0,color:"default",className:gs()(t.fullscreenIcon),onClick:function(){e.handleToggle()}},g.a.createElement(Yo.a,null)),this.renderFullscreenDialog())}},{key:"renderFullscreenDialog",value:function(){var e=this.props,t=e.t,a=e.alt,n=e.classes,r=e.type,i=this.state,s=i.active,o=i.imgSrc,c=i.videoSrc;return g.a.createElement(Os.a,{open:s,type:r||"normal",maxWidth:!1,onClose:this.handleToggle,classes:{paper:n.dialog}},g.a.createElement(Ts.a,{className:n.dialogImageParent},o?g.a.createElement("img",{alt:a,src:o,draggable:"false",className:gs()(n.dialogImage,n.imgLoading),onDragStart:function(e){return e.preventDefault()}}):g.a.createElement("video",{src:c,controls:!0})),g.a.createElement(ws.a,null,g.a.createElement(As.a,{onClick:this.handleToggle,color:"primary"},t("CLOSE"))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.alt,n=t.allowFullscreen,r=t.className,i=t.classes,s=t.fullScreenOnClick,o=this.state,c=o.imgSrc,l=o.videoSrc;return c||l?g.a.createElement("div",{className:gs()(i.imgParent,r,i.wrapper)},c?g.a.createElement("img",{alt:a,src:this.state.imgSrc,draggable:"false",className:gs()(i.imgLoading,r,i.img),onDragStart:function(e){return e.preventDefault()},onClick:s&&function(){console.log("click"),e.handleToggle()}}):g.a.createElement("video",{src:l,controls:!0}),n&&this.fullScreenBtn(),s&&this.renderFullscreenDialog()):g.a.createElement("span",{className:gs()(i.imgLoading,r)},g.a.createElement("span",{className:i.circular},g.a.createElement(zo.a,null)))}}]),t}(h.Component),qo=xs(Object(vs.a)(function(e){return{imgLoading:{top:0,left:0,width:"auto",height:"100%",position:"relative",display:"inline-block"},imgParent:{top:0,left:0,width:"auto",height:"max-content",position:"relative",display:"inline-block"},circular:{position:"relative",top:"calc(50% - 20px)",left:"calc(50% - 20px)",display:"inline-block"},fullscreenIcon:{position:"absolute",top:e.spacing(1),right:e.spacing(1),cursor:"pointer",width:"30px",height:"30px",minHeight:"24px"},dialog:{"@media(max-width:744px)":{minWidth:"calc(100vw - ".concat(e.spacing(2),"px)")},"@media(max-height:823px)":{minHeight:"auto"}},dialogImageParent:{"@media(max-width:1080px)":{maxWidth:"80vw",maxHeight:"100vw",display:"block",margin:"auto"},"@media(max-width:744px)":{paddingLeft:0,paddingRight:0}},dialogImage:{height:"auto",maxWidth:"80vw"},img:{width:"auto",height:"auto"},wrapper:{height:"max-content",width:"max-content"}}})(Xo)),Qo=a(510),$o=a(473),ec=a.n($o),tc=function(e){var t=e.objUrl,a=e.pixelCrop,n=e.fileName,r=e.size,i=document.createElement("canvas"),s=document.createElement("canvas"),o=new Image;return o.crossOrigin="Anonymous",o.src=t,new Promise(function(e,t){o.onload=function(){var c=o.width,l=o.height,u={x:Math.round(c*(a.x/100)),y:Math.round(l*(a.y/100)),width:Math.round(c*(a.width/100)),height:Math.round(l*(a.height/100))};i.width=u.width,i.height=u.height,i.getContext("2d").drawImage(o,u.x,u.y,u.width,u.height,0,0,u.width,u.height),s.width=r.width,s.height=r.height,s.getContext("2d").drawImage(i,0,0,u.width,u.height,0,0,r.width,r.height),s.toBlob(function(a){a||t("Error cropping file"),a.name=n,e(URL.createObjectURL(a))},"image/jpeg")}})},ac=a(474),nc=a.n(ac),rc=a(315),ic=a.n(rc),sc=a(134),oc=a.n(sc),cc=a(475),lc=a.n(cc),uc=function(e){function t(e){var a;Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).onDrop=function(e,t){var n=Object(ys.a)(a),r=e[0];if(r){var i=URL.createObjectURL(r);n.setState({imgSrc:i,imgName:r.name,mime:r.type}),a.props.onChange({tempUrl:i,mime:r.type})}},a.onRemove=function(e){a.preventBubbling(e);var t=a.state.imgSrc;t&&(URL.revokeObjectURL(t),a.setState({imgSrc:"",imgName:""}),a.props.onChange({tempUrl:null,mime:null}))},a.onCropChange=function(e){a.setState({crop:e})},a.saveCropped=function(){var e=a.state,t=e.imgSrc,n=e.crop,r=e.mime,i=e.imgName,s=a.props,o=s.onChange,c=s.size;tc({objUrl:t,pixelCrop:n,fileName:"cropped-".concat(i),size:c}).then(function(e){URL.revokeObjectURL(t),a.setState({imgSrc:e,cropMode:!1}),o({tempUrl:e,mime:r})})},a.preventBubbling=function(e){e.stopPropagation&&e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation()},a.UploadInfo=function(){var e=a.props,t=e.t,n=e.classes,r=e.size,i=e.errMsg,s=a.state,o=s.imgSrc,c=s.mime;return g.a.createElement("div",{className:n.uploadInfo},o&&!hr(c)?g.a.createElement("div",{className:n.uploadActions},!!r&&g.a.createElement(As.a,{variant:"contained",color:"primary",onClick:function(e){a.preventBubbling(e),a.setState({cropMode:!0})},className:n.dropzoneBtn},g.a.createElement(nc.a,{className:n.leftIcon}),t("IMG_FORM_CROP")),"\xa0",g.a.createElement(As.a,{variant:"contained",onClick:a.onRemove,className:n.dropzoneBtn},g.a.createElement(ic.a,{className:n.leftIcon}),t("IMG_FORM_CLEAR"))):g.a.createElement(lc.a,null),g.a.createElement("div",null,g.a.createElement("span",null," ",t("DRAG_AND_DROP_TO_UPLOAD")," ")),g.a.createElement("div",null,g.a.createElement("small",null," (max 2MB; .jpeg, .jpg) ")),g.a.createElement("div",null,g.a.createElement(ko.a,{className:n.errMsg,color:"error"},i)))};var n=e.size,r=e.imgSrc,i=e.mime,s=n?n.width/n.height:void 0;return a.state={imgSrc:r||"",mime:i||"",imgName:"",cropMode:!1,crop:{aspect:s}},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.classes,r=t.label,i=t.additionalInfo,s=this.state,o=s.crop,c=s.cropMode,l=s.imgName,u=s.imgSrc,d=s.mime,p=hr(d);return g.a.createElement("div",{className:n.imgForm},g.a.createElement(xo.a,{position:"static",color:"default",classes:{root:n.header}},g.a.createElement(jo.a,null,u&&l?g.a.createElement("span",null,r||"Image",": ",l):g.a.createElement("span",null," ",r||"Upload image"," "))),g.a.createElement("div",null,c?g.a.createElement("div",{className:n.dropzone,onClick:this.preventBubbling},g.a.createElement(Po.a,{container:!0,spacing:2,alignContent:"center",alignItems:"center"},g.a.createElement(Po.a,{item:!0,sm:12,md:8},g.a.createElement(ec.a,{style:{maxWidth:"100%",maxHeight:320},imageStyle:{maxWidth:"100%",maxHeight:"320px",width:"auto",height:"auto"},className:n.imgDropzonePreview,crop:o,src:u||"",onChange:this.onCropChange})),g.a.createElement(Po.a,{item:!0,sm:12,md:4},g.a.createElement(ko.a,{color:"primary",gutterBottom:!0},a("CROP_MODE_MSG")),g.a.createElement(As.a,{variant:"contained",color:"primary",onClick:this.saveCropped,disabled:!o.width||!o.height,className:n.dropzoneBtn},g.a.createElement(oc.a,{className:n.leftIcon}),a("IMG_FORM_SAVE_CROP")),g.a.createElement(As.a,{variant:"contained",onClick:function(){return e.setState({cropMode:!1})},className:n.dropzoneBtn},g.a.createElement(ic.a,{className:n.leftIcon}),a("IMG_FORM_CANCEL_CROP"))))):g.a.createElement(Qo.a,{accept:".jpeg,.jpg,.png,.mp4",onDrop:this.onDrop,className:n.dropzone},g.a.createElement(Po.a,{container:!0,spacing:2,alignContent:"center",alignItems:"center"},g.a.createElement(Po.a,{item:!0,sm:12,md:8},p?g.a.createElement("video",{controls:!0,src:u,type:"video/mp4"}):g.a.createElement(qo,{src:u,alt:"name",className:n.imgDropzonePreview})),g.a.createElement(Po.a,{item:!0,sm:12,md:4},g.a.createElement(this.UploadInfo,null))))),g.a.createElement("div",null,g.a.createElement("small",null," ",i," ")))}}]),t}(h.Component),dc=xs(Object(vs.a)(function(e){var t=e.spacing(1);return{header:{marginBottom:t},dropzone:{display:"flex",flexDirection:"column",flex:"1 1",height:"auto",width:"auto",border:"2px dashed ".concat(e.palette.grey[500]),background:e.palette.background.default,padding:10,cursor:"pointer",overflow:"hidden"},imgDropzonePreview:{maxHeight:320,maxWidth:"100%",height:"auto",width:"auto"},dropzoneBtn:{marginBottom:t,marginRight:t},leftIcon:{marginRight:t},uploadActions:{marginTop:t}}})(uc));function pc(e){var t=function(t){function a(){var e,t;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(y.a)(this,(e=Object(O.a)(a)).call.apply(e,[this].concat(r)))).validate=function(e){var a=e.propsName,n=e.widthTarget,r=e.heightTarget,i=e.mediaWidth,s=e.mediaHeight,o=e.msg,c=e.exact,l=(e.required,e.onChange),u=e.mime,d=e.tempUrl,p=!0;c&&(p=vr(n,i,r,s)),!c&&(n<i||r<s)&&(p=!1);var m=[n,r,"px"];t.props.validate(a,{isValid:p,err:{msg:o,args:m},dirty:!0}),"function"===typeof l&&l(a,{width:i,height:s,mime:u,tempUrl:d})},t.validateMedia=Object(ot.a)(m.a.mark(function e(){var a,n,r,i,s,o,c,l,u,d,p=arguments;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=p.length>0&&void 0!==p[0]?p[0]:{},n=a.propsName,r=a.widthTarget,i=a.heightTarget,s=a.msg,o=a.exact,c=a.required,l=a.onChange,u=p.length>1?p[1]:void 0,c||u.tempUrl||!l){e.next=6;break}return t.props.validate(n,{isValid:!0,err:{msg:s,args:[]},dirty:!0}),l(n,u),e.abrupt("return");case 6:if(u.mime&&u.tempUrl){e.next=9;break}return t.props.validate(n,{isValid:!1,dirty:!0}),e.abrupt("return");case 9:return e.next=11,gr({mime:u.mime,src:u.tempUrl});case 11:d=e.sent,t.validate({propsName:n,widthTarget:r,heightTarget:i,mediaWidth:d.width,mediaHeight:d.height,msg:s,exact:o,required:c,onChange:l,mime:u.mime,tempUrl:u.tempUrl});case 13:case"end":return e.stop()}},e)})),t}return Object(A.a)(a,t),Object(E.a)(a,[{key:"render",value:function(){var t=this.props;return g.a.createElement(e,Object.assign({},t,{validateMedia:this.validateMedia}))}}]),a}(h.Component);return Object(T.c)(function(e,t){return{validations:e.memory.validations[t.validateId]}},function(e){return{actions:Object(I.b)(es,e)}})(xs(t))}function mc(e){var t=function(t){function a(e){var t;return Object(b.a)(this,a),(t=Object(y.a)(this,Object(O.a)(a).call(this,e))).validate=function(e,a){var n=a.isValid,r=a.err,i=void 0===r?{msg:"",args:[]}:r,s=a.dirty,o=void 0!==s&&s,c=a.removeAll;if(n)void 0!==c&&c?t.props.actions.resetValidationErrors(t.props.validateId):t.props.actions.resetValidationErrors(t.props.validateId,e);else{var l={};l[e]={errMsg:t.props.t(i.msg,{args:i.args}),dirty:o},t.props.actions.updateValidationErrors(t.props.validateId,l)}},t.state={invalidFields:{}},t.validate=t.validate.bind(Object(ys.a)(t)),t}return Object(A.a)(a,t),Object(E.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({invalidFields:e.validations||{}})}},{key:"componentWillMount",value:function(){this.setState({invalidFields:this.props.validations||{}})}},{key:"render",value:function(){var t=this.props;return g.a.createElement(e,Object.assign({},t,{validate:this.validate,invalidFields:this.state.invalidFields}))}}]),a}(h.Component);return Object(T.c)(function(e,t){return{validations:e.memory.validations[t.validateId]}},function(e){return{actions:Object(I.b)(es,e)}})(xs(t))}var hc=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).handleChange=function(e,t){var n=Object(x.a)({},a.state.values);n[e]=t,a.setState({values:n})},a.onOk=function(){var e=a.state.values;Object.keys(e).forEach(function(t){a.props.onChangeReady(t,e[t])}),a.props.handleToggle()},a.state={values:{}},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=(this.props.invalidFields||{})[this.props.imgPropName],t=this.props.width||600,a=this.props.height||400;return g.a.createElement("span",null,g.a.createElement(Os.a,{open:this.props.active,title:this.props.title,type:this.props.type||"normal"},g.a.createElement(Cs.a,null,g.a.createElement(ps.a,{onClick:this.props.handleToggle},g.a.createElement(Fo.a,null)),this.props.t(this.props.title)),g.a.createElement(Ts.a,null,g.a.createElement(dc,{label:void this.props.imgLabel,imgSrc:this.props.imgSrc||"",onChange:this.props.validateMedia.bind(this,{propsName:this.props.imgPropName,widthTarget:t,heightTarget:a,msg:this.props.errMsg,exact:this.props.exact,required:this.props.required,onChange:this.handleChange}),additionalInfo:void this.props.additionalInfo,errMsg:e?e.errMsg:"",size:{width:t,height:a}})),g.a.createElement(ws.a,null,g.a.createElement(As.a,{onClick:this.props.handleToggle,color:"primary"},"Cancel"),g.a.createElement(As.a,{onClick:this.onOk,color:"primary",autoFocus:!0,disabled:!!(this.props.invalidFields||{})[this.props.imgPropName]},"Ok"))))}}]),t}(h.Component);var gc=Object(T.c)(function(e){return{account:e.persist.account}},function(e){return{actions:Object(I.b)(es,e)}})(mc(pc(Object(vs.a)(function(e){return{}})(hc)))),vc=a(1077),fc=a(476),bc=a.n(fc),Ec=a(193),yc=a.n(Ec),Oc=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.spinner,a=e.classes,n=e.success,r=e.dirtyProps,i=e.save,s=e.validations,o=e.validationId,c=e.disabled;return g.a.createElement("div",{className:a.position},g.a.createElement("div",{className:a.wrapper},g.a.createElement(Jo.a,{fabButton:!0,color:"primary",onClick:function(){return i()},disabled:c||t||!r.length||!!Object.keys(s[o]||{}).length},n?g.a.createElement(bc.a,null):g.a.createElement(oc.a,null)),!!t&&g.a.createElement(zo.a,{size:68,className:a.fabProgress})))}}]),t}(h.Component);var Ac=Object(T.c)(function(e,t){var a=e.memory;return{spinner:a.spinners[t.spinnerId],validations:a.validations}},function(e){return{actions:Object(I.b)(es,e)}})(xs(Object(vs.a)(function(e){return{root:{display:"flex",alignItems:"center"},wrapper:{position:"relative"},buttonSuccess:{backgroundColor:yc.a[500],"&:hover":{backgroundColor:yc.a[700]}},fabProgress:{color:yc.a[500],position:"absolute",top:-6,left:-6,zIndex:1},buttonProgress:{color:yc.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},position:{position:"fixed",top:86,right:40,zIndex:e.zIndex.appBar}}})(Oc))),wc=a(1079),Tc=a(1112),Ic=a(1080),Cc=a(1078),xc=a(142),jc=a(1116),kc=a(1081),Sc=function(e){var t=e.spacing(1);return{mediaRoot:{height:0,paddingTop:"56.25%",position:"relative",overflow:"hidden"},img:{position:"absolute",top:0,bottom:0,left:0,right:0,margin:"auto",height:"auto",width:"100%"},buttonRight:{marginLeft:t},buttonLeft:{marginRight:t},error:{color:e.palette.error.main},textField:{marginBottom:t,marginRight:t},top:{display:"flex",flexDirection:"column",flexWrap:"wrap",maxWidth:"70%"},changesLine:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",color:e.palette.secondary.main,marginBottom:t},changeChip:{margin:t,marginLeft:0},editIcon:{position:"absolute",bottom:t,right:t}}},Nc=a(477),_c=a.n(Nc),Rc=Gs(As.a),Dc=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.classes,n=e.title,r=e.subtitle,i=e.goToTxt,s=e.goToPath,o=e.skipGoToButton;return g.a.createElement("div",{className:a.wrapper},g.a.createElement(Po.a,{container:!0,spacing:2,justify:"center",alignItems:"center"},g.a.createElement(Po.a,{item:!0,sm:12},g.a.createElement(ko.a,{className:a.text,variant:"h3"},t(n||"404_TEXT")),r&&g.a.createElement(ko.a,{className:a.text,variant:"subtitle1"},t(r))),g.a.createElement(Po.a,{item:!0,sm:12},g.a.createElement(ko.a,{inline:!0,className:a.text,variant:"h1",style:{textTransform:"uppercase"}},t("404"))),g.a.createElement(Po.a,{item:!0,sm:12},g.a.createElement(qo,{src:_c.a,alt:"Downlad metamask",className:a.img})),g.a.createElement(Po.a,{item:!0,sm:12},!o&&g.a.createElement(Rc,{variant:"contained",to:s||"/",size:"large",color:"primary"},t(i||"GO_HOME")))))}}]),t}(g.a.Component),Lc=xs(Object(vs.a)(function(e){var t=e.spacing(1);return{wrapper:{margin:"".concat(2*t,"px auto"),maxWidth:1e3},img:{maxWidth:"100%",height:"auto"}}})(Dc)),Pc=fe.schemas.adSlotPut,Mc=fe.schemas.adUnitPut,Uc=be.items.AdSizesByValue;function Bc(e){var t=function(t){function a(e){var t;return Object(b.a)(this,a),(t=Object(y.a)(this,Object(O.a)(a).call(this,e))).updateNav=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.props,n=a.actions,r=a.t,i=a.itemType;n.updateNav("navTitle",r(i,{isProp:!0})+" > "+e.title||"")},t.handleChange=function(e,a){var n=t.props.objModel,r=t.state,i=r.item,s=r.dirtyProps,o=new n(i);o[e]=a;var c=s.slice(0);c.indexOf(e)<0&&c.push(e),t.setState({item:o.plainObj(),dirtyProps:c})},t.returnPropToInitialState=function(e){var a=t.props,n=a.objModel,r=a.actions,i=t.state,s=i.dirtyProps,o=i.initialItemState,c=i.item,l=o[e],u=new n(c);u[e]=l;var d=s.filter(function(t){return t!==e});t.setState({item:u.plainObj(),dirtyProps:d}),r.resetValidationErrors(c.id,e)},t.setActiveFields=function(e,a){var n=Object(x.a)({},t.state.activeFields);n[e]=a,t.setState({activeFields:n})},t.save=function(){var e=t.props,a=e.itemType,n=e.spinner,r=e.actions,i=t.state,s=i.item;i.dirtyProps.length&&!n&&(r.updateItem({itemType:a,item:s}),t.setState({dirtyProps:[]}))},t.handleToggle=function(){if(!("demo"===t.props.account._authType)){var e=t.state.editImg;t.setState({editImg:!e})}},t.save=t.save.bind(Object(ys.a)(t)),t.state={activeFields:{},item:null,initialItemState:{},dirtyProps:[],editImg:!1,_activeInput:null},t}return Object(A.a)(a,t),Object(E.a)(a,[{key:"componentWillMount",value:function(){var e=this.props,t=e.item,a=e.matchId,n=e.objModel;if(t){var r=new n(t);this.setState({item:Object(x.a)({},t),initialItemState:r}),this.updateNav(r)}else this.updateNav({title:a})}},{key:"componentWillReceiveProps",value:function(e,t){var a=this.props.objModel,n=new a(this.state.item||{}),r=new a(e.item||{});n.modifiedOn!==r.modifiedOn&&this.setState({item:r.plainObj(),initialItemState:r,activeFields:{},dirtyProps:[]}),this.updateNav(r)}},{key:"componentWillUnmount",value:function(){this.state.item&&this.props.actions.updateSpinner("update"+this.state.item.id,!1)}},{key:"isDirtyProp",value:function(e){return this.state.item.dirtyProps.indexOf(e)>-1}},{key:"isNameValid",value:function(e){return!Vi(e).msg}},{key:"validateTitle",value:function(e,t,a){var n=this.props,r=n.itemType,i=n.validate,s=null;switch(r){case"AdSlot":s=Pc.title;break;case"AdUnit":s=Mc.title}var o=fe.Joi.validate(e,s);i("title",{isValid:!o.error,err:{msg:o.error?o.error.message:""},dirty:t})}},{key:"validateDescription",value:function(e,t,a){var n=this.props,r=n.itemType,i=n.validate,s=null;switch(r){case"AdSlot":s=Pc.description;break;case"AdUnit":s=Mc.description}var o=fe.Joi.validate(e,s);i("description",{isValid:!o.error,err:{msg:o.error?o.error.message:""},dirty:t})}},{key:"render",value:function(){var t=this,a=this.props,n=(a.validations,a.classes),r=a.t,i=a.account,s=a.itemType,o=a.objModel,c=a.matchId,l=(a.side,a.invalidFields),u=a.validateId,d=Object(Ns.a)(a,["validations","classes","t","account","itemType","objModel","matchId","side","invalidFields","validateId"]);if(!this.props.item)return g.a.createElement(Lc,{title:r("ITEM_NOT_FOUND_TITLE"),subtitle:r("ITEM_NOT_FOUND_SUBTITLE",{args:[s,c]}),skipGoToButton:!0});var p="demo"===i._authType,m=new o(this.state.item||{}),h="AdSlot"===s,v=m.temp.tempUrl||m.mediaUrl||m.fallbackMediaUrl,f=l.title,b=l.description;return g.a.createElement("div",null,g.a.createElement(vc.a,{when:!!this.state.dirtyProps.length,message:r("UNSAVED_CHANGES_ALERT")}),"Campaign"!==s&&g.a.createElement("div",null,g.a.createElement("div",null,g.a.createElement(gc,Object.assign({},d,{imgSrc:v,handleToggle:this.handleToggle,active:this.state.editImg,onChangeReady:this.handleChange,validateId:m._id,width:this.props.updateImgWidth||(Uc[m.size]||{}).width,height:this.props.updateImgHeight||(Uc[m.size]||{}).height,title:r(this.props.updateImgLabel),additionalInfo:r(this.props.updateImgInfoLabel),exact:this.props.updateImgExact,errMsg:this.props.updateImgErrMsg,imgPropName:"img"}))),g.a.createElement("div",null,!!this.state.dirtyProps.length&&g.a.createElement("div",{className:n.changesLine},g.a.createElement(ls.a,{className:n.buttonLeft}),g.a.createElement("span",{className:n.buttonLeft},r("UNSAVED_CHANGES"),":"),this.state.dirtyProps.map(function(e){return g.a.createElement(jc.a,{className:n.changeChip,key:e,label:r(e,{isProp:!0}),onDelete:function(){return t.returnPropToInitialState(e)}})}))),g.a.createElement("div",null,g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,xs:12,sm:12,md:12,lg:7},g.a.createElement("div",null,g.a.createElement(Cc.a,{fullWidth:!0,className:n.textField,margin:"dense",error:!!f&&!!f.errMsg},g.a.createElement(Tc.a,null,r("title",{isProp:!0})),g.a.createElement(wc.a,{fullWidth:!0,autoFocus:!0,type:"text",name:r("title",{isProp:!0}),value:m.title,onChange:function(e){t.validateTitle(e.target.value,!0),t.handleChange("title",e.target.value)},maxLength:1024,onBlur:function(e){t.setActiveFields("title",!1)},onFocus:function(){return t.validateTitle(m.title,!1)},disabled:!this.state.activeFields.title,endAdornment:g.a.createElement(Ic.a,{position:"end"},g.a.createElement(ps.a,{disabled:p,color:"secondary",className:n.buttonRight,onClick:function(e){return t.setActiveFields("title",!0)}},g.a.createElement(Uo.a,null)))}),f&&f.errMsg&&f.dirty&&g.a.createElement(kc.a,null,r(f.errMsg,{args:f.errMsgArgs})))),g.a.createElement("div",null,g.a.createElement(Cc.a,{margin:"dense",fullWidth:!0,className:n.textField,error:!!b&&!!b.errMsg},g.a.createElement(Tc.a,{htmlFor:"description"},r("description",{isProp:!0})),g.a.createElement(wc.a,{fullWidth:!0,autoFocus:!0,multiline:!0,rows:3,type:"text",name:"description",value:m.description||"",onChange:function(e){t.validateDescription(e.target.value,!0),t.handleChange("description",e.target.value)},maxLength:1024,onBlur:function(e){t.setActiveFields("description",!1)},onFocus:function(){return t.validateDescription(m.description,!1)},disabled:!this.state.activeFields.description,endAdornment:g.a.createElement(Ic.a,{position:"end"},g.a.createElement(ps.a,{color:"secondary",className:n.buttonRight,disabled:p,onClick:function(e){return t.setActiveFields("description",!0)}},g.a.createElement(Uo.a,null)))}),b&&b.errMsg?g.a.createElement(kc.a,null,r(b.errMsg,{args:b.errMsgArgs})):!m.description&&g.a.createElement(kc.a,null,r("NO_DESCRIPTION_YET"))))),g.a.createElement(Po.a,{item:!0,xs:12,sm:12,md:12,lg:5},this.props.showLogo&&g.a.createElement("div",{style:{width:270}},g.a.createElement(xc.a,{className:gs()(n.mediaRoot,n.imgContainer)},g.a.createElement(qo,{allowFullscreen:!0,src:v,alt:m.fullName,className:gs()(n.img,Object(Le.a)({},n.pointer,this.props.canEditImg&&!p))}),g.a.createElement(As.a,{fabButton:!0,mini:!0,color:"secondary",className:n.editIcon,onClick:p?null:this.handleToggle,disabled:p},g.a.createElement(Uo.a,null))))))),g.a.createElement("div",null,g.a.createElement(Ac,{spinnerId:"update"+m.id,validationId:"update-"+u,dirtyProps:this.state.dirtyProps,save:this.save,disabled:!this.state.dirtyProps.length||!!Object.keys(l).length}))),g.a.createElement("div",null,g.a.createElement(e,Object.assign({},d,{account:i,t:r,inEdit:!!this.state.dirtyProps.length,item:m,save:this.save,handleChange:this.handleChange,toggleImgEdit:this.handleToggle.bind(this),activeFields:this.state.activeFields,setActiveFields:this.setActiveFields.bind(this),canEdit:h,itemType:s,isDemo:p}))))}}]),a}(h.Component),a=function(e){for(var t=e.items,a=e.ipfs,n=Object.keys(t),r=0;r<n.length;r++){var i=t[n[r]];if(i&&i._ipfs&&a&&i._ipfs===a)return i}return null};return Object(T.c)(function(e,t){var n=e.persist,r=n.items[t.itemType],i=t.match.params.itemId,s=r[i];return s||void 0===t.itemType||(s=a({items:r,ipfs:i})),{account:n.account,item:s,validateId:"update-"+(s.id||s.ipfs),matchId:i}},function(e){return{actions:Object(I.b)(es,e)}})(Object(vs.a)(Sc)(mc(xs(t))))}var Fc=a(1106),Wc=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.props.onChange(e.target.value)},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.label,n=void 0===a?"":a,r=e.value,i=e.source,s=e.htmlId,o=void 0===s?"some-id":s,c=e.name,l=void 0===c?"":c,u=e.disabled,d=void 0!==u&&u,p=e.error,m=void 0!==p&&p,h=e.helperText,v=e.fullWidth,f=void 0!==v&&v,b=e.className,E=e.required;return g.a.createElement(Cc.a,{className:gs()(b,t.formControl),disabled:d,error:m,fullWidth:f},g.a.createElement(Tc.a,{htmlFor:o,required:E},n),g.a.createElement(Fc.a,{value:r.id||r,onChange:this.handleChange,input:g.a.createElement(wc.a,{name:l,id:o})},Object(De.a)(i).map(function(e){return g.a.createElement(So.a,{key:e.value.key||e.value.id||e.value,value:e.value.id||e.value},e.label)})),h&&g.a.createElement(kc.a,null,h))}}]),t}(g.a.Component),Gc=Object(vs.a)(function(e){return{formControl:{minWidth:120},selectEmpty:{marginTop:e.spacing(1)}}})(Wc),Vc=a(479),Hc=a.n(Vc),zc=a(480),Zc=a.n(zc),Yc=function(e){var t=e.spacing(1);return{controls:{display:"flex",flexWrap:"wrap",flexDirection:"row"},flexRow:{display:"flex",flexDirection:"row",flexWrap:"wrap"},flexItem:{marginRight:t,marginBottom:t},rowButton:{marginTop:1.5*t},rwoButtonRoot:{margin:t/2},row:{display:"block"},bottomControls:{justifyContent:"flex-start"},listRoot:{paddingBottom:1.5*t,overflowX:"auto"},controlsRoot:{padding:1.5*t,paddingBottom:.5*t},pageSize:{width:"100px"}}},Jc=Object(vs.a)(Yc)(function(e){var t=e.page,a=e.pages,n=e.classes,r=e.goToPrevPage,i=e.goToNextPage,s=e.goToPage,o=e.t;return g.a.createElement("div",{className:n.flexRow},a>1&&g.a.createElement("div",{className:gs()(n.flexItem,n.flexRow)},g.a.createElement("div",null,g.a.createElement(Gc,{label:o("LIST_CONTROL_LABEL_PAGE"),helperText:o("LIST_CONTROL_LABEL_PAGE_OF",{args:[a]}),onChange:s,source:Kc(t,a),value:t+"",htmlId:"page-size-select"})),g.a.createElement(ps.a,{color:"primary",disabled:!(t>0&&a>t),onClick:r,className:n.rowButton,size:"small"},g.a.createElement(Hc.a,null)),g.a.createElement(ps.a,{color:"primary",disabled:!(t<a-1),onClick:i,className:n.rowButton,size:"small"},g.a.createElement(Zc.a,null))))}),Kc=function(e,t){for(var a=[],n=0;n<t;n++)a.push({value:n+"",label:n+1+""});return a},Xc=a(482),qc=a.n(Xc),Qc=a(483),$c=a.n(Qc),el=a(481),tl=a.n(el),al=/^[0-9]+$/,nl=function(e){var t=e.filterProps,a=void 0===t?{}:t,n=e.t;return Object.keys(a).map(function(e){var t=a[e],r=t.label||e;return{label:n(r,{isProp:t.labelIsProp||!t.label,args:t.labelArgs||[]}),value:e}})},rl=function(e){var t=e.sortProps,a=void 0===t?[]:t,n=e.t;return a.map(function(e){var t=e.label||e.value;return{value:(null!==e.value&&void 0!==e.value?e.value:"").toString(),label:n(t,{isProp:!e.label,args:e.labelArgs||[]})}})},il=function(e){function t(e,a){var n;Object(b.a)(this,t),(n=Object(y.a)(this,Object(O.a)(t).call(this,e,a))).handleChange=function(e,t){var a=Object(Le.a)({},e,t);"search"===e&&(a.page=0),"filterBy"===e&&(a.filterByValues=[{label:"ALL",value:""}].concat(n.props.filterProperties[t].values),a.filterByValueFilter=""),n.setState(a)},n.handleChangeRxState=function(e,t){n.props.actions.updateUi(e,t,n.state.uiStateId)},n.changePageSize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(t.itemsLength,t.page,t.pages,arguments.length>2&&arguments[2],arguments.length>3?arguments[3]:void 0);n.props.actions.updateUi("pageSize",a,n.state.uiStateId)},n.search=function(e){var t=e.item,a=e.search,n=e.searchMatch,r=new RegExp(a,"i"),i=null;return i="function"===typeof n?n(t):"string"===typeof n&&n?n:(t.title||"")+(t.description||""),!!r.exec(i)},n.filterItems=function(e){var t=e.items,a=e.search,r=e.sortProperty,i=e.sortOrder,s=e.page,o=e.pageSize,c=e.searchMatch,l=e.filterBy,u=e.filterArchived,d=(t||[]).filter(function(e){var t=!!e&&(e.id||e.ipfs);if(!t)return t;if(""!==u&&void 0!==e.archived&&u.toString()!==e.archived.toString())return!1;if(l&&l.key&&l.value&&!((l.key.split(".").reduce(function(e,t){return e?e[t]:"noprop"},e)||"").toString()===l.value.toString()))return!1;return!!a?n.search({item:e,search:a,searchMatch:c}):t});r&&(d=d.sort(function(e,t){var a=e[r],n=t[r];return al.test(a)&&al.test(n)?(a=Object(jt.bigNumberify)(a),n=Object(jt.bigNumberify)(n),(a.lt(n)?-1:a.gt(n)?1:0)*i):(a<n?-1:a>n?1:0)*i}));var p=d.length,m=Math.ceil(p/o);return{items:d.slice(s*o,s*o+o),page:s,pages:m,itemsLength:p,pageSize:o}};var r=e.uiStateId,i=rl({sortProps:e.sortProperties||[{}],t:e.t});return n.state={items:[],page:0,search:"",sortProperties:i,filterProperties:nl({filterProps:e.filterProperties,t:e.t}),filteredItems:[],filterBy:"",filterByValues:[],filterByValueFilter:"",uiStateId:r},n}return Object(A.a)(t,e),Object(E.a)(t,[{key:"goToPage",value:function(e){this.setState({page:parseInt(e,10)})}},{key:"render",value:function(){var e,t=this,a=this.filterItems({items:this.props.items,search:this.state.search,sortProperty:this.props.sortProperty||this.state.sortProperties[0].value,sortOrder:this.props.sortOrder||-1,page:this.state.page,pageSize:50,searchMatch:this.props.searchMatch,filterBy:{key:this.state.filterBy,value:this.state.filterByValueFilter},filterArchived:this.props.filterArchived||"false"}),n=a.items;e=this.props.renderRows;var r=this.props,i=r.t,s=r.classes;return g.a.createElement(xc.a,null,g.a.createElement("div",{className:s.controlsRoot},g.a.createElement("div",{className:s.controls},g.a.createElement(Cc.a,{className:gs()(s.flexItem)},g.a.createElement(Tc.a,{htmlFor:"search"},i("LIST_CONTROL_LABEL_SEARCH")),g.a.createElement(wc.a,{name:"search",id:"search",value:this.state.search,onChange:function(e){return t.handleChange("search",e.target.value)},startAdornment:g.a.createElement(Ic.a,{position:"start"},g.a.createElement(tl.a,null))})),g.a.createElement("div",{className:gs()(s.flexRow,s.flexItem)},g.a.createElement(Gc,{label:i("LIST_CONTROL_LABEL_SORT"),onChange:this.handleChangeRxState.bind(this,"sortProperty"),source:this.state.sortProperties,value:this.props.sortProperty||this.state.sortProperties[0].value,htmlId:"sort-by-prop",name:"sortProperty"}),g.a.createElement("div",null,g.a.createElement(ps.a,{color:1===this.props.sortOrder?"primary":"default",onClick:this.handleChangeRxState.bind(this,"sortOrder",1),className:s.rowButton,size:"small"},g.a.createElement(qc.a,null)),g.a.createElement(ps.a,{color:-1===this.props.sortOrder?"primary":"default",onClick:this.handleChangeRxState.bind(this,"sortOrder",-1),className:s.rowButton,size:"small"},g.a.createElement($c.a,null)))),g.a.createElement("div",{className:gs()(s.controls,s.bottomControls)},g.a.createElement(Jc,{t:i,page:a.page,pages:a.pages,pageSize:50,itemsLength:a.itemsLength,goToPage:this.goToPage.bind(this),goToLastPage:this.goToPage.bind(this,a.pages-1),goToNextPage:this.goToPage.bind(this,a.page+1),goToFirstPage:this.goToPage.bind(this,0),goToPrevPage:this.goToPage.bind(this,a.page-1),changePageSize:this.changePageSize.bind(this,"pageSize",{page:a.page,pages:a.pages,itemsLength:a.itemsLength})})))),g.a.createElement(Bs.a,null),g.a.createElement("div",{className:gs()(s.listRoot)},e(n)))}}]),t}(h.Component);var sl=Object(T.c)(function(e,t){var a=e.persist,n=e.memory,r=t.uiStateId||"default";return{rowsView:!!a.ui[t.viewModeId],pageSize:a.ui[r]&&a.ui[r].pageSize||10,sortProperty:a.ui[r]?a.ui[r].sortProperty:null,sortOrder:a.ui[r]&&a.ui[r].sortOrder||-1,filterArchived:a.ui[r]&&a.ui[r].filterArchived||!1,side:n.nav.side,account:a.account,sortProperties:t.sortProperties||[],filterProperties:t.filterProperties,uiStateId:r}},function(e){return{actions:Object(I.b)(es,e)}})(xs(Object(vs.a)(Yc)(il))),ol=a(1091),cl=a(1092),ll=a(1093),ul=a(1117),dl=a(1108),pl=a(1082),ml=a(1083),hl=function(e){function t(e,a){var n;return Object(b.a)(this,t),(n=Object(y.a)(this,Object(O.a)(t).call(this,e,a))).handleRowSelect=function(e){var t=e.map(function(e){return n.props.rows[e].id});n.setState({selected:t})},n.state={selected:[]},n}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.rows!==this.props.rows&&this.setState({selected:[]})}},{key:"render",value:function(){var e=this,t=this.props,a=t.side,n=t.rows,r=t.padding,i=t.itemType,s=t.size;return g.a.createElement("div",null,g.a.createElement(pl.a,{size:s||"small",padding:r||"default"},this.props.tableHeadRenderer({selected:this.state.selected}),g.a.createElement(ml.a,null,n.map(function(t,n){var r="/dashboard/".concat(a,"/").concat(i,"/").concat(t.id||t.ipfs),s=-1!==e.state.selected.indexOf(t.id);return e.props.rowRenderer(t,n,{to:r,selected:s,itemType:i})}))))}}]),t}(h.Component),gl=a(157),vl=a(251),fl=a(257),bl=a(1114),El=a(1084),yl=a(1085),Ol=a(1109),Al=function(e){var t=e.pages,a=e.currentPage,n=e.classes;Object(Ns.a)(e,["pages","currentPage","classes"]);return window.innerWidth<=768?g.a.createElement("div",null,g.a.createElement(Ol.a,{className:n.mobileStepLabel},"(",a+1,"/",t.length,") ",t[a].title),g.a.createElement(El.a,{activeStep:a,steps:t.length,position:"static",variant:"progress",className:n.mobileStepper})):g.a.createElement(bl.a,{alternativeLabel:!0,activeStep:a},t.map(function(e,t){return g.a.createElement(yl.a,{key:e.title},g.a.createElement(Ol.a,null,e.title))}))},wl=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(E.a)(t,[{key:"goToPage",value:function(e){var t=e>this.props.currentPage&&this.canAdvanceNextToPage(),a=e<this.props.currentPage;(t||a)&&this.props.setPageIndex(e)}},{key:"canAdvanceNextToPage",value:function(){var e=this.props.pages[this.props.currentPage];return!(!this.props.canAdvance||Object.keys(this.props.validations[e.props.validateId]||{}).length)}},{key:"isValidPage",value:function(){var e=this.props.pages[this.props.currentPage];return!Object.keys(this.props.validations[e.props.validateId]||{}).length}},{key:"render",value:function(){var e=Object(x.a)({},this.props),t=e.pages,a=(e.component,e.validations,e.currentPage),n=e.t,r=e.classes,i=Object(Ns.a)(e,["pages","component","validations","currentPage","t","classes"]),s=t[a],o=s.component;return g.a.createElement("div",null,g.a.createElement(xc.a,null,g.a.createElement(Al,Object.assign({className:r.stepperNav},i,{pages:t,classes:r,currentPage:a,goToPage:this.goToPage.bind(this)}))),g.a.createElement("br",null),g.a.createElement(xc.a,{classes:{root:r.pagePaper}},g.a.createElement("div",{className:r.pageContent},g.a.createElement(o,s.props)),g.a.createElement("div",{className:r.controls},g.a.createElement("div",{className:r.left},i.canReverse?g.a.createElement(As.a,{onClick:function(){return i.setPageIndex(a-1)}},n("BACK")):""),g.a.createElement("div",{className:r.right},s.cancelBtn?g.a.createElement(s.cancelBtn,null):null,this.canAdvanceNextToPage()&&!s.completeBtn?g.a.createElement(As.a,{onClick:this.goToPage.bind(this,a+1)},n("CONTINUE")):s.completeBtn?null:g.a.createElement(As.a,{label:"Continue",disabled:!0},n("CONTINUE")),s.completeBtn&&this.isValidPage()?g.a.createElement(s.completeBtn,null):""))))}}]),t}(g.a.Component),Tl=Object(fl.a)(Object(vs.a)({root:{color:"purple","&$active":{color:"green"}},active:{color:"yellow"},pagePaper:{position:"absolute",bottom:0,left:0,right:0,top:115},pageContent:{position:"absolute",top:20,left:20,right:20,bottom:50,padding:20,overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch","@media(max-width:500px)":{paddingLeft:0,paddingRight:0}},controls:{position:"absolute",bottom:5,left:20,right:20},right:{textAlign:"right",display:"inline-block",width:"50%","@media(max-width:475px)":{width:"86%"}},left:{display:"inline-block",textAlign:"left",width:"50%","@media(max-width:475px)":{width:"14%"}},mobileStepper:{width:"100%","& div":{width:"100%",height:"10px"}},mobileStepLabel:{"& span":{fontSize:"24px",margin:"14px auto"},textAlign:"center",width:"auto"}})(xs(wl))),Il=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return g.a.createElement(vl.a,{pages:this.props.pages,style:{display:"block"}},g.a.createElement(Tl,{itemType:this.props.itemType,validations:this.props.validations}))}}]),t}(g.a.Component);var Cl=Object(T.c)(function(e,t){var a=e.persist,n=e.memory;return{account:a.account,validations:n.validations}},function(e){return{actions:Object(I.b)(es,e)}})(Il),xl=xs(function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(E.a)(t,[{key:"shouldComponentUpdate",value:function(e){return JSON.stringify(this.props)!==JSON.stringify(e)}},{key:"render",value:function(){var e=this,t=[],a=this.props,n=a.t,r=a.SaveBtn,i=a.CancelBtn,s=a.onSave,o=a.stepsId,c=a.stepsPages,l=a.stepsPreviewPage,u=a.validateIdBase,d=Object(Ns.a)(a,["t","SaveBtn","CancelBtn","onSave","stepsId","stepsPages","stepsPreviewPage","validateIdBase"]),p=function(){return g.a.createElement(i,Object.assign({},d,{stepsId:o,onSave:s,t:n}))},m=(u||"")+"-"+o;return c.forEach(function(a,r){t.push({title:n(a.title),cancelBtn:p,component:mc(a.page||a),props:Object(x.a)({},e.props,{stepsId:o,validateId:m+"-"+r})})}),t.push({title:n(l.title||"PREVIEW"),completeBtn:function(){return g.a.createElement(r,Object.assign({},d,{stepsId:o,onSave:s,t:n}))},cancelBtn:p,component:mc(l.page||l),props:Object(x.a)({},this.props,{validateId:m+"-"+c.length})}),g.a.createElement(Cl,{pages:t})}}]),t}(h.Component)),jl=a(1019),kl=a(186),Sl=a.n(kl),Nl=function(e){var t=e.spacing(3),a=Math.max(window.innerHeight-t,400);return{dialog:{minHeight:"".concat(a,"px"),minWidth:1024,maxWidth:1080,backgroundColor:Sl.a[200],"@media(max-width:1080px)":{maxWidth:"100%",minWidth:"calc(100vw - ".concat(e.spacing(2),"px)")},"@media(max-height:823px)":{minHeight:"calc(".concat(a," - ").concat(e.spacing(2),"px)")}},dialogTitle:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",wordWrap:"break-word"},content:{display:"flex",flexDirection:"column",flex:"1 1 auto",position:"relative",padding:0,margin:"0 ".concat(t,"px ").concat(t,"px ").concat(t,"px"),"&:first-child":{paddingTop:t},overflow:"visible",overflowY:"auto"},contentBox:{display:"flex",flexDirection:"column"},propRow:{margin:"10px 0",width:"100%"},contentBody:{flexGrow:1},contentTopLoadingCircular:{flexShrink:0,marginRight:e.spacing(1)},contentTopLoading:{display:"flex",flexDirection:"row",alignItems:"center","& > div":{padding:e.spacing(1)}},textBtn:{cursor:"pointer"},btnIconLeft:{marginRight:e.spacing(1)},leftCol:Object(Le.a)({textTransform:"uppercase",textAlign:"right"},e.breakpoints.down("sm"),{textAlign:"left"}),rightCol:{textAlign:"left"},progressCircleCenter:{position:"absolute",left:"calc(50% - 30px)",top:"calc(50% - 30px)"},floating:{position:"fixed",top:86,right:40,zIndex:e.zIndex.appBar},breakLong:{wordBreak:"break-word",overflowWrap:"break-word",hyphens:"auto"},demoImg:{top:"auto",left:"auto",right:0,bottom:0,width:"100px",height:"auto",position:"absolute"},demoBody:{position:"relative"}}},_l=Object(vs.a)(Nl)(function(e){var t=e.classes,a=e.left,n=e.right,r=e.className,i=e.classNameLeft,s=e.classNameRight,o=e.style,c=void 0===o?{}:o;return g.a.createElement(Po.a,{item:!0,container:!0,spacing:2,xs:12,className:gs()(r),style:c},g.a.createElement(Po.a,{item:!0,xs:12,sm:4,lg:3,className:gs()(t.leftCol,t.uppercase,i)},a),g.a.createElement(Po.a,{item:!0,xs:12,sm:8,lg:9,className:gs()(t.rightCol,t.breakLong,s)},n))}),Rl=Object(vs.a)(Nl)(function(e){var t=e.classes,a=e.children,n=e.className;return g.a.createElement("div",{className:gs()(t.contentBox,n)},a)}),Dl=Object(vs.a)(Nl)(function(e){var t=e.classes,a=e.children,n=e.className;return g.a.createElement("div",{className:gs()(t.contentBody,n)},a)}),Ll=Object(vs.a)(Nl)(function(e){var t=e.classes,a=e.children;e.className;return g.a.createElement("div",{className:gs()(t.contentStickyTop)},a)}),Pl=Object(vs.a)(Nl)(function(e){var t=e.classes,a=e.msg;e.className;return g.a.createElement("div",{className:gs()(t.contentTopLoading)},g.a.createElement(zo.a,{className:t.contentTopLoadingCircular,size:50}),g.a.createElement("div",null," ",a," "))}),Ml=Object(vs.a)(Nl)(function(e){var t=e.classes;return g.a.createElement(zo.a,{className:gs()(t.progressCircleCenter),size:50})}),Ul=a(484),Bl=a.n(Ul),Fl=Object(vs.a)(Nl)(function(e){var t=e.label,a=e.className,n=e.classes,r=e.style,i=e.onClick;Object(Ns.a)(e,["label","className","classes","style","onClick"]);return g.a.createElement("span",{className:gs()(n.textBtn,a),style:r,onClick:i}," ",t," ")}),Wl=function(e){return g.a.createElement(jl.a,Object.assign({direction:"up"},e))};function Gl(e){var t=function(t){function a(e){var t;return Object(b.a)(this,a),(t=Object(y.a)(this,Object(O.a)(a).call(this,e))).handleToggle=Object(ot.a)(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof(a=t.props.onBeforeOpen)||t.state.open){e.next=4;break}return e.next=4,a();case 4:t.setState({open:!t.state.open});case 5:case"end":return e.stop()}},e)})),t.closeDialog=function(){t.setState({open:!1})},t.renderDemoModeAction=function(){var e=t.props,a=e.classes,n=e.t;return g.a.createElement(Rl,null,g.a.createElement(Ll,null,g.a.createElement(ko.a,{paragraph:!0,variant:"subheading"},n("DEMO_MODE_ACTION_DESCRIPTION"))),g.a.createElement(Dl,null,g.a.createElement("div",null,g.a.createElement(As.a,{onClick:pt,variant:"contained",color:"primary"},n("DEMO_GO_AUTH_BTN"))),g.a.createElement("div",null,g.a.createElement(qo,{className:a.demoImg,allowFullscreen:!1,src:Bl.a,alt:"Demo image"}))))},t.state={open:!1},t}return Object(A.a)(a,t),Object(E.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.open!==t.open||JSON.stringify(this.props)!==JSON.stringify(e)}},{key:"render",value:function(){var t=this,a=this.props,n=a.iconButton,r=a.textButton,i=a.fabButton,s=a.variant,o=(a.fabVariant,a.color),c=a.size,l=a.mini,u=a.classes,d=a.t,p=a.btnLabelArgs,m=a.disabled,v=a.className,f=a.icon,b=a.title,E=a.dialogActions,y=a.onClick,O=Object(Ns.a)(a,["iconButton","textButton","fabButton","variant","fabVariant","color","size","mini","classes","t","btnLabelArgs","disabled","className","icon","title","dialogActions","onClick"]),A=As.a,w={color:o,size:c,mini:l,variant:s};n?A=ps.a:r?A=Fl:i&&(A=Jo.a);var T=d(this.props.btnLabel,{args:p||[""]}),I=mt(),C=this.state.open;return g.a.createElement(h.Fragment,null,g.a.createElement(A,Object.assign({disabled:m,"aria-label":T,label:T,onClick:function(){t.handleToggle(),y&&y()}},w,{className:gs()(v,Object(Le.a)({},u.floating,!!i),Object(Le.a)({},u.first,"first"===o),Object(Le.a)({},u.second,"second"===o))}),f&&g.a.createElement(Fs.a,{className:gs()(Object(Le.a)({},u.btnIconLeft,!n))}," ",f),!n&&T),g.a.createElement(Os.a,{open:C,onClose:this.handleToggle,TransitionComponent:Wl,classes:{paper:u.dialog}},g.a.createElement(Cs.a,{disableTypography:!0},g.a.createElement(ko.a,{variant:"subtitle1",classes:{root:gs()(u.dialogTitle,u.breakLong)}},d(b),g.a.createElement(ps.a,{onClick:this.handleToggle},g.a.createElement(Fo.a,null)))),g.a.createElement(Ts.a,{classes:{root:u.content}},I?this.renderDemoModeAction():g.a.createElement(e,Object.assign({},O,{closeDialog:this.closeDialog}))),E&&g.a.createElement(ws.a,null,E)))}}]),a}(h.Component);return xs(Object(vs.a)(Nl)(t))}var Vl=a(158),Hl=a.n(Vl),zl=a(493),Zl=a.n(zl);function Yl(e){var t=function(t){function a(e){var t;return Object(b.a)(this,a),(t=Object(y.a)(this,Object(O.a)(a).call(this,e))).handleChange=function(e,a,n){t.props.actions.updateNewItem(t.props.newItem,n||Object(Le.a)({},e,a),"AdUnit",fe.AdUnit)},t.onSave=function(){var e=t.props.closeDialog;e&&e()},t.save=function(){var e=t.props,a=e.actions,n=e.newItem,r=e.account,i=e.addTo;n.owner=r.wallet.address,a.addItem(n,i,r.wallet.authSig),t.onSave(),a.resetNewItem("AdUnit")},t.cancel=function(){t.onSave(),t.props.actions.resetNewItem("AdUnit")},t.save=t.save.bind(Object(ys.a)(t)),t.state={active:!1,saved:!1},t}return Object(A.a)(a,t),Object(E.a)(a,[{key:"render",value:function(){var t=this.props,a=(t.classes,Object(Ns.a)(t,["classes"]));return g.a.createElement(e,Object.assign({},a,{save:this.save,handleChange:this.handleChange,cancel:this.cancel}))}}]),a}(h.Component);return Object(T.c)(function(e,t){var a=e.persist,n=e.memory;return{account:a.account,newItem:new fe.AdUnit(n.newItem.AdUnit)}},function(e){return{actions:Object(I.b)(es,e)}})(t)}var Jl=a(1107),Kl=a(1086),Xl=a(116),ql=a.n(Xl),Ql=fe.schemas.adUnitPost,$l=fe.constants.AdUnitsTypes.map(function(e){return{value:e,label:e.split("_")[1]}}),eu=xs(Yl(function(e){function t(e){var a;Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).validateAndUpdateType=function(e,t){var n=fe.Joi.validate(t,Ql.type);a.props.handleChange("type",t),a.props.validate("type",{isValid:!n.error,err:{msg:n.error?n.error.message:""},dirty:e})};var n=e.newItem;return a.validateTitle(n.title,!1),a.validateDescription(n.description,!1),a.validateTargetUrl(n.targetUrl,!1),a.validateAndUpdateType(!1,n.type),a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidUpdate",value:function(e){e.newItem.title===this.props.newItem.title&&e.newItem.type===this.props.newItem.type&&e.newItem.temp.addUtmLink===this.props.newItem.temp.addUtmLink||this.addUtmParameters()}},{key:"validateTitle",value:function(e,t,a){var n=fe.Joi.validate(e,Ql.title);this.props.validate("title",{isValid:!n.error,err:{msg:n.error?n.error.message:""},dirty:t})}},{key:"validateDescription",value:function(e,t,a){var n=fe.Joi.validate(e,Ql.description);this.props.validate("description",{isValid:!n.error,err:{msg:n.error?n.error.message:""},dirty:t})}},{key:"validateTargetUrl",value:function(e,t){var a=fe.Joi.validate(e,Ql.targetUrl);this.props.validate("targetUrl",{isValid:!a.error,err:{msg:a.error?a.error.message:""},dirty:t}),a.error||this.addUtmParameters(e)}},{key:"addUtmParameters",value:function(){var e=this.props,t=e.handleChange,a=e.newItem,n=a.targetUrl,r=a.title,i=a.type,s=a.temp.addUtmLink;n&&t("targetUrl",function(e){var t=e.targetUrl,a=e.campaign,n=e.content,r=e.removeFromUrl;if(t){var i=ql.a.parse(t,!0);if(i.search=null,i.protocol&&i.host){var s={};if(r){for(var o=0,c=Object.entries(i.query);o<c.length;o++){var l=c[o],u=Object(st.a)(l,2),d=u[0],p=u[1];je[d]!==p&&(s[d]=p)}i.query=s}else{var m=Object(x.a)({},je,i.query);a&&(m.utm_campaign=a),n&&(m.utm_content=n),i.query=m}return ql.a.format(i)}}return t}({targetUrl:n,campaign:r,content:i,removeFromUrl:!s}))}},{key:"handleChangeAddUtmLink",value:function(e){var t=this.props.newItem.temp,a=Object(x.a)({},t);a.addUtmLink=e.target.checked,this.props.handleChange("temp",a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.newItem,r=t.invalidFields,i=t.handleChange,s=n.targetUrl,o=n.type,c=n.title,l=n.description,u=n.temp.addUtmLink,d=r.title,p=r.description,m=r.targetUrl;return g.a.createElement("div",null,g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,sm:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"text",required:!0,label:a("title",{isProp:!0}),name:"name",value:c,onChange:function(e){return i("title",e.target.value)},onBlur:function(){return e.validateTitle(c,!0)},onFocus:function(){return e.validateTitle(c,!1)},error:d&&!!d.dirty,maxLength:120,helperText:d&&d.dirty?d.errMsg:a("TITLE_HELPER")})),g.a.createElement(Po.a,{item:!0,sm:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"text",multiline:!0,rows:3,label:a("description",{isProp:!0}),value:l,onChange:function(e){return i("description",e.target.value)},onBlur:function(){e.validateDescription(l,!0)},onFocus:function(){return e.validateDescription(l,!1)},error:p&&!!p.dirty,maxLength:300,helperText:p&&p.dirty?p.errMsg:a("DESCRIPTION_HELPER")})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"text",required:!0,label:a("targetUrl",{isProp:!0}),value:s,onChange:function(e){return i("targetUrl",e.target.value)},onBlur:function(){return e.validateTargetUrl(s,!0)},onFocus:function(){return e.validateTargetUrl(s,!1)},error:m&&!!m.dirty,helperText:m&&m.dirty?m.errMsg:""})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Kl.a,{control:g.a.createElement(dl.a,{checked:u,onChange:function(t){return e.handleChangeAddUtmLink(t)},value:"checkedB",color:"primary"}),label:a("ADD_UTM_LINK")})),g.a.createElement(Po.a,{item:!0,sm:12,md:12},g.a.createElement(Gc,{fullWidth:!0,required:!0,onChange:this.validateAndUpdateType.bind(this,!0),source:$l,value:o+"",label:a("adType",{isProp:!0}),htmlId:"ad-type-dd",name:"adType"}))))}}]),t}(h.Component))),tu=function(e){if(!(e=e||"legacy_300x100"))return{width:0,height:0};var t=e.split("_")[1].split("x");return{width:parseInt(t[0],10),height:parseInt(t[1],10)}},au=xs(Yl(pc(function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).handleImgChange=function(e,t){var n=a.props,r=n.newItem;(0,n.handleChange)(e,Object(x.a)({},r.temp,t))},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.newItem,a=e.validate,n=t.type,r=t.temp,i=r.tempUrl,s=tu(n),o=s.width,c=s.height;i?a("temp",{isValid:r.width===o&&r.height===c,err:{msg:"ERR_IMG_SIZE_EXACT",args:[o,c,"px"]},dirty:!0}):a("temp",{isValid:!1,err:{msg:"ERR_REQUIRED_FIELD"},dirty:!1})}},{key:"render",value:function(){var e=this.props,t=e.newItem,a=e.t,n=e.validateMedia,r=t.type,i=t.temp,s=this.props.invalidFields.temp,o=tu(r),c=o.width,l=o.height;return g.a.createElement("div",null,g.a.createElement(Po.a,{container:!0},g.a.createElement(Po.a,{item:!0,sm:12},g.a.createElement(dc,{label:a("UNIT_BANNER_IMG_LABEL"),imgSrc:i.tempUrl||"",mime:i.mime||"",onChange:n.bind(this,{propsName:"temp",widthTarget:c,heightTarget:l,msg:"ERR_IMG_SIZE_EXACT",exact:!0,required:!0,onChange:this.handleImgChange}),additionalInfo:a("UNIT_BANNER_IMG_INFO",{args:[c,l,"px"]}),errMsg:s?s.errMsg:"",size:{width:c,height:l}}))))}}]),t}(h.Component)))),nu=a(1115),ru=a(485),iu=a.n(ru),su=a(258),ou=function(e){var t=e.InputProps,a=e.classes,n=e.ref,r=Object(Ns.a)(e,["InputProps","classes","ref"]);return g.a.createElement(Jl.a,Object.assign({InputProps:Object(x.a)({inputRef:n,classes:{root:a.inputRoot}},t)},r))},cu=function(e){var t=e.suggestion,a=e.index,n=e.style,r=e.itemProps,i=e.highlightedIndex,s=e.selectedItem,o=e.showSelected,c=i===a,l=((s||{}).value||s||"").indexOf(t.value)>-1;return!o&&l?null:g.a.createElement("div",{style:n},g.a.createElement(Ps.a,Object.assign({button:!0},r,{key:t.value||t.label,selected:c,component:"div",style:{fontWeight:l?500:400}}),g.a.createElement(Us.a,{primary:t.label})))},lu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return e?(e=e.toLowerCase().trim(),(t=t.filter(function(t){return!e||-1!==t.label.toLowerCase().trim().indexOf(e)})).map(function(e){return e.value}).includes(e)||!a||n&&!n(e)||t.push(function(e){return{label:"".concat(We("CREATE_TAG_LABEL"),' "').concat(e.toLowerCase().trim(),'"'),value:e.toLowerCase().trim()}}(e)),t):t},uu=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).handleKeyDown=function(e){var t=a.state,n=t.inputValue,r=t.selectedItem;if(r.length&&!n.length&&"backspace"===iu()(e)){var i=r.slice(0,r.length-1);a.setState({selectedItem:i}),a.props.onChange(i)}},a.handleInputChange=function(e){var t=e.target.value.toLowerCase();a.setState({inputValue:t})},a.handleChange=function(e){var t=a.state.selectedItem;-1===t.indexOf(e.value)&&(t=[].concat(Object(De.a)(t),[e.value])),a.setState({inputValue:"",selectedItem:t}),a.props.onChange(t)},a.handleDelete=function(e){return function(){var t=Object(De.a)(a.state.selectedItem);t.splice(t.indexOf(e),1),a.setState({selectedItem:t}),a.props.onChange(t)}},a.state={inputValue:"",selectedItem:e.value||[]},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.source,r=t.label,i=t.id,s=t.placeholder,o=t.helperText,c=t.openOnClick,l=t.allowCreate,u=t.validateCreation,d=this.state,p=d.inputValue,m=d.selectedItem,h=Object.keys(n).map(function(e){return{value:e,label:n[e]}});return g.a.createElement(su.a,{inputValue:p,onChange:this.handleChange,selectedItem:m,itemToString:function(e){return e.label}},function(t){var d=t.getInputProps,p=t.getItemProps,v=t.isOpen,f=t.inputValue,b=t.selectedItem,E=t.highlightedIndex,y=t.toggleMenu;return g.a.createElement("div",{className:a.container},ou({fullWidth:!0,classes:a,helperText:o,label:r,InputProps:d({startAdornment:m.map(function(t){return g.a.createElement(jc.a,{key:t,tabIndex:-1,label:n[t],className:a.chip,onDelete:e.handleDelete(t)})}),onChange:e.handleInputChange,onKeyDown:e.handleKeyDown,placeholder:s,id:i,onClick:function(){return c&&y()}})}),v?g.a.createElement(xc.a,{className:a.paper,square:!0},"//TODO: use FixedSizeList!",lu(f,h,l,u).map(function(e,t){return cu({suggestion:e,index:t,itemProps:p({item:e}),highlightedIndex:E,selectedItem:b})})):null)})}}]),t}(g.a.Component),du=a(512),pu=a(486),mu=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).handleChange=function(e){var t=e?e.value||e.label:e;a.props.onChange(t)},a.handleInputChange=function(e){a.state.inputValue!==e&&a.setState({inputValue:e})},a.props.onInit(),a.state={inputValue:""},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.source,r=t.error,i=t.label,s=t.id,o=t.placeholder,c=t.helperText,l=t.errorText,u=t.showSelected,d=t.value,p=t.openOnClick,m=t.allowCreate,h=t.validateCreation,v=n,f=lu(this.state.inputValue,v,m,h);return g.a.createElement(su.a,{onChange:this.handleChange,itemToString:function(e){return(e||{}).label||e||""},selectedItem:d},function(t){var n=t.getInputProps,d=t.getItemProps,m=t.isOpen,h=t.inputValue,v=t.selectedItem,b=t.highlightedIndex,E=t.clearSelection,y=t.toggleMenu;return e.handleInputChange(h),g.a.createElement("div",{className:a.container},ou({label:i,value:h,fullWidth:!0,classes:a,helperText:c,InputProps:n({id:s,onClick:function(){p&&(E(),y())},error:r,placeholder:o})}),m&&f.length>0?g.a.createElement(xc.a,{className:a.paper,square:!0},g.a.createElement(pu.a,null,function(e){var t=e.height,n=e.width;return g.a.createElement(du.a,{className:a.paper,height:t,width:n,itemSize:46,itemCount:f.length},function(e){var t=e.index,a=e.style;return cu({suggestion:f[t],index:t,style:a,itemProps:d({item:f[t]}),highlightedIndex:b,selectedItem:v,showSelected:u})})})):null,r&&g.a.createElement(kc.a,{error:!0,id:"component-error-text"},l))})}}]),t}(g.a.Component);var hu=Object(vs.a)(function(e){return{root:{flexGrow:1,height:250},container:{flexGrow:1,position:"relative"},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0,overflow:"hidden",height:150,width:"100%"},chip:{margin:"".concat(e.spacing(1)/2,"px ").concat(e.spacing(1)/2,"px")},inputRoot:{flexWrap:"wrap"}}})(function(e){var t=e.classes,a=e.source,n=e.multiple,r=Object(Ns.a)(e,["classes","source","multiple"]);return g.a.createElement("div",null,n?g.a.createElement(uu,Object.assign({classes:t,source:a},r)):g.a.createElement(mu,Object.assign({classes:t,source:a},r)))}),gu=[{value:5,label:"Low"},{value:50,label:"Medium"},{value:95,label:"High"}],vu=Object.keys(fr).map(function(e){return{value:{key:e,source:e,collection:fr[e].collection,target:{tag:"",score:1},label:We("TARGET_LABEL_".concat(e.toUpperCase())),placeholder:We("TARGET_LABEL_".concat(e.toUpperCase()))},label:We("ADD_NEW_".concat(e.toUpperCase(),"_TARGET"))}}),fu=function(e){function t(e){var a;Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).handleTargetChange=function(e,t,n){var r=Object(De.a)(a.state.targets),i=Object(x.a)({},r[e].target);i[t]=n,r[e]=Object(x.a)({},r[e],{target:i}),a.updateNewItemCollections(r),a.setState({targets:r})},a.newTarget=function(e){var t=Object(De.a)(a.state.targets),n=Object(x.a)({},e);n.key=t.length,n.target=Object(x.a)({},e.target),t.push(n),a.setState({targets:t})},a.removeTarget=function(e){var t=Object(De.a)(a.state.targets);t.splice(e,1),a.updateNewItemCollections(t),a.setState({targets:t}),a.validateAutocomplete({id:"target-".concat(e),isValid:!0,dirty:!1})},a.validateAutocomplete=function(e){var t=e.id,n=e.isValid,r=e.dirty;a.props.validate(t,{isValid:n,err:{msg:"TARGETING_REQUIRED"},dirty:r})},a.targetTag=function(e){var t=e.source,n=e.collection,r=e.placeholder,i=e.label,s=e.index,o=e.target,c=e.t,l=e.classes,u=e.invalidFields,d="target-".concat(s);return g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,xs:12,md:6},g.a.createElement(hu,{id:d,direction:"auto",openOnClick:!0,required:!0,error:u[d]&&u[d].dirty,errorText:u[d]&&u[d].dirty?u[d].errMsg:null,onChange:function(e){a.handleTargetChange(s,"tag",e,n),a.validateAutocomplete({id:d,isValid:e,dirty:!0})},onInit:function(){return a.validateAutocomplete({id:d,isValid:o.tag,dirty:!1})},label:i,placeholder:r,source:t,value:o.tag,suggestionMatch:"anywhere",showSuggestionsWhenValueIsSet:!0,allowCreate:!t.length})),g.a.createElement(Po.a,{item:!0,xs:11,md:5},g.a.createElement("div",null,g.a.createElement(ko.a,{id:"tbaget-score-".concat(s)},c("TARGET_SCORE_LABEL",{args:[o.score]})),g.a.createElement(nu.a,{classes:{root:l.slider,markLabel:l.markLabel},"aria-labelledby":"target-score-".concat(s),min:1,max:100,step:1,valueLabelDisplay:"auto",disabled:!o.tag,value:o.score,marks:gu,onChange:function(e,t){return a.handleTargetChange(s,"score",t,n)}}))),g.a.createElement(Po.a,{item:!0,container:!0,xs:1,md:1,alignItems:"center"},g.a.createElement(ps.a,{onClick:function(){return a.removeTarget(s)}},g.a.createElement(Fo.a,null))))};var n=(e.newItem.temp||{}).targets;return a.state={targets:Object(De.a)(n||[])},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"updateNewItemCollections",value:function(e){var t=this.props,a=t.newItem,n=t.handleChange,r=Object(De.a)(e).reduce(function(e,t){var a=e[t.collection]||[];return t.target.tag&&a.push(t.target),e[t.collection]=a,e},{targeting:[],tags:[]}),i=a.temp,s=Object(x.a)({},i);s.targets=Object(De.a)(e),r.temp=s,n(null,null,r)}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.classes,r=Object(Ns.a)(t,["t","classes"]),i=this.state.targets;return g.a.createElement("div",null,g.a.createElement(Po.a,{container:!0,spacing:1},g.a.createElement(Po.a,{item:!0,sm:12},Object(De.a)(i).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.source,s=t.collection,o=t.label,c=t.placeholder,l=t.target,u=void 0===l?{}:l,d=arguments.length>1?arguments[1]:void 0;return g.a.createElement(e.targetTag,Object.assign({key:d,label:a(o),placeholder:a(c),index:d,source:fr[i].src,collection:s,target:u,t:a,classes:n},r))})),g.a.createElement(Po.a,{item:!0,sm:12},g.a.createElement(Gc,{variant:"filled",fullWidth:!0,onChange:function(t){e.newTarget(Object(x.a)({},t))},source:Object(De.a)(vu),value:"",label:a("NEW_TARGET"),htmlId:"ad-type-dd",name:"adType"}))))}}]),t}(h.Component),bu=xs(Yl(Object(vs.a)({slider:{padding:"22px 0px"},markLabel:{top:"30px"}})(fu))),Eu=a(1087),yu=a(487),Ou=a.n(yu),Au=a(488),wu=a.n(Au),Tu=a(489),Iu=a.n(Tu),Cu=a(490),xu=a.n(Cu),ju={location:Ou.a,gender:wu.a,age:Iu.a},ku=function(e){return e.split("_")[0]||"tags"},Su=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).targetArrayValues=function(e,t,a,n){var r=ju[t]||xu.a;return g.a.createElement("span",{key:e.tag+e.score+n},g.a.createElement(Ps.a,null,g.a.createElement(Ms.a,null,g.a.createElement(r,null)),g.a.createElement(Us.a,{primary:a(e.tag,{isTarget:!0}),secondary:e.score}),g.a.createElement(Qs.a,null,e.score)),g.a.createElement(Bs.a,null))},a.TargetsList=function(e){var t=e.targets,n=void 0===t?[]:t,r=e.subHeader,i=e.t;Object(Ns.a)(e,["targets","subHeader","t"]);return g.a.createElement(Ls.a,{dense:!0,subheader:r?g.a.createElement(Eu.a,{caption:i(r)}):null},n.map(function(e){var t=ku(e.tag);return a.targetArrayValues(e,t,i)}))},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return g.a.createElement(this.TargetsList,this.props)}}]),t}(h.Component),Nu=function(e){return{imgPreview:{maxHeight:225,width:"auto",maxWidth:"100%",height:"auto",boxShadow:e.shadows[2]},imgPreviewWrapper:{height:"max-content"}}},_u=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).save=e.save,a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.account,n=Object(Ns.a)(e,["classes","account"]),r=n.newItem,i=n.t,s=r.type,o=r.title,c=r.description,l=r.temp,u=r.targeting;return g.a.createElement(Rl,null,g.a.createElement(Dl,null,g.a.createElement(_l,{left:i("owner",{isProp:!0}),right:a.wallet.address}),g.a.createElement(_l,{left:i("type",{isProp:!0}),right:s}),g.a.createElement(_l,{left:i("title",{isProp:!0}),right:o}),g.a.createElement(_l,{left:i("description",{isProp:!0}),right:c}),g.a.createElement(_l,{left:i("MEDIA"),right:g.a.createElement(qo,{allowFullscreen:!0,className:t.imgPreview,src:l.tempUrl||"",alt:o,mediaMime:l.mime,allowVideo:!0})}),u&&g.a.createElement(_l,{left:i("targeting",{isProp:!0}),right:g.a.createElement(Su,Object.assign({},n,{targets:u,t:i}))}),g.a.createElement("br",null)))}}]),t}(h.Component);var Ru=Yl(Object(vs.a)(Nu)(_u)),Du=Object(T.c)(function(e){return{account:e.persist.account}})(xs(Ru));function Lu(e){var t=function(t){function a(e){var t;return Object(b.a)(this,a),(t=Object(y.a)(this,Object(O.a)(a).call(this,e))).handleChange=function(e,a,n){t.props.actions.updateNewItem(t.props.newItem,n||Object(Le.a)({},e,a),"Campaign",fe.Campaign)},t.onSave=function(){var e=t.props.closeDialog;e&&e()},t.save=Object(ot.a)(m.a.mark(function e(){var a,n,r,i,s,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props,n=a.actions,r=a.newItem,i=a.account,s=r.temp,(o=Object(x.a)({},s)).waitingAction=!0,t.handleChange("temp",o),e.next=7,n.openCampaign({campaign:r,account:i});case 7:o.waitingAction=!1,t.handleChange("temp",o),t.onSave(),n.resetNewItem("Campaign");case 11:case"end":return e.stop()}},e)})),t.cancel=function(){t.onSave(),t.props.actions.resetNewItem("Campaign")},t.save=t.save.bind(Object(ys.a)(t)),t.state={active:!1,saved:!1},t}return Object(A.a)(a,t),Object(E.a)(a,[{key:"render",value:function(){var t=this.props,a=(t.classes,Object(Ns.a)(t,["classes"]));return g.a.createElement(e,Object.assign({},a,{save:this.save,handleChange:this.handleChange,cancel:this.cancel}))}}]),a}(h.Component);return Object(T.c)(function(e,t){var a=e.persist,n=e.memory,r=a.items.AdUnit||{},i=Array.from(Object.values(r))||[];return{account:a.account,newItem:new fe.Campaign(n.newItem.Campaign),adUnits:r,adUnitsArray:i,spinner:n.spinners["opening-campaign"]}},function(e){return{actions:Object(I.b)(es,e)}})(t)}var Pu=xs(Lu(function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).handleSelect=function(e,t){var n=Object(x.a)({},a.state.selected),r=a.props,i=r.adUnits,s=r.handleChange;t?n[e]=!0:delete n[e],a.setState({selected:n});var o=Object.keys(n).map(function(e){return i[e]});s("adUnits",o),a.validateUnits(o,!0)},a.state={selected:e.newItem.adUnits.reduce(function(e,t){return e[t.ipfs]=!0,e},{})||{}},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.newItem;this.validateUnits(e.adUnits,!0)}},{key:"validateUnits",value:function(e,t){var a=!!e.length;this.props.validate("adUnits",{isValid:a,err:{msg:"ERR_ADUNITS_REQIURED"},dirty:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.adUnitsArray,n=t.t,r=a&&a.length;return g.a.createElement("div",null,g.a.createElement(Po.a,{container:!0,spacing:2,direction:r?null:"column",alignItems:r?null:"center"},g.a.createElement(Po.a,{item:!0,sm:12},g.a.createElement(Dl,null,r?g.a.createElement(Hd,{objModel:fe.AdUnit,selectMode:!0,selectedItems:this.state.selected,onSelect:function(t,a){e.handleSelect(t,a)},items:a,listMode:"rows",itemType:"AdUnit",viewModeId:"newCampaignAdUnits",sortProperties:we,filterProperties:Te,noActions:!0}):g.a.createElement(Po.a,{container:!0,direction:"column",alignItems:"center"},g.a.createElement("p",null,n("ERR_CAMPAIGN_REQUIRES_UNITS")),g.a.createElement(Rd,{variant:"extended",color:"secondary",btnLabel:"NEW_UNIT"}))))))}}]),t}(h.Component))),Mu=a(1089),Uu=a(256),Bu=a(491),Fu=a.n(Bu),Wu=function(e){var t=e.icon,a=void 0===t?g.a.createElement(Fu.a,null):t,n=e.iconColor,r=e.onIconClick;return g.a.createElement(Ic.a,{position:"end"},g.a.createElement(ps.a,{color:n,onClick:r},a))},Gu=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.calendarIcon,a=e.icon,n=e.iconColor,r=e.onIconClick,i=Object(Ns.a)(e,["calendarIcon","icon","iconColor","onIconClick"]);return g.a.createElement(Uu.a,Object.assign({InputProps:{disabled:i.disabled,endAdornment:t?g.a.createElement(Wu,{icon:a,iconColor:n,onIconClick:r}):null}},i))}}]),t}(h.Component),Vu=Gu,Hu=(Object(vs.a)(function(e){return{datepickerContrastInput:{color:e.palette.common.white},datepickerContrastLabel:{color:e.palette.common.white,"&$datepickerContrastLabelFocused":{color:e.palette.common.white}},datepickerContrastLabelFocused:{},datepickerContrastUnderline:{"&:after":{border:"0 !important"},"&:before":{border:"0 !important"}}}})(function(e){var t=e.classes,a=e.calendarIcon,n=e.icon,r=Object(Ns.a)(e,["classes","calendarIcon","icon"]);return g.a.createElement(Gu,Object.assign({InputLabelProps:{classes:{root:t.datepickerContrastLabel},FormLabelClasses:{root:t.datepickerContrastLabel,focused:t.datepickerContrastLabelFocused}},InputProps:{disabled:r.disabled,classes:{root:t.datepickerContrastInput,underline:t.datepickerContrastUnderline},endAdornment:a?g.a.createElement(Wu,{icon:n}):null}},r))}),new Zr.a),zu="https://tom.moonicorn.network",Zu="0x2892f6C41E0718eeeDd49D98D648C789668cA67d",Yu="0",Ju="https://jerry.moonicorn.network",Ku="0xce07CbB7e054514D590a0262C93070D838bFBA2e",Xu="0",qu=[Object(Le.a)({},Zu,{id:Zu,url:zu,fee:Yu}),Object(Le.a)({},Ku,{id:Ku,url:Ju,fee:Xu})],Qu=function(e){var t=e.created,a=void 0===t?Date.now():t,n=e.withdrawPeriodStart,r=e.activeFrom,i=null;return n&&r&&n<=r?i={message:"ERR_END_BEFORE_START",prop:"withdrawPeriodStart"}:n&&n<a?i={message:"ERR_END_BEFORE_NOW",prop:"withdrawPeriodStart"}:r&&r<a?i={message:"ERR_START_BEFORE_NOW",prop:"activeFrom"}:r&&!n?i={message:"ERR_NO_END",prop:"withdrawPeriodStart"}:n||r||(i={message:"ERR_NO_DATE_SET",prop:"withdrawPeriodStart"}),{error:i}},$u=xs(Lu(function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).validateAndUpdateValidator=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=a.props,s=i.handleChange,o=i.newItem,c=i.validate,l=o.validators,u=Object(De.a)(l),d=qu[t][n.id||n];u[t]=d;var p=!!u[0]&&!!u[1]&&!!u[0].id&&!!u[0].url&&!!u[1].id&&!!u[1].url;if(!p)return s("validators",[{id:Zu,url:zu,fee:Yu},{id:Ku,url:Ju,fee:Xu}]),void c("validators",{isValid:!0,err:{msg:"ERR_VALIDATORS"},dirty:e});r&&s("validators",u),c("validators",{isValid:p,err:{msg:"ERR_VALIDATORS"},dirty:e})},a.handleDates=function(e,t,n){var r=a.props,i=r.newItem,s=r.handleChange,o=r.validate,c="withdrawPeriodStart"===e?t:i.withdrawPeriodStart,l="activeFrom"===e?t:i.activeFrom,u=Qu({withdrawPeriodStart:c,activeFrom:l,created:i.created});o("activeFrom",{isValid:!(u.error&&"activeFrom"===u.error.prop),err:{msg:u.error?u.error.message:""},dirty:n}),o("withdrawPeriodStart",{isValid:!(u.error&&"withdrawPeriodStart"===u.error.prop),err:{msg:u.error?u.error.message:""},dirty:n}),t&&s(e,t)},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.newItem;this.validateAndUpdateValidator(!1,0,e.validators[0]),this.validateAndUpdateValidator(!1,1,e.validators[1]),this.validateAmount(e.depositAmount,"depositAmount",!1,"REQUIRED_FIELD"),this.validateAmount(e.minPerImpression,"minPerImpression",!1,"REQUIRED_FIELD"),this.handleDates("activeFrom",e.activeFrom,!1),this.handleDates("withdrawPeriodStart",e.withdrawPeriodStart,!1)}},{key:"validateAmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=fe.validations.isNumberString(e)&&qt.utils.parseUnits(e,18);if(r){var i=this.props,s=i.newItem,o=(i.account.stats.formatted||{}).identityBalanceDai,c=void 0===o?0:o,l="depositAmount"===t?e:s.depositAmount,u="minPerImpression"===t?e:s.minPerImpression,d=function(e){var t=e.maxDeposit,a=void 0===t?0:t,n=e.depositAmount,r=e.minPerImpression,i=parseFloat(a),s=parseFloat(n),o=parseFloat(r),c=null;return s&&s>i&&(c={message:"ERR_INSUFFICIENT_IDENTITY_BALANCE",prop:"depositAmount"}),s&&s<o&&(c={message:"ERR_CPM_OVER_DEPOSIT",prop:"minPerImpression"}),s<=0&&(c={message:"ERR_ZERO_DEPOSIT",prop:"depositAmount"}),o<=0&&(c={message:"ERR_ZERO_CPM",prop:"minPerImpression"}),{error:c}}({maxDeposit:c-or,depositAmount:l,minPerImpression:u});this.props.validate(t,{isValid:!d.error,err:{msg:d.error?d.error.message:""},dirty:a})}else this.props.validate(t,{isValid:r,err:{msg:n||"ERR_INVALID_AMOUNT"},dirty:a})}},{key:"render",value:function(){var e=this,t=this.props,a=t.handleChange,n=t.newItem,r=t.t,i=t.invalidFields,s=t.account,o=n.validators,c=n.depositAmount,l=n.minPerImpression,u=n.activeFrom,d=n.withdrawPeriodStart,p=n.minTargetingScore,m=(s.stats.formatted||{}).identityBalanceDai,h=void 0===m?0:m,v=u||void 0,f=d||void 0,b=Hu.date().valueOf(),E=i.depositAmount,y=i.minPerImpression,O=i.activeFrom,A=i.withdrawPeriodStart,w=E||y?"":function(e){var t=e.depositAmount,a=e.minPerImpression,n=e.t,r=parseFloat(t),i=parseFloat(a);return r?i?n("TOTAL_IMPRESSIONS",{args:[qt.utils.commify(Math.floor(r/i*1e3))]}):n("CPM_NOT_SET"):n("DEPOSIT_NOT_SET")}({depositAmount:c,minPerImpression:l,t:r}),T=o[0]||{},I=o[1]||{};return g.a.createElement("div",null,g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,sm:12,md:6},g.a.createElement(Cc.a,{fullWidth:!0,disabled:!0},g.a.createElement(Tc.a,{htmlFor:"leader-validator"},r("ADV_PLATFORM_VALIDATOR")),g.a.createElement(wc.a,{id:"leader-validator",value:T.url||""}),g.a.createElement(kc.a,null,T.id))),g.a.createElement(Po.a,{item:!0,sm:12,md:6},g.a.createElement(Cc.a,{fullWidth:!0,disabled:!0},g.a.createElement(Tc.a,{htmlFor:"follower-validator"},r("PUB_PLATFORM_VALIDATOR")),g.a.createElement(wc.a,{id:"follower-validator",value:I.url||""}),g.a.createElement(kc.a,null,I.id))),g.a.createElement(Po.a,{item:!0,sm:12,md:6},g.a.createElement(Jl.a,{fullWidth:!0,type:"text",required:!0,label:r("DEPOSIT_AMOUNT_LABEL",{args:[(h-or).toFixed(2),"DAI",or,"DAI"]}),name:"depositAmount",value:c,onChange:function(t){e.validateAmount(t.target.value,"depositAmount",!0),a("depositAmount",t.target.value)},error:E&&!!E.dirty,maxLength:120,helperText:E&&E.dirty?E.errMsg:r("DEPOSIT_AMOUNT_HELPER_TXT",{args:[or,"DAI"]})})),g.a.createElement(Po.a,{item:!0,sm:12,md:6},g.a.createElement(Jl.a,{fullWidth:!0,type:"text",required:!0,label:r("CPM_LABEL",{args:[w]}),name:"minPerImpression",value:l,onChange:function(t){e.validateAmount(t.target.value,"minPerImpression",!0),a("minPerImpression",t.target.value)},error:y&&!!y.dirty,maxLength:120,helperText:y&&y.dirty?y.errMsg:r("CPM_HELPER_TXT")})),g.a.createElement(Po.a,{item:!0,sm:12,md:6},g.a.createElement(Vu,{emptyLabel:r("SET_CAMPAIGN_START"),disablePast:!0,fullWidth:!0,calendarIcon:!0,label:r("CAMPAIGN_STARTS"),minDate:b,maxDate:f,onChange:function(t){e.handleDates("activeFrom",t.valueOf(),!0)},value:v||null,error:O&&!!O.dirty,helperText:O&&O.dirty?O.errMsg:r("CAMPAIGN_STARTS_FROM_HELPER_TXT")})),g.a.createElement(Po.a,{item:!0,sm:12,md:6},g.a.createElement(Vu,{emptyLabel:r("SET_CAMPAIGN_END"),disablePast:!0,fullWidth:!0,calendarIcon:!0,label:r("CAMPAIGN_ENDS"),minDate:v||b,onChange:function(t){return e.handleDates("withdrawPeriodStart",t.valueOf(),!0)},value:f||null,error:A&&!!A.dirty,helperText:A&&A.dirty?A.errMsg:r("CAMPAIGN_ENDS_HELPER_TXT")})),g.a.createElement(Po.a,{item:!0,sm:12,md:6},g.a.createElement(Mu.a,{row:!0},g.a.createElement(Kl.a,{control:g.a.createElement(dl.a,{checked:!!p,onChange:function(e){return a("minTargetingScore",e.target.checked?1:null)},value:"minTargetingScore"}),label:r("CAMPAIGN_MIN_TARGETING")})))))}}]),t}(h.Component))),ed=function(e){var t=e.t,a="";switch(e.authType){case Ie.METAMASK.name:a="METAMASK_WAITING_ACTION";break;case Ie.TREZOR.name:a="TREZOR_WAITING_ACTION";break;case Ie.LEDGER.name:a="LEDGER_WAITING_ACTION";break;default:a="WAITING_FOR_USER_ACTION"}return g.a.createElement(Pl,{msg:t(a)})},td=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).AdUnitsTable=function(e){var t=e.items;return g.a.createElement(Po.a,{item:!0,sm:12},g.a.createElement(Dl,null,g.a.createElement(Hd,{objModel:fe.AdUnit,items:t,listMode:!0,itemType:"AdUnit",noControls:!0,size:"small",noActions:!0,sortProperties:[],viewModeId:"newCampaignAdUnitsPreview"})))},a.save=e.save,a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.account,a=e.newItem,n=e.t,r=a.adUnits,i=a.validators,s=a.depositAmount,o=a.minPerImpression,c=a.withdrawPeriodStart,l=a.activeFrom,u=a.minTargetingScore;return g.a.createElement(Rl,null,a.temp.waitingAction?g.a.createElement(Ll,null,g.a.createElement(ed,{t:n,authType:t.wallet.authType})):null,g.a.createElement(Dl,null,g.a.createElement(_l,{left:n("owner",{isProp:!0}),right:t.identity.address}),g.a.createElement(_l,{left:n("adUnits",{isProp:!0}),right:g.a.createElement(this.AdUnitsTable,{items:r})}),g.a.createElement(_l,{left:n("validators",{isProp:!0}),right:g.a.createElement("div",null,i.map(function(e){return g.a.createElement("div",{key:e.id},"".concat(e.url," - ").concat(e.id))}))}),g.a.createElement(_l,{left:n("depositAmount",{isProp:!0}),right:s+" DAI"}),g.a.createElement(_l,{left:n("CPM",{isProp:!0}),right:o+" DAI"}),g.a.createElement(_l,{left:n("activeFrom",{isProp:!0}),right:Jr(l)}),g.a.createElement(_l,{left:n("withdrawPeriodStart",{isProp:!0}),right:Jr(c)}),u&&g.a.createElement(_l,{right:n("CAMPAIGN_MIN_TARGETING")}),g.a.createElement("br",null)))}}]),t}(h.Component);var ad=Lu(Object(vs.a)(Nu)(td)),nd=Object(T.c)(function(e){return{account:e.persist.account}})(xs(ad));function rd(e){var t=function(t){function a(e){var t;return Object(b.a)(this,a),(t=Object(y.a)(this,Object(O.a)(a).call(this,e))).handleChange=function(e,a,n){t.props.actions.updateNewItem(t.props.newItem,n||Object(Le.a)({},e,a),"AdSlot",fe.AdSlot)},t.onSave=function(){var e=t.props.closeDialog;e&&e()},t.save=function(){var e=t.props,a=e.actions,n=e.newItem,r=e.account;n.owner=r.wallet.address,a.addSlot(n,"AdSlot",r.wallet.authSig),t.onSave(),a.resetNewItem("AdSlot")},t.cancel=function(){t.onSave(),t.props.actions.resetNewItem("AdSlot")},t.save=t.save.bind(Object(ys.a)(t)),t.state={active:!1,saved:!1},t}return Object(A.a)(a,t),Object(E.a)(a,[{key:"render",value:function(){var t=this.props,a=(t.classes,Object(Ns.a)(t,["classes"]));return g.a.createElement(e,Object.assign({},a,{save:this.save,handleChange:this.handleChange,cancel:this.cancel}))}}]),a}(h.Component);return Object(T.c)(function(e,t){var a=e.persist,n=e.memory;return{account:a.account,newItem:new fe.AdSlot(n.newItem.AdSlot)}},function(e){return{actions:Object(I.b)(es,e)}})(t)}var id=fe.schemas.adSlotPost,sd=fe.constants.AdUnitsTypes.map(function(e){return{value:e,label:e.split("_")[1]}}),od=xs(rd(function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).validateAndUpdateType=function(e,t){var n=fe.Joi.validate(t,id.type);a.props.handleChange("type",t),a.props.validate("type",{isValid:!n.error,err:{msg:n.error?n.error.message:""},dirty:e})},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.newItem;this.validateTitle(e.title,!1),this.validateDescription(e.description,!1),this.validateAndUpdateType(!1,e.type)}},{key:"validateTitle",value:function(e,t,a){var n=fe.Joi.validate(e,id.title);this.props.validate("title",{isValid:!n.error,err:{msg:n.error?n.error.message:""},dirty:t})}},{key:"validateDescription",value:function(e,t,a){var n=fe.Joi.validate(e,id.description);this.props.validate("description",{isValid:!n.error,err:{msg:n.error?n.error.message:""},dirty:t})}},{key:"validateAmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=fe.validations.isNumberString(e)&&qt.utils.parseUnits(e,18);this.props.validate(t,{isValid:r,err:{msg:n||"ERR_INVALID_AMOUNT"},dirty:a})}},{key:"updateMinPerImpression",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.newItem.temp,a=Object(x.a)({},t);a.minPerImpression=e,this.props.handleChange("temp",a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.newItem,r=t.invalidFields,i=t.handleChange,s=n.type,o=n.title,c=n.description,l=n.temp.minPerImpression,u=r.title,d=r.description,p=r.minPerImpression;return g.a.createElement("div",null,g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,sm:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"text",required:!0,label:"Ad Slot "+a("title",{isProp:!0}),name:"name",value:o,onChange:function(e){return i("title",e.target.value)},onBlur:function(){return e.validateTitle(o,!0)},onFocus:function(){return e.validateTitle(o,!1)},error:u&&!!u.dirty,maxLength:120,helperText:u&&u.dirty?u.errMsg:a("TITLE_HELPER")})),g.a.createElement(Po.a,{item:!0,sm:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"text",multiline:!0,rows:3,label:a("description",{isProp:!0}),value:c,onChange:function(e){return i("description",e.target.value)},onBlur:function(){return e.validateDescription(c,!0)},onFocus:function(){return e.validateDescription(c,!1)},error:d&&!!d.dirty,maxLength:300,helperText:d&&d.dirty?d.errMsg:a("DESCRIPTION_HELPER")})),g.a.createElement(Po.a,{item:!0,sm:12,md:12},g.a.createElement(Gc,{fullWidth:!0,required:!0,onChange:this.validateAndUpdateType.bind(this,!0),source:sd,value:s+"",label:a("adType",{isProp:!0}),htmlId:"ad-type-dd",name:"adType"})),g.a.createElement(Po.a,{item:!0,sm:12,md:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"text",required:!0,label:a("MIN_CPM_SLOT_LABEL",{args:["DAI"]}),name:"minPerImpression",value:l,onChange:function(t){e.validateAmount(t.target.value,"minPerImpression",!0),e.updateMinPerImpression(t.target.value)},error:p&&!!p.dirty,maxLength:120,helperText:p&&p.dirty?p.errMsg:a("SLOT_MIN_CPM_HELPER")}))))}}]),t}(h.Component))),cd=a(1090),ld=fe.schemas.adUnitPost,ud=function(e){if(!(e=e||"legacy_300x250"))return{width:0,height:0};var t=e.split("_")[1].split("x");return{width:parseInt(t[0],10),height:parseInt(t[1],10)}},dd=xs(rd(pc(function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).validateImage=function(e){var t=a.props,n=t.newItem,r=t.validate,i=n.type,s=n.temp,o=s.tempUrl,c=ud(i),l=c.width,u=c.height;r("temp",{isValid:!e||o&&s.width===l&&s.height===u,err:{msg:"ERR_IMG_SIZE_EXACT",args:[l,u,"px"]},dirty:!0})},a.validateFallbackUrl=function(e,t,n){var r=fe.Joi.validate(e,ld.targetUrl);a.props.validate("targetUrl",{isValid:!n||!r.error,err:{msg:r.error?r.error.message:""},dirty:t})},a.handleFallbackChange=function(e){var t=a.props.newItem,n=t.temp,r=t.targetUrl,i=Object(x.a)({},n);i.useFallback=e,a.props.handleChange("temp",i),a.validateFallbackUrl(r,null,e),a.validateImage(e)},a.handleImgChange=function(e,t){var n=a.props,r=n.newItem;(0,n.handleChange)(e,Object(x.a)({},r.temp,t))},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.newItem,t=e.temp,a=e.targetUrl,n=t.useFallback;n&&(this.validateImage(n),this.validateFallbackUrl(a,!0,n))}},{key:"render",value:function(){var e=this,t=this.props,a=t.newItem,n=t.t,r=t.validateMedia,i=t.invalidFields,s=t.handleChange,o=a.targetUrl,c=a.type,l=a.temp,u=l.useFallback||!1,d=this.props.invalidFields.temp,p=i.targetUrl,m=ud(c),h=m.width,v=m.height;return g.a.createElement("div",null,g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Kl.a,{control:g.a.createElement(qs.a,{checked:u,onChange:function(t){return e.handleFallbackChange(t.target.checked)}}),label:n("USE_FALLBACK_DATA")}),g.a.createElement(kc.a,null,n("USE_FALLBACK_DATA_INFO"))),g.a.createElement(cd.a,{in:u},g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"text",required:!0,label:n("targetUrl",{isProp:!0}),value:o,onChange:function(e){return s("targetUrl",e.target.value)},onBlur:function(){return e.validateFallbackUrl(o,!0,u)},onFocus:function(){return e.validateFallbackUrl(o,!1,u)},error:p&&!!p.dirty,helperText:p&&p.dirty?p.errMsg:n("FALLBACKTARGETURL_HELPER")})),g.a.createElement(Po.a,{item:!0,sm:12},g.a.createElement(dc,{label:n("SLOT_FALLBACK_MEDIA_LABEL"),imgSrc:l.tempUrl||"",onChange:r.bind(this,{propsName:"temp",widthTarget:h,heightTarget:v,msg:"ERR_IMG_SIZE_EXACT",exact:!0,required:!0,onChange:this.handleImgChange}),additionalInfo:n("SLOT_FALLBACK_MEDIA_INFO",{args:[h,v,"px"]}),errMsg:d?d.errMsg:"",size:{width:h,height:v}}))))))}}]),t}(h.Component)))),pd={tags:{src:fe.constants.PredefinedTags.map(function(e){return{label:e._id,value:e._id}}),collection:"tags"},custom:{src:[],collection:"tags"}},md=[{value:5,label:"Low"},{value:50,label:"Medium"},{value:95,label:"High"}],hd=Object.keys(pd).map(function(e){return{value:{key:e,source:e,collection:pd[e].collection,target:{tag:"",score:1},label:We("TARGET_LABEL_".concat(e.toUpperCase())),placeholder:We("TARGET_LABEL_".concat(e.toUpperCase()))},label:We("ADD_NEW_".concat(e.toUpperCase(),"_TARGET"))}}),gd=function(e){function t(e){var a;Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).handleTargetChange=function(e,t,n){var r=Object(De.a)(a.state.targets),i=Object(x.a)({},r[e].target);i[t]=n,r[e]=Object(x.a)({},r[e],{target:i}),a.updateNewItemCollections(r),a.setState({targets:r})},a.newTarget=function(e){var t=Object(De.a)(a.state.targets),n=Object(x.a)({},e);n.key=t.length,n.target=Object(x.a)({},e.target),t.push(n),a.setState({targets:t})},a.removeTarget=function(e){var t=Object(De.a)(a.state.targets);t.splice(e,1),a.updateNewItemCollections(t),a.setState({targets:t}),a.validateAutocomplete({id:"target-".concat(e),isValid:!0,dirty:!1})},a.validateAutocomplete=function(e){var t=e.id,n=e.isValid,r=e.dirty;a.props.validate(t,{isValid:n,err:{msg:"TARGETING_REQUIRED"},dirty:r})},a.targetTag=function(e){var t=e.source,n=e.collection,r=e.placeholder,i=e.label,s=e.index,o=e.target,c=e.t,l=e.classes,u=e.invalidFields,d="target-".concat(s);return g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,xs:12,md:6},g.a.createElement(hu,{id:d,direction:"auto",openOnClick:!0,required:!0,error:u[d]&&u[d].dirty,errorText:u[d]&&u[d].dirty?u[d].errMsg:null,onChange:function(e){a.handleTargetChange(s,"tag",e,n),a.validateAutocomplete({id:d,isValid:e,dirty:!0})},onInit:function(){return a.validateAutocomplete({id:d,isValid:o.tag,dirty:!1})},label:i,placeholder:r,source:t,value:o.tag,suggestionMatch:"anywhere",showSuggestionsWhenValueIsSet:!0,allowCreate:!t.length})),g.a.createElement(Po.a,{item:!0,xs:11,md:5},g.a.createElement("div",null,g.a.createElement(ko.a,{id:"target-score-".concat(s)},c("TARGET_SCORE_LABEL",{args:[o.score]})),g.a.createElement(nu.a,{classes:{root:l.slider,markLabel:l.markLabel},"aria-labelledby":"target-score-".concat(s),min:1,max:100,step:1,valueLabelDisplay:"auto",disabled:!o.tag,value:o.score,marks:md,onChange:function(e,t){return a.handleTargetChange(s,"score",t,n)}}))),g.a.createElement(Po.a,{item:!0,container:!0,xs:1,md:1,alignItems:"center"},g.a.createElement(ps.a,{onClick:function(){return a.removeTarget(s)}},g.a.createElement(Fo.a,null))))};var n=(e.newItem.temp||{}).targets;return a.state={targets:n||[]},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"updateNewItemCollections",value:function(e){var t=Object(De.a)(e).reduce(function(e,t){var a=e[t.collection]||[];return t.target.tag&&a.push(t.target),e[t.collection]=a,e},{targeting:[],tags:[]}),a=this.props.newItem.temp,n=Object(x.a)({},a);n.targets=Object(De.a)(e),t.temp=n,this.props.handleChange(null,null,t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.classes,r=Object(Ns.a)(t,["t","classes"]),i=this.state.targets;return g.a.createElement("div",null,g.a.createElement(Po.a,{container:!0,spacing:1},g.a.createElement(Po.a,{item:!0,sm:12},Object(De.a)(i).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.source,s=t.collection,o=t.label,c=t.placeholder,l=t.target,u=void 0===l?{}:l,d=arguments.length>1?arguments[1]:void 0;return g.a.createElement(e.targetTag,Object.assign({key:d,label:a(o),placeholder:a(c),index:d,source:pd[i].src,collection:s,target:u,t:a,classes:n},r))})),g.a.createElement(Po.a,{item:!0,sm:12},g.a.createElement(Gc,{variant:"filled",fullWidth:!0,onChange:function(t){e.newTarget(Object(x.a)({},t))},source:Object(De.a)(hd),value:"",label:a("NEW_TARGET"),htmlId:"ad-type-dd",name:"adType"}))))}}]),t}(h.Component),vd=xs(rd(Object(vs.a)({slider:{padding:"22px 0px"},markLabel:{top:"30px"}})(gd))),fd=function(e){var t=e.img,a=e.targetUrl,n=e.t,r=e.classes;return g.a.createElement("div",null,g.a.createElement(_l,{left:n("SLOT_FALLBACK_IMG_LABEL"),right:g.a.createElement(qo,{allowFullscreen:!0,classes:{img:r.imgPreview,wrapper:r.imgPreviewWrapper},src:t.tempUrl||"",alt:a,mediaMime:t.mime,allowVideo:!0})}),g.a.createElement(_l,{left:n("fallbackAdUrl",{isProp:!0}),right:g.a.createElement(Ks,{href:a,target:"_blank"},a)}))},bd=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).save=e.save,a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.account,n=Object(Ns.a)(e,["classes","account"]),r=n.newItem,i=n.t,s=r.type,o=r.title,c=r.description,l=r.temp,u=r.tags,d=r.targetUrl,p=l.minPerImpression;return g.a.createElement(Rl,null,g.a.createElement(Dl,null,g.a.createElement(_l,{left:i("owner",{isProp:!0}),right:a.wallet.address}),g.a.createElement(_l,{left:i("type",{isProp:!0}),right:s}),g.a.createElement(_l,{left:i("title",{isProp:!0}),right:o}),g.a.createElement(_l,{left:i("description",{isProp:!0}),right:c}),g.a.createElement(_l,{left:i("MIN_CPM_SLOT_LABEL"),right:p+" DAI"}),l.useFallback&&g.a.createElement(fd,{img:l,targetUrl:d,t:i,classes:t}),g.a.createElement("br",null),u&&g.a.createElement(_l,{left:i("tags",{isProp:!0}),right:g.a.createElement(Su,Object.assign({},n,{targets:u,t:i}))})))}}]),t}(h.Component);var Ed=rd(Object(vs.a)(Nu)(bd)),yd=Object(T.c)(function(e){return{account:e.persist.account}})(xs(Ed)),Od=a(253),Ad=a.n(Od),wd=function(e){e.newItem;var t=e.t,a=e.save;Object(Ns.a)(e,["newItem","t","save"]);return g.a.createElement(As.a,{color:"primary",onClick:a},g.a.createElement(oc.a,{style:{marginRight:8}}),t("SAVE"))},Td=Yl(wd),Id=Lu(function(e){var t=e.saveBtnLabel,a=e.saveBtnIcon,n=e.newItem,r=e.t,i=e.save;Object(Ns.a)(e,["saveBtnLabel","saveBtnIcon","newItem","t","save"]);return g.a.createElement(As.a,{color:"primary",onClick:i,disabled:n.temp.waitingAction},n.temp.waitingAction?g.a.createElement(Ad.a,null):a||g.a.createElement(oc.a,{style:{marginRight:8}}),r(t||"OPEN_CAMPAIGN"))}),Cd=rd(wd),xd=function(e){var t=Object(gl.a)({},e);return g.a.createElement(As.a,{onClick:t.cancel},t.t("CANCEL"))},jd=Yl(xd),kd=Lu(xd),Sd=rd(xd),Nd={darkerBackground:!0,icon:g.a.createElement(Zl.a,null)},_d=Gl(function(e){return g.a.createElement(xl,Object.assign({},e,{SaveBtn:Td,CancelBtn:jd,validateIdBase:"new-AdUnit-",itemType:"AdUnit",stepsId:"new-adunit-",stepsPages:[{title:"UNIT_BASIC_STEP",page:eu},{title:"UNIT_MEDIA_STEP",page:au},{title:"UNIT_TARGETS_STEP",page:bu}],stepsPreviewPage:{title:"PREVIEW_AND_SAVE_ITEM",page:Du},imgLabel:"UNIT_BANNER_IMG_LABEL",noDefaultImg:!0,itemModel:fe.AdUnit}))}),Rd=function(e){return g.a.createElement(_d,Object.assign({},e,Nd,{btnLabel:"NEW_UNIT",title:"CREATE_NEW_UNIT"}))},Dd={darkerBackground:!0,icon:g.a.createElement(Hl.a,null)},Ld=function(e){return g.a.createElement(_d,Object.assign({},e,Dd,{title:"CLONE_AD_UNIT"}))},Pd=Gl(function(e){return g.a.createElement(xl,Object.assign({},e,{SaveBtn:Id,CancelBtn:kd,validateIdBase:"new-Campaign-",itemType:"Campaign",stepsId:"new-campaign-",stepsPages:[{title:"CAMPAIGN_UNITS_STEP",page:Pu},{title:"CAMPAIGN_FINANCE_STEP",page:$u}],stepsPreviewPage:{title:"PREVIEW_AND_SAVE_ITEM",page:nd},itemModel:fe.Campaign,imgAdditionalInfo:"CAMPAIGN_IMG_ADDITIONAL_INFO"}))}),Md=function(e){return g.a.createElement(Pd,Object.assign({},e,Nd,{btnLabel:"NEW_CAMPAIGN",title:"CREATE_NEW_CAMPAIGN"}))},Ud=Gl(function(e){return g.a.createElement(xl,Object.assign({},e,{SaveBtn:Cd,CancelBtn:Sd,validateIdBase:"new-AdUnit-",itemType:"AdSlot",stepsId:"new-slot-",stepsPages:[{title:"SLOT_BASIC_STEP",page:od},{title:"SLOT_PASSBACK_STEP",page:dd},{title:"SLOT_TAGS_STEP",page:vd}],stepsPreviewPage:{title:"PREVIEW_AND_SAVE_ITEM",page:yd},imgLabel:"SLOT_AVATAR_IMG_LABEL",imgAdditionalInfo:"SLOT_AVATAR_IMG_INFO",descriptionHelperTxt:"SLOT_DESCRIPTION_HELPER",itemModel:fe.AdSlot}))}),Bd=function(e){return g.a.createElement(Ud,Object.assign({},e,Nd,{btnLabel:"NEW_SLOT",title:"CREATE_NEW_SLOT"}))},Fd=function(e){var t=e.children,a=Object(Ns.a)(e,["children"]);return g.a.createElement(ol.a,a,!!t&&t)},Wd=Gs(Fd),Gd=Gs(As.a),Vd=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).renderTableHead=function(e){e.selected;var t=a.props,n=t.t,r=t.selectedItems,i=t.selectMode,s=t.noActions;return g.a.createElement(cl.a,null,g.a.createElement(ll.a,null,i&&g.a.createElement(Fd,null,Object.keys(r).length||""),g.a.createElement(Fd,null," ",n("PROP_MEDIA")),g.a.createElement(Fd,null," ",n("PROP_TITLE")," "),g.a.createElement(Fd,null," ",n("PROP_TYPE")," "),g.a.createElement(Fd,null," ",n("PROP_CREATED")," "),!s&&g.a.createElement(Fd,null," ",n("ACTIONS")," ")))},a.renderCampaignTableHead=function(e){e.selected;var t=a.props,n=t.t,r=t.selectedItems,i=t.selectMode,s=t.noActions;return g.a.createElement(cl.a,null,g.a.createElement(ll.a,null,i&&g.a.createElement(Fd,null,Object.keys(r).length||""),g.a.createElement(Fd,null," ",n("PROP_MEDIA")),g.a.createElement(Fd,null," ",n("PROP_STATUS")," "),g.a.createElement(Fd,null," ",n("PROP_DEPOSIT")," "),g.a.createElement(Fd,null," ",n("PROP_DISTRIBUTED",{args:["%"]})," "),g.a.createElement(Fd,null," ",n("PROP_CPM")," "),g.a.createElement(Fd,null,n("PROP_STARTS"),"/ ",g.a.createElement("br",null),n("PROP_ENDS")),!s&&g.a.createElement(Fd,null," ",n("ACTIONS")," ")))},a.renderTableRow=function(e,t,n){var r=n.to,i=(n.selected,a.props),s=i.classes,o=i.selectMode,c=i.selectedItems,l=i.onSelect,u=i.noActions;return g.a.createElement(ll.a,{key:e.ipfs||t,selected:c[e.ipfs]},o&&g.a.createElement(Fd,{padding:"checkbox"},g.a.createElement(dl.a,{checked:!!c[e.ipfs],onChange:function(t){l(e.ipfs,t.target.checked)}})),g.a.createElement(Fd,null,g.a.createElement(qo,{fullScreenOnClick:!0,className:gs()(s.cellImg),src:e.mediaUrl||e.fallbackMediaiUrl||"",alt:e.title})),g.a.createElement(Wd,{to:r},e.title),g.a.createElement(Fd,null," ",e.type," "),g.a.createElement(Fd,null," ",Jr(e.created)," "),!u&&a.renderActions({item:e,to:r}))},a.renderCampaignTableRow=function(e,t,n){var r=n.to,i=(n.selected,a.props),s=i.selectMode,o=i.selectedItems,c=i.onSelect,l=i.noActions,u=i.classes,d=e.status||{};return g.a.createElement(ll.a,{key:e.ipfs||t,selected:o[e.ipfs]},s&&g.a.createElement(Fd,{padding:"checkbox"},g.a.createElement(dl.a,{checked:!!o[e.ipfs],onChange:function(t){c(e.ipfs,t.target.checked)}})),g.a.createElement(Fd,null,g.a.createElement(qo,{fullScreenOnClick:!0,className:gs()(u.cellImg),src:e.mediaUrl||e.adUnits&&e.adUnits[0].mediaUrl||"",alt:e.title})),g.a.createElement(Fd,null," ",d.name," "),g.a.createElement(Fd,null," ",Kr(e.depositAmount,18,!0)," DAI"," "),g.a.createElement(Fd,null," ",((d.fundsDistributedRatio||0)/10).toFixed(2)),g.a.createElement(Fd,null,Kr(Object(jt.bigNumberify)(e.minPerImpression).mul(1e3),18,!0)," ","DAI"),g.a.createElement(Fd,null,Jr(e.activeFrom)," ",g.a.createElement("br",null),Jr(e.withdrawPeriodStart)),!l&&a.renderActions({item:e,to:r}))},a.renderActions=function(e){var t=e.item,n=e.to,r=a.props,i=r.t,s=r.account,o=r.actions,c=(r.authSig,r.itemType);t.title,i(c,{isProp:!0}),s.wallet.address;return g.a.createElement(Fd,null,g.a.createElement(ul.a,{title:i("LABEL_VIEW"),enterDelay:1e3},g.a.createElement(Gd,{to:n,variant:"contained",color:"primary"},i("LABEL_VIEW"))),"AdUnit"===c?g.a.createElement(ul.a,{title:i("TOOLTIP_CLONE"),enterDelay:1e3},g.a.createElement("span",null,g.a.createElement(Ld,{onBeforeOpen:function(){return o.cloneItem({item:t,itemType:c,objModel:fe.AdUnit})},iconButton:!0}))):null)},a.renderRows=function(e){var t=a.props,n=t.itemType,r=t.side,i=t.padding;return g.a.createElement(hl,{padding:i,side:r,rows:e,itemType:n,rowRenderer:"Campaign"===n?a.renderCampaignTableRow:a.renderTableRow,tableHeadRenderer:"Campaign"===n?a.renderCampaignTableHead:a.renderTableHead})},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.items,a=e.viewModeId,n=(e.side,e.noControls),r=(e.classes,Object(Ns.a)(e,["items","viewModeId","side","noControls","classes"]));return n?this.renderRows(t):g.a.createElement(sl,Object.assign({},r,{items:t,viewModeId:a,archive:!0,renderRows:this.renderRows}))}}]),t}(h.Component);var Hd=Object(T.c)(function(e,t){var a=e.persist,n=e.memory;return{account:a.account,side:n.nav.side,selectedItems:t.selectedItems||{}}},function(e){return{actions:Object(I.b)(es,e)}})(xs(Object(vs.a)(function(){return{cellImg:{width:"auto",height:"auto",maxHeight:70,maxWidth:180,cursor:"pointer"}}})(Vd))),zd=a(1094),Zd=a(1096),Yd=a(1095),Jd=function(e){var t=e.spacing(1);return{card:{marginRight:t,marginBottom:t,width:320,display:"block",position:"relative",maxWidth:"100%","@media(max-width:380px)":{margin:0,marginBottom:t}},mediaRoot:{height:0,paddingTop:"56.25%",position:"relative",overflow:"hidden"},img:{position:"absolute",top:0,bottom:0,left:0,right:0,margin:"auto",height:"auto",maxWidth:"100%",width:"auto",maxHeight:"100%"},basicInfo:{display:"flex",flexDirection:"row",alignItems:"start",flexWrap:"wrap"},buttonRight:{marginLeft:t},error:{color:e.palette.error.main},label:{marginBottom:t,color:e.palette.text.hint},editIcon:{position:"absolute",marginTop:"calc(56.25% - ".concat(40+t,"px)"),top:0,right:t}}},Kd=aa.DAI,Xd=mc(function(e){var t=e.item,a=e.t,n=(e.rightComponent,e.url,e.classes),r=(e.canEditImg,e.isDemo,e.activeFields),i=e.setActiveFields,s=e.validate,o=e.invalidFields,c=(e.toggleFallbackImgEdit,e.handleChange),l=Object(Ns.a)(e,["item","t","rightComponent","url","classes","canEditImg","isDemo","activeFields","setActiveFields","validate","invalidFields","toggleFallbackImgEdit","handleChange"]),u=o.fallbackAdUrl;return g.a.createElement(zd.a,{className:n.card,raised:!1},g.a.createElement(Yd.a,{classes:{root:n.mediaRoot},src:""},g.a.createElement(qo,{allowFullscreen:!0,className:n.img,src:t.fallbackMediaUrl,alt:t.fallbackTargetUrl,style:{cursor:"pointer"}})),g.a.createElement(Zd.a,null,r.fallbackTargetUrl?g.a.createElement(Jl.a,{autoFocus:!0,type:"text",label:a("fallbackTargetUrl",{isProp:!0}),value:t.fallbackTargetUrl||"",onChange:function(e){return c("fallbackTargetUrl",e.target.value)},onBlur:function(){i("fallbackTargetUrl",!1),s("fallbackTargetUrl",{isValid:!t.fallbackTargetUrl||Fi(t.fallbackTargetUrl),err:{msg:"ERR_INVALID_URL"},dirty:!0})},onFocus:function(){return l.validate("fallbackTargetUrl",{isValid:!t.fallbackTargetUrl||Fi(t.fallbackTargetUrl),err:{msg:"ERR_INVALID_URL"},dirty:!1})},error:u&&u.dirty?g.a.createElement("span",null," ",u.errMsg," "):null,helperText:u&&u.dirty?null:g.a.createElement("div",null,a("SLOT_FALLBACK_AD_URL_DESCRIPTION"))}):g.a.createElement("div",null,g.a.createElement("div",null,t.fallbackTargetUrl?g.a.createElement(Ks,{href:t.fallbackTargetUrl,target:"_blank"},t.fallbackTargetUrl):g.a.createElement("span",{style:{opacity:.3}}," ",a("NO_FALLBACK_URL_YET"))),u&&u.dirty?g.a.createElement("div",null,g.a.createElement("span",{className:n.error}," ",u.errMsg," ")):null)))}),qd=mc(function(e){var t=e.item,a=e.t,n=(e.rightComponent,e.url,e.classes),r=(e.canEditImg,e.isDemo),i=e.activeFields,s=e.setActiveFields,o=e.validate,c=e.invalidFields,l=(e.toggleFallbackImgEdit,e.handleChange),u=(Object(Ns.a)(e,["item","t","rightComponent","url","classes","canEditImg","isDemo","activeFields","setActiveFields","validate","invalidFields","toggleFallbackImgEdit","handleChange"]),c.minPerImpression),d=Kr(Object(jt.bigNumberify)((t.minPerImpression||{})[Kd.address]||"0").mul(1e3),18,!0),p=void 0!==t.temp.minPerImpression?t.temp.minPerImpression:d;return g.a.createElement(Cc.a,{fullWidth:!0,className:n.textField,margin:"dense",error:!!u},g.a.createElement(Tc.a,null,a("MIN_CPM_SLOT_LABEL",{args:["DAI"]})),g.a.createElement(wc.a,{fullWidth:!0,autoFocus:!0,type:"text",name:"minPerImpression",value:p||"",onChange:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;(arguments.length>4?arguments[4]:void 0)(t,{isValid:fe.validations.isNumberString(e)&&qt.utils.parseUnits(e,18),err:{msg:n||"ERR_INVALID_AMOUNT"},dirty:a})}(e.target.value,"minPerImpression",!0,"",o),l("temp",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.prop,a=void 0===t?"":t,n=e.value,r=void 0===n?"":n,i=e.item,s=(void 0===i?{}:i).temp,o=Object(x.a)({},s);return o[a]=r,o}({prop:"minPerImpression",value:e.target.value,item:t}))},maxLength:1024,onBlur:function(e){s("minPerImpression",!1)},disabled:!i.minPerImpression,endAdornment:g.a.createElement(Ic.a,{position:"end"},g.a.createElement(ps.a,{disabled:i.minPerImpression||r,color:"secondary",className:n.buttonRight,onClick:function(e){return s("minPerImpression",!0)}},g.a.createElement(Uo.a,null)))}),g.a.createElement(kc.a,null,u&&u.errMsg?a(u.errMsg,{args:u.errMsgArgs}):a("SLOT_MIN_CPM_HELPER")))}),Qd=function(e){var t=e.classes,a=e.mediaUrl,n=e.mediaMime,r=e.title,i=e.canEditImg,s=e.toggleImgEdit,o=e.url;return g.a.createElement(zd.a,{className:t.card,raised:!1},g.a.createElement(Yd.a,{classes:{root:t.mediaRoot}},g.a.createElement(qo,{allowFullscreen:!0,src:a,alt:r,className:t.img,mediaMime:n,allowVideo:!0})),i&&g.a.createElement(As.a,{variant:"fab",mini:!0,color:"secondary",onClick:s,className:t.editIcon},g.a.createElement(Uo.a,null)),o&&g.a.createElement(Zd.a,null,g.a.createElement(Ks,{href:o,target:"_blank"},o)))},$d=Object(vs.a)(Jd)(function(e){var t=e.item,a=e.t,n=e.rightComponent,r=e.url,i=e.classes,s=e.canEditImg,o=e.itemType,c=e.activeFields,l=Object(Ns.a)(e,["item","t","rightComponent","url","classes","canEditImg","itemType","activeFields"]),u=t.mediaUrl,d=t.mediaMime;return g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,xs:12,sm:12,md:12,lg:7},g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,xs:12,sm:5,md:5,lg:5},"AdSlot"===o?g.a.createElement(Xd,Object.assign({validateId:t._id,item:t,t:a,url:r,classes:i,canEditImg:s,activeFields:c},l)):g.a.createElement(Qd,{classes:i,mediaUrl:u,mediaMime:d,title:t.title,canEditImg:s,toggleImgEdit:l.toggleImgEdit,url:r})),g.a.createElement(Po.a,{item:!0,xs:12,sm:7,md:7,lg:7},g.a.createElement(Po.a,{container:!0,spacing:1},"AdSlot"===o&&g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(qd,Object.assign({validateId:t._id,item:t,t:a,url:r,classes:i,canEditImg:s,activeFields:c},l))),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{value:t.type,label:a("type",{isProp:!0}),disabled:!0,margin:"dense",fullWidth:!0})),Array.isArray(t.tags)&&g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{value:t.tags.map(function(e){return'"'.concat(e.tag,"(").concat(e.score,')"')}).join(",\n"),label:a("tags",{isProp:!0})+" (".concat(t.tags.length,")"),disabled:!0,margin:"dense",multiline:!0,fullWidth:!0,rows:7})))))),g.a.createElement(Po.a,{item:!0,xs:12,sm:12,md:12,lg:5},n))}),ep=Object(vs.a)(Jd)(function(e){var t=e.item,a=e.t,n=e.rightComponent,r=e.url,i=e.classes,s=e.canEditImg,o=(e.itemType,Object(Ns.a)(e,["item","t","rightComponent","url","classes","canEditImg","itemType"])),c=t.mediaUrl,l=t.status||{};return g.a.createElement("div",null,g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,xs:12,sm:12,md:12,lg:8},g.a.createElement("div",null,g.a.createElement("div",{className:i.basicInfo},g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,xs:12,sm:5,md:5,lg:5},g.a.createElement(Qd,{classes:i,mediaUrl:c,title:t.title,canEditImg:s,toggleImgEdit:o.toggleImgEdit,url:r})),g.a.createElement(Po.a,{item:!0,xs:12,sm:7,md:7,lg:7},g.a.createElement(Po.a,{container:!0,spacing:1},g.a.createElement(Po.a,{item:!0,xs:12,sm:12,md:6},g.a.createElement(Po.a,{container:!0,spacing:1},g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{value:t.id,label:a("id",{isProp:!0}),disabled:!0,margin:"dense",fullWidth:!0})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{value:Jr(t.created),label:a("created",{isProp:!0}),disabled:!0,margin:"dense",fullWidth:!0})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{value:Jr(t.activeFrom),label:a("activeFrom",{isProp:!0}),disabled:!0,margin:"dense",fullWidth:!0})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{value:Jr(t.withdrawPeriodStart),label:a("withdrawPeriodStart",{isProp:!0}),disabled:!0,margin:"dense",fullWidth:!0})))),g.a.createElement(Po.a,{item:!0,xs:12,sm:12,md:6},g.a.createElement(Po.a,{container:!0,spacing:1},g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{value:l.name,label:a("status",{isProp:!0}),disabled:!0,margin:"dense",fullWidth:!0})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{value:((l.fundsDistributedRatio||0)/10).toFixed(2),label:a("PROP_DISTRIBUTED",{args:["%"]}),disabled:!0,margin:"dense",fullWidth:!0})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{value:Kr(t.depositAmount,18)+" DAI",label:a("depositAmount",{isProp:!0}),disabled:!0,margin:"dense",fullWidth:!0})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{value:Kr(Object(jt.bigNumberify)(t.minPerImpression).mul(1e3),18,!0)+" DAI",label:a("CPM",{isProp:!0}),disabled:!0,margin:"dense",fullWidth:!0}))))))))),g.a.createElement("br",null)),g.a.createElement(Po.a,{item:!0,xs:12,sm:12,md:12,lg:4},n)))}),tp=a(1104),ap=a(1088),np="campaignRowsView",rp=function(e){function t(e,a){var n;return Object(b.a)(this,t),(n=Object(y.a)(this,Object(O.a)(t).call(this,e,a))).componentDidMount=function(){n.props.actions.updateCampaignState({campaign:n.props.item})},n.handleTabChange=function(e,t){n.setState({tabIndex:t})},n.CampaignActions=function(e){var t=e.campaign,a=e.actions,n=e.t;return g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(As.a,{color:"secondary",onClick:function(){return a.closeCampaign({campaign:t})}},n("BTN_CLOSE_CAMPAIGN"))))},n.state={tabIndex:0,statistics:{}},n}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.item,n=e.actions,r=this.state.tabIndex,i=a.spec.adUnits,s=new fe.Campaign(a),o=s.state&&s.state.lastApproved?s.state.lastApproved.newState.msg.balances:{},c=(s.status||{}).name;return g.a.createElement("div",null,g.a.createElement(ep,{item:s,t:t,rightComponent:("Ready"===c||"Active"===c||"Unhealthy"===c)&&g.a.createElement(this.CampaignActions,{campaign:s,t:t,actions:n})}),g.a.createElement("div",null,g.a.createElement(xo.a,{position:"static",color:"default"},g.a.createElement(tp.a,{value:r,onChange:this.handleTabChange,scrollable:!0,scrollButtons:"off",indicatorColor:"primary",textColor:"primary"},g.a.createElement(ap.a,{label:t("STATE")}),g.a.createElement(ap.a,{label:t("CAMPAIGN_UNITS")}))),g.a.createElement("div",{style:{marginTop:10}},0===r&&g.a.createElement(Ls.a,{subheader:g.a.createElement(Eu.a,{component:"div"},t("BALANCES"))},Object.keys(o).map(function(e){return g.a.createElement(Ps.a,{key:e},g.a.createElement(Us.a,{primary:Kr(o[e])+" DAI",secondary:e}))})),1===r&&g.a.createElement(Hd,{removeFromItem:!0,items:i,viewModeId:np,itemType:"AdUnit",objModel:fe.AdUnit,sortProperties:we,filterProperties:Te,uiStateId:"campaign-units"}))))}}]),t}(h.Component);var ip=Bc(Object(vs.a)(function(e){var t=e.spacing(1);return{flex:{flex:1},appBar:{marginTop:2*t,marginBottom:t},datepicker:{margin:t,marginLeft:0}}})(rp)),sp=Object(T.c)(function(e){var t=e.persist;return{account:t.account,units:t.items.AdUnit,rowsView:!!t.ui[np],objModel:fe.Campaign,itemType:"Campaign"}},function(e){return{actions:Object(I.b)(es,e)}})(xs(ip)),op=a(103),cp=a(496),lp=a.n(cp),up=["#00BAFF","#7EDBFF","#FF9FA8","#14DC9C","#61FFB2","#ABFFE5"],dp={responsive:!0,tooltips:{mode:"label",cornerRadius:2,backgroundColor:ut.hexToRgbaColorString("#616161",.9)}};lp()(op.d,{global:dp});var pp=function(e){return{legendList:{listStyle:"none",paddingLeft:0},legendSpan:{width:"40px",minHeight:"13px",float:"left",margin:"0px 8px"},legendListItem:{height:"20px",fontSize:"12px",marginLeft:"8px",color:"#666",fontFamily:"'Roboto', 'Arial', sans-serif",cursor:"pointer"},chartParent:{height:"auto",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},chartLabel:{margin:"0 auto","@media(min-width:650px) and (max-width:1279px)":{margin:"auto"}},chartContainer:{margin:"0 auto","@media(min-width:650px) and (max-width:1279px)":{margin:"auto"}},chartTitle:{textAlign:"center",color:"#666",fontFamily:"'Roboto', 'Arial', sans-serif",flexBasis:"100%"}}},mp=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).componentWillUpdate=function(e,t){JSON.stringify(e.pieData)!==JSON.stringify(a.props.pieData)&&a.forceUpdate()},a.doughnut=g.a.createRef(),a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this.props.pieData||{},t=this.props.options||{},a=this.props.onPieClick,n=this.props.classes,r=Object(x.a)({cutoutPercentage:70,legend:{display:!1},legendCallback:function(e){return g.a.createElement(vp,{chart:e})},tooltips:{callbacks:{label:function(t,a){var n=(a.labels[t.index]||"").split(" [")[0];n+=": ";var r=a.datasets[t.datasetIndex].data[t.index];return n+=r,n+=" ("+(r/e.totalCount*100).toFixed(2)+"%)",n}}},maintainAspectRatio:!1},t),i={labels:e.labels||[],datasets:[{backgroundColor:up,hoverBackgroundColor:up,borderWidth:0,data:e.data||[]}]};return g.a.createElement("div",{className:n.chartParent},g.a.createElement("h3",{className:n.chartTitle},this.props.chartTitle),g.a.createElement("div",{className:n.chartLabel},this.doughnut.current?this.doughnut.current.chartInstance.generateLegend():null),g.a.createElement("div",{className:n.chartContainer},g.a.createElement(op.b,{width:250,height:150,ref:this.doughnut,data:i,options:r,getElementAtEvent:function(e){a(e[0])}})))}}]),t}(g.a.Component),hp=Object(vs.a)(pp)(mp),gp=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(E.a)(t,[{key:"toggleChartItem",value:function(e,t){var a=this.props.chart;a.legend.options.onClick.call(a,e,a.legend.legendItems[t])}},{key:"toggleLabelCross",value:function(e){"line-through"===e.style.textDecoration?e.style.textDecoration="none":e.style.textDecoration="line-through"}},{key:"render",value:function(){var e=this,t=this.props,a=t.chart,n=t.classes;return g.a.createElement("div",null,g.a.createElement("ul",{className:n.legendList},a.data.datasets[0].data.map(function(t,r){return g.a.createElement("li",{key:r,className:n.legendListItem,onClick:function(t){e.toggleChartItem(t,r),e.toggleLabelCross(t.currentTarget)}},g.a.createElement("span",{style:{backgroundColor:a.data.datasets[0].backgroundColor[r]},className:n.legendSpan}),a.data.labels[r]?a.data.labels[r]:null)})))}}]),t}(h.Component),vp=Object(vs.a)(pp)(gp),fp=Zs(g.a.createElement("g",null,g.a.createElement("path",{d:"M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z"})),"AdexPublisher","0 0 114 110"),bp=Zs(g.a.createElement("g",null,g.a.createElement("path",{d:"M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z"})),"AdexAdvertiser","0 0 109 94"),Ep=Gs(function(e){var t=e.salePoints,a=void 0===t?[]:t,n=(e.linkTitle,e.icon),r=e.title,i=e.disabled,s=e.classes,o=Object(Ns.a)(e,["salePoints","linkTitle","icon","title","disabled","classes"]);return g.a.createElement("div",Object.assign({},o,{className:gs()(s.sideBox,Object(Le.a)({},s.disabled,i))}),g.a.createElement("div",{className:s.icon},n),g.a.createElement("h2",null,r),g.a.createElement("ul",{className:s.salePoints},a.map(function(e,t){return g.a.createElement("li",{key:t}," ",e," ")})))}),yp=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.classes;return g.a.createElement(Os.a,{open:!0,classes:{paper:a.dialogPaper},BackdropProps:{classes:{root:a.backdrop}},fullWidth:!0,maxWidth:"sm"},g.a.createElement(Cs.a,null,t("CHOOSE_SIDE")),g.a.createElement(Ts.a,null,g.a.createElement(Ep,{classes:a,title:t("ADVERTISER"),icon:g.a.createElement(bp,{style:{width:110,height:110},color:"primary"}),salePoints:[t("SALE_POINT_ADV_1"),t("SALE_POINT_ADV_2"),t("SALE_POINT_ADV_3")],to:"/dashboard/advertiser",linkTitle:t("GO_ADVERTISER")}),g.a.createElement(Ep,{classes:a,title:t("PUBLISHER"),icon:g.a.createElement(fp,{style:{width:110,height:110},color:"primary"}),salePoints:[t("SALE_POINT_PUB_1"),t("SALE_POINT_PUB_2"),t("SALE_POINT_PUB_3")],to:"/dashboard/publisher",linkTitle:t("GO_PUBLISHER")})))}}]),t}(h.Component),Op=xs(Object(vs.a)(function(){return{backdrop:{backgroundColor:"rgba(255, 255, 255, 0.5)"},sideBox:{display:"inline-block",width:"50%",height:"auto",textAlign:"center",verticalAlign:"top",opacity:.7,"&:hover:not(.disabled)":{cursor:"pointer",opacity:1},"&.disabled":{opacity:.3},"@media(max-width:425px)":{width:"100%"}},icon:{width:110,height:110,margin:"auto"},salePoints:{padding:0,"& li":{display:"block",listStyle:"none"}}}})(yp)),Ap=function(e){var t=e.spacing(1);return{infoStatsContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"stretch",height:"100%"},infoCard:{margin:t,flexGrow:1},linkCard:{"&:hover, &:focus":{cursor:"pointer"}},dashboardCardBody:{margin:t,padding:t,width:"calc(100% - ".concat(2*t,"px)")}}},wp=a(1018),Tp=a(1103),Ip=function(e){var t=e.msg,a=e.className;return g.a.createElement("div",null,g.a.createElement(wp.a,{className:a}),t?g.a.createElement("div",null," ",t," "):null)},Cp=function(e){var t=e.loading,a=e.children;return g.a.createElement(Tp.a,{display:"flex",alignItems:"center"},g.a.createElement(Tp.a,null,a),g.a.createElement(Tp.a,{ml:2,mr:2},t&&g.a.createElement(zo.a,null)))},xp=Object(vs.a)(Ap)(function(e){var t=e.classes,a=e.title,n=e.subtitle,r=e.linkCard,i=e.loading,s=e.children,o=e.onClick;return g.a.createElement(zd.a,{className:gs()(t.infoCard,Object(Le.a)({},t.linkCard,!!r)),onClick:o},g.a.createElement(Cp,{loading:i},g.a.createElement(Zd.a,null,a&&g.a.createElement(ko.a,{variant:"h5",noWrap:!0},a),n&&g.a.createElement(ko.a,{component:"p",noWrap:!0},n),s)))}),jp={fill:!1,lineTension:.3,borderWidth:0,pointRadius:3,pointHitRadius:10},kp=function(e){var t=e.data,a=e.metric,n=e.timeframe;return(t[a][n].aggr||[]).reduce(function(e,t){var n=t.time,r=t.value;return e.labels.push(Jr(n)),e.datasets.push(function(e){var t=e.value;switch(e.metric){case"eventPayouts":return parseFloat(Kr(t,18));case"eventCounts":return parseInt(t,10);default:return t}}({value:r,metric:a})),e},{labels:[],datasets:[]})},Sp=function(e){var t=e.data,a=void 0===t?{}:t,n=e.timeframe,r=void 0===n?"":n,i=e.options,s=void 0===i?{}:i,o=e.t,c=e.xLabel,l=void 0===c?"TIMEFRAME":c,u=e.y1Label,d=void 0===u?"DATA1":u,p=e.y2Label,m=void 0===p?"DATA2":p,v=e.y1Color,f=void 0===v?up[1]:v,b=e.y2Color,E=void 0===b?up[2]:b;Object(h.useEffect)(function(){op.a.pluginService.register({afterDraw:function(e){if(e.tooltip._active&&e.tooltip._active.length){var t=e.controller.tooltip._active[0],a=e.ctx,n=t.tooltipPosition().x,r=e.scales["y-axis-1"].top,i=e.scales["y-axis-1"].bottom;a.save(),a.beginPath(),a.moveTo(n,r),a.lineTo(n,i),a.lineWidth=1,a.setLineDash([1,5]),a.strokeStyle="#C0C0C0",a.stroke(),a.restore()}}})});var y=kp({data:a,metric:"eventPayouts",timeframe:r}),O={labels:y.labels,datasets:[Object(x.a)({},jp,{backgroundColor:ut.hexToRgbaColorString(f,.5),borderColor:ut.hexToRgbaColorString(f,1),label:d,data:y.datasets,yAxisID:"y-axis-1"}),Object(x.a)({},jp,{backgroundColor:ut.hexToRgbaColorString(E,.5),borderColor:ut.hexToRgbaColorString(E,1),label:m,data:kp({data:a,metric:"eventCounts",timeframe:r}).datasets,yAxisID:"y-axis-2"})]},A={responsive:!0,maintainAspectRatio:!1,title:{display:!0,text:s.title},tooltips:{backgroundColor:"black",mode:"index",intersect:!1,callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label,n=a===d?"".concat(e.yLabel," DAI"):e.yLabel;return"".concat(a,": ").concat(n)}}},hover:{mode:"index",intersect:!1},scales:{xAxes:[{display:!0,gridLines:{display:!1},scaleLabel:{display:!0,labelString:o(l||"TIMEFRAME")}}],yAxes:[{gridLines:{display:!0},ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:d},id:"y-axis-1"},{type:"linear",display:!0,position:"right",scaleLabel:{display:!0,labelString:m},id:"y-axis-2",ticks:{beginAtZero:!0,precision:0},gridLines:{drawOnChartArea:!1}}]}};return g.a.createElement(op.c,{height:500,data:O,options:A})},Np=_e.map(function(e){var t=Object(x.a)({},e);return t.label=We(e.label),t}),_p={publisher:[{label:We("LABEL_REVENUE"),value:"eventPayouts",color:up[3]},{label:We("LABEL_IMPRESSIONS"),value:"eventCounts",color:up[1]}],advertiser:[{label:We("LABEL_SPEND"),value:"eventPayouts",color:up[2]},{label:We("LABEL_IMPRESSIONS"),value:"eventCounts",color:up[1]}]};function Rp(e){var t=e.analytics,a=e.side,n=e.t,r=Object(h.useState)(Np[0].value),i=Object(st.a)(r,2),s=i[0],o=i[1],c=t[a]||{};return g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,xs:12,sm:6,md:3},g.a.createElement(Gc,{fullWidth:!0,label:n("SELECT_TIMEFRAME"),onChange:function(e){return o(e)},source:Np,value:s,htmlId:"timeframe-select"})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Sp,{data:c.IMPRESSION,timeframe:s,options:{title:n(Np.find(function(e){return e.value===s}).label)},y1Label:_p[a][0].label,y1Color:_p[a][0].color,y2Label:_p[a][1].label,y2Color:_p[a][1].color,eventType:"IMPRESSION",t:n})))}var Dp=be.exchange.BidStatesLabels,Lp=be.exchange.BID_STATES,Pp=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).goToAccount=function(){nt(Object(dt.d)("/dashboard/"+a.props.side+"/account"))},a.handleTabChange=function(e){a.setState({tabIndex:e})},a.mapBidsToStats=function(e,t){return e.reduce(function(e,t){return e.count+=1,e.amount+=parseInt(t._amount,10),e},{amount:0,count:0})},a.mapClosedBidsToStats=function(e){return e.reduce(function(e,t){switch(t._state){case Lp.Canceled.id:e.canceled.count+=1,e.canceled.amount+=parseInt(t._amount,10);break;case Lp.Expired.id:e.expired.count+=1,e.expired.amount+=parseInt(t._amount,10);break;case Lp.Completed.id:e.completed.count+=1,e.completed.amount+=parseInt(t._amount,10)}return e},{completed:{amount:0,count:0},canceled:{amount:0,count:0},expired:{amount:0,count:0}})},a.getLabel=function(e,t,n){return a.props.t(Dp[e])+(n||"")+" ["+t+"]"},a.mapData=function(e){var t=e.action,n=void 0===t?[]:t,r=e.active,i=void 0===r?[]:r,s=e.closed,o=void 0===s?[]:s,c=e.open,l=void 0===c?[]:c,u=[],d=[],p=[],m=[],h=0,g={};g.action=a.mapBidsToStats(n);var v=g.action.count;u.push(a.getLabel(Lp.Accepted.id,v," ("+a.props.t("BIDS_READY_TO_VERIFY")+")")),d.push(v),p.push(g.action.amount),h+=v,m.push("action"),g.active=a.mapBidsToStats(i);var f=g.active.count;u.push(a.getLabel(Lp.Accepted.id,f," ("+a.props.t("BIDS_ACTIVE")+")")),d.push(f),p.push(g.active.amount),h+=f,m.push("active"),g.open=a.mapBidsToStats(l);var b=g.open.count;u.push(a.getLabel(Lp.DoesNotExist.id,b)),d.push(b),p.push(g.open.amount),h+=b,m.push("open"),g.closed=a.mapClosedBidsToStats(o);var E=g.closed.completed.count;u.push(a.getLabel(Lp.Completed.id,E)),d.push(E),p.push(g.closed.completed.amount),h+=E,m.push("closed");var y=g.closed.canceled.count;u.push(a.getLabel(Lp.Canceled.id,y)),d.push(y),p.push(g.closed.canceled.amount),h+=y,m.push("closed");var O=g.closed.expired.count;return u.push(a.getLabel(Lp.Expired.id,O)),d.push(O),p.push(g.closed.expired.amount),h+=O,m.push("closed"),g.pieData={labels:u,data:d,totalCount:h},g.tabs=m,g},a.BidsStateChart=function(e){var t=e.stats,n=a.props.t;return g.a.createElement("div",null,g.a.createElement(hp,{pieData:t.pieData,t:n,chartTitle:n("TITLE_STATS_BY_BID_STATUS"),onPieClick:function(e){e&&!isNaN(e._index)&&a.goToBids(t.tabs[e._index])}}))},a.InfoStats=function(e){e.stats;var t=a.props,n=t.t,r=t.account.stats.formatted||{},i=r.identityBalanceDai,s=r.outstandingBalanceDai,o=r.totalIdentityBalanceDai,c=a.props.classes;return g.a.createElement("div",{className:c.infoStatsContainer},g.a.createElement(xp,{linkCard:!0,onClick:a.goToAccount,subtitle:n("IDENTITY_DAI_BALANCE_AVAILABLE_INFO",{args:[i||0,s||0]}),loading:!i&&0!==i||!s&&0!==s||!o&&0!==o,title:"".concat(o||0," DAI")}))},a.state={bidsData:[],bidsStats:{}},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.actions.updateNav("navTitle",this.props.t("DASHBOARD"))}},{key:"render",value:function(){var e=this.props,t=e.side,a=e.classes,n=e.t,r=e.analytics;return"advertiser"!==t&&"publisher"!==t?g.a.createElement(Op,{active:!0}):g.a.createElement("div",null,g.a.createElement(Po.a,{container:!0},g.a.createElement(Po.a,{item:!0,md:12,lg:12,xs:12},g.a.createElement(zd.a,{className:gs()(a.dashboardCardBody)},g.a.createElement(Zd.a,null,r?g.a.createElement(Rp,{side:t,analytics:r,t:n}):n("NO_STATS_YET")))),g.a.createElement(Po.a,{item:!0,md:12,lg:6},g.a.createElement(this.InfoStats,null))))}}]),t}(h.Component);var Mp=Object(T.c)(function(e,t){var a=e.persist,n=e.memory;return{account:a.account,side:n.nav.side,analytics:a.analytics}},function(e){return{actions:Object(I.b)(es,e)}})(Object(vs.a)(Ap)(xs(Pp)));var Up=Bc(function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={closeDialog:!1},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.t,n=Object(Ns.a)(e,["item","t"]);return t?g.a.createElement("div",null,g.a.createElement($d,{item:t,t:a,url:t.adUrl,rightComponent:g.a.createElement(Su,Object.assign({},n,{targets:t.targeting,t:a,subHeader:!0}))})):g.a.createElement("h1",null,"Unit '404'")}}]),t}(h.Component)),Bp=Object(T.c)(function(e,t){return{objModel:fe.AdUnit,itemType:"AdUnit"}},function(e){return{actions:Object(I.b)(es,e)}})(xs(Up)),Fp=a(254),Wp=a.n(Fp),Gp="https://viewm.moonicorn.network/#",Vp=ql.a.parse(Gp),Hp="".concat(Vp.protocol,"//").concat(Vp.host),zp="window.addEventListener('message', function(ev) { \n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('".concat(Hp,"' === ev.origin)) {\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\n\t\t\t\tif (f.contentWindow === ev.source) {\n\t\t\t\t\tf.height = ev.data.adexHeight;\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t}, false)"),Zp=aa.DAI,Yp=function(e){var t=e.t,a=e.account,n=e.slot,r=void 0===n?{}:n,i=e.classes,s=e.onCopy,o=r.id,c=r.type,l=r.tags,u=r.fallbackUnit,d=a.identity.address,p=c.split("_")[1].split("x");p={width:p[0],height:p[1]};var m={publisherAddr:d,whitelistedToken:Zp.address,whitelistedType:c,randomize:!0,targeting:l||[],width:p.width,height:p.height,minPerImpression:"0",minTargetingScore:"0",fallbackUnit:u,marketSlot:o},h=encodeURIComponent(JSON.stringify({options:m})),v="<iframe\n"+'\tsrc="'.concat(Gp+h,'"\n')+'\twidth="'.concat(p.width,'"\n')+'\theight="'.concat(p.height,'"\n')+'\tscrolling="no"\n\tframeborder="0"\n\tstyle="border: 0;"\n'+'\tonload="'.concat(zp,'"\n')+"></iframe>";return g.a.createElement("div",null,g.a.createElement("div",{className:i.integrationLabel},t("INTEGRATION_CODE"),g.a.createElement(ps.a,{color:"default",onClick:function(){Wp()(v),s&&s()}},g.a.createElement(Hl.a,null))),g.a.createElement(xc.a,null,g.a.createElement("pre",{className:i.integrationCode},v)),!1)},Jp=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).handleFallbackImgUpdateToggle=function(){var e=a.state.editFallbackImg;a.setState({editFallbackImg:!e})},a.handleTabChange=function(e,t){a.setState({tabIndex:t},function(){a.tabsFocus.current&&a.tabsFocus.current.scrollIntoView({behavior:"smooth",block:"start"})})},a.state={editFallbackImg:!1,tabIndex:0},a.tabsFocus=g.a.createRef(),a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.classes,r=t.isDemo,i=t.item,s=t.account,o=t.itemType,c=Object(Ns.a)(t,["t","classes","isDemo","item","account","itemType"]),l=this.state.tabIndex;return g.a.createElement("div",null,g.a.createElement($d,Object.assign({item:i,itemType:o,t:a,url:i.adUrl,canEditImg:!r,rightComponent:null},c)),g.a.createElement("div",null,g.a.createElement(xo.a,{position:"static",color:"default"},g.a.createElement(tp.a,{value:l,onChange:this.handleTabChange.bind(this),ref:this.tabsFocus,scrollable:!0,scrollButtons:"off",indicatorColor:"primary",textColor:"primary"},g.a.createElement(ap.a,{label:a("STATISTICS")}),g.a.createElement(ap.a,{label:a("INTEGRATION")}))),g.a.createElement("div",{style:{marginTop:10}},0===l&&null,1===l&&g.a.createElement(Yp,{classes:n,t:a,account:s,slot:i,onCopy:function(){return e.props.actions.addToast({type:"accept",action:"X",label:a("COPIED_TO_CLIPBOARD"),timeout:5e3})}}))))}}]),t}(h.Component);var Kp=Bc(Object(vs.a)(function(e){var t=e.spacing(1);return{integrationLabel:{marginBottom:t,color:e.palette.text.hint,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},integrationCode:{whiteSpace:"pre-wrap",wordBreak:"break-word",padding:t,margin:0,alignSelf:"flex-start"}}})(Jp)),Xp=Object(T.c)(function(e){return{account:e.persist.account,objModel:fe.AdSlot,itemType:"AdSlot",updateImgInfoLabel:"SLOT_AVATAR_IMG_INFO",updateImgLabel:"SLOT_AVATAR_IMG_LABEL",updateImgErrMsg:"ERR_IMG_SIZE_MAX",updateImgExact:!0}},function(e){return{actions:Object(I.b)(es,e)}})(Kp),qp=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentWillMount",value:function(){this.props.actions.updateNav("navTitle",this.props.header)}},{key:"render",value:function(){var e=this.props,t=(e.classes,e.itemType),a=Object(Ns.a)(e,["classes","itemType"]),n=Array.from(Object.values(this.props.items||{}))||[];return g.a.createElement("div",null,!!this.props.newItemBtn&&g.a.createElement(this.props.newItemBtn,null),g.a.createElement(Hd,Object.assign({},a,{itemType:t,items:n,viewModeId:this.props.viewModeId,archive:!0})))}}]),t}(h.Component);var Qp=Object(T.c)(function(e,t){var a=e.persist,n=e.memory;return{account:a.account,items:a.items[t.itemType]||[],side:n.nav.side}},function(e){return{actions:Object(I.b)(es,e)}})(xs(qp)),$p=[{value:"sendingTime",label:""},{value:"status",label:""},{value:"txMethod",label:""},{value:"id",label:""}],em=function(e){var t=e.children,a=Object(Ns.a)(e,["children"]);return g.a.createElement(ol.a,a,!!t&&t)},tm=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).renderRows=function(e){return g.a.createElement(hl,{multiSelectable:!1,selectable:!1,side:a.props.side,item:e,rows:e,rowRenderer:a.renderTableRow.bind(Object(ys.a)(a)),tableHeadRenderer:a.renderTableHead.bind(Object(ys.a)(a))})},a.searchMatch=function(e){return(e.id||"")+(e.status||"")+(e.bidId||"")+(e.state||"")+(e.sendingTime||"")},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentWillMount",value:function(){this.props.actions.updateNav("navTitle",this.props.t("TRANSACTIONS"))}},{key:"renderTableHead",value:function(){var e=this.props.t;return g.a.createElement(cl.a,null,g.a.createElement(ll.a,null,g.a.createElement(em,null," ",e("TRANS_METHOD")," "),g.a.createElement(em,null," ",e("TRANS_ID")," "),g.a.createElement(em,null," ",e("TRANS_NONCE")," "),g.a.createElement(em,null," ",e("TRANS_STATUS")," "),g.a.createElement(em,null," ",e("TRANS_SENDING_TIME")," ")))}},{key:"renderTableRow",value:function(e,t,a){a.to,a.selected;if(!e)return null;var n=this.props,r=n.t,i=n.classes;return g.a.createElement(ll.a,{key:e.id||t},g.a.createElement(em,null," ",r(e.txMethod)," "),g.a.createElement(em,{className:gs()(i.compactCol)},g.a.createElement(ko.a,{noWrap:!0},g.a.createElement(Ks,{target:"_blank",href:"https://etherscan.io/address/"+e.id}," ",e.id," "))),g.a.createElement(em,null," ",e.nonce," "),g.a.createElement(em,null," ",e.status," "),g.a.createElement(em,null," ",Jr(e.sendingTime)," "))}},{key:"render",value:function(){var e=this.props.transactions,t=Object.keys(e).reduce(function(t,a){if(a&&66===a.toString().length){var n=Object(x.a)({},e[a]);n.id=a,t.push(n)}return t},[]);return g.a.createElement("div",null,g.a.createElement(sl,{items:t,listMode:"rows",delete:!0,renderRows:this.renderRows,sortProperties:$p,searchMatch:this.searchMatch,uiStateId:"transactions"}))}}]),t}(h.Component);var am=Object(T.c)(function(e,t){var a=e.persist,n=a.account,r=a.web3Transactions;return{account:n,transactions:Object(x.a)({},r[n.wallet.address]||{},r[n.identity.address]||{})}},function(e){return{actions:Object(I.b)(es,e)}})(Object(vs.a)(function(e){return{compactCol:{maxWidth:80}}})(xs(tm)));function nm(e){var t=function(t){function a(){var e,t;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(y.a)(this,(e=Object(O.a)(a)).call.apply(e,[this].concat(r)))).handleChange=function(e,a){var n=t.props,r=n.actions,i=n.txId;r.updateNewTransaction({tx:i,key:e,value:a})},t.onSave=function(e,a,n){var r=t.props.closeDialog;r&&r(),t.resetTransaction()},t.resetTransaction=function(){var e=t.props,a=e.actions,n=e.txId;a.resetNewTransaction({tx:n})},t.handleSaveRes=function(e){var a=e.err,n=e.res,r=t.props,i=r.t,s=r.actions;a&&s.addToast({type:"cancel",action:"X",label:i("ERR_TRANSACTION",{args:[ut.getErrMsg(a)]}),timeout:5e4}),t.onSave(a,n,Array.isArray(n))},t.save=function(){t.handleChange("waitingForWalletAction",!0),t.props.saveFn({acc:t.props.account,transaction:t.props.transaction}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("res on save",e);var a=e.txResults||e,n=e.err||null;t.handleSaveRes({err:n,res:a})}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("err on save",e);var a=e.txResults||null,n=e.err||e;t.handleSaveRes({err:n,res:a})})},t.cancel=function(){t.onSave(null,null)},t}return Object(A.a)(a,t),Object(E.a)(a,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var t=this.props.transaction||{},a=this.props;return g.a.createElement(e,Object.assign({},a,{transaction:t,save:this.save,cancel:this.cancel,handleChange:this.handleChange,resetTransaction:this.resetTransaction}))}}]),a}(h.Component);return Object(T.c)(function(e,t){var a=e.persist,n=e.memory,r=t.stepsId;return{account:a.account,transaction:n.newTransactions[r]||{},txId:r,spinner:n.spinners[r]}},function(e){return{actions:Object(I.b)(es,e)}})(xs(t))}var rm=nm(function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).validateAmount=function(e,t){var n=Gi(e),r="ERR_INVALID_AMOUNT_VALUE",i=[];n&&parseFloat(e)>parseFloat(a.props.identityAvailable)&&(n=!1,r="ERR_MAX_AMOUNT_TO_WITHDRAW",i=[a.props.identityAvailable,"DAI"]),a.props.validate("withdrawAmount",{isValid:n,err:{msg:r,args:i},dirty:t})},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.validate,a=e.transaction;a.withdrawAmount||t("withdrawAmount",{isValid:!0,dirty:!1}),a.withdrawTo||t("withdrawTo",{isValid:!1,dirty:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.actions,n=t.validate,r=t.transaction,i=t.t,s=t.invalidFields,o=t.identityAvailable,c=t.handleChange,l=t.withdrawToSpinner,u=r||{},d=u.withdrawTo,p=u.withdrawAmount,m=s.withdrawAmount,h=s.withdrawTo;return g.a.createElement("div",null,g.a.createElement("div",null," ",i("EXCHANGE_CURRENT_DAI_BALANCE_AVAILABLE_ON_IDENTITY")," ",o," "),g.a.createElement(Jl.a,{disabled:l,type:"text",required:!0,fullWidth:!0,label:i("WITHDRAW_TO"),name:"withdrawTo",value:d||"",onChange:function(e){return c("withdrawTo",e.target.value)},onBlur:function(){return a.validateAddress({addr:d,dirty:!0,validate:n,name:"withdrawTo"})},onFocus:function(){return a.validateAddress({addr:d,dirty:!1,validate:n,name:"withdrawTo"})},error:h&&!!h.dirty,helperText:h&&h.dirty?h.errMsg:""}),l?g.a.createElement(Ip,null):null,g.a.createElement(Jl.a,{type:"text",fullWidth:!0,required:!0,label:i("TOKENS_TO_WITHDRAW"),name:"withdrawAmount",value:p||"",onChange:function(e){return c("withdrawAmount",e.target.value)},onBlur:function(){return e.validateAmount(p,!0)},onFocus:function(){return e.validateAmount(p,!1)},error:m&&!!m.dirty,helperText:m&&m.dirty?m.errMsg:i("MAX_AMOUNT_TO_WITHDRAW",{args:[o,"DAI"]})}))}}]),t}(h.Component)),im=Object(T.c)(function(e,t){var a=e.memory;return{txId:t.stepsId,withdrawToSpinner:a.spinners.withdrawTo}},function(e){return{actions:Object(I.b)(es,e)}})(rm),sm=fe.constants.IdentityPrivilegeLevel,om=Object.keys(sm).map(function(e){return{value:sm[e],label:e}});var cm=nm(function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.transaction,a=e.validate;t.withdrawAmount||a("setAddr",{isValid:!1,err:{msg:"ERR_REQUIRED_FIELD"},dirty:!1})}},{key:"render",value:function(){var e=this.props,t=e.actions,a=e.transaction,n=e.t,r=e.invalidFields,i=e.identityAvailable,s=e.handleChange,o=e.setAddrSpinner,c=e.validate,l=a||{},u=l.setAddr,d=l.privLevel,p=r.setAddr;return g.a.createElement("div",null,g.a.createElement("div",null," ",n("SET_IDENTITY_PRIVILEGE_MAIN_INFO")," ",i," "),g.a.createElement(Jl.a,{type:"text",required:!0,fullWidth:!0,label:n("ADDR_TO_SET_PRIV_LEVEL"),name:"setAddr",value:u||"",onChange:function(e){return s("setAddr",e.target.value)},onBlur:function(){return t.validateAddress({addr:u,dirty:!0,validate:c,name:"setAddr"})},onFocus:function(){return t.validateAddress({addr:u,dirty:!1,validate:c,name:"setAddr"})},error:p&&!!p.dirty,helperText:p&&p.dirty?p.errMsg:""}),o?g.a.createElement(Ip,null):null,g.a.createElement(Gc,{required:!0,label:n("SELECT_PRIV_LEVEL"),helperText:n("SELECT_PRIV_LEVEL_HELPER_TXT"),onChange:function(e){return s("privLevel",e)},source:om,value:"number"===typeof d?d:"",htmlId:"label-privLevel",fullWidth:!0}))}}]),t}(h.Component)),lm=Object(T.c)(function(e,t){var a=e.memory;return{txId:t.stepsId,setAddrSpinner:a.spinners.setAddr}},function(e){return{actions:Object(I.b)(es,e)}})(cm),um=fe.constants.valueToKey(fe.constants.IdentityPrivilegeLevel),dm=function(e){var t=e.t,a=e.withdrawTo,n=e.classes,r=e.fees,i=e.withdrawAmount;return g.a.createElement("div",null,g.a.createElement(_l,{key:"withdrawTo",left:t("withdrawTo",{isProp:!0}),right:(a||"").toString()}),g.a.createElement(_l,{key:"withdrawAmount",left:t("withdrawAmount",{isProp:!0}),right:g.a.createElement(Us.a,{className:n.address,secondary:t("AMOUNT_WITHDRAW_INFO",{args:[r.fees,"DAI",r.toGet,"DAI"]}),primary:i+" DAI"})}))},pm=function(e){var t=e.t,a=e.setAddr,n=e.classes,r=e.fees,i=e.privLevel;return g.a.createElement("div",null,g.a.createElement(_l,{key:"setAddr",left:t("setAddr",{isProp:!0}),right:(a||"").toString()}),g.a.createElement(_l,{key:"privLevel",left:t("privLevel",{isProp:!0}),right:g.a.createElement(Us.a,{className:n.address,secondary:t("PRIV_LEVEL_INFO_AND_FEES",{args:[r.fees,"DAI"]}),primary:um[i]})}))};var mm=nm(function(e){function t(e,a){var n;return Object(b.a)(this,t),(n=Object(y.a)(this,Object(O.a)(t).call(this,e,a))).state={gas:null,fees:null,errors:[]},n}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.getFeesFn,n=t.actions,r=t.handleChange,i=t.identityAvailable,s=t.transaction,o=t.txId,c=t.t,l=t.account;a&&Object.keys(s).length&&(n.updateSpinner(o,!0),a({acc:l,transaction:s}).then(function(t){r("fees",t),e.setState({fees:t}),n.updateSpinner(o,!1),parseFloat(t.fees||0)>parseFloat(i)&&r("errors",[c("INSUFFICIENT_BALANCE_FOR_FEES",{args:[i,"DAI",t.fees,"DAI"]})])}).catch(function(e){console.log(e),n.updateSpinner(o,!1),r("errors",[ut.getErrMsg(e)])}))}},{key:"render",value:function(){var e=this.props,t=e.transaction,a=void 0===t?{}:t,n=e.t,r=e.classes,i=e.account,s=e.previewWarnMsgs,o=e.spinner,c=e.stepsId,l=a.errors||[],u=a.withdrawTo,d=a.withdrawAmount,p=a.setAddr,m=a.privLevel,h=a.fees,v=void 0===h?{}:h;return g.a.createElement("div",null,o?g.a.createElement(Ml,null):g.a.createElement(Rl,null,a.waitingForWalletAction?g.a.createElement(Ll,null,g.a.createElement(ed,{t:n,authType:i.wallet.authType})):null,g.a.createElement(Dl,null,l.length?l.map(function(e,t){return g.a.createElement(_l,{key:t,classNameLeft:r.error,classNameRight:r.error,left:g.a.createElement(is.a,null),right:e})}):null,s?s.map(function(e,t){return g.a.createElement(_l,{key:t,classNameLeft:r.warning,classNameRight:r.warning,left:g.a.createElement(os.a,null),right:n(e.msg,{args:e.args})})}):null,"withdrawFromIdentity"===c&&g.a.createElement(dm,{t:n,withdrawTo:u,classes:r,fees:v,withdrawAmount:d}),"setIdentityPrivilege"===c&&g.a.createElement(pm,{t:n,setAddr:p,classes:r,fees:v,privLevel:m}))))}}]),t}(h.Component)),hm=Object(T.c)(function(e,t){var a=e.persist,n=e.memory,r=t.stepsId;return{transaction:n.newTransactions[r]||{},txId:r,spinner:n.spinners[r],account:a.account}},function(e){return{actions:Object(I.b)(es,e)}})(Object(vs.a)(function(e){return{error:{color:e.palette.error.main},warning:{color:e.palette.warning.A700},centralSpinner:{position:"absolute",left:"calc(50% - 20px)",top:" calc(50% - 20px)"},imgPreview:{height:120,width:"auto",maxWidth:"100%",boxShadow:e.shadows[2]}}})(mm)),gm=Gl(xl),vm={SaveBtn:nm(function(e){var t=e.save,a=e.saveBtnLabel,n=e.saveBtnIcon,r=e.t,i=e.transaction,s=(e.waitingForWalletAction,e.spinner);Object(Ns.a)(e,["save","saveBtnLabel","saveBtnIcon","t","transaction","waitingForWalletAction","spinner"]);return g.a.createElement(As.a,{color:"primary",onClick:t,disabled:!!i.errors&&!!i.errors.length||!!i.waitingForWalletAction||!!s},i.waitingForWalletAction?g.a.createElement(Ad.a,null):n||"",r(a||"DO_IT"))}),CancelBtn:nm(function(e){var t=e.cancel,a=e.cancelBtnLabel,n=e.t;Object(Ns.a)(e,["cancel","cancelBtnLabel","t"]);return g.a.createElement(As.a,{onClick:t},n(a||"CANCEL"))}),validateIdBase:"tx-",darkerBackground:!0},fm=function(e){return g.a.createElement(gm,Object.assign({},e,{btnLabel:"ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN",saveBtnLabel:"ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN",title:"ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE",stepsId:"withdrawFromIdentity"},vm,{stepsPages:[{title:"ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP",page:im}],stepsPreviewPage:{title:"PREVIEW_AND_MAKE_TR",page:hm},saveFn:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).transaction;return e.actions.identityWithdraw({amountToWithdraw:t.withdrawAmount,withdrawTo:t.withdrawTo})},getFeesFn:function(){return mi({amountToWithdraw:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).transaction.withdrawAmount,getFeesOnly:!0})}}))},bm=function(e){return g.a.createElement(gm,Object.assign({},e,{btnLabel:"ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN",saveBtnLabel:"ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN",title:"ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE",stepsId:"setIdentityPrivilege"},vm,{stepsPages:[{title:"ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP",page:lm}],stepsPreviewPage:{title:"PREVIEW_AND_MAKE_TR",page:hm},saveFn:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).transaction;return e.actions.addrIdentityPrivilege({privLevel:t.privLevel,setAddr:t.setAddr})},getFeesFn:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).transaction;return gi({privLevel:e.privLevel,setAddr:e.setAddr,getFeesOnly:!0})}}))},Em=a(497),ym=a.n(Em),Om=a(1113),Am=a(1098),wm=a(1097),Tm=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).localWalletDownloadHref=function(){var e=a.props.account.wallet,t=function(e){var t=e.email,a=e.password;if(!t||!a)return null;var n=wa({email:t,password:a});return{key:n,wallet:ya(n)}}({email:e.email,password:e.password});return t?"data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)):null},a.onSave=function(){},a.handleExpandChange=function(){a.setState({expanded:!a.state.expanded})},a.state={walletJsonData:a.localWalletDownloadHref(),expanded:!1},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.t,a=e.actions,n=e.account,r=a.updateNav,i=a.updateAccountStats;r("navTitle",t("ACCOUNT")),i(n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.account,r=t.classes,i=t.actions,s=n.settings.grantType,o=n.stats.formatted||{},c=o.walletAddress,l=o.walletAuthType,u=void 0===l?"":l,d=o.walletPrivileges,p=void 0===d?"":d,m=o.identityAddress,h=o.identityBalanceDai,v=n.wallet,f=v.authType,b=v.email,E=this.state,y=E.walletJsonData,O=E.expanded;return g.a.createElement("div",null,g.a.createElement(Ls.a,null,g.a.createElement(Ps.a,null,g.a.createElement(Us.a,{className:r.address,primary:m,secondary:"demo"===n._authType?a("DEMO_ACCOUNT_IDENTITY_ADDRESS"):a("IDENTITY_ETH_ADDR")}),g.a.createElement(Tp.a,{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},g.a.createElement(Tp.a,{m:1},y&&g.a.createElement("label",{htmlFor:"download-wallet-json"},g.a.createElement("a",{id:"download-wallet-json",href:this.localWalletDownloadHref(),download:"adex-account-data-".concat(b,".json")},g.a.createElement(As.a,{size:"small",variant:"contained"},a("BACKUP_LOCAL_WALLET"),g.a.createElement(ym.a,null))))),g.a.createElement(Tp.a,{m:1},g.a.createElement(ps.a,{color:"default",onClick:function(){Wp()(m),e.props.actions.addToast({type:"accept",action:"X",label:a("COPIED_TO_CLIPBOARD"),timeout:5e3})}},g.a.createElement(Hl.a,null))))),g.a.createElement(Bs.a,null),g.a.createElement(Ps.a,null,g.a.createElement(Us.a,{className:r.address,primary:c,secondary:"demo"===n.authType?a("DEMO_ACCOUNT_WALLET_ADDRESS",{args:[u,p]}):a("WALLET_INFO_LABEL",{args:[u.replace(/^\w/,function(e){return e.toUpperCase()}),p||" - ",f]})})),g.a.createElement(Bs.a,null),g.a.createElement(Ps.a,null,g.a.createElement(Tp.a,{display:"flex",flex:"1 1 auto"},g.a.createElement(Cp,{loading:!h&&0!==h},g.a.createElement(Us.a,{primary:"".concat(h||0," DAI"),secondary:a("IDENTITY_DAI_BALANCE_AVAILABLE")}))),g.a.createElement("div",{className:r.itemActions},"advertiser"!==s&&g.a.createElement(fm,{variant:"contained",color:"primary",onSave:this.onSave,identityAvailable:h,identityAvailableRaw:h,token:"DAI",className:r.actionBtn,size:"small",actions:i}))),g.a.createElement(Bs.a,null),g.a.createElement(Om.a,{expanded:O,onChange:this.handleExpandChange},g.a.createElement(wm.a,{expandIcon:g.a.createElement(_o.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},g.a.createElement(ko.a,{className:r.heading},a("ACCOUNT_ADVANCED_INFO_AND_ACTIONS"))),g.a.createElement(Am.a,null,g.a.createElement(Ls.a,{classes:{root:r.advancedList}},g.a.createElement(Ps.a,null,g.a.createElement(Us.a,{className:r.address,secondary:"",primary:a("MANAGE_IDENTITY")}),g.a.createElement("div",{className:r.itemActions},g.a.createElement(bm,{variant:"contained",color:"secondary",onSave:this.onSave,token:"DAI",className:r.actionBtn,size:"small",actions:i,identityAvailable:h}))),g.a.createElement(Bs.a,null),g.a.createElement(Ps.a,null,g.a.createElement(Us.a,{className:r.address,primary:a("VALIDATOR_LEADER_ID",{args:["0x2892f6C41E0718eeeDd49D98D648C789668cA67d"]}),secondary:a("VALIDATOR_LEADER_URL",{args:["https://tom.moonicorn.network"]})})),g.a.createElement(Ps.a,null,g.a.createElement(Us.a,{className:r.address,primary:a("VALIDATOR_FOLLOWER_ID",{args:["0xce07CbB7e054514D590a0262C93070D838bFBA2e"]}),secondary:a("VALIDATOR_FOLLOWER_URL",{args:["https://jerry.moonicorn.network"]})})))))))}}]),t}(g.a.Component);var Im=Object(T.c)(function(e,t){var a=e.persist,n=e.memory;return{account:a.account,side:n.nav.side}},function(e){return{actions:Object(I.b)(es,e)}})(Object(vs.a)(function(e){return{itemActions:{display:"flex",flex:"0 0 187px",flexDirection:"column",alignItems:"flex-end",justifyContent:"space-around"},actionBtn:{marginBottom:e.spacing(1)},address:{wordWrap:"break-word"},advancedList:{width:"100%"}}})(xs(Tm))),Cm=tt.store,xm=null,jm=function(){xm&&(clearTimeout(xm),xm=null)},km=function(){var e=Object(ot.a)(m.a.mark(function e(){var t,a,n,r,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Cm.getState().persist,a=t.account,n=t.web3Transactions,r=Object(x.a)({},n[a.wallet.address]||{},n[a.identity.address]||{}),(i=Object.keys(r).reduce(function(e,t){return t&&66===t.toString().length&&e.push(t),e},[])).length){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Ha({txHashes:i,authType:a.wallet.authType});case 7:e.sent.forEach(function(e){if(e&&e.transactionHash&&e.status){var t=1===e.status||"0x1"===e.status||!0===e.status?"success":"failed";r[e.transactionHash].status!==t&&es.execute(es.updateWeb3Transaction({tx:e.transactionHash,key:"status",value:t,addr:e.from}))}});case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Sm=function(){km().then(function(){Nm()}).catch(function(){Nm()})},Nm=function(){jm(),xm=setTimeout(Sm,2e4)},_m=function(){jm(),Sm()},Rm=function(){jm()},Dm=a(1099),Lm=a(1105),Pm=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).handleDrawerToggle=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a.toggleDrawerActive=function(){a.setState({drawerActive:!a.state.drawerActive})},a.toggleDrawerPinned=function(){a.setState({drawerPinned:!a.state.drawerPinned})},a.toggleSidebar=function(){a.setState({sidebarPinned:!a.state.sidebarPinned})},a.renderAdUnits=function(){return g.a.createElement(Qp,{header:a.props.t("ALL_UNITS"),viewModeId:"rowsViewUnits",itemType:"AdUnit",newItemBtn:function(){return g.a.createElement(Rd,{fabButton:!0,variant:"extended",color:"secondary",btnLabel:"NEW_UNIT"})},objModel:fe.AdUnit,sortProperties:we,filterProperties:Te,uiStateId:"units"})},a.renderCampaigns=function(){return g.a.createElement(Qp,{header:a.props.t("ALL_CAMPAIGNS"),viewModeId:"rowsViewCampaigns",itemType:"Campaign",newItemBtn:function(){return g.a.createElement(Md,{fabButton:!0,variant:"extended",accent:!0,color:"secondary",btnLabel:"NEW_CAMPAIGN"})},objModel:fe.Campaign,sortProperties:Ce,uiStateId:"campaigns",filterProperties:xe})},a.renderAdSlots=function(){return g.a.createElement(Qp,{header:a.props.t("ALL_SLOTS"),viewModeId:"rowsViewSlots",itemType:"AdSlot",newItemBtn:function(){return g.a.createElement(Bd,{fabButton:!0,variant:"extended",accent:!0,color:"secondary",btnLabel:"NEW_SLOT"})},objModel:fe.AdSlot,sortProperties:we,filterProperties:Te,uiStateId:"slots"})},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.state={drawerActive:!1,drawerPinned:!1,sidebarPinned:!1,mobileOpen:!1},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentWillUnmount",value:function(){Rm()}},{key:"componentDidMount",value:function(){var e=this.props.actions;e.updateNav("side",this.props.match.params.side),e.getRelayerConfig(),e.getAllItems(),e.updateAccountStats(),e.updateAccountSettings(),e.updateAccountAnalytics(),_m()}},{key:"componentWillUpdate",value:function(e){e.match.params.side!==this.props.match.params.side&&this.props.actions.updateNav("side",e.match.params.side)}},{key:"render",value:function(){var e=this.props.side||this.props.match.params.side,t=this.props,a=t.classes,n=t.theme,r=g.a.createElement("div",null,g.a.createElement(mo,{location:this.props.location,side:e}));return g.a.createElement("div",{className:a.root},g.a.createElement(Lo,{side:e,open:this.state.open,handleDrawerToggle:this.handleDrawerToggle}),g.a.createElement(Lm.a,{mdUp:!0},g.a.createElement(Dm.a,{variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},r)),g.a.createElement(Lm.a,{smDown:!0,implementation:"css"},g.a.createElement(Dm.a,{variant:"permanent",open:!0,classes:{paper:a.drawerPaper}},r)),g.a.createElement("main",{className:a.content},g.a.createElement("div",{className:a.contentInner},g.a.createElement("div",{className:a.toolbar}),g.a.createElement(Ds.a,{locatiom:this.props.location},"TODO: Make things dynamic if easier",g.a.createElement(_s.a,{auth:this.props.auth,exact:!0,path:"/dashboard/advertiser/campaigns",component:this.renderCampaigns}),g.a.createElement(_s.a,{auth:this.props.auth,exact:!0,path:"/dashboard/advertiser/units",component:this.renderAdUnits}),g.a.createElement(_s.a,{auth:this.props.auth,exact:!0,path:"/dashboard/advertiser/Campaign/:itemId",component:sp}),g.a.createElement(_s.a,{auth:this.props.auth,exact:!0,path:"/dashboard/advertiser/AdUnit/:itemId",component:Bp}),g.a.createElement(_s.a,{auth:this.props.auth,exact:!0,path:"/dashboard/publisher/channels",component:this.renderChannels}),g.a.createElement(_s.a,{auth:this.props.auth,exact:!0,path:"/dashboard/publisher/slots",component:this.renderAdSlots}),g.a.createElement(_s.a,{auth:this.props.auth,exact:!0,path:"/dashboard/publisher/AdSlot/:itemId",component:Xp}),g.a.createElement(_s.a,{auth:this.props.auth,exact:!0,path:"/dashboard/:side/account",component:Im}),g.a.createElement(_s.a,{auth:this.props.auth,exact:!0,path:"/dashboard/:side/transactions",component:am}),g.a.createElement(_s.a,{auth:this.props.auth,exact:!0,path:"/dashboard/:side",component:Mp}),g.a.createElement(_s.a,{auth:this.props.auth,component:function(){return g.a.createElement("h1",null,"404 at ",e," side")}})))))}}]),t}(g.a.Component);var Mm=Object(T.c)(null,function(e){return{actions:Object(I.b)(es,e)}})(xs(Object(vs.a)(Xs,{withTheme:!0})(Pm))),Um=function(e){var t=e.spacing(1);return{root:{height:"100vh"},signinContainer:{overflowX:"hidden",overflowY:"auto",minHeight:"100vh",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",position:"relative"},container:{height:"100vh",flexGrow:"1"},actions:{position:"relative",height:"100vh",backgroundImage:"url(".concat(a(1014),")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},buttons:{backgroundColor:e.palette.grey[200]},adxVersion:{},adexLogoTop:{textAlign:"center"},logo:{marginTop:"1.5vh",width:"17.92vh",height:"6vh"},dialogPaper:{height:"80vh",margin:2*t},noBg:{background:0,boxShadow:"none",overflow:"visible"},backdrop:{backgroundColor:"rgba(255, 255, 255, 0.5)"},content:{display:"flex",flexDirection:"column",flex:"1 1 auto",justifyContent:"center",padding:24}}},Bm=Gs(As.a),Fm=xs(Object(vs.a)(function(e){return{actions:{justifyContent:"center"},btnLogo:{height:"2rem",marginRight:e.spacing(1)},btnLogoNoTxt:{marginRight:0},metamaskBtn:{backgroundColor:e.palette.grey[800],color:e.palette.common.white},trezorBtn:{backgroundColor:e.palette.common.white}}})(function(e){var t=e.t,a=e.classes,n=Object(T.d)(In),r=(Object(T.d)(Tn)||{}).wallet;return Object(h.useEffect)(function(){nt(bi())},[]),g.a.createElement(Po.a,{container:!0,spacing:2,direction:"column",alignItems:"stretch",wrap:"nowrap"},n&&g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Bm,{variant:"contained",to:"/side-select",size:"large",color:"default",fullWidth:!0},t("CONTINUE_AS",{args:[r.email||r.address,r.authType]}))),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Bm,{variant:"contained",to:"/identity/grant",size:"large",color:"primary",fullWidth:!0,onClick:pt},t("CREATE_GRANT_ACCOUNT"))),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Bm,{variant:"contained",to:"/login/grant",size:"large",color:"secondary",fullWidth:!0,onClick:pt},t("LOGIN_GRANT_ACCOUNT"))),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Bm,{variant:"contained",to:"/login/full?metamask",size:"large",color:"default",fullWidth:!0,className:a.metamaskBtn,onClick:pt},g.a.createElement(qo,{src:Co("metamask"),alt:t("AUTH_WITH_METAMASK"),className:a.btnLogo}),t("METAMASK"))),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Bm,{variant:"contained",to:"/login/full?trezor",size:"large",color:"default",fullWidth:!0,className:a.trezorBtn,onClick:pt},g.a.createElement(qo,{src:Co("trezor"),alt:t("AUTH_WITH_TREZOR"),className:gs()(a.btnLogo,a.btnLogoNoTxt)}))))}));function Wm(e){return xs(Object(vs.a)(Um)(function(t){var a=t.classes,n=t.t,r=(t.noBackground,t.rest);return g.a.createElement("div",{className:a.root},g.a.createElement(Po.a,{className:a.container,container:!0,alignItems:"stretch"},g.a.createElement(Po.a,{className:a.actions,item:!0,xs:12,md:7,lg:8,xl:9},g.a.createElement(Tp.a,{width:1,height:1,p:4},g.a.createElement(Tp.a,{width:1,height:1,position:"relative"},g.a.createElement(e,Object.assign({t:n},r))))),g.a.createElement(Po.a,{item:!0,container:!0,xs:12,md:5,lg:4,xl:3,alignItems:"stretch",className:a.buttons},g.a.createElement(Po.a,{container:!0,direction:"column",alignItems:"stretch",justify:"space-between"},g.a.createElement(Tp.a,{p:2},g.a.createElement("div",{className:a.adexLogoTop},g.a.createElement(to,{className:a.logo}))),g.a.createElement(Tp.a,{p:2},g.a.createElement(Fm,r)),g.a.createElement(Tp.a,{p:2,display:"flex",flexDirection:"column",alignItems:"center",flexWrap:"wrap"},g.a.createElement(Ks,{className:a.adxLink,target:"_blank",href:"https://medium.com/adex-network-tips-and-tricks"},n("HELP")),g.a.createElement("small",{className:a.adxVersion},"v.".concat(Js.version,"-beta")))))))}))}function Gm(e){var t=function(t){function a(e){var t;return Object(b.a)(this,a),(t=Object(y.a)(this,Object(O.a)(a).call(this,e))).handleChange=function(e,a){t.props.actions.updateIdentity(e,a)},t.componentDidUpdate=function(){t.props.account.wallet.authSig&&nt(Object(dt.d)("/side-select"))},t.save=function(){var e=t.props,a=e.identity,n=e.actions,r=a.wallet,i=a.email,s=a.identityData,o=Object(x.a)({},r);n.createSession({identity:s,wallet:o,email:i,registerExpected:!s})},t.cancel=function(){(0,t.props.actions.resetIdentity)(),nt(Object(dt.d)("/"))},t.save=t.save.bind(Object(ys.a)(t)),t.state={ready:!1},t}return Object(A.a)(a,t),Object(E.a)(a,[{key:"render",value:function(){var t=this.props,a=t.identity,n=t.spinner,r=t.waitingExpected,i=Object(Ns.a)(t,["identity","spinner","waitingExpected"]);return g.a.createElement(e,Object.assign({},i,{identity:a,save:this.save,handleChange:this.handleChange,cancel:this.cancel,waiting:n,waitingExpected:r}))}}]),a}(h.Component);return Object(T.c)(function(e,t){var a=e.persist,n=e.memory;return{account:a.account,identity:n.identity,spinner:n.spinners["creating-session"],waitingExpected:n.spinners["getting-expected-identity"],waitingUpload:n.spinners["uploading-account-data"]}},function(e){return{actions:Object(I.b)(es,e)}})(t)}var Vm=function(e){var t=e.spacing(1);return{signinContainer:{overflowX:"hidden",overflowY:"auto",minHeight:"100vh",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",position:"relative"},container:{position:"absolute",left:0,top:0,right:0,bottom:0},adxVersion:{position:"absolute",left:t,bottom:t},adexLogoTop:{textAlign:"center"},logo:{marginTop:"1.5vh",width:"17.92vh",height:"6vh"},formControl:{display:"flex"},buttonProgressWrapper:{margin:t,position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},infoPaper:Object(x.a)({},e.mixins.gutters(),{paddingTop:2*t,paddingBottom:2*t}),input:{display:"none"}}},Hm=Gm(function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).validateIdentity=function(){var e=a.props;(0,e.validate)("identityData",{isValid:!!e.identity.identityData,err:{msg:"ERR_IDENTITY_NOT_GENERATED"},dirty:!1})},a.getIdentityContractData=Object(ot.a)(m.a.mark(function e(){var t,n,r,i,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props,n=t.actions,r=t.identity,i=r.wallet,s=r.email,n.getRegisterExpectedIdentity({owner:i.address,mail:s});case 3:case"end":return e.stop()}},e)})),a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.identity,t=e.email,a=e.emailCheck,n=e.code;this.validateIdentity(),this.validateEmail(t,!1),this.validateEmailCheck(a,!1),this.validateCode(n,!1)}},{key:"componentDidUpdate",value:function(e){var t=this.props.identity.identityData;t&&t.address!==(e.identity.identityData||{}).address&&this.validateIdentity()}},{key:"validateEmail",value:function(e,t){var a=Wi(e);this.props.validate("email",{isValid:a,err:{msg:"ERR_EMAIL"},dirty:t})}},{key:"validateEmailCheck",value:function(e,t,a){var n=!!e&&!!t&&e===t;this.props.validate("emailCheck",{isValid:n,err:{msg:"ERR_EMAIL_CHECK"},dirty:a})}},{key:"validateCode",value:function(e,t){var a=this,n=Hi(e);n?this.setState({waitingCheck:!0},function(){(function(e){var t=e.code;return Ft.fetch({route:"identity/valid-accesscode/".concat(t),method:"GET"}).then(Wt)})({code:e}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!0===e.exist&&!1===e.used,r="";!1===e.exist?r="ERR_ACCESS_CODE_NOT_EXIST":!0===e.used&&(r="ERR_ACCESS_CODE_USED"),a.props.validate("code",{isValid:n,err:{msg:r},dirty:t})}).catch(function(e){a.props.validate("code",{isValid:!1,err:{msg:"ERR_ACCESS_CODE_NETWORK"},dirty:!0})})}):this.props.validate("code",{isValid:n,err:{msg:"ERR_ACCESS_CODE_FORMAT"},dirty:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.identity,r=t.handleChange,i=t.invalidFields,s=t.waitingExpected,o=t.classes,c=n.identityData,l=i.email,u=i.emailCheck,d=i.code;return g.a.createElement("div",null,g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(ko.a,{paragraph:!0,variant:"body1"},a("ACCESS_CODE_INFO"))),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"text",required:!0,label:a("code",{isProp:!0}),name:"code",value:n.code||"",onChange:function(e){return r("code",e.target.value)},onBlur:function(){return e.validateCode(n.code,!0)},onFocus:function(){return e.validateCode(n.code,!1)},error:d&&!!d.dirty,maxLength:128,helperText:d&&d.dirty?d.errMsg:a("ENTER_VALID_CODE")})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(ko.a,{paragraph:!0,variant:"body1"},a("GENERATE_FULL_IDENTITY_INFO_EMAIL"))),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"text",required:!0,label:a("email",{isProp:!0}),name:"email",value:n.email||"",onChange:function(e){return r("email",e.target.value)},onBlur:function(){return e.validateEmail(n.email,!0)},onFocus:function(){return e.validateEmail(n.email,!1)},error:l&&!!l.dirty,maxLength:128,helperText:l&&l.dirty?l.errMsg:a("ENTER_VALID_EMAIL")})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"text",required:!0,label:a("emailCheck",{isProp:!0}),name:"emailCheck",value:n.emailCheck||"",onChange:function(e){return r("emailCheck",e.target.value)},onBlur:function(){return e.validateEmailCheck(n.emailCheck,n.email,!0)},onFocus:function(){return e.validateEmailCheck(n.emailCheck,n.email,!1)},error:u&&!!u.dirty,maxLength:128,helperText:u&&u.dirty?u.errMsg:a("ENTER_SAME_EMAIL")})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(ko.a,{paragraph:!0,variant:"body1"},a("GENERATE_FULL_IDENTITY_INFO_ADDRESS")),(c||{}).address?g.a.createElement("div",null,g.a.createElement(ko.a,{paragraph:!0,variant:"subtitle2",color:"primary"},a("IDENTITY_CONTRACT_IS",{args:[c.address]}))):g.a.createElement("span",{className:o.buttonProgressWrapper},g.a.createElement(As.a,{variant:"contained",color:"primary",onClick:this.getIdentityContractData,disabled:s},a("GENERATE_IDENTITY_ADDRESS")),s&&g.a.createElement(zo.a,{size:24,className:o.buttonProgress})))))}}]),t}(h.Component)),zm=xs(Object(vs.a)(Vm)(Hm)),Zm=a(1020),Ym=a(499),Jm=a.n(Ym);function Km(e){var t=function(t){function a(e){var t;return Object(b.a)(this,a),(t=Object(y.a)(this,Object(O.a)(a).call(this,e))).validate=function(e,a){var n=a.isValid,r=a.err,i=void 0===r?{msg:"",args:[]}:r,s=a.dirty,o=void 0!==s&&s,c=a.removeAll;if(n)void 0!==c&&c?t.props.actions.resetValidationErrors(t.props.validateId):t.props.actions.resetValidationErrors(t.props.validateId,e);else{var l={};l[e]={errMsg:t.props.t(i.msg,{args:i.args}),dirty:o},t.props.actions.updateValidationErrors(t.props.validateId,l)}},t.state={invalidFields:{}},t.validate=t.validate.bind(Object(ys.a)(t)),t}return Object(A.a)(a,t),Object(E.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({invalidFields:e.validations||{}})}},{key:"componentWillMount",value:function(){this.setState({invalidFields:this.props.validations||{}})}},{key:"render",value:function(){var t=this.props;return g.a.createElement(e,Object.assign({},t,{validate:this.validate,invalidFields:this.state.invalidFields}))}}]),a}(h.Component);return Object(T.c)(function(e,t){return{validations:e.memory.validations[t.validateId]}},function(e){return{actions:Object(I.b)(es,e)}})(xs(t))}function Xm(e){var t=function(t){function a(e){var t;return Object(b.a)(this,a),(t=Object(y.a)(this,Object(O.a)(a).call(this,e))).updateWallet=function(e){var a=e.address,n={address:a,authType:e.authType,hdWalletAddrPath:e.hdWalletAddrPath,hdWalletAddrIdx:e.hdWalletAddrIdx,path:e.path,chainId:e.chainId,signType:e.signType,balanceEth:e.balanceEth,balanceDai:e.balanceDai};t.props.handleChange("identityContractOwner",a),t.props.handleChange("wallet",n)},t.state={method:"",sideSelect:!1},t}return Object(A.a)(a,t),Object(E.a)(a,[{key:"render",value:function(){return g.a.createElement(e,Object.assign({},this.props,{updateWallet:this.updateWallet}))}}]),a}(h.Component);return Object(T.c)(function(e){return{account:e.persist.account}},function(e){return{actions:Object(I.b)(es,e)}})(xs(Km(Gm(t))))}var qm=function(e){var t=e.spacing(1);return{addrListItem:{"&:hover":{cursor:"pointer"}},addrInfo:{display:"flex",flexWrap:"wrap",flexGrow:1,paddingTop:t,whiteSpace:"normal","& strong":{marginRight:2*t}},addrInfoLabel:{color:e.palette.text.hint,fontWeight:"bold"},dialogPaper:{height:"80vh",margin:2*t},content:{display:"flex",flexDirection:"column",flex:"1 1 auto",position:"relative",padding:0,margin:"0 ".concat(t,"px ").concat(t,"px ").concat(t,"px"),"&:first-child":{paddingTop:t},overflow:"visible"},tabsContainer:{display:"flex",flexGrow:1,overflowY:"auto",position:"relative",margin:t},backdrop:{backgroundColor:"rgba(255, 255, 255, 0.5)"},tabLogo:{maxWidth:"100%",height:4*t,maxHeight:"100%",width:"auto"},tabLabel:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},dlBtnImg:{maxWidth:"100%",maxHeight:9*t,width:"auto",height:"auto"},leftBtnIcon:{marginRight:t},adexLogoTop:{position:"absolute",top:"-6vh",left:0},logo:{width:"12.8vh",height:"5vh"}}},Qm=Object(vs.a)(qm)(function(e){var t=e.stats,a=(e.t,e.classes),n=t.balanceEth,r=t.balanceDai,i=t.address;return g.a.createElement(Us.a,{primary:i,secondary:g.a.createElement("span",{className:a.addrInfo},g.a.createElement("span",null,g.a.createElement("span",null," ETH "),g.a.createElement("strong",null," ",qt.utils.formatEther(n)," ")),g.a.createElement("span",null,g.a.createElement("span",null," DAI "),g.a.createElement("strong",null," ",qt.utils.formatEther(r)," ")))})}),$m=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).checkMetamask=Object(ot.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({waitingAddrsData:!0},Object(ot.a)(m.a.mark(function e(){var t,n,r,i,s,o,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Ie.METAMASK.name,e.next=4,da(t);case 4:return n=e.sent,r=n.provider,i={authType:t},e.next=9,Ba({wallet:i,provider:r});case 9:return s=e.sent,e.next=12,s.getAddress();case 12:return o=e.sent,e.next=15,ln({address:{address:o},authType:t});case 15:c=e.sent,a.setState({address:o,stats:c,waitingAddrsData:!1}),a.props.updateWallet({address:o,authType:Ie.METAMASK.name,balanceEth:c.balanceEth,balanceDai:c.balanceDai,signType:Ie.METAMASK.signType}),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Error: catch",e.t0),a.setState({waitingMetamaskAction:!1,waitingAddrsData:!1}),a.props.actions.addToast({type:"cancel",action:"X",label:a.props.t("ERR_AUTH_METAMASK",{args:[ut.getErrMsg(e.t0)]}),timeout:5e3});case 25:case"end":return e.stop()}},e,null,[[0,20]])})));case 1:case"end":return e.stop()}},e)})),a.state={method:"",sideSelect:!1,address:null,stats:null,waitingMetamaskAction:!1,waitingAddrsData:!1},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.classes,n=this.state,r=n.address,i=n.stats;return g.a.createElement(Rl,{className:a.tabBox},this.state.waitingMetamaskAction?g.a.createElement(Ll,null,g.a.createElement(Pl,{msg:t("METAMASK_WAITING_ACTION")})):this.state.waitingAddrsData?g.a.createElement(Pl,{msg:t("METAMASK_WAITING_ADDR_INFO")}):null,g.a.createElement(Dl,null,g.a.createElement(ko.a,{paragraph:!0,variant:"subheading"},t("METAMASK_INFO")),g.a.createElement(ko.a,{paragraph:!0},g.a.createElement("span",{dangerouslySetInnerHTML:{__html:t("METAMASK_BASIC_USAGE_INFO",{args:[{component:g.a.createElement(Ks,{href:"https://metamask.io/",target:"_blank"},"https://metamask.io/")}]})}})),g.a.createElement(ko.a,{paragraph:!0},g.a.createElement(Ks,{href:"https://metamask.io/",target:"_blank"},g.a.createElement(qo,{src:Jm.a,alt:"Downlad metamask",className:a.dlBtnImg}))),r?g.a.createElement("div",{className:a.metamaskLAbel},i?g.a.createElement("div",null,g.a.createElement(ko.a,{paragraph:!0,variant:"subheading",color:"primary"},t("METAMASK_CONTINUE_TO_NEXT_STEP")),g.a.createElement(Qm,{stats:i,t:t,addr:r})):t("AUTH_WITH_METAMASK_LABEL",{args:[r]})):g.a.createElement(As.a,{onClick:this.checkMetamask,variant:"contained",color:"primary",disabled:this.state.waitingAddrsData},t("AUTH_CONNECT_WITH_METAMASK"))))}}]),t}(h.Component),eh=xs(Xm(Object(vs.a)(qm)($m))),th=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).connectTrezor=Object(ot.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({waitingTrezorAction:!0},Object(ot.a)(m.a.mark(function e(){var t,n,r,i,s,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,da(Ie.TREZOR.name);case 3:return t=e.sent,n=t.provider,r={authType:Ie.TREZOR.name},e.next=8,Ba({provider:n,wallet:r});case 8:return i=e.sent,e.next=11,i.getAddresses({from:0,to:19});case 11:s=e.sent,o=s.payload.map(function(e){return ln({address:e,authType:Ie.TREZOR.name})}),a.setState({waitingAddrsData:!0},Object(ot.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(o);case 2:t=e.sent,console.log("result",t),a.setState({hdPath:i.path,addresses:t,waitingAddrsData:!1,waitingTrezorAction:!1});case 5:case"end":return e.stop()}},e)}))),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Error: catch",e.t0),a.setState({waitingTrezorAction:!1,waitingAddrsData:!1}),a.props.actions.addToast({type:"cancel",action:"X",label:a.props.t("ERR_AUTH_TREZOR",{args:[ut.getErrMsg(e.t0)]}),timeout:5e3});case 21:case"end":return e.stop()}},e,null,[[0,16]])})));case 1:case"end":return e.stop()}},e)})),a.AddressSelect=function(e){var t=e.addresses,n=e.waitingTrezorAction,r=e.t,i=e.classes;Object(Ns.a)(e,["addresses","waitingTrezorAction","t","classes"]);return g.a.createElement(Rl,{className:i.tabBox},g.a.createElement(Ll,null,n?g.a.createElement(Pl,{msg:r("TREZOR_WAITING_ACTION")}):r("SELECT_ADDR_TREZOR")),g.a.createElement(Dl,null,g.a.createElement(Ls.a,null,t.map(function(e,t){return g.a.createElement(Ps.a,{classes:{root:i.addrListItem},key:e.address,onClick:function(){return a.onAddrSelect(e,t)},selected:a.state.selectedAddress===e.address},g.a.createElement(Qm,{stats:e,t:r,address:e.address}))}))))},a.onAddrSelect=function(e,t){var n=e.address,r=e.path,i=e.balanceEth,s=e.balanceDai;a.props.updateWallet({address:n,authType:Ie.TREZOR.name,path:r,balanceEth:i,balanceDai:s,hdWalletAddrPath:a.state.hdPath,hdWalletAddrIdx:t,signType:Ie.TREZOR.signType}),a.setState({selectedAddress:n})},a.state={method:"",sideSelect:!1,addresses:[],waitingTrezorAction:!1,waitingAddrsData:!1,selectedAddress:null,hdPath:""},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.classes;return g.a.createElement("div",null,this.state.addresses.length?g.a.createElement(this.AddressSelect,{waitingTrezorAction:this.state.waitingTrezorAction,addresses:this.state.addresses,t:t,classes:a}):g.a.createElement(Rl,{className:a.tabBox},this.state.waitingAddrsData?g.a.createElement(Ll,null,g.a.createElement(Pl,{msg:t("TREZOR_WAITING_ADDRS_INFO")})):this.state.waitingTrezorAction?g.a.createElement(Ll,null,g.a.createElement(Pl,{msg:t("TREZOR_WAITING_ACTION")})):null,g.a.createElement(Dl,null,g.a.createElement(ko.a,{paragraph:!0,variant:"subheading"},t("TREZOR_INFO")),g.a.createElement(ko.a,{paragraph:!0},g.a.createElement("span",{dangerouslySetInnerHTML:{__html:t("TREZOR_BASIC_USAGE_INFO",{args:[{component:g.a.createElement(Ks,{href:"https://trezor.io/",target:"_blank"},"TREZOR Wallet")},{component:g.a.createElement(Ks,{href:"https://wallet.trezor.io/#/bridge",target:"_blank"},"TREZOR Bridge")}]})}})),g.a.createElement(ko.a,{paragraph:!0},g.a.createElement(Ks,{href:"https://trezor.io",target:"_blank"},g.a.createElement(qo,{src:Oo.a,alt:"https://trezor.io",className:a.dlBtnImg}))),!this.state.waitingAddrsData&&!this.state.waitingTrezorAction&&g.a.createElement(As.a,{onClick:this.connectTrezor,variant:"contained",color:"primary"},t("CONNECT_WITH_TREZOR")))))}}]),t}(h.Component),ah=xs(Xm(Object(vs.a)(qm)(th))),nh=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).connectLedger=Object(ot.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({waitingLedgerAction:!0},Object(ot.a)(m.a.mark(function e(){var t,n,r,i,s,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,da(Ie.LEDGER.name);case 3:return t=e.sent,n=t.provider,r={authType:Ie.LEDGER.name},e.next=8,Ba({wallet:r,provider:n});case 8:return i=e.sent,e.next=11,i.getAddresses({from:0,to:19});case 11:s=e.sent,o=s.map(function(e){return ln({address:e,authType:Ie.LEDGER.name})}),a.setState({waitingAddrsData:!0},Object(ot.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(o);case 2:t=e.sent,a.setState({hdPath:i.path,addresses:t,waitingAddrsData:!1,waitingLedgerAction:!1});case 4:case"end":return e.stop()}},e)}))),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Error: catch",e.t0),a.setState({waitingLedgerAction:!1,waitingAddrsData:!1}),a.props.actions.addToast({type:"cancel",action:"X",label:a.props.t("ERR_AUTH_LEDGER",{args:[ut.getErrMsg(e.t0)]}),timeout:5e3});case 21:case"end":return e.stop()}},e,null,[[0,16]])})));case 1:case"end":return e.stop()}},e)})),a.AddressSelect=function(e){var t=e.addresses,n=e.waitingLedgerAction,r=e.t,i=e.classes;Object(Ns.a)(e,["addresses","waitingLedgerAction","t","classes"]);return g.a.createElement(Rl,{className:i.tabBox},g.a.createElement(Ll,null,n?g.a.createElement(Pl,{msg:r("LEDGER_WAITING_ACTION")}):r("SELECT_ADDR_LEDGER")),g.a.createElement(Dl,null,g.a.createElement(Ls.a,null,t.map(function(e,t){return g.a.createElement(Ps.a,{classes:{root:i.addrListItem},key:e.address,onClick:function(){return a.onAddrSelect(e,t)},selected:a.state.selectedAddress===e.address},g.a.createElement(Qm,{stats:e,t:r}))}))))},a.onAddrSelect=function(e,t){var n=e.address,r=e.path,i=e.balanceEth,s=e.balanceDai;a.props.updateWallet({address:n,authType:Ie.LEDGER.name,path:r,balanceEth:i,balanceDai:s,hdWalletAddrPath:a.state.hdPath,hdWalletAddrIdx:t,signType:Ie.LEDGER.signType}),a.setState({selectedAddress:n})},a.state={method:"",sideSelect:!1,addresses:[],waitingLedgerAction:!1,waitingAddrsData:!1,selectedAddress:null,hdPath:""},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.classes;return g.a.createElement("div",null,this.state.addresses.length?g.a.createElement(this.AddressSelect,{waitingLedgerAction:this.state.waitingLedgerAction,addresses:this.state.addresses,t:t,classes:a}):g.a.createElement(Rl,{className:a.tabBox},this.state.waitingAddrsData?g.a.createElement(Ll,null,g.a.createElement(Pl,{msg:t("LEDGER_WAITING_ADDRS_INFO")})):this.state.waitingLedgerAction?g.a.createElement(Ll,null,g.a.createElement(Pl,{msg:t("LEDGER_WAITING_ACTION")})):null,g.a.createElement(Dl,null,g.a.createElement(ko.a,{paragraph:!0,variant:"subheading"},t("LEDGER_INFO")),g.a.createElement(ko.a,{paragraph:!0},g.a.createElement("span",{dangerouslySetInnerHTML:{__html:t("LEDGER_BASIC_USAGE_INFO",{args:[{component:g.a.createElement(Ks,{href:"https://www.ledgerwallet.com/",target:"_blank"},"LEDGER")}]})}})),g.a.createElement(ko.a,{paragraph:!0},g.a.createElement(Ks,{href:"https://www.ledgerwallet.com/",target:"_blank"},g.a.createElement(qo,{src:wo.a,alt:"https://www.ledgerwallet.com/",className:a.dlBtnImg}))),!this.state.waitingAddrsData&&!this.state.waitingLedgerAction&&g.a.createElement(As.a,{onClick:this.connectLedger,variant:"contained",color:"primary"},t("CONNECT_WITH_LEDGER")))))}}]),t}(h.Component),rh=xs(Xm(Object(vs.a)(qm)(nh))),ih=Object(Zm.a)(function(e){return{tabsContainer:{display:"flex",flexGrow:1,overflowY:"auto",position:"relative",margin:e.spacing(1)}}});var sh=function(){var e=ih(),t=(Object(T.d)(xn)||{}).search;return g.a.createElement(Po.a,{container:!0,spacing:2,direction:"row",alignContent:"flex-start"},g.a.createElement(Po.a,{item:!0,xs:12,className:e.tabsContainer},"?metamask"===t&&g.a.createElement(eh,null),"?trezor"===t&&g.a.createElement(ah,null),"?ledger"===t&&g.a.createElement(rh,null)))};var oh=Gm(function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).validateContractOwner=function(){var e=a.props;(0,e.validate)("identityContractOwner",{isValid:!!e.identity.identityContractOwner,err:{msg:"ERR_NO_IDENTITY_CONTRACT_OWNER"},dirty:!1})},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.validateContractOwner()}},{key:"componentDidUpdate",value:function(e){var t=this.props.identity.identityContractOwner;t&&t!==e.identity.identityContractOwner&&this.validateContractOwner()}},{key:"render",value:function(){return g.a.createElement(sh,this.props)}}]),t}(h.Component)),ch=Object(T.c)(function(e){return{account:e.persist.account}},function(e){return{actions:Object(I.b)(es,e)}})(xs(oh)),lh=Gm(function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.identity,t=e.email,a=e.emailCheck,n=e.password,r=e.passwordCheck,i=e.coupon,s=e.tosCheck;this.validateEmail(t,!1),this.validateEmailCheck(a,!1),this.validatePassword(n,!1),this.validatePasswordCheck(r,!1),this.validateCoupon(i,!1),this.validateTOS(s,!1)}},{key:"validateEmail",value:function(e,t){var a=Wi(e);this.props.validate("email",{isValid:a,err:{msg:"ERR_EMAIL"},dirty:t})}},{key:"validateEmailCheck",value:function(e,t,a){var n=!!e&&!!t&&e===t;this.props.validate("emailCheck",{isValid:n,err:{msg:"ERR_EMAIL_CHECK"},dirty:a})}},{key:"validatePassword",value:function(e,t){var a=function(e){return e=e||"",Ui.test(e)}(e);this.props.validate("password",{isValid:a,err:{msg:"ERR_PASSWORD"},dirty:t})}},{key:"validatePasswordCheck",value:function(e,t,a){var n=!!e&&!!t&&e===t;this.props.validate("passwordCheck",{isValid:n,err:{msg:"ERR_PASSWORD_CHECK"},dirty:a})}},{key:"validateCoupon",value:function(e,t){var a=this,n=Hi(e);n?this.setState({waitingCheck:!0},function(){(function(e){var t=e.coupon;return Ft.fetch({route:"identity/valid-coupon/".concat(t),method:"GET"}).then(Wt)})({coupon:e}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!0===e.exist&&!1===e.used,r="";!1===e.exist?r="ERR_COUPON_NOT_EXIST":!0===e.used&&(r="ERR_COUPON_USED"),a.props.validate("coupon",{isValid:n,err:{msg:r},dirty:t})}).catch(function(e){a.props.validate("coupon",{isValid:!1,err:{msg:"ERR_COUPON_NETWORK"},dirty:!0})})}):this.props.validate("coupon",{isValid:n,err:{msg:"ERR_COUPON_FORMAT"},dirty:t})}},{key:"validateTOS",value:function(e,t){this.props.validate("tosCheck",{isValid:!!e,err:{msg:"ERR_TOS_CHECK"},dirty:t})}},{key:"tosCheck",value:function(e){this.props.handleChange("tosCheck",e),this.validateTOS(e,!0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.identity,r=t.handleChange,i=t.invalidFields,s=i.coupon,o=i.email,c=i.emailCheck,l=i.password,u=i.passwordCheck,d=i.tosCheck;return g.a.createElement("div",null,g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"text",required:!0,label:a("coupon",{isProp:!0}),name:"coupon",value:n.coupon||"",onChange:function(e){return r("coupon",e.target.value)},onBlur:function(){return e.validateCoupon(n.coupon,!0)},onFocus:function(){return e.validateCoupon(n.coupon,!1)},error:s&&!!s.dirty,maxLength:128,helperText:s&&s.dirty?s.errMsg:a("ENTER_VALID_COUPON")})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"text",required:!0,label:a("email",{isProp:!0}),name:"email",value:n.email||"",onChange:function(e){return r("email",e.target.value.trim())},onBlur:function(){return e.validateEmail(n.email,!0)},onFocus:function(){return e.validateEmail(n.email,!1)},error:o&&!!o.dirty,maxLength:128,helperText:o&&o.dirty?o.errMsg:a("ENTER_VALID_EMAIL")})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"text",required:!0,label:a("emailCheck",{isProp:!0}),name:"emailCheck",value:n.emailCheck||"",onChange:function(e){return r("emailCheck",e.target.value.trim())},onBlur:function(){return e.validateEmailCheck(n.emailCheck,n.email,!0)},onFocus:function(){return e.validateEmailCheck(n.emailCheck,n.email,!1)},error:c&&!!c.dirty,maxLength:128,helperText:c&&c.dirty?c.errMsg:a("ENTER_SAME_EMAIL")})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"password",required:!0,label:a("password",{isProp:!0}),name:"password",value:n.password||"",onChange:function(e){return r("password",e.target.value)},onBlur:function(){return e.validatePassword(n.password,!0)},onFocus:function(){return e.validatePassword(n.password,!1)},error:l&&!!l.dirty,maxLength:128,helperText:l&&l.dirty?l.errMsg:a("PASSWORD_RULES")})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"password",required:!0,label:a("passwordCheck",{isProp:!0}),name:"passwordCheck",value:n.passwordCheck||"",onChange:function(e){return r("passwordCheck",e.target.value)},onBlur:function(){return e.validatePasswordCheck(n.passwordCheck,n.password,!0)},onFocus:function(){return e.validatePasswordCheck(n.passwordCheck,n.password,!1)},error:u&&!!u.dirty,maxLength:128,helperText:u&&u.dirty?u.errMsg:a("PASSWORD_CHECK_RULES")})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Cc.a,{required:!0,error:d&&d.dirty,component:"fieldset"},g.a.createElement(Kl.a,{control:g.a.createElement(dl.a,{checked:!!n.tosCheck,onChange:function(t){return e.tosCheck(t.target.checked)},value:"tosCheck",color:"primary"}),label:a("TOS_CHECK")}),d&&!!d.dirty&&g.a.createElement(kc.a,null,d.errMsg)))))}}]),t}(h.Component)),uh=xs(Object(vs.a)(Vm)(lh));var dh=Gm(function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).validateIdentity=function(){var e=a.props;(0,e.validate)("identityAddr",{isValid:!!e.identity.identityAddr,err:{msg:"ERR_IDENTITY_NOT_GENERATED"},dirty:!1})},a.initLocalWallet=function(){var e=a.props,t=e.handleChange,n=e.identity,r=n.email,i=n.password,s=function(e){var t=e.email,a=void 0===t?"":t,n=e.password,r=void 0===n?"":n,i=e.mnemonic,s=Aa(void 0===i?"":i),o=wa({email:a,password:r});return Oa({data:Ta({data:s,email:a,password:r})},o),s}({email:r,password:i});s.authType=Ie.GRANT.name,s.email=r,s.password=i,t("wallet",s),t("walletAddr",s.address)},a.getIdentity=function(){var e=a.props,t=e.identity,n=e.actions,r=t.email,i=t.password,s=t.coupon,o=t.walletAddr;n.getGrantAccount({walletAddr:o,email:r,password:i,coupon:s})},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.validateIdentity(),this.props.identity.identityAddr||this.initLocalWallet()}},{key:"componentDidUpdate",value:function(e){var t=this.props.identity.identityAddr;t&&t!==e.identity.identityAddr&&this.validateIdentity()}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.identity,n=e.classes,r=e.waitingGrant,i=a.walletAddr,s=a.identityAddr,o=a.grantAmount;return g.a.createElement("div",null,g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,sm:12},g.a.createElement(ko.a,{paragraph:!0,variant:"subheading"},t("GRANT_WALLET_ADDRESS")," "+i),g.a.createElement(ko.a,{paragraph:!0,variant:"body2"},t("GRANT_WALLET_ADDRESS_INFO"))),g.a.createElement(Po.a,{item:!0,sm:12},s?g.a.createElement(ko.a,{paragraph:!0,variant:"subheading"},t("IDENTITY_ADDRESS_INFO",{args:[s,o]})):g.a.createElement("div",null,g.a.createElement(ko.a,{paragraph:!0,variant:"subheading"},t("IDENTITY_ADDRESS_INFO_1")),g.a.createElement("span",{className:n.buttonProgressWrapper},g.a.createElement(As.a,{variant:"contained",color:"primary",size:"large",onClick:this.getIdentity,disabled:r},t("GET_GRANT_IDENTITY")),r&&g.a.createElement(zo.a,{size:24,className:n.buttonProgress}))))))}}]),t}(h.Component)),ph=Object(T.c)(function(e){return{waitingGrant:e.memory.spinners["getting-grant-identity"]}},function(e){return{actions:Object(I.b)(es,e)}})(xs(Object(vs.a)(Vm)(dh))),mh=Gm(function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).validateWallet=function(e){var t=a.props,n=t.identity,r=t.handleChange,i=t.validate,s=n.email,o=n.password,c={};if(s&&o){var l=Ca({email:s,password:o});l&&l.data&&((c=Object(x.a)({},l.data)).email=s,c.password=o,c.authType=Ie.GRANT.name,c.identity={address:l.identity,privileges:l.identityPrivileges}),r("wallet",c),r("walletAddr",c.address),r("identityData",c.identity)}i("wallet",{isValid:!!c.address,err:{msg:"ERR_LOCAL_WALLET_LOGIN"},dirty:e})},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.validateWallet(!1)}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.identity,r=t.handleChange,i=t.invalidFields,s=t.classes,o=t.actions,c=i.wallet;return g.a.createElement(Po.a,{container:!0,spacing:2,alignContent:"space-between",alignItems:"center"},g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(ko.a,{variant:"body2",color:"primary",gutterBottom:!0},a("GRANT_LOGIN_INFO"))),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"text",required:!0,label:a("email",{isProp:!0}),name:"email",value:n.email||"",onChange:function(e){return r("email",e.target.value)}})),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Jl.a,{fullWidth:!0,type:"password",required:!0,label:a("password",{isProp:!0}),name:"password",value:n.password||"",onChange:function(e){return r("password",e.target.value)}})),c&&!!c.dirty&&g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(ko.a,{variant:"body2",color:"error",gutterBottom:!0},c.errMsg)),g.a.createElement(Po.a,{item:!0,xs:12},!!n.walletAddr&&g.a.createElement("div",null,g.a.createElement(ko.a,{variant:"body1"},a("GRANT_WALLET_ADDRESS",{args:[n.walletAddr]})),g.a.createElement(ko.a,{variant:"body1",gutterBottom:!0},a("GRANT_IDENTITY_ADDRESS",{args:[n.identityAddr]}))),g.a.createElement(As.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return e.validateWallet(!0)}},a("CHECK_GRANT_IDENTITY"))))),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement("input",{accept:"text/json",className:s.input,id:"contained-button-file",type:"file",onChange:o.onUploadLocalWallet}),g.a.createElement("label",{htmlFor:"contained-button-file"},g.a.createElement(As.a,{component:"span",className:s.button},a("UPLOAD_ACCOUNT_DATA_JSON")))))}}]),t}(h.Component)),hh=xs(Object(vs.a)(Vm)(mh)),gh=function(e,t){return e.map(function(e){return{value:e.identity+"-"+e.privLevel,label:t("IDENTITY_OPTION_DATA",{args:[e.identity,e.privLevel,Kr(Object(jt.bigNumberify)(e.balanceDAI).toString(),18,!0),"DAI"]})}})},vh=Gm(function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).validateIdentity=function(e){var t=a.props,n=t.identity,r=t.handleChange,i=t.validate,s=n.wallet,o=(n.identityContractAddress||"").split("-"),c={address:o[0],privileges:parseInt(o[1]||0)};r("wallet",s),r("walletAddr",s.address),r("identityData",c),i("identityContractAddress",{isValid:!!c.address,err:{msg:"ERR_LOCAL_WALLET_LOGIN"},dirty:e})},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.actions,a=e.identity;t.ownerIdentities({owner:a.wallet.address}),this.validateIdentity(!1)}},{key:"componentDidUpdate",value:function(e){e.identity.identityContractAddress!==this.props.identity.identityContractAddress&&this.props.identity.wallet&&this.validateIdentity(!0)}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.identity,n=e.handleChange,r=a.ownerIdentities,i=void 0===r?[]:r,s=a.identityContractAddress;return g.a.createElement(Po.a,{container:!0,spacing:2,alignContent:"space-between",alignItems:"center"},g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Po.a,{container:!0,spacing:2},g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(ko.a,{variant:"body2",color:"primary",gutterBottom:!0},t("FULL_LOGIN_INFO"))),g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(Gc,{label:t("SELECT_IDENTITY"),helperText:t("SELECT_IDENTITY_INFO"),onChange:function(e){return n("identityContractAddress",e)},source:gh(i,t),value:s||"",htmlId:"label-identityContractAddress",fullWidth:!0})))))}}]),t}(h.Component)),fh=xs(Object(vs.a)(Vm)(vh)),bh=Object(Zm.a)(function(e){return{button:{height:"50%",minHeight:e.spacing(4)},container:{}}});function Eh(e){var t=e.t,a=Object(Ns.a)(e,["t"]),n=bh(),r=Object(h.useState)(""),i=Object(st.a)(r,2),s=i[0],o=i[1];return g.a.createElement(Po.a,{container:!0,alignItems:"stretch",className:n.buttons},g.a.createElement(Po.a,{item:!0,container:!0,direction:"column",alignItems:"stretch",justify:"space-evenly"},"create"!==s&&g.a.createElement(g.a.Fragment,null,g.a.createElement(Tp.a,null,g.a.createElement(ko.a,{variant:"h5",gutterBottom:!0},t("SELECT_EXISTING_IDENTITY")),g.a.createElement(fh,a)),g.a.createElement(Po.a,{container:!0,className:n.buttons},g.a.createElement(Po.a,{item:!0,xs:12},g.a.createElement(As.a,{onClick:function(){return o("create")}},t("CREATE_NEW_IDENTITY_LINK"))))),"create"===s&&g.a.createElement(g.a.Fragment,null,g.a.createElement(ko.a,{variant:"h5",gutterBottom:!0},t("CREATE_NEW_IDENTITY")),g.a.createElement(zm,a))))}var yh=function(e){var t=e.pages,a=e.currentPage,n=e.classes;Object(Ns.a)(e,["pages","currentPage","classes"]);return window.innerWidth<=768?g.a.createElement("div",null,g.a.createElement(Ol.a,{className:n.mobileStepLabel},"(",a+1,"/",t.length,") ",t[a].title),g.a.createElement(El.a,{activeStep:a,steps:t.length,position:"static",variant:"progress",className:n.mobileStepper})):g.a.createElement(bl.a,{alternativeLabel:!0,activeStep:a},t.map(function(e,t){return g.a.createElement(yl.a,{key:e.title},g.a.createElement(Ol.a,null,e.title))}))},Oh=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(E.a)(t,[{key:"goToPage",value:function(e){var t=e>this.props.currentPage&&this.canAdvanceNextToPage(),a=e<this.props.currentPage;(t||a)&&this.props.setPageIndex(e)}},{key:"canAdvanceNextToPage",value:function(){var e=this.props.pages[this.props.currentPage];return!(!this.props.canAdvance||Object.keys(this.props.validations[e.props.validateId]||{}).length)}},{key:"isValidPage",value:function(){var e=this.props.pages[this.props.currentPage];return!Object.keys(this.props.validations[e.props.validateId]||{}).length}},{key:"render",value:function(){var e=Object(x.a)({},this.props),t=e.pages,a=(e.component,e.validations,e.currentPage),n=e.t,r=e.classes,i=Object(Ns.a)(e,["pages","component","validations","currentPage","t","classes"]),s=t[a],o=s.component;return g.a.createElement("div",{className:r.stepperWrapper},g.a.createElement(xc.a,{classes:{root:r.stepperNav}},g.a.createElement(yh,Object.assign({},i,{pages:t,classes:r,currentPage:a,goToPage:this.goToPage.bind(this)}))),g.a.createElement("br",null),g.a.createElement(xc.a,{classes:{root:r.pagePaper}},g.a.createElement("div",{className:r.pageContent},g.a.createElement(o,s.props)),g.a.createElement("div",{className:r.controls},g.a.createElement("div",{className:r.left},!i.canReverse||s.disableBtnsIfValid&&this.isValidPage()?"":g.a.createElement(As.a,{onClick:function(){return i.setPageIndex(a-1)}},n("BACK"))),g.a.createElement("div",{className:r.right},!s.cancelBtn||s.disableBtnsIfValid&&this.isValidPage()?null:g.a.createElement(s.cancelBtn,null),this.canAdvanceNextToPage()&&!s.completeBtn?g.a.createElement(As.a,{variant:"contained",color:"primary",onClick:this.goToPage.bind(this,a+1)},n("CONTINUE")):s.completeBtn?null:g.a.createElement(As.a,{label:"Continue",disabled:!0},n("CONTINUE")),s.completeBtn&&this.isValidPage()?g.a.createElement(s.completeBtn,null):""))))}}]),t}(g.a.Component),Ah=Object(fl.a)(Object(vs.a)({root:{color:"purple","&$active":{color:"green"}},active:{color:"yellow"},stepperWrapper:{position:"absolute",bottom:0,left:0,right:0,top:0},pagePaper:{position:"absolute",bottom:0,left:0,right:0,top:115},pageContent:{position:"absolute",top:20,left:20,right:20,bottom:50,padding:20,overflowY:"auto",overflowX:"hidden",display:"flex",WebkitOverflowScrolling:"touch","@media(max-width:500px)":{paddingLeft:0,paddingRight:0}},controls:{position:"absolute",bottom:5,left:20,right:20},right:{textAlign:"right",display:"inline-block",width:"50%","@media(max-width:475px)":{width:"86%"}},left:{display:"inline-block",textAlign:"left",width:"50%","@media(max-width:475px)":{width:"14%"}},mobileStepper:{width:"100%","& div":{width:"100%",height:"10px"}},mobileStepLabel:{"& span":{fontSize:"24px",margin:"14px auto"},textAlign:"center",width:"auto"}})(xs(Oh))),wh=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return g.a.createElement(vl.a,{pages:this.props.pages,style:{display:"block"}},g.a.createElement(Ah,{itemType:this.props.itemType,validations:this.props.validations}))}}]),t}(g.a.Component);var Th=Object(T.c)(function(e,t){var a=e.persist,n=e.memory;return{account:a.account,validations:n.validations}},function(e){return{actions:Object(I.b)(es,e)}})(wh),Ih=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(O.a)(t).call(this,e))).mapPages=function(){var e=a.props,t=e.GoBtn,n=e.CancelBtn,r=e.t,i=e.onSave,s=e.stepsId,o=e.stepsPages,c=void 0===o?[]:o,l=(e.stepsPreviewPage,e.validateIdBase),u=Object(Ns.a)(e,["GoBtn","CancelBtn","t","onSave","stepsId","stepsPages","stepsPreviewPage","validateIdBase"]),d=function(){return g.a.createElement(n,Object.assign({},u,{stepsId:s,onSave:i,t:r}))},p=(l||"")+"-"+s;return c.map(function(e,n){return{title:r(e.title),cancelBtn:d,component:Km(e.page),disableBtnsIfValid:e.disableBtnsIfValid,props:Object(x.a)({},a.props,{validateId:p+"-"+n}),completeBtn:e.final?function(){return g.a.createElement(t,Object.assign({},u,{stepsId:s,onSave:i,t:r}))}:void 0}})},a.state={pages:a.mapPages()},a}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return g.a.createElement(Th,{pages:this.state.pages})}}]),t}(h.Component);var Ch=Object(T.c)(function(){return{}},function(e){return{actions:Object(I.b)(es,e)}})(xs(Object(vs.a)(Vm)(Ih))),xh={GoBtn:Object(vs.a)(Vm)(Gm(function(e){var t=e.waiting,a=e.save,n=e.t,r=e.classes;Object(Ns.a)(e,["waiting","save","t","classes"]);return g.a.createElement("span",{className:r.buttonProgressWrapper},g.a.createElement(As.a,{color:"primary",onClick:a,disabled:t},n("LETS_GO")),t&&g.a.createElement(zo.a,{size:24,className:r.buttonProgress}))})),CancelBtn:Gm(function(e){var t=Object(gl.a)({},e);return g.a.createElement(As.a,{onClick:t.cancel},t.t("CANCEL"))}),validateIdBase:"identity-"},jh=a(500),kh=a.n(jh),Sh=a(501),Nh=a.n(Sh),_h=Object(Zm.a)(function(e){return{root:{textAlign:"center"},vitalik:{backgroundImage:"url(".concat(Nh.a,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"},container:{maxWidth:e.breakpoints.values.md,margin:"auto"}}});var Rh=Object(Zm.a)(function(e){return{dialog:{height:"100vh",width:e.maxWidth||1200,maxWidth:"100%"}}});function Dh(e){return function(t){var a=Object(gl.a)({},t),n=Rh();return g.a.createElement(Os.a,{open:!0,classes:{paper:n.dialog}},g.a.createElement(Ts.a,null,g.a.createElement(e,a)))}}var Lh=Wm(Dh(function(e){return g.a.createElement(Ch,Object.assign({},e,xh,{stepsId:"grant-identity-create",stepsPages:[{title:"GRANT_INFO",page:uh},{title:"GRANT_DEPLOY",page:ph,final:!0,disableBtnsIfValid:!0}]}))})),Ph=Wm(Dh(function(e){return g.a.createElement(Ch,Object.assign({},e,xh,{stepsId:"grant-identity-login",stepsPages:[{title:"GRANT_LOGIN",page:hh,final:!0}]}))})),Mh=Wm(Dh(function(e){return g.a.createElement(Ch,Object.assign({},e,xh,{stepsId:"full-identity-create",stepsPages:[{title:"SET_IDENTITY_OWNER_ADDRESS",page:ch},{title:"GENERATE_IDENTITY_CONTRACT_ADDRESS",page:zm,final:!0}]}))})),Uh=Wm(Dh(function(e){return g.a.createElement(Ch,Object.assign({},e,xh,{stepsId:"full-identity-login",stepsPages:[{title:"SET_IDENTITY_OWNER_ADDRESS",page:ch},{title:"CONNECT_STANDARD_IDENTITY",page:Eh,final:!0}]}))})),Bh=Wm(function(e){var t=e.t,a=(Object(Ns.a)(e,["t"]),_h());return g.a.createElement(Tp.a,{width:1,height:1,className:a.root,alignItems:"center"},g.a.createElement(Tp.a,{height:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",maxWidth:"md",className:a.container},g.a.createElement(ko.a,{variant:"h6",component:"h6",gutterBottom:!0},t("GET_IN_TOUCH")),g.a.createElement(qo,{src:kh.a,alt:"AdEx logo"}),g.a.createElement(ko.a,{variant:"h5",component:"h5",gutterBottom:!0},t("FUTURE_OF_THE_ADS")),g.a.createElement(ko.a,{variant:"body1",gutterBottom:!0},t("FUTURE_OF_THE_ADS_INFO_1")),g.a.createElement(ko.a,{variant:"body1",gutterBottom:!0},t("FUTURE_OF_THE_ADS_INFO_2")),g.a.createElement(ko.a,{variant:"body1",gutterBottom:!0},t("FUTURE_OF_THE_ADS_INFO_3")),g.a.createElement(Tp.a,{height:"30%",position:"relative",className:a.vitalik,alignSelf:"stretch"})))}),Fh=function(e){var t=e.component,a=e.auth,n=Object(Ns.a)(e,["component","auth"]);return g.a.createElement(_s.a,Object.assign({},n,{render:function(e){return!0===a?g.a.createElement(t,e):g.a.createElement(Rs.a,{to:{pathname:"/",state:{from:e.location}}})}}))},Wh=function(){var e=Object(T.d)(In);return Object(h.useEffect)(function(){nt(Kn())},[]),g.a.createElement(Ds.a,null,g.a.createElement(Fh,{auth:e,path:"/dashboard/:side",component:Mm}),g.a.createElement(Fh,{auth:e,path:"/side-select",component:Op}),g.a.createElement(_s.a,{exact:!0,path:"/",component:function(e){return g.a.createElement(Bh,Object.assign({},e,{noBackground:!0}))}}),g.a.createElement(_s.a,{exact:!0,path:"/identity/grant",component:function(e){return g.a.createElement(Lh,Object.assign({},e,{noBackground:!0}))}}),g.a.createElement(_s.a,{exact:!0,path:"/login/grant",component:function(e){return g.a.createElement(Ph,Object.assign({},e,{noBackground:!0}))}}),g.a.createElement(_s.a,{exact:!0,path:"/login/full",component:function(e){return g.a.createElement(Uh,Object.assign({},e,{noBackground:!0}))}}),g.a.createElement(_s.a,{exact:!0,path:"/identity/full",component:function(e){return g.a.createElement(Mh,Object.assign({},e,{noBackground:!0}))}}),g.a.createElement(_s.a,null,g.a.createElement(Lc,null)))},Gh=a(1102),Vh=a(507),Hh=a(504),zh=a.n(Hh),Zh=a(502),Yh=a.n(Zh),Jh=a(503),Kh=a.n(Jh),Xh={primary:{main:"#1B75BC",contrastText:"#fff"},secondary:{main:"#14DC9C",contrastText:"#fff"},error:Yh.a,warning:Kh.a,first:zh.a,contrastThreshold:3,tonalOffset:.2,text:Sl.a},qh=Object(Vh.a)({palette:Object(x.a)({},Xh),overrides:{MuiButton:{root:{borderRadius:0},outlined:{borderRadius:0}},MuiTableCell:{head:{whiteSpace:"nowrap"},root:{whiteSpace:"nowrap"}},MuiPaper:{rounded:{borderRadius:0}}}}),Qh=a(1101),$h=tt.persistor,eg=tt.store,tg=function(){},ag=Object(vs.a)(function(e){return{"@global":{html:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'},a:{textDecoration:"none"}}}})(function(e){var t=e.classes;return g.a.createElement(Qh.a,{classes:t.globalStyles})}),ng=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return g.a.createElement(g.a.Fragment,null,g.a.createElement(ag,null),g.a.createElement(Gh.a,{theme:qh},g.a.createElement(Uu.b,{utils:Zr.a},g.a.createElement(T.a,{store:eg},g.a.createElement(Ss.a,{onBeforeLift:tg,persistor:$h},g.a.createElement(Ke.a,{history:Ye},g.a.createElement(w.a,null,g.a.createElement("div",{className:"adex-dapp"},g.a.createElement(Wh,null),g.a.createElement(Es,null),g.a.createElement(ks,null)))))))))}}]),t}(h.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object.values=m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=0,n=Object.keys(t);case 1:if(!(a<n.length)){e.next=8;break}return r=n[a],e.next=5,t[r];case 5:a++,e.next=1;break;case 8:case"end":return e.stop()}},e)}),f.a.render(g.a.createElement(ng,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},192:function(e,t,a){e.exports=a.p+"static/media/no-image-box-eddie.09d4c583.jpg"},245:function(e){e.exports={name:"adex-dapp",version:"4.1.22",private:!0,dependencies:{"@babel/core":"7.4.3","@date-io/date-fns":"^1.1.0","@date-io/moment":"^1.1.0","@ledgerhq/hw-app-eth":"^4.48.0","@ledgerhq/hw-transport-u2f":"^4.48.0","@material-ui/core":"^4.3.0","@material-ui/icons":"^4.2.1","@material-ui/lab":"^4.0.0-alpha.21","@svgr/webpack":"4.1.0","@typescript-eslint/eslint-plugin":"1.6.0","@typescript-eslint/parser":"1.6.0","adex-constants":"1.0.10","adex-models":"git+https://git@github.com/AdExBlockchain/adex-models.git#163e17664c89d68ee996249382ee8f93b1e39755","adex-protocol-eth":"github:AdExNetwork/adex-protocol-eth#8f93d90fc312a77151f277717f5d36ad84e86086","adex-translations":"git+https://git@github.com/AdExBlockchain/adex-translations.git#1e1668282d3ccba23ada2cf844c4b0aba14cf47c",autoprefixer:"7.1.6","babel-core":"7.0.0-bridge.0","babel-eslint":"10.0.1","babel-jest":"^24.8.0","babel-loader":"8.0.5","babel-plugin-named-asset-import":"^0.3.2","babel-preset-react-app":"^9.0.0","babel-runtime":"6.26.0",base64url:"^3.0.1",bfj:"6.1.1",camelcase:"^5.2.0","case-sensitive-paths-webpack-plugin":"2.2.0",chalk:"2.4.1","chart.js":"^2.7.2",classnames:"^2.2.5","connected-react-router":"^6.5.2","copy-to-clipboard":"^3.0.8","css-loader":"2.1.1",debounce:"^1.0.2",dotenv:"6.2.0","dotenv-expand":"4.2.0",downshift:"^2.0.10","ethereumjs-util":"^6.1.0",ethers:"^4.0.27","file-loader":"3.0.1","fork-ts-checker-webpack-plugin-alt":"0.4.14","fs-extra":"7.0.1","gh-pages":"^2.0.1",hdkey:"^1.1.1",history:"^4.9.0","html-webpack-plugin":"4.0.0-beta.5","identity-obj-proxy":"3.0.0","is-wsl":"^1.1.0",jest:"^24.7.1","jest-environment-jsdom-fourteen":"0.1.0","jest-pnp-resolver":"1.0.1","jest-resolve":"23.6.0","jest-watch-typeahead":"0.3.0",keycode:"^2.2.0","lodash.merge":"^4.6.2","material-ui-pickers":"^2.2.4","mini-css-extract-plugin":"0.5.0","object-assign":"^4.1.1","optimize-css-assets-webpack-plugin":"5.0.1","pnp-webpack-plugin":"1.2.1","postcss-flexbugs-fixes":"4.1.0","postcss-loader":"3.0.0","postcss-normalize":"7.0.1","postcss-preset-env":"6.0.6","postcss-safe-parser":"4.0.1","prop-types":"^15.5.10",raf:"3.4.0",react:"^16.8.6","react-app-polyfill":"^0.1.3","react-chartjs-2":"^2.7.2","react-dev-utils":"^9.0.1","react-dom":"^16.8.6","react-dropzone":"^4.2.1","react-flag-icon-css":"^1.0.19","react-image-crop":"^3.0.10","react-list":"^0.8.7","react-redux":"^7.0.1","react-router":"^4.1.2","react-router-dom":"^5.1.2","react-select":"^1.2.1","react-step":"^0.4.1","react-virtualized-auto-sizer":"^1.0.2","react-window":"^1.8.5",recompose:"^0.25.0",redux:"^3.7.2","redux-ignore":"^1.2.4","redux-immutable-state-invariant":"^2.0.0","redux-persist":"^5.10.0","redux-thunk":"^2.3.0",reselect:"^4.0.0",resolve:"1.10.0","sass-loader":"7.1.0",semver:"6.0.0","style-loader":"0.23.1","terser-webpack-plugin":"1.2.3","trezor-connect":"^7.0.3","ts-pnp":"1.1.2","url-loader":"1.1.2",webpack:"4.29.6","webpack-dev-server":"3.2.1","webpack-manifest-plugin":"2.0.4","workbox-webpack-plugin":"4.2.0"},scripts:{start:"node --max-old-space-size=4096 scripts/start.js",build:"node --max-old-space-size=2048 scripts/build.js",deploy:"npm run build && cp ./domains/platform/CNAME ./build && gh-pages -d build","deploy-staging":"npm run build && cp ./domains/staging/CNAME ./build && gh-pages -d build -r git@github.com:AdExNetwork/adex-platform-staging.git",test:"eslint src/","unit-tests":"node scripts/test.js --env=jsdom",lint:'eslint "src/**/*.{js,jsx}" && echo Linting check finished',"lint:fix":'eslint --fix "src/**/*.{js,jsx}" && echo Linting fix finished',"eslint-check":"eslint --print-config src/App.js | eslint-config-prettier-check"},eslintConfig:{extends:"react-app"},browserslist:[">0.2%","not dead","not ie <= 11","not op_mini all"],jest:{collectCoverageFrom:["src/**/*.{js,jsx,ts,tsx}","!src/**/*.d.ts"],setupFiles:["react-app-polyfill/jsdom"],setupFilesAfterEnv:[],testMatch:["<rootDir>/src/**/__tests__/**/*.{js,jsx,ts,tsx}","<rootDir>/src/**/*.{spec,test}.{js,jsx,ts,tsx}"],testEnvironment:"jest-environment-jsdom-fourteen",transform:{"^.+\\.(js|jsx|ts|tsx)$":"<rootDir>/node_modules/babel-jest","^.+\\.css$":"<rootDir>/config/jest/cssTransform.js","^(?!.*\\.(js|jsx|ts|tsx|css|json)$)":"<rootDir>/config/jest/fileTransform.js"},transformIgnorePatterns:["[/\\\\]node_modules[/\\\\].+\\.(js|jsx|ts|tsx)$","^.+\\.module\\.(css|sass|scss)$"],modulePaths:[],moduleNameMapper:{"^react-native$":"react-native-web","^.+\\.module\\.(css|sass|scss)$":"identity-obj-proxy"},moduleFileExtensions:["web.js","js","web.ts","ts","web.tsx","tsx","json","web.jsx","jsx","node"],watchPlugins:["jest-watch-typeahead/filename","jest-watch-typeahead/testname"]},babel:{presets:["react-app"]},devDependencies:{eslint:"^5.16.0","eslint-config-prettier":"^6.0.0","eslint-config-prettier-react":"0.0.24","eslint-config-react-app":"^4.0.1","eslint-loader":"^2.1.2","eslint-plugin-flowtype":"^2.50.1","eslint-plugin-html":"^6.0.0","eslint-plugin-import":"^2.16.0","eslint-plugin-jsx-a11y":"^6.2.1","eslint-plugin-prettier":"^3.1.0","eslint-plugin-react":"^7.12.4","eslint-plugin-react-hooks":"^1.7.0",prettier:"^1.18.2"}}},247:function(e,t,a){e.exports=a.p+"static/media/trezor-logo-h.1da00f60.png"},248:function(e,t){e.exports="data:image/png;base64,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"},448:function(e){e.exports={contractName:"Identity",abi:[{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"routinePaidFees",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"nonce",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"privileges",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"routineAuthorizations",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"addrs",type:"address[]"},{name:"privLevels",type:"uint8[]"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"addr",type:"address"},{indexed:!1,name:"privLevel",type:"uint8"}],name:"LogPrivilegeChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"hash",type:"bytes32"},{indexed:!1,name:"authorized",type:"bool"}],name:"LogRoutineAuth",type:"event"},{constant:!1,inputs:[{name:"addr",type:"address"},{name:"privLevel",type:"uint8"}],name:"setAddrPrivilege",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"hash",type:"bytes32"},{name:"authorized",type:"bool"}],name:"setRoutineAuth",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{components:[{name:"identityContract",type:"address"},{name:"nonce",type:"uint256"},{name:"feeTokenAddr",type:"address"},{name:"feeAmount",type:"uint256"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"}],name:"txns",type:"tuple[]"},{name:"signatures",type:"bytes32[3][]"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{components:[{name:"identityContract",type:"address"},{name:"nonce",type:"uint256"},{name:"feeTokenAddr",type:"address"},{name:"feeAmount",type:"uint256"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"}],name:"txns",type:"tuple[]"}],name:"executeBySender",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{components:[{name:"relayer",type:"address"},{name:"outpace",type:"address"},{name:"registry",type:"address"},{name:"validUntil",type:"uint256"},{name:"feeTokenAddr",type:"address"},{name:"weeklyFeeAmount",type:"uint256"}],name:"auth",type:"tuple"},{components:[{name:"mode",type:"uint8"},{name:"data",type:"bytes"}],name:"operations",type:"tuple[]"}],name:"executeRoutines",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]}},449:function(e){e.exports={contractName:"AdExCore",abi:[{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"withdrawn",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"},{name:"",type:"address"}],name:"withdrawnPerUser",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"states",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"channelId",type:"bytes32"}],name:"LogChannelOpen",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"channelId",type:"bytes32"},{indexed:!1,name:"amount",type:"uint256"}],name:"LogChannelWithdrawExpired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"channelId",type:"bytes32"},{indexed:!1,name:"amount",type:"uint256"}],name:"LogChannelWithdraw",type:"event"},{constant:!1,inputs:[{components:[{name:"creator",type:"address"},{name:"tokenAddr",type:"address"},{name:"tokenAmount",type:"uint256"},{name:"validUntil",type:"uint256"},{name:"validators",type:"address[]"},{name:"spec",type:"bytes32"}],name:"channel",type:"tuple"}],name:"channelOpen",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{components:[{name:"creator",type:"address"},{name:"tokenAddr",type:"address"},{name:"tokenAmount",type:"uint256"},{name:"validUntil",type:"uint256"},{name:"validators",type:"address[]"},{name:"spec",type:"bytes32"}],name:"channel",type:"tuple"}],name:"channelWithdrawExpired",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{components:[{name:"creator",type:"address"},{name:"tokenAddr",type:"address"},{name:"tokenAmount",type:"uint256"},{name:"validUntil",type:"uint256"},{name:"validators",type:"address[]"},{name:"spec",type:"bytes32"}],name:"channel",type:"tuple"},{name:"stateRoot",type:"bytes32"},{name:"signatures",type:"bytes32[3][]"},{name:"proof",type:"bytes32[]"},{name:"amountInTree",type:"uint256"}],name:"channelWithdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]}},450:function(e){e.exports={contractName:"DSToken",abi:[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"stop",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"owner_",type:"address"}],name:"setOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"wad",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"name_",type:"bytes32"}],name:"setName",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"src",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"stopped",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"authority_",type:"address"}],name:"setAuthority",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"},{name:"wad",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"wad",type:"uint256"}],name:"mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"push",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"dst",type:"address"},{name:"wad",type:"uint256"}],name:"move",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"start",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"authority",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"guy",type:"address"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"src",type:"address"},{name:"guy",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"src",type:"address"},{name:"wad",type:"uint256"}],name:"pull",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"symbol_",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"guy",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"guy",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"authority",type:"address"}],name:"LogSetAuthority",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"}],name:"LogSetOwner",type:"event"},{anonymous:!0,inputs:[{indexed:!0,name:"sig",type:"bytes4"},{indexed:!0,name:"guy",type:"address"},{indexed:!0,name:"foo",type:"bytes32"},{indexed:!0,name:"bar",type:"bytes32"},{indexed:!1,name:"wad",type:"uint256"},{indexed:!1,name:"fax",type:"bytes"}],name:"LogNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"guy",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"src",type:"address"},{indexed:!0,name:"dst",type:"address"},{indexed:!1,name:"wad",type:"uint256"}],name:"Transfer",type:"event"}]}},451:function(e){e.exports={contractName:"IdentityFactory",abi:[{constant:!0,inputs:[],name:"relayer",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"relayerAddr",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"addr",type:"address"},{indexed:!1,name:"salt",type:"uint256"}],name:"LogDeployed",type:"event"},{constant:!1,inputs:[{name:"code",type:"bytes"},{name:"salt",type:"uint256"}],name:"deploy",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"code",type:"bytes"},{name:"salt",type:"uint256"},{name:"tokenAddr",type:"address"},{name:"tokenAmount",type:"uint256"}],name:"deployAndFund",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]}},452:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return y});var n=a(2),r=a.n(n),i=a(13),s=a(7),o=a(8),c=a(10),l=a(9),u=a(11),d=a(18),p=a(259),m=a.n(p),h=a(453),g=a.n(h),v=a(454),f=a.n(v),b=a(15),E="m/44'/60'/0'",y=function(t){function a(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(s.a)(this,a),(n=Object(c.a)(this,Object(l.a)(a).call(this))).addrsFromPubKey=Object(i.a)(r.a.mark(function t(){var a,i,s,o,c,l,u,p,m,h,g,v,b=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(a=b.length>0&&void 0!==b[0]?b[0]:"",i=b.length>1&&void 0!==b[1]?b[1]:"",s=b.length>2&&void 0!==b[2]?b[2]:{},o=s.from,c=void 0===o?0:o,l=s.to,u=void 0===l?19:l,(p=new f.a).publicKey=e.from(a,"hex"),p.chainCode=e.from(i,"hex"),m=[],h=c;h<u;h++)g=p.derive("m/".concat(h)).publicExtendedKey,v=d.utils.HDNode.fromExtendedKey(g).address,m.push({address:v,path:"".concat(n.path,"/").concat(h)});return t.abrupt("return",m);case 9:case"end":return t.stop()}},t)})),n.getAddresses=Object(i.a)(r.a.mark(function e(){var t,a,i,s,o,c,l,u,d,p,h,g=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.length>0&&void 0!==g[0]?g[0]:{},a=t.from,i=void 0===a?0:a,s=t.to,o=void 0===s?5:s,e.next=3,n._transport.create();case 3:return c=e.sent,l=new m.a(c),e.next=7,l.getAddress(n.path,!1,!0);case 7:return u=e.sent,d=u.publicKey,p=u.chainCode,e.next=12,n.addrsFromPubKey(d,p,{from:i,to:o});case 12:return h=e.sent,e.abrupt("return",h);case 14:case"end":return e.stop()}},e)})),n.signTx=function(){var e=Object(i.a)(r.a.mark(function e(t){var a,i,s,o,c,l,u,p,h,g;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.utils.resolveProperties(t);case 2:return a=e.sent,i=d.utils.serializeTransaction(a).substring(2),e.next=6,n._transport.create();case 6:return s=e.sent,o=new m.a(s),e.next=10,o.signTransaction(n.path,i);case 10:return c=e.sent,l=c.r,u=c.s,p=c.v,h={r:"0x"+l,s:"0x"+u,v:p},g=d.utils.serializeTransaction(a,h),e.abrupt("return",g);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.sendTransaction=function(){var e=Object(i.a)(r.a.mark(function e(t){var a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.signTx(t);case 2:return a=e.sent,i=n.provider.sendTransaction(a),e.abrupt("return",i);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.signMessage=function(){var e=Object(i.a)(r.a.mark(function e(t){var a,i,s,o,c,l,u=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(u.length>1&&void 0!==u[1]?u[1]:{}).hex||("string"===typeof t&&(t=d.utils.toUtf8Bytes(t)),t=d.ethers.utils.hexlify(t)),t=t.substring(2),e.next=5,n._transport.create();case 5:return a=e.sent,i=new m.a(a),e.next=9,i.signPersonalMessage(n.path,t);case 9:return(s=e.sent).r="0x"+s.r,s.s="0x"+s.s,e.next=14,i.getAddress(n.path);case 14:return o=e.sent,c=o.address,l={signature:d.ethers.utils.joinSignature(s),hash:t,mode:b.constants.SignatureModes.GETH,address:c},e.abrupt("return",l);case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.connect=function(e){return new a(e,{path:n.path})},n._provider=t,n._path=o.path||E,n._transport=g.a,n}return Object(u.a)(a,t),Object(o.a)(a,[{key:"path",get:function(){return this._path}},{key:"provider",get:function(){return this._provider}}]),a}(d.Signer)}).call(this,a(28).Buffer)},455:function(e,t,a){"use strict";(function(e){var n=a(4),r=a(191),i=a.n(r),s=a(18),o=a.n(s),c=i.a.encode(JSON.stringify({type:"JWT",alg:"ETH"}));t.a={sign:function(t,a){var r=i.a.encode(JSON.stringify(Object(n.a)({},a,{address:t.address})));return t.signMessage("".concat(c,".").concat(r)).then(function(t){var a=e.from(t.signature.slice(2),"hex");return"".concat(c,".").concat(r,".").concat(i.a.encode(a))})},verify:function(t){var a=t.split(".");if(3!==a.length)return Promise.reject(new Error("verify: token needs to be of 3 parts"));var n=a.slice(0,2).join("."),r=e.from(a[2],"base64");try{var s=o.a.utils.verifyMessage(n,r),c=JSON.parse(i.a.decode(a[1]));return Promise.resolve({from:s,payload:c})}catch(l){return Promise.reject(l)}}}}).call(this,a(28).Buffer)},458:function(e,t){e.exports=Module},459:function(e){e.exports=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}]},468:function(e,t,a){e.exports=a.p+"static/media/metamask-logo.45982b2b.png"},469:function(e,t){e.exports="data:image/png;base64,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"},470:function(e,t,a){e.exports=a.p+"static/media/video-placeholder.f25010ce.jpg"},477:function(e,t,a){e.exports=a.p+"static/media/404.12db5cc0.png"},484:function(e,t,a){e.exports=a.p+"static/media/rekt-eddie.8bd0ccfa.png"},499:function(e,t,a){e.exports=a.p+"static/media/download-metamask.d5cb0c90.png"},500:function(e,t,a){e.exports=a.p+"static/media/adex-logo-txt-sm.9fd40458.svg"},501:function(e,t,a){e.exports=a.p+"static/media/eddie-20.a814049a.png"},539:function(e,t,a){e.exports=a(1015)},545:function(e,t,a){},571:function(e,t){},573:function(e,t){},607:function(e,t){},608:function(e,t){}},[[539,1,2]]]);
//# sourceMappingURL=main.c54f0713.chunk.js.map