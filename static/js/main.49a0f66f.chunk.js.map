{"version":3,"sources":["helpers/localStorageHelpers.js","resources/home-wallpaper.jpg","components/toast/Toast.js","components/toast/styles.js","components/translate/Translate.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","helpers/logosHelpers.js","components/dashboard/dashboard/TopBar.js","components/common/img/Img.js","components/common/img/styles.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/ValidImageHoc.js","components/dashboard/forms/ValidItemHoc.js","components/dashboard/containers/ImgDialog/styles.js","components/dashboard/containers/ImgDialog/ImgDialog.js","components/dashboard/containers/SaveBtn/SaveBtn.js","components/dashboard/containers/SaveBtn/styles.js","components/dashboard/containers/ItemHoc/styles.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/ItemHoc/ItemHoc.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/dashboard/forms/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/dashboard/forms/items/AdUnit/NewAdUnitHoc.js","components/common/dropdown/Dropdown.js","components/common/dropdown/styles.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","helpers/utmHelpers.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/autocomplete/common.js","components/common/autocomplete/DownshiftMultiple.js","components/common/autocomplete/DownshiftSingle.js","components/common/autocomplete/Autocomplete.js","components/common/autocomplete/styles.js","components/dashboard/forms/items/AdUnit/AdUnitTargeting.js","components/dashboard/containers/UnitTargets/UnitTargets.js","components/common/dialog/content.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/NewCampaignHoc.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/NewAdSlotHoc.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/AdSlot/AdSlotTargeting.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/tableConfig.js","components/dashboard/containers/Tables/EnhancedTableHead.js","components/common/dropdown/ChipMultipleSelect.js","components/dashboard/containers/Tables/EnhancedTableToolbar.js","components/dashboard/containers/Tables/filterHelpers.js","components/dashboard/containers/Tables/EnhancedTable.js","components/dashboard/containers/Campaign/styles.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/ItemCommon.js","components/dashboard/containers/Campaign/Campaign.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/charts/options.js","components/dashboard/charts/simplified.js","components/App/themeMUi.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/DashboardStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Slot/styles.js","components/dashboard/containers/Items/Items.js","components/dashboard/forms/web3/TransactionHoc.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/styles.js","components/dashboard/account/AccountInfo.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/common/stepper/ValidItemHoc.js","components/signin/identity/ownerAuth/AuthHoc.js","components/signin/identity/IdentityHoc.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthLedger.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/IdentitySteps.js","components/signin/identity/styles.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/App.js","serviceWorker.js","index.js","services/store-data/auth.js","constants/actionTypes.js","services/adex-validator/actions.js","helpers/mediaHelpers.js","services/smart-contracts/actions/core.js","services/requester/requester.js","services/requester/index.js","services/smart-contracts/contractsCfg.js","constants/targeting.js","services/store-data/loop.js","services/crypto/crypto.js","store/history.js","services/store-data/campaigns.js","services/store-data/account.js","resources/no-image-box-eddie.jpg","constants/misc.js","services/translations/translations.js","services/store-data/analytics.js","services/smart-contracts/actions/erc20.js","resources/trezor-logo-h.png","resources/ledger_logo_header.png","selectors/selectors.js","selectors/accountSelectors.js","selectors/identitySelectors.js","selectors/locationSelectors.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","selectors/configSelectors.js","selectors/newTransactionSelectors.js","selectors/index.js","store/initialState.js","helpers/formatters.js","services/smart-contracts/signers/ledger.js","services/adex-validator/ewt.js","actions/common.js","actions/uiActions.js","services/auth/auth.js","helpers/errors.js","actions/accountActions.js","actions/itemActions.js","actions/validationActions.js","actions/identityActions.js","actions/bidActions.js","actions/transactionActions.js","actions/analyticsActions.js","actions/index.js","services/smart-contracts/ethers.js","../external \"Module\"","constants/spinners.js","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","resources/404.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png","components/App/CacheBuster.js","services/wallet/wallet.js","helpers/miscHelpers.js","services/adex-market/actions.js","services/smart-contracts/actions/common.js","helpers/validators.js","services/smart-contracts/actions/identity.js","services/smart-contracts/actions/stats.js","services/smart-contracts/signers/trezor.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","services/adex-relayer/actions.js","reducers/configReducer.js","reducers/index.js","reducers/accountReducer.js","reducers/itemsReducer.js","reducers/uiReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/analyticsReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js"],"names":["loadFromLocalStorage","key","data","localStorage","getItem","JSON","parse","err","saveToLocalStorage","serialized","stringify","setItem","console","warn","removeFromLocalStorage","removeItem","getKeys","Object","keys","__webpack_require__","d","__webpack_exports__","module","exports","p","variantIcon","accept","CheckCircleIcon","success","warning","WarningIcon","cancel","ErrorIcon","error","info","InfoIcon","Toast","_Component","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","close","id","setState","active","actions","removeToast","state","toast","inherits","createClass","value","nextProps","nextToast","toasts","_classnames","_this2","classes","Icon","type","anchorOrigin","vertical","horizontal","top","react_default","a","createElement","Snackbar","open","autoHideDuration","timeout","onClose","unclosable","SnackbarContent","aria-describedby","message","className","classnames","icon","iconVariant","label","toString","action","IconButton","aria-label","color","onClick","Close_default","snackbar","defineProperty","Component","connect","memory","dispatch","bindActionCreators","withStyles","theme","spacing","border","borderRadius","backgroundColor","&.active","transform","margin","borderColor","fontSize","opacity","marginRight","display","alignItems","wordBreak","width","maxWidth","Translate","Decorated","language","useSelector","selectLang","assign","t","val","_ref","arguments","length","undefined","_ref$isProp","isProp","_ref$args","args","translate","Confirm","bind","assertThisInitialized","confirm","visible","_this$props","title","text","children","cancelLabel","confirmLabel","noActionBtns","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","onConfirm","onCancel","calledOn","withReactRouterLink","_React$Component","_getPrototypeOf2","_len","Array","_key","apply","concat","resolveToLocation","to","path","pathname","history","createHref","handleClick","asyncToGenerator","regenerator_default","mark","_callee","event","wrap","_context","prev","next","preventDefault","stopPropagation","push","stop","_x","_this$props2","rest","match","location","staticContext","objectWithoutProperties","toLocation","href","React","withRouter","createSvgIconCustom","displayName","viewBox","SvgIcon","pure","muiName","Anchor","target","url","replace","getUrl","Link","underline","draggable","rel","style","styles","_appBar","_drawerPaper","root","flexGrow","zIndex","overflow","position","minHeight","appBar","left","right","breakpoints","up","flex","flexDirection","flexRow","flexBasis","paddingTop","paddingBottom","&:last-child","paddingRight","paddingLeft","toolbarControls","justifyContent","toolbarTitle","navIconHide","toolbar","objectSpread","flexFlow","height","mixins","drawerPaper","content","palette","background","default","padding","marginLeft","contentInner","sideIndex","advertiser","publisher","0","1","handleChange","ev","index","execute","useStyles","makeStyles","activeColor","side","accentOne","main","accentTwo","minWidth","&$selected","selected","indicator","SideSwitch","_ref2","AppBar","Tabs","onChange","indicatorColor","textColor","variant","Tab","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","Box","ml","mr","CircularProgress","RRListItem","ListItem","ETH_SCAN_ADDR_HOST","process","activeBgColor","navigation","paper","sntPadding","navListRoot","secondary","navList","bottom","overflowY","overflowX","sideNavToolbar","version","borderTopWidth","borderTopColor","divider","borderTopStyle","contrastText","&:focus","adxLink","hint","&:hover","sideSwitch","marginBottom","useCommonStyles","SideNav","selectSide","identity","selectAccountIdentityAddr","commonClasses","routerLocation","selectLocation","symbol","selectMainToken","split","items","availableIdentityBalanceMainToken","selectAccountStatsFormatted","List","component","AdexIconTxt","spinners_LoadingSection","ListItemText","Typography","gutterBottom","Divider","dashboard_SideSwitch","button","ListItemIcon","Dashboard_default","primary","Fragment","CampaignIcon","List_default","toUpperCase","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","Date","getFullYear","packageJson","ImgIcon","src","alt","ButtonMenu","btnStyle","rightIcon","leftIconSrc","_useState","useState","_useState2","slicedToArray","setActive","_useState3","_useState4","anchorEl","setAnchorEl","Boolean","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-owns","aria-haspopup","textOverflow","Menu","getAuthLogo","authType","AUTH_TYPES","METAMASK","name","metamaskLogo","TREZOR","trezorLogo","LEDGER","ledgerLogo","DEMO","demoLogo","RRMenuItem","MenuItem","handleDrawerToggle","navTitle","selectNavTitle","account","selectAccount","imgSrc","wallet","btnMenuLabel","email","formatAddress","address","Toolbar","Menu_default","lib_default","diameter","seed","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","logOut","ExitToApp_default","noWrap","MAX_IMG_LOAD_TIME","Img","ipfsSrc","validations","Regexes","ipfsRegex","test","helpers","getMediaUrlWithProvider","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","mediaMime","isVideoMedia","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onerror","onload","onabort","setTimeout","onloadedmetadata","_ref3","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","Fab","mini","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this3","_this$props3","allowFullscreen","fullScreenOnClick","_this$state2","imgParent","wrapper","img","fullScreenBtn","circular","cursor","@media(max-width:744px)","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","getCroppedImgUrl","objUrl","pixelCrop","fileName","size","cropCanvas","scaleCanvas","crossOrigin","Promise","resolve","reject","crop","x","Math","round","y","getContext","drawImage","toBlob","file","URL","createObjectURL","ImgForm","onDrop","acceptedFiles","rejectedFiles","that","objectUrl","imgName","mime","tempUrl","onRemove","e","preventBubbling","revokeObjectURL","onCropChange","saveCropped","then","croppedBlob","cropMode","nativeEvent","stopImmediatePropagation","UploadInfo","errMsg","uploadInfo","uploadActions","dropzoneBtn","Crop_default","Clear_default","CloudUpload_default","aspect","additionalInfo","_this$state3","imgForm","header","dropzone","Grid","container","alignContent","item","sm","md","react_image_crop_default","imageStyle","imgDropzonePreview","disabled","Save_default","dist_es","img_Img","grey","marginTop","ValidImageHoc","ValidImage","validate","propsName","widthTarget","heightTarget","mediaWidth","mediaHeight","msg","exact","required","isValid","checkExactishAspect","masgArgs","dirty","validateMedia","media","_args","abrupt","getMediaSize","sent","validateId","ValidationHoc","selectValidationsById","_ref$err","_ref$dirty","_ref$removeAll","removeAll","invalidFields","ImgDialog","newValues","values","onOk","vals","forEach","onChangeReady","errImg","imgPropName","AVATAR_MAX_WIDTH","AVATAR_MAX_HEIGHT","Cancel_default","forms_ImgForm_ImgForm","imgLabel","persist","ValidItemHoc","SaveBtn","spinner","dirtyProps","save","validationId","fabButton","Check_default","fabProgress","spinners","spinnerId","buttonSuccess","buttonProgress","mediaRoot","buttonRight","buttonLeft","textField","flexWrap","changesLine","changeChip","editIcon","RRButton","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","justify","inline","textTransform","IMG_404","adSlotPut","schemas","adUnitPut","campaignPut","AdSizesByValue","ItemsConstants","ItemHoc","Item","updateNav","itemType","objModel","newItem","dp","slice","indexOf","plainObj","returnPropToInitialState","propName","initialItemState","initialItemStateValue","filter","resetValidationErrors","setActiveFields","field","newActiveFields","activeFields","updateItem","_authType","editImg","_activeInput","_this$props4","matchId","nextState","currentItemInst","nexItemInst","modifiedOn","updateSpinner","prop","validName","_this$props5","schema","result","Joi","_this$props6","description","_this$props7","page_not_found_PageNotFound","isDemo","canEdit","temp","mediaUrl","fallbackMediaUrl","titleErr","descriptionErr","react_router","when","FormControl","fullWidth","InputLabel","Input","validateTitle","maxLength","onBlur","onFocus","endAdornment","InputAdornment","Edit_default","FormHelperText","errMsgArgs","containers_ImgDialog_ImgDialog","_id","updateImgWidth","updateImgHeight","updateImgLabel","updateImgInfoLabel","updateImgExact","updateImgErrMsg","xs","lg","htmlFor","multiline","rows","validateDescription","showLogo","Paper","imgContainer","fullName","pointer","canEditImg","Info_default","map","Chip","onDelete","containers_SaveBtn_SaveBtn","inEdit","toggleImgEdit","tryGetItemByIpfs","ipfs","_ipfs","params","itemId","errColor","&$active","stepperWrapper","pagePaper","pageContent","WebkitOverflowScrolling","@media(max-width:500px)","textAlign","@media(max-width:475px)","mobileStepper","& div","mobileStepLabel","& span","buttonProgressWrapper","errChip","& svg","StepperNav","pages","currentPage","window","innerWidth","StepLabel","MobileStepper","activeStep","steps","Stepper","alternativeLabel","page","i","Step","MaterialStepper","_props$initialPage","initialPage","_props$pages","setCurrentPage","canReverse","pageProps","Comp","pageValidation","dirtyErrors","reduce","dirtyErrs","getDirtyValidationErrors","selectSpinnerById","isValidPage","useCallback","goToPage","nextStep","canGoBack","goToPreviousPage","_callee2","_context2","goToNextPage","_callee3","_context3","onValid","useEffect","onKeyPressed","_ref5","_callee4","_context4","_x2","onKeyPress","stepperNav","MaterialUiStepper_StepperNav","Error_default","disableBtnsIfValid","cancelBtn","cancelFunction","completeBtn","CancelBtn","onSave","stepsId","stepsPages","stepsPreviewPage","validateIdBase","cancelButton","MaterialUiStepper","fullHeight","max","innerHeight","dialogTitle","wordWrap","&:first-child","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","down","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","Transition","Slide","direction","iconButton","textButton","fabVariant","btnLabelArgs","btnLabel","dialogActions","btnProps","setOpen","onBeforeOpen","ButtonComponent","btnLabelTranslated","react","first","second","TransitionComponent","disableTypography","closeDialog","NewAdUnitHoc","ItemForm","updateNewItem","AdUnit","addUnit","resetNewItem","saved","Dropdown","_this$props$label","_this$props$source","source","_this$props$htmlId","htmlId","_this$props$name","_this$props$disabled","_this$props$error","helperText","_this$props$fullWidth","noSrcLabel","formControl","Select","input","toConsumableArray","spinners_InputLoading","selectEmpty","adUnitPost","AdTypes","constants","AdUnitsTypes","AdUnitBasic","validateAndUpdateType","validateTargetUrl","targetUrl","prevProps","addUtmLink","addUtmParameters","campaign","removeFromUrl","search","protocol","host","newQuery","_i","_Object$entries","entries","query","_ref4","UTM_PARAMS","format","addUrlUtmTracking","newTemp","checked","errTitle","errDescription","errTargetUrl","TextField","FormControlLabel","control","Checkbox","handleChangeAddUtmLink","dropdown_Dropdown","getWidAndHightFromType","sizes","parseInt","handleImgChange","_getWidAndHightFromTy","_getWidAndHightFromTy2","renderInput","inputProps","InputProps","ref","other","inputRef","inputRoot","renderSuggestion","suggestion","itemProps","highlightedIndex","selectedItem","showSelected","isHighlighted","isSelected","fontWeight","getSuggestions","inputValue","allowCreate","validateCreation","toLowerCase","trim","includes","newSuggestion","DownshiftMultiple","handleKeyDown","keycode","newItemValue","handleInputChange","handleDelete","splice","placeholder","openOnClick","allValues","downshift_esm","itemToString","getInputProps","getItemProps","isOpen","inputValue2","selectedItem2","toggleMenu","startAdornment","tabIndex","chip","onKeyDown","square","DownshiftSingle","onInit","errorText","suggestions","clearSelection","dist_index_esm","index_esm","itemSize","itemCount","multiple","autocomplete_DownshiftMultiple","autocomplete_DownshiftSingle","marks","SourcesSelect","SOURCES","collection","tag","score","AdUnitTargeting","handleTargetChange","newValue","newTargets","targets","newTarget","updateNewItemCollections","removeTarget","validateAutocomplete","targetTag","autocomplete_Autocomplete","suggestionMatch","showSuggestionsWhenValueIsSet","Slider","slider","markLabel","aria-labelledby","min","step","valueLabelDisplay","collections","all","tg","newCollection","targeting","tags","_ref4$target","targetIcon","LocationOnIcon","gender","WcIcon","age","ChildCareIcon","getTargetType","UnitTargets","targetArrayValues","TargetIcon","CompareArrows","isTarget","ListItemSecondaryAction","TargetsList","_ref$targets","subHeader","dense","subheader","ListSubheader","PropRow","classNameLeft","classNameRight","_ref$style","uppercase","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","_ref6","FullContentMessage","_ref7","_ref7$msgs","msgs","_ref7$color","bgcolor","strong","imgPreview","boxShadow","shadows","imgPreviewWrapper","AdUnitFormPreview","containers_UnitTargets_UnitTargets","NewAdUnitFormPreview","NewCampaignHoc","Campaign","waitingAction","openCampaign","adUnits","adUnitsArray","OPENING_CAMPAIGN","handleSelect","hasAdUnits","EnhancedTable","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange_default","iconColor","onIconClick","DateTimePicker","calendarIcon","material_ui_pickers_esm","DateTimePicker_CalendarIconAdor","datepickerContrastInput","common","white","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","moment","MomentUtils","campaignTitleSchema","string","allow","VALIDATOR_LEADER_ID","VALIDATOR_FOLLOWER_ID","VALIDATOR_SOURCES","fee","tempValidators","validateCampaignDates","_ref2$created","created","now","withdrawPeriodStart","activeFrom","NewCampaignFinance","CampaignFinance","validateAndUpdateValidator","update","validators","newValidators","handleDates","maxChannelFees","GETTING_CAMPAIGNS_FEES","validateAmount","depositAmount","minPerImpression","openChannel","getFeesOnly","getMaxFees","feesData","fees","isNumberString","utils","parseUnits","_ref4$availableIdenti","stats","formatted","_ref3$maxDeposit","maxDeposit","maxDep","parseFloat","dep","validateAmounts","mainTokenSymbol","minTargetingScore","_ref5$availableIdenti","from","date","valueOf","errDepAmnt","errMin","errFrom","errTo","impressions","commify","floor","getTotalImpressions","leader","follower","toFixed","common_DateTimePicker_DateTimePicker","emptyLabel","disablePast","minDate","maxDate","FormGroup","row","WalletAction","CampaignFormPreview","AdUnitsTable","listMode","identityAddr","mainToken","FormsCommon_WalletAction","formatDateTime","NewCampaignFormPreview","selectAuthType","AdSlot","addSlot","adSlotPost","NewAdSlotHoc","updateMinPerImpression","validateImage","useFallback","validateFallbackUrl","handleFallbackChange","_this$props$newItem","errFallbackUrl","Switch","Collapse","in","PredefinedTags","custom","AdSlotTargeting","SlotFallback","AdSlotPreview","AdSlotPreview_SlotFallback","NewAdSlotPreview","SaveBtnWithAdUnit","SaveBtnWithCampaign","saveBtnLabel","saveBtnIcon","HourglassEmpty_default","SaveBtnWithAdSlot","esm_extends","CancelBtnWithItem","CancelBtnWithCampaign","CancelBtnWithAdSlot","dialogCommon","darkerBackground","Add_default","NewUnitStepsWithDialog","WithDialog","forms_FormSteps","AdUnitMedia","noDefaultImg","itemModel","NewUnitDialog","copyProps","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","CampaignUnits","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","AdSlotBasic","AdSlotMedia","descriptionHelperTxt","NewSlotDialog","headCells","numeric","disablePadding","disableOrdering","isDate","Other","filterTags","missingData","mapStatusIcons","humanFriendlyStatus","status","ls","waitIcon","HourglassFull_default","doneIcon","DoneAll_default","warningIcon","Warning_default","cashIcon","MonetizationOn_default","EnhancedTableHead","onSelectAllClick","order","orderBy","numSelected","rowCount","onRequestSort","headSide","TableHead","TableRow","TableCell","indeterminate","headCell","align","sortDirection","TableSortLabel","property","visuallyHidden","ChipMultipleSelect","anchorDatePicker","setAnchorDatePicker","selectAll","newSelecteds","n","numberToShow","numberToShowGreater","loopCount","c","join","labelParser","FilterList_default","Popover","transformOrigin","FormLabel","useToolbarStyles","highlight","lighten","light","dark","EnhancedTableToolbar","setSearch","filters","setFilters","filterSide","filtersPresent","initialFilterTags","clsx","flexItem","Search_default","Tooltip","desc","b","orderIsDate","unix","Number","filterBySearch","filterByTags","humanFriendlyName","stableSort","array","cmp","stabilizedThis","el","sort","getSorting","orderisNumber","RRTableCell","RRIconButton","table","tableLayout","tableWrapper","clip","spacer","cellImg","renderActions","enterDelay","Visibility_default","NewItems_NewCloneUnitDialog","cloneItem","_useSelector","decimals","_React$useState","_React$useState2","setOrder","_React$useState3","_React$useState4","setOrderBy","_React$useState5","_React$useState6","orderIsNumeric","setOrderisNumeric","_React$useState7","_React$useState8","setOrderisDate","_React$useState9","_React$useState10","setSelected","_React$useState11","_React$useState12","setPage","_React$useState13","_React$useState14","rowsPerPage","setRowsPerPage","_React$useState15","_React$useState16","_React$useState17","_React$useState18","filteredItems","sortedItems","emptyRows","Table","TableBody","isItemSelected","labelId","firstUnit","hover","role","aria-checked","selectedIndex","newSelected","formatTokenAmount","fundsDistributedRatio","bigNumberify","mul","colSpan","TablePagination","rowsPerPageOptions","count","onChangePage","newPage","onChangeRowsPerPage","card","@media(max-width:380px)","basicInfo","ValidatedFallbackAdData","rightComponent","toggleFallbackImgEdit","errFallbackAdUrl","Card","raised","CardMedia","fallbackTargetUrl","CardContent","validUrl","ValidatedSlotMinCPM","_selectMainToken","minCPM","_ref2$prop","_ref2$value","_ref2$item","updateItemTemp","MediaCard","BasicProps","ItemCommon_MediaCard","isArray","CampaignProps","_selectMainToken2","VIEW_MODE","context","handleTabChange","CampaignActions","closeCampaign","statistics","units","spec","CampaignModel","balances","lastApprovedBalances","scrollable","scrollButtons","CampaignItem","datepicker","rowsView","ui","RRSideBox","_ref$salePoints","salePoints","linkTitle","sideBox","point","SideSelect","dialogPaper","BackdropProps","backdrop","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","listStyle","tooltip","useStylesArrow","black","popper","&[x-placement*=\"bottom\"] $arrow","&::before","borderWidth","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","arrow","borderStyle","ArrowTooltip","_useStylesArrow","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","enabled","element","typography","pxToRem","_ref$bgColor","bgColor","_ref2$bgColor","infoCard","linkCard","&:hover, &:focus","progress","StatsCard","explain","infoStatsContainer","dashboardCardBody","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","responsive","tooltips","mode","cornerRadius","Helper","hexToRgbaColorString","merge","defaults","global","commonDsProps","lineTension","pointRadius","pointHitRadius","SimpleStatistics","_ref$timeframe","timeframe","eventType","_ref$options","options","_ref$xLabel","xLabel","_ref$y1Label","y1Label","_ref$y2Label","y2Label","_ref$y1Color","y1Color","_ref$y2Color","y2Color","payouts","selectStatsChartData","metric","noLastOne","counts","Chart","pluginService","register","afterDraw","chart","_active","activePoint","controller","ctx","tooltipPosition","topY","scales","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","stroke","restore","chartData","labels","datasets","yAxisID","pointBackgroundColor","linesOptions","maintainAspectRatio","intersect","callbacks","datasetIndex","yLabel","xAxes","gridLines","scaleLabel","labelString","yAxes","ticks","beginAtZero","precision","drawOnChartArea","react_chartjs_2_es","deepOrange","amber","lime","contrastThreshold","tonalOffset","createMuiTheme","fontFamily","overrides","MuiButton","outlined","MuiTableCell","head","whiteSpace","MuiPaper","rounded","MuiTooltip","themeMUI","responsiveFontSizes","factor","timeFrames","VALIDATOR_ANALYTICS_TIMEFRAMES","tf","translated","metrics","timeHints","hour","day","week","BasicStats","selectAnalytics","totalImpressions","selectTotalImpressions","totalMoney","selectTotalMoney","averageCPM","selectAverageCPM","loadingImpressions","loadingMoney","loadingCPM","DashboardStats_StatsCard","updateAnalyticsTimeframe","formatNumberWithCommas","simplified_SimpleStatistics","find","DashboardStats","_useSelector2","outstandingBalanceMainToken","goToAccount","side_select_SideSelect","UnitItem","Unit","adUrl","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","IntegrationCode","_ref$slot","slot","onCopy","fallbackUnit","publisherAddr","whitelistedTokens","selectRoutineWithdrawTokensAddresses","whitelistedType","randomize","marketSlot","encodeURIComponent","iframeStr","integrationLabel","copy","integrationCode","Slot","handleFallbackImgUpdateToggle","editFallbackImg","tabsFocus","current","scrollIntoView","behavior","block","createRef","Slot_IntegrationCode","addToast","SlotItem","alignSelf","Items","nav","NewTransactionHoc","TransactionHoc","txId","updateNewTransaction","tx","manyTxs","resetTransaction","resetNewTransaction","handleSaveRes","res","getErrMsg","saveFn","acc","transaction","log","txs","txResults","catch","newTransactions","WithdrawFromIdentityForm","numStr","token","identityAvailable","validateNumber","amount","withdrawAmount","withdrawTo","withdrawToSpinner","errAmount","errAddr","validateAddress","addr","WithdrawAnyTokenFromIdentityForm","balanceAnySpinner","tokenAddress","tokenBalance","errToken","setBalance","bal","IdentityPrivilegeLevel","PRIV_LEVELS_SRC","SeAddressPrivilegeForm","setAddrSpinner","setAddr","privLevel","privilegesNames","valueToKey","IdentityWithdrawPreview","toGet","SetPrivilegePreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreviewForm","getFeesFn","previewWarnMsgs","selectNewTransactionById","_transaction$feesData","_transaction$errors","errors","waitingForWalletAction","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","FormStepsWithDialog","FormSteps","txCommon","cancelBtnLabel","WithdrawTokenFromIdentity","WithdrawFromExchangePage","TransactionPreview","identityWithdraw","amountToWithdraw","withdrawFromIdentity","SetIdentityPrivilege","SeAddressPrivilege","addrIdentityPrivilege","setIdentityPrivilege","actionBtn","advancedList","iconBtnLeft","VALIDATOR_LEADER_URL","VALIDATOR_FOLLOWER_URL","AccountInfo","selectWallet","password","selectAccountIdentity","_useSelector3","walletAddress","_useSelector3$walletA","walletAuthType","_useSelector3$walletP","walletPrivileges","identityAddress","identityBalanceMainToken","localWalletDownloadHref","obj","getRecoveryWalletData","walletJsonData","expanded","setExpanded","chr","py","download","SaveAlt_default","pr","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","domNodes","overlay","show","displayRampWidget","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","heading","ExpansionPanelDetails","transactions_SetIdentityPrivilege","Campaigns","NewItems_NewCampaignDialog","accent","containers_Items_Items","AdUnits","AdSlots","NewItems_NewSlotDialog","Dashboard","mobileOpen","setMobileOpen","getAllItems","analyticsLoop","start","campaignsLoop","statsLoop","drawer","dashboard_SideNav","TopBar","Hidden","mdUp","Drawer","anchor","ModalProps","keepMounted","smDown","implementation","Account","signinContainer","backgroundRepeat","backgroundSize","backgroundPosition","backgroundImage","require","buttons","adxVersion","adexLogoTop","logo","noBg","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","selectRegistrationAllowed","auth","selectAuth","getAllWallets","w","goTo","confirmLogout","toExecute","confirmAction","m","AuthSelect_RRButton","initIdentity","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","balanceEth","tokensBalances","balance","AuthMetamask","selectIdentity","_useSelector$wallet","installingMetamask","setInstallingMetamask","waitingMetamaskAction","setWaitingMetamaskAction","_useState5","_useState6","waitingAddrsData","setWaitingAddrsData","isOpera","opr","opera","navigator","userAgent","_useState7","_useState8","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","ethereumProvider","getEthereumProvider","setEth","onfocus","reload","checkMetamask","provider","_wallet","metamaskSigner","_address","_stats","getEthers","getSigner","getAddress","getAddressBalances","getFullBalances","updateIdentity","updateIdentityWallet","signType","t0","tabBox","paragraph","METAMASK_IMG","dangerouslySetInnerHTML","__html","METAMASK_DL_IMG","metamaskLAbel","NewItemHoc","updateValidationErrors","AuthHoc","Auth","updateWallet","hdWalletAddrPath","hdWalletAddrIdx","chainId","method","sideSelect","IdentityForm","login","resetIdentity","ready","waitingExpected","waiting","CREATING_SESSION","waitingUpload","UPLOADING_ACCOUNT_DATA","IdentityHoc","AuthTrezor","connectTrezor","waitingTrezorAction","trezorSigner","addresses","allAddressesData","getAddresses","payload","results","hdPath","AddressSelect","onAddrSelect","selectedAddress","addrData","TREZOR_DL_IMG","AuthLedger","connectLedger","waitingLedgerAction","ledgerSigner","LEDGER_DL_IMG","AuthMethod","selectLocationQuery","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","ownerAuth_AuthLedger","QuickInfo","sessionSpinner","walletMsgs","emailCheck","passwordCheck","tosCheck","accessWarningCheck","validateEmail","validateEmailCheck","validatePassword","validatePasswordCheck","FulInfo","_identity$wallet","walletAddr","WALLET_ACTIONS_MSGS","QuickLogin","getIdentitiesForDropdown","ownerIdentities","FullLogin","identityContractAddress","GETTING_OWNER_IDENTITIES","searchParams","selectSearchParams","set","updateOwnerIdentities","owner","IdentitySteps","mapPages","GoBtn","_this$props$stepsPage","goToNextPageIfValid","final","infoPaper","gutters","finalValidationQuick","onInvalid","validateQuickLogin","finalValidationStandard","validateStandardLogin","validateOwner","validateContractOwner","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ConnectedCreateQuickIdentity","JustDialog","identity_IdentitySteps","validateQuickInfo","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","validateFullInfo","ConnectedRoot","PrivateRoute","render","handleLegacyWallet","migrateLegacyWallet","removeLegacyKey","ensureQuickWalletBackup","getRelayerConfig","metamaskChecks","handleRedirectParams","handleSignupLink","metamaskNetworkCheck","updateRegistrationAllowed","react_router_dom","Root_PrivateRoute","onBeforeLift","App","CssBaseline","ThemeProvider","es","store","integration_react","persistor","esm","CacheBuster","App_Root","toast_Toast","confirm_Confirm","hostname","ReactDOM","components_App_App","getElementById","serviceWorker","registration","unregister","isDemoMode","actions__WEBPACK_IMPORTED_MODULE_0__","services_store_data_campaigns__WEBPACK_IMPORTED_MODULE_1__","services_store_data_account__WEBPACK_IMPORTED_MODULE_2__","services_store_data_analytics__WEBPACK_IMPORTED_MODULE_3__","connected_react_router__WEBPACK_IMPORTED_MODULE_4__","skipRedirect","resetAllItems","resetAllNewItems","resetAllBids","resetAccount","resetAnalytics","getState","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_ALL_BIDS","RESET_ALL_BIDS","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","RESET_ANALYTICS","getValidatorRequester","baseUrl","Requester","getRequesters","requester","validator","processResponse","json","handleRequesterErrorRes","getValidatorAuthToken","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","validatorId","existingAuth","signer","validatorAuthTokens","era","ewt","sign","sendMessage","_authTokens","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","fetch","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","headers","authorization","authTokens","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","lastApprovedState","_ref8","route","_ref9","body","events","Content-Type","identityAnalytics","_ref11","_ref10","campaignId","leaderAuth","limit","aggregates","idenityAddr","queryParams","_x3","video","videoWidth","videoHeight","getVideoSize","getImageSize","maxPercentTolerance","targetAspect","aspectDiff","abs","AdExCore","contracts","Core","Interface","abi","Identity","IdentityABI","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","toEthereumChannel","channel","specHash","crypto","createHash","digest","Channel","creator","tokenAddr","depositAsset","tokenAmount","validUntil","v","getReadyCampaign","newCampaign","period","getValidUntil","nonce","randomBytes","unit","div","maxPerImpression","eventSubmission","uids","rateLimit","lastChecked","getExpiredWithdrawnOutstanding","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default","withdrawn","functions","states","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__","ChannelState","Active","sub","getWithdrawnPerUserOutstanding","withdrawnPerUser","t1","getChannelsWithOutstanding","_getChannelsWithOutstanding","channels","_ref16","feeTokenWhitelist","routineWithdrawTokens","eligible","getAllCampaigns","selectFeeTokenWhitelist","selectRoutineWithdrawTokens","lastApprovedSigs","validBalances","_e","_unused","_channel$status","bTree","BalanceTree","_ref17","getBalance","isZero","_ref19","_ref18","outstanding","outstandingAvailable","_x9","gt","minWeekly","getChannelsToSweepFrom","_callee5","amountToSweep","allChannels","_allChannels$sort$red","_context5","c1","c2","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","sum","lt","add","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","splitSig","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","txns","routineAuthTuple","_txns$reduce","updated","routineOpts","RoutineOps","channelWithdraw","withdrawAmountByToken","feeTokenAddr","identityContract","executeRoutines","encode","routinesTxCount","routinesSweepTxCount","getIdentityRoutineAuthTuple","relayerData","deployData","routineAuthorizationsData","hasValidExecuteRoutines","getSweepChannelsTxns","_x5","_getSweepChannelsTxns","_callee6","_ref20","channelsToSweep","encodedTxns","_context6","toSolidityTuple","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","isSweepTx","getSwapAmountsByToken","_ref12","_balances$reduce","swaps","swapsSumInMainToken","balanceMainToken","swapsByToken","getSweepingTxnsIfNeeded","_x6","_getSweepingTxnsIfNeeded","_callee7","_ref13","amountInMainTokenNeeded","needed","_ref21","mainTokenBalance","currentBalanceInUse","sweepData","_getSwapAmountsByToke","_context7","getWithdrawTokensBalances","sweepTxns","swapAmountsByToken","amountToSwapInMainToken","_x7","_openChannel","_callee8","_ref14","_ref22","getToken","readyCampaign","openReady","ethChannel","approveTxns","channelOpenTx","txnsByFeeToken","mtBalance","maxAvailable","_context8","raw","selectMainFeeToken","hashHex","getApproveTxns","approveForAddress","approveAmount","channelOpen","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","getIdentityTxnsWithNoncesAndFees","getIdentityTxnsTotalFees","totalBN","total","processExecuteByFeeTokens","extraData","closeChannel","_x8","_closeChannel","_callee9","_ref15","_context9","textObj","Error","statusText","AdexNodeRequester","getAuthHeaders","authSig","authSignature","selectAuthSig","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","_ref4$route","_ref4$queryParams","_ref4$method","_ref4$headers","_ref4$authSig","userAddr","_ref4$noCache","authToken","noCache","qp","demo","getQuery","hdrs","requester_handleRequesterErrorRes","_build_Identity_json__WEBPACK_IMPORTED_MODULE_0__","_build_AdExCore_json__WEBPACK_IMPORTED_MODULE_1__","_build_Dai_json__WEBPACK_IMPORTED_MODULE_2__","_build_IdentityFactory_json__WEBPACK_IMPORTED_MODULE_3__","_abi_ERC20Token_json__WEBPACK_IMPORTED_MODULE_4__","DAI","Dai","IdentityFactory","ERC20","adex_models__WEBPACK_IMPORTED_MODULE_0__","services_translations_translations__WEBPACK_IMPORTED_MODULE_1__","locations","AllCountries","country","genders","Genders","Looper","syncAction","loopName","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","clearLoopTimeout","loopTimeout","syncData","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","opts","startLoop","checkLoop","getKeyHash","hash","encrypt","iv","cipher","encr","encrypted","createCipheriv","Buffer","decrypt","textParts","encryptedText","decipher","decr","decrypted","shift","createDecipheriv","_x4","encryptLegacy","crypted","createCipher","decryptLegacy","dec","createDecipher","history__WEBPACK_IMPORTED_MODULE_0__","createHashHistory","LOOP_TIMEOUT","MOON_GRAVITY_ACCELERATION","MOON_TO_EARTH_WEIGHT","syncCampaigns","updateUserCampaigns","Loop","_loop__WEBPACK_IMPORTED_MODULE_0__","actions__WEBPACK_IMPORTED_MODULE_1__","accountStatsLoop","updateAccountStats","BID_STATES","ExchangeConstants","TIMEOUTS","SignatureModes","GETH","GRANT","QUICK","SEED","ETHEREUM_NETWORKS","for","5","production","development","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_SIDES","VALIDATOR_ANALYTICS_EVENT_TYPES","_WALLET_ACTIONS_MSGS","setLang","adex_translations__WEBPACK_IMPORTED_MODULE_0__","adex_translations__WEBPACK_IMPORTED_MODULE_0___default","react_dom_server__WEBPACK_IMPORTED_MODULE_1__","translations","adexTranslations","lang","translation","tpl","_","arg","renderToString","interpolate","lng","updateAccountAnalytics","isEthAddressERC20","contract","isEthAddress","ethers","Contract","ERC20TokenABI","totalSupply","balanceOf","AddressZero","allowance","getERC20Balance","_ref3$addr","_ref3$balanceFor","balanceFor","createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","createSelector","selectAccountStats","settings","router","URLSearchParams","selectSpinners","ids","allowRegistration","selectTranslations","_opts$isProp","_opts$args","analytics","selectAnalyticsDataAggr","aggr","eventCounts","eventPayouts","_ref10$data","memo","time","parseValueByMetric","selectValidations","selectRelayerConfig","config","relayer","tokens","relayerConfig","selectSaiToken","saiAddr","translationsSelectors_t","configSelectors_selectRelayerConfig","constants_misc__WEBPACK_IMPORTED_MODULE_1__","initialState","signin","passConfirm","publicKey","seedCheck","authenticated","currentItem","web3Transactions","ethNetwork","networkId","gasData","market","getValidatorAnalyticsInitialState","ethers_utils__WEBPACK_IMPORTED_MODULE_0__","timestamp","amountString","pretty","formatUnits","substring","DEFAULT_HD_PATH","LedgerSigner","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","addrsFromPubKey","chainCode","_ref2$from","_ref2$to","hdKey","addrs","derivedKey","HDKey","derive","publicExtendedKey","HDNode","fromExtendedKey","_ref4$from","_ref4$to","transport","eth","_args2","_transport","create","LedgerEth","signTx","txProps","txUnsigned","r","s","signature","txSigned","resolveProperties","serializeTransaction","signTransaction","sendTransaction","txData","signMessage","_args5","hex","toUtf8Bytes","hexlify","signPersonalMessage","joinSignature","_provider","_path","TransportU2F","Signer","HEADER","base64","alg","payloadEncoded","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sig","sigBuf","verify","parts","verifyMessage","decode","types","updateUi","category","_ref$label","_ref$timeout","getGuid","toastId","_ref2$confirmLabel","_ref2$cancelLabel","_ref2$title","_ref2$text","changeLanguage","get","refreshCacheAndReload","_ref3$notification","notification","caches","names","delete","grant","addSig","_ref$addr","expiryTime","_ref$identity","getSig","_ref2$addr","_ref2$identity","sigAndTIme","getErrorMsg","updateSignin","resetSignin","createAccount","updateAccount","meta","updateGasData","withBalance","getOutstandingBalance","getAccountStats","updateValidatorAuthTokens","newAuth","newIdentity","newTokens","createSession","_ref7$identity","deleteLegacyKey","newWallet","sessionSignature","typedData","leaderValidatorAuth","checkSession","skipErrToast","getAuthSig","getSession","signerAddress","cfg","getRelayerConfigData","getNetworkId","_callee11","_context11","getNetwork","getNetworkData","_callee12","network","_context12","onMetamaskNetworkChange","_getState","isMetamaskMatters","t2","t3","t4","t5","onMetamaskAccountChange","accountAddress","hasAuth","_account$wallet","identityContractOwner","_x10","_x11","metamaskAccountCheck","ethereumSelectedAddress","_x12","_x13","ethereumNetworkId","_x14","_x15","ethereum","on","accounts","_x16","_x17","hasBackup","_callee13","salt","_ref23","encryptedWallet","_context13","generateSalt","getWalletHash","getQuickWallet","makeBackup","_callee14","walletSalt","walletHash","_context14","backupWallet","_callee10","_selectWallet","isLocal","_context10","QUICK_WALLET_BACKUP","_x20","_x21","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","uploadImage","imageBlob","imageName","Base","updateObject","imageIpfs","resItem","postAdUnit","marketAdd","_selectRelayerConfig","resUnit","passback","postAdSlot","slots","resUnits","resSlots","getAdUnits","getAdSlots","updateItems","getAllValidatorsAuthForIdentity","_selectRelayerConfig2","updatedItem","marketUpdate","updateAdSlot","updateAdUnit","updateCampaign","deleteItem","_deleted","restoreItem","successMsg","findSourceByTag","response","mediaURL","mediaSize","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","updateTags","addNewTag","updateCampaignState","getHumanFriendlyName","_ref24","_selectAccount","campaigns","getCampaigns","_ref25","_ref26","_ref27","closeCampaignMarket","_getState$persist$acc","validEthAddress","nonZeroAddr","nonERC20","newErrors","_ref4$err","_ref4$dirty","_ref4$removeAll","validEmail","validPassword","validateTOS","accepted","validateWallet","validateIdentityContractOwner","_x18","validateAccessWarning","_x19","resetWallet","onUploadLocalWallet","reader","onError","files","FileReader","privileges","abort","readAsText","identityData","getOwnerIdentities","_data","getIdentityData","_selectIdentity","identityTxData","registerAccount","regAccount","currentPrivileges","isLimitedVolume","actualAuthType","walletData","getLocalWallet","walletInfo","identityPrivileges","handleAfterValidation","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","getIdentityDeployData","validateQuickDeploy","_identityAddr","createLocalWallet","addDataToWallet","dataKey","dataValue","every","_x22","_x23","_ref28","_ref29","_x24","_x25","_ref30","_ref31","_callee15","_context15","_x26","_x27","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","analyticsParams","callsParams","checkAccountChanged","accountCheck","_getState$persist","accountChanged","allAnalytics","itemActions","uiActions","accountActions","identityActions","bidActions","transactionActions","validationActions","analyticsActions","setLogLevel","getEthersResult","adexCore","coreAddr","getAdexCore","_selectRelayerConfig3","standard","getMainToken","identityFactory","identityFactoryAddr","getIdentityFactory","MainToken","getIdentity","localWeb3","providers","JsonRpcProvider","loadInjectedWeb3","addEventListener","web3","injectedWeb3","enable","Web3Provider","getLocalWeb3","networkVersion","isMetaMask","Module","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","selectors__WEBPACK_IMPORTED_MODULE_2__","_package_json__WEBPACK_IMPORTED_MODULE_3__","actions__WEBPACK_IMPORTED_MODULE_4__","random","cache","latestVersion","versionA","versionB","versionsA","versionsB","isNaN","semverGreaterThan","appVersion","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","getCipherKey","isLegacyCrypto","getRandomMnemonic","randomEntropy","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","Wallet","fromMnemonic","privateKey","encrKey","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","decrData","_decrData","_ref4$email","decryptedStr","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getEncrypted","_removeLegacyKey","_ref7$email","_ref7$password","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","_ref8$dataValue","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","mail","isWallet","_getWalletHash","passwordId","dataStr","keccak256","alpha","substr","hexToDec","h","g","stack","isInt","int","shuffleArray","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","initial","isMoment","dontThrow","_ref3$imageName","formData","FormData","append","convertItemToJSON","itemToConvert","byCreator","isConnectionLost","race","getBlockNumber","urlRegex","emailRegex","passwordRegex","numberStr","isFinite","isEthAddressZero","ethAddressZero","ethAddressERC20","ScdMcdMigration","ScdMcdMigrationABI","SCD_MCD_MIGRATION_ADDR","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","baseIdentityAddr","identityRecoveryAddr","routineAuthorizationsRaw","bytecode","outpace","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","_withdrawFromIdentity","toWithdraw","withdrawTx","maxWithdraw","actualWithdrawAmount","transfer","_setIdentityPrivilege","identityInterface","tx1","setAddrPrivilege","txnsByTokenWithSaiToDaiSwap","daiAddr","saiWithdrawAmount","_getIdentityTxnsWithNoncesAndFees","_ref5$amountInMainTok","_ref5$txns","saiToken","mainTokenWithFees","isDeployed","initialNonce","feesForMainTxns","_ref12$sweepTxns","_ref12$swapAmountsByT","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","toNumber","minDeploy","swapSaiToDaiTxns","swapAmount","t6","Set","_tx$routinesTxCount","_tx$routinesSweepTxCo","feeToken","minFeeAmount","routinesFeeAmount","feeAmount","nonIdentityBalanceFeeAmount","txWithNonce","_getApproveTxns","tokenContract","approve","swapTx","swapSaiToDai","_getIdentityTxnsTotalFees","_ref8$mainToken","bigZero","byToken","byFeeToken","txFeeAmount","_feeTokenWhitelist$ke","feeFormatted","_processExecuteByFeeTokens","_ref9$extraData","txnsRaw","signatures","getMultipleTxSignatures","executeTx","tokenAvailableBalance","lte","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","balancesCalls","totalBalanceInMainToken","available","tokenInMainTokenValue","balanceData","_getAddressBalances","calls","serializedPath","formatEther","_getAccountStats","_ref7$outstandingBala","_identity$status","privilegesAction","_ref17$","identityWithdrawTokensBalancesBalances","deployed","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","totalOutstandingBalanceMainToken","totalIdentityBalanceMainToken","_getOutstandingBalance","allOutstanding","amounts","ch","_getAllValidatorsAuthForIdentity","allValidators","tokenCalls","allTokens","validatorsAuth","_objectSpread2","saiDaiConversion","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","valueInMainToken","TrezorConnect","manifest","appUrl","TrezorSigner","getAddsParams","_ref$from","_ref$to","bundle","showOnTrezor","_ref3$from","_ref3$to","ethereumGetAddress","ethereumSignTransaction","_args4","ethereumSignMessage","LocalSigner","getWallet","_this$_opts","_opts","signetTx","arrayify","MetaMaskSigner","_signer","_args3","_getSigner","_signer2","_signer3","getTypedDataHash","entry","valuesHash","schemaHash","solidityKeccak256","_getAuthSig","MAX_SAFE_INTEGER","_signTx","Transaction","_getMultipleTxSignatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","services_requester__WEBPACK_IMPORTED_MODULE_0__","updateCfg","newCfg","persistReducers","newState","filterActions","collectionId","addItem","toAdd","newCol","removeCollectionProp","toRemove","newItems","currentItems","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","pTxs","updateObj","txHash","memoryReducers","newSignin","newToast","added","hasOwnProperty","updateTx","reduxRouterMiddleware","routerMiddleware","configStorage","storage","rootReducer","combineReducers","persistCombineReducers","connectRouter","logger","groupCollapsed","groupEnd","configureStore","middlewares","thunk","createStore","compose","applyMiddleware","persistStore","store_store","store_persistor"],"mappings":"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","file":"static/js/main.49a0f66f.chunk.js","sourcesContent":["export function loadFromLocalStorage(key) {\n\ttry {\n\t\tconst data = localStorage.getItem(key)\n\t\tif (data === null) {\n\t\t\treturn undefined\n\t\t}\n\t\treturn JSON.parse(data)\n\t} catch (err) {\n\t\treturn undefined\n\t}\n}\n\nexport function saveToLocalStorage(data, key) {\n\ttry {\n\t\tconst serialized = JSON.stringify(data)\n\t\tlocalStorage.setItem(key, serialized)\n\t} catch (err) {\n\t\tconsole.warn(err)\n\t}\n}\n\nexport function removeFromLocalStorage(key) {\n\tlocalStorage.removeItem(key)\n}\n\nexport function getKeys() {\n\treturn Object.keys(localStorage)\n}\n","module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport Button from '@material-ui/core/Button'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport InfoIcon from '@material-ui/icons/Info'\nimport CloseIcon from '@material-ui/icons/Close'\nimport IconButton from '@material-ui/core/IconButton'\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst variantIcon = {\n\taccept: CheckCircleIcon,\n\tsuccess: CheckCircleIcon,\n\twarning: WarningIcon,\n\tcancel: ErrorIcon,\n\terror: ErrorIcon,\n\tinfo: InfoIcon,\n}\n\nexport class Toast extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t\ttoast: {},\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tlet toast = this.state.toast\n\t\tlet nextToast = nextProps.toasts[0]\n\n\t\tif (!nextToast) {\n\t\t\tthis.setState({ active: false, toast: {} })\n\t\t\treturn\n\t\t}\n\n\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\n\n\t\tif (isNewToast) {\n\t\t\tthis.setState({ active: true, toast: nextToast })\n\t\t}\n\t}\n\n\tclose = id => {\n\t\tthis.setState({ active: false })\n\t\tthis.props.actions.removeToast(id)\n\t}\n\n\trender() {\n\t\tconst { toast } = this.state\n\t\tconst { classes } = this.props\n\t\tconst Icon = variantIcon[toast.type]\n\n\t\tif (!toast || !Icon) return null\n\n\t\tconst anchorOrigin = toast.anchorOrigin || {\n\t\t\tvertical: 'bottom',\n\t\t\thorizontal: 'center',\n\t\t}\n\n\t\tif (toast.top) {\n\t\t\tanchorOrigin.horizontal = 'center'\n\t\t\tanchorOrigin.vertical = 'top'\n\t\t}\n\n\t\treturn (\n\t\t\t<Snackbar\n\t\t\t\topen={this.state.active}\n\t\t\t\tautoHideDuration={toast.timeout || 0}\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\tanchorOrigin={anchorOrigin}\n\t\t\t>\n\t\t\t\t<SnackbarContent\n\t\t\t\t\taria-describedby='client-snackbar'\n\t\t\t\t\tmessage={\n\t\t\t\t\t\t<span id='client-snackbar' className={classes.message}>\n\t\t\t\t\t\t\t<Icon className={classnames(classes.icon, classes.iconVariant)} />\n\t\t\t\t\t\t\t{(toast.label || '').toString()}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t\taction={[\n\t\t\t\t\t\ttoast.action && toast.action,\n\t\t\t\t\t\t!toast.unclosable && (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tkey='close'\n\t\t\t\t\t\t\t\taria-label='Close'\n\t\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\t\tclassName={classes.close}\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CloseIcon className={classes.icon} />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t),\n\t\t\t\t\t]}\n\t\t\t\t\tclassName={classnames(classes.snackbar, {\n\t\t\t\t\t\t[classes.top]: !!toast.top,\n\t\t\t\t\t\t[classes.accept]: toast.type === 'accept',\n\t\t\t\t\t\t[classes.cancel]: toast.type === 'cancel',\n\t\t\t\t\t\t[classes.warning]: toast.type === 'warning',\n\t\t\t\t\t})}\n\t\t\t\t/>\n\t\t\t</Snackbar>\n\t\t)\n\t}\n}\n\nToast.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\ttoasts: PropTypes.array.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\t// let persist = state.persist\n\tlet memory = state.memory\n\treturn {\n\t\ttoasts: memory.toasts || [],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(withStyles(styles)(Toast))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tsnackbar: {\n\t\t\tborder: '3px solid',\n\t\t\tborderRadius: 0,\n\t\t\tbackgroundColor: '#222',\n\t\t\t'&.active': {\n\t\t\t\ttransform: 'translateY(-20%)',\n\t\t\t},\n\t\t\tmargin: spacing,\n\t\t},\n\t\twarning: {\n\t\t\tborderColor: '#FFAB00',\n\t\t\tcolor: '#FFAB00',\n\t\t},\n\t\tcancel: {\n\t\t\tborderColor: '#FF5722',\n\t\t\tcolor: '#FF5722',\n\t\t},\n\t\taccept: {\n\t\t\tborderColor: '#00E676',\n\t\t\tcolor: '#00E676',\n\t\t},\n\t\ticon: {\n\t\t\tfontSize: 20,\n\t\t},\n\t\ticonVariant: {\n\t\t\topacity: 0.9,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tmessage: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\twordBreak: 'break-all',\n\t\t},\n\t\ttop: {\n\t\t\twidth: '98vw',\n\t\t\tmaxWidth: '98vw',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { translate } from 'services/translations/translations'\nimport { selectLang } from 'selectors'\n\nexport default function Translate(Decorated) {\n\tfunction Translated(props) {\n\t\tconst language = useSelector(selectLang)\n\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\n\t\t\tconst translation = translate(val, { isProp, args }, language)\n\n\t\t\treturn translation\n\t\t}\n\n\t\treturn <Decorated {...props} t={t} />\n\t}\n\n\treturn Translated\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Dialog from '@material-ui/core/Dialog'\nimport Button from '@material-ui/core/Button'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Translate from 'components/translate/Translate'\n\nexport class Confirm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.cancel = this.cancel.bind(this)\n\t\tthis.confirm = this.confirm.bind(this)\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.setState({ active: nextProps.visible })\n\t}\n\n\tconfirm() {\n\t\tif (typeof this.props.confirm === 'function') {\n\t\t\tthis.props.confirm()\n\t\t}\n\t\tthis.setState({ active: false })\n\t}\n\n\tcancel() {\n\t\tif (typeof this.props.cancel === 'function') {\n\t\t\tthis.props.cancel()\n\t\t}\n\n\t\tthis.setState({ active: false })\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t\ttext,\n\t\t\tchildren,\n\t\t\tcancelLabel,\n\t\t\tconfirmLabel,\n\t\t\tt,\n\t\t\tnoActionBtns,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<Dialog open={this.state.active}>\n\t\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText id='alert-dialog-description'>\n\t\t\t\t\t\t{text}\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t{children}\n\t\t\t\t</DialogContent>\n\t\t\t\t{!noActionBtns && (\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.cancel} color='primary'>\n\t\t\t\t\t\t\t{cancelLabel || t('CANCEL')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button onClick={this.confirm} color='primary' autoFocus>\n\t\t\t\t\t\t\t{confirmLabel || t('OK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t)}\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n\nConfirm.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tcancelLabel: PropTypes.string,\n\tconfirmLabel: PropTypes.string,\n\ttitle: PropTypes.string.isRequired,\n\ttext: PropTypes.string,\n\tconfirm: PropTypes.func,\n\tcancel: PropTypes.func,\n\tvisible: PropTypes.bool,\n\tcalledOn: PropTypes.number,\n\tnoActionBtns: PropTypes.bool,\n}\n\nfunction mapStateToProps(state) {\n\tstate = state.memory\n\treturn {\n\t\tcancelLabel: state.confirm.data.cancelLabel,\n\t\tconfirmLabel: state.confirm.data.confirmLabel,\n\t\ttitle: state.confirm.data.title || '',\n\t\ttext: state.confirm.data.text || '',\n\t\tconfirm: state.confirm.onConfirm,\n\t\tcancel: state.confirm.onCancel,\n\t\tvisible: state.confirm.active || false,\n\t\tcalledOn: state.confirm.calledOn,\n\t\tnoActionBtns: state.confirm.noActionBtns,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(Confirm))\n","import React from 'react'\n// import PropTypes from 'prop-types'\nimport { withRouter } from 'react-router'\n\nexport const withReactRouterLink = Component => {\n\tclass Decorated extends React.Component {\n\t\tresolveToLocation = to => {\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\n\t\t\tconst href = this.props.history.createHref(path)\n\t\t\treturn href\n\t\t}\n\n\t\thandleClick = async event => {\n\t\t\tevent.preventDefault()\n\t\t\tevent.stopPropagation()\n\t\t\tconst { to, onClick } = this.props\n\n\t\t\tif (onClick && typeof onClick === 'function') {\n\t\t\t\tawait onClick()\n\t\t\t\tthis.props.history.push(to)\n\t\t\t} else {\n\t\t\t\tthis.props.history.push(to)\n\t\t\t}\n\t\t}\n\n\t\t// TODO: check if it works without infinite loops\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//   // const { to } = this.props;\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\n\t\t// }\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tto,\n\t\t\t\tmatch,\n\t\t\t\tlocation,\n\t\t\t\thistory,\n\t\t\t\tstaticContext,\n\t\t\t\tonClick,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst toLocation = this.resolveToLocation(to)\n\n\t\t\treturn (\n\t\t\t\t<Component {...rest} href={toLocation} onClick={this.handleClick} />\n\t\t\t)\n\t\t}\n\t}\n\n\treturn withRouter(Decorated)\n}\n","import React from 'react'\nimport SvgIcon from '@material-ui/core/SvgIcon'\nimport pure from 'recompose/pure'\n\nexport default (path, displayName, viewBox = '') => {\n\tlet Icon = props => (\n\t\t<SvgIcon viewBox={viewBox} {...props}>\n\t\t\t{path}\n\t\t</SvgIcon>\n\t)\n\n\tIcon.displayName = displayName\n\tIcon = pure(Icon)\n\tIcon.muiName = 'SvgIcon'\n\n\treturn Icon\n}\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\n\t</g>,\n\n\t'Campaign',\n\t'0 0 26.12 17.37'\n)\n","import React from 'react'\nimport Link from '@material-ui/core/Link'\n\nconst getUrl = url => {\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\n\tif (url) {\n\t\turl = '//' + url\n\t}\n\n\treturn url\n}\n\nconst Anchor = ({ href, target, children, label, ...rest }) => {\n\tlet url = target && target === '_blank' ? getUrl(href) : href\n\treturn (\n\t\t<Link\n\t\t\tunderline='none'\n\t\t\tcolor='inherit'\n\t\t\tdraggable='false'\n\t\t\trel='noopener noreferrer'\n\t\t\t{...rest}\n\t\t\ttarget={target}\n\t\t\thref={url}\n\t\t\tstyle={{ wordBreak: 'break-all' }} // TODO: add it where needed only\n\t\t>\n\t\t\t{children || label}\n\t\t</Link>\n\t)\n}\n\nexport default Anchor\n","const drawerWidth = 250\n\nexport const styles = theme => {\n\treturn {\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t\tzIndex: 1,\n\t\t\toverflow: 'hidden',\n\t\t\tposition: 'relative',\n\t\t\tdisplay: 'flex',\n\t\t\tminHeight: '100vh',\n\t\t\twidth: '100%',\n\t\t},\n\t\tappBar: {\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\twidth: 'auto',\n\t\t\tposition: 'fixed',\n\t\t\t// marginLeft: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\n\t\t\t\tleft: drawerWidth,\n\t\t\t},\n\t\t\tbackgroundColor: '#eee',\n\t\t\tcolor: '#000',\n\t\t},\n\t\tflex: {\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'row',\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t},\n\n\t\tflexRow: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tflexBasis: '100%',\n\t\t\tpaddingTop: theme.spacing(1),\n\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t'&:last-child': {\n\t\t\t\tpaddingRight: 240,\n\t\t\t\tpaddingTop: theme.spacing(1),\n\t\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t\tpaddingLeft: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttoolbarControls: {\n\t\t\tjustifyContent: 'flex-end',\n\t\t},\n\t\ttoolbarTitle: {\n\t\t\tjustifyContent: 'flex-start',\n\t\t},\n\t\tnavIconHide: {\n\t\t\tmarginRight: 10,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tdisplay: 'none',\n\t\t\t},\n\t\t},\n\t\ttoolbar: {\n\t\t\tflexFlow: 'wrap',\n\t\t\theight: 114,\n\t\t\t...theme.mixins.toolbar,\n\t\t},\n\t\tdrawerPaper: {\n\t\t\twidth: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tposition: 'fixed',\n\t\t\t},\n\t\t\tbackgroundColor: '#fff',\n\t\t},\n\t\tcontent: {\n\t\t\tflexGrow: 1,\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\tpadding: theme.spacing(3),\n\t\t\tpaddingTop: theme.spacing(5),\n\t\t\toverflow: 'auto',\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tmarginLeft: drawerWidth,\n\t\t\t},\n\t\t},\n\t\tcontentInner: {\n\t\t\tmaxWidth: 1600,\n\t\t\tmargin: 'auto',\n\t\t},\n\t\ticon: {\n\t\t\theight: 36,\n\t\t\twidth: 'auto',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport { push } from 'connected-react-router'\nimport { execute } from 'actions'\nimport { t } from 'selectors'\n\nconst sideIndex = {\n\tadvertiser: 0,\n\tpublisher: 1,\n\t'0': 'advertiser',\n\t'1': 'publisher',\n}\n\nconst handleChange = (ev, index) => {\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\n}\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.main\n\t\t\t: theme.palette.accentTwo.main\n\n\treturn {\n\t\t// TODO: keep it everywhere in case of components update\n\t\troot: {\n\t\t\tminWidth: 30,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: activeColor,\n\t\t\t},\n\t\t},\n\t\tselected: {\n\t\t\tcolor: activeColor,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: activeColor,\n\t\t\t},\n\t\t},\n\t\tindicator: {\n\t\t\tbackgroundColor: activeColor,\n\t\t},\n\t}\n})\n\nconst SideSwitch = ({ side, className }) => {\n\tconst classes = useStyles({ side })\n\treturn (\n\t\t<div className={className}>\n\t\t\t<AppBar position='static' color='default'>\n\t\t\t\t<Tabs\n\t\t\t\t\tclasses={classes}\n\t\t\t\t\tvalue={sideIndex[side]}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t\tvariant='fullWidth'\n\t\t\t\t\taria-label='side select'\n\t\t\t\t>\n\t\t\t\t\t<Tab classes={classes} label={t('ADVERTISER')} />\n\t\t\t\t\t<Tab classes={classes} label={t('PUBLISHER')} />\n\t\t\t\t</Tabs>\n\t\t\t</AppBar>\n\t\t</div>\n\t)\n}\n\nexport default SideSwitch\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(27, 117, 188)'\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\n\t\t/>\n\t</g>,\n\t'AdexIcon',\n\t'0 0 185 72'\n)\n","import React from 'react'\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\n\nexport const InputLoading = ({ className, color = 'primary' }) => (\n\t<LinearProgress className={className} color={color} />\n)\n\nexport const LoadingSection = ({ loading, children }) => (\n\t<Box display='flex' flex='1' alignItems='center'>\n\t\t<Box>{children}</Box>\n\t\t<Box ml={2} mr={2}>\n\t\t\t{loading && <CircularProgress />}\n\t\t</Box>\n\t</Box>\n)\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\nimport classnames from 'classnames'\nimport packageJson from './../../../../package.json'\nimport Anchor from 'components/common/anchor/anchor'\nimport { styles } from './styles'\nimport SideSwitch from './SideSwitch'\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport DashboardIcon from '@material-ui/icons/Dashboard'\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport ListIcon from '@material-ui/icons/List'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { LoadingSection } from 'components/common/spinners'\nimport {\n\tt,\n\tselectSide,\n\tselectLocation,\n\tselectAccountIdentityAddr,\n\tselectAccountStatsFormatted,\n\tselectMainToken,\n} from 'selectors'\n\nconst RRListItem = withReactRouterLink(ListItem)\nconst { ETH_SCAN_ADDR_HOST } = process.env\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.contrastText\n\t\t\t: theme.palette.accentTwo.contrastText\n\n\tconst activeBgColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.main\n\t\t\t: theme.palette.accentTwo.main\n\n\treturn {\n\t\tnavigation: {\n\t\t\tbackgroundColor: theme.palette.background.paper,\n\t\t},\n\t\tsntPadding: {\n\t\t\tpaddingTop: 0,\n\t\t},\n\t\tnavListRoot: {\n\t\t\tcolor: theme.palette.text.secondary,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tnavList: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 80,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t},\n\t\tsideNavToolbar: {},\n\t\tversion: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tpadding: 10,\n\t\t\tpaddingLeft: 16,\n\t\t\tborderTopWidth: 1,\n\t\t\tborderTopColor: theme.palette.divider,\n\t\t\tborderTopStyle: 'solid',\n\t\t},\n\t\tactive: {\n\t\t\tcolor: activeColor,\n\t\t\tbackgroundColor: activeBgColor,\n\t\t\t'&:focus': {\n\t\t\t\tbackgroundColor: activeBgColor,\n\t\t\t},\n\t\t},\n\t\tadxLink: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\t'&:hover': {\n\t\t\t\tcolor: theme.palette.text.secondary,\n\t\t\t},\n\t\t},\n\t\tsideSwitch: {\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\n\t\t},\n\t}\n})\n\nconst useCommonStyles = makeStyles(styles)\n\nfunction SideNav(props) {\n\tconst side = useSelector(selectSide)\n\tconst identity = useSelector(selectAccountIdentityAddr)\n\tconst classes = useStyles({ side })\n\tconst commonClasses = useCommonStyles()\n\tconst routerLocation = useSelector(selectLocation)\n\tconst { symbol } = useSelector(selectMainToken)\n\n\t// TODO: test location\n\tconst location = routerLocation.pathname.split('/')[3]\n\tconst isAdvertiser = side === 'advertiser'\n\tconst items = isAdvertiser ? 'units' : 'slots'\n\tconst { availableIdentityBalanceMainToken } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\n\t\t<div className={classes.navigation}>\n\t\t\t<List\n\t\t\t\tclasses={{\n\t\t\t\t\tpadding: classes.sntPadding,\n\t\t\t\t\troot: classes.navListRoot,\n\t\t\t\t}}\n\t\t\t\tclassName={classes.navList}\n\t\t\t\tcomponent='nav'\n\t\t\t>\n\t\t\t\t<div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tcommonClasses.toolbar,\n\t\t\t\t\t\t\tclasses.sideNavToolbar\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<AdexIconTxt className={commonClasses.icon} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceMainToken &&\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t<Typography variant='h6' component='div' color='textPrimary'>\n\t\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceMainToken ||\n\t\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography variant='button' display='block' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<DashboardIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\n\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<CampaignIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\n\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === items })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<ListIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Anchor target='_blank' href={`${process.env.ADEX_HELP_URL}`}>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<HelpOutlineIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t[classes.active]: location === 'account',\n\t\t\t\t\t\t})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t</div>\n\t\t\t</List>\n\t\t\t<div className={classes.version}>\n\t\t\t\t<div className={classes.adxLink}>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdEx Network OÜ\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdEx (ADX) Token\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t\t<small> / </small>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdExCore\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref='https://github.com/AdExBlockchain/adex-dapp/blob/master/CHANGELOG.md'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tv.{packageJson.version}-beta\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default SideNav\n","import React, { useState } from 'react'\nimport Menu from '@material-ui/core/Menu'\nimport Button from '@material-ui/core/Button'\n\nconst ImgIcon = ({ src }) => {\n\treturn (\n\t\t<img\n\t\t\tsrc={src}\n\t\t\theight={36}\n\t\t\twidth='auto'\n\t\t\talt='logo'\n\t\t\tstyle={{ marginRight: 5 }}\n\t\t/>\n\t)\n}\n\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\n\tconst [active, setActive] = useState(false)\n\tconst [anchorEl, setAnchorEl] = useState(null)\n\tconst open = Boolean(anchorEl)\n\n\tconst handleButtonClick = () => {\n\t\tsetActive(!active)\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst handleMenu = event => {\n\t\tsetAnchorEl(event.currentTarget)\n\t}\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tstyle={btnStyle}\n\t\t\t\tonClick={handleMenu}\n\t\t\t\taria-owns={id}\n\t\t\t\taria-haspopup='true'\n\t\t\t>\n\t\t\t\t{leftIcon}\n\t\t\t\t<span\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmaxWidth: 150,\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</span>\n\t\t\t\t{rightIcon}\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\tid={id}\n\t\t\t\topen={open}\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t// anchorOrigin={{\n\t\t\t\t// \tvertical: 'top',\n\t\t\t\t// \thorizontal: 'right',\n\t\t\t\t// }}\n\t\t\t\t// transformOrigin={{\n\t\t\t\t// \tvertical: 'top',\n\t\t\t\t// \thorizontal: 'right',\n\t\t\t\t// }}\n\t\t\t\tonClick={handleButtonClick}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Menu>\n\t\t</>\n\t)\n}\n\nexport default ButtonMenu\n","import { AUTH_TYPES } from 'constants/misc'\nimport metamaskLogo from 'resources/metamask-logo.png'\nimport trezorLogo from 'resources/trezor-logo-h.png'\nimport ledgerLogo from 'resources/ledger_logo_header.png'\nimport demoLogo from 'resources/demo-logo.png'\n\nexport const getAuthLogo = authType => {\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\treturn metamaskLogo\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\treturn trezorLogo\n\t\tcase AUTH_TYPES.LEDGER.name:\n\t\t\treturn ledgerLogo\n\t\tcase AUTH_TYPES.DEMO.name:\n\t\t\treturn demoLogo\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\nimport Translate from 'components/translate/Translate'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\n// import ChangeLang from 'components/translate/ChangeLang'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport { logOut } from 'services/store-data/auth'\n\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport classnames from 'classnames'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport MenuIcon from '@material-ui/icons/Menu'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { selectNavTitle, selectAccount } from 'selectors'\nimport { styles } from './styles'\nimport { formatAddress } from 'helpers/formatters'\n\nconst RRMenuItem = withReactRouterLink(MenuItem)\nconst useStyles = makeStyles(styles)\n\nfunction TopNav({ handleDrawerToggle, side, t }) {\n\tconst classes = useStyles()\n\tconst navTitle = useSelector(selectNavTitle)\n\tconst account = useSelector(selectAccount)\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\n\tconst btnMenuLabel =\n\t\taccount.wallet.authType === 'demo'\n\t\t\t? t('DEMO_MODE')\n\t\t\t: account.email ||\n\t\t\t  formatAddress(account.wallet.address) ||\n\t\t\t  t('NOT_LOGGED')\n\n\treturn (\n\t\t<AppBar className={classes.appBar} position='sticky'>\n\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t<div className={classes.flexRow}>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\taria-label='open drawer'\n\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\tclassName={classnames(classes.navIconHide)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t{/* <AdexIconTxt\n              className={classes.icon}\n            /> */}\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarControls)}>\n\t\t\t\t\t\t{/* <Navigation type='horizontal' className={theme.rightNavigation}> */}\n\t\t\t\t\t\t{/* At the moment we use translations only for proper items properties display names */}\n\t\t\t\t\t\t{/* <ChangeLang /> */}\n\t\t\t\t\t\t<Jazzicon\n\t\t\t\t\t\t\tdiameter={30}\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ButtonMenu\n\t\t\t\t\t\t\tid='menu-appbar'\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\n\t\t\t\t\t\t\tactive={true}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RRMenuItem\n\t\t\t\t\t\t\t\tvalue='account'\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</RRMenuItem>\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tvalue='logout'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tlogOut()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</ButtonMenu>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.flexRow}>\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarTitle)}>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant='subtitle1'\n\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\tclassName={classes.flex}\n\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(navTitle)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n\nexport default Translate(TopNav)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\n// import IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport Translate from 'components/translate/Translate'\nimport { validations, helpers } from 'adex-models'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\n\nconst MAX_IMG_LOAD_TIME = 7000\nclass Img extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\timgSrc: null,\n\t\t\tactive: false,\n\t\t\tvideoSrc: null,\n\t\t}\n\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\n\t\tthis.loadTimeout = null\n\t}\n\n\tipfsSrc = src => {\n\t\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\n\t\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\n\t\t}\n\n\t\treturn src\n\t}\n\n\thandleToggle = () => {\n\t\tlet active = this.state.active\n\t\tthis.setState({ active: !active })\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\tif (isVideo && !allowVideo) {\n\t\t\treturn this.setState({\n\t\t\t\timgSrc: VIDEO_IMAGE,\n\t\t\t})\n\t\t}\n\n\t\tif (isVideo) {\n\t\t\tthis.displayVideo = document.createElement('video')\n\t\t\tthis.setDisplayVideo({\n\t\t\t\timage: this.ipfsSrc(src),\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t} else {\n\t\t\tthis.displayImage = new Image()\n\t\t\tthis.setDisplayImage({\n\t\t\t\timage: this.ipfsSrc(src),\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps = nextProps => {\n\t\tconst nextSrc = this.ipfsSrc(nextProps.src)\n\t\tconst thisSrc = this.ipfsSrc(this.props.src)\n\t\tconst nextFallback = this.ipfsSrc(nextProps.fallbackSrc)\n\t\tconst { mediaMime } = nextProps\n\n\t\tif (nextSrc !== thisSrc) {\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\t\tif (isVideo) {\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\n\t\t\t\tthis.setDisplayVideo({\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\n\t\t\t\tthis.setDisplayImage({\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.clearLoadTimeout()\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\t\t\tthis.displayImage = null\n\t\t}\n\t}\n\n\tclearLoadTimeout = () => {\n\t\tif (this.loadTimeout) {\n\t\t\tclearTimeout(this.loadTimeout)\n\t\t\tthis.loadTimeout = null\n\t\t}\n\t}\n\n\tonFail = fallback => {\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.displayImage.src = fallback\n\t\t}\n\n\t\tthis.clearLoadTimeout()\n\n\t\tthis.setState({\n\t\t\timgSrc: fallback || null,\n\t\t})\n\t}\n\n\tsetDisplayImage = ({ image, fallback }) => {\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\n\t\t\tthis,\n\t\t\tfallback\n\t\t)\n\n\t\tthis.displayImage.onload = () => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\timgSrc: image,\n\t\t\t})\n\t\t}\n\n\t\tthis.displayImage.src = image\n\t}\n\n\tsetDisplayVideo = ({ image, fallback }) => {\n\t\tthis.displayVideo.src = image\n\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\tvideoSrc: image,\n\t\t\t})\n\t\t}\n\t}\n\n\tfullScreenBtn() {\n\t\tconst { classes } = this.props\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Fab\n\t\t\t\t\tmini\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.handleToggle()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FullscreenIcon />\n\t\t\t\t</Fab>\n\t\t\t\t{this.renderFullscreenDialog()}\n\t\t\t</span>\n\t\t)\n\t}\n\n\trenderFullscreenDialog() {\n\t\tconst { t, alt, classes, type } = this.props\n\t\tconst { active, imgSrc, videoSrc } = this.state\n\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={active}\n\t\t\t\ttype={type || 'normal'}\n\t\t\t\tmaxWidth={false}\n\t\t\t\tonClose={this.handleToggle}\n\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t>\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\n\t\t\t\t\t{imgSrc ? (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\tcontrols\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t></video>\n\t\t\t\t\t)}\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\n\t\t\t\t\t\t{t('CLOSE')}\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\talt,\n\t\t\tallowFullscreen,\n\t\t\tclassName,\n\t\t\tclasses,\n\t\t\tfullScreenOnClick,\n\t\t} = this.props\n\t\tconst { imgSrc, videoSrc } = this.state\n\t\treturn imgSrc || videoSrc ? (\n\t\t\t<div\n\t\t\t\tclassName={classnames(classes.imgParent, className, classes.wrapper)}\n\t\t\t>\n\t\t\t\t{!!imgSrc ? (\n\t\t\t\t\t<img\n\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\tsrc={this.state.imgSrc}\n\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\tfullScreenOnClick &&\n\t\t\t\t\t\t\t(() => {\n\t\t\t\t\t\t\t\tthis.handleToggle()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<video\n\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\n\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\tmuted\n\t\t\t\t\t\tloop\n\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\tfullScreenOnClick &&\n\t\t\t\t\t\t\t(() => {\n\t\t\t\t\t\t\t\tthis.handleToggle()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t></video>\n\t\t\t\t)}\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\n\t\t\t</div>\n\t\t) : (\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\n\t\t\t\t<span className={classes.circular}>\n\t\t\t\t\t<CircularProgress />\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImg.propTypes = {\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\tfallbackSrc: PropTypes.string,\n\talt: PropTypes.string,\n\tallowFullscreen: PropTypes.bool,\n\tfullScreenOnClick: PropTypes.bool,\n\tmediaMime: PropTypes.string,\n}\n\nexport default Translate(withStyles(styles)(Img))\n","export const styles = theme => ({\n\timgLoading: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: '100%',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\timgParent: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: 'max-content',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\tcircular: {\n\t\tposition: 'relative',\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\n\t\tleft: 'calc(50% - 20px)',\n\t\tdisplay: 'inline-block',\n\t},\n\tfullscreenIcon: {\n\t\tposition: 'absolute',\n\t\ttop: theme.spacing(1),\n\t\tright: theme.spacing(1),\n\t\tcursor: 'pointer',\n\t\twidth: '30px',\n\t\theight: '30px',\n\t\tminHeight: '24px',\n\t},\n\tdialog: {\n\t\t'@media(max-width:744px)': {\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t},\n\t\t'@media(max-height:823px)': {\n\t\t\tminHeight: 'auto',\n\t\t},\n\t},\n\tdialogImageParent: {\n\t\t'@media(max-width:1080px)': {\n\t\t\tmaxWidth: '80vw',\n\t\t\tmaxHeight: '100vw',\n\t\t\tdisplay: 'block',\n\t\t\tmargin: 'auto',\n\t\t},\n\t\t'@media(max-width:744px)': {\n\t\t\tpaddingLeft: 0,\n\t\t\tpaddingRight: 0,\n\t\t},\n\t},\n\tdialogImage: {\n\t\theight: 'auto',\n\t\tmaxWidth: '80vw',\n\t},\n\timg: {\n\t\twidth: 'auto',\n\t\theight: 'auto',\n\t},\n\twrapper: {\n\t\theight: 'max-content',\n\t\twidth: 'max-content',\n\t},\n})\n","/**\n * @param {String} objUrl - Image blob url URL.createObjectURL\n * @param {Object} pixelCrop - pixelCrop Object provided by react-image-crop\n * @param {String} fileName - Name of the returned file in Promise\n */\nexport const getCroppedImgUrl = ({ objUrl, pixelCrop, fileName, size }) => {\n\t// TODO: Validate pixelCrop and size\n\tconst cropCanvas = document.createElement('canvas')\n\tconst scaleCanvas = document.createElement('canvas')\n\n\tconst img = new Image()\n\timg.crossOrigin = 'Anonymous' // For ipfs URL\n\timg.src = objUrl\n\n\t// As a blob\n\treturn new Promise((resolve, reject) => {\n\t\timg.onload = () => {\n\t\t\tconst width = img.width\n\t\t\tconst height = img.height\n\n\t\t\t// pixelCrop come in %\n\t\t\tconst crop = {\n\t\t\t\tx: Math.round(width * (pixelCrop.x / 100)),\n\t\t\t\ty: Math.round(height * (pixelCrop.y / 100)),\n\t\t\t\twidth: Math.round(width * (pixelCrop.width / 100)),\n\t\t\t\theight: Math.round(height * (pixelCrop.height / 100)),\n\t\t\t}\n\n\t\t\tcropCanvas.width = crop.width\n\t\t\tcropCanvas.height = crop.height\n\t\t\tconst cctx = cropCanvas.getContext('2d')\n\n\t\t\tcctx.drawImage(\n\t\t\t\timg,\n\t\t\t\tcrop.x,\n\t\t\t\tcrop.y,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height\n\t\t\t)\n\n\t\t\tscaleCanvas.width = size.width\n\t\t\tscaleCanvas.height = size.height\n\n\t\t\tconst sctx = scaleCanvas.getContext('2d')\n\n\t\t\tsctx.drawImage(\n\t\t\t\tcropCanvas,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tsize.width,\n\t\t\t\tsize.height\n\t\t\t)\n\n\t\t\tscaleCanvas.toBlob(file => {\n\t\t\t\tif (!file) {\n\t\t\t\t\treject('Error cropping file')\n\t\t\t\t}\n\t\t\t\tfile.name = fileName\n\t\t\t\tresolve(URL.createObjectURL(file))\n\t\t\t}, 'image/jpeg')\n\t\t}\n\t})\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Img from 'components/common/img/Img'\n// import debounce from 'debounce'\nimport Dropzone from 'react-dropzone'\nimport Translate from 'components/translate/Translate'\nimport Button from '@material-ui/core/Button'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport ReactCrop from 'react-image-crop'\nimport { getCroppedImgUrl } from 'services/images/crop'\nimport CropIcon from '@material-ui/icons/Crop'\nimport ClearIcon from '@material-ui/icons/Clear'\nimport SaveIcon from '@material-ui/icons/Save'\nimport FileUploadIcon from '@material-ui/icons/CloudUpload'\nimport Grid from '@material-ui/core/Grid'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nclass ImgForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst { size, imgSrc, mime } = props\n\t\tconst aspect = size ? size.width / size.height : undefined\n\n\t\tthis.state = {\n\t\t\timgSrc: imgSrc || '',\n\t\t\tmime: mime || '',\n\t\t\timgName: '',\n\t\t\tcropMode: false,\n\t\t\tcrop: { aspect: aspect },\n\t\t}\n\t}\n\n\tonDrop = (acceptedFiles, rejectedFiles) => {\n\t\tconst that = this\n\t\tconst file = acceptedFiles[0]\n\t\tif (!file) return\n\t\tconst objectUrl = URL.createObjectURL(file)\n\n\t\tthat.setState({\n\t\t\timgSrc: objectUrl,\n\t\t\timgName: file.name,\n\t\t\tmime: file.type,\n\t\t})\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\n\t\tthis.props.onChange({\n\t\t\ttempUrl: objectUrl,\n\t\t\tmime: file.type,\n\t\t})\n\t}\n\n\tonRemove = e => {\n\t\tthis.preventBubbling(e)\n\n\t\tconst { imgSrc } = this.state\n\n\t\tif (imgSrc) {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tthis.setState({ imgSrc: '', imgName: '' })\n\t\t\tthis.props.onChange({ tempUrl: null, mime: null })\n\t\t}\n\t}\n\n\tonCropChange = crop => {\n\t\tthis.setState({ crop })\n\t}\n\n\tsaveCropped = () => {\n\t\tconst { imgSrc, crop, mime, imgName } = this.state\n\t\tconst { onChange, size } = this.props\n\t\tgetCroppedImgUrl({\n\t\t\tobjUrl: imgSrc,\n\t\t\tpixelCrop: crop,\n\t\t\tfileName: `cropped-${imgName}`,\n\t\t\tsize,\n\t\t}).then(croppedBlob => {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tthis.setState({ imgSrc: croppedBlob, cropMode: false })\n\t\t\tonChange({\n\t\t\t\ttempUrl: croppedBlob,\n\t\t\t\tmime,\n\t\t\t})\n\t\t})\n\t}\n\n\tpreventBubbling = e => {\n\t\tif (e.stopPropagation) {\n\t\t\te.stopPropagation()\n\t\t}\n\t\tif (e.nativeEvent) {\n\t\t\te.nativeEvent.stopImmediatePropagation()\n\t\t}\n\t}\n\n\tUploadInfo = () => {\n\t\tconst { t, classes, size, errMsg } = this.props\n\t\tconst { imgSrc, mime } = this.state\n\t\treturn (\n\t\t\t<div className={classes.uploadInfo}>\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\n\t\t\t\t\t<div className={classes.uploadActions}>\n\t\t\t\t\t\t{/* TEMP: make size required */}\n\t\t\t\t\t\t{!!size && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\tthis.preventBubbling(e)\n\t\t\t\t\t\t\t\t\tthis.setState({ cropMode: true })\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={this.onRemove}\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<FileUploadIcon />\n\t\t\t\t)}\n\t\t\t\t<div>\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\n\t\t\t\t\t\t{errMsg}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t// TODO: CLEAR IMG BLOB!!!!\n\trender() {\n\t\tconst { t, classes, label, additionalInfo } = this.props\n\t\tconst { crop, cropMode, imgName, imgSrc, mime } = this.state\n\n\t\tconst videoSrc = isVideoMedia(mime)\n\t\treturn (\n\t\t\t<div className={classes.imgForm}>\n\t\t\t\t<AppBar\n\t\t\t\t\tposition='static'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\troot: classes.header,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t{imgSrc && imgName ? (\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{label || 'Image'}: {imgName}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span> {label || 'Upload image'} </span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<div>\n\t\t\t\t\t{cropMode ? (\n\t\t\t\t\t\t<div className={classes.dropzone} onClick={this.preventBubbling}>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t<ReactCrop\n\t\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: 320 }}\n\t\t\t\t\t\t\t\t\t\timageStyle={{\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '320px',\n\t\t\t\t\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\n\t\t\t\t\t\t\t\t\t\tcrop={crop}\n\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={this.onCropChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\tonClick={this.saveCropped}\n\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ cropMode: false })}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Dropzone\n\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\n\t\t\t\t\t\t\tonDrop={this.onDrop}\n\t\t\t\t\t\t\tclassName={classes.dropzone}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t{videoSrc ? (\n\t\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\t\t\t\t\talt={'name'}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t<this.UploadInfo />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Dropzone>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> {additionalInfo} </small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nImgForm.propTypes = {\n\timgSrc: PropTypes.string,\n\tlabel: PropTypes.string,\n\tsize: PropTypes.object,\n}\n\nexport default Translate(withStyles(styles)(ImgForm))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\theader: {\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tdropzone: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t\tborder: `2px dashed ${theme.palette.grey[500]}`,\n\t\t\tbackground: theme.palette.background.default,\n\t\t\tpadding: 10,\n\t\t\tcursor: 'pointer',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timgDropzonePreview: {\n\t\t\tmaxHeight: 320,\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t},\n\t\tdropzoneBtn: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tleftIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tuploadActions: {\n\t\t\tmarginTop: spacing,\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\n\nexport default function ValidImageHoc(Decorated) {\n\tclass ValidImage extends Component {\n\t\tvalidate = ({\n\t\t\tpropsName,\n\t\t\twidthTarget,\n\t\t\theightTarget,\n\t\t\tmediaWidth,\n\t\t\tmediaHeight,\n\t\t\tmsg,\n\t\t\texact,\n\t\t\trequired,\n\t\t\tonChange,\n\t\t\tmime,\n\t\t\ttempUrl,\n\t\t}) => {\n\t\t\tlet isValid = true\n\n\t\t\tif (exact) {\n\t\t\t\tisValid = checkExactishAspect(\n\t\t\t\t\twidthTarget,\n\t\t\t\t\tmediaWidth,\n\t\t\t\t\theightTarget,\n\t\t\t\t\tmediaHeight\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\n\t\t\t\tisValid = false\n\t\t\t}\n\n\t\t\tconst masgArgs = [widthTarget, heightTarget, 'px']\n\n\t\t\tthis.props.validate(propsName, {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: msg, args: masgArgs },\n\t\t\t\tdirty: true,\n\t\t\t})\n\n\t\t\tconst resMedia = {\n\t\t\t\twidth: mediaWidth,\n\t\t\t\theight: mediaHeight,\n\t\t\t\tmime,\n\t\t\t\ttempUrl,\n\t\t\t}\n\n\t\t\tif (typeof onChange === 'function') {\n\t\t\t\tonChange(propsName, resMedia)\n\t\t\t}\n\t\t}\n\n\t\tvalidateMedia = async (\n\t\t\t{\n\t\t\t\tpropsName,\n\t\t\t\twidthTarget,\n\t\t\t\theightTarget,\n\t\t\t\tmsg,\n\t\t\t\texact,\n\t\t\t\trequired,\n\t\t\t\tonChange,\n\t\t\t} = {},\n\t\t\tmedia\n\t\t) => {\n\t\t\tif (!required && !media.tempUrl && onChange) {\n\t\t\t\tthis.props.validate(propsName, {\n\t\t\t\t\tisValid: true,\n\t\t\t\t\terr: { msg: msg, args: [] },\n\t\t\t\t\tdirty: true,\n\t\t\t\t})\n\t\t\t\t// TODO: fix this\n\t\t\t\tonChange(propsName, media)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (!media.mime || !media.tempUrl) {\n\t\t\t\tthis.props.validate(propsName, {\n\t\t\t\t\tisValid: false,\n\t\t\t\t\tdirty: true,\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\n\n\t\t\tthis.validate({\n\t\t\t\tpropsName,\n\t\t\t\twidthTarget,\n\t\t\t\theightTarget,\n\t\t\t\tmediaWidth: size.width,\n\t\t\t\tmediaHeight: size.height,\n\t\t\t\tmsg,\n\t\t\t\texact,\n\t\t\t\trequired,\n\t\t\t\tonChange,\n\t\t\t\tmime: media.mime,\n\t\t\t\ttempUrl: media.tempUrl,\n\t\t\t})\n\t\t}\n\n\t\trender() {\n\t\t\tconst props = this.props\n\t\t\treturn <Decorated {...props} validateMedia={this.validateMedia} />\n\t\t}\n\t}\n\n\tValidImage.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tvalidations: memory.validations[props.validateId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidImage))\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport PropTypes from 'prop-types'\nimport { execute, validate } from 'actions'\nimport { selectValidationsById } from 'selectors'\n\nexport default function ValidationHoc(Decorated) {\n\tconst ValidItem = props => {\n\t\tconst validations =\n\t\t\tuseSelector(state => selectValidationsById(state, props.validateId)) || {}\n\n\t\tconst makeValidation = (\n\t\t\tkey,\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n\t\t) => {\n\t\t\tconst { validateId } = props\n\t\t\texecute(validate(validateId, key, { isValid, err, dirty, removeAll }))\n\t\t}\n\n\t\treturn (\n\t\t\t<Decorated\n\t\t\t\t{...props}\n\t\t\t\tvalidate={makeValidation}\n\t\t\t\tinvalidFields={validations}\n\t\t\t/>\n\t\t)\n\t}\n\n\tValidItem.propTypes = {\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\treturn ValidItem\n}\n","export const styles = theme => {\n\t// const spacing = theme.spacing(3)\n\treturn {}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport { AVATAR_MAX_WIDTH, AVATAR_MAX_HEIGHT } from 'constants/misc'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nexport class ImgDialog extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tvalues: {},\n\t\t}\n\t}\n\n\thandleChange = (name, value) => {\n\t\tlet newValues = { ...this.state.values }\n\t\tnewValues[name] = value\n\t\tthis.setState({ values: newValues })\n\t}\n\n\tonOk = () => {\n\t\tconst vals = this.state.values\n\t\tObject.keys(vals).forEach(key => {\n\t\t\tthis.props.onChangeReady(key, vals[key])\n\t\t})\n\t\tthis.props.handleToggle()\n\t}\n\n\trender() {\n\t\tlet t = () => {}\n\t\tlet validations = this.props.invalidFields || {}\n\t\tlet errImg = validations[this.props.imgPropName]\n\t\tlet width = this.props.width || AVATAR_MAX_WIDTH\n\t\tlet height = this.props.height || AVATAR_MAX_HEIGHT\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Dialog\n\t\t\t\t\topen={this.props.active}\n\t\t\t\t\t// onEscKeyDown={this.props.handleToggle}\n\t\t\t\t\t// onOverlayClick={this.props.handleToggle}\n\t\t\t\t\ttitle={this.props.title}\n\t\t\t\t\ttype={this.props.type || 'normal'}\n\t\t\t\t\t// className={theme[ItemTypesNames[this.props.itemType]]}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle>\n\t\t\t\t\t\t<IconButton onClick={this.props.handleToggle}>\n\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t{this.props.t(this.props.title)}\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\tlabel={t(this.props.imgLabel)}\n\t\t\t\t\t\t\timgSrc={this.props.imgSrc || ''}\n\t\t\t\t\t\t\tonChange={this.props.validateMedia.bind(this, {\n\t\t\t\t\t\t\t\tpropsName: this.props.imgPropName,\n\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\tmsg: this.props.errMsg,\n\t\t\t\t\t\t\t\texact: this.props.exact,\n\t\t\t\t\t\t\t\trequired: this.props.required,\n\t\t\t\t\t\t\t\tonChange: this.handleChange,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tadditionalInfo={t(this.props.additionalInfo)}\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\tsize={{ width: width, height: height }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.props.handleToggle} color='primary'>\n\t\t\t\t\t\t\t{'Cancel'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={this.onOk}\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!!(this.props.invalidFields || {})[this.props.imgPropName]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{'Ok'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImgDialog.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tlet persist = state.persist\n\t// let memory = state.memory\n\treturn {\n\t\taccount: persist.account,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ValidItemHoc(ValidImageHoc(withStyles(styles)(ImgDialog))))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\n// import classnames from 'classnames'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Fab from '@material-ui/core/Fab'\nimport CheckIcon from '@material-ui/icons/Check'\nimport SaveIcon from '@material-ui/icons/Save'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\n// NOTE: Separate component to track the validations and spinner to avoid rerender of item top level components\nclass SaveBtn extends Component {\n\trender() {\n\t\tlet {\n\t\t\tspinner,\n\t\t\tclasses,\n\t\t\tsuccess,\n\t\t\tdirtyProps,\n\t\t\tsave,\n\t\t\tvalidations,\n\t\t\tvalidationId,\n\t\t\tdisabled,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.position}>\n\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t<Fab\n\t\t\t\t\t\tfabButton\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t// className={buttonClassname}\n\t\t\t\t\t\tonClick={() => save()}\n\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\tdisabled ||\n\t\t\t\t\t\t\tspinner ||\n\t\t\t\t\t\t\t!dirtyProps.length ||\n\t\t\t\t\t\t\t!!Object.keys(validations[validationId] || {}).length\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// {...other}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/*TODO: Success */}\n\t\t\t\t\t\t{success ? <CheckIcon /> : <SaveIcon />}\n\t\t\t\t\t</Fab>\n\t\t\t\t\t{!!spinner && (\n\t\t\t\t\t\t<CircularProgress size={68} className={classes.fabProgress} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSaveBtn.propTypes = {\n\tspinnerId: PropTypes.string,\n\tvalidationId: PropTypes.string,\n\titemId: PropTypes.string,\n\tvalidations: PropTypes.object,\n\tdisabled: PropTypes.bool,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\treturn {\n\t\tspinner: memory.spinners[props.spinnerId],\n\t\tvalidations: memory.validations,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(withStyles(styles)(SaveBtn)))\n","import color from '@material-ui/core/colors/purple'\n\nexport const styles = theme => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t},\n\twrapper: {\n\t\tposition: 'relative',\n\t},\n\tbuttonSuccess: {\n\t\tbackgroundColor: color[500],\n\t\t'&:hover': {\n\t\t\tbackgroundColor: color[700],\n\t\t},\n\t},\n\tfabProgress: {\n\t\tcolor: color[500],\n\t\tposition: 'absolute',\n\t\ttop: -6,\n\t\tleft: -6,\n\t\tzIndex: 1,\n\t},\n\tbuttonProgress: {\n\t\tcolor: color[500],\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tposition: {\n\t\tposition: 'fixed',\n\t\ttop: 86,\n\t\tright: 40,\n\t\tzIndex: theme.zIndex.appBar,\n\t},\n})\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\twidth: '100%',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\tbuttonLeft: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\ttextField: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\ttop: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflexWrap: 'wrap',\n\t\t\tmaxWidth: '70%',\n\t\t},\n\t\tchangesLine: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\talignItems: 'center',\n\t\t\tcolor: theme.palette.secondary.main,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tchangeChip: {\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: 0,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: spacing,\n\t\t\tright: spacing,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport IMG_404 from 'resources/404.png'\nimport Img from 'components/common/img/Img'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport Translate from 'components/translate/Translate'\nimport { styles } from './styles'\n\nconst RRButton = withReactRouterLink(Button)\n\nclass PageNotFound extends React.Component {\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\tclasses,\n\t\t\ttitle,\n\t\t\tsubtitle,\n\t\t\tgoToTxt,\n\t\t\tgoToPath,\n\t\t\tskipGoToButton,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.wrapper}>\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3'>\n\t\t\t\t\t\t\t{t(title || '404_TEXT')}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t{subtitle && (\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\n\t\t\t\t\t\t\t\t{t(subtitle)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\tclassName={classes.text}\n\t\t\t\t\t\t\tvariant='h1'\n\t\t\t\t\t\t\tstyle={{ textTransform: 'uppercase' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('404')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\tsrc={IMG_404}\n\t\t\t\t\t\t\talt={'Downlad metamask'}\n\t\t\t\t\t\t\tclassName={classes.img}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t{!skipGoToButton && (\n\t\t\t\t\t\t\t<RRButton\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\n\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\n\t\t\t\t\t\t\t</RRButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nPageNotFound.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tgoToTxt: PropTypes.string,\n\tgoToPath: PropTypes.string,\n\tskipGoToButton: PropTypes.bool,\n}\n\nexport default Translate(withStyles(styles)(PageNotFound))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\twrapper: {\n\t\t\tmargin: `${spacing * 2}px auto`,\n\t\t\tmaxWidth: 1000,\n\t\t},\n\t\timg: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Grid from '@material-ui/core/Grid'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport EditIcon from '@material-ui/icons/Edit'\nimport ImgDialog from 'components/dashboard/containers/ImgDialog'\nimport { schemas, Joi } from 'adex-models'\nimport classnames from 'classnames'\nimport { Prompt } from 'react-router'\nimport Translate from 'components/translate/Translate'\nimport { items as ItemsConstants } from 'adex-constants'\nimport Img from 'components/common/img/Img'\nimport SaveBtn from 'components/dashboard/containers/SaveBtn'\nimport { withStyles } from '@material-ui/core/styles'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport FormControl from '@material-ui/core/FormControl'\nimport Paper from '@material-ui/core/Paper'\nimport InfoOutlineIcon from '@material-ui/icons/Info'\nimport Chip from '@material-ui/core/Chip'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport { styles } from './styles'\nimport { validName } from 'helpers/validators'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\n\nconst { adSlotPut, adUnitPut, campaignPut } = schemas\nconst { AdSizesByValue } = ItemsConstants\n\nexport default function ItemHoc(Decorated) {\n\tclass Item extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\t\t\tthis.save = this.save.bind(this)\n\t\t\tthis.state = {\n\t\t\t\tactiveFields: {},\n\t\t\t\titem: null,\n\t\t\t\tinitialItemState: {},\n\t\t\t\tdirtyProps: [],\n\t\t\t\teditImg: false,\n\t\t\t\t_activeInput: null,\n\t\t\t}\n\t\t}\n\n\t\tupdateNav = (item = {}) => {\n\t\t\tconst { actions, t, itemType } = this.props\n\t\t\tactions.updateNav(\n\t\t\t\t'navTitle',\n\t\t\t\tt(itemType, { isProp: true }) + ' > ' + item.title || ''\n\t\t\t)\n\t\t}\n\n\t\tcomponentWillMount() {\n\t\t\tconst { item, matchId, objModel } = this.props\n\n\t\t\tif (!item) {\n\t\t\t\tthis.updateNav({ title: matchId })\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst initialItemState = new objModel(item)\n\n\t\t\tthis.setState({ item: { ...item }, initialItemState: initialItemState })\n\t\t\tthis.updateNav(initialItemState)\n\t\t}\n\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\n\t\t//     return diffProps || diffState\n\t\t// }\n\n\t\tcomponentWillReceiveProps(nextProps, nextState) {\n\t\t\tconst { objModel } = this.props\n\t\t\tconst { item } = this.state\n\t\t\tlet currentItemInst = new objModel(item || {})\n\t\t\t// Assume that the this.props.match.params.itemId can not be changed without remount of the component\n\t\t\t// TODO: check the above\n\t\t\tlet nextItem = nextProps.item\n\t\t\tlet nexItemInst = new objModel(nextItem || {})\n\n\t\t\tif (currentItemInst.modifiedOn !== nexItemInst.modifiedOn) {\n\t\t\t\t// if (\n\t\t\t\t// \tJSON.stringify(currentItemInst.plainObj()) !==\n\t\t\t\t// \tJSON.stringify(nexItemInst.plainObj())\n\t\t\t\t// ) {\n\t\t\t\tthis.setState({\n\t\t\t\t\titem: nexItemInst.plainObj(),\n\t\t\t\t\tinitialItemState: nexItemInst,\n\t\t\t\t\tactiveFields: {},\n\t\t\t\t\tdirtyProps: [],\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.updateNav(nexItemInst)\n\t\t}\n\n\t\tcomponentWillUnmount() {\n\t\t\tif (this.state.item) {\n\t\t\t\tthis.props.actions.updateSpinner('update' + this.state.item.id, false)\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (name, value) => {\n\t\t\tconst { objModel } = this.props\n\t\t\tconst { item, dirtyProps } = this.state\n\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[name] = value\n\n\t\t\tconst dp = dirtyProps.slice(0)\n\n\t\t\tif (dp.indexOf(name) < 0) {\n\t\t\t\tdp.push(name)\n\t\t\t}\n\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\n\t\t}\n\n\t\treturnPropToInitialState = propName => {\n\t\t\tconst { objModel, actions } = this.props\n\t\t\tconst { dirtyProps, initialItemState, item } = this.state\n\t\t\tconst initialItemStateValue = initialItemState[propName]\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[propName] = initialItemStateValue\n\n\t\t\tconst dp = dirtyProps.filter(dp => {\n\t\t\t\treturn dp !== propName\n\t\t\t})\n\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\n\t\t\t// TEMP fix, we assume that the initial values are validated\n\t\t\tactions.resetValidationErrors(item.id, propName)\n\t\t}\n\n\t\tsetActiveFields = (field, value) => {\n\t\t\tlet newActiveFields = { ...this.state.activeFields }\n\t\t\tnewActiveFields[field] = value\n\t\t\tthis.setState({ activeFields: newActiveFields })\n\t\t}\n\n\t\t//TODO: Do not save if not dirty!\n\t\tsave = () => {\n\t\t\tconst { itemType, spinner, actions } = this.props\n\t\t\tconst { item, dirtyProps } = this.state\n\n\t\t\tif (dirtyProps.length && !spinner) {\n\t\t\t\tactions.updateItem({\n\t\t\t\t\titemType,\n\t\t\t\t\titem,\n\t\t\t\t})\n\t\t\t\tthis.setState({ dirtyProps: [] })\n\t\t\t}\n\t\t}\n\n\t\tisDirtyProp(prop) {\n\t\t\treturn this.state.item.dirtyProps.indexOf(prop) > -1\n\t\t}\n\n\t\thandleToggle = () => {\n\t\t\tconst isDemo = this.props.account._authType === 'demo'\n\n\t\t\tif (isDemo) return\n\n\t\t\tlet active = this.state.editImg\n\t\t\tthis.setState({ editImg: !active })\n\t\t}\n\n\t\tisNameValid(name) {\n\t\t\tconst { msg } = validName(name)\n\t\t\treturn !msg\n\t\t}\n\n\t\tvalidateTitle(name, dirty, errMsg) {\n\t\t\tconst { itemType, validate } = this.props\n\t\t\tlet schema = null\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tschema = adSlotPut.title\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tschema = adUnitPut.title\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tschema = campaignPut.title\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tconst result = Joi.validate(name, schema)\n\t\t\tvalidate('title', {\n\t\t\t\tisValid: !result.error,\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t}\n\n\t\tvalidateDescription(name, dirty, errMsg) {\n\t\t\tconst { itemType, validate } = this.props\n\t\t\tlet schema = null\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tschema = adSlotPut.description\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tschema = adUnitPut.description\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t\tconst result = Joi.validate(name, schema)\n\t\t\tvalidate('description', {\n\t\t\t\tisValid: !result.error,\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t}\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tvalidations,\n\t\t\t\tclasses,\n\t\t\t\tt,\n\t\t\t\taccount,\n\t\t\t\titemType,\n\t\t\t\tobjModel,\n\t\t\t\tmatchId,\n\t\t\t\tside,\n\t\t\t\tinvalidFields,\n\t\t\t\tvalidateId,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst propsItem = this.props.item\n\n\t\t\tif (!propsItem) {\n\t\t\t\treturn (\n\t\t\t\t\t<PageNotFound\n\t\t\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\n\t\t\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\n\t\t\t\t\t\t\targs: [itemType, matchId],\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tskipGoToButton\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t\t/*\n\t\t\t * NOTE: using instance of the item, the instance is passes to the Unit, Slot, Channel and Campaign components,\n\t\t\t * in this case there is no need to make instance inside them\n\t\t\t */\n\n\t\t\tconst isDemo = account._authType === 'demo'\n\t\t\tconst item = new objModel(this.state.item || {})\n\t\t\tlet canEdit = itemType === 'AdSlot'\n\t\t\tlet imgSrc = item.temp.tempUrl || item.mediaUrl || item.fallbackMediaUrl\n\n\t\t\tconst titleErr = invalidFields['title']\n\t\t\tconst descriptionErr = invalidFields['description']\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Prompt\n\t\t\t\t\t\twhen={!!this.state.dirtyProps.length}\n\t\t\t\t\t\tmessage={t('UNSAVED_CHANGES_ALERT')}\n\t\t\t\t\t/>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\terror={!!titleErr && !!titleErr.errMsg}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<InputLabel>{t('title', { isProp: true })}</InputLabel>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname={t('title', { isProp: true })}\n\t\t\t\t\t\t\t\tvalue={item.title}\n\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\tthis.validateTitle(ev.target.value, true)\n\t\t\t\t\t\t\t\t\tthis.handleChange('title', ev.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tmaxLength={1024}\n\t\t\t\t\t\t\t\tonBlur={ev => {\n\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', false)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonFocus={() => this.validateTitle(item.title, false)}\n\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.title}\n\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t// disabled\n\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\t\t\tonClick={ev => this.setActiveFields('title', true)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{titleErr && titleErr.errMsg && titleErr.dirty && (\n\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t{t(titleErr.errMsg, { args: titleErr.errMsgArgs })}\n\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{itemType !== 'Campaign' && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<ImgDialog\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\timgSrc={imgSrc}\n\t\t\t\t\t\t\t\t\thandleToggle={this.handleToggle}\n\t\t\t\t\t\t\t\t\tactive={this.state.editImg}\n\t\t\t\t\t\t\t\t\tonChangeReady={this.handleChange}\n\t\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\t\twidth={\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgWidth ||\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).width\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\theight={\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgHeight ||\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).height\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttitle={t(this.props.updateImgLabel)}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t(this.props.updateImgInfoLabel)}\n\t\t\t\t\t\t\t\t\texact={this.props.updateImgExact}\n\t\t\t\t\t\t\t\t\terrMsg={this.props.updateImgErrMsg}\n\t\t\t\t\t\t\t\t\timgPropName='img'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\terror={!!descriptionErr && !!descriptionErr.errMsg}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor='description'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('description', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.description || ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(ev.target.value, true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange('description', ev.target.value)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(item.description, false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{descriptionErr && !!descriptionErr.errMsg ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(descriptionErr.errMsg, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: descriptionErr.errMsgArgs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t!item.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('NO_DESCRIPTION_YET')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\n\t\t\t\t\t\t\t\t\t\t{this.props.showLogo && (\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: 270 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.mediaRoot,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.imgContainer\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.fullName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.img, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[classes.pointer]:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.canEditImg && !isDemo,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfabButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmini\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.editIcon}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={!isDemo ? this.handleToggle : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{!!this.state.dirtyProps.length && (\n\t\t\t\t\t\t\t<div className={classes.changesLine}>\n\t\t\t\t\t\t\t\t<InfoOutlineIcon className={classes.buttonLeft} />\n\t\t\t\t\t\t\t\t<span className={classes.buttonLeft}>\n\t\t\t\t\t\t\t\t\t{t('UNSAVED_CHANGES')}:\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{this.state.dirtyProps.map(p => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.changeChip}\n\t\t\t\t\t\t\t\t\t\t\tkey={p}\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(p, { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\tonDelete={() => this.returnPropToInitialState(p)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SaveBtn\n\t\t\t\t\t\t\tspinnerId={'update' + item.id}\n\t\t\t\t\t\t\tvalidationId={'update-' + validateId}\n\t\t\t\t\t\t\tdirtyProps={this.state.dirtyProps}\n\t\t\t\t\t\t\tsave={this.save}\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!this.state.dirtyProps.length ||\n\t\t\t\t\t\t\t\t!!Object.keys(invalidFields).length\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Decorated\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\taccount={account}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tinEdit={!!this.state.dirtyProps.length}\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\tsave={this.save}\n\t\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\t\ttoggleImgEdit={this.handleToggle.bind(this)}\n\t\t\t\t\t\t\tactiveFields={this.state.activeFields}\n\t\t\t\t\t\t\tsetActiveFields={this.setActiveFields.bind(this)}\n\t\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t\tisDemo={isDemo}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n\n\tItem.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\titem: PropTypes.object.isRequired,\n\t\tspinner: PropTypes.bool,\n\t\titemType: PropTypes.string.isRequired,\n\t\tobjModel: PropTypes.func.isRequired,\n\t}\n\n\tconst tryGetItemByIpfs = ({ items, ipfs }) => {\n\t\tlet keys = Object.keys(items)\n\n\t\tfor (let index = 0; index < keys.length; index++) {\n\t\t\tconst key = keys[index]\n\t\t\tconst item = items[key]\n\n\t\t\tif (!!item && item._ipfs && !!ipfs && item._ipfs === ipfs) {\n\t\t\t\treturn item\n\t\t\t}\n\t\t}\n\n\t\treturn null\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist } = state\n\t\t// const memory = state.memory\n\t\tconst items = persist.items[props.itemType]\n\t\tconst id = props.match.params.itemId\n\t\tlet item = items[id]\n\n\t\tif (!item && props.itemType !== undefined) {\n\t\t\titem = tryGetItemByIpfs({ items: items, ipfs: id })\n\t\t}\n\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\titem: item,\n\t\t\tvalidateId: 'update-' + (item.id || item.ipfs),\n\t\t\tmatchId: id,\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(withStyles(styles)(ValidItemHoc(Translate(Item))))\n}\n","import React, { useEffect, useState, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport StepperMUI from '@material-ui/core/Stepper'\nimport MobileStepper from '@material-ui/core/MobileStepper'\nimport Step from '@material-ui/core/Step'\nimport StepLabel from '@material-ui/core/StepLabel'\nimport Button from '@material-ui/core/Button'\nimport { styles } from './styles'\nimport Paper from '@material-ui/core/Paper'\nimport Box from '@material-ui/core/Box'\nimport Chip from '@material-ui/core/Chip'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\n\nconst getDirtyValidationErrors = (validations = {}) => {\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\n\t\tconst err = validations[key]\n\t\tif (err.dirty) {\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\n\t\t}\n\t\treturn dirtyErrs\n\t}, [])\n\n\treturn errors\n}\n\nconst useStyles = makeStyles(styles)\n\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\n\tif (window.innerWidth <= 768) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\n\t\t\t\t</StepLabel>\n\t\t\t\t<MobileStepper\n\t\t\t\t\tactiveStep={currentPage}\n\t\t\t\t\tsteps={pages.length}\n\t\t\t\t\tposition={'static'}\n\t\t\t\t\tvariant='progress'\n\t\t\t\t\tclassName={classes.mobileStepper}\n\t\t\t\t></MobileStepper>\n\t\t\t</div>\n\t\t)\n\t}\n\treturn (\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\n\t\t\t{pages.map((page, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Step key={page.title}>\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\n\t\t\t\t\t</Step>\n\t\t\t\t)\n\t\t\t})}\n\t\t</StepperMUI>\n\t)\n}\n\nconst MaterialStepper = props => {\n\tconst {\n\t\tinitialPage = 0,\n\t\tpages = [],\n\t\t// ...props\n\t} = props\n\tconst classes = useStyles()\n\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\n\tconst canReverse = pages.length > currentPage && currentPage > 0\n\n\tconst page = pages[currentPage] || {}\n\tconst pageProps = page.props || {}\n\tconst { validateId } = pageProps\n\tconst Comp = page.component || null\n\tconst pageValidation = page.pageValidation || null\n\n\tconst validations = useSelector(state =>\n\t\tselectValidationsById(state, validateId)\n\t)\n\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\n\tconst isValidPage = useCallback(() => {\n\t\treturn !Object.keys(validations || {}).length\n\t}, [validations])\n\n\t// const canAdvance = isValidPage() && !page.completeBtn\n\n\tconst goToPage = useCallback(\n\t\tasync nextStep => {\n\t\t\tconst canAdvance = nextStep > currentPage\n\t\t\tconst canGoBack = nextStep < currentPage\n\n\t\t\tif (canAdvance || canGoBack) {\n\t\t\t\tsetCurrentPage(nextStep)\n\t\t\t}\n\t\t},\n\t\t[currentPage]\n\t)\n\n\tconst goToPreviousPage = useCallback(async () => {\n\t\tif (canReverse) {\n\t\t\tgoToPage(currentPage - 1)\n\t\t}\n\t}, [canReverse, currentPage, goToPage])\n\n\tconst goToNextPage = useCallback(async () => {\n\t\tif (pageValidation) {\n\t\t\tpageValidation({\n\t\t\t\tvalidateId,\n\t\t\t\tdirty: true,\n\t\t\t\tonValid: () => goToPage(currentPage + 1),\n\t\t\t})\n\t\t} else if (isValidPage()) {\n\t\t\tgoToPage(currentPage + 1)\n\t\t}\n\t}, [currentPage, goToPage, isValidPage, pageValidation, validateId])\n\n\tuseEffect(() => {\n\t\tif (pageValidation) {\n\t\t\tpageValidation({ validateId, dirty: false })\n\t\t}\n\t}, [currentPage, pageValidation, validateId])\n\n\tconst onKeyPressed = useCallback(\n\t\tasync ev => {\n\t\t\tif (ev.key === 'Enter') {\n\t\t\t\tev.preventDefault()\n\t\t\t\tgoToNextPage()\n\t\t\t}\n\t\t},\n\t\t[goToNextPage]\n\t)\n\n\treturn (\n\t\t<div className={classes.stepperWrapper} onKeyPress={onKeyPressed}>\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.stepperNav,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<StepperNav\n\t\t\t\t\t{...props}\n\t\t\t\t\tpages={pages}\n\t\t\t\t\tclasses={classes}\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\tgoToPage={goToPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<br />\n\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.pagePaper,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className={classes.pageContent}>\n\t\t\t\t\t{!!Comp && <Comp {...pageProps} />}\n\n\t\t\t\t\t{!!dirtyErrors && (\n\t\t\t\t\t\t<Box color='error.main'>\n\t\t\t\t\t\t\t{dirtyErrors.map(err => (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tkey={err.field}\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.errChip }}\n\t\t\t\t\t\t\t\t\ticon={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\n\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className={classes.controls}>\n\t\t\t\t\t<div className={classes.left}>\n\t\t\t\t\t\t{canReverse && !(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={classes.right}>\n\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\n\t\t\t\t\t\t{page.cancelBtn && !(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<page.cancelBtn />\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t{typeof page.cancelFunction === 'function' &&\n\t\t\t\t\t\t!(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<Button onClick={page.cancelFunction}>{t('CANCEL')}</Button>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{/* {ValidationBtn && <ValidationBtn {...page.props} />} */}\n\n\t\t\t\t\t\t{!page.completeBtn || !!pageValidation ? (\n\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={spinner || (!isValidPage() && !pageValidation)}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\tonClick={goToNextPage}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{spinner && (\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{page.completeBtn && !pageValidation && isValidPage() ? (\n\t\t\t\t\t\t\t<page.completeBtn />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Paper>\n\t\t</div>\n\t)\n}\n\nMaterialStepper.propTypes = {\n\tpages: PropTypes.array.isRequired,\n}\n\nexport default MaterialStepper\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst errColor = theme.palette.error.main\n\treturn {\n\t\troot: {\n\t\t\tcolor: 'purple',\n\t\t\t'&$active': {\n\t\t\t\tcolor: 'green',\n\t\t\t},\n\t\t},\n\t\tactive: {\n\t\t\tcolor: 'yellow',\n\t\t},\n\t\tstepperWrapper: {\n\t\t\t// display: 'flex',\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t},\n\t\tpagePaper: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 115,\n\t\t},\n\t\tpageContent: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 20,\n\t\t\tleft: 20,\n\t\t\tright: 20,\n\t\t\tbottom: 50,\n\t\t\tpadding: 20,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t\tdisplay: 'flex',\n\t\t\tflex: 1,\n\t\t\tjustifyContent: 'space-between',\n\t\t\tflexDirection: 'column',\n\t\t\tWebkitOverflowScrolling: 'touch',\n\t\t\t'@media(max-width:500px)': {\n\t\t\t\tpaddingLeft: 0,\n\t\t\t\tpaddingRight: 0,\n\t\t\t},\n\t\t},\n\t\tcontrols: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 5,\n\t\t\tleft: 20,\n\t\t\tright: 20,\n\t\t},\n\t\tright: {\n\t\t\ttextAlign: 'right',\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '86%',\n\t\t\t},\n\t\t},\n\t\tleft: {\n\t\t\tdisplay: 'inline-block',\n\t\t\ttextAlign: 'left',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '14%',\n\t\t\t},\n\t\t},\n\t\tmobileStepper: {\n\t\t\twidth: '100%',\n\t\t\t'& div': {\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '10px',\n\t\t\t},\n\t\t},\n\t\tmobileStepLabel: {\n\t\t\t'& span': {\n\t\t\t\tfontSize: '24px',\n\t\t\t\tmargin: '14px auto',\n\t\t\t},\n\t\t\ttextAlign: 'center',\n\t\t\twidth: 'auto',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmargin: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t\terrChip: {\n\t\t\tcolor: errColor,\n\t\t\tborderColor: errColor,\n\t\t\t'& svg': {\n\t\t\t\tcolor: errColor,\n\t\t\t},\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n// import { connect } from 'react-redux'\n// import { bindActionCreators } from 'redux'\n// import actions from 'actions'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport Translate from 'components/translate/Translate'\n\nclass FormSteps extends Component {\n\tshouldComponentUpdate(nextProps) {\n\t\treturn JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t}\n\n\trender() {\n\t\tconst pages = []\n\t\tconst {\n\t\t\tt,\n\t\t\tSaveBtn,\n\t\t\tCancelBtn,\n\t\t\tonSave,\n\t\t\tstepsId,\n\t\t\tstepsPages,\n\t\t\tstepsPreviewPage,\n\t\t\tvalidateIdBase,\n\t\t\t...rest\n\t\t} = this.props\n\t\tconst cancelButton = () => (\n\t\t\t<CancelBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t)\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\n\n\t\tstepsPages.forEach((page, index) => {\n\t\t\tpages.push({\n\t\t\t\ttitle: t(page.title),\n\t\t\t\tcancelBtn: cancelButton,\n\t\t\t\tcomponent: ValidItemHoc(page.page || page),\n\t\t\t\tprops: { ...this.props, stepsId, validateId: validateId + '-' + index },\n\t\t\t})\n\t\t})\n\n\t\tpages.push({\n\t\t\ttitle: t(stepsPreviewPage.title || 'PREVIEW'),\n\t\t\tcompleteBtn: () => (\n\t\t\t\t<SaveBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t\t),\n\t\t\tcancelBtn: cancelButton,\n\t\t\tcomponent: ValidItemHoc(stepsPreviewPage.page || stepsPreviewPage),\n\t\t\tprops: {\n\t\t\t\t...this.props,\n\t\t\t\tvalidateId: validateId + '-' + stepsPages.length,\n\t\t\t},\n\t\t})\n\n\t\treturn (\n\t\t\t// <div style={{ textAlign: 'left' }}>\n\t\t\t<MaterialStepper pages={pages} />\n\t\t\t// </div>\n\t\t)\n\t}\n}\n\nFormSteps.propTypes = {\n\ttitle: PropTypes.string,\n\titemPages: PropTypes.arrayOf(PropTypes.func),\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsPages: PropTypes.arrayOf(PropTypes.object),\n}\n\nexport default Translate(FormSteps)\n","import grey from '@material-ui/core/colors/grey'\n\nexport const styles = theme => {\n\tconst spacing = theme.spacing(3)\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\n\treturn {\n\t\tdialog: {\n\t\t\tminHeight: `${fullHeight}px`,\n\t\t\tminWidth: 1024,\n\t\t\tmaxWidth: 1080,\n\t\t\tbackgroundColor: grey[200], // TODO: color,\n\t\t\t// maxHeight: `${fullHeight}`,\n\t\t\t'@media(max-width:1080px)': {\n\t\t\t\tmaxWidth: '100%',\n\t\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t\t},\n\t\t\t'@media(max-height:823px)': {\n\t\t\t\tminHeight: `calc(${fullHeight} - ${theme.spacing(2)}px)`,\n\t\t\t},\n\t\t},\n\t\tdialogTitle: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t\twordWrap: 'break-word',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t\toverflowY: 'auto',\n\t\t},\n\t\tcontentBox: {\n\t\t\t// position: 'absolute',\n\t\t\t// top: 0,\n\t\t\t// left: 0,\n\t\t\t// bottom: 0,\n\t\t\t// right: 0,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: 1,\n\t\t},\n\t\tpropRow: {\n\t\t\tmargin: '10px 0',\n\t\t\twidth: '100%',\n\t\t},\n\t\tcontentBody: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tcontentTopLoadingCircular: {\n\t\t\tflexShrink: 0,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tcontentTopLoading: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t\t'& > div': {\n\t\t\t\tpadding: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttextBtn: {\n\t\t\tcursor: 'pointer',\n\t\t},\n\t\tbtnIconLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tleftCol: {\n\t\t\ttextTransform: 'uppercase',\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\n\t\t\ttextAlign: 'right',\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\ttextAlign: 'left',\n\t\t\t},\n\t\t},\n\t\trightCol: {\n\t\t\ttextAlign: 'left',\n\t\t},\n\t\tprogressCircleCenter: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 30px)',\n\t\t\ttop: 'calc(50% - 30px)',\n\t\t},\n\t\tfloating: {\n\t\t\tposition: 'fixed',\n\t\t\ttop: 86,\n\t\t\tright: 40,\n\t\t\tzIndex: theme.zIndex.appBar,\n\t\t},\n\t\tbreakLong: {\n\t\t\twordBreak: 'break-word',\n\t\t\toverflowWrap: 'break-word',\n\t\t\thyphens: 'auto',\n\t\t},\n\t\tdemoImg: {\n\t\t\ttop: 'auto',\n\t\t\tleft: 'auto',\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\twidth: '100px',\n\t\t\theight: 'auto',\n\t\t\tposition: 'absolute',\n\t\t},\n\t\tdemoBody: {\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontentStickyTop: {\n\t\t\tmarginBottom: '2rem',\n\t\t},\n\t\tfullContentMessage: {\n\t\t\tdisplay: 'flex',\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t},\n\t}\n}\n","import React, { Fragment, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport classnames from 'classnames'\nimport Slide from '@material-ui/core/Slide'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Typography from '@material-ui/core/Typography'\nimport { t } from 'selectors'\n\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={classnames(classes.textBtn, className)}\n\t\t\tstyle={style}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{' '}\n\t\t\t{label}{' '}\n\t\t</span>\n\t)\n}\n\nconst TextBtn = withStyles(styles)(textBtn)\n\nconst Transition = props => {\n\treturn <Slide direction='up' {...props} />\n}\n\nconst useStyles = makeStyles(styles)\n\nexport default function ItemHoc(Decorated) {\n\tfunction WithDialog(props) {\n\t\tconst {\n\t\t\ticonButton,\n\t\t\ttextButton,\n\t\t\tfabButton,\n\t\t\tvariant,\n\t\t\tfabVariant,\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tbtnLabelArgs,\n\t\t\tbtnLabel,\n\t\t\tdisabled,\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\ttitle,\n\t\t\tdialogActions,\n\t\t\tonClick,\n\t\t\tfullWidth,\n\t\t\t...rest\n\t\t} = props\n\n\t\tconst btnProps = {\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tvariant,\n\t\t\tfullWidth,\n\t\t}\n\n\t\tconst classes = useStyles()\n\t\tconst [open, setOpen] = useState(false)\n\n\t\tconst handleToggle = async () => {\n\t\t\tconst { onBeforeOpen } = props\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\n\t\t\t\tawait onBeforeOpen()\n\t\t\t}\n\n\t\t\tsetOpen(!open)\n\t\t}\n\n\t\tconst closeDialog = () => {\n\t\t\tsetOpen(false)\n\t\t}\n\n\t\tlet ButtonComponent = Button\n\n\t\tif (iconButton) {\n\t\t\tButtonComponent = IconButton\n\t\t} else if (textButton) {\n\t\t\tButtonComponent = TextBtn\n\t\t} else if (fabButton) {\n\t\t\tButtonComponent = Fab\n\t\t}\n\n\t\tconst btnLabelTranslated = t(btnLabel, { args: btnLabelArgs || [''] })\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<ButtonComponent\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\taria-label={btnLabelTranslated}\n\t\t\t\t\tlabel={btnLabelTranslated}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\thandleToggle()\n\t\t\t\t\t\tif (onClick) onClick()\n\t\t\t\t\t}}\n\t\t\t\t\t{...btnProps}\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{icon}\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\n\t\t\t\t</ButtonComponent>\n\t\t\t\t<Dialog\n\t\t\t\t\t// disableBackdropClick\n\t\t\t\t\t// disableEscapeKeyDown\n\t\t\t\t\t// maxWidth=\"xs\"\n\t\t\t\t\t// fullScreen\n\t\t\t\t\topen={open}\n\t\t\t\t\tonClose={handleToggle}\n\t\t\t\t\tTransitionComponent={Transition}\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t\t\t// onEscKeyDown={handleToggle}\n\t\t\t\t\t// onOverlayClick={handleToggle}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle disableTypography>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant='subtitle1'\n\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(title)}\n\t\t\t\t\t\t\t<IconButton onClick={handleToggle}>\n\t\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\n\t\t\t\t\t\t<Decorated {...rest} closeDialog={closeDialog} />\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\n\t\t\t\t</Dialog>\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\tWithDialog.propTypes = {\n\t\tbtnLabel: PropTypes.string.isRequired,\n\t\ttitle: PropTypes.string.isRequired,\n\t\tfloating: PropTypes.bool,\n\t\tonBeforeOpen: PropTypes.func,\n\t}\n\n\treturn WithDialog\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdUnit } from 'adex-models'\n\nexport default function NewAdUnitHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'AdUnit',\n\t\t\t\tAdUnit\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = () => {\n\t\t\tconst { actions, newItem } = this.props\n\t\t\tactions.addUnit(newItem)\n\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('AdUnit')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('AdUnit')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tnewItem: new AdUnit(memory.newItem['AdUnit']),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport Select from '@material-ui/core/Select'\nimport { InputLoading } from 'components/common/spinners/'\nimport classnames from 'classnames'\nimport { styles } from './styles'\nimport { t } from 'selectors'\n\nclass Dropdown extends React.Component {\n\thandleChange = event => {\n\t\tthis.props.onChange(event.target.value)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\tlabel = '',\n\t\t\tvalue,\n\t\t\tsource = [],\n\t\t\thtmlId = 'some-id',\n\t\t\tname = '',\n\t\t\tdisabled = false,\n\t\t\terror = false,\n\t\t\thelperText,\n\t\t\t// margin = '',\n\t\t\tfullWidth = false,\n\t\t\tclassName,\n\t\t\trequired,\n\t\t\tloading,\n\t\t\tnoSrcLabel,\n\t\t} = this.props\n\n\t\t// TODO: add native renderer for mobile devices when supported\n\t\treturn (\n\t\t\t<FormControl\n\t\t\t\tclassName={classnames(className, classes.formControl)}\n\t\t\t\tdisabled={disabled}\n\t\t\t\terror={error}\n\t\t\t\tfullWidth={fullWidth}\n\t\t\t>\n\t\t\t\t<InputLabel htmlFor={htmlId} required={required}>\n\t\t\t\t\t{label}\n\t\t\t\t</InputLabel>\n\t\t\t\t{!!source.length && !loading ? (\n\t\t\t\t\t<Select\n\t\t\t\t\t\tvalue={value.id || value}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tinput={<Input name={name} id={htmlId} />}\n\t\t\t\t\t>\n\t\t\t\t\t\t{[...source].map(src => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\n\t\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{src.label}\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Select>\n\t\t\t\t) : !loading ? (\n\t\t\t\t\t<Input disabled value={noSrcLabel} />\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Input disabled value={t('LOADING_DATA')} />\n\t\t\t\t\t\t<InputLoading />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\n\t\t\t</FormControl>\n\t\t)\n\t}\n}\n\nDropdown.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\tonChange: PropTypes.func.isRequired,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string,\n\t\tPropTypes.bool,\n\t]),\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\n\tdisabled: PropTypes.bool,\n\terror: PropTypes.bool,\n\thtmlId: PropTypes.string.isRequired,\n\tname: PropTypes.string,\n\tdisplayEmpty: PropTypes.bool,\n\thelperText: PropTypes.string,\n}\n\nexport default withStyles(styles)(Dropdown)\n","export const styles = theme => ({\n\tformControl: {\n\t\t// margin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\tselectEmpty: {\n\t\tmarginTop: theme.spacing(1),\n\t},\n})\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport { constants, schemas, Joi } from 'adex-models'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\n\nconst { adUnitPost } = schemas\n\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nclass AdUnitBasic extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst { newItem } = props\n\t\tthis.validateTitle(newItem.title, false)\n\t\tthis.validateDescription(newItem.description, false)\n\t\tthis.validateTargetUrl(newItem.targetUrl, false)\n\t\tthis.validateAndUpdateType(false, newItem.type)\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (\n\t\t\tprevProps.newItem.title !== this.props.newItem.title ||\n\t\t\tprevProps.newItem.type !== this.props.newItem.type ||\n\t\t\tprevProps.newItem.temp.addUtmLink !== this.props.newItem.temp.addUtmLink\n\t\t) {\n\t\t\tthis.addUtmParameters()\n\t\t}\n\t}\n\n\tvalidateTitle(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adUnitPost.title)\n\n\t\tthis.props.validate('title', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateDescription(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adUnitPost.description)\n\n\t\tthis.props.validate('description', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateTargetUrl(targetUrl, dirty) {\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\n\t\tthis.props.validate('targetUrl', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t\tif (!result.error) this.addUtmParameters(targetUrl)\n\t}\n\n\tvalidateAndUpdateType = (dirty, value) => {\n\t\tconst result = Joi.validate(value, adUnitPost.type)\n\t\tthis.props.handleChange('type', value)\n\t\tthis.props.validate('type', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\taddUtmParameters() {\n\t\tconst { handleChange, newItem } = this.props\n\t\tconst { targetUrl, title, type, temp } = newItem\n\t\tconst { addUtmLink } = temp\n\t\tif (!!targetUrl) {\n\t\t\tconst newTargetUrl = addUrlUtmTracking({\n\t\t\t\ttargetUrl,\n\t\t\t\tcampaign: title,\n\t\t\t\tcontent: type,\n\t\t\t\tremoveFromUrl: !addUtmLink,\n\t\t\t})\n\t\t\thandleChange('targetUrl', newTargetUrl)\n\t\t}\n\t}\n\n\thandleChangeAddUtmLink(ev) {\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.addUtmLink = ev.target.checked\n\t\tthis.props.handleChange('temp', newTemp)\n\t}\n\n\trender() {\n\t\tconst { t, newItem, invalidFields, handleChange } = this.props\n\t\tconst { targetUrl, type, title, description, temp } = newItem\n\t\tconst { addUtmLink } = temp\n\t\tconst errTitle = invalidFields['title']\n\t\tconst errDescription = invalidFields['description']\n\t\tconst errTargetUrl = invalidFields['targetUrl']\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\t\tthis.validateDescription(description, true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTargetUrl(targetUrl, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTargetUrl(targetUrl, false)}\n\t\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty ? errTargetUrl.errMsg : ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tchecked={addUtmLink}\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleChangeAddUtmLink(ev)}\n\t\t\t\t\t\t\t\t\tvalue='checkedB'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={t('ADD_UTM_LINK')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\n\t\t\t\t\t\t\tsource={AdTypes}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitBasic.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdUnitBasic = NewAdUnitHoc(AdUnitBasic)\n\nexport default Translate(NewAdUnitBasic)\n","import url from 'url'\nimport { UTM_PARAMS } from 'constants/misc'\n\nexport const addUrlUtmTracking = ({\n\ttargetUrl,\n\tcampaign,\n\tcontent,\n\tremoveFromUrl,\n}) => {\n\tif (!!targetUrl) {\n\t\tconst URL = url.parse(targetUrl, true)\n\t\tURL.search = null\n\n\t\tif (URL.protocol && URL.host) {\n\t\t\tconst newQuery = {}\n\t\t\tif (removeFromUrl) {\n\t\t\t\tfor (let [key, value] of Object.entries(URL.query)) {\n\t\t\t\t\tif (UTM_PARAMS[key] !== value) {\n\t\t\t\t\t\tnewQuery[key] = value\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tURL.query = newQuery\n\t\t\t} else {\n\t\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\n\n\t\t\t\tif (campaign) {\n\t\t\t\t\tquery['utm_campaign'] = campaign\n\t\t\t\t}\n\t\t\t\tif (content) {\n\t\t\t\t\tquery['utm_content'] = content\n\t\t\t\t}\n\t\t\t\tURL.query = query\n\t\t\t}\n\t\t\treturn url.format(URL)\n\t\t}\n\t}\n\n\treturn targetUrl\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport Grid from '@material-ui/core/Grid'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\n\nconst getWidAndHightFromType = type => {\n\ttype = type || 'legacy_300x100'\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n\nclass AdUnitMedia extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem, validate } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst { tempUrl } = temp\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tif (tempUrl) {\n\t\t\tconst isValidMediaSize = temp.width === width && temp.height === height\n\n\t\t\tvalidate('temp', {\n\t\t\t\tisValid: isValidMediaSize,\n\t\t\t\terr: {\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t},\n\t\t\t\tdirty: true,\n\t\t\t})\n\t\t} else {\n\t\t\tvalidate('temp', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\thandleImgChange = (prop, img) => {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst newTemp = { ...newItem.temp, ...img }\n\t\thandleChange(prop, newTemp)\n\t}\n\n\trender() {\n\t\tconst { newItem, t, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst errImg = this.props.invalidFields['temp']\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\n\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\tmime={temp.mime || ''}\n\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\n\t\t\t\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\n\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitMedia.propTypes = {\n\ttitle: PropTypes.string,\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewAdUnitMedia = NewAdUnitHoc(ValidImageHoc(AdUnitMedia))\n\nexport default Translate(NewAdUnitMedia)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport TextField from '@material-ui/core/TextField'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport { translate } from 'services/translations/translations'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\n\nexport const renderInput = inputProps => {\n\tconst { InputProps, classes, ref, ...other } = inputProps\n\n\treturn (\n\t\t<TextField\n\t\t\tInputProps={{\n\t\t\t\tinputRef: ref,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.inputRoot,\n\t\t\t\t},\n\t\t\t\t...InputProps,\n\t\t\t}}\n\t\t\t{...other}\n\t\t/>\n\t)\n}\n\nexport const renderSuggestion = ({\n\tsuggestion,\n\tindex,\n\tstyle,\n\titemProps,\n\thighlightedIndex,\n\tselectedItem,\n\tshowSelected,\n}) => {\n\tconst isHighlighted = highlightedIndex === index\n\t// TODO: make it better\n\t// Note wo work with obj and array\n\tconst isSelected =\n\t\t((selectedItem || {}).value || selectedItem || '').indexOf(\n\t\t\tsuggestion.value\n\t\t) > -1\n\n\tif (!showSelected && isSelected) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div style={style}>\n\t\t\t<ListItem\n\t\t\t\tbutton\n\t\t\t\t{...itemProps}\n\t\t\t\tkey={suggestion.value || suggestion.label}\n\t\t\t\tselected={isHighlighted}\n\t\t\t\tcomponent='div'\n\t\t\t\tstyle={{\n\t\t\t\t\tfontWeight: isSelected ? 500 : 400,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ListItemText primary={suggestion.label} />\n\t\t\t</ListItem>\n\t\t</div>\n\t)\n}\n\nconst newSuggestion = inputValue => {\n\treturn {\n\t\tlabel: `${translate(\n\t\t\t'CREATE_TAG_LABEL'\n\t\t)} \"${inputValue.toLowerCase().trim()}\"`,\n\t\tvalue: inputValue.toLowerCase().trim(),\n\t}\n}\n\nrenderSuggestion.propTypes = {\n\thighlightedIndex: PropTypes.number,\n\tindex: PropTypes.number,\n\titemProps: PropTypes.object,\n\tselectedItem: PropTypes.string,\n\tsuggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\n}\n\nexport const getSuggestions = (\n\tinputValue = '',\n\tsource,\n\tallowCreate,\n\tvalidateCreation\n) => {\n\tif (!inputValue) {\n\t\treturn source\n\t} else {\n\t\tinputValue = inputValue.toLowerCase().trim()\n\n\t\tsource = source.filter(suggestion => {\n\t\t\treturn (\n\t\t\t\t!inputValue ||\n\t\t\t\tsuggestion.label\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.trim()\n\t\t\t\t\t.indexOf(inputValue) !== -1\n\t\t\t)\n\t\t})\n\n\t\t// Making sure that an option to create a new item will exist when needed\n\t\tconst values = source.map(item => {\n\t\t\treturn item.value\n\t\t})\n\n\t\tif (\n\t\t\t!values.includes(inputValue) &&\n\t\t\tallowCreate &&\n\t\t\t(!validateCreation || validateCreation(inputValue))\n\t\t) {\n\t\t\tsource.push(newSuggestion(inputValue))\n\t\t}\n\n\t\treturn source\n\t}\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport keycode from 'keycode'\nimport Downshift from 'downshift'\nimport Paper from '@material-ui/core/Paper'\nimport Chip from '@material-ui/core/Chip'\nimport { renderInput, getSuggestions, renderSuggestion } from './common'\n\nclass DownshiftMultiple extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tinputValue: '',\n\t\t\tselectedItem: props.value || [],\n\t\t}\n\t}\n\n\thandleKeyDown = event => {\n\t\tconst { inputValue, selectedItem } = this.state\n\t\tif (\n\t\t\tselectedItem.length &&\n\t\t\t!inputValue.length &&\n\t\t\tkeycode(event) === 'backspace'\n\t\t) {\n\t\t\tconst newItemValue = selectedItem.slice(0, selectedItem.length - 1)\n\t\t\tthis.setState({\n\t\t\t\tselectedItem: newItemValue,\n\t\t\t})\n\n\t\t\tthis.props.onChange(newItemValue)\n\t\t}\n\t}\n\n\thandleInputChange = event => {\n\t\tconst value = event.target.value.toLowerCase()\n\t\tthis.setState({ inputValue: value })\n\t}\n\n\thandleChange = item => {\n\t\tlet { selectedItem } = this.state\n\n\t\tif (selectedItem.indexOf(item.value) === -1) {\n\t\t\tselectedItem = [...selectedItem, item.value]\n\t\t}\n\n\t\tthis.setState({\n\t\t\tinputValue: '',\n\t\t\tselectedItem,\n\t\t})\n\n\t\tthis.props.onChange(selectedItem)\n\t}\n\n\thandleDelete = item => () => {\n\t\tconst selectedItem = [...this.state.selectedItem]\n\t\tselectedItem.splice(selectedItem.indexOf(item), 1)\n\n\t\tthis.setState({ selectedItem })\n\t\tthis.props.onChange(selectedItem)\n\t}\n\n\t/**\n\t * source {'propValue': 'propsLabel'} - skip one mapping to get the label for Chip\n\t */\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\tsource,\n\t\t\tlabel,\n\t\t\tid,\n\t\t\tplaceholder,\n\t\t\thelperText,\n\t\t\topenOnClick,\n\t\t\tallowCreate,\n\t\t\tvalidateCreation,\n\t\t} = this.props\n\t\tconst { inputValue, selectedItem } = this.state\n\t\tconst allValues = Object.keys(source).map(key => {\n\t\t\treturn { value: key, label: source[key] }\n\t\t})\n\n\t\treturn (\n\t\t\t<Downshift\n\t\t\t\tinputValue={inputValue}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\tselectedItem={selectedItem}\n\t\t\t\t// defaultIsOpen={true}\n\t\t\t\titemToString={item => item.label}\n\t\t\t>\n\t\t\t\t{({\n\t\t\t\t\tgetInputProps,\n\t\t\t\t\tgetItemProps,\n\t\t\t\t\tisOpen,\n\t\t\t\t\tinputValue: inputValue2,\n\t\t\t\t\tselectedItem: selectedItem2,\n\t\t\t\t\thighlightedIndex,\n\t\t\t\t\ttoggleMenu,\n\t\t\t\t}) => (\n\t\t\t\t\t<div className={classes.container}>\n\t\t\t\t\t\t{renderInput({\n\t\t\t\t\t\t\tfullWidth: true,\n\t\t\t\t\t\t\tclasses,\n\t\t\t\t\t\t\thelperText,\n\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\tInputProps: getInputProps({\n\t\t\t\t\t\t\t\tstartAdornment: selectedItem.map(item => (\n\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\tkey={item}\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\t\tlabel={source[item]}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\tonDelete={this.handleDelete(item)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)),\n\t\t\t\t\t\t\t\tonChange: this.handleInputChange,\n\t\t\t\t\t\t\t\tonKeyDown: this.handleKeyDown,\n\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tonClick: () => openOnClick && toggleMenu(),\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t{isOpen ? (\n\t\t\t\t\t\t\t<Paper className={classes.paper} square>\n\t\t\t\t\t\t\t\t//TODO: use FixedSizeList!\n\t\t\t\t\t\t\t\t{getSuggestions(\n\t\t\t\t\t\t\t\t\tinputValue2,\n\t\t\t\t\t\t\t\t\tallValues,\n\t\t\t\t\t\t\t\t\tallowCreate,\n\t\t\t\t\t\t\t\t\tvalidateCreation\n\t\t\t\t\t\t\t\t).map((suggestion, index) =>\n\t\t\t\t\t\t\t\t\trenderSuggestion({\n\t\t\t\t\t\t\t\t\t\tsuggestion,\n\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\titemProps: getItemProps({ item: suggestion }),\n\t\t\t\t\t\t\t\t\t\thighlightedIndex,\n\t\t\t\t\t\t\t\t\t\tselectedItem: selectedItem2,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Downshift>\n\t\t)\n\t}\n}\n\nDownshiftMultiple.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default DownshiftMultiple\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Downshift from 'downshift'\nimport Paper from '@material-ui/core/Paper'\nimport { renderInput, getSuggestions, renderSuggestion } from './common'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport { FixedSizeList } from 'react-window'\nimport AutoSizer from 'react-virtualized-auto-sizer'\nclass DownshiftSingle extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.props.onInit()\n\t\tthis.state = {\n\t\t\tinputValue: '',\n\t\t}\n\t}\n\n\thandleChange = item => {\n\t\tconst selectedItem = item ? item.value || item.label : item\n\t\tthis.props.onChange(selectedItem)\n\t}\n\n\thandleInputChange = inputValue => {\n\t\tif (this.state.inputValue !== inputValue) this.setState({ inputValue })\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\tsource,\n\t\t\terror,\n\t\t\tlabel,\n\t\t\tid,\n\t\t\tplaceholder,\n\t\t\thelperText,\n\t\t\terrorText,\n\t\t\tshowSelected,\n\t\t\tvalue,\n\t\t\topenOnClick,\n\t\t\tallowCreate,\n\t\t\tvalidateCreation,\n\t\t} = this.props\n\t\tconst allValues = source //Object.keys(source).map(key => { return { value: key, label: source[key] } })\n\t\tconst suggestions = getSuggestions(\n\t\t\tthis.state.inputValue,\n\t\t\tallValues,\n\t\t\tallowCreate,\n\t\t\tvalidateCreation\n\t\t)\n\t\treturn (\n\t\t\t<Downshift\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\titemToString={item => (item || {}).label || item || ''}\n\t\t\t\tselectedItem={value}\n\t\t\t>\n\t\t\t\t{({\n\t\t\t\t\tgetInputProps,\n\t\t\t\t\tgetItemProps,\n\t\t\t\t\tisOpen,\n\t\t\t\t\tinputValue,\n\t\t\t\t\tselectedItem,\n\t\t\t\t\thighlightedIndex,\n\t\t\t\t\tclearSelection,\n\t\t\t\t\ttoggleMenu,\n\t\t\t\t}) => {\n\t\t\t\t\tthis.handleInputChange(inputValue)\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className={classes.container}>\n\t\t\t\t\t\t\t{renderInput({\n\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\tvalue: inputValue,\n\t\t\t\t\t\t\t\tfullWidth: true,\n\t\t\t\t\t\t\t\tclasses,\n\t\t\t\t\t\t\t\thelperText,\n\t\t\t\t\t\t\t\tInputProps: getInputProps({\n\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\tif (openOnClick) {\n\t\t\t\t\t\t\t\t\t\t\tclearSelection()\n\t\t\t\t\t\t\t\t\t\t\ttoggleMenu()\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\terror,\n\t\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t{isOpen && suggestions.length > 0 ? (\n\t\t\t\t\t\t\t\t<Paper className={classes.paper} square>\n\t\t\t\t\t\t\t\t\t<AutoSizer>\n\t\t\t\t\t\t\t\t\t\t{({ height, width }) => (\n\t\t\t\t\t\t\t\t\t\t\t<FixedSizeList\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.paper}\n\t\t\t\t\t\t\t\t\t\t\t\theight={height}\n\t\t\t\t\t\t\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\t\t\t\t\t\t\titemSize={46}\n\t\t\t\t\t\t\t\t\t\t\t\titemCount={suggestions.length}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{({ index, style }) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\trenderSuggestion({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuggestion: suggestions[index],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemProps: getItemProps({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem: suggestions[index],\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thighlightedIndex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedItem,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowSelected,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</FixedSizeList>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</AutoSizer>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t{error && (\n\t\t\t\t\t\t\t\t<FormHelperText error id='component-error-text'>\n\t\t\t\t\t\t\t\t\t{errorText}\n\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</Downshift>\n\t\t)\n\t}\n}\n\nDownshiftSingle.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default DownshiftSingle\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport DownshiftMultiple from './DownshiftMultiple'\nimport DownshiftSingle from './DownshiftSingle'\n\nfunction Autocomplete(props) {\n\tconst { classes, source, multiple, ...rest } = props\n\n\treturn (\n\t\t<div>\n\t\t\t{multiple ? (\n\t\t\t\t<DownshiftMultiple classes={classes} source={source} {...rest} />\n\t\t\t) : (\n\t\t\t\t<DownshiftSingle classes={classes} source={source} {...rest} />\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nAutocomplete.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default withStyles(styles)(Autocomplete)\n","export const styles = theme => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\theight: 250,\n\t},\n\tcontainer: {\n\t\tflexGrow: 1,\n\t\tposition: 'relative',\n\t},\n\tpaper: {\n\t\tposition: 'absolute',\n\t\tzIndex: 1,\n\t\tmarginTop: theme.spacing(1),\n\t\tleft: 0,\n\t\tright: 0,\n\t\toverflow: 'hidden',\n\t\theight: 150,\n\t\twidth: '100%',\n\t},\n\tchip: {\n\t\tmargin: `${theme.spacing(1) / 2}px ${theme.spacing(1) / 2}px`,\n\t},\n\tinputRoot: {\n\t\tflexWrap: 'wrap',\n\t},\n})\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport Slider from '@material-ui/core/Slider'\nimport IconButton from '@material-ui/core/IconButton'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport Autocomplete from 'components/common/autocomplete'\nimport Typography from '@material-ui/core/Typography'\nimport Dropdown from 'components/common/dropdown'\nimport { translate } from 'services/translations/translations'\nimport { withStyles } from '@material-ui/core/styles'\nimport { SOURCES } from 'constants/targeting'\n\nconst styles = {\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n}\nconst marks = [\n\t{\n\t\tvalue: 5,\n\t\tlabel: 'Low',\n\t},\n\t{\n\t\tvalue: 50,\n\t\tlabel: 'Medium',\n\t},\n\t{\n\t\tvalue: 95,\n\t\tlabel: 'High',\n\t},\n]\n\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\n\treturn {\n\t\tvalue: {\n\t\t\tkey: key, // FOR DROPDOWN\n\t\t\tsource: key,\n\t\t\tcollection: SOURCES[key].collection,\n\t\t\ttarget: { tag: '', score: 1 },\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t},\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\n\t}\n})\n\nclass AdUnitTargeting extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tconst { targets } = props.newItem.temp || {}\n\t\tthis.state = {\n\t\t\ttargets: [...(targets || [])],\n\t\t}\n\t}\n\n\tupdateNewItemCollections(targets) {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst collections = [...targets].reduce(\n\t\t\t(all, tg) => {\n\t\t\t\tconst newCollection = all[tg.collection] || []\n\n\t\t\t\t// NOTE: just skip empty tags\n\t\t\t\tif (!!tg.target.tag) {\n\t\t\t\t\tnewCollection.push(tg.target)\n\t\t\t\t}\n\t\t\t\tall[tg.collection] = newCollection\n\t\t\t\treturn all\n\t\t\t},\n\t\t\t{ targeting: [], tags: [] }\n\t\t)\n\n\t\tconst { temp } = newItem\n\t\tconst newTemp = { ...temp }\n\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.targets = [...targets]\n\t\tcollections.temp = newTemp\n\n\t\thandleChange(null, null, collections)\n\t}\n\n\thandleTargetChange = (index, prop, newValue) => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...newTargets[index].target }\n\t\tnewTarget[prop] = newValue\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tnewTarget = target => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...target }\n\t\tnewTarget.key = newTargets.length\n\t\tnewTarget.target = { ...target.target }\n\t\tnewTargets.push(newTarget)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tremoveTarget = index => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tnewTargets.splice(index, 1)\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t\tthis.validateAutocomplete({\n\t\t\tid: `target-${index}`,\n\t\t\tisValid: true,\n\t\t\tdirty: false,\n\t\t})\n\t}\n\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\n\t\tthis.props.validate(id, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\n\t\t\tdirty,\n\t\t})\n\t}\n\n\ttargetTag = ({\n\t\tsource,\n\t\tcollection,\n\t\tplaceholder,\n\t\tlabel,\n\t\tindex,\n\t\ttarget,\n\t\tt,\n\t\tclasses,\n\t\tinvalidFields,\n\t}) => {\n\t\tconst id = `target-${index}`\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tdirection='auto'\n\t\t\t\t\t\topenOnClick\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t\t\t\terrorText={\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={newValue => {\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: newValue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonInit={() =>\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: target.tag,\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// validate={validate}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tsource={source}\n\t\t\t\t\t\tvalue={target.tag}\n\t\t\t\t\t\tsuggestionMatch='anywhere'\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\n\t\t\t\t\t\tallowCreate={!source.length}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={11} md={5}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography id={`tbaget-score-${index}`}>\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\n\t\t\t\t\t\t\t\targs: [target.score],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\tdisabled={!target.tag}\n\t\t\t\t\t\t\tvalue={target.score}\n\t\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\n\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// newItem,\n\t\t\tclasses,\n\t\t\t...rest\n\t\t} = this.props\n\t\t// const { targeting, tags } = newItem\n\n\t\tconst { targets } = this.state\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t{[...targets].map(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t{ source, collection, label, placeholder, target = {} } = {},\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t<this.targetTag\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tsource={SOURCES[source].src}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tvariant='filled'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tonChange={target => {\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\n\t\t\t\t\t\t\tvalue={''}\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitTargeting.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdUnitTargeting = NewAdUnitHoc(withStyles(styles)(AdUnitTargeting))\n\nexport default Translate(NewAdUnitTargeting)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Divider from '@material-ui/core/Divider'\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\nimport WcIcon from '@material-ui/icons/Wc'\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\nimport CompareArrows from '@material-ui/icons/CompareArrows'\n\nconst targetIcon = {\n\tlocation: LocationOnIcon,\n\tgender: WcIcon,\n\tage: ChildCareIcon,\n}\n\nconst getTargetType = tag => {\n\tconst type = tag.split('_')[0] || 'tags'\n\treturn type\n}\n\nclass UnitTargets extends Component {\n\ttargetArrayValues = (target, type, t, index) => {\n\t\tconst TargetIcon = targetIcon[type] || CompareArrows\n\t\treturn (\n\t\t\t<span key={target.tag + target.score + index}>\n\t\t\t\t<ListItem>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<TargetIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText\n\t\t\t\t\t\tprimary={t(target.tag, { isTarget: true })}\n\t\t\t\t\t\tsecondary={target.score}\n\t\t\t\t\t/>\n\t\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\n\t\t\t\t</ListItem>\n\t\t\t\t<Divider />\n\t\t\t</span>\n\t\t)\n\t}\n\n\tTargetsList = ({ targets = [], subHeader, t, ...rest }) => (\n\t\t<List\n\t\t\tdense\n\t\t\tsubheader={subHeader ? <ListSubheader caption={t(subHeader)} /> : null}\n\t\t>\n\t\t\t{targets.map(target => {\n\t\t\t\tconst type = getTargetType(target.tag)\n\t\t\t\treturn this.targetArrayValues(target, type, t)\n\t\t\t})}\n\t\t</List>\n\t)\n\n\trender() {\n\t\treturn <this.TargetsList {...this.props} />\n\t}\n}\n\nUnitTargets.propTypes = {\n\ttargets: PropTypes.array.isRequired,\n\tsubHeader: PropTypes.string,\n\tt: PropTypes.func.isRequired,\n}\n\nexport default UnitTargets\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\nimport { CircularProgress } from '@material-ui/core'\nimport { styles } from './styles.js'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { t } from 'selectors'\n\n// TODO: fix responsive styles\nconst propRow = ({\n\tclasses,\n\tleft,\n\tright,\n\tclassName,\n\tclassNameLeft,\n\tclassNameRight,\n\tstyle = {},\n}) => (\n\t<Grid\n\t\titem\n\t\tcontainer\n\t\tspacing={2}\n\t\txs={12}\n\t\tclassName={classnames(className)}\n\t\tstyle={style}\n\t>\n\t\t<Grid\n\t\t\titem\n\t\t\txs={12}\n\t\t\tsm={4}\n\t\t\tlg={3}\n\t\t\tclassName={classnames(classes.leftCol, classes.uppercase, classNameLeft)}\n\t\t>\n\t\t\t{left}\n\t\t</Grid>\n\t\t<Grid\n\t\t\titem\n\t\t\txs={12}\n\t\t\tsm={8}\n\t\t\tlg={9}\n\t\t\tclassName={classnames(\n\t\t\t\tclasses.rightCol,\n\t\t\t\tclasses.breakLong,\n\t\t\t\tclassNameRight\n\t\t\t)}\n\t\t>\n\t\t\t{right}\n\t\t</Grid>\n\t</Grid>\n)\n\nconst contentBox = ({ classes, children, className }) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\tclassName={className}\n\t>\n\t\t{children}\n\t</Box>\n)\n\nconst contentBody = ({ classes, children, className }) => (\n\t<Box flexGrow={1} className={className}>\n\t\t{children}\n\t</Box>\n)\n\nconst contentStickyTop = ({ classes, children, className }) => (\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\n)\n\nconst topLoading = ({ classes, msg, subMsg, className }) => (\n\t<div className={classnames(classes.contentTopLoading)}>\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\n\t\t<div>\n\t\t\t<Typography component='div'> {msg} </Typography>\n\t\t\t{subMsg && (\n\t\t\t\t<Typography component='div'>\n\t\t\t\t\t<strong>{subMsg}</strong>\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t</div>\n\t</div>\n)\n\nconst fullContentSpinner = ({ classes }) => (\n\t<CircularProgress\n\t\tclassName={classnames(classes.progressCircleCenter)}\n\t\tsize={50}\n\t/>\n)\n\nconst fullContentMessage = ({\n\tchildren,\n\tmsgs = [],\n\tspinner,\n\tcolor = 'primary',\n}) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\talignItems='center'\n\t\tjustifyContent='center'\n\t\tbgcolor={`${color}.main`}\n\t\tcolor={`${color}.contrastText`}\n\t>\n\t\t{spinner && (\n\t\t\t<Box p={4}>\n\t\t\t\t<CircularProgress\n\t\t\t\t\tcolor={`${color}.contrastText`}\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\n\t\t\t\t\tsize={69}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t)}\n\t\t{children}\n\t\t{msgs\n\t\t\t.filter(x => !!x && x.message)\n\t\t\t.map((msg, index) => {\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\n\t\t\t\treturn (\n\t\t\t\t\t<Typography key={index} component='div'>\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\n\t\t\t\t\t</Typography>\n\t\t\t\t)\n\t\t\t})}\n\t</Box>\n)\n\nexport const PropRow = withStyles(styles)(propRow)\nexport const ContentBox = withStyles(styles)(contentBox)\nexport const ContentBody = withStyles(styles)(contentBody)\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\nexport const TopLoading = withStyles(styles)(topLoading)\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\timgPreview: {\n\t\t\tmaxHeight: 225,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t\timgPreviewWrapper: {\n\t\t\theight: 'max-content',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Img from 'components/common/img/Img'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\n\nclass AdUnitFormPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.save = props.save\n\t}\n\n\trender() {\n\t\tconst { classes, account, ...rest } = this.props\n\t\tconst { newItem, t } = rest\n\t\tconst { type, title, description, temp, targeting } = newItem\n\n\t\treturn (\n\t\t\t<ContentBox>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\n\t\t\t\t\t\tright={account.wallet.address}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\tright={description}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('MEDIA')}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\n\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\talt={title}\n\t\t\t\t\t\t\t\tmediaMime={temp.mime}\n\t\t\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{targeting && (\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\ttargets={targeting}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* </Grid> */}\n\t\t\t\t\t<br />\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n}\n\nAdUnitFormPreview.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\treturn {\n\t\taccount: persist.account,\n\t}\n}\n\nconst NewAdUnitFormPreview = NewAdUnitHoc(withStyles(styles)(AdUnitFormPreview))\nexport default connect(mapStateToProps)(Translate(NewAdUnitFormPreview))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { Campaign } from 'adex-models'\nimport { OPENING_CAMPAIGN } from 'constants/spinners'\n\nexport default function NewCampaignHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'Campaign',\n\t\t\t\tCampaign\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = async () => {\n\t\t\tconst { actions, newItem } = this.props\n\t\t\tconst { temp } = newItem\n\t\t\tconst newTemp = { ...temp }\n\t\t\tnewTemp.waitingAction = true\n\t\t\tthis.handleChange('temp', newTemp)\n\t\t\tawait actions.openCampaign({ campaign: newItem })\n\n\t\t\tnewTemp.waitingAction = false\n\t\t\tthis.handleChange('temp', newTemp)\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('Campaign')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('Campaign')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\n\t\tconst adUnits = persist.items['AdUnit'] || {}\n\t\tconst adUnitsArray = Object.values(adUnits) || []\n\t\treturn {\n\t\t\tnewItem: new Campaign(memory.newItem['Campaign']),\n\t\t\tadUnits,\n\t\t\tadUnitsArray,\n\t\t\tspinner: memory.spinners[OPENING_CAMPAIGN],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewCampaignHoc from './NewCampaignHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport { ContentBody } from 'components/common/dialog/content'\nimport EnhancedTable from 'components/dashboard/containers/Tables/EnhancedTable'\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\n\nclass CampaignUnits extends Component {\n\thandleSelect = selected => {\n\t\tconst { adUnits, handleChange } = this.props\n\t\tconst units = Object.values(selected).map(value => {\n\t\t\treturn adUnits[value]\n\t\t})\n\n\t\thandleChange('adUnits', units)\n\t}\n\n\trender() {\n\t\tconst { adUnitsArray, t } = this.props\n\t\tconst hasAdUnits = adUnitsArray && adUnitsArray.length\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tspacing={2}\n\t\t\t\t\tdirection={hasAdUnits ? null : 'column'}\n\t\t\t\t\talignItems={hasAdUnits ? null : 'center'}\n\t\t\t\t>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t\t{hasAdUnits ? (\n\t\t\t\t\t\t\t\t<EnhancedTable\n\t\t\t\t\t\t\t\t\titemType={'AdUnit'}\n\t\t\t\t\t\t\t\t\titems={adUnitsArray}\n\t\t\t\t\t\t\t\t\tvalidate={this.props.validate}\n\t\t\t\t\t\t\t\t\thandleSelect={this.handleSelect}\n\t\t\t\t\t\t\t\t\tnoActions\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\n\t\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\n\t\t\t\t\t\t\t\t\t<NewUnitDialog\n\t\t\t\t\t\t\t\t\t\tvariant='extended'\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContentBody>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nCampaignUnits.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n\tadUnits: PropTypes.object.isRequired,\n\tadUnitsArray: PropTypes.array.isRequired,\n}\n\nconst NewCampaignUnits = NewCampaignHoc(CampaignUnits)\n\nexport default Translate(NewCampaignUnits)\n","import React, { Component } from 'react'\nimport { DateTimePicker as MuiDateTimePicker } from 'material-ui-pickers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport CalendarIcon from '@material-ui/icons/DateRange'\nimport InputAdornment from '@material-ui/core/InputAdornment'\n\nconst CalendarIconAdor = ({\n\ticon = <CalendarIcon />,\n\ticonColor,\n\tonIconClick,\n}) => (\n\t<InputAdornment position='end'>\n\t\t<IconButton color={iconColor} onClick={onIconClick}>\n\t\t\t{icon}\n\t\t</IconButton>\n\t</InputAdornment>\n)\n\nexport class DateTimePicker extends Component {\n\trender() {\n\t\tconst { calendarIcon, icon, iconColor, onIconClick, ...rest } = this.props\n\t\treturn (\n\t\t\t<MuiDateTimePicker\n\t\t\t\tInputProps={{\n\t\t\t\t\tdisabled: rest.disabled,\n\t\t\t\t\tendAdornment: calendarIcon ? (\n\t\t\t\t\t\t<CalendarIconAdor\n\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\ticonColor={iconColor}\n\t\t\t\t\t\t\tonIconClick={onIconClick}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null,\n\t\t\t\t}}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default DateTimePicker\n\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\n\treturn (\n\t\t<DateTimePicker\n\t\t\tInputLabelProps={{\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t},\n\t\t\t\tFormLabelClasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tInputProps={{\n\t\t\t\tdisabled: rest.disabled,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastInput,\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\n\t\t\t\t},\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\n","export const styles = theme => {\n\treturn {\n\t\tdatepickerContrastInput: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\tdatepickerContrastLabel: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\t'&$datepickerContrastLabelFocused': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tdatepickerContrastLabelFocused: {},\n\t\tdatepickerContrastUnderline: {\n\t\t\t'&:after': {\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t\t'&:before': {\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport NewCampaignHoc from './NewCampaignHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\n// import Dropdown from 'components/common/dropdown'\nimport TextField from '@material-ui/core/TextField'\nimport DateTimePicker from 'components/common/DateTimePicker'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport { utils } from 'ethers'\nimport { openChannel } from 'services/smart-contracts/actions/core'\nimport { validations, Joi } from 'adex-models'\nimport MomentUtils from '@date-io/moment'\nimport { selectSpinnerById, selectMainToken } from 'selectors'\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\n\nconst moment = new MomentUtils()\nconst campaignTitleSchema = Joi.string()\n\t.min(3)\n\t.max(120)\n\t.allow('') // empty string not allowed by default\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_LEADER_FEE = '0'\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\nconst VALIDATOR_FOLLOWER_FEE = '0'\n\nconst AdvPlatformValidators = {\n\t[VALIDATOR_LEADER_ID]: {\n\t\tid: VALIDATOR_LEADER_ID,\n\t\turl: VALIDATOR_LEADER_URL,\n\t\tfee: VALIDATOR_LEADER_FEE,\n\t},\n}\n\nconst PubPlatformValidators = {\n\t[VALIDATOR_FOLLOWER_ID]: {\n\t\tid: VALIDATOR_FOLLOWER_ID,\n\t\turl: VALIDATOR_FOLLOWER_URL,\n\t\tfee: VALIDATOR_FOLLOWER_FEE,\n\t},\n}\n\nconst VALIDATOR_SOURCES = [AdvPlatformValidators, PubPlatformValidators]\n\n// const AdvValidatorsSrc = Object.keys(AdvPlatformValidators).map(key => {\n// \tconst val = AdvPlatformValidators[key]\n// \treturn {\n// \t\tvalue: key,\n// \t\tlabel: `${val.url} - ${val.id}`,\n// \t}\n// })\n\n// const PubValidatorsSrc = Object.keys(PubPlatformValidators).map(key => {\n// \tconst val = PubPlatformValidators[key]\n// \treturn {\n// \t\tvalue: key,\n// \t\tlabel: `${val.url} - ${val.id}`,\n// \t}\n// })\n\nconst tempValidators = [\n\t{\n\t\tid: VALIDATOR_LEADER_ID,\n\t\turl: VALIDATOR_LEADER_URL,\n\t\tfee: VALIDATOR_LEADER_FEE,\n\t},\n\t{\n\t\tid: VALIDATOR_FOLLOWER_ID,\n\t\turl: VALIDATOR_FOLLOWER_URL,\n\t\tfee: VALIDATOR_FOLLOWER_FEE,\n\t},\n]\n\nconst getTotalImpressions = ({ depositAmount, minPerImpression, t }) => {\n\tconst dep = parseFloat(depositAmount)\n\tconst min = parseFloat(minPerImpression)\n\tif (!dep) {\n\t\treturn t('DEPOSIT_NOT_SET')\n\t} else if (!min) {\n\t\treturn t('CPM_NOT_SET')\n\t} else {\n\t\tconst impressions = utils.commify(Math.floor((dep / min) * 1000))\n\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\n\t}\n}\n\nconst validateCampaignDates = ({\n\tcreated = Date.now(),\n\twithdrawPeriodStart,\n\tactiveFrom,\n}) => {\n\tlet error = null\n\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'withdrawPeriodStart' }\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\n\t} else if (activeFrom && activeFrom < created) {\n\t\terror = { message: 'ERR_START_BEFORE_NOW', prop: 'activeFrom' }\n\t} else if (activeFrom && !withdrawPeriodStart) {\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\n\t}\n\n\treturn { error }\n}\n\nconst validateAmounts = ({\n\tmaxDeposit = 0,\n\tdepositAmount,\n\tminPerImpression,\n}) => {\n\tconst maxDep = parseFloat(maxDeposit)\n\tconst dep = parseFloat(depositAmount)\n\tconst min = parseFloat(minPerImpression)\n\n\tlet error = null\n\tif (dep && dep > maxDep) {\n\t\terror = {\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\n\t\t\tprop: 'depositAmount',\n\t\t}\n\t}\n\tif (dep && dep < min) {\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\n\t}\n\tif (dep <= 0) {\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\n\t}\n\tif (min <= 0) {\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\n\t}\n\n\treturn { error }\n}\n\nclass CampaignFinance extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tmaxChannelFees: 1,\n\t\t\tloading: true,\n\t\t}\n\t}\n\n\tasync componentDidMount() {\n\t\tconst { newItem, actions, account } = this.props\n\t\tconst { updateSpinner } = actions\n\n\t\tupdateSpinner(GETTING_CAMPAIGNS_FEES, true)\n\t\tthis.validateAndUpdateValidator(false, 0, newItem.validators[0])\n\t\tthis.validateAndUpdateValidator(false, 1, newItem.validators[1])\n\t\tthis.validateAmount(\n\t\t\tnewItem.depositAmount,\n\t\t\t'depositAmount',\n\t\t\tfalse,\n\t\t\t'REQUIRED_FIELD'\n\t\t)\n\t\tthis.validateAmount(\n\t\t\tnewItem.minPerImpression,\n\t\t\t'minPerImpression',\n\t\t\tfalse,\n\t\t\t'REQUIRED_FIELD'\n\t\t)\n\t\tthis.validateTitle(newItem.title, false, 'TITLE_HELPER_TEXT')\n\t\tthis.handleDates('activeFrom', newItem.activeFrom, false)\n\t\tthis.handleDates('withdrawPeriodStart', newItem.withdrawPeriodStart, false)\n\n\t\tconst campaign = { ...newItem }\n\t\tcampaign.validators = tempValidators\n\t\tconst feesData = await openChannel({\n\t\t\tcampaign,\n\t\t\taccount,\n\t\t\tgetFeesOnly: true,\n\t\t\tgetMaxFees: true,\n\t\t})\n\n\t\tthis.setState({ maxChannelFees: feesData.fees, loading: false })\n\t\tupdateSpinner(GETTING_CAMPAIGNS_FEES, false)\n\t}\n\n\tvalidateAndUpdateValidator = (dirty, index, key = {}, update) => {\n\t\tconst { handleChange, newItem, validate } = this.props\n\t\tconst { validators } = newItem\n\t\tconst newValidators = [...validators]\n\t\tconst newValue = VALIDATOR_SOURCES[index][key.id || key]\n\n\t\tnewValidators[index] = newValue\n\n\t\tconst isValid =\n\t\t\t!!newValidators[0] &&\n\t\t\t!!newValidators[1] &&\n\t\t\t!!newValidators[0].id &&\n\t\t\t!!newValidators[0].url &&\n\t\t\t!!newValidators[1].id &&\n\t\t\t!!newValidators[1].url\n\n\t\t// TEMP - update like this to avoid changing the flow and other functions\n\t\t// <---\n\t\tif (!isValid) {\n\t\t\thandleChange('validators', tempValidators)\n\n\t\t\tvalidate('validators', {\n\t\t\t\tisValid: true,\n\t\t\t\terr: { msg: 'ERR_VALIDATORS' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\n\t\t\treturn\n\t\t}\n\n\t\t// END TEMP --->\n\n\t\tif (update) {\n\t\t\thandleChange('validators', newValidators)\n\t\t}\n\n\t\tvalidate('validators', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateAmount(value = '', prop, dirty, errMsg) {\n\t\tconst isValidNumber = validations.isNumberString(value)\n\t\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\n\n\t\tif (!isValid) {\n\t\t\tthis.props.validate(prop, {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t} else {\n\t\t\tconst { newItem, account } = this.props\n\n\t\t\tconst { availableIdentityBalanceMainToken = 0 } =\n\t\t\t\taccount.stats.formatted || {}\n\n\t\t\tconst depositAmount =\n\t\t\t\tprop === 'depositAmount' ? value : newItem.depositAmount\n\t\t\tconst minPerImpression =\n\t\t\t\tprop === 'minPerImpression' ? value : newItem.minPerImpression\n\t\t\tconst maxDeposit =\n\t\t\t\tparseFloat(availableIdentityBalanceMainToken) -\n\t\t\t\tthis.state.maxChannelFees\n\t\t\tconst result = validateAmounts({\n\t\t\t\tmaxDeposit,\n\t\t\t\tdepositAmount,\n\t\t\t\tminPerImpression,\n\t\t\t})\n\n\t\t\tthis.props.validate(prop, {\n\t\t\t\tisValid: !result.error,\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t}\n\t}\n\n\tvalidateTitle(name, dirty) {\n\t\tconst result = Joi.validate(name, campaignTitleSchema)\n\n\t\tthis.props.validate('title', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\thandleDates = (prop, value, dirty) => {\n\t\tconst { newItem, handleChange, validate } = this.props\n\t\tconst withdrawPeriodStart =\n\t\t\tprop === 'withdrawPeriodStart' ? value : newItem.withdrawPeriodStart\n\t\tconst activeFrom = prop === 'activeFrom' ? value : newItem.activeFrom\n\t\tconst result = validateCampaignDates({\n\t\t\twithdrawPeriodStart,\n\t\t\tactiveFrom,\n\t\t\tcreated: newItem.created,\n\t\t})\n\n\t\tvalidate('activeFrom', {\n\t\t\tisValid: !(result.error && result.error.prop === 'activeFrom'),\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\n\t\tvalidate('withdrawPeriodStart', {\n\t\t\tisValid: !(result.error && result.error.prop === 'withdrawPeriodStart'),\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\n\t\tif (value) {\n\t\t\thandleChange(prop, value)\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\thandleChange,\n\t\t\tnewItem,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\taccount,\n\t\t\tspinner,\n\t\t\tmainTokenSymbol,\n\t\t} = this.props\n\t\tconst {\n\t\t\ttitle,\n\t\t\tvalidators,\n\t\t\tdepositAmount,\n\t\t\tminPerImpression,\n\t\t\t// depositAsset,\n\t\t\tactiveFrom,\n\t\t\twithdrawPeriodStart,\n\t\t\tminTargetingScore,\n\t\t} = newItem\n\n\t\tconst { maxChannelFees, loading } = this.state\n\n\t\tconst { availableIdentityBalanceMainToken = 0 } =\n\t\t\taccount.stats.formatted || {}\n\n\t\tconst from = activeFrom || undefined\n\t\tconst to = withdrawPeriodStart || undefined\n\t\tconst now = moment.date().valueOf()\n\n\t\tconst errTitle = invalidFields['title']\n\t\tconst errDepAmnt = invalidFields['depositAmount']\n\t\tconst errMin = invalidFields['minPerImpression']\n\t\tconst errFrom = invalidFields['activeFrom']\n\t\tconst errTo = invalidFields['withdrawPeriodStart']\n\n\t\tconst impressions = !(errDepAmnt || errMin)\n\t\t\t? getTotalImpressions({ depositAmount, minPerImpression, t })\n\t\t\t: ''\n\n\t\tconst leader = validators[0] || {}\n\t\tconst follower = validators[1] || {}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{spinner || loading ? (\n\t\t\t\t\t<FullContentSpinner />\n\t\t\t\t) : (\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\tthis.validateTitle(ev.target.value, 'title', true)\n\t\t\t\t\t\t\t\t\thandleChange('title', ev.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{/* <Grid item xs={12}> */}\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t\t{/* <Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\tthis.validateAndUpdateValidator(true, 0, value, true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsource={AdvValidatorsSrc}\n\t\t\t\t\t\t\tvalue={(validators[0] || {}).id + ''}\n\t\t\t\t\t\t\tlabel={t('ADV_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\thtmlId='leader-validator-dd'\n\t\t\t\t\t\t\tname='leader-validator'\n\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t\t<FormControl fullWidth disabled>\n\t\t\t\t\t\t\t\t<InputLabel htmlFor='leader-validator'>\n\t\t\t\t\t\t\t\t\t{t('ADV_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t<Input id='leader-validator' value={leader.url || ''} />\n\t\t\t\t\t\t\t\t<FormHelperText>{leader.id}</FormHelperText>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{/* <Grid item xs={12}> */}\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t\t{/* <Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={value =>\n\t\t\t\t\t\t\t\tthis.validateAndUpdateValidator(true, 1, value, true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsource={PubValidatorsSrc}\n\t\t\t\t\t\t\tvalue={(validators[1] || {}).id + ''}\n\t\t\t\t\t\t\tlabel={t('PUB_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\thtmlId='follower-validator-dd'\n\t\t\t\t\t\t\tname='follower-validator'\n\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t\t<FormControl fullWidth disabled>\n\t\t\t\t\t\t\t\t<InputLabel htmlFor='follower-validator'>\n\t\t\t\t\t\t\t\t\t{t('PUB_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t<Input id='follower-validator' value={follower.url || ''} />\n\t\t\t\t\t\t\t\t<FormHelperText>{follower.id}</FormHelperText>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\n\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\tparseFloat(\n\t\t\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken - maxChannelFees\n\t\t\t\t\t\t\t\t\t\t).toFixed(2),\n\n\t\t\t\t\t\t\t\t\t\tmainTokenSymbol,\n\t\t\t\t\t\t\t\t\t\tmaxChannelFees,\n\t\t\t\t\t\t\t\t\t\tmainTokenSymbol,\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tname='depositAmount'\n\t\t\t\t\t\t\t\tvalue={depositAmount}\n\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'depositAmount', true)\n\t\t\t\t\t\t\t\t\thandleChange('depositAmount', ev.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\n\t\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty\n\t\t\t\t\t\t\t\t\t\t? errDepAmnt.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('DEPOSIT_AMOUNT_HELPER_TXT', {\n\t\t\t\t\t\t\t\t\t\t\t\targs: [maxChannelFees, mainTokenSymbol],\n\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\n\t\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\t\tvalue={minPerImpression}\n\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'minPerImpression', true)\n\t\t\t\t\t\t\t\t\thandleChange('minPerImpression', ev.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terrMin && !!errMin.dirty ? errMin.errMsg : t('CPM_HELPER_TXT')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\n\t\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\n\t\t\t\t\t\t\t\tminDate={now}\n\t\t\t\t\t\t\t\tmaxDate={to}\n\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\tthis.handleDates('activeFrom', val.valueOf(), true)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalue={from || null}\n\t\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\n\t\t\t\t\t\t\t\t\t\t? errFrom.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\n\t\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\n\t\t\t\t\t\t\t\tminDate={from || now}\n\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\tthis.handleDates('withdrawPeriodStart', val.valueOf(), true)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue={to || null}\n\t\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\n\t\t\t\t\t\t\t\t\t\t? errTo.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\thandleChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'minTargetingScore',\n\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nCampaignFinance.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\tconst spinner = selectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\treturn {\n\t\taccount: persist.account,\n\t\tspinner,\n\t\tmainTokenSymbol: selectMainToken(state).symbol,\n\t}\n}\n\nconst NewCampaignFinance = NewCampaignHoc(CampaignFinance)\n\nexport default connect(mapStateToProps)(Translate(NewCampaignFinance))\n","import React from 'react'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { TopLoading } from 'components/common/dialog/content'\n\nexport const WalletAction = ({ t, authType }) => {\n\tlet msg = ''\n\tlet subMsg\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.LEDGER.name:\n\t\t\tmsg = 'LEDGER_WAITING_ACTION'\n\t\t\tbreak\n\t\tdefault:\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\n\t\t\tbreak\n\t}\n\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport NewCampaignHoc from './NewCampaignHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport EnhancedTable from 'components/dashboard/containers/Tables/EnhancedTable'\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n} from 'components/common/dialog/content'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\nimport { formatDateTime } from 'helpers/formatters'\nimport {\n\tselectAccountIdentityAddr,\n\tselectAuthType,\n\tselectMainToken,\n} from 'selectors'\n\nclass CampaignFormPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.save = props.save\n\t}\n\n\tAdUnitsTable = ({ items }) => {\n\t\treturn (\n\t\t\t<Grid item sm={12}>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<EnhancedTable itemType={'AdUnit'} items={items} noActions listMode />\n\t\t\t\t</ContentBody>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst { identityAddr, authType, newItem, mainToken, t } = this.props\n\t\tconst {\n\t\t\ttitle,\n\t\t\t// targeting,\n\t\t\tadUnits,\n\t\t\tvalidators,\n\t\t\tdepositAmount,\n\t\t\tminPerImpression,\n\t\t\t// maxPerImpression,\n\t\t\t// depositAsset,\n\t\t\twithdrawPeriodStart,\n\t\t\tactiveFrom,\n\t\t\tminTargetingScore,\n\t\t\t// nonce\n\t\t} = newItem\n\n\t\tconst { symbol } = mainToken\n\n\t\treturn (\n\t\t\t<ContentBox>\n\t\t\t\t{newItem.temp.waitingAction ? (\n\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t<WalletAction t={t} authType={authType} />\n\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t) : null}\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\n\t\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\ttargets={targeting}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/> */}\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('adUnits', { isProp: true })}\n\t\t\t\t\t\tright={<this.AdUnitsTable items={adUnits} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('validators', { isProp: true })}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{validators.map(val => (\n\t\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\n\t\t\t\t\t\tright={`${depositAmount} ${symbol}`}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('CPM', { isProp: true })}\n\t\t\t\t\t\tright={`${minPerImpression} ${symbol}`}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('maxPerImpression', { isProp: true })}\n\t\t\t\t\t\tright={maxPerImpression}\n\t\t\t\t\t/> */}\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\tright={formatDateTime(activeFrom)}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\n\t\t\t\t\t/>\n\t\t\t\t\t{minTargetingScore && <PropRow right={t('CAMPAIGN_MIN_TARGETING')} />}\n\t\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('created', { isProp: true })}\n\t\t\t\t\t\tright={formatDateTime(created)}\n\t\t\t\t\t/> */}\n\n\t\t\t\t\t{/* </Grid> */}\n\t\t\t\t\t<br />\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n}\n\nCampaignFormPreview.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tidentityAddr: selectAccountIdentityAddr(state),\n\t\tauthType: selectAuthType(state),\n\t\tmainToken: selectMainToken(state),\n\t}\n}\n\nconst NewCampaignFormPreview = NewCampaignHoc(\n\twithStyles(styles)(CampaignFormPreview)\n)\nexport default connect(mapStateToProps)(Translate(NewCampaignFormPreview))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdSlot } from 'adex-models'\n\nexport default function NewAdUnitHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'AdSlot',\n\t\t\t\tAdSlot\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = () => {\n\t\t\tconst { actions, newItem } = this.props\n\n\t\t\tactions.addSlot(newItem)\n\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('AdSlot')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('AdSlot')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tnewItem: new AdSlot(memory.newItem['AdSlot']),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport { utils } from 'ethers'\nimport { validations, constants, schemas, Joi } from 'adex-models'\nimport { selectMainToken } from 'selectors'\n\nconst { adSlotPost } = schemas\n\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nclass AdSlotBasic extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem } = this.props\n\t\tthis.validateTitle(newItem.title, false)\n\t\tthis.validateDescription(newItem.description, false)\n\t\tthis.validateAndUpdateType(false, newItem.type)\n\t}\n\n\tvalidateTitle(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adSlotPost.title)\n\n\t\tthis.props.validate('title', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateDescription(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adSlotPost.description)\n\n\t\tthis.props.validate('description', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateAndUpdateType = (dirty, value) => {\n\t\tconst result = Joi.validate(value, adSlotPost.type)\n\n\t\tthis.props.handleChange('type', value)\n\t\tthis.props.validate('type', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateAmount(value = '', prop, dirty, errMsg) {\n\t\tconst isValidNumber = validations.isNumberString(value)\n\t\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\n\n\t\tthis.props.validate(prop, {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tupdateMinPerImpression(value = '') {\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.minPerImpression = value\n\n\t\tthis.props.handleChange('temp', newTemp)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\tnewItem,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t\t// nameHelperTxt,\n\t\t\t// descriptionHelperTxt\n\t\t} = this.props\n\t\tconst { type, title, description, temp } = newItem\n\t\tconst { minPerImpression } = temp\n\t\tconst errTitle = invalidFields['title']\n\t\tconst errDescription = invalidFields['description']\n\t\tconst errMin = invalidFields['minPerImpression']\n\t\tconst { symbol } = selectMainToken\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateDescription(description, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\n\t\t\t\t\t\t\tsource={AdTypes}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\n\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\tvalue={minPerImpression}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tthis.validateAmount(ev.target.value, 'minPerImpression', true)\n\t\t\t\t\t\t\t\tthis.updateMinPerImpression(ev.target.value)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\n\t\t\t\t\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotBasic.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdSlotBasic = NewAdSlotHoc(AdSlotBasic)\n\nexport default Translate(NewAdSlotBasic)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\nimport Collapse from '@material-ui/core/Collapse'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Switch from '@material-ui/core/Switch'\nimport { schemas, Joi } from 'adex-models'\n\nconst { adUnitPost } = schemas\n\nconst getWidAndHightFromType = type => {\n\ttype = type || 'legacy_300x250'\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n\nclass AdSlotMedia extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem } = this.props\n\t\tconst { temp, targetUrl } = newItem\n\t\tconst { useFallback } = temp\n\n\t\tif (useFallback) {\n\t\t\tthis.validateImage(useFallback)\n\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\n\t\t}\n\t}\n\n\tvalidateImage = useFallback => {\n\t\tconst { newItem, validate } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst { tempUrl } = temp\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tconst isValidMediaSize =\n\t\t\t!useFallback ||\n\t\t\t(tempUrl &&\n\t\t\t\t// TODO: validate ration not exact\n\t\t\t\ttemp.width === width &&\n\t\t\t\ttemp.height === height)\n\n\t\tvalidate('temp', {\n\t\t\tisValid: isValidMediaSize,\n\t\t\terr: {\n\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\targs: [width, height, 'px'],\n\t\t\t},\n\t\t\tdirty: true,\n\t\t})\n\t}\n\n\tvalidateFallbackUrl = (targetUrl, dirty, useFallback) => {\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\n\t\tthis.props.validate('targetUrl', {\n\t\t\tisValid: !useFallback || !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\thandleFallbackChange = useFallback => {\n\t\tconst { temp, targetUrl } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.useFallback = useFallback\n\n\t\tthis.props.handleChange('temp', newTemp)\n\t\tthis.validateFallbackUrl(targetUrl, null, useFallback)\n\t\tthis.validateImage(useFallback)\n\t}\n\n\thandleImgChange = (prop, img) => {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst newTemp = { ...newItem.temp, ...img }\n\t\thandleChange(prop, newTemp)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tnewItem,\n\t\t\tt,\n\t\t\tvalidateMedia,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t} = this.props\n\t\tconst { targetUrl, type, temp } = newItem\n\t\tconst useFallback = temp.useFallback || false\n\t\tconst errImg = this.props.invalidFields['temp']\n\t\tconst errFallbackUrl = invalidFields['targetUrl']\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\tchecked={useFallback}\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleFallbackChange(ev.target.checked)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormHelperText>{t('USE_FALLBACK_DATA_INFO')}</FormHelperText>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Collapse in={useFallback}>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\n\t\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, false, useFallback)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\n\t\t\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\n\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Collapse>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotMedia.propTypes = {\n\ttitle: PropTypes.string,\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewAdSlotMedia = NewAdSlotHoc(ValidImageHoc(AdSlotMedia))\n\nexport default Translate(NewAdSlotMedia)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport Slider from '@material-ui/core/Slider'\nimport IconButton from '@material-ui/core/IconButton'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport Autocomplete from 'components/common/autocomplete'\nimport Typography from '@material-ui/core/Typography'\nimport Dropdown from 'components/common/dropdown'\nimport { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nconst AcTags = autocompleteTagsSingleSelect()\n\nconst SOURCES = {\n\ttags: { src: AcTags, collection: 'tags' },\n\tcustom: { src: [], collection: 'tags' },\n}\n\nconst styles = {\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n}\nconst marks = [\n\t{\n\t\tvalue: 5,\n\t\tlabel: 'Low',\n\t},\n\t{\n\t\tvalue: 50,\n\t\tlabel: 'Medium',\n\t},\n\t{\n\t\tvalue: 95,\n\t\tlabel: 'High',\n\t},\n]\n\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\n\treturn {\n\t\tvalue: {\n\t\t\tkey: key, // FOR DROPDOWN\n\t\t\tsource: key,\n\t\t\tcollection: SOURCES[key].collection,\n\t\t\ttarget: { tag: '', score: 1 },\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t},\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\n\t}\n})\n\nclass AdSlotTargeting extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tconst { targets } = props.newItem.temp || {}\n\t\tthis.state = {\n\t\t\ttargets: targets || [],\n\t\t}\n\t}\n\n\tupdateNewItemCollections(targets) {\n\t\tconst collections = [...targets].reduce(\n\t\t\t(all, tg) => {\n\t\t\t\tconst newCollection = all[tg.collection] || []\n\t\t\t\t// NOTE: just skip empty tags\n\t\t\t\tif (!!tg.target.tag) {\n\t\t\t\t\tnewCollection.push(tg.target)\n\t\t\t\t}\n\t\t\t\tall[tg.collection] = newCollection\n\t\t\t\treturn all\n\t\t\t},\n\t\t\t{ targeting: [], tags: [] }\n\t\t)\n\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.targets = [...targets]\n\t\tcollections.temp = newTemp\n\n\t\tthis.props.handleChange(null, null, collections)\n\t}\n\n\thandleTargetChange = (index, prop, newValue) => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...newTargets[index].target }\n\t\tnewTarget[prop] = newValue\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tnewTarget = target => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...target }\n\t\tnewTarget.key = newTargets.length\n\t\tnewTarget.target = { ...target.target }\n\t\tnewTargets.push(newTarget)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tremoveTarget = index => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tnewTargets.splice(index, 1)\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t\tthis.validateAutocomplete({\n\t\t\tid: `target-${index}`,\n\t\t\tisValid: true,\n\t\t\tdirty: false,\n\t\t})\n\t}\n\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\n\t\tthis.props.validate(id, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\n\t\t\tdirty,\n\t\t})\n\t}\n\n\ttargetTag = ({\n\t\tsource,\n\t\tcollection,\n\t\tplaceholder,\n\t\tlabel,\n\t\tindex,\n\t\ttarget,\n\t\tt,\n\t\tclasses,\n\t\tinvalidFields,\n\t}) => {\n\t\tconst id = `target-${index}`\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tdirection='auto'\n\t\t\t\t\t\topenOnClick\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t\t\t\terrorText={\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={newValue => {\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: newValue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonInit={() =>\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: target.tag,\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// validate={validate}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tsource={source}\n\t\t\t\t\t\tvalue={target.tag}\n\t\t\t\t\t\tsuggestionMatch='anywhere'\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\n\t\t\t\t\t\tallowCreate={!source.length}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={11} md={5}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography id={`target-score-${index}`}>\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\n\t\t\t\t\t\t\t\targs: [target.score],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\tdisabled={!target.tag}\n\t\t\t\t\t\t\tvalue={target.score}\n\t\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\n\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// newItem,\n\t\t\tclasses,\n\t\t\t...rest\n\t\t} = this.props\n\t\t// const { targeting, tags } = newItem\n\n\t\tconst { targets } = this.state\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t{[...targets].map(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t{ source, collection, label, placeholder, target = {} } = {},\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t<this.targetTag\n\t\t\t\t\t\t\t\t\tkey={index} // TODO\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tsource={SOURCES[source].src}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tvariant='filled'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tonChange={target => {\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\n\t\t\t\t\t\t\tvalue={''}\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotTargeting.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdSlotTargeting = NewAdSlotHoc(withStyles(styles)(AdSlotTargeting))\n\nexport default Translate(NewAdSlotTargeting)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Img from 'components/common/img/Img'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\nimport { selectMainToken } from 'selectors'\n\nconst SlotFallback = ({ img, targetUrl, t, classes }) => {\n\treturn (\n\t\t<div>\n\t\t\t<PropRow\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\n\t\t\t\tright={\n\t\t\t\t\t<Img\n\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\timg: classes.imgPreview,\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\n\t\t\t\t\t\talt={targetUrl}\n\t\t\t\t\t\tmediaMime={img.mime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<PropRow\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\n\t\t\t\tright={\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\n\t\t\t\t\t\t{targetUrl}\n\t\t\t\t\t</Anchor>\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nclass AdSlotPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.save = props.save\n\t}\n\n\trender() {\n\t\tconst { classes, account, mainTokenSymbol, ...rest } = this.props\n\t\tconst { newItem, t } = rest\n\t\tconst { type, title, description, temp, tags, targetUrl } = newItem\n\t\tconst { minPerImpression } = temp\n\n\t\treturn (\n\t\t\t<ContentBox>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\n\t\t\t\t\t\tright={account.wallet.address}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\tright={description}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('MIN_CPM_SLOT_LABEL')}\n\t\t\t\t\t\tright={`${minPerImpression} ${mainTokenSymbol}`}\n\t\t\t\t\t/>\n\t\t\t\t\t{temp.useFallback && (\n\t\t\t\t\t\t<SlotFallback\n\t\t\t\t\t\t\timg={temp}\n\t\t\t\t\t\t\ttargetUrl={targetUrl}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* </Grid> */}\n\t\t\t\t\t<br />\n\t\t\t\t\t{tags && (\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('tags', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\ttargets={tags}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n}\n\nAdSlotPreview.propTypes = {\n\taccount: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\treturn {\n\t\taccount: persist.account,\n\t\tmainTokenSymbol: selectMainToken(state).symbol,\n\t}\n}\n\nconst NewAdSlotPreview = NewAdSlotHoc(withStyles(styles)(AdSlotPreview))\nexport default connect(mapStateToProps)(Translate(NewAdSlotPreview))\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport FormSteps from 'components/dashboard/forms/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\nimport AddIcon from '@material-ui/icons/Add'\nimport SaveIcon from '@material-ui/icons/Save'\nimport NewAdUnitHoc from './AdUnit/NewAdUnitHoc'\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\nimport AdUnitTargeting from './AdUnit/AdUnitTargeting'\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\nimport NewCampaignHoc from './Campaign/NewCampaignHoc'\nimport CampaignUnits from './Campaign/CampaignUnits'\n// import CampaignTargeting from './Campaign/CampaignTargeting'\nimport CampaignFinance from './Campaign/CampaignFinance'\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\nimport NewAdSlotHoc from './AdSlot/NewAdSlotHoc'\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\nimport AdSlotTargeting from './AdSlot/AdSlotTargeting'\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\n\nconst SaveBtn = ({ newItem, t, save, ...rest }) => {\n\treturn (\n\t\t<Button color='primary' onClick={save}>\n\t\t\t{/*TODO: withStyles */}\n\t\t\t<SaveIcon style={{ marginRight: 8 }} />\n\t\t\t{t('SAVE')}\n\t\t</Button>\n\t)\n}\n\nconst SendBtn = ({ saveBtnLabel, saveBtnIcon, newItem, t, save, ...rest }) => {\n\treturn (\n\t\t<Button\n\t\t\tcolor='primary'\n\t\t\tonClick={save}\n\t\t\tdisabled={newItem.temp.waitingAction}\n\t\t>\n\t\t\t{newItem.temp.waitingAction ? (\n\t\t\t\t<HourglassEmptyIcon />\n\t\t\t) : (\n\t\t\t\tsaveBtnIcon || <SaveIcon style={{ marginRight: 8 }} />\n\t\t\t)}\n\t\t\t{t(saveBtnLabel || 'OPEN_CAMPAIGN')}\n\t\t</Button>\n\t)\n}\n\nconst SaveBtnWithAdUnit = NewAdUnitHoc(SaveBtn)\nconst SaveBtnWithCampaign = NewCampaignHoc(SendBtn)\nconst SaveBtnWithAdSlot = NewAdSlotHoc(SaveBtn)\n\nconst CancelBtn = ({ ...props }) => {\n\treturn <Button onClick={props.cancel}>{props.t('CANCEL')}</Button>\n}\n\nconst CancelBtnWithItem = NewAdUnitHoc(CancelBtn)\nconst CancelBtnWithCampaign = NewCampaignHoc(CancelBtn)\nconst CancelBtnWithAdSlot = NewAdSlotHoc(CancelBtn)\n\nconst dialogCommon = {\n\tdarkerBackground: true,\n\ticon: <AddIcon />,\n}\n\n// Ad unit\nexport const NewUnitSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithAdUnit}\n\t\tCancelBtn={CancelBtnWithItem}\n\t\tvalidateIdBase={'new-AdUnit-'}\n\t\titemType={'AdUnit'}\n\t\tstepsId={'new-adunit-'}\n\t\tstepsPages={[\n\t\t\t{ title: 'UNIT_BASIC_STEP', page: AdUnitBasic },\n\t\t\t{ title: 'UNIT_MEDIA_STEP', page: AdUnitMedia },\n\t\t\t{ title: 'UNIT_TARGETS_STEP', page: AdUnitTargeting },\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\tpage: AdUnitFormPreview,\n\t\t}}\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\n\t\tnoDefaultImg\n\t\titemModel={AdUnit}\n\t/>\n)\n\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\n\nexport const NewUnitDialog = props => (\n\t<NewUnitStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_UNIT'\n\t\ttitle='CREATE_NEW_UNIT'\n\t/>\n)\n\nconst copyProps = {\n\tdarkerBackground: true,\n\ticon: <FileCopyIcon />,\n}\n\nexport const NewCloneUnitDialog = props => (\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\n)\n\n// Campaign\nexport const NewCampaignSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithCampaign}\n\t\tCancelBtn={CancelBtnWithCampaign}\n\t\tvalidateIdBase={'new-Campaign-'}\n\t\titemType={'Campaign'}\n\t\tstepsId={'new-campaign-'}\n\t\tstepsPages={[\n\t\t\t{ title: 'CAMPAIGN_UNITS_STEP', page: CampaignUnits },\n\t\t\t// NOTE: Only at ad units at the moment\n\t\t\t// { title: 'CAMPAIGN_TARGETING_STEP', page: CampaignTargeting },\n\t\t\t{ title: 'CAMPAIGN_FINANCE_STEP', page: CampaignFinance },\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\tpage: CampaignFormPreview,\n\t\t}}\n\t\titemModel={Campaign}\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\n\t/>\n)\n\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\n\nexport const NewCampaignDialog = props => (\n\t<NewCampaignStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_CAMPAIGN'\n\t\ttitle='CREATE_NEW_CAMPAIGN'\n\t/>\n)\n\n// Ad slot\nexport const NewSlotSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithAdSlot}\n\t\tCancelBtn={CancelBtnWithAdSlot}\n\t\tvalidateIdBase={'new-AdUnit-'}\n\t\titemType={'AdSlot'}\n\t\tstepsId={'new-slot-'}\n\t\tstepsPages={[\n\t\t\t{ title: 'SLOT_BASIC_STEP', page: AdSlotBasic },\n\t\t\t{ title: 'SLOT_PASSBACK_STEP', page: AdSlotMedia },\n\t\t\t{ title: 'SLOT_TAGS_STEP', page: AdSlotTargeting },\n\t\t]}\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdSlotPreview }}\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\n\t\titemModel={AdSlot}\n\t/>\n)\n\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\n\nexport const NewSlotDialog = props => (\n\t<NewSlotStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_SLOT'\n\t\ttitle='CREATE_NEW_SLOT'\n\t/>\n)\n","import React from 'react'\nimport { t } from 'selectors'\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport HourglassFullIcon from '@material-ui/icons/HourglassFull'\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\nimport { constants } from 'adex-models'\n\nconst headCells = {\n\tCampaign: [\n\t\t{\n\t\t\tid: 'title',\n\t\t\tnumeric: false,\n\t\t\tdisablePadding: true,\n\t\t\tdisableOrdering: true,\n\t\t\tlabel: t('PROP_MEDIA'),\n\t\t},\n\t\t{\n\t\t\tid: 'status.humanFriendlyName',\n\t\t\tnumeric: false,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_STATUS'),\n\t\t},\n\t\t{\n\t\t\tid: 'depositAmount',\n\t\t\tnumeric: true,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_DEPOSIT'),\n\t\t},\n\t\t{\n\t\t\tid: 'status.fundsDistributedRatio',\n\t\t\tnumeric: true,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_DISTRIBUTED', { args: ['%'] }),\n\t\t},\n\t\t{\n\t\t\tid: 'minPerImpression',\n\t\t\tnumeric: true,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_CPM'),\n\t\t},\n\t\t{\n\t\t\tid: 'created',\n\t\t\tnumeric: true,\n\t\t\tisDate: true,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_CREATED'),\n\t\t},\n\t\t{\n\t\t\tid: 'activeFrom',\n\t\t\tnumeric: true,\n\t\t\tisDate: true,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_STARTS'),\n\t\t},\n\t\t{\n\t\t\tid: 'withdrawPeriodStart',\n\t\t\tnumeric: true,\n\t\t\tisDate: true,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_ENDS'),\n\t\t},\n\t],\n\tOther: [\n\t\t{\n\t\t\tid: 'id',\n\t\t\tnumeric: false,\n\t\t\tdisablePadding: true,\n\t\t\tdisableOrdering: true,\n\t\t\tlabel: t('PROP_MEDIA'),\n\t\t},\n\t\t{\n\t\t\tid: 'title',\n\t\t\tnumeric: false,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_TITLE'),\n\t\t},\n\t\t{\n\t\t\tid: 'type',\n\t\t\tnumeric: false,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_TYPE'),\n\t\t},\n\t\t{\n\t\t\tid: 'created',\n\t\t\tnumeric: false,\n\t\t\tisDate: true,\n\t\t\tdisablePadding: false,\n\t\t\tlabel: t('PROP_CREATED'),\n\t\t},\n\t],\n}\n\nconst filterTags = {\n\tCampaign: [{ name: 'active' }, { name: 'completed' }, { name: 'closed' }],\n\tOther: constants.AdUnitsTypes.map(type => {\n\t\treturn {\n\t\t\tname: type,\n\t\t\tlabel: type.split('_')[1],\n\t\t}\n\t}),\n}\n\nconst missingData = {\n\tCampaign: t('NO_CAMPAINGS_INFORMATION'),\n\tAdUnit: t('NO_ADUNITS_INFORMATION'),\n\tAdSlot: t('NO_ADSLOTS_INFORMATION'),\n}\n\nconst mapStatusIcons = (humanFriendlyStatus, status, size) => {\n\tconst icon = {\n\t\txs: { fontSize: 10 },\n\t\tmd: { fontSize: 15 },\n\t\tls: { fontSize: 20 },\n\t}\n\tconst waitIcon = <HourglassFullIcon style={icon[size]} color={'secondary'} />\n\tconst doneIcon = <DoneAllIcon style={icon[size]} color={'primary'} />\n\tconst warningIcon = <WarningIcon style={icon[size]} color={'error'} />\n\tconst cashIcon = <MonetizationOnIcon style={icon[size]} color={'accentTwo'} />\n\tif (humanFriendlyStatus === 'Closed' && status.toLowerCase() !== 'exhausted')\n\t\treturn waitIcon\n\tswitch (status.toLowerCase()) {\n\t\tcase 'active':\n\t\tcase 'ready':\n\t\t\treturn doneIcon\n\t\tcase 'pending':\n\t\tcase 'initializing':\n\t\tcase 'waiting':\n\t\t\treturn waitIcon\n\t\tcase 'offline':\n\t\tcase 'disconnected':\n\t\tcase 'unhealthy':\n\t\tcase 'invalid':\n\t\t\treturn warningIcon\n\t\tcase 'withdraw':\n\t\t\treturn cashIcon\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n\nexport { headCells, filterTags, missingData, mapStatusIcons }\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableSortLabel from '@material-ui/core/TableSortLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport { headCells } from './tableConfig'\n\nexport default function EnhancedTableHead(props) {\n\tconst {\n\t\tclasses,\n\t\tonSelectAllClick,\n\t\torder,\n\t\torderBy,\n\t\tnumSelected,\n\t\trowCount,\n\t\tonRequestSort,\n\t\titemType,\n\t\tnoActions,\n\t\tlistMode,\n\t} = props\n\tconst createSortHandler = (property, numeric, isDate) => event => {\n\t\tonRequestSort(event, property, numeric, isDate)\n\t}\n\tconst headSide = itemType === 'Campaign' ? itemType : 'Other'\n\treturn (\n\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t\t{!listMode && (\n\t\t\t\t\t<TableCell padding='checkbox'>\n\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\tindeterminate={numSelected > 0 && numSelected < rowCount}\n\t\t\t\t\t\t\tchecked={numSelected === rowCount}\n\t\t\t\t\t\t\tonChange={onSelectAllClick}\n\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'select all desserts' }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t\t{headCells[headSide].map(headCell => (\n\t\t\t\t\t<TableCell\n\t\t\t\t\t\tkey={headCell.id}\n\t\t\t\t\t\talign={'left'}\n\t\t\t\t\t\tpadding={'none'}\n\t\t\t\t\t\tsize={'small'}\n\t\t\t\t\t\tsortDirection={orderBy === headCell.id ? order : false}\n\t\t\t\t\t>\n\t\t\t\t\t\t{!headCell.disableOrdering && !listMode ? (\n\t\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\t\tactive={orderBy === headCell.id}\n\t\t\t\t\t\t\t\tdirection={order}\n\t\t\t\t\t\t\t\tonClick={createSortHandler(\n\t\t\t\t\t\t\t\t\theadCell.id,\n\t\t\t\t\t\t\t\t\theadCell.numeric,\n\t\t\t\t\t\t\t\t\theadCell.isDate\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{headCell.label}\n\t\t\t\t\t\t\t\t{orderBy === headCell.id ? (\n\t\t\t\t\t\t\t\t\t<span className={classes.visuallyHidden}>\n\t\t\t\t\t\t\t\t\t\t{order === 'desc'\n\t\t\t\t\t\t\t\t\t\t\t? 'sorted descending'\n\t\t\t\t\t\t\t\t\t\t\t: 'sorted ascending'}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>{headCell.label}</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t\t{!noActions && (\n\t\t\t\t\t<TableCell align={'left'} padding={'default'}>\n\t\t\t\t\t\t<div>{'Actions'}</div>\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t</TableRow>\n\t\t</TableHead>\n\t)\n}\n\nEnhancedTableHead.propTypes = {\n\titemType: PropTypes.string.isRequired,\n\tclasses: PropTypes.object.isRequired,\n\tnumSelected: PropTypes.number.isRequired,\n\tonRequestSort: PropTypes.func.isRequired,\n\tonSelectAllClick: PropTypes.func.isRequired,\n\torder: PropTypes.oneOf(['asc', 'desc']).isRequired,\n\torderBy: PropTypes.string.isRequired,\n\trowCount: PropTypes.number.isRequired,\n}\n","import React, { useState, useCallback, useEffect } from 'react'\r\n// import { PublisherStatistics } from 'components/dashboard/charts/revenue'\r\nimport FilterListIcon from '@material-ui/icons/FilterList'\r\nimport PropTypes from 'prop-types'\r\nimport { Popover, Chip } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport FormLabel from '@material-ui/core/FormLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport FormGroup from '@material-ui/core/FormGroup'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport { t } from 'selectors'\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(3),\r\n\t},\r\n\tchip: {\r\n\t\tmargin: theme.spacing(1),\r\n\t},\r\n}))\r\n\r\nexport default function ChipMultipleSelect(props) {\r\n\tconst [anchorDatePicker, setAnchorDatePicker] = useState(null)\r\n\tconst { state, setState, items, label } = props\r\n\tconst classes = useStyles()\r\n\r\n\tconst selectAll = useCallback(() => {\r\n\t\tlet newSelecteds = {}\r\n\t\titems.map(n => (newSelecteds[n.name] = true))\r\n\t\tsetState(newSelecteds)\r\n\t}, [items, setState])\r\n\r\n\tuseEffect(() => {\r\n\t\tselectAll()\r\n\t}, [selectAll])\r\n\r\n\tconst handleSelectAllClick = event => {\r\n\t\tif (event.target.checked) {\r\n\t\t\tselectAll()\r\n\t\t\treturn\r\n\t\t}\r\n\t\tsetState({})\r\n\t}\r\n\r\n\tconst selected = Object.keys(state).filter(function(e) {\r\n\t\treturn state[e] === true\r\n\t})\r\n\r\n\tconst labelParser = (selected, numberToShow) => {\r\n\t\tlet result = []\r\n\t\tconst numberToShowGreater = numberToShow >= selected.length\r\n\t\tconst loopCount = numberToShowGreater ? selected.length : numberToShow\r\n\t\tfor (let i = 0; i < loopCount; i++) {\r\n\t\t\tresult.push(`${selected[i].replace(/^\\w/, c => c.toUpperCase())}`)\r\n\t\t}\r\n\t\treturn numberToShowGreater\r\n\t\t\t? result.join(', ')\r\n\t\t\t: result.join(', ').concat(\r\n\t\t\t\t\tt('MORE_SELECTED', {\r\n\t\t\t\t\t\targs: [selected.length - numberToShow],\r\n\t\t\t\t\t})\r\n\t\t\t  )\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Chip\r\n\t\t\t\tlabel={\r\n\t\t\t\t\tselected.length === items.length\r\n\t\t\t\t\t\t? `${label} (${t('ALL_SELECTED')})`\r\n\t\t\t\t\t\t: selected.length === 0\r\n\t\t\t\t\t\t? `${label} (${t('NONE_SELECTED')})`\r\n\t\t\t\t\t\t: labelParser(selected, 2)\r\n\t\t\t\t}\r\n\t\t\t\tcolor={selected.length === items.length ? 'default' : 'secondary'}\r\n\t\t\t\tonClick={e => setAnchorDatePicker(e.currentTarget)}\r\n\t\t\t\ticon={<FilterListIcon />}\r\n\t\t\t\tclassName={classes.chip}\r\n\t\t\t/>\r\n\t\t\t<Popover\r\n\t\t\t\tid={'daterange-picker'}\r\n\t\t\t\topen={Boolean(anchorDatePicker)}\r\n\t\t\t\tanchorEl={anchorDatePicker}\r\n\t\t\t\tonClose={e => setAnchorDatePicker(null)}\r\n\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\tvertical: 'bottom',\r\n\t\t\t\t\thorizontal: 'left',\r\n\t\t\t\t}}\r\n\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\tvertical: 'top',\r\n\t\t\t\t\thorizontal: 'left',\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<FormControl component='fieldset' className={classes.formControl}>\r\n\t\t\t\t\t<FormLabel component='legend'>{t('FILTER_BY_STATUS')}</FormLabel>\r\n\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tindeterminate={\r\n\t\t\t\t\t\t\t\t\t\tselected.length > 0 && selected.length < items.length\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tchecked={selected.length === items.length}\r\n\t\t\t\t\t\t\t\t\tonChange={handleSelectAllClick}\r\n\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'select all filters' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel={t('SELECT_ALL')}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t{items.map(item => (\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tchecked={state[item.name] ? state[item.name] : false}\r\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetState({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...state,\r\n\t\t\t\t\t\t\t\t\t\t\t\t[item.name]: ev.target.checked,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvalue={item.name}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabel={(item.label || item.name).replace(/^\\w/, c =>\r\n\t\t\t\t\t\t\t\t\tc.toUpperCase()\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t<FormHelperText>{t('SELECT_INFORMATION')}</FormHelperText>\r\n\t\t\t\t</FormControl>\r\n\t\t\t</Popover>\r\n\t\t</React.Fragment>\r\n\t)\r\n}\r\n\r\nChipMultipleSelect.propTypes = {\r\n\tstate: PropTypes.object.isRequired,\r\n\tsetState: PropTypes.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\tlabel: PropTypes.string.isRequired,\r\n}\r\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport clsx from 'clsx'\nimport classnames from 'classnames'\nimport ChipMultipleSelect from 'components/common/dropdown/ChipMultipleSelect'\nimport Chip from '@material-ui/core/Chip'\nimport FormControl from '@material-ui/core/FormControl'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport Input from '@material-ui/core/Input'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport SearchIcon from '@material-ui/icons/Search'\nimport ClearIcon from '@material-ui/icons/Clear'\nimport ArchiveIcon from '@material-ui/icons/Archive'\nimport { lighten, makeStyles } from '@material-ui/core/styles'\nimport { filterTags } from './tableConfig'\nimport { t } from 'selectors'\n\nconst useToolbarStyles = makeStyles(theme => ({\n\troot: {\n\t\tpaddingLeft: theme.spacing(2),\n\t\tpaddingRight: theme.spacing(1),\n\t},\n\thighlight:\n\t\ttheme.palette.type === 'light'\n\t\t\t? {\n\t\t\t\t\tcolor: theme.palette.secondary.main,\n\t\t\t\t\tbackgroundColor: lighten(theme.palette.secondary.light, 0.85),\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\tcolor: theme.palette.text.primary,\n\t\t\t\t\tbackgroundColor: theme.palette.secondary.dark,\n\t\t\t  },\n\ttitle: {\n\t\tflex: '1 1 100%',\n\t},\n}))\n\nexport default function EnhancedTableToolbar(props) {\n\tconst classes = useToolbarStyles()\n\tconst {\n\t\tnumSelected,\n\t\tsearch,\n\t\tsetSearch,\n\t\tfilters,\n\t\tsetFilters,\n\t\titemType,\n\t} = props\n\tconst filterSide = itemType === 'Campaign' ? itemType : 'Other'\n\tconst filtersTagsCount = Object.values(filters).filter(e => e).length\n\tconst filtersPresent =\n\t\tfiltersTagsCount < filterTags[filterSide].length || search\n\tconst initialFilterTags = {}\n\tfilterTags[filterSide].map(n => (initialFilterTags[n.name] = true))\n\n\treturn (\n\t\t<Toolbar\n\t\t\tclassName={clsx(classes.root, {\n\t\t\t\t[classes.highlight]: numSelected > 0,\n\t\t\t})}\n\t\t>\n\t\t\t{numSelected > 0 ? (\n\t\t\t\t<Typography\n\t\t\t\t\tclassName={classes.title}\n\t\t\t\t\tcolor='inherit'\n\t\t\t\t\tvariant='subtitle1'\n\t\t\t\t>\n\t\t\t\t\t{numSelected} selected\n\t\t\t\t</Typography>\n\t\t\t) : (\n\t\t\t\t<FormControl className={classnames(classes.flexItem)}>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tname='search'\n\t\t\t\t\t\tid='search'\n\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\tonChange={ev => setSearch(ev.target.value)}\n\t\t\t\t\t\tstartAdornment={\n\t\t\t\t\t\t\t<InputAdornment position='start'>\n\t\t\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</FormControl>\n\t\t\t)}\n\n\t\t\t{numSelected > 0 ? null : (\n\t\t\t\t// This is for the multiple select and\n\t\t\t\t// will be implemented when we add achive to the market\n\t\t\t\t/*!noActions && (\n\t\t\t\t\t<Tooltip title='Archive'>\n\t\t\t\t\t\t<IconButton aria-label='archive'>\n\t\t\t\t\t\t\t<ArchiveIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t)*/\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Tooltip title={t('FILTER_LIST')}>\n\t\t\t\t\t\t<ChipMultipleSelect\n\t\t\t\t\t\t\titems={filterTags[filterSide]}\n\t\t\t\t\t\t\tstate={filters}\n\t\t\t\t\t\t\tsetState={setFilters}\n\t\t\t\t\t\t\tlabel={t('FILTER')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t{filtersPresent && (\n\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\tlabel={t('CLEAR_ALL_FILTERS')}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetSearch('')\n\t\t\t\t\t\t\t\tsetFilters(initialFilterTags)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ticon={<ClearIcon />}\n\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</React.Fragment>\n\t\t\t)}\n\t\t</Toolbar>\n\t)\n}\n\nEnhancedTableToolbar.propTypes = {\n\tnumSelected: PropTypes.number.isRequired,\n}\n","import moment from 'moment'\n\nconst isOverlapping = (startDate, endDate, dateRange) => {\n\tconst startDate1 = moment(startDate)\n\tconst endDate1 = moment(endDate)\n\tconst startDate2 = moment(dateRange.startDate)\n\tconst endDate2 = moment(dateRange.endDate)\n\tconst result = moment\n\t\t.max(startDate1, startDate2)\n\t\t.isBefore(moment.min(endDate1, endDate2))\n\treturn result\n}\n\nconst isBetween = (date, dateRange) => {\n\tif (dateRange.startDate && dateRange.endDate)\n\t\treturn moment(date).isBetween(dateRange.startDate, dateRange.endDate)\n\telse return true\n}\n\nconst desc = (a, b, orderBy, numeric, orderIsDate) => {\n\tconst subCategories = orderBy.split('.')\n\tsubCategories.forEach(prop => {\n\t\ta = a[prop]\n\t\tb = b[prop]\n\t})\n\tif (orderIsDate) {\n\t\ta = moment(a).unix()\n\t\tb = moment(b).unix()\n\t}\n\n\tif (!orderIsDate && numeric) {\n\t\ta = Number(a)\n\t\tb = Number(b)\n\t}\n\n\tif (b < a) return -1\n\tif (b > a) return 1\n\treturn 0\n}\n\nconst filterBySearch = (items, search) => {\n\treturn items.filter(\n\t\titem =>\n\t\t\t(item.title && item.title.toLowerCase().includes(search.toLowerCase())) ||\n\t\t\t(item.description &&\n\t\t\t\titem.description.toLowerCase().includes(search.toLowerCase())) ||\n\t\t\t(item.type && item.type.toLowerCase().includes(search.toLowerCase())) ||\n\t\t\t(item.status &&\n\t\t\t\titem.status.name &&\n\t\t\t\titem.status.name.toLowerCase().includes(search.toLowerCase())) ||\n\t\t\t(item.id && item.id.toLowerCase() === search.toLowerCase())\n\t\t// We can search on more fields as well\n\t)\n}\n\nconst filterByTags = (items, filters, itemType) => {\n\tconst filtered = items.filter(item => {\n\t\tconst tag =\n\t\t\titemType === 'Campaign'\n\t\t\t\t? item.status && item.status.humanFriendlyName\n\t\t\t\t\t? item.status.humanFriendlyName.toLowerCase()\n\t\t\t\t\t: 'pending'\n\t\t\t\t: item.type.toLowerCase()\n\n\t\treturn !!filters[tag]\n\t})\n\n\treturn filtered\n}\n\nconst filterByDate = (items, dateRange) => {\n\treturn items.filter(\n\t\titem => isBetween(item.created, dateRange)\n\t\t// In campaigns we can search date for overlapping period between Starts Ends\n\t\t// searchOverlap && isOverlapping(item.activeFrom, item.withdrawPeriodStart, dateRange))\n\t)\n}\n\nconst stableSort = (array, cmp) => {\n\tconst stabilizedThis = array.map((el, index) => [el, index])\n\tstabilizedThis.sort((a, b) => {\n\t\tconst order = cmp(a[0], b[0])\n\t\tif (order !== 0) return order\n\t\treturn a[1] - b[1]\n\t})\n\treturn stabilizedThis.map(el => el[0])\n}\n\nconst getSorting = (order, orderBy, orderisNumber, orderIsDate) => {\n\treturn order === 'desc'\n\t\t? (a, b) => desc(a, b, orderBy, orderisNumber, orderIsDate)\n\t\t: (a, b) => -desc(a, b, orderBy, orderisNumber, orderIsDate)\n}\n\nexport { filterBySearch, filterByTags, filterByDate, stableSort, getSorting }\n","import React from 'react'\nimport classnames from 'classnames'\nimport Img from 'components/common/img/Img'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TablePagination from '@material-ui/core/TablePagination'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport IconButton from '@material-ui/core/IconButton'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport VisibilityIcon from '@material-ui/icons/Visibility'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\nimport { bigNumberify } from 'ethers/utils'\nimport { AdUnit } from 'adex-models'\nimport { t, selectSide, selectMainToken } from 'selectors'\nimport { execute, cloneItem } from 'actions'\nimport { useSelector } from 'react-redux'\nimport { missingData, headCells, mapStatusIcons } from './tableConfig'\nimport EnhancedTableHead from './EnhancedTableHead'\nimport EnhancedTableToolbar from './EnhancedTableToolbar'\nimport {\n\tfilterBySearch,\n\tfilterByTags,\n\tstableSort,\n\tgetSorting,\n} from './filterHelpers'\nconst RRTableCell = withReactRouterLink(TableCell)\nconst RRIconButton = withReactRouterLink(IconButton)\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: '100%',\n\t},\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2),\n\t},\n\ttable: {\n\t\t// minWidth: 750,\n\t\ttableLayout: 'auto',\n\t\twidth: '100%',\n\t},\n\ttableWrapper: {\n\t\toverflowX: 'auto',\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1,\n\t},\n\tspacer: {\n\t\tflex: '0',\n\t},\n\tcellImg: {\n\t\twidth: 'auto',\n\t\theight: 'auto',\n\t\tmaxHeight: 70,\n\t\tmaxWidth: 180,\n\t\tcursor: 'pointer',\n\t},\n}))\n\nconst renderActions = ({ item, to, itemType }) => {\n\treturn (\n\t\t<TableCell>\n\t\t\t<Tooltip\n\t\t\t\ttitle={t('LABEL_VIEW')}\n\t\t\t\t// placement='top'\n\t\t\t\tenterDelay={1000}\n\t\t\t>\n\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\n\t\t\t\t\t<VisibilityIcon color='primary' />\n\t\t\t\t</RRIconButton>\n\t\t\t</Tooltip>\n\t\t\t{itemType === 'AdUnit' ? (\n\t\t\t\t<Tooltip\n\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\n\t\t\t\t\t// placement='top'\n\t\t\t\t\tenterDelay={1000}\n\t\t\t\t>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<NewCloneUnitDialog\n\t\t\t\t\t\t\tonBeforeOpen={() =>\n\t\t\t\t\t\t\t\texecute(cloneItem({ item, itemType, objModel: AdUnit }))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ticonButton\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t</Tooltip>\n\t\t\t) : null}\n\t\t</TableCell>\n\t)\n}\n\nexport default function EnhancedTable(props) {\n\tconst classes = useStyles()\n\tconst side = useSelector(selectSide)\n\tconst { symbol, decimals } = useSelector(selectMainToken)\n\t// const items = []\n\tconst {\n\t\titems, //\n\t\titemType,\n\t\tnoActions,\n\t\tvalidate,\n\t\thandleSelect,\n\t\tlistMode,\n\t} = props\n\tconst [order, setOrder] = React.useState('desc')\n\tconst [orderBy, setOrderBy] = React.useState('created')\n\tconst [orderIsNumeric, setOrderisNumeric] = React.useState(false)\n\tconst [orderIsDate, setOrderisDate] = React.useState(true)\n\tconst [selected, setSelected] = React.useState([])\n\tconst [page, setPage] = React.useState(0)\n\tconst [rowsPerPage, setRowsPerPage] = React.useState(5)\n\tconst [search, setSearch] = React.useState('')\n\tconst [filters, setFilters] = React.useState({})\n\n\tReact.useEffect(() => {\n\t\tconst isValid = !!selected.length\n\t\tif (validate && handleSelect) {\n\t\t\tvalidate('adUnits', {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\n\t\t\t\tdirty: true,\n\t\t\t})\n\t\t\tisValid && handleSelect(selected)\n\t\t}\n\t\t// TODO: temp fix - need to redesign the table again\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [selected])\n\n\tReact.useEffect(() => {\n\t\tsetPage(0)\n\t}, [search, filters])\n\n\tconst handleRequestSort = (event, property, numeric, isDate) => {\n\t\tconst isDesc = orderBy === property && order === 'desc'\n\t\tsetOrder(isDesc ? 'asc' : 'desc')\n\t\tsetOrderBy(property)\n\t\tsetOrderisNumeric(numeric)\n\t\tsetOrderisDate(isDate)\n\t}\n\n\tconst handleSelectAllClick = event => {\n\t\tif (event.target.checked) {\n\t\t\tconst newSelecteds = items.map(n => n.id)\n\t\t\tsetSelected(newSelecteds)\n\t\t\treturn\n\t\t}\n\t\tsetSelected([])\n\t}\n\n\tconst handleClick = (event, name) => {\n\t\tconst selectedIndex = selected.indexOf(name)\n\t\tlet newSelected = []\n\n\t\tif (selectedIndex === -1) {\n\t\t\tnewSelected = newSelected.concat(selected, name)\n\t\t} else if (selectedIndex === 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(1))\n\t\t} else if (selectedIndex === selected.length - 1) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, -1))\n\t\t} else if (selectedIndex > 0) {\n\t\t\tnewSelected = newSelected.concat(\n\t\t\t\tselected.slice(0, selectedIndex),\n\t\t\t\tselected.slice(selectedIndex + 1)\n\t\t\t)\n\t\t}\n\n\t\tsetSelected(newSelected)\n\t}\n\n\tconst handleChangePage = (event, newPage) => {\n\t\tsetPage(newPage)\n\t}\n\n\tconst handleChangeRowsPerPage = event => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10))\n\t\tsetPage(0)\n\t}\n\n\tconst isSelected = id => selected.indexOf(id) !== -1\n\n\tconst filteredItems = listMode\n\t\t? items\n\t\t: filterBySearch(filterByTags(items, filters, itemType), search)\n\n\tconst sortedItems = stableSort(\n\t\tfilteredItems,\n\t\tgetSorting(order, orderBy, orderIsNumeric, orderIsDate)\n\t)\n\n\tconst emptyRows =\n\t\trowsPerPage -\n\t\tMath.min(rowsPerPage, filteredItems.length - page * rowsPerPage)\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t{!listMode && (\n\t\t\t\t\t<EnhancedTableToolbar\n\t\t\t\t\t\tnumSelected={selected.length}\n\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\tsearch={search}\n\t\t\t\t\t\tsetSearch={setSearch}\n\t\t\t\t\t\tfilters={filters}\n\t\t\t\t\t\tsetFilters={setFilters}\n\t\t\t\t\t\tnoActions={noActions}\n\t\t\t\t\t\tlistMode={listMode}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t<div className={classes.tableWrapper}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\t\taria-labelledby='tableTitle'\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\taria-label='enhanced table'\n\t\t\t\t\t>\n\t\t\t\t\t\t<EnhancedTableHead\n\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\tnumSelected={selected.length}\n\t\t\t\t\t\t\torder={order}\n\t\t\t\t\t\t\torderBy={orderBy}\n\t\t\t\t\t\t\tonSelectAllClick={handleSelectAllClick}\n\t\t\t\t\t\t\tonRequestSort={handleRequestSort}\n\t\t\t\t\t\t\trowCount={items.length}\n\t\t\t\t\t\t\tnoActions={noActions}\n\t\t\t\t\t\t\tlistMode={listMode}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{sortedItems\n\t\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t\t.map((item, index) => {\n\t\t\t\t\t\t\t\t\t// Campaigns renderer\n\t\t\t\t\t\t\t\t\tconst isItemSelected = isSelected(item.id)\n\t\t\t\t\t\t\t\t\tconst labelId = `enhanced-table-checkbox-${index}`\n\t\t\t\t\t\t\t\t\tconst firstUnit = (item.adUnits && item.adUnits[0]) || {}\n\t\t\t\t\t\t\t\t\tconst mediaUrl = firstUnit.mediaUrl || item.mediaUrl || ''\n\t\t\t\t\t\t\t\t\tconst mediaMime = firstUnit.mediaMime || item.mediaMime || ''\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 90 }}\n\t\t\t\t\t\t\t\t\t\t\thover\n\t\t\t\t\t\t\t\t\t\t\trole='checkbox'\n\t\t\t\t\t\t\t\t\t\t\taria-checked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\t\t\t\t\tselected={isItemSelected}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{!listMode && (\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell padding='checkbox'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={event => handleClick(event, item.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t<TableCell padding={'none'}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullScreenOnClick={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={mediaUrl}\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\t\t\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t{itemType === 'Campaign' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.status.humanFriendlyName}{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status.humanFriendlyName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'xs'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatTokenAmount(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.depositAmount,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{` ${symbol}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(item.status.fundsDistributedRatio || 0) / 10\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatTokenAmount(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{` ${symbol}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{formatDateTime(item.created)}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatDateTime(item.activeFrom)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatDateTime(item.withdrawPeriodStart)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<RRTableCell\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/dashboard/${side}/${itemType}/${item.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</RRTableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell> {item.type} </TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{formatDateTime(item.created)}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{!noActions &&\n\t\t\t\t\t\t\t\t\t\t\t\trenderActions({\n\t\t\t\t\t\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\t\t\t\t\t\tto: `/dashboard/${side}/${itemType}/${item.id}`,\n\t\t\t\t\t\t\t\t\t\t\t\t\titemType,\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t{emptyRows > 0 && (\n\t\t\t\t\t\t\t\t<TableRow style={{ height: 90 * emptyRows }}>\n\t\t\t\t\t\t\t\t\t{items.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\t\tcolSpan={\n\t\t\t\t\t\t\t\t\t\t\t\t(headCells[itemType]\n\t\t\t\t\t\t\t\t\t\t\t\t\t? headCells[itemType].length\n\t\t\t\t\t\t\t\t\t\t\t\t\t: headCells.Other.length) + 2\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\t\talign='center'\n\t\t\t\t\t\t\t\t\t\t\tcolSpan={\n\t\t\t\t\t\t\t\t\t\t\t\t(headCells[itemType]\n\t\t\t\t\t\t\t\t\t\t\t\t\t? headCells[itemType].length\n\t\t\t\t\t\t\t\t\t\t\t\t\t: headCells.Other.length) + 2\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{missingData[itemType]}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</div>\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[10, 20, 50]}\n\t\t\t\t\tcomponent='div'\n\t\t\t\t\tclasses={{ spacer: classes.spacer }}\n\t\t\t\t\tcount={filteredItems.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={handleChangePage}\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</div>\n\t)\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tflex: {\n\t\t\tflex: 1,\n\t\t},\n\t\tappBar: {\n\t\t\tmarginTop: spacing * 2,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tdatepicker: {\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: 0,\n\t\t},\n\t}\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tcard: {\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing,\n\t\t\twidth: 320,\n\t\t\tdisplay: 'block',\n\t\t\tposition: 'relative',\n\t\t\tmaxWidth: '100%',\n\t\t\t'@media(max-width:380px)': {\n\t\t\t\tmargin: 0,\n\t\t\t\tmarginBottom: spacing,\n\t\t\t},\n\t\t},\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\twidth: 'auto',\n\t\t\tmaxHeight: '100%',\n\t\t},\n\t\tbasicInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'start',\n\t\t\tflexWrap: 'wrap',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\tlabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tmarginTop: `calc(56.25% - ${40 + spacing}px)`,\n\t\t\ttop: 0,\n\t\t\tright: spacing,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport EditIcon from '@material-ui/icons/Edit'\nimport Img from 'components/common/img/Img'\nimport { validUrl } from 'helpers/validators'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport Anchor from 'components/common/anchor/anchor'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\nimport { bigNumberify } from 'ethers/utils'\nimport { validations } from 'adex-models'\nimport { utils } from 'ethers'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableConfig'\nimport { selectMainToken } from 'selectors'\n\nconst FallbackAdData = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\tisDemo,\n\tactiveFields,\n\tsetActiveFields,\n\tvalidate,\n\tinvalidFields,\n\ttoggleFallbackImgEdit,\n\thandleChange,\n\t...rest\n}) => {\n\tconst errFallbackAdUrl = invalidFields['fallbackAdUrl']\n\n\treturn (\n\t\t<Card className={classes.card} raised={false}>\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }} src=''>\n\t\t\t\t<Img\n\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\tclassName={classes.img}\n\t\t\t\t\tsrc={item.fallbackMediaUrl}\n\t\t\t\t\talt={item.fallbackTargetUrl}\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t/>\n\t\t\t</CardMedia>\n\t\t\t{/* <Fab\n\t\t\t\tmini\n\t\t\t\tcolor='secondary'\n\t\t\t\tonClick={toggleFallbackImgEdit}\n\t\t\t\tclassName={classes.editIcon}\n\t\t\t\tdisabled={isDemo}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</Fab> */}\n\t\t\t<CardContent>\n\t\t\t\t{activeFields.fallbackTargetUrl ? (\n\t\t\t\t\t<TextField\n\t\t\t\t\t\t// required\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tlabel={t('fallbackTargetUrl', { isProp: true })}\n\t\t\t\t\t\tvalue={item.fallbackTargetUrl || ''}\n\t\t\t\t\t\tonChange={ev => handleChange('fallbackTargetUrl', ev.target.value)}\n\t\t\t\t\t\t// maxLength={1024}\n\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\tsetActiveFields('fallbackTargetUrl', false)\n\t\t\t\t\t\t\tvalidate('fallbackTargetUrl', {\n\t\t\t\t\t\t\t\tisValid:\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\trest.validate('fallbackTargetUrl', {\n\t\t\t\t\t\t\t\tisValid:\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={\n\t\t\t\t\t\t\terrFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t\t<span> {errFallbackAdUrl.errMsg} </span>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t!errFallbackAdUrl || !errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t\t<div>{t('SLOT_FALLBACK_AD_URL_DESCRIPTION')}</div>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{item.fallbackTargetUrl ? (\n\t\t\t\t\t\t\t\t<Anchor href={item.fallbackTargetUrl} target='_blank'>\n\t\t\t\t\t\t\t\t\t{item.fallbackTargetUrl}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span style={{ opacity: 0.3 }}>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t{t('NO_FALLBACK_URL_YET')}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{/* <span>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t// disabled={!canEditImg}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\trest.setActiveFields('fallbackTargetUrl', true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</span> */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{errFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span className={classes.error}>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t{errFallbackAdUrl.errMsg}{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</CardContent>\n\t\t</Card>\n\t)\n}\n\nconst ValidatedFallbackAdData = ValidItemHoc(FallbackAdData)\n\nconst updateItemTemp = ({ prop = '', value = '', item = {} } = {}) => {\n\tconst { temp } = item\n\tconst newTemp = { ...temp }\n\tnewTemp[prop] = value\n\n\treturn newTemp\n}\n\nconst validateAmount = (value = '', prop, dirty, errMsg, validate) => {\n\tconst isValidNumber = validations.isNumberString(value)\n\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\n\n\tvalidate(prop, {\n\t\tisValid: isValid,\n\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\n\t\tdirty: dirty,\n\t})\n}\n\nconst SlotMinCPM = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\tisDemo,\n\tactiveFields,\n\tsetActiveFields,\n\tvalidate,\n\tinvalidFields,\n\ttoggleFallbackImgEdit,\n\thandleChange,\n\t...rest\n}) => {\n\tconst errMin = invalidFields['minPerImpression']\n\tconst { address, decimals, symbol } = selectMainToken()\n\tconst minCPM = formatTokenAmount(\n\t\tbigNumberify((item.minPerImpression || {})[address] || '0').mul(1000),\n\t\tdecimals,\n\t\ttrue\n\t)\n\n\tconst minPerImpression =\n\t\titem.temp.minPerImpression !== undefined\n\t\t\t? item.temp.minPerImpression\n\t\t\t: minCPM\n\n\treturn (\n\t\t<FormControl\n\t\t\tfullWidth\n\t\t\tclassName={classes.textField}\n\t\t\tmargin='dense'\n\t\t\terror={!!errMin}\n\t\t>\n\t\t\t<InputLabel>{t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}</InputLabel>\n\t\t\t<Input\n\t\t\t\tfullWidth\n\t\t\t\tautoFocus\n\t\t\t\ttype='text'\n\t\t\t\tname={'minPerImpression'}\n\t\t\t\tvalue={minPerImpression || ''}\n\t\t\t\tonChange={ev => {\n\t\t\t\t\tvalidateAmount(\n\t\t\t\t\t\tev.target.value,\n\t\t\t\t\t\t'minPerImpression',\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t'',\n\t\t\t\t\t\tvalidate\n\t\t\t\t\t)\n\t\t\t\t\thandleChange(\n\t\t\t\t\t\t'temp',\n\t\t\t\t\t\tupdateItemTemp({\n\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t\tmaxLength={1024}\n\t\t\t\tonBlur={ev => {\n\t\t\t\t\tsetActiveFields('minPerImpression', false)\n\t\t\t\t}}\n\t\t\t\tdisabled={!activeFields.minPerImpression}\n\t\t\t\tendAdornment={\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// disabled\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tdisabled={activeFields['minPerImpression'] || isDemo}\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\tonClick={ev => setActiveFields('minPerImpression', true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<FormHelperText>\n\t\t\t\t{errMin && !!errMin.errMsg\n\t\t\t\t\t? t(errMin.errMsg, { args: errMin.errMsgArgs })\n\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')}\n\t\t\t</FormHelperText>\n\t\t</FormControl>\n\t)\n}\n\nconst ValidatedSlotMinCPM = ValidItemHoc(SlotMinCPM)\n\nconst MediaCard = ({\n\tclasses,\n\tmediaUrl,\n\tmediaMime,\n\ttitle,\n\tcanEditImg,\n\ttoggleImgEdit,\n\turl,\n}) => (\n\t<Card className={classes.card} raised={false}>\n\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\n\t\t\t<Img\n\t\t\t\tallowFullscreen={true}\n\t\t\t\tsrc={mediaUrl}\n\t\t\t\talt={title}\n\t\t\t\tclassName={classes.img}\n\t\t\t\tmediaMime={mediaMime}\n\t\t\t\tallowVideo\n\t\t\t/>\n\t\t</CardMedia>\n\t\t{canEditImg && (\n\t\t\t<Button\n\t\t\t\tvariant='fab'\n\t\t\t\tmini\n\t\t\t\tcolor='secondary'\n\t\t\t\tonClick={toggleImgEdit}\n\t\t\t\tclassName={classes.editIcon}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</Button>\n\t\t)}\n\n\t\t{url && (\n\t\t\t<CardContent>\n\t\t\t\t<Anchor href={url} target='_blank'>\n\t\t\t\t\t{url}\n\t\t\t\t</Anchor>\n\t\t\t</CardContent>\n\t\t)}\n\t</Card>\n)\n\nconst basicProps = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\titemType,\n\tactiveFields,\n\t...rest\n}) => {\n\tconst mediaUrl = item.mediaUrl\n\tconst mediaMime = item.mediaMime\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\n\t\t\t\t\t\t{itemType === 'AdSlot' ? (\n\t\t\t\t\t\t\t<ValidatedFallbackAdData\n\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\tactiveFields={activeFields}\n\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\n\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t{itemType === 'AdSlot' && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<ValidatedSlotMinCPM\n\t\t\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\n\t\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\tvalue={item.type}\n\t\t\t\t\t\t\t\t\tlabel={t('type', { isProp: true })}\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t{Array.isArray(item.tags) && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tvalue={item.tags\n\t\t\t\t\t\t\t\t\t\t\t.map(tag => `\"${tag.tag}(${tag.score})\"`)\n\t\t\t\t\t\t\t\t\t\t\t.join(',\\n')}\n\t\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t\tt('tags', { isProp: true }) + ` (${item.tags.length})`\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\trows={7}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\n\t\t\t\t{rightComponent}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport const BasicProps = withStyles(styles)(basicProps)\n\nconst campaignProps = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\titemType,\n\t...rest\n}) => {\n\tconst mediaUrl = item.mediaUrl\n\tconst status = item.status || {}\n\tconst { decimals, symbol } = selectMainToken()\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={8}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className={classes.basicInfo}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\n\t\t\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\n\t\t\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\n\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={status.humanFriendlyName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.humanFriendlyName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'md'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(status.fundsDistributedRatio || 0) / 10\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, decimals) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={4}>\n\t\t\t\t\t{rightComponent}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\n// ((status.fundsDistributedRatio || 0) / 10).toFixed(2)\nexport const CampaignProps = withStyles(styles)(campaignProps)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Grid from '@material-ui/core/Grid'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport EnhancedTable from 'components/dashboard/containers/Tables/EnhancedTable'\nimport Translate from 'components/translate/Translate'\nimport Button from '@material-ui/core/Button'\nimport { AdUnit as AdUnitModel, Campaign as CampaignModel } from 'adex-models'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { CampaignProps } from 'components/dashboard/containers/ItemCommon'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport AppBar from '@material-ui/core/AppBar'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport Anchor from 'components/common/anchor/anchor'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { selectMainToken } from 'selectors'\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\n\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\nconst VIEW_MODE = 'campaignRowsView'\n\nexport class Campaign extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context)\n\n\t\tthis.state = {\n\t\t\ttabIndex: 0,\n\t\t\tstatistics: {},\n\t\t}\n\t}\n\n\thandleTabChange = (event, index) => {\n\t\tthis.setState({ tabIndex: index })\n\t}\n\n\tCampaignActions = ({ campaign, actions, t }) => {\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tactions.closeCampaign({ campaign })\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// classes,\n\t\t\titem,\n\t\t\t// handleChange,\n\t\t\t// activeFields,\n\t\t\t// isDemo,\n\t\t\tactions,\n\t\t\thistory,\n\t\t\tmainTokenSymbol,\n\t\t\t// ...rest\n\t\t} = this.props\n\t\tconst { tabIndex } = this.state\n\n\t\tconst units = item.spec.adUnits\n\t\tconst campaign = new CampaignModel(item)\n\n\t\tconst balances =\n\t\t\tcampaign.status && campaign.status.lastApprovedBalances\n\t\t\t\t? campaign.status.lastApprovedBalances\n\t\t\t\t: {}\n\n\t\tconst status = (campaign.status || {}).name\n\t\tconst leader = campaign.spec.validators[0]\n\t\tconst follower = campaign.spec.validators[1]\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<CampaignProps\n\t\t\t\t\titem={campaign}\n\t\t\t\t\tt={t}\n\t\t\t\t\trightComponent={\n\t\t\t\t\t\t// <UnitTargets\n\t\t\t\t\t\t// \t{...rest}\n\t\t\t\t\t\t// \ttargets={campaign.targeting}\n\t\t\t\t\t\t// \tt={t}\n\t\t\t\t\t\t// \tsubHeader={t('CAMPAIGN_TARGETING')}\n\t\t\t\t\t\t// />\n\t\t\t\t\t\t(status === 'Ready' ||\n\t\t\t\t\t\t\tstatus === 'Active' ||\n\t\t\t\t\t\t\tstatus === 'Withdraw' ||\n\t\t\t\t\t\t\tstatus === 'Unhealthy') && (\n\t\t\t\t\t\t\t<this.CampaignActions\n\t\t\t\t\t\t\t\tcampaign={campaign}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tactions={actions}\n\t\t\t\t\t\t\t\thistory={history}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<AppBar position='static' color='default'>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\n\t\t\t\t\t\t\tscrollable\n\t\t\t\t\t\t\tscrollButtons='off'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label={t('STATE')} />\n\t\t\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\n\t\t\t\t\t\t\t<Tab label={t('VALIDATORS')} />\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t\t\t<List\n\t\t\t\t\t\t\t\tsubheader={\n\t\t\t\t\t\t\t\t\t<ListSubheader component='div'>{t('BALANCES')}</ListSubheader>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{Object.keys(balances).map(key => (\n\t\t\t\t\t\t\t\t\t<ListItem key={key}>\n\t\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\t\tprimary={\n\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(balances[key]) + ' ' + mainTokenSymbol\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tsecondary={key}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{tabIndex === 1 && (\n\t\t\t\t\t\t\t<EnhancedTable itemType={'AdUnit'} items={units} noActions />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{tabIndex === 2 && (\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/status`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/status`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nCampaign.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tunits: PropTypes.object.isRequired,\n\trowsView: PropTypes.bool.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\t// let memory = state.memory\n\treturn {\n\t\tunits: persist.items['AdUnit'],\n\t\trowsView: !!persist.ui[VIEW_MODE],\n\t\tobjModel: CampaignModel,\n\t\titemType: 'Campaign',\n\t\tmainTokenSymbol: selectMainToken(state).symbol,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst CampaignItem = ItemHoc(withStyles(styles)(Campaign))\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(CampaignItem))\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\n\t</g>,\n\n\t'AdexPublisher',\n\t'0 0 114 110'\n)\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\n\t</g>,\n\t'AdexAdvertiser',\n\t'0 0 109 94'\n)\n","import React, { Component } from 'react'\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport Translate from 'components/translate/Translate'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst SideBox = ({\n\tsalePoints = [],\n\tlinkTitle,\n\ticon,\n\ttitle,\n\tdisabled,\n\tclasses,\n\t...other\n}) => (\n\t<div\n\t\t{...other}\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\n\t>\n\t\t<div className={classes.icon}>{icon}</div>\n\t\t<h2>{title}</h2>\n\t\t<ul className={classes.salePoints}>\n\t\t\t{salePoints.map(function(point, key) {\n\t\t\t\treturn <li key={key}> {point} </li>\n\t\t\t})}\n\t\t</ul>\n\t</div>\n)\n\nconst RRSideBox = withReactRouterLink(SideBox)\n\nclass SideSelect extends Component {\n\trender() {\n\t\tlet { t, classes } = this.props\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={true}\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\n\t\t\t\tBackdropProps={{\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\troot: classes.backdrop,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tfullWidth\n\t\t\t\tmaxWidth='sm'\n\t\t\t>\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<AdvertiserLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/advertiser'\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<PublisherLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/publisher'\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n\nexport default Translate(withStyles(styles)(SideSelect))\n","export const styles = () => {\n\treturn {\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tsideBox: {\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\theight: 'auto',\n\t\t\ttextAlign: 'center',\n\t\t\tverticalAlign: 'top',\n\t\t\topacity: 0.7,\n\t\t\t'&:hover:not(.disabled)': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t\topacity: 1,\n\t\t\t},\n\t\t\t'&.disabled': {\n\t\t\t\topacity: 0.3,\n\t\t\t},\n\t\t\t'@media(max-width:425px)': {\n\t\t\t\twidth: '100%',\n\t\t\t},\n\t\t},\n\t\ticon: {\n\t\t\twidth: 110,\n\t\t\theight: 110,\n\t\t\tmargin: 'auto',\n\t\t},\n\t\tsalePoints: {\n\t\t\tpadding: 0,\n\t\t\t'& li': {\n\t\t\t\tdisplay: 'block',\n\t\t\t\tlistStyle: 'none',\n\t\t\t},\n\t\t},\n\t}\n}\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport Typography from '@material-ui/core/Typography'\nimport classnames from 'classnames'\nimport InfoIcon from '@material-ui/icons/Info'\nimport { ArrowTooltip } from 'components/common/tooltips'\nimport LinearProgress from '@material-ui/core/LinearProgress'\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\troot: {\n\t\t\tposition: 'relative',\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\n\t\t\tcolor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\n\t\t\t\ttheme.palette.text.primary,\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: theme.spacing(1),\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tprogress: {\n\t\t\tbottom: 0,\n\t\t\tposition: 'absolute',\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nconst StatsCard = props => {\n\tconst {\n\t\ttitle,\n\t\tsubtitle,\n\t\tlinkCard,\n\t\tchildren,\n\t\tonClick,\n\t\tbgColor,\n\t\tloading,\n\t\texplain,\n\t} = props\n\n\tconst classes = useStyles({ bgColor })\n\n\treturn (\n\t\t<Card\n\t\t\t// raised\n\t\t\tclassName={classnames(classes.root, classes.infoCard, {\n\t\t\t\t[classes.linkCard]: !!linkCard,\n\t\t\t})}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t<CardContent>\n\t\t\t\t{title && (\n\t\t\t\t\t<Typography variant='h5' noWrap>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t\t{subtitle && (\n\t\t\t\t\t<Typography component='p' noWrap>\n\t\t\t\t\t\t{subtitle}{' '}\n\t\t\t\t\t\t{explain && (\n\t\t\t\t\t\t\t<ArrowTooltip\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t<Typography component='p' variant='caption'>\n\t\t\t\t\t\t\t\t\t\t{explain}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InfoIcon style={{ fontSize: 12 }}></InfoIcon>\n\t\t\t\t\t\t\t</ArrowTooltip>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t\t{children}\n\t\t\t</CardContent>\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\n\t\t</Card>\n\t)\n}\n\nStatsCard.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tlinkCard: PropTypes.bool,\n}\n\nexport default StatsCard\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\tinfoStatsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\tjustifyContent: 'stretch',\n\t\t\theight: '100%',\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: spacing,\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tdashboardCardBody: {\n\t\t\tmargin: spacing,\n\t\t\tpadding: spacing,\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\n\t\t},\n\t}\n}\n","import Helper from 'helpers/miscHelpers'\nimport { defaults } from 'react-chartjs-2'\nimport merge from 'lodash.merge'\n\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\n// Eddie colors\nexport const CHARTS_COLORS = [\n\t'#00BAFF',\n\t'#7EDBFF',\n\t'#FF9FA8',\n\t'#14DC9C',\n\t'#61FFB2',\n\t'#ABFFE5',\n]\n\nexport let CHARTS_COMMON_OPTIONS = {\n\tresponsive: true,\n\ttooltips: {\n\t\tmode: 'label',\n\t\tcornerRadius: 2,\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\n\t},\n}\n\nexport const hexColorsToRgbaArray = (colors, alpha) => {\n\treturn colors.map(color => {\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\n\t})\n}\n\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Line, Chart } from 'react-chartjs-2'\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\nimport Helper from 'helpers/miscHelpers'\nimport { selectStatsChartData, selectMainToken } from 'selectors'\n\nconst commonDsProps = {\n\tfill: false,\n\tlineTension: 0.3,\n\tborderWidth: 0,\n\tpointRadius: 3,\n\tpointHitRadius: 10,\n}\n\nexport const SimpleStatistics = ({\n\tside,\n\ttimeframe = '',\n\teventType,\n\toptions = {},\n\tt,\n\txLabel = 'TIMEFRAME',\n\ty1Label = 'DATA1',\n\ty2Label = 'DATA2',\n\ty1Color = CHARTS_COLORS[1],\n\ty2Color = CHARTS_COLORS[2],\n}) => {\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst payouts = useSelector(state =>\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType,\n\t\t\tmetric: 'eventPayouts',\n\t\t\tnoLastOne: true,\n\t\t})\n\t)\n\n\tconst counts = useSelector(state =>\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType,\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: true,\n\t\t})\n\t)\n\n\t// Vertical line / crosshair\n\tuseEffect(() => {\n\t\tChart.pluginService.register({\n\t\t\tafterDraw: function(chart) {\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\n\t\t\t\t\tconst ctx = chart.ctx\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\n\t\t\t\t\tconst topY = chart.scales['y-axis-1'].top\n\t\t\t\t\tconst bottomY = chart.scales['y-axis-1'].bottom\n\t\t\t\t\tctx.save()\n\t\t\t\t\tctx.beginPath()\n\t\t\t\t\tctx.moveTo(x, topY)\n\t\t\t\t\tctx.lineTo(x, bottomY)\n\t\t\t\t\tctx.lineWidth = 1 // line width\n\t\t\t\t\tctx.setLineDash([1, 5])\n\t\t\t\t\tctx.strokeStyle = '#C0C0C0' // color of the vertical line\n\t\t\t\t\tctx.stroke()\n\t\t\t\t\tctx.restore()\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t})\n\n\tconst chartData = {\n\t\tlabels: payouts.labels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 0.5),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\n\t\t\t\tlabel: y1Label,\n\t\t\t\tdata: payouts.datasets,\n\t\t\t\tyAxisID: 'y-axis-1',\n\t\t\t\tpointBackgroundColor: 'transparent',\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 0.5),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\n\t\t\t\tlabel: y2Label,\n\t\t\t\tdata: counts.datasets,\n\t\t\t\tyAxisID: 'y-axis-2',\n\t\t\t},\n\t\t],\n\t}\n\n\tconst linesOptions = {\n\t\tresponsive: true,\n\t\t// This and fixed height are used for proper mobile display of the chart\n\t\tmaintainAspectRatio: false,\n\t\ttitle: {\n\t\t\tdisplay: true,\n\t\t\ttext: options.title,\n\t\t},\n\t\ttooltips: {\n\t\t\tbackgroundColor: 'black',\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t\tcallbacks: {\n\t\t\t\tlabel: function(t, d) {\n\t\t\t\t\t// This adds currency MainToken (DAI) to y1Label in the tooltips\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\n\t\t\t\t\tvar yLabel = xLabel === y1Label ? `${t.yLabel} ${symbol}` : t.yLabel\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\thover: {\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t},\n\t\tscales: {\n\t\t\txAxes: [\n\t\t\t\t{\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y1Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-1',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tposition: 'right',\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y2Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-2',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tprecision: 0,\n\t\t\t\t\t},\n\t\t\t\t\t// grid line settings\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t}\n\n\treturn <Line height={500} data={chartData} options={linesOptions} />\n}\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\nimport lime from '@material-ui/core/colors/lime'\nimport deepOrange from '@material-ui/core/colors/deepOrange'\nimport amber from '@material-ui/core/colors/amber'\nimport grey from '@material-ui/core/colors/grey'\n\nconst WHITE = '#fff'\nexport const PRIMARY = '#1B75BC'\nexport const SECONDARY = '#FFAC00'\nexport const ALEX_GREY = '#3f3e3e'\nexport const ACCENT_ONE = '#57467B'\nexport const ACCENT_TWO = '#7CB4B8'\n\nconst palette = {\n\tprimary: { main: PRIMARY, contrastText: WHITE },\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\n\taccentOne: { main: ACCENT_ONE, contrastText: WHITE },\n\taccentTwo: { main: ACCENT_TWO, contrastText: WHITE },\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\n\terror: deepOrange,\n\twarning: amber,\n\tfirst: lime,\n\tcontrastThreshold: 3,\n\ttonalOffset: 0.2,\n\ttext: grey,\n}\n\nconst theme = createMuiTheme({\n\ttypography: {\n\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n\t\tfontSize: 13,\n\t},\n\tpalette: { ...palette },\n\toverrides: {\n\t\tMuiButton: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTableCell: {\n\t\t\thead: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t\troot: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t},\n\t\tMuiPaper: {\n\t\t\trounded: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTooltip: {\n\t\t\ttooltip: { borderRadius: 0 },\n\t\t},\n\t\t// MuiStepIcon: {\n\t\t//     root: {\n\t\t//         color: 'yellow',\n\t\t//         '&$active': {\n\t\t//             color: 'orange'\n\t\t//         }\n\t\t//     },\n\t\t//     active: {\n\t\t//         color: 'yellow'\n\t\t//     }\n\t\t// }\n\t},\n})\n\nexport const themeMUI = responsiveFontSizes(theme, {\n\toptions: ['xs', 'sm', 'md', 'lg', 'xl'],\n\tfactor: 3,\n})\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { execute, updateAnalyticsTimeframe } from 'actions'\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\nimport Dropdown from 'components/common/dropdown'\nimport Grid from '@material-ui/core/Grid'\nimport { translate } from 'services/translations/translations'\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\nimport StatsCard from './StatsCard'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { PRIMARY, ACCENT_ONE, ACCENT_TWO } from 'components/App/themeMUi'\nimport { styles } from './styles'\nimport { formatNumberWithCommas } from 'helpers/formatters'\nimport {\n\tt,\n\tselectTotalImpressions,\n\tselectTotalMoney,\n\tselectAverageCPM,\n\tselectMainToken,\n\tselectAnalytics,\n} from 'selectors'\n\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\n\tconst translated = { ...tf }\n\ttranslated.label = translate(tf.label)\n\treturn translated\n})\n\nconst metrics = {\n\tpublisher: [\n\t\t{\n\t\t\tlabel: translate('LABEL_REVENUE'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_TWO,\n\t\t},\n\t\t{\n\t\t\tlabel: translate('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t],\n\tadvertiser: [\n\t\t{\n\t\t\tlabel: translate('LABEL_SPEND'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_ONE,\n\t\t},\n\t\t{\n\t\t\tlabel: translate('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t],\n}\n\nconst timeHints = {\n\thour: 'SHOWING_LAST_HOUR',\n\tday: 'SHOWING_LAST_24_HOURS',\n\tweek: 'SHOWING_LAST_7_DAYS',\n}\n\nexport function BasicStats({ side }) {\n\tconst useStyles = makeStyles(styles)\n\tconst classes = useStyles()\n\tconst { symbol } = useSelector(selectMainToken)\n\n\tconst timeframe = useSelector(selectAnalytics).timeframe || ''\n\tconst totalImpressions = useSelector(state =>\n\t\tselectTotalImpressions(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalMoney = useSelector(state =>\n\t\tselectTotalMoney(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst averageCPM = useSelector(state =>\n\t\tselectAverageCPM(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst loadingImpressions = totalImpressions === null\n\tconst loadingMoney = totalMoney === null\n\tconst loadingCPM = averageCPM === null\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<div className={classes.infoStatsContainer}>\n\t\t\t\t\t<StatsCard>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\n\t\t\t\t\t\t\thelperText={t(timeHints[timeframe])}\n\t\t\t\t\t\t\tonChange={val => execute(updateAnalyticsTimeframe(val))}\n\t\t\t\t\t\t\tsource={timeFrames}\n\t\t\t\t\t\t\tvalue={timeframe}\n\t\t\t\t\t\t\thtmlId='timeframe-select'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</StatsCard>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='primary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t\tloading={loadingImpressions}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentOne'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={loadingMoney}\n\t\t\t\t\t\t></StatsCard>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{side === 'publisher' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentTwo'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={loadingMoney}\n\t\t\t\t\t\t></StatsCard>\n\t\t\t\t\t)}\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='grey'\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\n\t\t\t\t\t\tloading={loadingCPM}\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\n\t\t\t\t\t\t)} ${symbol} / CPM`}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<SimpleStatistics\n\t\t\t\t\tside={side}\n\t\t\t\t\ttimeframe={timeframe}\n\t\t\t\t\toptions={{\n\t\t\t\t\t\ttitle: t(timeFrames.find(a => a.value === timeframe).label),\n\t\t\t\t\t}}\n\t\t\t\t\ty1Label={metrics[side][0].label}\n\t\t\t\t\ty1Color={metrics[side][0].color}\n\t\t\t\t\ty2Label={metrics[side][1].label}\n\t\t\t\t\ty2Color={metrics[side][1].color}\n\t\t\t\t\teventType={'IMPRESSION'}\n\t\t\t\t\tt={t}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { execute, updateNav } from 'actions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport classnames from 'classnames'\nimport SideSelect from 'components/signin/side-select/SideSelect'\nimport StatsCard from './StatsCard'\nimport { styles } from './styles'\nimport Grid from '@material-ui/core/Grid'\nimport { BasicStats } from './BasicStats'\nimport { push } from 'connected-react-router'\nimport {\n\tt,\n\tselectSide,\n\tselectAccountStatsFormatted,\n\tselectMainToken,\n} from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nexport function DashboardStats(props) {\n\tconst side = useSelector(selectSide)\n\tconst classes = useStyles()\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst {\n\t\tavailableIdentityBalanceMainToken,\n\t\toutstandingBalanceMainToken,\n\t} = useSelector(selectAccountStatsFormatted)\n\n\tuseEffect(() => {\n\t\texecute(updateNav('navTitle', t('DASHBOARD')))\n\t}, [])\n\n\tconst goToAccount = () => {\n\t\texecute(push('/dashboard/' + side + '/account'))\n\t}\n\n\tconst InfoStats = () => {\n\t\treturn (\n\t\t\t<div className={classes.infoStatsContainer}>\n\t\t\t\t<StatsCard\n\t\t\t\t\tlinkCard\n\t\t\t\t\tonClick={goToAccount}\n\t\t\t\t\tsubtitle={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO', {\n\t\t\t\t\t\targs: [outstandingBalanceMainToken || 0, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tloading={\n\t\t\t\t\t\t(!outstandingBalanceMainToken &&\n\t\t\t\t\t\t\toutstandingBalanceMainToken !== 0) ||\n\t\t\t\t\t\t(!availableIdentityBalanceMainToken &&\n\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0)\n\t\t\t\t\t}\n\t\t\t\t\ttitle={`${availableIdentityBalanceMainToken || 0} ${symbol}`}\n\t\t\t\t></StatsCard>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? (\n\t\t<SideSelect active={true} />\n\t) : (\n\t\t<div>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item md={12} lg={12} xs={12}>\n\t\t\t\t\t<Card className={classnames(classes.dashboardCardBody)}>\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<BasicStats side={side} />\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item md={12} lg={6}>\n\t\t\t\t\t<InfoStats />\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default DashboardStats\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { AdUnit } from 'adex-models'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport Translate from 'components/translate/Translate'\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\n\nexport class Unit extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tcloseDialog: false,\n\t\t}\n\t}\n\t// shouldComponentUpdate(nextProps, nextState) {\n\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\n\t//     return diffProps || diffState\n\t// }\n\trender() {\n\t\tconst { item, t, ...rest } = this.props\n\n\t\tif (!item) return <h1>Unit '404'</h1>\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<BasicProps\n\t\t\t\t\titem={item}\n\t\t\t\t\tt={t}\n\t\t\t\t\turl={item.adUrl}\n\t\t\t\t\trightComponent={\n\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\ttargets={item.targeting}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tsubHeader={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nUnit.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\treturn {\n\t\tobjModel: AdUnit,\n\t\titemType: 'AdUnit',\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst UnitItem = ItemHoc(Unit)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(UnitItem))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdSlot } from 'adex-models'\nimport copy from 'copy-to-clipboard'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\nimport Paper from '@material-ui/core/Paper'\nimport IconButton from '@material-ui/core/IconButton'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport AppBar from '@material-ui/core/AppBar'\nimport url from 'url'\nimport { selectRoutineWithdrawTokensAddresses } from 'selectors'\n\nconst ADVIEW_URL = process.env.ADVIEW_URL\nconst adviewUrl = url.parse(ADVIEW_URL)\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\n\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\n\t\t\t\tif (f.contentWindow === ev.source) {\n\t\t\t\t\tf.height = ev.data.adexHeight;\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t}, false)`\n\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\n\nconst IntegrationCode = ({ t, account, slot = {}, classes, onCopy }) => {\n\tconst { id, type, tags, fallbackUnit } = slot\n\tconst identityAddr = account.identity.address\n\n\tlet sizes = type.split('_')[1].split('x')\n\tsizes = {\n\t\twidth: sizes[0],\n\t\theight: sizes[1],\n\t}\n\n\tconst options = {\n\t\tpublisherAddr: identityAddr,\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\n\t\twhitelistedType: type,\n\t\trandomize: true,\n\t\ttargeting: tags || [],\n\t\t// marketURL: ADEX_MARKET_HOST,\n\t\twidth: sizes.width,\n\t\theight: sizes.height,\n\t\tminPerImpression: '0',\n\t\tminTargetingScore: '0',\n\t\tfallbackUnit,\n\t\tmarketSlot: id,\n\t}\n\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\n\n\tlet src = ADVIEW_URL + query\n\n\tlet iframeStr =\n\t\t`<iframe\\n` +\n\t\t`\tsrc=\"${src}\"\\n` +\n\t\t`\twidth=\"${sizes.width}\"\\n` +\n\t\t`\theight=\"${sizes.height}\"\\n` +\n\t\t`\tscrolling=\"no\"\\n` +\n\t\t`\tframeborder=\"0\"\\n` +\n\t\t`\tstyle=\"border: 0;\"\\n` +\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\n\t\t`></iframe>`\n\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.integrationLabel}>\n\t\t\t\t{t('INTEGRATION_CODE')}\n\t\t\t\t<IconButton\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcopy(iframeStr)\n\t\t\t\t\t\tonCopy && onCopy()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CopyIcon />\n\t\t\t\t</IconButton>\n\t\t\t</div>\n\t\t\t<Paper>\n\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\n\t\t\t</Paper>\n\t\t\t{process.env.NODE_ENV !== 'production' && (\n\t\t\t\t<div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport class Slot extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\teditFallbackImg: false,\n\t\t\ttabIndex: 0,\n\t\t}\n\t\tthis.tabsFocus = React.createRef()\n\t}\n\n\thandleFallbackImgUpdateToggle = () => {\n\t\tconst active = this.state.editFallbackImg\n\t\tthis.setState({ editFallbackImg: !active })\n\t}\n\n\thandleTabChange = (event, index) => {\n\t\tthis.setState({ tabIndex: index }, () => {\n\t\t\tif (this.tabsFocus.current) {\n\t\t\t\tthis.tabsFocus.current.scrollIntoView({\n\t\t\t\t\tbehavior: 'smooth',\n\t\t\t\t\tblock: 'start',\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { t, classes, isDemo, item, account, itemType, ...rest } = this.props\n\t\tconst { tabIndex } = this.state\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<BasicProps\n\t\t\t\t\titem={item}\n\t\t\t\t\titemType={itemType}\n\t\t\t\t\tt={t}\n\t\t\t\t\turl={item.adUrl}\n\t\t\t\t\tcanEditImg={!isDemo}\n\t\t\t\t\trightComponent={null}\n\t\t\t\t\t{...rest}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<AppBar position='static' color='default'>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={this.handleTabChange.bind(this)}\n\t\t\t\t\t\t\tref={this.tabsFocus}\n\t\t\t\t\t\t\tscrollable\n\t\t\t\t\t\t\tscrollButtons='off'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label={t('STATISTICS')} />\n\t\t\t\t\t\t\t<Tab label={t('INTEGRATION')} />\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t{tabIndex === 0 && null}\n\t\t\t\t\t\t{tabIndex === 1 && (\n\t\t\t\t\t\t\t<IntegrationCode\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\taccount={account}\n\t\t\t\t\t\t\t\tslot={item}\n\t\t\t\t\t\t\t\tonCopy={() =>\n\t\t\t\t\t\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSlot.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\t// let memory = state.memory\n\treturn {\n\t\taccount: persist.account,\n\t\tobjModel: AdSlot,\n\t\titemType: 'AdSlot',\n\t\t// NOTE: maybe not the best way but pass props to the HOC here\n\t\tupdateImgInfoLabel: 'SLOT_AVATAR_IMG_INFO',\n\t\tupdateImgLabel: 'SLOT_AVATAR_IMG_LABEL',\n\t\tupdateImgErrMsg: 'ERR_IMG_SIZE_MAX',\n\t\tupdateImgExact: true,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst SlotItem = ItemHoc(withStyles(styles)(Slot))\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SlotItem)\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tintegrationLabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tintegrationCode: {\n\t\t\twhiteSpace: 'pre-wrap',\n\t\t\twordBreak: 'break-word',\n\t\t\tpadding: spacing,\n\t\t\tmargin: 0,\n\t\t\talignSelf: 'flex-start',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport EnhancedTable from 'components/dashboard/containers/Tables/EnhancedTable'\nimport Translate from 'components/translate/Translate'\n\nclass Items extends Component {\n\tcomponentWillMount() {\n\t\tthis.props.actions.updateNav('navTitle', this.props.header)\n\t}\n\n\trender() {\n\t\tconst { itemType } = this.props\n\t\tconst items = Object.values(this.props.items || {}) || []\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<EnhancedTable itemType={itemType} items={items} />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nItems.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\titems: PropTypes.object.isRequired,\n\theader: PropTypes.string.isRequired,\n\titemType: PropTypes.string.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\tconst { persist, memory } = state\n\treturn {\n\t\titems: persist.items[props.itemType] || [],\n\t\tside: memory.nav.side,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(Items))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport Helper from 'helpers/miscHelpers'\n// import { exchange as ExchangeConstants } from 'adex-constants'\n\n// const { TX_STATUS } = ExchangeConstants\n\nexport default function NewTransactionHoc(Decorated) {\n\t// TODO: make it common for bids and items\n\tclass TransactionHoc extends Component {\n\t\tcomponentWillMount() {\n\t\t\t// console.log('TransactionHoc')\n\t\t}\n\n\t\thandleChange = (name, value) => {\n\t\t\tconst { actions, txId } = this.props\n\t\t\tactions.updateNewTransaction({ tx: txId, key: name, value: value })\n\t\t}\n\n\t\t// addTx = (tx) => {\n\t\t//     let txData = { ...tx }\n\t\t//     txData.status = TX_STATUS.Pending.id\n\t\t//     txData.sendingTime = Date.now()\n\t\t//     this.props.actions.addWeb3Transaction({ trans: txData, addr: this.props.account._addr })\n\t\t// }\n\n\t\tonSave = (err, tx, manyTxs) => {\n\t\t\tconst { closeDialog } = this.props\n\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\n\t\t\tthis.resetTransaction()\n\t\t}\n\n\t\tresetTransaction = () => {\n\t\t\tconst { actions, txId } = this.props\n\t\t\tactions.resetNewTransaction({ tx: txId })\n\t\t}\n\n\t\thandleSaveRes = ({ err, res }) => {\n\t\t\tconst { t, actions } = this.props\n\t\t\t// const areManyTxs = Array.isArray(res)\n\n\t\t\tif (err) {\n\t\t\t\tactions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.onSave(err, res, Array.isArray(res))\n\t\t}\n\n\t\tsave = () => {\n\t\t\tthis.handleChange('waitingForWalletAction', true)\n\t\t\tthis.props\n\t\t\t\t.saveFn({\n\t\t\t\t\tacc: this.props.account,\n\t\t\t\t\ttransaction: this.props.transaction,\n\t\t\t\t})\n\t\t\t\t.then((res = {}) => {\n\t\t\t\t\tconsole.log('res on save', res)\n\n\t\t\t\t\tconst txs = res.txResults || res\n\t\t\t\t\tconst err = res.err || null\n\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: txs })\n\t\t\t\t})\n\t\t\t\t.catch((error = {}) => {\n\t\t\t\t\tconsole.log('err on save', error)\n\t\t\t\t\tconst res = error.txResults || null\n\t\t\t\t\tconst err = error.err || error\n\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: res })\n\t\t\t\t})\n\t\t}\n\n\t\tcancel = () => {\n\t\t\t// TODO: take a look at onSave if change something\n\t\t\tthis.onSave(null, null)\n\t\t}\n\n\t\trender() {\n\t\t\tlet transaction = this.props.transaction || {}\n\t\t\tlet props = this.props\n\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...props}\n\t\t\t\t\ttransaction={transaction}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tresetTransaction={this.resetTransaction}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tTransactionHoc.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tlabel: PropTypes.string,\n\t\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t\t.isRequired,\n\t\ttransaction: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\tsaveFn: PropTypes.func,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\t\tconst txId = props.stepsId\n\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\ttransaction: memory.newTransactions[txId] || {},\n\t\t\ttxId: txId,\n\t\t\tspinner: memory.spinners[txId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(TransactionHoc))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport { validateNumber } from 'helpers/validators'\nimport { InputLoading } from 'components/common/spinners/'\n\nclass WithdrawFromIdentity extends Component {\n\tcomponentDidMount() {\n\t\tconst { validate, transaction } = this.props\n\t\t// If nothing entered will validate\n\t\tif (!transaction.withdrawAmount) {\n\t\t\tvalidate('withdrawAmount', {\n\t\t\t\tisValid: true,\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t\tif (!transaction.withdrawTo) {\n\t\t\tvalidate('withdrawTo', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\tvalidateAmount = (numStr, dirty) => {\n\t\tconst { token, identityAvailable } = this.props\n\t\tlet isValid = validateNumber(numStr)\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\n\t\tlet errMsgArgs = []\n\t\tlet amount = parseFloat(numStr)\n\t\tif (isValid && amount > parseFloat(identityAvailable)) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\n\t\t\terrMsgArgs = [identityAvailable, token]\n\t\t}\n\n\t\tthis.props.validate('withdrawAmount', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: msg, args: errMsgArgs },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactions,\n\t\t\tvalidate,\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\tidentityAvailable,\n\t\t\thandleChange,\n\t\t\twithdrawToSpinner,\n\t\t\ttoken,\n\t\t} = this.props\n\t\tconst { withdrawTo, withdrawAmount } = transaction || {}\n\t\tconst errAmount = invalidFields['withdrawAmount']\n\t\tconst errAddr = invalidFields['withdrawTo']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t{' '}\n\t\t\t\t\t{t('EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY', {\n\t\t\t\t\t\targs: [identityAvailable, token],\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={withdrawToSpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\n\t\t\t\t\tname='withdrawAmount'\n\t\t\t\t\tvalue={withdrawAmount || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawAmount', ev.target.value)}\n\t\t\t\t\tonBlur={() => this.validateAmount(withdrawAmount, true)}\n\t\t\t\t\tonFocus={() => this.validateAmount(withdrawAmount, false)}\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleChange('withdrawAmount', identityAvailable)\n\t\t\t\t\t\t\t\t\tthis.validateAmount(identityAvailable, true)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\t\targs: [identityAvailable, token],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nWithdrawFromIdentity.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst WithdrawFromIdentityForm = NewTransactionHoc(WithdrawFromIdentity)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(WithdrawFromIdentityForm)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport { validateNumber } from 'helpers/validators'\nimport { InputLoading } from 'components/common/spinners/'\n\nclass WithdrawAnyTokenFromIdentity extends Component {\n\tcomponentDidMount() {\n\t\tconst { validate, transaction } = this.props\n\t\t// If nothing entered will validate\n\t\tif (!transaction.withdrawAmount) {\n\t\t\tvalidate('withdrawAmount', {\n\t\t\t\tisValid: true,\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t\tif (!transaction.withdrawTo) {\n\t\t\tvalidate('withdrawTo', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\tvalidateAmount = (numStr, dirty) => {\n\t\tconst { token, identityAvailable } = this.props\n\t\tlet isValid = validateNumber(numStr)\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\n\t\tlet errMsgArgs = []\n\t\tlet amount = parseFloat(numStr)\n\t\tif (isValid && amount > parseFloat(identityAvailable)) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\n\t\t\terrMsgArgs = [identityAvailable, token]\n\t\t}\n\n\t\tthis.props.validate('withdrawAmount', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: msg, args: errMsgArgs },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactions,\n\t\t\tvalidate,\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t\twithdrawToSpinner,\n\t\t\tbalanceAnySpinner,\n\t\t} = this.props\n\t\tconst { withdrawTo, withdrawAmount, tokenAddress, tokenBalance } =\n\t\t\ttransaction || {}\n\t\tconst errAmount = invalidFields['withdrawAmount']\n\t\tconst errAddr = invalidFields['withdrawTo']\n\t\tconst errToken = invalidFields['tokenAddress']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t{' '}\n\t\t\t\t\t{t('TOKENS_BALANCE_AVAILABLE_ON_IDENTITY')} {tokenBalance}{' '}\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={balanceAnySpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\n\t\t\t\t\tname='tokenAddress'\n\t\t\t\t\tvalue={tokenAddress || ''}\n\t\t\t\t\tonChange={ev => handleChange('tokenAddress', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: tokenAddress,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'tokenAddress',\n\t\t\t\t\t\t\tsetBalance: bal => handleChange('tokenBalance', bal),\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: tokenAddress,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'tokenAddress',\n\t\t\t\t\t\t\tsetBalance: bal => handleChange('tokenBalance', bal),\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errToken && !!errToken.dirty}\n\t\t\t\t\thelperText={errToken && !!errToken.dirty ? errToken.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{balanceAnySpinner ? <InputLoading /> : null}\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={withdrawToSpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\n\t\t\t\t\tname='withdrawAmount'\n\t\t\t\t\tvalue={withdrawAmount || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawAmount', ev.target.value)}\n\t\t\t\t\tonBlur={() => this.validateAmount(withdrawAmount, true)}\n\t\t\t\t\tonFocus={() => this.validateAmount(withdrawAmount, false)}\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\terrAmount && !!errAmount.dirty\n\t\t\t\t\t\t\t? errAmount.errMsg\n\t\t\t\t\t\t\t: t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\t\targs: [tokenBalance],\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nWithdrawAnyTokenFromIdentity.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\n\t\tbalanceAnySpinner: memory.spinners['tokenAddress'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst WithdrawAnyTokenFromIdentityForm = NewTransactionHoc(\n\tWithdrawAnyTokenFromIdentity\n)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(WithdrawAnyTokenFromIdentityForm)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport { constants } from 'adex-models'\nimport { InputLoading } from 'components/common/spinners/'\n\nconst { IdentityPrivilegeLevel } = constants\n\nconst PRIV_LEVELS_SRC = Object.keys(IdentityPrivilegeLevel).map(key => {\n\treturn {\n\t\tvalue: IdentityPrivilegeLevel[key],\n\t\tlabel: key,\n\t}\n})\n\nclass SeAddressPrivilege extends Component {\n\tcomponentDidMount() {\n\t\tconst { transaction, validate } = this.props\n\t\tif (!transaction.withdrawAmount) {\n\t\t\tvalidate('setAddr', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactions,\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\tidentityAvailable,\n\t\t\thandleChange,\n\t\t\tsetAddrSpinner,\n\t\t\tvalidate,\n\t\t} = this.props\n\t\tconst { setAddr, privLevel } = transaction || {}\n\t\t// const errAmount = invalidFields['withdrawAmount']\n\t\tconst errAddr = invalidFields['setAddr']\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t{' '}\n\t\t\t\t\t{t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')} {identityAvailable}{' '}\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\n\t\t\t\t\tname='setAddr'\n\t\t\t\t\tvalue={setAddr || ''}\n\t\t\t\t\tonChange={ev => handleChange('setAddr', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: setAddr,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'setAddr',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: setAddr,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'setAddr',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{setAddrSpinner ? <InputLoading /> : null}\n\t\t\t\t<Dropdown\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\n\t\t\t\t\thelperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\n\t\t\t\t\tonChange={val => handleChange('privLevel', val)}\n\t\t\t\t\tsource={PRIV_LEVELS_SRC}\n\t\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\n\t\t\t\t\thtmlId='label-privLevel'\n\t\t\t\t\tfullWidth\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSeAddressPrivilege.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\tsetAddrSpinner: memory.spinners['setAddr'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst SeAddressPrivilegeForm = NewTransactionHoc(SeAddressPrivilege)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SeAddressPrivilegeForm)\n","import React from 'react'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { PropRow } from 'components/common/dialog/content'\nimport { constants } from 'adex-models'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nexport const IdentityWithdrawPreview = ({\n\tt,\n\twithdrawTo,\n\tclasses,\n\tfeesData,\n\twithdrawAmount,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='withdrawAmount'\n\t\t\tleft={t('withdrawAmount', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${withdrawAmount} ${symbol}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const SetPrivilegePreview = ({\n\tt,\n\tsetAddr,\n\tclasses,\n\tfeesData,\n\tprivLevel,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='setAddr'\n\t\t\tleft={t('setAddr', { isProp: true })}\n\t\t\tright={(setAddr || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='privLevel'\n\t\t\tleft={t('privLevel', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [feesData.fees, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={privilegesNames[privLevel]}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const IdentityWithdrawAnyPreview = ({\n\tt,\n\twithdrawTo,\n\ttokenAddress,\n\tclasses,\n\tfeesData,\n\twithdrawAmount,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='tokenAddress'\n\t\t\tleft={t('tokenAddress', { isProp: true })}\n\t\t\tright={(tokenAddress || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='withdrawAmount'\n\t\t\tleft={t('withdrawAmount', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={withdrawAmount + ' '}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport PropTypes from 'prop-types'\nimport NewTransactionHoc from './TransactionHoc'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { styles } from './styles'\nimport {\n\tIdentityWithdrawPreview,\n\tSetPrivilegePreview,\n\tIdentityWithdrawAnyPreview,\n} from './previews'\nimport {\n\tselectMainToken,\n\tt,\n\tselectSpinnerById,\n\tselectAccount,\n\tselectNewTransactionById,\n} from 'selectors'\nimport { execute, updateSpinner } from 'actions'\n\nconst useStyles = makeStyles(styles)\n\nfunction TransactionPreview(props) {\n\tconst classes = useStyles()\n\tconst {\n\t\tgetFeesFn,\n\t\thandleChange,\n\t\tidentityAvailable,\n\t\tpreviewWarnMsgs,\n\t\tstepsId,\n\t} = props\n\n\tconst txId = stepsId\n\tconst account = useSelector(selectAccount)\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst transaction = useSelector(state =>\n\t\tselectNewTransactionById(state, txId)\n\t)\n\tconst spinner = useSelector(state => selectSpinnerById(state, txId))\n\n\tuseEffect(() => {\n\t\tif (getFeesFn && Object.keys(transaction).length) {\n\t\t\texecute(updateSpinner(txId, true))\n\t\t\tgetFeesFn({ account, transaction })\n\t\t\t\t.then(feesData => {\n\t\t\t\t\thandleChange('feesData', feesData)\n\t\t\t\t\t// if (feesData.toGet) {\n\t\t\t\t\t// \thandleChange('withdrawAmount', feesData.toGet)\n\t\t\t\t\t// }\n\t\t\t\t\texecute(updateSpinner(txId, false))\n\n\t\t\t\t\tif (parseFloat(feesData.fees || 0) > parseFloat(identityAvailable)) {\n\t\t\t\t\t\thandleChange('errors', [\n\t\t\t\t\t\t\tt('INSUFFICIENT_BALANCE_FOR_FEES', {\n\t\t\t\t\t\t\t\targs: [identityAvailable, symbol, feesData.fees, symbol],\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t])\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error(err)\n\t\t\t\t\texecute(updateSpinner(txId, false))\n\t\t\t\t\thandleChange('errors', [Helper.getErrMsg(err)])\n\t\t\t\t})\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst {\n\t\twithdrawTo,\n\t\twithdrawAmount,\n\t\tsetAddr,\n\t\tprivLevel,\n\t\ttokenAddress,\n\t\tfeesData = {},\n\t\terrors = [],\n\t} = transaction\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<ContentBox>\n\t\t\t\t\t{transaction.waitingForWalletAction ? (\n\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\n\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{errors.length\n\t\t\t\t\t\t\t? errors.map((err, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\t\tright={err}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{previewWarnMsgs\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\twithdrawAmount={withdrawAmount}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\n\t\t\t\t\t\t\t<SetPrivilegePreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\twithdrawAmount={withdrawAmount}\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</ContentBox>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nTransactionPreview.propTypes = {\n\tlabel: PropTypes.string,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tpreviewMsgs: PropTypes.array,\n}\n\nconst TransactionPreviewForm = NewTransactionHoc(TransactionPreview)\nexport default TransactionPreviewForm\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\twarning: {\n\t\t\tcolor: theme.palette.warning.A700,\n\t\t},\n\t\tcentralSpinner: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 20px)',\n\t\t\ttop: ' calc(50% - 20px)',\n\t\t},\n\t\timgPreview: {\n\t\t\theight: 120,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t}\n}\n","import React from 'react'\nimport WithdrawFromExchangePage from './WithdrawFromIdentity'\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\nimport SeAddressPrivilege from './SeAddressPrivilege'\nimport TransactionPreview from './TransactionPreview'\nimport Button from '@material-ui/core/Button'\nimport TransactionHoc from './TransactionHoc'\nimport FormSteps from 'components/dashboard/forms/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\n// import SaveIcon from '@material-ui/icons/Save'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\nimport {\n\twithdrawFromIdentity,\n\tsetIdentityPrivilege,\n} from 'services/smart-contracts/actions/identity'\nimport { addrIdentityPrivilege, identityWithdraw, execute } from 'actions'\n\nconst FormStepsWithDialog = WithDialog(FormSteps)\n\nconst SaveBtn = ({\n\tsave,\n\tsaveBtnLabel,\n\tsaveBtnIcon,\n\tt,\n\ttransaction,\n\twaitingForWalletAction,\n\tspinner,\n\t...other\n}) => {\n\treturn (\n\t\t<Button\n\t\t\tcolor='primary'\n\t\t\tonClick={save}\n\t\t\tdisabled={\n\t\t\t\t(!!transaction.errors && !!transaction.errors.length) ||\n\t\t\t\t!!transaction.waitingForWalletAction ||\n\t\t\t\t!!spinner\n\t\t\t}\n\t\t>\n\t\t\t{transaction.waitingForWalletAction ? (\n\t\t\t\t<HourglassEmptyIcon />\n\t\t\t) : (\n\t\t\t\tsaveBtnIcon || ''\n\t\t\t)}\n\t\t\t{t(saveBtnLabel || 'DO_IT')}\n\t\t</Button>\n\t)\n}\n\nconst CancelBtn = ({ cancel, cancelBtnLabel, t, ...other }) => {\n\treturn <Button onClick={cancel}>{t(cancelBtnLabel || 'CANCEL')}</Button>\n}\n\nconst SaveBtnWithTransaction = TransactionHoc(SaveBtn)\nconst CancelBtnWithTransaction = TransactionHoc(CancelBtn)\n\nconst txCommon = {\n\tSaveBtn: SaveBtnWithTransaction,\n\tCancelBtn: CancelBtnWithTransaction,\n\tvalidateIdBase: 'tx-',\n\tdarkerBackground: true,\n}\n\nexport const WithdrawTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawFromIdentity'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tpage: WithdrawFromExchangePage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction, account } = {}) => {\n\t\t\treturn execute(\n\t\t\t\tidentityWithdraw({\n\t\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\t\taccount,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ transaction, account } = {}) => {\n\t\t\treturn withdrawFromIdentity({\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const SetIdentityPrivilege = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'\n\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\n\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\n\t\tstepsId='setIdentityPrivilege'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\n\t\t\t\tpage: SeAddressPrivilege,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(\n\t\t\t\taddrIdentityPrivilege({\n\t\t\t\t\tprivLevel: transaction.privLevel,\n\t\t\t\t\tsetAddr: transaction.setAddr,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ transaction, account } = {}) => {\n\t\t\treturn setIdentityPrivilege({\n\t\t\t\tprivLevel: transaction.privLevel,\n\t\t\t\tsetAddr: transaction.setAddr,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const WithdrawAnyTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawAnyFromIdentity'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tpage: WithdrawAnyTokenFromIdentityPage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(\n\t\t\t\tidentityWithdraw({\n\t\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\t\ttokenAddress: transaction.tokenAddress,\n\t\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\t\ttokenDecimals: transaction.tokenDecimals,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ transaction, account } = {}) => {\n\t\t\treturn withdrawFromIdentity({\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\ttokenAddress: transaction.tokenAddress,\n\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\ttokenDecimals: transaction.tokenDecimals,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tactionBtn: {\n\t\t\tmargin: spacing,\n\t\t},\n\t\taddress: {\n\t\t\twordWrap: 'break-word',\n\t\t\twordBreak: 'break-all',\n\t\t},\n\t\tadvancedList: {\n\t\t\twidth: '100%',\n\t\t},\n\t\ticonBtnLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t}\n}\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { updateNav, addToast, execute } from 'actions'\nimport copy from 'copy-to-clipboard'\nimport {\n\tWithdrawTokenFromIdentity,\n\t// WithdrawAnyTokenFromIdentity,\n\tSetIdentityPrivilege,\n} from 'components/dashboard/forms/web3/transactions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport DownloadIcon from '@material-ui/icons/SaveAlt'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport Typography from '@material-ui/core/Typography'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { styles } from './styles.js'\nimport { getRecoveryWalletData } from 'services/wallet/wallet'\nimport { LoadingSection } from 'components/common/spinners'\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\nimport { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\nimport {\n\tt,\n\tselectWallet,\n\tselectAccountStatsFormatted,\n\tselectAccountIdentity,\n\tselectMainToken,\n} from 'selectors'\nimport { formatAddress } from 'helpers/formatters'\n\n// const RRButton = withReactRouterLink(Button)\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\n\nfunction AccountInfo() {\n\tconst { authType, email, password } = useSelector(selectWallet)\n\tconst identity = useSelector(selectAccountIdentity)\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst {\n\t\twalletAddress,\n\t\twalletAuthType = '',\n\t\twalletPrivileges = '',\n\t\tidentityAddress,\n\t\tidentityBalanceMainToken,\n\t\tavailableIdentityBalanceMainToken,\n\t\toutstandingBalanceMainToken,\n\t} = useSelector(selectAccountStatsFormatted)\n\n\tconst localWalletDownloadHref = async () => {\n\t\tconst obj = await getRecoveryWalletData({ email, password, authType })\n\t\tif (!obj || !obj.wallet) {\n\t\t\treturn null\n\t\t}\n\n\t\tconst data =\n\t\t\t'data:text/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(obj))\n\t\treturn data\n\t}\n\n\tconst walletJsonData = (async () => await localWalletDownloadHref())()\n\tconst [expanded, setExpanded] = useState(false)\n\tconst useStyles = makeStyles(styles)\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\texecute(updateNav('navTitle', t('ACCOUNT')))\n\t}, [])\n\n\tconst displayRampWidget = () => {\n\t\tconst widget = new RampInstantSDK({\n\t\t\thostAppName: 'AdExNetwork',\n\t\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\n\t\t\tvariant: 'auto',\n\t\t\tswapAsset: symbol,\n\t\t\tuserAddress: identity.address,\n\t\t})\n\t\twidget.domNodes.overlay.style.zIndex = 1000\n\t\twidget.show()\n\t}\n\n\tconst handleExpandChange = () => {\n\t\tsetExpanded(!expanded)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<List>\n\t\t\t\t<ListItem>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tflexGrow='3'\n\t\t\t\t\t\t\tmr={1}\n\t\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\tjustifyContent='start'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\tprimary={identityAddress}\n\t\t\t\t\t\t\t\tsecondary={\n\t\t\t\t\t\t\t\t\tauthType === 'demo'\n\t\t\t\t\t\t\t\t\t\t? t('DEMO_ACCOUNT_IDENTITY_ADDRESS')\n\t\t\t\t\t\t\t\t\t\t: t('IDENTITY_ETH_ADDR')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tcopy(identityAddress)\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CopyIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</ListItem>\n\t\t\t\t<ListDivider />\n\t\t\t\t<ListItem>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tflexGrow='3'\n\t\t\t\t\t\t\tmr={1}\n\t\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\tjustifyContent='start'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\tprimary={formatAddress(walletAddress)}\n\t\t\t\t\t\t\t\tsecondary={\n\t\t\t\t\t\t\t\t\tauthType === 'demo'\n\t\t\t\t\t\t\t\t\t\t? t('DEMO_ACCOUNT_WALLET_ADDRESS', {\n\t\t\t\t\t\t\t\t\t\t\t\targs: [walletAuthType, walletPrivileges],\n\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t\t: t('WALLET_INFO_LABEL', {\n\t\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t\twalletAuthType.replace(/^\\w/, chr => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn chr.toUpperCase()\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\twalletPrivileges || ' - ',\n\t\t\t\t\t\t\t\t\t\t\t\t\tauthType,\n\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{walletJsonData && (\n\t\t\t\t\t\t\t\t<Box py={1} flexGrow='1'>\n\t\t\t\t\t\t\t\t\t<label htmlFor='download-wallet-json'>\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\tid='download-wallet-json'\n\t\t\t\t\t\t\t\t\t\t\thref={localWalletDownloadHref()}\n\t\t\t\t\t\t\t\t\t\t\tdownload={`adex-account-data-${email}.json`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Button size='small' variant='contained' fullWidth>\n\t\t\t\t\t\t\t\t\t\t\t\t<DownloadIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t\t\t\t{t('BACKUP_LOCAL_WALLET')}\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</ListItem>\n\t\t\t\t<ListDivider />\n\t\t\t\t<ListItem>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box pr={1} flexGrow='8'>\n\t\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken ||\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}\n\t\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [outstandingBalanceMainToken || 0, symbol],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\taria-label='delete'\n\t\t\t\t\t\t\t\t\tonClick={() => displayRampWidget()}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t{t('TOP_UP_IDENTITY_GBP')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\ttoken={symbol}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</ListItem>\n\t\t\t\t<ListDivider />\n\t\t\t\t<ExpansionPanel expanded={expanded} onChange={handleExpandChange}>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\taria-controls='panel1bh-content'\n\t\t\t\t\t\tid='panel1bh-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography className={classes.heading}>\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t<ExpansionPanelDetails>\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Box pr={1} flexGrow='8'>\n\t\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\t\t\tsecondary={''}\n\t\t\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t<Box py={1} flexGrow='1'>\n\t\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_ID],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_ID],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t{/* <ListItem>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</ListItem> */}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</ExpansionPanelDetails>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</List>\n\t\t</div>\n\t)\n}\n\nexport default AccountInfo\n","import React, { useState, useEffect } from 'react'\nimport SideNav from './SideNav'\nimport TopBar from './TopBar'\nimport { Route, Switch } from 'react-router'\nimport Campaign from 'components/dashboard/containers/Campaign'\nimport DashboardStats from 'components/dashboard/containers/DashboardStats'\nimport Unit from 'components/dashboard/containers/Unit'\nimport Slot from 'components/dashboard/containers/Slot'\nimport Items from 'components/dashboard/containers/Items'\nimport Account from 'components/dashboard/account/AccountInfo'\nimport {\n\tNewUnitDialog,\n\tNewCampaignDialog,\n\tNewSlotDialog,\n} from 'components/dashboard/forms/items/NewItems'\nimport campaignsLoop from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport analyticsLoop from 'services/store-data/analytics'\nimport Drawer from '@material-ui/core/Drawer'\nimport Hidden from '@material-ui/core/Hidden'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { updateNav, getAllItems, execute } from 'actions'\nimport { t } from 'selectors'\n\nconst Campaigns = () => (\n\t<>\n\t\t<NewCampaignDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\taccent\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_CAMPAIGN'\n\t\t/>\n\t\t<Items header={t('ALL_CAMPAIGNS')} itemType={'Campaign'} />\n\t</>\n)\n\nconst AdUnits = () => (\n\t<>\n\t\t<NewUnitDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_UNIT'\n\t\t/>\n\t\t<Items header={t('ALL_UNITS')} itemType={'AdUnit'} />\n\t</>\n)\n\nconst AdSlots = () => (\n\t<>\n\t\t<NewSlotDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\taccent\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_SLOT'\n\t\t/>\n\t\t<Items header={t('ALL_SLOTS')} itemType={'AdSlot'} />\n\t</>\n)\n\nconst useStyles = makeStyles(styles)\n\nfunction Dashboard(props) {\n\tconst [mobileOpen, setMobileOpen] = useState(false)\n\n\tconst { match } = props\n\tconst { side } = match.params\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\texecute(updateNav('side', side))\n\t\texecute(getAllItems())\n\t\tanalyticsLoop.start()\n\t\tcampaignsLoop.start()\n\t\tstatsLoop.start()\n\n\t\treturn () => {\n\t\t\tcampaignsLoop.stop()\n\t\t\tstatsLoop.stop()\n\t\t}\n\t}, [side])\n\n\tuseEffect(() => {}, [match, mobileOpen])\n\tuseEffect(() => {\n\t\texecute(updateNav('side', side))\n\t}, [side])\n\n\tconst handleDrawerToggle = () => {\n\t\tsetMobileOpen(!mobileOpen)\n\t}\n\n\tconst drawer = <SideNav side={side} />\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<TopBar\n\t\t\t\tside={side}\n\t\t\t\topen={mobileOpen}\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\n\t\t\t/>\n\t\t\t<Hidden mdUp>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='temporary'\n\t\t\t\t\tanchor='left'\n\t\t\t\t\topen={mobileOpen}\n\t\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t\tModalProps={{\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\t\t\t<Hidden smDown implementation='css'>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='permanent'\n\t\t\t\t\topen\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\n\t\t\t<main className={classes.content}>\n\t\t\t\t<div className={classes.contentInner}>\n\t\t\t\t\t<div className={classes.toolbar} />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\n\t\t\t\t\t\t\tcomponent={Campaigns}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\n\t\t\t\t\t\t\tcomponent={AdUnits}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/Campaign/:itemId'\n\t\t\t\t\t\t\tcomponent={Campaign}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/AdUnit/:itemId'\n\t\t\t\t\t\t\tcomponent={Unit}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\n\t\t\t\t\t\t\tcomponent={AdSlots}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/publisher/AdSlot/:itemId'\n\t\t\t\t\t\t\tcomponent={Slot}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\n\t\t\t\t\t\t\tcomponent={Account}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* <Route\n\t\t\t\t\t\t\t\tauth={this.props.auth}\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\n\t\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t<Route exact path='/dashboard/:side' component={DashboardStats} />\n\t\t\t\t\t\t<Route component={PageNotFound} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\troot: {\n\t\t\t// flexGrow: 1,\n\t\t\theight: '100vh',\n\t\t},\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\theight: '100vh',\n\t\t\tflexGrow: '1',\n\t\t},\n\t\tactions: {\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t},\n\t\tbuttons: {\n\t\t\tbackgroundColor: theme.palette.grey[200],\n\t\t},\n\t\tadxVersion: {\n\t\t\t// position: 'absolute',\n\t\t\t// left: spacing,\n\t\t\t// bottom: spacing\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\t// marginTop: '1.5vh',\n\t\t\t// width: '17.92vh',\n\t\t\t// height: '6vh',\n\t\t\theight: '2rem',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tnoBg: {\n\t\t\tbackground: 0,\n\t\t\tboxShadow: 'none',\n\t\t\toverflow: 'visible',\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\t// position: 'relative',\n\t\t\tjustifyContent: 'center',\n\t\t\tpadding: 24,\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t// '&:first-child': {\n\t\t\t// \tpaddingTop: spacing,\n\t\t\t// },\n\t\t\t// overflow: 'visible',\n\t\t\t// maxHeight: '100vh'\n\t\t},\n\t}\n}\n","import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport Img from 'components/common/img/Img'\nimport classnames from 'classnames'\nimport { getAllWallets } from 'services/wallet/wallet'\nimport { execute, initIdentity, confirmAction } from 'actions'\nimport { selectAuth, selectAccount, selectRegistrationAllowed } from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { formatAddress } from 'helpers/formatters'\nimport { push } from 'connected-react-router'\nimport { t } from 'selectors'\n\nconst RRButton = withReactRouterLink(Button)\nconst useStyles = makeStyles(styles)\n\nconst AuthSelect = () => {\n\tconst classes = useStyles()\n\tconst [wallets, setWallets] = useState([])\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\tconst auth = useSelector(selectAuth)\n\tconst account = useSelector(selectAccount)\n\tconst { wallet } = account || {}\n\n\tuseEffect(() => {\n\t\tconst allWallets = getAllWallets()\n\t\tconst wallets = allWallets.filter(\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\n\t\t)\n\t\tsetWallets(wallets)\n\t}, [wallet])\n\n\tconst goTo = (to, confirmLogout, onConfirm) => {\n\t\tconst toExecute = () => {\n\t\t\tlogOut()\n\t\t\texecute(push(to))\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\n\t\t\t\tonConfirm()\n\t\t\t}\n\t\t}\n\t\tif (auth && confirmLogout) {\n\t\t\texecute(\n\t\t\t\tconfirmAction(toExecute, null, {\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TITLE', {\n\t\t\t\t\t\targs: [wallet.authType, wallet.address],\n\t\t\t\t\t}),\n\t\t\t\t})\n\t\t\t)\n\t\t} else {\n\t\t\ttoExecute()\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='stretch'\n\t\t\tjustifyContent='space-between'\n\t\t>\n\t\t\t<Box p={2} alignItems='center'>\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{auth && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<RRButton\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tto='/side-select'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CONTINUE_AS', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\twallet.email || formatAddress(wallet.address),\n\t\t\t\t\t\t\t\twallet.authType,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</RRButton>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t{wallets.map(w => (\n\t\t\t\t<Box key={w.name} m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t))}\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\n\t\t\t\t>\n\t\t\t\t\t<Img\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\n\t\t\t\t\t\tclassName={classes.btnLogo}\n\t\t\t\t\t/>\n\t\t\t\t\t{t('METAMASK')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.trezorBtn}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\n\t\t\t\t>\n\t\t\t\t\t<Img\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tclasses.btnLogo,\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* {t('TREZOR')} */}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\n\t\t\t\t>\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t{showRegistration && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</Box>\n\t)\n}\n\nexport default AuthSelect\n","export const styles = theme => {\n\treturn {\n\t\tactions: {\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tlimitedWidthBtn: {\n\t\t\twordBreak: 'break-word',\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tbtnLogo: {\n\t\t\theight: '2rem',\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tbtnLogoNoTxt: {\n\t\t\tmarginRight: 0,\n\t\t},\n\t\tmetamaskBtn: {\n\t\t\tbackgroundColor: theme.palette.grey[800],\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\ttrezorBtn: {\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Hidden from '@material-ui/core/Hidden'\nimport Anchor from 'components/common/anchor/anchor'\nimport packageJson from './../../../package.json'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\nimport { t } from 'selectors'\nimport { Typography } from '@material-ui/core'\n\nexport default function ConnectHoc(Decorated) {\n\tfunction Connect({ classes, ...rest }) {\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Grid\n\t\t\t\t\tclassName={classes.container}\n\t\t\t\t\tcontainer\n\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t// spacing={2}\n\t\t\t\t>\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\n\t\t\t\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={2}>\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tp={2}\n\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('HELP')}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn withStyles(styles)(Connect)\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\taddrListItem: {\n\t\t\t'&:hover': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\taddrInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\tflexGrow: 1,\n\t\t\tpaddingTop: spacing,\n\t\t\twhiteSpace: 'normal',\n\t\t\t'& strong': {\n\t\t\t\tmarginRight: spacing * 2,\n\t\t\t},\n\t\t},\n\t\taddrInfoLabel: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tfontWeight: 'bold',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t},\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t\t// marginTop: spacing * 2,\n\t\t\t// position: 'absolute',\n\t\t\t// top: 70,\n\t\t\t// left: 0,\n\t\t\t// right: 0,\n\t\t\t// bottom: 0\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\ttabLogo: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: spacing * 4,\n\t\t\tmaxHeight: '100%',\n\t\t\twidth: 'auto',\n\t\t},\n\t\ttabLabel: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tdlBtnImg: {\n\t\t\tmaxWidth: '100%',\n\t\t\tmaxHeight: spacing * 9,\n\t\t\twidth: 'auto',\n\t\t\theight: 'auto',\n\t\t},\n\t\tleftBtnIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '-6vh',\n\t\t\tleft: 0,\n\t\t},\n\t\tlogo: {\n\t\t\twidth: '12.8vh',\n\t\t\theight: '5vh',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport function AddrItem({ stats }) {\n\tconst { balanceEth, tokensBalances, address } = stats\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<ListItemText\n\t\t\tprimary={address}\n\t\t\tsecondary={\n\t\t\t\t<span className={classes.addrInfo}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<span> ETH </span>\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\n\t\t\t\t\t</span>\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<span> {symbol} </span>\n\t\t\t\t\t\t\t<strong> {balance} </strong>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</span>\n\t\t\t}\n\t\t/>\n\t)\n}\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\nimport METAMASK_IMG from 'resources/metamask.png'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getEthers, getEthereumProvider } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\nimport Box from '@material-ui/core/Box'\nimport {\n\taddToast,\n\tupdateIdentity,\n\tupdateIdentityWallet,\n\texecute,\n} from 'actions'\nimport { t, selectIdentity } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction AuthMetamask(props) {\n\tconst classes = useStyles()\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\n\tconst { address } = wallet\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\n\t// const [stats, setStats] = useState(null)\n\tconst [waitingMetamaskAction, setWaitingMetamaskAction] = useState(false)\n\tconst [waitingAddrsData, setWaitingAddrsData] = useState(false)\n\tconst isOpera =\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\n\t\tfalse\n\t)\n\n\tuseEffect(() => {\n\t\tconst setEth = async () => {\n\t\t\tconst ethereumProvider = await getEthereumProvider()\n\t\t\tsetIsMetamaskEthereumProvider(\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\n\t\t\t)\n\t\t}\n\n\t\tsetEth()\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (installingMetamask) {\n\t\t\t// Refreshes page after user comes back\n\t\t\t// from installing Metamask\n\t\t\twindow.onfocus = () => {\n\t\t\t\twindow.location.reload()\n\t\t\t\tsetInstallingMetamask(false)\n\t\t\t}\n\t\t}\n\t}, [installingMetamask])\n\n\tconst checkMetamask = async () => {\n\t\tsetWaitingAddrsData(true)\n\t\ttry {\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst wallet = {\n\t\t\t\tauthType: authType,\n\t\t\t}\n\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\n\t\t\tconst address = await metamaskSigner.getAddress()\n\t\t\tconst stats = await getAddressBalances({\n\t\t\t\taddress: { address },\n\t\t\t\tauthType,\n\t\t\t\tgetFullBalances: true,\n\t\t\t})\n\n\t\t\texecute(updateIdentity('stats', stats))\n\t\t\tsetWaitingAddrsData(false)\n\n\t\t\texecute(\n\t\t\t\tupdateIdentityWallet({\n\t\t\t\t\taddress,\n\t\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\n\t\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\n\t\t\t\t})\n\t\t\t)\n\t\t} catch (err) {\n\t\t\tconsole.error('Error: catch', err)\n\t\t\tsetWaitingMetamaskAction(false)\n\t\t\tsetWaitingAddrsData(false)\n\t\t\texecute(\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t}\n\n\treturn (\n\t\t<ContentBox className={classes.tabBox}>\n\t\t\t{waitingMetamaskAction ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ACTION')} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : waitingAddrsData ? (\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<Typography paragraph variant='subheading'>\n\t\t\t\t\t{t('METAMASK_INFO')}\n\t\t\t\t</Typography>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\twidth={1}\n\t\t\t\t>\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<Typography paragraph>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('METAMASK_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography paragraph>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Typography paragraph>\n\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\n\t\t\t\t\t\t\t\talt={'Downlad metamask'}\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{address ? (\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\n\t\t\t\t\t\t\t{stats ? (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Typography paragraph variant='subheading' color='primary'>\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={checkMetamask}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : null}\n\t\t\t\t</Box>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AuthMetamask\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\n\nexport default function NewItemHoc(Decorated) {\n\tclass ValidItemHoc extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.state = {\n\t\t\t\tinvalidFields: {},\n\t\t\t}\n\n\t\t\tthis.validate = this.validate.bind(this)\n\t\t}\n\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\n\t\t}\n\n\t\tcomponentWillMount() {\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\n\t\t}\n\n\t\tvalidate = (\n\t\t\tkey,\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n\t\t) => {\n\t\t\tif (!isValid) {\n\t\t\t\tlet errors = {}\n\t\t\t\terrors[key] = {\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\n\t\t\t\t\tdirty: dirty,\n\t\t\t\t}\n\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\n\t\t\t} else if (removeAll) {\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\n\t\t\t} else {\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\n\t\t\t}\n\t\t}\n\n\t\trender() {\n\t\t\tconst props = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...props}\n\t\t\t\t\tvalidate={this.validate}\n\t\t\t\t\tinvalidFields={this.state.invalidFields}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tValidItemHoc.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\t// let persist = state.persist\n\t\tlet memory = state.memory\n\t\treturn {\n\t\t\tvalidations: memory.validations[props.validateId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidItemHoc))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport IdentityHoc from '../IdentityHoc'\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\n\nexport default function AuthHoc(Decorated) {\n\tclass Auth extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\t\t\tthis.state = {\n\t\t\t\tmethod: '',\n\t\t\t\tsideSelect: false,\n\t\t\t}\n\t\t}\n\n\t\tupdateWallet = ({\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tpath,\n\t\t\tchainId,\n\t\t\tsignType,\n\t\t}) => {\n\t\t\tconst wallet = {\n\t\t\t\taddress,\n\t\t\t\tauthType,\n\t\t\t\thdWalletAddrPath,\n\t\t\t\thdWalletAddrIdx,\n\t\t\t\tpath,\n\t\t\t\tchainId,\n\t\t\t\tsignType,\n\t\t\t}\n\n\t\t\tthis.props.handleChange('identityContractOwner', address)\n\t\t\tthis.props.handleChange('wallet', wallet)\n\t\t}\n\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...this.props}\n\t\t\t\t\t// updateAcc={this.updateAcc}\n\t\t\t\t\tupdateWallet={this.updateWallet}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tAuth.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t}\n\n\tfunction mapStateToProps(state) {\n\t\tlet persist = state.persist\n\t\t// let memory = state.memory\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidItemHoc(IdentityHoc(Auth))))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions, { execute, login } from 'actions'\nimport { push } from 'connected-react-router'\nimport { CREATING_SESSION, UPLOADING_ACCOUNT_DATA } from 'constants/spinners'\n\nexport default function IdentityHoc(Decorated) {\n\tclass IdentityForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tready: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value) => {\n\t\t\tthis.props.actions.updateIdentity(prop, value)\n\t\t}\n\n\t\t// componentDidUpdate = () => {\n\t\t// \tconst { account } = this.props\n\t\t// \tif (account.wallet.authSig) {\n\t\t// \t\texecute(push('/side-select'))\n\t\t// \t}\n\t\t// }\n\n\t\tsave = async () => {\n\t\t\texecute(login())\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tconst { resetIdentity } = this.props.actions\n\t\t\tresetIdentity()\n\t\t\texecute(push('/'))\n\t\t}\n\n\t\trender() {\n\t\t\tconst { identity, spinner, waitingExpected, ...rest } = this.props\n\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tidentity={identity}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t\twaiting={spinner}\n\t\t\t\t\twaitingExpected={waitingExpected}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tIdentityForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\tidentity: PropTypes.object.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\tidentity: memory.identity,\n\t\t\tspinner: memory.spinners[CREATING_SESSION],\n\t\t\twaitingUpload: memory.spinners[UPLOADING_ACCOUNT_DATA],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(IdentityForm)\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Translate from 'components/translate/Translate'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport Button from '@material-ui/core/Button'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport AuthHoc from './AuthHoc'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\n\nclass AuthTrezor extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tmethod: '',\n\t\t\tsideSelect: false,\n\t\t\taddresses: [],\n\t\t\twaitingTrezorAction: false,\n\t\t\twaitingAddrsData: false,\n\t\t\tselectedAddress: null,\n\t\t\thdPath: '',\n\t\t}\n\t}\n\n\tconnectTrezor = async () => {\n\t\tthis.setState({ waitingTrezorAction: true }, async () => {\n\t\t\ttry {\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\n\n\t\t\t\tconst wallet = {\n\t\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\t\t}\n\n\t\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\n\n\t\t\t\tconst addresses = await trezorSigner.getAddresses({ from: 0, to: 19 })\n\n\t\t\t\tconst allAddressesData = addresses.payload.map(address =>\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\n\t\t\t\t)\n\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\t\tconsole.log('result', results)\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thdPath: trezorSigner.path,\n\t\t\t\t\t\taddresses: results,\n\t\t\t\t\t\twaitingAddrsData: false,\n\t\t\t\t\t\twaitingTrezorAction: false,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error: catch', err)\n\t\t\t\tthis.setState({ waitingTrezorAction: false, waitingAddrsData: false })\n\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_TREZOR', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tAddressSelect = ({ addresses, waitingTrezorAction, t, classes, ...rest }) => {\n\t\treturn (\n\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t{waitingTrezorAction ? (\n\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\tt('SELECT_ADDR_TREZOR')\n\t\t\t\t\t)}\n\t\t\t\t</ContentStickyTop>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{addresses.map((res, index) => (\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\t\tkey={res.address}\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} address={res.address} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\n\t\tconst { address, path } = addrData\n\t\tthis.props.updateWallet({\n\t\t\taddress,\n\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\tpath,\n\t\t\thdWalletAddrPath: this.state.hdPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tsignType: AUTH_TYPES.TREZOR.signType,\n\t\t})\n\n\t\tthis.setState({ selectedAddress: address })\n\t}\n\n\trender() {\n\t\tlet { t, classes } = this.props\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.addresses.length ? (\n\t\t\t\t\t<this.AddressSelect\n\t\t\t\t\t\twaitingTrezorAction={this.state.waitingTrezorAction}\n\t\t\t\t\t\taddresses={this.state.addresses}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : this.state.waitingTrezorAction ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\n\t\t\t\t\t\t\t\t{t('TREZOR_INFO')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography paragraph>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('TREZOR_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io/' target='_blank'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Wallet\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Bridge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography paragraph>\n\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\n\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'https://trezor.io'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingTrezorAction && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={this.connectTrezor}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContentBody>\n\t\t\t\t\t</ContentBox>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAuthTrezor.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tupdateWallet: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default Translate(AuthHoc(withStyles(styles)(AuthTrezor)))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Translate from 'components/translate/Translate'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\nimport AuthHoc from './AuthHoc'\nimport Helper from 'helpers/miscHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport LEDGER_DL_IMG from 'resources/ledger_logo_header.png'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\n\nclass AuthLedger extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tmethod: '',\n\t\t\tsideSelect: false,\n\t\t\taddresses: [],\n\t\t\twaitingLedgerAction: false,\n\t\t\twaitingAddrsData: false,\n\t\t\tselectedAddress: null,\n\t\t\thdPath: '',\n\t\t}\n\t}\n\n\tconnectLedger = async () => {\n\t\tthis.setState({ waitingLedgerAction: true }, async () => {\n\t\t\ttry {\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.LEDGER.name)\n\n\t\t\t\tconst wallet = {\n\t\t\t\t\tauthType: AUTH_TYPES.LEDGER.name,\n\t\t\t\t}\n\n\t\t\t\tconst ledgerSigner = await getSigner({ wallet, provider })\n\t\t\t\tconst addresses = await ledgerSigner.getAddresses({ from: 0, to: 19 })\n\n\t\t\t\tconst allAddressesData = addresses.map(address =>\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.LEDGER.name })\n\t\t\t\t)\n\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thdPath: ledgerSigner.path,\n\t\t\t\t\t\taddresses: results,\n\t\t\t\t\t\twaitingAddrsData: false,\n\t\t\t\t\t\twaitingLedgerAction: false,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error: catch', err)\n\t\t\t\tthis.setState({ waitingLedgerAction: false, waitingAddrsData: false })\n\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_LEDGER', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tAddressSelect = ({ addresses, waitingLedgerAction, t, classes, ...rest }) => {\n\t\treturn (\n\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t{waitingLedgerAction ? (\n\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\tt('SELECT_ADDR_LEDGER')\n\t\t\t\t\t)}\n\t\t\t\t</ContentStickyTop>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{addresses.map((res, index) => (\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\t\tkey={res.address}\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\n\t\tconst { address, path } = addrData\n\n\t\tthis.props.updateWallet({\n\t\t\taddress,\n\t\t\tauthType: AUTH_TYPES.LEDGER.name,\n\t\t\tpath,\n\t\t\thdWalletAddrPath: this.state.hdPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tsignType: AUTH_TYPES.LEDGER.signType,\n\t\t})\n\n\t\tthis.setState({ selectedAddress: address })\n\t}\n\n\trender() {\n\t\tlet { t, classes } = this.props\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.addresses.length ? (\n\t\t\t\t\t<this.AddressSelect\n\t\t\t\t\t\twaitingLedgerAction={this.state.waitingLedgerAction}\n\t\t\t\t\t\taddresses={this.state.addresses}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ADDRS_INFO')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : this.state.waitingLedgerAction ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t\t<Typography paragraph variant='subheading'>\n\t\t\t\t\t\t\t\t{t('LEDGER_INFO')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography paragraph>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('LEDGER_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://www.ledgerwallet.com/'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLEDGER\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography paragraph>\n\t\t\t\t\t\t\t\t<Anchor href='https://www.ledgerwallet.com/' target='_blank'>\n\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\tsrc={LEDGER_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'https://www.ledgerwallet.com/'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingLedgerAction && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={this.connectLedger}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_LEDGER')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContentBody>\n\t\t\t\t\t</ContentBox>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAuthLedger.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tupdateWallet: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default Translate(AuthHoc(withStyles(styles)(AuthLedger)))\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport { selectLocationQuery } from 'selectors'\nimport AuthMetamask from './AuthMetamask'\nimport AuthTrezor from './AuthTrezor'\nimport AuthLedger from './AuthLedger'\n\nconst useStyles = makeStyles(theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t},\n\t}\n})\n\nfunction AuthMethod() {\n\tconst classes = useStyles()\n\tconst query = useSelector(selectLocationQuery)\n\tconst method = query['external']\n\n\treturn (\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\n\t\t\t\t{method === 'metamask' && <AuthMetamask />}\n\t\t\t\t{method === 'trezor' && <AuthTrezor />}\n\t\t\t\t{method === 'ledger' && <AuthLedger />}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default AuthMethod\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport {\n\texecute,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tupdateIdentity,\n} from 'actions'\n\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst QuickInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\n\t]\n\n\t// Errors\n\tconst {\n\t\temail,\n\t\temailCheck,\n\t\tpassword,\n\t\tpasswordCheck,\n\t\ttosCheck,\n\t\taccessWarningCheck,\n\t} = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner || sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, true))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, false))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(validatePassword(validateId, identity.password, true))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidatePassword(validateId, identity.password, false)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpassword && !!password.dirty\n\t\t\t\t\t\t\t\t\t\t? password.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='passwordCheck'\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidatePasswordCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.password,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidatePasswordCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.password,\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_QUICK_CHECK')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\texecute,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tupdateIdentity,\n} from 'actions'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { CREATING_SESSION } from 'constants/spinners'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst FulInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\tconst { wallet = {} } = identity\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\t// Errors\n\tconst { email, emailCheck, tosCheck, accessWarningCheck } = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t{walletAddress}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, true))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, false))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FulInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { execute, updateIdentity } from 'actions'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst QuickLogin = props => {\n\tconst { validateId } = props\n\n\tconst identity = useSelector(selectIdentity)\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\n\t]\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { wallet } = validations\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('QUICK_LOGIN_INFO', { args: [identity.email] })}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickLogin\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport { push } from 'connected-react-router'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\texecute,\n\tupdateIdentity,\n\townerIdentities as updateOwnerIdentities,\n} from 'actions'\nimport {\n\tselectSpinnerById,\n\tselectIdentity,\n\tt,\n\tselectSearchParams,\n\tselectRegistrationAllowed,\n} from 'selectors'\nimport Dropdown from 'components/common/dropdown'\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst getIdentitiesForDropdown = (ownerIdentities = [], t) =>\n\townerIdentities.map(id => {\n\t\treturn {\n\t\t\tvalue: id.identity + '-' + id.privLevel,\n\t\t\tlabel: t('IDENTITY_OPTION_DATA', {\n\t\t\t\targs: [id.identity, id.privLevel, id.data.email || '-'],\n\t\t\t}),\n\t\t}\n\t})\n\nfunction FullLogin(props) {\n\tconst identity = useSelector(selectIdentity)\n\tconst {\n\t\twalletAddr,\n\t\twallet = {},\n\t\townerIdentities,\n\t\tidentityContractAddress,\n\t} = identity\n\tconst walletAddress = wallet.address || walletAddr\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\n\t)\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\n\tconst searchParams = useSelector(selectSearchParams)\n\tsearchParams.set('step', '1')\n\n\tconst search = searchParams.toString()\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\n\tuseEffect(() => {\n\t\texecute(updateOwnerIdentities({ owner: walletAddress }))\n\t\t// We need it just once on mount\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities, t)}\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{showRegistration && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FullLogin\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport Translate from 'components/translate/Translate'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { selectLocationQuery } from 'selectors'\n\nclass IdentitySteps extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpages: this.mapPages(),\n\t\t}\n\n\t\t// TODO: Check if it is possible to need state update\n\t}\n\n\tmapPages = () => {\n\t\tconst {\n\t\t\tGoBtn,\n\t\t\tcancelFunction,\n\t\t\tt,\n\t\t\tonSave,\n\t\t\tstepsId,\n\t\t\tstepsPages = [],\n\t\t\tstepsPreviewPage,\n\t\t\tvalidateIdBase,\n\t\t\t...rest\n\t\t} = this.props\n\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\n\n\t\tconst pages = stepsPages.map((page, index) => {\n\t\t\treturn {\n\t\t\t\ttitle: t(page.title),\n\t\t\t\tcancelFunction,\n\t\t\t\tcomponent: ValidItemHoc(page.page),\n\t\t\t\tdisableBtnsIfValid: page.disableBtnsIfValid,\n\t\t\t\tprops: { ...this.props, validateId: validateId + '-' + index },\n\t\t\t\tpageValidation: page.pageValidation,\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\n\t\t\t\tcompleteBtn: page.final\n\t\t\t\t\t? () => <GoBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t\t\t\t: undefined,\n\t\t\t}\n\t\t})\n\n\t\treturn pages\n\t}\n\n\trender() {\n\t\tconst { initialPage } = this.props\n\t\treturn (\n\t\t\t<MaterialStepper initialPage={initialPage} pages={this.state.pages} />\n\t\t)\n\t}\n}\n\nIdentitySteps.propTypes = {\n\tactions: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\t// const persist = state.persist\n\t// const memory = state.memory\n\treturn {\n\t\tinitialPage: selectLocationQuery(state)['step'] || 0,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(withStyles(styles)(IdentitySteps)))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t},\n\t\tadxVersion: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: spacing,\n\t\t\tbottom: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\tmarginTop: '1.5vh',\n\t\t\twidth: '17.92vh',\n\t\t\theight: '6vh',\n\t\t},\n\t\tformControl: {\n\t\t\tdisplay: 'flex',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmargin: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t\tinfoPaper: {\n\t\t\t...theme.mixins.gutters(),\n\t\t\tpaddingTop: spacing * 2,\n\t\t\tpaddingBottom: spacing * 2,\n\t\t},\n\t\tinput: {\n\t\t\tdisplay: 'none',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport AuthMethod from './ownerAuth/AuthMethod'\nimport QuickInfo from './QuickInfo'\nimport FullInfo from './FullInfo'\nimport QuickLogin from './QuickLogin'\nimport FullLogin from './FullLogin'\nimport IdentitySteps from './IdentitySteps'\nimport { push } from 'connected-react-router'\n\nimport {\n\texecute,\n\tvalidateQuickLogin,\n\tvalidateStandardLogin,\n\tvalidateQuickInfo,\n\tvalidateFullInfo,\n\tvalidateContractOwner,\n\tresetIdentity,\n} from 'actions'\n\nconst cancelFunction = () => {\n\texecute(resetIdentity())\n\texecute(push('/'))\n}\n\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\n\nconst common = {\n\tcancelFunction,\n\tvalidateIdBase: 'identity-',\n}\n\nexport const LoginStandardIdentity = props => {\n\treturn (\n\t\t<IdentitySteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-login'\n\t\t\tstepsPages={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tpage: AuthMethod,\n\t\t\t\t\tpageValidation: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\n\t\t\t\t\tpage: FullLogin,\n\t\t\t\t\tpageValidation: finalValidationStandard,\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateStandardIdentity = props => {\n\treturn (\n\t\t<IdentitySteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-create'\n\t\t\tstepsPages={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tpage: AuthMethod,\n\t\t\t\t\tpageValidation: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'FULL_INFO',\n\t\t\t\t\tpage: FullInfo,\n\t\t\t\t\tpageValidation: ({ validateId, dirty }) =>\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateQuickIdentity = props => (\n\t<IdentitySteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-create'\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_INFO',\n\t\t\t\tpage: QuickInfo,\n\t\t\t\tpageValidation: ({ validateId, dirty }) =>\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const LoginQuickIdentity = props => (\n\t<IdentitySteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-login'\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_LOGIN',\n\t\t\t\tpage: QuickLogin,\n\t\t\t\tpageValidation: finalValidationQuick,\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const DemoIdentity = props => (\n\t<IdentitySteps {...props} {...common} stepsPages={[]} />\n)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Logo from 'components/common/icons/AdexIconTxt'\nimport Typography from '@material-ui/core/Typography'\nimport Anchor from 'components/common/anchor/anchor'\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\ttextAlign: 'center',\n\t},\n\tvitalik: {\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\n\t\tbackgroundPosition: 'center',\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundSize: 'contain',\n\t},\n\tcontainer: {\n\t\tmaxWidth: theme.breakpoints.values.md,\n\t\tmargin: 'auto',\n\t},\n\tlogo: {\n\t\theight: '5rem',\n\t\twidth: '100%',\n\t},\n}))\n\nexport default function Home({ t, ...rest }) {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box\n\t\t\twidth={1}\n\t\t\theight={1}\n\t\t\tclassName={classes.root}\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='center'\n\t\t\tjustifyContent='center'\n\t\t>\n\t\t\t<Box\n\t\t\t\tclassName={classes.container}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='row'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='space-evenly'\n\t\t\t\tflexWrap='wrap'\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box\n\t\t\t\tflexGrow={1}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='column'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='center'\n\t\t\t\tmaxWidth='md'\n\t\t\t\tclassName={classes.container}\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Logo className={classes.logo} />\n\t\t\t\t</Box>\n\n\t\t\t\t{/* <Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={1}>\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t{/* <Box p={1}>\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box\n\t\t\t\t\theight='30%'\n\t\t\t\t\tposition='relative'\n\t\t\t\t\tclassName={classes.vitalik}\n\t\t\t\t\talignSelf='stretch'\n\t\t\t\t></Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\n\nconst useStyles = makeStyles(theme => ({\n\tdialog: {\n\t\theight: '100vh',\n\t\twidth: theme.maxWidth || 1200,\n\t\tmaxWidth: '100%',\n\t},\n}))\n\nexport default function DialogHoc(Decorated) {\n\tfunction JustDialog({ ...rest }) {\n\t\tconst classes = useStyles()\n\n\t\treturn (\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Decorated {...rest} />\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\treturn JustDialog\n}\n","import React, { useEffect } from 'react'\nimport { HashRouter as Router } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport {\n\tmetamaskChecks,\n\tmetamaskNetworkCheck,\n\tgetRelayerConfig,\n\texecute,\n\tensureQuickWalletBackup,\n\tupdateRegistrationAllowed,\n\thandleRedirectParams,\n\thandleSignupLink,\n} from 'actions'\nimport { Route, Switch, Redirect } from 'react-router'\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\nimport ConnectHoc from 'components/signin/ConnectHoc'\nimport {\n\tCreateQuickIdentity,\n\tLoginStandardIdentity,\n\tCreateStandardIdentity,\n\tLoginQuickIdentity,\n} from 'components/signin/identity/Identity'\nimport SideSelect from 'components/signin/side-select/SideSelect'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport Home from 'components/signin/Home'\nimport JustDialog from 'components/common/dialog/JustDialog'\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\nimport Translate from 'components/translate/Translate'\nimport { selectAuth, selectWallet, selectLocation } from 'selectors'\n\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\nconst ConnectedLoginStandardIdentity = ConnectHoc(\n\tJustDialog(LoginStandardIdentity)\n)\nconst ConnectedCreateStandardIdentity = ConnectHoc(\n\tJustDialog(CreateStandardIdentity)\n)\nconst ConnectedRoot = ConnectHoc(Home)\n\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...other}\n\t\t\trender={props =>\n\t\t\t\tauth === true ? ( //|| true\n\t\t\t\t\t<Component {...props} />\n\t\t\t\t) : (\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t)\n}\n\nconst handleLegacyWallet = async wallet => {\n\tconst { type, email, password, authType } = wallet || {}\n\n\tif (!type && email && password && authType === 'grant') {\n\t\tawait migrateLegacyWallet({ email, password })\n\t\tawait removeLegacyKey({ email, password })\n\t}\n\n\tif (email && password && authType) {\n\t\texecute(ensureQuickWalletBackup())\n\t}\n}\n\nconst Root = () => {\n\tconst auth = useSelector(selectAuth)\n\tconst wallet = useSelector(selectWallet)\n\tconst location = useSelector(selectLocation)\n\n\tuseEffect(() => {\n\t\texecute(getRelayerConfig())\n\t\texecute(metamaskChecks())\n\t\texecute(handleRedirectParams(location.search))\n\t\texecute(handleSignupLink(location.search))\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tuseEffect(() => {\n\t\thandleLegacyWallet(wallet)\n\t}, [wallet])\n\n\tuseEffect(() => {\n\t\texecute(metamaskNetworkCheck())\n\t\texecute(updateRegistrationAllowed(location.search))\n\t}, [location])\n\n\treturn (\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<PrivateRoute\n\t\t\t\t\tauth={auth}\n\t\t\t\t\tpath='/dashboard/:side'\n\t\t\t\t\tcomponent={Dashboard}\n\t\t\t\t/>\n\t\t\t\t<PrivateRoute auth={auth} path='/side-select' component={SideSelect} />\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/quick'\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/login/full'\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/full'\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\n\t\t\t\t<Route>\n\t\t\t\t\t<PageNotFound />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t)\n}\n\nexport default Translate(Root)\n","import React, { Component } from 'react'\nimport 'react-image-crop/dist/ReactCrop.css'\n// import './App.css'\nimport { Provider } from 'react-redux'\nimport { persistor, store } from 'store'\nimport history from 'store/history'\nimport { ConnectedRouter } from 'connected-react-router'\nimport Toast from 'components/toast/Toast'\nimport Confirm from 'components/confirm/Confirm'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport Root from './Root'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport { themeMUI } from './themeMUi'\nimport MomentUtils from '@date-io/moment'\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport CacheBuster from './CacheBuster'\n\n// console.log('initial store', store.getState())\n\nconst onBeforeLift = () => {\n\t// take some action before the gate lifts\n}\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CssBaseline />\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\n\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\n\t\t\t\t\t\t<Provider store={store}>\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\n\t\t\t\t\t\t\t\t\t<CacheBuster>\n\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\n\t\t\t\t\t\t\t\t\t\t\t<Root />\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</CacheBuster>\n\t\t\t\t\t\t\t\t</ConnectedRouter>\n\t\t\t\t\t\t\t</PersistGate>\n\t\t\t\t\t\t</Provider>\n\t\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n)\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error)\n\t\t})\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type')\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t)\n\t\t})\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister()\n\t\t})\n\t}\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App/App'\nimport { unregister } from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\nunregister()\n","import {\n\tgetState,\n\texecute,\n\tresetAllNewItems,\n\tresetAllItems,\n\tresetAllBids,\n\tresetIdentity,\n\tresetAccount,\n\tresetAnalytics,\n} from 'actions'\n\nimport campaignsLoop from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport analyticsLoop from 'services/store-data/analytics'\n\nimport { push } from 'connected-react-router'\n\nexport const logOut = skipRedirect => {\n\tanalyticsLoop.stop()\n\tcampaignsLoop.stop()\n\tstatsLoop.stop()\n\tif (!skipRedirect) {\n\t\texecute(push('/'))\n\t}\n\texecute(resetIdentity())\n\texecute(resetAllItems())\n\texecute(resetAllNewItems())\n\texecute(resetAllBids())\n\texecute(resetAccount())\n\texecute(resetAnalytics())\n}\n\nexport const isDemoMode = () => {\n\treturn getState().persist.account._authType === 'demo'\n}\n\nexport const getAccount = () => {\n\treturn getState().persist.account\n}\n","export const ADD_ITEM = 'ADD_ITEM'\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\nexport const DELETE_ITEM = 'DELETE_ITEM'\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\nexport const UPDATE_UI = 'UPDATE_UI'\nexport const ADD_TOAST = 'ADD_TOAST'\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\nexport const UPDATE_NAV = 'UPDATE_NAV'\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\nexport const UNIT_PLACE_BID = 'PLACE_BID'\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\nexport const RESET_WALLET = 'RESET_WALLET'\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport ewt from './ewt'\n\nconst BEARER_PREFIX = 'Bearer '\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\n\nconst getValidatorRequester = ({ baseUrl }) => {\n\treturn new Requester({ baseUrl })\n}\n\nconst getRequesters = ({ campaign }) => {\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\n\tconst followerRequester = getValidatorRequester({\n\t\tbaseUrl: follower.url,\n\t})\n\n\treturn {\n\t\tleader: { requester: leaderRequester, validator: leader },\n\t\tfollower: { requester: followerRequester, validator: follower },\n\t}\n}\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\n\tconst { identity, wallet } = account\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\n\tif (existingAuth) {\n\t\treturn existingAuth\n\t}\n\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst payload = {\n\t\tid: validatorId,\n\t\tidentity: identity.address,\n\t\tera: Math.floor(Date.now() / 60000),\n\t}\n\n\tconst token = ewt.sign(signer, payload)\n\n\treturn token\n}\n\nconst sendMessage = async ({ campaign, options, account }) => {\n\tconst { follower, leader } = getRequesters({ campaign })\n\n\tconst followerAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: follower.validator.id,\n\t\taccount,\n\t})\n\tconst leaderAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: leader.validator.id,\n\t\taccount,\n\t})\n\tconst followerResult = await follower.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\tconst leaderResult = await leader.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn {\n\t\tresults: {\n\t\t\tfollowerResult,\n\t\t\tleaderResult,\n\t\t},\n\t\tauthTokens: {\n\t\t\t[follower.id]: followerAuthToken,\n\t\t\t[leader.id]: leaderAuthToken,\n\t\t},\n\t}\n}\n\nexport const lastApprovedState = ({ campaign }) => {\n\tconst { leader } = getRequesters({ campaign })\n\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `channel/${campaign.id}/last-approved`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaign = ({ campaign, account }) => {\n\tconst options = {\n\t\troute: `channel/${campaign.id}/events`,\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\n\t\theaders: { 'Content-Type': 'application/json' },\n\t}\n\n\treturn sendMessage({ campaign, options, account })\n}\n\nexport const identityAnalytics = async ({\n\tidenityAddr,\n\tcampaign,\n\tcampaignId,\n\tleaderAuth,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n\tside,\n}) => {\n\tconst baseUrl = VALIDATOR_LEADER_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/for-${side}${campaignId || ''}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn aggregates\n}\n","const MAX_ASPECT_TOLERANCE = 5\n\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\n\nconst getVideoSize = src =>\n\tnew Promise(resolve => {\n\t\tconst video = document.createElement('video')\n\t\tvideo.src = src\n\n\t\tvideo.onloadedmetadata = ({ target }) => {\n\t\t\treturn resolve({\n\t\t\t\twidth: target.videoWidth,\n\t\t\t\theight: target.videoHeight,\n\t\t\t})\n\t\t}\n\t})\n\nconst getImageSize = src =>\n\tnew Promise(resolve => {\n\t\tconst image = new Image()\n\t\timage.src = src\n\t\timage.onload = function() {\n\t\t\treturn resolve({\n\t\t\t\twidth: this.width,\n\t\t\t\theight: this.height,\n\t\t\t})\n\t\t}\n\t})\n\nexport const getMediaSize = ({ mime, src }) =>\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\n\nexport const checkExactishAspect = (\n\twidthTarget,\n\twidth,\n\theightTarget,\n\theight,\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\n) => {\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\n\t\treturn false\n\t}\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\n\tconst aspect = parseFloat(width / height)\n\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\n\n\tconst isValid =\n\t\twidthTarget <= width &&\n\t\theightTarget <= height &&\n\t\taspectDiff <= maxPercentTolerance\n\n\treturn isValid\n}\n","import crypto from 'crypto'\nimport {\n\tChannel,\n\t// MerkleTree,\n\tsplitSig,\n\tChannelState,\n\tRoutineOps,\n} from 'adex-protocol-eth/js'\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetIdentityTxnsWithNoncesAndFees,\n\tgetIdentityTxnsTotalFees,\n\tprocessExecuteByFeeTokens,\n\tgetApproveTxns,\n} from 'services/smart-contracts/actions/identity'\nimport { getWithdrawTokensBalances } from 'services/smart-contracts/actions/stats'\nimport { contracts } from '../contractsCfg'\nimport { closeCampaign } from 'services/adex-validator/actions'\nimport { Campaign, AdUnit } from 'adex-models'\nimport { getAllCampaigns } from 'services/adex-market/actions'\nimport {\n\tbigNumberify,\n\trandomBytes,\n\tparseUnits,\n\tInterface,\n\t// formatUnits,\n\tgetAddress,\n} from 'ethers/utils'\nimport {\n\tselectFeeTokenWhitelist,\n\tselectRoutineWithdrawTokens,\n\tselectMainFeeToken,\n} from 'selectors'\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\n\nconst { AdExCore } = contracts\nconst Core = new Interface(AdExCore.abi)\nconst Identity = new Interface(IdentityABI)\n\nconst timeframe = 15 * 1000 // 1 event per 15 seconds\nconst VALID_UNTIL_COEFFICIENT = 0.5\nconst VALID_UNTIL_MIN_PERIOD = 7 * 24 * 60 * 60 * 1000 // 7 days in ms\n\nfunction toEthereumChannel(channel) {\n\tconst specHash = crypto\n\t\t.createHash('sha256')\n\t\t.update(JSON.stringify(channel.spec))\n\t\t.digest()\n\n\treturn new Channel({\n\t\ttitle: channel.title,\n\t\tcreator: channel.creator,\n\t\ttokenAddr: channel.depositAsset,\n\t\ttokenAmount: channel.depositAmount,\n\t\tvalidUntil: channel.validUntil,\n\t\tvalidators: channel.spec.validators.map(v => v.id),\n\t\tspec: specHash,\n\t})\n}\n\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\n\tconst period = withdrawPeriodStart - activeFrom\n\tconst validUntil =\n\t\twithdrawPeriodStart +\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\n\n\treturn Math.floor(validUntil / 1000)\n}\n\nfunction getReadyCampaign(campaign, identity, mainToken) {\n\tconst newCampaign = new Campaign(campaign)\n\tnewCampaign.creator = identity.address\n\tnewCampaign.created = Date.now()\n\tnewCampaign.validUntil = getValidUntil(\n\t\tnewCampaign.activeFrom,\n\t\tnewCampaign.withdrawPeriodStart\n\t)\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\n\tnewCampaign.depositAmount = parseUnits(\n\t\tnewCampaign.depositAmount || '0',\n\t\tmainToken.decimals\n\t).toString()\n\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\n\tnewCampaign.minPerImpression = parseUnits(\n\t\tnewCampaign.minPerImpression || '0',\n\t\tmainToken.decimals\n\t)\n\t\t.div(bigNumberify(1000))\n\t\t.toString()\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\n\n\tnewCampaign.depositAsset = mainToken.address\n\tnewCampaign.eventSubmission = {\n\t\tallow: [\n\t\t\t{\n\t\t\t\tuids: [\n\t\t\t\t\tnewCampaign.creator,\n\t\t\t\t\tnewCampaign.validators[0].id,\n\t\t\t\t\tnewCampaign.validators[1].id,\n\t\t\t\t],\n\t\t\t},\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\n\t\t],\n\t}\n\n\tnewCampaign.status = {\n\t\tname: 'Pending',\n\t\thumanFriendlyName: 'Active',\n\t\tlastChecked: Date.now(),\n\t}\n\n\treturn newCampaign\n}\n\nconst getExpiredWithdrawnOutstanding = async ({ channel, AdExCore }) => {\n\tconst [withdrawn, state] = await Promise.all([\n\t\tAdExCore.functions.withdrawn(channel.id),\n\t\tAdExCore.functions.states(channel.id),\n\t])\n\n\tif (state === ChannelState.Active) {\n\t\treturn bigNumberify(channel.depositAmount).sub(withdrawn)\n\t} else {\n\t\treturn bigNumberify('0')\n\t}\n}\n\nconst getWithdrawnPerUserOutstanding = async ({\n\tAdExCore,\n\tchannel,\n\tbalance,\n\tidentityAddr,\n}) => {\n\treturn bigNumberify(balance).sub(\n\t\tawait AdExCore.functions.withdrawnPerUser(channel.id, identityAddr)\n\t)\n}\n\nexport async function getChannelsWithOutstanding({ identityAddr, wallet }) {\n\tconst { authType } = wallet\n\tconst channels = await getAllCampaigns(true)\n\tconst { AdExCore } = await getEthers(authType)\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\n\n\tconst all = await Promise.all(\n\t\tchannels\n\t\t\t.filter(\n\t\t\t\tchannel =>\n\t\t\t\t\tchannel &&\n\t\t\t\t\tchannel.status &&\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\n\t\t\t)\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedBalances } = channel.status\n\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\n\t\t\t\t\t(balances, e) => {\n\t\t\t\t\t\tconst [address, balance] = e\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (getAddress(address)) {\n\t\t\t\t\t\t\t\tbalances[address] = balance\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch {}\n\t\t\t\t\t\treturn balances\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t)\n\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\n\n\t\t\t\treturn channel\n\t\t\t})\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\n\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\n\t\t\t\treturn {\n\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\t// mTree,\n\t\t\t\t\tbTree,\n\t\t\t\t\tchannel,\n\t\t\t\t}\n\t\t\t})\n\t\t\t.filter(({ channel, bTree }) => {\n\t\t\t\tif (!!channel.status && channel.status.name === 'Expired') {\n\t\t\t\t\treturn channel.creator.toLowerCase() === identityAddr.toLowerCase()\n\t\t\t\t}\n\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\n\t\t\t})\n\t\t\t.map(async ({ channel, lastApprovedSigs, bTree }) => {\n\t\t\t\t//  mTree,\n\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\n\n\t\t\t\tconst outstanding =\n\t\t\t\t\tchannel.status.name === 'Expired'\n\t\t\t\t\t\t? await getExpiredWithdrawnOutstanding({ channel, AdExCore })\n\t\t\t\t\t\t: await getWithdrawnPerUserOutstanding({\n\t\t\t\t\t\t\t\tAdExCore,\n\t\t\t\t\t\t\t\tchannel,\n\t\t\t\t\t\t\t\tbalance,\n\t\t\t\t\t\t\t\tidentityAddr,\n\t\t\t\t\t\t  })\n\n\t\t\t\tconst outstandingAvailable = outstanding.sub(\n\t\t\t\t\tfeeTokenWhitelist[channel.depositAsset].min\n\t\t\t\t)\n\n\t\t\t\treturn {\n\t\t\t\t\tchannel,\n\t\t\t\t\tbalance,\n\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\toutstanding,\n\t\t\t\t\toutstandingAvailable,\n\t\t\t\t\t// mTree,\n\t\t\t\t\tbTree,\n\t\t\t\t}\n\t\t\t})\n\t)\n\n\tconst eligible = all.filter(x => {\n\t\treturn (\n\t\t\tx.outstanding.gt(\n\t\t\t\tbigNumberify(routineWithdrawTokens[x.channel.depositAsset].minWeekly)\n\t\t\t) && x.outstandingAvailable.gt(bigNumberify('0'))\n\t\t)\n\t})\n\n\treturn eligible\n}\n\nasync function getChannelsToSweepFrom({ amountToSweep, identityAddr, wallet }) {\n\tconst allChannels = await getChannelsWithOutstanding({\n\t\tidentityAddr,\n\t\twallet,\n\t})\n\n\tconst { eligible } = allChannels\n\t\t.sort((c1, c2) => {\n\t\t\treturn c2.outstandingAvailable.gt(c1.outstandingAvailable)\n\t\t})\n\t\t.reduce(\n\t\t\t(data, c) => {\n\t\t\t\tconst current = { ...data }\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\n\t\t\t\t\tcurrent.eligible.push(c)\n\t\t\t\t}\n\n\t\t\t\tcurrent.sum = current.sum.add(c.outstandingAvailable)\n\n\t\t\t\treturn current\n\t\t\t},\n\t\t\t{ sum: bigNumberify(0), eligible: [] }\n\t\t)\n\n\treturn eligible\n}\n\nconst getChannelWithdrawData = ({\n\tidentityAddr,\n\tbalance,\n\t// mTree,\n\tbTree,\n\tlastApprovedSigs,\n\tethChannelTuple,\n}) => {\n\tconst proof = bTree.getProof(identityAddr)\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\n\tconst root = bTree.mTree.getRoot()\n\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\n}\n\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\n\t\t(data, tx) => {\n\t\t\tconst updated = { ...data }\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || bigNumberify(0)\n\t\t\t).add(bigNumberify(tx.withdrawAmountByToken[tx.feeTokenAddr]))\n\n\t\t\treturn updated\n\t\t},\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\n\t)\n\n\tconst data = Identity.functions.executeRoutines.encode([\n\t\troutineAuthTuple,\n\t\troutineOpts,\n\t])\n\n\tconst routinesTx = {\n\t\tidentityContract: identityAddr,\n\t\tto: identityAddr,\n\t\tdata,\n\t\twithdrawAmountByToken,\n\t\troutinesTxCount: routineOpts.length,\n\t\troutinesSweepTxCount: routineOpts.length,\n\t}\n\n\treturn routinesTx\n}\n\nfunction getIdentityRoutineAuthTuple(identity) {\n\treturn identity &&\n\t\tidentity.relayerData &&\n\t\tidentity.relayerData.deployData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t: null\n}\n\nfunction hasValidExecuteRoutines(routineAuthTuple) {\n\tconst hasValidRoutines =\n\t\troutineAuthTuple &&\n\t\troutineAuthTuple.length === 5 &&\n\t\t// TODO: get relayer config for giveUpResubmitAfter\n\t\tparseInt(routineAuthTuple[2], 16) * 1000 > Date.now() + 12 * 60 * 60 * 1000\n\n\treturn hasValidRoutines\n}\n\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\n\tconst { wallet, identity } = account\n\tconst { AdExCore } = await getEthers(wallet.authType)\n\tconst identityAddr = identity.address\n\tconst channelsToSweep = await getChannelsToSweepFrom({\n\t\tamountToSweep,\n\t\tidentityAddr,\n\t\twallet,\n\t})\n\n\tconst txns = channelsToSweep.map((c, i) => {\n\t\tconst {\n\t\t\tbTree,\n\t\t\t//  mTree,\n\t\t\tchannel,\n\t\t\tlastApprovedSigs,\n\t\t\toutstanding,\n\t\t\t// outstandingAvailable,\n\t\t\tbalance,\n\t\t} = c\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\n\n\t\tconst data = getChannelWithdrawData({\n\t\t\tidentityAddr,\n\t\t\tbalance,\n\t\t\t// mTree,\n\t\t\tbTree,\n\t\t\tlastApprovedSigs,\n\t\t\tethChannelTuple,\n\t\t})\n\n\t\treturn {\n\t\t\tidentityContract: identityAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tfeeTokenAddr: channel.depositAsset,\n\t\t\tdata,\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\n\t\t}\n\t})\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\n\tlet encodedTxns = null\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\n\t\tencodedTxns = [\n\t\t\tgetSweepExecuteRoutineTx({\n\t\t\t\ttxns,\n\t\t\t\tidentityAddr,\n\t\t\t\troutineAuthTuple,\n\t\t\t}),\n\t\t]\n\t} else {\n\t\tencodedTxns = txns.map(tx => {\n\t\t\ttx.data = Core.functions.channelWithdraw.encode(tx.data)\n\t\t\ttx.isSweepTx = true\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\treturn encodedTxns\n}\n\nfunction getSwapAmountsByToken({ balances }) {\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\n\t\t(swaps, balance) => {\n\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\n\t\t\t\tbalance.balanceMainToken\n\t\t\t)\n\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\n\t\t\treturn swaps\n\t\t},\n\t\t{\n\t\t\tswapsSumInMainToken: bigNumberify(0),\n\t\t\tswapsByToken: {},\n\t\t}\n\t)\n\n\treturn { swapsByToken, swapsSumInMainToken }\n}\n\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\n// amountNeeded must be in MainToken\nexport async function getSweepingTxnsIfNeeded({\n\tamountInMainTokenNeeded,\n\taccount,\n}) {\n\tconst needed = bigNumberify(amountInMainTokenNeeded)\n\tconst { identity, wallet } = account\n\tconst { address } = identity\n\tconst { authType } = wallet\n\n\tconst { balances, mainTokenBalance } = await getWithdrawTokensBalances({\n\t\tauthType,\n\t\taddress,\n\t})\n\n\tlet currentBalanceInUse = mainTokenBalance\n\n\tconst sweepData = {\n\t\tsweepTxns: [],\n\t\tswapAmountsByToken: {},\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\t// Swaps all balances\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\n\t\t\tbalances,\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\n\t\t})\n\n\t\tsweepData.swapAmountsByToken = swapsByToken\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\n\t\t\taccount,\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\n\t\t})\n\t}\n\n\treturn sweepData\n}\n\nexport async function openChannel({\n\tcampaign,\n\taccount,\n\tgetFeesOnly,\n\tgetMaxFees,\n}) {\n\tconst { wallet, identity, stats } = account\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\n\tconst mainToken = selectMainFeeToken()\n\tconst depositAmount = getMaxFees\n\t\t? availableIdentityBalanceMainToken\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\n\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\n\tconst openReady = readyCampaign.openReady\n\tconst ethChannel = toEthereumChannel(openReady)\n\tconst channel = {\n\t\t...openReady,\n\t\tid: ethChannel.hashHex(AdExCore.address),\n\t}\n\tconst identityAddr = openReady.creator\n\n\tconst feeTokenAddr = mainToken.address\n\n\tconst approveTxns = await getApproveTxns({\n\t\tgetToken,\n\t\ttoken: mainToken,\n\t\tidentityAddr,\n\t\tfeeTokenAddr: mainToken.address,\n\t\tapproveForAddress: AdExCore.address,\n\t\tapproveAmount: depositAmount,\n\t})\n\n\tconst channelOpenTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: feeTokenAddr,\n\t\tto: AdExCore.address,\n\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\n\t}\n\tconst txns = [...approveTxns, channelOpenTx]\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: depositAmount,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken })\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\tconst maxAvailable = mtBalance.sub(fees.totalBN)\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\tmaxAvailable,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t\textraData: { channel },\n\t})\n\n\treadyCampaign.id = channel.id\n\treturn {\n\t\tresult,\n\t\treadyCampaign,\n\t}\n}\n\nexport async function closeChannel({ account, campaign }) {\n\tconst result = await closeCampaign({ account, campaign })\n\treturn result\n}\n","import Helper from 'helpers/miscHelpers'\nimport { getState } from 'actions'\nimport { selectAuthSig } from 'selectors'\nimport { isDemoMode } from 'services/store-data/auth'\nimport { t } from 'selectors'\n\nexport const handleRequesterErrorRes = ({ res, text }) => {\n\tlet message = text\n\ttry {\n\t\tconst textObj = JSON.parse(text)\n\t\tmessage =\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\n\t} catch {}\n\n\tthrow new Error(\n\t\tt('SERVICE_ERROR_MSG', {\n\t\t\targs: [res.url, res.status, res.statusText, message],\n\t\t})\n\t)\n}\n\nclass AdexNodeRequester {\n\tconstructor({ baseUrl }) {\n\t\tthis.baseUrl = baseUrl\n\t}\n\n\tgetAuthHeaders = ({ authSig } = {}) => {\n\t\tconst authSignature = selectAuthSig(getState())\n\t\treturn {\n\t\t\t'X-User-Signature': authSig || authSignature,\n\t\t}\n\t}\n\n\tnoCacheHeaders = {\n\t\t'Cache-Control': 'no-cache',\n\t\tExpires: '0',\n\t\tPragma: 'no-cache',\n\t}\n\n\tgetUrl = (base, route, query) => {\n\t\tlet url = base + '/'\n\t\tif (route) {\n\t\t\troute = route.replace(/^\\//, '')\n\t\t\turl += route\n\t\t}\n\n\t\turl += query\n\n\t\treturn url\n\t}\n\n\tfetch = ({\n\t\troute = '',\n\t\tqueryParams = {},\n\t\tmethod = 'GET',\n\t\tbody,\n\t\theaders = {},\n\t\tuserAddr,\n\t\tauthSig = '',\n\t\tauthToken,\n\t\tnoCache = false,\n\t}) => {\n\t\tconst qp = { ...queryParams }\n\t\tif (isDemoMode()) {\n\t\t\tqp.demo = true\n\t\t}\n\n\t\tconst query = Helper.getQuery(qp)\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\n\n\t\tconst hdrs = {\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\n\t\t\t...this.getAuthHeaders({ authSig }),\n\t\t\t...headers,\n\t\t}\n\t\treturn fetch(url, {\n\t\t\tmethod: method,\n\t\t\theaders: hdrs,\n\t\t\tbody: body,\n\t\t})\n\t}\n}\n\nexport default AdexNodeRequester\n","import requester from './requester'\n\nexport default requester\nexport * from './requester'\n","import Identity from './build/Identity.json'\nimport AdExCore from './build/AdExCore.json'\nimport Dai from './build/Dai.json'\nimport IdentityFactory from './build/IdentityFactory.json'\nimport ERC20 from './abi/ERC20Token.json'\n\nexport const contracts = {\n\tIdentity: {\n\t\tabi: Identity.abi,\n\t},\n\tAdExCore: {\n\t\taddress: process.env.ADEX_CORE_ADDR,\n\t\tabi: AdExCore.abi,\n\t},\n\tDAI: {\n\t\taddress: process.env.DAI_TOKEN_ADDR,\n\t\tabi: Dai.abi,\n\t\tdecimals: 18,\n\t},\n\tIdentityFactory: {\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\n\t\tabi: IdentityFactory.abi,\n\t},\n\tERC20: {\n\t\tabi: ERC20,\n\t},\n}\n","import { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\n\nconst autocompleteLocationsSingleSelect = () => {\n\treturn constants.AllCountries.map(country => {\n\t\treturn {\n\t\t\tlabel: country.name,\n\t\t\tvalue: country.value,\n\t\t}\n\t})\n}\n\nconst autocompleteGendersSingleSelect = () => {\n\treturn constants.Genders.map(gender => {\n\t\treturn {\n\t\t\tlabel: translate(gender.split('_')[1]),\n\t\t\tvalue: gender,\n\t\t}\n\t})\n}\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nexport const AcLocations = autocompleteLocationsSingleSelect()\nexport const AcGenders = autocompleteGendersSingleSelect()\nexport const AcTags = autocompleteTagsSingleSelect()\n\nexport const SOURCES = {\n\tlocations: { src: AcLocations, collection: 'targeting' },\n\tgenders: { src: AcGenders, collection: 'targeting' },\n\ttags: { src: AcTags, collection: 'targeting' },\n\tcustom: { src: [], collection: 'targeting' },\n}\n","export default class Looper {\n\tconstructor({ timeout, syncAction, loopName = '' }) {\n\t\tif (!timeout) {\n\t\t\tthrow new Error('LOOPER timeout prop is required')\n\t\t}\n\n\t\tif (typeof syncAction !== 'function') {\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\n\t\t}\n\n\t\tthis.loopTimeout = null\n\t\tthis.timeout = timeout\n\t\tthis.syncAction = syncAction\n\t}\n\n\tclearLoopTimeout = () => {\n\t\tif (this.loopTimeout) {\n\t\t\tclearTimeout(this.loopTimeout)\n\t\t\tthis.loopTimeout = null\n\t\t}\n\t}\n\n\tsyncData = async opts => {\n\t\tawait this.syncAction()\n\t}\n\n\tstartLoop = async opts => {\n\t\ttry {\n\t\t\tawait this.syncData(opts)\n\t\t\tthis.checkLoop()\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\n\t\t\tthis.checkLoop()\n\t\t}\n\t}\n\n\tcheckLoop = () => {\n\t\tthis.clearLoopTimeout()\n\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\n\t}\n\n\tstart = () => {\n\t\tthis.clearLoopTimeout()\n\t\tthis.startLoop()\n\t}\n\n\tstop = () => {\n\t\tthis.clearLoopTimeout()\n\t}\n}\n","// Nodejs encryption with CTR\nconst crypto = require('crypto')\n\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\nconst CIPHER_ALG = 'aes-256-cbc'\nconst IV_LENGTH = 16\nconst HASH_ALG = 'sha256'\n\nconst getKeyHash = key => {\n\tconst hash = crypto.createHash(HASH_ALG)\n\thash.update(key)\n\tconst hashed = hash.digest()\n\treturn hashed\n}\n\nexport const encrypt = async (text, key) => {\n\tif (!text) return ''\n\tif (!key) {\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\n\t}\n\tconst iv = crypto.randomBytes(IV_LENGTH)\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst encr = cipher.update(text)\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\n\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\n}\n\nexport const decrypt = async (text, key) => {\n\tconst textParts = text.split(':')\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst decr = decipher.update(encryptedText)\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\n\n\treturn decrypted.toString()\n}\n\nexport const encryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\n\tcrypted += cipher.final('hex')\n\treturn crypted\n}\n\nexport const decryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\n\tlet dec = decipher.update(text, 'hex', 'utf8')\n\tdec += decipher.final('utf8')\n\treturn dec\n}\n","import { createHashHistory } from 'history'\n\nconst history = createHashHistory()\n\nexport default history\n","import Loop from './loop'\nimport { updateUserCampaigns, execute } from 'actions'\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\n\nconst LOOP_TIMEOUT =\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\n\nconst syncCampaigns = async () => {\n\texecute(updateUserCampaigns())\n}\n\nconst campaignsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: syncCampaigns,\n\tloopName: '_CAMPAIGNS',\n})\n\nexport default campaignsLoop\n","import Loop from './loop'\nimport { execute, updateAccountStats } from 'actions'\n\nconst LOOP_TIMEOUT = 60 * 1000\n\nconst accountStatsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => execute(updateAccountStats()),\n\tloopName: '_ACCOUNTS_STATS',\n})\n\nexport default accountStatsLoop\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","import { exchange as ExchangeConstants } from 'adex-constants'\nimport { constants } from 'adex-models'\n\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\nconst { SignatureModes } = constants\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nexport const AVATAR_MAX_WIDTH = 600\nexport const AVATAR_MAX_HEIGHT = 400\n\nexport const SORT_PROPERTIES_BIDS = [\n\t{ value: '_state', label: '' },\n\t{ value: '_target', label: '' },\n\t{ value: '_amount', label: '' },\n\t{ value: '_timeout', label: '' },\n]\n\nexport const FILTER_PROPERTIES_BIDS = {\n\t_state: {\n\t\tlabel: '_state',\n\t\tlabelIsProp: true,\n\t\tvalues: Object.keys(BID_STATES).map(key => {\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\n\t\t}),\n\t},\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\n}\n\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\n}\n\nexport const SORT_PROPERTIES_ITEMS = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n\t{ value: 'type' },\n]\n\nexport const SORT_PROPERTIES_COLLECTION = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n]\n\nexport const FILTER_PROPERTIES_ITEMS = {\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\n}\n\nexport const AUTH_TYPES = {\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\n\tLEDGER: { name: 'ledger', signType: SignatureModes.GETH, limit: 0 },\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\n}\n\nexport const NETWORK_STATUS = {\n\t0: 'pending',\n\t1: 'success',\n\t2: 'failed',\n}\n\nexport const ETHEREUM_NETWORKS = {\n\t1: { name: 'Mainnet', for: 'production' },\n\t5: { name: 'Goerli', for: 'development' },\n\tproduction: { name: 'Mainnet', for: 'production' },\n\tdevelopment: { name: 'Goerli', for: 'development' },\n}\n\nexport const SORT_PROPERTIES_CAMPAIGN = [\n\t{ value: 'created', label: 'Created' },\n\t{ value: 'status.name', label: 'Status' },\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\n\t{ value: 'activeFrom', label: 'Starts' },\n\t{ value: 'depositAmount', label: 'depositAmount' },\n\t{ value: 'maxPerImpression', label: 'cpm' },\n]\n\nexport const FILTER_PROPERTIES_CAMPAIGN = {\n\t'status.name': {\n\t\tlabel: 'ststus',\n\t\tlabelIsProp: true,\n\t\tvalues: [\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\n\t\t\t{ value: 'Offline', label: 'Offline' },\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\n\t\t\t{ value: 'Ready', label: 'Ready' },\n\t\t\t{ value: 'Active', label: 'Active' },\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\n\t\t\t{ value: 'Expired', label: 'Expired' },\n\t\t],\n\t},\n}\n\nexport const UTM_PARAMS = {\n\tutm_source: 'ADEX',\n\tutm_medium: 'CPM',\n\tutm_campaign: 'none',\n\tutm_content: 'none',\n}\n\nexport const VALIDATOR_ANALYTICS_METRICS = [\n\t'eventPayouts', //\n\t'eventCounts',\n]\nexport const VALIDATOR_ANALYTICS_SIDES = [\n\t'advertiser',\n\t'publisher', //\n]\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = ['IMPRESSION']\n\n// TEMP: disable long periods\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\n\t{ label: 'LABEL_HOUR', value: 'hour' },\n\t{ label: 'LABEL_DAY', value: 'day' },\n\t{ label: 'LABEL_WEEK', value: 'week' },\n\t// { label: 'LABEL_MONTH', value: 'month' },\n\t// { label: 'LABEL_YEAR', value: 'year' },\n]\n\nexport const MOON_GRAVITY_ACCELERATION = 1.625\nexport const MOON_TO_EARTH_WEIGHT = 0.166\n\nexport const WALLET_ACTIONS_MSGS = {\n\t[AUTH_TYPES.METAMASK.name]: [\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\n\t],\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\n\t[AUTH_TYPES.LEDGER.name]: [{ message: 'LEDGER_WAITING_ACTION' }],\n\t[AUTH_TYPES.QUICK.name]: [\n\t\t{ message: 'QUICK_WAITING_MSG' },\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\n\t],\n\t[AUTH_TYPES.GRANT.name]: [\n\t\t{ message: 'GRANT_WAITING_MSG' },\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\n\t],\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\n}\n","import adexTranslations from 'adex-translations'\nimport { renderToString } from 'react-dom/server'\n\nconst translations = adexTranslations()\n\nlet lang = 'en-US'\n\n// TODO: sanitization\nconst interpolate = (tpl, args) => {\n\tif (typeof tpl !== 'string') {\n\t\treturn ''\n\t}\n\n\treturn tpl.replace(/\\${(\\w+)}/g, (_, v) => {\n\t\tlet arg = args[v]\n\t\tif (typeof arg === 'object' && !!arg && arg.component) {\n\t\t\treturn renderToString(arg.component)\n\t\t} else {\n\t\t\treturn arg || ''\n\t\t}\n\t})\n}\n\nexport const translate = (\n\tval = '',\n\t{ isProp = false, args = [''] } = {},\n\tlanguage = lang\n) => {\n\tlet key = val + ''\n\tif (isProp) {\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\n\t}\n\n\tkey = key.toUpperCase()\n\n\tlet translation = translations[language][key] || val\n\n\tif (args.length && Array.isArray(args)) {\n\t\tconst translatedArgs = args.map(a => {\n\t\t\tif (typeof a === 'string') {\n\t\t\t\treturn translations[language][a] || a\n\t\t\t} else {\n\t\t\t\treturn a\n\t\t\t}\n\t\t})\n\n\t\ttranslation = interpolate(translation, translatedArgs)\n\t}\n\n\treturn translation\n}\n\n// TODO: fix that\nexport const setLang = lng => {\n\tlang = lng\n}\n","import Loop from './loop'\nimport { execute, updateAccountAnalytics } from 'actions'\n\nconst LOOP_TIMEOUT = 120 * 1000\n\nconst analyticsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => execute(updateAccountAnalytics()),\n\tloopName: '_ANALYTICS',\n})\n\nexport default analyticsLoop\n","import { ethers, constants } from 'ethers'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { isEthAddress } from 'helpers/validators'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\n\nexport const isEthAddressERC20 = async (addr = '', authType) => {\n\ttry {\n\t\tif (isEthAddress(addr)) {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\t\tawait Promise.all([\n\t\t\t\tcontract.totalSupply(),\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\n\t\t\t])\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t} catch (error) {\n\t\treturn false\n\t}\n}\n\nexport const getERC20Balance = async ({\n\taddr = '',\n\tbalanceFor = '',\n\tauthType,\n}) => {\n\ttry {\n\t\tconst { provider } = await getEthers(authType)\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\tconst balance = await contract.balanceOf(balanceFor)\n\n\t\treturn balance\n\t} catch (error) {\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\n\t\treturn null\n\t}\n}\n","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAABACAYAAAAzvWouAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAETtJREFUeJztnWu0XEWVgL9cLnB5JBeQgAgUlQBCCYaExwyMIsyIvBR5DwKiiQ8YdA2IQQYxGHQYB1iAS3FgBkFgAFmACgKKIENiSEAihtdgMTxiUQQJitwESAARMj92NTldfbr7dN9zu/sm9a11V3Keu7pP7zq7du29a8yKFSvIorSZCBwPHABMAMZSzRTv7EPkoLS5Evh03rGSeAVYCNwOXOqd/f0IykokRj1jxowBoL+yQ2nTD/wrMB1YszvNaspYYKfwN11pcx4w0zv7VneblUj0Nn0ASps1gJ8Ap9O7Sh6zJvA14Meh/YlEog6VN/rZwEHdbMgwOBj4BjCjUwKVNhcDJ0a7J6ahRHGUNhOA84HDsvu9s2O606JVm77whU/vdkOGyVeUNqqD8tbP2TfYQfmrAoPAI91uxOpCH/BPjB5zvR5rIZ8jkUjk0Afs3+1GlMQB3W5AItGr9AHbdrsRJbF1txuQSPQqfcA63W5EScTz/YlEItDX7QYkEomRJyl6IrEakBQ9kVgN6AcObfGaFBSSSIwy+r2zN3e7EYlEYmRJpnsisRrQ3/yURC+jtNkaOA74MLA5sAGwIfA68DywHJgPXOid/d8RkP9RYCqwS0Z2haeA+4DbvLM3jIDsDYFTgY8AWwCbZQ4PAUuB+4ErvbO/KFt+ph3bANOAvUMb8p7BfcAF3tnHR7AdA8B7QxveAp4APCRFH7UobT4DfBXYps4pA0g9AYAdgGlKGwfM8M5eW4L8rwOfBRrlGGwT/o5T2vwHcKZ39j9LkD0R+B6NoyE3DH8aOEppsxS4yDt7ZuY+LwLvylxzm3e2cHKX0uZ44DTqB2vFz+BzSpuFwFeLdHxKm3OAf4l2fzJ+fkqb3YEvhHaMBd4fDj2HdIBJ0UcbSpu/Aa5Geu5W0cA1SptpwEe8syuanJ8nfzJwI/U7mHpsDFyitPk4cGyrcjPyTwO+Cazd4qWDwAylzVHIZ38GeeNnFX2oYBv2AP6b1r8DgInA9Uqbad7ZZmHbrzdpx3rAeYgl8b6cU96o/Ccp+iiiyY98CPgt8DDwF2Bd5C2yC9XmNIiZv1hpM8k7+0IL8g8BLgHe3Xrr3+EAYB5tJCEpbb4JnNn0xMZsCzygtMlTjCJtOBOpg9DoGTyCPIMBYEfyn8H+SpvngR29s39uox3jge8jSt40c7JfaTO1RRm3eGdfarVhieGhtJmBVACKuRv4HdL7/xUpt/UiMC7sexDYBPgQK81Iwr75Shtd5M2utDkYuIh8JX8WsIip+FzY14f8uN8CDNK5VDDAd4GbmsnNyJ9JvpIPIRbGCuClIK/ClohCbg7smdm/MXAH0FLuu9LmW8hwKWYWMh5eEraXAH9GPv8bSOc7DvkOJmauezfwm2hfkXasCVyGPNNC6dH9wBWtCAGmIF9ookOEsWCs5AuBa5Ef03Xe2XsbXL9r+O8C4PDsIUTZDmkif1vgW4TxXoalyNvrOuCH3tml0XVrAPsgadA/R4qDVN5sOyFvvaYobXYkX8EuDv9a4Hrv7J9yrt0aOBD4A7A7sFU4NAXpFAuhtDkppw0LgZsRPfqBd/bhBtfvjaRT/wY4KnNogtLmh97ZY4q2BSm0MgVx+mV5Hng8/LsC6fiBZLr3PEHJvhvtXgDMBn7rnf1ps3t4Zx8IzruzEKX7eObwvkqbD3hn59WR34eYiLGp+wrwM+AE7+yrdeS+BdyhtLkTqchzFvApxJQF2K1Z2wM3U2sqnxM+y0zv7LJ6F3pnnwYuUtpcDvw7sC+wfThcKBFKaWOQsXCWBchsxq3e2dnN7uGdna20mQecC/wIOCJz+FClzRTv7IMFmrM5MBmxViq8gHT6Z3hn38ieXCkOmebRe5/rqf6RDwFzgauKKHkF7+zbwEykt38mc2gdZNxfj8+Q73S6AfEA5yp5JHuFd/ZixJy9lIJOLwClzbHUerX/C3jbO3tqIyWP2rDcO3sy8t0tbXZ+xA3UPoMHkOmy2UVv4p19E/gK8DLgMocGkE6oCEcCe2S2Hwc+5J2dHit5lqToPUxwfk2Jdl8K3O6dbbkMUxiLn478OLLsobSJzcDKWPBI5C2S5T7g+Fa99mFa6D3A11u47MvR9hDyuz2rFdkZvggUjidQ2hyDONSyXAdc7p19qlXhwcqZSW0Zrb2UNmsVuMUrrDTZfw/s4p19otlFSdF7m3gOdTawxnCCP7yzS4BfsdJxBPJWz3N0fYyVY9oKLwHHBAuhHc5FPN93NTtRabM2tUOGWxGfxJvtCPfO/gWxCIoSdzT3AC94Z+e3Iz+0YRHwGNXPYACZk29Gxbp6HfiYd3Z5EZlJ0XuUEPW1e7T7/5BAkeFyI/B0tG/nnPMOALaL9j3onXXtCvbOvoZ4qG8rcPoMRAGyvOKdndWu/MC1iAOvIUqbTVjpT6jgKOcZ3IbMlmT5+wLXVcbmN3pn4+vrkhS9d/l8tL0QWBYCPYZFMDljj3PVmzss6BGb7FBOWe2rkWmhZmP1uKN7GFg0XOHBGllc4NSTou2FwPMlTS/PJxPQEpiQd2IOSxHfSWGSovcu+0Xb85E3YVm8GG2vqbTJzslOonb6y3lnfz1cwd7Zl5GAnmbme+yEewr5HsrggQLn7B1tPwIM+/MDeGf/ijgns8TWSz3mhesLk6bXepe4d98BGK+0+XDeyW2wa7S9BfIGr3ikJwPjo3OeL0k2iEXxKOLsK8r6SORZGdyAeMAb8Z5o2yDx6keX1IbJ0fZmSptNC0QrFvXQv0NS9N4l7t3fn3tWuWTDNLektnBoTUDKMHiIBrHiIdgm7uz+FAflDIPnmp9S8wy2o9ZnUTbrNjm+2Ds7t9WbJtO9d9ms+Smlk13Dro9aB11Zb1OQsNmNGhwf6aq+Rebyu/EMmk2xtWVVJUVPVHiV6kCSvDjwQsEpBRmicXZWnrXZcrZdPbyzzTLDauIKOsByJJimEUUskRr6y1zUzjs7FSlCkCifyynB49yAjah+W5SmVHV4FUkuqUees6m032qbK/BeQ+20ZJmMp3nUXlsO2TRGHz1s4J39XAfl5Sl6mb+XQaozzWKWI2/9rN+gzLdsnDYa81rOvnW8s2eV2IZ2+EM7FyXTvXeJq+2uFQI4OsUa1I7J43Dc4TAeeavnEiLY4nH0mqHYQhnkBQhl5b9B7TMYDGHB3aRQJFxMUvTeJR5DDiKpnZ3iZWqDaho5z1plAtXVXeq1Ict6yPx+GezR/JSaZzCWlZlv3aKt0OOk6L1LPB6fBHywg/IfRzzjWcpckNNQGxkWEweU7EhtEEu7/F2Bc+Loue2BfyhJfkdJit67xPX2NwB2VtqU5pBqwoNUT7cBaKXNcMpIZRmgughGHjdG2xtQ7E1chCKWwf9E24NIxdlRR1L03uX7VGc3gUSuHdgJ4SHDKm+qp5UU01xCFdcxNC+hdC214/QtlTb7DlP+XhSre/e9HPk6FOgcVfQrbVpdqeUU72zuskyh3E4rps3d3tm4ekrlXhOAb7fSMO9sw5JIownv7JtKm7lIqmiFKcDJSps7Wo11bpMXEIdUNkLtcKS08HD4FLBps5O8s68qbR6m2lyfDHxZaTOr3VRV4MIiJ3lnlypt5lOdd7ADcLbSZr92quh2i37g4BavOavBsZ1bvF/8xsoy2OK9VkXOQAoKZkNR/xb4N2pz1dtCaTPQIHjkZmRcWlVUUmlzsXe2LWVX2rwXeZtOLXjJ14BfUh0aujuirP/chvzjaOJxjzgbKSwZyz+dNmLO67Rp7UbVYcogme49jHf2UeDOaPc44HClzfTh3l9p81ngKaXNuDryH0IKTcTm6zSlTbOa5Hny1kUUpGitOELRyzjTbBDYLyxw0Ir8XZBKtoUJceVzot1jgROUNnEqccsobb4EPFGwukzbJEXvfY6mNhpra+BEpc1loQpLSyhtxiptfoIUndwcGQvX4xpqO5sB4EqlzQdakDmI1ITfhZVv1KJJMv+IDCOybAt8QWlzd1gSqZn8mUi9uEoq7iLyg2LyOBZ4Mtq3FXCG0uY77UTZKW02UtrcglgMCvmeR4yk6D1OqMhyLLVTPVsjlURnK22mhUIRDVHabKi0uRipmXYoK83RPZQ2ufPD4Y26mNoaZ5sAdyltLmw2E6C0ORApK74X1d7u2c3aHNrwAjCd2mCRsUhVlllKmzlKm7OVNrspbbTSZnulzdFKmx8pbZ5BhpzZbLRHqc3Oqyf/JaTWXBxnrpEhyDylzVGhYm5DlDabKm0uQ4KRDkJiAwD2UdqMWBJNP9KrxnnHo5E/dln+g0qbMu83zzv7QQDv7P1hoY0rqM6oGkTGizsgTrpnkLfWfUjM9AASlHIokl45ifzQz3chddsPq9OWGUG2ojoMdQA4BRlKLAB+ipRBHkCcbXsj6bXjqc29/hVwLwXz0b2z1ypttkC8/nEq5xbhb09kTN+MWYifo/Dwwzv7yzBcOp/q+vbjEL/JZcgbfiHyDO5FIv/WQWL6D0OskB3JDzzaEBnzTy3aplboR8rz7DMSN+8wD3W7ASVTZVZ6Z+9Q2nwCMfG2jM4di0TN7UR1zfYiLANuRzzhuQTv9ynABUhd9DjmXIW/orMeT4Rzp7bSUO/suUobi4yzGy3u2Ih7kCqsj7V6oXf2eqXNK8jCEXHRzPWRjnQSxb+HCsuQTnLEchn6gB+P1M07zKryOerinZ2DKPMcykkZ/R1wonf2yDBEaCR7EeLlvosChRUbcKd3tu3iDd7ZW5Bx/u20tmLQI0hBxqne2XuGIf/niBU1l3KegUXq4x87klOmfcBV1IY6jjY8cGUH5XXCt5E77vXODnln90JMwbm0nuSwDBmjzwB29c5eXfRC7+wfgU8AP0BM72a501kWAV/0zmbnpAuNkXPa8aJ39kAkruAipI7b01Qr3qtI1dxfIyufnuydPcg7u7AdmZH8xd7ZPZF16efR/jM4DZjkna0Xy1JaFGS/d/Y1pc0JSG83Gp1zbwOfD9lOneI2pFDhSNJwKOKdvRO4U2mzFTLfvi0y3z2W6mSRZYjH2iOx498G7m032CMsQHC+0uYSROmPQObFB6hO+HgN8Zs4pA57XEv9dWT1k29k9rVUeNE76wmVWpU2A0ik3XhEQZYDz3ln6xVqyOtkWlIs7+xNwE1Km+2Q+nMTEQfdOKqfwXLEofks8p2c550tUpzyPqq/HxATv2XGrFghzzsEElyOrGfViClhfrUGpc2VwKdbkH9VKFaRd6/JSLx1I94EpvloYfjVGSXL6W6GeHPfQJxyz450RxgcZRsjCrQM8GGxiJ5EafNJpOx0lgu8s6eWcO9Nkc5vPaTDWwIsGkYkX9tU1l57Z0rGO3u10uYx4Dt0NkuqXeYAXyq4MN1qg5cVRcss4lhU7iJGtgJO2cTx8ksoqcptmA4svO58J6iae/XOLgD2VNpMAvZHTJG4EmYjB0ir1Skbnf8S4j/I8joyFvtFiBpLJNolTkx5BJkaXCV5x3RPJFYXlDYfpXZJqJ8BRzQrGjnaSMsmJ1ZLlDYbIbMGWYaAJ1c1Jc+SFD2x2hAWrnwUCd/NMovOTs92nKToiVFBiNNfEmLXd2jj+lOQCqrxMktzgCe8sw+X0c5eJZV7TowWTkJi+w9HYusXI0p6K2C9s1UVa0NK6q5IHPoh5Mf4L0Cy0krJK+9lkjMuMSpQ2gxRbl33BcD9yNz5SC7K0FVq5tETiV5FabM7Mt1ahqIPIZlm6wPnhOi6VZ6k6InRwJNIFJtGUlT3oflKKzFDSIGNN5GAohkdDpvuKsl0T4walDbrI9Vm3ofE9Pcjse3rIBltWeW/C1FuF7bfRqyCK0L04GpBxXRPip4YlYSlmXZDClpsyspFGVcgySl94f8OmOudfbwLzew6FUVPJBKJRCKxKvD/nMIJeWSO8QEAAAAASUVORK5CYII=\"","import { createSelectorCreator, defaultMemoize } from 'reselect'\nimport isEqual from 'lodash.isequal'\n\n// deep equal memoization instad reference check\nexport const createDeepEqualSelector = createSelectorCreator(\n\tdefaultMemoize,\n\tisEqual\n)\n","import { createSelector } from 'reselect'\nimport { createDeepEqualSelector } from './selectors'\n\nexport const selectAccount = state => state.persist.account\n\nexport const selectAuth = createSelector(\n\tselectAccount,\n\t({ wallet, identity }) =>\n\t\t!!wallet &&\n\t\t!!wallet.address &&\n\t\t!!wallet.authSig &&\n\t\t!!wallet.authType &&\n\t\t!!identity.address\n)\n\nexport const selectWallet = createDeepEqualSelector(\n\tselectAccount,\n\t({ wallet }) => wallet\n)\n\nexport const selectAuthSig = createSelector(\n\tselectWallet,\n\t({ authSig }) => authSig\n)\n\nexport const selectAuthType = createSelector(\n\tselectWallet,\n\t({ authType }) => authType\n)\n\nexport const selectAccountIdentity = createSelector(\n\tselectAccount,\n\t({ identity }) => identity\n)\n\nexport const selectAccountIdentityAddr = createSelector(\n\tselectAccountIdentity,\n\t({ address }) => address\n)\n\nexport const selectAccountStats = createSelector(\n\tselectAccount,\n\t({ stats }) => stats || {}\n)\n\nexport const selectAccountSettings = createSelector(\n\tselectAccount,\n\t({ settings }) => settings || {}\n)\n\nexport const selectAccountStatsRaw = createSelector(\n\tselectAccountStats,\n\t({ raw }) => raw || {}\n)\n\nexport const selectAccountStatsFormatted = createSelector(\n\tselectAccountStats,\n\t({ formatted }) => formatted || {}\n)\n\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData }) =>\n\t\trelayerData &&\n\t\trelayerData.routineAuthorizationsData &&\n\t\trelayerData.routineAuthorizationsData[0]\n\t\t\t? relayerData.routineAuthorizationsData[0]\n\t\t\t: null\n)\n","export const selectIdentity = state => state.memory.identity\n","import { createSelector } from 'reselect'\n\nexport const selectLocation = state => state.router.location\n\nexport const selectSearch = createSelector(\n\tselectLocation,\n\t({ search }) => search\n)\n\nexport const selectLocationQuery = createSelector(\n\tselectLocation,\n\t({ query }) => query || {}\n)\n\nexport const selectSearchParams = createSelector(\n\tselectLocation,\n\t({ search }) => new URLSearchParams(search)\n)\n","import { createSelector } from 'reselect'\n\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\n\nexport const selectNavTitle = state => state.memory.nav.navTitle\nexport const selectSide = state => state.memory.nav.side\nexport const selectUi = state => state.persist.ui\n\nexport const selectSpinners = state => state.memory.spinners\n\nexport const selectSpinnerById = createSelector(\n\t[selectSpinners, (_, id) => id],\n\t(spinners, id) => spinners[id]\n)\n\nexport const selectMultipleSpinnersByIds = createSelector(\n\t[selectSpinners, (_, ids) => ids],\n\t(spinners, ids) => ids.map(id => spinners[id])\n)\n\nexport const selectRegistrationAllowed = createSelector(\n\tselectUi,\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\n)\n","import { createSelector } from 'reselect'\nimport { translate } from 'services/translations/translations'\nimport { getState } from 'store'\n\nexport const selectLang = state => state.persist.language\n\nexport const selectTranslations = createSelector(\n\t[\n\t\tselectLang,\n\t\t(_, val, opts = {}) => {\n\t\t\treturn { val, opts }\n\t\t},\n\t],\n\t(lang, { val, opts }) => {\n\t\tconst { isProp = false, args = [''] } = opts\n\t\treturn translate(val, { isProp, args }, lang)\n\t}\n)\n\n// Need to useSelector for language in top component where this will be used\n// Now this is don by using Translate Hoc on Root\n// It will work in actions too as the state isg get when they are called and don't need update\nexport const t = (val, opts) => {\n\treturn selectTranslations(getState(), val, opts)\n}\n","import { createSelector } from 'reselect'\nimport { formatTokenAmount, formatDateTime } from 'helpers/formatters'\n\nexport const selectAnalytics = state => state.persist.analytics\n\nexport const selectAnalyticsData = createSelector(\n\t[selectAnalytics, (_, side) => side],\n\t(analytics, side) => {\n\t\treturn analytics[side] || {}\n\t}\n)\n\nexport const selectAnalyticsDataAggr = createSelector(\n\t[selectAnalytics, (_, opts = {}) => opts],\n\t(analytics, { side, eventType, metric, timeframe }) => {\n\t\treturn analytics[side][eventType][metric][timeframe].aggr\n\t}\n)\n\nexport const selectTotalImpressions = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalMoney = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t}),\n\teventPayouts =>\n\t\teventPayouts\n\t\t\t? eventPayouts.reduce(\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value, 18)) || 0,\n\t\t\t\t\t0\n\t\t\t  )\n\t\t\t: null\n)\n\nexport const selectAverageCPM = createSelector(\n\t[\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalMoney(state, { side, timeframe }),\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalImpressions(state, { side, timeframe }),\n\t],\n\t(totalMoney, totalImpressions) =>\n\t\ttotalMoney !== null && totalImpressions !== null\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\n\t\t\t: null\n)\n\nconst parseValueByMetric = ({ value, metric }) => {\n\tswitch (metric) {\n\t\tcase 'eventPayouts':\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\n\t\tcase 'eventCounts':\n\t\t\treturn parseInt(value, 10)\n\t\tdefault:\n\t\t\treturn value\n\t}\n}\n\nexport const selectStatsChartData = createSelector(\n\t[\n\t\t(state, { noLastOne, ...rest } = {}) => {\n\t\t\treturn { data: selectAnalyticsDataAggr(state, rest), noLastOne, ...rest }\n\t\t},\n\t],\n\t({ data = [], noLastOne, metric, ...rest }) => {\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\n\t\treturn aggr.reduce(\n\t\t\t(memo, item) => {\n\t\t\t\tconst { time, value } = item\n\t\t\t\tmemo.labels.push(formatDateTime(time))\n\t\t\t\tmemo.datasets.push(parseValueByMetric({ value, metric }))\n\t\t\t\treturn memo\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabels: [],\n\t\t\t\tdatasets: [],\n\t\t\t}\n\t\t)\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectValidations = state => state.memory.validations\n\nexport const selectValidationsById = createSelector(\n\t[selectValidations, (_, id) => id],\n\t(validations, id) => validations[id]\n)\n\nexport const selectMultipleValidationsByIds = createSelector(\n\t[selectValidations, (_, ids) => ids],\n\t(validations, ids) => ids.map(id => validations[id])\n)\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\n\n// can be used outside  components\nexport const selectRelayerConfig = state => {\n\treturn (state || getState()).persist.config.relayer\n}\n\n// - relayer cfg\n// network,\n// feeTokenWhitelist, // [{ address, symbol, decimals, standard, min, minDeploy }],\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal }],\n// coreAddr,\n// baseIdentityAddr,\n// identityFactoryAddr,\n// registryAddr,\n// daiAddr,\n// marketUrl,\n// identityRecoveryAddr,\n// weeklyFeeAmount,\n// mainToken, // { address, symbol, decimals, standard },\n// advertiserMinGrantAmount\n// relayerAddr\n\nexport const selectFeeTokenWhitelist = createSelector(\n\t[selectRelayerConfig],\n\t({ feeTokenWhitelist }) => {\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokens = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.map(t => t.address)\n\t}\n)\n\nexport const selectConfig = createSelector(\n\t[selectRelayerConfig],\n\trelayerConfig => {\n\t\tconst cfg = { ...relayerConfig }\n\t\treturn cfg\n\t}\n)\n\nexport const selectMainToken = createSelector(\n\t[selectRelayerConfig],\n\t({ mainToken }) => mainToken\n)\n\nexport const selectSaiToken = createSelector(\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\n)\n\nexport const selectMainFeeToken = createSelector(\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\n\t({ mainToken }, feeTokenWhitelist) => {\n\t\treturn feeTokenWhitelist[mainToken.address]\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectNewTransactions = state => state.memory.newTransactions\n\nexport const selectNewTransactionById = createSelector(\n\t[selectNewTransactions, (_, id) => id],\n\t(txns, id) => txns[id] || {}\n)\n","export * from './accountSelectors'\nexport * from './identitySelectors'\nexport * from './locationSelectors'\nexport * from './uiSelectors'\nexport * from './translationsSelectors'\nexport * from './analyticsSelectors'\nexport * from './validationsSelectors'\nexport * from './configSelectors'\nexport * from './newTransactionSelectors'\n","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\nimport {\n\tVALIDATOR_ANALYTICS_SIDES,\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\n\tVALIDATOR_ANALYTICS_METRICS,\n\tVALIDATOR_ANALYTICS_TIMEFRAMES,\n} from 'constants/misc'\n\nexport const getValidatorAnalyticsInitialState = () => {\n\tconst initialState = { timeframe: 'day' }\n\tVALIDATOR_ANALYTICS_SIDES.forEach(side =>\n\t\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\n\t\t\t\tVALIDATOR_ANALYTICS_TIMEFRAMES.forEach(timeframe => {\n\t\t\t\t\tinitialState[side] = initialState[side] || {}\n\t\t\t\t\tinitialState[side][eventType] = initialState[side][eventType] || {}\n\t\t\t\t\tinitialState[side][eventType][metric] =\n\t\t\t\t\t\tinitialState[side][eventType][metric] || {}\n\t\t\t\t\tinitialState[side][eventType][metric][timeframe.value] =\n\t\t\t\t\t\tinitialState[side][eventType][metric][timeframe.value] || {}\n\t\t\t\t})\n\t\t\t)\n\t\t)\n\t)\n\n\treturn initialState\n}\n\nlet initialState = {\n\taccount: new Account(),\n\tsignin: {\n\t\tname: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\tpassConfirm: '',\n\t\tseed: '',\n\t\tpublicKey: '',\n\t\tseedCheck: [],\n\t\tauthenticated: false,\n\t},\n\tnewItem: {\n\t\tCampaign: new Campaign().plainObj(),\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\n\t\tAdSlot: new AdSlot().plainObj(),\n\t},\n\tcurrentItem: {},\n\titems: {\n\t\tCampaign: {},\n\t\tAdUnit: {},\n\t\tAdSlot: {},\n\t},\n\tspinners: {},\n\tui: {},\n\ttoasts: [],\n\tconfirm: {\n\t\tdata: {},\n\t},\n\tnav: {\n\t\tside: '',\n\t},\n\tlanguage: 'en-US',\n\tvalidations: {},\n\tnewTransactions: {\n\t\tdefault: {},\n\t},\n\tweb3Transactions: {},\n\ttags: {},\n\tidentity: {},\n\tethNetwork: {\n\t\tnetworkId: null,\n\t\tgasData: {},\n\t},\n\twallet: {},\n\tconfig: {\n\t\trelayer: {},\n\t\tmarket: {},\n\t\tvalidators: {},\n\t},\n\tanalytics: getValidatorAnalyticsInitialState(),\n}\n\nexport default initialState\n","import { formatUnits, commify } from 'ethers/utils'\nimport MomentUtils from '@date-io/moment'\nconst moment = new MomentUtils()\n\nconst DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\n\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\n\tif (!timestamp) {\n\t\treturn 'no date'\n\t}\n\tconst date = moment.date(timestamp)\n\treturn date.format(format)\n}\n\nexport const formatTokenAmount = (\n\tamountString,\n\tdecimals = 18,\n\tpretty,\n\ttoFixed\n) => {\n\tconst formatted = formatUnits(amountString, decimals)\n\tif (pretty) {\n\t\treturn commify(formatted)\n\t} else if (typeof toFixed === 'number') {\n\t\treturn parseFloat(formatted).toFixed(toFixed)\n\t} else {\n\t\treturn formatted\n\t}\n}\n\nexport const formatAddress = (address = '') => {\n\treturn `${address.substring(0, 8)}...${address.substring(36, 42)}`\n}\n\nexport const formatNumberWithCommas = x => {\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n}\n","import { Signer } from 'ethers'\nimport { ethers, utils } from 'ethers'\nimport LedgerEth from '@ledgerhq/hw-app-eth'\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\nimport HDKey from 'hdkey'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'\"\n\nexport default class LedgerSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t\tthis._transport = TransportU2F\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\taddrsFromPubKey = async (\n\t\tpublicKey = '',\n\t\tchainCode = '',\n\t\t{ from = 0, to = 19 } = {}\n\t) => {\n\t\tconst hdKey = new HDKey()\n\t\thdKey.publicKey = Buffer.from(publicKey, 'hex')\n\t\thdKey.chainCode = Buffer.from(chainCode, 'hex')\n\n\t\tconst addrs = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tconst derivedKey = hdKey.derive(`m/${index}`).publicExtendedKey\n\n\t\t\tconst addr = utils.HDNode.fromExtendedKey(derivedKey).address\n\n\t\t\taddrs.push({\n\t\t\t\taddress: addr,\n\t\t\t\tpath: `${this.path}/${index}`,\n\t\t\t})\n\t\t}\n\n\t\treturn addrs\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 5 } = {}) => {\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\t\tconst { publicKey, chainCode } = await eth.getAddress(\n\t\t\tthis.path,\n\t\t\tfalse,\n\t\t\ttrue\n\t\t)\n\n\t\tconst addresses = await this.addrsFromPubKey(publicKey, chainCode, {\n\t\t\tfrom,\n\t\t\tto,\n\t\t})\n\n\t\treturn addresses\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\t\tconst txUnsigned = utils.serializeTransaction(txProps).substring(2)\n\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\t\tconst { r, s, v } = await eth.signTransaction(this.path, txUnsigned)\n\n\t\tconst signature = {\n\t\t\tr: '0x' + r,\n\t\t\ts: '0x' + s,\n\t\t\tv,\n\t\t}\n\n\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\treturn txSigned\n\t}\n\n\t/*\n\t * TODO: may not work.\n\t * The ledger device or u2f seems to broken\n\t * Can list the addresses\n\t * Can sign messages\n\t * Signs transactions\n\t * Actually it show the tx but does not return value after\n\t * confirmation on the device\n\t */\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (!opts.hex) {\n\t\t\tif (typeof message === 'string') {\n\t\t\t\tmessage = utils.toUtf8Bytes(message)\n\t\t\t}\n\n\t\t\tmessage = ethers.utils.hexlify(message)\n\t\t}\n\n\t\tmessage = message.substring(2)\n\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\n\t\tconst signature = await eth.signPersonalMessage(this.path, message)\n\t\tsignature.r = '0x' + signature.r\n\t\tsignature.s = '0x' + signature.s\n\n\t\tconst { address } = await eth.getAddress(this.path)\n\n\t\tconst res = {\n\t\t\tsignature: ethers.utils.joinSignature(signature),\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LedgerSigner(provider, { path: this.path })\n\t}\n}\n","import base64 from 'base64url'\nimport ethers from 'ethers'\n\n// see https://github.com/ethereum/EIPs/issues/1341\n// Implements EIP 1341: Ethereum Web Tokens\n\nconst HEADER = base64.encode(\n\tJSON.stringify({\n\t\ttype: 'JWT',\n\t\talg: 'ETH',\n\t})\n)\n\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\n// .address is always checksummed\nfunction sign(signer, payload) {\n\tconst payloadEncoded = base64.encode(\n\t\tJSON.stringify({\n\t\t\t...payload,\n\t\t\taddress: signer.address,\n\t\t})\n\t)\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\n\t})\n}\n\nfunction verify(token) {\n\tconst parts = token.split('.')\n\tif (parts.length !== 3) {\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\n\t}\n\tconst msg = parts.slice(0, 2).join('.')\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\n\ttry {\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\n\t\treturn Promise.resolve({ from, payload })\n\t} catch (e) {\n\t\treturn Promise.reject(e)\n\t}\n}\n\nexport default { sign, verify }\n","import { store } from 'store'\n\nexport const execute = store.dispatch\n\nexport const dispatch = store.dispatch\n\nexport const getState = store.getState\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport * as types from 'constants/actionTypes'\nimport Helper from 'helpers/miscHelpers'\nimport { translate } from 'services/translations/translations'\n\nexport function updateSpinner(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SPINNER,\n\t\t\tspinner: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function updateUi(item, value, category) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_UI,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t\tcategory: category,\n\t\t})\n\t}\n}\n\nexport function addToast({\n\ttype,\n\taction,\n\tlabel = '',\n\ttimeout = false,\n\tunclosable,\n\tanchorOrigin,\n\ttop,\n}) {\n\treturn function(dispatch) {\n\t\tconst id = Helper.getGuid()\n\t\tdispatch({\n\t\t\ttype: types.ADD_TOAST,\n\t\t\ttoast: {\n\t\t\t\ttype,\n\t\t\t\taction,\n\t\t\t\tlabel,\n\t\t\t\ttimeout,\n\t\t\t\tunclosable,\n\t\t\t\tanchorOrigin,\n\t\t\t\ttop,\n\t\t\t\tid,\n\t\t\t},\n\t\t})\n\n\t\treturn id\n\t}\n}\n\nexport function removeToast(toastId) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.REMOVE_TOAST,\n\t\t\ttoast: toastId,\n\t\t})\n\t}\n}\n\nexport function confirmAction(\n\tonConfirm,\n\tonCancel,\n\t{ confirmLabel = '', cancelLabel = '', title = '', text = '' } = {},\n\tnoActionBtns,\n\tactive\n) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CONFIRM_ACTION,\n\t\t\tconfirm: {\n\t\t\t\tonConfirm: onConfirm,\n\t\t\t\tonCancel: onCancel,\n\t\t\t\tdata: {\n\t\t\t\t\tconfirmLabel: confirmLabel,\n\t\t\t\t\tcancelLabel: cancelLabel,\n\t\t\t\t\ttitle: title,\n\t\t\t\t\ttext: text,\n\t\t\t\t},\n\t\t\t\tnoActionBtns,\n\t\t\t\tactive,\n\t\t\t},\n\t\t})\n\t}\n}\n\nexport function updateNav(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NAV,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function changeLanguage(lang) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CHANGE_LANGUAGE,\n\t\t\tlang: lang,\n\t\t})\n\t}\n}\n\nexport function updateRegistrationAllowed(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\n\t\t\tupdateUi('allowRegistration', true)(dispatch)\n\t\t}\n\t}\n}\n\nexport function refreshCacheAndReload({ version, notification = false }) {\n\treturn function(dispatch) {\n\t\ttry {\n\t\t\tif (notification) {\n\t\t\t} else {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'accept',\n\t\t\t\t\taction: (\n\t\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (caches) {\n\t\t\t\t\t\t\t\t\t// Service worker cache should be cleared with caches.delete()\n\t\t\t\t\t\t\t\t\tcaches.keys().then(async function(names) {\n\t\t\t\t\t\t\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.location.reload(true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{translate('REFRESH')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t),\n\t\t\t\t\tlabel: translate('SUCCESS_UPDATING_NEW_APP_VERSION', {\n\t\t\t\t\t\targs: [version],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_APP'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function handleRedirectParams(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('confirm-email')\n\t\tconst identity = searchParams.get('confirm-identity')\n\t\tconst grant = searchParams.get('confirm-grant')\n\n\t\tif (email && identity && !grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL', {\n\t\t\t\t\targs: [email, identity],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} else if (email && identity && grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL_GRANT', {\n\t\t\t\t\targs: [email, identity, grant],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n","export const addSig = ({\n\taddr = '',\n\tsig,\n\tmode,\n\texpiryTime,\n\tidentity = 'notset',\n}) => {\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\n\t\tthrow new Error('addSig - all args are required')\n\t}\n\n\tlocalStorage.setItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\n\t\tsig + '-' + expiryTime\n\t)\n}\n\nexport const getSig = ({ addr = '', identity = '', mode }) => {\n\tlet sigAndTIme = localStorage.getItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\n\t)\n\n\tif (!sigAndTIme) {\n\t\treturn null\n\t}\n\n\tsigAndTIme = sigAndTIme.split('-')\n\tlet sig = sigAndTIme[0]\n\tlet time = sigAndTIme[1]\n\n\tif (!time || parseInt(time, 10) <= Date.now()) {\n\t\treturn null\n\t} else {\n\t\treturn sig\n\t}\n}\n","export const getErrorMsg = err => {\n\tif (!err) {\n\t\treturn ''\n\t} else if (typeof err === 'object') {\n\t\treturn err.msg || err.message || err.errMsg || err.error\n\t} else if (Array.isArray(err)) {\n\t\treturn err.join(', ')\n\t} else {\n\t\treturn err\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { addSig, getSig } from 'services/auth/auth'\nimport { getSession, checkSession } from 'services/adex-market/actions'\nimport {\n\tgetRelayerConfigData,\n\tregAccount,\n\tgetQuickWallet,\n\tbackupWallet,\n} from 'services/adex-relayer/actions'\nimport { updateSpinner } from './uiActions'\nimport { translate } from 'services/translations/translations'\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\nimport {\n\tremoveLegacyKey,\n\tgetWalletHash,\n\tgenerateSalt,\n\tgetRecoveryWalletData,\n} from 'services/wallet/wallet'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport {\n\tgetAccountStats,\n\tgetOutstandingBalance,\n} from 'services/smart-contracts/actions/stats'\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\nimport { addToast, confirmAction } from './uiActions'\nimport {\n\tgetEthers,\n\tgetEthereumProvider,\n\tethereumSelectedAddress,\n\tethereumNetworkId,\n} from 'services/smart-contracts/ethers'\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\nimport {\n\tselectAccount,\n\tselectIdentity,\n\tselectAuth,\n\tselectWallet,\n} from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { getErrorMsg } from 'helpers/errors'\nimport { push } from 'connected-react-router'\nimport { CREATING_SESSION, QUICK_WALLET_BACKUP } from 'constants/spinners'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\n// MEMORY STORAGE\nexport function updateSignin(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SIGNIN,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetSignin() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_SIGNIN,\n\t\t})\n\t}\n}\n\n// PERSISTENT STORAGE\nexport function createAccount(acc) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CREATE_ACCOUNT,\n\t\t\taccount: acc,\n\t\t})\n\t}\n}\n\n// LOGOUT\nexport function resetAccount() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ACCOUNT,\n\t\t})\n\t}\n}\n\nexport function updateAccount({ meta, newValues }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ACCOUNT,\n\t\t\tmeta: meta,\n\t\t\tnewValues: newValues,\n\t\t})\n\t}\n}\n\nexport function updateGasData({ gasData }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_GAS_DATA,\n\t\t\tgasData: gasData,\n\t\t})\n\t}\n}\n\nexport function updateAccountStats() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account } = getState().persist\n\t\ttry {\n\t\t\tconst { identity, wallet } = account\n\t\t\tconst { address } = identity\n\t\t\tconst withBalance = await getChannelsWithOutstanding({\n\t\t\t\tidentityAddr: address,\n\t\t\t\twallet,\n\t\t\t})\n\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\n\t\t\t\twallet,\n\t\t\t\taddress,\n\t\t\t\twithBalance,\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\n\t\t\t})\n\n\t\t\tconst { formatted, raw } = await getAccountStats({\n\t\t\t\taccount,\n\t\t\t\toutstandingBalanceMainToken,\n\t\t\t})\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { stats: { formatted, raw } },\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_STATS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateValidatorAuthTokens({ newAuth }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { identity } = getState().persist.account\n\n\t\tconst newIdentity = { ...identity }\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\n\n\t\t// We don't want to update account if there is no actual change\n\t\tif (\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\n\t\t\tJSON.stringify(newTokens)\n\t\t) {\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\n\t\t}\n\t}\n}\n\nexport function createSession({\n\twallet,\n\tidentity = {},\n\temail,\n\tdeleteLegacyKey,\n}) {\n\treturn async function(dispatch) {\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\n\t\ttry {\n\t\t\tconst newWallet = { ...wallet }\n\t\t\tconst sessionSignature =\n\t\t\t\tgetSig({\n\t\t\t\t\taddr: newWallet.address,\n\t\t\t\t\tmode: newWallet.authType,\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t}) || null\n\n\t\t\tconst hasSession =\n\t\t\t\t!!sessionSignature &&\n\t\t\t\t(await checkSession({\n\t\t\t\t\tauthSig: sessionSignature,\n\t\t\t\t\tskipErrToast: true,\n\t\t\t\t}))\n\n\t\t\tif (hasSession) {\n\t\t\t\tnewWallet.authSig = sessionSignature\n\t\t\t} else {\n\t\t\t\tconst {\n\t\t\t\t\tsignature,\n\t\t\t\t\tmode,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\n\n\t\t\t\tconst { status, expiryTime } = await getSession({\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\tmode: mode,\n\t\t\t\t\tsignature,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t\tsignerAddress: newWallet.address,\n\t\t\t\t})\n\n\t\t\t\tif (status === 'OK') {\n\t\t\t\t\taddSig({\n\t\t\t\t\t\taddr: wallet.address,\n\t\t\t\t\t\tsig: signature,\n\t\t\t\t\t\tmode: wallet.authType,\n\t\t\t\t\t\texpiryTime: expiryTime,\n\t\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\t})\n\t\t\t\t\tnewWallet.authSig = signature\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst account = {\n\t\t\t\temail: email,\n\t\t\t\twallet: newWallet,\n\t\t\t\tidentity: { ...identity },\n\t\t\t}\n\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taccount.identity.validatorAuthTokens = {\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\n\t\t\t}\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { ...account },\n\t\t\t})(dispatch)\n\n\t\t\tif (deleteLegacyKey) {\n\t\t\t\tawait removeLegacyKey({\n\t\t\t\t\temail: wallet.email,\n\t\t\t\t\tpassword: wallet.password,\n\t\t\t\t})\n\t\t\t}\n\t\t\tdispatch(push('/side-select'))\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\n\t}\n}\n\nexport function getRelayerConfig() {\n\treturn async function(dispatch) {\n\t\tconst cfg = await getRelayerConfigData()\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\n\t\t\tcfg,\n\t\t})\n\t}\n}\n\nasync function getNetworkId() {\n\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\n\tconst networkId = (await provider.getNetwork()).chainId\n\n\treturn networkId\n}\n\nasync function getNetworkData({ id }) {\n\tconst networkId = id || (await getNetworkId())\n\tconst network = ETHEREUM_NETWORKS[networkId] || {}\n\n\treturn network\n}\n\nexport function onMetamaskNetworkChange({ id } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { persist, router } = getState()\n\t\tconst { location } = router\n\t\tconst { account } = persist\n\t\tconst { search } = location\n\t\tconst { authType } = account.wallet\n\n\t\tconst isMetamaskMatters =\n\t\t\t(authType === AUTH_TYPES.METAMASK.name ||\n\t\t\t\t(!authType && search === '?metamask')) &&\n\t\t\t(await getEthereumProvider()) === AUTH_TYPES.METAMASK.name\n\n\t\tif (\n\t\t\tisMetamaskMatters &&\n\t\t\tprocess.env.NODE_ENV !== (await getNetworkData({ id })).for\n\t\t) {\n\t\t\tconfirmAction(\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\ttitle: translate('WARNING'),\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\ttrue\n\t\t\t)(dispatch)\n\t\t} else {\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\n\t\t}\n\t}\n}\n\nexport const onMetamaskAccountChange = accountAddress => {\n\treturn async function(_, getState) {\n\t\tconst state = getState()\n\t\tconst hasAuth = selectAuth(state)\n\t\tconst account = selectAccount(state)\n\t\tconst { authType, address } = account.wallet\n\n\t\tif (\n\t\t\thasAuth &&\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\n\t\t\t(!accountAddress || address !== accountAddress)\n\t\t) {\n\t\t\tlogOut()\n\t\t} else if (!hasAuth) {\n\t\t\tconst identity = selectIdentity(state)\n\t\t\tconst { identityContractOwner } = identity\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\n\t\t}\n\t}\n}\n\nexport function metamaskAccountCheck() {\n\treturn async function(_, getState) {\n\t\tconst address = await ethereumSelectedAddress()\n\t\tonMetamaskAccountChange(address)(_, getState)\n\t}\n}\n\nexport function metamaskNetworkCheck() {\n\treturn async function(_, getState) {\n\t\tconst id = await ethereumNetworkId()\n\t\tonMetamaskNetworkChange({ id })(_, getState)\n\t}\n}\n\nexport function metamaskChecks() {\n\treturn async function(_, getState) {\n\t\tmetamaskNetworkCheck()(_, getState)\n\t\tmetamaskAccountCheck()(_, getState)\n\t\tif (window.ethereum) {\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\n\t\t\t\tconsole.log('acc changed', accounts[0])\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\n\t\t\t})\n\t\t\twindow.ethereum.on('networkChanged', network => {\n\t\t\t\tconsole.log('networkChanged', network)\n\t\t\t\tonMetamaskNetworkChange({ id: network })(_, getState)\n\t\t\t})\n\t\t}\n\t}\n}\n\nasync function hasBackup({ email, password }) {\n\tconst salt = generateSalt(email)\n\tconst hash = await getWalletHash({ salt, password })\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\n\n\treturn !!encryptedWallet && encryptedWallet.wallet\n}\n\nasync function makeBackup({ email, password, authType }) {\n\tconst walletSalt = generateSalt(email)\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\n\tconst encryptedWallet = await getRecoveryWalletData({\n\t\temail,\n\t\tpassword,\n\t\tauthType,\n\t})\n\n\tawait backupWallet({\n\t\temail,\n\t\tsalt: walletSalt,\n\t\thash: walletHash,\n\t\tencryptedWallet,\n\t})\n}\n\nexport function ensureQuickWalletBackup() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\n\t\ttry {\n\t\t\tconst { email, password, authType } = selectWallet(getState())\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\n\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\n\t\t\t\tawait makeBackup({ email, password, authType })\n\t\t\t}\n\t\t} catch (err) {}\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\tuploadImage,\n\tpostAdUnit,\n\tpostAdSlot,\n\tupdateAdSlot,\n\tupdateAdUnit,\n\tupdateCampaign,\n} from 'services/adex-market/actions'\nimport { execute } from 'actions'\nimport { push } from 'connected-react-router'\nimport { parseUnits, bigNumberify } from 'ethers/utils'\nimport { Base, AdSlot, AdUnit, helpers, Campaign } from 'adex-models'\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\nimport { updateValidatorAuthTokens } from './accountActions'\nimport { translate } from 'services/translations/translations'\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\nimport {\n\tgetAdUnits,\n\tgetAdSlots,\n\tgetCampaigns,\n} from 'services/adex-market/actions'\nimport {\n\topenChannel,\n\tcloseChannel,\n} from 'services/smart-contracts/actions/core'\nimport { lastApprovedState } from 'services/adex-validator/actions'\nimport { closeCampaignMarket } from 'services/adex-market/actions'\nimport initialState from 'store/initialState'\nimport { getMediaSize } from 'helpers/mediaHelpers'\nimport { getErrorMsg } from 'helpers/errors'\nimport { SOURCES } from 'constants/targeting'\nimport {\n\tselectAccount,\n\tselectRelayerConfig,\n\tselectAuthSig,\n\tselectAuth,\n} from 'selectors'\nimport { OPENING_CAMPAIGN } from 'constants/spinners'\n\nconst addToast = ({ type, toastStr, args, dispatch }) => {\n\treturn AddToastUi({\n\t\tdispatch: dispatch,\n\t\ttype: type,\n\t\tlabel: translate(toastStr, { args: args }),\n\t\ttimeout: 5000,\n\t})(dispatch)\n}\n\nconst getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\n\treturn fetch(tempUrl)\n\t\t.then(resp => {\n\t\t\treturn resp.blob()\n\t\t})\n\t\t.then(imgBlob => {\n\t\t\tURL.revokeObjectURL(tempUrl)\n\t\t\treturn uploadImage({\n\t\t\t\timageBlob: imgBlob,\n\t\t\t\timageName: 'image.jpeg',\n\t\t\t\tauthSig: authSig,\n\t\t\t})\n\t\t})\n}\n\nexport function updateNewItem(item, newValues, itemType, objModel) {\n\titem = Base.updateObject({ item, newValues, objModel })\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\titem,\n\t\t\titemType,\n\t\t})\n\t}\n}\n\nexport function resetNewItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function resetAllNewItems() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_NEW_ITEMS,\n\t\t})\n\t}\n}\n\n// register item\nexport function addUnit(item) {\n\tconst newItem = { ...item }\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\tauthSig,\n\t\t\t})).ipfs\n\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\n\t\t\tnewItem.mediaMime = newItem.temp.mime\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tconst resItem = await postAdUnit({\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\n\t\t\t\titemType: 'AdUnit',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function addSlot(item) {\n\tconst newItem = { ...item }\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst { mainToken } = selectRelayerConfig()\n\t\t\tlet fallbackUnit = null\n\t\t\tif (newItem.temp.useFallback) {\n\t\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\t\tauthSig,\n\t\t\t\t})).ipfs\n\n\t\t\t\tconst unit = new AdUnit({\n\t\t\t\t\ttype: newItem.type,\n\t\t\t\t\tmediaUrl: `ipfs://${imageIpfs}`,\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\n\t\t\t\t\tmediaMime: newItem.temp.mime,\n\t\t\t\t\tcreated: Date.now(),\n\t\t\t\t\ttitle: newItem.title,\n\t\t\t\t\tdescription: newItem.description,\n\t\t\t\t\ttargeting: [],\n\t\t\t\t\ttags: [],\n\t\t\t\t\tpassback: true,\n\t\t\t\t})\n\n\t\t\t\tconst resUnit = await postAdUnit({\n\t\t\t\t\tunit: unit.marketAdd,\n\t\t\t\t\tauthSig,\n\t\t\t\t})\n\n\t\t\t\tfallbackUnit = resUnit.ipfs\n\t\t\t}\n\n\t\t\tnewItem.fallbackUnit = fallbackUnit\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tif (newItem.temp.minPerImpression) {\n\t\t\t\tnewItem.minPerImpression = {\n\t\t\t\t\t[mainToken.address]: parseUnits(\n\t\t\t\t\t\tnewItem.temp.minPerImpression,\n\t\t\t\t\t\tmainToken.decimals\n\t\t\t\t\t)\n\t\t\t\t\t\t.div(bigNumberify(1000))\n\t\t\t\t\t\t.toString(),\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst resItem = await postAdSlot({\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\n\t\t\t\titemType: 'AdSlot',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdSlot', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\n\t\t\t\targs: ['AdSlot', err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function getAllItems() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst { account } = getState().persist\n\t\t\tconst { address } = account.identity\n\t\t\tconst units = getAdUnits({ identity: address })\n\t\t\tconst slots = getAdSlots({ identity: address })\n\n\t\t\tconst [resUnits, resSlots] = await Promise.all([units, slots])\n\n\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\n\t\t\tupdateItems({ items: resSlots, itemType: 'AdSlot' })(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\n\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function openCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\n\t\tconst account = selectAccount(getState())\n\t\ttry {\n\t\t\tawait getAllValidatorsAuthForIdentity({\n\t\t\t\twithBalance: [{ channel: campaign }],\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tconst { readyCampaign } = await openChannel({\n\t\t\t\tcampaign,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: readyCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'OPENING_CAMPAIGN_SENT_TO_RELAYER',\n\t\t\t\targs: [readyCampaign.id],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_OPENING_CAMPAIGN',\n\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t})\n\t\t}\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\n\t\treturn true\n\t}\n}\n\n// Accepts the entire new item and replace so be careful!\nexport function updateItem({ item, itemType } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner('update' + item.id, true)(dispatch)\n\t\ttry {\n\t\t\tconst { account } = getState().persist\n\t\t\tconst { authSig } = account.wallet\n\t\t\tconst { mainToken } = selectRelayerConfig()\n\n\t\t\tlet updatedItem = null\n\t\t\tlet objModel = null\n\n\t\t\tconst { id } = item\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tif (item.temp.minPerImpression) {\n\t\t\t\t\t\titem.minPerImpression = {\n\t\t\t\t\t\t\t[mainToken.address]: parseUnits(\n\t\t\t\t\t\t\t\titem.temp.minPerImpression,\n\t\t\t\t\t\t\t\tmainToken.decimals\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.div(bigNumberify(1000))\n\t\t\t\t\t\t\t\t.toString(),\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst slot = new AdSlot(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id, authSig })).slot\n\t\t\t\t\tobjModel = AdSlot\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tconst unit = new AdUnit(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id, authSig })).unit\n\t\t\t\t\tobjModel = AdUnit\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tconst campaign = new Campaign(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id, authSig }))\n\t\t\t\t\t\t.campaign\n\t\t\t\t\tobjModel = Campaign\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\n\t\t\t}\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\n\t\t\t\titemType,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_UPDATING_ITEM',\n\t\t\t\targs: [itemType, item.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_UPDATING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t\tupdateSpinner('update' + item.id, false)(dispatch)\n\t}\n}\n\nexport function deleteItem({ item, objModel, authSig } = {}) {\n\titem = { ...item }\n\titem._deleted = true\n\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\n}\n\nexport function restoreItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._deleted = false\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_RESTORE_ITEM',\n\t\terrMsg: 'ERR_RESTORING_ITEM',\n\t})\n}\n\nconst findSourceByTag = tag => {\n\treturn Object.keys(SOURCES).find(\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\n\t)\n}\n\nexport function cloneItem({ item, itemType, objModel } = {}) {\n\treturn async function(dispatch) {\n\t\ttry {\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\n\t\t\tnewItem.id = ''\n\t\t\tnewItem.temp = {\n\t\t\t\t...initialState.newItem[itemType].temp,\n\t\t\t\ttargets: item.targeting.map((t, index) => {\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\n\t\t\t\t\treturn {\n\t\t\t\t\t\tkey: index,\n\t\t\t\t\t\tcollection: 'targeting',\n\t\t\t\t\t\tsource: key,\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\ttarget: { ...t },\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t}\n\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\n\t\t\t\tnewItem.mediaUrl,\n\t\t\t\tprocess.env.IPFS_GATEWAY\n\t\t\t)\n\n\t\t\tconst response = await fetch(tempUrl)\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\n\t\t\tconst mediaSize = await getMediaSize({\n\t\t\t\tmime: newItem.mediaMime,\n\t\t\t\tsrc: mediaURL,\n\t\t\t})\n\n\t\t\tconst temp = {\n\t\t\t\t...newItem.temp,\n\t\t\t\tmime: item.mediaMime,\n\t\t\t\ttempUrl: mediaURL,\n\t\t\t\twidth: mediaSize.width,\n\t\t\t\theight: mediaSize.height,\n\t\t\t}\n\n\t\t\tnewItem.temp = temp\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\t\titem: newItem,\n\t\t\t\titemType,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error(err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function archiveItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._archived = true\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_ARCHIVING_ITEM',\n\t\terrMsg: 'ERR_ARCHIVING_ITEM',\n\t})\n}\n\nexport function unarchiveItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._archived = false\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_UNARCHIVING_ITEM',\n\t\terrMsg: 'ERR_UNARCHIVING_ITEM',\n\t})\n}\n\nexport function setCurrentItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.SET_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function updateCurrentItem(item, newMeta) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t\tmeta: newMeta,\n\t\t})\n\t}\n}\n\nexport function updateItems({ items, itemType }) {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\n\t\t\titems: items,\n\t\t\titemType: itemType,\n\t\t})\n\t}\n}\n\nexport const resetAllItems = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_ITEMS,\n\t\t})\n\t}\n}\n\nexport const updateTags = ({ tags }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_TAGS,\n\t\t\ttags: tags,\n\t\t})\n\t}\n}\n\nexport const addNewTag = ({ tag }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_NEW_TAG,\n\t\t\ttag: tag,\n\t\t})\n\t}\n}\n\nexport const updateCampaignState = ({ campaign }) => {\n\treturn async dispatch => {\n\t\ttry {\n\t\t\tconst state = await lastApprovedState({ campaign })\n\t\t\tconst newCampaign = { ...campaign }\n\t\t\tnewCampaign.state = state\n\n\t\t\treturn dispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: newCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_GETTING_CAMPAIGN_LAST_STATUS',\n\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t})\n\t\t}\n\t}\n}\n\n// TEMP for testing in production until 4.1 is deployed\nfunction getHumanFriendlyName(campaign) {\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\n\t\treturn 'Closed'\n\tswitch ((campaign.status || {}).name) {\n\t\tcase 'Active':\n\t\tcase 'Ready':\n\t\tcase 'Pending':\n\t\tcase 'Initializing':\n\t\tcase 'Waiting':\n\t\tcase 'Offline':\n\t\tcase 'Disconnected':\n\t\tcase 'Unhealthy':\n\t\tcase 'Invalid':\n\t\t\treturn 'Active'\n\t\tcase 'Expired':\n\t\tcase 'Exhausted':\n\t\tcase 'Withdraw':\n\t\t\treturn 'Completed'\n\t\tdefault:\n\t\t\treturn 'N/A'\n\t}\n}\n\nexport function updateUserCampaigns() {\n\treturn async function(dispatch, getState) {\n\t\tconst hasAuth = selectAuth(getState())\n\t\tconst { wallet, identity } = selectAccount(getState())\n\t\tconst { authSig } = wallet\n\t\tconst { address } = identity\n\n\t\tif (hasAuth && authSig && address) {\n\t\t\ttry {\n\t\t\t\tconst campaigns = await getCampaigns({ authSig, creator: address })\n\n\t\t\t\tconst campaignsMapped = campaigns\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tc => c.creator && c.creator.toLowerCase() === address.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\t.map(c => {\n\t\t\t\t\t\tconst campaign = { ...c.spec, ...c }\n\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn campaign\n\t\t\t\t\t})\n\t\t\t\tupdateItems({ items: campaignsMapped, itemType: 'Campaign' })(dispatch)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\n\n\t\t\t\taddToast({\n\t\t\t\t\tdispatch,\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function closeCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst { account } = state.persist\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\n\t\t\tupdateValidatorAuthTokens({ newAuth: authTokens })(dispatch, getState)\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CLOSING_CAMPAIGN',\n\t\t\t\targs: [campaign.id],\n\t\t\t})\n\t\t\tupdateUserCampaigns(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CLOSING_CAMPAIGN',\n\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t})\n\t\t}\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { updateSpinner } from './uiActions'\nimport { validEthAddress } from '../helpers/validators'\nimport { translate } from 'services/translations/translations'\nimport { addToast } from './uiActions'\nimport { getERC20Balance } from 'services/smart-contracts/actions/erc20'\nimport { formatUnits, bigNumberify } from 'ethers/utils'\nimport { validEmail, validPassword } from 'helpers/validators'\nimport { t } from 'selectors'\nimport { getErrorMsg } from 'helpers/errors'\n\nexport function validateAddress({ addr, dirty, validate, name, setBalance }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { wallet, identity } = getState().persist.account\n\t\tconst { authType } = wallet\n\t\ttry {\n\t\t\tif (validate) validate(name, { isValid: false })\n\t\t\tupdateSpinner(name, dirty)(dispatch)\n\t\t\tconst { msg } = await validEthAddress({\n\t\t\t\taddr,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tnonERC20: !setBalance,\n\t\t\t\tauthType,\n\t\t\t})\n\t\t\tconst isValid = !msg\n\n\t\t\tif (typeof setBalance === 'function') {\n\t\t\t\tconst balance =\n\t\t\t\t\t(await getERC20Balance({\n\t\t\t\t\t\taddr,\n\t\t\t\t\t\tauthType,\n\t\t\t\t\t\tbalanceFor: identity.address,\n\t\t\t\t\t})) || bigNumberify('0')\n\t\t\t\tsetBalance(formatUnits(balance, 18))\n\t\t\t}\n\t\t\tif (validate)\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(name, false)(dispatch)\n\t}\n}\n\nexport function updateValidationErrors(item, newErrors) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\terrors: newErrors,\n\t\t})\n\t}\n}\n\nexport function resetValidationErrors(item, key) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\tkey,\n\t\t})\n\t}\n}\n\nexport function validate(\n\tvalidateId,\n\tkey,\n\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n) {\n\treturn async function(dispatch, getState) {\n\t\tif (!isValid) {\n\t\t\tlet errors = {}\n\t\t\terrors[key] = {\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\n\t\t\t\tdirty: dirty,\n\t\t\t}\n\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\n\t\t} else if (removeAll) {\n\t\t\tresetValidationErrors(validateId)(dispatch)\n\t\t} else {\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateEmail(validateId, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = validEmail(email)\n\t\tvalidate(validateId, 'email', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_EMAIL' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\n\t\tvalidate(validateId, 'emailCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePassword(validateId, password, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = validPassword(password)\n\t\tvalidate(validateId, 'password', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PASSWORD' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePasswordCheck(\n\tvalidateId,\n\tpasswordCheck,\n\tpassword,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\n\t\tvalidate(validateId, 'passwordCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateTOS(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'tosCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateWallet(validateId, wallet, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!wallet && !!wallet.address\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateIdentityContractOwner(\n\tvalidateId,\n\tidentityContractOwner,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!identityContractOwner\n\t\tvalidate(validateId, 'identityContractOwner', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateAccessWarning(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'accessWarningCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { getQuickWallet } from 'services/adex-relayer/actions'\nimport { updateSpinner, addToast } from './uiActions'\nimport {\n\tgetOwnerIdentities,\n\tregAccount,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { translate } from 'services/translations/translations'\nimport { createSession } from './accountActions'\n\nimport {\n\tgetIdentityDeployData,\n\twithdrawFromIdentity,\n\tsetIdentityPrivilege,\n} from 'services/smart-contracts/actions/identity'\nimport {\n\taddDataToWallet,\n\tgetWalletHash,\n\tgetLocalWallet,\n\tmigrateLegacyWallet,\n\twalletInfo,\n\tcreateLocalWallet,\n\tgenerateSalt,\n} from 'services/wallet/wallet'\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\nimport { selectAccount, selectIdentity } from 'selectors'\nimport { AUTH_TYPES } from 'constants/misc'\nimport {\n\tvalidate,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tvalidateTOS,\n\tvalidateWallet,\n\tvalidateIdentityContractOwner,\n\tvalidateAccessWarning,\n} from './validationActions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tGETTING_OWNER_IDENTITIES,\n\tUPLOADING_ACCOUNT_DATA,\n} from 'constants/spinners'\n\n// MEMORY STORAGE\nexport function updateIdentity(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetIdentity() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\t}\n}\n\nexport function initIdentity({ email, authType }) {\n\treturn function(dispatch) {\n\t\tdispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\n\t\tdispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'email',\n\t\t\tvalue: email,\n\t\t})\n\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'authType',\n\t\t\tvalue: authType,\n\t\t})\n\t}\n}\n\n// MEMORY STORAGE\nexport function updateWallet(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WALLET,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetWallet() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WALLET,\n\t\t})\n\t}\n}\n\nexport function onUploadLocalWallet(event) {\n\treturn async function(dispatch) {\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\tconst file = event.target.files[0]\n\t\tconst reader = new FileReader()\n\n\t\treader.onload = ev => {\n\t\t\ttry {\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\n\t\t\t\tif (\n\t\t\t\t\t!obj ||\n\t\t\t\t\t!obj.key ||\n\t\t\t\t\t!obj.wallet ||\n\t\t\t\t\t!obj.wallet.data ||\n\t\t\t\t\t!obj.wallet.identity ||\n\t\t\t\t\t!obj.wallet.privileges\n\t\t\t\t) {\n\t\t\t\t\tthrow new Error(translate('INVALID_JSON_DATA'))\n\t\t\t\t} else {\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\n\t\t\t\t\taddToast({\n\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\tlabel: translate('SUCCESS_UPLOADING_ACCOUNT_DATA'),\n\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t})(dispatch)\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\t\targs: [err.message],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\t}\n\n\t\tconst onError = err => {\n\t\t\tconsole.error('Error uploading account data.', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\n\t\t}\n\n\t\treader.onerror = ev => {\n\t\t\treader.abort()\n\t\t\tonError(translate())\n\t\t}\n\n\t\treader.onabort = ev => {\n\t\t\tonError(translate('ABORTING_DATA_UPLOAD'))\n\t\t}\n\n\t\treader.readAsText(file)\n\t}\n}\n\nexport function identityWithdraw({\n\tamountToWithdraw,\n\twithdrawTo,\n\ttokenAddress,\n}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await withdrawFromIdentity({\n\t\t\t\taccount,\n\t\t\t\tamountToWithdraw,\n\t\t\t\twithdrawTo,\n\t\t\t\ttokenAddress,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function ownerIdentities({ owner }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\n\t\ttry {\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\n\t\t\tconst data = Object.entries(identityData).map(\n\t\t\t\tasync ([identityAddr, privLevel]) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst data = await getIdentityData({ identityAddr })\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tidentity: identityAddr,\n\t\t\t\t\t\t\tprivLevel,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch {\n\t\t\t\t\t\treturn null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\n\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_OWNER_IDENTITIES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\n\t}\n}\n\nexport function addrIdentityPrivilege({ setAddr, privLevel }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await setIdentityPrivilege({\n\t\t\t\taccount,\n\t\t\t\tsetAddr,\n\t\t\t\tprivLevel,\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [result],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function login() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst {\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tidentityData,\n\t\t\t\tidentityTxData,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t\tregisterAccount,\n\t\t\t} = selectIdentity(getState())\n\n\t\t\tif (registerAccount) {\n\t\t\t\tawait regAccount({\n\t\t\t\t\towner: wallet.address,\n\t\t\t\t\temail: email.toLowerCase(),\n\t\t\t\t\t...identityTxData,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst relayerData = await getIdentityData({\n\t\t\t\tidentityAddr: identityData.address,\n\t\t\t})\n\n\t\t\tconst identity = {\n\t\t\t\t...identityData,\n\t\t\t\taddress: relayerData.deployData._id,\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\n\t\t\t\trelayerData,\n\t\t\t}\n\n\t\t\tawait createSession({\n\t\t\t\tidentity,\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_LOGIN', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateQuickLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { password, email, authType } = identity\n\n\t\tlet wallet = {}\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\n\t\tlet actualAuthType = authType\n\n\t\ttry {\n\t\t\tif (email && password) {\n\t\t\t\tlet walletData = await getLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t})\n\n\t\t\t\tif (!walletData) {\n\t\t\t\t\tconst salt = generateSalt(email)\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\n\t\t\t\t\tconst { encryptedWallet } =\n\t\t\t\t\t\t(await getQuickWallet({\n\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t})) || {}\n\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tbackupWallet.wallet &&\n\t\t\t\t\t\tbackupWallet.key &&\n\t\t\t\t\t\tbackupWallet.wallet.data &&\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\n\t\t\t\t\t\tbackupWallet.wallet.privileges\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\n\t\t\t\t\t\tactualAuthType = info.authType\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\n\n\t\t\t\t\t\twalletData = await getLocalWallet({\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t\tpassword,\n\t\t\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\n\t\t\t\t\twallet = { ...walletData.data }\n\t\t\t\t\twallet.email = email\n\t\t\t\t\twallet.password = password\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\n\t\t\t\t\twallet.identity = {\n\t\t\t\t\t\taddress: walletData.identity,\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!authType) {\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\n\t\t\terror = err\n\t\t}\n\n\t\tconst isValid = !!wallet.address\n\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tif (isValid) {\n\t\t\tawait login()(dispatch, getState)\n\t\t}\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nconst handleAfterValidation = async ({ isValid, onValid, onInvalid }) => {\n\tif (isValid && typeof onValid === 'function') {\n\t\tawait onValid()\n\t}\n\tif (!isValid && typeof onInvalid === 'function') {\n\t\tawait onInvalid()\n\t}\n}\n\nexport function validateStandardLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst identity = selectIdentity(getState())\n\t\t\tconst { wallet, identityContractAddress } = identity\n\t\t\tconst { address } = wallet\n\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\n\t\t\tconst identityData = {\n\t\t\t\taddress: identityDataSplit[0],\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\n\t\t\t}\n\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\tconst isValid = !!identityData.address\n\n\t\t\tvalidate(validateId, 'identityContractAddress', {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\n\t\t\t\tdirty: dirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_STANDARD_LOGIN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\n\treturn async function(dispatch, getState) {\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, wallet } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\n\t\t\tif (!identityAddr && wallet && !!email) {\n\t\t\t\tconst walletAddr = wallet.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: txData.identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_FULL_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickDeploy({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, password } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && email && password\n\n\t\t\tif (!identityAddr && email && password) {\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\n\n\t\t\t\tconst walletData = await createLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t})\n\n\t\t\t\twalletData.email = email\n\t\t\t\twalletData.password = password\n\n\t\t\t\tconst walletAddr = walletData.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\n\t\t\t\tconst identityAddr = txData.identityAddr\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'identity',\n\t\t\t\t\tdataValue: identityAddr,\n\t\t\t\t})\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'privileges',\n\t\t\t\t\tdataValue: identityData.privileges,\n\t\t\t\t})\n\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = !!identityAddr\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_QUICK_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\tpassword,\n\t\t\tpasswordCheck,\n\t\t\ttosCheck,\n\t\t\taccessWarningCheck,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateEmail(validateId, email, dirty)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\t\t}\n\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\twallet,\n\t\t\tidentityContractOwner,\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\ttosCheck,\n\t\t\taccessWarningCheck,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\t// validate wallet again in case of step skip\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\n\t\t\t// validate step fields\n\t\t\tvalidateEmail(validateId, email, dirty)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateFullDeploy({\n\t\t\t\tvalidateId,\n\t\t\t\tdirty,\n\t\t\t\tskipSpinnerUpdate: true,\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateContractOwner({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityContractOwner, wallet } = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function updateIdentityWallet({\n\taddress,\n\tauthType,\n\thdWalletAddrPath,\n\thdWalletAddrIdx,\n\tpath,\n\tchainId,\n\tsignType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst wallet = {\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tpath,\n\t\t\tchainId,\n\t\t\tsignType,\n\t\t}\n\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\n\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t}\n}\n\nexport function handleSignupLink(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('signup-email')\n\n\t\tif (email) {\n\t\t\tupdateIdentity('email', email)(dispatch)\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\n\t\t}\n\t}\n}\n","import * as types from 'constants/actionTypes'\n\n// MEMORY STORAGE\nexport function updateNewBid({ bidId, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetNewBid({ bidId }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\n\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_BIDS,\n\t\t\tadvBids: advBids,\n\t\t\tpubBids: pubBids,\n\t\t\tbidsById: bidsById,\n\t\t})\n\t}\n}\nexport const resetAllBids = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_BIDS,\n\t\t})\n\t}\n}\n","import * as types from 'constants/actionTypes'\n\n// MEMORY STORAGE\nexport function updateNewTransaction({ tx, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetNewTransaction({ tx }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\nexport function addWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\tif (!tx || !tx.hash || !addr) return\n\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\n\t\t\tvalue: tx,\n\t\t\ttx: tx.hash,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\n// TODO: make update multiple\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function resetWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { addToast, removeToast, confirmAction } from './uiActions'\nimport { translate } from 'services/translations/translations'\nimport {\n\tgetValidatorAuthToken,\n\tidentityAnalytics,\n} from 'services/adex-validator/actions'\nimport { updateValidatorAuthTokens } from './accountActions'\nimport {\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\n\tVALIDATOR_ANALYTICS_METRICS,\n} from 'constants/misc'\nimport { getErrorMsg } from 'helpers/errors'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\nconst analyticsParams = (timeframe, side) => {\n\tconst callsParams = []\n\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\n\t\t\tcallsParams.push({\n\t\t\t\tmetric,\n\t\t\t\ttimeframe,\n\t\t\t\tside,\n\t\t\t\teventType,\n\t\t\t})\n\t\t)\n\t)\n\n\treturn callsParams\n}\n\n// getIdentityStatistics tooks to long some times\n// if the account is change we do not update the account\n// TODO: we can use something for abortable tasks\nfunction checkAccountChanged(getState, account) {\n\tconst accountCheck = getState().persist.account\n\tconst accountChanged =\n\t\t!accountCheck.wallet.address ||\n\t\taccountCheck.wallet.address !== account.wallet.address ||\n\t\t!accountCheck.identity.address ||\n\t\t!accountCheck.identity.address !== !account.identity.address\n\n\treturn accountChanged\n}\n\nexport function updateAccountAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account, analytics } = getState().persist\n\t\tconst { side } = getState().memory.nav\n\t\tconst { timeframe } = analytics\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsParams(timeframe, side)\n\t\t\tlet accountChanged = false\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\tidentityAnalytics({\n\t\t\t\t\t...opts,\n\t\t\t\t\tleaderAuth,\n\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\taccountChanged =\n\t\t\t\t\t\t\taccountChanged || checkAccountChanged(getState, account)\n\n\t\t\t\t\t\tif (!accountChanged) {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\n\t\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\t\tvalue: { ...res },\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\n\t\t\t\t\t})\n\t\t\t})\n\n\t\t\tawait Promise.all(allAnalytics)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAnalyticsTimeframe(timeframe) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ANALYTICS_TIMEFRAME,\n\t\t\t\tvalue: timeframe,\n\t\t\t})\n\t\t\tupdateAccountAnalytics()(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function resetAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ANALYTICS,\n\t\t})\n\t}\n}\n","import * as common from './common'\nimport * as itemActions from './itemActions'\nimport * as uiActions from './uiActions'\nimport * as accountActions from './accountActions'\nimport * as identityActions from './identityActions'\nimport * as bidActions from './bidActions'\nimport * as transactionActions from './transactionActions'\nimport * as validationActions from './validationActions'\nimport * as analyticsActions from './analyticsActions'\n\n// keep it for class components that use connect and actions prop\n// without needing to change the code\nexport default {\n\t...common,\n\t...itemActions,\n\t...uiActions,\n\t...accountActions,\n\t...identityActions,\n\t...bidActions,\n\t...transactionActions,\n\t...validationActions,\n\t...analyticsActions,\n}\n\n// used for minimal deps in hook components\n// import { execute, addTost } from 'actions'\n// execute(addTost())\nexport * from './common'\nexport * from './itemActions'\nexport * from './uiActions'\nexport * from './accountActions'\nexport * from './identityActions'\nexport * from './bidActions'\nexport * from './transactionActions'\nexport * from './validationActions'\nexport * from './analyticsActions'\n","import { ethers, utils, Contract } from 'ethers'\nimport { contracts } from './contractsCfg'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { selectRelayerConfig } from 'selectors'\n\nethers.errors.setLogLevel('error')\n\nconst { AdExCore, Identity, IdentityFactory } = contracts\n\nconst getAdexCore = provider => {\n\tconst { coreAddr } = selectRelayerConfig()\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\n}\n\nconst getMainToken = provider => {\n\tconst { mainToken = {} } = selectRelayerConfig()\n\treturn new Contract(\n\t\tmainToken.address,\n\t\tcontracts[mainToken.standard].abi,\n\t\tprovider\n\t)\n}\n\nconst getToken = ({ provider, standard, address }) => {\n\treturn new Contract(address, contracts[standard].abi, provider)\n}\n\nconst getIdentity = ({ provider, address }) => {\n\tconst identityContract = new Contract(address, Identity.abi, provider)\n\n\treturn identityContract\n}\n\nconst getIdentityFactory = provider => {\n\tconst { identityFactoryAddr } = selectRelayerConfig()\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\n}\n\nconst getEthersResult = provider => {\n\tconst adexCore = getAdexCore(provider)\n\tconst mainToken = getMainToken(provider)\n\tconst identityFactory = getIdentityFactory(provider)\n\n\tconst results = {\n\t\tprovider,\n\t\tAdExCore: adexCore,\n\t\tIdentity: Identity,\n\t\tDai: mainToken,\n\t\tMainToken: mainToken,\n\t\tIdentityFactory: identityFactory,\n\t\tgetToken: ({ standard, address }) =>\n\t\t\tgetToken({ provider, standard, address }),\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\n\t}\n\n\treturn results\n}\n\nconst localWeb3 = () => {\n\tconst provider = new ethers.providers.JsonRpcProvider(\n\t\tprocess.env.WEB3_NODE_ADDR\n\t)\n\treturn getEthersResult(provider)\n}\n\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\n\twindow.addEventListener('load', () => {\n\t\tconst ethereum = window.ethereum\n\t\tconst web3 = window.web3\n\t\treturn resolve({\n\t\t\tethereum,\n\t\t\tweb3,\n\t\t})\n\t})\n})\n\nconst injectedWeb3 = async () => {\n\tconst { web3, ethereum } = await loadInjectedWeb3.then()\n\tlet provider = null\n\n\tif (ethereum) {\n\t\ttry {\n\t\t\tawait ethereum.enable()\n\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\n\n\t\t\treturn getEthersResult(provider)\n\t\t} catch (err) {\n\t\t\tconsole.error('Err getting injected ethereum.', err)\n\t\t\tthrow new Error(err.message)\n\t\t}\n\t}\n\t// Legacy dapp browsers...\n\t// TODO: we just have to throw or show notification\n\t// At the moment if it throws it will show error toast but not always.\n\telse if (web3) {\n\t\tconsole.error('Legacy web3 browser detected. It is not supported!')\n\t\tconsole.error('Fallback to local web3 provider')\n\t\treturn await localWeb3()\n\t} else {\n\t\tconsole.error('Non-Ethereum browser detected.')\n\t\tconsole.error('Fallback to local web3 provider')\n\t\treturn await localWeb3()\n\t}\n}\n\nconst getLocalWeb3 = async () => {\n\t// console.log('getLocalWeb3')\n\treturn localWeb3()\n}\n\nconst getEthers = mode => {\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\n\t *   and this results in Trezor popup block by the browser\n\t */\n\tif (mode === AUTH_TYPES.METAMASK.name) {\n\t\treturn injectedWeb3()\n\t} else {\n\t\treturn getLocalWeb3()\n\t}\n}\n\nconst ethereumSelectedAddress = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (ethereum && ethereum.selectedAddress) {\n\t\treturn utils.getAddress(ethereum.selectedAddress)\n\t} else {\n\t\treturn null\n\t}\n}\n\nconst ethereumNetworkId = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (ethereum) {\n\t\tconst id = parseInt(ethereum.networkVersion, 10)\n\t\treturn id\n\t} else {\n\t\treturn null\n\t}\n}\n\nconst getEthereumProvider = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (!ethereum) {\n\t\treturn null\n\t}\n\n\tif (ethereum.isMetaMask) {\n\t\treturn AUTH_TYPES.METAMASK.name\n\t}\n\n\treturn null\n}\n\nexport {\n\tgetEthers,\n\tethereumSelectedAddress,\n\tethereumNetworkId,\n\tgetEthereumProvider,\n}\n","module.exports = Module;","export const CREATING_SESSION = 'CREATING_SESSION'\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\n","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404.12db5cc0.png\";","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { refreshCacheAndReload, execute } from 'actions'\r\nglobal.appVersion = packageJson.version\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst semverGreaterThan = (versionA, versionB) => {\r\n\t\tconst versionsA = versionA.split(/\\./g)\r\n\r\n\t\tconst versionsB = versionB.split(/\\./g)\r\n\t\twhile (versionsA.length || versionsB.length) {\r\n\t\t\tconst a = Number(versionsA.shift())\r\n\r\n\t\t\tconst b = Number(versionsB.shift())\r\n\t\t\t// eslint-disable-next-line no-continue\r\n\t\t\tif (a === b) continue\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\treturn a > b || isNaN(b)\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(7)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst latestVersion = meta.version\r\n\t\t\t\tconst currentVersion = global.appVersion\r\n\t\t\t\tconst shouldForceRefresh = semverGreaterThan(\r\n\t\t\t\t\tlatestVersion,\r\n\t\t\t\t\tcurrentVersion\r\n\t\t\t\t)\r\n\t\t\t\tif (shouldForceRefresh) {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\trefreshCacheAndReload({\r\n\t\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import { ethers, utils } from 'ethers'\nimport pbkdf2 from 'pbkdf2'\nimport {\n\tencrypt,\n\tdecrypt,\n\tencryptLegacy,\n\tdecryptLegacy,\n} from 'services/crypto/crypto'\nimport {\n\tloadFromLocalStorage,\n\tsaveToLocalStorage,\n\tgetKeys,\n\tremoveFromLocalStorage,\n} from 'helpers/localStorageHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\n\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\n\treturn new Promise((resolve, reject) => {\n\t\tpbkdf2.pbkdf2(\n\t\t\tpass,\n\t\t\tsalt,\n\t\t\titerations,\n\t\t\tkeylen,\n\t\t\tdigiset,\n\t\t\t(err, derivedKey) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn reject(err)\n\t\t\t\t}\n\n\t\t\t\tconst res = derivedKey.toString(encoding)\n\n\t\t\t\treturn resolve(res)\n\t\t\t}\n\t\t)\n\t})\n}\n\nasync function getCipherKey({ email, password }) {\n\tconst pass = generateSalt(password)\n\tconst salt = generateSalt(email)\n\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn key\n}\n\nfunction isLegacyCrypto(authType) {\n\treturn !authType || authType === 'legacy' || authType === 'grant'\n}\n\n// Returns 12 random words\nexport function getRandomMnemonic() {\n\tconst randomEntropy = utils.randomBytes(16)\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\n\n\treturn mnemonic\n}\n\nexport async function generateWallet(mnemonic) {\n\tconst seed = mnemonic || getRandomMnemonic()\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\n\n\treturn {\n\t\tmnemonic,\n\t\tprivateKey: wallet.privateKey,\n\t\taddress: wallet.address,\n\t\tpath: wallet.path,\n\t}\n}\n\nasync function encrKey({ email, password, authType }) {\n\tif (!authType) {\n\t\treturn await encryptLegacy(email, password)\n\t} else if (typeof authType === 'string') {\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\n\t} else {\n\t\tthrow new Error('INVALID_TYPE')\n\t}\n}\n\nexport async function encrData({ email = '', password, data, authType }) {\n\tconst isLegacy = isLegacyCrypto(authType)\n\tconst jsonData = JSON.stringify(data)\n\tif (isLegacy) {\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\n\t\treturn legacyEncrypted\n\t} else {\n\t\tconst encrypted = await encrypt(\n\t\t\tjsonData,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t\treturn encrypted\n\t}\n}\n\nexport async function decrData({ email = '', password, data, authType }) {\n\tlet decryptedStr = ''\n\tconst isLegacy = isLegacyCrypto(authType)\n\n\tif (isLegacy) {\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\n\t} else {\n\t\tdecryptedStr = await decrypt(\n\t\t\tdata,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t}\n\n\ttry {\n\t\tconst decr = JSON.parse(decryptedStr)\n\t\treturn decr\n\t} catch (err) {\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\n\t}\n}\n\nexport async function createLocalWallet({\n\temail = '',\n\tpassword = '',\n\tmnemonic,\n\tauthType = '',\n}) {\n\tconst walletData = await generateWallet(mnemonic)\n\tconst key = await encrKey({ email, password, authType })\n\tconst data = await encrData({ data: walletData, email, password, authType })\n\tawait saveToLocalStorage({ data }, key)\n\n\twalletData.authType = authType\n\treturn walletData\n}\n\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\n\tconst wallet = await getLocalWallet({\n\t\temail,\n\t\tpassword,\n\t\tgetEncrypted: true,\n\t})\n\n\tif (wallet && wallet.data) {\n\t\tconst newKey = await encrKey({\n\t\t\temail,\n\t\t\tpassword,\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\n\t\t})\n\t\tsaveToLocalStorage(wallet, newKey)\n\t}\n}\n\nexport async function removeLegacyKey({ email = '', password = '' }) {\n\tconst key = await encrKey({ email, password })\n\tremoveFromLocalStorage(key)\n}\n\nexport async function addDataToWallet({\n\temail = '',\n\tpassword = '',\n\tdataKey = '',\n\tdataValue = '',\n\tauthType,\n}) {\n\tif (dataKey === 'data') {\n\t\tthrow new Error('INVALID_DATA_KEY')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (!wallet) {\n\t\tthrow new Error('WALLET_NOT_FOUND')\n\t}\n\n\tconst data = await encrData({ data: dataValue, email, password, authType })\n\twallet[dataKey] = data\n\tsaveToLocalStorage(wallet, key)\n}\n\nexport async function getRecoveryWalletData({ email, password, authType }) {\n\tif (!email || !password) {\n\t\treturn null\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\treturn {\n\t\tkey,\n\t\twallet,\n\t}\n}\n\nexport async function getLocalWallet({\n\temail,\n\tpassword,\n\tauthType,\n\tgetEncrypted,\n}) {\n\tif (!email || !password) {\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (wallet) {\n\t\tif (getEncrypted) {\n\t\t\treturn wallet\n\t\t}\n\n\t\tconst walletKeys = Object.keys(wallet)\n\n\t\tconst decrypts = walletKeys.map(async key => {\n\t\t\t// props[key] = await decrData({\n\t\t\t// \tdata: wallet[key],\n\t\t\t// \temail,\n\t\t\t// \tpassword,\n\t\t\t// \tauthType,\n\t\t\t// })\n\n\t\t\tconst decryptedData = await decrData({\n\t\t\t\tdata: wallet[key],\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\treturn decryptedData\n\t\t})\n\n\t\tconst decryptedData = await Promise.all(decrypts)\n\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\n\t\t\tprops[key] = decryptedData[index]\n\t\t\treturn props\n\t\t}, {})\n\n\t\tconsole.log('decryptedWallet', decryptedWallet)\n\t\treturn decryptedWallet\n\t} else {\n\t\treturn null\n\t}\n}\n\nfunction isWallet(item) {\n\treturn item && item.data && item.identity && item.privileges\n}\n\nexport function walletInfo(key, index, wallet) {\n\tconst split = key.split('-')\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\n\tconst authType = split[1] || 'legacy'\n\tconst name = mail || `Grant account # ${index + 1}`\n\n\tconst info = {\n\t\tkey,\n\t\twallet,\n\t\tname,\n\t\tauthType,\n\t}\n\n\treturn info\n}\n\nexport function getAllWallets() {\n\tconst walletKeys = getKeys()\n\t\t.map(key => {\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\titem: loadFromLocalStorage(key),\n\t\t\t}\n\t\t})\n\t\t.filter(({ item }) => isWallet(item))\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\n\n\treturn walletKeys\n}\n\nexport async function getWalletHash({ salt, password }) {\n\tconst passwordId = utils.id(password)\n\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn hash\n}\n\nexport function generateSalt(dataStr) {\n\tif (typeof dataStr !== 'string') {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\n\t} else if (!dataStr.length) {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\n\t}\n\n\tconst id = utils.id(dataStr)\n\tconst salt = utils.keccak256(id)\n\treturn salt\n}\n","import moment from 'moment'\n\n// TODO: separate exports - not class\nclass Helper {\n\tgetGuid() {\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t}\n\n\tgetRndHash32(prefix) {\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t\tif (prefix) {\n\t\t\th = prefix + h.substring(prefix.length)\n\t\t}\n\t\treturn h\n\t}\n\n\tgetRandomInt(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\n\t}\n\n\tgetRandomBool() {\n\t\treturn !!this.getRandomInt(0, 1)\n\t}\n\n\tgetRandomPropFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\n\t}\n\n\tgetRandomKeyFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn keys[(keys.length * Math.random()) << 0]\n\t}\n\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\n\t\t// TODO: fix +/- 1 day bug\n\t\tlet initial = moment.isMoment(initialMoment)\n\t\t\t? initialMoment.valueOf()\n\t\t\t: undefined\n\n\t\treturn moment(initial)\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\n\t}\n\n\thexToRgbaColorString = (hex, alpha) => {\n\t\tif (!hex || typeof hex !== 'string') {\n\t\t\tthrow new Error('Invalid color')\n\t\t} else if (hex.length === 4) {\n\t\t\thex = hex + hex.substr(1, 4)\n\t\t}\n\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\n\t\t\talpha = 1\n\t\t}\n\n\t\tconst hexToDec = h => {\n\t\t\treturn parseInt('0x' + h, 16)\n\t\t}\n\n\t\tlet r = hexToDec(hex.substr(1, 2))\n\t\tlet g = hexToDec(hex.substr(3, 2))\n\t\tlet b = hexToDec(hex.substr(5, 2))\n\n\t\treturn `rgba(${r},${g},${b},${alpha})`\n\t}\n\n\tgetQuery(queryParams) {\n\t\tif (\n\t\t\t!queryParams ||\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\n\t\t) {\n\t\t\treturn ''\n\t\t}\n\t\treturn (\n\t\t\t'?' +\n\t\t\t\tObject.keys(queryParams)\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\n\t\t\t\t\t.map(key => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tencodeURIComponent(key) +\n\t\t\t\t\t\t\t'=' +\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\n\t\t\t\t\t\t)\n\t\t\t\t\t}, '')\n\t\t\t\t\t.join('&') || ''\n\t\t)\n\t}\n\n\tgetErrMsg = err => {\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\n\n\t\tif (stack.length > 1) {\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\n\t\t} else {\n\t\t\treturn (err.error || err || '').toString()\n\t\t}\n\t}\n\n\tisInt = int => {\n\t\treturn typeof int === 'number' && int % 1 === 0\n\t}\n\n\tshuffleArray = array => {\n\t\treturn [...array].sort(() => Math.random() - 0.5)\n\t}\n}\n\nexport default new Helper()\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { logOut } from 'services/store-data/auth'\nimport moment from 'moment'\n\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\n\nconst processResponse = (res, dontThrow, skipRedirect) => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\tif (res.status === 401 || res.status === 403) {\n\t\t\tlogOut(skipRedirect)\n\t\t}\n\t\tif (!dontThrow) {\n\t\t\thandleRequesterErrorRes({ res, text })\n\t\t}\n\t})\n}\n\nexport const getSession = ({\n\tidentity,\n\tmode,\n\tsignature,\n\tauthToken,\n\thash,\n\ttypedData,\n\tsignerAddress,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'auth/',\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tidentity,\n\t\t\t\tmode,\n\t\t\t\tsignature,\n\t\t\t\tauthToken,\n\t\t\t\thash,\n\t\t\t\ttypedData,\n\t\t\t\tsignerAddress,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const checkSession = ({ authSig, skipErrToast }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'session',\n\t\t\tmethod: 'GET',\n\t\t\tauthSig,\n\t\t\tskipErrToast,\n\t\t})\n\t\t.then(res => processResponse(res, true, true))\n}\n\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\n\tconst formData = new FormData()\n\tformData.append('media', imageBlob, imageName)\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'media',\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nconst convertItemToJSON = item => {\n\tconst itemToConvert = { ...item }\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\n\t}\n\n\treturn JSON.stringify(itemToConvert)\n}\n\nexport const getAdUnits = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdUnit = ({ unit, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdUnit = ({ unit, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `units/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAdSlots = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdSlot = ({ slot, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdSlot = ({ slot, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `slots/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getCampaigns = ({ authSig, creator }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns/by-owner',\n\t\t\tmethod: 'GET',\n\t\t\tnoCache: true,\n\t\t\tqueryParams: {\n\t\t\t\tbyCreator: creator, //\n\t\t\t\tt: Date.now(),\n\t\t\t},\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${campaign.id}/close`,\n\t\t\tmethod: 'PUT',\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAllCampaigns = all => {\n\tconst queryParams = all\n\t\t? {\n\t\t\t\tall: true,\n\t\t  }\n\t\t: {}\n\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateCampaign = ({ campaign, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(campaign),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\n\nexport const isConnectionLost = async authType => {\n\ttry {\n\t\t// When we remove Metamask\n\t\t// if in 5 sec doesn't connect will\n\t\t// return that connection is lost\n\t\tconst eth = await Promise.race([\n\t\t\tgetEthers(authType),\n\t\t\tnew Promise((resolve, reject) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\treject('Timed out')\n\t\t\t\t}, 5000)\n\t\t\t}),\n\t\t])\n\t\tawait eth.provider.getBlockNumber()\n\t\treturn false\n\t} catch (error) {\n\t\treturn true\n\t}\n}\n","import { utils } from 'ethers'\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\n\n/*eslint-disable */\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\nconst emailRegex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\n/*eslint-enable */\n\nexport const validUrl = url => {\n\turl = url || ''\n\tconst isValid = urlRegex.test(url)\n\treturn isValid\n}\n\nexport const validEmail = email => {\n\temail = email || ''\n\tconst isValid = emailRegex.test(email)\n\treturn isValid\n}\n\nexport const validateNumber = numberStr => {\n\tnumberStr = numberStr || ''\n\tconst isValid =\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\n\treturn isValid\n}\n\n// > 0\nexport const validPositiveInt = intStr => {\n\tintStr = intStr || ''\n\tconst isValid = onlyDigitsRegex.test(intStr)\n\treturn isValid\n}\n\nexport const validName = name => {\n\tlet msg = ''\n\tconst errMsgArgs = []\n\tif (!name) {\n\t\tmsg = 'ERR_REQUIRED_FIELD'\n\t} else if (name.length < 4) {\n\t\tmsg = 'ERR_MIN_LENGTH'\n\t\terrMsgArgs.push(4)\n\t} else if (name.length > 128) {\n\t\tmsg = 'ERR_MAX_LENGTH'\n\t\terrMsgArgs.push(128)\n\t}\n\n\treturn {\n\t\tmsg,\n\t\terrMsgArgs,\n\t}\n}\n\nexport const validPassword = password => {\n\tpassword = password || ''\n\tconst isValid = passwordRegex.test(password)\n\treturn isValid\n}\n\nexport const isEthAddress = (addr = '') => {\n\ttry {\n\t\tutils.getAddress(addr)\n\t} catch (e) {\n\t\treturn false\n\t}\n\treturn true\n}\n\nexport const isEthAddressZero = (addr = '') => {\n\treturn isEthAddress(addr)\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\n\t\t: false\n}\n\nexport const validEthAddress = async ({\n\taddr = '',\n\tnonZeroAddr,\n\tnonERC20,\n\tauthType,\n}) => {\n\tlet msg = ''\n\ttry {\n\t\tconst ethAddressZero = isEthAddressZero(addr)\n\t\tconst notEthAddress = !isEthAddress(addr)\n\t\tif (notEthAddress) {\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\n\t\t} else {\n\t\t\tif (nonZeroAddr && ethAddressZero) {\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\n\t\t\t} else {\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\n\t\t\t\tif (connectionLost) {\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t\t\t\t} else {\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tif (error === 'Non-Ethereum browser detected.')\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t}\n\treturn { msg }\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetSigner,\n\tgetMultipleTxSignatures,\n} from 'services/smart-contracts/actions/ethers'\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\nimport { Contract } from 'ethers'\nimport {\n\tbigNumberify,\n\tparseUnits,\n\tgetAddress,\n\tInterface,\n\tkeccak256,\n} from 'ethers/utils'\nimport { generateAddress2 } from 'ethereumjs-util'\nimport { executeTx } from 'services/adex-relayer'\nimport {\n\tselectRelayerConfig,\n\tselectFeeTokenWhitelist,\n\tselectSaiToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\nimport solc from 'solcBrowser'\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\n\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\n\nconst ERC20 = new Interface(ERC20TokenABI)\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\n\nexport async function getIdentityDeployData({\n\towner,\n\trelayerRoutineAuthValidUntil = 10648454444,\n}) {\n\tconst {\n\t\tidentityFactoryAddr,\n\t\trelayerAddr,\n\t\tbaseIdentityAddr,\n\t\tidentityRecoveryAddr,\n\t\tcoreAddr,\n\t\tmainToken,\n\t} = selectRelayerConfig()\n\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\n\n\tconst routineAuthorizationsRaw = [\n\t\t{\n\t\t\trelayer: relayerAddr,\n\t\t\toutpace: coreAddr,\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tfeeTokenAmount: '0x00',\n\t\t},\n\t]\n\n\tconst bytecode = getProxyDeployBytecode(\n\t\tbaseIdentityAddr,\n\t\tprivileges,\n\t\t{\n\t\t\tprivSlot: 0,\n\t\t\troutineAuthsSlot: 1,\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\n\t\t\t\tnew RoutineAuthorization(x).hash()\n\t\t\t),\n\t\t},\n\t\tsolc\n\t)\n\n\tconst salt = keccak256(owner)\n\n\tconst identityAddr = getAddress(\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\n\t)\n\n\treturn {\n\t\tidentityFactoryAddr,\n\t\tbaseIdentityAddr,\n\t\tbytecode,\n\t\tsalt,\n\t\tidentityAddr,\n\t\tprivileges,\n\t\troutineAuthorizationsRaw,\n\t}\n}\n\nexport async function withdrawFromIdentity({\n\taccount,\n\tamountToWithdraw,\n\twithdrawTo,\n\tgetFeesOnly,\n}) {\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { wallet, identity, stats } = account\n\tconst { authType } = wallet\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, Identity, getToken } = await getEthers(authType)\n\n\tconst identityAddr = identity.address\n\n\tconst toWithdraw = parseUnits(amountToWithdraw, mainToken.decimals)\n\n\tconst tokenAddr = mainToken.address\n\n\tconst withdrawTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: tokenAddr,\n\t\tto: tokenAddr,\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\n\t\twithdrawTx: true,\n\t}\n\tconst txns = [withdrawTx]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: toWithdraw,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\n\n\tlet actualWithdrawAmount = toWithdraw\n\n\tif (toWithdraw.gt(maxWithdraw)) {\n\t\tactualWithdrawAmount = maxWithdraw\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\n\t\t\tif (tx.withdrawTx) {\n\t\t\t\ttx.data = ERC20.functions.transfer.encode([\n\t\t\t\t\twithdrawTo,\n\t\t\t\t\tactualWithdrawAmount.toString(),\n\t\t\t\t])\n\t\t\t}\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, mainToken.decimals),\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function setIdentityPrivilege({\n\taccount,\n\tsetAddr,\n\tprivLevel,\n\tgetFeesOnly,\n}) {\n\tconst { wallet, identity } = account\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\tconst identityAddr = identity.address\n\n\tconst identityInterface = new Interface(Identity.abi)\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: identityAddr,\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t]),\n\t}\n\n\tconst txns = [tx1]\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: (await getIdentityTxnsTotalFees({ txnsByFeeToken })).total,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\ttxnsByFeeToken,\n\t\tidentityAddr,\n\t\twallet,\n\t\tprovider,\n\t\textraData: {\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t},\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\nfunction txnsByTokenWithSaiToDaiSwap({\n\ttxns,\n\tmainToken,\n\tdaiAddr,\n\tsaiAddr,\n\tidentityAddr,\n}) {\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\n\t\t(current, tx, i) => {\n\t\t\tconst { withdrawAmountByToken } = tx\n\n\t\t\tconst needSaiToDaiSwap =\n\t\t\t\t!!withdrawAmountByToken &&\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\n\t\t\t\tmainToken.address === daiAddr &&\n\t\t\t\tsaiAddr !== daiAddr\n\n\t\t\tlet feeTokenAddr = ''\n\n\t\t\tif (needSaiToDaiSwap) {\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\n\t\t\t\t\tbigNumberify(withdrawAmountByToken[saiAddr])\n\t\t\t\t)\n\t\t\t\tfeeTokenAddr = daiAddr\n\t\t\t}\n\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\n\t\t\t// normalize tx\n\t\t\ttx.feeTokenAddr = feeTokenAddr\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\n\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = (\n\t\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] || []\n\t\t\t).concat([tx])\n\n\t\t\treturn current\n\t\t},\n\t\t{\n\t\t\tsaiWithdrawAmount: bigNumberify('0'),\n\t\t\ttxnsByFeeToken: {},\n\t\t}\n\t)\n\n\treturn { txnsByFeeToken, saiWithdrawAmount }\n}\n\nexport async function getIdentityTxnsWithNoncesAndFees({\n\tamountInMainTokenNeeded = '0',\n\ttxns = [],\n\tidentityAddr,\n\tprovider,\n\tIdentity,\n\taccount,\n\tgetToken,\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst saiToken = selectSaiToken()\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\n\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\n\tlet identityContract = null\n\n\tif (isDeployed) {\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\n\t}\n\n\tconst initialNonce = isDeployed\n\t\t? (await identityContract.nonce()).toNumber()\n\t\t: 0\n\n\tconst feesForMainTxns = txns.length\n\t\t? bigNumberify(\n\t\t\t\t!initialNonce ? mainTokenWithFees.minDeploy : mainTokenWithFees.min\n\t\t  ).add(\n\t\t\t\tbigNumberify(mainTokenWithFees.min).mul(bigNumberify(txns.length - 1))\n\t\t  )\n\t\t: bigNumberify(0)\n\n\tconst {\n\t\tsweepTxns = [],\n\t\tswapAmountsByToken = {},\n\t} = await getSweepingTxnsIfNeeded({\n\t\tamountInMainTokenNeeded: feesForMainTxns.add(\n\t\t\tbigNumberify(amountInMainTokenNeeded)\n\t\t),\n\t\taccount,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns: sweepTxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// 1st - always get sweeping txns (channelWithdraw)\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\n\t// 3rd - make other txns with the main token only\n\n\t// TODO: make it work with other tokens\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\n\t\t.add(bigNumberify(swapAmountsByToken[saiAddr] || 0))\n\n\tif (!saiSwapAmount.isZero()) {\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\n\t\t\t...(await swapSaiToDaiTxns({\n\t\t\t\tgetToken,\n\t\t\t\tidentityAddr,\n\t\t\t\tdaiAddr,\n\t\t\t\tsaiToken,\n\t\t\t\tswapAmount: saiSwapAmount,\n\t\t\t})),\n\t\t]\n\t}\n\n\tconst allFeeTokens = [\n\t\t...new Set([\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\n\t\t]),\n\t]\n\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\n\t\ttxns[token] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\n\t\t]\n\n\t\treturn txns\n\t}, {})\n\n\tlet currentNonce = initialNonce\n\n\tObject.keys(txnsByFeeToken).forEach(key => {\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\n\t\t\tconst { routinesTxCount = 0, routinesSweepTxCount = 0, isSweepTx } = tx\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\n\t\t\tconst minFeeAmount = bigNumberify(\n\t\t\t\tcurrentNonce === 0 ? feeToken.minDeploy : feeToken.min\n\t\t\t)\n\n\t\t\tconst routinesFeeAmount = bigNumberify(routinesTxCount).mul(\n\t\t\t\tbigNumberify(feeToken.min)\n\t\t\t)\n\n\t\t\t// Total relayer fees for the transaction\n\t\t\tconst feeAmount = minFeeAmount.add(routinesFeeAmount).toString()\n\n\t\t\t// fees that are not pre calculated with in the total identity balance\n\t\t\tconst nonIdentityBalanceFeeAmount = bigNumberify(feeAmount)\n\t\t\t\t.sub(bigNumberify(isSweepTx ? feeToken.min : 0))\n\t\t\t\t.sub(bigNumberify(routinesSweepTxCount).mul(bigNumberify(feeToken.min)))\n\t\t\t\t.toString()\n\n\t\t\tconst txWithNonce = {\n\t\t\t\t...tx,\n\t\t\t\tfeeTokenAddr: feeToken.address,\n\t\t\t\tfeeAmount,\n\t\t\t\tnonce: currentNonce,\n\t\t\t\tnonIdentityBalanceFeeAmount,\n\t\t\t}\n\n\t\t\tcurrentNonce += 1\n\n\t\t\treturn txWithNonce\n\t\t})\n\t})\n\n\treturn txnsByFeeToken\n}\n\nexport async function getApproveTxns({\n\tgetToken,\n\ttoken,\n\tidentityAddr,\n\tfeeTokenAddr,\n\tapproveForAddress,\n\tapproveAmount,\n}) {\n\tconst tokenContract = getToken(token)\n\n\tconst allowance = await tokenContract.allowance(\n\t\tidentityAddr,\n\t\tapproveForAddress\n\t)\n\n\tconst approveTxns = []\n\n\tif (!allowance.isZero()) {\n\t\tapproveTxns.push({\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: token.address,\n\t\t\tdata: ERC20.functions.approve.encode([approveForAddress, 0]),\n\t\t})\n\t}\n\n\tapproveTxns.push({\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: feeTokenAddr,\n\t\tto: token.address,\n\t\tdata: ERC20.functions.approve.encode([approveForAddress, approveAmount]),\n\t})\n\n\treturn approveTxns\n}\n\nasync function swapSaiToDaiTxns({\n\tidentityAddr,\n\tdaiAddr,\n\tsaiToken,\n\tswapAmount,\n\tgetToken,\n}) {\n\tconst approveTxns = await getApproveTxns({\n\t\tgetToken,\n\t\ttoken: saiToken,\n\t\tidentityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\n\t\tapproveAmount: swapAmount,\n\t})\n\n\tconst swapTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tto: SCD_MCD_MIGRATION_ADDR,\n\t\tdata: ScdMcdMigration.functions.swapSaiToDai.encode([swapAmount]),\n\t}\n\n\treturn [...approveTxns, swapTx]\n}\n\n// TODO: use byToken where needed\n// currently works because only using SAI and DAI only\nexport async function getIdentityTxnsTotalFees({\n\ttxnsByFeeToken,\n\tmainToken = {},\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst bigZero = bigNumberify('0')\n\tconst feesData = Object.values(txnsByFeeToken)\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\n\t\t.reduce(\n\t\t\t(result, tx) => {\n\t\t\t\tconst txFeeAmount = bigNumberify(tx.nonIdentityBalanceFeeAmount)\n\t\t\t\tresult.total = result.total.add(txFeeAmount)\n\n\t\t\t\tresult.byToken[tx.feeTokenAddr] = (\n\t\t\t\t\tresult.byToken[tx.feeTokenAddr] || bigZero\n\t\t\t\t).add(txFeeAmount)\n\n\t\t\t\treturn result\n\t\t\t},\n\t\t\t{ total: bigZero, byToken: {} }\n\t\t)\n\n\tconst byToken = Object.entries(feesData.byToken).map(([key, value]) => {\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\n\t\treturn {\n\t\t\taddress: key,\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\n\t\t\tsymbol,\n\t\t\tfeeFormatted: `${formatTokenAmount(\n\t\t\t\tvalue.toString(),\n\t\t\t\tdecimals,\n\t\t\t\tfalse,\n\t\t\t\t4\n\t\t\t)} ${symbol}`,\n\t\t}\n\t})\n\n\tconst fees = {\n\t\ttotal: formatTokenAmount(\n\t\t\tfeesData.total.toString(),\n\t\t\tmainToken.decimals || 18\n\t\t),\n\t\ttotalBN: feesData.total,\n\t\tbyToken,\n\t}\n\n\treturn fees\n}\n\nexport async function processExecuteByFeeTokens({\n\ttxnsByFeeToken,\n\twallet,\n\tprovider,\n\tidentityAddr,\n\textraData = {},\n}) {\n\tconst signer = await getSigner({ wallet, provider })\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\n\t\tconst data = {\n\t\t\ttxnsRaw,\n\t\t\tsignatures,\n\t\t\tidentityAddr,\n\t\t\t...extraData,\n\t\t}\n\n\t\tconst result = await executeTx(data)\n\n\t\treturn {\n\t\t\tresult,\n\t\t}\n\t})\n\n\tconst results = await Promise.all(all)\n\n\treturn results\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { constants } from 'adex-models'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport { bigNumberify, formatEther } from 'ethers/utils'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport {\n\tselectRelayerConfig,\n\tselectMainToken,\n\tselectRoutineWithdrawTokens,\n\tselectFeeTokenWhitelist,\n} from 'selectors'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\n\tif (token.address === mainToken.address) {\n\t\treturn balance\n\t}\n\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\n\n\t// approve + swap txns\n\tconst swapFees = bigNumberify(feeToken.min).mul(bigNumberify(2))\n\n\tconst isAvailable = swapFees.mul(bigNumberify(2)).lte(balance)\n\treturn isAvailable ? balance : bigNumberify(0)\n}\n\nexport const getWithdrawTokensBalances = async ({\n\tauthType,\n\taddress,\n\tgetFullBalances,\n}) => {\n\tconst { getToken } = await getEthers(authType)\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\n\t\tconst tokenContract = getToken(token)\n\n\t\tconst balance = await tokenContract.balanceOf(address)\n\n\t\tconst available = getFullBalances\n\t\t\t? balance\n\t\t\t: tokenAvailableBalance({\n\t\t\t\t\ttoken,\n\t\t\t\t\tmainToken,\n\t\t\t\t\tbalance,\n\t\t\t  })\n\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: available,\n\t\t})\n\n\t\treturn { token, balance: available, balanceMainToken }\n\t})\n\n\tconst balances = await Promise.all(balancesCalls)\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\n\t\t(data, balanceData) => {\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\n\t\t\t\tbalanceData.balanceMainToken\n\t\t\t)\n\n\t\t\tif (balanceData.token.address === mainToken.address) {\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\n\t\t\t}\n\n\t\t\treturn data\n\t\t},\n\t\t{\n\t\t\ttotalBalanceInMainToken: bigNumberify(0),\n\t\t\tmainTokenBalance: bigNumberify(0),\n\t\t}\n\t)\n\n\treturn {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t\ttotalBalanceInMainToken,\n\t}\n}\n\nexport async function getAddressBalances({\n\taddress,\n\tauthType,\n\tgetFullBalances,\n}) {\n\tconst { provider } = await getEthers(authType)\n\n\tconst calls = [\n\t\tprovider.getBalance(address.address),\n\t\tgetWithdrawTokensBalances({\n\t\t\tauthType,\n\t\t\taddress: address.address,\n\t\t\tgetFullBalances,\n\t\t}),\n\t]\n\n\tconst balances = await Promise.all(calls)\n\tconst formatted = {\n\t\taddress: address.address,\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\n\t\tbalanceEth: formatEther(balances[0].toString()),\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\n\t\t\treturn {\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\n\t\t\t\tsymbol: token.symbol,\n\t\t\t}\n\t\t}),\n\t}\n\n\treturn formatted\n}\n\nexport async function getAccountStats({\n\taccount,\n\toutstandingBalanceMainToken = {\n\t\ttotal: bigNumberify('0'),\n\t\tavailable: bigNumberify('0'),\n\t},\n}) {\n\tconst { wallet, identity } = account\n\tconst { authType } = wallet\n\tconst { address } = identity\n\tconst { getIdentity } = await getEthers(authType)\n\tconst { decimals } = selectMainToken()\n\n\tconst { status = {} } = identity\n\tconst identityContract = getIdentity({ address })\n\tlet privilegesAction\n\ttry {\n\t\tawait identityContract.deployed()\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\n\t} catch {\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\n\t}\n\n\tconst calls = [\n\t\tgetWithdrawTokensBalances({ authType, address }),\n\t\tprivilegesAction,\n\t]\n\n\tconst [\n\t\tidentityWithdrawTokensBalancesBalances = {},\n\t\twalletPrivileges,\n\t] = await Promise.all(\n\t\tcalls.map(c =>\n\t\t\tc\n\t\t\t\t.then(res => res)\n\t\t\t\t.catch(e => {\n\t\t\t\t\treturn undefined\n\t\t\t\t})\n\t\t)\n\t)\n\n\tconst identityBalanceMainToken =\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken\n\n\t// BigNumber values for balances\n\tconst raw = {\n\t\tidentityWithdrawTokensBalancesBalances,\n\t\twalletPrivileges,\n\t\tidentityBalanceMainToken,\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.available\n\t\t),\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.total\n\t\t),\n\t}\n\n\tconst formatted = {\n\t\twalletAddress: wallet.address,\n\t\twalletAuthType: wallet.authType,\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\n\t\tidentityAddress: identity.address,\n\t\tidentityBalanceMainToken: formatTokenAmount(\n\t\t\tidentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\toutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.outstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalOutstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.availableIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t}\n\n\treturn {\n\t\traw,\n\t\tformatted,\n\t}\n}\n\n// NOTE: currently working because DAI and SAI has the same price and decimals\n// We should use getOutstandingBalanceMainToken if changed\nexport async function getOutstandingBalance({ withBalance }) {\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable } = ch\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstanding)\n\t\tcurrent.available = current.available.add(outstandingAvailable)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\n\tconst tokens = selectRoutineWithdrawTokens()\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\n\t\tconst { depositAsset } = channel\n\t\tconst token = tokens[depositAsset]\n\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: outstandingAvailable,\n\t\t})\n\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstandingMT)\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getAllValidatorsAuthForIdentity({\n\twithBalance,\n\taccount,\n}) {\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\n\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\n\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\tconst keys = Object.keys(allValidators)\n\n\tconst tokenCalls = keys.map(async key => {\n\t\tif (allValidators[key]) {\n\t\t\treturn allValidators[key]\n\t\t} else {\n\t\t\tconst token = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: key,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\treturn token\n\t\t}\n\t})\n\n\tconst allTokens = await Promise.all(tokenCalls)\n\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[key]: allTokens[index],\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\treturn validatorsAuth\n}\n\nconst saiDaiConversion = ({ token, balance }) => balance\n\nconst valueInMainTokenConversions = {\n\t// SAI\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\n\t\t// DAI\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\n\t},\n\t// DAI\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\n\t\t// SAI\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\n\t},\n}\n\nasync function tokenInMainTokenValue({ token, balance }) {\n\tconst { address } = selectMainToken()\n\n\tif (address === token.address) {\n\t\treturn balance\n\t}\n\n\tconst valueInMainToken = valueInMainTokenConversions[address.toLowerCase()][\n\t\ttoken.address.toLowerCase()\n\t]({\n\t\ttoken,\n\t\tbalance,\n\t})\n\n\treturn valueInMainToken\n}\n","import { Signer, utils } from 'ethers'\nimport TrezorConnect from 'trezor-connect'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\n\nTrezorConnect.manifest({\n\temail: 'contactus@adex.network',\n\tappUrl: 'http://adex.network',\n})\n\nexport default class TrezorSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\n\t\tconst bundle = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tbundle.push({\n\t\t\t\tpath: this.path + `/${index}`,\n\t\t\t\tshowOnTrezor: false,\n\t\t\t})\n\t\t}\n\n\t\treturn { bundle }\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\n\t\t\tthis.getAddsParams({ from, to })\n\t\t)\n\n\t\treturn { success, payload }\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\n\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\n\t\t\tpath: this.path,\n\t\t\ttransaction: txProps,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst signature = {\n\t\t\t\tr: payload.r,\n\t\t\t\ts: payload.s,\n\t\t\t\tv: parseInt(payload.v),\n\t\t\t}\n\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\t\treturn txSigned\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\n\t\t\tpath: this.path,\n\t\t\tmessage: message,\n\t\t\thex: !!opts.hex,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst res = {\n\t\t\t\t/*\n\t\t\t\t * NOTE: SignatureTypes.GETH\n\t\t\t\t * Current TrezorConnect window does not\n\t\t\t\t * accept device with old firmware\n\t\t\t\t */\n\t\t\t\tsignature: '0x' + payload.signature,\n\t\t\t\thash: message,\n\t\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\t\taddress: payload.address,\n\t\t\t}\n\n\t\t\treturn res\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tconnect = provider => {\n\t\treturn new TrezorSigner(provider, { path: this.path })\n\t}\n}\n","import { Signer, utils, Wallet } from 'ethers'\nimport { getLocalWallet } from 'services/wallet/wallet'\nimport { constants } from 'adex-models'\n\nexport default class LocalSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\n\t\tthis._provider = provider\n\t\tthis._opts = opts\n\t}\n\n\tgetWallet = async () => {\n\t\tif (this._wallet) {\n\t\t\treturn this._wallet\n\t\t} else {\n\t\t\tconst { email, password, authType } = this._opts\n\t\t\tconst walletData = await getLocalWallet({\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\n\t\t\treturn this._wallet\n\t\t}\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn await this.getWallet().address\n\t}\n\n\tsignTx = async params => {\n\t\tconst signetTx = await this.getWallet().sign(params)\n\t\treturn signetTx\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst wallet = await this.getWallet()\n\n\t\tconst signature = await wallet.signMessage(message)\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: wallet.address,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LocalSigner(provider, {\n\t\t\temail: this.email,\n\t\t\tpassword: this.password,\n\t\t})\n\t}\n}\n","import { Signer, utils } from 'ethers'\nimport { constants } from 'adex-models'\n\nexport default class MetaMaskSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._signer = provider.getSigner()\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn this._signer.getAddress()\n\t}\n\n\tsendTransaction = async params => {\n\t\treturn this._signer.sendTransaction(params)\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst signature = await this._signer.signMessage(message)\n\t\t// TODO: support EIP712\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: await this._signer.getAddress(),\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new MetaMaskSigner(provider)\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { utils } from 'ethers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\nimport LedgerSigner from 'services/smart-contracts/signers/ledger'\nimport LocalSigner from 'services/smart-contracts/signers/local'\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\n\nexport async function getSigner({ wallet, provider }) {\n\t// TODO: Maybe get provider here?\n\tconst { authType, path, email, password } = wallet\n\n\tif (authType === AUTH_TYPES.METAMASK.name) {\n\t\tconst signer = new MetaMaskSigner(provider)\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.LEDGER.name) {\n\t\tconst signer = new LedgerSigner(provider, { path })\n\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.TREZOR.name) {\n\t\tconst signer = new TrezorSigner(provider, { path })\n\t\treturn signer\n\t}\n\tif (\n\t\tauthType === AUTH_TYPES.GRANT.name ||\n\t\tauthType === AUTH_TYPES.QUICK.name\n\t) {\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\n\n\t\treturn signer\n\t}\n\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\n}\n\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\nexport const getTypedDataHash = ({ typedData }) => {\n\tconst values = typedData.map(entry => {\n\t\treturn typeof entry.value === 'string'\n\t\t\t? utils.toUtf8Bytes(entry.value)\n\t\t\t: utils.hexlify(entry.value)\n\t})\n\tconst valuesHash = utils.keccak256.apply(null, values)\n\tconst schema = typedData.map(entry => {\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\n\t})\n\n\tconst schemaHash = utils.keccak256.apply(null, schema)\n\tconst hash = utils.solidityKeccak256(\n\t\t['bytes32', 'bytes32'],\n\t\t[schemaHash, valuesHash]\n\t)\n\n\treturn hash\n}\n\nexport async function getAuthSig({ wallet }) {\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst authToken = Math.floor(\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\n\t).toString()\n\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\n\tconst hash = getTypedDataHash({ typedData })\n\tconst signature = await signer.signMessage(hash, { hex: true })\n\n\treturn {\n\t\t...signature,\n\t\tauthToken,\n\t\thash,\n\t}\n}\n\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\n\tconst { provider } = await getEthers(authType)\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\n\n\treturn Promise.all(receipts)\n}\n\nexport async function signTx({ tx, signer }) {\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\n\t\thex: true,\n\t})\n\tconst signature = splitSig(sig.signature)\n\treturn signature\n}\n\nexport async function getMultipleTxSignatures({ txns, signer }) {\n\tconst signatures = []\n\tfor (const tx of txns) {\n\t\tsignatures.push(await signTx({ tx, signer }))\n\t}\n\n\treturn signatures\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\n\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getOwnerIdentities = ({ owner }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/by-owner/${owner}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getIdentityData = ({ identityAddr }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getRelayerConfigData = () => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'relayer/cfg',\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}/execute`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttxnsRaw,\n\t\t\t\tsignatures,\n\t\t\t\tidentityAddr,\n\t\t\t\tchannel,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const regAccount = ({\n\towner,\n\temail,\n\tbytecode,\n\tidentityFactoryAddr,\n\tbaseIdentityAddr,\n\tsalt,\n\tidentityAddr,\n\tprivileges,\n\troutineAuthorizationsRaw,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\towner,\n\t\t\t\temail,\n\t\t\t\tbytecode,\n\t\t\t\tidentityFactoryAddr,\n\t\t\t\tbaseIdentityAddr,\n\t\t\t\tsalt,\n\t\t\t\tidentityAddr,\n\t\t\t\tprivileges,\n\t\t\t\troutineAuthorizationsRaw,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getQuickWallet = ({ hash }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail,\n\t\t\t\tsalt,\n\t\t\t\thash,\n\t\t\t\tencryptedWallet,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nconst updateCfg = (current, type, cfg) => {\n\tconst newCfg = { ...current }\n\tnewCfg[type] = { ...cfg }\n\treturn newCfg\n}\n\nexport default function uiReducer(state = initialState.config, action) {\n\tswitch (action.type) {\n\t\tcase UPDATE_RELAYER_CFG:\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import account from './accountReducer'\nimport signin from './signinReducer'\nimport identity from './identityReducer'\nimport wallet from './walletReducer'\nimport items from './itemsReducer'\nimport newItem from './newItemsReducer'\n// import currentItem from './currentItemsReducer'\nimport spinners from './spinnersReducer'\nimport ui from './uiReducer'\nimport toasts from './toastsReducer'\nimport confirm from './confirmReducer'\nimport nav from './navReducer'\nimport language from './languageReducer'\nimport validations from './validateItemsReducer'\nimport newTransactions from './newTransactionsReducer'\nimport web3Transactions from './web3TransactionsReducer'\nimport tags from './tagsReducer'\nimport ethNetwork from './ethNetworkReducer'\nimport config from './configReducer'\nimport analytics from './analyticsReducer'\nimport { filterActions } from 'redux-ignore'\nimport * as types from 'constants/actionTypes'\n\nexport const persistReducers = {\n\taccount,\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\n\tui: filterActions(ui, [types.UPDATE_UI]),\n\tlanguage,\n\tweb3Transactions,\n\ttags,\n\tethNetwork,\n\tconfig,\n\tanalytics,\n}\n\nexport const memoryReducers = {\n\tsignin,\n\tidentity,\n\twallet,\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\n\ttoasts,\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\n\tvalidations,\n\tnewTransactions,\n}\n","import {\n\tCREATE_ACCOUNT,\n\tRESET_ACCOUNT,\n\tUPDATE_ACCOUNT,\n} from '../constants/actionTypes'\nimport initialState from 'store/initialState'\nimport { Base, Account } from 'adex-models'\n\nexport default function accountReducer(state = initialState.account, action) {\n\tlet newState\n\tlet newAccount\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase CREATE_ACCOUNT:\n\t\t\tnewAccount = { ...action.account }\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase RESET_ACCOUNT:\n\t\t\tnewAccount = initialState.account\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase UPDATE_ACCOUNT:\n\t\t\tnewAccount = Base.updateObject({\n\t\t\t\titem: newState,\n\t\t\t\tnewValues: { ...action.newValues },\n\t\t\t\tobjModel: Account,\n\t\t\t})\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_ITEM,\n\tDELETE_ITEM,\n\tUPDATE_ITEM,\n\tREMOVE_ITEM_FROM_ITEM,\n\tADD_ITEM_TO_ITEM,\n\tUPDATE_ALL_ITEMS,\n\tRESET_ALL_ITEMS,\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\nimport initialState from 'store/initialState'\nimport { Item } from 'adex-models'\n\nexport default function itemsReducer(state = initialState.items, action) {\n\tlet newState\n\tlet newCollection\n\tlet newItem\n\tlet collectionId\n\tlet item\n\n\tconst collection = (state = {}, action) => {\n\t\tif (!action.item) return state\n\t\treturn {\n\t\t\t...state,\n\t\t\t[action.item.id]: action.item,\n\t\t}\n\t}\n\n\tconst removeCollectionProp = (collection = {}, prop) => {\n\t\tlet newCol = { ...collection }\n\t\tdelete newCol[prop]\n\t\treturn newCol\n\t}\n\n\tif (action.item && action.itemType) {\n\t\tnewState = { ...state }\n\t\titem = { ...action.item }\n\t\tcollectionId = action.itemType\n\t}\n\n\tswitch (action.type) {\n\t\tcase ADD_ITEM:\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\n\t\t\t// id is going to be set when it comes here\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase ADD_ITEM_TO_ITEM:\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase DELETE_ITEM:\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase REMOVE_ITEM_FROM_ITEM:\n\t\t\tnewItem = Item.removeItem(\n\t\t\t\tnewState[collectionId][item._id],\n\t\t\t\taction.toRemove\n\t\t\t)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ITEM:\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ALL_ITEMS:\n\t\t\tnewState = { ...state }\n\t\t\tconst newItems = action.items.reduce((items, item, index) => {\n\t\t\t\tconst currentItems = { ...items }\n\t\t\t\tconst newItem = { ...item }\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\n\t\t\t\treturn currentItems\n\t\t\t}, newState[action.itemType])\n\n\t\t\tnewState[action.itemType] = newItems\n\t\t\treturn newState\n\t\tcase RESET_ALL_ITEMS:\n\t\t\tnewState = { ...initialState.items }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_UI } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function uiReducer(state = initialState.ui, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_UI:\n\t\t\tnewState = { ...state }\n\t\t\tif (action.category) {\n\t\t\t\tnewState[action.category] = { ...newState[action.category] }\n\t\t\t\tnewState[action.category][action.item] = action.value\n\t\t\t} else {\n\t\t\t\tnewState[action.item] = action.value\n\t\t\t}\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import initialState from 'store/initialState'\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\nimport { setLang } from 'services/translations/translations'\n\nexport default function languageReducer(state = initialState.language, action) {\n\tswitch (action.type) {\n\t\tcase CHANGE_LANGUAGE:\n\t\t\tlet newLang = action.lang || state\n\t\t\tsetLang(newLang)\n\t\t\treturn newLang\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_WEB3_TRANSACTION,\n\tUPDATE_WEB3_TRANSACTION,\n\tRESET_WEB3_TRANSACTION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function web3TransactionsReducer(\n\tstate = initialState.web3Transactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\tlet newAddrTxs\n\tlet pendingTxs\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateObj = ({ obj, key, val }) => {\n\t\tobj = obj || {}\n\t\tobj[key] = val\n\n\t\treturn obj\n\t}\n\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\n\t\t\tpTxs.push(newTx.hash)\n\t\t} else {\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\n\t\t}\n\n\t\treturn pTxs\n\t}\n\n\tif (!action.addr) {\n\t\treturn state\n\t}\n\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\n\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\n\t// If we keep the transactions on the node we can clean them from local storage on address change\n\tswitch (action.type) {\n\t\tcase ADD_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...action.value }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase UPDATE_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase RESET_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: { txHash: action.tx },\n\t\t\t})\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function tagsReducer(state = initialState.tags, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_TAGS:\n\t\t\tnewState = { ...state, ...action.tags }\n\t\t\treturn newState\n\t\tcase ADD_NEW_TAG:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.tag] = action.tag\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function tagsReducer(state = initialState.tags, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_GAS_DATA:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.gasData = { ...action.gasData }\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ANALYTICS,\n\tRESET_ANALYTICS,\n\tUPDATE_ANALYTICS_TIMEFRAME,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function analyticsReducer(\n\tstate = initialState.analytics,\n\taction\n) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.timeframe = action.value\n\t\t\treturn newState\n\t\tcase UPDATE_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.side] = { ...newState[action.side] }\n\t\t\tnewState[action.side][action.eventType] = {\n\t\t\t\t...newState[action.side][action.eventType],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric][\n\t\t\t\taction.timeframe\n\t\t\t] = { ...action.value }\n\t\t\treturn newState\n\n\t\tcase RESET_ANALYTICS:\n\t\t\tnewState = { ...initialState.analytics }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function signinReducer(state = initialState.signin, action) {\n\tlet newState\n\tlet newSignin\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SIGNIN:\n\t\t\tnewSignin = { ...newState }\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\n\t\t\t\tnewSignin[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewSignin[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newSignin\n\n\t\t\treturn newState\n\n\t\tcase RESET_SIGNIN:\n\t\t\tnewSignin = { ...initialState.signin }\n\t\t\tnewState = newSignin\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function identityReducer(state = initialState.identity, action) {\n\tlet newState\n\tlet newIdentity\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_IDENTITY:\n\t\t\tnewIdentity = newState\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewIdentity[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newIdentity\n\n\t\t\treturn newState\n\n\t\tcase RESET_IDENTITY:\n\t\t\tnewIdentity = { ...initialState.identity }\n\t\t\tnewState = newIdentity\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function walletReducer(state = initialState.wallet, action) {\n\tlet newState\n\tlet newWallet\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_WALLET:\n\t\t\tnewWallet = newState\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\n\t\t\t\tnewWallet[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewWallet[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newWallet\n\n\t\t\treturn newState\n\n\t\tcase RESET_WALLET:\n\t\t\tnewWallet = { ...initialState.wallet }\n\t\t\tnewState = newWallet\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_NEW_ITEM,\n\tRESET_NEW_ITEM,\n\tRESET_ALL_NEW_ITEMS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newItemsReducer(state = initialState.newItem, action) {\n\tlet newState\n\tlet newItem\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...action.item }\n\t\t\tnewState[action.itemType] = newItem\n\n\t\t\treturn newState\n\n\t\tcase RESET_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...initialState.newItem[action.item] }\n\t\t\tnewState[action.item] = newItem\n\n\t\t\treturn newState\n\n\t\tcase RESET_ALL_NEW_ITEMS:\n\t\t\tnewState = { ...initialState.newItem }\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function spinnersReducer(state = initialState.spinners, action) {\n\tconst newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SPINNER:\n\t\t\tnewState[action.spinner] = action.value\n\n\t\t\treturn newState\n\t\tcase UPDATE_ITEM:\n\t\t\tnewState['update' + action.item._id] = false\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function toastsReducer(state = initialState.toasts, action) {\n\tlet newState\n\tlet newToast\n\n\tswitch (action.type) {\n\t\tcase ADD_TOAST:\n\t\t\tnewToast = { ...action.toast }\n\t\t\tnewToast.added = Date.now()\n\t\t\tnewState = [newToast, ...state]\n\t\t\treturn newState\n\n\t\tcase REMOVE_TOAST:\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n// import Helper from './../helpers/miscHelpers'\n\nexport default function confirmReducer(state = initialState.confirm, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase CONFIRM_ACTION:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.data = { ...action.confirm.data }\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\n\t\t\tnewState.onCancel = action.confirm.onCancel\n\t\t\tnewState.active =\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\n\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\n\t\t\tnewState.calledOn = Date.now()\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_NAV } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function navReducer(state = initialState.nav, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NAV:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ITEM_VALIDATION,\n\tRESET_ITEM_VALIDATION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function validateItemsReducer(\n\tstate = initialState.validations,\n\taction\n) {\n\tlet newState\n\tlet newErrors\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tcase RESET_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item] }\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\n\t\t\t\tdelete newErrors[action.key]\n\t\t\t} else if (newErrors && !action.key) {\n\t\t\t\tnewErrors = {}\n\t\t\t}\n\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_NEW_TRANSACTION,\n\tRESET_NEW_TRANSACTION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newTransactionsReducer(\n\tstate = initialState.newTransactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateTx = ({ tx, key, val }) => {\n\t\ttx = tx || {}\n\t\ttx[key] = val\n\n\t\treturn tx\n\t}\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_TRANSACTION:\n\t\t\tnewTx = {\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\n\t\t\t}\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\n\n\t\t\t// console.log('newTx', newTx)\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tcase RESET_NEW_TRANSACTION:\n\t\t\tnewTx = { ...initialState.newTransactions.default }\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\nimport thunk from 'redux-thunk'\nimport { persistReducers, memoryReducers } from 'reducers'\nimport history from './history'\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\nimport { persistStore, persistCombineReducers } from 'redux-persist'\nimport localStorage from 'redux-persist/es/storage'\n// import session from 'redux-persist/lib/storage/session'\n\nconst reduxRouterMiddleware = routerMiddleware(history)\n\nconst configStorage = {\n\tkey: 'persist',\n\tstorage: localStorage,\n}\n\n// const configSession = {\n//   key: 'session',\n//   storage: session,\n// }\n\n// const rootReducer = combineReducers(reducers)\n\n// TODO: make session reducer(signin) - RAM reducer (no persist)\nconst rootReducer = combineReducers({\n\tpersist: persistCombineReducers(configStorage, persistReducers),\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\n\trouter: connectRouter(history),\n})\n\nconst logger = store => next => action => {\n\t// if (action.type === 'UPDATE_NEWITEM') {\n\t//   return next(action)\n\t// }\n\n\tconsole.groupCollapsed(action.type)\n\tconsole.info('dispatching', action)\n\tlet result = next(action)\n\tconsole.log('next state', store.getState())\n\tconsole.groupEnd(action.type)\n\treturn result\n}\n\nfunction configureStoreProd(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t\tlogger,\n\t]\n\n\tlet store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcompose(applyMiddleware(...middlewares))\n\t)\n\n\tlet persistor = persistStore(store)\n\n\treturn { persistor, store }\n}\n\nfunction configureStoreDev(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\n\t\treduxImmutableStateInvariant(),\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t\tlogger,\n\t]\n\n\tconst composeEnhancers =\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\n\tconst store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\n\t)\n\n\tif (module.hot) {\n\t\t// Enable Webpack hot module replacement for reducers\n\t\tmodule.hot.accept('../reducers', () => {\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\n\t\t\tstore.replaceReducer(nextReducer)\n\t\t})\n\t}\n\n\tlet persistor = persistStore(store)\n\treturn { persistor, store }\n}\n\nconst configureStore =\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\n\nexport default configureStore()\n","import configureStore from './configureStore'\n\nexport default configureStore\n\nexport const store = configureStore.store\nexport const persistor = configureStore.persistor\nexport const dispatch = store.dispatch\nexport const getState = store.getState\n"],"sourceRoot":""}