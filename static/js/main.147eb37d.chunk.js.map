{"version":3,"sources":["selectors/selectors.js","selectors/accountSelectors.js","selectors/identitySelectors.js","selectors/locationSelectors.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","selectors/configSelectors.js","selectors/newTransactionSelectors.js","selectors/newItemsSelectors.js","selectors/itemsSelectors.js","selectors/tablesDataSelectors.js","selectors/chartsSelectors.js","selectors/dataSelectors.js","selectors/index.js","services/smart-contracts/actions/stats.js","services/adex-relayer/actions.js","services/smart-contracts/signers/trezor.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","helpers/localStorageHelpers.js","constants/actionTypes.js","resources/home-wallpaper.jpg","components/toast/Toast.js","components/toast/styles.js","components/translate/Translate.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/common/anchor/anchor.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","helpers/logosHelpers.js","components/dashboard/dashboard/TopBar.js","components/common/img/Img.js","components/common/img/styles.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/ValidImageHoc.js","components/dashboard/forms/ValidItemHoc.js","components/dashboard/containers/ImgDialog/styles.js","components/dashboard/containers/ImgDialog/ImgDialog.js","components/dashboard/containers/SaveBtn/SaveBtn.js","components/dashboard/containers/SaveBtn/styles.js","components/dashboard/containers/ItemHoc/styles.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/ItemHoc/ItemHoc.js","components/dashboard/containers/Tables/MUIDataTableEnhanced.js","components/dashboard/containers/Tables/tableHelpers.js","components/dashboard/containers/Tables/styles.js","components/dashboard/containers/Tables/commonFilters.js","components/dashboard/containers/Tables/tableHooks.js","components/dashboard/containers/Tables/toolbars.js","components/dashboard/containers/Tables/CampaignsTable.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/dashboard/forms/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/dashboard/forms/items/AdUnit/NewAdUnitHoc.js","components/common/dropdown/Dropdown.js","components/common/dropdown/styles.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","helpers/utmHelpers.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/autocomplete/common.js","components/common/autocomplete/Autocomplete.js","components/common/autocomplete/styles.js","components/dashboard/forms/items/AdUnit/AdUnitTargeting.js","components/dashboard/containers/UnitTargets/UnitTargets.js","components/common/dialog/content.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/NewCampaignHoc.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/dashboard/forms/FormsCommon.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/dashboard/forms/items/AdSlot/NewAdSlotHoc.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/AdSlot/AdSlotTargeting.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/AdUnitsTable.js","components/dashboard/containers/Tables/AdSlotsTable.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/ItemCommon.js","components/dashboard/charts/options.js","components/dashboard/charts/campaigns/CampaignStatsDoughnut.js","components/dashboard/containers/Tables/CampaignStatsBreakdownTable.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/Campaign/styles.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/dashboard/containers/DashboardStats/styles.js","components/dashboard/charts/simplified.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/App/themeMUi.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/DashboardStats/DashboardStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Slot/styles.js","components/dashboard/forms/web3/TransactionHoc.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/SetAccountENSPage.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","helpers/ensHelper.js","components/common/ens/EnsAddressResolver.js","components/common/ens/styles.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/common/stepper/ValidItemHoc.js","components/signin/identity/ownerAuth/AuthHoc.js","components/signin/identity/IdentityHoc.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthLedger.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/IdentitySteps.js","components/signin/identity/styles.js","components/signin/identity/Identity.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/App.js","serviceWorker.js","index.js","services/store-data/auth.js","helpers/mediaHelpers.js","services/smart-contracts/contractsCfg.js","services/smart-contracts/actions/core.js","services/requester/requester.js","services/requester/index.js","services/store-data/loop.js","services/store-data/campaigns.js","services/store-data/analytics.js","constants/targeting.js","helpers/formatters.js","services/crypto/crypto.js","constants/misc.js","services/translations/translations.js","store/history.js","services/store-data/account.js","resources/no-image-box-eddie.jpg","store/initialState.js","services/smart-contracts/actions/erc20.js","resources/trezor-logo-h.png","resources/ledger_logo_header.png","constants/spinners.js","actions/common.js","actions/uiActions.js","helpers/errors.js","helpers/numbers.js","actions/itemActions.js","services/auth/auth.js","actions/accountActions.js","actions/validationActions.js","actions/identityActions.js","actions/bidActions.js","actions/transactionActions.js","helpers/timeHelpers.js","services/adex-market/aggregates.js","actions/analyticsActions.js","actions/campaignActions.js","actions/newItemsActions.js","actions/index.js","services/smart-contracts/ethers.js","services/wallet/wallet.js","services/smart-contracts/signers/ledger.js","services/adex-validator/ewt.js","../external \"Module\"","helpers/miscHelpers.js","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","resources/404-no.png","resources/404-yes.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png","components/App/CacheBuster.js","services/adex-market/actions.js","services/smart-contracts/actions/common.js","helpers/validators.js","reducers/configReducer.js","reducers/index.js","reducers/accountReducer.js","reducers/itemsReducer.js","reducers/uiReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/tagsReducer.js","reducers/ethNetworkReducer.js","reducers/analyticsReducer.js","reducers/channelsReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","services/smart-contracts/actions/identity.js","services/adex-validator/actions.js"],"names":["createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","creatArrayOnlyLengthChangeSelector","a","arguments","length","undefined","b","selectAccount","state","persist","account","selectAuth","createSelector","_ref","wallet","identity","address","authSig","authType","selectWallet","_ref2","selectAuthSig","_ref3","selectWalletAddress","_ref4","selectAuthType","_ref5","selectAccountIdentity","_ref6","selectAccountIdentityAddr","_ref7","selectAccountStats","_ref8","stats","selectAccountStatsFormatted","_ref9","settings","_ref10","raw","_ref11","formatted","selectChannelsWithUserBalances","_ref12","relayerData","routineAuthorizationsData","getState","channels","_ref13","withBalance","selectAccountIdentityCurrentPrivileges","_ref14","currentPrivileges","selectIdentity","memory","selectLocation","router","location","selectLocationQuery","search","query","selectSearchParams","URLSearchParams","selectNavTitle","nav","navTitle","selectSide","side","selectSpinners","spinners","selectSpinnerById","_","id","selectRegistrationAllowed","ids","map","ui","allowRegistration","process","selectLang","language","selectTranslations","val","opts","lang","_opts$isProp","isProp","_opts$args","args","translate","t","selectAnalytics","analytics","selectCampaignAnalytics","campaigns","selectDemandAnalytics","demand","selectCampaignAnalyticsByType","type","campaignAnalytics","selectCampaignAnalyticsByChannelStats","campaignId","Object","slicedToArray","analyticsByType","byChannelStats","selectAnalyticsDataAggr","eventType","metric","timeframe","_analytics$side","_analytics$side$event","_analytics$side$event2","_analytics$side$event3","_analytics$side$event4","aggr","selectTotalImpressions","eventCounts","reduce","value","Number","selectTotalClicks","selectTotalMoney","eventPayouts","formatTokenAmount","selectAverageCPM","totalMoney","totalImpressions","selectStatsChartData","noLastOne","rest","objectWithoutProperties","objectSpread","data","_ref15","_ref15$data","slice","memo","item","time","labels","push","formatDateTime","datasets","parseFloat","parseInt","parseValueByMetric","selectValidations","validations","selectValidationsById","selectRelayerConfig","config","relayer","selectFeeTokenWhitelist","feeTokenWhitelist","all","tokens","selectRoutineWithdrawTokens","routineWithdrawTokens","selectRoutineWithdrawTokensAddresses","selectMainToken","relayerConfig","mainToken","selectSaiToken","saiAddr","selectMainFeeToken","selectNewTransactionById","newTransactions","txns","selectNewItems","newItem","selectNewCampaign","Campaign","CampaignModel","selectNewAdSlot","AdUnit","AdUnitModel","AdSlot","AdSlotModel","selectItemsByType","items","itemType","selectItemsArrayByType","values","selectCampaigns","selectCampaignsArray","selectAdUnits","adUnits","selectAdUnitsArray","selectAdSlotsArray","adSlots","selectCampaignsTableData","_ref$decimals","depositAsset","decimals","spec","media","status","humanFriendlyName","originalName","name","depositAmount","formatUnits","fundsDistributedRatio","impressions","clicks","minPerImpression","created","activeFrom","withdrawPeriodStart","actions","to","concat","selectCampaignsMaxImpressions","Math","max","apply","i","selectCampaignsMaxClicks","selectCampaignsMaxDeposit","_ref2$decimals","selectAdSlotsTableData","slots","mediaUrl","fallbackUnit","mediaMime","title","replace","ipfs","selectAdUnitsTableData","units","selectCampaignStatsTableData","imprStats","reportChannelToHostname","clickStats","earnStats","reportChannelToHostnamePay","keys","key","website","ctr","toFixed","earnings","selectCampaignStatsMaxValues","channelId","result","current","newResult","maxClicks","maxCTR","maxImpressions","maxEarnings","selectCampaignDoughnutStats","chartColors","maxDataSets","_Object$keys$sort$red","sort","newData","impressionsData","clicksData","backgroundColor","hoverBackgroundColor","borderWidth","label","selectSlotTypesSourceWithDemands","symbol","constants","AdUnitsTypes","split","dA","bigNumberify","avgCPM","dB","gt","index","source","hasPopularGroup","group","hasNoDemandGroup","demandIfo","totalVolume","__webpack_require__","d","__webpack_exports__","translationsSelectors_t","analyticsSelectors_selectAnalytics","configSelectors_selectRelayerConfig","privilegesNames","valueToKey","IdentityPrivilegeLevel","tokenAvailableBalance","token","balance","feeToken","min","mul","lte","getWithdrawTokensBalances","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default","mark","_callee2","getFullBalances","getToken","_selectRelayerConfig","balancesCalls","balances","_balances$reduce","totalBalanceInMainToken","mainTokenBalance","wrap","_context2","prev","next","getEthers","sent","_callee","tokenContract","available","balanceMainToken","_context","balanceOf","tokenInMainTokenValue","abrupt","stop","_x2","this","Promise","balanceData","add","_x","getAddressBalances","_x3","_getAddressBalances","_callee4","provider","calls","_context4","getBalance","path","serializedPath","balanceEth","formatEther","toString","tokensBalances","getAccountStats","_x4","_getAccountStats","_callee5","_ref7$outstandingBala","outstandingBalanceMainToken","_ref16","getIdentity","_selectMainToken","_identity$status","identityContract","privilegesAction","_ref17","_ref18","_ref18$","identityWithdrawTokensBalancesBalances","walletPrivileges","identityBalanceMainToken","_context5","total","deployed","privileges","t0","resolve","c","then","res","catch","e","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","totalOutstandingBalanceMainToken","availableIdentityBalanceMainToken","totalIdentityBalanceMainToken","walletAddress","walletAuthType","identityAddress","getOutstandingBalance","_x5","_getOutstandingBalance","_callee6","bigZero","initial","allOutstanding","_context6","amounts","ch","outstanding","outstandingAvailable","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","getAllValidatorsAuthForIdentity","_x7","_getAllValidatorsAuthForIdentity","_callee9","validatorAuthTokens","allValidators","tokenCalls","allTokens","validatorsAuth","_context9","_ref19","_objectSpread2","channel","leader","validators","follower","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_ref20","_callee8","_context8","getValidatorAuthToken","validatorId","_x10","saiDaiConversion","_callee3","_context3","_x8","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","_x9","_tokenInMainTokenValue","_callee10","_selectMainToken2","valueInMainToken","_context10","toLowerCase","getOwnerIdentities","getIdentityData","getRelayerConfigData","executeTx","regAccount","getQuickWallet","backupWallet","services_requester__WEBPACK_IMPORTED_MODULE_0__","requester","Requester","baseUrl","processResponse","json","text","handleRequesterErrorRes","owner","fetch","route","method","identityAddr","txnsRaw","signatures","body","JSON","stringify","headers","Content-Type","email","bytecode","identityFactoryAddr","baseIdentityAddr","salt","routineAuthorizationsRaw","hash","encodeURIComponent","encryptedWallet","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getAddsParams","_ref$from","from","_ref$to","bundle","showOnTrezor","getAddresses","asyncToGenerator","regenerator_default","_ref3$from","_ref3$to","success","payload","_args","ethereumGetAddress","signTx","params","txProps","signature","txSigned","utils","resolveProperties","hexlify","ethereumSignTransaction","transaction","r","s","v","serializeTransaction","Error","error","sendTransaction","txData","signMessage","message","_args4","ethereumSignMessage","hex","mode","SignatureModes","GETH","connect","_provider","_path","Signer","LocalSigner","getWallet","_this$_opts","password","walletData","_wallet","_opts","getLocalWallet","Wallet","privateKey","getAddress","signetTx","sign","_args5","arrayify","MetaMaskSigner","_signer","_args3","t1","t2","t3","getSigner","_getSigner","signer","_signer2","_signer3","AUTH_TYPES","METAMASK","LEDGER","LedgerSigner","TREZOR","GRANT","QUICK","getTypedDataHash","typedData","entry","toUtf8Bytes","valuesHash","keccak256","schema","schemaHash","solidityKeccak256","getAuthSig","_getAuthSig","authToken","floor","random","MAX_SAFE_INTEGER","_signTx","tx","sig","Transaction","hashHex","splitSig","getMultipleTxSignatures","_getMultipleTxSignatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","loadFromLocalStorage","localStorage","getItem","parse","err","saveToLocalStorage","serialized","setItem","console","warn","removeFromLocalStorage","removeItem","getKeys","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_ALL_BIDS","RESET_ALL_BIDS","UPDATE_TAGS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_GAS_DATA","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","UPDATE_ADVANCED_CAMPAIGN_ANALYTICS","RESET_ANALYTICS","UPDATE_CHANNELS_WITH_BALANCE","RESET_CHANNELS_WITH_BALANCE","UPDATE_DEMAND_ANALYTICS","module","exports","p","variantIcon","accept","CheckCircleIcon","warning","WarningIcon","cancel","ErrorIcon","info","InfoIcon","Toast","_Component","props","close","setState","active","removeToast","toast","inherits","createClass","nextProps","nextToast","toasts","_classnames","_this2","classes","Icon","anchorOrigin","vertical","horizontal","top","react_default","createElement","Snackbar","open","autoHideDuration","timeout","onClose","unclosable","SnackbarContent","aria-describedby","className","classnames","icon","iconVariant","action","IconButton","aria-label","color","onClick","Close_default","snackbar","defineProperty","Component","dispatch","bindActionCreators","withStyles","theme","spacing","border","borderRadius","&.active","transform","margin","borderColor","fontSize","opacity","marginRight","display","alignItems","wordBreak","width","maxWidth","Translate","Decorated","useSelector","assign","_ref$isProp","_ref$args","Confirm","bind","assertThisInitialized","confirm","visible","_this$props","children","cancelLabel","confirmLabel","noActionBtns","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","onConfirm","onCancel","calledOn","withReactRouterLink","_React$Component","_getPrototypeOf2","_len","Array","_key","resolveToLocation","pathname","history","createHref","handleClick","event","preventDefault","stopPropagation","_this$props2","forwardedRef","match","staticContext","toLocation","ref","href","React","WithRouter","withRouter","forwardRef","createSvgIconCustom","displayName","viewBox","SvgIcon","pure","muiName","Anchor","target","url","getUrl","Link","underline","draggable","rel","style","styles","_drawerPaper","root","flexGrow","zIndex","overflow","position","minHeight","appBar","left","right","breakpoints","up","flex","flexDirection","flexRow","flexBasis","paddingTop","paddingBottom","&:last-child","paddingRight","paddingLeft","toolbarControls","justifyContent","toolbarTitle","navIconHide","toolbar","flexFlow","height","mixins","drawerPaper","content","palette","background","default","padding","marginLeft","contentInner","sideIndex","advertiser","publisher","0","1","handleChange","ev","execute","useStyles","makeStyles","activeColor","accentOne","main","accentTwo","minWidth","&$selected","selected","indicator","SideSwitch","Box","bgcolor","boxShadow","Tabs","onChange","indicatorColor","textColor","variant","Tab","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","ml","mr","CircularProgress","RRListItem","ListItem","ETH_SCAN_ADDR_HOST","activeBgColor","navigation","paper","sntPadding","navListRoot","secondary","navList","bottom","overflowY","overflowX","sideNavToolbar","version","borderTopWidth","borderTopColor","divider","borderTopStyle","contrastText","&:focus","adxLink","hint","&:hover","sideSwitch","marginBottom","useCommonStyles","SideNav","commonClasses","routerLocation","List","component","AdexIconTxt","spinners_LoadingSection","ListItemText","Typography","gutterBottom","Divider","dashboard_SideSwitch","button","ListItemIcon","Dashboard_default","primary","Fragment","CampaignIcon","List_default","toUpperCase","anchor_anchor","HelpOutline_default","SwapHoriz_default","AccountBox_default","Date","getFullYear","packageJson","ImgIcon","src","alt","ButtonMenu","btnStyle","rightIcon","leftIconSrc","_useState","useState","_useState2","setActive","_useState3","_useState4","anchorEl","setAnchorEl","Boolean","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-owns","aria-haspopup","textOverflow","Menu","getAuthLogo","metamaskLogo","trezorLogo","ledgerLogo","DEMO","demoLogo","RRMenuItem","MenuItem","handleDrawerToggle","imgSrc","btnMenuLabel","formatAddress","AppBar","Toolbar","Menu_default","lib_default","diameter","seed","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","logOut","ExitToApp_default","noWrap","MAX_IMG_LOAD_TIME","Img","ipfsSrc","Regexes","ipfsRegex","test","helpers","getMediaUrlWithProvider","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","isVideoMedia","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onerror","onload","onabort","setTimeout","onloadedmetadata","videoSrc","allowVideo","isVideo","VIDEO_IMAGE","Fab","mini","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this$props3","allowFullscreen","fullScreenOnClick","_this$state2","imgParent","wrapper","img","fullScreenBtn","circular","cursor","@media(max-width:744px)","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","getCroppedImgUrl","objUrl","pixelCrop","fileName","size","cropCanvas","scaleCanvas","crossOrigin","reject","crop","x","round","y","getContext","drawImage","toBlob","file","URL","createObjectURL","ImgForm","onDrop","acceptedFiles","rejectedFiles","that","objectUrl","imgName","mime","tempUrl","onRemove","preventBubbling","revokeObjectURL","onCropChange","saveCropped","croppedBlob","cropMode","nativeEvent","stopImmediatePropagation","UploadInfo","errMsg","uploadInfo","uploadActions","dropzoneBtn","Crop_default","Clear_default","CloudUpload_default","aspect","additionalInfo","_this$state3","imgForm","header","dropzone","Grid","container","alignContent","sm","md","react_image_crop_default","imageStyle","imgDropzonePreview","disabled","Save_default","dist_es","img_Img","grey","marginTop","ValidImageHoc","ValidImage","validate","propsName","widthTarget","heightTarget","mediaWidth","mediaHeight","msg","exact","required","isValid","checkExactishAspect","masgArgs","dirty","validateMedia","getMediaSize","validateId","ValidationHoc","_ref$err","_ref$dirty","_ref$removeAll","removeAll","invalidFields","ImgDialog","newValues","onOk","vals","forEach","onChangeReady","errImg","imgPropName","AVATAR_MAX_WIDTH","AVATAR_MAX_HEIGHT","Cancel_default","forms_ImgForm_ImgForm","imgLabel","ValidItemHoc","SaveBtn","spinner","dirtyProps","save","validationId","fabButton","Check_default","fabProgress","spinnerId","buttonSuccess","buttonProgress","mediaRoot","buttonRight","buttonLeft","textField","flexWrap","changesLine","changeChip","editIcon","RRButton","G404","xs","inline","textTransform","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","justify","align","PageNotFound_G404","IMG_404_1","window","IMG_404_2","adSlotPut","schemas","adUnitPut","campaignPut","AdSizesByValue","ItemsConstants","ItemHoc","Item","updateNav","objModel","dp","indexOf","plainObj","returnPropToInitialState","propName","initialItemState","initialItemStateValue","filter","resetValidationErrors","setActiveFields","field","newActiveFields","activeFields","updateItem","_authType","editImg","_activeInput","_this$props4","matchId","nextState","currentItemInst","nexItemInst","modifiedOn","updateSpinner","prop","validName","_this$props5","Joi","_this$props6","description","_this$props7","page_not_found_PageNotFound","isDemo","canEdit","temp","fallbackMediaUrl","titleErr","descriptionErr","react_router","when","FormControl","fullWidth","InputLabel","Input","validateTitle","maxLength","onBlur","onFocus","endAdornment","InputAdornment","Edit_default","FormHelperText","errMsgArgs","containers_ImgDialog_ImgDialog","_id","updateImgWidth","updateImgHeight","updateImgLabel","updateImgInfoLabel","updateImgExact","updateImgErrMsg","lg","htmlFor","multiline","rows","validateDescription","showLogo","Paper","imgContainer","fullName","pointer","canEditImg","Info_default","Chip","onDelete","containers_SaveBtn_SaveBtn","inEdit","toggleImgEdit","tryGetItemByIpfs","_ipfs","itemId","generalTableOptions","rowsPerPage","rowsPerPageOptions","setTableProps","textLabels","noMatch","toolTip","columnHeaderTooltip","column","pagination","previous","displayRows","downloadCsv","print","viewColumns","filterTable","reset","titleAria","selectedRows","delete","deleteAria","MUIDataTableEnhanced","columns","options","mui_datatables_dist_default","noSearch","download","noDownload","noPrint","selectableRows","rowSelectable","customToolbarSelect","displayData","setSelectedRows","mapStatusIcons","humanFriendlyStatus","ls","waitIcon","HourglassFull_default","doneIcon","DoneAll_default","warningIcon","Warning_default","cashIcon","MonetizationOn_default","cellImg","sliderFilterOptions","_ref$initial","_ref$filterTitle","filterTitle","_ref$stepsCount","stepsCount","_ref$stepsPrecision","stepsPrecision","step","steps","precision","getSliderStep","filterType","customFilterListOptions","render","formatAbbrNum","update","filterList","filterPos","filterOptions","names","logic","rowNumber","filters","formated","pl","pr","pt","Slider","marks","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","valueLabelFormat","useTableData","selector","selectorArgs","getColumns","setData","setColumns","selectedData","reloadData","useCallback","useEffect","ReloadData","handleReload","react","Tooltip","Refresh_default","RRIconButton","getCols","maxDeposit","customBodyRender","includes","commify","sortDirection","enterDelay","Visibility","getOptions","onDownload","buildHead","buildBody","mappedData","trim","customToolbar","CampaignsTable","_useSelector","_useTableData","errColor","&$active","stepperWrapper","pagePaper","pageContent","WebkitOverflowScrolling","@media(max-width:500px)","textAlign","@media(max-width:475px)","mobileStepper","& div","mobileStepLabel","& span","buttonProgressWrapper","errChip","& svg","StepperNav","pages","currentPage","innerWidth","StepLabel","MobileStepper","activeStep","Stepper","alternativeLabel","page","Step","MaterialStepper","_props$initialPage","initialPage","_props$pages","setCurrentPage","canReverse","pageProps","Comp","_page$pageValidation","pageValidation","onValid","stepsId","dirtyErrors","dirtyErrs","getDirtyValidationErrors","isValidPage","goToPage","nextStep","canGoBack","goToPreviousPage","goToNextPage","onKeyPressed","onKeyPress","stepperNav","MaterialUiStepper_StepperNav","Error_default","disableBtnsIfValid","cancelBtn","cancelFunction","completeBtn","FormSteps","CancelBtn","onSave","stepsPages","stepsPreviewPage","validateIdBase","cancelButton","goToNextPageIfValid","MaterialUiStepper","FormSteps_FormSteps","fullHeight","innerHeight","dialogTitle","wordWrap","&:first-child","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","down","rightCol","progressCircleCenter","floating","breakLong","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","Transition","Slide","direction","WithDialog","iconButton","textButton","fabVariant","btnLabelArgs","btnLabel","dialogActions","onBeforeOpen","btnProps","setOpen","ButtonComponent","btnLabelTranslated","first","second","TransitionComponent","disableTypography","closeDialog","NewAdUnitHoc","ItemForm","updateNewItem","addUnit","resetNewItem","saved","formControl","Dropdown","_props$label","_props$source","_props$htmlId","htmlId","_props$disabled","_props$error","helperText","_props$fullWidth","noSrcLabel","IconComponent","inputLabel","useRef","_React$useState","_React$useState2","labelWidth","setLabelWidth","offsetWidth","Select","toConsumableArray","ListSubheader","spinners_InputLoading","adUnitPost","AdTypes","AdUnitBasic","validateAndUpdateType","validateTargetUrl","targetUrl","prevProps","addUtmLink","addUtmParameters","campaign","removeFromUrl","protocol","host","newQuery","_i","_Object$entries","entries","UTM_PARAMS","format","addUrlUtmTracking","newTemp","checked","errTitle","errDescription","errTargetUrl","TextField","FormControlLabel","control","Checkbox","handleChangeAddUtmLink","dropdown_Dropdown","getWidAndHightFromType","sizes","handleImgChange","_getWidAndHightFromTy","_getWidAndHightFromTy2","getSuggestions","inputValue","allowCreate","validateCreation","suggestion","newSuggestion","chip","inputRoot","multiple","validateAutocomplete","errorText","onInit","setInputValue","suggestions","selectedItem","Autocomplete","getOptionLabel","option","onInputChange","renderInput","inputProps","SourcesSelect","SOURCES","collection","tag","score","placeholder","AdUnitTargeting","handleTargetChange","newTargets","targets","newTarget","updateNewItemCollections","removeTarget","splice","targetTag","_ref2$source","autocomplete_Autocomplete","openOnClick","suggestionMatch","showSuggestionsWhenValueIsSet","slider","markLabel","collections","tg","newCollection","targeting","tags","_ref4$source","_ref4$target","AddIcon","targetIcon","LocationOnIcon","gender","WcIcon","age","ChildCareIcon","getTargetType","UnitTargets","targetArrayValues","TargetIcon","CompareArrows","isTarget","ListItemSecondaryAction","TargetsList","_ref$targets","subHeader","dense","subheader","PropRow","classNameLeft","classNameRight","_ref$style","uppercase","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","FullContentMessage","_ref7$msgs","msgs","_ref7$color","strong","imgPreview","shadows","imgPreviewWrapper","AdUnitFormPreview","containers_UnitTargets_UnitTargets","NewAdUnitFormPreview","NewCampaignHoc","waitingAction","openCampaign","adUnitsArray","OPENING_CAMPAIGN","CampaignUnits","selectedUnits","allAdUnits","allAdUnitsArray","hasAdUnits","Tables_AdUnitsTable","handleSelect","selectedIndexes","selectedItemsIds","updateNewCampaign","noClone","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange_default","iconColor","onIconClick","DateTimePicker","calendarIcon","material_ui_pickers_esm","InputProps","DateTimePicker_CalendarIconAdor","datepickerContrastInput","common","white","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","isNumberString","moment","MomentUtils","getTotalImpressions","dep","CampaignFinance","minTargetingScore","_campaign$temp","maxChannelFees","maxDepositFormatted","GETTING_CAMPAIGNS_FEES","now","date","valueOf","errDepAmnt","errMin","errFrom","errTo","validateNumberString","common_DateTimePicker_DateTimePicker","emptyLabel","disablePast","minDate","maxDate","FormGroup","row","WalletAction","UnitsTable","NewCampaignFormPreview","_newItem$temp","getCampaignActualFees","FormsCommon_WalletAction","CampaignFormPreview_UnitsTable","feesFormatted","totalSpendFormatted","addSlot","AdSlotBasic","adTypesSource","UPDATING_SLOTS_DEMAND","updateSlotsDemandThrottled","errType","updateNewSlot","NewAdSlotHoc","validateImage","useFallback","validateFallbackUrl","handleFallbackChange","_this$props$newItem","errFallbackUrl","Switch","Collapse","in","PredefinedTags","custom","AdSlotTargeting","SlotFallback","AdSlotPreview","mainTokenSymbol","AdSlotPreview_SlotFallback","NewAdSlotPreview","SaveBtnWithAdUnit","SaveBtnWithCampaign","saveBtnLabel","saveBtnIcon","HourglassEmpty_default","SaveBtnWithAdSlot","esm_extends","CancelBtnWithItem","CancelBtnWithCampaign","CancelBtnWithAdSlot","dialogCommon","darkerBackground","Add_default","NewUnitStepsWithDialog","forms_FormSteps","AdUnitMedia","noDefaultImg","itemModel","NewUnitDialog","copyProps","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","onInvalid","validateNewCampaignAdUnits","validateNewCampaignFinance","CampaignFormPreview","imgAdditionalInfo","NewCampaignDialog","NewSlotStepsWithDialog","validateNewSlotBasics","AdSlotMedia","descriptionHelperTxt","NewSlotDialog","truncateString","AdUnitsTable_RRIconButton","NewItems_NewCloneUnitDialog","cloneItem","onRowsSelect","rowsSelected","AdUnitsTable","campaignUnits","_props$selected","setSelectorArgs","allRowsSelected","dataIndex","AdSlotsTable_RRIconButton","AdSlotsTable","card","@media(max-width:380px)","basicInfo","ValidatedFallbackAdData","rightComponent","toggleFallbackImgEdit","errFallbackAdUrl","Card","raised","CardMedia","fallbackTargetUrl","CardContent","validUrl","ValidatedSlotMinCPM","minCPM","parseUnits","validateAmount","_ref2$prop","_ref2$value","_ref2$item","updateItemTemp","MediaCard","BasicProps","ItemCommon_MediaCard","isArray","join","CampaignProps","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","responsive","tooltips","cornerRadius","Helper","hexToRgbaColorString","merge","defaults","global","CampaignStatsDoughnut","_ref$maxDataSets","_ref$chartColors","react_chartjs_2_es","legend","animation","callbacks","datasetIndex","formatNumberWithCommas","CampaignStatsBreakdownTable","_useSelector2","VIEW_MODE","context","handleTabChange","tabIndex","CampaignActions","closeCampaign","statistics","scrollable","scrollButtons","clone","order","Tables_CampaignStatsBreakdownTable","campaigns_CampaignStatsDoughnut","CampaignItem","datepicker","ownProps","rowsView","RRSideBox","_ref$salePoints","salePoints","linkTitle","other","sideBox","point","SideSelect","dialogPaper","BackdropProps","backdrop","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","listStyle","infoStatsContainer","infoCard","linkCard","&:hover, &:focus","dashboardCardBody","commonDsProps","lineTension","pointRadius","pointHitRadius","SimpleStatistics","payouts","_ref$options","_ref$xLabel","xLabel","_ref$y1Label","y1Label","_ref$y2Label","y2Label","_ref$y3Label","y3Label","_ref$y1Color","y1Color","_ref$y2Color","y2Color","_ref$y3Color","y3Color","Chart","pluginService","register","afterDraw","chart","tooltip","_active","activePoint","controller","ctx","tooltipPosition","chartScalesy1","scales","topY","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","stroke","restore","chartData","yAxisID","pointBackgroundColor","linesOptions","maintainAspectRatio","intersect","yLabel","hover","xAxes","gridLines","scaleLabel","labelString","yAxes","ticks","beginAtZero","drawOnChartArea","useStylesArrow","black","popper","&[x-placement*=\"bottom\"] $arrow","&::before","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","arrow","borderStyle","ArrowTooltip","_useStylesArrow","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","enabled","element","typography","pxToRem","_ref$bgColor","bgColor","_ref2$bgColor","progress","StatsCard","explain","deepOrange","amber","lime","contrastThreshold","tonalOffset","createMuiTheme","fontFamily","overrides","MuiButton","outlined","MuiTableCell","head","whiteSpace","MuiPaper","rounded","MuiTooltip","MuiFormControl","MuiSelect","MuiInputLabel","MuiOutlinedInput","MuiTableFooter","MuiAppBar","colorDefault","MUIDataTablePagination","MUIDataTableFilter","MuiGridListTile","MUIDataTableBodyCell","stackedCommon","themeMUI","responsiveFontSizes","factor","timeFrames","VALIDATOR_ANALYTICS_TIMEFRAMES","tf","translated","metrics","timeHints","hour","day","week","BasicStats","totalClicks","averageCPM","loadingImpressions","loadingMoney","loadingCPM","loadingClicks","dataInSync","DashboardStats_StatsCard","updateAnalyticsTimeframe","Infinity","simplified_SimpleStatistics","find","DashboardStats","side_select_SideSelect","UnitItem","Unit","adUrl","ADVIEW_URL","adviewUrl","origin","AUTO_HIDE_STRING","IntegrationCode","_ref$slot","slot","onCopy","publisherAddr","whitelistedTokens","whitelistedType","randomize","marketSlot","iframeStr","integrationLabel","copy","integrationCode","Slot","handleFallbackImgUpdateToggle","editFallbackImg","tabsFocus","scrollIntoView","behavior","block","createRef","Slot_IntegrationCode","addToast","SlotItem","alignSelf","NewTransactionHoc","TransactionHoc","txId","updateNewTransaction","manyTxs","resetTransaction","resetNewTransaction","handleSaveRes","getErrMsg","saveFn","acc","log","txs","txResults","WithdrawFromIdentityForm","numStr","identityAvailable","validateNumber","amount","withdrawAmount","withdrawTo","withdrawToSpinner","errAmount","errAddr","validateAddress","addr","WithdrawAnyTokenFromIdentityForm","balanceAnySpinner","tokenAddress","tokenBalance","errToken","setBalance","bal","PRIV_LEVELS_SRC","SeAddressPrivilege","setAddr","privLevel","warningAccepted","warningMsg","errPrivLvl","SetAccountENSPageForm","handleValidate","_timeout","setEns","validateENS","ens","setEnsSpinner","noValidate","IdentityWithdrawPreview","feesData","fees","toGet","SetPrivilegePreview","SetENSPreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreviewForm","getFeesFn","previewWarnMsgs","_transaction$feesData","_transaction$errors","errors","waitingForWalletAction","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","previews_SetENSPreview","FormStepsWithDialog","txCommon","cancelBtnLabel","WithdrawTokenFromIdentity","WithdrawFromExchangePage","TransactionPreview","identityWithdraw","amountToWithdraw","withdrawFromIdentity","getFeesOnly","SetIdentityPrivilege","validatePrivilegesChange","addrIdentityPrivilege","setIdentityPrivilege","fetchName","lookup","ethers","getDefaultProvider","lookupAddress","EnsAddressResolver","ensName","setEnsName","setSearching","_resolveENS","isEthAddress","resolveENS","VALIDATOR_LEADER_URL","VALIDATOR_LEADER_ID","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","AccountItem","actionBtn","advancedList","iconBtnLeft","AccountInfo","_useSelector$authType","_useSelector3","localWalletDownloadHref","setLocalWalletDownloadHref","loadBackupHref","obj","getRecoveryWalletData","expanded","setExpanded","_useState5","_useState6","setEnsSearching","_useState7","_useState8","identityEnsName","setIdentityEnsName","AccountInfo_AccountItem","ens_EnsAddressResolver","py","SaveAlt_default","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","domNodes","overlay","show","displayRampWidget","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","heading","ExpansionPanelDetails","transactions_SetIdentityPrivilege","Campaigns","NewItems_NewCampaignDialog","accent","Tables_CampaignsTable","AdUnits","AdSlots","NewItems_NewSlotDialog","Tables_AdSlotsTable","Dashboard","mobileOpen","setMobileOpen","getAllItems","analyticsLoop","start","analyticsCampaignsLoop","campaignsLoop","campaignsLoopStats","statsLoop","drawer","dashboard_SideNav","TopBar","Hidden","mdUp","Drawer","anchor","ModalProps","keepMounted","smDown","implementation","Account","signinContainer","backgroundRepeat","backgroundSize","backgroundPosition","backgroundImage","require","buttons","adxVersion","adexLogoTop","logo","noBg","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","auth","getAllWallets","w","goTo","confirmLogout","toExecute","confirmAction","m","AuthSelect_RRButton","initIdentity","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","fontWeight","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","AuthMetamask","_useSelector$wallet","installingMetamask","setInstallingMetamask","waitingMetamaskAction","setWaitingMetamaskAction","waitingAddrsData","setWaitingAddrsData","isOpera","opr","opera","navigator","userAgent","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","ethereumProvider","getEthereumProvider","setEth","onfocus","reload","checkMetamask","metamaskSigner","_address","_stats","updateIdentity","updateIdentityWallet","signType","tabBox","METAMASK_IMG","dangerouslySetInnerHTML","__html","METAMASK_DL_IMG","metamaskLAbel","NewItemHoc","updateValidationErrors","AuthHoc","Auth","updateWallet","hdWalletAddrPath","hdWalletAddrIdx","chainId","sideSelect","IdentityForm","login","resetIdentity","ready","waitingExpected","waiting","CREATING_SESSION","waitingUpload","UPLOADING_ACCOUNT_DATA","IdentityHoc","AuthTrezor","connectTrezor","waitingTrezorAction","trezorSigner","addresses","allAddressesData","results","hdPath","AddressSelect","onAddrSelect","selectedAddress","addrData","TREZOR_DL_IMG","AuthLedger","connectLedger","waitingLedgerAction","ledgerSigner","LEDGER_DL_IMG","AuthMethod","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","ownerAuth_AuthLedger","QuickInfo","sessionSpinner","walletMsgs","emailCheck","passwordCheck","tosCheck","accessWarningCheck","validateEmail","validateEmailCheck","validatePassword","validatePasswordCheck","FulInfo","_identity$wallet","walletAddr","WALLET_ACTIONS_MSGS","QuickLogin","getIdentitiesForDropdown","ownerIdentities","FullLogin","identityContractAddress","GETTING_OWNER_IDENTITIES","searchParams","set","updateOwnerIdentities","IdentitySteps","mapPages","GoBtn","_this$props$stepsPage","final","infoPaper","gutters","input","finalValidationQuick","validateQuickLogin","finalValidationStandard","validateStandardLogin","validateOwner","validateContractOwner","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","ConnectedCreateQuickIdentity","JustDialog","identity_IdentitySteps","validateQuickInfo","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","validateFullInfo","ConnectedRoot","PrivateRoute","handleLegacyWallet","migrateLegacyWallet","removeLegacyKey","ensureQuickWalletBackup","getRelayerConfig","metamaskChecks","handleRedirectParams","handleSignupLink","metamaskNetworkCheck","updateRegistrationAllowed","react_router_dom","Root_PrivateRoute","onBeforeLift","App","CssBaseline","ThemeProvider","es","store","integration_react","persistor","esm","CacheBuster","App_Root","toast_Toast","confirm_Confirm","hostname","ReactDOM","components_App_App","getElementById","serviceWorker","registration","unregister","isDemoMode","actions__WEBPACK_IMPORTED_MODULE_0__","services_store_data_campaigns__WEBPACK_IMPORTED_MODULE_1__","services_store_data_account__WEBPACK_IMPORTED_MODULE_2__","services_store_data_analytics__WEBPACK_IMPORTED_MODULE_3__","connected_react_router__WEBPACK_IMPORTED_MODULE_4__","skipRedirect","resetAllItems","resetAllNewItems","resetAllBids","resetAccount","resetAnalytics","resetChannelsWithBalance","video","videoWidth","videoHeight","getVideoSize","getImageSize","maxPercentTolerance","targetAspect","aspectDiff","abs","contracts","_build_Identity_json__WEBPACK_IMPORTED_MODULE_0__","_build_AdExCore_json__WEBPACK_IMPORTED_MODULE_1__","_build_Dai_json__WEBPACK_IMPORTED_MODULE_2__","_build_IdentityFactory_json__WEBPACK_IMPORTED_MODULE_3__","_build_AdExENSManager_json__WEBPACK_IMPORTED_MODULE_4__","_build_ReverseRegistrar_json__WEBPACK_IMPORTED_MODULE_5__","_abi_ERC20Token_json__WEBPACK_IMPORTED_MODULE_6__","Identity","abi","AdExENSManager","publicResolver","ReverseRegistrar","parentDomain","AdExCore","DAI","Dai","IdentityFactory","ERC20","Core","Interface","IdentityInterface","IdentityABI","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","toEthereumChannel","specHash","crypto","createHash","digest","Channel","creator","tokenAddr","tokenAmount","validUntil","getReadyCampaign","newCampaign","period","getValidUntil","nonce","randomBytes","unit","fee","div","feeDen","feeNum","validator","feeAddr","maxPerImpression","eventSubmission","allow","uids","rateLimit","lastChecked","getWithdrawnPerUserOutstanding","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default","functions","withdrawnPerUser","sub","getChannelsWithOutstanding","_getChannelsWithOutstanding","eligible","getAllCampaigns","lastApprovedBalances","lastApprovedSigs","validBalances","_e","_unused","_channel$status","bTree","BalanceTree","isZero","minWeekly","getChannelsToSweepFrom","amountToSweep","_ref4$withBalance","_withBalance$sort$red","c1","c2","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","sum","lt","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","routineAuthTuple","_txns$reduce","updated","routineOpts","RoutineOps","channelWithdraw","withdrawAmountByToken","feeTokenAddr","executeRoutines","encode","routinesTxCount","routinesSweepTxCount","getIdentityRoutineAuthTuple","deployData","is41identity","hasValidExecuteRoutines","getSweepChannelsTxns","_getSweepChannelsTxns","channelsToSweep","encodedTxns","toSolidityTuple","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","isSweepTx","getSwapAmountsByToken","saiToken","swaps","swapsSumInMainToken","swapsByToken","getSweepingTxnsIfNeeded","_getSweepingTxnsIfNeeded","amountInMainTokenNeeded","needed","_account$stats$raw$id","currentBalanceInUse","sweepData","_getSwapAmountsByToke","sweepTxns","swapAmountsByToken","amountToSwapInMainToken","openChannel","_x6","_openChannel","_callee7","getMaxFees","readyCampaign","openReady","ethChannel","hasIdentityChannelOpen","identityChannelOpenTx","approveTxns","channelOpenTx","txnsByFeeToken","totalBN","mtBalance","maxAvailable","maxAvailableFormatted","storeCampaign","_context7","channelOpen","extraTxFeesCount","getApproveTxns","approveForAddress","approveAmount","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","getIdentityTxnsWithNoncesAndFees","getIdentityTxnsTotalFees","processExecuteByFeeTokens","extraData","closeChannel","_closeChannel","textObj","statusText","AdexNodeRequester","getAuthHeaders","authSignature","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","_ref4$route","_ref4$queryParams","queryParams","_ref4$method","_ref4$headers","_ref4$authSig","userAddr","_ref4$noCache","noCache","qp","demo","getQuery","hdrs","requester_handleRequesterErrorRes","Looper","syncAction","loopName","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","clearLoopTimeout","loopTimeout","syncData","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","startLoop","checkLoop","LOOP_TIMEOUT","MOON_GRAVITY_ACCELERATION","MOON_TO_EARTH_WEIGHT","syncCampaigns","updateStats","updateUserCampaigns","Loop","_loop__WEBPACK_IMPORTED_MODULE_0__","actions__WEBPACK_IMPORTED_MODULE_1__","updateAccountAnalytics","updateAccountCampaignsAnalytics","adex_models__WEBPACK_IMPORTED_MODULE_0__","services_translations_translations__WEBPACK_IMPORTED_MODULE_1__","locations","AllCountries","country","genders","Genders","ethers_utils__WEBPACK_IMPORTED_MODULE_0__","timestamp","amountString","pretty","substring","number","decPlaces","pow","abbrev","string","getKeyHash","encrypt","iv","cipher","encr","encrypted","createCipheriv","Buffer","decrypt","textParts","encryptedText","decipher","decr","decrypted","shift","createDecipheriv","encryptLegacy","crypted","createCipher","decryptLegacy","dec","createDecipher","BID_STATES","ExchangeConstants","TIMEOUTS","limit","SEED","ETHEREUM_NETWORKS","for","5","production","development","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_EVENT_TYPES","_WALLET_ACTIONS_MSGS","setLang","adex_translations__WEBPACK_IMPORTED_MODULE_0__","adex_translations__WEBPACK_IMPORTED_MODULE_0___default","n","react_dom_server__WEBPACK_IMPORTED_MODULE_1__","translations","adexTranslations","translation","tpl","arg","renderToString","interpolate","lng","history__WEBPACK_IMPORTED_MODULE_0__","createHashHistory","accountStatsLoop","updateAccountStats","initialState","signin","passConfirm","publicKey","seedCheck","authenticated","currentItem","web3Transactions","ethNetwork","networkId","gasData","market","isEthAddressERC20","contract","Contract","ERC20TokenABI","totalSupply","AddressZero","allowance","getERC20Balance","_ref3$addr","_ref3$balanceFor","balanceFor","QUICK_WALLET_BACKUP","UPDATING_ACCOUNT_IDENTITY","types","updateUi","category","_ref$label","_ref$timeout","getGuid","toastId","_ref2$confirmLabel","_ref2$cancelLabel","_ref2$title","_ref2$text","changeLanguage","get","refreshCacheAndReload","_ref3$notification","notification","caches","grant","getErrorMsg","numStringCPMtoImpression","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","uploadImage","imageBlob","imageName","Base","updateObject","imageIpfs","resItem","postAdUnit","marketAdd","resUnit","passback","postAdSlot","resUnits","resSlots","getAdUnits","getAdSlots","updateItems","updatedItem","marketUpdate","updateAdSlot","updateAdUnit","updateCampaign","deleteItem","_deleted","restoreItem","successMsg","findSourceByTag","response","mediaURL","mediaSize","archiveItem","_archived","unarchiveItem","setCurrentItem","updateCurrentItem","newMeta","meta","updateTags","addNewTag","addSig","_ref$addr","expiryTime","_ref$identity","getSig","_ref2$addr","_ref2$identity","sigAndTIme","updateSignin","resetSignin","createAccount","updateAccount","updateChannelsWithBalance","updateGasData","updateAccountIdentityData","updatedIdentity","isLimitedVolume","updateValidatorAuthTokens","newAuth","newIdentity","newTokens","createSession","_ref9$identity","deleteLegacyKey","newWallet","sessionSignature","leaderValidatorAuth","checkSession","skipErrToast","getSession","signerAddress","cfg","getNetworkId","_callee12","_ref24","_context12","getNetwork","getNetworkData","_callee13","network","_context13","onMetamaskNetworkChange","isMetamaskMatters","t4","t5","_x11","onMetamaskAccountChange","accountAddress","hasAuth","_account$wallet","identityContractOwner","_x12","_x13","metamaskAccountCheck","ethereumSelectedAddress","_x14","_x15","ethereumNetworkId","_x16","_x17","ethereum","on","accounts","_x18","_x19","hasBackup","_callee14","_ref21","_ref25","_context14","generateSalt","getWalletHash","makeBackup","_callee15","_ref22","walletSalt","walletHash","_context15","_ref23","_callee11","_selectWallet","isLocal","_context11","_x22","_x23","_getState$persist$acc","_isValid","validEthAddress","nonZeroAddr","nonERC20","newErrors","_ref4$err","_ref4$dirty","_ref4$removeAll","handleAfterValidation","validEmail","validPassword","validateTOS","accepted","freeAdExENS","validateWallet","validateIdentityContractOwner","_x20","_x21","validateAccessWarning","validateCampaignUnits","_x24","_x25","validateCampaignValidators","_x26","_x27","validateAmounts","_ref22$maxDeposit","_x28","_x29","validateCampaignAmount","_ref26","_callee16","isValidNumber","deposit","isValidDeposit","isValidMin","_context16","_x30","_x31","getCampaignDatesValidation","_ref27","_ref27$created","validateCampaignDates","_ref28","_ref29","_callee17","_context17","_x32","_x33","validateCampaignTitle","_ref30","_ref31","_callee18","_context18","_x34","_x35","validateEthAddress","_ref32","_ref32$nonZeroAddr","_ref32$nonERC","_ref33","_callee19","_ref34","_context19","_x36","_x37","validatePrivilegesAddress","_ref35","_ref35$setAddr","_ref35$walletAddr","_ref36","_callee20","isCurrentAddress","_context20","_x38","_x39","validatePrivLevel","_ref37","_ref38","_callee21","_context21","_x40","_x41","validateSchemaProp","_ref39","_ref40","_callee22","_context22","_x42","_x43","resetWallet","onUploadLocalWallet","reader","onError","files","FileReader","abort","readAsText","setIdentityENS","username","addIdentityENS","identityData","_data","_selectIdentity","identityTxData","registerAccount","actualAuthType","walletInfo","identityPrivileges","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","getIdentityDeployData","validateQuickDeploy","_identityAddr","createLocalWallet","addDataToWallet","dataKey","dataValue","every","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","_selectNewTransaction","_selectAccountIdentit","inputValidations","validation","fillEmptyTime","prevAggr","intervals","nowUTC","utc","lastSixHoursPeriod","startOf","lastHour","subtract","end","last24Hours","last7Days","thisWeek","endOf","lastWeek","thisMonth","lastMonth","intervalsMs","interval","ammount","newAggr","diff","unix","getUnitsStatsByType","_getUnitsStatsByType","withdrawTokens","allChannels","unitsByType","unitsByTypeStats","byType","prevStats","channelsByType","totalPerImpression","avgPerImpression","statsByType","analyticsParams","callsParams","analyticsCampaignsParams","checkAccountChanged","accountCheck","_getState$persist","leaderAuth","accountChanged","allAnalytics","identityAnalytics","identityCampaignsAnalytics","updateSlotsDemand","throttle","demandAnalytics","leading","trailing","updateCampaignState","lastApprovedState","getHumanFriendlyName","_selectAccount","campaignsFromStore","campaignPromises","campaignsMapped","getCampaigns","authTokens","closeCampaignMarket","currentCampaign","tempValidators","_campaign$temp2","totalSpend","adSlotPost","currentSlot","_slot$minPerImpressio","itemActions","uiActions","accountActions","identityActions","bidActions","transactionActions","validationActions","analyticsActions","campaignActions","newItemsActions","setLogLevel","getEthersResult","adexCore","coreAddr","getAdexCore","_selectRelayerConfig3","standard","getMainToken","identityFactory","getIdentityFactory","MainToken","localWeb3","providers","JsonRpcProvider","loadInjectedWeb3","addEventListener","web3","injectedWeb3","enable","Web3Provider","getLocalWeb3","networkVersion","isMetaMask","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","derivedKey","getCipherKey","isLegacyCrypto","getRandomMnemonic","randomEntropy","HDNode","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","fromMnemonic","encrKey","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","decrData","_decrData","_ref4$email","decryptedStr","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getEncrypted","_removeLegacyKey","_ref7$email","_ref7$password","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","_ref8$dataValue","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","mail","isWallet","_getWalletHash","passwordId","dataStr","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","addrsFromPubKey","chainCode","_ref2$from","_ref2$to","hdKey","addrs","HDKey","derive","publicExtendedKey","fromExtendedKey","_ref4$from","_ref4$to","transport","eth","_args2","_transport","create","LedgerEth","txUnsigned","signTransaction","signPersonalMessage","joinSignature","TransportU2F","HEADER","base64","alg","payloadEncoded","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","parts","verifyMessage","decode","Module","alpha","substr","hexToDec","h","g","stack","isInt","int","shuffleArray","array","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","isMoment","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","selectors__WEBPACK_IMPORTED_MODULE_2__","_package_json__WEBPACK_IMPORTED_MODULE_3__","actions__WEBPACK_IMPORTED_MODULE_4__","cache","latestVersion","versionA","versionB","versionsA","versionsB","isNaN","semverGreaterThan","appVersion","dontThrow","_ref3$imageName","formData","FormData","append","convertItemToJSON","itemToConvert","byCreator","isConnectionLost","race","getBlockNumber","urlRegex","emailRegex","passwordRegex","numberStr","isFinite","isEthAddressZero","ethAddressZero","ethAddressERC20","_ref3$ens","ensAddress","resolveName","code","updateCfg","newCfg","persistReducers","newState","filterActions","collectionId","addItem","toAdd","newCol","removeCollectionProp","toRemove","newItems","currentItems","newLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","pTxs","updateObj","txHash","memoryReducers","newSignin","newToast","added","hasOwnProperty","updateTx","reduxRouterMiddleware","routerMiddleware","persistConfig","storage","rootReducer","combineReducers","persistCombineReducers","connectRouter","configureStore","middlewares","thunk","createStore","compose","applyMiddleware","persistStore","store_store","store_persistor","ScdMcdMigration","ScdMcdMigrationABI","SCD_MCD_MIGRATION_ADDR","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","identityRecoveryAddr","outpace","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","_withdrawFromIdentity","_selectRelayerConfig2","toWithdraw","withdrawTx","maxWithdraw","actualWithdrawAmount","transfer","_setIdentityPrivilege","identityInterface","tx1","setAddrPrivilege","txnsByTokenWithSaiToDaiSwap","daiAddr","saiWithdrawAmount","_addIdentityENS","_ref5$username","AdExENSManagerInterface","ReverseRegistrarInterface","tx2","registerAndSetup","setName","_getIdentityTxnsWithNoncesAndFees","_ref6$amountInMainTok","_ref6$txns","_selectRelayerConfig4","mainTokenWithFees","isDeployed","initialNonce","feesForMainTxns","_ref15$sweepTxns","_ref15$swapAmountsByT","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","toNumber","minDeploy","swapSaiToDaiTxns","swapAmount","t6","Set","_tx$routinesTxCount","_tx$routinesSweepTxCo","_tx$extraTxFeesCount","minFeeAmount","routinesFeeAmount","extraFeesAmount","feeAmount","nonIdentityBalanceFeeAmount","txWithNonce","_getApproveTxns","approve","swapTx","swapSaiToDai","_getIdentityTxnsTotalFees","_ref9$mainToken","byToken","byFeeToken","txFeeAmount","_feeTokenWhitelist$ke","feeFormatted","_processExecuteByFeeTokens","_ref10$extraData","getValidatorRequester","getRequesters","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","existingAuth","era","ewt","sendMessage","_authTokens","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","authorization","events","aggregates","idenityAddr"],"mappings":"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","file":"static/js/main.147eb37d.chunk.js","sourcesContent":["import { createSelectorCreator, defaultMemoize } from 'reselect'\nimport isEqual from 'lodash.isequal'\n\n// deep equal memoization instad reference check\nexport const createDeepEqualSelector = createSelectorCreator(\n\tdefaultMemoize,\n\tisEqual\n)\n\nexport const creatArrayOnlyLengthChangeSelector = createSelectorCreator(\n\tdefaultMemoize,\n\t(a = [], b = []) => a.length === b.length\n)\n","import { createSelector } from 'reselect'\nimport { createDeepEqualSelector } from 'selectors'\nimport { getState } from 'store'\n\nexport const selectAccount = state => state.persist.account || {}\nexport const selectChannels = state => (state || getState()).persist.channels\n\nexport const selectAuth = createSelector(\n\tselectAccount,\n\t({ wallet, identity }) =>\n\t\t!!wallet &&\n\t\t!!wallet.address &&\n\t\t!!wallet.authSig &&\n\t\t!!wallet.authType &&\n\t\t!!identity.address\n)\n\nexport const selectWallet = createDeepEqualSelector(\n\tselectAccount,\n\t({ wallet }) => wallet || {}\n)\n\nexport const selectAuthSig = createSelector(\n\tselectWallet,\n\t({ authSig }) => authSig\n)\n\nexport const selectWalletAddress = createSelector(\n\tselectWallet,\n\t({ address }) => address\n)\n\nexport const selectAuthType = createSelector(\n\tselectWallet,\n\t({ authType }) => authType\n)\n\nexport const selectAccountIdentity = createSelector(\n\tselectAccount,\n\t({ identity }) => identity || {}\n)\n\nexport const selectAccountIdentityAddr = createSelector(\n\tselectAccountIdentity,\n\t({ address }) => address\n)\n\nexport const selectAccountStats = createSelector(\n\tselectAccount,\n\t({ stats }) => stats || {}\n)\n\nexport const selectAccountSettings = createSelector(\n\tselectAccount,\n\t({ settings }) => settings || {}\n)\n\nexport const selectAccountStatsRaw = createSelector(\n\tselectAccountStats,\n\t({ raw }) => raw || {}\n)\n\nexport const selectAccountStatsFormatted = createSelector(\n\tselectAccountStats,\n\t({ formatted }) => formatted || {}\n)\n\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData }) =>\n\t\trelayerData &&\n\t\trelayerData.routineAuthorizationsData &&\n\t\trelayerData.routineAuthorizationsData[0]\n\t\t\t? relayerData.routineAuthorizationsData[0]\n\t\t\t: null\n)\n\nexport const selectChannelsWithUserBalances = createSelector(\n\tselectChannels,\n\t({ withBalance }) => withBalance\n)\n\nexport const selectAccountIdentityCurrentPrivileges = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData: { currentPrivileges } }) => currentPrivileges || {}\n)\n","export const selectIdentity = state => state.memory.identity\n","import { createSelector } from 'reselect'\n\nexport const selectLocation = state => state.router.location\n\nexport const selectSearch = createSelector(\n\tselectLocation,\n\t({ search }) => search\n)\n\nexport const selectLocationQuery = createSelector(\n\tselectLocation,\n\t({ query }) => query || {}\n)\n\nexport const selectSearchParams = createSelector(\n\tselectLocation,\n\t({ search }) => new URLSearchParams(search)\n)\n","import { createSelector } from 'reselect'\n\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\n\nexport const selectNavTitle = state => state.memory.nav.navTitle\nexport const selectSide = state => state.memory.nav.side\nexport const selectUi = state => state.persist.ui\n\nexport const selectSpinners = state => state.memory.spinners\n\nexport const selectSpinnerById = createSelector(\n\t[selectSpinners, (_, id) => id],\n\t(spinners, id) => spinners[id]\n)\n\nexport const selectMultipleSpinnersByIds = createSelector(\n\t[selectSpinners, (_, ids) => ids],\n\t(spinners, ids) => ids.map(id => spinners[id])\n)\n\nexport const selectRegistrationAllowed = createSelector(\n\tselectUi,\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\n)\n","import { createSelector } from 'reselect'\nimport { translate } from 'services/translations/translations'\nimport { getState } from 'store'\n\nexport const selectLang = state => state.persist.language\n\nexport const selectTranslations = createSelector(\n\t[\n\t\tselectLang,\n\t\t(_, val, opts = {}) => {\n\t\t\treturn { val, opts }\n\t\t},\n\t],\n\t(lang, { val, opts }) => {\n\t\tconst { isProp = false, args = [''] } = opts\n\t\treturn translate(val, { isProp, args }, lang)\n\t}\n)\n\n// Need to useSelector for language in top component where this will be used\n// Now this is don by using Translate Hoc on Root\n// It will work in actions too as the state isg get when they are called and don't need update\nexport const t = (val, opts) => {\n\treturn selectTranslations(getState(), val, opts)\n}\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\nimport { formatTokenAmount, formatDateTime } from 'helpers/formatters'\n\nexport const selectAnalytics = state => (state || getState()).persist.analytics\n\nexport const selectAnalyticsData = createSelector(\n\t[selectAnalytics, (_, side) => side],\n\t(analytics, side) => {\n\t\treturn analytics[side] || {}\n\t}\n)\n\nexport const selectCampaignAnalytics = createSelector(\n\t[selectAnalytics],\n\tanalytics => analytics.campaigns || {}\n)\n\nexport const selectDemandAnalytics = createSelector(\n\t[selectAnalytics],\n\tanalytics => analytics.demand || {}\n)\n\nexport const selectCampaignAnalyticsByType = createSelector(\n\t[selectCampaignAnalytics, (_, type) => type],\n\t(campaignAnalytics, type) => campaignAnalytics[type] || {}\n)\n\nexport const selectCampaignAnalyticsByChannelStats = createSelector(\n\t(state, { type, campaignId } = {}) => [\n\t\tselectCampaignAnalyticsByType(state, type),\n\t\tcampaignId,\n\t],\n\t([analyticsByType, campaignId]) =>\n\t\t(analyticsByType.byChannelStats || {})[campaignId] || {}\n)\n\nexport const selectAnalyticsDataAggr = createSelector(\n\t[selectAnalytics, (_, opts = {}) => opts],\n\t(analytics = {}, { side, eventType, metric, timeframe }) => {\n\t\t// return analytics[side]['eventType'][metric][timeframe].aggr\n\t\t// NOTE: It was working fine with default initial state but\n\t\t// when eventType CLICK was added if you were logged and had\n\t\t// old analytics the initialState is not applied === boom.\n\n\t\tconst {\n\t\t\t[side]: {\n\t\t\t\t[eventType]: {\n\t\t\t\t\t[metric]: { [timeframe]: { aggr = [] } = {} } = {},\n\t\t\t\t} = {},\n\t\t\t} = {},\n\t\t} = analytics\n\n\t\treturn aggr\n\t}\n)\n\nexport const selectTotalImpressions = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalClicks = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'CLICK',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalMoney = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t}),\n\teventPayouts =>\n\t\teventPayouts\n\t\t\t? eventPayouts.reduce(\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value, 18)) || 0,\n\t\t\t\t\t0\n\t\t\t  )\n\t\t\t: null\n)\n\nexport const selectAverageCPM = createSelector(\n\t[\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalMoney(state, { side, timeframe }),\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalImpressions(state, { side, timeframe }),\n\t],\n\t(totalMoney, totalImpressions) =>\n\t\ttotalMoney !== null && totalImpressions !== null\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\n\t\t\t: null\n)\n\nconst parseValueByMetric = ({ value, metric }) => {\n\tswitch (metric) {\n\t\tcase 'eventPayouts':\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\n\t\tcase 'eventCounts':\n\t\t\treturn parseInt(value, 10)\n\t\tdefault:\n\t\t\treturn value\n\t}\n}\n\nexport const selectStatsChartData = createSelector(\n\t[\n\t\t(state, { noLastOne, ...rest } = {}) => {\n\t\t\treturn { data: selectAnalyticsDataAggr(state, rest), noLastOne, ...rest }\n\t\t},\n\t],\n\t({ data = [], noLastOne, metric, ...rest }) => {\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\n\t\treturn aggr.reduce(\n\t\t\t(memo, item) => {\n\t\t\t\tconst { time, value } = item\n\t\t\t\tmemo.labels.push(formatDateTime(time))\n\t\t\t\tmemo.datasets.push(parseValueByMetric({ value, metric }))\n\t\t\t\treturn memo\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabels: [],\n\t\t\t\tdatasets: [],\n\t\t\t}\n\t\t)\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectValidations = state => state.memory.validations\n\nexport const selectValidationsById = createSelector(\n\t[selectValidations, (_, id) => id],\n\t(validations, id) => validations[id]\n)\n\nexport const selectMultipleValidationsByIds = createSelector(\n\t[selectValidations, (_, ids) => ids],\n\t(validations, ids) => ids.map(id => validations[id])\n)\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\n\n// can be used outside  components\nexport const selectRelayerConfig = state => {\n\treturn (state || getState()).persist.config.relayer\n}\n\n// - relayer cfg\n// network,\n// feeTokenWhitelist, // [{ address, symbol, decimals, standard, min, minDeploy }],\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal }],\n// coreAddr,\n// baseIdentityAddr,\n// identityFactoryAddr,\n// registryAddr,\n// daiAddr,\n// marketUrl,\n// identityRecoveryAddr,\n// weeklyFeeAmount,\n// mainToken, // { address, symbol, decimals, standard },\n// advertiserMinGrantAmount\n// relayerAddr\n\nexport const selectFeeTokenWhitelist = createSelector(\n\t[selectRelayerConfig],\n\t({ feeTokenWhitelist }) => {\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokens = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.map(t => t.address)\n\t}\n)\n\nexport const selectConfig = createSelector(\n\t[selectRelayerConfig],\n\trelayerConfig => {\n\t\tconst cfg = { ...relayerConfig }\n\t\treturn cfg\n\t}\n)\n\nexport const selectMainToken = createSelector(\n\t[selectRelayerConfig],\n\t({ mainToken }) => mainToken || {}\n)\n\nexport const selectSaiToken = createSelector(\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\n)\n\nexport const selectMainFeeToken = createSelector(\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\n\t({ mainToken }, feeTokenWhitelist) => {\n\t\treturn feeTokenWhitelist[mainToken.address]\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectNewTransactions = state => state.memory.newTransactions\n\nexport const selectNewTransactionById = createSelector(\n\t[selectNewTransactions, (_, id) => id],\n\t(txns, id) => txns[id] || {}\n)\n","import {\n\tCampaign as CampaignModel,\n\tAdUnit as AdUnitModel,\n\tAdSlot as AdSlotModel,\n} from 'adex-models'\n\nimport { createSelector } from 'reselect'\n\nexport const selectNewItems = state => state.memory.newItem\n\nexport const selectNewCampaign = createSelector(\n\tselectNewItems,\n\t({ Campaign }) => new CampaignModel(Campaign)\n)\n\nexport const selectNewAdUnit = createSelector(\n\tselectNewItems,\n\t({ AdUnit }) => new AdUnitModel(AdUnit)\n)\n\nexport const selectNewAdSlot = createSelector(\n\tselectNewItems,\n\t({ AdSlot }) => new AdSlotModel(AdSlot)\n)\n","import { createSelector } from 'reselect'\n\nexport const selectItems = state => state.persist.items\n\nexport const selectItemsByType = createSelector(\n\t[selectItems, (_, itemType) => itemType],\n\t(items, itemType) => items[itemType] || {}\n)\n\nexport const selectItemsArrayByType = createSelector(\n\t[selectItemsByType, (_, itemType) => itemType],\n\titems => Object.values(items)\n)\n\nexport const selectCampaigns = createSelector(\n\tstate => selectItemsByType(state, 'Campaign'),\n\tcampaigns => campaigns\n)\n\nexport const selectCampaignsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'Campaign'),\n\tcampaigns => campaigns\n)\n\nexport const selectAdUnits = createSelector(\n\tstate => selectItemsByType(state, 'AdUnit'),\n\tadUnits => adUnits\n)\n\nexport const selectAdUnitById = createSelector(\n\t[selectAdUnits, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectAdUnitsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'AdUnit'),\n\tadUnits => adUnits\n)\n\nexport const selectAdSlots = createSelector(\n\tstate => selectItemsByType(state, 'AdSlot'),\n\tadSlots => adSlots\n)\n\nexport const selectAdSlotsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'AdSlot'),\n\tadSlots => adSlots\n)\n","import { createSelector } from 'reselect'\nimport {\n\tselectCampaignsArray,\n\tselectRoutineWithdrawTokens,\n\tselectAdSlotsArray,\n\tselectAdUnits,\n\tcreatArrayOnlyLengthChangeSelector,\n\tselectCampaignAnalyticsByChannelStats,\n} from 'selectors'\nimport { formatUnits } from 'ethers/utils'\n\nexport const selectCampaignsTableData = createSelector(\n\t[selectCampaignsArray, selectRoutineWithdrawTokens, (_, side) => side],\n\t(campaigns, tokens, side) =>\n\t\tcampaigns.map(item => {\n\t\t\tconst { decimals = 18 } = tokens[item.depositAsset] || {}\n\t\t\tconst spec = item.spec || {}\n\t\t\treturn {\n\t\t\t\tmedia: {\n\t\t\t\t\tid: item.id,\n\t\t\t\t\tadUnits: item.adUnits,\n\t\t\t\t},\n\t\t\t\tstatus: {\n\t\t\t\t\thumanFriendlyName: item.status.humanFriendlyName,\n\t\t\t\t\toriginalName: item.status.name,\n\t\t\t\t},\n\t\t\t\tdepositAmount: Number(formatUnits(item.depositAmount || '0', decimals)),\n\t\t\t\tfundsDistributedRatio: item.status.fundsDistributedRatio || 0,\n\t\t\t\timpressions: Number(item.impressions || '0'),\n\t\t\t\tclicks: Number(item.clicks || '0'),\n\t\t\t\tminPerImpression:\n\t\t\t\t\tNumber(\n\t\t\t\t\t\tformatUnits(\n\t\t\t\t\t\t\tspec.minPerImpression || item.minPerImpression || '0',\n\t\t\t\t\t\t\tdecimals\n\t\t\t\t\t\t)\n\t\t\t\t\t) * 1000,\n\t\t\t\tcreated: item.created,\n\t\t\t\tactiveFrom: spec.activeFrom || item.activeFrom,\n\t\t\t\twithdrawPeriodStart:\n\t\t\t\t\tspec.withdrawPeriodStart || item.withdrawPeriodStart,\n\t\t\t\tactions: {\n\t\t\t\t\tto: `/dashboard/${side}/Campaign/${item.id}`,\n\t\t\t\t},\n\t\t\t}\n\t\t})\n)\n\nexport const selectCampaignsTableDataOnLengthChange = creatArrayOnlyLengthChangeSelector(\n\tselectCampaignsTableData,\n\tdata => data\n)\n\nexport const selectCampaignsMaxImpressions = createSelector(\n\tselectCampaignsArray,\n\tcampaigns =>\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.impressions || 0))) || 1\n)\n\nexport const selectCampaignsMaxClicks = createSelector(\n\tselectCampaignsArray,\n\tcampaigns =>\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.clicks || 0))) || 1\n)\n\nexport const selectCampaignsMaxDeposit = createSelector(\n\t[selectCampaignsArray, selectRoutineWithdrawTokens],\n\t(campaigns, tokens) =>\n\t\tMath.max.apply(\n\t\t\tnull,\n\t\t\tcampaigns.map(i => {\n\t\t\t\tconst { decimals = 18 } = tokens[i.depositAsset] || {}\n\t\t\t\treturn Number(formatUnits(i.depositAmount, decimals) || 0)\n\t\t\t})\n\t\t)\n)\n\nexport const selectAdSlotsTableData = createSelector(\n\t[selectAdSlotsArray, (_, side) => side],\n\t(slots, side) =>\n\t\tslots.map(item => {\n\t\t\treturn {\n\t\t\t\tmedia: {\n\t\t\t\t\tid: item.id,\n\t\t\t\t\tmediaUrl: item.fallbackUnit ? `ipfs://${item.fallbackUnit}` : '', //TODO: provide fallback image to slot\n\t\t\t\t\tmediaMime: 'image/jpeg',\n\t\t\t\t},\n\t\t\t\ttitle: item.title,\n\t\t\t\ttype: item.type.replace('legacy_', ''),\n\t\t\t\tcreated: item.created,\n\t\t\t\tactions: {\n\t\t\t\t\tto: `/dashboard/${side}/AdSlot/${item.id || item.ipfs}`,\n\t\t\t\t\titem,\n\t\t\t\t},\n\t\t\t}\n\t\t})\n)\n\nexport const selectAdUnitsTableData = createSelector(\n\t[selectAdUnits, (_, { side, items }) => ({ side, items })],\n\t(units, { side, items }) =>\n\t\tObject.values(items || units).map(item => ({\n\t\t\tid: item.id,\n\t\t\tmedia: {\n\t\t\t\tid: item.id,\n\t\t\t\tmediaUrl: item.mediaUrl,\n\t\t\t\tmediaMime: item.mediaMime,\n\t\t\t},\n\t\t\ttitle: item.title || units[item.ipfs].title,\n\t\t\ttype: item.type,\n\t\t\tcreated: item.created,\n\t\t\tactions: {\n\t\t\t\tto: `/dashboard/${side}/AdUnit/${item.id || item.ipfs}`,\n\t\t\t\titem,\n\t\t\t},\n\t\t}))\n)\n\nexport const selectCampaignStatsTableData = createSelector(\n\t(state, campaignId) => {\n\t\treturn {\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t}\n\t},\n\t({ impressions, clicks }) => {\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\n\t\tconst earnStats = impressions.reportChannelToHostnamePay || {}\n\t\treturn Object.keys(imprStats).map(key => ({\n\t\t\twebsite: key,\n\t\t\timpressions: imprStats[key] || 0,\n\t\t\tctr:\n\t\t\t\t(((clickStats[key] || 0) / (imprStats[key] || 0)) * 100).toFixed(2) ||\n\t\t\t\t0,\n\t\t\tearnings: Number((earnStats[key] || 0).toFixed(2)),\n\t\t\tclicks: clickStats[key] || 0,\n\t\t}))\n\t}\n)\n\nexport const selectCampaignStatsMaxValues = createSelector(\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\n\t\t\t\tnewResult.maxImpressions = Math.max(\n\t\t\t\t\tcurrent.impressions,\n\t\t\t\t\tnewResult.maxImpressions\n\t\t\t\t)\n\t\t\t\tnewResult.maxEarnings = Math.max(\n\t\t\t\t\tcurrent.earnings,\n\t\t\t\t\tnewResult.maxEarnings\n\t\t\t\t)\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxEarnings: 0, maxCTR: 0 }\n\t\t)\n)\n","import { createSelector } from 'reselect'\nimport { t, selectCampaignAnalyticsByChannelStats } from 'selectors'\n\nexport const selectCampaignDoughnutStats = createSelector(\n\t(state, { campaignId, chartColors, maxDataSets }) => {\n\t\tconst analytics = {\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t}\n\n\t\treturn { ...analytics, chartColors, maxDataSets }\n\t},\n\t({ impressions, clicks, chartColors, maxDataSets }) => {\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\n\n\t\tconst { labels, impressionsData, clicksData } = Object.keys(imprStats)\n\t\t\t.sort((a, b) => imprStats[b] - imprStats[a])\n\t\t\t.reduce(\n\t\t\t\t(data, key, i) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tif (i < maxDataSets) {\n\t\t\t\t\t\tnewData.labels.push(key)\n\t\t\t\t\t\tnewData.impressionsData.push(imprStats[key] || 0)\n\t\t\t\t\t\tdata.clicksData.push(clickStats[key] || 0)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata.labels[maxDataSets] = t('PIE_CHART_OTHER')\n\n\t\t\t\t\t\tdata.impressionsData[maxDataSets] =\n\t\t\t\t\t\t\t(data.impressionsData[maxDataSets] || 0) + (imprStats[key] || 0)\n\n\t\t\t\t\t\tdata.clicksData[maxDataSets] =\n\t\t\t\t\t\t\t(data.clicksData[maxDataSets] || 0) + (clickStats[key] || 0)\n\t\t\t\t\t}\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{ labels: [], impressionsData: [], clicksData: [] }\n\t\t\t)\n\n\t\tconst data = {\n\t\t\tlabels,\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: chartColors,\n\t\t\t\t\thoverBackgroundColor: chartColors,\n\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\tdata: impressionsData,\n\t\t\t\t\tlabel: t('CHART_LABEL_IMPRESSIONS'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: chartColors,\n\t\t\t\t\thoverBackgroundColor: chartColors,\n\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\tdata: clicksData,\n\t\t\t\t\tlabel: t('CHART_LABEL_CLICKS'),\n\t\t\t\t},\n\t\t\t],\n\t\t}\n\n\t\treturn data\n\t}\n)\n","import { bigNumberify } from 'ethers/utils'\nimport { t, selectDemandAnalytics, selectMainToken } from 'selectors'\nimport { createSelector } from 'reselect'\nimport { constants } from 'adex-models'\n\nexport const selectSlotTypesSourceWithDemands = createSelector(\n\t[selectDemandAnalytics, selectMainToken],\n\t(demand, { symbol }) => {\n\t\tconst { source } = constants.AdUnitsTypes.map(type => {\n\t\t\treturn {\n\t\t\t\tvalue: type,\n\t\t\t\tlabel: type.split('_')[1],\n\t\t\t\tdemand: demand[type],\n\t\t\t}\n\t\t})\n\t\t\t.sort((a, b) => {\n\t\t\t\tconst dA = bigNumberify(a.demand ? a.demand.raw.avgCPM : 0)\n\t\t\t\tconst dB = bigNumberify(b.demand ? b.demand.raw.avgCPM : 0)\n\n\t\t\t\treturn dA.gt(dB) ? -1 : dB.gt(dA) ? 1 : 0\n\t\t\t})\n\t\t\t.reduce(\n\t\t\t\t(data, type, index) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tconst source = newData.source\n\t\t\t\t\tconst current = type\n\t\t\t\t\tif (index === 0 && type.demand) {\n\t\t\t\t\t\tnewData.hasPopularGroup = true\n\t\t\t\t\t\tsource.push({ group: t('POPULAR_SLOTS_TYPES') })\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\t!newData.hasNoDemandGroup &&\n\t\t\t\t\t\tnewData.hasPopularGroup &&\n\t\t\t\t\t\tindex !== 0 &&\n\t\t\t\t\t\t!type.demand\n\t\t\t\t\t) {\n\t\t\t\t\t\tnewData.hasNoDemandGroup = true\n\t\t\t\t\t\tsource.push({ group: t('NO_DEMAND_SLOTS_TYPES') })\n\t\t\t\t\t}\n\n\t\t\t\t\tif (current.demand) {\n\t\t\t\t\t\tconst demandIfo = t('SLOT_TYPE_DEMAND_INFO', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.avgCPM,\n\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.totalVolume,\n\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})\n\t\t\t\t\t\tcurrent.label = `${current.label} (${demandIfo})`\n\t\t\t\t\t}\n\t\t\t\t\tsource.push(current)\n\n\t\t\t\t\tnewData.source = source\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{ source: [], hasPopularGroup: false, hasNoDemandGroup: false }\n\t\t\t)\n\t\treturn source\n\t}\n)\n","export * from './selectors'\nexport * from './accountSelectors'\nexport * from './identitySelectors'\nexport * from './locationSelectors'\nexport * from './uiSelectors'\nexport * from './translationsSelectors'\nexport * from './analyticsSelectors'\nexport * from './validationsSelectors'\nexport * from './configSelectors'\nexport * from './newTransactionSelectors'\nexport * from './newItemsSelectors'\nexport * from './itemsSelectors'\nexport * from './tablesDataSelectors'\nexport * from './chartsSelectors'\nexport * from './dataSelectors'\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { constants } from 'adex-models'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport { bigNumberify, formatEther } from 'ethers/utils'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport {\n\tselectRelayerConfig,\n\tselectMainToken,\n\tselectRoutineWithdrawTokens,\n\tselectFeeTokenWhitelist,\n} from 'selectors'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\n\tif (token.address === mainToken.address) {\n\t\treturn balance\n\t}\n\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\n\n\t// approve + swap txns\n\tconst swapFees = bigNumberify(feeToken.min).mul(bigNumberify(2))\n\n\tconst isAvailable = swapFees.mul(bigNumberify(2)).lte(balance)\n\treturn isAvailable ? balance : bigNumberify(0)\n}\n\nexport const getWithdrawTokensBalances = async ({\n\tauthType,\n\taddress,\n\tgetFullBalances,\n}) => {\n\tconst { getToken } = await getEthers(authType)\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\n\t\tconst tokenContract = getToken(token)\n\n\t\tconst balance = await tokenContract.balanceOf(address)\n\n\t\tconst available = getFullBalances\n\t\t\t? balance\n\t\t\t: tokenAvailableBalance({\n\t\t\t\t\ttoken,\n\t\t\t\t\tmainToken,\n\t\t\t\t\tbalance,\n\t\t\t  })\n\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: available,\n\t\t})\n\n\t\treturn { token, balance: available, balanceMainToken }\n\t})\n\n\tconst balances = await Promise.all(balancesCalls)\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\n\t\t(data, balanceData) => {\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\n\t\t\t\tbalanceData.balanceMainToken\n\t\t\t)\n\n\t\t\tif (balanceData.token.address === mainToken.address) {\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\n\t\t\t}\n\n\t\t\treturn data\n\t\t},\n\t\t{\n\t\t\ttotalBalanceInMainToken: bigNumberify(0),\n\t\t\tmainTokenBalance: bigNumberify(0),\n\t\t}\n\t)\n\n\treturn {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t\ttotalBalanceInMainToken,\n\t}\n}\n\nexport async function getAddressBalances({\n\taddress,\n\tauthType,\n\tgetFullBalances,\n}) {\n\tconst { provider } = await getEthers(authType)\n\n\tconst calls = [\n\t\tprovider.getBalance(address.address),\n\t\tgetWithdrawTokensBalances({\n\t\t\tauthType,\n\t\t\taddress: address.address,\n\t\t\tgetFullBalances,\n\t\t}),\n\t]\n\n\tconst balances = await Promise.all(calls)\n\tconst formatted = {\n\t\taddress: address.address,\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\n\t\tbalanceEth: formatEther(balances[0].toString()),\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\n\t\t\treturn {\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\n\t\t\t\tsymbol: token.symbol,\n\t\t\t}\n\t\t}),\n\t}\n\n\treturn formatted\n}\n\nexport async function getAccountStats({\n\taccount,\n\toutstandingBalanceMainToken = {\n\t\ttotal: bigNumberify('0'),\n\t\tavailable: bigNumberify('0'),\n\t},\n}) {\n\tconst { wallet, identity } = account\n\tconst { authType } = wallet\n\tconst { address } = identity\n\tconst { getIdentity } = await getEthers(authType)\n\tconst { decimals } = selectMainToken()\n\n\tconst { status = {} } = identity\n\tconst identityContract = getIdentity({ address })\n\tlet privilegesAction\n\ttry {\n\t\tawait identityContract.deployed()\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\n\t} catch {\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\n\t}\n\n\tconst calls = [\n\t\tgetWithdrawTokensBalances({ authType, address }),\n\t\tprivilegesAction,\n\t]\n\n\tconst [\n\t\tidentityWithdrawTokensBalancesBalances = {},\n\t\twalletPrivileges,\n\t] = await Promise.all(\n\t\tcalls.map(c =>\n\t\t\tc\n\t\t\t\t.then(res => res)\n\t\t\t\t.catch(e => {\n\t\t\t\t\treturn undefined\n\t\t\t\t})\n\t\t)\n\t)\n\n\tconst identityBalanceMainToken =\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken\n\n\t// BigNumber values for balances\n\tconst raw = {\n\t\tidentityWithdrawTokensBalancesBalances,\n\t\twalletPrivileges,\n\t\tidentityBalanceMainToken,\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.available\n\t\t),\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.total\n\t\t),\n\t}\n\n\tconst formatted = {\n\t\twalletAddress: wallet.address,\n\t\twalletAuthType: wallet.authType,\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\n\t\tidentityAddress: identity.address,\n\t\tidentityBalanceMainToken: formatTokenAmount(\n\t\t\tidentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\toutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.outstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalOutstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.availableIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t}\n\n\treturn {\n\t\traw,\n\t\tformatted,\n\t}\n}\n\n// NOTE: currently working because DAI and SAI has the same price and decimals\n// We should use getOutstandingBalanceMainToken if changed\nexport async function getOutstandingBalance({ withBalance }) {\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable } = ch\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstanding)\n\t\tcurrent.available = current.available.add(outstandingAvailable)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\n\tconst tokens = selectRoutineWithdrawTokens()\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\n\t\tconst { depositAsset } = channel\n\t\tconst token = tokens[depositAsset]\n\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: outstandingAvailable,\n\t\t})\n\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstandingMT)\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getAllValidatorsAuthForIdentity({\n\twithBalance,\n\taccount,\n}) {\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\n\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\n\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\tconst keys = Object.keys(allValidators)\n\n\tconst tokenCalls = keys.map(async key => {\n\t\tif (allValidators[key]) {\n\t\t\treturn allValidators[key]\n\t\t} else {\n\t\t\tconst token = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: key,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\treturn token\n\t\t}\n\t})\n\n\tconst allTokens = await Promise.all(tokenCalls)\n\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[key]: allTokens[index],\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\treturn validatorsAuth\n}\n\nconst saiDaiConversion = async ({ token, balance }) => balance\n\nconst valueInMainTokenConversions = {\n\t// SAI\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\n\t\t// DAI\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\n\t},\n\t// DAI\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\n\t\t// SAI\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\n\t},\n}\n\nexport async function tokenInMainTokenValue({ token, balance }) {\n\tconst { address } = selectMainToken()\n\n\tif (address === token.address) {\n\t\treturn balance\n\t}\n\n\tconst valueInMainToken = await valueInMainTokenConversions[\n\t\taddress.toLowerCase()\n\t][token.address.toLowerCase()]({\n\t\ttoken,\n\t\tbalance,\n\t})\n\n\treturn valueInMainToken\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\n\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getOwnerIdentities = ({ owner }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/by-owner/${owner}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getIdentityData = ({ identityAddr }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getRelayerConfigData = () => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'relayer/cfg',\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}/execute`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttxnsRaw,\n\t\t\t\tsignatures,\n\t\t\t\tidentityAddr,\n\t\t\t\tchannel,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const regAccount = ({\n\towner,\n\temail,\n\tbytecode,\n\tidentityFactoryAddr,\n\tbaseIdentityAddr,\n\tsalt,\n\tidentityAddr,\n\tprivileges,\n\troutineAuthorizationsRaw,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\towner,\n\t\t\t\temail,\n\t\t\t\tbytecode,\n\t\t\t\tidentityFactoryAddr,\n\t\t\t\tbaseIdentityAddr,\n\t\t\t\tsalt,\n\t\t\t\tidentityAddr,\n\t\t\t\tprivileges,\n\t\t\t\troutineAuthorizationsRaw,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getQuickWallet = ({ hash }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail,\n\t\t\t\tsalt,\n\t\t\t\thash,\n\t\t\t\tencryptedWallet,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n","import { Signer, utils } from 'ethers'\nimport TrezorConnect from 'trezor-connect'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\n\nTrezorConnect.manifest({\n\temail: 'contactus@adex.network',\n\tappUrl: 'http://adex.network',\n})\n\nexport default class TrezorSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\n\t\tconst bundle = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tbundle.push({\n\t\t\t\tpath: this.path + `/${index}`,\n\t\t\t\tshowOnTrezor: false,\n\t\t\t})\n\t\t}\n\n\t\treturn { bundle }\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\n\t\t\tthis.getAddsParams({ from, to })\n\t\t)\n\n\t\treturn { success, payload }\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\n\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\n\t\t\tpath: this.path,\n\t\t\ttransaction: txProps,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst signature = {\n\t\t\t\tr: payload.r,\n\t\t\t\ts: payload.s,\n\t\t\t\tv: parseInt(payload.v),\n\t\t\t}\n\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\t\treturn txSigned\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\n\t\t\tpath: this.path,\n\t\t\tmessage: message,\n\t\t\thex: !!opts.hex,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst res = {\n\t\t\t\t/*\n\t\t\t\t * NOTE: SignatureTypes.GETH\n\t\t\t\t * Current TrezorConnect window does not\n\t\t\t\t * accept device with old firmware\n\t\t\t\t */\n\t\t\t\tsignature: '0x' + payload.signature,\n\t\t\t\thash: message,\n\t\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\t\taddress: payload.address,\n\t\t\t}\n\n\t\t\treturn res\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tconnect = provider => {\n\t\treturn new TrezorSigner(provider, { path: this.path })\n\t}\n}\n","import { Signer, utils, Wallet } from 'ethers'\nimport { getLocalWallet } from 'services/wallet/wallet'\nimport { constants } from 'adex-models'\n\nexport default class LocalSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\n\t\tthis._provider = provider\n\t\tthis._opts = opts\n\t}\n\n\tgetWallet = async () => {\n\t\tif (this._wallet) {\n\t\t\treturn this._wallet\n\t\t} else {\n\t\t\tconst { email, password, authType } = this._opts\n\t\t\tconst walletData = await getLocalWallet({\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\n\t\t\treturn this._wallet\n\t\t}\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn await this.getWallet().address\n\t}\n\n\tsignTx = async params => {\n\t\tconst signetTx = await this.getWallet().sign(params)\n\t\treturn signetTx\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst wallet = await this.getWallet()\n\n\t\tconst signature = await wallet.signMessage(message)\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: wallet.address,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LocalSigner(provider, {\n\t\t\temail: this.email,\n\t\t\tpassword: this.password,\n\t\t})\n\t}\n}\n","import { Signer, utils } from 'ethers'\nimport { constants } from 'adex-models'\n\nexport default class MetaMaskSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._signer = provider.getSigner()\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn this._signer.getAddress()\n\t}\n\n\tsendTransaction = async params => {\n\t\treturn this._signer.sendTransaction(params)\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst signature = await this._signer.signMessage(message)\n\t\t// TODO: support EIP712\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: await this._signer.getAddress(),\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new MetaMaskSigner(provider)\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { utils } from 'ethers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\nimport LedgerSigner from 'services/smart-contracts/signers/ledger'\nimport LocalSigner from 'services/smart-contracts/signers/local'\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\n\nexport async function getSigner({ wallet, provider }) {\n\t// TODO: Maybe get provider here?\n\tconst { authType, path, email, password } = wallet\n\n\tif (authType === AUTH_TYPES.METAMASK.name) {\n\t\tconst signer = new MetaMaskSigner(provider)\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.LEDGER.name) {\n\t\tconst signer = new LedgerSigner(provider, { path })\n\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.TREZOR.name) {\n\t\tconst signer = new TrezorSigner(provider, { path })\n\t\treturn signer\n\t}\n\tif (\n\t\tauthType === AUTH_TYPES.GRANT.name ||\n\t\tauthType === AUTH_TYPES.QUICK.name\n\t) {\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\n\n\t\treturn signer\n\t}\n\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\n}\n\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\nexport const getTypedDataHash = ({ typedData }) => {\n\tconst values = typedData.map(entry => {\n\t\treturn typeof entry.value === 'string'\n\t\t\t? utils.toUtf8Bytes(entry.value)\n\t\t\t: utils.hexlify(entry.value)\n\t})\n\tconst valuesHash = utils.keccak256.apply(null, values)\n\tconst schema = typedData.map(entry => {\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\n\t})\n\n\tconst schemaHash = utils.keccak256.apply(null, schema)\n\tconst hash = utils.solidityKeccak256(\n\t\t['bytes32', 'bytes32'],\n\t\t[schemaHash, valuesHash]\n\t)\n\n\treturn hash\n}\n\nexport async function getAuthSig({ wallet }) {\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst authToken = Math.floor(\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\n\t).toString()\n\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\n\tconst hash = getTypedDataHash({ typedData })\n\tconst signature = await signer.signMessage(hash, { hex: true })\n\n\treturn {\n\t\t...signature,\n\t\tauthToken,\n\t\thash,\n\t}\n}\n\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\n\tconst { provider } = await getEthers(authType)\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\n\n\treturn Promise.all(receipts)\n}\n\nexport async function signTx({ tx, signer }) {\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\n\t\thex: true,\n\t})\n\tconst signature = splitSig(sig.signature)\n\treturn signature\n}\n\nexport async function getMultipleTxSignatures({ txns, signer }) {\n\tconst signatures = []\n\tfor (const tx of txns) {\n\t\tsignatures.push(await signTx({ tx, signer }))\n\t}\n\n\treturn signatures\n}\n","export function loadFromLocalStorage(key) {\n\ttry {\n\t\tconst data = localStorage.getItem(key)\n\t\tif (data === null) {\n\t\t\treturn undefined\n\t\t}\n\t\treturn JSON.parse(data)\n\t} catch (err) {\n\t\treturn undefined\n\t}\n}\n\nexport function saveToLocalStorage(data, key) {\n\ttry {\n\t\tconst serialized = JSON.stringify(data)\n\t\tlocalStorage.setItem(key, serialized)\n\t} catch (err) {\n\t\tconsole.warn(err)\n\t}\n}\n\nexport function removeFromLocalStorage(key) {\n\tlocalStorage.removeItem(key)\n}\n\nexport function getKeys() {\n\treturn Object.keys(localStorage)\n}\n","export const ADD_ITEM = 'ADD_ITEM'\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\nexport const DELETE_ITEM = 'DELETE_ITEM'\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\nexport const UPDATE_UI = 'UPDATE_UI'\nexport const ADD_TOAST = 'ADD_TOAST'\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\nexport const UPDATE_NAV = 'UPDATE_NAV'\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\nexport const UNIT_PLACE_BID = 'PLACE_BID'\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\nexport const UPDATE_TAGS = 'UPDATE_TAGS'\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\nexport const UPDATE_GAS_DATA = 'UPDATE_GAS_DATA'\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\nexport const RESET_WALLET = 'RESET_WALLET'\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\nexport const UPDATE_ADVANCED_CAMPAIGN_ANALYTICS =\n\t'UPDATE_ADVANCED_CAMPAIGN_ANALYTICS'\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\nexport const UPDATE_CHANNELS_WITH_BALANCE = 'UPDATE_CHANNELS_WITH_BALANCE'\nexport const RESET_CHANNELS_WITH_BALANCE = 'RESET_CHANNELS_WITH_BALANCE'\nexport const UPDATE_DEMAND_ANALYTICS = 'UPDATE_DEMAND_ANALYTICS'\n","module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport Button from '@material-ui/core/Button'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport InfoIcon from '@material-ui/icons/Info'\nimport CloseIcon from '@material-ui/icons/Close'\nimport IconButton from '@material-ui/core/IconButton'\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst variantIcon = {\n\taccept: CheckCircleIcon,\n\tsuccess: CheckCircleIcon,\n\twarning: WarningIcon,\n\tcancel: ErrorIcon,\n\terror: ErrorIcon,\n\tinfo: InfoIcon,\n}\n\nexport class Toast extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t\ttoast: {},\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tlet toast = this.state.toast\n\t\tlet nextToast = nextProps.toasts[0]\n\n\t\tif (!nextToast) {\n\t\t\tthis.setState({ active: false, toast: {} })\n\t\t\treturn\n\t\t}\n\n\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\n\n\t\tif (isNewToast) {\n\t\t\tthis.setState({ active: true, toast: nextToast })\n\t\t}\n\t}\n\n\tclose = id => {\n\t\tthis.setState({ active: false })\n\t\tthis.props.actions.removeToast(id)\n\t}\n\n\trender() {\n\t\tconst { toast } = this.state\n\t\tconst { classes } = this.props\n\t\tconst Icon = variantIcon[toast.type]\n\n\t\tif (!toast || !Icon) return null\n\n\t\tconst anchorOrigin = toast.anchorOrigin || {\n\t\t\tvertical: 'bottom',\n\t\t\thorizontal: 'center',\n\t\t}\n\n\t\tif (toast.top) {\n\t\t\tanchorOrigin.horizontal = 'center'\n\t\t\tanchorOrigin.vertical = 'top'\n\t\t}\n\n\t\treturn (\n\t\t\t<Snackbar\n\t\t\t\topen={this.state.active}\n\t\t\t\tautoHideDuration={toast.timeout || 0}\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\tanchorOrigin={anchorOrigin}\n\t\t\t>\n\t\t\t\t<SnackbarContent\n\t\t\t\t\taria-describedby='client-snackbar'\n\t\t\t\t\tmessage={\n\t\t\t\t\t\t<span id='client-snackbar' className={classes.message}>\n\t\t\t\t\t\t\t<Icon className={classnames(classes.icon, classes.iconVariant)} />\n\t\t\t\t\t\t\t{(toast.label || '').toString()}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t\taction={[\n\t\t\t\t\t\ttoast.action && toast.action,\n\t\t\t\t\t\t!toast.unclosable && (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tkey='close'\n\t\t\t\t\t\t\t\taria-label='Close'\n\t\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\t\tclassName={classes.close}\n\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CloseIcon className={classes.icon} />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t),\n\t\t\t\t\t]}\n\t\t\t\t\tclassName={classnames(classes.snackbar, {\n\t\t\t\t\t\t[classes.top]: !!toast.top,\n\t\t\t\t\t\t[classes.accept]: toast.type === 'accept',\n\t\t\t\t\t\t[classes.cancel]: toast.type === 'cancel',\n\t\t\t\t\t\t[classes.warning]: toast.type === 'warning',\n\t\t\t\t\t})}\n\t\t\t\t/>\n\t\t\t</Snackbar>\n\t\t)\n\t}\n}\n\nToast.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\ttoasts: PropTypes.array.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\t// let persist = state.persist\n\tlet memory = state.memory\n\treturn {\n\t\ttoasts: memory.toasts || [],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(withStyles(styles)(Toast))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tsnackbar: {\n\t\t\tborder: '3px solid',\n\t\t\tborderRadius: 0,\n\t\t\tbackgroundColor: '#222',\n\t\t\t'&.active': {\n\t\t\t\ttransform: 'translateY(-20%)',\n\t\t\t},\n\t\t\tmargin: spacing,\n\t\t},\n\t\twarning: {\n\t\t\tborderColor: '#FFAB00',\n\t\t\tcolor: '#FFAB00',\n\t\t},\n\t\tcancel: {\n\t\t\tborderColor: '#FF5722',\n\t\t\tcolor: '#FF5722',\n\t\t},\n\t\taccept: {\n\t\t\tborderColor: '#00E676',\n\t\t\tcolor: '#00E676',\n\t\t},\n\t\ticon: {\n\t\t\tfontSize: 20,\n\t\t},\n\t\ticonVariant: {\n\t\t\topacity: 0.9,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tmessage: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\twordBreak: 'break-all',\n\t\t},\n\t\ttop: {\n\t\t\twidth: '98vw',\n\t\t\tmaxWidth: '98vw',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { translate } from 'services/translations/translations'\nimport { selectLang } from 'selectors'\n\nexport default function Translate(Decorated) {\n\tfunction Translated(props) {\n\t\tconst language = useSelector(selectLang)\n\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\n\t\t\tconst translation = translate(val, { isProp, args }, language)\n\n\t\t\treturn translation\n\t\t}\n\n\t\treturn <Decorated {...props} t={t} />\n\t}\n\n\treturn Translated\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Dialog from '@material-ui/core/Dialog'\nimport Button from '@material-ui/core/Button'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Translate from 'components/translate/Translate'\n\nexport class Confirm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.cancel = this.cancel.bind(this)\n\t\tthis.confirm = this.confirm.bind(this)\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.setState({ active: nextProps.visible })\n\t}\n\n\tconfirm() {\n\t\tif (typeof this.props.confirm === 'function') {\n\t\t\tthis.props.confirm()\n\t\t}\n\t\tthis.setState({ active: false })\n\t}\n\n\tcancel() {\n\t\tif (typeof this.props.cancel === 'function') {\n\t\t\tthis.props.cancel()\n\t\t}\n\n\t\tthis.setState({ active: false })\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle,\n\t\t\ttext,\n\t\t\tchildren,\n\t\t\tcancelLabel,\n\t\t\tconfirmLabel,\n\t\t\tt,\n\t\t\tnoActionBtns,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<Dialog open={this.state.active}>\n\t\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText id='alert-dialog-description'>\n\t\t\t\t\t\t{text}\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t{children}\n\t\t\t\t</DialogContent>\n\t\t\t\t{!noActionBtns && (\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.cancel} color='primary'>\n\t\t\t\t\t\t\t{cancelLabel || t('CANCEL')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button onClick={this.confirm} color='primary' autoFocus>\n\t\t\t\t\t\t\t{confirmLabel || t('OK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t)}\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n\nConfirm.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tcancelLabel: PropTypes.string,\n\tconfirmLabel: PropTypes.string,\n\ttitle: PropTypes.string.isRequired,\n\ttext: PropTypes.string,\n\tconfirm: PropTypes.func,\n\tcancel: PropTypes.func,\n\tvisible: PropTypes.bool,\n\tcalledOn: PropTypes.number,\n\tnoActionBtns: PropTypes.bool,\n}\n\nfunction mapStateToProps(state) {\n\tstate = state.memory\n\treturn {\n\t\tcancelLabel: state.confirm.data.cancelLabel,\n\t\tconfirmLabel: state.confirm.data.confirmLabel,\n\t\ttitle: state.confirm.data.title || '',\n\t\ttext: state.confirm.data.text || '',\n\t\tconfirm: state.confirm.onConfirm,\n\t\tcancel: state.confirm.onCancel,\n\t\tvisible: state.confirm.active || false,\n\t\tcalledOn: state.confirm.calledOn,\n\t\tnoActionBtns: state.confirm.noActionBtns,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(Confirm))\n","import React, { forwardRef } from 'react'\n// import PropTypes from 'prop-types'\nimport { withRouter } from 'react-router'\n\nexport const withReactRouterLink = Component => {\n\tclass Decorated extends React.Component {\n\t\tresolveToLocation = to => {\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\n\t\t\tconst href = this.props.history.createHref(path)\n\t\t\treturn href\n\t\t}\n\n\t\thandleClick = async event => {\n\t\t\tevent.preventDefault()\n\t\t\tevent.stopPropagation()\n\t\t\tconst { to, onClick } = this.props\n\n\t\t\tif (onClick && typeof onClick === 'function') {\n\t\t\t\tawait onClick()\n\t\t\t\tthis.props.history.push(to)\n\t\t\t} else {\n\t\t\t\tthis.props.history.push(to)\n\t\t\t}\n\t\t}\n\n\t\t// TODO: check if it works without infinite loops\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//   // const { to } = this.props;\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\n\t\t// }\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tforwardedRef,\n\t\t\t\tto,\n\t\t\t\tmatch,\n\t\t\t\tlocation,\n\t\t\t\thistory,\n\t\t\t\tstaticContext,\n\t\t\t\tonClick,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst toLocation = this.resolveToLocation(to)\n\n\t\t\treturn (\n\t\t\t\t<Component\n\t\t\t\t\tref={forwardedRef}\n\t\t\t\t\t{...rest}\n\t\t\t\t\thref={toLocation}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tconst WithRouter = withRouter(Decorated)\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithRouter {...props} forwardedRef={ref} />\n\t))\n}\n","import React from 'react'\nimport SvgIcon from '@material-ui/core/SvgIcon'\nimport pure from 'recompose/pure'\n\nexport default (path, displayName, viewBox = '') => {\n\tlet Icon = props => (\n\t\t<SvgIcon viewBox={viewBox} {...props}>\n\t\t\t{path}\n\t\t</SvgIcon>\n\t)\n\n\tIcon.displayName = displayName\n\tIcon = pure(Icon)\n\tIcon.muiName = 'SvgIcon'\n\n\treturn Icon\n}\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\n\t</g>,\n\n\t'Campaign',\n\t'0 0 26.12 17.37'\n)\n","import React from 'react'\nimport Link from '@material-ui/core/Link'\n\nconst getUrl = url => {\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\n\tif (url) {\n\t\turl = '//' + url\n\t}\n\n\treturn url\n}\n\nconst Anchor = ({ href, target, children, label, ...rest }) => {\n\tlet url = target && target === '_blank' ? getUrl(href) : href\n\treturn (\n\t\t<Link\n\t\t\tunderline='none'\n\t\t\tcolor='inherit'\n\t\t\tdraggable='false'\n\t\t\trel='noopener noreferrer'\n\t\t\t{...rest}\n\t\t\ttarget={target}\n\t\t\thref={url}\n\t\t\tstyle={{ wordBreak: 'break-all' }} // TODO: add it where needed only\n\t\t>\n\t\t\t{children || label}\n\t\t</Link>\n\t)\n}\n\nexport default Anchor\n","const drawerWidth = 250\n\nexport const styles = theme => {\n\treturn {\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t\tzIndex: 1,\n\t\t\toverflow: 'hidden',\n\t\t\tposition: 'relative',\n\t\t\tdisplay: 'flex',\n\t\t\tminHeight: '100vh',\n\t\t\twidth: '100%',\n\t\t},\n\t\tappBar: {\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\twidth: 'auto',\n\t\t\tposition: 'fixed',\n\t\t\t// marginLeft: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\n\t\t\t\tleft: drawerWidth,\n\t\t\t},\n\t\t},\n\t\tflex: {\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'row',\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t},\n\n\t\tflexRow: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tflexBasis: '100%',\n\t\t\tpaddingTop: theme.spacing(1),\n\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t'&:last-child': {\n\t\t\t\tpaddingRight: 240,\n\t\t\t\tpaddingTop: theme.spacing(1),\n\t\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t\tpaddingLeft: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttoolbarControls: {\n\t\t\tjustifyContent: 'flex-end',\n\t\t},\n\t\ttoolbarTitle: {\n\t\t\tjustifyContent: 'flex-start',\n\t\t},\n\t\tnavIconHide: {\n\t\t\tmarginRight: 10,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tdisplay: 'none',\n\t\t\t},\n\t\t},\n\t\ttoolbar: {\n\t\t\tflexFlow: 'wrap',\n\t\t\theight: 114,\n\t\t\t...theme.mixins.toolbar,\n\t\t},\n\t\tdrawerPaper: {\n\t\t\twidth: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tposition: 'fixed',\n\t\t\t},\n\t\t\tbackgroundColor: '#fff',\n\t\t},\n\t\tcontent: {\n\t\t\tflexGrow: 1,\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\tpadding: theme.spacing(3),\n\t\t\tpaddingTop: theme.spacing(5),\n\t\t\toverflow: 'auto',\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tmarginLeft: drawerWidth,\n\t\t\t},\n\t\t},\n\t\tcontentInner: {\n\t\t\tmaxWidth: 1600,\n\t\t\tmargin: 'auto',\n\t\t},\n\t\ticon: {\n\t\t\theight: 36,\n\t\t\twidth: 'auto',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport { push } from 'connected-react-router'\nimport { execute } from 'actions'\nimport { t } from 'selectors'\n\nconst sideIndex = {\n\tadvertiser: 0,\n\tpublisher: 1,\n\t'0': 'advertiser',\n\t'1': 'publisher',\n}\n\nconst handleChange = (ev, index) => {\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\n}\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.main\n\t\t\t: theme.palette.accentTwo.main\n\n\treturn {\n\t\t// TODO: keep it everywhere in case of components update\n\t\troot: {\n\t\t\tminWidth: 30,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: activeColor,\n\t\t\t},\n\t\t},\n\t\tselected: {\n\t\t\tcolor: activeColor,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: activeColor,\n\t\t\t},\n\t\t},\n\t\tindicator: {\n\t\t\tbackgroundColor: activeColor,\n\t\t},\n\t}\n})\n\nconst SideSwitch = ({ side, className }) => {\n\tconst classes = useStyles({ side })\n\treturn (\n\t\t<div className={className}>\n\t\t\t<Box bgcolor='background.paper' boxShadow={2}>\n\t\t\t\t<Tabs\n\t\t\t\t\tclasses={classes}\n\t\t\t\t\tvalue={sideIndex[side]}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t\tvariant='fullWidth'\n\t\t\t\t\taria-label='side select'\n\t\t\t\t>\n\t\t\t\t\t<Tab classes={classes} label={t('ADVERTISER')} />\n\t\t\t\t\t<Tab classes={classes} label={t('PUBLISHER')} />\n\t\t\t\t</Tabs>\n\t\t\t</Box>\n\t\t</div>\n\t)\n}\n\nexport default SideSwitch\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(27, 117, 188)'\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\n\t\t/>\n\t</g>,\n\t'AdexIcon',\n\t'0 0 185 72'\n)\n","import React from 'react'\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\n\nexport const InputLoading = ({ className, color = 'primary' }) => (\n\t<LinearProgress className={className} color={color} />\n)\n\nexport const LoadingSection = ({ loading, children }) => (\n\t<Box display='flex' flex='1' alignItems='center'>\n\t\t<Box>{children}</Box>\n\t\t<Box ml={2} mr={2}>\n\t\t\t{loading && <CircularProgress />}\n\t\t</Box>\n\t</Box>\n)\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\nimport classnames from 'classnames'\nimport packageJson from './../../../../package.json'\nimport Anchor from 'components/common/anchor/anchor'\nimport { styles } from './styles'\nimport SideSwitch from './SideSwitch'\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport DashboardIcon from '@material-ui/icons/Dashboard'\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport Box from '@material-ui/core/Box'\nimport ListIcon from '@material-ui/icons/List'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { LoadingSection } from 'components/common/spinners'\nimport {\n\tt,\n\tselectSide,\n\tselectLocation,\n\tselectAccountIdentityAddr,\n\tselectAccountStatsFormatted,\n\tselectMainToken,\n} from 'selectors'\n\nconst RRListItem = withReactRouterLink(ListItem)\nconst { ETH_SCAN_ADDR_HOST } = process.env\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.contrastText\n\t\t\t: theme.palette.accentTwo.contrastText\n\n\tconst activeBgColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.accentOne.main\n\t\t\t: theme.palette.accentTwo.main\n\n\treturn {\n\t\tnavigation: {\n\t\t\tbackgroundColor: theme.palette.background.paper,\n\t\t},\n\t\tsntPadding: {\n\t\t\tpaddingTop: 0,\n\t\t},\n\t\tnavListRoot: {\n\t\t\tcolor: theme.palette.text.secondary,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tnavList: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 80,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t},\n\t\tsideNavToolbar: {},\n\t\tversion: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tpadding: 10,\n\t\t\tpaddingLeft: 16,\n\t\t\tborderTopWidth: 1,\n\t\t\tborderTopColor: theme.palette.divider,\n\t\t\tborderTopStyle: 'solid',\n\t\t},\n\t\tactive: {\n\t\t\tcolor: activeColor,\n\t\t\tbackgroundColor: activeBgColor,\n\t\t\t'&:focus': {\n\t\t\t\tbackgroundColor: activeBgColor,\n\t\t\t},\n\t\t},\n\t\tadxLink: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\t'&:hover': {\n\t\t\t\tcolor: theme.palette.text.secondary,\n\t\t\t},\n\t\t},\n\t\tsideSwitch: {\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\n\t\t},\n\t}\n})\n\nconst useCommonStyles = makeStyles(styles)\n\nfunction SideNav(props) {\n\tconst side = useSelector(selectSide)\n\tconst identity = useSelector(selectAccountIdentityAddr)\n\tconst classes = useStyles({ side })\n\tconst commonClasses = useCommonStyles()\n\tconst routerLocation = useSelector(selectLocation)\n\tconst { symbol } = useSelector(selectMainToken)\n\n\t// TODO: test location\n\tconst location = routerLocation.pathname.split('/')[3]\n\tconst isAdvertiser = side === 'advertiser'\n\tconst items = isAdvertiser ? 'units' : 'slots'\n\tconst { availableIdentityBalanceMainToken } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\n\t\t<div className={classes.navigation}>\n\t\t\t<List\n\t\t\t\tclasses={{\n\t\t\t\t\tpadding: classes.sntPadding,\n\t\t\t\t\troot: classes.navListRoot,\n\t\t\t\t}}\n\t\t\t\tclassName={classes.navList}\n\t\t\t\tcomponent='nav'\n\t\t\t>\n\t\t\t\t<div>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tbgcolor='background.paper'\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tcommonClasses.toolbar,\n\t\t\t\t\t\t\tclasses.sideNavToolbar\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<AdexIconTxt className={commonClasses.icon} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceMainToken &&\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText>\n\t\t\t\t\t\t\t\t\t<Typography variant='h6' component='div' color='textPrimary'>\n\t\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceMainToken ||\n\t\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography variant='button' display='block' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<DashboardIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\n\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<CampaignIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\n\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: location === items })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<ListIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Anchor target='_blank' href={`${process.env.ADEX_HELP_URL}`}>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<HelpOutlineIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t[classes.active]: location === 'account',\n\t\t\t\t\t\t})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t</div>\n\t\t\t</List>\n\t\t\t<div className={classes.version}>\n\t\t\t\t<div className={classes.adxLink}>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdEx Network OÜ\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdEx (ADX) Token\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t\t<small> / </small>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdExCore\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref='https://github.com/AdExBlockchain/adex-dapp/blob/master/CHANGELOG.md'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tv.{packageJson.version}-beta\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default SideNav\n","import React, { useState } from 'react'\nimport Menu from '@material-ui/core/Menu'\nimport Button from '@material-ui/core/Button'\n\nconst ImgIcon = ({ src }) => {\n\treturn (\n\t\t<img\n\t\t\tsrc={src}\n\t\t\theight={36}\n\t\t\twidth='auto'\n\t\t\talt='logo'\n\t\t\tstyle={{ marginRight: 5 }}\n\t\t/>\n\t)\n}\n\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\n\tconst [active, setActive] = useState(false)\n\tconst [anchorEl, setAnchorEl] = useState(null)\n\tconst open = Boolean(anchorEl)\n\n\tconst handleButtonClick = () => {\n\t\tsetActive(!active)\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst handleMenu = event => {\n\t\tsetAnchorEl(event.currentTarget)\n\t}\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tstyle={btnStyle}\n\t\t\t\tonClick={handleMenu}\n\t\t\t\taria-owns={id}\n\t\t\t\taria-haspopup='true'\n\t\t\t>\n\t\t\t\t{leftIcon}\n\t\t\t\t<span\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmaxWidth: 150,\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</span>\n\t\t\t\t{rightIcon}\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\tid={id}\n\t\t\t\topen={open}\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t// anchorOrigin={{\n\t\t\t\t// \tvertical: 'top',\n\t\t\t\t// \thorizontal: 'right',\n\t\t\t\t// }}\n\t\t\t\t// transformOrigin={{\n\t\t\t\t// \tvertical: 'top',\n\t\t\t\t// \thorizontal: 'right',\n\t\t\t\t// }}\n\t\t\t\tonClick={handleButtonClick}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Menu>\n\t\t</>\n\t)\n}\n\nexport default ButtonMenu\n","import { AUTH_TYPES } from 'constants/misc'\nimport metamaskLogo from 'resources/metamask-logo.png'\nimport trezorLogo from 'resources/trezor-logo-h.png'\nimport ledgerLogo from 'resources/ledger_logo_header.png'\nimport demoLogo from 'resources/demo-logo.png'\n\nexport const getAuthLogo = authType => {\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\treturn metamaskLogo\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\treturn trezorLogo\n\t\tcase AUTH_TYPES.LEDGER.name:\n\t\t\treturn ledgerLogo\n\t\tcase AUTH_TYPES.DEMO.name:\n\t\t\treturn demoLogo\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\nimport Translate from 'components/translate/Translate'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\n// import ChangeLang from 'components/translate/ChangeLang'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport { logOut } from 'services/store-data/auth'\n\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport classnames from 'classnames'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport MenuIcon from '@material-ui/icons/Menu'\n\nimport { makeStyles } from '@material-ui/core/styles'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { selectNavTitle, selectAccount } from 'selectors'\nimport { styles } from './styles'\nimport { formatAddress } from 'helpers/formatters'\n\nconst RRMenuItem = withReactRouterLink(MenuItem)\nconst useStyles = makeStyles(styles)\n\nfunction TopNav({ handleDrawerToggle, side, t }) {\n\tconst classes = useStyles()\n\tconst navTitle = useSelector(selectNavTitle)\n\tconst account = useSelector(selectAccount)\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\n\tconst btnMenuLabel =\n\t\taccount.wallet.authType === 'demo'\n\t\t\t? t('DEMO_MODE')\n\t\t\t: account.email ||\n\t\t\t  formatAddress(account.wallet.address) ||\n\t\t\t  t('NOT_LOGGED')\n\n\treturn (\n\t\t<AppBar className={classes.appBar} color='default' position='sticky'>\n\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t<div className={classes.flexRow}>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\taria-label='open drawer'\n\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\tclassName={classnames(classes.navIconHide)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t{/* <AdexIconTxt\n              className={classes.icon}\n            /> */}\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarControls)}>\n\t\t\t\t\t\t{/* <Navigation type='horizontal' className={theme.rightNavigation}> */}\n\t\t\t\t\t\t{/* At the moment we use translations only for proper items properties display names */}\n\t\t\t\t\t\t{/* <ChangeLang /> */}\n\t\t\t\t\t\t<Jazzicon\n\t\t\t\t\t\t\tdiameter={30}\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ButtonMenu\n\t\t\t\t\t\t\tid='menu-appbar'\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\n\t\t\t\t\t\t\tactive={true}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RRMenuItem\n\t\t\t\t\t\t\t\tvalue='account'\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</RRMenuItem>\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tvalue='logout'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tlogOut()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</ButtonMenu>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.flexRow}>\n\t\t\t\t\t<div className={classnames(classes.flex, classes.toolbarTitle)}>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant='subtitle1'\n\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\tclassName={classes.flex}\n\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(navTitle)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n\nexport default Translate(TopNav)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\n// import IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport Translate from 'components/translate/Translate'\nimport { validations, helpers } from 'adex-models'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\n\nconst MAX_IMG_LOAD_TIME = 7000\nclass Img extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\timgSrc: null,\n\t\t\tactive: false,\n\t\t\tvideoSrc: null,\n\t\t}\n\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\n\t\tthis.loadTimeout = null\n\t}\n\n\tipfsSrc = src => {\n\t\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\n\t\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\n\t\t}\n\n\t\treturn src\n\t}\n\n\thandleToggle = ev => {\n\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\tev && ev.preventDefault && ev.preventDefault()\n\t\tlet active = this.state.active\n\t\tthis.setState({ active: !active })\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\tif (isVideo && !allowVideo) {\n\t\t\treturn this.setState({\n\t\t\t\timgSrc: VIDEO_IMAGE,\n\t\t\t})\n\t\t}\n\n\t\tif (isVideo) {\n\t\t\tthis.displayVideo = document.createElement('video')\n\t\t\tthis.setDisplayVideo({\n\t\t\t\timage: this.ipfsSrc(src),\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t} else {\n\t\t\tthis.displayImage = new Image()\n\t\t\tthis.setDisplayImage({\n\t\t\t\timage: this.ipfsSrc(src),\n\t\t\t\tfallback: this.ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps = nextProps => {\n\t\tconst nextSrc = this.ipfsSrc(nextProps.src)\n\t\tconst thisSrc = this.ipfsSrc(this.props.src)\n\t\tconst nextFallback = this.ipfsSrc(nextProps.fallbackSrc)\n\t\tconst { mediaMime } = nextProps\n\n\t\tif (nextSrc !== thisSrc) {\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\t\tif (isVideo) {\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\n\t\t\t\tthis.setDisplayVideo({\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\n\t\t\t\tthis.setDisplayImage({\n\t\t\t\t\timage: this.ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: this.ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.clearLoadTimeout()\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\t\t\tthis.displayImage = null\n\t\t}\n\t}\n\n\tclearLoadTimeout = () => {\n\t\tif (this.loadTimeout) {\n\t\t\tclearTimeout(this.loadTimeout)\n\t\t\tthis.loadTimeout = null\n\t\t}\n\t}\n\n\tonFail = fallback => {\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.displayImage.src = fallback\n\t\t}\n\n\t\tthis.clearLoadTimeout()\n\n\t\tthis.setState({\n\t\t\timgSrc: fallback || null,\n\t\t})\n\t}\n\n\tsetDisplayImage = ({ image, fallback }) => {\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\n\t\t\tthis,\n\t\t\tfallback\n\t\t)\n\n\t\tthis.displayImage.onload = () => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\timgSrc: image,\n\t\t\t})\n\t\t}\n\n\t\tthis.displayImage.src = image\n\t}\n\n\tsetDisplayVideo = ({ image, fallback }) => {\n\t\tthis.displayVideo.src = image\n\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\tvideoSrc: image,\n\t\t\t})\n\t\t}\n\t}\n\n\tfullScreenBtn() {\n\t\tconst { classes } = this.props\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Fab\n\t\t\t\t\tmini\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.handleToggle()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FullscreenIcon />\n\t\t\t\t</Fab>\n\t\t\t\t{this.renderFullscreenDialog()}\n\t\t\t</span>\n\t\t)\n\t}\n\n\trenderFullscreenDialog() {\n\t\tconst { t, alt, classes, type } = this.props\n\t\tconst { active, imgSrc, videoSrc } = this.state\n\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={active}\n\t\t\t\ttype={type || 'normal'}\n\t\t\t\tmaxWidth={false}\n\t\t\t\tonClose={this.handleToggle}\n\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t>\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\n\t\t\t\t\t{imgSrc ? (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\tcontrols\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t></video>\n\t\t\t\t\t)}\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\n\t\t\t\t\t\t{t('CLOSE')}\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\talt,\n\t\t\tallowFullscreen,\n\t\t\tclassName,\n\t\t\tclasses,\n\t\t\tfullScreenOnClick,\n\t\t} = this.props\n\t\tconst { imgSrc, videoSrc } = this.state\n\t\treturn imgSrc || videoSrc ? (\n\t\t\t<div\n\t\t\t\tclassName={classnames(classes.imgParent, className, classes.wrapper)}\n\t\t\t>\n\t\t\t\t{!!imgSrc ? (\n\t\t\t\t\t<img\n\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\tsrc={this.state.imgSrc}\n\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\tonClick={fullScreenOnClick && this.handleToggle}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<video\n\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, className, classes.img)}\n\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\tmuted\n\t\t\t\t\t\tloop\n\t\t\t\t\t\tonClick={fullScreenOnClick && this.handleToggle}\n\t\t\t\t\t></video>\n\t\t\t\t)}\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\n\t\t\t</div>\n\t\t) : (\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\n\t\t\t\t<span className={classes.circular}>\n\t\t\t\t\t<CircularProgress />\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImg.propTypes = {\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\tfallbackSrc: PropTypes.string,\n\talt: PropTypes.string,\n\tallowFullscreen: PropTypes.bool,\n\tfullScreenOnClick: PropTypes.bool,\n\tmediaMime: PropTypes.string,\n}\n\nexport default Translate(withStyles(styles)(Img))\n","export const styles = theme => ({\n\timgLoading: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: '100%',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\timgParent: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: 'max-content',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\tcircular: {\n\t\tposition: 'relative',\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\n\t\tleft: 'calc(50% - 20px)',\n\t\tdisplay: 'inline-block',\n\t},\n\tfullscreenIcon: {\n\t\tposition: 'absolute',\n\t\ttop: theme.spacing(1),\n\t\tright: theme.spacing(1),\n\t\tcursor: 'pointer',\n\t\twidth: '30px',\n\t\theight: '30px',\n\t\tminHeight: '24px',\n\t},\n\tdialog: {\n\t\t'@media(max-width:744px)': {\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t},\n\t\t'@media(max-height:823px)': {\n\t\t\tminHeight: 'auto',\n\t\t},\n\t},\n\tdialogImageParent: {\n\t\t'@media(max-width:1080px)': {\n\t\t\tmaxWidth: '80vw',\n\t\t\tmaxHeight: '100vw',\n\t\t\tdisplay: 'block',\n\t\t\tmargin: 'auto',\n\t\t},\n\t\t'@media(max-width:744px)': {\n\t\t\tpaddingLeft: 0,\n\t\t\tpaddingRight: 0,\n\t\t},\n\t},\n\tdialogImage: {\n\t\theight: 'auto',\n\t\tmaxWidth: '80vw',\n\t},\n\timg: {\n\t\twidth: 'auto',\n\t\theight: 'auto',\n\t},\n\twrapper: {\n\t\theight: 'max-content',\n\t\twidth: 'max-content',\n\t},\n})\n","/**\n * @param {String} objUrl - Image blob url URL.createObjectURL\n * @param {Object} pixelCrop - pixelCrop Object provided by react-image-crop\n * @param {String} fileName - Name of the returned file in Promise\n */\nexport const getCroppedImgUrl = ({ objUrl, pixelCrop, fileName, size }) => {\n\t// TODO: Validate pixelCrop and size\n\tconst cropCanvas = document.createElement('canvas')\n\tconst scaleCanvas = document.createElement('canvas')\n\n\tconst img = new Image()\n\timg.crossOrigin = 'Anonymous' // For ipfs URL\n\timg.src = objUrl\n\n\t// As a blob\n\treturn new Promise((resolve, reject) => {\n\t\timg.onload = () => {\n\t\t\tconst width = img.width\n\t\t\tconst height = img.height\n\n\t\t\t// pixelCrop come in %\n\t\t\tconst crop = {\n\t\t\t\tx: Math.round(width * (pixelCrop.x / 100)),\n\t\t\t\ty: Math.round(height * (pixelCrop.y / 100)),\n\t\t\t\twidth: Math.round(width * (pixelCrop.width / 100)),\n\t\t\t\theight: Math.round(height * (pixelCrop.height / 100)),\n\t\t\t}\n\n\t\t\tcropCanvas.width = crop.width\n\t\t\tcropCanvas.height = crop.height\n\t\t\tconst cctx = cropCanvas.getContext('2d')\n\n\t\t\tcctx.drawImage(\n\t\t\t\timg,\n\t\t\t\tcrop.x,\n\t\t\t\tcrop.y,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height\n\t\t\t)\n\n\t\t\tscaleCanvas.width = size.width\n\t\t\tscaleCanvas.height = size.height\n\n\t\t\tconst sctx = scaleCanvas.getContext('2d')\n\n\t\t\tsctx.drawImage(\n\t\t\t\tcropCanvas,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tcrop.width,\n\t\t\t\tcrop.height,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tsize.width,\n\t\t\t\tsize.height\n\t\t\t)\n\n\t\t\tscaleCanvas.toBlob(file => {\n\t\t\t\tif (!file) {\n\t\t\t\t\treject('Error cropping file')\n\t\t\t\t}\n\t\t\t\tfile.name = fileName\n\t\t\t\tresolve(URL.createObjectURL(file))\n\t\t\t}, 'image/jpeg')\n\t\t}\n\t})\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Img from 'components/common/img/Img'\n// import debounce from 'debounce'\nimport Dropzone from 'react-dropzone'\nimport Translate from 'components/translate/Translate'\nimport Button from '@material-ui/core/Button'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport ReactCrop from 'react-image-crop'\nimport { getCroppedImgUrl } from 'services/images/crop'\nimport CropIcon from '@material-ui/icons/Crop'\nimport ClearIcon from '@material-ui/icons/Clear'\nimport SaveIcon from '@material-ui/icons/Save'\nimport FileUploadIcon from '@material-ui/icons/CloudUpload'\nimport Grid from '@material-ui/core/Grid'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nclass ImgForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst { size, imgSrc, mime } = props\n\t\tconst aspect = size ? size.width / size.height : undefined\n\n\t\tthis.state = {\n\t\t\timgSrc: imgSrc || '',\n\t\t\tmime: mime || '',\n\t\t\timgName: '',\n\t\t\tcropMode: false,\n\t\t\tcrop: { aspect: aspect },\n\t\t}\n\t}\n\n\tonDrop = (acceptedFiles, rejectedFiles) => {\n\t\tconst that = this\n\t\tconst file = acceptedFiles[0]\n\t\tif (!file) return\n\t\tconst objectUrl = URL.createObjectURL(file)\n\n\t\tthat.setState({\n\t\t\timgSrc: objectUrl,\n\t\t\timgName: file.name,\n\t\t\tmime: file.type,\n\t\t})\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\n\t\tthis.props.onChange({\n\t\t\ttempUrl: objectUrl,\n\t\t\tmime: file.type,\n\t\t})\n\t}\n\n\tonRemove = e => {\n\t\tthis.preventBubbling(e)\n\n\t\tconst { imgSrc } = this.state\n\n\t\tif (imgSrc) {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tthis.setState({ imgSrc: '', imgName: '' })\n\t\t\tthis.props.onChange({ tempUrl: null, mime: null })\n\t\t}\n\t}\n\n\tonCropChange = crop => {\n\t\tthis.setState({ crop })\n\t}\n\n\tsaveCropped = () => {\n\t\tconst { imgSrc, crop, mime, imgName } = this.state\n\t\tconst { onChange, size } = this.props\n\t\tgetCroppedImgUrl({\n\t\t\tobjUrl: imgSrc,\n\t\t\tpixelCrop: crop,\n\t\t\tfileName: `cropped-${imgName}`,\n\t\t\tsize,\n\t\t}).then(croppedBlob => {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tthis.setState({ imgSrc: croppedBlob, cropMode: false })\n\t\t\tonChange({\n\t\t\t\ttempUrl: croppedBlob,\n\t\t\t\tmime,\n\t\t\t})\n\t\t})\n\t}\n\n\tpreventBubbling = e => {\n\t\tif (e.stopPropagation) {\n\t\t\te.stopPropagation()\n\t\t}\n\t\tif (e.nativeEvent) {\n\t\t\te.nativeEvent.stopImmediatePropagation()\n\t\t}\n\t}\n\n\tUploadInfo = () => {\n\t\tconst { t, classes, size, errMsg } = this.props\n\t\tconst { imgSrc, mime } = this.state\n\t\treturn (\n\t\t\t<div className={classes.uploadInfo}>\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\n\t\t\t\t\t<div className={classes.uploadActions}>\n\t\t\t\t\t\t{/* TEMP: make size required */}\n\t\t\t\t\t\t{!!size && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\tthis.preventBubbling(e)\n\t\t\t\t\t\t\t\t\tthis.setState({ cropMode: true })\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={this.onRemove}\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<FileUploadIcon />\n\t\t\t\t)}\n\t\t\t\t<div>\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\n\t\t\t\t\t\t{errMsg}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t// TODO: CLEAR IMG BLOB!!!!\n\trender() {\n\t\tconst { t, classes, label, additionalInfo } = this.props\n\t\tconst { crop, cropMode, imgName, imgSrc, mime } = this.state\n\n\t\tconst videoSrc = isVideoMedia(mime)\n\t\treturn (\n\t\t\t<div className={classes.imgForm}>\n\t\t\t\t<AppBar\n\t\t\t\t\tposition='static'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\troot: classes.header,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t{imgSrc && imgName ? (\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{label || 'Image'}: {imgName}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span> {label || 'Upload image'} </span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<div>\n\t\t\t\t\t{cropMode ? (\n\t\t\t\t\t\t<div className={classes.dropzone} onClick={this.preventBubbling}>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t<ReactCrop\n\t\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: 320 }}\n\t\t\t\t\t\t\t\t\t\timageStyle={{\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '320px',\n\t\t\t\t\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\n\t\t\t\t\t\t\t\t\t\tcrop={crop}\n\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={this.onCropChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\tonClick={this.saveCropped}\n\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ cropMode: false })}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Dropzone\n\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\n\t\t\t\t\t\t\tonDrop={this.onDrop}\n\t\t\t\t\t\t\tclassName={classes.dropzone}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t{videoSrc ? (\n\t\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\t\t\t\t\talt={'name'}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.imgDropzonePreview}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t<this.UploadInfo />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Dropzone>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> {additionalInfo} </small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nImgForm.propTypes = {\n\timgSrc: PropTypes.string,\n\tlabel: PropTypes.string,\n\tsize: PropTypes.object,\n}\n\nexport default Translate(withStyles(styles)(ImgForm))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\theader: {\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tdropzone: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t\tborder: `2px dashed ${theme.palette.grey[500]}`,\n\t\t\tbackground: theme.palette.background.default,\n\t\t\tpadding: 10,\n\t\t\tcursor: 'pointer',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timgDropzonePreview: {\n\t\t\tmaxHeight: 320,\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t},\n\t\tdropzoneBtn: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tleftIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tuploadActions: {\n\t\t\tmarginTop: spacing,\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\n\nexport default function ValidImageHoc(Decorated) {\n\tclass ValidImage extends Component {\n\t\tvalidate = ({\n\t\t\tpropsName,\n\t\t\twidthTarget,\n\t\t\theightTarget,\n\t\t\tmediaWidth,\n\t\t\tmediaHeight,\n\t\t\tmsg,\n\t\t\texact,\n\t\t\trequired,\n\t\t\tonChange,\n\t\t\tmime,\n\t\t\ttempUrl,\n\t\t}) => {\n\t\t\tlet isValid = true\n\n\t\t\tif (exact) {\n\t\t\t\tisValid = checkExactishAspect(\n\t\t\t\t\twidthTarget,\n\t\t\t\t\tmediaWidth,\n\t\t\t\t\theightTarget,\n\t\t\t\t\tmediaHeight\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\n\t\t\t\tisValid = false\n\t\t\t}\n\n\t\t\tconst masgArgs = [widthTarget, heightTarget, 'px']\n\n\t\t\tthis.props.validate(propsName, {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: msg, args: masgArgs },\n\t\t\t\tdirty: true,\n\t\t\t})\n\n\t\t\tconst resMedia = {\n\t\t\t\twidth: mediaWidth,\n\t\t\t\theight: mediaHeight,\n\t\t\t\tmime,\n\t\t\t\ttempUrl,\n\t\t\t}\n\n\t\t\tif (typeof onChange === 'function') {\n\t\t\t\tonChange(propsName, resMedia)\n\t\t\t}\n\t\t}\n\n\t\tvalidateMedia = async (\n\t\t\t{\n\t\t\t\tpropsName,\n\t\t\t\twidthTarget,\n\t\t\t\theightTarget,\n\t\t\t\tmsg,\n\t\t\t\texact,\n\t\t\t\trequired,\n\t\t\t\tonChange,\n\t\t\t} = {},\n\t\t\tmedia\n\t\t) => {\n\t\t\tif (!required && !media.tempUrl && onChange) {\n\t\t\t\tthis.props.validate(propsName, {\n\t\t\t\t\tisValid: true,\n\t\t\t\t\terr: { msg: msg, args: [] },\n\t\t\t\t\tdirty: true,\n\t\t\t\t})\n\t\t\t\t// TODO: fix this\n\t\t\t\tonChange(propsName, media)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (!media.mime || !media.tempUrl) {\n\t\t\t\tthis.props.validate(propsName, {\n\t\t\t\t\tisValid: false,\n\t\t\t\t\tdirty: true,\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\n\n\t\t\tthis.validate({\n\t\t\t\tpropsName,\n\t\t\t\twidthTarget,\n\t\t\t\theightTarget,\n\t\t\t\tmediaWidth: size.width,\n\t\t\t\tmediaHeight: size.height,\n\t\t\t\tmsg,\n\t\t\t\texact,\n\t\t\t\trequired,\n\t\t\t\tonChange,\n\t\t\t\tmime: media.mime,\n\t\t\t\ttempUrl: media.tempUrl,\n\t\t\t})\n\t\t}\n\n\t\trender() {\n\t\t\tconst props = this.props\n\t\t\treturn <Decorated {...props} validateMedia={this.validateMedia} />\n\t\t}\n\t}\n\n\tValidImage.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tvalidations: memory.validations[props.validateId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidImage))\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport PropTypes from 'prop-types'\nimport { execute, validate } from 'actions'\nimport { selectValidationsById } from 'selectors'\n\nexport default function ValidationHoc(Decorated) {\n\tconst ValidItem = props => {\n\t\tconst validations =\n\t\t\tuseSelector(state => selectValidationsById(state, props.validateId)) || {}\n\n\t\tconst makeValidation = (\n\t\t\tkey,\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n\t\t) => {\n\t\t\tconst { validateId } = props\n\t\t\texecute(validate(validateId, key, { isValid, err, dirty, removeAll }))\n\t\t}\n\n\t\treturn (\n\t\t\t<Decorated\n\t\t\t\t{...props}\n\t\t\t\tvalidate={makeValidation}\n\t\t\t\tinvalidFields={validations}\n\t\t\t/>\n\t\t)\n\t}\n\n\tValidItem.propTypes = {\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\treturn ValidItem\n}\n","export const styles = theme => {\n\t// const spacing = theme.spacing(3)\n\treturn {}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport { AVATAR_MAX_WIDTH, AVATAR_MAX_HEIGHT } from 'constants/misc'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nexport class ImgDialog extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tvalues: {},\n\t\t}\n\t}\n\n\thandleChange = (name, value) => {\n\t\tlet newValues = { ...this.state.values }\n\t\tnewValues[name] = value\n\t\tthis.setState({ values: newValues })\n\t}\n\n\tonOk = () => {\n\t\tconst vals = this.state.values\n\t\tObject.keys(vals).forEach(key => {\n\t\t\tthis.props.onChangeReady(key, vals[key])\n\t\t})\n\t\tthis.props.handleToggle()\n\t}\n\n\trender() {\n\t\tlet t = () => {}\n\t\tlet validations = this.props.invalidFields || {}\n\t\tlet errImg = validations[this.props.imgPropName]\n\t\tlet width = this.props.width || AVATAR_MAX_WIDTH\n\t\tlet height = this.props.height || AVATAR_MAX_HEIGHT\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Dialog\n\t\t\t\t\topen={this.props.active}\n\t\t\t\t\t// onEscKeyDown={this.props.handleToggle}\n\t\t\t\t\t// onOverlayClick={this.props.handleToggle}\n\t\t\t\t\ttitle={this.props.title}\n\t\t\t\t\ttype={this.props.type || 'normal'}\n\t\t\t\t\t// className={theme[ItemTypesNames[this.props.itemType]]}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle>\n\t\t\t\t\t\t<IconButton onClick={this.props.handleToggle}>\n\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t{this.props.t(this.props.title)}\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\tlabel={t(this.props.imgLabel)}\n\t\t\t\t\t\t\timgSrc={this.props.imgSrc || ''}\n\t\t\t\t\t\t\tonChange={this.props.validateMedia.bind(this, {\n\t\t\t\t\t\t\t\tpropsName: this.props.imgPropName,\n\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\tmsg: this.props.errMsg,\n\t\t\t\t\t\t\t\texact: this.props.exact,\n\t\t\t\t\t\t\t\trequired: this.props.required,\n\t\t\t\t\t\t\t\tonChange: this.handleChange,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tadditionalInfo={t(this.props.additionalInfo)}\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\tsize={{ width: width, height: height }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={this.props.handleToggle} color='primary'>\n\t\t\t\t\t\t\t{'Cancel'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={this.onOk}\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!!(this.props.invalidFields || {})[this.props.imgPropName]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{'Ok'}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImgDialog.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tlet persist = state.persist\n\t// let memory = state.memory\n\treturn {\n\t\taccount: persist.account,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ValidItemHoc(ValidImageHoc(withStyles(styles)(ImgDialog))))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\n// import classnames from 'classnames'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Fab from '@material-ui/core/Fab'\nimport CheckIcon from '@material-ui/icons/Check'\nimport SaveIcon from '@material-ui/icons/Save'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\n// NOTE: Separate component to track the validations and spinner to avoid rerender of item top level components\nclass SaveBtn extends Component {\n\trender() {\n\t\tlet {\n\t\t\tspinner,\n\t\t\tclasses,\n\t\t\tsuccess,\n\t\t\tdirtyProps,\n\t\t\tsave,\n\t\t\tvalidations,\n\t\t\tvalidationId,\n\t\t\tdisabled,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.position}>\n\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t<Fab\n\t\t\t\t\t\tfabButton\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t// className={buttonClassname}\n\t\t\t\t\t\tonClick={() => save()}\n\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\tdisabled ||\n\t\t\t\t\t\t\tspinner ||\n\t\t\t\t\t\t\t!dirtyProps.length ||\n\t\t\t\t\t\t\t!!Object.keys(validations[validationId] || {}).length\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// {...other}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/*TODO: Success */}\n\t\t\t\t\t\t{success ? <CheckIcon /> : <SaveIcon />}\n\t\t\t\t\t</Fab>\n\t\t\t\t\t{!!spinner && (\n\t\t\t\t\t\t<CircularProgress size={68} className={classes.fabProgress} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSaveBtn.propTypes = {\n\tspinnerId: PropTypes.string,\n\tvalidationId: PropTypes.string,\n\titemId: PropTypes.string,\n\tvalidations: PropTypes.object,\n\tdisabled: PropTypes.bool,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\treturn {\n\t\tspinner: memory.spinners[props.spinnerId],\n\t\tvalidations: memory.validations,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(withStyles(styles)(SaveBtn)))\n","import color from '@material-ui/core/colors/purple'\n\nexport const styles = theme => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t},\n\twrapper: {\n\t\tposition: 'relative',\n\t},\n\tbuttonSuccess: {\n\t\tbackgroundColor: color[500],\n\t\t'&:hover': {\n\t\t\tbackgroundColor: color[700],\n\t\t},\n\t},\n\tfabProgress: {\n\t\tcolor: color[500],\n\t\tposition: 'absolute',\n\t\ttop: -6,\n\t\tleft: -6,\n\t\tzIndex: 1,\n\t},\n\tbuttonProgress: {\n\t\tcolor: color[500],\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tposition: {\n\t\tposition: 'fixed',\n\t\ttop: 86,\n\t\tright: 40,\n\t\tzIndex: theme.zIndex.appBar,\n\t},\n})\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\twidth: '100%',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\tbuttonLeft: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\ttextField: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\ttop: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflexWrap: 'wrap',\n\t\t\tmaxWidth: '70%',\n\t\t},\n\t\tchangesLine: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\talignItems: 'center',\n\t\t\tcolor: theme.palette.secondary.main,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tchangeChip: {\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: 0,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: spacing,\n\t\t\tright: spacing,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport IMG_404_1 from 'resources/404-no.png'\nimport IMG_404_2 from 'resources/404-yes.png'\nimport Img from 'components/common/img/Img'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport Translate from 'components/translate/Translate'\nimport { styles } from './styles'\nimport { t } from 'selectors'\n\nconst RRButton = withReactRouterLink(Button)\n\nconst G404 = ({ size }) => (\n\t<Grid item xs={size}>\n\t\t<Typography\n\t\t\tinline\n\t\t\tvariant={`h${size}`}\n\t\t\tstyle={{ textTransform: 'uppercase' }}\n\t\t>\n\t\t\t{t('404')}\n\t\t</Typography>\n\t</Grid>\n)\n\nclass PageNotFound extends React.Component {\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\ttitle,\n\t\t\tsubtitle,\n\t\t\tgoToTxt,\n\t\t\tgoToPath,\n\t\t\tskipGoToButton,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.wrapper}>\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3' align='center'>\n\t\t\t\t\t\t\t{t(title || '404')}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t{subtitle && (\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\n\t\t\t\t\t\t\t\t{t(subtitle)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<G404 size={3} />\n\t\t\t\t\t<G404 size={4} />\n\t\t\t\t\t<G404 size={2} />\n\t\t\t\t\t<G404 size={1} />\n\t\t\t\t\t<G404 size={5} />\n\t\t\t\t\t<G404 size={3} />\n\t\t\t\t\t<G404 size={2} />\n\n\t\t\t\t\t<Grid item xs={5} sm={3}>\n\t\t\t\t\t\t<Img src={IMG_404_1} alt={'no'} className={classes.img} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={9}>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography inline className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={5} sm={3}>\n\t\t\t\t\t\t<Img src={IMG_404_2} alt={'yes'} className={classes.img} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={9}>\n\t\t\t\t\t\t{!skipGoToButton && (\n\t\t\t\t\t\t\t<RRButton\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\n\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\n\t\t\t\t\t\t\t</RRButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nPageNotFound.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tgoToTxt: PropTypes.string,\n\tgoToPath: PropTypes.string,\n\tskipGoToButton: PropTypes.bool,\n}\n\nexport default Translate(withStyles(styles)(PageNotFound))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\twrapper: {\n\t\t\tmargin: `${spacing * 2}px auto`,\n\t\t\tmaxWidth: 1000,\n\t\t},\n\t\timg: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Grid from '@material-ui/core/Grid'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport EditIcon from '@material-ui/icons/Edit'\nimport ImgDialog from 'components/dashboard/containers/ImgDialog'\nimport { schemas, Joi } from 'adex-models'\nimport classnames from 'classnames'\nimport { Prompt } from 'react-router'\nimport Translate from 'components/translate/Translate'\nimport { items as ItemsConstants } from 'adex-constants'\nimport Img from 'components/common/img/Img'\nimport SaveBtn from 'components/dashboard/containers/SaveBtn'\nimport { withStyles } from '@material-ui/core/styles'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport FormControl from '@material-ui/core/FormControl'\nimport Paper from '@material-ui/core/Paper'\nimport InfoOutlineIcon from '@material-ui/icons/Info'\nimport Chip from '@material-ui/core/Chip'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport { styles } from './styles'\nimport { validName } from 'helpers/validators'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport { selectSide } from 'selectors'\n\nconst { adSlotPut, adUnitPut, campaignPut } = schemas\nconst { AdSizesByValue } = ItemsConstants\n\nexport default function ItemHoc(Decorated) {\n\tclass Item extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\t\t\tthis.save = this.save.bind(this)\n\t\t\tthis.state = {\n\t\t\t\tactiveFields: {},\n\t\t\t\titem: null,\n\t\t\t\tinitialItemState: {},\n\t\t\t\tdirtyProps: [],\n\t\t\t\teditImg: false,\n\t\t\t\t_activeInput: null,\n\t\t\t}\n\t\t}\n\n\t\tupdateNav = (item = {}) => {\n\t\t\tconst { actions, t, itemType } = this.props\n\t\t\tactions.updateNav(\n\t\t\t\t'navTitle',\n\t\t\t\tt(itemType, { isProp: true }) + ' > ' + item.title || ''\n\t\t\t)\n\t\t}\n\n\t\tcomponentWillMount() {\n\t\t\tconst { item, matchId, objModel } = this.props\n\n\t\t\tif (!item) {\n\t\t\t\tthis.updateNav({ title: matchId })\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst initialItemState = new objModel(item)\n\n\t\t\tthis.setState({ item: { ...item }, initialItemState: initialItemState })\n\t\t\tthis.updateNav(initialItemState)\n\t\t}\n\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\n\t\t//     return diffProps || diffState\n\t\t// }\n\n\t\tcomponentWillReceiveProps(nextProps, nextState) {\n\t\t\tconst { objModel } = this.props\n\t\t\tconst { item } = this.state\n\t\t\tlet currentItemInst = new objModel(item || {})\n\t\t\t// Assume that the this.props.match.params.itemId can not be changed without remount of the component\n\t\t\t// TODO: check the above\n\t\t\tlet nextItem = nextProps.item\n\t\t\tlet nexItemInst = new objModel(nextItem || {})\n\n\t\t\tif (currentItemInst.modifiedOn !== nexItemInst.modifiedOn) {\n\t\t\t\t// if (\n\t\t\t\t// \tJSON.stringify(currentItemInst.plainObj()) !==\n\t\t\t\t// \tJSON.stringify(nexItemInst.plainObj())\n\t\t\t\t// ) {\n\t\t\t\tthis.setState({\n\t\t\t\t\titem: nexItemInst.plainObj(),\n\t\t\t\t\tinitialItemState: nexItemInst,\n\t\t\t\t\tactiveFields: {},\n\t\t\t\t\tdirtyProps: [],\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.updateNav(nexItemInst)\n\t\t}\n\n\t\tcomponentWillUnmount() {\n\t\t\tif (this.state.item) {\n\t\t\t\tthis.props.actions.updateSpinner('update' + this.state.item.id, false)\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (name, value) => {\n\t\t\tconst { objModel } = this.props\n\t\t\tconst { item, dirtyProps } = this.state\n\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[name] = value\n\n\t\t\tconst dp = dirtyProps.slice(0)\n\n\t\t\tif (dp.indexOf(name) < 0) {\n\t\t\t\tdp.push(name)\n\t\t\t}\n\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\n\t\t}\n\n\t\treturnPropToInitialState = propName => {\n\t\t\tconst { objModel, actions } = this.props\n\t\t\tconst { dirtyProps, initialItemState, item } = this.state\n\t\t\tconst initialItemStateValue = initialItemState[propName]\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[propName] = initialItemStateValue\n\n\t\t\tconst dp = dirtyProps.filter(dp => {\n\t\t\t\treturn dp !== propName\n\t\t\t})\n\n\t\t\tthis.setState({ item: newItem.plainObj(), dirtyProps: dp })\n\t\t\t// TEMP fix, we assume that the initial values are validated\n\t\t\tactions.resetValidationErrors(item.id, propName)\n\t\t}\n\n\t\tsetActiveFields = (field, value) => {\n\t\t\tlet newActiveFields = { ...this.state.activeFields }\n\t\t\tnewActiveFields[field] = value\n\t\t\tthis.setState({ activeFields: newActiveFields })\n\t\t}\n\n\t\t//TODO: Do not save if not dirty!\n\t\tsave = () => {\n\t\t\tconst { itemType, spinner, actions } = this.props\n\t\t\tconst { item, dirtyProps } = this.state\n\n\t\t\tif (dirtyProps.length && !spinner) {\n\t\t\t\tactions.updateItem({\n\t\t\t\t\titemType,\n\t\t\t\t\titem,\n\t\t\t\t})\n\t\t\t\tthis.setState({ dirtyProps: [] })\n\t\t\t}\n\t\t}\n\n\t\tisDirtyProp(prop) {\n\t\t\treturn this.state.item.dirtyProps.indexOf(prop) > -1\n\t\t}\n\n\t\thandleToggle = () => {\n\t\t\tconst isDemo = this.props.account._authType === 'demo'\n\n\t\t\tif (isDemo) return\n\n\t\t\tlet active = this.state.editImg\n\t\t\tthis.setState({ editImg: !active })\n\t\t}\n\n\t\tisNameValid(name) {\n\t\t\tconst { msg } = validName(name)\n\t\t\treturn !msg\n\t\t}\n\n\t\tvalidateTitle(name, dirty, errMsg) {\n\t\t\tconst { itemType, validate } = this.props\n\t\t\tlet schema = null\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tschema = adSlotPut.title\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tschema = adUnitPut.title\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tschema = campaignPut.title\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\n\t\t\tconst result = Joi.validate(name, schema)\n\t\t\tvalidate('title', {\n\t\t\t\tisValid: !result.error,\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t}\n\n\t\tvalidateDescription(name, dirty, errMsg) {\n\t\t\tconst { itemType, validate } = this.props\n\t\t\tlet schema = null\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tschema = adSlotPut.description\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tschema = adUnitPut.description\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t\tconst result = Joi.validate(name, schema)\n\t\t\tvalidate('description', {\n\t\t\t\tisValid: !result.error,\n\t\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\t\tdirty: dirty,\n\t\t\t})\n\t\t}\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tvalidations,\n\t\t\t\tclasses,\n\t\t\t\tt,\n\t\t\t\taccount,\n\t\t\t\titemType,\n\t\t\t\tobjModel,\n\t\t\t\tmatchId,\n\t\t\t\tside,\n\t\t\t\tinvalidFields,\n\t\t\t\tvalidateId,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst propsItem = this.props.item\n\n\t\t\tif (!propsItem) {\n\t\t\t\treturn (\n\t\t\t\t\t<PageNotFound\n\t\t\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\n\t\t\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\n\t\t\t\t\t\t\targs: [itemType.toUpperCase(), matchId],\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tgoToPath={`/dashboard/${side}`}\n\t\t\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t\t/*\n\t\t\t * NOTE: using instance of the item, the instance is passes to the Unit, Slot, Channel and Campaign components,\n\t\t\t * in this case there is no need to make instance inside them\n\t\t\t */\n\n\t\t\tconst isDemo = account._authType === 'demo'\n\t\t\tconst item = new objModel(this.state.item || {})\n\t\t\tlet canEdit = itemType === 'AdSlot'\n\t\t\tlet imgSrc = item.temp.tempUrl || item.mediaUrl || item.fallbackMediaUrl\n\n\t\t\tconst titleErr = invalidFields['title']\n\t\t\tconst descriptionErr = invalidFields['description']\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Prompt\n\t\t\t\t\t\twhen={!!this.state.dirtyProps.length}\n\t\t\t\t\t\tmessage={t('UNSAVED_CHANGES_ALERT')}\n\t\t\t\t\t/>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\terror={!!titleErr && !!titleErr.errMsg}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<InputLabel>{t('title', { isProp: true })}</InputLabel>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tname={t('title', { isProp: true })}\n\t\t\t\t\t\t\t\tvalue={item.title}\n\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\tthis.validateTitle(ev.target.value, true)\n\t\t\t\t\t\t\t\t\tthis.handleChange('title', ev.target.value)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tmaxLength={1024}\n\t\t\t\t\t\t\t\tonBlur={ev => {\n\t\t\t\t\t\t\t\t\tthis.setActiveFields('title', false)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonFocus={() => this.validateTitle(item.title, false)}\n\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.title}\n\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t// disabled\n\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\t\t\tonClick={ev => this.setActiveFields('title', true)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{titleErr && titleErr.errMsg && titleErr.dirty && (\n\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t{t(titleErr.errMsg, { args: titleErr.errMsgArgs })}\n\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{itemType !== 'Campaign' && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<ImgDialog\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\timgSrc={imgSrc}\n\t\t\t\t\t\t\t\t\thandleToggle={this.handleToggle}\n\t\t\t\t\t\t\t\t\tactive={this.state.editImg}\n\t\t\t\t\t\t\t\t\tonChangeReady={this.handleChange}\n\t\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\t\twidth={\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgWidth ||\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).width\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\theight={\n\t\t\t\t\t\t\t\t\t\tthis.props.updateImgHeight ||\n\t\t\t\t\t\t\t\t\t\t(AdSizesByValue[item.size] || {}).height\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttitle={t(this.props.updateImgLabel)}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t(this.props.updateImgInfoLabel)}\n\t\t\t\t\t\t\t\t\texact={this.props.updateImgExact}\n\t\t\t\t\t\t\t\t\terrMsg={this.props.updateImgErrMsg}\n\t\t\t\t\t\t\t\t\timgPropName='img'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\terror={!!descriptionErr && !!descriptionErr.errMsg}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor='description'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t('description', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.description || ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(ev.target.value, true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleChange('description', ev.target.value)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={1024}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.validateDescription(item.description, false)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!this.state.activeFields.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setActiveFields('description', true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{descriptionErr && !!descriptionErr.errMsg ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(descriptionErr.errMsg, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: descriptionErr.errMsgArgs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t!item.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('NO_DESCRIPTION_YET')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\n\t\t\t\t\t\t\t\t\t\t{this.props.showLogo && (\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ width: 270 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.mediaRoot,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclasses.imgContainer\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.fullName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.img, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[classes.pointer]:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.canEditImg && !isDemo,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfabButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmini\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.editIcon}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={!isDemo ? this.handleToggle : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isDemo}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{!!this.state.dirtyProps.length && (\n\t\t\t\t\t\t\t<div className={classes.changesLine}>\n\t\t\t\t\t\t\t\t<InfoOutlineIcon className={classes.buttonLeft} />\n\t\t\t\t\t\t\t\t<span className={classes.buttonLeft}>\n\t\t\t\t\t\t\t\t\t{t('UNSAVED_CHANGES')}:\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{this.state.dirtyProps.map(p => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.changeChip}\n\t\t\t\t\t\t\t\t\t\t\tkey={p}\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(p, { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\tonDelete={() => this.returnPropToInitialState(p)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SaveBtn\n\t\t\t\t\t\t\tspinnerId={'update' + item.id}\n\t\t\t\t\t\t\tvalidationId={'update-' + validateId}\n\t\t\t\t\t\t\tdirtyProps={this.state.dirtyProps}\n\t\t\t\t\t\t\tsave={this.save}\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!this.state.dirtyProps.length ||\n\t\t\t\t\t\t\t\t!!Object.keys(invalidFields).length\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Decorated\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\taccount={account}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tinEdit={!!this.state.dirtyProps.length}\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\tsave={this.save}\n\t\t\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\t\t\ttoggleImgEdit={this.handleToggle.bind(this)}\n\t\t\t\t\t\t\tactiveFields={this.state.activeFields}\n\t\t\t\t\t\t\tsetActiveFields={this.setActiveFields.bind(this)}\n\t\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t\tisDemo={isDemo}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n\n\tItem.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\titem: PropTypes.object.isRequired,\n\t\tspinner: PropTypes.bool,\n\t\titemType: PropTypes.string.isRequired,\n\t\tobjModel: PropTypes.func.isRequired,\n\t}\n\n\tconst tryGetItemByIpfs = ({ items, ipfs }) => {\n\t\tlet keys = Object.keys(items)\n\n\t\tfor (let index = 0; index < keys.length; index++) {\n\t\t\tconst key = keys[index]\n\t\t\tconst item = items[key]\n\n\t\t\tif (!!item && item._ipfs && !!ipfs && item._ipfs === ipfs) {\n\t\t\t\treturn item\n\t\t\t}\n\t\t}\n\n\t\treturn null\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist } = state\n\t\t// const memory = state.memory\n\t\tconst items = persist.items[props.itemType]\n\t\tconst id = props.match.params.itemId\n\t\tlet item = items[id]\n\n\t\tif (!item && props.itemType !== undefined) {\n\t\t\titem = tryGetItemByIpfs({ items: items, ipfs: id })\n\t\t}\n\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\titem: item,\n\t\t\tvalidateId: 'update-' + (item ? item.id || item.ipfs : 'notfound'),\n\t\t\tmatchId: id,\n\t\t\tside: selectSide(state),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(withStyles(styles)(ValidItemHoc(Translate(Item))))\n}\n","import React from 'react'\nimport MUIDataTable from 'mui-datatables'\nimport { t } from 'selectors'\n\nconst generalTableOptions = {\n\trowsPerPage: 5,\n\trowsPerPageOptions: [5, 10, 25, 50, 100],\n\tsetTableProps: () => {\n\t\treturn {\n\t\t\tpadding: 'default',\n\t\t\tsize: 'small',\n\t\t\twidth: '100%',\n\t\t\talign: 'center',\n\t\t}\n\t},\n\ttextLabels: {\n\t\tbody: {\n\t\t\tnoMatch: t('TABLE_NO_MATCH'),\n\t\t\ttoolTip: t('TABLE_TOOLTIP'),\n\t\t\tcolumnHeaderTooltip: column =>\n\t\t\t\t`${t('TABLE_HEADER_TOOLTIP', {\n\t\t\t\t\targs: [column.label || column],\n\t\t\t\t})}`,\n\t\t},\n\t\tpagination: {\n\t\t\tnext: t('TABLE_NEXT'),\n\t\t\tprevious: t('TABLE_PREV'),\n\t\t\trowsPerPage: t('TABLE_ROWS_PER_PAGE'),\n\t\t\tdisplayRows: t('TABLE_DISPLAY_ROWS'),\n\t\t},\n\t\ttoolbar: {\n\t\t\tsearch: t('TABLE_SEARCH'),\n\t\t\tdownloadCsv: t('TABLE_DL_CSV'),\n\t\t\tprint: t('TABLE_PRINT'),\n\t\t\tviewColumns: t('TABLE_VIEW_COLS'),\n\t\t\tfilterTable: t('TABLE_FILTER'),\n\t\t},\n\t\tfilter: {\n\t\t\tall: t('TABLE_FILTER_ALL'),\n\t\t\ttitle: t('TABLE_FILTER_TITLE'),\n\t\t\treset: t('TABLE_FILTER_RESET'),\n\t\t},\n\t\tviewColumns: {\n\t\t\ttitle: t('TABLE_SHOW_COLS'),\n\t\t\ttitleAria: t('TABLE_SHOW_HIDE_COLS'),\n\t\t},\n\t\tselectedRows: {\n\t\t\ttext: t('TABLE_SELECTED_ROWS'),\n\t\t\tdelete: t('TABLE_DELETE'),\n\t\t\tdeleteAria: t('TABLE_DELETE_SELECTED'),\n\t\t},\n\t},\n}\nexport default function MUIDataTableEnhanced(props) {\n\tconst { title, data, columns, options } = props\n\n\treturn (\n\t\t<MUIDataTable\n\t\t\ttitle={title}\n\t\t\tdata={data}\n\t\t\tcolumns={columns}\n\t\t\toptions={{\n\t\t\t\t...generalTableOptions,\n\t\t\t\t...options,\n\t\t\t\tsearch: !props.noSearch,\n\t\t\t\tdownload: !props.noDownload,\n\t\t\t\tprint: !props.noPrint,\n\t\t\t\tselectableRows: props.rowSelectable ? 'multiple' : 'none',\n\t\t\t\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\n\t\t\t\t\t//This disables toolbar when selected elements on all tables\n\t\t\t\t},\n\t\t\t}}\n\t\t/>\n\t)\n}\n","import React from 'react'\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport HourglassFullIcon from '@material-ui/icons/HourglassFull'\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\n\nconst mapStatusIcons = (humanFriendlyStatus, status, size) => {\n\tconst icon = {\n\t\txs: { fontSize: 10 },\n\t\tmd: { fontSize: 15 },\n\t\tls: { fontSize: 20 },\n\t}\n\tconst waitIcon = <HourglassFullIcon style={icon[size]} color={'secondary'} />\n\tconst doneIcon = <DoneAllIcon style={icon[size]} color={'primary'} />\n\tconst warningIcon = <WarningIcon style={icon[size]} color={'error'} />\n\tconst cashIcon = <MonetizationOnIcon style={icon[size]} color={'accentTwo'} />\n\tif (humanFriendlyStatus === 'Closed' && status.toLowerCase() !== 'exhausted')\n\t\treturn waitIcon\n\tswitch (status.toLowerCase()) {\n\t\tcase 'active':\n\t\tcase 'ready':\n\t\t\treturn doneIcon\n\t\tcase 'pending':\n\t\tcase 'initializing':\n\t\tcase 'waiting':\n\t\t\treturn waitIcon\n\t\tcase 'offline':\n\t\tcase 'disconnected':\n\t\tcase 'unhealthy':\n\t\tcase 'invalid':\n\t\t\treturn warningIcon\n\t\tcase 'withdraw':\n\t\t\treturn cashIcon\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n\nexport { mapStatusIcons }\n","export const styles = theme => ({\r\n\tcellImg: {\r\n\t\twidth: 'auto',\r\n\t\theight: 'auto',\r\n\t\tmaxHeight: 60,\r\n\t\tmaxWidth: 180,\r\n\t\tcursor: 'pointer',\r\n\t},\r\n})\r\n","import React from 'react'\nimport { Typography, Slider, Box } from '@material-ui/core'\nimport { formatAbbrNum, formatNumberWithoutCommas } from 'helpers/formatters'\n\nconst getSliderStep = (min, max, steps, precision = 2) => {\n\tconst diff = max - min\n\tconst step = diff / steps\n\tconst fixed = parseFloat(step.toFixed(precision))\n\n\treturn fixed\n}\n\nexport const sliderFilterOptions = ({\n\tinitial = [],\n\tfilterTitle = '',\n\tstepsCount = 20,\n\tstepsPrecision = 2,\n}) => {\n\tconst min = initial[0] || 0\n\tconst max = initial[1] || 100\n\tconst step = getSliderStep(min, max, stepsCount, stepsPrecision)\n\treturn {\n\t\tfilter: true,\n\t\tdisplay: 'true',\n\t\tfilterType: 'custom',\n\t\tcustomFilterListOptions: {\n\t\t\trender: v =>\n\t\t\t\t`${filterTitle}: ${formatAbbrNum(v[0], 2)} - ${formatAbbrNum(v[1], 2)}`,\n\t\t\tupdate: (filterList, filterPos, index) => {\n\t\t\t\tfilterList[index] = []\n\t\t\t\treturn filterList\n\t\t\t},\n\t\t},\n\n\t\tfilterOptions: {\n\t\t\tnames: [],\n\t\t\tlogic: (rowNumber, filters) => {\n\t\t\t\tconst formated = Number(rowNumber.toString().replace(/[^0-9.]/g, ''))\n\t\t\t\tif (filters.length > 0) {\n\t\t\t\t\treturn formated < filters[0] || formated > filters[1]\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t},\n\t\t\tdisplay: (filterList, onChange, index, column) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography id={`range-slider-${column.name}`} gutterBottom>\n\t\t\t\t\t\t\t{filterTitle}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box pl={2} pr={3} pt={2}>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\t\t\tmarks={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: min,\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(min, 2),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: max,\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(max, 2),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t// Max 20 steps (5,000,000 impressions step 1 ...)\n\t\t\t\t\t\t\t\tstep={step}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\tfilterList[index].length > 0 ? filterList[index] : initial\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={(_, newValue) => {\n\t\t\t\t\t\t\t\t\tonChange(newValue, index, column)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\t\taria-labelledby={`range-slider-${column.name}`}\n\t\t\t\t\t\t\t\tgetAriaValueText={v => formatAbbrNum(v, 2)}\n\t\t\t\t\t\t\t\tvalueLabelFormat={v => formatAbbrNum(v, 2)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t}\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport { useSelector } from 'react-redux'\n\nexport function useTableData({ selector, selectorArgs, getColumns }) {\n\tconst [data, setData] = useState([])\n\tconst [columns, setColumns] = useState([])\n\n\tconst selectedData = useSelector(state => selector(state, selectorArgs))\n\n\tconst reloadData = useCallback(() => {\n\t\tsetData(selectedData)\n\t\tsetColumns(getColumns())\n\t}, [getColumns, selectedData])\n\n\tuseEffect(() => {\n\t\treloadData()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [selectedData.length, selector, selectorArgs])\n\n\treturn { data, columns, reloadData }\n}\n","import React, { Fragment } from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport RefreshIcon from '@material-ui/icons/Refresh'\nimport { t } from 'selectors'\n\nexport function ReloadData({ handleReload }) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip title={t('RELOAD_DATA')}>\n\t\t\t\t<IconButton onClick={handleReload}>\n\t\t\t\t\t<RefreshIcon />\n\t\t\t\t</IconButton>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n","import React from 'react'\nimport classnames from 'classnames'\nimport { Tooltip, IconButton } from '@material-ui/core'\nimport { Visibility } from '@material-ui/icons'\nimport Img from 'components/common/img/Img'\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport {\n\tt,\n\tselectCampaignsTableData,\n\tselectMainToken,\n\tselectSide,\n\tselectCampaignsMaxImpressions,\n\tselectCampaignsMaxClicks,\n\tselectCampaignsMaxDeposit,\n} from 'selectors'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { bigNumberify, commify } from 'ethers/utils'\nimport { useSelector } from 'react-redux'\nimport { styles } from './styles'\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\nimport { sliderFilterOptions } from './commonFilters'\nimport { useTableData } from './tableHooks'\nimport { ReloadData } from './toolbars'\nconst RRIconButton = withReactRouterLink(IconButton)\n\nconst useStyles = makeStyles(styles)\n\nconst getCols = ({\n\tclasses,\n\tsymbol,\n\tmaxImpressions,\n\tmaxDeposit,\n\tmaxClicks,\n}) => [\n\t{\n\t\tname: 'media',\n\t\tlabel: t('PROP_MEDIA'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: false,\n\t\t\tcustomBodyRender: ({ id, adUnits }) => {\n\t\t\t\treturn (\n\t\t\t\t\t// TODO: Images issue some stop displaying\n\t\t\t\t\t<Img\n\t\t\t\t\t\tfullScreenOnClick={true}\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\n\t\t\t\t\t\tsrc={adUnits[0].mediaUrl}\n\t\t\t\t\t\talt={id}\n\t\t\t\t\t\tmediaMime={adUnits[0].mediaMime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tname: 'status',\n\t\tlabel: t('PROP_STATUS'),\n\t\toptions: {\n\t\t\tfilter: true,\n\t\t\tsort: false,\n\t\t\tfilterOptions: {\n\t\t\t\tnames: ['Active', 'Closed', 'Completed'],\n\t\t\t\tlogic: (status, filters) => {\n\t\t\t\t\tif (filters.length) return !filters.includes(status.humanFriendlyName)\n\t\t\t\t\treturn false\n\t\t\t\t},\n\t\t\t},\n\t\t\tcustomBodyRender: ({ humanFriendlyName, originalName }) => (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{humanFriendlyName}{' '}\n\t\t\t\t\t{mapStatusIcons(humanFriendlyName, originalName, 'xs')}\n\t\t\t\t</React.Fragment>\n\t\t\t),\n\t\t\t// TODO: Sorting issue\n\t\t},\n\t},\n\t{\n\t\tname: 'depositAmount',\n\t\tlabel: t('PROP_DEPOSIT'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: depositAmount => (\n\t\t\t\t<React.Fragment>{`${depositAmount.toFixed(\n\t\t\t\t\t2\n\t\t\t\t)} ${symbol}`}</React.Fragment>\n\t\t\t),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxDeposit],\n\t\t\t\tfilterTitle: t('DEPOSIT_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'fundsDistributedRatio',\n\t\tlabel: t('PROP_DISTRIBUTED'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: fundsDistributedRatio =>\n\t\t\t\t`${((fundsDistributedRatio || 0) / 10).toFixed(2)}%`,\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, 100],\n\t\t\t\tfilterTitle: t('DISTRIBUTED_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'impressions',\n\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxImpressions],\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'clicks',\n\t\tlabel: t('CHART_LABEL_CLICKS'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxClicks],\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'minPerImpression',\n\t\tlabel: t('PROP_CPM'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: minPerImpression => (\n\t\t\t\t<React.Fragment>{`${minPerImpression.toFixed(\n\t\t\t\t\t2\n\t\t\t\t)} ${symbol}`}</React.Fragment>\n\t\t\t),\n\t\t},\n\t},\n\t{\n\t\tname: 'created',\n\t\tlabel: t('PROP_CREATED'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tsortDirection: 'desc',\n\t\t\tcustomBodyRender: created => formatDateTime(created),\n\t\t},\n\t},\n\t{\n\t\tname: 'activeFrom',\n\t\tlabel: t('PROP_STARTS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: activeFrom => formatDateTime(activeFrom),\n\t\t},\n\t},\n\t{\n\t\tname: 'withdrawPeriodStart',\n\t\tlabel: t('PROP_ENDS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: withdrawPeriodStart =>\n\t\t\t\tformatDateTime(withdrawPeriodStart),\n\t\t},\n\t},\n\t{\n\t\tname: 'actions',\n\t\tlabel: t('ACTIONS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tdownload: false,\n\t\t\tcustomBodyRender: ({ to }) => (\n\t\t\t\t<Tooltip\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\n\t\t\t\t\t// placement='top'\n\t\t\t\t\tenterDelay={1000}\n\t\t\t\t>\n\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\n\t\t\t\t\t\t<Visibility color='primary' />\n\t\t\t\t\t</RRIconButton>\n\t\t\t\t</Tooltip>\n\t\t\t),\n\t\t},\n\t},\n]\n\nconst onDownload = (buildHead, buildBody, columns, data, decimals, symbol) => {\n\tconst mappedData = data.map(i => ({\n\t\tindex: i.index,\n\t\tdata: [\n\t\t\ti.data[0].id,\n\t\t\ti.data[1].humanFriendlyName,\n\t\t\t`${formatTokenAmount(\n\t\t\t\tbigNumberify(i.data[2]).mul(1000),\n\t\t\t\tdecimals,\n\t\t\t\ttrue\n\t\t\t)} ${symbol}`,\n\t\t\t`${((i.data[3] || 0) / 10).toFixed(2)}%`,\n\t\t\ti.data[4],\n\t\t\ti.data[5],\n\t\t\t`${formatTokenAmount(\n\t\t\t\tbigNumberify(i.data[6]).mul(1000),\n\t\t\t\tdecimals,\n\t\t\t\ttrue\n\t\t\t)} ${symbol}`,\n\t\t\tformatDateTime(i.data[7]),\n\t\t\tformatDateTime(i.data[8]),\n\t\t\tformatDateTime(i.data[9]),\n\t\t],\n\t}))\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\n}\n\nconst getOptions = ({ decimals, symbol, reloadData }) => ({\n\tfilterType: 'multiselect',\n\tselectableRows: 'none',\n\tonDownload: (buildHead, buildBody, columns, data) =>\n\t\tonDownload(buildHead, buildBody, columns, data, decimals, symbol),\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\n})\n\nfunction CampaignsTable(props) {\n\tconst classes = useStyles()\n\tconst side = useSelector(selectSide)\n\tconst maxImpressions = useSelector(selectCampaignsMaxImpressions)\n\tconst maxClicks = useSelector(selectCampaignsMaxClicks)\n\tconst maxDeposit = useSelector(selectCampaignsMaxDeposit)\n\tconst { symbol, decimals } = useSelector(selectMainToken)\n\n\tconst { data, columns, reloadData } = useTableData({\n\t\tselector: selectCampaignsTableData,\n\t\tselectorArgs: side,\n\t\tgetColumns: () =>\n\t\t\tgetCols({\n\t\t\t\tdecimals,\n\t\t\t\tclasses,\n\t\t\t\tsymbol,\n\t\t\t\tmaxImpressions,\n\t\t\t\tmaxClicks,\n\t\t\t\tmaxDeposit,\n\t\t\t}),\n\t})\n\n\tconst options = getOptions({ decimals, symbol, reloadData })\n\n\treturn (\n\t\t<MUIDataTableEnhanced\n\t\t\ttitle={t('ALL_CAMPAIGNS')}\n\t\t\tdata={data}\n\t\t\tcolumns={columns}\n\t\t\toptions={options}\n\t\t\t{...props}\n\t\t/>\n\t)\n}\n\nexport default CampaignsTable\n","import React, { useEffect, useState, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport StepperMUI from '@material-ui/core/Stepper'\nimport MobileStepper from '@material-ui/core/MobileStepper'\nimport Step from '@material-ui/core/Step'\nimport StepLabel from '@material-ui/core/StepLabel'\nimport Button from '@material-ui/core/Button'\nimport { styles } from './styles'\nimport Paper from '@material-ui/core/Paper'\nimport Box from '@material-ui/core/Box'\nimport Chip from '@material-ui/core/Chip'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\n\nconst getDirtyValidationErrors = (validations = {}) => {\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\n\t\tconst err = validations[key]\n\t\tif (err.dirty) {\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\n\t\t}\n\t\treturn dirtyErrs\n\t}, [])\n\n\treturn errors\n}\n\nconst useStyles = makeStyles(styles)\n\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\nconst StepperNav = ({ pages, currentPage, classes, ...other }) => {\n\tif (window.innerWidth <= 768) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<StepLabel className={classes.mobileStepLabel}>\n\t\t\t\t\t({currentPage + 1}/{pages.length}) {pages[currentPage].title}\n\t\t\t\t</StepLabel>\n\t\t\t\t<MobileStepper\n\t\t\t\t\tactiveStep={currentPage}\n\t\t\t\t\tsteps={pages.length}\n\t\t\t\t\tposition={'static'}\n\t\t\t\t\tvariant='progress'\n\t\t\t\t\tclassName={classes.mobileStepper}\n\t\t\t\t></MobileStepper>\n\t\t\t</div>\n\t\t)\n\t}\n\treturn (\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\n\t\t\t{pages.map((page, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Step key={page.title}>\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\n\t\t\t\t\t</Step>\n\t\t\t\t)\n\t\t\t})}\n\t\t</StepperMUI>\n\t)\n}\n\nconst MaterialStepper = props => {\n\tconst {\n\t\tinitialPage = 0,\n\t\tpages = [],\n\t\t// ...props\n\t} = props\n\tconst classes = useStyles()\n\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\n\tconst canReverse = pages.length > currentPage && currentPage > 0\n\n\tconst page = pages[currentPage] || {}\n\tconst pageProps = page.props || {}\n\tconst { validateId } = pageProps\n\tconst Comp = page.component || null\n\tconst { pageValidation = null, onValid, stepsId } = page\n\n\tconst validations = useSelector(state =>\n\t\tselectValidationsById(state, validateId)\n\t)\n\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\n\tconst isValidPage = useCallback(() => {\n\t\treturn !Object.keys(validations || {}).length\n\t}, [validations])\n\n\t// const canAdvance = isValidPage() && !page.completeBtn\n\n\tconst goToPage = useCallback(\n\t\tasync nextStep => {\n\t\t\tconst canAdvance = nextStep > currentPage\n\t\t\tconst canGoBack = nextStep < currentPage\n\n\t\t\tif (canAdvance || canGoBack) {\n\t\t\t\tsetCurrentPage(nextStep)\n\t\t\t}\n\t\t},\n\t\t[currentPage]\n\t)\n\n\tconst goToPreviousPage = useCallback(async () => {\n\t\tif (canReverse) {\n\t\t\tgoToPage(currentPage - 1)\n\t\t}\n\t}, [canReverse, currentPage, goToPage])\n\n\tconst goToNextPage = useCallback(async () => {\n\t\tif (pageValidation) {\n\t\t\tpageValidation({\n\t\t\t\tstepsId,\n\t\t\t\tvalidateId,\n\t\t\t\tdirty: true,\n\t\t\t\tonValid: onValid || (() => goToPage(currentPage + 1)),\n\t\t\t})\n\t\t} else if (isValidPage()) {\n\t\t\tgoToPage(currentPage + 1)\n\t\t}\n\t}, [\n\t\tcurrentPage,\n\t\tgoToPage,\n\t\tisValidPage,\n\t\tonValid,\n\t\tpageValidation,\n\t\tstepsId,\n\t\tvalidateId,\n\t])\n\n\tuseEffect(() => {\n\t\tif (pageValidation) {\n\t\t\tpageValidation({ stepsId, validateId, dirty: false })\n\t\t}\n\t}, [currentPage, pageValidation, stepsId, validateId])\n\n\tconst onKeyPressed = useCallback(\n\t\tasync ev => {\n\t\t\tif (ev.key === 'Enter') {\n\t\t\t\tev.preventDefault()\n\t\t\t\tgoToNextPage()\n\t\t\t}\n\t\t},\n\t\t[goToNextPage]\n\t)\n\n\treturn (\n\t\t<div className={classes.stepperWrapper} onKeyPress={onKeyPressed}>\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.stepperNav,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<StepperNav\n\t\t\t\t\t{...props}\n\t\t\t\t\tpages={pages}\n\t\t\t\t\tclasses={classes}\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\tgoToPage={goToPage}\n\t\t\t\t/>\n\t\t\t</Paper>\n\t\t\t<br />\n\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.pagePaper,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className={classes.pageContent}>\n\t\t\t\t\t{!!Comp && <Comp {...pageProps} />}\n\n\t\t\t\t\t{!!dirtyErrors && (\n\t\t\t\t\t\t<Box color='error.main'>\n\t\t\t\t\t\t\t{dirtyErrors.map(err => (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tkey={err.field}\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.errChip }}\n\t\t\t\t\t\t\t\t\ticon={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\n\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className={classes.controls}>\n\t\t\t\t\t<div className={classes.left}>\n\t\t\t\t\t\t{canReverse && !(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={classes.right}>\n\t\t\t\t\t\t{/* <Button label='Cancel' onClick={this.cancel}/> */}\n\t\t\t\t\t\t{page.cancelBtn && !(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<page.cancelBtn />\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t{typeof page.cancelFunction === 'function' &&\n\t\t\t\t\t\t!(page.disableBtnsIfValid && isValidPage()) ? (\n\t\t\t\t\t\t\t<Button onClick={page.cancelFunction}>{t('CANCEL')}</Button>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{/* {ValidationBtn && <ValidationBtn {...page.props} />} */}\n\n\t\t\t\t\t\t{!page.completeBtn || !!pageValidation ? (\n\t\t\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={spinner || (!isValidPage() && !pageValidation)}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\tonClick={goToNextPage}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONTINUE')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{spinner && (\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{page.completeBtn && !pageValidation && isValidPage() ? (\n\t\t\t\t\t\t\t<page.completeBtn />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t''\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Paper>\n\t\t</div>\n\t)\n}\n\nMaterialStepper.propTypes = {\n\tpages: PropTypes.array.isRequired,\n}\n\nexport default MaterialStepper\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst errColor = theme.palette.error.main\n\treturn {\n\t\troot: {\n\t\t\tcolor: 'purple',\n\t\t\t'&$active': {\n\t\t\t\tcolor: 'green',\n\t\t\t},\n\t\t},\n\t\tactive: {\n\t\t\tcolor: 'yellow',\n\t\t},\n\t\tstepperWrapper: {\n\t\t\t// display: 'flex',\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t},\n\t\tpagePaper: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 115,\n\t\t},\n\t\tpageContent: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 20,\n\t\t\tleft: 20,\n\t\t\tright: 20,\n\t\t\tbottom: 50,\n\t\t\tpadding: 20,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t\tdisplay: 'flex',\n\t\t\tflex: 1,\n\t\t\tjustifyContent: 'space-between',\n\t\t\tflexDirection: 'column',\n\t\t\tWebkitOverflowScrolling: 'touch',\n\t\t\t'@media(max-width:500px)': {\n\t\t\t\tpaddingLeft: 0,\n\t\t\t\tpaddingRight: 0,\n\t\t\t},\n\t\t},\n\t\tcontrols: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 5,\n\t\t\tleft: 20,\n\t\t\tright: 20,\n\t\t},\n\t\tright: {\n\t\t\ttextAlign: 'right',\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '86%',\n\t\t\t},\n\t\t},\n\t\tleft: {\n\t\t\tdisplay: 'inline-block',\n\t\t\ttextAlign: 'left',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '14%',\n\t\t\t},\n\t\t},\n\t\tmobileStepper: {\n\t\t\twidth: '100%',\n\t\t\t'& div': {\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '10px',\n\t\t\t},\n\t\t},\n\t\tmobileStepLabel: {\n\t\t\t'& span': {\n\t\t\t\tfontSize: '24px',\n\t\t\t\tmargin: '14px auto',\n\t\t\t},\n\t\t\ttextAlign: 'center',\n\t\t\twidth: 'auto',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmargin: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t\terrChip: {\n\t\t\tcolor: errColor,\n\t\t\tborderColor: errColor,\n\t\t\t'& svg': {\n\t\t\t\tcolor: errColor,\n\t\t\t},\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t}\n}\n","import React, { Component, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport { t } from 'selectors'\n\nclass FormSteps extends Component {\n\tshouldComponentUpdate(nextProps) {\n\t\treturn JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t}\n\n\trender() {\n\t\tconst pages = []\n\t\tconst {\n\t\t\tSaveBtn,\n\t\t\tCancelBtn,\n\t\t\tcancelFunction,\n\t\t\tonSave,\n\t\t\tstepsId,\n\t\t\tstepsPages,\n\t\t\tstepsPreviewPage,\n\t\t\tvalidateIdBase,\n\t\t\t...rest\n\t\t} = this.props\n\t\tconst cancelButton = () => (\n\t\t\t<CancelBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t)\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\n\n\t\tstepsPages.forEach((page, index) => {\n\t\t\tpages.push({\n\t\t\t\ttitle: t(page.title),\n\t\t\t\tcancelBtn: cancelButton,\n\t\t\t\tcomponent: !page.pageValidation\n\t\t\t\t\t? ValidItemHoc(page.page || page)\n\t\t\t\t\t: page.page || page,\n\t\t\t\tpageValidation: page.pageValidation,\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\n\t\t\t\tstepsId,\n\t\t\t\tprops: { ...this.props, stepsId, validateId: validateId + '-' + index },\n\t\t\t})\n\t\t})\n\n\t\tpages.push({\n\t\t\ttitle: t(stepsPreviewPage.title || 'PREVIEW'),\n\t\t\tcompleteBtn: () => (\n\t\t\t\t<SaveBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t\t),\n\t\t\tcancelBtn: cancelButton,\n\t\t\tcomponent: ValidItemHoc(stepsPreviewPage.page || stepsPreviewPage),\n\t\t\tstepsId,\n\t\t\tprops: {\n\t\t\t\t...this.props,\n\t\t\t\tvalidateId: validateId + '-' + stepsPages.length,\n\t\t\t},\n\t\t})\n\n\t\treturn (\n\t\t\t// <div style={{ textAlign: 'left' }}>\n\t\t\t<MaterialStepper pages={pages} />\n\t\t\t// </div>\n\t\t)\n\t}\n}\n\nFormSteps.propTypes = {\n\ttitle: PropTypes.string,\n\titemPages: PropTypes.arrayOf(PropTypes.func),\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsPages: PropTypes.arrayOf(PropTypes.object),\n}\n\nexport default forwardRef((props, ref) => (\n\t<FormSteps {...props} forwardedRef={ref} />\n))\n","import grey from '@material-ui/core/colors/grey'\n\nexport const styles = theme => {\n\tconst spacing = theme.spacing(3)\n\tconst fullHeight = Math.max(window.innerHeight - spacing, 400)\n\treturn {\n\t\tdialog: {\n\t\t\tminHeight: `${fullHeight}px`,\n\t\t\tminWidth: 1024,\n\t\t\tmaxWidth: 1080,\n\t\t\tbackgroundColor: grey[200], // TODO: color,\n\t\t\t// maxHeight: `${fullHeight}`,\n\t\t\t'@media(max-width:1080px)': {\n\t\t\t\tmaxWidth: '100%',\n\t\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t\t},\n\t\t\t'@media(max-height:823px)': {\n\t\t\t\tminHeight: `calc(${fullHeight} - ${theme.spacing(2)}px)`,\n\t\t\t},\n\t\t},\n\t\tdialogTitle: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t\twordWrap: 'break-word',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t\toverflowY: 'auto',\n\t\t},\n\t\tcontentBox: {\n\t\t\t// position: 'absolute',\n\t\t\t// top: 0,\n\t\t\t// left: 0,\n\t\t\t// bottom: 0,\n\t\t\t// right: 0,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: 1,\n\t\t},\n\t\tpropRow: {\n\t\t\tmargin: '10px 0',\n\t\t\twidth: '100%',\n\t\t},\n\t\tcontentBody: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tcontentTopLoadingCircular: {\n\t\t\tflexShrink: 0,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tcontentTopLoading: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t\t'& > div': {\n\t\t\t\tpadding: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttextBtn: {\n\t\t\tcursor: 'pointer',\n\t\t},\n\t\tbtnIconLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tleftCol: {\n\t\t\ttextTransform: 'uppercase',\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\n\t\t\ttextAlign: 'right',\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\ttextAlign: 'left',\n\t\t\t},\n\t\t},\n\t\trightCol: {\n\t\t\ttextAlign: 'left',\n\t\t},\n\t\tprogressCircleCenter: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 30px)',\n\t\t\ttop: 'calc(50% - 30px)',\n\t\t},\n\t\tfloating: {\n\t\t\tposition: 'fixed',\n\t\t\ttop: 86,\n\t\t\tright: 40,\n\t\t\tzIndex: theme.zIndex.appBar,\n\t\t},\n\t\tbreakLong: {\n\t\t\twordBreak: 'break-word',\n\t\t\toverflowWrap: 'break-word',\n\t\t\thyphens: 'auto',\n\t\t},\n\t\tdemoImg: {\n\t\t\ttop: 'auto',\n\t\t\tleft: 'auto',\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\twidth: '100px',\n\t\t\theight: 'auto',\n\t\t\tposition: 'absolute',\n\t\t},\n\t\tdemoBody: {\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontentStickyTop: {\n\t\t\tmarginBottom: '2rem',\n\t\t},\n\t\tfullContentMessage: {\n\t\t\tdisplay: 'flex',\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t},\n\t}\n}\n","import React, { Fragment, useState, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport classnames from 'classnames'\nimport Slide from '@material-ui/core/Slide'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Typography from '@material-ui/core/Typography'\nimport { t } from 'selectors'\n\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={classnames(classes.textBtn, className)}\n\t\t\tstyle={style}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{' '}\n\t\t\t{label}{' '}\n\t\t</span>\n\t)\n}\n\nconst TextBtn = withStyles(styles)(textBtn)\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction='up' ref={ref} {...props} />\n})\n\nconst useStyles = makeStyles(styles)\n\nexport default function ItemHoc(Decorated) {\n\tfunction WithDialog(props) {\n\t\tconst {\n\t\t\tforwardedRef,\n\t\t\ticonButton,\n\t\t\ttextButton,\n\t\t\tfabButton,\n\t\t\tvariant,\n\t\t\tfabVariant,\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tbtnLabelArgs,\n\t\t\tbtnLabel,\n\t\t\tdisabled,\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\ttitle,\n\t\t\tdialogActions,\n\t\t\tonClick,\n\t\t\tfullWidth,\n\t\t\tonBeforeOpen,\n\t\t\t...rest\n\t\t} = props\n\n\t\tconst btnProps = {\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tvariant,\n\t\t}\n\n\t\tconst classes = useStyles()\n\t\tconst [open, setOpen] = useState(false)\n\n\t\tconst handleToggle = async () => {\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\n\t\t\t\tawait onBeforeOpen()\n\t\t\t}\n\n\t\t\tsetOpen(!open)\n\t\t}\n\n\t\tconst handleClick = async ev => {\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\t\tev && ev.preventDefault && ev.preventDefault()\n\t\t\tawait handleToggle()\n\t\t\tif (onClick) onClick()\n\t\t}\n\n\t\tconst closeDialog = () => {\n\t\t\tsetOpen(false)\n\t\t}\n\n\t\tlet ButtonComponent = null\n\n\t\tif (iconButton) {\n\t\t\tButtonComponent = IconButton\n\t\t} else if (textButton) {\n\t\t\tButtonComponent = TextBtn\n\t\t} else if (fabButton) {\n\t\t\tButtonComponent = Fab\n\t\t} else {\n\t\t\tButtonComponent = Button\n\t\t\tbtnProps.fullWidth = fullWidth\n\t\t}\n\n\t\tconst btnLabelTranslated = btnLabel\n\t\t\t? t(btnLabel, { args: btnLabelArgs || [''] })\n\t\t\t: ''\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<ButtonComponent\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\taria-label={btnLabelTranslated}\n\t\t\t\t\tlabel={btnLabelTranslated}\n\t\t\t\t\tonClick={ev => handleClick(ev)}\n\t\t\t\t\t{...btnProps}\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{icon}\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\n\t\t\t\t</ButtonComponent>\n\t\t\t\t<Dialog\n\t\t\t\t\t// disableBackdropClick\n\t\t\t\t\t// disableEscapeKeyDown\n\t\t\t\t\t// maxWidth=\"xs\"\n\t\t\t\t\t// fullScreen\n\t\t\t\t\topen={open}\n\t\t\t\t\tonClose={handleToggle}\n\t\t\t\t\tTransitionComponent={Transition}\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t\t\t// onEscKeyDown={handleToggle}\n\t\t\t\t\t// onOverlayClick={handleToggle}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle disableTypography>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant='subtitle1'\n\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(title)}\n\t\t\t\t\t\t\t<IconButton onClick={handleToggle}>\n\t\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</DialogTitle>{' '}\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\n\t\t\t\t</Dialog>\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\tWithDialog.propTypes = {\n\t\tbtnLabel: PropTypes.string,\n\t\ttitle: PropTypes.string.isRequired,\n\t\tfloating: PropTypes.bool,\n\t\tonBeforeOpen: PropTypes.func,\n\t}\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithDialog {...props} forwardedRef={ref} />\n\t))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdUnit } from 'adex-models'\n\nexport default function NewAdUnitHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'AdUnit',\n\t\t\t\tAdUnit\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = () => {\n\t\t\tconst { actions, newItem } = this.props\n\t\t\tactions.addUnit(newItem)\n\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('AdUnit')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('AdUnit')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tnewItem: new AdUnit(memory.newItem['AdUnit']),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport Select from '@material-ui/core/Select'\nimport { InputLoading } from 'components/common/spinners/'\nimport classnames from 'classnames'\nimport { styles } from './styles'\nimport { t } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction Dropdown(props) {\n\tconst classes = useStyles()\n\n\tconst {\n\t\tonChange,\n\t\tlabel = '',\n\t\tvalue,\n\t\tsource = [],\n\t\thtmlId = 'some-id',\n\t\tdisabled = false,\n\t\terror = false,\n\t\thelperText,\n\t\t// margin = '',\n\t\tfullWidth = false,\n\t\tclassName,\n\t\trequired,\n\t\tloading,\n\t\tnoSrcLabel,\n\t\tvariant,\n\t\tIconComponent,\n\t} = props\n\n\tconst inputLabel = React.useRef(null)\n\tconst [labelWidth, setLabelWidth] = React.useState(0)\n\tReact.useEffect(() => {\n\t\tsetLabelWidth(inputLabel.current.offsetWidth)\n\t}, [])\n\n\tconst handleChange = event => {\n\t\tonChange(event.target.value)\n\t}\n\n\t// TODO: add native renderer for mobile devices when supported\n\treturn (\n\t\t<FormControl\n\t\t\tclassName={classnames(className, classes.formControl)}\n\t\t\tdisabled={disabled}\n\t\t\terror={error}\n\t\t\tfullWidth={fullWidth}\n\t\t\tvariant={variant}\n\t\t>\n\t\t\t<InputLabel ref={inputLabel} htmlFor={htmlId} required={required}>\n\t\t\t\t{label}\n\t\t\t</InputLabel>\n\t\t\t{!!source.length && !loading ? (\n\t\t\t\t<Select\n\t\t\t\t\tvalue={value.id || value}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tlabelWidth={labelWidth}\n\t\t\t\t\tIconComponent={IconComponent}\n\t\t\t\t>\n\t\t\t\t\t{[...source].map(src => {\n\t\t\t\t\t\treturn src.group ? (\n\t\t\t\t\t\t\t<ListSubheader key={src.group.name || src.group}>\n\t\t\t\t\t\t\t\t{src.group.name || src.group}\n\t\t\t\t\t\t\t</ListSubheader>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\n\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{src.label}\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</Select>\n\t\t\t) : !loading ? (\n\t\t\t\t<Input disabled value={noSrcLabel} />\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<Input disabled value={t('LOADING_DATA')} />\n\t\t\t\t\t<InputLoading />\n\t\t\t\t</>\n\t\t\t)}{' '}\n\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\n\t\t</FormControl>\n\t)\n}\n\nDropdown.propTypes = {\n\tlabel: PropTypes.string,\n\tonChange: PropTypes.func.isRequired,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string,\n\t\tPropTypes.bool,\n\t]),\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\n\tdisabled: PropTypes.bool,\n\terror: PropTypes.bool,\n\thtmlId: PropTypes.string.isRequired,\n\tdisplayEmpty: PropTypes.bool,\n\thelperText: PropTypes.string,\n\tIconComponent: PropTypes.element,\n}\n\nexport default Dropdown\n","export const styles = theme => ({\n\tformControl: {\n\t\t// margin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n})\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport { constants, schemas, Joi } from 'adex-models'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\n\nconst { adUnitPost } = schemas\n\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nclass AdUnitBasic extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst { newItem } = props\n\t\tthis.validateTitle(newItem.title, false)\n\t\tthis.validateDescription(newItem.description, false)\n\t\tthis.validateTargetUrl(newItem.targetUrl, false)\n\t\tthis.validateAndUpdateType(false, newItem.type)\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (\n\t\t\tprevProps.newItem.title !== this.props.newItem.title ||\n\t\t\tprevProps.newItem.type !== this.props.newItem.type ||\n\t\t\tprevProps.newItem.temp.addUtmLink !== this.props.newItem.temp.addUtmLink\n\t\t) {\n\t\t\tthis.addUtmParameters()\n\t\t}\n\t}\n\n\tvalidateTitle(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adUnitPost.title)\n\n\t\tthis.props.validate('title', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateDescription(name, dirty, errMsg) {\n\t\tconst result = Joi.validate(name, adUnitPost.description)\n\n\t\tthis.props.validate('description', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\tvalidateTargetUrl(targetUrl, dirty) {\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\n\t\tthis.props.validate('targetUrl', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t\tif (!result.error) this.addUtmParameters(targetUrl)\n\t}\n\n\tvalidateAndUpdateType = (dirty, value) => {\n\t\tconst result = Joi.validate(value, adUnitPost.type)\n\t\tthis.props.handleChange('type', value)\n\t\tthis.props.validate('type', {\n\t\t\tisValid: !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\taddUtmParameters() {\n\t\tconst { handleChange, newItem } = this.props\n\t\tconst { targetUrl, title, type, temp } = newItem\n\t\tconst { addUtmLink } = temp\n\t\tif (!!targetUrl) {\n\t\t\tconst newTargetUrl = addUrlUtmTracking({\n\t\t\t\ttargetUrl,\n\t\t\t\tcampaign: title,\n\t\t\t\tcontent: type,\n\t\t\t\tremoveFromUrl: !addUtmLink,\n\t\t\t})\n\t\t\thandleChange('targetUrl', newTargetUrl)\n\t\t}\n\t}\n\n\thandleChangeAddUtmLink(ev) {\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.addUtmLink = ev.target.checked\n\t\tthis.props.handleChange('temp', newTemp)\n\t}\n\n\trender() {\n\t\tconst { t, newItem, invalidFields, handleChange } = this.props\n\t\tconst { targetUrl, type, title, description, temp } = newItem\n\t\tconst { addUtmLink } = temp\n\t\tconst errTitle = invalidFields['title']\n\t\tconst errDescription = invalidFields['description']\n\t\tconst errTargetUrl = invalidFields['targetUrl']\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => handleChange('title', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTitle(title, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTitle(title, false)}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev => handleChange('description', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\t\tthis.validateDescription(description, true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonFocus={() => this.validateDescription(description, false)}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\n\t\t\t\t\t\t\tonBlur={() => this.validateTargetUrl(targetUrl, true)}\n\t\t\t\t\t\t\tonFocus={() => this.validateTargetUrl(targetUrl, false)}\n\t\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty ? errTargetUrl.errMsg : ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tchecked={addUtmLink}\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleChangeAddUtmLink(ev)}\n\t\t\t\t\t\t\t\t\tvalue='checkedB'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={t('ADD_UTM_LINK')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={this.validateAndUpdateType.bind(this, true)}\n\t\t\t\t\t\t\tsource={AdTypes}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitBasic.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdUnitBasic = NewAdUnitHoc(AdUnitBasic)\n\nexport default Translate(NewAdUnitBasic)\n","import url from 'url'\nimport { UTM_PARAMS } from 'constants/misc'\n\nexport const addUrlUtmTracking = ({\n\ttargetUrl,\n\tcampaign,\n\tcontent,\n\tremoveFromUrl,\n}) => {\n\tif (!!targetUrl) {\n\t\tconst URL = url.parse(targetUrl, true)\n\t\tURL.search = null\n\n\t\tif (URL.protocol && URL.host) {\n\t\t\tconst newQuery = {}\n\t\t\tif (removeFromUrl) {\n\t\t\t\tfor (let [key, value] of Object.entries(URL.query)) {\n\t\t\t\t\tif (UTM_PARAMS[key] !== value) {\n\t\t\t\t\t\tnewQuery[key] = value\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tURL.query = newQuery\n\t\t\t} else {\n\t\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\n\n\t\t\t\tif (campaign) {\n\t\t\t\t\tquery['utm_campaign'] = campaign\n\t\t\t\t}\n\t\t\t\tif (content) {\n\t\t\t\t\tquery['utm_content'] = content\n\t\t\t\t}\n\t\t\t\tURL.query = query\n\t\t\t}\n\t\t\treturn url.format(URL)\n\t\t}\n\t}\n\n\treturn targetUrl\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport Grid from '@material-ui/core/Grid'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\n\nconst getWidAndHightFromType = type => {\n\ttype = type || ''\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n\nclass AdUnitMedia extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem, validate, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst { tempUrl, mime } = temp\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tif (tempUrl) {\n\t\t\tvalidateMedia(\n\t\t\t\t{\n\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\twidthTarget: width,\n\t\t\t\t\theightTarget: height,\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\texact: true,\n\t\t\t\t\trequired: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttempUrl,\n\t\t\t\t\tmime,\n\t\t\t\t}\n\t\t\t)\n\t\t} else {\n\t\t\tvalidate('temp', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\thandleImgChange = (prop, img) => {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst newTemp = { ...newItem.temp, ...img }\n\t\thandleChange(prop, newTemp)\n\t}\n\n\trender() {\n\t\tconst { newItem, t, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst errImg = this.props.invalidFields['temp']\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\n\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\tmime={temp.mime || ''}\n\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\n\t\t\t\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\n\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitMedia.propTypes = {\n\ttitle: PropTypes.string,\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewAdUnitMedia = NewAdUnitHoc(ValidImageHoc(AdUnitMedia))\n\nexport default Translate(NewAdUnitMedia)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport TextField from '@material-ui/core/TextField'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport { translate } from 'services/translations/translations'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\n\nexport const renderInput = inputProps => {\n\tconst { InputProps, classes, ref, ...other } = inputProps\n\n\treturn (\n\t\t<TextField\n\t\t\tInputProps={{\n\t\t\t\tinputRef: ref,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.inputRoot,\n\t\t\t\t},\n\t\t\t\t...InputProps,\n\t\t\t}}\n\t\t\t{...other}\n\t\t/>\n\t)\n}\n\nexport const renderSuggestion = ({\n\tsuggestion,\n\tindex,\n\tstyle,\n\titemProps,\n\thighlightedIndex,\n\tselectedItem,\n\tshowSelected,\n}) => {\n\tconst isHighlighted = highlightedIndex === index\n\t// TODO: make it better\n\t// Note wo work with obj and array\n\tconst isSelected =\n\t\t((selectedItem || {}).value || selectedItem || '').indexOf(\n\t\t\tsuggestion.value\n\t\t) > -1\n\n\tif (!showSelected && isSelected) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div style={style}>\n\t\t\t<ListItem\n\t\t\t\tbutton\n\t\t\t\t{...itemProps}\n\t\t\t\tkey={suggestion.value || suggestion.label}\n\t\t\t\tselected={isHighlighted}\n\t\t\t\tcomponent='div'\n\t\t\t\tstyle={{\n\t\t\t\t\tfontWeight: isSelected ? 500 : 400,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ListItemText primary={suggestion.label} />\n\t\t\t</ListItem>\n\t\t</div>\n\t)\n}\n\nconst newSuggestion = inputValue => {\n\treturn {\n\t\tlabel: `${translate(\n\t\t\t'CREATE_TAG_LABEL'\n\t\t)} \"${inputValue.toLowerCase().trim()}\"`,\n\t\tvalue: inputValue.toLowerCase().trim(),\n\t}\n}\n\nrenderSuggestion.propTypes = {\n\thighlightedIndex: PropTypes.number,\n\tindex: PropTypes.number,\n\titemProps: PropTypes.object,\n\tselectedItem: PropTypes.string,\n\tsuggestion: PropTypes.shape({ label: PropTypes.string }).isRequired,\n}\n\nexport const getSuggestions = (\n\tinputValue = '',\n\tsource,\n\tallowCreate,\n\tvalidateCreation\n) => {\n\tif (!inputValue) {\n\t\treturn source\n\t} else {\n\t\tinputValue = inputValue.toLowerCase().trim()\n\n\t\tsource = source.filter(suggestion => {\n\t\t\treturn (\n\t\t\t\t!inputValue ||\n\t\t\t\tsuggestion.label\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.trim()\n\t\t\t\t\t.indexOf(inputValue) !== -1\n\t\t\t)\n\t\t})\n\n\t\t// Making sure that an option to create a new item will exist when needed\n\t\tconst values = source.map(item => {\n\t\t\treturn item.value\n\t\t})\n\n\t\tif (\n\t\t\t!values.includes(inputValue) &&\n\t\t\tallowCreate &&\n\t\t\t(!validateCreation || validateCreation(inputValue))\n\t\t) {\n\t\t\tsource.push(newSuggestion(inputValue))\n\t\t}\n\n\t\treturn source\n\t}\n}\n","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport TextField from '@material-ui/core/TextField'\nimport { Autocomplete as AutocompleteMUI } from '@material-ui/lab'\nimport { getSuggestions } from './common'\n\nfunction Autocomplete(props) {\n\tconst {\n\t\tid,\n\t\tclasses,\n\t\tsource,\n\t\tmultiple,\n\t\tvalue,\n\t\tlabel,\n\t\tvariant,\n\t\tallowCreate,\n\t\tvalidateCreation,\n\t\tvalidateAutocomplete,\n\t\terror,\n\t\terrorText,\n\t\tonInit,\n\t\tonChange,\n\t\t...rest\n\t} = props\n\tconst [inputValue, setInputValue] = useState('')\n\n\tconst suggestions = getSuggestions(\n\t\tinputValue,\n\t\tsource,\n\t\tallowCreate,\n\t\tvalidateCreation\n\t)\n\tuseEffect(() => {\n\t\tonInit()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst handleChange = item => {\n\t\tconst selectedItem = item ? item.value || item.label : item\n\t\tonChange(selectedItem)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.container}>\n\t\t\t\t<AutocompleteMUI\n\t\t\t\t\tmultiple={multiple}\n\t\t\t\t\toptions={suggestions}\n\t\t\t\t\tgetOptionLabel={option => option.label}\n\t\t\t\t\tonChange={(_, newValue) => handleChange(newValue)}\n\t\t\t\t\tonInputChange={(_, newValue) => setInputValue(newValue)}\n\t\t\t\t\trenderInput={params => {\n\t\t\t\t\t\tif (value) params.inputProps.value = value\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\tvariant={variant}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t\tfullWidth\n\t\t\t\t/>\n\t\t\t\t{error && (\n\t\t\t\t\t<FormHelperText error id='component-error-text'>\n\t\t\t\t\t\t{errorText}\n\t\t\t\t\t</FormHelperText>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nAutocomplete.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default withStyles(styles)(Autocomplete)\n","export const styles = theme => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\theight: 250,\n\t},\n\tcontainer: {\n\t\tflexGrow: 1,\n\t\tposition: 'relative',\n\t},\n\tpaper: {\n\t\tposition: 'absolute',\n\t\t// TODO: fix the component and do nou use z-index\n\t\tzIndex: 1000,\n\t\tmarginTop: theme.spacing(1),\n\t\tleft: 0,\n\t\tright: 0,\n\t\toverflow: 'hidden',\n\t\theight: 150,\n\t\twidth: '100%',\n\t},\n\tchip: {\n\t\tmargin: `${theme.spacing(1) / 2}px ${theme.spacing(1) / 2}px`,\n\t},\n\tinputRoot: {\n\t\tflexWrap: 'wrap',\n\t},\n})\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport Slider from '@material-ui/core/Slider'\nimport IconButton from '@material-ui/core/IconButton'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport AddIcon from '@material-ui/icons/Add'\nimport Autocomplete from 'components/common/autocomplete'\nimport Typography from '@material-ui/core/Typography'\nimport Dropdown from 'components/common/dropdown'\nimport { translate } from 'services/translations/translations'\nimport { withStyles } from '@material-ui/core/styles'\nimport { SOURCES } from 'constants/targeting'\n\nconst styles = {\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n}\nconst marks = [\n\t{\n\t\tvalue: 5,\n\t\tlabel: 'Low',\n\t},\n\t{\n\t\tvalue: 50,\n\t\tlabel: 'Medium',\n\t},\n\t{\n\t\tvalue: 95,\n\t\tlabel: 'High',\n\t},\n]\n\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\n\treturn {\n\t\tvalue: {\n\t\t\tkey: key, // FOR DROPDOWN\n\t\t\tsource: key,\n\t\t\tcollection: SOURCES[key].collection,\n\t\t\ttarget: { tag: '', score: 1 },\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t},\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\n\t}\n})\n\nclass AdUnitTargeting extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tconst { targets } = props.newItem.temp || {}\n\t\tthis.state = {\n\t\t\ttargets: [...(targets || [])],\n\t\t}\n\t}\n\n\tupdateNewItemCollections(targets) {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst collections = [...targets].reduce(\n\t\t\t(all, tg) => {\n\t\t\t\tconst newCollection = all[tg.collection] || []\n\n\t\t\t\t// NOTE: just skip empty tags\n\t\t\t\tif (!!tg.target.tag) {\n\t\t\t\t\tnewCollection.push(tg.target)\n\t\t\t\t}\n\t\t\t\tall[tg.collection] = newCollection\n\t\t\t\treturn all\n\t\t\t},\n\t\t\t{ targeting: [], tags: [] }\n\t\t)\n\n\t\tconst { temp } = newItem\n\t\tconst newTemp = { ...temp }\n\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.targets = [...targets]\n\t\tcollections.temp = newTemp\n\n\t\thandleChange(null, null, collections)\n\t}\n\n\thandleTargetChange = (index, prop, newValue) => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...newTargets[index].target }\n\t\tnewTarget[prop] = newValue\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tnewTarget = target => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...target }\n\t\tnewTarget.key = newTargets.length\n\t\tnewTarget.target = { ...target.target }\n\t\tnewTargets.push(newTarget)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tremoveTarget = index => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tnewTargets.splice(index, 1)\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t\tthis.validateAutocomplete({\n\t\t\tid: `target-${index}`,\n\t\t\tisValid: true,\n\t\t\tdirty: false,\n\t\t})\n\t}\n\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\n\t\tthis.props.validate(id, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\n\t\t\tdirty,\n\t\t})\n\t}\n\n\ttargetTag = ({\n\t\tsource = [],\n\t\tcollection,\n\t\tplaceholder,\n\t\tlabel,\n\t\tindex,\n\t\ttarget,\n\t\tt,\n\t\tclasses,\n\t\tinvalidFields,\n\t}) => {\n\t\tconst id = `target-${index}`\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tdirection='auto'\n\t\t\t\t\t\topenOnClick\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t\t\t\terrorText={\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={newValue => {\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: newValue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonInit={() =>\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: target.tag,\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalidateAutocomplete={this.validateAutocomplete}\n\t\t\t\t\t\t// validate={validate}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tsource={source}\n\t\t\t\t\t\tvalue={target.tag}\n\t\t\t\t\t\tsuggestionMatch='anywhere'\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\n\t\t\t\t\t\tallowCreate={!source.length}\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={11} md={5}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography id={`tbaget-score-${index}`}>\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\n\t\t\t\t\t\t\t\targs: [target.score],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\tdisabled={!target.tag}\n\t\t\t\t\t\t\tvalue={target.score}\n\t\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\n\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// newItem,\n\t\t\tclasses,\n\t\t\t...rest\n\t\t} = this.props\n\t\t// const { targeting, tags } = newItem\n\n\t\tconst { targets } = this.state\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t{[...targets].map(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsource = '',\n\t\t\t\t\t\t\t\t\tcollection,\n\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\t\ttarget = {},\n\t\t\t\t\t\t\t\t} = {},\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t<this.targetTag\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tonChange={target => {\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\n\t\t\t\t\t\t\tvalue={''}\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\tIconComponent={AddIcon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdUnitTargeting.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdUnitTargeting = NewAdUnitHoc(withStyles(styles)(AdUnitTargeting))\n\nexport default Translate(NewAdUnitTargeting)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Divider from '@material-ui/core/Divider'\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\nimport WcIcon from '@material-ui/icons/Wc'\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\nimport CompareArrows from '@material-ui/icons/CompareArrows'\n\nconst targetIcon = {\n\tlocation: LocationOnIcon,\n\tgender: WcIcon,\n\tage: ChildCareIcon,\n}\n\nconst getTargetType = tag => {\n\tconst type = tag.split('_')[0] || 'tags'\n\treturn type\n}\n\nclass UnitTargets extends Component {\n\ttargetArrayValues = (target, type, t, index) => {\n\t\tconst TargetIcon = targetIcon[type] || CompareArrows\n\t\treturn (\n\t\t\t<span key={target.tag + target.score + index}>\n\t\t\t\t<ListItem>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<TargetIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText\n\t\t\t\t\t\tprimary={t(target.tag, { isTarget: true })}\n\t\t\t\t\t\tsecondary={target.score}\n\t\t\t\t\t/>\n\t\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\n\t\t\t\t</ListItem>\n\t\t\t\t<Divider />\n\t\t\t</span>\n\t\t)\n\t}\n\n\tTargetsList = ({ targets = [], subHeader, t, ...rest }) => (\n\t\t<List\n\t\t\tdense\n\t\t\tsubheader={\n\t\t\t\tsubHeader ? <ListSubheader>{t(subHeader)}</ListSubheader> : null\n\t\t\t}\n\t\t>\n\t\t\t{targets.map(target => {\n\t\t\t\tconst type = getTargetType(target.tag)\n\t\t\t\treturn this.targetArrayValues(target, type, t)\n\t\t\t})}\n\t\t</List>\n\t)\n\n\trender() {\n\t\treturn <this.TargetsList {...this.props} />\n\t}\n}\n\nUnitTargets.propTypes = {\n\ttargets: PropTypes.array.isRequired,\n\tsubHeader: PropTypes.string,\n\tt: PropTypes.func.isRequired,\n}\n\nexport default UnitTargets\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\nimport { CircularProgress } from '@material-ui/core'\nimport { styles } from './styles.js'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { t } from 'selectors'\n\n// TODO: fix responsive styles\nconst propRow = ({\n\tclasses,\n\tleft,\n\tright,\n\tclassName,\n\tclassNameLeft,\n\tclassNameRight,\n\tstyle = {},\n}) => (\n\t<Grid\n\t\titem\n\t\tcontainer\n\t\tspacing={2}\n\t\txs={12}\n\t\tclassName={classnames(className)}\n\t\tstyle={style}\n\t>\n\t\t<Grid\n\t\t\titem\n\t\t\txs={12}\n\t\t\tsm={4}\n\t\t\tlg={3}\n\t\t\tclassName={classnames(classes.leftCol, classes.uppercase, classNameLeft)}\n\t\t>\n\t\t\t{left}\n\t\t</Grid>\n\t\t<Grid\n\t\t\titem\n\t\t\txs={12}\n\t\t\tsm={8}\n\t\t\tlg={9}\n\t\t\tclassName={classnames(\n\t\t\t\tclasses.rightCol,\n\t\t\t\tclasses.breakLong,\n\t\t\t\tclassNameRight\n\t\t\t)}\n\t\t>\n\t\t\t{right}\n\t\t</Grid>\n\t</Grid>\n)\n\nconst contentBox = ({ classes, children, className }) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\tclassName={className}\n\t>\n\t\t{children}\n\t</Box>\n)\n\nconst contentBody = ({ classes, children, className }) => (\n\t<Box flexGrow={1} className={className}>\n\t\t{children}\n\t</Box>\n)\n\nconst contentStickyTop = ({ classes, children, className }) => (\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\n)\n\nconst topLoading = ({ classes, msg, subMsg, className }) => (\n\t<div className={classnames(classes.contentTopLoading)}>\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\n\t\t<div>\n\t\t\t<Typography component='div'> {msg} </Typography>\n\t\t\t{subMsg && (\n\t\t\t\t<Typography component='div'>\n\t\t\t\t\t<strong>{subMsg}</strong>\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t</div>\n\t</div>\n)\n\nconst fullContentSpinner = ({ classes }) => (\n\t<CircularProgress\n\t\tclassName={classnames(classes.progressCircleCenter)}\n\t\tsize={50}\n\t/>\n)\n\nconst fullContentMessage = ({\n\tchildren,\n\tmsgs = [],\n\tspinner,\n\tcolor = 'primary',\n}) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\talignItems='center'\n\t\tjustifyContent='center'\n\t\tbgcolor={`${color}.main`}\n\t\tcolor={`${color}.contrastText`}\n\t>\n\t\t{spinner && (\n\t\t\t<Box p={4}>\n\t\t\t\t<CircularProgress\n\t\t\t\t\tcolor={`${color}.contrastText`}\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\n\t\t\t\t\tsize={69}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t)}\n\t\t{children}\n\t\t{msgs\n\t\t\t.filter(x => !!x && x.message)\n\t\t\t.map((msg, index) => {\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\n\t\t\t\treturn (\n\t\t\t\t\t<Typography key={index} component='div'>\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\n\t\t\t\t\t</Typography>\n\t\t\t\t)\n\t\t\t})}\n\t</Box>\n)\n\nexport const PropRow = withStyles(styles)(propRow)\nexport const ContentBox = withStyles(styles)(contentBox)\nexport const ContentBody = withStyles(styles)(contentBody)\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\nexport const TopLoading = withStyles(styles)(topLoading)\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\timgPreview: {\n\t\t\tmaxHeight: 225,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t\timgPreviewWrapper: {\n\t\t\theight: 'max-content',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport NewAdUnitHoc from './NewAdUnitHoc'\nimport Translate from 'components/translate/Translate'\nimport Img from 'components/common/img/Img'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\n\nclass AdUnitFormPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.save = props.save\n\t}\n\n\trender() {\n\t\tconst { classes, account, ...rest } = this.props\n\t\tconst { newItem, t } = rest\n\t\tconst { type, title, description, temp, targeting } = newItem\n\n\t\treturn (\n\t\t\t<ContentBox>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\n\t\t\t\t\t\tright={account.wallet.address}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\tright={description}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('MEDIA')}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\tclassName={classes.imgPreview}\n\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\talt={title}\n\t\t\t\t\t\t\t\tmediaMime={temp.mime}\n\t\t\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{targeting && (\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\ttargets={targeting}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* </Grid> */}\n\t\t\t\t\t<br />\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n}\n\nAdUnitFormPreview.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\treturn {\n\t\taccount: persist.account,\n\t}\n}\n\nconst NewAdUnitFormPreview = NewAdUnitHoc(withStyles(styles)(AdUnitFormPreview))\nexport default connect(mapStateToProps)(Translate(NewAdUnitFormPreview))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { Campaign } from 'adex-models'\nimport { OPENING_CAMPAIGN } from 'constants/spinners'\n\nexport default function NewCampaignHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'Campaign',\n\t\t\t\tCampaign\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = async () => {\n\t\t\tconst { actions, newItem } = this.props\n\t\t\tconst { temp } = newItem\n\t\t\tconst newTemp = { ...temp }\n\t\t\tnewTemp.waitingAction = true\n\t\t\tthis.handleChange('temp', newTemp)\n\t\t\tawait actions.openCampaign({ campaign: newItem })\n\n\t\t\tnewTemp.waitingAction = false\n\t\t\tthis.handleChange('temp', newTemp)\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('Campaign')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('Campaign')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\n\t\tconst adUnits = persist.items['AdUnit'] || {}\n\t\tconst adUnitsArray = Object.values(adUnits) || []\n\t\treturn {\n\t\t\tnewItem: new Campaign(memory.newItem['Campaign']),\n\t\t\tadUnits,\n\t\t\tadUnitsArray,\n\t\t\tspinner: memory.spinners[OPENING_CAMPAIGN],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { ContentBody } from 'components/common/dialog/content'\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\nimport {\n\tt,\n\tselectAdUnitsArray,\n\tselectAdUnits,\n\tselectNewCampaign,\n} from 'selectors'\nimport { updateNewCampaign, execute } from 'actions'\n\nfunction CampaignUnits(props) {\n\tconst { temp } = useSelector(selectNewCampaign)\n\tconst { selectedUnits } = temp\n\tconst allAdUnits = useSelector(selectAdUnits)\n\tconst allAdUnitsArray = useSelector(selectAdUnitsArray)\n\tconst hasAdUnits = allAdUnitsArray && allAdUnitsArray.length\n\n\tconst handleSelect = ({ selectedIndexes, selectedItemsIds } = {}) => {\n\t\tconst units = Object.values(selectedItemsIds).map(value => {\n\t\t\treturn allAdUnits[value]\n\t\t})\n\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.selectedUnits = selectedIndexes\n\n\t\texecute(updateNewCampaign('adUnits', units))\n\t\texecute(updateNewCampaign('temp', newTemp))\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tspacing={2}\n\t\t\t\tdirection={hasAdUnits ? null : 'column'}\n\t\t\t\talignItems={hasAdUnits ? null : 'center'}\n\t\t\t>\n\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{hasAdUnits ? (\n\t\t\t\t\t\t\t<AdUnitsTable\n\t\t\t\t\t\t\t\tselected={selectedUnits}\n\t\t\t\t\t\t\t\titems={allAdUnitsArray}\n\t\t\t\t\t\t\t\tvalidate={props.validate}\n\t\t\t\t\t\t\t\thandleSelect={handleSelect}\n\t\t\t\t\t\t\t\tnoClone\n\t\t\t\t\t\t\t\tnoDownload\n\t\t\t\t\t\t\t\trowSelectable\n\t\t\t\t\t\t\t\tnoPrint\n\t\t\t\t\t\t\t\tnoActions\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\n\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\n\t\t\t\t\t\t\t\t<NewUnitDialog\n\t\t\t\t\t\t\t\t\tvariant='extended'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default CampaignUnits\n","import React, { Component } from 'react'\nimport { DateTimePicker as MuiDateTimePicker } from 'material-ui-pickers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport CalendarIcon from '@material-ui/icons/DateRange'\nimport InputAdornment from '@material-ui/core/InputAdornment'\n\nconst CalendarIconAdor = ({\n\ticon = <CalendarIcon />,\n\ticonColor,\n\tonIconClick,\n}) => (\n\t<InputAdornment position='end'>\n\t\t<IconButton color={iconColor} onClick={onIconClick}>\n\t\t\t{icon}\n\t\t</IconButton>\n\t</InputAdornment>\n)\n\nexport class DateTimePicker extends Component {\n\trender() {\n\t\tconst { calendarIcon, icon, iconColor, onIconClick, ...rest } = this.props\n\t\treturn (\n\t\t\t<MuiDateTimePicker\n\t\t\t\tInputProps={{\n\t\t\t\t\tdisabled: rest.disabled,\n\t\t\t\t\tendAdornment: calendarIcon ? (\n\t\t\t\t\t\t<CalendarIconAdor\n\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\ticonColor={iconColor}\n\t\t\t\t\t\t\tonIconClick={onIconClick}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null,\n\t\t\t\t}}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default DateTimePicker\n\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\n\treturn (\n\t\t<DateTimePicker\n\t\t\tInputLabelProps={{\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t},\n\t\t\t\tFormLabelClasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tInputProps={{\n\t\t\t\tdisabled: rest.disabled,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastInput,\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\n\t\t\t\t},\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\n","export const styles = theme => {\n\treturn {\n\t\tdatepickerContrastInput: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\tdatepickerContrastLabel: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\t'&$datepickerContrastLabelFocused': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tdatepickerContrastLabelFocused: {},\n\t\tdatepickerContrastUnderline: {\n\t\t\t'&:after': {\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t\t'&:before': {\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport Grid from '@material-ui/core/Grid'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport TextField from '@material-ui/core/TextField'\nimport DateTimePicker from 'components/common/DateTimePicker'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport { utils } from 'ethers'\nimport MomentUtils from '@date-io/moment'\nimport {\n\tselectSpinnerById,\n\tselectMainToken,\n\tselectNewCampaign,\n\tselectValidationsById,\n\tt,\n} from 'selectors'\nimport { execute, updateNewCampaign, validateNumberString } from 'actions'\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\nimport { validations } from 'adex-models'\nconst { isNumberString } = validations\n\nconst moment = new MomentUtils()\n\nconst getTotalImpressions = ({ depositAmount, minPerImpression }) => {\n\ttry {\n\t\tconst dep = isNumberString(depositAmount) && parseFloat(depositAmount)\n\t\tconst min = isNumberString(minPerImpression) && parseFloat(minPerImpression)\n\t\tif (!dep) {\n\t\t\treturn t('DEPOSIT_NOT_SET')\n\t\t} else if (!min) {\n\t\t\treturn t('CPM_NOT_SET')\n\t\t} else {\n\t\t\tconst impressions = utils.commify(Math.floor((dep / min) * 1000))\n\t\t\treturn t('TOTAL_IMPRESSIONS', { args: [impressions] })\n\t\t}\n\t} catch (err) {\n\t\treturn 'N/A'\n\t}\n}\n\nfunction CampaignFinance({ validateId }) {\n\tconst invalidFields = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst campaign = useSelector(selectNewCampaign)\n\n\tconst {\n\t\ttitle,\n\t\tvalidators,\n\t\tdepositAmount,\n\t\tminPerImpression,\n\t\t// depositAsset,\n\t\tactiveFrom,\n\t\twithdrawPeriodStart,\n\t\tminTargetingScore,\n\t\ttemp = {},\n\t} = campaign\n\n\tconst { maxChannelFees, maxDepositFormatted } = temp\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\t)\n\n\tconst from = activeFrom || undefined\n\tconst to = withdrawPeriodStart || undefined\n\tconst now = moment.date().valueOf()\n\n\tconst errTitle = invalidFields['title']\n\tconst errDepAmnt = invalidFields['depositAmount']\n\tconst errMin = invalidFields['minPerImpression']\n\tconst errFrom = invalidFields['activeFrom']\n\tconst errTo = invalidFields['withdrawPeriodStart']\n\n\tconst impressions = getTotalImpressions({\n\t\tdepositAmount,\n\t\tminPerImpression,\n\t})\n\n\tconst leader = validators[0] || {}\n\tconst follower = validators[1] || {}\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('title', ev.target.value))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<FormControl fullWidth disabled>\n\t\t\t\t\t\t\t<InputLabel htmlFor='leader-validator'>\n\t\t\t\t\t\t\t\t{t('ADV_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t<Input id='leader-validator' value={leader.url || ''} />\n\t\t\t\t\t\t\t<FormHelperText>{leader.id}</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<FormControl fullWidth disabled>\n\t\t\t\t\t\t\t<InputLabel htmlFor='follower-validator'>\n\t\t\t\t\t\t\t\t{t('PUB_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t<Input id='follower-validator' value={follower.url || ''} />\n\t\t\t\t\t\t\t<FormHelperText>{follower.id}</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\n\t\t\t\t\t\t\t\targs: [maxDepositFormatted, symbol, maxChannelFees, symbol],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tname='depositAmount'\n\t\t\t\t\t\t\tvalue={depositAmount}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('depositAmount', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'depositAmount',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty\n\t\t\t\t\t\t\t\t\t? errDepAmnt.errMsg\n\t\t\t\t\t\t\t\t\t: t('DEPOSIT_AMOUNT_HELPER_TXT', {\n\t\t\t\t\t\t\t\t\t\t\targs: [maxChannelFees, symbol],\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('CPM_LABEL', { args: [impressions] })}\n\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\tvalue={minPerImpression}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('minPerImpression', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty ? errMin.errMsg : t('CPM_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\n\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\n\t\t\t\t\t\t\tminDate={now}\n\t\t\t\t\t\t\tmaxDate={to}\n\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('activeFrom', val.valueOf()))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvalue={from || null}\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\n\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\n\t\t\t\t\t\t\tminDate={from || now}\n\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('withdrawPeriodStart', val.valueOf()))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue={to || null}\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={6}>\n\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\tchecked={!!minTargetingScore}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'minTargetingScore',\n\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked ? 1 : null\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvalue='minTargetingScore'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nCampaignFinance.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default CampaignFinance\n","import React from 'react'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { TopLoading } from 'components/common/dialog/content'\n\nexport const WalletAction = ({ t, authType }) => {\n\tlet msg = ''\n\tlet subMsg\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.LEDGER.name:\n\t\t\tmsg = 'LEDGER_WAITING_ACTION'\n\t\t\tbreak\n\t\tdefault:\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\n\t\t\tbreak\n\t}\n\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport NewCampaignHoc from './NewCampaignHoc'\nimport Grid from '@material-ui/core/Grid'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport { formatDateTime } from 'helpers/formatters'\nimport {\n\tselectAccountIdentityAddr,\n\tselectAuthType,\n\tselectMainToken,\n\tselectSpinnerById,\n\tt,\n} from 'selectors'\nimport { execute, getCampaignActualFees } from 'actions'\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\n\nconst UnitsTable = ({ items }) => {\n\treturn (\n\t\t<Grid item sm={12}>\n\t\t\t<ContentBody>\n\t\t\t\t<AdUnitsTable items={items} noSearch noActions noDownload noPrint />\n\t\t\t</ContentBody>\n\t\t</Grid>\n\t)\n}\n\nfunction CampaignFormPreview({ newItem } = {}) {\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst authType = useSelector(selectAuthType)\n\tconst mainToken = useSelector(selectMainToken)\n\tconst { symbol } = mainToken\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\t)\n\n\tconst {\n\t\ttitle,\n\t\t// targeting,\n\t\tadUnits,\n\t\tvalidators,\n\t\tdepositAmount,\n\t\tminPerImpression,\n\t\t// maxPerImpression,\n\t\t// depositAsset,\n\t\twithdrawPeriodStart,\n\t\tactiveFrom,\n\t\tminTargetingScore,\n\t\t// nonce\n\t\ttemp = {},\n\t} = newItem\n\n\tuseEffect(() => {\n\t\texecute(getCampaignActualFees())\n\t}, [])\n\n\treturn spinner ? (\n\t\t<FullContentSpinner />\n\t) : (\n\t\t<ContentBox>\n\t\t\t{temp.waitingAction ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<WalletAction t={t} authType={authType} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\n\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('targeting', { isProp: true })}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\ttargets={targeting}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/> */}\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('adUnits', { isProp: true })}\n\t\t\t\t\tright={<UnitsTable items={adUnits} />}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('validators', { isProp: true })}\n\t\t\t\t\tright={\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{validators.map(val => (\n\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('CPM', { isProp: true })}\n\t\t\t\t\tright={`${minPerImpression} ${symbol}`}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\n\t\t\t\t\tright={`${depositAmount} ${symbol}`}\n\t\t\t\t/>\n\n\t\t\t\t<PropRow left={t('FEES')} right={`${temp.feesFormatted} ${symbol}`} />\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('CAMPAIGN_FEES_AND_BUDGET')}\n\t\t\t\t\tright={`${temp.totalSpendFormatted} ${symbol}`}\n\t\t\t\t/>\n\n\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('maxPerImpression', { isProp: true })}\n\t\t\t\t\t\tright={maxPerImpression}\n\t\t\t\t\t/> */}\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\n\t\t\t\t\tright={formatDateTime(activeFrom)}\n\t\t\t\t/>\n\t\t\t\t<PropRow\n\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\n\t\t\t\t/>\n\t\t\t\t{minTargetingScore && <PropRow right={t('CAMPAIGN_MIN_TARGETING')} />}\n\t\t\t\t{/* <PropRow\n\t\t\t\t\t\tleft={t('created', { isProp: true })}\n\t\t\t\t\t\tright={formatDateTime(created)}\n\t\t\t\t\t/> */}\n\n\t\t\t\t{/* </Grid> */}\n\t\t\t\t<br />\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nCampaignFormPreview.propTypes = {\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewCampaignFormPreview = NewCampaignHoc(CampaignFormPreview)\nexport default NewCampaignFormPreview\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdSlot } from 'adex-models'\n\nexport default function NewAdUnitHoc(Decorated) {\n\tclass ItemForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tsaved: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value, newValues) => {\n\t\t\tthis.props.actions.updateNewItem(\n\t\t\t\tthis.props.newItem,\n\t\t\t\tnewValues || { [prop]: value },\n\t\t\t\t'AdSlot',\n\t\t\t\tAdSlot\n\t\t\t)\n\t\t}\n\n\t\tonSave = () => {\n\t\t\tconst { closeDialog } = this.props\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\t\t}\n\n\t\tsave = () => {\n\t\t\tconst { actions, newItem } = this.props\n\n\t\t\tactions.addSlot(newItem)\n\n\t\t\tthis.onSave()\n\t\t\tactions.resetNewItem('AdSlot')\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tthis.onSave()\n\t\t\tthis.props.actions.resetNewItem('AdSlot')\n\t\t}\n\n\t\trender() {\n\t\t\tconst { classes, ...rest } = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tItemForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tnewItem: PropTypes.object.isRequired,\n\t\ttitle: PropTypes.string,\n\t\taddTo: PropTypes.object,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { memory } = state\n\t\treturn {\n\t\t\tnewItem: new AdSlot(memory.newItem['AdSlot']),\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(ItemForm)\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport {\n\tt,\n\tselectMainToken,\n\tselectNewAdSlot,\n\tselectValidationsById,\n\tselectSpinnerById,\n\tselectSlotTypesSourceWithDemands,\n} from 'selectors'\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\nimport {\n\tupdateSlotsDemandThrottled,\n\tvalidateNumberString,\n\tupdateNewSlot,\n\texecute,\n} from 'actions'\n\nfunction AdSlotBasic({ validateId }) {\n\tconst newItem = useSelector(selectNewAdSlot)\n\tconst adTypesSource = useSelector(selectSlotTypesSourceWithDemands)\n\tconst { title, description, type, minPerImpression } = newItem\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, UPDATING_SLOTS_DEMAND)\n\t)\n\n\tconst invalidFields = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tuseEffect(() => {\n\t\texecute(updateSlotsDemandThrottled())\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst errTitle = invalidFields['title']\n\tconst errDescription = invalidFields['description']\n\tconst errMin = invalidFields['minPerImpression']\n\tconst errType = invalidFields['type']\n\tconst { symbol } = selectMainToken\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => execute(updateNewSlot('title', ev.target.value))}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(updateNewSlot('description', ev.target.value))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={value => execute(updateNewSlot('type', value))}\n\t\t\t\t\t\t\tsource={adTypesSource}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\terror={errType && !!errType.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrType && !!errType.dirty\n\t\t\t\t\t\t\t\t\t? errType.errMsg\n\t\t\t\t\t\t\t\t\t: t('SLOT_TYPE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\n\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\tvalue={minPerImpression}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\texecute(updateNewSlot('minPerImpression', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\n\t\t\t\t\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nAdSlotBasic.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdSlotBasic\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport ValidImageHoc from 'components/dashboard/forms/ValidImageHoc'\nimport Collapse from '@material-ui/core/Collapse'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Switch from '@material-ui/core/Switch'\nimport { schemas, Joi } from 'adex-models'\n\nconst { adUnitPost } = schemas\n\nconst getWidAndHightFromType = type => {\n\ttype = type || 'legacy_300x250'\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n\nclass AdSlotMedia extends Component {\n\tcomponentDidMount() {\n\t\tconst { newItem } = this.props\n\t\tconst { temp, targetUrl } = newItem\n\t\tconst { useFallback } = temp\n\n\t\tif (useFallback) {\n\t\t\tthis.validateImage(useFallback)\n\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\n\t\t}\n\t}\n\n\tvalidateImage = useFallback => {\n\t\tconst { newItem, validate, validateMedia } = this.props\n\t\tconst { type, temp } = newItem\n\t\tconst { tempUrl, mime } = temp\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tif (!useFallback) {\n\t\t\tvalidate('temp', {\n\t\t\t\tisValid: true,\n\t\t\t\terr: {\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t},\n\t\t\t\tdirty: true,\n\t\t\t})\n\t\t} else if (tempUrl) {\n\t\t\tvalidateMedia(\n\t\t\t\t{\n\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\twidthTarget: width,\n\t\t\t\t\theightTarget: height,\n\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\texact: true,\n\t\t\t\t\trequired: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttempUrl,\n\t\t\t\t\tmime,\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t}\n\n\tvalidateFallbackUrl = (targetUrl, dirty, useFallback) => {\n\t\tconst result = Joi.validate(targetUrl, adUnitPost.targetUrl)\n\t\tthis.props.validate('targetUrl', {\n\t\t\tisValid: !useFallback || !result.error,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\thandleFallbackChange = useFallback => {\n\t\tconst { temp, targetUrl } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.useFallback = useFallback\n\n\t\tthis.props.handleChange('temp', newTemp)\n\t\tthis.validateFallbackUrl(targetUrl, null, useFallback)\n\t\tthis.validateImage(useFallback)\n\t}\n\n\thandleImgChange = (prop, img) => {\n\t\tconst { newItem, handleChange } = this.props\n\t\tconst newTemp = { ...newItem.temp, ...img }\n\t\thandleChange(prop, newTemp)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tnewItem,\n\t\t\tt,\n\t\t\tvalidateMedia,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t} = this.props\n\t\tconst { targetUrl, type, temp } = newItem\n\t\tconst useFallback = temp.useFallback || false\n\t\tconst errImg = this.props.invalidFields['temp']\n\t\tconst errFallbackUrl = invalidFields['targetUrl']\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\tchecked={useFallback}\n\t\t\t\t\t\t\t\t\tonChange={ev => this.handleFallbackChange(ev.target.checked)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormHelperText>{t('USE_FALLBACK_DATA_INFO')}</FormHelperText>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Collapse in={useFallback}>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\t\t\tonChange={ev => handleChange('targetUrl', ev.target.value)}\n\t\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, true, useFallback)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\t\tthis.validateFallbackUrl(targetUrl, false, useFallback)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\n\t\t\t\t\t\t\t\t\timgSrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\t\tonChange={validateMedia.bind(this, {\n\t\t\t\t\t\t\t\t\t\tpropsName: 'temp',\n\t\t\t\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tonChange: this.handleImgChange,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terrMsg={errImg ? errImg.errMsg : ''}\n\t\t\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Collapse>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotMedia.propTypes = {\n\ttitle: PropTypes.string,\n\tnewItem: PropTypes.object.isRequired,\n}\n\nconst NewAdSlotMedia = NewAdSlotHoc(ValidImageHoc(AdSlotMedia))\n\nexport default Translate(NewAdSlotMedia)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Grid from '@material-ui/core/Grid'\nimport Slider from '@material-ui/core/Slider'\nimport IconButton from '@material-ui/core/IconButton'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport AddIcon from '@material-ui/icons/Add'\nimport Autocomplete from 'components/common/autocomplete'\nimport Typography from '@material-ui/core/Typography'\nimport Dropdown from 'components/common/dropdown'\nimport { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nconst AcTags = autocompleteTagsSingleSelect()\n\nconst SOURCES = {\n\ttags: { src: AcTags, collection: 'tags' },\n\tcustom: { src: [], collection: 'tags' },\n}\n\nconst styles = {\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n}\nconst marks = [\n\t{\n\t\tvalue: 5,\n\t\tlabel: 'Low',\n\t},\n\t{\n\t\tvalue: 50,\n\t\tlabel: 'Medium',\n\t},\n\t{\n\t\tvalue: 95,\n\t\tlabel: 'High',\n\t},\n]\n\nconst SourcesSelect = Object.keys(SOURCES).map(key => {\n\treturn {\n\t\tvalue: {\n\t\t\tkey: key, // FOR DROPDOWN\n\t\t\tsource: key,\n\t\t\tcollection: SOURCES[key].collection,\n\t\t\ttarget: { tag: '', score: 1 },\n\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t},\n\t\tlabel: translate(`ADD_NEW_${key.toUpperCase()}_TARGET`),\n\t}\n})\n\nclass AdSlotTargeting extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tconst { targets } = props.newItem.temp || {}\n\t\tthis.state = {\n\t\t\ttargets: targets || [],\n\t\t}\n\t}\n\n\tupdateNewItemCollections(targets) {\n\t\tconst collections = [...targets].reduce(\n\t\t\t(all, tg) => {\n\t\t\t\tconst newCollection = all[tg.collection] || []\n\t\t\t\t// NOTE: just skip empty tags\n\t\t\t\tif (!!tg.target.tag) {\n\t\t\t\t\tnewCollection.push(tg.target)\n\t\t\t\t}\n\t\t\t\tall[tg.collection] = newCollection\n\t\t\t\treturn all\n\t\t\t},\n\t\t\t{ targeting: [], tags: [] }\n\t\t)\n\n\t\tconst { temp } = this.props.newItem\n\t\tconst newTemp = { ...temp }\n\n\t\t// Need this to keep the state if user get back\n\t\tnewTemp.targets = [...targets]\n\t\tcollections.temp = newTemp\n\n\t\tthis.props.handleChange(null, null, collections)\n\t}\n\n\thandleTargetChange = (index, prop, newValue) => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...newTargets[index].target }\n\t\tnewTarget[prop] = newValue\n\t\tnewTargets[index] = { ...newTargets[index], target: newTarget }\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tnewTarget = target => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tconst newTarget = { ...target }\n\t\tnewTarget.key = newTargets.length\n\t\tnewTarget.target = { ...target.target }\n\t\tnewTargets.push(newTarget)\n\t\tthis.setState({ targets: newTargets })\n\t}\n\n\tremoveTarget = index => {\n\t\tconst newTargets = [...this.state.targets]\n\t\tnewTargets.splice(index, 1)\n\t\tthis.updateNewItemCollections(newTargets)\n\t\tthis.setState({ targets: newTargets })\n\t\tthis.validateAutocomplete({\n\t\t\tid: `target-${index}`,\n\t\t\tisValid: true,\n\t\t\tdirty: false,\n\t\t})\n\t}\n\n\tvalidateAutocomplete = ({ id, isValid, dirty }) => {\n\t\tthis.props.validate(id, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'TARGETING_REQUIRED' },\n\t\t\tdirty,\n\t\t})\n\t}\n\n\ttargetTag = ({\n\t\tsource = [],\n\t\tcollection,\n\t\tplaceholder,\n\t\tlabel,\n\t\tindex,\n\t\ttarget,\n\t\tt,\n\t\tclasses,\n\t\tinvalidFields,\n\t}) => {\n\t\tconst id = `target-${index}`\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tdirection='auto'\n\t\t\t\t\t\topenOnClick\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\terror={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t\t\t\terrorText={\n\t\t\t\t\t\t\tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t\t\t\t\t\t? invalidFields[id].errMsg\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={newValue => {\n\t\t\t\t\t\t\tthis.handleTargetChange(index, 'tag', newValue, collection)\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: newValue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonInit={() =>\n\t\t\t\t\t\t\tthis.validateAutocomplete({\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tisValid: target.tag,\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// validate={validate}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tsource={source}\n\t\t\t\t\t\tvalue={target.tag}\n\t\t\t\t\t\tsuggestionMatch='anywhere'\n\t\t\t\t\t\tshowSuggestionsWhenValueIsSet={true}\n\t\t\t\t\t\tallowCreate={!source.length}\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={11} md={5}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography id={`target-score-${index}`}>\n\t\t\t\t\t\t\t{/*TODO: Translate target name*/}\n\t\t\t\t\t\t\t{t('TARGET_SCORE_LABEL', {\n\t\t\t\t\t\t\t\targs: [target.score],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\tclasses={{ root: classes.slider, markLabel: classes.markLabel }}\n\t\t\t\t\t\t\taria-labelledby={`target-score-${index}`}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\tdisabled={!target.tag}\n\t\t\t\t\t\t\tvalue={target.score}\n\t\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\t\tonChange={(ev, newValue) =>\n\t\t\t\t\t\t\t\tthis.handleTargetChange(index, 'score', newValue, collection)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item container xs={1} md={1} alignItems='center'>\n\t\t\t\t\t<IconButton onClick={() => this.removeTarget(index)}>\n\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// newItem,\n\t\t\tclasses,\n\t\t\t...rest\n\t\t} = this.props\n\t\t// const { targeting, tags } = newItem\n\n\t\tconst { targets } = this.state\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t{[...targets].map(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsource = '',\n\t\t\t\t\t\t\t\t\tcollection,\n\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\tplaceholder,\n\t\t\t\t\t\t\t\t\ttarget = {},\n\t\t\t\t\t\t\t\t} = {},\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t<this.targetTag\n\t\t\t\t\t\t\t\t\tkey={index} // TODO\n\t\t\t\t\t\t\t\t\tlabel={t(label)}\n\t\t\t\t\t\t\t\t\tplaceholder={t(placeholder)}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\tsource={(SOURCES[source] || {}).src || []}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tonChange={target => {\n\t\t\t\t\t\t\t\tthis.newTarget({ ...target })\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsource={[...SourcesSelect]}\n\t\t\t\t\t\t\tvalue={''}\n\t\t\t\t\t\t\tlabel={t('NEW_TARGET')}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\tIconComponent={AddIcon}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAdSlotTargeting.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n\tdescriptionHelperTxt: PropTypes.string,\n\tnameHelperTxt: PropTypes.string,\n}\n\nconst NewAdSlotTargeting = NewAdSlotHoc(withStyles(styles)(AdSlotTargeting))\n\nexport default Translate(NewAdSlotTargeting)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport NewAdSlotHoc from './NewAdSlotHoc'\nimport Translate from 'components/translate/Translate'\nimport Img from 'components/common/img/Img'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\nimport { selectMainToken } from 'selectors'\n\nconst SlotFallback = ({ img, targetUrl, t, classes }) => {\n\treturn (\n\t\t<div>\n\t\t\t<PropRow\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\n\t\t\t\tright={\n\t\t\t\t\t<Img\n\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\timg: classes.imgPreview,\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\n\t\t\t\t\t\talt={targetUrl}\n\t\t\t\t\t\tmediaMime={img.mime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<PropRow\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\n\t\t\t\tright={\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\n\t\t\t\t\t\t{targetUrl}\n\t\t\t\t\t</Anchor>\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nclass AdSlotPreview extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.save = props.save\n\t}\n\n\trender() {\n\t\tconst { classes, account, mainTokenSymbol, ...rest } = this.props\n\t\tconst { newItem, t } = rest\n\t\tconst { type, title, description, temp, tags, targetUrl } = newItem\n\t\tconst { minPerImpression } = temp\n\n\t\treturn (\n\t\t\t<ContentBox>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('owner', { isProp: true })}\n\t\t\t\t\t\tright={account.wallet.address}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\tright={description}\n\t\t\t\t\t/>\n\t\t\t\t\t<PropRow\n\t\t\t\t\t\tleft={t('MIN_CPM_SLOT_LABEL')}\n\t\t\t\t\t\tright={`${minPerImpression} ${mainTokenSymbol}`}\n\t\t\t\t\t/>\n\t\t\t\t\t{temp.useFallback && (\n\t\t\t\t\t\t<SlotFallback\n\t\t\t\t\t\t\timg={temp}\n\t\t\t\t\t\t\ttargetUrl={targetUrl}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* </Grid> */}\n\t\t\t\t\t<br />\n\t\t\t\t\t{tags && (\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('tags', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\ttargets={tags}\n\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t// subHeader={'TARGETING'}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n}\n\nAdSlotPreview.propTypes = {\n\taccount: PropTypes.object.isRequired,\n\tnewItem: PropTypes.object.isRequired,\n\ttitle: PropTypes.string,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\treturn {\n\t\taccount: persist.account,\n\t\tmainTokenSymbol: selectMainToken(state).symbol,\n\t}\n}\n\nconst NewAdSlotPreview = NewAdSlotHoc(withStyles(styles)(AdSlotPreview))\nexport default connect(mapStateToProps)(Translate(NewAdSlotPreview))\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport FormSteps from 'components/dashboard/forms/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport { AdUnit, AdSlot, Campaign } from 'adex-models'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\nimport AddIcon from '@material-ui/icons/Add'\nimport SaveIcon from '@material-ui/icons/Save'\nimport NewAdUnitHoc from './AdUnit/NewAdUnitHoc'\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\nimport AdUnitTargeting from './AdUnit/AdUnitTargeting'\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\nimport NewCampaignHoc from './Campaign/NewCampaignHoc'\nimport CampaignUnits from './Campaign/CampaignUnits'\n// import CampaignTargeting from './Campaign/CampaignTargeting'\nimport CampaignFinance from './Campaign/CampaignFinance'\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\nimport NewAdSlotHoc from './AdSlot/NewAdSlotHoc'\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\nimport AdSlotTargeting from './AdSlot/AdSlotTargeting'\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\n\nimport {\n\texecute,\n\tvalidateNewCampaignFinance,\n\tvalidateNewCampaignAdUnits,\n\tvalidateNewSlotBasics,\n} from 'actions'\n\nconst SaveBtn = ({ newItem, t, save, ...rest }) => {\n\treturn (\n\t\t<Button color='primary' onClick={save}>\n\t\t\t{/*TODO: withStyles */}\n\t\t\t<SaveIcon style={{ marginRight: 8 }} />\n\t\t\t{t('SAVE')}\n\t\t</Button>\n\t)\n}\n\nconst SendBtn = ({ saveBtnLabel, saveBtnIcon, newItem, t, save, ...rest }) => {\n\treturn (\n\t\t<Button\n\t\t\tcolor='primary'\n\t\t\tonClick={save}\n\t\t\tdisabled={newItem.temp.waitingAction}\n\t\t>\n\t\t\t{newItem.temp.waitingAction ? (\n\t\t\t\t<HourglassEmptyIcon />\n\t\t\t) : (\n\t\t\t\tsaveBtnIcon || <SaveIcon style={{ marginRight: 8 }} />\n\t\t\t)}\n\t\t\t{t(saveBtnLabel || 'OPEN_CAMPAIGN')}\n\t\t</Button>\n\t)\n}\n\nconst SaveBtnWithAdUnit = NewAdUnitHoc(SaveBtn)\nconst SaveBtnWithCampaign = NewCampaignHoc(SendBtn)\nconst SaveBtnWithAdSlot = NewAdSlotHoc(SaveBtn)\n\nconst CancelBtn = ({ ...props }) => {\n\treturn <Button onClick={props.cancel}>{props.t('CANCEL')}</Button>\n}\n\nconst CancelBtnWithItem = NewAdUnitHoc(CancelBtn)\nconst CancelBtnWithCampaign = NewCampaignHoc(CancelBtn)\nconst CancelBtnWithAdSlot = NewAdSlotHoc(CancelBtn)\n\nconst dialogCommon = {\n\tdarkerBackground: true,\n\ticon: <AddIcon />,\n}\n\n// Ad unit\nexport const NewUnitSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithAdUnit}\n\t\tCancelBtn={CancelBtnWithItem}\n\t\tvalidateIdBase={'new-AdUnit-'}\n\t\titemType={'AdUnit'}\n\t\tstepsId={'new-adunit-'}\n\t\tstepsPages={[\n\t\t\t{ title: 'UNIT_BASIC_STEP', page: AdUnitBasic },\n\t\t\t{ title: 'UNIT_MEDIA_STEP', page: AdUnitMedia },\n\t\t\t{ title: 'UNIT_TARGETS_STEP', page: AdUnitTargeting },\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\tpage: AdUnitFormPreview,\n\t\t}}\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\n\t\tnoDefaultImg\n\t\titemModel={AdUnit}\n\t/>\n)\n\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\n\nexport const NewUnitDialog = props => (\n\t<NewUnitStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_UNIT'\n\t\ttitle='CREATE_NEW_UNIT'\n\t/>\n)\n\nconst copyProps = {\n\tdarkerBackground: true,\n\ticon: <FileCopyIcon color='primary' />,\n}\n\nexport const NewCloneUnitDialog = props => (\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\n)\n\n// Campaign\nexport const NewCampaignSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithCampaign}\n\t\tCancelBtn={CancelBtnWithCampaign}\n\t\tvalidateIdBase={'new-Campaign-'}\n\t\titemType={'Campaign'}\n\t\tstepsId={'new-campaign-'}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_UNITS_STEP',\n\t\t\t\tpage: CampaignUnits,\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewCampaignAdUnits({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t// NOTE: Only at ad units at the moment\n\t\t\t// { title: 'CAMPAIGN_TARGETING_STEP', page: CampaignTargeting },\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_FINANCE_STEP',\n\t\t\t\tpage: CampaignFinance,\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewCampaignFinance({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\tpage: CampaignFormPreview,\n\t\t}}\n\t\titemModel={Campaign}\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\n\t/>\n)\n\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\n\nexport const NewCampaignDialog = props => (\n\t<NewCampaignStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_CAMPAIGN'\n\t\ttitle='CREATE_NEW_CAMPAIGN'\n\t/>\n)\n\n// Ad slot\nexport const NewSlotSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tSaveBtn={SaveBtnWithAdSlot}\n\t\tCancelBtn={CancelBtnWithAdSlot}\n\t\tvalidateIdBase={'new-AdUnit-'}\n\t\titemType={'AdSlot'}\n\t\tstepsId={'new-slot-'}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'SLOT_BASIC_STEP',\n\t\t\t\tpage: AdSlotBasic,\n\t\t\t\tpageValidation: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewSlotBasics({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t{ title: 'SLOT_PASSBACK_STEP', page: AdSlotMedia },\n\t\t\t{ title: 'SLOT_TAGS_STEP', page: AdSlotTargeting },\n\t\t]}\n\t\tstepsPreviewPage={{ title: 'PREVIEW_AND_SAVE_ITEM', page: AdSlotPreview }}\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\n\t\titemModel={AdSlot}\n\t/>\n)\n\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\n\nexport const NewSlotDialog = props => (\n\t<NewSlotStepsWithDialog\n\t\t{...props}\n\t\t{...dialogCommon}\n\t\tbtnLabel='NEW_SLOT'\n\t\ttitle='CREATE_NEW_SLOT'\n\t/>\n)\n","import React, { useEffect, useState, useCallback } from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton } from '@material-ui/core'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { t, selectAdUnitsTableData, selectSide } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes, noActions, noClone }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\t// TODO: fix it with css\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: !noActions,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item }) => (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{!noClone && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tcloneItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tobjModel: AdUnit,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\tonRowsSelect,\r\n})\r\n\r\nfunction AdUnitsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst {\r\n\t\titems, //\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\tcampaignUnits,\r\n\t\thandleSelect,\r\n\t\tselected = [],\r\n\t} = props\r\n\r\n\tconst [selectorArgs, setSelectorArgs] = useState({})\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdUnitsTableData,\r\n\t\tselectorArgs,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t}),\r\n\t})\r\n\r\n\t// NOTE: despite useTableData hook the component is updating.\r\n\t// 'selectorArgs' are object and they have new reference on each update\r\n\t// that causes useTableData to update the data on selectorArgs change.\r\n\t// If selectorArgs are reference type we need to use useState fot them\r\n\t// TODO: find why useTableData causing this update\r\n\tuseEffect(() => {\r\n\t\tsetSelectorArgs({ side, items })\r\n\t}, [side, items])\r\n\r\n\tconst onRowsSelect = useCallback(\r\n\t\t(_, allRowsSelected) => {\r\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\r\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\r\n\t\t},\r\n\t\t[data, handleSelect]\r\n\t)\r\n\r\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={campaignUnits ? t('CAMPAIGN_AD_UNITS') : t('ALL_UNITS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdUnitsTable\r\n","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { t, selectSide, selectAdSlotsTableData } from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Img\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_STATUS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to }) => (\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t// placement='top'\r\n\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\taria-label='view'\r\n\t\t\t\t>\r\n\t\t\t\t\t<RRIconButton to={to} variant='contained'>\r\n\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdSlotsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdSlotsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_SLOTS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdSlotsTable\r\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tcard: {\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing,\n\t\t\twidth: 320,\n\t\t\tdisplay: 'block',\n\t\t\tposition: 'relative',\n\t\t\tmaxWidth: '100%',\n\t\t\t'@media(max-width:380px)': {\n\t\t\t\tmargin: 0,\n\t\t\t\tmarginBottom: spacing,\n\t\t\t},\n\t\t},\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\twidth: 'auto',\n\t\t\tmaxHeight: '100%',\n\t\t},\n\t\tbasicInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'start',\n\t\t\tflexWrap: 'wrap',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\tlabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tmarginTop: `calc(56.25% - ${40 + spacing}px)`,\n\t\t\ttop: 0,\n\t\t\tright: spacing,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport IconButton from '@material-ui/core/IconButton'\nimport Button from '@material-ui/core/Button'\nimport EditIcon from '@material-ui/icons/Edit'\nimport Img from 'components/common/img/Img'\nimport { validUrl } from 'helpers/validators'\nimport ValidItemHoc from 'components/dashboard/forms/ValidItemHoc'\nimport Anchor from 'components/common/anchor/anchor'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\nimport { bigNumberify } from 'ethers/utils'\nimport { validations } from 'adex-models'\nimport { utils } from 'ethers'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\nimport { selectMainToken } from 'selectors'\n\nconst FallbackAdData = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\tisDemo,\n\tactiveFields,\n\tsetActiveFields,\n\tvalidate,\n\tinvalidFields,\n\ttoggleFallbackImgEdit,\n\thandleChange,\n\t...rest\n}) => {\n\tconst errFallbackAdUrl = invalidFields['fallbackAdUrl']\n\n\treturn (\n\t\t<Card className={classes.card} raised={false}>\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }} src=''>\n\t\t\t\t<Img\n\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\tclassName={classes.img}\n\t\t\t\t\tsrc={item.fallbackMediaUrl}\n\t\t\t\t\talt={item.fallbackTargetUrl}\n\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t/>\n\t\t\t</CardMedia>\n\t\t\t{/* <Fab\n\t\t\t\tmini\n\t\t\t\tcolor='secondary'\n\t\t\t\tonClick={toggleFallbackImgEdit}\n\t\t\t\tclassName={classes.editIcon}\n\t\t\t\tdisabled={isDemo}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</Fab> */}\n\t\t\t<CardContent>\n\t\t\t\t{activeFields.fallbackTargetUrl ? (\n\t\t\t\t\t<TextField\n\t\t\t\t\t\t// required\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tlabel={t('fallbackTargetUrl', { isProp: true })}\n\t\t\t\t\t\tvalue={item.fallbackTargetUrl || ''}\n\t\t\t\t\t\tonChange={ev => handleChange('fallbackTargetUrl', ev.target.value)}\n\t\t\t\t\t\t// maxLength={1024}\n\t\t\t\t\t\tonBlur={() => {\n\t\t\t\t\t\t\tsetActiveFields('fallbackTargetUrl', false)\n\t\t\t\t\t\t\tvalidate('fallbackTargetUrl', {\n\t\t\t\t\t\t\t\tisValid:\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\trest.validate('fallbackTargetUrl', {\n\t\t\t\t\t\t\t\tisValid:\n\t\t\t\t\t\t\t\t\t!item.fallbackTargetUrl || validUrl(item.fallbackTargetUrl),\n\t\t\t\t\t\t\t\terr: { msg: 'ERR_INVALID_URL' },\n\t\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={\n\t\t\t\t\t\t\terrFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t\t<span> {errFallbackAdUrl.errMsg} </span>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t!errFallbackAdUrl || !errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t\t<div>{t('SLOT_FALLBACK_AD_URL_DESCRIPTION')}</div>\n\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{item.fallbackTargetUrl ? (\n\t\t\t\t\t\t\t\t<Anchor href={item.fallbackTargetUrl} target='_blank'>\n\t\t\t\t\t\t\t\t\t{item.fallbackTargetUrl}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span style={{ opacity: 0.3 }}>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t{t('NO_FALLBACK_URL_YET')}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{/* <span>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t// disabled={!canEditImg}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\trest.setActiveFields('fallbackTargetUrl', true)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</span> */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{errFallbackAdUrl && !!errFallbackAdUrl.dirty ? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span className={classes.error}>\n\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t{errFallbackAdUrl.errMsg}{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</CardContent>\n\t\t</Card>\n\t)\n}\n\nconst ValidatedFallbackAdData = ValidItemHoc(FallbackAdData)\n\nconst updateItemTemp = ({ prop = '', value = '', item = {} } = {}) => {\n\tconst { temp } = item\n\tconst newTemp = { ...temp }\n\tnewTemp[prop] = value\n\n\treturn newTemp\n}\n\nconst validateAmount = (value = '', prop, dirty, errMsg, validate) => {\n\tconst isValidNumber = validations.isNumberString(value)\n\tconst isValid = isValidNumber && utils.parseUnits(value, 18)\n\n\tvalidate(prop, {\n\t\tisValid: isValid,\n\t\terr: { msg: errMsg || 'ERR_INVALID_AMOUNT' },\n\t\tdirty: dirty,\n\t})\n}\n\nconst SlotMinCPM = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\tisDemo,\n\tactiveFields,\n\tsetActiveFields,\n\tvalidate,\n\tinvalidFields,\n\ttoggleFallbackImgEdit,\n\thandleChange,\n\t...rest\n}) => {\n\tconst errMin = invalidFields['minPerImpression']\n\tconst { address, decimals, symbol } = selectMainToken()\n\tconst minCPM = formatTokenAmount(\n\t\tbigNumberify((item.minPerImpression || {})[address] || '0').mul(1000),\n\t\tdecimals,\n\t\ttrue\n\t)\n\n\tconst minPerImpression =\n\t\titem.temp.minPerImpression !== undefined\n\t\t\t? item.temp.minPerImpression\n\t\t\t: minCPM\n\n\treturn (\n\t\t<FormControl\n\t\t\tfullWidth\n\t\t\tclassName={classes.textField}\n\t\t\tmargin='dense'\n\t\t\terror={!!errMin}\n\t\t>\n\t\t\t<InputLabel>{t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}</InputLabel>\n\t\t\t<Input\n\t\t\t\tfullWidth\n\t\t\t\tautoFocus\n\t\t\t\ttype='text'\n\t\t\t\tname={'minPerImpression'}\n\t\t\t\tvalue={minPerImpression || ''}\n\t\t\t\tonChange={ev => {\n\t\t\t\t\tvalidateAmount(\n\t\t\t\t\t\tev.target.value,\n\t\t\t\t\t\t'minPerImpression',\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t'',\n\t\t\t\t\t\tvalidate\n\t\t\t\t\t)\n\t\t\t\t\thandleChange(\n\t\t\t\t\t\t'temp',\n\t\t\t\t\t\tupdateItemTemp({\n\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t\tmaxLength={1024}\n\t\t\t\tonBlur={ev => {\n\t\t\t\t\tsetActiveFields('minPerImpression', false)\n\t\t\t\t}}\n\t\t\t\tdisabled={!activeFields.minPerImpression}\n\t\t\t\tendAdornment={\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// disabled\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tdisabled={activeFields['minPerImpression'] || isDemo}\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tclassName={classes.buttonRight}\n\t\t\t\t\t\t\tonClick={ev => setActiveFields('minPerImpression', true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<FormHelperText>\n\t\t\t\t{errMin && !!errMin.errMsg\n\t\t\t\t\t? t(errMin.errMsg, { args: errMin.errMsgArgs })\n\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')}\n\t\t\t</FormHelperText>\n\t\t</FormControl>\n\t)\n}\n\nconst ValidatedSlotMinCPM = ValidItemHoc(SlotMinCPM)\n\nconst MediaCard = ({\n\tclasses,\n\tmediaUrl,\n\tmediaMime,\n\ttitle,\n\tcanEditImg,\n\ttoggleImgEdit,\n\turl,\n}) => (\n\t<Card className={classes.card} raised={false}>\n\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\n\t\t\t<Img\n\t\t\t\tallowFullscreen={true}\n\t\t\t\tsrc={mediaUrl}\n\t\t\t\talt={title}\n\t\t\t\tclassName={classes.img}\n\t\t\t\tmediaMime={mediaMime}\n\t\t\t\tallowVideo\n\t\t\t/>\n\t\t</CardMedia>\n\t\t{canEditImg && (\n\t\t\t<Button\n\t\t\t\tvariant='fab'\n\t\t\t\tmini\n\t\t\t\tcolor='secondary'\n\t\t\t\tonClick={toggleImgEdit}\n\t\t\t\tclassName={classes.editIcon}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</Button>\n\t\t)}\n\n\t\t{url && (\n\t\t\t<CardContent>\n\t\t\t\t<Anchor href={url} target='_blank'>\n\t\t\t\t\t{url}\n\t\t\t\t</Anchor>\n\t\t\t</CardContent>\n\t\t)}\n\t</Card>\n)\n\nconst basicProps = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\titemType,\n\tactiveFields,\n\t...rest\n}) => {\n\tconst mediaUrl = item.mediaUrl\n\tconst mediaMime = item.mediaMime\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={7}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\n\t\t\t\t\t\t{itemType === 'AdSlot' ? (\n\t\t\t\t\t\t\t<ValidatedFallbackAdData\n\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\tactiveFields={activeFields}\n\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\n\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\n\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t{itemType === 'AdSlot' && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<ValidatedSlotMinCPM\n\t\t\t\t\t\t\t\t\t\tvalidateId={item._id}\n\t\t\t\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\t\t\tactiveFields={activeFields}\n\t\t\t\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\tvalue={item.type}\n\t\t\t\t\t\t\t\t\tlabel={t('type', { isProp: true })}\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t{Array.isArray(item.tags) && itemType === 'AdSlot' && (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tvalue={item.tags\n\t\t\t\t\t\t\t\t\t\t\t.map(tag => `\"${tag.tag}(${tag.score})\"`)\n\t\t\t\t\t\t\t\t\t\t\t.join(',\\n')}\n\t\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t\tt('tags', { isProp: true }) + ` (${item.tags.length})`\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\trows={7}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} sm={12} md={12} lg={5}>\n\t\t\t\t{rightComponent}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport const BasicProps = withStyles(styles)(basicProps)\n\nconst campaignProps = ({\n\titem,\n\tt,\n\trightComponent,\n\turl,\n\tclasses,\n\tcanEditImg,\n\titemType,\n\t...rest\n}) => {\n\tconst mediaUrl = item.mediaUrl\n\tconst status = item.status || {}\n\tconst { decimals, symbol } = selectMainToken()\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={8}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className={classes.basicInfo}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={5} md={5} lg={5}>\n\t\t\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\t\t\tcanEditImg={canEditImg}\n\t\t\t\t\t\t\t\t\t\ttoggleImgEdit={rest.toggleImgEdit}\n\t\t\t\t\t\t\t\t\t\turl={url}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={7} md={7} lg={7}>\n\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('id', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={status.humanFriendlyName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.humanFriendlyName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'md'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(status.fundsDistributedRatio || 0) / 10\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, decimals) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// type='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformatTokenAmount(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbigNumberify(item.minPerImpression).mul(1000),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('CPM', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={4}>\n\t\t\t\t\t{rightComponent}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\n// ((status.fundsDistributedRatio || 0) / 10).toFixed(2)\nexport const CampaignProps = withStyles(styles)(campaignProps)\n","import Helper from 'helpers/miscHelpers'\nimport { defaults } from 'react-chartjs-2'\nimport merge from 'lodash.merge'\n\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\n// Eddie colors\nexport const CHARTS_COLORS = [\n\t'#00BAFF',\n\t'#7EDBFF',\n\t'#FF9FA8',\n\t'#14DC9C',\n\t'#61FFB2',\n\t'#ABFFE5',\n]\n\nexport let CHARTS_COMMON_OPTIONS = {\n\tresponsive: true,\n\ttooltips: {\n\t\tmode: 'label',\n\t\tcornerRadius: 2,\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\n\t},\n}\n\nexport const hexColorsToRgbaArray = (colors, alpha) => {\n\treturn colors.map(color => {\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\n\t})\n}\n\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { t, selectCampaignDoughnutStats } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction CampaignStatsDoughnut({\r\n\tcampaignId,\r\n\tmaxDataSets = CHARTS_COLORS.length,\r\n\tchartColors = CHARTS_COLORS,\r\n}) {\r\n\tconst data = useSelector(state =>\r\n\t\tselectCampaignDoughnutStats(state, {\r\n\t\t\tcampaignId,\r\n\t\t\tchartColors,\r\n\t\t\tmaxDataSets,\r\n\t\t})\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Doughnut\r\n\t\t\twidth={450}\r\n\t\t\theight={450}\r\n\t\t\tdata={data}\r\n\t\t\toptions={{\r\n\t\t\t\t// responsive: true,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\ttext: t('CAMPAIGN_STATS_PIE_CHART'),\r\n\t\t\t\t},\r\n\t\t\t\tanimation: false,\r\n\t\t\t\ttooltips: {\r\n\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\tlabel: function(item, data) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].label +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.labels[item.index] +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].data[item.index]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsDoughnut.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsDoughnut\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectCampaignStatsMaxValues,\r\n\tselectMainToken,\r\n} from 'selectors'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { useSelector } from 'react-redux'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst getCols = ({\r\n\tsymbol,\r\n\tmaxClicks,\r\n\tmaxImpressions,\r\n\tmaxEarnings,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'website',\r\n\t\tlabel: t('WEBSITE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: impressions => formatNumberWithCommas(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('WEBSITE_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t`${formatNumberWithCommas(earnings || 0)} ${symbol}`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxEarnings],\r\n\t\t\t\tfilterTitle: t('EARNINGS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => formatNumberWithCommas(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr}%`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t\tstepsCount: 20,\r\n\t\t\t\tstepsPrecision: 4,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\trowsPerPage: 20,\r\n})\r\n\r\nfunction CampaignStatsBreakdownTable({ campaignId }) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { maxClicks, maxImpressions, maxEarnings, maxCTR } = useSelector(\r\n\t\tstate => selectCampaignStatsMaxValues(state, campaignId)\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignStatsTableData,\r\n\t\tselectorArgs: campaignId,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({ symbol, maxClicks, maxImpressions, maxEarnings, maxCTR }),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('CAMPAIGN_STATS_BREAKDOWN')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsBreakdownTable.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsBreakdownTable\r\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport Translate from 'components/translate/Translate'\nimport Button from '@material-ui/core/Button'\nimport { AdUnit as AdUnitModel, Campaign as CampaignModel } from 'adex-models'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { CampaignProps } from 'components/dashboard/containers/ItemCommon'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport AppBar from '@material-ui/core/AppBar'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Anchor from 'components/common/anchor/anchor'\nimport CampaignStatsDoughnut from 'components/dashboard/charts/campaigns/CampaignStatsDoughnut'\nimport CampaignStatsBreakdownTable from 'components/dashboard/containers/Tables/CampaignStatsBreakdownTable'\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\n\n// import UnitTargets from 'components/dashboard/containers/UnitTargets'\nconst VIEW_MODE = 'campaignRowsView'\n\nexport class Campaign extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context)\n\n\t\tthis.state = {\n\t\t\ttabIndex: 0,\n\t\t\tstatistics: {},\n\t\t}\n\t}\n\n\thandleTabChange = (event, index) => {\n\t\tthis.setState({ tabIndex: index })\n\t}\n\n\tCampaignActions = ({ campaign, actions, t }) => {\n\t\treturn (\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tactions.closeCampaign({ campaign })\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tt,\n\t\t\t// classes,\n\t\t\titem,\n\t\t\t// handleChange,\n\t\t\t// activeFields,\n\t\t\t// isDemo,\n\t\t\tactions,\n\t\t\thistory,\n\t\t\t// ...rest\n\t\t} = this.props\n\t\tconst { tabIndex } = this.state\n\t\tconst units = item.spec.adUnits\n\t\tconst campaign = new CampaignModel(item)\n\t\tconst status = (campaign.status || {}).name\n\t\tconst leader = campaign.spec.validators[0]\n\t\tconst follower = campaign.spec.validators[1]\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<CampaignProps\n\t\t\t\t\titem={campaign}\n\t\t\t\t\tt={t}\n\t\t\t\t\trightComponent={\n\t\t\t\t\t\t// <UnitTargets\n\t\t\t\t\t\t// \t{...rest}\n\t\t\t\t\t\t// \ttargets={campaign.targeting}\n\t\t\t\t\t\t// \tt={t}\n\t\t\t\t\t\t// \tsubHeader={t('CAMPAIGN_TARGETING')}\n\t\t\t\t\t\t// />\n\t\t\t\t\t\t(status === 'Ready' ||\n\t\t\t\t\t\t\tstatus === 'Active' ||\n\t\t\t\t\t\t\tstatus === 'Withdraw' ||\n\t\t\t\t\t\t\tstatus === 'Unhealthy') && (\n\t\t\t\t\t\t\t<this.CampaignActions\n\t\t\t\t\t\t\t\tcampaign={campaign}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tactions={actions}\n\t\t\t\t\t\t\t\thistory={history}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<AppBar position='static' color='default'>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\n\t\t\t\t\t\t\tscrollable\n\t\t\t\t\t\t\tscrollButtons='off'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label={t('STATISTICS')} />\n\t\t\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\n\t\t\t\t\t\t\t<Tab label={t('VALIDATORS')} />\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Box clone order={{ xs: 2, md: 2, lg: 1 }}>\n\t\t\t\t\t\t\t\t\t<Grid item lg={8} md={12} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<CampaignStatsBreakdownTable campaignId={item.id} />\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box clone order={{ xs: 1, md: 1, lg: 2 }}>\n\t\t\t\t\t\t\t\t\t<Grid item lg={4} md={12} xs={12}>\n\t\t\t\t\t\t\t\t\t\t<CampaignStatsDoughnut campaignId={item.id} />\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{tabIndex === 1 && (\n\t\t\t\t\t\t\t<AdUnitsTable items={units} campaignUnits noClone />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{tabIndex === 2 && (\n\t\t\t\t\t\t\t<List>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/status`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/status`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaign.id}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nCampaign.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tunits: PropTypes.object.isRequired,\n\trowsView: PropTypes.bool.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, ownProps) {\n\tconst { persist } = state\n\t// let memory = state.memory\n\treturn {\n\t\tunits: persist.items['AdUnit'],\n\t\trowsView: !!persist.ui[VIEW_MODE],\n\t\tobjModel: CampaignModel,\n\t\titemType: 'Campaign',\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst CampaignItem = ItemHoc(withStyles(styles)(Campaign))\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(CampaignItem))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tflex: {\n\t\t\tflex: 1,\n\t\t},\n\t\tappBar: {\n\t\t\tmarginTop: spacing * 2,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t\tdatepicker: {\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: 0,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\n\t</g>,\n\n\t'AdexPublisher',\n\t'0 0 114 110'\n)\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\n\t</g>,\n\t'AdexAdvertiser',\n\t'0 0 109 94'\n)\n","import React, { Component } from 'react'\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport Translate from 'components/translate/Translate'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst SideBox = ({\n\tsalePoints = [],\n\tlinkTitle,\n\ticon,\n\ttitle,\n\tdisabled,\n\tclasses,\n\t...other\n}) => (\n\t<div\n\t\t{...other}\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\n\t>\n\t\t<div className={classes.icon}>{icon}</div>\n\t\t<h2>{title}</h2>\n\t\t<ul className={classes.salePoints}>\n\t\t\t{salePoints.map(function(point, key) {\n\t\t\t\treturn <li key={key}> {point} </li>\n\t\t\t})}\n\t\t</ul>\n\t</div>\n)\n\nconst RRSideBox = withReactRouterLink(SideBox)\n\nclass SideSelect extends Component {\n\trender() {\n\t\tlet { t, classes } = this.props\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={true}\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\n\t\t\t\tBackdropProps={{\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\troot: classes.backdrop,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tfullWidth\n\t\t\t\tmaxWidth='sm'\n\t\t\t>\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<AdvertiserLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/advertiser'\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<PublisherLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/publisher'\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n\nexport default Translate(withStyles(styles)(SideSelect))\n","export const styles = () => {\n\treturn {\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tsideBox: {\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\theight: 'auto',\n\t\t\ttextAlign: 'center',\n\t\t\tverticalAlign: 'top',\n\t\t\topacity: 0.7,\n\t\t\t'&:hover:not(.disabled)': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t\topacity: 1,\n\t\t\t},\n\t\t\t'&.disabled': {\n\t\t\t\topacity: 0.3,\n\t\t\t},\n\t\t\t'@media(max-width:425px)': {\n\t\t\t\twidth: '100%',\n\t\t\t},\n\t\t},\n\t\ticon: {\n\t\t\twidth: 110,\n\t\t\theight: 110,\n\t\t\tmargin: 'auto',\n\t\t},\n\t\tsalePoints: {\n\t\t\tpadding: 0,\n\t\t\t'& li': {\n\t\t\t\tdisplay: 'block',\n\t\t\t\tlistStyle: 'none',\n\t\t\t},\n\t\t},\n\t}\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\tinfoStatsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\tjustifyContent: 'stretch',\n\t\t\theight: '100%',\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: spacing,\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tdashboardCardBody: {\n\t\t\tmargin: spacing,\n\t\t\tpadding: spacing,\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\n\t\t},\n\t}\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Line, Chart } from 'react-chartjs-2'\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\nimport Helper from 'helpers/miscHelpers'\nimport { selectStatsChartData, selectMainToken } from 'selectors'\n\nconst commonDsProps = {\n\tfill: false,\n\tlineTension: 0.3,\n\tborderWidth: 0,\n\tpointRadius: 3,\n\tpointHitRadius: 10,\n}\n\nexport const SimpleStatistics = ({\n\tside,\n\ttimeframe = '',\n\teventType,\n\tpayouts,\n\timpressions,\n\tclicks,\n\toptions = {},\n\tt,\n\txLabel = 'TIMEFRAME',\n\ty1Label = 'DATA1',\n\ty2Label = 'DATA2',\n\ty3Label = 'DATA3',\n\ty1Color = CHARTS_COLORS[1],\n\ty2Color = CHARTS_COLORS[2],\n\ty3Color = CHARTS_COLORS[3],\n}) => {\n\tconst { symbol } = useSelector(selectMainToken)\n\n\t// Vertical line / crosshair\n\tuseEffect(() => {\n\t\tChart.pluginService.register({\n\t\t\tafterDraw: function(chart) {\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\n\t\t\t\t\tconst ctx = chart.ctx\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\n\t\t\t\t\tconst chartScalesy1 = chart.scales['y-axis-1']\n\t\t\t\t\tif (chartScalesy1) {\n\t\t\t\t\t\tconst topY = chartScalesy1.top\n\t\t\t\t\t\tconst bottomY = chartScalesy1.bottom\n\t\t\t\t\t\tctx.save()\n\t\t\t\t\t\tctx.beginPath()\n\t\t\t\t\t\tctx.moveTo(x, topY)\n\t\t\t\t\t\tctx.lineTo(x, bottomY)\n\t\t\t\t\t\tctx.lineWidth = 1 // line width\n\t\t\t\t\t\tctx.setLineDash([1, 5])\n\t\t\t\t\t\tctx.strokeStyle = '#C0C0C0' // color of the vertical line\n\t\t\t\t\t\tctx.stroke()\n\t\t\t\t\t\tctx.restore()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t})\n\n\tconst chartData = {\n\t\tlabels: payouts.labels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 0.5),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\n\t\t\t\tlabel: y1Label,\n\t\t\t\tdata: payouts.datasets,\n\t\t\t\tyAxisID: 'y-axis-1',\n\t\t\t\tpointBackgroundColor: 'transparent',\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 0.5),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\n\t\t\t\tlabel: y2Label,\n\t\t\t\tdata: impressions.datasets,\n\t\t\t\tyAxisID: 'y-axis-2',\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y3Color, 0.5),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y3Color, 1),\n\t\t\t\tlabel: y3Label,\n\t\t\t\tdata: clicks.datasets,\n\t\t\t\tyAxisID: 'y-axis-3',\n\t\t\t},\n\t\t],\n\t}\n\n\tconst linesOptions = {\n\t\tanimation: false,\n\t\tresponsive: true,\n\t\t// This and fixed height are used for proper mobile display of the chart\n\t\tmaintainAspectRatio: false,\n\t\ttitle: {\n\t\t\tdisplay: true,\n\t\t\ttext: options.title,\n\t\t},\n\t\ttooltips: {\n\t\t\tbackgroundColor: 'black',\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t\tcallbacks: {\n\t\t\t\tlabel: function(t, d) {\n\t\t\t\t\t// This adds currency MainToken (DAI) to y1Label in the tooltips\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\n\t\t\t\t\tvar yLabel = xLabel === y1Label ? `${t.yLabel} ${symbol}` : t.yLabel\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\thover: {\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t},\n\t\tscales: {\n\t\t\txAxes: [\n\t\t\t\t{\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y1Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-1',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tposition: 'right',\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y2Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-2',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tprecision: 0,\n\t\t\t\t\t},\n\t\t\t\t\t// grid line settings\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear', // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tposition: 'right',\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabelString: y3Label,\n\t\t\t\t\t},\n\t\t\t\t\tid: 'y-axis-3',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tprecision: 0,\n\t\t\t\t\t},\n\t\t\t\t\t// grid line settings\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdrawOnChartArea: false, // only want the grid lines for one axis to show up\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t}\n\n\treturn <Line height={500} data={chartData} options={linesOptions} />\n}\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport Typography from '@material-ui/core/Typography'\nimport classnames from 'classnames'\nimport InfoIcon from '@material-ui/icons/Info'\nimport { ArrowTooltip } from 'components/common/tooltips'\nimport LinearProgress from '@material-ui/core/LinearProgress'\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\troot: {\n\t\t\tposition: 'relative',\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\n\t\t\tcolor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\n\t\t\t\ttheme.palette.text.primary,\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: theme.spacing(1),\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tprogress: {\n\t\t\tbottom: 0,\n\t\t\tposition: 'absolute',\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nconst StatsCard = props => {\n\tconst {\n\t\ttitle,\n\t\tsubtitle,\n\t\tlinkCard,\n\t\tchildren,\n\t\tonClick,\n\t\tbgColor,\n\t\tloading,\n\t\texplain,\n\t} = props\n\n\tconst classes = useStyles({ bgColor })\n\n\treturn (\n\t\t<Card\n\t\t\t// raised\n\t\t\tclassName={classnames(classes.root, classes.infoCard, {\n\t\t\t\t[classes.linkCard]: !!linkCard,\n\t\t\t})}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t<CardContent>\n\t\t\t\t{title && (\n\t\t\t\t\t<Typography variant='h5' noWrap>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t\t{subtitle && (\n\t\t\t\t\t<Typography component='p' noWrap>\n\t\t\t\t\t\t{subtitle}{' '}\n\t\t\t\t\t\t{explain && (\n\t\t\t\t\t\t\t<ArrowTooltip\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t<Typography component='p' variant='caption'>\n\t\t\t\t\t\t\t\t\t\t{explain}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InfoIcon style={{ fontSize: 12 }}></InfoIcon>\n\t\t\t\t\t\t\t</ArrowTooltip>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t\t{children}\n\t\t\t</CardContent>\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\n\t\t</Card>\n\t)\n}\n\nStatsCard.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tlinkCard: PropTypes.bool,\n}\n\nexport default StatsCard\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\nimport lime from '@material-ui/core/colors/lime'\nimport deepOrange from '@material-ui/core/colors/deepOrange'\nimport amber from '@material-ui/core/colors/amber'\nimport grey from '@material-ui/core/colors/grey'\n\nconst WHITE = '#fff'\nexport const PRIMARY = '#1B75BC'\nexport const SECONDARY = '#FFAC00'\nexport const ALEX_GREY = '#3f3e3e'\nexport const ACCENT_ONE = '#57467B'\nexport const ACCENT_TWO = '#7CB4B8'\n\nconst palette = {\n\tprimary: { main: PRIMARY, contrastText: WHITE },\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\n\taccentOne: { main: ACCENT_ONE, contrastText: WHITE },\n\taccentTwo: { main: ACCENT_TWO, contrastText: WHITE },\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\n\tappBar: { main: grey[200], contrastText: grey[900] },\n\terror: deepOrange,\n\twarning: amber,\n\tfirst: lime,\n\tcontrastThreshold: 3,\n\ttonalOffset: 0.2,\n\ttext: grey,\n}\n\nexport const theme = createMuiTheme({\n\ttypography: {\n\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n\t\tfontSize: 13,\n\t},\n\tpalette: { ...palette },\n\toverrides: {\n\t\tMuiButton: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTableCell: {\n\t\t\thead: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t\troot: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t},\n\t\tMuiPaper: {\n\t\t\trounded: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTooltip: {\n\t\t\ttooltip: { borderRadius: 0 },\n\t\t},\n\t\tMuiFormControl: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiSelect: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiInputLabel: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiOutlinedInput: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\t// MuiStepIcon: {\n\t\t//     root: {\n\t\t//         color: 'yellow',\n\t\t//         '&$active': {\n\t\t//             color: 'orange'\n\t\t//         }\n\t\t//     },\n\t\t//     active: {\n\t\t//         color: 'yellow'\n\t\t//     }\n\t\t// },\n\t\tMuiTableFooter: {\n\t\t\troot: {\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tflex: 0,\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMuiAppBar: {\n\t\t\tcolorDefault: {\n\t\t\t\tbackgroundColor: palette.appBar.main,\n\t\t\t\tcolor: palette.appBar.contrastText,\n\t\t\t},\n\t\t},\n\t\tMUIDataTablePagination: {\n\t\t\ttoolbar: {\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMUIDataTableFilter: {\n\t\t\troot: {\n\t\t\t\tmaxWidth: '400px',\n\t\t\t},\n\t\t},\n\t\t// Think of accessing an element not a class\n\t\tMuiGridListTile: {\n\t\t\troot: {\n\t\t\t\twidth: '100% !important',\n\t\t\t},\n\t\t},\n\t\tMUIDataTableBodyCell: {\n\t\t\tstackedCommon: {\n\t\t\t\theight: '80px !important',\n\t\t\t},\n\t\t},\n\t},\n})\n\nexport const themeMUI = responsiveFontSizes(theme, {\n\toptions: ['xs', 'sm', 'md', 'lg', 'xl'],\n\tfactor: 3,\n})\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { execute, updateAnalyticsTimeframe } from 'actions'\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\nimport Dropdown from 'components/common/dropdown'\nimport Grid from '@material-ui/core/Grid'\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\nimport StatsCard from './StatsCard'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tPRIMARY,\n\tSECONDARY,\n\tACCENT_ONE,\n\tACCENT_TWO,\n} from 'components/App/themeMUi'\nimport { styles } from './styles'\nimport { formatNumberWithCommas } from 'helpers/formatters'\nimport {\n\tt,\n\tselectTotalImpressions,\n\tselectTotalMoney,\n\tselectAverageCPM,\n\tselectMainToken,\n\tselectAnalytics,\n\tselectTotalClicks,\n\tselectStatsChartData,\n} from 'selectors'\n\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\n\tconst translated = { ...tf }\n\ttranslated.label = t(tf.label)\n\treturn translated\n})\n\nconst metrics = {\n\tpublisher: [\n\t\t{\n\t\t\tlabel: t('LABEL_REVENUE'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_TWO,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CLICKS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: SECONDARY,\n\t\t},\n\t],\n\tadvertiser: [\n\t\t{\n\t\t\tlabel: t('LABEL_SPEND'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_ONE,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CLICKS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: SECONDARY,\n\t\t},\n\t],\n}\n\nconst timeHints = {\n\thour: 'SHOWING_LAST_HOUR',\n\tday: 'SHOWING_LAST_24_HOURS',\n\tweek: 'SHOWING_LAST_7_DAYS',\n}\n\nexport function BasicStats({ side }) {\n\tconst useStyles = makeStyles(styles)\n\tconst classes = useStyles()\n\tconst { symbol } = useSelector(selectMainToken)\n\n\tconst timeframe = useSelector(selectAnalytics).timeframe || ''\n\tconst totalImpressions = useSelector(state =>\n\t\tselectTotalImpressions(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalClicks = useSelector(state =>\n\t\tselectTotalClicks(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalMoney = useSelector(state =>\n\t\tselectTotalMoney(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst averageCPM = useSelector(state =>\n\t\tselectAverageCPM(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst loadingImpressions = totalImpressions === null\n\tconst loadingMoney = totalMoney === null\n\tconst loadingCPM = averageCPM === null\n\tconst loadingClicks = totalClicks === null\n\n\tconst payouts = useSelector(state =>\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t\tnoLastOne: true,\n\t\t})\n\t)\n\n\tconst impressions = useSelector(state =>\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: true,\n\t\t})\n\t)\n\n\tconst clicks = useSelector(state =>\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'CLICK',\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: true,\n\t\t})\n\t)\n\tconst dataInSync =\n\t\t(clicks.labels[clicks.labels.length - 1] ===\n\t\t\timpressions[impressions.labels.length - 1]) ===\n\t\tpayouts[payouts.labels.length - 1]\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<div className={classes.infoStatsContainer}>\n\t\t\t\t\t<StatsCard>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\n\t\t\t\t\t\t\thelperText={t(timeHints[timeframe])}\n\t\t\t\t\t\t\tonChange={val => execute(updateAnalyticsTimeframe(val))}\n\t\t\t\t\t\t\tsource={timeFrames}\n\t\t\t\t\t\t\tvalue={timeframe}\n\t\t\t\t\t\t\thtmlId='timeframe-select'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</StatsCard>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='primary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t\tloading={loadingImpressions && !dataInSync}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='secondary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_CLICKS')}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_CLICKS')}\n\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\tloadingClicks &&\n\t\t\t\t\t\t\tloadingImpressions &&\n\t\t\t\t\t\t\t!dataInSync &&\n\t\t\t\t\t\t\ttotalClicks / totalImpressions !== Infinity\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalClicks || 0)} (${parseFloat(\n\t\t\t\t\t\t\t(totalClicks / totalImpressions) * 100 || 0\n\t\t\t\t\t\t).toFixed(2)}% ${t('LABEL_CTR')})`}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentOne'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={loadingMoney && !dataInSync}\n\t\t\t\t\t\t></StatsCard>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{side === 'publisher' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentTwo'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={loadingMoney && !dataInSync}\n\t\t\t\t\t\t></StatsCard>\n\t\t\t\t\t)}\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='grey'\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\n\t\t\t\t\t\tloading={loadingCPM && !dataInSync}\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\n\t\t\t\t\t\t)} ${symbol} / CPM`}\n\t\t\t\t\t></StatsCard>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<SimpleStatistics\n\t\t\t\t\tside={side}\n\t\t\t\t\ttimeframe={timeframe}\n\t\t\t\t\toptions={{\n\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t(timeFrames.find(a => a.value === timeframe) || {}).label || '',\n\t\t\t\t\t}}\n\t\t\t\t\tpayouts={payouts}\n\t\t\t\t\timpressions={impressions}\n\t\t\t\t\tclicks={clicks}\n\t\t\t\t\ty1Label={metrics[side][0].label}\n\t\t\t\t\ty1Color={metrics[side][0].color}\n\t\t\t\t\ty2Label={metrics[side][1].label}\n\t\t\t\t\ty2Color={metrics[side][1].color}\n\t\t\t\t\ty3Label={metrics[side][2].label}\n\t\t\t\t\ty3Color={metrics[side][2].color}\n\t\t\t\t\tt={t}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { execute, updateNav } from 'actions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport classnames from 'classnames'\nimport SideSelect from 'components/signin/side-select/SideSelect'\nimport { styles } from './styles'\nimport Grid from '@material-ui/core/Grid'\nimport { BasicStats } from './BasicStats'\nimport { t, selectSide } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nexport function DashboardStats(props) {\n\tconst side = useSelector(selectSide)\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\texecute(updateNav('navTitle', t('DASHBOARD')))\n\t}, [])\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? (\n\t\t<SideSelect active={true} />\n\t) : (\n\t\t<div>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item md={12} lg={12} xs={12}>\n\t\t\t\t\t<Card className={classnames(classes.dashboardCardBody)}>\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<BasicStats side={side} />\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default DashboardStats\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { AdUnit } from 'adex-models'\nimport UnitTargets from 'components/dashboard/containers/UnitTargets'\nimport Translate from 'components/translate/Translate'\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\n\nexport class Unit extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tcloseDialog: false,\n\t\t}\n\t}\n\t// shouldComponentUpdate(nextProps, nextState) {\n\t//     let diffProps = JSON.stringify(this.props) !== JSON.stringify(nextProps)\n\t//     let diffState = JSON.stringify(this.state) !== JSON.stringify(nextState)\n\t//     return diffProps || diffState\n\t// }\n\trender() {\n\t\tconst { item, t, ...rest } = this.props\n\n\t\tif (!item) return <h1>Unit '404'</h1>\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<BasicProps\n\t\t\t\t\titem={item}\n\t\t\t\t\tt={t}\n\t\t\t\t\turl={item.adUrl}\n\t\t\t\t\trightComponent={\n\t\t\t\t\t\t<UnitTargets\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\ttargets={item.targeting}\n\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\tsubHeader={'PROP_TARGETING'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nUnit.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\treturn {\n\t\tobjModel: AdUnit,\n\t\titemType: 'AdUnit',\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst UnitItem = ItemHoc(Unit)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(UnitItem))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { AdSlot } from 'adex-models'\nimport copy from 'copy-to-clipboard'\nimport ItemHoc from 'components/dashboard/containers/ItemHoc'\nimport { BasicProps } from 'components/dashboard/containers/ItemCommon'\nimport Paper from '@material-ui/core/Paper'\nimport IconButton from '@material-ui/core/IconButton'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport AppBar from '@material-ui/core/AppBar'\nimport url from 'url'\nimport { selectRoutineWithdrawTokensAddresses } from 'selectors'\n\nconst ADVIEW_URL = process.env.ADVIEW_URL\nconst adviewUrl = url.parse(ADVIEW_URL)\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\n\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\n\t\t\t\tif (f.contentWindow === ev.source) {\n\t\t\t\t\tf.height = ev.data.adexHeight;\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t}, false)`\n\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\n\nconst IntegrationCode = ({ t, account, slot = {}, classes, onCopy }) => {\n\tconst { id, type, tags, fallbackUnit } = slot\n\tconst identityAddr = account.identity.address\n\n\tlet sizes = type.split('_')[1].split('x')\n\tsizes = {\n\t\twidth: sizes[0],\n\t\theight: sizes[1],\n\t}\n\n\tconst options = {\n\t\tpublisherAddr: identityAddr,\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\n\t\twhitelistedType: type,\n\t\trandomize: true,\n\t\ttargeting: tags || [],\n\t\t// marketURL: ADEX_MARKET_HOST,\n\t\twidth: sizes.width,\n\t\theight: sizes.height,\n\t\tminPerImpression: '0',\n\t\tminTargetingScore: '0',\n\t\tfallbackUnit,\n\t\tmarketSlot: id,\n\t}\n\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\n\n\tlet src = ADVIEW_URL + query\n\n\tlet iframeStr =\n\t\t`<iframe\\n` +\n\t\t`\tsrc=\"${src}\"\\n` +\n\t\t`\twidth=\"${sizes.width}\"\\n` +\n\t\t`\theight=\"${sizes.height}\"\\n` +\n\t\t`\tscrolling=\"no\"\\n` +\n\t\t`\tframeborder=\"0\"\\n` +\n\t\t`\tstyle=\"border: 0;\"\\n` +\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\n\t\t`></iframe>`\n\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.integrationLabel}>\n\t\t\t\t{t('INTEGRATION_CODE')}\n\t\t\t\t<IconButton\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcopy(iframeStr)\n\t\t\t\t\t\tonCopy && onCopy()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CopyIcon />\n\t\t\t\t</IconButton>\n\t\t\t</div>\n\t\t\t<Paper>\n\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\n\t\t\t</Paper>\n\t\t\t{process.env.NODE_ENV !== 'production' && (\n\t\t\t\t<div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport class Slot extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\teditFallbackImg: false,\n\t\t\ttabIndex: 0,\n\t\t}\n\t\tthis.tabsFocus = React.createRef()\n\t}\n\n\thandleFallbackImgUpdateToggle = () => {\n\t\tconst active = this.state.editFallbackImg\n\t\tthis.setState({ editFallbackImg: !active })\n\t}\n\n\thandleTabChange = (event, index) => {\n\t\tthis.setState({ tabIndex: index }, () => {\n\t\t\tif (this.tabsFocus.current) {\n\t\t\t\tthis.tabsFocus.current.scrollIntoView({\n\t\t\t\t\tbehavior: 'smooth',\n\t\t\t\t\tblock: 'start',\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { t, classes, isDemo, item, account, itemType, ...rest } = this.props\n\t\tconst { tabIndex } = this.state\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<BasicProps\n\t\t\t\t\titem={item}\n\t\t\t\t\titemType={itemType}\n\t\t\t\t\tt={t}\n\t\t\t\t\turl={item.adUrl}\n\t\t\t\t\tcanEditImg={!isDemo}\n\t\t\t\t\trightComponent={null}\n\t\t\t\t\t{...rest}\n\t\t\t\t/>\n\t\t\t\t<div>\n\t\t\t\t\t<AppBar position='static' color='default'>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={this.handleTabChange.bind(this)}\n\t\t\t\t\t\t\tref={this.tabsFocus}\n\t\t\t\t\t\t\tscrollable\n\t\t\t\t\t\t\tscrollButtons='off'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label={t('INTEGRATION')} />\n\t\t\t\t\t\t\t{/* There are no stats displayed currently so I will just comment this out */}\n\t\t\t\t\t\t\t{/* <Tab label={t('STATISTICS')} /> */}\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</AppBar>\n\t\t\t\t\t<div style={{ marginTop: 10 }}>\n\t\t\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t\t\t<IntegrationCode\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\taccount={account}\n\t\t\t\t\t\t\t\tslot={item}\n\t\t\t\t\t\t\t\tonCopy={() =>\n\t\t\t\t\t\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{/* {tabIndex === 0 && null} */}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSlot.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n\titem: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\tconst { persist } = state\n\t// let memory = state.memory\n\treturn {\n\t\taccount: persist.account,\n\t\tobjModel: AdSlot,\n\t\titemType: 'AdSlot',\n\t\t// NOTE: maybe not the best way but pass props to the HOC here\n\t\tupdateImgInfoLabel: 'SLOT_AVATAR_IMG_INFO',\n\t\tupdateImgLabel: 'SLOT_AVATAR_IMG_LABEL',\n\t\tupdateImgErrMsg: 'ERR_IMG_SIZE_MAX',\n\t\tupdateImgExact: true,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst SlotItem = ItemHoc(withStyles(styles)(Slot))\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SlotItem)\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tintegrationLabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tintegrationCode: {\n\t\t\twhiteSpace: 'pre-wrap',\n\t\t\twordBreak: 'break-word',\n\t\t\tpadding: spacing,\n\t\t\tmargin: 0,\n\t\t\talignSelf: 'flex-start',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport Helper from 'helpers/miscHelpers'\n// import { exchange as ExchangeConstants } from 'adex-constants'\n\n// const { TX_STATUS } = ExchangeConstants\n\nexport default function NewTransactionHoc(Decorated) {\n\t// TODO: make it common for bids and items\n\tclass TransactionHoc extends Component {\n\t\tcomponentWillMount() {\n\t\t\t// console.log('TransactionHoc')\n\t\t}\n\n\t\thandleChange = (name, value) => {\n\t\t\tconst { actions, txId } = this.props\n\t\t\tactions.updateNewTransaction({ tx: txId, key: name, value: value })\n\t\t}\n\n\t\t// addTx = (tx) => {\n\t\t//     let txData = { ...tx }\n\t\t//     txData.status = TX_STATUS.Pending.id\n\t\t//     txData.sendingTime = Date.now()\n\t\t//     this.props.actions.addWeb3Transaction({ trans: txData, addr: this.props.account._addr })\n\t\t// }\n\n\t\tonSave = (err, tx, manyTxs) => {\n\t\t\tconst { closeDialog } = this.props\n\n\t\t\tif (closeDialog) {\n\t\t\t\tcloseDialog()\n\t\t\t}\n\n\t\t\tthis.resetTransaction()\n\t\t}\n\n\t\tresetTransaction = () => {\n\t\t\tconst { actions, txId } = this.props\n\t\t\tactions.resetNewTransaction({ tx: txId })\n\t\t}\n\n\t\thandleSaveRes = ({ err, res }) => {\n\t\t\tconst { t, actions } = this.props\n\t\t\t// const areManyTxs = Array.isArray(res)\n\n\t\t\tif (err) {\n\t\t\t\tactions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.onSave(err, res, Array.isArray(res))\n\t\t}\n\n\t\tsave = () => {\n\t\t\tthis.handleChange('waitingForWalletAction', true)\n\t\t\tthis.props\n\t\t\t\t.saveFn({\n\t\t\t\t\tacc: this.props.account,\n\t\t\t\t\ttransaction: this.props.transaction,\n\t\t\t\t})\n\t\t\t\t.then((res = {}) => {\n\t\t\t\t\tconsole.log('res on save', res)\n\n\t\t\t\t\tconst txs = res.txResults || res\n\t\t\t\t\tconst err = res.err || null\n\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: txs })\n\t\t\t\t})\n\t\t\t\t.catch((error = {}) => {\n\t\t\t\t\tconsole.log('err on save', error)\n\t\t\t\t\tconst res = error.txResults || null\n\t\t\t\t\tconst err = error.err || error\n\n\t\t\t\t\tthis.handleSaveRes({ err: err, res: res })\n\t\t\t\t})\n\t\t}\n\n\t\tcancel = () => {\n\t\t\t// TODO: take a look at onSave if change something\n\t\t\tthis.onSave(null, null)\n\t\t}\n\n\t\trender() {\n\t\t\tlet transaction = this.props.transaction || {}\n\t\t\tlet props = this.props\n\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...props}\n\t\t\t\t\ttransaction={transaction}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tresetTransaction={this.resetTransaction}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tTransactionHoc.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tlabel: PropTypes.string,\n\t\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t\t.isRequired,\n\t\ttransaction: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\tsaveFn: PropTypes.func,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\t\tconst txId = props.stepsId\n\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\ttransaction: memory.newTransactions[txId] || {},\n\t\t\ttxId: txId,\n\t\t\tspinner: memory.spinners[txId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(TransactionHoc))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport { validateNumber } from 'helpers/validators'\nimport { InputLoading } from 'components/common/spinners/'\n\nclass WithdrawFromIdentity extends Component {\n\tcomponentDidMount() {\n\t\tconst { validate, transaction } = this.props\n\t\t// If nothing entered will validate\n\t\tif (!transaction.withdrawAmount) {\n\t\t\tvalidate('withdrawAmount', {\n\t\t\t\tisValid: true,\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t\tif (!transaction.withdrawTo) {\n\t\t\tvalidate('withdrawTo', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\tvalidateAmount = (numStr, dirty) => {\n\t\tconst { token, identityAvailable } = this.props\n\t\tlet isValid = validateNumber(numStr)\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\n\t\tlet errMsgArgs = []\n\t\tlet amount = parseFloat(numStr)\n\t\tif (isValid && amount > parseFloat(identityAvailable)) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\n\t\t\terrMsgArgs = [identityAvailable, token]\n\t\t}\n\n\t\tthis.props.validate('withdrawAmount', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: msg, args: errMsgArgs },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactions,\n\t\t\tvalidate,\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\tidentityAvailable,\n\t\t\thandleChange,\n\t\t\twithdrawToSpinner,\n\t\t\ttoken,\n\t\t} = this.props\n\t\tconst { withdrawTo, withdrawAmount } = transaction || {}\n\t\tconst errAmount = invalidFields['withdrawAmount']\n\t\tconst errAddr = invalidFields['withdrawTo']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t{' '}\n\t\t\t\t\t{t('EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY', {\n\t\t\t\t\t\targs: [identityAvailable, token],\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={withdrawToSpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\n\t\t\t\t\tname='withdrawAmount'\n\t\t\t\t\tvalue={withdrawAmount || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawAmount', ev.target.value)}\n\t\t\t\t\tonBlur={() => this.validateAmount(withdrawAmount, true)}\n\t\t\t\t\tonFocus={() => this.validateAmount(withdrawAmount, false)}\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleChange('withdrawAmount', identityAvailable)\n\t\t\t\t\t\t\t\t\tthis.validateAmount(identityAvailable, true)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\t\targs: [identityAvailable, token],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nWithdrawFromIdentity.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst WithdrawFromIdentityForm = NewTransactionHoc(WithdrawFromIdentity)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(WithdrawFromIdentityForm)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport { validateNumber } from 'helpers/validators'\nimport { InputLoading } from 'components/common/spinners/'\n\nclass WithdrawAnyTokenFromIdentity extends Component {\n\tcomponentDidMount() {\n\t\tconst { validate, transaction } = this.props\n\t\t// If nothing entered will validate\n\t\tif (!transaction.withdrawAmount) {\n\t\t\tvalidate('withdrawAmount', {\n\t\t\t\tisValid: true,\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t\tif (!transaction.withdrawTo) {\n\t\t\tvalidate('withdrawTo', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\tvalidateAmount = (numStr, dirty) => {\n\t\tconst { token, identityAvailable } = this.props\n\t\tlet isValid = validateNumber(numStr)\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\n\t\tlet errMsgArgs = []\n\t\tlet amount = parseFloat(numStr)\n\t\tif (isValid && amount > parseFloat(identityAvailable)) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\n\t\t\terrMsgArgs = [identityAvailable, token]\n\t\t}\n\n\t\tthis.props.validate('withdrawAmount', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: msg, args: errMsgArgs },\n\t\t\tdirty: dirty,\n\t\t})\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tactions,\n\t\t\tvalidate,\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t\twithdrawToSpinner,\n\t\t\tbalanceAnySpinner,\n\t\t} = this.props\n\t\tconst { withdrawTo, withdrawAmount, tokenAddress, tokenBalance } =\n\t\t\ttransaction || {}\n\t\tconst errAmount = invalidFields['withdrawAmount']\n\t\tconst errAddr = invalidFields['withdrawTo']\n\t\tconst errToken = invalidFields['tokenAddress']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t{' '}\n\t\t\t\t\t{t('TOKENS_BALANCE_AVAILABLE_ON_IDENTITY')} {tokenBalance}{' '}\n\t\t\t\t</div>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={balanceAnySpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\n\t\t\t\t\tname='tokenAddress'\n\t\t\t\t\tvalue={tokenAddress || ''}\n\t\t\t\t\tonChange={ev => handleChange('tokenAddress', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: tokenAddress,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'tokenAddress',\n\t\t\t\t\t\t\tsetBalance: bal => handleChange('tokenBalance', bal),\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: tokenAddress,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'tokenAddress',\n\t\t\t\t\t\t\tsetBalance: bal => handleChange('tokenBalance', bal),\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errToken && !!errToken.dirty}\n\t\t\t\t\thelperText={errToken && !!errToken.dirty ? errToken.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{balanceAnySpinner ? <InputLoading /> : null}\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={withdrawToSpinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawTo', ev.target.value)}\n\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\tactions.validateAddress({\n\t\t\t\t\t\t\taddr: withdrawTo,\n\t\t\t\t\t\t\tdirty: false,\n\t\t\t\t\t\t\tvalidate,\n\t\t\t\t\t\t\tname: 'withdrawTo',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{withdrawToSpinner ? <InputLoading /> : null}\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW')}\n\t\t\t\t\tname='withdrawAmount'\n\t\t\t\t\tvalue={withdrawAmount || ''}\n\t\t\t\t\tonChange={ev => handleChange('withdrawAmount', ev.target.value)}\n\t\t\t\t\tonBlur={() => this.validateAmount(withdrawAmount, true)}\n\t\t\t\t\tonFocus={() => this.validateAmount(withdrawAmount, false)}\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\terrAmount && !!errAmount.dirty\n\t\t\t\t\t\t\t? errAmount.errMsg\n\t\t\t\t\t\t\t: t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\t\targs: [tokenBalance],\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nWithdrawAnyTokenFromIdentity.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\twithdrawToSpinner: memory.spinners['withdrawTo'],\n\t\tbalanceAnySpinner: memory.spinners['tokenAddress'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst WithdrawAnyTokenFromIdentityForm = NewTransactionHoc(\n\tWithdrawAnyTokenFromIdentity\n)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(WithdrawAnyTokenFromIdentityForm)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport Box from '@material-ui/core/Box'\nimport TextField from '@material-ui/core/TextField'\nimport Dropdown from 'components/common/dropdown'\nimport Typography from '@material-ui/core/Typography'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport { constants } from 'adex-models'\nimport { t, selectValidationsById, selectNewTransactionById } from 'selectors'\nimport { execute, updateNewTransaction } from 'actions'\n\nconst { IdentityPrivilegeLevel } = constants\n\nconst PRIV_LEVELS_SRC = Object.values(IdentityPrivilegeLevel).map(value => {\n\treturn {\n\t\tvalue,\n\t\tlabel: t(`PRIV_${value}_LABEL`),\n\t\tinfo: t(`PRIV_${value}_INFO`),\n\t}\n})\n\nfunction SeAddressPrivilege(props) {\n\tconst { stepsId, validateId } = props\n\tconst { setAddr, privLevel, warningAccepted, warningMsg } = useSelector(\n\t\tstate => selectNewTransactionById(state, stepsId)\n\t)\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst errAddr = validations['setAddr']\n\tconst warning = validations['setAddrWarning']\n\tconst errPrivLvl = validations['privLevel']\n\n\treturn (\n\t\t<div>\n\t\t\t<div> {t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')}</div>\n\t\t\t<TextField\n\t\t\t\ttype='text'\n\t\t\t\trequired\n\t\t\t\tfullWidth\n\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\n\t\t\t\tname='setAddr'\n\t\t\t\tvalue={setAddr || ''}\n\t\t\t\tonChange={ev =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'setAddr',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t/>\n\t\t\t<Dropdown\n\t\t\t\trequired\n\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\n\t\t\t\t// helperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\n\t\t\t\tonChange={val =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'privLevel',\n\t\t\t\t\t\t\tvalue: val,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tsource={PRIV_LEVELS_SRC}\n\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\n\t\t\t\thtmlId='label-privLevel'\n\t\t\t\tfullWidth\n\t\t\t\terror={errPrivLvl && !!errPrivLvl.dirty}\n\t\t\t\thelperText={\n\t\t\t\t\terrPrivLvl && !!errPrivLvl.dirty\n\t\t\t\t\t\t? errPrivLvl.errMsg\n\t\t\t\t\t\t: t('SELECT_PRIV_LEVEL_HELPER_TXT')\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Box marginTop={2}>\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\n\t\t\t\t\t{t('PRIV_LEVEL_INFO_LABEL')}:\n\t\t\t\t</Typography>\n\t\t\t\t{PRIV_LEVELS_SRC.map(x => (\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tkey={x.value}\n\t\t\t\t\t\tvariant='caption'\n\t\t\t\t\t\tdisplay='block'\n\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t>\n\t\t\t\t\t\t<strong>{x.label}:</strong> {x.info}\n\t\t\t\t\t</Typography>\n\t\t\t\t))}\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\n\t\t\t\t\t* {t('PRIV_LEVEL_INFO')}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{(warning || warningAccepted || warningMsg) && (\n\t\t\t\t<FormControl error={warning && warning.dirty} component='fieldset'>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tchecked={!!warningAccepted}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\t\tkey: 'warningAccepted',\n\t\t\t\t\t\t\t\t\t\t\tvalue: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvalue='warningAccepted'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel={t((warning || {}).errMsg || warningMsg)}\n\t\t\t\t\t/>\n\t\t\t\t</FormControl>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nSeAddressPrivilege.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n}\n\nexport default SeAddressPrivilege\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\n// import Translate from 'components/translate/Translate'\nimport NewTransactionHoc from './TransactionHoc'\nimport TextField from '@material-ui/core/TextField'\nimport { InputLoading } from 'components/common/spinners/'\nimport InputAdornment from '@material-ui/core/InputAdornment'\n\nclass SetAccountENSPage extends Component {\n\tcomponentDidMount() {\n\t\tconst { transaction, validate } = this.props\n\t\tif (!transaction.withdrawAmount) {\n\t\t\tvalidate('setEns', {\n\t\t\t\tisValid: false,\n\t\t\t\terr: { msg: 'ERR_REQUIRED_FIELD' },\n\t\t\t\tdirty: false,\n\t\t\t})\n\t\t}\n\t}\n\n\thandleValidate = () => {\n\t\tif (this._timeout) {\n\t\t\t//if there is already a timeout in process cancel it\n\t\t\tclearTimeout(this._timeout)\n\t\t}\n\t\tthis._timeout = setTimeout(() => {\n\t\t\tthis._timeout = null\n\t\t\tconst { actions, transaction, validate } = this.props\n\t\t\tconst { setEns } = transaction || {}\n\t\t\tactions.validateENS({\n\t\t\t\tens: setEns,\n\t\t\t\tdirty: true,\n\t\t\t\tvalidate,\n\t\t\t\tname: 'setEns',\n\t\t\t})\n\t\t}, 500)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttransaction,\n\t\t\tt,\n\t\t\tinvalidFields,\n\t\t\thandleChange,\n\t\t\tsetEnsSpinner,\n\t\t} = this.props\n\t\tconst { setEns } = transaction || {}\n\t\t// const errAmount = invalidFields['withdrawAmount']\n\t\tconst errAddr = invalidFields['setEns']\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div> {t('SET_ENS_MAIN_INFO')}</div>\n\t\t\t\t<form noValidate>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tlabel={t('ENS_TO_SET_TO_ADDR')}\n\t\t\t\t\t\tname='setEns'\n\t\t\t\t\t\tvalue={setEns || ''}\n\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\thandleChange('setEns', ev.target.value.toLowerCase())\n\t\t\t\t\t\t\tthis.handleValidate()\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t{`.${process.env.REVERSE_REGISTRAR_PARENT}`}\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t\t/>\n\t\t\t\t\t{setEnsSpinner ? <InputLoading /> : null}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nSetAccountENSPage.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tlabel: PropTypes.string,\n\ttxId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\ttransaction: PropTypes.object.isRequired,\n\taccount: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state, props) {\n\t// const persist = state.persist\n\tconst memory = state.memory\n\tconst txId = props.stepsId\n\treturn {\n\t\ttxId: txId,\n\t\tsetEnsSpinner: memory.spinners['setEns'],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nconst SetAccountENSPageForm = NewTransactionHoc(SetAccountENSPage)\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SetAccountENSPageForm)\n","import React from 'react'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { PropRow } from 'components/common/dialog/content'\nimport { constants } from 'adex-models'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nexport const IdentityWithdrawPreview = ({\n\tt,\n\twithdrawTo,\n\tclasses,\n\tfeesData,\n\twithdrawAmount,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='withdrawAmount'\n\t\t\tleft={t('withdrawAmount', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${withdrawAmount} ${symbol}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const SetPrivilegePreview = ({\n\tt,\n\tsetAddr,\n\tclasses,\n\tfeesData,\n\tprivLevel,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='setAddr'\n\t\t\tleft={t('setAddr', { isProp: true })}\n\t\t\tright={(setAddr || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='privLevel'\n\t\t\tleft={t('privLevel', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [feesData.fees, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`PRIV_${privLevel}_LABEL`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const SetENSPreview = ({\n\tt,\n\tsetEns,\n\taddress,\n\tclasses,\n\tfeesData,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='addr'\n\t\t\tleft={t('ENS_ADDR_TO_BE_SET')}\n\t\t\tright={(address || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='setEns'\n\t\t\tleft={t('setEns', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('ENS_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\tfeesData.fees,\n\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t`${setEns}.${process.env.REVERSE_REGISTRAR_PARENT}`,\n\t\t\t\t\t\t],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${setEns}.${process.env.REVERSE_REGISTRAR_PARENT}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const IdentityWithdrawAnyPreview = ({\n\tt,\n\twithdrawTo,\n\ttokenAddress,\n\tclasses,\n\tfeesData,\n\twithdrawAmount,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='tokenAddress'\n\t\t\tleft={t('tokenAddress', { isProp: true })}\n\t\t\tright={(tokenAddress || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='withdrawAmount'\n\t\t\tleft={t('withdrawAmount', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={withdrawAmount + ' '}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport PropTypes from 'prop-types'\nimport NewTransactionHoc from './TransactionHoc'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { styles } from './styles'\nimport {\n\tIdentityWithdrawPreview,\n\tSetPrivilegePreview,\n\tSetENSPreview,\n\tIdentityWithdrawAnyPreview,\n} from './previews'\n\nimport {\n\tselectMainToken,\n\tt,\n\tselectSpinnerById,\n\tselectAccount,\n\tselectNewTransactionById,\n} from 'selectors'\nimport { execute, updateSpinner } from 'actions'\n\nconst useStyles = makeStyles(styles)\n\nfunction TransactionPreview(props) {\n\tconst classes = useStyles()\n\tconst {\n\t\tgetFeesFn,\n\t\thandleChange,\n\t\tidentityAvailable,\n\t\tpreviewWarnMsgs,\n\t\tstepsId,\n\t} = props\n\tconst txId = stepsId\n\tconst account = useSelector(selectAccount)\n\tconst { address } = account.identity\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst transaction = useSelector(state =>\n\t\tselectNewTransactionById(state, txId)\n\t)\n\tconst spinner = useSelector(state => selectSpinnerById(state, txId))\n\n\tuseEffect(() => {\n\t\tif (getFeesFn && Object.keys(transaction).length) {\n\t\t\texecute(updateSpinner(txId, true))\n\t\t\tgetFeesFn({ account, transaction })\n\t\t\t\t.then(feesData => {\n\t\t\t\t\thandleChange('feesData', feesData)\n\t\t\t\t\t// if (feesData.toGet) {\n\t\t\t\t\t// \thandleChange('withdrawAmount', feesData.toGet)\n\t\t\t\t\t// }\n\t\t\t\t\texecute(updateSpinner(txId, false))\n\n\t\t\t\t\tif (parseFloat(feesData.fees || 0) > parseFloat(identityAvailable)) {\n\t\t\t\t\t\thandleChange('errors', [\n\t\t\t\t\t\t\tt('INSUFFICIENT_BALANCE_FOR_FEES', {\n\t\t\t\t\t\t\t\targs: [identityAvailable, symbol, feesData.fees, symbol],\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t])\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.error(err)\n\t\t\t\t\texecute(updateSpinner(txId, false))\n\t\t\t\t\thandleChange('errors', [Helper.getErrMsg(err)])\n\t\t\t\t})\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst {\n\t\twithdrawTo,\n\t\twithdrawAmount,\n\t\tsetAddr,\n\t\tsetEns,\n\t\tprivLevel,\n\t\ttokenAddress,\n\t\tfeesData = {},\n\t\terrors = [],\n\t} = transaction\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<ContentBox>\n\t\t\t\t\t{transaction.waitingForWalletAction ? (\n\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\n\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{errors.length\n\t\t\t\t\t\t\t? errors.map((err, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\t\tright={err}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{previewWarnMsgs\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\twithdrawAmount={withdrawAmount}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\n\t\t\t\t\t\t\t<SetPrivilegePreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\twithdrawAmount={withdrawAmount}\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setENS' && (\n\t\t\t\t\t\t\t<SetENSPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\taddress={address}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t\tsetEns={setEns}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</ContentBox>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nTransactionPreview.propTypes = {\n\tlabel: PropTypes.string,\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tpreviewMsgs: PropTypes.array,\n}\n\nconst TransactionPreviewForm = NewTransactionHoc(TransactionPreview)\nexport default TransactionPreviewForm\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\twarning: {\n\t\t\tcolor: theme.palette.warning.A700,\n\t\t},\n\t\tcentralSpinner: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 20px)',\n\t\t\ttop: ' calc(50% - 20px)',\n\t\t},\n\t\timgPreview: {\n\t\t\theight: 120,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t}\n}\n","import React from 'react'\nimport WithdrawFromExchangePage from './WithdrawFromIdentity'\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\nimport SeAddressPrivilege from './SeAddressPrivilege'\nimport SetAccountENSPage from './SetAccountENSPage'\nimport TransactionPreview from './TransactionPreview'\nimport Button from '@material-ui/core/Button'\nimport TransactionHoc from './TransactionHoc'\nimport FormSteps from 'components/dashboard/forms/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport { t } from 'selectors'\n// import SaveIcon from '@material-ui/icons/Save'\nimport HourglassEmptyIcon from '@material-ui/icons/HourglassEmpty'\nimport {\n\twithdrawFromIdentity,\n\tsetIdentityPrivilege,\n\taddIdentityENS,\n} from 'services/smart-contracts/actions/identity'\nimport {\n\taddrIdentityPrivilege,\n\tidentityWithdraw,\n\tsetIdentityENS,\n\tvalidatePrivilegesChange,\n\texecute,\n} from 'actions'\n\nconst FormStepsWithDialog = WithDialog(FormSteps)\n\nconst SaveBtn = ({\n\tsave,\n\tsaveBtnLabel,\n\tsaveBtnIcon,\n\tt,\n\ttransaction,\n\twaitingForWalletAction,\n\tspinner,\n\t...other\n}) => {\n\treturn (\n\t\t<Button\n\t\t\tcolor='primary'\n\t\t\tonClick={save}\n\t\t\tdisabled={\n\t\t\t\t(!!transaction.errors && !!transaction.errors.length) ||\n\t\t\t\t!!transaction.waitingForWalletAction ||\n\t\t\t\t!!spinner\n\t\t\t}\n\t\t>\n\t\t\t{transaction.waitingForWalletAction ? (\n\t\t\t\t<HourglassEmptyIcon />\n\t\t\t) : (\n\t\t\t\tsaveBtnIcon || ''\n\t\t\t)}\n\t\t\t{t(saveBtnLabel || 'DO_IT')}\n\t\t</Button>\n\t)\n}\n\nconst CancelBtn = ({ cancel, cancelBtnLabel, t, ...other }) => {\n\treturn <Button onClick={cancel}>{t(cancelBtnLabel || 'CANCEL')}</Button>\n}\n\nconst SaveBtnWithTransaction = TransactionHoc(SaveBtn)\nconst CancelBtnWithTransaction = TransactionHoc(CancelBtn)\n\nconst txCommon = {\n\tSaveBtn: SaveBtnWithTransaction,\n\tCancelBtn: CancelBtnWithTransaction,\n\tvalidateIdBase: 'tx-',\n\tdarkerBackground: true,\n}\n\nexport const WithdrawTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawFromIdentity'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tpage: WithdrawFromExchangePage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction, account } = {}) => {\n\t\t\treturn execute(\n\t\t\t\tidentityWithdraw({\n\t\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\t\taccount,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ transaction, account } = {}) => {\n\t\t\treturn withdrawFromIdentity({\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const SetIdentityPrivilege = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'\n\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\n\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\n\t\tstepsId='setIdentityPrivilege'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\n\t\t\t\tpage: SeAddressPrivilege,\n\t\t\t\tpageValidation: ({ stepsId, validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidatePrivilegesChange({\n\t\t\t\t\t\t\tstepsId,\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(\n\t\t\t\taddrIdentityPrivilege({\n\t\t\t\t\tprivLevel: transaction.privLevel,\n\t\t\t\t\tsetAddr: transaction.setAddr,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ transaction, account } = {}) => {\n\t\t\treturn setIdentityPrivilege({\n\t\t\t\tprivLevel: transaction.privLevel,\n\t\t\t\tsetAddr: transaction.setAddr,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const WithdrawAnyTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawAnyFromIdentity'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tpage: WithdrawAnyTokenFromIdentityPage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\treturn execute(\n\t\t\t\tidentityWithdraw({\n\t\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\t\ttokenAddress: transaction.tokenAddress,\n\t\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\t\ttokenDecimals: transaction.tokenDecimals,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ transaction, account } = {}) => {\n\t\t\treturn withdrawFromIdentity({\n\t\t\t\tamountToWithdraw: transaction.withdrawAmount,\n\t\t\t\ttokenAddress: transaction.tokenAddress,\n\t\t\t\twithdrawTo: transaction.withdrawTo,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\ttokenDecimals: transaction.tokenDecimals,\n\t\t\t\taccount,\n\t\t\t})\n\t\t}}\n\t/>\n)\n\nexport const SetAccountENS = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_SET_ENS_BTN'\n\t\tsaveBtnLabel='ACCOUNT_SET_ENS_SAVE_BTN'\n\t\ttitle='ACCOUNT_SET_ENS_TITLE'\n\t\tstepsId='setENS'\n\t\t{...txCommon}\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_SET_ENS_STEP',\n\t\t\t\tpage: SetAccountENSPage,\n\t\t\t},\n\t\t]}\n\t\tstepsPreviewPage={{\n\t\t\ttitle: 'PREVIEW_AND_MAKE_TR',\n\t\t\tpage: TransactionPreview,\n\t\t}}\n\t\tsaveFn={({ transaction } = {}) => {\n\t\t\tprops.setIdentityEnsName(t('WAITING_FOR_TRANSACTION'))\n\t\t\treturn execute(\n\t\t\t\tsetIdentityENS({\n\t\t\t\t\tusername: transaction.setEns,\n\t\t\t\t})\n\t\t\t)\n\t\t}}\n\t\tgetFeesFn={({ account } = {}) => {\n\t\t\treturn addIdentityENS({\n\t\t\t\taccount,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t})\n\t\t}}\n\t/>\n)\n","import { ethers } from 'ethers'\r\nimport { t } from 'selectors'\r\n\r\nexport const fetchName = async lookup => {\r\n\tconst provider = ethers.getDefaultProvider()\r\n\ttry {\r\n\t\tconst name = await provider.lookupAddress(lookup)\r\n\t\treturn name //if not set returns null\r\n\t} catch (err) {\r\n\t\tconsole.error(err)\r\n\t\treturn t('ENS_NOT_SET')\r\n\t}\r\n}\r\n","import React, { useState, useEffect, memo } from 'react'\nimport PropTypes from 'prop-types'\nimport Box from '@material-ui/core/Box'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { isEthAddress } from 'helpers/validators'\nimport { t } from 'selectors'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport IconButton from '@material-ui/core/IconButton'\nimport copy from 'copy-to-clipboard'\nimport { addToast, execute } from 'actions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles.js'\nimport { fetchName } from 'helpers/ensHelper'\nimport { LoadingSection } from 'components/common/spinners'\nconst useStyles = makeStyles(styles)\n\nconst EnsAddressResolver = memo(props => {\n\tconst { address, name } = props\n\tconst [ensName, setEnsName] = useState(name)\n\tconst [searching, setSearching] = useState()\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\tsetSearching(true)\n\t\tasync function resolveENS() {\n\t\t\tif (ensName) {\n\t\t\t\tsetSearching(false)\n\t\t\t} else {\n\t\t\t\tif (!address) return false\n\t\t\t\tif (!ensName && isEthAddress(address)) {\n\t\t\t\t\tsetEnsName(await fetchName(address))\n\t\t\t\t\tsetSearching(false)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tresolveENS()\n\t}, [address, ensName])\n\n\treturn (\n\t\t<LoadingSection loading={!address}>\n\t\t\t{address && (\n\t\t\t\t<Box display='flex' flexWrap={'nowrap'} alignItems='center'>\n\t\t\t\t\t{address}\n\t\t\t\t\t{/* <Box>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\tprimary={ensName ? ensName : address}\n\t\t\t\t\t\t\tsecondary={\n\t\t\t\t\t\t\t\tsearching\n\t\t\t\t\t\t\t\t\t? t('SEARCHING_ENS')\n\t\t\t\t\t\t\t\t\t: ensName\n\t\t\t\t\t\t\t\t\t? address\n\t\t\t\t\t\t\t\t\t: t('ENS_NOT_SET')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box> */}\n\t\t\t\t\t<Box pl={2}>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tcopy(address)\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CopyIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</LoadingSection>\n\t)\n})\n\nEnsAddressResolver.propTypes = {\n\taddress: PropTypes.string.isRequired,\n}\n\nexport default EnsAddressResolver\n","export const styles = theme => {\r\n\treturn {\r\n\t\taddress: {\r\n\t\t\twordWrap: 'break-word',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { updateNav, execute } from 'actions'\nimport {\n\tWithdrawTokenFromIdentity,\n\t// WithdrawAnyTokenFromIdentity,\n\tSetIdentityPrivilege,\n\tSetAccountENS,\n} from 'components/dashboard/forms/web3/transactions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport DownloadIcon from '@material-ui/icons/SaveAlt'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport Typography from '@material-ui/core/Typography'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { styles } from './styles.js'\nimport { getRecoveryWalletData } from 'services/wallet/wallet'\nimport { LoadingSection } from 'components/common/spinners'\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\nimport { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\nimport EnsAddressResolver from 'components/common/ens/EnsAddressResolver'\nimport {\n\tt,\n\tselectWallet,\n\tselectAccountStatsFormatted,\n\tselectAccountIdentity,\n\tselectMainToken,\n} from 'selectors'\nimport { formatAddress } from 'helpers/formatters'\nimport { fetchName } from 'helpers/ensHelper'\n// const RRButton = withReactRouterLink(Button)\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\n\nconst AccountItem = props => (\n\t<ListItem>\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexWrap={'wrap'}\n\t\t\tflex='1'\n\t\t\tjustifyContent='space-between'\n\t\t\talignItems='center'\n\t\t>\n\t\t\t<Box\n\t\t\t\tflexGrow='8'\n\t\t\t\tflexBasis='700px'\n\t\t\t\tmr={1}\n\t\t\t\tflexWrap={'nowrap'}\n\t\t\t\tdisplay='flex'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='space-between'\n\t\t\t>\n\t\t\t\t<Box flex='1'>{props.left}</Box>\n\t\t\t</Box>\n\t\t\t<Box flexGrow='1' flexBasis='20em'>\n\t\t\t\t{props.right}\n\t\t\t</Box>\n\t\t</Box>\n\t</ListItem>\n)\n\nconst useStyles = makeStyles(styles)\n\nfunction AccountInfo() {\n\tconst { authType = '', email, password } = useSelector(selectWallet)\n\tconst identity = useSelector(selectAccountIdentity)\n\tconst { privileges } = identity\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst {\n\t\twalletAddress,\n\t\twalletPrivileges = '',\n\t\tidentityAddress,\n\t\tidentityBalanceMainToken,\n\t\tavailableIdentityBalanceMainToken,\n\t\toutstandingBalanceMainToken,\n\t} = useSelector(selectAccountStatsFormatted)\n\n\tconst [localWalletDownloadHref, setLocalWalletDownloadHref] = useState('')\n\n\tconst loadBackupHref = async () => {\n\t\tconst obj = await getRecoveryWalletData({ email, password, authType })\n\t\tif (obj && obj.wallet) {\n\t\t\tconst data =\n\t\t\t\t'data:text/json;charset=utf-8,' +\n\t\t\t\tencodeURIComponent(JSON.stringify(obj))\n\n\t\t\tsetLocalWalletDownloadHref(data)\n\t\t}\n\t}\n\n\tconst [expanded, setExpanded] = useState(false)\n\tconst [ensSearching, setEnsSearching] = useState(true)\n\tconst [identityEnsName, setIdentityEnsName] = useState()\n\tconst classes = useStyles()\n\tconst canSetENS = privileges >= 2 && !ensSearching && !identityEnsName\n\n\tuseEffect(() => {\n\t\texecute(updateNav('navTitle', t('ACCOUNT')))\n\t\tasync function resolveENS() {\n\t\t\tsetIdentityEnsName(await fetchName(identityAddress))\n\t\t\tsetEnsSearching(false)\n\t\t}\n\t\tresolveENS()\n\t}, [identityAddress])\n\n\tuseEffect(() => {\n\t\tloadBackupHref()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst displayRampWidget = () => {\n\t\tconst widget = new RampInstantSDK({\n\t\t\thostAppName: 'AdExNetwork',\n\t\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\n\t\t\tvariant: 'auto',\n\t\t\tswapAsset: symbol,\n\t\t\tuserAddress: identity.address,\n\t\t})\n\t\twidget.domNodes.overlay.style.zIndex = 1000\n\t\twidget.show()\n\t}\n\n\tconst handleExpandChange = () => {\n\t\tsetExpanded(!expanded)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<List>\n\t\t\t\t<AccountItem\n\t\t\t\t\tleft={\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\tsecondary={\n\t\t\t\t\t\t\t\t\tauthType === 'demo'\n\t\t\t\t\t\t\t\t\t\t? t('DEMO_ACCOUNT_IDENTITY_ADDRESS')\n\t\t\t\t\t\t\t\t\t\t: t('IDENTITY_ETH_ADDR')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<EnsAddressResolver\n\t\t\t\t\t\t\t\taddress={identityAddress}\n\t\t\t\t\t\t\t\tname={identityEnsName}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t\t// right={\n\t\t\t\t\t// \tcanSetENS && (\n\t\t\t\t\t// \t\t<SetAccountENS\n\t\t\t\t\t// \t\t\tfullWidth\n\t\t\t\t\t// \t\t\tvariant='contained'\n\t\t\t\t\t// \t\t\tcolor='primary'\n\t\t\t\t\t// \t\t\ttoken='DAI'\n\t\t\t\t\t// \t\t\tsize='small'\n\t\t\t\t\t// \t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t// \t\t\tsetIdentityEnsName={setIdentityEnsName}\n\t\t\t\t\t// \t\t/>\n\t\t\t\t\t// \t)\n\t\t\t\t\t// }\n\t\t\t\t/>\n\t\t\t\t<ListDivider />\n\t\t\t\t<AccountItem\n\t\t\t\t\tleft={\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\tprimary={formatAddress(walletAddress)}\n\t\t\t\t\t\t\tsecondary={t('WALLET_INFO_LABEL', {\n\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t`AUTH_${authType.toUpperCase()}`,\n\t\t\t\t\t\t\t\t\t`PRIV_${privileges}_LABEL`,\n\t\t\t\t\t\t\t\t\tauthType,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\tright={\n\t\t\t\t\t\tlocalWalletDownloadHref && (\n\t\t\t\t\t\t\t<Box py={1} flexGrow='1'>\n\t\t\t\t\t\t\t\t<label htmlFor='download-wallet-json'>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tid='download-wallet-json'\n\t\t\t\t\t\t\t\t\t\thref={localWalletDownloadHref}\n\t\t\t\t\t\t\t\t\t\tdownload={`adex-account-data-${email}.json`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Button size='small' variant='contained' fullWidth>\n\t\t\t\t\t\t\t\t\t\t\t<DownloadIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t\t\t{t('BACKUP_LOCAL_WALLET')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ListDivider />\n\t\t\t\t<AccountItem\n\t\t\t\t\tleft={\n\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken || 0} ${symbol}`}\n\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO', {\n\t\t\t\t\t\t\t\t\targs: [outstandingBalanceMainToken || 0, symbol],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t}\n\t\t\t\t\tright={\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\taria-label='delete'\n\t\t\t\t\t\t\t\t\tonClick={() => displayRampWidget()}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t{t('TOP_UP_IDENTITY_GBP')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\ttoken={symbol}\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ListDivider />\n\t\t\t\t<ExpansionPanel expanded={expanded} onChange={handleExpandChange}>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\taria-controls='panel1bh-content'\n\t\t\t\t\t\tid='panel1bh-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography className={classes.heading}>\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t<ExpansionPanelDetails>\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\n\t\t\t\t\t\t\t<AccountItem\n\t\t\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\t\tsecondary={''}\n\t\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t\t<SetIdentityPrivilege\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t></AccountItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_ID],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_ID],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t{/* <ListItem>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</ListItem> */}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</ExpansionPanelDetails>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</List>\n\t\t</div>\n\t)\n}\n\nexport default AccountInfo\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tactionBtn: {\n\t\t\tmargin: spacing,\n\t\t},\n\t\taddress: {\n\t\t\twordWrap: 'break-word',\n\t\t\twordBreak: 'break-all',\n\t\t},\n\t\tadvancedList: {\n\t\t\twidth: '100%',\n\t\t},\n\t\ticonBtnLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t}\n}\n","import React, { useState, useEffect } from 'react'\nimport SideNav from './SideNav'\nimport TopBar from './TopBar'\nimport { Route, Switch } from 'react-router'\nimport Campaign from 'components/dashboard/containers/Campaign'\nimport DashboardStats from 'components/dashboard/containers/DashboardStats'\nimport Unit from 'components/dashboard/containers/Unit'\nimport Slot from 'components/dashboard/containers/Slot'\nimport Account from 'components/dashboard/account/AccountInfo'\nimport {\n\tNewUnitDialog,\n\tNewCampaignDialog,\n\tNewSlotDialog,\n} from 'components/dashboard/forms/items/NewItems'\nimport {\n\tCampaignsTable,\n\tAdSlotsTable,\n\tAdUnitsTable,\n} from 'components/dashboard/containers/Tables'\nimport {\n\tcampaignsLoop,\n\tcampaignsLoopStats,\n} from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport {\n\tanalyticsLoop,\n\tanalyticsCampaignsLoop,\n} from 'services/store-data/analytics'\nimport Drawer from '@material-ui/core/Drawer'\nimport Hidden from '@material-ui/core/Hidden'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport {\n\tupdateNav,\n\tgetAllItems,\n\tupdateSlotsDemandThrottled,\n\texecute,\n} from 'actions'\nimport { t } from 'selectors'\n\nconst Campaigns = () => (\n\t<>\n\t\t<NewCampaignDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\taccent\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_CAMPAIGN'\n\t\t/>\n\t\t<CampaignsTable />\n\t</>\n)\n\nconst AdUnits = () => (\n\t<>\n\t\t<NewUnitDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_UNIT'\n\t\t/>\n\t\t<AdUnitsTable />\n\t</>\n)\n\nconst AdSlots = () => (\n\t<>\n\t\t<NewSlotDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\taccent\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_SLOT'\n\t\t/>\n\t\t<AdSlotsTable />\n\t</>\n)\n\nconst useStyles = makeStyles(styles)\n\nfunction Dashboard(props) {\n\tconst [mobileOpen, setMobileOpen] = useState(false)\n\n\tconst { match } = props\n\tconst { side } = match.params\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\texecute(updateSlotsDemandThrottled())\n\t\texecute(updateNav('side', side))\n\t\texecute(getAllItems())\n\t\tanalyticsLoop.start()\n\t\tanalyticsCampaignsLoop.start()\n\t\tcampaignsLoop.start()\n\t\tcampaignsLoopStats.start()\n\t\tstatsLoop.start()\n\n\t\treturn () => {\n\t\t\tanalyticsLoop.stop()\n\t\t\tanalyticsCampaignsLoop.stop()\n\t\t\tcampaignsLoop.stop()\n\t\t\tcampaignsLoopStats.stop()\n\t\t\tstatsLoop.stop()\n\t\t}\n\t}, [side])\n\n\tuseEffect(() => {}, [match, mobileOpen])\n\tuseEffect(() => {\n\t\texecute(updateNav('side', side))\n\t}, [side])\n\n\tconst handleDrawerToggle = () => {\n\t\tsetMobileOpen(!mobileOpen)\n\t}\n\n\tconst drawer = <SideNav side={side} />\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<TopBar\n\t\t\t\tside={side}\n\t\t\t\topen={mobileOpen}\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\n\t\t\t/>\n\t\t\t<Hidden mdUp>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='temporary'\n\t\t\t\t\tanchor='left'\n\t\t\t\t\topen={mobileOpen}\n\t\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t\tModalProps={{\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\t\t\t<Hidden smDown implementation='css'>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='permanent'\n\t\t\t\t\topen\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\n\t\t\t<main className={classes.content}>\n\t\t\t\t<div className={classes.contentInner}>\n\t\t\t\t\t<div className={classes.toolbar} />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\n\t\t\t\t\t\t\tcomponent={Campaigns}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\n\t\t\t\t\t\t\tcomponent={AdUnits}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/Campaign/:itemId'\n\t\t\t\t\t\t\tcomponent={Campaign}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/advertiser/AdUnit/:itemId'\n\t\t\t\t\t\t\tcomponent={Unit}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\n\t\t\t\t\t\t\tcomponent={AdSlots}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath='/dashboard/publisher/AdSlot/:itemId'\n\t\t\t\t\t\t\tcomponent={Slot}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\n\t\t\t\t\t\t\tcomponent={Account}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* <Route\n\t\t\t\t\t\t\t\tauth={this.props.auth}\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\n\t\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t<Route exact path='/dashboard/:side' component={DashboardStats} />\n\t\t\t\t\t\t<Route component={PageNotFound} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\troot: {\n\t\t\t// flexGrow: 1,\n\t\t\theight: '100vh',\n\t\t},\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\theight: '100vh',\n\t\t\tflexGrow: '1',\n\t\t},\n\t\tactions: {\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t},\n\t\tbuttons: {\n\t\t\tbackgroundColor: theme.palette.grey[200],\n\t\t},\n\t\tadxVersion: {\n\t\t\t// position: 'absolute',\n\t\t\t// left: spacing,\n\t\t\t// bottom: spacing\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\t// marginTop: '1.5vh',\n\t\t\t// width: '17.92vh',\n\t\t\t// height: '6vh',\n\t\t\theight: '2rem',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tnoBg: {\n\t\t\tbackground: 0,\n\t\t\tboxShadow: 'none',\n\t\t\toverflow: 'visible',\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\t// position: 'relative',\n\t\t\tjustifyContent: 'center',\n\t\t\tpadding: 24,\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t// '&:first-child': {\n\t\t\t// \tpaddingTop: spacing,\n\t\t\t// },\n\t\t\t// overflow: 'visible',\n\t\t\t// maxHeight: '100vh'\n\t\t},\n\t}\n}\n","import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport Img from 'components/common/img/Img'\nimport classnames from 'classnames'\nimport { getAllWallets } from 'services/wallet/wallet'\nimport { execute, initIdentity, confirmAction } from 'actions'\nimport { selectAuth, selectAccount, selectRegistrationAllowed } from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { formatAddress } from 'helpers/formatters'\nimport { push } from 'connected-react-router'\nimport { t } from 'selectors'\n\nconst RRButton = withReactRouterLink(Button)\nconst useStyles = makeStyles(styles)\n\nconst AuthSelect = () => {\n\tconst classes = useStyles()\n\tconst [wallets, setWallets] = useState([])\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\tconst auth = useSelector(selectAuth)\n\tconst account = useSelector(selectAccount)\n\tconst { wallet, identity } = account || {}\n\n\tuseEffect(() => {\n\t\tconst allWallets = getAllWallets()\n\t\tconst wallets = allWallets.filter(\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\n\t\t)\n\t\tsetWallets(wallets)\n\t}, [wallet])\n\n\tconst goTo = (to, confirmLogout, onConfirm) => {\n\t\tconst toExecute = () => {\n\t\t\tlogOut()\n\t\t\texecute(push(to))\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\n\t\t\t\tonConfirm()\n\t\t\t}\n\t\t}\n\t\tif (auth && confirmLogout) {\n\t\t\texecute(\n\t\t\t\tconfirmAction(toExecute, null, {\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TEXT', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\n\t\t\t\t\t\t\tidentity.address,\n\t\t\t\t\t\t],\n\t\t\t\t\t}),\n\t\t\t\t})\n\t\t\t)\n\t\t} else {\n\t\t\ttoExecute()\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='stretch'\n\t\t\tjustifyContent='space-between'\n\t\t>\n\t\t\t<Box p={2} alignItems='center'>\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{auth && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<RRButton\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tto='/side-select'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CONTINUE_AS', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\twallet.email || formatAddress(identity.address),\n\t\t\t\t\t\t\t\twallet.authType,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</RRButton>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t{wallets.map(w => (\n\t\t\t\t<Box key={w.name} m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t))}\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\n\t\t\t\t>\n\t\t\t\t\t<Img\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\n\t\t\t\t\t\tclassName={classes.btnLogo}\n\t\t\t\t\t/>\n\t\t\t\t\t{t('METAMASK')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.trezorBtn}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\n\t\t\t\t>\n\t\t\t\t\t<Img\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tclasses.btnLogo,\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* {t('TREZOR')} */}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\n\t\t\t\t>\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t{showRegistration && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</Box>\n\t)\n}\n\nexport default AuthSelect\n","export const styles = theme => {\n\treturn {\n\t\tactions: {\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tlimitedWidthBtn: {\n\t\t\twordBreak: 'break-word',\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tbtnLogo: {\n\t\t\theight: '2rem',\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tbtnLogoNoTxt: {\n\t\t\tmarginRight: 0,\n\t\t},\n\t\tmetamaskBtn: {\n\t\t\tbackgroundColor: theme.palette.grey[800],\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\ttrezorBtn: {\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Hidden from '@material-ui/core/Hidden'\nimport Anchor from 'components/common/anchor/anchor'\nimport packageJson from './../../../package.json'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\nimport { t } from 'selectors'\nimport { Typography } from '@material-ui/core'\n\nexport default function ConnectHoc(Decorated) {\n\tfunction Connect({ classes, ...rest }) {\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Grid\n\t\t\t\t\tclassName={classes.container}\n\t\t\t\t\tcontainer\n\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t// spacing={2}\n\t\t\t\t>\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\n\t\t\t\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={2}>\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tp={2}\n\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('HELP')}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn withStyles(styles)(Connect)\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\taddrListItem: {\n\t\t\t'&:hover': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\taddrInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\tflexGrow: 1,\n\t\t\tpaddingTop: spacing,\n\t\t\twhiteSpace: 'normal',\n\t\t\t'& strong': {\n\t\t\t\tmarginRight: spacing * 2,\n\t\t\t},\n\t\t},\n\t\taddrInfoLabel: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tfontWeight: 'bold',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t},\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t\t// marginTop: spacing * 2,\n\t\t\t// position: 'absolute',\n\t\t\t// top: 70,\n\t\t\t// left: 0,\n\t\t\t// right: 0,\n\t\t\t// bottom: 0\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\ttabLogo: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: spacing * 4,\n\t\t\tmaxHeight: '100%',\n\t\t\twidth: 'auto',\n\t\t},\n\t\ttabLabel: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tdlBtnImg: {\n\t\t\tmaxWidth: '100%',\n\t\t\tmaxHeight: spacing * 9,\n\t\t\twidth: 'auto',\n\t\t\theight: 'auto',\n\t\t},\n\t\tleftBtnIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '-6vh',\n\t\t\tleft: 0,\n\t\t},\n\t\tlogo: {\n\t\t\twidth: '12.8vh',\n\t\t\theight: '5vh',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport function AddrItem({ stats }) {\n\tconst { balanceEth, tokensBalances, address } = stats\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<ListItemText\n\t\t\tprimary={address}\n\t\t\tsecondary={\n\t\t\t\t<span className={classes.addrInfo}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<span> ETH </span>\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\n\t\t\t\t\t</span>\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<span> {symbol} </span>\n\t\t\t\t\t\t\t<strong> {balance} </strong>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</span>\n\t\t\t}\n\t\t/>\n\t)\n}\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\nimport METAMASK_IMG from 'resources/metamask.png'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getEthers, getEthereumProvider } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\nimport Box from '@material-ui/core/Box'\nimport {\n\taddToast,\n\tupdateIdentity,\n\tupdateIdentityWallet,\n\texecute,\n} from 'actions'\nimport { t, selectIdentity } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction AuthMetamask(props) {\n\tconst classes = useStyles()\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\n\tconst { address } = wallet\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\n\t// const [stats, setStats] = useState(null)\n\tconst [waitingMetamaskAction, setWaitingMetamaskAction] = useState(false)\n\tconst [waitingAddrsData, setWaitingAddrsData] = useState(false)\n\tconst isOpera =\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\n\t\tfalse\n\t)\n\n\tuseEffect(() => {\n\t\tconst setEth = async () => {\n\t\t\tconst ethereumProvider = await getEthereumProvider()\n\t\t\tsetIsMetamaskEthereumProvider(\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\n\t\t\t)\n\t\t}\n\n\t\tsetEth()\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (installingMetamask) {\n\t\t\t// Refreshes page after user comes back\n\t\t\t// from installing Metamask\n\t\t\twindow.onfocus = () => {\n\t\t\t\twindow.location.reload()\n\t\t\t\tsetInstallingMetamask(false)\n\t\t\t}\n\t\t}\n\t}, [installingMetamask])\n\n\tconst checkMetamask = async () => {\n\t\tsetWaitingAddrsData(true)\n\t\ttry {\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst wallet = {\n\t\t\t\tauthType: authType,\n\t\t\t}\n\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\n\t\t\tconst address = await metamaskSigner.getAddress()\n\t\t\tconst stats = await getAddressBalances({\n\t\t\t\taddress: { address },\n\t\t\t\tauthType,\n\t\t\t\tgetFullBalances: true,\n\t\t\t})\n\n\t\t\texecute(updateIdentity('stats', stats))\n\t\t\tsetWaitingAddrsData(false)\n\n\t\t\texecute(\n\t\t\t\tupdateIdentityWallet({\n\t\t\t\t\taddress,\n\t\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\n\t\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\n\t\t\t\t})\n\t\t\t)\n\t\t} catch (err) {\n\t\t\tconsole.error('Error: catch', err)\n\t\t\tsetWaitingMetamaskAction(false)\n\t\t\tsetWaitingAddrsData(false)\n\t\t\texecute(\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t}\n\n\treturn (\n\t\t<ContentBox className={classes.tabBox}>\n\t\t\t{waitingMetamaskAction ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ACTION')} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : waitingAddrsData ? (\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<Typography variant='subheading'>{t('METAMASK_INFO')}</Typography>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\twidth={1}\n\t\t\t\t>\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('METAMASK_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\n\t\t\t\t\t\t\t\talt={'Downlad metamask'}\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{address ? (\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\n\t\t\t\t\t\t\t{stats ? (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Typography variant='subheading' color='primary'>\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={checkMetamask}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : null}\n\t\t\t\t</Box>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AuthMetamask\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\n\nexport default function NewItemHoc(Decorated) {\n\tclass ValidItemHoc extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.state = {\n\t\t\t\tinvalidFields: {},\n\t\t\t}\n\n\t\t\tthis.validate = this.validate.bind(this)\n\t\t}\n\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tthis.setState({ invalidFields: nextProps.validations || {} })\n\t\t}\n\n\t\tcomponentWillMount() {\n\t\t\tthis.setState({ invalidFields: this.props.validations || {} })\n\t\t}\n\n\t\tvalidate = (\n\t\t\tkey,\n\t\t\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n\t\t) => {\n\t\t\tif (!isValid) {\n\t\t\t\tlet errors = {}\n\t\t\t\terrors[key] = {\n\t\t\t\t\terrMsg: this.props.t(err.msg, { args: err.args }),\n\t\t\t\t\tdirty: dirty,\n\t\t\t\t}\n\n\t\t\t\tthis.props.actions.updateValidationErrors(this.props.validateId, errors)\n\t\t\t} else if (removeAll) {\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId)\n\t\t\t} else {\n\t\t\t\tthis.props.actions.resetValidationErrors(this.props.validateId, key)\n\t\t\t}\n\t\t}\n\n\t\trender() {\n\t\t\tconst props = this.props\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...props}\n\t\t\t\t\tvalidate={this.validate}\n\t\t\t\t\tinvalidFields={this.state.invalidFields}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tValidItemHoc.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\tvalidateId: PropTypes.string.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\t// let persist = state.persist\n\t\tlet memory = state.memory\n\t\treturn {\n\t\t\tvalidations: memory.validations[props.validateId],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidItemHoc))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport Translate from 'components/translate/Translate'\nimport IdentityHoc from '../IdentityHoc'\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\n\nexport default function AuthHoc(Decorated) {\n\tclass Auth extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\t\t\tthis.state = {\n\t\t\t\tmethod: '',\n\t\t\t\tsideSelect: false,\n\t\t\t}\n\t\t}\n\n\t\tupdateWallet = ({\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tpath,\n\t\t\tchainId,\n\t\t\tsignType,\n\t\t}) => {\n\t\t\tconst wallet = {\n\t\t\t\taddress,\n\t\t\t\tauthType,\n\t\t\t\thdWalletAddrPath,\n\t\t\t\thdWalletAddrIdx,\n\t\t\t\tpath,\n\t\t\t\tchainId,\n\t\t\t\tsignType,\n\t\t\t}\n\n\t\t\tthis.props.handleChange('identityContractOwner', address)\n\t\t\tthis.props.handleChange('wallet', wallet)\n\t\t}\n\n\t\trender() {\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...this.props}\n\t\t\t\t\t// updateAcc={this.updateAcc}\n\t\t\t\t\tupdateWallet={this.updateWallet}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tAuth.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t}\n\n\tfunction mapStateToProps(state) {\n\t\tlet persist = state.persist\n\t\t// let memory = state.memory\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Translate(ValidItemHoc(IdentityHoc(Auth))))\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions, { execute, login } from 'actions'\nimport { push } from 'connected-react-router'\nimport { CREATING_SESSION, UPLOADING_ACCOUNT_DATA } from 'constants/spinners'\n\nexport default function IdentityHoc(Decorated) {\n\tclass IdentityForm extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props)\n\n\t\t\tthis.save = this.save.bind(this)\n\n\t\t\tthis.state = {\n\t\t\t\tready: false,\n\t\t\t}\n\t\t}\n\n\t\thandleChange = (prop, value) => {\n\t\t\tthis.props.actions.updateIdentity(prop, value)\n\t\t}\n\n\t\t// componentDidUpdate = () => {\n\t\t// \tconst { account } = this.props\n\t\t// \tif (account.wallet.authSig) {\n\t\t// \t\texecute(push('/side-select'))\n\t\t// \t}\n\t\t// }\n\n\t\tsave = async () => {\n\t\t\texecute(login())\n\t\t}\n\n\t\tcancel = () => {\n\t\t\tconst { resetIdentity } = this.props.actions\n\t\t\tresetIdentity()\n\t\t\texecute(push('/'))\n\t\t}\n\n\t\trender() {\n\t\t\tconst { identity, spinner, waitingExpected, ...rest } = this.props\n\n\t\t\treturn (\n\t\t\t\t<Decorated\n\t\t\t\t\t{...rest}\n\t\t\t\t\tidentity={identity}\n\t\t\t\t\tsave={this.save}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\tcancel={this.cancel}\n\t\t\t\t\twaiting={spinner}\n\t\t\t\t\twaitingExpected={waitingExpected}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tIdentityForm.propTypes = {\n\t\tactions: PropTypes.object.isRequired,\n\t\taccount: PropTypes.object.isRequired,\n\t\tidentity: PropTypes.object.isRequired,\n\t}\n\n\tfunction mapStateToProps(state, props) {\n\t\tconst { persist, memory } = state\n\t\treturn {\n\t\t\taccount: persist.account,\n\t\t\tidentity: memory.identity,\n\t\t\tspinner: memory.spinners[CREATING_SESSION],\n\t\t\twaitingUpload: memory.spinners[UPLOADING_ACCOUNT_DATA],\n\t\t}\n\t}\n\n\tfunction mapDispatchToProps(dispatch) {\n\t\treturn {\n\t\t\tactions: bindActionCreators(actions, dispatch),\n\t\t}\n\t}\n\n\treturn connect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(IdentityForm)\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Translate from 'components/translate/Translate'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport Button from '@material-ui/core/Button'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport AuthHoc from './AuthHoc'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport Helper from 'helpers/miscHelpers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\n\nclass AuthTrezor extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tmethod: '',\n\t\t\tsideSelect: false,\n\t\t\taddresses: [],\n\t\t\twaitingTrezorAction: false,\n\t\t\twaitingAddrsData: false,\n\t\t\tselectedAddress: null,\n\t\t\thdPath: '',\n\t\t}\n\t}\n\n\tconnectTrezor = async () => {\n\t\tthis.setState({ waitingTrezorAction: true }, async () => {\n\t\t\ttry {\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\n\n\t\t\t\tconst wallet = {\n\t\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\t\t}\n\n\t\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\n\n\t\t\t\tconst addresses = await trezorSigner.getAddresses({ from: 0, to: 19 })\n\n\t\t\t\tconst allAddressesData = addresses.payload.map(address =>\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\n\t\t\t\t)\n\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\t\tconsole.log('result', results)\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thdPath: trezorSigner.path,\n\t\t\t\t\t\taddresses: results,\n\t\t\t\t\t\twaitingAddrsData: false,\n\t\t\t\t\t\twaitingTrezorAction: false,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error: catch', err)\n\t\t\t\tthis.setState({ waitingTrezorAction: false, waitingAddrsData: false })\n\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_TREZOR', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tAddressSelect = ({ addresses, waitingTrezorAction, t, classes, ...rest }) => {\n\t\treturn (\n\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t{waitingTrezorAction ? (\n\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\tt('SELECT_ADDR_TREZOR')\n\t\t\t\t\t)}\n\t\t\t\t</ContentStickyTop>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{addresses.map((res, index) => (\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\t\tkey={res.address}\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} address={res.address} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\n\t\tconst { address, path } = addrData\n\t\tthis.props.updateWallet({\n\t\t\taddress,\n\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\tpath,\n\t\t\thdWalletAddrPath: this.state.hdPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tsignType: AUTH_TYPES.TREZOR.signType,\n\t\t})\n\n\t\tthis.setState({ selectedAddress: address })\n\t}\n\n\trender() {\n\t\tlet { t, classes } = this.props\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.addresses.length ? (\n\t\t\t\t\t<this.AddressSelect\n\t\t\t\t\t\twaitingTrezorAction={this.state.waitingTrezorAction}\n\t\t\t\t\t\taddresses={this.state.addresses}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : this.state.waitingTrezorAction ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t\t<Typography variant='subheading'>{t('TREZOR_INFO')}</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('TREZOR_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io/' target='_blank'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Wallet\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTREZOR Bridge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\n\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'https://trezor.io'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingTrezorAction && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={this.connectTrezor}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContentBody>\n\t\t\t\t\t</ContentBox>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAuthTrezor.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tupdateWallet: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default Translate(AuthHoc(withStyles(styles)(AuthTrezor)))\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Translate from 'components/translate/Translate'\nimport Anchor from 'components/common/anchor/anchor'\nimport Img from 'components/common/img/Img'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\nimport AuthHoc from './AuthHoc'\nimport Helper from 'helpers/miscHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport LEDGER_DL_IMG from 'resources/ledger_logo_header.png'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\n\nclass AuthLedger extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tmethod: '',\n\t\t\tsideSelect: false,\n\t\t\taddresses: [],\n\t\t\twaitingLedgerAction: false,\n\t\t\twaitingAddrsData: false,\n\t\t\tselectedAddress: null,\n\t\t\thdPath: '',\n\t\t}\n\t}\n\n\tconnectLedger = async () => {\n\t\tthis.setState({ waitingLedgerAction: true }, async () => {\n\t\t\ttry {\n\t\t\t\tconst { provider } = await getEthers(AUTH_TYPES.LEDGER.name)\n\n\t\t\t\tconst wallet = {\n\t\t\t\t\tauthType: AUTH_TYPES.LEDGER.name,\n\t\t\t\t}\n\n\t\t\t\tconst ledgerSigner = await getSigner({ wallet, provider })\n\t\t\t\tconst addresses = await ledgerSigner.getAddresses({ from: 0, to: 19 })\n\n\t\t\t\tconst allAddressesData = addresses.map(address =>\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.LEDGER.name })\n\t\t\t\t)\n\n\t\t\t\tthis.setState({ waitingAddrsData: true }, async () => {\n\t\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thdPath: ledgerSigner.path,\n\t\t\t\t\t\taddresses: results,\n\t\t\t\t\t\twaitingAddrsData: false,\n\t\t\t\t\t\twaitingLedgerAction: false,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error: catch', err)\n\t\t\t\tthis.setState({ waitingLedgerAction: false, waitingAddrsData: false })\n\t\t\t\tthis.props.actions.addToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: this.props.t('ERR_AUTH_LEDGER', {\n\t\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tAddressSelect = ({ addresses, waitingLedgerAction, t, classes, ...rest }) => {\n\t\treturn (\n\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t{waitingLedgerAction ? (\n\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\tt('SELECT_ADDR_LEDGER')\n\t\t\t\t\t)}\n\t\t\t\t</ContentStickyTop>\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{addresses.map((res, index) => (\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\t\tkey={res.address}\n\t\t\t\t\t\t\t\tonClick={() => this.onAddrSelect(res, index)}\n\t\t\t\t\t\t\t\tselected={this.state.selectedAddress === res.address}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AddrItem stats={res} t={t} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</ContentBody>\n\t\t\t</ContentBox>\n\t\t)\n\t}\n\n\tonAddrSelect = (addrData, hdWalletAddrIdx) => {\n\t\tconst { address, path } = addrData\n\n\t\tthis.props.updateWallet({\n\t\t\taddress,\n\t\t\tauthType: AUTH_TYPES.LEDGER.name,\n\t\t\tpath,\n\t\t\thdWalletAddrPath: this.state.hdPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tsignType: AUTH_TYPES.LEDGER.signType,\n\t\t})\n\n\t\tthis.setState({ selectedAddress: address })\n\t}\n\n\trender() {\n\t\tlet { t, classes } = this.props\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.state.addresses.length ? (\n\t\t\t\t\t<this.AddressSelect\n\t\t\t\t\t\twaitingLedgerAction={this.state.waitingLedgerAction}\n\t\t\t\t\t\taddresses={this.state.addresses}\n\t\t\t\t\t\tt={t}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<ContentBox className={classes.tabBox}>\n\t\t\t\t\t\t{this.state.waitingAddrsData ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ADDRS_INFO')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : this.state.waitingLedgerAction ? (\n\t\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t\t<TopLoading msg={t('LEDGER_WAITING_ACTION')} />\n\t\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t\t<Typography variant='subheading'>{t('LEDGER_INFO')}</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t__html: t('LEDGER_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='https://www.ledgerwallet.com/'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLEDGER\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t<Anchor href='https://www.ledgerwallet.com/' target='_blank'>\n\t\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\t\tsrc={LEDGER_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'https://www.ledgerwallet.com/'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t{!this.state.waitingAddrsData && !this.state.waitingLedgerAction && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={this.connectLedger}\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('CONNECT_WITH_LEDGER')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContentBody>\n\t\t\t\t\t</ContentBox>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAuthLedger.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\tupdateWallet: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\tclasses: PropTypes.object.isRequired,\n}\n\nexport default Translate(AuthHoc(withStyles(styles)(AuthLedger)))\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport { selectLocationQuery } from 'selectors'\nimport AuthMetamask from './AuthMetamask'\nimport AuthTrezor from './AuthTrezor'\nimport AuthLedger from './AuthLedger'\n\nconst useStyles = makeStyles(theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t},\n\t}\n})\n\nfunction AuthMethod() {\n\tconst classes = useStyles()\n\tconst query = useSelector(selectLocationQuery)\n\tconst method = query['external']\n\n\treturn (\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\n\t\t\t\t{method === 'metamask' && <AuthMetamask />}\n\t\t\t\t{method === 'trezor' && <AuthTrezor />}\n\t\t\t\t{method === 'ledger' && <AuthLedger />}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default AuthMethod\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport {\n\texecute,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tupdateIdentity,\n} from 'actions'\n\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst QuickInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\n\t]\n\n\t// Errors\n\tconst {\n\t\temail,\n\t\temailCheck,\n\t\tpassword,\n\t\tpasswordCheck,\n\t\ttosCheck,\n\t\taccessWarningCheck,\n\t} = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner || sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, true))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, false))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(validatePassword(validateId, identity.password, true))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidatePassword(validateId, identity.password, false)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpassword && !!password.dirty\n\t\t\t\t\t\t\t\t\t\t? password.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='passwordCheck'\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidatePasswordCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.password,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidatePasswordCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.passwordCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.password,\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_QUICK_CHECK')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\texecute,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tupdateIdentity,\n} from 'actions'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { CREATING_SESSION } from 'constants/spinners'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst FulInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\tconst { wallet = {} } = identity\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\t// Errors\n\tconst { email, emailCheck, tosCheck, accessWarningCheck } = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t{walletAddress}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, true))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(validateEmail(validateId, identity.email, false))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tvalidateEmailCheck(\n\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\tidentity.emailCheck,\n\t\t\t\t\t\t\t\t\t\t\tidentity.email,\n\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FulInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { execute, updateIdentity } from 'actions'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst QuickLogin = props => {\n\tconst { validateId } = props\n\n\tconst identity = useSelector(selectIdentity)\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\n\t]\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { wallet } = validations\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('QUICK_LOGIN_INFO', { args: [identity.email] })}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickLogin\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport { push } from 'connected-react-router'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\texecute,\n\tupdateIdentity,\n\townerIdentities as updateOwnerIdentities,\n} from 'actions'\nimport {\n\tselectSpinnerById,\n\tselectIdentity,\n\tt,\n\tselectSearchParams,\n\tselectRegistrationAllowed,\n} from 'selectors'\nimport Dropdown from 'components/common/dropdown'\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst getIdentitiesForDropdown = (ownerIdentities = [], t) =>\n\townerIdentities.map(id => {\n\t\treturn {\n\t\t\tvalue: id.identity + '-' + id.privLevel,\n\t\t\tlabel: t('IDENTITY_OPTION_DATA', {\n\t\t\t\targs: [id.identity, `PRIV_${id.privLevel}_LABEL`, id.data.email || '-'],\n\t\t\t}),\n\t\t}\n\t})\n\nfunction FullLogin(props) {\n\tconst identity = useSelector(selectIdentity)\n\tconst {\n\t\twalletAddr,\n\t\twallet = {},\n\t\townerIdentities,\n\t\tidentityContractAddress,\n\t} = identity\n\tconst walletAddress = wallet.address || walletAddr\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\n\t)\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\n\tconst searchParams = useSelector(selectSearchParams)\n\tsearchParams.set('step', '1')\n\n\tconst search = searchParams.toString()\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\n\tuseEffect(() => {\n\t\texecute(updateOwnerIdentities({ owner: walletAddress }))\n\t\t// We need it just once on mount\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities, t)}\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{showRegistration && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FullLogin\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport ValidItemHoc from 'components/common/stepper/ValidItemHoc'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport Translate from 'components/translate/Translate'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { selectLocationQuery } from 'selectors'\n\nclass IdentitySteps extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tpages: this.mapPages(),\n\t\t}\n\n\t\t// TODO: Check if it is possible to need state update\n\t}\n\n\tmapPages = () => {\n\t\tconst {\n\t\t\tGoBtn,\n\t\t\tcancelFunction,\n\t\t\tt,\n\t\t\tonSave,\n\t\t\tstepsId,\n\t\t\tstepsPages = [],\n\t\t\tstepsPreviewPage,\n\t\t\tvalidateIdBase,\n\t\t\t...rest\n\t\t} = this.props\n\n\t\tconst validateId = (validateIdBase || '') + '-' + stepsId\n\n\t\tconst pages = stepsPages.map((page, index) => {\n\t\t\treturn {\n\t\t\t\ttitle: t(page.title),\n\t\t\t\tcancelFunction,\n\t\t\t\tcomponent: ValidItemHoc(page.page),\n\t\t\t\tdisableBtnsIfValid: page.disableBtnsIfValid,\n\t\t\t\tprops: { ...this.props, validateId: validateId + '-' + index },\n\t\t\t\tpageValidation: page.pageValidation,\n\t\t\t\tgoToNextPageIfValid: page.goToNextPageIfValid,\n\t\t\t\tcompleteBtn: page.final\n\t\t\t\t\t? () => <GoBtn {...rest} stepsId={stepsId} onSave={onSave} t={t} />\n\t\t\t\t\t: undefined,\n\t\t\t}\n\t\t})\n\n\t\treturn pages\n\t}\n\n\trender() {\n\t\tconst { initialPage } = this.props\n\t\treturn (\n\t\t\t<MaterialStepper initialPage={initialPage} pages={this.state.pages} />\n\t\t)\n\t}\n}\n\nIdentitySteps.propTypes = {\n\tactions: PropTypes.object.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\t// const persist = state.persist\n\t// const memory = state.memory\n\treturn {\n\t\tinitialPage: selectLocationQuery(state)['step'] || 0,\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Translate(withStyles(styles)(IdentitySteps)))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t},\n\t\tadxVersion: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: spacing,\n\t\t\tbottom: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\tmarginTop: '1.5vh',\n\t\t\twidth: '17.92vh',\n\t\t\theight: '6vh',\n\t\t},\n\t\tformControl: {\n\t\t\tdisplay: 'flex',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmargin: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t\tinfoPaper: {\n\t\t\t...theme.mixins.gutters(),\n\t\t\tpaddingTop: spacing * 2,\n\t\t\tpaddingBottom: spacing * 2,\n\t\t},\n\t\tinput: {\n\t\t\tdisplay: 'none',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport AuthMethod from './ownerAuth/AuthMethod'\nimport QuickInfo from './QuickInfo'\nimport FullInfo from './FullInfo'\nimport QuickLogin from './QuickLogin'\nimport FullLogin from './FullLogin'\nimport IdentitySteps from './IdentitySteps'\nimport { push } from 'connected-react-router'\n\nimport {\n\texecute,\n\tvalidateQuickLogin,\n\tvalidateStandardLogin,\n\tvalidateQuickInfo,\n\tvalidateFullInfo,\n\tvalidateContractOwner,\n\tresetIdentity,\n} from 'actions'\n\nconst cancelFunction = () => {\n\texecute(resetIdentity())\n\texecute(push('/'))\n}\n\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\n\nconst common = {\n\tcancelFunction,\n\tvalidateIdBase: 'identity-',\n}\n\nexport const LoginStandardIdentity = props => {\n\treturn (\n\t\t<IdentitySteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-login'\n\t\t\tstepsPages={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tpage: AuthMethod,\n\t\t\t\t\tpageValidation: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\n\t\t\t\t\tpage: FullLogin,\n\t\t\t\t\tpageValidation: finalValidationStandard,\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateStandardIdentity = props => {\n\treturn (\n\t\t<IdentitySteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-create'\n\t\t\tstepsPages={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tpage: AuthMethod,\n\t\t\t\t\tpageValidation: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'FULL_INFO',\n\t\t\t\t\tpage: FullInfo,\n\t\t\t\t\tpageValidation: ({ validateId, dirty }) =>\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateQuickIdentity = props => (\n\t<IdentitySteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-create'\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_INFO',\n\t\t\t\tpage: QuickInfo,\n\t\t\t\tpageValidation: ({ validateId, dirty }) =>\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const LoginQuickIdentity = props => (\n\t<IdentitySteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-login'\n\t\tstepsPages={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_LOGIN',\n\t\t\t\tpage: QuickLogin,\n\t\t\t\tpageValidation: finalValidationQuick,\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const DemoIdentity = props => (\n\t<IdentitySteps {...props} {...common} stepsPages={[]} />\n)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Logo from 'components/common/icons/AdexIconTxt'\nimport Typography from '@material-ui/core/Typography'\nimport Anchor from 'components/common/anchor/anchor'\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\ttextAlign: 'center',\n\t},\n\tvitalik: {\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\n\t\tbackgroundPosition: 'center',\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundSize: 'contain',\n\t},\n\tcontainer: {\n\t\tmaxWidth: theme.breakpoints.values.md,\n\t\tmargin: 'auto',\n\t},\n\tlogo: {\n\t\theight: '5rem',\n\t\twidth: '100%',\n\t},\n}))\n\nexport default function Home({ t, ...rest }) {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box\n\t\t\twidth={1}\n\t\t\theight={1}\n\t\t\tclassName={classes.root}\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='center'\n\t\t\tjustifyContent='center'\n\t\t>\n\t\t\t<Box\n\t\t\t\tclassName={classes.container}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='row'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='space-evenly'\n\t\t\t\tflexWrap='wrap'\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box\n\t\t\t\tflexGrow={1}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='column'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='center'\n\t\t\t\tmaxWidth='md'\n\t\t\t\tclassName={classes.container}\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Logo className={classes.logo} />\n\t\t\t\t</Box>\n\n\t\t\t\t{/* <Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={1}>\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t{/* <Box p={1}>\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box\n\t\t\t\t\theight='30%'\n\t\t\t\t\tposition='relative'\n\t\t\t\t\tclassName={classes.vitalik}\n\t\t\t\t\talignSelf='stretch'\n\t\t\t\t></Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\n\nconst useStyles = makeStyles(theme => ({\n\tdialog: {\n\t\theight: '100vh',\n\t\twidth: theme.maxWidth || 1200,\n\t\tmaxWidth: '100%',\n\t},\n}))\n\nexport default function DialogHoc(Decorated) {\n\tfunction JustDialog({ ...rest }) {\n\t\tconst classes = useStyles()\n\n\t\treturn (\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Decorated {...rest} />\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\treturn JustDialog\n}\n","import React, { useEffect } from 'react'\nimport { HashRouter as Router } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport {\n\tmetamaskChecks,\n\tmetamaskNetworkCheck,\n\tgetRelayerConfig,\n\texecute,\n\tensureQuickWalletBackup,\n\tupdateRegistrationAllowed,\n\thandleRedirectParams,\n\thandleSignupLink,\n} from 'actions'\nimport { Route, Switch, Redirect } from 'react-router'\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\nimport ConnectHoc from 'components/signin/ConnectHoc'\nimport {\n\tCreateQuickIdentity,\n\tLoginStandardIdentity,\n\tCreateStandardIdentity,\n\tLoginQuickIdentity,\n} from 'components/signin/identity/Identity'\nimport SideSelect from 'components/signin/side-select/SideSelect'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport Home from 'components/signin/Home'\nimport JustDialog from 'components/common/dialog/JustDialog'\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\nimport Translate from 'components/translate/Translate'\nimport { selectAuth, selectWallet, selectLocation } from 'selectors'\n\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\nconst ConnectedLoginStandardIdentity = ConnectHoc(\n\tJustDialog(LoginStandardIdentity)\n)\nconst ConnectedCreateStandardIdentity = ConnectHoc(\n\tJustDialog(CreateStandardIdentity)\n)\nconst ConnectedRoot = ConnectHoc(Home)\n\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...other}\n\t\t\trender={props =>\n\t\t\t\tauth === true ? ( //|| true\n\t\t\t\t\t<Component {...props} />\n\t\t\t\t) : (\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t)\n}\n\nconst handleLegacyWallet = async wallet => {\n\tconst { type, email, password, authType } = wallet || {}\n\n\tif (!type && email && password && authType === 'grant') {\n\t\tawait migrateLegacyWallet({ email, password })\n\t\tawait removeLegacyKey({ email, password })\n\t}\n\n\tif (email && password && authType) {\n\t\texecute(ensureQuickWalletBackup())\n\t}\n}\n\nconst Root = () => {\n\tconst auth = useSelector(selectAuth)\n\tconst wallet = useSelector(selectWallet)\n\tconst location = useSelector(selectLocation)\n\n\tuseEffect(() => {\n\t\texecute(getRelayerConfig())\n\t\texecute(metamaskChecks())\n\t\texecute(handleRedirectParams(location.search))\n\t\texecute(handleSignupLink(location.search))\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tuseEffect(() => {\n\t\thandleLegacyWallet(wallet)\n\t}, [wallet])\n\n\tuseEffect(() => {\n\t\texecute(metamaskNetworkCheck())\n\t\texecute(updateRegistrationAllowed(location.search))\n\t}, [location])\n\n\treturn (\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<PrivateRoute\n\t\t\t\t\tauth={auth}\n\t\t\t\t\tpath='/dashboard/:side'\n\t\t\t\t\tcomponent={Dashboard}\n\t\t\t\t/>\n\t\t\t\t<PrivateRoute auth={auth} path='/side-select' component={SideSelect} />\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/quick'\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/login/full'\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/full'\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\n\t\t\t\t<Route>\n\t\t\t\t\t<PageNotFound />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t)\n}\n\nexport default Translate(Root)\n","import React, { Component } from 'react'\nimport 'react-image-crop/dist/ReactCrop.css'\n// import './App.css'\nimport { Provider } from 'react-redux'\nimport { persistor, store } from 'store'\nimport history from 'store/history'\nimport { ConnectedRouter } from 'connected-react-router'\nimport Toast from 'components/toast/Toast'\nimport Confirm from 'components/confirm/Confirm'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport Root from './Root'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport { themeMUI } from './themeMUi'\nimport MomentUtils from '@date-io/moment'\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport CacheBuster from './CacheBuster'\n\n// console.log('initial store', store.getState())\n\nconst onBeforeLift = () => {\n\t// take some action before the gate lifts\n}\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CssBaseline />\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\n\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\n\t\t\t\t\t\t<Provider store={store}>\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\n\t\t\t\t\t\t\t\t\t<CacheBuster>\n\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\n\t\t\t\t\t\t\t\t\t\t\t<Root />\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</CacheBuster>\n\t\t\t\t\t\t\t\t</ConnectedRouter>\n\t\t\t\t\t\t\t</PersistGate>\n\t\t\t\t\t\t</Provider>\n\t\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n)\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error)\n\t\t})\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type')\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t)\n\t\t})\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister()\n\t\t})\n\t}\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App/App'\nimport { unregister } from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\nunregister()\n","import {\n\tgetState,\n\texecute,\n\tresetAllNewItems,\n\tresetAllItems,\n\tresetAllBids,\n\tresetIdentity,\n\tresetAccount,\n\tresetAnalytics,\n\tresetChannelsWithBalance,\n} from 'actions'\n\nimport {\n\tcampaignsLoop,\n\tcampaignsLoopStats,\n} from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport {\n\tanalyticsLoop,\n\tanalyticsCampaignsLoop,\n} from 'services/store-data/analytics'\n\nimport { push } from 'connected-react-router'\n\nexport const logOut = skipRedirect => {\n\tanalyticsLoop.stop()\n\tanalyticsCampaignsLoop.stop()\n\tcampaignsLoop.stop()\n\tcampaignsLoopStats.stop()\n\tstatsLoop.stop()\n\tif (!skipRedirect) {\n\t\texecute(push('/'))\n\t}\n\texecute(resetIdentity())\n\texecute(resetAllItems())\n\texecute(resetAllNewItems())\n\texecute(resetAllBids())\n\texecute(resetAccount())\n\texecute(resetAnalytics())\n\texecute(resetChannelsWithBalance())\n}\n\nexport const isDemoMode = () => {\n\treturn getState().persist.account._authType === 'demo'\n}\n\nexport const getAccount = () => {\n\treturn getState().persist.account\n}\n","const MAX_ASPECT_TOLERANCE = 5\n\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\n\nconst getVideoSize = src =>\n\tnew Promise(resolve => {\n\t\tconst video = document.createElement('video')\n\t\tvideo.src = src\n\n\t\tvideo.onloadedmetadata = ({ target }) => {\n\t\t\treturn resolve({\n\t\t\t\twidth: target.videoWidth,\n\t\t\t\theight: target.videoHeight,\n\t\t\t})\n\t\t}\n\t})\n\nconst getImageSize = src =>\n\tnew Promise(resolve => {\n\t\tconst image = new Image()\n\t\timage.src = src\n\t\timage.onload = function() {\n\t\t\treturn resolve({\n\t\t\t\twidth: this.width,\n\t\t\t\theight: this.height,\n\t\t\t})\n\t\t}\n\t})\n\nexport const getMediaSize = ({ mime, src }) =>\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\n\nexport const checkExactishAspect = (\n\twidthTarget,\n\twidth,\n\theightTarget,\n\theight,\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\n) => {\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\n\t\treturn false\n\t}\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\n\tconst aspect = parseFloat(width / height)\n\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\n\n\tconst isValid =\n\t\twidthTarget <= width &&\n\t\theightTarget <= height &&\n\t\taspectDiff <= maxPercentTolerance\n\n\treturn isValid\n}\n","import Identity from './build/Identity.json'\nimport AdExCore from './build/AdExCore.json'\nimport Dai from './build/Dai.json'\nimport IdentityFactory from './build/IdentityFactory.json'\nimport AdExENSManager from './build/AdExENSManager.json'\nimport ReverseRegistrar from './build/ReverseRegistrar.json'\nimport ERC20 from './abi/ERC20Token.json'\n\nexport const contracts = {\n\tIdentity: {\n\t\tabi: Identity.abi,\n\t},\n\tAdExENSManager: {\n\t\taddress: process.env.ADEX_ENS_ADDR,\n\t\tpublicResolver: process.env.REVERSE_REGISTRAR_PUBLIC_RESOLVER,\n\t\tabi: AdExENSManager.abi,\n\t},\n\tReverseRegistrar: {\n\t\taddress: process.env.REVERSE_REGISTRAR_ADDR,\n\t\tparentDomain: process.env.REVERSE_REGISTRAR_PARENT,\n\t\tabi: ReverseRegistrar.abi,\n\t},\n\tAdExCore: {\n\t\taddress: process.env.ADEX_CORE_ADDR,\n\t\tabi: AdExCore.abi,\n\t},\n\tDAI: {\n\t\taddress: process.env.DAI_TOKEN_ADDR,\n\t\tabi: Dai.abi,\n\t\tdecimals: 18,\n\t},\n\tIdentityFactory: {\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\n\t\tabi: IdentityFactory.abi,\n\t},\n\tERC20: {\n\t\tabi: ERC20,\n\t},\n}\n","import crypto from 'crypto'\nimport {\n\tChannel,\n\tsplitSig,\n\tChannelState,\n\tRoutineOps,\n} from 'adex-protocol-eth/js'\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetIdentityTxnsWithNoncesAndFees,\n\tgetIdentityTxnsTotalFees,\n\tprocessExecuteByFeeTokens,\n\tgetApproveTxns,\n} from 'services/smart-contracts/actions/identity'\nimport { contracts } from '../contractsCfg'\nimport { closeCampaign } from 'services/adex-validator/actions'\nimport { Campaign, AdUnit } from 'adex-models'\nimport { getAllCampaigns } from 'services/adex-market/actions'\nimport {\n\tbigNumberify,\n\trandomBytes,\n\tparseUnits,\n\tInterface,\n\tgetAddress,\n} from 'ethers/utils'\nimport {\n\tselectFeeTokenWhitelist,\n\tselectRoutineWithdrawTokens,\n\tselectMainFeeToken,\n\tselectMainToken,\n\tselectSaiToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\nimport { selectChannelsWithUserBalances } from 'selectors'\n\nconst { AdExCore } = contracts\nconst Core = new Interface(AdExCore.abi)\nconst IdentityInterface = new Interface(IdentityABI)\n\nconst timeframe = 15 * 1000 // 1 event per 15 seconds\nconst VALID_UNTIL_COEFFICIENT = 0.5\nconst VALID_UNTIL_MIN_PERIOD = 15 * 24 * 60 * 60 * 1000 // 15 days in ms\n\nfunction toEthereumChannel(channel) {\n\tconst specHash = crypto\n\t\t.createHash('sha256')\n\t\t.update(JSON.stringify(channel.spec))\n\t\t.digest()\n\n\treturn new Channel({\n\t\ttitle: channel.title,\n\t\tcreator: channel.creator,\n\t\ttokenAddr: channel.depositAsset,\n\t\ttokenAmount: channel.depositAmount,\n\t\tvalidUntil: channel.validUntil,\n\t\tvalidators: channel.spec.validators.map(v => v.id),\n\t\tspec: specHash,\n\t})\n}\n\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\n\tconst period = withdrawPeriodStart - activeFrom\n\tconst validUntil =\n\t\twithdrawPeriodStart +\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\n\n\treturn Math.floor(validUntil / 1000)\n}\n\nfunction getReadyCampaign(campaign, identity, mainToken) {\n\tconst newCampaign = new Campaign(campaign)\n\n\tnewCampaign.creator = identity.address\n\tnewCampaign.created = Date.now()\n\tnewCampaign.validUntil = getValidUntil(\n\t\tnewCampaign.activeFrom,\n\t\tnewCampaign.withdrawPeriodStart\n\t)\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\n\tnewCampaign.depositAmount = parseUnits(\n\t\tnewCampaign.depositAmount || '0',\n\t\tmainToken.decimals\n\t).toString()\n\n\tconst validators = newCampaign.validators.map(v => {\n\t\tconst deposit = bigNumberify(newCampaign.depositAmount || 0)\n\t\tconst fee = deposit\n\t\t\t.div(bigNumberify(v.feeDen || 1))\n\t\t\t.mul(bigNumberify(v.feeNum || 0))\n\t\t\t.toString()\n\n\t\tconst validator = {\n\t\t\tid: v.id,\n\t\t\turl: v.url,\n\t\t\tfee,\n\t\t}\n\n\t\tif (v.feeAddr) {\n\t\t\tvalidator.feeAddr = v.feeAddr\n\t\t}\n\n\t\treturn validator\n\t})\n\n\tnewCampaign.validators = validators\n\n\t// NOTE: TEMP in UI its set per 1000 impressions (CPM)\n\tnewCampaign.minPerImpression = parseUnits(\n\t\tnewCampaign.minPerImpression || '0',\n\t\tmainToken.decimals\n\t)\n\t\t.div(bigNumberify(1000))\n\t\t.toString()\n\tnewCampaign.maxPerImpression = newCampaign.minPerImpression\n\n\tnewCampaign.depositAsset = mainToken.address\n\tnewCampaign.eventSubmission = {\n\t\tallow: [\n\t\t\t{\n\t\t\t\tuids: [\n\t\t\t\t\tnewCampaign.creator,\n\t\t\t\t\tnewCampaign.validators[0].id,\n\t\t\t\t\tnewCampaign.validators[1].id,\n\t\t\t\t],\n\t\t\t},\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\n\t\t],\n\t}\n\n\tnewCampaign.status = {\n\t\tname: 'Pending',\n\t\thumanFriendlyName: 'Active',\n\t\tlastChecked: Date.now(),\n\t}\n\n\treturn newCampaign\n}\n\nconst getWithdrawnPerUserOutstanding = async ({\n\tAdExCore,\n\tchannel,\n\tbalance,\n\tidentityAddr,\n}) => {\n\treturn bigNumberify(balance).sub(\n\t\tawait AdExCore.functions.withdrawnPerUser(channel.id, identityAddr)\n\t)\n}\n\nexport async function getChannelsWithOutstanding({ identityAddr, wallet }) {\n\tconst { authType } = wallet\n\tconst channels = await getAllCampaigns(true)\n\tconst { AdExCore } = await getEthers(authType)\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\n\n\tconst all = await Promise.all(\n\t\tchannels\n\t\t\t.filter(\n\t\t\t\tchannel =>\n\t\t\t\t\tchannel &&\n\t\t\t\t\tchannel.status &&\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\n\t\t\t)\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedBalances } = channel.status\n\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\n\t\t\t\t\t(balances, e) => {\n\t\t\t\t\t\tconst [address, balance] = e\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (getAddress(address)) {\n\t\t\t\t\t\t\t\tbalances[address] = balance\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch {}\n\t\t\t\t\t\treturn balances\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t)\n\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\n\n\t\t\t\treturn channel\n\t\t\t})\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\n\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\n\t\t\t\treturn {\n\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\t// mTree,\n\t\t\t\t\tbTree,\n\t\t\t\t\tchannel,\n\t\t\t\t}\n\t\t\t})\n\t\t\t.filter(({ bTree }) => {\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\n\t\t\t})\n\t\t\t.map(async ({ channel, lastApprovedSigs, bTree }) => {\n\t\t\t\t//  mTree,\n\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\n\n\t\t\t\tconst outstanding = await getWithdrawnPerUserOutstanding({\n\t\t\t\t\tAdExCore,\n\t\t\t\t\tchannel,\n\t\t\t\t\tbalance,\n\t\t\t\t\tidentityAddr,\n\t\t\t\t})\n\n\t\t\t\tconst outstandingAvailable = outstanding.sub(\n\t\t\t\t\tfeeTokenWhitelist[channel.depositAsset].min\n\t\t\t\t)\n\n\t\t\t\treturn {\n\t\t\t\t\tchannel,\n\t\t\t\t\tbalance,\n\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\toutstanding,\n\t\t\t\t\toutstandingAvailable,\n\t\t\t\t\t// mTree,\n\t\t\t\t\tbTree,\n\t\t\t\t}\n\t\t\t})\n\t)\n\n\tconst eligible = all.filter(x => {\n\t\treturn (\n\t\t\tx.outstanding.gt(\n\t\t\t\tbigNumberify(routineWithdrawTokens[x.channel.depositAsset].minWeekly)\n\t\t\t) && x.outstandingAvailable.gt(bigNumberify('0'))\n\t\t)\n\t})\n\n\treturn eligible\n}\n\nasync function getChannelsToSweepFrom({ amountToSweep, withBalance = [] }) {\n\tconst { eligible } = withBalance\n\t\t.sort((c1, c2) => {\n\t\t\treturn c2.outstandingAvailable.gt(c1.outstandingAvailable)\n\t\t})\n\t\t.reduce(\n\t\t\t(data, c) => {\n\t\t\t\tconst current = { ...data }\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\n\t\t\t\t\tcurrent.eligible.push(c)\n\t\t\t\t}\n\n\t\t\t\tcurrent.sum = current.sum.add(c.outstandingAvailable)\n\n\t\t\t\treturn current\n\t\t\t},\n\t\t\t{ sum: bigNumberify(0), eligible: [] }\n\t\t)\n\n\treturn eligible\n}\n\nconst getChannelWithdrawData = ({\n\tidentityAddr,\n\tbalance,\n\t// mTree,\n\tbTree,\n\tlastApprovedSigs,\n\tethChannelTuple,\n}) => {\n\tconst proof = bTree.getProof(identityAddr)\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\n\tconst root = bTree.mTree.getRoot()\n\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\n}\n\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\n\t\t(data, tx) => {\n\t\t\tconst updated = { ...data }\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || bigNumberify(0)\n\t\t\t).add(bigNumberify(tx.withdrawAmountByToken[tx.feeTokenAddr]))\n\n\t\t\treturn updated\n\t\t},\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\n\t)\n\n\tconst data = IdentityInterface.functions.executeRoutines.encode([\n\t\troutineAuthTuple,\n\t\troutineOpts,\n\t])\n\n\tconst routinesTx = {\n\t\tidentityContract: identityAddr,\n\t\tto: identityAddr,\n\t\tdata,\n\t\twithdrawAmountByToken,\n\t\troutinesTxCount: routineOpts.length,\n\t\troutinesSweepTxCount: routineOpts.length,\n\t}\n\n\treturn routinesTx\n}\n\nfunction getIdentityRoutineAuthTuple(identity) {\n\treturn identity &&\n\t\tidentity.relayerData &&\n\t\tidentity.relayerData.deployData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t: null\n}\n\nfunction is41identity(routineAuthTuple) {\n\tconst is41 = routineAuthTuple && routineAuthTuple.length === 5\n\n\treturn is41\n}\n\nfunction hasValidExecuteRoutines(routineAuthTuple) {\n\tconst hasValidRoutines =\n\t\tis41identity(routineAuthTuple) &&\n\t\t// TODO: get relayer config for giveUpResubmitAfter\n\t\tparseInt(routineAuthTuple[2], 16) * 1000 > Date.now() + 12 * 60 * 60 * 1000\n\n\treturn hasValidRoutines\n}\n\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\n\tconst { wallet, identity } = account\n\t// TODO: pass withBalance as prop\n\tconst withBalance = selectChannelsWithUserBalances()\n\n\tconst { AdExCore } = await getEthers(wallet.authType)\n\tconst identityAddr = identity.address\n\tconst channelsToSweep = await getChannelsToSweepFrom({\n\t\tamountToSweep,\n\t\tidentityAddr,\n\t\twithBalance,\n\t})\n\n\tconst txns = channelsToSweep.map((c, i) => {\n\t\tconst {\n\t\t\tbTree,\n\t\t\t//  mTree,\n\t\t\tchannel,\n\t\t\tlastApprovedSigs,\n\t\t\toutstanding,\n\t\t\t// outstandingAvailable,\n\t\t\tbalance,\n\t\t} = c\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\n\n\t\tconst data = getChannelWithdrawData({\n\t\t\tidentityAddr,\n\t\t\tbalance,\n\t\t\t// mTree,\n\t\t\tbTree,\n\t\t\tlastApprovedSigs,\n\t\t\tethChannelTuple,\n\t\t})\n\n\t\treturn {\n\t\t\tidentityContract: identityAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tfeeTokenAddr: channel.depositAsset,\n\t\t\tdata,\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\n\t\t}\n\t})\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\n\tlet encodedTxns = null\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\n\t\tencodedTxns = [\n\t\t\tgetSweepExecuteRoutineTx({\n\t\t\t\ttxns,\n\t\t\t\tidentityAddr,\n\t\t\t\troutineAuthTuple,\n\t\t\t}),\n\t\t]\n\t} else {\n\t\tencodedTxns = txns.map(tx => {\n\t\t\ttx.data = Core.functions.channelWithdraw.encode(tx.data)\n\t\t\ttx.isSweepTx = true\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\treturn encodedTxns\n}\n\nfunction getSwapAmountsByToken({ balances }) {\n\tconst mainToken = selectMainToken()\n\tconst saiToken = selectSaiToken()\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\n\t\t(swaps, balance) => {\n\t\t\t// TODO: currently work only for SAI to DAI swap\n\t\t\tif (\n\t\t\t\tbalance.token.address !== mainToken.address &&\n\t\t\t\t// TEMP: remove that check when all tokens swaps are available\n\t\t\t\tbalance.token.address === saiToken.address\n\t\t\t) {\n\t\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\n\t\t\t\t\tbalance.balanceMainToken\n\t\t\t\t)\n\t\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\n\t\t\t}\n\t\t\treturn swaps\n\t\t},\n\t\t{\n\t\t\tswapsSumInMainToken: bigNumberify(0),\n\t\t\tswapsByToken: {},\n\t\t}\n\t)\n\n\treturn { swapsByToken, swapsSumInMainToken }\n}\n\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\n// amountNeeded must be in MainToken\nexport async function getSweepingTxnsIfNeeded({\n\tamountInMainTokenNeeded,\n\taccount,\n}) {\n\tconst needed = bigNumberify(amountInMainTokenNeeded)\n\tconst {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t} = account.stats.raw.identityWithdrawTokensBalancesBalances\n\n\tlet currentBalanceInUse = bigNumberify(mainTokenBalance)\n\n\tconst sweepData = {\n\t\tsweepTxns: [],\n\t\tswapAmountsByToken: {},\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\t// Swaps\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\n\t\t\tbalances,\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\n\t\t})\n\n\t\tsweepData.swapAmountsByToken = swapsByToken\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\n\t\t\taccount,\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\n\t\t})\n\t}\n\n\treturn sweepData\n}\n\nexport async function openChannel({\n\tcampaign,\n\taccount,\n\tgetFeesOnly,\n\tgetMaxFees,\n}) {\n\tconst { wallet, identity, stats } = account\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\n\tconst mainToken = selectMainFeeToken()\n\tconst depositAmount = getMaxFees\n\t\t? availableIdentityBalanceMainToken\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\n\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\n\tconst openReady = readyCampaign.openReady\n\tconst ethChannel = toEthereumChannel(openReady)\n\tconst channel = {\n\t\t...openReady,\n\t\tid: ethChannel.hashHex(AdExCore.address),\n\t}\n\tconst identityAddr = openReady.creator\n\tconst feeTokenAddr = mainToken.address\n\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\tconst hasIdentityChannelOpen = is41identity(routineAuthTuple)\n\n\tconst txns = []\n\n\tif (hasIdentityChannelOpen) {\n\t\tconst identityChannelOpenTx = {\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: identityAddr,\n\t\t\tdata: IdentityInterface.functions.channelOpen.encode([\n\t\t\t\tAdExCore.address,\n\t\t\t\tethChannel.toSolidityTuple(),\n\t\t\t]),\n\t\t\textraTxFeesCount: 1,\n\t\t}\n\t\ttxns.push(identityChannelOpenTx)\n\t} else {\n\t\tconst approveTxns = await getApproveTxns({\n\t\t\tgetToken,\n\t\t\ttoken: mainToken,\n\t\t\tidentityAddr,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tapproveForAddress: AdExCore.address,\n\t\t\tapproveAmount: depositAmount,\n\t\t})\n\n\t\tconst channelOpenTx = {\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\n\t\t}\n\t\ttxns.push(...approveTxns, channelOpenTx)\n\t}\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: depositAmount,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst { total, totalBN } = await getIdentityTxnsTotalFees({ txnsByFeeToken })\n\tconst bigZero = bigNumberify(0)\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\tconst maxAvailable = mtBalance.sub(totalBN).lt(bigZero)\n\t\t? bigZero\n\t\t: mtBalance.sub(totalBN)\n\tconst maxAvailableFormatted = formatTokenAmount(\n\t\tmaxAvailable.toString(),\n\t\tmainToken.decimals || 18,\n\t\tfalse,\n\t\ttrue\n\t)\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfeesFormatted: total,\n\t\t\tfees: totalBN,\n\t\t\tmaxAvailable,\n\t\t\tmaxAvailableFormatted,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t\textraData: { channel },\n\t})\n\n\treadyCampaign.id = channel.id\n\tconst storeCampaign = { ...readyCampaign }\n\tstoreCampaign.spec = { ...openReady.spec }\n\treturn {\n\t\tresult,\n\t\tstoreCampaign,\n\t}\n}\n\nexport async function closeChannel({ account, campaign }) {\n\tconst result = await closeCampaign({ account, campaign })\n\treturn result\n}\n","import Helper from 'helpers/miscHelpers'\nimport { getState } from 'actions'\nimport { selectAuthSig } from 'selectors'\nimport { isDemoMode } from 'services/store-data/auth'\nimport { t } from 'selectors'\n\nexport const handleRequesterErrorRes = ({ res, text }) => {\n\tlet message = text\n\ttry {\n\t\tconst textObj = JSON.parse(text)\n\t\tmessage =\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\n\t} catch {}\n\n\tthrow new Error(\n\t\tt('SERVICE_ERROR_MSG', {\n\t\t\targs: [res.url, res.status, res.statusText, message],\n\t\t})\n\t)\n}\n\nclass AdexNodeRequester {\n\tconstructor({ baseUrl }) {\n\t\tthis.baseUrl = baseUrl\n\t}\n\n\tgetAuthHeaders = ({ authSig } = {}) => {\n\t\tconst authSignature = selectAuthSig(getState())\n\t\treturn {\n\t\t\t'X-User-Signature': authSig || authSignature,\n\t\t}\n\t}\n\n\tnoCacheHeaders = {\n\t\t'Cache-Control': 'no-cache',\n\t\tExpires: '0',\n\t\tPragma: 'no-cache',\n\t}\n\n\tgetUrl = (base, route, query) => {\n\t\tlet url = base + '/'\n\t\tif (route) {\n\t\t\troute = route.replace(/^\\//, '')\n\t\t\turl += route\n\t\t}\n\n\t\turl += query\n\n\t\treturn url\n\t}\n\n\tfetch = ({\n\t\troute = '',\n\t\tqueryParams = {},\n\t\tmethod = 'GET',\n\t\tbody,\n\t\theaders = {},\n\t\tuserAddr,\n\t\tauthSig = '',\n\t\tauthToken,\n\t\tnoCache = false,\n\t}) => {\n\t\tconst qp = { ...queryParams }\n\t\tif (isDemoMode()) {\n\t\t\tqp.demo = true\n\t\t}\n\n\t\tconst query = Helper.getQuery(qp)\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\n\n\t\tconst hdrs = {\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\n\t\t\t...this.getAuthHeaders({ authSig }),\n\t\t\t...headers,\n\t\t}\n\t\treturn fetch(url, {\n\t\t\tmethod: method,\n\t\t\theaders: hdrs,\n\t\t\tbody: body,\n\t\t})\n\t}\n}\n\nexport default AdexNodeRequester\n","import requester from './requester'\n\nexport default requester\nexport * from './requester'\n","export default class Looper {\n\tconstructor({ timeout, syncAction, loopName = '' }) {\n\t\tif (!timeout) {\n\t\t\tthrow new Error('LOOPER timeout prop is required')\n\t\t}\n\n\t\tif (typeof syncAction !== 'function') {\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\n\t\t}\n\n\t\tthis.loopTimeout = null\n\t\tthis.timeout = timeout\n\t\tthis.syncAction = syncAction\n\t}\n\n\tclearLoopTimeout = () => {\n\t\tif (this.loopTimeout) {\n\t\t\tclearTimeout(this.loopTimeout)\n\t\t\tthis.loopTimeout = null\n\t\t}\n\t}\n\n\tsyncData = async opts => {\n\t\tawait this.syncAction()\n\t}\n\n\tstartLoop = async opts => {\n\t\ttry {\n\t\t\tawait this.syncData(opts)\n\t\t\tthis.checkLoop()\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\n\t\t\tthis.checkLoop()\n\t\t}\n\t}\n\n\tcheckLoop = () => {\n\t\tthis.clearLoopTimeout()\n\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\n\t}\n\n\tstart = () => {\n\t\tthis.clearLoopTimeout()\n\t\tthis.startLoop()\n\t}\n\n\tstop = () => {\n\t\tthis.clearLoopTimeout()\n\t}\n}\n","import Loop from './loop'\nimport { updateUserCampaigns, execute } from 'actions'\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\n\nconst LOOP_TIMEOUT =\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\n// It might be 30 seconds or so\n\nconst syncCampaigns = async updateStats => {\n\texecute(updateUserCampaigns(updateStats))\n}\n\nconst campaignsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => syncCampaigns(false),\n\tloopName: '_CAMPAIGNS',\n})\n\nconst campaignsLoopStats = new Loop({\n\ttimeout: LOOP_TIMEOUT * 2.5,\n\tsyncAction: () => syncCampaigns(true),\n\tloopName: '_CAMPAIGNS_STATS',\n})\nexport { campaignsLoop, campaignsLoopStats }\n","import Loop from './loop'\nimport {\n\texecute,\n\tupdateAccountAnalytics,\n\tupdateAccountCampaignsAnalytics,\n} from 'actions'\n\nconst LOOP_TIMEOUT = 120 * 1000\n\nconst analyticsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => execute(updateAccountAnalytics()),\n\tloopName: '_ANALYTICS',\n})\n\nconst analyticsCampaignsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => execute(updateAccountCampaignsAnalytics()),\n\tloopName: '_ANALYTICS_CAMPAIGNS_ADVANCED',\n})\n\nexport { analyticsLoop, analyticsCampaignsLoop }\n","import { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\n\nconst autocompleteLocationsSingleSelect = () => {\n\treturn constants.AllCountries.map(country => {\n\t\treturn {\n\t\t\tlabel: country.name,\n\t\t\tvalue: country.value,\n\t\t}\n\t})\n}\n\nconst autocompleteGendersSingleSelect = () => {\n\treturn constants.Genders.map(gender => {\n\t\treturn {\n\t\t\tlabel: translate(gender.split('_')[1]),\n\t\t\tvalue: gender,\n\t\t}\n\t})\n}\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nexport const AcLocations = autocompleteLocationsSingleSelect()\nexport const AcGenders = autocompleteGendersSingleSelect()\nexport const AcTags = autocompleteTagsSingleSelect()\n\nexport const SOURCES = {\n\tlocations: { src: AcLocations, collection: 'targeting' },\n\tgenders: { src: AcGenders, collection: 'targeting' },\n\ttags: { src: AcTags, collection: 'targeting' },\n\tcustom: { src: [], collection: 'targeting' },\n}\n","import { formatUnits, commify } from 'ethers/utils'\nimport MomentUtils from '@date-io/moment'\nconst moment = new MomentUtils()\n\nconst DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\n\nexport const formatDateTime = (timestamp, format = DEFAULT_DATETIME_FORMAT) => {\n\tif (!timestamp) {\n\t\treturn 'no date'\n\t}\n\tconst date = moment.date(timestamp)\n\treturn date.format(format)\n}\n\nexport const formatTokenAmount = (\n\tamountString,\n\tdecimals = 18,\n\tpretty,\n\ttoFixed\n) => {\n\tconst formatted = formatUnits(amountString, decimals)\n\tif (pretty) {\n\t\treturn commify(formatted)\n\t} else if (typeof toFixed === 'number') {\n\t\treturn parseFloat(formatted).toFixed(toFixed)\n\t} else {\n\t\treturn formatted\n\t}\n}\n\nexport const formatAddress = (address = '') => {\n\treturn `${address.substring(0, 8)}...${address.substring(36, 42)}`\n}\n\nexport const formatNumberWithCommas = x => {\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n}\n\nexport const formatNumberWithoutCommas = x => {\n\treturn x\n\t\t.toString()\n\t\t.split(',')\n\t\t.join('')\n}\n\nexport const formatAbbrNum = (number, decPlaces) => {\n\t// 2 decimal places => 100, 3 => 1000, etc\n\tdecPlaces = Math.pow(10, decPlaces)\n\n\t// Enumerate number abbreviations\n\tvar abbrev = ['k', 'm', 'b', 't']\n\n\t// Go through the array backwards, so we do the largest first\n\tfor (var i = abbrev.length - 1; i >= 0; i--) {\n\t\t// Convert array index to \"1000\", \"1000000\", etc\n\t\tvar size = Math.pow(10, (i + 1) * 3)\n\n\t\t// If the number is bigger or equal do the abbreviation\n\t\tif (size <= number) {\n\t\t\t// Here, we multiply by decPlaces, round, and then divide by decPlaces.\n\t\t\t// This gives us nice rounding to a particular decimal place.\n\t\t\tnumber = Math.round((number * decPlaces) / size) / decPlaces\n\n\t\t\t// Handle special case where we round up to the next abbreviation\n\t\t\tif (number == 1000 && i < abbrev.length - 1) {\n\t\t\t\tnumber = 1\n\t\t\t\ti++\n\t\t\t}\n\n\t\t\t// Add the letter for the abbreviation\n\t\t\tnumber += abbrev[i]\n\n\t\t\t// We are done... stop\n\t\t\tbreak\n\t\t}\n\t}\n\n\treturn number\n}\n\nexport const truncateString = (string, maxLength = 50) => {\n\tif (!string) return ''\n\tif (string.length <= maxLength) return string\n\treturn `${string.substring(0, maxLength).trim()}...`\n}\n","// Nodejs encryption with CTR\nconst crypto = require('crypto')\n\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\nconst CIPHER_ALG = 'aes-256-cbc'\nconst IV_LENGTH = 16\nconst HASH_ALG = 'sha256'\n\nconst getKeyHash = key => {\n\tconst hash = crypto.createHash(HASH_ALG)\n\thash.update(key)\n\tconst hashed = hash.digest()\n\treturn hashed\n}\n\nexport const encrypt = async (text, key) => {\n\tif (!text) return ''\n\tif (!key) {\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\n\t}\n\tconst iv = crypto.randomBytes(IV_LENGTH)\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst encr = cipher.update(text)\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\n\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\n}\n\nexport const decrypt = async (text, key) => {\n\tconst textParts = text.split(':')\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst decr = decipher.update(encryptedText)\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\n\n\treturn decrypted.toString()\n}\n\nexport const encryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\n\tcrypted += cipher.final('hex')\n\treturn crypted\n}\n\nexport const decryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\n\tlet dec = decipher.update(text, 'hex', 'utf8')\n\tdec += decipher.final('utf8')\n\treturn dec\n}\n","import { exchange as ExchangeConstants } from 'adex-constants'\nimport { constants } from 'adex-models'\n\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\nconst { SignatureModes } = constants\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nexport const AVATAR_MAX_WIDTH = 600\nexport const AVATAR_MAX_HEIGHT = 400\n\nexport const SORT_PROPERTIES_BIDS = [\n\t{ value: '_state', label: '' },\n\t{ value: '_target', label: '' },\n\t{ value: '_amount', label: '' },\n\t{ value: '_timeout', label: '' },\n]\n\nexport const FILTER_PROPERTIES_BIDS = {\n\t_state: {\n\t\tlabel: '_state',\n\t\tlabelIsProp: true,\n\t\tvalues: Object.keys(BID_STATES).map(key => {\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\n\t\t}),\n\t},\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\n}\n\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\n}\n\nexport const SORT_PROPERTIES_ITEMS = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n\t{ value: 'type' },\n]\n\nexport const SORT_PROPERTIES_COLLECTION = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n]\n\nexport const FILTER_PROPERTIES_ITEMS = {\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\n}\n\nexport const AUTH_TYPES = {\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\n\tLEDGER: { name: 'ledger', signType: SignatureModes.GETH, limit: 0 },\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\n}\n\nexport const NETWORK_STATUS = {\n\t0: 'pending',\n\t1: 'success',\n\t2: 'failed',\n}\n\nexport const ETHEREUM_NETWORKS = {\n\t1: { name: 'Mainnet', for: 'production' },\n\t5: { name: 'Goerli', for: 'development' },\n\tproduction: { name: 'Mainnet', for: 'production' },\n\tdevelopment: { name: 'Goerli', for: 'development' },\n}\n\nexport const SORT_PROPERTIES_CAMPAIGN = [\n\t{ value: 'created', label: 'Created' },\n\t{ value: 'status.name', label: 'Status' },\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\n\t{ value: 'activeFrom', label: 'Starts' },\n\t{ value: 'depositAmount', label: 'depositAmount' },\n\t{ value: 'maxPerImpression', label: 'cpm' },\n]\n\nexport const FILTER_PROPERTIES_CAMPAIGN = {\n\t'status.name': {\n\t\tlabel: 'ststus',\n\t\tlabelIsProp: true,\n\t\tvalues: [\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\n\t\t\t{ value: 'Offline', label: 'Offline' },\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\n\t\t\t{ value: 'Ready', label: 'Ready' },\n\t\t\t{ value: 'Active', label: 'Active' },\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\n\t\t\t{ value: 'Expired', label: 'Expired' },\n\t\t],\n\t},\n}\n\nexport const UTM_PARAMS = {\n\tutm_source: 'ADEX',\n\tutm_medium: 'CPM',\n\tutm_campaign: 'none',\n\tutm_content: 'none',\n}\n\nexport const VALIDATOR_ANALYTICS_METRICS = [\n\t'eventPayouts', //\n\t'eventCounts',\n]\nexport const VALIDATOR_ANALYTICS_SIDES = [\n\t'advertiser',\n\t'publisher', //\n]\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = [\n\t'IMPRESSION', //\n\t'CLICK',\n]\n\n// TEMP: disable long periods\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\n\t{ label: 'LABEL_HOUR', value: 'hour' },\n\t{ label: 'LABEL_DAY', value: 'day' },\n\t{ label: 'LABEL_WEEK', value: 'week' },\n\t// { label: 'LABEL_MONTH', value: 'month' },\n\t// { label: 'LABEL_YEAR', value: 'year' },\n]\n\nexport const MOON_GRAVITY_ACCELERATION = 1.625\nexport const MOON_TO_EARTH_WEIGHT = 0.166\n\nexport const WALLET_ACTIONS_MSGS = {\n\t[AUTH_TYPES.METAMASK.name]: [\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\n\t],\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\n\t[AUTH_TYPES.LEDGER.name]: [{ message: 'LEDGER_WAITING_ACTION' }],\n\t[AUTH_TYPES.QUICK.name]: [\n\t\t{ message: 'QUICK_WAITING_MSG' },\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\n\t],\n\t[AUTH_TYPES.GRANT.name]: [\n\t\t{ message: 'GRANT_WAITING_MSG' },\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\n\t],\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\n}\n","import adexTranslations from 'adex-translations'\nimport { renderToString } from 'react-dom/server'\n\nconst translations = adexTranslations()\n\nlet lang = 'en-US'\n\n// TODO: sanitization\nconst interpolate = (tpl, args) => {\n\tif (typeof tpl !== 'string') {\n\t\treturn ''\n\t}\n\n\treturn tpl.replace(/\\${(\\w+)}/g, (_, v) => {\n\t\tlet arg = args[v]\n\t\tif (typeof arg === 'object' && !!arg && arg.component) {\n\t\t\treturn renderToString(arg.component)\n\t\t} else {\n\t\t\treturn arg || ''\n\t\t}\n\t})\n}\n\nexport const translate = (\n\tval = '',\n\t{ isProp = false, args = [''] } = {},\n\tlanguage = lang\n) => {\n\tlet key = val + ''\n\tif (isProp) {\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\n\t}\n\n\tkey = key.toUpperCase()\n\n\tlet translation = translations[language][key] || val\n\n\tif (args.length && Array.isArray(args)) {\n\t\tconst translatedArgs = args.map(a => {\n\t\t\tif (typeof a === 'string') {\n\t\t\t\treturn translations[language][a] || a\n\t\t\t} else {\n\t\t\t\treturn a\n\t\t\t}\n\t\t})\n\n\t\ttranslation = interpolate(translation, translatedArgs)\n\t}\n\n\treturn translation\n}\n\n// TODO: fix that\nexport const setLang = lng => {\n\tlang = lng\n}\n","import { createHashHistory } from 'history'\n\nconst history = createHashHistory()\n\nexport default history\n","import Loop from './loop'\nimport { execute, updateAccountStats } from 'actions'\n\nconst LOOP_TIMEOUT = 60 * 1000\n\nconst accountStatsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: () => execute(updateAccountStats()),\n\tloopName: '_ACCOUNTS_STATS',\n})\n\nexport default accountStatsLoop\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\n\nlet initialState = {\n\taccount: new Account(),\n\tsignin: {\n\t\tname: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\tpassConfirm: '',\n\t\tseed: '',\n\t\tpublicKey: '',\n\t\tseedCheck: [],\n\t\tauthenticated: false,\n\t},\n\tnewItem: {\n\t\tCampaign: new Campaign().plainObj(),\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\n\t\tAdSlot: new AdSlot().plainObj(),\n\t},\n\tcurrentItem: {},\n\titems: {\n\t\tCampaign: {},\n\t\tAdUnit: {},\n\t\tAdSlot: {},\n\t},\n\tspinners: {},\n\tui: {},\n\ttoasts: [],\n\tconfirm: {\n\t\tdata: {},\n\t},\n\tnav: {\n\t\tside: '',\n\t},\n\tlanguage: 'en-US',\n\tvalidations: {},\n\tnewTransactions: {\n\t\tdefault: {},\n\t},\n\tweb3Transactions: {},\n\ttags: {},\n\tidentity: {},\n\tethNetwork: {\n\t\tnetworkId: null,\n\t\tgasData: {},\n\t},\n\twallet: {},\n\tconfig: {\n\t\trelayer: {},\n\t\tmarket: {},\n\t\tvalidators: {},\n\t},\n\tanalytics: { timeframe: 'day' },\n\tchannels: {\n\t\twithBalance: [],\n\t},\n}\n\nexport default initialState\n","import { ethers, constants } from 'ethers'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { isEthAddress } from 'helpers/validators'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\n\nexport const isEthAddressERC20 = async (addr = '', authType) => {\n\ttry {\n\t\tif (isEthAddress(addr)) {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\t\tawait Promise.all([\n\t\t\t\tcontract.totalSupply(),\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\n\t\t\t])\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t} catch (error) {\n\t\treturn false\n\t}\n}\n\nexport const getERC20Balance = async ({\n\taddr = '',\n\tbalanceFor = '',\n\tauthType,\n}) => {\n\ttry {\n\t\tconst { provider } = await getEthers(authType)\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\tconst balance = await contract.balanceOf(balanceFor)\n\n\t\treturn balance\n\t} catch (error) {\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\n\t\treturn null\n\t}\n}\n","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","module.exports = \"data:image/png;base64,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\"","export const CREATING_SESSION = 'CREATING_SESSION'\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\nexport const UPDATING_ACCOUNT_IDENTITY = 'UPDATING_ACCOUNT_IDENTITY'\nexport const UPDATING_SLOTS_DEMAND = 'UPDATING_SLOTS_DEMAND'\n","import { store } from 'store'\n\nexport const execute = store.dispatch\n\nexport const dispatch = store.dispatch\n\nexport const getState = store.getState\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport * as types from 'constants/actionTypes'\nimport Helper from 'helpers/miscHelpers'\nimport { translate } from 'services/translations/translations'\n\nexport function updateSpinner(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SPINNER,\n\t\t\tspinner: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function updateUi(item, value, category) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_UI,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t\tcategory: category,\n\t\t})\n\t}\n}\n\nexport function addToast({\n\ttype,\n\taction,\n\tlabel = '',\n\ttimeout = false,\n\tunclosable,\n\tanchorOrigin,\n\ttop,\n}) {\n\treturn function(dispatch) {\n\t\tconst id = Helper.getGuid()\n\t\tdispatch({\n\t\t\ttype: types.ADD_TOAST,\n\t\t\ttoast: {\n\t\t\t\ttype,\n\t\t\t\taction,\n\t\t\t\tlabel,\n\t\t\t\ttimeout,\n\t\t\t\tunclosable,\n\t\t\t\tanchorOrigin,\n\t\t\t\ttop,\n\t\t\t\tid,\n\t\t\t},\n\t\t})\n\n\t\treturn id\n\t}\n}\n\nexport function removeToast(toastId) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.REMOVE_TOAST,\n\t\t\ttoast: toastId,\n\t\t})\n\t}\n}\n\nexport function confirmAction(\n\tonConfirm,\n\tonCancel,\n\t{ confirmLabel = '', cancelLabel = '', title = '', text = '' } = {},\n\tnoActionBtns,\n\tactive\n) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CONFIRM_ACTION,\n\t\t\tconfirm: {\n\t\t\t\tonConfirm: onConfirm,\n\t\t\t\tonCancel: onCancel,\n\t\t\t\tdata: {\n\t\t\t\t\tconfirmLabel: confirmLabel,\n\t\t\t\t\tcancelLabel: cancelLabel,\n\t\t\t\t\ttitle: title,\n\t\t\t\t\ttext: text,\n\t\t\t\t},\n\t\t\t\tnoActionBtns,\n\t\t\t\tactive,\n\t\t\t},\n\t\t})\n\t}\n}\n\nexport function updateNav(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NAV,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function changeLanguage(lang) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CHANGE_LANGUAGE,\n\t\t\tlang: lang,\n\t\t})\n\t}\n}\n\nexport function updateRegistrationAllowed(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\n\t\t\tupdateUi('allowRegistration', true)(dispatch)\n\t\t}\n\t}\n}\n\nexport function refreshCacheAndReload({ version, notification = false }) {\n\treturn function(dispatch) {\n\t\ttry {\n\t\t\tif (notification) {\n\t\t\t} else {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'accept',\n\t\t\t\t\taction: (\n\t\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (caches) {\n\t\t\t\t\t\t\t\t\t// Service worker cache should be cleared with caches.delete()\n\t\t\t\t\t\t\t\t\tcaches.keys().then(async function(names) {\n\t\t\t\t\t\t\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.location.reload(true)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{translate('REFRESH')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t),\n\t\t\t\t\tlabel: translate('SUCCESS_UPDATING_NEW_APP_VERSION', {\n\t\t\t\t\t\targs: [version],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_APP'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function handleRedirectParams(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('confirm-email')\n\t\tconst identity = searchParams.get('confirm-identity')\n\t\tconst grant = searchParams.get('confirm-grant')\n\n\t\tif (email && identity && !grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL', {\n\t\t\t\t\targs: [email, identity],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} else if (email && identity && grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('CONFIRM_IDENTITY_EMAIL_GRANT', {\n\t\t\t\t\targs: [email, identity, grant],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n","export const getErrorMsg = err => {\n\tif (!err) {\n\t\treturn ''\n\t} else if (typeof err === 'object') {\n\t\treturn err.msg || err.message || err.errMsg || err.error\n\t} else if (Array.isArray(err)) {\n\t\treturn err.join(', ')\n\t} else {\n\t\treturn err\n\t}\n}\n","import { parseUnits, bigNumberify } from 'ethers/utils'\n\nexport const numStringCPMtoImpression = ({ numStr, decimals }) => {\n\tif (numStr === null || numStr === undefined) {\n\t\treturn numStr\n\t}\n\n\treturn parseUnits(numStr, decimals)\n\t\t.div(bigNumberify(1000))\n\t\t.toString()\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\tuploadImage,\n\tpostAdUnit,\n\tpostAdSlot,\n\tupdateAdSlot,\n\tupdateAdUnit,\n\tupdateCampaign,\n} from 'services/adex-market/actions'\nimport { parseUnits, bigNumberify } from 'ethers/utils'\nimport { Base, AdSlot, AdUnit, helpers, Campaign } from 'adex-models'\nimport { addToast as AddToastUi, updateSpinner } from './uiActions'\n\nimport { translate } from 'services/translations/translations'\nimport { getAdUnits, getAdSlots } from 'services/adex-market/actions'\n\nimport initialState from 'store/initialState'\nimport { getMediaSize } from 'helpers/mediaHelpers'\nimport { getErrorMsg } from 'helpers/errors'\nimport { numStringCPMtoImpression } from 'helpers/numbers'\nimport { SOURCES } from 'constants/targeting'\nimport { selectRelayerConfig, selectAuthSig, selectMainToken } from 'selectors'\n\nconst addToast = ({ type, toastStr, args, dispatch }) => {\n\treturn AddToastUi({\n\t\tdispatch: dispatch,\n\t\ttype: type,\n\t\tlabel: translate(toastStr, { args: args }),\n\t\ttimeout: 5000,\n\t})(dispatch)\n}\n\nconst getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\n\treturn fetch(tempUrl)\n\t\t.then(resp => {\n\t\t\treturn resp.blob()\n\t\t})\n\t\t.then(imgBlob => {\n\t\t\tURL.revokeObjectURL(tempUrl)\n\t\t\treturn uploadImage({\n\t\t\t\timageBlob: imgBlob,\n\t\t\t\timageName: 'image.jpeg',\n\t\t\t\tauthSig: authSig,\n\t\t\t})\n\t\t})\n}\n\nexport function updateNewItem(item, newValues, itemType, objModel) {\n\titem = Base.updateObject({ item, newValues, objModel })\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\titem,\n\t\t\titemType,\n\t\t})\n\t}\n}\n\nexport function resetNewItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function resetAllNewItems() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_NEW_ITEMS,\n\t\t})\n\t}\n}\n\n// register item\nexport function addUnit(item) {\n\tconst newItem = { ...item }\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\tauthSig,\n\t\t\t})).ipfs\n\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\n\t\t\tnewItem.mediaMime = newItem.temp.mime\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tconst resItem = await postAdUnit({\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\n\t\t\t\titemType: 'AdUnit',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function addSlot(item) {\n\tconst newItem = { ...item }\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst mainToken = selectMainToken()\n\t\t\tlet fallbackUnit = null\n\t\t\tif (newItem.temp.useFallback) {\n\t\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\t\tauthSig,\n\t\t\t\t})).ipfs\n\n\t\t\t\tconst unit = new AdUnit({\n\t\t\t\t\ttype: newItem.type,\n\t\t\t\t\tmediaUrl: `ipfs://${imageIpfs}`,\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\n\t\t\t\t\tmediaMime: newItem.temp.mime,\n\t\t\t\t\tcreated: Date.now(),\n\t\t\t\t\ttitle: newItem.title,\n\t\t\t\t\tdescription: newItem.description,\n\t\t\t\t\ttargeting: [],\n\t\t\t\t\ttags: [],\n\t\t\t\t\tpassback: true,\n\t\t\t\t})\n\n\t\t\t\tconst resUnit = await postAdUnit({\n\t\t\t\t\tunit: unit.marketAdd,\n\t\t\t\t\tauthSig,\n\t\t\t\t})\n\n\t\t\t\tfallbackUnit = resUnit.ipfs\n\t\t\t}\n\n\t\t\tnewItem.fallbackUnit = fallbackUnit\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tif (newItem.minPerImpression) {\n\t\t\t\tnewItem.minPerImpression = {\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\tnumStr: newItem.minPerImpression,\n\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst resItem = await postAdSlot({\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\n\t\t\t\titemType: 'AdSlot',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdSlot', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CREATING_ITEM',\n\t\t\t\targs: ['AdSlot', err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function getAllItems() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst { account } = getState().persist\n\t\t\tconst { address } = account.identity\n\t\t\tconst units = getAdUnits({ identity: address })\n\t\t\tconst slots = getAdSlots({ identity: address })\n\n\t\t\tconst [resUnits, resSlots] = await Promise.all([units, slots])\n\n\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\n\t\t\tupdateItems({ items: resSlots, itemType: 'AdSlot' })(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\n\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t})\n\t\t}\n\t}\n}\n\n// Accepts the entire new item and replace so be careful!\nexport function updateItem({ item, itemType } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner('update' + item.id, true)(dispatch)\n\t\ttry {\n\t\t\tconst { account } = getState().persist\n\t\t\tconst { authSig } = account.wallet\n\t\t\tconst { mainToken } = selectRelayerConfig()\n\n\t\t\tlet updatedItem = null\n\t\t\tlet objModel = null\n\n\t\t\tconst { id } = item\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot':\n\t\t\t\t\tif (item.temp.minPerImpression) {\n\t\t\t\t\t\titem.minPerImpression = {\n\t\t\t\t\t\t\t[mainToken.address]: parseUnits(\n\t\t\t\t\t\t\t\titem.temp.minPerImpression,\n\t\t\t\t\t\t\t\tmainToken.decimals\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.div(bigNumberify(1000))\n\t\t\t\t\t\t\t\t.toString(),\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst slot = new AdSlot(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id, authSig })).slot\n\t\t\t\t\tobjModel = AdSlot\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tconst unit = new AdUnit(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id, authSig })).unit\n\t\t\t\t\tobjModel = AdUnit\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tconst campaign = new Campaign(item).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id, authSig }))\n\t\t\t\t\t\t.campaign\n\t\t\t\t\tobjModel = Campaign\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\n\t\t\t}\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\n\t\t\t\titemType,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_UPDATING_ITEM',\n\t\t\t\targs: [itemType, item.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_UPDATING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t\tupdateSpinner('update' + item.id, false)(dispatch)\n\t}\n}\n\nexport function deleteItem({ item, objModel, authSig } = {}) {\n\titem = { ...item }\n\titem._deleted = true\n\n\t// return updateItem({ item: item, authSig: authSig, successMsg: 'SUCCESS_DELETING_ITEM', errMsg: 'ERR_DELETING_ITEM' })\n}\n\nexport function restoreItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._deleted = false\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_RESTORE_ITEM',\n\t\terrMsg: 'ERR_RESTORING_ITEM',\n\t})\n}\n\nconst findSourceByTag = tag => {\n\treturn Object.keys(SOURCES).find(\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\n\t)\n}\n\nexport function cloneItem({ item, itemType, objModel } = {}) {\n\treturn async function(dispatch) {\n\t\ttry {\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\n\t\t\tnewItem.id = ''\n\t\t\tnewItem.temp = {\n\t\t\t\t...initialState.newItem[itemType].temp,\n\t\t\t\ttargets: item.targeting.map((t, index) => {\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\n\t\t\t\t\treturn {\n\t\t\t\t\t\tkey: index,\n\t\t\t\t\t\tcollection: 'targeting',\n\t\t\t\t\t\tsource: key,\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\ttarget: { ...t },\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t}\n\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\n\t\t\t\tnewItem.mediaUrl,\n\t\t\t\tprocess.env.IPFS_GATEWAY\n\t\t\t)\n\n\t\t\tconst response = await fetch(tempUrl)\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\n\t\t\tconst mediaSize = await getMediaSize({\n\t\t\t\tmime: newItem.mediaMime,\n\t\t\t\tsrc: mediaURL,\n\t\t\t})\n\n\t\t\tconst temp = {\n\t\t\t\t...newItem.temp,\n\t\t\t\tmime: item.mediaMime,\n\t\t\t\ttempUrl: mediaURL,\n\t\t\t\twidth: mediaSize.width,\n\t\t\t\theight: mediaSize.height,\n\t\t\t}\n\n\t\t\tnewItem.temp = temp\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\t\titem: newItem,\n\t\t\t\titemType,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error(err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function archiveItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._archived = true\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_ARCHIVING_ITEM',\n\t\terrMsg: 'ERR_ARCHIVING_ITEM',\n\t})\n}\n\nexport function unarchiveItem({ item, authSig } = {}) {\n\titem = { ...item }\n\titem._archived = false\n\n\treturn updateItem({\n\t\titem: item,\n\t\tauthSig: authSig,\n\t\tsuccessMsg: 'SUCCESS_UNARCHIVING_ITEM',\n\t\terrMsg: 'ERR_UNARCHIVING_ITEM',\n\t})\n}\n\nexport function setCurrentItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.SET_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function updateCurrentItem(item, newMeta) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t\tmeta: newMeta,\n\t\t})\n\t}\n}\n\nexport function updateItems({ items, itemType }) {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\n\t\t\titems: items,\n\t\t\titemType: itemType,\n\t\t})\n\t}\n}\n\nexport const resetAllItems = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_ITEMS,\n\t\t})\n\t}\n}\n\nexport const updateTags = ({ tags }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_TAGS,\n\t\t\ttags: tags,\n\t\t})\n\t}\n}\n\nexport const addNewTag = ({ tag }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_NEW_TAG,\n\t\t\ttag: tag,\n\t\t})\n\t}\n}\n","export const addSig = ({\n\taddr = '',\n\tsig,\n\tmode,\n\texpiryTime,\n\tidentity = 'notset',\n}) => {\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\n\t\tthrow new Error('addSig - all args are required')\n\t}\n\n\tlocalStorage.setItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\n\t\tsig + '-' + expiryTime\n\t)\n}\n\nexport const getSig = ({ addr = '', identity = '', mode }) => {\n\tlet sigAndTIme = localStorage.getItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\n\t)\n\n\tif (!sigAndTIme) {\n\t\treturn null\n\t}\n\n\tsigAndTIme = sigAndTIme.split('-')\n\tlet sig = sigAndTIme[0]\n\tlet time = sigAndTIme[1]\n\n\tif (!time || parseInt(time, 10) <= Date.now()) {\n\t\treturn null\n\t} else {\n\t\treturn sig\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { addSig, getSig } from 'services/auth/auth'\nimport { getSession, checkSession } from 'services/adex-market/actions'\nimport {\n\tgetRelayerConfigData,\n\tgetQuickWallet,\n\tbackupWallet,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { updateSpinner } from './uiActions'\nimport { translate } from 'services/translations/translations'\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\nimport {\n\tremoveLegacyKey,\n\tgetWalletHash,\n\tgenerateSalt,\n\tgetRecoveryWalletData,\n} from 'services/wallet/wallet'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport {\n\tgetAccountStats,\n\tgetOutstandingBalance,\n} from 'services/smart-contracts/actions/stats'\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\nimport { addToast, confirmAction } from './uiActions'\nimport {\n\tgetEthers,\n\tgetEthereumProvider,\n\tethereumSelectedAddress,\n\tethereumNetworkId,\n} from 'services/smart-contracts/ethers'\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\nimport {\n\tselectAccount,\n\tselectIdentity,\n\tselectAuth,\n\tselectWallet,\n\tselectSearchParams,\n\tselectAuthType,\n} from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { getErrorMsg } from 'helpers/errors'\nimport { push } from 'connected-react-router'\nimport {\n\tCREATING_SESSION,\n\tQUICK_WALLET_BACKUP,\n\tUPDATING_ACCOUNT_IDENTITY,\n} from 'constants/spinners'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\n// MEMORY STORAGE\nexport function updateSignin(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SIGNIN,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetSignin() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_SIGNIN,\n\t\t})\n\t}\n}\n\n// PERSISTENT STORAGE\nexport function createAccount(acc) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CREATE_ACCOUNT,\n\t\t\taccount: acc,\n\t\t})\n\t}\n}\n\n// LOGOUT\nexport function resetAccount() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ACCOUNT,\n\t\t})\n\t}\n}\n\nexport function updateAccount({ meta, newValues }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ACCOUNT,\n\t\t\tmeta: meta,\n\t\t\tnewValues: newValues,\n\t\t})\n\t}\n}\n\nexport function updateChannelsWithBalance({ withBalance }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_BALANCE,\n\t\t\twithBalance,\n\t\t})\n\t}\n}\n\nexport function resetChannelsWithBalance() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_CHANNELS_WITH_BALANCE,\n\t\t})\n\t}\n}\n\nexport function updateGasData({ gasData }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_GAS_DATA,\n\t\t\tgasData: gasData,\n\t\t})\n\t}\n}\n\nexport function updateAccountStats() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account } = getState().persist\n\t\ttry {\n\t\t\tconst { identity, wallet } = account\n\t\t\tconst { address } = identity\n\t\t\tconst withBalance =\n\t\t\t\t(await getChannelsWithOutstanding({\n\t\t\t\t\tidentityAddr: address,\n\t\t\t\t\twallet,\n\t\t\t\t})) || account.stats.withBalance\n\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\n\t\t\t\twallet,\n\t\t\t\taddress,\n\t\t\t\twithBalance,\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\n\t\t\t})\n\n\t\t\tconst { formatted, raw } = await getAccountStats({\n\t\t\t\taccount,\n\t\t\t\toutstandingBalanceMainToken,\n\t\t\t})\n\t\t\tupdateChannelsWithBalance({ withBalance })(dispatch)\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { stats: { formatted, raw } },\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_STATS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAccountIdentityData() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\n\t\ttry {\n\t\t\tconst relayerData = await getIdentityData({\n\t\t\t\tidentityAddr: identity.address,\n\t\t\t})\n\n\t\t\tconst updatedIdentity = { ...identity }\n\n\t\t\tupdatedIdentity.currentPrivileges = relayerData.currentPrivileges\n\t\t\tupdatedIdentity.isLimitedVolume = relayerData.isLimitedVolume\n\t\t\tupdatedIdentity.relayerData = relayerData\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { identity: updatedIdentity },\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_ACCOUNT_IDENTITY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\n\t}\n}\n\nexport function updateValidatorAuthTokens({ newAuth }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { identity } = getState().persist.account\n\n\t\tconst newIdentity = { ...identity }\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\n\n\t\t// We don't want to update account if there is no actual change\n\t\tif (\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\n\t\t\tJSON.stringify(newTokens)\n\t\t) {\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\n\t\t}\n\t}\n}\n\nexport function createSession({\n\twallet,\n\tidentity = {},\n\temail,\n\tdeleteLegacyKey,\n}) {\n\treturn async function(dispatch) {\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\n\t\ttry {\n\t\t\tconst newWallet = { ...wallet }\n\t\t\tconst sessionSignature =\n\t\t\t\tgetSig({\n\t\t\t\t\taddr: newWallet.address,\n\t\t\t\t\tmode: newWallet.authType,\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t}) || null\n\n\t\t\tconst hasSession =\n\t\t\t\t!!sessionSignature &&\n\t\t\t\t(await checkSession({\n\t\t\t\t\tauthSig: sessionSignature,\n\t\t\t\t\tskipErrToast: true,\n\t\t\t\t}))\n\n\t\t\tif (hasSession) {\n\t\t\t\tnewWallet.authSig = sessionSignature\n\t\t\t} else {\n\t\t\t\tconst {\n\t\t\t\t\tsignature,\n\t\t\t\t\tmode,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\n\n\t\t\t\tconst { status, expiryTime } = await getSession({\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\tmode: mode,\n\t\t\t\t\tsignature,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t\tsignerAddress: newWallet.address,\n\t\t\t\t})\n\n\t\t\t\tif (status === 'OK') {\n\t\t\t\t\taddSig({\n\t\t\t\t\t\taddr: wallet.address,\n\t\t\t\t\t\tsig: signature,\n\t\t\t\t\t\tmode: wallet.authType,\n\t\t\t\t\t\texpiryTime: expiryTime,\n\t\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\t})\n\t\t\t\t\tnewWallet.authSig = signature\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst account = {\n\t\t\t\temail: email,\n\t\t\t\twallet: newWallet,\n\t\t\t\tidentity: { ...identity },\n\t\t\t}\n\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taccount.identity.validatorAuthTokens = {\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\n\t\t\t}\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { ...account },\n\t\t\t})(dispatch)\n\n\t\t\tif (deleteLegacyKey) {\n\t\t\t\tawait removeLegacyKey({\n\t\t\t\t\temail: wallet.email,\n\t\t\t\t\tpassword: wallet.password,\n\t\t\t\t})\n\t\t\t}\n\t\t\tdispatch(push('/side-select'))\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\n\t}\n}\n\nexport function getRelayerConfig() {\n\treturn async function(dispatch) {\n\t\tconst cfg = await getRelayerConfigData()\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\n\t\t\tcfg,\n\t\t})\n\t}\n}\n\nasync function getNetworkId() {\n\tconst { provider } = await getEthers(AUTH_TYPES.METAMASK.name)\n\tconst networkId = (await provider.getNetwork()).chainId\n\n\treturn networkId\n}\n\nasync function getNetworkData({ id }) {\n\tconst networkId = id || (await getNetworkId())\n\tconst network = ETHEREUM_NETWORKS[networkId] || {}\n\n\treturn network\n}\n\nexport function onMetamaskNetworkChange({ id } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst searchParams = selectSearchParams(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst isMetamaskMatters =\n\t\t\t(authType === AUTH_TYPES.METAMASK.name ||\n\t\t\t\t(!authType && searchParams.get('external') === 'metamask')) &&\n\t\t\t(await getEthereumProvider()) === AUTH_TYPES.METAMASK.name\n\n\t\tif (\n\t\t\tisMetamaskMatters &&\n\t\t\tprocess.env.NODE_ENV !== (await getNetworkData({ id })).for\n\t\t) {\n\t\t\tconfirmAction(\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\ttitle: translate('WARNING'),\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\ttrue\n\t\t\t)(dispatch)\n\t\t} else {\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\n\t\t}\n\t}\n}\n\nexport const onMetamaskAccountChange = accountAddress => {\n\treturn async function(_, getState) {\n\t\tconst state = getState()\n\t\tconst hasAuth = selectAuth(state)\n\t\tconst account = selectAccount(state)\n\t\tconst { authType, address } = account.wallet\n\n\t\tif (\n\t\t\thasAuth &&\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\n\t\t\t(!accountAddress || address !== accountAddress)\n\t\t) {\n\t\t\tlogOut()\n\t\t} else if (!hasAuth) {\n\t\t\tconst identity = selectIdentity(state)\n\t\t\tconst { identityContractOwner } = identity\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\n\t\t}\n\t}\n}\n\nexport function metamaskAccountCheck() {\n\treturn async function(_, getState) {\n\t\tconst address = await ethereumSelectedAddress()\n\t\tonMetamaskAccountChange(address)(_, getState)\n\t}\n}\n\nexport function metamaskNetworkCheck() {\n\treturn async function(_, getState) {\n\t\tconst id = await ethereumNetworkId()\n\t\tonMetamaskNetworkChange({ id })(_, getState)\n\t}\n}\n\nexport function metamaskChecks() {\n\treturn async function(_, getState) {\n\t\tmetamaskNetworkCheck()(_, getState)\n\t\tmetamaskAccountCheck()(_, getState)\n\t\tif (window.ethereum) {\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\n\t\t\t\tconsole.log('acc changed', accounts[0])\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\n\t\t\t})\n\t\t\twindow.ethereum.on('networkChanged', network => {\n\t\t\t\tconsole.log('networkChanged', network)\n\t\t\t\tonMetamaskNetworkChange({ id: network })(_, getState)\n\t\t\t})\n\t\t}\n\t}\n}\n\nasync function hasBackup({ email, password }) {\n\tconst salt = generateSalt(email)\n\tconst hash = await getWalletHash({ salt, password })\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\n\n\treturn !!encryptedWallet && encryptedWallet.wallet\n}\n\nasync function makeBackup({ email, password, authType }) {\n\tconst walletSalt = generateSalt(email)\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\n\tconst encryptedWallet = await getRecoveryWalletData({\n\t\temail,\n\t\tpassword,\n\t\tauthType,\n\t})\n\n\tawait backupWallet({\n\t\temail,\n\t\tsalt: walletSalt,\n\t\thash: walletHash,\n\t\tencryptedWallet,\n\t})\n}\n\nexport function ensureQuickWalletBackup() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\n\t\ttry {\n\t\t\tconst { email, password, authType } = selectWallet(getState())\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\n\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\n\t\t\t\tawait makeBackup({ email, password, authType })\n\t\t\t}\n\t\t} catch (err) {}\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { updateSpinner } from './uiActions'\nimport { validEthAddress, freeAdExENS } from '../helpers/validators'\nimport { translate } from 'services/translations/translations'\nimport { addToast } from './uiActions'\nimport { getERC20Balance } from 'services/smart-contracts/actions/erc20'\nimport { formatUnits, bigNumberify, parseUnits } from 'ethers/utils'\nimport { validations, Joi, schemas, constants } from 'adex-models'\nimport { validEmail, validPassword } from 'helpers/validators'\nimport { t } from 'selectors'\nimport { getErrorMsg } from 'helpers/errors'\nconst { IdentityPrivilegeLevel } = constants\n\nconst { campaignPut } = schemas\nconst { isNumberString } = validations\n\nexport function validateAddress({ addr, dirty, validate, name, setBalance }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { wallet, identity } = getState().persist.account\n\t\tconst { authType } = wallet\n\t\tconst isValid = false\n\t\ttry {\n\t\t\tif (validate) validate(name, { isValid: false })\n\t\t\tupdateSpinner(name, dirty)(dispatch)\n\t\t\tconst { msg } = await validEthAddress({\n\t\t\t\taddr,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tnonERC20: !setBalance,\n\t\t\t\tauthType,\n\t\t\t})\n\t\t\tconst isValid = !msg\n\n\t\t\tif (typeof setBalance === 'function') {\n\t\t\t\tconst balance =\n\t\t\t\t\t(await getERC20Balance({\n\t\t\t\t\t\taddr,\n\t\t\t\t\t\tauthType,\n\t\t\t\t\t\tbalanceFor: identity.address,\n\t\t\t\t\t})) || bigNumberify('0')\n\t\t\t\tsetBalance(formatUnits(balance, 18))\n\t\t\t}\n\t\t\tif (validate)\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(name, false)(dispatch)\n\t}\n}\n\nexport function updateValidationErrors(item, newErrors) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\terrors: newErrors,\n\t\t})\n\t}\n}\n\nexport function resetValidationErrors(item, key) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\tkey,\n\t\t})\n\t}\n}\n\nexport function validate(\n\tvalidateId,\n\tkey,\n\t{ isValid, err = { msg: '', args: [] }, dirty = false, removeAll = false }\n) {\n\treturn async function(dispatch, getState) {\n\t\tif (!isValid) {\n\t\t\tlet errors = {}\n\t\t\terrors[key] = {\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\n\t\t\t\tdirty: dirty,\n\t\t\t}\n\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\n\t\t} else if (removeAll) {\n\t\t\tresetValidationErrors(validateId)(dispatch)\n\t\t} else {\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\n\t\t}\n\t}\n}\n\nexport const handleAfterValidation = async ({\n\tisValid,\n\tonValid,\n\tonInvalid,\n}) => {\n\tif (isValid && typeof onValid === 'function') {\n\t\tawait onValid()\n\t}\n\tif (!isValid && typeof onInvalid === 'function') {\n\t\tawait onInvalid()\n\t}\n}\n\nexport function validateEmail(validateId, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = validEmail(email)\n\t\tvalidate(validateId, 'email', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_EMAIL' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\n\t\tvalidate(validateId, 'emailCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePassword(validateId, password, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = validPassword(password)\n\t\tvalidate(validateId, 'password', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PASSWORD' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePasswordCheck(\n\tvalidateId,\n\tpasswordCheck,\n\tpassword,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\n\t\tvalidate(validateId, 'passwordCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateTOS(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'tosCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateENS({ ens, dirty, validate, name }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { authType } = getState().persist.account.wallet\n\t\ttry {\n\t\t\tif (validate) validate(name, { isValid: false })\n\t\t\tupdateSpinner(name, dirty)(dispatch)\n\t\t\tconst { msg } = await freeAdExENS({\n\t\t\t\tens,\n\t\t\t\tauthType,\n\t\t\t})\n\t\t\tconst isValid = !msg\n\t\t\tupdateSpinner(name, false)(dispatch)\n\t\t\tif (validate)\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\n\t\t} catch (error) {\n\t\t\tconsole.error('ERR_VALIDATING_ENS_ADDRESS', error)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_ENS_ADDRESS', { args: [error] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\nexport function validateWallet(validateId, wallet, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!wallet && !!wallet.address\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateIdentityContractOwner(\n\tvalidateId,\n\tidentityContractOwner,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!identityContractOwner\n\t\tvalidate(validateId, 'identityContractOwner', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateAccessWarning(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'accessWarningCheck', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignUnits(validateId, adUnits, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!adUnits && adUnits.length\n\t\tvalidate(validateId, 'adUnits', {\n\t\t\tisValid: isValid,\n\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignValidators({ validateId, validators, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\t!!validators &&\n\t\t\tvalidators.length === 2 &&\n\t\t\t!!validators[0] &&\n\t\t\t!!validators[1] &&\n\t\t\t!!validators[0].id &&\n\t\t\t!!validators[0].url &&\n\t\t\tvalidators[0].feeNum !== undefined &&\n\t\t\tvalidators[0].feeDen !== undefined &&\n\t\t\tvalidators[0].feeAddr !== undefined &&\n\t\t\t!!validators[1].id &&\n\t\t\t!!validators[1].url &&\n\t\t\tvalidators[1].feeNum !== undefined &&\n\t\t\tvalidators[1].feeDen !== undefined &&\n\t\t\tvalidators[0].feeAddr !== undefined\n\n\t\tvalidate(validateId, 'validators', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nconst validateAmounts = ({\n\tmaxDeposit = bigNumberify(0),\n\tdepositAmount,\n\tminPerImpression,\n}) => {\n\tlet error = null\n\tif (!depositAmount.isZero() && depositAmount.gt(maxDeposit)) {\n\t\terror = {\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\n\t\t\tprop: 'depositAmount',\n\t\t}\n\t}\n\tif (!depositAmount.isZero() && depositAmount.lt(minPerImpression)) {\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\n\t}\n\tif (depositAmount.lte(bigNumberify(0))) {\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\n\t}\n\tif (minPerImpression.lte(bigNumberify(0))) {\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\n\t}\n\n\treturn { error }\n}\n\nexport function validateNumberString({ validateId, prop, value, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = isNumberString(value)\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_INVALID_AMOUNT' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignAmount({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\terrMsg,\n\tdepositAmount,\n\tminPerImpression,\n\tmaxDeposit,\n\tdecimals,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValidNumber = isNumberString(value)\n\t\tlet isValid = isValidNumber && parseUnits(value, decimals)\n\t\tlet msg = errMsg || 'ERR_INVALID_AMOUNT'\n\n\t\tif (isValid) {\n\t\t\tconst deposit = prop === 'depositAmount' ? value : depositAmount\n\t\t\tconst min = prop === 'minPerImpression' ? value : minPerImpression\n\n\t\t\tconst isValidDeposit = isNumberString(deposit)\n\t\t\tconst isValidMin = isNumberString(min)\n\n\t\t\tif (isValidDeposit && isValidMin) {\n\t\t\t\tconst result = validateAmounts({\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t\tdepositAmount: parseUnits(deposit, decimals),\n\t\t\t\t\tminPerImpression: parseUnits(min, decimals),\n\t\t\t\t})\n\n\t\t\t\tisValid = !result.error\n\t\t\t\tmsg = result.error ? result.error.message : ''\n\t\t\t}\n\t\t}\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nconst MIN_CAMPAIGN_PERIOD = 1 * 60 * 60 * 1000 // 1 hour\n\nconst getCampaignDatesValidation = ({\n\tcreated = Date.now(),\n\twithdrawPeriodStart,\n\tactiveFrom,\n}) => {\n\tlet error = null\n\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'withdrawPeriodStart' }\n\t} else if (\n\t\twithdrawPeriodStart &&\n\t\tactiveFrom &&\n\t\twithdrawPeriodStart - activeFrom < MIN_CAMPAIGN_PERIOD\n\t) {\n\t\terror = {\n\t\t\tmessage: 'ERR_MIN_CAMPAIGN_PERIOD',\n\t\t\targs: ['1', 'HOUR'],\n\t\t\tprop: 'withdrawPeriodStart',\n\t\t}\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\n\t} else if (activeFrom && activeFrom < created) {\n\t\terror = { message: 'ERR_START_BEFORE_NOW' }\n\t} else if (activeFrom && !withdrawPeriodStart) {\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\n\t}\n\n\treturn { error }\n}\n\nexport function validateCampaignDates({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\twithdrawPeriodStart,\n\tactiveFrom,\n\tcreated,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst withdraw =\n\t\t\tprop === 'withdrawPeriodStart' ? value : withdrawPeriodStart\n\t\tconst from = prop === 'activeFrom' ? value : activeFrom\n\n\t\tconst result = getCampaignDatesValidation({\n\t\t\twithdrawPeriodStart: withdraw,\n\t\t\tactiveFrom: from,\n\t\t\tcreated,\n\t\t})\n\n\t\tvalidate(validateId, 'activeFrom', {\n\t\t\tisValid: !!from,\n\t\t\terr: {\n\t\t\t\tmsg: 'ERR_NO_DATE_SET',\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tvalidate(validateId, 'withdrawPeriodStart', {\n\t\t\tisValid: !(result.error && result.error.prop === 'withdrawPeriodStart'),\n\t\t\terr: {\n\t\t\t\tmsg: result.error ? result.error.message : '',\n\t\t\t\targs: result.error && (result.error.args || []),\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tconst isValid = !result.error\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignTitle({ validateId, title, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst result = Joi.validate(title, campaignPut.title)\n\n\t\tconst isValid = !result.error\n\n\t\tvalidate(validateId, 'title', {\n\t\t\tisValid,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEthAddress({\n\tvalidateId,\n\tprop,\n\taddr,\n\tnonZeroAddr = true,\n\tnonERC20 = true,\n\tdirty,\n\tauthType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { msg } = await validEthAddress({\n\t\t\taddr,\n\t\t\tnonZeroAddr,\n\t\t\tnonERC20,\n\t\t\tauthType,\n\t\t})\n\n\t\tconst isValid = !msg\n\n\t\tawait validate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePrivilegesAddress({\n\tvalidateId,\n\tsetAddr = '',\n\twalletAddr = '',\n\tcurrentPrivileges,\n\tprivLevel,\n\tauthType,\n\twarningAccepted,\n\tdirty,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst isCurrentAddress =\n\t\t\tsetAddr && setAddr.toLowerCase() === walletAddr.toLowerCase()\n\t\tlet isValid = warningAccepted || !isCurrentAddress\n\n\t\tlet msg = ''\n\t\tconst args = [`PRIV_${privLevel}_LABEL`, authType.toUpperCase()]\n\t\tif (isCurrentAddress && privLevel === 0) {\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_0'\n\t\t} else if (isCurrentAddress && privLevel === 1) {\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_1'\n\t\t} else if (isCurrentAddress && privLevel >= 2) {\n\t\t\tisValid = true\n\t\t} else if (!isCurrentAddress) {\n\t\t\tisValid = true\n\t\t}\n\n\t\tawait validate(validateId, 'setAddrWarning', {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn { isValid, msg }\n\t}\n}\n\nexport function validatePrivLevel({ validateId, privLevel, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\tObject.values(IdentityPrivilegeLevel).indexOf(privLevel) > -1\n\t\tawait validate(validateId, 'privLevel', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PRIV_LEVEL_NOT_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\nexport function validateSchemaProp({ validateId, value, prop, schema, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst result = Joi.validate(value, schema)\n\n\t\tconst isValid = !result.error\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { getQuickWallet } from 'services/adex-relayer/actions'\nimport { updateSpinner, addToast, handleAfterValidation } from 'actions'\nimport {\n\tgetOwnerIdentities,\n\tregAccount,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { translate } from 'services/translations/translations'\nimport { createSession } from './accountActions'\n\nimport {\n\tgetIdentityDeployData,\n\twithdrawFromIdentity,\n\taddIdentityENS,\n\tsetIdentityPrivilege,\n} from 'services/smart-contracts/actions/identity'\nimport {\n\taddDataToWallet,\n\tgetWalletHash,\n\tgetLocalWallet,\n\tmigrateLegacyWallet,\n\twalletInfo,\n\tcreateLocalWallet,\n\tgenerateSalt,\n} from 'services/wallet/wallet'\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\nimport { selectAccount, selectIdentity } from 'selectors'\nimport { AUTH_TYPES } from 'constants/misc'\nimport {\n\tvalidate,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tvalidateTOS,\n\tvalidateWallet,\n\tvalidateIdentityContractOwner,\n\tvalidateAccessWarning,\n} from './validationActions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tGETTING_OWNER_IDENTITIES,\n\tUPLOADING_ACCOUNT_DATA,\n} from 'constants/spinners'\n\n// MEMORY STORAGE\nexport function updateIdentity(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetIdentity() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\t}\n}\n\nexport function initIdentity({ email, authType }) {\n\treturn function(dispatch) {\n\t\tdispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\n\t\tdispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'email',\n\t\t\tvalue: email,\n\t\t})\n\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'authType',\n\t\t\tvalue: authType,\n\t\t})\n\t}\n}\n\n// MEMORY STORAGE\nexport function updateWallet(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WALLET,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetWallet() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WALLET,\n\t\t})\n\t}\n}\n\nexport function onUploadLocalWallet(event) {\n\treturn async function(dispatch) {\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\tconst file = event.target.files[0]\n\t\tconst reader = new FileReader()\n\n\t\treader.onload = ev => {\n\t\t\ttry {\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\n\t\t\t\tif (\n\t\t\t\t\t!obj ||\n\t\t\t\t\t!obj.key ||\n\t\t\t\t\t!obj.wallet ||\n\t\t\t\t\t!obj.wallet.data ||\n\t\t\t\t\t!obj.wallet.identity ||\n\t\t\t\t\t!obj.wallet.privileges\n\t\t\t\t) {\n\t\t\t\t\tthrow new Error(translate('INVALID_JSON_DATA'))\n\t\t\t\t} else {\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\n\t\t\t\t\taddToast({\n\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\tlabel: translate('SUCCESS_UPLOADING_ACCOUNT_DATA'),\n\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t})(dispatch)\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\t\targs: [err.message],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\t}\n\n\t\tconst onError = err => {\n\t\t\tconsole.error('Error uploading account data.', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\n\t\t}\n\n\t\treader.onerror = ev => {\n\t\t\treader.abort()\n\t\t\tonError(translate())\n\t\t}\n\n\t\treader.onabort = ev => {\n\t\t\tonError(translate('ABORTING_DATA_UPLOAD'))\n\t\t}\n\n\t\treader.readAsText(file)\n\t}\n}\n\nexport function setIdentityENS({ username }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await addIdentityENS({\n\t\t\t\tusername,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('ENS_SETUP_NOTIFICATION', { args: [username] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_SETTING_ENS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_SETTING_ENS', {\n\t\t\t\t\targs: [err],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function identityWithdraw({\n\tamountToWithdraw,\n\twithdrawTo,\n\ttokenAddress,\n}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await withdrawFromIdentity({\n\t\t\t\taccount,\n\t\t\t\tamountToWithdraw,\n\t\t\t\twithdrawTo,\n\t\t\t\ttokenAddress,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function ownerIdentities({ owner }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\n\t\ttry {\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\n\t\t\tconst data = Object.entries(identityData).map(\n\t\t\t\tasync ([identityAddr, privLevel]) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst data = await getIdentityData({ identityAddr })\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tidentity: identityAddr,\n\t\t\t\t\t\t\tprivLevel,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch {\n\t\t\t\t\t\treturn null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\n\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_OWNER_IDENTITIES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\n\t}\n}\n\nexport function addrIdentityPrivilege({ setAddr, privLevel }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await setIdentityPrivilege({\n\t\t\t\taccount,\n\t\t\t\tsetAddr,\n\t\t\t\tprivLevel,\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: translate('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [result],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function login() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst {\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tidentityData,\n\t\t\t\tidentityTxData,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t\tregisterAccount,\n\t\t\t} = selectIdentity(getState())\n\n\t\t\tif (registerAccount) {\n\t\t\t\tawait regAccount({\n\t\t\t\t\towner: wallet.address,\n\t\t\t\t\temail: email.toLowerCase(),\n\t\t\t\t\t...identityTxData,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst relayerData = await getIdentityData({\n\t\t\t\tidentityAddr: identityData.address,\n\t\t\t})\n\n\t\t\tconst identity = {\n\t\t\t\t...identityData,\n\t\t\t\taddress: relayerData.deployData._id,\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\n\t\t\t\trelayerData,\n\t\t\t}\n\n\t\t\tawait createSession({\n\t\t\t\tidentity,\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_LOGIN', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateQuickLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { password, email, authType } = identity\n\n\t\tlet wallet = {}\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\n\t\tlet actualAuthType = authType\n\n\t\ttry {\n\t\t\tif (email && password) {\n\t\t\t\tlet walletData = await getLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t})\n\n\t\t\t\tif (!walletData) {\n\t\t\t\t\tconst salt = generateSalt(email)\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\n\t\t\t\t\tconst { encryptedWallet } =\n\t\t\t\t\t\t(await getQuickWallet({\n\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t})) || {}\n\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tbackupWallet.wallet &&\n\t\t\t\t\t\tbackupWallet.key &&\n\t\t\t\t\t\tbackupWallet.wallet.data &&\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\n\t\t\t\t\t\tbackupWallet.wallet.privileges\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\n\t\t\t\t\t\tactualAuthType = info.authType\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\n\n\t\t\t\t\t\twalletData = await getLocalWallet({\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t\tpassword,\n\t\t\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\n\t\t\t\t\twallet = { ...walletData.data }\n\t\t\t\t\twallet.email = email\n\t\t\t\t\twallet.password = password\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\n\t\t\t\t\twallet.identity = {\n\t\t\t\t\t\taddress: walletData.identity,\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!authType) {\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\n\t\t\terror = err\n\t\t}\n\n\t\tconst isValid = !!wallet.address\n\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tif (isValid) {\n\t\t\tawait login()(dispatch, getState)\n\t\t}\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateStandardLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst identity = selectIdentity(getState())\n\t\t\tconst { wallet, identityContractAddress } = identity\n\t\t\tconst { address } = wallet\n\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\n\t\t\tconst identityData = {\n\t\t\t\taddress: identityDataSplit[0],\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\n\t\t\t}\n\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\tconst isValid = !!identityData.address\n\n\t\t\tvalidate(validateId, 'identityContractAddress', {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\n\t\t\t\tdirty: dirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_STANDARD_LOGIN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\n\treturn async function(dispatch, getState) {\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, wallet } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\n\t\t\tif (!identityAddr && wallet && !!email) {\n\t\t\t\tconst walletAddr = wallet.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: txData.identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_FULL_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickDeploy({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, password } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && email && password\n\n\t\t\tif (!identityAddr && email && password) {\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\n\n\t\t\t\tconst walletData = await createLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t})\n\n\t\t\t\twalletData.email = email\n\t\t\t\twalletData.password = password\n\n\t\t\t\tconst walletAddr = walletData.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\n\t\t\t\tconst identityAddr = txData.identityAddr\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'identity',\n\t\t\t\t\tdataValue: identityAddr,\n\t\t\t\t})\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'privileges',\n\t\t\t\t\tdataValue: identityData.privileges,\n\t\t\t\t})\n\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = !!identityAddr\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_QUICK_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\tpassword,\n\t\t\tpasswordCheck,\n\t\t\ttosCheck,\n\t\t\taccessWarningCheck,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateEmail(validateId, email, dirty)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\t\t}\n\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\twallet,\n\t\t\tidentityContractOwner,\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\ttosCheck,\n\t\t\taccessWarningCheck,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\t// validate wallet again in case of step skip\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\n\t\t\t// validate step fields\n\t\t\tvalidateEmail(validateId, email, dirty)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateFullDeploy({\n\t\t\t\tvalidateId,\n\t\t\t\tdirty,\n\t\t\t\tskipSpinnerUpdate: true,\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateContractOwner({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityContractOwner, wallet } = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function updateIdentityWallet({\n\taddress,\n\tauthType,\n\thdWalletAddrPath,\n\thdWalletAddrIdx,\n\tpath,\n\tchainId,\n\tsignType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst wallet = {\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tpath,\n\t\t\tchainId,\n\t\t\tsignType,\n\t\t}\n\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\n\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t}\n}\n\nexport function handleSignupLink(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('signup-email')\n\n\t\tif (email) {\n\t\t\tupdateIdentity('email', email)(dispatch)\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\n\t\t}\n\t}\n}\n","import * as types from 'constants/actionTypes'\n\n// MEMORY STORAGE\nexport function updateNewBid({ bidId, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetNewBid({ bidId }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\n\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_BIDS,\n\t\t\tadvBids: advBids,\n\t\t\tpubBids: pubBids,\n\t\t\tbidsById: bidsById,\n\t\t})\n\t}\n}\nexport const resetAllBids = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_BIDS,\n\t\t})\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\tupdateSpinner,\n\taddToast,\n\thandleAfterValidation,\n\tvalidate,\n\tupdateAccountIdentityData,\n\tvalidateEthAddress,\n\tvalidatePrivilegesAddress,\n\tvalidatePrivLevel,\n} from 'actions'\nimport {\n\tselectNewTransactionById,\n\tselectAccountIdentityCurrentPrivileges,\n\tselectWalletAddress,\n\tselectAuthType,\n} from 'selectors'\n\n// MEMORY STORAGE\nexport function updateNewTransaction({ tx, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetNewTransaction({ tx }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\nexport function addWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\tif (!tx || !tx.hash || !addr) return\n\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\n\t\t\tvalue: tx,\n\t\t\ttx: tx.hash,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\n// TODO: make update multiple\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function resetWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function validatePrivilegesChange({\n\tstepsId,\n\tvalidateId,\n\ttxId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tawait updateAccountIdentityData()\n\n\t\tconst state = getState()\n\t\tconst { setAddr, warningAccepted, privLevel } = selectNewTransactionById(\n\t\t\tstate,\n\t\t\tstepsId\n\t\t)\n\t\tconst walletAddr = selectWalletAddress(state)\n\t\tconst { currentPrivileges } = selectAccountIdentityCurrentPrivileges(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: setAddr,\n\t\t\t\tprop: 'setAddr',\n\t\t\t\tnonERC20: true,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidatePrivLevel({\n\t\t\t\tvalidateId,\n\t\t\t\tprivLevel,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tconst validation = await validatePrivilegesAddress({\n\t\t\t\tvalidateId,\n\t\t\t\tsetAddr,\n\t\t\t\twalletAddr,\n\t\t\t\tcurrentPrivileges,\n\t\t\t\twarningAccepted,\n\t\t\t\tprivLevel,\n\t\t\t\tdirty,\n\t\t\t\tauthType,\n\t\t\t})(dispatch)\n\n\t\t\tisValid = validation.isValid\n\n\t\t\tawait updateNewTransaction({\n\t\t\t\ttx: stepsId,\n\t\t\t\tkey: 'warningMsg',\n\t\t\t\tvalue: validation.msg,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import moment from 'moment'\n\nexport const intervalsMs = () => {\n\tconst nowUTC = moment.utc()\n\n\t// TODO: Make it dynamic\n\tconst lastSixHoursPeriod = Math.floor(\n\t\t(nowUTC.clone().valueOf() - nowUTC.clone().startOf('day')) /\n\t\t\t(6 * 60 * 60 * 1000)\n\t)\n\treturn {\n\t\tlastHour: {\n\t\t\tstart: moment()\n\t\t\t\t.startOf('minute')\n\t\t\t\t.subtract(1, 'hours'),\n\t\t\tend: moment().startOf('minute'),\n\t\t},\n\t\tlast24Hours: {\n\t\t\tstart: moment()\n\t\t\t\t.subtract(1, 'day')\n\t\t\t\t.startOf('hour')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.startOf('hour')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tlast7Days: {\n\t\t\tstart: nowUTC\n\t\t\t\t.clone()\n\t\t\t\t.startOf('day')\n\t\t\t\t.add(lastSixHoursPeriod * 6, 'hours')\n\t\t\t\t.subtract(7, 'days')\n\t\t\t\t.valueOf(),\n\t\t\tend: nowUTC\n\t\t\t\t.clone()\n\t\t\t\t.startOf('day')\n\t\t\t\t.add(lastSixHoursPeriod * 6, 'hours')\n\t\t\t\t.add(2, 'hours')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tthisWeek: {\n\t\t\tstart: moment()\n\t\t\t\t.utc()\n\t\t\t\t.startOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.utc()\n\t\t\t\t.endOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tlastWeek: {\n\t\t\tstart: moment()\n\t\t\t\t.subtract(1, 'week')\n\t\t\t\t.startOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.subtract(1, 'week')\n\t\t\t\t.endOf('isoWeek')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tthisMonth: {\n\t\t\tstart: moment()\n\t\t\t\t.startOf('month')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.endOf('month')\n\t\t\t\t.valueOf(),\n\t\t},\n\t\tlastMonth: {\n\t\t\tstart: moment()\n\t\t\t\t.subtract(1, 'month')\n\t\t\t\t.startOf('month')\n\t\t\t\t.valueOf(),\n\t\t\tend: moment()\n\t\t\t\t.subtract(1, 'month')\n\t\t\t\t.endOf('month')\n\t\t\t\t.valueOf(),\n\t\t},\n\t}\n}\n\nexport const fillEmptyTime = (prevAggr, timeframe) => {\n\tconst intervals = intervalsMs()\n\tconst time = {\n\t\tinterval: intervals.lastHour,\n\t\tstep: { ammount: 1, unit: 'minute' },\n\t}\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\t\ttime.interval = intervals.lastHour\n\t\t\ttime.step = { ammount: 1, unit: 'minute' }\n\t\t\tbreak\n\t\tcase 'day':\n\t\t\ttime.interval = intervals.last24Hours\n\t\t\ttime.step = { ammount: 1, unit: 'hour' }\n\t\t\tbreak\n\t\tcase 'week':\n\t\t\ttime.interval = intervals.last7Days\n\t\t\ttime.step = { ammount: 6, unit: 'hour' }\n\t\t\tbreak\n\t\tdefault:\n\t\t\treturn prevAggr\n\t}\n\tconst newAggr = []\n\tfor (\n\t\tvar m = moment(time.interval.start);\n\t\tm.diff(time.interval.end, time.step.unit) <= 0;\n\t\tm.add(time.step.ammount, time.step.unit)\n\t) {\n\t\tnewAggr.push({ value: '0', time: m.unix() * 1000 })\n\t}\n\n\tconst data = [...prevAggr, ...newAggr].reduce((data, a) => {\n\t\tconst newData = { ...data }\n\t\tconst value = (+data[a.time] || +a.value || 0).toString()\n\t\tnewData[a.time] = value\n\n\t\treturn newData\n\t}, {})\n\n\tconst result = Object.entries(data)\n\t\t.map(([key, value]) => ({\n\t\t\tvalue,\n\t\t\ttime: +key,\n\t\t}))\n\t\t.sort((a, b) => a.time - b.time)\n\n\treturn result\n}\n\nexport const DATETIME_EXPORT_FORMAT = 'YYYY-MM-DD HH:mm:ss'\n","import { bigNumberify } from 'ethers/utils'\nimport { selectRoutineWithdrawTokens, selectMainToken } from 'selectors'\nimport { tokenInMainTokenValue } from 'services/smart-contracts/actions/stats'\nimport { formatTokenAmount } from 'helpers/formatters'\n\nimport { getAllCampaigns } from './actions'\n\nexport async function getUnitsStatsByType() {\n\tconst { decimals } = selectMainToken()\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\n\tconst allChannels = await getAllCampaigns()\n\n\tconst channels = allChannels.filter(\n\t\tchannel => !!withdrawTokens[channel.depositAsset]\n\t)\n\n\tconst unitsByType = channels.reduce((units, channel) => {\n\t\tconst byType = { ...units }\n\t\tchannel.spec.adUnits.forEach(unit => {\n\t\t\tbyType[unit.type] = byType[unit.type] || []\n\t\t\tbyType[unit.type].push(channel)\n\t\t})\n\n\t\treturn byType\n\t}, {})\n\n\tconst unitsByTypeStats = Object.keys(unitsByType).reduce(\n\t\tasync (prevStats, key) => {\n\t\t\tconst stats = await prevStats\n\t\t\tconst channelsByType = unitsByType[key]\n\n\t\t\tlet totalPerImpression = bigNumberify('0')\n\t\t\tlet totalVolume = bigNumberify('0')\n\n\t\t\tfor (let index = 0; index < channelsByType.length; index++) {\n\t\t\t\tconst channel = channelsByType[index]\n\n\t\t\t\tconst minPerImpression = await tokenInMainTokenValue({\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\n\t\t\t\t\tbalance: bigNumberify(channel.spec.minPerImpression),\n\t\t\t\t})\n\t\t\t\tconst depositAmount = await tokenInMainTokenValue({\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\n\t\t\t\t\tbalance: bigNumberify(channel.depositAmount),\n\t\t\t\t})\n\n\t\t\t\ttotalPerImpression = totalPerImpression.add(minPerImpression)\n\t\t\t\ttotalVolume = totalVolume.add(depositAmount)\n\t\t\t}\n\n\t\t\tconst avgPerImpression = totalPerImpression.div(\n\t\t\t\tbigNumberify(channelsByType.length)\n\t\t\t)\n\t\t\tconst avgCPM = avgPerImpression.mul(bigNumberify('1000'))\n\n\t\t\tconst statsByType = { ...stats }\n\t\t\tstatsByType[key] = {}\n\t\t\tstatsByType[key].raw = {\n\t\t\t\ttotalVolume,\n\t\t\t\tavgPerImpression,\n\t\t\t\tavgCPM,\n\t\t\t}\n\n\t\t\tstatsByType[key].formatted = {\n\t\t\t\ttotalVolume: formatTokenAmount(totalVolume, decimals, false, 2),\n\t\t\t\tavgPerImpression: formatTokenAmount(\n\t\t\t\t\tavgPerImpression,\n\t\t\t\t\tdecimals,\n\t\t\t\t\tfalse,\n\t\t\t\t\t2\n\t\t\t\t),\n\t\t\t\tavgCPM: formatTokenAmount(avgCPM, decimals, false, 4),\n\t\t\t}\n\n\t\t\treturn statsByType\n\t\t},\n\t\tPromise.resolve({})\n\t)\n\n\treturn unitsByTypeStats\n}\n","import * as types from 'constants/actionTypes'\nimport throttle from 'lodash.throttle'\nimport { addToast, removeToast, updateSpinner } from 'actions'\nimport { translate } from 'services/translations/translations'\nimport {\n\tgetValidatorAuthToken,\n\tidentityAnalytics,\n\tidentityCampaignsAnalytics,\n} from 'services/adex-validator/actions'\nimport { updateValidatorAuthTokens } from './accountActions'\nimport {\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\n\tVALIDATOR_ANALYTICS_METRICS,\n} from 'constants/misc'\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\nimport { getErrorMsg } from 'helpers/errors'\nimport { fillEmptyTime } from 'helpers/timeHelpers'\nimport { getUnitsStatsByType } from 'services/adex-market/aggregates'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\nconst analyticsParams = (timeframe, side) => {\n\tconst callsParams = []\n\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\n\t\t\tcallsParams.push({\n\t\t\t\tmetric,\n\t\t\t\ttimeframe,\n\t\t\t\tside,\n\t\t\t\teventType,\n\t\t\t})\n\t\t)\n\t)\n\n\treturn callsParams\n}\n\nconst analyticsCampaignsParams = () => {\n\tconst callsParams = []\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tcallsParams.push({ eventType })\n\t)\n\treturn callsParams\n}\n\n// getIdentityStatistics tooks to long some times\n// if the account is change we do not update the account\n// TODO: we can use something for abortable tasks\nfunction checkAccountChanged(getState, account) {\n\tconst accountCheck = getState().persist.account\n\tconst accountChanged =\n\t\t!accountCheck.wallet.address ||\n\t\taccountCheck.wallet.address !== account.wallet.address ||\n\t\t!accountCheck.identity.address ||\n\t\t!accountCheck.identity.address !== !account.identity.address\n\n\treturn accountChanged\n}\n\nexport function updateAccountAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account, analytics } = getState().persist\n\t\tconst { side } = getState().memory.nav\n\t\tconst { timeframe } = analytics\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsParams(timeframe, side)\n\t\t\tlet accountChanged = false\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\tidentityAnalytics({\n\t\t\t\t\t...opts,\n\t\t\t\t\tleaderAuth,\n\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tres.aggr = fillEmptyTime(res.aggr, timeframe)\n\t\t\t\t\t\taccountChanged =\n\t\t\t\t\t\t\taccountChanged || checkAccountChanged(getState, account)\n\n\t\t\t\t\t\tif (!accountChanged) {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\n\t\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\t\tvalue: { ...res },\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\n\t\t\t\t\t})\n\t\t\t})\n\n\t\t\tawait Promise.all(allAnalytics)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAccountCampaignsAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account } = getState().persist\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsCampaignsParams()\n\t\t\tlet accountChanged = false\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\tidentityCampaignsAnalytics({\n\t\t\t\t\t...opts,\n\t\t\t\t\tleaderAuth,\n\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\taccountChanged =\n\t\t\t\t\t\t\taccountChanged || checkAccountChanged(getState, account)\n\n\t\t\t\t\t\tif (!accountChanged) {\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: types.UPDATE_ADVANCED_CAMPAIGN_ANALYTICS,\n\t\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\t\tvalue: { ...res },\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS_SINGLE', err)\n\t\t\t\t\t})\n\t\t\t})\n\n\t\t\tawait Promise.all(allAnalytics)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_CAMPAIGN_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAnalyticsTimeframe(timeframe) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ANALYTICS_TIMEFRAME,\n\t\t\t\tvalue: timeframe,\n\t\t\t})\n\t\t\tupdateAccountAnalytics()(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function resetAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ANALYTICS,\n\t\t})\n\t}\n}\n\nexport const updateSlotsDemand = throttle(\n\tasync function(dispatch) {\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, true)(dispatch)\n\t\ttry {\n\t\t\tconst demandAnalytics = await getUnitsStatsByType()\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_DEMAND_ANALYTICS,\n\t\t\t\tvalue: demandAnalytics,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_SLOTS_DEMAND_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_SLOTS_DEMAND_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, false)(dispatch)\n\t},\n\t5 * 60 * 1000,\n\t{ leading: true, trailing: false }\n)\n\nexport const updateSlotsDemandThrottled = () => dispatch => {\n\treturn updateSlotsDemand(dispatch)\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\texecute,\n\taddToast,\n\tupdateSpinner,\n\tupdateItems,\n\tupdateValidatorAuthTokens,\n\tupdateNewItem,\n\thandleAfterValidation,\n\tvalidateCampaignValidators,\n\tvalidateCampaignAmount,\n\tvalidateCampaignTitle,\n\tvalidateCampaignDates,\n\tvalidateCampaignUnits,\n} from 'actions'\nimport { push } from 'connected-react-router'\nimport { parseUnits, bigNumberify } from 'ethers/utils'\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\nimport { getCampaigns } from 'services/adex-market/actions'\nimport {\n\topenChannel,\n\tcloseChannel,\n} from 'services/smart-contracts/actions/core'\nimport {\n\tlastApprovedState,\n\tcampaignAnalytics,\n} from 'services/adex-validator/actions'\nimport { closeCampaignMarket } from 'services/adex-market/actions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tt,\n\tselectAccount,\n\tselectRelayerConfig,\n\tselectCampaigns,\n\tselectNewCampaign,\n\tselectAuthSig,\n\tselectAuth,\n\tselectMainToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { Campaign } from 'adex-models'\nimport { OPENING_CAMPAIGN, GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_LEADER_FEE_NUM = process.env.VALIDATOR_LEADER_FEE_NUM\nconst VALIDATOR_LEADER_FEE_DEN = process.env.VALIDATOR_LEADER_FEE_DEN\nconst VALIDATOR_LEADER_FEE_ADDR = process.env.VALIDATOR_LEADER_FEE_ADDR\n\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\nconst VALIDATOR_FOLLOWER_FEE_NUM = process.env.VALIDATOR_FOLLOWER_FEE_NUM\nconst VALIDATOR_FOLLOWER_FEE_DEN = process.env.VALIDATOR_FOLLOWER_FEE_DEN\nconst VALIDATOR_FOLLOWER_FEE_ADDR = process.env.VALIDATOR_FOLLOWER_FEE_ADDR\n\nexport function openCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\n\t\tconst account = selectAccount(getState())\n\t\ttry {\n\t\t\tawait getAllValidatorsAuthForIdentity({\n\t\t\t\twithBalance: [{ channel: campaign }],\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tconst { storeCampaign } = await openChannel({\n\t\t\t\tcampaign,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.ADD_ITEM,\n\t\t\t\titem: storeCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('OPENING_CAMPAIGN_SENT_TO_RELAYER', {\n\t\t\t\t\targs: [storeCampaign.id],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_OPENING_CAMPAIGN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\n\t\treturn true\n\t}\n}\n\nexport const updateCampaignState = ({ campaign }) => {\n\treturn async dispatch => {\n\t\ttry {\n\t\t\tconst state = await lastApprovedState({ campaign })\n\t\t\tconst newCampaign = { ...campaign }\n\t\t\tnewCampaign.state = state\n\n\t\t\treturn dispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: newCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_LAST_STATUS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\n// TEMP for testing in production until 4.1 is deployed\nfunction getHumanFriendlyName(campaign) {\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\n\t\treturn 'Closed'\n\tswitch ((campaign.status || {}).name) {\n\t\tcase 'Active':\n\t\tcase 'Ready':\n\t\tcase 'Pending':\n\t\tcase 'Initializing':\n\t\tcase 'Waiting':\n\t\tcase 'Offline':\n\t\tcase 'Disconnected':\n\t\tcase 'Unhealthy':\n\t\tcase 'Invalid':\n\t\t\treturn 'Active'\n\t\tcase 'Expired':\n\t\tcase 'Exhausted':\n\t\tcase 'Withdraw':\n\t\t\treturn 'Completed'\n\t\tdefault:\n\t\t\treturn 'N/A'\n\t}\n}\n\nexport function updateUserCampaigns(updateStats = true) {\n\treturn async function(dispatch, getState) {\n\t\tconst hasAuth = selectAuth(getState())\n\t\tconst { wallet, identity } = selectAccount(getState())\n\t\tconst { authSig } = wallet\n\t\tconst { address } = identity\n\t\tconst campaignsFromStore = selectCampaigns(getState())\n\t\tconst campaignPromises = []\n\t\tif (hasAuth && authSig && address) {\n\t\t\ttry {\n\t\t\t\tconst campaigns = await getCampaigns({ authSig, creator: address })\n\t\t\t\tlet campaignsMapped = campaigns\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tc => c.creator && c.creator.toLowerCase() === address.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\t.map(c => {\n\t\t\t\t\t\tif (updateStats) {\n\t\t\t\t\t\t\tconst impressions = campaignAnalytics({\n\t\t\t\t\t\t\t\tcampaign: c,\n\t\t\t\t\t\t\t\teventType: 'IMPRESSION',\n\t\t\t\t\t\t\t\tmetric: 'eventCounts',\n\t\t\t\t\t\t\t\ttimeframe: 'year',\n\t\t\t\t\t\t\t\tlimit: 200,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tconst clicks = campaignAnalytics({\n\t\t\t\t\t\t\t\tcampaign: c,\n\t\t\t\t\t\t\t\teventType: 'CLICK',\n\t\t\t\t\t\t\t\tmetric: 'eventCounts',\n\t\t\t\t\t\t\t\ttimeframe: 'year',\n\t\t\t\t\t\t\t\tlimit: 200,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tcampaignPromises.push(impressions)\n\t\t\t\t\t\t\tcampaignPromises.push(clicks)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst campaign = { ...c.spec, ...c }\n\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!updateStats) {\n\t\t\t\t\t\t\t//when not updating the stats keep the previous\n\t\t\t\t\t\t\tconst { impressions, clicks } = campaignsFromStore[c.id] || {\n\t\t\t\t\t\t\t\timpressions: 0,\n\t\t\t\t\t\t\t\tclicks: 0,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcampaign.impressions = impressions\n\t\t\t\t\t\t\tcampaign.clicks = clicks\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn campaign\n\t\t\t\t\t})\n\t\t\t\tif (updateStats) {\n\t\t\t\t\tcampaignsMapped = await Promise.all(campaignPromises).then(function(\n\t\t\t\t\t\tresults\n\t\t\t\t\t) {\n\t\t\t\t\t\t// replace promises with their resolved values\n\t\t\t\t\t\tlet index = 0\n\t\t\t\t\t\tfor (let i = 0; i < results.length; i += 2) {\n\t\t\t\t\t\t\tcampaignsMapped[index].impressions = results[i].aggr.reduce(\n\t\t\t\t\t\t\t\t(a, b) => a + (Number(b.value) || 0),\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tcampaignsMapped[index].clicks = results[i + 1].aggr.reduce(\n\t\t\t\t\t\t\t\t(a, b) => a + (Number(b.value) || 0),\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t++index\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn campaignsMapped\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tupdateItems({\n\t\t\t\t\titems: campaignsMapped,\n\t\t\t\t\titemType: 'Campaign',\n\t\t\t\t})(dispatch)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\n\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGNS', {\n\t\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function closeCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner('closing-campaign', true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst { account } = state.persist\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\n\t\t\tupdateValidatorAuthTokens({ newAuth: authTokens })(dispatch, getState)\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CLOSING_CAMPAIGN',\n\t\t\t\targs: [campaign.id],\n\t\t\t})\n\t\t\tupdateUserCampaigns(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_CLOSING_CAMPAIGN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner('closing-campaign', false)(dispatch)\n\t}\n}\n\nexport function updateNewCampaign(prop, value, newValues) {\n\treturn async function(dispatch, getState) {\n\t\tconst currentCampaign = selectNewCampaign(getState())\n\t\tawait updateNewItem(\n\t\t\tcurrentCampaign,\n\t\t\tnewValues || { [prop]: value },\n\t\t\t'Campaign',\n\t\t\tCampaign\n\t\t)(dispatch)\n\t}\n}\n\nconst tempValidators = [\n\t{\n\t\tid: VALIDATOR_LEADER_ID,\n\t\turl: VALIDATOR_LEADER_URL,\n\t\tfeeNum: VALIDATOR_LEADER_FEE_NUM,\n\t\tfeeDen: VALIDATOR_LEADER_FEE_DEN,\n\t\tfeeAddr: VALIDATOR_LEADER_FEE_ADDR,\n\t},\n\t{\n\t\tid: VALIDATOR_FOLLOWER_ID,\n\t\turl: VALIDATOR_FOLLOWER_URL,\n\t\tfeeNum: VALIDATOR_FOLLOWER_FEE_NUM,\n\t\tfeeDen: VALIDATOR_FOLLOWER_FEE_DEN,\n\t\tfeeAddr: VALIDATOR_FOLLOWER_FEE_ADDR,\n\t},\n]\n\nexport function validateNewCampaignAdUnits({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst state = getState()\n\t\tconst campaign = selectNewCampaign(state)\n\t\tconst { adUnits } = campaign\n\n\t\tconst isValid = await validateCampaignUnits({ validateId, adUnits, dirty })\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateNewCampaignFinance({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst campaign = selectNewCampaign(state)\n\t\t\tconst {\n\t\t\t\tvalidators,\n\t\t\t\tdepositAmount,\n\t\t\t\tminPerImpression,\n\t\t\t\ttitle,\n\t\t\t\tactiveFrom,\n\t\t\t\twithdrawPeriodStart,\n\t\t\t\tcreated,\n\t\t\t\ttemp = {},\n\t\t\t} = campaign\n\n\t\t\tconst { maxChannelFees, maxDeposit } = temp\n\n\t\t\tconst newCampaign = { ...campaign }\n\n\t\t\tif (!validators || !validators.length) {\n\t\t\t\t// TODO: temp - will need dropdown selector for the follower validator\n\t\t\t\tnewCampaign.validators = tempValidators\n\t\t\t\tawait updateNewCampaign('validators', newCampaign.validators)(\n\t\t\t\t\tdispatch,\n\t\t\t\t\tgetState\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateCampaignValidators({ validateId, validators, dirty })(dispatch),\n\t\t\t\tvalidateCampaignAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'depositAmount',\n\t\t\t\t\tvalue: depositAmount,\n\t\t\t\t\tdirty,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tminPerImpression,\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\tvalue: minPerImpression,\n\t\t\t\t\tdirty,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tminPerImpression,\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignTitle({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\ttitle,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignDates({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'activeFrom',\n\t\t\t\t\tvalue: activeFrom,\n\t\t\t\t\tdirty,\n\t\t\t\t\tactiveFrom,\n\t\t\t\t\twithdrawPeriodStart,\n\t\t\t\t\tcreated,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignDates({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'withdrawPeriodStart',\n\t\t\t\t\tvalue: withdrawPeriodStart,\n\t\t\t\t\tdirty,\n\t\t\t\t\tactiveFrom,\n\t\t\t\t\twithdrawPeriodStart,\n\t\t\t\t\tcreated,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (typeof maxChannelFees !== 'string') {\n\t\t\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\n\n\t\t\t\tconst account = selectAccount(state)\n\n\t\t\t\tconst {\n\t\t\t\t\tfeesFormatted,\n\t\t\t\t\tmaxAvailable,\n\t\t\t\t\tmaxAvailableFormatted,\n\t\t\t\t} = await openChannel({\n\t\t\t\t\tcampaign: { ...newCampaign },\n\t\t\t\t\taccount,\n\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t\tgetMaxFees: true,\n\t\t\t\t})\n\n\t\t\t\tconst newTemp = { ...temp }\n\t\t\t\tnewTemp.maxChannelFees = feesFormatted\n\t\t\t\tnewTemp.maxDeposit = maxAvailable\n\t\t\t\tnewTemp.maxDepositFormatted = maxAvailableFormatted\n\n\t\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\n\t\t\t}\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_CAMPAIGN_FINANCE', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_CAMPAIGN_FINANCE', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function getCampaignActualFees() {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst campaign = selectNewCampaign(state)\n\t\t\tconst mainToken = selectMainToken(state)\n\t\t\tconst { temp = {}, depositAmount } = campaign\n\n\t\t\tconst account = selectAccount(state)\n\n\t\t\tconst { feesFormatted, fees } = await openChannel({\n\t\t\t\tcampaign: { ...campaign },\n\t\t\t\taccount,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t})\n\n\t\t\tconst totalSpend = parseUnits(depositAmount, mainToken.decimals).add(fees)\n\n\t\t\tconst totalSpendFormatted = formatTokenAmount(\n\t\t\t\ttotalSpend.toString(),\n\t\t\t\tmainToken.decimals || 18,\n\t\t\t\tfalse,\n\t\t\t\ttrue\n\t\t\t)\n\n\t\t\tconst newTemp = { ...temp }\n\t\t\tnewTemp.feesFormatted = feesFormatted\n\t\t\tnewTemp.totalSpendFormatted = totalSpendFormatted\n\n\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_FEES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_FEES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\n\t}\n}\n","import {\n\tupdateSpinner,\n\tupdateNewItem,\n\thandleAfterValidation,\n\tvalidateSchemaProp,\n\tvalidateNumberString,\n} from 'actions'\nimport { numStringCPMtoImpression } from 'helpers/numbers'\nimport { selectMainToken, selectNewAdSlot } from 'selectors'\nimport { AdSlot, schemas } from 'adex-models'\n\nconst { adSlotPost } = schemas\n\nexport function updateNewSlot(prop, value, newValues) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst currentSlot = selectNewAdSlot(state)\n\t\tawait updateNewItem(\n\t\t\tcurrentSlot,\n\t\t\tnewValues || { [prop]: value },\n\t\t\t'AdSlot',\n\t\t\tAdSlot\n\t\t)(dispatch)\n\t}\n}\n\nexport function validateNewSlotBasics({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst mainToken = selectMainToken()\n\t\tconst state = getState()\n\t\tconst slot = selectNewAdSlot(state)\n\t\tconst { title, description, type, minPerImpression = null } = slot\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: title,\n\t\t\t\tprop: 'title',\n\t\t\t\tschema: adSlotPost.title,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: description,\n\t\t\t\tprop: 'description',\n\t\t\t\tschema: adSlotPost.description,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: type,\n\t\t\t\tprop: 'type',\n\t\t\t\tschema: adSlotPost.type,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateNumberString({\n\t\t\t\tvalidateId,\n\t\t\t\tprop: 'minPerImpression',\n\t\t\t\tvalue: minPerImpression || '0',\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tisValid = await validateSchemaProp({\n\t\t\t\tvalidateId,\n\t\t\t\tvalue: {\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\tnumStr: minPerImpression,\n\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\tprop: 'minPerImpression',\n\t\t\t\tschema: adSlotPost.minPerImpression,\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import * as common from './common'\nimport * as itemActions from './itemActions'\nimport * as uiActions from './uiActions'\nimport * as accountActions from './accountActions'\nimport * as identityActions from './identityActions'\nimport * as bidActions from './bidActions'\nimport * as transactionActions from './transactionActions'\nimport * as validationActions from './validationActions'\nimport * as analyticsActions from './analyticsActions'\nimport * as campaignActions from './campaignActions'\nimport * as newItemsActions from './newItemsActions'\n\n// keep it for class components that use connect and actions prop\n// without needing to change the code\nexport default {\n\t...common,\n\t...itemActions,\n\t...uiActions,\n\t...accountActions,\n\t...identityActions,\n\t...bidActions,\n\t...transactionActions,\n\t...validationActions,\n\t...analyticsActions,\n\t...campaignActions,\n\t...newItemsActions,\n}\n\n// used for minimal deps in hook components\n// import { execute, addTost } from 'actions'\n// execute(addTost())\nexport * from './common'\nexport * from './itemActions'\nexport * from './uiActions'\nexport * from './accountActions'\nexport * from './identityActions'\nexport * from './bidActions'\nexport * from './transactionActions'\nexport * from './validationActions'\nexport * from './analyticsActions'\nexport * from './campaignActions'\nexport * from './newItemsActions'\n","import { ethers, utils, Contract } from 'ethers'\nimport { contracts } from './contractsCfg'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { selectRelayerConfig } from 'selectors'\n\nethers.errors.setLogLevel('error')\n\nconst {\n\tAdExCore,\n\tIdentity,\n\tIdentityFactory,\n\tAdExENSManager,\n\tReverseRegistrar,\n} = contracts\n\nconst getAdexCore = provider => {\n\tconst { coreAddr } = selectRelayerConfig()\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\n}\n\nconst getMainToken = provider => {\n\tconst { mainToken = {} } = selectRelayerConfig()\n\treturn new Contract(\n\t\tmainToken.address,\n\t\tcontracts[mainToken.standard].abi,\n\t\tprovider\n\t)\n}\n\nconst getToken = ({ provider, standard, address }) => {\n\treturn new Contract(address, contracts[standard].abi, provider)\n}\n\nconst getIdentity = ({ provider, address }) => {\n\tconst identityContract = new Contract(address, Identity.abi, provider)\n\n\treturn identityContract\n}\n\nconst getIdentityFactory = provider => {\n\tconst { identityFactoryAddr } = selectRelayerConfig()\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\n}\n\nconst getEthersResult = provider => {\n\tconst adexCore = getAdexCore(provider)\n\tconst mainToken = getMainToken(provider)\n\tconst identityFactory = getIdentityFactory(provider)\n\n\tconst results = {\n\t\tprovider,\n\t\tAdExCore: adexCore,\n\t\tIdentity: Identity,\n\t\tDai: mainToken,\n\t\tMainToken: mainToken,\n\t\tIdentityFactory: identityFactory,\n\t\tAdExENSManager,\n\t\tReverseRegistrar,\n\t\tgetToken: ({ standard, address }) =>\n\t\t\tgetToken({ provider, standard, address }),\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\n\t}\n\n\treturn results\n}\n\nconst localWeb3 = () => {\n\tconst provider = new ethers.providers.JsonRpcProvider(\n\t\tprocess.env.WEB3_NODE_ADDR\n\t)\n\treturn getEthersResult(provider)\n}\n\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\n\twindow.addEventListener('load', () => {\n\t\tconst ethereum = window.ethereum\n\t\tconst web3 = window.web3\n\t\treturn resolve({\n\t\t\tethereum,\n\t\t\tweb3,\n\t\t})\n\t})\n})\n\nconst injectedWeb3 = async () => {\n\tconst { web3, ethereum } = await loadInjectedWeb3.then()\n\tlet provider = null\n\n\tif (ethereum) {\n\t\ttry {\n\t\t\tawait ethereum.enable()\n\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\n\n\t\t\treturn getEthersResult(provider)\n\t\t} catch (err) {\n\t\t\tconsole.error('Err getting injected ethereum.', err)\n\t\t\tthrow new Error(err.message)\n\t\t}\n\t}\n\t// Legacy dapp browsers...\n\t// TODO: we just have to throw or show notification\n\t// At the moment if it throws it will show error toast but not always.\n\telse if (web3) {\n\t\tconsole.error('Legacy web3 browser detected. It is not supported!')\n\t\tconsole.error('Fallback to local web3 provider')\n\t\treturn await localWeb3()\n\t} else {\n\t\tconsole.error('Non-Ethereum browser detected.')\n\t\tconsole.error('Fallback to local web3 provider')\n\t\treturn await localWeb3()\n\t}\n}\n\nconst getLocalWeb3 = async () => {\n\t// console.log('getLocalWeb3')\n\treturn localWeb3()\n}\n\nconst getEthers = mode => {\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\n\t *   and this results in Trezor popup block by the browser\n\t */\n\tif (mode === AUTH_TYPES.METAMASK.name) {\n\t\treturn injectedWeb3()\n\t} else {\n\t\treturn getLocalWeb3()\n\t}\n}\n\nconst ethereumSelectedAddress = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (ethereum && ethereum.selectedAddress) {\n\t\treturn utils.getAddress(ethereum.selectedAddress)\n\t} else {\n\t\treturn null\n\t}\n}\n\nconst ethereumNetworkId = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (ethereum) {\n\t\tconst id = parseInt(ethereum.networkVersion, 10)\n\t\treturn id\n\t} else {\n\t\treturn null\n\t}\n}\n\nconst getEthereumProvider = async () => {\n\tconst { ethereum } = await loadInjectedWeb3.then()\n\tif (!ethereum) {\n\t\treturn null\n\t}\n\n\tif (ethereum.isMetaMask) {\n\t\treturn AUTH_TYPES.METAMASK.name\n\t}\n\n\treturn null\n}\n\nexport {\n\tgetEthers,\n\tethereumSelectedAddress,\n\tethereumNetworkId,\n\tgetEthereumProvider,\n}\n","import { ethers, utils } from 'ethers'\nimport pbkdf2 from 'pbkdf2'\nimport {\n\tencrypt,\n\tdecrypt,\n\tencryptLegacy,\n\tdecryptLegacy,\n} from 'services/crypto/crypto'\nimport {\n\tloadFromLocalStorage,\n\tsaveToLocalStorage,\n\tgetKeys,\n\tremoveFromLocalStorage,\n} from 'helpers/localStorageHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\n\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\n\treturn new Promise((resolve, reject) => {\n\t\tpbkdf2.pbkdf2(\n\t\t\tpass,\n\t\t\tsalt,\n\t\t\titerations,\n\t\t\tkeylen,\n\t\t\tdigiset,\n\t\t\t(err, derivedKey) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn reject(err)\n\t\t\t\t}\n\n\t\t\t\tconst res = derivedKey.toString(encoding)\n\n\t\t\t\treturn resolve(res)\n\t\t\t}\n\t\t)\n\t})\n}\n\nasync function getCipherKey({ email, password }) {\n\tconst pass = generateSalt(password)\n\tconst salt = generateSalt(email)\n\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn key\n}\n\nfunction isLegacyCrypto(authType) {\n\treturn !authType || authType === 'legacy' || authType === 'grant'\n}\n\n// Returns 12 random words\nexport function getRandomMnemonic() {\n\tconst randomEntropy = utils.randomBytes(16)\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\n\n\treturn mnemonic\n}\n\nexport async function generateWallet(mnemonic) {\n\tconst seed = mnemonic || getRandomMnemonic()\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\n\n\treturn {\n\t\tmnemonic,\n\t\tprivateKey: wallet.privateKey,\n\t\taddress: wallet.address,\n\t\tpath: wallet.path,\n\t}\n}\n\nasync function encrKey({ email, password, authType }) {\n\tif (!authType) {\n\t\treturn await encryptLegacy(email, password)\n\t} else if (typeof authType === 'string') {\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\n\t} else {\n\t\tthrow new Error('INVALID_TYPE')\n\t}\n}\n\nexport async function encrData({ email = '', password, data, authType }) {\n\tconst isLegacy = isLegacyCrypto(authType)\n\tconst jsonData = JSON.stringify(data)\n\tif (isLegacy) {\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\n\t\treturn legacyEncrypted\n\t} else {\n\t\tconst encrypted = await encrypt(\n\t\t\tjsonData,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t\treturn encrypted\n\t}\n}\n\nexport async function decrData({ email = '', password, data, authType }) {\n\tlet decryptedStr = ''\n\tconst isLegacy = isLegacyCrypto(authType)\n\n\tif (isLegacy) {\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\n\t} else {\n\t\tdecryptedStr = await decrypt(\n\t\t\tdata,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t}\n\n\ttry {\n\t\tconst decr = JSON.parse(decryptedStr)\n\t\treturn decr\n\t} catch (err) {\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\n\t}\n}\n\nexport async function createLocalWallet({\n\temail = '',\n\tpassword = '',\n\tmnemonic,\n\tauthType = '',\n}) {\n\tconst walletData = await generateWallet(mnemonic)\n\tconst key = await encrKey({ email, password, authType })\n\tconst data = await encrData({ data: walletData, email, password, authType })\n\tawait saveToLocalStorage({ data }, key)\n\n\twalletData.authType = authType\n\treturn walletData\n}\n\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\n\tconst wallet = await getLocalWallet({\n\t\temail,\n\t\tpassword,\n\t\tgetEncrypted: true,\n\t})\n\n\tif (wallet && wallet.data) {\n\t\tconst newKey = await encrKey({\n\t\t\temail,\n\t\t\tpassword,\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\n\t\t})\n\t\tsaveToLocalStorage(wallet, newKey)\n\t}\n}\n\nexport async function removeLegacyKey({ email = '', password = '' }) {\n\tconst key = await encrKey({ email, password })\n\tremoveFromLocalStorage(key)\n}\n\nexport async function addDataToWallet({\n\temail = '',\n\tpassword = '',\n\tdataKey = '',\n\tdataValue = '',\n\tauthType,\n}) {\n\tif (dataKey === 'data') {\n\t\tthrow new Error('INVALID_DATA_KEY')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (!wallet) {\n\t\tthrow new Error('WALLET_NOT_FOUND')\n\t}\n\n\tconst data = await encrData({ data: dataValue, email, password, authType })\n\twallet[dataKey] = data\n\tsaveToLocalStorage(wallet, key)\n}\n\nexport async function getRecoveryWalletData({ email, password, authType }) {\n\tif (!email || !password) {\n\t\treturn null\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\treturn {\n\t\tkey,\n\t\twallet,\n\t}\n}\n\nexport async function getLocalWallet({\n\temail,\n\tpassword,\n\tauthType,\n\tgetEncrypted,\n}) {\n\tif (!email || !password) {\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (wallet) {\n\t\tif (getEncrypted) {\n\t\t\treturn wallet\n\t\t}\n\n\t\tconst walletKeys = Object.keys(wallet)\n\n\t\tconst decrypts = walletKeys.map(async key => {\n\t\t\t// props[key] = await decrData({\n\t\t\t// \tdata: wallet[key],\n\t\t\t// \temail,\n\t\t\t// \tpassword,\n\t\t\t// \tauthType,\n\t\t\t// })\n\n\t\t\tconst decryptedData = await decrData({\n\t\t\t\tdata: wallet[key],\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\treturn decryptedData\n\t\t})\n\n\t\tconst decryptedData = await Promise.all(decrypts)\n\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\n\t\t\tprops[key] = decryptedData[index]\n\t\t\treturn props\n\t\t}, {})\n\n\t\treturn decryptedWallet\n\t} else {\n\t\treturn null\n\t}\n}\n\nfunction isWallet(item) {\n\treturn item && item.data && item.identity && item.privileges\n}\n\nexport function walletInfo(key, index, wallet) {\n\tconst split = key.split('-')\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\n\tconst authType = split[1] || 'legacy'\n\tconst name = mail || `Grant account # ${index + 1}`\n\n\tconst info = {\n\t\tkey,\n\t\twallet,\n\t\tname,\n\t\tauthType,\n\t}\n\n\treturn info\n}\n\nexport function getAllWallets() {\n\tconst walletKeys = getKeys()\n\t\t.map(key => {\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\titem: loadFromLocalStorage(key),\n\t\t\t}\n\t\t})\n\t\t.filter(({ item }) => isWallet(item))\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\n\n\treturn walletKeys\n}\n\nexport async function getWalletHash({ salt, password }) {\n\tconst passwordId = utils.id(password)\n\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn hash\n}\n\nexport function generateSalt(dataStr) {\n\tif (typeof dataStr !== 'string') {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\n\t} else if (!dataStr.length) {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\n\t}\n\n\tconst id = utils.id(dataStr)\n\tconst salt = utils.keccak256(id)\n\treturn salt\n}\n","import { Signer } from 'ethers'\nimport { ethers, utils } from 'ethers'\nimport LedgerEth from '@ledgerhq/hw-app-eth'\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\nimport HDKey from 'hdkey'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'\"\n\nexport default class LedgerSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t\tthis._transport = TransportU2F\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\taddrsFromPubKey = async (\n\t\tpublicKey = '',\n\t\tchainCode = '',\n\t\t{ from = 0, to = 19 } = {}\n\t) => {\n\t\tconst hdKey = new HDKey()\n\t\thdKey.publicKey = Buffer.from(publicKey, 'hex')\n\t\thdKey.chainCode = Buffer.from(chainCode, 'hex')\n\n\t\tconst addrs = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tconst derivedKey = hdKey.derive(`m/${index}`).publicExtendedKey\n\n\t\t\tconst addr = utils.HDNode.fromExtendedKey(derivedKey).address\n\n\t\t\taddrs.push({\n\t\t\t\taddress: addr,\n\t\t\t\tpath: `${this.path}/${index}`,\n\t\t\t})\n\t\t}\n\n\t\treturn addrs\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 5 } = {}) => {\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\t\tconst { publicKey, chainCode } = await eth.getAddress(\n\t\t\tthis.path,\n\t\t\tfalse,\n\t\t\ttrue\n\t\t)\n\n\t\tconst addresses = await this.addrsFromPubKey(publicKey, chainCode, {\n\t\t\tfrom,\n\t\t\tto,\n\t\t})\n\n\t\treturn addresses\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\t\tconst txUnsigned = utils.serializeTransaction(txProps).substring(2)\n\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\t\tconst { r, s, v } = await eth.signTransaction(this.path, txUnsigned)\n\n\t\tconst signature = {\n\t\t\tr: '0x' + r,\n\t\t\ts: '0x' + s,\n\t\t\tv,\n\t\t}\n\n\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\treturn txSigned\n\t}\n\n\t/*\n\t * TODO: may not work.\n\t * The ledger device or u2f seems to broken\n\t * Can list the addresses\n\t * Can sign messages\n\t * Signs transactions\n\t * Actually it show the tx but does not return value after\n\t * confirmation on the device\n\t */\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (!opts.hex) {\n\t\t\tif (typeof message === 'string') {\n\t\t\t\tmessage = utils.toUtf8Bytes(message)\n\t\t\t}\n\n\t\t\tmessage = ethers.utils.hexlify(message)\n\t\t}\n\n\t\tmessage = message.substring(2)\n\n\t\tconst transport = await this._transport.create()\n\t\tconst eth = new LedgerEth(transport)\n\n\t\tconst signature = await eth.signPersonalMessage(this.path, message)\n\t\tsignature.r = '0x' + signature.r\n\t\tsignature.s = '0x' + signature.s\n\n\t\tconst { address } = await eth.getAddress(this.path)\n\n\t\tconst res = {\n\t\t\tsignature: ethers.utils.joinSignature(signature),\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LedgerSigner(provider, { path: this.path })\n\t}\n}\n","import base64 from 'base64url'\nimport ethers from 'ethers'\n\n// see https://github.com/ethereum/EIPs/issues/1341\n// Implements EIP 1341: Ethereum Web Tokens\n\nconst HEADER = base64.encode(\n\tJSON.stringify({\n\t\ttype: 'JWT',\n\t\talg: 'ETH',\n\t})\n)\n\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\n// .address is always checksummed\nfunction sign(signer, payload) {\n\tconst payloadEncoded = base64.encode(\n\t\tJSON.stringify({\n\t\t\t...payload,\n\t\t\taddress: signer.address,\n\t\t})\n\t)\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\n\t})\n}\n\nfunction verify(token) {\n\tconst parts = token.split('.')\n\tif (parts.length !== 3) {\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\n\t}\n\tconst msg = parts.slice(0, 2).join('.')\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\n\ttry {\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\n\t\treturn Promise.resolve({ from, payload })\n\t} catch (e) {\n\t\treturn Promise.reject(e)\n\t}\n}\n\nexport default { sign, verify }\n","module.exports = Module;","import moment from 'moment'\n\n// TODO: separate exports - not class\nclass Helper {\n\tgetGuid() {\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t}\n\n\tgetRndHash32(prefix) {\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t\tif (prefix) {\n\t\t\th = prefix + h.substring(prefix.length)\n\t\t}\n\t\treturn h\n\t}\n\n\tgetRandomInt(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\n\t}\n\n\tgetRandomBool() {\n\t\treturn !!this.getRandomInt(0, 1)\n\t}\n\n\tgetRandomPropFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\n\t}\n\n\tgetRandomKeyFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn keys[(keys.length * Math.random()) << 0]\n\t}\n\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\n\t\t// TODO: fix +/- 1 day bug\n\t\tlet initial = moment.isMoment(initialMoment)\n\t\t\t? initialMoment.valueOf()\n\t\t\t: undefined\n\n\t\treturn moment(initial)\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\n\t}\n\n\thexToRgbaColorString = (hex, alpha) => {\n\t\tif (!hex || typeof hex !== 'string') {\n\t\t\tthrow new Error('Invalid color')\n\t\t} else if (hex.length === 4) {\n\t\t\thex = hex + hex.substr(1, 4)\n\t\t}\n\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\n\t\t\talpha = 1\n\t\t}\n\n\t\tconst hexToDec = h => {\n\t\t\treturn parseInt('0x' + h, 16)\n\t\t}\n\n\t\tlet r = hexToDec(hex.substr(1, 2))\n\t\tlet g = hexToDec(hex.substr(3, 2))\n\t\tlet b = hexToDec(hex.substr(5, 2))\n\n\t\treturn `rgba(${r},${g},${b},${alpha})`\n\t}\n\n\tgetQuery(queryParams) {\n\t\tif (\n\t\t\t!queryParams ||\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\n\t\t) {\n\t\t\treturn ''\n\t\t}\n\t\treturn (\n\t\t\t'?' +\n\t\t\t\tObject.keys(queryParams)\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\n\t\t\t\t\t.map(key => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tencodeURIComponent(key) +\n\t\t\t\t\t\t\t'=' +\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\n\t\t\t\t\t\t)\n\t\t\t\t\t}, '')\n\t\t\t\t\t.join('&') || ''\n\t\t)\n\t}\n\n\tgetErrMsg = err => {\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\n\n\t\tif (stack.length > 1) {\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\n\t\t} else {\n\t\t\treturn (err.error || err || '').toString()\n\t\t}\n\t}\n\n\tisInt = int => {\n\t\treturn typeof int === 'number' && int % 1 === 0\n\t}\n\n\tshuffleArray = array => {\n\t\treturn [...array].sort(() => Math.random() - 0.5)\n\t}\n}\n\nexport default new Helper()\n","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","module.exports = __webpack_public_path__ + \"static/media/404-no.0ec9cb01.png\";","module.exports = __webpack_public_path__ + \"static/media/404-yes.ade3b1a3.png\";","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { refreshCacheAndReload, execute } from 'actions'\r\nglobal.appVersion = packageJson.version\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst semverGreaterThan = (versionA, versionB) => {\r\n\t\tconst versionsA = versionA.split(/\\./g)\r\n\r\n\t\tconst versionsB = versionB.split(/\\./g)\r\n\t\twhile (versionsA.length || versionsB.length) {\r\n\t\t\tconst a = Number(versionsA.shift())\r\n\r\n\t\t\tconst b = Number(versionsB.shift())\r\n\t\t\t// eslint-disable-next-line no-continue\r\n\t\t\tif (a === b) continue\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\treturn a > b || isNaN(b)\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(7)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst latestVersion = meta.version\r\n\t\t\t\tconst currentVersion = global.appVersion\r\n\t\t\t\tconst shouldForceRefresh = semverGreaterThan(\r\n\t\t\t\t\tlatestVersion,\r\n\t\t\t\t\tcurrentVersion\r\n\t\t\t\t)\r\n\t\t\t\tif (shouldForceRefresh) {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\trefreshCacheAndReload({\r\n\t\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { logOut } from 'services/store-data/auth'\nimport moment from 'moment'\n\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\n\nconst processResponse = (res, dontThrow, skipRedirect) => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\tif (res.status === 401 || res.status === 403) {\n\t\t\tlogOut(skipRedirect)\n\t\t}\n\t\tif (!dontThrow) {\n\t\t\thandleRequesterErrorRes({ res, text })\n\t\t}\n\t})\n}\n\nexport const getSession = ({\n\tidentity,\n\tmode,\n\tsignature,\n\tauthToken,\n\thash,\n\ttypedData,\n\tsignerAddress,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'auth/',\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tidentity,\n\t\t\t\tmode,\n\t\t\t\tsignature,\n\t\t\t\tauthToken,\n\t\t\t\thash,\n\t\t\t\ttypedData,\n\t\t\t\tsignerAddress,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const checkSession = ({ authSig, skipErrToast }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'session',\n\t\t\tmethod: 'GET',\n\t\t\tauthSig,\n\t\t\tskipErrToast,\n\t\t})\n\t\t.then(res => processResponse(res, true, true))\n}\n\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\n\tconst formData = new FormData()\n\tformData.append('media', imageBlob, imageName)\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'media',\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nconst convertItemToJSON = item => {\n\tconst itemToConvert = { ...item }\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\n\t}\n\n\treturn JSON.stringify(itemToConvert)\n}\n\nexport const getAdUnits = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdUnit = ({ unit, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdUnit = ({ unit, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `units/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAdSlots = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdSlot = ({ slot, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdSlot = ({ slot, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `slots/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getCampaigns = ({ authSig, creator }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns/by-owner',\n\t\t\tmethod: 'GET',\n\t\t\tnoCache: true,\n\t\t\tqueryParams: {\n\t\t\t\tbyCreator: creator, //\n\t\t\t\tt: Date.now(),\n\t\t\t},\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${campaign.id}/close`,\n\t\t\tmethod: 'PUT',\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAllCampaigns = all => {\n\tconst queryParams = all\n\t\t? {\n\t\t\t\tall: true,\n\t\t  }\n\t\t: {}\n\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateCampaign = ({ campaign, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(campaign),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\n\nexport const isConnectionLost = async authType => {\n\ttry {\n\t\t// When we remove Metamask\n\t\t// if in 5 sec doesn't connect will\n\t\t// return that connection is lost\n\t\tconst eth = await Promise.race([\n\t\t\tgetEthers(authType),\n\t\t\tnew Promise((resolve, reject) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\treject('Timed out')\n\t\t\t\t}, 5000)\n\t\t\t}),\n\t\t])\n\t\tawait eth.provider.getBlockNumber()\n\t\treturn false\n\t} catch (error) {\n\t\treturn true\n\t}\n}\n","import { utils } from 'ethers'\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { ethers } from 'ethers'\n/*eslint-disable */\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\nconst emailRegex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\n/*eslint-enable */\n\nexport const validUrl = url => {\n\turl = url || ''\n\tconst isValid = urlRegex.test(url)\n\treturn isValid\n}\n\nexport const validEmail = email => {\n\temail = email || ''\n\tconst isValid = emailRegex.test(email)\n\treturn isValid\n}\n\nexport const validateNumber = numberStr => {\n\tnumberStr = numberStr || ''\n\tconst isValid =\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\n\treturn isValid\n}\n\n// > 0\nexport const validPositiveInt = intStr => {\n\tintStr = intStr || ''\n\tconst isValid = onlyDigitsRegex.test(intStr)\n\treturn isValid\n}\n\nexport const validName = name => {\n\tlet msg = ''\n\tconst errMsgArgs = []\n\tif (!name) {\n\t\tmsg = 'ERR_REQUIRED_FIELD'\n\t} else if (name.length < 4) {\n\t\tmsg = 'ERR_MIN_LENGTH'\n\t\terrMsgArgs.push(4)\n\t} else if (name.length > 128) {\n\t\tmsg = 'ERR_MAX_LENGTH'\n\t\terrMsgArgs.push(128)\n\t}\n\n\treturn {\n\t\tmsg,\n\t\terrMsgArgs,\n\t}\n}\n\nexport const validPassword = password => {\n\tpassword = password || ''\n\tconst isValid = passwordRegex.test(password)\n\treturn isValid\n}\n\nexport const isEthAddress = (addr = '') => {\n\ttry {\n\t\tutils.getAddress(addr)\n\t} catch (e) {\n\t\treturn false\n\t}\n\treturn true\n}\n\nexport const isEthAddressZero = (addr = '') => {\n\treturn isEthAddress(addr)\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\n\t\t: false\n}\n\nexport const validEthAddress = async ({\n\taddr = '',\n\tnonZeroAddr,\n\tnonERC20,\n\tauthType,\n}) => {\n\tlet msg = ''\n\ttry {\n\t\tconst ethAddressZero = isEthAddressZero(addr)\n\t\tconst notEthAddress = !isEthAddress(addr)\n\t\tif (notEthAddress) {\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\n\t\t} else {\n\t\t\tif (nonZeroAddr && ethAddressZero) {\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\n\t\t\t} else {\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\n\t\t\t\tif (connectionLost) {\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t\t\t\t} else {\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tif (error === 'Non-Ethereum browser detected.')\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t}\n\treturn { msg }\n}\n\nexport const freeAdExENS = async ({ ens = '', authType }) => {\n\tlet msg = ''\n\ttry {\n\t\tif (ens === '') {\n\t\t\tmsg = 'ERR_ENS_REQUIRED'\n\t\t} else {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst ensAddress = await provider.resolveName(\n\t\t\t\t`${ens}.${process.env.REVERSE_REGISTRAR_PARENT}`\n\t\t\t)\n\n\t\t\tif (ensAddress && !isEthAddressZero(ensAddress)) msg = 'ERR_ENS_NOT_FREE'\n\t\t}\n\t} catch (error) {\n\t\tif (error.code === 'INVALID_ARGUMENT') {\n\t\t\tmsg = 'ERR_INVALID_ARGUMENT_ENS'\n\t\t} else {\n\t\t\tmsg = 'ERR_ENS_CHECK'\n\t\t}\n\t}\n\treturn { msg }\n}\n","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nconst updateCfg = (current, type, cfg) => {\n\tconst newCfg = { ...current }\n\tnewCfg[type] = { ...cfg }\n\treturn newCfg\n}\n\nexport default function uiReducer(state = initialState.config, action) {\n\tswitch (action.type) {\n\t\tcase UPDATE_RELAYER_CFG:\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import account from './accountReducer'\nimport signin from './signinReducer'\nimport identity from './identityReducer'\nimport wallet from './walletReducer'\nimport items from './itemsReducer'\nimport newItem from './newItemsReducer'\n// import currentItem from './currentItemsReducer'\nimport spinners from './spinnersReducer'\nimport ui from './uiReducer'\nimport toasts from './toastsReducer'\nimport confirm from './confirmReducer'\nimport nav from './navReducer'\nimport language from './languageReducer'\nimport validations from './validateItemsReducer'\nimport newTransactions from './newTransactionsReducer'\nimport web3Transactions from './web3TransactionsReducer'\nimport tags from './tagsReducer'\nimport ethNetwork from './ethNetworkReducer'\nimport config from './configReducer'\nimport analytics from './analyticsReducer'\nimport channels from './channelsReducer'\nimport { filterActions } from 'redux-ignore'\nimport * as types from 'constants/actionTypes'\n\nexport const persistReducers = {\n\taccount,\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\n\tui: filterActions(ui, [types.UPDATE_UI]),\n\tlanguage,\n\tweb3Transactions,\n\ttags,\n\tethNetwork,\n\tconfig,\n\tanalytics,\n\tchannels,\n}\n\nexport const memoryReducers = {\n\tsignin,\n\tidentity,\n\twallet,\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\n\ttoasts,\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\n\tvalidations,\n\tnewTransactions,\n}\n","import {\n\tCREATE_ACCOUNT,\n\tRESET_ACCOUNT,\n\tUPDATE_ACCOUNT,\n} from '../constants/actionTypes'\nimport initialState from 'store/initialState'\nimport { Base, Account } from 'adex-models'\n\nexport default function accountReducer(state = initialState.account, action) {\n\tlet newState\n\tlet newAccount\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase CREATE_ACCOUNT:\n\t\t\tnewAccount = { ...action.account }\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase RESET_ACCOUNT:\n\t\t\tnewAccount = initialState.account\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase UPDATE_ACCOUNT:\n\t\t\tnewAccount = Base.updateObject({\n\t\t\t\titem: newState,\n\t\t\t\tnewValues: { ...action.newValues },\n\t\t\t\tobjModel: Account,\n\t\t\t})\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_ITEM,\n\tDELETE_ITEM,\n\tUPDATE_ITEM,\n\tREMOVE_ITEM_FROM_ITEM,\n\tADD_ITEM_TO_ITEM,\n\tUPDATE_ALL_ITEMS,\n\tRESET_ALL_ITEMS,\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\nimport initialState from 'store/initialState'\nimport { Item } from 'adex-models'\n\nexport default function itemsReducer(state = initialState.items, action) {\n\tlet newState\n\tlet newCollection\n\tlet newItem\n\tlet collectionId\n\tlet item\n\n\tconst collection = (state = {}, action) => {\n\t\tif (!action.item) return state\n\t\treturn {\n\t\t\t...state,\n\t\t\t[action.item.id]: action.item,\n\t\t}\n\t}\n\n\tconst removeCollectionProp = (collection = {}, prop) => {\n\t\tlet newCol = { ...collection }\n\t\tdelete newCol[prop]\n\t\treturn newCol\n\t}\n\n\tif (action.item && action.itemType) {\n\t\tnewState = { ...state }\n\t\titem = { ...action.item }\n\t\tcollectionId = action.itemType\n\t}\n\n\tswitch (action.type) {\n\t\tcase ADD_ITEM:\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\n\t\t\t// id is going to be set when it comes here\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase ADD_ITEM_TO_ITEM:\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase DELETE_ITEM:\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase REMOVE_ITEM_FROM_ITEM:\n\t\t\tnewItem = Item.removeItem(\n\t\t\t\tnewState[collectionId][item._id],\n\t\t\t\taction.toRemove\n\t\t\t)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ITEM:\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ALL_ITEMS:\n\t\t\tnewState = { ...state }\n\t\t\tconst newItems = action.items.reduce((items, item, index) => {\n\t\t\t\tconst currentItems = { ...items }\n\t\t\t\tconst newItem = { ...item }\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\n\t\t\t\treturn currentItems\n\t\t\t}, newState[action.itemType])\n\n\t\t\tnewState[action.itemType] = newItems\n\t\t\treturn newState\n\t\tcase RESET_ALL_ITEMS:\n\t\t\tnewState = { ...initialState.items }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_UI } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function uiReducer(state = initialState.ui, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_UI:\n\t\t\tnewState = { ...state }\n\t\t\tif (action.category) {\n\t\t\t\tnewState[action.category] = { ...newState[action.category] }\n\t\t\t\tnewState[action.category][action.item] = action.value\n\t\t\t} else {\n\t\t\t\tnewState[action.item] = action.value\n\t\t\t}\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import initialState from 'store/initialState'\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\nimport { setLang } from 'services/translations/translations'\n\nexport default function languageReducer(state = initialState.language, action) {\n\tswitch (action.type) {\n\t\tcase CHANGE_LANGUAGE:\n\t\t\tlet newLang = action.lang || state\n\t\t\tsetLang(newLang)\n\t\t\treturn newLang\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_WEB3_TRANSACTION,\n\tUPDATE_WEB3_TRANSACTION,\n\tRESET_WEB3_TRANSACTION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function web3TransactionsReducer(\n\tstate = initialState.web3Transactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\tlet newAddrTxs\n\tlet pendingTxs\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateObj = ({ obj, key, val }) => {\n\t\tobj = obj || {}\n\t\tobj[key] = val\n\n\t\treturn obj\n\t}\n\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\n\t\t\tpTxs.push(newTx.hash)\n\t\t} else {\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\n\t\t}\n\n\t\treturn pTxs\n\t}\n\n\tif (!action.addr) {\n\t\treturn state\n\t}\n\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\n\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\n\t// If we keep the transactions on the node we can clean them from local storage on address change\n\tswitch (action.type) {\n\t\tcase ADD_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...action.value }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase UPDATE_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase RESET_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: { txHash: action.tx },\n\t\t\t})\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_TAGS, ADD_NEW_TAG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function tagsReducer(state = initialState.tags, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_TAGS:\n\t\t\tnewState = { ...state, ...action.tags }\n\t\t\treturn newState\n\t\tcase ADD_NEW_TAG:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.tag] = action.tag\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_GAS_DATA } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function tagsReducer(state = initialState.tags, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_GAS_DATA:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.gasData = { ...action.gasData }\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ANALYTICS,\n\tRESET_ANALYTICS,\n\tUPDATE_ANALYTICS_TIMEFRAME,\n\tUPDATE_ADVANCED_CAMPAIGN_ANALYTICS,\n\tUPDATE_DEMAND_ANALYTICS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function analyticsReducer(\n\tstate = initialState.analytics,\n\taction\n) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.timeframe = action.value\n\t\t\treturn newState\n\t\tcase UPDATE_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.side] = { ...newState[action.side] }\n\t\t\tnewState[action.side][action.eventType] = {\n\t\t\t\t...newState[action.side][action.eventType],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric][\n\t\t\t\taction.timeframe\n\t\t\t] = { ...action.value }\n\t\t\treturn newState\n\t\tcase UPDATE_ADVANCED_CAMPAIGN_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.campaigns = { ...newState.campaigns }\n\t\t\tnewState.campaigns[action.eventType] = {\n\t\t\t\t...action.value,\n\t\t\t}\n\t\t\treturn newState\n\t\tcase UPDATE_DEMAND_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.demand = action.value\n\t\t\treturn newState\n\t\tcase RESET_ANALYTICS:\n\t\t\tnewState = { ...initialState.analytics }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_CHANNELS_WITH_BALANCE,\n\tRESET_CHANNELS_WITH_BALANCE,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function channelsReducer(state = initialState.channels, action) {\n\tlet newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_CHANNELS_WITH_BALANCE:\n\t\t\tnewState.withBalance = [...action.withBalance]\n\t\t\treturn newState\n\t\tcase RESET_CHANNELS_WITH_BALANCE:\n\t\t\tnewState.withBalance = initialState.channels.withBalance\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function signinReducer(state = initialState.signin, action) {\n\tlet newState\n\tlet newSignin\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SIGNIN:\n\t\t\tnewSignin = { ...newState }\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\n\t\t\t\tnewSignin[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewSignin[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newSignin\n\n\t\t\treturn newState\n\n\t\tcase RESET_SIGNIN:\n\t\t\tnewSignin = { ...initialState.signin }\n\t\t\tnewState = newSignin\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function identityReducer(state = initialState.identity, action) {\n\tlet newState\n\tlet newIdentity\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_IDENTITY:\n\t\t\tnewIdentity = newState\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewIdentity[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newIdentity\n\n\t\t\treturn newState\n\n\t\tcase RESET_IDENTITY:\n\t\t\tnewIdentity = { ...initialState.identity }\n\t\t\tnewState = newIdentity\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function walletReducer(state = initialState.wallet, action) {\n\tlet newState\n\tlet newWallet\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_WALLET:\n\t\t\tnewWallet = newState\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\n\t\t\t\tnewWallet[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewWallet[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newWallet\n\n\t\t\treturn newState\n\n\t\tcase RESET_WALLET:\n\t\t\tnewWallet = { ...initialState.wallet }\n\t\t\tnewState = newWallet\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_NEW_ITEM,\n\tRESET_NEW_ITEM,\n\tRESET_ALL_NEW_ITEMS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newItemsReducer(state = initialState.newItem, action) {\n\tlet newState\n\tlet newItem\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...action.item }\n\t\t\tnewState[action.itemType] = newItem\n\n\t\t\treturn newState\n\n\t\tcase RESET_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...initialState.newItem[action.item] }\n\t\t\tnewState[action.item] = newItem\n\n\t\t\treturn newState\n\n\t\tcase RESET_ALL_NEW_ITEMS:\n\t\t\tnewState = { ...initialState.newItem }\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function spinnersReducer(state = initialState.spinners, action) {\n\tconst newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SPINNER:\n\t\t\tnewState[action.spinner] = action.value\n\n\t\t\treturn newState\n\t\tcase UPDATE_ITEM:\n\t\t\tnewState['update' + action.item._id] = false\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function toastsReducer(state = initialState.toasts, action) {\n\tlet newState\n\tlet newToast\n\n\tswitch (action.type) {\n\t\tcase ADD_TOAST:\n\t\t\tnewToast = { ...action.toast }\n\t\t\tnewToast.added = Date.now()\n\t\t\tnewState = [newToast, ...state]\n\t\t\treturn newState\n\n\t\tcase REMOVE_TOAST:\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n// import Helper from './../helpers/miscHelpers'\n\nexport default function confirmReducer(state = initialState.confirm, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase CONFIRM_ACTION:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.data = { ...action.confirm.data }\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\n\t\t\tnewState.onCancel = action.confirm.onCancel\n\t\t\tnewState.active =\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\n\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\n\t\t\tnewState.calledOn = Date.now()\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_NAV } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function navReducer(state = initialState.nav, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NAV:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ITEM_VALIDATION,\n\tRESET_ITEM_VALIDATION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function validateItemsReducer(\n\tstate = initialState.validations,\n\taction\n) {\n\tlet newState\n\tlet newErrors\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tcase RESET_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item] }\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\n\t\t\t\tdelete newErrors[action.key]\n\t\t\t} else if (newErrors && !action.key) {\n\t\t\t\tnewErrors = {}\n\t\t\t}\n\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_NEW_TRANSACTION,\n\tRESET_NEW_TRANSACTION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newTransactionsReducer(\n\tstate = initialState.newTransactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateTx = ({ tx, key, val }) => {\n\t\ttx = tx || {}\n\t\ttx[key] = val\n\n\t\treturn tx\n\t}\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_TRANSACTION:\n\t\t\tnewTx = {\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\n\t\t\t}\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\n\n\t\t\t// console.log('newTx', newTx)\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tcase RESET_NEW_TRANSACTION:\n\t\t\tnewTx = { ...initialState.newTransactions.default }\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\nimport thunk from 'redux-thunk'\nimport { persistReducers, memoryReducers } from 'reducers'\nimport history from './history'\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\nimport { persistStore, persistCombineReducers } from 'redux-persist'\nimport localStorage from 'redux-persist/lib/storage'\n// import session from 'redux-persist/lib/storage/session'\n\nconst reduxRouterMiddleware = routerMiddleware(history)\n\nconst persistConfig = {\n\tkey: 'persist',\n\tstorage: localStorage,\n}\n\n// const configSession = {\n//   key: 'session',\n//   storage: session,\n// }\n\n// const rootReducer = combineReducers(reducers)\n\n// TODO: make session reducer(signin) - RAM reducer (no persist)\nconst rootReducer = combineReducers({\n\tpersist: persistCombineReducers(persistConfig, persistReducers),\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\n\trouter: connectRouter(history),\n})\n\nconst logger = store => next => action => {\n\t// if (action.type === 'UPDATE_NEWITEM') {\n\t//   return next(action)\n\t// }\n\n\tconsole.groupCollapsed(action.type)\n\tconsole.info('dispatching', action)\n\tlet result = next(action)\n\tconsole.log('next state', store.getState())\n\tconsole.groupEnd(action.type)\n\treturn result\n}\n\nfunction configureStoreProd(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t\t// logger,\n\t]\n\n\tlet store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcompose(applyMiddleware(...middlewares))\n\t)\n\n\tlet persistor = persistStore(store)\n\n\treturn { persistor, store }\n}\n\nfunction configureStoreDev(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\n\t\treduxImmutableStateInvariant(),\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t\tlogger,\n\t]\n\n\tconst composeEnhancers =\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\n\tconst store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\n\t)\n\n\tif (module.hot) {\n\t\t// Enable Webpack hot module replacement for reducers\n\t\tmodule.hot.accept('../reducers', () => {\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\n\t\t\tstore.replaceReducer(nextReducer)\n\t\t})\n\t}\n\n\tlet persistor = persistStore(store)\n\treturn { persistor, store }\n}\n\nconst configureStore =\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\n\nexport default configureStore()\n","import configureStore from './configureStore'\n\nexport default configureStore\n\nexport const store = configureStore.store\nexport const persistor = configureStore.persistor\nexport const dispatch = store.dispatch\nexport const getState = store.getState\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetSigner,\n\tgetMultipleTxSignatures,\n} from 'services/smart-contracts/actions/ethers'\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\nimport { Contract } from 'ethers'\nimport {\n\tbigNumberify,\n\tparseUnits,\n\tgetAddress,\n\tInterface,\n\tkeccak256,\n\tid,\n} from 'ethers/utils'\nimport { generateAddress2 } from 'ethereumjs-util'\nimport { executeTx } from 'services/adex-relayer'\nimport {\n\tselectRelayerConfig,\n\tselectFeeTokenWhitelist,\n\tselectSaiToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\nimport solc from 'solcBrowser'\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\n\nconst ERC20 = new Interface(ERC20TokenABI)\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\n\nexport async function getIdentityDeployData({\n\towner,\n\trelayerRoutineAuthValidUntil = 10648454444,\n}) {\n\tconst {\n\t\tidentityFactoryAddr,\n\t\trelayerAddr,\n\t\tbaseIdentityAddr,\n\t\tidentityRecoveryAddr,\n\t\tcoreAddr,\n\t\tmainToken,\n\t} = selectRelayerConfig()\n\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\n\n\tconst routineAuthorizationsRaw = [\n\t\t{\n\t\t\trelayer: relayerAddr,\n\t\t\toutpace: coreAddr,\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tfeeTokenAmount: '0x00',\n\t\t},\n\t]\n\n\tconst bytecode = getProxyDeployBytecode(\n\t\tbaseIdentityAddr,\n\t\tprivileges,\n\t\t{\n\t\t\tprivSlot: 0,\n\t\t\troutineAuthsSlot: 1,\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\n\t\t\t\tnew RoutineAuthorization(x).hash()\n\t\t\t),\n\t\t},\n\t\tsolc\n\t)\n\n\tconst salt = keccak256(owner)\n\n\tconst identityAddr = getAddress(\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\n\t)\n\n\treturn {\n\t\tidentityFactoryAddr,\n\t\tbaseIdentityAddr,\n\t\tbytecode,\n\t\tsalt,\n\t\tidentityAddr,\n\t\tprivileges,\n\t\troutineAuthorizationsRaw,\n\t}\n}\n\nexport async function withdrawFromIdentity({\n\taccount,\n\tamountToWithdraw,\n\twithdrawTo,\n\tgetFeesOnly,\n}) {\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { wallet, identity, stats } = account\n\tconst { authType } = wallet\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, Identity, getToken } = await getEthers(authType)\n\n\tconst identityAddr = identity.address\n\n\tconst toWithdraw = parseUnits(amountToWithdraw, mainToken.decimals)\n\n\tconst tokenAddr = mainToken.address\n\n\tconst withdrawTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: tokenAddr,\n\t\tto: tokenAddr,\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\n\t\twithdrawTx: true,\n\t}\n\tconst txns = [withdrawTx]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: toWithdraw,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\n\n\tlet actualWithdrawAmount = toWithdraw\n\n\tif (toWithdraw.gt(maxWithdraw)) {\n\t\tactualWithdrawAmount = maxWithdraw\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\n\t\t\tif (tx.withdrawTx) {\n\t\t\t\ttx.data = ERC20.functions.transfer.encode([\n\t\t\t\t\twithdrawTo,\n\t\t\t\t\tactualWithdrawAmount.toString(),\n\t\t\t\t])\n\t\t\t}\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, mainToken.decimals),\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function setIdentityPrivilege({\n\taccount,\n\tsetAddr,\n\tprivLevel,\n\tgetFeesOnly,\n}) {\n\tconst { wallet, identity } = account\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\tconst identityAddr = identity.address\n\n\tconst identityInterface = new Interface(Identity.abi)\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: identityAddr,\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t]),\n\t}\n\n\tconst txns = [tx1]\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: (await getIdentityTxnsTotalFees({ txnsByFeeToken })).total,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\ttxnsByFeeToken,\n\t\tidentityAddr,\n\t\twallet,\n\t\tprovider,\n\t\textraData: {\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t},\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\nfunction txnsByTokenWithSaiToDaiSwap({\n\ttxns,\n\tmainToken,\n\tdaiAddr,\n\tsaiAddr,\n\tidentityAddr,\n}) {\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\n\t\t(current, tx, i) => {\n\t\t\tconst { withdrawAmountByToken } = tx\n\n\t\t\tconst needSaiToDaiSwap =\n\t\t\t\t!!withdrawAmountByToken &&\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\n\t\t\t\tmainToken.address === daiAddr &&\n\t\t\t\tsaiAddr !== daiAddr\n\n\t\t\tlet feeTokenAddr = ''\n\n\t\t\tif (needSaiToDaiSwap) {\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\n\t\t\t\t\tbigNumberify(withdrawAmountByToken[saiAddr])\n\t\t\t\t)\n\t\t\t\tfeeTokenAddr = daiAddr\n\t\t\t}\n\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\n\t\t\t// normalize tx\n\t\t\ttx.feeTokenAddr = feeTokenAddr\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\n\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = (\n\t\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] || []\n\t\t\t).concat([tx])\n\n\t\t\treturn current\n\t\t},\n\t\t{\n\t\t\tsaiWithdrawAmount: bigNumberify('0'),\n\t\t\ttxnsByFeeToken: {},\n\t\t}\n\t)\n\n\treturn { txnsByFeeToken, saiWithdrawAmount }\n}\n\nexport async function addIdentityENS({ username = '', account, getFeesOnly }) {\n\tconst { wallet, identity } = account\n\tconst {\n\t\tprovider,\n\t\tMainToken,\n\t\tgetToken,\n\t\tIdentity,\n\t\tAdExENSManager,\n\t\tReverseRegistrar,\n\t} = await getEthers(wallet.authType)\n\tconst identityAddr = identity.address\n\tconst AdExENSManagerInterface = new Interface(AdExENSManager.abi)\n\tconst ReverseRegistrarInterface = new Interface(ReverseRegistrar.abi)\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: AdExENSManager.address,\n\t\tdata: AdExENSManagerInterface.functions.registerAndSetup.encode([\n\t\t\tAdExENSManager.publicResolver,\n\t\t\tid(username),\n\t\t\tidentityAddr,\n\t\t]),\n\t}\n\n\tconst tx2 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: ReverseRegistrar.address,\n\t\tdata: ReverseRegistrarInterface.functions.setName.encode([\n\t\t\t`${username}.${ReverseRegistrar.parentDomain}`,\n\t\t]),\n\t}\n\n\tconst txns = [tx1, tx2]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { total } = await getIdentityTxnsTotalFees({\n\t\ttxnsByFeeToken,\n\t\tmainToken,\n\t})\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: total,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function getIdentityTxnsWithNoncesAndFees({\n\tamountInMainTokenNeeded = '0',\n\ttxns = [],\n\tidentityAddr,\n\tprovider,\n\tIdentity,\n\taccount,\n\tgetToken,\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst saiToken = selectSaiToken()\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\n\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\n\tlet identityContract = null\n\n\tif (isDeployed) {\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\n\t}\n\n\tconst initialNonce = isDeployed\n\t\t? (await identityContract.nonce()).toNumber()\n\t\t: 0\n\n\tconst feesForMainTxns = txns.length\n\t\t? bigNumberify(\n\t\t\t\t!initialNonce ? mainTokenWithFees.minDeploy : mainTokenWithFees.min\n\t\t  ).add(\n\t\t\t\tbigNumberify(mainTokenWithFees.min).mul(bigNumberify(txns.length - 1))\n\t\t  )\n\t\t: bigNumberify(0)\n\n\tconst {\n\t\tsweepTxns = [],\n\t\tswapAmountsByToken = {},\n\t} = await getSweepingTxnsIfNeeded({\n\t\tamountInMainTokenNeeded: feesForMainTxns.add(\n\t\t\tbigNumberify(amountInMainTokenNeeded)\n\t\t),\n\t\taccount,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns: sweepTxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// 1st - always get sweeping txns (channelWithdraw)\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\n\t// 3rd - make other txns with the main token only\n\n\t// TODO: make it work with other tokens\n\t// TODO: change getSwapAmountsByToken if more swaps are supported\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\n\t\t.add(bigNumberify(swapAmountsByToken[saiAddr] || 0))\n\n\tif (!saiSwapAmount.isZero()) {\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\n\t\t\t...(await swapSaiToDaiTxns({\n\t\t\t\tgetToken,\n\t\t\t\tidentityAddr,\n\t\t\t\tdaiAddr,\n\t\t\t\tsaiToken,\n\t\t\t\tswapAmount: saiSwapAmount,\n\t\t\t})),\n\t\t]\n\t}\n\n\tconst allFeeTokens = [\n\t\t...new Set([\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\n\t\t]),\n\t]\n\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\n\t\ttxns[token] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\n\t\t]\n\n\t\treturn txns\n\t}, {})\n\n\tlet currentNonce = initialNonce\n\n\tObject.keys(txnsByFeeToken).forEach(key => {\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\n\t\t\tconst {\n\t\t\t\troutinesTxCount = 0,\n\t\t\t\troutinesSweepTxCount = 0,\n\t\t\t\textraTxFeesCount = 0,\n\t\t\t\tisSweepTx,\n\t\t\t} = tx\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\n\t\t\tconst minFeeAmount = bigNumberify(\n\t\t\t\tcurrentNonce === 0 ? feeToken.minDeploy : feeToken.min\n\t\t\t)\n\n\t\t\tconst routinesFeeAmount = bigNumberify(routinesTxCount).mul(\n\t\t\t\tbigNumberify(feeToken.min)\n\t\t\t)\n\n\t\t\tconst extraFeesAmount = bigNumberify(extraTxFeesCount).mul(\n\t\t\t\tbigNumberify(feeToken.min)\n\t\t\t)\n\n\t\t\t// Total relayer fees for the transaction\n\t\t\tconst feeAmount = minFeeAmount\n\t\t\t\t.add(routinesFeeAmount)\n\t\t\t\t.add(extraFeesAmount)\n\t\t\t\t.toString()\n\n\t\t\t// fees that are not pre calculated with in the total identity balance\n\t\t\tconst nonIdentityBalanceFeeAmount = bigNumberify(feeAmount)\n\t\t\t\t.sub(bigNumberify(isSweepTx ? feeToken.min : 0))\n\t\t\t\t.sub(bigNumberify(routinesSweepTxCount).mul(bigNumberify(feeToken.min)))\n\t\t\t\t.toString()\n\n\t\t\tconst txWithNonce = {\n\t\t\t\t...tx,\n\t\t\t\tfeeTokenAddr: feeToken.address,\n\t\t\t\tfeeAmount,\n\t\t\t\tnonce: currentNonce,\n\t\t\t\tnonIdentityBalanceFeeAmount,\n\t\t\t}\n\n\t\t\tcurrentNonce += 1\n\n\t\t\treturn txWithNonce\n\t\t})\n\t})\n\n\treturn txnsByFeeToken\n}\n\nexport async function getApproveTxns({\n\tgetToken,\n\ttoken,\n\tidentityAddr,\n\tfeeTokenAddr,\n\tapproveForAddress,\n\tapproveAmount,\n}) {\n\tconst tokenContract = getToken(token)\n\n\tconst allowance = await tokenContract.allowance(\n\t\tidentityAddr,\n\t\tapproveForAddress\n\t)\n\n\tconst approveTxns = []\n\n\tif (!allowance.isZero()) {\n\t\tapproveTxns.push({\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: token.address,\n\t\t\tdata: ERC20.functions.approve.encode([approveForAddress, 0]),\n\t\t})\n\t}\n\n\tapproveTxns.push({\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: feeTokenAddr,\n\t\tto: token.address,\n\t\tdata: ERC20.functions.approve.encode([approveForAddress, approveAmount]),\n\t})\n\n\treturn approveTxns\n}\n\nasync function swapSaiToDaiTxns({\n\tidentityAddr,\n\tdaiAddr,\n\tsaiToken,\n\tswapAmount,\n\tgetToken,\n}) {\n\tconst approveTxns = await getApproveTxns({\n\t\tgetToken,\n\t\ttoken: saiToken,\n\t\tidentityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\n\t\tapproveAmount: swapAmount,\n\t})\n\n\tconst swapTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tto: SCD_MCD_MIGRATION_ADDR,\n\t\tdata: ScdMcdMigration.functions.swapSaiToDai.encode([swapAmount]),\n\t}\n\n\treturn [...approveTxns, swapTx]\n}\n\n// TODO: use byToken where needed\n// currently works because only using SAI and DAI only\nexport async function getIdentityTxnsTotalFees({\n\ttxnsByFeeToken,\n\tmainToken = {},\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst bigZero = bigNumberify('0')\n\tconst feesData = Object.values(txnsByFeeToken)\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\n\t\t.reduce(\n\t\t\t(result, tx) => {\n\t\t\t\tconst txFeeAmount = bigNumberify(tx.nonIdentityBalanceFeeAmount)\n\t\t\t\tresult.total = result.total.add(txFeeAmount)\n\n\t\t\t\tresult.byToken[tx.feeTokenAddr] = (\n\t\t\t\t\tresult.byToken[tx.feeTokenAddr] || bigZero\n\t\t\t\t).add(txFeeAmount)\n\n\t\t\t\treturn result\n\t\t\t},\n\t\t\t{ total: bigZero, byToken: {} }\n\t\t)\n\n\tconst byToken = Object.entries(feesData.byToken).map(([key, value]) => {\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\n\t\treturn {\n\t\t\taddress: key,\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\n\t\t\tsymbol,\n\t\t\tfeeFormatted: `${formatTokenAmount(\n\t\t\t\tvalue.toString(),\n\t\t\t\tdecimals,\n\t\t\t\tfalse,\n\t\t\t\t4\n\t\t\t)} ${symbol}`,\n\t\t}\n\t})\n\n\tconst fees = {\n\t\t// TODO: change to return total as BN and add totalFormatted\n\t\ttotal: formatTokenAmount(\n\t\t\tfeesData.total.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalBN: feesData.total,\n\t\tbyToken,\n\t}\n\n\treturn fees\n}\n\nexport async function processExecuteByFeeTokens({\n\ttxnsByFeeToken,\n\twallet,\n\tprovider,\n\tidentityAddr,\n\textraData = {},\n}) {\n\tconst signer = await getSigner({ wallet, provider })\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\n\t\tconst data = {\n\t\t\ttxnsRaw,\n\t\t\tsignatures,\n\t\t\tidentityAddr,\n\t\t\t...extraData,\n\t\t}\n\n\t\tconst result = await executeTx(data)\n\n\t\treturn {\n\t\t\tresult,\n\t\t}\n\t})\n\n\tconst results = await Promise.all(all)\n\n\treturn results\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport ewt from './ewt'\n\nconst BEARER_PREFIX = 'Bearer '\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\n\nconst getValidatorRequester = ({ baseUrl }) => {\n\treturn new Requester({ baseUrl })\n}\n\nconst getRequesters = ({ campaign }) => {\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\n\tconst followerRequester = getValidatorRequester({\n\t\tbaseUrl: follower.url,\n\t})\n\n\treturn {\n\t\tleader: { requester: leaderRequester, validator: leader },\n\t\tfollower: { requester: followerRequester, validator: follower },\n\t}\n}\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\n\tconst { identity, wallet } = account\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\n\tif (existingAuth) {\n\t\treturn existingAuth\n\t}\n\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst payload = {\n\t\tid: validatorId,\n\t\tidentity: identity.address,\n\t\tera: Math.floor(Date.now() / 60000),\n\t}\n\n\tconst token = ewt.sign(signer, payload)\n\n\treturn token\n}\n\nconst sendMessage = async ({ campaign, options, account }) => {\n\tconst { follower, leader } = getRequesters({ campaign })\n\n\tconst followerAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: follower.validator.id,\n\t\taccount,\n\t})\n\tconst leaderAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: leader.validator.id,\n\t\taccount,\n\t})\n\tconst followerResult = await follower.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\tconst leaderResult = await leader.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn {\n\t\tresults: {\n\t\t\tfollowerResult,\n\t\t\tleaderResult,\n\t\t},\n\t\tauthTokens: {\n\t\t\t[follower.id]: followerAuthToken,\n\t\t\t[leader.id]: leaderAuthToken,\n\t\t},\n\t}\n}\n\nexport const lastApprovedState = ({ campaign }) => {\n\tconst { leader } = getRequesters({ campaign })\n\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `channel/${campaign.id}/last-approved`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaign = ({ campaign, account }) => {\n\tconst options = {\n\t\troute: `channel/${campaign.id}/events`,\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\n\t\theaders: { 'Content-Type': 'application/json' },\n\t}\n\n\treturn sendMessage({ campaign, options, account })\n}\n\nexport const identityAnalytics = async ({\n\tidenityAddr,\n\tcampaign,\n\tcampaignId,\n\tleaderAuth,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n\tside,\n}) => {\n\tconst baseUrl = VALIDATOR_LEADER_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/for-${side}${campaignId || ''}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn aggregates\n}\n\nexport const identityCampaignsAnalytics = async ({ leaderAuth, eventType }) => {\n\tconst baseUrl = VALIDATOR_LEADER_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/advanced`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType },\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn aggregates\n}\n\nexport const campaignAnalytics = ({\n\tcampaign,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n}) => {\n\tconst { leader } = getRequesters({ campaign })\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `/analytics/${campaign.id}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\n\t\t})\n\t\t.then(processResponse)\n}\n"],"sourceRoot":""}