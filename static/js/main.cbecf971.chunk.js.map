{"version":3,"sources":["selectors/selectors.js","selectors/configSelectors.js","selectors/accountSelectors.js","selectors/identitySelectors.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/itemsSelectors.js","selectors/newItemsSelectors.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","selectors/targetingSelectors.js","selectors/newTransactionSelectors.js","selectors/tablesDataSelectors.js","selectors/chartsSelectors.js","selectors/dataSelectors.js","selectors/gettingStartedSelectors.js","selectors/locationSelectors.js","selectors/index.js","helpers/localStorageHelpers.js","helpers/ipfsHelpers.js","resources/home-wallpaper.jpg","components/toast/Toast.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","components/translate/Translate.js","helpers/logosHelpers.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/TopBar.js","components/common/img/Img.js","components/common/img/styles.js","components/dashboard/containers/Tables/MUIDataTableEnhanced.js","components/dashboard/containers/Tables/tableHelpers.js","components/dashboard/containers/Tables/styles.js","components/dashboard/containers/Tables/commonFilters.js","components/dashboard/containers/Tables/tableHooks.js","components/dashboard/containers/Tables/toolbars.js","components/dashboard/containers/Tables/CampaignsTable.js","components/common/OutlinedPropView/OutlinedPropView.js","components/dashboard/containers/ItemCommon/SaveBtn.js","components/dashboard/containers/ItemCommon/itemCommonNew.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/itemHooks.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/common/stepper/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/common/dropdown/Dropdown.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/dialog/content.js","components/dashboard/containers/TargetsList/TargetsList.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/dashboard/forms/FormsCommon.js","components/dashboard/containers/AudiencePreview/AudiencePreview.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/common/autocomplete/Autocomplete.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/Audience/AudienceBasic.js","components/dashboard/forms/items/Audience/NewAudiencePreview.js","components/dashboard/forms/items/NewTargetingRules.js","components/dashboard/containers/Slot/WebsiteIssues.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/AdUnitsTable.js","components/dashboard/containers/Tables/AdSlotsTable.js","components/dashboard/containers/Tables/AudiencesTable.js","components/dashboard/charts/options.js","components/dashboard/charts/campaigns/CampaignStatsDoughnut.js","components/dashboard/containers/Tables/CampaignStatsBreakdownTable.js","components/dashboard/containers/Receipt/styles.js","components/dashboard/containers/Receipt/PublisherReceiptTpl.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/Receipt/CampaignReceiptTpl.js","components/dashboard/containers/Receipt/CompanyDetails.js","components/dashboard/containers/Receipt/Receipt.js","components/dashboard/containers/Tables/StatsByCountryTable.js","components/dashboard/charts/map/MapChart.js","components/dashboard/containers/Campaign/CampaignEdits.js","components/dashboard/containers/Campaign/CampaignBasic.js","components/dashboard/containers/Campaign/CampaignAudience.js","components/dashboard/charts/simplified.js","hooks/useWindowSize.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/common/DatePicker/styles.js","components/common/DatePicker/DatePicker.js","components/dashboard/containers/DashboardStats/styles.js","hooks/useKeyPress.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/Campaign/CampaignStatsByTimeframe.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/DashboardStats/AdvertiserStats.js","components/dashboard/containers/Tables/BestEarnersTable.js","components/dashboard/containers/DashboardStats/PublisherStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/SlotEdits.js","components/dashboard/containers/Slot/SlotBasic.js","components/dashboard/containers/Slot/IntegrationCode.js","components/dashboard/containers/Slot/styles.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Audience/Audience.js","components/dashboard/containers/Websites/Websites.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/SetAccountENSPage.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","helpers/popupHelper.js","components/dashboard/deposit/TopUp.js","components/dashboard/deposit/styles.js","services/onramp/index.js","components/dashboard/deposit/TopUpBtc.js","components/dashboard/getting-started/Colorlib.js","components/dashboard/getting-started/Tutorials.js","components/dashboard/getting-started/GettingStarted.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/Identity.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/App.js","serviceWorker.js","index.js","constants/actionTypes.js","services/store-data/auth.js","helpers/mediaHelpers.js","services/smart-contracts/contractsCfg.js","helpers/formatters.js","helpers/itemsHelpers.js","services/store-data/loop.js","services/store-data/analytics.js","helpers/dateUtils.js","helpers/timeHelpers.js","store/initialState.js","constants/spinners.js","services/crypto/crypto.js","constants/misc.js","store/history.js","services/store-data/campaigns.js","services/store-data/account.js","resources/no-image-box-eddie.jpg","components/common/anchor/anchor.js","actions/common.js","helpers/errors.js","actions/uiActions.js","services/smart-contracts/actions/erc20.js","services/smart-contracts/actions/common.js","helpers/validators.js","services/requester/requester.js","services/requester/index.js","services/adex-relayer/actions.js","actions/validationActions.js","actions/mediaValidations.js","services/adex-market/actions.js","constants/targeting.js","actions/itemActions.js","services/auth/auth.js","services/smart-contracts/signers/trezor.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","services/adex-validator/actions.js","services/smart-contracts/actions/stats.js","services/smart-contracts/actions/identity.js","services/smart-contracts/actions/core.js","services/adex-market/aggregates.js","actions/analyticsActions.js","actions/accountActions.js","actions/identityActions.js","actions/bidActions.js","services/gas/actions.js","actions/transactionActions.js","actions/newItemsActions.js","actions/audienceActions.js","helpers/utmHelpers.js","actions/campaignActions.js","helpers/numbers.js","services/images/blob.js","actions/slotActions.js","actions/unitActions.js","actions/index.js","resources/trezor-logo-h.png","services/smart-contracts/ethers.js","resources/getting-started/GS-email-ic.png","resources/getting-started/GS-create-ic.png","resources/getting-started/GS-launch-ic.png","reducers/configReducer.js","reducers/index.js","reducers/accountReducer.js","reducers/uiReducer.js","reducers/itemsReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/targetingReducer.js","reducers/ensReducer.js","reducers/uiMemoryReducer.js","reducers/channelsReducer.js","reducers/analyticsReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/selectedItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","components/App/themeMUi.js","services/translations/translations.js","helpers/sanitizer.js","services/adex-validator/ewt.js","../external \"Module\"","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","helpers/miscHelpers.js","services/wallet/wallet.js","resources/404-no.png","resources/404-yes.png","resources/ramp.svg","resources/wyre.svg","resources/paytrie.svg","resources/getting-started/GS-fund-ic.png","resources/getting-started/GS-place-ic.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png","components/App/CacheBuster.js"],"names":["createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","creatArrayOnlyLengthChangeSelector","a","arguments","length","undefined","b","selectRelayerConfig","state","getState","persist","config","relayer","selectFeeTokenWhitelist","createSelector","_ref","feeTokenWhitelist","reduce","all","t","tokens","Object","objectSpread","address","selectRoutineWithdrawTokens","_ref2","routineWithdrawTokens","selectRoutineWithdrawTokensAddresses","_ref3","map","selectMainToken","relayerConfig","_ref4","mainToken","selectIdentityRecoveryAddr","_ref5","identityRecoveryAddr","selectGasPriceCap","_ref6","gasPriceCap","selectSaiToken","_ref7","saiAddr","selectMainFeeToken","_ref8","selectAccount","account","selectChannels","memory","channels","selectAuth","wallet","identity","authSig","authType","selectWallet","selectEmail","email","selectAuthSig","split","selectWalletAddress","selectAuthType","selectAccountIdentity","selectAccountIdentityAddr","selectAccountStats","_ref9","stats","selectAccountStatsRaw","_ref10","settings","_ref11","raw","selectAccountStatsFormatted","_ref12","formatted","selectAccountIdentityDeployData","_ref13","relayerData","routineAuthorizationsData","_ref14","_ref14$relayerData","deployData","selectChannelsWithUserBalancesEligible","_ref15","withOutstandingBalance","toConsumableArray","selectChannelsWithUserBalancesAll","_ref16","withBalanceAll","selectAccountIdentityCurrentPrivileges","_ref17","_ref17$relayerData","currentPrivileges","selectWalletPrivileges","selectIdentity","selectEnsAddressByAddr","ensAddresses","_","selectSide","nav","side","selectMemoryUi","uiMemory","selectGlobalUi","ui","global","selectConfirm","confirm","selectSpinners","spinners","selectIdentityUi","byIdentity","identityAddr","identitiesUi","selectIdentitySideUi","identityUi","selectCompanyData","companyData","selectSpinnerById","id","selectRegistrationAllowed","ids","allowRegistration","process","selectEasterEggsAllowed","allowEasterEggs","selectPrivilegesWarningAccepted","privilegesWarningAccepted","selectMissingRevenueDataPointsAccepted","missingRevenueDataPointsAccepted","selectSideSpecificUI","selectHideGettingStarted","hideGettingStarted","selectGettingStartedExpanded","gettingStartedExpanded","selectSelectedCampaigns","selectedItems","campaigns","selectLoginDirectSide","goToSide","selectInitialDataLoadedByData","dataType","initialDataLoaded","selectInitialDataLoaded","_ref11$initialDataLoa","every","type","selectCampaignInDetails","campaignId","selectAnalyticsDataSide","concat","selectIdentitySideAnalyticsTimeframe","_ref13$sideAnalyticsT","sideAnalyticsTimeframe","selectIdentitySideAnalyticsPeriod","_ref14$sideAnalyticsP","sideAnalyticsPeriod","start","dateUtils","startOfDay","date","end","endOfDay","selectLang","language","selectTranslations","val","opts","lang","_opts$isProp","isProp","_opts$args","args","_opts$components","components","translate","selectItems","items","selectItemsByType","itemType","selectItemByTypeAndId","selectItemsArrayByType","values","selectCampaigns","selectCampaignById","selectCampaignUnitsById","adUnits","selectCampaignWithAnalyticsById","campaign","clicks","selectCampaignEventsCount","impressions","selectCampaignsArray","selectAdUnits","selectAdUnitById","selectAdUnitsArray","selectAdSlots","adSlots","selectAdSlotsArray","selectAdSlotById","selectWebsites","websites","selectWebsitesArray","selectWebsiteByWebsite","ws","url","parse","hostname","selectAudiences","audiences","selectAudiencesArray","selectAudienceById","selectAudienceByCampaignId","audienceInput","inputs","location","categories","publishers","advanced","find","x","selectSavedAudiences","filter","title","selectNewItems","newItem","selectNewItemByTypeAndId","itemId","initialState","selectNewCampaign","Campaign","CampaignModel","selectNewAdUnit","AdUnit","AdUnitModel","selectNewAdSlot","AdSlot","AdSlotModel","selectNewAudience","Audience","AudienceModel","selectAnalytics","analytics","selectTargeting","targeting","selectAdvancedAnalytics","selectAnalyticsLastChecked","lastChecked","Date","now","selectAnalyticsLiveTimestamp","timeframe","startOf","add","utc","selectDemandAnalytics","demand","selectDemandAnalyticsByType","selectTargetingAnalytics","_ref4$targetingData","targetingData","selectTargetingAnalyticsMinByCategories","_ref5$minByCategory","minByCategory","selectTargetingAnalyticsCountryTiersCoefficients","_ref6$countryTiersCoe","countryTiersCoefficients","selectVerifiedActiveTargetingAnalytics","targetingAnalytics","bySlotCount","byType","types","forEach","campaignsEarnedFrom","selectTargetingAnalyticsCurrentlyUsedTypes","item","u","selectTargetingAnalyticsByType","filterByType","some","includes","selectAdvancedAnalyticsByType","Array","from","c","Set","owner","alexaRank","set","Map","sort","campaignAnalytics","selectTotalStatsByAdUnits","adUnitId","slicedToArray","analyticsByChannel","byChannelStats","acc","curr","reportChannelToAdUnit","selectPublisherStatsByType","publisherStats","selectPublisherStatsByCountry","reportPublisherToCountry","selectPublisherPayStatsByCountry","reportPublisherToCountryPay","selectPublisherStatsAdUnit","reportPublisherToAdUnit","selectPublisherStatsAdUnitPay","reportPublisherToAdUnitPay","selectPublisherStatsAdSlot","reportPublisherToAdSlot","selectPublisherStatsAdSlotPay","_ref18","reportPublisherToAdSlotPay","selectPublisherAggrStatsByCountry","byCountry","max","Math","apply","total","value","Number","selectAllAdUnitsInChannels","units","_ref19$adUnits","ipfs","selectPublisherAdvanceStatsToAdUnit","_ref20","_ref21","impressionsByAdUnit","clicksByAdUnit","impressionsPayByAdUnit","clicksPayByAdUnit","i","impressionsPay","clicksPay","selectPublisherAdvanceStatsToAdSlot","_ref22","_ref23","impressionsByAdSlot","clicksByAdSlot","impressionsPayByAdSlot","clicksPayByAdSlot","selectPublisherTotalImpressions","_ref24","selectCampaignAnalyticsByChannelStats","_ref25","_ref26","_ref27","analyticsByType","selectCampaignAnalyticsByChannelToCountry","_ref28","_ref29","reportChannelToCountry","selectCampaignAnalyticsByChannelToCountryPay","_ref30","_ref31","reportChannelToCountryPay","selectCampaignAggrStatsByCountry","_ref32","selectCampaignAnalyticsByChannelToAdUnit","_ref33","_ref34","selectAnalyticsDataAggr","_ref35","_ref36","_ref38","eventType","metric","liveTimestamp","_analytics$side","_analytics$side$event","_analytics$side$event2","_analytics$side$event3","_analytics$side$event4","aggr","selectTotalImpressions","_ref39","eventCounts","_ref40","selectTotalClicks","_ref41","_ref42","selectTotalMoney","_ref43","eventPayouts","_ref44","formatTokenAmount","selectTotalImpressionsWithPayouts","_ref45","_ref46","_ref47","e","time","_ref48","selectAverageCPM","_ref49","_ref50","totalMoney","totalImpressions","selectStatsChartData","_ref52","noLastOne","rest","objectWithoutProperties","data","_ref53","_ref53$data","slice","memo","labels","push","formatDateTime","datasets","_ref51","parseFloat","parseInt","parseValueByMetric","selectChartDatapointsImpressions","_ref54","_ref55","selectChartDatapointsClicks","_ref57","_ref58","selectChartDatapointsPayouts","_ref60","_ref61","selectChartDatapointsCPM","_ref63","_ref64","_ref65","payouts","result","n","toFixed","selectPublisherReceipts","_ref66","receipts","selectPublisherReceiptsPresentMonths","keys","r","selectAnalyticsNowLabel","format","DEFAULT_DATETIME_FORMAT","setMinutes","getNearestSixHoursUTC","selectValidations","validations","selectValidationsById","_ref$targetingData","_ref2$minByCategory","_ref3$countryTiersCoe","selectMinTargetingCpm","coefficients","selectTargetingCategoriesByType","mapTargetingDataToPublishers","reachPerMillion","selectTargetingPublishersByType","selectTargetingCategories","selectAllTargetingPublishers","autocompleteLocationsSingleSelect","tiers","constants","CountryTiers","name","ruleValue","countries","label","extraLabel","join","group","AllCountries","toUpperCase","autocompleteCategoriesMultiSelectIn","cat","IabCategories","wrbshrinkerWebsiteApiV3Categories","autocompleteCategoriesMultiSelectNin","getPublisherExtraDataLabel","publisher","autocompletePublishersMultiSelectIn","pub","JSON","stringify","extraData","autocompletePublishersMultiSelectNin","audienceSources","parameter","applyType","actions","minSelected","extraInfo","react_default","createElement","anchor_anchor","href","disabledValues","helper","selectAutocompleteAudienceSources","locations","catIn","catNin","pubIn","pubNin","singleValuesSrc","multipleValuesSrc","in","nin","selectAudienceSourcesWithOptions","sourcesData","s","source","selectAudienceValidations","__","___","validateId","selectAudienceInputsDataByItem","____","advancedOnly","allSrcsWithOptions","selectedItem","isCampaignAudienceItem","errors","errorParameters","dirty","errFields","SOURCES","allSrcs","disabled","selectedPublishersCategories","p","has","getDisabledValues","selectNewTransactionById","newTransactions","txns","CountryNames","numericToAlpha2","selectCampaignsTableData","archived","_ref$decimals","depositAsset","decimals","_item$spec","spec","_item$adUnits","firstUnit","to","toReceipt","media","mediaUrl","mediaMime","status","humanFriendlyName","originalName","depositAmount","formatUnits","fundsDistributedRatio","ctr","minPerImpression","created","activeFrom","withdrawPeriodStart","receiptReady","receiptAvailable","selectCampaignsMaxImpressions","selectCampaignsMaxClicks","selectCampaignsMaxDeposit","_ref2$decimals","selectAdSlotsTableData","slots","replace","earnings","selectAdUnitsTableData","selectOnImage","selectAudiencesTableData","version","updated","mapByCountryTableData","impressionsByCountry","clicksByCountry","impressionsAggrByCountry","impressionsPayByCountry","clicksPayByCountry","addEarnings","key","countryName","percentImpressions","averageCPM","selectPublisherStatsByCountryData","selectCampaignAnalyticsToCountryData","selectPublisherStatsByCountryTableData","selectCampaignAnalyticsToCountryTableData","mapByCountryMapChartData","colorScale","scaleLinear","domain","range","PRIMARY_LIGHTEST","PRIMARY_DARKEST","hoverColor","SECONDARY","pressedColor","SECONDARY_LIGHT","chartData","chartCountriesData","objects","geometries","tooltipElements","formatAbbrNum","properties","fillColor","grey","selectPublisherStatsByCountryMapChartData","selectCampaignAnalyticsToCountryMapChartData","selectBestEarnersTableData","selectCampaignStatsTableData","campaignAudienceInput","imprStats","reportChannelToHostname","clickStats","earnStats","reportChannelToHostnamePay","rules","isBlacklisted","website","selectCampaignStatsMaxValues","channelId","current","newResult","totalClicks","totalEarnings","maxClicks","maxCTR","maxImpressions","maxEarnings","selectAdUnitsStatsMaxValues","selectPublisherReceiptsStatsByMonthTableData","token","_ref16$decimals","_i","_Object$entries","entries","_ref19","selectPublisherReceiptsStatsByMonthTotalValues","totalPayouts","selectCampaignDoughnutStats","chartColors","maxDataSets","_Object$keys$sort$red","newData","impressionsData","clicksData","backgroundColor","hoverBackgroundColor","borderWidth","selectSlotTypesSourceWithDemands","symbol","AdUnitsTypes","dA","bigNumberify","avgCPM","dB","gt","index","hasPopularGroup","hasNoDemandGroup","demandIfo","totalVolume","selectVerifiedActiveTypes","verified","typeData","get","byOwner","minSlotCount","revenue","totalEarned","totalRevenue","toString","selectUnitTypesSourceWithRecommendations","verifiedTypes","totoShare","_ref4$revenue","typeRest","share","hasLessPopularGroup","selectMonthsRange","startDate","endDate","months","m","moment","diff","selectReceiptMonths","monthsEnd","monthTimestamp","endOf","selectFromSource","labelValueMapping","translated","selectKnowUsFromSource","WHERE_YOU_KNOW_US","websitesAutocompleteSrc","issues","selectHasCreatedAdUnit","adUnitsArray","selectHasCreatedCampaign","campaignsArray","selectHasConfirmedEmail","_ref$meta","meta","emailConfirmed","selectHasFundedAccount","hasCampaign","identityBalanceMainToken","selectHasCreatedAdSlot","adSlotsArray","selectHasAdSlotImpressions","selectHas5000Impressions","sectStepsData","hasCreatedAdUnit","hasCreatedCampaign","hasCreatedAdSlot","hasConfirmedEmail","hasFundedAccount","hasImpressions","has5000Impressions","selectLocation","router","selectLocationQuery","search","query","selectSearchParams","URLSearchParams","ITEMS_SELECTORS","receipt","SIDES","advertiser","selectDashboardBreadcrumbs","_ref4$pathname","pathname","paths","sideDashboard","sideDashboardBC","restBC","prev","selector","bc","restCopy","receiptAt","indexOf","__webpack_require__","d","__webpack_exports__","configSelectors_selectRelayerConfig","translationsSelectors_t","loadFromLocalStorage","localStorage","getItem","err","saveToLocalStorage","serialized","setItem","console","warn","removeFromLocalStorage","removeItem","getKeys","ipfsSrc","adex_models__WEBPACK_IMPORTED_MODULE_0__","src","Regexes","ipfsRegex","test","helpers","getMediaUrlWithProvider","module","exports","typeToSeverity","accept","success","warning","info","cancel","error","Toast","_Component","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","close","setState","active","setTimeout","removeToast","toast","inherits","createClass","nextProps","nextToast","toasts","_this2","anchorOrigin","vertical","horizontal","top","Snackbar","open","autoHideDuration","timeout","onClose","unclosable","Alert","severity","variant","action","react","IconButton","aria-label","color","size","onClick","Close","Component","connect","dispatch","bindActionCreators","Confirm","children","_useState","useState","_useState2","setOpen","_useSelector","useSelector","onConfirm","onCancel","calledOn","noActionBtns","_useSelector$data","_useSelector$data$tit","_useSelector$data$tex","text","confirmLabel","cancelLabel","useEffect","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","withReactRouterLink","Decorated","_React$Component","_getPrototypeOf2","_len","_key","resolveToLocation","path","history","createHref","handleClick","asyncToGenerator","regenerator_default","mark","_callee","event","_this$props","wrap","_context","next","preventDefault","stopPropagation","stop","_x","_this$props2","forwardedRef","match","staticContext","toLocation","assign","ref","React","WithRouter","withRouter","forwardRef","createSvgIconCustom","displayName","viewBox","Icon","SvgIcon","pure","muiName","sideIndex","0","1","handleChange","ev","execute","useTabsStyles","makeStyles","theme","indicator","background","useTabStyles","activeColor","palette","primary","main","root","minWidth","&$selected","common","white","&:hover","hover","selected","SideSwitch","className","tabsClasses","tabClasses","Box","bgcolor","Divider","Tabs","classes","onChange","textColor","Tab","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","display","flex","alignItems","ml","mr","CircularProgress","RRListItem","ListItem","RRAdexIconTxt","AdexIconTxt","ETH_SCAN_ADDR_HOST","useStyles","contrastText","activeBgColor","navigation","paper","sntPadding","paddingTop","navListRoot","secondary","flexDirection","justifyContent","navList","position","left","right","bottom","overflowY","overflowX","sideNavToolbar","padding","paddingLeft","borderTopWidth","borderTopColor","divider","borderTopStyle","&:focus","& .MuiListItemIcon-root","adxLink","hint","sideSwitch","marginBottom","spacing","icon","height","width","cursor","amount","fontSize","typography","pxToRem","SideNav","routerLocation","availableIdentityBalanceMainToken","List","component","classnames","spinners_LoadingSection","Typography","button","dashboard_SideSwitch","defineProperty","ListItemIcon","Dashboard_default","ListItemText","List_default","Fragment","CampaignIcon","Group_default","WebSharp_default","Receipt","MonetizationOn_default","target","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","alt","style","marginRight","ButtonMenu","btnStyle","rightIcon","leftIconSrc","anchorEl","setAnchorEl","handleClose","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-haspopup","aria-controls","maxWidth","overflow","textOverflow","Menu","Boolean","getContentAnchorEl","transformOrigin","Children","child","cloneElement","Translate","_ref$isProp","_ref$args","getAuthLogo","AUTH_TYPES","METAMASK","metamaskLogo","TREZOR","trezorLogo","DEMO","demoLogo","styles","_drawerPaper","_content","marginTop","flexGrow","appBar","breakpoints","up","paddingRight","flexRow","flexBasis","paddingBottom","&:last-child","toolbarControls","toolbarTitle","toolbar","flexFlow","drawerPaper","content","default","marginLeft","down","contentInner","margin","breadcrumbElement","RRMenuItem","MenuItem","RRLink","Link","handleDrawerToggle","imgSrc","breadcrumbs","btnMenuLabel","formatAddress","AppBar","Toolbar","Hidden","mdUp","pl","Menu_default","smDown","Breadcrumbs","noWrap","pr","lib_default","diameter","seed","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","logOut","ExitToApp_default","MAX_IMG_LOAD_TIME","Img","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","isVideoMedia","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onerror","onload","onabort","bind","assertThisInitialized","videoSrc","onloadedmetadata","allowVideo","isVideo","VIDEO_IMAGE","Fab","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","draggable","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this$props3","allowFullscreen","classNameImg","fullScreenOnClick","_this$state2","wrapper","img","fullScreenBtn","circular","withStyles","minHeight","@media(max-width:744px)","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","objectFit","generalTableOptions","rowsPerPage","rowsPerPageOptions","setTableProps","align","textLabels","body","noMatch","toolTip","columnHeaderTooltip","column","pagination","previous","displayRows","downloadCsv","print","viewColumns","filterTable","reset","titleAria","selectedRows","delete","deleteAria","progress","MUIDataTableEnhanced","columns","options","dist_default","elevation","noSearch","download","noDownload","noPrint","selectableRows","rowSelectable","disableToolbarSelect","toolbarEnabled","responsive","mapStatusIcons","humanFriendlyStatus","xs","md","ls","waitIcon","HourglassFull_default","doneIcon","DoneAll_default","warningIcon","Warning_default","cashIcon","toLowerCase","cellImg","& > *","sliderFilterOptions","_ref$initial","initial","_ref$filterTitle","filterTitle","_ref$stepsCount","stepsCount","_ref$stepsPrecision","stepsPrecision","min","step","steps","precision","getSliderStep","filterType","customFilterListOptions","render","v","update","filterList","filterPos","filterOptions","names","logic","rowNumber","filters","formated","gutterBottom","pt","Slider","marks","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","valueLabelFormat","useTableData","selectorArgs","getColumns","setData","_useState3","_useState4","setColumns","selectedData","reloadData","useCallback","buttonProgress","ReloadData","handleReload","Tooltip","Refresh","PrintAllReceipts","handlePrintAllReceipts","receiptsSpinner","PRINTING_CAMPAIGNS_RECEIPTS","startIcon","Print","RRIconButton","RRImg","getCols","maxDeposit","customBodyRender","truncateString","commify","sortDirection","formatDate","enterDelay","Visibility","getOptions","onDownload","buildHead","buildBody","mappedData","trim","customToolbar","customToolbarSelect","displayData","setSelectedRows","selectedIndexes","dataIndex","handlePrintSelectedReceiptsAdvertiser","CampaignsTable","campaignsLoaded","_useTableData","PropBaseComponent","inputRef","OutlinedPropView","py","FormControl","fullWidth","InputLabel","shrink","disableAnimation","OutlinedInput","notched","readOnly","inputComponent","inputProps","wordWrap","buttonSuccess","dark","fabProgress","zIndex","SaveBtn","spinner","_ref$dirtyProps","dirtyProps","save","Check","Save","card","mediaRoot","basicInfo","flexWrap","buttonRight","buttonLeft","textField","changesLine","changeChip","editIcon","mediaPropChip","changeControls","changeControlsPaper","borderColor","itemTabsBar","itemTabsContainer","borderTop","DirtyProps","returnPropToInitialState","react_router","when","message","Info","Chip","onDelete","deleteIcon","UndoOutlined","ChangeControls","hookProps","Collapse","Paper","itemCommonNew_DirtyProps","SaveBtn_SaveBtn","WALLET_ACTIONS_MSGS","msg","my","ItemTabsContainer","noBackground","ItemTabsBar","ItemSpecProp","prop","_ref4$value","helperText","InputProps","TextField","ItemTitle","errTitle","updateField","setActiveFields","_ref5$activeFields","activeFields","showError","errMsg","errMsgArgs","endAdornment","InputAdornment","Edit","ItemDescription","description","errDescription","_ref6$activeFields","maxLength","multiline","rows","ItemAdType","OpenInNewIconBtn","OpenInNew","IconButtonWithRef","itemCommonNew_OpenInNewIconBtn","ItemTargetURL","_ref9$targetUrl","targetUrl","ItemFallbackMediaURL","_ref10$targetUrl","MediaCard","_ref11$mediaUrl","_ref11$mediaMime","_ref11$label","Card","raised","CardMedia","img_Img","ItemWebsite","_ref12$item","_ref12$initialItemSta","initialItemState","_ref12$activeFields","dangerouslySetInnerHTML","__html","ArchiveItemBtn","_ref13$itemType","isIconBtn","onSuccess","goToTableOnSuccess","labelArgs","confirmAction","archiveItem","ArchiveSharp","useItem","objModel","validateAndUpdateFn","setInitialItemState","_useState5","_useState6","setFields","_useState7","_useState8","setDirtyProps","_useState9","_useState10","setValidateId","storeItem","params","field","validate","dirtyIndex","findIndex","newDirtyProps","dpValue","splice","fields","dp","updateMultipleFields","newValues","dirtyFields","Base","updateObject","errColor","&$active","stepperWrapper","pagePaper","textAlign","@media(max-width:475px)","mobileStepper","buttonProgressWrapper","errChip","& svg","StepperNav","currentPage","window","innerWidth","MobileStepper","activeStep","Stepper","alternativeLabel","page","Step","StepLabel","MaterialStepper","_props$initialPage","initialPage","_props$steps","closeDialog","setCurrentPage","canReverse","pageProps","Comp","validationFn","onValid","stepsId","completeFn","_page$completeBtnTitl","completeBtnTitle","dirtyErrors","dirtyErrs","getDirtyValidationErrors","validationSpinner","stepsSpinner","isValidPage","goToPage","nextStep","canGoBack","goToPreviousPage","_callee2","_context2","goToNextPage","_callee3","_context3","handleComplete","_callee4","_context4","onKeyPressed","_callee5","_context5","_x2","onKeyPress","mb","stepperNav","MaterialUiStepper_StepperNav","mt","Error_default","cancelFunction","FormSteps","stepperSteps","setSteps","_useSelector$step","updatedSteps","MaterialUiStepper","dialogTitle","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","textTransform","rightCol","progressCircleCenter","floating","breakLong","wordBreak","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","Transition","Slide","direction","WithDialogHoc","WithDialog","_props$disableBackdro","disableBackdropClick","iconButton","textButton","fabButton","btnLabelArgs","mini","btnLabel","dialogActions","onBeforeOpen","btnProps","ButtonComponent","btnLabelTranslated","first","second","TransitionComponent","disableTypography","Cancel_default","formControl","groupHeader","menuItem","whiteSpace","ExtraLabel","isArray","Dropdown","_props$label","_props$source","_props$htmlId","htmlId","_props$disabled","_props$error","_props$fullWidth","required","noSrcLabel","IconComponent","htmlFor","Select","ListSubheader","Dropdown_ExtraLabel","InfoSharp","FormHelperText","spinners_InputLoading","AdUnitBasic","typesSources","_useSelector2","errTargetUrl","errType","Grid","container","updateNewUnit","dropdown_Dropdown","getCroppedImgUrl","crop","fileName","canvas","scaleX","naturalWidth","scaleY","naturalHeight","sourceWidth","sourceHeight","getContext","drawImage","y","finalCanvas","bl","bctx","blur","floor","Promise","resolve","reject","toBlob","file","URL","createObjectURL","dropzone","border","imgDropzonePreview","dropzoneBtn","uploadActions","ImgForm","additionalInfo","aspect","imgRef","setImgRef","setCrop","cropMode","setCropMode","imgName","setImgName","mime","setMime","_useState11","_useState12","setImgSrc","onLoad","preventBubbling","nativeEvent","stopImmediatePropagation","onRemove","revokeObjectURL","tempUrl","saveCropped","croppedBlob","sent","imgForm","common_OutlinedPropView_OutlinedPropView","alignContent","sm","ReactCrop_min_default","imageStyle","onImageLoaded","Clear","dist_es","onDrop","acceptedFiles","rejectedFiles","objectUrl","uploadInfo","Crop","CloudUpload","AdUnitMedia","temp","errImg","_getWidAndHightFromTy","getWidAndHightFromType","ImgForm_ImgForm","mediaProps","PropRow","LocationOnIcon","WcIcon","ChildCareIcon","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","FullContentMessage","_ref7$msgs","msgs","_ref7$color","strong","imgPreview","imgPreviewWrapper","AdUnitPreview","content_PropRow","CampaignUnits","selectedUnits","allAdUnits","allAdUnitsArray","hasAdUnits","Tables_AdUnitsTable","handleSelect","selectedItemsIds","newTemp","updateNewCampaign","noClone","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange","iconColor","onIconClick","onLiveClick","onNextClick","Update","NavigateNextRounded","DateTimePicker","calendarIcon","onBackClick","roundHour","utils","DateTimePicker_CalendarIconAdor","startAdornment","NavigateBeforeRounded","datepickerContrastInput","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","underline","isNumberString","MomentUtils","getTotalImpressions","dep","minBound","maxBound","CampaignFinance","invalidFields","validators","campaignPricingBounds","pricingBounds","_campaign$temp","maxChannelFees","maxDepositFormatted","useUtmTags","_temp$suggestedPricin","suggestedPricingBounds","IMPRESSION","useUtmSrcWithPub","GETTING_CAMPAIGNS_FEES","valueOf","errDepAmnt","errMin","pricingBounds_min","errMax","pricingBounds_max","errFrom","errTo","leader","follower","updatePricingBoundsImpression","newPricingBounds","impression","validateNumberString","itemCommonNew_ItemSpecProp","common_DateTimePicker_DateTimePicker","emptyLabel","inputVariant","disablePast","minDate","maxDate","FormGroup","row","FormControlLabel","control","Checkbox","checked","NewItems_CampaignTargetingRules","WalletAction","AudiencePreview","_ref$audienceInput","_audienceInput$locati","subHeader","_audienceInput$catego","_audienceInput$publis","CampaignFormPreview","feesSpinner","openingSpinner","OPENING_CAMPAIGN","_useSelector$targetin","targetingRules","_useSelector$audience","_useSelector$temp","feesFormatted","totalSpendFormatted","_ref$IMPRESSION","_audienceInput$inputs","getCampaignActualFees","checkNetworkCongestion","FormsCommon_WalletAction","includeIncentivized","disableFrequencyCapping","limitDailyAverageSpending","containers_AudiencePreview_AudiencePreview","ExpansionPanel","square","ExpansionPanelSummary","expandIcon","ExpandMoreSharp","StatusIcon","CheckSharp","ErrorSharp","createFilterOptions","AutocompleteWithCreate","initialValue","changeOnInputUpdate","setValue","Autocomplete","inputValue","onInputChange","filtered","selectOnFocus","getLimitTagsText","more","limitTags","groupBy","option","getOptionLabel","renderOption","freeSolo","renderInput","multiple","errorText","onInit","hideSelectedOnDisable","disableCloseOnSelect","_ref2$disabledSrcValu","disabledSrcValues","enableCreate","srcValue","getOptionDisabled","getOptionSelected","opt","Autocomplete_ExtraLabel","renderTags","getCustomizedTagProps","AdSlotBasic","websitesSrc","adTypesSource","minCPM","_newItem$title","_newItem$description","_newItem$website","_newItem$type","slotRulesInput","rulesInput","_rulesInput$inputs","allowAdultContent","autoSetMinCPM","UPDATING_SLOTS_DEMAND","errWebsite","updateSlotsDemandThrottled","updateNewSlot","Autocomplete_AutocompleteWithCreate","AdSlotMedia","_temp$useFallback","useFallback","errFallbackUrl","Switch","AudienceBasic","updateNewAudience","slider","markLabel","opacity","parameterIcon","PublicSharp","LocalOfferSharp","WebAssetSharp","MoreHorizSharp","Sources","_ref$source","collection","placeholder","_ref$target","actionType","currentApply","getApply","autocomplete_Autocomplete","openOnClick","_objectSpread2","updateTargetRuleInput","_objectSpread3","getMultipleActionsUsedValues","currentAction","Targets","_ref3$source","_ref3$extraInfo","_ref3$target","applyValue","RadioGroup","_clsx","Radio","clsx","NewTargetingRules_Sources","_clsx3","NewTargetingRules","tabIndex","setTabIndex","scrollButtons","indicatorColor","NewTargetingRules_Targets","getIssue","issue","RenderIssue","ALL_ISSUES","SLOT_ISSUE_BLACKLISTED","LooksOneSharp","shortLabel","SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED","LooksTwoSharp","SLOT_ISSUE_SOMEONE_ELSE_VERIFIED","Looks3Sharp","WebsiteVerifyBtn","lastUpdated","canUpdate","RefreshSharp","updateWebsiteVerification","timeAgo","WebsiteIssues","asKeyWords","tryAgainBtn","site","defaultIssues","WebsiteIssues_WebsiteVerifyBtn","_getIssue","WebsiteIssuesLegend","dense","disablePadding","SlotFallback","AdSlotPreview","typeDemand","_temp$categories","suggestedMinCPM","AdSlotPreview_SlotFallback","CampaignTargetingRules","items_NewTargetingRules","AudienceRules","NewUnitStepsWithDialog","stepper_FormSteps","resetNewItem","validateIdBase","validateNewUnitBasics","validateNewUnitMedia","AdUnitFormPreview","completeItem","competeAction","saveUnit","imgLabel","noDefaultImg","itemModel","NewUnitDialog","copyProps","darkerBackground","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","validateNewCampaignAdUnits","validateCampaignAudienceInput","onInvalid","validateNewCampaignFinance","openCampaign","imgAdditionalInfo","NewCampaignDialog","NewCampaignFromAudience","NewSlotStepsWithDialog","validateNewSlotBasics","validateNewSlotPassback","saveSlot","descriptionHelperTxt","NewSlotDialog","NewAudienceWithDialog","validateAudienceBasics","skipRules","validateAudienceInput","NewAudiencePreview","saveAudience","NewAudienceDialog","ImgComponent","AdUnitsTable_RRIconButton","NewItems_NewCloneUnitDialog","cloneItem","itemCommonNew_ArchiveItemBtn","onRowsSelect","rowsSelected","AdUnitsTable","_props$selected","itemsLoaded","setSelectorArgs","allRowsSelected","AdSlotsTable_RRImg","AdSlotsTable_RRIconButton","AdSlotsTable","RRTypography","setCellProps","setCellHeaderProps","AudiencesTable_RRIconButton","VisibilitySharp","NewItems_NewCampaignFromAudience","AudiencesTable","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","tooltips","mode","cornerRadius","Helper","hexToRgbaColorString","merge","defaults","CampaignStatsDoughnut","_ref$maxDataSets","_ref$chartColors","react_chartjs_2_es","legend","animation","callbacks","datasetIndex","tableMeta","rowData","formatNumberWithCommas","IncludeOrExcludeWebsitesBtn","exclude","_ref2$hostnames","hostnames","excludeOrIncludeWebsites","endIcon","WebsitesActions","_ref3$hostnames","lg","CampaignStatsBreakdownTable_IncludeOrExcludeWebsitesBtn","BlockSharp","actionData","CampaignStatsBreakdownTable_WebsitesActions","CampaignStatsBreakdownTable","isActive","canSendMsgs","allowActions","dottedDivider","borderBottom","solidDevider","breakdownTable","breakAll","pageBreak","pageBreakAfter","a4","PublisherReceiptTpl","monthBreakdown","cpm","_useSelector3","companyName","firstLastName","country","unix","toHexString","substr","isFinite","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","RRButton","G404","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","justify","PageNotFound_G404","IMG_404_1","IMG_404_2","CampaignReceiptTpl","campaignBreakdown","creator","page_not_found_PageNotFound","CompanyDetails","updateCompanyData","invoice","useRef","useParams","selectedCampaigns","selectedByPropsOrParams","receiptsAdvertiser","setStartDate","setEndDate","setDirty","dates","validateStartDate","validateEndDate","startDateError","endDateError","monthMappingStartPeriod","setDate","monthMappingEndPeriod","fetchingPublisherReceiptsSpinner","FETCHING_PUBLISHER_RECEIPTS","setReceipts","resetSelectedItems","Receipt_CompanyDetails","react_to_print_lib_default","pageStyle","trigger","DateRangeSharp","GetApp","getReceiptData","showEarnings","StatsByCountryTable","noViewColumns","MapChart","setContent","index_umd","data-tip","projection","projectionConfig","scale","maxZoom","geography","_ref2$geographies","geographies","geo","_geo$properties","rsmKey","onMouseEnter","onMouseLeave","stroke","outline","pressed","index_es","ALEX_GREY","TargetingRulesEdit","fieldName","stepTitle","updateCampaignAudienceInput","CampaignBasic","maxPerImpression","_ref2$advanced","_selectMainToken","isPaused","onlyShowIf","pauseAction","cpmMin","cpmMax","closeSpinner","pauseSpinner","itemCommonNew_MediaCard","closeCampaign","StopSharp","pauseOrResumeCampaign","StarSharp","PauseSharp","itemCommonNew_ItemTitle","mul","mapCurrentToNewCampaignAudienceInput","CampaignAudience","NewItems_NewAudienceDialog","commonDsProps","lineTension","pointRadius","pointHitRadius","FONT","SimpleStatistics","data1","data2","data3","data4","_ref$data1Active","data1Active","_ref$data2Active","data2Active","_ref$data3Active","data3Active","_ref$data4Active","data4Active","dataSynced","_ref$defaultLabels","defaultLabels","_ref$options","_ref$xLabel","xLabel","_ref$y1Label","y1Label","_ref$y2Label","y2Label","_ref$y3Label","y3Label","_ref$y4Label","y4Label","_ref$y1Color","y1Color","_ref$y2Color","y2Color","_ref$y3Color","y3Color","_ref$y4Color","y4Color","nowLabel","windowSize","hasWindow","getWindowSize","innerHeight","setWindowSize","onResize","addEventListener","removeEventListener","useWindowSize","chartHeight","Chart","pluginService","register","beforeDraw","chart","ctx","tooltip","_active","controller","tooltipPosition","chartScalesy1","scales","topY","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","GANDALF_GREY","restore","yAxisID","hidden","pointBackgroundColor","linesOptions","layout","annotation","annotations","scaleID","borderDash","enabled","fontFamily","maintainAspectRatio","intersect","titleFontSize","bodyFontSize","bodyFontFamily","titleFontFamily","xPadding","yPadding","bodySpacing","caretSize","displayColors","yLabel","formatFloatNumberWithCommas","xAxes","gridLines","drawBorder","drawTicks","scaleLabel","labelString","ticks","autoSkip","maxTicksLimit","maxRotation","callback","yAxes","beginAtZero","stepSize","plugins","ChartAnnotation","px","boxShadow","shadows","useStylesArrow","black","popper","&[x-placement*=\"bottom\"] $arrow","&::before","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","arrow","borderStyle","ArrowTooltip","_useStylesArrow","_React$useState","_React$useState2","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","element","_ref$bgColor","bgColor","_ref2$bgColor","infoCard","linkCard","&:hover, &:focus","visibilityIcon","StatsCard","explain","dataVisible","VIcon","VisibilityOff","dayWrapper","day","customDayHighlight","borderRadius","nonCurrentMonthDay","highlightNonCurrentMonthDay","highlight","firstHighlight","extend","borderTopLeftRadius","borderBottomLeftRadius","endHighlight","borderTopRightRadius","borderBottomRightRadius","dayDisabled","pointerEvents","DatePicker","esm_DatePicker","DatePicker_CalendarIconAdor","DatePicker_DatePicker","WeeklyDatePicker","dayIsFuture","isAfter","renderDay","selectedDate","dayInCurrentMonth","_clsx2","dateClone","makeJSDateObject","selectedDateClone","startOfWeek","endOfWeek","dayIsBetween","isWithinInterval","isFirstDay","isSameDay","isLastDay","wrapperClassName","dayClassName","labelFunc","invalidLabel","isValid","addDays","shouldDisableDate","infoStatsContainer","dashboardCardBody","cardIcon","transform","useKeyPress","targetKey","keyPressed","setKeyPressed","downHandler","upHandler","timeoutMap","hour","week","timeFrames","VALIDATOR_ANALYTICS_TIMEFRAMES","tf","metrics","PRIMARY","ACCENT_TWO","ACCENT_ONE","getDefaultLabels","DatePickerSwitch","views","minutesStep","ImpressionsAlert","_ref3$impressions","updateMissingRevenueDataPointAccepted","BasicStats","SPACE","ARROW_LEFT","ARROW_RIGHT","isAuth","uiSide","setLoop","allChannelsLoaded","advAnalyticsLoaded","missingRevenuePointsAccepted","setData1Active","setData2Active","setData3Active","setData4Active","goNext","updateAnalyticsPeriodPrevNextLive","goPrev","goLive","live","updateAccountAnalyticsThrottled","analyticsLoopCustom","syncAction","_syncAction","t0","abrupt","showRevenueInfo","updateIdSideAnalyticsChartTimeframe","BasicStats_DatePickerSwitch","updateIdSideAnalyticsChartPeriod","disableFuture","maxDateMessage","strictCompareDates","DashboardStats_StatsCard","Mouse","esm_MonetizationOn","Equalizer","BasicStats_ImpressionsAlert","simplified_SimpleStatistics","CampaignStatsByTimeframe","_useItem","validateAndUpdateCampaign","dataLoaded","_item$status","updateMemoryUi","itemCommonNew_ItemTabsBar","itemCommonNew_ChangeControls","itemCommonNew_ItemTabsContainer","CampaignBasic_CampaignBasic","CampaignAudience_CampaignAudience","order","Tables_CampaignStatsBreakdownTable","campaigns_CampaignStatsDoughnut","map_MapChart","Tables_StatsByCountryTable","CampaignStatsByTimeframe_CampaignStatsByTimeframe","Receipt_Receipt","AdvertiserStats","imgProps","BestEarnersTable","_props$selector","_props$title","PublisherStats","Tables_BestEarnersTable","Unit","validateAndUpdateUnit","itemCommonNew_ItemDescription","itemCommonNew_ItemAdType","itemCommonNew_ItemTargetURL","PassbackEdit","updateSlotPasback","SlotAdvancedRules","_ref2$item","_ref2$activeFields","SlotEdits","mapCurrentToNewPassback","SlotBasic","_hookProps$validation","itemCommonNew_ItemFallbackMediaURL","SlotEdits_SlotEdits","SlotEdits_SlotAdvancedRules","itemCommonNew_ItemWebsite","ADVIEW_URL","adviewUrl","origin","protocol","host","AUTO_HIDE_STRING","integrationCode","alignSelf","IntegrationCode","_ref$slot","slot","tags","fallbackUnit","isEmailConfirmed","sizes","publisherAddr","whitelistedTokens","whitelistedType","randomize","marketSlot","encodeURIComponent","iframeStr","onCopy","addToast","copy","AlertTitle","Slot","validateAndUpdateSlot","SlotBasic_SlotBasic","IntegrationCode_IntegrationCode","updateAudienceInput","_useItem$item","Audience_TargetingRulesEdit","mapCurrentToNewAudience","list","inline","Websites","disableSticky","WarningSharp","ListItemSecondaryAction","WithdrawFromIdentity","amountToWithdraw","withdrawTo","_useSelector4","errAmount","errAddr","errFees","fees","updateNewTransaction","tx","WithdrawAnyTokenFromIdentity","tokenAddress","tokenDecimals","errTokenAddress","errTokenDecimals","IdentityPrivilegeLevel","PRIV_LEVELS_SRC","SeAddressPrivilege","setAddr","privLevel","warningAccepted","warningMsg","setAddrWarning","errPrivLvl","SetAccountENSPage","username","errUsername","IdentityWithdrawPreview","feesData","toGet","SetPrivilegePreview","SetENSPreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreview","previewWarnMsgs","txId","waitingForWalletAction","_useSelector2$feesDat","_useSelector2$errors","classNameLeft","classNameRight","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","previews_SetENSPreview","FormStepsWithDialog","txCommon","resetNewTransaction","WithdrawTokenFromIdentity","saveBtnLabel","validateIdentityWithdraw","completeTx","identityWithdraw","SetIdentityPrivilege","validatePrivilegesChange","updateIdentityPrivilege","WithdrawAnyTokenFromIdentityPage","validateIdentityWithdrawAny","identityWithdrawAny","SetAccountENS","validateENSChange","setIdentityENS","VALIDATOR_LEADER_URL","VALIDATOR_LEADER_ID","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","AccountItem","actionBtn","advancedList","iconBtnLeft","AccountPrivilageItem","currUserPrivileges","canMakeTx","privileges","privColors","AccountInfo_AccountItem","VpnKey","Lock","transactions_SetIdentityPrivilege","identityAvailable","AccountInfo","_useSelector$authType","identityAddress","walletAddress","identityEnsName","expanded","setExpanded","transactions_SetAccountENS","AccountInfo_RRButton","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","heading","transactions_WithdrawAnyTokenFromIdentity","popupCenter","w","h","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","documentElement","clientWidth","screen","clientHeight","systemZoom","availWidth","newWindow","focus","copyBtn","userSelect","infoGrid","infoTitle","onRampProvidersDetails","accountId","dest","referenceId","destCurrency","openWyre","WYRE_LOGO","imgAlt","feeInfo","limitInfo","currencies","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","hostApiKey","domNodes","overlay","show","openOnRampNetwork","RAMP_LOGO","addr","rightSideLabel","openPayTrie","PAYTRIE_LOGO","TopUp","disableElevation","esm_FileCopy","pb","disableGutters","TopUp_OnRampListItem","TopUp_RRButton","OnRampListItem","getChangellyIframe","TopUpBtc","widgetIframeHtml","useColorlibStepIconStyles","transition","completed","star","ColorlibConnector","DEFAULT_SIZE","line","backgroundSize","LINES_WIDTH","StepConnector","ColorlibStepIcon","backgroundImage","CheckCircle","createAdUnitTutorial","fundAccountTutorial","launchFirstCampaign","createAdSlot","placeAdSlot","mobile","stepper","instructions","expansionPanel","& .MuiExpansionPanelSummary-expandIcon","checkmark","getSteps","contentCompleted","EmailEddie","check","CreateEddie","tutorial","FundEddie","LaunchEddie","PlaceEddie","GettingStarted","stepsData","isGettingStartedHidden","setActiveStep","sideSteps","currentStep","indexOfFirstIncompleteStep","setGettingStartedExpanded","esm_ExpandMore","CheckCircleOutline","ExpansionPanelDetails","nextButton","KeyboardArrowRight","backButton","KeyboardArrowLeft","nonLinear","connector","StepButton","StepIconComponent","StepIconProps","Campaigns","NewItems_NewCampaignDialog","Add","Tables_CampaignsTable","AdUnits","AdSlots","NewItems_NewSlotDialog","Tables_AdSlotsTable","Audiences","Tables_AudiencesTable","Dashboard","mobileOpen","setMobileOpen","showTxPrivLevelWarning","_updateInitialData","loadAccountData","updateInitialData","stopAccountDataUpdate","resolveEnsAddress","updateNav","drawer","dashboard_SideNav","TopBar","Drawer","anchor","ModalProps","keepMounted","implementation","updatePrivilegesWarningAccepted","exact","Account","signinContainer","backgroundRepeat","backgroundPosition","require","buttons","adxVersion","adexLogoTop","logo","dialogPaper","noBg","backdrop","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","auth","getAllWallets","goTo","confirmLogout","toExecute","AuthSelect_RRButton","initIdentity","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","fontWeight","&:first-child","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","balanceEth","tokensBalances","balance","AddressSelect","addresses","waitingAction","actionWaitingLabel","selectLabel","signType","hdWalletAddrPath","addrData","hdWalletAddrIdx","AuthMetamask","_useSelector$wallet","installingMetamask","setInstallingMetamask","isOpera","opr","opera","navigator","userAgent","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","waitingAddrsData","CHECKING_METAMASK_AUTH","ethereumProvider","getEthereumProvider","setEth","onfocus","reload","tabBox","METAMASK_IMG","METAMASK_DL_IMG","metamaskLAbel","checkAuthMetamask","AuthTrezor","_useSelector$addresse","waitingTrezorAction","AUTH_WAITING_TREZOR_ACTION","AUTH_WAITING_ADDRESS_DATA","AuthCommon_AddressSelect","TREZOR_DL_IMG","connectTrezor","AuthMethod","method","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","knowFromSource","QuickInfo","sessionSpinner","CREATING_SESSION","walletMsgs","emailCheck","password","passwordCheck","tosCheck","knowFrom","moreInfo","updateIdentity","FulInfo","_identity$wallet","walletAddr","accessWarningCheck","QuickLogin","getIdentitiesForDropdown","ens","FullLogin","ownerIdentities","identityContractAddress","GETTING_OWNER_IDENTITIES","searchParams","updateOwnerIdentities","finalValidationQuick","validateQuickLogin","finalValidationStandard","validateStandardLogin","validateOwner","validateContractOwner","resetIdentity","RRSideBox","_ref$salePoints","salePoints","linkTitle","other","sideBox","point","SideSelect","BackdropProps","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","listStyle","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","esm_extends","ConnectedCreateQuickIdentity","JustDialog","validateQuickInfo","final","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","validateFullInfo","ConnectedRoot","PrivateRoute","handleLegacyWallet","migrateLegacyWallet","removeLegacyKey","ensureQuickWalletBackup","_checkMetamask","getMetamaskEthereum","metamaskChecks","getRelayerConfig","handleRedirectParams","handleSignupLink","metamaskNetworkCheck","updateRegistrationAllowed","updateEasterEggsAllowed","react_router_dom","Root_PrivateRoute","onBeforeLift","App","ThemeProvider","themeMUI","CssBaseline","useUtils_cfb96ac9","DateUtils","es","store","integration_react","persistor","esm","CacheBuster","App_Root","toast_Toast","confirm_Confirm","ReactDOM","components_App_App","getElementById","serviceWorker","ready","then","registration","unregister","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_GLOBAL_UI","UPDATE_UI_BY_IDENTITY","UPDATE_UI_BY_IDENTITY_AND_SIDE","UPDATE_MEMORY_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","RESET_ALL_NEW_TRANSACTIONS","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_ALL_BIDS","RESET_ALL_BIDS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","UPDATE_ADVANCED_ANALYTICS","RESET_ANALYTICS","UPDATE_CHANNELS_WITH_BALANCE_ALL","RESET_CHANNELS_WITH_BALANCE_ALL","UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE","RESET_CHANNELS_WITH_OUTSTANDING_BALANCE","UPDATE_DEMAND_ANALYTICS","UPDATE_SELECTED_ITEMS","UPDATE_RESOLVE_ENS_ADDRESS","UPDATE_ANALYTICS_PERIOD","UPDATE_PUBLISHER_RECEIPTS","RESET_SELECTED_ITEMS","UPDATE_ANALYTICS_LAST_CHECKED","UPDATE_TARGETING_ANALYTICS","isDemoMode","actions__WEBPACK_IMPORTED_MODULE_0__","services_store_data_campaigns__WEBPACK_IMPORTED_MODULE_1__","services_store_data_account__WEBPACK_IMPORTED_MODULE_2__","services_store_data_analytics__WEBPACK_IMPORTED_MODULE_3__","connected_react_router__WEBPACK_IMPORTED_MODULE_4__","skipRedirect","resetAccount","advancedAnalyticsLoop","campaignsLoop","statsLoop","resetAllItems","resetAllNewItems","resetAllBids","resetAnalytics","resetChannelsWithBalanceAll","resetChannelsWithOutstandingBalance","resetAllNewTransaction","_authType","getMediaSize","checkExactishAspect","video","videoWidth","videoHeight","getVideoSize","getImageSize","widthTarget","heightTarget","maxPercentTolerance","targetAspect","aspectDiff","abs","contracts","_build_Identity_json__WEBPACK_IMPORTED_MODULE_0__","_build_AdExCore_json__WEBPACK_IMPORTED_MODULE_1__","_build_Dai_json__WEBPACK_IMPORTED_MODULE_2__","_build_IdentityFactory_json__WEBPACK_IMPORTED_MODULE_3__","_abi_AdExENSManager_json__WEBPACK_IMPORTED_MODULE_4__","_abi_ReverseRegistrar_json__WEBPACK_IMPORTED_MODULE_5__","_abi_ERC20Token_json__WEBPACK_IMPORTED_MODULE_6__","Identity","abi","AdExENSManager","publicResolver","ReverseRegistrar","parentDomain","AdExCore","DAI","Dai","IdentityFactory","ERC20","ethers_utils__WEBPACK_IMPORTED_MODULE_0__","timestamp","noDateLabel","amountString","pretty","joinSymbol","substring","parts","number","decPlaces","pow","abbrev","round","string","adex_constants__WEBPACK_IMPORTED_MODULE_0__","ItemsConstants","ItemsTypes","AdTypesByValue","AdSizesByValue","Looper","_ref$loopName","loopName","stopOn","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","clearLoopTimeout","loopTimeout","syncData","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","makeStopCheck","startLoop","checkLoop","onSync","_x3","Error","analyticsLoop","Loop","updateAccountAnalytics","_syncAction3","_syncAction4","updateAccountAdvancedAnalytics","_MomentUtils","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","clone","isBetween","ammount","unit","hours","period","weeks","utcOffset","locale","localeData","_ref2$locale","dow","doy","defaultLocaleData","getLocaleDate","updateLocale","firstDayOfWeek","firstDayOfYear","hoursToRound","hoursMulti","getHours","nearestSix","setHours","getUTCOffset","setSeconds","isMoment","getTime","fillEmptyTime","prevAggr","defaultValue","fillAfterLast","interval","newAggr","getDiff","getUnix","prevAggrInInterval","lastWithValueTime","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","isNullValue","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","getTimePeriods","startCopy","addHours","getBorderPeriodStart","_ref4$next","addWeeks","TIME_INTERVALS","ms","since","intervalTimes","signin","passConfirm","publicKey","seedCheck","authenticated","plainObj","addUtmLink","currentItem","Website","web3Transactions","ethNetwork","networkId","gasData","market","QUICK_WALLET_BACKUP","UPLOADING_ACCOUNT_DATA","UPDATING_ACCOUNT_IDENTITY","UPDATING_TARGETING_DATA","crypto","getKeyHash","hash","createHash","digest","encrypt","iv","cipher","encr","encrypted","randomBytes","createCipheriv","Buffer","decrypt","textParts","encryptedText","decipher","decr","decrypted","shift","createDecipheriv","_x4","encryptLegacy","crypted","createCipher","_x5","_x6","decryptLegacy","dec","createDecipher","_x7","_x8","BID_STATES","ExchangeConstants","TIMEOUTS","SignatureModes","GETH","limit","GRANT","QUICK","SEED","ETHEREUM_NETWORKS","for","5","production","development","UTM_PARAMS","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_EVENT_TYPES","MOON_GRAVITY_ACCELERATION","MOON_TO_EARTH_WEIGHT","_WALLET_ACTIONS_MSGS","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","history__WEBPACK_IMPORTED_MODULE_0__","createHashHistory","listen","gtag","page_path","LOOP_TIMEOUT","updateUserCampaigns","accountStatsLoop","updateAccountStats","Anchor","externalIcon","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__","isExternal","getUrl","linkProps","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","rel","react__WEBPACK_IMPORTED_MODULE_4___default","_material_ui_core_esm_Link__WEBPACK_IMPORTED_MODULE_0__","_material_ui_icons_esm_OpenInNew__WEBPACK_IMPORTED_MODULE_1__","ExternalAnchor","getErrorMsg","updateSpinner","updateGlobalUi","category","updateInitialDataLoaded","loaded","updateUiByIdentity","updateIdentitySideUi","_ref$label","_ref$timeout","getGuid","toastId","_ref2$confirmLabel","_ref2$cancelLabel","_ref2$title","_ref2$text","_ref2$noCancel","noCancel","_ref2$noConfirm","noConfirm","changeLanguage","updateSelectedItems","updateSelectedCampaigns","refreshCacheAndReload","caches","notifyNewTOS","grant","accepted","periodStart","_getTimePeriods","_ref7$next","_ref7$live","_selectIdentitySideAn","isEthAddressERC20","provider","contract","_args","isEthAddress","getEthers","ethers","Contract","ERC20TokenABI","totalSupply","balanceOf","AddressZero","allowance","isConnectionLost","eth","race","getBlockNumber","passwordRegex","validPassword","getAddress","isEthAddressZero","isZero","validEthAddress","_ref$addr","nonZeroAddr","nonERC20","ethAddressZero","ethAddressERC20","freeAdExENS","_ref3$username","ensAddress","resolveName","code","handleRequesterErrorRes","res","textObj","_unused","statusText","requester","AdexNodeRequester","baseUrl","getAuthHeaders","authSignature","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","route","fetch","_ref4$route","_ref4$queryParams","queryParams","_ref4$method","_ref4$headers","headers","_ref4$authSig","userAddr","_ref4$noCache","authToken","noCache","qp","demo","getQuery","hdrs","Requester","processResponse","json","getOwnerIdentities","getIdentityData","getRelayerConfigData","executeTx","txnsRaw","signatures","channel","Content-Type","regAccount","bytecode","identityFactoryAddr","baseIdentityAddr","salt","routineAuthorizationsRaw","getQuickWallet","backupWallet","encryptedWallet","getEmail","campaignPut","schemas","validateAddress","updateValidationErrors","newErrors","resetValidationErrors","_ref4$err","_ref4$dirty","_ref4$removeAll","removeAll","handleAfterValidation","validateEmailCheck","validatePassword","_x9","validatePasswordCheck","_callee6","_context6","_x10","_x11","validateTOS","_callee7","_context7","_x12","_x13","validateENS","_callee8","_context8","_x14","validateWallet","_callee9","_context9","_x15","_x16","validateIdentityContractOwner","identityContractOwner","_callee10","_context10","_x17","_x18","validateKnowFrom","_callee11","_context11","_x19","_x20","validateMoreInfo","_callee12","_context12","_x21","_x22","validateAccessWarning","_callee13","_context13","_x23","_x24","validateCampaignUnits","_callee14","_context14","_x25","_x26","validateCampaignValidators","_callee15","_context15","feeNum","feeDen","feeAddr","_x27","_x28","validateAmounts","_ref24$maxDeposit","lt","lte","validateFees","feesAmountBN","amountToSpendBN","_ref25$errorMsg","errorMsg","_callee16","_selectAccountStatsRa","availableIdentityBalanceMainTokenRaw","_selectAccountStatsFo","availableIdentityBalanceMainTokenFormatted","amountNeeded","amountNeededFormatted","_context16","_x29","_x30","validateWithdrawAmount","_callee17","_context17","parseUnits","_x31","integerOnly","_callee18","_context18","_x32","_x33","validateCampaignAmount","_callee19","isValidNumber","deposit","isValidDeposit","isValidMin","_context19","_x34","_x35","getCampaignDatesValidation","_ref33$created","validateCampaignDates","_callee20","_context20","_x36","_x37","validateCampaignTitle","_ref37","_callee21","_context21","Joi","_x38","_x39","validateEthAddress","_ref38$nonZeroAddr","_ref38$nonERC","_callee22","_context22","_x40","_x41","validatePrivilegesAddress","_ref41$setAddr","_ref41$walletAddr","_callee23","isCurrentAddress","_context23","_x42","_x43","validatePrivLevel","_callee24","_context24","_x44","_x45","validateSchemaProp","schema","_callee25","_context25","_x46","validateEmail","validateNotExisting","_callee26","existing","_context26","_x47","locationAudienceInputError","publishersAudienceInputError","categoriesAudienceInputError","_ref51$apply","validateAudience","propName","_callee27","errArgs","_context27","_x48","validateMediaSize","mediaWidth","mediaHeight","dontThrow","getSession","signature","typedData","signerAddress","checkSession","skipErrToast","convertItemToJSON","itemToConvert","getAdUnits","postAdUnit","updateAdUnit","getAdSlots","postAdSlot","updateAdSlot","closeCampaignMarket","getCampaigns","statuses","byEarner","byCreator","cacheBrake","updateCampaign","verifyWebsite","websiteUrl","getUserAudiences","putAudience","audience","postAudience","genders","Genders","gender","PredefinedTags","tag","_id","custom","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","imageBlob","_ref3$imageName","imageName","formData","FormData","append","uploadImage","getAllItems","onDataUpdated","resUnits","resSlots","resAudiences","userSlots","userPassbackUnits","slotsWithUnits","slotWithUnitsRes","passbackUnits","passbacks","updateItems","updateItem","_ref7$action","_ref7$goToTableOnSucc","updatedItem","marketUpdate","t1","findSourceByTag","response","mediaURL","mediaSize","targets","t2","setCurrentItem","updateCurrentItem","newMeta","addNewTag","addSig","sig","expiryTime","_ref$identity","getSig","_ref2$addr","_ref2$identity","sigAndTIme","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","getAddsParams","_ref$from","_ref$to","bundle","showOnTrezor","getAddresses","_ref3$from","_ref3$to","payload","ethereumGetAddress","signTx","txProps","txSigned","resolveProperties","hexlify","ethereumSignTransaction","transaction","serializeTransaction","sendTransaction","txData","signMessage","_args4","ethereumSignMessage","hex","_provider","_path","Signer","LocalSigner","getWallet","_this$_opts","walletData","_wallet","_opts","getLocalWallet","Wallet","privateKey","signetTx","sign","_args5","arrayify","MetaMaskSigner","_signer","_args3","t3","getSigner","_getSigner","signer","_signer2","getTypedDataHash","entry","toUtf8Bytes","valuesHash","keccak256","schemaHash","solidityKeccak256","getAuthSig","_getAuthSig","random","MAX_SAFE_INTEGER","_signTx","Transaction","hashHex","splitSig","getMultipleTxSignatures","_getMultipleTxSignatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","getValidatorRequester","getRequesters","validator","getValidatorAuthToken","validatorId","existingAuth","validatorAuthTokens","era","ewt","sendMessage","_authTokens","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","authorization","results","authTokens","lastApprovedState","events","updateTargeting","identityAnalytics","leaderAuth","segmentByChannel","aggregates","identityAdvancedAnalytics","timeBasedAnalytics","privilegesNames","valueToKey","tokenAvailableBalance","feeToken","getTotalAccountRevenue","withdrawTokens","revenuePr","balanceMainToken","minFinal","tokenInMainTokenValue","getWithdrawTokensBalances","getFullBalances","getToken","_selectRelayerConfig","balancesCalls","balances","_balances$reduce","totalBalanceInMainToken","mainTokenBalance","tokenContract","available","balanceData","getAddressBalances","_getAddressBalances","calls","getBalance","serializedPath","formatEther","getAccountStats","_getAccountStats","_ref11$outstandingBal","outstandingBalanceMainToken","getIdentity","_identity$status","identityContract","privilegesAction","_ref22$","identityWithdrawTokensBalancesBalances","walletPrivileges","deployed","catch","totalOutstandingBalanceMainToken","totalIdentityBalanceMainToken","walletAuthType","getOutstandingBalance","_getOutstandingBalance","withBalance","bigZero","allOutstanding","amounts","ch","outstanding","outstandingAvailable","getAllValidatorsAuthForIdentity","_getAllValidatorsAuthForIdentity","allValidators","tokenCalls","allTokens","validatorsAuth","saiDaiConversion","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","_tokenInMainTokenValue","_selectMainToken2","valueInMainToken","Interface","ScdMcdMigration","ScdMcdMigrationABI","AdExENSManagerInterface","ReverseRegistrarInterface","SCD_MCD_MIGRATION_ADDR","getIdentityDeployData","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","coreAddr","outpace","validUntil","feeTokenAddr","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","withdrawFromIdentity","_withdrawFromIdentity","getFeesOnly","tokenAddr","toWithdraw","withdrawTx","txnsByFeeToken","mtBalance","maxWithdraw","actualWithdrawAmount","functions","transfer","encode","getIdentityTxnsWithNoncesAndFees","amountInMainTokenNeeded","getIdentityTxnsTotalFees","totalBN","sub","processExecuteByFeeTokens","setIdentityPrivilege","_setIdentityPrivilege","MainToken","identityInterface","tx1","setAddrPrivilege","txnsByTokenWithSaiToDaiSwap","daiAddr","_txns$reduce","withdrawAmountByToken","saiWithdrawAmount","addIdentityENS","_addIdentityENS","_ref5$username","tx2","_selectRelayerConfig2","registerAndSetup","setName","_getIdentityTxnsWithNoncesAndFees","_ref6$amountInMainTok","_ref6$txns","saiToken","_selectRelayerConfig3","mainTokenWithFees","isDeployed","initialNonce","feesForMainTxns","totalAmountInMainTokenNeeded","_ref17$sweepTxns","sweepTxns","_ref17$swapAmountsByT","swapAmountsByToken","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","nonce","toNumber","minRecommended","minDeploy","getSweepingTxnsIfNeeded","t4","swapSaiToDaiTxns","swapAmount","t5","t6","_tx$routinesSweepTxCo","routinesSweepTxCount","_tx$extraTxFeesCount","extraTxFeesCount","isSweepTx","txFeeAmount","minFeeAmount","sweepRoutinesFeeAmount","extraFeesAmount","feeAmount","nonIdentityBalanceFeeAmount","txWithNonce","getApproveTxns","_getApproveTxns","approveForAddress","approveAmount","approveTxns","approve","swapTx","swapSaiToDai","_getIdentityTxnsTotalFees","_ref9$mainToken","byToken","byFeeToken","_feeTokenWhitelist$ke","fee","feeFormatted","_processExecuteByFeeTokens","_ref10$extraData","withdrawOtherTokensFromIdentity","_withdrawOtherTokensFromIdentity","_selectRelayerConfig4","Core","IdentityInterface","IdentityABI","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","OUTSTANDING_STATUSES","Active","Ready","Exhausted","Offline","Unhealthy","Withdraw","EXTRA_PROCESS_TIME","toEthereumChannel","specHash","Channel","tokenAmount","userInputToTokenValue","input","_ref$divider","div","getReadyCampaign","newCampaign","getValidUntil","eventSubmission","allow","uids","rateLimit","getWithdrawnPerUserOutstanding","withdrawnPerUser","getChannelsWithOutstanding","_getChannelsWithOutstanding","allChannels","lastApprovedBalances","lastApprovedSigs","validBalances","_e","_channel$status","bTree","BalanceTree","balanceNum","minPlatform","getChannelsToSweepFrom","amountToSweep","_ref5$withBalance","_withBalance$sort$red","eligible","c1","c2","sum","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","routineAuthTuple","routineOpts","RoutineOps","channelWithdraw","executeRoutines","getIdentityRoutineAuthTuple","is41identity","hasValidExecuteRoutines","getSweepChannelsTxns","_getSweepChannelsTxns","channelsToSweep","encodedTxns","toSolidityTuple","getSwapAmountsByToken","swaps","swapsSumInMainToken","swapsByToken","_getSweepingTxnsIfNeeded","needed","_account$stats$raw$id","currentBalanceInUse","sweepData","_getSwapAmountsByToke","amountToSwapInMainToken","openChannel","_openChannel","getMaxFees","readyCampaign","openReady","ethChannel","hasIdentityChannelOpen","identityChannelOpenTx","channelOpenTx","maxAvailable","maxAvailableFormatted","storeCampaign","channelOpen","closeChannel","_closeChannel","getUnitsStatsByType","_getUnitsStatsByType","unitsByType","unitsByTypeStats","prevStats","channelsByType","totalPerImpression","avgPerImpression","statsByType","analyticsParams","callsParams","analyticsCampaignsParams","aggrByChannelsSegments","feeTokens","_aggr$sort$reduce","aggregations","_withdrawTokens$depos","minBalance","currentAggr","currentChannelValue","hasMinBalance","currentTimeValue","feeSubtracted","currentAvailable","currentAdded","points","curInnerAggr","throttle","accountChanged","timeframeIsLive","allAnalytics","updateAnalyticsLastChecked","updateValidatorAuthTokens","newAuth","_selectStatsChartData","aggrByChannelSegments","isAccountChanged","leading","trailing","presentMonths","monthsWanted","monthsNeeded","promises","startDateNeeded","endDateNeeded","resolvedPromises","getMonthTimeStamp","month","log","updateSlotsDemand","demandAnalytics","updateTargetingData","updateTargetingDataThrottled","updateSignin","resetSignin","createAccount","updateAccount","updateChannelsWithBalanceAll","updateChannelsWithOutstandingBalance","hasAuth","accountCheck","updateAccountIdentityData","updatedIdentity","isLimitedVolume","newIdentity","newTokens","createSession","_ref8$identity","deleteLegacyKey","newWallet","sessionSignature","leaderValidatorAuth","cfg","isMetamaskMatters","doesItMatter","onMetamaskNetworkChange","onMetamaskAccountChange","accountAddress","_account$wallet","_account$wallet$addre","metamaskAccountCheck","mmEthereum","selectedAddress","enable","ethereumNetworkId","ethereum","on","accounts","network","hasBackup","generateSalt","getWalletHash","makeBackup","walletSalt","walletHash","getRecoveryWalletData","_selectWallet","isLocal","updateWallet","resetWallet","onUploadLocalWallet","reader","onError","files","FileReader","obj","abort","readAsText","identityData","lookupAddress","login","_selectIdentity","identityTxData","registerAccount","actualAuthType","walletInfo","identityPrivileges","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","validateQuickDeploy","_identityAddr","createLocalWallet","addDataToWallet","dataKey","dataValue","updateIdentityWallet","chainId","metamaskSigner","trezorSigner","allAddressesData","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","getGasPrice","gasPrice","gasPriceCapGwei","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","_selectNewTransaction","inputValidations","validation","_selectNewTransaction2","_selectNewTransaction3","_selectNewTransaction4","getErrMsg","updateNewItem","updateNewItemAction","Models","itemClassByName","updateNewItemTarget","_ref7$target","remove","_newValues","_selectNewItemByTypeA","hasIndex","isInteger","_ref9$target","isAudience","newInputs","audiencePost","audiencePut","validateAndUpdateAudience","updatedAudience","newAudience","resItem","marketAdd","_selectNewAudience","_selectNewAudience$in","addUrlUtmTracking","audienceInputToTargetingRules","getSuggestedPricingBounds","updateCampaignOnMarket","toastLabel","toastArgs","toastType","updatedCampaign","selectedCampaign","updateCampaignState","getHumanFriendlyName","initialAudienceInput","itemAudienceInput","_selectAccount","currentTargetingRules","newRules","unshift","newAudienceInput","_newAudienceInput$inp","_inputs$publishers","newIn","_newIn","newNin","_newNin","_newNin2","roastArgs","tempValidators","_selectNewCampaign","_selectNewCampaign$au","pricingBoundsInTokenValue","_campaign$temp2","totalSpend","isAudienceUpdated","_selectMainToken3","_state","numStringCPMtoImpression","numStr","getImgObjectUrlFromExternalUrl","imgUrl","adSlotPost","adUnitPost","adSlotPut","slotRulesInputToTargetingRules","getFallbackUnit","imageIpfs","resUnit","passback","_slot$minPerImpressio","_selectNewItemByTypeA2","isDirty","onValidProp","_selectNewItemByTypeA3","newSlot","updateMinPerImpression","updateRules","isPassbackUpdated","fallbackData","newUnit","finalValidations","updatedSlot","adUnitPut","_selectNewAdUnit","_selectNewAdUnit2","_selectNewAdUnit2$tem","updatedUnit","uiActions","validationActions","mediaValidations","itemActions","accountActions","identityActions","bidActions","transactionActions","analyticsActions","newItemsActions","audienceActions","campaignActions","slotActions","unitActions","setLogLevel","getEthersResult","adexCore","getAdexCore","standard","getMainToken","identityFactory","getIdentityFactory","localWeb3","providers","JsonRpcProvider","loadInjectedWeb3","web3","injectedWeb3","Web3Provider","getLocalWeb3","networkVersion","isMetaMask","updateCfg","newCfg","persistReducers","newState","filterActions","newCollection","collectionId","Item","addItem","toAdd","newCol","removeCollectionProp","toRemove","newItems","currentItems","newLang","setLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","pTxs","updateObj","txHash","memoryReducers","newSignin","newToast","added","hasOwnProperty","updateTx","reduxRouterMiddleware","routerMiddleware","persistConfig","storage","rootReducer","combineReducers","persistCombineReducers","connectRouter","configureStore","middlewares","thunk","createStore","compose","applyMiddleware","persistStore","store_store","store_persistor","light","lightest","accentOne","accentTwo","lime","contrastThreshold","tonalOffset","disabledBackground","defaultTheme","createMuiTheme","overrides","MuiButton","outlined","contained","@media (hover: none)","&$focusVisible","&:active","MuiTableCell","head","MuiPaper","rounded","MuiTooltip","MuiSelect","MuiInputLabel","MuiOutlinedInput","MuiAlert","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","MuiTableFooter","MuiAppBar","colorDefault","MUIDataTablePagination","MUIDataTableFilter","MuiGridListTile","MUIDataTableBodyCell","stackedCommon","MUIDataTable","MUIDataTableBody","emptyTitle","responsiveFontSizes","factor","translations_translate","translations","adexTranslations","_ref$toUpperCase","translation","tpl","pattern","RegExp","interpolated","isValidElement","interpolate","lng","HEADER","base64","alg","payloadEncoded","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","verifyMessage","decode","Module","alpha","hexToDec","g","stack","isInt","int","shuffleArray","array","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","derivedKey","getCipherKey","isLegacyCrypto","getRandomMnemonic","randomEntropy","HDNode","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","fromMnemonic","encrKey","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","decrData","_decrData","_ref4$email","decryptedStr","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getEncrypted","_removeLegacyKey","_ref7$email","_ref7$password","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","_ref8$dataValue","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","mail","isWallet","_getWalletHash","passwordId","dataStr","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","selectors__WEBPACK_IMPORTED_MODULE_2__","_package_json__WEBPACK_IMPORTED_MODULE_3__","actions__WEBPACK_IMPORTED_MODULE_4__","semverGreaterThan","versionA","versionB","versionsA","versionsB","isNaN","cache","latestVersion","latestTOS","currentVersion","currentTOS","tosVersion"],"mappings":"sHAIaA,EAA0BC,YACtCC,IACAC,KAGYC,EAAqCH,YACjDC,IACA,eAACG,EAADC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAK,GAAIG,EAATH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAa,GAAb,OAAoBD,EAAEE,SAAWE,EAAEF,wBCPvBG,EAAsB,SAAAC,GAClC,OAAQA,GAASC,eAAYC,QAAQC,OAAOC,SAoBhCC,EAA0BC,YACtC,CAACP,GACD,SAAAQ,GACC,OAD0BA,EAAxBC,kBACuBC,OAAO,SAACC,EAAKC,GACrC,IAAMC,EAAMC,OAAAC,EAAA,EAAAD,CAAA,GAAQH,GAGpB,OAFAE,EAAOD,EAAEI,SAAWJ,EAEbC,GACL,MAIQI,EAA8BV,YAC1C,CAACP,GACD,SAAAkB,GACC,OAD8BA,EAA5BC,sBAC2BT,OAAO,SAACC,EAAKC,GACzC,IAAMC,EAAMC,OAAAC,EAAA,EAAAD,CAAA,GAAQH,GAGpB,OAFAE,EAAOD,EAAEI,SAAWJ,EAEbC,GACL,MAIQO,EAAuCb,YACnD,CAACP,GACD,SAAAqB,GACC,OAD8BA,EAA5BF,sBAC2BG,IAAI,SAAAV,GAAC,OAAIA,EAAEI,YAY7BO,GARehB,YAC3B,CAACP,GACD,SAAAwB,GAEC,OADSV,OAAAC,EAAA,EAAAD,CAAA,GAAQU,KAKYjB,YAC9B,CAACP,GACD,SAAAyB,GAAA,OAAAA,EAAGC,WAA6B,MAGpBC,EAA6BpB,YACzC,CAACP,GACD,SAAA4B,GAAA,OAAAA,EAAGC,uBAGSC,EAAoBvB,YAChC,CAACP,GACD,SAAA+B,GAAA,OAAAA,EAAGC,cAGSC,EAAiB1B,YAC7B,CAACP,EAAqBiB,GACtB,SAAAiB,EAAcf,GAAd,OAAwCA,EAAxCe,EAAGC,WAGSC,EAAqB7B,YACjC,CAACP,EAAqBM,GACtB,SAAA+B,EAAgB5B,GACf,OAAOA,EAD8B4B,EAAnCX,UACiCV,mBCpFxBsB,EAAgB,SAAArC,GAAK,OAAIA,EAAME,QAAQoC,SAAW,IAClDC,EAAiB,SAAAvC,GAAK,OAAIA,EAAMwC,OAAOC,UAEvCC,EAAapC,YACzB+B,EACA,SAAA9B,GAAA,IAAGoC,EAAHpC,EAAGoC,OAAQC,EAAXrC,EAAWqC,SAAX,QACGD,KACAA,EAAO5B,WACP4B,EAAOE,WACPF,EAAOG,YACPF,EAAS7B,UAGAgC,EAAe1D,EAC3BgD,EACA,SAAApB,GAAA,OAAAA,EAAG0B,QAAuB,KAGdK,EAAc1C,YAC1B+B,EACA,SAAAjB,GAAA,OAAAA,EAAG6B,QAQSC,GALsB5C,YAClC0C,EACA,SAAAC,GAAK,OAAOA,EAAQA,EAAME,MAAM,KAAK,GAAK,OAGd7C,YAC5ByC,EACA,SAAAvB,GAAA,OAAAA,EAAGqB,WAGSO,EAAsB9C,YAClCyC,EACA,SAAApB,GAAA,OAAAA,EAAGZ,UAGSsC,EAAiB/C,YAC7ByC,EACA,SAAAjB,GAAA,OAAAA,EAAGgB,WAGSQ,EAAwBhD,YACpC+B,EACA,SAAAJ,GAAA,OAAAA,EAAGW,UAA2B,KAGlBW,EAA4BjD,YACxCgD,EACA,SAAAlB,GAAA,OAAAA,EAAGrB,UAGSyC,EAAqBlD,YACjC+B,EACA,SAAAoB,GAAA,OAAAA,EAAGC,OAAqB,KAQZC,GALwBrD,YACpC+B,EACA,SAAAuB,GAAA,OAAAA,EAAGC,UAA2B,KAGMvD,YACpCkD,EACA,SAAAM,GAAA,OAAAA,EAAGC,KAAiB,MAGRC,EAA8B1D,YAC1CkD,EACA,SAAAS,GAAA,OAAAA,EAAGC,WAA6B,KAapBC,GAVwC7D,YACpDgD,EACA,SAAAc,GAAA,IAAGC,EAAHD,EAAGC,YAAH,OACCA,GACAA,EAAYC,2BACZD,EAAYC,0BAA0B,GACnCD,EAAYC,0BAA0B,GACtC,OAG0ChE,YAC9CgD,EACA,SAAAiB,GAAA,IAAAC,EAAAD,EAAGF,YAAH,gBAAAG,EAAiB,GAAjBA,GAAsCC,YAAc,MAGxCC,EAAyCpE,YACrDiC,EACA,SAAAoC,GAAA,IAAGC,EAAHD,EAAGC,uBAAH,OAAA/D,OAAAgE,EAAA,EAAAhE,CAAqC+D,GAA0B,MAGnDE,EAAoCxE,YAChDiC,EACA,SAAAwC,GAAA,IAAGC,EAAHD,EAAGC,eAAH,OAAAnE,OAAAC,EAAA,EAAAD,CAAA,GAA+BmE,GAAkB,MAGrCC,EAAyC3E,YACrDgD,EACA,SAAA4B,GAAA,IAAAC,EAAAD,EAAGb,YAAH,OAAAc,OAAA,IAAAA,EAAwC,GAAxCA,GAAkBC,mBAAoD,KAG1DC,EAAyB/E,YACrC,CAAC2E,EAAwC7B,GACzC,kBAAAzD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAc,IAAdA,UAAAC,OAAA,EAAAD,UAAA,QAAAE,IAAqD,IC1GzCyF,EAAiB,SAAAtF,GAAK,OAAIA,EAAMwC,OAAOI,UAIvC2C,EAAyBjF,YACrC,CAHiC,SAAAN,GAAK,OAAIA,EAAME,QAAQsF,cAGnC,SAACC,EAAG1E,GAAJ,OAAgBA,IACrC,SAACyE,EAAczE,GAAf,OAA2ByE,EAAazE,IAAY,aCAxC2E,EAAa,SAAA1F,GAAK,OAAIA,EAAMwC,OAAOmD,IAAIC,MACvCC,EAAiB,SAAA7F,GAAK,OAAIA,EAAMwC,OAAOsD,UACvCC,EAAiB,SAAA/F,GAAK,OAAIA,EAAME,QAAQ8F,GAAGC,QAG3CC,EAAgB,SAAAlG,GAAK,OAAIA,EAAMwC,OAAO2D,SAEtCC,EAAiB,SAAApG,GAAK,OAAIA,EAAMwC,OAAO6D,UAEvCC,EAAmBhG,YAC/B,CAACiD,EAPgC,SAAAvD,GAAK,OAAIA,EAAME,QAAQ8F,GAAGO,aAQ3D,SAACC,EAAcC,GAAf,OAAgCA,EAAaD,IAAiB,KAGlDE,EAAuBpG,YACnC,CAACgG,EAAkBZ,GACnB,SAACiB,EAAYf,GAAb,OAAsBe,EAAWf,IAAS,KAG9BgB,EAAoBtG,YAChC,CAACgG,GACD,SAAA/F,GAAA,OAAAA,EAAGsG,aAAiC,KAGxBC,EAAoBxG,YAChC,CAAC8F,EAAgB,SAACX,EAAGsB,GAAJ,OAAWA,IAC5B,SAACV,EAAUU,GAAX,OAAkBV,EAASU,KAQfC,GAL8B1G,YAC1C,CAAC8F,EAAgB,SAACX,EAAGwB,GAAJ,OAAYA,IAC7B,SAACZ,EAAUY,GAAX,OAAmBA,EAAI5F,IAAI,SAAA0F,GAAE,OAAIV,EAASU,OAGFzG,YACxCyF,EACA,SAAA9E,KAAGiG,kBAAH,OAvCyBC,KA0CbC,EAA0B9G,YACtCyF,EACA,SAAA3E,GAAA,OAAAA,EAAGiG,kBAGSC,EAAkChH,YAC9CgG,EACA,SAAA9E,GAAA,QAAAA,EAAG+F,4BAGSC,EAAyClH,YACrDgG,EACA,SAAA3E,GAAA,QAAAA,EAAG8F,mCAGSC,GAAuBpH,YACnC,CAACgG,EAAkBZ,GACnB,SAACM,EAAIJ,GAAL,OAAcI,EAAGJ,IAAS,KAGd+B,GAA2BrH,YACvC,CAACoH,IACD,SAAA5F,GAAA,OAAAA,EAAG8F,qBAGSC,GAA+BvH,YAC3CgG,EACA,SAAArE,GAAA,IAAG6F,EAAH7F,EAAG6F,uBAAH,YAE4BjI,IAA3BiI,KAAgDA,IAGrCC,GAA0BzH,YAnEJ,SAAAN,GAAK,OAAIA,EAAMwC,OAAOwF,eAqExD,SAAA5F,GAAA,OAAAA,EAAG6F,WAA6B,KAGpBC,GAAwB5H,YACpCyF,EACA,SAAAtC,GAAA,OAAAA,EAAG0E,UAA2B,KAGlBC,GAAgC9H,YAC5C,CAACuF,EAAgB,SAACJ,EAAG4C,GAAJ,OAAiBA,IAClC,SAAAzE,EAAwByE,GAAxB,IAAGC,EAAH1E,EAAG0E,kBAAH,OACuB,IAAtBA,GAC8B,kBAAtBA,GAAkCA,EAAkBD,KAEjDE,GAA0BjI,YACtCuF,EACA,SAAA/B,GAAA,IAAA0E,EAAA1E,EAAGwE,yBAAH,IAAAE,KAAA,OACuB,IAAtBF,GAC8B,kBAAtBA,GACP,CACC,sBACA,WACA,QACA,YACA,qBACCG,MAAM,SAAAC,GAAI,QAAMJ,EAAkBI,OAG1BC,GAA0BrI,YACtCuF,EACA,SAAA5B,GAAA,OAAAA,EAAG2E,aAGSC,GAA0BvI,YACtC,CAACoF,EAAYiD,IACb,SAAC/C,EAAMgD,GAAP,OAAuBA,IAA0BhD,EAAI,OAAAkD,OAAUlD,GAAS,MAG5DmD,GAAuCzI,YACnD,CAACoG,GACD,eAAAsC,GAAArJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAsC,IAAnCsJ,uBAAH,gBAAAD,EAA4B,MAA5BA,IAGYE,GAAoC5I,YAChD,CAACoG,GACD,eAAAyC,GAAAxJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAKI,IAJHyJ,oBADD,gBAAAD,EACuB,CACrBE,OAAQC,IAAUC,WAAWD,IAAUE,QACvCC,KAAMH,IAAUI,SAASJ,IAAUE,SAHrCL,aC1HYQ,GAAa,SAAA3J,GAAK,OAAIA,EAAME,QAAQ0J,UAEpCC,GAAqBvJ,YACjC,CACCqJ,GACA,SAAClE,EAAGqE,GACH,MAAO,CAAEA,MAAKC,KADQpK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,MAIjB,SAACqK,EAADzJ,GAAyB,IAAhBuJ,EAAgBvJ,EAAhBuJ,IAAKC,EAAWxJ,EAAXwJ,KAAWE,EACiCF,EAAjDG,cADgB,IAAAD,KAAAE,EACiCJ,EAAjCK,YADA,IAAAD,EACO,CAAC,IADRA,EAAAE,EACiCN,EAApBO,kBADb,IAAAD,EAC0B,GAD1BA,EAExB,OAAOE,aAAUT,EAAK,CAAEI,SAAQE,OAAME,cAAcN,KAOzCrJ,GAAI,SAACmJ,EAAKC,GACtB,OAAOF,GAAmB5J,cAAY6J,EAAKC,yBCpB/BS,GAAc,SAAAxK,GAAK,OAAIA,EAAME,QAAQuK,OAErCC,GAAoBpK,YAChC,CAACkK,GAAa,SAAC/E,EAAGkF,GAAJ,OAAiBA,IAC/B,SAACF,EAAOE,GAAR,OAAqBF,EAAME,IAAa,KAG5BC,GAAwBtK,YACpC,CAACkK,GAAa,SAAC/E,EAAGkF,EAAU5D,GAAd,MAAsB,CAAE4D,WAAU5D,QAChD,SAAC0D,EAADlK,GAAA,IAAUoK,EAAVpK,EAAUoK,SAAU5D,EAApBxG,EAAoBwG,GAApB,OAA8B0D,EAAME,IAAa,IAAI5D,IAAO,KAGhD8D,GAAyBvK,YACrC,CAACoK,GAAmB,SAACjF,EAAGkF,GAAJ,OAAiBA,IACrC,eAACF,EAAD9K,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAS,GAAT,OAAgBkB,OAAOiK,OAAOL,KAGlBM,GAAkBzK,YAC9B,SAAAN,GAAK,OAAI0K,GAAkB1K,EAAO,aAClC,SAAAiI,GAAS,OAAIA,IAGD+C,GAAqB1K,YACjC,CAACyK,GAAiB,SAACtF,EAAGsB,GAAJ,OAAWA,IAC7B,SAACkB,EAAWlB,GAAZ,OAAmBkB,EAAUlB,KAGjBkE,GAA0B3K,YACtC,CAAC0K,GAAoB,SAACvF,EAAGsB,GAAJ,OAAWA,IAChC,kBAAApH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAe,IAAZuL,SAA8B,KAGrBC,GAAkC7K,YAC9C,CAACyK,GAAiB,SAACtF,EAAGsB,GAAJ,OAAWA,IAC7B,SAACkB,EAAWlB,GACX,IAAMqE,EAAQvK,OAAAC,EAAA,EAAAD,CAAA,GAASoH,EAAUlB,IAAO,IAGxC,OAFAqE,EAASC,OAASC,GAA0B,QAASvE,GACrDqE,EAASG,YAAcD,GAA0B,aAAcvE,GACxDqE,IAIII,GAAuBlL,YACnC,SAAAN,GAAK,OAAI6K,GAAuB7K,EAAO,aACvC,SAAAiI,GAAS,OAAIA,IAGDwD,GAAgBnL,YAC5B,SAAAN,GAAK,OAAI0K,GAAkB1K,EAAO,WAClC,SAAAkL,GAAO,OAAIA,IAGCQ,GAAmBpL,YAC/B,CAACmL,GAAe,SAAChG,EAAGsB,GAAJ,OAAWA,IAC3B,SAAC0D,EAAO1D,GAAR,OAAe0D,EAAM1D,KAGT4E,GAAqBrL,YACjC,SAAAN,GAAK,OAAI6K,GAAuB7K,EAAO,WACvC,SAAAkL,GAAO,OAAIA,IAGCU,GAAgBtL,YAC5B,SAAAN,GAAK,OAAI0K,GAAkB1K,EAAO,WAClC,SAAA6L,GAAO,OAAIA,IAGCC,GAAqBxL,YACjC,SAAAN,GAAK,OAAI6K,GAAuB7K,EAAO,WACvC,SAAA6L,GAAO,OAAIA,IAGCE,GAAmBzL,YAC/B,CAACsL,GAAe,SAACnG,EAAGsB,GAAJ,OAAWA,IAC3B,SAAC0D,EAAO1D,GAAR,OAAe0D,EAAM1D,KAGTiF,GAAiB1L,YAC7B,SAAAN,GAAK,OAAI0K,GAAkB1K,EAAO,YAClC,SAAAiM,GAAQ,OAAIA,IAGAC,GAAsB5L,YAClC,SAAAN,GAAK,OAAI6K,GAAuB7K,EAAO,YACvC,SAAAiM,GAAQ,OAAIA,IAQAE,IALoB7L,YAChC,CAAC0L,GAAgB,SAACvG,EAAGsB,GAAJ,OAAWA,IAC5B,SAAC0D,EAAO1D,GAAR,OAAe0D,EAAM1D,KAGgBzG,YACrC,CAAC0L,GAAgB,SAACvG,EAAG2G,GAAJ,OAAWA,IAC5B,SAAC3B,EAAO2B,GAAR,OAAgBA,GAAK3B,EAAM4B,KAAIC,MAAMF,GAAIG,WAAkB,MAG/CC,GAAkBlM,YAC9B,SAAAN,GAAK,OAAI0K,GAAkB1K,EAAO,aAClC,SAAAyM,GAAS,OAAIA,IAGDC,GAAuBpM,YACnC,SAAAN,GAAK,OAAI6K,GAAuB7K,EAAO,aACvC,SAAAyM,GAAS,OAAIA,IAGDE,GAAqBrM,YACjC,CAACkM,GAAiB,SAAC/G,EAAGsB,GAAJ,OAAWA,IAC7B,SAAC0D,EAAO1D,GAAR,OAAe0D,EAAM1D,KAGT6F,GAA6BtM,YACzC,CAAC0K,GAAoB0B,GAAsB,SAACjH,EAAGsB,GAAJ,OAAWA,IACtD,SAACqE,EAAUX,EAAO1D,GAUjB,OARCqE,GACAA,EAASyB,eACTzB,EAASyB,cAAcC,SACtB1B,EAASyB,cAAcC,OAAOC,UAC9B3B,EAASyB,cAAcC,OAAOE,YAC9B5B,EAASyB,cAAcC,OAAOG,YAC9B7B,EAASyB,cAAcC,OAAOI,UAG7B9B,EAASyB,cACTpC,EAAM0C,KAAK,SAAAC,GAAC,OAAIA,GAAKA,EAAExE,aAAe7B,MAI9BsG,GAAuB/M,YACnC,CAACoM,IACD,SAAAjC,GAAK,OAAIA,EAAM6C,OAAO,SAAAF,GAAC,OAAIA,IAAMA,EAAExE,YAAcwE,EAAEG,4BC7HvCC,GAAiB,SAAAxN,GAAK,OAAIA,EAAMwC,OAAOiL,SAQvCC,IANsBpN,YAClC,CAACkN,GAAgB,SAAC/H,EAAGiD,GAAJ,OAAaA,IAC9B,SAAC+B,EAAO/B,GAAR,OAAiB+B,EAAM/B,KAIgBpI,YACvC,CAACkN,GAAgB,SAAC/H,EAAGiD,EAAMiF,GAAV,MAAsB,CAAEjF,OAAMiF,YAC/C,SAAClD,EAADlK,GAAA,IAAUmI,EAAVnI,EAAUmI,KAAMiF,EAAhBpN,EAAgBoN,OAAhB,OACEA,EAASlD,EAAMkD,GAAUlD,EAAM/B,KAAhC7H,OAAAC,EAAA,EAAAD,CAAA,GAA+C+M,KAAaH,QAAQ/E,OAGzDmF,GAAoBvN,YAChCkN,GACA,SAAAvM,GAAA,IAAG6M,EAAH7M,EAAG6M,SAAH,OAAkB,IAAIC,YAAcD,KAGxBE,GAAkB1N,YAC9BkN,GACA,SAAApM,GAAA,IAAG6M,EAAH7M,EAAG6M,OAAH,OAAgB,IAAIC,UAAYD,KAGpBE,GAAkB7N,YAC9BkN,GACA,SAAAhM,GAAA,IAAG4M,EAAH5M,EAAG4M,OAAH,OAAgB,IAAIC,UAAYD,KAGpBE,GAAoBhO,YAChCkN,GACA,SAAA7L,GAAA,IAAG4M,EAAH5M,EAAG4M,SAAH,OAAkB,IAAIC,YAAcD,gCC1BxBE,GAAkB,SAAAzO,GAAK,OAAIA,EAAMwC,OAAOkM,WACxCC,GAAkB,SAAA3O,GAAK,OAAIA,EAAME,QAAQ0O,WAWzCC,IAPsBvO,YAClC,CAACmO,GAAiB,SAAChJ,EAAGG,GAAJ,OAAaA,IAC/B,SAAC8I,EAAW9I,GACX,OAAO8I,EAAU9I,IAAS,KAIWtF,YACtC,CAACmO,IACD,SAAAC,GAAS,OAAIA,EAAUxB,UAAY,MAGvB4B,GAA6BxO,YACzCmO,GACA,SAAAlO,GACC,OADoBA,EAAlBwO,aACoBC,KAAKC,QAIhBC,GAA+B5O,YAC3C,CAACyI,GAAsC+F,IACvC,SAACK,EAAWJ,GACX,OAAQI,GACP,IAAK,OACJ,OAAQ7F,IAAUE,KAAKuF,GAAaK,QAAQ,QAC7C,IAAK,MACJ,OAAQ9F,IAAUE,KAAKuF,GAAaK,QAAQ,OAC7C,IAAK,OACJ,OAAQ9F,IACNE,KAAKuF,GACLK,QAAQ,QACRC,IAAI,GAAI,SACRC,MACAF,QAAQ,OACX,QACC,OAAQ9F,IAAUE,KAAKuF,GAAaK,QAAQ,WAUnCG,IAL0BjP,YACtC,CAACmO,IACD,SAAAxN,GAAA,OAAAA,EAAGgH,WAA6B,KAGI3H,YACpC,CAACmO,IACD,SAAArN,GAAA,OAAAA,EAAGoO,QAAuB,MAGdC,GAA8BnP,YAC1C,CAACiP,GAAuB,SAAC9J,EAAGiD,GAAJ,OAAaA,IACrC,SAAC8G,EAAQ9G,GAAT,OAAkB8G,EAAO9G,IAAS,KAGtBgH,GAA2BpP,YACvC,CAACqO,IACD,SAAAnN,GAAA,IAAAmO,EAAAnO,EAAGoO,cAAH,gBAAAD,EAAmB,GAAnBA,IAGYE,GAA0CvP,YACtD,CAACqO,IACD,SAAAhN,GAAA,IAAAmO,EAAAnO,EAAGoO,cAAH,gBAAAD,EAAmB,GAAnBA,IAGYE,GAAmD1P,YAC/D,CAACqO,IACD,SAAA7M,GAAA,IAAAmO,EAAAnO,EAAGoO,yBAAH,gBAAAD,EAA8B,GAA9BA,IAGYE,GAAyC7P,YACrD,CAACoP,IACD,SAAAU,GACC,IAAMC,EAAcD,EAAmB3P,OAAO,SAAC6P,EAAQlD,GAKtD,OAJAA,EAAEmD,MAAMC,QAAQ,SAAA7P,GACf2P,EAAO3P,IAAM2P,EAAO3P,IAAM,GAAK,IAGzB2P,GACL,IAEH,OAAOF,EACL9C,OACA,SAAAF,GAAC,QACEA,EAAEJ,YACJI,EAAEJ,WAAWpN,QACbwN,EAAEmD,OACFnD,EAAEmD,MAAM3Q,UACNwN,EAAEqD,sBAELpP,IAAI,SAAAV,GAAC,OAAAE,OAAAC,EAAA,EAAAD,CAAA,GACFF,EADE,CAEL4P,MAAO5P,EAAE4P,MAAMjD,OAAO,SAAAF,GAAC,OAAIiD,EAAYjD,IA9Fb,QAgG1BE,OAAO,SAAAF,GAAC,OAAIA,EAAEmD,MAAM3Q,WAIX8Q,GAA6CpQ,YACzD,CAACoN,IACD,SAAAiD,GACC,OAAOA,GAAQA,EAAKzF,QAAUyF,EAAKzF,QAAQ7J,IAAI,SAAAuP,GAAC,OAAIA,EAAElI,OAAQ,OAInDmI,GAAiCvQ,YAC7C,CACC6P,GACAO,IAED,SAACN,EAAoBG,GACpB,IAAMO,EAAeP,GAASA,EAAM3Q,OAEpC,OAAOwQ,EAAmB9C,OACzB,SAAAF,GAAC,OACC0D,GAAiBA,GAAgBP,EAAMQ,KAAK,SAAApQ,GAAC,OAAIyM,EAAEmD,MAAMS,SAASrQ,SA4E1DsQ,IAvEkC3Q,YAC9C,CAACuQ,IACD,SAAAjC,GAAS,OACRsC,MAAMC,KACLvC,EAAUnO,OAAO,SAACuM,EAAYI,GAE7B,OADAA,EAAEJ,WAAWwD,QAAQ,SAAAY,GAAC,OAAIpE,EAAWqC,IAAI+B,KAClCpE,GACL,IAAIqE,QAIqC/Q,YAC9C,CAACuQ,IACD,SAAAjC,GACC,OAAOsC,MAAMC,KACZvC,EACEnO,OAAO,SAACwM,EAADhL,GAA4D,IAA7CqP,EAA6CrP,EAA7CqP,MAAO/E,EAAsCtK,EAAtCsK,SAAUgF,EAA4BtP,EAA5BsP,UAAWvE,EAAiB/K,EAAjB+K,WAElD,OADAC,EAAWuE,IAAIjF,EAAU,CAAE+E,QAAO/E,WAAUgF,YAAWvE,eAChDC,GACL,IAAIwE,KACN3G,UACD4G,KAAK,SAAChS,EAAGI,GACV,OAAIJ,EAAE6R,YAAczR,EAAEyR,WACb,EACE7R,EAAE6R,WAAazR,EAAEyR,UACpB7R,EAAE6R,UAAYzR,EAAEyR,YACZ7R,EAAE6R,WAAazR,EAAEyR,UACrB,OAQ8BjR,YACxC,CAACoP,IACD,SAAAd,GAAS,OACRsC,MAAMC,KACLvC,EAAUnO,OAAO,SAACuM,EAAYI,GAE7B,OADAA,EAAEJ,WAAWwD,QAAQ,SAAAY,GAAC,OAAIpE,EAAWqC,IAAI+B,KAClCpE,GACL,IAAIqE,QAKkC/Q,YAC3C,CAACoP,IACD,SAAAd,GACC,OAAOsC,MAAMC,KACZvC,EACEnO,OAAO,SAACwM,EAAD7K,GAA4D,IAA7CkP,EAA6ClP,EAA7CkP,MAAO/E,EAAsCnK,EAAtCmK,SAAUgF,EAA4BnP,EAA5BmP,UAAWvE,EAAiB5K,EAAjB4K,WAElD,OADAC,EAAWuE,IAAIjF,EAAU,CAAE+E,QAAO/E,WAAUgF,YAAWvE,eAChDC,GACL,IAAIwE,KACN3G,UACD4G,KAAK,SAAChS,EAAGI,GACV,OAAIJ,EAAE6R,YAAczR,EAAEyR,UACd,EACG7R,EAAE6R,WAAazR,EAAEyR,UACpB7R,EAAE6R,UAAYzR,EAAEyR,YACZ7R,EAAE6R,WAAazR,EAAEyR,WACpB,OAQiCjR,YAC5C,CAACuO,GAAyB,SAACpJ,EAAGiD,GAAJ,OAAaA,IACvC,SAACiJ,EAAmBjJ,GAApB,OAA6BiJ,EAAkBjJ,IAAS,MAG5CkJ,GAA4BtR,YACxC,SAACN,EAADyD,GAAA,IAAUiF,EAAVjF,EAAUiF,KAAMmJ,EAAhBpO,EAAgBoO,SAAhB,MAA+B,CAC9BZ,GAA8BjR,EAAO0I,GACrC,CAAEmJ,cAEH,SAAAjO,GAAA,IAAAE,EAAAjD,OAAAiR,GAAA,EAAAjR,CAAA+C,EAAA,GAAEmO,EAAFjO,EAAA,GAAwB+N,EAAxB/N,EAAA,GAAwB+N,SAAxB,OACChR,OAAOiK,OAAOiH,EAAmBC,gBAAkB,IAAIvR,OACtD,SAACwR,EAAKC,GAAN,OAAeD,EAAMC,EAAKC,sBAAsBN,IAAa,GAC7D,KAIUO,GAA6B9R,YACzC,SAACN,EAAO0I,GAAR,OAAiBuI,GAA8BjR,EAAO0I,IACtD,SAAAzE,GAAA,OAAAA,EAAGoO,gBAAuC,KAE9BC,GAAgChS,YAC5C,SAACN,EAAO0I,GAAR,OAAiB0J,GAA2BpS,EAAO0I,IACnD,SAAAtE,GAAA,OAAAA,EAAGmO,0BAA2D,KAGlDC,GAAmClS,YAC/C,SAACN,EAAO0I,GAAR,OAAiB0J,GAA2BpS,EAAO0I,IACnD,SAAAnE,GAAA,OAAAA,EAAGkO,6BAAiE,KAGxDC,GAA6BpS,YACzC,SAACN,EAAO0I,GAAR,OAAiB0J,GAA2BpS,EAAO0I,IACnD,SAAA/D,GAAA,OAAAA,EAAGgO,yBAAyD,KAGhDC,GAAgCtS,YAC5C,SAACN,EAAO0I,GAAR,OAAiB0J,GAA2BpS,EAAO0I,IACnD,SAAA3D,GAAA,OAAAA,EAAG8N,4BAA+D,KAGtDC,GAA6BxS,YACzC,SAACN,EAAO0I,GAAR,OAAiB0J,GAA2BpS,EAAO0I,IACnD,SAAAxD,GAAA,OAAAA,EAAG6N,yBAAyD,KAGhDC,GAAgC1S,YAC5C,SAACN,EAAO0I,GAAR,OAAiB0J,GAA2BpS,EAAO0I,IACnD,SAAAuK,GAAA,OAAAA,EAAGC,4BAA+D,KAGtDC,GAAoC7S,YAChD,SAACN,EAAO0I,GAAR,OAAiB4J,GAA8BtS,EAAO0I,IACtD,eAAC0K,EAADzT,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAa,GAAb,MAAqB,CACpB0T,IAAKC,KAAKD,IAAIE,MAAM,KAAM1S,OAAOiK,OAAOsI,IACxCI,MAAO3S,OAAOiK,OAAOsI,GAAW3S,OAC/B,SAACf,EAAG+T,GAAJ,OAAc/T,GAAKgU,OAAOD,IAAU,IACpC,MAKUE,GAA6BrT,YACzC,SAAAN,GAAK,OAAI8E,EAAkC9E,IAC3C,SAAAgF,GAAc,OACbnE,OAAOiK,OAAO9F,GAAgBvE,OAAO,SAACmT,GAAiC,IAAAC,GAAAlU,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAjBuL,QAO9C,YAPsE,IAAA2I,EAAd,GAAcA,GAC9DrD,QAAQ,SAAAI,GACf,IAAM7J,EAAK6J,EAAE7J,IAAM6J,EAAEkD,KACjB/M,IAAO6M,EAAM7M,KAChB6M,EAAM7M,GAANlG,OAAAC,EAAA,EAAAD,CAAA,GAAiB+P,EAAjB,CAAoB7J,UAGf6M,GACL,MAGQG,GAAsCzT,YAClD,SAAAN,GAAK,MAAI,CACR2T,GAA2B3T,GAC3B0S,GAA2B1S,EAAO,cAClC0S,GAA2B1S,EAAO,SAClC4S,GAA8B5S,EAAO,cACrC4S,GAA8B5S,EAAO,WAEtC,SAAAgU,GAAA,IAAAC,EAAApT,OAAAiR,GAAA,EAAAjR,CAAAmT,EAAA,GACC9I,EADD+I,EAAA,GAECC,EAFDD,EAAA,GAGCE,EAHDF,EAAA,GAICG,EAJDH,EAAA,GAKCI,EALDJ,EAAA,UAOCpT,OAAOiK,OAAOI,GACZoC,OAAO,SAAAgH,GAAC,YAAkCzU,IAA9BqU,EAAoBI,EAAEvN,MAClC1F,IAAI,SAAAsP,GAAI,OAAA9P,OAAAC,EAAA,EAAAD,CAAA,GACL8P,EADK,CAERpF,YAAa2I,EAAoBvD,EAAK5J,IACtCsE,OAAQ8I,EAAexD,EAAK5J,IAC5BwN,eAAgBb,OAAOU,EAAuBzD,EAAK5J,KAAO,GAC1DyN,UAAWd,OAAOW,EAAkB1D,EAAK5J,KAAO,SAIvC0N,GAAsCnU,YAClD,SAAAN,GAAK,MAAI,CACR8S,GAA2B9S,EAAO,cAClC8S,GAA2B9S,EAAO,SAClCgT,GAA8BhT,EAAO,cACrCgT,GAA8BhT,EAAO,WAEtC,SAAA0U,GAAA,IAAAC,EAAA9T,OAAAiR,GAAA,EAAAjR,CAAA6T,EAAA,SAKO,CACNE,oBANDD,EAAA,GAOCE,eAPDF,EAAA,GAQCG,uBARDH,EAAA,GASCI,kBATDJ,EAAA,MAaYK,GAAkC1U,YAC9C,SAAAN,GAAK,OAAIoS,GAA2BpS,EAAO,eAC3C,SAAAiV,GAAiC,IAA9BtC,EAA8BsC,EAA9BtC,wBAQF,OAPyBA,EACtB9R,OAAOiK,OAAO6H,GAAyBlS,OACvC,SAACf,EAAG+T,GAAJ,OAAc/T,EAAIgU,OAAOD,IAAU,GACnC,GAEA,IAMQyB,GAAwC5U,YACpD,SAACN,GAAD,IAAAmV,EAAAxV,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA+B,GAArB+I,EAAVyM,EAAUzM,KAAME,EAAhBuM,EAAgBvM,WAAhB,MAAsC,CACrCqI,GAA8BjR,EAAO0I,GACrCE,IAED,SAAAwM,GAAA,IAAAC,EAAAxU,OAAAiR,GAAA,EAAAjR,CAAAuU,EAAA,GAAEE,EAAFD,EAAA,GAAmBzM,EAAnByM,EAAA,UACEC,EAAgBtD,gBAAkB,IAAIpJ,IAAe,KAG3C2M,GAA4CjV,YACxD,SAACN,GAAD,IAAAwV,EAAA7V,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA+B,GAArB+I,EAAV8M,EAAU9M,KAAME,EAAhB4M,EAAgB5M,WAAhB,OACCsM,GAAsClV,EAAO,CAAE0I,OAAME,gBACtD,SAAA6M,GAAA,OAAAA,EAAGC,wBAAuD,KAG9CC,GAA+CrV,YAC3D,SAACN,GAAD,IAAA4V,EAAAjW,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA+B,GAArB+I,EAAVkN,EAAUlN,KAAME,EAAhBgN,EAAgBhN,WAAhB,OACCsM,GAAsClV,EAAO,CAAE0I,OAAME,gBACtD,SAAAiN,GAAA,OAAAA,EAAGC,2BAA6D,KAGpDC,GAAmCzV,YAC/C,SAACN,GAAD,IAAAgW,EAAArW,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA+B,GAArB+I,EAAVsN,EAAUtN,KAAME,EAAhBoN,EAAgBpN,WAAhB,OACC2M,GAA0CvV,EAAO,CAAE0I,OAAME,gBAC1D,eAACwK,EAADzT,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAa,GAAb,MAAqB,CACpB0T,IAAKC,KAAKD,IAAIE,MAAM,KAAM1S,OAAOiK,OAAOsI,IACxCI,MAAO3S,OAAOiK,OAAOsI,GAAW3S,OAC/B,SAACf,EAAG+T,GAAJ,OAAc/T,GAAKgU,OAAOD,IAAU,IACpC,MAKUwC,GAA2C3V,YACvD,SAACN,GAAD,IAAAkW,EAAAvW,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA+B,GAArB+I,EAAVwN,EAAUxN,KAAME,EAAhBsN,EAAgBtN,WAAhB,OACCsM,GAAsClV,EAAO,CAAE0I,OAAME,gBAEtD,SAAAuN,GAAA,OAAAA,EAAGhE,uBAAqD,KAY5CiE,IAT+B9V,YAC3C,SAACN,GAAD,IAAAqW,EAAA1W,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA+B,GAArB+I,EAAV2N,EAAU3N,KAAME,EAAhByN,EAAgBzN,WAAhB,OACCsM,GAAsClV,EAAO,CAAE0I,OAAME,gBACtD,SAAA0N,GAAA,IAAGnE,EAAHmE,EAAGnE,sBAAH,OACCA,EACGmB,KAAKD,IAAIE,MAAM,KAAM1S,OAAOiK,OAAOqH,IACnC,IAGkC7R,YACtC,CACCmO,GACAvF,GACA,SAACzD,GAAD,OAAA9F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAW,IACXuP,IAED,WAKK,IAJJR,EAII/O,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAJQ,GACV0J,GAGE1J,UAAAC,OAAA,EAAAD,UAAA,QAAAE,GAHFwJ,MAGEkN,EAAA5W,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAFF+F,EAEE2Q,EAFF3Q,KAAM4Q,EAEJD,EAFIC,UAAWC,EAEfF,EAFeE,OAAQtH,EAEvBoH,EAFuBpH,UAC3BuH,EACI/W,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAA8W,EAgBAjI,EATF9I,GAPEgR,GAAAD,OAAA,IAAAA,EAeC,GAfDA,GAQDH,GARCK,GAAAD,OAAA,IAAAA,EAcE,GAdFA,GASAH,GATAK,GAAAD,OAAA,IAAAA,EAaG,GAbHA,GAUC1H,GAVD4H,GAAAD,OAAA,IAAAA,EAYI,GAZJA,GAWEJ,IAAkBrN,EAAQ,OAASA,GAOzC,OAlBI0N,OAAA,IAAAA,EAWwD,GAXxDA,GAW+CC,QAW9C,SAAS1L,GAA0B5C,EAAME,GAC/C,OAAO/H,OAAOiK,OAEbmL,GAAyChW,cAAY,CACpDyI,OACAE,gBAEAnI,OAAO,SAACf,EAAGI,GAAJ,OAAUJ,EAAII,GAAG,GAGpB,IAAMmX,GAAyB3W,YACrC,SAACN,GAAD,IAAAkX,EAAAvX,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBiG,EAAVsR,EAAUtR,KAAMuJ,EAAhB+H,EAAgB/H,UAAhB,OACCiH,GAAwBpW,EAAO,CAC9B4F,OACAuJ,YACAqH,UAAW,aACXC,OAAQ,iBAEV,SAAAU,GAAW,OACVA,EACGA,EAAY1W,OAAO,SAACf,EAAD0X,GAAA,IAAM3D,EAAN2D,EAAM3D,MAAN,OAAkB/T,EAAIgU,OAAOD,IAAU,GAAG,GAC7D,OAGQ4D,GAAoB/W,YAChC,SAACN,GAAD,IAAAsX,EAAA3X,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBiG,EAAV0R,EAAU1R,KAAMuJ,EAAhBmI,EAAgBnI,UAAhB,OACCiH,GAAwBpW,EAAO,CAC9B4F,OACAuJ,YACAqH,UAAW,QACXC,OAAQ,iBAEV,SAAAU,GAAW,OACVA,EACGA,EAAY1W,OAAO,SAACf,EAAD6X,GAAA,IAAM9D,EAAN8D,EAAM9D,MAAN,OAAkB/T,EAAIgU,OAAOD,IAAU,GAAG,GAC7D,OAGQ+D,GAAmBlX,YAC/B,SAACN,GAAD,IAAAyX,EAAA9X,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBiG,EAAV6R,EAAU7R,KAAMuJ,EAAhBsI,EAAgBtI,UAAhB,OACCiH,GAAwBpW,EAAO,CAC9B4F,OACAuJ,YACAqH,UAAW,aACXC,OAAQ,kBAEV,SAAAiB,GAAY,OACXA,EACGA,EAAajX,OACb,SAACf,EAADiY,GAAA,IAAMlE,EAANkE,EAAMlE,MAAN,OAAkB/T,EAAIgU,OAAOkE,aAAkBnE,GAAS,EAAG,MAAQ,GACnE,GAEA,OAGQoE,GAAoCvX,YAChD,SAACN,GAAD,IAAA8X,EAAAnY,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBiG,EAAVkS,EAAUlS,KAAMuJ,EAAhB2I,EAAgB3I,UAAhB,MAAqC,CACpCiH,GAAwBpW,EAAO,CAC9B4F,OACAuJ,YACAqH,UAAW,aACXC,OAAQ,gBAETL,GAAwBpW,EAAO,CAC9B4F,OACAuJ,YACAqH,UAAW,aACXC,OAAQ,mBAGV,SAAAsB,GAAA,IAAAC,EAAAnX,OAAAiR,GAAA,EAAAjR,CAAAkX,EAAA,GAAEZ,EAAFa,EAAA,GAAeN,EAAfM,EAAA,UACCb,GAAeO,EACZP,EACC7J,OACA,SAAA8D,GAAC,OAEY,QADXsG,EAAavK,KAAK,SAAA8K,GAAC,OAAIA,EAAEC,OAAS9G,EAAE8G,QAAS,CAAEzE,MAAO,OACrDA,QAEHhT,OAAO,SAACf,EAADyY,KAAMD,KAAN,IAAYzE,EAAZ0E,EAAY1E,MAAZ,OAAwB/T,EAAIgU,OAAOD,IAAU,GAAG,GACxD,OAGQ2E,GAAmB9X,YAC/B,CACC,SAACN,GAAD,IAAAqY,EAAA1Y,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBiG,EAAVyS,EAAUzS,KAAMuJ,EAAhBkJ,EAAgBlJ,UAAhB,OACCqI,GAAiBxX,EAAO,CAAE4F,OAAMuJ,eACjC,SAACnP,GAAD,IAAAsY,EAAA3Y,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBiG,EAAV0S,EAAU1S,KAAMuJ,EAAhBmJ,EAAgBnJ,UAAhB,OACC0I,GAAkC7X,EAAO,CAAE4F,OAAMuJ,gBAEnD,SAACoJ,EAAYC,GAAb,OACgB,OAAfD,GAA4C,OAArBC,EACnB,IAAO9E,OAAO6E,GAAe7E,OAAO8E,GACrC,OAcQC,GAAuBnY,YACnC,CACC,SAACN,GAAuC,IAAA0Y,EAAA/Y,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAvBgZ,EAA8BD,EAA9BC,UAAcC,EAAgB/X,OAAAgY,GAAA,EAAAhY,CAAA6X,EAAA,eACvC,OAAO7X,OAAAC,EAAA,EAAAD,CAAA,CAAEiY,KAAM1C,GAAwBpW,EAAO4Y,GAAOD,aAAcC,KAGrE,SAAAG,GAA+C,IAAAC,EAAAD,EAA5CD,YAA4C,IAAAE,EAArC,GAAqCA,EAAjCL,EAAiCI,EAAjCJ,UAAWlC,EAAsBsC,EAAtBtC,OAAsB5V,OAAAgY,GAAA,EAAAhY,CAAAkY,EAAA,+BAE9C,OADaJ,EAAYG,EAAKG,MAAM,GAAI,GAAKH,GACjCrY,OACX,SAACyY,EAAMvI,GAAS,IACPuH,EAAgBvH,EAAhBuH,KAAMzE,EAAU9C,EAAV8C,MAKd,OAJAyF,EAAKC,OAAOC,KAAKC,aAAenB,IAChCgB,EAAKI,SAASF,KACH,OAAV3F,EAxBsB,SAAA8F,GAAuB,IAApB9F,EAAoB8F,EAApB9F,MAC7B,OADiD8F,EAAb9C,QAEnC,IAAK,eACJ,OAAO+C,WAAW5B,aAAkBnE,EAAO,KAC5C,IAAK,cACJ,OAAOgG,SAAShG,EAAO,IACxB,QACC,OAAOA,GAiBYiG,CAAmB,CAAEjG,QAAOgD,WAAYhD,GAEnDyF,GAER,CACCC,OAAQ,GACRG,SAAU,OAMDK,GAAmCrZ,YAC/C,SAACN,GAAD,IAAA4Z,EAAAja,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBiG,EAAVgU,EAAUhU,KAAMuJ,EAAhByK,EAAgBzK,UAAhB,MAAqC,CACpCsJ,GAAqBzY,EAAO,CAC3B4F,OACAuJ,YACAqH,UAAW,aACXC,OAAQ,cACRkC,WAAW,MAGb,SAAAkB,GAAA,OAAAhZ,OAAAiR,GAAA,EAAAjR,CAAAgZ,EAAA,QAGYC,GAA8BxZ,YAC1C,SAACN,GAAD,IAAA+Z,EAAApa,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBiG,EAAVmU,EAAUnU,KAAMuJ,EAAhB4K,EAAgB5K,UAAhB,MAAqC,CACpCsJ,GAAqBzY,EAAO,CAC3B4F,OACAuJ,YACAqH,UAAW,QACXC,OAAQ,cACRkC,WAAW,MAGb,SAAAqB,GAAA,OAAAnZ,OAAAiR,GAAA,EAAAjR,CAAAmZ,EAAA,QAGYC,GAA+B3Z,YAC3C,SAACN,GAAD,IAAAka,EAAAva,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBiG,EAAVsU,EAAUtU,KAAMuJ,EAAhB+K,EAAgB/K,UAAhB,MAAqC,CACpCsJ,GAAqBzY,EAAO,CAC3B4F,OACAuJ,YACAqH,UAAW,aACXC,OAAQ,eACRkC,WAAW,MAGb,SAAAwB,GAAA,OAAAtZ,OAAAiR,GAAA,EAAAjR,CAAAsZ,EAAA,QAGYC,GAA2B9Z,YACvC,SAACN,GAAD,IAAAqa,EAAA1a,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBiG,EAAVyU,EAAUzU,KAAMuJ,EAAhBkL,EAAgBlL,UAAhB,MAAqC,CACpC8K,GAA6Bja,EAAO,CAAE4F,OAAMuJ,cAC5CwK,GAAiC3Z,EAAO,CAAE4F,OAAMuJ,gBAEjD,SAAAmL,GAA4B,IAAAC,EAAA1Z,OAAAiR,GAAA,EAAAjR,CAAAyZ,EAAA,GAA1BE,EAA0BD,EAAA,GAAjBhP,EAAiBgP,EAAA,GACrBE,EAAS,CACdtB,OAAQ,GACRG,SAAU,IAQX,OANAmB,EAAOtB,OAASqB,EAAQrB,OACxBsB,EAAOnB,SAAWkB,EAAQlB,SAASjY,IAAI,SAACqZ,EAAGpG,GAC1C,OAAmC,IAA5B/I,EAAY+N,SAAShF,IACvBoG,EAAInP,EAAY+N,SAAShF,GAAM,KAAMqG,QAAQ,GAC/CD,IAEGD,IAIIG,GAA0Bta,YACtC,CAACmO,IACD,SAAAoM,GAAA,OAAAA,EAAGC,UAA2B,KAGlBC,GAAuCza,YACnD,CAACsa,IACD,SAAAE,GAAQ,OAAIja,OAAOma,KAAKF,GAAUzZ,IAAI,SAAA4Z,GAAC,OAAKA,MAGhCC,GAA0B5a,YACtC,CAACyI,GAAsC+F,IACvC,SAACK,EAAWJ,GACX,OAAQI,GACP,IAAK,OACJ,OAAO7F,IAAU6R,OAChB7R,IAAUE,KAAKuF,GACfqM,MAEF,IAAK,MACJ,OAAO9R,IAAU6R,OAChB7R,IAAU+R,WAAW/R,IAAUE,KAAKuF,GAAc,GAClDqM,MAEF,IAAK,OACJ,OAAO9R,IAAU6R,OAChB7R,IAAUgS,sBAAsB,EAAGvM,GACnCqM,MAEF,QACC,OAAO9R,IAAU6R,OAAO7R,IAAUE,OAAQ4R,SCxoBjCG,GAAoB,SAAAvb,GAAK,OAAIA,EAAMwC,OAAOgZ,aAE1CC,GAAwBnb,YACpC,CAACib,GAAmB,SAAC9V,EAAGsB,GAAJ,OAAWA,IAC/B,SAACyU,EAAazU,GAAd,OAAqByU,EAAYzU,SAGYzG,YAC7C,CAACib,GAAmB,SAAC9V,EAAGwB,GAAJ,OAAYA,IAChC,SAACuU,EAAavU,GAAd,OAAsBA,EAAI5F,IAAI,SAAA0F,GAAE,OAAIyU,EAAYzU,iCCHpC4H,GAAkB,SAAA3O,GAAK,OAAIA,EAAME,QAAQ0O,WAKzCc,GAA2BpP,YACvC,CAACqO,IACD,SAAApO,GAAA,IAAAmb,EAAAnb,EAAGqP,cAAH,gBAAA8L,EAAmB,GAAnBA,IAGY7L,GAA0CvP,YACtD,CAACqO,IACD,SAAA1N,GAAA,IAAA0a,EAAA1a,EAAG8O,cAAH,gBAAA4L,EAAmB,GAAnBA,IAGY3L,GAAmD1P,YAC/D,CAACqO,IACD,SAAAvN,GAAA,IAAAwa,EAAAxa,EAAG8O,yBAAH,gBAAA0L,EAA8B,GAA9BA,IAGYC,GAAwBvb,YACpC,CACCuP,GACAG,IAED,SAACD,EAAe+L,GAKf,OAJejb,OAAOiK,OAAOiF,GAAe2B,KAAK,SAAChS,EAAGI,GAAJ,OAAUJ,EAAII,IAAG,IAAM,IACzDe,OAAOiK,OAAOgR,GAAcpK,KAAK,SAAChS,EAAGI,GAAJ,OAAUJ,EAAII,IAAG,IAAM,GAxBvC,KA+BrBqQ,GAAyC7P,YACrD,CAACoP,IACD,SAAAU,GACC,IAAMC,EAAcD,EAAmB3P,OAAO,SAAC6P,EAAQlD,GAKtD,OAJAA,EAAEmD,MAAMC,QAAQ,SAAA7P,GACf2P,EAAO3P,IAAM2P,EAAO3P,IAAM,GAAK,IAGzB2P,GACL,IAEH,OAAOF,EACL9C,OACA,SAAAF,GAAC,QACEA,EAAEJ,YACJI,EAAEJ,WAAWpN,QACbwN,EAAEmD,OACFnD,EAAEmD,MAAM3Q,UACNwN,EAAEqD,sBAELpP,IAAI,SAAAV,GAAC,OAAAE,OAAAC,EAAA,EAAAD,CAAA,GACFF,EADE,CAEL4P,MAAO5P,EAAE4P,MAAMjD,OAAO,SAAAF,GAAC,OAAIiD,EAAYjD,IAtDb,QAwD1BE,OAAO,SAAAF,GAAC,OAAIA,EAAEmD,MAAM3Q,WAIX8Q,GAA6CpQ,YACzD,CAACoN,IACD,SAAAiD,GACC,OAAOA,GAAQA,EAAKzF,QAAUyF,EAAKzF,QAAQ7J,IAAI,SAAAuP,GAAC,OAAIA,EAAElI,OAAQ,OAInDmI,GAAiCvQ,YAC7C,CACC6P,GACAO,IAED,SAACN,EAAoBG,GACpB,IAAMO,EAAeP,GAASA,EAAM3Q,OAEpC,OAAOwQ,EAAmB9C,OACzB,SAAAF,GAAC,OACC0D,GAAiBA,GAAgBP,EAAMQ,KAAK,SAAApQ,GAAC,OAAIyM,EAAEmD,MAAMS,SAASrQ,SAK1Dob,GAAkCzb,YAC9C,CAACuQ,IACD,SAAAjC,GAAS,OACRsC,MAAMC,KACLvC,EAAUnO,OAAO,SAACuM,EAAYI,GAE7B,OADAA,EAAEJ,WAAWwD,QAAQ,SAAAY,GAAC,OAAIpE,EAAWqC,IAAI+B,KAClCpE,GACL,IAAIqE,QAIJ2K,GAA+B,SAAApM,GAAa,OACjDsB,MAAMC,KACLvB,EACEnP,OACA,SACCwM,EADDzL,GAGK,IADF8P,EACE9P,EADF8P,MAAO/E,EACL/K,EADK+K,SAAUgF,EACf/P,EADe+P,UAAWvE,EAC1BxL,EAD0BwL,WAAYiP,EACtCza,EADsCya,gBAS1C,OAPAhP,EAAWuE,IAAIjF,EAAU,CACxB+E,QACA/E,WACAgF,YACAvE,aACAiP,oBAEMhP,GAER,IAAIwE,KAEJ3G,WAGSoR,GAAkC5b,YAC9C,CAACuQ,IACD,SAAAjC,GACC,OAAOoN,GAA6BpN,GAAW8C,KAAK,SAAChS,EAAGI,GACvD,OAAIJ,EAAE6R,YAAczR,EAAEyR,WACb,EACE7R,EAAE6R,WAAazR,EAAEyR,UACpB7R,EAAE6R,UAAYzR,EAAEyR,YACZ7R,EAAE6R,WAAazR,EAAEyR,UACrB,OAQE4K,GAA4B7b,YACxC,CAACoP,IACD,SAAAd,GAAS,OACRsC,MAAMC,KACLvC,EAAUnO,OAAO,SAACuM,EAAYI,GAE7B,OADAA,EAAEJ,WAAWwD,QAAQ,SAAAY,GAAC,OAAIpE,EAAWqC,IAAI+B,KAClCpE,GACL,IAAIqE,QAKG+K,GAA+B9b,YAC3C,CAACoP,IACD,SAAAd,GACC,OAAOoN,GAA6BpN,GAAW8C,KAAK,SAAChS,EAAGI,GACvD,OAAIJ,EAAE6R,YAAczR,EAAEyR,UACd,EACG7R,EAAE6R,WAAazR,EAAEyR,UACpB7R,EAAE6R,UAAYzR,EAAEyR,YACZ7R,EAAE6R,WAAazR,EAAEyR,WACpB,OASN8K,GAAoC/b,YACzC,GACA,WACC,IAAMgc,EAAQzb,OAAOiK,OAAOyR,aAAUC,cAAcnb,IACnD,eAAAM,EAAAhC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAkC,GAA/B8c,EAAH9a,EAAG8a,KAAMC,EAAT/a,EAAS+a,UAAWC,EAApBhb,EAAoBgb,UAApB,MAA0C,CACzCC,MAAOjc,GAAE8b,GACTI,WAAYF,EAAUG,KAAK,MAC3BrJ,MAAOiJ,EACPK,MAAOpc,GAAE,cAGLD,EAAM6b,aAAUS,aAAa3b,IAAI,eAAAS,EAAAnC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAuB,GAApB8c,EAAH3a,EAAG2a,KAAMC,EAAT5a,EAAS4a,UAAT,MAA+B,CACrEE,MAAOjc,GAAE8b,GACThJ,MAAOiJ,EACPK,MAAON,EAAK,GAAGQ,iBAGhB,SAAAnU,OAAAjI,OAAAgE,EAAA,EAAAhE,CAAWyb,GAAXzb,OAAAgE,EAAA,EAAAhE,CAAqBH,MAIjBwc,GAAsC5c,YAC3C,CAACyb,IACD,SAAA/O,GAAU,MACT,CAAC,CAAE4P,MAAOjc,GAAE,kBAAmB8S,MAAO,QAAS3K,OAC9CkE,EAAW3L,IAAI,SAAA8b,GAAG,MAAK,CACtBP,MAAOjc,GAAEyc,iBAAcC,kCAAkCF,IAAQA,GACjE1J,MAAO0J,QAKLG,GAAuChd,YAC5C,CAAC6b,IACD,SAAAnP,GAAU,OACTA,EAAW3L,IAAI,SAAA8b,GAAG,MAAK,CACtBP,MAAOjc,GAAEyc,iBAAcC,kCAAkCF,IAAQA,GACjE1J,MAAO0J,OAIJI,GAA6B,SAAAC,GAAS,MAAI,IAAA1U,OAC5CnI,GAAE,YAD0C,MAAAmI,OAC1B0U,EAAUjR,UADgB,GAAAzD,OAE5CnI,GAAE,cAF0C,MAAAmI,OAExB0U,EAAUjM,WAAa,KAFC,GAAAzI,OAG5CnI,GAAE,qBAH0C,MAAAmI,OAGjB0U,EAAUvB,iBAAmB,KAHZ,GAAAnT,OAI5CnI,GAAE,cAJ0C,MAAAmI,QAIvB0U,EAAUxQ,YAAc,IAC9C3L,IACA,SAAA8b,GAAG,UAAArU,OAAQsU,iBAAcC,kCAAkCF,IAAQA,EAAhE,OAEHL,KAAK,SAGFW,GAAsCnd,YAC3C,CAAC4b,IACD,SAAAjP,GAAU,OACTA,EAAW5L,IAAI,SAAAqc,GAAG,MAAK,CACtBd,MAAOc,EAAInR,SACXkH,MAAOkK,KAAKC,UAAU,CAAErR,SAAUmR,EAAInR,SAAUiR,UAAWE,EAAIpM,QAC/DuL,WAAYU,GAA2BG,GACvCG,UAAWH,OAIRI,GAAuCxd,YAC5C,CAAC8b,IACD,SAAAnP,GAAU,OACTA,EAAW5L,IAAI,SAAAqc,GAAG,MAAK,CACtBd,MAAOc,EAAInR,SACXkH,MAAOkK,KAAKC,UAAU,CAAErR,SAAUmR,EAAInR,SAAUiR,UAAWE,EAAIpM,QAC/DuL,WAAYU,GAA2BG,GACvCG,UAAWH,OAIDK,GAAkB,CAC9B,CACCC,UAAW,WACXC,UAAW,SACXC,QAAS,CACR,CAAExV,KAAM,KAAMkU,MAAOjc,GAAE,oBAAqBwd,YAAa,GACzD,CAAEzV,KAAM,MAAOkU,MAAOjc,GAAE,sBAAuBwd,YAAa,GAC5D,CAAEzV,KAAM,QAASkU,MAAOjc,GAAE,mBAAoB8S,MAAO,QAEtD2K,UAAWzd,GAAE,sBAAuB,CACnCyJ,KAAM,CACLiU,GAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCC,KAAM,4DAEL7d,GAAE,aAKP,CACCqd,UAAW,aACXC,UAAW,WACXC,QAAS,CACR,CAAExV,KAAM,KAAMkU,MAAOjc,GAAE,iBAAkBwd,YAAa,GACtD,CACCzV,KAAM,MACNkU,MAAOjc,GAAE,sBACTwd,YAAa,EACbM,eAAgB,CAAC,UAIpB,CACCT,UAAW,aACXC,UAAW,SACXC,QAAS,CACR,CAAExV,KAAM,KAAMkU,MAAOjc,GAAE,yBAA0Bwd,YAAa,GAC9D,CAAEzV,KAAM,MAAOkU,MAAOjc,GAAE,yBAA0Bwd,YAAa,GAC/D,CAAEzV,KAAM,QAASkU,MAAOjc,GAAE,mBAAoB8S,MAAO,SAGvD,CACCuK,UAAW,WACXC,UAAW,oBACXC,QAAS,CACR,CACCzK,MAAO,sBACPmJ,MAAOjc,GAAE,gCACT+d,OACCL,GAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCC,KACC,0FAGA7d,GAAE,gBAIN,CACC8S,MAAO,0BACPmJ,MAAOjc,GAAE,6BACT+d,OACCL,GAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCC,KACC,uFAGA7d,GAAE,gBAIN,CACC8S,MAAO,4BACPmJ,MAAOjc,GAAE,gCACT+d,OACCL,GAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCC,KACC,kGAGA7d,GAAE,mBAQHge,GAAoCre,YACzC,CACC+b,GACAa,GACAI,GACAG,GACAK,IAED,SAACc,EAAWC,EAAOC,EAAQC,EAAOC,GAAlC,MAA8C,CAC7CjS,SAAU,CACTkS,gBAAiBL,GAElB5R,WAAY,CACXkS,kBAAmB,CAClBC,GAAIN,EACJO,IAAKN,IAGP7R,WAAY,CACXiS,kBAAmB,CAClBC,GAAIJ,EACJK,IAAKJ,OA+DIK,IAzDiC/e,YAC7C,CAACoN,IACD,SAAAiD,GACC,OAAOA,GAAQA,EAAKzF,QAAUyF,EAAKzF,QAAQ7J,IAAI,SAAAuP,GAAC,OAAIA,EAAElI,OAAQ,OAsDhBpI,YAC/C,CAACqe,IACD,SAAAW,GAAW,OACVvB,GAAgB1c,IAAI,SAAAke,GACnB,IAAMC,GAAUF,EAAYC,EAAEvB,YAAc,IAAIkB,kBAC7CI,EAAYC,EAAEvB,WAAWkB,kBACzB,GAOH,OALKI,EAAYC,EAAEvB,YAAc,IAAIiB,iBACpCM,EAAErB,QAAQ1N,QAAQ,SAAA9Q,GACjB8f,EAAO9f,EAAEgJ,MAAQhJ,EAAE+T,OAAS6L,EAAYC,EAAEvB,WAAWiB,kBAGhDpe,OAAAC,EAAA,EAAAD,CAAA,GACH0e,EADJ,CAECC,gBAKSC,GAA4Bnf,YACxC,CAACib,GAAmB,SAAC9V,EAAGia,EAAIC,EAAKC,GAAb,OAA4BA,IAChD,SAACpE,EAAazU,GAAd,OAAqByU,EAAYzU,KAGrB8Y,GAAiCvf,YAC7C,CACC+e,GACA3R,GACA+R,GACA,SAACha,EAAGia,EAAIC,EAAKG,EAAMC,GAAnB,OAAoCA,IAErC,SAACC,EAAoBC,GAAiD,IAAnCzE,EAAmC7b,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAArB,GAAIogB,EAAiBpgB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC/DqgB,EAAyBD,KAAkBA,EAAapT,cAExDsT,EACL3E,EAAY0E,EAAyB,gBAAkB,WAAa,GAE/DE,EAAkBD,EAAOE,OAAQF,EAAOG,WAAkB,GAE1DxT,GACJoT,EACED,EAAapT,cAAcC,OAC3BmT,EAAanT,SAAW,GA+C5B,MAF0B,CAAEyT,QA3CZP,EACd1S,OAAO,SAAAiS,GAAC,OACNQ,EAA+B,aAAhBR,EAAEvB,UAA2C,aAAhBuB,EAAEvB,YAEhD3c,IAAI,SAAAke,GACJ,IAAMd,EApGgB,SAAC3F,EAAM0G,EAAQ1S,EAAQ0T,GAChD,IAAMC,EAAW,GAEjB,GACoB,eAAnB3H,EAAKkF,WACLlR,EAAOE,YACPF,EAAOE,WAAWuG,OAClBzG,EAAOE,WAAWuG,MAAMvC,SAAS,OACjClE,EAAOE,WAAWmS,IAClBrS,EAAOE,WAAWmS,GAAGvf,OAErB6gB,EAAStB,GAAKrS,EAAOE,WAAWmS,GAAGnO,SAAS,OACzC,GACAwO,EACClS,OACA,SAAAF,GAAC,OACCA,EAAEyQ,UAAU7Q,WAAW+D,KAAK,SAAAK,GAAC,OAC7BtE,EAAOE,WAAWmS,GAAGnO,SAASI,OAGhC/P,IAAI,SAAA+P,GAAC,OAAIA,EAAEqC,aACT,GACa,eAAnBqF,EAAKkF,WACLlR,EAAOG,YACPH,EAAOG,WAAWsG,OACU,OAA5BzG,EAAOG,WAAWsG,OAClBzG,EAAOG,WAAWkS,IAClBrS,EAAOG,WAAWkS,GAAGvf,OACpB,CACD,IAAM8gB,EAA+B,IAAIrP,IACzCmP,EACErT,KAAK,SAAAoS,GAAC,MAAoB,eAAhBA,EAAEvB,YACZwB,OAAOL,GAAG3O,QAAQ,SAAAmQ,GACd7T,EAAOG,WAAWkS,GAAGnO,SAAS2P,EAAElN,QACnCkN,EAAE9C,UAAU7Q,WAAWwD,QAAQ,SAAAY,GAAC,OAC/BsP,EAA6BrR,IAAI+B,OAKrCqP,EAAStB,GAAKK,EACZlS,OACA,SAAA8D,GAAC,MAAgB,QAAZA,EAAEqC,QAAoBiN,EAA6BE,IAAIxP,EAAEqC,SAE9DpS,IAAI,SAAA+P,GAAC,OAAIA,EAAEqC,QAGd,OAAOgN,EAqDmBI,CACtBtB,EAEAA,EAAEC,OAAOL,GACTrS,EACAkT,GAGKR,EAAM3e,OAAAC,EAAA,EAAAD,CAAA,GAAQ0e,EAAEC,QAuBtB,OArBGA,EAAOL,IACTK,EAAOL,GAAGvf,QACR6e,EAAeU,IACjBV,EAAeU,GAAGvf,SAElB4f,EAAOL,GAAKte,OAAAgE,EAAA,EAAAhE,CAAI2e,EAAOL,IAAIzN,KAAK,SAAChS,EAAGI,GACnC,OACC2e,EAAeU,GAAGnO,SAAStR,EAAE+T,SAC5BgL,EAAeU,GAAGnO,SAASlR,EAAE2T,OAEvB,GAENgL,EAAeU,GAAGnO,SAAStR,EAAE+T,QAC9BgL,EAAeU,GAAGnO,SAASlR,EAAE2T,QAErB,EAGF,KAGF5S,OAAAC,EAAA,EAAAD,CAAA,GACH0e,EADJ,CAECC,SACAf,qBAIkC3R,SAAQsT,qBCtflCU,GAA2BxgB,YACvC,CAHoC,SAAAN,GAAK,OAAIA,EAAMwC,OAAOue,iBAGlC,SAACtb,EAAGsB,GAAJ,OAAWA,IACnC,SAACia,EAAMja,GAAP,OAAcia,EAAKja,IAAO,sDCkCnBka,GAAkC1E,aAAlC0E,aAAcC,GAAoB3E,aAApB2E,gBAETC,GAA2B7gB,YACvC,CAACkL,GAAsBxK,EAA6B,SAACyE,EAAGG,GAAJ,OAAaA,IACjE,SAACqC,EAAWrH,EAAQgF,GAApB,OACCqC,EACEqF,OAAO,SAAAF,GAAC,OAAKA,EAAEgU,WACf/f,IAAI,SAAAsP,GAAQ,IAAA0Q,GACczgB,EAAO+P,EAAK2Q,eAAiB,IAA/CC,gBADI,IAAAF,EACO,GADPA,EAEJta,EAAgC4J,EAAhC5J,GAFIya,EAE4B7Q,EAA5B8Q,YAFA,IAAAD,EAEO,GAFPA,EAAAE,EAE4B/Q,EAAjBzF,QAEjByW,QAJM,IAAAD,EAEqB,GAFrBA,GAIc,IAAM,GAE1BE,EAAE,cAAA9Y,OAAiBlD,EAAjB,eAAAkD,OAAmC/B,GACrC8a,EAAS,cAAA/Y,OAAiBlD,EAAjB,aAAAkD,OAAiC/B,GAEhD,MAAO,CACN+a,MAAO,CACNlc,OACAmB,KACAgb,SAAUJ,EAAUI,UAAY,GAChCC,UAAWL,EAAUK,WAAa,GAClCJ,MAEDrU,MAAOoD,EAAKpD,MACZ0U,OAAQ,CACPC,kBAAmBvR,EAAKsR,OAAOC,kBAC/BC,aAAcxR,EAAKsR,OAAOxF,MAE3B2F,cAAe1O,OACd2O,uBAAY1R,EAAKyR,eAAiB,IAAKb,IAExCe,sBAAuB3R,EAAKsR,OAAOK,uBAAyB,EAC5D/W,YAAaD,GAA0B,aAAcvE,GACrDsE,OAAQC,GAA0B,QAASvE,GAE3Cwb,IACEjX,GAA0B,QAASvE,GACnCuE,GAA0B,aAAcvE,GACxC,KAAO,EAETyb,iBAAkB,CACjBzb,KACAyb,iBAMK,IALJ9O,OACC2O,uBACCZ,EAAKe,kBAAoB7R,EAAK6R,kBAAoB,IAClDjB,KAIJkB,QAAS9R,EAAK8R,QACdC,WAAYjB,EAAKiB,YAAc/R,EAAK+R,WACpCC,oBACClB,EAAKkB,qBAAuBhS,EAAKgS,oBAClCzE,QAAS,CACRtY,OAEAmB,KACA6a,KACAC,YACAe,cACoC,WAAlCjS,EAAKsR,OAAOC,mBACsB,cAAlCvR,EAAKsR,OAAOC,qBACS,cAArBvR,EAAKsR,OAAOxF,MACS,YAArB9L,EAAKsR,OAAOxF,OAEf1V,KACA8b,iBACmC,WAAlClS,EAAKsR,OAAOC,mBACsB,cAAlCvR,EAAKsR,OAAOC,uBAULY,IALyCrjB,EACrD0hB,GACA,SAAArI,GAAI,OAAIA,IAGoCxY,YAC5CkL,GACA,SAAAvD,GAAS,OACRqL,KAAKD,IAAIE,MAAM,KAAMtL,EAAU5G,IAAI,SAAAiT,GAAC,OAAIZ,OAAOY,EAAE/I,aAAe,OAAQ,KAG7DwX,GAA2BziB,YACvCkL,GACA,SAAAvD,GAAS,OACRqL,KAAKD,IAAIE,MAAM,KAAMtL,EAAU5G,IAAI,SAAAiT,GAAC,OAAIZ,OAAOY,EAAEjJ,QAAU,OAAQ,IAGxD2X,GAA4B1iB,YACxC,CAACkL,GAAsBxK,GACvB,SAACiH,EAAWrH,GAAZ,OACC0S,KAAKD,IAAIE,MACR,KACAtL,EAAU5G,IAAI,SAAAiT,GAAK,IAAA2O,GACQriB,EAAO0T,EAAEgN,eAAiB,IAA5CC,gBADU,IAAA0B,EACC,GADDA,EAElB,OAAOvP,OAAO2O,uBAAY/N,EAAE8N,cAAeb,IAAa,QAK/C2B,GAAyB5iB,YACrC,CAACwL,GAAoB2I,GAAqC,SAAChP,EAAGG,GAAJ,OAAaA,IACvE,SACCud,EADD/hB,EAQCwE,GARD,IAGEgP,EAHFxT,EAGEwT,oBACAC,EAJFzT,EAIEyT,eACAC,EALF1T,EAKE0T,uBACAC,EANF3T,EAME2T,kBANF,OAUCoO,EACE7V,OAAO,SAAAF,GAAC,OAAKA,EAAEgU,WACf/f,IAAI,SAAAsP,GACJ,IAAM5J,EAAK4J,EAAK5J,IAAM4J,EAAKmD,KACrB8N,EAAE,cAAA9Y,OAAiBlD,EAAjB,WAAAkD,OAA+B/B,GAE/BwG,EAA8CoD,EAA9CpD,MAAOwU,EAAuCpR,EAAvCoR,SAAUC,EAA6BrR,EAA7BqR,UAAWtZ,EAAkBiI,EAAlBjI,KAAM+Z,EAAY9R,EAAZ8R,QAEpCpX,EAASwJ,EAAe9N,GACxBwE,EAAcqJ,EAAoB7N,GACxC,MAAO,CACN+a,MAAO,CACN/a,KACAgb,WACAC,YACAJ,MAEDrU,MAAOA,EACP7E,KAAMA,EAAK0a,QAAQ,UAAW,IAC9BX,QAASA,EACTlX,cACAF,SACAkX,KAAOlX,GAAU,IAAME,GAAe,GAAM,IAC5C8X,SACC3P,OAAOoB,EAAuB/N,IAAO,GACrC2M,OAAOqB,EAAkBhO,IAAO,GACjCmX,QAAS,CACR0D,KACAjR,OACA5J,KACAwG,cAMO+V,GAAyBhjB,YACrC,CACC,SAACN,EAADwB,GAAwC,IAA9BoE,EAA8BpE,EAA9BoE,KAAMgD,EAAwBpH,EAAxBoH,WAAY6B,EAAYjJ,EAAZiJ,MAE3B,MAAO,CACN8Y,gBAFuB9Y,EAGvB7E,OACA6E,MACCA,IACC7B,EACEqC,GAAwBjL,EAAO4I,GAC/B6C,GAAczL,IAClBkU,oBAAqB,SAAAnN,GAAE,OACtB6B,EACGqN,GAAyCjW,EAAO,CAChD0I,KAAM,aACNE,eACG7B,GACH6K,GAA0B5R,EAAO,CACjC0I,KAAM,aACNmJ,SAAU9K,KAEdoN,eAAgB,SAAApN,GAAE,OACjB6B,EACGqN,GAAyCjW,EAAO,CAChD0I,KAAM,QACNE,eACG7B,GACH6K,GAA0B5R,EAAO,CACjC0I,KAAM,QACNmJ,SAAU9K,QAKjB,SAAApF,GAAA,IAAG4hB,EAAH5hB,EAAG4hB,cAAe3d,EAAlBjE,EAAkBiE,KAAM6E,EAAxB9I,EAAwB8I,MAAOyJ,EAA/BvS,EAA+BuS,oBAAqBC,EAApDxS,EAAoDwS,eAApD,OACCtT,OAAOiK,OAAOL,GACZ6C,OAAO,SAAAF,GAAC,OAAKA,EAAEgU,WACf/f,IAAI,SAAAsP,GACJ,IAAM5J,EAAK4J,EAAK5J,IAAM4J,EAAKmD,KACrB8N,EAAE,cAAA9Y,OAAiBlD,EAAjB,WAAAkD,OAA+B/B,GAC/BwG,EAA8CoD,EAA9CpD,MAAOwU,EAAuCpR,EAAvCoR,SAAUC,EAA6BrR,EAA7BqR,UAAWtZ,EAAkBiI,EAAlBjI,KAAM+Z,EAAY9R,EAAZ8R,QAE1C,MAAO,CACN1b,KACA+a,MAAO,CACNyB,gBACAxc,KACAgb,WACAC,YACAJ,MAEDrW,YAAa2I,EAAoBnN,IAAO,EACxCsE,OAAQ8I,EAAepN,IAAO,EAC9Bwb,IAAMpO,EAAepN,GAAMmN,EAAoBnN,GAAO,KAAO,EAC7DwG,QACA7E,OACA+Z,UACAvE,QAAS,CACRnX,KACAwG,QACAqU,KACAjR,aAMO6S,GAA2BljB,YACvC,CAAC+M,IACD,SAAAZ,GAAS,OACRA,EACEa,OAAO,SAAAF,GAAC,OAAKA,EAAEgU,WACf/f,IAAI,SAAAsP,GAAQ,IACJ5J,EAAiD4J,EAAjD5J,GAAIwG,EAA6CoD,EAA7CpD,MAAOT,EAAsC6D,EAAtC7D,OAAQ2W,EAA8B9S,EAA9B8S,QAAShB,EAAqB9R,EAArB8R,QAASiB,EAAY/S,EAAZ+S,QAI7C,MAAO,CACNnW,MAAO,CACNA,MAAOA,GAASxG,EAChB6a,GALM,mCAAA9Y,OAAsC/B,IAO7C0b,UACAiB,UACAxF,QAAS,CACRnX,KACA8F,cAAe,CAAEC,SAAQ2W,WACzBlW,QACAqU,GAAE,mCAAA9Y,OAAqC/B,SAMvC4c,GAAwB,WAMnB,IAAA7hB,EAAAnC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GALHikB,EAKU9hB,EALV8hB,qBACAC,EAIU/hB,EAJV+hB,gBACAC,EAGUhiB,EAHVgiB,yBACAC,EAEUjiB,EAFViiB,wBACAC,EACUliB,EADVkiB,mBAEMC,EAAcF,GAA2BC,EAE/C,OAAOnjB,OAAOma,KAAK4I,GAAsBviB,IAAI,SAAA6iB,GAC5C,OAAOrjB,OAAAC,EAAA,EAAAD,CAAA,CACNsjB,YAAalD,GAAaiD,GAC1B3Y,YAAaqY,EAAqBM,IAAQ,EAC1CE,oBACGR,EAAqBM,IAAQ,IAC7BJ,EAAyBtQ,OAAS,GACpC,IACDnI,OAAQwY,EAAgBK,IAAQ,EAEhC3B,KACGsB,EAAgBK,IAAQ,IAAMN,EAAqBM,IAAQ,GAAM,KAChED,GAAe,CAClBZ,UACEU,EAAwBG,IAAQ,IAAMF,EAAmBE,IAAQ,GACnEG,WACE3Q,OAAOqQ,EAAwBG,IAAQ,GACvCxQ,OAAOkQ,EAAqBM,IAAQ,GACrC,SAMQI,GAAoChkB,YAChD,CACC,SAAAN,GAAK,OAAIsS,GAA8BtS,EAAO,eAC9C,SAAAA,GAAK,OAAIsS,GAA8BtS,EAAO,UAC9C,SAAAA,GAAK,OAAImT,GAAkCnT,EAAO,eAClD,SAAAA,GAAK,OAAIwS,GAAiCxS,EAAO,eACjD,SAAAA,GAAK,OAAIwS,GAAiCxS,EAAO,WAElD,SACC4jB,EACAC,EACAC,EACAC,EACAC,GALD,MAMM,CACLJ,uBACAC,kBACAC,2BACAC,0BACAC,wBAIWO,GAAuCjkB,YACnD,SAACN,EAADiC,GAA2B,IAAjB2G,EAAiB3G,EAAjB2G,WACT,MAAO,CACN2M,GAA0CvV,EAAO,CAChD0I,KAAM,aACNE,eAED2M,GAA0CvV,EAAO,CAChD0I,KAAM,QACNE,eAEDmN,GAAiC/V,EAAO,CACvC4I,aACAF,KAAM,eAEPiN,GAA6C3V,EAAO,CACnD0I,KAAM,aACNE,eAED+M,GAA6C3V,EAAO,CACnD0I,KAAM,QACNE,iBAIH,SAAAxG,GAMM,IAAAqB,EAAA5C,OAAAiR,GAAA,EAAAjR,CAAAuB,EAAA,GACL,MAAO,CACNwhB,qBAFIngB,EAAA,GAGJogB,gBAHIpgB,EAAA,GAIJqgB,yBAJIrgB,EAAA,GAKJsgB,wBALItgB,EAAA,GAMJugB,mBANIvgB,EAAA,MAWM+gB,GAAyClkB,YACrDgkB,GACA,SAAAxL,GAAI,OAAI6K,GAAsB7K,KAGlB2L,GAA4CnkB,YACxD,CACC,SAACN,EAAD4D,GAA2B,IAAjBgF,EAAiBhF,EAAjBgF,WACT,OAAO2b,GAAqCvkB,EAAO,CAAE4I,iBAGvD,SAAAkQ,GAAI,OAAI6K,GAAsB7K,KAGzB4L,GAA2B,WAItB,IAAA5gB,EAAAnE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAHHikB,EAGU9f,EAHV8f,qBACAC,EAEU/f,EAFV+f,gBACAC,EACUhgB,EADVggB,yBAEMa,EAAaC,eACjBC,OAAO,CAAC,EAAGf,EAAyBzQ,MACpCyR,MAAM,CAACC,KAAkBC,OAErBC,EAAaC,KACbC,EAAeC,KACfC,EAASxkB,OAAAC,EAAA,EAAAD,CAAA,GAAQykB,IA+BvB,OA7BAD,EAAUE,QAAQ5I,UAAU6I,WAAaF,GAAmBC,QAAQ5I,UAAU6I,WAAWnkB,IACxF,SAAAyX,GACC,IAAM/R,EAAKma,GAAgBpI,EAAK/R,IAC1BwE,EAAcqY,EAAqB7c,IAAO,EAC1CsE,EAASwY,EAAgB9c,IAAO,EAChC0V,EAAOwE,GAAala,IAAO+R,EAAK2D,KAChC2H,GACH7Y,GAAe,GAAKuY,EAAyBtQ,MAAS,KAAO,EAC1D+O,GAAQlX,GAAU,IAAME,GAAe,GAAM,KAAO,EACpDka,EAAkB,IAAA3c,OACpB2T,EADoB,QAAA3T,OAEpBnI,GAAE,qBAFkB,MAAAmI,OAEO4c,aAAcna,EAAa,IAFlC,GAAAzC,OAGpBnI,GAAE,gBAHkB,MAAAmI,OAGE4c,aAAcra,EAAQ,IAHxB,GAAAvC,OAIpBnI,GAAE,cAJkB,MAAAmI,OAIAsb,EAAmBzJ,QAAQ,GAJ3B,SAAA7R,OAKpBnI,GAAE,aALkB,MAAAmI,OAKDyZ,EAAI5H,QAAQ,GALX,OAUlBgL,EAAa,CAClBlJ,OACAmJ,UAJiBra,EAAc,EAAIoZ,EAAWpZ,GAAesa,KAAK,KAKlEJ,mBAGD,OAAO5kB,OAAAC,EAAA,EAAAD,CAAA,GAAKiY,EAAZ,CAAkB6M,iBAIb,CAAEN,YAAWJ,aAAYE,iBAGpBW,GAA4CxlB,YACxD,CAACgkB,IACD,SAAAxL,GAAI,OAAI4L,GAAyB5L,KAGrBiN,GAA+CzlB,YAC3D,CACC,SAACN,EAADiE,GAAA,IAAU2E,EAAV3E,EAAU2E,WAAV,OACC2b,GAAqCvkB,EAAO,CAAE4I,iBAEhD,SAAAkQ,GAAI,OAAI4L,GAAyB5L,KAGrBkN,GAA6B1lB,YACzCyT,GACA,SAAAtJ,GAAK,OACJA,EAAMpJ,IAAI,SAAAsP,GAAQ,IAEhB5J,EAQG4J,EARH5J,GACAgb,EAOGpR,EAPHoR,SACAC,EAMGrR,EANHqR,UACAtZ,EAKGiI,EALHjI,KACA6C,EAIGoF,EAJHpF,YACAF,EAGGsF,EAHHtF,OAID,MAAO,CACNtE,KACA+a,MAAO,CACN/a,KACAgb,WACAC,aAEDtZ,OACA6C,cACAF,SACAkX,KAAOlX,GAAU,IAAME,GAAe,GAAM,IAC5C8X,SAZG1S,EAFH4D,eAEG5D,EADH6D,eAkBSyR,GAA+B3lB,YAC3C,CACCsM,GACA,SAAC5M,EAAO4I,GACP,MAAO,CACN2C,YAAa2J,GAAsClV,EAAO,CACzD0I,KAAM,aACNE,eAEDyC,OAAQ6J,GAAsClV,EAAO,CACpD0I,KAAM,QACNE,kBAKJ,SAACsd,EAAD9hB,GAAoD,IAA1BmH,EAA0BnH,EAA1BmH,YAAaF,EAAajH,EAAbiH,OAChC8a,EAAY5a,EAAY6a,yBAA2B,GACnDC,EAAahb,EAAO+a,yBAA2B,GAC/CE,EAAY/a,EAAYgb,4BAA8B,GAEtDC,EAAQN,EACXA,EAAsBpZ,OAAOG,WAC7B,KAEH,OAAOpM,OAAOma,KAAKmL,GAAW9kB,IAAI,SAAA6iB,GAAG,MAAK,CACzCuC,cACCD,IACkB,QAAhBA,EAAMjT,QACNiT,EAAMpH,KAAO,IAAIrO,KAAK,SAAA3D,GAAC,OAAIA,EAAE4D,SAASkT,MACtB,OAAhBsC,EAAMjT,SACJiT,EAAMrH,IAAM,IAAIpO,KAAK,SAAA3D,GAAC,OAAIA,EAAE4D,SAASkT,MAE1CwC,QAASxC,EACT3Y,YAAa4a,EAAUjC,IAAQ,EAC/B3B,KAAO8D,EAAWnC,IAAQ,IAAMiC,EAAUjC,IAAQ,GAAM,IACxDb,SAAU3P,OAAO4S,EAAUpC,IAAQ,GACnCG,WACE3Q,OAAO4S,EAAUpC,IAAQ,GAAKxQ,OAAOyS,EAAUjC,IAAQ,GAAM,IAC/D7Y,OAAQgb,EAAWnC,IAAQ,OAoBjByC,IAf4BrmB,YACxC,SAACN,EAAO4mB,GAAR,OAAsBX,GAA6BjmB,EAAO4mB,IAC1D,SAAA9N,GAAI,OACHA,EAAKrY,OACJ,SAACga,EAAQoM,GACR,IAAMC,EAASjmB,OAAAC,EAAA,EAAAD,CAAA,GAAQ4Z,GAIvB,OAHAqM,EAAUC,aAAeF,EAAQxb,OACjCyb,EAAUtO,kBAAoBqO,EAAQtb,YACtCub,EAAUE,eAAiBH,EAAQxD,SAC5ByD,GAER,CAAEC,YAAa,EAAGvO,iBAAkB,EAAGwO,cAAe,MAIb1mB,YAC3C,SAACN,EAAO4mB,GAAR,OAAsBX,GAA6BjmB,EAAO4mB,IAC1D,SAAA9N,GAAI,OACHA,EAAKrY,OACJ,SAACga,EAAQoM,GACR,IAAMC,EAASjmB,OAAAC,EAAA,EAAAD,CAAA,GAAQ4Z,GAYvB,OAVAqM,EAAUG,UAAY3T,KAAKD,IAAIwT,EAAQxb,OAAQyb,EAAUG,WACzDH,EAAUI,OAAS5T,KAAKD,IAAIwT,EAAQtE,IAAKuE,EAAUI,QACnDJ,EAAUK,eAAiB7T,KAAKD,IAC/BwT,EAAQtb,YACRub,EAAUK,gBAEXL,EAAUM,YAAc9T,KAAKD,IAC5BwT,EAAQxD,SACRyD,EAAUM,aAEJN,GAER,CAAEG,UAAW,EAAGE,eAAgB,EAAGC,YAAa,EAAGF,OAAQ,OAIjDG,GAA8B/mB,YAC1C,SAACN,EAADuE,GAAA,IAAUqB,EAAVrB,EAAUqB,KAAM6E,EAAhBlG,EAAgBkG,MAAO7B,EAAvBrE,EAAuBqE,WAAvB,OACC0a,GAAuBtjB,EAAO,CAAE4F,OAAM6E,QAAO7B,gBAC9C,SAAAkQ,GAAI,OACHA,EAAKrY,OACJ,SAACga,EAAQoM,GACR,IAAMC,EAASjmB,OAAAC,EAAA,EAAAD,CAAA,GAAQ4Z,GAQvB,OANAqM,EAAUG,UAAY3T,KAAKD,IAAIwT,EAAQxb,OAAQyb,EAAUG,WACzDH,EAAUI,OAAS5T,KAAKD,IAAIwT,EAAQtE,IAAKuE,EAAUI,QACnDJ,EAAUK,eAAiB7T,KAAKD,IAC/BwT,EAAQtb,YACRub,EAAUK,gBAEJL,GAER,CAAEG,UAAW,EAAGE,eAAgB,EAAGD,OAAQ,MAIjCI,GAA+ChnB,YAC3D,CAACmO,GAAiBnN,EAAiB,SAACmE,EAAG+D,GAAJ,OAAaA,IAChD,SAAA7E,EAAe4iB,EAAO/d,GAAS,IAA5BsR,EAA4BnW,EAA5BmW,SACIL,EAAS,GACf,GAAIK,GAAYA,EAAStR,GAExB,IAF+B,IAAAge,GACLD,GAAS,IAA3BhG,gBADuB,IAAAiG,EACZ,GADYA,EAE/BC,EAAA,EAAAC,EAAyB7mB,OAAO8mB,QAAQ7M,EAAStR,IAAjDie,EAAAC,EAAA9nB,OAAA6nB,IAAyD,KAAAG,EAAAF,EAAAD,GAAAxU,EAAApS,OAAAiR,GAAA,EAAAjR,CAAA+mB,EAAA,GAA/C1D,EAA+CjR,EAAA,GAA1CQ,EAA0CR,EAAA,GACxDwH,EAAOrB,KAAK,CACX7N,YAAakI,EAAMlI,YACnBiP,QAAS9G,OAAO2O,uBAAY5O,EAAM+G,SAAW,IAAK+G,IAClD/X,MAAO0a,IAIV,OAAOzJ,IAIIoN,GAAiDvnB,YAC7D,CAACgnB,IACD,SAAAxO,GAAI,OACHA,EAAKrY,OACJ,SAACga,EAAQoM,GACR,IAAMC,EAASjmB,OAAAC,EAAA,EAAAD,CAAA,GAAQ4Z,GAGvB,OAFAqM,EAAUgB,eAAiBjB,EAAQrM,QACnCsM,EAAUtO,mBAAqBqO,EAAQtb,YAChCub,GAER,CAAEgB,aAAc,EAAGtP,iBAAkB,MCtmB3BuP,GAA8BznB,YAC1C,SAACN,EAADO,GAAqD,IAA3CqI,EAA2CrI,EAA3CqI,WAAYof,EAA+BznB,EAA/BynB,YAAaC,EAAkB1nB,EAAlB0nB,YAC5BvZ,EAAY,CACjBnD,YAAa2J,GAAsClV,EAAO,CACzD0I,KAAM,aACNE,eAEDyC,OAAQ6J,GAAsClV,EAAO,CACpD0I,KAAM,QACNE,gBAIF,OAAO/H,OAAAC,EAAA,EAAAD,CAAA,GAAK6N,EAAZ,CAAuBsZ,cAAaC,iBAErC,SAAAhnB,GAAuD,IAApDsK,EAAoDtK,EAApDsK,YAAaF,EAAuCpK,EAAvCoK,OAAQ2c,EAA+B/mB,EAA/B+mB,YAAaC,EAAkBhnB,EAAlBgnB,YAC9B9B,EAAY5a,EAAY6a,yBAA2B,GACnDC,EAAahb,EAAO+a,yBAA2B,GAFC8B,EAINrnB,OAAOma,KAAKmL,GAC1DzU,KAAK,SAAChS,EAAGI,GAAJ,OAAUqmB,EAAUrmB,GAAKqmB,EAAUzmB,KACxCe,OACA,SAACqY,EAAMoL,EAAK5P,GACX,IAAM6T,EAAOtnB,OAAAC,EAAA,EAAAD,CAAA,GAAQiY,GAerB,OAdIxE,EAAI2T,GACPE,EAAQhP,OAAOC,KAAK8K,GACpBiE,EAAQC,gBAAgBhP,KAAK+M,EAAUjC,IAAQ,GAC/CpL,EAAKuP,WAAWjP,KAAKiN,EAAWnC,IAAQ,KAExCpL,EAAKK,OAAO8O,GAAetnB,GAAE,mBAE7BmY,EAAKsP,gBAAgBH,IACnBnP,EAAKsP,gBAAgBH,IAAgB,IAAM9B,EAAUjC,IAAQ,GAE/DpL,EAAKuP,WAAWJ,IACdnP,EAAKuP,WAAWJ,IAAgB,IAAM5B,EAAWnC,IAAQ,IAGrDiE,GAER,CAAEhP,OAAQ,GAAIiP,gBAAiB,GAAIC,WAAY,KArBzClP,EAJ8C+O,EAI9C/O,OAAQiP,EAJsCF,EAItCE,gBAAiBC,EAJqBH,EAIrBG,WA4CjC,MApBa,CACZlP,SACAG,SAAU,CACT,CACCgP,gBAAiBN,EACjBO,qBAAsBP,EACtBQ,YAAa,EACb1P,KAAMsP,EACNxL,MAAOjc,GAAE,4BAEV,CACC2nB,gBAAiBN,EACjBO,qBAAsBP,EACtBQ,YAAa,EACb1P,KAAMuP,EACNzL,MAAOjc,GAAE,wDChDD8nB,GAAmCnoB,YAC/C,CAACiP,GAAuBjO,GACxB,SAACkO,EAADjP,GAAwB,IAAbmoB,EAAanoB,EAAbmoB,OAoDV,OAnDmBnM,aAAUoM,aAAatnB,IAAI,SAAAqH,GAC7C,MAAO,CACN+K,MAAO/K,EACPkU,MAAOlU,EAAKvF,MAAM,KAAK,GACvBqM,OAAQA,EAAO9G,MAGfgJ,KAAK,SAAChS,EAAGI,GACT,IAAM8oB,EAAKC,wBAAanpB,EAAE8P,OAAS9P,EAAE8P,OAAOzL,IAAI+kB,OAAS,GACnDC,EAAKF,wBAAa/oB,EAAE0P,OAAS1P,EAAE0P,OAAOzL,IAAI+kB,OAAS,GAEzD,OAAOF,EAAGI,GAAGD,IAAO,EAAIA,EAAGC,GAAGJ,GAAM,EAAI,IAExCnoB,OACA,SAACqY,EAAMpQ,EAAMugB,GACZ,IAAMd,EAAOtnB,OAAAC,EAAA,EAAAD,CAAA,GAAQiY,GACf0G,EAAS2I,EAAQ3I,OACjBqH,EAAUne,EAehB,GAdc,IAAVugB,GAAevgB,EAAK8G,SACvB2Y,EAAQe,iBAAkB,EAC1B1J,EAAOpG,KAAK,CAAE2D,MAAOpc,GAAE,0BAGtBwnB,EAAQgB,mBACThB,EAAQe,iBACE,IAAVD,GACCvgB,EAAK8G,SAEN2Y,EAAQgB,kBAAmB,EAC3B3J,EAAOpG,KAAK,CAAE2D,MAAOpc,GAAE,4BAGpBkmB,EAAQrX,OAAQ,CACnB,IAAM4Z,EAAYzoB,GAAE,wBAAyB,CAC5CyJ,KAAM,CACLyc,EAAQrX,OAAOtL,UAAU4kB,OACzBJ,EACA7B,EAAQrX,OAAOtL,UAAUmlB,YACzBX,KAGF7B,EAAQjK,MAAR,GAAA9T,OAAmB+d,EAAQjK,MAA3B,MAAA9T,OAAqCsgB,EAArC,KAMD,OAJA5J,EAAOpG,KAAKyN,GAEZsB,EAAQ3I,OAASA,EAEV2I,GAER,CAAE3I,OAAQ,GAAI0J,iBAAiB,EAAOC,kBAAkB,IAjDlD3J,SAuDG8J,GAA4BhpB,YACxC,CAAC6P,GAAwC7O,GACzC,SAAC8O,EAADnP,GAAsC,IAAfsgB,EAAetgB,EAAfsgB,SAChBgI,EAAWnZ,EAAmB3P,OAAO,SAAC8P,EAAOuI,GAmBlD,OAlBAA,EAAKvI,MAAMC,QAAQ,SAAA7P,GAClB,IAAM6oB,EAAWjZ,EAAMkZ,IAAI9oB,IAAM,CAChC+oB,QAAS,GACTC,aAAc,GAGfH,EAASE,QAAQ5Q,EAAKxH,OAASkY,EAASE,QAAQ5Q,EAAKxH,QAAU,GAE/DkY,EAASE,QAAQ5Q,EAAKxH,OAAOsY,QAC5BJ,EAASE,QAAQ5Q,EAAKxH,OAAOsY,SAAW9Q,EAAK+Q,aAAe,IAE7DL,EAASE,QAAQ5Q,EAAKxH,OAAOb,oBAC5B+Y,EAASE,QAAQ5Q,EAAKxH,OAAOb,qBAC7BqI,EAAKrI,qBACL,EACDF,EAAMiB,IAAI7Q,EAAG6oB,KAGPjZ,GACL,IAAIkB,KAaP,OAXA8X,EAAS/Y,QAAQ,SAACiD,EAAOyQ,GACxB,IAAM4F,EAAejpB,OAAOiK,OAAO2I,EAAMiW,SAASjpB,OACjD,SAAC+S,GAAD,IAAQyH,EAARtb,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAY,GAAZ,OAAmB6T,EAAMnE,IAAIwZ,wBAAa5N,EAAE2O,SAAW,OACvDf,wBAAa,MAGdU,EAAS/X,IAAI0S,EAAK,CACjB0F,QAASpQ,WAAW6I,uBAAYyH,EAAaC,WAAYxI,QAIpDgI,IAIIS,GAA2C1pB,YACvD,CAACgpB,GAA2BhoB,GAC5B,SAAC2oB,IAAmCtqB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAX+oB,OAAkB,IAC7BwB,EAAYhZ,MAAMC,KAAK8Y,EAAcnf,UAAUrK,OACpD,SAAC+S,EAADhS,GAAA,IAAA2oB,EAAA3oB,EAAUooB,QAAV,OAA4BpW,QAA5B,IAAA2W,EAAoB,EAApBA,IACA,GA+CD,OA5CmB5N,aAAUoM,aAAatnB,IAAI,SAAAqH,GAAI,MAAK,CACtD+K,MAAO/K,EAEPkhB,SAAUK,EAAcR,IAAI/gB,IAAS,IAAIkhB,SAAW,KAEnDlY,KAAK,SAAChS,EAAGI,GACT,OAAOA,EAAE8pB,QAAUlqB,EAAEkqB,UAErBnpB,OACA,SAACqY,EAAMpQ,EAAMugB,GACZ,IAAMd,EAAOtnB,OAAAC,EAAA,EAAAD,CAAA,GAAQiY,GACf0G,EAAS2I,EAAQ3I,OACfoK,EAAyBlhB,EAAzBkhB,QAAYQ,EAHEvpB,OAAAgY,GAAA,EAAAhY,CAGW6H,EAHX,aAIhBme,EAAOhmB,OAAAC,EAAA,EAAAD,CAAA,GAAQupB,GACrBvD,EAAQjK,MAAQiK,EAAQpT,MAAMtQ,MAAM,KAAK,GAC3B,IAAV8lB,GAAeW,EAAU,IAC5BzB,EAAQe,iBAAkB,EAC1B1J,EAAOpG,KAAK,CAAE2D,MAAOpc,GAAE,+BAGxB,IAAM0pB,EAAQT,EAAUM,EAexB,OAbE/B,EAAQmC,qBACTnC,EAAQe,iBACE,IAAVD,GACAoB,GAAS,MAETlC,EAAQmC,qBAAsB,EAC9B9K,EAAOpG,KAAK,CAAE2D,MAAOpc,GAAE,+BAGxB6e,EAAOpG,KAAKyN,GAEZsB,EAAQ3I,OAASA,EAEV2I,GAER,CACC3I,OAAQ,GACR0J,iBAAiB,EACjBoB,qBAAqB,IAxChB9K,SAgDG+K,GAAoBjqB,YAChC,CACC,SAACkqB,EAAWC,GAAZ,MAAyB,CACxBD,YACAC,aAGF,SAAA9oB,GAEC,IAF2B,IAAzB6oB,EAAyB7oB,EAAzB6oB,UAAWC,EAAc9oB,EAAd8oB,QACPC,EAAS,GAEVC,EAAIC,KAAOJ,GAAWpb,QAAQ,SAClCub,EAAEE,KAAKD,KAAOH,GAASrb,QAAQ,WAAa,EAC5Cub,EAAEtb,IAAI,EAAG,SAETqb,EAAOtR,MAAMuR,GAEd,OAAOD,IAIII,GAAsBxqB,YAClC,CAACiqB,GAAmB,SAAC9kB,EAAGia,EAAIqL,GAAR,OAAsBA,IAC1C,SAACL,EAAQK,GAAT,OACCL,EAAOrpB,IAAI,SAAA2pB,GAAc,MAAK,CAC7BvX,MAAOuX,EACPpO,MAASmO,EACNH,KAAOI,GACNC,MAAM,SACN9P,OAAO,iBACRyP,KAAOI,GAAgB7P,OAAO,sBAIvB+P,GAAmB5qB,YAC/B,SAAA6qB,GAAiB,OAAIA,GACrB,SAAA3L,GAAM,OACLA,EAAOne,IAAI,SAAAyX,GACV,IAAMsS,EAAUvqB,OAAAC,EAAA,EAAAD,CAAA,GAAQiY,GAExB,OADAsS,EAAWxO,MAAQjc,GAAEmY,EAAK8D,OACnBwO,MAIGC,GAAyB/qB,YACrC,kBAAM4qB,GAAiBI,OACvB,SAAA9L,GAAM,OAAIA,IAGE+L,GAA0BjrB,YACtC4L,GACA,SAAAD,GAAQ,OACPA,EAAS5K,IAAI,SAAA+K,GACZ,IAAMsa,EAAO,WAAA5d,OAAcsD,EAAGrF,IAC9B,MAAO,CACN6V,MAAO8J,EACPjT,MAAOiT,EACPzE,OAAQ7V,EAAGof,QAAUpf,EAAGof,OAAO5rB,OAAS,QAAU,eCrNzC6rB,GAAyBnrB,YACrC,CAACqL,IACD,SAAA+f,GAAY,OAAIA,EAAa9rB,OAAS,IAG1B+rB,GAA2BrrB,YACvC,CAACkL,IACD,SAAAogB,GAAc,OAAIA,EAAehsB,OAAS,IAG9BisB,GAA0BvrB,YACtC,CAAC6D,GACD,SAAA5D,GAAA,IAAAurB,EAAAvrB,EAAGwrB,KAAH,kBAAAD,EAAU,GAAVA,GAA0BE,iBAGdC,GAAyB3rB,YACrC,CAAC0D,EAA6B2nB,IAC9B,SAAA1qB,EAA+BirB,GAA/B,IAAGC,EAAHlrB,EAAGkrB,yBAAH,OACCD,GAAexY,OAAOyY,GAA4B,IAGvCC,GAAyB9rB,YACrCwL,GACA,SAAAugB,GAAY,OAAIA,EAAazsB,OAAS,IAG1B0sB,GAA6BhsB,YACzC0U,GACA,SAAAwD,GAAgB,OAAIA,EAAmB,IAE3B+T,GAA2BjsB,YACvC0U,GACA,SAAAwD,GAAgB,OAAIA,EAAmB,MAG3BgU,GAAgBlsB,YAC5B,CACCmrB,GACAE,GACAS,GACAP,GACAI,GACAK,GACAC,IAED,SACCE,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAPD,MAQM,CACLN,mBACAC,qBACAC,mBACAC,oBACAC,mBACAC,iBACAC,wBC7DWC,GAAiB,SAAAhtB,GAAK,OAAIA,EAAMitB,OAAOlgB,UAOvCmgB,IALe5sB,YAC3B0sB,GACA,SAAAzsB,GAAA,OAAAA,EAAG4sB,SAG+B7sB,YAClC0sB,GACA,SAAA/rB,GAAA,OAAAA,EAAGmsB,OAAqB,MAGZC,GAAqB/sB,YACjC0sB,GACA,SAAA5rB,GAAA,IAAG+rB,EAAH/rB,EAAG+rB,OAAH,OAAgB,IAAIG,gBAAgBH,KAG/BI,GAAkB,CACvBtlB,UAAW+C,GACXwiB,QAASxiB,GACT4I,MAAOlI,GACPyX,MAAOpX,IAGF0hB,GAAQ,CACbC,YAAY,EACZlQ,WAAW,GAGCmQ,GAA6BrtB,YACzC,CAAC0sB,GAAgB,SAAAhtB,GAAK,OAAIA,GAAO0F,GACjC,SAAAlE,EAAoBxB,EAAO4F,GAAS,IAAAgoB,EAAApsB,EAAjCqsB,SACIC,QAD6B,IAAAF,EAAtB,GAAsBA,GACZzqB,MAAM,KAAKmK,OAAO,SAAAF,GAAC,QAAMA,IAC1C2gB,EAAgBD,EAAM7U,MAAM,EAAG,GAGrC,GAAyB,cAArB8U,EAAc,KAAuBN,GAAMM,EAAc,IAC5D,MAAO,GAGR,IAAMC,EAAkB,CACvBpM,GAAE,IAAA9Y,OAAMilB,EAAcjR,KAAK,MAC3BF,MAAO,aAGFhE,EAAOkV,EAAM7U,MAAM,GAEnBgV,EAASrV,EAAKvX,IAAI,SAAC+L,EAAG6b,GAC3B,IAAMiF,EAAOtV,EAAKqQ,EAAQ,GACpBkF,EAAWZ,GAAgBW,GAE7BtR,EAAQxP,EAER+gB,IAEHvR,GADkBuR,EAASnuB,EAAOoN,IAAM,IAAhCG,OACSqP,GAGlB,IAAMwR,EAAK,CACVxR,SAGD,GAAIqM,EAAQrQ,EAAKhZ,OAAS,EAAG,CAC5B,IAAMyuB,EAAQxtB,OAAAgE,EAAA,EAAAhE,CAAO+X,GAEf0V,EAAYD,EAASE,QAAQ,WAG/BD,GAAa,IAChBD,EAASC,GAAsB,eAAT1oB,EAAwB,YAAc,YAG7DwoB,EAAGxM,GAAH,GAAA9Y,OAAWklB,EAAgBpM,GAA3B,KAAA9Y,OAAiCulB,EAC/BpV,MAAM,EAAGgQ,EAAQ,GACjBnM,KAAK,MAGR,OAAOsR,IAWR,MARoB,CAACJ,GAADllB,OAAAjI,OAAAgE,EAAA,EAAAhE,CAAqBotB,IAAQ5sB,IAAI,SAAAvB,GAAC,OAAAe,OAAAC,EAAA,EAAAD,CAAA,GAClDf,EADkD,CAErD8c,MACCjc,GAAEb,EAAE8c,MAAMK,iBAAmBnd,EAAE8c,MAAMK,cAClCtc,GAAEb,EAAE8c,MAAMK,eACVnd,EAAE8c,WAGe,KCjGxB4R,EAAAC,EAAAC,EAAA,sBAAArvB,IAAAmvB,EAAAC,EAAAC,EAAA,sBAAAjvB,IAAA+uB,EAAAC,EAAAC,EAAA,uBAAAC,IAAAH,EAAAC,EAAAC,EAAA,uBAAAruB,IAAAmuB,EAAAC,EAAAC,EAAA,uBAAA1tB,IAAAwtB,EAAAC,EAAAC,EAAA,uBAAAvtB,IAAAqtB,EAAAC,EAAAC,EAAA,uBAAAptB,IAAAktB,EAAAC,EAAAC,EAAA,uBAAAhtB,IAAA8sB,EAAAC,EAAAC,EAAA,uBAAA7sB,IAAA2sB,EAAAC,EAAAC,EAAA,uBAAA1sB,IAAAwsB,EAAAC,EAAAC,EAAA,uBAAAvsB,IAAAqsB,EAAAC,EAAAC,EAAA,sBAAArsB,IAAAmsB,EAAAC,EAAAC,EAAA,sBAAAhsB,IAAA8rB,EAAAC,EAAAC,EAAA,uBAAA3rB,IAAAyrB,EAAAC,EAAAC,EAAA,uBAAA1rB,IAAAwrB,EAAAC,EAAAC,EAAA,sBAAAxrB,IAAAsrB,EAAAC,EAAAC,EAAA,uBAAAtrB,IAAAorB,EAAAC,EAAAC,EAAA,sBAAArrB,IAAAmrB,EAAAC,EAAAC,EAAA,sBAAAprB,IAAAkrB,EAAAC,EAAAC,EAAA,sBAAAnrB,IAAAirB,EAAAC,EAAAC,EAAA,sBAAA/qB,IAAA6qB,EAAAC,EAAAC,EAAA,sBAAA1qB,IAAAwqB,EAAAC,EAAAC,EAAA,sBAAAvqB,IAAAqqB,EAAAC,EAAAC,EAAA,sBAAAhqB,IAAA8pB,EAAAC,EAAAC,EAAA,sBAAA5pB,IAAA0pB,EAAAC,EAAAC,EAAA,sBAAAzpB,IAAAupB,EAAAC,EAAAC,EAAA,uBAAArpB,IAAAmpB,EAAAC,EAAAC,EAAA,uBAAAppB,IAAAkpB,EAAAC,EAAAC,EAAA,uBAAAnpB,IAAAipB,EAAAC,EAAAC,EAAA,uBAAAhpB,IAAA8oB,EAAAC,EAAAC,EAAA,uBAAA7oB,IAAA2oB,EAAAC,EAAAC,EAAA,uBAAAxoB,IAAAsoB,EAAAC,EAAAC,EAAA,uBAAA9nB,IAAA4nB,EAAAC,EAAAC,EAAA,uBAAA5nB,IAAA0nB,EAAAC,EAAAC,EAAA,uBAAA1nB,IAAAwnB,EAAAC,EAAAC,EAAA,uBAAAtnB,IAAAonB,EAAAC,EAAAC,EAAA,uBAAApnB,IAAAknB,EAAAC,EAAAC,EAAA,uBAAAlnB,IAAAgnB,EAAAC,EAAAC,EAAA,uBAAA/mB,KAAA6mB,EAAAC,EAAAC,EAAA,uBAAA7mB,KAAA2mB,EAAAC,EAAAC,EAAA,uBAAA3mB,KAAAymB,EAAAC,EAAAC,EAAA,uBAAAxmB,KAAAsmB,EAAAC,EAAAC,EAAA,uBAAAtmB,KAAAomB,EAAAC,EAAAC,EAAA,uBAAAnmB,KAAAimB,EAAAC,EAAAC,EAAA,sBAAA7lB,KAAA2lB,EAAAC,EAAAC,EAAA,uBAAA3lB,KAAAylB,EAAAC,EAAAC,EAAA,uBAAAxlB,KAAAslB,EAAAC,EAAAC,EAAA,uBAAA/kB,KAAA6kB,EAAAC,EAAAC,EAAA,uBAAAE,KAAAJ,EAAAC,EAAAC,EAAA,uBAAA9jB,KAAA4jB,EAAAC,EAAAC,EAAA,sBAAA1jB,KAAAwjB,EAAAC,EAAAC,EAAA,sBAAAzjB,KAAAujB,EAAAC,EAAAC,EAAA,sBAAAvjB,KAAAqjB,EAAAC,EAAAC,EAAA,sBAAAljB,KAAAgjB,EAAAC,EAAAC,EAAA,sBAAAjjB,KAAA+iB,EAAAC,EAAAC,EAAA,sBAAAhjB,KAAA8iB,EAAAC,EAAAC,EAAA,sBAAA/iB,KAAA6iB,EAAAC,EAAAC,EAAA,sBAAA5iB,KAAA0iB,EAAAC,EAAAC,EAAA,sBAAA3iB,KAAAyiB,EAAAC,EAAAC,EAAA,uBAAAxiB,KAAAsiB,EAAAC,EAAAC,EAAA,uBAAAviB,KAAAqiB,EAAAC,EAAAC,EAAA,sBAAA/hB,KAAA6hB,EAAAC,EAAAC,EAAA,sBAAA9hB,KAAA4hB,EAAAC,EAAAC,EAAA,uBAAArhB,KAAAmhB,EAAAC,EAAAC,EAAA,uBAAAhhB,KAAA8gB,EAAAC,EAAAC,EAAA,uBAAA7gB,KAAA2gB,EAAAC,EAAAC,EAAA,uBAAA1gB,KAAAwgB,EAAAC,EAAAC,EAAA,uBAAAvgB,KAAAqgB,EAAAC,EAAAC,EAAA,uBAAApgB,KAAAkgB,EAAAC,EAAAC,EAAA,sBAAAjgB,KAAA+f,EAAAC,EAAAC,EAAA,sBAAAxf,KAAAsf,EAAAC,EAAAC,EAAA,uBAAAnf,KAAAif,EAAAC,EAAAC,EAAA,uBAAAjf,KAAA+e,EAAAC,EAAAC,EAAA,uBAAAhf,KAAA8e,EAAAC,EAAAC,EAAA,uBAAA7e,KAAA2e,EAAAC,EAAAC,EAAA,uBAAA1e,KAAAwe,EAAAC,EAAAC,EAAA,uBAAAve,KAAAqe,EAAAC,EAAAC,EAAA,uBAAA9c,KAAA4c,EAAAC,EAAAC,EAAA,uBAAApc,KAAAkc,EAAAC,EAAAC,EAAA,uBAAAlc,KAAAgc,EAAAC,EAAAC,EAAA,uBAAAvb,KAAAqb,EAAAC,EAAAC,EAAA,uBAAA3a,KAAAya,EAAAC,EAAAC,EAAA,uBAAAja,KAAA+Z,EAAAC,EAAAC,EAAA,uBAAA1Z,KAAAwZ,EAAAC,EAAAC,EAAA,sBAAAxZ,KAAAsZ,EAAAC,EAAAC,EAAA,sBAAAnZ,KAAAiZ,EAAAC,EAAAC,EAAA,sBAAA/Y,KAAA6Y,EAAAC,EAAAC,EAAA,sBAAA3Y,KAAAyY,EAAAC,EAAAC,EAAA,sBAAAzY,KAAAuY,EAAAC,EAAAC,EAAA,sBAAApjB,KAAAkjB,EAAAC,EAAAC,EAAA,uBAAAzX,KAAAuX,EAAAC,EAAAC,EAAA,uBAAArX,KAAAmX,EAAAC,EAAAC,EAAA,uBAAAlX,KAAAgX,EAAAC,EAAAC,EAAA,sBAAAtW,KAAAoW,EAAAC,EAAAC,EAAA,uBAAAjW,KAAA+V,EAAAC,EAAAC,EAAA,uBAAA/U,KAAA6U,EAAAC,EAAAC,EAAA,uBAAA5U,KAAA0U,EAAAC,EAAAC,EAAA,uBAAAzU,KAAAuU,EAAAC,EAAAC,EAAA,uBAAAtU,KAAAoU,EAAAC,EAAAC,EAAA,uBAAA3T,KAAAyT,EAAAC,EAAAC,EAAA,sBAAAxT,KAAAsT,EAAAC,EAAAC,EAAA,uBAAAnT,KAAAiT,EAAAC,EAAAC,EAAA,uBAAAjT,KAAA+S,EAAAC,EAAAC,EAAA,mBAAAF,EAAAC,EAAAC,EAAA,mBAAAF,EAAAC,EAAAC,EAAA,mBAAAF,EAAAC,EAAAC,EAAA,uBAAA7S,KAAA2S,EAAAC,EAAAC,EAAA,mBAAAF,EAAAC,EAAAC,EAAA,sBAAA7O,KAAA2O,EAAAC,EAAAC,EAAA,uBAAA5N,KAAA0N,EAAAC,EAAAC,EAAA,sBAAAvN,KAAAqN,EAAAC,EAAAC,EAAA,sBAAA5L,KAAA0L,EAAAC,EAAAC,EAAA,sBAAA3L,KAAAyL,EAAAC,EAAAC,EAAA,sBAAA1L,KAAAwL,EAAAC,EAAAC,EAAA,sBAAAxL,KAAAsL,EAAAC,EAAAC,EAAA,sBAAApL,KAAAkL,EAAAC,EAAAC,EAAA,sBAAAlL,KAAAgL,EAAAC,EAAAC,EAAA,uBAAAlK,KAAAgK,EAAAC,EAAAC,EAAA,sBAAAjK,KAAA+J,EAAAC,EAAAC,EAAA,uBAAA5I,KAAA0I,EAAAC,EAAAC,EAAA,sBAAA3I,KAAAyI,EAAAC,EAAAC,EAAA,sBAAA1I,KAAAwI,EAAAC,EAAAC,EAAA,sBAAAzI,KAAAuI,EAAAC,EAAAC,EAAA,sBAAA/H,KAAA6H,EAAAC,EAAAC,EAAA,sBAAArH,KAAAmH,EAAAC,EAAAC,EAAA,uBAAApH,KAAAkH,EAAAC,EAAAC,EAAA,uBAAA7G,KAAA2G,EAAAC,EAAAC,EAAA,sBAAA3G,KAAAyG,EAAAC,EAAAC,EAAA,uBAAAjG,KAAA+F,EAAAC,EAAAC,EAAA,uBAAA1E,KAAAwE,EAAAC,EAAAC,EAAA,uBAAAnE,KAAAiE,EAAAC,EAAAC,EAAA,uBAAA5D,KAAA0D,EAAAC,EAAAC,EAAA,uBAAArD,KAAAmD,EAAAC,EAAAC,EAAA,uBAAAnD,KAAAiD,EAAAC,EAAAC,EAAA,uBAAA7C,KAAA2C,EAAAC,EAAAC,EAAA,sBAAAlC,KAAAgC,EAAAC,EAAAC,EAAA,uBAAA1B,KAAAwB,EAAAC,EAAAC,EAAA,uBAAAxB,KAAAsB,EAAAC,EAAAC,EAAA,uBAAArB,KAAAmB,EAAAC,EAAAC,EAAA,uBAAAf,uCCAO,SAASkB,EAAqB3K,GACpC,IACC,IAAMpL,EAAOgW,aAAaC,QAAQ7K,GAClC,GAAa,OAATpL,EACH,OAED,OAAO6E,KAAKrR,MAAMwM,GACjB,MAAOkW,GACR,QAIK,SAASC,EAAmBnW,EAAMoL,GACxC,IACC,IAAMgL,EAAavR,KAAKC,UAAU9E,GAClCgW,aAAaK,QAAQjL,EAAKgL,GACzB,MAAOF,GACRI,QAAQC,KAAKL,IAIR,SAASM,EAAuBpL,GACtC4K,aAAaS,WAAWrL,GAGlB,SAASsL,IACf,OAAO3uB,OAAOma,KAAK8T,cA1BpBN,EAAAC,EAAAC,EAAA,sBAAAG,IAAAL,EAAAC,EAAAC,EAAA,sBAAAO,IAAAT,EAAAC,EAAAC,EAAA,sBAAAY,IAAAd,EAAAC,EAAAC,EAAA,sBAAAc,sCCAAhB,EAAAC,EAAAC,EAAA,sBAAAe,IAAA,IAAAC,EAAAlB,EAAA,IAEaiB,EAAU,SAAAE,GACtB,OAAMA,GAAOnU,cAAYoU,QAAQC,UAAUC,KAAKH,GACxCI,UAAQC,wBAAwBL,EAAKxoB,mCAGtCwoB,yBCPRM,EAAAC,QAAiB1B,EAAA7N,EAAuB,gRCSlCwP,EAAiB,CACtBC,OAAQ,UACRC,QAAS,UACTC,QAAS,UACTC,KAAM,OACNC,OAAQ,QACRC,MAAO,SAGKC,EAAb,SAAAC,GACC,SAAAD,EAAYE,GAAO,IAAAC,EAAA,OAAAhwB,OAAAiwB,EAAA,EAAAjwB,CAAAkwB,KAAAL,IAClBG,EAAAhwB,OAAAmwB,EAAA,EAAAnwB,CAAAkwB,KAAAlwB,OAAAowB,EAAA,EAAApwB,CAAA6vB,GAAAQ,KAAAH,KAAMH,KAwBPO,MAAQ,SAAApqB,GACP8pB,EAAKO,SAAS,CAAEC,QAAQ,IACxBC,WAAW,kBAAMT,EAAKD,MAAM1S,QAAQqT,YAAYxqB,IAAK,MAxBrD8pB,EAAK7wB,MAAQ,CACZqxB,QAAQ,EACRG,MAAO,IALUX,EADpB,OAAAhwB,OAAA4wB,EAAA,EAAA5wB,CAAA6vB,EAAAC,GAAA9vB,OAAA6wB,EAAA,EAAA7wB,CAAA6vB,EAAA,EAAAxM,IAAA,4BAAAzQ,MAAA,SAU2Bke,GACzB,IAAIH,EAAQT,KAAK/wB,MAAMwxB,MACnBI,EAAYD,EAAUE,OAAO,GAE5BD,IAKcA,GAAaJ,EAAMzqB,KAAO6qB,EAAU7qB,IAGtDgqB,KAAKK,SAAS,CAAEC,QAAQ,EAAMG,MAAOI,IAPrCb,KAAKK,SAAS,CAAEC,QAAQ,EAAOG,MAAO,OAfzC,CAAAtN,IAAA,SAAAzQ,MAAA,WA+BU,IAAAqe,EAAAf,KACAS,EAAUT,KAAK/wB,MAAfwxB,MAER,IAAKA,EAAO,OAAO,KAEnB,IAAMO,EAAeP,EAAMO,cAAgB,CAC1CC,SAAU,SACVC,WAAY,UAQb,OALIT,EAAMU,MACTH,EAAaE,WAAa,SAC1BF,EAAaC,SAAW,OAIxB3T,EAAA3e,EAAA4e,cAAA6T,EAAA,GACCC,KAAMrB,KAAK/wB,MAAMqxB,OACjBgB,iBAAkBb,EAAMc,SAAW,EACnCC,QAAS,kBAAOf,EAAMgB,YAAcV,EAAKX,MAAMK,EAAMzqB,KACrDgrB,aAAcA,GAEd1T,EAAA3e,EAAA4e,cAAAmU,EAAA,GACCC,SAAUvC,EAAeqB,EAAM9oB,MAC/BiqB,QAAQ,SACRC,OACCvU,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACErB,EAAMoB,QAAUpB,EAAMoB,QACrBpB,EAAMgB,YACPnU,EAAA3e,EAAA4e,cAAAwU,EAAA,GACC5O,IAAG,SAAApb,OAAW0oB,EAAMzqB,IACpBgsB,aAAW,QACXC,MAAM,UACNC,KAAK,QACLC,QAAS,kBAAO1B,EAAMgB,YAAcV,EAAKX,MAAMK,EAAMzqB,MAErDsX,EAAA3e,EAAA4e,cAAA6U,EAAA,YAMF3B,EAAM5U,OAAS,IAAImN,iBAzE1B2G,EAAA,CAA2B0C,aAmGZC,kBAdf,SAAyBrzB,GAGxB,MAAO,CACN6xB,OAFY7xB,EAAMwC,OAEHqvB,QAAU,KAI3B,SAA4ByB,GAC3B,MAAO,CACNpV,QAASqV,YAAmBrV,IAASoV,KAIxBD,CAGb3C,wECjDa8C,MA1DR,SAAAjzB,GAA+B,IAAZkzB,EAAYlzB,EAAZkzB,SAAYC,EACbC,oBAAS,GADIC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GAC9BtB,EAD8BwB,EAAA,GACxBC,EADwBD,EAAA,GAAAE,EAUjCC,YAAY7tB,MANf8tB,EAJoCF,EAIpCE,UACAC,EALoCH,EAKpCG,SACA5C,EANoCyC,EAMpCzC,OACA6C,EAPoCJ,EAOpCI,SACAC,EARoCL,EAQpCK,aARoCC,EAAAN,EASpChb,KAToCub,EAAAD,EAS5B7mB,aAT4B,IAAA8mB,EASpB,GAToBA,EAAAC,EAAAF,EAShBG,YATgB,IAAAD,EAST,GATSA,EASLE,EATKJ,EASLI,aAAcC,EATTL,EASSK,YAsB9C,OAnBAC,oBAAU,WACTb,IAAUxC,IACR,CAACA,EAAQ6C,IAkBX7V,EAAA3e,EAAA4e,cAAAqW,EAAA,GAAQvC,KAAMA,GACb/T,EAAA3e,EAAA4e,cAAAsW,EAAA,GAAa7tB,GAAG,sBAAsBwG,GACtC8Q,EAAA3e,EAAA4e,cAAAuW,EAAA,OACCxW,EAAA3e,EAAA4e,cAAAwW,EAAA,GAAmB/tB,GAAG,4BACpBwtB,GAEDd,IAEAU,GACD9V,EAAA3e,EAAA4e,cAAAyW,EAAA,OACEN,GACApW,EAAA3e,EAAA4e,cAAA0W,EAAA,GAAQ9B,QApBE,WACU,oBAAbe,GACVA,IAGDJ,GAAQ,IAeqBb,MAAM,WAC7ByB,GAGFD,GACAnW,EAAA3e,EAAA4e,cAAA0W,EAAA,GAAQ9B,QAhCG,WACU,oBAAdc,GACVA,IAEDH,GAAQ,IA4BsBb,MAAM,UAAUiC,WAAS,GACjDT,0KC1DKU,EAAsB,SAAA9B,GAAa,IACzC+B,EADyC,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAxE,EAAAhwB,OAAAiwB,EAAA,EAAAjwB,CAAAkwB,KAAAoE,GAAA,QAAAG,EAAA31B,UAAAC,OAAAwK,EAAA,IAAA8G,MAAAokB,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAAnrB,EAAAmrB,GAAA51B,UAAA41B,GAAA,OAAA1E,EAAAhwB,OAAAmwB,EAAA,EAAAnwB,CAAAkwB,MAAAsE,EAAAx0B,OAAAowB,EAAA,EAAApwB,CAAAs0B,IAAAjE,KAAA3d,MAAA8hB,EAAA,CAAAtE,MAAAjoB,OAAAsB,MAE9CorB,kBAAoB,SAAA5T,GACnB,IAAM6T,EAAqB,kBAAP7T,EAAkBA,EAAK,CAAEiM,SAAUjM,GAEvD,OADaiP,EAAKD,MAAM8E,QAAQC,WAAWF,IAJE5E,EAQ9C+E,YAR8C,eAAAr1B,EAAAM,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAQhC,SAAAC,EAAMC,GAAN,IAAAC,EAAAtU,EAAAsR,EAAA,OAAA4C,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,UACbJ,EAAMK,iBACNL,EAAMM,kBAFOL,EAGWrF,EAAKD,MAArBhP,EAHKsU,EAGLtU,KAAIsR,EAHCgD,EAGDhD,UAEsB,oBAAZA,EALT,CAAAkD,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EAMNnD,IANM,OAOZrC,EAAKD,MAAM8E,QAAQtc,KAAKwI,GAPZwU,EAAAC,KAAA,gBASZxF,EAAKD,MAAM8E,QAAQtc,KAAKwI,GATZ,yBAAAwU,EAAAI,SAAAR,MARgC,gBAAAS,GAAA,OAAAl2B,EAAAgT,MAAAwd,KAAApxB,YAAA,GAAAkxB,EAAA,OAAAhwB,OAAA4wB,EAAA,EAAA5wB,CAAAs0B,EAAAC,GAAAv0B,OAAA6wB,EAAA,EAAA7wB,CAAAs0B,EAAA,EAAAjR,IAAA,SAAAzQ,MAAA,WA2BrC,IAAAijB,EAUJ3F,KAAKH,MARR+F,EAFOD,EAEPC,aACA/U,EAHO8U,EAGP9U,GAMGhJ,GATI8d,EAIPE,MAJOF,EAKP3pB,SALO2pB,EAMPhB,QANOgB,EAOPG,cAPOH,EAQPxD,QAROryB,OAAAgY,EAAA,EAAAhY,CAAA61B,EAAA,+EAWFI,EAAa/F,KAAKyE,kBAAkB5T,GAE1C,OACCvD,EAAA3e,EAAA4e,cAAC8U,EAADvyB,OAAAk2B,OAAA,CACCC,IAAKL,GACD/d,EAFL,CAGC4F,KAAMsY,EACN5D,QAASnC,KAAK6E,mBA7C6BT,EAAA,CACvB8B,IAAM7D,WAkDxB8D,EAAaC,YAAWhC,GAE9B,OAAOiC,qBAAW,SAACxG,EAAOoG,GAAR,OACjB3Y,EAAA3e,EAAA4e,cAAC4Y,EAADr2B,OAAAk2B,OAAA,GAAgBnG,EAAhB,CAAuB+F,aAAcK,uCCtDxBK,GAAA,SAAC5B,EAAM6B,GAA8B,IAAjBC,EAAiB53B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACxC63B,EAAO,SAAA5G,GAAK,OACfvS,EAAA3e,EAAA4e,cAACmZ,GAAA,EAAD52B,OAAAk2B,OAAA,CAASQ,QAASA,GAAa3G,GAC7B6E,IAQH,OAJA+B,EAAKF,YAAcA,GACnBE,EAAOE,KAAKF,IACPG,QAAU,UAERH,GCZOH,MACdhZ,EAAA3e,EAAA4e,cAAA,SACCD,EAAA3e,EAAA4e,cAAA,QAAMmQ,EAAE,0MACRpQ,EAAA3e,EAAA4e,cAAA,QAAMmQ,EAAE,oLAGT,WACA,sHCFKmJ,GAAY,CACjBlK,WAAY,EACZlQ,UAAW,EACXqa,EAAK,aACLC,EAAK,aAGAC,GAAe,SAACC,EAAI/O,GACzBgP,YAAQ7e,aAAI,cAAAtQ,OAAe8uB,GAAU3O,EAAQ,QAGxCiP,GAAgBC,aAAW,SAAAC,GAChC,MAAO,CACNC,UAAW,CAIVC,WAAY,QAKTC,GAAeJ,aAAW,SAAAC,GAC/B,IAAMI,EAAc,SAAAj4B,KAAGqF,KAAH,OAEhBwyB,EAAMK,QAAQC,QAAQC,MAE1B,MAAO,CACNC,KAAM,CACLC,SAAU,GACVC,aAAc,CACb9F,MAAOoF,EAAMK,QAAQM,OAAOC,MAC5B1Q,gBAAiBkQ,GAElBS,UAAW,CACV3Q,gBAAiB8P,EAAMK,QAAQ7F,OAAOsG,QAGxCC,SAAU,CACTnG,MAAOoF,EAAMK,QAAQM,OAAOC,MAC5B1Q,gBAAiBkQ,MA6BLY,GAxBI,SAAAn4B,GAAyB,IAAtB2E,EAAsB3E,EAAtB2E,KAAMyzB,EAAgBp4B,EAAhBo4B,UACrBC,EAAcpB,GAAc,CAAEtyB,SAC9B2zB,EAAahB,GAAa,CAAE3yB,SAClC,OACCyY,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWA,GACfhb,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKC,QAAQ,oBACZpb,EAAA3e,EAAA4e,cAAAob,EAAA,QACArb,EAAA3e,EAAA4e,cAAAqb,GAAA,GACCC,QAASN,EACT7lB,MAAOmkB,GAAUhyB,GACjBi0B,SAAU9B,GACV+B,UAAU,UACVnH,QAAQ,YACRI,aAAW,eAEX1U,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKH,QAASL,EAAY3c,MAAOjc,aAAE,gBACnC0d,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKH,QAASL,EAAY3c,MAAOjc,aAAE,gBAEpC0d,EAAA3e,EAAA4e,cAAAob,EAAA,WCpEWrC,MACdhZ,EAAA3e,EAAA4e,cAAA,SACCD,EAAA3e,EAAA4e,cAAA,QACC0b,KAAK,kBACLvL,EAAE,mdAEHpQ,EAAA3e,EAAA4e,cAAA,QACC0b,KAAK,oBACLvL,EAAE,uMAEHpQ,EAAA3e,EAAA4e,cAAA,QACC0b,KAAK,kBACLvL,EAAE,wgDAGJ,WACA,8LChBYwL,GAAe,SAAA15B,GAAA,IAAG84B,EAAH94B,EAAG84B,UAAHa,EAAA35B,EAAcyyB,aAAd,IAAAkH,EAAsB,UAAtBA,EAAA,OAC3B7b,EAAA3e,EAAA4e,cAAA6b,GAAA,GAAgBd,UAAWA,EAAWrG,MAAOA,KAGjCoH,GAAiB,SAAAn5B,GAAA,IAAGo5B,EAAHp5B,EAAGo5B,QAAS5G,EAAZxyB,EAAYwyB,SAAZ,OAC7BpV,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKc,QAAQ,OAAOC,KAAK,IAAIC,WAAW,UACvCnc,EAAA3e,EAAA4e,cAAAkb,EAAA,OAAM/F,GACNpV,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiB,GAAI,EAAGC,GAAI,GACdL,GAAWhc,EAAA3e,EAAA4e,cAAAqc,GAAA,WCyBTC,GAAa1F,EAAoB2F,KACjCC,GAAgB5F,EAAoB6F,IAClCC,GAAuB7zB,gCAEzB8zB,GAAY9C,aAAW,SAAAC,GAC5B,IAAMI,EAAc,SAAAj4B,KAAGqF,KAAH,OAEhBwyB,EAAMK,QAAQC,QAAQwC,cAGpBC,EAAgB,SAAAl6B,KAAG2E,KAAH,OAElBwyB,EAAMK,QAAQC,QAAQC,MAG1B,MAAO,CACNyC,WAAY,CACX9S,gBAAiB8P,EAAMK,QAAQH,WAAW+C,OAE3CC,WAAY,CACXC,WAAY,GAEbC,YAAa,CACZxI,MAAOoF,EAAMK,QAAQlE,KAAKkH,UAC1BnB,QAAS,OACToB,cAAe,SACfC,eAAgB,iBAEjBC,QAAS,CACRC,SAAU,WACV3J,IAAK,EACL4J,KAAM,EACNC,MAAO,EACPC,OAAQ,IACRC,UAAW,OACXC,UAAW,UAEZC,eAAgB,GAChB1Y,QAAS,CACRoY,SAAU,WACVG,OAAQ,EACRF,KAAM,EACNC,MAAO,EACPK,QAAS,GACTC,YAAa,GACbC,eAAgB,EAChBC,eAAgBnE,EAAMK,QAAQ+D,QAC9BC,eAAgB,SAEjBpL,OAAQ,CACP2B,MAAOwF,EACPlQ,gBAAiB6S,EACjBuB,UAAW,CACVpU,gBAAiB6S,GAElBlC,UAAW,CACV3Q,gBAAiB6S,EACjBnI,MAAOwF,EACPmE,0BAA2B,CAC1B3J,MAAOwF,IAGTmE,0BAA2B,CAC1B3J,MAAOoF,EAAMK,QAAQM,OAAOC,QAG9B4D,QAAS,CACR5J,MAAOoF,EAAMK,QAAQlE,KAAKsI,KAC1B5D,UAAW,CACVjG,MAAOoF,EAAMK,QAAQlE,KAAKkH,YAG5BqB,WAAY,CACXC,aAAY,GAAAj0B,OAAKsvB,EAAM4E,QAAQ,GAAnB,OAEbC,KAAM,CACLC,OAAQ,GACRC,MAAO,OACPC,OAAQ,WAETC,OAAQ,CACPC,SAAUlF,EAAMmF,WAAWC,QAAQ,QAqQvBC,OAhQf,SAAiB7M,GAChB,IAAMhrB,EAAOmuB,YAAYruB,MACnB9C,EAAWmxB,YAAYxwB,KACvBq2B,EAAUqB,GAAU,CAAEr1B,SACtB83B,EAAiB3J,YAAY/G,MAC3BtE,EAAWqL,YAAYzyB,MAAvBonB,OAGF3b,EAAW2wB,EAAe7P,SAAS1qB,MAAM,KAAK,GAE9CsH,EADwB,eAAT7E,EACQ,QAAU,QAC/B+3B,EAAsC5J,YAC7C/vB,KADO25B,kCAIR,MAAgB,eAAT/3B,GAAkC,cAATA,EAAuB,KACtDyY,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQwB,YACvB/c,EAAA3e,EAAA4e,cAACsf,EAAA,EAAD,CACChE,QAAS,CACRwC,QAASxC,EAAQ0B,WACjB1C,KAAMgB,EAAQ4B,aAEfnC,UAAWO,EAAQgC,QACnBiC,UAAU,OAEVxf,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CACCC,QAAQ,mBACRJ,UAAWyE,KAAWlE,EAAQuC,iBAE9B9d,EAAA3e,EAAA4e,cAACuc,EAAA,EAAD,KACCxc,EAAA3e,EAAA4e,cAACwc,GAAD,CAEClZ,GAAI,CAAEiM,SAAU,cAAgBjoB,GAChCyzB,UAAWO,EAAQqD,QAGrB5e,EAAA3e,EAAA4e,cAACuc,EAAA,EAAD,KACCxc,EAAA3e,EAAA4e,cAACyf,GAAD,CACC1D,SACEsD,GACqC,IAAtCA,GAGDtf,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CACCrL,QAAQ,SACR2H,QAAQ,QACRuD,UAAU,MACV7K,MAAM,cACN4G,QAAS,CAAEqE,OAAQrE,EAAQyD,SAE3Bhf,EAAA3e,EAAA4e,cAAA,iBAAAxV,OAAY60B,GACX,EADD,KAAA70B,OACM4f,KAEPrK,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAYrL,QAAQ,SAASkL,UAAU,MAAMvD,QAAQ,SACnD35B,aAAE,wBAKP0d,EAAA3e,EAAA4e,cAAC4f,GAAD,CAAY7E,UAAWO,EAAQkD,WAAYl3B,KAAMA,EAAMjF,EAAGA,OAC1D0d,EAAA3e,EAAA4e,cAACob,EAAA,EAAD,MACArb,EAAA3e,EAAA4e,cAACsc,GAAD,CACCqD,QAAM,EACNrc,GAAI,CAAEiM,SAAU,cAAgBjoB,GAChCyzB,UAAWyE,KAAWj9B,OAAAs9B,EAAA,EAAAt9B,CAAA,GAAG+4B,EAAQvI,QAAUtkB,KAE3CsR,EAAA3e,EAAA4e,cAAC8f,EAAA,EAAD,KACC/f,EAAA3e,EAAA4e,cAAC+f,GAAA3+B,EAAD,OAED2e,EAAA3e,EAAA4e,cAACggB,EAAA,EAAD,CAAc5F,QAAS/3B,aAAE,gBAE1B0d,EAAA3e,EAAA4e,cAACob,EAAA,EAAD,MACArb,EAAA3e,EAAA4e,cAACsc,GAAD,CACCqD,QAAM,EACNrc,GAAI,CAAEiM,SAAU,cAAgBjoB,EAAO,IAAM6E,GAC7C4uB,UAAWyE,KAAWj9B,OAAAs9B,EAAA,EAAAt9B,CAAA,GACpB+4B,EAAQvI,OAAStkB,IAAatC,KAGhC4T,EAAA3e,EAAA4e,cAAC8f,EAAA,EAAD,KACC/f,EAAA3e,EAAA4e,cAACigB,GAAA7+B,EAAD,OAED2e,EAAA3e,EAAA4e,cAACggB,EAAA,EAAD,CAAc5F,QAAS/3B,aAAE8J,EAAMwS,kBAEhCoB,EAAA3e,EAAA4e,cAACob,EAAA,EAAD,MACU,eAAT9zB,GACAyY,EAAA3e,EAAA4e,cAAAD,EAAA3e,EAAA8+B,SAAA,KACCngB,EAAA3e,EAAA4e,cAACsc,GAAD,CACCqD,QAAM,EACNrc,GAAI,CAAEiM,SAAU,mCAChBwL,UAAWyE,KAAWj9B,OAAAs9B,EAAA,EAAAt9B,CAAA,GACpB+4B,EAAQvI,OAAsB,cAAbtkB,KAGnBsR,EAAA3e,EAAA4e,cAAC8f,EAAA,EAAD,KACC/f,EAAA3e,EAAA4e,cAACmgB,GAAD,OAEDpgB,EAAA3e,EAAA4e,cAACggB,EAAA,EAAD,CAAc5F,QAAS/3B,aAAE,gBAE1B0d,EAAA3e,EAAA4e,cAACob,EAAA,EAAD,MACArb,EAAA3e,EAAA4e,cAACsc,GAAD,CACCqD,QAAM,EACNrc,GAAI,CAAEiM,SAAU,mCAChBwL,UAAWyE,KAAWj9B,OAAAs9B,EAAA,EAAAt9B,CAAA,GACpB+4B,EAAQvI,OAAsB,cAAbtkB,KAGnBsR,EAAA3e,EAAA4e,cAAC8f,EAAA,EAAD,KACC/f,EAAA3e,EAAA4e,cAACogB,GAAAh/B,EAAD,OAED2e,EAAA3e,EAAA4e,cAACggB,EAAA,EAAD,CAAc5F,QAAS/3B,aAAE,gBAE1B0d,EAAA3e,EAAA4e,cAACob,EAAA,EAAD,OAGQ,cAAT9zB,GACAyY,EAAA3e,EAAA4e,cAAAD,EAAA3e,EAAA8+B,SAAA,KACCngB,EAAA3e,EAAA4e,cAACsc,GAAD,CACCqD,QAAM,EACNrc,GAAI,CAAEiM,SAAU,iCAChBwL,UAAWyE,KAAWj9B,OAAAs9B,EAAA,EAAAt9B,CAAA,GACpB+4B,EAAQvI,OAAsB,aAAbtkB,KAGnBsR,EAAA3e,EAAA4e,cAAC8f,EAAA,EAAD,KACC/f,EAAA3e,EAAA4e,cAACqgB,GAAAj/B,EAAD,OAED2e,EAAA3e,EAAA4e,cAACggB,EAAA,EAAD,CAAc5F,QAAS/3B,aAAE,eAE1B0d,EAAA3e,EAAA4e,cAACob,EAAA,EAAD,MACArb,EAAA3e,EAAA4e,cAACsc,GAAD,CACCqD,QAAM,EACNrc,GAAI,CAAEiM,SAAU,iCAChBwL,UAAWyE,KAAWj9B,OAAAs9B,EAAA,EAAAt9B,CAAA,GACpB+4B,EAAQvI,OAAsB,aAAbtkB,KAGnBsR,EAAA3e,EAAA4e,cAAC8f,EAAA,EAAD,KACC/f,EAAA3e,EAAA4e,cAAAsgB,EAAA,SAEDvgB,EAAA3e,EAAA4e,cAACggB,EAAA,EAAD,CAAc5F,QAAS/3B,aAAE,eAE1B0d,EAAA3e,EAAA4e,cAACob,EAAA,EAAD,QAIHrb,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAACob,EAAA,EAAD,MACArb,EAAA3e,EAAA4e,cAACsc,GAAD,CACCqD,QAAM,EACNrc,GAAI,CAAEiM,SAAU,cAAgBjoB,EAAO,UACvCyzB,UAAWyE,KAAWj9B,OAAAs9B,EAAA,EAAAt9B,CAAA,GACpB+4B,EAAQvI,OAAsB,UAAbtkB,KAGnBsR,EAAA3e,EAAA4e,cAAC8f,EAAA,EAAD,KACC/f,EAAA3e,EAAA4e,cAACugB,GAAAn/B,EAAD,CAAoBszB,MAAM,eAE3B3U,EAAA3e,EAAA4e,cAACggB,EAAA,EAAD,CAAc5F,QAAS/3B,aAAE,aAE1B0d,EAAA3e,EAAA4e,cAACob,EAAA,EAAD,MACArb,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CAAQugB,OAAO,SAAStgB,KAAI,GAAA1V,OAAK3B,uCAChCkX,EAAA3e,EAAA4e,cAACuc,EAAA,EAAD,CAAUoD,QAAM,GACf5f,EAAA3e,EAAA4e,cAAC8f,EAAA,EAAD,KACC/f,EAAA3e,EAAA4e,cAACygB,GAAAr/B,EAAD,OAED2e,EAAA3e,EAAA4e,cAACggB,EAAA,EAAD,CAAc5F,QAAS/3B,aAAE,YAI3B0d,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CAAQugB,OAAO,SAAStgB,KAAI,GAAA1V,OAAKkyB,GAAqBp4B,IACrDyb,EAAA3e,EAAA4e,cAACuc,EAAA,EAAD,CAAUoD,QAAM,GACf5f,EAAA3e,EAAA4e,cAAC8f,EAAA,EAAD,KACC/f,EAAA3e,EAAA4e,cAAC0gB,GAAAt/B,EAAD,OAED2e,EAAA3e,EAAA4e,cAACggB,EAAA,EAAD,CAAc5F,QAAS/3B,aAAE,oBAI3B0d,EAAA3e,EAAA4e,cAACsc,GAAD,CACCqD,QAAM,EACNrc,GAAI,CAAEiM,SAAU,cAAgBjoB,EAAO,YACvCyzB,UAAWyE,KAAWj9B,OAAAs9B,EAAA,EAAAt9B,CAAA,GACpB+4B,EAAQvI,OAAsB,YAAbtkB,KAGnBsR,EAAA3e,EAAA4e,cAAC8f,EAAA,EAAD,KACC/f,EAAA3e,EAAA4e,cAAC2gB,GAAAv/B,EAAD,OAED2e,EAAA3e,EAAA4e,cAACggB,EAAA,EAAD,CAAc5F,QAAS/3B,aAAE,gBAI5B0d,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQnW,SACvBpF,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQgD,SACvBve,EAAA3e,EAAA4e,cAAA,aACE,IADF,SAES,IAAItP,MAAOkwB,cAFpB,QAGC7gB,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACC8a,UAAWO,EAAQgD,QACnBkC,OAAO,SACPtgB,KAAMrX,6BAHP,wBASFkX,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQgD,SACvBve,EAAA3e,EAAA4e,cAAA,aACCD,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACC8a,UAAWO,EAAQgD,QACnBkC,OAAO,SACPtgB,KAAI,GAAA1V,OAAK3B,4BAAL,SAEHxG,aAAE,gBAIN0d,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAA,aACCD,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACC8a,UAAWO,EAAQgD,QACnBkC,OAAO,SACPtgB,KAAMrX,2EAHP,qBAQDkX,EAAA3e,EAAA4e,cAAA,oBACAD,EAAA3e,EAAA4e,cAAA,aACCD,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACC8a,UAAWO,EAAQgD,QACnBkC,OAAO,SACPtgB,KAAMrX,2EAHP,cASFkX,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAA,aACCD,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACC8a,UAAWO,EAAQgD,QACnBkC,OAAO,SACPtgB,KAAK,+EAHN,KAKI2gB,GAAY1b,QALhB,0ECzWA2b,GAAU,SAAA7+B,GAAa,IAAVovB,EAAUpvB,EAAVovB,IAClB,OACCtR,EAAA3e,EAAA4e,cAAA,OACCqR,IAAKA,EACLuN,OAAQ,GACRC,MAAM,OACNkC,IAAI,OACJC,MAAO,CAAEC,YAAa,MAmEVC,OA9Df,SAAAv+B,GAA+E,IAAzDwyB,EAAyDxyB,EAAzDwyB,SAAUgM,EAA+Cx+B,EAA/Cw+B,SAAU7iB,EAAqC3b,EAArC2b,MAAO8iB,EAA8Bz+B,EAA9By+B,UAAWC,EAAmB1+B,EAAnB0+B,YAAa54B,EAAM9F,EAAN8F,GAAM2sB,EAC9CC,mBAAS,MADqCC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GACvEkM,EADuEhM,EAAA,GAC7DiM,EAD6DjM,EAAA,GAOxEkM,EAAc,WACnBD,EAAY,OAGPE,EAAWJ,EAActhB,EAAA3e,EAAA4e,cAAC0hB,GAAD,CAASrQ,IAAKgQ,IAAkB,KAE/D,OACCthB,EAAA3e,EAAA4e,cAAAD,EAAA3e,EAAA8+B,SAAA,KACCngB,EAAA3e,EAAA4e,cAAA0W,EAAA,GACCsK,MAAOG,EACPvM,QAdgB,SAAA+C,GAClB4J,EAAY5J,EAAMgK,gBAchBC,gBAAc,OACdC,gBAAep5B,GAEdg5B,EACD1hB,EAAA3e,EAAA4e,cAAA,QACCghB,MAAO,CACNc,SAAU,IACVC,SAAU,SACVC,aAAc,aAGd1jB,GAED8iB,GAEFrhB,EAAA3e,EAAA4e,cAAAiiB,GAAA,GACCx5B,GAAIA,EACJqrB,KAAMoO,QAAQZ,GACdA,SAAUA,EACVa,mBAAoB,KACpB1O,aAAc,CACbC,SAAU,SACVC,WAAY,SAEbyO,gBAAiB,CAChB1O,SAAU,MACVC,WAAY,SAEbiB,QAAS4M,EACTvN,QAASuN,GAERa,WAASt/B,IAAIoyB,EAAU,SAAAmN,GAAK,OAC5BC,uBAAaD,EAAO,CACnB1N,QAAS,WACuB,oBAAxB0N,EAAMhQ,MAAMsC,SAA0B0N,EAAMhQ,MAAMsC,UACzD4M,0CC/DQ,SAASgB,GAAU3L,GAajC,OAZA,SAAoBvE,GACnB,IAAMhnB,EAAWmqB,YAAYpqB,MAQ7B,OAAO0U,EAAA3e,EAAA4e,cAAC6W,EAADt0B,OAAAk2B,OAAA,GAAenG,EAAf,CAAsBjwB,EANnB,SAACmJ,GAA8C,IAAAvJ,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAOohC,EAAAxgC,EAAvC2J,cAAuC,IAAA62B,KAAAC,EAAAzgC,EAAvB6J,YAAuB,IAAA42B,EAAhB,CAAC,IAAeA,EAGxD,OAFoBz2B,aAAUT,EAAK,CAAEI,SAAQE,QAAQR,oFCL3Cq3B,GAAc,SAAAn+B,GAC1B,OAAQA,GACP,KAAKo+B,KAAWC,SAAS1kB,KACxB,OAAO2kB,KACR,KAAKF,KAAWG,OAAO5kB,KACtB,OAAO6kB,KACR,KAAKJ,KAAWK,KAAK9kB,KACpB,OAAO+kB,KACR,QACC,MAAO,8ECXGC,GAAS,SAAArJ,GAAS,IAAAsJ,EAAAC,EAC9B,MAAO,CACN/I,KAAM,CACLgJ,UAAW,GACXC,SAAU,EACVxB,SAAU,SACVxE,SAAU,WACVvB,QAAS,OACT4C,OAAQ,qBACRC,MAAO,SAER2E,OAAOjhC,OAAAs9B,EAAA,EAAAt9B,CAAA,CACNqxB,IAAK,EACL4J,KAAM,EACNC,MAAO,EACPoB,MAAO,OACPtB,SAAU,SAETzD,EAAM2J,YAAYC,GAAG,MAAQ,CAE7BlG,KAvBgB,MA0BlBvB,KAAM,CACLA,KAAM,EACNmB,cAAe,MACfpB,QAAS,OACTE,WAAY,SACZyH,aAAc7J,EAAM4E,QAAQ,GAC5BX,YAAajE,EAAM4E,QAAQ,IAG5BkF,QAAS,CACR5H,QAAS,OACTE,WAAY,SACZ2H,UAAW,OACXC,cAAehK,EAAM4E,QAAQ,GAC7BqF,eAAgB,CACfJ,aAxCyB,MA2C3BK,gBAAiB,CAChB3G,eAAgB,YAEjB4G,aAAc,CACb5G,eAAgB,cAEjB6G,QAAS,CACRC,SAAU,OACVvF,OAAQ,GACR+E,aAAc,EACd5F,YAAa,GAEdqG,aAAWhB,EAAA,CACVvE,MAzDiB,KAwDPt8B,OAAAs9B,EAAA,EAAAt9B,CAAA6gC,EAETtJ,EAAM2J,YAAYC,GAAG,MAAQ,CAC7BnG,SAAU,UAHDh7B,OAAAs9B,EAAA,EAAAt9B,CAAA6gC,EAAA,kBAKO,QALPA,GAOXiB,SAAOhB,EAAA,CACNE,SAAU,EACVvZ,gBAAiB8P,EAAMK,QAAQH,WAAWsK,QAC1CxG,QAAShE,EAAM4E,QAAQ,GACvBzB,WAAYnD,EAAM4E,QAAQ,GAC1BqD,SAAU,QALJx/B,OAAAs9B,EAAA,EAAAt9B,CAAA8gC,EAMLvJ,EAAM2J,YAAYC,GAAG,MAAQ,CAC7Ba,WAtEgB,IAuEhBzG,QAAShE,EAAM4E,QAAQ,GACvBzB,WAAYnD,EAAM4E,QAAQ,KATrBn8B,OAAAs9B,EAAA,EAAAt9B,CAAA8gC,EAYLvJ,EAAM2J,YAAYe,KAAK,MAAQ,CAC/B1G,QAAShE,EAAM4E,QAAQ,KAblB2E,GAgBPoB,aAAaliC,OAAAs9B,EAAA,EAAAt9B,CAAA,CACZu/B,SAAU,KACV4C,OAAQ,QAEP5K,EAAM2J,YAAYe,KAAK,MAAQ,CAC/BV,cAAe,IAAMhK,EAAM4E,QAAQ,KAGrCiG,kBAAkBpiC,OAAAs9B,EAAA,EAAAt9B,CAAA,CACjBu/B,SAAQ,gBAAAt3B,OAAkBsvB,EAAM4E,QAAQ,GAAhC,QACP5E,EAAM2J,YAAYC,GAAG,MAAQ,CAC7B5B,SAAQ,gBAAAt3B,OAAkBsvB,EAAM4E,QAAQ,GA1FxB,IACS,IAyFjB,oBCxDNkG,GAAahO,EAAoBiO,GAAA,GACjCC,GAASlO,EAAoBmO,GAAA,GAC7BpI,GAAY9C,aAAWsJ,IA4GdX,UA1Gf,SAAAvgC,GAAiD,IAA/B+iC,EAA+B/iC,EAA/B+iC,mBAAoB19B,EAAWrF,EAAXqF,KAAMjF,EAAKJ,EAALI,EACrCi5B,EAAUqB,KACV34B,EAAUyxB,YAAY1xB,KACtBkhC,EAAStC,GAAY3+B,EAAQK,OAAOG,UACpC0gC,EAAczP,YAAYpG,MAC1B8V,EACuB,SAA5BnhC,EAAQK,OAAOG,SACZnC,EAAE,aACF2B,EAAQW,OACRygC,aAAcphC,EAAQK,OAAO5B,UAC7BJ,EAAE,cAEN,OACC0d,EAAA3e,EAAA4e,cAAAqlB,GAAA,GAAQtK,UAAWO,EAAQkI,OAAQ9O,MAAM,UAAU6I,SAAS,UAC3Dxd,EAAA3e,EAAA4e,cAAAslB,GAAA,GAASvK,UAAWO,EAAQ4I,SAC3BnkB,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCc,QAAQ,OACRoB,cAAc,MACdmG,SAAS,IACTrH,WAAW,SACXmB,eAAe,iBAEftd,EAAA3e,EAAA4e,cAAAulB,EAAA,GAAQC,MAAI,GACXzlB,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKuK,GAAI,GACR1lB,EAAA3e,EAAA4e,cAAAwU,EAAA,GACCE,MAAM,UACND,aAAW,cACXG,QAASoQ,GAETjlB,EAAA3e,EAAA4e,cAAC0lB,GAAAtkC,EAAD,SAKH2e,EAAA3e,EAAA4e,cAAAulB,EAAA,GAAQI,QAAM,GACb5lB,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKc,QAAQ,OAAOuH,SAAS,IAAIkC,GAAI,GACpC1lB,EAAA3e,EAAA4e,cAAA4lB,GAAA,GAAanR,aAAW,cACtByQ,EAAYniC,IAAI,SAAAJ,EAAgBgoB,GAAhB,IAAGrH,EAAH3gB,EAAG2gB,GAAIhF,EAAP3b,EAAO2b,MAAP,OAChBgF,GAAMqH,EAAQua,EAAY5jC,OAAS,EAClCye,EAAA3e,EAAA4e,cAAC8kB,GAAD,CAAQlf,IAAG,GAAApb,OAAKmgB,EAAL,KAAAngB,OAAc8Y,GAAMA,GAAIA,GACjChF,GAGFyB,EAAA3e,EAAA4e,cAAA0f,GAAA,GACCpE,QAAS,CAAEhB,KAAMgB,EAAQqJ,mBACzBkB,QAAM,EACNtG,UAAU,MACV3Z,IAAG,GAAApb,OAAKmgB,EAAL,KAAAngB,OAAc8T,GACjBoW,MAAM,eAELpW,QAQPyB,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKc,QAAQ,OAAOoB,cAAc,MAAMlB,WAAW,SAAS4J,GAAI,GAE/D/lB,EAAA3e,EAAA4e,cAAC+lB,GAAA3kC,EAAD,CACC4kC,SAAU,GACVC,KAAMC,8BAAmBliC,EAAQK,OAAO5B,WAEzCsd,EAAA3e,EAAA4e,cAACmmB,GAAD,CACC19B,GAAG,cACH44B,YAAa4D,EACb7D,UAAWrhB,EAAA3e,EAAA4e,cAAComB,GAAAhlC,EAAD,MACXkd,MAAO6mB,GAEPplB,EAAA3e,EAAA4e,cAAC4kB,GAAD,CACCzvB,MAAM,UACNmO,GAAI,CAAEiM,SAAU,cAAgBjoB,EAAO,YACvC++B,QAAShkC,EAAE,YAEX0d,EAAA3e,EAAA4e,cAAA8f,EAAA,OACC/f,EAAA3e,EAAA4e,cAAC2gB,GAAAv/B,EAAD,OAED2e,EAAA3e,EAAA4e,cAAAggB,EAAA,GACC1E,QAAS,CAAElB,QAASkB,EAAQlB,SAC5BA,QAAS/3B,EAAE,cAIb0d,EAAA3e,EAAA4e,cAAA6kB,GAAA,GACC1vB,MAAM,SACNyf,QAAS,WACR0R,iBAGDvmB,EAAA3e,EAAA4e,cAAA8f,EAAA,OACC/f,EAAA3e,EAAA4e,cAACumB,GAAAnlC,EAAD,OAED2e,EAAA3e,EAAA4e,cAAAggB,EAAA,GACC1E,QAAS,CAAElB,QAASkB,EAAQlB,SAC5BA,QAAS/3B,EAAE,0KClHdmkC,GAAoB,IACpBC,eACL,SAAAA,EAAYnU,GAAO,IAAAC,EAAA,OAAAhwB,OAAAiwB,EAAA,EAAAjwB,CAAAkwB,KAAAgU,IAClBlU,EAAAhwB,OAAAmwB,EAAA,EAAAnwB,CAAAkwB,KAAAlwB,OAAAowB,EAAA,EAAApwB,CAAAkkC,GAAA7T,KAAAH,KAAMH,KAYPoU,aAAe,SAAAhN,GACdA,GAAMA,EAAGzB,iBAAmByB,EAAGzB,kBAC/ByB,GAAMA,EAAG1B,gBAAkB0B,EAAG1B,iBAC9B,IAAIjF,EAASR,EAAK7wB,MAAMqxB,OACxBR,EAAKO,SAAS,CAAEC,QAASA,KAjBPR,EA6CnBoU,0BAA4B,SAAAtT,GAC3B,IAAMuT,EAAUzV,aAAQkC,EAAUhC,KAC5BwV,EAAU1V,aAAQoB,EAAKD,MAAMjB,KAC7ByV,EAAe3V,aAAQkC,EAAU0T,aAC/BrjB,EAAc2P,EAAd3P,UAEJkjB,IAAYC,MACGnjB,GAAasjB,aAAatjB,IAG3C6O,EAAK0U,aAAe1U,EAAK0U,cAAgBC,SAASlnB,cAAc,SAChEuS,EAAK4U,gBAAgB,CACpBC,MAAOjW,aAAQyV,GACfS,SAAUlW,aAAQ2V,IAAiBQ,SAGpC/U,EAAKgV,aAAehV,EAAKgV,cAAgB,IAAIC,MAC7CjV,EAAKkV,gBAAgB,CACpBL,MAAOjW,aAAQyV,GACfS,SAAUlW,aAAQ2V,IAAiBQ,UAhEpB/U,EAgFnBmV,iBAAmB,WACdnV,EAAKoV,cACRC,aAAarV,EAAKoV,aAClBpV,EAAKoV,YAAc,OAnFFpV,EAuFnBsV,OAAS,SAACR,EAAUD,GACf7U,EAAKgV,eACRhV,EAAKgV,aAAaO,QAAU,KAC5BvV,EAAKgV,aAAaQ,OAAS,KAC3BxV,EAAKgV,aAAaS,QAAU,KAE5BzV,EAAKmV,mBACLnV,EAAKgV,aAAalW,IAAMgW,GAGzB9U,EAAKmV,mBAELnV,EAAKO,SAAS,CACbmS,OAAQoC,GAAY,QApGH9U,EAwGnBkV,gBAAkB,SAAAxlC,GAAyB,IAAtBmlC,EAAsBnlC,EAAtBmlC,MAAOC,EAAeplC,EAAfolC,SAC3B9U,EAAKmV,mBACLnV,EAAKoV,YAAc3U,WAAW,WAC7BT,EAAKsV,OAAOR,EAAUD,IACpBZ,IAEHjU,EAAKgV,aAAaO,QAAUvV,EAAKgV,aAAaS,QAAUzV,EAAKsV,OAAOI,KAAZ1lC,OAAA2lC,GAAA,EAAA3lC,CAAAgwB,GAEvD8U,GAGD9U,EAAKgV,aAAaQ,OAAS,WAC1BxV,EAAKmV,mBACLnV,EAAKO,SAAS,CACbmS,OAAQmC,EACRe,SAAU,QAIZ5V,EAAKgV,aAAalW,IAAM+V,GA3HN7U,EA8HnB4U,gBAAkB,SAAAxkC,GAAyB,IAAtBykC,EAAsBzkC,EAAtBykC,MAAOC,EAAe1kC,EAAf0kC,SAC3B9U,EAAKmV,mBACLnV,EAAK0U,aAAa5V,IAAM+V,EAExB7U,EAAKoV,YAAc3U,WAAW,WAC7BT,EAAKsV,OAAOR,IACVb,IAEHjU,EAAK0U,aAAamB,iBAAmB,SAAAtlC,GAAgBA,EAAb09B,OACvCjO,EAAKmV,mBACLnV,EAAKO,SAAS,CACbqV,SAAUf,EACVnC,OAAQ,SAxIV1S,EAAK7wB,MAAQ,CACZujC,OAAQ,KACRlS,QAAQ,EACRoV,SAAU,MAGX5V,EAAKkV,gBAAkBlV,EAAKkV,gBAAgBQ,KAArB1lC,OAAA2lC,GAAA,EAAA3lC,CAAAgwB,IACvBA,EAAK4U,gBAAkB5U,EAAK4U,gBAAgBc,KAArB1lC,OAAA2lC,GAAA,EAAA3lC,CAAAgwB,IACvBA,EAAKoV,YAAc,KAVDpV,mFAoBC,IAAAqF,EACiCnF,KAAKH,MAAjDjB,EADWuG,EACXvG,IAAK0V,EADMnP,EACNmP,YAAarjB,EADPkU,EACOlU,UAAW2kB,EADlBzQ,EACkByQ,WAC/BC,IAAY5kB,GAAasjB,aAAatjB,GAE5C,GAAI4kB,IAAYD,EACf,OAAO5V,KAAKK,SAAS,CACpBmS,OAAQsD,OAIND,GACH7V,KAAKwU,aAAeC,SAASlnB,cAAc,SAC3CyS,KAAK0U,gBAAgB,CACpBC,MAAOjW,aAAQE,GACfgW,SAAUlW,aAAQ4V,IAAgBO,SAGnC7U,KAAK8U,aAAe,IAAIC,MACxB/U,KAAKgV,gBAAgB,CACpBL,MAAOjW,aAAQE,GACfgW,SAAUlW,aAAQ4V,IAAgBO,uDA+BpC7U,KAAKiV,mBACDjV,KAAK8U,eACR9U,KAAK8U,aAAaO,QAAU,KAC5BrV,KAAK8U,aAAaQ,OAAS,KAC3BtV,KAAK8U,aAAaS,QAAU,KAC5BvV,KAAK8U,aAAe,8CAmEN,IAAA/T,EAAAf,KACP6I,EAAY7I,KAAKH,MAAjBgJ,QACR,OACCvb,EAAA3e,EAAA4e,cAAA,YACCD,EAAA3e,EAAA4e,cAACwoB,GAAA,EAAD,CACC7T,KAAK,QACLD,MAAM,UACNqG,UAAWyE,KAAWlE,EAAQmN,gBAC9B7T,QAAS,WACRpB,EAAKkT,iBAGN3mB,EAAA3e,EAAA4e,cAAC0oB,GAAAtnC,EAAD,OAEAqxB,KAAKkW,2EAKgB,IAAAvQ,EACU3F,KAAKH,MAA/BjwB,EADgB+1B,EAChB/1B,EAAG0+B,EADa3I,EACb2I,IAAKzF,EADQlD,EACRkD,QAASlxB,EADDguB,EACChuB,KADDw+B,EAEanW,KAAK/wB,MAAlCqxB,EAFgB6V,EAEhB7V,OAAQkS,EAFQ2D,EAER3D,OAAQkD,EAFAS,EAEAT,SAExB,OACCpoB,EAAA3e,EAAA4e,cAACqW,EAAA,EAAD,CACCvC,KAAMf,EACN3oB,KAAMA,GAAQ,SACd03B,UAAU,EACV7N,QAASxB,KAAKiU,aACdpL,QAAS,CAAEyB,MAAOzB,EAAQuN,SAE1B9oB,EAAA3e,EAAA4e,cAACuW,EAAA,EAAD,CAAewE,UAAWO,EAAQwN,mBAChC7D,EACAllB,EAAA3e,EAAA4e,cAAA,OACC+gB,IAAKA,EACL1P,IAAK4T,EACL8D,UAAU,QACVhO,UAAWyE,KAAWlE,EAAQ0N,YAAa1N,EAAQ2N,YACnDC,YAAa,SAAAvR,GAAK,OAAIA,EAAMK,oBAG7BjY,EAAA3e,EAAA4e,cAAA,SACCqR,IAAK8W,EACLgB,UAAQ,EACRC,OAAK,EACLC,MAAI,EACJC,UAAQ,EACRvO,UAAWyE,KAAWlE,EAAQ0N,YAAa1N,EAAQ2N,eAItDlpB,EAAA3e,EAAA4e,cAACyW,EAAA,EAAD,KACC1W,EAAA3e,EAAA4e,cAAC0W,EAAA,EAAD,CAAQ9B,QAASnC,KAAKiU,aAAchS,MAAM,WACxCryB,EAAE,6CAOC,IAAAknC,EASJ9W,KAAKH,MAPRyO,EAFOwI,EAEPxI,IACAyI,EAHOD,EAGPC,gBACAzO,EAJOwO,EAIPxO,UACA0O,EALOF,EAKPE,aACAnO,EANOiO,EAMPjO,QACAoO,EAPOH,EAOPG,kBACA9U,EARO2U,EAQP3U,QARO+U,EAUqBlX,KAAK/wB,MAA1BujC,EAVA0E,EAUA1E,OAAQkD,EAVRwB,EAUQxB,SAChB,OAAOlD,GAAUkD,EAChBpoB,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWyE,KAAWzE,EAAWO,EAAQsO,UAC1C3E,EACFllB,EAAA3e,EAAA4e,cAAA,OACC+gB,IAAKA,EACL1P,IAAKoB,KAAK/wB,MAAMujC,OAChB8D,UAAU,QACVhO,UAAWyE,KACVlE,EAAQ2N,WACR3N,EAAQuO,IACRJ,GAEDP,YAAa,SAAAvR,GAAK,OAAIA,EAAMK,kBAC5BpD,QAASA,GAAY8U,GAAqBjX,KAAKiU,eAGhD3mB,EAAA3e,EAAA4e,cAAA,SACCqR,IAAK8W,EACLpN,UAAWyE,KAAWlE,EAAQ2N,WAAY3N,EAAQuO,KAClDV,UAAQ,EACRC,OAAK,EACLC,MAAI,EACJzU,QAASA,GAAY8U,GAAqBjX,KAAKiU,eAGhD8C,GAAmB/W,KAAKqX,gBACxBJ,GAAqBjX,KAAKkW,0BAG5B5oB,EAAA3e,EAAA4e,cAAA,QAAM+a,UAAWyE,KAAWlE,EAAQ2N,WAAYlO,IAC/Chb,EAAA3e,EAAA4e,cAAA,QAAM+a,UAAWO,EAAQyO,UACxBhqB,EAAA3e,EAAA4e,cAACqc,GAAA,EAAD,eAtPavH,aAsQH0N,MAAUwH,aC1RH,SAAAlQ,GAAK,MAAK,CAC/BmP,WAAY,CACXrV,IAAK,EACL4J,KAAM,EACNqB,MAAO,OACPD,OAAQ,OACRrB,SAAU,WACVvB,QAAS,gBAEV+N,SAAU,CACTxM,SAAU,WACV3J,IAAK,mBACL4J,KAAM,mBACNxB,QAAS,gBAEVyM,eAAgB,CACflL,SAAU,WACV3J,IAAKkG,EAAM4E,QAAQ,GACnBjB,MAAO3D,EAAM4E,QAAQ,GACrBI,OAAQ,UACRD,MAAO,OACPD,OAAQ,OACRqL,UAAW,QAEZpB,OAAQ,CACPqB,0BAA2B,CAC1B3P,SAAQ,gBAAA/vB,OAAkBsvB,EAAM4E,QAAQ,GAAhC,QAETyL,2BAA4B,CAC3BF,UAAW,SAGbnB,kBAAmB,CAClBsB,2BAA4B,CAC3BtI,SAAU,OACVuI,UAAW,QACXrO,QAAS,QACT0I,OAAQ,QAETwF,0BAA2B,CAC1BnM,YAAa,EACb4F,aAAc,IAGhBqF,YAAa,CACZpK,OAAQ,OACRkD,SAAU,QAEX+H,IAAK,CACJhL,MAAO,OACPD,OAAQ,OACR0L,UAAW,WAEZV,QAAS,CACRhL,OAAQ,OACRC,MAAO,UDmOgBmL,CAAmBvD,0BEpRtC8D,GAAsB,CAC3BC,YAAa,EACbC,mBAAoB,CAAC,EAAG,GAAI,GAAI,GAAI,KACpCC,cAAe,WACd,MAAO,CACN5M,QAAS,UACTnJ,KAAM,QACNkK,MAAO,OACP8L,MAAO,WAGTC,WAAY,CACXC,KAAM,CACLC,QAASzoC,aAAE,kBACX0oC,QAAS1oC,aAAE,iBACX2oC,oBAAqB,SAAAC,GAAM,SAAAzgC,OACvBnI,aAAE,uBAAwB,CAC5ByJ,KAAM,CAACm/B,EAAO3sB,OAAS2sB,QAG1BC,WAAY,CACXnT,KAAM11B,aAAE,cACR8oC,SAAU9oC,aAAE,cACZmoC,YAAanoC,aAAE,uBACf+oC,YAAa/oC,aAAE,uBAEhB6hC,QAAS,CACRrV,OAAQxsB,aAAE,gBACVgpC,YAAahpC,aAAE,gBACfipC,MAAOjpC,aAAE,eACTkpC,YAAalpC,aAAE,mBACfmpC,YAAanpC,aAAE,iBAEhB2M,OAAQ,CACP5M,IAAKC,aAAE,oBACP4M,MAAO5M,aAAE,sBACTopC,MAAOppC,aAAE,uBAEVkpC,YAAa,CACZt8B,MAAO5M,aAAE,mBACTqpC,UAAWrpC,aAAE,yBAEdspC,aAAc,CACb1V,KAAM5zB,aAAE,uBACRupC,OAAQvpC,aAAE,gBACVwpC,WAAYxpC,aAAE,4BAKXs6B,GAAY9C,aAAW,SAAAC,GAC5B,MAAO,CACNgS,SAAU,CACTjN,MAAO,WAKK,SAASkN,GAAqBzZ,GAAO,IAC3CrjB,EAA2CqjB,EAA3CrjB,MAAOuL,EAAoC8X,EAApC9X,KAAMwxB,EAA8B1Z,EAA9B0Z,QAASC,EAAqB3Z,EAArB2Z,QAASlQ,EAAYzJ,EAAZyJ,QACjCT,EAAUqB,KAChB,OACC5c,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAACksB,GAAA9qC,EAAD,CACC6N,MAAOA,EACPuL,KAAMA,EACNwxB,QAASA,EACTC,QAAO1pC,OAAAC,GAAA,EAAAD,CAAA,GACHgoC,GACA0B,EAFG,CAGNE,UAAW,EACX9X,QAAS,WACTxF,QAASyD,EAAM8Z,SACfC,UAAW/Z,EAAMga,WACjBhB,OAAQhZ,EAAMia,QACdC,eAAgBla,EAAMma,cAAgB,WAAa,OACnDC,sBAAsBpa,EAAMqa,eAC5BC,WAAY,cAGb7Q,GAAWhc,EAAA3e,EAAA4e,cAAA6b,GAAA,GAAgBd,UAAWO,EAAQwQ,+EChF5Ce,GAAiB,SAACC,GAA2C,IAAtBnpB,EAAsBtiB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,GAAIszB,EAAStzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC5Do9B,EAAO,CACZoO,GAAI,CAAE/N,SAAU,IAChBgO,GAAI,CAAEhO,SAAU,IAChBiO,GAAI,CAAEjO,SAAU,KAEXkO,EAAWntB,EAAA3e,EAAA4e,cAACmtB,GAAA/rC,EAAD,CAAmB4/B,MAAOrC,EAAKhK,GAAOD,MAAO,cACxD0Y,EAAWrtB,EAAA3e,EAAA4e,cAACqtB,GAAAjsC,EAAD,CAAa4/B,MAAOrC,EAAKhK,GAAOD,MAAO,YAClD4Y,EAAcvtB,EAAA3e,EAAA4e,cAACutB,GAAAnsC,EAAD,CAAa4/B,MAAOrC,EAAKhK,GAAOD,MAAO,UACrD8Y,EAAWztB,EAAA3e,EAAA4e,cAACugB,GAAAn/B,EAAD,CAAoB4/B,MAAOrC,EAAKhK,GAAOD,MAAO,cAC/D,GAA4B,WAAxBoY,GAA6D,cAAzBnpB,EAAO8pB,cAC9C,OAAOP,EACR,OAAQvpB,EAAO8pB,eACd,IAAK,SACL,IAAK,QACJ,OAAOL,EACR,IAAK,UACL,IAAK,eACL,IAAK,UACJ,OAAOF,EACR,IAAK,UACL,IAAK,eACL,IAAK,YACL,IAAK,UACJ,OAAOI,EACR,IAAK,WACJ,OAAOE,EACR,QACC,MAAO,cClCGrK,GAAS,SAAArJ,GAAK,MAAK,CAC/B4T,QAAS,CAER9O,OAAQ,GACRC,MAAO,GACPC,OAAQ,UACR9C,QAAS,QAEVpc,QAAS,CACR+tB,QAAS,CACRjJ,OAAQ5K,EAAM4E,QAAQ,kBCEZkP,GAAsB,SAAA3rC,GAK7B,IAAA4rC,EAAA5rC,EAJL6rC,eAIK,IAAAD,EAJK,GAILA,EAAAE,EAAA9rC,EAHL+rC,mBAGK,IAAAD,EAHS,GAGTA,EAAAE,EAAAhsC,EAFLisC,kBAEK,IAAAD,EAFQ,GAERA,EAAAE,EAAAlsC,EADLmsC,sBACK,IAAAD,EADY,EACZA,EACCE,EAAMP,EAAQ,IAAM,EACpB/4B,EAAM+4B,EAAQ,IAAM,IACpBQ,EAhBe,SAACD,EAAKt5B,EAAKw5B,GAAyB,IAAlBC,EAAkBntC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,EAKnD,OAFc6Z,aAFDnG,EAAMs5B,GACCE,GACUlyB,QAAQmyB,IAazBC,CAAcJ,EAAKt5B,EAAKm5B,EAAYE,GACjD,MAAO,CACNp/B,QAAQ,EACRgtB,QAAS,OACT0S,WAAY,SACZC,wBAAyB,CACxBC,OAAQ,SAAAC,GAAC,SAAArkC,OACLwjC,EADK,MAAAxjC,OACW4c,aAAcynB,EAAE,GAAI,GAD/B,OAAArkC,OACuC4c,aAAcynB,EAAE,GAAI,KACpEC,OAAQ,SAACC,EAAYC,EAAWrkB,GAE/B,OADAokB,EAAWpkB,GAAS,GACbokB,IAITE,cAAe,CACdC,MAAO,GACPC,MAAO,SAACC,EAAWC,GAClB,IAAMC,EAAWl6B,OAAOg6B,EAAU3jB,WAAW3G,QAAQ,WAAY,KACjE,OAAIuqB,EAAQ/tC,OAAS,IACbguC,EAAWD,EAAQ,IAAMC,EAAWD,EAAQ,KAIrDrT,QAAS,SAAC+S,EAAYxT,EAAU5Q,EAAOsgB,GACtC,OACClrB,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYj3B,GAAE,gBAAA+B,OAAkBygC,EAAO9sB,MAAQoxB,cAAY,GACzDvB,GAEFjuB,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKuK,GAAI,EAAGK,GAAI,EAAG0J,GAAI,GACtBzvB,EAAA3e,EAAA4e,cAAAyvB,GAAA,GACCpB,IAAKA,EACLt5B,IAAKA,EACL26B,MAAO,CACN,CACCv6B,MAAOk5B,EACP/vB,MAAO8I,aAAcinB,EAAK,IAE3B,CACCl5B,MAAOJ,EACPuJ,MAAO8I,aAAcrS,EAAK,KAI5Bu5B,KAAMA,EACNn5B,MACC45B,EAAWpkB,GAAOrpB,OAAS,EAAIytC,EAAWpkB,GAASmjB,EAEpDvS,SAAU,SAACp0B,EAAGwoC,GACbpU,EAASoU,EAAUhlB,EAAOsgB,IAE3B2E,kBAAkB,OAClBC,kBAAA,gBAAArlC,OAAiCygC,EAAO9sB,MACxC2xB,iBAAkB,SAAAjB,GAAC,OAAIznB,aAAcynB,EAAG,IACxCkB,iBAAkB,SAAAlB,GAAC,OAAIznB,aAAcynB,EAAG,YCtEzC,SAASmB,GAAT/tC,GAA8D,IAAtC4tB,EAAsC5tB,EAAtC4tB,SAAUogB,EAA4BhuC,EAA5BguC,aAAcC,EAAcjuC,EAAdiuC,WAChDlmC,EAAoByrB,YAAYxrB,MAD8BmrB,EAE5CC,mBAAS,IAFmCC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GAE7D5a,EAF6D8a,EAAA,GAEvD6a,EAFuD7a,EAAA,GAAA8a,EAGtC/a,mBAAS,IAH6Bgb,EAAA9tC,OAAAiR,EAAA,EAAAjR,CAAA6tC,EAAA,GAG7DpE,EAH6DqE,EAAA,GAGpDC,EAHoDD,EAAA,GAK9DE,EAAe9a,YAAY,SAAA/zB,GAAK,OAAImuB,EAASnuB,EAAOuuC,KAEpDO,EAAaC,sBAAY,WAC9BN,EAAQI,GACRD,EAAWJ,MACT,CAACA,EAAYK,IAOhB,OALAna,oBAAU,WACToa,KAEE,CAACD,EAAajvC,OAAQuuB,EAAUogB,EAAcjmC,IAE1C,CAAEwQ,OAAMwxB,UAASwE,+CCPnB7T,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtC8P,QAAS,CACRlF,OAAQ5K,EAAM4E,QAAQ,GACtBnB,SAAU,YAEXmT,eAAgB,CACfnT,SAAU,WACV3J,IAAK,MACL4J,KAAM,MACN8F,WAAY,GACZiB,YAAa,OAIR,SAASoM,GAAT1uC,GAAsC,IAAhB2uC,EAAgB3uC,EAAhB2uC,aAC5B,OACC7wB,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAAA6wB,GAAA,GAAS5hC,MAAO5M,aAAE,gBACjB0d,EAAA3e,EAAA4e,cAAAwU,EAAA,GAAYI,QAASgc,GACpB7wB,EAAA3e,EAAA4e,cAAA8wB,GAAA,WAmBE,SAASC,GAATjuC,GAAgE,IAApCkuC,EAAoCluC,EAApCkuC,uBAAwB7uB,EAAYrf,EAAZqf,SACpDmZ,EAAUqB,KACVsU,EAAkBxb,YAAY,SAAA/zB,GAAK,OACxC8G,aAAkB9G,EAAOwvC,QAG1B,OACCnxB,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAAA6wB,GAAA,GAAS5hC,MAAO5M,aAAE,uBACjB0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiB,GAAI,EAAGC,GAAI,GACfrc,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQsO,SACvB7pB,EAAA3e,EAAA4e,cAAA0W,EAAA,GACCya,UAAWpxB,EAAA3e,EAAA4e,cAAAoxB,GAAA,QACXxc,QAASoc,EACT3c,QAAQ,YACRK,MAAM,UACNvS,SAAUA,GAAY8uB,GAErB5uC,aAAE,uBAEH4uC,GACAlxB,EAAA3e,EAAA4e,cAAAqc,GAAA,GAAkB1H,KAAM,GAAIoG,UAAWO,EAAQoV,qBC7CtD,IAAMW,GAAeza,EAAoBpC,EAAA,GACnC8c,GAAQ1a,EAAoB6P,IAE5B9J,GAAY9C,aAAWsJ,IAEvBoO,GAAU,SAAAtvC,GAAA,IACfq5B,EADer5B,EACfq5B,QACAlR,EAFenoB,EAEfmoB,OACAvB,EAHe5mB,EAGf4mB,eACA2oB,EAJevvC,EAIfuvC,WACA7oB,EALe1mB,EAKf0mB,UALe,MAMV,CACL,CACCxK,KAAM,KACN8tB,QAAS,CACRjQ,QAAS,WACThtB,QAAQ,IAGV,CACCmP,KAAM,mBACN8tB,QAAS,CACRjQ,QAAS,WACTqQ,UAAU,EACVr9B,QAAQ,IAGV,CACCmP,KAAM,QACNG,MAAOjc,aAAE,cACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNi5B,UAAU,EACVoF,iBAAkB,SAAA9uC,GAA2CA,EAAxC2E,KAAwC,IAAlCmB,EAAkC9F,EAAlC8F,GAAIgb,EAA8B9gB,EAA9B8gB,SAAUC,EAAoB/gB,EAApB+gB,UAAWJ,EAAS3gB,EAAT2gB,GACnD,OACCvD,EAAA3e,EAAA4e,cAACsxB,GAAD,CACC1rB,IAAKnd,EACLsyB,UAAWyE,KAAWlE,EAAQoS,SAC9Brc,IAAK5N,EACLsd,IAAKt4B,EACLib,UAAWA,EACX2kB,YAAU,EACV/kB,GAAIA,OAMT,CACCnF,KAAM,SACNG,MAAOjc,aAAE,eACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACN67B,cAAe,CACdC,MAAO,CAAC,SAAU,SAAU,aAC5BC,MAAO,SAACxrB,EAAQ0rB,GACf,QAAIA,EAAQ/tC,SAAgB+tC,EAAQ38B,SAASiR,EAAOC,qBAItD6tB,iBAAkB,SAAA3uC,GAAA,IAAG8gB,EAAH9gB,EAAG8gB,kBAAmBC,EAAtB/gB,EAAsB+gB,aAAcpb,EAApC3F,EAAoC2F,GAApC,OACjBsX,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,CAAU3O,IAAKnd,GACbpG,aAAEuhB,EAAmB,CAAEjF,aAAa,IAAS,IAC7CkuB,GAAejpB,EAAmBC,EAAc,UAMrD,CACC1F,KAAM,QACNG,MAAOjc,aAAE,cACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,eAACxiC,EAAD5N,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAS,GAAT,OAAgBqwC,aAAeziC,EAAO,OAG1D,CACCkP,KAAM,gBACNG,MAAOjc,aAAE,gBACT4pC,QAAQ1pC,OAAAC,GAAA,EAAAD,CAAA,CACP6Q,MAAM,EACNq+B,iBAAkB,SAAA3tB,GAAa,OAC9B/D,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,QAAA/pB,OAAcsZ,EAAczH,QAAQ,GAApC,KAAA7R,OAA0C4f,MAExCwjB,GAAoB,CACtBE,QAAS,CAAC,EAAG0D,GACbxD,YAAa3rC,aAAE,sBAIlB,CACC8b,KAAM,wBACNG,MAAOjc,aAAE,eACT4pC,QAAQ1pC,OAAAC,GAAA,EAAAD,CAAA,CACP6Q,MAAM,EACNq+B,iBAAkB,SAAAztB,GAAqB,SAAAxZ,SACjCwZ,GAAyB,GAAK,IAAI3H,QAAQ,GADT,QAEpCuxB,GAAoB,CACtBE,QAAS,CAAC,EAAG,KACbE,YAAa3rC,aAAE,0BAIlB,CACC8b,KAAM,cACNG,MAAOjc,aAAE,qBACT4pC,QAAQ1pC,OAAAC,GAAA,EAAAD,CAAA,CACP6Q,MAAM,EACNq+B,iBAAkB,SAAAxkC,GAAW,OAAI0kC,mBAAQ1kC,GAAe,KACrD2gC,GAAoB,CACtBE,QAAS,CAAC,EAAGjlB,GACbmlB,YAAa3rC,aAAE,0BAIlB,CACC8b,KAAM,SACNG,MAAOjc,aAAE,sBACT4pC,QAAQ1pC,OAAAC,GAAA,EAAAD,CAAA,CACP6Q,MAAM,EACNq+B,iBAAkB,SAAA1kC,GAAM,OAAI4kC,mBAAQ5kC,GAAU,KAC3C6gC,GAAoB,CACtBE,QAAS,CAAC,EAAGnlB,GACbqlB,YAAa3rC,aAAE,qBAIlB,CACC8b,KAAM,MACNG,MAAOjc,aAAE,aACT4pC,QAAQ1pC,OAAAC,GAAA,EAAAD,CAAA,CACP6Q,MAAM,EACNq+B,iBAAkB,SAAAxtB,GAAG,SAAAzZ,QAAQyZ,GAAO,GAAG5H,QAAQ,GAA1B,QAClBuxB,GAAoB,CACtBE,QAAS,CAAC,EAAG,KACbE,YAAa3rC,aAAE,kBAIlB,CACC8b,KAAM,mBACNG,MAAOjc,aAAE,YACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,SAAAvuC,GAAA,IAAGghB,EAAHhhB,EAAGghB,iBAAkBzb,EAArBvF,EAAqBuF,GAArB,OACjBsX,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,CAAU3O,IAAKnd,GAAf,GAAA+B,OAAuB0Z,EAAiB7H,QACvC,GADD,KAAA7R,OAEK4f,OAIR,CACCjM,KAAM,UACNG,MAAOjc,aAAE,gBACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNw+B,cAAe,OACfH,iBAAkB,SAAAttB,GAAO,OAAI0tB,aAAW1tB,MAG1C,CACChG,KAAM,aACNG,MAAOjc,aAAE,eACT4pC,QAAS,CACRj9B,QAAQ,EACRgtB,SAAS,EACT5oB,MAAM,EACNq+B,iBAAkB,SAAArtB,GAAU,OAAIrJ,aAAeqJ,MAGjD,CACCjG,KAAM,sBACNG,MAAOjc,aAAE,aACT4pC,QAAS,CACRj9B,QAAQ,EACRgtB,SAAS,EACT5oB,MAAM,EACNq+B,iBAAkB,SAAAptB,GAAmB,OACpCtJ,aAAesJ,MAGlB,CACClG,KAAM,UACNG,MAAOjc,aAAE,WACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNi5B,UAAU,EACVoF,iBAAkB,SAAApuC,KAAGiE,KAAH,IAASmB,EAATpF,EAASoF,GAAI6b,EAAbjhB,EAAaihB,aAAchB,EAA3BjgB,EAA2BigB,GAAIC,EAA/BlgB,EAA+BkgB,UAA/B,OACjBxD,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,CAAU3O,IAAKnd,GACdsX,EAAA3e,EAAA4e,cAAA6wB,GAAA,GACC5hC,MAAO5M,aAAE,cAETyvC,WAAY,KAEZ/xB,EAAA3e,EAAA4e,cAACqxB,GAAD,CAAc/tB,GAAIA,EAAI+Q,QAAQ,YAAYI,aAAW,WACpD1U,EAAA3e,EAAA4e,cAAA+xB,GAAA,GAAYrd,MAAM,cAGpB3U,EAAA3e,EAAA4e,cAAA6wB,GAAA,GACC5hC,MACCqV,EACGjiB,aAAE,gBACF,uDAGJyvC,WAAY,KAKZ/xB,EAAA3e,EAAA4e,cAAA,YACCD,EAAA3e,EAAA4e,cAACqxB,GAAD,CACC/tB,GAAIC,EACJ8Q,QAAQ,YACRI,aAAW,SACXtS,UAAWmC,GAEXvE,EAAA3e,EAAA4e,cAAAsgB,EAAA,GAAS5L,MAAOpQ,EAAe,UAAY,sBA+B7C0tB,GAAa,SAAAxuC,KAAGyf,SAAH,IAAamH,EAAb5mB,EAAa4mB,OAAQomB,EAArBhtC,EAAqBgtC,WAArB,MAAuC,CACzD9B,WAAY,cACZlC,eAAgB,OAChByF,WAAY,SAACC,EAAWC,EAAWnG,EAASxxB,GAAhC,OAxBM,SAAC03B,EAAWC,EAAWnG,EAASxxB,EAAMyI,EAAUmH,GAClE,IAAMgoB,EAAa53B,EAAKzX,IAAI,SAAAiT,GAAC,MAAK,CACjC2U,MAAO3U,EAAE2U,MACTnQ,KAAM,CACLxE,EAAEwE,KAAK,GACPxE,EAAEwE,KAAK,GACPxE,EAAEwE,KAAK,GACPxE,EAAEwE,KAAK,GAAGoJ,kBAJL,GAAApZ,OAKFwL,EAAEwE,KAAK,GALL,KAAAhQ,OAKW4f,GALX,GAAA5f,SAMAwL,EAAEwE,KAAK,IAAM,GAAK,IAAI6B,QAAQ,GAN9B,MAOLrG,EAAEwE,KAAK,GACPxE,EAAEwE,KAAK,GACPxE,EAAEwE,KAAK,GACPO,aAAe/E,EAAEwE,KAAK,IACtBO,aAAe/E,EAAEwE,KAAK,KACtBO,aAAe/E,EAAEwE,KAAK,SAGxB,MAAO,GAAAhQ,OAAG0nC,EAAUlG,IAAbxhC,OAAwB2nC,EAAUC,IAAcC,OAOtDJ,CAAWC,EAAWC,EAAWnG,EAASxxB,EAAMyI,EAAUmH,IAC3DkoB,cAAe,kBAAMvyB,EAAA3e,EAAA4e,cAAC2wB,GAAD,CAAYC,aAAcJ,KAC/C+B,oBAAqB,SAAC5G,EAAc6G,EAAaC,GAChD,IAAMC,EAAkB/G,EAAanxB,KAAKzX,IAAI,SAAAiT,GAAC,OAAIA,EAAE28B,YAC/CjpC,EAAgB8oC,EACpBxjC,OAAO,SAAAqD,GAAI,OAAIqgC,EAAgBhgC,SAASL,EAAKsgC,YAActgC,EAAKmI,KAAK,KACrEzX,IAAI,SAAAsP,GAAI,OAAIA,EAAKmI,KAAK,KACxB,OACCuF,EAAA3e,EAAA4e,cAAC+wB,GAAD,CACCC,uBAAwB,kBACvBrX,YAAQiZ,YAAsClpC,KAE/CyY,SAAmC,IAAzBzY,EAAcpI,YA+CbuxC,OAzCf,SAAwBvgB,GACvB,IAAMgJ,EAAUqB,KACVr1B,EAAOmuB,YAAYruB,MACnByhB,EAAiB4M,YAAYjR,KAC7BmE,EAAY8M,YAAYhR,KACxB+sB,EAAa/b,YAAY/Q,KALD8Q,EAMDC,YAAYzyB,MAAjConB,EANsBoL,EAMtBpL,OAAQnH,EANcuS,EAMdvS,SACV6vB,EAAkBrd,YAAY,SAAA/zB,GAAK,OACxCoI,aAA8BpI,EAAO,eARRqxC,EAWQ/C,GAAa,CAClDngB,SAAUhN,IACVotB,aAAc3oC,EACd4oC,WAAY,kBACXqB,GAAQ,CACPtuB,WACAqY,UACAlR,SACAvB,iBACAF,YACA6oB,kBAVKh3B,EAXsBu4B,EAWtBv4B,KAAMwxB,EAXgB+G,EAWhB/G,QAASwE,EAXOuC,EAWPvC,WAcjBvE,EAAU+F,GAAW,CAAE/uB,WAAUmH,SAAQomB,eAE/C,OACCzwB,EAAA3e,EAAA4e,cAAC+rB,GAADxpC,OAAAk2B,OAAA,CACCxpB,MAAO5M,aAAE,iBACTmY,KAAMA,EACNwxB,QAASA,EACTC,QAASA,EACTQ,eAAa,EACbE,gBAAc,EACd5Q,SAAU+W,GACNxgB,iJCjVD0gB,GAAoB,SAAA/wC,GAAA,IAAGkT,EAAHlT,EAAGkT,MAAoBmF,GAAvBrY,EAAUgxC,SAAV1wC,OAAAgY,EAAA,EAAAhY,CAAAN,EAAA,8BACzB8d,EAAA3e,EAAA4e,cAAAkb,EAAA,EAAS5gB,EAAOnF,IAyBF+9B,GAtBU,SAAAvwC,GAAA,IAAG2b,EAAH3b,EAAG2b,MAAOnJ,EAAVxS,EAAUwS,MAAOuvB,EAAjB/hC,EAAiB+hC,OAAjB,OACxB3kB,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAAAozB,GAAA,GAAa/e,QAAQ,WAAWgf,WAAS,GACxCtzB,EAAA3e,EAAA4e,cAAAszB,GAAA,GAAYC,QAAM,EAACC,kBAAgB,GACjCl1B,GAGFyB,EAAA3e,EAAA4e,cAAAyzB,GAAA,GACC/O,OAAQA,EACR2O,WAAS,EACTK,SAAO,EACPC,UAAQ,EACRx1B,KAAMG,EACNA,MAAOA,EACPs1B,eAAgBZ,GAChBa,WAAY,CAAE7S,MAAO,CAAEpC,OAAQ,OAAQkV,SAAU,eACjD3+B,MAAOA,2BCILwnB,GAAY9C,aAvBI,SAAAC,GAAK,MAAK,CAC/BQ,KAAM,CACL0B,QAAS,OACTE,WAAY,UAEb0N,QAAS,CACRrM,SAAU,YAEXwW,cAAe,CACd/pB,gBAAiB8P,EAAMK,QAAQpI,QAAQsI,KACvC3F,MAAOoF,EAAMK,QAAQpI,QAAQ6K,aAC7BjC,UAAW,CACV3Q,gBAAiB8P,EAAMK,QAAQpI,QAAQiiB,OAGzCC,YAAa,CACZ1W,SAAU,WACV3J,KAAM,EACN4J,MAAO,EACP0W,OAAQ,MAMGC,GAAU,SAAAlyC,GAMjB,IALLmyC,EAKKnyC,EALLmyC,QACAriB,EAIK9vB,EAJL8vB,QAIKsiB,EAAApyC,EAHLqyC,kBAGK,IAAAD,EAHQ,GAGRA,EAFLE,EAEKtyC,EAFLsyC,KACApyB,EACKlgB,EADLkgB,SAEMmZ,EAAUqB,KAChB,QACG2X,EAAWhzC,QACZye,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQsO,SACvB7pB,EAAA3e,EAAA4e,cAAAwoB,GAAA,GACC7T,KAAK,SACLD,MAAM,UACNE,QAAS2f,EACTpyB,SAAUA,GAAYiyB,IAAYE,EAAWhzC,QAG5CywB,EAAUhS,EAAA3e,EAAA4e,cAAAw0B,GAAA,QAAYz0B,EAAA3e,EAAA4e,cAAAy0B,GAAA,WAErBL,GACFr0B,EAAA3e,EAAA4e,cAAAqc,GAAA,GACC1H,KAAM,GACNoG,UAAWO,EAAQ2Y,YACnBvf,MAAM,gBCPNiI,GAAY9C,aC/CI,SAAAC,GACrB,IAAM4E,EAAU5E,EAAM4E,QAAQ,GAG9B,MAAO,CACNgW,KAAM,CACL1qB,gBAAiB8P,EAAMK,QAAQ5S,KAAK8S,KACpCwE,MAAO,OACP7C,QAAS,QACTuB,SAAU,WACVuE,SAAU,QAEX6S,UAAW,CACV/V,OAAQ,EACR3B,WAZa,SAabM,SAAU,WACVwE,SAAU,UAEX8H,IAAK,CACJtM,SAAU,WACV3J,IAAK,EACL8J,OAAQ,EACRF,KAAM,EACNC,MAAO,EACPiH,OAAQ,OAGR9F,OAAQ,OACRkD,SAAU,OACVjD,MAAO,OACPwL,UAAW,QAEZuK,UAAW,CACV5Y,QAAS,OACToB,cAAe,MACflB,WAAY,QACZ2Y,SAAU,QAEXC,YAAa,CACZvQ,WAAY7F,GAEbvM,MAAO,CACNuC,MAAOoF,EAAMK,QAAQhI,MAAMkI,MAE5B/b,MAAO,CACNmgB,aAAcC,EACdhK,MAAOoF,EAAMK,QAAQlE,KAAKsI,MAG3BwW,WAAY,CACX9T,YAAavC,GAGdsW,UAAW,CACVvW,aAAcC,EACduC,YAAavC,GAEd9K,IAAK,CACJoI,QAAS,OACToB,cAAe,SACfyX,SAAU,OACV/S,SAAU,OAEXmT,YAAa,CACZjZ,QAAS,OACToB,cAAe,MACfyX,SAAU,OACV3Y,WAAY,UAEbgZ,WAAY,CACXjU,YAAavC,EACbD,aAAcC,EAAU,EACxB4E,UAAW5E,EAAU,GAEtByW,SAAU,CACT5X,SAAU,WACVG,OAAQgB,EACRjB,MAAOiB,GAER0W,cAAe,CACd7X,SAAU,WACV3J,IAAK8K,EACLlB,KAAMkB,GAEP2W,eAAgB,CACf9X,SAAU,SACV3J,IAAK,EACLsgB,OAAQpa,EAAMoa,OAAO1Q,QAEtB8R,oBAAoB/yC,OAAAs9B,EAAA,EAAAt9B,CAAA,CACnBgzC,YAAazb,EAAMK,QAAQgD,UAAU9C,MAGpCP,EAAM2J,YAAYe,KAAK,MAAQ,CAC/B/F,aAAc,IAGhB+W,YAAa,GAGbC,kBAAmB,CAClBC,UAAW,EACX1rB,gBAAiB8P,EAAMK,QAAQH,WAAWsK,YDrDhCqR,GAAa,SAAA1zC,GAAmD,IAAAoyC,EAAApyC,EAAhDqyC,kBAAgD,IAAAD,EAAnC,GAAmCA,EAA/BuB,EAA+B3zC,EAA/B2zC,yBACvCta,EAAUqB,KAEhB,OACC5c,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CAAQC,OAAQxB,EAAWhzC,OAAQy0C,QAAS1zC,aAAE,6BAC3CiyC,EAAWhzC,QACbye,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCc,QAAQ,OACRuH,SAAU,EACVnG,cAAc,MACdlB,WAAW,SACXmB,eAAe,aACfwX,SAAS,OACTzY,GAAI,GAEJrc,EAAA3e,EAAA4e,cAAAg2B,GAAA,GAAMthB,MAAM,YAAYqG,UAAWO,EAAQ4Z,aAC3Cn1B,EAAA3e,EAAA4e,cAAA,QAAM+a,UAAWO,EAAQ4Z,YAAa7yC,aAAE,mBAAxC,KACCiyC,EAAWvxC,IAAI,SAAAsf,GACf,OACCtC,EAAA3e,EAAA4e,cAAAi2B,GAAA,GACC5hB,QAAQ,WACRM,KAAK,QACLD,MAAM,YACNqG,UAAWO,EAAQ4Z,WACnBtvB,IAAKvD,EAAElE,MAAQkE,EACf/D,MAAOjc,aAAEggB,EAAElE,MAAQkE,EAAG,CAAEzW,QAAQ,IAChCsqC,SAAU,WACTN,EAAyBvzB,IAE1B8zB,WAAYp2B,EAAA3e,EAAA4e,cAAAo2B,GAAA,eAUPC,GAAiB,SAAAC,GAC7B,IAAMhb,EAAUqB,KACVn4B,EAAWixB,YAAY1wB,KAE7B,OACCgb,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQ+Z,gBACvBt1B,EAAA3e,EAAA4e,cAAAu2B,GAAA,GAAUviB,QAAS,GAAInT,KAAMy1B,EAAUhC,WAAWhzC,QACjDye,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,WAAW0G,UAAWO,EAAQga,qBAC5Cv1B,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCc,QAAQ,OACRoB,cAAc,MACdlB,WAAW,SACXmB,eAAe,gBACfhb,EAAG,GAEHtC,EAAA3e,EAAA4e,cAACy2B,GAAeH,GAChBv2B,EAAA3e,EAAA4e,cAAC02B,GAAYJ,KAGdA,EAAUlC,SAAWkC,EAAUhC,WAAW5hC,SAAS,kBACnDqN,EAAA3e,EAAA4e,cAAAkb,EAAA,OACEyb,KAAoBnyC,GAAY,WAAWzB,IAAI,SAAC6zC,EAAK5gC,GAAN,OAC/C+J,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK2b,GAAI,EAAGjxB,IAAKgxB,EAAIb,QAAU//B,GAC9B+J,EAAA3e,EAAA4e,cAAAmU,EAAA,GAAOvO,IAAK5P,EAAGoe,SAAS,OAAOC,QAAQ,YACrChyB,aAAEu0C,EAAIb,iBAWHe,GAAoB,SAAAn0C,GAAgC,IAA7BwyB,EAA6BxyB,EAA7BwyB,SAAU4hB,EAAmBp0C,EAAnBo0C,aACvCzb,EAAUqB,KAEhB,OACC5c,EAAA3e,EAAA4e,cAAAw2B,EAAA,GACCzb,UAAWO,EAAQma,kBACnBzU,MAAO+V,EAAe,CAAE/c,WAAY,GAAM,GAC1C3F,QAAQ,YAEPc,IAKS6hB,GAAc,SAAAl0C,GAAkB,IAAfqyB,EAAeryB,EAAfqyB,SACvBmG,EAAUqB,KAEhB,OACC5c,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOzb,UAAWO,EAAQka,YAAanhB,QAAQ,YAC7Cc,IAKS8hB,GAAe,SAAA/zC,GAOtB,IANLg0C,EAMKh0C,EANLg0C,KACA54B,EAKKpb,EALLob,MAKK64B,EAAAj0C,EAJLiS,aAIK,IAAAgiC,EAJG,GAIHA,EAHLC,EAGKl0C,EAHLk0C,WACAC,EAEKn0C,EAFLm0C,WACG/8B,EACE/X,OAAAgY,EAAA,EAAAhY,CAAAW,EAAA,oDACL,OACC6c,EAAA3e,EAAA4e,cAAAs3B,GAAA,EAAA/0C,OAAAk2B,OAAA,CACC4a,WAAS,EACT5qC,GAAIyuC,EACJ54B,MAAOA,EACPlU,KAAK,OACLs6B,OAAO,QACPvmB,KAAM+4B,EACN/hC,MAAOA,GAAS,GAEhBw+B,UAAQ,EACRyD,WAAYA,EACZ/iB,QAAQ,WACRgjB,WAAYA,GACR/8B,KAKMi9B,GAAY,SAAAl0C,GAOnB,IANL4L,EAMK5L,EANL4L,MACAuoC,EAKKn0C,EALLm0C,SACAC,EAIKp0C,EAJLo0C,YACAC,EAGKr0C,EAHLq0C,gBACA9B,EAEKvyC,EAFLuyC,yBAEK+B,EAAAt0C,EADLu0C,aAEM7kB,UADD,IAAA4kB,EADU,GACVA,GACyB1oC,MACxB4oC,IAAcL,GAAYA,EAASz1B,MACzC,OACChC,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACT5qC,GAAG,aACH6V,MAAOjc,aAAE,QAAS,CAAEuJ,QAAQ,IAC5BxB,KAAK,OACL+T,KAAK,QACLhJ,MAAOlG,GAAS,GAChBssB,SAAU,SAAA7B,GACT+d,EAAY,QAAS/d,EAAG8G,OAAOrrB,QAEhCgN,UAAW4Q,EACXZ,MAAO0lB,EACPT,WACCS,EAAYx1C,aAAEm1C,EAASM,OAAQ,CAAEhsC,KAAM0rC,EAASO,aAAgB,GAEjE1jB,QAAQ,WACRgjB,WAAY,CACXW,aACCj4B,EAAA3e,EAAA4e,cAAAi4B,GAAA,GAAgB1a,SAAS,OACxBxd,EAAA3e,EAAA4e,cAAAwU,EAAA,GAECE,MAAM,YACNE,QAAS,kBACR7B,EACG6iB,EAAyB,SACzB8B,EAAgB,SAAS,KAG5B3kB,EAAShT,EAAA3e,EAAA4e,cAAAo2B,GAAA,QAAmBr2B,EAAA3e,EAAA4e,cAAAk4B,GAAA,cASvBC,GAAkB,SAAA30C,GAOzB,IANL40C,EAMK50C,EANL40C,YACAC,EAKK70C,EALL60C,eACAZ,EAIKj0C,EAJLi0C,YACAC,EAGKl0C,EAHLk0C,gBACA9B,EAEKpyC,EAFLoyC,yBAEK0C,EAAA90C,EADLo0C,oBACK,IAAAU,EADU,GACVA,EACCvlB,IAAW6kB,EAAaQ,YACxBP,IAAcQ,GAAkBA,EAAet2B,MACrD,OACChC,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACT5qC,GAAG,mBACH6V,MAAOjc,aAAE,cAAe,CAAEuJ,QAAQ,IAClCxB,KAAK,OACL+T,KAAK,cACLhJ,MAAOijC,GAAe,GACtB7c,SAAU,SAAA7B,GACT+d,EAAY,cAAe/d,EAAG8G,OAAOrrB,QAEtCojC,UAAW,KACXC,WAAS,EACTC,KAAM,EACNt2B,UAAWy1B,EAAaQ,YACxBjmB,MAAO0lB,EACPT,WACCS,EACGx1C,aAAEg2C,EAAeP,OAAQ,CACzBhsC,KAAMusC,EAAeN,aAErB,GAEJ1jB,QAAQ,WACRgjB,WAAY,CACXW,aACCj4B,EAAA3e,EAAA4e,cAAAi4B,GAAA,GAAgB1a,SAAS,OACxBxd,EAAA3e,EAAA4e,cAAAwU,EAAA,GAECE,MAAM,YACNE,QAAS,kBACR7B,EACG6iB,EAAyB,eACzB8B,EAAgB,eAAe,KAGlC3kB,EAAShT,EAAA3e,EAAA4e,cAAAo2B,GAAA,QAAmBr2B,EAAA3e,EAAA4e,cAAAk4B,GAAA,cASvBQ,GAAa,SAAA/0C,GAAc,IAAXyG,EAAWzG,EAAXyG,KAC5B,OACC2V,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACT5qC,GAAG,YACH6V,MAAOjc,aAAE,OAAQ,CAAEuJ,QAAQ,IAC3BxB,KAAK,OACL+T,KAAK,OACLhJ,MAAO/K,GAAQ,GACf+X,UAAU,EACVkS,QAAQ,cAKLskB,GAAmB,SAAA70C,GAAgCA,EAA7Bu0B,aAA6B,IAAZ/F,EAAY/vB,OAAAgY,EAAA,EAAAhY,CAAAuB,EAAA,kBACxD,OACCic,EAAA3e,EAAA4e,cAAAwU,EAAA,EAAgBlC,EACfvS,EAAA3e,EAAA4e,cAAA44B,GAAA,UAKGC,GAAoB/f,qBAAW,SAACxG,EAAOoG,GAAR,OACpC3Y,EAAA3e,EAAA4e,cAAC84B,GAADv2C,OAAAk2B,OAAA,GAAsBnG,EAAtB,CAA6B+F,aAAcK,OAG/BqgB,GAAgB,SAAA5zC,GAA+B,IAAA6zC,EAAA7zC,EAA5B8zC,iBAA4B,IAAAD,EAAhB,GAAgBA,EAAZ16B,EAAYnZ,EAAZmZ,MAC/C,OACCyB,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACT5qC,GAAG,iBACH6V,MAAOjc,aAAEic,GAAS,kBAClBlU,KAAK,OACL+T,KAAK,YACLhJ,MAAO8jC,EACP92B,UAAU,EACVkS,QAAQ,WACRgjB,WAAY,CACXW,aACCj4B,EAAA3e,EAAA4e,cAAAi4B,GAAA,GAAgB1a,SAAS,OACxBxd,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCyU,MAAM,UACNxU,KAAM+4B,EACN1Z,UAAWsZ,UASLK,GAAuB,SAAA5zC,GAAwB,IAAA6zC,EAAA7zC,EAArB2zC,iBAAqB,IAAAE,EAAT,GAASA,EAE3D,OACCp5B,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACT5qC,GAAG,iBACH6V,MAAOjc,aAAE,sBACT+H,KAAK,OACL+T,KAAK,YACLhJ,MAAO8jC,EACP92B,UAAU,EACVkS,QAAQ,WACRgjB,WAAY,CACXW,aACCj4B,EAAA3e,EAAA4e,cAAAi4B,GAAA,GAAgB1a,SAAS,OACxBxd,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCyU,MAAM,UACNxU,KAAM+4B,EACN1Z,UAAWsZ,UASLO,GAAY,SAAA5zC,GAAmD,IAAA6zC,EAAA7zC,EAAhDie,gBAAgD,IAAA41B,EAArC,GAAqCA,EAAAC,EAAA9zC,EAAjCke,iBAAiC,IAAA41B,EAArB,GAAqBA,EAAAC,EAAA/zC,EAAjB8Y,aAAiB,IAAAi7B,EAAT,GAASA,EACrEje,EAAUqB,KAChB,OACC5c,EAAA3e,EAAA4e,cAAAw5B,GAAA,GAAMze,UAAWO,EAAQoZ,KAAM+E,QAAQ,EAAOplB,QAAQ,YACrDtU,EAAA3e,EAAA4e,cAAA05B,GAAA,GAAWpe,QAAS,CAAEhB,KAAMgB,EAAQqZ,YACnC50B,EAAA3e,EAAA4e,cAAC25B,GAAD,CACCnQ,iBAAiB,EACjBnY,IAAK5N,EACLsd,IAAKziB,GAASjc,aAAE,SAChB04B,UAAWO,EAAQuO,IACnBnmB,UAAWA,EACX2kB,YAAU,IAEV/pB,GACAyB,EAAA3e,EAAA4e,cAAAi2B,GAAA,GAAMthB,KAAK,QAAQoG,UAAWO,EAAQ8Z,cAAe92B,MAAOA,OAOpDs7B,GAAc,SAAAj0C,GAQrB,IAAAk0C,EAAAl0C,EAPL0M,YAOK,IAAAwnC,EAPE,GAOFA,EAAAC,EAAAn0C,EANLo0C,wBAMK,IAAAD,EANc,GAMdA,EALL58B,EAKKvX,EALLuX,YACAu6B,EAIK9xC,EAJL8xC,YACAC,EAGK/xC,EAHL+xC,gBACA9B,EAEKjwC,EAFLiwC,yBAEKoE,EAAAr0C,EADLiyC,oBACK,IAAAoC,EADU,GACVA,EACG5xB,EAAY/V,EAAZ+V,QACF2K,IAAW6kB,EAAaxvB,QACb+J,EAAUjV,EAAnBkL,QACFyvB,IAAc1lB,GAASA,EAAMpQ,MAEnC,OACChC,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACT5qC,GAAG,eACH6V,MAAOjc,aAAE,gBACT+H,KAAK,OACL+T,KAAK,UACLhJ,MAAOiT,GAAW,IAClBmT,SAAU,SAAA7B,GACT+d,EAAY,WAAY/d,EAAG8G,OAAOrrB,OAAS,IAAIk9B,SAEhDlwB,WAAY43B,EAAiB3xB,UAAY2K,EACzCZ,MAAO0lB,EACPT,WACCS,EACCx1C,aAAE8vB,EAAM2lB,OAAQ,CAAEhsC,KAAMqmB,EAAM4lB,aAE9Bh4B,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACEqjB,EAAaxvB,SACbrI,EAAA3e,EAAA4e,cAAA,QACCi6B,wBAAyB,CACxBC,OAAQ73C,aAAE,0BAIb0d,EAAA3e,EAAA4e,cAAA,QACCi6B,wBAAyB,CACxBC,OAAQ73C,aAAE,iCAMfgyB,QAAQ,WACRgjB,WAAY,CACXW,cAAe+B,EAAiB3xB,SAC/BrI,EAAA3e,EAAA4e,cAAAi4B,GAAA,GAAgB1a,SAAS,OACxBxd,EAAA3e,EAAA4e,cAAAwU,EAAA,GAECE,MAAM,YACNE,QAAS,kBACR7B,EACG6iB,EAAyB,WACzB8B,EAAgB,WAAW,KAG9B3kB,EAAShT,EAAA3e,EAAA4e,cAAAo2B,GAAA,QAAmBr2B,EAAA3e,EAAA4e,cAAAk4B,GAAA,cASvBiC,GAAiB,SAAAr0C,GAQxB,IAPLuJ,EAOKvJ,EAPLuJ,OAOK+qC,EAAAt0C,EANLuG,gBAMK,IAAA+tC,EANM,GAMNA,EALLnrC,EAKKnJ,EALLmJ,MACAorC,EAIKv0C,EAJLu0C,UACAC,EAGKx0C,EAHLw0C,UACAC,EAEKz0C,EAFLy0C,mBACAlH,EACKvtC,EADLutC,UAEMmH,EAAYnuC,EAASsS,cAErBiW,EAAU,WACf+E,YACC8gB,YACC,kBACC9gB,YACC+gB,YAAY,CAAErrC,SAAQhD,WAAUiuC,YAAWC,yBAE7C,KACA,CACCrkB,aAAc7zB,aAAC,wBAA0B,CACxCyJ,KAAM,CAAC0uC,KAERrkB,YAAa9zB,aAAE,UACf4M,MAAO5M,aAAC,wBAA0B,CACjCyJ,KAAM,CAAC0uC,EAAWvrC,KAEnBgnB,KAAM5zB,aAAC,uBAAyB,CAC/ByJ,KAAM,CAAC0uC,EAAWvrC,SAMvB,OACC8Q,EAAA3e,EAAA4e,cAAA6wB,GAAA,GACC5hC,MAAO5M,aAAE,gBAAiB,CAAEyJ,KAAM,CAAC0uC,KACnC/lB,aAAW,WAEV4lB,EACAt6B,EAAA3e,EAAA4e,cAAAwU,EAAA,GAAYI,QAASA,EAASH,aAAA,WAAAjqB,OAAuB6E,IACpD0Q,EAAA3e,EAAA4e,cAAA26B,GAAA,GAAajmB,MAAM,YAGpB3U,EAAA3e,EAAA4e,cAAA0W,EAAA,GACC2c,UAAWA,EACX3e,MAAM,UACNL,QAAQ,YACRO,QAASA,EACTH,aAAA,WAAAjqB,OAAuB6E,IAEtBhN,aAAE,gCEzeD,SAASu4C,GAAT34C,GAAqE,IAAlDoK,EAAkDpK,EAAlDoK,SAAUisB,EAAwCr2B,EAAxCq2B,MAAOuiB,EAAiC54C,EAAjC44C,SAAUC,EAAuB74C,EAAvB64C,oBAAuB1lB,EACnDC,mBAAS,IAD0CC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GACpE/iB,EADoEijB,EAAA,GAC9DzE,EAD8DyE,EAAA,GAAA8a,EAE3B/a,mBAAS,IAFkBgb,EAAA9tC,OAAAiR,EAAA,EAAAjR,CAAA6tC,EAAA,GAEpE2J,EAFoE1J,EAAA,GAElD0K,EAFkD1K,EAAA,GAAA2K,EAGzC3lB,mBAAS,IAHgC4lB,EAAA14C,OAAAiR,EAAA,EAAAjR,CAAAy4C,EAAA,GAGpEpD,EAHoEqD,EAAA,GAGtDC,EAHsDD,EAAA,GAAAE,EAIvC9lB,mBAAS,IAJ8B+lB,EAAA74C,OAAAiR,EAAA,EAAAjR,CAAA44C,EAAA,GAIpE7G,EAJoE8G,EAAA,GAIxDC,EAJwDD,EAAA,GAAAE,EAKvCjmB,mBAAS,kBAL8BkmB,EAAAh5C,OAAAiR,EAAA,EAAAjR,CAAA+4C,EAAA,GAKpEh6B,EALoEi6B,EAAA,GAKxDC,EALwDD,EAAA,GAOrEE,EAAYhmB,YAAY,SAAA/zB,GAAK,OAClC4K,aAAsB5K,EAAO2K,EAAUisB,EAAMojB,OAAOrsC,UAG/C6N,EAAcuY,YACnB,SAAA/zB,GAAK,OAAIyb,aAAsBzb,EAAO4f,IAAe,KAGhD8yB,EAAU3e,YAAY,SAAA/zB,GAAK,OAAI8G,aAAkB9G,EAAO4f,KAE9D8U,oBAAU,WACT,IAAM0X,EAAU,IAAI+M,EAASY,GAC7B5qB,EAAQid,GACRiN,EAAoBjN,GACpB0N,EAAa,UAAAhxC,OAAW6H,EAAK5J,MAC3B,CAAC4J,EAAK5J,GAAIoyC,EAAUY,IAEvB,IAAM/D,EAAkBjH,sBACvB,SAACkL,EAAOxmC,GACP+lC,EAAU34C,OAAAC,GAAA,EAAAD,CAAA,GAAKq1C,EAANr1C,OAAAs9B,EAAA,EAAAt9B,CAAA,GAAqBo5C,EAAQxmC,MAEvC,CAACyiC,IAGIgE,EAAWnL,sBAChB,SAAA1uB,GAAK,OACJ4X,YAAQmhB,EAAoB,CAAEzoC,OAAMiP,aAAYS,QAAOuyB,iBACxD,CAACA,EAAYjiC,EAAMyoC,EAAqBx5B,IAGnCizB,EAAO9D,sBAAWluC,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAC,SAAAC,IAAA,OAAAF,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EAClB4B,YACLmhB,EAAoB,CACnBzoC,OACAiP,aACAS,OAAO,EACP+sB,QAAQ,EACRwF,gBAPsB,OAUxB+G,EAAc,IACdH,EAAU,IAXc,wBAAApjB,EAAAI,SAAAR,MAYtB,CAAC4c,EAAYjiC,EAAMyoC,EAAqBx5B,IAErCs0B,EAA2BnF,sBAChC,SAAAyG,GACC,IAAM/nC,EAAU,IAAI0rC,EAASxoC,GACvBwpC,EAAavH,EAAWwH,UAC7B,SAAAz5B,GAAC,OAAKA,EAAElE,MAAQkE,MAAQ60B,EAAK/4B,MAAQ+4B,KAGtC,GAAI2E,GAAc,EAAG,CACpB,IAAME,EAAax5C,OAAAgE,GAAA,EAAAhE,CAAO+xC,GACpB0H,EAAUD,EAAcF,GAC9BE,EAAcE,OAAOJ,EAAY,GAE7BG,EAAQE,OACXF,EAAQE,OAAOhqC,QACd,SAAAglC,GAAI,OAAK/nC,EAAQ+nC,GAAQ6C,EAAiB7C,KAG3C/nC,EAAQ6sC,GAAWjC,EAAiB7C,GAGrCrmB,EAAQ1hB,GACRksC,EAAcU,GACdrE,EAAgBR,EAAK/4B,MAAQ+4B,GAAM,GACnC0E,GAAS,KAGX,CAACtH,EAAYyF,EAAkB1nC,EAAMwoC,EAAUnD,EAAiBkE,IAG3DnE,EAAchH,sBACnB,SAACkL,EAAOxmC,EAAO6mC,GACd,IAAM7sC,EAAU,IAAI0rC,EAASxoC,GAC7BlD,EAAQwsC,GAASxmC,EAEjB0b,EAAQ1hB,GAER,IAAMgtC,EAAK7H,EAAW35B,MAAM,GAEvBwhC,EAAG1pC,KAAK,SAAA4P,GAAC,OAAKA,EAAElE,MAAQkE,MAAQ25B,EAAUA,EAAQ79B,KAAOw9B,MAC7DQ,EAAGrhC,KAAKkhC,GAAWL,GAEpBN,EAAcc,IAEf,CAAC7H,EAAYjiC,EAAMwoC,IAGduB,EAAuB3L,sBAC5B,SAAC4L,GAAgC,IAArBC,EAAqBj7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACnB+jB,EAAUm3B,QAAKC,aAAa,CAAEnqC,OAAMgqC,YAAWxB,aAErDhqB,EAAQ,IAAIgqB,EAASz1B,IAErB,IAAM+2B,EAAK7H,EAAW35B,MAAM,GAC5B2hC,EAAYpqC,QAAQ,SAAAypC,GACdQ,EAAG1pC,KAAK,SAAA4P,GAAC,OAAKA,EAAElE,MAAQkE,MAAQs5B,EAAMx9B,MAAQw9B,MAClDQ,EAAGrhC,KAAK6gC,KAGVN,EAAcc,IAEf,CAAC7H,EAAYjiC,EAAMwoC,IAGpB,MAAO,CACNxoC,OACA0nC,mBACAnC,eACAF,kBACApD,aACAsB,2BACAgG,WACAt6B,aACApE,cACAu6B,cACA2E,uBACAhI,UACAG,yECzGI5X,GAAY9C,aChCI,SAAAC,GACrB,IAAM4E,EAAU5E,EAAM4E,QAAQ,GAExB+d,GADK3iB,EAAM4E,QAAQ,GACR5E,EAAMK,QAAQhI,MAAMkI,MACrC,MAAO,CACNC,KAAM,CACL5F,MAAO,SACPgoB,WAAY,CACXhoB,MAAO,UAGT3B,OAAQ,CACP2B,MAAO,UAERioB,eAAgB,CACfpf,SAAU,WACVwE,SAAU,SACVrE,OAAQ,EACRF,KAAM,EACNC,MAAO,EACP7J,IAAK,GAENgpB,UAAW,CACV3gB,KAAM,WACN0B,UAAW,OACXC,UAAW,SACXgB,OAAQ,EACRd,QAASY,GAEVjB,MAAO,CACNof,UAAW,QACX7gB,QAAS,eACT6C,MAAO,MACPie,0BAA2B,CAC1Bje,MAAO,QAGTrB,KAAM,CACLxB,QAAS,eACT6gB,UAAW,OACXhe,MAAO,MACPie,0BAA2B,CAC1Bje,MAAO,QAGTke,cAAe,CACd1f,eAAgB,UAEjB2f,sBAAuB,CACtBzY,WAAY7F,EACZnB,SAAU,YAEXmT,eAAgB,CACfnT,SAAU,WACV3J,IAAK,MACL4J,KAAM,MACN8F,WAAY,GACZiB,YAAa,IAEd0Y,QAAS,CACRvoB,MAAO+nB,EACPlH,YAAakH,EACbS,QAAS,CACRxoB,MAAO+nB,GAERxb,YAAavC,EACbD,aAAcC,MD/BXye,GAAa,SAAAl7C,GAA+C,IAA5CssC,EAA4CtsC,EAA5CssC,MAAO6O,EAAqCn7C,EAArCm7C,YAAa9hB,EAAwBr5B,EAAxBq5B,QAAwB/4B,OAAAgY,EAAA,EAAAhY,CAAAN,EAAA,mCACjE,OAAIo7C,OAAOC,YAAc,IAEvBv9B,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCe,MAAI,EACJmB,cAAc,SACdlB,WAAW,SACXmB,eAAe,UAEftd,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYiL,MAAM,WACf4D,EAAM6O,IAAgB,IAAInuC,QAI9B8Q,EAAA3e,EAAA4e,cAAAu9B,GAAA,GACCC,WAAYJ,EACZ7O,MAAOA,EAAMjtC,OACbi8B,SAAS,SACTlJ,QAAQ,OACRsW,MAAM,SACN5P,UAAWO,EAAQyhB,kBAOvBh9B,EAAA3e,EAAA4e,cAAAy9B,GAAA,GAAYC,kBAAgB,EAACF,WAAYJ,GACvC7O,EAAMxrC,IAAI,SAAC46C,EAAM3nC,GACjB,OACC+J,EAAA3e,EAAA4e,cAAA49B,GAAA,GAAMh4B,IAAK+3B,EAAK1uC,OACf8Q,EAAA3e,EAAA4e,cAAA69B,GAAA,OAAYF,EAAK1uC,YA0NR6uC,GAlNS,SAAAxrB,GAAS,IAAAyrB,EAM5BzrB,EAJH0rB,mBAF+B,IAAAD,EAEjB,EAFiBA,EAAAE,EAM5B3rB,EAHHic,aAH+B,IAAA0P,EAGvB,GAHuBA,EAI/BC,EAEG5rB,EAFH4rB,YAGK5iB,EAAUqB,KAPgBvH,EASMC,oBAAU2oB,GAThB1oB,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GASzBgoB,EATyB9nB,EAAA,GASZ6oB,EATY7oB,EAAA,GAU1B8oB,EAAa7P,EAAMjtC,OAAS87C,GAAeA,EAAc,EAEzDO,EAAOpP,EAAM6O,IAAgB,GAC7BiB,EAAYV,EAAKrrB,OAAS,GACxBhR,EAAe+8B,EAAf/8B,WACFg9B,EAAOX,EAAKpe,WAAa,KAE9Bgf,EAKGZ,EALHY,aACAC,EAIGb,EAJHa,QACAC,EAGGd,EAHHc,QACAC,EAEGf,EAFHe,WApB+BC,EAsB5BhB,EADHiB,wBArB+B,IAAAD,EAqBZ,GArBYA,EAwB1BzhC,EAAcuY,YAAY,SAAA/zB,GAAK,OACpCyb,aAAsBzb,EAAO4f,KAGxBu9B,EApF0B,WAAsB,IAArB3hC,EAAqB7b,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAS/C,OARekB,OAAOma,KAAKQ,GAAa/a,OAAO,SAAC28C,EAAWl5B,GAC1D,IAAM8K,EAAMxT,EAAY0I,GAIxB,OAHI8K,EAAI3O,OACP+8B,EAAUhkC,KAAK,CAAE87B,IAAKlmB,EAAIonB,OAAQ6D,MAAOt5C,aAAEujB,EAAK,CAAEha,QAAQ,MAEpDkzC,GACL,IA6EiBC,CAAyB7hC,GAEvC8hC,EAAoBvpB,YAAY,SAAA/zB,GAAK,OAC1C8G,aAAkB9G,EAAO4f,KAGpB29B,EAAexpB,YAAY,SAAA/zB,GAAK,OAAI8G,aAAkB9G,EAAO+8C,KAE7DrK,EAAU4K,GAAqBC,EAE/BC,EAAczO,sBAAY,WAC/B,OAAQluC,OAAOma,KAAKQ,GAAe,IAAI5b,QACrC,CAAC4b,IAIEiiC,EAAW1O,sBAAW,eAAA9tC,EAAAJ,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAC3B,SAAAC,EAAM0nB,GAAN,IAAAC,EAAA,OAAA7nB,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,OAEOsnB,EAAYD,EAAWhC,GADVgC,EAAWhC,GAGZiC,IACjBlB,EAAeiB,GALjB,wBAAAtnB,EAAAI,SAAAR,MAD2B,gBAAAS,GAAA,OAAAx1B,EAAAsS,MAAAwd,KAAApxB,YAAA,GAS3B,CAAC+7C,IAGIkC,EAAmB7O,sBAAWluC,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAC,SAAA8nB,IAAA,OAAA/nB,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,OAChCqmB,GACHe,EAAS/B,EAAc,GAFY,wBAAAoC,EAAAtnB,SAAAqnB,MAIlC,CAACnB,EAAYhB,EAAa+B,IAEvBM,EAAehP,sBAAWluC,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAC,SAAAioB,IAAA,OAAAloB,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,OAC5BwmB,EACHA,EAAa,CACZE,UACAn9B,aACAS,OAAO,EACPy8B,QAASA,GAAY,kBAAMW,EAAS/B,EAAc,MAEzC8B,KACVC,EAAS/B,EAAc,GATQ,wBAAAuC,EAAAznB,SAAAwnB,MAW9B,CACFtC,EACA+B,EACAD,EACAV,EACAD,EACAE,EACAn9B,IAGKs+B,EAAiBnP,sBAAWluC,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAC,SAAAooB,IAAA,OAAAroB,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cAAA+nB,EAAA/nB,KAAA,EAC5B2mB,EAAW,CAChBD,UACAn9B,aACAk9B,QAAS,iBAA6B,oBAAhBN,GAA8BA,OAJnB,wBAAA4B,EAAA5nB,SAAA2nB,MAMhC,CAAC3B,EAAaQ,EAAYD,EAASn9B,IAEtC8U,oBAAU,WACLmoB,GACHA,EAAa,CAAEE,UAASn9B,aAAYS,OAAO,KAE1C,CAACq7B,EAAamB,EAAcE,EAASn9B,IAExC,IAAMy+B,EAAetP,sBAAW,eAAAjtC,EAAAjB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAC/B,SAAAuoB,EAAMtmB,GAAN,OAAAlC,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,OACgB,UAAX2B,EAAG9T,MACN8T,EAAG1B,iBACHynB,KAHF,wBAAAQ,EAAA/nB,SAAA8nB,MAD+B,gBAAAE,GAAA,OAAA18C,EAAAyR,MAAAwd,KAAApxB,YAAA,GAO/B,CAACo+C,IAGF,OACC1/B,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCH,UAAWO,EAAQqhB,eACnBwD,WAAYJ,EACZ/jB,QAAQ,OACRoB,cAAc,SACdlB,WAAW,iBAEXnc,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAAw2B,EAAA,GACClb,QAAS,CACRhB,KAAMgB,EAAQ+kB,YAEflU,UAAW,GAEXpsB,EAAA3e,EAAA4e,cAACsgC,GAAD/9C,OAAAk2B,OAAA,GACKnG,EADL,CAECic,MAAOA,EACPjT,QAASA,EACT8hB,YAAaA,EACb+B,SAAUA,OAKbp/B,EAAA3e,EAAA4e,cAAAw2B,EAAA,GACClb,QAAS,CACRhB,KAAMgB,EAAQshB,WAEfzQ,UAAW,KAERmS,GAAQv+B,EAAA3e,EAAA4e,cAACs+B,EAASD,MAGnBQ,EAAYv9C,QACdye,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKxG,MAAM,aAAa6rB,GAAI,GAC1B1B,EAAY97C,IAAI,SAAA2tB,GAAG,OACnB3Q,EAAA3e,EAAA4e,cAAAi2B,GAAA,GACCrwB,IAAK8K,EAAIirB,MACTrgB,QAAS,CAAEhB,KAAMgB,EAAQ2hB,SACzBte,KAAM5e,EAAA3e,EAAA4e,cAACwgC,GAAAp/C,EAAD,MACNizB,QAAQ,WACRM,KAAK,QACLrW,MAAK,GAAA9T,OAAKkmB,EAAIirB,MAAT,MAAAnxC,OAAmBkmB,EAAIkmB,KAC5BliB,MAAM,eAMV3U,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,GACRxgC,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQkC,MACtB4gB,GACAr+B,EAAA3e,EAAA4e,cAAA0W,EAAA,GAAQ9B,QAAS0qB,GAAmBj9C,aAAE,UAIxC0d,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQmC,OACS,oBAAxBkgB,EAAK8C,gBACZ1gC,EAAA3e,EAAA4e,cAAA0W,EAAA,GACC9B,QAAS,WACe,oBAAhBspB,GAA8BA,IACrCP,EAAK8C,eAAehC,KAGpBp8C,aAAE,WAIL0d,EAAA3e,EAAA4e,cAAA,QAAM+a,UAAWO,EAAQ0hB,uBACD,oBAAf0B,EACP3+B,EAAA3e,EAAA4e,cAAA0W,EAAA,GACCvU,SAAUiyB,EACV/f,QAAQ,YACRK,MAAM,UACNE,QAASgrB,GAERv9C,aAAEu8C,GAAoB,cAGxB7+B,EAAA3e,EAAA4e,cAAA0W,EAAA,GACCvU,SAAUiyB,EACV/f,QAAQ,YACRK,MAAM,UACNE,QAAS6qB,GAERp9C,aAAE,aAGJ+xC,GACAr0B,EAAA3e,EAAA4e,cAAAqc,GAAA,GAAkB1H,KAAM,GAAIoG,UAAWO,EAAQoV,sBE3QtD,SAASgQ,GAATz+C,GAA6E,IAAxDw+C,EAAwDx+C,EAAxDw+C,eAAgBhC,EAAwCx8C,EAAxCw8C,QAASlQ,EAA+BtsC,EAA/BssC,MAAO2P,EAAwBj8C,EAAxBi8C,YAAgB5jC,EAAQ/X,OAAAgY,EAAA,EAAAhY,CAAAN,EAAA,oDAAAmzB,EAC3CC,mBAAS,IADkCC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GACrEurB,EADqErrB,EAAA,GACvDsrB,EADuDtrB,EAAA,GAAAurB,EAEvDprB,YAAY7G,MAAzB0f,YAFoE,IAAAuS,EAE7D,EAF6DA,EAiB5E,OAbAzqB,oBAAU,WACT,IAAM0qB,EAAevS,EAAMxrC,IAAI,SAACke,EAAG0J,GAAJ,OAAApoB,OAAAC,GAAA,EAAAD,CAAA,GAC3B0e,EAD2B,CAE9Bw9B,UACAxvC,MAAO5M,aAAE4e,EAAEhS,OACXwxC,iBACAnuB,MAAM/vB,OAAAC,GAAA,EAAAD,CAAA,GAAM+X,EAAP,CAAamkC,UAASn9B,WAAYm9B,EAAU,IAAM9zB,QAGxDi2B,EAASE,IAEP,CAACrC,IAGH1+B,EAAA3e,EAAA4e,cAAC+gC,GAAD,CACC/C,YAAa1P,EACbC,MAAOoS,EACPzC,YAAaA,IAUDplB,4BAAW,SAACxG,EAAOoG,GAAR,OACzB3Y,EAAA3e,EAAA4e,cAAC0gC,GAADn+C,OAAAk2B,OAAA,GAAenG,EAAf,CAAsB+F,aAAcK,iBCtCxByK,GAAS,SAAArJ,GACrB,IAAM4E,EAAU5E,EAAM4E,QAAQ,GAC9B,MAAO,CACNmK,OAAQ,CACPjK,OAAM,gBAAAp0B,OAAkBk0B,EAAlB,OACNnE,SAAU,KACVuH,SAAU,KACV9X,gBAAiB8P,EAAMK,QAAQqJ,OAAOnJ,KACtC+P,2BAA4B,CAC3BtI,SAAU,OACVvH,SAAQ,gBAAA/vB,OAAkBk0B,EAAlB,SAGVsiB,YAAa,CACZhlB,QAAS,OACToB,cAAe,MACflB,WAAY,SACZmB,eAAgB,gBAChByW,SAAU,aACVpP,OAAQhG,EACR6F,WAAYzK,EAAM4E,QAAQ,GAC1BD,aAAc,EACdX,QAAS,GAEVuG,QAAS,CACRrI,QAAS,OACToB,cAAe,SACfnB,KAAM,WACNsB,SAAU,WACVO,QAAS,EACT4G,OAAQhG,EACRqD,SAAU,UACVpE,UAAW,QAEZsjB,WAAY,CACXjlB,QAAS,OACToB,cAAe,SACfnB,KAAM,GAEPilB,QAAS,CACRxc,OAAQ,SACR7F,MAAO,QAERsiB,YAAa,CACZ5d,SAAU,GAEX6d,0BAA2B,CAC1BC,WAAY,EACZpgB,YAAanH,EAAM4E,QAAQ,IAE5B4iB,kBAAmB,CAClBtlB,QAAS,OACToB,cAAe,MACfC,eAAgB,SAChBnB,WAAY,SACZqlB,UAAW,CACVzjB,QAAShE,EAAM4E,QAAQ,KAGzB8iB,QAAS,CACR1iB,OAAQ,WAET2iB,YAAa,CACZxgB,YAAanH,EAAM4E,QAAQ,IAE5BgjB,QAAQn/C,OAAAs9B,EAAA,EAAAt9B,CAAA,CACPo/C,cAAe,YAEf9E,UAAW,SACV/iB,EAAM2J,YAAYe,KAAK,MAAQ,CAC/BqY,UAAW,SAGb+E,SAAU,CACT/E,UAAW,QAEZgF,qBAAsB,CACrBtkB,SAAU,WACVC,KAAM,mBACN5J,IAAK,oBAENkuB,SAASv/C,OAAAs9B,EAAA,EAAAt9B,CAAA,CACRg7B,SAAU,SACV3J,IAAK,EACL4J,KAAM,EACNiB,aAAc3E,EAAM4E,QAAQ,GAC5BwV,OAAQpa,EAAMoa,OAAO1Q,OACrB0Z,QAAS,CACRjc,YAAanH,EAAM4E,QAAQ,KAE3B5E,EAAM2J,YAAYe,KAAK,MAAQ,CAC/B/F,aAAc,EACdlB,SAAU,QACV3J,IAAK,OACL4J,KAAM,OACNE,OAAQgB,EACRjB,MAAOiB,IAGTqjB,UAAW,CACVC,UAAW,aACXC,aAAc,aACdC,QAAS,QAEVC,QAAS,CACRvuB,IAAK,OACL4J,KAAM,OACNC,MAAO,EACPC,OAAQ,EACRmB,MAAO,QACPD,OAAQ,OACRrB,SAAU,YAEX6kB,SAAU,CACT7kB,SAAU,YAEX8kB,iBAAkB,CACjB5jB,aAAc,QAEf6jB,mBAAoB,CACnBtmB,QAAS,OACTC,KAAM,EACNmB,cAAe,SACfC,eAAgB,SAChBnB,WAAY,iCC7FTqmB,GAAUvY,aAAW7G,GAAX6G,CAbA,SAAA/nC,GAA4D,IAAzDqc,EAAyDrc,EAAzDqc,MAAOyc,EAAkD94B,EAAlD84B,UAAWO,EAAuCr5B,EAAvCq5B,QAAS0F,EAA8B/+B,EAA9B++B,MAAOpM,EAAuB3yB,EAAvB2yB,QAAuBryB,OAAAgY,EAAA,EAAAhY,CAAAN,EAAA,mDAC3E,OACC8d,EAAA3e,EAAA4e,cAAA,QACC+a,UAAWyE,KAAWlE,EAAQkmB,QAASzmB,GACvCiG,MAAOA,EACPpM,QAASA,GAER,IACAtW,EAAO,OAOLkkC,GAAa7pB,IAAMG,WAAW,SAAoBxG,EAAOoG,GAC9D,OAAO3Y,EAAA3e,EAAA4e,cAACyiC,GAAA,EAADlgD,OAAAk2B,OAAA,CAAOiqB,UAAU,KAAKhqB,IAAKA,GAASpG,MAGtCqK,GAAY9C,aAAWsJ,IAEd,SAASwf,GAAc9rB,GACrC,SAAS+rB,EAAWtwB,GAAO,IAAAuwB,EAsBtBvwB,EApBHwwB,4BAFyB,IAAAD,KAGzBxqB,EAmBG/F,EAnBH+F,aACA0qB,EAkBGzwB,EAlBHywB,WACAC,EAiBG1wB,EAjBH0wB,WACAC,EAgBG3wB,EAhBH2wB,UACA5uB,EAeG/B,EAfH+B,QACAK,EAcGpC,EAdHoC,MACAC,EAaGrC,EAbHqC,KAEAuuB,GAWG5wB,EAZH6wB,KAYG7wB,EAXH4wB,cACAE,EAUG9wB,EAVH8wB,SACAjhC,EASGmQ,EATHnQ,SACA4Y,EAQGzI,EARHyI,UACA4D,EAOGrM,EAPHqM,KACA1vB,EAMGqjB,EANHrjB,MACAo0C,EAKG/wB,EALH+wB,cACAzuB,EAIGtC,EAJHsC,QACAye,EAGG/gB,EAHH+gB,UACAiQ,EAEGhxB,EAFHgxB,aACGhpC,EArBsB/X,OAAAgY,EAAA,EAAAhY,CAsBtB+vB,EAtBsB,oOAwBpBixB,EAAW,CAChB7uB,QACAC,OACAN,WAGKiH,EAAUqB,KA9BUvH,EA+BFC,oBAAS,GA/BPC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GA+BnBtB,EA/BmBwB,EAAA,GA+BbC,EA/BaD,EAAA,GAiCpBoR,EAAY,eAAA/jC,EAAAJ,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAC,IAAA,OAAAF,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,UACQ,oBAAjBurB,GAAgCxvB,EADvB,CAAAgE,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EAEburB,IAFa,OAKpB/tB,GAASzB,GALW,wBAAAgE,EAAAI,SAAAR,MAAH,yBAAA/0B,EAAAsS,MAAAwd,KAAApxB,YAAA,GAQZi2B,EAAW,eAAAx0B,EAAAP,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAA8nB,EAAM7lB,GAAN,OAAAlC,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cACnB2B,GAAMA,EAAGzB,iBAAmByB,EAAGzB,kBAC/ByB,GAAMA,EAAG1B,gBAAkB0B,EAAG1B,iBAFXwnB,EAAAznB,KAAA,EAGb2O,IAHa,WAIf9R,EAJe,CAAA4qB,EAAAznB,KAAA,eAAAynB,EAAAznB,KAAA,EAIAnD,IAJA,wBAAA4qB,EAAAtnB,SAAAqnB,MAAH,gBAAApnB,GAAA,OAAAr1B,EAAAmS,MAAAwd,KAAApxB,YAAA,GAWbmiD,EAAkB,KAElBT,EACHS,EAAkBhvB,IACRwuB,EACVQ,EAAkBjB,GACRU,EACVO,EAAkBhb,MAElBgb,EAAkB9sB,IAClB6sB,EAASlQ,UAAYA,GAGtB,IAAMoQ,EAAqBL,EACxB/gD,aAAE+gD,EAAU,CAAEt3C,KAAMo3C,GAAgB,CAAC,MACrC,GAEH,OACCnjC,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAACwjC,EAADjhD,OAAAk2B,OAAA,CACCtW,SAAUA,EACVsS,aAAYgvB,EACZnlC,MAAOmlC,EACP7uB,QAAS,SAAA8E,GAAE,OAAIpC,EAAYoC,KACvB6pB,EALL,CAMCxoB,UAAWyE,KACVzE,EADoBx4B,OAAAs9B,EAAA,EAAAt9B,CAAA,GAEjB+4B,EAAQwmB,WAAamB,GAFJ1gD,OAAAs9B,EAAA,EAAAt9B,CAAA,GAGjB+4B,EAAQooB,MAAkB,UAAVhvB,GAHCnyB,OAAAs9B,EAAA,EAAAt9B,CAAA,GAIjB+4B,EAAQqoB,OAAmB,WAAVjvB,MAGpBiK,GACCokB,GAAcU,GAEjB1jC,EAAA3e,EAAA4e,cAACqW,EAAA,EAAD,CACCysB,qBAAsBA,EAItBhvB,KAAMA,EACNG,QAASyS,EACTkd,oBAAqBpB,GACrBlnB,QAAS,CAAEyB,MAAOzB,EAAQuN,SAI1B9oB,EAAA3e,EAAA4e,cAACsW,EAAA,EAAD,CACCutB,mBAAiB,EACjBvoB,QAAS,CACRhB,KAAMkF,KAAWlE,EAAQ0lB,YAAa1lB,EAAQymB,aAG/ChiC,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAYrL,QAAQ,aAAahyB,aAAE4M,IACnC8Q,EAAA3e,EAAA4e,cAACwU,EAAA,EAAD,CAAYI,QAAS8R,EAAc/R,KAAK,SACvC5U,EAAA3e,EAAA4e,cAAC8jC,GAAA1iD,EAAD,QAGF2e,EAAA3e,EAAA4e,cAACuW,EAAA,EAAD,CAAe+E,QAAS,CAAEhB,KAAMgB,EAAQ+I,UACvCtkB,EAAA3e,EAAA4e,cAAC6W,EAADt0B,OAAAk2B,OAAA,CAAWC,IAAKL,GAAkB/d,EAAlC,CAAwC4jC,YA/DxB,WACnB3oB,GAAQ,QAgEL8tB,GAAiBtjC,EAAA3e,EAAA4e,cAACyW,EAAA,EAAD,KAAgB4sB,KAatC,OAAOvqB,qBAAW,SAACxG,EAAOoG,GAAR,OACjB3Y,EAAA3e,EAAA4e,cAAC4iC,EAADrgD,OAAAk2B,OAAA,GAAgBnG,EAAhB,CAAuB+F,aAAcK,wECtIjCiE,GAAY9C,aAbI,SAAAC,GAAK,MAAK,CAC/BiqB,YAAa,CACZxpB,SAAU,KAEXypB,YAAa,CACZh6B,gBAAiB8P,EAAMK,QAAQH,WAAW+C,OAE3CknB,SAAU,CACTC,WAAY,eACZlC,UAAW,iBAMPmC,GAAa,SAAAliD,GAAA,IAAGqc,EAAHrc,EAAGqc,MAAH,OAClB1L,MAAMwxC,QAAQ9lC,GACbyB,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACEjW,EAAMvb,IAAI,SAAC+L,EAAG6b,GAAJ,OACV5K,EAAA3e,EAAA4e,cAAA0f,GAAA,GACC9Z,IAAK+E,EACLqR,QAAQ,QACR3H,QAAQ,UACRK,MAAM,WAEL5lB,MAKJwP,GAgHa+lC,OA7Gf,SAAkB/xB,GACjB,IAAMgJ,EAAUqB,KAGfpB,EAeGjJ,EAfHiJ,SAJuB+oB,EAmBpBhyB,EAdHhU,aALuB,IAAAgmC,EAKf,GALeA,EAMvBnvC,EAaGmd,EAbHnd,MANuBovC,EAmBpBjyB,EAZHpR,cAPuB,IAAAqjC,EAOd,GAPcA,EAAAC,EAmBpBlyB,EAXHmyB,cARuB,IAAAD,EAQd,UARcA,EAAAE,EAmBpBpyB,EAVHnQ,gBATuB,IAAAuiC,KAAAC,EAmBpBryB,EATHH,aAVuB,IAAAwyB,KAWvBvN,EAQG9kB,EARH8kB,WAXuBwN,EAmBpBtyB,EAPH+gB,iBAZuB,IAAAuR,KAavB7pB,EAMGzI,EANHyI,UACA8pB,EAKGvyB,EALHuyB,SACA9oB,EAIGzJ,EAJHyJ,QACA+oB,EAGGxyB,EAHHwyB,WACAzwB,EAEG/B,EAFH+B,QACA0wB,EACGzyB,EADHyyB,cAQD,OACChlC,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACIrT,EAAO5f,SAAWy6B,EACpBhc,EAAA3e,EAAA4e,cAAAozB,GAAA,GACCrY,UAAWyE,KAAWzE,EAAWO,EAAQyoB,aACzC5hC,SAAUA,EACVgQ,MAAOA,EACPkhB,UAAWA,EACXhf,QAASA,GAETtU,EAAA3e,EAAA4e,cAAAszB,GAAA,GAAY0R,QAASP,EAAQI,SAAUA,GACrCvmC,GAEFyB,EAAA3e,EAAA4e,cAAAilC,GAAA,GACC3mC,MAAOA,EACPnJ,MAAOA,EAAM1M,IAAM0M,EACnBomB,SArBgB,SAAA5D,GACpB4D,EAAS5D,EAAM6I,OAAOrrB,QAqBlB4vC,cAAeA,GAEdxiD,OAAAgE,GAAA,EAAAhE,CAAI2e,GAAQne,IAAI,SAAAsuB,GAChB,OAAOA,EAAI5S,MACVsB,EAAA3e,EAAA4e,cAAAklC,GAAA,GACCnqB,UAAWO,EAAQ0oB,YACnBp+B,IAAKyL,EAAI5S,MAAMN,MAAQkT,EAAI5S,OAE1B4S,EAAI5S,MAAMN,MAAQkT,EAAI5S,OAGxBsB,EAAA3e,EAAA4e,cAAA6kB,GAAA,GACCjf,IAAKyL,EAAIlc,MAAMyQ,KAAOyL,EAAIlc,MAAM1M,IAAM4oB,EAAIlc,MAC1C4lB,UAAWO,EAAQ2oB,SACnB9uC,MAAOkc,EAAIlc,MAAM1M,IAAM4oB,EAAIlc,OAE1Bkc,EAAI/S,QACF+S,EAAI9S,YACNwB,EAAA3e,EAAA4e,cAAA6wB,GAAA,GAAS5hC,MAAO8Q,EAAA3e,EAAA4e,cAACmlC,GAAD,CAAY7mC,MAAO+S,EAAI9S,cACtCwB,EAAA3e,EAAA4e,cAAAolC,GAAA,GACCrqB,UAAWO,EAAQxb,UACnBkf,SAAS,QACTtK,MAAM,iBAQZ0iB,GAAcr3B,EAAA3e,EAAA4e,cAAAqlC,GAAA,OAAiBjO,IAGjCr3B,EAAA3e,EAAA4e,cAAAD,EAAA3e,EAAA8+B,SAAA,KACCngB,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,UAAWA,EACXjpC,KAAK,OACLiqB,QAASA,EACTlS,UAAQ,EACRhN,MAAO4mB,EAAU15B,aAAE,gBAAkByiD,EACrC1N,WAAYA,MAEVrb,GAAWhc,EAAA3e,EAAA4e,cAACslC,GAAD,SC1BJC,OAnGf,SAAAtjD,GAAqC,IAAdqf,EAAcrf,EAAdqf,WAAckU,EACYC,YAAY/lB,MAApDT,EAD4BumB,EAC5BvmB,MAAOmpC,EADqB5iB,EACrB4iB,YAAaa,EADQzjB,EACRyjB,UAAW7uC,EADHorB,EACGprB,KACjCo7C,EAAe/vB,YAAY/J,MAFG+5B,EAShChwB,YAAY,SAAA/zB,GAAK,OAAIyb,aAAsBzb,EAAO4f,IAAe,KAJ7Dk2B,EAL4BiO,EAKnCx2C,MACaopC,EANsBoN,EAMnCrN,YACWsN,EAPwBD,EAOnCxM,UACM0M,EAR6BF,EAQnCr7C,KAGD,OACC2V,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,OACLy6C,UAAQ,EACRvmC,MAAOjc,aAAE,QAAS,CAAEuJ,QAAQ,IAC5BuS,KAAK,QACLhJ,MAAOlG,EACPssB,SAAU,SAAA7B,GAAE,OAAIC,YAAQmsB,aAAc,QAASpsB,EAAG8G,OAAOrrB,SACzDgd,MAAOqlB,KAAcA,EAASz1B,MAC9Bw2B,UAAW,IACXnB,WACCI,GAAcA,EAASz1B,MAAQy1B,EAASM,OAASz1C,aAAE,mBAItD0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,OACLouC,WAAS,EACTC,KAAM,EACNn6B,MAAOjc,aAAE,cAAe,CAAEuJ,QAAQ,IAClCuJ,MAAOijC,EACP7c,SAAU,SAAA7B,GAAE,OACXC,YAAQmsB,aAAc,cAAepsB,EAAG8G,OAAOrrB,SAEhDgd,MAAOkmB,KAAoBA,EAAet2B,MAC1Cw2B,UAAW,IACXnB,WACCiB,GAAoBA,EAAet2B,MAChCs2B,EAAeP,OACfz1C,aAAE,yBAIR0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,OACLy6C,UAAQ,EACRvmC,MAAOjc,aAAE,YAAa,CAAEuJ,QAAQ,IAChCuJ,MAAO8jC,EACP1d,SAAU,SAAA7B,GAAE,OACXC,YAAQmsB,aAAc,YAAapsB,EAAG8G,OAAOrrB,SAE9Cgd,MAAOuzB,KAAkBA,EAAa3jC,MACtCq1B,WACCsO,GAAkBA,EAAa3jC,MAC5B2jC,EAAa5N,OACbz1C,aAAE,uBAIR0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAC+lC,GAAD,CACC1S,WAAS,EACThf,QAAQ,WACRwwB,UAAQ,EACRtpB,SAAU,SAAApmB,GAAK,OAAIwkB,YAAQmsB,aAAc,OAAQ3wC,KACjD+L,OAAQskC,EACRrwC,MAAO/K,EAAO,GACdkU,MAAOjc,aAAE,SAAU,CAAEuJ,QAAQ,IAC7B64C,OAAO,aACPtmC,KAAK,SACLgU,MAAOwzB,KAAaA,EAAQ5jC,MAC5Bq1B,WACCuO,GAAaA,EAAQ5jC,MAClB4jC,EAAQ7N,OACRz1C,aAAE,uFC7FC2jD,GAAmB,SAAC5e,EAAO6e,EAAMC,EAAUvxB,GACvD,IAAMwxB,EAASjf,SAASlnB,cAAc,UAChComC,EAAShf,EAAMif,aAAejf,EAAMvI,MACpCynB,EAASlf,EAAMmf,cAAgBnf,EAAMxI,OAErC4nB,EAAcP,EAAKpnB,MAAQunB,EAC3BK,EAAeR,EAAKrnB,OAAS0nB,EACnCH,EAAOtnB,MAAQ2nB,EACfL,EAAOvnB,OAAS6nB,EACJN,EAAOO,WAAW,MAE1BC,UACHvf,EACA6e,EAAKn3C,EAAIs3C,EACTH,EAAKW,EAAIN,EACTE,EACAC,EACA,EACA,EACAD,EACAC,GAGD,IAAII,EAAcV,EAElB,GAAIxxB,GAAQA,EAAKkK,OAASlK,EAAKiK,OAAQ,CAEtC,IAAMkoB,EAAK5f,SAASlnB,cAAc,UAClC8mC,EAAGjoB,MAAQ2nB,EACXM,EAAGloB,OAAS6nB,EACZ,IAAMM,EAAOD,EAAGJ,WAAW,MACrBM,EAAOhyC,KAAKiyC,MAAMT,EAAc7xB,EAAKkK,MAAQ,GACnDkoB,EAAK/3C,OAAL,QAAAxE,OAAsBw8C,EAAtB,OACAD,EAAKJ,UAAUR,EAAQ,EAAG,EAAGK,EAAaC,IAE1CI,EAAc3f,SAASlnB,cAAc,WACzB6e,MAAQlK,EAAKkK,MACzBgoB,EAAYjoB,OAASjK,EAAKiK,OAEbioB,EAAYH,WAAW,MAE/BC,UACJG,EACA,EACA,EACAN,EACAC,EACA,EACA,EACA9xB,EAAKkK,MACLlK,EAAKiK,QAIP,OAAO,IAAIsoB,QAAQ,SAACC,EAASC,GAC5BP,EAAYQ,OACX,SAAAC,GACMA,GACJF,EAAO,uBAERE,EAAKnpC,KAAO+nC,EACZiB,EAAQI,IAAIC,gBAAgBF,KAE7B,aACA,MClDG3qB,GAAY9C,aCpBI,SAAAC,GACrB,IAAM4E,EAAU5E,EAAM4E,QAAQ,GAC9B,MAAO,CACN+oB,SAAU,CACThpB,aAAcC,EACd1C,QAAS,OACToB,cAAe,SACfnB,KAAM,MACN2C,OAAQ,OACRC,MAAO,OACP6oB,OAAM,cAAAl9C,OAAgBsvB,EAAMK,QAAQ5S,KAAK8S,MACzCL,WAAYF,EAAMK,QAAQH,WAAWsK,QACrCxG,QAAS,GACTgB,OAAQ,UACRiD,SAAU,UAEX4lB,mBAAoB,CACnB/oB,OAAQ,IACRC,MAAO,OACPiD,SAAU,OACVuI,UAAW,OACXrO,QAAS,OACTE,WAAY,SACZkB,cAAe,SACfC,eAAgB,UAEjBuqB,YAAa,CACZnpB,aAAcC,EACduC,YAAavC,GAEd+C,SAAU,CACTR,YAAavC,GAEdmpB,cAAe,CACdvkB,UAAW5E,MD2NCopB,OAvOf,SAAiBx1B,GAChB,IAAMgJ,EAAUqB,KACRhI,EAAkDrC,EAAlDqC,KAAM4G,EAA4CjJ,EAA5CiJ,SAAUjd,EAAkCgU,EAAlChU,MAAOypC,EAA2Bz1B,EAA3By1B,eAAgBjQ,EAAWxlB,EAAXwlB,OACzCkQ,EAASrzB,EAAOA,EAAKkK,MAAQlK,EAAKiK,YAASr9B,EAH1B6zB,EAKKC,mBAAS,MALdC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GAKhB6yB,EALgB3yB,EAAA,GAKR4yB,EALQ5yB,EAAA,GAAA8a,EAMC/a,mBAAS,CAAE2yB,WANZ3X,EAAA9tC,OAAAiR,EAAA,EAAAjR,CAAA6tC,EAAA,GAMhB6V,EANgB5V,EAAA,GAMV8X,EANU9X,EAAA,GAAA2K,EAOS3lB,oBAAS,GAPlB4lB,EAAA14C,OAAAiR,EAAA,EAAAjR,CAAAy4C,EAAA,GAOhBoN,EAPgBnN,EAAA,GAONoN,EAPMpN,EAAA,GAAAE,EAQO9lB,mBAAS,IARhB+lB,EAAA74C,OAAAiR,EAAA,EAAAjR,CAAA44C,EAAA,GAQhBmN,EARgBlN,EAAA,GAQPmN,EAROnN,EAAA,GAAAE,EASCjmB,mBAAS/C,EAAMk2B,MAThBjN,EAAAh5C,OAAAiR,EAAA,EAAAjR,CAAA+4C,EAAA,GAShBkN,EATgBjN,EAAA,GASVkN,EATUlN,EAAA,GAAAmN,EAUKrzB,mBAAS/C,EAAM2S,QAVpB0jB,EAAApmD,OAAAiR,EAAA,EAAAjR,CAAAmmD,EAAA,GAUhBzjB,EAVgB0jB,EAAA,GAURC,EAVQD,EAAA,GAYvBvyB,oBAAU,WACT+xB,EAAQ,CAAEH,YACR,CAACA,IAEJ5xB,oBAAU,WACTqyB,EAAQn2B,EAAMk2B,MACdI,EAAUt2B,EAAM2S,SACd,CAAC3S,EAAMk2B,KAAMl2B,EAAM2S,SAEtB,IAAM4jB,EAASpY,sBAAY,SAAA5G,GAC1Bqe,EAAUre,IACR,IAiBGif,EAAkB,SAAAnvC,GACnBA,EAAEse,iBACLte,EAAEse,kBAECte,EAAEovC,aACLpvC,EAAEovC,YAAYC,4BAIVC,EAAW,SAAAtvC,GAChBmvC,EAAgBnvC,GAEZsrB,IACHsiB,IAAI2B,gBAAgBjkB,GACpB2jB,EAAU,IACVL,EAAW,IACXhtB,EAAS,CAAE4tB,QAAS,KAAMX,KAAM,SAI5BY,EAAW,eAAAnnD,EAAAM,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAC,IAAA,IAAA2xB,EAAA,OAAA7xB,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,YACfkwB,GAAUhC,EAAKpnB,MAAQ,GAAKonB,EAAKrnB,OAAS,GAD3B,CAAA9G,EAAAC,KAAA,gBAAAD,EAAAC,KAAA,EAEQiuB,GACzBiC,EACAhC,EAFyC,WAAAz7C,OAG9B89C,GACX3zB,GANiB,OAEZ00B,EAFYvxB,EAAAwxB,KAQlB/B,IAAI2B,gBAAgBjkB,GACpB2jB,EAAUS,GACVhB,GAAY,GACZ9sB,EAAS,CACR4tB,QAASE,EACTb,SAbiB1wB,EAAAC,KAAA,kCAAAD,EAAAI,SAAAR,MAAH,yBAAAz1B,EAAAgT,MAAAwd,KAAApxB,YAAA,GAoEX8mC,EAAWnB,aAAawhB,GAC9B,OACCzoC,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQiuB,SACvBxpC,EAAA3e,EAAA4e,cAACwpC,GAAD,CACClrC,MACC2mB,GAAUqjB,EAAV,GAAA99C,OACM8T,GAAS,QADf,MAAA9T,OAC2B89C,GACxBhqC,GAAS,eAEbnJ,MACC4K,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAA,WACEooC,EACAroC,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQmsB,SAAU7yB,QAASk0B,GAC1C/oC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GACCC,WAAS,EACTnnB,QAAS,EACT+qB,aAAa,SACbvtB,WAAW,UAEXnc,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAACq3C,GAAI,GAAI1c,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKH,UAAWO,EAAQqsB,oBACvB5nC,EAAA3e,EAAA4e,cAAC2pC,GAAAvoD,EAAD,CACCwoD,WAAY,CACX9nB,SAAU,OACVuI,UAAW,QAEZwf,cAAehB,EACf5C,KAAMA,EACN50B,IAAK4T,GAAU,GACf1J,SAAU,SAAAzoB,GAAC,OAAIq1C,EAAQr1C,QAK1BiN,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAACq3C,GAAI,GAAI1c,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYhL,MAAM,UAAU6a,cAAY,GACtCltC,aAAE,kBAEJ0d,EAAA3e,EAAA4e,cAAA0W,EAAA,GACCrC,QAAQ,YACRK,MAAM,UACNE,QAASw0B,EACTjnC,UAAW8jC,EAAKpnB,QAAUonB,EAAKrnB,OAC/B7D,UAAWO,EAAQssB,aAEnB7nC,EAAA3e,EAAA4e,cAAAy0B,GAAA,GAAU1Z,UAAWO,EAAQmG,WAC5Bp/B,aAAE,uBAEJ0d,EAAA3e,EAAA4e,cAAA0W,EAAA,GACCrC,QAAQ,YACRO,QAAS,kBAAMyzB,GAAY,IAC3BttB,UAAWO,EAAQssB,aAEnB7nC,EAAA3e,EAAA4e,cAAA8pC,GAAA,GAAW/uB,UAAWO,EAAQmG,WAC7Bp/B,aAAE,4BAMP0d,EAAA3e,EAAA4e,cAAC+pC,GAAA,EAAD,CACCj4B,OAAO,uBACPk4B,OAtKO,SAACC,EAAeC,GAC9B,IAAM5C,EAAO2C,EAAc,GAC3B,GAAK3C,EAAL,CACA,IAAM6C,EAAY5C,IAAIC,gBAAgBF,GACtCsB,EAAUuB,GACV5B,EAAWjB,EAAKnpC,MAChBsqC,EAAQnB,EAAKl9C,MAGbmxB,EAAS,CACR4tB,QAASgB,EACT3B,KAAMlB,EAAKl9C,SA4JL2wB,UAAWO,EAAQmsB,UAEnB1nC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GACCC,WAAS,EACTnnB,QAAS,EACT+qB,aAAa,SACbvtB,WAAW,UAEXnc,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAACq3C,GAAI,GAAI1c,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKH,UAAWO,EAAQqsB,oBACtBxf,EACApoB,EAAA3e,EAAA4e,cAAA,SAAOspB,UAAQ,EAACjY,IAAK4T,EAAQ76B,KAAK,cAElC2V,EAAA3e,EAAA4e,cAAC25B,GAAD,CAAKtoB,IAAK4T,EAAQlE,IAAK,WAI1BhhB,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAACq3C,GAAI,GAAI1c,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAlIS,WAClB,OACCD,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQ8uB,YACtBnlB,IAAW+B,aAAawhB,GACxBzoC,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQusB,iBAEpBlzB,GACF5U,EAAA3e,EAAA4e,cAAA0W,EAAA,GACCrC,QAAQ,YACRK,MAAM,UACNE,QAAS,SAAAjb,GACRmvC,EAAgBnvC,GAChB0uC,GAAY,IAEbttB,UAAWO,EAAQssB,aAEnB7nC,EAAA3e,EAAA4e,cAAAqqC,GAAA,GAAUtvB,UAAWO,EAAQmG,WAC5Bp/B,aAAE,kBAbN,OAiBC0d,EAAA3e,EAAA4e,cAAA0W,EAAA,GACCrC,QAAQ,YACRO,QAASq0B,EACTluB,UAAWO,EAAQssB,aAEnB7nC,EAAA3e,EAAA4e,cAAA8pC,GAAA,GAAW/uB,UAAWO,EAAQmG,WAC7Bp/B,aAAE,oBAIL0d,EAAA3e,EAAA4e,cAAAsqC,GAAA,QAEDvqC,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAA,gBAAQ3d,aAAE,2BAAV,MAED0d,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAA,0CAEDD,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY3E,UAAWO,EAAQwc,OAAQpjB,MAAM,SAC3CojB,MAyFI,UAML/3B,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAA,iBAAS+nC,EAAT,qBE3LQwC,OA3Cf,SAAAtoD,GAAqC,IAAdqf,EAAcrf,EAAdqf,WAAckU,EACbC,YAAY/lB,MAA3BtF,EAD4BorB,EAC5BprB,KAAMogD,EADsBh1B,EACtBg1B,KACAC,EAAWh1B,YACxB,SAAA/zB,GAAK,OAAIyb,aAAsBzb,EAAO4f,IAAe,KAD9CkpC,KAF4BE,EAKVC,aAAuBvgD,GAAzCy0B,EAL4B6rB,EAK5B7rB,MAAOD,EALqB8rB,EAKrB9rB,OACPuqB,EAAkBqB,EAAlBrB,QAASX,EAASgC,EAAThC,KAEjB,OACCzoC,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,GACd9lC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAC4qC,GAAD,CACCtsC,MAAOjc,aAAE,yBACT4iC,OAAQkkB,GAAW,GACnBX,KAAMA,GAAQ,GACdjtB,SAAU,SAAAsvB,GAAU,OACnBlxB,YACCmsB,aAAc,OAADvjD,OAAAC,GAAA,EAAAD,CAAA,GACTioD,EACAK,MAIN9C,eAAgB1lD,aAAE,uBAAwB,CACzCyJ,KAAM,CAAC+yB,EAAOD,EAAQ,QAEvBkZ,OAAQ2S,GAAUA,EAAO1oC,MAAQ0oC,EAAO3S,OAAS,GACjDnjB,KAAM,CACLkK,MAAOA,EACPD,OAAQA,kFC7BFksB,WCMFC,KACFC,KACHC,KDRiB,SAAAhpD,GAAA,IAAGu7B,EAAHv7B,EAAGu7B,KAAMC,EAATx7B,EAASw7B,MAAT,OACtB1d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAACwpC,GAAD,CAAkBlrC,MAAOkf,EAAMroB,MAAOsoB,OAsF3BytB,GAAalhB,aAAW7G,GAAX6G,CAlFP,SAAArnC,KAAG24B,QAAH,IAAYnG,EAAZxyB,EAAYwyB,SAAU4F,EAAtBp4B,EAAsBo4B,UAAtB,OAClBhb,EAAA3e,EAAA4e,cAAAkb,EAAA,GACC2D,MAAO,EACPD,OAAQ,EACR5C,QAAQ,OACRoB,cAAc,SACdrC,UAAWA,GAEV5F,KA2EUg2B,GAAcnhB,aAAW7G,GAAX6G,CAvEP,SAAAlnC,KAAGw4B,QAAH,IAAYnG,EAAZryB,EAAYqyB,SAAU4F,EAAtBj4B,EAAsBi4B,UAAtB,OACnBhb,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqI,SAAU,EAAGxI,UAAWA,GAC3B5F,KAsEUi2B,GAAmBphB,aAAW7G,GAAX6G,CAlEP,SAAA9mC,GAAA,IAAGo4B,EAAHp4B,EAAGo4B,QAASnG,EAAZjyB,EAAYiyB,SAAZjyB,EAAsB63B,UAAtB,OACxBhb,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWyE,KAAWlE,EAAQ+mB,mBAAoBltB,KAkE3Ck2B,GAAarhB,aAAW7G,GAAX6G,CA/DP,SAAA3mC,GAAA,IAAGi4B,EAAHj4B,EAAGi4B,QAASsb,EAAZvzC,EAAYuzC,IAAK0U,EAAjBjoD,EAAiBioD,OAAjBjoD,EAAyB03B,UAAzB,OAClBhb,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWyE,KAAWlE,EAAQgmB,oBAClCvhC,EAAA3e,EAAA4e,cAAAqc,GAAA,GAAkBtB,UAAWO,EAAQ8lB,0BAA2BzsB,KAAM,KACtE5U,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYH,UAAU,OAAtB,IAA8BqX,EAA9B,KACC0U,GACAvrC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYH,UAAU,OACrBxf,EAAA3e,EAAA4e,cAAA,cAASsrC,QAyDDC,GAAqBvhB,aAAW7G,GAAX6G,CAlDP,SAAAxmC,GAAA,IAAG83B,EAAH93B,EAAG83B,QAAH,OAC1Bvb,EAAA3e,EAAA4e,cAAAqc,GAAA,GACCtB,UAAWyE,KAAWlE,EAAQumB,sBAC9BltB,KAAM,OAgDK62B,GAAqBxhB,aAAW7G,GAAX6G,CA5CP,SAAArmC,GAAA,IAC1BwxB,EAD0BxxB,EAC1BwxB,SAD0Bs2B,EAAA9nD,EAE1B+nD,YAF0B,IAAAD,EAEnB,GAFmBA,EAG1BrX,EAH0BzwC,EAG1BywC,QAH0BuX,EAAAhoD,EAI1B+wB,aAJ0B,IAAAi3B,EAIlB,UAJkBA,EAAA,OAM1B5rC,EAAA3e,EAAA4e,cAAAkb,EAAA,GACC2D,MAAO,EACPD,OAAQ,EACR5C,QAAQ,OACRoB,cAAc,SACdlB,WAAW,SACXmB,eAAe,SACflC,QAAO,GAAA3wB,OAAKkqB,EAAL,SACPA,MAAK,GAAAlqB,OAAKkqB,EAAL,kBAEJ0f,GACAr0B,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAAAqc,GAAA,GACC3H,MAAK,GAAAlqB,OAAKkqB,EAAL,iBAELC,KAAM,MAIRQ,EACAu2B,EACC18C,OAAO,SAAAF,GAAC,QAAMA,GAAKA,EAAEinC,UACrBhzC,IAAI,SAAC6zC,EAAKjsB,GACV,IAAMorB,EAAU1zC,aAAEu0C,EAAIb,QAAS,CAAEjqC,KAAM8qC,EAAI9qC,OAC3C,OACCiU,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY9Z,IAAK+E,EAAO4U,UAAU,OAChCqX,EAAIgV,OAAS7rC,EAAA3e,EAAA4e,cAAA,cAAS+1B,GAAoBA,QE3FpC5S,GAAS,SAAArJ,GAErB,MAAO,CACN+xB,WAAY,CACXxhB,UAAW,IACXxL,MAAO,OACPiD,SAAU,OACVlD,OAAQ,QAETktB,kBAAmB,CAClBltB,OAAQ,iBCILjC,GAAY9C,aAAWsJ,IA+Dd4oB,OA7Df,WACC,IAAMzwB,EAAUqB,KADQnH,EAEyCC,YAChE/lB,MADOtF,EAFgBorB,EAEhBprB,KAAM6E,EAFUumB,EAEVvmB,MAAOmpC,EAFG5iB,EAEH4iB,YAAaoS,EAFVh1B,EAEUg1B,KAAiBvR,GAF3BzjB,EAEgBllB,UAFhBklB,EAE2ByjB,WAG7C/wC,EAAeutB,YAAYxwB,KAEjC,OACC8a,EAAA3e,EAAA4e,cAACkrC,GAAD,KACCnrC,EAAA3e,EAAA4e,cAACmrC,GAAD,KACCprC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,GACd9lC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CAASxuB,KAAMn7B,aAAE,QAAS,CAAEuJ,QAAQ,IAAS6xB,MAAOxuB,KAGrD8Q,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CAASxuB,KAAMn7B,aAAE,QAAS,CAAEuJ,QAAQ,IAAS6xB,MAAOv1B,KAGrD6X,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,YAAa,CAAEuJ,QAAQ,IAC/B6xB,MAAOwb,KAITl5B,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CAASxuB,KAAMn7B,aAAE,OAAQ,CAAEuJ,QAAQ,IAAS6xB,MAAOrzB,KAGpD2V,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,cAAe,CAAEuJ,QAAQ,IACjC6xB,MAAO2a,KAITr4B,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,SACRo7B,MACC1d,EAAA3e,EAAA4e,cAAC25B,GAAD,CACCnQ,iBAAiB,EACjBlO,QAAS,CACRuO,IAAKvO,EAAQuwB,WACbjiB,QAAStO,EAAQwwB,mBAElBz6B,IAAKm5B,EAAKrB,SAAW,GACrBpoB,IAAK9xB,EACLyU,UAAW8mC,EAAKhC,KAChBngB,YAAU,WCMJ4jB,OA1Df,SAAuB35B,GAAO,IACrBk4B,EAAS/0B,YAAYlmB,MAArBi7C,KACA0B,EAAkB1B,EAAlB0B,cACFC,EAAa12B,YAAYtoB,KACzBi/C,EAAkB32B,YAAYpoB,KAC9Bg/C,EAAaD,GAAmBA,EAAgB9qD,OActD,OACCye,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CACCC,WAAS,EACTnnB,QAAS,EACTgkB,UAAW2J,EAAa,KAAO,SAC/BnwB,WAAYmwB,EAAa,KAAO,UAEhCtsC,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACmrC,GAAD,KACEkB,EACAtsC,EAAA3e,EAAA4e,cAACssC,GAAD,CACCzxB,SAAUqxB,EACV//C,MAAOigD,EACPxQ,SAAUtpB,EAAMspB,SAChB2Q,aA3Bc,WAAgD,IAAAtqD,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAtCqxC,EAA6CzwC,EAA7CywC,gBAAiB8Z,EAA4BvqD,EAA5BuqD,iBAClCl3C,EAAQ/S,OAAOiK,OAAOggD,GAAkBzpD,IAAI,SAAAoS,GACjD,OAAOg3C,EAAWh3C,KAGbs3C,EAAOlqD,OAAAC,GAAA,EAAAD,CAAA,GAAQioD,GACrBiC,EAAQP,cAAgBxZ,EAExB/Y,YAAQ+yB,aAAkB,UAAWp3C,IACrCqkB,YAAQ+yB,aAAkB,OAAQD,KAmB5BE,SAAO,EACPrgB,YAAU,EACVG,eAAa,EACbF,SAAO,EACPqgB,WAAS,IAGV7sC,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMC,WAAS,EAACnD,UAAU,SAASxmB,WAAW,UAC7Cnc,EAAA3e,EAAA4e,cAAA,SAAI3d,aAAE,gCACN0d,EAAA3e,EAAA4e,cAAC6sC,GAAD,CACCx4B,QAAQ,YACRK,MAAM,YACN0uB,SAAS,6GC/CZ0J,GAAmB,SAAA7qD,GAAA,IAAA8qD,EAAA9qD,EACxB08B,YADwB,IAAAouB,EACjBhtC,EAAA3e,EAAA4e,cAAAgtC,GAAA,QADiBD,EAExBE,EAFwBhrD,EAExBgrD,UACAC,EAHwBjrD,EAGxBirD,YACAC,EAJwBlrD,EAIxBkrD,YACAC,EALwBnrD,EAKxBmrD,YALwB,OAOxBrtC,EAAA3e,EAAA4e,cAACi4B,GAAA,EAAD,CAAgB1a,SAAS,OACxBxd,EAAA3e,EAAA4e,cAACwU,EAAA,EAAD,CAAYE,MAAOu4B,EAAWr4B,QAASs4B,EAAav4B,KAAK,SACvDgK,GAEDwuB,GACAptC,EAAA3e,EAAA4e,cAACwU,EAAA,EAAD,CAAYE,MAAOu4B,EAAWr4B,QAASu4B,EAAax4B,KAAK,SACxD5U,EAAA3e,EAAA4e,cAAAqtC,GAAA,SAGDD,GACArtC,EAAA3e,EAAA4e,cAACwU,EAAA,EAAD,CAAYE,MAAOu4B,EAAWr4B,QAASw4B,EAAaz4B,KAAK,SACxD5U,EAAA3e,EAAA4e,cAAAstC,GAAA,WAMG,SAASC,GAAT5qD,GAUJ,IATF6qD,EASE7qD,EATF6qD,aACA7uB,EAQEh8B,EARFg8B,KACAsuB,EAOEtqD,EAPFsqD,UACAC,EAMEvqD,EANFuqD,YACAE,EAKEzqD,EALFyqD,YACAD,EAIExqD,EAJFwqD,YACAM,EAGE9qD,EAHF8qD,YACAC,EAEE/qD,EAFF+qD,UACGpzC,EACD/X,OAAAgY,EAAA,EAAAhY,CAAAI,EAAA,yGACIgO,EAAMg9C,KAAMziD,KAAKwF,KAAKC,OACtBzF,EAAOwiD,EAAYC,KAAM5wC,WAAWpM,EAAK,GAAKA,EACpD,OACCoP,EAAA3e,EAAA4e,cAACutC,GAAA,EAADhrD,OAAAk2B,OAAA,CACCtjB,MAAOjK,EACPmsC,WAAY,CACXl1B,SAAU7H,EAAK6H,SACf61B,aAAcwV,EACbztC,EAAA3e,EAAA4e,cAAC4tC,GAAD,CACCjvB,KAAMA,EACNsuB,UAAWA,EACXC,YAAaA,EACbE,YAAaA,EACbD,YAAaA,IAEX,KACJU,eAAgBJ,EACf1tC,EAAA3e,EAAA4e,cAACi4B,GAAA,EAAD,CAAgB1a,SAAS,SACxBxd,EAAA3e,EAAA4e,cAACwU,EAAA,EAAD,CAAYE,MAAOu4B,EAAWr4B,QAAS64B,EAAa94B,KAAK,SACxD5U,EAAA3e,EAAA4e,cAAA8tC,GAAA,UAGC,OAEDxzC,IAKQizC,cA2BuBvjB,aCzGhB,SAAAlQ,GACrB,MAAO,CACNi0B,wBAAyB,CACxBr5B,MAAOoF,EAAMK,QAAQM,OAAOC,OAE7BszB,wBAAyB,CACxBt5B,MAAOoF,EAAMK,QAAQM,OAAOC,MAC5BuzB,mCAAoC,CACnCv5B,MAAOoF,EAAMK,QAAQM,OAAOC,QAG9BwzB,+BAAgC,GAChCC,4BAA6B,CAC5BC,UAAW,CAEV1G,OAAQ,gBAET2G,WAAY,CACX3G,OAAQ,mBDuF0B1d,CAzBT,SAAAlnC,GAA8C,IAA3Cw4B,EAA2Cx4B,EAA3Cw4B,QAASkyB,EAAkC1qD,EAAlC0qD,aAAc7uB,EAAoB77B,EAApB67B,KAASrkB,EAAW/X,OAAAgY,EAAA,EAAAhY,CAAAO,EAAA,mCAC1E,OACCid,EAAA3e,EAAA4e,cAACsuC,GAAD/rD,OAAAk2B,OAAA,CACC81B,gBAAiB,CAChBjzB,QAAS,CACRhB,KAAMgB,EAAQ0yB,yBAEfQ,iBAAkB,CACjBl0B,KAAMgB,EAAQ0yB,wBACdS,QAASnzB,EAAQ4yB,iCAGnB7W,WAAY,CACXl1B,SAAU7H,EAAK6H,SACfmZ,QAAS,CACRhB,KAAMgB,EAAQyyB,wBACdW,UAAWpzB,EAAQ6yB,6BAEpBnW,aAAcwV,EAAeztC,EAAA3e,EAAA4e,cAAC4tC,GAAD,CAAkBjvB,KAAMA,IAAW,OAE7DrkB,uBEvECq0C,GAAmBzxC,eAAnByxC,eAEFriC,GAAS,IAAIsiC,KAEbC,GAAsB,SAAA5sD,GAAiC,IAA9B6hB,EAA8B7hB,EAA9B6hB,cAAeuqB,EAAepsC,EAAfosC,IAAKt5B,EAAU9S,EAAV8S,IAClD,IACC,IAAM+5C,EAAMH,GAAe7qC,IAAkB5I,WAAW4I,GAClDirC,EAAWJ,GAAetgB,IAAQnzB,WAAWmzB,GAC7C2gB,EAAWL,GAAe55C,IAAQmG,WAAWnG,GACnD,GAAK+5C,EAEE,IAAKC,GAAaC,EAGlB,CACN,IAAM/hD,EAAc0gD,SAAMhc,QAAQ38B,KAAKiyC,MAAO6H,EAAMC,EAAY,MAChE,OAAO1sD,aAAE,0BAA2B,CAAEyJ,KAAM,CAACmB,KAJ7C,MAAO,GAFP,OAAO5K,aAAE,mBAQT,MAAOquB,GACR,MAAO,KAwUMu+B,OApUf,SAAAtsD,GAAkD,IAAvB2e,EAAuB3e,EAAvB2e,WAAehH,EAAQ/X,OAAAgY,EAAA,EAAAhY,CAAAI,EAAA,gBAC3CusD,EAAgBz5B,YACrB,SAAA/zB,GAAK,OAAIyb,aAAsBzb,EAAO4f,IAAe,KAG9C8I,EAAWqL,YAAYzyB,MAAvBonB,OACFtd,EAAW2oB,YAAYlmB,MAG5BN,EASGnC,EATHmC,MACAkgD,EAQGriD,EARHqiD,WACArrC,EAOGhX,EAPHgX,cACesrC,EAMZtiD,EANHuiD,cAEAjrC,EAIGtX,EAJHsX,WACAC,EAGGvX,EAHHuX,oBAfgDirC,EAkB7CxiD,EADH09C,YAjBgD,IAAA8E,EAiBzC,GAjByCA,EAqBhDC,EAKG/E,EALH+E,eACAC,EAIGhF,EAJHgF,oBACAC,EAGGjF,EAHHiF,WAvBgDC,EA0B7ClF,EAFHmF,8BAxBgD,IAAAD,EAwBvB,CAAEE,WAAY,IAxBSF,EAyBhDG,EACGrF,EADHqF,iBAIKR,EAAgBD,GAAyB,CAAEQ,WAAY,IAEvDxb,EAAU3e,YAAY,SAAA/zB,GAAK,OAChC8G,aAAkB9G,EAAOouD,QAGpBj9C,EAAOuR,QAAc7iB,EACrB+hB,EAAKe,QAAuB9iB,EAC5BoP,EAAM2b,GAAOphB,OAAO6kD,UAGlBvY,EAMJ0X,EANHjgD,MACe+gD,EAKZd,EALHprC,cACmBmsC,EAIhBf,EAJHgB,kBACmBC,EAGhBjB,EAHHkB,kBACYC,EAETnB,EAFH9qC,WACqBksC,EAClBpB,EADH7qC,oBAGKksC,EAASpB,EAAW,IAAM,GAC1BqB,EAAWrB,EAAW,IAAM,GAE5BliD,EAAc4hD,GAAoB,CACvC/qC,gBACAuqB,IAAKghB,EAAcO,WAAWvhB,IAC9Bt5B,IAAKs6C,EAAcO,WAAW76C,MAGzB07C,EAAgC,SAACrmD,EAAM+K,GAC5C,IAAMu7C,EAAgBnuD,OAAAC,GAAA,EAAAD,CAAA,GAAQ8sD,GACxBsB,EAAUpuD,OAAAC,GAAA,EAAAD,CAAA,GAAQ8sD,EAAcO,YACtCe,EAAWvmD,GAAQ+K,EACnBu7C,EAAiBd,WAAae,EAC9Bh3B,YAAQ+yB,aAAkB,gBAAiBgE,IAC3C/2B,YACCi3B,aAAqB,CACpBtvC,aACA41B,KAAI,iBAAA1sC,OAAmBJ,GACvB+K,QACA4M,OAAO,MAKV,OACChC,EAAA3e,EAAA4e,cAAA,WACEo0B,EACAr0B,EAAA3e,EAAA4e,cAACurC,GAAD,MAEAxrC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,IAC9BjtB,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACTjpC,KAAK,OACLiqB,QAAQ,WACRwwB,UAAQ,EACRvmC,MAAOjc,aAAE,QAAS,CAAEuJ,QAAQ,IAC5BuS,KAAK,QACLhJ,MAAOlG,EACPssB,SAAU,SAAA7B,GACTC,YAAQ+yB,aAAkB,QAAShzB,EAAG8G,OAAOrrB,SAE9Cgd,MAAOqlB,KAAcA,EAASz1B,MAC9Bw2B,UAAW,IACXnB,WACCI,GAAcA,EAASz1B,MACpBy1B,EAASM,OACTz1C,aAAE,uBAKR0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,GAC9BjtB,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACCvyC,MAAOjc,aAAE,0BACT60C,KAAK,mBACL/hC,MAAOo7C,EAAOxiD,KAAO,GACrBqpC,WAAYmZ,EAAO9nD,GACnB0Z,UAAQ,KAIVpC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,GAC9BjtB,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACCvyC,MAAOjc,aAAE,0BACT60C,KAAK,qBACL/hC,MAAOq7C,EAASziD,KAAO,GACvBqpC,WAAYoZ,EAAS/nD,GACrB0Z,UAAQ,KAIVpC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,IAC9BjtB,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,OACLy6C,UAAQ,EACRvmC,MAAOjc,aAAE,uBAAwB,CAChCyJ,KAAM,CAAC0jD,EAAqBplC,EAAQmlC,EAAgBnlC,KAErDjM,KAAK,gBACLhJ,MAAO2O,EACPyX,SAAU,SAAA7B,GACT,IAAMvkB,EAAQukB,EAAG8G,OAAOrrB,MACxBwkB,YAAQ+yB,aAAkB,gBAAiBv3C,IAC3CwkB,YACCi3B,aAAqB,CACpBtvC,aACA41B,KAAM,gBACN/hC,QACA4M,OAAO,MAIVoQ,MAAO69B,KAAgBA,EAAWjuC,MAClCw2B,UAAW,IACXnB,WACC4Y,GAAgBA,EAAWjuC,MACxBiuC,EAAWlY,OACX7qC,KAIN8S,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,GAC9BjtB,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,OACLy6C,UAAQ,EACRvmC,MAAOjc,aAAE,iBACT8b,KAAK,oBACLhJ,MAAOk6C,EAAcO,WAAWvhB,IAChC9S,SAAU,SAAA7B,GACT,IAAMvkB,EAAQukB,EAAG8G,OAAOrrB,MACxBs7C,EAA8B,MAAOt7C,IAEtCgd,MAAO89B,KAAYA,EAAOluC,MAC1Bw2B,UAAW,IACXnB,WACC6Y,GAAYA,EAAOluC,MAChBkuC,EAAOnY,OACPz1C,aAAE,qBAAsB,CACxByJ,KAAM,CAAC6jD,EAAuBC,WAAWvhB,IAAKjkB,QAKpDrK,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,GAC9BjtB,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,OACLy6C,UAAQ,EACRvmC,MAAOjc,aAAE,iBACT8b,KAAK,oBACLhJ,MAAOk6C,EAAcO,WAAW76C,IAChCwmB,SAAU,SAAA7B,GACT,IAAMvkB,EAAQukB,EAAG8G,OAAOrrB,MACxBs7C,EAA8B,MAAOt7C,IAEtCgd,MAAOg+B,KAAYA,EAAOpuC,MAC1Bw2B,UAAW,IACXnB,WACC+Y,GAAYA,EAAOpuC,MAChBouC,EAAOrY,OACPz1C,aAAE,qBAAsB,CACxByJ,KAAM,CAAC6jD,EAAuBC,WAAW76C,IAAKqV,QAKpDrK,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,GAC9BjtB,EAAA3e,EAAA4e,cAAC8wC,GAAD,CACCC,WAAY1uD,aAAE,sBACd2uD,aAAa,WACbC,aAAW,EACX5d,WAAS,EACTma,cAAY,EACZlvC,MAAOjc,aAAE,mBACT6uD,QAASvgD,EACTwgD,QAAS7tC,EACTiY,SAAU,SAAA/vB,GACTmuB,YAAQ+yB,aAAkB,aAAclhD,EAAIukD,aAE7C56C,MAAOtC,GAAQ,KACfsf,MAAOk+B,KAAaA,EAAQtuC,MAC5Bq1B,WACCiZ,GAAaA,EAAQtuC,MAClBsuC,EAAQvY,OACRz1C,aAAE,sCAIR0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,GAC9BjtB,EAAA3e,EAAA4e,cAAC8wC,GAAD,CACCC,WAAY1uD,aAAE,oBACd2uD,aAAa,WACbC,aAAW,EACX5d,WAAS,EACTma,cAAY,EACZlvC,MAAOjc,aAAE,iBACT6uD,QAASr+C,GAAQlC,EACjB4qB,SAAU,SAAA/vB,GAAG,OACZmuB,YAAQ+yB,aAAkB,sBAAuBlhD,EAAIukD,aAEtD56C,MAAOmO,GAAM,KACb6O,MAAOm+B,KAAWA,EAAMvuC,MACxBq1B,WACCkZ,GAAWA,EAAMvuC,MACduuC,EAAMxY,OACNz1C,aAAE,+BAIR0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,GAC9BjtB,EAAA3e,EAAA4e,cAAAozB,GAAA,OACCrzB,EAAA3e,EAAA4e,cAAAoxC,GAAA,GAAWC,KAAG,GACbtxC,EAAA3e,EAAA4e,cAAAsxC,GAAA,GACCC,QACCxxC,EAAA3e,EAAA4e,cAAAwxC,GAAA,GACCC,UAAWhC,EACXl0B,SAAU,SAAA7B,GAAE,OACXC,YACC+yB,aAAkB,OAADnqD,OAAAC,GAAA,EAAAD,CAAA,GACbioD,EADa,CAEhBiF,WAAY/1B,EAAG8G,OAAOixB,aAIzBt8C,MAAM,eAGRmJ,MAAOjc,aAAE,6BAGX0d,EAAA3e,EAAA4e,cAAAqlC,GAAA,OACEhjD,aAAE,8BAA+B,CACjCyJ,KAAM,CACLiU,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CAAgBC,KAAK,qGACnB7d,aAAE,oBAMR0d,EAAA3e,EAAA4e,cAAAozB,GAAA,GAAajxB,UAAWstC,GACvB1vC,EAAA3e,EAAA4e,cAAAoxC,GAAA,GAAWC,KAAG,GACbtxC,EAAA3e,EAAA4e,cAAAsxC,GAAA,GACCC,QACCxxC,EAAA3e,EAAA4e,cAAAwxC,GAAA,GACCC,UAAW5B,EACXt0B,SAAU,SAAA7B,GAAE,OACXC,YACC+yB,aAAkB,OAADnqD,OAAAC,GAAA,EAAAD,CAAA,GACbioD,EADa,CAEhBqF,iBAAkBn2B,EAAG8G,OAAOixB,aAI/Bt8C,MAAM,qBAGRmJ,MAAOjc,aAAE,gCAGX0d,EAAA3e,EAAA4e,cAAAqlC,GAAA,OACEhjD,aAAE,iCAAkC,CACpCyJ,KAAM,CAELiU,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CAAgBC,KAAK,qGACnB7d,aAAE,qBAOT0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,GAC9BjtB,EAAA3e,EAAA4e,cAAC0xC,GAADnvD,OAAAk2B,OAAA,GACKne,EADL,CAECgH,WAAYA,EACZG,cAAY,uCCvWNkwC,GAAe,SAAA1vD,GAAqB,IAE5CqpD,EAF0BjpD,EAAkBJ,EAAlBI,EAC1Bu0C,EAAM,GAEV,OAHgD30C,EAAfuC,UAIhC,KAAKo+B,KAAWC,SAAS1kB,KACxBy4B,EAAM,0BACN0U,EAAS,+BACT,MACD,KAAK1oB,KAAWG,OAAO5kB,KACtBy4B,EAAM,wBACN,MACD,QACCA,EAAM,0BAIR,OAAO72B,EAAA3e,EAAA4e,cAACqrC,GAAD,CAAYzU,IAAKv0C,EAAEu0C,GAAM0U,OAAQjpD,EAAEipD,MCZnC3oC,GAA+B1E,aAA/B0E,aAAczE,GAAiBD,aAAjBC,aAkHP0zC,GAhHS,SAAA3vD,GAA8C,IAAA4vD,EAAA5vD,EAA3CsM,qBAA2C,IAAAsjD,EAA3B,GAA2BA,EAAvB5iD,EAAuBhN,EAAvBgN,MAAuB6iD,GAAA7vD,EAAhB8vD,UAMjDxjD,EAJHE,iBAFoE,IAAAqjD,EAEzD,GAFyDA,EAAAE,EAMjEzjD,EAHHG,kBAHoE,IAAAsjD,EAGvD,GAHuDA,EAAAC,EAMjE1jD,EAFHI,kBAJoE,IAAAsjD,EAIvD,GAJuDA,EAMjE1jD,EADHK,SAGD,OACCmR,EAAA3e,EAAA4e,cAAAkb,EAAA,OACEjsB,GAAS8Q,EAAA3e,EAAA4e,cAACwpC,GAAD,CAAkBlrC,MAAOjc,aAAE,SAAU8S,MAAOlG,IAEnDR,EAASwG,MACX8K,EAAA3e,EAAA4e,cAACwpC,GAAD,CACC9kB,OAAO,QACPpmB,MAAOjc,aAAC,YAAAmI,OAAaiE,EAASwG,MAAM0J,gBACpCxJ,MACoB,UAAnB1G,EAASwG,MACR8K,EAAA3e,EAAA4e,cAAAi2B,GAAA,GACC5hB,QAAQ,WACRM,KAAK,QACLrW,MAAOjc,aAAE,oBAGToM,EAASA,EAASwG,QAAU,IAAIlS,IAAI,SAAA+L,GAAC,OACrCiR,EAAA3e,EAAA4e,cAAA6wB,GAAA,GACCjrB,IAAK9W,EACLG,MACCiP,GAAapP,GACVoP,GAAapP,GAAGuP,UAAUG,KAAK,MAC/Bnc,aAAEsgB,GAAa7T,IAAMA,GAAK,KAG9BiR,EAAA3e,EAAA4e,cAAAi2B,GAAA,GAAM5hB,QAAQ,WAAWM,KAAK,QAAQrW,MAAOjc,aAAEyM,GAAK,WAOzDiR,EAAA3e,EAAA4e,cAACwpC,GAAD,CACC9kB,OAAO,QACPpmB,MAAOjc,aAAC,YACR8S,MAAO9S,aAAE,kBAIRqM,EAAWuG,MACbvG,EAAWuG,MAAMlS,IAAI,SAAAkS,GAAK,OACzB8K,EAAA3e,EAAA4e,cAACwpC,GAAD,CACC5jC,IAAK3Q,EACLyvB,OAAO,QACPpmB,MAAOjc,aAAC,cAAAmI,QAAgByK,GAAS,IAAI0J,gBACrCxJ,OAAQzG,EAAWuG,IAAU,IAAIlS,IAAI,SAAA8b,GAAG,OACvCkB,EAAA3e,EAAA4e,cAAAi2B,GAAA,GACCrwB,IAAK/G,EACLwV,QAAQ,WACRM,KAAK,QACLrW,MAAOjc,aACNyc,iBAAcC,kCAAkCF,IAAQA,WAO7DkB,EAAA3e,EAAA4e,cAACwpC,GAAD,CACC9kB,OAAO,QACPpmB,MAAOjc,aAAC,cACR8S,MAAO9S,aAAE,kBAIVsM,EAAWsG,MACX8K,EAAA3e,EAAA4e,cAACwpC,GAAD,CACC9kB,OAAO,QACPpmB,MAAOjc,aAAC,cAAAmI,OAAemE,EAAWsG,MAAM0J,gBACxCxJ,MACsB,UAArBxG,EAAWsG,MACV8K,EAAA3e,EAAA4e,cAAAi2B,GAAA,GACC5hB,QAAQ,WACRM,KAAK,QACLrW,MAAOjc,aAAE,qBAGTsM,EAAWA,EAAWsG,QAAU,IAAIlS,IAAI,SAAC+L,EAAG6b,GAAJ,OACxC5K,EAAA3e,EAAA4e,cAAAi2B,GAAA,GACCrwB,IAAK+E,EACL0J,QAAQ,WACRM,KAAK,QACLrW,OAAQe,KAAKrR,MAAMc,IAAM,IAAIb,eAOlC8R,EAAA3e,EAAA4e,cAACwpC,GAAD,CACC9kB,OAAO,QACPpmB,MAAOjc,aAAC,cACR8S,MAAO9S,aAAE,oBCyIC6vD,OAtNf,WACC,IAAMhqD,EAAeutB,YAAYxwB,KAC3BT,EAAWixB,YAAY1wB,KAErBqlB,EADUqL,YAAYzyB,MACtBonB,OACF+nC,EAAc18B,YAAY,SAAA/zB,GAAK,OACpC8G,aAAkB9G,EAAOouD,QAGpBsC,EAAiB38B,YAAY,SAAA/zB,GAAK,OACvC8G,aAAkB9G,EAAO2wD,QAVI78B,EA6B1BC,YAAYlmB,MAffN,EAd6BumB,EAc7BvmB,MAEArC,EAhB6B4oB,EAgB7B5oB,QACAuiD,EAjB6B35B,EAiB7B25B,WACArrC,EAlB6B0R,EAkB7B1R,cACAurC,EAnB6B75B,EAmB7B65B,cAGAhrC,EAtB6BmR,EAsB7BnR,oBACAD,EAvB6BoR,EAuB7BpR,WAvB6BkuC,EAAA98B,EAyB7B+8B,sBAzB6B,IAAAD,EAyBZ,GAzBYA,EAAAE,EAAAh9B,EA0B7BjnB,qBA1B6B,IAAAikD,EA0Bb,GA1BaA,EAAAC,EAAAj9B,EA4B7Bg1B,YA5B6B,IAAAiI,EA4BtB,GA5BsBA,EA+BtBC,EAAuClI,EAAvCkI,cAAeC,EAAwBnI,EAAxBmI,oBA/BOC,GAgCFvD,GAAiB,IAArCO,kBAhCsB,IAAAgD,EAgCT,GAhCSA,EAAAC,EAiCJtkD,EAAcC,OAAhCI,gBAjCsB,IAAAikD,EAiCX,GAjCWA,EAwC9B,OALAz8B,oBAAU,WACTuD,YAAQm5B,eACRn5B,YAAQo5B,gBACN,IAEIZ,EACNpyC,EAAA3e,EAAA4e,cAACurC,GAAD,MAEAxrC,EAAA3e,EAAA4e,cAACkrC,GAAD,KACEkH,EACAryC,EAAA3e,EAAA4e,cAACorC,GAAD,KACCrrC,EAAA3e,EAAA4e,cAACgzC,GAAD,CAAc3wD,EAAGA,KAAGmC,SAAUA,KAE5B,KACJub,EAAA3e,EAAA4e,cAACmrC,GAAD,KACCprC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,GACd9lC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CAASxuB,KAAMn7B,aAAE,QAAS,CAAEuJ,QAAQ,IAAS6xB,MAAOxuB,KAGrD8Q,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CAASxuB,KAAMn7B,aAAE,QAAS,CAAEuJ,QAAQ,IAAS6xB,MAAOv1B,KAGrD6X,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,IACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,gBAAiB,CAAEuJ,QAAQ,IACnC6xB,MAAK,GAAAjzB,OAAKsZ,EAAL,KAAAtZ,OAAsB4f,MAI7BrK,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,iBACRo7B,MAAK,GAAAjzB,OAAKolD,EAAWvhB,IAAhB,KAAA7jC,OAAuB4f,MAI9BrK,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,iBACRo7B,MAAK,GAAAjzB,OAAKolD,EAAW76C,IAAhB,KAAAvK,OAAuB4f,MAI9BrK,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,QACRo7B,WACmBl8B,IAAlBmxD,EAAA,GAAAloD,OACIkoD,EADJ,KAAAloD,OACqB4f,GAEpBrK,EAAA3e,EAAA4e,cAAAqc,GAAA,GAAkB1H,KAAM,QAM5B5U,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,4BACRo7B,WACyBl8B,IAAxBoxD,EAAA,GAAAnoD,OACImoD,EADJ,KAAAnoD,OAC2B4f,GAE1BrK,EAAA3e,EAAA4e,cAAAqc,GAAA,GAAkB1H,KAAM,QAM5B5U,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,aAAc,CAAEuJ,QAAQ,IAChC6xB,MAAO1iB,aAAeqJ,MAIxBrE,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,sBAAuB,CAAEuJ,QAAQ,IACzC6xB,MAAO1iB,aAAesJ,MAWxBtE,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,IACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,aAAc,CAAEuJ,QAAQ,IAChC6xB,MACC1d,EAAA3e,EAAA4e,cAAA,WACEmvC,EAAWpsD,IAAI,SAAAyI,GAAG,OAClBuU,EAAA3e,EAAA4e,cAAA,OAAK4F,IAAKpa,EAAI/C,IAAd,GAAA+B,OAAsBgB,EAAIuC,IAA1B,OAAAvD,OAAmCgB,EAAI/C,WAM5CsX,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAC,0BACPo7B,MAAOp7B,aAAEmoD,EAAKiF,WAAa,MAAQ,SAIrC1vC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAC,6BACPo7B,MAAOp7B,aAAEmoD,EAAKqF,iBAAmB,MAAQ,SAI3C9vC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAC,sCACPo7B,MAAOp7B,aAAEuM,EAASqkD,oBAAsB,MAAQ,SAGlDlzC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAC,mCACPo7B,MAAOp7B,aAAEuM,EAASskD,wBAA0B,MAAQ,SAGtDnzC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAC,sCACPo7B,MAAOp7B,aAAEuM,EAASukD,0BAA4B,MAAQ,SAIxDpzC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,IACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,YACRo7B,MAAO1d,EAAA3e,EAAA4e,cAACozC,GAAD,CAAiB7kD,cAAeA,EAAcC,YAIvDuR,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,UAAW,CAAEuJ,QAAQ,IAC7B6xB,MACC1d,EAAA3e,EAAA4e,cAACssC,GAAD,CACCngD,MAAOS,EACPw/B,UAAQ,EACRwgB,WAAS,EACTtgB,YAAU,EACVC,SAAO,OAMXxsB,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAAqzC,GAAA,GAAgBC,QAAQ,EAAMj/B,QAAQ,YACrCtU,EAAA3e,EAAA4e,cAAAuzC,GAAA,GACCC,WAAYzzC,EAAA3e,EAAA4e,cAAAyzC,GAAA,QACZ5xB,gBAAc,0BACdp5B,GAAG,0BAEHsX,EAAA3e,EAAA4e,cAAA0f,GAAA,OAAar9B,aAAE,qBAEhB0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,EAAGqS,MAAM,oBAAoByG,QAAQ,aAC5Cpb,EAAA3e,EAAA4e,cAAA,WAAMX,KAAKC,UAAUizC,GAAkB,GAAI,KAAM,qDC7NnDmB,GAAa,CAClB3hC,QAAShS,EAAA3e,EAAA4e,cAAA2zC,GAAA,GAAYj/B,MAAM,cAC3BvC,MAAOpS,EAAA3e,EAAA4e,cAAA4zC,GAAA,GAAYl/B,MAAM,WAGpBiI,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtCha,UAAW,CACVykB,WAAYzK,EAAM4E,QAAQ,OAItBylB,GAAa,SAAAliD,GAAA,IAAGqc,EAAHrc,EAAGqc,MAAH,OAClB1L,MAAMwxC,QAAQ9lC,GACbyB,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACEjW,EAAMvb,IAAI,SAAC+L,EAAG6b,GAAJ,OACV5K,EAAA3e,EAAA4e,cAAA0f,GAAA,GACC9Z,IAAK+E,EACLqR,QAAQ,QACR3H,QAAQ,UACRK,MAAM,WAEL5lB,MAKJwP,GA+HF,IAAMtP,GAAS6kD,eAEFC,GAAyB,SAAAhxD,GAWhC,IAVLoe,EAUKpe,EAVLoe,OACA5C,EASKxb,EATLwb,MACA+V,EAQKvxB,EARLuxB,QACAlC,EAOKrvB,EAPLqvB,MACAilB,EAMKt0C,EANLs0C,WACA/D,EAKKvwC,EALLuwC,UACA0gB,EAIKjxD,EAJLixD,aACA5xC,EAGKrf,EAHLqf,SACAoZ,EAEKz4B,EAFLy4B,SACAy4B,EACKlxD,EADLkxD,oBACK5+B,EACqBC,mBAAS,MAD9BC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GACEjgB,EADFmgB,EAAA,GACS2+B,EADT3+B,EAAA,GAOL,OAJAc,oBAAU,WACT69B,EAAS,CAAE31C,MAAOy1C,EAAc5+C,MAAO4+C,KACrC,CAACA,IAGHh0C,EAAA3e,EAAA4e,cAACk0C,GAAA,EAAD,CACC/+C,MAAOA,EACPomB,SAAU,SAAC5D,EAAOgY,GAEjB,GAAIA,IAAaA,EAASwkB,YAAcxkB,EAASx6B,OAAQ,CACxD,IAAMA,EAAQw6B,EAASwkB,YAAcxkB,EAASx6B,MAC9C8+C,EAAS,CACR31C,MAAOqxB,EAASrxB,OAASnJ,EACzBA,UAEDomB,EAASpmB,QAET8+C,EAAStkB,GACTpU,EAAS,KAGX64B,cAAe,SAAC16B,EAAIvkB,GACf6+C,GACHz4B,EAASpmB,IAGX85B,cAAe,SAAChD,EAASyP,GACxB,IAAM2Y,EAAWrlD,GAAOi9B,EAASyP,GAUjC,OAPKsY,GAA6C,KAAtBtY,EAAOyY,YAClCE,EAASv5C,KAAK,CACbq5C,WAAYzY,EAAOyY,WACnB71C,MAAK,QAAA9T,OAAUkxC,EAAOyY,WAAjB,OAIAE,GAERC,eAAa,EAGbnyC,SAAUA,EACV8pB,QAAS/qB,EACTqzC,iBAAkB,SAAAC,GAAI,SAAAhqD,OAAOgqD,EAAP,UACtBC,UAAW,EACXC,QAAS,SAAAC,GAAM,OAAIA,EAAOl2C,OAC1Bm2C,eAAgB,SAAAD,GAEf,MAAsB,kBAAXA,EACHA,EAGJA,EAAOR,WACHQ,EAAOR,WAGRQ,EAAOr2C,OAEfu2C,aAAc,SAAAF,GAAM,OACnBA,EAAOhxC,OACN5D,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCc,QAAQ,OACRqB,eAAe,gBACfD,cAAc,MACdlB,WAAW,SACX2C,MAAO,GAEN81B,EAAOr2C,MAEPo1C,GAAWiB,EAAOhxC,SAAWgxC,EAAOhxC,QAGtCgxC,EAAOr2C,OAGTw2C,UAAWd,EACXe,YAAa,SAAArZ,GAAM,OAClB37B,EAAA3e,EAAA4e,cAAAs3B,GAAA,EAAA/0C,OAAAk2B,OAAA,GACKijB,EADL,CAECvpB,MAAOA,EACPkhB,UAAWA,EACX/0B,MAAOA,EACP84B,WAAYA,EACZ/iB,QAASA,SAeC6/B,GA/Of,SAAAvxD,GAgBG,IAfFue,EAeEve,EAfFue,OACA8zC,EAcEryD,EAdFqyD,SACA12C,EAaE3b,EAbF2b,MACA+V,EAYE1xB,EAZF0xB,QACAlC,EAWExvB,EAXFwvB,MACA8iC,EAUEtyD,EAVFsyD,UACAC,EASEvyD,EATFuyD,OACA//C,EAQExS,EARFwS,MACAomB,EAOE54B,EAPF44B,SACA8X,EAME1wC,EANF0wC,UACAlxB,EAKExf,EALFwf,SACAgzC,EAIExyD,EAJFwyD,sBACAC,EAGEzyD,EAHFyyD,qBAGEC,EAAA1yD,EAFF2yD,yBAEE,IAAAD,EAFkB,GAElBA,EACI/5B,GADJ34B,EADF4yD,aAEgB54B,MAEhBvG,oBAAU,WACS,oBAAX8+B,GAAyBA,KAE9B,IAEH,IAAMz7B,EAAe,SAAApnB,GAEnBkpB,EADGy5B,EACM3iD,EAAKtP,IAAI,SAAAiT,GAAC,OAAIA,EAAEb,OAASa,EAAEsI,OAAStI,IAEpC3D,IAAOA,EAAK8C,OAAS9C,EAAKiM,QAAgBjM,IAI/CmjD,EAAWR,EACdpiD,MAAMwxC,QAAQjvC,GACbA,EAAMpS,IAAI,SAAA8rC,GAAC,OAAI3tB,EAAOrS,KAAK,SAAAoS,GAAC,OAAIA,EAAE9L,QAAU05B,KAAM,KAClD,GACD3tB,EAAOrS,KAAK,SAAAoS,GAAC,OAAIA,EAAE9L,QAAUA,KAAUA,EAE1C,OACC4K,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAACk0C,GAAA,EAAD,CACCc,SAAUA,EACVI,qBAAsBA,EACtBnpB,QAAS/qB,EACTiB,SAAUA,EACVuyC,QAAS,SAAAC,GAAM,OAAIA,EAAOl2C,OAC1BtJ,MAAOqgD,EACPZ,eAAgB,SAAAD,GAAM,OAAIA,EAAOr2C,OAASq2C,EAAOx2C,MAAQw2C,GACzDJ,iBAAkB,SAAAC,GAAI,SAAAhqD,OAAOgqD,EAAP,UACtBC,UAAW,GACXgB,kBAAmB,SAAAd,GAAM,OACxBW,EAAkB7iD,KAAK,SAAA3D,GAAC,OAAK6lD,EAAOx/C,OAASw/C,KAAY7lD,KAE1D4mD,kBAAmB,SAACC,GAAkB,IAAbnqD,EAAanK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAK9B,QAHGs0D,KACAnqD,GACF,CAAC6T,KAAKC,UAAU9T,GAAMA,EAAKA,EAAI2J,OAAOzC,SAASijD,EAAIxgD,QAIrDomB,SAAU,SAACp0B,EAAGwoC,GAAJ,OAAiBlW,EAAakW,IACxColB,YAAa,SAAArZ,GACZ,OACC37B,EAAA3e,EAAA4e,cAAAs3B,GAAA,EAAA/0C,OAAAk2B,OAAA,GACKijB,EADL,CAECp9B,MAAOA,EACP+V,QAASA,EACTgf,UAAWA,EACXlhB,MAAOA,MAIV0iC,aAAc,SAAAF,GAAM,OACnB50C,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCtV,IAAK+uC,EAAOr2C,MACZ0d,QAAQ,OACRoB,cAAc,MACdlB,WAAW,UAEXnc,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY1D,QAAQ,UAAU24B,EAAOr2C,SAClCq2C,EAAOp2C,YACTwB,EAAA3e,EAAA4e,cAAA6wB,GAAA,GAAS5hC,MAAO8Q,EAAA3e,EAAA4e,cAAC41C,GAAD,CAAYt3C,MAAOq2C,EAAOp2C,cACzCwB,EAAA3e,EAAA4e,cAAAolC,GAAA,GACCrqB,UAAWO,EAAQxb,UACnBkf,SAAS,QACTtK,MAAM,eAMXmhC,WAAY,SAAC1gD,EAAO2gD,GAAR,OACX3gD,EAAMpS,IACL,SAAC4xD,EAAQhqC,GAAT,QACGxI,GAAYgzC,KACXR,EAAOp2C,WACTwB,EAAA3e,EAAA4e,cAAA6wB,GAAA,GACCjrB,IAAK+uC,EAAOx/C,MAAQ,GAAKwV,EACzB1b,MAAO8Q,EAAA3e,EAAA4e,cAAC41C,GAAD,CAAYt3C,MAAOq2C,EAAOp2C,YAAc,MAE/CwB,EAAA3e,EAAA4e,cAAAi2B,GAAA,EAAA1zC,OAAAk2B,OAAA,CACCna,MAAOq2C,EAAOr2C,OAASq2C,GACnBmB,EAAsB,CAAEnrC,aAI9B5K,EAAA3e,EAAA4e,cAAAi2B,GAAA,EAAA1zC,OAAAk2B,OAAA,CACCna,MAAOq2C,EAAOr2C,OAASq2C,GACnBmB,EAAsB,CAAEnrC,kBAMjCwH,GACApS,EAAA3e,EAAA4e,cAAAqlC,GAAA,GAAgBlzB,OAAK,EAAC1pB,GAAG,wBACvBwsD,KC8HSc,OA1Pf,SAAA9zD,GAAqC,IAAdqf,EAAcrf,EAAdqf,WACd8I,EAAWqL,YAAYzyB,MAAvBonB,OACFjb,EAAUsmB,YAAY5lB,MACtBmmD,EAAcvgC,YAAYxI,MAC1BgpC,EAAgBxgC,YAAYtL,MAC5B+rC,EAASzgC,YAAYlY,MALS44C,EAahChnD,EANHF,aAPmC,IAAAknD,EAO3B,GAP2BA,EAAAC,EAahCjnD,EALHipC,mBARmC,IAAAge,EAQrB,GARqBA,EAAAC,EAahClnD,EAJHiZ,eATmC,IAAAiuC,EASzB,GATyBA,EAAAC,EAahCnnD,EAHH/E,YAVmC,IAAAksD,EAU5B,GAV4BA,EAWvBC,EAETpnD,EAFHqnD,WACAtyC,EACG/U,EADH+U,iBAGKsyC,EAAaD,GAAkB,CAAEpxC,QAAS,IAAK3W,OAAQ,IAfzBioD,EAiBSD,EAAWhoD,OAAhDkoD,EAjB4BD,EAiB5BC,kBAAmBC,EAjBSF,EAiBTE,cAErBviB,EAAU3e,YAAY,SAAA/zB,GAAK,OAChC8G,aAAkB9G,EAAOk1D,QApBUnR,EA6BhChwB,YAAY,SAAA/zB,GAAK,OAAIyb,aAAsBzb,EAAO4f,IAAe,KAL7Dk2B,EAxB4BiO,EAwBnCx2C,MACaopC,EAzBsBoN,EAyBnCrN,YACSye,EA1B0BpR,EA0BnCr9B,QACMu9B,EA3B6BF,EA2BnCr7C,KACkB6lD,EA5BiBxK,EA4BnCvhC,iBAYD,OATAkS,oBAAU,WACTuD,YAAQm9B,gBAGHH,GAAsC,OAArBzyC,GACrByV,YAAQo9B,aAAc,mBAAoBb,EAAO75C,QAAQ,MAExD,CAACs6C,EAAeT,EAAQhyC,IAG1BnE,EAAA3e,EAAA4e,cAAA,WACEo0B,EACAr0B,EAAA3e,EAAA4e,cAACurC,GAAD,MAEAxrC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,OACLy6C,UAAQ,EACRvmC,MAAO,WAAajc,aAAE,QAAS,CAAEuJ,QAAQ,IACzCuS,KAAK,OACLhJ,MAAOlG,EACPssB,SAAU,SAAA7B,GAAE,OAAIC,YAAQo9B,aAAc,QAASr9B,EAAG8G,OAAOrrB,SACzDgd,MAAOqlB,KAAcA,EAASz1B,MAC9Bw2B,UAAW,IACXnB,WACCI,GAAcA,EAASz1B,MACpBy1B,EAASM,OACTz1C,aAAE,mBAIR0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,OACLouC,WAAS,EACTC,KAAM,EACNn6B,MAAOjc,aAAE,cAAe,CAAEuJ,QAAQ,IAClCuJ,MAAOijC,EACP7c,SAAU,SAAA7B,GAAE,OACXC,YAAQo9B,aAAc,cAAer9B,EAAG8G,OAAOrrB,SAEhDgd,MAAOkmB,KAAoBA,EAAet2B,MAC1Cw2B,UAAW,IACXnB,WACCiB,GAAoBA,EAAet2B,MAChCs2B,EAAeP,OACfz1C,aAAE,yBAIR0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACg3C,GAAD,CACChD,qBAAmB,EACnBD,aAAc3rC,EACdiM,QAAQ,WACRnT,OAAQ80C,EACR3iB,WAAS,EACT/0B,MAAOjc,aAAE,gBACT8vB,MAAO0kC,KAAgBA,EAAW90C,MAClCq1B,WACCyf,GAAgBA,EAAW90C,MAC1B80C,EAAW/e,OAEX/3B,EAAA3e,EAAA4e,cAAA,QACCi6B,wBAAyB,CACxBC,OAAQ73C,aAAE,gCAKdk5B,SAAU,SAAApmB,GACTwkB,YAAQo9B,aAAc,WAAY5hD,GAAS,IAAIk9B,aAIlDtyB,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAC+lC,GAAD,CACC1S,WAAS,EACThf,QAAQ,WACRwwB,UAAQ,EACRtpB,SAAU,SAAApmB,GAAK,OAAIwkB,YAAQo9B,aAAc,OAAQ5hD,KACjD+L,OAAQ+0C,EACR9gD,MAAO/K,EAAO,GACdkU,MAAOjc,aAAE,SAAU,CAAEuJ,QAAQ,IAC7B64C,OAAO,aACPtmC,KAAK,SACLgU,MAAOwzB,KAAaA,EAAQ5jC,MAC5Bw2B,UAAW,IACXnB,WACCuO,GAAaA,EAAQ5jC,MAClB4jC,EAAQ7N,OACRz1C,aAAE,uBAIR0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAAqzC,GAAA,GAAgBC,QAAQ,EAAMj/B,QAAQ,YACrCtU,EAAA3e,EAAA4e,cAAAuzC,GAAA,GACCC,WAAYzzC,EAAA3e,EAAA4e,cAAAyzC,GAAA,QACZ5xB,gBAAc,sBACdp5B,GAAG,uBAEHsX,EAAA3e,EAAA4e,cAAA0f,GAAA,OAAar9B,aAAE,mBAEhB0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,OACLy6C,UAAQ,EACRvmC,MAAOjc,aAAE,qBAAsB,CAAEyJ,KAAM,CAACse,KACxCjM,KAAK,mBACLhJ,MAAO+O,GAAoB,GAC3B/B,WAAYw0C,EACZp7B,SAAU,SAAA7B,GACT,IAAMvkB,EAAQukB,EAAG8G,OAAOrrB,MACxBwkB,YAAQo9B,aAAc,mBAAoB5hD,IAC1CwkB,YACCi3B,aAAqB,CACpBtvC,aACA41B,KAAM,mBACN/hC,QACA4M,OAAO,MAIVoQ,MAAO89B,KAAYA,EAAOluC,MAC1Bw2B,UAAW,IACXnB,WACC6Y,GAAYA,EAAOluC,MAChBkuC,EAAOnY,OACPz1C,aAAE,0BAKR0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACwpC,GAAD,CACClrC,MAAOjc,aAAE,2BACT8S,MACC4K,EAAA3e,EAAA4e,cAAAozB,GAAA,OACCrzB,EAAA3e,EAAA4e,cAAAoxC,GAAA,GAAWC,KAAG,GACbtxC,EAAA3e,EAAA4e,cAAAsxC,GAAA,GACCC,QACCxxC,EAAA3e,EAAA4e,cAAAwxC,GAAA,GACCC,UAAWkF,EACXp7B,SAAU,SAAA7B,GAAE,OACXC,YACCo9B,aAAc,aAADx0D,OAAAC,GAAA,EAAAD,CAAA,GACTi0D,EADS,CAEZhoD,OAAOjM,OAAAC,GAAA,EAAAD,CAAA,GACHi0D,EAAWhoD,OADT,CAELmoD,cAAej9B,EAAG8G,OAAOixB,eAK7Bt8C,MAAM,kBAGRmJ,MAAOjc,aAAE,uCAOf0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACwpC,GAAD,CACClrC,MAAOjc,aAAE,4BACT8S,MACC4K,EAAA3e,EAAA4e,cAAAozB,GAAA,OACCrzB,EAAA3e,EAAA4e,cAAAoxC,GAAA,GAAWC,KAAG,GACbtxC,EAAA3e,EAAA4e,cAAAsxC,GAAA,GACCC,QACCxxC,EAAA3e,EAAA4e,cAAAwxC,GAAA,GACCC,UAAWiF,EACXn7B,SAAU,SAAA7B,GAAE,OACXC,YACCo9B,aAAc,aAADx0D,OAAAC,GAAA,EAAAD,CAAA,GACTi0D,EADS,CAEZhoD,OAAOjM,OAAAC,GAAA,EAAAD,CAAA,GACHi0D,EAAWhoD,OADT,CAELkoD,kBAAmBh9B,EAAG8G,OAAOixB,eAKjCt8C,MAAM,sBAGRmJ,MAAOjc,aAAE,yDC/IT40D,OA5Gf,SAAAh1D,GAA6C,IAAtBqf,EAAsBrf,EAAtBqf,WAAYjS,EAAUpN,EAAVoN,OAAUmmB,EACVC,YAAY,SAAA/zB,GAAK,OAClD0N,aAAyB1N,EAAO,SAAU2N,KADnCjF,EADoCorB,EACpCprB,KAAM6uC,EAD8BzjB,EAC9ByjB,UAAWuR,EADmBh1B,EACnBg1B,KADmB0M,EAKG1M,EAAvC2M,mBALoC,IAAAD,KAKf/N,EAAkBqB,EAAlBrB,QAASX,EAASgC,EAAThC,KALM/C,EAOQhwB,YACnD,SAAA/zB,GAAK,OAAIyb,aAAsBzb,EAAO4f,IAAe,KADxCmpC,EAP8BhF,EAOpC+E,KAAyB4M,EAPW3R,EAOtBxM,UAPsByR,EAUlBC,aAAuBvgD,GAAzCy0B,EAVoC6rB,EAUpC7rB,MAAOD,EAV6B8rB,EAU7B9rB,OAEf,OACC7e,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACwpC,GAAD,CACClrC,MAAOjc,aAAE,qBACT8S,MACC4K,EAAA3e,EAAA4e,cAAAsxC,GAAA,GACCC,QACCxxC,EAAA3e,EAAA4e,cAAAq3C,GAAA,GACC5F,QAAS0F,EACT57B,SAAU,SAAA7B,GAAE,OACXC,YACCo9B,aACC,OADYx0D,OAAAC,GAAA,EAAAD,CAAA,GAGRioD,EAHQ,CAIX2M,YAAaz9B,EAAG8G,OAAOixB,UAExB,KACApiD,OAMLiP,MAAOjc,aAAE,+BAMb0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAAu2B,GAAA,GAAU11B,GAAIs2C,GACbp3C,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,OACLy6C,UAAQ,EACRvmC,MAAOjc,aAAE,YAAa,CAAEuJ,QAAQ,IAChCuJ,MAAO8jC,EACP1d,SAAU,SAAA7B,GAAE,OACXC,YACCo9B,aAAc,YAAar9B,EAAG8G,OAAOrrB,MAAO,KAAM9F,KAGpD8iB,MAAOilC,KAAoBA,EAAer1C,MAC1Cq1B,WACCggB,GAAoBA,EAAer1C,MAChCq1C,EAAetf,OACfz1C,aAAE,+BAIR0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAC4qC,GAAD,CACCtsC,MAAOjc,aAAE,6BACT4iC,OAAQkkB,GAAW,GACnBX,KAAMA,GAAQ,GACdjtB,SAAU,SAAAsvB,GAAU,OACnBlxB,YACCo9B,aACC,OADYx0D,OAAAC,GAAA,EAAAD,CAAA,GAGRioD,EACAK,GAEJ,KACAx7C,KAIH04C,eAAgB1lD,aAAE,2BAA4B,CAC7CyJ,KAAM,CAAC+yB,EAAOD,EAAQ,QAEvBkZ,OAAQ2S,GAAUA,EAAO1oC,MAAQ0oC,EAAO3S,OAAS,GACjDnjB,KAAM,CACLkK,QACAD,mBC7DK04B,OAtCf,SAAAr1D,GAAuC,IAAdqf,EAAcrf,EAAdqf,WAChBrS,EAAUwmB,YAAYzlB,MAAtBf,MAEOuoC,EAAa/hB,YAC3B,SAAA/zB,GAAK,OAAIyb,aAAsBzb,EAAO4f,IAAe,KAD9CrS,MAIR,OACC8Q,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,OACLy6C,UAAQ,EACRvmC,MAAOjc,aAAE,QAAS,CAAEuJ,QAAQ,IAC5BuS,KAAK,QACLhJ,MAAOlG,EACPssB,SAAU,SAAA7B,GAAE,OACXC,YAAQ49B,aAAkB,QAAS79B,EAAG8G,OAAOrrB,SAE9Cgd,MAAOqlB,KAAcA,EAASz1B,MAC9Bw2B,UAAW,IACXnB,WACCI,GAAcA,EAASz1B,MAAQy1B,EAASM,OAASz1C,aAAE,sBChB3C0pD,OAZf,WAAyB,IAAAv2B,EACWC,YAAYzlB,MAAvCf,EADgBumB,EAChBvmB,MAAOT,EADSgnB,EACThnB,OAEf,OAHwBgnB,EACDrQ,QAGtBpF,EAAA3e,EAAA4e,cAACkrC,GAAD,KACCnrC,EAAA3e,EAAA4e,cAACmrC,GAAD,KACCprC,EAAA3e,EAAA4e,cAACozC,GAAD,CAAiB7kD,cAAeC,EAAQS,MAAOA,2ECoB7C0tB,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtC09B,OAAQ,CACP15B,QAAS,YAEV25B,UAAW,CACV7jC,IAAK,QAENzR,SAAU,CACTu1C,QAAS,IAEV72C,GAAI,CACH6T,MAAOoF,EAAMK,QAAQpI,QAAQsI,MAE9BvZ,IAAK,CACJ4T,MAAOoF,EAAMK,QAAQhI,MAAMkI,SAIvBs9B,GAAgB,CACrBlpD,SAAUsR,EAAA3e,EAAA4e,cAAA43C,GAAA,QACVlpD,WAAYqR,EAAA3e,EAAA4e,cAAA63C,GAAA,QACZlpD,WAAYoR,EAAA3e,EAAA4e,cAAA83C,GAAA,QACZlpD,SAAUmR,EAAA3e,EAAA4e,cAAA+3C,GAAA,SAQLC,GAAU,SAAA/1D,GAeV,IAdLwG,EAcKxG,EAdLwG,GAcKwvD,EAAAh2D,EAbLif,cAaK,IAAA+2C,EAbI,GAaJA,EAZLC,EAYKj2D,EAZLi2D,WACAC,EAWKl2D,EAXLk2D,YACA75C,EAUKrc,EAVLqc,MACAqM,EASK1oB,EATL0oB,MASKytC,EAAAn2D,EARLu+B,cAQK,IAAA43B,EARI,GAQJA,EAPL14C,EAOKzd,EAPLyd,UACArQ,EAMKpN,EANLoN,OACAhD,EAKKpK,EALLoK,SACAgsD,EAIKp2D,EAJLo2D,WACA14C,EAGK1d,EAHL0d,UACAwC,EAEKlgB,EAFLkgB,SACAmzC,EACKrzD,EADLqzD,kBAEMrgD,EArBU,SAAC0K,GAAD,IAAY24C,EAAZj3D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA2B,GAAIg3D,EAA/Bh3D,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAA,MACF,WAAdoe,EACG04C,EACA,GAAA7tD,OAAAjI,OAAAgE,GAAA,EAAAhE,CAAI+1D,GAAJ,CAAkBD,IAAYrpD,OAAO,SAAC3M,EAAG2T,EAAG5T,GAAP,OAAeA,EAAI6tB,QAAQ5tB,KAAO2T,IAkB5DuiD,CAAS54C,EAAW6gB,EAAOvrB,MAAOojD,GAEhD,OAAOn3C,EAAO5f,OACbye,EAAA3e,EAAA4e,cAACw4C,GAAD,CACCxD,UAAQ,EACRvsD,GAAIA,EACJ4qC,WAAS,EACTqP,UAAU,OACV+V,aAAW,EACX5T,UAAU,EACV1iC,SAAUA,EACVgzC,uBAAqB,EACrBG,kBAAmBA,EACnBF,sBAAoB,EAOpB75B,SAAU,SAAApmB,GAAS,IAAAujD,EAClB/+B,YACCg/B,aAAsB,CACrBhuC,QACAte,WACAgD,SACAqQ,YACA8gB,OAAOj+B,OAAAC,GAAA,EAAAD,CAAA,GACHi+B,GADEk4B,EAAA,GAAAn2D,OAAAs9B,EAAA,EAAAt9B,CAAAm2D,EAECL,EAAaljD,GAFd5S,OAAAs9B,EAAA,EAAAt9B,CAAAm2D,EAAA,QAEqBzjD,GAFrByjD,IAINR,iBAIH55C,MAAOA,EACP65C,YAAaA,EACbj3C,OAAQA,EACR/L,MAAOqrB,EAAO63B,IAAe,GAC7BhkC,QAAQ,aAGTtU,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,OACLy6C,UAAQ,EACR1iC,SAAUA,EACVhE,KAAK,OACLhJ,MAAOqrB,EAAOrrB,MACdmJ,MAAOA,EACPid,SAAU,SAAA7B,GAAE,IAAAk/B,EAAA,OACXj/B,YACCg/B,aAAsB,CACrBhuC,QACAte,WACAgD,SACAqQ,YACA8gB,OAAOj+B,OAAAC,GAAA,EAAAD,CAAA,GAAMi+B,GAAPo4B,EAAA,GAAAr2D,OAAAs9B,EAAA,EAAAt9B,CAAAq2D,EAAqBP,EAAa3+B,EAAG8G,OAAOrrB,OAA5C5S,OAAAs9B,EAAA,EAAAt9B,CAAAq2D,EAAA,QAAmD3jD,GAAnD2jD,IACNV,iBAIH3f,UAAW,OAKRsgB,GAA+B,SAAAl2D,GAAwC,IAArCid,EAAqCjd,EAArCid,QAASk5C,EAA4Bn2D,EAA5Bm2D,cAAet4B,EAAa79B,EAAb69B,OAY/D,OAX8B5gB,EAC5B5Q,OAAO,SAAA5N,GAAC,OAAIA,EAAEgJ,OAAS0uD,EAAc1uD,OACrCjI,OAAO,SAACC,EAAKhB,GACb,SAAAoJ,OAAAjI,OAAAgE,GAAA,EAAAhE,CACIH,GADJG,OAAAgE,GAAA,EAAAhE,CAEKi+B,EAAOp/B,EAAEgJ,OAAS,IAFvB7H,OAAAgE,GAAA,EAAAhE,CAGKu2D,EAAc34C,gBAAkB,MAEnC,IACFnR,OAAO,SAACF,EAAGkH,EAAG5T,GAAP,OAAeA,EAAI6tB,QAAQnhB,KAAOkH,KAKtC+iD,GAAU,SAAAj2D,GAkBVA,EAjBL0L,OAiBK,IAAAwqD,EAAAl2D,EAhBLoe,cAgBK,IAAA83C,EAhBI,GAgBJA,EAAAC,EAAAn2D,EAfLgd,iBAeK,IAAAm5C,EAfO,KAePA,EAdLf,EAcKp1D,EAdLo1D,WACAC,EAaKr1D,EAbLq1D,YACA75C,EAYKxb,EAZLwb,MACAqM,EAWK7nB,EAXL6nB,MAWKuuC,EAAAp2D,EAVL09B,cAUK,IAAA04B,EAVI,GAUJA,EATLx5C,EASK5c,EATL4c,UAGAE,EAMK9c,EANL8c,QACAD,EAKK7c,EALL6c,UACAtQ,EAIKvM,EAJLuM,OACAhD,EAGKvJ,EAHLuJ,SACA8T,EAEKrd,EAFLqd,eAGMmb,GADDx4B,EADLmf,QAEgB0a,MACVl0B,EAAE,UAAA+B,OAAamgB,GACfwuC,EAAa34B,EAAOvrB,OAAS2K,EAAQ,GAAGxV,KAE9C,OACC2V,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCc,QAAQ,OACRoB,cAAc,SACdyB,MAAO,EACPD,OAAQ,EACRvB,eAAe,iBAEftd,EAAA3e,EAAA4e,cAAAkb,EAAA,OACgB,WAAdvb,GACAI,EAAA3e,EAAA4e,cAAAo5C,GAAA,GACC3kC,aAAY/U,EACZvB,KAAMuB,EACNvK,MAAOgkD,EACP59B,SAAU,SAAA7B,GAAE,OACXC,YACCg/B,aAAsB,CACrBtsD,WACAgD,SACAqQ,YACA8gB,OAAOj+B,OAAAC,GAAA,EAAAD,CAAA,GAAMi+B,EAAP,CAAevrB,MAAOykB,EAAG8G,OAAOrrB,QACtC+iD,kBAKFt4C,EAAQ7c,IAAI,SAAA3B,GAAC,IAAAi4D,EAAA,OACbt5C,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKtV,IAAKlG,EAAYte,EAAEgJ,MACvB2V,EAAA3e,EAAA4e,cAAAsxC,GAAA,GACCC,QACCxxC,EAAA3e,EAAA4e,cAAAs5C,GAAA,GACCv+B,UAAWw+B,cAAIF,EAAA,GAAA92D,OAAAs9B,EAAA,EAAAt9B,CAAA82D,EACb/9B,EAAQza,GAAK,CAAC,KAAM,SAASnO,SAAStR,EAAEgJ,OAD3B7H,OAAAs9B,EAAA,EAAAt9B,CAAA82D,EAEb/9B,EAAQxa,IAAiB,QAAX1f,EAAEgJ,MAFHivD,IAIf3kC,MAAM,YAGRvf,MAAO/T,EAAEgJ,KACTkU,MAAOld,EAAEkd,MACTyc,UAAWw+B,aAAKh3D,OAAAs9B,EAAA,EAAAt9B,CAAA,GACd+4B,EAAQnZ,SAAW/gB,EAAEgJ,OAAS+uD,MAI9B/3D,EAAE+T,MACJ/T,EAAE+T,MAEF4K,EAAA3e,EAAA4e,cAACw5C,GAAD,CACC/wD,GAAIA,EACJyY,OAAQA,EAAO9f,EAAEgJ,MACjB8tD,WAAYA,EACZC,YAAaA,EACbh2C,SAAU/gB,EAAEgJ,OAAS+uD,EACrB76C,MAAOA,EACPqM,MAAOA,EACP6V,OAAQA,EACR9gB,UAAWA,EACXrQ,OAAQA,EACRgpD,WAAYj3D,EAAEgJ,KACduV,UAAWA,EACXtT,SAAUA,EACVipD,kBAAmBn1C,EAAe/e,EAAEgJ,YAO3B,aAAduV,GACAC,EAAQ7c,IAAI,SAAA3B,GAAC,IAAAq4D,EAAA,OACZ15C,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKtV,IAAKlG,EAAYte,EAAEgJ,MACvB2V,EAAA3e,EAAA4e,cAAA0f,GAAA,GACC3E,UAAWw+B,cAAIE,EAAA,GAAAl3D,OAAAs9B,EAAA,EAAAt9B,CAAAk3D,EACbn+B,EAAQza,GAAK,CAAC,KAAM,SAASnO,SAAStR,EAAEgJ,OAD3B7H,OAAAs9B,EAAA,EAAAt9B,CAAAk3D,EAEbn+B,EAAQxa,IAAiB,QAAX1f,EAAEgJ,MAFHqvD,KAKdr4D,EAAEkd,OAEDld,EAAE+T,MACJ/T,EAAE+T,MAEF4K,EAAA3e,EAAA4e,cAACw5C,GAAD,CACC/wD,GAAIA,EACJyY,OAAQA,EAAO9f,EAAEgJ,MACjB8tD,WAAYA,EACZC,YAAaA,EACb75C,MAAOA,EACPqM,MAAOA,EACP6V,OAAQA,EACR9gB,UAAWA,EACXrQ,OAAQA,EACRgpD,WAAYj3D,EAAEgJ,KACduV,UAAWA,EACXtT,SAAUA,EACVipD,kBAAmBuD,GAA6B,CAC/Cj5C,UACAk5C,cAAe13D,EACfo/B,WACEh2B,OAAO2V,EAAe/e,EAAEgJ,OAAS,SAK1B,sBAAduV,GACAC,EAAQ7c,IAAI,SAAA3B,GAAC,OACZ2e,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKtV,IAAKlG,EAAYte,EAAE+T,OACvB4K,EAAA3e,EAAA4e,cAAAozB,GAAA,OACCrzB,EAAA3e,EAAA4e,cAAAsxC,GAAA,GACCC,QACCxxC,EAAA3e,EAAA4e,cAAAwxC,GAAA,GACCC,UAAWjxB,EAAOp/B,EAAE+T,OACpBgJ,KAAM/c,EAAE+T,MACRomB,SAAU,SAAA7B,GAAE,OACXC,YACCg/B,aAAsB,CACrBhuC,QACAte,WACAgD,SACAqQ,YACA8gB,OAAOj+B,OAAAC,GAAA,EAAAD,CAAA,GACHi+B,EADEj+B,OAAAs9B,EAAA,EAAAt9B,CAAA,GAGHnB,EAAE+T,MAAQukB,EAAG8G,OAAOixB,UAGvByG,mBAML55C,MAAOld,EAAEkd,QAEVyB,EAAA3e,EAAA4e,cAAAqlC,GAAA,OAAiBjkD,EAAEgf,aAKxBL,EAAA3e,EAAA4e,cAAAkb,EAAA,OAAMpb,KA+EM45C,GA1EW,SAAAx2D,GAAoD,IAAjDmJ,EAAiDnJ,EAAjDmJ,SAAUgD,EAAuCnM,EAAvCmM,OAAQiS,EAA+Bpe,EAA/Boe,WAAYG,EAAmBve,EAAnBue,aAAmB2T,EAC7CC,mBAAS,GADoCC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GACtEukC,EADsErkC,EAAA,GAC5DskC,EAD4DtkC,EAAA,GAEvEgG,EAAUqB,KAF6DnH,EAIhCC,YAAY,SAAA/zB,GAAK,OAC7D6f,YACC7f,EACA2K,EACAgD,EACAiS,EACAG,KANMQ,EAJqEuT,EAIrEvT,QAASzT,EAJ4DgnB,EAI5DhnB,OAAQsT,EAJoD0T,EAIpD1T,gBAJoDze,EAe5E4e,EAAQ03C,IAAa,GADdj6C,EAdqErc,EAcrEqc,UAAWwB,EAd0D7d,EAc1D6d,OAAQtB,EAdkDvc,EAclDuc,QAASD,EAdyCtc,EAczCsc,UAAWQ,EAd8B9c,EAc9B8c,eAAgBL,EAdczc,EAcdyc,UAG/D,OACCC,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKc,QAAQ,OAAOoB,cAAc,SAASyB,MAAO,EAAGD,OAAQ,IAC1Dnd,GACD1B,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOjZ,SAAS,SAASlJ,QAAQ,YAChCtU,EAAA3e,EAAA4e,cAAAqb,GAAA,GACClmB,MAAOwkD,EACPp+B,SAAU,SAAC7B,EAAI/O,GAAL,OAAeivC,EAAYjvC,IACrC0J,QAAQ,aACRwlC,cAAc,OACdC,eAAe,UACft+B,UAAU,WAETvZ,EAAQlf,IAAI,SAAAS,EAAgBmnB,GAAhB,IAAGjL,EAAHlc,EAAGkc,UAAH,OACZK,EAAA3e,EAAA4e,cAAAyb,GAAA,GACC7V,IAAKlG,EACLpB,MAAOoB,EACPif,KACC7c,EAAgBpC,GACfK,EAAA3e,EAAA4e,cAAA4zC,GAAA,GAASl/B,MAAM,UAEfijC,GAAcj4C,UAStBK,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKc,QAAQ,OAAOuH,SAAS,KAC5BxjB,EAAA3e,EAAA4e,cAAC+5C,GAAD,CACCvrD,OAAQA,EACRgyB,OAAQhyB,EAAOkR,GACfkG,IAAKlG,EACLA,UAAWA,EACXpB,MAAOjc,aAAEqd,GACTy4C,YAAa91D,aAAEqd,GACfwB,OAAQA,GAAU,GAClBpB,UAAWA,EACXK,eAAgBA,GAAkB,GAClC8B,QAASA,EACTrC,QAASA,EACTD,UAAWA,EACXtQ,OAAQA,EACRhD,SAAUA,EACVivB,QAASA,yDCzWD0+B,GAAW,SAAAC,GACvB,IAAMz/C,EAAO,CACZ8D,MAAO27C,EACPnuD,KAAM,IAEP,OAAQmuD,GACP,IAAK,sCASJ,OARAz/C,EAAK1O,KAAO,CACX,CACC1B,KAAM,SACN8V,KACC,gGACD5B,MAAO,SAGF9D,EACR,IAAK,oCASJ,OARAA,EAAK1O,KAAO,CACX,CACC1B,KAAM,SACN8V,KACC,+GACD5B,MAAO,SAGF9D,EAER,QACC,OAAOA,IAIJmiB,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtCic,QAAS,CACR/Z,QAAS,YAIJ,SAASk+B,GAATj4D,GAAsC,IAAfqc,EAAerc,EAAfqc,MAAOxS,EAAQ7J,EAAR6J,KACpC,OAAOA,EAAK2G,KAAK,SAAArR,GAAC,MAAe,WAAXA,EAAEgJ,OACvB/H,aAAEic,EAAO,CACRxS,KAAMA,EAAK/I,IAAI,SAAC3B,EAAGupB,GAAJ,MACH,WAAXvpB,EAAEgJ,KACD2V,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CAAgB2F,IAAK+E,EAAOzK,KAAM9e,EAAE8e,MAApC,IAAA1V,OACMnI,aAAEjB,EAAEkd,SAGVjc,aAAEjB,OAKL2e,EAAA3e,EAAA4e,cAAA,OACCi6B,wBAAyB,CACxBC,OAAQ73C,aAAEic,EAAO,CAAExS,YAMhB,IAAMquD,GAAa,CACzBC,uBAAwB,CAAEz7B,KAAK07B,GAAA,EAAgBC,WAAYj4D,aAAE,gBAC7Dk4D,kCAAmC,CAClC57B,KAAK67B,GAAA,EACLF,WAAYj4D,aAAE,iBAEfo4D,iCAAkC,CACjC97B,KAAK+7B,GAAA,EACLJ,WAAYj4D,aAAE,8BAIHs4D,GAAmB,SAAAh4D,GAAsC,IAAnC8F,EAAmC9F,EAAnC8F,GAAI2f,EAA+BzlB,EAA/BylB,QAAS8E,EAAsBvqB,EAAtBuqB,OAAQ9H,EAAcziB,EAAdyiB,QACjDw1C,EAAcx1C,EAAU1U,KAAKC,MAAQ,IAAID,KAAK0U,GAAS2qC,UAAY,KACnE8K,GAAaz1C,GAAWw1C,EA5EJ,KA6E1B,QACG1tC,EAAO5rB,QACRye,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK2b,GAAI,GACR92B,EAAA3e,EAAA4e,cAAA0W,EAAA,GACCvU,UAAW04C,EACXxnB,WAAS,EACThf,QAAQ,YACRK,MAAM,UACNyc,UAAWpxB,EAAA3e,EAAA4e,cAAA86C,GAAA,QACXlmC,QAAS,kBAAM+E,YAAQohC,aAA0B,CAAEtyD,KAAI2f,eAEtD/lB,aAAE,gBAEFw4D,GACD96C,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,UAAU2H,QAAQ,QAAQ2O,MAAM,SAClDtoC,aAAE,2BAA4B,CAC9ByJ,KAAM,CAACkvD,aAAQ,IAAItqD,KAAK0U,GAAS2qC,iBASjC,SAASkL,GAATn4D,GAAqE,IAA5CoqB,EAA4CpqB,EAA5CoqB,OAAQ9E,EAAoCtlB,EAApCslB,QAAS8yC,EAA2Bp4D,EAA3Bo4D,WAAYC,EAAer4D,EAAfq4D,YACtD7/B,EAAUqB,KACVy+B,EAAO3lC,YAAY,SAAA/zB,GAAK,OAAImM,aAAuBnM,EAAO0mB,KAC1DizC,EAAiBjzC,EAAsC,GAA5B,CAAC,yBAC5B5N,EAAO0S,GAAUkuC,EAAKluC,QAAUmuC,EAEtC,OACCt7C,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACI/Z,EAAKlZ,OACPye,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACE6mC,EAAK3yD,IAAM0yD,GAAep7C,EAAA3e,EAAA4e,cAACs7C,GAAqBF,GAChD5gD,EAAKzX,IAAI,SAAC0F,EAAIkiB,GAAU,IAAA4wC,EACAvB,GAASvxD,GAAzB6V,EADgBi9C,EAChBj9C,MAAOxS,EADSyvD,EACTzvD,KACf,OAASovD,EACRn7C,EAAA3e,EAAA4e,cAAA6wB,GAAA,GACCjrB,IAAKnd,EACLwG,MAAO8Q,EAAA3e,EAAA4e,cAACk6C,GAAD,CAAa57C,MAAOA,EAAOxS,KAAMA,KAExCiU,EAAA3e,EAAA4e,cAAAi2B,GAAA,GAAMthB,KAAK,QAAQrW,MAAO67C,GAAW77C,GAAOg8C,cAG7Cv6C,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKtV,IAAKnd,EAAIouC,GAAc,IAAVlsB,GAAeA,EAAQnQ,EAAKlZ,OAAS,EAAI,GAC1Dye,EAAA3e,EAAA4e,cAAAmU,EAAA,GAAOC,SAAS,UAAUC,QAAQ,WAAWiH,QAASA,GACrDvb,EAAA3e,EAAA4e,cAACk6C,GAAD,CAAa57C,MAAOA,EAAOxS,KAAMA,SAMjCovD,EACLn7C,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,UAAUK,MAAM,aAClCryB,aAAE,qBAGJ0d,EAAA3e,EAAA4e,cAAAmU,EAAA,GAAOC,SAAS,UAAUC,QAAQ,WAAWiH,QAASA,GACpDj5B,aAAE,sBAOD,SAASm5D,KACf,OACCz7C,EAAA3e,EAAA4e,cAAAsf,EAAA,GAAMm8B,OAAK,EAACC,gBAAc,GACzB37C,EAAA3e,EAAA4e,cAAAuc,EAAA,OACCxc,EAAA3e,EAAA4e,cAAA8f,EAAA,OACC/f,EAAA3e,EAAA4e,cAAAolC,GAAA,SAEDrlC,EAAA3e,EAAA4e,cAAAggB,EAAA,GACC5F,QAAS/3B,aAAE,yBAA0B,CACpCyJ,KAAM,CAAC,GAAI,QAAS,EAAG,eCvJ7B,IAAM6wB,GAAY9C,aAAWsJ,IAEvBw4B,GAAe,SAAA15D,GAAwB,IAArB4nC,EAAqB5nC,EAArB4nC,IAAKoP,EAAgBh3C,EAAhBg3C,UACtB3d,EAAUqB,KAChB,OACC5c,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,gBAAiB,CAAEuJ,QAAQ,IACnC6xB,MACC1d,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CAAQC,KAAM+4B,EAAWzY,OAAO,UAC9ByY,KAIJl5B,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,2BACRo7B,MACC1d,EAAA3e,EAAA4e,cAAC25B,GAAD,CACCnQ,iBAAiB,EACjBlO,QAAS,CACRuO,IAAKvO,EAAQuwB,WACbjiB,QAAStO,EAAQwwB,mBAElBz6B,IAAKwY,EAAIsf,SAAW,GACpBpoB,IAAKkY,EACLv1B,UAAWmmB,EAAI2e,KACfngB,YAAU,QAsKDuzB,GA9JO,WAAM,IAAApmC,EAWvBC,YAAY5lB,MATfzF,EAF0BorB,EAE1BprB,KACA6E,EAH0BumB,EAG1BvmB,MACAmpC,EAJ0B5iB,EAI1B4iB,YACAhwB,EAL0BoN,EAK1BpN,QACAoiC,EAN0Bh1B,EAM1Bg1B,KACAvR,EAP0BzjB,EAO1ByjB,UACA/wB,EAR0BsN,EAQ1BtN,MACAsuC,EAT0BhhC,EAS1BghC,WACAtyC,EAV0BsR,EAU1BtR,iBAGKhc,EAAeutB,YAAYxwB,KACzBmlB,EAAWqL,YAAYzyB,MAAvBonB,OACFyxC,EAAapmC,YAAY,SAAA/zB,GAAK,OACnCyP,aAA4BzP,EAAO0I,KAhBTqsD,EAkBkBD,EAAWhoD,OAAhDkoD,EAlBmBD,EAkBnBC,kBAAmBC,EAlBAF,EAkBAE,cAlBAmF,EAmBkBtR,EAArC97C,kBAnBmB,IAAAotD,EAmBN,GAnBMA,EAmBFC,EAAoBvR,EAApBuR,gBACzB,OACCh8C,EAAA3e,EAAA4e,cAACkrC,GAAD,KACCnrC,EAAA3e,EAAA4e,cAACmrC,GAAD,KACCprC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,GACd9lC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CAASxuB,KAAMn7B,aAAE,QAAS,CAAEuJ,QAAQ,IAAS6xB,MAAOxuB,KAGrD8Q,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CAASxuB,KAAMn7B,aAAE,OAAQ,CAAEuJ,QAAQ,IAAS6xB,MAAOrzB,KAGpD2V,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CAASxuB,KAAMn7B,aAAE,UAAW,CAAEuJ,QAAQ,IAAS6xB,MAAOrV,KAGvDrI,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CAASxuB,KAAMn7B,aAAE,QAAS,CAAEuJ,QAAQ,IAAS6xB,MAAOv1B,KAGrD6X,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,eAAgB,CAAEyJ,KAAM,CAACse,KACjCqT,MACCk5B,EACGt0D,aAAE,kCAAmC,CACrCyJ,KAAM,CAACiwD,EAAiB3xC,KAExB/nB,aAAE,oCAAqC,CACvCyJ,KAAM,CAACoY,EAAkBkG,QAM/BrK,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,4BACRo7B,MAAOi5B,EAAoBr0D,aAAE,OAASA,aAAE,SAI1C0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,IACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,cAAe,CAAEuJ,QAAQ,IACjC6xB,MAAO2a,KAITr4B,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,IACtBjtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,sBACRo7B,MAAO/uB,EAAW3L,IAAI,SAAA8b,GAAG,OACxBkB,EAAA3e,EAAA4e,cAAAi2B,GAAA,GACCrwB,IAAK/G,EACLwV,QAAQ,WACRM,KAAK,QACLrW,MAAOjc,aACNyc,iBAAcC,kCAAkCF,IAAQA,UAO7DkB,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCvuB,MACC1d,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYH,UAAU,MAAM7K,MAAM,UAAU6a,cAAY,GACvDxvB,EAAA3e,EAAA4e,cAAA,OACCi6B,wBAAyB,CACxBC,OAAQ73C,aAAE,4BAIb0d,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYH,UAAU,MAAM7K,MAAM,UAAU6a,cAAY,GACvDxvB,EAAA3e,EAAA4e,cAAA,OACCi6B,wBAAyB,CACxBC,OAAQ73C,aAAE,uCASdw5D,IAAeA,EAAWp2D,MAC5Bsa,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,mBACRo7B,MACC1d,EAAA3e,EAAA4e,cAAAmU,EAAA,GAAOC,SAAS,UAAUC,QAAQ,YAChChyB,aAAE,yBAA0B,CAAEyJ,KAAM,CAAC1B,SAO1CogD,EAAKv8C,UAAYu8C,EAAKt9B,QAAUs9B,EAAKt9B,OAAO5rB,QAC5Cye,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCxuB,KAAMn7B,aAAE,kBACRo7B,MAAO1d,EAAA3e,EAAA4e,cAACi7C,GAAD,CAAe/tC,OAAQs9B,EAAKt9B,YAItCnN,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,IACrBwd,EAAK2M,YACLp3C,EAAA3e,EAAA4e,cAACg8C,GAAD,CAAcnyB,IAAK2gB,EAAMvR,UAAWA,IAEpCl5B,EAAA3e,EAAA4e,cAACgsC,GAAD,CAASxuB,KAAMn7B,aAAE,iBAAkBo7B,MAAOp7B,aAAE,SAG9C0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAAAqzC,GAAA,GAAgBC,QAAQ,EAAMj/B,QAAQ,YACrCtU,EAAA3e,EAAA4e,cAAAuzC,GAAA,GACCC,WAAYzzC,EAAA3e,EAAA4e,cAAAyzC,GAAA,QACZ5xB,gBAAc,qBACdp5B,GAAG,qBAEHsX,EAAA3e,EAAA4e,cAAA0f,GAAA,OAAar9B,aAAE,gBAEhB0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,EAAGqS,MAAM,oBAAoByG,QAAQ,aAC5Cpb,EAAA3e,EAAA4e,cAAA,WAAMX,KAAKC,UAAU4I,GAAS,GAAI,KAAM,YC/KpC+zC,GAAyB,SAAA3pC,GAAK,OAC1CvS,EAAA3e,EAAA4e,cAACk8C,GAAD35D,OAAAk2B,OAAA,GAAuBnG,EAAvB,CAA8BjmB,SAAS,eAG3B8vD,GAAgB,SAAA7pC,GAAK,OACjCvS,EAAA3e,EAAA4e,cAACk8C,GAAD35D,OAAAk2B,OAAA,GAAuBnG,EAAvB,CAA8BjmB,SAAS,eA0ClC+vD,GAAyBxZ,GAtCH,SAAAtwB,GAAK,OAChCvS,EAAA3e,EAAA4e,cAACq8C,GAAD95D,OAAAk2B,OAAA,GACKnG,EADL,CAECmuB,eAAgB,kBAAM9mB,YAAQ2iC,YAAa,YAC3CC,eAAe,cACflwD,SAAS,SACToyC,QAAQ,cACRlQ,MAAO,CACN,CACCt/B,MAAO,kBACPswB,UAAWgmB,GACXhH,aAAc,SAAAjsB,GAAK,OAAIqH,YAAQ6iC,aAAsBlqC,MAEtD,CACCrjB,MAAO,kBACPswB,UAAWgrB,GACXhM,aAAc,SAAAjsB,GAAK,OAAIqH,YAAQ8iC,aAAqBnqC,MAErD,CACCrjB,MAAO,wBACP2vC,iBAAkB,OAClBrf,UAAWm9B,GACXhe,WAAY,SAAApsB,GAAK,OAChBqH,YACCgjC,YAAap6D,OAAAC,GAAA,EAAAD,CAAA,GACT+vB,EADQ,CAEXjmB,SAAU,SACVuwD,cAAeC,YAKpBC,SAAS,wBACTC,cAAY,EACZC,UAAWrtD,eAMAstD,GAAgB,SAAA3qC,GAAK,OACjCvS,EAAA3e,EAAA4e,cAACo8C,GAAD75D,OAAAk2B,OAAA,GACKnG,EADL,CAEC8wB,SAAS,WACTn0C,MAAM,sBAIFiuD,GAAY,CACjBC,kBAAkB,EAClBx+B,KAAM5e,EAAA3e,EAAA4e,cAACo9C,GAAAh8D,EAAD,CAAcszB,MAAM,aAGd2oC,GAAqB,SAAA/qC,GAAK,OACtCvS,EAAA3e,EAAA4e,cAACo8C,GAAD75D,OAAAk2B,OAAA,GAA4BnG,EAAW4qC,GAAvC,CAAkDjuD,MAAM,oBAsDnDquD,GAA6B1a,GAlDH,SAAAtwB,GAAK,OACpCvS,EAAA3e,EAAA4e,cAACq8C,GAAD95D,OAAAk2B,OAAA,GACKnG,EADL,CAECmuB,eAAgB,kBAAM9mB,YAAQ2iC,YAAa,cAC3CC,eAAe,gBACflwD,SAAS,WACToyC,QAAQ,gBACRlQ,MAAO,CACN,CACCt/B,MAAO,sBACPswB,UAAW0sB,GACX1N,aAAc,SAAAjsB,GAAK,OAAIqH,YAAQ4jC,aAA2BjrC,MAE3D,CACCrjB,MAAO,yBACPswB,UAAW08B,GACX1d,aAAc,SAAAjsB,GAAK,OAAIqH,YAAQ6jC,aAA8BlrC,MAE9D,CACCrjB,MAAO,wBACPswB,UAAW0vB,GACX1Q,aAAc,SAAAt8C,GAAA,IAAGqf,EAAHrf,EAAGqf,WAAYS,EAAf9f,EAAe8f,MAAOy8B,EAAtBv8C,EAAsBu8C,QAASif,EAA/Bx7D,EAA+Bw7D,UAA/B,OACb9jC,YACC+jC,aAA2B,CAC1Bp8C,aACAS,QACAy8B,UACAif,iBAIJ,CACCxuD,MAAO,wBACP2vC,iBAAkB,gBAClBrf,UAAW2yB,GACXxT,WAAY,SAAApsB,GAAK,OAChBqH,YACCgjC,YAAap6D,OAAAC,GAAA,EAAAD,CAAA,GACT+vB,EADQ,CAEXjmB,SAAU,WACVuwD,cAAee,WAKpBX,UAAWxtD,YACXouD,kBAAkB,oCAMPC,GAAoB,SAAAvrC,GAAK,OACrCvS,EAAA3e,EAAA4e,cAACs9C,GAAD/6D,OAAAk2B,OAAA,CACC2qB,SAAS,eACTn0C,MAAM,uBACFqjB,KAIOwrC,GAA0B,SAAAxrC,GAAK,OAC3CvS,EAAA3e,EAAA4e,cAACs9C,GAAD/6D,OAAAk2B,OAAA,GAAgCnG,EAAhC,CAAuCrjB,MAAM,iCAmDxC8uD,GAAyBnb,GA/CH,SAAAtwB,GAAK,OAChCvS,EAAA3e,EAAA4e,cAACq8C,GAAD95D,OAAAk2B,OAAA,GACKnG,EADL,CAECmuB,eAAgB,kBAAM9mB,YAAQ2iC,YAAa,YAC3CC,eAAe,cACflwD,SAAS,SACToyC,QAAQ,YACRlQ,MAAO,CACN,CACCt/B,MAAO,kBACPswB,UAAWw2B,GACXxX,aAAc,SAAA57C,GAAA,IAAG2e,EAAH3e,EAAG2e,WAAYS,EAAfpf,EAAeof,MAAOy8B,EAAtB77C,EAAsB67C,QAASif,EAA/B96D,EAA+B86D,UAA/B,OACb9jC,YACCqkC,aAAsB,CACrB18C,aACAS,QACAy8B,UACAif,iBAIJ,CACCxuD,MAAO,qBACPswB,UAAW03B,GACX1Y,aAAc,SAAAjsB,GAAK,OAAIqH,YAAQskC,aAAwB3rC,MAExD,CACCrjB,MAAO,wBACP2vC,iBAAkB,OAClBrf,UAAWq8B,GACXld,WAAY,SAAApsB,GAAK,OAChBqH,YACCgjC,YAAap6D,OAAAC,GAAA,EAAAD,CAAA,GACT+vB,EADQ,CAEXjmB,SAAU,SACVuwD,cAAesB,YAKpBpB,SAAS,wBACTc,kBAAkB,uBAClBO,qBAAqB,0BACrBnB,UAAWltD,eAMAsuD,GAAgB,SAAA9rC,GAAK,OACjCvS,EAAA3e,EAAA4e,cAAC+9C,GAADx7D,OAAAk2B,OAAA,GACKnG,EADL,CAEC8wB,SAAS,WACTn0C,MAAM,sBA8DKovD,GAAwBzb,GAxDR,SAAAtwB,GAAK,OACjCvS,EAAA3e,EAAA4e,cAACq8C,GAAD95D,OAAAk2B,OAAA,GACKnG,EADL,CAECmuB,eAAgB,kBAAM9mB,YAAQ2iC,YAAa,cAC3CC,eAAe,gBACflwD,SAAS,WACToyC,QAAQ,gBACRlQ,MAAK,CACJ,CACCt/B,MAAO,sBACPswB,UAAW+3B,GACX/Y,aAAc,SAAAz7C,GAAA,IAAGwe,EAAHxe,EAAGwe,WAAYS,EAAfjf,EAAeif,MAAOy8B,EAAtB17C,EAAsB07C,QAASif,EAA/B36D,EAA+B26D,UAA/B,OACb9jC,YACC2kC,aAAuB,CACtBh9C,aACAS,QACAy8B,UACAif,kBAVAjzD,OAAAjI,OAAAgE,GAAA,EAAAhE,CAcA+vB,EAAMisC,UACP,GACA,CACA,CACCtvD,MAAO,gBACPswB,UAAW48B,GACX5d,aAAc,SAAAr7C,GAAA,IAAGoe,EAAHpe,EAAGoe,WAAYS,EAAf7e,EAAe6e,MAAOy8B,EAAtBt7C,EAAsBs7C,QAASif,EAA/Bv6D,EAA+Bu6D,UAA/B,OACb9jC,YACC6kC,aAAsB,CACrBl9C,aACAS,QACAy8B,UACAif,mBA1BH,CA+BJ,CACCxuD,MAAO,wBACP2vC,iBAAkB,OAClBrf,UAAWk/B,GACX/f,WAAY,SAAApsB,GAAK,OAChBqH,YACCgjC,YAAap6D,OAAAC,GAAA,EAAAD,CAAA,GACT+vB,EADQ,CAEXjmB,SAAU,WACVuwD,cAAe8B,aAKpB1B,UAAW/sD,iBAMA0uD,GAAoB,SAAArsC,GAAK,OACrCvS,EAAA3e,EAAA4e,cAACq+C,GAAD97D,OAAAk2B,OAAA,CACC2qB,SAAS,eACTn0C,MAAM,uBACFqjB,KCxQA+e,GAAeza,EAAoBpC,EAAA,GACnC8c,GAAQ1a,EAAoB6P,IAE5B9J,GAAY9C,aAAWsJ,IAEvBoO,GAAU,SAAAtvC,GAAA,IACfq5B,EADer5B,EACfq5B,QACAsxB,EAFe3qD,EAEf2qD,UACAD,EAHe1qD,EAGf0qD,QACA9jC,EAJe5mB,EAIf4mB,eACAF,EALe1mB,EAKf0mB,UACAC,EANe3mB,EAMf2mB,OANe,MAOV,CACL,CACCzK,KAAM,QACNG,MAAOjc,aAAE,cACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNi5B,UAAU,EACVoF,iBAAkB,SAAA9uC,GAAoD,IAAjDsiB,EAAiDtiB,EAAjDsiB,cAAexc,EAAkC9F,EAAlC8F,GAAIgb,EAA8B9gB,EAA9B8gB,SAAUC,EAAoB/gB,EAApB+gB,UAAWJ,EAAS3gB,EAAT2gB,GACtDs7C,EAAe35C,EAAgBwhB,GAAM6K,GAC3C,OACCvxB,EAAA3e,EAAA4e,cAAC4+C,EAADr8D,OAAAk2B,OAAA,CACC7S,IAAKnd,EACLihC,mBAAmB,EACnB3O,UAAWyE,KAAWlE,EAAQoS,SAC9Brc,IAAK5N,EACLsd,IAAKt4B,EACLib,UAAWA,EACX2kB,YAAU,GACJpjB,EAAyB,GAAT,CAAE3B,WAM7B,CACCnF,KAAM,QACNG,MAAOjc,aAAE,cACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EAENq+B,iBAAkB,eAACxiC,EAAD5N,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAS,GAAT,OAAgBqwC,aAAeziC,EAAO,OAG1D,CACCkP,KAAM,cACNG,MAAOjc,aAAE,qBACT4pC,QAAQ1pC,OAAAC,GAAA,EAAAD,CAAA,CACP6Q,MAAM,EACNq+B,iBAAkB,SAAAxkC,GAAW,OAAI0kC,mBAAQ1kC,GAAe,KACrD2gC,GAAoB,CACtBE,QAAS,CAAC,EAAGjlB,GACbmlB,YAAa3rC,aAAE,0BAIlB,CACC8b,KAAM,SACNG,MAAOjc,aAAE,sBACT4pC,QAAQ1pC,OAAAC,GAAA,EAAAD,CAAA,CACP6Q,MAAM,EACNq+B,iBAAkB,SAAA1kC,GAAM,OAAI4kC,mBAAQ5kC,GAAU,KAC3C6gC,GAAoB,CACtBE,QAAS,CAAC,EAAGnlB,GACbqlB,YAAa3rC,aAAE,qBAIlB,CACC8b,KAAM,MACNG,MAAOjc,aAAE,aACT4pC,QAAQ1pC,OAAAC,GAAA,EAAAD,CAAA,CACP6Q,MAAM,EACNq+B,iBAAkB,SAAAxtB,GAAG,SAAAzZ,OAAO4K,OAAO6O,GAAK5H,QAAQ,GAA3B,QAClBuxB,GAAoB,CACtBE,QAAS,CAAC,EAAGllB,EAAOvM,QAAQ,IAC5B2xB,YAAa3rC,aAAE,kBAIlB,CACC8b,KAAM,OACNG,MAAOjc,aAAE,aACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,kBAAApwC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,IAAYyjB,QAAQ,UAAW,OAG3D,CACC3G,KAAM,UACNG,MAAOjc,aAAE,gBACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNw+B,cAAe,OACfH,iBAAkB,SAAAttB,GAAO,OAAIpJ,aAAeoJ,MAG9C,CACChG,KAAM,UACNG,MAAOjc,aAAE,WACT4pC,QAAS,CACRj9B,QAAQ,EACRgtB,SAAU4wB,EACVx5C,MAAM,EACNi5B,UAAU,EACVoF,iBAAkB,SAAA3uC,GAAA,IAAGwgB,EAAHxgB,EAAGwgB,GAAIjR,EAAPvP,EAAOuP,KAAM5J,EAAb3F,EAAa2F,GAAIwG,EAAjBnM,EAAiBmM,MAAjB,OACjB8Q,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKtV,IAAKnd,EAAIsyB,UAAWO,EAAQ1b,SAChCG,EAAA3e,EAAA4e,cAAA6wB,GAAA,GACC5hC,MAAO5M,aAAE,cAETyvC,WAAY,KAEZ/xB,EAAA3e,EAAA4e,cAAC6+C,GAAD,CAAcv7C,GAAIA,EAAI+Q,QAAQ,YAAYI,aAAW,WACpD1U,EAAA3e,EAAA4e,cAAA+xB,GAAA,GAAYrd,MAAM,eAGlBi4B,GACD5sC,EAAA3e,EAAA4e,cAAA6wB,GAAA,GACC5hC,MAAO5M,aAAE,iBAETyvC,WAAY,KAEZ/xB,EAAA3e,EAAA4e,cAAA,YACCD,EAAA3e,EAAA4e,cAAC8+C,GAAD,CACCxb,aAAc,kBACb3pB,YACColC,YAAU,CACT1sD,OACAhG,SAAU,SACVwuC,SAAUlrC,cAIbozC,YAAU,MAKdhjC,EAAA3e,EAAA4e,cAACg/C,GAAD,CACC3yD,SAAS,SACTgD,OAAQ5G,EACRwG,MAAOA,EACPorC,WAAS,UAqBTrI,GAAa,SAAA9uC,GAAA,IAAG+7D,EAAH/7D,EAAG+7D,aAAczuB,EAAjBttC,EAAiBstC,WAAjB,MAA6C,CAC/D9B,WAAY,cACZwwB,aAFkBh8D,EAA6B23B,SAG/CyX,cAAe,kBAAMvyB,EAAA3e,EAAA4e,cAAC2wB,GAAD,CAAYC,aAAcJ,KAC/CyB,WAAY,SAACC,EAAWC,EAAWnG,EAASxxB,GAAhC,OAjBM,SAAC03B,EAAWC,EAAWnG,EAASxxB,GAClD,IAAM43B,EAAa53B,EAAKzX,IAAI,SAAAiT,GAAC,MAAK,CACjC2U,MAAO3U,EAAE2U,MACTnQ,KAAM,CACLxE,EAAEwE,KAAK,GAAG/R,GACVuN,EAAEwE,KAAK,GACPxE,EAAEwE,KAAK,GAAGsK,QAAQ,UAAW,IAC7B/J,aAAe/E,EAAEwE,KAAK,QAGxB,MAAO,GAAAhQ,OAAG0nC,EAAUlG,IAAbxhC,OAAwB2nC,EAAUC,IAAcC,OAQtDJ,CAAWC,EAAWC,EAAWnG,EAASxxB,IAC3CykD,iBAsEcE,OAnEf,SAAsB7sC,GACrB,IAAMgJ,EAAUqB,KACVr1B,EAAOmuB,YAAYruB,MAExBwlD,EAMGt6B,EANHs6B,UACAD,EAKGr6B,EALHq6B,QACAriD,EAIGgoB,EAJHhoB,WACAiiD,EAGGj6B,EAHHi6B,aAP2B6S,EAUxB9sC,EAFHuI,gBAR2B,IAAAukC,EAQhB,GARgBA,EAS3BjzD,EACGmmB,EADHnmB,MAT2BqpB,EAYkBC,YAAY,SAAA/zB,GAAK,OAC9DqnB,YAA4BrnB,EAAO,CAAE4F,OAAMgD,iBADpCqe,EAZoB6M,EAYpB7M,UAAWE,EAZS2M,EAYT3M,eAAgBD,EAZP4M,EAYO5M,OAG7By2C,EAAc5pC,YAAY,SAAA/zB,GAAK,OACpCoI,aAA8BpI,EAAO,cAhBV0zB,EAmBYC,mBAAS,IAnBrBC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GAmBrB6a,EAnBqB3a,EAAA,GAmBPgqC,EAnBOhqC,EAAA,GAAAyd,EAqBU/C,GAAa,CAClDngB,SAAU7K,IACVirB,eACAC,WAAY,kBACXqB,GAAQ,CACPjW,UACAsxB,YACAD,UACA9jC,iBACAF,YACAC,cAVKpO,EArBoBu4B,EAqBpBv4B,KAAMwxB,EArBc+G,EAqBd/G,QAASwE,EArBKuC,EAqBLvC,WAmBvBpa,oBAAU,WACTkpC,EAAgB,CAAEh4D,OAAMgD,aAAY6B,WAClC,CAAC7E,EAAMgD,EAAY6B,IAEtB,IAAM8yD,EAAexuB,sBACpB,SAACtpC,EAAGo4D,GACH,IAAM7sB,EAAkB6sB,EAAgBx8D,IAAI,SAAAsuD,GAAG,OAAIA,EAAI1e,YACjD6Z,EAAmB9Z,EAAgB3vC,IAAI,SAAAiT,GAAC,OAAIwE,EAAKxE,GAAGvN,KAE1D8jD,GAAgBA,EAAa,CAAE7Z,kBAAiB8Z,sBAEjD,CAAChyC,EAAM+xC,IAGFtgB,EAAU+F,GAAW,CAAEitB,eAAcpkC,WAAU2V,eACrD,OACCzwB,EAAA3e,EAAA4e,cAAC+rB,GAADxpC,OAAAk2B,OAAA,CACCxpB,MAAO3E,EAAajI,aAAE,qBAAuBA,aAAE,aAC/CmY,KAAMA,EACNwxB,QAASA,EACTC,QAASA,EACTlQ,SAAUsjC,GACN/sC,KClPD+e,GAAeza,EAAoBpC,EAAA,GACnC8c,GAAQ1a,EAAoB6P,IAE5B9J,GAAY9C,aAAWsJ,IAEvBoO,GAAU,SAAAtvC,GAAA,IAAGq5B,EAAHr5B,EAAGq5B,QAASlR,EAAZnoB,EAAYmoB,OAAZ,MAAyB,CACxC,CACCjM,KAAM,QACNG,MAAOjc,aAAE,cACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNi5B,UAAU,EACVoF,iBAAkB,SAAA9uC,GAAqC,IAAlC8F,EAAkC9F,EAAlC8F,GAAIgb,EAA8B9gB,EAA9B8gB,SAAUC,EAAoB/gB,EAApB+gB,UAAWJ,EAAS3gB,EAAT2gB,GAC7C,OACCvD,EAAA3e,EAAA4e,cAACw/C,GAAD,CACC55C,IAAKnd,EACLihC,mBAAmB,EACnB3O,UAAWyE,KAAWlE,EAAQoS,SAC9Brc,IAAK5N,EACLsd,IAAKt4B,EACLib,UAAWA,EACX2kB,YAAU,EACV/kB,GAAIA,OAMT,CACCnF,KAAM,QACNG,MAAOjc,aAAE,cACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,SAAAxiC,GAAK,OAAIyiC,aAAeziC,EAAO,OAGnD,CACCkP,KAAM,OACNG,MAAOjc,aAAE,aACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,IAGR,CACC+K,KAAM,UACNG,MAAOjc,aAAE,gBACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNw+B,cAAe,OACfH,iBAAkB,SAAAttB,GAAO,OAAIpJ,aAAeoJ,MAG9C,CACChG,KAAM,cACNG,MAAOjc,aAAE,qBACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,SAAAxkC,GAAW,OAAI0kC,mBAAQ1kC,GAAe,MAG1D,CACCkR,KAAM,SACNG,MAAOjc,aAAE,gBACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,SAAA1kC,GAAM,OAAI4kC,mBAAQ5kC,GAAU,MAGhD,CACCoR,KAAM,MACNG,MAAOjc,aAAE,aACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,SAAAxtB,GAAG,SAAAzZ,OAAOyZ,EAAI5H,QAAQ,GAAnB,SAGvB,CACC8B,KAAM,WACNG,MAAOjc,aAAE,kBACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,SAAA1sB,GAAQ,SAAAva,OAAOua,EAAS1I,QAAQ,GAAxB,KAAA7R,OAA8B4f,MAG1D,CACCjM,KAAM,UACNG,MAAOjc,aAAE,WACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNi5B,UAAU,EACVoF,iBAAkB,SAAA3uC,GAAA,IAAGwgB,EAAHxgB,EAAGwgB,GAAIjR,EAAPvP,EAAOuP,KAAM5J,EAAb3F,EAAa2F,GAAIwG,EAAjBnM,EAAiBmM,MAAjB,OACjB8Q,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKtV,IAAKnd,EAAIsyB,UAAWO,EAAQ1b,SAChCG,EAAA3e,EAAA4e,cAAA6wB,GAAA,GACCjrB,IAAKvT,EAAK5J,GACVwG,MAAO5M,aAAE,cAETyvC,WAAY,IACZrd,aAAW,QAEX1U,EAAA3e,EAAA4e,cAACy/C,GAAD,CAAcn8C,GAAIA,EAAI+Q,QAAQ,aAC7BtU,EAAA3e,EAAA4e,cAAA+xB,GAAA,GAAYrd,MAAM,cAGpB3U,EAAA3e,EAAA4e,cAACg/C,GAAD,CACC3yD,SAAS,SACTgD,OAAQ5G,EACRwG,MAAOA,EACPorC,WAAS,UAqBTrI,GAAa,SAAA9uC,GAAA,IAAGstC,EAAHttC,EAAGstC,WAAH,MAAqB,CACvC9B,WAAY,cACZlC,eAAgB,OAChB8F,cAAe,kBAAMvyB,EAAA3e,EAAA4e,cAAC2wB,GAAD,CAAYC,aAAcJ,KAC/CyB,WAAY,SAACC,EAAWC,EAAWnG,EAASxxB,GAAhC,OAjBM,SAAC03B,EAAWC,EAAWnG,EAASxxB,GAClD,IAAM43B,EAAa53B,EAAKzX,IAAI,SAAAiT,GAAC,MAAK,CACjC2U,MAAO3U,EAAE2U,MACTnQ,KAAM,CACLxE,EAAEwE,KAAK,GAAG/R,GACVuN,EAAEwE,KAAK,GACPxE,EAAEwE,KAAK,GAAGsK,QAAQ,UAAW,IAC7B/J,aAAe/E,EAAEwE,KAAK,QAGxB,MAAO,GAAAhQ,OAAG0nC,EAAUlG,IAAbxhC,OAAwB2nC,EAAUC,IAAcC,OAQtDJ,CAAWC,EAAWC,EAAWnG,EAASxxB,MAmC7BklD,OAhCf,SAAsBptC,GACrB,IAAMgJ,EAAUqB,KACVr1B,EAAOmuB,YAAYruB,MACjBgjB,EAAWqL,YAAYzyB,MAAvBonB,OACFi1C,EAAc5pC,YAAY,SAAA/zB,GAAK,OACpCoI,aAA8BpI,EAAO,cALVqxC,EAQU/C,GAAa,CAClDngB,SAAUjL,IACVqrB,aAAc3oC,EACd4oC,WAAY,kBACXqB,GAAQ,CACPjW,UACAlR,cANK5P,EARoBu4B,EAQpBv4B,KAAMwxB,EARc+G,EAQd/G,QAASwE,EARKuC,EAQLvC,WAUjBvE,EAAU+F,GAAW,CAAExB,eAE7B,OACCzwB,EAAA3e,EAAA4e,cAAC+rB,GAADxpC,OAAAk2B,OAAA,CACCxpB,MAAO5M,aAAE,aACTmY,KAAMA,EACNwxB,QAASA,EACTC,QAASA,EACTlQ,SAAUsjC,GACN/sC,eC5KDqK,GAAY9C,aAAWsJ,IACvBkO,GAAeza,EAAoBpC,EAAA,GACnCmrC,GAAe/oC,EAAoB8I,GAAA,GAEnC6R,GAAU,SAAAtvC,GAAA,IAAGq5B,EAAHr5B,EAAGq5B,QAAHr5B,EAAYmoB,OAAZ,MAAyB,CACxC,CACCjM,KAAM,QACNG,MAAOjc,aAAE,cACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNwsD,aAAc,iBAAO,CAAE5+B,MAAO,CAAElC,OAAQ,aACxC2S,iBAAkB,SAAA9uC,GAAA,IAAGsM,EAAHtM,EAAGsM,MAAOqU,EAAV3gB,EAAU2gB,GAAV,OACjBvD,EAAA3e,EAAA4e,cAAC2/C,GAAD,CAAc/5C,IAAK3W,EAAOqU,GAAIA,GAC5BrU,MAKL,CACCkP,KAAM,UACNG,MAAOjc,aAAE,gBACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNw+B,cAAe,OACfH,iBAAkB,SAAAttB,GAAO,OAAI0tB,aAAW1tB,MAG1C,CACChG,KAAM,UACNG,MAAOjc,aAAE,gBACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,SAAAttB,GAAO,OAAI0tB,aAAW1tB,OAAS5iB,EAAWc,aAAE,SAGhE,CACC8b,KAAM,UACNG,MAAOjc,aAAE,WACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNysD,mBAAoB,iBAAO,CAAE7+B,MAAO,CAAE6b,UAAW,WACjD+iB,aAAc,iBAAO,CAAE5+B,MAAO,CAAE6b,UAAW,WAC3CpL,iBAAkB,SAAA3uC,GAAA,IAAG2F,EAAH3F,EAAG2F,GAAI8F,EAAPzL,EAAOyL,cAAe+U,EAAtBxgB,EAAsBwgB,GAAIrU,EAA1BnM,EAA0BmM,MAA1B,OACjB8Q,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKtV,IAAKnd,EAAIsyB,UAAWO,EAAQ1b,SAChCG,EAAA3e,EAAA4e,cAAA6wB,GAAA,GAAS5hC,MAAO5M,aAAE,cAAeoyB,aAAW,QAC3C1U,EAAA3e,EAAA4e,cAAC8/C,GAAD,CAAcx8C,GAAIA,EAAImR,aAAW,WAChC1U,EAAA3e,EAAA4e,cAAA+/C,GAAA,GAAYrrC,MAAM,cAGpB3U,EAAA3e,EAAA4e,cAAA6wB,GAAA,GACC5hC,MAAO5M,aAAE,oCACToyB,aAAW,gBAEX1U,EAAA3e,EAAA4e,cAAA,YACCD,EAAA3e,EAAA4e,cAACggD,GAAD,CACC1c,aAAc,kBACb3pB,YACC+yB,aAAkB,gBAADnqD,OAAAC,GAAA,EAAAD,CAAA,GACbgM,MAINowB,KAAM5e,EAAA3e,EAAA4e,cAACmgB,GAAD,CAAczL,MAAM,cAC1BquB,YAAU,MAIbhjC,EAAA3e,EAAA4e,cAACg/C,GAAD,CACC3yD,SAAS,WACTgD,OAAQ5G,EACRwG,MAAOA,EACPorC,WAAS,UAQTrI,GAAa,SAAA9uC,GAAA,IAAGstC,EAAHttC,EAAGstC,WAAH,MAAqB,CACvC9B,WAAY,cACZlC,eAAgB,OAChB8F,cAAe,kBAAMvyB,EAAA3e,EAAA4e,cAAC2wB,GAAD,CAAYC,aAAcJ,OAmCjCyvB,OAhCf,SAAwB3tC,GACvB,IAAMgJ,EAAUqB,KACVr1B,EAAOmuB,YAAYruB,MACjBgjB,EAAWqL,YAAYzyB,MAAvBonB,OACFi1C,EAAc5pC,YAAY,SAAA/zB,GAAK,OACpCoI,aAA8BpI,EAAO,cALRqxC,EAQQ/C,GAAa,CAClDngB,SAAU3K,IACV+qB,aAAc3oC,EACd4oC,WAAY,kBACXqB,GAAQ,CACPjW,UACAlR,cANK5P,EARsBu4B,EAQtBv4B,KAAMwxB,EARgB+G,EAQhB/G,QAASwE,EAROuC,EAQPvC,WAUjBvE,EAAU+F,GAAW,CAAExB,eAE7B,OACCzwB,EAAA3e,EAAA4e,cAAC+rB,GAADxpC,OAAAk2B,OAAA,CACCxpB,MAAO5M,aAAE,mBACTmY,KAAMA,EACNwxB,QAASA,EACTC,QAASA,EACTlQ,SAAUsjC,GACN/sC,6CCrIM4tC,GAAgB,CAC5B,UACA,UACA,UACA,UACA,UACA,WAGUC,GAAwB,CAClCvzB,YAAY,EACZwzB,SAAU,CACTC,KAAM,QACNC,aAAc,EACdt2C,gBAAiBu2C,KAAOC,qBAAqB,UAAW,MAU1DC,KAAMC,KAAU,CAAE/4D,OAAQw4D,KC2BXQ,OAlDf,SAAA1+D,GAIG,IAHFqI,EAGErI,EAHFqI,WAGEs2D,EAAA3+D,EAFF0nB,mBAEE,IAAAi3C,EAFYV,GAAc5+D,OAE1Bs/D,EAAAC,EAAA5+D,EADFynB,mBACE,IAAAm3C,EADYX,GACZW,EACIrmD,EAAOib,YAAY,SAAA/zB,GAAK,OAC7B+nB,YAA4B/nB,EAAO,CAClC4I,aACAof,cACAC,kBAIF,OACC5J,EAAA3e,EAAA4e,cAAC8gD,GAAA,EAAD,CACCjiC,MAAO,IACPD,OAAQ,IACRpkB,KAAMA,EACNyxB,QAAS,CACRW,YAAY,EACZm0B,OAAQ,CACPxjC,SAAU,UAEXtuB,MAAO,CACN+sB,SAAS,EACT/F,KAAM5zB,aAAE,6BAET2+D,WAAW,EACXZ,SAAU,CACTa,UAAW,CACV3iD,MAAO,SAASjM,EAAMmI,GACrB,OACCA,EAAKQ,SAAS3I,EAAK6uD,cAAc5iD,MACjC,KACA9D,EAAKK,OAAOxI,EAAKsY,OACjB,KACAnQ,EAAKQ,SAAS3I,EAAK6uD,cAAc1mD,KAAKnI,EAAKsY,wBCtB7CgS,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtC8P,QAAS,CACRlF,OAAQ5K,EAAM4E,QAAQ,GACtBnB,SAAU,YAEXmT,eAAgB,CACfnT,SAAU,WACV3J,IAAK,MACL4J,KAAM,MACN8F,WAAY,GACZiB,YAAa,OAITgN,GAAU,SAAAtvC,GAAA,IACfmoB,EADenoB,EACfmoB,OACAzB,EAFe1mB,EAEf0mB,UACAE,EAHe5mB,EAGf4mB,eACAC,EAJe7mB,EAIf6mB,YACAF,EALe3mB,EAKf2mB,OALe,MAMV,CACL,CACCzK,KAAM,gBACN8tB,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNi5B,UAAU,EACVrQ,SAAS,IAGX,CAEC7d,KAAM,UACN8tB,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNi5B,UAAU,EACVrQ,SAAS,IAGX,CACC7d,KAAM,UACNG,MAAOjc,aAAE,WACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,SAAC7rB,EAAKu7C,GACvB,OAAOA,EAAUC,QAAQ,GACxBrhD,EAAA3e,EAAA4e,cAAA6wB,GAAA,GAASjrB,IAAKA,EAAK3W,MAAO5M,aAAE,wBAC3B0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKxG,MAAM,cAAc9O,IAG1B7F,EAAA3e,EAAA4e,cAAAkb,EAAA,OAAMtV,MAKV,CACCzH,KAAM,cACNG,MAAOjc,aAAE,qBACT4pC,QAAQ1pC,OAAAC,GAAA,EAAAD,CAAA,CACPqvC,cAAe,OACfH,iBAAkB,SAAAxkC,GAAW,OAAIo0D,aAAuBp0D,GAAe,KACpE2gC,GAAoB,CACtBE,QAAS,CAAC,EAAGjlB,GACbmlB,YAAa3rC,aAAE,0BAIlB,CACC8b,KAAM,WACNG,MAAOjc,aAAE,oBACT4pC,QAAQ1pC,OAAAC,GAAA,EAAAD,CAAA,CACPkvC,iBAAkB,SAAA1sB,GAAQ,SAAAva,OACtB62D,cAAwBt8C,GAAY,GAAG1I,QAAQ,IADzB,KAAA7R,OACgC4f,KACvDwjB,GAAoB,CACtBE,QAAS,CAAC,EAAGhlB,GACbklB,YAAa3rC,aAAE,uBAIlB,CACC8b,KAAM,aACNG,MAAOjc,aAAE,qBACT4pC,QAAS,CACRj9B,QAAQ,EACRyiC,iBAAkB,SAAA1rB,GAAU,SAAAvb,OACxB62D,cAAwBt7C,GAAc,GAAG1J,QAAQ,IADzB,KAAA7R,OACgC4f,MAG9D,CACCjM,KAAM,SACNG,MAAOjc,aAAE,sBACT4pC,QAAQ1pC,OAAAC,GAAA,EAAAD,CAAA,CACP6Q,MAAM,EACNq+B,iBAAkB,SAAA1kC,GAAM,OAAIs0D,aAAuBt0D,GAAU,KAC1D6gC,GAAoB,CACtBE,QAAS,CAAC,EAAGnlB,GACbqlB,YAAa3rC,aAAE,qBAIlB,CACC8b,KAAM,MACNG,MAAOjc,aAAE,OACT4pC,QAAQ1pC,OAAAC,GAAA,EAAAD,CAAA,CACP6Q,MAAM,EACNq+B,iBAAkB,SAAAxtB,GAAG,SAAAzZ,OAAOyZ,EAAI5H,QAAQ,GAAnB,QAClBuxB,GAAoB,CACtBE,QAAS,CAAC,EAAGllB,GACbolB,YAAa3rC,aAAE,cACf6rC,WAAY,GACZE,eAAgB,QAMdkzB,GAA8B,SAAA3+D,GAQ9B,IAPL2xB,EAOK3xB,EAPL2xB,OACAitC,EAMK5+D,EANL4+D,QAMKC,EAAA7+D,EALL8+D,iBAKK,IAAAD,EALO,GAKPA,EAJLl3D,EAIK3H,EAJL2H,WACAq0B,EAGKh8B,EAHLg8B,KACAjK,EAEK/xB,EAFL+xB,MACA4lB,EACK33C,EADL23C,UAEMhf,EAAUqB,KACVyX,EAAU3e,YAAY,SAAA/zB,GAAK,OAChC8G,aAAkB9G,EAAD,GAAA8I,OAAW8pB,EAAX,cAAA9pB,OAA8BF,MAEhD,OACCyV,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQsO,SACvB7pB,EAAA3e,EAAA4e,cAAA0W,EAAA,GACCrC,QAAQ,YACRK,MAAOA,EACPC,KAAK,SACL0e,WAAS,EACTze,QAAS,WACR+E,YACC8gB,YACC,kBACC9gB,YACC+nC,YAAyB,CACxBp3D,aACAm3D,YACAF,UACAjtC,SACAgmB,gBAGH,KACA,CACCpkB,aAAc7zB,aAAC,GAAAmI,OAAI8pB,EAAJ,2BACf6B,YAAa9zB,aAAE,UACf4M,MAAO5M,aAAC,GAAAmI,OAAI8pB,EAAJ,2BAAqC,CAC5CxoB,KAAM,CAAC21D,EAAUngE,UAElB20B,KAAM5zB,aAAC,GAAAmI,OAAI8pB,EAAJ,0BAAoC,CAC1CxoB,KAAM,CAAC21D,EAAUngE,cAMtB6gB,SAAUiyB,EACVutB,QAAShjC,GAERt8B,aAAC,OAAAmI,OAAQ8pB,EAAR,eAEF8f,GACAr0B,EAAA3e,EAAA4e,cAAAqc,GAAA,GAAkB1H,KAAM,GAAIoG,UAAWO,EAAQoV,mBAM7CkxB,GAAkB,SAAA9+D,GAA+C,IAA5CwH,EAA4CxH,EAA5CwH,WAA4Cu3D,EAAA/+D,EAAhC2+D,iBAAgC,IAAAI,EAApB,GAAoBA,EAAhBvnB,EAAgBx3C,EAAhBw3C,UACtD,OACCv6B,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,EAAGxC,WAAW,UACtCnc,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,EAAG1c,GAAI,GAAI80B,GAAI,GACrC/hD,EAAA3e,EAAA4e,cAAC+hD,GAAD,CACCztC,OAAO,UACPmtC,UAAWA,EACXF,SAAS,EACTj3D,WAAYA,EACZq0B,KAAM5e,EAAA3e,EAAA4e,cAAAgiD,GAAA,QACN1nB,UAAWA,KAGbv6B,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,EAAG1c,GAAI,GAAI80B,GAAI,GACrC/hD,EAAA3e,EAAA4e,cAAC+hD,GAAD,CACCrtC,MAAM,YACNJ,OAAO,UACPmtC,UAAWA,EACXn3D,WAAYA,EACZq0B,KAAM5e,EAAA3e,EAAA4e,cAAA2zC,GAAA,QACNrZ,UAAWA,OAOVtI,GAAa,SAAA9uC,GAAA,IAAGstC,EAAHttC,EAAGstC,WAAYlmC,EAAfpH,EAAeoH,WAAf,MAAiC,CACnDokC,WAAY,cACZlC,eAAgB,OAChB8F,cAAe,kBAAMvyB,EAAA3e,EAAA4e,cAAC2wB,GAAD,CAAYC,aAAcJ,KAC/ChG,YAAa,GACb+H,oBAAqB,SAAC5G,EAAc6G,EAAaC,GAChD,IAAMC,EAAkB/G,EAAanxB,KAAKzX,IAAI,SAAAiT,GAAC,OAAIA,EAAE28B,YAC/C8uB,EAAYjvB,EAChBxjC,OAAO,SAAAqD,GAAI,OAAIqgC,EAAgBhgC,SAASL,EAAKsgC,YAActgC,EAAKmI,KAAK,KACrEzX,IAAI,SAAAsP,GAAI,OAAIA,EAAKmI,KAAK,KAElBynD,EAAa,CAClB33D,aACAm3D,YACAnnB,UAAW9J,GAGZ,OAAOzwB,EAAA3e,EAAA4e,cAACkiD,GAAoBD,MAsCfE,OAlCf,SAAA9+D,GAA4E,IAArCiH,EAAqCjH,EAArCiH,WAAY83D,EAAyB/+D,EAAzB++D,SAAUC,EAAeh/D,EAAfg/D,YACpDj4C,EAAWqL,YAAYzyB,MAAvBonB,OADmEq7B,EAGhBhwB,YAC1D,SAAA/zB,GAAK,OAAI2mB,YAA6B3mB,EAAO4I,KADtCqe,EAHmE88B,EAGnE98B,UAAWE,EAHwD48B,EAGxD58B,eAAgBC,EAHwC28B,EAGxC38B,YAAaF,EAH2B68B,EAG3B78B,OAI1C05C,EAAeF,GAAYC,EAP0CtvB,EASrC/C,GAAa,CAClDngB,SAAUlI,IACVsoB,aAAc3lC,EACd4lC,WAAY,kBACXqB,GAAQ,CAAEnnB,SAAQzB,YAAWE,iBAAgBC,cAAaF,cAJpDpO,EATmEu4B,EASnEv4B,KAAMwxB,EAT6D+G,EAS7D/G,QAASwE,EAToDuC,EASpDvC,WAOjBvE,EAAU+F,GAAW,CAAExB,aAAYlmC,aAAY83D,WAAUC,gBAE/D,OACCtiD,EAAA3e,EAAA4e,cAAC+rB,GAAD,CACC98B,MAAO5M,aAAE,4BACTmY,KAAMA,EACNwxB,QAASA,EACTC,QAASA,EACTQ,cAAe61B,EACf31B,gBAAc,8HC/QJxJ,GAAS,SAAArJ,GACrB,MAAO,CACN6E,KAAM,CACLC,OAAQ,OACRC,MAAO,QAER0jC,cAAe,CACdC,aAAY,gBAAAh4D,OAAkBsvB,EAAMK,QAAQ5S,KAAK8S,OAElDooC,aAAc,CACbD,aAAY,eAAAh4D,OAAiBsvB,EAAMK,QAAQ5S,KAAK8S,OAEjDqoC,eAAgB,CACf7jC,MAAO,OACPge,UAAW,QAEZ8lB,SAAU,CACTze,WAAY,SACZlC,UAAW,aAEZ4gB,UAAW,CACVC,eAAgB,UAEjBC,GAAI,CACHjkC,MAAO,QACPoL,UAAW,QACXnM,QAAS,OAEVgO,SAAU,CACTjN,MAAO,UCKJlC,GAAY9C,aAAWsJ,IAEtB,SAAS4/B,KAAmC,IAAb73D,GAAa7J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,IAAT6J,KAC/BowB,EAAUqB,KACRvS,EAAWqL,YAAYzyB,MAAvBonB,OACFliB,EAAeutB,YAAYxwB,KAE3B+9D,EAAiBvtC,YAAY,SAAA/zB,GAAK,OACvCsnB,aAA6CtnB,EAAOwJ,KANHu6C,EASPhwB,YAAY,SAAA/zB,GAAK,OAC3D6nB,aAA+C7nB,EAAOwJ,KAD/Cse,EAT0Ci8B,EAS1Cj8B,aAActP,EAT4BurC,EAS5BvrC,iBAGhB+oD,GAAQz5C,EAAetP,EAAoB,KAAMmC,QAAQ,GAZb6mD,EAcOztC,YACxDntB,MADO66D,EAd0CD,EAc1CC,YAAaC,EAd6BF,EAc7BE,cAAe3gE,EAdcygE,EAcdzgE,QAAS4gE,EAdKH,EAcLG,QAG7C,OACCtjD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,EAAG+9B,GAAI,EAAGrlB,UAAWyE,KAAWlE,EAAQsnC,WAAY/jC,MAAO,GAClE9e,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,EAAGpkB,QAAQ,OAAOqB,eAAe,gBAAgBwX,SAAS,QAClE90B,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,KAAKkb,cAAY,GAArC,GAAA/kC,OAA0CnI,aAAE,cAAe,CAC1DyJ,KAAM,CAACq3D,GAAe,WAEvBpjD,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,KAAKkb,cAAY,GAArC,GAAA/kC,OAA0CnI,aAAE,qBAAsB,CACjEyJ,KAAM,CAACs5B,aAAcl9B,QAEtB6X,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,QAAQkb,cAAY,GAAxC,GAAA/kC,OAA6CnI,aAAE,aAAc,CAC5DyJ,KAAM,CAELs5B,aAAa,GAAA56B,OACT+f,wBAGS,IAFX+B,KAAOphB,GACL4F,QAAQ,SACRwyD,QACDC,eALU/4D,OAKMtC,EAAas7D,OAAO,IACtC,WAKJzjD,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAACyc,GAAD,CAAa1B,UAAWyE,KAAWlE,EAAQqD,UAG7C5e,EAAA3e,EAAA4e,cAAAob,EAAA,QACArb,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCqlB,GAAI,EACJvkB,QAAQ,OACRqB,eAAe,gBACfosB,aAAa,SACbrsB,cAAc,MACdyX,SAAS,QAET90B,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKc,QAAQ,OAAOoB,cAAc,UACjCrd,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aACnBtU,EAAA3e,EAAA4e,cAAA,cAAS3d,aAAE,6BAEZ0d,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAAS8uC,GAC7BpjD,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAAS+uC,GAC7BrjD,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAAS5xB,GAC7Bsd,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAASgvC,IAE9BtjD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAAShyB,aAAE,yBAC/B0d,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aACnBtU,EAAA3e,EAAA4e,cAAA,cACE6xB,aACAvlB,KAAOphB,GACLyhB,MAAM,SACN9P,OAAO,mBAMdkD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,EAAGpkB,QAAQ,OAAOoB,cAAc,SAASlB,WAAW,YAC5Dnc,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,KAAKsW,MAAM,SAC7BtoC,aAAE,mBAEJ0d,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,KAAKsW,MAAM,SAC9B5qB,EAAA3e,EAAA4e,cAAA,iBAAAxV,OAAY62D,aACX73C,EAAanN,QAAQ,IADtB,KAAA7R,OAEK4f,OAKRrK,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKc,QAAQ,OAAOqB,eAAe,iBAClCtd,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,MAAMhyB,aAAE,gCAG9B0d,EAAA3e,EAAA4e,cAAAob,EAAA,GAASL,UAAWyE,KAAWlE,EAAQinC,iBACvCxiD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,EAAGvkB,QAAQ,OAAOqB,eAAe,iBACzCtd,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAClBhyB,aAAE,kBAAmB,CACrByJ,KAAM,CACLwgB,KAAOphB,GACL4F,QAAQ,SACR+L,OAAO,cACTyP,KAAOphB,GACLyhB,MAAM,SACN9P,OAAO,mBAKbkD,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,YAAYsW,MAAM,SACrC5qB,EAAA3e,EAAA4e,cAAA,iBAAAxV,OAAY62D,aACX73C,EAAanN,QAAQ,IADtB,KAAA7R,OAEK4f,OAIRrK,EAAA3e,EAAA4e,cAAAob,EAAA,QACArb,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,EAAGvkB,QAAQ,OAAOqB,eAAe,iBACzCtd,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAAShyB,aAAE,uBAEhC0d,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aACnBtU,EAAA3e,EAAA4e,cAAA,cAASqhD,aAAuBnnD,OAInC6F,EAAA3e,EAAA4e,cAAAob,EAAA,QACArb,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,EAAGvkB,QAAQ,OAAOqB,eAAe,iBACzCtd,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAAShyB,aAAE,mBAEhC0d,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aACnBtU,EAAA3e,EAAA4e,cAAA,iBAAAxV,OAAYi5D,SAASR,GAAOA,EAAM7tD,OAAO,GAAGiH,QAAQ,QAIvD0D,EAAA3e,EAAA4e,cAAAob,EAAA,QACC4nC,EAAe1hE,OAAS,EACxBye,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,EAAGvkB,QAAQ,OAAOqB,eAAe,iBACzCtd,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,KAAKkb,cAAY,GACnCltC,aAAE,iCAIN0d,EAAA3e,EAAA4e,cAAAob,EAAA,GAASL,UAAWyE,KAAWlE,EAAQinC,iBACvCxiD,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0jD,GAAA,OACC3jD,EAAA3e,EAAA4e,cAAA2jD,GAAA,GAAOhvC,KAAK,SACX5U,EAAA3e,EAAA4e,cAAA4jD,GAAA,OACC7jD,EAAA3e,EAAA4e,cAAA6jD,GAAA,GAAU9oC,UAAWyE,KAAWlE,EAAQinC,gBACvCxiD,EAAA3e,EAAA4e,cAAA8jD,GAAA,GAAWn5B,MAAM,QAChB5qB,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aACnBtU,EAAA3e,EAAA4e,cAAA,cAAS3d,aAAE,iBAGb0d,EAAA3e,EAAA4e,cAAA8jD,GAAA,GAAWn5B,MAAM,SAChB5qB,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aACnBtU,EAAA3e,EAAA4e,cAAA,cAAS3d,aAAE,wBAGb0d,EAAA3e,EAAA4e,cAAA8jD,GAAA,GAAWn5B,MAAM,SAChB5qB,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aACnBtU,EAAA3e,EAAA4e,cAAA,iBAAAxV,OAAYnI,aAAE,kBAAd,MAAAmI,OAAoC4f,EAApC,UAKJrK,EAAA3e,EAAA4e,cAAA+jD,GAAA,OACEf,EACC5vD,KAAK,SAAChS,EAAGI,GAAJ,OAAUJ,EAAE8J,KAAO1J,EAAE0J,OAC1BnI,IAAI,SAACqC,EAAO4Q,GAAR,OACJ+J,EAAA3e,EAAA4e,cAAA6jD,GAAA,GAAUj+C,IAAK5P,GACd+J,EAAA3e,EAAA4e,cAAA8jD,GAAA,GAAWn5B,MAAM,QAChB5qB,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAApB,GAAA7pB,OACKuQ,aAAe3V,EAAM8F,KAAM,iBAGjC6U,EAAA3e,EAAA4e,cAAA8jD,GAAA,GAAWn5B,MAAM,SAChB5qB,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAClBgtC,aAAuBj8D,EAAM6H,eAGhC8S,EAAA3e,EAAA4e,cAAA8jD,GAAA,GAAWn5B,MAAM,SAChB5qB,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAApB,GAAA7pB,OACK62D,aACHj8D,EAAM8W,QAAQG,QAAQ,eAYjC0D,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCqlB,GAAI,EACJvkB,QAAQ,OACRqB,eAAe,eACfosB,aAAa,UAEb1pC,EAAA3e,EAAA4e,cAAA0f,GAAA,OAAar9B,aAAE,0ECvOd2hE,GAAWptC,EAAoBF,KAE/ButC,GAAO,SAAAhiE,GAAA,IAAG0yB,EAAH1yB,EAAG0yB,KAAH,OACZ5U,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAIpY,GACd5U,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAYrL,QAAO,IAAA7pB,OAAM,EAAImqB,GAAQqM,MAAO,CAAE2gB,cAAe,cAC3Dt/C,aAAE,UAKA6hE,oLACI,IAAAtsC,EAQJnF,KAAKH,MANRgJ,EAFO1D,EAEP0D,QACArsB,EAHO2oB,EAGP3oB,MACAk1D,EAJOvsC,EAIPusC,SACAC,EALOxsC,EAKPwsC,QACAC,EANOzsC,EAMPysC,SACAC,EAPO1sC,EAOP0sC,eAED,OACCvkD,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQsO,SACvB7pB,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMC,WAAS,EAACnnB,QAAS,EAAG6lC,QAAQ,SAASroC,WAAW,UACvDnc,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAY3E,UAAWO,EAAQrF,KAAM5B,QAAQ,KAAKsW,MAAM,UACtDtoC,aAAE4M,GAAS,QAGZk1D,GACApkD,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAY3E,UAAWO,EAAQrF,KAAM5B,QAAQ,aAC3ChyB,aAAE8hE,KAKNpkD,EAAA3e,EAAA4e,cAACwkD,GAAD,CAAM7vC,KAAM,IACZ5U,EAAA3e,EAAA4e,cAACwkD,GAAD,CAAM7vC,KAAM,IACZ5U,EAAA3e,EAAA4e,cAACwkD,GAAD,CAAM7vC,KAAM,IACZ5U,EAAA3e,EAAA4e,cAACwkD,GAAD,CAAM7vC,KAAM,IACZ5U,EAAA3e,EAAA4e,cAACwkD,GAAD,CAAM7vC,KAAM,IACZ5U,EAAA3e,EAAA4e,cAACwkD,GAAD,CAAM7vC,KAAM,IACZ5U,EAAA3e,EAAA4e,cAACwkD,GAAD,CAAM7vC,KAAM,IAEZ5U,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,EAAG2c,GAAI,GACrB3pC,EAAA3e,EAAA4e,cAAC25B,GAAD,CAAKtoB,IAAKozC,KAAW1jC,IAAK,KAAMhG,UAAWO,EAAQuO,OAEpD9pB,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,EAAG2c,GAAI,GACrB3pC,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAYmG,QAAM,EAAC9K,UAAWO,EAAQrF,KAAM5B,QAAQ,SAClDgpB,OAAO5uC,SAASyR,MAElBH,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAYmG,QAAM,EAAC9K,UAAWO,EAAQrF,KAAM5B,QAAQ,SAClDgpB,OAAO5uC,SAASyR,MAElBH,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAYmG,QAAM,EAAC9K,UAAWO,EAAQrF,KAAM5B,QAAQ,SAClDgpB,OAAO5uC,SAASyR,MAElBH,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAYmG,QAAM,EAAC9K,UAAWO,EAAQrF,KAAM5B,QAAQ,SAClDgpB,OAAO5uC,SAASyR,OAGnBH,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,EAAG2c,GAAI,GACrB3pC,EAAA3e,EAAA4e,cAAC25B,GAAD,CAAKtoB,IAAKqzC,KAAW3jC,IAAK,MAAOhG,UAAWO,EAAQuO,OAErD9pB,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,EAAG2c,GAAI,IACnB4a,GACDvkD,EAAA3e,EAAA4e,cAACgkD,GAAD,CACC3vC,QAAQ,YACR/Q,GAAI+gD,GAAY,IAChB1vC,KAAK,QACLD,MAAM,WAELryB,aAAE+hE,GAAW,sBA7DKzrC,IAAM7D,WA+ElB0N,MAAUwH,aCvGH,SAAAlQ,GACrB,IAAM4E,EAAU5E,EAAM4E,QAAQ,GAC9B,MAAO,CACNkL,QAAS,CACRlF,OAAM,GAAAl6B,OAAe,EAAVk0B,EAAL,WACNoD,SAAU,KAEX+H,IAAK,CACJ/H,SAAU,OACVlD,OAAQ,UD8FcoL,CAAmBk6B,KEtEtCvnC,GAAY9C,aAAWsJ,IAEtB,SAASwhC,KAAwC,IAAnBr6D,GAAmBjJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,IAAfiJ,WAC9BgxB,EAAUqB,KADuCnH,EAE1BC,YAAYzyB,MAAjConB,EAF+CoL,EAE/CpL,OAAQnH,EAFuCuS,EAEvCvS,SACV/a,EAAeutB,YAAYxwB,KAC3B2/D,EAAoBnvC,YAAY,SAAA/zB,GAAK,OAC1CimB,YAA6BjmB,EAAO4I,KAE/BwC,EAAW2oB,YAAY,SAAA/zB,GAAK,OACjCmL,YAAgCnL,EAAO4I,KARem7C,EAUEhwB,YACxDntB,MADO66D,EAV+C1d,EAU/C0d,YAAaC,EAVkC3d,EAUlC2d,cAAe3gE,EAVmBgjD,EAUnBhjD,QAAS4gE,EAVU5d,EAUV4d,QAGvCz/C,GAAqB9W,EAAS6W,QAAU,IAAIC,kBAC5CU,EACiB,WAAtBV,GAAwD,cAAtBA,EACnC,OAAK9W,EAASqW,MAASrW,EAAS+3D,QAY3BvgD,EAEJvE,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,EAAG+9B,GAAI,EAAGrlB,UAAWyE,KAAWlE,EAAQsnC,WAAY/jC,MAAO,GAClE9e,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,EAAGpkB,QAAQ,OAAOqB,eAAe,gBAAgBwX,SAAS,QAClE90B,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,KAAKkb,cAAY,GAArC,GAAA/kC,OAA0CnI,aAAE,cAAe,CAC1DyJ,KAAM,CAACq3D,GAAe,WAEvBpjD,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,KAAKkb,cAAY,GAArC,GAAA/kC,OAA0CnI,aAAE,qBAAsB,CACjEyJ,KAAM,CAACs5B,aAAcl9B,QAEtB6X,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,QAAQkb,cAAY,GAAxC,GAAA/kC,OAA6CnI,aAAE,aAAc,CAC5DyJ,KAAM,CAACs5B,aAAc96B,EAAY,WAGnCyV,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAACyc,GAAD,CAAa1B,UAAWyE,KAAWlE,EAAQqD,UAG7C5e,EAAA3e,EAAA4e,cAAAob,EAAA,QACArb,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCqlB,GAAI,EACJvkB,QAAQ,OACRqB,eAAe,gBACfosB,aAAa,SACbrsB,cAAc,MACdyX,SAAS,QAET90B,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKc,QAAQ,OAAOoB,cAAc,UACjCrd,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aACnBtU,EAAA3e,EAAA4e,cAAA,cAAS3d,aAAE,6BAEZ0d,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAAS8uC,GAC7BpjD,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAAS+uC,GAC7BrjD,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAAS5xB,GAC7Bsd,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAASgvC,IAE9BtjD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAAShyB,aAAE,yBAC/B0d,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aAEnBtU,EAAA3e,EAAA4e,cAAA,cAASjF,aAAejO,EAASuX,wBAGnCtE,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAAShyB,aAAE,wBAC/B0d,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aACnBtU,EAAA3e,EAAA4e,cAAA,cAASolB,aAAc96B,OAI1ByV,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,EAAGpkB,QAAQ,OAAOoB,cAAc,SAASlB,WAAW,YAC5Dnc,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,KAAKsW,MAAM,SAC7BtoC,aAAE,iBAEJ0d,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,KAAKsW,MAAM,SAC9B5qB,EAAA3e,EAAA4e,cAAA,iBAAAxV,OAAY62D,cAEVjsD,OAAO2O,uBAAYjX,EAASgX,eAAiB,IAAKb,KACjDnW,EAAS6W,OAAOK,sBAAwB,MACxC3H,QAAQ,IAJX,KAAA7R,OAKK4f,OAKRrK,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKc,QAAQ,OAAOqB,eAAe,iBAClCtd,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,MAAMhyB,aAAE,gCAG9B0d,EAAA3e,EAAA4e,cAAAob,EAAA,GAASL,UAAWyE,KAAWlE,EAAQinC,iBACvCxiD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,EAAGvkB,QAAQ,OAAOqB,eAAe,iBACzCtd,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAClBhyB,aAAE,kBAAmB,CACrByJ,KAAM,CACLiP,aAAejO,EAASsX,YACxBrJ,aAAejO,EAASuX,0BAK5BtE,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aACnBtU,EAAA3e,EAAA4e,cAAA,iBAAAxV,OACCsC,EAAS6W,OAAOK,uBAAyBlX,EAASgX,cAC/C6tB,mBACAv8B,OACC2O,uBAAYjX,EAASgX,eAAiB,MAAMb,KAE3CnW,EAAS6W,OAAOK,sBAAwB,MAE1C5O,OAAO,GAAGiH,QAAQ,GARtB,KAAA7R,OASI4f,OAIPrK,EAAA3e,EAAA4e,cAAAob,EAAA,QACArb,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,EAAGvkB,QAAQ,OAAOqB,eAAe,iBACzCtd,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAAShyB,aAAE,uBAEhC0d,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aACnBtU,EAAA3e,EAAA4e,cAAA,cAASqhD,aAAuBv0D,EAASG,iBAI5C8S,EAAA3e,EAAA4e,cAAAob,EAAA,QACArb,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,EAAGvkB,QAAQ,OAAOqB,eAAe,iBACzCtd,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAAShyB,aAAE,kBAEhC0d,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aACnBtU,EAAA3e,EAAA4e,cAAA,cAASqhD,aAAuBv0D,EAASC,YAI5CgT,EAAA3e,EAAA4e,cAAAob,EAAA,QAECwpC,EAAkBtjE,OAAS,GAC3Bye,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,EAAGvkB,QAAQ,OAAOqB,eAAe,iBACzCtd,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,KAAKkb,cAAY,GACnCltC,aAAE,iCAIN0d,EAAA3e,EAAA4e,cAAAob,EAAA,GAASL,UAAWyE,KAAWlE,EAAQinC,iBACvCxiD,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0jD,GAAA,OACC3jD,EAAA3e,EAAA4e,cAAA2jD,GAAA,GAAOhvC,KAAK,SACX5U,EAAA3e,EAAA4e,cAAA4jD,GAAA,OACC7jD,EAAA3e,EAAA4e,cAAA6jD,GAAA,GAAU9oC,UAAWyE,KAAWlE,EAAQinC,gBACvCxiD,EAAA3e,EAAA4e,cAAA8jD,GAAA,GAAWn5B,MAAM,QAChB5qB,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aACnBtU,EAAA3e,EAAA4e,cAAA,cAAS3d,aAAE,cAGb0d,EAAA3e,EAAA4e,cAAA8jD,GAAA,GAAWn5B,MAAM,SAChB5qB,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aACnBtU,EAAA3e,EAAA4e,cAAA,cAAS3d,aAAE,wBAGb0d,EAAA3e,EAAA4e,cAAA8jD,GAAA,GAAWn5B,MAAM,SAChB5qB,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aACnBtU,EAAA3e,EAAA4e,cAAA,cAAS3d,aAAE,yBAGb0d,EAAA3e,EAAA4e,cAAA8jD,GAAA,GAAWn5B,MAAM,SAChB5qB,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,aACnBtU,EAAA3e,EAAA4e,cAAA,iBAAAxV,OACKnI,aAAE,oBADP,MAAAmI,OAC+B4f,EAD/B,UAOJrK,EAAA3e,EAAA4e,cAAA+jD,GAAA,OACEa,EACCxxD,KAAK,SAAChS,EAAGI,GAAJ,OAAUA,EAAEujB,SAAW3jB,EAAE2jB,WAC9BhiB,IAAI,SAACqC,EAAO4Q,GAAR,OACJ+J,EAAA3e,EAAA4e,cAAA6jD,GAAA,GAAUj+C,IAAK5P,GACd+J,EAAA3e,EAAA4e,cAAA8jD,GAAA,GACCn5B,MAAM,OACN5P,UAAWyE,KAAWlE,EAAQqnC,WAE9B5iD,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAClBjvB,EAAMgjB,UAGTrI,EAAA3e,EAAA4e,cAAA8jD,GAAA,OACC/jD,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYiL,MAAM,QAAQtW,QAAQ,SAChCgtC,aAAuBj8D,EAAM6H,eAGhC8S,EAAA3e,EAAA4e,cAAA8jD,GAAA,OACC/jD,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYiL,MAAM,QAAQtW,QAAQ,SAChCgtC,aAAuBj8D,EAAM2H,UAGhCgT,EAAA3e,EAAA4e,cAAA8jD,GAAA,OACC/jD,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYiL,MAAM,QAAQtW,QAAQ,SAAlC,GAAA7pB,OACK62D,aACHj8D,EAAM2f,SAAS1I,QAAQ,gBA5LX,KAVxB0D,EAAA3e,EAAA4e,cAAC8kD,GAAD,CACC71D,MAAO5M,aAAE,wBACT8hE,SAAU9hE,aAAE,0BAA2B,CACtCyJ,KAAM,CAAC,WAAYxB,KAEpB+5D,SAAQ,wBACRD,QAAQ,oBCoBGW,OAzEf,SAAwBzyC,GAAO,IAAAkD,EAC2BC,YACxDntB,MADO66D,EADsB3tC,EACtB2tC,YAAaC,EADS5tC,EACT4tC,cAAe3gE,EADN+yB,EACM/yB,QAAS4gE,EADf7tC,EACe6tC,QAI7C,OACCtjD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY6P,cAAY,EAAClb,QAAQ,MAC/BhyB,aAAE,4BAGL0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI+0B,GAAI,GACtB/hD,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCh5B,MAAOjc,aAAE,gBACT8S,MAAOguD,GAAe,GACtB5nC,SAAU,SAAA7B,GAAE,OACXC,YAAQqrC,aAAkB,CAAE7B,YAAazpC,EAAG8G,OAAOrrB,UAEpDk+B,WAAS,EACThf,QAAQ,cAIVtU,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI+0B,GAAI,GACtB/hD,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCh5B,MAAOjc,aAAE,mBACT8S,MAAOiuD,GAAiB,GACxB7nC,SAAU,SAAA7B,GAAE,OACXC,YAAQqrC,aAAkB,CAAE5B,cAAe1pC,EAAG8G,OAAOrrB,UAEtDk+B,WAAS,EACThf,QAAQ,cAIVtU,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI+0B,GAAI,GACtB/hD,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCh5B,MAAOjc,aAAE,WACT8S,MAAO1S,GAAW,GAClB84B,SAAU,SAAA7B,GAAE,OACXC,YAAQqrC,aAAkB,CAAEviE,QAASi3B,EAAG8G,OAAOrrB,UAEhDk+B,WAAS,EACThf,QAAQ,cAIVtU,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI+0B,GAAI,GACtB/hD,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCh5B,MAAOjc,aAAE,WACT8S,MAAOkuD,GAAW,GAClB9nC,SAAU,SAAA7B,GAAE,OACXC,YAAQqrC,aAAkB,CAAE3B,QAAS3pC,EAAG8G,OAAOrrB,UAEhDk+B,WAAS,EACThf,QAAQ,cAIVtU,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI+0B,GAAI,GACrBxvC,EAAM6C,eC/CRwH,GAAY9C,aAAWsJ,IAE7B,SAAS7C,GAAQhO,GAChB,IAAMgJ,EAAUqB,KACVsoC,EAAUC,mBACV59D,EAAOmuB,YAAYruB,MAEjBiI,EAAW81D,cAAX91D,OACF+1D,EAAoB3vC,YAAY,SAAA/zB,GAAK,OAAI+H,aAAwB/H,KACjE2jE,EAA0B/yC,EAAMjjB,QAAUA,EAC1Ci2D,EAAqBD,EACxB,CAACA,GACDD,EAGKjhD,EAAYsR,YAAY,SAAA/zB,GAAK,OACpCmE,YAAgCnE,KADzByiB,QAbeiR,EAgBWC,mBAAS,IAhBpBC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GAgBhBlJ,EAhBgBoJ,EAAA,GAgBLiwC,EAhBKjwC,EAAA,GAAA8a,EAiBO/a,mBAAS,IAjBhBgb,EAAA9tC,OAAAiR,EAAA,EAAAjR,CAAA6tC,EAAA,GAiBhBjkB,EAjBgBkkB,EAAA,GAiBPm1B,EAjBOn1B,EAAA,GAAA2K,EAkBG3lB,oBAAS,GAlBZ4lB,EAAA14C,OAAAiR,EAAA,EAAAjR,CAAAy4C,EAAA,GAkBhBj5B,EAlBgBk5B,EAAA,GAkBTwqB,EAlBSxqB,EAAA,GAmBjByqB,EAAQjwC,YAAY,kBAAMjJ,aAAoBN,EAAWC,KACzDw5C,EACLz5C,GAAaC,GAAyB,KAAdD,GAAgC,KAAZC,EACvCy5C,EACLz5C,GAAWD,GAA2B,KAAdA,GAAgC,KAAZC,EACvC05C,GAAkBF,GAAqB5jD,EACvC+jD,GAAgBF,GAAmB7jD,EACnCgkD,EAA0BtwC,YAAY,kBAC3CjJ,aAAoBrI,GAAS,IAAIzT,MAAOs1D,QAAQ,IAAI,KAE/CC,EAAwBxwC,YAAY,kBACzCjJ,aAAoBrI,GAAS,IAAIzT,MAAOs1D,QAAQ,IAAI,KAG/CE,EAAmCzwC,YAAY,SAAA/zB,GAAK,OACzD8G,aAAkB9G,EAAOykE,QAlCHhrB,EAsCS9lB,mBAASiwC,GAAsB,IAtCxClqB,EAAA74C,OAAAiR,EAAA,EAAAjR,CAAA44C,EAAA,GAsChB3+B,EAtCgB4+B,EAAA,GAsCNgrB,EAtCMhrB,EAAA,GAwCvBhlB,oBAAU,WACT,OAAO,WACNuD,YAAQ0sC,iBAEP,IAUH,MAAa,eAAT/+D,GAA6C,IAApBkV,EAASlb,OAC9Bye,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CAAUvyB,GAAI,oCAErBvD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKc,QAAQ,OAAOqB,eAAe,SAASosB,aAAa,UACxD1pC,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCc,QAAQ,OACRqB,eAAe,SACfosB,aAAa,SACbrsB,cAAc,SACdmG,SAAU,EACVxB,SAAS,UAEThiB,EAAA3e,EAAA4e,cAACsmD,GAAD,KACCvmD,EAAA3e,EAAA4e,cAACumD,GAAAnlE,EAAD,CACColE,UACC,yGAEDC,QAAS,kBACR1mD,EAAA3e,EAAA4e,cAAA0W,EAAA,GACCya,UAAWpxB,EAAA3e,EAAA4e,cAAAoxB,GAAA,QACX/c,QAAQ,YACRM,KAAK,QACLD,MAAM,UACNvS,SACU,cAAT7a,IACqB,IAApBkV,EAASlb,QAAgB4kE,GAE3B7yB,WAAS,GAER,GAAA7oC,OAAC66D,EAEIhjE,aAAE,iBADFA,aAAE,yBAIVgiC,QAAS,kBAAM4gC,EAAQ18C,YAGf,cAATjhB,GACAyY,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAAAkb,EAAA,GACC7Y,EAAG,EACH2Z,QAAQ,OACRqB,eAAe,gBACfnB,WAAW,aACXkB,cAAc,MACdyX,SAAS,QAET90B,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7O,EAAG,EAAG2P,QAAQ,OAAOC,KAAM,GAC/Blc,EAAA3e,EAAA4e,cAAC+lC,GAAD,CACC1xB,QAAQ,WACRgf,WAAS,EACTnyB,OAAM3e,OAAAgE,GAAA,EAAAhE,CAAMwjE,GACZxqC,SAAU,SAAA/vB,GACTi6D,GAAS,GACTF,EAAa/5D,IAEd2mB,MAAO0zC,EACPzuB,WACCyuB,GAAgC,KAAd35C,EACf7pB,aAAE,oBACFA,aAAE,qBAEN8S,MAAO+W,EACP5N,MAAOjc,aAAE,gBACT8b,KAAK,YACLsmC,OAAO,oBACPM,cAAa2hB,GAAA,KAGf3mD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7O,EAAG,EAAG2P,QAAQ,OAAOC,KAAM,GAC/Blc,EAAA3e,EAAA4e,cAAC+lC,GAAD,CACC1xB,QAAQ,WACRgf,WAAS,EACTnyB,OAAM3e,OAAAgE,GAAA,EAAAhE,CAAM0jE,GACZ1qC,SAAU,SAAA/vB,GACTi6D,GAAS,GACTD,EAAWh6D,IAEZ2mB,MAAO2zC,EACP1uB,WACC0uB,GAA4B,KAAZ35C,EACb9pB,aAAE,kBACFA,aAAE,mBAEN8S,MAAOgX,EACP7N,MAAOjc,aAAE,cACT8b,KAAK,UACLsmC,OAAO,kBACPM,cAAa2hB,GAAA,KAGf3mD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7O,EAAG,EAAG2P,QAAQ,OAAOC,KAAM,GAC/Blc,EAAA3e,EAAA4e,cAAA0W,EAAA,GACCsK,MAAO,CAAEiJ,UAAW,OACpBoJ,WAAS,EACT1e,KAAK,QACLwc,UAAWpxB,EAAA3e,EAAA4e,cAAA2mD,GAAA,QACXtyC,QAAQ,YACRK,MAAM,UACNE,QAAS,kBA1GhB6wC,GAAS,QACLE,GAAqBC,IACxBjsC,YAAQitC,YAAe16C,EAAWC,IAClCi6C,EAAYV,EAAM3iE,IAAI,SAAAsP,GAAI,OAAIA,EAAK8C,aAyG5B9S,aAAE,mBAIL6jE,GACAnmD,EAAA3e,EAAA4e,cAAA6b,GAAA,GAAgBd,UAAWO,EAAQwQ,YAItC/rB,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,EAAGvkB,QAAQ,OAAOE,WAAW,SAASmB,eAAe,UAC5D7gB,EAASlb,OAAS,GAClBye,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK2D,MAAO,GACX9e,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKxC,IAAKusC,GACRzoD,EAASzZ,IAAI,SAAAsP,GAAI,MACR,eAAT/K,EACCyY,EAAA3e,EAAA4e,cAAC2kD,GAAD,CAAoBr6D,WAAY+H,EAAMuT,IAAKvT,KAEN,IAArC6zD,GACCnmD,EAAA3e,EAAA4e,cAAC+iD,GAAD,CAAqB73D,KAAMmH,EAAMuT,IAAKvT,YC7LlD,IAAMk/B,GAAU,SAAAtvC,GAAA,IAAG4kE,EAAH5kE,EAAG4kE,aAAcz8C,EAAjBnoB,EAAiBmoB,OAAjB,OACf,CACCjM,KAAM,cACNG,MAAOjc,aAAE,gBACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNi5B,UAAU,IAGZ,CACCluB,KAAM,cACNG,MAAOjc,aAAE,qBACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNw+B,cAAe,OACfH,iBAAkB,SAAAxkC,GAAW,OAAI0kC,mBAAQ1kC,GAAe,MAG1D,CACCkR,KAAM,qBACNG,MAAOjc,aAAE,cACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,SAAA3rB,GAAkB,SAAAtb,OAChCsb,EAAmBzJ,QAAQ,GADK,SAItC,CACC8B,KAAM,SACNG,MAAOjc,aAAE,gBACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,SAAAxkC,GAAW,OAAI0kC,mBAAQ1kC,GAAe,MAG1D,CACCkR,KAAM,MACNG,MAAOjc,aAAE,aACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,SAAAxtB,GAAG,SAAAzZ,OAAOyZ,EAAI5H,QAAQ,GAAnB,UA7CR7R,OAAAjI,OAAAgE,GAAA,EAAAhE,CAgDXskE,EACD,CACA,CACC1oD,KAAM,aACNG,MAAOjc,aAAE,qBACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,SAAA1rB,GAAU,SAAAvb,OACxBmnC,mBAAQ5rB,EAAW1J,QAAQ,IADH,KAAA7R,OACU4f,MAGxC,CACCjM,KAAM,WACNG,MAAOjc,aAAE,kBACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,SAAA1sB,GAAQ,SAAAva,OACtBmnC,mBAAQ5sB,EAAS1I,QAAQ,IADH,KAAA7R,OACU4f,OAItC,MAGE4nB,GAAa,SAAArvC,GAAA,IAAG6tC,EAAH7tC,EAAG6tC,WAAH,MAA+B,CACjD9B,WAAY,cACZwwB,aAFkBv8D,EAAek4B,SAGjC2P,YAAa,GACb8H,cAAe,kBAAMvyB,EAAA3e,EAAA4e,cAAC2wB,GAAD,CAAYC,aAAcJ,OAqCjCs2B,OAlCf,SAA6Bx0C,GAAO,IAC3BzC,EAA0CyC,EAA1CzC,SAD2BuvC,EACe9sC,EAAhCuI,gBADiB,IAAAukC,EACN,GADMA,EACFyH,EAAiBv0C,EAAjBu0C,aACzBz8C,EAAWqL,YAAYzyB,MAAvBonB,OAF2B2oB,EAIG/C,GAAa,CAClDngB,WACAqgB,WAAY,kBACXqB,GAAQ,CACPnnB,SACAy8C,oBALKrsD,EAJ2Bu4B,EAI3Bv4B,KAAMwxB,EAJqB+G,EAIrB/G,QAASwE,EAJYuC,EAIZvC,WASjBvE,EAAU+F,GAAW,CAAEnX,WAAU2V,eACvC,OACCzwB,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAC+rB,GAADxpC,OAAAk2B,OAAA,CACCje,KAAMA,EACNwxB,QAASA,EACTC,QAASA,EACTG,UAAQ,EACRG,SAAO,EACPw6B,eAAa,GACTz0C,mCCrCO00C,GAjEE,SAAA/kE,GAAkB,IAAf4tB,EAAe5tB,EAAf4tB,SAAe2F,EACcC,YAAY5F,GAApD9I,EAD0ByO,EAC1BzO,UAAWJ,EADe6O,EACf7O,WAAYE,EADG2O,EACH3O,aADGuO,EAGJC,mBAAS,IAHLC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GAG3BiP,EAH2B/O,EAAA,GAGlB2xC,EAHkB3xC,EAAA,GAKlC,OACCvV,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOrK,UAAW,EAAG9X,QAAQ,WAAWi/B,QAAM,GAC7CvzC,EAAA3e,EAAA4e,cAACknD,GAAA,cAAD,CACCC,WAAS,YACTC,WAAW,cACXC,iBAAkB,CACjBC,MAAO,KAERzoC,MAAO,IACPD,OAAQ,KAER7e,EAAA3e,EAAA4e,cAACknD,GAAA,cAAD,CAAeK,QAAS,GACvBxnD,EAAA3e,EAAA4e,cAACknD,GAAA,YAAD,CAAaM,UAAWzgD,GACtB,SAAApkB,GAA0B,IAAA8kE,EAAA9kE,EAAvB+kE,YACH,YAD0B,IAAAD,EAAT,GAASA,GACP1kE,IAAI,SAAA4kE,GAAO,IAAAC,EACUD,EAAItgD,WAAnCF,EADqBygD,EACrBzgD,gBAAiBG,EADIsgD,EACJtgD,UACzB,OACCvH,EAAA3e,EAAA4e,cAACknD,GAAA,UAAD,CACCthD,IAAK+hD,EAAIE,OACTL,UAAWG,EACXG,aAAc,WACbb,EAAW9/C,IAEZ4gD,aAAc,WACbd,EAAW,KAEZvrC,KAAMpU,EACN0Z,MAAO,CACNsD,QAAS,CACR0jC,OAAQ,QACRC,QAAS,QAEVrtC,MAAO,CACNc,KAAM/U,EACNshD,QAAS,QAEVC,QAAS,CACRxsC,KAAM7U,EACNohD,QAAS,mBAWf5jC,GACFtkB,EAAA3e,EAAA4e,cAACmoD,GAAA,EAAD,CAAczgB,QAAQ,EAAO19B,gBAAiBo+C,MAC5Cx1D,MAAMwxC,QAAQ/f,GACZA,EAAQthC,IAAI,SAAC+L,EAAGkH,GAAJ,OAAU+J,EAAA3e,EAAA4e,cAAA,OAAK4F,IAAK5P,GAAIlH,KACpCu1B,mCC3BKgkC,GAAqBzlB,GApCX,SAAA3gD,GAMjB,IALLw1C,EAKKx1C,EALLw1C,YACA6wB,EAIKrmE,EAJLqmE,UACAC,EAGKtmE,EAHLsmE,UACAl5D,EAEKpN,EAFLoN,OACGijB,EACE/vB,OAAAgY,EAAA,EAAAhY,CAAAN,EAAA,kDACL,OACC8d,EAAA3e,EAAA4e,cAACq8C,GAAD95D,OAAAk2B,OAAA,GACKnG,EADL,CAECmuB,eAAgB,kBAAM9mB,YAAQ2iC,YAAa,WAAYjtD,KACvDA,OAAQA,EACRktD,eAAc,mBAAA/xD,OAAqB6E,EAArB,KACdhD,SAAS,WACToyC,QAAO,mBAAAj0C,OAAqB6E,GAC5Bk/B,MAAO,CACN,CACCt/B,MAAOs5D,GAAa,oBACpBhpC,UAAW08B,GACXrd,iBAAkB,KAClBF,WAAY,SAAApsB,GAAK,OAChBqH,YACC6uC,aAA4BjmE,OAAAC,GAAA,EAAAD,CAAA,CAC3Bk1C,cACApoC,SACAi5D,aACGh2C,QAKR0qC,UAAWxtD,iBCRRmtB,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtC8P,QAAS,CACRlF,OAAQ5K,EAAM4E,QAAQ,GACtBnB,SAAU,YAEXmT,eAAgB,CACfnT,SAAU,WACV3J,IAAK,MACL4J,KAAM,MACN8F,WAAY,GACZiB,YAAa,OAIFkkC,GAAgB,SAAAxmE,GAKvB,IAJLoQ,EAIKpQ,EAJLoQ,KACAgwD,EAGKpgE,EAHLogE,YACAD,EAEKngE,EAFLmgE,SACG9rB,EACE/zC,OAAAgY,EAAA,EAAAhY,CAAAN,EAAA,mCACCq5B,EAAUqB,KAEf1tB,EAMGoD,EANHpD,MAHImU,EASD/Q,EALHzF,eAJI,IAAAwW,EAIM,GAJNA,EAKJisC,EAIGh9C,EAJHg9C,cACAnrC,EAGG7R,EAHH6R,iBACAwkD,EAEGr2D,EAFHq2D,iBAPIC,IASDt2D,EADH9D,eAE2C,IAAIC,QAAU,IAAlDI,gBAVH,IAAA+5D,EAUc,GAVdA,EAAAC,EAWwB5lE,eAArBigB,EAXH2lD,EAWG3lD,SAAUmH,EAXbw+C,EAWax+C,OACHotB,EAAalB,EAAUp5B,YAA9BjO,MAZHnM,EAc2B8J,EAAQ,IAAM,GAAtC6W,EAdH3gB,EAcG2gB,SAAUC,EAdb5gB,EAca4gB,UACZC,EAAStR,EAAKsR,QAAU,GACtBC,EAAsBD,EAAtBC,kBACFilD,GAAiE,MAApDx2D,EAAKkgD,gBAAkB,IAAI,IAAM,IAAIuW,WAClDC,EAAcF,EAAW,SAAW,QAEpCzZ,EAAwBC,GAAiB,CAAEO,WAAY,IACvDoZ,EAAS5Z,EAAsB/gB,KAAOnqB,GAAoB,EAC1D+kD,EAAS7Z,EAAsBr6C,KAAO2zD,GAAoB,EAE1DQ,EAAezzC,YAAY,SAAA/zB,GAAK,OACrC8G,aAAkB9G,EAAD,oBAAA8I,OAA4B6H,EAAK5J,OAG7C0gE,EAAe1zC,YAAY,SAAA/zB,GAAK,OACrC8G,aAAkB9G,EAAD,oBAAA8I,OAA4B6H,EAAK5J,OAGnD,OACCsX,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,EAAG80B,GAAI,GACrC/hD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK2b,GAAI,GACR92B,EAAA3e,EAAA4e,cAACopD,GAAD,CAAW3lD,SAAUA,EAAUC,UAAWA,KAE1C0+C,GACAriD,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,EAAGxC,WAAW,UACtCnc,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,EAAG1c,GAAI,GAAI80B,GAAI,GACrC/hD,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQsO,SACvB7pB,EAAA3e,EAAA4e,cAAA0W,EAAA,GACCrC,QAAQ,YACRK,MAAM,YACNC,KAAK,QACL0e,WAAS,EACTze,QAAS,WACR+E,YACC8gB,YACC,kBAAM9gB,YAAQ0vC,YAAc,CAAEv8D,SAAUuF,MACxC,KACA,CACC6jB,aAAc7zB,aAAE,gCAChB8zB,YAAa9zB,aAAE,UACf4M,MAAO5M,aAAE,+BAAgC,CACxCyJ,KAAM,CAACmD,KAERgnB,KAAM5zB,aAAE,8BAA+B,CACtCyJ,KAAM,SAMXqW,SAAU+mD,IAAiB7G,EAC3BV,QAAS5hD,EAAA3e,EAAA4e,cAAAspD,GAAA,SAERjnE,aAAE,uBAEH6mE,GACAnpD,EAAA3e,EAAA4e,cAAAqc,GAAA,GACC1H,KAAM,GACNoG,UAAWO,EAAQoV,mBAMvB3wB,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,EAAG1c,GAAI,GAAI80B,GAAI,GACrC/hD,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQsO,SACvB7pB,EAAA3e,EAAA4e,cAAA0W,EAAA,GACCrC,QAAQ,YACRK,MAAM,YACNC,KAAK,QACL0e,WAAS,EACTze,QAAS,WACR+E,YACC8gB,YACC,kBACC9gB,YAAQ4vC,YAAsB,CAAEz8D,SAAUuF,MAC3C,KACA,CACC6jB,aAAc7zB,aAAC,GAAAmI,OACXu+D,EADW,4BAGf5yC,YAAa9zB,aAAE,UACf4M,MAAO5M,aAAC,GAAAmI,OAAIu+D,EAAJ,2BAA0C,CACjDj9D,KAAM,CAACmD,KAERgnB,KAAM5zB,aAAC,GAAAmI,OAAIu+D,EAAJ,0BAAyC,CAC/Cj9D,KAAM,SAMXqW,SAAUgnD,IAAiB9G,EAC3BV,QAASkH,EAAW9oD,EAAA3e,EAAA4e,cAAAwpD,GAAA,QAAgBzpD,EAAA3e,EAAA4e,cAAAypD,GAAA,SAEnCpnE,aAAC,OAAAmI,OAAQu+D,EAAR,eAEFI,GACAppD,EAAA3e,EAAA4e,cAAAqc,GAAA,GACC1H,KAAM,GACNoG,UAAWO,EAAQoV,qBAS1B3wB,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,EAAG80B,GAAI,GACrC/hD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,GACRxgC,EAAA3e,EAAA4e,cAAC0pD,GAADnnE,OAAAk2B,OAAA,CAAWxpB,MAAOA,EAAOuoC,SAAUA,GAAclB,KAElDv2B,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,GACRxgC,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACC3Z,KAAM,KACN/hC,MAAO9C,EAAK5J,GACZ6V,MAAOjc,aAAE,KAAM,CAAEuJ,QAAQ,OAI3BmU,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,GAC9BjtB,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK2b,GAAI,GACR92B,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACC3Z,KAAM,oBACN/hC,MAAO9S,aAAEuhB,EAAmB,CAAEjF,aAAa,IAC3CL,MAAOjc,aAAE,SAAU,CAAEuJ,QAAQ,IAC7ByrC,WAAY,CACXW,aACCj4B,EAAA3e,EAAA4e,cAAAi4B,GAAA,GAAgB1a,SAAS,OACvBsP,GAAejpB,EAAmBD,EAAOxF,KAAM,WAMrD4B,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK2b,GAAI,GACR92B,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACC3Z,KAAM,UACN/hC,MAAO4F,aAAe1I,EAAK8R,SAC3B7F,MAAOjc,aAAE,UAAW,CAAEuJ,QAAQ,OAGhCmU,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK2b,GAAI,GACR92B,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACC3Z,KAAM,aACN/hC,MAAO4F,aAAe1I,EAAK+R,YAC3B9F,MAAOjc,aAAE,aAAc,CAAEuJ,QAAQ,OAGnCmU,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK2b,GAAI,GACR92B,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACC3Z,KAAM,sBACN/hC,MAAO4F,aAAe1I,EAAKgS,qBAC3B/F,MAAOjc,aAAE,sBAAuB,CAAEuJ,QAAQ,QAW7CmU,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,GAC9BjtB,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK2b,GAAI,GACR92B,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACC3Z,KAAM,wBACN/hC,QAASwO,EAAOK,uBAAyB,GAAK,IAAI3H,QAAQ,GAC1DiC,MAAOjc,aAAE,mBAAoB,CAAEyJ,KAAM,CAAC,UAGxCiU,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK2b,GAAI,GACR92B,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACC3Z,KAAM,gBACN/hC,MACCmE,aAAkBjH,EAAKyR,cAAeb,GAAY,IAAMmH,EAEzD9L,MAAOjc,aAAE,gBAAiB,CAAEuJ,QAAQ,OAGtCmU,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK2b,GAAI,GACR92B,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACC3Z,KAAM,UACN/hC,MACCmE,aACCiR,wBAAay+C,GAAU,GAAGW,IAAI,KAC9B1mD,GACA,GAED,IACAmH,EAED9L,MAAOjc,aAAE,cAGX0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK2b,GAAI,GACR92B,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACC3Z,KAAM,UACN/hC,MACCmE,aACCiR,wBAAa0+C,GAAU,GAAGU,IAAI,KAC9B1mD,GACA,GAED,IACAmH,EAED9L,MAAOjc,aAAE,gBAKb0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,EAAGH,GAAI,GACfrgC,EAAA3e,EAAA4e,cAAAob,EAAA,SAEDrb,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,EAAG8Q,GAAI,GAC/BzvB,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,GAAI80B,GAAI,GACtC/hD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK2b,GAAI,GACR92B,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACC3Z,KAAM,qCACN/hC,MAAO9S,aAAEuM,EAASqkD,oBAAsB,MAAQ,MAChD30C,MAAOjc,aAAE,yCAGX0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK2b,GAAI,GACR92B,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACC3Z,KAAM,kCACN/hC,MAAO9S,aAAEuM,EAASskD,wBAA0B,MAAQ,MACpD50C,MAAOjc,aAAE,uCAIZ0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,GAAI80B,GAAI,GACtC/hD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK2b,GAAI,GACR92B,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACC3Z,KAAM,qCACN/hC,MAAO9S,aAAEuM,EAASukD,0BAA4B,MAAQ,MACtD70C,MAAOjc,aAAE,yCAGX0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,GACP6hB,GACAriD,EAAA3e,EAAA4e,cAACqoD,GAAD,CACCh1B,WAAS,EACT5xB,cAAY,EACZ6mD,UAAU,mBACVC,UAAU,yBACVnlB,SAAS,yBACTn0C,MAAM,+BACNI,OAAQgD,EAAK5J,GACb0Z,UAAWkgD,EACXvf,sBAAoB,EACpBrL,YAAanB,EAAUmB,YACvB/iB,MAAM,YACNL,QAAQ,YACRO,QAAS,kBACR+E,YACCiwC,YAAqC,CACpCv6D,OAAQgD,EAAK5J,GACb6rC,WAAYgC,EAAUhC,uBChT5B3X,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtCla,QAAS,CACR+tB,QAAS,CACR1M,YAAanH,EAAM4E,QAAQ,GAC3BD,aAAc3E,EAAM4E,QAAQ,QAKlBmrC,GAAmB,SAAA5nE,GAK1B,IAJLoQ,EAIKpQ,EAJLoQ,KACA+vD,EAGKngE,EAHLmgE,SACAC,EAEKpgE,EAFLogE,YACG/rB,EACE/zC,OAAAgY,EAAA,EAAAhY,CAAAN,EAAA,mCACCq5B,EAAUqB,KACV/U,EACL6N,YAAY,SAAA/zB,GAAK,OAAI4M,YAA2B5M,EAAO2Q,EAAK5J,OAAQ,GAE/D8F,EACL8D,EAAK9D,eAAiBhM,OAAOma,KAAKrK,EAAK9D,cAAcC,QAAQlN,OAC1D+Q,EAAK9D,cACLqZ,EAEJ,OACC7H,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAACozC,GAAD,CAAiB7kD,cAAeA,EAAcC,UAE/CuR,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKH,UAAWO,EAAQ1b,SACtBwiD,GACAriD,EAAA3e,EAAA4e,cAACqoD,GAAD,CACCjlB,SAAS,kBACTn0C,MAAM,2BACNI,OAAQgD,EAAK5J,GACb0Z,UAAWkgD,EACXvf,sBAAoB,EACpBrL,YAAanB,EAAUmB,YACvB/iB,MAAM,YACNL,QAAQ,YACRO,QAAS,kBACR+E,YACCiwC,YAAqC,CACpCv6D,OAAQgD,EAAK5J,GACb6rC,WAAYgC,EAAUhC,iBAO3Bv0B,EAAA3e,EAAA4e,cAACggD,GAAD,CACC5c,SAAS,6BACT1uB,MAAM,UACNL,QAAQ,YACRivB,aAAc,kBACb3pB,YACC+yB,aAAkB,gBAADnqD,OAAAC,GAAA,EAAAD,CAAA,GACbgM,QAMPwR,EAAA3e,EAAA4e,cAAC8pD,GAAD,CACC1mB,SAAS,gBACTn0C,MAAM,sBACNylB,MAAM,UACNL,QAAQ,YACRivB,aAAc,kBACb3pB,YACC49B,aAAkB,KAAM,KAAPh1D,OAAAC,GAAA,EAAAD,CAAA,GACbgM,UAOTwR,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAAqzC,GAAA,GAAgBC,QAAQ,EAAMj/B,QAAQ,YACrCtU,EAAA3e,EAAA4e,cAAAuzC,GAAA,GACCC,WAAYzzC,EAAA3e,EAAA4e,cAAAyzC,GAAA,QACZ5xB,gBAAc,0BACdp5B,GAAG,0BAEHsX,EAAA3e,EAAA4e,cAAA0f,GAAA,OAAar9B,aAAE,qBAEhB0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,EAAGqS,MAAM,oBAAoByG,QAAQ,aAC5Cpb,EAAA3e,EAAA4e,cAAA,WACEX,KAAKC,UACLjN,EAAKkgD,gBAAkBlgD,EAAK8Q,KAAKovC,gBAAkB,GACnD,KACA,iDCvGR,IAAMwX,GAAgB,CACrBruC,MAAM,EACNsuC,YAAa,EACb9/C,YAAa,EACb+/C,YAAa,EACbC,eAAgB,IAIXC,GAAO,SAIAC,GAAmB,SAAAnoE,GAqB1B,IApBLooE,EAoBKpoE,EApBLooE,MACAC,EAmBKroE,EAnBLqoE,MACAC,EAkBKtoE,EAlBLsoE,MACAC,EAiBKvoE,EAjBLuoE,MAiBKC,EAAAxoE,EAhBLyoE,mBAgBK,IAAAD,KAAAE,EAAA1oE,EAfL2oE,mBAeK,IAAAD,KAAAE,EAAA5oE,EAdL6oE,mBAcK,IAAAD,KAAAE,EAAA9oE,EAbL+oE,mBAaK,IAAAD,KAZLE,EAYKhpE,EAZLgpE,WAYKC,EAAAjpE,EAXLkpE,qBAWK,IAAAD,EAXW,GAWXA,EAAAE,EAAAnpE,EAVLgqC,eAUK,IAAAm/B,EAVK,GAULA,EAAAC,EAAAppE,EATLqpE,cASK,IAAAD,EATI,YASJA,EAAAE,EAAAtpE,EARLupE,eAQK,IAAAD,EARK,QAQLA,EAAAE,EAAAxpE,EAPLypE,eAOK,IAAAD,EAPK,QAOLA,EAAAE,EAAA1pE,EANL2pE,eAMK,IAAAD,EANK,QAMLA,EAAAE,EAAA5pE,EALL6pE,eAKK,IAAAD,EALK,QAKLA,EAAAE,EAAA9pE,EAJL+pE,eAIK,IAAAD,EAJK7L,GAAc,GAInB6L,EAAAE,EAAAhqE,EAHLiqE,eAGK,IAAAD,EAHK/L,GAAc,GAGnB+L,EAAAE,EAAAlqE,EAFLmqE,eAEK,IAAAD,EAFKjM,GAAc,GAEnBiM,EAAAE,EAAApqE,EADLqqE,eACK,IAAAD,EADKnM,GAAc,GACnBmM,EACGjiD,EAAWqL,YAAYzyB,MAAvBonB,OACFmiD,EAAW92C,YAAY7Y,KACvB4vD,EChDA,WACN,IAAMC,EAA8B,kBAAXpvB,OAEzB,SAASqvB,IACR,MAAO,CACN7tC,MAAO4tC,EAAYpvB,OAAOC,WAAa,EACvC1e,OAAQ6tC,EAAYpvB,OAAOsvB,YAAc,GANZ,IAAAv3C,EAUKC,mBAASq3C,GAVdp3C,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GAUxBo3C,EAVwBl3C,EAAA,GAUZs3C,EAVYt3C,EAAA,GA2B/B,OAfAc,oBAAU,WACT,IAAKq2C,EACJ,OAAO,EAGR,SAASI,IACRD,EAAcF,KAKf,OAFArvB,OAAOyvB,iBAAiB,SAAUD,GAE3B,kBAAMxvB,OAAO0vB,oBAAoB,SAAUF,KAEhD,CAACJ,IAEGD,EDqBYQ,GACbC,EAAcj4D,KAAKq5B,IACxBr5B,KAAKD,IAAIC,KAAKiyC,OAAOulB,EAAW5tC,QAAU,GAAK,KAAM,KACrD,KAGDxI,oBAAU,WACT82C,KAAMC,cAAcC,SAAS,CAC5BC,WAAY,SAASC,GACpB,IAAMC,EAAMD,EAAMC,IAClB,GAAID,EAAME,QAAQC,SAAWH,EAAME,QAAQC,QAAQnsE,OAAQ,CAC1D,IACMwN,EADcw+D,EAAMI,WAAWF,QAAQC,QAAQ,GAC/BE,kBAAkB7+D,EAClC8+D,EAAgBN,EAAMO,OAAO,YACnC,GAAID,EAAe,CAClB,IAAME,EAAOF,EAAch6C,IACrBm6C,EAAUH,EAAclwC,OAC9B6vC,EAAIh5B,OACJg5B,EAAIS,YACJT,EAAIU,OAAOn/D,EAAGg/D,GACdP,EAAIW,OAAOp/D,EAAGi/D,GACdR,EAAIY,UA/CS,EAgDbZ,EAAIa,YAAY,CAjDJ,MAkDZb,EAAIc,YAAcC,KAClBf,EAAIvF,SACJuF,EAAIgB,iBAOT,IAAMxnD,EAAY,CACjBlM,OAAQowD,EAAaZ,EAAMxvD,OAASswD,EACpCnwD,SAAU,CAACzY,OAAAC,GAAA,EAAAD,CAAA,GAENwnE,GAFK,CAGR//C,gBAAiBu2C,KAAOC,qBAAqBwL,EAAS,GACtDz2B,YAAagrB,KAAOC,qBAAqBwL,EAAS,GAClD1tD,MAAOktD,EACPhxD,KAAMywD,EAAaZ,EAAMrvD,SAAW,GACpCwzD,QAAS,WACTC,QAAS/D,IARDnoE,OAAAC,GAAA,EAAAD,CAAA,GAWLwnE,GAXK,CAYR//C,gBAAiBu2C,KAAOC,qBAAqB0L,EAAS,GACtD32B,YAAagrB,KAAOC,qBAAqB0L,EAAS,GAClD5tD,MAAOotD,EACPlxD,KAAMywD,EAAaX,EAAMtvD,SAAW,GACpCwzD,QAAS,WACTC,QAAS7D,IAjBDroE,OAAAC,GAAA,EAAAD,CAAA,GAoBLwnE,GApBK,CAqBR//C,gBAAiBu2C,KAAOC,qBAAqB4L,EAAS,GACtD72B,YAAagrB,KAAOC,qBAAqB4L,EAAS,GAClD9tD,MAAOstD,EACPpxD,KAAMywD,EAAaV,EAAMvvD,SAAW,GACpCwzD,QAAS,WACTC,QAAS3D,IA1BDvoE,OAAAC,GAAA,EAAAD,CAAA,GA6BLwnE,GA7BK,CA8BR//C,gBAAiBu2C,KAAOC,qBAAqB8L,EAAS,GACtD/2B,YAAagrB,KAAOC,qBAAqB8L,EAAS,GAClDoC,qBAAsBpC,EACtBhuD,MAAOwtD,EACPtxD,KAAMywD,EAAaT,EAAMxvD,SAAW,GACpCwzD,QAAS,WACTC,QAASzD,MAKN2D,EAAe,CACpB3N,WAAW,EACXp0B,YAAY,EACZgiC,OAAQ,CACP9wC,QAAS,CACRlK,IAAK,KAGPi7C,WAAY,CACXC,YAAa,CACZ,CACC1kE,KAAM,OACNi2D,KAAM,WACN0O,QAAS,WAET55D,MAAOo3D,EACPh3B,YAAa6yB,KACbl+C,YAtHc,EAuHd8kD,WAAY,CAxHC,KAyHb1wD,MAAO,CACN+lB,QAAShiC,aAAE,OACX4sE,SAAS,EACT1xC,SAAU,SACV+iC,aAAc,EACdt2C,gBAAiBo+C,KACjBppC,SAjIoB,KAkIpBkwC,WAAY/E,OAMhBgF,qBAAqB,EACrBlgE,MAAO,CACN+sB,SAAS,EACT/F,KAAMgW,EAAQh9B,OAEf8xD,OAAQ,CACP/kC,SAAS,GAEVokC,SAAU,CACTp2C,gBAAiB,QACjBq2C,KAAM,QACN+O,WAAW,EACXC,cApJuB,KAqJvBC,aArJuB,KAsJvBC,eAAgBpF,GAChBqF,gBAAiBrF,GACjBsF,SAAU,EACVC,SAAU,EACVpP,aAAc,EACdqP,YAAa,EACbC,UAAW,EACXC,eAAe,EACf5O,UAAW,CACV3iD,MAAO,SAASjc,EAAG8tB,GAElB,IAAIm7C,EAASn7C,EAAEnV,SAAS3Y,EAAE6+D,cAAc5iD,MACpCwxD,EACHxE,IAAWM,EAAX,GAAAphE,OACMulE,aAA4B1tE,EAAEytE,QADpC,KAAAtlE,OAC+C4f,GAC5C2lD,aAA4B1tE,EAAEytE,QAClC,SAAAtlE,OAAU8gE,EAAV,MAAA9gE,OAAqBslE,MAIxBl1C,MAAO,CACNylC,KAAM,QACN+O,WAAW,GAGZvB,OAAQ,CACPmC,MAAO,CACN,CACCh0C,SAAS,EACTi0C,UAAW,CACVj0C,SAAS,EACTk0C,YAAY,EACZC,WAAW,GAEZC,WAAY,CACXp0C,SAAS,EACTq0C,YAAahuE,aAAEipE,GAAU,aACzBtsC,SA3LoB,KA4LpBkwC,WAAY/E,IAEbmG,MAAO,CACNC,UAAU,EACVC,cAAe,EACfC,YAAa,EACb3yC,SAAU,GACVkB,SAnMoB,KAoMpBkwC,WAAY/E,GACZuG,SAAU,iBAAM,OAInBC,MAAO,CACN,CAEC30C,SAAS,EACTi0C,UAAW,CACVj0C,SAAS,EACTk0C,YAAY,EACZC,WAAW,GAEZG,MAAO,CACNM,aAAa,EACbJ,cAAe,GACfK,SAAU,EACVxiC,IAAK,EACLt5B,IAAK,GACL27D,SAAU,iBAAM,KAEjBN,WAAY,CACXp0C,SAAS,GAEV5xB,KAAM,SACN3B,GAAI,2BAEL,CACCuzB,SAAS,EACTs0C,MAAO,CACNM,aAAa,GAEdxmE,KAAM,SACN3B,GAAI,YAEL,CACC2B,KAAM,SACN4xB,SAAS,EACTvzB,GAAI,WACJ6nE,MAAO,CACNM,aAAa,IAGf,CACCxmE,KAAM,SACN4xB,SAAS,EACTvzB,GAAI,WACJ6nE,MAAO,CACNM,aAAa,EAIbJ,cAAe,IAGjB,CACCpmE,KAAM,SACN4xB,SAAS,EACTvzB,GAAI,WACJ6nE,MAAO,CACNM,aAAa,OAOlB,OACC7wD,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK0D,OAAQquC,GACZltD,EAAA3e,EAAA4e,cAAC8gD,GAAA,EAAD,CACCliC,OAAQquC,EACRzyD,KAAMuM,EACNklB,QAAS0iC,EACTmC,QAAS,CAACC,OAGZhxD,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCc,QAAQ,OACRoB,cAAc,MACdC,eAAe,gBACfnB,WAAW,SACX80C,GAAI,EACJn8B,SAAS,QAET90B,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYH,UAAU,MAAMlL,QAAQ,UAAUsW,MAAM,QAClDwgC,EAAc,IAEhBprD,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYH,UAAU,MAAMlL,QAAQ,UAAUsW,MAAM,UAClDtoC,aAAEipE,GAAU,cAEdvrD,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYH,UAAU,MAAMlL,QAAQ,UAAUsW,MAAM,SAClDwgC,EAAc,iBElQQnhC,aAAW,SAAAlQ,GAAK,MAAK,CAChD0zC,QAAS,CACRxjD,gBAAiB8P,EAAMK,QAAQM,OAAOC,MACtChG,MAAO,sBACPu8C,UAAWn3C,EAAMo3C,QAAQ,GACzBlyC,SAAU,MALgBgL,CAOxB6G,MAPG,IASDsgC,GAAiBt3C,aAAW,SAAAC,GAAK,MAAK,CAC3C0zC,QAAS,CACRjwC,SAAU,WACVvT,gBAAiB8P,EAAMK,QAAQM,OAAO22C,OAEvCC,QA7DuB38C,EA6DAoF,EAAMK,QAAQM,OAAO22C,MA5DrC,CACNE,kCAAmC,CAClC19C,IAAK,EACL4J,KAAM,EACN8F,UAAW,UACXzE,MAAO,MACPD,OAAQ,MACR2yC,YAAa,CACZrnD,YAAa,gBACbqrB,YAAW,2BAAA/qC,OAA6BkqB,EAA7B,kBAGb88C,+BAAgC,CAC/B9zC,OAAQ,EACRF,KAAM,EACNiB,aAAc,UACdI,MAAO,MACPD,OAAQ,MACR2yC,YAAa,CACZrnD,YAAa,gBACbqrB,YAAW,GAAA/qC,OAAKkqB,EAAL,0CAGb+8C,iCAAkC,CACjCj0C,KAAM,EACN+G,WAAY,UACZ3F,OAAQ,MACRC,MAAO,MACP0yC,YAAa,CACZrnD,YAAa,gBACbqrB,YAAW,eAAA/qC,OAAiBkqB,EAAjB,8BAGbg9C,gCAAiC,CAChCj0C,MAAO,EACPwD,YAAa,UACbrC,OAAQ,MACRC,MAAO,MACP0yC,YAAa,CACZrnD,YAAa,gBACbqrB,YAAW,uCAAA/qC,OAAyCkqB,OAqBvDi9C,MAAO,CACNp0C,SAAU,WACVyB,SAAU,EACVuyC,YAAa,CACZltC,QAAS,KACTK,OAAQ,OACR1I,QAAS,QACT6C,MAAO,EACPD,OAAQ,EACRgzC,YAAa,WAvEhB,IAAwBl9C,IA4EjB,SAASm9C,GAAav/C,GAAO,IAAAw/C,EACLX,KAAtBQ,EAD2BG,EAC3BH,MAAUr2C,EADiB/4B,OAAAgY,EAAA,EAAAhY,CAAAuvE,EAAA,WAAAC,EAEHp5C,IAAMtD,SAAS,MAFZ28C,EAAAzvE,OAAAiR,EAAA,EAAAjR,CAAAwvE,EAAA,GAE5BE,EAF4BD,EAAA,GAElBE,EAFkBF,EAAA,GAInC,OACCjyD,EAAA3e,EAAA4e,cAAC6wB,GAAA,EAADtuC,OAAAk2B,OAAA,CACC6C,QAASA,EACT62C,YAAa,CACZC,cAAe,CACdC,UAAW,CACVV,MAAO,CACN1C,QAAS/sC,QAAQ+vC,GACjBK,QAASL,OAKT3/C,EAZL,CAaCrjB,MACC8Q,EAAA3e,EAAA4e,cAACD,EAAA3e,EAAM8+B,SAAP,KACE5N,EAAMrjB,MACP8Q,EAAA3e,EAAA4e,cAAA,QAAM+a,UAAW42C,EAAOj5C,IAAKw5C,QAWPloC,aAAW,SAAAlQ,GAAK,MAAK,CAC/C0zC,QAAS,CACRxjD,gBAAiB,UACjB0K,MAAO,sBACPoN,SAAU,IACV9C,SAAUlF,EAAMmF,WAAWC,QAAQ,IACnCwoB,OAAQ,uBANiB1d,CAQvB6G,MARG,ICxGDlU,GAAY9C,aAAW,SAAAC,GAC5B,MAAO,CACNQ,KAAM,CACLwE,OAAQ,UACRvB,SAAU,WACVvT,gBAAiB,SAAA/nB,GAAA,IAAAswE,EAAAtwE,EAAGuwE,eAAH,IAAAD,EAAa,GAAbA,EAAA,OACfz4C,EAAMK,QAAQq4C,IAAY,IAAIn4C,MAAQP,EAAMK,QAAQH,WAAWsK,SACjE5P,MAAO,SAAA/xB,GAAA,IAAA8vE,EAAA9vE,EAAG6vE,eAAH,IAAAC,EAAa,GAAbA,EAAA,OACL34C,EAAMK,QAAQq4C,IAAY,IAAI51C,cAC/B9C,EAAMK,QAAQlE,KAAKmE,UAErBs4C,SAAU,CACTnvC,SAAU,GAEXovC,SAAU,CACTC,mBAAoB,CACnB9zC,OAAQ,YAGVgN,SAAU,CACTpO,OAAQ,EACRF,KAAM,EACND,SAAU,WACVsB,MAAO,QAERg0C,eAAgB,CACfn+C,MAAOoF,EAAMK,QAAQM,OAAOC,MAC5B6C,SAAU,WACV3J,IAAKkG,EAAM4E,QAAQ,IACnBjB,MAAO3D,EAAM4E,QAAQ,IACrBg5B,QAAS,QAqFGob,GAhFG,SAAAxgD,GAAS,IAEzBrjB,EASGqjB,EATHrjB,MACAk1D,EAQG7xC,EARH6xC,SACAwO,EAOGrgD,EAPHqgD,SACAx9C,EAMG7C,EANH6C,SACAP,EAKGtC,EALHsC,QACA49C,EAIGlgD,EAJHkgD,QACAz2C,EAGGzJ,EAHHyJ,QACAg3C,EAEGzgD,EAFHygD,QACAC,EACG1gD,EADH0gD,YAGK13C,EAAUqB,GAAU,CAAE61C,UAASQ,gBAE/BC,EAAQD,EAAWjhC,GAAA,EAAAmhC,GAAA,EAEzB,OACCnzD,EAAA3e,EAAA4e,cAAAkb,EAAA,GACC6G,SAAS,SACT1f,EAAG,EACHgS,QAAQ,WACR0G,UAAWyE,KAAWlE,EAAQhB,KAAT/3B,OAAAs9B,EAAA,EAAAt9B,CAAA,GACnB+4B,EAAQq3C,WAAaA,IAEvB/9C,QAASA,EACToH,QAAQ,OACRoB,cAAc,SACdC,eAAe,SACfosB,aAAa,UACb5U,SAAS,OACTtR,SAAU,GAEVxjB,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCc,QAAQ,OACRoB,cAAc,MACdC,eAAe,aACfwX,SAAS,OACT3Y,WAAW,SACX4J,GAAI,GAEHlR,GAAW7U,EAAA3e,EAAA4e,cAACizD,EAAD,CAAOl4C,UAAWO,EAAQu3C,eAAgBl+C,KAAK,UAC1D1lB,GACA8Q,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,KAAKwR,QAAM,GAC7B52B,IAKHk1D,IACC4O,EACAhzD,EAAA3e,EAAA4e,cAAC6xD,GAAD,CACC5iE,MACC8Q,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYH,UAAU,MAAMlL,QAAQ,WAClC0+C,IAIHhzD,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYH,UAAU,OACpB4kC,EADF,IACYpkD,EAAA3e,EAAA4e,cAAAg2B,GAAA,GAAMhV,MAAO,CAAEhC,SAAU,QAItCjf,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYH,UAAU,OAAO4kC,IAE9BhvC,GAGD4G,GAAWhc,EAAA3e,EAAA4e,cAAC6b,GAAA,EAAD,CAAgBd,UAAWO,EAAQwQ,wBCjHrC3I,GAAS,SAAArJ,GACrB,MAAO,CACNi0B,wBAAyB,CACxBr5B,MAAOoF,EAAMK,QAAQM,OAAOC,OAE7BszB,wBAAyB,CACxBt5B,MAAOoF,EAAMK,QAAQM,OAAOC,MAC5BuzB,mCAAoC,CACnCv5B,MAAOoF,EAAMK,QAAQM,OAAOC,QAG9BwzB,+BAAgC,GAChCC,4BAA6B,CAC5BC,UAAW,CAEV1G,OAAQ,gBAET2G,WAAY,CACX3G,OAAQ,iBAGVyrB,WAAY,CACX51C,SAAU,YAEX61C,IAAK,CACJv0C,MAAO,GACPD,OAAQ,GACRI,SAAUlF,EAAMmF,WAAWoH,QAAQrH,SACnC0F,OAAQ,QACRhQ,MAAO,WAER2+C,mBAAoB,CACnB91C,SAAU,WACV3J,IAAK,EACL8J,OAAQ,EACRF,KAAM,MACNC,MAAO,MACPiqB,OAAM,aAAAl9C,OAAesvB,EAAMK,QAAQgD,UAAU9C,MAC7Ci5C,aAAc,OAEfC,mBAAoB,CACnB7+C,MAAOoF,EAAMK,QAAQlE,KAAK9T,UAE3BqxD,4BAA6B,CAC5B9+C,MAAO,WAER++C,UAAW,CACVz5C,WAAYF,EAAMK,QAAQC,QAAQC,KAClC3F,MAAOoF,EAAMK,QAAQM,OAAOC,OAE7Bg5C,eAAgB,CACfC,OAAQ,YACRC,oBAAqB,MACrBC,uBAAwB,OAEzBC,aAAc,CACbH,OAAQ,YACRI,qBAAsB,MACtBC,wBAAyB,OAE1BC,YAAa,CACZv/C,MAAO,sBACPw/C,cAAe,UC/CZpnB,GAAmB,SAAA7qD,GAAA,IAAA8qD,EAAA9qD,EACxB08B,YADwB,IAAAouB,EACjBhtC,EAAA3e,EAAA4e,cAAA0mD,GAAA,QADiB3Z,EAExBE,EAFwBhrD,EAExBgrD,UACAC,EAHwBjrD,EAGxBirD,YACAE,EAJwBnrD,EAIxBmrD,YACAD,EALwBlrD,EAKxBkrD,YALwB,OAOxBptC,EAAA3e,EAAA4e,cAACi4B,GAAA,EAAD,CAAgB1a,SAAS,OACxBxd,EAAA3e,EAAA4e,cAACwU,EAAA,EAAD,CAAYE,MAAOu4B,EAAWr4B,QAASs4B,EAAav4B,KAAK,SACvDgK,GAEDwuB,GACAptC,EAAA3e,EAAA4e,cAACwU,EAAA,EAAD,CAAYE,MAAOu4B,EAAWr4B,QAASu4B,EAAax4B,KAAK,SACxD5U,EAAA3e,EAAA4e,cAAAqtC,GAAA,SAGDD,GACArtC,EAAA3e,EAAA4e,cAACwU,EAAA,EAAD,CAAYE,MAAOu4B,EAAWr4B,QAASw4B,EAAaz4B,KAAK,SACxD5U,EAAA3e,EAAA4e,cAAAstC,GAAA,WAMS6mB,GAAb,SAAA9hD,GAAA,SAAA8hD,IAAA,OAAA5xE,OAAAiwB,EAAA,EAAAjwB,CAAAkwB,KAAA0hD,GAAA5xE,OAAAmwB,EAAA,EAAAnwB,CAAAkwB,KAAAlwB,OAAAowB,EAAA,EAAApwB,CAAA4xE,GAAAl/D,MAAAwd,KAAApxB,YAAA,OAAAkB,OAAA4wB,EAAA,EAAA5wB,CAAA4xE,EAAA9hD,GAAA9vB,OAAA6wB,EAAA,EAAA7wB,CAAA4xE,EAAA,EAAAvuD,IAAA,SAAAzQ,MAAA,WACU,IAAAyiB,EAUJnF,KAAKH,MARRk7B,EAFO51B,EAEP41B,aACA7uB,EAHO/G,EAGP+G,KACAsuB,EAJOr1B,EAIPq1B,UACAC,EALOt1B,EAKPs1B,YACAE,EANOx1B,EAMPw1B,YACAD,EAPOv1B,EAOPu1B,YACAM,EARO71B,EAQP61B,YACGnzC,EATI/X,OAAAgY,EAAA,EAAAhY,CAAAq1B,EAAA,6FAWR,OACC7X,EAAA3e,EAAA4e,cAACo0D,GAAA,EAAD7xE,OAAAk2B,OAAA,CACC4e,WAAY,CACXl1B,SAAU7H,EAAK6H,SACf61B,aAAcwV,EACbztC,EAAA3e,EAAA4e,cAACq0D,GAAD,CACC11C,KAAMA,EACNsuB,UAAWA,EACXC,YAAaA,EACbE,YAAaA,EACbD,YAAaA,IAEX,KACJU,eAAgBJ,EACf1tC,EAAA3e,EAAA4e,cAACi4B,GAAA,EAAD,CAAgB1a,SAAS,SACxBxd,EAAA3e,EAAA4e,cAACwU,EAAA,EAAD,CAAYE,MAAOu4B,EAAWr4B,QAAS64B,EAAa94B,KAAK,SACxD5U,EAAA3e,EAAA4e,cAAA8tC,GAAA,UAGC,OAEDxzC,QAjCR65D,EAAA,CAAgCr/C,aAkEEkV,aAAW7G,GAAX6G,CAzBT,SAAArnC,GAA8C,IAA3C24B,EAA2C34B,EAA3C24B,QAASkyB,EAAkC7qD,EAAlC6qD,aAAc7uB,EAAoBh8B,EAApBg8B,KAASrkB,EAAW/X,OAAAgY,EAAA,EAAAhY,CAAAI,EAAA,mCACtE,OACCod,EAAA3e,EAAA4e,cAACs0D,GAAD/xE,OAAAk2B,OAAA,CACC81B,gBAAiB,CAChBjzB,QAAS,CACRhB,KAAMgB,EAAQ0yB,yBAEfQ,iBAAkB,CACjBl0B,KAAMgB,EAAQ0yB,wBACdS,QAASnzB,EAAQ4yB,iCAGnB7W,WAAY,CACXl1B,SAAU7H,EAAK6H,SACfmZ,QAAS,CACRhB,KAAMgB,EAAQyyB,wBACdW,UAAWpzB,EAAQ6yB,6BAEpBnW,aAAcwV,EAAeztC,EAAA3e,EAAA4e,cAACq0D,GAAD,CAAkB11C,KAAMA,IAAW,OAE7DrkB,MAgEA,IAAMi6D,GAAmBvqC,aAAW7G,GAAX6G,CAzDhC,SAAAlnC,GAAoD,IAApBw4B,EAAoBx4B,EAApBw4B,QAAYhhB,EAAQ/X,OAAAgY,EAAA,EAAAhY,CAAAO,EAAA,aAY7C0xE,EAAc,SAAAtpE,GAAI,OAAIyiD,KAAM8mB,QAAQvpE,EAAMyiD,KAAMziD,SAkCtD,OACC6U,EAAA3e,EAAA4e,cAACs0D,GAAD/xE,OAAAk2B,OAAA,CACCna,MAAM,cACNo2D,UAnC2B,SAACxpE,EAAMypE,EAAcC,GAAsB,IAAAvb,EAAAwb,EACnEC,EAAYC,aAAiB7pE,GAC7B8pE,EAAoBD,aAAiBJ,GAEnC5pE,EAAQ4iD,KAAMsnB,YAAYD,GAC1B7pE,EAAMwiD,KAAMunB,UAAUF,GAEtBG,EAAexnB,KAAMynB,iBAAiBN,EAAW,CAAE/pE,QAAOI,QAC1DkqE,EAAa1nB,KAAM2nB,UAAUR,EAAW/pE,GACxCwqE,EAAY5nB,KAAM2nB,UAAUR,EAAW3pE,GAEvCqqE,EAAmBjc,cAAIF,EAAA,GAAA92D,OAAAs9B,EAAA,EAAAt9B,CAAA82D,EAC3B/9B,EAAQm4C,UAAY0B,GADO5yE,OAAAs9B,EAAA,EAAAt9B,CAAA82D,EAE3B/9B,EAAQo4C,eAAiB2B,GAFE9yE,OAAAs9B,EAAA,EAAAt9B,CAAA82D,EAG3B/9B,EAAQw4C,aAAeyB,GAHIlc,IAMvBoc,EAAelc,aAAKj+B,EAAQ83C,KAATyB,EAAA,GAAAtyE,OAAAs9B,EAAA,EAAAt9B,CAAAsyE,EACvBv5C,EAAQi4C,oBAAsBqB,GADPryE,OAAAs9B,EAAA,EAAAt9B,CAAAsyE,EAEvBv5C,EAAQk4C,6BAA+BoB,GAAqBO,GAFrC5yE,OAAAs9B,EAAA,EAAAt9B,CAAAsyE,EAGvBv5C,EAAQ24C,YAAcO,EAAYM,IAHXD,IAMzB,OACC90D,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWy6C,GACfz1D,EAAA3e,EAAA4e,cAACwU,EAAA,EAAD,CAAYuG,UAAW06C,GACtB11D,EAAA3e,EAAA4e,cAAA,gBAAQ2tC,KAAM9wC,OAAOi4D,EAAW,KAAhC,QAUFY,UAjD4B,SAACxqE,EAAMyqE,GACpC,IAAIb,EAAYC,aAAiB7pE,GAEjC,OAAO4pE,GAAannB,KAAMioB,QAAQd,GAA3B,GAAAtqE,OACDmjD,KAAM9wC,OAAOi4D,EAAW,cADvB,OAAAtqE,OAC0CmjD,KAAM9wC,OACpD8wC,KAAMkoB,QAAQf,EAAW,GACzB,eAEAa,GA0CFG,kBAAmB,SAAA5qE,GAAI,OAAIspE,EAAYtpE,KACnCoP,MC/JM6oB,GAAS,SAAArJ,GACrB,IAAM4E,EAAU5E,EAAM4E,QAAQ,GAE9B,MAAO,CACNq3C,mBAAoB,CACnB/5C,QAAS,OACToB,cAAe,MACfyX,SAAU,OACVxX,eAAgB,UAChBuB,OAAQ,QAET8zC,SAAU,CACThuC,OAAQhG,EACR6E,SAAU,GAEXovC,SAAU,CACTC,mBAAoB,CACnB9zC,OAAQ,YAGVk3C,kBAAmB,CAClBtxC,OAAQhG,EACRZ,QAASY,EACTG,MAAK,eAAAr0B,OAA2B,EAAVk0B,EAAjB,QAENu3C,SAAU,CACT14C,SAAU,WACVG,OAAQ,QACRD,MAAO,QACPuB,SAAU,QACV04B,QAAS,OACTwe,UAAW,iBACXhC,cAAe,UC9BX,SAASiC,GAAYC,GAAW,IAAAhhD,EACFC,oBAAS,GADPC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GAC/BihD,EAD+B/gD,EAAA,GACnBghD,EADmBhhD,EAAA,GAIhCihD,EAAc,SAAA78C,GACfA,EAAG9T,MAAQwwD,IACd18C,EAAG1B,iBACHs+C,GAAc,KAKVE,EAAY,SAAA98C,GACbA,EAAG9T,MAAQwwD,IACd18C,EAAG1B,iBACHs+C,GAAc,KAahB,OATAlgD,oBAAU,WAGT,OAFAinB,OAAOyvB,iBAAiB,UAAWyJ,GACnCl5B,OAAOyvB,iBAAiB,QAAS0J,GAC1B,WACNn5B,OAAO0vB,oBAAoB,UAAWwJ,GACtCl5B,OAAO0vB,oBAAoB,QAASyJ,KAEnC,CAACD,EAAaC,IAEVH,gBC+BFI,GAAa,CAClBC,KAHW,IAIXtD,IAAK,IACLuD,KAAM,MAGDC,GAAaC,KAA+B9zE,IAAI,SAAA+zE,GACrD,IAAMhqD,EAAUvqB,OAAAC,GAAA,EAAAD,CAAA,GAAQu0E,GAExB,OADAhqD,EAAWxO,MAAQjc,aAAEy0E,EAAGx4D,OACjBwO,IAGFiqD,GAAU,CACf73D,UAAW,CACV,CACCZ,MAAOjc,aAAE,qBACT8S,MAAO,cACPuf,MAAOsiD,MAER,CACC14D,MAAOjc,aAAE,gBACT8S,MAAO,cACPuf,MAAO9N,MAER,CACCtI,MAAOjc,aAAE,iBACT8S,MAAO,eACPuf,MAAOuiD,MAER,CACC34D,MAAOjc,aAAE,YACTqyB,MAAO0zC,OAGTh5C,WAAY,CACX,CACC9Q,MAAOjc,aAAE,qBACT8S,MAAO,cACPuf,MAAOsiD,MAER,CACC14D,MAAOjc,aAAE,gBACT8S,MAAO,cACPuf,MAAO9N,MAER,CACCtI,MAAOjc,aAAE,eACT8S,MAAO,eACPuf,MAAOwiD,MAER,CACC54D,MAAOjc,aAAE,YACTqyB,MAAO0zC,QAKJ+O,GAAmB,SAAAl1E,GAAA,IAAG8I,EAAH9I,EAAG8I,MAAOI,EAAVlJ,EAAUkJ,IAAV,MAAoB,CAC5C4P,aAAehQ,GACfgQ,aAAe5P,KAGVisE,GAAmB,SAAAz0E,GAA4B,IAAzBkO,EAAyBlO,EAAzBkO,UAAcyJ,EAAW/X,OAAAgY,EAAA,EAAAhY,CAAAI,EAAA,eACpD,OAAQkO,GACP,IAAK,OACJ,OAAOkP,EAAA3e,EAAA4e,cAACu0D,GAAqBj6D,GAC9B,IAAK,MACJ,OACCyF,EAAA3e,EAAA4e,cAACs0D,GAAD/xE,OAAAk2B,OAAA,CACCi9C,UAAW,SAAAlqE,GAAG,OAAIR,KAAU6R,OAAO7R,KAAUE,KAAKM,GAAM,gBACpD8O,IAGP,IAAK,OACJ,OACCyF,EAAA3e,EAAA4e,cAAC8wC,GAADvuD,OAAAk2B,OAAA,CACC4+C,MAAO,CAAC,OAAQ,SAChB3pB,WAAS,EACT4pB,YAAa,GACb5B,UAAW,SAAAlqE,GAAG,SAAAhB,OACVQ,KAAU6R,OACZ7R,KAAUE,KAAKM,GACf,uBAHY,OAAAhB,OAINQ,KAAU6R,OAChB7R,KAAU+R,WAAW/R,KAAUE,KAAKM,GAAM,IAC1C,aAGE8O,IAGP,QACC,OAAOyF,EAAA3e,EAAA4e,cAACs0D,GAAeh6D,KAIpBi9D,GAAmB,SAAAz0E,GAAA,IAAA00E,EAAA10E,EAAGmK,mBAAH,IAAAuqE,EAAiB,EAAjBA,EAAA,OACxBz3D,EAAA3e,EAAA4e,cAAAmU,EAAA,GACCE,QAAQ,WACRD,SAAS,OACTH,QAAS,WACR0F,YAAQ89C,cAAsC,MAG/C13D,EAAA3e,EAAA4e,cAAA,WACE3d,aAAE,+BAAgC,CAClCyJ,KAAM,CACLmB,EACA8S,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACC2F,IAAI,2BACJ8O,MAAM,UACNg6B,UAAU,SACVluB,OAAO,SACPtgB,KACC,sGAGAH,EAAA3e,EAAA4e,cAAA,cAAS3d,aAAE,sBAQX,SAASq1E,KACf,IACMp8C,EADYzB,aAAWsJ,GACbxG,GACVg7C,EAAQxB,GAAY,KACpByB,EAAazB,GAAY,aACzB0B,EAAc1B,GAAY,cACxB/rD,EAAWqL,YAAYzyB,MAAvBonB,OACF0tD,EAASriD,YAAY,SAAA/zB,GAAK,OAAI0C,YAAW1C,KAPnB+jD,EAQLhwB,YAAY7qB,MAA3BG,EARoB06C,EAQpB16C,MAAOI,EARas6C,EAQbt6C,IACT0F,EAAY4kB,YAAYhrB,MACxBstE,EAAStiD,YAAYruB,MACrBE,EAAOmuB,YAAYlrB,KAXG6qB,EAYJC,qBAZIC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GAYrBiU,EAZqB/T,EAAA,GAYf0iD,EAZe1iD,EAAA,GAatB2iD,EAAoBxiD,YAAY,SAAA/zB,GAAK,OAC1CoI,aAA8BpI,EAAO,iBAEhCw2E,EAAqBziD,YAAY,SAAA/zB,GAAK,OAC3CoI,aAA8BpI,EAAO,uBAEhC29D,EAAc5pC,YAAY,SAAA/zB,GAAK,OACpCoI,aAA8BpI,EAAO,cAEhCsI,EACLiuE,GAAqBC,GAAsB7Y,EACtC8Y,EAA+B1iD,YACpCvsB,MAzB2BknC,EA2BU/a,oBAAS,GA3BnBgb,EAAA9tC,OAAAiR,EAAA,EAAAjR,CAAA6tC,EAAA,GA2BrBs6B,EA3BqBr6B,EAAA,GA2BR+nC,EA3BQ/nC,EAAA,GAAA2K,EA4BU3lB,oBAAS,GA5BnB4lB,EAAA14C,OAAAiR,EAAA,EAAAjR,CAAAy4C,EAAA,GA4BrB4vB,EA5BqB3vB,EAAA,GA4BRo9B,EA5BQp9B,EAAA,GAAAE,EA6BU9lB,oBAAS,GA7BnB+lB,EAAA74C,OAAAiR,EAAA,EAAAjR,CAAA44C,EAAA,GA6BrB2vB,EA7BqB1vB,EAAA,GA6BRk9B,EA7BQl9B,EAAA,GAAAE,EA8BUjmB,oBAAS,GA9BnBkmB,EAAAh5C,OAAAiR,EAAA,EAAAjR,CAAA+4C,EAAA,GA8BrB0vB,EA9BqBzvB,EAAA,GA8BRg9B,EA9BQh9B,EAAA,GAgCtB4vB,EAAgBgM,GAAiB,CAAEpsE,QAAOI,QAE1C+O,EAAmBub,YAAY,SAAA/zB,GAAK,OACzCiX,aAAuBjX,EAAO,CAC7B4F,OACAuJ,gBAII4X,EAAcgN,YAAY,SAAA/zB,GAAK,OACpCqX,aAAkBrX,EAAO,CACxB4F,OACAuJ,gBAIIoJ,EAAawb,YAAY,SAAA/zB,GAAK,OACnCwX,aAAiBxX,EAAO,CACvB4F,OACAuJ,gBAIIkV,EAAa0P,YAAY,SAAA/zB,GAAK,OACnCoY,YAAiBpY,EAAO,CACvB4F,OACAuJ,gBAIIqL,EAAUuZ,YAAY,SAAA/zB,GAAK,OAChCia,aAA6Bja,EAAO,CAAE4F,OAAMuJ,gBAGvC5D,EAAcwoB,YAAY,SAAA/zB,GAAK,OACpC2Z,aAAiC3Z,EAAO,CAAE4F,OAAMuJ,gBAG3C9D,EAAS0oB,YAAY,SAAA/zB,GAAK,OAC/B8Z,aAA4B9Z,EAAO,CAAE4F,OAAMuJ,gBAGtCoyD,GAAMxtC,YAAY,SAAA/zB,GAAK,OAC5Boa,aAAyBpa,EAAO,CAAE4F,OAAMuJ,gBAGnC2nE,GAAS,WACd7+C,YAAQ8+C,aAAkC,CAAE1gD,MAAM,MAG7C2gD,GAAS,WACd/+C,YAAQ8+C,aAAkC,CAAE1gD,MAAM,MAG7C4gD,GAAS,WACdh/C,YAAQ8+C,aAAkC,CAAEG,MAAM,MAGnDxiD,oBAAU,WACTuhD,GAASgB,KACTd,GAAeW,KACfZ,GAAcc,MACZ,CAACd,EAAYC,EAAaF,IAE7BvhD,oBAAU,WACLpsB,GAAqB1C,GAAQuJ,GAAa9F,GAC7C4uB,YAAQk/C,iBAEP,CAAC7uE,EAAmB1C,EAAMuJ,EAAW9F,IAExCqrB,oBAAU,WACLpsB,GAAqB1C,GACxBqxE,MAEC,CAAC3uE,EAAmB1C,IAEvB8uB,oBAAU,WAET,OADApsB,GAAqBq/B,GAAQA,EAAKt+B,QAC3B,WACNs+B,GAAQA,EAAKnR,SAEZ,CAACluB,EAAmBq/B,IAEvBjT,oBAAU,WACTiT,GAAQA,EAAKnR,OACb8/C,EACCc,aAAoB,CACnB9kD,QAASyiD,GAAW5lE,GACpBkoE,WAAU,eAAAC,EAAAz2E,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAE,SAAA8nB,IAAA,OAAA/nB,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,OACX/E,WAAUzwB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KACT,SAAAC,IAAA,OAAAF,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,UAAAD,EAAAmhD,GACCnB,GADDhgD,EAAAmhD,GAAA,CAAAnhD,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EACkB4B,YAAQk/C,gBAD1B,OAAA/gD,EAAAmhD,GAAAnhD,EAAAwxB,KAAA,cAAAxxB,EAAAohD,OAAA,SAAAphD,EAAAmhD,IAAA,wBAAAnhD,EAAAI,SAAAR,MAEA++C,GAAW5lE,GACTH,KAAKC,MAAQ8lE,GAAW5lE,GACzB,KANS,wBAAA2uC,EAAAtnB,SAAAqnB,MAAF,yBAAAy5B,EAAA/jE,MAAAwd,KAAApxB,YAAA,OAYV,CAACwP,EAAWinE,IAEf,IAAM7M,KACHjhE,GACF,CACCiD,EAAY4N,OAAO5N,EAAY4N,OAAOvZ,OAAS,GAC/C4a,EAAQrB,OAAOqB,EAAQrB,OAAOvZ,OAAS,IACtC6I,MAAM,SAAA2E,GAAC,QAAMA,GAAKA,IAAM/B,EAAO8N,OAAO9N,EAAO8N,OAAOvZ,OAAS,MAC/D,CAAC4Y,EAAkBD,EAAY8L,EAAY0C,GAAate,MACvD,SAAA2E,GAAC,OAAU,OAANA,IAGDqqE,IACJhB,GACU,cAAXJ,GACA9M,MACE/wD,EAEH,OACC69D,GACCh4D,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKc,QAAQ,OAAOoB,cAAc,MAAMyX,SAAS,QAChD90B,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKc,QAAQ,OAAOoB,cAAc,MAAMyX,SAAS,OAAOtR,SAAU,GACjExjB,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7O,EAAG,EAAG8P,GAAI,EAAGoH,SAAS,KAC1BxjB,EAAA3e,EAAA4e,cAAC+lC,GAAD,CACC1S,WAAS,EACThf,QAAQ,WACR/V,MAAOjc,aAAE,oBAETk5B,SAAU,SAAA/vB,GAETmuB,YAAQy/C,aAAoC5tE,KAE7C0V,OAAQ01D,GACRzhE,MAAOtE,EACP4zC,OAAO,sBAGT1kC,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7O,EAAG,EAAG8P,GAAI,EAAGoH,SAAS,KAC1BxjB,EAAA3e,EAAA4e,cAACq5D,GAAD,CACCxoE,UAAWA,EACXsE,MAAOpK,EACPusE,YAAa,GACb/7C,SAAU,SAAA/vB,GACTmuB,YAAQ2/C,aAAiC9tE,KAE1C+tE,eAAa,EACbvoB,aAAa,WACb3d,WAAS,EACTma,cAAY,EACZlvC,MAAOjc,aAAE,oBACT0S,IAAKrE,KAAKC,MAEV6oE,eAAgBn3E,aAAE,kBAClBo3E,oBAAkB,EAClBhsB,YAAa,SAAA9zC,GACZA,EAAEse,kBACFygD,MAEDvrB,YAAa,SAAAxzC,GACZA,EAAEse,kBACF0gD,MAEDvrB,YAAa,SAAAzzC,GACZA,EAAEse,kBACFugD,UAKJz4D,EAAA3e,EAAA4e,cAAC05D,GAAD,CACClH,QAAQ,UACRrO,SAAU9hE,aAAE,2BACZ05B,SAAUkvC,GACVh8D,MAAK,GAAAzE,OAAK62D,aAAuBnnD,GAAoB,IACrD64D,QAAS1wE,aAAE,6BACXuyB,QAAS,kBAAMwjD,GAAgB1N,IAC/BsI,YAAatI,GAEb3qD,EAAA3e,EAAA4e,cAAA+xB,GAAA,GAAYhX,UAAWO,EAAQ26C,YAEhCl2D,EAAA3e,EAAA4e,cAAC05D,GAAD,CACClH,QAAQ,YACRrO,SAAU9hE,aAAE,sBACZ0wE,QAAS1wE,aAAE,wBACX05B,SAAUkvC,GACVh8D,MAAK,GAAAzE,OAAK62D,aAAuB54C,GAAe,GAA3C,MAAAje,OAAkD0Q,WACrDuN,EAAcvO,EAAoB,KAAO,GACzCmC,QAAQ,GAFL,OAAA7R,OAEanI,aAAE,aAFf,KAGLuyB,QAAS,kBAAMyjD,GAAgBzN,IAC/BoI,YAAapI,GAEb7qD,EAAA3e,EAAA4e,cAAA25D,GAAA,GAAO5+C,UAAWO,EAAQ26C,YAEf,eAAX8B,GACAh4D,EAAA3e,EAAA4e,cAAC05D,GAAD,CACClH,QAAQ,YACRrO,SAAU9hE,aAAE,qBACZ0wE,QAAS1wE,aAAE,sBAAuB,CAAEyJ,KAAM,CAACse,KAC3Cnb,MAAK,KAAAzE,OAAO62D,aACXnmD,WAAWjB,GAAc,GAAGoC,QAAQ,IADhC,KAAA7R,OAEA4f,GACL2R,SAAUkvC,GACVr2C,QAAS,kBAAM0jD,GAAgBxN,IAC/BkI,YAAalI,GAEb/qD,EAAA3e,EAAA4e,cAAA45D,GAAA,GAAgB7+C,UAAWO,EAAQ26C,YAIzB,cAAX8B,GACAh4D,EAAA3e,EAAA4e,cAAC05D,GAAD,CACClH,QAAQ,YACRrO,SAAU9hE,aAAE,uBACZ0wE,QAAS1wE,aAAE,yBACX4M,MAAK,KAAAzE,OAAO62D,aACXnmD,WAAWjB,GAAc,GAAGoC,QAAQ,IADhC,KAAA7R,OAEA4f,GACL2R,SAAUkvC,GACVr2C,QAAS,kBAAM0jD,GAAgBxN,IAC/BkI,YAAalI,GAEb/qD,EAAA3e,EAAA4e,cAAA45D,GAAA,GAAgB7+C,UAAWO,EAAQ26C,YAGrCl2D,EAAA3e,EAAA4e,cAAC05D,GAAD,CACClH,QAAQ,OACRrO,SAAU9hE,aAAE,iBACZ0wE,QAAS1wE,aAAE,mBACX05B,SAAUkvC,GACVh8D,MAAK,KAAAzE,OAAO62D,aACXnmD,WAAW6K,GAAc,GAAG1J,QAAQ,IADhC,KAAA7R,OAEA4f,EAFA,UAGLwK,QAAS,kBAAM2jD,GAAgBvN,IAC/BgI,YAAahI,GAEbjrD,EAAA3e,EAAA4e,cAAA65D,GAAA,GAAW9+C,UAAWO,EAAQ26C,aAI/BkD,IACAp5D,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7O,EAAG,GACPtM,EAAA3e,EAAA4e,cAAC85D,GAAD,CAAkB7sE,YAAaiN,KAGjC6F,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,GACRxgC,EAAA3e,EAAA4e,cAAC+5D,GAAD,CACChvE,MAAOA,EACPI,IAAKA,EACL0F,UAAWA,EACXo7B,QAAS,CACRh9B,OACE2nE,GAAW/nE,KAAK,SAAAzN,GAAC,OAAIA,EAAE+T,QAAUtE,KAAc,IAAIyN,OAAS,IAE/D6sD,cAAeA,EACfd,MAAOp9D,EACPq9D,MAAOv9D,EACPw9D,MAAOruD,EACPsuD,MAAOvH,GACPyH,YAAaA,EACbE,YAAaA,EACbE,YAAaA,EACbE,YAAaA,EACbC,WAAYA,GACZO,QAASuL,GAAQgB,GAAQ,GAAGz5D,MAC5B0tD,QAAS+K,GAAQgB,GAAQ,GAAGrjD,MAC5Bg3C,QAASqL,GAAQgB,GAAQ,GAAGz5D,MAC5B4tD,QAAS6K,GAAQgB,GAAQ,GAAGrjD,MAC5Bk3C,QAASmL,GAAQgB,GAAQ,GAAGz5D,MAC5B8tD,QAAS2K,GAAQgB,GAAQ,GAAGrjD,MAC5Bo3C,QAASiL,GAAQgB,GAAQ,GAAGz5D,MAC5BguD,QAASyK,GAAQgB,GAAQ,GAAGrjD,UCje3B,IAAMslD,GAA2B,SAAA/3E,GAAc,IAAXoQ,EAAWpQ,EAAXoQ,KAC1C,OACC0N,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,EAAG1c,GAAI,EAAG80B,GAAI,GACpC/hD,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACC3Z,KAAM,UACN/hC,MAAO4F,aAAe1I,EAAK8R,SAC3B7F,MAAOjc,aAAE,UAAW,CAAEuJ,QAAQ,QAIjCmU,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,EAAG1c,GAAI,EAAG80B,GAAI,GACpC/hD,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACC3Z,KAAM,aACN/hC,MAAO4F,aAAe1I,EAAK+R,YAC3B9F,MAAOjc,aAAE,aAAc,CAAEuJ,QAAQ,QAIpCmU,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,EAAG1c,GAAI,EAAG80B,GAAI,GACpC/hD,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAC6wC,GAAD,CACC3Z,KAAM,aACN/hC,MAAO4F,aAAe1I,EAAK+R,YAC3B9F,MAAOjc,aAAE,aAAc,CAAEuJ,QAAQ,QAKpCmU,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAC03D,GAAD,CAAYptE,WAAY+H,EAAK5J,SC8LnB+G,OA/Lf,SAAAvN,GAA6B,IAATq2B,EAASr2B,EAATq2B,MAASlD,EACIC,mBAAS,GADbC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GACrBukC,EADqBrkC,EAAA,GACXskC,EADWtkC,EAAA,GAAA2kD,EAEGr/B,GAAQ,CACtCvuC,SAAU,WACVisB,QACAuiB,SAAUprC,YACVqrC,oBAAqBo/B,OAJd7nE,EAFoB4nE,EAEpB5nE,KAASikC,EAFW/zC,OAAAgY,EAAA,EAAAhY,CAAA03E,EAAA,UAQtBE,EAAa1kD,YAAY,SAAA/zB,GAAK,OACnCoI,aAA8BpI,EAAO,uBAGhCoL,EAAW,IAAI2C,YAAc4C,GAC3BuR,GAAsB9W,EAAS6W,QAAU,IAAzCC,kBACF2sC,EAASzjD,EAASqW,KAAKgsC,WAAW,GAClCqB,EAAW1jD,EAASqW,KAAKgsC,WAAW,GACpC7kD,EAAawC,EAASrE,GAhBA2xE,EAiBJ/nE,EAAhBsR,cAjBoB,IAAAy2D,EAiBX,GAjBWA,EAkBtB/X,EACL1+C,EAAOxF,MACP,CAAC,QAAS,SAAU,aAAazL,SAASiR,EAAOxF,OACpB,WAA7BwF,EAAOC,kBAEFw+C,EAAwC,WAA7Bz+C,EAAOC,kBAUxB,OARAwS,oBAAU,WAGT,OAFAuD,YAAQ0gD,aAAe,aAAc/vE,IAE9B,WACNqvB,YAAQ0gD,aAAe,kBAAc94E,MAEpC,CAAC+I,IAGHyV,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAACs6D,GAAD,KACCv6D,EAAA3e,EAAA4e,cAAAqb,GAAA,GACClmB,MAAOwkD,EACPp+B,SAAU,SAAC7B,EAAI/O,GAAL,OAAeivC,EAAYjvC,IACrC0J,QAAQ,aACRwlC,cAAc,OACdC,eAAe,UACft+B,UAAU,WAEVzb,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKnd,MAAOjc,aAAE,mBACd0d,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKnd,MAAOjc,aAAE,uBACd0d,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKnd,MAAOjc,aAAE,mBACd0d,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKnd,MAAOjc,aAAE,mBACd0d,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKnd,MAAOjc,aAAE,qBACd0d,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKnd,MAAOjc,aAAE,oBACd0d,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKnd,MAAOjc,aAAE,gBACb,CAAC,SAAU,aAAaqQ,SAASkR,IACjC7D,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKnd,MAAOjc,aAAE,eAIjB0d,EAAA3e,EAAA4e,cAACu6D,GAAmBjkC,GACpBv2B,EAAA3e,EAAA4e,cAACw6D,GAAD,KACe,IAAb7gB,GACA55C,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAACy6D,GAADl4E,OAAAk2B,OAAA,CACCpmB,KAAMA,GACFikC,EAFL,CAGC+rB,YAAaA,EACbD,SAAUA,MAIC,IAAbzI,GACA55C,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAAC06D,GAADn4E,OAAAk2B,OAAA,CACCpmB,KAAMA,GACFikC,EAFL,CAGC+rB,YAAaA,EACbD,SAAUA,MAIC,IAAbzI,GACA55C,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,IACL83D,GAAcp6D,EAAA3e,EAAA4e,cAAA6b,GAAA,QAChB9b,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCc,QAAQ,OACRoB,cAAc,MACdyX,SAAS,OACTtR,SAAS,IACTlG,eAAe,UAEftd,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqI,SAAS,IAAIo3C,MAAO,CAAE5tC,GAAI,EAAGC,GAAI,EAAG80B,GAAI,IAC5C/hD,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAAC46D,GAAD,CACCtwE,WAAYA,EACZ+3D,YAAaA,EACbD,SAAUA,MAIbriD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,EAAGs4D,MAAO,CAAE5tC,GAAI,EAAGC,GAAI,EAAG80B,GAAI,IACrC/hD,EAAA3e,EAAA4e,cAAC66D,GAAD,CAAuBvwE,WAAYA,OAKzB,IAAbqvD,GACA55C,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,EAAGxC,WAAW,cACtCnc,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAASsW,MAAM,UACjCtoC,aAAE,uBAAwB,CAAEyJ,KAAM,CAAC,KAAM,aAG1CquE,GAAcp6D,EAAA3e,EAAA4e,cAAA6b,GAAA,SAEjB9b,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GAAI80B,GAAI,GAC9B/hD,EAAA3e,EAAA4e,cAAC86D,GAAD,CACCjrD,SAAU,SAAAnuB,GAAK,OACd+lB,YAA6C/lB,EAAO,CACnD4I,mBAKJyV,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GAAI80B,GAAI,GAC9B/hD,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAAC+6D,GAAD,CACClrD,SAAU,SAAAnuB,GAAK,OACdykB,YAA0CzkB,EAAO,CAChD4I,gBAGFu8D,cAAY,QAQJ,IAAblN,GACA55C,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAACg7D,GAAD,CAA0B3oE,KAAMA,KAGpB,IAAbsnD,GAAkB55C,EAAA3e,EAAA4e,cAACssC,GAAD,CAAchiD,WAAYA,EAAYqiD,SAAO,IAClD,IAAbgN,GACA55C,EAAA3e,EAAA4e,cAAAsf,EAAA,OACCvf,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCugB,OAAO,SACPtgB,KAAI,GAAA1V,OAAK+lD,EAAOxiD,IAAZ,aAAAvD,OAA2BF,EAA3B,YAEJyV,EAAA3e,EAAA4e,cAAAuc,EAAA,GAAUoD,QAAM,GACf5f,EAAA3e,EAAA4e,cAAAggB,EAAA,GAAc5F,QAAS/3B,aAAE,qBAG3B0d,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCugB,OAAO,SACPtgB,KAAI,GAAA1V,OAAK+lD,EAAOxiD,IAAZ,aAAAvD,OAA2BF,EAA3B,sCAEJyV,EAAA3e,EAAA4e,cAAAuc,EAAA,GAAUoD,QAAM,GACf5f,EAAA3e,EAAA4e,cAAAggB,EAAA,GAAc5F,QAAS/3B,aAAE,4BAG3B0d,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCugB,OAAO,SACPtgB,KAAI,GAAA1V,OAAKgmD,EAASziD,IAAd,aAAAvD,OAA6BF,EAA7B,YAEJyV,EAAA3e,EAAA4e,cAAAuc,EAAA,GAAUoD,QAAM,GACf5f,EAAA3e,EAAA4e,cAAAggB,EAAA,GAAc5F,QAAS/3B,aAAE,uBAG3B0d,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCugB,OAAO,SACPtgB,KAAI,GAAA1V,OAAKgmD,EAASziD,IAAd,aAAAvD,OAA6BF,EAA7B,sCAEJyV,EAAA3e,EAAA4e,cAAAuc,EAAA,GAAUoD,QAAM,GACf5f,EAAA3e,EAAA4e,cAAAggB,EAAA,GAAc5F,QAAS/3B,aAAE,+BAKf,IAAbs3D,GAAkB55C,EAAA3e,EAAA4e,cAACi7D,GAAD,CAAS5rE,OAAQ/E,OCpNjC,SAAS4wE,KAAkB,IAAA9lD,EACDC,mBAAS,GADRC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GAC1BukC,EAD0BrkC,EAAA,GAChBskC,EADgBtkC,EAAA,GAGjC,OACCvV,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAACs6D,GAAD,KACCv6D,EAAA3e,EAAA4e,cAAAqb,GAAA,GACClmB,MAAOwkD,EACPp+B,SAAU,SAAC7B,EAAI/O,GAAL,OAAeivC,EAAYjvC,IACrC0J,QAAQ,aACRwlC,cAAc,OACdC,eAAe,UACft+B,UAAU,WAEVzb,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKnd,MAAOjc,aAAE,cAGhB0d,EAAA3e,EAAA4e,cAACw6D,GAAD,KACe,IAAb7gB,GACA55C,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAAC03D,GAAD,CAAYpwE,KAAK,kBCZvB,IAAMgqC,GAAQ1a,EAAoB6P,IAE5B9J,GAAY9C,aAAWsJ,IAEvBoO,GAAU,SAAAtvC,GAAA,IAAGq5B,EAAHr5B,EAAGq5B,QAASlR,EAAZnoB,EAAYmoB,OAAZ,MAAyB,CACxC,CACCjM,KAAM,QACNG,MAAOjc,aAAE,cACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNi5B,UAAU,EACVoF,iBAAkB,SAAA9uC,GAAqC,IAAlC8F,EAAkC9F,EAAlC8F,GAAIgb,EAA8B9gB,EAA9B8gB,SAAUC,EAAoB/gB,EAApB+gB,UAAWJ,EAAS3gB,EAAT2gB,GACvCs7C,EAAet7C,EAAKguB,GAAQ7K,GAC5B00C,EAAW73D,EAAK,CAAEA,MAAO,CAAEomB,mBAAmB,GACpD,OACC3pB,EAAA3e,EAAA4e,cAAC4+C,EAADr8D,OAAAk2B,OAAA,CACC7S,IAAKnd,EACLsyB,UAAWyE,KAAWlE,EAAQoS,SAC9Brc,IAAK5N,EACLsd,IAAKt4B,EACLib,UAAWA,EACX2kB,YAAU,GACN8yC,OAMT,CACCh9D,KAAM,OACNG,MAAOjc,aAAE,aACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,kBAAApwC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,IAAYyjB,QAAQ,UAAW,OAG3D,CACC3G,KAAM,cACNG,MAAOjc,aAAE,qBACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,SAAAxkC,GAAW,OAAI0kC,mBAAQ1kC,GAAe,MAG1D,CACCkR,KAAM,SACNG,MAAOjc,aAAE,gBACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,SAAA1kC,GAAM,OAAI4kC,mBAAQ5kC,GAAU,MAGhD,CACCoR,KAAM,MACNG,MAAOjc,aAAE,aACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNw+B,cAAe,OACfH,iBAAkB,SAAAxtB,GAAG,SAAAzZ,OAAOyZ,EAAI5H,QAAQ,GAAnB,SAGvB,CACC8B,KAAM,WACNG,MAAOjc,aAAE,kBACT4pC,QAAS,CACRj9B,QAAQ,EACRoE,MAAM,EACNq+B,iBAAkB,SAAA1sB,GAAQ,SAAAva,OAAOua,EAAS1I,QAAQ,GAAxB,KAAA7R,OAA8B4f,QAarD4nB,GAAa,SAAAlvC,GAAA,IAAGm8D,EAAHn8D,EAAGm8D,aAAczuB,EAAjB1tC,EAAiB0tC,WAAjB,MAA6C,CAC/D9B,WAAY,cACZwwB,aAFkBp8D,EAA6B+3B,SAG/CyX,cAAe,kBAAMvyB,EAAA3e,EAAA4e,cAAC2wB,GAAD,CAAYC,aAAcJ,KAC/CyB,WAAY,SAACC,EAAWC,EAAWnG,EAASxxB,GAAhC,OAZM,SAAC03B,EAAWC,EAAWnG,EAASxxB,GAClD,IAAM43B,EAAa53B,EAAKzX,IAAI,SAAAiT,GAAC,MAAK,CACjC2U,MAAO3U,EAAE2U,MACTnQ,KAAM,CAACxE,EAAEwE,KAAK,GAAG/R,GAAIuN,EAAEwE,KAAK,GAAGsK,QAAQ,UAAW,IAAK9O,EAAEwE,KAAK,OAE/D,MAAO,GAAAhQ,OAAG0nC,EAAUlG,IAAbxhC,OAAwB2nC,EAAUC,IAAcC,OAQtDJ,CAAWC,EAAWC,EAAWnG,EAASxxB,IAC3CykD,eACAz0B,YAAa,IAuDC4wC,OApDf,SAA0B9oD,GAAO,IAE/Bs6B,EAMGt6B,EANHs6B,UACAD,EAKGr6B,EALHq6B,QACAJ,EAIGj6B,EAJHi6B,aAJ+B6S,EAQ5B9sC,EAHHuI,gBAL+B,IAAAukC,EAKpB,GALoBA,EAAAic,EAQ5B/oD,EAFHzC,gBAN+B,IAAAwrD,EAMpB3zD,IANoB2zD,EAAAC,EAQ5BhpD,EADHrjB,aAP+B,IAAAqsE,EAOvB,GAPuBA,EAS1BhgD,EAAUqB,KACRvS,EAAWqL,YAAYzyB,MAAvBonB,OACF+vD,EAAa1kD,YAAY,SAAA/zB,GAAK,OACnCoI,aAA8BpI,EAAO,uBAZNqxC,EAeM/C,GAAa,CAClDngB,WACAqgB,WAAY,kBACXqB,GAAQ,CACPjW,UACAsxB,YACAD,UACAviC,cAPK5P,EAfwBu4B,EAexBv4B,KAAMwxB,EAfkB+G,EAelB/G,QAASwE,EAfSuC,EAeTvC,WAWjByuB,EAAexuB,sBACpB,SAACtpC,EAAGo4D,GACH,IAAM7sB,EAAkB6sB,EAAgBx8D,IAAI,SAAAsuD,GAAG,OAAIA,EAAI1e,YACjD6Z,EAAmB9Z,EAAgB3vC,IAAI,SAAAiT,GAAC,OAAIwE,EAAKxE,GAAGvN,KAE1D8jD,GAAgBA,EAAa,CAAE7Z,kBAAiB8Z,sBAEjD,CAAChyC,EAAM+xC,IAGFtgB,EAAU+F,GAAW,CAAEitB,eAAcpkC,WAAU2V,eACrD,OACCzwB,EAAA3e,EAAA4e,cAAC+rB,GAAD,CACC98B,MAAO5M,aAAE4M,GACTuL,KAAMA,EACNwxB,QAASA,EACTC,QAASA,EACTlQ,SAAUo+C,EACV/tC,UAAQ,EACRE,YAAU,EACVC,SAAO,EACPw6B,eAAa,KCpIT,SAASwU,KAAiB,IAAAnmD,EACAC,mBAAS,GADTC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GACzBukC,EADyBrkC,EAAA,GACfskC,EADetkC,EAAA,GAE1B6kD,EAAa1kD,YAAY,SAAA/zB,GAAK,OACnCoI,aAA8BpI,EAAO,uBAGtC,OACCqe,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAACs6D,GAAD,KACCv6D,EAAA3e,EAAA4e,cAAAqb,GAAA,GACClmB,MAAOwkD,EACPp+B,SAAU,SAAC7B,EAAI/O,GAAL,OAAeivC,EAAYjvC,IACrC0J,QAAQ,aACRwlC,cAAc,OACdC,eAAe,UACft+B,UAAU,WAEVzb,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKnd,MAAOjc,aAAE,YACd0d,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKnd,MAAOjc,aAAE,kBACd0d,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKnd,MAAOjc,aAAE,sCAGhB0d,EAAA3e,EAAA4e,cAACw6D,GAAD,CAAmBzjC,cAAY,GAChB,IAAb4iB,GACA55C,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAAC03D,GAAD,CAAYpwE,KAAK,eAGL,IAAbqyD,GACA55C,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,SAASsW,MAAM,UACjCtoC,aAAE,uBAAwB,CAAEyJ,KAAM,CAAC,KAAM,aAG1CquE,GAAcp6D,EAAA3e,EAAA4e,cAAA6b,GAAA,SAEjB9b,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GAAI80B,GAAI,GAC9B/hD,EAAA3e,EAAA4e,cAAC86D,GAAD,CACCjrD,SAAUrI,QAIZzH,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,GAAI80B,GAAI,GAC9B/hD,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAAC+6D,GAAD,CACClrD,SAAU3J,WASF,IAAbyzC,GAEA55C,EAAA3e,EAAA4e,cAACw7D,GAAD,CACC3rD,SAAUnI,IACVzY,MAAM,qCCsBGwsE,OA3Ff,SAAAx5E,GAAyB,IAATq2B,EAASr2B,EAATq2B,MAASlD,EACQC,mBAAS,GADjBC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GACjBukC,EADiBrkC,EAAA,GACPskC,EADOtkC,EAAA,GAAA2kD,EAG0Cr/B,GAAQ,CACzEvuC,SAAU,SACVisB,QACAuiB,SAAUlrC,UACVmrC,oBAAqB4gC,OAJdrpE,EAHgB4nE,EAGhB5nE,KAAM6K,EAHU+8D,EAGV/8D,YAAsCo5B,GAH5B2jC,EAGG34D,WAHH24D,EAGer+B,SAHfr5C,OAAAgY,EAAA,EAAAhY,CAAA03E,EAAA,iDAWvBxxE,EAQG4J,EARH5J,GACAwG,EAOGoD,EAPHpD,MACA6T,EAMGzQ,EANHyQ,SACAs1B,EAKG/lC,EALH+lC,YACA30B,EAIGpR,EAJHoR,SACAC,EAGGrR,EAHHqR,UACAtZ,EAEGiI,EAFHjI,KACA6uC,EACG5mC,EADH4mC,UAEczB,EAA0Ct6B,EAAjDjO,MAA8BopC,EAAmBn7B,EAAhCk7B,YAEzB,OAAK/lC,EAGJ0N,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAACs6D,GAAD,KACCv6D,EAAA3e,EAAA4e,cAAAqb,GAAA,GACClmB,MAAOwkD,EACPp+B,SAAU,SAAC7B,EAAI/O,GAAL,OAAeivC,EAAYjvC,IACrC0J,QAAQ,aACRwlC,cAAc,OACdC,eAAe,UACft+B,UAAU,WAEVzb,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKnd,MAAOjc,aAAE,eAGhB0d,EAAA3e,EAAA4e,cAACu6D,GAAmBjkC,GACpBv2B,EAAA3e,EAAA4e,cAACw6D,GAAD,KACCz6D,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,EAAG80B,GAAI,GACrC/hD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAACopD,GAAD,CACC3lD,SAAUA,EACVC,UAAWA,EACXpF,MAAOjc,aAAE,4BAGTygB,GACD/C,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAACg/C,GAAD,CACC3rB,WAAS,EACThnC,SAAS,SACTgD,OAAQ5G,EACRwG,MAAOA,EACPsrC,oBAAkB,MAKtBx6B,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,EAAG80B,GAAI,GACrC/hD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAAC0pD,GAADnnE,OAAAk2B,OAAA,CAAWxpB,MAAOA,EAAOuoC,SAAUA,GAAclB,KAElDv2B,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAAC27D,GAADp5E,OAAAk2B,OAAA,CACC2f,YAAaA,EACbC,eAAgBA,GACZ/B,KAGNv2B,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAAC47D,GAAD,CAAYxxE,KAAMA,KAEnB2V,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAAC67D,GAAD,CAAe5iC,UAAWA,UAvDfl5B,EAAA3e,EAAA4e,cAAA,yBCeb87D,GAAel5B,GAzBQ,SAAA3gD,GAAgD,IAA7Cm6C,EAA6Cn6C,EAA7Cm6C,qBAAsB/sC,EAAuBpN,EAAvBoN,OAAWijB,EAAY/vB,OAAAgY,EAAA,EAAAhY,CAAAN,EAAA,mCAC5E,OACC8d,EAAA3e,EAAA4e,cAACq8C,GAAD95D,OAAAk2B,OAAA,GACKnG,EADL,CAECmuB,eAAgB,kBAAM9mB,YAAQ2iC,YAAa,SAAUjtD,KACrDA,OAAQA,EACRktD,eAAe,cACflwD,SAAS,SACToyC,QAAQ,YACRlQ,MAAO,CACN,CACCt/B,MAAO,qBACPswB,UAAW03B,GACXrY,iBAAkB,KAClBF,WAAY,SAAApsB,GAAK,OAChBqH,YACCoiD,aAAkBx5E,OAAAC,GAAA,EAAAD,CAAA,CAAE65C,uBAAsB/sC,UAAWijB,QAIzD0qC,UAAWltD,eAODksE,GAAoB,SAAAr5E,GAS3B,IAAAs5E,EAAAt5E,EARL0P,YAQK,IAAA4pE,EARE,GAQFA,EANL/+D,GAMKva,EAPLy5C,qBAOKz5C,EANLua,aACAoE,EAKK3e,EALL2e,WACAm2B,EAIK90C,EAJL80C,YACAC,EAGK/0C,EAHL+0C,gBACA9B,EAEKjzC,EAFLizC,yBAEKsmC,EAAAv5E,EADLi1C,oBACK,IAAAskC,EADU,GACVA,EAAAtT,EACiC5lE,eAA9BP,EADHmmE,EACGnmE,QAASwgB,EADZ2lD,EACY3lD,SAAUmH,EADtBw+C,EACsBx+C,OACnBlG,EAAiD7R,EAAjD6R,iBACFsyC,EADmDnkD,EAA/BmkD,YACW,CAAErxC,QAAS,IAAK3W,OAAQ,IAHxDioD,EAIwCD,EAAWhoD,OAAhDmoD,EAJHF,EAIGE,cAAeD,EAJlBD,EAIkBC,kBACjB3jC,IAAW6kB,EAAa1zB,iBACJ+rC,EAAW/yC,EAA7BgH,iBACF2zB,IAAcoY,GAAUA,EAAOluC,MAC/Bm0C,EACuB,kBAArBhyC,EACJ5K,aACAiR,yBAAclY,EAAK6R,kBAAoB,IAAIzhB,IAAY,KAAKknE,IAAI,KAChE1mD,GACA,GAEAiB,EAEJ,OACCnE,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,OACLy6C,UAAQ,EACRvmC,MAAOjc,aAAE,4BAA6B,CAAEyJ,KAAM,CAACse,KAC/CjM,KAAK,mBACLhJ,MAAO+gD,GAAU,GACjB/zC,WAAYw0C,IAAkB5jC,EAC9BwI,SAAU,SAAA7B,GACT,IAAMvkB,EAAQukB,EAAG8G,OAAOrrB,MACxBsiC,EAAY,mBAAoBtiC,EAAO,CACtCgJ,KAAM,eACN+9B,OAAQ,CAAC,aAAc,sBAExBviB,YACCi3B,aAAqB,CACpBtvC,aACA41B,KAAM,mBACN/hC,QACA4M,OAAO,MAIVoQ,MAAO0lB,EACPU,UAAW,IACXnB,WACCS,EAAYoY,EAAOnY,OAASz1C,aAAE,8BAE/Bg1C,WACEsf,EAkBE,GAjBA,CACA3e,aACCj4B,EAAA3e,EAAA4e,cAAAi4B,GAAA,GAAgB1a,SAAS,OACxBxd,EAAA3e,EAAA4e,cAAAwU,EAAA,GAECE,MAAM,YACNE,QAAS,kBACR7B,EACG6iB,EAAyB,oBACzB8B,EAAgB,oBAAoB,KAGvC3kB,EAAShT,EAAA3e,EAAA4e,cAAAo2B,GAAA,QAAmBr2B,EAAA3e,EAAA4e,cAAAk4B,GAAA,cAUtCn4B,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACwpC,GAAD,CACClrC,MAAOjc,aAAE,2BACT8S,MACC4K,EAAA3e,EAAA4e,cAAAozB,GAAA,OACCrzB,EAAA3e,EAAA4e,cAAAoxC,GAAA,GAAWC,KAAG,GACbtxC,EAAA3e,EAAA4e,cAAAsxC,GAAA,GACCC,QACCxxC,EAAA3e,EAAA4e,cAAAwxC,GAAA,GACCC,UAAWkF,EACXp7B,SAAU,SAAA7B,GACT,IAAM+3B,EAAU/3B,EAAG8G,OAAOixB,QAC1Bha,EACC,aADUl1C,OAAAC,GAAA,EAAAD,CAAA,GAGNi0D,EAHM,CAIThoD,OAAOjM,OAAAC,GAAA,EAAAD,CAAA,GACHi0D,EAAWhoD,OADT,CAELmoD,cAAelF,MAGjB,CACCtzC,KAAM,eACN+9B,OAAQ,CAAC,aAAc,uBAI1B/mC,MAAM,kBAGRmJ,MAAOjc,aAAE,uCAOf0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACwpC,GAAD,CACClrC,MAAOjc,aAAE,4BACT8S,MACC4K,EAAA3e,EAAA4e,cAAAozB,GAAA,OACCrzB,EAAA3e,EAAA4e,cAAAoxC,GAAA,GAAWC,KAAG,GACbtxC,EAAA3e,EAAA4e,cAAAsxC,GAAA,GACCC,QACCxxC,EAAA3e,EAAA4e,cAAAwxC,GAAA,GACCC,UAAWiF,EACXn7B,SAAU,SAAA7B,GAAE,OACX+d,EACC,aADUl1C,OAAAC,GAAA,EAAAD,CAAA,GAGNi0D,EAHM,CAIThoD,OAAOjM,OAAAC,GAAA,EAAAD,CAAA,GACHi0D,EAAWhoD,OADT,CAELkoD,kBAAmBh9B,EAAG8G,OAAOixB,YAG/B,CACCtzC,KAAM,eACN+9B,OAAQ,CAAC,aAAc,uBAI1B/mC,MAAM,sBAGRmJ,MAAOjc,aAAE,0CAWL85E,GAAY,SAAAr5E,GAA4B,IAAzBuP,EAAyBvP,EAAzBuP,KAASikC,EAAgB/zC,OAAAgY,EAAA,EAAAhY,CAAAO,EAAA,UACpD,OACCid,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKc,QAAQ,OAAOoB,cAAc,MAAMyX,SAAS,QAChD90B,EAAA3e,EAAA4e,cAAC87D,GAAD,CACCzoC,WAAS,EACT1e,KAAK,QACLN,QAAQ,YACRK,MAAM,YACN0uB,SAAS,kBACTn0C,MAAM,uBACNI,OAAQgD,EAAK5J,GACbq6C,sBAAoB,EACpB1G,qBAAsB9F,EAAU8F,qBAChCxnB,QAAS,kBACR+E,YACCyiD,YAAwB,CACvB/sE,OAAQgD,EAAK5J,GACb6rC,WAAYgC,EAAUhC,mBChNhB+nC,GAAY,SAAAp6E,GAA4B,IAAzBoQ,EAAyBpQ,EAAzBoQ,KAASikC,EAAgB/zC,OAAAgY,EAAA,EAAAhY,CAAAN,EAAA,UAEnDwG,EASG4J,EATH5J,GACAwG,EAQGoD,EARHpD,MACAmpC,EAOG/lC,EAPH+lC,YACA30B,EAMGpR,EANHoR,SACAC,EAKGrR,EALHqR,UACAtZ,EAIGiI,EAJHjI,KACA6uC,EAGG5mC,EAHH4mC,UACA7wB,EAEG/V,EAFH+V,QACAtF,EACGzQ,EADHyQ,SAVmDw5D,EAYKhmC,EAAUp5B,YAApDs6B,EAZqC8kC,EAY5CrtE,MAA8BopC,EAZcikC,EAY3BlkC,YAEzB,OACCr4B,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,EAAG80B,GAAI,GACrC/hD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAACopD,GAAD,CACC3lD,SAAUA,EACVC,UAAWA,EACXpF,MAAOjc,aAAE,gCAGX0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAACu8D,GAAD,CAAsBtjC,UAAWA,KAElCl5B,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAACw8D,GAADj6E,OAAAk2B,OAAA,CAAWpmB,KAAMA,GAAUikC,MAE1BxzB,GACD/C,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAACg/C,GAAD,CACC3rB,WAAS,EACThnC,SAAS,SACTgD,OAAQ5G,EACRwG,MAAOA,EACPsrC,oBAAkB,KAIrBx6B,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAAAqzC,GAAA,GAAgBC,QAAQ,EAAMj/B,QAAQ,YACrCtU,EAAA3e,EAAA4e,cAAAuzC,GAAA,GACCC,WAAYzzC,EAAA3e,EAAA4e,cAAAyzC,GAAA,QACZ5xB,gBAAc,sBACdp5B,GAAG,uBAEHsX,EAAA3e,EAAA4e,cAAA0f,GAAA,OAAar9B,aAAE,mBAEhB0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAACy8D,GAADl6E,OAAAk2B,OAAA,CAAmBpmB,KAAMA,GAAUikC,QAKvCv2B,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,EAAG80B,GAAI,GACrC/hD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAAC0pD,GAADnnE,OAAAk2B,OAAA,CAAWxpB,MAAOA,EAAOuoC,SAAUA,GAAclB,KAElDv2B,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAAC27D,GAADp5E,OAAAk2B,OAAA,CACC2f,YAAaA,EACbC,eAAgBA,GACZ/B,KAGNv2B,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAAC47D,GAAD,CAAYxxE,KAAMA,KAGnB2V,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAAC08D,GAADn6E,OAAAk2B,OAAA,CAAapmB,KAAMA,GAAUikC,KAE9Bv2B,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAACwpC,GAAD,CACClrC,MAAOjc,aAAE,wBACT8S,MAAO4K,EAAA3e,EAAA4e,cAACi7C,GAAD,CAAe7yC,QAASA,EAAS+yC,aAAW,QAItDp7C,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,GAAI1c,GAAI,GAAI80B,GAAI,6DCzFtC6a,GAAa9zE,oCACb+zE,GAAY7uE,KAAIC,MAAM2uE,IACtBE,GAAM,GAAAryE,OAAMoyE,GAAUE,SAAhB,MAAAtyE,OAA6BoyE,GAAUG,MAE7CC,GAAgB,yGAAAxyE,OAC4BqyE,GAD5B,2NAYhBlgD,GAAY9C,aCpCI,SAAAC,GACrB,MAAO,CACNmjD,gBAAiB,CAChB/4B,WAAY,WACZlC,UAAW,aACXtd,OAAQ,EACRw4C,UAAW,iBDgCDC,GAAkB,SAAAl7E,GAAmB,IAAAm7E,EAAAn7E,EAAhBo7E,YAAgB,IAAAD,EAAT,GAASA,EAC3C9hD,EAAUqB,KACRl0B,EAAiC40E,EAAjC50E,GAAI2B,EAA6BizE,EAA7BjzE,KAAMkzE,EAAuBD,EAAvBC,KAAMC,EAAiBF,EAAjBE,aAClBr1E,EAAeutB,YAAYxwB,KAC3Bu4E,EAAmB/nD,YAAYlI,MAEjCkwD,EAAQrzE,EAAKvF,MAAM,KAAK,GAAGA,MAAM,KACrC44E,EAAQ,CACP5+C,MAAO4+C,EAAM,GACb7+C,OAAQ6+C,EAAM,IAGf,IAAMxxC,EAAU,CACfyxC,cAAex1E,EACfy1E,kBAAmB96E,eACnB+6E,gBAAiBxzE,EACjByzE,WAAW,EACXvtE,UAAWgtE,GAAQ,GAEnBz+C,MAAO4+C,EAAM5+C,MACbD,OAAQ6+C,EAAM7+C,OACd1a,iBAAkB,IAElBq5D,eACAO,WAAYr1E,GAGTqmB,EAAQivD,mBAAmB1+D,KAAKC,UAAU,CAAE2sB,aAI5C+xC,EACH,sBAAAxzE,OAHSmyE,GAAa7tD,EAGtB,mBAAAtkB,OAEWizE,EAAM5+C,MAFjB,oBAAAr0B,OAGYizE,EAAM7+C,OAHlB,kFAAAp0B,OAOYwyE,GAPZ,oBAoBD,OAAOQ,EACNz9D,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK6G,SAAS,UACbhiB,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCc,QAAQ,OACRoB,cAAc,MACdlB,WAAW,SACXmB,eAAe,gBACf2zC,GAAI,GAEJjxD,EAAA3e,EAAA4e,cAAA0f,GAAA,OAAar9B,aAAE,qBACf0d,EAAA3e,EAAA4e,cAAAwU,EAAA,GACCE,MAAM,UACNupD,OAAQ,kBACPC,YAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,uBACT2xB,QAAS,OAGXY,QAAS,WACRupD,KAAKH,GACLrkD,YACCukD,YAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,uBACT2xB,QAAS,SAKZjU,EAAA3e,EAAA4e,cAACo9C,GAAAh8D,EAAD,UAKJ2e,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,EAAGqS,MAAM,oBAAoByG,QAAQ,aAC5Cpb,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQ2hD,iBAAkBe,MAG3Cn1E,GASFkX,EAAA3e,EAAA4e,cAAAmU,EAAA,GAAOC,SAAS,UAAUC,QAAQ,YACjCtU,EAAA3e,EAAA4e,cAAAo+D,GAAA,OAAa/7E,aAAE,sCACf0d,EAAA3e,EAAA4e,cAAA,OACCi6B,wBAAyB,CACxBC,OAAQ73C,aAAE,uCE5FAg8E,OAtCf,SAAAp8E,GAAyB,IAATq2B,EAASr2B,EAATq2B,MAASlD,EACQC,mBAAS,GADjBC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GACjBukC,EADiBrkC,EAAA,GACPskC,EADOtkC,EAAA,GAAA2kD,EAEOr/B,GAAQ,CACtCvuC,SAAU,SACVisB,QACAuiB,SAAU/qC,UACVgrC,oBAAqBwjC,OAJdjsE,EAFgB4nE,EAEhB5nE,KAASikC,EAFO/zC,OAAAgY,EAAA,EAAAhY,CAAA03E,EAAA,UASxB,OACCl6D,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAACs6D,GAAD,KACCv6D,EAAA3e,EAAA4e,cAAAqb,GAAA,GACClmB,MAAOwkD,EACPp+B,SAAU,SAAC7B,EAAI/O,GAAL,OAAeivC,EAAYjvC,IACrCkvC,cAAc,OACdC,eAAe,UACft+B,UAAU,WAEVzb,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKnd,MAAOjc,aAAE,eACd0d,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKnd,MAAOjc,aAAE,mBAKhB0d,EAAA3e,EAAA4e,cAACu6D,GAAmBjkC,GACpBv2B,EAAA3e,EAAA4e,cAACw6D,GAAD,KACe,IAAb7gB,GAAkB55C,EAAA3e,EAAA4e,cAACu+D,GAADh8E,OAAAk2B,OAAA,CAAWpmB,KAAMA,GAAUikC,IAChC,IAAbqjB,GAAkB55C,EAAA3e,EAAA4e,cAACw+D,GAAD,CAAiBnB,KAAMhrE,OCXxCsqB,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtCla,QAAS,CACR0jB,UAAWxJ,EAAM4E,QAAQ,GACzBiP,QAAS,CACR1M,YAAanH,EAAM4E,QAAQ,GAC3BD,aAAc3E,EAAM4E,QAAQ,QA4BzB2pC,GAAqBzlB,GAvBG,SAAA3gD,GAAuC,IAApCw1C,EAAoCx1C,EAApCw1C,YAAapoC,EAAuBpN,EAAvBoN,OAAWijB,EAAY/vB,OAAAgY,EAAA,EAAAhY,CAAAN,EAAA,0BACpE,OACC8d,EAAA3e,EAAA4e,cAACq8C,GAAD95D,OAAAk2B,OAAA,GACKnG,EADL,CAECmuB,eAAgB,kBAAM9mB,YAAQ2iC,YAAa,WAAYjtD,KACvDA,OAAQA,EACRktD,eAAc,mBAAA/xD,OAAqB6E,EAArB,KACdhD,SAAS,WACToyC,QAAO,mBAAAj0C,OAAqB6E,GAC5Bk/B,MAAO,CACN,CACCt/B,MAAO,iBACPswB,UAAW48B,GACXvd,iBAAkB,KAClBF,WAAY,SAAApsB,GAAK,OAChBqH,YAAQ8kD,aAAoBl8E,OAAAC,GAAA,EAAAD,CAAA,CAAEk1C,cAAapoC,UAAWijB,QAGzD0qC,UAAW9sD,iBA4GCD,OArGf,SAAAtN,GAA6B,IAAT21B,EAAS31B,EAAT21B,MAASlD,EACIC,mBAAS,GADbC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GACrBukC,EADqBrkC,EAAA,GACXskC,EADWtkC,EAAA,GAGtBgG,EAAUqB,KAHYs9C,EAKqBr/B,GAAQ,CACxDvuC,SAAU,WACVisB,QACAuiB,SAAU3qC,YACV4qC,2BAT2B4jC,EAAAzE,EAKpB5nE,YALoB,IAAAqsE,EAKb,GALaA,EAKTxhE,EALS+8D,EAKT/8D,YAAgBo5B,EALP/zC,OAAAgY,EAAA,EAAAhY,CAAA03E,EAAA,wBAYpBzrE,EAAgC6D,EAAhC7D,OAAQS,EAAwBoD,EAAxBpD,MAAOxG,EAAiB4J,EAAjB5J,GAAIqa,EAAazQ,EAAbyQ,SACZ00B,EAAat6B,EAApBjO,MAER,OACC8Q,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAACs6D,GAAD,KACCv6D,EAAA3e,EAAA4e,cAAAqb,GAAA,GACClmB,MAAOwkD,EACPp+B,SAAU,SAAC7B,EAAI/O,GAAL,OAAeivC,EAAYjvC,IACrC0J,QAAQ,aACRwlC,cAAc,OACdC,eAAe,UACft+B,UAAU,WAEVzb,EAAA3e,EAAA4e,cAAAyb,GAAA,GAAKnd,MAAOjc,aAAE,qBAGhB0d,EAAA3e,EAAA4e,cAACu6D,GAAmBjkC,GACpBv2B,EAAA3e,EAAA4e,cAACw6D,GAAD,KACCz6D,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,EAAGmtB,GAAI,GACdzvB,EAAA3e,EAAA4e,cAAC0pD,GAADnnE,OAAAk2B,OAAA,CAAWxpB,MAAOA,EAAOuoC,SAAUA,GAAclB,IAEjDv2B,EAAA3e,EAAA4e,cAACozC,GAAD,CAAiB7kD,cAAeC,IAEhCuR,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKH,UAAWO,EAAQ1b,SACvBG,EAAA3e,EAAA4e,cAAC2+D,GAAD,CACCv7B,SAAS,kBACTn0C,MAAM,2BACNI,OAAQ5G,EACRq6C,sBAAoB,EACpBrL,YAAanB,EAAUmB,YACvB/iB,MAAM,YACNL,QAAQ,YACRO,QAAS,kBACR+E,YACCilD,YAAwB,CACvBvvE,OAAQ5G,EACR6rC,WAAYgC,EAAUhC,iBAM1Bv0B,EAAA3e,EAAA4e,cAACggD,GAAD,CACC5c,SAAS,6BACT1uB,MAAM,UACNL,QAAQ,YACRivB,aAAc,kBACb3pB,YACC+yB,aAAkB,gBAADnqD,OAAAC,GAAA,EAAAD,CAAA,GACb8P,QAMP0N,EAAA3e,EAAA4e,cAAC8pD,GAAD,CACC1mB,SAAS,yBACT1uB,MAAM,UACNL,QAAQ,YACRivB,aAAc,kBACb3pB,YACC49B,aAAkB,KAAM,KAAPh1D,OAAAC,GAAA,EAAAD,CAAA,GACb8P,EADa,CAEhBpD,MAAOA,EAAQ,eAMjB6T,GACD/C,EAAA3e,EAAA4e,cAACg/C,GAAD,CACC3yD,SAAS,WACTgD,OAAQ5G,EACRwG,MAAOA,EACPsrC,oBAAkB,mBCpIpB5d,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtC+kD,KAAM,CACLhgD,MAAO,QAERigD,OAAQ,CACP9iD,QAAS,SACTgmB,UAAW,aAEZhwB,QAAS,CACR0C,MAAOoF,EAAMK,QAAQnI,QAAQqI,MAE9BtI,QAAS,CACR2C,MAAOoF,EAAMK,QAAQpI,QAAQsI,SAIhB,SAAS0kD,KACvB,IAAMzjD,EAAUqB,KACVhvB,EAAW8nB,YAAY7nB,MAE7B,OACCmS,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAAAsf,EAAA,GAAMvE,UAAWO,EAAQujD,KAAMpjB,OAAK,EAACC,gBAAc,GAClD37C,EAAA3e,EAAA4e,cAAAklC,GAAA,GAAe85B,eAAa,GAC1B38E,aAAE,wBAEHsL,EAAS5K,IAAI,SAAAd,EAA0B0oB,GAAU,IAAjCliB,EAAiCxG,EAAjCwG,GAAIykB,EAA6BjrB,EAA7BirB,OAAQ9H,EAAqBnjB,EAArBmjB,QAC5B,OACCrF,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,CAAU3O,IAAKnd,GACdsX,EAAA3e,EAAA4e,cAAAuc,EAAA,OACCxc,EAAA3e,EAAA4e,cAAA8f,EAAA,OACE5S,EAAO5rB,OACPye,EAAA3e,EAAA4e,cAAAi/D,GAAA,GAAclkD,UAAWO,EAAQtJ,UAEjCjS,EAAA3e,EAAA4e,cAAA2zC,GAAA,GAAY54B,UAAWO,EAAQvJ,WAGjChS,EAAA3e,EAAA4e,cAAAggB,EAAA,GACC5F,QAAS3xB,EACT00B,UAAWpd,EAAA3e,EAAA4e,cAACi7C,GAAD,CAAe/tC,OAAQA,EAAQguC,YAAU,MAErDn7C,EAAA3e,EAAA4e,cAAAk/D,GAAA,OACCn/D,EAAA3e,EAAA4e,cAACs7C,GAAD,CACC7yD,GAAIA,EACJykB,OAAQA,EACR9H,QAASA,MAIXuF,EAAQhd,EAASrM,OAAS,GAAKye,EAAA3e,EAAA4e,cAAAob,EAAA,cAOtCrb,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,GACRxgC,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAACw7C,GAAD,iCC6CU2jB,GA/Gc,WAAkC,IAAAl9E,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAxBo9C,EAA+Bx8C,EAA/Bw8C,QAASn9B,EAAsBrf,EAAtBqf,WAChC8I,EAAWqL,YAAYzyB,MAAvBonB,OACmCrV,EAAQ0gB,YAClD/vB,KADO25B,kCAFsD6jC,EAMrBztC,YAAY,SAAA/zB,GAAK,OACzD8gB,aAAyB9gB,EAAO+8C,KADzB2gC,EANsDlc,EAMtDkc,iBAAkBC,EANoCnc,EAMpCmc,WAIpBjrC,EAAU3e,YAAY,SAAA/zB,GAAK,OAAI8G,aAAkB9G,EAAO4f,KAVAg+D,EAgB1D7pD,YAAY,SAAA/zB,GAAK,OAAIyb,aAAsBzb,EAAO4f,IAAe,KAHlDi+D,EAb2CD,EAa7DF,iBACYI,EAdiDF,EAc7DD,WACMI,EAfuDH,EAe7DI,KAGD,OACC3/D,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,YAAY2H,QAAQ,SACtC35B,aAAE,4DAA6D,CAC/DyJ,KAAM,CAACiJ,EAAKqV,OAIfrK,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCn1B,SAAUiyB,EACVhqC,KAAK,OACLiqB,QAAQ,WACRwwB,UAAQ,EACRxR,WAAS,EACT/0B,MAAOjc,aAAE,eACT8b,KAAK,aACLhJ,MAAOkqE,GAAc,GACrB9jD,SAAU,SAAA7B,GAAE,OACXC,YACCgmD,aAAqB,CACpBC,GAAInhC,EACJ74B,IAAK,aACLzQ,MAAOukB,EAAG8G,OAAOrrB,UAIpBgd,MAAOqtD,KAAaA,EAAQz9D,MAC5Bq1B,WAAYooC,GAAaA,EAAQz9D,MAAQy9D,EAAQ1nC,OAAS,KAE1D1D,EAAUr0B,EAAA3e,EAAA4e,cAACslC,GAAD,MAAmB,MAE/BvlC,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCn1B,SAAUiyB,EACVhqC,KAAK,OACLiqB,QAAQ,WACRgf,WAAS,EACTwR,UAAQ,EACRvmC,MAAOjc,aAAE,uBACT8b,KAAK,mBACLhJ,MAAOiqE,GAAoB,GAC3B7jD,SAAU,SAAA7B,GAAE,OACXC,YACCgmD,aAAqB,CACpBC,GAAInhC,EACJ74B,IAAK,mBACLzQ,MAAOukB,EAAG8G,OAAOrrB,UAIpBgd,MAAOotD,KAAeA,EAAUx9D,MAChCq1B,WACCr3B,EAAA3e,EAAA4e,cAAA,YACCD,EAAA3e,EAAA4e,cAAA0W,EAAA,GACC/B,KAAK,QACLC,QAAS,WACR+E,YACCgmD,aAAqB,CACpBC,GAAInhC,EACJ74B,IAAK,mBACLzQ,MAAOJ,OAKT1S,aAAE,yBAA0B,CAC5ByJ,KAAM,CAACiJ,EAAKqV,MAGdrK,EAAA3e,EAAA4e,cAAA,YACEu/D,GAAeA,EAAUx9D,MAAQw9D,EAAUznC,OAAS,QAMzD2nC,GAAWA,EAAQ19D,OAAS09D,EAAQ3nC,QACpC/3B,EAAA3e,EAAA4e,cAAAmU,EAAA,GAAOE,QAAQ,WAAWD,SAAS,SACjCqrD,EAAQ3nC,UCyBC+nC,GA7HsB,WAAkC,IAAA59E,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAxBo9C,EAA+Bx8C,EAA/Bw8C,QAASn9B,EAAsBrf,EAAtBqf,WAAsBkU,EAMlEC,YAAY,SAAA/zB,GAAK,OAAI8gB,aAAyB9gB,EAAO+8C,KAJxD2gC,EAFqE5pD,EAErE4pD,iBACAC,EAHqE7pD,EAGrE6pD,WACAS,EAJqEtqD,EAIrEsqD,aACAC,EALqEvqD,EAKrEuqD,cAGK3rC,EAAU3e,YAAY,SAAA/zB,GAAK,OAAI8G,aAAkB9G,EAAO4f,KARQmkC,EAgBlEhwB,YAAY,SAAA/zB,GAAK,OAAIyb,aAAsBzb,EAAO4f,IAAe,KALlDi+D,EAXmD95B,EAWrE25B,iBACYI,EAZyD/5B,EAYrE45B,WACcW,EAbuDv6B,EAarEq6B,aACeG,EAdsDx6B,EAcrEs6B,cACMN,EAf+Dh6B,EAerEi6B,KAGD,OACC3/D,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAACs3B,GAAA,EAAD,CACCn1B,SAAUiyB,EACVhqC,KAAK,OACLy6C,UAAQ,EACRxR,WAAS,EACT/0B,MAAOjc,aAAE,0BACT8b,KAAK,eACLhJ,MAAO2qE,GAAgB,GACvBvkD,SAAU,SAAA7B,GAAE,OACXC,YACCgmD,aAAqB,CACpBC,GAAInhC,EACJ74B,IAAK,eACLzQ,MAAOukB,EAAG8G,OAAOrrB,UAIpBgd,MAAO6tD,KAAqBA,EAAgBj+D,MAC5Cq1B,WACC4oC,GAAqBA,EAAgBj+D,MAClCi+D,EAAgBloC,OAChB,KAIL/3B,EAAA3e,EAAA4e,cAACs3B,GAAA,EAAD,CACCltC,KAAK,OACL+X,SAAUiyB,EACVf,WAAS,EACTwR,UAAQ,EACRvmC,MAAOjc,aAAE,+BACT8b,KAAK,gBACLhJ,MAAO4qE,GAAiB,GACxBxkD,SAAU,SAAA7B,GAAE,OACXC,YACCgmD,aAAqB,CACpBC,GAAInhC,EACJ74B,IAAK,gBACLzQ,MAAOukB,EAAG8G,OAAOrrB,UAIpBgd,MAAO8tD,KAAsBA,EAAiBl+D,MAC9Cq1B,WACC6oC,GAAsBA,EAAiBl+D,MACpCk+D,EAAiBnoC,OACjB,KAGL/3B,EAAA3e,EAAA4e,cAACs3B,GAAA,EAAD,CACCn1B,SAAUiyB,EACVhqC,KAAK,OACLy6C,UAAQ,EACRxR,WAAS,EACT/0B,MAAOjc,aAAE,eACT8b,KAAK,aACLhJ,MAAOkqE,GAAc,GACrB9jD,SAAU,SAAA7B,GAAE,OACXC,YACCgmD,aAAqB,CACpBC,GAAInhC,EACJ74B,IAAK,aACLzQ,MAAOukB,EAAG8G,OAAOrrB,UAIpBgd,MAAOqtD,KAAaA,EAAQz9D,MAC5Bq1B,WAAYooC,GAAaA,EAAQz9D,MAAQy9D,EAAQ1nC,OAAS,KAE1D1D,EAAUr0B,EAAA3e,EAAA4e,cAACslC,GAAD,MAAmB,KAC9BvlC,EAAA3e,EAAA4e,cAACs3B,GAAA,EAAD,CACCn1B,SAAUiyB,EACVhqC,KAAK,OACLipC,WAAS,EACTwR,UAAQ,EACRvmC,MAAOjc,aAAE,uBACT8b,KAAK,mBACLhJ,MAAOiqE,GAAoB,GAC3B7jD,SAAU,SAAA7B,GAAE,OACXC,YACCgmD,aAAqB,CACpBC,GAAInhC,EACJ74B,IAAK,mBACLzQ,MAAOukB,EAAG8G,OAAOrrB,UAIpBgd,MAAOotD,KAAeA,EAAUx9D,MAChCq1B,WAAYmoC,GAAeA,EAAUx9D,MAAQw9D,EAAUznC,OAAS,KAEhE2nC,GAAWA,EAAQ19D,OAAS09D,EAAQ3nC,QACpC/3B,EAAA3e,EAAA4e,cAAAmU,EAAA,GAAOE,QAAQ,WAAWD,SAAS,SACjCqrD,EAAQ3nC,UC7GNooC,GAA2BjiE,aAA3BiiE,uBAEFC,GAAkB59E,OAAOiK,OAAO0zE,IAAwBn9E,IAAI,SAAAoS,GACjE,MAAO,CACNA,QACAmJ,MAAOjc,aAAC,QAAAmI,OAAS2K,EAAT,WACR8c,KAAM5vB,aAAC,QAAAmI,OAAS2K,EAAT,aAkIMirE,OA9Hf,WAA0D,IAAAn+E,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAxBo9C,EAA4Bx8C,EAA5Bw8C,QAASn9B,EAAmBrf,EAAnBqf,WAAmBkU,EACGC,YAC3D,SAAA/zB,GAAK,OAAI8gB,aAAyB9gB,EAAO+8C,KADlC4hC,EADiD7qD,EACjD6qD,QAASC,EADwC9qD,EACxC8qD,UAAWC,EAD6B/qD,EAC7B+qD,gBAAiBC,EADYhrD,EACZgrD,WADY/6B,EAUrDhwB,YAAY,SAAA/zB,GAAK,OAAIyb,aAAsBzb,EAAO4f,IAAe,KAJ3Dk+D,EAN+C/5B,EAMxD46B,QACgBruD,EAPwCyzB,EAOxDg7B,eACWC,EAR6Cj7B,EAQxD66B,UACMb,EATkDh6B,EASxDi6B,KAGD,OACC3/D,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,YAAY2H,QAAQ,SACtC35B,aAAE,oCADJ,MAID0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACCltC,KAAK,OACLiqB,QAAQ,WACRwwB,UAAQ,EACRxR,WAAS,EACT/0B,MAAOjc,aAAE,0BACT8b,KAAK,UACLhJ,MAAOkrE,GAAW,GAClB9kD,SAAU,SAAA7B,GAAE,OACXC,YACCgmD,aAAqB,CACpBC,GAAInhC,EACJ74B,IAAK,UACLzQ,MAAOukB,EAAG8G,OAAOrrB,UAIpBgd,MAAOqtD,KAAaA,EAAQz9D,MAC5Bq1B,WAAYooC,GAAaA,EAAQz9D,MAAQy9D,EAAQ1nC,OAAS,MAG5D/3B,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAC+lC,GAAD,CACClB,UAAQ,EACRxwB,QAAQ,WACR/V,MAAOjc,aAAE,qBAETk5B,SAAU,SAAA/vB,GAAG,OACZmuB,YACCgmD,aAAqB,CACpBC,GAAInhC,EACJ74B,IAAK,YACLzQ,MAAO3J,MAIV0V,OAAQi/D,GACRhrE,MAA4B,kBAAdmrE,EAAyBA,EAAY,GACnD77B,OAAO,kBACPpR,WAAS,EACTlhB,MAAOuuD,KAAgBA,EAAW3+D,MAClCq1B,WACCspC,GAAgBA,EAAW3+D,MACxB2+D,EAAW5oC,OACXz1C,aAAE,mCAIR0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,UAAU2H,QAAQ,QAAQuT,cAAY,GACxDltC,aAAE,yBADJ,KAGC89E,GAAgBp9E,IAAI,SAAA+L,GAAC,OACrBiR,EAAA3e,EAAA4e,cAAA0f,GAAA,GACC9Z,IAAK9W,EAAEqG,MACPkf,QAAQ,UACR2H,QAAQ,QACRuT,cAAY,GAEZxvB,EAAA3e,EAAA4e,cAAA,cAASlR,EAAEwP,MAAX,KAND,IAM8BxP,EAAEmjB,QAGjClS,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,UAAU2H,QAAQ,QAAQuT,cAAY,GAA1D,KACIltC,aAAE,sBAGL2vB,GAAWuuD,GAAmBC,IAC/BzgE,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAAozB,GAAA,GAAajhB,MAAOH,GAAWA,EAAQjQ,MAAOwd,UAAU,YACvDxf,EAAA3e,EAAA4e,cAAAsxC,GAAA,GACCC,QACCxxC,EAAA3e,EAAA4e,cAAAwxC,GAAA,GACCC,UAAW8uB,EACXhlD,SAAU,SAAA7B,GAAE,OACXC,YACCgmD,aAAqB,CACpBC,GAAInhC,EACJ74B,IAAK,kBACLzQ,MAAOukB,EAAG8G,OAAOixB,YAIpBt8C,MAAM,kBACNuf,MAAM,YAGRpW,MAAOjc,cAAG2vB,GAAW,IAAI8lB,QAAU0oC,OAKtCf,GAAWA,EAAQ19D,OAAS09D,EAAQ3nC,QACpC/3B,EAAA3e,EAAA4e,cAAAmU,EAAA,GAAOE,QAAQ,WAAWD,SAAS,SACjCqrD,EAAQ3nC,UCrEC6oC,OA/Df,WAAyD,IAAA1+E,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAxBo9C,EAA4Bx8C,EAA5Bw8C,QAASn9B,EAAmBrf,EAAnBqf,WAC7Bs/D,EAAanrD,YAAY,SAAA/zB,GAAK,OACrC8gB,aAAyB9gB,EAAO+8C,KADzBmiC,SADgDn7B,EAKPhwB,YAChD,SAAA/zB,GAAK,OAAIyb,aAAsBzb,EAAO4f,IAAe,KADpCu/D,EALsCp7B,EAKhDm7B,SAA6BnB,EALmBh6B,EAKzBi6B,KAI/B,OACC3/D,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAQ,YAAY2H,QAAQ,SACtC35B,aAAE,qBADJ,MAID0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAAs3B,GAAA,GACC3gB,WAAS,EACTvsB,KAAK,OACLiqB,QAAQ,WACRwwB,UAAQ,EACRxR,WAAS,EACT/0B,MAAOjc,aAAE,sBACT8b,KAAK,WACLhJ,MAAOyrE,GAAY,GACnBrlD,SAAU,SAAA7B,GAAE,OACXC,YACCgmD,aAAqB,CACpBC,GAAInhC,EACJ74B,IAAK,WACLzQ,MAAOukB,EAAG8G,OAAOrrB,UAIpBkiC,WAAY,CACXW,aACCj4B,EAAA3e,EAAA4e,cAAAi4B,GAAA,GAAgB1a,SAAS,OAAzB,IAAA/yB,OACM3B,cAIRspB,MAAO0uD,KAAiBA,EAAY9+D,MACpCq1B,WACCypC,GAAiBA,EAAY9+D,MAAQ8+D,EAAY/oC,OAAS,MAI5D2nC,GAAWA,EAAQ19D,OAAS09D,EAAQ3nC,QACpC/3B,EAAA3e,EAAA4e,cAAAmU,EAAA,GAAOE,QAAQ,WAAWD,SAAS,SACjCqrD,EAAQ3nC,UCtDDgpC,GAA0B,SAAA7+E,GAAA,IACtCI,EADsCJ,EACtCI,EACAg9E,EAFsCp9E,EAEtCo9E,WACA/jD,EAHsCr5B,EAGtCq5B,QACAylD,EAJsC9+E,EAItC8+E,SACA3B,EALsCn9E,EAKtCm9E,iBACAh1D,EANsCnoB,EAMtCmoB,OANsC,OAQtCrK,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCpmC,IAAI,aACJ4X,KAAMn7B,EAAE,aAAc,CAAEuJ,QAAQ,IAChC6xB,OAAQ4hD,GAAc,IAAI5zD,aAE3B1L,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCpmC,IAAI,mBACJ4X,KAAMn7B,EAAE,mBAAoB,CAAEuJ,QAAQ,IACtC6xB,MACC1d,EAAA3e,EAAA4e,cAACggB,EAAA,EAAD,CACCjF,UAAWO,EAAQ74B,QACnB06B,UAAW96B,EAAE,uBAAwB,CACpCyJ,KAAM,CAACi1E,EAASrB,KAAMt1D,EAAQ22D,EAASC,MAAO52D,KAE/CgQ,QAAO,GAAA5vB,OAAK40E,EAAL,KAAA50E,OAAyB4f,SAOxB62D,GAAsB,SAAAt+E,GAAA,IAClCN,EADkCM,EAClCN,EACAg+E,EAFkC19E,EAElC09E,QACA/kD,EAHkC34B,EAGlC24B,QACAylD,EAJkCp+E,EAIlCo+E,SACAT,EALkC39E,EAKlC29E,UACAl2D,EANkCznB,EAMlCynB,OANkC,OAQlCrK,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCpmC,IAAI,UACJ4X,KAAMn7B,EAAE,UAAW,CAAEuJ,QAAQ,IAC7B6xB,OAAQ4iD,GAAW,IAAI50D,aAExB1L,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCpmC,IAAI,YACJ4X,KAAMn7B,EAAE,YAAa,CAAEuJ,QAAQ,IAC/B6xB,MACC1d,EAAA3e,EAAA4e,cAACggB,EAAA,EAAD,CACCjF,UAAWO,EAAQ74B,QACnB06B,UAAW96B,EAAE,2BAA4B,CACxCyJ,KAAM,CAACi1E,EAASrB,KAAMt1D,KAEvBgQ,QAAS/3B,EAAC,QAAAmI,OAAS81E,EAAT,iBAOFY,GAAgB,SAAAp+E,GAAA,IAC5BT,EAD4BS,EAC5BT,EACAu+E,EAF4B99E,EAE5B89E,SACAn+E,EAH4BK,EAG5BL,QACA64B,EAJ4Bx4B,EAI5Bw4B,QACAylD,EAL4Bj+E,EAK5Bi+E,SACA32D,EAN4BtnB,EAM5BsnB,OAN4B,OAQ5BrK,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCpmC,IAAI,OACJ4X,KAAMn7B,EAAE,sBACRo7B,OAAQh7B,GAAW,IAAIgpB,aAExB1L,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCpmC,IAAI,WACJ4X,KAAMn7B,EAAE,WAAY,CAAEuJ,QAAQ,IAC9B6xB,MACC1d,EAAA3e,EAAA4e,cAACggB,EAAA,EAAD,CACCjF,UAAWO,EAAQ74B,QACnB06B,UAAW96B,EAAE,oBAAqB,CACjCyJ,KAAM,CACLi1E,EAASrB,KACTt1D,EAFK,GAAA5f,OAGFo2E,EAHE,KAAAp2E,OAGU3B,eAGjBuxB,QAAO,GAAA5vB,OAAKo2E,EAAL,KAAAp2E,OAAiB3B,kBAOhBs4E,GAA6B,SAAAj+E,GAAA,IACzCb,EADyCa,EACzCb,EACAg9E,EAFyCn8E,EAEzCm8E,WACAS,EAHyC58E,EAGzC48E,aACAxkD,EAJyCp4B,EAIzCo4B,QACAylD,EALyC79E,EAKzC69E,SACA3B,EANyCl8E,EAMzCk8E,iBANyC,OAQzCr/D,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCpmC,IAAI,aACJ4X,KAAMn7B,EAAE,aAAc,CAAEuJ,QAAQ,IAChC6xB,OAAQ4hD,GAAc,IAAI5zD,aAE3B1L,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCpmC,IAAI,eACJ4X,KAAMn7B,EAAE,eAAgB,CAAEuJ,QAAQ,IAClC6xB,OAAQqiD,GAAgB,IAAIr0D,aAE7B1L,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCpmC,IAAI,mBACJ4X,KAAMn7B,EAAE,mBAAoB,CAAEuJ,QAAQ,IACtC6xB,MACC1d,EAAA3e,EAAA4e,cAACggB,EAAA,EAAD,CACCjF,UAAWO,EAAQ74B,QACnB06B,UAAW96B,EAAE,uBAAwB,CACpCyJ,KAAM,CAACi1E,EAASrB,KAAM,GAAIqB,EAASC,MAAO,MAE3C5mD,QAASglD,EAAmB,UChG3BziD,GAAY9C,aC9BI,SAAAC,GAErB,MAAO,CACN3H,MAAO,CACNuC,MAAOoF,EAAMK,QAAQhI,MAAMkI,MAE5BrI,QAAS,CACR0C,MAAOoF,EAAMK,QAAQnI,QAAQovD,MAE9BC,eAAgB,CACf9jD,SAAU,WACVC,KAAM,mBACN5J,IAAK,qBAENi4B,WAAY,CACXjtB,OAAQ,IACRC,MAAO,OACPiD,SAAU,OACVmvC,UAAWn3C,EAAMo3C,QAAQ,OD+HboQ,OAjHf,SAA4BhvD,GAC3B,IAAMgJ,EAAUqB,KACR4kD,EAA6BjvD,EAA7BivD,gBAAiB9iC,EAAYnsB,EAAZmsB,QACnB+iC,EAAO/iC,EACPz6C,EAAUyxB,YAAY1xB,KACpBtB,EAAYuB,EAAQM,SAApB7B,QACA2nB,EAAWqL,YAAYzyB,MAAvBonB,OACFgqB,EAAU3e,YAAY,SAAA/zB,GAAK,OAAI8G,aAAkB9G,EAAO+8C,KAP5BgH,EAkB9BhwB,YAAY,SAAA/zB,GAAK,OAAI8gB,aAAyB9gB,EAAO8/E,KATxDnC,EATiC55B,EASjC45B,WACAD,EAViC35B,EAUjC25B,iBACAqC,EAXiCh8B,EAWjCg8B,uBACApB,EAZiC56B,EAYjC46B,QACAO,EAbiCn7B,EAajCm7B,SACAN,EAdiC76B,EAcjC66B,UACAR,EAfiCr6B,EAejCq6B,aAfiC4B,EAAAj8B,EAgBjCs7B,gBAhBiC,IAAAW,EAgBtB,GAhBsBA,EAAAC,EAAAl8B,EAiBjC5jC,cAjBiC,IAAA8/D,EAiBxB,GAjBwBA,EAoBlC,OACC5hE,EAAA3e,EAAA4e,cAAA,WACEo0B,EACAr0B,EAAA3e,EAAA4e,cAACurC,GAAD,MAEAxrC,EAAA3e,EAAA4e,cAACkrC,GAAD,KACEu2B,EACA1hE,EAAA3e,EAAA4e,cAACorC,GAAD,KACCrrC,EAAA3e,EAAA4e,cAACgzC,GAAD,CAAc3wD,EAAGA,KAAGmC,SAAUR,EAAQK,OAAOG,YAE3C,KACJub,EAAA3e,EAAA4e,cAACmrC,GAAD,KACEtpC,EAAOvgB,OACLugB,EAAO9e,IAAI,SAAC2tB,EAAK/F,GAAN,OACX5K,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCpmC,IAAK+E,EACLi3D,cAAetmD,EAAQnJ,MACvB0vD,eAAgBvmD,EAAQnJ,MACxBqL,KAAMzd,EAAA3e,EAAA4e,cAACwgC,GAAAp/C,EAAD,MACNq8B,MAAO/M,MAGR,KAEF6wD,EACEA,EAAgBx+E,IAAI,SAAC6zC,EAAKjsB,GAAN,OACpB5K,EAAA3e,EAAA4e,cAACgsC,GAAD,CACCpmC,IAAK+E,EACLi3D,cAAetmD,EAAQtJ,QACvB6vD,eAAgBvmD,EAAQtJ,QACxBwL,KAAMzd,EAAA3e,EAAA4e,cAACutB,GAAAnsC,EAAD,MACNq8B,MAAOp7B,aAAEu0C,EAAIA,IAAK,CAAE9qC,KAAM8qC,EAAI9qC,WAG/B,KAEU,yBAAZ2yC,GACA1+B,EAAA3e,EAAA4e,cAAC8hE,GAAD,CACCz/E,EAAGA,KACHg9E,WAAYA,EACZ/jD,QAASA,EACTylD,SAAUA,EACV3B,iBAAkBA,EAClBh1D,OAAQA,IAIG,yBAAZq0B,GACA1+B,EAAA3e,EAAA4e,cAAC+hE,GAAD,CACC1/E,EAAGA,KACHg+E,QAASA,EACT/kD,QAASA,EACTylD,SAAUA,EACVT,UAAWA,EACXl2D,OAAQA,IAIG,4BAAZq0B,GACA1+B,EAAA3e,EAAA4e,cAACgiE,GAAD,CACC3/E,EAAGA,KACHg9E,WAAYA,EACZ/jD,QAASA,EACTylD,SAAUA,EACV3B,iBAAkBA,EAClBU,aAAcA,EACd11D,OAAQA,IAIG,WAAZq0B,GACA1+B,EAAA3e,EAAA4e,cAACiiE,GAAD,CACC5/E,EAAGA,KACHg+E,QAASA,EACT/kD,QAASA,EACTylD,SAAUA,EACVt+E,QAASA,EACT2nB,OAAQA,EACRw2D,SAAUA,QE5GZsB,GAAsBt/B,GAAWlC,IAMjCyhC,GAAW,CAChB1hC,eALsB,SAAAhC,GACtB9kB,YAAQyoD,YAAoB,CAAExC,GAAInhC,MAKlC0e,kBAAkB,GAGNklB,GAA4B,SAAA/vD,GAAK,OAC7CvS,EAAA3e,EAAA4e,cAACkiE,GAAD3/E,OAAAk2B,OAAA,GACKnG,EADL,CAEC8wB,SAAS,qCACTk/B,aAAa,0CACbrzE,MAAM,uCACNwvC,QAAQ,wBACJ0jC,GANL,CAOC5zC,MAAO,CACN,CACCt/B,MAAO,sCACPswB,UAAW4/C,GACX5gC,aAAc,SAAAjsB,GAAK,OAAIqH,YAAQ4oD,aAAyBjwD,MAEzD,CACCrjB,MAAO,sBACP2vC,iBAAkB,UAClBrf,UAAW+hD,GACX5iC,WAAY,SAAApsB,GAAK,OAChBqH,YACC6oD,YAAWjgF,OAAAC,GAAA,EAAAD,CAAA,GACP+vB,EADM,CAETsqC,cAAe6lB,eAQTC,GAAuB,SAAAzgF,GAAkCA,EAA/BkyC,QAA+B,IAAtB71B,EAAsBrc,EAAtBqc,MAAUgU,EAAY/vB,OAAAgY,EAAA,EAAAhY,CAAAN,EAAA,qBACrE,OACC8d,EAAA3e,EAAA4e,cAACkiE,GAAD3/E,OAAAk2B,OAAA,GACKnG,EADL,CAEC8wB,SAAU9kC,GAAS,qCACnBgkE,aAAa,0CACbrzE,MAAM,uCACNwvC,QAAQ,wBACJ0jC,GANL,CAOC5zC,MAAO,CACN,CACCt/B,MAAO,sCACPswB,UAAW6gD,GACX7hC,aAAc,SAAAjsB,GAAK,OAAIqH,YAAQgpD,aAAyBrwD,MAEzD,CACCrjB,MAAO,sBACP2vC,iBAAkB,UAClBrf,UAAW+hD,GACX5iC,WAAY,SAAApsB,GAAK,OAChBqH,YACC6oD,YAAWjgF,OAAAC,GAAA,EAAAD,CAAA,GACP+vB,EADM,CAETsqC,cAAegmB,gBASV/C,GAA+B,SAAAvtD,GAAK,OAChDvS,EAAA3e,EAAA4e,cAACkiE,GAAD3/E,OAAAk2B,OAAA,GACKnG,EADL,CAEC8wB,SAAS,yCACTk/B,aAAa,0CACbrzE,MAAM,uCACNwvC,QAAQ,2BACJ0jC,GANL,CAOC5zC,MAAO,CACN,CACCt/B,MAAO,sCACPswB,UAAWsjD,GACXtkC,aAAc,SAAAjsB,GAAK,OAAIqH,YAAQmpD,aAA4BxwD,MAE5D,CACCrjB,MAAO,sBACP2vC,iBAAkB,UAClBrf,UAAW+hD,GACX5iC,WAAY,SAAApsB,GAAK,OAChBqH,YACC6oD,YAAWjgF,OAAAC,GAAA,EAAAD,CAAA,GACP+vB,EADM,CAETsqC,cAAemmB,eAQTC,GAAgB,SAAA1wD,GAAK,OACjCvS,EAAA3e,EAAA4e,cAACkiE,GAAD3/E,OAAAk2B,OAAA,GACKnG,EADL,CAEC8wB,SAAS,sBACTk/B,aAAa,2BACbrzE,MAAM,wBACNwvC,QAAQ,UACJ0jC,GANL,CAOC5zC,MAAO,CACN,CACCt/B,MAAO,uBACPswB,UAAWohD,GACXpiC,aAAc,SAAAjsB,GAAK,OAAIqH,YAAQspD,aAAkB3wD,MAElD,CACCrjB,MAAO,sBACP2vC,iBAAkB,UAClBrf,UAAW+hD,GACX5iC,WAAY,SAAApsB,GAAK,OAChBqH,YACC6oD,YAAWjgF,OAAAC,GAAA,EAAAD,CAAA,GACP+vB,EADM,CAETsqC,cAAesmB,qCCnGhBlf,GAAWptC,EAAoBF,EAAA,GAE/BysD,GAAuBt6E,kCACvBu6E,GAAsBv6E,6CACtBw6E,GAAyBx6E,gCACzBy6E,GAAwBz6E,6CAExB06E,GAAc,SAAAthF,GAAqB,IAAlBu7B,EAAkBv7B,EAAlBu7B,KAAMC,EAAYx7B,EAAZw7B,MACtBnC,EAAUqB,KAChB,OACC5c,EAAA3e,EAAA4e,cAAAuc,EAAA,OACCxc,EAAA3e,EAAA4e,cAAA4lC,GAAA,GACCC,WAAS,EACT9qB,UAAWO,EAAQhB,KACnBoE,QAAS,EACT6lC,QAAQ,SACRroC,WAAW,UAEXnc,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,EAAG1c,GAAI,GAC5BxP,GAEFzd,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,EAAG1c,GAAI,GAC5BvP,MAOAd,GAAY9C,aC7EI,SAAAC,GAErB,MAAO,CACNQ,KAAM,CACLiJ,SAAU,GAEXigD,UAAW,CACV9+C,OANc5K,EAAM4E,QAAQ,IAQ7Bj8B,QAAS,CACRqxC,SAAU,aACVkO,UAAW,YACXze,SAAU,GAEXkgD,aAAc,CACb5kD,MAAO,QAER6kD,YAAa,CACZziD,YAAanH,EAAM4E,QAAQ,ODkT9B,SAASilD,GAAqBrxD,GAC7B,IAAMgJ,EAAUqB,KACVinD,EAAqBnuD,YAAY1uB,MACjC88E,EAAYD,EAAqB,EAC/BnhF,EAA2C6vB,EAA3C7vB,QAASqhF,EAAkCxxD,EAAlCwxD,WAAYv7D,EAAsB+J,EAAtB/J,QAAS/jB,EAAa8tB,EAAb9tB,SAChCu/E,EAAa,CAAC,WAAY,YAAa,WACrC1kD,EAAsC5J,YAC7C/vB,KADO25B,kCAGR,OACCtf,EAAA3e,EAAA4e,cAACgkE,GAAD,CACCxmD,KACCzd,EAAA3e,EAAA4e,cAAA4lC,GAAA,GACCC,WAAS,EACTnD,UAAU,MACVhkB,QAAS,EACTxC,WAAW,SACXqoC,QAAQ,cAERxkD,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,GACT0N,EAAA3e,EAAA4e,cAAAikE,GAAA,GAAQvvD,MAAOqvD,EAAWD,MAE3B/jE,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,GACT0N,EAAA3e,EAAA4e,cAAAggB,EAAA,GACCjF,UAAWO,EAAQ74B,QACnB23B,QAASra,EAAA3e,EAAA4e,cAAA0f,GAAA,OAAa0F,aAAc3iC,IACpC06B,UAAW96B,aAAE,oBAAqB,CACjCyJ,KAAM,SAAAtB,OAASs5E,EAAT,iBAMXrmD,MACC1d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnD,UAAU,MAAM6hB,QAAQ,SAASroC,WAAW,UAC1D3T,EACAxI,EAAA3e,EAAA4e,cAAA0W,EAAA,GACCrC,QAAQ,YACRgf,WAAS,EACTlxB,UAAQ,EACRgvB,UAAWpxB,EAAA3e,EAAA4e,cAAAkkE,GAAA,QACXvvD,KAAK,QACLD,MAAOqvD,EAAWH,IANnB,GAAAp5E,OAQKnI,aAAE,gBARP,OAAAmI,OAQ4BhG,IAG5Bub,EAAA3e,EAAA4e,cAACmkE,GAAD,CACChiE,UAAW0hE,EACXxwC,WAAS,EACT3e,MAAM,UACNL,QAAQ,YACR/V,MAAM,mBACNsW,QAAS,kBACR+E,YACCgmD,aAAqB,CACpBC,GAAI,uBACJh6D,IAAK,UACLzQ,MAAO1S,MAIVkyB,KAAK,QACLyvD,kBAAmB/kD,OASXglD,OA7Tf,WAAuB,IAAAC,EACI7uD,YAAYhxB,MAA9BD,gBADc,IAAA8/E,EACH,GADGA,EAEhBC,EAAkB9uD,YAAYxwB,KAC9B6+E,EAAaruD,YAAY1uB,MACzBO,EAAOmuB,YAAYruB,MACnBy8E,EAAYC,EAAa,EACzBh9E,EAAoB2uB,YAAY9uB,KAChCrD,EAAuBmyB,YAAYryB,MACjCgnB,EAAWqL,YAAYzyB,MAAvBonB,OARc84C,EAalBztC,YAAY/vB,KAHf8+E,EAVqBthB,EAUrBshB,cACA32D,EAXqBq1C,EAWrBr1C,yBACAwR,EAZqB6jC,EAYrB7jC,kCAGKolD,EAAkBhvD,YAAY,SAAA/zB,GAAK,OACxCuF,aAAuBvF,EAAO6iF,KAGzBx7E,EAAkB0sB,YAAY3sB,MAnBdssB,EAqBUC,oBAAS,GArBnBC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GAqBfsvD,EArBepvD,EAAA,GAqBLqvD,EArBKrvD,EAAA,GAuBhBgG,EAAUqB,KAMhB,OACC5c,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAAAsf,EAAA,GAAMvE,UAAWO,EAAQhB,KAAMohC,gBAAc,GAC5C37C,EAAA3e,EAAA4e,cAAAklC,GAAA,GAAe85B,eAAa,GAAE38E,aAAE,iBAChC0d,EAAA3e,EAAA4e,cAACgkE,GAAD,CACCxmD,KACCzd,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKc,QAAQ,OAAOoB,cAAc,MAAMyX,SAAS,QAChD90B,EAAA3e,EAAA4e,cAAAggB,EAAA,EAAAz9B,OAAAk2B,OAAA,CACCsC,UAAWO,EAAQ74B,SACdgiF,GAAmB,CACvBrqD,QAASqqD,EACTtnD,UAAWonD,IAENE,GAAmB,CACxBrqD,QAASmqD,EACTpnD,UAAW96B,aAAE,kBAGf0d,EAAA3e,EAAA4e,cAAAwU,EAAA,GACCE,MAAM,UACNE,QAAS,WACRupD,KAAKoG,GACL5qD,YACCukD,YAAS,CACR9zE,KAAM,OACNkU,MAAOjc,aAAE,uBACT2xB,QAAS,SAKZjU,EAAA3e,EAAA4e,cAACo9C,GAAAh8D,EAAD,QAIHq8B,QACG8mD,GACDxkE,EAAA3e,EAAA4e,cAAC4kE,GAAD,CACCziE,UAAW0hE,EACXxwC,WAAS,EACThf,QAAQ,YACRK,MAAM,UACNzL,MAAM,MACN0L,KAAK,QACLyvD,kBAAmB/kD,MAMvBtf,EAAA3e,EAAA4e,cAAAob,EAAA,QACArb,EAAA3e,EAAA4e,cAACgkE,GAAD,CACCxmD,KACCzd,EAAA3e,EAAA4e,cAACyf,GAAD,CACC1D,SACElO,GAAyD,IAA7BA,GAG9B9N,EAAA3e,EAAA4e,cAAAggB,EAAA,GACCjF,UAAWO,EAAQ74B,QACnB23B,QAAO,GAAA5vB,OAAK60B,GACX,EADM,KAAA70B,OACD4f,GACN+S,UAAW96B,aAAE,iDAIhBo7B,MACC1d,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAAC6kE,GAAD,CACCvhE,GAAE,cAAA9Y,OAAgBlD,EAAhB,UACF+rC,WAAS,EACThf,QAAQ,YACRK,MAAM,YACND,aAAW,SACXE,KAAK,SAEL5U,EAAA3e,EAAA4e,cAAC8kE,GAAA1jF,EAAD,CAAgB25B,UAAWO,EAAQooD,cAClCrhF,aAAE,YAGL0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAAC+kE,GAAD,CACC5iE,UAAW0hE,EACXxwC,WAAS,EACThf,QAAQ,YACRK,MAAM,UACN0vD,kBAAmB/kD,EACnB2lD,qBAAsB3lD,EACtBpW,MAAOmB,EACPuK,KAAK,gBAQZ5U,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,GACRxgC,EAAA3e,EAAA4e,cAAAqzC,GAAA,GACCqxB,SAAUA,EACVnpD,SA1GuB,WAC1BopD,GAAaD,IA0GVpxB,QAAQ,EACRj/B,QAAQ,YAERtU,EAAA3e,EAAA4e,cAAAuzC,GAAA,GACCC,WAAYzzC,EAAA3e,EAAA4e,cAAComB,GAAAhlC,EAAD,MACZygC,gBAAc,mBACdp5B,GAAG,mBAEHsX,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY3E,UAAWO,EAAQ2pD,SAC7B5iF,aAAE,uCAGL0d,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAAob,EAAA,QACArb,EAAA3e,EAAA4e,cAACgkE,GAAD,CACCxmD,KACCzd,EAAA3e,EAAA4e,cAAAggB,EAAA,GACCjF,UAAWO,EAAQ74B,QACnB06B,UAAW,GACX/C,QAAS/3B,aAAE,qBAGbo7B,MACC1d,EAAA3e,EAAA4e,cAACmkE,GAAD,CACChiE,UAAW0hE,EACXxwC,WAAS,EACThf,QAAQ,YACRK,MAAM,YACNC,KAAK,QACLyvD,kBAAmB/kD,MAItBtf,EAAA3e,EAAA4e,cAAAob,EAAA,QACArb,EAAA3e,EAAA4e,cAAAklC,GAAA,GAAe85B,eAAa,GAC1B38E,aAAE,4BAEJ0d,EAAA3e,EAAA4e,cAAAsf,EAAA,GAAMo8B,gBAAc,GACnB37C,EAAA3e,EAAA4e,cAAC2jE,GAAD,CACClhF,QAAS+hF,EACTV,WAAYA,EACZt/E,SAAUA,EACV+jB,SAAO,IAEPhmB,OAAOma,KAAK5V,GACXkI,OAAO,SAAA5N,GAAC,OAAIA,IAAMkC,GAAwBlC,IAAMojF,IAChDzhF,IAAI,SAACN,EAASmjB,GAAV,OACJ7F,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,CAAU3O,IAAKA,GACd7F,EAAA3e,EAAA4e,cAAC2jE,GAAD,CACClhF,QAASA,EACTqhF,WAAYh9E,EAAkBrE,SAKnCsd,EAAA3e,EAAA4e,cAAAob,EAAA,QACArb,EAAA3e,EAAA4e,cAAAsf,EAAA,GAAMhE,QAAS,CAAEhB,KAAMgB,EAAQmoD,eAC9B1jE,EAAA3e,EAAA4e,cAAAuc,EAAA,OACCxc,EAAA3e,EAAA4e,cAAAggB,EAAA,GACCjF,UAAWO,EAAQ74B,QACnB23B,QAAS/3B,aAAE,sBAAuB,CACjCyJ,KAAM,CAACs5B,aAAcg+C,OAEtBjmD,UAAW96B,aAAE,uBAAwB,CACpCyJ,KAAM,CAACq3E,SAIVpjE,EAAA3e,EAAA4e,cAAAuc,EAAA,OACCxc,EAAA3e,EAAA4e,cAAAggB,EAAA,GACCjF,UAAWO,EAAQ74B,QACnB23B,QAAS/3B,aAAE,wBAAyB,CACnCyJ,KAAM,CAACs5B,aAAck+C,OAEtBnmD,UAAW96B,aAAE,yBAA0B,CACtCyJ,KAAM,CAACu3E,SAKTt6E,GACAgX,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAAAob,EAAA,QACArb,EAAA3e,EAAA4e,cAAAuc,EAAA,OACCxc,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCc,QAAQ,OACR6Y,SAAU,OACV5Y,KAAK,IACLoB,eAAe,gBACfnB,WAAW,UAEXnc,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqI,SAAS,KACbxjB,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKiY,GAAI,GACRpzB,EAAA3e,EAAA4e,cAACklE,GAAD,CACC7xC,WAAS,EACThf,QAAQ,YACRK,MAAM,UACNC,KAAK,yCEpTNwwD,GAAc,SAAAljF,GAA0B,IAAvB8L,EAAuB9L,EAAvB8L,IAAKkB,EAAkBhN,EAAlBgN,MAAOm2E,EAAWnjF,EAAXmjF,EAAGC,EAAQpjF,EAARojF,EAEtCC,OACiB/jF,IAAtB87C,OAAOkoC,WAA2BloC,OAAOkoC,WAAaloC,OAAOmoC,QACxDC,OACgBlkF,IAArB87C,OAAOqoC,UAA0BroC,OAAOqoC,UAAYroC,OAAOsoC,QAEtD9mD,EAAQwe,OAAOC,WAClBD,OAAOC,WACPpW,SAAS0+C,gBAAgBC,YACzB3+C,SAAS0+C,gBAAgBC,YACzBxoC,OAAOyoC,OAAOjnD,MACXD,EAASye,OAAOsvB,YACnBtvB,OAAOsvB,YACPzlC,SAAS0+C,gBAAgBG,aACzB7+C,SAAS0+C,gBAAgBG,aACzB1oC,OAAOyoC,OAAOlnD,OAEXonD,EAAannD,EAAQwe,OAAOyoC,OAAOG,WACnCzoD,GAAQqB,EAAQumD,GAAK,EAAIY,EAAaV,EACtC1xD,GAAOgL,EAASymD,GAAK,EAAIW,EAAaP,EACtCS,EAAY7oC,OAAOvpB,KACxB/lB,EACAkB,EAFiB,0DAAAzE,OAKT46E,EAAIY,EALK,mBAAAx7E,OAMR66E,EAAIW,EANI,gBAAAx7E,OAOXopB,EAPW,iBAAAppB,OAQVgzB,EARU,YAYd6f,OAAO8oC,OAAOD,EAAUC,wECHvBniB,GAAWptC,EAAoBF,EAAA,GAE/BiG,GAAY9C,aChCI,SAAAC,GACrB,MAAO,CACNssD,QAAS,CACRp8D,gBAAiB,UACjBi4B,aAAc,WACdokC,WAAY,QAEbp3E,MAAO,CACN+vB,SAAU,OACV6d,UAAW,SACX8E,cAAe,aAEhBwiB,SAAU,CACTnlC,SAAU,OACV6d,UAAW,SACX8E,cAAe,aAEhB5kB,MAAO,CACN6B,OAAQ,QAET3M,KAAM,CACL+M,SAAU,QAEXsnD,SAAU,CACTzpC,UAAW,SAEZ0pC,UAAW,CACVvnD,SAAU,QAEX6K,IAAK,CACJhL,MAAO,WDGJ2nD,GAAyB,CAC9B,CACCv3E,MAAO5M,aAAE,eACTuyB,QAAS,SAAAtC,GAAK,OE1BQ,SAAArwB,GAAoC,IAAjCwkF,EAAiCxkF,EAAjCwkF,UAAWr8D,EAAsBnoB,EAAtBmoB,OAAW9P,EAAW/X,OAAAgY,EAAA,EAAAhY,CAAAN,EAAA,wBACrDslD,EAAMx5C,KAAIC,MALA,sCAKgB,GAChCu5C,EAAI14B,OAAS,KACT43D,GACHl/B,EAAIz4B,MAAJvsB,OAAAC,GAAA,EAAAD,CAAA,GACIglD,EAAIz4B,MADR,CAEC43D,KAAMD,EAAS,YAAAj8E,OAAei8E,GAAc,KAC5CE,YAAaF,EACbG,aAAcx8D,GACX9P,GAEJ6qE,GAAY,CACXp3E,IAAKA,KAAI8O,OAAO0qC,GAChBt4C,MAAO5M,aAAE,gBACT+iF,EAAG,IACHC,EAAG,OAGJv0D,QAAQqB,MAAM,mCFQI00D,CAASv0D,IAC3B2S,OAAQ6hD,KACRC,OAAQ1kF,aAAE,QACV2kF,QAAS3kF,aAAE,aACX4kF,UAAW5kF,aAAE,eACb6kF,WAAY7kF,aAAE,oBAEf,CACC4M,MAAO5M,aAAE,iBACTuyB,QAAS,SAAAtC,GAAK,OEOiB,SAAAxvB,GAA2B,IAAxB2jF,EAAwB3jF,EAAxB2jF,UAAWr8D,EAAatnB,EAAbsnB,OACxC+8D,EAAS,IAAIC,KAAe,CACjCC,YAAa,cACbC,YAAa,gDACbjzD,QAAS,OACTkzD,UAAWn9D,EACXo9D,YAAaf,EACbgB,WApD4B5+E,6CAsD7Bs+E,EAAOO,SAASC,QAAQ3mD,MAAMkT,OAAS,IACvCizC,EAAOS,OFjBYC,CAAkBv1D,IACpC2S,OAAQ6iD,KACRf,OAAQ1kF,aAAE,QACV2kF,QAAS3kF,aAAE,aACX4kF,UAAW5kF,aAAE,eACb6kF,WAAY7kF,aAAE,oBAEf,CACC4M,MAAO5M,aAAE,iBACTuyB,QAAS,SAAAtC,GAAK,OErBW,SAAA3vB,GAA2C,IAAxC8jF,EAAwC9jF,EAAxC8jF,UAAW9hF,EAA6BhC,EAA7BgC,MAAOylB,EAAsBznB,EAAtBynB,OAAW9P,EAAW/X,OAAAgY,EAAA,EAAAhY,CAAAI,EAAA,gCAC/D4kD,EAAMx5C,KAAIC,MA7BW,2CA6BgB,GAC3Cu5C,EAAI14B,OAAS,KACb04B,EAAIz4B,MAAJvsB,OAAAC,GAAA,EAAAD,CAAA,GACIglD,EAAIz4B,MADR,CAECi5D,KAAMtB,EACN9hF,QACAqjF,eAAgB59D,GACb9P,GAEJ6qE,GAAY,CAEXp3E,IAAKA,KAAI8O,OAAO0qC,GAChBt4C,MAAO5M,aAAE,mBACT+iF,EAAG,IACHC,EAAG,MFMe4C,CAAY31D,IAC9B2S,OAAQijD,KACRnB,OAAQ1kF,aAAE,WACV2kF,QAAS3kF,aAAE,gBACX4kF,UAAW5kF,aAAE,kBACb6kF,WAAY7kF,aAAE,wBAID,SAAS8lF,KACvB,IAAM7sD,EAAUqB,KACV8pD,EAAYhxD,YAAYxwB,KACtBmlB,EAAWqL,YAAYzyB,MAAvBonB,OACFzlB,EAAQ8wB,YAAY/wB,MACpB4C,EAAOmuB,YAAYruB,MAEzB,OACC2Y,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAACyvD,GAAI,EAAG90B,GAAI,EAAGD,GAAI,IAC5BhtB,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,WAAW0G,UAAWO,EAAQyB,OAC5Chd,EAAA3e,EAAA4e,cAAAkb,EAAA,GACC7Y,EAAG,EACH2Z,QAAQ,OACRoB,cAAc,SACdC,eAAe,gBACfuB,OAAQ,GAER7e,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY3E,UAAWO,EAAQrsB,OAAQ5M,aAAE,QACzC0d,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY3E,UAAWO,EAAQ6oC,SAAU50B,cAAY,GACnDltC,aAAE,mBAEJ0d,EAAA3e,EAAA4e,cAAA0W,EAAA,GACC9B,QAAS,WACRupD,KAAKsI,GACL9sD,YACCukD,YAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,uBACT2xB,QAAS,QAIZ+G,UAAWO,EAAQ8qD,QACnBzxD,KAAK,QACLD,MAAM,UACN0zD,kBAAgB,EAChB/0C,WAAS,EACTsuB,QAAS5hD,EAAA3e,EAAA4e,cAAAqoE,GAAA,GAAUrpD,SAAS,QAAQtK,MAAM,cAEzC+xD,GAEF1mE,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,GACRxgC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYiL,MAAM,SAASpL,UAAU,IAAI7K,MAAM,iBAC7CryB,aAAE,iCAOT0d,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAACyvD,GAAI,EAAG90B,GAAI,EAAGD,GAAI,IAC5BhtB,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,WAAW0G,UAAWO,EAAQyB,OAC5Chd,EAAA3e,EAAA4e,cAAAkb,EAAA,GACC7Y,EAAG,EACHimE,GAAI,EACJtsD,QAAQ,OACRoB,cAAc,SACdC,eAAe,gBACfuB,OAAQ,GAER7e,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY3E,UAAWO,EAAQrsB,OAC7B5M,aAAE,kBAEJ0d,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY3E,UAAWO,EAAQ6oC,SAAU50B,cAAY,GACnDltC,aAAE,8BAEJ0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,GACRxgC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYiL,MAAM,SAASpL,UAAU,IAAI7K,MAAM,iBAC7CryB,aAAE,kBAIN0d,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAAsf,EAAA,GAAMo8B,gBAAc,GAClB8qB,GAAuBzjF,IAAI,SAACsP,EAAMuT,GAAP,OAC3B7F,EAAA3e,EAAA4e,cAAAuc,EAAA,GACCgsD,gBAAc,EACd3iE,IAAKA,EACLgP,QAAS,kBAAMviB,EAAKuiB,QAAQ,CAAE6xD,YAAWr8D,SAAQzlB,YAEjDob,EAAA3e,EAAA4e,cAACwoE,GAAD,CACC5iE,IAAKA,EACL3W,MAAOoD,EAAKpD,MACZg2B,OAAQ5yB,EAAK4yB,OACb8hD,OAAQ10E,EAAK00E,OACbC,QAAS30E,EAAK20E,QACdC,UAAW50E,EAAK40E,UAChBC,WAAY70E,EAAK60E,qBASzBnnE,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAACyvD,GAAI,EAAG90B,GAAI,EAAGD,GAAI,IAC5BhtB,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,WAAW0G,UAAWO,EAAQyB,OAC5Chd,EAAA3e,EAAA4e,cAAAkb,EAAA,GACC7Y,EAAG,EACH2Z,QAAQ,OACRoB,cAAc,SACdC,eAAe,gBACfuB,OAAQ,GAER7e,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY3E,UAAWO,EAAQrsB,OAAQ5M,aAAE,QACzC0d,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY3E,UAAWO,EAAQ6oC,SAAU50B,cAAY,GACnDltC,aAAE,mBAEJ0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKqlB,GAAI,GACRxgC,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYiL,MAAM,SAASpL,UAAU,IAAI7K,MAAM,iBAC7CryB,aAAE,eAIN0d,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAACyoE,GAAD,CACCnlE,GAAE,cAAA9Y,OAAgBlD,EAAhB,cACFqtB,KAAK,QACLD,MAAM,UACNL,QAAQ,YACRgf,WAAS,GAGRhxC,aAAE,mBAUX,IAAMqmF,GAAiB,SAAAzmF,GAOjB,IANLgjC,EAMKhjC,EANLgjC,OACA8hD,EAKK9kF,EALL8kF,OACA93E,EAIKhN,EAJLgN,MACA+3E,EAGK/kF,EAHL+kF,QACAC,EAEKhlF,EAFLglF,UACAC,EACKjlF,EADLilF,WAEM5rD,EAAUqB,KAChB,OACC5c,EAAA3e,EAAA4e,cAAA0W,EAAA,GAAQ/B,KAAK,QAAQ0e,WAAS,EAAC+0C,kBAAgB,EAACrtD,UAAWO,EAAQ8qD,SAClErmE,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,EAAGwc,MAAM,QAChB9e,EAAA3e,EAAA4e,cAAA4lC,GAAA,GACCC,WAAS,EACTnD,UAAU,MACV6hB,QAAQ,gBACRroC,WAAW,UAEXnc,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,EAAG1c,GAAI,GAC7BjtB,EAAA3e,EAAA4e,cAAC25B,GAAD,CAAK5e,UAAWO,EAAQuO,IAAK9I,IAAKgmD,EAAQ11D,IAAK4T,KAEhDllB,EAAA3e,EAAA4e,cAAA4lC,GAAA,GAAMvzC,MAAI,EAAC06B,GAAI,GAAI2c,GAAI,EAAG1c,GAAI,EAAGjS,UAAWO,EAAQgrD,UACnDvmE,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY3E,UAAWO,EAAQirD,WAAYt3E,GAC1C,CAAC+3E,EAASC,EAAWC,GAAYnkF,IAAI,SAACsP,EAAMuT,GAAP,OACrC7F,EAAA3e,EAAA4e,cAAA0f,GAAA,GACC9Z,IAAG,QAAApb,OAAUob,GACbmV,UAAWO,EAAQrJ,KACnBsN,UAAU,IACV7K,MAAM,iBAELriB,UGtNHs2E,GAAqB,SAAApE,GAAe,gGAAA/5E,OAGgC+5E,EAHhC,uKAAA/5E,OAZtB,gSAYsB,gHAwB3Bo+E,OAff,SAAkBt2D,GACjB,IAAMpqB,EAAeutB,YAAYxwB,KAC3B4jF,EAAmBF,GAAmBzgF,GAE5C,OACC6X,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,KACJna,GACF6X,EAAA3e,EAAA4e,cAAA,OAAKi6B,wBAAyB,CAAEC,OAAQ2uC,iMCtBvCC,GAA4BjvD,aAAW,SAAAC,GAAK,MAAK,CACtDQ,KAAM,CACLtQ,gBAAiB,cACjBkqB,OAAQ,EACRrV,MAAO,SAAAvM,GAAK,OANO,IAOnBsM,OAAQ,SAAAtM,GAAK,OAPM,IAQnB0J,QAAS,OACTs3C,aAAc,MACdj2C,eAAgB,SAChBnB,WAAY,SACZwrB,OAAM,GAAAl9C,OAbY,EAaZ,aAAAA,OAA4BsvB,EAAMK,QAAQlE,KAAK,MACrD8yD,WAAY,OACZpuD,UAAW,CACVs2C,UAAW,+BACXiF,UAAW,qBAGbnjD,OAAQ,CACP20B,OAAM,GAAAl9C,OArBY,EAqBZ,aAAAA,OAA4BwsE,KAA5B,gBAEPgS,UAAW,CACVthC,OAAM,GAAAl9C,OAxBY,EAwBZ,aAAAA,OAA4BysE,OAEnCgS,KAAM,CACL1rD,SAAU,WACVvT,gBAAiB8P,EAAMK,QAAQM,OAAOC,MACtChG,MAAOuiD,KACPrjD,IAAK,OACL6J,MAAO,OACP61C,aAAc,UAIH4V,GAAoBl/C,aAAW,SAAAlQ,GAAK,MAAK,CACrD4jB,iBAAkB,CACjB9pB,IAAKu1D,GACL3rD,KAAI,eAAAhzB,OAAiB2+E,GAAjB,OACJ1rD,MAAK,cAAAjzB,OAAgB2+E,GAAhB,QAENC,KAAM,CACLxqD,OA3CkB,EA4ClB8oB,OAAQ,EACR1tB,WAAU,yDAAAxvB,OACTsvB,EAAMK,QAAQlE,KAAK,MAEpBozD,eAAc,GAAA7+E,OAAK8+E,GAAL,SAZiBt/C,CAc7Bu/C,MAEG,SAASC,GAAiBl3D,GAAO,IAAA+mC,EACjC/9B,EAAUwtD,GAA0Bx2D,GAClCS,EAA4BT,EAA5BS,OAAQi2D,EAAoB12D,EAApB02D,UAAWrqD,EAASrM,EAATqM,KAE3B,OACC5e,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCH,UAAWw+B,aAAKj+B,EAAQhB,MAAT++B,EAAA,GAAA92D,OAAAs9B,EAAA,EAAAt9B,CAAA82D,EACb/9B,EAAQ0tD,UAAYA,GADPzmF,OAAAs9B,EAAA,EAAAt9B,CAAA82D,EAEb/9B,EAAQvI,OAASA,GAFJsmC,IAIfr4B,MAAO,CACNyoD,gBAAe,OAAAj/E,OAASm0B,EAAT,KACf0qD,eAAgB,UAGhBL,GAAajpE,EAAA3e,EAAA4e,cAAA0pE,GAAA,GAAa3uD,UAAWw+B,aAAKj+B,EAAQ2tD,SCtE/C,IAAMU,GAAuB,WAGnC,IAFA,IAAMp7C,EAAQ,GAELv4B,EAAI,EAAGA,GAAK,EAAGA,IACvBu4B,EAAMzzB,KAAN,gCAAAtQ,OAA2CwL,IAE5C,OAAO2jB,YACN8gB,YAAc,KAAM,KAAM,CACzBvkB,aAAc7zB,aAAE,MAChB4M,MAAO5M,aAAE,iCACT4zB,KACClW,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAAA,UACEuuB,EAAMxrC,IAAI,SAAAurC,GAAI,OACdvuB,EAAA3e,EAAA4e,cAAA,MAAIi6B,wBAAyB,CAAEC,OAAQ73C,aAAEisC,SAG3CvuB,EAAA3e,EAAA4e,cAAA0f,GAAA,GACCua,wBAAyB,CACxBC,OAAQ73C,aAAE,uCASJunF,GAAsB,WAGlC,IAFA,IAAMr7C,EAAQ,GAELv4B,EAAI,EAAGA,GAAK,EAAGA,IACvBu4B,EAAMzzB,KAAN,0BAAAtQ,OAAqCwL,IAEtC,OAAO2jB,YACN8gB,YAAc,KAAM,KAAM,CACzBvkB,aAAc7zB,aAAE,MAChB4M,MAAO5M,aAAE,2BACT4zB,KACClW,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAAA0f,GAAA,OAAar9B,aAAE,4BACf0d,EAAA3e,EAAA4e,cAAA,UACEuuB,EAAMxrC,IAAI,SAAAurC,GAAI,OACdvuB,EAAA3e,EAAA4e,cAAA,MAAIi6B,wBAAyB,CAAEC,OAAQ73C,aAAEisC,SAG3CvuB,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY6P,cAAY,GACtBltC,aAAE,8BAA+B,CACjCyJ,KAAM,CACLiU,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCC,KACC,4GAGA7d,aAAE,aAKP0d,EAAA3e,EAAA4e,cAAA0f,GAAA,OAAar9B,aAAE,+BAOPwnF,GAAsB,WAGlC,IAFA,IAAMt7C,EAAQ,GAELv4B,EAAI,EAAGA,GAAK,EAAGA,IACvBu4B,EAAMzzB,KAAN,iCAAAtQ,OAA4CwL,IAE7C,OAAO2jB,YACN8gB,YAAc,KAAM,KAAM,CACzBvkB,aAAc7zB,aAAE,MAChB4M,MAAO5M,aAAE,kCACT4zB,KACClW,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAAA0f,GAAA,OAAar9B,aAAE,mCACf0d,EAAA3e,EAAA4e,cAAA,UACEuuB,EAAMxrC,IAAI,SAAAurC,GAAI,OACdvuB,EAAA3e,EAAA4e,cAAA,MAAIi6B,wBAAyB,CAAEC,OAAQ73C,aAAEisC,SAG3CvuB,EAAA3e,EAAA4e,cAAA0f,GAAA,GACCua,wBAAyB,CACxBC,OAAQ73C,aAAE,wCASJynF,GAAe,WAG3B,IAFA,IAAMv7C,EAAQ,GAELv4B,EAAI,EAAGA,GAAK,EAAGA,IACvBu4B,EAAMzzB,KAAN,gCAAAtQ,OAA2CwL,IAE5C,OAAO2jB,YACN8gB,YAAc,KAAM,KAAM,CACzBvkB,aAAc7zB,aAAE,MAChB4M,MAAO5M,aAAE,iCACT4zB,KACClW,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAAA,UACEuuB,EAAMxrC,IAAI,SAAAurC,GAAI,OACdvuB,EAAA3e,EAAA4e,cAAA,MAAIi6B,wBAAyB,CAAEC,OAAQ73C,aAAEisC,SAG3CvuB,EAAA3e,EAAA4e,cAAA0f,GAAA,GACCua,wBAAyB,CACxBC,OAAQ73C,aAAE,uCASJ0nF,GAAc,WAG1B,IAFA,IAAMx7C,EAAQ,GAELv4B,EAAI,EAAGA,GAAK,EAAGA,IACvBu4B,EAAMzzB,KAAN,+BAAAtQ,OAA0CwL,IAE3C,OAAO2jB,YACN8gB,YAAc,KAAM,KAAM,CACzBvkB,aAAc7zB,aAAE,MAChB4M,MAAO5M,aAAE,gCACT4zB,KACClW,EAAA3e,EAAA4e,cAACuU,EAAA,SAAD,KACCxU,EAAA3e,EAAA4e,cAAA,UACEuuB,EAAMxrC,IAAI,SAAAurC,GAAI,OACdvuB,EAAA3e,EAAA4e,cAAA,MAAIi6B,wBAAyB,CAAEC,OAAQ73C,aAAEisC,SAG3CvuB,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY6P,cAAY,GACtBltC,aAAE,qCAEJ0d,EAAA3e,EAAA4e,cAAA0f,GAAA,OACC3f,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CAAgBC,KAAM,iCACpB7d,aAAE,wCAGL0d,EAAA3e,EAAA4e,cAAA0f,GAAA,OACC3f,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCC,KACC,+DAGA7d,aAAE,uCANL,UCxGCs6B,GAAY9C,aAAW,SAAAC,GAM5B,MAAO,CACNkwD,OAAQ,CACPhgE,gBAAiB,cACjBiS,KAAM,GAEPguD,QAAS,CACRjgE,gBAAiB,eAElB2V,OAAQ,CACPsB,YAAanH,EAAM4E,QAAQ,IAE5BwrD,aAAc,CACb5mD,UAAWxJ,EAAM4E,QAAQ,GACzBD,aAAc3E,EAAM4E,QAAQ,IAE7ByrD,eAAgB,CACfz1D,MAAOoF,EAAMK,QAAQC,QAAQC,KAC7BrQ,gBAtB6B,SAAA/nB,KAAGqF,KAAH,OAE3BwyB,EAAMK,QAAQH,WAAW+C,OAqB3BqtD,yCAA0C,CACzC11D,MAAOoF,EAAMK,QAAQC,QAAQC,OAG/BgwD,UAAW,CACV31D,MAAOuiD,SAKJqT,GAAW,SAAA3nF,GAAA,IAChBwrB,EADgBxrB,EAChBwrB,iBACAC,EAFgBzrB,EAEhByrB,mBACAC,EAHgB1rB,EAGhB0rB,iBACAC,EAJgB3rB,EAIhB2rB,kBACAC,EALgB5rB,EAKhB4rB,iBACAC,EANgB7rB,EAMhB6rB,eACAC,EAPgB9rB,EAOhB8rB,mBAPgB,MAQV,CACNW,WAAY,CACX,CACC9Q,MAAOjc,aAAE,gCACTgiC,QACCtkB,EAAA3e,EAAA4e,cAAA,QACCi6B,wBAAyB,CACxBC,OAAQ73C,aAAE,qCAIbkoF,iBAAkBloF,aAAE,mCACpBs8B,KAAM6rD,KACNC,MAAOn8D,GAER,CACChQ,MAAOjc,aAAE,2BACTgiC,QAAShiC,aAAE,6BACXkoF,iBAAkBloF,aAAE,iCACpBs8B,KAAM+rD,KACND,MAAOt8D,EACPw8D,SAAUhB,IAEX,CACCrrE,MAAOjc,aAAE,+BACTgiC,QAAShiC,aAAE,iCACXkoF,iBAAkBloF,aAAE,8BACpBs8B,KAAMisD,KACNH,MAAOl8D,EACPo8D,SAAUf,IAEX,CACCtrE,MAAOjc,aAAE,iCACTgiC,QAAShiC,aAAE,mCACXkoF,iBAAkBloF,aAAE,qCACpBs8B,KAAMksD,KACNJ,MAAOr8D,EACPu8D,SAAUd,KASZ3qE,UAAW,CACV,CACCZ,MAAOjc,aAAE,gCACTgiC,QACCtkB,EAAA3e,EAAA4e,cAAA,QACCi6B,wBAAyB,CACxBC,OAAQ73C,aAAE,qCAIbkoF,iBAAkBloF,aAAE,mCACpBs8B,KAAM6rD,KACNC,MAAOn8D,GAER,CACChQ,MAAOjc,aAAE,2BACTgiC,QAAShiC,aAAE,6BACXkoF,iBAAkBloF,aAAE,oCACpBs8B,KAAM+rD,KACND,MAAOp8D,EACPs8D,SAAUb,IAEX,CACCxrE,MAAOjc,aAAE,6BACTgiC,QAAShiC,aAAE,6BACXkoF,iBAAkBloF,aAAE,mCACpBs8B,KAAMmsD,KACNL,MAAOj8D,EACPm8D,SAAUZ,IAEX,CACCzrE,MAAOjc,aAAE,6BACTgiC,QAAShiC,aAAE,+BACXkoF,iBAAkBloF,aAAE,sCACpBs8B,KAAMksD,KACNJ,MAAOh8D,MAWK,SAASs8D,GAAez4D,GAAO,IACrChrB,EAASgrB,EAAThrB,KACFg0B,EAAUqB,GAAU,CAAEr1B,SAEtB0jF,EAAYv1D,YAAYvH,KAExB+8D,EAAyBx1D,YAAYpsB,MACrCq7E,EAAWjvD,YAAYlsB,MAPgB6rB,EAQnBC,mBAAS,IARUC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GAQtCmZ,EARsCjZ,EAAA,GAQ/BsrB,EAR+BtrB,EAAA,GAAAy8C,EAUTp5C,IAAMtD,SAAS,GAVN28C,EAAAzvE,OAAAiR,EAAA,EAAAjR,CAAAwvE,EAAA,GAUtCv0B,EAVsCw0B,EAAA,GAU1BkZ,EAV0BlZ,EAAA,GAYvCmZ,EAAY58C,EAAMjnC,IAAS,GAC3B8jF,EAAcD,EAAU3tC,IAAe,GAEvC6tC,EAA6BF,EAAUrvC,UAAU,SAAAxN,GAAI,OAAKA,EAAKm8C,QA8BrE,OAZAr0D,oBAAU,WACTwqB,EAAS0pC,GAASU,KAChB,CAACA,IACJ50D,oBAAU,WACT80D,GACiC,IAAhCG,EACGA,EACAF,EAAU7pF,OAAS,IAGrB,CAACitC,EAAO88C,KAGTJ,KACCE,EAAU7pF,QACXye,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAAqzC,GAAA,GACCqxB,SAAUA,EACVnpD,SAAU,kBAAM5B,YAAQ2xD,cAA2B5G,KACnDpxB,QAAQ,EACRj/B,QAAQ,YAERtU,EAAA3e,EAAA4e,cAAAuzC,GAAA,GACCC,WAAYzzC,EAAA3e,EAAA4e,cAAAurE,GAAA,QACZjwD,QAAS,CAAEhB,KAAMgB,EAAQ6uD,gBACzBtoD,gBAAc,yBACdp5B,GAAG,0BAEHsX,EAAA3e,EAAA4e,cAAAkb,EAAA,GACC2D,MAAO,EACP7C,QAAQ,OACRoB,cAAc,MACdlB,WAAW,SACXmB,eAAe,iBAEftd,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYrL,QAAS,MAArB,GAAA7pB,OACKnI,aAAE,2BADP,MAAAmI,OAEW,cAATlD,EAAuBjF,aAAE,aAAeA,aAAE,cAF5C,MAMA0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKc,QAAQ,OAAOoB,cAAc,MAAMlB,WAAW,UACjDivD,EAAUpoF,IAAI,SAAAD,EAAyB6nB,GAAU,IAAhCrM,EAAgCxb,EAAhCwb,MACX4a,GAD2Cp2B,EAAzB67B,KAAyB77B,EAAnB2nF,MACZf,GAAA,EAAA8B,GAAA,GACJvU,KAEd,OACCl3D,EAAA3e,EAAA4e,cAAA6wB,GAAA,GAAS5hC,MAAOqP,EAAOsH,IAAK+E,GAC3B5K,EAAA3e,EAAA4e,cAACkZ,EAAD,CAAM6B,UAAWO,EAAQ+uD,kBAQ/BtqE,EAAA3e,EAAA4e,cAAAyrE,GAAA,OACC1rE,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK2D,MAAO,GACX9e,EAAA3e,EAAA4e,cAAAulB,EAAA,GAAQC,MAAI,GACXzlB,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,EAAGgb,eAAgB,SAAUrB,QAAQ,QAC5Cjc,EAAA3e,EAAA4e,cAACwpE,GAAD,CACC7qD,KAAMysD,EAAYzsD,KAClBqqD,UAAWoC,EAAYX,MACvB91D,KAAK,UAGP5U,EAAA3e,EAAA4e,cAAAu9B,GAAA,GACCxiB,UAAWO,EAAQ0uD,OACnBz7C,MAAO48C,EAAU7pF,OACjBi8B,SAAS,SACTlJ,QAAQ,WACRmpB,WAAYA,EACZkuC,WACC3rE,EAAA3e,EAAA4e,cAAA0W,EAAA,GACC/B,KAAK,QACLC,QAvFS,WAClBs2D,EAAc1tC,EAAa,IAuFlBr7B,SAAUq7B,IAAe2tC,EAAU7pF,OAAS,GAE3Ce,aAAE,QACH0d,EAAA3e,EAAA4e,cAAA2rE,GAAA,SAGFC,WACC7rE,EAAA3e,EAAA4e,cAAA0W,EAAA,GACC/B,KAAK,QACLC,QA9FS,WAClBs2D,EAAc1tC,EAAa,IA8FlBr7B,SAAyB,IAAfq7B,GAEVz9B,EAAA3e,EAAA4e,cAAA6rE,GAAA,QACCxpF,aAAE,YAKP0d,EAAA3e,EAAA4e,cAAAulB,EAAA,GAAQI,QAAM,GACb5lB,EAAA3e,EAAA4e,cAAAy9B,GAAA,GACCniB,QAAS,CAAEhB,KAAMgB,EAAQ2uD,SACzB6B,WAAS,EACTpuC,kBAAgB,EAChBF,WAAYA,EACZuuC,UAAWhsE,EAAA3e,EAAA4e,cAACkpE,GAAD,OAEViC,EAAUpoF,IAAI,SAAAG,EAAyBynB,GAAzB,IAtHJ2jB,EAsHOhwB,EAAHpb,EAAGob,MAAOqgB,EAAVz7B,EAAUy7B,KAAM8rD,EAAhBvnF,EAAgBunF,MAAhB,OACd1qE,EAAA3e,EAAA4e,cAAA49B,GAAA,GAAMh4B,IAAKtH,GACVyB,EAAA3e,EAAA4e,cAAAgsE,GAAA,GAAYp3D,SAxHH0Z,EAwHuB3jB,EAxHf,WAC1BugE,EAAc58C,MAwHJvuB,EAAA3e,EAAA4e,cAAA69B,GAAA,GACCouC,kBAAmBzC,GACnB0C,cAAe,CAAEvtD,OAAMqqD,UAAWyB,IAEjCnsE,SAOPyB,EAAA3e,EAAA4e,cAAAkb,EAAA,QACkC,IAAhCmwD,EACAtrE,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCc,QAAQ,OACRqB,eAAgB,gBAChBwX,SAAS,QAET90B,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY3E,UAAWO,EAAQ4uD,cAC9BnqE,EAAA3e,EAAA4e,cAAA,cAAS3d,aAAE,8BAEZ0d,EAAA3e,EAAA4e,cAAA0W,EAAA,GACChC,MAAM,UACNE,QArIY,WACrBs2D,EAAc,GACdvxD,YAAQrwB,YAAmBhC,KAoIlByzB,UAAWO,EAAQqE,OACnBwR,UAAWpxB,EAAA3e,EAAA4e,cAAA6U,EAAA,SAEVxyB,aAAE,aAIL0d,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAA0f,GAAA,GACCrL,QAAS,QACT0G,UAAWO,EAAQ4uD,cAEnBnqE,EAAA3e,EAAA4e,cAAA,cACE3d,aAAE,wBAAyB,CAC3ByJ,KAAM,CAAC0xC,EAAa,EAAG4tC,EAAY9sE,OAAS,MACzC,IACH8sE,EAAYX,MAAQpoF,aAAE,aAAe,KAGvC+oF,EAAYX,MACZ1qE,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY3E,UAAWO,EAAQ4uD,cAC7BkB,EAAYb,kBAGdxqE,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAY3E,UAAWO,EAAQ4uD,cAC7BkB,EAAY/mD,QAAS,IACrB+mD,EAAYT,UACZtoF,aAAE,wCAAyC,CAC1CyJ,KAAM,CACLiU,EAAA3e,EAAA4e,cAAA+kB,GAAA,GACCnf,IAAI,oBACJ1F,KAAK,IACL0U,QAAS,SAAAjb,GACRA,EAAEqe,iBACFozD,EAAYT,YAEb5vD,UAAWO,EAAQ4uD,aACnBx1D,MAAO,UACPg6B,UAAW,SAEVrsD,aAAE,2BC7UnB,IAAM8pF,GAAY,WACjB,IACMhqE,EADasT,YAAY1uB,OACA,EAC/B,OACCgZ,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAACosE,GAAD,CACCjqE,SAAUA,EACV8gC,WAAS,EACT5uB,QAAQ,WACRK,MAAM,YACN0uB,SAAS,eACTzuB,KAAK,SACLgK,KAAM5e,EAAA3e,EAAA4e,cAAAqsE,EAAA,UAEPtsE,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAACssE,GAAD,SAMEC,GAAU,kBACfxsE,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAC6sC,GAAD,CACC5J,WAAS,EACT5uB,QAAQ,WACRK,MAAM,YACN0uB,SAAS,WACTzuB,KAAK,SACLgK,KAAM5e,EAAA3e,EAAA4e,cAAAqsE,EAAA,UAEPtsE,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAACssC,GAAD,SAKGkgC,GAAU,kBACfzsE,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAACysE,GAAD,CACCxpC,WAAS,EACT5uB,QAAQ,WACRK,MAAM,YACN0uB,SAAS,WACTzuB,KAAK,SACLgK,KAAM5e,EAAA3e,EAAA4e,cAAAqsE,EAAA,UAEPtsE,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAAC0sE,GAAD,SAKGC,GAAY,kBACjB5sE,EAAA3e,EAAA4e,cAAAkb,EAAA,OACCnb,EAAA3e,EAAA4e,cAAC8pD,GAAD,CACC7mB,WAAS,EACT5uB,QAAQ,WACRK,MAAM,YACN0uB,SAAS,eACTzuB,KAAK,SACLgK,KAAM5e,EAAA3e,EAAA4e,cAAAqsE,EAAA,UAEPtsE,EAAA3e,EAAA4e,cAAAw2B,EAAA,GAAOniB,QAAQ,YACdtU,EAAA3e,EAAA4e,cAAC4sE,GAAD,SAKGjwD,GAAY9C,aAAWsJ,IAiMd0pD,OA/Lf,SAAmBv6D,GAAO,IAAA8C,EACWC,oBAAS,GADpBC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GAClB03D,EADkBx3D,EAAA,GACNy3D,EADMz3D,EAAA,GAEnB7yB,EAAUgzB,YAAYxwB,KACtB6+E,EAAaruD,YAAY1uB,MACzBkC,EAA4BwsB,YAAYzsB,MACxCgkF,EAAyBlJ,GAAc,IAAM76E,EAG3C3B,EADUgrB,EAAVgG,MACeojB,OAAfp0C,KACFg0B,EAAUqB,KAEVw9C,EAAa1kD,YAAYxrB,MAE/BmsB,oBAAU,WAAM,SAAA62D,IAAA,OAAAA,EAAA1qF,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KACf,SAAAC,IAAA,OAAAF,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,OACC4B,YAAQuzD,eADT,wBAAAp1D,EAAAI,SAAAR,OADeziB,MAAAwd,KAAApxB,WAOf,OAPe,WAAA4rF,EAAAh4E,MAAAwd,KAAApxB,WAKf8rF,GAEO,WACNxzD,YAAQyzD,kBAEP,IAEHh3D,oBAAU,WACTuD,YAAQ0zD,aAAkB,CAAE5qF,cAC1B,CAACA,IAEJ2zB,oBAAU,WACTuD,YAAQ2zD,aAAU,OAAQhmF,KACxB,CAACA,IAEJ,IAAM09B,EAAqB,WAC1B+nD,GAAeD,IAGVS,EAASxtE,EAAA3e,EAAA4e,cAACwtE,GAAD,CAASlmF,KAAMA,IAE9B,OACCyY,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQhB,MACvBva,EAAA3e,EAAA4e,cAACytE,GAAD,CACCnmF,KAAMA,EACNwsB,KAAMg5D,EACN9nD,mBAAoBA,IAErBjlB,EAAA3e,EAAA4e,cAAAulB,EAAA,GAAQC,MAAI,GACXzlB,EAAA3e,EAAA4e,cAAA0tE,EAAA,GACCr5D,QAAQ,YACRs5D,OAAO,OACP75D,KAAMg5D,EACN74D,QAAS+Q,EACT1J,QAAS,CACRyB,MAAOzB,EAAQ8I,aAEhBwpD,WAAY,CACXC,aAAa,IAGbN,IAGHxtE,EAAA3e,EAAA4e,cAAAulB,EAAA,GAAQI,QAAM,EAACmoD,eAAe,OAC7B/tE,EAAA3e,EAAA4e,cAAA0tE,EAAA,GACCr5D,QAAQ,YACRP,MAAI,EACJwH,QAAS,CACRyB,MAAOzB,EAAQ8I,cAGfmpD,IAIHxtE,EAAA3e,EAAA4e,cAAA,QAAM+a,UAAWO,EAAQ+I,SACxBtkB,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQmJ,cACvB1kB,EAAA3e,EAAA4e,cAAAkb,EAAA,OACE8xD,GACAjtE,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAAmU,EAAA,GACCE,QAAQ,WACRD,SAAS,OACTH,QAAS,WACR0F,YAAQo0D,cAAgC,MAGxC1rF,aAAE,+BAAgC,CAClCyJ,KAAM,SAAAtB,OAASs5E,EAAT,eAMT3J,GAAcp6D,EAAA3e,EAAA4e,cAAC+qE,GAAD,CAAgBzjF,KAAMA,IACrCyY,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,KACC91B,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,kCACLoI,UAAW4sD,KAEZpsE,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,8BACLoI,UAAWgtD,KAEZxsE,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,kCACLoI,UAAWotD,KAEZ5sE,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,0CACLoI,UAAWtvB,KAEZ8P,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,iCACLoI,UAAWe,KAEZvgB,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,0CACLoI,UAAW/vB,KAEZuQ,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,wCACLoI,UAAWe,KAEZvgB,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,sCACLoI,UAAWk8C,KAEZ17D,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,6BACLoI,UAAWitD,KAEZzsE,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,qCACLoI,UAAW8+C,KAEZt+D,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,gCACLoI,UAAWw/C,KAEZh/D,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,gCACLoI,UAAWe,KAEZvgB,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAM,2BACNoI,UAAW0uD,KAEZluE,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAM,6BACNoI,UAAWqpD,KAEZ7oE,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CAAOm4C,OAAK,EAAC72D,KAAM,yBAA0BoI,UAAW4oD,KAOxDpoE,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,wBACLoI,UAAW27C,KAEZn7D,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,uBACLoI,UAAWg8C,KAEZx7D,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CAAOtW,UAAW2kC,WClTZ/gC,GAAS,SAAArJ,GACrB,IAAM4E,EAAU5E,EAAM4E,QAAQ,GAC9B,MAAO,CACNpE,KAAM,CAELsE,OAAQ,SAETsvD,gBAAiB,CAChBtwD,UAAW,SACXD,UAAW,OACXsM,UAAW,QACXkkD,iBAAkB,YAClB9E,eAAgB,QAChB+E,mBAAoB,SACpB7wD,SAAU,YAEXsoB,UAAW,CACVjnB,OAAQ,QACR2E,SAAU,KAEX3jB,QAAS,CACR6pE,gBAAe,OAAAj/E,OAAS6jF,EAAQ,MAAjB,KACfF,iBAAkB,YAClB9E,eAAgB,QAChB+E,mBAAoB,UAErBE,QAAS,CACRtkE,gBAAiB8P,EAAMK,QAAQ5S,KAAK,MAErCgnE,WAAY,GAKZC,YAAa,CACZ3xC,UAAW,UAEZ4xC,KAAM,CAIL7vD,OAAQ,QAET8vD,YAAa,CACZ9vD,OAAQ,OACR8F,OAAkB,EAAVhG,GAETiwD,KAAM,CACL30D,WAAY,EACZi3C,UAAW,OACXlvC,SAAU,WAEX6sD,SAAU,CACT5kE,gBAAiB,4BAElBqa,QAAS,CACRrI,QAAS,OACToB,cAAe,SACfnB,KAAM,WAENoB,eAAgB,SAChBS,QAAS,yBCxCNkmC,GAAWptC,EAAoBF,KAC/BiG,GAAY9C,aCtBI,SAAAC,GACrB,MAAO,CACNla,QAAS,CACRyd,eAAgB,UAEjBwxD,gBAAiB,CAChB7sC,UAAW,aACXnF,UAAW,UAEZiyC,QAAS,CACRlwD,OAAQ,OACRqC,YAAanH,EAAM4E,QAAQ,IAE5BqwD,aAAc,CACb9tD,YAAa,GAEd+tD,YAAa,CACZhlE,gBAAiB8P,EAAMK,QAAQM,OAAOC,MACtChG,MAAOoF,EAAMK,QAAQM,OAAO22C,OAE7B6d,UAAW,CACVjlE,gBAAiB8P,EAAMK,QAAQM,OAAOC,MACtChG,MAAOoF,EAAMK,QAAQM,OAAO22C,UDmMhB8d,GAjMI,WAClB,IAAM5zD,EAAUqB,KADQvH,EAEMC,mBAAS,IAFfC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GAEjB+5D,EAFiB75D,EAAA,GAER85D,EAFQ95D,EAAA,GAIlB+5D,EAAmB55D,YAAY/sB,MAC/B4mF,EAAO75D,YAAYrxB,KALDnC,EAMRwzB,YAAY1xB,MACY,GAAhCM,EAPgBpC,EAOhBoC,OAAQC,EAPQrC,EAORqC,SAEhB8xB,oBAAU,WACT,IACM+4D,EADaI,eACQvgF,OAC1B,SAAAo2E,GAAC,MAAmB,WAAfA,EAAE5gF,UAAyB4gF,EAAEjnE,OAAS9Z,EAAOM,QAEnDyqF,EAAWD,IACT,CAAC9qF,IAEJ,IAAMmrF,EAAO,SAAClsE,EAAImsE,EAAe/5D,GAChC,IAAMg6D,EAAY,WACjBppD,eACA3M,YAAQ7e,aAAKwI,IACToS,GAAkC,oBAAdA,GACvBA,KAGE45D,GAAQG,EACX91D,YACC8gB,YAAci1C,EAAW,KAAM,CAC9Bx5D,aAAc7zB,aAAE,qBAChB8zB,YAAa9zB,aAAE,mBACf4M,MAAO5M,aAAE,iCACT4zB,KAAM5zB,aAAE,+BAAgC,CACvCyJ,KAAM,EACJzH,EAAOM,OAAUN,EAAOG,UAAY,IAAKma,cAC1Cra,EAAS7B,cAMbitF,KAIF,OACC3vE,EAAA3e,EAAA4e,cAAAkb,EAAA,GACCc,QAAQ,OACRoB,cAAc,SACdlB,WAAW,UACXmB,eAAe,iBAEftd,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7Y,EAAG,EAAG6Z,WAAW,UACrBnc,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYiL,MAAM,SAAStW,QAAQ,YAAY2H,QAAQ,SACrD35B,aAAE,uBAGJitF,GACAvvE,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7O,EAAG,GACPtM,EAAA3e,EAAA4e,cAAC2vE,GAAD,CACCt7D,QAAQ,YACR/Q,GAAG,eACHqR,KAAK,QACLD,MAAM,UACN2e,WAAS,EACTtY,UAAWO,EAAQuzD,iBAElBxsF,aAAE,cAAe,CACjByJ,KAAM,CACLzH,EAAOM,OAASygC,aAAc9gC,EAAS7B,SACvC4B,EAAOG,cAMX2qF,EAAQpsF,IAAI,SAAAqiF,GAAC,OACbrlE,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAKtV,IAAKw/D,EAAEjnE,KAAMkO,EAAG,EAAG2P,QAAQ,QAC/Bjc,EAAA3e,EAAA4e,cAAC0W,EAAA,EAAD,CACCrC,QAAQ,YACRM,KAAK,QACLD,MAAM,UACN2e,WAAS,EACTtY,UAAWO,EAAQuzD,gBACnBj6D,QAAS,WACR46D,EAAK,gBAAgB,EAAM,kBAC1B71D,YAAQi2D,YAAa,CAAEjrF,MAAOygF,EAAEjnE,KAAM3Z,SAAU4gF,EAAE5gF,gBAInDnC,aAAE,aAAc,CAAEyJ,KAAM,CAACs5E,EAAEjnE,SAE7B4B,EAAA3e,EAAA4e,cAAC0W,EAAA,EAAD,CACCrC,QAAQ,YACRM,KAAK,QACLC,QAAS,WACR+E,YACC8gB,YACC,WACCzpB,aAAuBo0D,EAAEx/D,KACzBwpE,EAAWD,EAAQngF,OAAO,SAAAgH,GAAC,OAAIA,EAAE4P,MAAQw/D,EAAEx/D,QAE5C,KACA,CACCsQ,aAAc7zB,aAAE,eAChB8zB,YAAa9zB,aAAE,UACf4M,MAAO5M,aAAE,0CACT4zB,KAAM5zB,aAAE,wCAAyC,CAChDyJ,KAAM,EACJzH,EAAOM,OAAUN,EAAOG,UAAY,IAAKma,cAC1Cra,EAAS7B,gBAQfsd,EAAA3e,EAAA4e,cAAA6U,EAAA,aAIDs6D,EAAQ7tF,OAAS,GAAKguF,IAASvvE,EAAA3e,EAAA4e,cAAAob,EAAA,QAChCi0D,GACAtvE,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7O,EAAG,GACPtM,EAAA3e,EAAA4e,cAAC0W,EAAA,EAAD,CACCrC,QAAQ,YACRM,KAAK,QACLD,MAAM,YACN2e,WAAS,EACTtY,UAAWO,EAAQuzD,gBACnBj6D,QAAS,WACR46D,EAAK,iBAAiB,KAGtBntF,aAAE,0BAIN0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7O,EAAG,GACPtM,EAAA3e,EAAA4e,cAAC0W,EAAA,EAAD,CACCrC,QAAQ,YACRM,KAAK,QACLD,MAAM,UACN2e,WAAS,EACTtY,UAAWO,EAAQuzD,gBACnBj6D,QAAS,kBAAM46D,EAAK,gBAAgB,KAEnCntF,aAAE,yBAIL0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7O,EAAG,GACPtM,EAAA3e,EAAA4e,cAAC0W,EAAA,EAAD,CACCrC,QAAQ,WACRM,KAAK,QACLD,MAAM,UACN2e,WAAS,EACTtY,UAAWyE,KAAWlE,EAAQ0zD,YAAa1zD,EAAQuzD,iBACnDj6D,QAAS,kBAAM46D,EAAK,iCAAiC,KAErDzvE,EAAA3e,EAAA4e,cAAA,OACCqR,IAAKsR,GAAY,YACjB5B,IAAK1+B,aAAE,sBACP04B,UAAWO,EAAQwzD,UAEnBzsF,aAAE,cAGL0d,EAAA3e,EAAA4e,cAAAkb,EAAA,GAAK7O,EAAG,GACPtM,EAAA3e,EAAA4e,cAAC0W,EAAA,EAAD,CACCrC,QAAQ,WACRM,KAAK,QACLD,MAAM,UACN2e,WAAS,EACTtY,UAAWO,EAAQ2zD,UACnBr6D,QAAS,kBAAM46D,EAAK,+BAA+B,KAEnDzvE,EAAA3e,EAAA4e,cAAA,OACCqR,IAAKsR,GAAY,UACjB5B,IAAK1+B,aAAE,oBACP04B,UAAWyE,KACVlE,EAAQwzD,QACRxzD,EAAQyzD,aACRzzD,EAAQuzD,4CElMA,SAASgB,GAAWh5D,GA+DlC,OAAOmT,aAAW7G,GAAX6G,CA9DP,SAAA/nC,GAAuC,IAApBq5B,EAAoBr5B,EAApBq5B,QAAYhhB,EAAQ/X,OAAAgY,EAAA,EAAAhY,CAAAN,EAAA,aACtC,OACC8d,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQhB,MACvBva,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CACC7qB,UAAWO,EAAQuqB,UACnBA,WAAS,EACT3pB,WAAW,WAGXnc,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAM7qB,UAAWO,EAAQ1b,QAASvN,MAAI,EAAC06B,GAAI,GAAIC,GAAI,EAAG80B,GAAI,EAAGguB,GAAI,GAChE/vE,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAK2D,MAAO,EAAGD,OAAQ,EAAGvc,EAAG,GAC5BtC,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAK2D,MAAO,EAAGD,OAAQ,EAAGrB,SAAS,YAClCxd,EAAA3e,EAAA4e,cAAC6W,EAADt0B,OAAAk2B,OAAA,CAAWp2B,EAAGA,MAAOiY,IACrByF,EAAA3e,EAAA4e,cAACulB,EAAA,EAAD,CAAQC,MAAI,GACXzlB,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAKc,QAAQ,OAAOqB,eAAe,UAClCtd,EAAA3e,EAAA4e,cAAC+vE,GAAA3uF,EAAD,CAAmBszB,MAAM,UAAUsK,SAAS,eAMjDjf,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,GAAIC,GAAI,EAAG80B,GAAI,EAAGguB,GAAI,GACpC/vE,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CACCc,QAAQ,OACRoB,cAAc,SACdlB,WAAW,UACXmB,eAAe,gBACf2D,MAAO,CAAEpC,OAAQ,SAEjB7e,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAK7Y,EAAG,EAAG6Z,WAAW,UACrBnc,EAAA3e,EAAA4e,cAAA0f,GAAA,GAAYiL,MAAM,SAAStW,QAAQ,MACjChyB,aAAE,gBAGL0d,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAACgwE,GAAe11E,IAEjByF,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CACC7Y,EAAG,EACH2Z,QAAQ,OACRoB,cAAc,SACdlB,WAAW,SACX2Y,SAAS,QAET90B,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACC8a,UAAWO,EAAQgD,QACnBkC,OAAO,SACPtgB,KAAI,GAAA1V,OAAK3B,uCAERxG,aAAE,SAEJ0d,EAAA3e,EAAA4e,cAAA,SAAO+a,UAAWO,EAAQizD,YAA1B,KAAA/jF,OACOq2B,GAAY1b,QADnB,+DCjEKge,GAAS,SAAArJ,GACrB,IAAM4E,EAAU5E,EAAM4E,QAAQ,GAC9B,MAAO,CACNuxD,aAAc,CACbt1D,UAAW,CACVmE,OAAQ,YAGVoxD,SAAU,CACTl0D,QAAS,OACT6Y,SAAU,OACVtR,SAAU,EACVtG,WAAYyB,EACZwlB,WAAY,SACZisC,WAAY,CACXlvD,YAAuB,EAAVvC,IAGf0xD,cAAe,CACd17D,MAAOoF,EAAMK,QAAQlE,KAAKsI,KAC1B8xD,WAAY,QAEb3B,YAAa,CACZ9vD,OAAQ,OACR8F,OAAkB,EAAVhG,GAET2F,QAAS,CACRrI,QAAS,OACToB,cAAe,SACfnB,KAAM,WACNsB,SAAU,WACVO,QAAS,EACT4G,OAAM,KAAAl6B,OAAOk0B,EAAP,OAAAl0B,OAAoBk0B,EAApB,OAAAl0B,OAAiCk0B,EAAjC,MACN4xD,gBAAiB,CAChBrzD,WAAYyB,GAEbqD,SAAU,WAEXwuD,cAAe,CACdv0D,QAAS,OACTuH,SAAU,EACV5F,UAAW,OACXJ,SAAU,WACVmH,OAAQhG,GAQTkwD,SAAU,CACT5kE,gBAAiB,4BAElBwmE,QAAS,CACR1uD,SAAU,OACVlD,OAAkB,EAAVF,EACR2L,UAAW,OACXxL,MAAO,QAER4xD,SAAU,CACTz0D,QAAS,OACToB,cAAe,MACflB,WAAY,SACZmB,eAAgB,UAEjBqzD,SAAU,CACT5uD,SAAU,OACVuI,UAAqB,EAAV3L,EACXG,MAAO,OACPD,OAAQ,QAET+xD,YAAa,CACZ1vD,YAAavC,GAEd8vD,YAAa,CACZjxD,SAAU,WACV3J,IAAK,OACL4J,KAAM,GAEPixD,KAAM,CACL5vD,MAAO,SACPD,OAAQ,SCtELjC,GAAY9C,aAAWsJ,IAEtB,SAASytD,GAAT3uF,GAA6B,IAATmD,EAASnD,EAATmD,MAClByrF,EAAwCzrF,EAAxCyrF,WAAYC,EAA4B1rF,EAA5B0rF,eAAgBruF,EAAY2C,EAAZ3C,QAC9B64B,EAAUqB,KAEhB,OACC5c,EAAA3e,EAAA4e,cAAAggB,EAAA,GACC5F,QAAS33B,EACT06B,UACCpd,EAAA3e,EAAA4e,cAAA,QAAM+a,UAAWO,EAAQ40D,UACxBnwE,EAAA3e,EAAA4e,cAAA,YACCD,EAAA3e,EAAA4e,cAAA,qBACAD,EAAA3e,EAAA4e,cAAA,kBAAU6wE,EAAV,MAEAC,EAAe/tF,IAAI,SAAAJ,GAAA,IAAGynB,EAAHznB,EAAGynB,OAAQ2mE,EAAXpuF,EAAWouF,QAAX,OACnBhxE,EAAA3e,EAAA4e,cAAA,YACCD,EAAA3e,EAAA4e,cAAA,gBAAQoK,EAAR,KACArK,EAAA3e,EAAA4e,cAAA,kBAAU+wE,EAAV,WASA,IAAMC,GAAgB,SAAAluF,GAUvB,IATLmuF,EASKnuF,EATLmuF,UACAxuF,EAQKK,EARLL,QACAyuF,EAOKpuF,EAPLouF,cACAC,EAMKruF,EANLquF,mBACAC,EAKKtuF,EALLsuF,YACAC,EAIKvuF,EAJLuuF,SACA7sF,EAGK1B,EAHL0B,SACA8sF,EAEKxuF,EAFLwuF,iBACAh2D,EACKx4B,EADLw4B,QAEA,OACCvb,EAAA3e,EAAA4e,cAACkrC,GAAD,KACCnrC,EAAA3e,EAAA4e,cAACorC,GAAD,KACE8lC,EAAgBnxE,EAAA3e,EAAA4e,cAACqrC,GAAD,CAAYzU,IAAKu6C,IAAyBC,GAE5DrxE,EAAA3e,EAAA4e,cAACmrC,GAAD,KACCprC,EAAA3e,EAAA4e,cAAAsf,EAAA,OACE2xD,EAAUluF,IAAI,SAACwuF,EAAUC,GAAX,OACdzxE,EAAA3e,EAAA4e,cAAAuc,EAAA,GACCjB,QAAS,CAAEhB,KAAMgB,EAAQ20D,cACzBrqE,IAAK2rE,EAAS9uF,QACdmyB,QAAS,kBACR+E,YACC70B,aAAoB,CACnBysF,WACAD,mBACAE,kBACAH,WACA7sF,eAIHq2B,SAAUp4B,IAAY8uF,EAAS9uF,SAE/Bsd,EAAA3e,EAAA4e,cAAC4wE,GAAD,CAAUxrF,MAAOmsF,EAAU9uF,QAAS8uF,EAAS9uF,0BCpD9Ck6B,GAAY9C,aAAWsJ,IAmIdsuD,OAjIf,WACC,IAAMn2D,EAAUqB,KADOnH,EAEQC,YAAYzuB,MAFpB0qF,EAAAl8D,EAEfnxB,cAFe,IAAAqtF,EAEN,GAFMA,EAEFtsF,EAFEowB,EAEFpwB,MACb3C,EAAY4B,EAAZ5B,QAHe2yB,EAI6BC,oBAAS,GAJtCC,EAAA/yB,OAAAiR,EAAA,EAAAjR,CAAA6yB,EAAA,GAIhBu8D,EAJgBr8D,EAAA,GAIIs8D,EAJJt8D,EAAA,GAKjBu8D,IACHx0C,OAAOy0C,OAASz0C,OAAO00C,OAASC,UAAUC,UAAUhiE,QAAQ,UAAY,EANpDmgB,EAO6C/a,oBACnE,GARsBgb,EAAA9tC,OAAAiR,EAAA,EAAAjR,CAAA6tC,EAAA,GAOhB8hD,EAPgB7hD,EAAA,GAOY8hD,EAPZ9hD,EAAA,GAWjB+hD,EAAmB38D,YAAY,SAAA/zB,GAAK,OACzC8G,aAAkB9G,EAAO2wF,QAyB1B,OAtBAj8D,oBAAU,YACG,eAAAn0B,EAAAM,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAC,IAAA,IAAA46D,EAAA,OAAA96D,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACiBw6D,eADjB,OACRD,EADQx6D,EAAAwxB,KAEd6oC,EACCG,IAAqB1vD,KAAWC,SAAS1kB,MAH5B,wBAAA2Z,EAAAI,SAAAR,MAAH,yBAAAz1B,EAAAgT,MAAAwd,KAAApxB,YAAA,EAOZmxF,IACE,IAEHp8D,oBAAU,WACLu7D,IAGHt0C,OAAOo1C,QAAU,WAChBp1C,OAAO5uC,SAASikF,SAChBd,GAAsB,MAGtB,CAACD,IAGH5xE,EAAA3e,EAAA4e,cAACkrC,GAAD,CAAYnwB,UAAWO,EAAQq3D,QAC7BP,EACAryE,EAAA3e,EAAA4e,cAACqrC,GAAD,CAAYzU,IAAKv0C,aAAE,gCAChB,KACJ0d,EAAA3e,EAAA4e,cAACmrC,GAAD,KACCprC,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAYrL,QAAQ,aAAahyB,aAAE,kBACnC0d,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CACCc,QAAQ,OACRoB,cAAc,SACdlB,WAAW,SACXmB,eAAe,SACfwB,MAAO,GAELqzD,EAwCDnyE,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAAA,OACCqR,IAAKuhE,KACL7xD,IAAK,gBACLhG,UAAWO,EAAQo1D,YA3CrB3wE,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,KACCnb,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,KACEr9B,aAAE,4BAA6B,CAC/ByJ,KAAM,CACLiU,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACC2F,IAAK,kBACL1F,KACC2xE,EACG,6EACA,uBAEJrxD,OAAO,UAPR,6BAeJzgB,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAKqlB,GAAI,GACRxgC,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCC,KACC2xE,EACG,6EACA,uBAEJrxD,OAAO,SACP5L,QAAS,kBAAMg9D,GAAsB,KAErC7xE,EAAA3e,EAAA4e,cAAA,OACCqR,IAAKwhE,KACL9xD,IAAK,mBACLhG,UAAWO,EAAQo1D,cAevBjuF,EACAsd,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQw3D,eACtB1tF,EACA2a,EAAA3e,EAAA4e,cAAAD,EAAA3e,EAAA8+B,SAAA,KACCngB,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAYrL,QAAQ,YAAYK,MAAM,WACpCryB,aAAE,mCAEJ0d,EAAA3e,EAAA4e,cAAC4wE,GAAD,CAAUxrF,MAAOA,EAAO2iF,KAAMtlF,KAG/BJ,aAAE,2BAA4B,CAAEyJ,KAAM,CAACrJ,MAGtCyvF,EACHnyE,EAAA3e,EAAA4e,cAAC0W,EAAA,EAAD,CACC9B,QAAS,kBAAM+E,YAAQo5D,gBACvB1+D,QAAQ,YACRK,MAAM,UACNvS,SAAUiwE,GAET/vF,aAAE,+BAED,SC1HHs6B,GAAY9C,aAAWsJ,IAiGd6vD,OA/Ff,WACC,IAAM13D,EAAUqB,KADKnH,EAEqCC,YACzDzuB,MAHoB0qF,EAAAl8D,EAEbnxB,cAFa,IAAAqtF,EAEJ,GAFIA,EAAAuB,EAAAz9D,EAEAy7D,iBAFA,IAAAgC,EAEY,GAFZA,EAEgB3B,EAFhB97D,EAEgB87D,iBAG7B7uF,EAAY4B,EAAZ5B,QAEFywF,EAAsBz9D,YAAY,SAAA/zB,GAAK,OAC5C8G,aAAkB9G,EAAOyxF,QAGpBf,EAAmB38D,YAAY,SAAA/zB,GAAK,OACzC8G,aAAkB9G,EAAO0xF,QAG1B,OAAOnC,EAAU3vF,OAChBye,EAAA3e,EAAA4e,cAACqzE,GAAD,CACCnC,cAAegC,EACf/B,mBAAoB9uF,aAAE,yBACtB+uF,YAAa/uF,aAAE,sBACfI,QAASA,EACTwuF,UAAWA,EACXI,SAAUzuD,KAAWG,OAAOsuD,SAC5B7sF,SAAUo+B,KAAWG,OAAO5kB,KAC5BmzE,iBAAkBA,EAClBh2D,QAASA,IAGVvb,EAAA3e,EAAA4e,cAACkrC,GAAD,CAAYnwB,UAAWO,EAAQq3D,QAC7BP,EACAryE,EAAA3e,EAAA4e,cAACorC,GAAD,KACCrrC,EAAA3e,EAAA4e,cAACqrC,GAAD,CAAYzU,IAAKv0C,aAAE,gCAEjB6wF,EACHnzE,EAAA3e,EAAA4e,cAACorC,GAAD,KACCrrC,EAAA3e,EAAA4e,cAACqrC,GAAD,CAAYzU,IAAKv0C,aAAE,4BAEjB,KAEJ0d,EAAA3e,EAAA4e,cAACmrC,GAAD,KACCprC,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CACCc,QAAQ,OACRoB,cAAc,SACdlB,WAAW,SACXmB,eAAe,SACfwB,MAAO,GAEP9e,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAYrL,QAAQ,YAAYkb,cAAY,GAC1CltC,aAAE,gBAGJ0d,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAY6P,cAAY,GACtBltC,aAAE,0BAA2B,CAC7ByJ,KAAM,CACLiU,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACC2F,IAAI,gBACJ1F,KAAK,qBACLsgB,OAAO,UAHR,iBAOAzgB,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACC2F,IAAI,gBACJ1F,KAAK,oCACLsgB,OAAO,UAHR,qBAUHzgB,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAKklB,GAAI,GACRrgC,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CAAQC,KAAK,oBAAoBsgB,OAAO,UACvCzgB,EAAA3e,EAAA4e,cAAA,OACCqR,IAAKiiE,KACLvyD,IAAK,oBACLhG,UAAWO,EAAQo1D,cAIpB0B,IAAqBc,GACtBnzE,EAAA3e,EAAA4e,cAAC0W,EAAA,EAAD,CACC9B,QAAS,kBAAM+E,YAAQ45D,gBACvBl/D,QAAQ,YACRK,MAAM,WAELryB,aAAE,4BCxGJs6B,GAAY9C,aAAW,SAAAC,GAG5B,MAAO,CACNy2D,cAAe,CACdv0D,QAAS,OACTuH,SAAU,EACV5F,UAAW,OACXJ,SAAU,WACVmH,OARc5K,EAAM4E,QAAQ,OA4BhB80D,OAff,SAAoBlhE,GACnB,IAAMgJ,EAAUqB,KAEV82D,EADQh+D,YAAY7G,MACN,SAEpB,OACC7O,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMC,WAAS,EAACnnB,QAAS,EAAGgkB,UAAU,MAAM+G,aAAa,cACxD1pC,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,GAAIhS,UAAWO,EAAQi1D,eACzB,aAAXkD,GAAyB1zE,EAAA3e,EAAA4e,cAAC0zE,GAAiBphE,GAChC,WAAXmhE,GAAuB1zE,EAAA3e,EAAA4e,cAAC2zE,GAAerhE,MCLtCshE,GAAiB7mE,eAuMR8mE,GArMG,SAAAvhE,GAAS,IAClBhR,EAAegR,EAAfhR,WACFhd,EAAWmxB,YAAYzuB,MACvBkW,EAAcuY,YACnB,SAAA/zB,GAAK,OAAIyb,aAAsBzb,EAAO4f,IAAe,KAEhD8yB,EAAU3e,YAAY,SAAA/zB,GAAK,OAAI8G,aAAkB9G,EAAO4f,KACxDwyE,EAAiBr+D,YAAY,SAAA/zB,GAAK,OACvC8G,aAAkB9G,EAAOqyF,QAEpBC,EAAa,CAClB,CAAEj+C,QAAS,2BACX+9C,EAAiB,CAAE/9C,QAAS,iCAAoC,IAKhEpxC,EAOGuY,EAPHvY,MACAsvF,EAMG/2E,EANH+2E,WACAC,EAKGh3E,EALHg3E,SACAC,EAIGj3E,EAJHi3E,cACAC,EAGGl3E,EAHHk3E,SACAC,EAEGn3E,EAFHm3E,SACAC,EACGp3E,EADHo3E,SAED,OACCv0E,EAAA3e,EAAA4e,cAACkrC,GAAD,KACE9W,GAAW0/C,EACX/zE,EAAA3e,EAAA4e,cAACwrC,GAAD,CACCE,KAAMsoC,EACN5/C,SAAS,IAGVr0B,EAAA3e,EAAA4e,cAACmrC,GAAD,KACCprC,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACs3B,GAAA,EAAD,CACCjE,WAAS,EACTjpC,KAAK,OACLiqB,QAAQ,WACRwwB,UAAQ,EACRvmC,MAAOjc,aAAE,QAAS,CAAEuJ,QAAQ,IAC5BuS,KAAK,QACLhJ,MAAO7Q,EAASK,OAAS,GACzB42B,SAAU,SAAA7B,GAAE,OACXC,YAAQ46D,aAAe,QAAS76D,EAAG8G,OAAOrrB,SAE3Cgd,MAAOxtB,KAAWA,EAAMod,MACxBw2B,UAAW,IACXnB,WACCzyC,GAAWA,EAAMod,MAAQpd,EAAMmzC,OAASz1C,aAAE,wBAI7C0d,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACs3B,GAAA,EAAD,CACCjE,WAAS,EACTjpC,KAAK,OACLiqB,QAAQ,WACRwwB,UAAQ,EACRvmC,MAAOjc,aAAE,aAAc,CAAEuJ,QAAQ,IACjCuS,KAAK,aACLhJ,MAAO7Q,EAAS2vF,YAAc,GAC9B14D,SAAU,SAAA7B,GAAE,OACXC,YAAQ46D,aAAe,aAAc76D,EAAG8G,OAAOrrB,SAEhDgd,MAAO8hE,KAAgBA,EAAWlyE,MAClCw2B,UAAW,IACXnB,WACC68C,GAAgBA,EAAWlyE,MACxBkyE,EAAWn8C,OACXz1C,aAAE,uBAIR0d,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACs3B,GAAA,EAAD,CACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,WACLy6C,UAAQ,EACRvmC,MAAOjc,aAAE,WAAY,CAAEuJ,QAAQ,IAC/BuS,KAAK,WACLhJ,MAAO7Q,EAAS4vF,UAAY,GAC5B34D,SAAU,SAAA7B,GAAE,OACXC,YAAQ46D,aAAe,WAAY76D,EAAG8G,OAAOrrB,SAE9Cgd,MAAO+hE,KAAcA,EAASnyE,MAC9Bw2B,UAAW,IACXnB,WACC88C,GAAcA,EAASnyE,MACpBmyE,EAASp8C,OACTz1C,aAAE,qBAIR0d,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACs3B,GAAA,EAAD,CACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,WACLy6C,UAAQ,EACRvmC,MAAOjc,aAAE,gBAAiB,CAAEuJ,QAAQ,IACpCuS,KAAK,gBACLhJ,MAAO7Q,EAAS6vF,eAAiB,GACjC54D,SAAU,SAAA7B,GAAE,OACXC,YAAQ46D,aAAe,gBAAiB76D,EAAG8G,OAAOrrB,SAEnDgd,MAAOgiE,KAAmBA,EAAcpyE,MACxCw2B,UAAW,IACXnB,WACC+8C,GAAmBA,EAAcpyE,MAC9BoyE,EAAcr8C,OACdz1C,aAAE,2BAIR0d,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAC+lC,GAAD,CACClB,UAAQ,EACRxR,WAAS,EACThf,QAAQ,WACRlW,KAAK,WACLG,MAAOjc,aAAE,WAAY,CAAEuJ,QAAQ,IAC/B2vB,SAAU,SAAA/vB,GAAG,OAAImuB,YAAQ46D,aAAe,WAAY/oF,KACpD0V,OAAQ0yE,GACRz+E,MAAO7Q,EAAS+vF,UAAY,GAC5B5vC,OAAO,mBACPtyB,MAAOkiE,KAAcA,EAAStyE,MAC9Bq1B,WACCi9C,GAAcA,EAAStyE,MACpBsyE,EAASv8C,OACTz1C,aAAE,6BAIgB,UAAtBiC,EAAS+vF,UACY,UAAtB/vF,EAAS+vF,WACTt0E,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACs3B,GAAA,EAAD,CACCjE,WAAS,EACThf,QAAQ,WACRwwB,UAAQ,EACRvmC,MAAOjc,aAAE,WAAY,CAAEuJ,QAAQ,IAC/BuS,KAAK,WACLhJ,MAAO7Q,EAASgwF,UAAY,GAC5B/4D,SAAU,SAAA7B,GAAE,OACXC,YAAQ46D,aAAe,WAAY76D,EAAG8G,OAAOrrB,SAE9Cgd,MAAOmiE,KAAcA,EAASvyE,MAC9Bw2B,UAAW,IACXnB,WACCk9C,GAAcA,EAASvyE,MACpBuyE,EAASx8C,OACTz1C,aAAE,4BAKT0d,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACozB,GAAA,EAAD,CACCyR,UAAQ,EACR1yB,MAAOiiE,GAAYA,EAASryE,MAC5Bwd,UAAU,YAEVxf,EAAA3e,EAAA4e,cAACsxC,GAAA,EAAD,CACCC,QACCxxC,EAAA3e,EAAA4e,cAACwxC,GAAA,EAAD,CACCC,UAAWntD,EAAS8vF,SACpB74D,SAAU,SAAA7B,GAAE,OACXC,YAAQ46D,aAAe,WAAY76D,EAAG8G,OAAOixB,WAE9Ct8C,MAAM,WACNuf,MAAM,YAGRpW,MACCyB,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCugB,OAAO,SACPtgB,KAAI,GAAA1V,OAAK3B,iCAERxG,aAAE,gBAIL+xF,KAAcA,EAASryE,OACvBhC,EAAA3e,EAAA4e,cAACqlC,GAAA,EAAD,KAAiB+uC,EAASt8C,cC5L7B87C,GAAiB7mE,eA8LRynE,GA5LC,SAAAliE,GAAS,IAChBhR,EAAegR,EAAfhR,WACFhd,EAAWmxB,YAAYzuB,MAFLytF,EAGAnwF,EAAhBD,cAHgB,IAAAowF,EAGP,GAHOA,EAIlBv3E,EAAcuY,YACnB,SAAA/zB,GAAK,OAAIyb,aAAsBzb,EAAO4f,IAAe,KAGhDwyE,EAAiBr+D,YAAY,SAAA/zB,GAAK,OACvC8G,aAAkB9G,EAAOqyF,QAGpBvP,GAAiBlgF,EAASD,QAAU,IAAI5B,SAAW6B,EAASowF,WAE5DV,EAAar9C,KAAoBtyC,EAAOG,UAAY,WAGzDG,EAMGuY,EANHvY,MACAsvF,EAKG/2E,EALH+2E,WACAG,EAIGl3E,EAJHk3E,SACAO,EAGGz3E,EAHHy3E,mBACAN,EAEGn3E,EAFHm3E,SACAC,EACGp3E,EADHo3E,SAED,OACCv0E,EAAA3e,EAAA4e,cAACkrC,GAAD,KACE4oC,EACA/zE,EAAA3e,EAAA4e,cAACwrC,GAAD,CACCE,KAAMsoC,EACN5/C,SAAS,IAGVr0B,EAAA3e,EAAA4e,cAACmrC,GAAD,KACCprC,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACby3C,GAEFzkE,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACs3B,GAAA,EAAD,CACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,OACLy6C,UAAQ,EACRvmC,MAAOjc,aAAE,QAAS,CAAEuJ,QAAQ,IAC5BuS,KAAK,QACLhJ,MAAO7Q,EAASK,OAAS,GACzB42B,SAAU,SAAA7B,GAAE,OACXC,YAAQ46D,aAAe,QAAS76D,EAAG8G,OAAOrrB,SAE3Cgd,MAAOxtB,KAAWA,EAAMod,MACxBw2B,UAAW,IACXnB,WACCzyC,GAAWA,EAAMod,MAAQpd,EAAMmzC,OAASz1C,aAAE,wBAI7C0d,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACs3B,GAAA,EAAD,CACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,OACLy6C,UAAQ,EACRvmC,MAAOjc,aAAE,aAAc,CAAEuJ,QAAQ,IACjCuS,KAAK,aACLhJ,MAAO7Q,EAAS2vF,YAAc,GAC9B14D,SAAU,SAAA7B,GAAE,OACXC,YAAQ46D,aAAe,aAAc76D,EAAG8G,OAAOrrB,SAEhDgd,MAAO8hE,KAAgBA,EAAWlyE,MAClCw2B,UAAW,IACXnB,WACC68C,GAAgBA,EAAWlyE,MACxBkyE,EAAWn8C,OACXz1C,aAAE,uBAIR0d,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAC+lC,GAAD,CACClB,UAAQ,EACRxR,WAAS,EACThf,QAAQ,WACRlW,KAAK,WACLG,MAAOjc,aAAE,WAAY,CAAEuJ,QAAQ,IAC/B2vB,SAAU,SAAA/vB,GAAG,OAAImuB,YAAQ46D,aAAe,WAAY/oF,KACpD0V,OAAQ0yE,GACRz+E,MAAO7Q,EAAS+vF,UAAY,GAC5B5vC,OAAO,mBACPtyB,MAAOkiE,KAAcA,EAAStyE,MAC9Bq1B,WACCi9C,GAAcA,EAAStyE,MACpBsyE,EAASv8C,OACTz1C,aAAE,6BAIgB,UAAtBiC,EAAS+vF,UACY,UAAtB/vF,EAAS+vF,WACTt0E,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACs3B,GAAA,EAAD,CACCjE,WAAS,EACTwR,UAAQ,EACRxwB,QAAQ,WACR/V,MAAOjc,aAAE,WAAY,CAAEuJ,QAAQ,IAC/BuS,KAAK,WACLhJ,MAAO7Q,EAASgwF,UAAY,GAC5B/4D,SAAU,SAAA7B,GAAE,OACXC,YAAQ46D,aAAe,WAAY76D,EAAG8G,OAAOrrB,SAE9Cgd,MAAOmiE,KAAcA,EAASvyE,MAC9Bw2B,UAAW,IACXnB,WACCk9C,GAAcA,EAASvyE,MACpBuyE,EAASx8C,OACTz1C,aAAE,4BAKT0d,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACozB,GAAA,EAAD,CACCyR,UAAQ,EACR1yB,MAAOwiE,GAAsBA,EAAmB5yE,MAChDwd,UAAU,YAEVxf,EAAA3e,EAAA4e,cAACsxC,GAAA,EAAD,CACCC,QACCxxC,EAAA3e,EAAA4e,cAACwxC,GAAA,EAAD,CACCC,UAAWntD,EAASqwF,mBACpBp5D,SAAU,SAAA7B,GAAE,OACXC,YACC46D,aACC,qBACA76D,EAAG8G,OAAOixB,WAIbt8C,MAAM,qBACNuf,MAAM,YAGRpW,MAAOjc,aAAE,4BAA6B,CACrCyJ,KAAM,CAACzH,EAAOG,cAGfmwF,KAAwBA,EAAmB5yE,OAC3ChC,EAAA3e,EAAA4e,cAACqlC,GAAA,EAAD,KAAiBsvC,EAAmB78C,UAIvC/3B,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACozB,GAAA,EAAD,CACCyR,UAAQ,EACR1yB,MAAOiiE,GAAYA,EAASryE,MAC5Bwd,UAAU,YAEVxf,EAAA3e,EAAA4e,cAACsxC,GAAA,EAAD,CACCC,QACCxxC,EAAA3e,EAAA4e,cAACwxC,GAAA,EAAD,CACCC,UAAWntD,EAAS8vF,SACpB74D,SAAU,SAAA7B,GAAE,OACXC,YAAQ46D,aAAe,WAAY76D,EAAG8G,OAAOixB,WAE9Ct8C,MAAM,WACNuf,MAAM,YAGRpW,MACCyB,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCugB,OAAO,SACPtgB,KAAI,GAAA1V,OAAK3B,iCAERxG,aAAE,gBAIL+xF,KAAcA,EAASryE,OACvBhC,EAAA3e,EAAA4e,cAACqlC,GAAA,EAAD,KAAiB+uC,EAASt8C,cCtFpB88C,GApGI,SAAAtiE,GAAS,IACnBhR,EAAegR,EAAfhR,WAEFhd,EAAWmxB,YAAYzuB,MAEvBotC,EAAU3e,YAAY,SAAA/zB,GAAK,OAChC8G,aAAkB9G,EAAOqyF,QAWlB1vF,EAJYoxB,YACnB,SAAA/zB,GAAK,OAAIyb,aAAsBzb,EAAO4f,IAAe,KAG9Cjd,OAER,OACC0b,EAAA3e,EAAA4e,cAACkrC,GAAD,KACE9W,EACAr0B,EAAA3e,EAAA4e,cAACwrC,GAAD,CACCE,KAfe,CAClB,CAAE3V,QAAS,2BACX,CAAEA,QAAS,kCAcR3B,SAAS,IAGVr0B,EAAA3e,EAAA4e,cAACmrC,GAAD,KACCprC,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CACCC,WAAS,EACTnnB,QAAS,EAET+qB,aAAa,gBACbvtB,WAAW,UAEXnc,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAYrL,QAAQ,QAAQK,MAAM,UAAU6a,cAAY,GACtDltC,aAAE,mBAAoB,CAAEyJ,KAAM,CAACxH,EAASK,WAI3Cob,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACs3B,GAAA,EAAD,CACCn1B,WAAY7d,EAASE,SACrB6uC,WAAS,EACThf,QAAQ,WACRjqB,KAAK,OACLy6C,UAAQ,EACRvmC,MAAOjc,aAAE,QAAS,CAAEuJ,QAAQ,IAC5BuS,KAAK,QACLhJ,MAAO7Q,EAASK,OAAS,GACzB42B,SAAU,SAAA7B,GAAE,OACXC,YAAQ46D,aAAe,QAAS76D,EAAG8G,OAAOrrB,YAK7C4K,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAACs3B,GAAA,EAAD,CACCjE,WAAS,EACThf,QAAQ,WACRjqB,KAAK,WACLy6C,UAAQ,EACRvmC,MAAOjc,aAAE,WAAY,CAAEuJ,QAAQ,IAC/BuS,KAAK,WACLhJ,MAAO7Q,EAAS4vF,UAAY,GAC5B34D,SAAU,SAAA7B,GAAE,OACXC,YAAQ46D,aAAe,WAAY76D,EAAG8G,OAAOrrB,YAI/C9Q,KAAYA,EAAO0d,OACnBhC,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAYrL,QAAQ,QAAQK,MAAM,QAAQ6a,cAAY,GACpDlrC,EAAOyzC,SAIX/3B,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,MACXzoC,EAASowF,YACX30E,EAAA3e,EAAA4e,cAAA,WACCD,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAYrL,QAAQ,QAAQkb,cAAY,GACtCltC,aAAE,yBAA0B,CAC5ByJ,KAAM,CAACxH,EAAS4D,yBC7EvB2sF,GAA2B,kBAAAxzF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAmB,IACnC0B,IAAI,SAAA0F,GACnB,MAAO,CACN0M,MAAO1M,EAAGnE,SAAW,IAAMmE,EAAG63E,UAC9BhiE,MAAO7V,EAAGqsF,IACPzyF,aAAE,2BAA4B,CAC9ByJ,KAAM,SAAAtB,OAAS/B,EAAG63E,UAAZ,UAA+B73E,EAAGqsF,IAAKrsF,EAAGnE,YAEhDjC,aAAE,uBAAwB,CAC1ByJ,KAAM,SAAAtB,OAAS/B,EAAG63E,UAAZ,UAA+B73E,EAAGnE,gBAiG/BywF,OA5Ff,SAAmBziE,GAClB,IAAMhuB,EAAWmxB,YAAYzuB,MAE5B0tF,EAIGpwF,EAJHowF,WAHwBD,EAOrBnwF,EAHHD,cAJwB,IAAAowF,EAIf,GAJeA,EAKxBO,EAEG1wF,EAFH0wF,gBACAC,EACG3wF,EADH2wF,wBAEKzQ,EAAgBngF,EAAO5B,SAAWiyF,EAClCtgD,EAAU3e,YAAY,SAAA/zB,GAAK,OAChC8G,aAAkB9G,EAAOwzF,QAEpBpB,EAAiBr+D,YAAY,SAAA/zB,GAAK,OACvC8G,aAAkB9G,EAAOqyF,QAGpBC,EAAar9C,KAAoBtyC,EAAOG,UAAY,WAEpD2wF,EAAe1/D,YAAY1G,MACjComE,EAAajiF,IAAI,OAAQ,KAEzB,IAAM2b,EAASsmE,EAAa1pE,WAEtB4jE,EAAmB55D,YAAY/sB,MAUrC,OARA0tB,oBAAU,WACTuD,YACCy7D,YAAsB,CAAEpiF,MAAOwxE,EAAehgF,SAAUH,EAAOG,aAI9D,IAGFub,EAAA3e,EAAA4e,cAACkrC,GAAD,KACE4oC,EACA/zE,EAAA3e,EAAA4e,cAACwrC,GAAD,CACCE,KAAMsoC,EACN5/C,SAAS,IAGVr0B,EAAA3e,EAAA4e,cAACmrC,GAAD,KACCprC,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CACCC,WAAS,EACTnnB,QAAS,EAET+qB,aAAa,gBACbvtB,WAAW,UAEXnc,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMC,WAAS,EAACnnB,QAAS,GACxB3e,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAYrL,QAAQ,QAAQK,MAAM,UAAU6a,cAAY,GACtDltC,aAAE,qBAGL0d,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAC+lC,GAAD,CACC1xB,QAAQ,WACR/V,MAAOjc,aAAE,mBACT+0C,WAAY/0C,aAAE,wBACdk5B,SAAU,SAAA/vB,GAAG,OACZmuB,YAAQ46D,aAAe,0BAA2B/oF,KAEnD0V,OAAQ2zE,GAAyBG,GACjC7/E,MAAO8/E,GAA2B,GAClCxwC,OAAO,gCACPpR,WAAS,EACTtX,UAAWqY,EACX0Q,WAAYziD,aAAE,yBAA0B,CACvCyJ,KAAM,CAAC04E,QAIT6K,GACAtvE,EAAA3e,EAAA4e,cAAC4lC,GAAA,EAAD,CAAMvzC,MAAI,EAAC06B,GAAI,IACdhtB,EAAA3e,EAAA4e,cAAC0W,EAAA,EAAD,CACC9B,QAAS,kBAAM+E,YAAQ7e,aAAI,gBAAAtQ,OAAiBqkB,OAE3CxsB,aAAE,oCChGRgzF,GAAuB,SAAApzF,GAAA,IAAGqf,EAAHrf,EAAGqf,WAAYS,EAAf9f,EAAe8f,MAAOy8B,EAAtBv8C,EAAsBu8C,QAASif,EAA/Bx7D,EAA+Bw7D,UAA/B,OAC5B9jC,YAAQ27D,aAAmB,CAAEh0E,aAAYS,QAAOy8B,UAASif,gBAEpD83B,GAA0B,SAAA5yF,GAAA,IAAG2e,EAAH3e,EAAG2e,WAAYS,EAAfpf,EAAeof,MAAOy8B,EAAtB77C,EAAsB67C,QAASif,EAA/B96D,EAA+B86D,UAA/B,OAC/B9jC,YAAQ67D,aAAsB,CAAEl0E,aAAYS,QAAOy8B,UAASif,gBAEvDg4B,GAAgB,SAAA3yF,GAAA,IAAGwe,EAAHxe,EAAGwe,WAAYS,EAAfjf,EAAeif,MAAOy8B,EAAtB17C,EAAsB07C,QAASif,EAA/B36D,EAA+B26D,UAA/B,OACrB9jC,YAAQ+7D,aAAsB,CAAEp0E,aAAYS,QAAOy8B,UAASif,gBAEvDhjC,GAAS,CACdgmB,eAfsB,WACtB9mB,YAAQg8D,eACRh8D,YAAQ7e,aAAK,OAcbyhD,eAAgB,aChCFxjC,MACdhZ,EAAA3e,EAAA4e,cAAA,SACCD,EAAA3e,EAAA4e,cAAA,QAAMmQ,EAAE,83NAGT,gBACA,eCNc4I,MACdhZ,EAAA3e,EAAA4e,cAAA,SACCD,EAAA3e,EAAA4e,cAAA,QAAMmQ,EAAE,g9HAET,iBACA,cC2BKylE,GAAYh/D,EAvBF,SAAA30B,GAAA,IAAA4zF,EAAA5zF,EACf6zF,kBADe,IAAAD,EACF,GADEA,EAGfl3D,GAHe18B,EAEf8zF,UAFe9zF,EAGf08B,MACA1vB,EAJehN,EAIfgN,MACAkT,EALelgB,EAKfkgB,SACAmZ,EANer5B,EAMfq5B,QACG06D,EAPYzzF,OAAAgY,EAAA,EAAAhY,CAAAN,EAAA,uEASf8d,EAAA3e,EAAA4e,cAAA,MAAAzd,OAAAk2B,OAAA,GACKu9D,EADL,CAECj7D,UAAWyE,KAAWlE,EAAQ26D,QAAT1zF,OAAAs9B,EAAA,EAAAt9B,CAAA,GAAqB+4B,EAAQnZ,SAAWA,MAE7DpC,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAWO,EAAQqD,MAAOA,GAC/B5e,EAAA3e,EAAA4e,cAAA,UAAK/Q,GACL8Q,EAAA3e,EAAA4e,cAAA,MAAI+a,UAAWO,EAAQw6D,YACrBA,EAAW/yF,IAAI,SAASmzF,EAAOtwE,GAC/B,OAAO7F,EAAA3e,EAAA4e,cAAA,MAAI4F,IAAKA,GAAT,IAAgBswE,EAAhB,WAQLC,oLACI,IAAAv+D,EACanF,KAAKH,MAApBjwB,EADEu1B,EACFv1B,EAAGi5B,EADD1D,EACC0D,QACT,OACCvb,EAAA3e,EAAA4e,cAACqW,EAAA,EAAD,CACCvC,MAAM,EACNwH,QAAS,CAAEyB,MAAOzB,EAAQozD,aAC1B0H,cAAe,CACd96D,QAAS,CACRhB,KAAMgB,EAAQszD,WAGhBv7C,WAAS,EACTvR,SAAS,MAET/hB,EAAA3e,EAAA4e,cAACsW,EAAA,EAAD,KAAcj0B,EAAE,gBAChB0d,EAAA3e,EAAA4e,cAACuW,EAAA,EAAD,KACCxW,EAAA3e,EAAA4e,cAAC41E,GAAD,CACCt6D,QAASA,EACTrsB,MAAO5M,EAAE,cACTs8B,KACC5e,EAAA3e,EAAA4e,cAACq2E,GAAD,CACCr1D,MAAO,CAAEnC,MAAO,IAAKD,OAAQ,KAC7BlK,MAAM,YAGRohE,WAAY,CACXzzF,EAAE,oBACFA,EAAE,oBACFA,EAAE,qBAEHihB,GAAG,wBACHyyE,UAAW1zF,EAAE,mBAId0d,EAAA3e,EAAA4e,cAAC41E,GAAD,CACCt6D,QAASA,EACTrsB,MAAO5M,EAAE,aACTs8B,KACC5e,EAAA3e,EAAA4e,cAACs2E,GAAD,CACCt1D,MAAO,CAAEnC,MAAO,IAAKD,OAAQ,KAC7BlK,MAAM,YAGRohE,WAAY,CACXzzF,EAAE,oBACFA,EAAE,oBACFA,EAAE,qBAEHihB,GAAG,uBACHyyE,UAAW1zF,EAAE,2BAnDMyyB,aA4DV0N,MAAUwH,aCjGH,WACrB,MAAO,CACN4kD,SAAU,CACT5kE,gBAAiB,4BAElBisE,QAAS,CACRj6D,QAAS,eACT6C,MAAO,MACPD,OAAQ,OACRie,UAAW,SACX05C,cAAe,MACf7+B,QAAS,GACT8+B,yBAA0B,CACzB13D,OAAQ,UACR44B,QAAS,GAEV++B,aAAc,CACb/+B,QAAS,IAEVg/B,0BAA2B,CAC1B73D,MAAO,SAGTF,KAAM,CACLE,MAAO,IACPD,OAAQ,IACR8F,OAAQ,QAEToxD,WAAY,CACXh4D,QAAS,EACT64D,OAAQ,CACP36D,QAAS,QACT46D,UAAW,WDiEU5sD,CAAmBmsD,0BEzFtCx5D,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtCQ,KAAM,CACLuiB,UAAW,UAEZg6C,QAAS,CACRpN,gBAAe,OAAAj/E,OAASssF,KAAT,KACf1I,mBAAoB,SACpBD,iBAAkB,YAClB9E,eAAgB,WAEjBxjC,UAAW,CACV/jB,SAAUhI,EAAM2J,YAAYj3B,OAAOwgC,GACnCtI,OAAQ,QAET+pD,KAAM,CACL7vD,OAAQ,OACRC,MAAO,yBClBHlC,GAAY9C,aAAWsJ,IAEd,SAAS4zD,GAAUlgE,GAajC,OAZA,SAAA50B,GAAiC,IAARqY,EAAQ/X,OAAAy0F,GAAA,EAAAz0F,CAAA,GAAAN,GAC1Bq5B,EAAUqB,KAEhB,OACC5c,EAAA3e,EAAA4e,cAACqW,EAAA,EAAD,CAAQvC,MAAM,EAAMwH,QAAS,CAAEyB,MAAOzB,EAAQuN,SAC7C9oB,EAAA3e,EAAA4e,cAACuW,EAAA,EAAD,CAAe+E,QAAS,CAAEhB,KAAMgB,EAAQ+I,UACvCtkB,EAAA3e,EAAA4e,cAAC6W,EAAcvc,MCiBpB,IAAM28E,GAA+BpH,GAAWqH,GPqDb,SAAA5kE,GAAK,OACvCvS,EAAA3e,EAAA4e,cAACq8C,GAAD95D,OAAAk2B,OAAA,GACKnG,EACAmI,GAFL,CAGCgkB,QAAQ,wBACRlQ,MAAO,CACN,CACCt/B,MAAO,aACPswB,UAAWs0D,GACXt1C,aAAc,SAAAl7C,GAAA,IAAGie,EAAHje,EAAGie,WAAYS,EAAf1e,EAAe0e,MAAf,OACb4X,YAAQw9D,aAAkB,CAAE71E,aAAYS,YACzCq1E,OAAO,UO/DLC,GAAsBxH,GAAWqH,GPqEL,SAAA5kE,GAAK,OACtCvS,EAAA3e,EAAA4e,cAACq8C,GAAD95D,OAAAk2B,OAAA,GACKnG,EACAmI,GAFL,CAGCgkB,QAAQ,uBACRlQ,MAAO,CACN,CACCt/B,MAAO,cACPswB,UAAWq1D,GACXr2C,aAAc82C,GACd+B,OAAO,UO9ELE,GAAiCzH,GACtCqH,GPGoC,SAAA5kE,GACpC,OACCvS,EAAA3e,EAAA4e,cAACq8C,GAAD95D,OAAAk2B,OAAA,GACKnG,EACAmI,GAFL,CAGCgkB,QAAQ,sBACRlQ,MAAO,CACN,CACCt/B,MAAO,6BACPswB,UAAWi0D,GACXj1C,aAAck3C,IAEf,CACCxmF,MAAO,4BACPswB,UAAWw1D,GACXx2C,aAAcg3C,GACd6B,OAAO,UOjBNG,GAAkC1H,GACvCqH,GPuBqC,SAAA5kE,GACrC,OACCvS,EAAA3e,EAAA4e,cAACq8C,GAAD95D,OAAAk2B,OAAA,GACKnG,EACAmI,GAFL,CAGCgkB,QAAQ,uBACRlQ,MAAO,CACN,CACCt/B,MAAO,6BACPswB,UAAWi0D,GACXj1C,aAAck3C,IAEf,CACCxmF,MAAO,YACPswB,UAAWi4D,GACXj5C,aAAc,SAAAr7C,GAAA,IAAGoe,EAAHpe,EAAGoe,WAAYS,EAAf7e,EAAe6e,MAAf,OACb4X,YAAQ89D,aAAiB,CAAEn2E,aAAYS,YACxCq1E,OAAO,UOtCNM,GAAgB7H,GFZP,SAAA5tF,GAA8B,IAAdI,EAAcJ,EAAdI,EACxBi5B,GADsC/4B,OAAAgY,EAAA,EAAAhY,CAAAN,EAAA,OAC5B06B,MAEhB,OACC5c,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CACC2D,MAAO,EACPD,OAAQ,EACR7D,UAAWO,EAAQhB,KACnB0B,QAAQ,OACRoB,cAAc,SACdlB,WAAW,SACXmB,eAAe,UAEftd,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CACCH,UAAWO,EAAQuqB,UACnB7pB,QAAQ,OACRoB,cAAc,MACdlB,WAAW,SACXmB,eAAe,eACfwX,SAAS,QAET90B,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCyU,MAAM,UACNqG,UAAWO,EAAQgD,QACnBkC,OAAO,SACPtgB,KAAK,4BAEJ7d,EAAE,oBAGL0d,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCyU,MAAM,UACNqG,UAAWO,EAAQgD,QACnBkC,OAAO,SACPtgB,KAAK,uCAEJ7d,EAAE,kCAGL0d,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAACC,GAAA,EAAD,CACCyU,MAAM,UACNqG,UAAWO,EAAQgD,QACnBkC,OAAO,SACPtgB,KAAK,4CAEJ7d,EAAE,oCAIN0d,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CACCqI,SAAU,EACVvH,QAAQ,OACRoB,cAAc,SACdlB,WAAW,SACXmB,eAAe,SACfyE,SAAS,KACT/G,UAAWO,EAAQuqB,WAEnB9lC,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAACyc,GAAD,CAAM1B,UAAWO,EAAQmzD,QAqB1B1uE,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAYrL,QAAQ,KAAKkb,cAAY,GACpCxvB,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAKm1D,WAAW,mBAAmBhkE,EAAG,GACpChqB,EAAE,iBAIN0d,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAK7Y,EAAG,GACPtC,EAAA3e,EAAA4e,cAAC0f,GAAA,EAAD,CAAYrL,QAAQ,KAAKkb,cAAY,GACpCxvB,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CAAKm1D,WAAW,kBAAkBhkE,EAAG,GACnChqB,EAAE,oBASN0d,EAAA3e,EAAA4e,cAACkb,EAAA,EAAD,CACC0D,OAAO,MACPrB,SAAS,WACTxC,UAAWO,EAAQu7D,QACnB3Z,UAAU,gBE5FTya,GAAe,SAAA11F,GAA8C,IAAhC6yB,EAAgC7yB,EAA3Cs9B,UAAsB+vD,EAAqBrtF,EAArBqtF,KAAS0G,EAAYzzF,OAAAgY,EAAA,EAAAhY,CAAAN,EAAA,sBAClE,OACC8d,EAAA3e,EAAA4e,cAAC61B,EAAA,EAADtzC,OAAAk2B,OAAA,GACKu9D,EADL,CAECpnD,OAAQ,SAAAtc,GAAK,OACH,IAATg9D,EACCvvE,EAAA3e,EAAA4e,cAAC8U,EAAcxC,GAEfvS,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CAAUvyB,GAAI,CAAEiM,SAAU,IAAK7tB,MAAO,CAAEmR,KAAMyf,EAAM7jB,kBAOnDmpF,GAAkB,eAAAj1F,EAAAJ,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAC,EAAMrzB,GAAN,IAAAvB,EAAAsH,EAAAzF,EAAAuvF,EAAA1vF,EAAA,OAAAgzB,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,UAClB3tB,GADkBtH,EACkBuB,GAAU,IAA9C+F,KAAMzF,EADY7B,EACZ6B,MAAOuvF,EADKpxF,EACLoxF,SAAU1vF,EADL1B,EACK0B,SAE1B4F,IAAQzF,IAASuvF,GAAyB,UAAb1vF,EAHR,CAAAszB,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EAInB8/D,aAAoB,CAAElzF,QAAOuvF,aAJV,cAAAp8D,EAAAC,KAAA,EAKnB+/D,aAAgB,CAAEnzF,QAAOuvF,aALN,OAQtBvvF,GAASuvF,GAAY1vF,GACxBm1B,YAAQo+D,eATiB,wBAAAjgE,EAAAI,SAAAR,MAAH,gBAAAS,GAAA,OAAAx1B,EAAAsS,MAAAwd,KAAApxB,YAAA,GA0ETmhC,MA7DF,WACZ,IAAM8sD,EAAO75D,YAAYrxB,KACnBC,EAASoxB,YAAYhxB,MACrBgK,EAAWgnB,YAAY/G,MAwB7B,OAtBA0H,oBAAU,YACR,eAAA4hE,EAAAz1F,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAC,SAAA8nB,IAAA,OAAA/nB,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAAAynB,EAAAznB,KAAA,EACKkgE,eADL,OAEDt+D,YAAQu+D,eAFP,wBAAA14C,EAAAtnB,SAAAqnB,MAAD,yBAAAy4C,EAAA/iF,MAAAwd,KAAApxB,YAAA,KAKDs4B,YAAQw+D,eACRx+D,YAAQy+D,YAAqB3pF,EAASogB,SACtC8K,YAAQ0+D,YAAiB5pF,EAASogB,UAEhC,IAEHuH,oBAAU,WACTwhE,GAAmBvzF,IACjB,CAACA,IAEJ+xB,oBAAU,WACTuD,YAAQ2+D,eACR3+D,YAAQ4+D,aAA0B9pF,EAASogB,SAC3C8K,YAAQ6+D,aAAwB/pF,EAASogB,UACvC,CAACpgB,IAGHsR,EAAA3e,EAAA4e,cAACy4E,EAAA,EAAD,KACC14E,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,KACC91B,EAAA3e,EAAA4e,cAAC04E,GAAD,CACCpJ,KAAMA,EACNn4D,KAAK,mBACLoI,UAAWstD,KAEZ9sE,EAAA3e,EAAA4e,cAAC04E,GAAD,CAAcpJ,KAAMA,EAAMn4D,KAAK,eAAeoI,UAAW42D,KACzDp2E,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CAAOm4C,OAAK,EAAC72D,KAAK,IAAIoI,UAAWm4D,KACjC33E,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,gBACLoI,UAAW03D,KAEZl3E,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,cACLoI,UAAW+3D,KAEZv3E,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CACCm4C,OAAK,EACL72D,KAAK,eACLoI,UAAWg4D,KAEZx3E,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,CAAOm4C,OAAK,EAAC72D,KAAK,eAAeoI,UAAW83D,KAC5Ct3E,EAAA3e,EAAA4e,cAAC61B,EAAA,EAAD,KACC91B,EAAA3e,EAAA4e,cAAC8kD,GAAD,kDCxGC6zB,GAAe,aA+BNC,oLAzBb,OACC74E,EAAA3e,EAAA4e,cAACD,EAAA3e,EAAM8+B,SAAP,KACCngB,EAAA3e,EAAA4e,cAAC64E,GAAA,EAAD,CAAkB/+D,MAAOg/D,MACxB/4E,EAAA3e,EAAA4e,cAAC+4E,GAAA,EAAD,MACAh5E,EAAA3e,EAAA4e,cAACg5E,GAAA,EAAD,CAAyBrrC,MAAOsrC,MAC/Bl5E,EAAA3e,EAAA4e,cAACk5E,EAAA,EAAD,CAAUC,MAAOA,KAChBp5E,EAAA3e,EAAA4e,cAACo5E,EAAA,EAAD,CAAaT,aAAcA,GAAcU,UAAWA,KACnDt5E,EAAA3e,EAAA4e,cAACs5E,EAAA,EAAD,CAAiBliE,QAASA,KACzBrX,EAAA3e,EAAA4e,cAACu5E,GAAA,EAAD,KACCx5E,EAAA3e,EAAA4e,cAAA,OAAK+a,UAAU,aACdhb,EAAA3e,EAAA4e,cAACw5E,GAAD,MACAz5E,EAAA3e,EAAA4e,cAACy5E,EAAD,MACA15E,EAAA3e,EAAA4e,cAAC05E,EAAD,qBAdO5kE,aCZEoN,QACU,cAA7Bmb,OAAO5uC,SAASR,UAEc,UAA7BovC,OAAO5uC,SAASR,UAEhBovC,OAAO5uC,SAASR,SAASqqB,MACxB,2DCZHqhE,IAAS/qD,OAAO7uB,EAAA3e,EAAA4e,cAAC45E,GAAD,MAAS1yD,SAAS2yD,eAAe,SD2H5C,kBAAmB7H,WACtBA,UAAU8H,cAAcC,MAAMC,KAAK,SAAAC,GAClCA,EAAaC,gDEnIhBhqE,EAAAC,EAAAC,EAAA,sBAAA+pE,IAAAjqE,EAAAC,EAAAC,EAAA,sBAAAgqE,IAAAlqE,EAAAC,EAAAC,EAAA,sBAAAiqE,IAAAnqE,EAAAC,EAAAC,EAAA,sBAAAkqE,IAAApqE,EAAAC,EAAAC,EAAA,sBAAAmqE,IAAArqE,EAAAC,EAAAC,EAAA,sBAAAoqE,IAAAtqE,EAAAC,EAAAC,EAAA,sBAAAqqE,IAAAvqE,EAAAC,EAAAC,EAAA,sBAAAsqE,IAAAxqE,EAAAC,EAAAC,EAAA,sBAAAuqE,IAAAzqE,EAAAC,EAAAC,EAAA,sBAAAwqE,IAAA1qE,EAAAC,EAAAC,EAAA,sBAAAyqE,IAAA3qE,EAAAC,EAAAC,EAAA,sBAAA0qE,IAAA5qE,EAAAC,EAAAC,EAAA,uBAAA2qE,IAAA7qE,EAAAC,EAAAC,EAAA,sBAAA4qE,IAAA9qE,EAAAC,EAAAC,EAAA,uBAAA6qE,IAAA/qE,EAAAC,EAAAC,EAAA,uBAAA8qE,IAAAhrE,EAAAC,EAAAC,EAAA,sBAAA+qE,IAAAjrE,EAAAC,EAAAC,EAAA,sBAAAgrE,IAAAlrE,EAAAC,EAAAC,EAAA,sBAAAirE,IAAAnrE,EAAAC,EAAAC,EAAA,sBAAAkrE,IAAAprE,EAAAC,EAAAC,EAAA,sBAAAmrE,IAAArrE,EAAAC,EAAAC,EAAA,sBAAAorE,IAAAtrE,EAAAC,EAAAC,EAAA,sBAAAqrE,IAAAvrE,EAAAC,EAAAC,EAAA,sBAAAsrE,IAAAxrE,EAAAC,EAAAC,EAAA,sBAAAurE,IAAAzrE,EAAAC,EAAAC,EAAA,sBAAAwrE,IAAA1rE,EAAAC,EAAAC,EAAA,uBAAAyrE,IAAA3rE,EAAAC,EAAAC,EAAA,sBAAA0rE,IAAA5rE,EAAAC,EAAAC,EAAA,sBAAA2rE,IAAA7rE,EAAAC,EAAAC,EAAA,sBAAA4rE,IAAA9rE,EAAAC,EAAAC,EAAA,sBAAA6rE,IAAA/rE,EAAAC,EAAAC,EAAA,sBAAA8rE,IAAAhsE,EAAAC,EAAAC,EAAA,sBAAA+rE,IAAAjsE,EAAAC,EAAAC,EAAA,sBAAAgsE,IAAAlsE,EAAAC,EAAAC,EAAA,sBAAAisE,IAAAnsE,EAAAC,EAAAC,EAAA,uBAAAksE,IAAApsE,EAAAC,EAAAC,EAAA,sBAAAmsE,IAAArsE,EAAAC,EAAAC,EAAA,sBAAAosE,IAAAtsE,EAAAC,EAAAC,EAAA,sBAAAqsE,IAAAvsE,EAAAC,EAAAC,EAAA,sBAAAssE,IAAAxsE,EAAAC,EAAAC,EAAA,sBAAAusE,IAAAzsE,EAAAC,EAAAC,EAAA,sBAAAwsE,IAAA1sE,EAAAC,EAAAC,EAAA,uBAAAysE,IAAA3sE,EAAAC,EAAAC,EAAA,sBAAA0sE,IAAA5sE,EAAAC,EAAAC,EAAA,sBAAA2sE,IAAA7sE,EAAAC,EAAAC,EAAA,sBAAA4sE,IAAA9sE,EAAAC,EAAAC,EAAA,sBAAA6sE,IAAA/sE,EAAAC,EAAAC,EAAA,sBAAA8sE,IAAAhtE,EAAAC,EAAAC,EAAA,sBAAA+sE,IAAAjtE,EAAAC,EAAAC,EAAA,sBAAAgtE,IAAAltE,EAAAC,EAAAC,EAAA,sBAAAitE,IAAAntE,EAAAC,EAAAC,EAAA,sBAAAktE,KAAAptE,EAAAC,EAAAC,EAAA,sBAAAmtE,KAAArtE,EAAAC,EAAAC,EAAA,sBAAAotE,KAAAttE,EAAAC,EAAAC,EAAA,uBAAAqtE,KAAAvtE,EAAAC,EAAAC,EAAA,uBAAAstE,KAAAxtE,EAAAC,EAAAC,EAAA,sBAAAutE,KAAAztE,EAAAC,EAAAC,EAAA,sBAAAwtE,KAAA1tE,EAAAC,EAAAC,EAAA,sBAAAytE,KAAA3tE,EAAAC,EAAAC,EAAA,sBAAA0tE,KAAA5tE,EAAAC,EAAAC,EAAA,uBAAA2tE,KAAO,IAAM5D,EAAW,WACXC,EAAc,cACdC,EAAkB,iBAClBC,EAAiB,gBACjBC,EAAsB,qBACtBC,EAAc,cACdC,EAAwB,wBACxBC,EAAmB,mBACnBC,EAAmB,mBACnBC,EAAkB,kBAClBC,EAAmB,kBACnBC,EAAsB,qBAEtBC,EAAiB,iBACjBC,EAAmB,mBACnBC,EAAwB,wBACxBC,EAAiC,iCACjCC,EAAmB,mBACnBC,EAAY,YACZC,EAAe,eACfC,EAAiB,iBACjBC,EAAa,aACbC,EAAkB,kBAClBC,EAAyB,yBACzBC,EAAwB,wBAKxBC,EAAiB,iBACjBC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAe,eACfC,EAAiB,iBACjBC,EAAiB,iBACjBC,EAAgB,gBAChBC,EAAyB,yBACzBC,EAAwB,wBACxBC,EAA6B,6BAC7BC,EAAuB,uBACvBC,EAA0B,0BAC1BC,EAAyB,yBACzBC,EAAkB,kBAClBC,EAAiB,iBACjBC,EAAc,cACdC,EAAkB,kBAClBC,EAAiB,iBACjBC,EAAgB,gBAChBC,EAAe,eACfC,EAAqB,qBACrBC,EAA6B,6BAC7BC,EAAmB,mBACnBC,EAA4B,4BAC5BC,EAAkB,kBAClBC,EACZ,mCACYC,EAAkC,kCAClCC,GACZ,2CACYC,GACZ,0CACYC,GAA0B,0BAC1BC,GAAwB,wBACxBC,GAA6B,6BAC7BC,GAA0B,0BAC1BC,GAA4B,4BAC5BC,GAAuB,uBACvBC,GAAgC,gCAChCC,GAA6B,+DCpE1C7tE,EAAAC,EAAAC,EAAA,sBAAAkW,IAAApW,EAAAC,EAAAC,EAAA,sBAAA4tE,IAAA,IAAAC,EAAA/tE,EAAA,GAAAguE,EAAAhuE,EAAA,KAAAiuE,EAAAjuE,EAAA,KAAAkuE,EAAAluE,EAAA,KAAAmuE,EAAAnuE,EAAA,IAqBaoW,EAAS,SAAAg4D,GACrB3kE,YAAQ0gD,aAAe,qBAAqB,IAC5C1gD,YAAQ4kE,eACRC,IAAsBtmE,OACtBumE,IAAcvmE,OACdwmE,IAAUxmE,OACLomE,GACJ3kE,YAAQ7e,YAAK,MAEd6e,YAAQg8D,eACRh8D,YAAQglE,eACRhlE,YAAQilE,eACRjlE,YAAQklE,eACRllE,YAAQmlE,eACRnlE,YAAQolE,eACRplE,YAAQqlE,eACRrlE,YAAQslE,gBAGIjB,EAAa,WACzB,MAAgD,SAAzCr8F,cAAWC,QAAQoC,QAAQk7F,6CCzCnChvE,EAAAC,EAAAC,EAAA,sBAAA4W,IAAA9W,EAAAC,EAAAC,EAAA,sBAAA+uE,IAAAjvE,EAAAC,EAAAC,EAAA,sBAAAgvE,IAAA,IAEap4D,EAAe,iBAAsC,WAAtC3lC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,IAAYwD,MAAM,KAAK,IA2B9Cs6F,EAAe,SAAAx8F,GAAA,IAAG6lD,EAAH7lD,EAAG6lD,KAAMn3B,EAAT1uB,EAAS0uB,IAAT,OAC3B2V,EAAawhB,GA1BO,SAAAn3B,GAAG,OACvB,IAAI61B,QAAQ,SAAAC,GACX,IAAMk4C,EAAQn4D,SAASlnB,cAAc,SACrCq/E,EAAMhuE,IAAMA,EAEZguE,EAAMj3D,iBAAmB,SAAAnmC,GAAgB,IAAbu+B,EAAav+B,EAAbu+B,OAC3B,OAAO2mB,EAAQ,CACdtoB,MAAO2B,EAAO8+D,WACd1gE,OAAQ4B,EAAO++D,iBAkBGC,CAAanuE,GAbd,SAAAA,GAAG,OACvB,IAAI61B,QAAQ,SAAAC,GACX,IAAM/f,EAAQ,IAAII,MAClBJ,EAAM/V,IAAMA,EACZ+V,EAAMW,OAAS,WACd,OAAOof,EAAQ,CACdtoB,MAAOpM,KAAKoM,MACZD,OAAQnM,KAAKmM,YAMyB6gE,CAAapuE,IAE1C+tE,EAAsB,SAClCM,EACA7gE,EACA8gE,EACA/gE,GAEI,IADJghE,EACIv+F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAtCwB,EAuC5B,GAAIq+F,GAAe,GAAK7gE,GAAS,GAAK8gE,GAAgB,GAAK/gE,GAAU,EACpE,OAAO,EAER,IAAMihE,EAAe3kF,WAAWwkF,EAAcC,GACxC33C,EAAS9sC,WAAW2jB,EAAQD,GAE5BkhE,EAAa9qF,KAAK+qF,KAAMF,EAAe73C,GAAU63C,EAAgB,KAOvE,OAJCH,GAAe7gE,GACf8gE,GAAgB/gE,GAChBkhE,GAAcF,qCClDhB1vE,EAAAC,EAAAC,EAAA,sBAAA4vE,IAAA,IAAAC,EAAA/vE,EAAA,KAAAgwE,EAAAhwE,EAAA,KAAAiwE,EAAAjwE,EAAA,KAAAkwE,EAAAlwE,EAAA,KAAAmwE,EAAAnwE,EAAA,KAAAowE,EAAApwE,EAAA,KAAAqwE,EAAArwE,EAAA,KAQa8vE,EAAY,CACxBQ,SAAU,CACTC,IAAKD,EAASC,KAEfC,eAAgB,CACfj+F,QAASoG,6CACT83F,eAAgB93F,6CAChB43F,IAAKC,GAENE,iBAAkB,CACjBn+F,QAASoG,6CACTg4F,aAAch4F,WACd43F,IAAKG,GAENE,SAAU,CACTr+F,QAASoG,6CACT43F,IAAKK,EAASL,KAEfM,IAAK,CACJt+F,QAASoG,6CACT43F,IAAKO,EAAIP,IACTx9E,SAAU,IAEXg+E,gBAAiB,CAChBx+F,QAASoG,6CACT43F,IAAKQ,EAAgBR,KAEtBS,MAAO,CACNT,IAAKS,qCCpCPhxE,EAAAC,EAAAC,EAAA,sBAAAtT,IAAAoT,EAAAC,EAAAC,EAAA,sBAAArV,IAAAmV,EAAAC,EAAAC,EAAA,sBAAAyhB,IAAA3hB,EAAAC,EAAAC,EAAA,sBAAA9W,IAAA4W,EAAAC,EAAAC,EAAA,sBAAAgV,IAAAlV,EAAAC,EAAAC,EAAA,sBAAAixC,IAAAnxC,EAAAC,EAAAC,EAAA,sBAAA2/C,IAAA7/C,EAAAC,EAAAC,EAAA,sBAAAhJ,IAAA8I,EAAAC,EAAAC,EAAA,sBAAAshB,IAAA,IAAAyvD,EAAAjxE,EAAA,IAEM5D,EAAS,IAFf4D,EAAA,KAEmB0+B,GAGN9xC,EAA0B,mBAG1B/B,EAAiB,SAC7BqmF,GAGI,IAFJvkF,EAEIxb,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFKyb,EACTukF,EACIhgG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADU,UAEd,OAAK+/F,EAGQ90E,EAAOphB,KAAKk2F,GACbvkF,OAAOA,GAHXwkF,GAMIxvD,EAAa,SACzBuvD,GAGI,IAFJvkF,EAEIxb,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAlB8B,aAiBlCggG,EACIhgG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADU,UAEd,OAAK+/F,EAGQ90E,EAAOphB,KAAKk2F,GACbvkF,OAAOA,GAHXwkF,GAMI/nF,EAAoB,WAK5B,IAJJgoF,EAIIjgG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAJW,IACf4hB,EAGI5hB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHO,GACXkgG,EAEIlgG,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EADJ8a,EACIhb,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACEqE,EAAYme,sBAAYu9E,EAAcr+E,GAC5C,OAAIs+E,EACI5vD,kBAAQ/rC,GACc,kBAAZyW,EAEVnB,WAAWtV,GAChByW,QAAQA,EAAU,GAClB1B,MAAM,GAAI,GAEL/U,GAIIw/B,EAAgB,WAAsC,IAArC3iC,EAAqCpB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA3B,GAAImgG,EAAuBngG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAV,MACxD,SAAAmJ,OAAU/H,EAAQg/F,UAAU,EAAG,IAA/Bj3F,OAAoCg3F,GAApCh3F,OAAiD/H,EAAQg/F,UAAU,GAAI,MAG3DpgC,EAAyB,SAAAvyD,GACrC,OAAOA,EAAE2c,WAAW3G,QAAQ,wBAAyB,MAGzCirD,EAA8B,SAAAjhE,GAC1C,IAAM4yF,EAAQ5yF,EAAE2c,WAAW5mB,MAAM,KAEjC,OADA68F,EAAM,GAAKA,EAAM,GAAG58E,QAAQ,wBAAyB,KAC9C48E,EAAMljF,KAAK,MAUN4I,EAAgB,SAACu6E,EAAQC,GAErCA,EAAY5sF,KAAK6sF,IAAI,GAAID,GAMzB,IAHA,IAAIE,EAAS,CAAC,IAAK,IAAK,IAAK,KAGpB9rF,EAAI8rF,EAAOxgG,OAAS,EAAG0U,GAAK,EAAGA,IAAK,CAE5C,IAAI2e,EAAO3f,KAAK6sF,IAAI,GAAc,GAAT7rF,EAAI,IAG7B,GAAI2e,GAAQgtE,EAAQ,CAMJ,OAHfA,EAAS3sF,KAAK+sF,MAAOJ,EAASC,EAAajtE,GAAQitE,IAG5B5rF,EAAI8rF,EAAOxgG,OAAS,IAC1CqgG,EAAS,EACT3rF,KAID2rF,GAAUG,EAAO9rF,GAGjB,OAIF,OAAO2rF,GAGKjwD,EAAiB,SAACswD,GAA2B,IAAnBzpD,EAAmBl3C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAClD,OAAK2gG,EACDA,EAAO1gG,QAAUi3C,EAAkBypD,EACvC,GAAAx3F,OAAUw3F,EAAOP,UAAU,EAAGlpD,GAAWlG,OAAzC,OAFoB,sCC5GrBniB,EAAAC,EAAAC,EAAA,sBAAAu6B,IAAA,IAAAs3C,EAAA/xE,EAAA,KA+Day6B,GA7D0Cu3C,QAA/CC,WAA+CD,QAAnCE,eAAmCF,QAAnBG,eA6DE,SAAAj4F,GAErC,KADAA,EAAOA,GAAQ,kBAEd,MAAO,CACNy0B,MAAO,EACPD,OAAQ,GAIV,IAAM6+C,EAAQrzE,EAAKvF,MAAM,KAAK,GAAGA,MAAM,KACvC,MAAO,CACNg6B,MAAO1jB,SAASsiE,EAAM,GAAI,IAC1B7+C,OAAQzjB,SAASsiE,EAAM,GAAI,4GC3ER6kB,EACpB,SAAAA,EAAArgG,GAA4D,IAAAswB,EAAAE,KAA9CuB,EAA8C/xB,EAA9C+xB,QAAS+kD,EAAqC92E,EAArC82E,WAAqCwpB,EAAAtgG,EAAzBugG,gBAAyB,IAAAD,EAAd,GAAcA,EAAVE,EAAUxgG,EAAVwgG,OACjD,GAD2DlgG,OAAAmgG,EAAA,EAAAngG,CAAAkwB,KAAA6vE,GAAA7vE,KAgB5DkwE,iBAAmB,WACdpwE,EAAKqwE,cACRh7D,aAAarV,EAAKqwE,aAClBrwE,EAAKqwE,YAAc,OAnBuCnwE,KAuB5DowE,SAvB4D,eAAAlgG,EAAAJ,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAuBjD,SAAAC,EAAMjsB,GAAN,OAAAs3F,EAAA3hG,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cACVxF,EAAKywE,gBADKlrE,EAAAC,KAAA,EAEJxF,EAAKwmD,aAFD,OAGVxmD,EAAKywE,gBAHK,wBAAAlrE,EAAAI,SAAAR,MAvBiD,gBAAAS,GAAA,OAAAx1B,EAAAsS,MAAAwd,KAAApxB,YAAA,GAAAoxB,KA6B5DwwE,UA7B4D,eAAAngG,EAAAP,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KA6BhD,SAAA8nB,EAAM9zC,GAAN,OAAAs3F,EAAA3hG,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAAAynB,EAAA5vB,KAAA,EAAA4vB,EAAAznB,KAAA,EAEJxF,EAAKswE,SAASp3F,GAFV,OAGV8mB,EAAK2wE,YAHK1jD,EAAAznB,KAAA,gBAAAynB,EAAA5vB,KAAA,EAAA4vB,EAAAy5B,GAAAz5B,EAAA,SAKV1uB,QAAQqB,MAAR,WAAA3nB,OAAyB+nB,EAAKiwE,UAA9BhjD,EAAAy5B,IACA1mD,EAAK2wE,YANK,yBAAA1jD,EAAAtnB,SAAAqnB,EAAA,iBA7BgD,gBAAAW,GAAA,OAAAp9C,EAAAmS,MAAAwd,KAAApxB,YAAA,GAAAoxB,KAuC5DywE,UAAY,WACX3wE,EAAKowE,mBAELpwE,EAAKqwE,YAAc5vE,WAAWT,EAAK0wE,UAAW1wE,EAAKyB,UA1CQvB,KA6C5DuwE,cAAgB,WACY,oBAAhBzwE,EAAKkwE,QAAyBlwE,EAAKkwE,UAC7ClwE,EAAK2F,QA/CqDzF,KAmD5D1nB,MAnD4D,eAAA7H,EAAAX,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAmDpD,SAAAioB,EAAMyjD,GAAN,OAAAJ,EAAA3hG,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,cACPxF,EAAKowE,mBADEhjD,EAAA5nB,KAAA,EAEDxF,EAAK0wE,YAFJ,OAGP1wE,EAAKywE,gBACiB,oBAAXG,GACVA,IALM,wBAAAxjD,EAAAznB,SAAAwnB,MAnDoD,gBAAA0jD,GAAA,OAAAlgG,EAAA+R,MAAAwd,KAAApxB,YAAA,GAAAoxB,KA4D5DyF,KAAO,WACN3F,EAAKowE,qBA5DA3uE,EACJ,MAAM,IAAIqvE,MAAM,mCAGjB,GAA0B,oBAAftqB,EACV,MAAM,IAAIsqB,MAAM,kDAGjB5wE,KAAKmwE,YAAc,KACnBnwE,KAAKuB,QAAUA,EACfvB,KAAKsmD,WAAaA,EAClBtmD,KAAK+vE,SAAWA,EAChB/vE,KAAKgwE,OAASA,+LCHVa,EAAgB,IAAIC,IAAK,CAC9BvvE,QAHoB,IAIpB+kD,WAAU,eAAAC,EAAAz2E,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAAE,SAAAC,IAAA,OAAAqrE,EAAA3hG,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,UAAAD,EAAAmhD,GACX70E,YAAWzC,gBADAm2B,EAAAmhD,GAAA,CAAAnhD,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EACsB4B,YAAQ6pE,gBAD9B,OAAA1rE,EAAAmhD,GAAAnhD,EAAAwxB,KAAA,cAAAxxB,EAAAohD,OAAA,SAAAphD,EAAAmhD,IAAA,wBAAAnhD,EAAAI,SAAAR,MAAF,yBAAAshD,EAAA/jE,MAAAwd,KAAApxB,YAAA,GAEVmhG,SAAU,aACVC,OAAQ,kBAAOr+F,YAAWzC,kBAGrBm3E,EAAsB,SAAA72E,GAAA,IAAG+xB,EAAH/xB,EAAG+xB,QAAS+kD,EAAZ92E,EAAY82E,WAAY0pB,EAAxBxgG,EAAwBwgG,OAAxB,OAC3B,IAAIc,IAAK,CACRvvE,QAASA,EACT+kD,WAAU,eAAA0qB,EAAAlhG,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAAE,SAAA8nB,IAAA,OAAAwjD,EAAA3hG,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAAAynB,EAAA05B,OAAA,SAAYH,KAAZ,wBAAAv5B,EAAAtnB,SAAAqnB,MAAF,yBAAAkkD,EAAAxuF,MAAAwd,KAAApxB,YAAA,GACVmhG,SAAU,oBACVC,OAAQ,kBAAOr+F,YAAWzC,gBAAe8gG,MAGrCjE,EAAwB,IAAI+E,IAAK,CACtCvvE,QAnBoB,IAoBpB+kD,WAAU,eAAA2qB,EAAAnhG,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAAE,SAAAioB,IAAA,OAAAqjD,EAAA3hG,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,UAAA4nB,EAAAs5B,GACX70E,YAAWzC,gBADAg+C,EAAAs5B,GAAA,CAAAt5B,EAAA5nB,KAAA,eAAA4nB,EAAA5nB,KAAA,EACsB4B,YAAQgqE,gBAD9B,OAAAhkD,EAAAs5B,GAAAt5B,EAAA2J,KAAA,cAAA3J,EAAAu5B,OAAA,SAAAv5B,EAAAs5B,IAAA,wBAAAt5B,EAAAznB,SAAAwnB,MAAF,yBAAAgkD,EAAAzuF,MAAAwd,KAAApxB,YAAA,GAEVmhG,SAAU,gCACVC,OAAQ,kBAAOr+F,YAAWzC,yLCxBds3F,UAAb,SAAA2K,GAAA,SAAA3K,IAAA,OAAA12F,OAAAshG,EAAA,EAAAthG,CAAAkwB,KAAAwmE,GAAA12F,OAAAuhG,EAAA,EAAAvhG,CAAAkwB,KAAAlwB,OAAAwhG,EAAA,EAAAxhG,CAAA02F,GAAAhkF,MAAAwd,KAAApxB,YAAA,OAAAkB,OAAAyhG,EAAA,EAAAzhG,CAAA02F,EAAA2K,GAAArhG,OAAA0hG,EAAA,EAAA1hG,CAAA02F,EAAA,EAAArzE,IAAA,cAAAzQ,MAAA,SACajK,GACX,OAAOA,EAAKg5F,QAAQpzF,QAAQ,UAF9B,CAAA8U,IAAA,YAAAzQ,MAAA,SAKWjK,GACT,OAAOA,EAAKg5F,QAAQv3E,MAAM,UAN5B,CAAA/G,IAAA,mBAAAzQ,MAAA,SASkBjK,EATlBjJ,GASwC,IAAd8I,EAAc9I,EAAd8I,MAAOI,EAAOlJ,EAAPkJ,IAC/B,OAAOD,EAAKg5F,QAAQC,UAAUp5F,EAAOI,EAAK,KAAM,QAVlD,CAAAya,IAAA,MAAAzQ,MAAA,SAaKjK,EAAMk5F,EAASC,GAClB,OAAOn5F,EAAK6F,IAAIqzF,EAASC,KAd3B,CAAAz+E,IAAA,WAAAzQ,MAAA,SAiBUjK,EAAMo5F,GACd,OAAOp5F,EAAKg5F,QAAQnzF,IAAIuzF,EAAO,UAlBjC,CAAA1+E,IAAA,UAAAzQ,MAAA,SAqBSjK,EAAMq5F,GACb,OAAOr5F,EAAKg5F,QAAQpzF,QAAQyzF,KAtB9B,CAAA3+E,IAAA,QAAAzQ,MAAA,SAyBOjK,EAAMq5F,GACX,OAAOr5F,EAAKg5F,QAAQv3E,MAAM43E,KA1B5B,CAAA3+E,IAAA,WAAAzQ,MAAA,SA6BUjK,EAAMs5F,GACd,OAAOt5F,EAAKg5F,QAAQnzF,IAAIyzF,EAAO,UA9BjC,CAAA5+E,IAAA,eAAAzQ,MAAA,WAiCoC,IAAtBjK,EAAsB7J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAfoxB,KAAKnG,SACxB,OAAOmG,KAAKnG,OAAOphB,GAAMu5F,YAAc,KAlCzC,CAAA7+E,IAAA,UAAAzQ,MAAA,SAqCSjK,GACP,OAAOA,EAAKo4D,SAtCd,CAAA19C,IAAA,gBAAAzQ,MAAA,SAwCeuvF,GACb,OAAOjyE,KAAKnG,OAAOq4E,WAAWD,KAzChC,CAAA9+E,IAAA,eAAAzQ,MAAA,SAAAxS,GA4C2C,IAAAiiG,EAAAjiG,EAA3B+hG,cAA2B,IAAAE,EAAlB,KAAkBA,EAAZC,EAAYliG,EAAZkiG,IAAKC,EAAOniG,EAAPmiG,IAC5BC,EAAoBtyE,KAAKuyE,cAAcN,GAC7CjyE,KAAKnG,OAAO24E,aAAaP,EAAQ,CAChC/tB,KAAM,CACLkuB,IAAKA,GAAOE,EAAkBG,iBAC9BJ,IAAKA,GAAOC,EAAkBI,sBAjDlC,CAAAv/E,IAAA,wBAAAzQ,MAAA,SAsDuBiwF,EAAcl6F,GACnC,IAAMyF,EAAM3F,EAAUE,KAAKA,GACrBm6F,EAAarwF,KAAKiyC,MAAMj8C,EAAUs6F,SAAS30F,GAAOy0F,GAClDG,EAAav6F,EAAUw6F,SAC5B70F,EACA00F,EAAaD,EAAep6F,EAAUy6F,aAAa90F,IAEpD,OAAO3F,EAAU+R,WAAW/R,EAAU06F,WAAWH,EAAY,GAAI,OA7DnEtM,EAAA,CAA+BrqC,MAiExB,SAASmmB,EAAiB7pE,GAChC,OAAIohB,IAAOq5E,SAASz6F,GACZA,EAAKg5F,QAGTh5F,aAAgBwF,KACZ,IAAIA,KAAKxF,EAAK06F,WAGf16F,EAGR,IAAMF,EAAY,IAAIiuF,EACtBjuF,EAAUi6F,aAAa,CACtBJ,IAAK75F,EACHg6F,cAAc3nD,OAAO20C,UAAU1mF,SAASmiC,eACxCy3D,mBAGYl6F,kNCjFF66F,EAAgB,SAC5BC,EACAj1F,GAII,IAHJk1F,EAGI1kG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHW,EACf2kG,EAEI3kG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFY,EAChBkjG,EACIljG,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACEoP,EAAMD,KAAKC,MACXiJ,EAAO,CACZqsF,SAAU1B,EACVj2D,KAAM,CAAE81D,QAAS,EAAGC,KAAM,WAE3B,OAAQxzF,GACP,IAAK,OACJ+I,EAAK00B,KAAO,CAAE81D,QAAS,EAAGC,KAAM,UAChC,MACD,IAAK,MACJzqF,EAAK00B,KAAO,CAAE81D,QAAS,EAAGC,KAAM,QAChC,MACD,IAAK,OACJzqF,EAAK00B,KAAO,CAAE81D,QAAS,EAAGC,KAAM,QAChC,MACD,QACC,OAAOyB,EAIT,IAFA,IAAMI,EAAU,GAGX75E,EAAIrhB,IAAUE,KAAK0O,EAAKqsF,SAASl7F,OACrCC,IAAUm7F,QAAQ95E,EAAGzS,EAAKqsF,SAAS96F,MAAQ,EAC3CH,IAAU+F,IAAIsb,EAAGzS,EAAK00B,KAAK81D,QAASxqF,EAAK00B,KAAK+1D,MAE9C6B,EAAQprF,KAAK,CAAE3F,MAAO4wF,EAAcnsF,KAA6B,IAAvB5O,IAAUo7F,QAAQ/5E,KAG7D,IAAMg6E,EAAqBP,EACzB92F,OAAO,SAAA5N,GACP,IAAMirB,EAAIrhB,IAAUE,KAAK9J,EAAEwY,MAC3B,OACC5O,IAAUm7F,QAAQ95E,EAAGzS,EAAKqsF,SAASl7F,QAAU,GAC7CC,IAAUm7F,QAAQ95E,EAAGzS,EAAKqsF,SAAS96F,MAAQ,IAG5CiI,KAAK,SAAChS,EAAGI,GAAJ,OAAUA,EAAEoY,KAAOxY,EAAEwY,OAEtB0sF,GAAqBD,EAAmB,IAAM,IAAIzsF,MAAQjJ,EAE1D6J,EAAO,GAAAhQ,OAAAjI,OAAAgkG,EAAA,EAAAhkG,CAAI8jG,GAAuBH,GAAS/jG,OAAO,SAACqY,EAAMpZ,GAC9D,IAAMyoB,EAAOtnB,OAAAikG,EAAA,EAAAjkG,CAAA,GAAQiY,GACfisF,EAA0B,OAAZrlG,EAAE+T,OAAmC,OAAjBqF,EAAKpZ,EAAEwY,MACzCzE,EACL/T,EAAEwY,MAAQ0sF,EACPG,EACC,KACAjsF,EAAKpZ,EAAEwY,OAASxY,EAAE+T,OAAS4wF,EAC5BC,EAIJ,OAFAn8E,EAAQzoB,EAAEwY,MAAQxY,EAAEwY,MAAQjJ,EAAMwE,EAAQ,KAEnC0U,GACL,IASH,OAPetnB,OAAO8mB,QAAQ7O,GAC5BzX,IAAI,SAAAd,GAAA,IAAAU,EAAAJ,OAAAmkG,EAAA,EAAAnkG,CAAAN,EAAA,GAAE2jB,EAAFjjB,EAAA,SAAmB,CACvBwS,MADIxS,EAAA,GAEJiX,MAAOgM,KAEPxS,KAAK,SAAChS,EAAGI,GAAJ,OAAUJ,EAAEwY,KAAOpY,EAAEoY,QAOhB+sF,EAAiB,SAAA7jG,GAA0B,IAAvB+N,EAAuB/N,EAAvB+N,UAAW9F,EAAYjI,EAAZiI,MACvCI,EAAM,KACJy7F,EAAY77F,EACZkqE,EAAcjqE,IAAUE,KAAK07F,GAAW91F,QAAQ,QAChDokE,EAAYlqE,IAAUE,KAAK07F,GAAWj6E,MAAM,QAClD,OAAQ9b,GACP,IAAK,OACJ9F,GAASC,IAAUE,KAAK07F,GAAW91F,QAAQ,QAC3C3F,GAAOH,IAAUE,KAAK07F,GAAWj6E,MAAM,QACvC,MACD,IAAK,MACJ5hB,GAASC,IAAUE,KAAK07F,GAAW91F,QAAQ,OAC3C3F,GAAOH,IAAUE,KAAK07F,GAAWj6E,MAAM,OACvC,MACD,IAAK,OACJ5hB,GAASC,IAAU67F,SAClB5xB,EACAjqE,IAAUy6F,aAAaxwB,IAExB9pE,GAAOH,IAAU67F,SAAS3xB,EAAWlqE,IAAUy6F,aAAavwB,IAQ9D,MAAO,CAAEnqE,MAFTA,GAASA,EAEOI,QAGJ27F,EAAuB,SAAA5jG,GAAwC,IAArC2N,EAAqC3N,EAArC2N,UAAW9F,EAA0B7H,EAA1B6H,MAA0Bg8F,EAAA7jG,EAAnB60B,KAClD6uE,EAAY77F,EACZ23C,OAFqE,IAAAqkD,KAElD,GAAK,EAE9B,OAAQl2F,GACP,IAAK,OACJ9F,GAASC,IAAU67F,SAAS77F,IAAUE,KAAKH,GAAQ23C,GACnD,MACD,IAAK,MACJ33C,GAASC,IAAU6qE,QAAQ7qE,IAAUE,KAAKH,GAAQ23C,GAClD,MACD,IAAK,OACJ33C,GAASC,IAAUg8F,SAASh8F,IAAUE,KAAKH,GAAQ23C,GACnD,MACD,QACC33C,GAASC,IAAU6qE,QAAQ7qE,IAAUE,KAAKH,GAAQ23C,GAOpD,OAJI13C,IAAUypE,QAAQzpE,IAAUE,KAAKH,GAAQC,IAAUE,UACtDH,EAAQ67F,GAGF77F,GAGFk8F,EAAiB,CACtB,CAAE3oF,MAAO,OAAQ4oF,GApIL,SAqIZ,CAAE5oF,MAAO,QAAS4oF,GAtIL,QAuIb,CAAE5oF,MAAO,OAAQ4oF,GAxIL,QAyIZ,CAAE5oF,MAAO,MAAO4oF,GA1IL,OA2IX,CAAE5oF,MAAO,OAAQ4oF,GA5IL,MA6IZ,CAAE5oF,MAAO,SAAU4oF,GA9IL,KA+Id,CAAE5oF,MAAO,SAAU4oF,GAhJL,MAmJFlsC,EAAU,SAACphD,GAA6B,IAAvButF,EAAuB9lG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAfqP,KAAKC,MACpCu2F,EAAKlyF,KAAKiyC,MAAMkgD,EAAQvtF,GACxBqsF,EAAWgB,EAAep4F,KAAK,SAAAmH,GAAC,OAAIA,EAAEkxF,GAAKA,IACjD,IAAKjB,EACJ,OAAO5jG,aAAE,YAGV,IAAM+kG,EAAgBpyF,KAAKiyC,MAAMigD,EAAKjB,EAASiB,IAC/C,OAAO7kG,aAAE,WAAY,CACpByJ,KAAM,CAACs7F,EAAenB,EAAS3nF,OAAS8oF,EAAgB,EAAI,IAAM,m3PC/JpE,IAAAh2E,EAAAlB,EAAA,IAEI5gB,EAAe,CAClBtL,QAAS,IAAIiqF,UACboZ,OAAQ,CACPlpF,KAAM,GACNxZ,MAAO,GACPuvF,SAAU,GACVoT,YAAa,GACbrhE,KAAM,GACNshE,UAAW,GACXC,UAAW,GACXC,eAAe,GAEhBt4F,QAAS,CACRK,SAAU,IAAIA,WAAS,CACtBjB,cAAe,CAAE4W,QAAS,IAAK3W,OAAQ,IACvCg8C,KAAM,CAAEiF,YAAY,EAAMI,kBAAkB,KAC1C63C,WACH/3F,OAAQ,IAAIA,SAAO,CAAE66C,KAAM,CAAEm9C,YAAY,KAAUD,WACnD53F,OAAQ,IAAIA,SAAO,CAClB0mD,WAAY,CAAErxC,QAAS,IAAK3W,OAAQ,CAAEmoD,eAAe,MACnD+wC,YAEJE,YAAa,GACbl+F,cAAe,CACdC,UAAW,GACXiD,QAAS,GACTiY,MAAO,IAER1Y,MAAO,CACNqD,SAAU,GACVG,OAAQ,GACRG,OAAQ,GACR+3F,QAAS,GACT53F,SAAU,IAEXlI,SAAU,GACVL,GAAI,CACHC,OAAQ,GACRM,WAAY,IAEbT,SAAU,GACV+rB,OAAQ,GACR1rB,QAAS,CACR2S,KAAM,IAEPnT,IAAK,CACJC,KAAM,IAEPgE,SAAU,QACV4R,YAAa,GACbuF,gBAAiB,CAChB6hB,QAAS,IAEVwjE,iBAAkB,GAClBx3F,UAAW,CACVgB,cAAe,GACfG,cAAe,GACfG,yBAA0B,IAE3BtN,SAAU,GACVyjG,WAAY,CACXC,UAAW,KACXC,QAAS,IAEV5jG,OAAQ,GACRxC,OAAQ,CACPC,QAAS,GACTomG,OAAQ,GACR/4C,WAAY,IAEb/+C,UAAW,GACXjM,SAAU,CACTuC,eAAgB,GAChBJ,uBAAwB,IAEzBY,aAAc,IAGAoI,uCChFf4gB,EAAAC,EAAAC,EAAA,sBAAA2jE,IAAA7jE,EAAAC,EAAAC,EAAA,sBAAA+3E,IAAAj4E,EAAAC,EAAAC,EAAA,sBAAA8kE,IAAAhlE,EAAAC,EAAAC,EAAA,sBAAAg4E,IAAAl4E,EAAAC,EAAAC,EAAA,sBAAAiiC,IAAAniC,EAAAC,EAAAC,EAAA,sBAAA0/B,IAAA5/B,EAAAC,EAAAC,EAAA,sBAAAi4E,IAAAn4E,EAAAC,EAAAC,EAAA,sBAAAwmC,IAAA1mC,EAAAC,EAAAC,EAAA,sBAAA8gB,IAAAhhB,EAAAC,EAAAC,EAAA,sBAAA+1C,IAAAj2C,EAAAC,EAAAC,EAAA,sBAAAiiE,IAAAniE,EAAAC,EAAAC,EAAA,sBAAA+iE,IAAAjjE,EAAAC,EAAAC,EAAA,sBAAAgjE,IAAAljE,EAAAC,EAAAC,EAAA,sBAAAk4E,IAAO,IAAMvU,EAAmB,mBACnBoU,EAAsB,sBACtBjT,EAA2B,2BAC3BkT,EAAyB,yBACzB/1C,EAAmB,mBACnBvC,EAAyB,yBACzBu4C,EAA4B,4BAC5BzxC,EAAwB,wBACxB1lB,EAA8B,8BAC9Bi1B,EAA8B,8BAC9BksB,EAAyB,yBACzBc,EAA6B,6BAC7BC,EAA4B,4BAC5BkV,EAA0B,oOCZjCC,EAASla,EAAQ,KAOjBma,EAAa,SAAA5iF,GAClB,IAAM6iF,EAAOF,EAAOG,WAHJ,UAMhB,OAFAD,EAAK35D,OAAOlpB,GACG6iF,EAAKE,UAIRC,EAAO,eAAA3mG,EAAAM,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAAG,SAAAC,EAAOzB,EAAMrQ,GAAb,IAAAijF,EAAAC,EAAAC,EAAAC,EAAA,OAAAjG,EAAA3hG,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,UACjB9B,EADiB,CAAA6B,EAAAC,KAAA,eAAAD,EAAAohD,OAAA,SACJ,IADI,UAEjBtzD,EAFiB,CAAAkS,EAAAC,KAAA,cAGf,IAAIsrE,MAAM,0BAHK,cAKhBwF,EAAKN,EAAOU,YAfD,IAgBXH,EAASP,EAAOW,eAjBJ,cAiB+BV,EAAW5iF,GAAMijF,GAC5DE,EAAOD,EAAOh6D,OAAO7Y,GACrB+yE,EAAYG,EAAO3+F,OAAO,CAACu+F,EAAMD,EAAO1R,UARxBt/D,EAAAohD,OAAA,YAAA1uE,OAUZq+F,EAAGp9E,SAAS,OAVA,KAAAjhB,OAUUw+F,EAAUv9E,SAAS,SAV7B,wBAAAqM,EAAAI,SAAAR,MAAH,gBAAAS,EAAA+nB,GAAA,OAAAj+C,EAAAgT,MAAAwd,KAAApxB,YAAA,GAaP+nG,EAAO,eAAAzmG,EAAAJ,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAAG,SAAA8nB,EAAOtpB,EAAMrQ,GAAb,IAAAyjF,EAAAR,EAAAS,EAAAC,EAAAC,EAAAC,EAAA,OAAA1G,EAAA3hG,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAChBsxE,EAAYpzE,EAAKpxB,MAAM,KACvBgkG,EAAKM,EAAOt2F,KAAKw2F,EAAUK,QAAS,OACpCJ,EAAgBH,EAAOt2F,KAAKw2F,EAAU7qF,KAAK,KAAM,OACjD+qF,EAAWhB,EAAOoB,iBA5BN,cA4BmCnB,EAAW5iF,GAAMijF,GAChEW,EAAOD,EAASz6D,OAAOw6D,GACvBG,EAAYN,EAAO3+F,OAAO,CAACg/F,EAAMD,EAASnS,UAN1B53C,EAAA05B,OAAA,SAQfuwB,EAAUh+E,YARK,wBAAA+zB,EAAAtnB,SAAAqnB,MAAH,gBAAA6jD,EAAAwG,GAAA,OAAAjnG,EAAAsS,MAAAwd,KAAApxB,YAAA,GAWPwoG,EAAa,eAAA/mG,EAAAP,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAAG,SAAAioB,EAAOzpB,EAAMi+D,GAAb,IAAA4U,EAAAgB,EAAA,OAAA/G,EAAA3hG,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,UACvB9B,EADuB,CAAA0pB,EAAA5nB,KAAA,eAAA4nB,EAAAu5B,OAAA,SACV,IADU,cAEtB4vB,EAASP,EAAOwB,aAtCG,cAsC6B7V,GAClD4V,EAAUhB,EAAOh6D,OAAO7Y,EAAM,OAAQ,OAC1C6zE,GAAWhB,EAAO1R,MAAM,OAJIz3C,EAAAu5B,OAAA,SAKrB4wB,GALqB,wBAAAnqD,EAAAznB,SAAAwnB,MAAH,gBAAAsqD,EAAAC,GAAA,OAAAnnG,EAAAmS,MAAAwd,KAAApxB,YAAA,GAQb6oG,EAAa,eAAAhnG,EAAAX,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAAG,SAAAooB,EAAO5pB,EAAMi+D,GAAb,IAAAqV,EAAAY,EAAA,OAAApH,EAAA3hG,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,UACvB9B,EADuB,CAAA6pB,EAAA/nB,KAAA,eAAA+nB,EAAAo5B,OAAA,SACV,IADU,cAEtBqwB,EAAWhB,EAAO6B,eA9CC,cA8CiClW,GACtDiW,EAAMZ,EAASz6D,OAAO7Y,EAAM,MAAO,QACvCk0E,GAAOZ,EAASnS,MAAM,QAJMt3C,EAAAo5B,OAAA,SAKrBixB,GALqB,wBAAArqD,EAAA5nB,SAAA2nB,MAAH,gBAAAwqD,EAAAC,GAAA,OAAApnG,EAAA+R,MAAAwd,KAAApxB,YAAA,6ZC5ClBkpG,EAAyBC,WAAzBD,WAAYE,EAAaD,WAAbC,SACZC,EAAmBzsF,YAAnBysF,eAgDK9nE,GA/CG3kB,YAAUoM,aAAatnB,IAAI,SAAAqH,GAC1C,MAAO,CACN+K,MAAO/K,EACPkU,MAAOlU,EAAKvF,MAAM,KAAK,MAkBftC,OAAOma,KAAK6tF,GAAYxnG,IAAI,SAAA6iB,GACnC,MAAO,CAAEzQ,MAAOo1F,EAAW3kF,GAAKnd,GAAI6V,MAAOisF,EAAW3kF,GAAKtH,SAyBpC,CACzBukB,SAAU,CAAE1kB,KAAM,WAAYkzE,SAAUqZ,EAAeC,KAAMC,MAAO,GACpE7nE,OAAQ,CAAE5kB,KAAM,SAAUkzE,SAAUqZ,EAAeC,KAAMC,MAAO,GAChE3nE,KAAM,CAAE9kB,KAAM,OAAQkzE,SAAUqZ,EAAeC,KAAMC,MAAO,GAC5DC,MAAO,CAAE1sF,KAAM,QAASkzE,SAAUqZ,EAAeC,KAAMC,MAAO,IAC9DE,MAAO,CAAE3sF,KAAM,QAASkzE,SAAUqZ,EAAeC,KAAMC,MAAO,IAC9DG,KAAM,CAAE5sF,KAAM,OAAQkzE,SAAUqZ,EAAeC,KAAMC,MAAO,OAShDI,EAAoB,CAChCxxE,EAAG,CAAErb,KAAM,UAAW8sF,IAAK,cAC3BC,EAAG,CAAE/sF,KAAM,SAAU8sF,IAAK,eAC1BE,WAAY,CAAEhtF,KAAM,UAAW8sF,IAAK,cACpCG,YAAa,CAAEjtF,KAAM,SAAU8sF,IAAK,gBA+BxBI,EAAa,CACzBC,WAAY,OACZC,WAAY,MACZC,aAAc,OACdC,YAAa,QAGDC,EAA8B,CAC1C,eACA,eAMYC,EAAkC,CAC9C,aACA,SAIY90B,EAAiC,CAC7C,CAAEv4D,MAAO,aAAcnJ,MAAO,QAC9B,CAAEmJ,MAAO,YAAanJ,MAAO,OAC7B,CAAEmJ,MAAO,aAAcnJ,MAAO,SAKlB6X,EAAoB,CAChC,CAAE1O,MAAO,eAAgBnJ,MAAO,iBAChC,CAAEmJ,MAAO,gBAAiBnJ,MAAO,WACjC,CAAEmJ,MAAO,iBAAkBnJ,MAAO,YAClC,CAAEmJ,MAAO,eAAgBnJ,MAAO,UAChC,CAAEmJ,MAAO,cAAenJ,MAAO,SAC/B,CAAEmJ,MAAO,eAAgBnJ,MAAO,UAChC,CAAEmJ,MAAO,cAAenJ,MAAO,UAGnBy2F,EAA4B,MAC5BC,EAAuB,KAEvBl1D,GAAmBm1D,EAAA,GAAAvpG,OAAAwpG,EAAA,EAAAxpG,CAAAupG,EAC9BlpE,EAAWC,SAAS1kB,KAAO,CAC3B,CAAE43B,QAAS,2BACX,CAAEA,QAAS,+BAAgC6V,QAAQ,KAHrBrpD,OAAAwpG,EAAA,EAAAxpG,CAAAupG,EAK9BlpE,EAAWG,OAAO5kB,KAAO,CAAC,CAAE43B,QAAS,2BALPxzC,OAAAwpG,EAAA,EAAAxpG,CAAAupG,EAM9BlpE,EAAWkoE,MAAM3sF,KAAO,CACxB,CAAE43B,QAAS,qBACX,CAAEA,QAAS,4BARmBxzC,OAAAwpG,EAAA,EAAAxpG,CAAAupG,EAU9BlpE,EAAWioE,MAAM1sF,KAAO,CACxB,CAAE43B,QAAS,qBACX,CAAEA,QAAS,4BAZmBxzC,OAAAwpG,EAAA,EAAAxpG,CAAAupG,EAAA,UActB,CAAC,CAAE/1D,QAAS,6BAdU+1D,qCChJhC,IAAAE,EAAA97E,EAAA,KAEMkH,EAAU60E,cAEhB70E,EAAQ80E,OAAO,SAAAz9F,GACd4uC,OAAO8uD,MACN9uD,OAAO8uD,KAAK,SAAUtjG,iBAAqB,CAC1CujG,UAAW39F,EAAS8gB,SAAW9gB,EAASogB,WAI5BuI,0ICJTi1E,EACiE,KAArE,GAAKr3F,KAAKiyC,MAAM2kD,IAA4BC,MAExCpN,EAAgB,IAAI8E,IAAK,CAC9BvvE,QAASq4E,EACTtzB,WAAU,eAAAC,EAAAz2E,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAAE,SAAAC,IAAA,OAAAqrE,EAAA3hG,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,UAAAD,EAAAmhD,GACX70E,YAAWzC,gBADAm2B,EAAAmhD,GAAA,CAAAnhD,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EACsB4B,YAAQ2yE,gBAD9B,OAAAx0E,EAAAmhD,GAAAnhD,EAAAwxB,KAAA,cAAAxxB,EAAAohD,OAAA,SAAAphD,EAAAmhD,IAAA,wBAAAnhD,EAAAI,SAAAR,MAAF,yBAAAshD,EAAA/jE,MAAAwd,KAAApxB,YAAA,GAEVmhG,SAAU,aACVC,OAAQ,kBAAOr+F,YAAWzC,8GCRrB4qG,EAAmB,IAAIhJ,IAAK,CACjCvvE,QAHoB,IAIpB+kD,WAAU,eAAAC,EAAAz2E,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAAE,SAAAC,IAAA,OAAAqrE,EAAA3hG,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,UAAAD,EAAAmhD,GACX70E,YAAWzC,gBADAm2B,EAAAmhD,GAAA,CAAAnhD,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EACsB4B,YAAQ6yE,gBAD9B,OAAA10E,EAAAmhD,GAAAnhD,EAAAwxB,KAAA,cAAAxxB,EAAAohD,OAAA,SAAAphD,EAAAmhD,IAAA,wBAAAnhD,EAAAI,SAAAR,MAAF,yBAAAshD,EAAA/jE,MAAAwd,KAAApxB,YAAA,GAEVmhG,SAAU,kBACVC,OAAQ,kBAAOr+F,YAAWzC,kBAGZ4qG,2BCff56E,EAAAC,QAAiB1B,EAAA7N,EAAuB,qKCalCoqF,EAAS,SAAAxqG,GAUT,IATLie,EASKje,EATLie,KACAsgB,EAQKv+B,EARLu+B,OACArL,EAOKlzB,EAPLkzB,SACA7W,EAMKrc,EANLqc,MACAowC,EAKKzsD,EALLysD,UACAg+C,EAIKzqG,EAJLyqG,aACAh4E,EAGKzyB,EAHLyyB,MACA6K,EAEKt9B,EAFLs9B,UACGjlB,EACE/X,OAAAoqG,EAAA,EAAApqG,CAAAN,EAAA,qFACC2qG,EAAapsE,GAAqB,WAAXA,EACvBzyB,EAAM6+F,EArBE,SAAA7+F,GAMd,OALAA,GAAOA,GAAO,IAAI+W,QAAQ,mBAAoB,OAE7C/W,EAAM,KAAOA,GAGPA,EAekB8+F,CAAO3sF,GAAQA,EAElC4sF,EAASvqG,OAAAwqG,EAAA,EAAAxqG,CAAA,CACdmsD,UAAWA,GAAa,OACxBh6B,MAAOA,GAAS,UAChBqU,UAAW,SACP6jE,GAAc,CAAEI,IAAK,uBAJX,CAKdxsE,SACAtgB,KAAMnS,EACNizB,MAAO,CAAEghB,UAAW,cAChBziB,EAAY,CAAEA,aAAc,GAC7BjlB,GAEJ,OACC2yF,EAAA7rG,EAAA4e,cAAAktF,EAAA,EAAUJ,GACPvtE,IAAcpK,GAAY7W,IAC1BihB,GAAamtE,GACdO,EAAA7rG,EAAA4e,cAAAmtF,EAAA,GAAWnsE,MAAO,CAAEhC,SAAU,aAMrBouE,EAAiB,SAAAzqG,GAAA,IAAGud,EAAHvd,EAAGud,KAAMiV,EAATxyB,EAASwyB,SAAoB7a,GAA7B3X,EAAmBq+B,MAAnBz+B,OAAAoqG,EAAA,EAAApqG,CAAAI,EAAA,qCAC7BsqG,EAAA7rG,EAAA4e,cAACysF,EAADlqG,OAAAk2B,OAAA,CACCuI,MAAO,CAAEqvD,WAAY,QACrB3hC,UAAU,SACVluB,OAAO,SACP9L,MAAM,UACNg4E,cAAY,EACZxsF,KAAMA,GACF5F,GAEH6a,IAIYs3E,woTC5DF9yE,EAAUw/D,IAAMnkE,SAEhBA,EAAWmkE,IAAMnkE,SAEjBrzB,EAAWw3F,IAAMx3F,iGCNjB0rG,EAAc,SAAA38E,GAC1B,OAAKA,EAEqB,kBAARA,EACVA,EAAIkmB,KAAOlmB,EAAIqlB,SAAWrlB,EAAIonB,QAAUpnB,EAAIyB,MACzCvf,MAAMwxC,QAAQ1zB,GACjBA,EAAIlS,KAAK,MAETkS,EANA,ICeF,SAAS48E,EAAcj7F,EAAM8C,GACnC,OAAO,SAAS6f,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,KACNmiC,QAAS/hC,EACT8C,MAAOA,KAKH,SAASo4F,EAAel7F,EAAM8C,EAAOq4F,GAC3C,OAAO,SAASx4E,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACNI,KAAMA,EACN8C,MAAOA,EACPq4F,SAAUA,KAKN,SAASnzB,EAAehoE,EAAM8C,GACpC,OAAO,SAAS6f,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACNI,KAAMA,EACN8C,MAAOA,KAKH,SAASs4F,EAAwB1jG,EAAU2jG,GACjD,OAAO,SAAS14E,EAAUrzB,GAAU,IAC3BqI,EAAsBzC,aAAe5F,KAArCqI,kBACR,IAA0B,IAAtBA,EAA4B,CAC/B,IAAM6f,EAAOtnB,OAAAC,EAAA,EAAAD,CAAA,GAASyH,GAAqB,IAE3C,OADA6f,EAAQ9f,GAAY2jG,EACb14E,EAAS,CACf5qB,KAAM6H,IACNI,KAAM,oBACN8C,MAAO0U,MAMJ,SAAS8jF,EAAmBt7F,EAAM8C,EAAOq4F,GAC/C,OAAO,SAASx4E,EAAUrzB,GACzB,IAAM2C,EAAWW,YAA0BtD,KAE3C,OAAOqzB,EAAS,CACf5qB,KAAM6H,KACN3N,WACA+N,KAAMA,EACN8C,MAAOA,EACPq4F,SAAUA,KAKN,SAASI,EAAqBv7F,EAAM8C,GAC1C,OAAO,SAAS6f,EAAUrzB,GACzB,IAAMD,EAAQC,IACR2C,EAAWW,YAA0BvD,GACrC4F,EAAOF,aAAW1F,GACxB,OAAOszB,EAAS,CACf5qB,KAAM6H,KACN3N,WACA+N,OACA8C,QACA7N,UAKI,SAAS42E,EAATj8E,GAQJ,IAPFmI,EAOEnI,EAPFmI,KACAkqB,EAMEryB,EANFqyB,OAMEu5E,EAAA5rG,EALFqc,aAKE,IAAAuvF,EALM,GAKNA,EAAAC,EAAA7rG,EAJF+xB,eAIE,IAAA85E,KAHF55E,EAGEjyB,EAHFiyB,WACAT,EAEExxB,EAFFwxB,aACAG,EACE3xB,EADF2xB,IAEA,OAAO,SAASoB,GACf,IAAMvsB,EAAK83D,IAAOwtC,UAelB,OAdA/4E,EAAS,CACR5qB,KAAM6H,IACNihB,MAAO,CACN9oB,OACAkqB,SACAhW,QACA0V,UACAE,aACAT,eACAG,MACAnrB,QAIKA,GAIF,SAASwqB,EAAY+6E,GAC3B,OAAO,SAASh5E,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACNihB,MAAO86E,KAKH,SAASvzD,EACf/kB,EACAC,GAWC,IAAAhzB,EAAAtB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHG,GAGH4sG,EAAAtrG,EATAuzB,oBASA,IAAA+3E,EATe,GASfA,EAAAC,EAAAvrG,EARAwzB,mBAQA,IAAA+3E,EARc,GAQdA,EAAAC,EAAAxrG,EAPAsM,aAOA,IAAAk/F,EAPQ,GAORA,EAAAC,EAAAzrG,EANAszB,YAMA,IAAAm4E,EANO,GAMPA,EAAAC,EAAA1rG,EALA2rG,gBAKA,IAAAD,KAAAE,EAAA5rG,EAJA6rG,iBAIA,IAAAD,KAFD14E,EAECx0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EADDwxB,EACC1xB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACD,sBAAAuB,EAAAP,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAC,EAAe1C,GAAf,OAAAwC,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACO/C,EAAS,CACrB5qB,KAAM6H,IACNpK,QAAS,CACR6tB,UAAWA,EACXC,SAAUA,EACVnb,KAAM,CACL0b,aAAcA,EACdC,YAAaA,EACblnB,MAAOA,EACPgnB,KAAMA,EACNq4E,SAAUA,EACVE,UAAWA,GAEZ34E,eACA9C,YAfI,cAAA+E,EAAAohD,OAAA,SAAAphD,EAAAwxB,MAAA,wBAAAxxB,EAAAI,SAAAR,MAAP,gBAAAS,GAAA,OAAAr1B,EAAAmS,MAAAwd,KAAApxB,YAAA,GAqBM,SAASisF,EAAUj7E,EAAM8C,GAC/B,OAAO,SAAS6f,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACNI,KAAMA,EACN8C,MAAOA,KAKH,SAASs5F,EAAe/iG,GAC9B,OAAO,SAASspB,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACNvG,KAAMA,KAKF,SAAS6sF,EAA0B1pE,GACzC,OAAO,SAASmG,GAEmB,iBADb,IAAIhG,gBAAgBH,GACxB1D,IAAI,UACpBoiF,EAAe,qBAAqB,EAApCA,CAA0Cv4E,IAKtC,SAASgwC,EAAkBn7C,GACjC,sBAAA3mB,EAAAX,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA8nB,EAAevqB,EAAUrzB,GAAzB,IAAA4G,EAAA,OAAAivB,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,OACN,IACOxvB,EAAcD,aAAkB3G,KAEtCgsG,EAAmB,cAHhBprG,OAAAC,EAAA,EAAAD,CAAA,GAEyBgG,EAAgBshB,GAC5C8jF,CAAkD34E,EAAUrzB,GAC3D,MAAO+uB,GACRI,QAAQqB,MAAM,4BAA6BzB,GAC3CwtD,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,6BACT2xB,QAAS,KAHVkqD,CAIGlpD,GAXE,wBAAAwqB,EAAAtnB,SAAAqnB,MAAP,gBAAAW,EAAAkjD,GAAA,OAAAlgG,EAAA+R,MAAAwd,KAAApxB,YAAA,GAgBM,SAASqtG,EAAoBx2C,EAAYxuD,GAC/C,OAAO,SAASsrB,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,KACNvI,gBACAwuD,gBAKI,SAASmO,IACf,OAAO,SAASrxC,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,OAKF,SAAS08F,EAAwBjlG,GACvC,OAAO,SAASsrB,GACf,OAAO05E,EAAoB,YAAahlG,EAAjCglG,CAAgD15E,IAIlD,SAAS45E,EAATvrG,GAA4C,IAAX8hB,EAAW9hB,EAAX8hB,QACvC,OAAO,SAAS6P,GACf,IACCkpD,EAAS,CACR9zE,KAAM,SACNkqB,OAECvU,EAAA3e,EAAA4e,cAAC0W,EAAA,EAAD,CACChC,MAAM,UACNC,KAAK,QACLN,QAAQ,YACRO,QAAS,WACJi6E,QAEHA,OAAOnyF,OAAOs9E,KAAd,eAAAx2F,EAAAjB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAmB,SAAAioB,EAAexQ,GAAf,OAAA1X,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,cAAA4nB,EAAA5nB,KAAA,EACZmvB,QAAQ9kD,IAAI8sC,EAAMnsC,IAAI,SAAAob,GAAI,OAAI0wF,OAAOjjE,OAAOztB,MADhC,wBAAAwhC,EAAAznB,SAAAwnB,MAAnB,gBAAAkqD,GAAA,OAAApmG,EAAAyR,MAAAwd,KAAApxB,YAAA,IAIDg8C,OAAO5uC,SAASikF,QAAO,KAGvBrwF,aAAE,YAGLic,MAAOjc,aAAE,mCAAoC,CAC5CyJ,KAAM,CAACqZ,KAER6O,QAAS,KAxBVkqD,CAyBGlpD,GACF,MAAOtE,GACRI,QAAQqB,MAAM,mBAAoBzB,GAClCwtD,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,oBACT2xB,QAAS,KAHVkqD,CAIGlpD,KAKC,SAAS85E,IACf,OAAO,SAAS95E,GACf,IACCkpD,EAAS,CACR9zE,KAAM,SACN8pB,YAAY,EACZI,OAECvU,EAAA3e,EAAA4e,cAAC0W,EAAA,EAAD,CACChC,MAAM,UACNC,KAAK,QACLN,QAAQ,YACRO,QAAS,WACRyoB,OAAOvpB,KAAK,+BAAgC,UAC5CupB,OAAO5uC,SAASikF,QAAO,KAGvBrwF,aAAE,cAGLic,MAAOjc,aAAE,uBAAwB,CAChCyJ,KAAM,CAACzJ,aAAE,gBAEV2xB,QAAS,KApBVkqD,CAqBGlpD,GACF,MAAOtE,GACRI,QAAQqB,MAAM,mBAAoBzB,GAClCwtD,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,oBACT2xB,QAAS,KAHVkqD,CAIGlpD,KAKC,SAASojE,EAAqBvpE,GACpC,OAAO,SAASmG,GACf,IAAMmgE,EAAe,IAAInmE,gBAAgBH,GAEnClqB,EAAQwwF,EAAahqE,IAAI,iBACzB7mB,EAAW6wF,EAAahqE,IAAI,oBAC5B4jF,EAAQ5Z,EAAahqE,IAAI,iBACzB7jB,GAAQ6tF,EAAahqE,IAAI,eAAiB,IAAIsiB,cAEhD9oC,GAASL,IAAayqG,EACzB7wB,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,yBAA0B,CAClCyJ,KAAM,CAACnH,EAAOL,KAEf0vB,QAAS,KALVkqD,CAMGlpD,GACOrwB,GAASL,GAAYyqG,GAC/B7wB,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,+BAAgC,CACxCyJ,KAAM,CAACnH,EAAOL,EAAUyqG,KAEzB/6E,QAAS,KALVkqD,CAMGlpD,GAGA,CAAC,aAAc,aAAatiB,SAASpL,IACxCimG,EAAe,WAAYjmG,EAA3BimG,CAAiCv4E,IAK7B,SAASwjE,GAAwB3pE,GACvC,OAAO,SAASmG,GAKdnsB,UAJoB,IAAImmB,gBAAgBH,GAG3B1D,IAAItiB,cAGjB0kG,EAAe,mBAAmB,EAAlCA,CAAwCv4E,IAKpC,SAAS+4D,GAAgCihB,GAC/C,OAAO,SAASh6E,EAAUrzB,GACzBgsG,EAAmB,4BAA6BqB,EAAhDrB,CACC34E,EACArzB,IAKI,SAAS81E,GAAsCu3B,GACrD,OAAO,SAASh6E,EAAUrzB,GACzBgsG,EAAmB,mCAAoCqB,EAAvDrB,CACC34E,EACArzB,IAKI,SAAS2H,GAAmBhC,GAClC,OAAO,SAAS0tB,EAAUrzB,GACzBgsG,EAAmB,sBAAsB,EAAMrmG,EAA/CqmG,CAAqD34E,EAAUrzB,IAI1D,SAAS2pF,GAA0B5G,GACzC,OAAO,SAAS1vD,EAAUrzB,GACzBgsG,EAAmB,yBAA0BjpB,EAA7CipB,CAAuD34E,EAAUrzB,IAI5D,SAAS23E,GAAiC21B,GAChD,OAAO,SAASj6E,EAAUrzB,GACzB,IAAMD,EAAQC,IACRkP,EAAYpG,aAAqC/I,GAFpBwtG,EAGZvI,YAAe,CAAE91F,YAAW9F,MAAOkkG,IAC1DrB,EAAqB,sBAAuB,CAAE7iG,MAJXmkG,EAG3BnkG,MAC6CI,IAJlB+jG,EAGpB/jG,KACfyiG,CACC54E,EACArzB,IAKI,SAAS82E,GAAT90E,GAGJ,IAAAwrG,EAAAxrG,EAFFo0B,YAEE,IAAAo3E,KAAAC,EAAAzrG,EADFi1E,YACE,IAAAw2B,KACF,sBAAAtrG,EAAAvB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAooB,EAAe7qB,EAAUrzB,GAAzB,IAAAkP,EAAAw+F,EAAAtkG,EAAA,OAAAysB,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,OACN,IACOlnB,EAAYpG,aAAqC9I,KADpD0tG,EAEazkG,aAAkCjJ,KAA5CoJ,EAFHskG,EAEGtkG,MAQNuuE,GALCvuE,EADG6tE,GACM5tE,IAAUE,OAEX47F,YAAqB,CAAEj2F,YAAW9F,QAAOgtB,SAGlDuhD,CAAwCtkD,EAAUrzB,GACjD,MAAO+uB,GACRI,QAAQqB,MAAM,4BAA6BzB,GAC3CwtD,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,4BAA6B,CACrCyJ,KAAM,CAACuhG,EAAY38E,MAEpBsD,QAAS,KALVkqD,CAMGlpD,GApBE,wBAAA8qB,EAAA5nB,SAAA2nB,MAAP,gBAAAmqD,EAAAC,GAAA,OAAAnmG,EAAAmR,MAAAwd,KAAApxB,YAAA,GAyBM,SAAS+3E,GAAoCvoE,GACnD,OAAO,SAASmkB,EAAUrzB,GACzBisG,EAAqB,yBAA0B/8F,EAA/C+8F,CACC54E,EACArzB,GAED82E,GAAkC,CAAEG,MAAM,GAA1CH,CAAkDzjD,EAAUrzB,6CC5ajD2tG,GAAiB,eAAArtG,EAAAM,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAC,IAAA,IAAAqwD,EAAAvjF,EAAA7B,EAAA4sG,EAAAC,EAAAC,EAAApuG,UAAA,OAAAm2B,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,UAAOgwD,EAAP0nB,EAAAnuG,OAAA,QAAAC,IAAAkuG,EAAA,GAAAA,EAAA,GAAc,GAAIjrG,EAAlBirG,EAAAnuG,OAAA,EAAAmuG,EAAA,QAAAluG,EAAAu2B,EAAAlI,KAAA,GAE3B8/E,GAAa3nB,GAFc,CAAAjwD,EAAAC,KAAA,gBAAAD,EAAAC,KAAA,EAGH43E,aAAUnrG,GAHP,cAAA7B,EAAAm1B,EAAAwxB,KAGtBimD,EAHsB5sG,EAGtB4sG,SACFC,EAAW,IAAII,UAAOC,SAAS9nB,EAAM+nB,GAAeP,GAJ5Bz3E,EAAAC,KAAA,GAKxBmvB,QAAQ9kD,IAAI,CACjBotG,EAASO,cACTP,EAASQ,UAAU/xF,aAAUgyF,aAC7BT,EAASU,UAAUjyF,aAAUgyF,YAAahyF,aAAUgyF,eARvB,eAAAn4E,EAAAohD,OAAA,UAUvB,GAVuB,eAAAphD,EAAAohD,OAAA,UAYxB,GAZwB,eAAAphD,EAAAlI,KAAA,GAAAkI,EAAAmhD,GAAAnhD,EAAA,SAAAA,EAAAohD,OAAA,UAcxB,GAdwB,yBAAAphD,EAAAI,SAAAR,EAAA,kBAAH,yBAAAz1B,EAAAgT,MAAAwd,KAAApxB,YAAA,GCHjB8uG,GAAgB,eAAAluG,EAAAM,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAC,EAAMlzB,GAAN,IAAA4rG,EAAA,OAAA54E,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cAAAD,EAAAlI,KAAA,EAAAkI,EAAAC,KAAA,EAKZmvB,QAAQmpD,KAAK,CAC9BV,aAAUnrG,GACV,IAAI0iD,QAAQ,SAACC,EAASC,GACrBp0B,WAAW,WACVo0B,EAAO,cACL,SAVyB,cAKxBgpD,EALwBt4E,EAAAwxB,KAAAxxB,EAAAC,KAAA,EAaxBq4E,EAAIb,SAASe,iBAbW,cAAAx4E,EAAAohD,OAAA,UAcvB,GAduB,cAAAphD,EAAAlI,KAAA,EAAAkI,EAAAmhD,GAAAnhD,EAAA,SAAAA,EAAAohD,OAAA,UAgBvB,GAhBuB,yBAAAphD,EAAAI,SAAAR,EAAA,iBAAH,gBAAAS,GAAA,OAAAl2B,EAAAgT,MAAAwd,KAAApxB,YAAA,GCMvBkvG,GAAgB,8CA0CTC,GAAgB,SAAAtc,GAG5B,OAFAA,EAAWA,GAAY,GACPqc,GAAc/+E,KAAK0iE,IAIvBwb,GAAe,WAAe,IAAd3nB,EAAc1mF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACnC,IACCssD,SAAM8iD,WAAW1oB,GAChB,MAAOpuE,GACR,OAAO,EAER,OAAO,GAGK+2F,GAAmB,WAAe,IAAd3oB,EAAc1mF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACvC,QAAOquG,GAAa3nB,IACjBp6B,SAAMpjC,aAAaojC,SAAM8iD,WAAW1oB,IAAO4oB,UAIlCC,GAAe,eAAAjuG,EAAAJ,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAC,EAAAz1B,GAAA,IAAA4uG,EAAA9oB,EAAA+oB,EAAAC,EAAAvsG,EAAAoyC,EAAAo6D,EAAAC,EAAA,OAAAz5E,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,UAAA84E,EAAA5uG,EAC9B8lF,YAD8B,IAAA8oB,EACvB,GADuBA,EAE9BC,EAF8B7uG,EAE9B6uG,YACAC,EAH8B9uG,EAG9B8uG,SACAvsG,EAJ8BvC,EAI9BuC,SAEIoyC,EAAM,GANoB9e,EAAAlI,KAAA,KAQNm4D,IAAS2nB,GAAa3nB,IARhB,CAAAjwD,EAAAC,KAAA,QAU5B6e,EAAM,0BAVsB9e,EAAAC,KAAA,mBAYtBi5E,EAAiBN,GAAiB3oB,IACpC+oB,IAAeE,EAbS,CAAAl5E,EAAAC,KAAA,SAc3B6e,EAAM,+BAdqB9e,EAAAC,KAAA,wBAAAD,EAAAC,KAAA,GAgBEo4E,GAAiB3rG,GAhBnB,YAAAszB,EAAAwxB,KAAA,CAAAxxB,EAAAC,KAAA,SAkB1B6e,EAAM,8BAlBoB9e,EAAAC,KAAA,wBAAAD,EAAAC,KAAA,GAoBIu3E,GAAkBvnB,GApBtB,QAoBpBkpB,EApBoBn5E,EAAAwxB,MAqBrB0nD,GAAkBD,GAAYE,IAClCr6D,EAAM,iCAtBmB,QAAA9e,EAAAC,KAAA,iBAAAD,EAAAlI,KAAA,GAAAkI,EAAAmhD,GAAAnhD,EAAA,SA2Bf,mCAAVA,EAAAmhD,KACHriC,EAAM,+BA5BsB,eAAA9e,EAAAohD,OAAA,SA8BvB,CAAEtiC,QA9BqB,yBAAA9e,EAAAI,SAAAR,EAAA,kBAAH,gBAAAS,GAAA,OAAAx1B,EAAAsS,MAAAwd,KAAApxB,YAAA,GAiCf6vG,GAAW,eAAAhuG,EAAAX,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAA8nB,EAAAz8C,GAAA,IAAAquG,EAAAvwB,EAAAp8E,EAAAoyC,EAAAvzC,EAAAksG,EAAA6B,EAAA,OAAA55E,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,UAAAo5E,EAAAruG,EAAS89E,gBAAT,IAAAuwB,EAAoB,GAApBA,EAAwB3sG,EAAxB1B,EAAwB0B,SAC9CoyC,EAAM,GADgB4I,EAAA5vB,KAAA,EAGR,KAAbgxD,EAHqB,CAAAphC,EAAAznB,KAAA,QAIxB6e,EAAM,mBAJkB4I,EAAAznB,KAAA,uBAAAynB,EAAAznB,KAAA,EAMG43E,aAAUnrG,GANb,cAAAnB,EAAAm8C,EAAA8J,KAMhBimD,EANgBlsG,EAMhBksG,SANgB/vD,EAAAznB,KAAA,GAOCw3E,EAAS8B,YAAT,GAAA7mG,OACrBo2E,EADqB,KAAAp2E,OACT3B,aARQ,SAOlBuoG,EAPkB5xD,EAAA8J,QAWLonD,GAAiBU,KAAax6D,EAAM,oBAX/B,QAAA4I,EAAAznB,KAAA,iBAAAynB,EAAA5vB,KAAA,GAAA4vB,EAAAy5B,GAAAz5B,EAAA,SAexB5I,EADkB,qBAAf4I,EAAAy5B,GAAMq4B,KACH,2BAEA,gBAjBkB,eAAA9xD,EAAA05B,OAAA,SAoBnB,CAAEtiC,QApBiB,yBAAA4I,EAAAtnB,SAAAqnB,EAAA,kBAAH,gBAAAW,GAAA,OAAAh9C,EAAA+R,MAAAwd,KAAApxB,YAAA,iDClGXkwG,GAA0B,SAAAtvG,GAAmB,IAAhBuvG,EAAgBvvG,EAAhBuvG,IAAKv7E,EAAWh0B,EAAXg0B,KAC1C8f,EAAU9f,EACd,IACC,IAAMw7E,EAAUpyF,KAAKrR,MAAMioB,GAC3B8f,EACC07D,EAAQ17D,SAAW07D,EAAQ76D,KAAO66D,EAAQ35D,QAAU25D,EAAQt/E,OAAS8D,EACrE,MAAAy7E,IAEF,MAAM,IAAIrO,MACThhG,aAAE,oBAAqB,CACtByJ,KAAM,CAAC0lG,EAAIzjG,IAAKyjG,EAAI7tF,OAAQ6tF,EAAIG,WAAY57D,OCdhC67D,GDoBd,SAAAC,EAAAlvG,GAAyB,IAAA4vB,EAAAE,KAAXq/E,EAAWnvG,EAAXmvG,QAAWvvG,OAAAiwB,GAAA,EAAAjwB,CAAAkwB,KAAAo/E,GAAAp/E,KAIzBs/E,eAAiB,WAAsB,IAAnBxtG,GAAmBlD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAZkD,QACbytG,EAAgBptG,YAAcjD,KACpC,MAAO,CACNswG,mBAAoB1tG,GAAWytG,IAPRv/E,KAWzBy/E,eAAiB,CAChBC,gBAAiB,WACjBC,QAAS,IACTC,OAAQ,YAdgB5/E,KAiBzBo6E,OAAS,SAACyF,EAAMC,EAAOzjF,GACtB,IAAI/gB,EAAMukG,EAAO,IAQjB,OAPIC,IAEHxkG,GADAwkG,EAAQA,EAAMztF,QAAQ,MAAO,KAI9B/W,GAAO+gB,GAxBiB2D,KA6BzB+/E,MAAQ,SAAAtvG,GAUF,IAAAuvG,EAAAvvG,EATLqvG,aASK,IAAAE,EATG,GASHA,EAAAC,EAAAxvG,EARLyvG,mBAQK,IAAAD,EARS,GAQTA,EAAAE,EAAA1vG,EAPLuwF,cAOK,IAAAmf,EAPI,MAOJA,EANL/nE,EAMK3nC,EANL2nC,KAMKgoE,EAAA3vG,EALL4vG,eAKK,IAAAD,EALK,GAKLA,EAAAE,GAAA7vG,EAJL8vG,SAIK9vG,EAHLqB,gBAGK,IAAAwuG,EAHK,GAGLA,EAAAE,GAAA/vG,EAFLgwG,UAEKhwG,EADLiwG,gBACK,IAAAF,KACCG,EAAE7wG,OAAAC,EAAA,EAAAD,CAAA,GAAQowG,GACZ3U,iBACHoV,EAAGC,MAAO,GAGX,IAAMvkF,EAAQyxC,IAAO+yC,SAASF,GACxBrlG,EAAMwkB,EAAKs6E,OAAOt6E,EAAKu/E,QAASS,EAAOzjF,GAEvCykF,EAAIhxG,OAAAC,EAAA,EAAAD,CAAA,GACL4wG,EAAU5gF,EAAK2/E,eAAiB,GACjC3/E,EAAKw/E,eAAe,CAAExtG,YACtBuuG,GAEJ,OAAON,MAAMzkG,EAAK,CACjB0lF,OAAQA,EACRqf,QAASS,EACT1oE,KAAMA,KAvDPpY,KAAKq/E,QAAUA,GEpBXF,GAAY,IAAI4B,GAAU,CAAE1B,QADRjpG,iCAGpB4qG,GAAkB,SAAAjC,GACvB,OAAIA,EAAI7tF,QAAU,KAAO6tF,EAAI7tF,OAAS,IAC9B6tF,EAAIkC,OAGLlC,EAAIv7E,OAAO+jE,KAAK,SAAA/jE,GACtBs7E,GAAwB,CAAEC,MAAKv7E,YAIpB09E,GAAqB,SAAA1xG,GAAe,IAAZ+Q,EAAY/Q,EAAZ+Q,MACpC,OAAO4+F,GACLY,MAAM,CACND,MAAK,qBAAA/nG,OAAuBwI,GAC5BygF,OAAQ,QAERuG,KAAKyZ,KAGKG,GAAkB,SAAAjxG,GAAsB,IAAnBuF,EAAmBvF,EAAnBuF,aACjC,OAAO0pG,GACLY,MAAM,CACND,MAAK,YAAA/nG,OAActC,GACnBurF,OAAQ,QAERuG,KAAKyZ,KAGKI,GAAuB,WACnC,OAAOjC,GACLY,MAAM,CACND,MAAO,cACP9e,OAAQ,QAERuG,KAAKyZ,KAGKK,GAAY,SAAAhxG,GAAoD,IAAjDixG,EAAiDjxG,EAAjDixG,QAASC,EAAwClxG,EAAxCkxG,WAAY9rG,EAA4BpF,EAA5BoF,aAAc+rG,EAAcnxG,EAAdmxG,QAC9D,OAAOrC,GACLY,MAAM,CACND,MAAK,YAAA/nG,OAActC,EAAd,YACLurF,OAAQ,OACR5oD,KAAMxrB,KAAKC,UAAU,CACpBy0F,UACAC,aACA9rG,eACA+rG,YAEDnB,QAAS,CAAEoB,eAAgB,sBAE3Bla,KAAKyZ,KAGKU,GAAa,SAAAjxG,GAYpB,IAXL8P,EAWK9P,EAXL8P,MACArO,EAUKzB,EAVLyB,MACA0vF,EASKnxF,EATLmxF,SACAC,EAQKpxF,EARLoxF,SACA8f,EAOKlxG,EAPLkxG,SACAC,EAMKnxG,EANLmxG,oBACAC,EAKKpxG,EALLoxG,iBACAC,EAIKrxG,EAJLqxG,KACArsG,EAGKhF,EAHLgF,aACA47E,EAEK5gF,EAFL4gF,WACA0wB,EACKtxG,EADLsxG,yBAEA,OAAO5C,GACLY,MAAM,CACND,MAAK,YAAA/nG,OAActC,GACnBurF,OAAQ,OACR5oD,KAAMxrB,KAAKC,UAAU,CACpBtM,QACArO,QACA0vF,WACAC,WACA8f,WACAC,sBACAC,mBACAC,OACArsG,eACA47E,aACA0wB,6BAED1B,QAAS,CAAEoB,eAAgB,sBAE3Bla,KAAKyZ,KAGKgB,GAAiB,SAAApxG,GAAc,IAAXolG,EAAWplG,EAAXolG,KAChC,OAAOmJ,GACLY,MAAM,CACND,MAAK,UAAA/nG,OAAYuzE,mBAAmB0qB,IACpChV,OAAQ,QAERuG,KAAKyZ,KAGKiB,GAAe,SAAAlxG,GAA4C,IAAzCmB,EAAyCnB,EAAzCmB,MAAO4vG,EAAkC/wG,EAAlC+wG,KAAM9L,EAA4BjlG,EAA5BilG,KAAMkM,EAAsBnxG,EAAtBmxG,gBACjD,OAAO/C,GACLY,MAAM,CACND,MAAK,SACL9e,OAAQ,OACR5oD,KAAMxrB,KAAKC,UAAU,CACpB3a,QACA4vG,OACA9L,OACAkM,oBAED7B,QAAS,CAAEoB,eAAgB,sBAE3Bla,KAAKyZ,KAGKmB,GAAW,SAAAjxG,GAAe,IAAZgB,EAAYhB,EAAZgB,MAC1B,OAAOitG,GACLY,MAAM,CACND,MAAK,kBAAA/nG,OAAoBuzE,mBAAmBp5E,IAC5C8uF,OAAQ,QAERuG,KAAKyZ,cC3GAvzB,GAA2BjiE,aAA3BiiE,uBAEA20B,GAAyBC,WAAzBD,YAAa7wG,GAAY8wG,WAAZ9wG,QACb2qD,GAAmBzxC,eAAnByxC,eAED,SAASomD,GAAT9yG,GAAoE,IAAzC8lF,EAAyC9lF,EAAzC8lF,KAAMhmE,EAAmC9f,EAAnC8f,MAAO65B,EAA4B35C,EAA5B25C,SAAUz9B,EAAkBlc,EAAlBkc,KAAM4yF,EAAY9uG,EAAZ8uG,SAC9D,sBAAApuG,EAAAJ,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAC,EAAe1C,EAAUrzB,GAAzB,IAAA6C,EAAA1B,EAAA8zC,EAAAg/B,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cACAvzB,EAAWO,YAAepD,KAD1Bm2B,EAAAlI,KAAA,EAGDgsB,GAAUA,EAASz9B,EAAM,CAAEy3D,SAAS,IACxC03B,EAAcnvF,EAAM4D,EAApBurF,CAA2Bt4E,GAJtB8C,EAAAC,KAAA,EAKiB64E,GAAgB,CACrC7oB,OACA+oB,aAAa,EACbC,WACAvsG,aATI,OAAA1B,EAAAg1B,EAAAwxB,KAKG1S,EALH9zC,EAKG8zC,IAMFg/B,GAAWh/B,EAEbgF,GACHA,EAASz9B,EAAM,CAAEy3D,QAASA,EAASllD,IAAK,CAAEkmB,IAAKA,GAAO70B,MAAOA,IAdzD+V,EAAAC,KAAA,iBAAAD,EAAAlI,KAAA,GAAAkI,EAAAmhD,GAAAnhD,EAAA,SAiBLhH,QAAQqB,MAAM,6BAAd2F,EAAAmhD,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOrS,aAAU,6BAA8B,CAC9CH,KAAM,CAACuhG,EAAWv1E,EAAAmhD,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GAxBE,QA0BNs4E,EAAcnvF,GAAM,EAApBmvF,CAA2Bt4E,GA1BrB,yBAAA8C,EAAAI,SAAAR,EAAA,kBAAP,gBAAAS,EAAA+nB,GAAA,OAAAv9C,EAAAsS,MAAAwd,KAAApxB,YAAA,GA8BM,SAAS2zG,GAAuB3iG,EAAM4iG,GAC5C,OAAO,SAASjgF,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACNI,OACAwP,OAAQozF,KAKJ,SAASC,GAAsB7iG,EAAMuT,GAC3C,OAAO,SAASoP,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACNI,OACAuT,SAKI,SAASg2B,GACft6B,EACAsE,EAFM1iB,GASL,IALA0yE,EAKA1yE,EALA0yE,QAKAu/B,EAAAjyG,EAJAwtB,WAIA,IAAAykF,EAJM,CAAEv+D,IAAK,GAAI9qC,KAAM,GAAIowC,OAAQ,IAInCi5D,EAAAC,EAAAlyG,EAHA6e,aAGA,IAAAqzF,KAAAC,EAAAnyG,EAFAoyG,iBAEA,IAAAD,KACD,sBAAAhyG,EAAAd,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA8nB,EAAevqB,EAAUrzB,GAAzB,IAAAkgB,EAAA,OAAA2V,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cACD69C,EASM0/B,EACVJ,GAAsB5zF,EAAtB4zF,CAAkClgF,GAElCkgF,GAAsB5zF,EAAYsE,EAAlCsvF,CAAuClgF,KAXnCnT,EAAS,IACN+D,GAAO,CACbkyB,OAAQz1C,aAAEquB,EAAIkmB,IAAK,CAAE9qC,KAAM4kB,EAAI5kB,OAC/BkW,UAAW0O,EAAIwrB,OACfn6B,MAAOA,GAGRizF,GAAuB1zF,EAAYO,EAAnCmzF,CAA2ChgF,IATtCwqB,EAAA05B,OAAA,SAgBCtD,GAhBD,wBAAAp2B,EAAAtnB,SAAAqnB,MAAP,gBAAA6jD,EAAAwG,GAAA,OAAAvmG,EAAA4R,MAAAwd,KAAApxB,YAAA,GAoBM,IAAMk0G,GAAqB,eAAA5xG,EAAApB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAioB,EAAAl8C,GAAA,IAAAoyE,EAAAp3B,EAAAif,EAAA,OAAAjmC,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,UACpC69C,EADoCpyE,EACpCoyE,QACAp3B,EAFoCh7C,EAEpCg7C,QACAif,EAHoCj6D,EAGpCi6D,WAEImY,GAA8B,oBAAZp3B,EALc,CAAAmB,EAAA5nB,KAAA,eAAA4nB,EAAA5nB,KAAA,EAM7BymB,IAN6B,UAQ/Bo3B,GAAgC,oBAAdnY,EARa,CAAA9d,EAAA5nB,KAAA,eAAA4nB,EAAA5nB,KAAA,EAS7B0lC,IAT6B,wBAAA9d,EAAAznB,SAAAwnB,MAAH,gBAAAsqD,GAAA,OAAArmG,EAAAsR,MAAAwd,KAAApxB,YAAA,GAa3B,SAASm0G,GAAmBl0F,EAAY2yE,EAAYtvF,EAAOod,GACjE,sBAAAje,EAAAvB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAooB,EAAe7qB,EAAUrzB,GAAzB,IAAAi0E,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cAEN6jB,GAASt6B,EAAY,aAAc,CAClCs0D,QAFKA,IAAYqe,KAAgBtvF,GAASsvF,IAAetvF,EAGzD+rB,IAAK,CAAEkmB,IAAK,mBACZ70B,SAHD65B,CAIG5mB,GANG8qB,EAAAo5B,OAAA,SAQCtD,GARD,wBAAA91B,EAAA5nB,SAAA2nB,MAAP,gBAAAoqD,EAAAI,GAAA,OAAAvmG,EAAAmR,MAAAwd,KAAApxB,YAAA,GAYM,SAASo0G,GAAiBn0F,EAAY4yE,EAAUnyE,GACtD,sBAAA5c,EAAA5C,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAuoB,EAAehrB,EAAUrzB,GAAzB,IAAAi0E,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,cACA69C,EAAU46B,GAActc,GAC9Bt4C,GAASt6B,EAAY,WAAY,CAChCs0D,UACAllD,IAAK,CAAEkmB,IAAK,gBACZ70B,SAHD65B,CAIG5mB,GANGirB,EAAAi5B,OAAA,SAQCtD,GARD,wBAAA31B,EAAA/nB,SAAA8nB,MAAP,gBAAAsqD,EAAAoL,GAAA,OAAAvwG,EAAA8P,MAAAwd,KAAApxB,YAAA,GAYM,SAASs0G,GACfr0F,EACA6yE,EACAD,EACAnyE,GAEA,sBAAAzc,EAAA/C,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAm+E,EAAe5gF,EAAUrzB,GAAzB,IAAAi0E,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAg+E,GAAA,cAAAA,EAAAjmF,KAAAimF,EAAA99E,MAAA,cAEN6jB,GAASt6B,EAAY,gBAAiB,CACrCs0D,QAFKA,IAAYue,KAAmBD,GAAYC,IAAkBD,EAGlExjE,IAAK,CAAEkmB,IAAK,sBACZ70B,MAAOA,GAHR65B,CAIG5mB,GANG6gF,EAAA38B,OAAA,SAQCtD,GARD,wBAAAigC,EAAA39E,SAAA09E,MAAP,gBAAAE,EAAAC,GAAA,OAAAzwG,EAAA2P,MAAAwd,KAAApxB,YAAA,GAYM,SAAS20G,GAAY10F,EAAY0tF,EAAUjtF,GACjD,sBAAAvc,EAAAjD,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAw+E,EAAejhF,EAAUrzB,GAAzB,IAAAi0E,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAq+E,GAAA,cAAAA,EAAAtmF,KAAAsmF,EAAAn+E,MAAA,cAEN6jB,GAASt6B,EAAY,WAAY,CAChCs0D,QAFKA,IAAYo5B,EAGjBt+E,IAAK,CAAEkmB,IAAK,iBACZ70B,SAHD65B,CAIG5mB,GANGkhF,EAAAh9B,OAAA,SAQCtD,GARD,wBAAAsgC,EAAAh+E,SAAA+9E,MAAP,gBAAAE,EAAAC,GAAA,OAAA5wG,EAAAyP,MAAAwd,KAAApxB,YAAA,GAYM,SAASg1G,GAAT1wG,GAAgE,IAAzCi7E,EAAyCj7E,EAAzCi7E,SAAU7+D,EAA+Bpc,EAA/Boc,MAAOT,EAAwB3b,EAAxB2b,WAAY9c,EAAYmB,EAAZnB,SAC1D,sBAAAsB,EAAAvD,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA6+E,EAAethF,GAAf,IAAA/uB,EAAA2wC,EAAAg/B,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAA0+E,GAAA,cAAAA,EAAA3mF,KAAA2mF,EAAAx+E,MAAA,cAAAw+E,EAAAx+E,KAAA,EACgBm5E,GAAY,CACjCtwB,WACAp8E,aAHK,cAAAyB,EAAAswG,EAAAjtD,KACE1S,EADF3wC,EACE2wC,IAKRgF,GAASt6B,EAAY,WAAY,CAChCs0D,QAFKA,GAAWh/B,EAGhBlmB,IAAK,CAAEkmB,OACP70B,SAHD65B,CAIG5mB,GAVGuhF,EAAAr9B,OAAA,SAYCtD,GAZD,wBAAA2gC,EAAAr+E,SAAAo+E,MAAP,gBAAAE,GAAA,OAAA1wG,EAAAmP,MAAAwd,KAAApxB,YAAA,GAeM,SAASo1G,GAAen1F,EAAYjd,EAAQ0d,GAClD,sBAAA1b,EAAA9D,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAi/E,EAAe1hF,EAAUrzB,GAAzB,IAAAi0E,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAA8+E,GAAA,cAAAA,EAAA/mF,KAAA+mF,EAAA5+E,MAAA,cACA69C,IAAYvxE,KAAYA,EAAO5B,QACrCm5C,GAASt6B,EAAY,SAAU,CAC9Bs0D,UACAllD,IAAK,CAAEkmB,IAAK,0BACZ70B,SAHD65B,CAIG5mB,GANG2hF,EAAAz9B,OAAA,SAQCtD,GARD,wBAAA+gC,EAAAz+E,SAAAw+E,MAAP,gBAAAE,EAAAC,GAAA,OAAAxwG,EAAA4O,MAAAwd,KAAApxB,YAAA,GAYM,SAASy1G,GACfx1F,EACAy1F,EACAh1F,GAEA,sBAAAtb,EAAAlE,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAu/E,EAAehiF,EAAUrzB,GAAzB,IAAAi0E,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAo/E,GAAA,cAAAA,EAAArnF,KAAAqnF,EAAAl/E,MAAA,cAEN6jB,GAASt6B,EAAY,wBAAyB,CAC7Cs0D,QAFKA,IAAYmhC,EAGjBrmF,IAAK,CAAEkmB,IAAK,kCACZ70B,SAHD65B,CAIG5mB,GANGiiF,EAAA/9B,OAAA,SAQCtD,GARD,wBAAAqhC,EAAA/+E,SAAA8+E,MAAP,gBAAAE,EAAAC,GAAA,OAAA1wG,EAAAwO,MAAAwd,KAAApxB,YAAA,GAWM,SAAS+1G,GAAiB91F,EAAY+yE,EAAUtyE,GACtD,sBAAAnb,EAAArE,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA4/E,EAAeriF,EAAUrzB,GAAzB,IAAAi0E,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAy/E,GAAA,cAAAA,EAAA1nF,KAAA0nF,EAAAv/E,MAAA,cAEN6jB,GAASt6B,EAAY,WAAY,CAChCs0D,QAFKA,IAAYye,EAGjB3jE,IAAK,CAAEkmB,IAAK,wCACZ70B,SAHD65B,CAIG5mB,GANGsiF,EAAAp+B,OAAA,SAQCtD,GARD,wBAAA0hC,EAAAp/E,SAAAm/E,MAAP,gBAAAE,EAAAC,GAAA,OAAA5wG,EAAAqO,MAAAwd,KAAApxB,YAAA,GAYM,SAASo2G,GAAiBn2F,EAAY+yE,EAAUC,EAAUvyE,GAChE,sBAAApN,EAAApS,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAigF,EAAe1iF,EAAUrzB,GAAzB,IAAAi0E,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAA8/E,GAAA,cAAAA,EAAA/nF,KAAA+nF,EAAA5/E,MAAA,cAGN6jB,GAASt6B,EAAY,WAAY,CAChCs0D,QAHKA,EACQ,UAAbye,GAAqC,UAAbA,KAAyBC,EAGjD5jE,IAAK,CAAEkmB,IAAK,wCACZ70B,SAHD65B,CAIG5mB,GAPG2iF,EAAAz+B,OAAA,SASCtD,GATD,wBAAA+hC,EAAAz/E,SAAAw/E,MAAP,gBAAAE,EAAAC,GAAA,OAAAljG,EAAAM,MAAAwd,KAAApxB,YAAA,GAaM,SAASy2G,GAAsBx2F,EAAY0tF,EAAUjtF,GAC3D,sBAAAuH,EAAA/mB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAsgF,EAAe/iF,EAAUrzB,GAAzB,IAAAi0E,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAmgF,GAAA,cAAAA,EAAApoF,KAAAooF,EAAAjgF,MAAA,cAEN6jB,GAASt6B,EAAY,qBAAsB,CAC1Cs0D,QAFKA,IAAYo5B,EAGjBt+E,IAAK,CAAEkmB,IAAK,4BACZ70B,SAHD65B,CAIG5mB,GANGgjF,EAAA9+B,OAAA,SAQCtD,GARD,wBAAAoiC,EAAA9/E,SAAA6/E,MAAP,gBAAAE,EAAAC,GAAA,OAAA5uF,EAAArU,MAAAwd,KAAApxB,YAAA,GAgCM,SAAS82G,GAATziG,GAA+D,IAA9B4L,EAA8B5L,EAA9B4L,WAAY1U,EAAkB8I,EAAlB9I,QAASmV,EAASrM,EAATqM,MAC5D,sBAAApM,EAAApT,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA2gF,EAAepjF,EAAUrzB,GAAzB,IAAAi0E,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAwgF,GAAA,cAAAA,EAAAzoF,KAAAyoF,EAAAtgF,MAAA,cACA69C,IAAYhpE,GAAWA,EAAQtL,OACrCs6C,GAASt6B,EAAY,UAAW,CAC/Bs0D,UACAllD,IAAK,CAAEkmB,IAAK,wBACZ70B,SAHD65B,CAIG5mB,GANGqjF,EAAAn/B,OAAA,SAQCtD,GARD,wBAAAyiC,EAAAngF,SAAAkgF,MAAP,gBAAAE,EAAAC,GAAA,OAAA5iG,EAAAV,MAAAwd,KAAApxB,YAAA,GAYM,SAASm3G,GAATpiG,GAAuE,IAAjCkL,EAAiClL,EAAjCkL,WAAY6tC,EAAqB/4C,EAArB+4C,WAAYptC,EAAS3L,EAAT2L,MACpE,sBAAA1L,EAAA9T,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAghF,EAAezjF,EAAUrzB,GAAzB,IAAAi0E,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAA6gF,GAAA,cAAAA,EAAA9oF,KAAA8oF,EAAA3gF,MAAA,cACA69C,IACHzmB,GACoB,IAAtBA,EAAW7tD,UACT6tD,EAAW,MACXA,EAAW,MACXA,EAAW,GAAG1mD,MACd0mD,EAAW,GAAGphD,UACSxM,IAAzB4tD,EAAW,GAAGwpD,aACWp3G,IAAzB4tD,EAAW,GAAGypD,aACYr3G,IAA1B4tD,EAAW,GAAG0pD,WACZ1pD,EAAW,GAAG1mD,MACd0mD,EAAW,GAAGphD,UACSxM,IAAzB4tD,EAAW,GAAGwpD,aACWp3G,IAAzB4tD,EAAW,GAAGypD,aACYr3G,IAA1B4tD,EAAW,GAAG0pD,QAEfj9D,GAASt6B,EAAY,aAAc,CAClCs0D,UACAllD,IAAK,CAAEkmB,IAAK,kBACZ70B,SAHD65B,CAIG5mB,GArBG0jF,EAAAx/B,OAAA,SAuBCtD,GAvBD,wBAAA8iC,EAAAxgF,SAAAugF,MAAP,gBAAAK,EAAAC,GAAA,OAAA1iG,EAAApB,MAAAwd,KAAApxB,YAAA,GA2BD,IAAM23G,GAAkB,SAAAriG,GAIlB,IAAAsiG,EAAAtiG,EAHL66B,kBAGK,IAAAynE,EAHQ1uF,wBAAa,GAGrB0uF,EAFLn1F,EAEKnN,EAFLmN,cACAI,EACKvN,EADLuN,iBAEIiO,EAAQ,KAiBZ,OAhBKrO,EAAc6sF,UAAY7sF,EAAc4G,GAAG8mB,KAC/Crf,EAAQ,CACP4jB,QAAS,oCACTmB,KAAM,mBAGHpzB,EAAc6sF,UAAY7sF,EAAco1F,GAAGh1F,KAC/CiO,EAAQ,CAAE4jB,QAAS,uBAAwBmB,KAAM,qBAE9CpzB,EAAcq1F,IAAI5uF,wBAAa,MAClC4H,EAAQ,CAAE4jB,QAAS,mBAAoBmB,KAAM,kBAE1ChzB,EAAiBi1F,IAAI5uF,wBAAa,MACrC4H,EAAQ,CAAE4jB,QAAS,eAAgBmB,KAAM,qBAGnC,CAAE/kB,UAGH,SAASinF,GAATviG,GAMJ,IALFyK,EAKEzK,EALFyK,WACA+3F,EAIExiG,EAJFwiG,aACAC,EAGEziG,EAHFyiG,gBAGEC,EAAA1iG,EAFF2iG,gBAEE,IAAAD,EAFS,GAETA,EADFx3F,EACElL,EADFkL,MAEA,sBAAAjL,EAAAvU,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAgiF,EAAezkF,EAAUrzB,GAAzB,IAAAi0E,EAAAh/B,EAAA9qC,EAAApK,EAAAg4G,EAAAC,EAAAC,EAAAC,EAAAC,EAAAlxC,EAAAx+C,EAAAnH,EAAA82F,EAAA,OAAAviF,EAAAp2B,EAAAy2B,KAAA,SAAAmiF,GAAA,cAAAA,EAAApqF,KAAAoqF,EAAAjiF,MAAA,cACF69C,GAAU,EACVh/B,EAAM4iE,EACN1tG,EAAO,GACLpK,EAAQC,IAJR+3G,EAQFr0G,YAAsB3D,GADUi4G,EAP9BD,EAOLr6E,kCAPKu6E,EAWFl0G,YAA4BhE,GADIm4G,EAV9BD,EAULv6E,kCAEKy6E,EAAevvF,wBAAa8uF,GAActoG,IAC/CwZ,wBAAa+uF,IAbR1wC,EAgBuB5lE,aAAgBtB,GAArC0oB,EAhBFw+C,EAgBEx+C,OAAQnH,EAhBV2lD,EAgBU3lD,SAEZ62F,EAAapvF,GAAGH,wBAAaovF,MAC1BI,EAAwBzgG,aAC7BwgG,EACA72F,EACA,KACA,GAED2yD,GAAU,EACVh/B,EAAM,8BACN9qC,EAAO,CACNiuG,EACA3vF,EACAyvF,EACAzvF,IA/BI4vF,EAAAjiF,KAAA,GAmCA6jB,GAASt6B,EAAY,OAAQ,CAClCs0D,UACAllD,IAAK,CAAEkmB,MAAK9qC,QACZiW,SAHK65B,CAIH5mB,GAvCG,eAAAglF,EAAA9gC,OAAA,SAyCCtD,GAzCD,yBAAAokC,EAAA9hF,SAAAuhF,MAAP,gBAAAQ,EAAAC,GAAA,OAAApjG,EAAA7B,MAAAwd,KAAApxB,YAAA,GA6CM,SAAS84G,GAATpjG,GAQJ,IAPFuK,EAOEvK,EAPFuK,WACA89D,EAMEroE,EANFqoE,iBACAu6B,EAKE5iG,EALF4iG,qCACAE,EAIE9iG,EAJF8iG,2CACA52F,EAGElM,EAHFkM,SACAmH,EAEErT,EAFFqT,OACArI,EACEhL,EADFgL,MAEA,sBAAA7K,EAAA3U,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA2iF,EAAeplF,GAAf,IAAA4gD,EAAAh/B,EAAA9qC,EAAAizB,EAAA,OAAAvH,EAAAp2B,EAAAy2B,KAAA,SAAAwiF,GAAA,cAAAA,EAAAzqF,KAAAyqF,EAAAtiF,MAAA,cACF69C,EAAUjnB,GAAeywB,GAEzBxoC,EAAM,2BACN9qC,EAAO,GACLizB,EAAS62C,EAAU0kC,sBAAWl7B,EAAkBn8D,GAAY,KAC9D2yD,GAAW72C,EAAO4xE,UACrB/6B,GAAU,EACVh/B,EAAM,4BAENg/B,GACA72C,EAAOrU,GAAGH,wBAAaovF,MAEvB/jC,GAAU,EACVh/B,EAAM,6BACN9qC,EAAO,CAAC+tG,EAA4CzvF,IAf/CiwF,EAAAtiF,KAAA,EAkBA6jB,GAASt6B,EAAY,mBAAoB,CAC9Cs0D,UACAllD,IAAK,CAAEkmB,MAAK9qC,QACZiW,SAHK65B,CAIH5mB,GAtBG,cAAAqlF,EAAAnhC,OAAA,SAwBCtD,GAxBD,wBAAAykC,EAAAniF,SAAAkiF,MAAP,gBAAAG,GAAA,OAAArjG,EAAAjC,MAAAwd,KAAApxB,YAAA,GA4BM,SAASuvD,GAATz5C,GAMJ,IALFmK,EAKEnK,EALFmK,WACA41B,EAIE//B,EAJF+/B,KACA/hC,EAGEgC,EAHFhC,MACA4M,EAEE5K,EAFF4K,MACAy4F,EACErjG,EADFqjG,YAEA,sBAAAljG,EAAA/U,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAgjF,EAAezlF,EAAUrzB,GAAzB,IAAAi0E,EAAAh/B,EAAA,OAAApf,EAAAp2B,EAAAy2B,KAAA,SAAA6iF,GAAA,cAAAA,EAAA9qF,KAAA8qF,EAAA3iF,MAAA,cACF69C,EAAUjnB,GAAex5C,GACzByhC,EAAM,qBAENg/B,GAAW4kC,GACFr/F,SAAShG,EAAO,IACpBsW,aAAetW,EAAMsW,aAC5BmqD,GAAU,EACVh/B,EAAM,8BAIRgF,GAASt6B,EAAY41B,EAAM,CAC1B0+B,UACAllD,IAAK,CAAEkmB,MAAK9qC,KAAM,CAACqJ,IACnB4M,SAHD65B,CAIG5mB,GAhBG0lF,EAAAxhC,OAAA,SAkBCtD,GAlBD,wBAAA8kC,EAAAxiF,SAAAuiF,MAAP,gBAAAE,EAAAC,GAAA,OAAAtjG,EAAArC,MAAAwd,KAAApxB,YAAA,GAsBM,SAASw5G,GAATtjG,GAUJ,IATF+J,EASE/J,EATF+J,WACA41B,EAQE3/B,EARF2/B,KACA/hC,EAOEoC,EAPFpC,MACA4M,EAMExK,EANFwK,MACA+1B,EAKEvgC,EALFugC,OACAh0B,EAIEvM,EAJFuM,cACAurC,EAGE93C,EAHF83C,cACA7d,EAEEj6B,EAFFi6B,WACAvuB,EACE1L,EADF0L,SAEA,sBAAAvL,EAAAnV,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAqjF,EAAe9lF,EAAUrzB,GAAzB,IAAAo5G,EAAAnlC,EAAAh/B,EAAAokE,EAAA3sE,EAAA4sE,EAAAC,EAAA/+F,EAAA,OAAAqb,EAAAp2B,EAAAy2B,KAAA,SAAAsjF,GAAA,cAAAA,EAAAvrF,KAAAurF,EAAApjF,MAAA,cACAgjF,EAAgBpsD,GAAex5C,GACjCygE,EAAUmlC,KAAmBT,sBAAWnlG,EAAO8N,GAC/C2zB,EAAMkB,GAAU,qBAEhB89B,IACGolC,EAAmB,kBAAT9jE,EAA2B/hC,EAAQ2O,EAC7CuqB,EACI,sBAAT6I,EAA+B/hC,EAAQk6C,EAAcO,WAAWvhB,IAE3D4sE,EAAiBtsD,GAAeqsD,GAChCE,EAAavsD,GAAetgB,GAE9B4sE,GAAkBC,IACf/+F,EAAS68F,GAAgB,CAC9BxnE,aACA1tB,cAAew2F,sBAAWU,EAAS/3F,GACnCiB,iBAAkBo2F,sBAAWjsE,EAAKprB,KAGnC2yD,GAAWz5D,EAAOgW,MAClBykB,EAAMz6B,EAAOgW,MAAQhW,EAAOgW,MAAM4jB,QAAU,KAI9C6F,GAASt6B,EAAY41B,EAAM,CAC1B0+B,UACAllD,IAAK,CAAEkmB,OACP70B,SAHD65B,CAIG5mB,GA7BGmmF,EAAAjiC,OAAA,SA+BCtD,GA/BD,wBAAAulC,EAAAjjF,SAAA4iF,MAAP,gBAAAM,EAAAC,GAAA,OAAA3jG,EAAAzC,MAAAwd,KAAApxB,YAAA,GAmCD,IAEMi6G,GAA6B,SAAA1jG,GAI7B,IAAA2jG,EAAA3jG,EAHLuM,eAGK,IAAAo3F,EAHK7qG,KAAKC,MAGV4qG,EAFLl3F,EAEKzM,EAFLyM,oBACAD,EACKxM,EADLwM,WAEI+N,EAAQ,KAwBZ,OAtBI9N,GAAuBD,GAAcC,GAAuBD,EAC/D+N,EAAQ,CAAE4jB,QAAS,uBAAwBmB,KAAM,uBAEjD7yB,GACAD,GACAC,EAAsBD,EAdI,KAgB1B+N,EAAQ,CACP4jB,QAAS,0BACTjqC,KAAM,CAAC,IAAK,QACZorC,KAAM,uBAEG7yB,GAAuBA,EAAsBF,EACvDgO,EAAQ,CAAE4jB,QAAS,qBAAsBmB,KAAM,uBACrC9yB,GAAcA,EAAaD,EACrCgO,EAAQ,CAAE4jB,QAAS,wBACT3xB,IAAeC,EACzB8N,EAAQ,CAAE4jB,QAAS,aAAcmB,KAAM,uBAC3B7yB,GAAuBD,IACnC+N,EAAQ,CAAE4jB,QAAS,kBAAmBmB,KAAM,wBAGtC,CAAE/kB,UAGH,SAASqpF,GAAT3jG,GAQJ,IAPFyJ,EAOEzJ,EAPFyJ,WACA41B,EAMEr/B,EANFq/B,KACA/hC,EAKE0C,EALF1C,MACA4M,EAIElK,EAJFkK,MACAsC,EAGExM,EAHFwM,oBACAD,EAEEvM,EAFFuM,WACAD,EACEtM,EADFsM,QAEA,sBAAApM,EAAAxV,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAgkF,EAAezmF,EAAUrzB,GAAzB,IAAAkR,EAAAsJ,EAAAy5D,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAA6jF,GAAA,cAAAA,EAAA9rF,KAAA8rF,EAAA3jF,MAAA,cAKA5b,EAASm/F,GAA2B,CACzCj3F,oBAJS,wBAAT6yB,EAAiC/hC,EAAQkP,EAKzCD,WAJKvR,EAAgB,eAATqkC,EAAwB/hC,EAAQiP,EAK5CD,YAGDy3B,GAASt6B,EAAY,aAAc,CAClCs0D,UAAW/iE,EACX6d,IAAK,CACJkmB,IAAK,mBAEN70B,MAAOA,GALR65B,CAMG5mB,GAEH4mB,GAASt6B,EAAY,sBAAuB,CAC3Cs0D,UAAWz5D,EAAOgW,OAA+B,wBAAtBhW,EAAOgW,MAAM+kB,MACxCxmB,IAAK,CACJkmB,IAAKz6B,EAAOgW,MAAQhW,EAAOgW,MAAM4jB,QAAU,GAC3CjqC,KAAMqQ,EAAOgW,QAAUhW,EAAOgW,MAAMrmB,MAAQ,KAE7CiW,MAAOA,GANR65B,CAOG5mB,GAEG4gD,GAAWz5D,EAAOgW,MA5BlBupF,EAAAxiC,OAAA,SA8BCtD,GA9BD,wBAAA8lC,EAAAxjF,SAAAujF,MAAP,gBAAAE,EAAAC,GAAA,OAAA7jG,EAAA9C,MAAAwd,KAAApxB,YAAA,GAkCM,SAASw6G,GAAT7jG,GAA6D,IAA5BsJ,EAA4BtJ,EAA5BsJ,WAAYrS,EAAgB+I,EAAhB/I,MAAO8S,EAAS/J,EAAT+J,MAC1D,sBAAA+5F,EAAAv5G,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAskF,EAAe/mF,EAAUrzB,GAAzB,IAAAwa,EAAAy5D,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAmkF,GAAA,cAAAA,EAAApsF,KAAAosF,EAAAjkF,MAAA,cACA5b,EAAS8/F,OAAIrgE,SAAS3sC,EAAO4lG,GAAY5lG,OAEzC2mE,GAAWz5D,EAAOgW,MAExBypB,GAASt6B,EAAY,QAAS,CAC7Bs0D,UACAllD,IAAK,CAAEkmB,IAAKz6B,EAAOgW,MAAQhW,EAAOgW,MAAM4jB,QAAU,IAClDh0B,MAAOA,GAHR65B,CAIG5mB,GATGgnF,EAAA9iC,OAAA,SAWCtD,GAXD,wBAAAomC,EAAA9jF,SAAA6jF,MAAP,gBAAAG,EAAAC,GAAA,OAAAL,EAAA7mG,MAAAwd,KAAApxB,YAAA,GAeM,SAAS+6G,GAATnkG,GAQJ,IAPFqJ,EAOErJ,EAPFqJ,WACA41B,EAMEj/B,EANFi/B,KACA6wC,EAKE9vE,EALF8vE,KAKEs0B,EAAApkG,EAJF64F,mBAIE,IAAAuL,KAAAC,EAAArkG,EAHF84F,gBAGE,IAAAuL,KAFFv6F,EAEE9J,EAFF8J,MACAvd,EACEyT,EADFzT,SAEA,sBAAAoU,EAAArW,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA8kF,EAAevnF,EAAUrzB,GAAzB,IAAAmX,EAAA89B,EAAAg/B,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAA2kF,GAAA,cAAAA,EAAA5sF,KAAA4sF,EAAAzkF,MAAA,cAAAykF,EAAAzkF,KAAA,EACgB64E,GAAgB,CACrC7oB,OACA+oB,cACAC,WACAvsG,aALK,cAAAsU,EAAA0jG,EAAAlzD,KACE1S,EADF99B,EACE89B,IAOFg/B,GAAWh/B,EARX4lE,EAAAzkF,KAAA,EAUA6jB,GAASt6B,EAAY41B,EAAM,CAChC0+B,UACAllD,IAAK,CAAEkmB,OACP70B,SAHK65B,CAIH5mB,GAdG,cAAAwnF,EAAAtjC,OAAA,SAgBCtD,GAhBD,wBAAA4mC,EAAAtkF,SAAAqkF,MAAP,gBAAAE,EAAAC,GAAA,OAAA9jG,EAAA3D,MAAAwd,KAAApxB,YAAA,GAoBM,SAASs7G,GAAT3jG,GAQJ,IAPFsI,EAOEtI,EAPFsI,WAOEs7F,EAAA5jG,EANFqnE,eAME,IAAAu8B,EANQ,GAMRA,EAAAC,EAAA7jG,EALF07E,kBAKE,IAAAmoB,EALW,GAKXA,EAJFv8B,EAIEtnE,EAJFsnE,UACA97E,EAGEwU,EAHFxU,SACA+7E,EAEEvnE,EAFFunE,gBACAx+D,EACE/I,EADF+I,MAEA,sBAAA9I,EAAA1W,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAqlF,EAAe9nF,EAAUrzB,GAAzB,IAAAo7G,EAAAnnC,EAAAh/B,EAAA9qC,EAAA,OAAA0rB,EAAAp2B,EAAAy2B,KAAA,SAAAmlF,GAAA,cAAAA,EAAAptF,KAAAotF,EAAAjlF,MAAA,cACAglF,EACL18B,GAAWA,EAAQ5yC,gBAAkBinD,EAAWjnD,cAC7CmoC,EAAU2K,IAAoBw8B,EAE9BnmE,EAAM,GACJ9qC,EAAO,SAAAtB,OAAS81E,EAAT,UAA4B97E,EAASma,eAC9Co+F,GAAkC,IAAdz8B,EACvB1pC,EAAM,yBACImmE,GAAkC,IAAdz8B,EAC9B1pC,EAAM,yBACImmE,GAAoBz8B,GAAa,EAC3C1K,GAAU,EACCmnC,IACXnnC,GAAU,GAdLonC,EAAAjlF,KAAA,EAiBA6jB,GAASt6B,EAAY,iBAAkB,CAC5Cs0D,UACAllD,IAAK,CAAEkmB,MAAK9qC,QACZiW,SAHK65B,CAIH5mB,GArBG,cAAAgoF,EAAA9jC,OAAA,SAuBC,CAAEtD,UAASh/B,QAvBZ,wBAAAomE,EAAA9kF,SAAA4kF,MAAP,gBAAAG,EAAAC,GAAA,OAAAjkG,EAAAhE,MAAAwd,KAAApxB,YAAA,GA2BM,SAAS87G,GAAThkG,GAA6D,IAAhCmI,EAAgCnI,EAAhCmI,WAAYg/D,EAAoBnnE,EAApBmnE,UAAWv+D,EAAS5I,EAAT4I,MAC1D,sBAAA1I,EAAA9W,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA2lF,EAAepoF,EAAUrzB,GAAzB,IAAAi0E,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAwlF,GAAA,cAAAA,EAAAztF,KAAAytF,EAAAtlF,MAAA,cACA69C,EACLrzE,OAAOiK,OAAO0zE,IAAwBjwD,QAAQqwD,IAAc,EAFvD+8B,EAAAtlF,KAAA,EAGA6jB,GAASt6B,EAAY,YAAa,CACvCs0D,UACAllD,IAAK,CAAEkmB,IAAK,+BACZ70B,SAHK65B,CAIH5mB,GAPG,cAAAqoF,EAAAnkC,OAAA,SASCtD,GATD,wBAAAynC,EAAAnlF,SAAAklF,MAAP,gBAAAE,EAAAC,GAAA,OAAAlkG,EAAApE,MAAAwd,KAAApxB,YAAA,GAaM,SAASm8G,GAAThkG,GAAwE,IAA1C8H,EAA0C9H,EAA1C8H,WAAYnM,EAA8BqE,EAA9BrE,MAAO+hC,EAAuB19B,EAAvB09B,KAAMumE,EAAiBjkG,EAAjBikG,OAAQ17F,EAASvI,EAATuI,MACrE,sBAAAtI,EAAAlX,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAimF,EAAe1oF,GAAf,IAAA7Y,EAAAy5D,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAA8lF,GAAA,cAAAA,EAAA/tF,KAAA+tF,EAAA5lF,MAAA,cACA5b,EAAS8/F,OAAIrgE,SAASzmC,EAAOsoG,GAC7B7nC,GAAWz5D,EAAOgW,MAFlBwrF,EAAA5lF,KAAA,EAIA6jB,GAASt6B,EAAY41B,EAAM,CAChC0+B,UACAllD,IAAK,CAAEkmB,IAAKz6B,EAAOgW,MAAQhW,EAAOgW,MAAM4jB,QAAU,IAClDh0B,MAAOA,GAHF65B,CAIH5mB,GARG,cAAA2oF,EAAAzkC,OAAA,SAUCtD,GAVD,wBAAA+nC,EAAAzlF,SAAAwlF,MAAP,gBAAAE,GAAA,OAAAnkG,EAAAxE,MAAAwd,KAAApxB,YAAA,GAcM,SAASw8G,GAAcv8F,EAAY3c,EAAOod,EAAO+7F,GACvD,sBAAApkG,EAAAnX,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAsmF,EAAe/oF,GAAf,IAAA7Y,EAAAy5D,EAAAh/B,EAAA/8B,EAAAmkG,EAAA,OAAAxmF,EAAAp2B,EAAAy2B,KAAA,SAAAomF,GAAA,cAAAA,EAAAruF,KAAAquF,EAAAlmF,MAAA,UACA5b,EAAS8/F,OAAIrgE,SAASj3C,EAAOX,GAAQW,OACvCixE,GAAWz5D,EAAOgW,MAClBykB,EAAMz6B,EAAOgW,MAAQhW,EAAOgW,MAAM4jB,QAAU,IAE5C+nE,IAAuBloC,EALrB,CAAAqoC,EAAAlmF,KAAA,gBAAAkmF,EAAAlmF,KAAA,EAMuB68E,GAAS,CAAEjwG,UANlC,UAAAs5G,EAAAhlC,GAAAglC,EAAA30D,KAAA20D,EAAAhlC,GAAA,CAAAglC,EAAAlmF,KAAA,QAAAkmF,EAAAhlC,GAM+C,GAN/C,OAAAp/D,EAAAokG,EAAAhlC,GAMG+kC,EANHnkG,EAMGmkG,SACRpoC,GAAuB,IAAbooC,EACVpnE,EAAM,qBARD,eAAAqnE,EAAAlmF,KAAA,GAWA6jB,GAASt6B,EAAY,QAAS,CACnCs0D,UACAllD,IAAK,CAAEkmB,OACP70B,SAHK65B,CAIH5mB,GAfG,eAAAipF,EAAA/kC,OAAA,SAiBCtD,GAjBD,yBAAAqoC,EAAA/lF,SAAA6lF,MAAP,gBAAAG,GAAA,OAAAxkG,EAAAzE,MAAAwd,KAAApxB,YAAA,GAqBM,IAAM88G,GAA6B,WAA+B,IAAApkG,EAAA1Y,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAArB4T,EAA4B8E,EAA5B9E,MAAUzI,EAAkBjK,OAAAgY,GAAA,EAAAhY,CAAAwX,EAAA,WACxE,OAAK9E,EAEgB,OAAVA,GAAmBzI,EAAOqU,GAAGvf,OAEnB,QAAV2T,GAAoBzI,EAAOsU,IAAIxf,YAAnC,EACC,yCAFA,wCAFA,sCAQI88G,GAA+B,WAA+B,IAAApkG,EAAA3Y,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAArB4T,EAA4B+E,EAA5B/E,MAAUzI,EAAkBjK,OAAAgY,GAAA,EAAAhY,CAAAyX,EAAA,WAC1E,OAAK/E,EAEgB,OAAVA,GAAoBzI,EAAOqU,IAAOrU,EAAOqU,GAAGvf,OAElC,QAAV2T,GAAqBzI,EAAOsU,KAAQtU,EAAOsU,IAAIxf,YAAnD,EACC,2CAFA,0CAFA,wCAQI+8G,GAA+B,WAGjC,IAAApjG,EAAA5Z,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAOi9G,EAAArjG,EAFVhG,aAEU,IAAAqpG,EAFF,GAEEA,EADP9xG,EACOjK,OAAAgY,GAAA,EAAAhY,CAAA0Y,EAAA,WACV,OAAKhG,EAAMvC,SAAS,OAETuC,EAAMvC,SAAS,OAAWlG,EAAOqU,IAAOrU,EAAOqU,GAAGvf,YAAtD,EACC,0CAFA,wCAMF,SAASi9G,GAATnkG,GAAmE,IAAvCkH,EAAuClH,EAAvCkH,WAAYk9F,EAA2BpkG,EAA3BokG,SAAUhwG,EAAiB4L,EAAjB5L,OAAQuT,EAAS3H,EAAT2H,MAChE,sBAAAtH,EAAAlY,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAgnF,EAAezpF,GAAf,IAAAvmB,EAAAC,EAAAC,EAAAkT,EAAA+zD,EAAA8oC,EAAA,OAAAlnF,EAAAp2B,EAAAy2B,KAAA,SAAA8mF,GAAA,cAAAA,EAAA/uF,KAAA+uF,EAAA5mF,MAAA,cACEtpB,EAAqCD,EAArCC,SAAUC,EAA2BF,EAA3BE,WAAYC,EAAeH,EAAfG,WAExBkT,EAAS,CACds8F,GAA2B1vG,GAC3B2vG,GAA6BzvG,GAC7B0vG,GAA6B3vG,IAGxBknE,EAAU/zD,EAAO1X,MAAM,SAAAwP,GAAC,OAAKA,IAC7B+kG,EAAU78F,EACd7S,OAAO,SAAA2K,GAAC,QAAMA,IACd5W,IAAI,SAAA4W,GAAC,OAAItX,aAAEsX,KACX6E,KAAK,MAbDmgG,EAAA5mF,KAAA,EAeA6jB,GAASt6B,EAAYk9F,EAAU,CACpC5oC,UACAllD,IAAK,CACJkmB,IAAK,qBACL9qC,KAAM,CAAC4yG,GACPxiE,OAAQ,CACPztC,WAAYoT,EAAO,GACnBlT,aAAckT,EAAO,GACrBnT,aAAcmT,EAAO,KAGvBE,MAAOA,GAXF65B,CAYH5mB,GA3BG,cAAA2pF,EAAAzlC,OAAA,SA6BCtD,GA7BD,wBAAA+oC,EAAAzmF,SAAAumF,MAAP,gBAAAG,GAAA,OAAAnkG,EAAAxF,MAAAwd,KAAApxB,YAAA,iBC1uBM,SAASw9G,KAUR,IAAA58G,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GATHigB,EASOrf,EATPqf,WACAkC,EAQOvhB,EARPuhB,MACAg7F,EAOOv8G,EAPPu8G,SACAz8F,EAMO9f,EANP8f,MACA29E,EAKOz9F,EALPy9F,YACAC,EAIO19F,EAJP09F,aACA/oD,EAGO30C,EAHP20C,IACAo3C,EAEO/rF,EAFP+rF,MACAnpC,EACO5iD,EADP4iD,SAEA,sBAAAliD,EAAAJ,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAC,EAAe1C,GAAf,IAAAwzB,EAAAW,EAAAysB,EAAA9pE,EAAA6oB,EAAAmqF,EAAAC,EAAA,OAAAvnF,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,UACEywB,EAAkBhlC,EAAlBglC,KAAMW,EAAY3lC,EAAZ2lC,QACVysB,EAAUptB,GAAQW,EAClBr9C,EAAO,CAAC4zF,EAAaC,EAAc,MAElC96C,GAAarhC,EAAM2lC,UACvBysB,GAAU,IAGP/wB,IAAY+wB,EATV,CAAA99C,EAAAC,KAAA,gBAAAD,EAAAC,KAAA,EAUconE,aAAa,CAAE32C,KAAMhlC,EAAMglC,KAAMn3B,IAAK7N,EAAM2lC,UAV1D,OAUCx0B,EAVDmD,EAAAwxB,KAWCw1D,EAAanqF,EAAKkK,MAClBkgF,EAAcpqF,EAAKiK,OAErBovD,IACHpY,EAAUwpB,aACTM,EACAof,EACAnf,EACAof,KAIG/wB,IAAU0R,EAAcof,GAAcnf,EAAeof,KACzDnpC,GAAU,GAxBN,eAAA99C,EAAAC,KAAA,GA4BA6jB,GAASt6B,EAAYk9F,EAAU,CACpC5oC,UACAllD,IAAK,CAAEkmB,MAAK9qC,QACZiW,SAHK65B,CAIH5mB,GAhCG,eAAA8C,EAAAohD,OAAA,SAkCCtD,GAlCD,yBAAA99C,EAAAI,SAAAR,MAAP,gBAAAS,GAAA,OAAAx1B,EAAAsS,MAAAwd,KAAApxB,YAAA,oCCTKuwG,GAAY,IAAI4B,GAAU,CAAE1B,QADTjpG,gCAGnB4qG,GAAkB,SAACjC,EAAKwN,EAAW1gB,GACxC,OAAIkT,EAAI7tF,QAAU,KAAO6tF,EAAI7tF,OAAS,IAC9B6tF,EAAIkC,OAGLlC,EAAIv7E,OAAO+jE,KAAK,SAAA/jE,GACH,MAAfu7E,EAAI7tF,QAAiC,MAAf6tF,EAAI7tF,QAC7B2iB,aAAOg4D,GAEH0gB,GACJzN,GAAwB,CAAEC,MAAKv7E,YAKrBgpF,GAAa,SAAAh9G,GAQpB,IAPLqC,EAOKrC,EAPLqC,SACA+7D,EAMKp+D,EANLo+D,KACA6+C,EAKKj9G,EALLi9G,UACAhM,EAIKjxG,EAJLixG,UACAzK,EAGKxmG,EAHLwmG,KACA0W,EAEKl9G,EAFLk9G,UACAC,EACKn9G,EADLm9G,cAEA,OAAOxN,GACLY,MAAM,CACND,MAAO,QACP9e,OAAQ,OACR5oD,KAAMxrB,KAAKC,UAAU,CACpBhb,WACA+7D,OACA6+C,YACAhM,YACAzK,OACA0W,YACAC,kBAEDtM,QAAS,CAAEoB,eAAgB,sBAE3Bla,KAAKyZ,KAGK4L,GAAe,SAAA18G,GAA+B,IAA5B4B,EAA4B5B,EAA5B4B,QAAS+6G,EAAmB38G,EAAnB28G,aACvC,OAAO1N,GACLY,MAAM,CACND,MAAO,UACP9e,OAAQ,MACRlvF,UACA+6G,iBAEAtlB,KAAK,SAAAwX,GAAG,OAAIiC,GAAgBjC,GAAK,GAAM,MAgBpC+N,GAAoB,SAAAltG,GACzB,IAAMmtG,EAAaj9G,OAAAC,EAAA,EAAAD,CAAA,GAAQ8P,GAK3B,OAJImtG,EAAcr7F,SAAWmI,KAAOq5E,SAAS6Z,EAAcr7F,WAC1Dq7F,EAAcr7F,QAAUmI,KAAOg3C,KAAKk8C,EAAcr7F,SAAW,KAGvD9E,KAAKC,UAAUkgG,IAGVC,GAAa,SAAAv8G,GAAkB,IAAfoB,EAAepB,EAAfoB,SAC5B,OAAOstG,GACLY,MAAM,CACND,MAAO,QACP9e,OAAQ,MACRkf,YAAa,CAAEruG,cAEf01F,KAAKyZ,KAYKiM,GAAa,SAAAl8G,GAAuB,IAApB6gG,EAAoB7gG,EAApB6gG,KAAM9/F,EAAcf,EAAde,QAClC,OAAOqtG,GACLY,MAAM,CACND,MAAO,QACP9e,OAAQ,OACR5oD,KAAM00E,GAAkBlb,GACxB9/F,UACAuuG,QAAS,CAAEoB,eAAgB,sBAE3Bla,KAAKyZ,KAGKkM,GAAe,SAAAh8G,GAA2B,IAAxB0gG,EAAwB1gG,EAAxB0gG,KAAM57F,EAAkB9E,EAAlB8E,GAAIlE,EAAcZ,EAAdY,QACxC,OAAOqtG,GACLY,MAAM,CACND,MAAK,SAAA/nG,OAAW/B,GAChBgrF,OAAQ,MACR5oD,KAAM00E,GAAkBlb,GACxB9/F,UACAuuG,QAAS,CAAEoB,eAAgB,sBAE3Bla,KAAKyZ,KAGKmM,GAAa,SAAA97G,GAAkB,IAAfQ,EAAeR,EAAfQ,SAC5B,OAAOstG,GACLY,MAAM,CACND,MAAO,QACP9e,OAAQ,MACRkf,YAAa,CAAEruG,cAEf01F,KAAKyZ,KAYKoM,GAAa,SAAA16G,GAAuB,IAApBk4E,EAAoBl4E,EAApBk4E,KAAM94E,EAAcY,EAAdZ,QAClC,OAAOqtG,GACLY,MAAM,CACND,MAAO,QACP9e,OAAQ,OACR5oD,KAAM00E,GAAkBliC,GACxB94E,UACAuuG,QAAS,CAAEoB,eAAgB,sBAE3Bla,KAAKyZ,KAGKqM,GAAe,SAAAx6G,GAA2B,IAAxB+3E,EAAwB/3E,EAAxB+3E,KAAM50E,EAAkBnD,EAAlBmD,GAAIlE,EAAce,EAAdf,QACxC,OAAOqtG,GACLY,MAAM,CACND,MAAK,SAAA/nG,OAAW/B,GAChBgrF,OAAQ,MACR5oD,KAAM00E,GAAkBliC,GACxB94E,UACAuuG,QAAS,CAAEoB,eAAgB,sBAE3Bla,KAAKyZ,KAcKsM,GAAsB,SAAAp6G,GAA2B,IAAxBmH,EAAwBnH,EAAxBmH,SAAUvI,EAAcoB,EAAdpB,QAC/C,OAAOqtG,GACLY,MAAM,CACND,MAAK,aAAA/nG,OAAesC,EAASrE,GAAxB,UACLgrF,OAAQ,MACRlvF,UACAuuG,QAAS,CAAEoB,eAAgB,sBAE3Bla,KAAKyZ,KAGKuM,GAAe,WAMjB,IAAAl6G,EAAAzE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GALHe,EAKU0D,EALV1D,IACA69G,EAIUn6G,EAJVm6G,SACAC,EAGUp6G,EAHVo6G,SACAC,EAEUr6G,EAFVq6G,UACAC,EACUt6G,EADVs6G,WAEMzN,EAAWpwG,OAAAC,EAAA,EAAAD,CAAA,GACZH,GAAO,CAAEA,KAAK,GACd69G,GAAY,CAAEt8F,OAAQs8F,EAASzhG,KAAK,MAFxB,CAGhB0hG,WACAC,aACIC,GAAc,CAAEA,WAAY1vG,KAAKC,QAGtC,OAAOihG,GACLY,MAAM,CACND,MAAO,YACP9e,OAAQ,MACRkf,gBAEA3Y,KAAKyZ,KAGK4M,GAAiB,SAAAp6G,GAA+B,IAA5B6G,EAA4B7G,EAA5B6G,SAAUrE,EAAkBxC,EAAlBwC,GAAIlE,EAAc0B,EAAd1B,QAC9C,OAAOqtG,GACLY,MAAM,CACND,MAAK,aAAA/nG,OAAe/B,GACpBgrF,OAAQ,MACR5oD,KAAM00E,GAAkBzyG,GACxBvI,UACAuuG,QAAS,CAAEoB,eAAgB,sBAE3Bla,KAAKyZ,KAGK6M,GAAgB,SAAAj6G,GAAoB,IAAjBk6G,EAAiBl6G,EAAjBk6G,WAC/B,OAAO3O,GACLY,MAAM,CACND,MAAO,uBACP9e,OAAQ,OACR5oD,KAAM00E,GAAkB,CAAEgB,eAC1BzN,QAAS,CAAEoB,eAAgB,sBAE3Bla,KAAKyZ,KAGK+M,GAAmB,WAC/B,OAAO5O,GACLY,MAAM,CACND,MAAO,YACP9e,OAAQ,MACR0f,SAAS,IAETnZ,KAAKyZ,KAaKgN,GAAc,SAAA75G,GAAsB,IAAnB85G,EAAmB95G,EAAnB85G,SAAUj4G,EAAS7B,EAAT6B,GACvC,OAAOmpG,GACLY,MAAM,CACND,MAAK,aAAA/nG,OAAe/B,GACpBgrF,OAAQ,MACR5oD,KAAM00E,GAAkBmB,GACxB5N,QAAS,CAAEoB,eAAgB,sBAE3Bla,KAAKyZ,KAGKkN,GAAe,SAAAhsG,GAAkB,IAAf+rG,EAAe/rG,EAAf+rG,SAC9B,OAAO9O,GACLY,MAAM,CACND,MAAK,YACL9e,OAAQ,OACR5oD,KAAM00E,GAAkBmB,GACxB5N,QAAS,CAAEoB,eAAgB,sBAE3Bla,KAAKyZ,uBClPKxxF,GAAU,CACtB3B,UAAW,CAAE+Q,IA/BNpT,aAAUS,aAAa3b,IAAI,SAAAsgE,GACjC,MAAO,CACN/kD,MAAO+kD,EAAQllD,KACfhJ,MAAOkuD,EAAQluD,SA4Bc+iD,WAAY,aAC3C0oD,QAAS,CAAEvvF,IAvBJpT,aAAU4iG,QAAQ99G,IAAI,SAAA+9G,GAC5B,MAAO,CACNxiG,MAAOrS,aAAU60G,EAAOj8G,MAAM,KAAK,IACnCsQ,MAAO2rG,KAoBkB5oD,WAAY,aACvColB,KAAM,CAAEjsD,IAfDpT,aAAU8iG,eAAeh+G,IAAI,SAAAi+G,GACnC,MAAO,CACN1iG,MAAO0iG,EAAIC,IACX9rG,MAAO6rG,EAAIC,OAYQ/oD,WAAY,aACjCgpD,OAAQ,CAAE7vF,IAAK,GAAI6mC,WAAY,cCf1BgmB,GAAW,SAAAj8E,GAAwC,IAArCmI,EAAqCnI,EAArCmI,KAAM+2G,EAA+Bl/G,EAA/Bk/G,SAAUr1G,EAAqB7J,EAArB6J,KAAMkpB,EAAe/yB,EAAf+yB,SACzC,OAAOosF,EAAW,CACjBpsF,SAAUA,EACV5qB,KAAMA,EACNkU,MAAOrS,aAAUk1G,EAAU,CAAEr1G,KAAMA,IACnCkoB,QAAS,KAJHotF,CAKJpsF,IAGSqsF,GAAsB,SAAA1+G,GAA0B,IAAvBwmD,EAAuBxmD,EAAvBwmD,QAAS5kD,EAAc5B,EAAd4B,QAC9C,OAAOiuG,MAAMrpD,GACX6wC,KAAK,SAAAsnB,GACL,OAAOA,EAAKC,SAEZvnB,KAAK,SAAAwnB,GAEL,OADAj6D,IAAI2B,gBAAgBC,GFsBI,SAAArmD,GAA4C,IAAzC2+G,EAAyC3+G,EAAzC2+G,UAAyCC,EAAA5+G,EAA9B6+G,iBAA8B,IAAAD,EAAlB,GAAkBA,EAAdn9G,EAAczB,EAAdyB,QAClDq9G,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASL,EAAWE,GAC7B/P,GACLY,MAAM,CACND,MAAO,QACP9e,OAAQ,OACR5oD,KAAM+2E,EACNr9G,YAEAy1F,KAAKyZ,IE/BEsO,CAAY,CAClBN,UAAWD,EACXG,UAAW,aACXp9G,QAASA,OAKN,SAASy9G,GAAYC,GAC3B,sBAAAn/G,EAAAP,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA8nB,EAAevqB,EAAUrzB,GAAzB,IAAAqC,EAAAvB,EAAA6S,EAAAuP,EAAA1W,EAAAjL,EAAAG,EAAA6+G,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAhrF,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAAAynB,EAAA5vB,KAAA,EAEC5rB,EAAUD,YAAcpC,KACtBc,EAAYuB,EAAQM,SAApB7B,QACF6S,EAAQmqG,GAAW,CAAEn7G,SAAU7B,IAC/BoiB,EAAQ+6F,GAAW,CAAEt7G,SAAU7B,IAC/B0L,EAAYqyG,KANbhhE,EAAAznB,KAAA,EAQ4CmvB,QAAQ9kD,IAAI,CAC5DkT,EACAuP,EACA1W,IAXI,cAAAjL,EAAAs8C,EAAA8J,KAAAjmD,EAAAd,OAAAiR,GAAA,EAAAjR,CAAAW,EAAA,GAQEg/G,EARF7+G,EAAA,GAQY8+G,EARZ9+G,EAAA,GAQsB++G,EARtB/+G,EAAA,GAaCg/G,EAAYF,EAASt9F,OAAS,GAC9By9F,GAAqBH,EAASM,eAAiB,IAAItgH,OACxD,SAACugH,EAAWpwG,GAAM,IACT7J,EAAuC6J,EAAvC7J,GAAIib,EAAmCpR,EAAnCoR,UAAWD,EAAwBnR,EAAxBmR,SAAUw1B,EAAc3mC,EAAd2mC,UAGjC,OAFAypE,EAAUj6G,GAAM,CAAEib,YAAWD,WAAUw1B,aAEhCypE,GAER,IAGKH,EAAiBF,EAAUt/G,IAAV,eAAAS,EAAAjB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAc,SAAAC,EAAMzW,GAAN,OAAAuW,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cAAAD,EAAAohD,OAAA,SAAA32E,OAAAC,EAAA,EAAAD,CAAA,GACjC0e,EACCA,EAAEs8D,aAAe+kC,EAAkBrhG,EAAEs8D,cAAgB,KAFrB,wBAAAzlD,EAAAI,SAAAR,MAAd,gBAAA0rE,GAAA,OAAA5/F,EAAAyR,MAAAwd,KAAApxB,YAAA,IAxBlBm+C,EAAAznB,KAAA,GA6B0BmvB,QAAQ9kD,IAAImgH,GA7BtC,QA6BCC,EA7BDhjE,EAAA8J,KA8BDllD,YAAWzC,OACdghH,GAAY,CAAEx2G,MAAO+1G,EAAU71G,SAAU,UAAzCs2G,CAAqD3tF,GACrD2tF,GAAY,CACXx2G,MAAOq2G,EACPn2G,SAAU,UAFXs2G,CAGG3tF,GACH2tF,GAAY,CACXx2G,MAAOi2G,EAAaj0G,UACpB9B,SAAU,YAFXs2G,CAGG3tF,GACH2tF,GAAY,CAAEx2G,MAAOg2G,EAASx0G,UAAY,GAAItB,SAAU,WAAxDs2G,CACC3tF,GAE4B,oBAAlBitF,GACVA,KA5CGziE,EAAAznB,KAAA,iBAAAynB,EAAA5vB,KAAA,GAAA4vB,EAAAy5B,GAAAz5B,EAAA,SAgDL1uB,QAAQqB,MAAM,oBAAdqtB,EAAAy5B,IACAiF,GAAS,CACRlpD,WACA5qB,KAAM,SACN+2G,SAAU,oBACVr1G,KAAM,CAACuhG,EAAW7tD,EAAAy5B,OArDd,yBAAAz5B,EAAAtnB,SAAAqnB,EAAA,kBAAP,gBAAApnB,EAAA+nB,GAAA,OAAAp9C,EAAAmS,MAAAwd,KAAApxB,YAAA,GA4DM,SAASuhH,KAMR,IAAAj/G,EAAAtC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GALHgR,EAKO1O,EALP0O,KACAhG,EAIO1I,EAJP0I,SAIOw2G,EAAAl/G,EAHP2wB,cAGO,IAAAuuF,EAHE,WAGFA,EAAAC,GAAAn/G,EAFP22C,UAEO32C,EADP42C,2BACO,IAAAuoE,KACP,sBAAAh/G,EAAAvB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAioB,EAAe1qB,EAAUrzB,GAAzB,IAAA8G,EAAA0G,EAAA4zG,EAAAloE,EAAA1jB,EAAAkmD,EAAAgnB,EAAAv3F,EAAA4zG,EAAA,OAAAlpF,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,OACEtvB,EAAO4J,EAAP5J,GACR6kG,EAAch5E,EAAS7rB,GAAI,EAA3B6kG,CAAiCt4E,GAF3B2qB,EAAA/vB,KAAA,EAICzgB,EAJD5M,OAAAC,EAAA,EAAAD,CAAA,GAIgB8P,GACjB0wG,EAAc,KACdloE,EAAW,KACX1jB,EAAO,GAPNwoB,EAAAs5B,GASG5sE,EATHszC,EAAA5nB,KAUC,WAVD4nB,EAAAs5B,GAAA,GAiBC,WAjBDt5B,EAAAs5B,GAAA,GAuBC,aAvBDt5B,EAAAs5B,GAAA,GA8BC,aA9BDt5B,EAAAs5B,GAAA,2BAWH9pE,EAAQiZ,QAAUjZ,EAAQiZ,SAAW,GAC/Bi1D,EAAO,IAAIvtE,UAAOX,GAAS6zG,aAZ9BrjE,EAAA5nB,KAAA,GAakB+nF,GAAa,CAAEziC,OAAM50E,OAbvC,eAaHs6G,EAbGpjE,EAAA2J,KAa8C+zB,KACjDxiC,EAAW/qC,UACXqnB,EAAO,6BAfJwoB,EAAAu5B,OAAA,2BAkBGmrB,EAAO,IAAI10F,UAAOR,GAAS6zG,aAlB9BrjE,EAAA5nB,KAAA,GAmBkB4nF,GAAa,CAAEtb,OAAM57F,OAnBvC,eAmBHs6G,EAnBGpjE,EAAA2J,KAmB8C+6C,KACjDxpD,EAAWlrC,UACXwnB,EAAO,8BArBJwoB,EAAAu5B,OAAA,2BAwBGpsE,EAAW,IAAI0C,YAASL,GAAS6zG,aAxBpCrjE,EAAA5nB,KAAA,GAyBkBsoF,GAAe,CAAEvzG,WAAUrE,OAzB7C,eAyBHs6G,EAzBGpjE,EAAA2J,KAyBoDx8C,SACvD+tC,EAAWrrC,YACX2nB,EAAO,kCA3BJwoB,EAAAu5B,OAAA,2BA+BGwnC,EAAW,IAAIzwG,YAASd,GAAS6zG,aA/BpCrjE,EAAA5nB,KAAA,GAgCkB0oF,GAAY,CAAEC,WAAUj4G,OAhC1C,eAgCHs6G,EAhCGpjE,EAAA2J,KAgCiDo3D,SACpD7lE,EAAW5qC,YACXknB,EAAO,kCAlCJwoB,EAAAu5B,OAAA,0BAqCG,IAAImqB,MAAMp3F,aAAU,sBArCvB,QAwCL+oB,EAAS,CACR5qB,KAAM6H,IACNI,KAAM,IAAIwoC,EAASkoE,GAAarb,WAChCr7F,aAGD6xE,GAAS,CACRlpD,WACA5qB,KAAM,SACN+2G,SAAQ,WAAA32G,OAAa8pB,EAAb,SACRxoB,KAAM,CAACO,EAAUgG,EAAKpD,SAGnBsrC,GACH5gB,EAAQ7e,aAAKqc,IAtDTwoB,EAAA5nB,KAAA,iBAAA4nB,EAAA/vB,KAAA,GAAA+vB,EAAAsjE,GAAAtjE,EAAA,SAyDL7uB,QAAQqB,MAAR,OAAA3nB,OAAqB8pB,EAArB,SAAAqrB,EAAAsjE,IACA/kC,GAAS,CACRlpD,WACA5qB,KAAM,SACN+2G,SAAQ,OAAA32G,OAAS8pB,EAAT,SACRxoB,KAAM,CAACO,EAADszC,EAAAsjE,MA9DF,QAiEN3V,EAAch5E,EAASjiB,EAAK5J,IAAI,EAAhC6kG,CAAuCt4E,GAjEjC,yBAAA2qB,EAAAznB,SAAAwnB,EAAA,kBAAP,gBAAAkqD,EAAAI,GAAA,OAAAlmG,EAAAmR,MAAAwd,KAAApxB,YAAA,GAqED,IAAM6hH,GAAkB,SAAAlC,GACvB,OAAOz+G,OAAOma,KAAKuF,IAASpT,KAC3B,SAAAwD,GAAI,OAAI4P,GAAQ5P,GAAMgf,IAAIriB,OAAO,SAAAwL,GAAI,OAAIA,EAAKrF,QAAU6rG,IAAK1/G,OAAS,KAIjE,SAASy9D,KAA6C,IAAA55D,EAAA9D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAA7BgR,EAAiClN,EAAjCkN,KAAMhG,EAA2BlH,EAA3BkH,SAAUwuC,EAAiB11C,EAAjB01C,SAC3C,sBAAAv1C,EAAA/C,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAooB,EAAe7qB,GAAf,IAAA7lB,EAAAg6C,EAAAg6D,EAAAC,EAAAC,EAAA74D,EAAA,OAAAhzB,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cAAA+nB,EAAAlwB,KAAA,GAECzgB,EAAUotC,QAAKC,aAAa,CAAEnqC,OAAMwoC,cAClCpyC,GAAK,GACb0G,EAAQq7C,KAARjoD,OAAAC,EAAA,EAAAD,CAAA,GACI+M,KAAaH,QAAQ9C,GAAUm+C,KADnC,CAEC84D,QAASjxG,EAAK/B,UAAUvN,IAAI,SAACV,EAAGsoB,GAC/B,IAAM/E,EAAMs9F,GAAgB7gH,EAAE2+G,MAAQ,GACtC,MAAO,CACNp7F,IAAK+E,EACLutC,WAAY,YACZh3C,OAAQ0E,EACRtH,MAAOrS,aAAS,gBAAAzB,OAAiBob,EAAIjH,gBACrCw5C,YAAalsD,aAAS,gBAAAzB,OAAiBob,EAAIjH,gBAC3C6hB,OAAOj+B,OAAAC,EAAA,EAAAD,CAAA,GAAMF,QAKV8mD,EAAU13B,WAAQC,wBACvBviB,EAAQsU,SACR5a,mCArBIi3C,EAAA/nB,KAAA,EAwBkBy6E,MAAMrpD,GAxBxB,cAwBCg6D,EAxBDrjE,EAAAwJ,KAAAxJ,EAAAm5B,GAyBY1xB,IAzBZzH,EAAA/nB,KAAA,GAyBsCorF,EAAS5B,OAzB/C,eAAAzhE,EAAAmjE,GAAAnjE,EAAAwJ,KAyBC85D,EAzBDtjE,EAAAm5B,GAyBgBzxB,gBAzBhB50B,KAAAktB,EAAAm5B,GAAAn5B,EAAAmjE,IAAAnjE,EAAA/nB,KAAA,GA0BmBonE,aAAa,CACpC32C,KAAMr5C,EAAQuU,UACd2N,IAAK+xF,IA5BD,QA0BCC,EA1BDvjE,EAAAwJ,KA+BCkB,EA/BDjoD,OAAAC,EAAA,EAAAD,CAAA,GAgCD4M,EAAQq7C,KAhCP,CAiCJhC,KAAMn2C,EAAKqR,UACXylC,QAASi6D,EACTvkF,MAAOwkF,EAAUxkF,MACjBD,OAAQykF,EAAUzkF,SAGnBzvB,EAAQq7C,KAAOA,EAEfx1B,EAAS,CACR5qB,KAAM6H,IACNI,KAAMlD,EACN9C,aA5CIyzC,EAAA/nB,KAAA,iBAAA+nB,EAAAlwB,KAAA,GAAAkwB,EAAAyjE,GAAAzjE,EAAA,SA+CLhvB,QAAQqB,MAAR2tB,EAAAyjE,IACArlC,GAAS,CACRlpD,SAAUA,EACV5qB,KAAM,SACN+2G,SAAU,mBACVr1G,KAAM,CAACO,EAADyzC,EAAAyjE,MApDF,yBAAAzjE,EAAA5nB,SAAA2nB,EAAA,kBAAP,gBAAAoqD,GAAA,OAAA3kG,EAAA2P,MAAAwd,KAAApxB,YAAA,GA0DM,SAASq5C,KAA2D,IAAAl1C,EAAAnE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAzCgO,EAA6C7J,EAA7C6J,OAAQhD,EAAqC7G,EAArC6G,SAAUkuC,EAA2B/0C,EAA3B+0C,mBAC/C,sBAAA50C,EAAApD,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAuoB,EAAehrB,EAAUrzB,GAAzB,IAAAggB,EAAAtP,EAAA,OAAAmlB,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,cACApW,EAAerV,aAAsB3K,IAAY0K,EAAUgD,IAC3DgD,EAFA9P,OAAAC,EAAA,EAAAD,CAAA,GAEYof,IACbmB,UAAW,EAHVm9B,EAAAloB,KAAA,EAKA6qF,GAAW,CAChBvwG,OACAhG,WACAioB,OAAQ,YACRimB,sBAJKqoE,CAKH5tF,EAAUrzB,GAVP,wBAAAs+C,EAAA/nB,SAAA8nB,MAAP,gBAAAqqD,EAAAC,GAAA,OAAA3kG,EAAAsP,MAAAwd,KAAApxB,YAAA,GAcM,SAASmiH,GAAenxG,GAC9B,OAAO,SAAS2iB,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACNI,KAAMA,KAKF,SAASoxG,GAAkBpxG,EAAMqxG,GACvC,OAAO,SAAS1uF,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACNI,KAAMA,EACNob,KAAMi2F,KAKF,SAASf,GAAT78G,GAA0C,IAAnBqG,EAAmBrG,EAAnBqG,MAAOE,EAAYvG,EAAZuG,SACpC,OAAO,SAAA2oB,GACN,OAAOA,EAAS,CACf5qB,KAAM6H,IACN9F,MAAOA,EACPE,SAAUA,KAKN,IAAMsyF,GAAgB,WAC5B,OAAO,SAAA3pE,GACN,OAAOA,EAAS,CACf5qB,KAAM6H,QAKI0xG,GAAY,SAAA19G,GAAa,IAAV+6G,EAAU/6G,EAAV+6G,IAC3B,OAAO,SAAAhsF,GACN,OAAOA,EAAS,CACf5qB,KAAM6H,IACN+uG,IAAKA,eCjTK4C,GAAS,SAAA3hH,GAMhB,IAAA4uG,EAAA5uG,EALL8lF,YAKK,IAAA8oB,EALE,GAKFA,EAJLgT,EAIK5hH,EAJL4hH,IACAxjD,EAGKp+D,EAHLo+D,KACAyjD,EAEK7hH,EAFL6hH,WAEKC,EAAA9hH,EADLqC,gBACK,IAAAy/G,EADM,SACNA,EACL,IAAKh8B,IAAS87B,IAAQC,QAAuBviH,IAAT8+D,EACnC,MAAM,IAAIgjC,MAAM,kCAGjB7yE,aAAaK,QACZ,QAAUwvC,EAAO,IAAM0nB,EAAKt6C,cAAgB,IAAMnpC,EAClDu/G,EAAM,IAAMC,IAIDE,GAAS,SAAArhH,GAAwC,IAAAshH,EAAAthH,EAArColF,YAAqC,IAAAk8B,EAA9B,GAA8BA,EAAAC,EAAAvhH,EAA1B2B,gBAA0B,IAAA4/G,EAAf,GAAeA,EAAX7jD,EAAW19D,EAAX09D,KAC9C8jD,EAAa3zF,aAAaC,QAC7B,QAAU4vC,EAAO,IAAM0nB,EAAKt6C,cAAgB,IAAMnpC,GAGnD,IAAK6/G,EACJ,OAAO,KAIR,IAAIN,GADJM,EAAaA,EAAWt/G,MAAM,MACT,GACjB+U,EAAOuqG,EAAW,GAEtB,OAAKvqG,GAAQuB,SAASvB,EAAM,KAAOlJ,KAAKC,MAChC,KAEAkzG,qEC7BHO,GAAkB,iBAExBC,KAAcC,SAAS,CACtB3/G,MAAO,yBACP4/G,OAAQ,4BAGYC,eACpB,SAAAA,EAAYjV,GAAqB,IAAAh9E,EAAX9mB,EAAWpK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAkB,OAAAiwB,GAAA,EAAAjwB,CAAAkwB,KAAA+xF,IAChCjyF,EAAAhwB,OAAAmwB,GAAA,EAAAnwB,CAAAkwB,KAAAlwB,OAAAowB,GAAA,EAAApwB,CAAAiiH,GAAA5xF,KAAAH,QAYDgyF,cAAgB,WAEf,IAF+C,IAAAxiH,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAOqjH,EAAAziH,EAA7B4Q,YAA6B,IAAA6xG,EAAtB,EAAsBA,EAAAC,EAAA1iH,EAAnBqhB,UAAmB,IAAAqhG,EAAd,GAAcA,EACzCC,EAAS,GACNj6F,EAAQ9X,EAAM8X,EAAQrH,EAAIqH,IAClCi6F,EAAO9pG,KAAK,CACXqc,KAAM5E,EAAK4E,KAAL,IAAA3sB,OAAgBmgB,GACtBk6F,cAAc,IAIhB,MAAO,CAAED,WAtBuBryF,EAyBjCuyF,aAzBiCviH,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAyBlB,SAAAC,IAAA,IAAA50B,EAAAiiH,EAAAlyG,EAAAmyG,EAAA1hG,EAAApgB,EAAA6uB,EAAAkzF,EAAAxV,EAAApuG,UAAA,OAAAm2B,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cAAAj1B,EAAA2sG,EAAAnuG,OAAA,QAAAC,IAAAkuG,EAAA,GAAAA,EAAA,GAA8B,GAA9BsV,EAAAjiH,EAAS+P,YAAT,IAAAkyG,EAAgB,EAAhBA,EAAAC,EAAAliH,EAAmBwgB,UAAnB,IAAA0hG,EAAwB,EAAxBA,EAAAltF,EAAAC,KAAA,EACqBssF,KAAca,mBAChD3yF,EAAKkyF,cAAc,CAAE5xG,OAAMyQ,QAFd,cAAApgB,EAAA40B,EAAAwxB,KACNv3B,EADM7uB,EACN6uB,QAASkzF,EADH/hH,EACG+hH,QADHntF,EAAAohD,OAAA,SAKP,CAAEnnD,UAASkzF,YALJ,wBAAAntF,EAAAI,SAAAR,MAzBkBnF,EAiCjC4yF,OAjCiC,eAAA9hH,EAAAd,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAiCxB,SAAA8nB,EAAM7D,GAAN,IAAA0pE,EAAA5hH,EAAAuuB,EAAAkzF,EAAA/F,EAAAmG,EAAA,OAAA7tF,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAAAynB,EAAAznB,KAAA,EACc41B,SAAM23D,kBAAkB5pE,GADtC,cACF0pE,EADE5lE,EAAA8J,MAGAn0C,MAAQiwG,EAAQjwG,OAASw4C,SAAM43D,QAAQ,GAHvC/lE,EAAAznB,KAAA,EAK2BssF,KAAcmB,wBAAwB,CACxEruF,KAAM5E,EAAK4E,KACXsuF,YAAaL,IAPN,UAAA5hH,EAAAg8C,EAAA8J,KAKAv3B,EALAvuB,EAKAuuB,QAASkzF,EALTzhH,EAKSyhH,SAKblzF,EAVI,CAAAytB,EAAAznB,KAAA,gBAWDmnF,EAAY,CACjBviG,EAAGsoG,EAAQtoG,EACXsE,EAAGgkG,EAAQhkG,EACX4tB,EAAG1zB,SAAS8pG,EAAQp2E,IAGfw2E,EAAW13D,SAAM+3D,qBAAqBN,EAASlG,GAjB9C1/D,EAAA05B,OAAA,SAmBAmsC,GAnBA,cAqBD,IAAIhiB,MAAM4hB,EAAQ9yF,OArBjB,yBAAAqtB,EAAAtnB,SAAAqnB,MAjCwB,gBAAApnB,GAAA,OAAA90B,EAAA4R,MAAAwd,KAAApxB,YAAA,GAAAkxB,EA0DjCozF,gBA1DiC,eAAAhiH,EAAApB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KA0Df,SAAAioB,EAAMhE,GAAN,IAAA2pE,EAAAO,EAAA,OAAApuF,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,cAAA4nB,EAAA5nB,KAAA,EACMxF,EAAK4yF,OAAOzpE,GADlB,cACX2pE,EADW1lE,EAAA2J,KAEXs8D,EAASrzF,EAAKg9E,SAASoW,gBAAgBN,GAF5B1lE,EAAAu5B,OAAA,SAGV0sC,GAHU,wBAAAjmE,EAAAznB,SAAAwnB,MA1De,gBAAAQ,GAAA,OAAAv8C,EAAAsR,MAAAwd,KAAApxB,YAAA,GAAAkxB,EAgEjCszF,YAhEiC,eAAA/hH,EAAAvB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAgEnB,SAAAooB,EAAO9J,GAAP,IAAAtqC,EAAAtG,EAAA4sB,EAAAkzF,EAAAzT,EAAAsU,EAAAzkH,UAAA,OAAAm2B,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cAAgBtsB,EAAhBq6G,EAAAxkH,OAAA,QAAAC,IAAAukH,EAAA,GAAAA,EAAA,GAAuB,GAAvBhmE,EAAA/nB,KAAA,EACsBssF,KAAc0B,oBAAoB,CACpE5uF,KAAM5E,EAAK4E,KACX4e,QAASA,EACTiwE,MAAOv6G,EAAKu6G,MAJA,UAAA7gH,EAAA26C,EAAAwJ,KACLv3B,EADK5sB,EACL4sB,QAASkzF,EADJ9/G,EACI8/G,SAMblzF,EAPS,CAAA+tB,EAAA/nB,KAAA,gBAQNy5E,EAAM,CAMX0N,UAAW,KAAO+F,EAAQ/F,UAC1BzW,KAAM1yD,EACNsqB,KAAMpiD,aAAUysF,eAAeC,KAC/BloG,QAASwiH,EAAQxiH,SAjBNq9C,EAAAo5B,OAAA,SAoBLs4B,GApBK,cAsBN,IAAInO,MAAM4hB,EAAQ9yF,OAtBZ,yBAAA2tB,EAAA5nB,SAAA2nB,MAhEmB,gBAAAujD,GAAA,OAAAt/F,EAAAmR,MAAAwd,KAAApxB,YAAA,GAAAkxB,EA0FjCwC,QAAU,SAAAw6E,GACT,OAAO,IAAIiV,EAAajV,EAAU,CAAEp4E,KAAM5E,EAAK4E,QAzF/C5E,EAAK0zF,UAAY1W,EACjBh9E,EAAK2zF,MAAQz6G,EAAK0rB,MAAQitF,GAHM7xF,sEAOhC,OAAOE,KAAKyzF,uCAGZ,OAAOzzF,KAAKwzF,iBAX4BE,oBCPrBC,eACpB,SAAAA,EAAY7W,GAAqB,IAAAh9E,EAAX9mB,EAAWpK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAkB,OAAAiwB,GAAA,EAAAjwB,CAAAkwB,KAAA2zF,IAChC7zF,EAAAhwB,OAAAmwB,GAAA,EAAAnwB,CAAAkwB,KAAAlwB,OAAAowB,GAAA,EAAApwB,CAAA6jH,GAAAxzF,KAAAH,QAMD4zF,UAPiC9jH,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAOrB,SAAAC,IAAA,IAAA4uF,EAAA3hH,EAAAuvF,EAAA1vF,EAAA+hH,EAAA,OAAA/uF,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,WACPxF,EAAKi0F,QADE,CAAA1uF,EAAAC,KAAA,eAAAD,EAAAohD,OAAA,SAEH3mD,EAAKi0F,SAFF,cAAAF,EAI4B/zF,EAAKk0F,MAAnC9hH,EAJE2hH,EAIF3hH,MAAOuvF,EAJLoyB,EAIKpyB,SAAU1vF,EAJf8hH,EAIe9hH,SAJfszB,EAAAC,KAAA,EAKe2uF,aAAe,CACvC/hH,QACAuvF,WACA1vF,aARS,cAKJ+hH,EALIzuF,EAAAwxB,KAWV/2B,EAAKi0F,QAAU,IAAIG,UAAOJ,EAAW/rG,KAAKosG,WAAYr0F,EAAK0zF,WAXjDnuF,EAAAohD,OAAA,SAYH3mD,EAAKi0F,SAZF,yBAAA1uF,EAAAI,SAAAR,MAPqBnF,EA2BjCk+E,WA3BiCluG,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KA2BpB,SAAA8nB,IAAA,OAAA/nB,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAAAynB,EAAAznB,KAAA,EACCxF,EAAK8zF,YAAY5jH,QADlB,cAAA+8C,EAAA05B,OAAA,SAAA15B,EAAA8J,MAAA,wBAAA9J,EAAAtnB,SAAAqnB,MA3BoBhtB,EA+BjC4yF,OA/BiC,eAAAriH,EAAAP,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KA+BxB,SAAAioB,EAAMhE,GAAN,IAAAmrE,EAAA,OAAArvF,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,cAAA4nB,EAAA5nB,KAAA,EACexF,EAAK8zF,YAAYS,KAAKprE,GADrC,cACFmrE,EADElnE,EAAA2J,KAAA3J,EAAAu5B,OAAA,SAED2tC,GAFC,wBAAAlnE,EAAAznB,SAAAwnB,MA/BwB,gBAAAvnB,GAAA,OAAAr1B,EAAAmS,MAAAwd,KAAApxB,YAAA,GAAAkxB,EAoCjCozF,gBApCiC,eAAAziH,EAAAX,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAoCf,SAAAooB,EAAMnE,GAAN,IAAA2pE,EAAAO,EAAA,OAAApuF,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cAAA+nB,EAAA/nB,KAAA,EACMxF,EAAK4yF,OAAOzpE,GADlB,cACX2pE,EADWvlE,EAAAwJ,KAEXs8D,EAASrzF,EAAKg9E,SAASoW,gBAAgBN,GAF5BvlE,EAAAo5B,OAAA,SAGV0sC,GAHU,wBAAA9lE,EAAA5nB,SAAA2nB,MApCe,gBAAAK,GAAA,OAAAh9C,EAAA+R,MAAAwd,KAAApxB,YAAA,GAAAkxB,EA0CjCszF,YA1CiC,eAAAxiH,EAAAd,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KA0CnB,SAAAuoB,EAAOjK,GAAP,IAAA1xC,EAAA66G,EAAA1N,EAAAuV,EAAA1lH,UAAA,OAAAm2B,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,cAAAgvF,EAAAzlH,OAAA,QAAAC,IAAAwlH,EAAA,GAAAA,EAAA,GAAuB,IAC3Bf,MACRjwE,EAAU4X,SAAMq5D,SAASjxE,IAFbkK,EAAAloB,KAAA,EAKQxF,EAAK8zF,YALb,cAKPhiH,EALO47C,EAAAqJ,KAAArJ,EAAAloB,KAAA,EAOW1zB,EAAOwhH,YAAY9vE,GAP9B,cAOPmpE,EAPOj/D,EAAAqJ,KAQPkoD,EAAM,CACX0N,YACAzW,KAAM1yD,EACNsqB,KAAMpiD,aAAUysF,eAAeC,KAC/BloG,QAAS4B,EAAO5B,SAZJw9C,EAAAi5B,OAAA,SAeNs4B,GAfM,yBAAAvxD,EAAA/nB,SAAA8nB,MA1CmB,gBAAAojD,GAAA,OAAA//F,EAAA4R,MAAAwd,KAAApxB,YAAA,GAAAkxB,EA4DjCwC,QAAU,SAAAw6E,GACT,OAAO,IAAI6W,EAAY7W,EAAU,CAChC5qG,MAAO4tB,EAAK5tB,MACZuvF,SAAU3hE,EAAK2hE,YA5DhB3hE,EAAK0zF,UAAY1W,EACjBh9E,EAAKk0F,MAAQh7G,EAJmB8mB,0EAwBhC,OAAOE,KAAKwzF,iBAzB2BE,WCDpBc,eACpB,SAAAA,EAAY1X,GAAqB,IAAAh9E,EAAAlxB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,UAAAkB,OAAAiwB,GAAA,EAAAjwB,CAAAkwB,KAAAw0F,IAChC10F,EAAAhwB,OAAAmwB,GAAA,EAAAnwB,CAAAkwB,KAAAlwB,OAAAowB,GAAA,EAAApwB,CAAA0kH,GAAAr0F,KAAAH,QASDg+E,WAViCluG,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAUpB,SAAAC,IAAA,OAAAF,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cAAAD,EAAAohD,OAAA,SACL3mD,EAAK20F,QAAQzW,cADR,wBAAA34E,EAAAI,SAAAR,MAVoBnF,EAcjCozF,gBAdiC,eAAAhjH,EAAAJ,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAcf,SAAA8nB,EAAM7D,GAAN,OAAAlkB,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAAAynB,EAAA05B,OAAA,SACV3mD,EAAK20F,QAAQvB,gBAAgBjqE,IADnB,wBAAA8D,EAAAtnB,SAAAqnB,MAde,gBAAApnB,GAAA,OAAAx1B,EAAAsS,MAAAwd,KAAApxB,YAAA,GAAAkxB,EAkBjCszF,YAlBiC,eAAA/iH,EAAAP,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAkBnB,SAAAioB,EAAO3J,GAAP,IAAAmpE,EAAA1N,EAAA2V,EAAA9lH,UAAA,OAAAm2B,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,cAAAovF,EAAA7lH,OAAA,QAAAC,IAAA4lH,EAAA,GAAAA,EAAA,GAAuB,IAC3BnB,MACRjwE,EAAU4X,SAAMq5D,SAASjxE,IAFb4J,EAAA5nB,KAAA,EAKWxF,EAAK20F,QAAQrB,YAAY9vE,GALpC,cAKPmpE,EALOv/D,EAAA2J,KAAA3J,EAAAs5B,GAQZimC,EARYv/D,EAAAsjE,GASNltE,EATM4J,EAAA4jE,GAUNtlG,aAAUysF,eAAeC,KAVnBhrD,EAAA5nB,KAAA,GAWGxF,EAAK20F,QAAQzW,aAXhB,eAAA9wD,EAAAynE,GAAAznE,EAAA2J,KAOPkoD,EAPO,CAQZ0N,UARYv/D,EAAAs5B,GASZwvB,KATY9oD,EAAAsjE,GAUZ5iD,KAVY1gB,EAAA4jE,GAWZ9gH,QAXYk9C,EAAAynE,IAAAznE,EAAAu5B,OAAA,SAcNs4B,GAdM,yBAAA7xD,EAAAznB,SAAAwnB,MAlBmB,gBAAAQ,GAAA,OAAAp9C,EAAAmS,MAAAwd,KAAApxB,YAAA,GAAAkxB,EAmCjCwC,QAAU,SAAAw6E,GACT,OAAO,IAAI0X,EAAe1X,IAlC1Bh9E,EAAK0zF,UAAY1W,EACjBh9E,EAAK20F,QAAU3X,EAAS8X,YAHQ90F,0EAOhC,OAAOE,KAAKwzF,iBAR8BE,qBCKrC,SAAekB,GAAtBlvF,GAAA,OAAAmvF,GAAAryG,MAAAwd,KAAApxB,wDAAO,SAAAq2B,EAAAz1B,GAAA,IAAAoC,EAAAkrG,EAAA/qG,EAAA2yB,EAAAxyB,EAAAuvF,EAAAqzB,EAAAL,EAAAM,EAAA,OAAAhwF,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,UAA2B1zB,EAA3BpC,EAA2BoC,OAAQkrG,EAAnCttG,EAAmCstG,SAEjC/qG,EAAoCH,EAApCG,SAAU2yB,EAA0B9yB,EAA1B8yB,KAAMxyB,EAAoBN,EAApBM,MAAOuvF,EAAa7vF,EAAb6vF,SAE3B1vF,IAAao+B,KAAWC,SAAS1kB,KAJ/B,CAAA2Z,EAAAC,KAAA,eAKCwvF,EAAS,IAAIN,GAAe1X,GAL7Bz3E,EAAAohD,OAAA,SAMEquC,GANF,UAQF/iH,IAAao+B,KAAWG,OAAO5kB,KAR7B,CAAA2Z,EAAAC,KAAA,eASCwvF,EAAS,IAAI/C,GAAajV,EAAU,CAAEp4E,SATvCW,EAAAohD,OAAA,SAUEquC,GAVF,UAaL/iH,IAAao+B,KAAWioE,MAAM1sF,MAC9B3Z,IAAao+B,KAAWkoE,MAAM3sF,KAdzB,CAAA2Z,EAAAC,KAAA,gBAgBCwvF,EAAS,IAAInB,GAAY7W,EAAU,CAAE5qG,QAAOuvF,WAAU1vF,aAhBvDszB,EAAAohD,OAAA,SAkBEquC,GAlBF,cAqBA,IAAIlkB,MAAJ,2BAAA74F,OAAqCnG,EAAOG,WArB5C,yBAAAszB,EAAAI,SAAAR,6BAyBA,IAAM+vF,GAAmB,SAAA9kH,GAAmB,IAAhBw8G,EAAgBx8G,EAAhBw8G,UAC5B3yG,EAAS2yG,EAAUp8G,IAAI,SAAA2kH,GAC5B,MAA8B,kBAAhBA,EAAMvyG,MACjBw4C,SAAMg6D,YAAYD,EAAMvyG,OACxBw4C,SAAM43D,QAAQmC,EAAMvyG,SAElByyG,EAAaj6D,SAAMk6D,UAAU5yG,MAAM,KAAMzI,GACzCixG,EAAS0B,EAAUp8G,IAAI,SAAA2kH,GAC5B,OAAO/5D,SAAMg6D,YAAYD,EAAMt9G,KAAO,IAAMs9G,EAAMvpG,QAG7C2pG,EAAan6D,SAAMk6D,UAAU5yG,MAAM,KAAMwoG,GAM/C,OALa9vD,SAAMo6D,kBAClB,CAAC,UAAW,WACZ,CAACD,EAAYF,KAMR,SAAeI,GAAtB9nE,GAAA,OAAA+nE,GAAAhzG,MAAAwd,KAAApxB,wDAAO,SAAAk+C,EAAAz8C,GAAA,IAAAuB,EAAAV,EAAA4rG,EAAAgY,EAAArU,EAAAzK,EAAAyW,EAAA,OAAA1nF,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAA4B1zB,EAA5BvB,EAA4BuB,OAA5Bm7C,EAAAznB,KAAA,EACqB43E,aAAUtrG,EAAOG,UADtC,cAAAb,EAAA67C,EAAA8J,KACEimD,EADF5rG,EACE4rG,SADF/vD,EAAAznB,KAAA,EAEesvF,GAAU,CAAEhjH,SAAQkrG,aAFnC,cAEAgY,EAFA/nE,EAAA8J,KAIA4pD,EAAYl+F,KAAKiyC,MACtBjyC,KAAKkzG,SAAW9yG,OAAO+yG,kBACtB18F,WAGIg9E,EAAOgf,GAAiB,CAAEtI,UADd,CAAC,CAAE/0G,KAAM,OAAQ+T,KAAM,aAAchJ,MAAO+9F,MARxD1zD,EAAAznB,KAAA,GAUkBwvF,EAAO1B,YAAYpd,EAAM,CAAEud,KAAK,IAVlD,eAUA9G,EAVA1/D,EAAA8J,KAAA9J,EAAA05B,OAAA,SAAA32E,OAAAC,EAAA,EAAAD,CAAA,GAaF28G,EAbE,CAcLhM,YACAzK,UAfK,yBAAAjpD,EAAAtnB,SAAAqnB,6BA0BA,SAAe4lE,GAAtBvb,GAAA,OAAAwe,GAAAnzG,MAAAwd,KAAApxB,wDAAO,SAAAw+C,EAAAx8C,GAAA,IAAAu8E,EAAA2nC,EAAA1D,EAAA3E,EAAA,OAAA1nF,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cAAwB6nD,EAAxBv8E,EAAwBu8E,GAAI2nC,EAA5BlkH,EAA4BkkH,OAA5BznE,EAAA/nB,KAAA,EACYwvF,EAAO1B,YAAY,IAAIwC,eAAYzoC,GAAI0oC,UAAW,CACnEtC,KAAK,IAFA,cACAnC,EADA/jE,EAAAwJ,KAIA41D,EAAYqJ,oBAAS1E,EAAI3E,WAJzBp/D,EAAAo5B,OAAA,SAKCgmC,GALD,wBAAAp/D,EAAA5nB,SAAA2nB,6BAQA,SAAe2oE,GAAtBxe,GAAA,OAAAye,GAAAxzG,MAAAwd,KAAApxB,wDAAO,SAAA2+C,EAAAx8C,GAAA,IAAAkf,EAAA6kG,EAAAvT,EAAA0U,EAAAC,EAAAC,EAAAC,EAAAC,EAAAlpC,EAAA,OAAApoD,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,OAAyCrV,EAAzClf,EAAyCkf,KAAM6kG,EAA/C/jH,EAA+C+jH,OAC/CvT,EAAa,GADb0U,GAAA,EAAAC,GAAA,EAAAC,OAAArnH,EAAA0+C,EAAArwB,KAAA,EAAAi5F,EAEWnmG,EAFXqmG,OAAAC,YAAA,UAAAN,GAAAI,EAAAD,EAAA9wF,QAAAkxF,KAAA,CAAAhpE,EAAAloB,KAAA,gBAEK6nD,EAFLkpC,EAAA3zG,MAAA8qC,EAAAg5B,GAGL+6B,EAHK/zD,EAAAloB,KAAA,GAGiBotF,GAAO,CAAEvlC,KAAI2nC,WAH9B,QAAAtnE,EAAAgjE,GAAAhjE,EAAAqJ,KAAArJ,EAAAg5B,GAGMn+D,KAHN8X,KAAAqtB,EAAAg5B,GAAAh5B,EAAAgjE,IAAA,QAAAyF,GAAA,EAAAzoE,EAAAloB,KAAA,gBAAAkoB,EAAAloB,KAAA,iBAAAkoB,EAAArwB,KAAA,GAAAqwB,EAAAsjE,GAAAtjE,EAAA,SAAA0oE,GAAA,EAAAC,EAAA3oE,EAAAsjE,GAAA,QAAAtjE,EAAArwB,KAAA,GAAAqwB,EAAArwB,KAAA,GAAA84F,GAAA,MAAAG,EAAAK,QAAAL,EAAAK,SAAA,WAAAjpE,EAAArwB,KAAA,IAAA+4F,EAAA,CAAA1oE,EAAAloB,KAAA,eAAA6wF,EAAA,eAAA3oE,EAAAkpE,OAAA,mBAAAlpE,EAAAkpE,OAAA,mBAAAlpE,EAAAi5B,OAAA,SAMC86B,GAND,yBAAA/zD,EAAA/nB,SAAA8nB,EAAA,yEC/EDopE,GAAwB,SAAAnnH,GAAiB,IAAd6vG,EAAc7vG,EAAd6vG,QAChC,OAAO,IAAI0B,GAAU,CAAE1B,aAGlBuX,GAAgB,SAAA1mH,GAAkB,IAAfmK,EAAenK,EAAfmK,SAClByjD,GAAUzjD,EAASqiD,YAAcriD,EAASqW,KAAKgsC,YAAY,GAC3DqB,GAAY1jD,EAASqiD,YAAcriD,EAASqW,KAAKgsC,YAAY,GAMnE,MAAO,CACNoB,OAAQ,CAAEqhD,UANawX,GAAsB,CAAEtX,QAASvhD,EAAOxiD,MAMzBu7G,UAAW/4D,GACjDC,SAAU,CAAEohD,UANawX,GAAsB,CAC/CtX,QAASthD,EAASziD,MAKwBu7G,UAAW94D,KAIjDijD,GAAkB,SAAAjC,GACvB,OAAIA,EAAI7tF,QAAU,KAAO6tF,EAAI7tF,OAAS,IAC9B6tF,EAAIkC,OAGLlC,EAAIv7E,OAAO+jE,KAAK,SAAA/jE,GACtBs7E,GAAwB,CAAEC,MAAKv7E,YAIpBszF,GAAqB,eAAArmH,EAAAX,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAC,EAAA50B,GAAA,IAAA0mH,EAAAxlH,EAAAM,EAAAD,EAAAolH,EAAApmH,EAAAksG,EAAAgY,EAAAtC,EAAAh8F,EAAA,OAAAuO,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,UAASyxF,EAAT1mH,EAAS0mH,YAAaxlH,EAAtBlB,EAAsBkB,QAClDM,EAAqBN,EAArBM,SAAUD,EAAWL,EAAXK,SACZolH,GAAgBnlH,EAASolH,qBAAuB,IAAIF,IAFtB,CAAA1xF,EAAAC,KAAA,eAAAD,EAAAohD,OAAA,SAI5BuwC,GAJ4B,cAAA3xF,EAAAC,KAAA,EAOT43E,aAAUtrG,EAAOG,UAPR,cAAAnB,EAAAy0B,EAAAwxB,KAO5BimD,EAP4BlsG,EAO5BksG,SAP4Bz3E,EAAAC,KAAA,GAQfsvF,GAAU,CAAEhjH,SAAQkrG,aARL,eAQ9BgY,EAR8BzvF,EAAAwxB,KAU9B27D,EAAU,CACfx8G,GAAI+gH,EACJllH,SAAUA,EAAS7B,QACnBknH,IAAK30G,KAAKiyC,MAAMv2C,KAAKC,MAAQ,MAGxBsY,EAAQ2gG,KAAI9C,KAAKS,EAAQtC,GAhBKntF,EAAAohD,OAAA,SAkB7BjwD,GAlB6B,yBAAA6O,EAAAI,SAAAR,MAAH,gBAAAS,GAAA,OAAAj1B,EAAA+R,MAAAwd,KAAApxB,YAAA,GAqB5BwoH,GAAW,eAAAlmH,EAAApB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAA8nB,EAAA/7C,GAAA,IAAAsmH,EAAAh9G,EAAAm/B,EAAAjoC,EAAA+lH,EAAAv5D,EAAAD,EAAAy5D,EAAAC,EAAAC,EAAAC,EAAA,OAAA3yF,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAASjrB,EAATtJ,EAASsJ,SAAUm/B,EAAnBzoC,EAAmByoC,QAASjoC,EAA5BR,EAA4BQ,QAA5B+lH,EACUV,GAAc,CAAEv8G,aAArC0jD,EADWu5D,EACXv5D,SAAUD,EADCw5D,EACDx5D,OADC/Q,EAAAznB,KAAA,EAGawxF,GAAsB,CACrDC,YAAah5D,EAAS84D,UAAU7gH,GAChCzE,YALkB,cAGbgmH,EAHaxqE,EAAA8J,KAAA9J,EAAAznB,KAAA,EAOWwxF,GAAsB,CACnDC,YAAaj5D,EAAO+4D,UAAU7gH,GAC9BzE,YATkB,cAObimH,EAPazqE,EAAA8J,KAAA9J,EAAAznB,KAAA,GAWUy4B,EAASohD,UACpCY,MAD2BjwG,OAAAC,EAAA,EAAAD,CAAA,GAExB0pC,EAFwB,CAG3B6mE,QAAQvwG,OAAAC,EAAA,EAAAD,CAAA,GACJ0pC,EAAQ6mE,QADL,CAENsX,cApEkB,UAoEaJ,OAGhChwB,KAAKyZ,IAnBY,eAWbyW,EAXa1qE,EAAA8J,KAAA9J,EAAAznB,KAAA,GAqBQw4B,EAAOqhD,UAChCY,MADyBjwG,OAAAC,EAAA,EAAAD,CAAA,GAEtB0pC,EAFsB,CAGzB6mE,QAAQvwG,OAAAC,EAAA,EAAAD,CAAA,GACJ0pC,EAAQ6mE,QADL,CAENsX,cA9EkB,UA8EaH,OAGhCjwB,KAAKyZ,IA7BY,eAqBb0W,EArBa3qE,EAAA8J,KAAA9J,EAAA05B,OAAA,SA+BZ,CACNmxC,QAAS,CACRH,iBACAC,gBAEDG,YAAUR,EAAA,GAAAvnH,OAAAs9B,GAAA,EAAAt9B,CAAAunH,EACRt5D,EAAS/nD,GAAKuhH,GADNznH,OAAAs9B,GAAA,EAAAt9B,CAAAunH,EAERv5D,EAAO9nD,GAAKwhH,GAFJH,KApCQ,yBAAAtqE,EAAAtnB,SAAAqnB,MAAH,gBAAAW,GAAA,OAAAv8C,EAAAsR,MAAAwd,KAAApxB,YAAA,GA2CJkpH,GAAoB,SAAAzmH,GAAkB,IAAfgJ,EAAehJ,EAAfgJ,SAGnC,OAFmBu8G,GAAc,CAAEv8G,aAA3ByjD,OAEMqhD,UACZY,MAAM,CACND,MAAK,WAAA/nG,OAAasC,EAASrE,GAAtB,kBACLgrF,OAAQ,QAERuG,KAAKyZ,KAGKpqC,GAAgB,SAAAlkE,GAA2B,IAAxB2H,EAAwB3H,EAAxB2H,SAAU9I,EAAcmB,EAAdnB,QACnCioC,EAAU,CACfsmE,MAAK,WAAA/nG,OAAasC,EAASrE,GAAtB,WACLgrF,OAAQ,OACR5oD,KAAMxrB,KAAKC,UAAU,CAAEkrG,OAAQ,CAAC,CAAEpgH,KAAM,YACxC0oG,QAAS,CAAEoB,eAAgB,qBAG5B,OAAO2V,GAAY,CAAE/8G,WAAUm/B,UAASjoC,aAG5BymH,GAAkB,SAAAnlH,GAA2C,IAAxCwH,EAAwCxH,EAAxCwH,SAAU9I,EAA8BsB,EAA9BtB,QAASuuD,EAAqBjtD,EAArBitD,eAC9CtmB,EAAU,CACfsmE,MAAK,WAAA/nG,OAAasC,EAASrE,GAAtB,WACLgrF,OAAQ,OACR5oD,KAAMxrB,KAAKC,UAAU,CACpBkrG,OAAQ,CAAC,CAAEpgH,KAAM,mBAAoBmoD,qBAEtCugD,QAAS,CAAEoB,eAAgB,qBAG5B,OAAO2V,GAAY,CAAE/8G,WAAUm/B,UAASjoC,aAG5B0mH,GAAiB,eAAA/kH,EAAApD,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAioB,EAAAl6C,GAAA,IAAAmlH,EAAAzyG,EAAAC,EAAAtH,EAAA+5F,EAAAtjG,EAAAsjH,EAAA7/G,EAAAI,EAAAymG,EAAAiZ,EAAA,OAAArzF,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,cAChC4yF,EADgCnlH,EAChCmlH,WACAzyG,EAFgC1S,EAEhC0S,UACAC,EAHgC3S,EAGhC2S,OACAtH,EAJgCrL,EAIhCqL,UACA+5F,EALgCplG,EAKhColG,MACAtjG,EANgC9B,EAMhC8B,KACAsjH,EAPgCplH,EAOhColH,iBACA7/G,EARgCvF,EAQhCuF,MACAI,EATgC3F,EAShC2F,IA1IoCtC,6BA6I9B+oG,EAAYwX,GAAsB,CAAEtX,QA7INjpG,+BAiIJ82C,EAAA5nB,KAAA,EAcP65E,EACvBY,MAAM,CACND,MAAK,cAAA/nG,OAAgBlD,GACrBmsF,OAAQ,MACRkf,YAAa,CACZx6F,SACAtH,YACA+5F,QACAggB,mBACA1yG,YACAnN,QACAI,OAED2nG,QAAS,CACRsX,cA9JkB,UA8JaO,KAGhC3wB,KAAKyZ,IA/ByB,cAc1BoX,EAd0BlrE,EAAA2J,KAAA3J,EAAAu5B,OAAA,SAiCzB,CAAE2xC,aAAY1yG,WAjCW,wBAAAwnC,EAAAznB,SAAAwnB,MAAH,gBAAA0jD,GAAA,OAAAz9F,EAAAsP,MAAAwd,KAAApxB,YAAA,GAoCjBypH,GAAyB,eAAA7kH,EAAA1D,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAooB,EAAA/5C,GAAA,IAAA6kH,EAAAzyG,EAAA05F,EAAAiZ,EAAA,OAAArzF,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cAAS4yF,EAAT7kH,EAAS6kH,WAAYzyG,EAArBpS,EAAqBoS,UArKzBrP,6BAuK9B+oG,EAAYwX,GAAsB,CAAEtX,QAvKNjpG,+BAqKIi3C,EAAA/nB,KAAA,EAIf65E,EACvBY,MAAM,CACND,MAAK,sBACL9e,OAAQ,MACRkf,YAAa,CAAEz6F,aACf46F,QAAS,CACRsX,cAhLkB,UAgLaO,KAGhC3wB,KAAKyZ,IAbiC,cAIlCoX,EAJkC/qE,EAAAwJ,KAAAxJ,EAAAo5B,OAAA,SAejC2xC,GAfiC,wBAAA/qE,EAAA5nB,SAAA2nB,MAAH,gBAAA+pD,GAAA,OAAA3jG,EAAAgP,MAAAwd,KAAApxB,YAAA,GAmCzB0pH,GAAkB,eAAAnkH,EAAArE,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAuoB,EAAAv5C,GAAA,IAAAkkH,EAAA/f,EAAA/5F,EAAAqH,EAAAC,EAAA7Q,EAAAyD,EAAAI,EAAAy/G,EAAAhZ,EAAAz1F,EAAA,OAAAqb,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,cACjC4yF,EADiClkH,EACjCkkH,WACA/f,EAFiCnkG,EAEjCmkG,MACA/5F,EAHiCpK,EAGjCoK,UACAqH,EAJiCzR,EAIjCyR,UACAC,EALiC1R,EAKjC0R,OACA7Q,EANiCb,EAMjCa,KACAyD,EAPiCtE,EAOjCsE,MACAI,EARiC1E,EAQjC0E,IACAy/G,EATiCnkH,EASjCmkH,iBAjNoC/hH,6BAoN9B+oG,EAAYwX,GAAsB,CAAEtX,QApNNjpG,+BAwMHo3C,EAAAloB,KAAA,EAcZ65E,EACnBY,MAAM,CACND,MAAK,cAAA/nG,OAAgBlD,GACrBmsF,OAAQ,MACRkf,YAAa,CACZ/H,QACA/5F,YACAqH,YACAC,SACApN,QACAI,MACAy/G,oBAED9X,QAAS,CACRsX,cArOkB,UAqOaO,KAGhC3wB,KAAKyZ,IA/B0B,cAc3Bt3F,EAd2B8jC,EAAAqJ,KAAArJ,EAAAi5B,OAAA,SAgC1B/8D,GAhC0B,wBAAA8jC,EAAA/nB,SAAA8nB,MAAH,gBAAAgqD,GAAA,OAAApjG,EAAAqO,MAAAwd,KAAApxB,YAAA,GClMzB2pH,GAAkB/sG,aAAUgtG,WAAWhtG,aAAUiiE,wBAEjDgrC,GAAwB,SAAAjpH,GAAmC,IAAhCgnB,EAAgChnB,EAAhCgnB,MAAO8nE,EAAyB9uF,EAAzB8uF,QAAS5tF,EAAgBlB,EAAhBkB,UAChD,GAAI8lB,EAAMxmB,UAAYU,EAAUV,QAC/B,OAAOsuF,EAGR,IAAMo6B,EAAWppH,eAA0BknB,EAAMxmB,SAMjD,OAHiB8nB,wBAAa4gG,EAAS98E,KAAKs7B,IAAIp/C,wBAAa,IAEhCo/C,IAAIp/C,wBAAa,IAAI4uF,IAAIpoB,GACjCA,EAAUxmE,wBAAa,IAGhC6gG,GAAsB,eAAAtoH,EAAAP,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAA8nB,EAAA58C,GAAA,IAAAP,EAAAipH,EAAA7/F,EAAA,OAAAgM,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAAS31B,EAATO,EAASP,IACxCipH,EAAiB3oH,eADc88C,EAAAznB,KAAA,EAEVx1B,OAAOiK,OAAOpK,GAAKD,OAAnB,eAAAe,EAAAX,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAC1B,SAAAC,EAAO4zF,GAAP,IAAAjoH,EAAA0tF,EAAA/tE,EAAAsI,EAAArC,EAAAsiG,EAAA9b,EAAApuG,UAAA,OAAAm2B,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cAAA10B,EAAAosG,EAAAnuG,OAAA,QAAAC,IAAAkuG,EAAA,GAAAA,EAAA,GAA8C,GAA1B1e,EAApB1tF,EAAoB0tF,QAAS/tE,EAA7B3f,EAA6B2f,aAA7B8U,EAAAC,KAAA,EACuBuzF,EADvB,UACOhgG,EADPwM,EAAAwxB,KAGOrgC,EAAQoiG,EAAeroG,IAEPuH,wBAAawmE,GAASrmE,GAC3CH,wBAAatB,EAAMuiG,WANrB,CAAA1zF,EAAAC,KAAA,gBAAAD,EAAAC,KAAA,EAUU0zF,GAAsB,CAC5BxiG,QACA8nE,YAZJ,OAAAj5D,EAAAmhD,GAAAnhD,EAAAwxB,KAAAxxB,EAAAC,KAAA,iBAAAD,EAAAmhD,GAcI1uD,wBAAa,GAdjB,eASOghG,EATPzzF,EAAAmhD,GAAAnhD,EAAAohD,OAAA,SAgBQ5tD,EAAQva,IAAIw6G,IAhBpB,yBAAAzzF,EAAAI,SAAAR,MAD0B,gBAAAwoB,GAAA,OAAAh9C,EAAA+R,MAAAwd,KAAApxB,YAAA,GAmB1B6lD,QAAQC,QAAQ58B,wBAAa,KArBO,cAE/BiB,EAF+Bg0B,EAAA8J,KAAA9J,EAAA05B,OAAA,SAwB9B1tD,GAxB8B,wBAAAg0B,EAAAtnB,SAAAqnB,MAAH,gBAAApnB,GAAA,OAAAr1B,EAAAmS,MAAAwd,KAAApxB,YAAA,GA2BtBqqH,GAAyB,eAAA/nH,EAAApB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAooB,EAAAr8C,GAAA,IAAAgB,EAAA/B,EAAAkpH,EAAA7nH,EAAA8nH,EAAAC,EAAAjpH,EAAAO,EAAA2oH,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAA10F,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cACxCvzB,EADwChB,EACxCgB,SACA/B,EAFwCe,EAExCf,QACAkpH,EAHwCnoH,EAGxCmoH,gBAHwC7rE,EAAA/nB,KAAA,EAKb43E,aAAUnrG,GALG,cAAAV,EAAAg8C,EAAAwJ,KAKhCsiE,EALgC9nH,EAKhC8nH,SALgCC,EAMKpqH,eAArCmB,EANgCipH,EAMhCjpH,sBAAuBO,EANS0oH,EAMT1oH,UACzB2oH,EAAgBlpH,EAAsBG,IAAtB,eAAAoC,EAAA5C,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAA0B,SAAAioB,EAAMz2B,GAAN,IAAAkjG,EAAAp7B,EAAAq7B,EAAAb,EAAA,OAAA/zF,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,cACzCo0F,EAAgBP,EAAS3iG,GADgB02B,EAAA5nB,KAAA,EAGzBo0F,EAAcnc,UAAUvtG,GAHC,cAGzCsuF,EAHyCpxC,EAAA2J,KAKzC8iE,EAAYT,EACf56B,EACAm6B,GAAsB,CACtBjiG,QACA9lB,YACA4tF,YAV4CpxC,EAAA5nB,KAAA,EAahB0zF,GAAsB,CACpDxiG,QACA8nE,QAASq7B,IAfqC,cAazCb,EAbyC5rE,EAAA2J,KAAA3J,EAAAu5B,OAAA,SAkBxC,CAAEjwD,QAAO8nE,QAASq7B,EAAWb,qBAlBW,wBAAA5rE,EAAAznB,SAAAwnB,MAA1B,gBAAAkqD,GAAA,OAAAzkG,EAAA8P,MAAAwd,KAAApxB,YAAA,IAPkBy+C,EAAA/nB,KAAA,EA4BjBmvB,QAAQ9kD,IAAI0pH,GA5BK,cA4BlCC,EA5BkCjsE,EAAAwJ,KAAA0iE,EA6BcD,EAAS5pH,OAC9D,SAACqY,EAAM6xG,GASN,OARA7xG,EAAKyxG,wBAA0BzxG,EAAKyxG,wBAAwBl7G,IAC3Ds7G,EAAYd,kBAGTc,EAAYpjG,MAAMxmB,UAAYU,EAAUV,UAC3C+X,EAAK0xG,iBAAmBG,EAAYt7B,SAG9Bv2E,GAER,CACCyxG,wBAAyB1hG,wBAAa,GACtC2hG,iBAAkB3hG,wBAAa,KAdzB0hG,EA7BgCD,EA6BhCC,wBAAyBC,EA7BOF,EA6BPE,iBA7BOpsE,EAAAo5B,OAAA,SA+CjC,CACN6yC,WACAG,mBACAD,4BAlDuC,yBAAAnsE,EAAA5nB,SAAA2nB,MAAH,gBAAAujD,GAAA,OAAAz/F,EAAAsR,MAAAwd,KAAApxB,YAAA,GAsD/B,SAAeirH,GAAtBtiB,GAAA,OAAAuiB,GAAAt3G,MAAAwd,KAAApxB,wDAAO,SAAAu0G,EAAAtwG,GAAA,IAAA7C,EAAA+B,EAAAmnH,EAAAh3G,EAAA46F,EAAAid,EAAAT,EAAAnmH,EAAA,OAAA4xB,EAAAp2B,EAAAy2B,KAAA,SAAAg+E,GAAA,cAAAA,EAAAjmF,KAAAimF,EAAA99E,MAAA,cACNt1B,EADM6C,EACN7C,QACA+B,EAFMc,EAENd,SACAmnH,EAHMrmH,EAGNqmH,gBAHM9V,EAAA99E,KAAA,EAKqB43E,aAAUnrG,GAL/B,cAAAmQ,EAAAkhG,EAAAvsD,KAKEimD,EALF56F,EAKE46F,SAEFid,EAAQ,CACbjd,EAASkd,WAAWhqH,EAAQA,SAC5BipH,GAA0B,CACzBlnH,WACA/B,QAASA,EAAQA,QACjBkpH,qBAZI9V,EAAA99E,KAAA,EAgBiBmvB,QAAQ9kD,IAAIoqH,GAhB7B,cAgBAT,EAhBAlW,EAAAvsD,KAiBA1jD,EAAY,CACjBnD,QAASA,EAAQA,QACjB00B,KAAM10B,EAAQiqH,gBAAkBjqH,EAAQ00B,KACxC05D,WAAY87B,uBAAYZ,EAAS,GAAGtgG,YACpCqlE,eAAgBi7B,EAAS,GAAGA,SAAShpH,IAAI,SAAAumB,GAAwB,IAArBL,EAAqBK,EAArBL,MAAO8nE,EAAcznE,EAAdynE,QAClD,MAAO,CACNA,QAASz3E,aAAkBy3E,EAAS9nE,EAAMhG,UAAU,EAAO,GAC3DmH,OAAQnB,EAAMmB,WAxBXyrF,EAAA38B,OAAA,SA6BCtzE,GA7BD,yBAAAiwG,EAAA39E,SAAA09E,6BAgCA,SAAegX,GAAtB3iB,GAAA,OAAA4iB,GAAA53G,MAAAwd,KAAApxB,wDAAO,SAAA40G,EAAAzwG,GAAA,IAAAxB,EAAA8oH,EAAAC,EAAA3qH,EAAAiC,EAAAC,EAAAE,EAAA/B,EAAAiT,EAAAs3G,EAAApkD,EAAA3lD,EAAAgqG,EAAAtpG,EAAAupG,EAAAC,EAAAX,EAAA72G,EAAAS,EAAAg3G,EAAAC,EAAAC,EAAA9hG,EAAAqC,EAAApoB,EAAAG,EAAA,OAAA4xB,EAAAp2B,EAAAy2B,KAAA,SAAAq+E,GAAA,cAAAA,EAAAtmF,KAAAsmF,EAAAn+E,MAAA,cACN/zB,EADMwB,EACNxB,QADM8oH,EAAAtnH,EAENunH,mCAFM,IAAAD,EAEwB,CAC7B53G,MAAOqV,wBAAa,KACpB6hG,UAAW7hG,wBAAa,MAJnBuiG,EAMN1qH,EANMoD,EAMNpD,IAEQiC,EAAqBL,EAArBK,OAAQC,EAAaN,EAAbM,SACRE,EAAaH,EAAbG,SACA/B,EAAY6B,EAAZ7B,QAVFyzG,EAAAn+E,KAAA,EAWwB43E,aAAUnrG,GAXlC,cAAAkR,EAAAwgG,EAAA5sD,KAWE0jE,EAXFt3G,EAWEs3G,YAXFpkD,EAYe5lE,eAAbigB,EAZF2lD,EAYE3lD,SAZFgqG,EAckB3oH,EAAhBqf,cAdF,IAAAspG,EAcW,GAdXA,EAeAC,EAAmBF,EAAY,CAAEvqH,YAfjCyzG,EAAAtmF,KAAA,GAAAsmF,EAAAn+E,KAAA,GAkBCm1F,EAAiBK,WAlBlB,QAmBLJ,EAAmBD,EAAiBppC,WAAWz/E,EAAO5B,SAnBjDyzG,EAAAn+E,KAAA,iBAAAm+E,EAAAtmF,KAAA,GAAAsmF,EAAAj9B,GAAAi9B,EAAA,UAqBLiX,EAAmBjmE,QAAQC,QAAQxjC,EAAOvZ,MAAQ,gBArB7C,eAwBAoiH,EAAQ,CACbd,GAA0B,CAAElnH,WAAU/B,YACtC0qH,EACA/B,GAAuB,CAAEhpH,SA3BpB8zG,EAAAn+E,KAAA,GAkCImvB,QAAQ9kD,IACjBoqH,EAAMzpH,IAAI,SAAA+P,GAAC,OACVA,EACEknF,KAAK,SAAAwX,GAAG,OAAIA,IACZgc,MAAM,SAAA7zG,SAtCJ,eAAAhE,EAAAugG,EAAA5sD,KAAAlzC,EAAA7T,OAAAiR,GAAA,EAAAjR,CAAAoT,EAAA,GAAAy3G,EAAAh3G,EAAA,GA+BLi3G,OA/BK,IAAAD,EA+BoC,GA/BpCA,EAgCLE,EAhCKl3G,EAAA,GAiCLoV,EAjCKpV,EAAA,GA4CAyX,EACLw/F,EAAuCpB,yBACvC1hG,wBAAa,GAGR9kB,EAAM,CACX4nH,yCACAC,mBACAz/F,2BACAk/F,4BAA6BA,EAA4BX,UACzDqB,iCAAkCV,EAA4B73G,MAC9DmqB,kCAAmCxR,EAAyB9c,IAC3Dg8G,EAA4BX,WAE7BsB,8BAA+B7/F,EAAyB9c,IACvDg8G,EAA4B73G,OAE7BsW,gBAGK5lB,EAAY,CACjB4+E,cAAengF,EAAO5B,QACtBkrH,eAAgBtpH,EAAOG,SACvB8oH,iBAAkBtC,GAAgBsC,GAClC/oC,gBAAiBjgF,EAAS7B,QAC1BorB,yBAA0BvU,aACzBuU,EACA5K,GACA,EACA,GAED8pG,4BAA6BzzG,aAC5B7T,EAAIsnH,4BACJ9pG,GACA,EACA,GAEDwqG,iCAAkCn0G,aACjC7T,EAAIgoH,iCACJxqG,GACA,EACA,GAEDoc,kCAAmC/lB,aAClC7T,EAAI45B,kCACJpc,GACA,EACA,GAEDyqG,8BAA+Bp0G,aAC9B7T,EAAIioH,8BACJzqG,GACA,EACA,GAEDuI,aAAclS,aACb7T,EAAI+lB,cAAgB,IACpBvI,GACA,EACA,IAvGIizF,EAAAh9B,OAAA,SA2GC,CACNzzE,MACAG,cA7GK,yBAAAswG,EAAAh+E,SAAA+9E,EAAA,0CAmHA,SAAe2X,GAAtBvjB,GAAA,OAAAwjB,GAAA54G,MAAAwd,KAAApxB,wDAAO,SAAAi1G,EAAA3wG,GAAA,IAAAmoH,EAAAC,EAAAjgF,EAAAkgF,EAAA,OAAAx2F,EAAAp2B,EAAAy2B,KAAA,SAAA0+E,GAAA,cAAAA,EAAA3mF,KAAA2mF,EAAAx+E,MAAA,cAAuC+1F,EAAvCnoH,EAAuCmoH,YACvCC,EAAUxjG,wBAAa,GAEvBujB,EAAU,CAAE54B,MAAO64G,EAAS3B,UAAW2B,GAEvCC,EAAiBF,EAAY3rH,OAAO,SAAC8rH,EAASC,GAAO,IAClDC,EAAsCD,EAAtCC,YAAaC,EAAyBF,EAAzBE,qBACf7lG,EAAOhmB,OAAAC,EAAA,EAAAD,CAAA,GAAQ0rH,GAMrB,OALA1lG,EAAQrT,MAAQqT,EAAQrT,MAAMnE,IAAIo9G,GAClC5lG,EAAQ6jG,UAAY7jG,EAAQ6jG,UAAUr7G,IACrCwZ,wBAAa6jG,IAGP7lG,GACLulB,GAdGyoE,EAAAr9B,OAAA,SAgBC80C,GAhBD,wBAAAzX,EAAAr+E,SAAAo+E,6BA8CA,SAAe+X,GAAtB3Y,GAAA,OAAA4Y,GAAAr5G,MAAAwd,KAAApxB,wDAAO,SAAAg2G,EAAApxG,GAAA,IAAA6nH,EAAA9pH,EAAA0lH,EAAA6E,EAAA7xG,EAAA8xG,EAAAC,EAAAC,EAAA,OAAAl3F,EAAAp2B,EAAAy2B,KAAA,SAAAy/E,GAAA,cAAAA,EAAA1nF,KAAA0nF,EAAAv/E,MAAA,cACN+1F,EADM7nH,EACN6nH,YACA9pH,EAFMiC,EAENjC,QAEM0lH,EAAsB1lH,EAAQM,SAASolH,qBAAuB,GAE9D6E,EAAgBT,EAAY3rH,OAAO,SAACC,EAADiU,GAAsB,IAAAqiD,EAAdu7C,EAAc59F,EAAd49F,QAC1C1jD,GAAU0jD,EAAQ9kD,YAAc8kD,EAAQ9wF,KAAKgsC,YAAY,GAAG1mD,GAC5D+nD,GAAYyjD,EAAQ9kD,YAAc8kD,EAAQ9wF,KAAKgsC,YAAY,GAAG1mD,GAQpE,OANgBlG,OAAAC,EAAA,EAAAD,CAAA,GACZH,GADYs2D,EAAA,GAAAn2D,OAAAs9B,GAAA,EAAAt9B,CAAAm2D,EAEdnI,EAASnuD,EAAImuD,IAAWm5D,EAAoBn5D,IAAW,MAFzChuD,OAAAs9B,GAAA,EAAAt9B,CAAAm2D,EAGdlI,EAAWpuD,EAAIouD,IAAak5D,EAAoBl5D,IAAa,MAH/CkI,KAOd,IAEGh8C,EAAOna,OAAOma,KAAK6xG,GAEnBC,EAAa9xG,EAAK3Z,IAAL,eAAA4T,EAAApU,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAS,SAAAu/E,EAAMpxF,GAAN,IAAAqD,EAAA,OAAAuO,EAAAp2B,EAAAy2B,KAAA,SAAAo/E,GAAA,cAAAA,EAAArnF,KAAAqnF,EAAAl/E,MAAA,WACvBw2F,EAAc3oG,GADS,CAAAqxF,EAAAl/E,KAAA,eAAAk/E,EAAA/9B,OAAA,SAEnBq1C,EAAc3oG,IAFK,cAAAqxF,EAAAl/E,KAAA,EAINwxF,GAAsB,CACzCC,YAAa5jG,EACb5hB,YANyB,cAIpBilB,EAJoBguF,EAAA3tD,KAAA2tD,EAAA/9B,OAAA,SASnBjwD,GATmB,wBAAAguF,EAAA/+E,SAAA8+E,MAAT,gBAAAb,GAAA,OAAAx/F,EAAA1B,MAAAwd,KAAApxB,YAAA,IArBbi2G,EAAAv/E,KAAA,EAkCkBmvB,QAAQ9kD,IAAIosH,GAlC9B,cAkCAC,EAlCAnX,EAAAhuD,KAoCAolE,EAAiBhyG,EAAKva,OAAO,SAACC,EAAKwjB,EAAK+E,GAM7C,OALgBpoB,OAAAC,EAAA,EAAAD,CAAA,GACZH,EADYG,OAAAs9B,GAAA,EAAAt9B,CAAA,GAEdqjB,EAAM6oG,EAAU9jG,MAIhB,IA3CG2sF,EAAAp+B,OAAA,SA6CCw1C,GA7CD,yBAAApX,EAAAp/E,SAAAm/E,6BAgDP,IAAMsX,GAAgB,eAAAloH,EAAAlE,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAuoB,EAAA35C,GAAA,IAAA0qF,EAAA,OAAAv5D,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,cAAA1xB,EAAS4iB,MAAO8nE,EAAhB1qF,EAAgB0qF,QAAhB9wC,EAAAi5B,OAAA,SAA8B6X,GAA9B,wBAAA9wC,EAAA/nB,SAAA8nB,MAAH,gBAAA81D,GAAA,OAAArvG,EAAAwO,MAAAwd,KAAApxB,YAAA,GAEhButH,GAA8B,CAEnCC,6CAA8C,CAE7CC,6CAA8CH,IAG/CG,6CAA8C,CAE7CD,6CAA8CF,KAIzC,SAAelD,GAAtB1V,GAAA,OAAAgZ,GAAA95G,MAAAwd,KAAApxB,wDAAO,SAAAq2G,EAAA9wG,GAAA,IAAAqiB,EAAA8nE,EAAAi+B,EAAAvsH,EAAAwsH,EAAA,OAAAz3F,EAAAp2B,EAAAy2B,KAAA,SAAA8/E,GAAA,cAAAA,EAAA/nF,KAAA+nF,EAAA5/E,MAAA,UAAuC9O,EAAvCriB,EAAuCqiB,MAAO8nE,EAA9CnqF,EAA8CmqF,QAA9Ci+B,EACchsH,gBAAZP,EADFusH,EACEvsH,WAEQwmB,EAAMxmB,QAHhB,CAAAk1G,EAAA5/E,KAAA,eAAA4/E,EAAAz+B,OAAA,SAIE6X,GAJF,cAAA4mB,EAAA5/E,KAAA,EAOyB62F,GAC9BnsH,EAAQgrC,eACPxkB,EAAMxmB,QAAQgrC,eAAe,CAC9BxkB,QACA8nE,YAXK,cAOAk+B,EAPAtX,EAAAruD,KAAAquD,EAAAz+B,OAAA,SAcC+1C,GAdD,wBAAAtX,EAAAz/E,SAAAw/E,2JC9UChX,GAAqCV,KAArCU,eAAgBE,GAAqBZ,KAArBY,iBAElBM,GAAQ,IAAIguB,aAAUpf,IACtBqf,GAAkB,IAAID,aAAUE,IAChCC,GAA0B,IAAIH,aAAUxuB,GAAeD,KACvD6uB,GAA4B,IAAIJ,aAAUtuB,GAAiBH,KACzD8uB,GAA2B1mH,6CAE5B,SAAe2mH,GAAtBr3F,GAAA,OAAAs3F,GAAAx6G,MAAAwd,KAAApxB,wDAAO,SAAAq2B,EAAAz1B,GAAA,IAAA+Q,EAAA08G,EAAAC,EAAA9D,EAAAxX,EAAAub,EAAAtb,EAAAhxG,EAAAusH,EAAA1sH,EAAA2gF,EAAA0wB,EAAAJ,EAAAG,EAAArsG,EAAA,OAAAsvB,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cACN/kB,EADM/Q,EACN+Q,MADM08G,EAAAztH,EAEN0tH,oCAFM,IAAAD,EAEyB,YAFzBA,EAAA7D,EAWFpqH,eANH4yG,EALKwX,EAKLxX,oBACAub,EANK/D,EAML+D,YACAtb,EAPKuX,EAOLvX,iBACAhxG,EARKuoH,EAQLvoH,qBACAusH,EATKhE,EASLgE,SACA1sH,EAVK0oH,EAUL1oH,UAGK2gF,EAAa,CAAC,CAAC9wE,EAAO,GAAI,CAAC1P,EAAsB,IAEjDkxG,EAA2B,CAChC,CACC1yG,QAAS8tH,EACTE,QAASD,EACTE,WAAYJ,EACZK,aAAc7sH,EAAUV,QACxBwtH,eAAgB,SAIZ7b,EAAW8b,kCAChB5b,EACAxwB,EACA,CACCqsC,SAAU,EACVC,iBAAkB,EAClBC,sBAAuB7b,EAAyBzxG,IAAI,SAAA+L,GAAC,OACpD,IAAIwhH,wBAAqBxhH,GAAG25F,UAG9B8nB,MAGKhc,EAAOsT,qBAAU70G,GAEjB9K,EAAeuoG,sBAAU,KAAAjmG,OACzBgmH,4BAAiBnc,EAAqBE,EAAMH,GAAU3oF,SAAS,SAzC/DqM,EAAAohD,OAAA,SA4CC,CACNm7B,sBACAC,mBACAF,WACAG,OACArsG,eACA47E,aACA0wB,6BAnDK,wBAAA18E,EAAAI,SAAAR,6BAuDA,SAAe+4F,GAAtBvwE,GAAA,OAAAwwE,GAAAz7G,MAAAwd,KAAApxB,wDAAO,SAAAk+C,EAAA58C,GAAA,IAAAqB,EAAAo7E,EAAAC,EAAAsxC,EAAAxtH,EAAA8f,EAAAmH,EAAAwmG,EAAAvsH,EAAAC,EAAAc,EAAAZ,EAAA66B,EAAA15B,EAAA4pG,EAAA/O,EAAAorB,EAAA1jH,EAAA2oH,EAAAC,EAAApuG,EAAAquG,EAAArxC,EAAAsxC,EAAAC,EAAAC,EAAA/0G,EAAA,OAAAqb,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cACN/zB,EADMrB,EACNqB,QACAo7E,EAFMz8E,EAENy8E,iBACAC,EAHM18E,EAGN08E,WACAsxC,EAJMhuH,EAINguH,YAEMxtH,EAAYH,eACVigB,EAAyC9f,EAAzC8f,SAAUmH,EAA+BjnB,EAA/BinB,OAAiBwmG,EAAcztH,EAAvBV,QAClB4B,EAA4BL,EAA5BK,OAAQC,EAAoBN,EAApBM,SAAUc,EAAUpB,EAAVoB,MAClBZ,EAAaH,EAAbG,SACA66B,EAAsCj6B,EAAMK,IAA5C45B,kCAVFmgB,EAAAznB,KAAA,EAWyC43E,aAAUnrG,GAXnD,cAAAmB,EAAA65C,EAAA8J,KAWEimD,EAXF5pG,EAWE4pG,SAAU/O,EAXZ76F,EAWY66F,SAAUorB,EAXtBjmH,EAWsBimH,SAEtB1jH,EAAe5D,EAAS7B,QAExBouH,EAAavW,sBAAWl7B,EAAkBn8D,GAE1C6tG,EAAa,CAClB5D,iBAAkBhlH,EAClB8nH,aAAcY,EACdttG,GAAIstG,EACJp2G,KAAM0mF,GAAMiwB,UAAUC,SAASC,OAAO,CAAChyC,EAAYwxC,IACnDC,YAAY,GAEPpuG,EAAO,CAACouG,GAxBRtxE,EAAAznB,KAAA,GA0BuBu5F,GAAiC,CAC7DC,wBAAyBV,EACzBnuG,OACAxa,eACAqnG,WACA/O,WACAx8F,UACA4nH,aAjCK,eA0BAmF,EA1BAvxE,EAAA8J,KAAA9J,EAAAznB,KAAA,GAoCay5F,GAAyB,CAAET,iBAAgB5tH,cApCxD,WAoCAu8E,EApCAlgC,EAAA8J,KAqCA0nE,EAAYzmG,wBAAa8U,IAE3BqgD,EAAK+xC,QAAQ/mG,GAAGsmG,GAvCd,CAAAxxE,EAAAznB,KAAA,eAwCC,IAAIsrE,MACThhG,aAAE,oCAAqC,CACtCyJ,KAAM,IAAAtB,OACF8O,aACF03G,EAAUvlG,WACVxI,GACA,EACA,GALI,KAAAzY,OAMA4f,GANA,GAAA5f,OAOFk1E,EAAKxqE,MAPH,KAAA1K,OAOY4f,GAPZ,GAAA5f,OAQF8O,aAAkBu3G,EAAWplG,WAAYxI,GARvC,KAAAzY,OAQoD4f,OAlDvD,WAwDA6mG,EAAcD,EAAUU,IAAIhyC,EAAK+xC,SAEnCP,EAAuBL,EAEvBA,EAAWnmG,GAAGumG,KACjBC,EAAuBD,EACvBF,EAAeH,GAAaG,EAAeH,GAAW7tH,IAAI,SAAA68E,GAQzD,OAPIA,EAAGkxC,aACNlxC,EAAGplE,KAAO0mF,GAAMiwB,UAAUC,SAASC,OAAO,CACzChyC,EACA6xC,EAAqBzlG,cAIhBm0D,MAIL+wC,EA1EE,CAAAnxE,EAAAznB,KAAA,gBAAAynB,EAAA05B,OAAA,SA2EE,CACNwG,KAAMA,EAAKxqE,MACXu8G,QAAS/xC,EAAK+xC,QACdP,uBACAlwC,MAAO1nE,aAAkB43G,EAAsBjuG,KA/E3C,eAAAu8B,EAAAznB,KAAA,GAmFe45F,GAA0B,CAC9CzpH,eACA6oH,iBACA1sH,SACAkrG,aAvFK,eAmFApzF,EAnFAqjC,EAAA8J,KAAA9J,EAAA05B,OAAA,SA0FC,CACN/8D,WA3FK,yBAAAqjC,EAAAtnB,SAAAqnB,6BA+FA,SAAeqyE,GAAtBxuB,GAAA,OAAAyuB,GAAA58G,MAAAwd,KAAApxB,wDAAO,SAAAq+C,EAAA58C,GAAA,IAAAkB,EAAAq8E,EAAAC,EAAAqwC,EAAAtsH,EAAAC,EAAAwB,EAAAypG,EAAAuiB,EAAAtxB,EAAAorB,EAAA1jH,EAAA6pH,EAAAC,EAAAtvG,EAAAquG,EAAA9qH,EAAAiP,EAAAu8G,EAAAt1G,EAAA,OAAAqb,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,cACN/zB,EADMlB,EACNkB,QACAq8E,EAFMv9E,EAENu9E,QACAC,EAHMx9E,EAGNw9E,UACAqwC,EAJM7tH,EAIN6tH,YAEQtsH,EAAqBL,EAArBK,OAAQC,EAAaN,EAAbM,SANVq7C,EAAA5nB,KAAA,EAOoD43E,aACzDtrG,EAAOG,UARF,cAAAsB,EAAA65C,EAAA2J,KAOEimD,EAPFzpG,EAOEypG,SAAUuiB,EAPZhsH,EAOYgsH,UAAWtxB,EAPvB16F,EAOuB06F,SAAUorB,EAPjC9lH,EAOiC8lH,SAGjC1jH,EAAe5D,EAAS7B,QAExBsvH,EAAoB,IAAI7C,aAAU1uB,EAASC,KAE3CuxB,EAAM,CACX9E,iBAAkBhlH,EAClB8nH,aAAc8B,EAAUrvH,QACxB6gB,GAAIpb,EACJsS,KAAMu3G,EAAkBZ,UAAUc,iBAAiBZ,OAAO,CACzDhxC,EACAC,KAII59D,EAAO,CAACsvG,GAxBRryE,EAAA5nB,KAAA,GAyBuBu5F,GAAiC,CAC7D5uG,OACAxa,eACAqnG,WACA/O,WACAx8F,UACA4nH,aA/BK,WAyBAmF,EAzBApxE,EAAA2J,MAkCFqnE,EAlCE,CAAAhxE,EAAA5nB,KAAA,gBAAA4nB,EAAA5nB,KAAA,GAmC4By5F,GAAyB,CACzDT,mBApCI,eAAA9qH,EAAA05C,EAAA2J,KAmCGp0C,EAnCHjP,EAmCGiP,MAAOu8G,EAnCVxrH,EAmCUwrH,QAnCV9xE,EAAAu5B,OAAA,SAsCE,CACNwG,KAAMxqE,EACNu8G,YAxCI,eAAA9xE,EAAA5nB,KAAA,GA4Ce45F,GAA0B,CAC9CZ,iBACA7oH,eACA7D,SACAkrG,WACAhwF,UAAW,CACV8gE,UACAC,eAnDI,eA4CAnkE,EA5CAwjC,EAAA2J,KAAA3J,EAAAu5B,OAAA,SAuDC,CACN/8D,WAxDK,yBAAAwjC,EAAAznB,SAAAwnB,6BA2DP,SAASwyE,GAAThvH,GAMG,IALFwf,EAKExf,EALFwf,KACAvf,EAIED,EAJFC,UACAgvH,EAGEjvH,EAHFivH,QACAvuH,EAEEV,EAFFU,QACAsE,EACEhF,EADFgF,aACEkqH,EAC4C1vG,EAAKvgB,OAClD,SAAComB,EAASq3D,EAAI5pE,GAAM,IACXq8G,EAA0BzyC,EAA1ByyC,sBAUJrC,EAAe,GAmBnB,QA1BGpsH,KACAyuH,KACAA,EAAsBzuH,KACvBg8E,EAAGowC,eAAiBpsH,IAAYg8E,EAAGowC,eACpC7sH,EAAUV,UAAY0vH,GACtBvuH,IAAYuuH,IAKZ5pG,EAAQ+pG,kBAAoB/pG,EAAQ+pG,kBAAkBvhH,IACrDwZ,wBAAa8nG,EAAsBzuH,KAEpCosH,EAAemC,GAGhBnC,EAAeA,GAAgBpwC,EAAGowC,cAAgB7sH,EAAUV,QAE5Dm9E,EAAGowC,aAAeA,EAClBpwC,EAAGstC,kBAAoBttC,EAAGstC,kBAAoBhlH,GAAculC,cAE5DllB,EAAQwoG,eAAef,GAAvB,GAAAxlH,OAAAjI,OAAAgE,GAAA,EAAAhE,CACKgmB,EAAQwoG,eAAef,IAAiB,IAD7C,CAECpwC,IAGMr3D,GAER,CACC+pG,kBAAmB/nG,wBAAa,KAChCwmG,eAAgB,KAIlB,MAAO,CAAEA,eAxCPqB,EACMrB,eAuCiBuB,kBAxCvBF,EACsBE,mBA0ClB,SAAeC,GAAtB3oB,GAAA,OAAA4oB,GAAAv9G,MAAAwd,KAAApxB,wDAAO,SAAAw+C,EAAAx8C,GAAA,IAAAovH,EAAA7xC,EAAA58E,EAAA2sH,EAAAtsH,EAAAC,EAAA+B,EAAAkpG,EAAAuiB,EAAAlG,EAAAprB,EAAAt4F,EAAA8pH,EAAAU,EAAAhwG,EAAAquG,EAAA4B,EAAAxvH,EAAAsD,EAAAyO,EAAAu8G,EAAAt1G,EAAA,OAAAqb,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cAAA06F,EAAApvH,EAAgCu9E,gBAAhC,IAAA6xC,EAA2C,GAA3CA,EAA+CzuH,EAA/CX,EAA+CW,QAAS2sH,EAAxDttH,EAAwDstH,YACtDtsH,EAAqBL,EAArBK,OAAQC,EAAaN,EAAbM,SADVw7C,EAAA/nB,KAAA,EAEoD43E,aACzDtrG,EAAOG,UAHF,cAAA6B,EAAAy5C,EAAAwJ,KAEEimD,EAFFlpG,EAEEkpG,SAAUuiB,EAFZzrH,EAEYyrH,UAAWlG,EAFvBvlH,EAEuBulH,SAAUprB,EAFjCn6F,EAEiCm6F,SAGjCt4F,EAAe5D,EAAS7B,QAExBuvH,EAAM,CACX9E,iBAAkBhlH,EAClB8nH,aAAc8B,EAAUrvH,QACxB6gB,GAAIo9E,GAAej+F,QACnB+X,KAAM60G,GAAwB8B,UAAUyB,iBAAiBvB,OAAO,CAC/D3wB,GAAeC,eACfl4F,cAAGm4E,GACH14E,KAIIwqH,EAAM,CACXxF,iBAAkBhlH,EAClB8nH,aAAc8B,EAAUrvH,QACxB6gB,GAAIs9E,GAAiBn+F,QACrB+X,KAAM80G,GAA0B6B,UAAU0B,QAAQxB,OAAO,IAAA7mH,OACrDo2E,EADqD,KAAAp2E,OACzCo2F,GAAiBC,iBAI5Bn+E,EAAO,CAACsvG,EAAKU,GA3Bb5yE,EAAA/nB,KAAA,GA6BuBu5F,GAAiC,CAC7D5uG,OACAxa,eACAqnG,WACA/O,WACAx8F,UACA4nH,aAnCK,eA6BAmF,EA7BAjxE,EAAAwJ,KAAAqpE,EAsCgBlxH,eAAd0B,EAtCFwvH,EAsCExvH,UAtCF28C,EAAA/nB,KAAA,GAuC2By5F,GAAyB,CACzDT,iBACA5tH,cAzCK,WAAAsD,EAAAq5C,EAAAwJ,KAuCEp0C,EAvCFzO,EAuCEyO,MAAOu8G,EAvCThrH,EAuCSgrH,SAIXd,EA3CE,CAAA7wE,EAAA/nB,KAAA,gBAAA+nB,EAAAo5B,OAAA,SA4CE,CACNwG,KAAMxqE,EACNu8G,YA9CI,eAAA3xE,EAAA/nB,KAAA,GAkDe45F,GAA0B,CAC9CzpH,eACA6oH,iBACA1sH,SACAkrG,aAtDK,eAkDApzF,EAlDA2jC,EAAAwJ,KAAAxJ,EAAAo5B,OAAA,SAyDC,CACN/8D,WA1DK,yBAAA2jC,EAAA5nB,SAAA2nB,6BA8DA,SAAeyxE,GAAtBtnB,GAAA,OAAA8oB,GAAA79G,MAAAwd,KAAApxB,wDAAO,SAAA2+C,EAAAx8C,GAAA,IAAAuvH,EAAAxB,EAAAyB,EAAAtwG,EAAAxa,EAAAqnG,EAAA/O,EAAAx8F,EAAA4nH,EAAA1pH,EAAA+wH,EAAAC,EAAA/vH,EAAAgvH,EAAAvuH,EAAAuvH,EAAAC,EAAAlG,EAAAmG,EAAAC,EAAAC,EAAA3sH,EAAA4sH,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAhD,EAAAiD,EAAA,OAAAx8F,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,cAAAg7F,EAAAvvH,EACN+tH,+BADM,IAAAwB,EACoB,IADpBA,EAAAC,EAAAxvH,EAENkf,YAFM,IAAAswG,EAEC,GAFDA,EAGN9qH,EAHM1E,EAGN0E,aACAqnG,EAJM/rG,EAIN+rG,SACA/O,EALMh9F,EAKNg9F,SACAx8F,EANMR,EAMNQ,QACA4nH,EAPMpoH,EAONooH,SAEM1pH,EAAoBH,eACpBkxH,EAAWvvH,eAVXwvH,EAWkCzxH,eAAhC0B,EAXF+vH,EAWE/vH,UAAWgvH,EAXbe,EAWaf,QAASvuH,EAXtBsvH,EAWsBtvH,QACtBuvH,EAAoBjxH,EAAkBiB,EAAUV,SAZhDw9C,EAAAloB,KAAA,EAckBw3E,EAAS0kB,QAAQ/rH,GAdnC,UAAA+3C,EAAAg5B,GAAAh5B,EAAAqJ,KAcF8pE,EAAwD,OAdtDnzE,EAAAg5B,GAeFi0C,EAAmB,KAEnBkG,IACHlG,EAAmB,IAAIrd,YAAS3nG,EAAcs4F,EAASC,IAAK8O,KAGxC6jB,EArBf,CAAAnzE,EAAAloB,KAAA,gBAAAkoB,EAAAloB,KAAA,GAsBIm1F,EAAiBgH,QAtBrB,QAAAj0E,EAAAgjE,GAAAhjE,EAAAqJ,KAsB8B6qE,WAtB9Bl0E,EAAAloB,KAAA,iBAAAkoB,EAAAgjE,GAuBH,EAvBG,eAqBAoQ,EArBApzE,EAAAgjE,GAyBAqQ,EAAkB5wG,EAAKphB,OAC1BipB,wBACC8oG,EAEEF,EAAkBiB,eADlBjB,EAAkBkB,WAEnBtjH,IACFwZ,wBAAa4oG,EAAkBiB,gBAAgBzqD,IAC9Cp/C,wBAAa7H,EAAKphB,OAAS,KAG5BipB,wBAAa,GAEVgpG,EAA+BD,EAAgBviH,IACpDwZ,wBAAagnG,IAtCRtxE,EAAAloB,KAAA,GA4CIu8F,GAAwB,CACjC/C,wBAAyBgC,EAEzBvvH,YA/CK,WAAA4C,EAAAq5C,EAAAqJ,KAAAkqE,EAAA5sH,EA0CL6sH,iBA1CK,IAAAD,EA0CO,GA1CPA,EAAAE,EAAA9sH,EA2CL+sH,0BA3CK,IAAAD,EA2CgB,GA3ChBA,EAmDAE,EAAmB1B,GAA4B,CACpDxvG,KAAM+wG,EACNtwH,YACAgvH,UACAvuH,UACAsE,iBAIK2rH,EAAmB3B,GAA4B,CACpDxvG,OACAvf,YACAgvH,UACAvuH,UACAsE,kBASK4rH,EAAgBF,EAAiBtB,kBACrCvhH,IAAI8iH,EAAiBvB,mBACrBvhH,IAAIwZ,wBAAaopG,EAAmB/vH,IAAY,KAE/B+sG,SA9Eb,CAAA1wD,EAAAloB,KAAA,gBAAAkoB,EAAAsjE,GAAA,GAAAtjE,EAAAmnE,GAAA7kH,OAAAgE,GAAA,EAAAhE,CAgFAqxH,EAAiB7C,eAAeoB,IAAY,IAhF5ClyE,EAAAs0E,GAAAhuH,GAAA,EAAA05C,EAAAloB,KAAA,GAiFMy8F,GAAiB,CAC1B5I,WACA1jH,eACAiqH,UACAc,WACAwB,WAAYX,IAtFT,QAAA7zE,EAAAy0E,GAAAz0E,EAAAqJ,KAAArJ,EAAA00E,IAAA,EAAA10E,EAAAs0E,IAAAt0E,EAAAy0E,IA+ELd,EAAiB7C,eAAeoB,GA/E3BlyE,EAAAsjE,GAAA/4G,OAAAooB,KAAAqtB,EAAAsjE,GAAAtjE,EAAAmnE,GAAAnnE,EAAA00E,IAAA,eA2FAZ,EA3FAxxH,OAAAgE,GAAA,EAAAhE,CA4FF,IAAIwQ,IAAJ,GAAAvI,OAAAjI,OAAAgE,GAAA,EAAAhE,CACCA,OAAOma,KAAKk3G,EAAiB7C,iBAD9BxuH,OAAAgE,GAAA,EAAAhE,CAECA,OAAOma,KAAKm3G,EAAiB9C,oBAI5BA,EAAiBgD,EAAa5xH,OAAO,SAACugB,EAAMuG,GAMjD,OALAvG,EAAKuG,GAAL,GAAAze,OAAAjI,OAAAgE,GAAA,EAAAhE,CACKqxH,EAAiB7C,eAAe9nG,IAAU,IAD/C1mB,OAAAgE,GAAA,EAAAhE,CAEKsxH,EAAiB9C,eAAe9nG,IAAU,KAGxCvG,GACL,IAECsxG,EAAeX,EAEnB9wH,OAAOma,KAAKq0G,GAAgB7+G,QAAQ,SAAA0T,GACnCmrG,EAAenrG,GAAOmrG,EAAenrG,GAAK7iB,IAAI,SAAA68E,GAAM,IAAAg1C,EACmBh1C,EAA9Di1C,4BAD2C,IAAAD,EACpB,EADoBA,EAAAE,EACmBl1C,EAApCm1C,wBADiB,IAAAD,EACE,EADFA,EACKE,EAAcp1C,EAAdo1C,UAClD7J,EAAWjpH,EAAkB09E,EAAGowC,cAChCiF,EAAcD,EAAY7J,EAAS98E,IAAM88E,EAASiJ,eAElDc,EAAe3qG,wBACH,IAAjBypG,EAAqB7I,EAASkJ,UAAYY,GAGrCE,EAAyB5qG,wBAAasqG,GAAsBlrD,IACjEp/C,wBAAa4gG,EAAS98E,MAGjB+mF,EAAkB7qG,wBAAawqG,GAAkBprD,IACtDp/C,wBAAa4gG,EAASiJ,iBAIjBiB,EAAYH,EAChBnkH,IAAIokH,GACJpkH,IAAIqkH,GACJ3pG,WAGI6pG,EAA8B/qG,wBAAa8qG,GAC/C3D,IAAInnG,wBAAayqG,EAAY7J,EAAS98E,IAAM,IAC5CqjF,IAAInnG,wBAAasqG,GAAsBlrD,IAAIp/C,wBAAa4gG,EAAS98E,OACjE5iB,WAEI8pG,EAAWhzH,OAAAC,EAAA,EAAAD,CAAA,GACbq9E,EADa,CAEhBowC,aAAc7E,EAAS1oH,QACvB4yH,YACAnB,MAAOF,EACPsB,gCAKD,OAFAtB,GAAgB,EAETuB,MArJHt1E,EAAAi5B,OAAA,SAyJC63C,GAzJD,yBAAA9wE,EAAA/nB,SAAA8nB,6BA4JA,SAAew1E,GAAtBvrB,GAAA,OAAAwrB,GAAAxgH,MAAAwd,KAAApxB,wDAAO,SAAAu0G,EAAAjyG,GAAA,IAAAioH,EAAA3iG,EAAA/gB,EAAA8nH,EAAA0F,EAAAC,EAAAxJ,EAAAjc,EAAA0lB,EAAA,OAAAp+F,EAAAp2B,EAAAy2B,KAAA,SAAAg+E,GAAA,cAAAA,EAAAjmF,KAAAimF,EAAA99E,MAAA,cACN6zF,EADMjoH,EACNioH,SACA3iG,EAFMtlB,EAENslB,MACA/gB,EAHMvE,EAGNuE,aACA8nH,EAJMrsH,EAINqsH,aACA0F,EALM/xH,EAKN+xH,kBACAC,EANMhyH,EAMNgyH,cAEMxJ,EAAgBP,EAAS3iG,GARzB4sF,EAAA99E,KAAA,EAUkBo0F,EAAcjc,UACrChoG,EACAwtH,GAZK,cAUAxlB,EAVA2F,EAAAvsD,KAeAssE,EAAc,GAEf1lB,EAAUS,UACdilB,EAAY96G,KAAK,CAChBoyG,iBAAkBhlH,EAClB8nH,aAAcA,EACd1sG,GAAI2F,EAAMxmB,QACV+X,KAAM0mF,GAAMiwB,UAAU0E,QAAQxE,OAAO,CAACqE,EAAmB,MAI3DE,EAAY96G,KAAK,CAChBoyG,iBAAkBhlH,EAClB8nH,aAAcA,EACd1sG,GAAI2F,EAAMxmB,QACV+X,KAAM0mF,GAAMiwB,UAAU0E,QAAQxE,OAAO,CAACqE,EAAmBC,MA9BpD9f,EAAA38B,OAAA,SAiCC08C,GAjCD,wBAAA/f,EAAA39E,SAAA09E,sCAoCQ4e,mFAAf,SAAAve,EAAAnyG,GAAA,IAAAoE,EAAAiqH,EAAAc,EAAAwB,EAAA7I,EAAAgK,EAAAE,EAAA,OAAAt+F,EAAAp2B,EAAAy2B,KAAA,SAAAq+E,GAAA,cAAAA,EAAAtmF,KAAAsmF,EAAAn+E,MAAA,cACC7vB,EADDpE,EACCoE,aACAiqH,EAFDruH,EAECquH,QACAc,EAHDnvH,EAGCmvH,SACAwB,EAJD3wH,EAIC2wH,WACA7I,EALD9nH,EAKC8nH,SALD1V,EAAAn+E,KAAA,EAO2By9F,GAAe,CACxC5J,WACA3iG,MAAOgqG,EACP/qH,eACA8nH,aAAcmC,EACduD,kBAAmBnG,GACnBoG,cAAelB,IAbjB,cAOOmB,EAPP1f,EAAA5sD,KAgBOwsE,EAAS,CACd5I,iBAAkBhlH,EAClB8nH,aAAcmC,EACd7uG,GAAIisG,GACJ/0G,KAAM20G,GAAgBgC,UAAU4E,aAAa1E,OAAO,CAACoD,KApBvDve,EAAAh9B,OAAA,YAAA1uE,OAAAjI,OAAAgE,GAAA,EAAAhE,CAuBYqzH,GAvBZ,CAuByBE,KAvBzB,wBAAA5f,EAAAh+E,SAAA+9E,6BA4BO,SAAeub,GAAtBlnB,GAAA,OAAA0rB,GAAA/gH,MAAAwd,KAAApxB,wDAAO,SAAAi1G,EAAAnxG,GAAA,IAAA4rH,EAAAkF,EAAA9yH,EAAAjB,EAAA6rH,EAAAhtC,EAAAm1C,EAAAx2C,EAAA,OAAAloD,EAAAp2B,EAAAy2B,KAAA,SAAA0+E,GAAA,cAAAA,EAAA3mF,KAAA2mF,EAAAx+E,MAAA,cACNg5F,EADM5rH,EACN4rH,eADMkF,EAAA9wH,EAENhC,iBAFM,IAAA8yH,EAEM,GAFNA,EAIA/zH,EAAoBH,eACpBgsH,EAAUxjG,wBAAa,KACvBw2D,EAAWx+E,OAAOiK,OAAOukH,GAC7B5uH,OAAO,SAACC,EAAK+zH,GAAN,OAAqB/zH,EAAIoI,OAAO2rH,IAAa,IACpDh0H,OACA,SAACga,EAAQyjE,GACR,IAAMq1C,EAAc1qG,wBAAaq1D,EAAG01C,6BAOpC,OANAn5G,EAAOjH,MAAQiH,EAAOjH,MAAMnE,IAAIkkH,GAEhC94G,EAAO+5G,QAAQt2C,EAAGowC,eACjB7zG,EAAO+5G,QAAQt2C,EAAGowC,eAAiBjC,GAClCh9G,IAAIkkH,GAEC94G,GAER,CAAEjH,MAAO64G,EAASmI,QAAS,KAGvBA,EAAU3zH,OAAO8mB,QAAQ03D,EAASm1C,SAASnzH,IAAI,SAAA4R,GAAkB,IAAA2U,EAAA/mB,OAAAiR,GAAA,EAAAjR,CAAAoS,EAAA,GAAhBiR,EAAgB0D,EAAA,GAAXnU,EAAWmU,EAAA,GAAA8sG,EACzCl0H,EAAkB0jB,GAAvC3C,EAD8DmzG,EAC9DnzG,SAAUmH,EADoDgsG,EACpDhsG,OAClB,MAAO,CACN3nB,QAASmjB,EACTywG,IAAK/8G,aAAkBnE,EAAMsW,WAAYxI,GACzCmH,SACAksG,aAAY,GAAA9rH,OAAK8O,aAChBnE,EAAMsW,WACNxI,GACA,EACA,GAJW,KAAAzY,OAKP4f,MAIDs1D,EAAO,CAEZxqE,MAAOoE,aACNynE,EAAS7rE,MAAMuW,WACftoB,EAAU8f,UAAY,IACtB,EACA,GAEDwuG,QAAS1wC,EAAS7rE,MAClBghH,WA9CK3f,EAAAr9B,OAAA,SAiDCwG,GAjDD,wBAAA62B,EAAAr+E,SAAAo+E,6BAoDA,SAAeqb,GAAtBjc,GAAA,OAAA6gB,GAAAthH,MAAAwd,KAAApxB,wDAAO,SAAA21G,EAAA1xG,GAAA,IAAAyrH,EAAA1sH,EAAAkrG,EAAArnG,EAAAsuH,EAAAj3G,EAAAgoG,EAAAnlH,EAAAioH,EAAA,OAAA7yF,EAAAp2B,EAAAy2B,KAAA,SAAAo/E,GAAA,cAAAA,EAAArnF,KAAAqnF,EAAAl/E,MAAA,cACNg5F,EADMzrH,EACNyrH,eACA1sH,EAFMiB,EAENjB,OACAkrG,EAHMjqG,EAGNiqG,SACArnG,EAJM5C,EAIN4C,aAJMsuH,EAAAlxH,EAKNia,iBALM,IAAAi3G,EAKM,GALNA,EAAAvf,EAAAl/E,KAAA,EAOesvF,GAAU,CAAEhjH,SAAQkrG,aAPnC,cAOAgY,EAPAtQ,EAAA3tD,KAQAlnD,EAAMG,OAAOiK,OAAOukH,GAAgBhuH,IAA9B,eAAA2S,EAAAnT,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAkC,SAAAi/E,EAAM3C,GAAN,IAAAC,EAAAx5F,EAAA2B,EAAA,OAAAqb,EAAAp2B,EAAAy2B,KAAA,SAAA8+E,GAAA,cAAAA,EAAA/mF,KAAA+mF,EAAA5+E,MAAA,cAAA4+E,EAAA5+E,KAAA,EACpBywF,GAAwB,CAAE9lG,KAAMqxF,EAASwT,WADrB,cACvCvT,EADuC2C,EAAArtD,KAEvC9uC,EAFuCjY,OAAAC,EAAA,EAAAD,CAAA,CAG5CwxG,UACAC,aACA9rG,gBACGqX,GANyCo3F,EAAA5+E,KAAA,EAgBxB+7E,GAAUt5F,GAhBc,cAgBvC2B,EAhBuCw6F,EAAArtD,KAAAqtD,EAAAz9B,OAAA,SAkBtC,CACN/8D,WAnB4C,wBAAAw6F,EAAAz+E,SAAAw+E,MAAlC,gBAAAX,GAAA,OAAArgG,EAAAT,MAAAwd,KAAApxB,YAAA,IARN41G,EAAAl/E,KAAA,EA+BgBmvB,QAAQ9kD,IAAIA,GA/B5B,cA+BAioH,EA/BApT,EAAA3tD,KAAA2tD,EAAA/9B,OAAA,SAiCCmxC,GAjCD,wBAAApT,EAAA/+E,SAAA8+E,6BAoCA,SAAeyf,GAAtB3gB,GAAA,OAAA4gB,GAAAzhH,MAAAwd,KAAApxB,wDAAO,SAAAg2G,EAAA7xG,GAAA,IAAAxB,EAAAo7E,EAAAU,EAAAC,EAAAV,EAAAsxC,EAAAgG,EAAAxzH,EAAAkB,EAAAC,EAAAE,EAAAmR,EAAA45F,EAAA/O,EAAAorB,EAAA3oG,EAAA/a,EAAA2oH,EAAAC,EAAApuG,EAAAquG,EAAArxC,EAAAvjE,EAAA,OAAAqb,EAAAp2B,EAAAy2B,KAAA,SAAAy/E,GAAA,cAAAA,EAAA1nF,KAAA0nF,EAAAv/E,MAAA,cACN/zB,EADMwB,EACNxB,QACAo7E,EAFM55E,EAEN45E,iBACAU,EAHMt6E,EAGNs6E,aACAC,EAJMv6E,EAINu6E,cACAV,EALM75E,EAKN65E,WACAsxC,EANMnrH,EAMNmrH,YANMgG,EAQgBl1H,eAAd0B,EARFwzH,EAQExzH,UACAkB,EAAqBL,EAArBK,OAAQC,EAAaN,EAAbM,SACRE,EAAaH,EAAbG,SAVF8yG,EAAAv/E,KAAA,EAWyC43E,aAAUnrG,GAXnD,cAAAmR,EAAA2hG,EAAAhuD,KAWEimD,EAXF55F,EAWE45F,SAAU/O,EAXZ7qF,EAWY6qF,SAAUorB,EAXtBj2G,EAWsBi2G,SACtB3oG,EAAW9H,SAAS4kE,EAAe,IAEnC73E,EAAe5D,EAAS7B,QAExBouH,EAAavW,sBAAWl7B,EAAkBn8D,GAE1C6tG,EAAa,CAClB5D,iBAAkBhlH,EAClB8nH,aAAc7sH,EAAUV,QACxB6gB,GAAIw8D,EACJtlE,KAAM0mF,GAAMiwB,UAAUC,SAASC,OAAO,CAAChyC,EAAYwxC,KAE9CnuG,EAAO,CAACouG,GAxBRxZ,EAAAv/E,KAAA,GA0BuBu5F,GAAiC,CAC7D5uG,OACAxa,eACAqnG,WACA/O,WACAx8F,UACA4nH,aAhCK,eA0BAmF,EA1BAzZ,EAAAhuD,KAAAguD,EAAAv/E,KAAA,GAmCay5F,GAAyB,CAAET,iBAAgB5tH,cAnCxD,WAmCAu8E,EAnCA43B,EAAAhuD,MAqCFqnE,EArCE,CAAArZ,EAAAv/E,KAAA,gBAAAu/E,EAAAp+B,OAAA,SAsCE,CACNwG,KAAMA,EAAKxqE,MACX8rE,MAAO1nE,aAAkBu3G,EAAY5tG,KAxCjC,eAAAq0F,EAAAv/E,KAAA,GA4Ce45F,GAA0B,CAC9CzpH,eACA6oH,iBACA1sH,SACAkrG,aAhDK,eA4CApzF,EA5CAm7F,EAAAhuD,KAAAguD,EAAAp+B,OAAA,SAmDC,CACN/8D,WApDK,yBAAAm7F,EAAAp/E,SAAAm/E,2CC1nBCvW,GAAad,KAAbc,SACF81B,GAAO,IAAI1H,aAAUpuB,GAASL,KAC9Bo2B,GAAoB,IAAI3H,aAAU4H,IAElCjmH,GAAY,IACZkmH,GAA0B,GAC1BC,GAAyB,OACzBC,GAAuB,CAC5BC,QAAQ,EACRC,OAAO,EACPC,WAAW,EACXC,SAAS,EACTC,WAAW,EACXC,UAAU,GAGLC,GAAqB,KAE3B,SAASC,GAAkBxjB,GAC1B,IAAMyjB,EAAWnvB,KACfG,WAAW,UACX55D,OAAOzvB,KAAKC,UAAU20F,EAAQ9wF,OAC9BwlF,SAEF,OAAO,IAAIgvB,WAAQ,CAClB1oH,MAAOglG,EAAQhlG,MACf41D,QAASovC,EAAQpvC,QACjB+rD,UAAW3c,EAAQjxF,aACnB40G,YAAa3jB,EAAQnwF,cACrBisG,WAAY9b,EAAQ8b,WACpB5gE,WAAY8kD,EAAQ9wF,KAAKgsC,WAAWpsD,IAAI,SAAA8rC,GAAC,OAAIA,EAAEpmC,KAC/C0a,KAAMu0G,IAaR,SAASG,GAAT51H,GAAiE,IAAhC61H,EAAgC71H,EAAhC61H,MAAO70G,EAAyBhhB,EAAzBghB,SAAyB80G,EAAA91H,EAAfi8B,eAAe,IAAA65F,EAAL,EAAKA,EAChE,OAAOzd,sBAAWwd,GAAS,IAAK70G,GAC9B+0G,IAAIztG,wBAAa2T,IACjBzS,WAGH,SAASwsG,GAAiBnrH,EAAUxI,EAAUnB,GAAW,IAChD8f,EAAa9f,EAAb8f,SACFi1G,EAAc,IAAI1oH,YAAS1C,GAEjCorH,EAAYrzD,QAAUvgE,EAAS7B,QAC/By1H,EAAY/zG,QAAUzT,KAAKC,MAC3BunH,EAAYnI,WArBb,SAAuB3rG,EAAYC,GAClC,IAAMkgF,EAASlgF,EAAsBD,EAC/B2rG,EACL1rG,EACArP,KAAKD,IAAIwvF,EAASwyB,GAAyBC,IAE5C,OAAOhiH,KAAKiyC,MAAM8oE,EAAa,KAeNoI,CACxBD,EAAY9zG,WACZ8zG,EAAY7zG,qBAEb6zG,EAAYhE,MAAQ3pG,wBAAa0+E,uBAAY,KAAKx9E,WAClDysG,EAAYtrH,QAAUsrH,EAAYtrH,QAAQ7J,IAAI,SAAAshG,GAAI,OAAI,IAAI10F,UAAO00F,GAAMlhF,OACvE+0G,EAAYp0G,cAAgB+zG,GAAsB,CACjDC,MAAOI,EAAYp0G,cACnBb,aAGD,IAAMksC,EAAa+oE,EAAY/oE,WAAWpsD,IAAI,SAAA8rC,GAC7C,IACMwnF,EADU9rG,wBAAa2tG,EAAYp0G,eAAiB,GAExD6lD,IAAIp/C,wBAAaskB,EAAE8pE,QAAU,IAC7Bqf,IAAIztG,wBAAaskB,EAAE+pE,QAAU,IAC7BntF,WAEI69F,EAAY,CACjB7gH,GAAIomC,EAAEpmC,GACNsF,IAAK8gC,EAAE9gC,IACPsoH,OAOD,OAJIxnF,EAAEgqE,UACLyQ,EAAUzQ,QAAUhqE,EAAEgqE,SAGhByQ,IAGR4O,EAAY/oE,WAAaA,EAEzB,IAAME,EAAa9sD,OAAAC,EAAA,EAAAD,CAAA,GAAQ21H,EAAY7oE,eACjCsB,EAAUpuD,OAAAC,EAAA,EAAAD,CAAA,GAAQ8sD,EAAcO,YAyCtC,OAvCAe,EAAWtiB,IAAMwpF,GAAsB,CACtCC,MAAOnnE,EAAWtiB,IAClBprB,WACAib,QAAS,MAEVyyB,EAAW57C,IAAM8iH,GAAsB,CACtCC,MAAOnnE,EAAW57C,IAClBkO,WACAib,QAAS,MAEVmxB,EAAcO,WAAae,EAG3BunE,EAAY7oE,cAAgBA,EAG5B6oE,EAAYh0G,iBAAmBysC,EAAWtiB,IAC1C6pF,EAAYxvD,iBAAmB/X,EAAW57C,IAE1CmjH,EAAYl1G,aAAe7f,EAAUV,QACrCy1H,EAAYE,gBAAkB,CAC7BC,MAAO,CACN,CACCC,KAAM,CACLJ,EAAYrzD,QACZqzD,EAAY/oE,WAAW,GAAG1mD,GAC1ByvH,EAAY/oE,WAAW,GAAG1mD,KAG5B,CAAE6vH,KAAM,KAAMC,UAAW,CAAEnuH,KAAM,KAAMyG,iBAIzCqnH,EAAYv0G,OAAS,CACpBxF,KAAM,UACNyF,kBAAmB,UACnBnT,YAAaC,KAAKC,OAGZunH,EAGR,IAAMM,GAA8B,eAAA11H,EAAAP,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAC,EAAA/0B,GAAA,IAAAm+F,EAAAmT,EAAAljB,EAAA7oF,EAAA,OAAAsvB,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cACtC+oE,EADsCn+F,EACtCm+F,SACAmT,EAFsCtxG,EAEtCsxG,QACAljB,EAHsCpuF,EAGtCouF,QACA7oF,EAJsCvF,EAItCuF,aAJsC4vB,EAAAmhD,GAM/B1uD,wBAAawmE,GANkBj5D,EAAAC,KAAA,EAO/B+oE,EAASqwB,UAAUsH,iBAAiBxkB,EAAQxrG,GAAIP,GAPjB,cAAA4vB,EAAAmrF,GAAAnrF,EAAAwxB,KAAAxxB,EAAAohD,OAAA,SAAAphD,EAAAmhD,GAMTy4C,IANS9+F,KAAAkF,EAAAmhD,GAAAnhD,EAAAmrF,KAAA,wBAAAnrF,EAAAI,SAAAR,MAAH,gBAAAS,GAAA,OAAAr1B,EAAAmS,MAAAwd,KAAApxB,YAAA,GAW7B,SAAeq3H,GAAtBx4E,GAAA,OAAAy4E,GAAA1jH,MAAAwd,KAAApxB,wDAAO,SAAAq+C,EAAAx8C,GAAA,IAAAgF,EAAA7D,EAAAG,EAAAL,EAAA8B,EAAA66F,EAAA5+F,EAAAU,EAAAg2H,EAAAx2H,EAAAkE,EAAA,OAAAkxB,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,cAA4C7vB,EAA5ChF,EAA4CgF,aAAc7D,EAA1DnB,EAA0DmB,OACxDG,EAAaH,EAAbG,SADFm7C,EAAA5nB,KAAA,EAEiBioF,GAAa,CAAE59G,KAAK,EAAM89G,SAAUh4G,IAFrD,cAEA/D,EAFAw7C,EAAA2J,KAAA3J,EAAA5nB,KAAA,EAGqB43E,aAAUnrG,GAH/B,cAAAyB,EAAA05C,EAAA2J,KAGEw3C,EAHF76F,EAGE66F,SACF5+F,EAAoBH,eACpBa,EAAwBF,eALxBi9C,EAAA5nB,KAAA,GAOoBmvB,QAAQ9kD,IACjC+B,EACE6K,OACA,SAAAilG,GAAO,OACNA,GACAA,EAAQtwF,QACRswF,EAAQtwF,OAAOk1G,sBACf5kB,EAAQtwF,OAAOm1G,kBACfl2H,EAAsBqxG,EAAQjxF,gBAE/BjgB,IAAI,SAAAkxG,GAAW,IACP4kB,EAAyB5kB,EAAQtwF,OAAjCk1G,qBAEFE,EAAgBx2H,OAAO8mB,QAAQwvG,GAAsB12H,OAC1D,SAAC4pH,EAAUpyG,GAAM,IAAAq/G,EAAAz2H,OAAAiR,GAAA,EAAAjR,CACWoX,EADX,GACTlX,EADSu2H,EAAA,GACAjoC,EADAioC,EAAA,GAEhB,IACKvoB,sBAAWhuG,KACdspH,EAAStpH,GAAWsuF,GAEpB,MAAA2gB,IACF,OAAOqa,GAER,IAKD,OAFA9X,EAAQtwF,OAAOk1G,qBAAuBE,EAE/B9kB,IAEPlxG,IAAI,SAAAkxG,GAAW,IAAAglB,EACoChlB,EAAQtwF,OAAnDm1G,EADOG,EACPH,iBAAkBD,EADXI,EACWJ,qBAG1B,MAAO,CACNC,mBACAD,uBACAK,MAJa,IAAIC,KAAYN,GAK7B5kB,aAGDjlG,OAAO,SAAA3I,GAAe,IAAZ6yH,EAAY7yH,EAAZ6yH,MACV,OAAOA,IAAUA,EAAMzM,WAAWvkH,GAAcyoG,WAEhD5tG,IA3CF,eAAA6D,EAAArE,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KA4CE,SAAA8nB,EAAA94C,GAAA,IAAAwtG,EAAA6kB,EAAAD,EAAAK,EAAAnoC,EAAAo9B,EAAAC,EAAAgL,EAAA,OAAA5hG,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAASk8E,EAATxtG,EAASwtG,QAAS6kB,EAAlBryH,EAAkBqyH,iBAAkBD,EAApCpyH,EAAoCoyH,qBAAsBK,EAA1DzyH,EAA0DyyH,MAEnDnoC,EAAUmoC,EAAMzM,WAAWvkH,GAAcujB,WAFhD+zB,EAAAznB,KAAA,EAI2BygG,GAA+B,CACxD13B,WACAmT,UACAljB,UACA7oF,iBARF,cAIOimH,EAJP3uE,EAAA8J,KAWO8kE,EAAuBD,EAAYuD,IACxCnnG,wBAAaroB,EAAkB+xG,EAAQjxF,cAAcqrB,MAGhD+qF,EAAa7uG,wBAAa0pF,EAAQnwF,eACtC4tG,IAAInnG,wBAAa0pF,EAAQ9wF,KAAKgsC,WAAW,GAAGknE,KAAO,IACnD3E,IAAInnG,wBAAa0pF,EAAQ9wF,KAAKgsC,WAAW,GAAGknE,KAAO,IAjBtD72E,EAAA05B,OAAA,SAmBQ,CACN+6B,UACAljB,UACA+nC,mBACA3K,cACAC,uBACAyK,uBACAO,eA1BF,wBAAA55E,EAAAtnB,SAAAqnB,MA5CF,gBAAA+qD,GAAA,OAAA1jG,EAAAqO,MAAAwd,KAAApxB,YAAA,KARK,eAOAu3H,EAPAj5E,EAAA2J,KAoFAlnD,EAAMG,OAAOk2B,OAAPxjB,MAAA1S,OAAM,CACjB,IADiBiI,OAAAjI,OAAAgE,GAAA,EAAAhE,CAEdq2H,EAAY71H,IAAI,SAAA+P,GAAK,IACfmhG,EAAqBnhG,EAArBmhG,QAASljB,EAAYj+E,EAAZi+E,QACTtoF,EAAkDwrG,EAAlDxrG,GAAIqb,EAA8CmwF,EAA9CnwF,cAAed,EAA+BixF,EAA/BjxF,aAAcW,EAAiBswF,EAAjBtwF,OAAQR,EAAS8wF,EAAT9wF,KAC3Ci2G,EAAa7uG,wBAAazG,GAC9B4tG,IAAInnG,wBAAazX,EAAEmhG,QAAQ9wF,KAAKgsC,WAAW,GAAGknE,MAC9C3E,IAAInnG,wBAAazX,EAAEmhG,QAAQ9wF,KAAKgsC,WAAW,GAAGknE,MAC9C5qG,WAEF,OAAOlpB,OAAAs9B,GAAA,EAAAt9B,CAAA,GACLuQ,EAAEmhG,QAAQxrG,GAAGglC,cAAgB,CAC7BhlC,KACAsoF,UACAjtE,gBACAd,eACAo2G,aACAz1G,OAAQA,EAAOxF,KACfvR,QAASuW,EAAKvW,eAMZtG,EAAyBsyH,EAAY5pH,OAAO,SAAAF,GACjD,OACCmoH,GAAqBnoH,EAAEmlG,QAAQtwF,OAAOxF,OACtC,IAAIzN,KAAmD,KAA7C5B,EAAEmlG,QAAQ8b,WAAayH,KAChC9mH,KAAKC,OACN7B,EAAEq/G,YAAYzjG,GACbH,wBAAa3nB,EAAsBkM,EAAEmlG,QAAQjxF,cAAcq2G,eAE5DvqH,EAAEs/G,qBAAqB1jG,GAAGH,wBAAa,QApHnCo1B,EAAAu5B,OAAA,SAwHC,CAAE92E,MAAKkE,2BAxHR,yBAAAq5C,EAAAznB,SAAAwnB,sCA2HQ45E,mFAAf,SAAAz5E,EAAAx8C,GAAA,IAAAk2H,EAAAC,EAAAC,EAAAC,EAAA,OAAAliG,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cAAwCwhG,EAAxCl2H,EAAwCk2H,cAAxCC,EAAAn2H,EAAuDyqH,YAAvD2L,QAAA,IAAAD,EAAqE,GAArEA,GAEGpmH,KAAK,SAACumH,EAAIC,GACV,OAAOrvG,wBAAaqvG,EAAGxL,sBAAsB1jG,GAC5CH,wBAAaovG,EAAGvL,yBAGjBjsH,OACA,SAACqY,EAAM1H,GACN,IAAMyV,EAAOhmB,OAAAC,EAAA,EAAAD,CAAA,GAAQiY,GAMrB,OALI+N,EAAQsxG,IAAI3gB,GAAGqgB,KAClBhxG,EAAQmxG,SAAS5+G,KAAKhI,GACtByV,EAAQsxG,IAAMtxG,EAAQsxG,IAAI9oH,IAAIwZ,wBAAazX,EAAEs7G,wBAGvC7lG,GAER,CAAEsxG,IAAKtvG,wBAAa,GAAImvG,SAAU,KAhB5BA,EADTD,EACSC,SADT55E,EAAAo5B,OAAA,SAoBQwgD,GApBR,wBAAA55E,EAAA5nB,SAAA2nB,6BAuBA,IAAMi6E,GAAyB,SAAAt2H,GAMzB,IALL0E,EAKK1E,EALL0E,aACA6oF,EAIKvtF,EAJLutF,QACA8nC,EAGKr1H,EAHLq1H,qBACAC,EAEKt1H,EAFLs1H,iBACAiB,EACKv2H,EADLu2H,gBAEMb,EAAQ,IAAIC,KAAYN,GACxBmB,EAAQd,EAAMe,SAAS/xH,GACvBgyH,EAAQ3R,oBAASuQ,EAAiB,IAClCqB,EAAQ5R,oBAASuQ,EAAiB,IAGxC,MAAO,CAACiB,EAFKb,EAAMkB,MAAMC,UAEM,CAACH,EAAOC,GAAQH,EAAOjpC,IAGvD,SAASupC,GAAT32H,GAA4E,IAAxC+e,EAAwC/e,EAAxC+e,KAAMxa,EAAkCvE,EAAlCuE,aAAcqyH,EAAoB52H,EAApB42H,iBAAoBnI,EAC5B1vG,EAAKvgB,OACnD,SAACqY,EAAMolE,GACN,IAAMx6D,EAAO7iB,OAAAC,EAAA,EAAAD,CAAA,GAAQiY,GAMrB,OALA4K,EAAQo1G,YAAY1/G,KAAK2/G,cAAWC,gBAAgB96C,EAAGplE,OACvD4K,EAAQitG,sBAAsBzyC,EAAGowC,eAChCx1G,EAAK63G,sBAAsBzyC,EAAGowC,eAAiBzlG,wBAAa,IAC3DxZ,IAAIwZ,wBAAaq1D,EAAGyyC,sBAAsBzyC,EAAGowC,gBAExC5qG,GAER,CAAEo1G,YAAa,GAAInI,sBAAuB,KAVnCmI,EADmEpI,EACnEoI,YAAanI,EADsDD,EACtDC,sBA0BrB,MARmB,CAClBnF,iBAAkBhlH,EAClBob,GAAIpb,EACJsS,KARYq8G,GAAkB1F,UAAUwJ,gBAAgBtJ,OAAO,CAC/DkJ,EACAC,IAOAnI,wBACAwC,qBAAsB2F,EAAYl5H,QAMpC,SAASs5H,GAA4Bt2H,GACpC,OAAOA,GACNA,EAASyB,aACTzB,EAASyB,YAAYI,YACrB7B,EAASyB,YAAYI,WAAWH,2BAChC1B,EAASyB,YAAYI,WAAWH,0BAA0B,GACxD1B,EAASyB,YAAYI,WAAWH,0BAA0B,GAC1D,KAGJ,SAAS60H,GAAaN,GAGrB,OAFaA,GAAgD,IAA5BA,EAAiBj5H,OAKnD,SAASw5H,GAAwBP,GAKhC,OAHCM,GAAaN,IAC8C,IAA3Dp/G,UAAUo/G,EAAiB,GAAI,GAAM/C,KAA6B9mH,KAAKC,MAKlE,SAAeoqH,GAAtBnxB,GAAA,OAAAoxB,GAAA/lH,MAAAwd,KAAApxB,wDAAO,SAAA2+C,EAAAl8C,GAAA,IAAAE,EAAAu1H,EAAAl1H,EAAAC,EAAAwpH,EAAAxkG,EAAAw3E,EAAA54F,EAAA+yH,EAAAv4G,EAAA63G,EAAAW,EAAA,OAAA1jG,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,cAAsC/zB,EAAtCF,EAAsCE,QAASu1H,EAA/Cz1H,EAA+Cy1H,cAC7Cl1H,EAAqBL,EAArBK,OAAQC,EAAaN,EAAbM,SAEVwpH,EAAc1nH,YAAuCzE,eAHrDs+C,EAAAloB,KAAA,EAKqB43E,aAAUtrG,EAAOG,UALtC,cAAA8kB,EAAA22B,EAAAqJ,KAKEw3C,EALFx3E,EAKEw3E,SACF54F,EAAe5D,EAAS7B,QANxBw9C,EAAAloB,KAAA,GAOwBuhG,GAAuB,CACpDC,gBACArxH,eACA4lH,gBAVK,eAOAmN,EAPAh7E,EAAAqJ,KAaA5mC,EAAOu4G,EAAgBl4H,IAAI,SAAC+P,EAAGkD,GAAM,IAEzC6iH,EAMG/lH,EANH+lH,qBACA5kB,EAKGnhG,EALHmhG,QACA6kB,EAIGhmH,EAJHgmH,iBACA3K,EAGGr7G,EAHHq7G,YAEAp9B,EACGj+E,EADHi+E,QAEKgpC,EAAkBtC,GAAkBxjB,GAASknB,kBAE7C3gH,EAAOs/G,GAAuB,CACnC5xH,eACA6oF,UACA8nC,uBACAC,mBACAiB,oBAGD,MAAO,CACN7M,iBAAkBhlH,EAClBob,GAAIw9E,EAASr+F,QACbutH,aAAc/b,EAAQjxF,aACtBxI,OACA63G,sBAAsB9vH,OAAAs9B,GAAA,EAAAt9B,CAAA,GAAI0xG,EAAQjxF,aAAemrG,MAG7CoM,EAAmBK,GAA4Bt2H,GAEjD42H,EAAc,KAEjBA,EADGJ,GAAwBP,GACb,CACbD,GAAyB,CACxB53G,OACAxa,eACAqyH,sBAIY73G,EAAK3f,IAAI,SAAA68E,GAItB,OAHAA,EAAGplE,KAAOo8G,GAAKzF,UAAUuJ,gBAAgBrJ,OAAOzxC,EAAGplE,MACnDolE,EAAGo1C,WAAY,EAERp1C,IAxDH3/B,EAAAi5B,OAAA,SA4DCgiD,GA5DD,yBAAAj7E,EAAA/nB,SAAA8nB,6BA+DP,SAASo7E,GAATj2H,GAA6C,IAAZ4mH,EAAY5mH,EAAZ4mH,SAC1B5oH,EAAYH,eACZiwH,EAAWvvH,eAF2BsoH,EAGED,EAAS5pH,OACtD,SAACk5H,EAAOtqC,GAcP,OAXCkiC,GACAA,EAASxwH,SACTsuF,EAAQ9nE,MAAMxmB,UAAYU,EAAUV,SAEpCsuF,EAAQ9nE,MAAMxmB,UAAYwwH,EAASxwH,UAEnC44H,EAAMC,oBAAsBD,EAAMC,oBAAoBvqH,IACrDggF,EAAQw6B,kBAET8P,EAAME,aAAaxqC,EAAQ9nE,MAAMxmB,SAAWsuF,EAAQA,SAE9CsqC,GAER,CACCC,oBAAqB/wG,wBAAa,GAClCgxG,aAAc,KAIhB,MAAO,CAAEA,aA1BmCvP,EAGpCuP,aAuBeD,oBA1BqBtP,EAGtBsP,qBA4BhB,SAAehH,GAAtBtqB,GAAA,OAAAwxB,GAAAvmH,MAAAwd,KAAApxB,wDAAO,SAAAu0G,EAAAtwG,GAAA,IAAAisH,EAAAvtH,EAAAy3H,EAAAC,EAAA3P,EAAAG,EAAAyP,EAAAC,EAAAC,EAAAN,EAAAD,EAAA,OAAA9jG,EAAAp2B,EAAAy2B,KAAA,SAAAg+E,GAAA,cAAAA,EAAAjmF,KAAAimF,EAAA99E,MAAA,UACNw5F,EADMjsH,EACNisH,wBACAvtH,EAFMsB,EAENtB,QAEMy3H,EAASlxG,wBAAagnG,GAJtBmK,EAQF13H,EAAQoB,MAAMK,IAAI4nH,uCAFrBtB,EANK2P,EAML3P,SACAG,EAPKwP,EAOLxP,iBAGGyP,EAAsBpxG,wBAAa2hG,GAEjC0P,EAAY,CACjBnI,UAAW,GACXE,mBAAoB,IAGjB8H,EAAO/wG,GAAGixG,KAAsBE,EAEWT,GAAsB,CACnErP,WACA+P,wBAAyBL,EAAO/J,IAAIiK,KAF7BJ,EAF2BM,EAE3BN,aAAcD,EAFaO,EAEbP,oBAKtBM,EAAUjI,mBAAqB4H,EAC/BI,EAAsBA,EAAoB5qH,IAAIuqH,KAG3CG,EAAO/wG,GAAGixG,GA5BR,CAAA9lB,EAAA99E,KAAA,gBAAA89E,EAAA99E,KAAA,EA6BuBgjG,GAAqB,CAChD/2H,UACAu1H,cAAekC,EAAO/J,IAAIiK,KA/BtB,OA6BLC,EAAUnI,UA7BL5d,EAAAvsD,KAAA,eAAAusD,EAAA38B,OAAA,SAmCC0iD,GAnCD,yBAAA/lB,EAAA39E,SAAA09E,6BAkDA,SAAemmB,GAAtB9xB,GAAA,OAAA+xB,GAAA/mH,MAAAwd,KAAApxB,wDAAO,SAAA40G,EAAAtwG,GAAA,IAAAmH,EAAA9I,EAAA2sH,EAAAsL,EAAA53H,EAAAC,EAAAc,EAAAi6B,EAAA3pB,EAAA65F,EAAAzO,EAAAN,EAAAorB,EAAAzoH,EAAA2gB,EAAAo4G,EAAAC,EAAAC,EAAAnoB,EAAA/rG,EAAA8nH,EAAAuK,EAAA8B,EAAA35G,EAAA45G,EAAA1G,EAAA2G,EAAAxL,EAAAp7G,EAAAT,EAAAu8G,EAAA1D,EAAAiD,EAAAwL,EAAAC,EAAAtgH,EAAAugH,EAAA,OAAAllG,EAAAp2B,EAAAy2B,KAAA,SAAAq+E,GAAA,cAAAA,EAAAtmF,KAAAsmF,EAAAn+E,MAAA,cACNjrB,EADMnH,EACNmH,SACA9I,EAFM2B,EAEN3B,QACA2sH,EAHMhrH,EAGNgrH,YACAsL,EAJMt2H,EAINs2H,WAEQ53H,EAA4BL,EAA5BK,OAAQC,EAAoBN,EAApBM,SAAUc,EAAUpB,EAAVoB,MAClBi6B,EAAsCj6B,EAAMK,IAA5C45B,kCAPF62E,EAAAn+E,KAAA,EAQmD43E,aACxDtrG,EAAOG,UATF,UAAAkR,EAAAwgG,EAAA5sD,KAQEimD,EARF75F,EAQE65F,SAAUzO,EARZprF,EAQYorF,SAAUN,EARtB9qF,EAQsB8qF,SAAUorB,EARhCl2G,EAQgCk2G,SAIhCzoH,EAAYU,eACZigB,EAAgBm4G,EACnB58F,EACAi7E,sBAAWxtG,EAASgX,cAAe3gB,EAAU8f,UAAUwI,WAEpDywG,EAAgBjE,GAAiBnrH,EAAUxI,EAAUnB,GACrDg5H,EAAYD,EAAcC,UAC1BC,EAAa3E,GAAkB0E,GAC/BloB,EApBA1xG,OAAAC,EAAA,EAAAD,CAAA,GAqBF45H,EArBE,CAsBL1zH,GAAI2zH,EAAW9T,QAAQxnB,EAASr+F,WAE3ByF,EAAei0H,EAAUt3D,QACzBmrD,EAAe7sH,EAAUV,QAEzB83H,EAAmBK,GAA4Bt2H,GAC/C+3H,EAAyBxB,GAAaN,GAEtC73G,EAAO,IAET25G,EAhCE,CAAAnmB,EAAAn+E,KAAA,SAiCCukG,EAAwB,CAC7BpP,iBAAkBhlH,EAClB8nH,aAAcA,EACd1sG,GAAIpb,EACJsS,KAAMq8G,GAAkB1F,UAAUwL,YAAYtL,OAAO,CACpDvwB,EAASr+F,QACT25H,EAAWjB,oBAEZpG,iBAAkB,GAEnBryG,EAAK5H,KAAKwhH,GA3CLpmB,EAAAn+E,KAAA,wBAAAm+E,EAAAn+E,KAAA,GA6CqBy9F,GAAe,CACxC5J,WACA3iG,MAAO9lB,EACP+E,eACA8nH,aAAc7sH,EAAUV,QACxBizH,kBAAmB50B,EAASr+F,QAC5BkzH,cAAe7xG,IAnDX,QA6CC8xG,EA7CD1f,EAAA5sD,KAsDCizE,EAAgB,CACrBrP,iBAAkBhlH,EAClB8nH,aAAcA,EACd1sG,GAAIw9E,EAASr+F,QACb+X,KAAMo8G,GAAKzF,UAAUwL,YAAYtL,OAAO,CAAC+K,EAAWjB,qBAErDz4G,EAAK5H,KAAL7F,MAAAyN,EAAIngB,OAAAgE,GAAA,EAAAhE,CAASqzH,GAATprH,OAAA,CAAsB+xH,KA5DrB,eAAArmB,EAAAn+E,KAAA,GA+DuBu5F,GAAiC,CAC7DC,wBAAyBztG,EACzBpB,OACAxa,eACAqnG,WACA/O,WACAx8F,UACA4nH,aAtEK,eA+DAmF,EA/DA7a,EAAA5sD,KAAA4sD,EAAAn+E,KAAA,GAyE2By5F,GAAyB,CAAET,mBAzEtD,WAAAp7G,EAAAugG,EAAA5sD,KAyEEp0C,EAzEFS,EAyEET,MAAOu8G,EAzET97G,EAyES87G,QACT1D,EAAUxjG,wBAAa,GACvBymG,EAAYzmG,wBAAa8U,GACzBm9F,EAAexL,EAAUU,IAAID,GAASvY,GAAG6U,GAC5CA,EACAiD,EAAUU,IAAID,GACXgL,EAAwBnjH,aAC7BkjH,EAAa/wG,WACbtoB,EAAU8f,UAAY,IACtB,EACA,IAGG0tG,EAtFE,CAAAza,EAAAn+E,KAAA,gBAAAm+E,EAAAh9B,OAAA,SAuFE,CACNxmB,cAAex9C,EACfwqE,KAAM+xC,EACN+K,eACAC,0BA3FI,eAAAvmB,EAAAn+E,KAAA,GA+Fe45F,GAA0B,CAC9CzpH,eACA6oH,iBACA1sH,SACAkrG,WACAhwF,UAAW,CAAE00F,aApGR,eA+FA93F,EA/FA+5F,EAAA5sD,KAuGN4yE,EAAczzH,GAAKwrG,EAAQxrG,IACrBi0H,EAxGAn6H,OAAAC,EAAA,EAAAD,CAAA,GAwGqB25H,IACb/4G,KAAd5gB,OAAAC,EAAA,EAAAD,CAAA,GAA0B45H,EAAUh5G,MAzG9B+yF,EAAAh9B,OAAA,SA0GC,CACN/8D,SACAugH,kBA5GK,yBAAAxmB,EAAAh+E,SAAA+9E,6BAgHA,SAAe2mB,GAAtBvyB,GAAA,OAAAwyB,GAAA5nH,MAAAwd,KAAApxB,wDAAO,SAAAi1G,EAAAxwG,GAAA,IAAA9B,EAAA8I,EAAAqP,EAAA,OAAAqb,EAAAp2B,EAAAy2B,KAAA,SAAA0+E,GAAA,cAAAA,EAAA3mF,KAAA2mF,EAAAx+E,MAAA,cAA8B/zB,EAA9B8B,EAA8B9B,QAAS8I,EAAvChH,EAAuCgH,SAAvCypG,EAAAx+E,KAAA,EACesxC,GAAc,CAAErlE,UAAS8I,aADxC,cACAqP,EADAo6F,EAAAjtD,KAAAitD,EAAAr9B,OAAA,SAEC/8D,GAFD,wBAAAo6F,EAAAr+E,SAAAo+E,+DCnoBA,SAAewmB,KAAtB,OAAAC,GAAA9nH,MAAAwd,KAAApxB,wDAAO,SAAAk+C,IAAA,IAAAqpB,EAAA3lD,EAAAooG,EAAAuN,EAAAz0H,EAAA64H,EAAAC,EAAA,OAAAzlG,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAAA6wC,EACe5lE,eAAbigB,EADF2lD,EACE3lD,SACFooG,EAAiB3oH,eAFjB88C,EAAAznB,KAAA,EAGoBioF,KAHpB,cAGA4Y,EAHAp5E,EAAA8J,KAKAnlD,EAAWy0H,EAAY5pH,OAC5B,SAAAilG,GAAO,QAAMoX,EAAepX,EAAQjxF,gBAG/Bg6G,EAAc74H,EAAShC,OAAO,SAACmT,EAAO2+F,GAC3C,IAAMjiG,EAAMzP,OAAAC,EAAA,EAAAD,CAAA,GAAQ+S,GAMpB,OALA2+F,EAAQ9wF,KAAKvW,QAAQsF,QAAQ,SAAAmyF,GAC5BryF,EAAOqyF,EAAKj6F,MAAQ4H,EAAOqyF,EAAKj6F,OAAS,GACzC4H,EAAOqyF,EAAKj6F,MAAM0Q,KAAKm5F,KAGjBjiG,GACL,IAEGirH,EAAmB16H,OAAOma,KAAKsgH,GAAa76H,OAAzB,eAAAF,EAAAM,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KACxB,SAAAC,EAAOwlG,EAAWt3G,GAAlB,IAAAxgB,EAAA+3H,EAAAC,EAAAryG,EAAAJ,EAAAspF,EAAA/vF,EAAAJ,EAAAu5G,EAAA7yG,EAAA8yG,EAAA,OAAA9lG,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACqBmlG,EADrB,OACO93H,EADP0yB,EAAAwxB,KAEO6zE,EAAiBH,EAAYp3G,GAE/Bw3G,EAAqB7yG,wBAAa,KAClCQ,EAAcR,wBAAa,KAEtBI,EAAQ,EAPlB,YAOqBA,EAAQwyG,EAAe77H,QAP5C,CAAAw2B,EAAAC,KAAA,gBAQQk8E,EAAUkpB,EAAexyG,GARjCmN,EAAAC,KAAA,GAUiC0zF,GAAsB,CACpDxiG,MAAOoiG,EAAepX,EAAQjxF,cAC9B+tE,QAASxmE,wBAAa0pF,EAAQ9wF,KAAKe,oBAZtC,eAUQA,EAVR4T,EAAAwxB,KAAAxxB,EAAAC,KAAA,GAc8B0zF,GAAsB,CACjDxiG,MAAOoiG,EAAepX,EAAQjxF,cAC9B+tE,QAASxmE,wBAAa0pF,EAAQnwF,iBAhBjC,QAcQA,EAdRgU,EAAAwxB,KAmBE8zE,EAAqBA,EAAmBrsH,IAAImT,GAC5C6G,EAAcA,EAAYha,IAAI+S,GApBhC,QAOoD6G,IAPpDmN,EAAAC,KAAA,uBAuBOslG,EAAmBD,EAAmBpF,IAC3CztG,wBAAa4yG,EAAe77H,SAEvBkpB,EAAS6yG,EAAiB1zD,IAAIp/C,wBAAa,UAE3C+yG,EA5BP/6H,OAAAC,EAAA,EAAAD,CAAA,GA4B0B6C,IACbwgB,GAAO,GACnB03G,EAAY13G,GAAKngB,IAAM,CACtBslB,cACAsyG,mBACA7yG,UAGD8yG,EAAY13G,GAAKhgB,UAAY,CAC5BmlB,YAAazR,aAAkByR,EAAa9H,GAAU,EAAO,GAC7Do6G,iBAAkB/jH,aACjB+jH,EACAp6G,GACA,EACA,GAEDuH,OAAQlR,aAAkBkR,EAAQvH,GAAU,EAAO,IA5CrD6U,EAAAohD,OAAA,SA+CQokD,GA/CR,yBAAAxlG,EAAAI,SAAAR,MADwB,gBAAAS,EAAA+nB,GAAA,OAAAj+C,EAAAgT,MAAAwd,KAAApxB,YAAA,GAkDxB6lD,QAAQC,QAAQ,KArEX3H,EAAA05B,OAAA,SAwEC+jD,GAxED,wBAAAz9E,EAAAtnB,SAAAqnB,6BCiCP,IAAM6jC,GAAsBv6E,6CAEtB00H,GAAkB,SAAAt7H,GAAyB,IAAtB4O,EAAsB5O,EAAtB4O,UAAWvJ,EAAWrF,EAAXqF,KAC/Bk2H,EAAc,GAepB,OAbA7xB,KAAgCz5F,QAAQ,SAAAgG,GAAS,OAChDwzF,KAA4Bx5F,QAAQ,SAAAiG,GAAM,OACzCqlH,EAAY1iH,KAAZvY,OAAAC,EAAA,EAAAD,CAAA,CACC4V,SACAtH,YACAvJ,OACA4Q,aACa,kBAAT5Q,GACQ,iBAAX6Q,GAA6B,CAAEyyG,kBAAkB,SAK9C4S,GAGFC,GAA2B,WAChC,IAAMD,EAAc,GAIpB,OAHA7xB,KAAgCz5F,QAAQ,SAAAgG,GAAS,OAChDslH,EAAY1iH,KAAK,CAAE5C,gBAEbslH,GAGR,SAASE,GAAT/6H,GAKG,IAJF+V,EAIE/V,EAJF+V,KACAkgH,EAGEj2H,EAHFi2H,YACA+E,EAEEh7H,EAFFg7H,UACAtS,EACE1oH,EADF0oH,eAEA,IAAK9oH,OAAOma,KAAKk8G,GAAat3H,OAC7B,MAAO,GAFN,IAAAs8H,EAM4BllH,EAC5BtF,KAAK,SAAChS,EAAGI,GAAJ,OAAUA,EAAEoY,KAAOxY,EAAEwY,OAC1BzX,OACA,SAACqY,EAAMpZ,GAAM,IACJwY,EAASxY,EAATwY,KACAikH,EAAgCrjH,EAAhCqjH,aAAc15H,EAAkBqW,EAAlBrW,SAAU/B,EAAQoY,EAARpY,IAC1BkmB,EAAYlnB,EAAEknB,UAAUmlB,cAHlB3qC,EAMX81H,EAAYtwG,IAAc,GADnBxE,EALIhhB,EAKJghB,cAAes1G,EALXt2H,EAKWs2H,WAAYp2G,EALvBlgB,EAKuBkgB,aAAcW,EALrC7gB,EAKqC6gB,OALrCm6G,EAQsBzS,EAAeroG,GAAzCq2G,EARIyE,EAQJzE,YAAa7N,EARTsS,EAQStS,SACbn9E,EAAQsvF,EAAU36G,GAAlBqrB,IAEF0vF,EADuB,YAAXp6G,EACa6nG,EAAW6N,EAEpC9wG,EAAUpkB,EAASmkB,IAAc,CAAE5P,KAAM,IAEzCvD,EAAQoV,wBAAanpB,EAAE+T,OAAS,GACpCw0D,IAAIp/C,wBAAa6uG,GAAc,IAC/BpB,IAAIztG,wBAAazG,GAAiB,IAEpCyE,EAAQ7P,KAAKoC,KAAK,CAAE3F,QAAOyE,SAE3B,IAAMokH,EAAcH,EAAajkH,IAAS,CACzCA,OACAzE,MAAOoV,wBAAa,IAEf0zG,EAAsB1zG,wBAAahC,EAAQpT,OAAS,GAAGpE,IAAIoE,GAE3D+oH,EAAgBD,EAAoBvzG,GAAGH,wBAAawzG,IACpDI,EAAmBH,EAAY7oH,MAIrC,GAFAoT,EAAQpT,MAAQ8oH,EAEZC,IAAkB31G,EAAQ61G,cAAe,CAC5C71G,EAAQ61G,eAAgB,EAKxB,IAJA,IAAMC,EAAmBJ,EAAoBvM,IAAInnG,wBAAa8jB,IACxDiwF,EAAe/zG,wBAAa,GAC5Bg0G,EAASh2G,EAAQ7P,KAEdiS,EAAQ4zG,EAAOj9H,OAAS,EAAGqpB,GAAS,EAAGA,IAAS,CACxD,IAAMurE,EAAQqoC,EAAO5zG,GACrB2zG,EAAavtH,IAAImlF,EAAM/gF,OAEvB,IAAMqpH,EAAeX,EAAa3nC,EAAMt8E,OAAS,CAChDA,OACAzE,MAAOoV,wBAAa,IAGjB+zG,EAAaplB,GAAGmlB,IACnBG,EAAarpH,MAAQqpH,EAAarpH,MAAMpE,IAAImlF,EAAM/gF,OAClD0oH,EAAa3nC,EAAMt8E,MAAQ4kH,GAE3BA,EAAarpH,MAAQqpH,EAAarpH,MAAMpE,IACvCutH,EAAa5M,IAAI2M,IAEnBR,EAAa3nC,EAAMt8E,MAAQ4kH,EAC3B,YAESN,GAAiB31G,EAAQ61G,gBACnCJ,EAAY7oH,MAAQA,EAAMpE,IAAIotH,IAO/B,OAJAh6H,EAASmkB,GAAaC,EACtBs1G,EAAajkH,GAAQokH,EACrB57H,EAAIwX,GAAQxY,EAAE+T,OAAS/S,EAAIwX,GAEpB,CAAEikH,eAAc15H,WAAU/B,QAElC,CAAEy7H,aAAc,GAAI15H,SAAU,GAAI/B,IAAK,KAtEjCy7H,EANND,EAMMC,aAAcz7H,EANpBw7H,EAMoBx7H,IAmFtB,OAT2BG,OAAOiK,OAAOqxH,GAAc96H,IACtD,SAAAG,GAAqB,IAAlB0W,EAAkB1W,EAAlB0W,KAAMzE,EAAYjS,EAAZiS,MAIR,MAAO,CAAEyE,OAAMzE,WAFA5T,IAAda,EAAIwX,IACH2Q,wBAAapV,GAAOw7F,UAA0B,MAAdvuG,EAAIwX,GACP,KAAOzE,KAOlC,IAAM0jE,GAAkC,kBAAM,SAAC7jD,EAAUrzB,GAC/D,OAAO6hG,GAAuBxuE,EAAUrzB,KAG5B6hG,GAAyBi7B,KAAQ,eAAAp7H,EAAAd,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAC7C,SAAA8nB,EAAevqB,EAAUrzB,GAAzB,IAAAD,EAAAsC,EAAAsD,EAAAuJ,EAAA+nH,EAAAvpB,EAAAtkG,EAAAI,EAAAwyH,EAAAtS,EAAArd,EAAA2c,EAAAjvE,EAAAgjF,EAAAtmH,EAAAumH,EAAAC,EAAA,OAAApnG,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cACC8mG,KAA6B7pG,GACvBtzB,EAAQC,IACRqC,EAAUD,YAAcrC,GACxB4F,EAAOiD,YAAwB7I,GAC/BmP,EAAYpG,aAAqC/I,GACjDk3H,EAAcpyH,YAAkC9E,GANvD2tG,EAOwBzkG,aAAkClJ,GAAjDqJ,EAPTskG,EAOStkG,MAAOI,EAPhBkkG,EAOgBlkG,IACTwyH,EAAY57H,aAAwBL,GACpC2pH,EAAiB3oH,aAA4BhB,GATpD89C,EAAA5vB,KAAA,EAWQo+E,EAAU9vB,EAAS,CACxB9zE,KAAM,UACNkU,MAAOrS,aAAU,wBACjB+nB,SAAS,EACTE,YAAY,EACZN,KAAK,GALUsqD,CAMblpD,GAjBLwqB,EAAAznB,KAAA,GAmB2BwxF,GAAsB,CAC9CC,YAAapmC,GACbp/E,YArBH,eAmBQ2mH,EAnBRnrE,EAAA8J,KAwBEr2B,EAAY+6E,EAAZ/6E,CAAqB+B,GAErB8pG,GAA0B,CACzBC,QAAQx8H,OAAAs9B,GAAA,EAAAt9B,CAAA,GAAI6gF,GAAsBunC,IADnCmU,CAEG9pG,EAAUrzB,GAEP+5C,EAAS6hF,GAAgB,CAAE1sH,YAAWvJ,SACxCo3H,GAAiB,EACftmH,EAAgBxH,YAA6BlP,GAC7Ci9H,EAAkBvmH,IAAkBrN,EACpC6zH,EAAeljF,EAAO34C,IAAP,eAAAS,EAAAjB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAW,SAAAC,EAAMjsB,GAAN,IAAAuzH,EAAAhkH,EAAAH,EAAA,OAAA2c,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,OAAAinG,EACF7kH,aAAqBzY,EAADa,OAAAC,EAAA,EAAAD,CAAA,GAC7CkJ,IADIuP,EADuBgkH,EACvBhkH,SAAUH,EADamkH,EACbnkH,QAId8jH,GAAuC,IAApB3jH,EAAS1Z,QAAkC,IAAlBuZ,EAAOvZ,SACtDopH,GAAkBnoH,OAAAC,EAAA,EAAAD,CAAA,GACdkJ,EADa,CAEhBV,QACAI,MACAw/G,gBAEC3wB,KAAK,SAAAr2F,GAA4B,IAAzBknH,EAAyBlnH,EAAzBknH,WAAY1yG,EAAaxU,EAAbwU,OACd8mH,EACI,kBAAT33H,GAAuC,iBAAX6Q,EAEzBO,EAAOumH,EACRvB,GAAuB,CACvBhlH,KAAMmyG,EAAWnyG,KACjBkgH,cACA+E,YACAtS,mBAEAR,EAAWnyG,KACRstF,EAAgBi5B,EAAwB,KAAO,EAErDpU,EAAWnyG,KAAOmtF,YACjBntF,EACA7H,EACA,EACAm1F,EACA,CACCj7F,QACAI,SAGFuzH,EACCA,GAAkBQ,GAAiBv9H,EAAUqC,KAG7CgxB,EAASzyB,OAAAC,EAAA,EAAAD,CAAA,CACR6H,KAAM6H,KACHxG,EAFI,CAGP21F,UAAWhpF,IAAkBrN,EAAQ,OAASA,EAC9CoK,MAAM5S,OAAAC,EAAA,EAAAD,CAAA,GAAMsoH,QAId2C,MAAM,SAAA98F,GACNI,QAAQqB,MAAM,uBAAwBzB,KAjDV,wBAAAoH,EAAAI,SAAAR,MAAX,gBAAA0rE,GAAA,OAAA5/F,EAAAyR,MAAAwd,KAAApxB,YAAA,IAlCvBm+C,EAAAznB,KAAA,GAuFQmvB,QAAQ9kD,IAAIw8H,GAvFpB,QAAAp/E,EAAAznB,KAAA,iBAAAynB,EAAA5vB,KAAA,GAAA4vB,EAAAy5B,GAAAz5B,EAAA,SAyFE1uB,QAAQqB,MAAM,gBAAdqtB,EAAAy5B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOrS,aAAU,gBAAiB,CAAEH,KAAM,CAACuhG,EAAW7tD,EAAAy5B,OACtDjlD,QAAS,KAHVkqD,CAIGlpD,GA9FL,yBAAAwqB,EAAAtnB,SAAAqnB,EAAA,kBAD6C,gBAAApnB,EAAA+nB,GAAA,OAAA78C,EAAA4R,MAAAwd,KAAApxB,YAAA,GAkG7C,IACA,CAAE89H,SAAS,EAAOC,UAAU,IAGtB,SAASz7B,KACf,sBAAA7/F,EAAAvB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAooB,EAAe7qB,EAAUrzB,GAAzB,IAAAqC,EAAAgqG,EAAA2c,EAAAjvE,EAAAgjF,EAAAE,EAAApkH,EAAA,OAAAgd,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cACE/zB,EAAYrC,IAAWC,QAAvBoC,QADF87C,EAAAlwB,KAAA,EAGCo+E,EAAU9vB,EAAS,CACxB9zE,KAAM,UACNkU,MAAOrS,aAAU,wBACjB+nB,SAAS,EACTE,YAAY,EACZN,KAAK,GALUsqD,CAMblpD,GATE8qB,EAAA/nB,KAAA,EAWoBwxF,GAAsB,CAC9CC,YAAapmC,GACbp/E,YAbI,cAWC2mH,EAXD7qE,EAAAwJ,KAgBLr2B,EAAY+6E,EAAZ/6E,CAAqB+B,GAErB8pG,GAA0B,CACzBC,QAAQx8H,OAAAs9B,GAAA,EAAAt9B,CAAA,GAAI6gF,GAAsBunC,IADnCmU,CAEG9pG,EAAUrzB,GAEP+5C,EAAS+hF,KACXiB,GAAiB,EACfE,EAAeljF,EAAO34C,IAAP,eAAAoC,EAAA5C,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAW,SAAAioB,EAAMj0C,GAAN,IAAA0J,EAAA,OAAAqiB,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,cAAA4nB,EAAA/vB,KAAA,EAAA+vB,EAAA5nB,KAAA,EAEV+yF,GAA0BvoH,OAAAC,EAAA,EAAAD,CAAA,GAC1CkJ,EADyC,CAE5Ck/G,gBAJ6B,cAExBx1G,EAFwBwqC,EAAA2J,KAO9Bo1E,EAAiBA,GAAkBQ,GAAiBv9H,EAAUqC,GAPhC27C,EAAAu5B,OAAA,SASvB,CAAEztE,OAAM0J,UATe,cAAAwqC,EAAA/vB,KAAA,EAAA+vB,EAAAs5B,GAAAt5B,EAAA,SAW9B7uB,QAAQqB,MAAM,gCAAdwtB,EAAAs5B,IAX8Bt5B,EAAAu5B,OAAA,SAYvB,MAZuB,yBAAAv5B,EAAAznB,SAAAwnB,EAAA,iBAAX,gBAAAuqD,GAAA,OAAA9kG,EAAA8P,MAAAwd,KAAApxB,YAAA,IAxBhBy+C,EAAA/nB,KAAA,GAwCcmvB,QAAQ9kD,IAAIw8H,GAxC1B,QAwCCpkH,EAxCDslC,EAAAwJ,KA0CAo1E,GACJlkH,EACExL,OAAO,SAAAF,GAAC,QAAMA,IACdoD,QAAQ,SAAA5M,GAAA,IAAGmG,EAAHnG,EAAGmG,KAAM0J,EAAT7P,EAAS6P,MAAT,OACR6f,EAASzyB,OAAAC,EAAA,EAAAD,CAAA,CACR6H,KAAM6H,KACHxG,EAFI,CAGP0J,aAjDC2qC,EAAA/nB,KAAA,iBAAA+nB,EAAAlwB,KAAA,GAAAkwB,EAAAm5B,GAAAn5B,EAAA,SAsDLhvB,QAAQqB,MAAM,yBAAd2tB,EAAAm5B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOrS,aAAU,yBAA0B,CAC1CH,KAAM,CAACuhG,EAAWvtD,EAAAm5B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GA7DE,yBAAA8qB,EAAA5nB,SAAA2nB,EAAA,kBAAP,gBAAA+pD,EAAAI,GAAA,OAAAlmG,EAAAmR,MAAAwd,KAAApxB,YAAA,GAkEM,SAASulE,GAAe16C,EAAWC,GACzC,sBAAA3mB,EAAAjD,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAuoB,EAAehrB,EAAUrzB,GAAzB,IAAAD,EAAAsC,EAAAq7H,EAAAC,EAAAC,EAAA5U,EAAA6U,EAAAC,EAAAC,EAAArzG,EAAAszG,EAAA1yH,EAAAiP,EAAAlG,EAAAmG,EAAAyjH,EAAA,OAAApoG,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,cACAr2B,EAAQC,IACNqC,EAAYtC,EAAME,QAAlBoC,QAFFi8C,EAAArwB,KAAA,EAAAqwB,EAAAloB,KAAA,EAICu1E,EAAcnnC,MAA6B,EAA3CmnC,CAAiDt4E,GAJlD,cAKCqqG,EAAgB5iH,aAAqC/a,GACrD49H,EAAerzG,aAAkBC,EAAWC,GAC5CozG,EAAeD,EACnBtwH,OAAO,SAAAxD,GAAG,OAAK6zH,EAAc3sH,SAASlH,KACtC4H,OATG6sC,EAAAloB,KAAA,GAWoBwxF,GAAsB,CAC9CC,YAAapmC,GACbp/E,YAbI,WAWC2mH,EAXD1qE,EAAAqJ,KAeLw1E,GAA0B,CACzBC,QAAQx8H,OAAAs9B,GAAA,EAAAt9B,CAAA,GAAI6gF,GAAsBunC,IADnCmU,CAEG9pG,EAAUrzB,KAET49H,EAAaj+H,OAAS,GAnBrB,CAAA2+C,EAAAloB,KAAA,SA0BJ,IANkB,QACJ,IACRynG,EAAW,GACXC,EAAkBF,EAAa,GAC/BG,EAAgBH,EAAaA,EAAaj+H,OAAS,GAGpD+qB,EAAIC,KAAOmzG,GACfpzG,EAAEE,KAAKmzG,IAAkB,EACzBrzG,EAAEtb,IARW,IAQA,OAEbyuH,EAAS1kH,KACRiwG,GAAmB,CAClBJ,aACA95G,UAde,QAef+5F,MAdW,IAeXtjG,KAAM,gBACN4Q,UAAW,aACXC,OAAQ,cACRpN,OAAQuhB,KAAOmzG,GACft0H,KAAMmhB,KAAOozG,GAAe/yG,MAAM,WAEnCo+F,GAAmB,CAClBJ,aACA95G,UAxBe,QAyBf+5F,MAxBW,IAyBXtjG,KAAM,gBACN4Q,UAAW,aACXC,OAAQ,eACRpN,OAAQuhB,KAAOmzG,GACft0H,KAAMmhB,KAAOozG,GAAe/yG,MAAM,YAlDjC,OAAAszB,EAAAloB,KAAA,GAsD2BmvB,QAAQ9kD,IAAIo9H,GAtDvC,QAyDJ,IAHMG,EAtDF1/E,EAAAqJ,KAuDAr8C,EAAc,GACdiP,EAAU,GACLlG,EAAI,EAAGA,EAAI2pH,EAAiBr+H,OAAQ0U,GAAK,EACjD/I,EAAW,GAAAzC,OAAAjI,OAAAgE,GAAA,EAAAhE,CAAO0K,GAAP1K,OAAAgE,GAAA,EAAAhE,CAAuBo9H,EAAiB3pH,GAAG0C,OACtDwD,EAAO,GAAA1R,OAAAjI,OAAAgE,GAAA,EAAAhE,CAAO2Z,GAAP3Z,OAAAgE,GAAA,EAAAhE,CAAmBo9H,EAAiB3pH,EAAI,GAAG0C,OAE7CyD,EAAS,GAETyjH,EAAoB,SAAA10H,GAAI,OAAKohB,KAAOphB,GAAM4F,QAAQ,UACxDyuH,EAAartH,QAAQ,SAAAhH,GACpB,IAAM20H,EAAQD,EAAkB10H,GAC3BiR,EAAO0jH,KACX1jH,EAAO0jH,GAAS,MAGlB5yH,EAAYiF,QAAQ,SAACG,EAAM2D,GAC1B,IAAM6pH,EAAQD,EAAkBvtH,EAAKuH,MACjCuC,EAAO0jH,KACV1jH,EAAO0jH,GAAOxtH,EAAKuH,MAAQ,CAC1B3M,YAAaoF,EAAK8C,MAClB+G,QAASA,EAAQlG,GAAGb,UAIvB6f,EAAS,CACR5qB,KAAM6H,IACNkD,MAAM5S,OAAAC,EAAA,EAAAD,CAAA,GACF4Z,KAlFD,eAAA8jC,EAAAloB,KAAA,GAsFCu1E,EAAcnnC,MAA6B,EAA3CmnC,CAAkDt4E,GAtFnD,QAAAirB,EAAAloB,KAAA,iBAAAkoB,EAAArwB,KAAA,GAAAqwB,EAAAg5B,GAAAh5B,EAAA,SAwFLnvB,QAAQgvG,IAAR7/E,EAAAg5B,IAxFK,yBAAAh5B,EAAA/nB,SAAA8nB,EAAA,kBAAP,gBAAAqqD,EAAAC,GAAA,OAAA9kG,EAAAyP,MAAAwd,KAAApxB,YAAA,GA6FM,SAASy9F,KACf,sBAAAn5F,EAAApD,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAm+E,EAAe5gF,EAAUrzB,GAAzB,OAAA61B,EAAAp2B,EAAAy2B,KAAA,SAAAg+E,GAAA,cAAAA,EAAAjmF,KAAAimF,EAAA99E,MAAA,cAAA89E,EAAA38B,OAAA,SACClkD,EAAS,CACf5qB,KAAM6H,OAFD,wBAAA4jG,EAAA39E,SAAA09E,MAAP,gBAAAF,EAAAI,GAAA,OAAAnwG,EAAAsP,MAAAwd,KAAApxB,YAAA,GAOM,SAASw9H,KACf,sBAAA/4H,EAAAvD,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAw+E,EAAejhF,GAAf,OAAAwC,EAAAp2B,EAAAy2B,KAAA,SAAAq+E,GAAA,cAAAA,EAAAtmF,KAAAsmF,EAAAn+E,MAAA,cAAAm+E,EAAAh9B,OAAA,SACClkD,EAAS,CACf5qB,KAAM6H,IACNkD,MAAOzE,KAAKC,SAHP,wBAAAulG,EAAAh+E,SAAA+9E,MAAP,gBAAAF,GAAA,OAAAjwG,EAAAmP,MAAAwd,KAAApxB,YAAA,GAQM,IAAM0+H,GAAoBtB,KAAQ,eAAAx4H,EAAA1D,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KACxC,SAAA6+E,EAAethF,GAAf,IAAAgrG,EAAA,OAAAxoG,EAAAp2B,EAAAy2B,KAAA,SAAA0+E,GAAA,cAAAA,EAAA3mF,KAAA2mF,EAAAx+E,MAAA,cAAAw+E,EAAAx+E,KAAA,EACOu1E,EAAc12C,MAAuB,EAArC02C,CAA2Ct4E,GADlD,cAAAuhF,EAAA3mF,KAAA,EAAA2mF,EAAAx+E,KAAA,EAGgC+kG,KAHhC,OAGQkD,EAHRzpB,EAAAjtD,KAKEt0B,EAAS,CACR5qB,KAAM6H,IACNkD,MAAO6qH,IAPVzpB,EAAAx+E,KAAA,gBAAAw+E,EAAA3mF,KAAA,EAAA2mF,EAAAt9B,GAAAs9B,EAAA,SAUEzlF,QAAQqB,MAAM,6BAAdokF,EAAAt9B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOrS,aAAU,6BAA8B,CAC9CH,KAAM,CAACuhG,EAAWkJ,EAAAt9B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GAjBL,eAAAuhF,EAAAx+E,KAAA,GAmBOu1E,EAAc12C,MAAuB,EAArC02C,CAA4Ct4E,GAnBnD,yBAAAuhF,EAAAr+E,SAAAo+E,EAAA,iBADwC,gBAAAH,GAAA,OAAAlwG,EAAAgP,MAAAwd,KAAApxB,YAAA,GAsBxC,IACA,CAAE89H,SAAS,EAAMC,UAAU,IAGfa,GAAsBxB,KAAQ,eAAAp4H,EAAA9D,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAC1C,SAAAi/E,EAAe1hF,GAAf,IAAAvuB,EAAA6K,EAAAG,EAAAG,EAAA,OAAA4lB,EAAAp2B,EAAAy2B,KAAA,SAAA8+E,GAAA,cAAAA,EAAA/mF,KAAA+mF,EAAA5+E,MAAA,cAAA4+E,EAAA5+E,KAAA,EACOu1E,EAAchF,MAAyB,EAAvCgF,CAA6Ct4E,GADpD,cAAA2hF,EAAA/mF,KAAA,EAAA+mF,EAAA5+E,KAAA,EbrVO65E,GACLY,MAAM,CACND,MAAO,uBACP9e,OAAQ,QAERuG,KAAKyZ,IagVP,OAAAhtG,EAAAkwG,EAAArtD,KAIGh4C,EAJH7K,EAIG6K,cACAG,EALHhL,EAKGgL,cACAG,EANHnL,EAMGmL,yBAGDojB,EAAS,CACR5qB,KAAM6H,KACNkD,MAAO,CAAE7D,gBAAeG,gBAAeG,8BAX1C+kG,EAAA5+E,KAAA,iBAAA4+E,EAAA/mF,KAAA,GAAA+mF,EAAA19B,GAAA09B,EAAA,SAcE7lF,QAAQqB,MAAM,+BAAdwkF,EAAA19B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOrS,aAAU,+BAAgC,CAChDH,KAAM,CAACuhG,EAAWsJ,EAAA19B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GArBL,eAAA2hF,EAAA5+E,KAAA,GAuBOu1E,EAAchF,MAAyB,EAAvCgF,CAA8Ct4E,GAvBrD,yBAAA2hF,EAAAz+E,SAAAw+E,EAAA,kBAD0C,gBAAAN,GAAA,OAAA/vG,EAAA4O,MAAAwd,KAAApxB,YAAA,GA0B1C,IACA,CAAE89H,SAAS,EAAMC,UAAU,IAGftoE,GAA6B,kBAAM,SAAA9hC,GAC/C,OAAO+qG,GAAkB/qG,KAGbkrG,GAA+B,kBAAM,SAAAlrG,GACjD,OAAOirG,GAAoBjrG,mCC7btBouD,GAAsBv6E,6CAGrB,SAASs3H,GAAajpF,EAAM/hC,GAClC,OAAO,SAAS6f,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,KACNilC,KAAMA,EACN/hC,MAAOA,KAKH,SAASirH,KACf,OAAO,SAASprG,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,OAMF,SAASouH,GAAc1sH,GAC7B,OAAO,SAASqhB,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACNjO,QAAS2P,KAML,SAAS4qF,KACf,OAAO,SAASvpE,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,OAKF,SAASquH,GAATr+H,GAA4C,IAAnBwrB,EAAmBxrB,EAAnBwrB,KAAM4uB,EAAap6C,EAAbo6C,UACrC,OAAO,SAASrnB,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACNwb,KAAMA,EACN4uB,UAAWA,KAKP,SAASkkF,GAA6Bp8H,GAC5C,OAAO,SAAS6wB,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACN9N,cAKI,SAAS46F,KACf,OAAO,SAAS/pE,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,OAKF,SAASuuH,GAAqCr8H,GACpD,OAAO,SAAS6wB,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACN9N,cAKI,SAAS66F,KACf,OAAO,SAAShqE,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,OAQF,SAASitH,GAAiBv9H,EAAUqC,GAC1C,IAAMy8H,EAAUr8H,YAAWzC,KACrB++H,EAAe38H,YAAcpC,KAQnC,OANE8+H,IACAC,EAAar8H,OAAO5B,SACrBi+H,EAAar8H,OAAO5B,UAAYuB,EAAQK,OAAO5B,UAC9Ci+H,EAAap8H,SAAS7B,UACtBi+H,EAAap8H,SAAS7B,WAAauB,EAAQM,SAAS7B,QAKhD,SAAS+pG,KACf,sBAAA7pG,EAAAJ,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAC,EAAe1C,EAAUrzB,GAAzB,IAAAqC,EAAAM,EAAAD,EAAA5B,EAAAK,EAAAV,EAAAkE,EAAAymH,EAAA7pH,EAAA0C,EAAAH,EAAA,OAAA+xB,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cACA/zB,EAAUD,YAAcpC,KADxBm2B,EAAAlI,KAAA,EAGGtrB,EAAqBN,EAArBM,SAAUD,EAAWL,EAAXK,OACV5B,EAAY6B,EAAZ7B,QAJHq1B,EAAAC,KAAA,EAKyC2gG,GAA2B,CACxExwH,aAAczF,EACd4B,WAPI,cAAAvB,EAAAg1B,EAAAwxB,KAKGlnD,EALHU,EAKGV,IAAKkE,EALRxD,EAKQwD,uBAKR44H,GAAiBv9H,EAAUqC,KAC/Bu8H,GAA6Bn+H,EAA7Bm+H,CAAkCvrG,GAClCy4E,EAAwB,eAAe,EAAvCA,CAA6Cz4E,EAAUrzB,IAZnDm2B,EAAAC,KAAA,GAeqC61F,GAAsB,CAC/DvpH,SACA5B,UACAqrH,YAAaxnH,IACXknH,MAAM,SAAA98F,GACRI,QAAQqB,MAAM,2BAA4BzB,KApBtC,eAeCq8F,EAfDj1F,EAAAwxB,KAAAxxB,EAAAC,KAAA,GAuB4B60F,GAAgB,CAChD5oH,UACA+oH,8BACA3qH,QA1BI,WAAAc,EAAA40B,EAAAwxB,KAuBG1jD,EAvBH1C,EAuBG0C,UAAWH,EAvBdvC,EAuBcuC,IAMdy5H,GAAiBv9H,EAAUqC,GA7B3B,CAAA8zB,EAAAC,KAAA,gBAAAD,EAAAC,KAAA,GA8BEyoG,GAAqCl6H,EAArCk6H,CACLxrG,GA/BG,eAAA8C,EAAAC,KAAA,GAiCEuoG,GAAc,CACnBjkF,UAAW,CAAEj3C,MAAO,CAAEQ,YAAWH,SAD5B66H,CAEHtrG,GAnCC,QAAA8C,EAAAC,KAAA,iBAAAD,EAAAlI,KAAA,GAAAkI,EAAAmhD,GAAAnhD,EAAA,SAsCLhH,QAAQqB,MAAM,YAAd2F,EAAAmhD,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOrS,aAAU,YAAa,CAAEH,KAAM,CAACuhG,EAAWv1E,EAAAmhD,OAClDjlD,QAAS,KAHVkqD,CAIGlpD,GA3CE,yBAAA8C,EAAAI,SAAAR,EAAA,kBAAP,gBAAAS,EAAA+nB,GAAA,OAAAv9C,EAAAsS,MAAAwd,KAAApxB,YAAA,GAgDM,SAASs/H,GAA0B1e,GACzC,sBAAA5+G,EAAAd,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA8nB,EAAevqB,EAAUrzB,GAAzB,IAAA2C,EAAAyB,EAAA66H,EAAA,OAAAppG,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cACNu1E,EAAcjF,MAA2B,EAAzCiF,CAA+Ct4E,GACzC1wB,EAAWU,YAAsBrD,KAFjC69C,EAAA5vB,KAAA,EAAA4vB,EAAAznB,KAAA,EAMG67E,GAAgB,CACtB1rG,aAAc5D,EAAS7B,UAPpB,UAAA+8C,EAAAy5B,GAAAz5B,EAAA8J,KAAA9J,EAAAy5B,GAAA,CAAAz5B,EAAAznB,KAAA,QAAAynB,EAAAy5B,GAQG,GARH,OAKClzE,EALDy5C,EAAAy5B,IAUC2nD,EAVDr+H,OAAAC,EAAA,EAAAD,CAAA,GAUwB+B,IAEbwC,kBAAoBf,EAAYe,kBAChD85H,EAAgBC,gBAAkB96H,EAAY86H,gBAC9CD,EAAgB76H,YAAcA,EAE9Bu6H,GAAc,CACbjkF,UAAW,CAAE/3C,SAAUs8H,IADxBN,CAEGtrG,GAC0B,oBAAlBitF,GACVA,IApBIziE,EAAAznB,KAAA,iBAAAynB,EAAA5vB,KAAA,GAAA4vB,EAAAyjE,GAAAzjE,EAAA,SAuBL0+B,EAAS,CACR9zE,KAAM,SACNkU,MAAOrS,aAAU,gCAAiC,CACjDH,KAAM,CAACuhG,EAAW7tD,EAAAyjE,OAEnBjvF,QAAS,KALVkqD,CAMGlpD,GA7BE,QA+BNs4E,EAAcjF,MAA2B,EAAzCiF,CAA+Ct4E,GA/BzC,yBAAAwqB,EAAAtnB,SAAAqnB,EAAA,kBAAP,gBAAA6jD,EAAAwG,GAAA,OAAAvmG,EAAA4R,MAAAwd,KAAApxB,YAAA,GAmCM,SAASy9H,GAATt7H,GAAgD,IAAXu7H,EAAWv7H,EAAXu7H,QAC3C,sBAAAp7H,EAAApB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAioB,EAAe1qB,EAAUrzB,GAAzB,IAAA2C,EAAAw8H,EAAAC,EAAA,OAAAvpG,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,OACEzzB,EAAa3C,IAAWC,QAAQoC,QAAhCM,SAEFw8H,EAHAv+H,OAAAC,EAAA,EAAAD,CAAA,GAGmB+B,GACnBy8H,EAJAx+H,OAAAC,EAAA,EAAAD,CAAA,GAIkBu+H,EAAYpX,qBAAuB,GAAQqV,GAIlE1/G,KAAKC,UAAUwhH,EAAYpX,uBAC3BrqG,KAAKC,UAAUyhH,KAEfD,EAAYpX,oBAAsBqX,EAClCT,GAAc,CAAEjkF,UAAW,CAAE/3C,SAAUw8H,IAAvCR,CAAwDtrG,IAZnD,wBAAA2qB,EAAAznB,SAAAwnB,MAAP,gBAAAsqD,EAAAC,GAAA,OAAAtmG,EAAAsR,MAAAwd,KAAApxB,YAAA,GAiBM,SAAS2/H,GAATl9H,GAKJ,IAJFO,EAIEP,EAJFO,OAIE48H,EAAAn9H,EAHFQ,gBAGE,IAAA28H,EAHS,GAGTA,EAFFt8H,EAEEb,EAFFa,MACAu8H,EACEp9H,EADFo9H,gBAEA,sBAAA/7H,EAAA5C,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAooB,EAAe7qB,EAAUrzB,GAAzB,IAAAw/H,EAAAC,EAAA97H,EAAA45G,EAAA7+C,EAAA6yC,EAAAzK,EAAA0W,EAAA35G,EAAAme,EAAAmgG,EAAA9/G,EAAAq9H,EAAA/5H,EAAA,OAAAkwB,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,UACNu1E,EAAcvZ,MAAkB,EAAhCuZ,CAAsCt4E,GADhC8qB,EAAAlwB,KAAA,EAGCuxG,EAHD5+H,OAAAC,EAAA,EAAAD,CAAA,GAGkB8B,GACjB+8H,EACLpd,GAAO,CACNj8B,KAAMo5C,EAAU1+H,QAChB49D,KAAM8gE,EAAU38H,SAChBF,SAAUA,EAAS7B,WACd,KATFq9C,EAAAm5B,KAYFmoD,GAZEthF,EAAAm5B,GAAA,CAAAn5B,EAAA/nB,KAAA,eAAA+nB,EAAA/nB,KAAA,EAaGsnF,GAAa,CACnB96G,QAAS68H,EACT9hB,cAAc,IAfX,OAAAx/D,EAAAm5B,GAAAn5B,EAAAwJ,KAAA,WAAAxJ,EAAAm5B,GAAA,CAAAn5B,EAAA/nB,KAAA,SAmBJopG,EAAU58H,QAAU68H,EAnBhBthF,EAAA/nB,KAAA,wBAAA+nB,EAAA/nB,KAAA,GA2BMiwF,GAAW,CAAE3jH,OAAQ88H,IA3B3B,eAAA77H,EAAAw6C,EAAAwJ,KAsBH41D,EAtBG55G,EAsBH45G,UACA7+C,EAvBG/6D,EAuBH+6D,KACA6yC,EAxBG5tG,EAwBH4tG,UACAzK,EAzBGnjG,EAyBHmjG,KACA0W,EA1BG75G,EA0BH65G,UA1BGr/D,EAAA/nB,KAAA,GA6BiCknF,GAAW,CAC/C36G,SAAUA,EAAS7B,QACnB49D,KAAMA,EACN6+C,YACAhM,YACAzK,OACA0W,YACAC,cAAe+hB,EAAU1+H,UApCtB,QAAA+C,EAAAs6C,EAAAwJ,KA6BI3lC,EA7BJne,EA6BIme,OAAQmgG,EA7BZt+G,EA6BYs+G,WAUD,OAAXngG,IACHigG,GAAO,CACN77B,KAAM1jF,EAAO5B,QACbohH,IAAK3E,EACL7+C,KAAMh8D,EAAOG,SACbs/G,WAAYA,EACZx/G,SAAUA,EAAS7B,UAEpB0+H,EAAU58H,QAAU26G,GA/CjB,eAmDCl7G,EAAU,CACfW,MAAOA,EACPN,OAAQ88H,EACR78H,SAAS/B,OAAAC,EAAA,EAAAD,CAAA,GAAM+B,IAtDXw7C,EAAA/nB,KAAA,GAyD6BwxF,GAAsB,CACvDC,YAAapmC,GACbp/E,YA3DI,WAyDCq9H,EAzDDvhF,EAAAwJ,KA8DLtlD,EAAQM,SAASolH,oBAAjBnnH,OAAAs9B,GAAA,EAAAt9B,CAAA,GACE6gF,GAAsBi+C,GAGxBf,GAAc,CACbjkF,UAAU95C,OAAAC,EAAA,EAAAD,CAAA,GAAMyB,IADjBs8H,CAEGtrG,IAECksG,EAtEC,CAAAphF,EAAA/nB,KAAA,gBAAA+nB,EAAA/nB,KAAA,GAuEE+/D,aAAgB,CACrBnzF,MAAON,EAAOM,MACduvF,SAAU7vF,EAAO6vF,WAzEd,QA6EC5sF,EAAOsC,aAAsBjI,KACnC04E,EAAe,qBAAqB,EAApCA,CAA2CrlD,EAAUrzB,GAEjD,CAAC,aAAc,aAAa+Q,SAASpL,IACxC0tB,EAASla,aAAI,cAAAtQ,OAAelD,KAC5BimG,EAAe,WAAY,GAA3BA,CAA+Bv4E,IAE/BA,EAASla,aAAK,iBApFVglC,EAAA/nB,KAAA,iBAAA+nB,EAAAlwB,KAAA,GAAAkwB,EAAAmjE,GAAAnjE,EAAA,SAuFLhvB,QAAQqB,MAAM,sBAAd2tB,EAAAmjE,IACA/kC,EAAS,CACR9zE,KAAM,SACNkU,MAAOrS,aAAU,sBAAuB,CAAEH,KAAM,CAACuhG,EAAWvtD,EAAAmjE,OAC5DjvF,QAAS,KAHVkqD,CAIGlpD,GA5FE,QA+FNs4E,EAAcvZ,MAAkB,EAAhCuZ,CAAuCt4E,GA/FjC,yBAAA8qB,EAAA5nB,SAAA2nB,EAAA,kBAAP,gBAAAwqD,EAAAC,GAAA,OAAAnlG,EAAA8P,MAAAwd,KAAApxB,YAAA,GAmGM,SAAS82F,KACf,sBAAAxyF,EAAApD,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAuoB,EAAehrB,GAAf,IAAAssG,EAAA,OAAA9pG,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,cAAAkoB,EAAAloB,KAAA,EACY87E,KADZ,cACAytB,EADArhF,EAAAqJ,KAAArJ,EAAAi5B,OAAA,SAEClkD,EAAS,CACf5qB,KAAM6H,IACNqvH,SAJK,wBAAArhF,EAAA/nB,SAAA8nB,MAAP,gBAAA01D,GAAA,OAAA/vG,EAAAsP,MAAAwd,KAAApxB,YAAA,YASckgI,mFAAf,SAAAnpB,EAAiCz2G,GAAjC,IAAAD,EAAAyzF,EAAA3wF,EAAAg9H,EAAA,OAAAhqG,EAAAp2B,EAAAy2B,KAAA,SAAAwgF,GAAA,cAAAA,EAAAzoF,KAAAyoF,EAAAtgF,MAAA,UACOr2B,EAAQC,IACRwzF,EAAepmE,aAAmBrtB,GAClC8C,EAAWO,YAAerD,GAHjC22G,EAAAp/B,GAMEz0E,IAAao+B,KAAWC,SAAS1kB,KANnCk6F,EAAAp/B,GAAA,CAAAo/B,EAAAtgF,KAAA,YAAAsgF,EAAA4K,IAOIz+G,GACgC,aAAjC2wF,EAAahqE,IAAI,aARpBktF,EAAA4K,GAAA,CAAA5K,EAAAtgF,KAAA,gBAAAsgF,EAAAtgF,KAAA,EASUw6D,eATV,OAAA8lB,EAAAkL,GAAAlL,EAAA/uD,KAAA+uD,EAAA+O,GASqCxkF,KAAWC,SAAS1kB,KATzDk6F,EAAA4K,GAAA5K,EAAAkL,KAAAlL,EAAA+O,GAAA,QAAA/O,EAAAp/B,GAAAo/B,EAAA4K,GAAA,eAKOue,EALPnpB,EAAAp/B,GAAAo/B,EAAAn/B,OAAA,SAWQsoD,GAXR,yBAAAnpB,EAAAngF,SAAAkgF,6BAcO,SAASqpB,KAAqC,IAAXh5H,GAAWpH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,IAAPoH,GACzC,sBAAAxC,EAAA1D,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAm+E,EAAe5gF,EAAUrzB,GAAzB,OAAA61B,EAAAp2B,EAAAy2B,KAAA,SAAAg+E,GAAA,cAAAA,EAAAjmF,KAAAimF,EAAA99E,MAAA,cAAA89E,EAAA99E,KAAA,EAEEwpG,GAAkB5/H,GAFpB,UAAAk0G,EAAA58B,GAAA48B,EAAAvsD,MAAAusD,EAAA58B,GAAA,CAAA48B,EAAA99E,KAAA,QAAA89E,EAAA58B,GAGLpwE,gBAA0BmiG,KAAkBviG,IAAO,IAAIwiG,IAHlD,WAAA4K,EAAA58B,GAAA,CAAA48B,EAAA99E,KAAA,QAKL0iB,EACC,KACA,KACA,CACCxrC,MAAOhD,aAAU,WACjBgqB,KAAMhqB,aAAU,mCAAoC,CACnDH,KAAM,CAACk/F,KAAiB,WAAuB7sF,UAGjD,EATDs8B,CAUEzlB,GAfG6gF,EAAA99E,KAAA,gBAiBL0iB,EAAc,KAAM,KAAM,IAAI,GAAM,EAApCA,CAA2CzlB,GAjBtC,yBAAA6gF,EAAA39E,SAAA09E,MAAP,gBAAAG,EAAAI,GAAA,OAAAlwG,EAAAgP,MAAAwd,KAAApxB,YAAA,GAsBM,IAAMqgI,GAA0B,WAAyB,IAAxBC,EAAwBtgI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACxD,sBAAAgF,EAAA9D,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAw+E,EAAe9uG,EAAGxF,GAAlB,IAAAD,EAAA++H,EAAAz8H,EAAA49H,EAAAp9H,EAAAq9H,EAAAp/H,EAAA6B,EAAAyyG,EAAA,OAAAv/E,EAAAp2B,EAAAy2B,KAAA,SAAAq+E,GAAA,cAAAA,EAAAtmF,KAAAsmF,EAAAn+E,MAAA,OACAr2B,EAAQC,IACR8+H,EAAUr8H,YAAW1C,GACrBsC,EAAUD,YAAcrC,GAHxBkgI,EAI6B59H,EAAQK,OAAnCG,EAJFo9H,EAIEp9H,SAJFq9H,EAAAD,EAIYn/H,eAJZ,IAAAo/H,EAIsB,GAJtBA,GAOLpB,GACAj8H,IAAao+B,KAAWC,SAAS1kB,MAC/BwjH,GACDl/H,EAAQgrC,gBAAkBk0F,EAAel0F,cAG/BgzF,IACLn8H,EAAW0C,aAAetF,GACxBq1G,EAA0BzyG,EAA1ByyG,sBACRzwE,cAAQywE,GAAyBA,IAA0B4qB,IAJ3Dr7F,eAZK,wBAAA4vE,EAAAh+E,SAAA+9E,MAAP,gBAAAG,EAAAI,GAAA,OAAAnwG,EAAA4O,MAAAwd,KAAApxB,YAAA,IAqBM,SAASygI,KACf,sBAAAr7H,EAAAlE,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA6+E,EAAenvG,EAAGxF,GAAlB,IAAAogI,EAAAC,EAAA,OAAAxqG,EAAAp2B,EAAAy2B,KAAA,SAAA0+E,GAAA,cAAAA,EAAA3mF,KAAA2mF,EAAAx+E,MAAA,cAAAw+E,EAAAx+E,KAAA,EACkBwpG,GAAkB5/H,GADpC,WAAA40G,EAAAjtD,KAAA,CAAAitD,EAAAx+E,KAAA,gBAAAw+E,EAAAx+E,KAAA,EAGoBkgE,eAHpB,YAGC8pC,EAHDxrB,EAAAjtD,QAYUy4E,EAAWC,gBAZrB,CAAAzrB,EAAAx+E,KAAA,SAAAw+E,EAAAt9B,GAaD8oD,EAAWC,gBAbVzrB,EAAAx+E,KAAA,wBAAAw+E,EAAAx+E,KAAA,GAcMmvB,QAAQmpD,KAAK,CACpB0xB,EAAWE,SACX,IAAI/6E,QAAQ,SAAAC,GACXn0B,WAAW,WACVm0B,EAAQ,CAAC,QACP,SAnBH,QAAAovD,EAAAt9B,GAAAs9B,EAAAjtD,KAqBG,GArBH,QAWC04E,EAXDzrB,EAAAt9B,GAsBLyoD,GAAwBM,EAAxBN,CAAyCv6H,EAAGxF,GAtBvC,yBAAA40G,EAAAr+E,SAAAo+E,MAAP,gBAAAM,EAAAC,GAAA,OAAApwG,EAAAwO,MAAAwd,KAAApxB,YAAA,GA2BM,SAASi3F,KACf,sBAAA1xF,EAAArE,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAi/E,EAAevvG,EAAGxF,GAAlB,OAAA61B,EAAAp2B,EAAAy2B,KAAA,SAAA8+E,GAAA,cAAAA,EAAA/mF,KAAA+mF,EAAA5+E,MAAA,cAAA4+E,EAAA5+E,KAAA,EACWmqG,eADX,OAENT,GAAwB,CAAEh5H,GAFpBkuG,EAAArtD,MAENm4E,CAAgCt6H,EAAGxF,GAF7B,wBAAAg1G,EAAAz+E,SAAAw+E,MAAP,gBAAAQ,EAAAC,GAAA,OAAAvwG,EAAAqO,MAAAwd,KAAApxB,YAAA,GAMM,SAAS62F,KACf,sBAAAvjF,EAAApS,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAu/E,EAAe7vG,EAAGxF,GAAlB,OAAA61B,EAAAp2B,EAAAy2B,KAAA,SAAAo/E,GAAA,cAAAA,EAAArnF,KAAAqnF,EAAAl/E,MAAA,OACNugE,KAAuBnxF,EAAGxF,GAC1BmgI,KAAuB36H,EAAGxF,GACtB07C,OAAO8kF,WACV9kF,OAAO8kF,SAASC,GAAG,kBAAmB,SAAAC,GACrCvxG,QAAQgvG,IAAI,cAAeuC,EAAS,IACpCX,GAAwBW,EAAS,GAAjCX,CAAqCv6H,EAAGxF,KAEzC07C,OAAO8kF,SAASC,GAAG,iBAAkB,SAAAE,GACpCxxG,QAAQgvG,IAAI,iBAAkBwC,GAC9Bb,GAAwB,CAAEh5H,GAAI65H,GAA9Bb,CAAyCt6H,EAAGxF,MAVxC,wBAAAs1G,EAAA/+E,SAAA8+E,MAAP,gBAAAO,EAAAC,GAAA,OAAA7iG,EAAAM,MAAAwd,KAAApxB,YAAA,YAgBckhI,mFAAf,SAAA9pB,EAAAnvF,GAAA,IAAA3kB,EAAAuvF,EAAAqgB,EAAA9L,EAAA9xF,EAAAg+F,EAAA,OAAAn9E,EAAAp2B,EAAAy2B,KAAA,SAAA6gF,GAAA,cAAAA,EAAA9oF,KAAA8oF,EAAA3gF,MAAA,cAA2BpzB,EAA3B2kB,EAA2B3kB,MAAOuvF,EAAlC5qE,EAAkC4qE,SAC3BqgB,EAAOiuB,aAAa79H,GAD3B+zG,EAAA3gF,KAAA,EAEoB0qG,aAAc,CAAEluB,OAAMrgB,aAF1C,cAEOuU,EAFPiQ,EAAApvD,KAAAovD,EAAA3gF,KAAA,EAGmC08E,GAAe,CAAEhM,SAHpD,cAAA9xF,EAAA+hG,EAAApvD,KAGSqrD,EAHTh+F,EAGSg+F,gBAHT+D,EAAAx/B,OAAA,WAKUy7B,GAAmBA,EAAgBtwG,QAL7C,yBAAAq0G,EAAAxgF,SAAAugF,sCAQeiqB,mFAAf,SAAAjpB,EAAA/jG,GAAA,IAAA/Q,EAAAuvF,EAAA1vF,EAAAm+H,EAAAC,EAAAjuB,EAAA,OAAAn9E,EAAAp2B,EAAAy2B,KAAA,SAAAmiF,GAAA,cAAAA,EAAApqF,KAAAoqF,EAAAjiF,MAAA,cAA4BpzB,EAA5B+Q,EAA4B/Q,MAAOuvF,EAAnCx+E,EAAmCw+E,SAAU1vF,EAA7CkR,EAA6ClR,SACtCm+H,EAAaH,aAAa79H,GADjCq1G,EAAAjiF,KAAA,EAE0B0qG,aAAc,CAAEluB,KAAMouB,EAAYzuC,aAF5D,cAEO0uC,EAFP5oB,EAAA1wD,KAAA0wD,EAAAjiF,KAAA,EAG+B8qG,aAAsB,CACnDl+H,QACAuvF,WACA1vF,aANF,cAGOmwG,EAHPqF,EAAA1wD,KAAA0wD,EAAAjiF,KAAA,GASO28E,GAAa,CAClB/vG,QACA4vG,KAAMouB,EACNl6B,KAAMm6B,EACNjuB,oBAbF,yBAAAqF,EAAA9hF,SAAAuhF,6BAiBO,SAAS1hB,KACf,sBAAApiF,EAAApT,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA4/E,EAAeriF,EAAUrzB,GAAzB,IAAAmhI,EAAAn+H,EAAAuvF,EAAA1vF,EAAAu+H,EAAA,OAAAvrG,EAAAp2B,EAAAy2B,KAAA,SAAAy/E,GAAA,cAAAA,EAAA1nF,KAAA0nF,EAAAv/E,MAAA,UACNu1E,EAAcnF,MAAqB,EAAnCmF,CAAyCt4E,GADnCsiF,EAAA1nF,KAAA,EAAAkzG,EAGiCr+H,aAAa9C,KAA3CgD,EAHHm+H,EAGGn+H,MAAOuvF,EAHV4uC,EAGU5uC,SAAU1vF,EAHpBs+H,EAGoBt+H,SACnBu+H,EAAuB,UAAbv+H,GAAqC,UAAbA,EAJnC8yG,EAAAr+B,GAMD8pD,GANCzrB,EAAAr+B,GAAA,CAAAq+B,EAAAv/E,KAAA,eAAAu/E,EAAAv/E,KAAA,EAMkBwqG,GAAU,CAAE59H,QAAOuvF,aANrC,OAAAojB,EAAAr+B,IAAAq+B,EAAAhuD,KAAA,WAAAguD,EAAAr+B,GAAA,CAAAq+B,EAAAv/E,KAAA,gBAAAu/E,EAAAv/E,KAAA,GAOE2qG,GAAW,CAAE/9H,QAAOuvF,WAAU1vF,aAPhC,QAAA8yG,EAAAv/E,KAAA,iBAAAu/E,EAAA1nF,KAAA,GAAA0nF,EAAA2L,GAAA3L,EAAA,iBAUNhK,EAAcnF,MAAqB,EAAnCmF,CAA0Ct4E,GAVpC,yBAAAsiF,EAAAp/E,SAAAm/E,EAAA,kBAAP,gBAAAY,EAAAC,GAAA,OAAAviG,EAAAV,MAAAwd,KAAApxB,YAAA,GAcM,SAAS6rF,KACf,sBAAA92E,EAAA7T,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAigF,EAAe1iF,EAAUrzB,GAAzB,IAAAqC,EAAAsN,EAAA,OAAAkmB,EAAAp2B,EAAAy2B,KAAA,SAAA8/E,GAAA,cAAAA,EAAA/nF,KAAA+nF,EAAA5/E,MAAA,UACNsiD,EAAe,qBAAqB,EAApCA,CAA2CrlD,EAAUrzB,GAC/CqC,EAAUD,YAAcpC,KAFxBg2G,EAAA1+B,IAGLimD,GAAiBv9H,EAAUqC,IAHtB2zG,EAAA1+B,GAAA,CAAA0+B,EAAA5/E,KAAA,eAAA4/E,EAAA5/E,KAAA,EAIE4oG,GAA0B,kBAChClzB,EAAwB,uBAAuB,EAA/CA,CAAqDz4E,EAAUrzB,IADzDg/H,CAEL3rG,EAAUrzB,GANP,cAQQqgH,GAAY,kBACzBvU,EAAwB,YAAY,EAApCA,CAA0Cz4E,EAAUrzB,IADvCqgH,CAEZhtF,EAAUrzB,GAEc68F,KAAsBzzF,MAAM,kBACrD0iG,EAAwB,qBAAqB,EAA7CA,CAAmDz4E,EAAUrzB,KAE5C88F,KAAc1zF,MAAM,kBACrC0iG,EAAwB,aAAa,EAArCA,CAA2Cz4E,EAAUrzB,KAEvCm1D,KAA6B9hC,EAAUrzB,GAChD2P,EAAgB4uH,KAA+BlrG,EAAUrzB,GAnBzDg2G,EAAA5/E,KAAA,GAqBAmvB,QAAQ9kD,IACiCkP,GAtBzC,eAAAqmG,EAAA5/E,KAAA,GAyBA2mE,KAAU3zF,MAAM,kBACrB0iG,EAAwB,SAAS,EAAjCA,CAAuCz4E,EAAUrzB,KA1B5C,QA6BN04E,EAAe,qBAAqB,EAApCA,CAA0CrlD,EAAUrzB,GA7B9C,yBAAAg2G,EAAAz/E,SAAAw/E,MAAP,gBAAAY,EAAAC,GAAA,OAAAniG,EAAAnB,MAAAwd,KAAApxB,YAAA,GAiCM,SAAS+rF,KACf,sBAAA/2E,EAAA9T,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAsgF,EAAe/iF,EAAUrzB,GAAzB,OAAA61B,EAAAp2B,EAAAy2B,KAAA,SAAAmgF,GAAA,cAAAA,EAAApoF,KAAAooF,EAAAjgF,MAAA,OACNsiD,EAAe,qBAAqB,EAApCA,CAA2CrlD,EAAUrzB,GACrD2hG,KAAcprE,OACdsmE,KAAsBtmE,OACtBumE,KAAcvmE,OACdwmE,KAAUxmE,OALJ,wBAAA8/E,EAAA9/E,SAAA6/E,MAAP,gBAAAe,EAAAC,GAAA,OAAA1iG,EAAApB,MAAAwd,KAAApxB,YAAA,iBC1gBM,SAASkzF,GAAer9C,EAAM/hC,GACpC,OAAO,SAAS6f,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACNilC,KAAMA,EACN/hC,MAAOA,KAKH,SAASwgF,KACf,OAAO,SAAS3gE,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,OAKF,SAAS29E,GAAT3tF,GAA2C,IAAnB0C,EAAmB1C,EAAnB0C,MAAOH,EAAYvC,EAAZuC,SACrC,OAAO,SAASwwB,GAWf,OAVAA,EAAS,CACR5qB,KAAM6H,MAGP+iB,EAAS,CACR5qB,KAAM6H,IACNilC,KAAM,QACN/hC,MAAOxQ,IAGDqwB,EAAS,CACf5qB,KAAM6H,IACNilC,KAAM,WACN/hC,MAAO3Q,KAMH,SAASw+H,GAAa9rF,EAAM/hC,GAClC,OAAO,SAAS6f,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,KACNilC,KAAMA,EACN/hC,MAAOA,KAKH,SAAS8tH,KACf,OAAO,SAASjuG,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,OAKF,SAASixH,GAAoBvrG,GACnC,sBAAAh1B,EAAAJ,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAC,EAAe1C,GAAf,IAAAsyB,EAAA67E,EAAAC,EAAA,OAAA5rG,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,OACNu1E,EAAclF,MAAwB,EAAtCkF,CAA4Ct4E,GACtCsyB,EAAO3vB,EAAM6I,OAAO6iG,MAAM,IAC1BF,EAAS,IAAIG,YAEZv7F,OAAS,SAAArO,GACf,IACC,IAAM6pG,EAAMlkH,KAAKrR,MAAM0rB,EAAG8G,OAAOrkB,QACjC,KACEonH,GACAA,EAAI39G,KACJ29G,EAAIl/H,QACJk/H,EAAIl/H,OAAOmW,MACX+oH,EAAIl/H,OAAOC,UACXi/H,EAAIl/H,OAAOy/E,YAEZ,MAAM,IAAIuf,MAAMhhG,aAAE,sBAElBsuB,aAAmB4yG,EAAIl/H,OAAQk/H,EAAI39G,KACnC2uE,GAAe,sBAAuBgvC,EAAI39G,IAA1C2uE,CAA+Cv/D,GAC/CkpD,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,kCACT2xB,QAAS,KAHVkqD,CAIGlpD,GAEH,MAAOtE,GACRI,QAAQqB,MAAM,sCAAuCzB,GACrDwtD,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,6BAA8B,CACtCyJ,KAAM,CAAC4kB,EAAIqlB,WAEZ/hB,QAAS,KALVkqD,CAMGlpD,GAEJs4E,EAAclF,MAAwB,EAAtCkF,CAA4Ct4E,IAGvCouG,EAAU,SAAA1yG,GACfI,QAAQqB,MAAM,gCAAiCzB,GAC/CwtD,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,6BAA8B,CACtCyJ,KAAM,CAACuhG,EAAY38E,MAEpBsD,QAAS,KALVkqD,CAMGlpD,GACHs4E,EAAclF,MAAwB,EAAtCkF,CAA6Ct4E,IAG9CmuG,EAAOr7F,QAAU,SAAApX,GAChByyG,EAAOK,QACPJ,EAAQ1yG,IAGTyyG,EAAOn7F,QAAU,SAAAtO,GAChB0pG,EAAQ/gI,aAAE,0BAGX8gI,EAAOM,WAAWn8E,GA5DZ,wBAAAxvB,EAAAI,SAAAR,MAAP,gBAAAS,GAAA,OAAAx1B,EAAAsS,MAAAwd,KAAApxB,YAAA,GAgEM,SAAS2zF,GAATlyF,GAA8C,IAAnBkQ,EAAmBlQ,EAAnBkQ,MAAOxO,EAAY1B,EAAZ0B,SACxC,sBAAAtB,EAAAX,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAioB,EAAe1qB,EAAUrzB,GAAzB,IAAA0B,EAAAksG,EAAAm0B,EAAAlpH,EAAA,OAAAgd,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,cACNu1E,EAAcpY,MAA0B,EAAxCoY,CAA8Ct4E,GADxC2qB,EAAA/vB,KAAA,EAAA+vB,EAAA5nB,KAAA,EAGsB43E,aAAUnrG,GAHhC,cAAAnB,EAAAs8C,EAAA2J,KAGGimD,EAHHlsG,EAGGksG,SAHH5vD,EAAA5nB,KAAA,EAIsB47E,GAAmB,CAAE3gG,UAJ3C,cAIC0wH,EAJD/jF,EAAA2J,KAKC9uC,EAAOjY,OAAO8mB,QAAQq6G,GAAc3gI,IAA7B,eAAAY,EAAApB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KACZ,SAAA8nB,EAAA/7C,GAAA,IAAAM,EAAAoE,EAAAo4E,EAAAwU,EAAA,OAAAt9D,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAAAj0B,EAAAvB,OAAAiR,GAAA,EAAAjR,CAAAiB,EAAA,GAAQ0E,EAARpE,EAAA,GAAsBw8E,EAAtBx8E,EAAA,GAAA07C,EAAA5vB,KAAA,EAAA4vB,EAAAznB,KAAA,EAEoBw3E,EAASo0B,cAAcz7H,GAF3C,cAEQ4sF,EAFRt1C,EAAA8J,KAAA9J,EAAA05B,OAAA,SAGS,CACN50E,SAAU4D,EACVo4E,YACAwU,QANH,cAAAt1C,EAAA5vB,KAAA,EAAA4vB,EAAAy5B,GAAAz5B,EAAA,SAAAA,EAAA05B,OAAA,SASS,MATT,yBAAA15B,EAAAtnB,SAAAqnB,EAAA,iBADY,gBAAAqqD,GAAA,OAAAjmG,EAAAsR,MAAAwd,KAAApxB,YAAA,IALRs+C,EAAA5nB,KAAA,GAoB0BmvB,QAAQ9kD,IAAIoY,GApBtC,QAAAmlC,EAAAs5B,GAoBoD,SAAAnqE,GAAC,QAAMA,GAEhEylF,GAAe,kBAtBV50C,EAAA2J,KAoB6Ct6C,OApB7C2wC,EAAAs5B,IAsBLsb,CAAmDv/D,GAtB9C2qB,EAAA5nB,KAAA,iBAAA4nB,EAAA/vB,KAAA,GAAA+vB,EAAAsjE,GAAAtjE,EAAA,SAwBL7uB,QAAQqB,MAAM,+BAAdwtB,EAAAsjE,IACA/kC,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,+BAAgC,CACxCyJ,KAAM,CAACuhG,EAAW1tD,EAAAsjE,OAEnBjvF,QAAS,KALVkqD,CAMGlpD,GA/BE,QAiCNs4E,EAAcpY,MAA0B,EAAxCoY,CAA+Ct4E,GAjCzC,yBAAA2qB,EAAAznB,SAAAwnB,EAAA,kBAAP,gBAAAQ,EAAAkjD,GAAA,OAAAlgG,EAAA+R,MAAAwd,KAAApxB,YAAA,GAqCM,SAASuiI,KACf,sBAAAz+H,EAAA5C,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAooB,EAAe7qB,EAAUrzB,GAAzB,IAAAkiI,EAAAx/H,EAAAM,EAAA0vF,EAAAC,EAAAovC,EAAAI,EAAA5C,EAAAn7H,EAAAzB,EAAA,OAAAkzB,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,UAAA+nB,EAAAlwB,KAAA,EAAAi0G,EAWD78H,aAAerF,KARlB0C,EAHIw/H,EAGJx/H,OACAM,EAJIk/H,EAIJl/H,MACA0vF,EALIwvC,EAKJxvC,SACAC,EANIuvC,EAMJvvC,SACAovC,EAPIG,EAOJH,aACAI,EARID,EAQJC,eACA5C,EATI2C,EASJ3C,iBATI2C,EAUJE,gBAVI,CAAAjkF,EAAA/nB,KAAA,eAAA+nB,EAAA/nB,KAAA,EAcEo8E,GAAW5xG,OAAAC,EAAA,EAAAD,CAAA,CAChByQ,MAAO3O,EAAO5B,QACdkC,MAAOA,EAAM8oC,cACb4mD,WACAC,YACGwvC,IAnBA,cAAAhkF,EAAA/nB,KAAA,EAwBG67E,GAAgB,CACtB1rG,aAAcw7H,EAAajhI,UAzBxB,UAAAq9C,EAAAm5B,GAAAn5B,EAAAwJ,KAAAxJ,EAAAm5B,GAAA,CAAAn5B,EAAA/nB,KAAA,SAAA+nB,EAAAm5B,GA0BG,GA1BH,WAuBClzE,EAvBD+5C,EAAAm5B,MA2BC30E,EA3BD/B,OAAAC,EAAA,EAAAD,CAAA,GA4BDmhI,EA5BC,CA6BJjhI,QAASsD,EAAYI,WAAW86G,IAChCn6G,kBAAmBf,EAAYe,kBAC/B+5H,gBAAiB96H,EAAY86H,gBAC7B96H,iBAEYe,kBAAkBzC,EAAO5B,SAAW,GAlC5C,CAAAq9C,EAAA/nB,KAAA,gBAAA+nB,EAAA/nB,KAAA,GAmCEipG,GAAc,CACnB18H,WACAD,SACAM,QACAu8H,mBAJKF,CAKHhsG,EAAUrzB,GAxCT,QAAAm+C,EAAA/nB,KAAA,iBA0CJmmD,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,2BACT2xB,QAAS,KAHVkqD,CAIGlpD,GA9CC,QAAA8qB,EAAA/nB,KAAA,iBAAA+nB,EAAAlwB,KAAA,GAAAkwB,EAAAmjE,GAAAnjE,EAAA,SAiDLhvB,QAAQqB,MAAM,YAAd2tB,EAAAmjE,IACA/kC,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,YAAa,CAAEyJ,KAAM,CAACuhG,EAAWvtD,EAAAmjE,OAC1CjvF,QAAS,KAHVkqD,CAIGlpD,GAtDE,yBAAA8qB,EAAA5nB,SAAA2nB,EAAA,kBAAP,gBAAAmqD,EAAAC,GAAA,OAAA9kG,EAAA8P,MAAAwd,KAAApxB,YAAA,GA2DM,SAASi0F,GAAThwF,GAAmD,IAArBgc,EAAqBhc,EAArBgc,WAAYS,EAASzc,EAATyc,MAChD,sBAAAvc,EAAAjD,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAuoB,EAAehrB,EAAUrzB,GAAzB,IAAA2C,EAAA4vF,EAAAvvF,EAAAH,EAAAH,EAAA8tB,EAAA6xG,EAAAzd,EAAAhS,EAAA9L,EAAA9iG,EAAAgvG,EAAAD,EAAAziF,EAAA2jD,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,UACNu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GAC1B1wB,EAAW0C,aAAerF,KACxBuyF,EAA8B5vF,EAA9B4vF,SAAUvvF,EAAoBL,EAApBK,MAAOH,EAAaF,EAAbE,SAErBH,EAAS,GACT8tB,EAAQ,4BACR6xG,EAAiBx/H,EAPfy7C,EAAArwB,KAAA,GAUDjrB,IAASuvF,EAVR,CAAAj0C,EAAAloB,KAAA,gBAAAkoB,EAAAloB,KAAA,GAWmB2uF,aAAe,CACrC/hH,QACAuvF,WACA1vF,SAAUw/H,IAdP,WAWAzd,EAXAtmE,EAAAqJ,KAAA,CAAArJ,EAAAloB,KAAA,gBAkBGw8E,EAAOiuB,aAAa79H,GAlBvBs7C,EAAAloB,KAAA,GAmBgB0qG,aAAc,CAAEluB,OAAMrgB,aAnBtC,eAmBGuU,EAnBHxoD,EAAAqJ,KAAArJ,EAAAloB,KAAA,GAqBK08E,GAAe,CACrBhM,SAtBC,WAAAxoD,EAAAg5B,GAAAh5B,EAAAqJ,KAAArJ,EAAAg5B,GAAA,CAAAh5B,EAAAloB,KAAA,SAAAkoB,EAAAg5B,GAuBK,GAvBL,WAAAtzE,EAAAs6C,EAAAg5B,GAoBK07B,EApBLhvG,EAoBKgvG,mBAKFD,EAAeC,GAAmB,IAG1BtwG,QACbqwG,EAAa9uF,KACb8uF,EAAarwG,OAAOmW,MACpBk6F,EAAarwG,OAAOC,UACpBowG,EAAarwG,OAAOy/E,YAhClB,CAAA7jC,EAAAloB,KAAA,gBAkCI9F,EAAOgyG,aAAWvvB,EAAa9uF,IAAK,SAAU,MACpDo+G,EAAiB/xG,EAAKztB,SACtBmsB,aAAmB+jF,EAAarwG,OAAQqwG,EAAa9uF,KApCnDq6B,EAAAloB,KAAA,GAsCiB2uF,aAAe,CACjC/hH,QACAuvF,WACA1vF,SAAUw/H,IAzCT,QAsCFzd,EAtCEtmE,EAAAqJ,KAAA,aA8CEi9D,GAAcA,EAAW/rG,MAAQ+rG,EAAW/rG,KAAK/X,SA9CnD,CAAAw9C,EAAAloB,KAAA,aA+CH1zB,EAAM9B,OAAAC,EAAA,EAAAD,CAAA,GAAQgkH,EAAW/rG,OAClB7V,MAAQA,EACfN,EAAO6vF,SAAWA,EAClB7vF,EAAOG,SAAWw/H,GAAkBphG,KAAWioE,MAAM1sF,KACrD9Z,EAAOC,SAAW,CACjB7B,QAAS8jH,EAAWjiH,SACpBw/E,WAAYyiC,EAAWziC,YAAcyiC,EAAW2d,oBAG5C1/H,EAxDF,CAAAy7C,EAAAloB,KAAA,gBAAAkoB,EAAAloB,KAAA,GAyDI8/D,aAAoB,CAAElzF,QAAOuvF,aAzDjC,QA0DFK,GAAe,mBAAmB,EAAlCA,CAAwCv/D,GA1DtC,QA8DJu/D,GAAe,eAAgBgyB,EAAaA,EAAWjiH,SAAW,KAAlEiwF,CACCv/D,GAEDu/D,GAAe,SAAUlwF,EAAzBkwF,CAAiCv/D,GACjCu/D,GAAe,aAAclwF,EAAO5B,QAApC8xF,CAA6Cv/D,GAC7Cu/D,GAAe,eAAgBlwF,EAAOC,SAAtCiwF,CAAgDv/D,GAnE5C,QAAAirB,EAAAloB,KAAA,iBAAAkoB,EAAArwB,KAAA,GAAAqwB,EAAAgjE,GAAAhjE,EAAA,SAsELnvB,QAAQqB,MAAM,yBAAd8tB,EAAAgjE,IACA9wF,EAAK8tB,EAAAgjE,GAvEA,WA0EArtC,IAAYvxE,EAAO5B,QAEzBm5C,GAASt6B,EAAY,SAAU,CAC9Bs0D,UACAllD,IAAK,CAAEkmB,IAAK,yBAA0B9qC,KAAM,CAACuhG,EAAYl7E,KACzDpQ,MAAOA,GAHR65B,CAIG5mB,IAEC4gD,EAlFE,CAAA31B,EAAAloB,KAAA,gBAAAkoB,EAAAloB,KAAA,GAmFC6rG,KAAQ5uG,EAAUrzB,GAnFnB,QAqFN2rG,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GArF3B,yBAAAirB,EAAA/nB,SAAA8nB,EAAA,kBAAP,gBAAAqqD,EAAAC,GAAA,OAAA9kG,EAAAyP,MAAAwd,KAAApxB,YAAA,GAyFM,SAASm0F,GAAT1vF,GAAsD,IAArBwb,EAAqBxb,EAArBwb,WAAYS,EAASjc,EAATic,MACnD,sBAAA9b,EAAA1D,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAm+E,EAAe5gF,EAAUrzB,GAAzB,IAAA2C,EAAAD,EAAA4wF,EAAAxyF,EAAA0hI,EAAAT,EAAA9tD,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAg+E,GAAA,cAAAA,EAAAjmF,KAAAimF,EAAA99E,MAAA,UACNu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GAD1B6gF,EAAAjmF,KAAA,EAGCtrB,EAAW0C,aAAerF,KACxB0C,EAAoCC,EAApCD,OAAQ4wF,EAA4B3wF,EAA5B2wF,wBACRxyF,EAAY4B,EAAZ5B,QAEF0hI,GAAqBlvC,GAA2B,IAAIpwF,MAAM,KAC1D6+H,EAAe,CACpBjhI,QAAS0hI,EAAkB,GAC3BrgD,WAAY3oE,SAASgpH,EAAkB,IAAM,IAG9C5vC,GAAe,SAAUlwF,EAAzBkwF,CAAiCv/D,GACjCu/D,GAAe,aAAc9xF,EAA7B8xF,CAAsCv/D,GACtCu/D,GAAe,eAAgBmvC,EAA/BnvC,CAA6Cv/D,GAI7C4mB,GAASt6B,EAAY,0BAA2B,CAC/Cs0D,QAHKA,IAAY8tD,EAAajhI,QAI9BiuB,IAAK,CAAEkmB,IAAK,6BACZ70B,MAAOA,GAHR65B,CAIG5mB,IAEC4gD,EAzBC,CAAAigC,EAAA99E,KAAA,gBAAA89E,EAAA99E,KAAA,GA0BE6rG,KAAQ5uG,EAAUrzB,GA1BpB,QAAAk0G,EAAA99E,KAAA,iBAAA89E,EAAAjmF,KAAA,GAAAimF,EAAA58B,GAAA48B,EAAA,SA6BL/kF,QAAQqB,MAAM,gCAAd0jF,EAAA58B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,gCAAiC,CACzCyJ,KAAM,CAACuhG,EAAWwI,EAAA58B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GApCE,QAuCNs4E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GAvC3B,yBAAA6gF,EAAA39E,SAAA09E,EAAA,kBAAP,gBAAAF,EAAAI,GAAA,OAAA7vG,EAAAgP,MAAAwd,KAAApxB,YAAA,GA2CM,SAAS+iI,GAAT/9H,GAAsE,IAAxCib,EAAwCjb,EAAxCib,WAAYS,EAA4B1b,EAA5B0b,MAAOsiH,EAAqBh+H,EAArBg+H,kBACvD,sBAAA59H,EAAAlE,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAw+E,EAAejhF,EAAUrzB,GAAzB,IAAA2C,EAAA4D,EAAAvD,EAAAN,EAAAuxE,EAAA8e,EAAAkxB,EAAA8d,EAAA,OAAAlsG,EAAAp2B,EAAAy2B,KAAA,SAAAq+E,GAAA,cAAAA,EAAAtmF,KAAAsmF,EAAAn+E,MAAA,WACLssG,GAAqB/2B,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GAChD1wB,EAAW0C,aAAerF,KACxBuG,EAAgC5D,EAAhC4D,aAAcvD,EAAkBL,EAAlBK,MAAON,EAAWC,EAAXD,OAHvB6xG,EAAAtmF,KAAA,EAKDgmD,IAAY1tE,KAAkB7D,KAAYM,EACzCuD,IAAgB7D,IAAYM,EAN5B,CAAAuxG,EAAAn+E,KAAA,gBAOE28D,EAAarwF,EAAO5B,QAPtByzG,EAAAn+E,KAAA,EASiBy3F,GAAsB,CAAEx8G,MAAO0hF,IAThD,OASEkxB,EATF1P,EAAA5sD,KAUEo6E,EAAe,CACpBjhI,QAASmjH,EAAO19G,aAChB47E,WAAY8hC,EAAO9hC,YAGpByQ,GAAe,eAAgBqxB,EAAO19G,aAAtCqsF,CAAoDv/D,GACpDu/D,GAAe,iBAAkBqxB,EAAjCrxB,CAAyCv/D,GACzCu/D,GAAe,eAAgBmvC,EAA/BnvC,CAA6Cv/D,GAE7Cu/D,GAAe,SAAUlwF,EAAzBkwF,CAAiCv/D,GACjCu/D,GAAe,aAAcG,EAA7BH,CAAyCv/D,GACzCu/D,GAAe,mBAAmB,EAAlCA,CAAwCv/D,GAExC4gD,EAAUgwC,EAAO19G,gBAAkB7D,KAAYM,EAvB3C,eAAAuxG,EAAAn+E,KAAA,GA0BC6jB,GAASt6B,EAAY,eAAgB,CAC1Cs0D,UACAllD,IAAK,CAAEkmB,IAAK,8BACZ70B,SAHK65B,CAIH5mB,GA9BE,YAgCD4gD,EAhCC,CAAAsgC,EAAAn+E,KAAA,gBAAAm+E,EAAAn+E,KAAA,GAiCE6rG,KAAQ5uG,EAAUrzB,GAjCpB,QAAAu0G,EAAAn+E,KAAA,iBAAAm+E,EAAAtmF,KAAA,GAAAsmF,EAAAj9B,GAAAi9B,EAAA,SAoCLplF,QAAQqB,MAAM,6BAAd+jF,EAAAj9B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,6BAA8B,CACtCyJ,KAAM,CAACuhG,EAAW6I,EAAAj9B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GA3CE,SA8CLqvG,GAAqB/2B,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GA9CjD,yBAAAkhF,EAAAh+E,SAAA+9E,EAAA,kBAAP,gBAAAF,EAAAI,GAAA,OAAA1vG,EAAAwO,MAAAwd,KAAApxB,YAAA,GAkDM,SAASijI,GAAT19H,GAAoD,IAArB0a,EAAqB1a,EAArB0a,WAAYS,EAASnb,EAATmb,MACjD,sBAAApN,EAAApS,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA6+E,EAAethF,EAAUrzB,GAAzB,IAAA2C,EAAA4D,EAAAvD,EAAAuvF,EAAAte,EAAApxE,EAAA+hH,EAAA7xB,EAAAkxB,EAAA2e,EAAAb,EAAA,OAAAlsG,EAAAp2B,EAAAy2B,KAAA,SAAA0+E,GAAA,cAAAA,EAAA3mF,KAAA2mF,EAAAx+E,MAAA,UACNu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GAC1B1wB,EAAW0C,aAAerF,KACxBuG,EAAkC5D,EAAlC4D,aAAcvD,EAAoBL,EAApBK,MAAOuvF,EAAa5vF,EAAb4vF,SAHvBqiB,EAAA3mF,KAAA,EAKDgmD,IAAY1tE,GAAgBvD,GAASuvF,EAEpChsF,IAAgBvD,IAASuvF,EAPzB,CAAAqiB,EAAAx+E,KAAA,gBAQEvzB,EAAWo+B,KAAWkoE,MAAM3sF,KAR9Bo4F,EAAAx+E,KAAA,EAUqBysG,aAAkB,CAC1C7/H,QACAuvF,WACA1vF,aAbG,cAUE+hH,EAVFhQ,EAAAjtD,MAgBO3kD,MAAQA,EACnB4hH,EAAWryB,SAAWA,EAEhBQ,EAAa6xB,EAAW9jH,QAnB1B8zG,EAAAx+E,KAAA,GAqBiBy3F,GAAsB,CAAEx8G,MAAO0hF,IArBhD,eAqBEkxB,EArBFrP,EAAAjtD,KAuBEphD,EAAe09G,EAAO19G,aACtBw7H,EAAe,CACpBjhI,QAASyF,EACT47E,WAAY8hC,EAAO9hC,YA1BhByyB,EAAAx+E,KAAA,GA6BE0sG,aAAgB,CACrB9/H,QACAuvF,WACA1vF,WACAkgI,QAAS,WACTC,UAAWz8H,IAlCR,eAAAquG,EAAAx+E,KAAA,GAoCE0sG,aAAgB,CACrB9/H,QACAuvF,WACA1vF,WACAkgI,QAAS,aACTC,UAAWjB,EAAa5/C,aAzCrB,QA4CJyQ,GAAe,eAAgBrsF,EAA/BqsF,CAA6Cv/D,GAC7Cu/D,GAAe,iBAAkBqxB,EAAjCrxB,CAAyCv/D,GACzCu/D,GAAe,eAAgBmvC,EAA/BnvC,CAA6Cv/D,GAE7Cu/D,GAAe,SAAUgyB,EAAzBhyB,CAAqCv/D,GACrCu/D,GAAe,aAAcG,EAA7BH,CAAyCv/D,GACzCu/D,GAAe,mBAAmB,EAAlCA,CAAwCv/D,GAExC4gD,IAAY1tE,EApDR,eAAAquG,EAAAx+E,KAAA,GAuDC6jB,GAASt6B,EAAY,eAAgB,CAC1Cs0D,UACAllD,IAAK,CAAEkmB,IAAK,8BACZ70B,SAHK65B,CAIH5mB,GA3DE,YA6DD4gD,EA7DC,CAAA2gC,EAAAx+E,KAAA,gBAAAw+E,EAAAx+E,KAAA,GA8DE6rG,KAAQ5uG,EAAUrzB,GA9DpB,QAAA40G,EAAAx+E,KAAA,iBAAAw+E,EAAA3mF,KAAA,GAAA2mF,EAAAt9B,GAAAs9B,EAAA,SAiELzlF,QAAQqB,MAAM,8BAAdokF,EAAAt9B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,8BAA+B,CACvCyJ,KAAM,CAACuhG,EAAWkJ,EAAAt9B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GAxEE,QA2ENs4E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GA3E3B,yBAAAuhF,EAAAr+E,SAAAo+E,EAAA,kBAAP,gBAAAF,EAAAI,GAAA,OAAA7hG,EAAAM,MAAAwd,KAAApxB,YAAA,GA+EM,SAAS81F,GAAT7tE,GAAsE,IAAzChI,EAAyCgI,EAAzChI,WAAYS,EAA6BuH,EAA7BvH,MAAOy8B,EAAsBl1B,EAAtBk1B,QAASif,EAAan0C,EAAbm0C,UAC/D,sBAAA/nD,EAAAnT,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAi/E,EAAe1hF,EAAUrzB,GAAzB,IAAA2C,EAAAK,EAAAsvF,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAp3E,EAAA04D,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAA8+E,GAAA,cAAAA,EAAA/mF,KAAA+mF,EAAA5+E,MAAA,cACAzzB,EAAW0C,aAAerF,KAE/BgD,EAOGL,EAPHK,MACAsvF,EAMG3vF,EANH2vF,WACAC,EAKG5vF,EALH4vF,SACAC,EAIG7vF,EAJH6vF,cACAC,EAGG9vF,EAHH8vF,SACAC,EAEG/vF,EAFH+vF,SACAC,EACGhwF,EADHgwF,SATKqiB,EAAA5+E,KAAA,EAYoBmvB,QAAQ9kD,IAAI,CACrCy7G,GAAcv8F,EAAY3c,EAAOod,GAAO,EAAxC87F,CAA8C7oF,GAC9CwgF,GAAmBl0F,EAAY2yE,EAAYtvF,EAAOod,EAAlDyzF,CAAyDxgF,GACzDygF,GAAiBn0F,EAAY4yE,EAAUnyE,EAAvC0zF,CAA8CzgF,GAC9C2gF,GAAsBr0F,EAAY6yE,EAAeD,EAAUnyE,EAA3D4zF,CACC3gF,GAEDoiF,GAAiB91F,EAAY+yE,EAAUtyE,EAAvCq1F,CAA8CpiF,GAC9CyiF,GAAiBn2F,EAAY+yE,EAAUC,EAAUvyE,EAAjD01F,CAAwDziF,GACxDghF,GAAY10F,EAAY8yE,EAAUryE,EAAlCi0F,CAAyChhF,KArBpC,UAYA9X,EAZAy5F,EAAArtD,OAwBAssB,EAAU14D,EAAY/S,MAAM,SAAA0kC,GAAC,OAAU,IAANA,KAxBjC,CAAA8nE,EAAA5+E,KAAA,gBA2BLu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GA3B3B2hF,EAAA5+E,KAAA,GA4BCusG,GAAoB,CAAEhjH,aAAYS,QAAOsiH,mBAAmB,GAA5DC,CACLtvG,EACArzB,GA9BI,QAkCN4zG,GAAsB,CAAE3/B,UAASp3B,UAASif,cAE1C6vC,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GApC3B,yBAAA2hF,EAAAz+E,SAAAw+E,MAAP,gBAAAE,EAAAC,GAAA,OAAAnhG,EAAAT,MAAAwd,KAAApxB,YAAA,GAwCM,SAASo2F,GAAT9hF,GAAqE,IAAzC2L,EAAyC3L,EAAzC2L,WAAYS,EAA6BpM,EAA7BoM,MAA6BpM,EAAtB6oC,QAAsB7oC,EAAb8nD,UAC9D,sBAAArnD,EAAA7T,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAu/E,EAAehiF,EAAUrzB,GAAzB,IAAA2C,EAAAD,EAAA0yG,EAAApyG,EAAAsvF,EAAAG,EAAAC,EAAAC,EAAAK,EAAAz3E,EAAA,OAAAsa,EAAAp2B,EAAAy2B,KAAA,SAAAo/E,GAAA,cAAAA,EAAArnF,KAAAqnF,EAAAl/E,MAAA,cACAzzB,EAAW0C,aAAerF,KAE/B0C,EAQGC,EARHD,OACA0yG,EAOGzyG,EAPHyyG,sBACApyG,EAMGL,EANHK,MACAsvF,EAKG3vF,EALH2vF,WACAG,EAIG9vF,EAJH8vF,SACAC,EAGG/vF,EAHH+vF,SACAC,EAEGhwF,EAFHgwF,SACAK,EACGrwF,EADHqwF,mBAVKsiB,EAAAl/E,KAAA,EAaoBmvB,QAAQ9kD,IAAI,CAErCq0G,GAAen1F,EAAYjd,EAAQ0d,EAAnC00F,CAA0CzhF,GAC1C8hF,GAA8Bx1F,EAAYy1F,EAAuBh1F,EAAjE+0F,CACC9hF,GAID6oF,GAAcv8F,EAAY3c,EAAOod,GAAO,EAAxC87F,CAA8C7oF,GAC9CwgF,GAAmBl0F,EAAY2yE,EAAYtvF,EAAOod,EAAlDyzF,CAAyDxgF,GACzDoiF,GAAiB91F,EAAY+yE,EAAUtyE,EAAvCq1F,CAA8CpiF,GAC9CyiF,GAAiBn2F,EAAY+yE,EAAUC,EAAUvyE,EAAjD01F,CAAwDziF,GACxDghF,GAAY10F,EAAY8yE,EAAUryE,EAAlCi0F,CAAyChhF,GACzC8iF,GAAsBx2F,EAAYqzE,EAAoB5yE,EAAtD+1F,CAA6D9iF,KA1BxD,UAaA9X,EAbA+5F,EAAA3tD,MA6BUpsC,EAAY/S,MAAM,SAAA0kC,GAAC,OAAU,IAANA,IA7BjC,CAAAooE,EAAAl/E,KAAA,gBAgCLu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GAhC3BiiF,EAAAl/E,KAAA,GAiCCqsG,GAAmB,CACxB9iH,aACAS,QACAsiH,mBAAmB,GAHdD,CAIHpvG,EAAUrzB,GArCR,QA0CN2rG,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GA1C3B,yBAAAiiF,EAAA/+E,SAAA8+E,MAAP,gBAAAE,EAAAC,GAAA,OAAA/gG,EAAAnB,MAAAwd,KAAApxB,YAAA,GA8CM,SAASq0F,GAATr/E,GAKJ,IAJFiL,EAIEjL,EAJFiL,WACAS,EAGE1L,EAHF0L,MACAy8B,EAEEnoC,EAFFmoC,QACAif,EACEpnD,EADFonD,UAEA,sBAAA9mD,EAAApU,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA4/E,EAAeriF,EAAUrzB,GAAzB,IAAA2C,EAAAyyG,EAAA1yG,EAAA6Y,EAAA04D,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAy/E,GAAA,cAAAA,EAAA1nF,KAAA0nF,EAAAv/E,MAAA,cACNu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GAE1B1wB,EAAW0C,aAAerF,KACxBo1G,EAAkCzyG,EAAlCyyG,sBAAuB1yG,EAAWC,EAAXD,OAJzBizG,EAAAv/E,KAAA,EAMoBmvB,QAAQ9kD,IAAI,CACrCq0G,GAAen1F,EAAYjd,EAAQ0d,EAAnC00F,CAA0CzhF,GAC1C8hF,GAA8Bx1F,EAAYy1F,EAAuBh1F,EAAjE+0F,CACC9hF,KATI,cAMA9X,EANAo6F,EAAAhuD,KAaAssB,EAAU14D,EAAY/S,MAAM,SAAA0kC,GAAC,OAAU,IAANA,IAbjCyoE,EAAAv/E,KAAA,EAeAw9E,GAAsB,CAAE3/B,UAASp3B,UAASif,cAf1C,OAiBN6vC,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GAjB3B,yBAAAsiF,EAAAp/E,SAAAm/E,MAAP,gBAAAE,EAAAC,GAAA,OAAA7gG,EAAA1B,MAAAwd,KAAApxB,YAAA,GAqBM,SAASujI,GAAT/tH,GAQJ,IAPFpU,EAOEoU,EAPFpU,QACA+B,EAMEqS,EANFrS,SACA8sF,EAKEz6E,EALFy6E,iBACAE,EAIE36E,EAJF26E,gBACAr6D,EAGEtgB,EAHFsgB,KACA0tG,EAEEhuH,EAFFguH,QACAxzC,EACEx6E,EADFw6E,SAEA,sBAAAv6E,EAAAvU,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAigF,EAAe1iF,EAAUrzB,GAAzB,IAAA0C,EAAA,OAAAmzB,EAAAp2B,EAAAy2B,KAAA,SAAA8/E,GAAA,cAAAA,EAAA/nF,KAAA+nF,EAAA5/E,MAAA,OAWNw8D,GAAe,yBAVTlwF,EAAS,CACd5B,UACA+B,WACA8sF,mBACAE,kBACAr6D,OACA0tG,UACAxzC,aAG8C5uF,QAA/C8xF,CAAwDv/D,GACxDu/D,GAAe,SAAUlwF,EAAzBkwF,CAAiCv/D,GAZ3B,wBAAA2iF,EAAAz/E,SAAAw/E,MAAP,gBAAAE,EAAAC,GAAA,OAAA/gG,EAAA7B,MAAAwd,KAAApxB,YAAA,GAgBM,SAASg3F,GAAiBxpE,GAChC,OAAO,SAASmG,GACf,IAEMrwB,EAFe,IAAIqqB,gBAAgBH,GAEd1D,IAAI,gBAE3BxmB,IACH4vF,GAAe,QAAS5vF,EAAxB4vF,CAA+Bv/D,GAC/Bu/D,GAAe,aAAc5vF,EAA7B4vF,CAAoCv/D,KAKhC,SAASq4D,GAATt2E,GAAwC,IAAXtU,EAAWsU,EAAXtU,QACnC,sBAAAyU,EAAA3U,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAsgF,EAAe/iF,EAAUrzB,GAAzB,IAAAD,EAAA8C,EAAA2S,EAAAo4F,EAAApxF,EAAA,OAAAqZ,EAAAp2B,EAAAy2B,KAAA,SAAAmgF,GAAA,cAAAA,EAAApoF,KAAAooF,EAAAjgF,MAAA,cACAr2B,EAAQC,IACR6C,EAAWO,YAAerD,GAChC4rG,EAAa,OAAA9iG,OAAQ/H,IAAW,EAAhC6qG,CAAsCt4E,GAHhCgjF,EAAApoF,KAAA,EAAAooF,EAAAjgF,KAAA,EAMsB43E,aAAUnrG,GANhC,cAAA2S,EAAA6gG,EAAA1uD,KAMGimD,EANHp4F,EAMGo4F,SANHyI,EAAAjgF,KAAA,GAOcw3E,EAASo0B,cAAclhI,GAPrC,eAOC0b,EAPD65F,EAAA1uD,KAAA0uD,EAAA9+B,OAAA,SAQElkD,EAAS,CACf5qB,KAAM6H,KACNI,KAAM5P,EACN0S,MAAOgJ,KAXH,QAAA65F,EAAApoF,KAAA,GAAAooF,EAAA/+B,GAAA++B,EAAA,SAcLlnF,QAAQqB,MAAM,4BAAd6lF,EAAA/+B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,4BAA6B,CACrCyJ,KAAM,CAACuhG,EAAW2K,EAAA/+B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GArBE,QAuBNs4E,EAAa,OAAA9iG,OAAQ/H,IAAW,EAAhC6qG,CAAuCt4E,GAvBjC,yBAAAgjF,EAAA9/E,SAAA6/E,EAAA,kBAAP,gBAAAE,EAAAC,GAAA,OAAAhhG,EAAAjC,MAAAwd,KAAApxB,YAAA,GA2BM,SAAS0xF,KACf,sBAAAz7E,EAAA/U,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA2gF,EAAepjF,EAAUrzB,GAAzB,IAAA6C,EAAA+S,EAAAg4F,EAAAlrG,EAAAygI,EAAAriI,EAAA,OAAA+0B,EAAAp2B,EAAAy2B,KAAA,SAAAwgF,GAAA,cAAAA,EAAAzoF,KAAAyoF,EAAAtgF,MAAA,cACNu1E,EAAcjb,MAAwB,EAAtCib,CAA4Ct4E,GADtCqjF,EAAAzoF,KAAA,EAICprB,EAAWo+B,KAAWC,SAAS1kB,KAJhCk6F,EAAAtgF,KAAA,EAKsB43E,aAAUnrG,GALhC,cAAA+S,EAAA8gG,EAAA/uD,KAKGimD,EALHh4F,EAKGg4F,SACFlrG,EAAS,CACdG,SAAUA,GAPN6zG,EAAAtgF,KAAA,GAUwBsvF,GAAU,CAAEhjH,SAAQkrG,aAV5C,eAUCu1B,EAVDzsB,EAAA/uD,KAAA+uD,EAAAtgF,KAAA,GAWiB+sG,EAAer0B,aAXhC,eAWChuG,EAXD41G,EAAA/uD,KAAA+uD,EAAAtgF,KAAA,GAYeu0F,GAAmB,CACtC7pH,QAAS,CAAEA,WACX+B,WACAmnH,iBAAiB,IAfb,QAkBLp3B,GAAe,QAlBV8jB,EAAA/uD,KAkBLirC,CAA+Bv/D,EAAUrzB,GAEzCijI,GAAqB,CACpBniI,UACA+B,SAAUo+B,KAAWC,SAAS1kB,KAC9BkzE,SAAUzuD,KAAWC,SAASwuD,UAH/BuzC,CAIG5vG,EAAUrzB,GAxBR02G,EAAAtgF,KAAA,iBAAAsgF,EAAAzoF,KAAA,GAAAyoF,EAAAp/B,GAAAo/B,EAAA,SA0BLvnF,QAAQqB,MAAM,oBAAdkmF,EAAAp/B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,oBAAqB,CAC7ByJ,KAAM,CAACuhG,EAAWgL,EAAAp/B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GAjCE,QAmCNs4E,EAAcjb,MAAwB,EAAtCib,CAA6Ct4E,GAnCvC,yBAAAqjF,EAAAngF,SAAAkgF,EAAA,kBAAP,gBAAAE,EAAAC,GAAA,OAAAjhG,EAAArC,MAAAwd,KAAApxB,YAAA,GAuCM,SAASkyF,KACf,sBAAA77E,EAAAnV,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAghF,EAAezjF,EAAUrzB,GAAzB,IAAAiW,EAAA23F,EAAAlrG,EAAA0gI,EAAAltH,EAAAotG,EAAA+f,EAAA,OAAAxtG,EAAAp2B,EAAAy2B,KAAA,SAAA6gF,GAAA,cAAAA,EAAA9oF,KAAA8oF,EAAA3gF,MAAA,cACNu1E,EAAcna,MAA4B,EAA1Cma,CAAgDt4E,GAD1C0jF,EAAA9oF,KAAA,EAAA8oF,EAAA3gF,KAAA,EAGsB43E,aAAU/sE,KAAWG,OAAO5kB,MAHlD,cAAAvG,EAAA8gG,EAAApvD,KAGGimD,EAHH33F,EAGG23F,SAEFlrG,EAAS,CACdG,SAAUo+B,KAAWG,OAAO5kB,MANxBu6F,EAAA3gF,KAAA,EASsBsvF,GAAU,CAAE9X,WAAUlrG,WAT5C,cASC0gI,EATDrsB,EAAApvD,KAAAovD,EAAA3gF,KAAA,GAW8BgtG,EAAajgB,aAAa,CAC5DjyG,KAAM,EACNyQ,GAAI,KAbA,WAAAzL,EAAA6gG,EAAApvD,KAWG27D,EAXHptG,EAWGotG,SAXHptG,EAWYka,SAKDkzF,EAAQ9yF,MAhBnB,CAAAumF,EAAA3gF,KAAA,gBAiBJu1E,EAAcla,MAA2B,EAAzCka,CAAgDt4E,GAE1CgwG,EAAmB/f,EAAQliH,IAAI,SAAAN,GAAO,OAC3C6pH,GAAmB,CAAE7pH,UAAS+B,SAAUo+B,KAAWG,OAAO5kB,SApBvDu6F,EAAA3gF,KAAA,GAuBkBmvB,QAAQ9kD,IAAI4iI,GAvB9B,QAyBJzwC,GAAe,YAzBXmkB,EAAApvD,KAyBJirC,CAAqCv/D,EAAUrzB,GAC/C4yF,GAAe,mBAAoBwwC,EAAa5tG,KAAhDo9D,CACCv/D,EACArzB,GA5BG+2G,EAAA3gF,KAAA,uBA8BQ,IAAIsrE,MAAM4hB,EAAQ9yF,OAAS,cA9BnC,QAgCLm7E,EAAc,6BAA6B,EAA3CA,CAAkDt4E,GAhC7C0jF,EAAA3gF,KAAA,iBAAA2gF,EAAA9oF,KAAA,GAAA8oF,EAAAz/B,GAAAy/B,EAAA,SAkCL5nF,QAAQqB,MAAM,kBAAdumF,EAAAz/B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,kBAAmB,CAC3ByJ,KAAM,CAACuhG,EAAWqL,EAAAz/B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GAzCE,QA2CNs4E,EAAcla,MAA2B,EAAzCka,CAAgDt4E,GAChDs4E,EAAcna,MAA4B,EAA1Cma,CAAiDt4E,GA5C3C,yBAAA0jF,EAAAxgF,SAAAugF,EAAA,kBAAP,gBAAAK,EAAAC,GAAA,OAAArhG,EAAAzC,MAAAwd,KAAApxB,YAAA,GAgDM,SAASyD,GAATiT,GAMJ,IALFw5E,EAKEx5E,EALFw5E,SACAC,EAIEz5E,EAJFy5E,gBACAF,EAGEv5E,EAHFu5E,iBACAD,EAEEt5E,EAFFs5E,SACA7sF,EACEuT,EADFvT,SAEA,sBAAAwT,EAAAzV,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAgiF,EAAezkF,EAAUrzB,GAAzB,IAAAc,EAAA00B,EAAA,OAAAK,EAAAp2B,EAAAy2B,KAAA,SAAAmiF,GAAA,cAAAA,EAAApqF,KAAAoqF,EAAAjiF,MAAA,OACEt1B,EAAkB8uF,EAAlB9uF,QAAS00B,EAASo6D,EAATp6D,KAEjBytG,GAAqB,CACpBniI,UACA+B,WACA6sF,WACAl6D,OACAm6D,mBACAE,mBANDozC,CAOG5vG,EAAUrzB,GAVP,wBAAAq4G,EAAA9hF,SAAAuhF,MAAP,gBAAAQ,EAAAC,GAAA,OAAAliG,EAAA/C,MAAAwd,KAAApxB,YAAA,GCvyBM,SAAS4jI,GAAThjI,GAA6C,IAArBijI,EAAqBjjI,EAArBijI,MAAOt/G,EAAc3jB,EAAd2jB,IAAKzQ,EAASlT,EAATkT,MAC1C,OAAO,SAAS6f,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACNizH,MAAOA,EACPt/G,IAAKA,EACLzQ,MAAOA,KAKH,SAASgwH,GAATxiI,GAAgC,IAATuiI,EAASviI,EAATuiI,MAC7B,OAAO,SAASlwG,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACNizH,MAAOA,KAOH,IAAME,GAAa,SAAAtiI,GAAoC,IAAjCuiI,EAAiCviI,EAAjCuiI,QAASC,EAAwBxiI,EAAxBwiI,QAASC,EAAeziI,EAAfyiI,SAC9C,OAAO,SAAAvwG,GACN,OAAOA,EAAS,CACf5qB,KAAM6H,IACNozH,QAASA,EACTC,QAASA,EACTC,SAAUA,MAIA1mC,GAAe,WAC3B,OAAO,SAAA7pE,GACN,OAAOA,EAAS,CACf5qB,KAAM6H,QCnCIuzH,GAAW,eAAAvjI,EAAAM,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAC,EAAOlzB,GAAP,IAAAqY,EAAAla,EAAA4sG,EAAAk2B,EAAAh2B,EAAApuG,UAAA,OAAAm2B,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cAAiBlb,EAAjB4yF,EAAAnuG,OAAA,QAAAC,IAAAkuG,EAAA,GAAAA,EAAA,GAA0B,MAA1B33E,EAAAC,KAAA,EACC43E,aAAUnrG,GADX,cAAA7B,EAAAm1B,EAAAwxB,KAClBimD,EADkB5sG,EAClB4sG,SADkBz3E,EAAAC,KAAA,EAEHw3E,EAASi2B,cAFN,cAEpBC,EAFoB3tG,EAAAwxB,KAAAxxB,EAAAohD,OAAA,SAGnBn1D,uBAAY0hH,EAAStR,WAAYt3G,IAHd,wBAAAib,EAAAI,SAAAR,MAAH,gBAAAS,GAAA,OAAAl2B,EAAAgT,MAAAwd,KAAApxB,YAAA,GCkCjB,SAASs+E,GAAT19E,GAAkD,IAAlB29E,EAAkB39E,EAAlB29E,GAAIh6D,EAAc3jB,EAAd2jB,IAAKzQ,EAASlT,EAATkT,MAC/C,OAAO,SAAS6f,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACN2tE,GAAIA,EACJh6D,IAAKA,EACLzQ,MAAOA,KAKH,SAAS8pF,KACf,OAAO,SAASjqE,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,OAKF,SAASmwE,GAATz/E,GAAqC,IAANi9E,EAAMj9E,EAANi9E,GACrC,OAAO,SAAS5qD,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACN2tE,GAAIA,KAKA,SAAS7sB,KACf,sBAAAjwD,EAAAP,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAC,EAAe1C,EAAUrzB,GAAzB,IAAAD,EAAA+B,EAAAiiI,EAAAlhI,EAAAihI,EAAA,OAAAjuG,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cACAr2B,EAAQC,IACR8B,EAAcF,aAAkB7B,GAChCgkI,EAAkB3hH,uBAAYtgB,EAAa,QAC3Ce,EAAWO,YAAerD,GAJ1Bo2B,EAAAC,KAAA,EAKiBytG,GAAYhhI,EAAU,QALvC,OAKAihI,EALA3tG,EAAAwxB,MAMDo8E,GAAmBD,GACvBvnD,EAAS,CACR9zE,KAAM,UACNkU,MAAOjc,aAAE,6BACT2xB,QAAS,KAHVkqD,CAIGlpD,GAXE,wBAAA8C,EAAAI,SAAAR,MAAP,gBAAAS,EAAA+nB,GAAA,OAAAp9C,EAAAmS,MAAAwd,KAAApxB,YAAA,GAiBM,SAASskI,GAATziI,GAA0C,IAAZ08E,EAAY18E,EAAZ08E,GAAImI,EAAQ7kF,EAAR6kF,KACxC,OAAO,SAAS/yD,GACf,GAAK4qD,GAAOA,EAAG6oB,MAAS1gB,EAExB,OAAO/yD,EAAS,CACf5qB,KAAM6H,IACNkD,MAAOyqE,EACPA,GAAIA,EAAG6oB,KACP1gB,KAAMA,KAMF,SAAS69C,GAATviI,GAAyD,IAAxBu8E,EAAwBv8E,EAAxBu8E,GAAIh6D,EAAoBviB,EAApBuiB,IAAKzQ,EAAe9R,EAAf8R,MAAO4yE,EAAQ1kF,EAAR0kF,KACvD,OAAO,SAAS/yD,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,KACN2tE,GAAIA,EACJh6D,IAAKA,EACLzQ,MAAOA,EACP4yE,KAAMA,KAKF,SAAS89C,GAATriI,GAA4C,IAAZo8E,EAAYp8E,EAAZo8E,GAAImI,EAAQvkF,EAARukF,KAC1C,OAAO,SAAS/yD,GACf,OAAOA,EAAS,CACf5qB,KAAM6H,IACN2tE,GAAIA,EACJmI,KAAMA,KAKF,SAASpF,GAATh/E,GAOJ,IANF86C,EAME96C,EANF86C,QACAn9B,EAKE3d,EALF2d,WAEAS,GAGEpe,EAJF69E,KAIE79E,EAHFoe,OACAy8B,EAEE76C,EAFF66C,QACAif,EACE95D,EADF85D,UAEA,sBAAA35D,EAAAvB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA8nB,EAAevqB,EAAUrzB,GAAzB,IAAA+hI,EAAAhiI,EAAAokI,EAAAzlD,EAAAE,EAAAD,EAAAoU,EAAAlwF,EAAAuhI,EAAAnwD,EAAAowD,EAAAhiI,EAAA+8E,EAAA,OAAAvpD,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAAAynB,EAAAznB,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,UAEA0uG,EAAe/C,KAA4B3rG,EAAUrzB,IACvDogB,EAHE,CAAAy9B,EAAAznB,KAAA,eAAAynB,EAAAznB,KAAA,EAIC2rG,EAJD,cAOAhiI,EAAQC,IAPRmkI,EAQ0CtjH,aAC/C9gB,EACA+8C,GAFO4hC,EARFylD,EAQEzlD,QAASE,EARXulD,EAQWvlD,gBAAiBD,EAR5BwlD,EAQ4BxlD,UAI5BoU,EAAa5vF,aAAoBpD,GACjC8C,EAAWO,YAAerD,GAb1B89C,EAAAznB,KAAA,GAeyBmvB,QAAQ9kD,IAAI,CAC1Cg6G,GAAmB,CAClB96F,aACAymE,KAAM1H,EACNnpC,KAAM,UACN65D,UAAU,EACVD,aAAa,EACbtsG,WACAud,SAPDq6F,CAQGpnF,GACHmoF,GAAkB,CACjB77F,aACAg/D,YACAv+D,SAHDo7F,CAIGnoF,KA7BE,WAeA+wG,EAfAvmF,EAAA8J,OAgCFssB,EAAUmwD,EAAiB57H,MAAM,SAAA0kC,GAAC,OAAU,IAANA,KAhCpC,CAAA2Q,EAAAznB,KAAA,gBAAAynB,EAAAznB,KAAA,GAmCoB4kF,GAA0B,CAClDr7F,aACA++D,UACAqU,aACAnU,kBACAD,YACAv+D,QACAvd,YAPwBm4G,CAQtB3nF,GA3CE,eAmCCgxG,EAnCDxmF,EAAA8J,KA6CLssB,EAAUowD,EAAWpwD,QA7ChBp2B,EAAAznB,KAAA,GA+CC4nD,GAAqB,CAC1BC,GAAInhC,EACJ74B,IAAK,aACLzQ,MAAO6wH,EAAWpvF,KAHb+oC,CAIH3qD,GAnDE,YAsDF4gD,EAtDE,CAAAp2B,EAAAznB,KAAA,gBAuDC/zB,EAAUD,YAAcrC,GAvDzB89C,EAAAznB,KAAA,GAwDkB65F,GAAqB,CAC3CtxC,YACAD,UACAswC,aAAa,EACb3sH,YA5DI,eAwDC+8E,EAxDDvhC,EAAA8J,KAAA9J,EAAAznB,KAAA,GA+DC4nD,GAAqB,CAC1BC,GAAInhC,EACJ74B,IAAK,WACLzQ,MAAO4rE,GAHFpB,CAIH3qD,EAAUrzB,GAnER,eAAA69C,EAAAznB,KAAA,GAqEWqhF,GAAa,CAC5B93F,aACA+3F,aAAct4B,EAAS0wC,QACvBnY,gBAAiB,IACjBv3F,SAJeq3F,CAKbpkF,EAAUrzB,GA1ER,QAqELi0E,EArEKp2B,EAAA8J,KAAA,eAAA9J,EAAAznB,KAAA,GA6EAw9E,GAAsB,CAAE3/B,UAASp3B,UAASif,cA7E1C,eAAAje,EAAAznB,KAAA,GA+EAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GA/EjC,yBAAAwqB,EAAAtnB,SAAAqnB,MAAP,gBAAA6jD,EAAAwG,GAAA,OAAA9lG,EAAAmR,MAAAwd,KAAApxB,YAAA,GAmFM,SAASuhF,GAATz9E,GAAyD,IAAtBk7E,EAAsBl7E,EAAtBk7E,QAASC,EAAan7E,EAAbm7E,UAClD,sBAAAh7E,EAAA/C,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAioB,EAAe1qB,EAAUrzB,GAAzB,IAAAqC,EAAAmY,EAAA,OAAAqb,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,cAAA4nB,EAAA/vB,KAAA,EAEC5rB,EAAUD,YAAcpC,KAFzBg+C,EAAA5nB,KAAA,EAGgB65F,GAAqB,CACzC5tH,UACAq8E,UACAC,cANI,OAGCnkE,EAHDwjC,EAAA2J,KAQL40B,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,sCAAuC,CAC/CyJ,KAAM,CAACqQ,KAER6X,QAAS,MAbL2rB,EAAA5nB,KAAA,gBAAA4nB,EAAA/vB,KAAA,EAAA+vB,EAAAs5B,GAAAt5B,EAAA,SAgBL7uB,QAAQqB,MAAM,0CAAdwtB,EAAAs5B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,0CAA2C,CACnDyJ,KAAM,CAACuhG,EAAW1tD,EAAAs5B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GAvBE,yBAAA2qB,EAAAznB,SAAAwnB,EAAA,iBAAP,gBAAAsqD,EAAAC,GAAA,OAAA3kG,EAAA2P,MAAAwd,KAAApxB,YAAA,GA4BM,SAASkhF,GAAT/8E,GAMJ,IALFi5C,EAKEj5C,EALFi5C,QACAn9B,EAIE9b,EAJF8b,WACAS,EAGEvc,EAHFuc,MACAy8B,EAEEh5C,EAFFg5C,QACAif,EACEj4D,EADFi4D,UAEA,sBAAA93D,EAAApD,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAooB,EAAe7qB,EAAUrzB,GAAzB,IAAAD,EAAAsC,EAAA4kE,EAAAx+C,EAAAnH,EAAAgjH,EAAA7mD,EAAAC,EAAAq6B,EAAAC,EAAAC,EAAAC,EAAAr1G,EAAAuhI,EAAAnwD,EAAAmL,EAAA,OAAAvpD,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cAAA+nB,EAAA/nB,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,cAAA8qB,EAAA/nB,KAAA,EAEA4oG,KAA4B3rG,EAAUrzB,GAFtC,cAIAD,EAAQC,IACRqC,EAAUD,YAAcrC,GALxBknE,EAMuB5lE,aAAgBtB,GAArC0oB,EANFw+C,EAMEx+C,OAAQnH,EANV2lD,EAMU3lD,SANVgjH,EAOmCzjH,aACxC9gB,EACA+8C,GAFO2gC,EAPF6mD,EAOE7mD,iBAAkBC,EAPpB4mD,EAOoB5mD,WAPpBq6B,EAaFr0G,YAAsB3D,GADUi4G,EAZ9BD,EAYLr6E,kCAZKu6E,EAgBFl0G,YAA4BhE,GADIm4G,EAf9BD,EAeLv6E,kCAIK76B,EAAWO,YAAerD,GAnB1Bo+C,EAAA/nB,KAAA,GAqByBmvB,QAAQ9kD,IAAI,CAC1Cg6G,GAAmB,CAClB96F,aACAymE,KAAM1I,EACNnoC,KAAM,aACN65D,UAAU,EACVD,aAAa,EACbtsG,WACAud,SAPDq6F,CAQGpnF,GACHmlF,GAAuB,CACtB74F,aACA89D,mBACAu6B,uCACAE,6CACA52F,WACAmH,SACArI,SAPDo4F,CAQGnlF,KAvCE,WAqBA+wG,EArBAjmF,EAAAwJ,KA0CFssB,EAAUmwD,EAAiB57H,MAAM,SAAA0kC,GAAC,OAAU,IAANA,IAEtCkyC,EAAW,MAEXnL,EA9CE,CAAA91B,EAAA/nB,KAAA,gBAAA+nB,EAAAlwB,KAAA,GAAAkwB,EAAA/nB,KAAA,GAgDa04F,GAAqB,CACrCzsH,UACAo7E,mBACAC,aACAsxC,aAAa,IApDV,eAgDJ5vC,EAhDIjhC,EAAAwJ,KAAAxJ,EAAA/nB,KAAA,GAuDE4nD,GAAqB,CAC1BC,GAAInhC,EACJ74B,IAAK,WACLzQ,MAAO4rE,GAHFpB,CAIH3qD,EAAUrzB,GA3DT,eAAAm+C,EAAA/nB,KAAA,GA6DYqhF,GAAa,CAC5B93F,aACA+3F,aAAct4B,EAAS0wC,QACvBnY,gBAAiBv4B,EAASmwC,qBAC1BnvG,SAJeq3F,CAKbpkF,EAAUrzB,GAlET,QA6DJi0E,EA7DI91B,EAAAwJ,KAAAxJ,EAAA/nB,KAAA,iBAAA+nB,EAAAlwB,KAAA,GAAAkwB,EAAAm5B,GAAAn5B,EAAA,UAoEJ81B,GAAU,EApEN,eAAA91B,EAAA/nB,KAAA,GAwEAw9E,GAAsB,CAAE3/B,UAASp3B,UAASif,cAxE1C,eAAA3d,EAAA/nB,KAAA,GA0EAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GA1EjC,yBAAA8qB,EAAA5nB,SAAA2nB,EAAA,mBAAP,gBAAAwqD,EAAAC,GAAA,OAAA3kG,EAAAsP,MAAAwd,KAAApxB,YAAA,GA8EM,SAASyhF,GAATh9E,GAMJ,IALF24C,EAKE34C,EALF24C,QACAn9B,EAIExb,EAJFwb,WACAS,EAGEjc,EAHFic,MACAy8B,EAEE14C,EAFF04C,QACAif,EACE33D,EADF23D,UAEA,sBAAAx3D,EAAA1D,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAuoB,EAAehrB,EAAUrzB,GAAzB,IAAAD,EAAAsC,EAAAkiI,EAAA9mD,EAAAC,EAAAS,EAAAC,EAAAv7E,EAAAuhI,EAAAnwD,EAAAmL,EAAA,OAAAvpD,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,cAAAkoB,EAAAloB,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,cAAAirB,EAAAloB,KAAA,EAEA4oG,KAA4B3rG,EAAUrzB,GAFtC,cAIAD,EAAQC,IACRqC,EAAUD,YAAcrC,GALxBwkI,EAWF1jH,aAAyB9gB,EAAO+8C,GAJnC2gC,EAPK8mD,EAOL9mD,iBACAC,EARK6mD,EAQL7mD,WACAS,EATKomD,EASLpmD,aACAC,EAVKmmD,EAULnmD,cAEKv7E,EAAWO,YAAerD,GAZ1Bu+C,EAAAloB,KAAA,GAcyBmvB,QAAQ9kD,IAAI,CAC1Cg6G,GAAmB,CAClB96F,aACAymE,KAAM1I,EACNnoC,KAAM,aACN65D,UAAU,EACVD,aAAa,EACbtsG,WACAud,SAPDq6F,CAQGpnF,GACHonF,GAAmB,CAClB96F,aACAymE,KAAMjI,EACN5oC,KAAM,eACN65D,UAAU,EACVD,aAAa,EACbtsG,WACAud,SAPDq6F,CAQGpnF,GACH47B,GAAqB,CACpBtvC,aACA41B,KAAM,mBACN/hC,MAAOiqE,EACPr9D,SAJD6uC,CAKG57B,GACH47B,GAAqB,CACpBtvC,aACA41B,KAAM,gBACN/hC,MAAO4qE,EACPy6B,aAAa,EACbz4F,SALD6uC,CAMG57B,KA7CE,WAcA+wG,EAdA9lF,EAAAqJ,KAgDFssB,EAAUmwD,EAAiB57H,MAAM,SAAA0kC,GAAC,OAAU,IAANA,IAEtCkyC,EAAW,MAEXnL,EApDE,CAAA31B,EAAAloB,KAAA,gBAAAkoB,EAAArwB,KAAA,GAAAqwB,EAAAloB,KAAA,GAsDa0+F,GAAgC,CAChDzyH,UACAo7E,mBACAC,aACAsxC,aAAa,IA1DV,eAsDJ5vC,EAtDI9gC,EAAAqJ,KAAArJ,EAAAloB,KAAA,GA6DE4nD,GAAqB,CAC1BC,GAAInhC,EACJ74B,IAAK,WACLzQ,MAAO4rE,GAHFpB,CAIH3qD,EAAUrzB,GAjET,eAAAs+C,EAAAloB,KAAA,GAmEYqhF,GAAa,CAC5B93F,aACA+3F,aAAct4B,EAAS0wC,QACvBnY,gBAAiBv4B,EAASmwC,qBAC1BnvG,SAJeq3F,CAKbpkF,EAAUrzB,GAxET,QAmEJi0E,EAnEI31B,EAAAqJ,KAAArJ,EAAAloB,KAAA,iBAAAkoB,EAAArwB,KAAA,GAAAqwB,EAAAg5B,GAAAh5B,EAAA,UA0EJ21B,GAAU,EA1EN,eAAA31B,EAAAloB,KAAA,GA8EAw9E,GAAsB,CAAE3/B,UAASp3B,UAASif,cA9E1C,eAAAxd,EAAAloB,KAAA,GAgFAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GAhFjC,yBAAAirB,EAAA/nB,SAAA8nB,EAAA,mBAAP,gBAAA01D,EAAAI,GAAA,OAAA7vG,EAAAgP,MAAAwd,KAAApxB,YAAA,GAoFM,SAAS0hF,GAAT18E,GAKJ,IAJF+4E,EAIE/4E,EAJF+4E,iBACAC,EAGEh5E,EAHFg5E,WACAS,EAEEz5E,EAFFy5E,aACAC,EACE15E,EADF05E,cAEA,sBAAAt5E,EAAAlE,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAm+E,EAAe5gF,EAAUrzB,GAAzB,IAAAqC,EAAAmY,EAAA,OAAAqb,EAAAp2B,EAAAy2B,KAAA,SAAAg+E,GAAA,cAAAA,EAAAjmF,KAAAimF,EAAA99E,MAAA,cAAA89E,EAAAjmF,KAAA,EAEC5rB,EAAUD,YAAcpC,KAFzBk0G,EAAA99E,KAAA,EAGgB0+F,GAAgC,CACpDzyH,UACAo7E,mBACAC,aACAS,eACAC,kBARI,OAGC5jE,EAHD05F,EAAAvsD,KAWL40B,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,iCAAkC,CAAEyJ,KAAM,CAACqQ,KACpD6X,QAAS,KAHVkqD,CAIGlpD,GAfE6gF,EAAA99E,KAAA,gBAAA89E,EAAAjmF,KAAA,EAAAimF,EAAA58B,GAAA48B,EAAA,SAiBL/kF,QAAQqB,MAAM,qCAAd0jF,EAAA58B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,qCAAsC,CAC9CyJ,KAAM,CAACuhG,EAAWwI,EAAA58B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GAxBE,yBAAA6gF,EAAA39E,SAAA09E,EAAA,iBAAP,gBAAAG,EAAAI,GAAA,OAAA1vG,EAAAwO,MAAAwd,KAAApxB,YAAA,GA6BM,SAASohF,GAAT77E,GAA4D,IAAhCw4E,EAAgCx4E,EAAhCw4E,iBAAkBC,EAAcz4E,EAAdy4E,WACpD,sBAAA1qE,EAAApS,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAw+E,EAAejhF,EAAUrzB,GAAzB,IAAAqC,EAAAmY,EAAA,OAAAqb,EAAAp2B,EAAAy2B,KAAA,SAAAq+E,GAAA,cAAAA,EAAAtmF,KAAAsmF,EAAAn+E,MAAA,cAAAm+E,EAAAtmF,KAAA,EAEC5rB,EAAUD,YAAcpC,KAFzBu0G,EAAAn+E,KAAA,EAGgB04F,GAAqB,CACzCzsH,UACAo7E,mBACAC,eANI,OAGCljE,EAHD+5F,EAAA5sD,KAQL40B,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,iCAAkC,CAC1CyJ,KAAM,CAACqQ,KAER6X,QAAS,KALVkqD,CAMGlpD,GAdEkhF,EAAAn+E,KAAA,gBAAAm+E,EAAAtmF,KAAA,EAAAsmF,EAAAj9B,GAAAi9B,EAAA,SAgBLplF,QAAQqB,MAAM,qCAAd+jF,EAAAj9B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,qCAAsC,CAC9CyJ,KAAM,CAACuhG,EAAW6I,EAAAj9B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GAvBE,yBAAAkhF,EAAAh+E,SAAA+9E,EAAA,iBAAP,gBAAAG,EAAAI,GAAA,OAAA7hG,EAAAM,MAAAwd,KAAApxB,YAAA,GA4BM,SAAS4hF,GAAT35D,GAMJ,IALFm1B,EAKEn1B,EALFm1B,QACAn9B,EAIEgI,EAJFhI,WACAS,EAGEuH,EAHFvH,MACAy8B,EAEEl1B,EAFFk1B,QACAif,EACEn0C,EADFm0C,UAEA,sBAAA/nD,EAAAnT,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA6+E,EAAethF,EAAUrzB,GAAzB,IAAA+hI,EAAAhiI,EAAAykI,EAAAvlD,EAAAp8E,EAAAuhI,EAAAnwD,EAAA5xE,EAAA+8E,EAAA,OAAAvpD,EAAAp2B,EAAAy2B,KAAA,SAAA0+E,GAAA,cAAAA,EAAA3mF,KAAA2mF,EAAAx+E,MAAA,cAAAw+E,EAAAx+E,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,UAEA0uG,EAAe/C,KAA4B3rG,EAAUrzB,IACvDogB,EAHE,CAAAw0F,EAAAx+E,KAAA,eAAAw+E,EAAAx+E,KAAA,EAIC2rG,EAJD,cAOAhiI,EAAQC,IAPRwkI,EAQe3jH,aAAyB9gB,EAAO+8C,GAA7CmiC,EARFulD,EAQEvlD,SACFp8E,EAAWO,YAAerD,GAT1B60G,EAAAx+E,KAAA,GAWyBmvB,QAAQ9kD,IAAI,CAC1Ci0G,GAAY,CACX/0F,aACA9c,WACAo8E,WACA7+D,SAJDs0F,CAKGrhF,KAjBE,WAWA+wG,EAXAxvB,EAAAjtD,OAoBFssB,EAAUmwD,EAAiB57H,MAAM,SAAA0kC,GAAC,OAAU,IAANA,KApBpC,CAAA0nE,EAAAx+E,KAAA,gBAuBC/zB,EAAUD,YAAcrC,GAvBzB60G,EAAAx+E,KAAA,GAwBkBw6F,GAAe,CACrC5B,aAAa,EACb3sH,YA1BI,eAwBC+8E,EAxBDw1B,EAAAjtD,KAAAitD,EAAAx+E,KAAA,GA6BC4nD,GAAqB,CAC1BC,GAAInhC,EACJ74B,IAAK,WACLzQ,MAAO4rE,GAHFpB,CAIH3qD,EAAUrzB,GAjCR,eAAA40G,EAAAx+E,KAAA,GAmCWqhF,GAAa,CAC5B93F,aACA+3F,aAAct4B,EAAS0wC,QACvBnY,gBAAiB,IACjBv3F,SAJeq3F,CAKbpkF,EAAUrzB,GAxCR,QAmCLi0E,EAnCK2gC,EAAAjtD,KAAA,eAAAitD,EAAAx+E,KAAA,GA2CAw9E,GAAsB,CAAE3/B,UAASp3B,UAASif,cA3C1C,eAAA84C,EAAAx+E,KAAA,GA6CAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GA7CjC,yBAAAuhF,EAAAr+E,SAAAo+E,MAAP,gBAAAM,EAAAC,GAAA,OAAAnhG,EAAAT,MAAAwd,KAAApxB,YAAA,GAiDM,SAAS6hF,GAATvtE,GAAsC,IAAZirE,EAAYjrE,EAAZirE,SAChC,sBAAAxqE,EAAA7T,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAi/E,EAAe1hF,EAAUrzB,GAAzB,IAAAqC,EAAA,OAAAwzB,EAAAp2B,EAAAy2B,KAAA,SAAA8+E,GAAA,cAAAA,EAAA/mF,KAAA+mF,EAAA5+E,MAAA,cAAA4+E,EAAA/mF,KAAA,EAEC5rB,EAAUD,YAAcpC,KAFzBg1G,EAAA5+E,KAAA,EAGCw6F,GAAe,CACpB3xC,WACA58E,YALI,OAQLk6E,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,yBAA0B,CAAEyJ,KAAM,CAAC80E,KAC5C5sD,QAAS,KAHVkqD,CAIGlpD,GAZE2hF,EAAA5+E,KAAA,gBAAA4+E,EAAA/mF,KAAA,EAAA+mF,EAAA19B,GAAA09B,EAAA,SAcL7lF,QAAQqB,MAAM,kBAAdwkF,EAAA19B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,kBAAmB,CAC3ByJ,KAAM,CAAA6qG,EAAA19B,MAEPjlD,QAAS,KALVkqD,CAMGlpD,GArBE,yBAAA2hF,EAAAz+E,SAAAw+E,EAAA,iBAAP,gBAAAQ,EAAAC,GAAA,OAAA/gG,EAAAnB,MAAAwd,KAAApxB,YAAA,GA0BM,SAASmhF,GAATnsE,GAMJ,IALFooC,EAKEpoC,EALFooC,QACAme,EAIEvmD,EAJFumD,cACAt7C,EAGEjL,EAHFiL,WACAk9B,EAEEnoC,EAFFmoC,QACAif,EACEpnD,EADFonD,UAEA,sBAAA9mD,EAAApU,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAu/E,EAAehiF,EAAUrzB,GAAzB,IAAAi0E,EAAAl0E,EAAA+jH,EAAA,OAAAjuF,EAAAp2B,EAAAy2B,KAAA,SAAAo/E,GAAA,cAAAA,EAAArnF,KAAAqnF,EAAAl/E,MAAA,cAAAk/E,EAAAl/E,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,cAAAiiF,EAAAl/E,KAAA,EAEA4nD,GAAqB,CAC1BC,GAAInhC,EACJ74B,IAAK,yBACLzQ,OAAO,GAHFwqE,CAIH3qD,GANG,cAQF4gD,GAAU,EARRqhC,EAAArnF,KAAA,EAWCluB,EAAQC,IAER8jH,EAAcjjG,aAAyB9gB,EAAO+8C,GAb/Cw4D,EAAAl/E,KAAA,GAeC6kC,EAAcr6D,OAAAC,EAAA,EAAAD,CAAA,GAAKkjH,GAAnB7oD,CAAkC5nC,EAAUrzB,GAf7C,QAgBLi0E,GAAU,EAhBLqhC,EAAAl/E,KAAA,iBAAAk/E,EAAArnF,KAAA,GAAAqnF,EAAAh+B,GAAAg+B,EAAA,SAkBLnmF,QAAQqB,MAAM,kBAAd8kF,EAAAh+B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,kBAAmB,CAAEyJ,KAAM,CAACy0D,IAAO6lE,UAAPnvB,EAAAh+B,OACrCjlD,QAAS,KAHVkqD,CAIGlpD,GAvBE,eAAAiiF,EAAAl/E,KAAA,GA0BAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GA1BjC,eAAAiiF,EAAAl/E,KAAA,GA2BA4nD,GAAqB,CAC1BC,GAAInhC,EACJ74B,IAAK,yBACLzQ,OAAO,GAHFwqE,CAIH3qD,GA/BG,eAAAiiF,EAAAl/E,KAAA,GAgCAw9E,GAAsB,CAAE3/B,UAASp3B,UAASif,cAhC1C,yBAAAw5C,EAAA/+E,SAAA8+E,EAAA,kBAAP,gBAAAO,EAAAC,GAAA,OAAA7gG,EAAA1B,MAAAwd,KAAApxB,YAAA,GChjBM,SAASglI,GAAch0H,EAAMgqC,EAAWhwC,EAAUwuC,EAAUxrC,GAElE,OADAgD,EAAOkqC,QAAKC,aAAa,CAAEnqC,OAAMgqC,YAAWxB,aACrC,SAAS7lB,GACf,OAAOA,EAAS,CACf5qB,KAAMiwF,IACNhoF,OACAhG,WACAgD,YAKI,SAASitD,GAAajwD,EAAUgD,GACtC,OAAO,SAAS2lB,GACf,OAAOA,EAAS,CACf5qB,KAAMkwF,IACNjuF,WACAgD,YAKI,SAASuvF,KACf,OAAO,SAAS5pE,GACf,OAAOA,EAAS,CACf5qB,KAAMmwF,OAKF,SAAS+rC,GAAoBl8H,EAAM8sC,EAAM/hC,EAAOknC,EAAWhtC,GACjE,sBAAApN,EAAAM,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAC,EAAe1C,EAAUrzB,GAAzB,IAAAD,EAAAkmG,EAAA,OAAApwE,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cACAr2B,EAAQC,IACRimG,EAAcx4F,aAAyB1N,EAAO0I,EAAMiF,GAFpDyoB,EAAAC,KAAA,EAGAsuG,GACLz+B,EACAvrD,GAAS95C,OAAAs9B,GAAA,EAAAt9B,CAAA,GAAO20C,EAAO/hC,GACvB/K,EACAm8H,UAAOC,gBAAgBp8H,GACvBiF,EALKg3H,CAMJrxG,GATI,wBAAA8C,EAAAI,SAAAR,MAAP,gBAAAS,EAAA+nB,GAAA,OAAAj+C,EAAAgT,MAAAwd,KAAApxB,YAAA,GAaM,SAAS01D,GAAc7f,EAAM/hC,EAAOknC,EAAWhtC,GACrD,sBAAAvM,EAAAP,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA8nB,EAAevqB,EAAUrzB,GAAzB,OAAA61B,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAAAynB,EAAAznB,KAAA,EACAuuG,GAAoB,SAAUpvF,EAAM/hC,EAAOknC,EAAWhtC,EAAtDi3H,CACLtxG,EACArzB,GAHK,wBAAA69C,EAAAtnB,SAAAqnB,MAAP,gBAAA6jD,EAAAwG,GAAA,OAAA9mG,EAAAmS,MAAAwd,KAAApxB,YAAA,GAQM,SAASykD,GAAc5O,EAAM/hC,EAAOknC,GAC1C,sBAAAn5C,EAAAX,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAioB,EAAe1qB,EAAUrzB,GAAzB,OAAA61B,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,cAAA4nB,EAAA5nB,KAAA,EACAuuG,GAAoB,SAAUpvF,EAAM/hC,EAAOknC,EAA3CiqF,CACLtxG,EACArzB,GAHK,wBAAAg+C,EAAAznB,SAAAwnB,MAAP,gBAAAsqD,EAAAC,GAAA,OAAA/mG,EAAA+R,MAAAwd,KAAApxB,YAAA,GAQM,SAASqrD,GAAkBxV,EAAM/hC,EAAOknC,GAC9C,sBAAAh5C,EAAAd,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAooB,EAAe7qB,EAAUrzB,GAAzB,OAAA61B,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cAAA+nB,EAAA/nB,KAAA,EACAuuG,GAAoB,WAAYpvF,EAAM/hC,EAAOknC,EAA7CiqF,CACLtxG,EACArzB,GAHK,wBAAAm+C,EAAA5nB,SAAA2nB,MAAP,gBAAAwqD,EAAAC,GAAA,OAAAjnG,EAAA4R,MAAAwd,KAAApxB,YAAA,GAQM,SAASk2D,GAAkBrgB,EAAM/hC,EAAOknC,EAAWhtC,GACzD,sBAAA7L,EAAAjB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAuoB,EAAehrB,EAAUrzB,GAAzB,OAAA61B,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,cAAAkoB,EAAAloB,KAAA,EACAuuG,GAAoB,WAAYpvF,EAAM/hC,EAAOknC,EAAWhtC,EAAxDi3H,CACLtxG,EACArzB,GAHK,wBAAAs+C,EAAA/nB,SAAA8nB,MAAP,gBAAA01D,EAAAI,GAAA,OAAAtyG,EAAAyR,MAAAwd,KAAApxB,YAAA,GAQM,SAASolI,GAAT9iI,GAOJ,IANFu0D,EAMEv0D,EANFu0D,WACA7rD,EAKE1I,EALF0I,SACAgD,EAIE1L,EAJF0L,OAIEq3H,EAAA/iI,EAHF68B,cAGE,IAAAkmG,EAHO,GAGPA,EAFF/7G,EAEEhnB,EAFFgnB,MACAg8G,EACEhjI,EADFgjI,OAEA,sBAAA7iI,EAAAvB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAm+E,EAAe5gF,EAAUrzB,GAAzB,IAAAilI,EAAAllI,EAAAmlI,EAAAr8E,EAAA84D,EAAAwjB,EAAAzyE,EAAAhY,EAAA,OAAA7kB,EAAAp2B,EAAAy2B,KAAA,SAAAg+E,GAAA,cAAAA,EAAAjmF,KAAAimF,EAAA99E,MAAA,cACAr2B,EAAQC,IADRklI,EAEWz3H,aAAyB1N,EAAO2K,EAAUgD,GAAnDm7C,EAFFq8E,EAEEr8E,KAEF84D,EAJA/gH,OAAAgE,GAAA,EAAAhE,CAIeioD,EAAK84D,SAAW,KAC/BwjB,EAAW1xH,OAAO2xH,UAAUp8G,MAEjBg8G,EAEhBrjB,EAAQ34F,GAARpoB,OAAAC,EAAA,EAAAD,CAAA,GAAuB+gH,EAAQ34F,IAAU,GAAQ6V,GACvCsmG,GAAYH,EACtBrjB,EAAQrnE,OAAOtxB,EAAO,GAGtB24F,EAAQxoG,KAARvY,OAAAC,EAAA,EAAAD,CAAA,GAAkBi+B,EAAlB,CAA0B5a,IAAK09F,EAAQhiH,UAIlC+yD,EAAWivD,EAAQt0G,OAAO,SAAAF,GAAC,OAAIA,EAAE0xB,OAAOwgF,MAAKj+G,IAAI,SAAA+L,GAAC,OAAIA,EAAE0xB,SAlBxDomG,EAAA,GAAArkI,OAAAs9B,GAAA,EAAAt9B,CAAAqkI,EAqBJ1uE,EAAa7D,GArBT9xD,OAAAs9B,GAAA,EAAAt9B,CAAAqkI,EAAA,OAAArkI,OAAAC,EAAA,EAAAD,CAAA,GAsBMioD,EAtBN,CAsBY84D,aAFZjnE,EApBAuqF,EAAA/wB,EAAA99E,KAAA,EAyBAuuG,GAAoBj6H,EAAU,KAAM,KAAMgwC,EAAWhtC,EAArDi3H,CACLtxG,EACArzB,GA3BK,wBAAAk0G,EAAA39E,SAAA09E,MAAP,gBAAAG,EAAAI,GAAA,OAAAryG,EAAAmR,MAAAwd,KAAApxB,YAAA,GAgCM,SAASs3D,GAATxzD,GAKJ,IAJFua,EAIEva,EAJFua,UACArT,EAGElH,EAHFkH,SACAgD,EAEElK,EAFFkK,OAEE23H,EAAA7hI,EADFq7B,cACE,IAAAwmG,EADO,GACPA,EACF,sBAAA1hI,EAAA/C,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAw+E,EAAejhF,EAAUrzB,GAAzB,IAAAD,EAAA2Q,EAAA40H,EAAA5qF,EAAA6qF,EAAA,OAAA1vG,EAAAp2B,EAAAy2B,KAAA,SAAAq+E,GAAA,cAAAA,EAAAtmF,KAAAsmF,EAAAn+E,MAAA,cACAr2B,EAAQC,IACR0Q,EAAOjD,aAAyB1N,EAAO2K,EAAUgD,GACjD43H,EAA0B,aAAb56H,EAEbgwC,EALA95C,OAAAC,EAAA,EAAAD,CAAA,GAKiB8P,IAEjB60H,EAPA3kI,OAAAC,EAAA,EAAAD,CAAA,GAQD0kI,EAAa5qF,EAAU7tC,OAAS6tC,EAAU9tC,cAAcC,SAGnDkR,GAAVnd,OAAAC,EAAA,EAAAD,CAAA,GAA4Bi+B,GAExBymG,EACH5qF,EAAU7tC,OAAS04H,EAEnB7qF,EAAU9tC,cAAVhM,OAAAC,EAAA,EAAAD,CAAA,CACC4iB,QAASk3B,EAAU9tC,cAAc4W,SAAW,KACzCk3B,EAAU9tC,cAFd,CAGCC,OAAQ04H,IAnBJhxB,EAAAn+E,KAAA,EAuBAuuG,GAAoBj6H,EAAU,KAAM,KAAMgwC,EAAWhtC,EAArDi3H,CACLtxG,EACArzB,GAzBK,wBAAAu0G,EAAAh+E,SAAA+9E,MAAP,gBAAAG,EAAAI,GAAA,OAAAlxG,EAAA2P,MAAAwd,KAAApxB,YAAA,GA8BM,SAASs7D,GAATn3D,GAMJ,IALF6G,EAKE7G,EALF6G,SACAuwD,EAIEp3D,EAJFo3D,cACAt7C,EAGE9b,EAHF8b,WACAk9B,EAEEh5C,EAFFg5C,QACAif,EACEj4D,EADFi4D,UAEA,sBAAA93D,EAAApD,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA6+E,EAAethF,EAAUrzB,GAAzB,IAAAi0E,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAA0+E,GAAA,cAAAA,EAAA3mF,KAAA2mF,EAAAx+E,MAAA,cAAAw+E,EAAAx+E,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,cAEF4gD,GAAU,EAFR2gC,EAAA3mF,KAAA,EAAA2mF,EAAAx+E,KAAA,EAIC6kC,IAAgB5nC,EAAUrzB,GAJ3B,OAKLi0E,GAAU,EALL2gC,EAAAx+E,KAAA,gBAAAw+E,EAAA3mF,KAAA,EAAA2mF,EAAAt9B,GAAAs9B,EAAA,SAOLzlF,QAAQqB,MAAM,WAAdokF,EAAAt9B,IAPK,eAAAs9B,EAAAx+E,KAAA,GAUAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GAVjC,eAAAuhF,EAAAx+E,KAAA,GAYAw9E,GAAsB,CAAE3/B,UAASp3B,UAASif,cAZ1C,QAaFmY,GACHtZ,GAAajwD,EAAbiwD,CAAuBtnC,GAdlB,yBAAAuhF,EAAAr+E,SAAAo+E,EAAA,iBAAP,gBAAAM,EAAAC,GAAA,OAAAlxG,EAAAsP,MAAAwd,KAAApxB,YAAA,OCzJO8lI,GAA8BryB,WAA9BqyB,aAAcC,GAAgBtyB,WAAhBsyB,YAEf,SAAS3oD,GAATx8E,GAKJ,IAJFw1C,EAIEx1C,EAJFw1C,YACApoC,EAGEpN,EAHFoN,OACAmvC,EAEEv8C,EAFFu8C,QACAl9B,EACErf,EADFqf,WAEA,sBAAA3e,EAAAJ,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAC,EAAe1C,EAAUrzB,GAAzB,IAAAD,EAAAmlI,EAAAr4H,EAAA,OAAAgpB,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cACAr2B,EAAQC,IADRklI,EAEaz3H,aAAyB1N,EAAO,WAAY2N,GAAvDb,EAFFq4H,EAEEr4H,OAFFspB,EAAAC,KAAA,EAIgBwmF,GAAiB,CACtCj9F,aACA9S,SACAuT,OAAO,EACPy8F,SAAU,UAJWD,CAKnBvpF,GATG,WAAA8C,EAAAwxB,KAAA,CAAAxxB,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EAYC0f,EAAY,SAAUjpC,GAZvB,OAaLgwC,IAbK,wBAAA1mB,EAAAI,SAAAR,MAAP,gBAAAS,EAAA+nB,GAAA,OAAAv9C,EAAAsS,MAAAwd,KAAApxB,YAAA,GAkBM,SAASgmI,GAATvkI,GAAwE,IAAnCwe,EAAmCxe,EAAnCwe,WAAYS,EAAuBjf,EAAvBif,MAAO1P,EAAgBvP,EAAhBuP,KAAMy8B,EAAUhsC,EAAVgsC,OACpE,sBAAA5rC,EAAAX,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA8nB,EAAevqB,EAAUrzB,GAAzB,IAAA8G,EAAAwG,EAAAkW,EAAA3W,EAAAkyG,EAAAxjG,EAAA04D,EAAA0xD,EAAA,OAAA9vG,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAAAynB,EAAAznB,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,cAAAwqB,EAAA5vB,KAAA,EAGGnnB,EAA+B4J,EAA/B5J,GAAIwG,EAA2BoD,EAA3BpD,MAAOkW,EAAoB9S,EAApB8S,QAAS3W,EAAW6D,EAAX7D,OAEtBkyG,EAAW,IAAIzwG,YAASoC,GAAM2wG,aAL/BxjE,EAAAznB,KAAA,EAOqBmvB,QAAQ9kD,IAAI,CACrCo7G,GAAmB,CAClBl8F,aACAnM,MAAOlG,EACPioC,KAAM,QACNumE,OAAQ2pB,GAAYn4H,MACpB8S,SALDy7F,CAMGxoF,GACHwoF,GAAmB,CAClBl8F,aACAnM,MAAOgQ,EACP+xB,KAAM,UACNumE,OAAQ2pB,GAAYjiH,QACpBpD,SALDy7F,CAMGxoF,GACHupF,GAAiB,CAChBj9F,aACA9S,SACAuT,QACAy8F,SAAU,UAJXD,CAKGvpF,GACHwoF,GAAmB,CAClBl8F,aACAnM,MAAOurG,EACPxpE,KAAM,WACNumE,OAAQ2pB,GACRrlH,SALDy7F,CAMGxoF,KAlCC,UAOC9X,EAPDsiC,EAAA8J,OAqCCssB,EAAU14D,EAAY/S,MAAM,SAAA0kC,GAAC,OAAU,IAANA,OAExBC,EAvCV,CAAA0Q,EAAAznB,KAAA,gBAAAynB,EAAAznB,KAAA,GAwC2B0oF,GAAY,CAC1CC,WACAj4G,OA1CG,QAwCE6+H,EAxCF9nF,EAAA8J,KA2CAo3D,SAEJ1rF,EAAS,CACR5qB,KAAMgwF,IACN/nF,KAAM,IAAIpC,YAASq3H,GAAiB5/B,WACpCr7F,SAAU,aAEX6xE,EAAS,CACR9zE,KAAM,UACNkU,MAAOjc,aAAE,wBAAyB,CACjCyJ,KAAM,CAAC,WAAYw7H,EAAgBr4H,SAEpC+kB,QAAS,KALVkqD,CAMGlpD,GAxDCwqB,EAAAznB,KAAA,kBAyDO69C,GAAW9mC,GACtBovC,EAAS,CACR9zE,KAAM,QACNkU,MAAOjc,aAAE,oBAAqB,CAC7ByJ,KAAM,CAAC,WAAYuhG,EAAY,mBAEhCr5E,QAAS,KALVkqD,CAMGlpD,GAhEC,QAAAwqB,EAAAznB,KAAA,iBAAAynB,EAAA5vB,KAAA,GAAA4vB,EAAAy5B,GAAAz5B,EAAA,SAmEL1uB,QAAQqB,MAAM,oBAAdqtB,EAAAy5B,IACAiF,EAAS,CACR9zE,KAAM,QACNkU,MAAOjc,aAAE,oBAAqB,CAC7ByJ,KAAM,CAAC,WAAYuhG,EAAW7tD,EAAAy5B,OAE/BjlD,QAAS,KALVkqD,CAMGlpD,GA1EE,eAAAwqB,EAAAznB,KAAA,GA6EAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GA7EjC,yBAAAwqB,EAAAtnB,SAAAqnB,EAAA,kBAAP,gBAAA6jD,EAAAwG,GAAA,OAAA1mG,EAAA+R,MAAAwd,KAAApxB,YAAA,GAiFM,SAASu9E,GAATv7E,GAAyD,IAAtBgM,EAAsBhM,EAAtBgM,OAAQilC,EAAcjxC,EAAdixC,WACjD,sBAAA9wC,EAAAjB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAioB,EAAe1qB,EAAUrzB,GAAzB,IAAAD,EAAA2Q,EAAAquG,EAAAlyG,EAAA,OAAAgpB,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,OACAr2B,EAAQC,IACR0Q,EAAOhE,YAAmB3M,EAAO2N,GACjCqxG,EAAWtxG,aAAyB1N,EAAO,WAAY2N,GAEvDb,EAAS8lC,EAAW5hC,SAAS,UAAYguG,EAASlyG,OAAS6D,EAAK7D,OAEtE63H,GACCh0H,EACA,CAAE7D,OAAOjM,OAAAC,EAAA,EAAAD,CAAA,GAAMiM,IACf,WACAyB,YACAoC,EAAK5J,GALN49H,CAMErxG,EAAUrzB,GAbN,wBAAAg+C,EAAAznB,SAAAwnB,MAAP,gBAAAsqD,EAAAC,GAAA,OAAAzmG,EAAAyR,MAAAwd,KAAApxB,YAAA,GAiBM,SAASq9D,KAAiD,IAAA/6D,EAAAtC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAA9BkN,EAAkC5K,EAAlC4K,cAAejE,EAAmB3G,EAAnB2G,WAC7C,sBAAAxG,EAAAvB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAooB,EAAe7qB,EAAUrzB,GAAzB,IAAAD,EAAA6lI,EAAA7mB,EAAA8mB,EAAA,OAAAhwG,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cAAA+nB,EAAAlwB,KAAA,EAECluB,EAAQC,KACR4lI,EAHDhlI,OAAAC,EAAA,EAAAD,CAAA,GAGqBgM,GAAiByB,aAAkBtO,KACjD4I,WAAaA,GAAc,KACnCA,IACHi9H,EAAYt4H,MAAQ,MAGfyxG,EAAW,IAAIzwG,YAAJ1N,OAAAC,EAAA,EAAAD,CAAA,GACbglI,IACDE,UAXE3nF,EAAA/nB,KAAA,EAaiB4oF,GAAa,CAClCD,aAdI,OAaC8mB,EAbD1nF,EAAAwJ,KAiBLt0B,EAAS,CACR5qB,KAAM+vF,IACN9nF,KAAMm1H,EACNn7H,SAAU,aAEX6xE,EAAS,CACR9zE,KAAM,UACNkU,MAAOjc,aAAE,iBAAkB,CAC1ByJ,KAAM,CAACy7H,EAAYt4H,OAAS3E,KAE7B0pB,QAAS,KALVkqD,CAMGlpD,GA5BE8qB,EAAA/nB,KAAA,uBAAA+nB,EAAAlwB,KAAA,GAAAkwB,EAAAm5B,GAAAn5B,EAAA,SA8BLhvB,QAAQqB,MAAM,wBAAd2tB,EAAAm5B,IACAiF,EAAS,CACR9zE,KAAM,QACNkU,MAAOjc,aAAE,wBAAyB,CACjCyJ,KAAM,CAAC,WAAYuhG,EAAWvtD,EAAAm5B,OAE/BjlD,QAAS,KALVkqD,CAMGlpD,GACG,IAAIquE,MAAM,oBAAVvjD,EAAAm5B,IAtCD,yBAAAn5B,EAAA5nB,SAAA2nB,EAAA,kBAAP,gBAAAwqD,EAAAC,GAAA,OAAAxmG,EAAAmR,MAAAwd,KAAApxB,YAAA,GA2CM,SAASi9D,GAATn5D,GAKJ,IAJFmc,EAIEnc,EAJFmc,WACAS,EAGE5c,EAHF4c,MACAy8B,EAEEr5C,EAFFq5C,QACAif,EACEt4D,EADFs4D,UAEA,sBAAAn4D,EAAA/C,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAuoB,EAAehrB,EAAUrzB,GAAzB,IAAAi0E,EAAAl0E,EAAAg/G,EAAAzxG,EAAAkW,EAAAjI,EAAA,OAAAsa,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,cAAAkoB,EAAAloB,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,cAGF4gD,GAAU,EAHR31B,EAAArwB,KAAA,EAKCluB,EAAQC,IACR++G,EAAW1wG,aAAkBtO,GAC3BuN,EAA2ByxG,EAA3BzxG,MAA2ByxG,EAApBlyG,OAAQ2W,EAAYu7F,EAAZv7F,QAPlB86B,EAAAloB,KAAA,EASqBmvB,QAAQ9kD,IAAI,CACrCo7G,GAAmB,CAClBl8F,aACAnM,MAAOlG,EACPioC,KAAM,QACNumE,OAAQ0pB,GAAal4H,MACrB8S,SALDy7F,CAMGxoF,GACHwoF,GAAmB,CAClBl8F,aACAnM,MAAOgQ,EACP+xB,KAAM,UACNumE,OAAQ0pB,GAAahiH,QACrBpD,SALDy7F,CAMGxoF,KAvBC,OASC9X,EATD+iC,EAAAqJ,KA0BLssB,EAAU14D,EAAY/S,MAAM,SAAA0kC,GAAC,OAAU,IAANA,IA1B5BoR,EAAAloB,KAAA,iBAAAkoB,EAAArwB,KAAA,GAAAqwB,EAAAg5B,GAAAh5B,EAAA,SA4BLnvB,QAAQqB,MAAM,4BAAd8tB,EAAAg5B,IA5BK,eAAAh5B,EAAAloB,KAAA,GA+BAw9E,GAAsB,CAAE3/B,UAASp3B,UAASif,cA/B1C,eAAAxd,EAAAloB,KAAA,GAgCAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GAhCjC,yBAAAirB,EAAA/nB,SAAA8nB,EAAA,kBAAP,gBAAA01D,EAAAI,GAAA,OAAAxwG,EAAA2P,MAAAwd,KAAApxB,YAAA,GAoCM,SAASm9D,GAATh5D,GAKJ,IAJF8b,EAIE9b,EAJF8b,WACAS,EAGEvc,EAHFuc,MACAy8B,EAEEh5C,EAFFg5C,QACAif,EACEj4D,EADFi4D,UAEA,sBAAA93D,EAAApD,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAm+E,EAAe5gF,EAAUrzB,GAAzB,IAAAD,EAAAgmI,EAAAC,EAAAn5H,EAAAonE,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAg+E,GAAA,cAAAA,EAAAjmF,KAAAimF,EAAA99E,MAAA,cAAA89E,EAAA99E,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,cAAA6gF,EAAAjmF,KAAA,EAGCluB,EAAQC,IAHT+lI,EAImB13H,aAAkBtO,GAJrCimI,EAAAD,EAIGl5H,cAJH,IAAAm5H,EAIY,GAJZA,EAAA9xB,EAAA99E,KAAA,EAMiBwmF,GAAiB,CACtCj9F,aACA9S,SACAuT,QACAy8F,SAAU,UAJWD,CAKnBvpF,GAXE,cAMC4gD,EANDigC,EAAAvsD,KAAAusD,EAAA99E,KAAA,GAaCw9E,GAAsB,CAAE3/B,UAASp3B,UAASif,cAb3C,QAAAo4C,EAAA99E,KAAA,iBAAA89E,EAAAjmF,KAAA,GAAAimF,EAAA58B,GAAA48B,EAAA,SAeL/kF,QAAQgvG,IAAI,MAAZjqB,EAAA58B,IAfK,eAAA48B,EAAA99E,KAAA,GAkBAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GAlBjC,yBAAA6gF,EAAA39E,SAAA09E,EAAA,kBAAP,gBAAAG,EAAAI,GAAA,OAAAxwG,EAAAsP,MAAAwd,KAAApxB,YAAA,4BC1OYumI,GAAoB,SAAA3lI,GAA2C,IAAxCg3C,EAAwCh3C,EAAxCg3C,UAAWnsC,EAA6B7K,EAA7B6K,SAAUu3B,EAAmBpiC,EAAnBoiC,QAAShT,EAAUpvB,EAAVovB,IACjE,GAAM4nB,EAAW,CAChB,IAAMsO,EAAMx5C,KAAIC,MAAMirC,GAAW,GAGjC,GAFAsO,EAAI14B,OAAS,KAET04B,EAAIu1B,UAAYv1B,EAAIw1B,KAAM,CAC7B,IAAMjuD,EAAKvsB,OAAAC,EAAA,EAAAD,CAAA,GAAQ8oG,KAAe9jD,EAAIz4B,OAYtC,OAXIhiB,IACHgiB,EAAK,aAAmBhiB,GAErBu3B,IACHvV,EAAK,YAAkBuV,GAEpBhT,IACHvC,EAAK,WAAiBuC,GAEvBk2B,EAAIz4B,MAAQA,EAEL/gB,KAAI8O,OAAO0qC,IAIpB,OAAOtO,GCqCA4uF,GAA6Dp2G,WAA7Do2G,8BAA+BC,GAA8Br2G,WAA9Bq2G,0BAE/BjzB,GAAgBC,WAAhBD,YAeR,SAASkzB,GAAT9lI,GAA+E,IAA7CmjB,EAA6CnjB,EAA7CmjB,QAAS4iH,EAAoC/lI,EAApC+lI,WAAYC,EAAwBhmI,EAAxBgmI,UAAWC,EAAajmI,EAAbimI,UACjE,sBAAAvlI,EAAAJ,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAC,EAAe1C,EAAUrzB,GAAzB,IAAAwmI,EAAA,OAAA3wG,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACyBsoF,GAAe,CAC7CvzG,SAAUsY,EAAQ49F,aAClBv6G,GAAI2c,EAAQ3c,KAHP,cACA0/H,EADArwG,EAAAwxB,KAIFx8C,SAEJkoB,EAAS,CACR5qB,KAAMgwF,IACN/nF,KAAM,IAAI7C,YAAJjN,OAAAC,EAAA,EAAAD,CAAA,GACF4lI,EAAgBhlH,KAChBglH,IACDzgC,WACHr7F,SAAU,aAEX6xE,EAAS,CACR9zE,KAAM89H,GAAa,UACnB5pH,MAAOjc,aAAE2lI,EAAY,CACpBl8H,KAAMm8H,GAAa,CAAC,WAAYE,EAAgBl5H,SAEjD+kB,QAAS,KALVkqD,CAMGlpD,GApBG8C,EAAAC,KAAA,EAuBAu0E,KAAsBt3E,EAAUrzB,GAvBhC,wBAAAm2B,EAAAI,SAAAR,MAAP,gBAAAS,EAAA+nB,GAAA,OAAAv9C,EAAAsS,MAAAwd,KAAApxB,YAAA,GA2BM,SAASs8D,KACf,sBAAA76D,EAAAP,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA8nB,EAAevqB,EAAUrzB,GAAzB,IAAAD,EAAA0mI,EAAApkI,EAAA8I,EAAA5J,EAAAw5H,EAAA,OAAAllG,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cACNu1E,EAAcj7C,MAAkB,EAAhCi7C,CAAsCt4E,GADhCwqB,EAAA5vB,KAAA,EAGCluB,EAAQC,IACRymI,EAAmB74H,aAAkB7N,GACrCsC,EAAUD,YAAcrC,IACxBoL,EANDvK,OAAAC,EAAA,EAAAD,CAAA,GAMiB6lI,IAET59E,KAAKiF,aACjB3iD,EAASF,QAAUrK,OAAAgE,GAAA,EAAAhE,CAAIuK,EAASF,SAAS7J,IAAI,SAACshG,EAAM15E,GAAP,OAAApoB,OAAAC,EAAA,EAAAD,CAAA,GACzC8hG,EADyC,CAE5CprD,UAAW2uF,GAAkBrlI,OAAAC,EAAA,EAAAD,CAAA,CAC5B02C,UAAWorD,EAAKprD,UAChBnsC,SAAUA,EAASmC,MACnBo1B,QAAO,GAAA75B,OAAKmgB,EAAQ,EAAb,KAAAngB,OAAkB65F,EAAKj6F,OAC1B0C,EAAS09C,KAAKqF,iBACf,CAAEx+B,IAAK,oBACP,UAjBDmuB,EAAAznB,KAAA,EAsBCs2F,GAAgC,CACrCP,YAAa,CAAC,CAAE7Z,QAASnnG,IACzB9I,YAxBI,cAAAw7C,EAAAznB,KAAA,GA2B2BgkG,GAAY,CAC3CjvH,WACA9I,YA7BI,eAAAd,EAAAs8C,EAAA8J,KA2BGozE,EA3BHx5H,EA2BGw5H,cA3BHl9E,EAAAznB,KAAA,GAgCC2mC,GAAa,CAClBp0D,WAAYoyH,EAAcj0H,GAC1B8F,cAAezB,EAASyB,eAFnBmwD,CAGH1pC,EAAUrzB,GAnCR,QAqCLqzB,EAAS,CACR5qB,KAAM+vF,IACN9nF,KAAM,IAAI7C,YAAJjN,OAAAC,EAAA,EAAAD,CAAA,GACFm6H,EAAcv5G,KACdu5G,IACDh1B,WACHr7F,SAAU,aAEX6xE,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,mCAAoC,CAC5CyJ,KAAM,CAAC4wH,EAAcj0H,MAEtBurB,QAAS,KALVkqD,CAMGlpD,GAnDEwqB,EAAAznB,KAAA,uBAAAynB,EAAA5vB,KAAA,GAAA4vB,EAAAy5B,GAAAz5B,EAAA,SAqDL1uB,QAAQqB,MAAM,uBAAdqtB,EAAAy5B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,uBAAwB,CAChCyJ,KAAM,CAACy0D,IAAO6lE,UAAP5mF,EAAAy5B,OAERjlD,QAAS,KALVkqD,CAMGlpD,GACG,IAAIquE,MAAM,uBAAV7jD,EAAAy5B,IA7DD,eA+DNq0B,EAAcj7C,MAAkB,EAAhCi7C,CAAuCt4E,GA/DjCwqB,EAAA05B,OAAA,UAgEC,GAhED,yBAAA15B,EAAAtnB,SAAAqnB,EAAA,kBAAP,gBAAA6jD,EAAAwG,GAAA,OAAA9mG,EAAAmS,MAAAwd,KAAApxB,YAAA,GAoEM,IAAMgnI,GAAsB,SAAAhlI,GAAkB,IAAfyJ,EAAezJ,EAAfyJ,SACrC,sBAAAtJ,EAAAjB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAioB,EAAM1qB,GAAN,IAAAtzB,EAAAw2H,EAAA,OAAA1gG,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,cAAA4nB,EAAA/vB,KAAA,EAAA+vB,EAAA5nB,KAAA,EAEewyF,GAAkB,CAAEz9G,aAFnC,cAECpL,EAFDi+C,EAAA2J,MAGC4uE,EAHD31H,OAAAC,EAAA,EAAAD,CAAA,GAGoBuK,IACbpL,MAAQA,EAJfi+C,EAAAu5B,OAAA,SAMElkD,EAAS,CACf5qB,KAAMgwF,IACN/nF,KAAM6lH,EACN7rH,SAAU,cATN,OAAAszC,EAAA/vB,KAAA,EAAA+vB,EAAAs5B,GAAAt5B,EAAA,SAYL7uB,QAAQqB,MAAM,mCAAdwtB,EAAAs5B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,mCAAoC,CAC5CyJ,KAAM,CAACuhG,EAAW1tD,EAAAs5B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GAnBE,yBAAA2qB,EAAAznB,SAAAwnB,EAAA,iBAAP,gBAAAsqD,GAAA,OAAAxmG,EAAAyR,MAAAwd,KAAApxB,YAAA,IAyBD,SAASinI,GAAqBx7H,GAC7B,GAAIA,EAAS6W,QAAgD,WAAtC7W,EAAS6W,OAAOC,kBACtC,MAAO,SACR,QAAS9W,EAAS6W,QAAU,IAAIxF,MAC/B,IAAK,UACJ,MAAO,UACR,IAAK,SACL,IAAK,QACL,IAAK,eACL,IAAK,UACL,IAAK,UACL,IAAK,eACL,IAAK,YACL,IAAK,UACJ,MAAO,SACR,IAAK,UACL,IAAK,YACL,IAAK,WACJ,MAAO,YACR,QACC,MAAO,OAIH,SAASqqD,GAAT7kE,GAMJ,IALF8zC,EAKE9zC,EALF8zC,YACA6wB,EAIE3kE,EAJF2kE,UACAj5D,EAGE1L,EAHF0L,OACAiS,EAEE3d,EAFF2d,WACAk9B,EACE76C,EADF66C,QAEA,sBAAA16C,EAAAvB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAooB,EAAe7qB,EAAUrzB,GAAzB,IAAAD,EAAAmlI,EAAAt4H,EAAA,OAAAipB,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cACAr2B,EAAQC,IADRklI,EAEoBz3H,aACzB1N,EACA,WACA2N,GAHOd,EAFFs4H,EAEEt4H,cAFFuxC,EAAA/nB,KAAA,EAQgBwmF,GAAiB,CACtCj9F,aACA9S,OAAQD,EAAcC,OACtBuT,OAAO,EACPy8F,SAAU,iBAJWD,CAKnBvpF,GAbG,WAAA8qB,EAAAwJ,KAAA,CAAAxJ,EAAA/nB,KAAA,eAAA+nB,EAAA/nB,KAAA,EAgBC0f,EACL,gBACAlpC,EACA+5D,EACG,CACAnqD,KAAMmqD,GAEN,MAvBC,OAyBL9pB,IAzBK,wBAAAsB,EAAA5nB,SAAA2nB,MAAP,gBAAAoqD,EAAAI,GAAA,OAAAvmG,EAAAmR,MAAAwd,KAAApxB,YAAA,GA8BM,SAASuoE,GAATzkE,GAAsE,IAAtBkK,EAAsBlK,EAAtBkK,OAAQilC,EAAcnvC,EAAdmvC,WAC9D,sBAAAhvC,EAAA/C,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAuoB,EAAehrB,EAAUrzB,GAAzB,IAAAD,EAAA2Q,EAAAvF,EAAAy7H,EAAAC,EAAAj6H,EAAA,OAAAipB,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,OACAr2B,EAAQC,IACR0Q,EAAO3F,YAAmBhL,EAAO2N,GACjCvC,EAAWsC,aAAyB1N,EAAO,WAAY2N,GACvDk5H,EAAuBj6H,YAA2B5M,EAAO2N,GACzDm5H,EACLn2H,EAAK9D,eAAiBhM,OAAOma,KAAKrK,EAAK9D,cAAcC,QAAQlN,OAC1D+Q,EAAK9D,cACLg6H,EAEEh6H,EAAgB+lC,EAAW7hC,KAAK,SAAA4P,GAAC,MACtC,CAAC,gBAAiB,oBAAoB3P,SAAS2P,EAAElE,MAAQkE,KAEvDvV,EAASyB,cACT8D,EAAK9D,eAAiBi6H,EAEzBnC,GACCh0H,EACA,CAAE9D,cAAchM,OAAAC,EAAA,EAAAD,CAAA,GAAMgM,IACtB,WACAiB,YACA6C,EAAK5J,GALN49H,CAMErxG,EAAUrzB,GAtBN,wBAAAs+C,EAAA/nB,SAAA8nB,MAAP,gBAAAsqD,EAAAoL,GAAA,OAAApwG,EAAA2P,MAAAwd,KAAApxB,YAAA,GA0BM,SAASirG,KACf,sBAAA9mG,EAAAjD,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAm+E,EAAe5gF,EAAUrzB,GAAzB,IAAAD,EAAA++H,EAAAgI,EAAAnkI,EAAA7B,EAAAkH,EAAA,OAAA6tB,EAAAp2B,EAAAy2B,KAAA,SAAAg+E,GAAA,cAAAA,EAAAjmF,KAAAimF,EAAA99E,MAAA,UACAr2B,EAAQC,IACR8+H,EAAUr8H,YAAW1C,GAFrB+mI,EAGe1kI,YAAcrC,GAA3B4C,EAHFmkI,EAGEnkI,SACA7B,EAAY6B,EAAZ7B,SAEJg+H,IAAWh+H,EANT,CAAAozG,EAAA99E,KAAA,gBAAA89E,EAAAjmF,KAAA,EAAAimF,EAAA99E,KAAA,EAQoBioF,GAAa,CACpC59G,KAAK,EACL+9G,UAAW19G,EACX29G,YAAY,IAXT,OAQEz2G,EARFksG,EAAAvsD,KAkCJq5D,GAAY,CACXx2G,MAtBqBxC,EACpBqF,OACA,SAAA8D,GAAC,OACAA,EAAErK,IACFqK,EAAE+xD,SACF/xD,EAAE+xD,QAAQp3B,gBAAkBhrC,EAAQgrC,gBAErC1qC,IAAI,SAAA+P,GACJ,IAAMhG,EAAQvK,OAAAC,EAAA,EAAAD,CAAA,GACVuQ,EAAEqQ,KACFrQ,EAFU,CAGby/C,eAAgBz/C,EAAEy/C,gBAAkBz/C,EAAEqQ,KAAKovC,iBAO5C,OAJKzlD,EAAS8W,oBACb9W,EAAS6W,OAAOC,kBAAoB0kH,GAAqBx7H,IAGnDA,IAKRT,SAAU,YAFXs2G,CAGG3tF,GArCC6gF,EAAA99E,KAAA,iBAAA89E,EAAAjmF,KAAA,GAAAimF,EAAA58B,GAAA48B,EAAA,SAuCJ/kF,QAAQqB,MAAM,wBAAd0jF,EAAA58B,IAEAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,wBAAyB,CACjCyJ,KAAM,CAACuhG,EAAWwI,EAAA58B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GA/CC,yBAAA6gF,EAAA39E,SAAA09E,EAAA,kBAAP,gBAAAE,EAAAC,GAAA,OAAAvwG,EAAAyP,MAAAwd,KAAApxB,YAAA,GAqDM,SAASgoE,GAAT1jE,GAAqC,IAAZmH,EAAYnH,EAAZmH,SAC/B,sBAAAhH,EAAAvD,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAw+E,EAAejhF,EAAUrzB,GAAzB,IAAAD,EAAA6C,EAAAP,EAAAiC,EAAAqkH,EAAA4N,EAAA,OAAA1gG,EAAAp2B,EAAAy2B,KAAA,SAAAq+E,GAAA,cAAAA,EAAAtmF,KAAAsmF,EAAAn+E,MAAA,cACNu1E,EAAa,oBAAA9iG,OAAqBsC,EAASrE,KAAM,EAAjD6kG,CAAuDt4E,GADjDkhF,EAAAtmF,KAAA,EAGCluB,EAAQC,IACR4C,EAAUK,YAAclD,GACtBsC,EAAYtC,EAAME,QAAlBoC,QALHkyG,EAAAn+E,KAAA,EAMwB6kG,GAAa,CAAE54H,UAAS8I,aANhD,cAAA7G,EAAAiwG,EAAA5sD,KAMGghE,EANHrkH,EAMGqkH,WANHpU,EAAAn+E,KAAA,GAOCgoF,GAAoB,CAAEjzG,WAAUvI,YAPjC,eAQC2zH,EARD31H,OAAAC,EAAA,EAAAD,CAAA,GAQoBuK,IACb6W,OAAZphB,OAAAC,EAAA,EAAAD,CAAA,GACI21H,EAAYv0G,OADhB,CAECC,kBAAmB,WAEpBoR,EAAS,CACR5qB,KAAMgwF,IACN/nF,KAAM6lH,EACN7rH,SAAU,aAhBN6pG,EAAAn+E,KAAA,GAkBC+mG,GAA0B,CAAEC,QAASzU,GAArCwU,CACL9pG,EACArzB,GApBI,eAAAu0G,EAAAn+E,KAAA,GAsBCu0E,KAAsBt3E,EAAUrzB,GAtBjC,QAuBLg4B,EAAQ7e,aAAK,oCACbojE,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,4BACT2xB,QAAS,KAHVkqD,CAIGlpD,GA5BEkhF,EAAAn+E,KAAA,iBAAAm+E,EAAAtmF,KAAA,GAAAsmF,EAAAj9B,GAAAi9B,EAAA,SA8BLplF,QAAQqB,MAAM,uBAAd+jF,EAAAj9B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,uBAAwB,CAChCyJ,KAAM,CAACuhG,EAAW6I,EAAAj9B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GArCE,QAuCNs4E,EAAa,oBAAA9iG,OAAqBsC,EAASrE,KAAM,EAAjD6kG,CAAwDt4E,GAvClD,yBAAAkhF,EAAAh+E,SAAA+9E,EAAA,kBAAP,gBAAAE,EAAAC,GAAA,OAAAtwG,EAAAmP,MAAAwd,KAAApxB,YAAA,GA2CM,SAASkoE,GAATljE,GAA6C,IAAZyG,EAAYzG,EAAZyG,SACvC,sBAAArG,EAAAlE,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA6+E,EAAethF,EAAUrzB,GAAzB,IAAA2yB,EAAA5yB,EAAAsC,EAAAohB,EAAAsjH,EAAAC,EAAA/hI,EAAA0jH,EAAA,OAAA9yF,EAAAp2B,EAAAy2B,KAAA,SAAA0+E,GAAA,cAAAA,EAAA3mF,KAAA2mF,EAAAx+E,MAAA,cACNu1E,EAAa,oBAAA9iG,OAAqBsC,EAASrE,KAAM,EAAjD6kG,CAAuDt4E,GACnDV,EAAS,UAFPiiF,EAAA3mF,KAAA,EAICluB,EAAQC,IACNqC,EAAYtC,EAAME,QAAlBoC,QACFohB,EAAU,IAAI5V,YAAS1C,GAEvB47H,EAAwBtjH,EAAQmtC,gBAAkB,GAClDo2E,EATDpmI,OAAAgE,GAAA,EAAAhE,CASgBmmI,IAE4C,KAA/CA,EAAsB,IAAM,IAAI5/D,YAEjDx0C,EAAS,WACTq0G,EAASj/B,SAETi/B,EAASC,QAAQ,CAAE9/D,YAAY,IAGhC1jD,EAAQmtC,eAAiBo2E,EAnBpBpyB,EAAAx+E,KAAA,GAqBwB0yF,GAAgB,CAC5CzmH,UACA8I,SAAUsY,EACVmtC,eAAgBo2E,IAxBZ,eAAA/hI,EAAA2vG,EAAAjtD,KAqBGghE,EArBH1jH,EAqBG0jH,WArBH/T,EAAAx+E,KAAA,GA2BC+mG,GAA0B,CAAEC,QAASzU,GAArCwU,CACL9pG,EACArzB,GA7BI,eAAA40G,EAAAx+E,KAAA,GAgCCgwG,GAAuB,CAC5B3iH,UACA4iH,WAAU,WAAAx9H,OAAa8pB,EAAb,cAFLyzG,CAGH/yG,EAAUrzB,GAnCR,QAAA40G,EAAAx+E,KAAA,iBAAAw+E,EAAA3mF,KAAA,GAAA2mF,EAAAt9B,GAAAs9B,EAAA,SAqCLzlF,QAAQqB,MAAR,OAAA3nB,OAAqB8pB,EAArB,aAAAiiF,EAAAt9B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAC,OAAAmI,OAAQ8pB,EAAR,aAA2B,CAClCxoB,KAAM,CAACuhG,EAAWkJ,EAAAt9B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GA5CE,QA8CNs4E,EAAa,oBAAA9iG,OAAqBsC,EAASrE,KAAM,EAAjD6kG,CAAwDt4E,GA9ClD,yBAAAuhF,EAAAr+E,SAAAo+E,EAAA,kBAAP,gBAAAE,EAAAI,GAAA,OAAAnwG,EAAAwO,MAAAwd,KAAApxB,YAAA,GAkDM,SAASqgE,GAAT/sD,GAMJ,IALFrK,EAKEqK,EALFrK,WACAm3D,EAIE9sD,EAJF8sD,UACAF,EAGE5sD,EAHF4sD,QACAjtC,EAEE3f,EAFF2f,OACAgmB,EACE3lC,EADF2lC,UAEA,sBAAAhxB,EAAA/mB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAi/E,EAAe1hF,EAAUrzB,GAAzB,IAAAD,EAAAoL,EAAAwE,EAAAtN,EAAAohB,EAAAwC,EAAAihH,EAAAC,EAAAC,EAAAp6H,EAAAq6H,EAAAC,EAAAC,EAAAC,EAAAC,EAAA33H,EAAAG,EAAAg3D,EAAA3lD,EAAAosC,EAAAnrC,EAAAwkD,EAAAigE,EAAAjzH,EAAA40G,EAAA6d,EAAAD,EAAAF,EAAA,OAAAxwG,EAAAp2B,EAAAy2B,KAAA,SAAA8+E,GAAA,cAAAA,EAAA/mF,KAAA+mF,EAAA5+E,MAAA,UACNu1E,EAAa,GAAA9iG,OAAI8pB,EAAJ,qBAAA9pB,OAA8BF,IAAc,EAAzDgjG,CAA+Dt4E,GADzD2hF,EAAA/mF,KAAA,EAICluB,EAAQC,IACRmL,EAAWJ,YAAmBhL,EAAO4I,GACrCgH,EAAgBF,aAAyB1P,GACvCsC,EAAYtC,EAAME,QAAlBoC,QACFohB,EAAU,IAAI5V,YAAS1C,GAEvB8a,EAAwBtZ,YAC7B5M,EACA4I,IAIKu+H,EAhBDtmI,OAAAC,EAAA,EAAAD,CAAA,CAiBJ4iB,QAAS,IACT3W,OAAQ,CAAEG,WAAY,KACnBiZ,IAEapZ,OAAjBjM,OAAAC,EAAA,EAAAD,CAAA,GAA+BsmI,EAAiBr6H,QAChDq6H,EAAiBr6H,OAAOG,WAAxBpM,OAAAC,EAAA,EAAAD,CAAA,GACIsmI,EAAiBr6H,OAAOG,YAvBvBm6H,EA0BmBD,EAAhBr6H,OA1BHu6H,QAAA,IAAAD,EA0BY,GA1BZA,GA2BGn6H,kBA3BH,IAAAo6H,EA2BgB,GA3BhBA,GA8BDxnE,IAAW5yD,EAAWsG,OAA8B,OAArBtG,EAAWsG,MA9BzC,CAAA0hG,EAAA5+E,KAAA,SA+BEixG,EAAQzmI,OAAAgE,GAAA,EAAAhE,CAAKoM,EAAWkS,IAAM,IAAK7R,OAAO,SAAAmG,GAAS,IAChDlH,EAAaoR,KAAKrR,MAAMmH,GAAxBlH,SACR,OAAQwzD,EAAU/uD,SAASzE,KAE5B46H,EAAiBr6H,OAAOG,WAAWkS,GAAKmoH,EAnCpCryB,EAAA5+E,KAAA,oBAsCKwpC,IAAW5yD,EAAWsG,OAA8B,OAArBtG,EAAWsG,MAtC/C,CAAA0hG,EAAA5+E,KAAA,SAuCEixG,EAAQzmI,OAAAgE,GAAA,EAAAhE,CAAIk/D,GAEhBzyD,OAAO,SAAAq2E,GAAC,OAAI9iF,OAAAgE,GAAA,EAAAhE,CAAKoM,EAAWkS,IAAM,IAAKpO,KAAK,SAAA3D,GAAC,OAAIA,EAAE4D,SAAS2yE,OAC5DtiF,IAAI,SAAAkL,GAAQ,OACZoR,KAAKC,UAAU,CACdrR,WACAiR,WACC5N,EAAczC,KAAK,SAAAC,GAAC,OAAIA,EAAEb,WAAaA,KAAa,IACnD+E,UAIL61H,EAAiBr6H,OAAOG,WAAWkS,IAAMlS,EAAWkS,IAAM,IAAIrW,OAC7Dw+H,GApDGryB,EAAA5+E,KAAA,qBAwDIwpC,IAAW5yD,EAAWsG,OAA8B,QAArBtG,EAAWsG,MAxD9C,CAAA0hG,EAAA5+E,KAAA,SAyDEmxG,EAASznE,EAEbzyD,OAAO,SAAAq2E,GAAC,OAAK9iF,OAAAgE,GAAA,EAAAhE,CAAKoM,EAAWmS,KAAO,IAAKrO,KAAK,SAAA3D,GAAC,OAAIA,EAAE4D,SAAS2yE,OAC9DtiF,IAAI,SAAAkL,GAAQ,OACZoR,KAAKC,UAAU,CACdrR,WACAiR,WACC5N,EAAczC,KAAK,SAAAC,GAAC,OAAIA,EAAEb,WAAaA,KAAa,IACnD+E,UAIL61H,EAAiBr6H,OAAOG,WAAWmS,KAAOnS,EAAWmS,KAAO,IAAItW,OAC/D0+H,GAtEGvyB,EAAA5+E,KAAA,oBA0EKwpC,IAAW5yD,EAAWsG,OAA8B,QAArBtG,EAAWsG,MA1E/C,CAAA0hG,EAAA5+E,KAAA,SA2EEmxG,EAAS3mI,OAAAgE,GAAA,EAAAhE,CAAKoM,EAAWmS,KAAO,IAEpC9R,OAAO,SAAAmG,GAAS,IACRlH,EAAaoR,KAAKrR,MAAMmH,GAAxBlH,SACR,OAAQwzD,EAAU/uD,SAASzE,KAE7B46H,EAAiBr6H,OAAOG,WAAWmS,IAAMooH,EAjFrCvyB,EAAA5+E,KAAA,qBAqFJwpC,GACE5yD,EAAWsG,SACXtG,EAAWsG,OAA8B,UAArBtG,EAAWsG,OAvF7B,CAAA0hG,EAAA5+E,KAAA,SAyFEmxG,EAAS3mI,OAAAgE,GAAA,EAAAhE,CAAIk/D,GAAW1+D,IAAI,SAAAkL,GAAQ,OACzCoR,KAAKC,UAAU,CACdrR,WACAiR,WAAY5N,EAAczC,KAAK,SAAAC,GAAC,OAAIA,EAAEb,WAAaA,KAAa,IAC9D+E,UAIJ61H,EAAiBr6H,OAAOG,WAAWsG,MAAQ,MAC3C4zH,EAAiBr6H,OAAOG,WAAWmS,IAAMooH,EAlGrCvyB,EAAA5+E,KAAA,oBAsGHwpC,GACC5yD,EAAWsG,SACXtG,EAAWsG,OAA8B,UAArBtG,EAAWsG,OAxG7B,CAAA0hG,EAAA5+E,KAAA,gBAAA4+E,EAAAz9B,OAAA,SA2GGgF,EAAS,CACf9zE,KAAM,UACNkU,MAAOjc,aAAC,WAAAmI,OAAY8pB,EAAZ,YAA8B,CACrCxoB,KAAM,CAAC21D,EAAUngE,OAAQ8jB,EAAQnW,SAElC+kB,QAAS,KALHkqD,CAMJlpD,IAjHC,cAqHyC,QAA7C6zG,EAAiBr6H,OAAOG,WAAWsG,OAClC4zH,EAAiBr6H,OAAOG,WAAWmS,IAAIxf,SAExCunI,EAAiBr6H,OAAOG,WAAWsG,MAAQ,QAC3C4zH,EAAiBr6H,OAAOG,WAAWmS,IAAM,MAGpCrP,EAAgBF,aAAwC7P,GACxDkQ,EAA2BF,aAChChQ,GA9HIknE,EAiIgB5lE,aAAgBtB,GAA7BuhB,EAjIH2lD,EAiIG3lD,SACAosC,EAAsDviD,EAAtDuiD,cAAenrC,EAAuCpX,EAAvCoX,iBAAkBwkD,EAAqB57D,EAArB47D,iBAUnCigE,EAAWd,GAA8B,CAC9Ct5H,cAAes6H,EACfp3H,gBACAG,2BACAy9C,cAX6BA,GAAiB,CAC9CO,WAAY,CACXvhB,IAAKnqB,EACLnP,IAAK2zD,IASNzlD,aAGDmC,EAAQmtC,eAAiBo2E,EACzBvjH,EAAQ7W,cAAgBs6H,EArJnBlyB,EAAA5+E,KAAA,GAuJwB0yF,GAAgB,CAC5CzmH,UACA8I,SAAUsY,EACVmtC,eAAgBo2E,IA1JZ,eAAAjzH,EAAAihG,EAAArtD,KAuJGghE,EAvJH50G,EAuJG40G,WAvJH3T,EAAA5+E,KAAA,GA6J0BsoF,GAAe,CAC7CvzG,SAAUsY,EAAQ49F,aAClBv6G,GAAI2c,EAAQ3c,KA/JR,eA6JC0/H,EA7JDxxB,EAAArtD,KAgKDx8C,SAhKC6pG,EAAA5+E,KAAA,GAkKC+mG,GAA0B,CAAEC,QAASzU,GAArCwU,CACL9pG,EACArzB,GApKI,eAuKDumI,EAAY,UACZF,EAxKC,WAAAx9H,OAwKuB8pB,EAxKvB,YA2KyC,OAA7Cu0G,EAAiBr6H,OAAOG,WAAWsG,OAClC4zH,EAAiBr6H,OAAOG,WAAWkS,GAAGvf,SAEvC4mI,EAAY,UACZF,EAAU,yBAAAx9H,OAA4B8pB,EAA5B,aA/KNqiF,EAAA5+E,KAAA,GAkLCgwG,GAAuB,CAC5B3iH,UACA8iH,YACAF,aACAqB,UAAW,CAAC5nE,EAAUngE,OAAQ6mI,EAAgBl5H,QAJzC84H,CAKH/yG,EAAUrzB,GAvLR,QAyLoB,oBAAd24C,GACVA,IA1LIq8D,EAAA5+E,KAAA,iBAAA4+E,EAAA/mF,KAAA,GAAA+mF,EAAA19B,GAAA09B,EAAA,SA6LL7lF,QAAQqB,MAAR,OAAA3nB,OAAqB8pB,EAArB,YAAAqiF,EAAA19B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAC,OAAAmI,OAAQ8pB,EAAR,YAA0B,CACjCxoB,KAAM,CAAC21D,EAAUngE,OAAQ+rG,EAAWsJ,EAAA19B,OAErCjlD,QAAS,KALVkqD,CAMGlpD,GApME,QAsMNs4E,EAAa,GAAA9iG,OAAI8pB,EAAJ,qBAAA9pB,OAA8BF,IAAc,EAAzDgjG,CAA+Dt4E,GAtMzD,yBAAA2hF,EAAAz+E,SAAAw+E,EAAA,kBAAP,gBAAAG,EAAAK,GAAA,OAAA5tF,EAAArU,MAAAwd,KAAApxB,YAAA,GA0MD,IAAMioI,GAAiB,CACtB,CACC7gI,GAvkB0BI,6CAwkB1BkF,IAzkB2BlF,kCA0kB3B8vG,OAxkB+B9vG,IAykB/B+vG,OAxkB+B/vG,MAykB/BgwG,QAxkBgChwG,IA0kBjC,CACCJ,GAxkB4BI,6CAykB5BkF,IA1kB6BlF,gCA2kB7B8vG,OAzkBiC9vG,KA0kBjC+vG,OAzkBiC/vG,OA0kBjCgwG,QAzkBkChwG,+CA6kB7B,SAAS00D,GAAT5nD,GAKJ,IAJF2L,EAIE3L,EAJF2L,WACAS,EAGEpM,EAHFoM,MACAy8B,EAEE7oC,EAFF6oC,QACAif,EACE9nD,EADF8nD,UAEA,sBAAArnD,EAAA7T,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAu/E,EAAehiF,EAAUrzB,GAAzB,IAAAD,EAAAoL,EAAAF,EAAAgpE,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAo/E,GAAA,cAAAA,EAAArnF,KAAAqnF,EAAAl/E,MAAA,cAAAk/E,EAAAl/E,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,cAGAtzB,EAAQC,IACRmL,EAAWyC,aAAkB7N,GAC3BkL,EAAYE,EAAZF,QALFqqG,EAAAl/E,KAAA,EAOgBogF,GAAsB,CAAE72F,aAAY1U,UAASmV,SAA7Co2F,CACrBnjF,GARK,cAOA4gD,EAPAqhC,EAAA3tD,KAAA2tD,EAAAl/E,KAAA,GAWAw9E,GAAsB,CAAE3/B,UAASp3B,UAASif,cAX1C,eAAAw5C,EAAAl/E,KAAA,GAYAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GAZjC,yBAAAiiF,EAAA/+E,SAAA8+E,MAAP,gBAAAG,EAAAI,GAAA,OAAAnhG,EAAAnB,MAAAwd,KAAApxB,YAAA,GAgBM,SAASm8D,GAATnnD,GAKJ,IAJFiL,EAIEjL,EAJFiL,WACAS,EAGE1L,EAHF0L,MACAy8B,EAEEnoC,EAFFmoC,QACAif,EACEpnD,EADFonD,UAEA,sBAAA9mD,EAAApU,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA4/E,EAAeriF,EAAUrzB,GAAzB,IAAAD,EAAA6nI,EAAAC,EAAAj7H,EAAAi8C,EAAAh8C,EAAAonE,EAAAnkE,EAAAG,EAAAy9C,EAAA,OAAA73B,EAAAp2B,EAAAy2B,KAAA,SAAAy/E,GAAA,cAAAA,EAAA1nF,KAAA0nF,EAAAv/E,MAAA,cAAAu/E,EAAAv/E,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,cAAAsiF,EAAA1nF,KAAA,EAGCluB,EAAQC,IAHT4nI,EAIgCh6H,aAAkB7N,GAJlD8nI,EAAAD,EAIGh7H,qBAJH,IAAAi7H,EAImB,GAJnBA,EAIuBh/E,EAJvB++E,EAIuB/+E,KACpBh8C,EAAWD,EAAXC,OALH8oG,EAAAv/E,KAAA,EAOiBwmF,GAAiB,CACtCj9F,aACA9S,SACAuT,QACAy8F,SAAU,iBAJWD,CAKnBvpF,GAZE,YAOC4gD,EAPD0hC,EAAAhuD,MAAA,CAAAguD,EAAAv/E,KAAA,gBAeEtmB,EAAgBF,aAAwC7P,GACxDkQ,EAA2BF,aAChChQ,GAEK2tD,EAAgBy4E,GAA0B,CAC/Cr2H,gBACAG,2BACArD,kBAtBG+oG,EAAAv/E,KAAA,GAyBE20B,GAAkB,OAADnqD,OAAAC,EAAA,EAAAD,CAAA,GACnBioD,EADmB,CAEtBmF,uBAAwBN,IAFnB3C,CAGH13B,EAAUrzB,GA5BT,eAAA21G,EAAAv/E,KAAA,GA+BE20B,GAAkB,gBAAiB2C,EAAnC3C,CACL13B,EACArzB,GAjCG,eAAA21G,EAAAv/E,KAAA,GAqCCw9E,GAAsB,CAAE3/B,UAASp3B,UAASif,cArC3C,QAAA65C,EAAAv/E,KAAA,iBAAAu/E,EAAA1nF,KAAA,GAAA0nF,EAAAr+B,GAAAq+B,EAAA,SAuCLxmF,QAAQgvG,IAAI,MAAZxoB,EAAAr+B,IAvCK,eAAAq+B,EAAAv/E,KAAA,GA0CAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GA1CjC,yBAAAsiF,EAAAp/E,SAAAm/E,EAAA,kBAAP,gBAAAG,EAAAI,GAAA,OAAAjhG,EAAA1B,MAAAwd,KAAApxB,YAAA,GA8CM,SAASq8D,GAAT7mD,GAKJ,IAJFyK,EAIEzK,EAJFyK,WACAS,EAGElL,EAHFkL,MACAy8B,EAEE3nC,EAFF2nC,QACAif,EACE5mD,EADF4mD,UAEA,sBAAA3mD,EAAAvU,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAigF,EAAe1iF,EAAUrzB,GAAzB,IAAAD,EAAAstH,EAAA/rG,EAAAnW,EAAAqiD,EAAArrC,EAAA7U,EAAAmV,EAAAC,EAAAF,EAAAkrC,EAAA9gD,EAAA+gD,EAAA9E,EAAA+E,EAAA/d,EAAA0mF,EAAAh7G,EAAA04D,EAAA5xE,EAAA+S,EAAA27C,EAAA8pE,EAAAC,EAAAhwE,EAAAh7C,EAAAG,EAAA63H,EAAA94E,EAAA4B,EAAA,OAAA/6B,EAAAp2B,EAAAy2B,KAAA,SAAA8/E,GAAA,cAAAA,EAAA/nF,KAAA+nF,EAAA5/E,MAAA,cAAA4/E,EAAA5/E,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,UAAA2iF,EAAA/nF,KAAA,EAGCluB,EAAQC,IAHTqtH,EAIgBhsH,aAAgBtB,GAA7BuhB,EAJH+rG,EAIG/rG,SACFnW,EAAWyC,aAAkB7N,GAElCytD,EAWGriD,EAXHqiD,WACArrC,EAUGhX,EAVHgX,cACA7U,EASGnC,EATHmC,MACAmV,EAQGtX,EARHsX,WACAC,EAOGvX,EAPHuX,oBACAF,EAMGrX,EANHqX,QACAkrC,EAKGviD,EALHuiD,cACA9gD,EAIGzB,EAJHyB,cAdI+gD,EAkBDxiD,EADH09C,KAGO+E,GAHP/E,OAjBI,IAAA8E,EAiBG,GAjBHA,GAoBGC,eAAgB/d,EAAegZ,EAAfhZ,WAElB0mF,EAtBD31H,OAAAC,EAAA,EAAAD,CAAA,GAsBoBuK,GAEpBqiD,GAAeA,EAAW7tD,OAxB1B,CAAAq2G,EAAA5/E,KAAA,gBA0BJmgG,EAAY/oE,WAAam6E,GA1BrB3xB,EAAA5/E,KAAA,GA2BE20B,GAAkB,aAAcwrE,EAAY/oE,WAA5CzC,CACL13B,EACArzB,GA7BG,eAAAg2G,EAAA5/E,KAAA,GAiCqBmvB,QAAQ9kD,IAAI,CACrCo2G,GAA2B,CAAEl3F,aAAY6tC,aAAYptC,SAArDy2F,CAA8DxjF,GAC9D6lF,GAAuB,CACtBv5F,aACA41B,KAAM,gBACN/hC,MAAO2O,EACP/B,QACA+B,gBACAurC,gBACAvX,QAAS/1B,GAAS,iBAClByvB,aACAvuB,YATD43F,CAUG7lF,GACH6lF,GAAuB,CACtBv5F,aACA41B,KAAM,oBACN/hC,MAAOk6C,EAAcO,WAAaP,EAAcO,WAAWvhB,IAAM,KACjEtsB,QACAstC,gBACAvrC,gBACAg0B,QAAS/1B,GAAS,iBAClByvB,aACAvuB,YATD43F,CAUG7lF,GACH6mF,GAAsB,CACrBv6F,aACArS,QACA8S,SAHD85F,CAIG7mF,GACHwmF,GAAsB,CACrBl6F,aACA41B,KAAM,aACN/hC,MAAOiP,EACPrC,QACAqC,aACAC,sBACAF,WAPDq3F,CAQGxmF,GACHwmF,GAAsB,CACrBl6F,aACA41B,KAAM,sBACN/hC,MAAOkP,EACPtC,QACAqC,aACAC,sBACAF,WAPDq3F,CAQGxmF,KA/EC,WAiCC9X,EAjCDy6F,EAAAruD,KAkFCssB,EAAU14D,EAAY/S,MAAM,SAAA0kC,GAAC,OAAU,IAANA,IAET,kBAAnB0gB,EApFN,CAAAooD,EAAA5/E,KAAA,gBAAA4/E,EAAA5/E,KAAA,GAqFEu1E,EAAcx9C,MAAwB,EAAtCw9C,CAA4Ct4E,GArF9C,eAuFEhxB,EAAUD,YAAcrC,GAvF1Bi2G,EAAA5/E,KAAA,GA6FMgkG,GAAY,CACrBjvH,SAASvK,OAAAC,EAAA,EAAAD,CAAA,GAAM21H,GACfl0H,UACA2sH,aAAa,EACbsL,YAAY,IAjGT,eAAAllH,EAAA4gG,EAAAruD,KA0FHoJ,EA1FG37C,EA0FH27C,cACA8pE,EA3FGzlH,EA2FHylH,aACAC,EA5FG1lH,EA4FH0lH,uBAQKhwE,EApGFlqD,OAAAC,EAAA,EAAAD,CAAA,GAoGiBioD,IACb+E,eAAiBmD,EACzBjG,EAAQjb,WAAagrF,EACrB/vE,EAAQ+C,oBAAsBitE,EAvG1B9kB,EAAA5/E,KAAA,GAyGE20B,GAAkB,OAAQD,EAA1BC,CAAmC13B,EAAUrzB,GAzG/C,YA4GDi0E,EA5GC,CAAA+hC,EAAA5/E,KAAA,gBA6GEtmB,EAAgBF,aAAwC7P,GACxDkQ,EAA2BF,aAChChQ,GAIK+nI,EAnHFlnI,OAAAC,EAAA,EAAAD,CAAA,GAmHmC8sD,IACjCsB,EApHFpuD,OAAAC,EAAA,EAAAD,CAAA,GAoHoBknI,EAA0B75E,aACvCvhB,IAAMisE,sBAAW3pD,EAAWtiB,IAAKprB,GAC5C0tC,EAAW57C,IAAMulG,sBAAW3pD,EAAW57C,IAAKkO,GAC5CwmH,EAA0B75E,WAAae,EAEjC4B,EAAiBs1E,GAA8B,CACpDt5H,gBACAkD,gBACAG,2BACAy9C,cAAeo6E,EACfxmH,aA9HG00F,EAAA5/E,KAAA,GAgIE20B,GAAkB,iBAAkB6F,EAApC7F,CACL13B,EACArzB,GAlIG,eAAAg2G,EAAA5/E,KAAA,GAsICw9E,GAAsB,CAAE3/B,UAASp3B,UAASif,cAtI3C,QAAAk6C,EAAA5/E,KAAA,iBAAA4/E,EAAA/nF,KAAA,GAAA+nF,EAAA1+B,GAAA0+B,EAAA,SAwIL7mF,QAAQqB,MAAM,kCAAdwlF,EAAA1+B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,kCAAmC,CAC3CyJ,KAAM,CAACuhG,EAAWsK,EAAA1+B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GA/IE,eAAA2iF,EAAA5/E,KAAA,GAkJAu1E,EAAcx9C,MAAwB,EAAtCw9C,CAA6Ct4E,GAlJ7C,eAAA2iF,EAAA5/E,KAAA,GAmJAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GAnJjC,yBAAA2iF,EAAAz/E,SAAAw/E,EAAA,kBAAP,gBAAAG,EAAAI,GAAA,OAAAnhG,EAAA7B,MAAAwd,KAAApxB,YAAA,GAuJM,SAASyxD,KACf,sBAAA57C,EAAA3U,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAsgF,EAAe/iF,EAAUrzB,GAAzB,IAAAD,EAAAoL,EAAA3J,EAAAumI,EAAAl/E,EAAA1mC,EAAA9f,EAAAmT,EAAAu7C,EAAAgtB,EAAAiqD,EAAAh3E,EAAAlG,EAAA,OAAAj1B,EAAAp2B,EAAAy2B,KAAA,SAAAmgF,GAAA,cAAAA,EAAApoF,KAAAooF,EAAAjgF,MAAA,cAAAigF,EAAAjgF,KAAA,EACAu1E,EAAcx9C,MAAwB,EAAtCw9C,CAA4Ct4E,GAD5C,cAAAgjF,EAAApoF,KAAA,EAGCluB,EAAQC,IACRmL,EAAWyC,aAAkB7N,GAC7ByB,EAAYH,aAAgBtB,GAL7BgoI,EAMgC58H,EAA7B09C,YANH,IAAAk/E,EAMU,GANVA,EAMc5lH,EAAkBhX,EAAlBgX,cAEb9f,EAAUD,YAAcrC,GARzBs2G,EAAAjgF,KAAA,GAUiCgkG,GAAY,CACjDjvH,SAASvK,OAAAC,EAAA,EAAAD,CAAA,GAAMuK,GACf9I,UACA2sH,aAAa,IAbT,eAAAx5G,EAAA6gG,EAAA1uD,KAUGoJ,EAVHv7C,EAUGu7C,cAAegtB,EAVlBvoE,EAUkBuoE,KAMjBiqD,EAAarvB,sBAAWx2F,EAAe3gB,EAAU8f,UAAUlS,IAAI2uE,GAE/D/sB,EAAsBr5C,aAC3BqwH,EAAWl+G,WACXtoB,EAAU8f,UAAY,IACtB,GACA,IAGKwpC,EAzBDlqD,OAAAC,EAAA,EAAAD,CAAA,GAyBgBioD,IACbkI,cAAgBA,EACxBjG,EAAQkG,oBAAsBA,EA3BzBqlD,EAAAjgF,KAAA,GA6BC20B,GAAkB,OAAQD,EAA1BC,CAAmC13B,EAAUrzB,GA7B9C,QAAAq2G,EAAAjgF,KAAA,iBAAAigF,EAAApoF,KAAA,GAAAooF,EAAA/+B,GAAA++B,EAAA,SA+BLlnF,QAAQqB,MAAM,4BAAd6lF,EAAA/+B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,4BAA6B,CACrCyJ,KAAM,CAACuhG,EAAW2K,EAAA/+B,OAEnBjlD,QAAS,KALVkqD,CAMGlpD,GAtCE,eAAAgjF,EAAAjgF,KAAA,GAyCAu1E,EAAcx9C,MAAwB,EAAtCw9C,CAA6Ct4E,GAzC7C,yBAAAgjF,EAAA9/E,SAAA6/E,EAAA,kBAAP,gBAAAG,EAAAI,GAAA,OAAAphG,EAAAjC,MAAAwd,KAAApxB,YAAA,GA6CM,SAASuxC,GAAsC/X,GACrD,sBAAAvjB,EAAA/U,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAgiF,EAAezkF,EAAUrzB,GAAzB,OAAA61B,EAAAp2B,EAAAy2B,KAAA,SAAAmiF,GAAA,cAAAA,EAAApqF,KAAAoqF,EAAAjiF,MAAA,cAAAiiF,EAAAjiF,KAAA,EACAu1E,EAAcp8D,MAA6B,EAA3Co8D,CAAiDt4E,GADjD,OAENylB,EAAal4C,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KACZ,SAAA2gF,IAAA,OAAA5gF,EAAAp2B,EAAAy2B,KAAA,SAAAwgF,GAAA,cAAAA,EAAAzoF,KAAAyoF,EAAAtgF,MAAA,cAAAsgF,EAAAtgF,KAAA,EACO22E,EAAoB,YAAa7zE,EAAjC6zE,CAA2C15E,GADlD,cAAAqjF,EAAAtgF,KAAA,EAEO/C,EAASla,aAAK,mCAFrB,cAAAu9F,EAAAtgF,KAAA,EAGOu1E,EAAcp8D,MAA6B,EAA3Co8D,CAAkDt4E,GAHzD,wBAAAqjF,EAAAngF,SAAAkgF,MADY71G,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAMZ,SAAAghF,IAAA,OAAAjhF,EAAAp2B,EAAAy2B,KAAA,SAAA6gF,GAAA,cAAAA,EAAA9oF,KAAA8oF,EAAA3gF,MAAA,cAAA2gF,EAAA3gF,KAAA,EACOu1E,EAAcp8D,MAA6B,EAA3Co8D,CAAkDt4E,GADzD,wBAAA0jF,EAAAxgF,SAAAugF,MAGA,CACCtiF,YAAa9zB,aAAE,UACf6zB,aAAc7zB,aAAE,MAChB4M,MAAO5M,aAAE,2CACT4zB,KAAM5zB,aAAE,2CAbVo4C,CAeEzlB,EAAUrzB,GAjBN,wBAAAq4G,EAAA9hF,SAAAuhF,MAAP,gBAAAlB,EAAAO,GAAA,OAAAxhG,EAAArC,MAAAwd,KAAApxB,YAAA,GAqBM,SAAS64E,GAATtiE,GAMJ,IALF0J,EAKE1J,EALF0J,WACAS,EAIEnK,EAJFmK,MACA1P,EAGEuF,EAHFvF,KACAy8B,EAEEl3B,EAFFk3B,OACAwF,EACE18B,EADF08B,WAEA,sBAAAz8B,EAAAtV,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA2iF,EAAeplF,EAAUrzB,GAAzB,IAAAsN,EAAAV,EAAA8gD,EAAAnrC,EAAAwkD,EAAAtjD,EAAAwkH,EAAAloI,EAAAmoI,EAAA5mH,EAAAxR,EAAAG,EAAAw9C,EAAAlyC,EAAA04D,EAAAk0D,EAAA9lI,EAAA+T,EAAAuyG,EAAA,OAAA9yF,EAAAp2B,EAAAy2B,KAAA,SAAAwiF,GAAA,cAAAA,EAAAzqF,KAAAyqF,EAAAtiF,MAAA,cAAAsiF,EAAAtiF,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,cAAAqlF,EAAAzqF,KAAA,EAIJ3gB,EAKGoD,EALHpD,MACAV,EAIG8D,EAJH9D,cACA8gD,EAGGh9C,EAHHg9C,cACAnrC,EAEG7R,EAFH6R,iBACAwkD,EACGr2D,EADHq2D,iBAGKtjD,EAAU,IAAI5V,YAAS6C,IACvBu3H,EAAoBt1F,EAAW5hC,SAAS,oBAGvChR,EAAQC,IADQkoI,EAED7mI,aAAgBtB,GAA7BuhB,EAFc4mH,EAEd5mH,SACFxR,EAAgBF,aAAwC7P,GACxDkQ,EAA2BF,aAChChQ,GAKK0tD,EACLC,GAAiBA,EAAcO,WAC5BP,EACA,CACAO,WAAY,CACXvhB,IAAKghB,EAAchhB,KAAOnqB,EAC1BnP,IAAKs6C,EAAchhB,KAAOq6B,IAI/BtjD,EAAQmtC,eAAiBs1E,GAA8B,CACtDt5H,gBACAkD,gBACAG,2BACAy9C,cAAeD,EACfnsC,cAvCGo3F,EAAAtiF,KAAA,EA2CqBmvB,QAAQ9kD,IAAI,CACrCy5G,GAAsB,CACrBv6F,aACArS,QACA8S,SAHD85F,CAIG7mF,GACHwoF,GAAmB,CAClBl8F,aACAnM,MAAOiQ,EAAQ49F,aACf9rE,KAAM,WACNumE,OAAQ5I,GACR9yF,SALDy7F,CAMGxoF,KAvDC,UA2CC9X,EA3CDm9F,EAAA/wD,OA0DCssB,EAAU14D,EAAY/S,MAAM,SAAA0kC,GAAC,OAAU,IAANA,OAExBC,EA5DV,CAAAurE,EAAAtiF,KAAA,aA6DA6xG,EA7DA,CAAAvvB,EAAAtiF,KAAA,gBA8DGr2B,EAAQC,IACRqC,EAAUD,YAAcrC,GA/D3B24G,EAAAtiF,KAAA,GAgE0B0yF,GAAgB,CAC5CzmH,UACA8I,SAAUsY,EACVmtC,eAAgBntC,EAAQmtC,iBAnEtB,eAAAx6C,EAAAsiG,EAAA/wD,KAgEKghE,EAhELvyG,EAgEKuyG,WAhELjQ,EAAAtiF,KAAA,GAqEG+mG,GAA0B,CAAEC,QAASzU,GAArCwU,CACL9pG,EACArzB,GAvEE,eAAA04G,EAAAtiF,KAAA,GA2EEgwG,GAAuB,CAC5B3iH,UACA4iH,WAAY,yBAFPD,CAGH/yG,EAAUrzB,GA9ET,QAAA04G,EAAAtiF,KAAA,kBA+EO69C,GAAW9mC,GACtBovC,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,oBAAqB,CAC7ByJ,KAAM,CAAC,WAAYuhG,EAAY,mBAEhCr5E,QAAS,KALVkqD,CAMGlpD,GAtFC,QAAAqlF,EAAAtiF,KAAA,iBAAAsiF,EAAAzqF,KAAA,GAAAyqF,EAAAphC,GAAAohC,EAAA,SAyFLvpF,QAAQqB,MAAM,oBAAdkoF,EAAAphC,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,oBAAqB,CAC7ByJ,KAAM,CAAC,WAAYy0D,IAAO6lE,UAAP/rB,EAAAphC,OAEpBjlD,QAAS,KALVkqD,CAMGlpD,GAhGE,eAAAqlF,EAAAtiF,KAAA,GAmGAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GAnGjC,yBAAAqlF,EAAAniF,SAAAkiF,EAAA,kBAAP,gBAAArB,EAAAkB,GAAA,OAAApiG,EAAA5C,MAAAwd,KAAApxB,YAAA,GCz8BM,IAAM0oI,GAA2B,SAAA9nI,GAA0B,IAAvB+nI,EAAuB/nI,EAAvB+nI,OAAQ/mH,EAAehhB,EAAfghB,SAClD,OAAe,OAAX+mH,QAA8BzoI,IAAXyoI,EACfA,EAGD1vB,sBAAW0vB,EAAQ/mH,GACxB+0G,IAAIztG,wBAAa,MACjBkB,gCCTUw+G,GAA8B,eAAAhoI,EAAAM,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAG,SAAAC,EAAMwyG,GAAN,IAAA14B,EAAA+P,EAAAp3D,EAAA,OAAA3yB,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EAC3By6E,MAAM03B,GADqB,cACvC14B,EADuC15E,EAAAwxB,KAAAxxB,EAAAC,KAAA,EAE1By5E,EAAI+P,OAFsB,cAEvCA,EAFuCzpF,EAAAwxB,KAGvCa,EAAY5C,IAAIC,gBAAgB+5D,GAHOzpF,EAAAohD,OAAA,SAKtC/uB,GALsC,wBAAAryB,EAAAI,SAAAR,MAAH,gBAAAS,GAAA,OAAAl2B,EAAAgT,MAAAwd,KAAApxB,YAAA,GCmCnC8oI,GAAsCr1B,WAAtCq1B,WAAYC,GAA0Bt1B,WAA1Bs1B,WAAYC,GAAcv1B,WAAdu1B,UACxBC,GAAmC74G,WAAnC64G,wCAEOC,mFAAf,SAAAj0B,EAAAr0G,GAAA,IAAAyhB,EAAAylC,EAAAlQ,EAAA7uC,EAAA7F,EAAA0K,EAAAmpC,EAAAoyF,EAAAnmC,EAAAomC,EAAA,OAAAjzG,EAAAp2B,EAAAy2B,KAAA,SAAA0+E,GAAA,cAAAA,EAAA3mF,KAAA2mF,EAAAx+E,MAAA,cACCrU,EADDzhB,EACCyhB,UACAylC,EAFDlnD,EAECknD,QACAlQ,EAHDh3C,EAGCg3C,UACA7uC,EAJDnI,EAICmI,KACA7F,EALDtC,EAKCsC,QACA0K,EANDhN,EAMCgN,MACAmpC,EAPDn2C,EAOCm2C,YAPDm+D,EAAAx+E,KAAA,EAS0BspF,GAAoB,CAC5Cl4D,UACA5kD,YAXF,cASOimI,EATPj0B,EAAAjtD,KAYK9zC,KAEE6uF,EAAO,IAAI10F,UAAO,CACvBvF,OACAqZ,SAAQ,UAAAjZ,OAAYggI,GACpBvxF,YACAv1B,YACAS,QAASzT,KAAKC,MACd1B,QACAmpC,cACA9nC,UAAW,GACXgtE,KAAM,GACNotD,UAAU,IAxBZn0B,EAAAx+E,KAAA,EA2BuB2nF,GAAW,CAChCrb,KAAMA,EAAKojC,UACXljI,YA7BF,cA2BOkmI,EA3BPl0B,EAAAjtD,KAAAitD,EAAAr9B,OAAA,SAgCQuxD,GAhCR,wBAAAl0B,EAAAr+E,SAAAo+E,6BAmCO,SAASt4C,GAATr7D,GAKJ,IAJF2e,EAIE3e,EAJF2e,WACAS,EAGEpf,EAHFof,MACAy8B,EAEE77C,EAFF67C,QACAif,EACE96D,EADF86D,UAEA,sBAAA36D,EAAAP,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAC,EAAe1C,EAAUrzB,GAAzB,IAAAi0E,EAAAzyE,EAAAzB,EAAA27E,EAAApuE,EAAAmpC,EAAAhuC,EAAAge,EAAAuiH,EAAAzmH,EAAAsyC,EAAAhM,EAAAmM,EAAAz5C,EAAAha,EAAA+K,EAAAif,EAAAxe,EAAAqtD,EAAAtP,EAAAvkC,EAAA,OAAAsP,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,cAEF4gD,GAAU,EAFR99C,EAAAlI,KAAA,EAICzsB,EAAYH,eACZtB,EAAQC,IACR07E,EAAOxtE,aAAgBnO,GAE5BuN,EAOGouE,EAPHpuE,MACAmpC,EAMGilC,EANHjlC,YACAhuC,EAKGizE,EALHjzE,KACAge,EAIGi1D,EAJHj1D,QAXIuiH,EAeDttD,EAHHn5D,wBAZI,IAAAymH,EAYe,KAZfA,EAaJn0E,EAEG6mB,EAFH7mB,WACAhM,EACG6yB,EADH7yB,KAGOmM,EAAkBnM,EAAlBmM,cAjBH7+B,EAAAC,KAAA,GAmBqBmvB,QAAQ9kD,IAAI,CACrCo7G,GAAmB,CAClBl8F,aACAnM,MAAOlG,EACPioC,KAAM,QACNumE,OAAQ0sB,GAAWl7H,MACnB8S,SALDy7F,CAMGxoF,GACHwoF,GAAmB,CAClBl8F,aACAnM,MAAOijC,EACPlB,KAAM,cACNumE,OAAQ0sB,GAAW/xF,YACnBr2B,SALDy7F,CAMGxoF,GACHwoF,GAAmB,CAClBl8F,aACAnM,MAAO/K,EACP8sC,KAAM,OACNumE,OAAQ0sB,GAAW//H,KACnB2X,SALDy7F,CAMGxoF,GACHwoF,GAAmB,CAClBl8F,aACAnM,MAAOiT,EACP8uB,KAAM,UACNumE,OAAQ0sB,GAAW/hH,QACnBrG,SALDy7F,CAMGxoF,KA/CC,WAmBC9X,EAnBD4a,EAAAwxB,OAkDLssB,EAAU14D,EAAY/S,MAAM,SAAA0kC,GAAC,OAAU,IAANA,MAEjB8nB,GAAsC,OAArBzyC,EApD5B,CAAA4T,EAAAC,KAAA,gBAAAD,EAAAC,KAAA,GAqDYylF,GAAmB,CAClCl8F,aACAnM,MAAM5S,OAAAs9B,GAAA,EAAAt9B,CAAA,GACJY,EAAUV,QAAUsnI,GAAyB,CAC7CC,OAAQ9lH,GAAoB,KAC5BjB,SAAU9f,EAAU8f,YAGtBi0B,KAAM,mBACNumE,OAAQ0sB,GAAWjmH,iBACnBnC,SAVey7F,CAWbxoF,GAhEC,QAqDJ4gD,EArDI99C,EAAAwxB,KAAA,YAmEqDssB,EAnErD,CAAA99C,EAAAC,KAAA,gBAAAD,EAAAC,KAAA,GAoEIuoF,GAAc,CAAEC,WAAYn4F,IApEhC,QAAA0P,EAAAmhD,GAAAnhD,EAAAwxB,KAAAxxB,EAAAC,KAAA,iBAAAD,EAAAmhD,GAqEF,GArEE,QAAA/1E,EAAA40B,EAAAmhD,GAmEGhrE,EAnEH/K,EAmEG+K,SAAUif,EAnEbhqB,EAmEagqB,OAAQxe,EAnErBxL,EAmEqBwL,WAAYqtD,EAnEjC74D,EAmEiC64D,gBAGhCtP,EAtEDlqD,OAAAC,EAAA,EAAAD,CAAA,GAsEgBioD,EAtEhB,CAsEsBv8C,WAAUif,SAAQxe,aAAYqtD,oBACnD7zC,EAAQoiH,GAA+B,CAC5C9zE,aACAuF,gBACGpF,GAAsC,OAArBzyC,EAChB63C,EACA73C,EACJjB,SAAU9f,EAAU8f,WAGrB8zC,GAAc,OAAQtK,EAAtBsK,CAA+B/hC,EAAUrzB,GACzCo1D,GAAc,QAAS7uC,EAAvB6uC,CAA8B/hC,EAAUrzB,GAjFnCm2B,EAAAC,KAAA,iBAAAD,EAAAlI,KAAA,GAAAkI,EAAAmrF,GAAAnrF,EAAA,SAqFLhH,QAAQqB,MAAM,4BAAd2F,EAAAmrF,IArFK,eAAAnrF,EAAAC,KAAA,GAwFAw9E,GAAsB,CAAE3/B,UAASp3B,UAASif,cAxF1C,eAAA3lC,EAAAC,KAAA,GAyFAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GAzFjC,yBAAA8C,EAAAI,SAAAR,EAAA,kBAAP,gBAAAwoB,EAAAkjD,GAAA,OAAAtgG,EAAAmS,MAAAwd,KAAApxB,YAAA,GA6FM,SAAS48D,GAAT56D,GAMJ,IALFie,EAKEje,EALFie,WACAS,EAIE1e,EAJF0e,MACAy8B,EAGEn7C,EAHFm7C,QACAif,EAEEp6D,EAFFo6D,UACApuD,EACEhM,EADFgM,OAEA,sBAAA7L,EAAAjB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA8nB,EAAevqB,EAAUrzB,GAAzB,IAAAD,EAAAmlI,EAAAz8H,EAAA6uC,EAAA2xF,EAAAzzE,EAAAhO,EAAAX,EAAAkC,EAAA7rB,EAAAD,EAAA1hB,EAAA04D,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAAAynB,EAAAznB,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,cAGAtzB,EAAQC,IAHRklI,EAQFz3H,aAAyB1N,EAAO,SAAU2N,GAH7CjF,EALKy8H,EAKLz8H,KACA6uC,EANK4tF,EAML5tF,UANK2xF,EAAA/D,EAOLr8E,KAAQ2M,EAPHyzE,EAOGzzE,YAAahO,EAPhByhF,EAOgBzhF,QAASX,EAPzBoiF,EAOyBpiF,KAPzBkC,EAUoBC,aAAuBvgD,GAAzCy0B,EAVF6rB,EAUE7rB,MAAOD,EAVT8rB,EAUS9rB,OAVT4gB,EAAAznB,KAAA,EAYoBmvB,QAAQ9kD,IAAR,GAAAoI,OAAAjI,OAAAgE,GAAA,EAAAhE,CACrB40D,EACD,CACA0nD,GAAkB,CACjBv9F,aACAS,QACAy8F,SAAU,OACV9e,YAAa7gE,EACb8gE,aAAc/gE,EACdgY,IAAK,qBACLo3C,OAAO,EACPnpC,UAAU,EACVrhC,MAAO,CACN2lC,UACAX,SAXFq2D,CAaG7pF,IAEH,CACA4mB,GAASt6B,EAAY,OAAQ,CAC5Bs0D,SAAS,EACT7zD,SAFD65B,CAGG5mB,KAtBmBzyB,OAAAgE,GAAA,EAAAhE,CAwBrB40D,EACD,CACAqmD,GAAmB,CAClBl8F,aACAnM,MAAO8jC,EACP/B,KAAM,YACNumE,OAAQ2sB,GAAWnxF,UACnBl3B,SALDy7F,CAMGxoF,IAEH,CACA4mB,GAASt6B,EAAY,YAAa,CACjCs0D,SAAS,EACT7zD,SAFD65B,CAGG5mB,OAlDD,cAYA9X,EAZAsiC,EAAA8J,KAsDAssB,EAAU14D,EAAY/S,MAAM,SAAA0kC,GAAC,OAAU,IAANA,IAtDjC2Q,EAAAznB,KAAA,GAwDAw9E,GAAsB,CAAE3/B,UAASp3B,UAASif,cAxD1C,eAAAje,EAAAznB,KAAA,GAyDAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GAzDjC,yBAAAwqB,EAAAtnB,SAAAqnB,MAAP,gBAAAqqD,EAAAI,GAAA,OAAAxmG,EAAAyR,MAAAwd,KAAApxB,YAAA,GA6DM,SAAS68D,KACf,sBAAAv6D,EAAApB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAioB,EAAe1qB,EAAUrzB,GAAzB,IAAAD,EAAA2Q,EAAAlD,EAAA5K,EAAApB,EAAAo6E,EAAAiqD,EAAA,OAAAhwG,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,UAAA4nB,EAAA/vB,KAAA,EAECluB,EAAQC,IACR0Q,EAAOxC,aAAgBnO,GACvByN,EAJD5M,OAAAC,EAAA,EAAAD,CAAA,GAIgB8P,GACf9N,EAAUK,YAAclD,GACxByB,EAAYH,eACdu6E,EAAe,MACfpuE,EAAQq7C,KAAK2M,YARZ,CAAAxX,EAAA5nB,KAAA,gBAAA4nB,EAAA5nB,KAAA,GASkBwyG,GAAgB,CACrC7mH,UAAWvU,EAAQq7C,KAAKhC,KACxBW,QAASh6C,EAAQq7C,KAAKrB,QACtBlQ,UAAW9pC,EAAQ8pC,UACnB7uC,KAAM+E,EAAQ/E,KACd7F,UACA0K,MAAOE,EAAQF,MACfmpC,YAAajpC,EAAQipC,cAhBlB,QASJmlC,EATI59B,EAAA2J,KAiBA9zC,KAjBA,eAoBLrG,EAAQouE,aAAeA,EACvBpuE,EAAQgV,QAAUzT,KAAKC,MAEnBxB,EAAQ+U,mBACX/U,EAAQ+U,iBAAR3hB,OAAAs9B,GAAA,EAAAt9B,CAAA,GACEY,EAAUV,QAAUsnI,GAAyB,CAC7CC,OAAQ76H,EAAQ+U,iBAChBjB,SAAU9f,EAAU8f,aA3BlB08B,EAAA5nB,KAAA,GAgCiB8nF,GAAW,CAChCxiC,KAAM,IAAIvtE,UAAOX,GAASs4H,UAC1BljI,YAlCI,QAgCCijI,EAhCD7nF,EAAA2J,KAqCLt0B,EAAS,CACR5qB,KAAM+vF,IACN9nF,KAAM,IAAIvC,UAAO03H,GAAS9/B,WAC1Br7F,SAAU,WAGX6xE,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,wBAAyB,CAAEyJ,KAAM,CAAC,SAAUqD,EAAQF,SAC7D+kB,QAAS,KAHVkqD,CAIGlpD,GA/CE2qB,EAAA5nB,KAAA,uBAAA4nB,EAAA/vB,KAAA,GAAA+vB,EAAAs5B,GAAAt5B,EAAA,SAiDL7uB,QAAQqB,MAAM,oBAAdwtB,EAAAs5B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,oBAAqB,CAC7ByJ,KAAM,CAAC,SAAUuhG,EAAW1tD,EAAAs5B,OAE7BjlD,QAAS,KALVkqD,CAMGlpD,GACG,IAAIquE,MAAM,oBAAV1jD,EAAAs5B,IAzDD,yBAAAt5B,EAAAznB,SAAAwnB,EAAA,kBAAP,gBAAAuqD,EAAAI,GAAA,OAAA1mG,EAAAsR,MAAAwd,KAAApxB,YAAA,GA8DM,SAAS05D,GAATj3D,GAAoD,IAAf2E,EAAe3E,EAAf2E,GAAI2f,EAAWtkB,EAAXskB,QAC/C,sBAAAjjB,EAAA5C,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAooB,EAAe7qB,EAAUrzB,GAAzB,IAAA4+G,EAAAj7G,EAAA4nB,EAAA9H,EAAAnX,EAAAoE,EAAA,OAAAmlB,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cAENu1E,EAAc,aADRiT,EAAan4F,GAAW,WAAa3f,IACH,EAAxC6kG,CAA8Ct4E,GAFxC8qB,EAAAlwB,KAAA,EAAAkwB,EAAA/nB,KAAA,EAIuCuoF,GAAc,CACzDC,eALI,OAAAj7G,EAAAw6C,EAAAwJ,KAIGp8B,EAJH5nB,EAIG4nB,OAAQ9H,EAJX9f,EAIW8f,QAASnX,EAJpB3I,EAIoB2I,SAGnBoE,EAAO,CAAE5J,GAAIwF,EAAUif,SAAQ9H,WAErC4P,EAAS,CACR5qB,KAAMgwF,IACN/nF,OACAhG,SAAU,YAGP6gB,GAAUA,EAAO5rB,OACpB48E,EAAS,CACR9zE,KAAM,UACNkU,MAAOjc,aAAE,uCAAwC,CAChDyJ,KAAM,CAACy0G,KAERvsF,QAAS,KALVkqD,CAMGlpD,GAEHkpD,EAAS,CACR9zE,KAAM,UACNkU,MAAOjc,aAAE,mCAAoC,CAC5CyJ,KAAM,CAACy0G,KAERz0G,KAAM,CAACy0G,GACPvsF,QAAS,KANVkqD,CAOGlpD,GA/BC8qB,EAAA/nB,KAAA,iBAAA+nB,EAAAlwB,KAAA,GAAAkwB,EAAAm5B,GAAAn5B,EAAA,SAkCLhvB,QAAQqB,MAAM,+BAAd2tB,EAAAm5B,IACAiF,EAAS,CACR9zE,KAAM,QAENkU,MAAOjc,aAAE,+BAAgC,CACxCyJ,KAAM,CAACrD,EAADq3C,EAAAm5B,MAEPntE,KAAM,CAACrD,EAADq3C,EAAAm5B,IACNjlD,QAAS,KAPVkqD,CAQGlpD,GA3CE,QA6CNs4E,EAAc,YAAciT,GAAY,EAAxCjT,CAA+Ct4E,GA7CzC,yBAAA8qB,EAAA5nB,SAAA2nB,EAAA,kBAAP,gBAAAyqD,EAAAoL,GAAA,OAAAvwG,EAAA8P,MAAAwd,KAAApxB,YAAA,GAiDM,SAAS+6E,GAAT52E,GAAyD,IAAtB6J,EAAsB7J,EAAtB6J,OAAQilC,EAAc9uC,EAAd8uC,WACjD,sBAAA3uC,EAAApD,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAuoB,EAAehrB,EAAUrzB,GAAzB,IAAAD,EAAA2Q,EAAAlD,EAAA07H,EAAApnH,EAAAC,EAAAu1B,EAAAoD,EAAA8M,EAAA,OAAA3xB,EAAAp2B,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,UACAr2B,EAAQC,IACR0Q,EAAO5E,YAAiB/L,EAAO2N,GAC/BF,EAAUC,aAAyB1N,EAAO,SAAU2N,GAEpDw7H,EAAU,CAAC,WAAY,YAAa,aAAap4H,KAAK,SAAAykC,GAAI,OAC/D5C,EAAW5hC,SAASwkC,KAGbzzB,EAAmCpR,EAAnCoR,SAAUC,EAAyBrR,EAAzBqR,UAAWu1B,EAAc5mC,EAAd4mC,UACvBoD,EAAY,IACdwuF,EAXE,CAAA5qF,EAAAloB,KAAA,SAYLskB,EAAUmO,KAAVjoD,OAAAC,EAAA,EAAAD,CAAA,GACI4M,EAAQq7C,MAEZnO,EAAUpD,UAAY9pC,EAAQ8pC,UAfzBgH,EAAAloB,KAAA,qBAiBWtU,EAjBX,CAAAw8B,EAAAloB,KAAA,gBAAAkoB,EAAAloB,KAAA,GAkBIkyG,GAA+B94G,aAAQ1N,IAlB3C,QAAAw8B,EAAAg5B,GAAAh5B,EAAAqJ,KAAArJ,EAAAloB,KAAA,iBAAAkoB,EAAAg5B,GAmBFx1D,EAnBE,QAiBC0lC,EAjBDlJ,EAAAg5B,GAqBL58B,EAAUmO,KAAVjoD,OAAAC,EAAA,EAAAD,CAAA,GACI8P,EAAKm4C,KADT,CAECrB,UACAX,KAAM9kC,EACNyzC,eAAgB1zC,GAAYC,GAAau1B,KAE1CoD,EAAUpD,UAAYA,EA3BjB,QA8BNotF,GAAch0H,EAAMgqC,EAAW,SAAUvsC,UAAQuC,EAAK5J,GAAtD49H,CACCrxG,EACArzB,GAhCK,yBAAAs+C,EAAA/nB,SAAA8nB,MAAP,gBAAA81D,EAAAC,GAAA,OAAApwG,EAAAsP,MAAAwd,KAAApxB,YAAA,GAqCM,SAAS06E,GAATj2E,GAKJ,IAJFs2C,EAIEt2C,EAJFs2C,qBACA/sC,EAGEvJ,EAHFuJ,OACSy7H,EAEPhlI,EAFF04C,QACAl9B,EACExb,EADFwb,WAEA,sBAAArb,EAAA1D,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAm+E,EAAe5gF,EAAUrzB,GAAzB,IAAAD,EAAAqpI,EAAAvgF,EAAAvR,EAAAkQ,EAAAX,EAAA2O,EAAA9a,EAAAmC,EAAA,OAAAhnB,EAAAp2B,EAAAy2B,KAAA,SAAAg+E,GAAA,cAAAA,EAAAjmF,KAAAimF,EAAA99E,MAAA,cACAr2B,EAAQC,IADRopI,EAEsB37H,aAC3B1N,EACA,SACA2N,GAHOm7C,EAFFugF,EAEEvgF,KAAMvR,EAFR8xF,EAEQ9xF,UAKNkQ,EAA+BqB,EAA/BrB,QAASX,EAAsBgC,EAAtBhC,KAAM2O,EAAgB3M,EAAhB2M,YAEjB9a,EAAY,CACjBpD,UAAWke,EAAcle,EAAY,GACrCx1B,SAAU0zC,EAAchO,EAAU,GAClCzlC,UAAWyzC,EAAc3O,EAAO,IAG3BhK,EAAU,WACfpC,EAAqBC,EAAW,CAC/B,CACCl+B,KAAM,eACN+9B,OAAQ,CAAC,YAAa,WAAY,gBAGpC4uF,KAtBKj1B,EAAA99E,KAAA,EAyBAkmC,GAAwB,CAC7B38C,aACAS,OAAO,EACPy8B,UACAnvC,UAJK4uD,CAKHjpC,EAAUrzB,GA9BP,wBAAAk0G,EAAA39E,SAAA09E,MAAP,gBAAAO,EAAAC,GAAA,OAAAnwG,EAAAgP,MAAAwd,KAAApxB,YAAA,GAkCM,SAASi9E,GAATj4E,GAMJ,IALFib,EAKEjb,EALFib,WACAS,EAIE1b,EAJF0b,MACA1P,EAGEhM,EAHFgM,KACAy8B,EAEEzoC,EAFFyoC,OACAwF,EACEjuC,EADFiuC,WAEA,sBAAA7tC,EAAAlE,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAw+E,EAAejhF,EAAUrzB,GAAzB,IAAAD,EAAAyB,EAAAsF,EAAA2B,EAAA6E,EAAAmpC,EAAAl0B,EAAAkE,EAAA3E,EAAAC,EAAAu1B,EAAAsd,EAAAC,EAAAG,EAAAq0E,EAAAC,EAAAC,EAAAhuH,EAAA04D,EAAA1f,EAAAyyE,EAAA5sE,EAAAovE,EAAAC,EAAAC,EAAA9mI,EAAA84E,EAAAiuD,EAAAC,EAAA,OAAA/zG,EAAAp2B,EAAAy2B,KAAA,SAAAq+E,GAAA,cAAAA,EAAAtmF,KAAAsmF,EAAAn+E,MAAA,cAAAm+E,EAAAn+E,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,cAAAkhF,EAAAtmF,KAAA,EAGCluB,EAAQC,IACRwB,EAAYH,eAEjByF,EAUG4J,EAVH5J,GACA2B,EASGiI,EATHjI,KACA6E,EAQGoD,EARHpD,MACAmpC,EAOG/lC,EAPH+lC,YACAl0B,EAMG7R,EANH6R,iBACAkE,EAKG/V,EALH+V,QACA3E,EAIGpR,EAJHoR,SACAC,EAGGrR,EAHHqR,UACAu1B,EAEG5mC,EAFH4mC,UACYsd,EACTlkD,EADHmkD,WAMOG,GAFFH,EAAaD,GAAkB,CAAEpxC,QAAS,IAAK3W,OAAQ,KAExBA,OAA7BmoD,cAEFq0E,EAAU,IAAIl7H,UAAOuC,GACrB44H,EACuB,kBAArB/mH,IAAkCyyC,EAEpCu0E,EAAc52F,EAAW7hC,KAC9B,SAAAykC,GAAI,OAAIA,GAAsB,eAAdA,EAAK/4B,OA5BjB+3F,EAAAn+E,KAAA,GA+BqBmvB,QAAQ9kD,IAAI,CACrCo7G,GAAmB,CAClBl8F,aACAnM,MAAOlG,EACPioC,KAAM,QACNumE,OAAQ4sB,GAAUp7H,MAClB8S,SALDy7F,CAMGxoF,GACHwoF,GAAmB,CAClBl8F,aACAnM,MAAOijC,EACPlB,KAAM,cACNumE,OAAQ4sB,GAAUjyF,YAClBr2B,SALDy7F,CAMGxoF,GACHwoF,GAAmB,CAClBl8F,aACAnM,MAAOiT,EACP8uB,KAAM,UACNumE,OAAQ4sB,GAAUjiH,QAClBrG,SALDy7F,CAMGxoF,IACHi2G,GACGr6E,GAAqB,CACrBtvC,aACA41B,KAAM,mBACN/hC,MAAO+O,EACPnC,SAJA6uC,CAKG57B,IAENk2G,GACGt6E,GAAqB,CACrBtvC,aACA41B,KAAM,aACN/hC,MAAOqhD,EACPz0C,SAJA6uC,CAKG57B,KAnEF,WA+BC9X,EA/BDg5F,EAAA5sD,KAuEDssB,EAAU14D,EAAY/S,MAAM,SAAA0kC,GAAC,OAAU,IAANA,IAEjCqnB,EAAShyC,EACTykH,EAAW,KACX5sE,EAAkB,KAElB6Z,GAAWq1D,IAA2Bt0E,IACzCT,EAAM3zD,OAAAs9B,GAAA,EAAAt9B,CAAA,GACJY,EAAUV,QAAUsnI,GAAyB,CAC7CC,OAAQ9lH,GAAoB,KAC5BjB,SAAU9f,EAAU8f,cAKnB2yD,IAAWjf,EAtFV,CAAAu/C,EAAAn+E,KAAA,gBAAAm+E,EAAAn+E,KAAA,GAuFqBuoF,GAAc,CAAEC,WAAYn4F,IAvFjD,QAuFJ2zC,EAvFIm6C,EAAA5sD,KAwFFyS,gBAxFE,WA2FD6Z,IAAYq1D,GAA0BC,KACzCvC,EAAW2B,GAA+B,CACzC9zE,aACAuF,gBAAmBpF,EAAgBoF,EAAkB73C,EACrDjB,SAAU9f,EAAU8f,YAIhBkoH,EAAoB72F,EAAW7hC,KACpC,SAAAykC,GAAI,OAAIA,GAAsB,iBAAdA,EAAK/4B,OAGhBitH,EAAe,CACpB1nH,YACAD,WACAw1B,aAGGoyF,EAAU,OACVz1D,GAAWu1D,GAAqBr8F,GA9G/B,CAAAonE,EAAAn+E,KAAA,cA+GAtU,GAAYC,GAAau1B,GA/GzB,CAAAi9D,EAAAn+E,KAAA,gBAgHGxzB,EAAUK,YAAclD,GAhH3Bw0G,EAAAn+E,KAAA,GAiHawyG,GAAgB,CAC/B7mH,YACAylC,QAAS1lC,EACTw1B,YACA7uC,OACA7F,UACA0K,QACAmpC,gBAxHE,QAiHHizF,EAjHGn1B,EAAA5sD,KA2HH0hF,EAAQztD,aAAe8tD,EAAQ71H,KAC/B41H,EAAa1nH,UAAY2nH,EAAQ3nH,UACjC0nH,EAAa3nH,SAAW4nH,EAAQ5nH,SAChC2nH,EAAanyF,UAAYoyF,EAAQpyF,UA9H9Bi9D,EAAAn+E,KAAA,iBAgIHizG,EAAQztD,aAAe,KACvB6tD,EAAa1nH,UAAY,GACzB0nH,EAAa3nH,SAAW,GACxB2nH,EAAanyF,UAAY,GAnItB,WAuIL+xF,EAAQ9mH,iBACP+mH,IAA2Bt0E,EAAgBT,EAAS,KAEjDg1E,IACHF,EAAQ9iH,MAAQygH,GAGXtrD,EAAO2tD,EAAQhoB,cAEjBptC,EAhJC,CAAAsgC,EAAAn+E,KAAA,gBAAAm+E,EAAAn+E,KAAA,GAiJ2BmvB,QAAQ9kD,IAAI,CAC1Co7G,GAAmB,CAClBl8F,aACAnM,MAAO61H,EAAQ9mH,iBACfgzB,KAAM,mBACNumE,OAAQ4sB,GAAUnmH,iBAClBnC,SALDy7F,CAMGxoF,GACHwoF,GAAmB,CAClBl8F,aACAnM,MAAO61H,EAAQ9iH,MACfgvB,KAAM,QACNumE,OAAQ4sB,GAAUniH,MAClBnG,SALDy7F,CAMGxoF,GACHwoF,GAAmB,CAClBl8F,aACAnM,MAAOkoE,EACPnmC,KAAM,OACNumE,OAAQ4sB,GACRtoH,SALDy7F,CAMGxoF,KAtKA,QAiJEs2G,EAjJFp1B,EAAA5sD,KAyKJssB,EAAU01D,EAAiBnhI,MAAM,SAAA0kC,GAAC,OAAU,IAANA,IAzKlC,YA4KD+mC,IAAW9mC,EA5KV,CAAAonE,EAAAn+E,KAAA,gBAAAm+E,EAAAn+E,KAAA,GA6KuB+nF,GAAa,CAAEziC,OAAM50E,OA7K5C,WA6KE8iI,EA7KFr1B,EAAA5sD,KA6KmD+zB,MAEnD/oC,EAAW5hC,SAAS,WA/KpB,CAAAwjG,EAAAn+E,KAAA,gBAAAm+E,EAAAn+E,KAAA,GAgLGgjC,GAA0B,CAAE3yC,WAA5B2yC,CAAuC/lC,GAhL1C,QAmLAq2G,GACHr2G,EAAS,CACR5qB,KAAM+vF,IACN9nF,KAAM,IAAI1C,UAAO07H,GAAS3jC,WAC1Br7F,SAAU,WAIZ2oB,EAAS,CACR5qB,KAAMgwF,IACN/nF,KAAM,IAAIvC,UAAJvN,OAAAC,EAAA,EAAAD,CAAA,GAAgBgpI,EAAgBH,IAAgB1jC,WACtDr7F,SAAU,WAEX6xE,EAAS,CACR9zE,KAAM,UACNkU,MAAOjc,aAAE,wBAAyB,CACjCyJ,KAAM,CAAC,SAAUy/H,EAAYt8H,SAE9B+kB,QAAS,KALVkqD,CAMGlpD,GAtMCkhF,EAAAn+E,KAAA,kBAuMO69C,GAAW9mC,GACtBovC,EAAS,CACR9zE,KAAM,QACNkU,MAAOjc,aAAE,oBAAqB,CAC7ByJ,KAAM,CAAC,SAAUuhG,EAAY,mBAE9Br5E,QAAS,KALVkqD,CAMGlpD,GA9MC,QAAAkhF,EAAAn+E,KAAA,iBAAAm+E,EAAAtmF,KAAA,GAAAsmF,EAAAj9B,GAAAi9B,EAAA,SAiNLplF,QAAQqB,MAAM,oBAAd+jF,EAAAj9B,IACAiF,EAAS,CACR9zE,KAAM,QACNkU,MAAOjc,aAAE,oBAAqB,CAC7ByJ,KAAM,CAAC,SAAUuhG,EAAW6I,EAAAj9B,OAE7BjlD,QAAS,KALVkqD,CAMGlpD,GAxNE,eAAAkhF,EAAAn+E,KAAA,GA2NAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GA3NjC,yBAAAkhF,EAAAh+E,SAAA+9E,EAAA,kBAAP,gBAAAO,EAAAI,GAAA,OAAAnwG,EAAAwO,MAAAwd,KAAApxB,YAAA,OCpaO+oI,GAA0Bt1B,WAA1Bs1B,WAAYoB,GAAc12B,WAAd02B,UAEb,SAAShvE,GAATv6D,GAKJ,IAJFqf,EAIErf,EAJFqf,WACAS,EAGE9f,EAHF8f,MACAy8B,EAEEv8C,EAFFu8C,QACAif,EACEx7D,EADFw7D,UAEA,sBAAA96D,EAAAJ,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAC,EAAe1C,EAAUrzB,GAAzB,IAAAD,EAAA+pI,EAAAx8H,EAAAmpC,EAAAhuC,EAAA6uC,EAAA/7B,EAAA04D,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,cAAA8C,EAAAlI,KAAA,EAGCluB,EAAQC,IAHT8pI,EAI2C/7H,aAAgBhO,GAAxDuN,EAJHw8H,EAIGx8H,MAAOmpC,EAJVqzF,EAIUrzF,YAAahuC,EAJvBqhI,EAIuBrhI,KAAM6uC,EAJ7BwyF,EAI6BxyF,UAJ7BnhB,EAAAC,KAAA,EAMqBmvB,QAAQ9kD,IAAI,CACrCo7G,GAAmB,CAClBl8F,aACAnM,MAAOlG,EACPioC,KAAM,QACNumE,OAAQ2sB,GAAWn7H,MACnB8S,SALDy7F,CAMGxoF,GACHwoF,GAAmB,CAClBl8F,aACAnM,MAAOijC,EACPlB,KAAM,cACNumE,OAAQ2sB,GAAWhyF,YACnBr2B,SALDy7F,CAMGxoF,GACHwoF,GAAmB,CAClBl8F,aACAnM,MAAO/K,EACP8sC,KAAM,OACNumE,OAAQ2sB,GAAWhgI,KACnB2X,SALDy7F,CAMGxoF,GACHwoF,GAAmB,CAClBl8F,aACAnM,MAAO8jC,EACP/B,KAAM,YACNumE,OAAQ2sB,GAAWnxF,UACnBl3B,SALDy7F,CAMGxoF,KAlCC,cAMC9X,EAND4a,EAAAwxB,KAqCDssB,EAAU14D,EAAY/S,MAAM,SAAA0kC,GAAC,OAAU,IAANA,IArChC/W,EAAAC,KAAA,GAuCCw9E,GAAsB,CAAE3/B,UAASp3B,UAASif,cAvC3C,QAAA3lC,EAAAC,KAAA,iBAAAD,EAAAlI,KAAA,GAAAkI,EAAAmhD,GAAAnhD,EAAA,wBAAAA,EAAAC,KAAA,GA0CAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GA1CjC,yBAAA8C,EAAAI,SAAAR,EAAA,kBAAP,gBAAAS,EAAA+nB,GAAA,OAAAv9C,EAAAsS,MAAAwd,KAAApxB,YAAA,GA8CM,SAASo7D,GAAT35D,GAKJ,IAJFwe,EAIExe,EAJFwe,WACAS,EAGEjf,EAHFif,MACAy8B,EAEE17C,EAFF07C,QACAif,EACE36D,EADF26D,UAEA,sBAAAv6D,EAAAX,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAA8nB,EAAevqB,EAAUrzB,GAAzB,IAAAD,EAAAgqI,EAAAthI,EAAAuhI,EAAAxiF,EAAAX,EAAAkC,EAAA7rB,EAAAD,EAAA1hB,EAAA04D,EAAA,OAAAp+C,EAAAp2B,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAAAynB,EAAAznB,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,cAGAtzB,EAAQC,IAHR+pI,EAOFh8H,aAAgBhO,GAFnB0I,EALKshI,EAKLthI,KALKuhI,EAAAD,EAMLlhF,KAAQrB,EANHwiF,EAMGxiF,QAASX,EANZmjF,EAMYnjF,KANZkC,EASoBC,aAAuBvgD,GAAzCy0B,EATF6rB,EASE7rB,MAAOD,EATT8rB,EASS9rB,OATT4gB,EAAAznB,KAAA,EAWoBmvB,QAAQ9kD,IAAI,CACrCy8G,GAAkB,CACjBv9F,aACAS,QACAy8F,SAAU,OACV9e,YAAa7gE,EACb8gE,aAAc/gE,EACdgY,IAAK,qBACLo3C,OAAO,EACPnpC,UAAU,EACVrhC,MAAO,CACN2lC,UACAX,SAXFq2D,CAaG7pF,KAzBE,cAWA9X,EAXAsiC,EAAA8J,KA4BAssB,EAAU14D,EAAY/S,MAAM,SAAA0kC,GAAC,OAAU,IAANA,IA5BjC2Q,EAAAznB,KAAA,GA8BAw9E,GAAsB,CAAE3/B,UAASp3B,UAASif,cA9B1C,eAAAje,EAAAznB,KAAA,GA+BAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GA/BjC,yBAAAwqB,EAAAtnB,SAAAqnB,MAAP,gBAAA6jD,EAAAwG,GAAA,OAAA1mG,EAAA+R,MAAAwd,KAAApxB,YAAA,GAmCM,SAASw7D,KACf,sBAAAx5D,EAAAd,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAioB,EAAe1qB,EAAUrzB,GAAzB,IAAAD,EAAA2Q,EAAAlD,EAAA5K,EAAAimI,EAAAhD,EAAA,OAAAhwG,EAAAp2B,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,cAAA4nB,EAAA/vB,KAAA,EAECluB,EAAQC,IACR0Q,EAAO3C,aAAgBhO,GACvByN,EAJD5M,OAAAC,EAAA,EAAAD,CAAA,GAIgB8P,GACf9N,EAAUK,YAAclD,GALzBi+C,EAAA5nB,KAAA,EAMoBspF,GAAoB,CAC5Cl4D,QAASh6C,EAAQq7C,KAAKrB,QACtB5kD,YARI,cAMCimI,EAND7qF,EAAA2J,KASD9zC,KAEJrG,EAAQsU,SAAR,UAAAjZ,OAA6BggI,GAC7Br7H,EAAQuU,UAAYvU,EAAQq7C,KAAKhC,KACjCr5C,EAAQgV,QAAUzT,KAAKC,MAblBgvC,EAAA5nB,KAAA,GAeiB2nF,GAAW,CAChCrb,KAAM,IAAI10F,UAAOR,GAASs4H,UAC1BljI,YAjBI,QAeCijI,EAfD7nF,EAAA2J,KAoBLt0B,EAAS,CACR5qB,KAAM+vF,IACN9nF,KAAM,IAAI1C,UAAO63H,GAAS9/B,WAC1Br7F,SAAU,WAGX6xE,EAAS,CACRlpD,SAAUA,EACV5qB,KAAM,SACN+2G,SAAU,wBACVr1G,KAAM,CAAC,SAAUqD,EAAQF,SA9BrB0wC,EAAA5nB,KAAA,uBAAA4nB,EAAA/vB,KAAA,GAAA+vB,EAAAs5B,GAAAt5B,EAAA,SAiCL7uB,QAAQqB,MAAM,oBAAdwtB,EAAAs5B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,oBAAqB,CAC7ByJ,KAAM,CAAC,SAAUy0D,IAAO6lE,UAAPzmF,EAAAs5B,OAElBjlD,QAAS,KALVkqD,CAMGlpD,GACG,IAAIquE,MAAM,oBAAV1jD,EAAAs5B,IAzCD,yBAAAt5B,EAAAznB,SAAAwnB,EAAA,kBAAP,gBAAAsqD,EAAAC,GAAA,OAAA5mG,EAAA4R,MAAAwd,KAAApxB,YAAA,GA8CM,SAASq6E,GAATl4E,GAAoE,IAAnC8d,EAAmC9d,EAAnC8d,WAAYS,EAAuBve,EAAvBue,MAAO1P,EAAgB7O,EAAhB6O,KAAMy8B,EAAUtrC,EAAVsrC,OAChE,sBAAAnrC,EAAApB,OAAAg1B,EAAA,EAAAh1B,CAAAi1B,EAAAp2B,EAAAq2B,KAAO,SAAAooB,EAAe7qB,EAAUrzB,GAAzB,IAAA8G,EAAAwG,EAAAmpC,EAAAisD,EAAAnnF,EAAA0uH,EAAA,OAAAp0G,EAAAp2B,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cAAA+nB,EAAA/nB,KAAA,EACAu1E,EAAchsF,GAAY,EAA1BgsF,CAAgCt4E,GADhC,cAAA8qB,EAAAlwB,KAAA,EAGGnnB,EAA2B4J,EAA3B5J,GAAIwG,EAAuBoD,EAAvBpD,MAAOmpC,EAAgB/lC,EAAhB+lC,YAEbisD,EAAO,IAAI10F,UAAO0C,GAAM2wG,aALzBljE,EAAA/nB,KAAA,EAOqBmvB,QAAQ9kD,IAAI,CACrCo7G,GAAmB,CAClBl8F,aACAnM,MAAOlG,EACPioC,KAAM,QACNumE,OAAQ+tB,GAAUv8H,MAClB8S,SALDy7F,CAMGxoF,GACHwoF,GAAmB,CAClBl8F,aACAnM,MAAOijC,EACPlB,KAAM,cACNumE,OAAQ+tB,GAAUpzF,YAClBr2B,SALDy7F,CAMGxoF,GACHwoF,GAAmB,CAClBl8F,aACAnM,MAAOkvF,EACPntD,KAAM,OACNumE,OAAQ+tB,GACRzpH,SALDy7F,CAMGxoF,KA5BC,UAOC9X,EAPD4iC,EAAAwJ,MA+BWpsC,EAAY/S,MAAM,SAAA0kC,GAAC,OAAU,IAANA,MAExBC,EAjCV,CAAAgR,EAAA/nB,KAAA,gBAAA+nB,EAAA/nB,KAAA,GAkCuB4nF,GAAa,CAAEtb,OAAM57F,OAlC5C,QAkCEmjI,EAlCF9rF,EAAAwJ,KAkCmD+6C,KACvDrvE,EAAS,CACR5qB,KAAMgwF,IACN/nF,KAAM,IAAI1C,UAAOi8H,GAAalkC,WAC9Br7F,SAAU,WAEX6xE,EAAS,CACR9zE,KAAM,UACNkU,MAAOjc,aAAE,wBAAyB,CACjCyJ,KAAM,CAAC,SAAU8/H,EAAY38H,SAE9B+kB,QAAS,KALVkqD,CAMGlpD,GA9CC,QAAA8qB,EAAA/nB,KAAA,iBAAA+nB,EAAAlwB,KAAA,GAAAkwB,EAAAm5B,GAAAn5B,EAAA,SAiDLhvB,QAAQqB,MAAM,oBAAd2tB,EAAAm5B,IACAiF,EAAS,CACR9zE,KAAM,SACNkU,MAAOjc,aAAE,oBAAqB,CAC7ByJ,KAAM,CAAC,SAAUy0D,IAAO6lE,UAAPtmF,EAAAm5B,OAElBjlD,QAAS,KALVkqD,CAMGlpD,GAxDE,eAAA8qB,EAAA/nB,KAAA,GA2DAu1E,EAAchsF,GAAY,EAA1BgsF,CAAiCt4E,GA3DjC,yBAAA8qB,EAAA5nB,SAAA2nB,EAAA,kBAAP,gBAAAwqD,EAAAC,GAAA,OAAA3mG,EAAAsR,MAAAwd,KAAApxB,YAAA,w0IC/Ic+uB,EAAA,EAAA7tB,OAAAC,EAAA,MACXi4B,EACAoxG,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,wBCjCJ/6G,EAAAC,QAAiB1B,EAAA7N,EAAuB,sQCKxCutF,SAAO/tF,OAAO8qH,YAAY,aAElB7rC,EAAwCd,IAAxCc,SAAUN,EAA8BR,IAA9BQ,SAAUS,EAAoBjB,IAApBiB,gBA+BtB2rC,EAAkB,SAAAr9B,GACvB,IAAMs9B,EA9Ba,SAAAt9B,GAAY,IACvBsgB,EAAapuH,eAAbouH,SACR,OAAO,IAAIhgB,WAASggB,EAAU/uB,EAASL,IAAK8O,GA4B3Bu9B,CAAYv9B,GACvBpsG,EA1Bc,SAAAosG,GAAY,IAAA2jB,EACLzxH,eAAnB0B,iBADwB,IAAA+vH,EACZ,GADYA,EAEhC,OAAO,IAAIrjB,WACV1sG,EAAUV,QACVu9F,IAAU78F,EAAU4pI,UAAUtsC,IAC9B8O,GAqBiBy9B,CAAaz9B,GACzB09B,EARoB,SAAA19B,GAAY,IAC9B8E,EAAwB5yG,eAAxB4yG,oBACR,OAAO,IAAIxE,WAASwE,EAAqBpT,EAAgBR,IAAK8O,GAMtC29B,CAAmB39B,GAc3C,MAZgB,CACfA,WACAzO,SAAU+rC,EACVrsC,SAAUA,EACVQ,IAAK79F,EACL2uH,UAAW3uH,EACX89F,gBAAiBgsC,EACjBrhB,SAAU,SAAA9oH,GAAA,IAAGiqI,EAAHjqI,EAAGiqI,SAAUtqI,EAAbK,EAAaL,QAAb,OA3BK,SAAAR,GAAqC,IAAlCstG,EAAkCttG,EAAlCstG,SAAUw9B,EAAwB9qI,EAAxB8qI,SAAUtqI,EAAcR,EAAdQ,QACvC,OAAO,IAAIotG,WAASptG,EAASu9F,IAAU+sC,GAAUtsC,IAAK8O,GA2BpDqc,CAAS,CAAErc,WAAUw9B,WAAUtqI,aAChCuqH,YAAa,SAAA9pH,GAAA,IAAGT,EAAHS,EAAGT,QAAH,OAzBK,SAAAE,GAA2B,IAAxB4sG,EAAwB5sG,EAAxB4sG,SAAU9sG,EAAcE,EAAdF,QAGhC,OAFyB,IAAIotG,WAASptG,EAAS+9F,EAASC,IAAK8O,GAwB9Byd,CAAY,CAAEzd,WAAU9sG,eAMlD0qI,EAAY,WACjB,IAAM59B,EAAW,IAAIK,SAAOw9B,UAAUC,gBACrCxkI,iEAED,OAAO+jI,EAAgBr9B,IAGlB+9B,EAAmB,IAAIpmF,QAAQ,SAACC,EAASC,GAC9C/J,OAAOyvB,iBAAiB,OAAQ,WAC/B,IAAMq1D,EAAW9kF,OAAO8kF,SAClBoL,EAAOlwF,OAAOkwF,KACpB,OAAOpmF,EAAQ,CACdg7E,WACAoL,aAKGC,EAAY,eAAAnqI,EAAAd,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAAG,SAAAC,IAAA,IAAAl0B,EAAA+pI,EAAApL,EAAA5yB,EAAA,OAAAxM,EAAA3hG,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACau1G,EADb,UAAA9pI,EAAAs0B,EAAAwxB,KACZikF,EADY/pI,EACZ+pI,KAAMpL,EADM3+H,EACN2+H,SACV5yB,EAAW,MAEX4yB,EAJgB,CAAArqG,EAAAC,KAAA,gBAAAD,EAAAlI,KAAA,EAAAkI,EAAAC,KAAA,GAMZoqG,EAASF,SANG,eAQlB1yB,EAAW,IAAIK,SAAOw9B,UAAUK,aAAatL,GAR3BrqG,EAAAohD,OAAA,SAUX0zD,EAAgBr9B,IAVL,cAAAz3E,EAAAlI,KAAA,GAAAkI,EAAAmhD,GAAAnhD,EAAA,SAYlBhH,QAAQqB,MAAM,iCAAd2F,EAAAmhD,IACM,IAAIoqB,MAAMvrE,EAAAmhD,GAAIljC,SAbF,QAAAje,EAAAC,KAAA,qBAmBXw1G,EAnBW,CAAAz1G,EAAAC,KAAA,gBAoBnBjH,QAAQqB,MAAM,sDACdrB,QAAQqB,MAAM,mCArBK2F,EAAAC,KAAA,GAsBNo1G,IAtBM,eAAAr1G,EAAAohD,OAAA,SAAAphD,EAAAwxB,MAAA,eAwBnBx4B,QAAQqB,MAAM,kCACdrB,QAAQqB,MAAM,mCAzBK2F,EAAAC,KAAA,GA0BNo1G,IA1BM,eAAAr1G,EAAAohD,OAAA,SAAAphD,EAAAwxB,MAAA,yBAAAxxB,EAAAI,SAAAR,EAAA,kBAAH,yBAAAr0B,EAAA4R,MAAAwd,KAAApxB,YAAA,GA8BZqsI,EAAY,eAAA/pI,EAAApB,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAAG,SAAA8nB,IAAA,OAAAwjD,EAAA3hG,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cAAAynB,EAAA05B,OAAA,SAEbi0D,KAFa,wBAAA3tF,EAAAtnB,SAAAqnB,MAAH,yBAAA57C,EAAAsR,MAAAwd,KAAApxB,YAAA,GAKZsuG,EAAY,SAAAtvC,GAIjB,OAAIA,IAASz9B,IAAWC,SAAS1kB,KACzBqvH,IAEAE,KAIHxL,EAAiB,eAAAp+H,EAAAvB,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAAG,SAAAioB,IAAA,IAAAv6C,EAAAg9H,EAAA15H,EAAA,OAAAs6F,EAAA3hG,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,cAAA4nB,EAAA5nB,KAAA,EACEu1G,EADF,UAAAnoI,EAAAw6C,EAAA2J,OACjB64E,EADiBh9H,EACjBg9H,UADiB,CAAAxiF,EAAA5nB,KAAA,eAGlBtvB,EAAK0S,SAASgnH,EAASwL,eAAgB,IAHrBhuF,EAAAu5B,OAAA,SAIjBzwE,GAJiB,cAAAk3C,EAAAu5B,OAAA,SAMjB,MANiB,yBAAAv5B,EAAAznB,SAAAwnB,MAAH,yBAAA57C,EAAAmR,MAAAwd,KAAApxB,YAAA,GAUjBkxF,EAAmB,eAAAjtF,EAAA/C,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAAG,SAAAooB,IAAA,IAAAr6C,EAAA28H,EAAA,OAAAp/B,EAAA3hG,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,cAAA+nB,EAAA/nB,KAAA,EACAu1G,EADA,UAAA9nI,EAAAs6C,EAAAwJ,KACnB64E,EADmB38H,EACnB28H,SADmB,CAAAriF,EAAA/nB,KAAA,eAAA+nB,EAAAo5B,OAAA,SAGnB,MAHmB,WAMvBipD,EAASyL,WANc,CAAA9tF,EAAA/nB,KAAA,eAAA+nB,EAAAo5B,OAAA,SAOnBt2C,IAAWC,SAAS1kB,MAPD,cAAA2hC,EAAAo5B,OAAA,SAUpB,MAVoB,wBAAAp5B,EAAA5nB,SAAA2nB,MAAH,yBAAAv6C,EAAA2P,MAAAwd,KAAApxB,YAAA,GAanB42F,EAAmB,eAAAtyF,EAAApD,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAAG,SAAAuoB,IAAA,IAAAl6C,EAAAq8H,EAAA,OAAAp/B,EAAA3hG,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,cAAAkoB,EAAAloB,KAAA,EACAu1G,EADA,UAAAxnI,EAAAm6C,EAAAqJ,OACnB64E,EADmBr8H,EACnBq8H,YAEQA,EAASyL,WAHE,CAAA3tF,EAAAloB,KAAA,eAAAkoB,EAAAi5B,OAAA,SAInBipD,GAJmB,cAAAliF,EAAAi5B,OAAA,SAOpB,MAPoB,wBAAAj5B,EAAA/nB,SAAA8nB,MAAH,yBAAAr6C,EAAAsP,MAAAwd,KAAApxB,YAAA,wBCjJzBswB,EAAAC,QAAiB1B,EAAA7N,EAAuB,6DCAxCsP,EAAAC,QAAiB1B,EAAA7N,EAAuB,8DCAxCsP,EAAAC,QAAiB1B,EAAA7N,EAAuB,2KCGxC,IAAMwrH,EAAY,SAACtlH,EAASne,EAAMk3H,GACjC,IAAMwM,EAAMvrI,OAAAC,EAAA,EAAAD,CAAA,GAAQgmB,GAEpB,OADAulH,EAAO1jI,GAAP7H,OAAAC,EAAA,EAAAD,CAAA,GAAoB++H,GACbwM,gBCoBKC,EAAkB,CAC9B/pI,QCnBc,WAA8D,IACxEgqI,EADkCtsI,EAAsCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9BiO,IAAatL,QAASswB,EAAQjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAM5E,OAFAysI,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAER4yB,EAAOlqB,MACd,KAAK2xF,IAGJ,OADAiyC,EADUzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQ+xB,EAAOtwB,SAG1B,KAAKi4F,IAGJ,OADA+xC,EADa1+H,IAAatL,QAG3B,KAAKg4F,IAOJ,OADAgyC,EALazxF,OAAKC,aAAa,CAC9BnqC,KAAM27H,EACN3xF,UAAU95C,OAAAC,EAAA,EAAAD,CAAA,GAAM+xB,EAAO+nB,WACvBxB,SAAUozC,YAKZ,QACC,OAAOvsF,IDLTgG,GErBc,WAAoD,IAC9DsmI,EAD6BtsI,EAAiCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBiO,IAAa5H,GAAI4sB,EAAQjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAElE,OAAQ+yB,EAAOlqB,MACd,KAAK6wF,KAeJ,OAdA+yC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPuG,WAAT1F,OAAAC,EAAA,EAAAD,CAAA,GAA2ByrI,EAAS/lI,YACpC+lI,EAAS/lI,WAAWqsB,EAAOhwB,UAA3B/B,OAAAC,EAAA,EAAAD,CAAA,GACIyrI,EAAS/lI,WAAWqsB,EAAOhwB,WAE3BgwB,EAAOk5E,UACVwgC,EAAS/lI,WAAWqsB,EAAOhwB,UAAUgwB,EAAOk5E,UAA5CjrG,OAAAC,EAAA,EAAAD,CAAA,GACIyrI,EAAS/lI,WAAWqsB,EAAOhwB,UAAUgwB,EAAOk5E,WAEhDwgC,EAAS/lI,WAAWqsB,EAAOhwB,UAAUgwB,EAAOk5E,UAAUl5E,EAAOjiB,MAC5DiiB,EAAOnf,OAER64H,EAAS/lI,WAAWqsB,EAAOhwB,UAAUgwB,EAAOjiB,MAAQiiB,EAAOnf,MAErD64H,EAER,KAAK9yC,KAYJ,OAXA8yC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPuG,WAAT1F,OAAAC,EAAA,EAAAD,CAAA,GAA4ByrI,EAAS/lI,YAAc,IACnD+lI,EAAS/lI,WAAWqsB,EAAOhwB,UAA3B/B,OAAAC,EAAA,EAAAD,CAAA,GACKyrI,EAAS/lI,WAAWqsB,EAAOhwB,WAAa,IAE7C0pI,EAAS/lI,WAAWqsB,EAAOhwB,UAAUgwB,EAAOhtB,MAA5C/E,OAAAC,EAAA,EAAAD,CAAA,GACKyrI,EAAS/lI,WAAWqsB,EAAOhwB,UAAUgwB,EAAOhtB,OAAS,IAE1D0mI,EAAS/lI,WAAWqsB,EAAOhwB,UAAUgwB,EAAOhtB,MAAMgtB,EAAOjiB,MACxDiiB,EAAOnf,MAED64H,EACR,KAAKhzC,IASJ,OARAgzC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPiG,OAATpF,OAAAC,EAAA,EAAAD,CAAA,GAAuByrI,EAASrmI,QAC5B2sB,EAAOk5E,UACVwgC,EAASrmI,OAAO2sB,EAAOk5E,UAAvBjrG,OAAAC,EAAA,EAAAD,CAAA,GAAwCyrI,EAAS15G,EAAOk5E,WACxDwgC,EAASrmI,OAAO2sB,EAAOk5E,UAAUl5E,EAAOjiB,MAAQiiB,EAAOnf,OAEvD64H,EAASrmI,OAAO2sB,EAAOjiB,MAAQiiB,EAAOnf,MAEhC64H,EACR,QACC,OAAOtsI,IFtBTyK,MAAO8hI,wBGjBO,WAA0D,IACpED,EACAE,EACA/+H,EACAg/H,EACA97H,EALgC3Q,EAAoCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA5BiO,IAAanD,MAAOmoB,EAAQjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAOlE22D,EAAa,WAAwB,IAAvBx2D,EAAuBL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIizB,EAAWjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC1C,OAAK+yB,EAAOjiB,KACL9P,OAAAC,EAAA,EAAAD,CAAA,GACHb,EADJa,OAAAs9B,EAAA,EAAAt9B,CAAA,GAEE+xB,EAAOjiB,KAAK5J,GAFdlG,OAAAC,EAAA,EAAAD,CAAA,GAEwB+xB,EAAOjiB,QAHN3Q,GAmB1B,OANI4yB,EAAOjiB,MAAQiiB,EAAOjoB,WACzB2hI,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChB2Q,EAAI9P,OAAAC,EAAA,EAAAD,CAAA,GAAQ+xB,EAAOjiB,MACnB87H,EAAe75G,EAAOjoB,UAGfioB,EAAOlqB,MACd,KAAK+vF,IASJ,OANAhrF,EAAUkD,EACV67H,EAAgBh2E,EAAW81E,EAASG,GAAV5rI,OAAAC,EAAA,EAAAD,CAAA,GACtB+xB,EADsB,CAEzBjiB,KAAMlD,KAEP6+H,EAASG,GAAgBD,EAClBF,EAER,KAAKtzC,IAOJ,OANAvrF,EAAUi/H,OAAKC,QAAQL,EAASG,GAAc97H,EAAK4uG,KAAM3sF,EAAOg6G,OAChEJ,EAAgBh2E,EAAW81E,EAASG,GAAV5rI,OAAAC,EAAA,EAAAD,CAAA,GACtB+xB,EADsB,CAEzBjiB,KAAMlD,KAEP6+H,EAASG,GAAgBD,EAClBF,EAER,KAAKxzC,IAGJ,OAFA0zC,EAlC2B,WAA2B,IAA1Bh2E,EAA0B72D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,GAAI61C,EAAS71C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACnDgtI,EAAMhsI,OAAAC,EAAA,EAAAD,CAAA,GAAQ21D,GAElB,cADOq2E,EAAOr3F,GACPq3F,EA+BUC,CAAqBR,EAASG,GAAe97H,EAAK4uG,KAClE+sB,EAASG,GAAgBD,EAClBF,EAER,KAAKvzC,IAUJ,OATAtrF,EAAUi/H,OAAKn9G,WACd+8G,EAASG,GAAc97H,EAAK4uG,KAC5B3sF,EAAOm6G,UAERP,EAAgBh2E,EAAW81E,EAASG,GAAV5rI,OAAAC,EAAA,EAAAD,CAAA,GACtB+xB,EADsB,CAEzBjiB,KAAMlD,KAEP6+H,EAASG,GAAgBD,EAClBF,EAER,KAAK5zC,IAOJ,OANAjrF,EAAUkD,EACV67H,EAAgBh2E,EAAW81E,EAASG,GAAV5rI,OAAAC,EAAA,EAAAD,CAAA,GACtB+xB,EADsB,CAEzBjiB,KAAMlD,KAEP6+H,EAASG,GAAgBD,EAClBF,EAER,KAAKrzC,IACJqzC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChB,IAAMgtI,EAAWp6G,EAAOnoB,MAAMhK,OAAO,SAACgK,EAAOkG,GAC5C,IAAMs8H,EAAYpsI,OAAAC,EAAA,EAAAD,CAAA,GAAQ4J,GACpBgD,EAAO5M,OAAAC,EAAA,EAAAD,CAAA,GAAQ8P,GAErB,OADAs8H,EAAax/H,EAAQ1G,IAAM0G,EAAQqG,MAAQrG,EACpCw/H,GACL,IAGH,OADAX,EAAS15G,EAAOjoB,UAAhB9J,OAAAC,EAAA,EAAAD,CAAA,GAAiCyrI,EAAS15G,EAAOjoB,UAAcqiI,GACxDV,EACR,KAAKpzC,IAEJ,OADAozC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQ+M,IAAanD,OAG9B,QACC,OAAOzK,IHzEmB,SAAA4yB,GAAM,OAAIA,EAAOlqB,KAAKkuB,MAAM,WACxDhtB,SI1Bc,WAAgE,IAAvC5J,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/BiO,IAAahE,SAAUgpB,EAAQjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC9E,OAAQ+yB,EAAOlqB,MACd,KAAKoxF,IACJ,IAAIozC,EAAUt6G,EAAO5oB,MAAQhK,EAE7B,OADAmtI,YAAQD,GACDA,EACR,QACC,OAAOltI,IJoBTomG,iBKxBc,WAGb,IACGkmC,EACAc,EACAC,EACAC,EANJttI,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOiO,IAAaw4F,iBACrBxzE,EACCjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAMDysI,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAGhB,IAOMutI,EAAmB,SAAAtsI,GAAqB,IAAlBusI,EAAkBvsI,EAAlBusI,KAAMJ,EAAYnsI,EAAZmsI,MAOjC,OANqB,IAAjBA,EAAMnrH,QAAgBurH,EAAKj/G,QAAQ6+G,EAAMrmC,MAC5CymC,EAAKp0H,KAAKg0H,EAAMrmC,MAEhBymC,EAAOA,EAAKlgI,OAAO,SAAA4wE,GAAE,OAAIA,IAAOkvD,EAAMrmC,OAGhCymC,GAGR,IAAK56G,EAAOyzD,KACX,OAAOrmF,EAQR,OALAqtI,EAAUxsI,OAAAC,EAAA,EAAAD,CAAA,GAASyrI,EAAS15G,EAAOyzD,OAAS,IAC5CinD,EAAUzsI,OAAAgE,EAAA,EAAAhE,CAAQwsI,EAAWC,YAAc,IAInC16G,EAAOlqB,MACd,KAAKiyF,IAQJ,OAPAyyC,EAAKvsI,OAAAC,EAAA,EAAAD,CAAA,GAAQ+xB,EAAOnf,OACpB45H,EAAWz6G,EAAOsrD,IAAMkvD,EACxBC,EAAWC,WAAaC,EAAiB,CACxCC,KAAMF,EACNF,MAAOA,IAERd,EAAS15G,EAAOyzD,MAAQgnD,EACjBf,EACR,KAAK1xC,KASJ,OAPAwyC,EAtCgB,SAAA7sI,GAAuB,IAApBshI,EAAoBthI,EAApBshI,IAAK39G,EAAe3jB,EAAf2jB,IAAKpa,EAAUvJ,EAAVuJ,IAI9B,OAHA+3H,EAAMA,GAAO,IACT39G,GAAOpa,EAEJ+3H,EAkCE4L,CAAU,CAAE5L,IADpBuL,EAAKvsI,OAAAC,EAAA,EAAAD,CAAA,GAASwsI,EAAWz6G,EAAOsrD,KAAO,IACPh6D,IAAK0O,EAAO1O,IAAKpa,IAAK8oB,EAAOnf,QAC7D45H,EAAWz6G,EAAOsrD,IAAMkvD,EACxBC,EAAWC,WAAaC,EAAiB,CACxCC,KAAMF,EACNF,MAAOA,IAERd,EAAS15G,EAAOyzD,MAAQgnD,EACjBf,EACR,KAAKzxC,IAQJ,OAPAuyC,EAAKvsI,OAAAC,EAAA,EAAAD,CAAA,GAAQ+M,IAAaw4F,iBAAiBxjE,SAC3CyqG,EAAWz6G,EAAOsrD,IAAMkvD,EACxBC,EAAWC,WAAaC,EAAiB,CACxCC,KAAMF,EACNF,MAAO,CAAEM,OAAQ96G,EAAOsrD,MAEzBouD,EAAS15G,EAAOsrD,IAAMkvD,EACfd,EACR,QACC,OAAOtsI,IL3CT4O,UM7Bc,WAGb,IAFD5O,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOiO,IAAagB,UACrBgkB,EACCjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGD,OAAQ+yB,EAAOlqB,MACd,KAAK2zF,KAGJ,OAFQx7F,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GACL4yB,EAAOnf,MAEnB,QACC,OAAOzT,INkBTG,ODxBc,WAAwD,IAArCH,EAAqCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7BiO,IAAazN,OAAQyyB,EAAQjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACtE,OAAQ+yB,EAAOlqB,MACd,KAAK2yF,IACJ,OAAO8wC,EAAUnsI,EAAO,UAAW4yB,EAAOgtG,KAC3C,QACC,OAAO5/H,ICoBTwF,aO/Bc,WAA+D,IACzE8mI,EAD8BtsI,EAA2CL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAnCiO,IAAapI,aAAcotB,EAAQjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAE7E,OAAQ+yB,EAAOlqB,MACd,KAAKszF,KAGJ,OAFAswC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP4yB,EAAOjiB,MAAQiiB,EAAOnf,MACxB64H,EAER,QACC,OAAOtsI,KPyBG2tI,EAAiB,CAC7B7nI,SQnCc,WAAgE,IAC1EwmI,EADmCtsI,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/BiO,IAAa9H,SAAU8sB,EAAQjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAE9E,OAAQ+yB,EAAOlqB,MACd,KAAK+wF,IAGJ,OAFA6yC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP4yB,EAAOjiB,MAAQiiB,EAAOnf,MACxB64H,EACR,QACC,OAAOtsI,IR4BTyC,SS/Bc,WAAgE,IAAvCzC,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/BiO,IAAanL,SAAUmwB,EAAQjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC1EysI,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAEpB,OAAQ4yB,EAAOlqB,MACd,KAAKgzF,IAEJ,OADA4wC,EAAStnI,eAATnE,OAAAC,EAAA,EAAAD,CAAA,GAA+B+xB,EAAOnwB,UAC/B6pI,EACR,KAAK3wC,IAEJ,OADA2wC,EAAStnI,eAAiB4I,IAAanL,SAASuC,eACzCsnI,EACR,KAAK1wC,IAEJ,OADA0wC,EAAS1nI,uBAAT/D,OAAAgE,EAAA,EAAAhE,CAAsC+xB,EAAOnwB,UACtC6pI,EACR,KAAKzwC,IAGJ,OAFAywC,EAAS1nI,uBACRgJ,IAAanL,SAASmC,uBAChB0nI,EAER,QACC,OAAOtsI,ITaT0O,UU3Bc,WAGb,IACG49H,EAHJtsI,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOiO,IAAac,UACrBkkB,EACCjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGD,OAAQ+yB,EAAOlqB,MACd,KAAK4yF,IAGJ,OAFAgxC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPmP,UAAYyjB,EAAOnf,MACrB64H,EACR,KAAKlwC,IAGJ,OAFAkwC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP+O,YAAc6jB,EAAOnf,MACvB64H,EACR,KAAK/wC,IAmBJ,OAlBA+wC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP4yB,EAAOhtB,MAAhB/E,OAAAC,EAAA,EAAAD,CAAA,GAA6ByrI,EAAS15G,EAAOhtB,OAC7C0mI,EAAS15G,EAAOhtB,MAAMgtB,EAAOpc,WAA7B3V,OAAAC,EAAA,EAAAD,CAAA,GACIyrI,EAAS15G,EAAOhtB,MAAMgtB,EAAOpc,YAEjC81H,EAAS15G,EAAOhtB,MAAMgtB,EAAOpc,WAAWoc,EAAOnc,QAA/C5V,OAAAC,EAAA,EAAAD,CAAA,GACIyrI,EAAS15G,EAAOhtB,MAAMgtB,EAAOpc,WAAWoc,EAAOnc,SAEnD61H,EAAS15G,EAAOhtB,MAAMgtB,EAAOpc,WAAWoc,EAAOnc,QAC9Cmc,EAAOzjB,WADRtO,OAAAC,EAAA,EAAAD,CAAA,GAGIyrI,EAAS15G,EAAOhtB,MAAMgtB,EAAOpc,WAAWoc,EAAOnc,QACjDmc,EAAOzjB,YAGTm9H,EAAS15G,EAAOhtB,MAAMgtB,EAAOpc,WAAWoc,EAAOnc,QAAQmc,EAAOzjB,WAC7DyjB,EAAO8sE,WADR7+F,OAAAC,EAAA,EAAAD,CAAA,GAES+xB,EAAOnf,OACT64H,EACR,KAAK9wC,IAMJ,OALA8wC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPkN,SAATrM,OAAAC,EAAA,EAAAD,CAAA,GAAyByrI,EAASp/H,UAClCo/H,EAASp/H,SAAS0lB,EAAOpc,WAAzB3V,OAAAC,EAAA,EAAAD,CAAA,GACI+xB,EAAOnf,OAEJ64H,EACR,KAAKxwC,IAGJ,OAFAwwC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPwP,OAASojB,EAAOnf,MAClB64H,EACR,KAAKpwC,IAGJ,OAFAowC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP8a,SAATja,OAAAC,EAAA,EAAAD,CAAA,GAAyByrI,EAASxxH,SAAa8X,EAAOnf,OAC/C64H,EACR,KAAK7wC,IAEJ,OADA6wC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQ+M,IAAac,WAE9B,KAAKutF,IAGJ,OAFAqwC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP6iG,OAASjwE,EAAOnf,MAClB64H,EACR,QACC,OAAOtsI,IV9BT2lG,OWtCc,WAA4D,IACtE2mC,EACAsB,EAFiC5tI,EAAqCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7BiO,IAAa+3F,OAAQ/yE,EAAQjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAM1E,OAFAysI,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAER4yB,EAAOlqB,MACd,KAAKyxF,KAUJ,OATAyzC,EAAS/sI,OAAAC,EAAA,EAAAD,CAAA,GAAQyrI,GACbp7H,MAAMwxC,QAAQkrF,EAAUh7G,EAAO4iB,OAClCo4F,EAAUh7G,EAAO4iB,MAAjB30C,OAAAgE,EAAA,EAAAhE,CAA6B+xB,EAAOnf,OAEpCm6H,EAAUh7G,EAAO4iB,MAAQ5iB,EAAOnf,MAGjC64H,EAAWsB,EAIZ,KAAKxzC,IAGJ,OADAkyC,EADAsB,EAAS/sI,OAAAC,EAAA,EAAAD,CAAA,GAAQ+M,IAAa+3F,QAI/B,QACC,OAAO3lG,IXcT4C,SYvCc,WAAgE,IAC1E0pI,EACAlN,EAFmCp/H,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/BiO,IAAahL,SAAUgwB,EAAQjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAM9E,OAFAysI,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAER4yB,EAAOlqB,MACd,KAAKuyF,IAUJ,OATAmkC,EAAckN,EACVp7H,MAAMwxC,QAAQ08E,EAAYxsG,EAAO4iB,OACpC4pF,EAAYxsG,EAAO4iB,MAAnB30C,OAAAgE,EAAA,EAAAhE,CAA+B+xB,EAAOnf,OAEtC2rH,EAAYxsG,EAAO4iB,MAAQ5iB,EAAOnf,MAGnC64H,EAAWlN,EAIZ,KAAKlkC,IAGJ,OADAoxC,EADAlN,EAAWv+H,OAAAC,EAAA,EAAAD,CAAA,GAAQ+M,IAAahL,UAIjC,QACC,OAAO5C,IZeT2C,OaxCc,WAA4D,IACtE2pI,EACA7M,EAFiCz/H,EAAqCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7BiO,IAAajL,OAAQiwB,EAAQjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAM1E,OAFAysI,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAER4yB,EAAOlqB,MACd,KAAKyyF,KAUJ,OATAskC,EAAY6M,EACRp7H,MAAMwxC,QAAQ+8E,EAAU7sG,EAAO4iB,OAClCiqF,EAAU7sG,EAAO4iB,MAAjB30C,OAAAgE,EAAA,EAAAhE,CAA6B+xB,EAAOnf,OAEpCgsH,EAAU7sG,EAAO4iB,MAAQ5iB,EAAOnf,MAGjC64H,EAAW7M,EAIZ,KAAKrkC,IAGJ,OADAkxC,EADA7M,EAAS5+H,OAAAC,EAAA,EAAAD,CAAA,GAAQ+M,IAAajL,QAI/B,QACC,OAAO3C,IbgBTyN,QAAS8+H,wBcrCK,WAA+D,IACzED,EACA7+H,EAFmCzN,EAAsCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9BiO,IAAaH,QAASmlB,EAAQjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAI7E,OAAQ+yB,EAAOlqB,MACd,KAAKiwF,IASJ,OARA2zC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChByN,EAAO5M,OAAAC,EAAA,EAAAD,CAAA,GAAQ+xB,EAAOjiB,MAClBiiB,EAAOjlB,OACV2+H,EAAS15G,EAAOjlB,QAAUF,EAE1B6+H,EAAS15G,EAAOjoB,UAAY8C,EAGtB6+H,EAER,KAAK1zC,IASJ,OARA0zC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChByN,EAAO5M,OAAAC,EAAA,EAAAD,CAAA,GAAQ+M,IAAaH,QAAQmlB,EAAOjoB,WACvCioB,EAAOjlB,OACV2+H,EAAS15G,EAAOjlB,QAAUF,EAE1B6+H,EAAS15G,EAAOjoB,UAAY8C,EAGtB6+H,EAER,KAAKzzC,IAGJ,OAFAyzC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQ+M,IAAaH,SAI9B,QACC,OAAOzN,IdIuB,SAAA4yB,GAAM,OAAIA,EAAOlqB,KAAKkuB,MAAM,cAC5DvwB,SAAUkmI,wBe1CI,WAAgE,IAAvCvsI,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/BiO,IAAavH,SAAUusB,EAAQjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACxEysI,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAEtB,OAAQ4yB,EAAOlqB,MACd,KAAK2wF,KAGJ,OAFAizC,EAAS15G,EAAO8f,SAAW9f,EAAOnf,MAE3B64H,EACR,KAAK5zC,IAEJ,OADA4zC,EAAS,SAAW15G,EAAOjiB,KAAK4uG,MAAO,EAChC+sB,EAER,QACC,OAAOtsI,If6ByB,CAACuQ,OACnCshB,OgB3Cc,WAA4D,IAEtEg8G,EAFiC7tI,EAAqCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7BiO,IAAaikB,OAAQe,EAAQjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAI1E,OAAQ+yB,EAAOlqB,MACd,KAAKgxF,IAIJ,OAHAm0C,EAAQhtI,OAAAC,EAAA,EAAAD,CAAA,GAAQ+xB,EAAOpB,QACds8G,MAAQ9+H,KAAKC,MACd,CAAI4+H,GAAJ/kI,OAAAjI,OAAAgE,EAAA,EAAAhE,CAAiBb,IAG1B,KAAK25F,IAEJ,OADW35F,EAAMsN,OAAO,SAAA3M,GAAC,OAAIA,EAAEoG,KAAO6rB,EAAOpB,QAE9C,QACC,OAAOxxB,IhB6BTmG,QAASomI,wBiB3CK,WAA8D,IACxED,EADkCtsI,EAAsCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9BiO,IAAazH,QAASysB,EAAQjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAG5E,OAAQ+yB,EAAOlqB,MACd,KAAKkxF,IAWJ,OAVA0yC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP8Y,KAATjY,OAAAC,EAAA,EAAAD,CAAA,GAAqB+xB,EAAOzsB,QAAQ2S,MACpCwzH,EAASt4G,UAAYpB,EAAOzsB,QAAQ6tB,UACpCs4G,EAASr4G,SAAWrB,EAAOzsB,QAAQ8tB,SACnCq4G,EAASj7G,YACkBxxB,IAA1B+yB,EAAOzsB,QAAQkrB,QAAuBuB,EAAOzsB,QAAQkrB,OACtDi7G,EAASn4G,eAAiBvB,EAAOzsB,QAAQguB,aAGzCm4G,EAASp4G,SAAWllB,KAAKC,MAClBq9H,EAER,QACC,OAAOtsI,IjByBuB,CAACuQ,MACjC5K,IAAK4mI,wBkB7CS,WAAsD,IAChED,EAD8BtsI,EAAkCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA1BiO,IAAajI,IAAKitB,EAAQjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGpE,OAAQ+yB,EAAOlqB,MACd,KAAKmxF,IAGJ,OAFAyyC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP4yB,EAAOjiB,MAAQiiB,EAAOnf,MACxB64H,EAER,QACC,OAAOtsI,IlBmCe,CAACuQ,MACzBiL,YmB3Cc,WAGb,IACG8wH,EACA/4B,EAJJvzG,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOiO,IAAa4N,YACrBoX,EACCjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAID,OAAQ+yB,EAAOlqB,MACd,KAAKqxF,IAKJ,OAJAuyC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChBuzG,EAAS1yG,OAAAC,EAAA,EAAAD,CAAA,GAAQyrI,EAAS15G,EAAOjiB,MAAUiiB,EAAOzS,QAClDmsH,EAAS15G,EAAOjiB,MAAQ4iG,EAEjB+4B,EAER,KAAKtyC,IAYJ,OAXAsyC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IAChBuzG,EAAS1yG,OAAAC,EAAA,EAAAD,CAAA,GAAQyrI,EAAS15G,EAAOjiB,SAChB4iG,EAAUw6B,eAAen7G,EAAO1O,YAEzCqvF,EAAU3gF,EAAO1O,KACdqvF,IAAc3gF,EAAO1O,MAC/BqvF,EAAY,IAGb+4B,EAAS15G,EAAOjiB,MAAQ4iG,EAEjB+4B,EAER,QACC,OAAOtsI,InBcTgI,coB5Cc,WAGb,IACGskI,EAHJtsI,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOiO,IAAa5F,cACrB4qB,EACCjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGD,OAAQ+yB,EAAOlqB,MACd,KAAKqzF,KAGJ,OAFAuwC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP4yB,EAAO4jC,YAAc5jC,EAAO5qB,cAC9BskI,EACR,KAAKnwC,IAEJ,OADAmwC,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQ+M,IAAa5F,eAE9B,QACC,OAAOhI,IpB8BT+gB,gBqB5Cc,WAGb,IACGurH,EACAc,EAJJptI,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOiO,IAAamT,gBACrB6R,EACCjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAcD,OAVAysI,EAAQzrI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAUR4yB,EAAOlqB,MACd,KAAK8xF,IAQJ,OAJA4yC,EAZe,SAAA7sI,GAAsB,IAAnB29E,EAAmB39E,EAAnB29E,GAAIh6D,EAAe3jB,EAAf2jB,IAAKpa,EAAUvJ,EAAVuJ,IAI5B,OAHAo0E,EAAKA,GAAM,IACRh6D,GAAOpa,EAEHo0E,EAQE8vD,CAAS,CAAE9vD,GAHnBkvD,EAAKvsI,OAAAC,EAAA,EAAAD,CAAA,GACAyrI,EAAS15G,EAAOsrD,KAAOtwE,IAAamT,gBAAgB6hB,SAE3B1e,IAAK0O,EAAO1O,IAAKpa,IAAK8oB,EAAOnf,QAG3D64H,EAAS15G,EAAOsrD,IAAMkvD,EACfd,EACR,KAAK7xC,IAGJ,OAFA2yC,EAAKvsI,OAAAC,EAAA,EAAAD,CAAA,GAAQ+M,IAAamT,gBAAgB6hB,SAC1C0pG,EAAS15G,EAAOsrD,IAAMkvD,EACfd,EACR,KAAK5xC,IAEJ,OADA4xC,EAAW1+H,IAAamT,gBAEzB,QACC,OAAO/gB,2DChCJiuI,EAAwBC,YAAiBx4G,KAEzCy4G,EAAgB,CACrBjqH,IAAK,UACLkqH,QAASt/G,KAWJu/G,EAAcC,YAAgB,CACnCpuI,QAASquI,YAAuBJ,EAAe9B,GAC/C7pI,OAAQ8rI,YAAgBX,GACxB1gH,OAAQuhH,YAAc94G,OA2EvB,IAGe+4G,EA9Df,SAA4B7gI,GAC3B,IAAM8gI,EAAc,CAKnBC,IACAV,GAOGx2C,EAAQm3C,YACXP,EACAzgI,EACAihI,YAAQC,IAAev7H,WAAf,EAAmBm7H,KAK5B,MAAO,CAAE/2C,UAFOo3C,YAAat3C,GAETA,SAwCNg3C,GC1GfjgH,EAAAC,EAAAC,EAAA,sBAAAsgH,IAAAxgH,EAAAC,EAAAC,EAAA,sBAAAugH,IAAAzgH,EAAAC,EAAAC,EAAA,sBAAAzuB,IAEewuI,IAEFh3C,EAAQg3C,EAAeh3C,MACvBE,EAAY82C,EAAe92C,UAE3B13F,GADWw3F,EAAMnkE,SACNmkE,EAAMx3F,kaCHjBq1E,EAAU,UAEVvwD,EAAmB,UAEnBC,EAAkB,UAElBE,EAAY,UACZE,EAAkB,UAGlBshD,EAAY,UAIZkG,EAAe,UAEf4I,EAAa,UAIbD,EAAa,UAQpB78C,EAAU,CACfC,KAAM28C,EACNhjC,KA3B2B,UA4B3B48F,MA9B4B,UA+B5BC,SAAUpqH,EACVmW,aAlCa,QAqCRO,EAAY,CACjB9C,KAAMzT,EACNotB,KA9B6B,UA+B7B48F,MAAO9pH,EACP8V,aAzCa,QA4CDzC,EAAU,CACtBC,UACA+C,YACA2zG,UAAW,CAAEz2G,KAAM68C,EAAY05D,MA7BA,UA6ByBh0G,aA/C3C,QAgDbm0G,UAAW,CAAE12G,KAAM48C,EAAY25D,MA1BA,UA0ByBh0G,aAhD3C,QAiDbrV,KAAM,CACL8S,KAAM+tC,EACNxrC,aAnDY,OAoDZg0G,MAlC8B,UAmC9B58F,KAxC4B,WA0C7BxQ,OAAQ,CAAEnJ,KAAM9S,IAAK,KAAMqV,aAAcrV,IAAK,MAC9C4K,MAAO,CACNkI,KAhCyB,UAiCzBu2G,MApC8B,UAqC9B58F,KApC6B,UAqC7BpX,aA5DY,QA8Db5K,QAAS,CACRqI,KAAM48C,EACN25D,MAtCyB,UAuCzB58F,KAtCwB,UAuCxBpX,aAlEY,QAoEb3K,KAAMmI,EACNrI,QAASoL,EACTumB,MAAOstF,IACPC,kBAAmB,EACnBC,YAAa,GACbj7G,KAAM1O,IACN+M,OAAQ,CACP68G,mBAAoB5pH,IAAK,KACzBpF,SAAUoF,IAAK,OAIX6pH,EAAeC,cAERv3G,EAAQu3G,YAAe,CACnCpyG,WAAY,CACXiwC,WAAY,6CACZlwC,SAAU,OAEX7E,QAAQ53B,OAAAikG,EAAA,EAAAjkG,CAAA,GAAM43B,GACdm3G,UAAW,CACVC,UAAW,CACVj3G,KAAM,CACLg5C,aAAc,GAEfk+D,SAAU,CACTl+D,aAAc,EACd/9B,YAAa6yB,GAEdqpE,UAAW,CACVznH,gBAAiBo+C,EACjB1zC,MAnGU,OAoGVu8C,UAAW,EACXt2C,UAAW,CACV3Q,gBA1F0B,OA2F1BinD,UAAW,EACXygE,uBAAwB,CACvBzgE,UAAW,IAGb0gE,iBAAkB,CACjB1gE,UAAW,EACXjnD,gBAlG0B,QAoG3B4nH,WAAY,CACX5nH,gBArG0B,OAuG1BinD,UAAW,KAId4gE,aAAc,CACbC,KAAM,CACL5tF,WAAY,UAEb5pB,KAAM,CACL4pB,WAAY,WAGd6tF,SAAU,CACTC,QAAS,CACR1+D,aAAc,IAGhB2+D,WAAY,CACXzkE,QAAS,CAAE8F,aAAc,IAE1B4+D,UAAW,CACVV,SAAU,CACTl+D,aAAc,IAGhB6+D,cAAe,CACdX,SAAU,CACTl+D,aAAc,IAGhB8+D,iBAAkB,CACjB93G,KAAM,CACLg5C,aAAc,IAGhB++D,SAAU,CACT/3G,KAAM,CACLg5C,aAAc,GAEfg/D,gBAAiB,CAChBtoH,gBA3JU,QA6JXuoH,aAAc,CACbvoH,gBA9JU,QAgKXwoH,gBAAiB,CAChBxoH,gBAjKU,QAmKXyoH,cAAe,CACdzoH,gBApKU,SAkLZ0oH,eAAgB,CACfp4G,KAAM,CACL0B,QAAS,OACTC,KAAM,EACN6B,QAAS,IAGX60G,UAAW,CACVC,aAAc,CACb5oH,gBAAiBmQ,EAAQqJ,OAAOnJ,KAChC3F,MAAOyF,EAAQqJ,OAAO5G,eAGxBi2G,uBAAwB,CACvB3uG,QAAS,CACRpG,QAAS,IAGXg1G,mBAAoB,CACnBx4G,KAAM,CACLwH,SAAU,UAIZixG,gBAAiB,CAChBz4G,KAAM,CACLuE,MAAO,oBAGTm0G,qBAAsB,CACrBC,cAAc1wI,OAAAwpG,EAAA,EAAAxpG,CAAA,GACZ6uI,EAAa3tG,YAAYe,KAAK,MAAQ,CACtCxI,QAAS,cACT4C,OAAQ,OACR4jC,aAAc,UAIjB0wE,aAAc,CACb54G,KAAM,CACLotB,OAAQ,oBAGVyrF,iBAAkB,CACjBC,WAAY,CACXt1G,QAASszG,EAAa1yG,QAAQ,GAC9BG,MAAO,YAMEi6D,EAAWu6C,YAAoBv5G,EAAO,CAClDmS,QAAS,CAAC,KAAM,KAAM,KAAM,KAAM,MAClCqnG,OAAQ,kEC3OTpjH,EAAAC,EAAAC,EAAA,sBAAAmjH,IAAArjH,EAAAC,EAAAC,EAAA,sBAAAy+G,IAIA,IAAM2E,EAAeC,MAEjB/nI,EAAO,QA4BEO,EAAY,WAIpB,IAHJT,EAGInK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHE,GAGFY,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFmD,GAEnDohC,EAAAxgC,EAFF2J,cAEE,IAAA62B,KAAAC,EAAAzgC,EAFc6J,YAEd,IAAA42B,EAFqB,CAAC,IAEtBA,EAAAgxG,EAAAzxI,EAF2B0c,mBAE3B,IAAA+0H,KADJpoI,EACIjK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADOqK,EAEPka,EAAMpa,EAAM,GACZI,IACHga,EAAM,QAAUA,EAAId,QAAQ,KAAM,KAE/BnG,IACHiH,EAAMA,EAAIjH,eAGXiH,EAAMA,EAAIjH,cAEV,ICjDyBoD,EDiDrB4xH,GCjDqB5xH,EDiDIyxH,EAAaloI,GAAUsa,IAAQpa,IChD7B,kBAAVuW,EAGpBA,EAEE+C,QAAQ,8BAA+B,UAEvCA,QAAQ,iBAAkB,IAE1BA,QAAQ,gCAAiC,QATI,GDkD5ChZ,EAAKxK,QAAUsR,MAAMwxC,QAAQt4C,KAShC6nI,EApDkB,SAACC,EAAK9nI,GACzB,GAAmB,kBAAR8nI,EACV,MAAO,GAGR,IAAMC,EAAU,IAAIC,OAAO,YAAa,MAGlCC,EAFQH,EAAI/uI,MAAMgvI,GAEG9wI,IAAI,SAACsf,EAAGrM,GAClC,IAAMs8D,EAAUxmE,EAAKuW,IAAMA,EAC3B,OAAI2xH,yBAAe1hE,KAAaA,EAAQ1sD,IACvB2c,uBAAa+vC,EAAS,CAAE1sD,IAAK5P,IAKvCs8D,IAGR,OAAIyhE,EAAa5pI,MAAM,SAAA6L,GAAC,MAAiB,kBAANA,GAA+B,kBAANA,IACpD+9H,EAAav1H,KAAK,IAGnBu1H,EA6BQE,CAAYN,EARH7nI,EAAK/I,IAAI,SAAA3B,GAC/B,MAAiB,kBAANA,GACHoyI,EAAaloI,GAAUlK,IAEvBA,MAOV,OAAOuyI,GAIK9E,EAAU,SAAAqF,GACtBxoI,EAAOwoI,i9YE9DFC,EAASC,IAAO/iB,OACrBhyG,KAAKC,UAAU,CACdlV,KAAM,MACNiqI,IAAK,SAmCQjkH,EAAA,GAAE02F,KA7BjB,SAAcS,EAAQtC,GACrB,IAAMqvB,EAAiBF,IAAO/iB,OAC7BhyG,KAAKC,UAAL/c,OAAAgyI,EAAA,EAAAhyI,CAAA,GACI0iH,EADJ,CAECxiH,QAAS8kH,EAAO9kH,YAGlB,OAAO8kH,EAAO1B,YAAP,GAAAr7G,OAAsB2pI,EAAtB,KAAA3pI,OAAgC8pI,IAAkBt6C,KAAK,SAAS6pB,GACtE,IAAM2wB,EAASrrC,EAAOt2F,KAAKgxG,EAAI3E,UAAUvkG,MAAM,GAAI,OACnD,SAAAnQ,OAAU2pI,EAAV,KAAA3pI,OAAoB8pI,EAApB,KAAA9pI,OAAsC4pI,IAAO/iB,OAAOmjB,OAoB/BC,OAhBvB,SAAgBxrH,GACf,IAAMy4E,EAAQz4E,EAAMpkB,MAAM,KAC1B,GAAqB,IAAjB68F,EAAMpgG,OACT,OAAO4lD,QAAQE,OAAO,IAAIi8C,MAAM,yCAEjC,IAAMzsD,EAAM8qD,EAAM/mF,MAAM,EAAG,GAAG6D,KAAK,KAC7Bg2H,EAASrrC,EAAOt2F,KAAK6uF,EAAM,GAAI,UACrC,IACC,IAAM7uF,EAAO+8F,IAAOjiD,MAAM+mF,cAAc99F,EAAK49F,GACvCvvB,EAAU5lG,KAAKrR,MAAMomI,IAAOO,OAAOjzC,EAAM,KAC/C,OAAOx6C,QAAQC,QAAQ,CAAEt0C,OAAMoyG,YAC9B,MAAOtrG,GACR,OAAOutC,QAAQE,OAAOztC,mDCxCxBgY,EAAAC,QAAAgjH,q1DCAAjjH,EAAAC,QAAiB1B,EAAA7N,EAAuB,6DCAxCsP,EAAAC,QAAA,s+QCAAD,EAAAC,QAAiB1B,EAAA7N,EAAuB,4HCGlCk+C,mDAmDLC,qBAAuB,SAACwlD,EAAK6uB,GAC5B,IAAK7uB,GAAsB,kBAARA,EAClB,MAAM,IAAI3iB,MAAM,iBACS,IAAf2iB,EAAI1kH,SACd0kH,GAAYA,EAAIxiD,OAAO,EAAG,IAGN,kBAAVqxE,GAAuC,qBAAVA,IACvCA,EAAQ,GAGT,IAAMC,EAAW,SAAAzvD,GAChB,OAAOlqE,SAAS,KAAOkqE,EAAG,KAGvB1oE,EAAIm4H,EAAS9uB,EAAIxiD,OAAO,EAAG,IAC3BuxE,EAAID,EAAS9uB,EAAIxiD,OAAO,EAAG,IAC3BhiE,EAAIszI,EAAS9uB,EAAIxiD,OAAO,EAAG,IAE/B,cAAAh5D,OAAemS,EAAf,KAAAnS,OAAoBuqI,EAApB,KAAAvqI,OAAyBhJ,EAAzB,KAAAgJ,OAA8BqqI,EAA9B,WAyBDzO,UAAY,SAAA11G,GACX,IAAIskH,GAAStkH,EAAIqlB,SAAWrlB,GAAO,IAAIjF,WAAW5mB,MAAM,eAExD,OAAImwI,EAAM1zI,OAAS,GACVovB,EAAIvS,KAAOuS,EAAIvS,KAAO,KAAO,IAAM62H,EAAM,GAAGvpH,YAE5CiF,EAAIyB,OAASzB,GAAO,IAAIjF,iBAIlCwpH,MAAQ,SAAAC,GACP,MAAsB,kBAARA,GAAoBA,EAAM,IAAM,QAG/CC,aAAe,SAAAC,GACd,OAAO7yI,OAAA8yI,EAAA,EAAA9yI,CAAI6yI,GAAOhiI,KAAK,kBAAM4B,KAAKkzG,SAAW,4DA5G7C,MAAO,uCAAuCpjG,QAAQ,QAAS,SAAAhS,GAC9D,IAAI6J,EAAqB,GAAhB3H,KAAKkzG,SAAiB,EAE/B,OADW,MAANp1G,EAAY6J,EAAS,EAAJA,EAAW,GACxB8O,SAAS,2CAIP6pH,GACZ,IAAIjwD,EAAI,mCAAmCvgE,QAAQ,QAAS,SAAAhS,GAC3D,IAAI6J,EAAqB,GAAhB3H,KAAKkzG,SAAiB,EAE/B,OADW,MAANp1G,EAAY6J,EAAS,EAAJA,EAAW,GACxB8O,SAAS,MAKnB,OAHI6pH,IACHjwD,EAAIiwD,EAASjwD,EAAEoc,UAAU6zC,EAAOh0I,SAE1B+jF,uCAGKh3C,EAAKt5B,GACjB,OAAOC,KAAKiyC,MAAMjyC,KAAKkzG,UAAYnzG,EAAMs5B,EAAM,GAAKA,2CAIpD,QAAS5b,KAAK8iH,aAAa,EAAG,gDAGVhS,GACpB,IAAI7mH,EAAOna,OAAOma,KAAK6mH,GACvB,OAAOA,EAAI7mH,EAAMA,EAAKpb,OAAS0T,KAAKkzG,UAAa,gDAG9Bqb,GACnB,IAAI7mH,EAAOna,OAAOma,KAAK6mH,GACvB,OAAO7mH,EAAMA,EAAKpb,OAAS0T,KAAKkzG,UAAa,0CAG/BstB,EAAaC,EAAcC,GAEzC,IAAI5nG,EAAUxhB,IAAOq5E,SAAS+vC,GAC3BA,EAAc3lF,eACdxuD,EAEH,OAAO+qB,IAAOwhB,GACZ/8B,IAAI0hB,KAAK8iH,cAAcC,EAAaC,GAAe,KACnD1kI,IAAI0hB,KAAK8iH,cAAc,GAAI,IAAK,KAChCxkI,IAAI0hB,KAAK8iH,cAAc,GAAI,IAAK,sCAyB1B5iC,GACR,OACEA,GACuB,kBAAhBA,IAA6BpwG,OAAOma,KAAKi2F,GAAarxG,OAEvD,GAGP,IACCiB,OAAOma,KAAKi2F,GACV3jG,OAAO,SAAA4W,GAAG,YAAyBrkB,IAArBoxG,EAAY/sF,KAC1B7iB,IAAI,SAAA6iB,GACJ,OACCm4D,mBAAmBn4D,GACnB,IACAm4D,mBAAmB40B,EAAY/sF,KAE9B,IACFpH,KAAK,OAAQ,WAuBJ4R,EAAA,MAAImwC,kbCrGnB,SAASo1E,EAAYC,EAAMrhC,EAAMshC,EAAYC,EAAQC,EAASC,GAC7D,OAAO,IAAI9uF,QAAQ,SAACC,EAASC,GAC5B6uF,IAAOA,OACNL,EACArhC,EACAshC,EACAC,EACAC,EACA,SAACrlH,EAAKwlH,GACL,GAAIxlH,EACH,OAAO02B,EAAO12B,GAGf,IAAM8gF,EAAM0kC,EAAWzqH,SAASuqH,GAEhC,OAAO7uF,EAAQqqD,gBAMJ2kC,+EAAf,SAAAz+G,EAAAz1B,GAAA,IAAA0C,EAAAuvF,EAAA0hD,EAAArhC,EAAA3uF,EAAA,OAAAm9E,EAAA3hG,EAAAy2B,KAAA,SAAAC,GAAA,cAAAA,EAAAlI,KAAAkI,EAAAC,MAAA,cAA8BpzB,EAA9B1C,EAA8B0C,MAAOuvF,EAArCjyF,EAAqCiyF,SAC9B0hD,EAAOpT,EAAatuC,GACpBqgB,EAAOiuB,EAAa79H,GAF3BmzB,EAAAC,KAAA,EAImB49G,EAAYC,EAAMrhC,EAAM,IAAO,GAAI,SAAU,OAJhE,cAIO3uF,EAJPkS,EAAAwxB,KAAAxxB,EAAAohD,OAAA,SAMQtzD,GANR,wBAAAkS,EAAAI,SAAAR,6BASA,SAAS0+G,EAAe5xI,GACvB,OAAQA,GAAyB,WAAbA,GAAsC,UAAbA,EAIvC,SAAS6xI,IACf,IAAMC,EAAgB3oF,QAAMs7C,YAAY,IAGxC,OAFiBt7C,QAAM4oF,OAAOC,kBAAkBF,GAK1C,SAAeG,EAAtBv2F,GAAA,OAAAw2F,EAAAzhI,MAAAwd,KAAApxB,sDAAO,SAAAk+C,EAA8Bo3F,GAA9B,IAAA1wG,EAAA5hC,EAAA,OAAA0+F,EAAA3hG,EAAAy2B,KAAA,SAAA2nB,GAAA,cAAAA,EAAA5vB,KAAA4vB,EAAAznB,MAAA,cACAkO,EAAO0wG,GAAYN,IACnBhyI,EAASurG,SAAO+W,OAAOiwB,aAAa3wG,GAFpCuZ,EAAA05B,OAAA,SAIC,CACNy9D,WACA/vB,WAAYviH,EAAOuiH,WACnBnkH,QAAS4B,EAAO5B,QAChB00B,KAAM9yB,EAAO8yB,OARR,wBAAAqoB,EAAAtnB,SAAAqnB,sCAYQs3F,+EAAf,SAAAn3F,EAAA/8C,GAAA,IAAAgC,EAAAuvF,EAAA1vF,EAAA,OAAAu+F,EAAA3hG,EAAAy2B,KAAA,SAAA8nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA5nB,MAAA,UAAyBpzB,EAAzBhC,EAAyBgC,MAAOuvF,EAAhCvxF,EAAgCuxF,SAAU1vF,EAA1C7B,EAA0C6B,SAA1C,CAAAm7C,EAAA5nB,KAAA,eAAA4nB,EAAA5nB,KAAA,EAEe8xE,YAAcllG,EAAOuvF,GAFpC,cAAAv0C,EAAAu5B,OAAA,SAAAv5B,EAAA2J,MAAA,UAGgC,kBAAb9kD,EAHnB,CAAAm7C,EAAA5nB,KAAA,gBAAA4nB,EAAAu5B,OAAA,iBAAA1uE,OAIiBhG,EAJjB,YAAAgG,OAIoC7F,EAAM8oC,gBAJ1C,cAMQ,IAAI41D,MAAM,gBANlB,yBAAA1jD,EAAAznB,SAAAwnB,6BAUO,SAAeo3F,EAAtBltC,GAAA,OAAAmtC,EAAA9hI,MAAAwd,KAAApxB,sDAAO,SAAAw+C,EAAA/8C,GAAA,IAAAk0I,EAAAryI,EAAAuvF,EAAA15E,EAAAhW,EAAAyyI,EAAAC,EAAAC,EAAAnuC,EAAA,OAAAjG,EAAA3hG,EAAAy2B,KAAA,SAAAioB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA/nB,MAAA,UAAAi/G,EAAAl0I,EAA0B6B,aAA1B,IAAAqyI,EAAkC,GAAlCA,EAAsC9iD,EAAtCpxF,EAAsCoxF,SAAU15E,EAAhD1X,EAAgD0X,KAAMhW,EAAtD1B,EAAsD0B,SACtDyyI,EAAWb,EAAe5xI,GAC1B0yI,EAAW73H,KAAKC,UAAU9E,IAC5By8H,EAHE,CAAAn3F,EAAA/nB,KAAA,gBAAA+nB,EAAA/nB,KAAA,EAIyB8xE,YAAcqtC,EAAUvyI,EAAQuvF,GAJzD,cAICijD,EAJDr3F,EAAAwJ,KAAAxJ,EAAAo5B,OAAA,SAKEi+D,GALF,eAAAr3F,EAAAm5B,GAOmB2vB,IAPnB9oD,EAAAmjE,GAQJi0B,EARIp3F,EAAA/nB,KAAA,GASEo+G,EAAa,CAAExxI,MAAOA,EAAM8oC,cAAeymD,aAT7C,eAAAp0C,EAAAyjE,GAAAzjE,EAAAwJ,KAAAxJ,EAAA/nB,KAAA,MAAA+nB,EAAAm5B,IAAAn5B,EAAAmjE,GAAAnjE,EAAAyjE,IAAA,eAOCva,EAPDlpD,EAAAwJ,KAAAxJ,EAAAo5B,OAAA,SAWE8vB,GAXF,yBAAAlpD,EAAA5nB,SAAA2nB,6BAeA,SAAeu3F,EAAtBptC,GAAA,OAAAqtC,EAAApiI,MAAAwd,KAAApxB,sDAAO,SAAA2+C,EAAA98C,GAAA,IAAAo0I,EAAA3yI,EAAAuvF,EAAA15E,EAAAhW,EAAA+yI,EAAA/tC,EAAA,OAAAzG,EAAA3hG,EAAAy2B,KAAA,SAAAooB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAloB,MAAA,UAAAu/G,EAAAp0I,EAA0ByB,aAA1B,IAAA2yI,EAAkC,GAAlCA,EAAsCpjD,EAAtChxF,EAAsCgxF,SAAU15E,EAAhDtX,EAAgDsX,KAAMhW,EAAtDtB,EAAsDsB,SACxD+yI,EAAe,IACFnB,EAAe5xI,GAF1B,CAAAy7C,EAAAloB,KAAA,eAAAkoB,EAAAloB,KAAA,EAKgBmyE,YAAc1vF,EAAM7V,EAAQuvF,GAL5C,OAKLqjD,EALKt3F,EAAAqJ,KAAArJ,EAAAloB,KAAA,uBAAAkoB,EAAAg5B,GAOgBmwB,IAPhBnpD,EAAAgjE,GAQJzoG,EARIylC,EAAAloB,KAAA,GASEo+G,EAAa,CAAExxI,MAAOA,EAAM8oC,cAAeymD,aAT7C,eAAAj0C,EAAAsjE,GAAAtjE,EAAAqJ,KAAArJ,EAAAloB,KAAA,MAAAkoB,EAAAg5B,IAAAh5B,EAAAgjE,GAAAhjE,EAAAsjE,IAAA,QAOLg0B,EAPKt3F,EAAAqJ,KAAA,eAAArJ,EAAArwB,KAAA,GAcC45E,EAAOnqF,KAAKrR,MAAMupI,GAdnBt3F,EAAAi5B,OAAA,SAeEswB,GAfF,cAAAvpD,EAAArwB,KAAA,GAAAqwB,EAAAmnE,GAAAnnE,EAAA,UAiBC,IAAIojD,MAAM,4BAAVpjD,EAAAmnE,IAjBD,yBAAAnnE,EAAA/nB,SAAA8nB,EAAA,0CAqBA,SAAewkF,EAAtBv6B,GAAA,OAAAutC,EAAAviI,MAAAwd,KAAApxB,sDAAO,SAAAu0G,EAAAvyG,GAAA,IAAAo0I,EAAA9yI,EAAA+yI,EAAAxjD,EAAAyiD,EAAAgB,EAAAnzI,EAAA+hH,EAAA3gG,EAAApL,EAAA,OAAAuoF,EAAA3hG,EAAAy2B,KAAA,SAAAg+E,GAAA,cAAAA,EAAAjmF,KAAAimF,EAAA99E,MAAA,cAAA0/G,EAAAp0I,EACNsB,aADM,IAAA8yI,EACE,GADFA,EAAAC,EAAAr0I,EAEN6wF,gBAFM,IAAAwjD,EAEK,GAFLA,EAGNf,EAHMtzI,EAGNszI,SAHMgB,EAAAt0I,EAINmB,gBAJM,IAAAmzI,EAIK,GAJLA,EAAA9hC,EAAA99E,KAAA,EAMmB0+G,EAAeE,GANlC,cAMApwB,EANA1Q,EAAAvsD,KAAAusD,EAAA99E,KAAA,EAOY8+G,EAAQ,CAAElyI,QAAOuvF,WAAU1vF,aAPvC,cAOAohB,EAPAiwF,EAAAvsD,KAAAusD,EAAA99E,KAAA,EAQa++G,EAAS,CAAEt8H,KAAM+rG,EAAY5hH,QAAOuvF,WAAU1vF,aAR3D,cAQAgW,EARAq7F,EAAAvsD,KAAAusD,EAAA99E,KAAA,GASApH,YAAmB,CAAEnW,QAAQoL,GAT7B,eAWN2gG,EAAW/hH,SAAWA,EAXhBqxG,EAAA38B,OAAA,SAYCqtC,GAZD,yBAAA1Q,EAAA39E,SAAA09E,6BAeA,SAAe/d,EAAtBwS,GAAA,OAAAutC,EAAA3iI,MAAAwd,KAAApxB,sDAAO,SAAA40G,EAAAzyG,GAAA,IAAAq0I,EAAAlzI,EAAAmzI,EAAA5jD,EAAA7vF,EAAA0zI,EAAA,OAAAh1C,EAAA3hG,EAAAy2B,KAAA,SAAAq+E,GAAA,cAAAA,EAAAtmF,KAAAsmF,EAAAn+E,MAAA,cAAA8/G,EAAAr0I,EAAqCmB,aAArC,IAAAkzI,EAA6C,GAA7CA,EAAAC,EAAAt0I,EAAiD0wF,gBAAjD,IAAA4jD,EAA4D,GAA5DA,EAAA5hC,EAAAn+E,KAAA,EACe2uF,EAAe,CACnC/hH,QACAuvF,WACA8jD,cAAc,IAJT,YACA3zI,EADA6xG,EAAA5sD,QAOQjlD,EAAOmW,KAPf,CAAA07F,EAAAn+E,KAAA,eAAAm+E,EAAAn+E,KAAA,EAQgB8+G,EAAQ,CAC5BlyI,QACAuvF,WACA1vF,SAAUo+B,IAAWioE,MAAM1sF,OAXvB,OAQC45H,EARD7hC,EAAA5sD,KAaL34B,YAAmBtsB,EAAQ0zI,GAbtB,wBAAA7hC,EAAAh+E,SAAA+9E,6BAiBA,SAAene,EAAtBwS,GAAA,OAAA2tC,EAAAhjI,MAAAwd,KAAApxB,sDAAO,SAAAi1G,EAAA3yG,GAAA,IAAAu0I,EAAAvzI,EAAAwzI,EAAAjkD,EAAAtuE,EAAA,OAAAm9E,EAAA3hG,EAAAy2B,KAAA,SAAA0+E,GAAA,cAAAA,EAAA3mF,KAAA2mF,EAAAx+E,MAAA,cAAAmgH,EAAAv0I,EAAiCgB,aAAjC,IAAAuzI,EAAyC,GAAzCA,EAAAC,EAAAx0I,EAA6CuwF,gBAA7C,IAAAikD,EAAwD,GAAxDA,EAAA5hC,EAAAx+E,KAAA,EACY8+G,EAAQ,CAAElyI,QAAOuvF,aAD7B,OACAtuE,EADA2wF,EAAAjtD,KAENt4B,YAAuBpL,GAFjB,wBAAA2wF,EAAAr+E,SAAAo+E,6BAKA,SAAemuB,EAAtB/uB,GAAA,OAAA0iC,EAAAnjI,MAAAwd,KAAApxB,sDAAO,SAAAq1G,EAAA5yG,GAAA,IAAAu0I,EAAA1zI,EAAA2zI,EAAApkD,EAAAqkD,EAAA7T,EAAA8T,EAAA7T,EAAAngI,EAAAohB,EAAAvhB,EAAAmW,EAAA,OAAAuoF,EAAA3hG,EAAAy2B,KAAA,SAAA8+E,GAAA,cAAAA,EAAA/mF,KAAA+mF,EAAA5+E,MAAA,UAAAsgH,EAAAv0I,EACNa,aADM,IAAA0zI,EACE,GADFA,EAAAC,EAAAx0I,EAENowF,gBAFM,IAAAokD,EAEK,GAFLA,EAAAC,EAAAz0I,EAGN4gI,eAHM,IAAA6T,EAGI,GAHJA,EAAAC,EAAA10I,EAIN6gI,iBAJM,IAAA6T,EAIM,GAJNA,EAKNh0I,EALMV,EAKNU,SAEgB,SAAZkgI,EAPE,CAAA/tB,EAAA5+E,KAAA,cAQC,IAAIsrE,MAAM,oBARX,cAAAsT,EAAA5+E,KAAA,EAWY8+G,EAAQ,CAAElyI,QAAOuvF,WAAU1vF,aAXvC,UAWAohB,EAXA+wF,EAAArtD,KAYAjlD,EAASksB,YAAqB3K,GAZ9B,CAAA+wF,EAAA5+E,KAAA,cAeC,IAAIsrE,MAAM,oBAfX,cAAAsT,EAAA5+E,KAAA,GAkBa++G,EAAS,CAAEt8H,KAAMmqH,EAAWhgI,QAAOuvF,WAAU1vF,aAlB1D,QAkBAgW,EAlBAm8F,EAAArtD,KAmBNjlD,EAAOqgI,GAAWlqH,EAClBmW,YAAmBtsB,EAAQuhB,GApBrB,yBAAA+wF,EAAAz+E,SAAAw+E,6BAuBA,SAAemsB,EAAtB/sB,GAAA,OAAA2iC,EAAAxjI,MAAAwd,KAAApxB,sDAAO,SAAA21G,EAAA7xG,GAAA,IAAAR,EAAAuvF,EAAA1vF,EAAAohB,EAAAvhB,EAAA,OAAA0+F,EAAA3hG,EAAAy2B,KAAA,SAAAo/E,GAAA,cAAAA,EAAArnF,KAAAqnF,EAAAl/E,MAAA,UAAuCpzB,EAAvCQ,EAAuCR,MAAOuvF,EAA9C/uF,EAA8C+uF,SAAU1vF,EAAxDW,EAAwDX,SACzDG,GAAUuvF,EADT,CAAA+iB,EAAAl/E,KAAA,eAAAk/E,EAAA/9B,OAAA,SAEE,MAFF,cAAA+9B,EAAAl/E,KAAA,EAKY8+G,EAAQ,CAAElyI,QAAOuvF,WAAU1vF,aALvC,cAKAohB,EALAqxF,EAAA3tD,KAMAjlD,EAASksB,YAAqB3K,GAN9BqxF,EAAA/9B,OAAA,SAQC,CACNtzD,MACAvhB,WAVK,wBAAA4yG,EAAA/+E,SAAA8+E,6BAcA,SAAe0P,EAAtB3Q,GAAA,OAAA2iC,EAAAzjI,MAAAwd,KAAApxB,sDAAO,SAAAq2G,EAAApyG,GAAA,IAAAX,EAAAuvF,EAAA1vF,EAAAwzI,EAAApyH,EAAAvhB,EAAAs0I,EAAAC,EAAAC,EAAAC,EAAA,OAAA/1C,EAAA3hG,EAAAy2B,KAAA,SAAA8/E,GAAA,cAAAA,EAAA/nF,KAAA+nF,EAAA5/E,MAAA,UACNpzB,EADMW,EACNX,MACAuvF,EAFM5uF,EAEN4uF,SACA1vF,EAHMc,EAGNd,SACAwzI,EAJM1yI,EAIN0yI,aAEKrzI,GAAUuvF,EANT,CAAAyjB,EAAA5/E,KAAA,cAOC,IAAIsrE,MAAM,+BAPX,cAAAsU,EAAA5/E,KAAA,EAUY8+G,EAAQ,CAAElyI,QAAOuvF,WAAU1vF,aAVvC,UAUAohB,EAVA+xF,EAAAruD,OAWAjlD,EAASksB,YAAqB3K,IAX9B,CAAA+xF,EAAA5/E,KAAA,aAcDigH,EAdC,CAAArgC,EAAA5/E,KAAA,gBAAA4/E,EAAAz+B,OAAA,SAeG70E,GAfH,eAkBCs0I,EAAap2I,OAAOma,KAAKrY,GAEzBu0I,EAAWD,EAAW51I,IAAX,eAAAkD,EAAA1D,OAAAugG,EAAA,EAAAvgG,CAAAwgG,EAAA3hG,EAAAq2B,KAAe,SAAA4/E,EAAMzxF,GAAN,IAAAizH,EAAA,OAAA91C,EAAA3hG,EAAAy2B,KAAA,SAAAy/E,GAAA,cAAAA,EAAA1nF,KAAA0nF,EAAAv/E,MAAA,cAAAu/E,EAAAv/E,KAAA,EAQHq/G,EAAS,CACpC58H,KAAMnW,EAAOuhB,GACbjhB,QACAuvF,WACA1vF,aAZ8B,cAQzBq0I,EARyBvhC,EAAAhuD,KAAAguD,EAAAp+B,OAAA,SAexB2/D,GAfwB,wBAAAvhC,EAAAp/E,SAAAm/E,MAAf,gBAAAjB,GAAA,OAAAnwG,EAAAgP,MAAAwd,KAAApxB,YAAA,IApBZs2G,EAAA5/E,KAAA,GAsCuBmvB,QAAQ9kD,IAAIw2I,GAtCnC,eAsCCC,EAtCDlhC,EAAAruD,KAwCCwvF,EAAkBH,EAAWx2I,OAAO,SAACmwB,EAAO1M,EAAK+E,GAEtD,OADA2H,EAAM1M,GAAOizH,EAAcluH,GACpB2H,GACL,IA3CEqlF,EAAAz+B,OAAA,SA6CE4/D,GA7CF,eAAAnhC,EAAAz+B,OAAA,SA+CE,MA/CF,yBAAAy+B,EAAAz/E,SAAAw/E,6BAuDA,SAASusB,EAAWr+G,EAAK+E,EAAOtmB,GACtC,IAAMQ,EAAQ+gB,EAAI/gB,MAAM,KAClBk0I,EAAOl0I,EAAMvD,QAAU,EAAIuD,EAAM8V,MAAM,EAAG9V,EAAMvD,QAAQkd,KAAK,KAAO,KACpEha,EAAWK,EAAM,IAAM,SAU7B,MAPa,CACZ+gB,MACAvhB,SACA8Z,KALY46H,GAAI,mBAAAvuI,OAAuBmgB,EAAQ,GAM/CnmB,YAMK,SAAS+qF,IAWf,OAVmBr+D,cACjBnuB,IAAI,SAAA6iB,GACJ,MAAO,CACNA,MACAvT,KAAMke,YAAqB3K,MAG5B5W,OAAO,SAAAxJ,GAAA,OA5BV,SAAkB6M,GACjB,OAAOA,GAAQA,EAAKmI,MAAQnI,EAAK/N,UAAY+N,EAAKyxE,WA2B3Bk1D,CAAdxzI,EAAG6M,QACVtP,IAAI,SAAA4C,EAAgBglB,GAAhB,IAAGtY,EAAH1M,EAAG0M,KAAH,OAA0B4xH,EAA1Bt+H,EAASigB,IAAiC+E,EAAOtY,KAKjD,SAAeowH,EAAtBtsB,GAAA,OAAA8iC,EAAAhkI,MAAAwd,KAAApxB,sDAAO,SAAA02G,EAAAjyG,GAAA,IAAAyuG,EAAArgB,EAAAglD,EAAAzwC,EAAA,OAAA1F,EAAA3hG,EAAAy2B,KAAA,SAAAmgF,GAAA,cAAAA,EAAApoF,KAAAooF,EAAAjgF,MAAA,cAA+Bw8E,EAA/BzuG,EAA+ByuG,KAAMrgB,EAArCpuF,EAAqCouF,SACrCglD,EAAavrF,QAAMllD,GAAGyrF,GADtB8jB,EAAAjgF,KAAA,EAGa49G,EAAYuD,EAAY3kC,EAAM,IAAO,GAAI,SAAU,OAHhE,cAGA9L,EAHAuP,EAAA1uD,KAAA0uD,EAAA9+B,OAAA,SAKCuvB,GALD,wBAAAuP,EAAA9/E,SAAA6/E,6BAQA,SAASyqB,EAAa2W,GAC5B,GAAuB,kBAAZA,EACV,MAAM,IAAI91C,MAAM,8BACV,IAAK81C,EAAQ73I,OACnB,MAAM,IAAI+hG,MAAM,gCAGjB,IAAM56F,EAAKklD,QAAMllD,GAAG0wI,GAEpB,OADaxrF,QAAMk6D,UAAUp/G,yBCnS9BkpB,EAAAC,QAAiB1B,EAAA7N,EAAuB,wDCAxCsP,EAAAC,QAAiB1B,EAAA7N,EAAuB,yDCAxCsP,EAAAC,QAAiB1B,EAAA7N,EAAuB,sDCAxCsP,EAAAC,QAAiB1B,EAAA7N,EAAuB,sDCAxCsP,EAAAC,QAAiB1B,EAAA7N,EAAuB,yDCAxCsP,EAAAC,QAAiB1B,EAAA7N,EAAuB,0DCAxCsP,EAAAC,QAAA,snQCAAD,EAAAC,QAAiB1B,EAAA7N,EAAuB,mECAxCsP,EAAAC,QAAiB1B,EAAA7N,EAAuB,0DCAxCsP,EAAAC,QAAiB1B,EAAA7N,EAAuB,wECAxC,SAAA1a,GAAAuoB,EAAAC,EAAAC,EAAA,sBAAAmpE,IAAA,IAAA6/C,EAAAlpH,EAAA,GAAAmpH,EAAAnpH,EAAA,GAAAopH,EAAAppH,EAAA,GAAAqpH,EAAArpH,EAAA,KAAAspH,EAAAtpH,EAAA,GAUe,SAASqpE,EAAYjnE,GACnC,IAAM7jB,EAAWgnB,YAAY/G,OAAmB,GAC1C+qH,EAAoB,WAIzB,IAJ2D,IAAjCC,EAAiCr4I,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtB,GAAIs4I,EAAkBt4I,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAC9Cu4I,EAAYF,EAAS70I,MAAM,OAE3Bg1I,EAAYF,EAAS90I,MAAM,OAC1B+0I,EAAUt4I,QAAUu4I,EAAUv4I,QAAQ,CAC5C,IAAMF,EAAIgU,OAAOwkI,EAAUlwC,SAErBloG,EAAI4T,OAAOykI,EAAUnwC,SAE3B,GAAItoG,IAAMI,EAEV,OAAOJ,EAAII,GAAKs4I,MAAMt4I,GAEvB,OAAO,GA6BR,OA1BA40B,oBAAU,WACT,IAAIzZ,EAAI3H,KAAKkzG,SACXz8F,SAAS,IACTg2E,UAAU,GACZ+Q,MAAK,gBAAAhoG,OAAiBmS,GAAK,CAAEo9H,MAAO,aAClC//C,KAAK,SAAAmpB,GAAQ,OAAIA,EAASzP,SAC1B1Z,KAAK,SAAAvsE,GAAQ,IACLusH,EAA6BvsH,EAA7BusH,cAAeC,EAAcxsH,EAAdwsH,UADVh4I,EAE0B0F,EAAO8lB,MAAQ,GAA9CysH,EAFKj4I,EAELi4I,eAAgBC,EAFXl4I,EAEWk4I,aAEtBxyI,EAAO8lB,MAAQgsH,EAAkBO,EAAeE,KAEjDvgH,YACCi1E,YAAsB,CACrBzpF,QAAS60H,OAKVryI,EAAO8lB,MAAQgsH,EAAkBQ,EAAWE,KAE7CxgH,YAAQm1E,kBAGT,CAACrgG,IAEG6jB,EAAM6C,SAjDdxtB,EAAO8lB,KAAO,CACbysH,eAAgBr5G,EAAY1b,QAC5Bg1H,WAAYt5G,EAAYu5G","file":"static/js/main.cbecf971.chunk.js","sourcesContent":["import { createSelectorCreator, defaultMemoize } from 'reselect'\nimport isEqual from 'lodash.isequal'\n\n// deep equal memoization instad reference check\nexport const createDeepEqualSelector = createSelectorCreator(\n\tdefaultMemoize,\n\tisEqual\n)\n\nexport const creatArrayOnlyLengthChangeSelector = createSelectorCreator(\n\tdefaultMemoize,\n\t(a = [], b = []) => a.length === b.length\n)\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\n\n// can be used outside  components\nexport const selectRelayerConfig = state => {\n\treturn (state || getState()).persist.config.relayer\n}\n\n// - relayer cfg\n// network,\n// feeTokenWhitelist, // [{ address, symbol, decimals, standard, min, minDeploy, minRecommended }],\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal, minPlatform }],\n// coreAddr,\n// baseIdentityAddr,\n// identityFactoryAddr,\n// registryAddr,\n// daiAddr,\n// marketUrl,\n// identityRecoveryAddr,\n// weeklyFeeAmount,\n// mainToken, // { address, symbol, decimals, standard },\n// advertiserMinGrantAmount\n// relayerAddr\n// gasPriceCap\n\nexport const selectFeeTokenWhitelist = createSelector(\n\t[selectRelayerConfig],\n\t({ feeTokenWhitelist }) => {\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokens = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.map(t => t.address)\n\t}\n)\n\nexport const selectConfig = createSelector(\n\t[selectRelayerConfig],\n\trelayerConfig => {\n\t\tconst cfg = { ...relayerConfig }\n\t\treturn cfg\n\t}\n)\n\nexport const selectMainToken = createSelector(\n\t[selectRelayerConfig],\n\t({ mainToken }) => mainToken || {}\n)\n\nexport const selectIdentityRecoveryAddr = createSelector(\n\t[selectRelayerConfig],\n\t({ identityRecoveryAddr }) => identityRecoveryAddr\n)\n\nexport const selectGasPriceCap = createSelector(\n\t[selectRelayerConfig],\n\t({ gasPriceCap }) => gasPriceCap\n)\n\nexport const selectSaiToken = createSelector(\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\n)\n\nexport const selectMainFeeToken = createSelector(\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\n\t({ mainToken }, feeTokenWhitelist) => {\n\t\treturn feeTokenWhitelist[mainToken.address]\n\t}\n)\n","import { createSelector } from 'reselect'\nimport { createDeepEqualSelector } from 'selectors'\n\nexport const selectAccount = state => state.persist.account || {}\nexport const selectChannels = state => state.memory.channels\n\nexport const selectAuth = createSelector(\n\tselectAccount,\n\t({ wallet, identity }) =>\n\t\t!!wallet &&\n\t\t!!wallet.address &&\n\t\t!!wallet.authSig &&\n\t\t!!wallet.authType &&\n\t\t!!identity.address\n)\n\nexport const selectWallet = createDeepEqualSelector(\n\tselectAccount,\n\t({ wallet }) => wallet || {}\n)\n\nexport const selectEmail = createSelector(\n\tselectAccount,\n\t({ email }) => email\n)\n\nexport const selectEmailProvider = createSelector(\n\tselectEmail,\n\temail => (!!email ? email.split('@')[1] : null)\n)\n\nexport const selectAuthSig = createSelector(\n\tselectWallet,\n\t({ authSig }) => authSig\n)\n\nexport const selectWalletAddress = createSelector(\n\tselectWallet,\n\t({ address }) => address\n)\n\nexport const selectAuthType = createSelector(\n\tselectWallet,\n\t({ authType }) => authType\n)\n\nexport const selectAccountIdentity = createSelector(\n\tselectAccount,\n\t({ identity }) => identity || {}\n)\n\nexport const selectAccountIdentityAddr = createSelector(\n\tselectAccountIdentity,\n\t({ address }) => address\n)\n\nexport const selectAccountStats = createSelector(\n\tselectAccount,\n\t({ stats }) => stats || {}\n)\n\nexport const selectAccountSettings = createSelector(\n\tselectAccount,\n\t({ settings }) => settings || {}\n)\n\nexport const selectAccountStatsRaw = createSelector(\n\tselectAccountStats,\n\t({ raw }) => raw || {}\n)\n\nexport const selectAccountStatsFormatted = createSelector(\n\tselectAccountStats,\n\t({ formatted }) => formatted || {}\n)\n\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData }) =>\n\t\trelayerData &&\n\t\trelayerData.routineAuthorizationsData &&\n\t\trelayerData.routineAuthorizationsData[0]\n\t\t\t? relayerData.routineAuthorizationsData[0]\n\t\t\t: null\n)\n\nexport const selectAccountIdentityDeployData = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData = {} }) => relayerData.deployData || {}\n)\n\nexport const selectChannelsWithUserBalancesEligible = createSelector(\n\tselectChannels,\n\t({ withOutstandingBalance }) => [...(withOutstandingBalance || [])]\n)\n\nexport const selectChannelsWithUserBalancesAll = createSelector(\n\tselectChannels,\n\t({ withBalanceAll }) => ({ ...(withBalanceAll || {}) })\n)\n\nexport const selectAccountIdentityCurrentPrivileges = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData: { currentPrivileges } = {} }) => currentPrivileges || {}\n)\n\nexport const selectWalletPrivileges = createSelector(\n\t[selectAccountIdentityCurrentPrivileges, selectWalletAddress],\n\t(privileges = {}, address) => privileges[address] || 0\n)\n","import { createSelector } from 'reselect'\n\nexport const selectIdentity = state => state.memory.identity\n\nexport const selectEnsAddresses = state => state.persist.ensAddresses\n\nexport const selectEnsAddressByAddr = createSelector(\n\t[selectEnsAddresses, (_, address) => address],\n\t(ensAddresses, address) => ensAddresses[address] || ''\n)\n","import { createSelector } from 'reselect'\nimport dateUtils from 'helpers/dateUtils'\n\nimport { selectAccountIdentityAddr } from './accountSelectors'\n\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\n\nexport const selectNavTitle = state => state.memory.nav.navTitle\nexport const selectSide = state => state.memory.nav.side\nexport const selectMemoryUi = state => state.memory.uiMemory\nexport const selectGlobalUi = state => state.persist.ui.global\nexport const selectIdentitiesUi = state => state.persist.ui.byIdentity\nexport const selectSelectedItems = state => state.memory.selectedItems\nexport const selectConfirm = state => state.memory.confirm\n\nexport const selectSpinners = state => state.memory.spinners\n\nexport const selectIdentityUi = createSelector(\n\t[selectAccountIdentityAddr, selectIdentitiesUi],\n\t(identityAddr, identitiesUi) => identitiesUi[identityAddr] || {}\n)\n\nexport const selectIdentitySideUi = createSelector(\n\t[selectIdentityUi, selectSide],\n\t(identityUi, side) => identityUi[side] || {}\n)\n\nexport const selectCompanyData = createSelector(\n\t[selectIdentityUi],\n\t({ companyData }) => companyData || {}\n)\n\nexport const selectSpinnerById = createSelector(\n\t[selectSpinners, (_, id) => id],\n\t(spinners, id) => spinners[id]\n)\n\nexport const selectMultipleSpinnersByIds = createSelector(\n\t[selectSpinners, (_, ids) => ids],\n\t(spinners, ids) => ids.map(id => spinners[id])\n)\n\nexport const selectRegistrationAllowed = createSelector(\n\tselectGlobalUi,\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\n)\n\nexport const selectEasterEggsAllowed = createSelector(\n\tselectGlobalUi,\n\t({ allowEasterEggs }) => allowEasterEggs\n)\n\nexport const selectPrivilegesWarningAccepted = createSelector(\n\tselectIdentityUi,\n\t({ privilegesWarningAccepted }) => !!privilegesWarningAccepted\n)\n\nexport const selectMissingRevenueDataPointsAccepted = createSelector(\n\tselectIdentityUi,\n\t({ missingRevenueDataPointsAccepted }) => !!missingRevenueDataPointsAccepted\n)\n\nexport const selectSideSpecificUI = createSelector(\n\t[selectIdentityUi, selectSide],\n\t(ui, side) => ui[side] || {}\n)\n\nexport const selectHideGettingStarted = createSelector(\n\t[selectSideSpecificUI],\n\t({ hideGettingStarted }) => hideGettingStarted\n)\n\nexport const selectGettingStartedExpanded = createSelector(\n\tselectIdentityUi,\n\t({ gettingStartedExpanded }) =>\n\t\t// NOTE: default is open but cant set initial state\n\t\tgettingStartedExpanded === undefined ? true : !!gettingStartedExpanded\n)\n\nexport const selectSelectedCampaigns = createSelector(\n\tselectSelectedItems,\n\t({ campaigns }) => campaigns || []\n)\n\nexport const selectLoginDirectSide = createSelector(\n\tselectGlobalUi,\n\t({ goToSide }) => goToSide || ''\n)\n\nexport const selectInitialDataLoadedByData = createSelector(\n\t[selectMemoryUi, (_, dataType) => dataType],\n\t({ initialDataLoaded }, dataType) =>\n\t\tinitialDataLoaded === true ||\n\t\t(typeof initialDataLoaded === 'object' && initialDataLoaded[dataType])\n)\nexport const selectInitialDataLoaded = createSelector(\n\tselectMemoryUi,\n\t({ initialDataLoaded = false }) =>\n\t\tinitialDataLoaded === true ||\n\t\t(typeof initialDataLoaded === 'object' &&\n\t\t\t[\n\t\t\t\t'accountIdentityData',\n\t\t\t\t'allItems',\n\t\t\t\t'stats',\n\t\t\t\t'campaigns',\n\t\t\t\t'advancedAnalytics',\n\t\t\t].every(type => !!initialDataLoaded[type]))\n)\n\nexport const selectCampaignInDetails = createSelector(\n\tselectMemoryUi,\n\t({ campaignId }) => campaignId\n)\n\nexport const selectAnalyticsDataSide = createSelector(\n\t[selectSide, selectCampaignInDetails],\n\t(side, campaignId) => (campaignId ? campaignId : side ? `for-${side}` : '')\n)\n\nexport const selectIdentitySideAnalyticsTimeframe = createSelector(\n\t[selectIdentitySideUi],\n\t({ sideAnalyticsTimeframe = 'day' } = {}) => sideAnalyticsTimeframe\n)\n\nexport const selectIdentitySideAnalyticsPeriod = createSelector(\n\t[selectIdentitySideUi],\n\t({\n\t\tsideAnalyticsPeriod = {\n\t\t\tstart: +dateUtils.startOfDay(dateUtils.date()),\n\t\t\tend: +dateUtils.endOfDay(dateUtils.date()),\n\t\t},\n\t} = {}) => sideAnalyticsPeriod\n)\n","import { createSelector } from 'reselect'\nimport { translate } from 'services/translations/translations'\nimport { getState } from 'store'\n\nexport const selectLang = state => state.persist.language\n\nexport const selectTranslations = createSelector(\n\t[\n\t\tselectLang,\n\t\t(_, val, opts = {}) => {\n\t\t\treturn { val, opts }\n\t\t},\n\t],\n\t(lang, { val, opts }) => {\n\t\tconst { isProp = false, args = [''], components = [] } = opts\n\t\treturn translate(val, { isProp, args, components }, lang)\n\t}\n)\n\n// Need to useSelector for language in top component where this will be used\n// Now this is don by using Translate Hoc on Root\n// It will work in actions too as the state isg get when they are called and don't need update\nexport const t = (val, opts) => {\n\treturn selectTranslations(getState(), val, opts)\n}\n","import { createSelector } from 'reselect'\nimport { selectCampaignEventsCount } from 'selectors'\nimport url from 'url'\nexport const selectItems = state => state.persist.items\n\nexport const selectItemsByType = createSelector(\n\t[selectItems, (_, itemType) => itemType],\n\t(items, itemType) => items[itemType] || {}\n)\n\nexport const selectItemByTypeAndId = createSelector(\n\t[selectItems, (_, itemType, id) => ({ itemType, id })],\n\t(items, { itemType, id }) => (items[itemType] || {})[id] || {}\n)\n\nexport const selectItemsArrayByType = createSelector(\n\t[selectItemsByType, (_, itemType) => itemType],\n\t(items = {}) => Object.values(items)\n)\n\nexport const selectCampaigns = createSelector(\n\tstate => selectItemsByType(state, 'Campaign'),\n\tcampaigns => campaigns\n)\n\nexport const selectCampaignById = createSelector(\n\t[selectCampaigns, (_, id) => id],\n\t(campaigns, id) => campaigns[id]\n)\n\nexport const selectCampaignUnitsById = createSelector(\n\t[selectCampaignById, (_, id) => id],\n\t({ adUnits } = {}) => adUnits || []\n)\n\nexport const selectCampaignWithAnalyticsById = createSelector(\n\t[selectCampaigns, (_, id) => id],\n\t(campaigns, id) => {\n\t\tconst campaign = { ...(campaigns[id] || {}) }\n\t\tcampaign.clicks = selectCampaignEventsCount('CLICK', id)\n\t\tcampaign.impressions = selectCampaignEventsCount('IMPRESSION', id)\n\t\treturn campaign\n\t}\n)\n\nexport const selectCampaignsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'Campaign'),\n\tcampaigns => campaigns\n)\n\nexport const selectAdUnits = createSelector(\n\tstate => selectItemsByType(state, 'AdUnit'),\n\tadUnits => adUnits\n)\n\nexport const selectAdUnitById = createSelector(\n\t[selectAdUnits, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectAdUnitsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'AdUnit'),\n\tadUnits => adUnits\n)\n\nexport const selectAdSlots = createSelector(\n\tstate => selectItemsByType(state, 'AdSlot'),\n\tadSlots => adSlots\n)\n\nexport const selectAdSlotsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'AdSlot'),\n\tadSlots => adSlots\n)\n\nexport const selectAdSlotById = createSelector(\n\t[selectAdSlots, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectWebsites = createSelector(\n\tstate => selectItemsByType(state, 'Website'),\n\twebsites => websites\n)\n\nexport const selectWebsitesArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'Website'),\n\twebsites => websites\n)\n\nexport const selectWebsiteById = createSelector(\n\t[selectWebsites, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectWebsiteByWebsite = createSelector(\n\t[selectWebsites, (_, ws) => ws],\n\t(items, ws) => (ws ? items[url.parse(ws).hostname] || {} : {})\n)\n\nexport const selectAudiences = createSelector(\n\tstate => selectItemsByType(state, 'Audience'),\n\taudiences => audiences\n)\n\nexport const selectAudiencesArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'Audience'),\n\taudiences => audiences\n)\n\nexport const selectAudienceById = createSelector(\n\t[selectAudiences, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectAudienceByCampaignId = createSelector(\n\t[selectCampaignById, selectAudiencesArray, (_, id) => id],\n\t(campaign, items, id) => {\n\t\tconst hasCampaignAudienceUpdated =\n\t\t\tcampaign &&\n\t\t\tcampaign.audienceInput &&\n\t\t\tcampaign.audienceInput.inputs &&\n\t\t\t(campaign.audienceInput.inputs.location ||\n\t\t\t\tcampaign.audienceInput.inputs.categories ||\n\t\t\t\tcampaign.audienceInput.inputs.publishers ||\n\t\t\t\tcampaign.audienceInput.inputs.advanced)\n\n\t\treturn hasCampaignAudienceUpdated\n\t\t\t? campaign.audienceInput\n\t\t\t: items.find(x => x && x.campaignId === id)\n\t}\n)\n\nexport const selectSavedAudiences = createSelector(\n\t[selectAudiencesArray],\n\titems => items.filter(x => x && !x.campaignId && x.title)\n)\n","import {\n\tCampaign as CampaignModel,\n\tAdUnit as AdUnitModel,\n\tAdSlot as AdSlotModel,\n\tAudience as AudienceModel,\n} from 'adex-models'\nimport initialState from 'store/initialState'\n\nimport { createSelector } from 'reselect'\n\nexport const selectNewItems = state => state.memory.newItem\n\nexport const selectNewItemByType = createSelector(\n\t[selectNewItems, (_, type) => type],\n\t(items, type) => items[type]\n)\n\n// NOTE: currently used only for existing items update\nexport const selectNewItemByTypeAndId = createSelector(\n\t[selectNewItems, (_, type, itemId) => ({ type, itemId })],\n\t(items, { type, itemId }) =>\n\t\t(itemId ? items[itemId] : items[type]) || { ...initialState.newItem[type] }\n)\n\nexport const selectNewCampaign = createSelector(\n\tselectNewItems,\n\t({ Campaign }) => new CampaignModel(Campaign)\n)\n\nexport const selectNewAdUnit = createSelector(\n\tselectNewItems,\n\t({ AdUnit }) => new AdUnitModel(AdUnit)\n)\n\nexport const selectNewAdSlot = createSelector(\n\tselectNewItems,\n\t({ AdSlot }) => new AdSlotModel(AdSlot)\n)\n\nexport const selectNewAudience = createSelector(\n\tselectNewItems,\n\t({ Audience }) => new AudienceModel(Audience)\n)\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\nimport {\n\tselectChannelsWithUserBalancesAll,\n\tselectIdentitySideAnalyticsTimeframe,\n} from 'selectors'\nimport { formatTokenAmount, formatDateTime } from 'helpers/formatters'\nimport {\n\tselectNewItemByTypeAndId,\n\tselectIdentitySideAnalyticsPeriod,\n} from 'selectors'\nimport dateUtils from 'helpers/dateUtils'\nimport { DEFAULT_DATETIME_FORMAT } from 'helpers/formatters'\nimport { t } from './translationsSelectors'\n\nexport const selectAnalytics = state => state.memory.analytics\nexport const selectTargeting = state => state.persist.targeting\n\nconst MIN_SLOTS_FOR_AD_TYPE = 2\n\nexport const selectAnalyticsData = createSelector(\n\t[selectAnalytics, (_, side) => side],\n\t(analytics, side) => {\n\t\treturn analytics[side] || {}\n\t}\n)\n\nexport const selectAdvancedAnalytics = createSelector(\n\t[selectAnalytics],\n\tanalytics => analytics.advanced || {}\n)\n\nexport const selectAnalyticsLastChecked = createSelector(\n\tselectAnalytics,\n\t({ lastChecked }) => {\n\t\treturn lastChecked || Date.now()\n\t}\n)\n\nexport const selectAnalyticsLiveTimestamp = createSelector(\n\t[selectIdentitySideAnalyticsTimeframe, selectAnalyticsLastChecked],\n\t(timeframe, lastChecked) => {\n\t\tswitch (timeframe) {\n\t\t\tcase 'hour':\n\t\t\t\treturn +dateUtils.date(lastChecked).startOf('hour')\n\t\t\tcase 'day':\n\t\t\t\treturn +dateUtils.date(lastChecked).startOf('day')\n\t\t\tcase 'week':\n\t\t\t\treturn +dateUtils\n\t\t\t\t\t.date(lastChecked)\n\t\t\t\t\t.startOf('week')\n\t\t\t\t\t.add(23, 'hours')\n\t\t\t\t\t.utc()\n\t\t\t\t\t.startOf('day')\n\t\t\tdefault:\n\t\t\t\treturn +dateUtils.date(lastChecked).startOf('hour')\n\t\t}\n\t}\n)\n\nexport const selectCampaignAnalytics = createSelector(\n\t[selectAnalytics],\n\t({ campaigns }) => campaigns || {}\n)\n\nexport const selectDemandAnalytics = createSelector(\n\t[selectAnalytics],\n\t({ demand }) => demand || {}\n)\n\nexport const selectDemandAnalyticsByType = createSelector(\n\t[selectDemandAnalytics, (_, type) => type],\n\t(demand, type) => demand[type] || {}\n)\n\nexport const selectTargetingAnalytics = createSelector(\n\t[selectTargeting],\n\t({ targetingData = [] }) => targetingData\n)\n\nexport const selectTargetingAnalyticsMinByCategories = createSelector(\n\t[selectTargeting],\n\t({ minByCategory = {} }) => minByCategory\n)\n\nexport const selectTargetingAnalyticsCountryTiersCoefficients = createSelector(\n\t[selectTargeting],\n\t({ countryTiersCoefficients = {} }) => countryTiersCoefficients\n)\n\nexport const selectVerifiedActiveTargetingAnalytics = createSelector(\n\t[selectTargetingAnalytics],\n\ttargetingAnalytics => {\n\t\tconst bySlotCount = targetingAnalytics.reduce((byType, x) => {\n\t\t\tx.types.forEach(t => {\n\t\t\t\tbyType[t] = (byType[t] || 0) + 1\n\t\t\t})\n\n\t\t\treturn byType\n\t\t}, {})\n\n\t\treturn targetingAnalytics\n\t\t\t.filter(\n\t\t\t\tx =>\n\t\t\t\t\t!!x.categories &&\n\t\t\t\t\tx.categories.length &&\n\t\t\t\t\tx.types &&\n\t\t\t\t\tx.types.length &&\n\t\t\t\t\t!!x.campaignsEarnedFrom\n\t\t\t)\n\t\t\t.map(t => ({\n\t\t\t\t...t,\n\t\t\t\ttypes: t.types.filter(x => bySlotCount[x] >= MIN_SLOTS_FOR_AD_TYPE),\n\t\t\t}))\n\t\t\t.filter(x => x.types.length)\n\t}\n)\n\nexport const selectTargetingAnalyticsCurrentlyUsedTypes = createSelector(\n\t[selectNewItemByTypeAndId],\n\titem => {\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\n\t}\n)\n\nexport const selectTargetingAnalyticsByType = createSelector(\n\t[\n\t\tselectVerifiedActiveTargetingAnalytics,\n\t\tselectTargetingAnalyticsCurrentlyUsedTypes,\n\t],\n\t(targetingAnalytics, types) => {\n\t\tconst filterByType = types && types.length\n\n\t\treturn targetingAnalytics.filter(\n\t\t\tx =>\n\t\t\t\t!filterByType || (filterByType && types.some(t => x.types.includes(t)))\n\t\t)\n\t}\n)\n\nexport const selectTargetingCategoriesByType = createSelector(\n\t[selectTargetingAnalyticsByType],\n\ttargeting =>\n\t\tArray.from(\n\t\t\ttargeting.reduce((categories, x) => {\n\t\t\t\tx.categories.forEach(c => categories.add(c))\n\t\t\t\treturn categories\n\t\t\t}, new Set())\n\t\t)\n)\n\nexport const selectTargetingPublishersByType = createSelector(\n\t[selectTargetingAnalyticsByType],\n\ttargeting => {\n\t\treturn Array.from(\n\t\t\ttargeting\n\t\t\t\t.reduce((publishers, { owner, hostname, alexaRank, categories }) => {\n\t\t\t\t\tpublishers.set(hostname, { owner, hostname, alexaRank, categories })\n\t\t\t\t\treturn publishers\n\t\t\t\t}, new Map())\n\t\t\t\t.values()\n\t\t).sort((a, b) => {\n\t\t\tif (a.alexaRank && !b.alexaRank) {\n\t\t\t\treturn -1\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\n\t\t\t\treturn a.alexaRank - b.alexaRank\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\n\t\t\t\treturn 1\n\t\t\t} else {\n\t\t\t\treturn 1\n\t\t\t}\n\t\t})\n\t}\n)\n\nexport const selectTargetingCategories = createSelector(\n\t[selectTargetingAnalytics],\n\ttargeting =>\n\t\tArray.from(\n\t\t\ttargeting.reduce((categories, x) => {\n\t\t\t\tx.categories.forEach(c => categories.add(c))\n\t\t\t\treturn categories\n\t\t\t}, new Set())\n\t\t)\n)\n\n// It is used for exclusion so they are not filtered and are sorted from worst to best\nexport const selectAllTargetingPublishers = createSelector(\n\t[selectTargetingAnalytics],\n\ttargeting => {\n\t\treturn Array.from(\n\t\t\ttargeting\n\t\t\t\t.reduce((publishers, { owner, hostname, alexaRank, categories }) => {\n\t\t\t\t\tpublishers.set(hostname, { owner, hostname, alexaRank, categories })\n\t\t\t\t\treturn publishers\n\t\t\t\t}, new Map())\n\t\t\t\t.values()\n\t\t).sort((a, b) => {\n\t\t\tif (a.alexaRank && !b.alexaRank) {\n\t\t\t\treturn 1\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\n\t\t\t\treturn a.alexaRank - b.alexaRank\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\n\t\t\t\treturn -1\n\t\t\t} else {\n\t\t\t\treturn -1\n\t\t\t}\n\t\t})\n\t}\n)\n\nexport const selectAdvancedAnalyticsByType = createSelector(\n\t[selectAdvancedAnalytics, (_, type) => type],\n\t(campaignAnalytics, type) => campaignAnalytics[type] || {}\n)\n\nexport const selectTotalStatsByAdUnits = createSelector(\n\t(state, { type, adUnitId }) => [\n\t\tselectAdvancedAnalyticsByType(state, type),\n\t\t{ adUnitId },\n\t],\n\t([analyticsByChannel, { adUnitId }]) =>\n\t\tObject.values(analyticsByChannel.byChannelStats || {}).reduce(\n\t\t\t(acc, curr) => acc + curr.reportChannelToAdUnit[adUnitId] || 0,\n\t\t\t0\n\t\t)\n)\n\nexport const selectPublisherStatsByType = createSelector(\n\t(state, type) => selectAdvancedAnalyticsByType(state, type),\n\t({ publisherStats }) => publisherStats || {}\n)\nexport const selectPublisherStatsByCountry = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToCountry }) => reportPublisherToCountry || {}\n)\n\nexport const selectPublisherPayStatsByCountry = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToCountryPay }) => reportPublisherToCountryPay || {}\n)\n\nexport const selectPublisherStatsAdUnit = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToAdUnit }) => reportPublisherToAdUnit || {}\n)\n\nexport const selectPublisherStatsAdUnitPay = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToAdUnitPay }) => reportPublisherToAdUnitPay || {}\n)\n\nexport const selectPublisherStatsAdSlot = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToAdSlot }) => reportPublisherToAdSlot || {}\n)\n\nexport const selectPublisherStatsAdSlotPay = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToAdSlotPay }) => reportPublisherToAdSlotPay || {}\n)\n\nexport const selectPublisherAggrStatsByCountry = createSelector(\n\t(state, type) => selectPublisherStatsByCountry(state, type),\n\t(byCountry = {}) => ({\n\t\tmax: Math.max.apply(null, Object.values(byCountry)),\n\t\ttotal: Object.values(byCountry).reduce(\n\t\t\t(a, value) => a + (Number(value) || 0),\n\t\t\t0\n\t\t),\n\t})\n)\n\nexport const selectAllAdUnitsInChannels = createSelector(\n\tstate => selectChannelsWithUserBalancesAll(state),\n\twithBalanceAll =>\n\t\tObject.values(withBalanceAll).reduce((units, { adUnits = [] } = {}) => {\n\t\t\tadUnits.forEach(u => {\n\t\t\t\tconst id = u.id || u.ipfs\n\t\t\t\tif (id && !units[id]) {\n\t\t\t\t\tunits[id] = { ...u, id }\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn units\n\t\t}, {})\n)\n\nexport const selectPublisherAdvanceStatsToAdUnit = createSelector(\n\tstate => [\n\t\tselectAllAdUnitsInChannels(state),\n\t\tselectPublisherStatsAdUnit(state, 'IMPRESSION'),\n\t\tselectPublisherStatsAdUnit(state, 'CLICK'),\n\t\tselectPublisherStatsAdUnitPay(state, 'IMPRESSION'),\n\t\tselectPublisherStatsAdUnitPay(state, 'CLICK'),\n\t],\n\t([\n\t\tadUnits,\n\t\timpressionsByAdUnit,\n\t\tclicksByAdUnit,\n\t\timpressionsPayByAdUnit,\n\t\tclicksPayByAdUnit,\n\t]) =>\n\t\tObject.values(adUnits)\n\t\t\t.filter(i => impressionsByAdUnit[i.id] !== undefined)\n\t\t\t.map(item => ({\n\t\t\t\t...item,\n\t\t\t\timpressions: impressionsByAdUnit[item.id],\n\t\t\t\tclicks: clicksByAdUnit[item.id],\n\t\t\t\timpressionsPay: Number(impressionsPayByAdUnit[item.id] || 0),\n\t\t\t\tclicksPay: Number(clicksPayByAdUnit[item.id] || 0),\n\t\t\t}))\n)\n\nexport const selectPublisherAdvanceStatsToAdSlot = createSelector(\n\tstate => [\n\t\tselectPublisherStatsAdSlot(state, 'IMPRESSION'),\n\t\tselectPublisherStatsAdSlot(state, 'CLICK'),\n\t\tselectPublisherStatsAdSlotPay(state, 'IMPRESSION'),\n\t\tselectPublisherStatsAdSlotPay(state, 'CLICK'),\n\t],\n\t([\n\t\timpressionsByAdSlot,\n\t\tclicksByAdSlot,\n\t\timpressionsPayByAdSlot,\n\t\tclicksPayByAdSlot,\n\t]) => ({\n\t\timpressionsByAdSlot,\n\t\tclicksByAdSlot,\n\t\timpressionsPayByAdSlot,\n\t\tclicksPayByAdSlot,\n\t})\n)\n\nexport const selectPublisherTotalImpressions = createSelector(\n\tstate => selectPublisherStatsByType(state, 'IMPRESSION'),\n\t({ reportPublisherToAdUnit }) => {\n\t\tconst totalImpressions = reportPublisherToAdUnit\n\t\t\t? Object.values(reportPublisherToAdUnit).reduce(\n\t\t\t\t\t(a, value) => a + Number(value) || 0,\n\t\t\t\t\t0\n\t\t\t  )\n\t\t\t: 0\n\n\t\treturn totalImpressions\n\t}\n)\n\nexport const selectCampaignAnalyticsByChannelStats = createSelector(\n\t(state, { type, campaignId } = {}) => [\n\t\tselectAdvancedAnalyticsByType(state, type),\n\t\tcampaignId,\n\t],\n\t([analyticsByType, campaignId]) =>\n\t\t(analyticsByType.byChannelStats || {})[campaignId] || {}\n)\n\nexport const selectCampaignAnalyticsByChannelToCountry = createSelector(\n\t(state, { type, campaignId } = {}) =>\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\n\t({ reportChannelToCountry }) => reportChannelToCountry || {}\n)\n\nexport const selectCampaignAnalyticsByChannelToCountryPay = createSelector(\n\t(state, { type, campaignId } = {}) =>\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\n\t({ reportChannelToCountryPay }) => reportChannelToCountryPay || {}\n)\n\nexport const selectCampaignAggrStatsByCountry = createSelector(\n\t(state, { type, campaignId } = {}) =>\n\t\tselectCampaignAnalyticsByChannelToCountry(state, { type, campaignId }),\n\t(byCountry = {}) => ({\n\t\tmax: Math.max.apply(null, Object.values(byCountry)),\n\t\ttotal: Object.values(byCountry).reduce(\n\t\t\t(a, value) => a + (Number(value) || 0),\n\t\t\t0\n\t\t),\n\t})\n)\n\nexport const selectCampaignAnalyticsByChannelToAdUnit = createSelector(\n\t(state, { type, campaignId } = {}) =>\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\n\n\t({ reportChannelToAdUnit }) => reportChannelToAdUnit || {}\n)\n\nexport const selectMaxAdUnitStatByChannel = createSelector(\n\t(state, { type, campaignId } = {}) =>\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\n\t({ reportChannelToAdUnit }) =>\n\t\treportChannelToAdUnit\n\t\t\t? Math.max.apply(null, Object.values(reportChannelToAdUnit))\n\t\t\t: 0\n)\n\nexport const selectAnalyticsDataAggr = createSelector(\n\t[\n\t\tselectAnalytics,\n\t\tselectIdentitySideAnalyticsPeriod,\n\t\t(_, opts = {}) => opts,\n\t\tselectAnalyticsLiveTimestamp,\n\t],\n\t(\n\t\tanalytics = {},\n\t\t{ start },\n\t\t{ side, eventType, metric, timeframe },\n\t\tliveTimestamp\n\t) => {\n\t\t// return analytics[side]['eventType'][metric][timeframe].aggr\n\t\t// NOTE: It was working fine with default initial state but\n\t\t// when eventType CLICK was added if you were logged and had\n\t\t// old analytics the initialState is not applied === boom.\n\n\t\tconst {\n\t\t\t[side]: {\n\t\t\t\t[eventType]: {\n\t\t\t\t\t[metric]: {\n\t\t\t\t\t\t[timeframe]: {\n\t\t\t\t\t\t\t[liveTimestamp === start ? 'live' : start]: { aggr } = {},\n\t\t\t\t\t\t} = {},\n\t\t\t\t\t} = {},\n\t\t\t\t} = {},\n\t\t\t} = {},\n\t\t} = analytics\n\n\t\treturn aggr\n\t}\n)\n\nexport function selectCampaignEventsCount(type, campaignId) {\n\treturn Object.values(\n\t\t// TODO: fix this selector w/o using getState\n\t\tselectCampaignAnalyticsByChannelToAdUnit(getState(), {\n\t\t\ttype,\n\t\t\tcampaignId,\n\t\t})\n\t).reduce((a, b) => a + b, 0)\n}\n\nexport const selectTotalImpressions = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalClicks = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'CLICK',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalMoney = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t}),\n\teventPayouts =>\n\t\teventPayouts\n\t\t\t? eventPayouts.reduce(\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value || 0, 18)) || 0,\n\t\t\t\t\t0\n\t\t\t  )\n\t\t\t: null\n)\n\nexport const selectTotalImpressionsWithPayouts = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t}),\n\t],\n\t([eventCounts, eventPayouts]) =>\n\t\teventCounts && eventPayouts\n\t\t\t? eventCounts\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tc =>\n\t\t\t\t\t\t\t(eventPayouts.find(e => e.time === c.time) || { value: null })\n\t\t\t\t\t\t\t\t.value !== null\n\t\t\t\t\t)\n\t\t\t\t\t.reduce((a, { time, value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectAverageCPM = createSelector(\n\t[\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalMoney(state, { side, timeframe }),\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalImpressionsWithPayouts(state, { side, timeframe }),\n\t],\n\t(totalMoney, totalImpressions) =>\n\t\ttotalMoney !== null && totalImpressions !== null\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\n\t\t\t: null\n)\n\nconst parseValueByMetric = ({ value, metric }) => {\n\tswitch (metric) {\n\t\tcase 'eventPayouts':\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\n\t\tcase 'eventCounts':\n\t\t\treturn parseInt(value, 10)\n\t\tdefault:\n\t\t\treturn value\n\t}\n}\n\nexport const selectStatsChartData = createSelector(\n\t[\n\t\t(state, { noLastOne, ...rest } = {}) => {\n\t\t\treturn { data: selectAnalyticsDataAggr(state, rest), noLastOne, ...rest }\n\t\t},\n\t],\n\t({ data = [], noLastOne, metric, ...rest }) => {\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\n\t\treturn aggr.reduce(\n\t\t\t(memo, item) => {\n\t\t\t\tconst { time, value } = item\n\t\t\t\tmemo.labels.push(formatDateTime(time))\n\t\t\t\tmemo.datasets.push(\n\t\t\t\t\tvalue !== null ? parseValueByMetric({ value, metric }) : value\n\t\t\t\t)\n\t\t\t\treturn memo\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabels: [],\n\t\t\t\tdatasets: [],\n\t\t\t}\n\t\t)\n\t}\n)\n\nexport const selectChartDatapointsImpressions = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: false,\n\t\t}),\n\t],\n\t([impressions]) => impressions\n)\n\nexport const selectChartDatapointsClicks = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'CLICK',\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: false,\n\t\t}),\n\t],\n\t([clicks]) => clicks\n)\n\nexport const selectChartDatapointsPayouts = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t\tnoLastOne: false,\n\t\t}),\n\t],\n\t([payouts]) => payouts\n)\n\nexport const selectChartDatapointsCPM = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectChartDatapointsPayouts(state, { side, timeframe }),\n\t\tselectChartDatapointsImpressions(state, { side, timeframe }),\n\t],\n\t([payouts, impressions]) => {\n\t\tconst result = {\n\t\t\tlabels: [],\n\t\t\tdatasets: [],\n\t\t}\n\t\tresult.labels = payouts.labels\n\t\tresult.datasets = payouts.datasets.map((n, i) => {\n\t\t\treturn impressions.datasets[i] !== 0\n\t\t\t\t? ((n / impressions.datasets[i]) * 1000).toFixed(6)\n\t\t\t\t: n\n\t\t})\n\t\treturn result\n\t}\n)\n\nexport const selectPublisherReceipts = createSelector(\n\t[selectAnalytics],\n\t({ receipts }) => receipts || {}\n)\n\nexport const selectPublisherReceiptsPresentMonths = createSelector(\n\t[selectPublisherReceipts],\n\treceipts => Object.keys(receipts).map(r => +r)\n)\n\nexport const selectAnalyticsNowLabel = createSelector(\n\t[selectIdentitySideAnalyticsTimeframe, selectAnalyticsLastChecked],\n\t(timeframe, lastChecked) => {\n\t\tswitch (timeframe) {\n\t\t\tcase 'hour':\n\t\t\t\treturn dateUtils.format(\n\t\t\t\t\tdateUtils.date(lastChecked),\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\n\t\t\t\t)\n\t\t\tcase 'day':\n\t\t\t\treturn dateUtils.format(\n\t\t\t\t\tdateUtils.setMinutes(dateUtils.date(lastChecked), 0),\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\n\t\t\t\t)\n\t\t\tcase 'week':\n\t\t\t\treturn dateUtils.format(\n\t\t\t\t\tdateUtils.getNearestSixHoursUTC(6, lastChecked),\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\n\t\t\t\t)\n\t\t\tdefault:\n\t\t\t\treturn dateUtils.format(dateUtils.date(), DEFAULT_DATETIME_FORMAT)\n\t\t}\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectValidations = state => state.memory.validations\n\nexport const selectValidationsById = createSelector(\n\t[selectValidations, (_, id) => id],\n\t(validations, id) => validations[id]\n)\n\nexport const selectMultipleValidationsByIds = createSelector(\n\t[selectValidations, (_, ids) => ids],\n\t(validations, ids) => ids.map(id => validations[id])\n)\n","import React from 'react'\nimport { createSelector } from 'reselect'\nimport { selectNewItemByTypeAndId, selectValidations } from 'selectors'\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\nimport { constants, IabCategories } from 'adex-models'\n\nimport { t } from './translationsSelectors'\n\nexport const selectTargeting = state => state.persist.targeting\n\nconst MIN_SLOTS_FOR_AD_TYPE = 2\nconst GLOBAL_MIN_CPM_MULTIPLIER = 0.7\n\nexport const selectTargetingAnalytics = createSelector(\n\t[selectTargeting],\n\t({ targetingData = [] }) => targetingData\n)\n\nexport const selectTargetingAnalyticsMinByCategories = createSelector(\n\t[selectTargeting],\n\t({ minByCategory = {} }) => minByCategory\n)\n\nexport const selectTargetingAnalyticsCountryTiersCoefficients = createSelector(\n\t[selectTargeting],\n\t({ countryTiersCoefficients = {} }) => countryTiersCoefficients\n)\n\nexport const selectMinTargetingCpm = createSelector(\n\t[\n\t\tselectTargetingAnalyticsMinByCategories,\n\t\tselectTargetingAnalyticsCountryTiersCoefficients,\n\t],\n\t(minByCategory, coefficients) => {\n\t\tconst minCat = Object.values(minByCategory).sort((a, b) => a - b)[0] || 0\n\t\tconst minCof = Object.values(coefficients).sort((a, b) => a - b)[0] || 0\n\t\tconst minCPM = minCat * minCof * GLOBAL_MIN_CPM_MULTIPLIER\n\n\t\treturn minCPM\n\t}\n)\n\nexport const selectVerifiedActiveTargetingAnalytics = createSelector(\n\t[selectTargetingAnalytics],\n\ttargetingAnalytics => {\n\t\tconst bySlotCount = targetingAnalytics.reduce((byType, x) => {\n\t\t\tx.types.forEach(t => {\n\t\t\t\tbyType[t] = (byType[t] || 0) + 1\n\t\t\t})\n\n\t\t\treturn byType\n\t\t}, {})\n\n\t\treturn targetingAnalytics\n\t\t\t.filter(\n\t\t\t\tx =>\n\t\t\t\t\t!!x.categories &&\n\t\t\t\t\tx.categories.length &&\n\t\t\t\t\tx.types &&\n\t\t\t\t\tx.types.length &&\n\t\t\t\t\t!!x.campaignsEarnedFrom\n\t\t\t)\n\t\t\t.map(t => ({\n\t\t\t\t...t,\n\t\t\t\ttypes: t.types.filter(x => bySlotCount[x] >= MIN_SLOTS_FOR_AD_TYPE),\n\t\t\t}))\n\t\t\t.filter(x => x.types.length)\n\t}\n)\n\nexport const selectTargetingAnalyticsCurrentlyUsedTypes = createSelector(\n\t[selectNewItemByTypeAndId],\n\titem => {\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\n\t}\n)\n\nexport const selectTargetingAnalyticsByType = createSelector(\n\t[\n\t\tselectVerifiedActiveTargetingAnalytics,\n\t\tselectTargetingAnalyticsCurrentlyUsedTypes,\n\t],\n\t(targetingAnalytics, types) => {\n\t\tconst filterByType = types && types.length\n\n\t\treturn targetingAnalytics.filter(\n\t\t\tx =>\n\t\t\t\t!filterByType || (filterByType && types.some(t => x.types.includes(t)))\n\t\t)\n\t}\n)\n\nexport const selectTargetingCategoriesByType = createSelector(\n\t[selectTargetingAnalyticsByType],\n\ttargeting =>\n\t\tArray.from(\n\t\t\ttargeting.reduce((categories, x) => {\n\t\t\t\tx.categories.forEach(c => categories.add(c))\n\t\t\t\treturn categories\n\t\t\t}, new Set())\n\t\t)\n)\n\nconst mapTargetingDataToPublishers = targetingData =>\n\tArray.from(\n\t\ttargetingData\n\t\t\t.reduce(\n\t\t\t\t(\n\t\t\t\t\tpublishers,\n\t\t\t\t\t{ owner, hostname, alexaRank, categories, reachPerMillion }\n\t\t\t\t) => {\n\t\t\t\t\tpublishers.set(hostname, {\n\t\t\t\t\t\towner,\n\t\t\t\t\t\thostname,\n\t\t\t\t\t\talexaRank,\n\t\t\t\t\t\tcategories,\n\t\t\t\t\t\treachPerMillion,\n\t\t\t\t\t})\n\t\t\t\t\treturn publishers\n\t\t\t\t},\n\t\t\t\tnew Map()\n\t\t\t)\n\t\t\t.values()\n\t)\n\nexport const selectTargetingPublishersByType = createSelector(\n\t[selectTargetingAnalyticsByType],\n\ttargeting => {\n\t\treturn mapTargetingDataToPublishers(targeting).sort((a, b) => {\n\t\t\tif (a.alexaRank && !b.alexaRank) {\n\t\t\t\treturn -1\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\n\t\t\t\treturn a.alexaRank - b.alexaRank\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\n\t\t\t\treturn 1\n\t\t\t} else {\n\t\t\t\treturn 1\n\t\t\t}\n\t\t})\n\t}\n)\n\nexport const selectTargetingCategories = createSelector(\n\t[selectTargetingAnalytics],\n\ttargeting =>\n\t\tArray.from(\n\t\t\ttargeting.reduce((categories, x) => {\n\t\t\t\tx.categories.forEach(c => categories.add(c))\n\t\t\t\treturn categories\n\t\t\t}, new Set())\n\t\t)\n)\n\n// It is used for exclusion so they are not filtered and are sorted from worst to best\nexport const selectAllTargetingPublishers = createSelector(\n\t[selectTargetingAnalytics],\n\ttargeting => {\n\t\treturn mapTargetingDataToPublishers(targeting).sort((a, b) => {\n\t\t\tif (a.alexaRank && !b.alexaRank) {\n\t\t\t\treturn 1\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\n\t\t\t\treturn a.alexaRank - b.alexaRank\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\n\t\t\t\treturn -1\n\t\t\t} else {\n\t\t\t\treturn -1\n\t\t\t}\n\t\t})\n\t}\n)\n\n// NOTE: it can be constant but we may need some dynamic data\nconst autocompleteLocationsSingleSelect = createSelector(\n\t[],\n\t() => {\n\t\tconst tiers = Object.values(constants.CountryTiers).map(\n\t\t\t({ name, ruleValue, countries } = {}) => ({\n\t\t\t\tlabel: t(name),\n\t\t\t\textraLabel: countries.join(', '),\n\t\t\t\tvalue: ruleValue,\n\t\t\t\tgroup: t('BY_TIER'),\n\t\t\t})\n\t\t)\n\t\tconst all = constants.AllCountries.map(({ name, ruleValue } = {}) => ({\n\t\t\tlabel: t(name),\n\t\t\tvalue: ruleValue,\n\t\t\tgroup: name[0].toUpperCase(),\n\t\t}))\n\n\t\treturn [...tiers, ...all]\n\t}\n)\n\nconst autocompleteCategoriesMultiSelectIn = createSelector(\n\t[selectTargetingCategoriesByType],\n\tcategories =>\n\t\t[{ label: t('ALL_CATEGORIES'), value: 'ALL' }].concat(\n\t\t\tcategories.map(cat => ({\n\t\t\t\tlabel: t(IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat),\n\t\t\t\tvalue: cat,\n\t\t\t}))\n\t\t)\n)\n\nconst autocompleteCategoriesMultiSelectNin = createSelector(\n\t[selectTargetingCategories],\n\tcategories =>\n\t\tcategories.map(cat => ({\n\t\t\tlabel: t(IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat),\n\t\t\tvalue: cat,\n\t\t}))\n)\n\nconst getPublisherExtraDataLabel = publisher => [\n\t`${t('HOSTNAME')}: ${publisher.hostname}`,\n\t`${t('ALEXA_RANK')}: ${publisher.alexaRank || '-'}`,\n\t`${t('REACH_PER_MILLION')}: ${publisher.reachPerMillion || '-'}`,\n\t`${t('CATEGORIES')}: ${(publisher.categories || [])\n\t\t.map(\n\t\t\tcat => `\"${IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat}\"`\n\t\t)\n\t\t.join(', ')}`,\n]\n\nconst autocompletePublishersMultiSelectIn = createSelector(\n\t[selectTargetingPublishersByType],\n\tpublishers =>\n\t\tpublishers.map(pub => ({\n\t\t\tlabel: pub.hostname,\n\t\t\tvalue: JSON.stringify({ hostname: pub.hostname, publisher: pub.owner }),\n\t\t\textraLabel: getPublisherExtraDataLabel(pub),\n\t\t\textraData: pub,\n\t\t}))\n)\n\nconst autocompletePublishersMultiSelectNin = createSelector(\n\t[selectAllTargetingPublishers],\n\tpublishers =>\n\t\tpublishers.map(pub => ({\n\t\t\tlabel: pub.hostname,\n\t\t\tvalue: JSON.stringify({ hostname: pub.hostname, publisher: pub.owner }),\n\t\t\textraLabel: getPublisherExtraDataLabel(pub),\n\t\t\textraData: pub,\n\t\t}))\n)\n\nexport const audienceSources = [\n\t{\n\t\tparameter: 'location',\n\t\tapplyType: 'single',\n\t\tactions: [\n\t\t\t{ type: 'in', label: t('TARGET_COUNTRIES'), minSelected: 1 },\n\t\t\t{ type: 'nin', label: t('EXCLUDED_COUNTRIES'), minSelected: 1 },\n\t\t\t{ type: 'allin', label: t('SHOW_EVERYWHERE'), value: 'ALL' },\n\t\t],\n\t\textraInfo: t('LOCATION_TIERS_INFO', {\n\t\t\targs: [\n\t\t\t\t<ExternalAnchor\n\t\t\t\t\thref={'https://help.adex.network/hc/en-us/articles/360014629020'}\n\t\t\t\t>\n\t\t\t\t\t{t('HERE')}\n\t\t\t\t</ExternalAnchor>,\n\t\t\t],\n\t\t}),\n\t},\n\t{\n\t\tparameter: 'categories',\n\t\tapplyType: 'multiple',\n\t\tactions: [\n\t\t\t{ type: 'in', label: t('SHOW_SELECTED'), minSelected: 1 },\n\t\t\t{\n\t\t\t\ttype: 'nin',\n\t\t\t\tlabel: t('DONT_SHOW_SELECTED'),\n\t\t\t\tminSelected: 1,\n\t\t\t\tdisabledValues: ['ALL'],\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tparameter: 'publishers',\n\t\tapplyType: 'single',\n\t\tactions: [\n\t\t\t{ type: 'in', label: t('SHOW_ONLY_IN_SELECTED'), minSelected: 1 },\n\t\t\t{ type: 'nin', label: t('DONT_SHOW_IN_SELECTED'), minSelected: 1 },\n\t\t\t{ type: 'allin', label: t('SHOW_EVERYWHERE'), value: 'ALL' },\n\t\t],\n\t},\n\t{\n\t\tparameter: 'advanced',\n\t\tapplyType: 'multiple-checkbox',\n\t\tactions: [\n\t\t\t{\n\t\t\t\tvalue: 'includeIncentivized',\n\t\t\t\tlabel: t('INCLUDE_INCENTIVIZED_TRAFFIC'),\n\t\t\t\thelper: (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014543380-What-is-incentivized-traffic-'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LEARN_MORE')}\n\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: 'disableFrequencyCapping',\n\t\t\t\tlabel: t('DISABLE_FREQUENCY_CAPPING'),\n\t\t\t\thelper: (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014597299-What-is-frequency-capping-'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LEARN_MORE')}\n\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: 'limitDailyAverageSpending',\n\t\t\t\tlabel: t('LIMIT_AVERAGE_DAILY_SPENDING'),\n\t\t\t\thelper: (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014597319-How-to-limit-your-average-daily-spend'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LEARN_MORE')}\n\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t),\n\t\t\t},\n\t\t],\n\t},\n]\n\nconst selectAutocompleteAudienceSources = createSelector(\n\t[\n\t\tautocompleteLocationsSingleSelect,\n\t\tautocompleteCategoriesMultiSelectIn,\n\t\tautocompleteCategoriesMultiSelectNin,\n\t\tautocompletePublishersMultiSelectIn,\n\t\tautocompletePublishersMultiSelectNin,\n\t],\n\t(locations, catIn, catNin, pubIn, pubNin) => ({\n\t\tlocation: {\n\t\t\tsingleValuesSrc: locations,\n\t\t},\n\t\tcategories: {\n\t\t\tmultipleValuesSrc: {\n\t\t\t\tin: catIn,\n\t\t\t\tnin: catNin,\n\t\t\t},\n\t\t},\n\t\tpublishers: {\n\t\t\tmultipleValuesSrc: {\n\t\t\t\tin: pubIn,\n\t\t\t\tnin: pubNin,\n\t\t\t},\n\t\t},\n\t})\n)\n\nexport const selectAudienceInputItemOptions = createSelector(\n\t[selectNewItemByTypeAndId],\n\titem => {\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\n\t}\n)\n\nconst getDisabledValues = (data, source, inputs, allSrcs) => {\n\tconst disabled = []\n\n\tif (\n\t\tdata.parameter === 'publishers' &&\n\t\tinputs.categories &&\n\t\tinputs.categories.apply &&\n\t\tinputs.categories.apply.includes('in') &&\n\t\tinputs.categories.in &&\n\t\tinputs.categories.in.length\n\t) {\n\t\tdisabled.in = inputs.categories.in.includes('ALL')\n\t\t\t? []\n\t\t\t: source\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tx =>\n\t\t\t\t\t\t\t!x.extraData.categories.some(c =>\n\t\t\t\t\t\t\t\tinputs.categories.in.includes(c)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t.map(c => c.value)\n\t} else if (\n\t\tdata.parameter === 'categories' &&\n\t\tinputs.publishers &&\n\t\tinputs.publishers.apply &&\n\t\tinputs.publishers.apply === 'in' &&\n\t\tinputs.publishers.in &&\n\t\tinputs.publishers.in.length\n\t) {\n\t\tconst selectedPublishersCategories = new Set()\n\t\tallSrcs\n\t\t\t.find(s => s.parameter === 'publishers')\n\t\t\t.source.in.forEach(p => {\n\t\t\t\tif (inputs.publishers.in.includes(p.value)) {\n\t\t\t\t\tp.extraData.categories.forEach(c =>\n\t\t\t\t\t\tselectedPublishersCategories.add(c)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t})\n\n\t\tdisabled.in = source\n\t\t\t.filter(\n\t\t\t\tc => c.value !== 'ALL' && !selectedPublishersCategories.has(c.value)\n\t\t\t)\n\t\t\t.map(c => c.value)\n\t}\n\n\treturn disabled\n}\n\nexport const selectAudienceSourcesWithOptions = createSelector(\n\t[selectAutocompleteAudienceSources],\n\tsourcesData =>\n\t\taudienceSources.map(s => {\n\t\t\tconst source = (sourcesData[s.parameter] || {}).multipleValuesSrc\n\t\t\t\t? sourcesData[s.parameter].multipleValuesSrc\n\t\t\t\t: {}\n\n\t\t\tif ((sourcesData[s.parameter] || {}).singleValuesSrc) {\n\t\t\t\ts.actions.forEach(a => {\n\t\t\t\t\tsource[a.type] = a.value || sourcesData[s.parameter].singleValuesSrc\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...s,\n\t\t\t\tsource,\n\t\t\t}\n\t\t})\n)\n\nexport const selectAudienceValidations = createSelector(\n\t[selectValidations, (_, __, ___, validateId) => validateId],\n\t(validations, id) => validations[id]\n)\n\nexport const selectAudienceInputsDataByItem = createSelector(\n\t[\n\t\tselectAudienceSourcesWithOptions,\n\t\tselectNewItemByTypeAndId,\n\t\tselectAudienceValidations,\n\t\t(_, __, ___, ____, advancedOnly) => advancedOnly,\n\t],\n\t(allSrcsWithOptions, selectedItem, validations = {}, advancedOnly) => {\n\t\tconst isCampaignAudienceItem = selectedItem && !!selectedItem.audienceInput\n\n\t\tconst errors =\n\t\t\tvalidations[isCampaignAudienceItem ? 'audienceInput' : 'inputs'] || {}\n\n\t\tconst errorParameters = errors.dirty ? errors.errFields || {} : {}\n\n\t\tconst inputs =\n\t\t\t(isCampaignAudienceItem\n\t\t\t\t? selectedItem.audienceInput.inputs\n\t\t\t\t: selectedItem.inputs) || {}\n\n\t\tconst SOURCES = allSrcsWithOptions\n\t\t\t.filter(s =>\n\t\t\t\t!!advancedOnly ? s.parameter === 'advanced' : s.parameter !== 'advanced'\n\t\t\t)\n\t\t\t.map(s => {\n\t\t\t\tconst disabledValues = getDisabledValues(\n\t\t\t\t\ts,\n\t\t\t\t\t//TODO: temp only used for in, so there is no point making it to work with other action types\n\t\t\t\t\ts.source.in,\n\t\t\t\t\tinputs,\n\t\t\t\t\tallSrcsWithOptions\n\t\t\t\t)\n\n\t\t\t\tconst source = { ...s.source }\n\t\t\t\tif (\n\t\t\t\t\t!!source.in &&\n\t\t\t\t\tsource.in.length &&\n\t\t\t\t\t!!disabledValues.in &&\n\t\t\t\t\tdisabledValues.in.length\n\t\t\t\t) {\n\t\t\t\t\tsource.in = [...source.in].sort((a, b) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tdisabledValues.in.includes(a.value) &&\n\t\t\t\t\t\t\t!disabledValues.in.includes(b.value)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn 1\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t!disabledValues.in.includes(a.value) &&\n\t\t\t\t\t\t\tdisabledValues.in.includes(b.value)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn -1\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn 0\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\t...s,\n\t\t\t\t\tsource,\n\t\t\t\t\tdisabledValues,\n\t\t\t\t}\n\t\t\t})\n\n\t\tconst audienceInputData = { SOURCES, inputs, errorParameters }\n\n\t\treturn audienceInputData\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectNewTransactions = state => state.memory.newTransactions\n\nexport const selectNewTransactionById = createSelector(\n\t[selectNewTransactions, (_, id) => id],\n\t(txns, id) => txns[id] || {}\n)\n","import { createSelector } from 'reselect'\nimport {\n\tt,\n\tselectCampaignsArray,\n\tselectRoutineWithdrawTokens,\n\tselectAdSlotsArray,\n\tselectAdUnits,\n\tcreatArrayOnlyLengthChangeSelector,\n\tselectCampaignAnalyticsByChannelStats,\n\tselectCampaignEventsCount,\n\tselectCampaignAnalyticsByChannelToAdUnit,\n\tselectTotalStatsByAdUnits,\n\tselectCampaignUnitsById,\n\tselectMainToken,\n\tselectAnalytics,\n\tselectPublisherAdvanceStatsToAdUnit,\n\tselectPublisherStatsByCountry,\n\tselectCampaignAnalyticsByChannelToCountry,\n\tselectCampaignAnalyticsByChannelToCountryPay,\n\tselectPublisherAggrStatsByCountry,\n\tselectCampaignAggrStatsByCountry,\n\tselectPublisherPayStatsByCountry,\n\tselectPublisherAdvanceStatsToAdSlot,\n\tselectSavedAudiences,\n\tselectAudienceByCampaignId,\n\tselectCampaignById,\n} from 'selectors'\nimport { formatUnits } from 'ethers/utils'\nimport chartCountriesData from 'world-atlas/countries-50m.json'\nimport { scaleLinear } from 'd3-scale'\nimport { formatAbbrNum } from 'helpers/formatters'\nimport {\n\tPRIMARY_DARKEST,\n\tPRIMARY_LIGHTEST,\n\tSECONDARY,\n\tSECONDARY_LIGHT,\n} from 'components/App/themeMUi'\nimport { grey } from '@material-ui/core/colors'\nimport { constants } from 'adex-models'\nimport { number } from 'prop-types'\nconst { CountryNames, numericToAlpha2 } = constants\n\nexport const selectCampaignsTableData = createSelector(\n\t[selectCampaignsArray, selectRoutineWithdrawTokens, (_, side) => side],\n\t(campaigns, tokens, side) =>\n\t\tcampaigns\n\t\t\t.filter(x => !x.archived)\n\t\t\t.map(item => {\n\t\t\t\tconst { decimals = 18 } = tokens[item.depositAsset] || {}\n\t\t\t\tconst { id, spec = {}, adUnits = [] } = item\n\n\t\t\t\tconst firstUnit = adUnits[0] || {}\n\n\t\t\t\tconst to = `/dashboard/${side}/campaigns/${id}`\n\t\t\t\tconst toReceipt = `/dashboard/${side}/receipt/${id}`\n\n\t\t\t\treturn {\n\t\t\t\t\tmedia: {\n\t\t\t\t\t\tside,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tmediaUrl: firstUnit.mediaUrl || '',\n\t\t\t\t\t\tmediaMime: firstUnit.mediaMime || '',\n\t\t\t\t\t\tto,\n\t\t\t\t\t},\n\t\t\t\t\ttitle: item.title,\n\t\t\t\t\tstatus: {\n\t\t\t\t\t\thumanFriendlyName: item.status.humanFriendlyName,\n\t\t\t\t\t\toriginalName: item.status.name,\n\t\t\t\t\t},\n\t\t\t\t\tdepositAmount: Number(\n\t\t\t\t\t\tformatUnits(item.depositAmount || '0', decimals)\n\t\t\t\t\t),\n\t\t\t\t\tfundsDistributedRatio: item.status.fundsDistributedRatio || 0,\n\t\t\t\t\timpressions: selectCampaignEventsCount('IMPRESSION', id),\n\t\t\t\t\tclicks: selectCampaignEventsCount('CLICK', id),\n\n\t\t\t\t\tctr:\n\t\t\t\t\t\t(selectCampaignEventsCount('CLICK', id) /\n\t\t\t\t\t\t\tselectCampaignEventsCount('IMPRESSION', id)) *\n\t\t\t\t\t\t\t100 || 0,\n\n\t\t\t\t\tminPerImpression: {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tminPerImpression:\n\t\t\t\t\t\t\tNumber(\n\t\t\t\t\t\t\t\tformatUnits(\n\t\t\t\t\t\t\t\t\tspec.minPerImpression || item.minPerImpression || '0',\n\t\t\t\t\t\t\t\t\tdecimals\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) * 1000,\n\t\t\t\t\t},\n\t\t\t\t\tcreated: item.created,\n\t\t\t\t\tactiveFrom: spec.activeFrom || item.activeFrom,\n\t\t\t\t\twithdrawPeriodStart:\n\t\t\t\t\t\tspec.withdrawPeriodStart || item.withdrawPeriodStart,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tside,\n\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tto,\n\t\t\t\t\t\ttoReceipt,\n\t\t\t\t\t\treceiptReady:\n\t\t\t\t\t\t\t(item.status.humanFriendlyName === 'Closed' ||\n\t\t\t\t\t\t\t\titem.status.humanFriendlyName === 'Completed') &&\n\t\t\t\t\t\t\t(item.status.name === 'Exhausted' ||\n\t\t\t\t\t\t\t\titem.status.name === 'Expired'),\n\t\t\t\t\t},\n\t\t\t\t\tid,\n\t\t\t\t\treceiptAvailable:\n\t\t\t\t\t\titem.status.humanFriendlyName === 'Closed' ||\n\t\t\t\t\t\titem.status.humanFriendlyName === 'Completed',\n\t\t\t\t}\n\t\t\t})\n)\n\nexport const selectCampaignsTableDataOnLengthChange = creatArrayOnlyLengthChangeSelector(\n\tselectCampaignsTableData,\n\tdata => data\n)\n\nexport const selectCampaignsMaxImpressions = createSelector(\n\tselectCampaignsArray,\n\tcampaigns =>\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.impressions || 0))) || 1\n)\n\nexport const selectCampaignsMaxClicks = createSelector(\n\tselectCampaignsArray,\n\tcampaigns =>\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.clicks || 0))) || 1\n)\n\nexport const selectCampaignsMaxDeposit = createSelector(\n\t[selectCampaignsArray, selectRoutineWithdrawTokens],\n\t(campaigns, tokens) =>\n\t\tMath.max.apply(\n\t\t\tnull,\n\t\t\tcampaigns.map(i => {\n\t\t\t\tconst { decimals = 18 } = tokens[i.depositAsset] || {}\n\t\t\t\treturn Number(formatUnits(i.depositAmount, decimals) || 0)\n\t\t\t})\n\t\t)\n)\n\nexport const selectAdSlotsTableData = createSelector(\n\t[selectAdSlotsArray, selectPublisherAdvanceStatsToAdSlot, (_, side) => side],\n\t(\n\t\tslots,\n\t\t{\n\t\t\timpressionsByAdSlot,\n\t\t\tclicksByAdSlot,\n\t\t\timpressionsPayByAdSlot,\n\t\t\tclicksPayByAdSlot,\n\t\t},\n\t\tside\n\t) =>\n\t\tslots\n\t\t\t.filter(x => !x.archived)\n\t\t\t.map(item => {\n\t\t\t\tconst id = item.id || item.ipfs\n\t\t\t\tconst to = `/dashboard/${side}/slots/${id}`\n\n\t\t\t\tconst { title, mediaUrl, mediaMime, type, created } = item\n\n\t\t\t\tconst clicks = clicksByAdSlot[id]\n\t\t\t\tconst impressions = impressionsByAdSlot[id]\n\t\t\t\treturn {\n\t\t\t\t\tmedia: {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tmediaUrl,\n\t\t\t\t\t\tmediaMime,\n\t\t\t\t\t\tto,\n\t\t\t\t\t},\n\t\t\t\t\ttitle: title,\n\t\t\t\t\ttype: type.replace('legacy_', ''),\n\t\t\t\t\tcreated: created,\n\t\t\t\t\timpressions,\n\t\t\t\t\tclicks,\n\t\t\t\t\tctr: ((clicks || 0) / (impressions || 1)) * 100,\n\t\t\t\t\tearnings:\n\t\t\t\t\t\tNumber(impressionsPayByAdSlot[id] || 0) +\n\t\t\t\t\t\tNumber(clicksPayByAdSlot[id] || 0),\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tto,\n\t\t\t\t\t\titem,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t})\n)\n\nexport const selectAdUnitsTableData = createSelector(\n\t[\n\t\t(state, { side, campaignId, items }) => {\n\t\t\tconst selectOnImage = !!items\n\t\t\treturn {\n\t\t\t\tselectOnImage,\n\t\t\t\tside,\n\t\t\t\titems:\n\t\t\t\t\titems ||\n\t\t\t\t\t(campaignId\n\t\t\t\t\t\t? selectCampaignUnitsById(state, campaignId)\n\t\t\t\t\t\t: selectAdUnits(state)),\n\t\t\t\timpressionsByAdUnit: id =>\n\t\t\t\t\tcampaignId\n\t\t\t\t\t\t? selectCampaignAnalyticsByChannelToAdUnit(state, {\n\t\t\t\t\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\t\t\t\t\tcampaignId,\n\t\t\t\t\t\t  })[id]\n\t\t\t\t\t\t: selectTotalStatsByAdUnits(state, {\n\t\t\t\t\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\t\t\t\t\tadUnitId: id,\n\t\t\t\t\t\t  }),\n\t\t\t\tclicksByAdUnit: id =>\n\t\t\t\t\tcampaignId\n\t\t\t\t\t\t? selectCampaignAnalyticsByChannelToAdUnit(state, {\n\t\t\t\t\t\t\t\ttype: 'CLICK',\n\t\t\t\t\t\t\t\tcampaignId,\n\t\t\t\t\t\t  })[id]\n\t\t\t\t\t\t: selectTotalStatsByAdUnits(state, {\n\t\t\t\t\t\t\t\ttype: 'CLICK',\n\t\t\t\t\t\t\t\tadUnitId: id,\n\t\t\t\t\t\t  }),\n\t\t\t}\n\t\t},\n\t],\n\t({ selectOnImage, side, items, impressionsByAdUnit, clicksByAdUnit }) =>\n\t\tObject.values(items)\n\t\t\t.filter(x => !x.archived)\n\t\t\t.map(item => {\n\t\t\t\tconst id = item.id || item.ipfs\n\t\t\t\tconst to = `/dashboard/${side}/units/${id}`\n\t\t\t\tconst { title, mediaUrl, mediaMime, type, created } = item\n\n\t\t\t\treturn {\n\t\t\t\t\tid,\n\t\t\t\t\tmedia: {\n\t\t\t\t\t\tselectOnImage,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tmediaUrl,\n\t\t\t\t\t\tmediaMime,\n\t\t\t\t\t\tto,\n\t\t\t\t\t},\n\t\t\t\t\timpressions: impressionsByAdUnit(id) || 0,\n\t\t\t\t\tclicks: clicksByAdUnit(id) || 0,\n\t\t\t\t\tctr: (clicksByAdUnit(id) / impressionsByAdUnit(id)) * 100 || 0,\n\t\t\t\t\ttitle,\n\t\t\t\t\ttype,\n\t\t\t\t\tcreated,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tto,\n\t\t\t\t\t\titem,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t})\n)\n\nexport const selectAudiencesTableData = createSelector(\n\t[selectSavedAudiences],\n\taudiences =>\n\t\taudiences\n\t\t\t.filter(x => !x.archived)\n\t\t\t.map(item => {\n\t\t\t\tconst { id, title, inputs, version, created, updated } = item\n\n\t\t\t\tconst to = `/dashboard/advertiser/audiences/${id}`\n\n\t\t\t\treturn {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\ttitle: title || id,\n\t\t\t\t\t\tto,\n\t\t\t\t\t},\n\t\t\t\t\tcreated,\n\t\t\t\t\tupdated,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\taudienceInput: { inputs, version },\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tto: `/dashboard/advertiser/audiences/${id}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t})\n)\n\nconst mapByCountryTableData = ({\n\timpressionsByCountry,\n\tclicksByCountry,\n\timpressionsAggrByCountry,\n\timpressionsPayByCountry,\n\tclicksPayByCountry,\n} = {}) => {\n\tconst addEarnings = impressionsPayByCountry && clicksPayByCountry\n\t// NOTE: assume that there are no click without impressions\n\treturn Object.keys(impressionsByCountry).map(key => {\n\t\treturn {\n\t\t\tcountryName: CountryNames[key],\n\t\t\timpressions: impressionsByCountry[key] || 0,\n\t\t\tpercentImpressions:\n\t\t\t\t((impressionsByCountry[key] || 0) /\n\t\t\t\t\t(impressionsAggrByCountry.total || 1)) *\n\t\t\t\t100,\n\t\t\tclicks: clicksByCountry[key] || 0,\n\n\t\t\tctr:\n\t\t\t\t((clicksByCountry[key] || 0) / (impressionsByCountry[key] || 1)) * 100,\n\t\t\t...(addEarnings && {\n\t\t\t\tearnings:\n\t\t\t\t\t(impressionsPayByCountry[key] || 0) + (clicksPayByCountry[key] || 0),\n\t\t\t\taverageCPM:\n\t\t\t\t\t(Number(impressionsPayByCountry[key] || 0) /\n\t\t\t\t\t\tNumber(impressionsByCountry[key] || 1)) *\n\t\t\t\t\t1000,\n\t\t\t}),\n\t\t}\n\t})\n}\n\nexport const selectPublisherStatsByCountryData = createSelector(\n\t[\n\t\tstate => selectPublisherStatsByCountry(state, 'IMPRESSION'),\n\t\tstate => selectPublisherStatsByCountry(state, 'CLICK'),\n\t\tstate => selectPublisherAggrStatsByCountry(state, 'IMPRESSION'),\n\t\tstate => selectPublisherPayStatsByCountry(state, 'IMPRESSION'),\n\t\tstate => selectPublisherPayStatsByCountry(state, 'CLICK'),\n\t],\n\t(\n\t\timpressionsByCountry,\n\t\tclicksByCountry,\n\t\timpressionsAggrByCountry,\n\t\timpressionsPayByCountry,\n\t\tclicksPayByCountry\n\t) => ({\n\t\timpressionsByCountry,\n\t\tclicksByCountry,\n\t\timpressionsAggrByCountry,\n\t\timpressionsPayByCountry,\n\t\tclicksPayByCountry,\n\t})\n)\n\nexport const selectCampaignAnalyticsToCountryData = createSelector(\n\t(state, { campaignId }) => {\n\t\treturn [\n\t\t\tselectCampaignAnalyticsByChannelToCountry(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tselectCampaignAnalyticsByChannelToCountry(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tselectCampaignAggrStatsByCountry(state, {\n\t\t\t\tcampaignId,\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t}),\n\t\t\tselectCampaignAnalyticsByChannelToCountryPay(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tselectCampaignAnalyticsByChannelToCountryPay(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t]\n\t},\n\t([\n\t\timpressionsByCountry,\n\t\tclicksByCountry,\n\t\timpressionsAggrByCountry,\n\t\timpressionsPayByCountry,\n\t\tclicksPayByCountry,\n\t]) => {\n\t\treturn {\n\t\t\timpressionsByCountry,\n\t\t\tclicksByCountry,\n\t\t\timpressionsAggrByCountry,\n\t\t\timpressionsPayByCountry,\n\t\t\tclicksPayByCountry,\n\t\t}\n\t}\n)\n\nexport const selectPublisherStatsByCountryTableData = createSelector(\n\tselectPublisherStatsByCountryData,\n\tdata => mapByCountryTableData(data)\n)\n\nexport const selectCampaignAnalyticsToCountryTableData = createSelector(\n\t[\n\t\t(state, { campaignId }) => {\n\t\t\treturn selectCampaignAnalyticsToCountryData(state, { campaignId })\n\t\t},\n\t],\n\tdata => mapByCountryTableData(data)\n)\n\nconst mapByCountryMapChartData = ({\n\timpressionsByCountry,\n\tclicksByCountry,\n\timpressionsAggrByCountry,\n} = {}) => {\n\tconst colorScale = scaleLinear()\n\t\t.domain([0, impressionsAggrByCountry.max])\n\t\t.range([PRIMARY_LIGHTEST, PRIMARY_DARKEST])\n\n\tconst hoverColor = SECONDARY\n\tconst pressedColor = SECONDARY_LIGHT\n\tconst chartData = { ...chartCountriesData }\n\n\tchartData.objects.countries.geometries = chartCountriesData.objects.countries.geometries.map(\n\t\tdata => {\n\t\t\tconst id = numericToAlpha2(data.id)\n\t\t\tconst impressions = impressionsByCountry[id] || 0\n\t\t\tconst clicks = clicksByCountry[id] || 0\n\t\t\tconst name = CountryNames[id] || data.name\n\t\t\tconst percentImpressions =\n\t\t\t\t((impressions || 0) / impressionsAggrByCountry.total) * 100 || 0\n\t\t\tconst ctr = ((clicks || 0) / (impressions || 1)) * 100 || 0\n\t\t\tconst tooltipElements = [\n\t\t\t\t`${name}:`,\n\t\t\t\t`${t('LABEL_IMPRESSIONS')}: ${formatAbbrNum(impressions, 2)}`,\n\t\t\t\t`${t('LABEL_CLICKS')}: ${formatAbbrNum(clicks, 2)}`,\n\t\t\t\t`${t('LABEL_PERC')}: ${percentImpressions.toFixed(2)} %`,\n\t\t\t\t`${t('LABEL_CTR')}: ${ctr.toFixed(4)} %`,\n\t\t\t]\n\n\t\t\tconst fillColor = impressions > 0 ? colorScale(impressions) : grey[400]\n\n\t\t\tconst properties = {\n\t\t\t\tname,\n\t\t\t\tfillColor,\n\t\t\t\ttooltipElements,\n\t\t\t}\n\n\t\t\treturn { ...data, properties }\n\t\t}\n\t)\n\n\treturn { chartData, hoverColor, pressedColor }\n}\n\nexport const selectPublisherStatsByCountryMapChartData = createSelector(\n\t[selectPublisherStatsByCountryData],\n\tdata => mapByCountryMapChartData(data)\n)\n\nexport const selectCampaignAnalyticsToCountryMapChartData = createSelector(\n\t[\n\t\t(state, { campaignId }) =>\n\t\t\tselectCampaignAnalyticsToCountryData(state, { campaignId }),\n\t],\n\tdata => mapByCountryMapChartData(data)\n)\n\nexport const selectBestEarnersTableData = createSelector(\n\tselectPublisherAdvanceStatsToAdUnit,\n\titems =>\n\t\titems.map(item => {\n\t\t\tconst {\n\t\t\t\tid,\n\t\t\t\tmediaUrl,\n\t\t\t\tmediaMime,\n\t\t\t\ttype,\n\t\t\t\timpressions,\n\t\t\t\tclicks,\n\t\t\t\timpressionsPay,\n\t\t\t\tclicksPay,\n\t\t\t} = item\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\tmedia: {\n\t\t\t\t\tid,\n\t\t\t\t\tmediaUrl,\n\t\t\t\t\tmediaMime,\n\t\t\t\t},\n\t\t\t\ttype,\n\t\t\t\timpressions,\n\t\t\t\tclicks,\n\t\t\t\tctr: ((clicks || 0) / (impressions || 1)) * 100,\n\t\t\t\tearnings: impressionsPay + clicksPay,\n\t\t\t}\n\t\t})\n)\n\nexport const selectCampaignStatsTableData = createSelector(\n\t[\n\t\tselectAudienceByCampaignId,\n\t\t(state, campaignId) => {\n\t\t\treturn {\n\t\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\t\tcampaignId,\n\t\t\t\t}),\n\t\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\t\ttype: 'CLICK',\n\t\t\t\t\tcampaignId,\n\t\t\t\t}),\n\t\t\t}\n\t\t},\n\t],\n\t(campaignAudienceInput, { impressions, clicks }) => {\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\n\t\tconst earnStats = impressions.reportChannelToHostnamePay || {}\n\n\t\tconst rules = campaignAudienceInput\n\t\t\t? campaignAudienceInput.inputs.publishers\n\t\t\t: null\n\n\t\treturn Object.keys(imprStats).map(key => ({\n\t\t\tisBlacklisted:\n\t\t\t\trules &&\n\t\t\t\t((rules.apply === 'nin' &&\n\t\t\t\t\t(rules.nin || []).some(x => x.includes(key))) ||\n\t\t\t\t\t(rules.apply === 'ni' &&\n\t\t\t\t\t\t!(rules.in || []).some(x => x.includes(key)))),\n\n\t\t\twebsite: key,\n\t\t\timpressions: imprStats[key] || 0,\n\t\t\tctr: ((clickStats[key] || 0) / (imprStats[key] || 1)) * 100,\n\t\t\tearnings: Number(earnStats[key] || 0),\n\t\t\taverageCPM:\n\t\t\t\t(Number(earnStats[key] || 0) / Number(imprStats[key] || 1)) * 1000,\n\t\t\tclicks: clickStats[key] || 0,\n\t\t}))\n\t}\n)\n\nexport const selectCampaignTotalValues = createSelector(\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\t\t\t\tnewResult.totalClicks += current.clicks\n\t\t\t\tnewResult.totalImpressions += current.impressions\n\t\t\t\tnewResult.totalEarnings += current.earnings\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ totalClicks: 0, totalImpressions: 0, totalEarnings: 0 }\n\t\t)\n)\n\nexport const selectCampaignStatsMaxValues = createSelector(\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\n\t\t\t\tnewResult.maxImpressions = Math.max(\n\t\t\t\t\tcurrent.impressions,\n\t\t\t\t\tnewResult.maxImpressions\n\t\t\t\t)\n\t\t\t\tnewResult.maxEarnings = Math.max(\n\t\t\t\t\tcurrent.earnings,\n\t\t\t\t\tnewResult.maxEarnings\n\t\t\t\t)\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxEarnings: 0, maxCTR: 0 }\n\t\t)\n)\n\nexport const selectAdUnitsStatsMaxValues = createSelector(\n\t(state, { side, items, campaignId }) =>\n\t\tselectAdUnitsTableData(state, { side, items, campaignId }),\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\n\t\t\t\tnewResult.maxImpressions = Math.max(\n\t\t\t\t\tcurrent.impressions,\n\t\t\t\t\tnewResult.maxImpressions\n\t\t\t\t)\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxCTR: 0 }\n\t\t)\n)\n\nexport const selectPublisherReceiptsStatsByMonthTableData = createSelector(\n\t[selectAnalytics, selectMainToken, (_, date) => date],\n\t({ receipts }, token, date) => {\n\t\tconst result = []\n\t\tif (receipts && receipts[date]) {\n\t\t\tconst { decimals = 18 } = token || {}\n\t\t\tfor (let [key, value] of Object.entries(receipts[date])) {\n\t\t\t\tresult.push({\n\t\t\t\t\timpressions: value.impressions,\n\t\t\t\t\tpayouts: Number(formatUnits(value.payouts || '0', decimals)),\n\t\t\t\t\tdate: +key,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\treturn result\n\t}\n)\n\nexport const selectPublisherReceiptsStatsByMonthTotalValues = createSelector(\n\t[selectPublisherReceiptsStatsByMonthTableData],\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\t\t\t\tnewResult.totalPayouts += +current.payouts\n\t\t\t\tnewResult.totalImpressions += +current.impressions\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ totalPayouts: 0, totalImpressions: 0 }\n\t\t)\n)\n","import { createSelector } from 'reselect'\nimport { t, selectCampaignAnalyticsByChannelStats } from 'selectors'\n\nexport const selectCampaignDoughnutStats = createSelector(\n\t(state, { campaignId, chartColors, maxDataSets }) => {\n\t\tconst analytics = {\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t}\n\n\t\treturn { ...analytics, chartColors, maxDataSets }\n\t},\n\t({ impressions, clicks, chartColors, maxDataSets }) => {\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\n\n\t\tconst { labels, impressionsData, clicksData } = Object.keys(imprStats)\n\t\t\t.sort((a, b) => imprStats[b] - imprStats[a])\n\t\t\t.reduce(\n\t\t\t\t(data, key, i) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tif (i < maxDataSets) {\n\t\t\t\t\t\tnewData.labels.push(key)\n\t\t\t\t\t\tnewData.impressionsData.push(imprStats[key] || 0)\n\t\t\t\t\t\tdata.clicksData.push(clickStats[key] || 0)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata.labels[maxDataSets] = t('PIE_CHART_OTHER')\n\n\t\t\t\t\t\tdata.impressionsData[maxDataSets] =\n\t\t\t\t\t\t\t(data.impressionsData[maxDataSets] || 0) + (imprStats[key] || 0)\n\n\t\t\t\t\t\tdata.clicksData[maxDataSets] =\n\t\t\t\t\t\t\t(data.clicksData[maxDataSets] || 0) + (clickStats[key] || 0)\n\t\t\t\t\t}\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{ labels: [], impressionsData: [], clicksData: [] }\n\t\t\t)\n\n\t\tconst data = {\n\t\t\tlabels,\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: chartColors,\n\t\t\t\t\thoverBackgroundColor: chartColors,\n\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\tdata: impressionsData,\n\t\t\t\t\tlabel: t('CHART_LABEL_IMPRESSIONS'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: chartColors,\n\t\t\t\t\thoverBackgroundColor: chartColors,\n\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\tdata: clicksData,\n\t\t\t\t\tlabel: t('CHART_LABEL_CLICKS'),\n\t\t\t\t},\n\t\t\t],\n\t\t}\n\n\t\treturn data\n\t}\n)\n","import { bigNumberify, formatUnits } from 'ethers/utils'\nimport {\n\tt,\n\tselectDemandAnalytics,\n\tselectMainToken,\n\tselectWebsitesArray,\n\tselectVerifiedActiveTargetingAnalytics,\n} from 'selectors'\nimport { createSelector } from 'reselect'\nimport { constants } from 'adex-models'\nimport { WHERE_YOU_KNOW_US } from 'constants/misc'\nimport moment from 'moment'\n\nexport const selectSlotTypesSourceWithDemands = createSelector(\n\t[selectDemandAnalytics, selectMainToken],\n\t(demand, { symbol }) => {\n\t\tconst { source } = constants.AdUnitsTypes.map(type => {\n\t\t\treturn {\n\t\t\t\tvalue: type,\n\t\t\t\tlabel: type.split('_')[1],\n\t\t\t\tdemand: demand[type],\n\t\t\t}\n\t\t})\n\t\t\t.sort((a, b) => {\n\t\t\t\tconst dA = bigNumberify(a.demand ? a.demand.raw.avgCPM : 0)\n\t\t\t\tconst dB = bigNumberify(b.demand ? b.demand.raw.avgCPM : 0)\n\n\t\t\t\treturn dA.gt(dB) ? -1 : dB.gt(dA) ? 1 : 0\n\t\t\t})\n\t\t\t.reduce(\n\t\t\t\t(data, type, index) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tconst source = newData.source\n\t\t\t\t\tconst current = type\n\t\t\t\t\tif (index === 0 && type.demand) {\n\t\t\t\t\t\tnewData.hasPopularGroup = true\n\t\t\t\t\t\tsource.push({ group: t('POPULAR_SLOTS_TYPES') })\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\t!newData.hasNoDemandGroup &&\n\t\t\t\t\t\tnewData.hasPopularGroup &&\n\t\t\t\t\t\tindex !== 0 &&\n\t\t\t\t\t\t!type.demand\n\t\t\t\t\t) {\n\t\t\t\t\t\tnewData.hasNoDemandGroup = true\n\t\t\t\t\t\tsource.push({ group: t('NO_DEMAND_SLOTS_TYPES') })\n\t\t\t\t\t}\n\n\t\t\t\t\tif (current.demand) {\n\t\t\t\t\t\tconst demandIfo = t('SLOT_TYPE_DEMAND_INFO', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.avgCPM,\n\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.totalVolume,\n\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})\n\t\t\t\t\t\tcurrent.label = `${current.label} (${demandIfo})`\n\t\t\t\t\t}\n\t\t\t\t\tsource.push(current)\n\n\t\t\t\t\tnewData.source = source\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{ source: [], hasPopularGroup: false, hasNoDemandGroup: false }\n\t\t\t)\n\t\treturn source\n\t}\n)\n\nexport const selectVerifiedActiveTypes = createSelector(\n\t[selectVerifiedActiveTargetingAnalytics, selectMainToken],\n\t(targetingAnalytics, { decimals }) => {\n\t\tconst verified = targetingAnalytics.reduce((types, data) => {\n\t\t\tdata.types.forEach(t => {\n\t\t\t\tconst typeData = types.get(t) || {\n\t\t\t\t\tbyOwner: {},\n\t\t\t\t\tminSlotCount: 1,\n\t\t\t\t}\n\n\t\t\t\ttypeData.byOwner[data.owner] = typeData.byOwner[data.owner] || {}\n\t\t\t\t// As totalEarned is by owner we need it once\n\t\t\t\ttypeData.byOwner[data.owner].revenue =\n\t\t\t\t\ttypeData.byOwner[data.owner].revenue || data.totalEarned || '0'\n\n\t\t\t\ttypeData.byOwner[data.owner].campaignsEarnedFrom =\n\t\t\t\t\ttypeData.byOwner[data.owner].campaignsEarnedFrom ||\n\t\t\t\t\tdata.campaignsEarnedFrom ||\n\t\t\t\t\t1\n\t\t\t\ttypes.set(t, typeData)\n\t\t\t})\n\n\t\t\treturn types\n\t\t}, new Map())\n\n\t\tverified.forEach((value, key) => {\n\t\t\tconst totalRevenue = Object.values(value.byOwner).reduce(\n\t\t\t\t(total, r = {}) => total.add(bigNumberify(r.revenue || '0')),\n\t\t\t\tbigNumberify('0')\n\t\t\t)\n\n\t\t\tverified.set(key, {\n\t\t\t\trevenue: parseFloat(formatUnits(totalRevenue.toString(), decimals)),\n\t\t\t})\n\t\t})\n\n\t\treturn verified\n\t}\n)\n\nexport const selectUnitTypesSourceWithRecommendations = createSelector(\n\t[selectVerifiedActiveTypes, selectMainToken],\n\t(verifiedTypes, { symbol } = {}) => {\n\t\tconst totoShare = Array.from(verifiedTypes.values()).reduce(\n\t\t\t(total, { revenue = 0 }) => total + revenue,\n\t\t\t1\n\t\t)\n\n\t\tconst { source } = constants.AdUnitsTypes.map(type => ({\n\t\t\tvalue: type,\n\n\t\t\trevenue: (verifiedTypes.get(type) || {}).revenue || 0,\n\t\t}))\n\t\t\t.sort((a, b) => {\n\t\t\t\treturn b.revenue - a.revenue\n\t\t\t})\n\t\t\t.reduce(\n\t\t\t\t(data, type, index) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tconst source = newData.source\n\t\t\t\t\tconst { revenue, ...typeRest } = type\n\t\t\t\t\tconst current = { ...typeRest }\n\t\t\t\t\tcurrent.label = current.value.split('_')[1]\n\t\t\t\t\tif (index === 0 && revenue > 0) {\n\t\t\t\t\t\tnewData.hasPopularGroup = true\n\t\t\t\t\t\tsource.push({ group: t('MOST_POPULAR_UNITS_TYPES') })\n\t\t\t\t\t}\n\n\t\t\t\t\tconst share = revenue / totoShare\n\t\t\t\t\tif (\n\t\t\t\t\t\t!newData.hasLessPopularGroup &&\n\t\t\t\t\t\tnewData.hasPopularGroup &&\n\t\t\t\t\t\tindex !== 0 &&\n\t\t\t\t\t\tshare <= 0.01 // less than 1%\n\t\t\t\t\t) {\n\t\t\t\t\t\tnewData.hasLessPopularGroup = true\n\t\t\t\t\t\tsource.push({ group: t('LESS_POPULAR_UNITS_TYPES') })\n\t\t\t\t\t}\n\n\t\t\t\t\tsource.push(current)\n\n\t\t\t\t\tnewData.source = source\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tsource: [],\n\t\t\t\t\thasPopularGroup: false,\n\t\t\t\t\thasLessPopularGroup: false,\n\t\t\t\t}\n\t\t\t)\n\n\t\treturn source\n\t}\n)\n\nexport const selectMonthsRange = createSelector(\n\t[\n\t\t(startDate, endDate) => ({\n\t\t\tstartDate,\n\t\t\tendDate,\n\t\t}),\n\t],\n\t({ startDate, endDate }) => {\n\t\tconst months = []\n\t\tfor (\n\t\t\tvar m = moment(startDate).startOf('month');\n\t\t\tm.diff(moment(endDate).startOf('month')) <= 0;\n\t\t\tm.add(1, 'month')\n\t\t) {\n\t\t\tmonths.push(+m)\n\t\t}\n\t\treturn months\n\t}\n)\n\nexport const selectReceiptMonths = createSelector(\n\t[selectMonthsRange, (_, __, monthsEnd) => monthsEnd],\n\t(months, monthsEnd) =>\n\t\tmonths.map(monthTimestamp => ({\n\t\t\tvalue: monthTimestamp,\n\t\t\tlabel: !!monthsEnd\n\t\t\t\t? moment(monthTimestamp)\n\t\t\t\t\t\t.endOf('month')\n\t\t\t\t\t\t.format('Do MMMM, YYYY')\n\t\t\t\t: moment(monthTimestamp).format('Do MMMM, YYYY'),\n\t\t}))\n)\n\nexport const selectFromSource = createSelector(\n\tlabelValueMapping => labelValueMapping,\n\tsource =>\n\t\tsource.map(data => {\n\t\t\tconst translated = { ...data }\n\t\t\ttranslated.label = t(data.label)\n\t\t\treturn translated\n\t\t})\n)\n\nexport const selectKnowUsFromSource = createSelector(\n\t() => selectFromSource(WHERE_YOU_KNOW_US),\n\tsource => source\n)\n\nexport const websitesAutocompleteSrc = createSelector(\n\tselectWebsitesArray,\n\twebsites =>\n\t\twebsites.map(ws => {\n\t\t\tconst website = `https://${ws.id}`\n\t\t\treturn {\n\t\t\t\tlabel: website,\n\t\t\t\tvalue: website,\n\t\t\t\tstatus: ws.issues && ws.issues.length ? 'error' : 'success',\n\t\t\t}\n\t\t})\n)\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectAdUnitsArray,\r\n\tselectCampaignsArray,\r\n\tselectAdSlotsArray,\r\n\tselectAccountIdentityDeployData,\r\n\tselectAccountStatsFormatted,\r\n\tselectPublisherTotalImpressions,\r\n} from 'selectors'\r\n\r\nexport const selectHasCreatedAdUnit = createSelector(\r\n\t[selectAdUnitsArray],\r\n\tadUnitsArray => adUnitsArray.length > 0\r\n)\r\n\r\nexport const selectHasCreatedCampaign = createSelector(\r\n\t[selectCampaignsArray],\r\n\tcampaignsArray => campaignsArray.length > 0\r\n)\r\n\r\nexport const selectHasConfirmedEmail = createSelector(\r\n\t[selectAccountIdentityDeployData],\r\n\t({ meta = {} }) => !!meta.emailConfirmed\r\n)\r\n\r\nexport const selectHasFundedAccount = createSelector(\r\n\t[selectAccountStatsFormatted, selectHasCreatedCampaign],\r\n\t({ identityBalanceMainToken }, hasCampaign) =>\r\n\t\thasCampaign || Number(identityBalanceMainToken) > 0\r\n)\r\n\r\nexport const selectHasCreatedAdSlot = createSelector(\r\n\tselectAdSlotsArray,\r\n\tadSlotsArray => adSlotsArray.length > 0\r\n)\r\n\r\nexport const selectHasAdSlotImpressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 0\r\n)\r\nexport const selectHas5000Impressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 5000\r\n)\r\n\r\nexport const sectStepsData = createSelector(\r\n\t[\r\n\t\tselectHasCreatedAdUnit,\r\n\t\tselectHasCreatedCampaign,\r\n\t\tselectHasCreatedAdSlot,\r\n\t\tselectHasConfirmedEmail,\r\n\t\tselectHasFundedAccount,\r\n\t\tselectHasAdSlotImpressions,\r\n\t\tselectHas5000Impressions,\r\n\t],\r\n\t(\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions\r\n\t) => ({\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions,\r\n\t})\r\n)\r\n","import { createSelector } from 'reselect'\nimport {\n\tselectCampaignById,\n\tselectAdUnitById,\n\tselectAdSlotById,\n\tselectSide,\n\tt,\n} from 'selectors'\n\nexport const selectLocation = state => state.router.location\n\nexport const selectSearch = createSelector(\n\tselectLocation,\n\t({ search }) => search\n)\n\nexport const selectLocationQuery = createSelector(\n\tselectLocation,\n\t({ query }) => query || {}\n)\n\nexport const selectSearchParams = createSelector(\n\tselectLocation,\n\t({ search }) => new URLSearchParams(search)\n)\n\nconst ITEMS_SELECTORS = {\n\tcampaigns: selectCampaignById,\n\treceipt: selectCampaignById,\n\tunits: selectAdUnitById,\n\tslots: selectAdSlotById,\n}\n\nconst SIDES = {\n\tadvertiser: true,\n\tpublisher: true,\n}\n\nexport const selectDashboardBreadcrumbs = createSelector(\n\t[selectLocation, state => state, selectSide],\n\t({ pathname = '' }, state, side) => {\n\t\tconst paths = pathname.split('/').filter(x => !!x)\n\t\tconst sideDashboard = paths.slice(0, 2)\n\n\t\t// NOTE: no breadcrumbs if no side dashboard\n\t\tif (sideDashboard[0] !== 'dashboard' || !SIDES[sideDashboard[1]]) {\n\t\t\treturn []\n\t\t}\n\n\t\tconst sideDashboardBC = {\n\t\t\tto: `/${sideDashboard.join('/')}`,\n\t\t\tlabel: 'dashboard',\n\t\t}\n\n\t\tconst rest = paths.slice(2)\n\n\t\tconst restBC = rest.map((x, index) => {\n\t\t\tconst prev = rest[index - 1]\n\t\t\tconst selector = ITEMS_SELECTORS[prev]\n\n\t\t\tlet label = x\n\n\t\t\tif (selector) {\n\t\t\t\tconst { title } = selector(state, x) || {}\n\t\t\t\tlabel = title || label\n\t\t\t}\n\n\t\t\tconst bc = {\n\t\t\t\tlabel,\n\t\t\t}\n\n\t\t\tif (index < rest.length - 1) {\n\t\t\t\tconst restCopy = [...rest]\n\n\t\t\t\tconst receiptAt = restCopy.indexOf('receipt')\n\t\t\t\t// NOTE: go to campaign on receipt breadcrumb\n\t\t\t\t// We need a better way\n\t\t\t\tif (receiptAt >= 0) {\n\t\t\t\t\trestCopy[receiptAt] = side === 'advertiser' ? 'campaigns' : 'receipts'\n\t\t\t\t}\n\n\t\t\t\tbc.to = `${sideDashboardBC.to}/${restCopy\n\t\t\t\t\t.slice(0, index + 1)\n\t\t\t\t\t.join('/')}`\n\t\t\t}\n\n\t\t\treturn bc\n\t\t})\n\n\t\tconst breadcrumbs = [sideDashboardBC, ...restBC].map(b => ({\n\t\t\t...b,\n\t\t\tlabel:\n\t\t\t\tt(b.label.toUpperCase()) !== b.label.toUpperCase()\n\t\t\t\t\t? t(b.label.toUpperCase())\n\t\t\t\t\t: b.label,\n\t\t}))\n\n\t\treturn breadcrumbs || []\n\t}\n)\n","export * from './selectors'\nexport * from './configSelectors'\nexport * from './accountSelectors'\nexport * from './identitySelectors'\nexport * from './uiSelectors'\nexport * from './translationsSelectors'\nexport * from './itemsSelectors'\nexport * from './newItemsSelectors'\nexport * from './analyticsSelectors'\nexport * from './validationsSelectors'\nexport * from './targetingSelectors'\nexport * from './newTransactionSelectors'\nexport * from './tablesDataSelectors'\nexport * from './chartsSelectors'\nexport * from './dataSelectors'\nexport * from './gettingStartedSelectors'\nexport * from './locationSelectors'\n","export function loadFromLocalStorage(key) {\n\ttry {\n\t\tconst data = localStorage.getItem(key)\n\t\tif (data === null) {\n\t\t\treturn undefined\n\t\t}\n\t\treturn JSON.parse(data)\n\t} catch (err) {\n\t\treturn undefined\n\t}\n}\n\nexport function saveToLocalStorage(data, key) {\n\ttry {\n\t\tconst serialized = JSON.stringify(data)\n\t\tlocalStorage.setItem(key, serialized)\n\t} catch (err) {\n\t\tconsole.warn(err)\n\t}\n}\n\nexport function removeFromLocalStorage(key) {\n\tlocalStorage.removeItem(key)\n}\n\nexport function getKeys() {\n\treturn Object.keys(localStorage)\n}\n","import { validations, helpers } from 'adex-models'\n\nexport const ipfsSrc = src => {\n\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\n\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\n\t}\n\n\treturn src\n}\n","module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","import React, { Component, Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { Snackbar, IconButton } from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\n\nimport { Alert } from '@material-ui/lab'\nconst typeToSeverity = {\n\taccept: 'success',\n\tsuccess: 'success',\n\twarning: 'warning',\n\tinfo: 'info',\n\tcancel: 'error',\n\terror: 'error',\n}\n\nexport class Toast extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t\ttoast: {},\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tlet toast = this.state.toast\n\t\tlet nextToast = nextProps.toasts[0]\n\n\t\tif (!nextToast) {\n\t\t\tthis.setState({ active: false, toast: {} })\n\t\t\treturn\n\t\t}\n\n\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\n\n\t\tif (isNewToast) {\n\t\t\tthis.setState({ active: true, toast: nextToast })\n\t\t}\n\t}\n\n\tclose = id => {\n\t\tthis.setState({ active: false })\n\t\tsetTimeout(() => this.props.actions.removeToast(id), 100)\n\t}\n\n\trender() {\n\t\tconst { toast } = this.state\n\n\t\tif (!toast) return null\n\n\t\tconst anchorOrigin = toast.anchorOrigin || {\n\t\t\tvertical: 'bottom',\n\t\t\thorizontal: 'center',\n\t\t}\n\n\t\tif (toast.top) {\n\t\t\tanchorOrigin.horizontal = 'center'\n\t\t\tanchorOrigin.vertical = 'top'\n\t\t}\n\n\t\treturn (\n\t\t\t<Snackbar\n\t\t\t\topen={this.state.active}\n\t\t\t\tautoHideDuration={toast.timeout || 0}\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\tanchorOrigin={anchorOrigin}\n\t\t\t>\n\t\t\t\t<Alert\n\t\t\t\t\tseverity={typeToSeverity[toast.type]}\n\t\t\t\t\tvariant='filled'\n\t\t\t\t\taction={\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t{toast.action && toast.action}\n\t\t\t\t\t\t\t{!toast.unclosable && (\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tkey={`close-${toast.id}`}\n\t\t\t\t\t\t\t\t\taria-label='Close'\n\t\t\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{(toast.label || '').toString()}\n\t\t\t\t</Alert>\n\t\t\t</Snackbar>\n\t\t)\n\t}\n}\n\nToast.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\ttoasts: PropTypes.array.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\t// let persist = state.persist\n\tlet memory = state.memory\n\treturn {\n\t\ttoasts: memory.toasts || [],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Toast)\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { selectConfirm } from 'selectors'\n\nimport {\n\tDialog,\n\tButton,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle,\n} from '@material-ui/core'\n\nexport function Confirm({ children }) {\n\tconst [open, setOpen] = useState(false)\n\n\tconst {\n\t\tonConfirm,\n\t\tonCancel,\n\t\tactive,\n\t\tcalledOn,\n\t\tnoActionBtns,\n\t\tdata: { title = '', text = '', confirmLabel, cancelLabel },\n\t} = useSelector(selectConfirm)\n\n\tuseEffect(() => {\n\t\tsetOpen(!!active)\n\t}, [active, calledOn])\n\n\tconst confirm = () => {\n\t\tif (typeof onConfirm === 'function') {\n\t\t\tonConfirm()\n\t\t}\n\t\tsetOpen(false)\n\t}\n\n\tconst cancel = () => {\n\t\tif (typeof onCancel === 'function') {\n\t\t\tonCancel()\n\t\t}\n\n\t\tsetOpen(false)\n\t}\n\n\treturn (\n\t\t<Dialog open={open}>\n\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<DialogContentText id='alert-dialog-description'>\n\t\t\t\t\t{text}\n\t\t\t\t</DialogContentText>\n\t\t\t\t{children}\n\t\t\t</DialogContent>\n\t\t\t{!noActionBtns && (\n\t\t\t\t<DialogActions>\n\t\t\t\t\t{cancelLabel && (\n\t\t\t\t\t\t<Button onClick={cancel} color='primary'>\n\t\t\t\t\t\t\t{cancelLabel}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{confirmLabel && (\n\t\t\t\t\t\t<Button onClick={confirm} color='primary' autoFocus>\n\t\t\t\t\t\t\t{confirmLabel}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</DialogActions>\n\t\t\t)}\n\t\t</Dialog>\n\t)\n}\n\nexport default Confirm\n","import React, { forwardRef } from 'react'\n// import PropTypes from 'prop-types'\nimport { withRouter } from 'react-router'\n\nexport const withReactRouterLink = Component => {\n\tclass Decorated extends React.Component {\n\t\tresolveToLocation = to => {\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\n\t\t\tconst href = this.props.history.createHref(path)\n\t\t\treturn href\n\t\t}\n\n\t\thandleClick = async event => {\n\t\t\tevent.preventDefault()\n\t\t\tevent.stopPropagation()\n\t\t\tconst { to, onClick } = this.props\n\n\t\t\tif (onClick && typeof onClick === 'function') {\n\t\t\t\tawait onClick()\n\t\t\t\tthis.props.history.push(to)\n\t\t\t} else {\n\t\t\t\tthis.props.history.push(to)\n\t\t\t}\n\t\t}\n\n\t\t// TODO: check if it works without infinite loops\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//   // const { to } = this.props;\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\n\t\t// }\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tforwardedRef,\n\t\t\t\tto,\n\t\t\t\tmatch,\n\t\t\t\tlocation,\n\t\t\t\thistory,\n\t\t\t\tstaticContext,\n\t\t\t\tonClick,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst toLocation = this.resolveToLocation(to)\n\n\t\t\treturn (\n\t\t\t\t<Component\n\t\t\t\t\tref={forwardedRef}\n\t\t\t\t\t{...rest}\n\t\t\t\t\thref={toLocation}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tconst WithRouter = withRouter(Decorated)\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithRouter {...props} forwardedRef={ref} />\n\t))\n}\n","import React from 'react'\nimport SvgIcon from '@material-ui/core/SvgIcon'\nimport pure from 'recompose/pure'\n\nexport default (path, displayName, viewBox = '') => {\n\tlet Icon = props => (\n\t\t<SvgIcon viewBox={viewBox} {...props}>\n\t\t\t{path}\n\t\t</SvgIcon>\n\t)\n\n\tIcon.displayName = displayName\n\tIcon = pure(Icon)\n\tIcon.muiName = 'SvgIcon'\n\n\treturn Icon\n}\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\n\t</g>,\n\n\t'Campaign',\n\t'0 0 26.12 17.37'\n)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Box, Tabs, Tab, Divider } from '@material-ui/core'\nimport { push } from 'connected-react-router'\nimport { execute } from 'actions'\nimport { t } from 'selectors'\nimport { Paper } from '@material-ui/core'\n\nconst sideIndex = {\n\tadvertiser: 0,\n\tpublisher: 1,\n\t'0': 'advertiser',\n\t'1': 'publisher',\n}\n\nconst handleChange = (ev, index) => {\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\n}\n\nconst useTabsStyles = makeStyles(theme => {\n\treturn {\n\t\tindicator: {\n\t\t\t// NOTE: we use Tab background color as indicator\n\t\t\t// There is an animation for the Tabs indicator that looks out of\n\t\t\t// sync with Tab background change\n\t\t\tbackground: '0',\n\t\t},\n\t}\n})\n\nconst useTabStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.primary.main\n\t\t\t: theme.palette.primary.main\n\treturn {\n\t\troot: {\n\t\t\tminWidth: 30,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t\tbackgroundColor: activeColor,\n\t\t\t},\n\t\t\t'&:hover': {\n\t\t\t\tbackgroundColor: theme.palette.action.hover,\n\t\t\t},\n\t\t},\n\t\tselected: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\tbackgroundColor: activeColor,\n\t\t},\n\t}\n})\n\nconst SideSwitch = ({ side, className }) => {\n\tconst tabsClasses = useTabsStyles({ side })\n\tconst tabClasses = useTabStyles({ side })\n\treturn (\n\t\t<div className={className}>\n\t\t\t<Box bgcolor='background.paper'>\n\t\t\t\t<Divider />\n\t\t\t\t<Tabs\n\t\t\t\t\tclasses={tabsClasses}\n\t\t\t\t\tvalue={sideIndex[side]}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t\tvariant='fullWidth'\n\t\t\t\t\taria-label='side select'\n\t\t\t\t>\n\t\t\t\t\t<Tab classes={tabClasses} label={t('ADVERTISER')} />\n\t\t\t\t\t<Tab classes={tabClasses} label={t('PUBLISHER')} />\n\t\t\t\t</Tabs>\n\t\t\t\t<Divider />\n\t\t\t</Box>\n\t\t</div>\n\t)\n}\n\nexport default SideSwitch\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(27, 117, 188)'\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\n\t\t/>\n\t</g>,\n\t'AdexIcon',\n\t'0 0 185 72'\n)\n","import React from 'react'\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\n\nexport const InputLoading = ({ className, color = 'primary' }) => (\n\t<LinearProgress className={className} color={color} />\n)\n\nexport const LoadingSection = ({ loading, children }) => (\n\t<Box display='flex' flex='1' alignItems='center'>\n\t\t<Box>{children}</Box>\n\t\t<Box ml={2} mr={2}>\n\t\t\t{loading && <CircularProgress />}\n\t\t</Box>\n\t</Box>\n)\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\nimport classnames from 'classnames'\nimport packageJson from './../../../../package.json'\nimport Anchor from 'components/common/anchor/anchor'\nimport SideSwitch from './SideSwitch'\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport DashboardIcon from '@material-ui/icons/Dashboard'\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\nimport { Receipt } from '@material-ui/icons'\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport Box from '@material-ui/core/Box'\nimport ListIcon from '@material-ui/icons/List'\nimport AudienceIcon from '@material-ui/icons/Group'\nimport WebsitesIcon from '@material-ui/icons/WebSharp'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { LoadingSection } from 'components/common/spinners'\nimport {\n\tt,\n\tselectSide,\n\tselectLocation,\n\tselectAccountIdentityAddr,\n\tselectAccountStatsFormatted,\n\tselectMainToken,\n} from 'selectors'\n\nconst RRListItem = withReactRouterLink(ListItem)\nconst RRAdexIconTxt = withReactRouterLink(AdexIconTxt)\nconst { ETH_SCAN_ADDR_HOST } = process.env\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.primary.contrastText\n\t\t\t: theme.palette.primary.contrastText\n\n\tconst activeBgColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.primary.main\n\t\t\t: theme.palette.primary.main\n\n\treturn {\n\t\tnavigation: {\n\t\t\tbackgroundColor: theme.palette.background.paper,\n\t\t},\n\t\tsntPadding: {\n\t\t\tpaddingTop: 0,\n\t\t},\n\t\tnavListRoot: {\n\t\t\tcolor: theme.palette.text.secondary,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tnavList: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 100,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t},\n\t\tsideNavToolbar: {},\n\t\tversion: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tpadding: 10,\n\t\t\tpaddingLeft: 16,\n\t\t\tborderTopWidth: 1,\n\t\t\tborderTopColor: theme.palette.divider,\n\t\t\tborderTopStyle: 'solid',\n\t\t},\n\t\tactive: {\n\t\t\tcolor: activeColor,\n\t\t\tbackgroundColor: activeBgColor,\n\t\t\t'&:focus': {\n\t\t\t\tbackgroundColor: activeBgColor,\n\t\t\t},\n\t\t\t'&:hover': {\n\t\t\t\tbackgroundColor: activeBgColor,\n\t\t\t\tcolor: activeColor,\n\t\t\t\t'& .MuiListItemIcon-root': {\n\t\t\t\t\tcolor: activeColor,\n\t\t\t\t},\n\t\t\t},\n\t\t\t'& .MuiListItemIcon-root': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tadxLink: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\t'&:hover': {\n\t\t\t\tcolor: theme.palette.text.secondary,\n\t\t\t},\n\t\t},\n\t\tsideSwitch: {\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\n\t\t},\n\t\ticon: {\n\t\t\theight: 32,\n\t\t\twidth: 'auto',\n\t\t\tcursor: 'pointer',\n\t\t},\n\t\tamount: {\n\t\t\tfontSize: theme.typography.pxToRem(18),\n\t\t},\n\t}\n})\n\nfunction SideNav(props) {\n\tconst side = useSelector(selectSide)\n\tconst identity = useSelector(selectAccountIdentityAddr)\n\tconst classes = useStyles({ side })\n\tconst routerLocation = useSelector(selectLocation)\n\tconst { symbol } = useSelector(selectMainToken)\n\n\t// TODO: test location\n\tconst location = routerLocation.pathname.split('/')[3]\n\tconst isAdvertiser = side === 'advertiser'\n\tconst items = isAdvertiser ? 'units' : 'slots'\n\tconst { availableIdentityBalanceMainToken } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\n\t\t<div className={classes.navigation}>\n\t\t\t<List\n\t\t\t\tclasses={{\n\t\t\t\t\tpadding: classes.sntPadding,\n\t\t\t\t\troot: classes.navListRoot,\n\t\t\t\t}}\n\t\t\t\tclassName={classes.navList}\n\t\t\t\tcomponent='nav'\n\t\t\t>\n\t\t\t\t<div>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tbgcolor='background.paper'\n\t\t\t\t\t\tclassName={classnames(classes.sideNavToolbar)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<RRAdexIconTxt\n\t\t\t\t\t\t\t\t// @cryptofan\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\n\t\t\t\t\t\t\t\tclassName={classes.icon}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceMainToken &&\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tvariant='button'\n\t\t\t\t\t\t\t\t\tdisplay='block'\n\t\t\t\t\t\t\t\t\tcomponent='div'\n\t\t\t\t\t\t\t\t\tcolor='textPrimary'\n\t\t\t\t\t\t\t\t\tclasses={{ button: classes.amount }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceMainToken ||\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant='button' component='div' display='block'>\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\n\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<DashboardIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\n\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t[classes.active]: location === items,\n\t\t\t\t\t\t})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<ListIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\n\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<CampaignIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\n\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/audiences' }}\n\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'audiences',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<AudienceIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('AUDIENCES')} />\n\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{side === 'publisher' && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/publisher/websites' }}\n\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'websites',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<WebsitesIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('WEBSITES')} />\n\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/publisher/receipts' }}\n\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t[classes.active]: location === 'receipts',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<Receipt />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('RECEIPTS')} />\n\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/topup' }}\n\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t[classes.active]: location === 'topup',\n\t\t\t\t\t\t})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<MonetizationOnIcon color='secondary' />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('TOP_UP')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<Anchor target='_blank' href={`${process.env.ADEX_HELP_URL}`}>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<HelpOutlineIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t[classes.active]: location === 'account',\n\t\t\t\t\t\t})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t</div>\n\t\t\t</List>\n\t\t\t<div className={classes.version}>\n\t\t\t\t<div className={classes.adxLink}>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ADEX_SITE_HOST}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdEx Network OÜ\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.adxLink}>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={`${process.env.ADEX_SITE_HOST}/tos`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdEx (ADX) Token\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t\t<small> / </small>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={process.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdExCore\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref='https://github.com/AdExNetwork/adex-platform/blob/development/CHANGELOG.md.'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tv.{packageJson.version}-beta\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default SideNav\n","import React, { useState, Children, cloneElement } from 'react'\nimport { Menu, Button } from '@material-ui/core'\n\nconst ImgIcon = ({ src }) => {\n\treturn (\n\t\t<img\n\t\t\tsrc={src}\n\t\t\theight={36}\n\t\t\twidth='auto'\n\t\t\talt='logo'\n\t\t\tstyle={{ marginRight: 5 }}\n\t\t/>\n\t)\n}\n\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\n\tconst [anchorEl, setAnchorEl] = useState(null)\n\n\tconst handleMenu = event => {\n\t\tsetAnchorEl(event.currentTarget)\n\t}\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tstyle={btnStyle}\n\t\t\t\tonClick={handleMenu}\n\t\t\t\taria-haspopup='true'\n\t\t\t\taria-controls={id}\n\t\t\t>\n\t\t\t\t{leftIcon}\n\t\t\t\t<span\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmaxWidth: 150,\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</span>\n\t\t\t\t{rightIcon}\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\tid={id}\n\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: 'bottom',\n\t\t\t\t\thorizontal: 'right',\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: 'top',\n\t\t\t\t\thorizontal: 'right',\n\t\t\t\t}}\n\t\t\t\tonClick={handleClose}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{Children.map(children, child =>\n\t\t\t\t\tcloneElement(child, {\n\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\ttypeof child.props.onClick === 'function' && child.props.onClick()\n\t\t\t\t\t\t\thandleClose()\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t)}\n\t\t\t</Menu>\n\t\t</>\n\t)\n}\n\nexport default ButtonMenu\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { translate } from 'services/translations/translations'\nimport { selectLang } from 'selectors'\n\nexport default function Translate(Decorated) {\n\tfunction Translated(props) {\n\t\tconst language = useSelector(selectLang)\n\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\n\t\t\tconst translation = translate(val, { isProp, args }, language)\n\n\t\t\treturn translation\n\t\t}\n\n\t\treturn <Decorated {...props} t={t} />\n\t}\n\n\treturn Translated\n}\n","import { AUTH_TYPES } from 'constants/misc'\nimport metamaskLogo from 'resources/metamask-logo.png'\nimport trezorLogo from 'resources/trezor-logo-h.png'\nimport demoLogo from 'resources/demo-logo.png'\n\nexport const getAuthLogo = authType => {\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\treturn metamaskLogo\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\treturn trezorLogo\n\t\tcase AUTH_TYPES.DEMO.name:\n\t\t\treturn demoLogo\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n","const drawerWidth = 250\nconst lastRowRightReserved = 169\n\nexport const styles = theme => {\n\treturn {\n\t\troot: {\n\t\t\tmarginTop: 69,\n\t\t\tflexGrow: 1,\n\t\t\toverflow: 'hidden',\n\t\t\tposition: 'relative',\n\t\t\tdisplay: 'flex',\n\t\t\theight: 'calc(100vh - 69px)',\n\t\t\twidth: '100vw',\n\t\t},\n\t\tappBar: {\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\twidth: 'auto',\n\t\t\tposition: 'fixed',\n\t\t\t// marginLeft: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\n\t\t\t\tleft: drawerWidth,\n\t\t\t},\n\t\t},\n\t\tflex: {\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'row',\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tpaddingRight: theme.spacing(2),\n\t\t\tpaddingLeft: theme.spacing(2),\n\t\t},\n\n\t\tflexRow: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tflexBasis: '100%',\n\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t'&:last-child': {\n\t\t\t\tpaddingRight: lastRowRightReserved,\n\t\t\t},\n\t\t},\n\t\ttoolbarControls: {\n\t\t\tjustifyContent: 'flex-end',\n\t\t},\n\t\ttoolbarTitle: {\n\t\t\tjustifyContent: 'flex-start',\n\t\t},\n\t\ttoolbar: {\n\t\t\tflexFlow: 'wrap',\n\t\t\theight: 69,\n\t\t\tpaddingRight: 0,\n\t\t\tpaddingLeft: 0,\n\t\t},\n\t\tdrawerPaper: {\n\t\t\twidth: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tposition: 'fixed',\n\t\t\t},\n\t\t\tbackgroundColor: '#fff',\n\t\t},\n\t\tcontent: {\n\t\t\tflexGrow: 1,\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\tpadding: theme.spacing(2),\n\t\t\tpaddingTop: theme.spacing(2),\n\t\t\toverflow: 'auto',\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tmarginLeft: drawerWidth,\n\t\t\t\tpadding: theme.spacing(2),\n\t\t\t\tpaddingTop: theme.spacing(2),\n\t\t\t},\n\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\tpadding: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\tcontentInner: {\n\t\t\tmaxWidth: 1420,\n\t\t\tmargin: 'auto',\n\t\t\t// Because of the floating button and table paging\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\tpaddingBottom: 146 + theme.spacing(2),\n\t\t\t},\n\t\t},\n\t\tbreadcrumbElement: {\n\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5)}px)`,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5) +\n\t\t\t\t\tdrawerWidth +\n\t\t\t\t\tlastRowRightReserved}px)`,\n\t\t\t},\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\nimport Translate from 'components/translate/Translate'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\n// import ChangeLang from 'components/translate/ChangeLang'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport { logOut } from 'services/store-data/auth'\n\nimport {\n\tAppBar,\n\tToolbar,\n\tTypography,\n\tBreadcrumbs,\n\tIconButton,\n\tListItemIcon,\n\tListItemText,\n\tLink,\n\tMenuItem,\n\tBox,\n\tHidden,\n} from '@material-ui/core'\n\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport { makeStyles } from '@material-ui/core/styles'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { selectAccount, selectDashboardBreadcrumbs } from 'selectors'\nimport { styles } from './styles'\nimport { formatAddress } from 'helpers/formatters'\n\nconst RRMenuItem = withReactRouterLink(MenuItem)\nconst RRLink = withReactRouterLink(Link)\nconst useStyles = makeStyles(styles)\n\nfunction TopNav({ handleDrawerToggle, side, t }) {\n\tconst classes = useStyles()\n\tconst account = useSelector(selectAccount)\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\n\tconst breadcrumbs = useSelector(selectDashboardBreadcrumbs)\n\tconst btnMenuLabel =\n\t\taccount.wallet.authType === 'demo'\n\t\t\t? t('DEMO_MODE')\n\t\t\t: account.email ||\n\t\t\t  formatAddress(account.wallet.address) ||\n\t\t\t  t('NOT_LOGGED')\n\n\treturn (\n\t\t<AppBar className={classes.appBar} color='default' position='sticky'>\n\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='row'\n\t\t\t\t\tflexGrow='1'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t>\n\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t<Box pl={1}>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\t\taria-label='open drawer'\n\t\t\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Hidden>\n\n\t\t\t\t\t<Hidden smDown>\n\t\t\t\t\t\t<Box display='flex' flexGrow='1' pl={2}>\n\t\t\t\t\t\t\t<Breadcrumbs aria-label='breadcrumb'>\n\t\t\t\t\t\t\t\t{breadcrumbs.map(({ to, label }, index) =>\n\t\t\t\t\t\t\t\t\tto && index < breadcrumbs.length - 1 ? (\n\t\t\t\t\t\t\t\t\t\t<RRLink key={`${index}-${to}`} to={to}>\n\t\t\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t\t\t</RRLink>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.breadcrumbElement }}\n\t\t\t\t\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t\t\t\t\t\tcomponent='div'\n\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-${label}`}\n\t\t\t\t\t\t\t\t\t\t\tcolor='textPrimary'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Breadcrumbs>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Hidden>\n\n\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center' pr={1}>\n\t\t\t\t\t\t{/* <ChangeLang /> */}\n\t\t\t\t\t\t<Jazzicon\n\t\t\t\t\t\t\tdiameter={30}\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ButtonMenu\n\t\t\t\t\t\t\tid='menu-appbar'\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RRMenuItem\n\t\t\t\t\t\t\t\tvalue='account'\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</RRMenuItem>\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tvalue='logout'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tlogOut()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</ButtonMenu>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n\nexport default Translate(TopNav)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\n// import IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport Translate from 'components/translate/Translate'\nimport { ipfsSrc } from 'helpers/ipfsHelpers'\nimport { isVideoMedia } from 'helpers/mediaHelpers'\n\nconst MAX_IMG_LOAD_TIME = 7000\nclass Img extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\timgSrc: null,\n\t\t\tactive: false,\n\t\t\tvideoSrc: null,\n\t\t}\n\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\n\t\tthis.loadTimeout = null\n\t}\n\n\thandleToggle = ev => {\n\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\tev && ev.preventDefault && ev.preventDefault()\n\t\tlet active = this.state.active\n\t\tthis.setState({ active: !active })\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\tif (isVideo && !allowVideo) {\n\t\t\treturn this.setState({\n\t\t\t\timgSrc: VIDEO_IMAGE,\n\t\t\t})\n\t\t}\n\n\t\tif (isVideo) {\n\t\t\tthis.displayVideo = document.createElement('video')\n\t\t\tthis.setDisplayVideo({\n\t\t\t\timage: ipfsSrc(src),\n\t\t\t\tfallback: ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t} else {\n\t\t\tthis.displayImage = new Image()\n\t\t\tthis.setDisplayImage({\n\t\t\t\timage: ipfsSrc(src),\n\t\t\t\tfallback: ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps = nextProps => {\n\t\tconst nextSrc = ipfsSrc(nextProps.src)\n\t\tconst thisSrc = ipfsSrc(this.props.src)\n\t\tconst nextFallback = ipfsSrc(nextProps.fallbackSrc)\n\t\tconst { mediaMime } = nextProps\n\n\t\tif (nextSrc !== thisSrc) {\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\t\tif (isVideo) {\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\n\t\t\t\tthis.setDisplayVideo({\n\t\t\t\t\timage: ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\n\t\t\t\tthis.setDisplayImage({\n\t\t\t\t\timage: ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.clearLoadTimeout()\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\t\t\tthis.displayImage = null\n\t\t}\n\t}\n\n\tclearLoadTimeout = () => {\n\t\tif (this.loadTimeout) {\n\t\t\tclearTimeout(this.loadTimeout)\n\t\t\tthis.loadTimeout = null\n\t\t}\n\t}\n\n\tonFail = (fallback, image) => {\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.displayImage.src = fallback\n\t\t}\n\n\t\tthis.clearLoadTimeout()\n\n\t\tthis.setState({\n\t\t\timgSrc: fallback || null,\n\t\t})\n\t}\n\n\tsetDisplayImage = ({ image, fallback }) => {\n\t\tthis.clearLoadTimeout()\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback, image)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\n\t\t\tthis,\n\t\t\tfallback\n\t\t)\n\n\t\tthis.displayImage.onload = () => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\timgSrc: image,\n\t\t\t\tvideoSrc: null,\n\t\t\t})\n\t\t}\n\n\t\tthis.displayImage.src = image\n\t}\n\n\tsetDisplayVideo = ({ image, fallback }) => {\n\t\tthis.clearLoadTimeout()\n\t\tthis.displayVideo.src = image\n\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\tvideoSrc: image,\n\t\t\t\timgSrc: null,\n\t\t\t})\n\t\t}\n\t}\n\n\tfullScreenBtn() {\n\t\tconst { classes } = this.props\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Fab\n\t\t\t\t\tsize='small'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.handleToggle()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FullscreenIcon />\n\t\t\t\t</Fab>\n\t\t\t\t{this.renderFullscreenDialog()}\n\t\t\t</span>\n\t\t)\n\t}\n\n\trenderFullscreenDialog() {\n\t\tconst { t, alt, classes, type } = this.props\n\t\tconst { active, imgSrc, videoSrc } = this.state\n\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={active}\n\t\t\t\ttype={type || 'normal'}\n\t\t\t\tmaxWidth={false}\n\t\t\t\tonClose={this.handleToggle}\n\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t>\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\n\t\t\t\t\t{imgSrc ? (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\tcontrols\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t></video>\n\t\t\t\t\t)}\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\n\t\t\t\t\t\t{t('CLOSE')}\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\talt,\n\t\t\tallowFullscreen,\n\t\t\tclassName,\n\t\t\tclassNameImg,\n\t\t\tclasses,\n\t\t\tfullScreenOnClick,\n\t\t\tonClick,\n\t\t} = this.props\n\t\tconst { imgSrc, videoSrc } = this.state\n\t\treturn imgSrc || videoSrc ? (\n\t\t\t<div className={classnames(className, classes.wrapper)}>\n\t\t\t\t{!!imgSrc ? (\n\t\t\t\t\t<img\n\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\tsrc={this.state.imgSrc}\n\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tclasses.imgLoading,\n\t\t\t\t\t\t\tclasses.img,\n\t\t\t\t\t\t\tclassNameImg\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\tonClick={onClick || (fullScreenOnClick && this.handleToggle)}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<video\n\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, classes.img)}\n\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\tmuted\n\t\t\t\t\t\tloop\n\t\t\t\t\t\tonClick={onClick || (fullScreenOnClick && this.handleToggle)}\n\t\t\t\t\t></video>\n\t\t\t\t)}\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\n\t\t\t</div>\n\t\t) : (\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\n\t\t\t\t<span className={classes.circular}>\n\t\t\t\t\t<CircularProgress />\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImg.propTypes = {\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\tfallbackSrc: PropTypes.string,\n\talt: PropTypes.string,\n\tallowFullscreen: PropTypes.bool,\n\tfullScreenOnClick: PropTypes.bool,\n\tmediaMime: PropTypes.string,\n}\n\nexport default Translate(withStyles(styles)(Img))\n","export const styles = theme => ({\n\timgLoading: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: '100%',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\tcircular: {\n\t\tposition: 'relative',\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\n\t\tleft: 'calc(50% - 20px)',\n\t\tdisplay: 'inline-block',\n\t},\n\tfullscreenIcon: {\n\t\tposition: 'absolute',\n\t\ttop: theme.spacing(1),\n\t\tright: theme.spacing(1),\n\t\tcursor: 'pointer',\n\t\twidth: '30px',\n\t\theight: '30px',\n\t\tminHeight: '24px',\n\t},\n\tdialog: {\n\t\t'@media(max-width:744px)': {\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t},\n\t\t'@media(max-height:823px)': {\n\t\t\tminHeight: 'auto',\n\t\t},\n\t},\n\tdialogImageParent: {\n\t\t'@media(max-width:1080px)': {\n\t\t\tmaxWidth: '80vw',\n\t\t\tmaxHeight: '100vw',\n\t\t\tdisplay: 'block',\n\t\t\tmargin: 'auto',\n\t\t},\n\t\t'@media(max-width:744px)': {\n\t\t\tpaddingLeft: 0,\n\t\t\tpaddingRight: 0,\n\t\t},\n\t},\n\tdialogImage: {\n\t\theight: 'auto',\n\t\tmaxWidth: '80vw',\n\t},\n\timg: {\n\t\twidth: '100%',\n\t\theight: '100%',\n\t\tobjectFit: 'contain',\n\t},\n\twrapper: {\n\t\theight: '100%',\n\t\twidth: '100%',\n\t},\n})\n","import React from 'react'\nimport MUIDataTable from 'mui-datatables'\nimport { LinearProgress, Box } from '@material-ui/core'\nimport { t } from 'selectors'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst generalTableOptions = {\n\trowsPerPage: 5,\n\trowsPerPageOptions: [5, 10, 25, 50, 100],\n\tsetTableProps: () => {\n\t\treturn {\n\t\t\tpadding: 'default',\n\t\t\tsize: 'small',\n\t\t\twidth: '100%',\n\t\t\talign: 'center',\n\t\t}\n\t},\n\ttextLabels: {\n\t\tbody: {\n\t\t\tnoMatch: t('TABLE_NO_MATCH'),\n\t\t\ttoolTip: t('TABLE_TOOLTIP'),\n\t\t\tcolumnHeaderTooltip: column =>\n\t\t\t\t`${t('TABLE_HEADER_TOOLTIP', {\n\t\t\t\t\targs: [column.label || column],\n\t\t\t\t})}`,\n\t\t},\n\t\tpagination: {\n\t\t\tnext: t('TABLE_NEXT'),\n\t\t\tprevious: t('TABLE_PREV'),\n\t\t\trowsPerPage: t('TABLE_ROWS_PER_PAGE'),\n\t\t\tdisplayRows: t('TABLE_DISPLAY_ROWS'),\n\t\t},\n\t\ttoolbar: {\n\t\t\tsearch: t('TABLE_SEARCH'),\n\t\t\tdownloadCsv: t('TABLE_DL_CSV'),\n\t\t\tprint: t('TABLE_PRINT'),\n\t\t\tviewColumns: t('TABLE_VIEW_COLS'),\n\t\t\tfilterTable: t('TABLE_FILTER'),\n\t\t},\n\t\tfilter: {\n\t\t\tall: t('TABLE_FILTER_ALL'),\n\t\t\ttitle: t('TABLE_FILTER_TITLE'),\n\t\t\treset: t('TABLE_FILTER_RESET'),\n\t\t},\n\t\tviewColumns: {\n\t\t\ttitle: t('TABLE_SHOW_COLS'),\n\t\t\ttitleAria: t('TABLE_SHOW_HIDE_COLS'),\n\t\t},\n\t\tselectedRows: {\n\t\t\ttext: t('TABLE_SELECTED_ROWS'),\n\t\t\tdelete: t('TABLE_DELETE'),\n\t\t\tdeleteAria: t('TABLE_DELETE_SELECTED'),\n\t\t},\n\t},\n}\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tprogress: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nexport default function MUIDataTableEnhanced(props) {\n\tconst { title, data, columns, options, loading } = props\n\tconst classes = useStyles()\n\treturn (\n\t\t<Box>\n\t\t\t<MUIDataTable\n\t\t\t\ttitle={title}\n\t\t\t\tdata={data}\n\t\t\t\tcolumns={columns}\n\t\t\t\toptions={{\n\t\t\t\t\t...generalTableOptions,\n\t\t\t\t\t...options,\n\t\t\t\t\televation: 0,\n\t\t\t\t\tvariant: 'outlined',\n\t\t\t\t\tsearch: !props.noSearch,\n\t\t\t\t\tdownload: !props.noDownload,\n\t\t\t\t\tprint: !props.noPrint,\n\t\t\t\t\tselectableRows: props.rowSelectable ? 'multiple' : 'none',\n\t\t\t\t\tdisableToolbarSelect: props.toolbarEnabled ? false : true,\n\t\t\t\t\tresponsive: 'stacked',\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\n\t\t</Box>\n\t)\n}\n","import React from 'react'\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport HourglassFullIcon from '@material-ui/icons/HourglassFull'\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\n\nconst mapStatusIcons = (humanFriendlyStatus, status = '', size) => {\n\tconst icon = {\n\t\txs: { fontSize: 10 },\n\t\tmd: { fontSize: 15 },\n\t\tls: { fontSize: 20 },\n\t}\n\tconst waitIcon = <HourglassFullIcon style={icon[size]} color={'secondary'} />\n\tconst doneIcon = <DoneAllIcon style={icon[size]} color={'primary'} />\n\tconst warningIcon = <WarningIcon style={icon[size]} color={'error'} />\n\tconst cashIcon = <MonetizationOnIcon style={icon[size]} color={'secondary'} />\n\tif (humanFriendlyStatus === 'Closed' && status.toLowerCase() !== 'exhausted')\n\t\treturn waitIcon\n\tswitch (status.toLowerCase()) {\n\t\tcase 'active':\n\t\tcase 'ready':\n\t\t\treturn doneIcon\n\t\tcase 'pending':\n\t\tcase 'initializing':\n\t\tcase 'waiting':\n\t\t\treturn waitIcon\n\t\tcase 'offline':\n\t\tcase 'disconnected':\n\t\tcase 'unhealthy':\n\t\tcase 'invalid':\n\t\t\treturn warningIcon\n\t\tcase 'withdraw':\n\t\t\treturn cashIcon\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n\nexport { mapStatusIcons }\n","export const styles = theme => ({\r\n\tcellImg: {\r\n\t\t// Fixed width to avoid col resizing while loading\r\n\t\theight: 46,\r\n\t\twidth: 69,\r\n\t\tcursor: 'pointer',\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\tactions: {\r\n\t\t'& > *': {\r\n\t\t\tmargin: theme.spacing(0.5),\r\n\t\t},\r\n\t},\r\n})\r\n","import React from 'react'\nimport { Typography, Slider, Box } from '@material-ui/core'\nimport { formatAbbrNum } from 'helpers/formatters'\n\nconst getSliderStep = (min, max, steps, precision = 2) => {\n\tconst diff = max - min\n\tconst step = diff / steps\n\tconst fixed = parseFloat(step.toFixed(precision))\n\n\treturn fixed\n}\n\nexport const sliderFilterOptions = ({\n\tinitial = [],\n\tfilterTitle = '',\n\tstepsCount = 20,\n\tstepsPrecision = 2,\n}) => {\n\tconst min = initial[0] || 0\n\tconst max = initial[1] || 100\n\tconst step = getSliderStep(min, max, stepsCount, stepsPrecision)\n\treturn {\n\t\tfilter: true,\n\t\tdisplay: 'true',\n\t\tfilterType: 'custom',\n\t\tcustomFilterListOptions: {\n\t\t\trender: v =>\n\t\t\t\t`${filterTitle}: ${formatAbbrNum(v[0], 2)} - ${formatAbbrNum(v[1], 2)}`,\n\t\t\tupdate: (filterList, filterPos, index) => {\n\t\t\t\tfilterList[index] = []\n\t\t\t\treturn filterList\n\t\t\t},\n\t\t},\n\n\t\tfilterOptions: {\n\t\t\tnames: [],\n\t\t\tlogic: (rowNumber, filters) => {\n\t\t\t\tconst formated = Number(rowNumber.toString().replace(/[^0-9.]/g, ''))\n\t\t\t\tif (filters.length > 0) {\n\t\t\t\t\treturn formated < filters[0] || formated > filters[1]\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t},\n\t\t\tdisplay: (filterList, onChange, index, column) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography id={`range-slider-${column.name}`} gutterBottom>\n\t\t\t\t\t\t\t{filterTitle}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box pl={2} pr={3} pt={2}>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\t\t\tmarks={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: min,\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(min, 2),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: max,\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(max, 2),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t// Max 20 steps (5,000,000 impressions step 1 ...)\n\t\t\t\t\t\t\t\tstep={step}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\tfilterList[index].length > 0 ? filterList[index] : initial\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={(_, newValue) => {\n\t\t\t\t\t\t\t\t\tonChange(newValue, index, column)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\t\taria-labelledby={`range-slider-${column.name}`}\n\t\t\t\t\t\t\t\tgetAriaValueText={v => formatAbbrNum(v, 2)}\n\t\t\t\t\t\t\t\tvalueLabelFormat={v => formatAbbrNum(v, 2)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t}\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport { useSelector } from 'react-redux'\nimport { selectInitialDataLoaded } from 'selectors'\n\nexport function useTableData({ selector, selectorArgs, getColumns }) {\n\tconst initialDataLoaded = useSelector(selectInitialDataLoaded)\n\tconst [data, setData] = useState([])\n\tconst [columns, setColumns] = useState([])\n\n\tconst selectedData = useSelector(state => selector(state, selectorArgs))\n\n\tconst reloadData = useCallback(() => {\n\t\tsetData(selectedData)\n\t\tsetColumns(getColumns())\n\t}, [getColumns, selectedData])\n\n\tuseEffect(() => {\n\t\treloadData()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [selectedData.length, selector, selectorArgs, initialDataLoaded])\n\n\treturn { data, columns, reloadData }\n}\n","import React, { Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tIconButton,\n\tTooltip,\n\tBox,\n\tButton,\n\tCircularProgress,\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Refresh, Receipt, Print } from '@material-ui/icons'\nimport { t, selectSpinnerById } from 'selectors'\nimport { PRINTING_CAMPAIGNS_RECEIPTS } from 'constants/spinners'\n\nconst useStyles = makeStyles(theme => ({\n\twrapper: {\n\t\tmargin: theme.spacing(1),\n\t\tposition: 'relative',\n\t},\n\tbuttonProgress: {\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}))\n\nexport function ReloadData({ handleReload }) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip title={t('RELOAD_DATA')}>\n\t\t\t\t<IconButton onClick={handleReload}>\n\t\t\t\t\t<Refresh />\n\t\t\t\t</IconButton>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n\nexport function ViewAllReceipts({ handleViewAllReceipts }) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip title={t('VIEW_ALL_RECEIPTS_DATA')}>\n\t\t\t\t<IconButton onClick={handleViewAllReceipts}>\n\t\t\t\t\t<Receipt />\n\t\t\t\t</IconButton>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n\nexport function PrintAllReceipts({ handlePrintAllReceipts, disabled }) {\n\tconst classes = useStyles()\n\tconst receiptsSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, PRINTING_CAMPAIGNS_RECEIPTS)\n\t)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip title={t('RECEIPTS_PRINT_ALL')}>\n\t\t\t\t<Box ml={2} mr={2}>\n\t\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tstartIcon={<Print />}\n\t\t\t\t\t\t\tonClick={handlePrintAllReceipts}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisabled={disabled || receiptsSpinner}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('RECEIPTS_PRINT_ALL')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{receiptsSpinner && (\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</Box>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n","import React, { Fragment } from 'react'\nimport classnames from 'classnames'\nimport { Tooltip, IconButton } from '@material-ui/core'\nimport { Visibility, Receipt } from '@material-ui/icons'\nimport Img from 'components/common/img/Img'\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport {\n\tt,\n\tselectCampaignsTableData,\n\tselectMainToken,\n\tselectSide,\n\tselectCampaignsMaxImpressions,\n\tselectCampaignsMaxClicks,\n\tselectCampaignsMaxDeposit,\n\tselectInitialDataLoadedByData,\n} from 'selectors'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { commify } from 'ethers/utils'\nimport { execute, handlePrintSelectedReceiptsAdvertiser } from 'actions'\nimport { useSelector } from 'react-redux'\nimport { styles } from './styles'\nimport { formatDateTime, truncateString, formatDate } from 'helpers/formatters'\nimport { sliderFilterOptions } from './commonFilters'\nimport { useTableData } from './tableHooks'\nimport { ReloadData, PrintAllReceipts } from './toolbars'\n\nconst RRIconButton = withReactRouterLink(IconButton)\nconst RRImg = withReactRouterLink(Img)\n\nconst useStyles = makeStyles(styles)\n\nconst getCols = ({\n\tclasses,\n\tsymbol,\n\tmaxImpressions,\n\tmaxDeposit,\n\tmaxClicks,\n}) => [\n\t{\n\t\tname: 'id',\n\t\toptions: {\n\t\t\tdisplay: 'excluded',\n\t\t\tfilter: false,\n\t\t},\n\t},\n\t{\n\t\tname: 'receiptAvailable',\n\t\toptions: {\n\t\t\tdisplay: 'excluded',\n\t\t\tdownload: false,\n\t\t\tfilter: false,\n\t\t},\n\t},\n\t{\n\t\tname: 'media',\n\t\tlabel: t('PROP_MEDIA'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: false,\n\t\t\tdownload: false,\n\t\t\tcustomBodyRender: ({ side, id, mediaUrl, mediaMime, to }) => {\n\t\t\t\treturn (\n\t\t\t\t\t<RRImg\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\n\t\t\t\t\t\tsrc={mediaUrl}\n\t\t\t\t\t\talt={id}\n\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\tto={to}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tname: 'status',\n\t\tlabel: t('PROP_STATUS'),\n\t\toptions: {\n\t\t\tfilter: true,\n\t\t\tsort: false,\n\t\t\tfilterOptions: {\n\t\t\t\tnames: ['Active', 'Closed', 'Completed'],\n\t\t\t\tlogic: (status, filters) => {\n\t\t\t\t\tif (filters.length) return !filters.includes(status.humanFriendlyName)\n\t\t\t\t\treturn false\n\t\t\t\t},\n\t\t\t},\n\t\t\tcustomBodyRender: ({ humanFriendlyName, originalName, id }) => (\n\t\t\t\t<Fragment key={id}>\n\t\t\t\t\t{t(humanFriendlyName, { toUpperCase: true })}{' '}\n\t\t\t\t\t{mapStatusIcons(humanFriendlyName, originalName, 'xs')}\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t\t// TODO: Sorting issue\n\t\t},\n\t},\n\t{\n\t\tname: 'title',\n\t\tlabel: t('PROP_TITLE'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\n\t\t},\n\t},\n\t{\n\t\tname: 'depositAmount',\n\t\tlabel: t('PROP_DEPOSIT'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: depositAmount => (\n\t\t\t\t<Fragment>{`${depositAmount.toFixed(2)} ${symbol}`}</Fragment>\n\t\t\t),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxDeposit],\n\t\t\t\tfilterTitle: t('DEPOSIT_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'fundsDistributedRatio',\n\t\tlabel: t('PROP_SERVED'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: fundsDistributedRatio =>\n\t\t\t\t`${((fundsDistributedRatio || 0) / 10).toFixed(2)} %`,\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, 100],\n\t\t\t\tfilterTitle: t('DISTRIBUTED_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'impressions',\n\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxImpressions],\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'clicks',\n\t\tlabel: t('CHART_LABEL_CLICKS'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxClicks],\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'ctr',\n\t\tlabel: t('LABEL_CTR'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: ctr => `${(ctr || 0).toFixed(2)} %`,\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, 100],\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'minPerImpression',\n\t\tlabel: t('PROP_CPM'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: ({ minPerImpression, id }) => (\n\t\t\t\t<Fragment key={id}>{`${minPerImpression.toFixed(\n\t\t\t\t\t2\n\t\t\t\t)} ${symbol}`}</Fragment>\n\t\t\t),\n\t\t},\n\t},\n\t{\n\t\tname: 'created',\n\t\tlabel: t('PROP_CREATED'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tsortDirection: 'desc',\n\t\t\tcustomBodyRender: created => formatDate(created),\n\t\t},\n\t},\n\t{\n\t\tname: 'activeFrom',\n\t\tlabel: t('PROP_STARTS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tdisplay: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: activeFrom => formatDateTime(activeFrom),\n\t\t},\n\t},\n\t{\n\t\tname: 'withdrawPeriodStart',\n\t\tlabel: t('PROP_ENDS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tdisplay: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: withdrawPeriodStart =>\n\t\t\t\tformatDateTime(withdrawPeriodStart),\n\t\t},\n\t},\n\t{\n\t\tname: 'actions',\n\t\tlabel: t('ACTIONS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tdownload: false,\n\t\t\tcustomBodyRender: ({ side, id, receiptReady, to, toReceipt }) => (\n\t\t\t\t<Fragment key={id}>\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\n\t\t\t\t\t\t// placement='top'\n\t\t\t\t\t\tenterDelay={1000}\n\t\t\t\t\t>\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\n\t\t\t\t\t\t\t<Visibility color='primary' />\n\t\t\t\t\t\t</RRIconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\treceiptReady\n\t\t\t\t\t\t\t\t? t('RECEIPT_VIEW')\n\t\t\t\t\t\t\t\t: 'Report not available until the campaign is completed'\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// placement='top'\n\t\t\t\t\t\tenterDelay={1000}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* SPAN needed to enable tooltip on hover of disabled element\n\t\t\t\t\t\t https://material-ui.com/components/tooltips/#disabled-elements\n\t\t\t\t\t\t*/}\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<RRIconButton\n\t\t\t\t\t\t\t\tto={toReceipt}\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\taria-label='receip'\n\t\t\t\t\t\t\t\tdisabled={!receiptReady}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Receipt color={receiptReady ? 'primary' : 'disabled'} />\n\t\t\t\t\t\t\t</RRIconButton>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t},\n\t},\n]\n\nconst onDownload = (buildHead, buildBody, columns, data, decimals, symbol) => {\n\tconst mappedData = data.map(i => ({\n\t\tindex: i.index,\n\t\tdata: [\n\t\t\ti.data[0],\n\t\t\ti.data[1],\n\t\t\ti.data[2],\n\t\t\ti.data[3].humanFriendlyName,\n\t\t\t`${i.data[4]} ${symbol}`,\n\t\t\t`${((i.data[5] || 0) / 10).toFixed(2)} %`,\n\t\t\ti.data[6],\n\t\t\ti.data[7],\n\t\t\ti.data[8],\n\t\t\tformatDateTime(i.data[9]),\n\t\t\tformatDateTime(i.data[10]),\n\t\t\tformatDateTime(i.data[11]),\n\t\t],\n\t}))\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\n}\n\nconst getOptions = ({ decimals, symbol, reloadData }) => ({\n\tfilterType: 'multiselect',\n\tselectableRows: 'none',\n\tonDownload: (buildHead, buildBody, columns, data) =>\n\t\tonDownload(buildHead, buildBody, columns, data, decimals, symbol),\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\n\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\n\t\tconst selectedItems = displayData\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\n\t\t\t.map(item => item.data[0])\n\t\treturn (\n\t\t\t<PrintAllReceipts\n\t\t\t\thandlePrintAllReceipts={() =>\n\t\t\t\t\texecute(handlePrintSelectedReceiptsAdvertiser(selectedItems))\n\t\t\t\t}\n\t\t\t\tdisabled={selectedItems.length === 0}\n\t\t\t/>\n\t\t)\n\t},\n})\n\nfunction CampaignsTable(props) {\n\tconst classes = useStyles()\n\tconst side = useSelector(selectSide)\n\tconst maxImpressions = useSelector(selectCampaignsMaxImpressions)\n\tconst maxClicks = useSelector(selectCampaignsMaxClicks)\n\tconst maxDeposit = useSelector(selectCampaignsMaxDeposit)\n\tconst { symbol, decimals } = useSelector(selectMainToken)\n\tconst campaignsLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'campaigns')\n\t)\n\n\tconst { data, columns, reloadData } = useTableData({\n\t\tselector: selectCampaignsTableData,\n\t\tselectorArgs: side,\n\t\tgetColumns: () =>\n\t\t\tgetCols({\n\t\t\t\tdecimals,\n\t\t\t\tclasses,\n\t\t\t\tsymbol,\n\t\t\t\tmaxImpressions,\n\t\t\t\tmaxClicks,\n\t\t\t\tmaxDeposit,\n\t\t\t}),\n\t})\n\n\tconst options = getOptions({ decimals, symbol, reloadData })\n\n\treturn (\n\t\t<MUIDataTableEnhanced\n\t\t\ttitle={t('ALL_CAMPAIGNS')}\n\t\t\tdata={data}\n\t\t\tcolumns={columns}\n\t\t\toptions={options}\n\t\t\trowSelectable\n\t\t\ttoolbarEnabled\n\t\t\tloading={!campaignsLoaded}\n\t\t\t{...props}\n\t\t/>\n\t)\n}\n\nexport default CampaignsTable\n","import React from 'react'\n\nimport { OutlinedInput, InputLabel, FormControl, Box } from '@material-ui/core'\n\nconst PropBaseComponent = ({ value, inputRef, ...rest }) => (\n\t<Box {...rest}>{value}</Box>\n)\n\nconst OutlinedPropView = ({ label, value, margin }) => (\n\t<Box py={1}>\n\t\t<FormControl variant='outlined' fullWidth>\n\t\t\t<InputLabel shrink disableAnimation>\n\t\t\t\t{label}\n\t\t\t</InputLabel>\n\n\t\t\t<OutlinedInput\n\t\t\t\tmargin={margin}\n\t\t\t\tfullWidth\n\t\t\t\tnotched\n\t\t\t\treadOnly\n\t\t\t\tname={label}\n\t\t\t\tlabel={label}\n\t\t\t\tinputComponent={PropBaseComponent}\n\t\t\t\tinputProps={{ style: { height: 'auto', wordWrap: 'break-word' } }}\n\t\t\t\tvalue={value}\n\t\t\t/>\n\t\t</FormControl>\n\t</Box>\n)\n\nexport default OutlinedPropView\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { CircularProgress, Fab } from '@material-ui/core'\nimport { Check, Save } from '@material-ui/icons'\n\nexport const styles = theme => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t},\n\twrapper: {\n\t\tposition: 'relative',\n\t},\n\tbuttonSuccess: {\n\t\tbackgroundColor: theme.palette.success.main,\n\t\tcolor: theme.palette.success.contrastText,\n\t\t'&:hover': {\n\t\t\tbackgroundColor: theme.palette.success.dark,\n\t\t},\n\t},\n\tfabProgress: {\n\t\tposition: 'absolute',\n\t\ttop: -5,\n\t\tleft: -5,\n\t\tzIndex: 1,\n\t},\n})\n\nconst useStyles = makeStyles(styles)\n\nexport const SaveBtn = ({\n\tspinner,\n\tsuccess,\n\tdirtyProps = [],\n\tsave,\n\tdisabled,\n}) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t!!dirtyProps.length && (\n\t\t\t<div className={classes.wrapper}>\n\t\t\t\t<Fab\n\t\t\t\t\tsize='medium'\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tonClick={save}\n\t\t\t\t\tdisabled={disabled || spinner || !dirtyProps.length}\n\t\t\t\t>\n\t\t\t\t\t{/*TODO: Success */}\n\t\t\t\t\t{success ? <Check /> : <Save />}\n\t\t\t\t</Fab>\n\t\t\t\t{!!spinner && (\n\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\tsize={58}\n\t\t\t\t\t\tclassName={classes.fabProgress}\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t)\n}\n","import React, { Fragment, forwardRef } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Prompt } from 'react-router'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tChip,\n\tInputAdornment,\n\tIconButton,\n\tTooltip,\n\tCard,\n\tCardMedia,\n\tTextField,\n\tBox,\n\tPaper,\n\tCollapse,\n\tButton,\n\tFormControl,\n\tFormControlLabel,\n\tFormGroup,\n\tFormHelperText,\n\tCheckbox,\n\tGrid,\n} from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\nimport {\n\tInfo,\n\tEdit,\n\tUndoOutlined,\n\tOpenInNew,\n\tArchiveSharp as ArchiveIcon,\n} from '@material-ui/icons'\nimport Img from 'components/common/img/Img'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { bigNumberify } from 'ethers/utils'\nimport { t, selectMainToken, selectAuthType } from 'selectors'\nimport {\n\texecute,\n\tconfirmAction,\n\tarchiveItem,\n\tvalidateNumberString,\n} from 'actions'\nimport { styles } from './styles'\nimport { SaveBtn } from './SaveBtn'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst useStyles = makeStyles(styles)\n\nexport const DirtyProps = ({ dirtyProps = [], returnPropToInitialState }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Prompt when={!!dirtyProps.length} message={t('UNSAVED_CHANGES_ALERT')} />\n\t\t\t{!!dirtyProps.length && (\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexGrow={1}\n\t\t\t\t\tflexDirection='row'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='flex-start'\n\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\tmr={1}\n\t\t\t\t>\n\t\t\t\t\t<Info color='secondary' className={classes.changeChip} />\n\t\t\t\t\t<span className={classes.changeChip}>{t('UNSAVED_CHANGES')}:</span>\n\t\t\t\t\t{dirtyProps.map(p => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\tclassName={classes.changeChip}\n\t\t\t\t\t\t\t\tkey={p.name || p}\n\t\t\t\t\t\t\t\tlabel={t(p.name || p, { isProp: true })}\n\t\t\t\t\t\t\t\tonDelete={() => {\n\t\t\t\t\t\t\t\t\treturnPropToInitialState(p)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdeleteIcon={<UndoOutlined />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n\nexport const ChangeControls = hookProps => {\n\tconst classes = useStyles()\n\tconst authType = useSelector(selectAuthType)\n\n\treturn (\n\t\t<div className={classes.changeControls}>\n\t\t\t<Collapse timeout={69} in={!!hookProps.dirtyProps.length}>\n\t\t\t\t<Paper variant='outlined' className={classes.changeControlsPaper}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\tp={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DirtyProps {...hookProps} />\n\t\t\t\t\t\t<SaveBtn {...hookProps} />\n\t\t\t\t\t</Box>\n\t\t\t\t</Paper>\n\t\t\t\t{hookProps.spinner && hookProps.dirtyProps.includes('audienceInput') && (\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t{WALLET_ACTIONS_MSGS[authType || 'default'].map((msg, i) => (\n\t\t\t\t\t\t\t<Box my={1} key={msg.message + i}>\n\t\t\t\t\t\t\t\t<Alert key={i} severity='info' variant='outlined'>\n\t\t\t\t\t\t\t\t\t{t(msg.message)}\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</Collapse>\n\t\t</div>\n\t)\n}\n\nexport const ItemTabsContainer = ({ children, noBackground }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Paper\n\t\t\tclassName={classes.itemTabsContainer}\n\t\t\tstyle={noBackground ? { background: 0 } : {}}\n\t\t\tvariant='outlined'\n\t\t>\n\t\t\t{children}\n\t\t</Paper>\n\t)\n}\n\nexport const ItemTabsBar = ({ children }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Paper className={classes.itemTabsBar} variant='outlined'>\n\t\t\t{children}\n\t\t</Paper>\n\t)\n}\n\nexport const ItemSpecProp = ({\n\tprop,\n\tlabel,\n\tvalue = '',\n\thelperText,\n\tInputProps,\n\t...rest\n}) => {\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid={prop}\n\t\t\tlabel={label}\n\t\t\ttype='text'\n\t\t\tmargin='dense'\n\t\t\tname={prop}\n\t\t\tvalue={value || ''}\n\t\t\t// disabled\n\t\t\treadOnly\n\t\t\thelperText={helperText}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={InputProps}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const ItemTitle = ({\n\ttitle,\n\terrTitle,\n\tupdateField,\n\tsetActiveFields,\n\treturnPropToInitialState,\n\tactiveFields = {},\n}) => {\n\tconst active = !!activeFields.title\n\tconst showError = !!errTitle && errTitle.dirty\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-title'\n\t\t\tlabel={t('title', { isProp: true })}\n\t\t\ttype='text'\n\t\t\tname='title'\n\t\t\tvalue={title || ''}\n\t\t\tonChange={ev => {\n\t\t\t\tupdateField('title', ev.target.value)\n\t\t\t}}\n\t\t\tdisabled={!active}\n\t\t\terror={showError}\n\t\t\thelperText={\n\t\t\t\tshowError ? t(errTitle.errMsg, { args: errTitle.errMsgArgs }) : ''\n\t\t\t}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: (\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('title')\n\t\t\t\t\t\t\t\t\t: setActiveFields('title', true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const ItemDescription = ({\n\tdescription,\n\terrDescription,\n\tupdateField,\n\tsetActiveFields,\n\treturnPropToInitialState,\n\tactiveFields = {},\n}) => {\n\tconst active = !!activeFields.description\n\tconst showError = !!errDescription && errDescription.dirty\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-description'\n\t\t\tlabel={t('description', { isProp: true })}\n\t\t\ttype='text'\n\t\t\tname='description'\n\t\t\tvalue={description || ''}\n\t\t\tonChange={ev => {\n\t\t\t\tupdateField('description', ev.target.value)\n\t\t\t}}\n\t\t\tmaxLength={1024}\n\t\t\tmultiline\n\t\t\trows={2}\n\t\t\tdisabled={!activeFields.description}\n\t\t\terror={showError}\n\t\t\thelperText={\n\t\t\t\tshowError\n\t\t\t\t\t? t(errDescription.errMsg, {\n\t\t\t\t\t\t\targs: errDescription.errMsgArgs,\n\t\t\t\t\t  })\n\t\t\t\t\t: ''\n\t\t\t}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: (\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('description')\n\t\t\t\t\t\t\t\t\t: setActiveFields('description', true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const ItemAdType = ({ type }) => {\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-type'\n\t\t\tlabel={t('type', { isProp: true })}\n\t\t\ttype='text'\n\t\t\tname='type'\n\t\t\tvalue={type || ''}\n\t\t\tdisabled={true}\n\t\t\tvariant='outlined'\n\t\t/>\n\t)\n}\n\nconst OpenInNewIconBtn = ({ forwardedRef, ...props }) => {\n\treturn (\n\t\t<IconButton {...props}>\n\t\t\t<OpenInNew />\n\t\t</IconButton>\n\t)\n}\n\nconst IconButtonWithRef = forwardRef((props, ref) => (\n\t<OpenInNewIconBtn {...props} forwardedRef={ref} />\n))\n\nexport const ItemTargetURL = ({ targetUrl = '', label }) => {\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-targetUrl'\n\t\t\tlabel={t(label || 'PROP_TARGETURL')}\n\t\t\ttype='text'\n\t\t\tname='targetUrl'\n\t\t\tvalue={targetUrl}\n\t\t\tdisabled={true}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: (\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\thref={targetUrl}\n\t\t\t\t\t\t\tcomponent={IconButtonWithRef}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const ItemFallbackMediaURL = ({ targetUrl = '' }) => {\n\t// TODO: need to take it from fallbackUnit\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-targetUrl'\n\t\t\tlabel={t('PROP_FALLBACKADURL')}\n\t\t\ttype='text'\n\t\t\tname='targetUrl'\n\t\t\tvalue={targetUrl}\n\t\t\tdisabled={true}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: (\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\thref={targetUrl}\n\t\t\t\t\t\t\tcomponent={IconButtonWithRef}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const MediaCard = ({ mediaUrl = '', mediaMime = '', label = '' }) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<Card className={classes.card} raised={false} variant='outlined'>\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\n\t\t\t\t<Img\n\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\tsrc={mediaUrl}\n\t\t\t\t\talt={label || t('MEDIA')}\n\t\t\t\t\tclassName={classes.img}\n\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\tallowVideo\n\t\t\t\t/>\n\t\t\t\t{label && (\n\t\t\t\t\t<Chip size='small' className={classes.mediaPropChip} label={label} />\n\t\t\t\t)}\n\t\t\t</CardMedia>\n\t\t</Card>\n\t)\n}\n\nexport const ItemWebsite = ({\n\titem = {},\n\tinitialItemState = {},\n\tvalidations,\n\tupdateField,\n\tsetActiveFields,\n\treturnPropToInitialState,\n\tactiveFields = {},\n}) => {\n\tconst { website } = item\n\tconst active = !!activeFields.website\n\tconst { website: error } = validations\n\tconst showError = !!error && error.dirty\n\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-website'\n\t\t\tlabel={t('SLOT_WEBSITE')}\n\t\t\ttype='text'\n\t\t\tname='website'\n\t\t\tvalue={website || ' '}\n\t\t\tonChange={ev => {\n\t\t\t\tupdateField('website', (ev.target.value || '').trim())\n\t\t\t}}\n\t\t\tdisabled={!!initialItemState.website || !active}\n\t\t\terror={showError}\n\t\t\thelperText={\n\t\t\t\tshowError ? (\n\t\t\t\t\tt(error.errMsg, { args: error.errMsgArgs })\n\t\t\t\t) : (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{activeFields.website && (\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t__html: t('SLOT_MIN_CPM_HELPER'),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Fragment>\n\t\t\t\t)\n\t\t\t}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: !initialItemState.website && (\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('website')\n\t\t\t\t\t\t\t\t\t: setActiveFields('website', true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const ArchiveItemBtn = ({\n\titemId,\n\titemType = '',\n\ttitle,\n\tisIconBtn,\n\tonSuccess,\n\tgoToTableOnSuccess,\n\tfullWidth,\n}) => {\n\tconst labelArgs = itemType.toUpperCase()\n\n\tconst onClick = () => {\n\t\texecute(\n\t\t\tconfirmAction(\n\t\t\t\t() =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tarchiveItem({ itemId, itemType, onSuccess, goToTableOnSuccess })\n\t\t\t\t\t),\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\tconfirmLabel: t(`ARCHIVE_CONFIRM_LABEL`, {\n\t\t\t\t\t\targs: [labelArgs],\n\t\t\t\t\t}),\n\t\t\t\t\tcancelLabel: t('CANCEL'),\n\t\t\t\t\ttitle: t(`ARCHIVE_CONFIRM_TITLE`, {\n\t\t\t\t\t\targs: [labelArgs, title],\n\t\t\t\t\t}),\n\t\t\t\t\ttext: t(`ARCHIVE_CONFIRM_INFO`, {\n\t\t\t\t\t\targs: [labelArgs, title],\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t)\n\t\t)\n\t}\n\treturn (\n\t\t<Tooltip\n\t\t\ttitle={t('LABEL_ARCHIVE', { args: [labelArgs] })}\n\t\t\taria-label='archive'\n\t\t>\n\t\t\t{isIconBtn ? (\n\t\t\t\t<IconButton onClick={onClick} aria-label={`archive-${itemId}`}>\n\t\t\t\t\t<ArchiveIcon color='action' />\n\t\t\t\t</IconButton>\n\t\t\t) : (\n\t\t\t\t<Button\n\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tonClick={onClick}\n\t\t\t\t\taria-label={`archive-${itemId}`}\n\t\t\t\t>\n\t\t\t\t\t{t('ARCHIVE')}\n\t\t\t\t</Button>\n\t\t\t)}\n\t\t</Tooltip>\n\t)\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tcard: {\n\t\t\tbackgroundColor: theme.palette.grey.main,\n\t\t\twidth: '100%',\n\t\t\tdisplay: 'block',\n\t\t\tposition: 'relative',\n\t\t\tmaxWidth: '100%',\n\t\t},\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\twidth: 'auto',\n\t\t\tmaxHeight: '100%',\n\t\t},\n\t\tbasicInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'start',\n\t\t\tflexWrap: 'wrap',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\tlabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t},\n\n\t\tbuttonLeft: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\n\t\ttextField: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\ttop: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflexWrap: 'wrap',\n\t\t\tmaxWidth: '70%',\n\t\t},\n\t\tchangesLine: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\talignItems: 'center',\n\t\t},\n\t\tchangeChip: {\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing / 2,\n\t\t\tmarginTop: spacing / 2,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: spacing,\n\t\t\tright: spacing,\n\t\t},\n\t\tmediaPropChip: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: spacing,\n\t\t\tleft: spacing,\n\t\t},\n\t\tchangeControls: {\n\t\t\tposition: 'sticky',\n\t\t\ttop: 0,\n\t\t\tzIndex: theme.zIndex.appBar,\n\t\t},\n\t\tchangeControlsPaper: {\n\t\t\tborderColor: theme.palette.secondary.main,\n\t\t\t// marginBottom: spacing,\n\t\t\t// marginTop: spacing,\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\tmarginBottom: 0,\n\t\t\t},\n\t\t},\n\t\titemTabsBar: {\n\t\t\t// borderBottom: 0,\n\t\t},\n\t\titemTabsContainer: {\n\t\t\tborderTop: 0,\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t},\n\t}\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tselectItemByTypeAndId,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport { execute } from 'actions'\nimport { Base } from 'adex-models'\n\nexport function useItem({ itemType, match, objModel, validateAndUpdateFn }) {\n\tconst [item, setItem] = useState({})\n\tconst [initialItemState, setInitialItemState] = useState({})\n\tconst [activeFields, setFields] = useState({})\n\tconst [dirtyProps, setDirtyProps] = useState([])\n\tconst [validateId, setValidateId] = useState('update-default')\n\n\tconst storeItem = useSelector(state =>\n\t\tselectItemByTypeAndId(state, itemType, match.params.itemId)\n\t)\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\n\tuseEffect(() => {\n\t\tconst initial = new objModel(storeItem)\n\t\tsetItem(initial)\n\t\tsetInitialItemState(initial)\n\t\tsetValidateId(`update-${item.id}`)\n\t}, [item.id, objModel, storeItem])\n\n\tconst setActiveFields = useCallback(\n\t\t(field, value) => {\n\t\t\tsetFields({ ...activeFields, [field]: value })\n\t\t},\n\t\t[activeFields]\n\t)\n\n\tconst validate = useCallback(\n\t\tdirty =>\n\t\t\texecute(validateAndUpdateFn({ item, validateId, dirty, dirtyProps })),\n\t\t[dirtyProps, item, validateAndUpdateFn, validateId]\n\t)\n\n\tconst save = useCallback(async () => {\n\t\tawait execute(\n\t\t\tvalidateAndUpdateFn({\n\t\t\t\titem,\n\t\t\t\tvalidateId,\n\t\t\t\tdirty: true,\n\t\t\t\tupdate: true,\n\t\t\t\tdirtyProps,\n\t\t\t})\n\t\t)\n\t\tsetDirtyProps([])\n\t\tsetFields({})\n\t}, [dirtyProps, item, validateAndUpdateFn, validateId])\n\n\tconst returnPropToInitialState = useCallback(\n\t\tprop => {\n\t\t\tconst newItem = new objModel(item)\n\t\t\tconst dirtyIndex = dirtyProps.findIndex(\n\t\t\t\tp => (p.name || p) === (prop.name || prop)\n\t\t\t)\n\n\t\t\tif (dirtyIndex > -1) {\n\t\t\t\tconst newDirtyProps = [...dirtyProps]\n\t\t\t\tconst dpValue = newDirtyProps[dirtyIndex]\n\t\t\t\tnewDirtyProps.splice(dirtyIndex, 1)\n\n\t\t\t\tif (dpValue.fields) {\n\t\t\t\t\tdpValue.fields.forEach(\n\t\t\t\t\t\tprop => (newItem[prop] = initialItemState[prop])\n\t\t\t\t\t)\n\t\t\t\t} else {\n\t\t\t\t\tnewItem[dpValue] = initialItemState[prop]\n\t\t\t\t}\n\n\t\t\t\tsetItem(newItem)\n\t\t\t\tsetDirtyProps(newDirtyProps)\n\t\t\t\tsetActiveFields(prop.name || prop, false)\n\t\t\t\tvalidate(false)\n\t\t\t}\n\t\t},\n\t\t[dirtyProps, initialItemState, item, objModel, setActiveFields, validate]\n\t)\n\n\tconst updateField = useCallback(\n\t\t(field, value, dpValue) => {\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[field] = value\n\n\t\t\tsetItem(newItem)\n\n\t\t\tconst dp = dirtyProps.slice(0)\n\n\t\t\tif (!dp.some(p => (p.name || p) === (dpValue ? dpValue.name : field))) {\n\t\t\t\tdp.push(dpValue || field)\n\t\t\t}\n\t\t\tsetDirtyProps(dp)\n\t\t},\n\t\t[dirtyProps, item, objModel]\n\t)\n\n\tconst updateMultipleFields = useCallback(\n\t\t(newValues, dirtyFields = []) => {\n\t\t\tconst updated = Base.updateObject({ item, newValues, objModel })\n\n\t\t\tsetItem(new objModel(updated))\n\n\t\t\tconst dp = dirtyProps.slice(0)\n\t\t\tdirtyFields.forEach(field => {\n\t\t\t\tif (!dp.some(p => (p.name || p) === (field.name || field))) {\n\t\t\t\t\tdp.push(field)\n\t\t\t\t}\n\t\t\t})\n\t\t\tsetDirtyProps(dp)\n\t\t},\n\t\t[dirtyProps, item, objModel]\n\t)\n\n\treturn {\n\t\titem,\n\t\tinitialItemState,\n\t\tactiveFields,\n\t\tsetActiveFields,\n\t\tdirtyProps,\n\t\treturnPropToInitialState,\n\t\tvalidate,\n\t\tvalidateId,\n\t\tvalidations,\n\t\tupdateField,\n\t\tupdateMultipleFields,\n\t\tspinner,\n\t\tsave,\n\t}\n}\n","import React, { useEffect, useState, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tStepper as StepperMUI,\n\tMobileStepper,\n\tStep,\n\tStepLabel,\n\tButton,\n\tPaper,\n\tBox,\n\tChip,\n\tCircularProgress,\n\tTypography,\n} from '@material-ui/core'\nimport { styles } from './styles'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\n\nconst getDirtyValidationErrors = (validations = {}) => {\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\n\t\tconst err = validations[key]\n\t\tif (err.dirty) {\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\n\t\t}\n\t\treturn dirtyErrs\n\t}, [])\n\n\treturn errors\n}\n\nconst useStyles = makeStyles(styles)\n\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\nconst StepperNav = ({ steps, currentPage, classes, ...other }) => {\n\tif (window.innerWidth <= 768) {\n\t\treturn (\n\t\t\t<Box\n\t\t\t\tflex\n\t\t\t\tflexDirection='column'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='center'\n\t\t\t>\n\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography align='center'>\n\t\t\t\t\t\t\t{(steps[currentPage] || {}).title}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\n\t\t\t\t\t<MobileStepper\n\t\t\t\t\t\tactiveStep={currentPage}\n\t\t\t\t\t\tsteps={steps.length}\n\t\t\t\t\t\tposition='static'\n\t\t\t\t\t\tvariant='text'\n\t\t\t\t\t\talign='center'\n\t\t\t\t\t\tclassName={classes.mobileStepper}\n\t\t\t\t\t></MobileStepper>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t)\n\t}\n\treturn (\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\n\t\t\t{steps.map((page, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Step key={page.title}>\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\n\t\t\t\t\t</Step>\n\t\t\t\t)\n\t\t\t})}\n\t\t</StepperMUI>\n\t)\n}\n\nconst MaterialStepper = props => {\n\tconst {\n\t\tinitialPage = 0,\n\t\tsteps = [],\n\t\tcloseDialog,\n\t\t// ...rest\n\t} = props\n\tconst classes = useStyles()\n\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\n\tconst canReverse = steps.length > currentPage && currentPage > 0\n\n\tconst page = steps[currentPage] || {}\n\tconst pageProps = page.props || {}\n\tconst { validateId } = pageProps\n\tconst Comp = page.component || null\n\tconst {\n\t\tvalidationFn,\n\t\tonValid,\n\t\tstepsId,\n\t\tcompleteFn,\n\t\tcompleteBtnTitle = '',\n\t} = page\n\n\tconst validations = useSelector(state =>\n\t\tselectValidationsById(state, validateId)\n\t)\n\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\n\n\tconst validationSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, validateId)\n\t)\n\n\tconst stepsSpinner = useSelector(state => selectSpinnerById(state, stepsId))\n\n\tconst spinner = validationSpinner || stepsSpinner\n\n\tconst isValidPage = useCallback(() => {\n\t\treturn !Object.keys(validations || {}).length\n\t}, [validations])\n\n\t// const canAdvance = isValidPage() && !page.completeBtn\n\n\tconst goToPage = useCallback(\n\t\tasync nextStep => {\n\t\t\tconst canAdvance = nextStep > currentPage\n\t\t\tconst canGoBack = nextStep < currentPage\n\n\t\t\tif (canAdvance || canGoBack) {\n\t\t\t\tsetCurrentPage(nextStep)\n\t\t\t}\n\t\t},\n\t\t[currentPage]\n\t)\n\n\tconst goToPreviousPage = useCallback(async () => {\n\t\tif (canReverse) {\n\t\t\tgoToPage(currentPage - 1)\n\t\t}\n\t}, [canReverse, currentPage, goToPage])\n\n\tconst goToNextPage = useCallback(async () => {\n\t\tif (validationFn) {\n\t\t\tvalidationFn({\n\t\t\t\tstepsId,\n\t\t\t\tvalidateId,\n\t\t\t\tdirty: true,\n\t\t\t\tonValid: onValid || (() => goToPage(currentPage + 1)),\n\t\t\t})\n\t\t} else if (isValidPage()) {\n\t\t\tgoToPage(currentPage + 1)\n\t\t}\n\t}, [\n\t\tcurrentPage,\n\t\tgoToPage,\n\t\tisValidPage,\n\t\tonValid,\n\t\tvalidationFn,\n\t\tstepsId,\n\t\tvalidateId,\n\t])\n\n\tconst handleComplete = useCallback(async () => {\n\t\tawait completeFn({\n\t\t\tstepsId,\n\t\t\tvalidateId,\n\t\t\tonValid: () => typeof closeDialog === 'function' && closeDialog(),\n\t\t})\n\t}, [closeDialog, completeFn, stepsId, validateId])\n\n\tuseEffect(() => {\n\t\tif (validationFn) {\n\t\t\tvalidationFn({ stepsId, validateId, dirty: false })\n\t\t}\n\t}, [currentPage, validationFn, stepsId, validateId])\n\n\tconst onKeyPressed = useCallback(\n\t\tasync ev => {\n\t\t\tif (ev.key === 'Enter') {\n\t\t\t\tev.preventDefault()\n\t\t\t\tgoToNextPage()\n\t\t\t}\n\t\t},\n\t\t[goToNextPage]\n\t)\n\n\treturn (\n\t\t<Box\n\t\t\tclassName={classes.stepperWrapper}\n\t\t\tonKeyPress={onKeyPressed}\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='space-between'\n\t\t>\n\t\t\t<Box mb={1}>\n\t\t\t\t<Paper\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\troot: classes.stepperNav,\n\t\t\t\t\t}}\n\t\t\t\t\televation={0}\n\t\t\t\t>\n\t\t\t\t\t<StepperNav\n\t\t\t\t\t\t{...props}\n\t\t\t\t\t\tsteps={steps}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\tgoToPage={goToPage}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.pagePaper,\n\t\t\t\t}}\n\t\t\t\televation={0}\n\t\t\t>\n\t\t\t\t{!!Comp && <Comp {...pageProps} />}\n\t\t\t</Paper>\n\n\t\t\t{!!dirtyErrors.length && (\n\t\t\t\t<Box color='error.main' mt={1}>\n\t\t\t\t\t{dirtyErrors.map(err => (\n\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\tkey={err.field}\n\t\t\t\t\t\t\tclasses={{ root: classes.errChip }}\n\t\t\t\t\t\t\ticon={<ErrorIcon />}\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\n\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t<Box mt={1}>\n\t\t\t\t<div className={classes.left}>\n\t\t\t\t\t{canReverse && (\n\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className={classes.right}>\n\t\t\t\t\t{typeof page.cancelFunction === 'function' && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\ttypeof closeDialog === 'function' && closeDialog()\n\t\t\t\t\t\t\t\tpage.cancelFunction(stepsId)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('CANCEL')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\n\t\t\t\t\t\t{typeof completeFn === 'function' ? (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={handleComplete}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(completeBtnTitle || 'DO_IT_NOW')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={goToNextPage}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('CONTINUE')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{spinner && (\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nMaterialStepper.propTypes = {\n\tsteps: PropTypes.array.isRequired,\n}\n\nexport default MaterialStepper\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst ds = theme.spacing(2)\n\tconst errColor = theme.palette.error.main\n\treturn {\n\t\troot: {\n\t\t\tcolor: 'purple',\n\t\t\t'&$active': {\n\t\t\t\tcolor: 'green',\n\t\t\t},\n\t\t},\n\t\tactive: {\n\t\t\tcolor: 'yellow',\n\t\t},\n\t\tstepperWrapper: {\n\t\t\tposition: 'absolute',\n\t\t\toverflow: 'hidden',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t},\n\t\tpagePaper: {\n\t\t\tflex: '1 1 auto',\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t\theight: 0,\n\t\t\tpadding: spacing,\n\t\t},\n\t\tright: {\n\t\t\ttextAlign: 'right',\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '86%',\n\t\t\t},\n\t\t},\n\t\tleft: {\n\t\t\tdisplay: 'inline-block',\n\t\t\ttextAlign: 'left',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '14%',\n\t\t\t},\n\t\t},\n\t\tmobileStepper: {\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmarginLeft: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t\terrChip: {\n\t\t\tcolor: errColor,\n\t\t\tborderColor: errColor,\n\t\t\t'& svg': {\n\t\t\t\tcolor: errColor,\n\t\t\t},\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t}\n}\n","import React, { forwardRef, useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport { t, selectLocationQuery } from 'selectors'\n\nfunction FormSteps({ cancelFunction, stepsId, steps, closeDialog, ...rest }) {\n\tconst [stepperSteps, setSteps] = useState([])\n\tconst { step = 0 } = useSelector(selectLocationQuery)\n\n\tuseEffect(() => {\n\t\tconst updatedSteps = steps.map((s, index) => ({\n\t\t\t...s,\n\t\t\tstepsId,\n\t\t\ttitle: t(s.title),\n\t\t\tcancelFunction,\n\t\t\tprops: { ...rest, stepsId, validateId: stepsId + '-' + index },\n\t\t}))\n\n\t\tsetSteps(updatedSteps)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [stepsId])\n\n\treturn (\n\t\t<MaterialStepper\n\t\t\tinitialPage={step}\n\t\t\tsteps={stepperSteps}\n\t\t\tcloseDialog={closeDialog}\n\t\t/>\n\t)\n}\n\nFormSteps.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tsteps: PropTypes.arrayOf(PropTypes.object),\n}\n\nexport default forwardRef((props, ref) => (\n\t<FormSteps {...props} forwardedRef={ref} />\n))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tdialog: {\n\t\t\theight: `calc(100vh - ${spacing}px)`,\n\t\t\tminWidth: 1024,\n\t\t\tmaxWidth: 1080,\n\t\t\tbackgroundColor: theme.palette.appBar.main,\n\t\t\t'@media(max-width:1080px)': {\n\t\t\t\tmaxWidth: '100%',\n\t\t\t\tminWidth: `calc(100vw - ${spacing}px)`,\n\t\t\t},\n\t\t},\n\t\tdialogTitle: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t\twordWrap: 'break-word',\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: theme.spacing(2),\n\t\t\tmarginBottom: 0,\n\t\t\tpadding: 0,\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: spacing,\n\t\t\toverflow: 'visible',\n\t\t\toverflowY: 'auto',\n\t\t},\n\t\tcontentBox: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: 1,\n\t\t},\n\t\tpropRow: {\n\t\t\tmargin: '10px 0',\n\t\t\twidth: '100%',\n\t\t},\n\t\tcontentBody: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tcontentTopLoadingCircular: {\n\t\t\tflexShrink: 0,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tcontentTopLoading: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t\t'& > div': {\n\t\t\t\tpadding: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttextBtn: {\n\t\t\tcursor: 'pointer',\n\t\t},\n\t\tbtnIconLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tleftCol: {\n\t\t\ttextTransform: 'uppercase',\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\n\t\t\ttextAlign: 'right',\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\ttextAlign: 'left',\n\t\t\t},\n\t\t},\n\t\trightCol: {\n\t\t\ttextAlign: 'left',\n\t\t},\n\t\tprogressCircleCenter: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 30px)',\n\t\t\ttop: 'calc(50% - 30px)',\n\t\t},\n\t\tfloating: {\n\t\t\tposition: 'sticky',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tmarginBottom: theme.spacing(1),\n\t\t\tzIndex: theme.zIndex.appBar,\n\t\t\t'& svg': {\n\t\t\t\tmarginRight: theme.spacing(1),\n\t\t\t},\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\tmarginBottom: 0,\n\t\t\t\tposition: 'fixed',\n\t\t\t\ttop: 'auto',\n\t\t\t\tleft: 'auto',\n\t\t\t\tbottom: spacing,\n\t\t\t\tright: spacing,\n\t\t\t},\n\t\t},\n\t\tbreakLong: {\n\t\t\twordBreak: 'break-word',\n\t\t\toverflowWrap: 'break-word',\n\t\t\thyphens: 'auto',\n\t\t},\n\t\tdemoImg: {\n\t\t\ttop: 'auto',\n\t\t\tleft: 'auto',\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\twidth: '100px',\n\t\t\theight: 'auto',\n\t\t\tposition: 'absolute',\n\t\t},\n\t\tdemoBody: {\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontentStickyTop: {\n\t\t\tmarginBottom: '2rem',\n\t\t},\n\t\tfullContentMessage: {\n\t\t\tdisplay: 'flex',\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t},\n\t}\n}\n","import React, { Fragment, useState, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport classnames from 'classnames'\nimport Slide from '@material-ui/core/Slide'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Typography from '@material-ui/core/Typography'\nimport { t } from 'selectors'\n\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={classnames(classes.textBtn, className)}\n\t\t\tstyle={style}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{' '}\n\t\t\t{label}{' '}\n\t\t</span>\n\t)\n}\n\nconst TextBtn = withStyles(styles)(textBtn)\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction='up' ref={ref} {...props} />\n})\n\nconst useStyles = makeStyles(styles)\n\nexport default function WithDialogHoc(Decorated) {\n\tfunction WithDialog(props) {\n\t\tconst {\n\t\t\tdisableBackdropClick = false,\n\t\t\tforwardedRef,\n\t\t\ticonButton,\n\t\t\ttextButton,\n\t\t\tfabButton,\n\t\t\tvariant,\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tbtnLabelArgs,\n\t\t\tbtnLabel,\n\t\t\tdisabled,\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\ttitle,\n\t\t\tdialogActions,\n\t\t\tonClick,\n\t\t\tfullWidth,\n\t\t\tonBeforeOpen,\n\t\t\t...rest\n\t\t} = props\n\n\t\tconst btnProps = {\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tvariant,\n\t\t}\n\n\t\tconst classes = useStyles()\n\t\tconst [open, setOpen] = useState(false)\n\n\t\tconst handleToggle = async () => {\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\n\t\t\t\tawait onBeforeOpen()\n\t\t\t}\n\n\t\t\tsetOpen(!open)\n\t\t}\n\n\t\tconst handleClick = async ev => {\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\t\tev && ev.preventDefault && ev.preventDefault()\n\t\t\tawait handleToggle()\n\t\t\tif (onClick) await onClick()\n\t\t}\n\n\t\tconst closeDialog = () => {\n\t\t\tsetOpen(false)\n\t\t}\n\n\t\tlet ButtonComponent = null\n\n\t\tif (iconButton) {\n\t\t\tButtonComponent = IconButton\n\t\t} else if (textButton) {\n\t\t\tButtonComponent = TextBtn\n\t\t} else if (fabButton) {\n\t\t\tButtonComponent = Fab\n\t\t} else {\n\t\t\tButtonComponent = Button\n\t\t\tbtnProps.fullWidth = fullWidth\n\t\t}\n\n\t\tconst btnLabelTranslated = btnLabel\n\t\t\t? t(btnLabel, { args: btnLabelArgs || [''] })\n\t\t\t: ''\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<ButtonComponent\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\taria-label={btnLabelTranslated}\n\t\t\t\t\tlabel={btnLabelTranslated}\n\t\t\t\t\tonClick={ev => handleClick(ev)}\n\t\t\t\t\t{...btnProps}\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{icon}\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\n\t\t\t\t</ButtonComponent>\n\t\t\t\t<Dialog\n\t\t\t\t\tdisableBackdropClick={disableBackdropClick}\n\t\t\t\t\t// disableEscapeKeyDown\n\t\t\t\t\t// maxWidth=\"xs\"\n\t\t\t\t\t// fullScreen\n\t\t\t\t\topen={open}\n\t\t\t\t\tonClose={handleToggle}\n\t\t\t\t\tTransitionComponent={Transition}\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t\t\t// onEscKeyDown={handleToggle}\n\t\t\t\t\t// onOverlayClick={handleToggle}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle\n\t\t\t\t\t\tdisableTypography\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography variant='subtitle1'>{t(title)}</Typography>\n\t\t\t\t\t\t<IconButton onClick={handleToggle} size='small'>\n\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\n\t\t\t\t</Dialog>\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\tWithDialog.propTypes = {\n\t\tbtnLabel: PropTypes.string,\n\t\ttitle: PropTypes.string.isRequired,\n\t\tfloating: PropTypes.bool,\n\t\tonBeforeOpen: PropTypes.func,\n\t}\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithDialog {...props} forwardedRef={ref} />\n\t))\n}\n","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tTextField,\n\tListSubheader,\n\tInputLabel,\n\tMenuItem,\n\tFormHelperText,\n\tFormControl,\n\tTooltip,\n\tTypography,\n\tSelect,\n} from '@material-ui/core'\nimport { InfoSharp } from '@material-ui/icons'\n\nimport { InputLoading } from 'components/common/spinners/'\nimport classnames from 'classnames'\nimport { t } from 'selectors'\n\nexport const styles = theme => ({\n\tformControl: {\n\t\tminWidth: 120,\n\t},\n\tgroupHeader: {\n\t\tbackgroundColor: theme.palette.background.paper,\n\t},\n\tmenuItem: {\n\t\twhiteSpace: 'break-spaces',\n\t\twordBreak: 'break-word',\n\t},\n})\n\nconst useStyles = makeStyles(styles)\n\nconst ExtraLabel = ({ label }) =>\n\tArray.isArray(label) ? (\n\t\t<Fragment>\n\t\t\t{label.map((x, index) => (\n\t\t\t\t<Typography\n\t\t\t\t\tkey={index}\n\t\t\t\t\tdisplay='block'\n\t\t\t\t\tvariant='caption'\n\t\t\t\t\tcolor='inherit'\n\t\t\t\t>\n\t\t\t\t\t{x}\n\t\t\t\t</Typography>\n\t\t\t))}\n\t\t</Fragment>\n\t) : (\n\t\tlabel\n\t)\n\nfunction Dropdown(props) {\n\tconst classes = useStyles()\n\n\tconst {\n\t\tonChange,\n\t\tlabel = '',\n\t\tvalue,\n\t\tsource = [],\n\t\thtmlId = 'some-id',\n\t\tdisabled = false,\n\t\terror = false,\n\t\thelperText,\n\t\tfullWidth = false,\n\t\tclassName,\n\t\trequired,\n\t\tloading,\n\t\tnoSrcLabel,\n\t\tvariant,\n\t\tIconComponent,\n\t} = props\n\n\tconst handleChange = event => {\n\t\tonChange(event.target.value)\n\t}\n\n\t// TODO: add native renderer for mobile devices when supported\n\treturn (\n\t\t<Fragment>\n\t\t\t{!!source.length && !loading ? (\n\t\t\t\t<FormControl\n\t\t\t\t\tclassName={classnames(className, classes.formControl)}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\terror={error}\n\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\tvariant={variant}\n\t\t\t\t>\n\t\t\t\t\t<InputLabel htmlFor={htmlId} required={required}>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</InputLabel>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tvalue={value.id || value}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tIconComponent={IconComponent}\n\t\t\t\t\t>\n\t\t\t\t\t\t{[...source].map(src => {\n\t\t\t\t\t\t\treturn src.group ? (\n\t\t\t\t\t\t\t\t<ListSubheader\n\t\t\t\t\t\t\t\t\tclassName={classes.groupHeader}\n\t\t\t\t\t\t\t\t\tkey={src.group.name || src.group}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{src.group.name || src.group}\n\t\t\t\t\t\t\t\t</ListSubheader>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\n\t\t\t\t\t\t\t\t\tclassName={classes.menuItem}\n\t\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{src.label}\n\t\t\t\t\t\t\t\t\t{!!src.extraLabel && (\n\t\t\t\t\t\t\t\t\t\t<Tooltip title={<ExtraLabel label={src.extraLabel} />}>\n\t\t\t\t\t\t\t\t\t\t\t<InfoSharp\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraInfo}\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize='small'\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Select>\n\t\t\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\n\t\t\t\t</FormControl>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tvariant={variant}\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t\tvalue={loading ? t('LOADING_DATA') : noSrcLabel}\n\t\t\t\t\t\thelperText={helperText}\n\t\t\t\t\t/>\n\t\t\t\t\t{!!loading && <InputLoading />}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n\nDropdown.propTypes = {\n\tlabel: PropTypes.string,\n\tonChange: PropTypes.func.isRequired,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string,\n\t\tPropTypes.bool,\n\t]),\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\n\tdisabled: PropTypes.bool,\n\terror: PropTypes.bool,\n\thtmlId: PropTypes.string.isRequired,\n\tdisplayEmpty: PropTypes.bool,\n\thelperText: PropTypes.string,\n\tIconComponent: PropTypes.elementType,\n}\n\nexport default Dropdown\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { Grid, TextField } from '@material-ui/core'\nimport Dropdown from 'components/common/dropdown'\nimport { execute, updateNewUnit } from 'actions'\nimport {\n\tt,\n\tselectValidationsById,\n\tselectNewAdUnit,\n\tselectUnitTypesSourceWithRecommendations,\n} from 'selectors'\n\nfunction AdUnitBasic({ validateId }) {\n\tconst { title, description, targetUrl, type } = useSelector(selectNewAdUnit)\n\tconst typesSources = useSelector(selectUnitTypesSourceWithRecommendations)\n\n\tconst {\n\t\ttitle: errTitle,\n\t\tdescription: errDescription,\n\t\ttargetUrl: errTargetUrl,\n\t\ttype: errType,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\tname='title'\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\tonChange={ev => execute(updateNewUnit('title', ev.target.value))}\n\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrTitle && !!errTitle.dirty ? errTitle.errMsg : t('TITLE_HELPER')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tmultiline\n\t\t\t\t\t\trows={3}\n\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(updateNewUnit('description', ev.target.value))\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(updateNewUnit('targetUrl', ev.target.value))\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty\n\t\t\t\t\t\t\t\t? errTargetUrl.errMsg\n\t\t\t\t\t\t\t\t: t('TARGETIRL_HELPER')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={value => execute(updateNewUnit('type', value))}\n\t\t\t\t\t\tsource={typesSources}\n\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\terror={errType && !!errType.dirty}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrType && !!errType.dirty\n\t\t\t\t\t\t\t\t? errType.errMsg\n\t\t\t\t\t\t\t\t: t('UNIT_TYPE_HELPER')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nAdUnitBasic.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdUnitBasic\n","/**\n * @param {HTMLImageElement} image - Image File Object\n * @param {Object} crop - crop Object from react-image-crop\n * @param {String} fileName - Name of the returned file in Promise\n * @param {Object} size - { width, height } - for image scale\n */\nexport const getCroppedImgUrl = (image, crop, fileName, size) => {\n\tconst canvas = document.createElement('canvas')\n\tconst scaleX = image.naturalWidth / image.width\n\tconst scaleY = image.naturalHeight / image.height\n\n\tconst sourceWidth = crop.width * scaleX\n\tconst sourceHeight = crop.height * scaleY\n\tcanvas.width = sourceWidth\n\tcanvas.height = sourceHeight\n\tconst ctx = canvas.getContext('2d')\n\n\tctx.drawImage(\n\t\timage,\n\t\tcrop.x * scaleX,\n\t\tcrop.y * scaleY,\n\t\tsourceWidth,\n\t\tsourceHeight,\n\t\t0,\n\t\t0,\n\t\tsourceWidth,\n\t\tsourceHeight\n\t)\n\n\tlet finalCanvas = canvas\n\n\tif (size && size.width && size.height) {\n\t\t// Pre blurred img\n\t\tconst bl = document.createElement('canvas')\n\t\tbl.width = sourceWidth\n\t\tbl.height = sourceHeight\n\t\tconst bctx = bl.getContext('2d')\n\t\tconst blur = Math.floor(sourceWidth / size.width / 3)\n\t\tbctx.filter = `blur(${blur}px)`\n\t\tbctx.drawImage(canvas, 0, 0, sourceWidth, sourceHeight)\n\n\t\tfinalCanvas = document.createElement('canvas')\n\t\tfinalCanvas.width = size.width\n\t\tfinalCanvas.height = size.height\n\n\t\tconst sctx = finalCanvas.getContext('2d')\n\n\t\tsctx.drawImage(\n\t\t\tbl,\n\t\t\t0,\n\t\t\t0,\n\t\t\tsourceWidth,\n\t\t\tsourceHeight,\n\t\t\t0,\n\t\t\t0,\n\t\t\tsize.width,\n\t\t\tsize.height\n\t\t)\n\t}\n\n\treturn new Promise((resolve, reject) => {\n\t\tfinalCanvas.toBlob(\n\t\t\tfile => {\n\t\t\t\tif (!file) {\n\t\t\t\t\treject('Error cropping file')\n\t\t\t\t}\n\t\t\t\tfile.name = fileName\n\t\t\t\tresolve(URL.createObjectURL(file))\n\t\t\t},\n\t\t\t'image/jpeg',\n\t\t\t1\n\t\t)\n\t})\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport Img from 'components/common/img/Img'\n// import debounce from 'debounce'\nimport Dropzone from 'react-dropzone'\nimport { Button, Typography, Grid, Box } from '@material-ui/core'\nimport ReactCrop from 'react-image-crop'\nimport { getCroppedImgUrl } from 'services/images/crop'\nimport {\n\tCrop as CropIcon,\n\tClear as ClearIcon,\n\tSave as SaveIcon,\n\tCloudUpload as FileUploadIcon,\n} from '@material-ui/icons'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { t } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction ImgForm(props) {\n\tconst classes = useStyles()\n\tconst { size, onChange, label, additionalInfo, errMsg } = props\n\tconst aspect = size ? size.width / size.height : undefined\n\n\tconst [imgRef, setImgRef] = useState(null)\n\tconst [crop, setCrop] = useState({ aspect })\n\tconst [cropMode, setCropMode] = useState(false)\n\tconst [imgName, setImgName] = useState('')\n\tconst [mime, setMime] = useState(props.mime)\n\tconst [imgSrc, setImgSrc] = useState(props.imgSrc)\n\n\tuseEffect(() => {\n\t\tsetCrop({ aspect })\n\t}, [aspect])\n\n\tuseEffect(() => {\n\t\tsetMime(props.mime)\n\t\tsetImgSrc(props.imgSrc)\n\t}, [props.mime, props.imgSrc])\n\n\tconst onLoad = useCallback(img => {\n\t\tsetImgRef(img)\n\t}, [])\n\n\tconst onDrop = (acceptedFiles, rejectedFiles) => {\n\t\tconst file = acceptedFiles[0]\n\t\tif (!file) return\n\t\tconst objectUrl = URL.createObjectURL(file)\n\t\tsetImgSrc(objectUrl)\n\t\tsetImgName(file.name)\n\t\tsetMime(file.type)\n\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\n\t\tonChange({\n\t\t\ttempUrl: objectUrl,\n\t\t\tmime: file.type,\n\t\t})\n\t}\n\n\tconst preventBubbling = e => {\n\t\tif (e.stopPropagation) {\n\t\t\te.stopPropagation()\n\t\t}\n\t\tif (e.nativeEvent) {\n\t\t\te.nativeEvent.stopImmediatePropagation()\n\t\t}\n\t}\n\n\tconst onRemove = e => {\n\t\tpreventBubbling(e)\n\n\t\tif (imgSrc) {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tsetImgSrc('')\n\t\t\tsetImgName('')\n\t\t\tonChange({ tempUrl: null, mime: null })\n\t\t}\n\t}\n\n\tconst saveCropped = async () => {\n\t\tif (imgRef && crop.width > 1 && crop.height > 1) {\n\t\t\tconst croppedBlob = await getCroppedImgUrl(\n\t\t\t\timgRef,\n\t\t\t\tcrop,\n\t\t\t\t`cropped-${imgName}`,\n\t\t\t\tsize\n\t\t\t)\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tsetImgSrc(croppedBlob)\n\t\t\tsetCropMode(false)\n\t\t\tonChange({\n\t\t\t\ttempUrl: croppedBlob,\n\t\t\t\tmime,\n\t\t\t})\n\t\t} else {\n\t\t\t// TODO: Error\n\t\t}\n\t}\n\n\tconst UploadInfo = () => {\n\t\treturn (\n\t\t\t<div className={classes.uploadInfo}>\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\n\t\t\t\t\t<div className={classes.uploadActions}>\n\t\t\t\t\t\t{/* TEMP: make size required */}\n\t\t\t\t\t\t{!!size && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\tpreventBubbling(e)\n\t\t\t\t\t\t\t\t\tsetCropMode(true)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={onRemove}\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<FileUploadIcon />\n\t\t\t\t)}\n\t\t\t\t<div>\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\n\t\t\t\t\t\t{errMsg}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tconst videoSrc = isVideoMedia(mime)\n\treturn (\n\t\t<div className={classes.imgForm}>\n\t\t\t<OutlinedPropView\n\t\t\t\tlabel={\n\t\t\t\t\timgSrc && imgName\n\t\t\t\t\t\t? `${label || 'Image'}: ${imgName}`\n\t\t\t\t\t\t: label || 'Upload image'\n\t\t\t\t}\n\t\t\t\tvalue={\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{cropMode ? (\n\t\t\t\t\t\t\t\t<div className={classes.dropzone} onClick={preventBubbling}>\n\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.imgDropzonePreview}>\n\t\t\t\t\t\t\t\t\t\t\t\t<ReactCrop\n\t\t\t\t\t\t\t\t\t\t\t\t\timageStyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '30vh',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonImageLoaded={onLoad}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcrop={crop}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={c => setCrop(c)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={saveCropped}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setCropMode(false)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Dropzone\n\t\t\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\n\t\t\t\t\t\t\t\t\tonDrop={onDrop}\n\t\t\t\t\t\t\t\t\tclassName={classes.dropzone}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.imgDropzonePreview}>\n\t\t\t\t\t\t\t\t\t\t\t\t{videoSrc ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img src={imgSrc} alt={'name'} />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t\t\t<UploadInfo />\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Dropzone>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<small> {additionalInfo} </small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nImgForm.propTypes = {\n\tlabel: PropTypes.string,\n\tsize: PropTypes.object,\n}\n\nexport default ImgForm\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tdropzone: {\n\t\t\tmarginBottom: spacing,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t\tborder: `1px dashed ${theme.palette.grey.main}`,\n\t\t\tbackground: theme.palette.background.default,\n\t\t\tpadding: 10,\n\t\t\tcursor: 'pointer',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timgDropzonePreview: {\n\t\t\theight: 320,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\tmaxHeight: '30vh',\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tdropzoneBtn: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tleftIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tuploadActions: {\n\t\t\tmarginTop: spacing,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport { Grid } from '@material-ui/core'\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\nimport { updateNewUnit, execute } from 'actions'\nimport { t, selectNewAdUnit, selectValidationsById } from 'selectors'\n\nfunction AdUnitMedia({ validateId }) {\n\tconst { type, temp } = useSelector(selectNewAdUnit)\n\tconst { temp: errImg } = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst { width, height } = getWidAndHightFromType(type)\n\tconst { tempUrl, mime } = temp\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<ImgForm\n\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\n\t\t\t\t\t\timgSrc={tempUrl || ''}\n\t\t\t\t\t\tmime={mime || ''}\n\t\t\t\t\t\tonChange={mediaProps =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewUnit('temp', {\n\t\t\t\t\t\t\t\t\t...temp,\n\t\t\t\t\t\t\t\t\t...mediaProps,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\n\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t})}\n\t\t\t\t\t\terrMsg={errImg && errImg.dirty ? errImg.errMsg : ''}\n\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nAdUnitMedia.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdUnitMedia\n","import React from 'react'\n\nimport { CircularProgress, Typography, Box } from '@material-ui/core'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { styles } from './styles.js'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { t } from 'selectors'\n\n// TODO: Use it with Grid in previews - we can have more than one in row\nexport const PropRow = ({ left, right }) => (\n\t<Box p={1}>\n\t\t<OutlinedPropView label={left} value={right} />\n\t</Box>\n)\n\nconst contentBox = ({ classes, children, className }) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\tclassName={className}\n\t>\n\t\t{children}\n\t</Box>\n)\n\nconst contentBody = ({ classes, children, className }) => (\n\t<Box flexGrow={1} className={className}>\n\t\t{children}\n\t</Box>\n)\n\nconst contentStickyTop = ({ classes, children, className }) => (\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\n)\n\nconst topLoading = ({ classes, msg, subMsg, className }) => (\n\t<div className={classnames(classes.contentTopLoading)}>\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\n\t\t<div>\n\t\t\t<Typography component='div'> {msg} </Typography>\n\t\t\t{subMsg && (\n\t\t\t\t<Typography component='div'>\n\t\t\t\t\t<strong>{subMsg}</strong>\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t</div>\n\t</div>\n)\n\nconst fullContentSpinner = ({ classes }) => (\n\t<CircularProgress\n\t\tclassName={classnames(classes.progressCircleCenter)}\n\t\tsize={50}\n\t/>\n)\n\nconst fullContentMessage = ({\n\tchildren,\n\tmsgs = [],\n\tspinner,\n\tcolor = 'primary',\n}) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\talignItems='center'\n\t\tjustifyContent='center'\n\t\tbgcolor={`${color}.main`}\n\t\tcolor={`${color}.contrastText`}\n\t>\n\t\t{spinner && (\n\t\t\t<Box p={4}>\n\t\t\t\t<CircularProgress\n\t\t\t\t\tcolor={`${color}.contrastText`}\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\n\t\t\t\t\tsize={69}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t)}\n\t\t{children}\n\t\t{msgs\n\t\t\t.filter(x => !!x && x.message)\n\t\t\t.map((msg, index) => {\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\n\t\t\t\treturn (\n\t\t\t\t\t<Typography key={index} component='div'>\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\n\t\t\t\t\t</Typography>\n\t\t\t\t)\n\t\t\t})}\n\t</Box>\n)\n\nexport const ContentBox = withStyles(styles)(contentBox)\nexport const ContentBody = withStyles(styles)(contentBody)\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\nexport const TopLoading = withStyles(styles)(topLoading)\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\n","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\nimport WcIcon from '@material-ui/icons/Wc'\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\nimport CompareArrows from '@material-ui/icons/CompareArrows'\n\nimport { t } from 'selectors'\n\nconst targetIcon = {\n\tlocation: LocationOnIcon,\n\tgender: WcIcon,\n\tage: ChildCareIcon,\n}\n\nconst getTargetType = tag => {\n\tconst type = tag.split('_')[0] || 'tags'\n\treturn type\n}\n\nconst TargetArrayValues = ({ target, addDivider, selected }) => {\n\tconst type = getTargetType(target.tag)\n\tconst TargetIcon = targetIcon[type] || CompareArrows\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ListItem selected={selected}>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<TargetIcon />\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText primary={t(target.tag, { isTarget: true })} />\n\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\n\t\t\t</ListItem>\n\t\t</Fragment>\n\t)\n}\n\nconst TargetsList = ({ targets = [], subHeader }) => (\n\t<List\n\t\tdense\n\t\tsubheader={subHeader ? <ListSubheader>{t(subHeader)}</ListSubheader> : null}\n\t>\n\t\t{targets.map((target, index) => {\n\t\t\treturn (\n\t\t\t\t<TargetArrayValues\n\t\t\t\t\tselected={index % 2 === 0}\n\t\t\t\t\ttarget={target}\n\t\t\t\t\tkey={target.tag + target.score + index}\n\t\t\t\t\taddDivider={targets.length - 1 > index}\n\t\t\t\t/>\n\t\t\t)\n\t\t})}\n\t</List>\n)\n\nTargetsList.propTypes = {\n\ttargets: PropTypes.array,\n\tsubHeader: PropTypes.string,\n}\n\nexport default TargetsList\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\timgPreview: {\n\t\t\tmaxHeight: 225,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t},\n\t\timgPreviewWrapper: {\n\t\t\theight: 'max-content',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Img from 'components/common/img/Img'\nimport TargetsList from 'components/dashboard/containers/TargetsList'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { Grid } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\nimport { t, selectNewAdUnit, selectAccountIdentityAddr } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction AdUnitPreview() {\n\tconst classes = useStyles()\n\tconst { type, title, description, temp, targeting, targetUrl } = useSelector(\n\t\tselectNewAdUnit\n\t)\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t<ContentBody>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\tright={targetUrl}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\t\tright={description}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('MEDIA')}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\t\t\timg: classes.imgPreview,\n\t\t\t\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\t\talt={title}\n\t\t\t\t\t\t\t\t\tmediaMime={temp.mime}\n\t\t\t\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AdUnitPreview\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { ContentBody } from 'components/common/dialog/content'\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\nimport {\n\tt,\n\tselectAdUnitsArray,\n\tselectAdUnits,\n\tselectNewCampaign,\n} from 'selectors'\nimport { updateNewCampaign, execute } from 'actions'\n\nfunction CampaignUnits(props) {\n\tconst { temp } = useSelector(selectNewCampaign)\n\tconst { selectedUnits } = temp\n\tconst allAdUnits = useSelector(selectAdUnits)\n\tconst allAdUnitsArray = useSelector(selectAdUnitsArray)\n\tconst hasAdUnits = allAdUnitsArray && allAdUnitsArray.length\n\n\tconst handleSelect = ({ selectedIndexes, selectedItemsIds } = {}) => {\n\t\tconst units = Object.values(selectedItemsIds).map(value => {\n\t\t\treturn allAdUnits[value]\n\t\t})\n\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.selectedUnits = selectedIndexes\n\n\t\texecute(updateNewCampaign('adUnits', units))\n\t\texecute(updateNewCampaign('temp', newTemp))\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tspacing={2}\n\t\t\t\tdirection={hasAdUnits ? null : 'column'}\n\t\t\t\talignItems={hasAdUnits ? null : 'center'}\n\t\t\t>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{hasAdUnits ? (\n\t\t\t\t\t\t\t<AdUnitsTable\n\t\t\t\t\t\t\t\tselected={selectedUnits}\n\t\t\t\t\t\t\t\titems={allAdUnitsArray}\n\t\t\t\t\t\t\t\tvalidate={props.validate}\n\t\t\t\t\t\t\t\thandleSelect={handleSelect}\n\t\t\t\t\t\t\t\tnoClone\n\t\t\t\t\t\t\t\tnoDownload\n\t\t\t\t\t\t\t\trowSelectable\n\t\t\t\t\t\t\t\tnoPrint\n\t\t\t\t\t\t\t\tnoActions\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\n\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\n\t\t\t\t\t\t\t\t<NewUnitDialog\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default CampaignUnits\n","import React from 'react'\nimport { DateTimePicker as MuiDateTimePicker } from '@material-ui/pickers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport {\n\tDateRange,\n\tNavigateNextRounded,\n\tNavigateBeforeRounded,\n\tUpdate,\n} from '@material-ui/icons'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport utils from 'helpers/dateUtils'\n\nconst CalendarIconAdor = ({\n\ticon = <DateRange />,\n\ticonColor,\n\tonIconClick,\n\tonLiveClick,\n\tonNextClick,\n}) => (\n\t<InputAdornment position='end'>\n\t\t<IconButton color={iconColor} onClick={onIconClick} size='small'>\n\t\t\t{icon}\n\t\t</IconButton>\n\t\t{onLiveClick && (\n\t\t\t<IconButton color={iconColor} onClick={onLiveClick} size='small'>\n\t\t\t\t<Update />\n\t\t\t</IconButton>\n\t\t)}\n\t\t{onNextClick && (\n\t\t\t<IconButton color={iconColor} onClick={onNextClick} size='small'>\n\t\t\t\t<NavigateNextRounded />\n\t\t\t</IconButton>\n\t\t)}\n\t</InputAdornment>\n)\n\nexport function DateTimePicker({\n\tcalendarIcon,\n\ticon,\n\ticonColor,\n\tonIconClick,\n\tonNextClick,\n\tonLiveClick,\n\tonBackClick,\n\troundHour,\n\t...rest\n}) {\n\tconst now = utils.date(Date.now())\n\tconst date = roundHour ? utils.setMinutes(now, 0) : now\n\treturn (\n\t\t<MuiDateTimePicker\n\t\t\tvalue={date}\n\t\t\tInputProps={{\n\t\t\t\tdisabled: rest.disabled,\n\t\t\t\tendAdornment: calendarIcon ? (\n\t\t\t\t\t<CalendarIconAdor\n\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\ticonColor={iconColor}\n\t\t\t\t\t\tonIconClick={onIconClick}\n\t\t\t\t\t\tonNextClick={onNextClick}\n\t\t\t\t\t\tonLiveClick={onLiveClick}\n\t\t\t\t\t/>\n\t\t\t\t) : null,\n\t\t\t\tstartAdornment: onBackClick ? (\n\t\t\t\t\t<InputAdornment position='start'>\n\t\t\t\t\t\t<IconButton color={iconColor} onClick={onBackClick} size='small'>\n\t\t\t\t\t\t\t<NavigateBeforeRounded />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t) : null,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport default DateTimePicker\n\nconst dateTimePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\n\treturn (\n\t\t<DateTimePicker\n\t\t\tInputLabelProps={{\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t},\n\t\t\t\tFormLabelClasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tInputProps={{\n\t\t\t\tdisabled: rest.disabled,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastInput,\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\n\t\t\t\t},\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\n","export const styles = theme => {\n\treturn {\n\t\tdatepickerContrastInput: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\tdatepickerContrastLabel: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\t'&$datepickerContrastLabelFocused': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tdatepickerContrastLabelFocused: {},\n\t\tdatepickerContrastUnderline: {\n\t\t\t'&:after': {\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t\t'&:before': {\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport {\n\tGrid,\n\tFormGroup,\n\tFormControlLabel,\n\tFormControl,\n\tFormHelperText,\n\tCheckbox,\n\tTextField,\n} from '@material-ui/core'\nimport DateTimePicker from 'components/common/DateTimePicker'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport { utils } from 'ethers'\nimport MomentUtils from '@date-io/moment'\nimport { ItemSpecProp } from 'components/dashboard/containers/ItemCommon/'\nimport { CampaignTargetingRules } from 'components/dashboard/forms/items/NewItems'\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\nimport {\n\tselectSpinnerById,\n\tselectMainToken,\n\tselectNewCampaign,\n\tselectValidationsById,\n\tt,\n} from 'selectors'\nimport { execute, updateNewCampaign, validateNumberString } from 'actions'\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\nimport { validations } from 'adex-models'\nconst { isNumberString } = validations\n\nconst moment = new MomentUtils()\n\nconst getTotalImpressions = ({ depositAmount, min, max }) => {\n\ttry {\n\t\tconst dep = isNumberString(depositAmount) && parseFloat(depositAmount)\n\t\tconst minBound = isNumberString(min) && parseFloat(min)\n\t\tconst maxBound = isNumberString(max) && parseFloat(max)\n\t\tif (!dep) {\n\t\t\treturn t('DEPOSIT_NOT_SET')\n\t\t} else if (!minBound || !maxBound) {\n\t\t\treturn ''\n\t\t\t// return t('BOUNDS_NOT_NOT_SET')\n\t\t} else {\n\t\t\tconst impressions = utils.commify(Math.floor((dep / minBound) * 1000))\n\t\t\treturn t('TOTAL_IMPRESSIONS_UP_TO', { args: [impressions] })\n\t\t}\n\t} catch (err) {\n\t\treturn ''\n\t}\n}\n\nfunction CampaignFinance({ validateId, ...rest }) {\n\tconst invalidFields = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst campaign = useSelector(selectNewCampaign)\n\n\tconst {\n\t\ttitle,\n\t\tvalidators,\n\t\tdepositAmount,\n\t\tpricingBounds: campaignPricingBounds,\n\t\t// depositAsset,\n\t\tactiveFrom,\n\t\twithdrawPeriodStart,\n\t\t// minTargetingScore,\n\t\ttemp = {},\n\t} = campaign\n\n\tconst {\n\t\tmaxChannelFees,\n\t\tmaxDepositFormatted,\n\t\tuseUtmTags,\n\t\tsuggestedPricingBounds = { IMPRESSION: {} },\n\t\tuseUtmSrcWithPub,\n\t} = temp\n\n\t// if pricingBounds is null\n\tconst pricingBounds = campaignPricingBounds || { IMPRESSION: {} }\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\t)\n\n\tconst from = activeFrom || undefined\n\tconst to = withdrawPeriodStart || undefined\n\tconst now = moment.date().valueOf()\n\n\tconst {\n\t\ttitle: errTitle,\n\t\tdepositAmount: errDepAmnt,\n\t\tpricingBounds_min: errMin,\n\t\tpricingBounds_max: errMax,\n\t\tactiveFrom: errFrom,\n\t\twithdrawPeriodStart: errTo,\n\t} = invalidFields\n\n\tconst leader = validators[0] || {}\n\tconst follower = validators[1] || {}\n\n\tconst impressions = getTotalImpressions({\n\t\tdepositAmount,\n\t\tmin: pricingBounds.IMPRESSION.min,\n\t\tmax: pricingBounds.IMPRESSION.max,\n\t})\n\n\tconst updatePricingBoundsImpression = (type, value) => {\n\t\tconst newPricingBounds = { ...pricingBounds }\n\t\tconst impression = { ...pricingBounds.IMPRESSION }\n\t\timpression[type] = value\n\t\tnewPricingBounds.IMPRESSION = impression\n\t\texecute(updateNewCampaign('pricingBounds', newPricingBounds))\n\t\texecute(\n\t\t\tvalidateNumberString({\n\t\t\t\tvalidateId,\n\t\t\t\tprop: `pricingBounds_${type}`,\n\t\t\t\tvalue,\n\t\t\t\tdirty: true,\n\t\t\t})\n\t\t)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('title', ev.target.value))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\tlabel={t('ADV_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\tprop='leader-validator'\n\t\t\t\t\t\t\tvalue={leader.url || ''}\n\t\t\t\t\t\t\thelperText={leader.id}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\tlabel={t('PUB_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\tprop='follower-validator'\n\t\t\t\t\t\t\tvalue={follower.url || ''}\n\t\t\t\t\t\t\thelperText={follower.id}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\n\t\t\t\t\t\t\t\targs: [maxDepositFormatted, symbol, maxChannelFees, symbol],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tname='depositAmount'\n\t\t\t\t\t\t\tvalue={depositAmount}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('depositAmount', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'depositAmount',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty\n\t\t\t\t\t\t\t\t\t? errDepAmnt.errMsg\n\t\t\t\t\t\t\t\t\t: impressions\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('CPM_MIN_LABEL')}\n\t\t\t\t\t\t\tname='pricingBounds_min'\n\t\t\t\t\t\t\tvalue={pricingBounds.IMPRESSION.min}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\tupdatePricingBoundsImpression('min', value)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\n\t\t\t\t\t\t\t\t\t: t('CPM_MIN_HELPER_TXT', {\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedPricingBounds.IMPRESSION.min, symbol],\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('CPM_MAX_LABEL')}\n\t\t\t\t\t\t\tname='pricingBounds_max'\n\t\t\t\t\t\t\tvalue={pricingBounds.IMPRESSION.max}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\tupdatePricingBoundsImpression('max', value)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMax && !!errMax.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMax && !!errMax.dirty\n\t\t\t\t\t\t\t\t\t? errMax.errMsg\n\t\t\t\t\t\t\t\t\t: t('CPM_MAX_HELPER_TXT', {\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedPricingBounds.IMPRESSION.max, symbol],\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\n\t\t\t\t\t\t\tinputVariant='outlined'\n\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\n\t\t\t\t\t\t\tminDate={now}\n\t\t\t\t\t\t\tmaxDate={to}\n\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('activeFrom', val.valueOf()))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvalue={from || null}\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\n\t\t\t\t\t\t\tinputVariant='outlined'\n\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\n\t\t\t\t\t\t\tminDate={from || now}\n\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('withdrawPeriodStart', val.valueOf()))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue={to || null}\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!useUtmTags}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('temp', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseUtmTags: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='useUtmTags'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_AUTO_UTM_TAGS')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t{t('CAMPAIGN_AUTO_UTM_TAGS_INFO', {\n\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360011670859-How-to-add-UTM-links-and-track-campaigns'>\n\t\t\t\t\t\t\t\t\t\t\t{t('CHECK_HERE')}\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<FormControl disabled={!useUtmTags}>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!useUtmSrcWithPub}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('temp', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseUtmSrcWithPub: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='useUtmSrcWithPub'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_UTM_SRC_WITH_PUB')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t{t('CAMPAIGN_UTM_SRC_WITH_PUB_INFO', {\n\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t// TODO: link to help\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360011670859-How-to-add-UTM-links-and-track-campaigns'>\n\t\t\t\t\t\t\t\t\t\t\t{t('CHECK_HERE')}\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<CampaignTargetingRules\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\tvalidateId={validateId}\n\t\t\t\t\t\t\tadvancedOnly\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nCampaignFinance.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default CampaignFinance\n","import React from 'react'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { TopLoading } from 'components/common/dialog/content'\n\nexport const WalletAction = ({ t, authType }) => {\n\tlet msg = ''\n\tlet subMsg\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\n\t\t\tbreak\n\t\tdefault:\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\n\t\t\tbreak\n\t}\n\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { constants, IabCategories } from 'adex-models'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\n\nimport { t } from 'selectors'\nimport { Box, Chip, Tooltip } from '@material-ui/core'\n\nconst { CountryNames, CountryTiers } = constants\n\nconst AudiencePreview = ({ audienceInput = {}, title, subHeader }) => {\n\tconst {\n\t\tlocation = {},\n\t\tcategories = {},\n\t\tpublishers = {},\n\t\tadvanced = {},\n\t} = audienceInput\n\n\treturn (\n\t\t<Box>\n\t\t\t{title && <OutlinedPropView label={t('TITLE')} value={title} />}\n\n\t\t\t{!!location.apply ? (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`LOCATION_${location.apply.toUpperCase()}`)}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tlocation.apply === 'allin' ? (\n\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tlabel={t('ALL_COUNTRIES')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t(location[location.apply] || []).map(x => (\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\tkey={x}\n\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\tCountryTiers[x]\n\t\t\t\t\t\t\t\t\t\t\t? CountryTiers[x].countries.join(', ')\n\t\t\t\t\t\t\t\t\t\t\t: t(CountryNames[x] || x || '')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Chip variant='outlined' size='small' label={t(x || '')} />\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`LOCATION`)}\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{!!categories.apply ? (\n\t\t\t\tcategories.apply.map(apply => (\n\t\t\t\t\t<OutlinedPropView\n\t\t\t\t\t\tkey={apply}\n\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\tlabel={t(`CATEGORIES_${(apply || '').toUpperCase()}`)}\n\t\t\t\t\t\tvalue={(categories[apply] || []).map(cat => (\n\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\tkey={cat}\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tlabel={t(\n\t\t\t\t\t\t\t\t\tIabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t/>\n\t\t\t\t))\n\t\t\t) : (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`CATEGORIES`)}\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{publishers.apply ? (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`PUBLISHERS_${publishers.apply.toUpperCase()}`)}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tpublishers.apply === 'allin' ? (\n\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tlabel={t('ALL_PUBLISHERS')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t(publishers[publishers.apply] || []).map((x, index) => (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tlabel={(JSON.parse(x) || {}).hostname}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`PUBLISHERS`)}\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</Box>\n\t)\n}\n\nAudiencePreview.propTypes = {\n\taudienceInput: PropTypes.object,\n\tsubHeader: PropTypes.string,\n}\n\nexport default AudiencePreview\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tGrid,\n\tBox,\n\tCircularProgress,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n} from '@material-ui/core'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\nimport { formatDateTime } from 'helpers/formatters'\nimport {\n\tselectAccountIdentityAddr,\n\tselectAuthType,\n\tselectMainToken,\n\tselectSpinnerById,\n\tselectNewCampaign,\n\tt,\n} from 'selectors'\nimport { execute, getCampaignActualFees, checkNetworkCongestion } from 'actions'\nimport { GETTING_CAMPAIGNS_FEES, OPENING_CAMPAIGN } from 'constants/spinners'\n\nfunction CampaignFormPreview() {\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst authType = useSelector(selectAuthType)\n\tconst mainToken = useSelector(selectMainToken)\n\tconst { symbol } = mainToken\n\tconst feesSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\t)\n\n\tconst openingSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, OPENING_CAMPAIGN)\n\t)\n\n\tconst {\n\t\ttitle,\n\t\t// targeting,\n\t\tadUnits,\n\t\tvalidators,\n\t\tdepositAmount,\n\t\tpricingBounds,\n\t\t// maxPerImpression,\n\t\t// depositAsset,\n\t\twithdrawPeriodStart,\n\t\tactiveFrom,\n\t\t// minTargetingScore,\n\t\ttargetingRules = {},\n\t\taudienceInput = {},\n\t\t// nonce\n\t\ttemp = {},\n\t} = useSelector(selectNewCampaign)\n\n\tconst { feesFormatted, totalSpendFormatted } = temp\n\tconst { IMPRESSION = {} } = pricingBounds || {}\n\tconst { advanced = {} } = audienceInput.inputs\n\n\tuseEffect(() => {\n\t\texecute(getCampaignActualFees())\n\t\texecute(checkNetworkCongestion())\n\t}, [])\n\n\treturn feesSpinner ? (\n\t\t<FullContentSpinner />\n\t) : (\n\t\t<ContentBox>\n\t\t\t{openingSpinner ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<WalletAction t={t} authType={authType} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\n\t\t\t\t\t\t\tright={`${depositAmount} ${symbol}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('CPM_MIN_LABEL')}\n\t\t\t\t\t\t\tright={`${IMPRESSION.min} ${symbol}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('CPM_MAX_LABEL')}\n\t\t\t\t\t\t\tright={`${IMPRESSION.max} ${symbol}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('FEES')}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\tfeesFormatted !== undefined ? (\n\t\t\t\t\t\t\t\t\t`${feesFormatted} ${symbol}`\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<CircularProgress size={42} />\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('CAMPAIGN_FEES_AND_BUDGET')}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\ttotalSpendFormatted !== undefined ? (\n\t\t\t\t\t\t\t\t\t`${totalSpendFormatted} ${symbol}`\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<CircularProgress size={42} />\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t\tright={formatDateTime(activeFrom)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t{/* <Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('CAMPAIGN_MIN_TARGETING')}\n\t\t\t\t\t\t\tright={t(minTargetingScore ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid> */}\n\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('validators', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{validators.map(val => (\n\t\t\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t(`CAMPAIGN_AUTO_UTM_TAGS`)}\n\t\t\t\t\t\t\tright={t(temp.useUtmTags ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t(`CAMPAIGN_UTM_SRC_WITH_PUB`)}\n\t\t\t\t\t\t\tright={t(temp.useUtmSrcWithPub ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t(`INCLUDE_INCENTIVIZED_TRAFFIC_LABEL`)}\n\t\t\t\t\t\t\tright={t(advanced.includeIncentivized ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t(`DISABLE_FREQUENCY_CAPPING_LABEL`)}\n\t\t\t\t\t\t\tright={t(advanced.disableFrequencyCapping ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t(`LIMIT_AVERAGE_DAILY_SPENDING_LABEL`)}\n\t\t\t\t\t\t\tright={t(advanced.limitDailyAverageSpending ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('AUDIENCE')}\n\t\t\t\t\t\t\tright={<AudiencePreview audienceInput={audienceInput.inputs} />}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('adUnits', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<AdUnitsTable\n\t\t\t\t\t\t\t\t\titems={adUnits}\n\t\t\t\t\t\t\t\t\tnoSearch\n\t\t\t\t\t\t\t\t\tnoActions\n\t\t\t\t\t\t\t\t\tnoDownload\n\t\t\t\t\t\t\t\t\tnoPrint\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\t\taria-controls='targeting-rules-content'\n\t\t\t\t\t\t\t\tid='targeting-rules-header'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography>{t('TARGETING_RULES')}</Typography>\n\t\t\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\n\t\t\t\t\t\t\t\t<pre>{JSON.stringify(targetingRules || [], null, 2)}</pre>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</ExpansionPanel>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default CampaignFormPreview\n","import React, { useEffect, Fragment, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tFormHelperText,\n\tTextField,\n\tBox,\n\tTooltip,\n\tTypography,\n\tChip,\n} from '@material-ui/core'\nimport AutocompleteMUI, {\n\tcreateFilterOptions,\n} from '@material-ui/lab/Autocomplete'\nimport { CheckSharp, ErrorSharp, InfoSharp } from '@material-ui/icons'\n\nconst StatusIcon = {\n\tsuccess: <CheckSharp color='secondary' />,\n\terror: <ErrorSharp color='error' />,\n}\n\nconst useStyles = makeStyles(theme => ({\n\textraInfo: {\n\t\tmarginLeft: theme.spacing(1),\n\t},\n}))\n\nconst ExtraLabel = ({ label }) =>\n\tArray.isArray(label) ? (\n\t\t<Fragment>\n\t\t\t{label.map((x, index) => (\n\t\t\t\t<Typography\n\t\t\t\t\tkey={index}\n\t\t\t\t\tdisplay='block'\n\t\t\t\t\tvariant='caption'\n\t\t\t\t\tcolor='inherit'\n\t\t\t\t>\n\t\t\t\t\t{x}\n\t\t\t\t</Typography>\n\t\t\t))}\n\t\t</Fragment>\n\t) : (\n\t\tlabel\n\t)\n\nfunction Autocomplete({\n\tsource,\n\tmultiple,\n\tlabel,\n\tvariant,\n\terror,\n\terrorText,\n\tonInit,\n\tvalue,\n\tonChange,\n\tfullWidth,\n\tdisabled,\n\thideSelectedOnDisable,\n\tdisableCloseOnSelect,\n\tdisabledSrcValues = [],\n\tenableCreate,\n}) {\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\ttypeof onInit === 'function' && onInit()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst handleChange = item => {\n\t\tif (multiple) {\n\t\t\tonChange(item.map(i => i.value || i.label || i))\n\t\t} else {\n\t\t\tonChange(item ? item.value || item.label || item : item)\n\t\t}\n\t}\n\n\tconst srcValue = multiple\n\t\t? Array.isArray(value)\n\t\t\t? value.map(v => source.find(s => s.value === v) || '')\n\t\t\t: []\n\t\t: source.find(s => s.value === value) || value\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<AutocompleteMUI\n\t\t\t\tmultiple={multiple}\n\t\t\t\tdisableCloseOnSelect={disableCloseOnSelect}\n\t\t\t\toptions={source}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tgroupBy={option => option.group}\n\t\t\t\tvalue={srcValue}\n\t\t\t\tgetOptionLabel={option => option.label || option.name || option}\n\t\t\t\tgetLimitTagsText={more => `${more} more`}\n\t\t\t\tlimitTags={10}\n\t\t\t\tgetOptionDisabled={option =>\n\t\t\t\t\tdisabledSrcValues.some(x => (option.value || option) === x)\n\t\t\t\t}\n\t\t\t\tgetOptionSelected={(opt, val = '') => {\n\t\t\t\t\tconst isSelected =\n\t\t\t\t\t\t!!opt &&\n\t\t\t\t\t\t!!val &&\n\t\t\t\t\t\t[JSON.stringify(val), val, val.value].includes(opt.value)\n\t\t\t\t\treturn isSelected\n\t\t\t\t}}\n\t\t\t\t// freeSolo\n\t\t\t\tonChange={(_, newValue) => handleChange(newValue)}\n\t\t\t\trenderInput={params => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\tvariant={variant}\n\t\t\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t\trenderOption={option => (\n\t\t\t\t\t<Box\n\t\t\t\t\t\tkey={option.label}\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography display='inline'>{option.label}</Typography>\n\t\t\t\t\t\t{!!option.extraLabel && (\n\t\t\t\t\t\t\t<Tooltip title={<ExtraLabel label={option.extraLabel} />}>\n\t\t\t\t\t\t\t\t<InfoSharp\n\t\t\t\t\t\t\t\t\tclassName={classes.extraInfo}\n\t\t\t\t\t\t\t\t\tfontSize='small'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\trenderTags={(value, getCustomizedTagProps) =>\n\t\t\t\t\tvalue.map(\n\t\t\t\t\t\t(option, index) =>\n\t\t\t\t\t\t\t!(disabled && hideSelectedOnDisable) &&\n\t\t\t\t\t\t\t(!!option.extraLabel ? (\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\tkey={option.value + '' + index}\n\t\t\t\t\t\t\t\t\ttitle={<ExtraLabel label={option.extraLabel || ''} />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\tlabel={option.label || option}\n\t\t\t\t\t\t\t\t\t\t{...getCustomizedTagProps({ index })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tlabel={option.label || option}\n\t\t\t\t\t\t\t\t\t{...getCustomizedTagProps({ index })}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{error && (\n\t\t\t\t<FormHelperText error id='component-error-text'>\n\t\t\t\t\t{errorText}\n\t\t\t\t</FormHelperText>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n\nconst filter = createFilterOptions()\n\nexport const AutocompleteWithCreate = ({\n\tsource,\n\tlabel,\n\tvariant,\n\terror,\n\thelperText,\n\tfullWidth,\n\tinitialValue,\n\tdisabled,\n\tonChange,\n\tchangeOnInputUpdate,\n}) => {\n\tconst [value, setValue] = useState(null)\n\n\tuseEffect(() => {\n\t\tsetValue({ label: initialValue, value: initialValue })\n\t}, [initialValue])\n\n\treturn (\n\t\t<AutocompleteMUI\n\t\t\tvalue={value}\n\t\t\tonChange={(event, newValue) => {\n\t\t\t\t// Create a new value from the user input\n\t\t\t\tif (newValue && (newValue.inputValue || newValue.value)) {\n\t\t\t\t\tconst value = newValue.inputValue || newValue.value\n\t\t\t\t\tsetValue({\n\t\t\t\t\t\tlabel: newValue.label || value,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t})\n\t\t\t\t\tonChange(value)\n\t\t\t\t} else {\n\t\t\t\t\tsetValue(newValue)\n\t\t\t\t\tonChange('')\n\t\t\t\t}\n\t\t\t}}\n\t\t\tonInputChange={(ev, value) => {\n\t\t\t\tif (changeOnInputUpdate) {\n\t\t\t\t\tonChange(value)\n\t\t\t\t}\n\t\t\t}}\n\t\t\tfilterOptions={(options, params) => {\n\t\t\t\tconst filtered = filter(options, params)\n\n\t\t\t\t// Suggest the creation of a new value\n\t\t\t\tif (!changeOnInputUpdate && params.inputValue !== '') {\n\t\t\t\t\tfiltered.push({\n\t\t\t\t\t\tinputValue: params.inputValue,\n\t\t\t\t\t\tlabel: `Add \"${params.inputValue}\"`,\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\treturn filtered\n\t\t\t}}\n\t\t\tselectOnFocus\n\t\t\t// clearOnBlur\n\t\t\t// handleHomeEndKeys\n\t\t\tdisabled={disabled}\n\t\t\toptions={source}\n\t\t\tgetLimitTagsText={more => `${more} more`}\n\t\t\tlimitTags={2}\n\t\t\tgroupBy={option => option.group}\n\t\t\tgetOptionLabel={option => {\n\t\t\t\t// Value selected with enter, right from the input\n\t\t\t\tif (typeof option === 'string') {\n\t\t\t\t\treturn option\n\t\t\t\t}\n\t\t\t\t// Add \"xxx\" option created dynamically\n\t\t\t\tif (option.inputValue) {\n\t\t\t\t\treturn option.inputValue\n\t\t\t\t}\n\t\t\t\t// Regular option\n\t\t\t\treturn option.label\n\t\t\t}}\n\t\t\trenderOption={option =>\n\t\t\t\toption.status ? (\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\twidth={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t{option.label}\n\n\t\t\t\t\t\t{StatusIcon[option.status] || option.status}\n\t\t\t\t\t</Box>\n\t\t\t\t) : (\n\t\t\t\t\toption.label\n\t\t\t\t)\n\t\t\t}\n\t\t\tfreeSolo={!changeOnInputUpdate}\n\t\t\trenderInput={params => (\n\t\t\t\t<TextField\n\t\t\t\t\t{...params}\n\t\t\t\t\terror={error}\n\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\thelperText={helperText}\n\t\t\t\t\tvariant={variant}\n\t\t\t\t/>\n\t\t\t)}\n\t\t/>\n\t)\n}\n\nAutocomplete.propTypes = {\n\tsource: PropTypes.array.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tonChange: PropTypes.func.isRequired,\n\tmultiple: PropTypes.bool,\n\tvariant: PropTypes.string,\n}\n\nexport default Autocomplete\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport {\n\tGrid,\n\tTextField,\n\tFormGroup,\n\tFormControlLabel,\n\tFormControl,\n\tCheckbox,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n\tBox,\n} from '@material-ui/core'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\nimport Dropdown from 'components/common/dropdown'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport { AutocompleteWithCreate } from 'components/common/autocomplete'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport {\n\tt,\n\tselectNewAdSlot,\n\tselectValidationsById,\n\tselectSpinnerById,\n\tselectSlotTypesSourceWithDemands,\n\twebsitesAutocompleteSrc,\n\tselectMainToken,\n\tselectMinTargetingCpm,\n} from 'selectors'\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\nimport {\n\tupdateSlotsDemandThrottled,\n\tupdateNewSlot,\n\tvalidateNumberString,\n\texecute,\n} from 'actions'\n\nfunction AdSlotBasic({ validateId }) {\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst newItem = useSelector(selectNewAdSlot)\n\tconst websitesSrc = useSelector(websitesAutocompleteSrc)\n\tconst adTypesSource = useSelector(selectSlotTypesSourceWithDemands)\n\tconst minCPM = useSelector(selectMinTargetingCpm)\n\tconst {\n\t\ttitle = '',\n\t\tdescription = '',\n\t\twebsite = '',\n\t\ttype = '',\n\t\trulesInput: slotRulesInput,\n\t\tminPerImpression,\n\t} = newItem\n\n\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\n\n\tconst { allowAdultContent, autoSetMinCPM } = rulesInput.inputs\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, UPDATING_SLOTS_DEMAND)\n\t)\n\n\tconst {\n\t\ttitle: errTitle,\n\t\tdescription: errDescription,\n\t\twebsite: errWebsite,\n\t\ttype: errType,\n\t\tminPerImpression: errMin,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\tuseEffect(() => {\n\t\texecute(updateSlotsDemandThrottled())\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\n\t\tif (!autoSetMinCPM && minPerImpression === null) {\n\t\t\texecute(updateNewSlot('minPerImpression', minCPM.toFixed(2)))\n\t\t}\n\t}, [autoSetMinCPM, minCPM, minPerImpression])\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => execute(updateNewSlot('title', ev.target.value))}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(updateNewSlot('description', ev.target.value))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<AutocompleteWithCreate\n\t\t\t\t\t\t\tchangeOnInputUpdate\n\t\t\t\t\t\t\tinitialValue={website}\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tsource={websitesSrc}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tlabel={t('SLOT_WEBSITE')}\n\t\t\t\t\t\t\terror={errWebsite && !!errWebsite.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrWebsite && !!errWebsite.dirty ? (\n\t\t\t\t\t\t\t\t\terrWebsite.errMsg\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonChange={value => {\n\t\t\t\t\t\t\t\texecute(updateNewSlot('website', (value || '').trim()))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={value => execute(updateNewSlot('type', value))}\n\t\t\t\t\t\t\tsource={adTypesSource}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\terror={errType && !!errType.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrType && !!errType.dirty\n\t\t\t\t\t\t\t\t\t? errType.errMsg\n\t\t\t\t\t\t\t\t\t: t('SLOT_TYPE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\t\taria-controls='slot-rules-advanced'\n\t\t\t\t\t\t\t\tid='slot-rules-advanced'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography>{t('SLOT_ADVANCED')}</Typography>\n\t\t\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\n\t\t\t\t\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\t\t\t\t\tvalue={minPerImpression || ''}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!!autoSetMinCPM}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateNewSlot('minPerImpression', value))\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\n\t\t\t\t\t\t\t\t\t\t\t\t\t? errMin.errMsg\n\t\t\t\t\t\t\t\t\t\t\t\t\t: t('SLOT_MIN_CPM_HELPER')\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<OutlinedPropView\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_LABEL')}\n\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={!!autoSetMinCPM}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('rulesInput', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoSetMinCPM: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue='autoSetMinCPM'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_INFO_LABEL')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<OutlinedPropView\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT')}\n\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={!!allowAdultContent}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('rulesInput', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowAdultContent: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue='allowAdultContent'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT_INFO')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</ExpansionPanel>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nAdSlotBasic.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdSlotBasic\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport {\n\tGrid,\n\tTextField,\n\tCollapse,\n\tFormControlLabel,\n\tSwitch,\n} from '@material-ui/core'\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { t, selectNewItemByTypeAndId, selectValidationsById } from 'selectors'\nimport { updateNewSlot, execute } from 'actions'\n\nfunction AdSlotMedia({ validateId, itemId }) {\n\tconst { type, targetUrl, temp } = useSelector(state =>\n\t\tselectNewItemByTypeAndId(state, 'AdSlot', itemId)\n\t)\n\n\tconst { useFallback = false, tempUrl, mime } = temp\n\n\tconst { temp: errImg, targetUrl: errFallbackUrl } = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst { width, height } = getWidAndHightFromType(type)\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<OutlinedPropView\n\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\t\tchecked={useFallback}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'temp',\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseFallback: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t\titemId\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA_INFO')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Collapse in={useFallback}>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('targetUrl', ev.target.value, null, itemId)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\n\t\t\t\t\t\t\t\t\timgSrc={tempUrl || ''}\n\t\t\t\t\t\t\t\t\tmime={mime || ''}\n\t\t\t\t\t\t\t\t\tonChange={mediaProps =>\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot(\n\t\t\t\t\t\t\t\t\t\t\t\t'temp',\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\n\t\t\t\t\t\t\t\t\t\t\t\t\t...mediaProps,\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\titemId\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terrMsg={errImg && errImg.dirty ? errImg.errMsg : ''}\n\t\t\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\t\t\t\theight,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Collapse>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nAdSlotMedia.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdSlotMedia\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport PropTypes from 'prop-types'\nimport { Grid, TextField } from '@material-ui/core'\n\nimport { execute, updateNewAudience } from 'actions'\nimport { t, selectValidationsById, selectNewAudience } from 'selectors'\n\nfunction AudienceBasic({ validateId }) {\n\tconst { title } = useSelector(selectNewAudience)\n\n\tconst { title: errTitle } = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\tname='title'\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(updateNewAudience('title', ev.target.value))\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrTitle && !!errTitle.dirty ? errTitle.errMsg : t('TITLE_HELPER')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nAudienceBasic.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AudienceBasic\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { ContentBox, ContentBody } from 'components/common/dialog/content'\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\nimport { selectNewAudience } from 'selectors'\n\nfunction AdUnitPreview() {\n\tconst { title, inputs, version } = useSelector(selectNewAudience)\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t<ContentBody>\n\t\t\t\t<AudiencePreview audienceInput={inputs} title={title} />\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AdUnitPreview\n","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport clsx from 'clsx'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tGrid,\n\tBox,\n\tTextField,\n\tPaper,\n\tTab,\n\tTabs,\n\tFormControlLabel,\n\tFormControl,\n\tFormHelperText,\n\tRadioGroup,\n\tRadio,\n\tTypography,\n\tCheckbox,\n} from '@material-ui/core'\nimport {\n\tPublicSharp as LocationIcon,\n\tLocalOfferSharp as CategoryIcon,\n\tWebAssetSharp as PublisherIcon,\n\tMoreHorizSharp as AdvIcon,\n\tErrorSharp as ErrIcon,\n} from '@material-ui/icons'\nimport Autocomplete from 'components/common/autocomplete'\n\nimport { t, selectAudienceInputsDataByItem } from 'selectors'\nimport { execute, updateTargetRuleInput } from 'actions'\n\nconst useStyles = makeStyles(theme => ({\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n\tdisabled: {\n\t\topacity: 0.5,\n\t},\n\tin: {\n\t\tcolor: theme.palette.success.main,\n\t},\n\tnin: {\n\t\tcolor: theme.palette.error.main,\n\t},\n}))\n\nconst parameterIcon = {\n\tlocation: <LocationIcon />,\n\tcategories: <CategoryIcon />,\n\tpublishers: <PublisherIcon />,\n\tadvanced: <AdvIcon />,\n}\n\nconst getApply = (applyType, currentApply = [], actionType) =>\n\tapplyType === 'single'\n\t\t? actionType\n\t\t: [...currentApply, actionType].filter((t, i, all) => all.indexOf(t) === i)\n\nconst Sources = ({\n\tid,\n\tsource = [],\n\tcollection,\n\tplaceholder,\n\tlabel,\n\tindex,\n\ttarget = {},\n\tparameter,\n\titemId,\n\titemType,\n\tactionType,\n\tapplyType,\n\tdisabled,\n\tdisabledSrcValues,\n}) => {\n\tconst apply = getApply(applyType, target.apply, actionType)\n\n\treturn source.length ? (\n\t\t<Autocomplete\n\t\t\tmultiple\n\t\t\tid={id}\n\t\t\tfullWidth\n\t\t\tdirection='auto'\n\t\t\topenOnClick\n\t\t\trequired={true}\n\t\t\tdisabled={disabled}\n\t\t\thideSelectedOnDisable\n\t\t\tdisabledSrcValues={disabledSrcValues}\n\t\t\tdisableCloseOnSelect\n\t\t\t// error={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t// errorText={\n\t\t\t// \tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t// \t\t? invalidFields[id].errMsg\n\t\t\t// \t\t: null\n\t\t\t// }\n\t\t\tonChange={value => {\n\t\t\t\texecute(\n\t\t\t\t\tupdateTargetRuleInput({\n\t\t\t\t\t\tindex,\n\t\t\t\t\t\titemType,\n\t\t\t\t\t\titemId,\n\t\t\t\t\t\tparameter,\n\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t...target,\n\t\t\t\t\t\t\t...{ [actionType]: value, apply },\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcollection,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t}}\n\t\t\tlabel={label}\n\t\t\tplaceholder={placeholder}\n\t\t\tsource={source}\n\t\t\tvalue={target[actionType] || []}\n\t\t\tvariant='outlined'\n\t\t/>\n\t) : (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tvariant='outlined'\n\t\t\ttype='text'\n\t\t\trequired\n\t\t\tdisabled={disabled}\n\t\t\tname='name'\n\t\t\tvalue={target.value}\n\t\t\tlabel={label}\n\t\t\tonChange={ev =>\n\t\t\t\texecute(\n\t\t\t\t\tupdateTargetRuleInput({\n\t\t\t\t\t\tindex,\n\t\t\t\t\t\titemType,\n\t\t\t\t\t\titemId,\n\t\t\t\t\t\tparameter,\n\t\t\t\t\t\ttarget: { ...target, ...{ [actionType]: ev.target.value, apply } },\n\t\t\t\t\t\tcollection,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t}\n\t\t\tmaxLength={120}\n\t\t/>\n\t)\n}\n\nconst getMultipleActionsUsedValues = ({ actions, currentAction, target }) => {\n\tconst currentSelectedValues = actions\n\t\t.filter(a => a.type !== currentAction.type)\n\t\t.reduce((all, a) => {\n\t\t\treturn [\n\t\t\t\t...all,\n\t\t\t\t...(target[a.type] || []),\n\t\t\t\t...(currentAction.disabledValues || []),\n\t\t\t]\n\t\t}, [])\n\t\t.filter((x, i, all) => all.indexOf(x) === i)\n\n\treturn currentSelectedValues\n}\n\nconst Targets = ({\n\tinputs,\n\tsource = {},\n\textraInfo = null,\n\tcollection,\n\tplaceholder,\n\tlabel,\n\tindex,\n\ttarget = {},\n\tparameter,\n\t// classes,\n\t// invalidFields,\n\tactions,\n\tapplyType,\n\titemId,\n\titemType,\n\tdisabledValues,\n\tSOURCES,\n}) => {\n\tconst classes = useStyles()\n\tconst id = `target-${index}`\n\tconst applyValue = target.apply || actions[0].type\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\twidth={1}\n\t\t\theight={1}\n\t\t\tjustifyContent='space-between'\n\t\t>\n\t\t\t<Box>\n\t\t\t\t{applyType === 'single' && (\n\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\taria-label={parameter}\n\t\t\t\t\t\tname={parameter}\n\t\t\t\t\t\tvalue={applyValue}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateTargetRuleInput({\n\t\t\t\t\t\t\t\t\titemType,\n\t\t\t\t\t\t\t\t\titemId,\n\t\t\t\t\t\t\t\t\tparameter,\n\t\t\t\t\t\t\t\t\ttarget: { ...target, apply: ev.target.value },\n\t\t\t\t\t\t\t\t\tcollection,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{actions.map(a => (\n\t\t\t\t\t\t\t<Box key={parameter + a.type}>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Radio\n\t\t\t\t\t\t\t\t\t\t\tclassName={clsx({\n\t\t\t\t\t\t\t\t\t\t\t\t[classes.in]: ['in', 'allin'].includes(a.type),\n\t\t\t\t\t\t\t\t\t\t\t\t[classes.nin]: a.type === 'nin',\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvalue={a.type}\n\t\t\t\t\t\t\t\t\tlabel={a.label}\n\t\t\t\t\t\t\t\t\tclassName={clsx({\n\t\t\t\t\t\t\t\t\t\t[classes.disabled]: a.type !== applyValue,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t{!!a.value ? (\n\t\t\t\t\t\t\t\t\ta.value\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Sources\n\t\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\t\tsource={source[a.type]}\n\t\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\t\t\t\tdisabled={a.type !== applyValue}\n\t\t\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\t\tparameter={parameter}\n\t\t\t\t\t\t\t\t\t\titemId={itemId}\n\t\t\t\t\t\t\t\t\t\tactionType={a.type}\n\t\t\t\t\t\t\t\t\t\tapplyType={applyType}\n\t\t\t\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t\t\t\t\tdisabledSrcValues={disabledValues[a.type]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</RadioGroup>\n\t\t\t\t)}\n\t\t\t\t{applyType === 'multiple' &&\n\t\t\t\t\tactions.map(a => (\n\t\t\t\t\t\t<Box key={parameter + a.type}>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tclassName={clsx({\n\t\t\t\t\t\t\t\t\t[classes.in]: ['in', 'allin'].includes(a.type),\n\t\t\t\t\t\t\t\t\t[classes.nin]: a.type === 'nin',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{a.label}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{!!a.value ? (\n\t\t\t\t\t\t\t\ta.value\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Sources\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tsource={source[a.type]}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tparameter={parameter}\n\t\t\t\t\t\t\t\t\titemId={itemId}\n\t\t\t\t\t\t\t\t\tactionType={a.type}\n\t\t\t\t\t\t\t\t\tapplyType={applyType}\n\t\t\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t\t\t\tdisabledSrcValues={getMultipleActionsUsedValues({\n\t\t\t\t\t\t\t\t\t\tactions,\n\t\t\t\t\t\t\t\t\t\tcurrentAction: a,\n\t\t\t\t\t\t\t\t\t\ttarget,\n\t\t\t\t\t\t\t\t\t}).concat(disabledValues[a.type] || [])}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t))}\n\t\t\t\t{applyType === 'multiple-checkbox' &&\n\t\t\t\t\tactions.map(a => (\n\t\t\t\t\t\t<Box key={parameter + a.value}>\n\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!target[a.value]}\n\t\t\t\t\t\t\t\t\t\t\tname={a.value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateTargetRuleInput({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemType,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparameter,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...target,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[a.value]: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcollection,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={a.label}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormHelperText>{a.helper}</FormHelperText>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t))}\n\t\t\t</Box>\n\t\t\t<Box>{extraInfo}</Box>\n\t\t</Box>\n\t)\n}\n\nconst NewTargetingRules = ({ itemType, itemId, validateId, advancedOnly }) => {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\tconst classes = useStyles()\n\n\tconst { SOURCES, inputs, errorParameters } = useSelector(state =>\n\t\tselectAudienceInputsDataByItem(\n\t\t\tstate,\n\t\t\titemType,\n\t\t\titemId,\n\t\t\tvalidateId,\n\t\t\tadvancedOnly\n\t\t)\n\t)\n\n\tconst { parameter, source, actions, applyType, disabledValues, extraInfo } =\n\t\tSOURCES[tabIndex] || {}\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' width={1} height={1}>\n\t\t\t{!advancedOnly && (\n\t\t\t\t<Box mb={2}>\n\t\t\t\t\t<Paper position='static' variant='outlined'>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{SOURCES.map(({ parameter }, index) => (\n\t\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\t\tkey={parameter}\n\t\t\t\t\t\t\t\t\tlabel={parameter}\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\terrorParameters[parameter] ? (\n\t\t\t\t\t\t\t\t\t\t\t<ErrIcon color='error' />\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\tparameterIcon[parameter]\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t<Box display='flex' flexGrow='1'>\n\t\t\t\t<Targets\n\t\t\t\t\tinputs={inputs}\n\t\t\t\t\ttarget={inputs[parameter]}\n\t\t\t\t\tkey={parameter}\n\t\t\t\t\tparameter={parameter}\n\t\t\t\t\tlabel={t(parameter)}\n\t\t\t\t\tplaceholder={t(parameter)}\n\t\t\t\t\tsource={source || {}}\n\t\t\t\t\textraInfo={extraInfo}\n\t\t\t\t\tdisabledValues={disabledValues || {}}\n\t\t\t\t\tSOURCES={SOURCES}\n\t\t\t\t\tactions={actions}\n\t\t\t\t\tapplyType={applyType}\n\t\t\t\t\titemId={itemId}\n\t\t\t\t\titemType={itemType}\n\t\t\t\t\tclasses={classes}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nNewTargetingRules.propTypes = {\n\ttitle: PropTypes.string,\n}\n\nexport default NewTargetingRules\n","import React, { Fragment } from 'react'\nimport {\n\tBox,\n\tTooltip,\n\tList,\n\tListSubheader,\n\tListItemText,\n\tListItemIcon,\n\tListItem,\n\tButton,\n\tChip,\n\tTypography,\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\nimport { Alert } from '@material-ui/lab'\nimport {\n\tLooksOneSharp,\n\tLooksTwoSharp,\n\tLooks3Sharp,\n\tLooks4Sharp,\n\tRefreshSharp,\n\tInfoSharp,\n} from '@material-ui/icons'\nimport { useSelector } from 'react-redux'\nimport { timeAgo } from 'helpers/timeHelpers'\nimport { selectWebsiteByWebsite, t } from 'selectors'\nimport { execute, updateWebsiteVerification } from 'actions'\n\nconst UPDATE_AGAIN_AFTER = 2 * 60 * 60 * 1000 // 2 h\n\nexport const getIssue = issue => {\n\tconst data = {\n\t\tlabel: issue,\n\t\targs: [],\n\t}\n\tswitch (issue) {\n\t\tcase 'SLOT_ISSUE_INTEGRATION_NOT_VERIFIED':\n\t\t\tdata.args = [\n\t\t\t\t{\n\t\t\t\t\ttype: 'anchor',\n\t\t\t\t\thref:\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360013352340-How-to-verify-your-publisher-website',\n\t\t\t\t\tlabel: 'HERE',\n\t\t\t\t},\n\t\t\t]\n\t\t\treturn data\n\t\tcase 'SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED':\n\t\t\tdata.args = [\n\t\t\t\t{\n\t\t\t\t\ttype: 'anchor',\n\t\t\t\t\thref:\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain',\n\t\t\t\t\tlabel: 'HERE',\n\t\t\t\t},\n\t\t\t]\n\t\t\treturn data\n\n\t\tdefault:\n\t\t\treturn data\n\t}\n}\n\nconst useStyles = makeStyles(theme => ({\n\tmessage: {\n\t\tdisplay: 'block',\n\t},\n}))\n\nexport function RenderIssue({ label, args }) {\n\treturn args.some(a => a.type === 'anchor') ? (\n\t\tt(label, {\n\t\t\targs: args.map((a, index) =>\n\t\t\t\ta.type === 'anchor' ? (\n\t\t\t\t\t<ExternalAnchor key={index} href={a.href}>\n\t\t\t\t\t\t{` ${t(a.label)}`}\n\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t) : (\n\t\t\t\t\tt(a)\n\t\t\t\t)\n\t\t\t),\n\t\t})\n\t) : (\n\t\t<div\n\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t__html: t(label, { args }),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const ALL_ISSUES = {\n\tSLOT_ISSUE_BLACKLISTED: { icon: LooksOneSharp, shortLabel: t('BLACKLISTED') },\n\tSLOT_ISSUE_OWNERSHIP_NOT_VERIFIED: {\n\t\ticon: LooksTwoSharp,\n\t\tshortLabel: t('NOT_VERIFIED'),\n\t},\n\tSLOT_ISSUE_SOMEONE_ELSE_VERIFIED: {\n\t\ticon: Looks3Sharp,\n\t\tshortLabel: t('VERIFIED_BY_SOMEONE_ELSE'),\n\t},\n}\n\nexport const WebsiteVerifyBtn = ({ id, website, issues, updated }) => {\n\tconst lastUpdated = updated ? Date.now() - new Date(updated).valueOf() : null\n\tconst canUpdate = !updated || lastUpdated > UPDATE_AGAIN_AFTER\n\treturn (\n\t\t!!issues.length && (\n\t\t\t<Box my={1}>\n\t\t\t\t<Button\n\t\t\t\t\tdisabled={!canUpdate}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tstartIcon={<RefreshSharp />}\n\t\t\t\t\tonClick={() => execute(updateWebsiteVerification({ id, website }))}\n\t\t\t\t>\n\t\t\t\t\t{t('TRY_VERIFY')}\n\t\t\t\t</Button>\n\t\t\t\t{!canUpdate && (\n\t\t\t\t\t<Typography variant='caption' display='block' align='right'>\n\t\t\t\t\t\t{t('VERIFICATION_UPDATED_AGO', {\n\t\t\t\t\t\t\targs: [timeAgo(new Date(updated).valueOf())],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t)\n\t)\n}\n\nexport function WebsiteIssues({ issues, website, asKeyWords, tryAgainBtn }) {\n\tconst classes = useStyles()\n\tconst site = useSelector(state => selectWebsiteByWebsite(state, website))\n\tconst defaultIssues = !website ? ['SLOT_ISSUE_NO_WEBSITE'] : []\n\tconst data = issues || site.issues || defaultIssues\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{!!data.length ? (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{site.id && tryAgainBtn && <WebsiteVerifyBtn {...site} />}\n\t\t\t\t\t{data.map((id, index) => {\n\t\t\t\t\t\tconst { label, args } = getIssue(id)\n\t\t\t\t\t\treturn !!asKeyWords ? (\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\ttitle={<RenderIssue label={label} args={args} />}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Chip size='small' label={ALL_ISSUES[label].shortLabel} />\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Box key={id} my={index !== 0 && index < data.length ? 1 : 0}>\n\t\t\t\t\t\t\t\t<Alert severity='warning' variant='outlined' classes={classes}>\n\t\t\t\t\t\t\t\t\t<RenderIssue label={label} args={args} />\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</Fragment>\n\t\t\t) : !!asKeyWords ? (\n\t\t\t\t<Typography variant='caption' color='secondary'>\n\t\t\t\t\t{t('WEBSITE_VERIFIED')}\n\t\t\t\t</Typography>\n\t\t\t) : (\n\t\t\t\t<Alert severity='success' variant='outlined' classes={classes}>\n\t\t\t\t\t{t('WEBSITE_VERIFIED')}\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n\nexport function WebsiteIssuesLegend() {\n\treturn (\n\t\t<List dense disablePadding>\n\t\t\t<ListItem>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<InfoSharp />\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={t('VERIFICATION_INFO_TEXT', {\n\t\t\t\t\t\targs: [24, 'HOURS', 2, 'HOURS'],\n\t\t\t\t\t})}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t</List>\n\t)\n}\n","import React, { Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tTypography,\n\tGrid,\n\tBox,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tChip,\n} from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\nimport { IabCategories } from 'adex-models'\nimport Img from 'components/common/img/Img'\nimport Anchor from 'components/common/anchor/anchor'\nimport { WebsiteIssues } from 'components/dashboard/containers/Slot/WebsiteIssues'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { styles } from '../styles'\nimport {\n\tt,\n\tselectMainToken,\n\tselectNewAdSlot,\n\tselectAccountIdentityAddr,\n\tselectDemandAnalyticsByType,\n} from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nconst SlotFallback = ({ img, targetUrl }) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<Fragment>\n\t\t\t<PropRow\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\n\t\t\t\tright={\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\n\t\t\t\t\t\t{targetUrl}\n\t\t\t\t\t</Anchor>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<PropRow\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\n\t\t\t\tright={\n\t\t\t\t\t<Img\n\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\timg: classes.imgPreview,\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\n\t\t\t\t\t\talt={targetUrl}\n\t\t\t\t\t\tmediaMime={img.mime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\t\t</Fragment>\n\t)\n}\n\nconst AdSlotPreview = () => {\n\tconst {\n\t\ttype,\n\t\ttitle,\n\t\tdescription,\n\t\twebsite,\n\t\ttemp,\n\t\ttargetUrl,\n\t\trules,\n\t\trulesInput,\n\t\tminPerImpression,\n\t} = useSelector(selectNewAdSlot)\n\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst typeDemand = useSelector(state =>\n\t\tselectDemandAnalyticsByType(state, type)\n\t)\n\tconst { allowAdultContent, autoSetMinCPM } = rulesInput.inputs\n\tconst { categories = [], suggestedMinCPM } = temp\n\treturn (\n\t\t<ContentBox>\n\t\t\t<ContentBody>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('website', { isProp: true })} right={website} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('SLOT_MIN_CPM', { args: [symbol] })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\tautoSetMinCPM\n\t\t\t\t\t\t\t\t\t? t('SLOT_AUTO_MIN_CPM_PREVIEW_LABEL', {\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedMinCPM, symbol],\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t: t('SLOT_MANUAL_MIN_CPM_PREVIEW_LABEL', {\n\t\t\t\t\t\t\t\t\t\t\targs: [minPerImpression, symbol],\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('SLOT_ALLOW_ADULT_CONTENT')}\n\t\t\t\t\t\t\tright={allowAdultContent ? t('YES') : t('NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\t\tright={description}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('WEBSITE_CATEGORIES')}\n\t\t\t\t\t\t\tright={categories.map(cat => (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tkey={cat}\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tlabel={t(\n\t\t\t\t\t\t\t\t\t\tIabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_WARNING'),\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t{(!typeDemand || !typeDemand.raw) && (\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\tleft={t('DEMAND_WARNINGS')}\n\t\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t\t<Alert severity='warning' variant='outlined'>\n\t\t\t\t\t\t\t\t\t\t{t('SLOT_NO_CURRENT_DEMAND', { args: [type] })}\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{temp.hostname && temp.issues && temp.issues.length && (\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_ISSUES')}\n\t\t\t\t\t\t\t\tright={<WebsiteIssues issues={temp.issues} />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t{temp.useFallback ? (\n\t\t\t\t\t\t\t<SlotFallback img={temp} targetUrl={targetUrl} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<PropRow left={t('FALLBACK_DATA')} right={t('NO')} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-content'\n\t\t\t\t\t\t\t\t\tid='slot-rules-header'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_RULES')}</Typography>\n\t\t\t\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\n\t\t\t\t\t\t\t\t\t<pre>{JSON.stringify(rules || [], null, 2)}</pre>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</ExpansionPanel>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AdSlotPreview\n","import React from 'react'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport { AdUnit, AdSlot, Campaign, Audience } from 'adex-models'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\nimport CampaignUnits from './Campaign/CampaignUnits'\nimport CampaignFinance from './Campaign/CampaignFinance'\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\nimport AudienceBasic from './Audience/AudienceBasic'\nimport NewAudiencePreview from './Audience/NewAudiencePreview'\nimport NewTargetingRules from './NewTargetingRules'\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\n\nimport {\n\texecute,\n\tvalidateNewUnitBasics,\n\tvalidateNewCampaignFinance,\n\tvalidateNewCampaignAdUnits,\n\tvalidateNewSlotBasics,\n\tvalidateNewSlotPassback,\n\tvalidateNewUnitMedia,\n\tvalidateCampaignAudienceInput,\n\tvalidateAudienceBasics,\n\tvalidateAudienceInput,\n\tcompleteItem,\n\tresetNewItem,\n\tsaveUnit,\n\tsaveSlot,\n\tsaveAudience,\n\topenCampaign,\n} from 'actions'\n\nexport const CampaignTargetingRules = props => (\n\t<NewTargetingRules {...props} itemType='Campaign' />\n)\n\nexport const AudienceRules = props => (\n\t<NewTargetingRules {...props} itemType='Audience' />\n)\n\n// Ad unit\nexport const NewUnitSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tcancelFunction={() => execute(resetNewItem('AdUnit'))}\n\t\tvalidateIdBase='new-AdUnit-'\n\t\titemType='AdUnit'\n\t\tstepsId='new-adunit-'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'UNIT_BASIC_STEP',\n\t\t\t\tcomponent: AdUnitBasic,\n\t\t\t\tvalidationFn: props => execute(validateNewUnitBasics(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'UNIT_MEDIA_STEP',\n\t\t\t\tcomponent: AdUnitMedia,\n\t\t\t\tvalidationFn: props => execute(validateNewUnitMedia(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\t\tcompleteBtnTitle: 'SAVE',\n\t\t\t\tcomponent: AdUnitFormPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteItem({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\titemType: 'AdUnit',\n\t\t\t\t\t\t\tcompeteAction: saveUnit,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\n\t\tnoDefaultImg\n\t\titemModel={AdUnit}\n\t/>\n)\n\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\n\nexport const NewUnitDialog = props => (\n\t<NewUnitStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='NEW_UNIT'\n\t\ttitle='CREATE_NEW_UNIT'\n\t/>\n)\n\nconst copyProps = {\n\tdarkerBackground: true,\n\ticon: <FileCopyIcon color='primary' />,\n}\n\nexport const NewCloneUnitDialog = props => (\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\n)\n\n// Campaign\nexport const NewCampaignSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tcancelFunction={() => execute(resetNewItem('Campaign'))}\n\t\tvalidateIdBase='new-Campaign-'\n\t\titemType='Campaign'\n\t\tstepsId='new-campaign-'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_UNITS_STEP',\n\t\t\t\tcomponent: CampaignUnits,\n\t\t\t\tvalidationFn: props => execute(validateNewCampaignAdUnits(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_AUDIENCE_STEP',\n\t\t\t\tcomponent: CampaignTargetingRules,\n\t\t\t\tvalidationFn: props => execute(validateCampaignAudienceInput(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_FINANCE_STEP',\n\t\t\t\tcomponent: CampaignFinance,\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewCampaignFinance({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\t\tcompleteBtnTitle: 'OPEN_CAMPAIGN',\n\t\t\t\tcomponent: CampaignFormPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteItem({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\titemType: 'Campaign',\n\t\t\t\t\t\t\tcompeteAction: openCampaign,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\titemModel={Campaign}\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\n\t/>\n)\n\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\n\nexport const NewCampaignDialog = props => (\n\t<NewCampaignStepsWithDialog\n\t\tbtnLabel='NEW_CAMPAIGN'\n\t\ttitle='CREATE_NEW_CAMPAIGN'\n\t\t{...props}\n\t/>\n)\n\nexport const NewCampaignFromAudience = props => (\n\t<NewCampaignStepsWithDialog {...props} title='NEW_CAMPAIGN_FROM_AUDIENCE' />\n)\n\n// Ad slot\nexport const NewSlotSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tcancelFunction={() => execute(resetNewItem('AdSlot'))}\n\t\tvalidateIdBase='new-AdUnit-'\n\t\titemType='AdSlot'\n\t\tstepsId='new-slot-'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'SLOT_BASIC_STEP',\n\t\t\t\tcomponent: AdSlotBasic,\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewSlotBasics({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'SLOT_PASSBACK_STEP',\n\t\t\t\tcomponent: AdSlotMedia,\n\t\t\t\tvalidationFn: props => execute(validateNewSlotPassback(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\t\tcompleteBtnTitle: 'SAVE',\n\t\t\t\tcomponent: AdSlotPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteItem({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\titemType: 'AdSlot',\n\t\t\t\t\t\t\tcompeteAction: saveSlot,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\n\t\titemModel={AdSlot}\n\t/>\n)\n\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\n\nexport const NewSlotDialog = props => (\n\t<NewSlotStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='NEW_SLOT'\n\t\ttitle='CREATE_NEW_SLOT'\n\t/>\n)\n\n// Audience\n\nexport const AudienceSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tcancelFunction={() => execute(resetNewItem('Audience'))}\n\t\tvalidateIdBase='new-Audience-'\n\t\titemType='Audience'\n\t\tstepsId='new-audience-'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'AUDIENCE_BASIC_STEP',\n\t\t\t\tcomponent: AudienceBasic,\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateAudienceBasics({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t...(props.skipRules\n\t\t\t\t? []\n\t\t\t\t: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'AUDIENCE_STEP',\n\t\t\t\t\t\t\tcomponent: AudienceRules,\n\t\t\t\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateAudienceInput({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t  ]),\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\t\tcompleteBtnTitle: 'SAVE',\n\t\t\t\tcomponent: NewAudiencePreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteItem({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\titemType: 'Audience',\n\t\t\t\t\t\t\tcompeteAction: saveAudience,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\titemModel={Audience}\n\t/>\n)\n\nexport const NewAudienceWithDialog = WithDialog(AudienceSteps)\n\nexport const NewAudienceDialog = props => (\n\t<NewAudienceWithDialog\n\t\tbtnLabel='NEW_AUDIENCE'\n\t\ttitle='CREATE_NEW_AUDIENCE'\n\t\t{...props}\n\t/>\n)\n","import React, { useEffect, useState, useCallback, Fragment } from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton, Box } from '@material-ui/core'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport { commify } from 'ethers/utils'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport Img from 'components/common/img/Img'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsTableData,\r\n\tselectSide,\r\n\tselectAdUnitsStatsMaxValues,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({\r\n\tclasses,\r\n\tnoActions,\r\n\tnoClone,\r\n\tmaxImpressions,\r\n\tmaxClicks,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ selectOnImage, id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\tconst ImgComponent = selectOnImage ? Img : RRImg\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ImgComponent\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t{...(!selectOnImage ? { to } : {})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\t// TODO: fix it with css\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${Number(ctr).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR.toFixed(2)],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: !noActions,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item, id, title }) => (\r\n\t\t\t\t<Box key={id} className={classes.actions}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{!noClone && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tcloneItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tobjModel: AdUnit,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='AdUnit'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\tonRowsSelect,\r\n})\r\n\r\nfunction AdUnitsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst {\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\tcampaignId,\r\n\t\thandleSelect,\r\n\t\tselected = [],\r\n\t\titems,\r\n\t} = props\r\n\r\n\tconst { maxClicks, maxImpressions, maxCTR } = useSelector(state =>\r\n\t\tselectAdUnitsStatsMaxValues(state, { side, campaignId })\r\n\t)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst [selectorArgs, setSelectorArgs] = useState({})\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdUnitsTableData,\r\n\t\tselectorArgs,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxCTR,\r\n\t\t\t}),\r\n\t})\r\n\r\n\t// NOTE: despite useTableData hook the component is updating.\r\n\t// 'selectorArgs' are object and they have new reference on each update\r\n\t// that causes useTableData to update the data on selectorArgs change.\r\n\t// If selectorArgs are reference type we need to use useState fot them\r\n\t// TODO: find why useTableData causing this update\r\n\tuseEffect(() => {\r\n\t\tsetSelectorArgs({ side, campaignId, items })\r\n\t}, [side, campaignId, items])\r\n\r\n\tconst onRowsSelect = useCallback(\r\n\t\t(_, allRowsSelected) => {\r\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\r\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\r\n\t\t},\r\n\t\t[data, handleSelect]\r\n\t)\r\n\r\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={campaignId ? t('CAMPAIGN_AD_UNITS') : t('ALL_UNITS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdUnitsTable\r\n","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport { Box, IconButton, Tooltip } from '@material-ui/core'\r\nimport { commify } from 'ethers/utils'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport {\r\n\tt,\r\n\tselectSide,\r\n\tselectAdSlotsTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes, symbol }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRImg\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: title => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: earnings => `${earnings.toFixed(2)} ${symbol}`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item, id, title }) => (\r\n\t\t\t\t<Box key={id} className={classes.actions}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\taria-label='view'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='AdSlot'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdSlotsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdSlotsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_SLOTS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdSlotsTable\r\n","import React from 'react'\r\nimport { Tooltip, IconButton, Typography, Box } from '@material-ui/core'\r\nimport { VisibilitySharp as Visibility } from '@material-ui/icons'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport { NewCampaignFromAudience } from 'components/dashboard/forms/items/NewItems'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport {\r\n\tt,\r\n\tselectSide,\r\n\tselectAudiencesTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nimport { execute, updateNewCampaign } from 'actions'\r\nimport { formatDate } from 'helpers/formatters'\r\n\r\nconst useStyles = makeStyles(styles)\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRTypography = withReactRouterLink(Typography)\r\n\r\nconst getCols = ({ classes, symbol }) => [\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tsetCellProps: () => ({ style: { cursor: 'pointer' } }),\r\n\t\t\tcustomBodyRender: ({ title, to }) => (\r\n\t\t\t\t<RRTypography key={title} to={to}>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</RRTypography>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDate(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'updated',\r\n\t\tlabel: t('PROP_UPDATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDate(created, undefined, t('-')),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tsetCellHeaderProps: () => ({ style: { textAlign: 'right' } }),\r\n\t\t\tsetCellProps: () => ({ style: { textAlign: 'right' } }),\r\n\t\t\tcustomBodyRender: ({ id, audienceInput, to, title }) => (\r\n\t\t\t\t<Box key={id} className={classes.actions}>\r\n\t\t\t\t\t<Tooltip title={t('LABEL_VIEW')} aria-label='view'>\r\n\t\t\t\t\t\t<RRIconButton to={to} aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_NEW_CAMPAIGN_FROM_AUDIENCE')}\r\n\t\t\t\t\t\taria-label='new-campaign'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<NewCampaignFromAudience\r\n\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\r\n\t\t\t\t\t\t\t\t\t\t\t...audienceInput,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ticon={<CampaignIcon color='secondary' />}\r\n\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='Audience'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n})\r\n\r\nfunction AudiencesTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAudiencesTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('SAVED_AUDIENCES')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AudiencesTable\r\n","import Helper from 'helpers/miscHelpers'\nimport { defaults } from 'react-chartjs-2'\nimport merge from 'lodash.merge'\n\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\n// Eddie colors\nexport const CHARTS_COLORS = [\n\t'#00BAFF',\n\t'#7EDBFF',\n\t'#FF9FA8',\n\t'#14DC9C',\n\t'#61FFB2',\n\t'#ABFFE5',\n]\n\nexport let CHARTS_COMMON_OPTIONS = {\n\tresponsive: true,\n\ttooltips: {\n\t\tmode: 'label',\n\t\tcornerRadius: 2,\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\n\t},\n}\n\nexport const hexColorsToRgbaArray = (colors, alpha) => {\n\treturn colors.map(color => {\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\n\t})\n}\n\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { t, selectCampaignDoughnutStats } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction CampaignStatsDoughnut({\r\n\tcampaignId,\r\n\tmaxDataSets = CHARTS_COLORS.length,\r\n\tchartColors = CHARTS_COLORS,\r\n}) {\r\n\tconst data = useSelector(state =>\r\n\t\tselectCampaignDoughnutStats(state, {\r\n\t\t\tcampaignId,\r\n\t\t\tchartColors,\r\n\t\t\tmaxDataSets,\r\n\t\t})\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Doughnut\r\n\t\t\twidth={420}\r\n\t\t\theight={420}\r\n\t\t\tdata={data}\r\n\t\t\toptions={{\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\ttext: t('CAMPAIGN_STATS_PIE_CHART'),\r\n\t\t\t\t},\r\n\t\t\t\tanimation: false,\r\n\t\t\t\ttooltips: {\r\n\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\tlabel: function(item, data) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].label +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.labels[item.index] +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].data[item.index]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsDoughnut.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsDoughnut\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Grid, Button, CircularProgress, Box, Tooltip } from '@material-ui/core'\r\nimport { BlockSharp, CheckSharp } from '@material-ui/icons'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectCampaignStatsMaxValues,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectCampaignById,\r\n} from 'selectors'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { useSelector } from 'react-redux'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nimport { execute, excludeOrIncludeWebsites, confirmAction } from 'actions'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nconst getCols = ({\r\n\tsymbol,\r\n\tmaxClicks,\r\n\tmaxImpressions,\r\n\tmaxEarnings,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'isBlacklisted',\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\t// NOTE: hidden - used for selected items\r\n\t\tname: 'website',\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'website',\r\n\t\tlabel: t('WEBSITE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (key, tableMeta) => {\r\n\t\t\t\treturn tableMeta.rowData[0] ? (\r\n\t\t\t\t\t<Tooltip key={key} title={t('WEBSITE_IS_EXCLUDED')}>\r\n\t\t\t\t\t\t<Box color='error.main'>{key}</Box>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Box>{key}</Box>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: impressions => formatNumberWithCommas(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('WEBSITE_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t`${formatNumberWithCommas((earnings || 0).toFixed(2))} ${symbol}`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxEarnings],\r\n\t\t\t\tfilterTitle: t('EARNINGS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'averageCPM',\r\n\t\tlabel: t('LABEL_AVERAGE_CPM'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tcustomBodyRender: averageCPM =>\r\n\t\t\t\t`${formatNumberWithCommas((averageCPM || 0).toFixed(2))} ${symbol}`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => formatNumberWithCommas(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t\tstepsCount: 20,\r\n\t\t\t\tstepsPrecision: 4,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst IncludeOrExcludeWebsitesBtn = ({\r\n\taction,\r\n\texclude,\r\n\thostnames = [],\r\n\tcampaignId,\r\n\ticon,\r\n\tcolor,\r\n\tonSuccess,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, `${action}-campaign-${campaignId}`)\r\n\t)\r\n\treturn (\r\n\t\t<div className={classes.wrapper}>\r\n\t\t\t<Button\r\n\t\t\t\tvariant='contained'\r\n\t\t\t\tcolor={color}\r\n\t\t\t\tsize='medium'\r\n\t\t\t\tfullWidth\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tconfirmAction(\r\n\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\texcludeOrIncludeWebsites({\r\n\t\t\t\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t\t\t\t\t\thostnames,\r\n\t\t\t\t\t\t\t\t\t\texclude,\r\n\t\t\t\t\t\t\t\t\t\taction,\r\n\t\t\t\t\t\t\t\t\t\tonSuccess,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconfirmLabel: t(`${action}_WEBSITES_ACTION_LABEL`),\r\n\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\t\t\t\ttitle: t(`${action}_WEBSITES_CONFIRM_TITLE`, {\r\n\t\t\t\t\t\t\t\t\targs: [hostnames.length],\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\ttext: t(`${action}_WEBSITES_CONFIRM_INFO`, {\r\n\t\t\t\t\t\t\t\t\targs: [hostnames.length],\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\tendIcon={icon}\r\n\t\t\t>\r\n\t\t\t\t{t(`BTN_${action}_WEBSITES`)}\r\n\t\t\t</Button>\r\n\t\t\t{spinner && (\r\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst WebsitesActions = ({ campaignId, hostnames = [], onSuccess }) => {\r\n\treturn (\r\n\t\t<Grid container spacing={1} alignItems='center'>\r\n\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t<IncludeOrExcludeWebsitesBtn\r\n\t\t\t\t\taction='EXCLUDE'\r\n\t\t\t\t\thostnames={hostnames}\r\n\t\t\t\t\texclude={true}\r\n\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\ticon={<BlockSharp />}\r\n\t\t\t\t\tonSuccess={onSuccess}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t<IncludeOrExcludeWebsitesBtn\r\n\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\taction='INCLUDE'\r\n\t\t\t\t\thostnames={hostnames}\r\n\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\ticon={<CheckSharp />}\r\n\t\t\t\t\tonSuccess={onSuccess}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nconst getOptions = ({ reloadData, campaignId }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\trowsPerPage: 25,\r\n\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\r\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\r\n\t\tconst hostnames = displayData\r\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\r\n\t\t\t.map(item => item.data[1])\r\n\r\n\t\tconst actionData = {\r\n\t\t\tcampaignId,\r\n\t\t\thostnames,\r\n\t\t\tonSuccess: reloadData,\r\n\t\t}\r\n\r\n\t\treturn <WebsitesActions {...actionData} />\r\n\t},\r\n})\r\n\r\nfunction CampaignStatsBreakdownTable({ campaignId, isActive, canSendMsgs }) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { maxClicks, maxImpressions, maxEarnings, maxCTR } = useSelector(\r\n\t\tstate => selectCampaignStatsMaxValues(state, campaignId)\r\n\t)\r\n\r\n\tconst allowActions = isActive && canSendMsgs\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignStatsTableData,\r\n\t\tselectorArgs: campaignId,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({ symbol, maxClicks, maxImpressions, maxEarnings, maxCTR }),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData, campaignId, isActive, canSendMsgs })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('CAMPAIGN_STATS_BREAKDOWN')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\trowSelectable={allowActions}\r\n\t\t\ttoolbarEnabled\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsBreakdownTable.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsBreakdownTable\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\ticon: {\r\n\t\t\theight: '3rem',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdottedDivider: {\r\n\t\t\tborderBottom: `0.5px dotted ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tsolidDevider: {\r\n\t\t\tborderBottom: `0.5px solid ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tbreakdownTable: {\r\n\t\t\twidth: '100%',\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tbreakAll: {\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\tpageBreak: {\r\n\t\t\tpageBreakAfter: 'always',\r\n\t\t},\r\n\t\ta4: {\r\n\t\t\twidth: '210mm',\r\n\t\t\tminHeight: '297mm',\r\n\t\t\tpadding: '8mm',\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTableContainer,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCompanyData,\r\n\tselectPublisherReceiptsStatsByMonthTableData,\r\n\tselectPublisherReceiptsStatsByMonthTotalValues,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatDate,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport moment from 'moment'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function PublisherReceiptTpl({ date } = {}) {\r\n\tconst classes = useStyles()\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\r\n\tconst monthBreakdown = useSelector(state =>\r\n\t\tselectPublisherReceiptsStatsByMonthTableData(state, date)\r\n\t)\r\n\r\n\tconst { totalPayouts, totalImpressions } = useSelector(state =>\r\n\t\tselectPublisherReceiptsStatsByMonthTotalValues(state, date)\r\n\t)\r\n\tconst cpm = ((totalPayouts / totalImpressions) * 1000).toFixed(2)\r\n\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\treturn (\r\n\t\t<Box p={2} mb={5} className={classnames(classes.pageBreak)} width={1}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between' flexWrap='wrap'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4' gutterBottom>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5' gutterBottom>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2' gutterBottom>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t//Unique receipt number made from identity address and the month of the receipt\r\n\t\t\t\t\t\t\tformatAddress(\r\n\t\t\t\t\t\t\t\t`${bigNumberify(\r\n\t\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t\t.startOf('month')\r\n\t\t\t\t\t\t\t\t\t\t.unix() * 1000\r\n\t\t\t\t\t\t\t\t).toHexString()}${identityAddr.substr(5)}`,\r\n\t\t\t\t\t\t\t\t'-'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={3}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t{formatDate(\r\n\t\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD')\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mb={2} display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6' align='right'>\r\n\t\t\t\t\t\t{t('RECEIPT_EARNED')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant='h4' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\ttotalPayouts.toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t.startOf('month')\r\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\ttotalPayouts.toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(totalImpressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_AVG_CPM')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${isFinite(cpm) ? cpm : Number(0).toFixed(2)}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t{monthBreakdown.length > 0 ? (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<TableContainer>\r\n\t\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_DATE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{`${t('RECEIPT_EARNED')} (${symbol})`}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{monthBreakdown\r\n\t\t\t\t\t\t\t\t\t\t.sort((a, b) => a.date - b.date)\r\n\t\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatDateTime(stats.date, 'YYYY-MM-DD')}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.payouts.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t) : (\r\n\t\t\t\t<Box\r\n\t\t\t\t\tmt={2}\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tjustifyContent='space-around'\r\n\t\t\t\t\talignContent='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography>{t('NO_REVENUE_THIS_MONTH')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nPublisherReceiptTpl.propTypes = {\r\n\tdate: PropTypes.any.isRequired,\r\n}\r\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport IMG_404_1 from 'resources/404-no.png'\nimport IMG_404_2 from 'resources/404-yes.png'\nimport Img from 'components/common/img/Img'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport Translate from 'components/translate/Translate'\nimport { styles } from './styles'\nimport { t } from 'selectors'\n\nconst RRButton = withReactRouterLink(Button)\n\nconst G404 = ({ size }) => (\n\t<Grid item xs={size}>\n\t\t<Typography variant={`h${6 - size}`} style={{ textTransform: 'uppercase' }}>\n\t\t\t{t('404')}\n\t\t</Typography>\n\t</Grid>\n)\n\nclass PageNotFound extends React.Component {\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\ttitle,\n\t\t\tsubtitle,\n\t\t\tgoToTxt,\n\t\t\tgoToPath,\n\t\t\tskipGoToButton,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.wrapper}>\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3' align='center'>\n\t\t\t\t\t\t\t{t(title || '404')}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t{subtitle && (\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\n\t\t\t\t\t\t\t\t{t(subtitle)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<G404 size={3} />\n\t\t\t\t\t<G404 size={4} />\n\t\t\t\t\t<G404 size={2} />\n\t\t\t\t\t<G404 size={1} />\n\t\t\t\t\t<G404 size={5} />\n\t\t\t\t\t<G404 size={3} />\n\t\t\t\t\t<G404 size={2} />\n\n\t\t\t\t\t<Grid item xs={5} sm={3}>\n\t\t\t\t\t\t<Img src={IMG_404_1} alt={'no'} className={classes.img} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={9}>\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={5} sm={3}>\n\t\t\t\t\t\t<Img src={IMG_404_2} alt={'yes'} className={classes.img} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={9}>\n\t\t\t\t\t\t{!skipGoToButton && (\n\t\t\t\t\t\t\t<RRButton\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\n\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\n\t\t\t\t\t\t\t</RRButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nPageNotFound.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tgoToTxt: PropTypes.string,\n\tgoToPath: PropTypes.string,\n\tskipGoToButton: PropTypes.bool,\n}\n\nexport default Translate(withStyles(styles)(PageNotFound))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\twrapper: {\n\t\t\tmargin: `${spacing * 2}px auto`,\n\t\t\tmaxWidth: 1000,\n\t\t},\n\t\timg: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t},\n\t}\n}\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTableContainer,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCampaignWithAnalyticsById,\r\n\tselectCompanyData,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { formatUnits, commify } from 'ethers/utils'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function CampaignReceiptTpl({ campaignId } = {}) {\r\n\tconst classes = useStyles()\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst campaignBreakdown = useSelector(state =>\r\n\t\tselectCampaignStatsTableData(state, campaignId)\r\n\t)\r\n\tconst campaign = useSelector(state =>\r\n\t\tselectCampaignWithAnalyticsById(state, campaignId)\r\n\t)\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\tconst humanFriendlyName = (campaign.status || {}).humanFriendlyName\r\n\tconst receiptReady =\r\n\t\thumanFriendlyName === 'Closed' || humanFriendlyName === 'Completed'\r\n\tif (!campaign.spec || !campaign.creator) {\r\n\t\treturn (\r\n\t\t\t<PageNotFound\r\n\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\r\n\t\t\t\t\targs: ['CAMPAIGN', campaignId],\r\n\t\t\t\t})}\r\n\t\t\t\tgoToPath={`/dashboard/advertiser`}\r\n\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\tif (!receiptReady) return null\r\n\treturn (\r\n\t\t<Box p={2} mb={5} className={classnames(classes.pageBreak)} width={1}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between' flexWrap='wrap'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4' gutterBottom>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5' gutterBottom>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2' gutterBottom>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(campaignId, '-')],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={3}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t{/* TODO: Need a date when the campaign has beeen completed */}\r\n\t\t\t\t\t\t\t<strong>{formatDateTime(campaign.withdrawPeriodStart)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_CAMPAIGN_ID')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{formatAddress(campaignId)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mb={2} display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6' align='right'>\r\n\t\t\t\t\t\t{t('RECEIPT_PAID')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant='h4' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\tNumber(formatUnits(campaign.depositAmount || '0', decimals)) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.activeFrom),\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.withdrawPeriodStart),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${\r\n\t\t\t\t\t\t\tcampaign.status.fundsDistributedRatio && campaign.depositAmount\r\n\t\t\t\t\t\t\t\t? commify(\r\n\t\t\t\t\t\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t\t\t\t\t\tformatUnits(campaign.depositAmount || '\t0', decimals)\r\n\t\t\t\t\t\t\t\t\t\t) *\r\n\t\t\t\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t: Number(0).toFixed(2)\r\n\t\t\t\t\t\t} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.impressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_CLICKS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.clicks)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\r\n\t\t\t{campaignBreakdown.length > 0 && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<TableContainer>\r\n\t\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('CHART_LABEL_CLICKS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`${t('WEBSITE_EARNINGS')} (${symbol})`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{campaignBreakdown\r\n\t\t\t\t\t\t\t\t\t\t.sort((a, b) => b.earnings - a.earnings)\r\n\t\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talign='left'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.breakAll)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{stats.website}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.clicks)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.earnings.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nCampaignReceiptTpl.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Box, Paper, Typography, TextField, Grid } from '@material-ui/core'\r\nimport { execute, updateCompanyData } from 'actions'\r\nimport { t, selectCompanyData } from 'selectors'\r\n\r\nfunction CompanyDetails(props) {\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box mb={1}>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography gutterBottom variant='h5'>\r\n\t\t\t\t\t\t\t\t{t('COMPANY_DETAIL_HEADING')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('COMPANY_NAME')}\r\n\t\t\t\t\t\t\t\tvalue={companyName || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ companyName: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('FIRST_LAST_NAME')}\r\n\t\t\t\t\t\t\t\tvalue={firstLastName || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ firstLastName: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('ADDRESS')}\r\n\t\t\t\t\t\t\t\tvalue={address || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ address: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('COUNTRY')}\r\n\t\t\t\t\t\t\t\tvalue={country || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ country: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t{props.children}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default CompanyDetails\r\n","import React, { useRef, useEffect, useState } from 'react'\r\nimport { useParams, Redirect } from 'react-router'\r\nimport { Box, Button, Paper } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ReactToPrint from 'react-to-print'\r\nimport { Print, DateRangeSharp, GetApp } from '@material-ui/icons'\r\nimport { PublisherReceiptTpl } from './PublisherReceiptTpl'\r\nimport { CampaignReceiptTpl } from './CampaignReceiptTpl'\r\nimport CompanyDetails from './CompanyDetails'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tt,\r\n\tselectSelectedCampaigns,\r\n\tselectSide,\r\n\tselectSpinnerById,\r\n\tselectAccountIdentityDeployData,\r\n\tselectReceiptMonths,\r\n} from 'selectors'\r\nimport { execute, resetSelectedItems, getReceiptData } from 'actions'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { FETCHING_PUBLISHER_RECEIPTS } from 'constants/spinners'\r\nimport { LinearProgress } from '@material-ui/core'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Receipt(props) {\r\n\tconst classes = useStyles()\r\n\tconst invoice = useRef()\r\n\tconst side = useSelector(selectSide)\r\n\t// Advertiser Receipt variables\r\n\tconst { itemId } = useParams()\r\n\tconst selectedCampaigns = useSelector(state => selectSelectedCampaigns(state))\r\n\tconst selectedByPropsOrParams = props.itemId || itemId\r\n\tconst receiptsAdvertiser = selectedByPropsOrParams\r\n\t\t? [selectedByPropsOrParams]\r\n\t\t: selectedCampaigns\r\n\r\n\t// Publisher Receipt variables\r\n\tconst { created } = useSelector(state =>\r\n\t\tselectAccountIdentityDeployData(state)\r\n\t)\r\n\tconst [startDate, setStartDate] = useState('')\r\n\tconst [endDate, setEndDate] = useState('')\r\n\tconst [dirty, setDirty] = useState(false)\r\n\tconst dates = useSelector(() => selectReceiptMonths(startDate, endDate))\r\n\tconst validateStartDate =\r\n\t\tstartDate <= endDate && startDate !== '' && endDate !== ''\r\n\tconst validateEndDate =\r\n\t\tendDate >= startDate && startDate !== '' && endDate !== ''\r\n\tconst startDateError = !validateStartDate && dirty\r\n\tconst endDateError = !validateEndDate && dirty\r\n\tconst monthMappingStartPeriod = useSelector(() =>\r\n\t\tselectReceiptMonths(created, new Date().setDate(0), false)\r\n\t)\r\n\tconst monthMappingEndPeriod = useSelector(() =>\r\n\t\tselectReceiptMonths(created, new Date().setDate(0), true)\r\n\t)\r\n\r\n\tconst fetchingPublisherReceiptsSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, FETCHING_PUBLISHER_RECEIPTS)\r\n\t)\r\n\r\n\t// Receipts\r\n\tconst [receipts, setReceipts] = useState(receiptsAdvertiser || [])\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\texecute(resetSelectedItems())\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst getReceipts = () => {\r\n\t\tsetDirty(true)\r\n\t\tif (validateStartDate && validateEndDate) {\r\n\t\t\texecute(getReceiptData(startDate, endDate))\r\n\t\t\tsetReceipts(dates.map(item => item.value))\r\n\t\t}\r\n\t}\r\n\r\n\tif (side === 'advertiser' && receipts.length === 0)\r\n\t\treturn <Redirect to={'/dashboard/advertiser/campaigns'} />\r\n\treturn (\r\n\t\t<Box display='flex' justifyContent='center' alignContent='center'>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\tflexGrow={1}\r\n\t\t\t\toverflow='hidden'\r\n\t\t\t>\r\n\t\t\t\t<CompanyDetails>\r\n\t\t\t\t\t<ReactToPrint\r\n\t\t\t\t\t\tpageStyle={\r\n\t\t\t\t\t\t\t'@page { size: A4 portrait; marks: none; } @media print { body { -webkit-print-color-adjust: exact; } }'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttrigger={() => (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\tside === 'publisher' &&\r\n\t\t\t\t\t\t\t\t\t(receipts.length === 0 || fetchingPublisherReceiptsSpinner)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{!selectedByPropsOrParams\r\n\t\t\t\t\t\t\t\t\t? `${t('RECEIPTS_PRINT_ALL')}`\r\n\t\t\t\t\t\t\t\t\t: `${t('RECEIPT_PRINT')}`}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tcontent={() => invoice.current}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</CompanyDetails>\r\n\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tp={1}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\talignItems='flex-start'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsource={[...monthMappingStartPeriod]}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirty(true)\r\n\t\t\t\t\t\t\t\t\t\tsetStartDate(val)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={startDateError}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tstartDateError && startDate !== ''\r\n\t\t\t\t\t\t\t\t\t\t\t? t('START_DATE_ERROR')\r\n\t\t\t\t\t\t\t\t\t\t\t: t('HELPER_START_DATE')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={startDate}\r\n\t\t\t\t\t\t\t\t\tlabel={t('START_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tname='startDate'\r\n\t\t\t\t\t\t\t\t\thtmlId='start-date-select'\r\n\t\t\t\t\t\t\t\t\tIconComponent={DateRangeSharp}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsource={[...monthMappingEndPeriod]}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirty(true)\r\n\t\t\t\t\t\t\t\t\t\tsetEndDate(val)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={endDateError}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tendDateError && endDate !== ''\r\n\t\t\t\t\t\t\t\t\t\t\t? t('END_DATE_ERROR')\r\n\t\t\t\t\t\t\t\t\t\t\t: t('HELPER_END_DATE')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={endDate}\r\n\t\t\t\t\t\t\t\t\tlabel={t('END_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tname='endDate'\r\n\t\t\t\t\t\t\t\t\thtmlId='end-date-select'\r\n\t\t\t\t\t\t\t\t\tIconComponent={DateRangeSharp}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tstyle={{ minHeight: 54.63 }}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tstartIcon={<GetApp />}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={() => getReceipts()}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('GET_RECEIPTS')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{fetchingPublisherReceiptsSpinner && (\r\n\t\t\t\t\t\t\t<LinearProgress className={classes.progress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t\t<Box mt={2} display='flex' alignItems='center' justifyContent='center'>\r\n\t\t\t\t\t{receipts.length > 0 && (\r\n\t\t\t\t\t\t<Box width={1}>\r\n\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t<Box ref={invoice}>\r\n\t\t\t\t\t\t\t\t\t{receipts.map(item =>\r\n\t\t\t\t\t\t\t\t\t\tside === 'advertiser' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<CampaignReceiptTpl campaignId={item} key={item} />\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\tfetchingPublisherReceiptsSpinner === false && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PublisherReceiptTpl date={item} key={item} />\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\nexport { Receipt }\r\n","import React from 'react'\nimport { commify } from 'ethers/utils'\nimport PropTypes from 'prop-types'\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\nimport { Box } from '@material-ui/core'\nimport { t, selectMainToken } from 'selectors'\nimport { useTableData } from './tableHooks'\nimport { ReloadData } from './toolbars'\nimport { useSelector } from 'react-redux'\n\nconst getCols = ({ showEarnings, symbol }) => [\n\t{\n\t\tname: 'countryName',\n\t\tlabel: t('PROP_COUNTRY'),\n\t\toptions: {\n\t\t\tfilter: true,\n\t\t\tsort: false,\n\t\t\tdownload: true,\n\t\t},\n\t},\n\t{\n\t\tname: 'impressions',\n\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tsortDirection: 'desc',\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\n\t\t},\n\t},\n\t{\n\t\tname: 'percentImpressions',\n\t\tlabel: t('LABEL_PERC'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: percentImpressions =>\n\t\t\t\t`${percentImpressions.toFixed(2)} %`,\n\t\t},\n\t},\n\t{\n\t\tname: 'clicks',\n\t\tlabel: t('LABEL_CLICKS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\n\t\t},\n\t},\n\t{\n\t\tname: 'ctr',\n\t\tlabel: t('LABEL_CTR'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\n\t\t},\n\t},\n\t...(showEarnings\n\t\t? [\n\t\t\t\t{\n\t\t\t\t\tname: 'averageCPM',\n\t\t\t\t\tlabel: t('LABEL_AVERAGE_CPM'),\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tfilter: false,\n\t\t\t\t\t\tsort: true,\n\t\t\t\t\t\tcustomBodyRender: averageCPM =>\n\t\t\t\t\t\t\t`${commify(averageCPM.toFixed(2))} ${symbol}`,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'earnings',\n\t\t\t\t\tlabel: t('LABEL_EARNINGS'),\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tfilter: false,\n\t\t\t\t\t\tsort: true,\n\t\t\t\t\t\tcustomBodyRender: earnings =>\n\t\t\t\t\t\t\t`${commify(earnings.toFixed(2))} ${symbol}`,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t  ]\n\t\t: []),\n]\n\nconst getOptions = ({ reloadData, selected }) => ({\n\tfilterType: 'multiselect',\n\trowsSelected: selected,\n\trowsPerPage: 10,\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\n})\n\nfunction StatsByCountryTable(props) {\n\tconst { selector, selected = [], showEarnings } = props\n\tconst { symbol } = useSelector(selectMainToken)\n\n\tconst { data, columns, reloadData } = useTableData({\n\t\tselector,\n\t\tgetColumns: () =>\n\t\t\tgetCols({\n\t\t\t\tsymbol,\n\t\t\t\tshowEarnings,\n\t\t\t}),\n\t})\n\n\tconst options = getOptions({ selected, reloadData })\n\treturn (\n\t\t<Box>\n\t\t\t<MUIDataTableEnhanced\n\t\t\t\tdata={data}\n\t\t\t\tcolumns={columns}\n\t\t\t\toptions={options}\n\t\t\t\tnoSearch\n\t\t\t\tnoPrint\n\t\t\t\tnoViewColumns\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t</Box>\n\t)\n}\n\nStatsByCountryTable.propTypes = {\n\tselector: PropTypes.func.isRequired,\n\tshowEarnings: PropTypes.bool,\n}\n\nexport default StatsByCountryTable\n","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tZoomableGroup,\n\tComposableMap,\n\tGeographies,\n\tGeography,\n} from 'react-simple-maps'\nimport { Paper } from '@material-ui/core'\nimport ReactTooltip from 'react-tooltip'\nimport { ALEX_GREY } from 'components/App/themeMUi'\n\nconst MapChart = ({ selector }) => {\n\tconst { chartData, hoverColor, pressedColor } = useSelector(selector)\n\n\tconst [content, setContent] = useState('')\n\n\treturn (\n\t\t<Paper elevation={2} variant='outlined' square>\n\t\t\t<ComposableMap\n\t\t\t\tdata-tip='chart-map'\n\t\t\t\tprojection='geoMercator'\n\t\t\t\tprojectionConfig={{\n\t\t\t\t\tscale: 100,\n\t\t\t\t}}\n\t\t\t\twidth={666}\n\t\t\t\theight={420}\n\t\t\t>\n\t\t\t\t<ZoomableGroup maxZoom={3}>\n\t\t\t\t\t<Geographies geography={chartData}>\n\t\t\t\t\t\t{({ geographies = [] }) => {\n\t\t\t\t\t\t\treturn geographies.map(geo => {\n\t\t\t\t\t\t\t\tconst { tooltipElements, fillColor } = geo.properties\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Geography\n\t\t\t\t\t\t\t\t\t\tkey={geo.rsmKey}\n\t\t\t\t\t\t\t\t\t\tgeography={geo}\n\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetContent(tooltipElements)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonMouseLeave={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetContent('')\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tfill={fillColor}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\t\tstroke: 'white',\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\thover: {\n\t\t\t\t\t\t\t\t\t\t\t\tfill: hoverColor,\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tpressed: {\n\t\t\t\t\t\t\t\t\t\t\t\tfill: pressedColor,\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t</Geographies>\n\t\t\t\t</ZoomableGroup>\n\t\t\t</ComposableMap>\n\t\t\t{/* TODO: use material-ui tooltip ot popover */}\n\t\t\t{!!content && (\n\t\t\t\t<ReactTooltip border={false} backgroundColor={ALEX_GREY}>\n\t\t\t\t\t{Array.isArray(content)\n\t\t\t\t\t\t? content.map((x, i) => <div key={i}>{x}</div>)\n\t\t\t\t\t\t: content}\n\t\t\t\t</ReactTooltip>\n\t\t\t)}\n\t\t</Paper>\n\t)\n}\n\nexport default MapChart\n","import React from 'react'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport { CampaignTargetingRules } from 'components/dashboard/forms/items/NewItems'\nimport { execute, resetNewItem, updateCampaignAudienceInput } from 'actions'\nimport { Campaign } from 'adex-models'\n\nconst TargetingSteps = ({\n\tupdateField,\n\tfieldName,\n\tstepTitle,\n\titemId,\n\t...props\n}) => {\n\treturn (\n\t\t<FormSteps\n\t\t\t{...props}\n\t\t\tcancelFunction={() => execute(resetNewItem('Campaign', itemId))}\n\t\t\titemId={itemId}\n\t\t\tvalidateIdBase={`update-campaign-${itemId}-`}\n\t\t\titemType='Campaign'\n\t\t\tstepsId={`update-campaign-${itemId}`}\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: stepTitle || 'CAMPAIGN_AUDIENCE',\n\t\t\t\t\tcomponent: CampaignTargetingRules,\n\t\t\t\t\tcompleteBtnTitle: 'OK',\n\t\t\t\t\tcompleteFn: props =>\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tupdateCampaignAudienceInput({\n\t\t\t\t\t\t\t\tupdateField,\n\t\t\t\t\t\t\t\titemId,\n\t\t\t\t\t\t\t\tfieldName,\n\t\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t]}\n\t\t\titemModel={Campaign}\n\t\t/>\n\t)\n}\n\nexport const TargetingRulesEdit = WithDialog(TargetingSteps)\n","import React from 'react'\nimport {\n\tGrid,\n\tBox,\n\tInputAdornment,\n\tButton,\n\tDivider,\n\tCircularProgress,\n} from '@material-ui/core'\nimport { StopSharp, PauseSharp, StarSharp } from '@material-ui/icons'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { bigNumberify } from 'ethers/utils'\nimport {\n\tItemTitle,\n\tMediaCard,\n\tItemSpecProp,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { TargetingRulesEdit } from 'components/dashboard/containers/Campaign/CampaignEdits'\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\nimport { t, selectMainToken, selectSpinnerById } from 'selectors'\nimport {\n\texecute,\n\tcloseCampaign,\n\tpauseOrResumeCampaign,\n\tconfirmAction,\n\tmapCurrentToNewCampaignAudienceInput,\n} from 'actions'\nimport { useSelector } from 'react-redux'\n\nconst useStyles = makeStyles(theme => ({\n\twrapper: {\n\t\tmargin: theme.spacing(1),\n\t\tposition: 'relative',\n\t},\n\tbuttonProgress: {\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}))\n\nexport const CampaignBasic = ({\n\titem,\n\tcanSendMsgs,\n\tisActive,\n\t...hookProps\n}) => {\n\tconst classes = useStyles()\n\tconst {\n\t\ttitle,\n\t\tadUnits = [],\n\t\tpricingBounds,\n\t\tminPerImpression,\n\t\tmaxPerImpression,\n\t\taudienceInput,\n\t} = item\n\tconst { advanced = {} } = (audienceInput || {}).inputs || {}\n\tconst { decimals, symbol } = selectMainToken()\n\tconst { title: errTitle } = hookProps.validations\n\n\tconst { mediaUrl, mediaMime } = adUnits[0] || {}\n\tconst status = item.status || {}\n\tconst { humanFriendlyName } = status\n\tconst isPaused = ((item.targetingRules || [])[0] || {}).onlyShowIf === false\n\tconst pauseAction = isPaused ? 'RESUME' : 'PAUSE'\n\n\tconst campaignPricingBounds = pricingBounds || { IMPRESSION: {} }\n\tconst cpmMin = campaignPricingBounds.min || minPerImpression || 0\n\tconst cpmMax = campaignPricingBounds.max || maxPerImpression || 0\n\n\tconst closeSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, `closing-campaign-${item.id}`)\n\t)\n\n\tconst pauseSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, `pausing-campaign-${item.id}`)\n\t)\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\n\t\t\t\t<Box my={1}>\n\t\t\t\t\t<MediaCard mediaUrl={mediaUrl} mediaMime={mediaMime} />\n\t\t\t\t</Box>\n\t\t\t\t{isActive && (\n\t\t\t\t\t<Grid container spacing={1} alignItems='center'>\n\t\t\t\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\n\t\t\t\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\tconfirmAction(\n\t\t\t\t\t\t\t\t\t\t\t\t() => execute(closeCampaign({ campaign: item })),\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfirmLabel: t('CLOSE_CAMPAIGN_CONFIRM_LABEL'),\n\t\t\t\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: t('CLOSE_CAMPAIGN_CONFIRM_TITLE', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [title],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: t('CLOSE_CAMPAIGN_CONFIRM_INFO', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdisabled={closeSpinner || !canSendMsgs}\n\t\t\t\t\t\t\t\t\tendIcon={<StopSharp />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{closeSpinner && (\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\n\t\t\t\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\tconfirmAction(\n\t\t\t\t\t\t\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\texecute(pauseOrResumeCampaign({ campaign: item })),\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfirmLabel: t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${pauseAction}_CAMPAIGN_CONFIRM_LABEL`\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: t(`${pauseAction}_CAMPAIGN_CONFIRM_TITLE`, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [title],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: t(`${pauseAction}_CAMPAIGN_CONFIRM_INFO`, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdisabled={pauseSpinner || !canSendMsgs}\n\t\t\t\t\t\t\t\t\tendIcon={isPaused ? <StarSharp /> : <PauseSharp />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(`BTN_${pauseAction}_CAMPAIGN`)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{pauseSpinner && (\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</Grid>\n\n\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\n\t\t\t\t<Box mt={1}>\n\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\n\t\t\t\t</Box>\n\t\t\t\t<Box mt={1}>\n\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\tprop={'id'}\n\t\t\t\t\t\tvalue={item.id}\n\t\t\t\t\t\tlabel={t('id', { isProp: true })}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'humanFriendlyName'}\n\t\t\t\t\t\t\t\tvalue={t(humanFriendlyName, { toUpperCase: true })}\n\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(humanFriendlyName, status.name, 'md')}\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'created'}\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\n\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'activeFrom'}\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\n\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'withdrawPeriodStart'}\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\n\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{/* <Box my={1}>\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\t\t\t\tprop={'CAMPAIGN_MIN_TARGETING'}\n\t\t\t\t\t\t\t\t\t\t\tvalue={item.minTargetingScore > 0 ? t('YES') : t('NO')}\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Box> */}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'fundsDistributedRatio'}\n\t\t\t\t\t\t\t\tvalue={((status.fundsDistributedRatio || 0) / 10).toFixed(2)}\n\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'depositAmount'}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, decimals) + ' ' + symbol\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'CPM_MIN'}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\tformatTokenAmount(\n\t\t\t\t\t\t\t\t\t\tbigNumberify(cpmMin || 0).mul(1000),\n\t\t\t\t\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('CPM_MIN')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'CPM_MAX'}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\tformatTokenAmount(\n\t\t\t\t\t\t\t\t\t\tbigNumberify(cpmMax || 0).mul(1000),\n\t\t\t\t\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('CPM_MAX')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Box mt={3} mb={1}>\n\t\t\t\t\t<Divider />\n\t\t\t\t</Box>\n\t\t\t\t<Grid container spacing={2} pt={2}>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'INCLUDE_INCENTIVIZED_TRAFFIC_LABEL'}\n\t\t\t\t\t\t\t\tvalue={t(advanced.includeIncentivized ? 'YES' : 'NO')}\n\t\t\t\t\t\t\t\tlabel={t('INCLUDE_INCENTIVIZED_TRAFFIC_LABEL')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'DISABLE_FREQUENCY_CAPPING_LABEL'}\n\t\t\t\t\t\t\t\tvalue={t(advanced.disableFrequencyCapping ? 'YES' : 'NO')}\n\t\t\t\t\t\t\t\tlabel={t('DISABLE_FREQUENCY_CAPPING_LABEL')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'LIMIT_AVERAGE_DAILY_SPENDING_LABEL'}\n\t\t\t\t\t\t\t\tvalue={t(advanced.limitDailyAverageSpending ? 'YES' : 'NO')}\n\t\t\t\t\t\t\t\tlabel={t('LIMIT_AVERAGE_DAILY_SPENDING_LABEL')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t\t{isActive && (\n\t\t\t\t\t\t\t\t<TargetingRulesEdit\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tadvancedOnly\n\t\t\t\t\t\t\t\t\tfieldName='campaignAdvanced'\n\t\t\t\t\t\t\t\t\tstepTitle='PROP_CAMPAIGN_ADVANCED'\n\t\t\t\t\t\t\t\t\tbtnLabel='EDIT_CAMPAIGN_ADVANCED'\n\t\t\t\t\t\t\t\t\ttitle='EDIT_CAMPAIGN_ADVANCED_TITLE'\n\t\t\t\t\t\t\t\t\titemId={item.id}\n\t\t\t\t\t\t\t\t\tdisabled={!canSendMsgs}\n\t\t\t\t\t\t\t\t\tdisableBackdropClick\n\t\t\t\t\t\t\t\t\tupdateField={hookProps.updateField}\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\tmapCurrentToNewCampaignAudienceInput({\n\t\t\t\t\t\t\t\t\t\t\t\titemId: item.id,\n\t\t\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tBox,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n} from '@material-ui/core'\nimport { t, selectAudienceByCampaignId } from 'selectors'\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\nimport { NewCampaignFromAudience } from 'components/dashboard/forms/items/NewItems'\nimport {\n\texecute,\n\tupdateNewCampaign,\n\tupdateNewAudience,\n\tmapCurrentToNewCampaignAudienceInput,\n} from 'actions'\nimport { NewAudienceDialog } from 'components/dashboard/forms/items/NewItems'\nimport { TargetingRulesEdit } from 'components/dashboard/containers/Campaign/CampaignEdits'\n\nconst useStyles = makeStyles(theme => ({\n\tactions: {\n\t\t'& > *': {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t\tmarginBottom: theme.spacing(1),\n\t\t},\n\t},\n}))\n\nexport const CampaignAudience = ({\n\titem,\n\tisActive,\n\tcanSendMsgs,\n\t...hookProps\n}) => {\n\tconst classes = useStyles()\n\tconst campaignAudienceInput =\n\t\tuseSelector(state => selectAudienceByCampaignId(state, item.id)) || {}\n\n\tconst audienceInput =\n\t\titem.audienceInput && Object.keys(item.audienceInput.inputs).length\n\t\t\t? item.audienceInput\n\t\t\t: campaignAudienceInput\n\n\treturn (\n\t\t<Box>\n\t\t\t<Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<AudiencePreview audienceInput={audienceInput.inputs} />\n\t\t\t\t</Box>\n\t\t\t\t<Box className={classes.actions}>\n\t\t\t\t\t{isActive && (\n\t\t\t\t\t\t<TargetingRulesEdit\n\t\t\t\t\t\t\tbtnLabel='UPDATE_AUDIENCE'\n\t\t\t\t\t\t\ttitle='UPDATE_CAMPAIGN_AUDIENCE'\n\t\t\t\t\t\t\titemId={item.id}\n\t\t\t\t\t\t\tdisabled={!canSendMsgs}\n\t\t\t\t\t\t\tdisableBackdropClick\n\t\t\t\t\t\t\tupdateField={hookProps.updateField}\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tmapCurrentToNewCampaignAudienceInput({\n\t\t\t\t\t\t\t\t\t\titemId: item.id,\n\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<NewCampaignFromAudience\n\t\t\t\t\t\tbtnLabel='NEW_CAMPAIGN_FROM_AUDIENCE'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tonBeforeOpen={() =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\n\t\t\t\t\t\t\t\t\t...audienceInput,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<NewAudienceDialog\n\t\t\t\t\t\tbtnLabel='SAVE_AUDIENCE'\n\t\t\t\t\t\ttitle='CREATE_NEW_AUDIENCE'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tonBeforeOpen={() =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewAudience(null, null, {\n\t\t\t\t\t\t\t\t\t...audienceInput,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box>\n\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\taria-controls='targeting-rules-content'\n\t\t\t\t\t\tid='targeting-rules-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>{t('TARGETING_RULES')}</Typography>\n\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\n\t\t\t\t\t\t<pre>\n\t\t\t\t\t\t\t{JSON.stringify(\n\t\t\t\t\t\t\t\titem.targetingRules || item.spec.targetingRules || [],\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</pre>\n\t\t\t\t\t</Box>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React, { useEffect, useRef } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Line, Chart } from 'react-chartjs-2'\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\nimport { GANDALF_GREY, ALEX_GREY } from 'components/App/themeMUi'\nimport { Box, Typography } from '@material-ui/core'\nimport Helper from 'helpers/miscHelpers'\nimport { selectMainToken, selectAnalyticsNowLabel } from 'selectors'\nimport { formatFloatNumberWithCommas } from 'helpers/formatters'\nimport * as ChartAnnotation from 'chartjs-plugin-annotation'\nimport { t } from 'selectors'\nimport { useWindowSize } from 'hooks/useWindowSize'\n\nconst commonDsProps = {\n\tfill: false,\n\tlineTension: 0,\n\tborderWidth: 2,\n\tpointRadius: 2,\n\tpointHitRadius: 10,\n}\n\nconst DEFAULT_FONT_SIZE = 14.2\nconst FONT = 'Roboto'\nconst DASH_SIZE = 4\nconst DASH_WIDTH = 2\n\nexport const SimpleStatistics = ({\n\tdata1,\n\tdata2,\n\tdata3,\n\tdata4,\n\tdata1Active = true,\n\tdata2Active = true,\n\tdata3Active = true,\n\tdata4Active = true,\n\tdataSynced,\n\tdefaultLabels = [],\n\toptions = {},\n\txLabel = 'TIMEFRAME',\n\ty1Label = 'DATA1',\n\ty2Label = 'DATA2',\n\ty3Label = 'DATA3',\n\ty4Label = 'DATA4',\n\ty1Color = CHARTS_COLORS[1],\n\ty2Color = CHARTS_COLORS[2],\n\ty3Color = CHARTS_COLORS[3],\n\ty4Color = CHARTS_COLORS[4],\n}) => {\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst nowLabel = useSelector(selectAnalyticsNowLabel)\n\tconst windowSize = useWindowSize()\n\tconst chartHeight = Math.min(\n\t\tMath.max(Math.floor((windowSize.height || 0) / 2.2), 240),\n\t\t420\n\t)\n\t// Vertical line / crosshair\n\tuseEffect(() => {\n\t\tChart.pluginService.register({\n\t\t\tbeforeDraw: function(chart) {\n\t\t\t\tconst ctx = chart.ctx\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\n\t\t\t\t\tconst chartScalesy1 = chart.scales['y-axis-1']\n\t\t\t\t\tif (chartScalesy1) {\n\t\t\t\t\t\tconst topY = chartScalesy1.top\n\t\t\t\t\t\tconst bottomY = chartScalesy1.bottom\n\t\t\t\t\t\tctx.save()\n\t\t\t\t\t\tctx.beginPath()\n\t\t\t\t\t\tctx.moveTo(x, topY)\n\t\t\t\t\t\tctx.lineTo(x, bottomY)\n\t\t\t\t\t\tctx.lineWidth = DASH_WIDTH\n\t\t\t\t\t\tctx.setLineDash([DASH_SIZE, DASH_SIZE])\n\t\t\t\t\t\tctx.strokeStyle = GANDALF_GREY // color of the vertical line\n\t\t\t\t\t\tctx.stroke()\n\t\t\t\t\t\tctx.restore()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t})\n\n\tconst chartData = {\n\t\tlabels: dataSynced ? data1.labels : defaultLabels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 1),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\n\t\t\t\tlabel: y1Label,\n\t\t\t\tdata: dataSynced ? data1.datasets : [],\n\t\t\t\tyAxisID: 'y-axis-1',\n\t\t\t\thidden: !data1Active,\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 1),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\n\t\t\t\tlabel: y2Label,\n\t\t\t\tdata: dataSynced ? data2.datasets : [],\n\t\t\t\tyAxisID: 'y-axis-2',\n\t\t\t\thidden: !data2Active,\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y3Color, 1),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y3Color, 1),\n\t\t\t\tlabel: y3Label,\n\t\t\t\tdata: dataSynced ? data3.datasets : [],\n\t\t\t\tyAxisID: 'y-axis-3',\n\t\t\t\thidden: !data3Active,\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y4Color, 1),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y4Color, 1),\n\t\t\t\tpointBackgroundColor: y4Color,\n\t\t\t\tlabel: y4Label,\n\t\t\t\tdata: dataSynced ? data4.datasets : [],\n\t\t\t\tyAxisID: 'y-axis-4',\n\t\t\t\thidden: !data4Active,\n\t\t\t},\n\t\t],\n\t}\n\n\tconst linesOptions = {\n\t\tanimation: false,\n\t\tresponsive: true,\n\t\tlayout: {\n\t\t\tpadding: {\n\t\t\t\ttop: 16,\n\t\t\t},\n\t\t},\n\t\tannotation: {\n\t\t\tannotations: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'line',\n\t\t\t\t\tmode: 'vertical',\n\t\t\t\t\tscaleID: 'x-axis-0',\n\n\t\t\t\t\tvalue: nowLabel,\n\t\t\t\t\tborderColor: ALEX_GREY,\n\t\t\t\t\tborderWidth: DASH_WIDTH,\n\t\t\t\t\tborderDash: [DASH_SIZE, DASH_SIZE],\n\t\t\t\t\tlabel: {\n\t\t\t\t\t\tcontent: t('NOW'),\n\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\tposition: 'center',\n\t\t\t\t\t\tcornerRadius: 0,\n\t\t\t\t\t\tbackgroundColor: ALEX_GREY,\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\n\t\t\t\t\t\tfontFamily: FONT,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t// This and fixed height are used for proper mobile display of the chart\n\t\tmaintainAspectRatio: false,\n\t\ttitle: {\n\t\t\tdisplay: false,\n\t\t\ttext: options.title,\n\t\t},\n\t\tlegend: {\n\t\t\tdisplay: false,\n\t\t},\n\t\ttooltips: {\n\t\t\tbackgroundColor: 'black',\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t\ttitleFontSize: DEFAULT_FONT_SIZE,\n\t\t\tbodyFontSize: DEFAULT_FONT_SIZE,\n\t\t\tbodyFontFamily: FONT,\n\t\t\ttitleFontFamily: FONT,\n\t\t\txPadding: 8,\n\t\t\tyPadding: 8,\n\t\t\tcornerRadius: 0,\n\t\t\tbodySpacing: 4,\n\t\t\tcaretSize: 8,\n\t\t\tdisplayColors: true,\n\t\t\tcallbacks: {\n\t\t\t\tlabel: function(t, d) {\n\t\t\t\t\t// This adds currency MainToken (DAI) to y3Label in the tooltips\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\n\t\t\t\t\tvar yLabel =\n\t\t\t\t\t\txLabel === y3Label\n\t\t\t\t\t\t\t? `${formatFloatNumberWithCommas(t.yLabel)} ${symbol}`\n\t\t\t\t\t\t\t: formatFloatNumberWithCommas(t.yLabel)\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\thover: {\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [\n\t\t\t\t{\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tdrawBorder: true,\n\t\t\t\t\t\tdrawTicks: true,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\n\t\t\t\t\t\tfontFamily: FONT,\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tautoSkip: true,\n\t\t\t\t\t\tmaxTicksLimit: 2,\n\t\t\t\t\t\tmaxRotation: 0,\n\t\t\t\t\t\tpadding: -24,\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\n\t\t\t\t\t\tfontFamily: FONT,\n\t\t\t\t\t\tcallback: () => '',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\t// NOTE: this one is just to show constant size grid lines\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tdrawBorder: false,\n\t\t\t\t\t\tdrawTicks: false,\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tmaxTicksLimit: 11,\n\t\t\t\t\t\tstepSize: 1,\n\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\tmax: 10,\n\t\t\t\t\t\tcallback: () => '',\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t},\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tid: 'y-axis-dummy-grid-lines',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tid: 'y-axis-1',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tid: 'y-axis-2',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tid: 'y-axis-3',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t// Hax - force to shift the data veridically\n\t\t\t\t\t\t// because chance for overlapping with -1 is very big\n\t\t\t\t\t\t// At same CPM impressions are the same curve as the sped one\n\t\t\t\t\t\tmaxTicksLimit: 3,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tid: 'y-axis-4',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t}\n\n\treturn (\n\t\t<Box>\n\t\t\t<Box height={chartHeight}>\n\t\t\t\t<Line\n\t\t\t\t\theight={chartHeight}\n\t\t\t\t\tdata={chartData}\n\t\t\t\t\toptions={linesOptions}\n\t\t\t\t\tplugins={[ChartAnnotation]}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t\t<Box\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='row'\n\t\t\t\tjustifyContent='space-between'\n\t\t\t\talignItems='center'\n\t\t\t\tpx={1}\n\t\t\t\tflexWrap='wrap'\n\t\t\t>\n\t\t\t\t<Typography component='div' variant='caption' align='left'>\n\t\t\t\t\t{defaultLabels[0]}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography component='div' variant='caption' align='center'>\n\t\t\t\t\t{t(xLabel || 'TIMEFRAME')}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography component='div' variant='caption' align='right'>\n\t\t\t\t\t{defaultLabels[1]}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import { useState, useEffect } from 'react'\r\n\r\nexport function useWindowSize() {\r\n\tconst hasWindow = typeof window === 'object'\r\n\r\n\tfunction getWindowSize() {\r\n\t\treturn {\r\n\t\t\twidth: hasWindow ? window.innerWidth : 0,\r\n\t\t\theight: hasWindow ? window.innerHeight : 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst [windowSize, setWindowSize] = useState(getWindowSize)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!hasWindow) {\r\n\t\t\treturn false\r\n\t\t}\r\n\r\n\t\tfunction onResize() {\r\n\t\t\tsetWindowSize(getWindowSize())\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('resize', onResize)\r\n\r\n\t\treturn () => window.removeEventListener('resize', onResize)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [hasWindow])\r\n\r\n\treturn windowSize\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Box, Typography } from '@material-ui/core'\nimport classnames from 'classnames'\nimport { ArrowTooltip } from 'components/common/tooltips'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport { Info, Visibility, VisibilityOff } from '@material-ui/icons'\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\troot: {\n\t\t\tcursor: 'pointer',\n\t\t\tposition: 'relative',\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\n\t\t\tcolor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\n\t\t\t\ttheme.palette.text.primary,\n\t\t},\n\t\tinfoCard: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tprogress: {\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tposition: 'absolute',\n\t\t\twidth: '100%',\n\t\t},\n\t\tvisibilityIcon: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\tposition: 'absolute',\n\t\t\ttop: theme.spacing(0.3),\n\t\t\tright: theme.spacing(0.5),\n\t\t\topacity: 0.69,\n\t\t},\n\t}\n})\n\nconst StatsCard = props => {\n\tconst {\n\t\ttitle,\n\t\tsubtitle,\n\t\tlinkCard,\n\t\tchildren,\n\t\tonClick,\n\t\tbgColor,\n\t\tloading,\n\t\texplain,\n\t\tdataVisible,\n\t} = props\n\n\tconst classes = useStyles({ bgColor, dataVisible })\n\n\tconst VIcon = dataVisible ? Visibility : VisibilityOff\n\n\treturn (\n\t\t<Box\n\t\t\toverflow='hidden'\n\t\t\tp={1}\n\t\t\tvariant='outlined'\n\t\t\tclassName={classnames(classes.root, {\n\t\t\t\t[classes.linkCard]: !!linkCard,\n\t\t\t})}\n\t\t\tonClick={onClick}\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\tjustifyContent='center'\n\t\t\talignContent='stretch'\n\t\t\tflexWrap='wrap'\n\t\t\tflexGrow={1}\n\t\t>\n\t\t\t<Box>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='row'\n\t\t\t\t\tjustifyContent='flex-start'\n\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tpr={3}\n\t\t\t\t>\n\t\t\t\t\t{onClick && <VIcon className={classes.visibilityIcon} size='large' />}\n\t\t\t\t\t{title && (\n\t\t\t\t\t\t<Typography variant='h6' noWrap>\n\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\n\t\t\t\t{subtitle &&\n\t\t\t\t\t(explain ? (\n\t\t\t\t\t\t<ArrowTooltip\n\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t<Typography component='div' variant='caption'>\n\t\t\t\t\t\t\t\t\t{explain}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Typography component='div'>\n\t\t\t\t\t\t\t\t{subtitle} <Info style={{ fontSize: 12 }} />\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</ArrowTooltip>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Typography component='div'>{subtitle}</Typography>\n\t\t\t\t\t))}\n\t\t\t\t{children}\n\t\t\t</Box>\n\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\n\t\t</Box>\n\t)\n}\n\nStatsCard.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tlinkCard: PropTypes.bool,\n}\n\nexport default StatsCard\n","export const styles = theme => {\n\treturn {\n\t\tdatepickerContrastInput: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\tdatepickerContrastLabel: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\t'&$datepickerContrastLabelFocused': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tdatepickerContrastLabelFocused: {},\n\t\tdatepickerContrastUnderline: {\n\t\t\t'&:after': {\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t\t'&:before': {\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t},\n\t\tdayWrapper: {\n\t\t\tposition: 'relative',\n\t\t},\n\t\tday: {\n\t\t\twidth: 36,\n\t\t\theight: 36,\n\t\t\tfontSize: theme.typography.caption.fontSize,\n\t\t\tmargin: '0 2px',\n\t\t\tcolor: 'inherit',\n\t\t},\n\t\tcustomDayHighlight: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: '2px',\n\t\t\tright: '2px',\n\t\t\tborder: `1px solid ${theme.palette.secondary.main}`,\n\t\t\tborderRadius: '50%',\n\t\t},\n\t\tnonCurrentMonthDay: {\n\t\t\tcolor: theme.palette.text.disabled,\n\t\t},\n\t\thighlightNonCurrentMonthDay: {\n\t\t\tcolor: '#676767',\n\t\t},\n\t\thighlight: {\n\t\t\tbackground: theme.palette.primary.main,\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\tfirstHighlight: {\n\t\t\textend: 'highlight',\n\t\t\tborderTopLeftRadius: '50%',\n\t\t\tborderBottomLeftRadius: '50%',\n\t\t},\n\t\tendHighlight: {\n\t\t\textend: 'highlight',\n\t\t\tborderTopRightRadius: '50%',\n\t\t\tborderBottomRightRadius: '50%',\n\t\t},\n\t\tdayDisabled: {\n\t\t\tcolor: 'rgba(0, 0, 0, 0.38)',\n\t\t\tpointerEvents: 'none',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport { DatePicker as MuiDatePicker } from '@material-ui/pickers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport {\n\tDateRangeSharp,\n\tNavigateNextRounded,\n\tNavigateBeforeRounded,\n\tUpdate,\n} from '@material-ui/icons'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport utils, { makeJSDateObject } from 'helpers/dateUtils'\nimport clsx from 'clsx'\n\nconst CalendarIconAdor = ({\n\ticon = <DateRangeSharp />,\n\ticonColor,\n\tonIconClick,\n\tonNextClick,\n\tonLiveClick,\n}) => (\n\t<InputAdornment position='end'>\n\t\t<IconButton color={iconColor} onClick={onIconClick} size='small'>\n\t\t\t{icon}\n\t\t</IconButton>\n\t\t{onLiveClick && (\n\t\t\t<IconButton color={iconColor} onClick={onLiveClick} size='small'>\n\t\t\t\t<Update />\n\t\t\t</IconButton>\n\t\t)}\n\t\t{onNextClick && (\n\t\t\t<IconButton color={iconColor} onClick={onNextClick} size='small'>\n\t\t\t\t<NavigateNextRounded />\n\t\t\t</IconButton>\n\t\t)}\n\t</InputAdornment>\n)\n\nexport class DatePicker extends Component {\n\trender() {\n\t\tconst {\n\t\t\tcalendarIcon,\n\t\t\ticon,\n\t\t\ticonColor,\n\t\t\tonIconClick,\n\t\t\tonNextClick,\n\t\t\tonLiveClick,\n\t\t\tonBackClick,\n\t\t\t...rest\n\t\t} = this.props\n\t\treturn (\n\t\t\t<MuiDatePicker\n\t\t\t\tInputProps={{\n\t\t\t\t\tdisabled: rest.disabled,\n\t\t\t\t\tendAdornment: calendarIcon ? (\n\t\t\t\t\t\t<CalendarIconAdor\n\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\ticonColor={iconColor}\n\t\t\t\t\t\t\tonIconClick={onIconClick}\n\t\t\t\t\t\t\tonNextClick={onNextClick}\n\t\t\t\t\t\t\tonLiveClick={onLiveClick}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null,\n\t\t\t\t\tstartAdornment: onBackClick ? (\n\t\t\t\t\t\t<InputAdornment position='start'>\n\t\t\t\t\t\t\t<IconButton color={iconColor} onClick={onBackClick} size='small'>\n\t\t\t\t\t\t\t\t<NavigateBeforeRounded />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t) : null,\n\t\t\t\t}}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default DatePicker\n\nconst datePickerStyled = ({ classes, calendarIcon, icon, ...rest }) => {\n\treturn (\n\t\t<DatePicker\n\t\t\tInputLabelProps={{\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t},\n\t\t\t\tFormLabelClasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tInputProps={{\n\t\t\t\tdisabled: rest.disabled,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastInput,\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\n\t\t\t\t},\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const DatePickerContrast = withStyles(styles)(datePickerStyled)\n\nfunction WeekSelectDatePicker({ classes, ...rest }) {\n\tconst formatWeekSelectLabel = (date, invalidLabel) => {\n\t\tlet dateClone = makeJSDateObject(date)\n\n\t\treturn dateClone && utils.isValid(dateClone)\n\t\t\t? `${utils.format(dateClone, 'MMM DD \"YY')} - ${utils.format(\n\t\t\t\t\tutils.addDays(dateClone, 6),\n\t\t\t\t\t'MMM DD \"YY'\n\t\t\t  )}`\n\t\t\t: invalidLabel\n\t}\n\n\tconst dayIsFuture = date => utils.isAfter(date, utils.date())\n\n\tconst renderWrappedWeekDay = (date, selectedDate, dayInCurrentMonth) => {\n\t\tlet dateClone = makeJSDateObject(date)\n\t\tlet selectedDateClone = makeJSDateObject(selectedDate)\n\n\t\tconst start = utils.startOfWeek(selectedDateClone)\n\t\tconst end = utils.endOfWeek(selectedDateClone)\n\n\t\tconst dayIsBetween = utils.isWithinInterval(dateClone, { start, end })\n\t\tconst isFirstDay = utils.isSameDay(dateClone, start)\n\t\tconst isLastDay = utils.isSameDay(dateClone, end)\n\n\t\tconst wrapperClassName = clsx({\n\t\t\t[classes.highlight]: dayIsBetween,\n\t\t\t[classes.firstHighlight]: isFirstDay,\n\t\t\t[classes.endHighlight]: isLastDay,\n\t\t})\n\n\t\tconst dayClassName = clsx(classes.day, {\n\t\t\t[classes.nonCurrentMonthDay]: !dayInCurrentMonth,\n\t\t\t[classes.highlightNonCurrentMonthDay]: !dayInCurrentMonth && dayIsBetween,\n\t\t\t[classes.dayDisabled]: dayIsFuture(dateClone),\n\t\t})\n\n\t\treturn (\n\t\t\t<div className={wrapperClassName}>\n\t\t\t\t<IconButton className={dayClassName}>\n\t\t\t\t\t<span> {utils.format(dateClone, 'D')} </span>\n\t\t\t\t</IconButton>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn (\n\t\t<DatePicker\n\t\t\tlabel='Week Picker'\n\t\t\trenderDay={renderWrappedWeekDay}\n\t\t\tlabelFunc={formatWeekSelectLabel}\n\t\t\tshouldDisableDate={date => dayIsFuture(date)}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const WeeklyDatePicker = withStyles(styles)(WeekSelectDatePicker)\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\tinfoStatsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\tjustifyContent: 'stretch',\n\t\t\theight: '100%',\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: spacing,\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tdashboardCardBody: {\n\t\t\tmargin: spacing,\n\t\t\tpadding: spacing,\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\n\t\t},\n\t\tcardIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: '-33px',\n\t\t\tright: '-33px',\n\t\t\tfontSize: '120px',\n\t\t\topacity: '0.13',\n\t\t\ttransform: 'rotate(-45deg)',\n\t\t\tpointerEvents: 'none',\n\t\t},\n\t}\n}\n","import { useState, useEffect } from 'react'\r\n\r\nexport function useKeyPress(targetKey) {\r\n\tconst [keyPressed, setKeyPressed] = useState(false)\r\n\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\tconst downHandler = ev => {\r\n\t\tif (ev.key === targetKey) {\r\n\t\t\tev.preventDefault()\r\n\t\t\tsetKeyPressed(true)\r\n\t\t}\r\n\t}\r\n\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\tconst upHandler = ev => {\r\n\t\tif (ev.key === targetKey) {\r\n\t\t\tev.preventDefault()\r\n\t\t\tsetKeyPressed(false)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('keydown', downHandler)\r\n\t\twindow.addEventListener('keyup', upHandler)\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', downHandler)\r\n\t\t\twindow.removeEventListener('keyup', upHandler)\r\n\t\t}\r\n\t}, [downHandler, upHandler])\r\n\r\n\treturn keyPressed\r\n}\r\n","import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tVisibility,\n\tMonetizationOn,\n\tMouse,\n\tEqualizer,\n} from '@material-ui/icons'\nimport { Box } from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\nimport Dropdown from 'components/common/dropdown'\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\nimport StatsCard from './StatsCard'\nimport { makeStyles } from '@material-ui/core/styles'\nimport DateTimePicker from 'components/common/DateTimePicker'\nimport { WeeklyDatePicker, DatePicker } from 'components/common/DatePicker'\nimport Anchor from 'components/common/anchor/anchor'\n\nimport {\n\tPRIMARY,\n\tSECONDARY,\n\tACCENT_ONE,\n\tACCENT_TWO,\n\tALEX_GREY,\n} from 'components/App/themeMUi'\nimport { styles } from './styles'\nimport { formatNumberWithCommas, formatDateTime } from 'helpers/formatters'\nimport {\n\texecute,\n\tupdateIdSideAnalyticsChartTimeframe,\n\tupdateIdSideAnalyticsChartPeriod,\n\tupdateAnalyticsPeriodPrevNextLive,\n\tupdateAccountAnalyticsThrottled,\n\tupdateMissingRevenueDataPointAccepted,\n} from 'actions'\nimport {\n\tt,\n\tselectTotalImpressions,\n\tselectTotalMoney,\n\tselectAverageCPM,\n\tselectMainToken,\n\tselectIdentitySideAnalyticsTimeframe,\n\tselectIdentitySideAnalyticsPeriod,\n\tselectTotalClicks,\n\tselectChartDatapointsCPM,\n\tselectChartDatapointsImpressions,\n\tselectChartDatapointsClicks,\n\tselectChartDatapointsPayouts,\n\tselectSide,\n\tselectAnalyticsDataSide,\n\tselectAuth,\n\tselectInitialDataLoadedByData,\n\tselectMissingRevenueDataPointsAccepted,\n} from 'selectors'\nimport dateUtils from 'helpers/dateUtils'\nimport { useKeyPress } from 'hooks/useKeyPress'\nimport { analyticsLoopCustom } from 'services/store-data/analytics'\n\nconst min = 60 * 1000\n\nconst timeoutMap = {\n\thour: min,\n\tday: 10 * min,\n\tweek: 30 * min,\n}\n\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\n\tconst translated = { ...tf }\n\ttranslated.label = t(tf.label)\n\treturn translated\n})\n\nconst metrics = {\n\tpublisher: [\n\t\t{\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CLICKS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: SECONDARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_REVENUE'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_TWO,\n\t\t},\n\t\t{\n\t\t\tlabel: t('PROP_CPM'),\n\t\t\tcolor: ALEX_GREY,\n\t\t},\n\t],\n\tadvertiser: [\n\t\t{\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CLICKS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: SECONDARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_SPEND'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_ONE,\n\t\t},\n\t\t{\n\t\t\tlabel: t('PROP_CPM'),\n\t\t\tcolor: ALEX_GREY,\n\t\t},\n\t],\n}\n\nconst getDefaultLabels = ({ start, end }) => [\n\tformatDateTime(start),\n\tformatDateTime(end),\n]\n\nconst DatePickerSwitch = ({ timeframe, ...rest }) => {\n\tswitch (timeframe) {\n\t\tcase 'week':\n\t\t\treturn <WeeklyDatePicker {...rest} />\n\t\tcase 'day':\n\t\t\treturn (\n\t\t\t\t<DatePicker\n\t\t\t\t\tlabelFunc={val => dateUtils.format(dateUtils.date(val), 'MMM DD \"YY')}\n\t\t\t\t\t{...rest}\n\t\t\t\t/>\n\t\t\t)\n\t\tcase 'hour':\n\t\t\treturn (\n\t\t\t\t<DateTimePicker\n\t\t\t\t\tviews={['date', 'hours']}\n\t\t\t\t\troundHour\n\t\t\t\t\tminutesStep={60}\n\t\t\t\t\tlabelFunc={val =>\n\t\t\t\t\t\t`${dateUtils.format(\n\t\t\t\t\t\t\tdateUtils.date(val),\n\t\t\t\t\t\t\t'MMM DD \"YY - (HH:mm'\n\t\t\t\t\t\t)} - ${dateUtils.format(\n\t\t\t\t\t\t\tdateUtils.setMinutes(dateUtils.date(val), 59),\n\t\t\t\t\t\t\t'HH:mm)'\n\t\t\t\t\t\t)}`\n\t\t\t\t\t}\n\t\t\t\t\t{...rest}\n\t\t\t\t/>\n\t\t\t)\n\t\tdefault:\n\t\t\treturn <DatePicker {...rest} />\n\t}\n}\n\nconst ImpressionsAlert = ({ impressions = 0 }) => (\n\t<Alert\n\t\tvariant='outlined'\n\t\tseverity='info'\n\t\tonClose={() => {\n\t\t\texecute(updateMissingRevenueDataPointAccepted(true))\n\t\t}}\n\t>\n\t\t<div>\n\t\t\t{t('IMPRESSIONS_AND_REVINUE_INFO', {\n\t\t\t\targs: [\n\t\t\t\t\timpressions,\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tkey='publisher-revenue-notice'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tunderline='always'\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012130399-Why-are-there-impressions-but-no-revenue-'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{<strong>{t('LEARN_MORE')}</strong>}\n\t\t\t\t\t</Anchor>,\n\t\t\t\t],\n\t\t\t})}\n\t\t</div>\n\t</Alert>\n)\n\nexport function BasicStats() {\n\tconst useStyles = makeStyles(styles)\n\tconst classes = useStyles()\n\tconst SPACE = useKeyPress(' ')\n\tconst ARROW_LEFT = useKeyPress('ArrowLeft')\n\tconst ARROW_RIGHT = useKeyPress('ArrowRight')\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst isAuth = useSelector(state => selectAuth(state))\n\tconst { start, end } = useSelector(selectIdentitySideAnalyticsPeriod)\n\tconst timeframe = useSelector(selectIdentitySideAnalyticsTimeframe)\n\tconst uiSide = useSelector(selectSide)\n\tconst side = useSelector(selectAnalyticsDataSide)\n\tconst [loop, setLoop] = useState()\n\tconst allChannelsLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'allChannels')\n\t)\n\tconst advAnalyticsLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\n\t)\n\tconst itemsLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'allItems')\n\t)\n\tconst initialDataLoaded =\n\t\tallChannelsLoaded && advAnalyticsLoaded && itemsLoaded\n\tconst missingRevenuePointsAccepted = useSelector(\n\t\tselectMissingRevenueDataPointsAccepted\n\t)\n\tconst [data1Active, setData1Active] = useState(true)\n\tconst [data2Active, setData2Active] = useState(true)\n\tconst [data3Active, setData3Active] = useState(true)\n\tconst [data4Active, setData4Active] = useState(true)\n\n\tconst defaultLabels = getDefaultLabels({ start, end })\n\n\tconst totalImpressions = useSelector(state =>\n\t\tselectTotalImpressions(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalClicks = useSelector(state =>\n\t\tselectTotalClicks(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalMoney = useSelector(state =>\n\t\tselectTotalMoney(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst averageCPM = useSelector(state =>\n\t\tselectAverageCPM(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst payouts = useSelector(state =>\n\t\tselectChartDatapointsPayouts(state, { side, timeframe })\n\t)\n\n\tconst impressions = useSelector(state =>\n\t\tselectChartDatapointsImpressions(state, { side, timeframe })\n\t)\n\n\tconst clicks = useSelector(state =>\n\t\tselectChartDatapointsClicks(state, { side, timeframe })\n\t)\n\n\tconst cpm = useSelector(state =>\n\t\tselectChartDatapointsCPM(state, { side, timeframe })\n\t)\n\n\tconst goNext = () => {\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ next: true }))\n\t}\n\n\tconst goPrev = () => {\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ next: false }))\n\t}\n\n\tconst goLive = () => {\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ live: true }))\n\t}\n\n\tuseEffect(() => {\n\t\tSPACE && goLive()\n\t\tARROW_RIGHT && goNext()\n\t\tARROW_LEFT && goPrev()\n\t}, [ARROW_LEFT, ARROW_RIGHT, SPACE])\n\n\tuseEffect(() => {\n\t\tif (initialDataLoaded && side && timeframe && start) {\n\t\t\texecute(updateAccountAnalyticsThrottled())\n\t\t}\n\t}, [initialDataLoaded, side, timeframe, start])\n\n\tuseEffect(() => {\n\t\tif (initialDataLoaded && side) {\n\t\t\tgoLive()\n\t\t}\n\t}, [initialDataLoaded, side])\n\n\tuseEffect(() => {\n\t\tinitialDataLoaded && loop && loop.start()\n\t\treturn () => {\n\t\t\tloop && loop.stop()\n\t\t}\n\t}, [initialDataLoaded, loop])\n\n\tuseEffect(() => {\n\t\tloop && loop.stop()\n\t\tsetLoop(\n\t\t\tanalyticsLoopCustom({\n\t\t\t\ttimeout: timeoutMap[timeframe],\n\t\t\t\tsyncAction: async () => {\n\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\tasync () =>\n\t\t\t\t\t\t\tisAuth && (await execute(updateAccountAnalyticsThrottled())),\n\t\t\t\t\t\ttimeoutMap[timeframe] -\n\t\t\t\t\t\t\t(Date.now() % timeoutMap[timeframe]) +\n\t\t\t\t\t\t\t5 * 1000\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t})\n\t\t)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [timeframe, isAuth])\n\n\tconst dataSynced =\n\t\t!!initialDataLoaded &&\n\t\t[\n\t\t\timpressions.labels[impressions.labels.length - 1],\n\t\t\tpayouts.labels[payouts.labels.length - 1],\n\t\t].every(x => !!x && x === clicks.labels[clicks.labels.length - 1]) &&\n\t\t[totalImpressions, totalMoney, averageCPM, totalClicks].every(\n\t\t\tx => x !== null\n\t\t)\n\n\tconst showRevenueInfo =\n\t\t!missingRevenuePointsAccepted &&\n\t\tuiSide === 'publisher' &&\n\t\tdataSynced &&\n\t\t!!totalImpressions\n\n\treturn (\n\t\tuiSide && (\n\t\t\t<Box>\n\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\n\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap' flexGrow={1}>\n\t\t\t\t\t\t<Box m={1} ml={0} flexGrow='1'>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\n\t\t\t\t\t\t\t\t// helperText={t(timeHints[timeframe])}\n\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\t//TODO: fix change of timeframe, set default period as well\n\t\t\t\t\t\t\t\t\texecute(updateIdSideAnalyticsChartTimeframe(val))\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tsource={timeFrames}\n\t\t\t\t\t\t\t\tvalue={timeframe}\n\t\t\t\t\t\t\t\thtmlId='timeframe-select'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box m={1} ml={0} flexGrow='1'>\n\t\t\t\t\t\t\t<DatePickerSwitch\n\t\t\t\t\t\t\t\ttimeframe={timeframe}\n\t\t\t\t\t\t\t\tvalue={start}\n\t\t\t\t\t\t\t\tminutesStep={60}\n\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\texecute(updateIdSideAnalyticsChartPeriod(val))\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdisableFuture\n\t\t\t\t\t\t\t\tinputVariant='outlined'\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\t\tlabel={t('ANALYTICS_PERIOD')}\n\t\t\t\t\t\t\t\tmax={Date.now()}\n\t\t\t\t\t\t\t\t// Only when picking future hours as they can't be disabled\n\t\t\t\t\t\t\t\tmaxDateMessage={t('MAX_DATE_ERROR')}\n\t\t\t\t\t\t\t\tstrictCompareDates\n\t\t\t\t\t\t\t\tonBackClick={e => {\n\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\tgoPrev()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonLiveClick={e => {\n\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\tgoLive()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonNextClick={e => {\n\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\tgoNext()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='primary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t\tloading={!dataSynced}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t\tonClick={() => setData1Active(!data1Active)}\n\t\t\t\t\t\tdataVisible={data1Active}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Visibility className={classes.cardIcon} />\n\t\t\t\t\t</StatsCard>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='secondary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_CLICKS')}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_CLICKS')}\n\t\t\t\t\t\tloading={!dataSynced}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalClicks || 0)} (${parseFloat(\n\t\t\t\t\t\t\t(totalClicks / totalImpressions) * 100 || 0\n\t\t\t\t\t\t).toFixed(2)} % ${t('LABEL_CTR')})`}\n\t\t\t\t\t\tonClick={() => setData2Active(!data2Active)}\n\t\t\t\t\t\tdataVisible={data2Active}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Mouse className={classes.cardIcon} />\n\t\t\t\t\t</StatsCard>\n\t\t\t\t\t{uiSide === 'advertiser' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentOne'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={!dataSynced}\n\t\t\t\t\t\t\tonClick={() => setData3Active(!data3Active)}\n\t\t\t\t\t\t\tdataVisible={data3Active}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MonetizationOn className={classes.cardIcon} />\n\t\t\t\t\t\t</StatsCard>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{uiSide === 'publisher' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentTwo'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={!dataSynced}\n\t\t\t\t\t\t\tonClick={() => setData3Active(!data3Active)}\n\t\t\t\t\t\t\tdataVisible={data3Active}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MonetizationOn className={classes.cardIcon} />\n\t\t\t\t\t\t</StatsCard>\n\t\t\t\t\t)}\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='grey'\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\n\t\t\t\t\t\tloading={!dataSynced}\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\n\t\t\t\t\t\t)} ${symbol} / CPM`}\n\t\t\t\t\t\tonClick={() => setData4Active(!data4Active)}\n\t\t\t\t\t\tdataVisible={data4Active}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Equalizer className={classes.cardIcon} />\n\t\t\t\t\t</StatsCard>\n\t\t\t\t</Box>\n\n\t\t\t\t{showRevenueInfo && (\n\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t<ImpressionsAlert impressions={totalImpressions} />\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t<Box mt={1}>\n\t\t\t\t\t<SimpleStatistics\n\t\t\t\t\t\tstart={start}\n\t\t\t\t\t\tend={end}\n\t\t\t\t\t\ttimeframe={timeframe}\n\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t(timeFrames.find(a => a.value === timeframe) || {}).label || '',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdefaultLabels={defaultLabels}\n\t\t\t\t\t\tdata1={impressions}\n\t\t\t\t\t\tdata2={clicks}\n\t\t\t\t\t\tdata3={payouts}\n\t\t\t\t\t\tdata4={cpm}\n\t\t\t\t\t\tdata1Active={data1Active}\n\t\t\t\t\t\tdata2Active={data2Active}\n\t\t\t\t\t\tdata3Active={data3Active}\n\t\t\t\t\t\tdata4Active={data4Active}\n\t\t\t\t\t\tdataSynced={dataSynced}\n\t\t\t\t\t\ty1Label={metrics[uiSide][0].label}\n\t\t\t\t\t\ty1Color={metrics[uiSide][0].color}\n\t\t\t\t\t\ty2Label={metrics[uiSide][1].label}\n\t\t\t\t\t\ty2Color={metrics[uiSide][1].color}\n\t\t\t\t\t\ty3Label={metrics[uiSide][2].label}\n\t\t\t\t\t\ty3Color={metrics[uiSide][2].color}\n\t\t\t\t\t\ty4Label={metrics[uiSide][3].label}\n\t\t\t\t\t\ty4Color={metrics[uiSide][3].color}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t)\n\t)\n}\n","import React from 'react'\nimport { Grid, Box } from '@material-ui/core'\n\nimport { ItemSpecProp } from 'components/dashboard/containers/ItemCommon/'\nimport { BasicStats } from 'components/dashboard/containers/DashboardStats/BasicStats'\nimport { formatDateTime } from 'helpers/formatters'\nimport { t } from 'selectors'\n\nexport const CampaignStatsByTimeframe = ({ item }) => {\n\treturn (\n\t\t<Box>\n\t\t\t<Grid container spacing={1}>\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\tprop={'created'}\n\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\n\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\tprop={'activeFrom'}\n\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\n\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\tprop={'activeFrom'}\n\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\n\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<BasicStats campaignId={item.id} />\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t)\n}\n","import React, { useState, Fragment, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport {\n\tGrid,\n\tBox,\n\tPaper,\n\tList,\n\tListItem,\n\tListItemText,\n\tTypography,\n\tTabs,\n\tTab,\n\tLinearProgress,\n} from '@material-ui/core'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { Campaign as CampaignModel } from 'adex-models'\nimport Anchor from 'components/common/anchor/anchor'\nimport CampaignStatsDoughnut from 'components/dashboard/charts/campaigns/CampaignStatsDoughnut'\nimport CampaignStatsBreakdownTable from 'components/dashboard/containers/Tables/CampaignStatsBreakdownTable'\nimport { Receipt } from 'components/dashboard/containers/Receipt'\nimport {\n\tselectCampaignAnalyticsToCountryTableData,\n\tselectCampaignAnalyticsToCountryMapChartData,\n\tselectInitialDataLoadedByData,\n\tt,\n} from 'selectors'\nimport StatsByCountryTable from 'components/dashboard/containers/Tables/StatsByCountryTable'\nimport MapChart from 'components/dashboard/charts/map/MapChart'\nimport { CampaignBasic } from './CampaignBasic'\nimport { CampaignAudience } from './CampaignAudience'\nimport { validateAndUpdateCampaign, updateMemoryUi, execute } from 'actions'\nimport {\n\tuseItem,\n\tChangeControls,\n\tItemTabsBar,\n\tItemTabsContainer,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { CampaignStatsByTimeframe } from './CampaignStatsByTimeframe'\n\nfunction Campaign({ match }) {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\tconst { item, ...hookProps } = useItem({\n\t\titemType: 'Campaign',\n\t\tmatch,\n\t\tobjModel: CampaignModel,\n\t\tvalidateAndUpdateFn: validateAndUpdateCampaign,\n\t})\n\tconst dataLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\n\t)\n\n\tconst campaign = new CampaignModel(item)\n\tconst { humanFriendlyName } = campaign.status || {}\n\tconst leader = campaign.spec.validators[0]\n\tconst follower = campaign.spec.validators[1]\n\tconst campaignId = campaign.id\n\tconst { status = {} } = item\n\tconst canSendMsgs =\n\t\tstatus.name &&\n\t\t['Ready', 'Active', 'Unhealthy'].includes(status.name) &&\n\t\tstatus.humanFriendlyName !== 'Closed'\n\n\tconst isActive = status.humanFriendlyName === 'Active'\n\n\tuseEffect(() => {\n\t\texecute(updateMemoryUi('campaignId', campaignId))\n\n\t\treturn () => {\n\t\t\texecute(updateMemoryUi('campaignId', undefined))\n\t\t}\n\t}, [campaignId])\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('CAMPAIGN_MAIN')} />\n\t\t\t\t\t<Tab label={t('CAMPAIGN_AUDIENCE')} />\n\t\t\t\t\t<Tab label={t('WEBSITE_STATS')} />\n\t\t\t\t\t<Tab label={t('COUNTRY_STATS')} />\n\t\t\t\t\t<Tab label={t('TIMEFRAME_STATS')} />\n\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\n\t\t\t\t\t<Tab label={t('VALIDATORS')} />\n\t\t\t\t\t{['Closed', 'Completed'].includes(humanFriendlyName) && (\n\t\t\t\t\t\t<Tab label={t('RECEIPT')} />\n\t\t\t\t\t)}\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ChangeControls {...hookProps} />\n\t\t\t<ItemTabsContainer>\n\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<CampaignBasic\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t{...hookProps}\n\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\n\t\t\t\t\t\t\tisActive={isActive}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 1 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<CampaignAudience\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t{...hookProps}\n\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\n\t\t\t\t\t\t\tisActive={isActive}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 2 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t{!dataLoaded && <LinearProgress />}\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\tflexGrow='1'\n\t\t\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box flexGrow='1' order={{ xs: 2, md: 2, lg: 1 }}>\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t\t\t\t\t<CampaignStatsBreakdownTable\n\t\t\t\t\t\t\t\t\t\tcampaignId={campaignId}\n\t\t\t\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\n\t\t\t\t\t\t\t\t\t\tisActive={isActive}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={2} order={{ xs: 1, md: 1, lg: 2 }}>\n\t\t\t\t\t\t\t\t<CampaignStatsDoughnut campaignId={campaignId} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 3 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Grid container spacing={1} alignItems='flex-start'>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography variant='button' align='center'>\n\t\t\t\t\t\t\t\t\t\t{t('COUNTRY_STATS_PERIOD', { args: ['30', 'DAYS'] })}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{!dataLoaded && <LinearProgress />}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\n\t\t\t\t\t\t\t\t<MapChart\n\t\t\t\t\t\t\t\t\tselector={state =>\n\t\t\t\t\t\t\t\t\t\tselectCampaignAnalyticsToCountryMapChartData(state, {\n\t\t\t\t\t\t\t\t\t\t\tcampaignId,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t\t\t\t\t<StatsByCountryTable\n\t\t\t\t\t\t\t\t\t\tselector={state =>\n\t\t\t\t\t\t\t\t\t\t\tselectCampaignAnalyticsToCountryTableData(state, {\n\t\t\t\t\t\t\t\t\t\t\t\tcampaignId,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tshowEarnings\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\n\t\t\t\t{tabIndex === 4 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<CampaignStatsByTimeframe item={item} />\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 5 && <AdUnitsTable campaignId={campaignId} noClone />}\n\t\t\t\t{tabIndex === 6 && (\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaignId}/status`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaignId}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaignId}/status`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaignId}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</List>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 7 && <Receipt itemId={campaignId} />}\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n\nCampaign.propTypes = {\n\tmatch: PropTypes.object.isRequired,\n}\n\nexport default Campaign\n","import React, { Fragment, useState } from 'react'\nimport { Box, Tabs, Tab } from '@material-ui/core'\nimport { BasicStats } from './BasicStats'\nimport {\n\tItemTabsBar,\n\tItemTabsContainer,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { t } from 'selectors'\n\nexport function AdvertiserStats() {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('CHARTS')} />\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ItemTabsContainer>\n\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<BasicStats side='advertiser' />\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n","import React, { useCallback } from 'react'\nimport classnames from 'classnames'\nimport { commify } from 'ethers/utils'\nimport Img from 'components/common/img/Img'\nimport { useSelector } from 'react-redux'\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\nimport {\n\tt,\n\tselectBestEarnersTableData,\n\tselectMainToken,\n\tselectInitialDataLoadedByData,\n} from 'selectors'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { useTableData } from './tableHooks'\nimport { ReloadData } from './toolbars'\nconst RRImg = withReactRouterLink(Img)\n\nconst useStyles = makeStyles(styles)\n\nconst getCols = ({ classes, symbol }) => [\n\t{\n\t\tname: 'media',\n\t\tlabel: t('PROP_MEDIA'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: false,\n\t\t\tdownload: true,\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\n\t\t\t\tconst ImgComponent = to ? RRImg : Img\n\t\t\t\tconst imgProps = to ? { to } : { fullScreenOnClick: true }\n\t\t\t\treturn (\n\t\t\t\t\t<ImgComponent\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\n\t\t\t\t\t\tsrc={mediaUrl}\n\t\t\t\t\t\talt={id}\n\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\t{...imgProps}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tname: 'type',\n\t\tlabel: t('PROP_TYPE'),\n\t\toptions: {\n\t\t\tfilter: true,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\n\t\t},\n\t},\n\t{\n\t\tname: 'impressions',\n\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\n\t\t},\n\t},\n\t{\n\t\tname: 'clicks',\n\t\tlabel: t('LABEL_CLICKS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\n\t\t},\n\t},\n\t{\n\t\tname: 'ctr',\n\t\tlabel: t('LABEL_CTR'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tsortDirection: 'desc',\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\n\t\t},\n\t},\n\t{\n\t\tname: 'earnings',\n\t\tlabel: t('LABEL_EARNINGS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: earnings => `${earnings.toFixed(2)} ${symbol}`,\n\t\t},\n\t},\n]\n\nconst onDownload = (buildHead, buildBody, columns, data) => {\n\tconst mappedData = data.map(i => ({\n\t\tindex: i.index,\n\t\tdata: [i.data[0].id, i.data[1].replace('legacy_', ''), i.data[2]],\n\t}))\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\n}\n\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\n\tfilterType: 'multiselect',\n\trowsSelected: selected,\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\n\tonDownload: (buildHead, buildBody, columns, data) =>\n\t\tonDownload(buildHead, buildBody, columns, data),\n\tonRowsSelect,\n\trowsPerPage: 5,\n})\n\nfunction BestEarnersTable(props) {\n\tconst {\n\t\tnoActions,\n\t\tnoClone,\n\t\thandleSelect,\n\t\tselected = [],\n\t\tselector = selectBestEarnersTableData,\n\t\ttitle = '',\n\t} = props\n\tconst classes = useStyles()\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst dataLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\n\t)\n\n\tconst { data, columns, reloadData } = useTableData({\n\t\tselector,\n\t\tgetColumns: () =>\n\t\t\tgetCols({\n\t\t\t\tclasses,\n\t\t\t\tnoActions,\n\t\t\t\tnoClone,\n\t\t\t\tsymbol,\n\t\t\t}),\n\t})\n\n\tconst onRowsSelect = useCallback(\n\t\t(_, allRowsSelected) => {\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\n\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\n\t\t},\n\t\t[data, handleSelect]\n\t)\n\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\n\treturn (\n\t\t<MUIDataTableEnhanced\n\t\t\ttitle={t(title)}\n\t\t\tdata={data}\n\t\t\tcolumns={columns}\n\t\t\toptions={options}\n\t\t\tloading={!dataLoaded}\n\t\t\tnoSearch\n\t\t\tnoDownload\n\t\t\tnoPrint\n\t\t\tnoViewColumns\n\t\t/>\n\t)\n}\n\nexport default BestEarnersTable\n","import React, { Fragment, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tBox,\n\tGrid,\n\tPaper,\n\tTypography,\n\tTab,\n\tTabs,\n\tLinearProgress,\n} from '@material-ui/core'\nimport {\n\tItemTabsBar,\n\tItemTabsContainer,\n} from 'components/dashboard/containers/ItemCommon/'\nimport BestEarnersTable from 'components/dashboard/containers/Tables/BestEarnersTable'\nimport StatsByCountryTable from 'components/dashboard/containers/Tables/StatsByCountryTable'\nimport MapChart from 'components/dashboard/charts/map/MapChart'\nimport { BasicStats } from './BasicStats'\nimport {\n\tt,\n\tselectPublisherStatsByCountryTableData,\n\tselectPublisherStatsByCountryMapChartData,\n\tselectBestEarnersTableData,\n\tselectInitialDataLoadedByData,\n} from 'selectors'\n\nexport function PublisherStats() {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\tconst dataLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\n\t)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('CHARTS')} />\n\t\t\t\t\t<Tab label={t('COUNTRY_DATA')} />\n\t\t\t\t\t<Tab label={t('TABLE_BEST_EARNERS_UNITS_TITLE')} />\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ItemTabsContainer noBackground>\n\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<BasicStats side='publisher' />\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 1 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography variant='button' align='center'>\n\t\t\t\t\t\t\t\t\t\t{t('COUNTRY_STATS_PERIOD', { args: ['30', 'DAYS'] })}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{!dataLoaded && <LinearProgress />}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\n\t\t\t\t\t\t\t\t<MapChart\n\t\t\t\t\t\t\t\t\tselector={selectPublisherStatsByCountryMapChartData}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t\t\t\t\t<StatsByCountryTable\n\t\t\t\t\t\t\t\t\t\tselector={selectPublisherStatsByCountryTableData}\n\t\t\t\t\t\t\t\t\t\t// TODO: uncomment after 26.04.2020\n\t\t\t\t\t\t\t\t\t\t// showEarnings\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 2 && (\n\t\t\t\t\t// <Box p={1}>\n\t\t\t\t\t<BestEarnersTable\n\t\t\t\t\t\tselector={selectBestEarnersTableData}\n\t\t\t\t\t\ttitle='TABLE_BEST_EARNERS_UNITS_TITLE'\n\t\t\t\t\t/>\n\t\t\t\t\t// </Box>\n\t\t\t\t)}\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n\nexport default PublisherStats\n","import React, { Fragment, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { Grid, Tabs, Tab, Box } from '@material-ui/core'\nimport {\n\tuseItem,\n\tChangeControls,\n\tItemTitle,\n\tItemDescription,\n\tItemAdType,\n\tItemTargetURL,\n\tMediaCard,\n\tArchiveItemBtn,\n\tItemTabsContainer,\n\tItemTabsBar,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { AdUnit } from 'adex-models'\nimport { validateAndUpdateUnit } from 'actions'\nimport { t } from 'selectors'\n\nfunction Unit({ match }) {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\n\tconst { item, validations, validateId, validate, ...hookProps } = useItem({\n\t\titemType: 'AdUnit',\n\t\tmatch,\n\t\tobjModel: AdUnit,\n\t\tvalidateAndUpdateFn: validateAndUpdateUnit,\n\t})\n\n\tconst {\n\t\tid,\n\t\ttitle,\n\t\tarchived,\n\t\tdescription,\n\t\tmediaUrl,\n\t\tmediaMime,\n\t\ttype,\n\t\ttargetUrl,\n\t} = item\n\tconst { title: errTitle, description: errDescription } = validations\n\n\tif (!item) return <h1>Unit '404'</h1>\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('AD_UNIT')} />\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ChangeControls {...hookProps} />\n\t\t\t<ItemTabsContainer>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\t\t\t\tlabel={t('UNIT_MEDIA_IMG_LABEL')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t{!archived && (\n\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t<ArchiveItemBtn\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\titemType='AdUnit'\n\t\t\t\t\t\t\t\t\t\titemId={id}\n\t\t\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\t\t\tgoToTableOnSuccess\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<ItemDescription\n\t\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\t\terrDescription={errDescription}\n\t\t\t\t\t\t\t\t\t{...hookProps}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<ItemAdType type={type} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<ItemTargetURL targetUrl={targetUrl} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Box>\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n\nUnit.propTypes = {\n\tmatch: PropTypes.object.isRequired,\n}\n\nexport default Unit\n","import React from 'react'\nimport {\n\tInputAdornment,\n\tIconButton,\n\tTextField,\n\tBox,\n\tFormControl,\n\tFormControlLabel,\n\tFormGroup,\n\tCheckbox,\n\tGrid,\n} from '@material-ui/core'\nimport { Edit, UndoOutlined } from '@material-ui/icons'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport AdSlotMedia from 'components/dashboard/forms/items/AdSlot/AdSlotMedia'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { bigNumberify } from 'ethers/utils'\n\nimport {\n\texecute,\n\tresetNewItem,\n\tupdateSlotPasback,\n\tmapCurrentToNewPassback,\n\tvalidateNumberString,\n} from 'actions'\nimport { t, selectMainToken } from 'selectors'\n\nimport { AdSlot } from 'adex-models'\n\nexport const PassbackSteps = ({ updateMultipleFields, itemId, ...props }) => {\n\treturn (\n\t\t<FormSteps\n\t\t\t{...props}\n\t\t\tcancelFunction={() => execute(resetNewItem('AdSlot', itemId))}\n\t\t\titemId={itemId}\n\t\t\tvalidateIdBase='new-AdUnit-'\n\t\t\titemType='AdSlot'\n\t\t\tstepsId='new-slot-'\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SLOT_PASSBACK_STEP',\n\t\t\t\t\tcomponent: AdSlotMedia,\n\t\t\t\t\tcompleteBtnTitle: 'OK',\n\t\t\t\t\tcompleteFn: props =>\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tupdateSlotPasback({ updateMultipleFields, itemId, ...props })\n\t\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t]}\n\t\t\titemModel={AdSlot}\n\t\t/>\n\t)\n}\n\nconst PassbackEdit = WithDialog(PassbackSteps)\n\nexport const SlotAdvancedRules = ({\n\titem = {},\n\tupdateMultipleFields,\n\tvalidations,\n\tvalidateId,\n\tupdateField,\n\tsetActiveFields,\n\treturnPropToInitialState,\n\tactiveFields = {},\n}) => {\n\tconst { address, decimals, symbol } = selectMainToken()\n\tconst { minPerImpression, rulesInput: slotRulesInput } = item\n\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\n\tconst { autoSetMinCPM, allowAdultContent } = rulesInput.inputs\n\tconst active = !!activeFields.minPerImpression\n\tconst { minPerImpression: errMin } = validations\n\tconst showError = !!errMin && errMin.dirty\n\tconst minCPM =\n\t\ttypeof minPerImpression === 'object'\n\t\t\t? formatTokenAmount(\n\t\t\t\t\tbigNumberify((item.minPerImpression || {})[address] || '0').mul(1000),\n\t\t\t\t\tdecimals,\n\t\t\t\t\ttrue\n\t\t\t  )\n\t\t\t: minPerImpression\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<TextField\n\t\t\t\t\tfullWidth\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL_MANUAL', { args: [symbol] })}\n\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\tvalue={minCPM || ''}\n\t\t\t\t\tdisabled={!!autoSetMinCPM || !active}\n\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\tupdateField('minPerImpression', value, {\n\t\t\t\t\t\t\tname: 'slotAdvanced',\n\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\n\t\t\t\t\t\t})\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t\terror={showError}\n\t\t\t\t\tmaxLength={120}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\tshowError ? errMin.errMsg : t('SLOT_MANUAL_CPM_MIN_HELPER')\n\t\t\t\t\t}\n\t\t\t\t\tInputProps={\n\t\t\t\t\t\t!autoSetMinCPM\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? returnPropToInitialState('minPerImpression')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: setActiveFields('minPerImpression', true)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: {}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Grid>\n\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_LABEL')}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!autoSetMinCPM}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst checked = ev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\tupdateField(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'rulesInput',\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoSetMinCPM: checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'slotAdvanced',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tvalue='autoSetMinCPM'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_INFO_LABEL')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT')}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!allowAdultContent}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\tupdateField(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'rulesInput',\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowAdultContent: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'slotAdvanced',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='allowAdultContent'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT_INFO')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport const SlotEdits = ({ item, ...hookProps }) => {\n\treturn (\n\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\n\t\t\t<PassbackEdit\n\t\t\t\tfullWidth\n\t\t\t\tsize='large'\n\t\t\t\tvariant='contained'\n\t\t\t\tcolor='secondary'\n\t\t\t\tbtnLabel='UPDATE_PASSBACK'\n\t\t\t\ttitle='UPDATE_SLOT_PASSBACK'\n\t\t\t\titemId={item.id}\n\t\t\t\tdisableBackdropClick\n\t\t\t\tupdateMultipleFields={hookProps.updateMultipleFields}\n\t\t\t\tonClick={() =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tmapCurrentToNewPassback({\n\t\t\t\t\t\t\titemId: item.id,\n\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t/>\n\t\t</Box>\n\t)\n}\n","import React, { Fragment } from 'react'\nimport {\n\tGrid,\n\tBox,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n} from '@material-ui/core'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\n\nimport { WebsiteIssues } from 'components/dashboard/containers/Slot/WebsiteIssues'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { SlotEdits, SlotAdvancedRules } from './SlotEdits'\nimport {\n\tItemTitle,\n\tItemDescription,\n\tItemAdType,\n\tItemFallbackMediaURL,\n\tMediaCard,\n\tItemWebsite,\n\tArchiveItemBtn,\n\tItemMinPerImpression,\n\tSlotAdultContent,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { t } from 'selectors'\n\nexport const SlotBasic = ({ item, ...hookProps }) => {\n\tconst {\n\t\tid,\n\t\ttitle,\n\t\tdescription,\n\t\tmediaUrl,\n\t\tmediaMime,\n\t\ttype,\n\t\ttargetUrl,\n\t\twebsite,\n\t\tarchived,\n\t} = item\n\tconst { title: errTitle, description: errDescription } = hookProps.validations\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box p={2}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ItemFallbackMediaURL targetUrl={targetUrl} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<SlotEdits item={item} {...hookProps} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{!archived && (\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<ArchiveItemBtn\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\titemType='AdSlot'\n\t\t\t\t\t\t\t\t\titemId={id}\n\t\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\t\tgoToTableOnSuccess\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-advanced'\n\t\t\t\t\t\t\t\t\tid='slot-rules-advanced'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_ADVANCED')}</Typography>\n\t\t\t\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t\t<SlotAdvancedRules item={item} {...hookProps} />\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</ExpansionPanel>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ItemDescription\n\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\terrDescription={errDescription}\n\t\t\t\t\t\t\t\t{...hookProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ItemAdType type={type} />\n\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ItemWebsite item={item} {...hookProps} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<OutlinedPropView\n\t\t\t\t\t\t\t\tlabel={t('WEBSITE_VERIFICATION')}\n\t\t\t\t\t\t\t\tvalue={<WebsiteIssues website={website} tryAgainBtn />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}></Grid>\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\t\t</Fragment>\n\t)\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport copy from 'copy-to-clipboard'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { Paper, IconButton, Box, Typography } from '@material-ui/core'\nimport { Alert, AlertTitle } from '@material-ui/lab'\n\nimport { execute, addToast } from 'actions'\n\nimport url from 'url'\nimport {\n\tselectRoutineWithdrawTokensAddresses,\n\tselectHasConfirmedEmail,\n\tselectAccountIdentityAddr,\n\tt,\n} from 'selectors'\n\nconst ADVIEW_URL = process.env.ADVIEW_URL\nconst adviewUrl = url.parse(ADVIEW_URL)\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\n\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\n\t\t\t\tif (f.contentWindow === ev.source) {\n\t\t\t\t\tf.height = ev.data.adexHeight;\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t}, false)`\n\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\n\nconst useStyles = makeStyles(styles)\n\nexport const IntegrationCode = ({ slot = {} }) => {\n\tconst classes = useStyles()\n\tconst { id, type, tags, fallbackUnit } = slot\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst isEmailConfirmed = useSelector(selectHasConfirmedEmail)\n\n\tlet sizes = type.split('_')[1].split('x')\n\tsizes = {\n\t\twidth: sizes[0],\n\t\theight: sizes[1],\n\t}\n\n\tconst options = {\n\t\tpublisherAddr: identityAddr,\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\n\t\twhitelistedType: type,\n\t\trandomize: true,\n\t\ttargeting: tags || [],\n\t\t// marketURL: ADEX_MARKET_HOST,\n\t\twidth: sizes.width,\n\t\theight: sizes.height,\n\t\tminPerImpression: '0',\n\t\t// minTargetingScore: '0',\n\t\tfallbackUnit,\n\t\tmarketSlot: id,\n\t}\n\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\n\n\tlet src = ADVIEW_URL + query\n\n\tlet iframeStr =\n\t\t`<iframe\\n` +\n\t\t`\tsrc=\"${src}\"\\n` +\n\t\t`\twidth=\"${sizes.width}\"\\n` +\n\t\t`\theight=\"${sizes.height}\"\\n` +\n\t\t`\tscrolling=\"no\"\\n` +\n\t\t`\tframeborder=\"0\"\\n` +\n\t\t`\tstyle=\"border: 0;\"\\n` +\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\n\t\t`></iframe>`\n\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\n\n\t// \t<Alert severity='warning' variant='outlined'>\n\t// \t<AlertTitle>{t('EMAIL_NOT_CONFIRMED_WARNING_TITLE')}</AlertTitle>\n\t// \t<div\n\t// \t\tdangerouslySetInnerHTML={{\n\t// \t\t\t__html: t('EMAIL_WARNING_SLOT_INTEGRATION'),\n\t// \t\t}}\n\t// \t/>\n\t// </Alert>\n\treturn isEmailConfirmed ? (\n\t\t<Box overflow='hidden'>\n\t\t\t<Box mb={1}>\n\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\tpx={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>{t('INTEGRATION_CODE')}</Typography>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\tonCopy={() =>\n\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tcopy(iframeStr)\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CopyIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Box>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t\t<Paper variant='outlined'>\n\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\n\t\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\n\t\t\t\t</Box>\n\t\t\t</Paper>\n\t\t\t{process.env.NODE_ENV !== 'production' && (\n\t\t\t\t<div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Box>\n\t) : (\n\t\t<Alert severity='warning' variant='outlined'>\n\t\t\t<AlertTitle>{t('EMAIL_NOT_CONFIRMED_WARNING_TITLE')}</AlertTitle>\n\t\t\t<div\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: t('EMAIL_WARNING_SLOT_INTEGRATION'),\n\t\t\t\t}}\n\t\t\t/>\n\t\t</Alert>\n\t)\n}\n\nIntegrationCode.propTypes = {\n\tslot: PropTypes.object.isRequired,\n}\n","export const styles = theme => {\n\treturn {\n\t\tintegrationCode: {\n\t\t\twhiteSpace: 'pre-wrap',\n\t\t\twordBreak: 'break-word',\n\t\t\tmargin: 0,\n\t\t\talignSelf: 'flex-start',\n\t\t},\n\t}\n}\n","import React, { Fragment, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { AdSlot } from 'adex-models'\nimport { Tabs, Tab } from '@material-ui/core'\nimport {\n\tuseItem,\n\tChangeControls,\n\tItemTabsBar,\n\tItemTabsContainer,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { SlotBasic } from './SlotBasic'\nimport { IntegrationCode } from './IntegrationCode'\nimport { validateAndUpdateSlot } from 'actions'\nimport { t } from 'selectors'\n\nfunction Slot({ match }) {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\tconst { item, ...hookProps } = useItem({\n\t\titemType: 'AdSlot',\n\t\tmatch,\n\t\tobjModel: AdSlot,\n\t\tvalidateAndUpdateFn: validateAndUpdateSlot,\n\t})\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('SLOT_MAIN')} />\n\t\t\t\t\t<Tab label={t('INTEGRATION')} />\n\t\t\t\t\t{/* There are no stats displayed currently so I will just comment this out */}\n\t\t\t\t\t{/* <Tab label={t('STATISTICS')} /> */}\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ChangeControls {...hookProps} />\n\t\t\t<ItemTabsContainer>\n\t\t\t\t{tabIndex === 0 && <SlotBasic item={item} {...hookProps} />}\n\t\t\t\t{tabIndex === 1 && <IntegrationCode slot={item} />}\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n\nSlot.propTypes = {\n\tmatch: PropTypes.object.isRequired,\n}\n\nexport default Slot\n","import React, { Fragment, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport PropTypes from 'prop-types'\nimport { Audience as AudienceModel } from 'adex-models'\nimport { Tabs, Tab, Box } from '@material-ui/core'\nimport {\n\tuseItem,\n\tChangeControls,\n\tItemTitle,\n\tArchiveItemBtn,\n\tItemTabsContainer,\n\tItemTabsBar,\n} from 'components/dashboard/containers/ItemCommon/'\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport {\n\tNewCampaignFromAudience,\n\tAudienceRules,\n} from 'components/dashboard/forms/items/NewItems'\nimport {\n\texecute,\n\tupdateNewCampaign,\n\tupdateNewAudience,\n\tresetNewItem,\n\tupdateAudienceInput,\n\tmapCurrentToNewAudience,\n} from 'actions'\nimport { NewAudienceDialog } from 'components/dashboard/forms/items/NewItems'\nimport { validateAndUpdateAudience as validateAndUpdateFn } from 'actions'\nimport { t } from 'selectors'\n\nconst useStyles = makeStyles(theme => ({\n\tactions: {\n\t\tmarginTop: theme.spacing(1),\n\t\t'& > *': {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t\tmarginBottom: theme.spacing(1),\n\t\t},\n\t},\n}))\n\nexport const TargetingSteps = ({ updateField, itemId, ...props }) => {\n\treturn (\n\t\t<FormSteps\n\t\t\t{...props}\n\t\t\tcancelFunction={() => execute(resetNewItem('Audience', itemId))}\n\t\t\titemId={itemId}\n\t\t\tvalidateIdBase={`update-audience-${itemId}-`}\n\t\t\titemType='Audience'\n\t\t\tstepsId={`update-campaign-${itemId}`}\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SAVED_AUDIENCE',\n\t\t\t\t\tcomponent: AudienceRules,\n\t\t\t\t\tcompleteBtnTitle: 'OK',\n\t\t\t\t\tcompleteFn: props =>\n\t\t\t\t\t\texecute(updateAudienceInput({ updateField, itemId, ...props })),\n\t\t\t\t},\n\t\t\t]}\n\t\t\titemModel={AudienceModel}\n\t\t/>\n\t)\n}\n\nconst TargetingRulesEdit = WithDialog(TargetingSteps)\n\nfunction Audience({ match }) {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\n\tconst classes = useStyles()\n\n\tconst { item = {}, validations, ...hookProps } = useItem({\n\t\titemType: 'Audience',\n\t\tmatch,\n\t\tobjModel: AudienceModel,\n\t\tvalidateAndUpdateFn,\n\t})\n\n\tconst { inputs, title, id, archived } = item\n\tconst { title: errTitle } = validations\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('AUDIENCE_MAIN')} />\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ChangeControls {...hookProps} />\n\t\t\t<ItemTabsContainer>\n\t\t\t\t<Box p={1} pt={2}>\n\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\n\n\t\t\t\t\t<AudiencePreview audienceInput={inputs} />\n\n\t\t\t\t\t<Box className={classes.actions}>\n\t\t\t\t\t\t<TargetingRulesEdit\n\t\t\t\t\t\t\tbtnLabel='UPDATE_AUDIENCE'\n\t\t\t\t\t\t\ttitle='UPDATE_CAMPAIGN_AUDIENCE'\n\t\t\t\t\t\t\titemId={id}\n\t\t\t\t\t\t\tdisableBackdropClick\n\t\t\t\t\t\t\tupdateField={hookProps.updateField}\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tmapCurrentToNewAudience({\n\t\t\t\t\t\t\t\t\t\titemId: id,\n\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<NewCampaignFromAudience\n\t\t\t\t\t\t\tbtnLabel='NEW_CAMPAIGN_FROM_AUDIENCE'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonBeforeOpen={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\n\t\t\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<NewAudienceDialog\n\t\t\t\t\t\t\tbtnLabel='NEW_AUDIENCE_FROM_THIS'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonBeforeOpen={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewAudience(null, null, {\n\t\t\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\t\t\ttitle: title + ' (2)',\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{!archived && (\n\t\t\t\t\t\t\t<ArchiveItemBtn\n\t\t\t\t\t\t\t\titemType='Audience'\n\t\t\t\t\t\t\t\titemId={id}\n\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\tgoToTableOnSuccess\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n\nAudience.propTypes = {\n\tmatch: PropTypes.object.isRequired,\n}\n\nexport default Audience\n","import React, { Fragment } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport {\n\tList,\n\tListItem,\n\tDivider,\n\tListItemText,\n\tListItemIcon,\n\tListItemSecondaryAction,\n\tListSubheader,\n\tPaper,\n\tBox,\n} from '@material-ui/core'\nimport { CheckSharp, WarningSharp } from '@material-ui/icons'\nimport {\n\tWebsiteIssues,\n\tWebsiteIssuesLegend,\n\tWebsiteVerifyBtn,\n} from 'components/dashboard/containers/Slot/WebsiteIssues'\nimport { t, selectWebsitesArray } from 'selectors'\n\nconst useStyles = makeStyles(theme => ({\n\tlist: {\n\t\twidth: '100%',\n\t},\n\tinline: {\n\t\tdisplay: 'inline',\n\t\twordBreak: 'break-all',\n\t},\n\twarning: {\n\t\tcolor: theme.palette.warning.main,\n\t},\n\tsuccess: {\n\t\tcolor: theme.palette.success.main,\n\t},\n}))\n\nexport default function Websites() {\n\tconst classes = useStyles()\n\tconst websites = useSelector(selectWebsitesArray)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box>\n\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t<List className={classes.list} dense disablePadding>\n\t\t\t\t\t\t<ListSubheader disableSticky>\n\t\t\t\t\t\t\t{t('REGISTERED_WEBSITES')}\n\t\t\t\t\t\t</ListSubheader>\n\t\t\t\t\t\t{websites.map(({ id, issues, updated }, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Fragment key={id}>\n\t\t\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t\t{issues.length ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<WarningSharp className={classes.warning} />\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckSharp className={classes.success} />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\t\tprimary={id}\n\t\t\t\t\t\t\t\t\t\t\tsecondary={<WebsiteIssues issues={issues} asKeyWords />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t\t\t\t\t\t<WebsiteVerifyBtn\n\t\t\t\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\t\t\t\tissues={issues}\n\t\t\t\t\t\t\t\t\t\t\t\tupdated={updated}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t\t{index < websites.length - 1 && <Divider />}\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</List>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t\t<Box mt={2}>\n\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t<WebsiteIssuesLegend />\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</Fragment>\n\t)\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport { TextField, Button, Box, Typography } from '@material-ui/core'\nimport { InputLoading } from 'components/common/spinners/'\nimport {\n\tt,\n\tselectValidationsById,\n\tselectNewTransactionById,\n\tselectMainToken,\n\tselectSpinnerById,\n\tselectAccountStatsFormatted,\n} from 'selectors'\nimport { execute, updateNewTransaction } from 'actions'\nimport { Alert } from '@material-ui/lab'\n\nconst WithdrawFromIdentity = ({ stepsId, validateId } = {}) => {\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst { availableIdentityBalanceMainToken: max } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\n\tconst { amountToWithdraw, withdrawTo } = useSelector(state =>\n\t\tselectNewTransactionById(state, stepsId)\n\t)\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\n\tconst {\n\t\tamountToWithdraw: errAmount,\n\t\twithdrawTo: errAddr,\n\t\tfees: errFees,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\treturn (\n\t\t<div>\n\t\t\t<Box mb={2}>\n\t\t\t\t<Typography variant='subtitle1' display='block'>\n\t\t\t\t\t{t('EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY', {\n\t\t\t\t\t\targs: [max, symbol],\n\t\t\t\t\t})}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t<Box mb={2}>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\tkey: 'withdrawTo',\n\t\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t/>\n\t\t\t\t{spinner ? <InputLoading /> : null}\n\t\t\t</Box>\n\t\t\t<Box mb={2}>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\ttype='text'\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('PROP_WITHDRAWAMOUNT')}\n\t\t\t\t\tname='amountToWithdraw'\n\t\t\t\t\tvalue={amountToWithdraw || ''}\n\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\n\t\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\n\t\t\t\t\t\t\t\t\t\t\tvalue: max,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\t\targs: [max, symbol],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\n\t\t\t\t<Alert variant='outlined' severity='error'>\n\t\t\t\t\t{errFees.errMsg}\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nWithdrawFromIdentity.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t.isRequired,\n}\n\nexport default WithdrawFromIdentity\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport TextField from '@material-ui/core/TextField'\nimport { InputLoading } from 'components/common/spinners/'\nimport {\n\tt,\n\tselectValidationsById,\n\tselectNewTransactionById,\n\tselectSpinnerById,\n} from 'selectors'\nimport { execute, updateNewTransaction } from 'actions'\nimport { Alert } from '@material-ui/lab'\n\nconst WithdrawAnyTokenFromIdentity = ({ stepsId, validateId } = {}) => {\n\tconst {\n\t\tamountToWithdraw,\n\t\twithdrawTo,\n\t\ttokenAddress,\n\t\ttokenDecimals,\n\t} = useSelector(state => selectNewTransactionById(state, stepsId))\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\n\tconst {\n\t\tamountToWithdraw: errAmount,\n\t\twithdrawTo: errAddr,\n\t\ttokenAddress: errTokenAddress,\n\t\ttokenDecimals: errTokenDecimals,\n\t\tfees: errFees,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\treturn (\n\t\t<div>\n\t\t\t<TextField\n\t\t\t\tdisabled={spinner}\n\t\t\t\ttype='text'\n\t\t\t\trequired\n\t\t\t\tfullWidth\n\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\n\t\t\t\tname='tokenAddress'\n\t\t\t\tvalue={tokenAddress || ''}\n\t\t\t\tonChange={ev =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'tokenAddress',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\terror={errTokenAddress && !!errTokenAddress.dirty}\n\t\t\t\thelperText={\n\t\t\t\t\terrTokenAddress && !!errTokenAddress.dirty\n\t\t\t\t\t\t? errTokenAddress.errMsg\n\t\t\t\t\t\t: ''\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<TextField\n\t\t\t\ttype='text'\n\t\t\t\tdisabled={spinner}\n\t\t\t\tfullWidth\n\t\t\t\trequired\n\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW_DECIMALS')}\n\t\t\t\tname='tokenDecimals'\n\t\t\t\tvalue={tokenDecimals || ''}\n\t\t\t\tonChange={ev =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'tokenDecimals',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\terror={errTokenDecimals && !!errTokenDecimals.dirty}\n\t\t\t\thelperText={\n\t\t\t\t\terrTokenDecimals && !!errTokenDecimals.dirty\n\t\t\t\t\t\t? errTokenDecimals.errMsg\n\t\t\t\t\t\t: ''\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<TextField\n\t\t\t\tdisabled={spinner}\n\t\t\t\ttype='text'\n\t\t\t\trequired\n\t\t\t\tfullWidth\n\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\tname='withdrawTo'\n\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\tonChange={ev =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'withdrawTo',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t/>\n\t\t\t{spinner ? <InputLoading /> : null}\n\t\t\t<TextField\n\t\t\t\tdisabled={spinner}\n\t\t\t\ttype='text'\n\t\t\t\tfullWidth\n\t\t\t\trequired\n\t\t\t\tlabel={t('PROP_WITHDRAWAMOUNT')}\n\t\t\t\tname='amountToWithdraw'\n\t\t\t\tvalue={amountToWithdraw || ''}\n\t\t\t\tonChange={ev =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\tkey: 'amountToWithdraw',\n\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\thelperText={errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\n\t\t\t/>\n\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\n\t\t\t\t<Alert variant='outlined' severity='error'>\n\t\t\t\t\t{errFees.errMsg}\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nWithdrawAnyTokenFromIdentity.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t.isRequired,\n}\n\nexport default WithdrawAnyTokenFromIdentity\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport {\n\tBox,\n\tTextField,\n\tFormControlLabel,\n\tFormControl,\n\tCheckbox,\n\tTypography,\n} from '@material-ui/core'\nimport Dropdown from 'components/common/dropdown'\nimport { constants } from 'adex-models'\nimport { t, selectValidationsById, selectNewTransactionById } from 'selectors'\nimport { execute, updateNewTransaction } from 'actions'\nimport { Alert } from '@material-ui/lab'\n\nconst { IdentityPrivilegeLevel } = constants\n\nconst PRIV_LEVELS_SRC = Object.values(IdentityPrivilegeLevel).map(value => {\n\treturn {\n\t\tvalue,\n\t\tlabel: t(`PRIV_${value}_LABEL`),\n\t\tinfo: t(`PRIV_${value}_INFO`),\n\t}\n})\n\nfunction SeAddressPrivilege({ stepsId, validateId } = {}) {\n\tconst { setAddr, privLevel, warningAccepted, warningMsg } = useSelector(\n\t\tstate => selectNewTransactionById(state, stepsId)\n\t)\n\n\tconst {\n\t\tsetAddr: errAddr,\n\t\tsetAddrWarning: warning,\n\t\tprivLevel: errPrivLvl,\n\t\tfees: errFees,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\treturn (\n\t\t<div>\n\t\t\t<Box mb={2}>\n\t\t\t\t<Typography variant='subtitle1' display='block'>\n\t\t\t\t\t{t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')}:\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t<Box mb={2}>\n\t\t\t\t<TextField\n\t\t\t\t\ttype='text'\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\n\t\t\t\t\tname='setAddr'\n\t\t\t\t\tvalue={setAddr || ''}\n\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\tkey: 'setAddr',\n\t\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t\t<Box mb={2}>\n\t\t\t\t<Dropdown\n\t\t\t\t\trequired\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\n\t\t\t\t\t// helperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\n\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\tkey: 'privLevel',\n\t\t\t\t\t\t\t\tvalue: val,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tsource={PRIV_LEVELS_SRC}\n\t\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\n\t\t\t\t\thtmlId='label-privLevel'\n\t\t\t\t\tfullWidth\n\t\t\t\t\terror={errPrivLvl && !!errPrivLvl.dirty}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\terrPrivLvl && !!errPrivLvl.dirty\n\t\t\t\t\t\t\t? errPrivLvl.errMsg\n\t\t\t\t\t\t\t: t('SELECT_PRIV_LEVEL_HELPER_TXT')\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t\t<Box mb={2}>\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\n\t\t\t\t\t{t('PRIV_LEVEL_INFO_LABEL')}:\n\t\t\t\t</Typography>\n\t\t\t\t{PRIV_LEVELS_SRC.map(x => (\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tkey={x.value}\n\t\t\t\t\t\tvariant='caption'\n\t\t\t\t\t\tdisplay='block'\n\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t>\n\t\t\t\t\t\t<strong>{x.label}:</strong> {x.info}\n\t\t\t\t\t</Typography>\n\t\t\t\t))}\n\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\n\t\t\t\t\t* {t('PRIV_LEVEL_INFO')}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{(warning || warningAccepted || warningMsg) && (\n\t\t\t\t<Box mb={2}>\n\t\t\t\t\t<FormControl error={warning && warning.dirty} component='fieldset'>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tchecked={!!warningAccepted}\n\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\t\t\tkey: 'warningAccepted',\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvalue='warningAccepted'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={t((warning || {}).errMsg || warningMsg)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\n\t\t\t\t<Alert variant='outlined' severity='error'>\n\t\t\t\t\t{errFees.errMsg}\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nSeAddressPrivilege.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t.isRequired,\n}\n\nexport default SeAddressPrivilege\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport { execute, updateNewTransaction } from 'actions'\nimport { TextField, InputAdornment, Box, Typography } from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\nimport { t, selectValidationsById, selectNewTransactionById } from 'selectors'\n\nfunction SetAccountENSPage({ stepsId, validateId } = {}) {\n\tconst { username } = useSelector(state =>\n\t\tselectNewTransactionById(state, stepsId)\n\t)\n\n\tconst { username: errUsername, fees: errFees } = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\treturn (\n\t\t<div>\n\t\t\t<Box mb={2}>\n\t\t\t\t<Typography variant='subtitle1' display='block'>\n\t\t\t\t\t{t('SET_ENS_MAIN_INFO')}:\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t<Box mb={2}>\n\t\t\t\t<TextField\n\t\t\t\t\tautoFocus\n\t\t\t\t\ttype='text'\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\trequired\n\t\t\t\t\tfullWidth\n\t\t\t\t\tlabel={t('ENS_TO_SET_TO_ADDR')}\n\t\t\t\t\tname='username'\n\t\t\t\t\tvalue={username || ''}\n\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\tkey: 'username',\n\t\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tInputProps={{\n\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t{`.${process.env.REVERSE_REGISTRAR_PARENT}`}\n\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t),\n\t\t\t\t\t}}\n\t\t\t\t\terror={errUsername && !!errUsername.dirty}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\terrUsername && !!errUsername.dirty ? errUsername.errMsg : ''\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\n\t\t\t\t<Alert variant='outlined' severity='error'>\n\t\t\t\t\t{errFees.errMsg}\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nSetAccountENSPage.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t.isRequired,\n}\n\nexport default SetAccountENSPage\n","import React from 'react'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport { PropRow } from 'components/common/dialog/content'\n\nexport const IdentityWithdrawPreview = ({\n\tt,\n\twithdrawTo,\n\tclasses,\n\tfeesData,\n\tamountToWithdraw,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='amountToWithdraw'\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${amountToWithdraw} ${symbol}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const SetPrivilegePreview = ({\n\tt,\n\tsetAddr,\n\tclasses,\n\tfeesData,\n\tprivLevel,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='setAddr'\n\t\t\tleft={t('setAddr', { isProp: true })}\n\t\t\tright={(setAddr || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='privLevel'\n\t\t\tleft={t('privLevel', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [feesData.fees, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={t(`PRIV_${privLevel}_LABEL`)}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const SetENSPreview = ({\n\tt,\n\tusername,\n\taddress,\n\tclasses,\n\tfeesData,\n\tsymbol,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='addr'\n\t\t\tleft={t('ENS_ADDR_TO_BE_SET')}\n\t\t\tright={(address || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='username'\n\t\t\tleft={t('username', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('ENS_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\tfeesData.fees,\n\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`,\n\t\t\t\t\t\t],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n\nexport const IdentityWithdrawAnyPreview = ({\n\tt,\n\twithdrawTo,\n\ttokenAddress,\n\tclasses,\n\tfeesData,\n\tamountToWithdraw,\n}) => (\n\t<div>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='tokenAddress'\n\t\t\tleft={t('tokenAddress', { isProp: true })}\n\t\t\tright={(tokenAddress || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='amountToWithdraw'\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={amountToWithdraw + ' '}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</div>\n)\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport PropTypes from 'prop-types'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport { WalletAction } from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport { styles } from './styles'\nimport {\n\tIdentityWithdrawPreview,\n\tSetPrivilegePreview,\n\tSetENSPreview,\n\tIdentityWithdrawAnyPreview,\n} from './previews'\n\nimport {\n\tselectMainToken,\n\tt,\n\tselectSpinnerById,\n\tselectAccount,\n\tselectNewTransactionById,\n} from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction TransactionPreview(props) {\n\tconst classes = useStyles()\n\tconst { previewWarnMsgs, stepsId } = props\n\tconst txId = stepsId\n\tconst account = useSelector(selectAccount)\n\tconst { address } = account.identity\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst spinner = useSelector(state => selectSpinnerById(state, stepsId))\n\tconst {\n\t\twithdrawTo,\n\t\tamountToWithdraw,\n\t\twaitingForWalletAction,\n\t\tsetAddr,\n\t\tusername,\n\t\tprivLevel,\n\t\ttokenAddress,\n\t\tfeesData = {},\n\t\terrors = [],\n\t} = useSelector(state => selectNewTransactionById(state, txId))\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<ContentBox>\n\t\t\t\t\t{waitingForWalletAction ? (\n\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\n\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{errors.length\n\t\t\t\t\t\t\t? errors.map((err, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\t\tright={err}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{previewWarnMsgs\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\n\t\t\t\t\t\t\t<SetPrivilegePreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setENS' && (\n\t\t\t\t\t\t\t<SetENSPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\taddress={address}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t\tusername={username}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</ContentBox>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nTransactionPreview.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tpreviewMsgs: PropTypes.array,\n}\n\nexport default TransactionPreview\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\twarning: {\n\t\t\tcolor: theme.palette.warning.A700,\n\t\t},\n\t\tcentralSpinner: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 20px)',\n\t\t\ttop: ' calc(50% - 20px)',\n\t\t},\n\t\timgPreview: {\n\t\t\theight: 120,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t}\n}\n","import React from 'react'\nimport WithdrawFromIdentity from './WithdrawFromIdentity'\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\nimport SeAddressPrivilege from './SeAddressPrivilege'\nimport SetAccountENSPage from './SetAccountENSPage'\nimport TransactionPreview from './TransactionPreview'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport {\n\tidentityWithdraw,\n\tsetIdentityENS,\n\tvalidatePrivilegesChange,\n\tidentityWithdrawAny,\n\tvalidateIdentityWithdraw,\n\tcompleteTx,\n\texecute,\n\tresetNewTransaction,\n\tupdateIdentityPrivilege,\n\tvalidateENSChange,\n\tvalidateIdentityWithdrawAny,\n} from 'actions'\n\nconst FormStepsWithDialog = WithDialog(FormSteps)\n\nconst cancelFunction = stepsId => {\n\texecute(resetNewTransaction({ tx: stepsId }))\n}\n\nconst txCommon = {\n\tcancelFunction,\n\tdarkerBackground: true,\n}\n\nexport const WithdrawTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawFromIdentity'\n\t\t{...txCommon}\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tcomponent: WithdrawFromIdentity,\n\t\t\t\tvalidationFn: props => execute(validateIdentityWithdraw(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\n\t\t\t\tcomponent: TransactionPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteTx({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\tcompeteAction: identityWithdraw,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const SetIdentityPrivilege = ({ SaveBtn, label, ...props }) => {\n\treturn (\n\t\t<FormStepsWithDialog\n\t\t\t{...props}\n\t\t\tbtnLabel={label || 'ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'}\n\t\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\n\t\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\n\t\t\tstepsId='setIdentityPrivilege'\n\t\t\t{...txCommon}\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\n\t\t\t\t\tcomponent: SeAddressPrivilege,\n\t\t\t\t\tvalidationFn: props => execute(validatePrivilegesChange(props)),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\n\t\t\t\t\tcompleteBtnTitle: 'PROCEED',\n\t\t\t\t\tcomponent: TransactionPreview,\n\t\t\t\t\tcompleteFn: props =>\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tcompleteTx({\n\t\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\t\tcompeteAction: updateIdentityPrivilege,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const WithdrawAnyTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawAnyFromIdentity'\n\t\t{...txCommon}\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tcomponent: WithdrawAnyTokenFromIdentityPage,\n\t\t\t\tvalidationFn: props => execute(validateIdentityWithdrawAny(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\n\t\t\t\tcomponent: TransactionPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteTx({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\tcompeteAction: identityWithdrawAny,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const SetAccountENS = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_SET_ENS_BTN'\n\t\tsaveBtnLabel='ACCOUNT_SET_ENS_SAVE_BTN'\n\t\ttitle='ACCOUNT_SET_ENS_TITLE'\n\t\tstepsId='setENS'\n\t\t{...txCommon}\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_SET_ENS_STEP',\n\t\t\t\tcomponent: SetAccountENSPage,\n\t\t\t\tvalidationFn: props => execute(validateENSChange(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\n\t\t\t\tcomponent: TransactionPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteTx({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\tcompeteAction: setIdentityENS,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t/>\n)\n","import React, { useState, Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tWithdrawTokenFromIdentity,\n\tWithdrawAnyTokenFromIdentity,\n\tSetIdentityPrivilege,\n\tSetAccountENS,\n} from 'components/dashboard/forms/web3/transactions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tList,\n\tListItem,\n\tListItemText,\n\tDivider as ListDivider,\n\tListSubheader,\n\tButton,\n\tBox,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n\tIconButton,\n\tPaper,\n\tGrid,\n} from '@material-ui/core'\nimport { VpnKey, Lock } from '@material-ui/icons'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { styles } from './styles.js'\nimport { LoadingSection } from 'components/common/spinners'\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport copy from 'copy-to-clipboard'\nimport {\n\tt,\n\tselectWallet,\n\tselectAccountStatsFormatted,\n\tselectAccountIdentityAddr,\n\tselectWalletPrivileges,\n\tselectMainToken,\n\tselectEasterEggsAllowed,\n\tselectEnsAddressByAddr,\n\tselectAccountIdentityCurrentPrivileges,\n\tselectIdentityRecoveryAddr,\n\tselectSide,\n} from 'selectors'\nimport { execute, addToast, updateNewTransaction } from 'actions'\nimport { formatAddress } from 'helpers/formatters'\n\nconst RRButton = withReactRouterLink(Button)\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\n\nconst AccountItem = ({ left, right }) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<ListItem>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tclassName={classes.root}\n\t\t\t\tspacing={1}\n\t\t\t\tjustify='center'\n\t\t\t\talignItems='center'\n\t\t\t>\n\t\t\t\t<Grid item xs={12} sm={6} md={9}>\n\t\t\t\t\t{left}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={6} md={3}>\n\t\t\t\t\t{right}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</ListItem>\n\t)\n}\n\nconst useStyles = makeStyles(styles)\n\nfunction AccountInfo() {\n\tconst { authType = '' } = useSelector(selectWallet)\n\tconst identityAddress = useSelector(selectAccountIdentityAddr)\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst side = useSelector(selectSide)\n\tconst canMakeTx = privileges > 1\n\tconst currentPrivileges = useSelector(selectAccountIdentityCurrentPrivileges)\n\tconst identityRecoveryAddr = useSelector(selectIdentityRecoveryAddr)\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst {\n\t\twalletAddress,\n\t\tidentityBalanceMainToken,\n\t\tavailableIdentityBalanceMainToken,\n\t} = useSelector(selectAccountStatsFormatted)\n\n\tconst identityEnsName = useSelector(state =>\n\t\tselectEnsAddressByAddr(state, identityAddress)\n\t)\n\n\tconst allowEasterEggs = useSelector(selectEasterEggsAllowed)\n\n\tconst [expanded, setExpanded] = useState(false)\n\n\tconst classes = useStyles()\n\n\tconst handleExpandChange = () => {\n\t\tsetExpanded(!expanded)\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Paper variant='outlined'>\n\t\t\t\t<List className={classes.root} disablePadding>\n\t\t\t\t\t<ListSubheader disableSticky>{t('ADEX_ACCOUNT')}</ListSubheader>\n\t\t\t\t\t<AccountItem\n\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\t{...(identityEnsName && {\n\t\t\t\t\t\t\t\t\t\tprimary: identityEnsName,\n\t\t\t\t\t\t\t\t\t\tsecondary: identityAddress,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t{...(!identityEnsName && {\n\t\t\t\t\t\t\t\t\t\tprimary: identityAddress,\n\t\t\t\t\t\t\t\t\t\tsecondary: t('ENS_NOT_SET'),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcopy(identityAddress)\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CopyIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t!!identityAddress && (\n\t\t\t\t\t\t\t\t<SetAccountENS\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t\ttoken='DAI'\n\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<AccountItem\n\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken ||\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}\n\t\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t<RRButton\n\t\t\t\t\t\t\t\t\t\tto={`/dashboard/${side}/topup`}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\taria-label='delete'\n\t\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t\t{t('TOP_UP')}\n\t\t\t\t\t\t\t\t\t</RRButton>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\n\t\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\t\ttoken={symbol}\n\t\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</List>\n\t\t\t</Paper>\n\t\t\t<Box mt={1}>\n\t\t\t\t<ExpansionPanel\n\t\t\t\t\texpanded={expanded}\n\t\t\t\t\tonChange={handleExpandChange}\n\t\t\t\t\tsquare={true}\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\taria-controls='panel1bh-content'\n\t\t\t\t\t\tid='panel1bh-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography className={classes.heading}>\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<AccountItem\n\t\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tsecondary={''}\n\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<SetIdentityPrivilege\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<ListSubheader disableSticky>\n\t\t\t\t\t\t\t{t('WALLETS_WITH_PRIVILEGES')}\n\t\t\t\t\t\t</ListSubheader>\n\t\t\t\t\t\t<List disablePadding>\n\t\t\t\t\t\t\t<AccountPrivilageItem\n\t\t\t\t\t\t\t\taddress={walletAddress}\n\t\t\t\t\t\t\t\tprivileges={privileges}\n\t\t\t\t\t\t\t\tauthType={authType}\n\t\t\t\t\t\t\t\tcurrent\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{Object.keys(currentPrivileges)\n\t\t\t\t\t\t\t\t.filter(a => a !== identityRecoveryAddr && a !== walletAddress)\n\t\t\t\t\t\t\t\t.map((address, key) => (\n\t\t\t\t\t\t\t\t\t<Fragment key={key}>\n\t\t\t\t\t\t\t\t\t\t<AccountPrivilageItem\n\t\t\t\t\t\t\t\t\t\t\taddress={address}\n\t\t\t\t\t\t\t\t\t\t\tprivileges={currentPrivileges[address]}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_LEADER_ID)],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_FOLLOWER_ID)],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\n\t\t\t\t\t\t\t{allowEasterEggs && (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</Box>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</Box>\n\t\t</Fragment>\n\t)\n}\n\nfunction AccountPrivilageItem(props) {\n\tconst classes = useStyles()\n\tconst currUserPrivileges = useSelector(selectWalletPrivileges)\n\tconst canMakeTx = currUserPrivileges > 1\n\tconst { address, privileges, current, authType } = props\n\tconst privColors = ['disabled', 'secondary', 'primary']\n\tconst { availableIdentityBalanceMainToken } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\treturn (\n\t\t<AccountItem\n\t\t\tleft={\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tdirection='row'\n\t\t\t\t\tspacing={2}\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustify='flex-start'\n\t\t\t\t>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<VpnKey color={privColors[privileges]} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\tprimary={<Typography>{formatAddress(address)}</Typography>}\n\t\t\t\t\t\t\tsecondary={t('WALLET_PRIV_LABEL', {\n\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t}\n\t\t\tright={\n\t\t\t\t<Grid container direction='row' justify='center' alignItems='center'>\n\t\t\t\t\t{current ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\tstartIcon={<Lock />}\n\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\tcolor={privColors[currUserPrivileges]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${t('CURRENT_AUTH')} : ${authType}`}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<SetIdentityPrivilege\n\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tlabel='CHANGE_PRIVILEGE'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\ttx: 'setIdentityPrivilege',\n\t\t\t\t\t\t\t\t\t\tkey: 'setAddr',\n\t\t\t\t\t\t\t\t\t\tvalue: address,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Grid>\n\t\t\t}\n\t\t/>\n\t)\n}\n\nexport default AccountInfo\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tactionBtn: {\n\t\t\tmargin: spacing,\n\t\t},\n\t\taddress: {\n\t\t\twordWrap: 'break-word',\n\t\t\twordBreak: 'break-all',\n\t\t\tflexGrow: 0,\n\t\t},\n\t\tadvancedList: {\n\t\t\twidth: '100%',\n\t\t},\n\t\ticonBtnLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t}\n}\n","export const popupCenter = ({ url, title, w, h }) => {\r\n\t// Fixes dual-screen position                             Most browsers      Firefox\r\n\tconst dualScreenLeft =\r\n\t\twindow.screenLeft !== undefined ? window.screenLeft : window.screenX\r\n\tconst dualScreenTop =\r\n\t\twindow.screenTop !== undefined ? window.screenTop : window.screenY\r\n\r\n\tconst width = window.innerWidth\r\n\t\t? window.innerWidth\r\n\t\t: document.documentElement.clientWidth\r\n\t\t? document.documentElement.clientWidth\r\n\t\t: window.screen.width\r\n\tconst height = window.innerHeight\r\n\t\t? window.innerHeight\r\n\t\t: document.documentElement.clientHeight\r\n\t\t? document.documentElement.clientHeight\r\n\t\t: window.screen.height\r\n\r\n\tconst systemZoom = width / window.screen.availWidth\r\n\tconst left = (width - w) / 2 / systemZoom + dualScreenLeft\r\n\tconst top = (height - h) / 2 / systemZoom + dualScreenTop\r\n\tconst newWindow = window.open(\r\n\t\turl,\r\n\t\ttitle,\r\n\t\t`\r\n\t\ttoolbar=no,scrollbars=no,resizable=no\r\n\t\twidth=${w / systemZoom}, \r\n\t\theight=${h / systemZoom}, \r\n\t\ttop=${top}, \r\n\t\tleft=${left},\r\n\t\t`\r\n\t)\r\n\r\n\tif (window.focus) newWindow.focus()\r\n}\r\n","import React from 'react'\nimport {\n\tBox,\n\tPaper,\n\tTypography,\n\tButton,\n\tList,\n\tListItem,\n\tGrid,\n} from '@material-ui/core'\nimport { FileCopy } from '@material-ui/icons'\nimport {\n\tt,\n\tselectAccountIdentityAddr,\n\tselectMainToken,\n\tselectEmail,\n\tselectSide,\n} from 'selectors'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Img from 'components/common/img/Img'\nimport { useSelector } from 'react-redux'\nimport copy from 'copy-to-clipboard'\nimport { openWyre, openPayTrie, openOnRampNetwork } from 'services/onramp'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport RAMP_LOGO from 'resources/ramp.svg'\nimport WYRE_LOGO from 'resources/wyre.svg'\nimport PAYTRIE_LOGO from 'resources/paytrie.svg'\nimport { styles } from './styles'\nimport { execute, addToast } from 'actions'\n\nconst RRButton = withReactRouterLink(Button)\n\nconst useStyles = makeStyles(styles)\nconst onRampProvidersDetails = [\n\t{\n\t\ttitle: t('CREDIT_CARD'),\n\t\tonClick: props => openWyre(props),\n\t\timgSrc: WYRE_LOGO,\n\t\timgAlt: t('WYRE'),\n\t\tfeeInfo: t('WYRE_FEES'),\n\t\tlimitInfo: t('WYRE_LIMITS'),\n\t\tcurrencies: t('WYRE_CURRENCIES'),\n\t},\n\t{\n\t\ttitle: t('BANK_TRANSFER'),\n\t\tonClick: props => openOnRampNetwork(props),\n\t\timgSrc: RAMP_LOGO,\n\t\timgAlt: t('RAMP'),\n\t\tfeeInfo: t('RAMP_FEES'),\n\t\tlimitInfo: t('RAMP_LIMITS'),\n\t\tcurrencies: t('RAMP_CURRENCIES'),\n\t},\n\t{\n\t\ttitle: t('BANK_TRANSFER'),\n\t\tonClick: props => openPayTrie(props),\n\t\timgSrc: PAYTRIE_LOGO,\n\t\timgAlt: t('PAYTRIE'),\n\t\tfeeInfo: t('PAYTRIE_FEES'),\n\t\tlimitInfo: t('PAYTRIE_LIMITS'),\n\t\tcurrencies: t('PAYTRIE_CURRENCIES'),\n\t},\n]\n\nexport default function TopUp() {\n\tconst classes = useStyles()\n\tconst accountId = useSelector(selectAccountIdentityAddr)\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst email = useSelector(selectEmail)\n\tconst side = useSelector(selectSide)\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item lg={4} md={6} xs={12}>\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tp={2}\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\theight={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Typography className={classes.title}>{t('DAI')}</Typography>\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\n\t\t\t\t\t\t\t\t{t('DIRECT_DEPOSIT')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tcopy(accountId)\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={classes.copyBtn}\n\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tendIcon={<FileCopy fontSize='small' color='disabled' />}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{accountId}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\n\t\t\t\t\t\t\t\t\t{t('DAI_DIRECT_DEPOSIT_INFO')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Paper>\n\t\t\t</Grid>\n\t\t\t<Grid item lg={4} md={6} xs={12}>\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tp={2}\n\t\t\t\t\t\tpb={1}\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\theight={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Typography className={classes.title}>\n\t\t\t\t\t\t\t\t{t('FIAT_CURRENCY')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\n\t\t\t\t\t\t\t\t{t('CREDIT_CARD_BANK_TRANSFER')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\n\t\t\t\t\t\t\t\t\t{t('ONRAMP_INFO')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<List disablePadding>\n\t\t\t\t\t\t\t\t{onRampProvidersDetails.map((item, key) => (\n\t\t\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\t\t\tdisableGutters\n\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\tonClick={() => item.onClick({ accountId, symbol, email })}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<OnRampListItem\n\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\ttitle={item.title}\n\t\t\t\t\t\t\t\t\t\t\timgSrc={item.imgSrc}\n\t\t\t\t\t\t\t\t\t\t\timgAlt={item.imgAlt}\n\t\t\t\t\t\t\t\t\t\t\tfeeInfo={item.feeInfo}\n\t\t\t\t\t\t\t\t\t\t\tlimitInfo={item.limitInfo}\n\t\t\t\t\t\t\t\t\t\t\tcurrencies={item.currencies}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Paper>\n\t\t\t</Grid>\n\t\t\t<Grid item lg={4} md={6} xs={12}>\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tp={2}\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\theight={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Typography className={classes.title}>{t('BTC')}</Typography>\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\n\t\t\t\t\t\t\t\t{t('DIRECT_DEPOSIT')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\n\t\t\t\t\t\t\t\t\t{t('BTC_INFO')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<RRButton\n\t\t\t\t\t\t\t\tto={`/dashboard/${side}/topup/btc`}\n\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t// disabled\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('TOPUP_BTC')}\n\t\t\t\t\t\t\t</RRButton>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Paper>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nconst OnRampListItem = ({\n\timgSrc,\n\timgAlt,\n\ttitle,\n\tfeeInfo,\n\tlimitInfo,\n\tcurrencies,\n}) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<Button size='large' fullWidth disableElevation className={classes.copyBtn}>\n\t\t\t<Box p={1} width='100%'>\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tdirection='row'\n\t\t\t\t\tjustify='space-between'\n\t\t\t\t\talignItems='center'\n\t\t\t\t>\n\t\t\t\t\t<Grid item xs={12} sm={4} md={4}>\n\t\t\t\t\t\t<Img className={classes.img} alt={imgAlt} src={imgSrc} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={8} md={8} className={classes.infoGrid}>\n\t\t\t\t\t\t<Typography className={classes.infoTitle}>{title}</Typography>\n\t\t\t\t\t\t{[feeInfo, limitInfo, currencies].map((item, key) => (\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tkey={`info-${key}`}\n\t\t\t\t\t\t\t\tclassName={classes.info}\n\t\t\t\t\t\t\t\tcomponent='p'\n\t\t\t\t\t\t\t\tcolor='textSecondary'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\t\t</Button>\n\t)\n}\n","export const styles = theme => {\n\treturn {\n\t\tcopyBtn: {\n\t\t\tbackgroundColor: '#E2EAED',\n\t\t\toverflowWrap: 'anywhere',\n\t\t\tuserSelect: 'text',\n\t\t},\n\t\ttitle: {\n\t\t\tfontSize: '2rem',\n\t\t\ttextAlign: 'center',\n\t\t\ttextTransform: 'uppercase',\n\t\t},\n\t\tsubtitle: {\n\t\t\tfontSize: '1rem',\n\t\t\ttextAlign: 'center',\n\t\t\ttextTransform: 'uppercase',\n\t\t},\n\t\tpaper: {\n\t\t\theight: '100%',\n\t\t},\n\t\tinfo: {\n\t\t\tfontSize: '10px',\n\t\t},\n\t\tinfoGrid: {\n\t\t\ttextAlign: 'right',\n\t\t},\n\t\tinfoTitle: {\n\t\t\tfontSize: '12px',\n\t\t},\n\t\timg: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n}\n","import { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\r\nimport { popupCenter } from 'helpers/popupHelper'\r\nimport url from 'url'\r\nimport { t } from 'selectors'\r\n\r\nconst PAYTRIE_PARTNER_URL = 'https://partner.paytrie.com/?app=876454'\r\nconst WYRE_URL = 'https://pay.sendwyre.com/purchase?'\r\nconst { RAMP_HOST_API_KEY } = process.env\r\n\r\n//https://docs.sendwyre.com/docs/wyre-widget-v2\r\nexport const openWyre = ({ accountId, symbol, ...rest }) => {\r\n\tconst URL = url.parse(WYRE_URL, true)\r\n\tURL.search = null\r\n\tif (accountId) {\r\n\t\tURL.query = {\r\n\t\t\t...URL.query,\r\n\t\t\tdest: accountId ? `ethereum:${accountId}` : null,\r\n\t\t\treferenceId: accountId,\r\n\t\t\tdestCurrency: symbol,\r\n\t\t\t...rest,\r\n\t\t}\r\n\t\tpopupCenter({\r\n\t\t\turl: url.format(URL),\r\n\t\t\ttitle: t('WYRE_DEPOSIT'),\r\n\t\t\tw: 450,\r\n\t\t\th: 700,\r\n\t\t})\r\n\t} else {\r\n\t\tconsole.error('WYRE_DEPOSIT_MISSING_DEST_PARAM')\r\n\t}\r\n}\r\n\r\n//https://paytrie.com/developer\r\nexport const openPayTrie = ({ accountId, email, symbol, ...rest }) => {\r\n\tconst URL = url.parse(PAYTRIE_PARTNER_URL, true)\r\n\tURL.search = null\r\n\tURL.query = {\r\n\t\t...URL.query,\r\n\t\taddr: accountId,\r\n\t\temail,\r\n\t\trightSideLabel: symbol,\r\n\t\t...rest,\r\n\t}\r\n\tpopupCenter({\r\n\t\t//TODO: Change testwyre to production\r\n\t\turl: url.format(URL),\r\n\t\ttitle: t('PAYTRIE_DEPOSIT'),\r\n\t\tw: 450,\r\n\t\th: 700,\r\n\t})\r\n}\r\n\r\nexport const openOnRampNetwork = ({ accountId, symbol }) => {\r\n\tconst widget = new RampInstantSDK({\r\n\t\thostAppName: 'AdExNetwork',\r\n\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\r\n\t\tvariant: 'auto',\r\n\t\tswapAsset: symbol,\r\n\t\tuserAddress: accountId,\r\n\t\thostApiKey: RAMP_HOST_API_KEY,\r\n\t})\r\n\twidget.domNodes.overlay.style.zIndex = 1000\r\n\twidget.show()\r\n}\r\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Paper, Box } from '@material-ui/core'\nimport { selectAccountIdentityAddr } from 'selectors'\n\nconst onloadFunction = `\nfunction at(t) {\n\tvar e = t.target,\n\t\ti = e.parentNode,\n\t\tn = e.contentWindow,\n\t\tr = function() {\n\t\t\treturn n.postMessage({ width: i.offsetWidth }, 'https://widget.changelly.com');\n\t\t};\n\twindow.addEventListener('resize', r), r();\n};\nat.apply(this, arguments);\n`\nconst getChangellyIframe = identityAddress =>\n\t`\n\t<iframe \n\tsrc=\"https://widget.changelly.com?from=btc&to=dai&amount=0.007&address=${identityAddress}&fromDefault=btc&toDefault=dai&theme=aqua&merchant_id=unl7fil0on3x48m1&payment_id=&v=2\" \n\twidth=\"100%\" height=\"600\" class=\"changelly\" scrolling=\"no\" \n\tonLoad=\"${onloadFunction}\" \n\tstyle=\"min-width: 100%; width: 100px; overflow-y: hidden; border: none\">Can't load widget</iframe>\n`\n\nfunction TopUpBtc(props) {\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst widgetIframeHtml = getChangellyIframe(identityAddr)\n\n\treturn (\n\t\t<Paper variant='outlined'>\n\t\t\t<Box p={2}>\n\t\t\t\t{!!identityAddr && (\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: widgetIframeHtml }} />\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t</Paper>\n\t)\n}\n\nexport default TopUpBtc\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport { Box } from '@material-ui/core'\r\nimport { CheckCircle } from '@material-ui/icons'\r\nimport { PRIMARY, ACCENT_TWO } from 'components/App/themeMUi'\r\nimport StepConnector from '@material-ui/core/StepConnector'\r\n\r\nconst LINES_WIDTH = 3\r\nconst DEFAULT_SIZE = 80\r\n\r\nconst useColorlibStepIconStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tbackgroundColor: 'transparent',\r\n\t\tzIndex: 1,\r\n\t\twidth: props => DEFAULT_SIZE,\r\n\t\theight: props => DEFAULT_SIZE,\r\n\t\tdisplay: 'flex',\r\n\t\tborderRadius: '50%',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.text[500]}`,\r\n\t\ttransition: '0.5s',\r\n\t\t'&:hover': {\r\n\t\t\tboxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n\t\t\ttransform: 'translateY(-5px)',\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${PRIMARY} !important`,\r\n\t},\r\n\tcompleted: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${ACCENT_TWO}`,\r\n\t},\r\n\tstar: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: ACCENT_TWO,\r\n\t\ttop: '-40%',\r\n\t\tright: '-32%',\r\n\t\tborderRadius: '50%',\r\n\t},\r\n}))\r\n\r\nexport const ColorlibConnector = withStyles(theme => ({\r\n\talternativeLabel: {\r\n\t\ttop: DEFAULT_SIZE / 2,\r\n\t\tleft: `calc(-50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t\tright: `calc(50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t},\r\n\tline: {\r\n\t\theight: LINES_WIDTH,\r\n\t\tborder: 0,\r\n\t\tbackground: `linear-gradient(to right, transparent 50%, #fff 50%), ${\r\n\t\t\ttheme.palette.text[500]\r\n\t\t}`,\r\n\t\tbackgroundSize: `${LINES_WIDTH * 5}px`,\r\n\t},\r\n}))(StepConnector)\r\n\r\nexport function ColorlibStepIcon(props) {\r\n\tconst classes = useColorlibStepIconStyles(props)\r\n\tconst { active, completed, icon } = props\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={clsx(classes.root, {\r\n\t\t\t\t[classes.completed]: completed,\r\n\t\t\t\t[classes.active]: active,\r\n\t\t\t})}\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundImage: `url(${icon})`,\r\n\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{completed && <CheckCircle className={clsx(classes.star)} />}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n\tactive: PropTypes.bool,\r\n\tcompleted: PropTypes.bool,\r\n\ticon: PropTypes.node,\r\n}\r\n","import React, { Fragment } from 'react'\nimport { Typography } from '@material-ui/core'\nimport { confirmAction, execute } from 'actions'\nimport { t } from 'selectors'\nimport { ExternalAnchor } from 'components/common/anchor/'\n\nexport const createAdUnitTutorial = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 8; i++) {\n\t\tsteps.push(`TUTORIAL_CREATE_AD_UNIT_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_UNIT_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_UNIT_END'),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const fundAccountTutorial = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 4; i++) {\n\t\tsteps.push(`TUTORIAL_FUND_ACC_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\ttitle: t('TUTORIAL_FUND_ACC_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_START')}</Typography>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t{t('TUTORIAL_FUND_ACC_MORE_INFO', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t'https://www.adex.network/blog/adex-integrates-ramp-networks-fiat-onramp-advertisers-can-now-pay-in-fiat/'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('HERE')}\n\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_END')}</Typography>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const launchFirstCampaign = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 5; i++) {\n\t\tsteps.push(`TUTORIAL_LAUNCH_CAMPAIGN_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\ttitle: t('TUTORIAL_LAUNCH_CAMPAIGN_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Typography>{t('TUTORIAL_LAUNCH_CAMPAIGN_START')}</Typography>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: t('TUTORIAL_LAUNCH_CAMPAIGN_END'),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const createAdSlot = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 7; i++) {\n\t\tsteps.push(`TUTORIAL_CREATE_AD_SLOT_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_SLOT_TTILE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_SLOT_END'),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const placeAdSlot = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 2; i++) {\n\t\tsteps.push(`TUTORIAL_PLACE_AD_SLOT_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\ttitle: t('TUTORIAL_PLACE_AD_SLOT_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_MORE_INFO')}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<ExternalAnchor href={'https://html.com/tags/iframe/'}>\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_1')}\n\t\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t'https://webcusp.com/iframe-wordpress-plugins-and-tutorials/'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_2')}\n\t\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t\t\t,\n\t\t\t\t\t</Typography>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n","import React, { useEffect, useState } from 'react'\nimport { ACCENT_TWO } from 'components/App/themeMUi'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tBox,\n\tStepButton,\n\tMobileStepper,\n\tStepper,\n\tStep,\n\tStepLabel,\n\tButton,\n\tTypography,\n\tHidden,\n\tLink,\n\tExpansionPanel,\n\tExpansionPanelDetails,\n\tExpansionPanelSummary,\n\tTooltip,\n} from '@material-ui/core'\nimport {\n\tKeyboardArrowLeft,\n\tKeyboardArrowRight,\n\tExpandMore,\n\tClose,\n\tCheckCircleOutline,\n\tCheckCircle,\n} from '@material-ui/icons'\nimport EmailEddie from 'resources/getting-started/GS-email-ic.png'\nimport FundEddie from 'resources/getting-started/GS-fund-ic.png'\nimport CreateEddie from 'resources/getting-started/GS-create-ic.png'\nimport LaunchEddie from 'resources/getting-started/GS-launch-ic.png'\nimport PlaceEddie from 'resources/getting-started/GS-place-ic.png'\n// import BonusEddie from 'resources/getting-started/GS-bonus-ic.png'\nimport {\n\tt,\n\tsectStepsData,\n\tselectHideGettingStarted,\n\tselectGettingStartedExpanded,\n} from 'selectors'\nimport { useSelector } from 'react-redux'\nimport { ColorlibStepIcon, ColorlibConnector } from './Colorlib'\nimport { hideGettingStarted, setGettingStartedExpanded, execute } from 'actions'\nimport {\n\tcreateAdUnitTutorial,\n\tfundAccountTutorial,\n\tlaunchFirstCampaign,\n\tcreateAdSlot,\n\tplaceAdSlot,\n} from './Tutorials'\n\nconst useStyles = makeStyles(theme => {\n\tconst stepperBackgroundColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.background.paper\n\t\t\t: theme.palette.background.paper\n\n\treturn {\n\t\tmobile: {\n\t\t\tbackgroundColor: 'transparent',\n\t\t\tflex: 1,\n\t\t},\n\t\tstepper: {\n\t\t\tbackgroundColor: 'transparent',\n\t\t},\n\t\tbutton: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tinstructions: {\n\t\t\tmarginTop: theme.spacing(1),\n\t\t\tmarginBottom: theme.spacing(1),\n\t\t},\n\t\texpansionPanel: {\n\t\t\tcolor: theme.palette.primary.main,\n\t\t\tbackgroundColor: stepperBackgroundColor,\n\t\t\t'& .MuiExpansionPanelSummary-expandIcon': {\n\t\t\t\tcolor: theme.palette.primary.main,\n\t\t\t},\n\t\t},\n\t\tcheckmark: {\n\t\t\tcolor: ACCENT_TWO,\n\t\t},\n\t}\n})\n\nconst getSteps = ({\n\thasCreatedAdUnit,\n\thasCreatedCampaign,\n\thasCreatedAdSlot,\n\thasConfirmedEmail,\n\thasFundedAccount,\n\thasImpressions,\n\thas5000Impressions,\n}) => ({\n\tadvertiser: [\n\t\t{\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\n\t\t\tcontent: (\n\t\t\t\t<span\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t),\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\n\t\t\ticon: EmailEddie,\n\t\t\tcheck: hasConfirmedEmail,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_ADD_UNIT_LABEL'),\n\t\t\tcontent: t('TUTORIAL_ADD_UNIT_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_CREATE_UNIT_COMPLETE'),\n\t\t\ticon: CreateEddie,\n\t\t\tcheck: hasCreatedAdUnit,\n\t\t\ttutorial: createAdUnitTutorial,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_FUND_ACCOUNT_LABEL'),\n\t\t\tcontent: t('TUTORIAL_FUND_ACCOUNT_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_FUND_ACC_COMPLETE'),\n\t\t\ticon: FundEddie,\n\t\t\tcheck: hasFundedAccount,\n\t\t\ttutorial: fundAccountTutorial,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_FIRST_CAMPAIGN_LABEL'),\n\t\t\tcontent: t('TUTORIAL_FIRST_CAMPAIGN_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_LAUNCH_CAMPAIGN_COMPLETE'),\n\t\t\ticon: LaunchEddie,\n\t\t\tcheck: hasCreatedCampaign,\n\t\t\ttutorial: launchFirstCampaign,\n\t\t},\n\t\t// {\n\t\t// \tlabel: 'Receive your bonus',\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\n\t\t// \ticon: BonusEddie,\n\t\t// \tcheck: false,\n\t\t// },\n\t],\n\tpublisher: [\n\t\t{\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\n\t\t\tcontent: (\n\t\t\t\t<span\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t),\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\n\t\t\ticon: EmailEddie,\n\t\t\tcheck: hasConfirmedEmail,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_ADD_SLOT_LABEL'),\n\t\t\tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_CREATE_AD_SLOT_COMPLETE'),\n\t\t\ticon: CreateEddie,\n\t\t\tcheck: hasCreatedAdSlot,\n\t\t\ttutorial: createAdSlot,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_PLACE_SLOT_LABEL'),\n\t\t\tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_PLACE_AD_SLOT_COMPLETE'),\n\t\t\ticon: PlaceEddie,\n\t\t\tcheck: hasImpressions,\n\t\t\ttutorial: placeAdSlot,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_REACH_5000_LABEL'),\n\t\t\tcontent: t('TUTORIAL_REACH_5000_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_5000_IMPRESSIONS_COMPLETE'),\n\t\t\ticon: LaunchEddie,\n\t\t\tcheck: has5000Impressions,\n\t\t},\n\t\t// {\n\t\t// \tlabel: 'Receive your bonus',\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\n\t\t// \ticon: BonusEddie,\n\t\t// \tcheck: false,\n\t\t// },\n\t],\n})\n\nexport default function GettingStarted(props) {\n\tconst { side } = props\n\tconst classes = useStyles({ side })\n\n\tconst stepsData = useSelector(sectStepsData)\n\n\tconst isGettingStartedHidden = useSelector(selectHideGettingStarted)\n\tconst expanded = useSelector(selectGettingStartedExpanded)\n\tconst [steps, setSteps] = useState({})\n\n\tconst [activeStep, setActiveStep] = React.useState(0)\n\n\tconst sideSteps = steps[side] || []\n\tconst currentStep = sideSteps[activeStep] || {}\n\n\tconst indexOfFirstIncompleteStep = sideSteps.findIndex(step => !step.check)\n\n\tconst handleStep = step => () => {\n\t\tsetActiveStep(step)\n\t}\n\n\tconst handleNext = () => {\n\t\tsetActiveStep(activeStep + 1)\n\t}\n\tconst handleBack = () => {\n\t\tsetActiveStep(activeStep - 1)\n\t}\n\n\tconst handleDismiss = () => {\n\t\tsetActiveStep(0)\n\t\texecute(hideGettingStarted(side))\n\t}\n\n\tuseEffect(() => {\n\t\tsetSteps(getSteps(stepsData))\n\t}, [stepsData])\n\tuseEffect(() => {\n\t\tsetActiveStep(\n\t\t\tindexOfFirstIncompleteStep !== -1\n\t\t\t\t? indexOfFirstIncompleteStep\n\t\t\t\t: sideSteps.length - 1\n\t\t)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [steps, indexOfFirstIncompleteStep])\n\t// TODO: wait for the data to be loaded before displaying the getting started\n\treturn (\n\t\t!isGettingStartedHidden &&\n\t\t!!sideSteps.length && (\n\t\t\t<Box mb={1}>\n\t\t\t\t<ExpansionPanel\n\t\t\t\t\texpanded={expanded}\n\t\t\t\t\tonChange={() => execute(setGettingStartedExpanded(!expanded))}\n\t\t\t\t\tsquare={true}\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMore />}\n\t\t\t\t\t\tclasses={{ root: classes.expansionPanel }}\n\t\t\t\t\t\taria-controls='expand-getting-started'\n\t\t\t\t\t\tid='getting-started-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\twidth={1}\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Typography variant={'h6'}>\n\t\t\t\t\t\t\t\t{`${t('GETTING_STARTED_HEADING')} (${\n\t\t\t\t\t\t\t\t\tside === 'publisher' ? t('PUBLISHER') : t('ADVERTISER')\n\t\t\t\t\t\t\t\t})`}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center'>\n\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => {\n\t\t\t\t\t\t\t\t\tconst Icon = check ? CheckCircle : CheckCircleOutline\n\t\t\t\t\t\t\t\t\tconst color = ACCENT_TWO\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Tooltip title={label} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t<Icon className={classes.checkmark} />\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</ExpansionPanelSummary>\n\n\t\t\t\t\t<ExpansionPanelDetails>\n\t\t\t\t\t\t<Box width={1}>\n\t\t\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t\t\t<Box p={2} justifyContent={'center'} display='flex'>\n\t\t\t\t\t\t\t\t\t<ColorlibStepIcon\n\t\t\t\t\t\t\t\t\t\ticon={currentStep.icon}\n\t\t\t\t\t\t\t\t\t\tcompleted={currentStep.check}\n\t\t\t\t\t\t\t\t\t\tsize='35vw'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<MobileStepper\n\t\t\t\t\t\t\t\t\tclassName={classes.mobile}\n\t\t\t\t\t\t\t\t\tsteps={sideSteps.length}\n\t\t\t\t\t\t\t\t\tposition='static'\n\t\t\t\t\t\t\t\t\tvariant='progress'\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\n\t\t\t\t\t\t\t\t\tnextButton={\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleNext}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === sideSteps.length - 1}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('NEXT')}\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowRight />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbackButton={\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleBack}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === 0}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowLeft />\n\t\t\t\t\t\t\t\t\t\t\t{t('BACK')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t<Hidden smDown>\n\t\t\t\t\t\t\t\t<Stepper\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.stepper }}\n\t\t\t\t\t\t\t\t\tnonLinear\n\t\t\t\t\t\t\t\t\talternativeLabel\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\n\t\t\t\t\t\t\t\t\tconnector={<ColorlibConnector />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => (\n\t\t\t\t\t\t\t\t\t\t<Step key={label}>\n\t\t\t\t\t\t\t\t\t\t\t<StepButton onClick={handleStep(index)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<StepLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconComponent={ColorlibStepIcon}\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconProps={{ icon, completed: check }}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t\t\t\t\t</StepLabel>\n\t\t\t\t\t\t\t\t\t\t\t</StepButton>\n\t\t\t\t\t\t\t\t\t\t</Step>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Stepper>\n\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t{indexOfFirstIncompleteStep === -1 ? (\n\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\t\tjustifyContent={'space-between'}\n\t\t\t\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('GETTING_STARTED_FINISHED')}</strong>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleDismiss}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<Close />}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('DISMISS')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tvariant={'body1'}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('GETTING_STARTED_STEPS', {\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [activeStep + 1, currentStep.label || ''],\n\t\t\t\t\t\t\t\t\t\t\t\t})}{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.check ? t('COMPLETED') : ''}\n\t\t\t\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t{currentStep.check ? (\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.contentCompleted}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.content}{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.tutorial &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tt('GETTING_STARTED_NOT_SURE_SEE_TUTORIAL', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey='see-tutorial-link'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='#'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentStep.tutorial()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunderline={'hover'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('OUR_TUTORIAL')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</ExpansionPanelDetails>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</Box>\n\t\t)\n\t)\n}\n","import React, { useState, useEffect, Fragment } from 'react'\nimport SideNav from './SideNav'\nimport TopBar from './TopBar'\nimport { Route, Switch } from 'react-router'\nimport Campaign from 'components/dashboard/containers/Campaign'\nimport { Receipt } from 'components/dashboard/containers/Receipt'\nimport {\n\tPublisherStats,\n\tAdvertiserStats,\n} from 'components/dashboard/containers/DashboardStats'\nimport Unit from 'components/dashboard/containers/Unit'\nimport Slot from 'components/dashboard/containers/Slot'\nimport Audience from 'components/dashboard/containers/Audience'\nimport Websites from 'components/dashboard/containers/Websites'\nimport Account from 'components/dashboard/account/AccountInfo'\nimport TopUp from 'components/dashboard/deposit/TopUp'\nimport TopUpBtc from 'components/dashboard/deposit/TopUpBtc'\nimport {\n\tNewUnitDialog,\n\tNewCampaignDialog,\n\tNewSlotDialog,\n\tNewAudienceDialog,\n} from 'components/dashboard/forms/items/NewItems'\nimport {\n\tCampaignsTable,\n\tAdSlotsTable,\n\tAdUnitsTable,\n\tAudiencesTable,\n} from 'components/dashboard/containers/Tables'\nimport { Drawer, Box, Hidden, Paper } from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Add } from '@material-ui/icons'\nimport { styles } from './styles'\nimport {\n\texecute,\n\tresolveEnsAddress,\n\tupdatePrivilegesWarningAccepted,\n\tloadAccountData,\n\tstopAccountDataUpdate,\n\tupdateNav,\n} from 'actions'\nimport {\n\tt,\n\tselectAccountIdentityAddr,\n\tselectWalletPrivileges,\n\tselectPrivilegesWarningAccepted,\n\tselectInitialDataLoaded,\n} from 'selectors'\nimport { useSelector } from 'react-redux'\nimport GettingStarted from '../getting-started/GettingStarted'\n\nconst Campaigns = () => {\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst disabled = privileges <= 1\n\treturn (\n\t\t<Box>\n\t\t\t<NewCampaignDialog\n\t\t\t\tdisabled={disabled}\n\t\t\t\tfabButton\n\t\t\t\tvariant='extended'\n\t\t\t\tcolor='secondary'\n\t\t\t\tbtnLabel='NEW_CAMPAIGN'\n\t\t\t\tsize='medium'\n\t\t\t\ticon={<Add />}\n\t\t\t/>\n\t\t\t<Paper variant='outlined'>\n\t\t\t\t<CampaignsTable />\n\t\t\t</Paper>\n\t\t</Box>\n\t)\n}\n\nconst AdUnits = () => (\n\t<Box>\n\t\t<NewUnitDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_UNIT'\n\t\t\tsize='medium'\n\t\t\ticon={<Add />}\n\t\t/>\n\t\t<Paper variant='outlined'>\n\t\t\t<AdUnitsTable />\n\t\t</Paper>\n\t</Box>\n)\n\nconst AdSlots = () => (\n\t<Box>\n\t\t<NewSlotDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_SLOT'\n\t\t\tsize='medium'\n\t\t\ticon={<Add />}\n\t\t/>\n\t\t<Paper variant='outlined'>\n\t\t\t<AdSlotsTable />\n\t\t</Paper>\n\t</Box>\n)\n\nconst Audiences = () => (\n\t<Box>\n\t\t<NewAudienceDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_AUDIENCE'\n\t\t\tsize='medium'\n\t\t\ticon={<Add />}\n\t\t/>\n\t\t<Paper variant='outlined'>\n\t\t\t<AudiencesTable />\n\t\t</Paper>\n\t</Box>\n)\n\nconst useStyles = makeStyles(styles)\n\nfunction Dashboard(props) {\n\tconst [mobileOpen, setMobileOpen] = useState(false)\n\tconst address = useSelector(selectAccountIdentityAddr)\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst privilegesWarningAccepted = useSelector(selectPrivilegesWarningAccepted)\n\tconst showTxPrivLevelWarning = privileges <= 1 && !privilegesWarningAccepted\n\n\tconst { match } = props\n\tconst { side } = match.params\n\tconst classes = useStyles()\n\n\tconst dataLoaded = useSelector(selectInitialDataLoaded)\n\n\tuseEffect(() => {\n\t\tasync function updateInitialData() {\n\t\t\texecute(loadAccountData())\n\t\t}\n\n\t\tupdateInitialData()\n\n\t\treturn () => {\n\t\t\texecute(stopAccountDataUpdate())\n\t\t}\n\t}, [])\n\n\tuseEffect(() => {\n\t\texecute(resolveEnsAddress({ address }))\n\t}, [address])\n\n\tuseEffect(() => {\n\t\texecute(updateNav('side', side))\n\t}, [side])\n\n\tconst handleDrawerToggle = () => {\n\t\tsetMobileOpen(!mobileOpen)\n\t}\n\n\tconst drawer = <SideNav side={side} />\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<TopBar\n\t\t\t\tside={side}\n\t\t\t\topen={mobileOpen}\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\n\t\t\t/>\n\t\t\t<Hidden mdUp>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='temporary'\n\t\t\t\t\tanchor='left'\n\t\t\t\t\topen={mobileOpen}\n\t\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t\tModalProps={{\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\t\t\t<Hidden smDown implementation='css'>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='permanent'\n\t\t\t\t\topen\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\n\t\t\t<main className={classes.content}>\n\t\t\t\t<div className={classes.contentInner}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t{showTxPrivLevelWarning && (\n\t\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tseverity='info'\n\t\t\t\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\t\t\t\texecute(updatePrivilegesWarningAccepted(true))\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('PRIVILEGES_LEVEL_WARNING_MSG', {\n\t\t\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{dataLoaded && <GettingStarted side={side} />}\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\n\t\t\t\t\t\t\t\tcomponent={Campaigns}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\n\t\t\t\t\t\t\t\tcomponent={AdUnits}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/audiences'\n\t\t\t\t\t\t\t\tcomponent={Audiences}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/audiences/:itemId'\n\t\t\t\t\t\t\t\tcomponent={Audience}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipts'\n\t\t\t\t\t\t\t\tcomponent={Receipt}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns/:itemId'\n\t\t\t\t\t\t\t\tcomponent={Campaign}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipt/:itemId'\n\t\t\t\t\t\t\t\tcomponent={Receipt}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/units/:itemId'\n\t\t\t\t\t\t\t\tcomponent={Unit}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\n\t\t\t\t\t\t\t\tcomponent={AdSlots}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/slots/:itemId'\n\t\t\t\t\t\t\t\tcomponent={Slot}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/websites'\n\t\t\t\t\t\t\t\tcomponent={Websites}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/receipts'\n\t\t\t\t\t\t\t\tcomponent={Receipt}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\n\t\t\t\t\t\t\t\tcomponent={Account}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/topup/btc'}\n\t\t\t\t\t\t\t\tcomponent={TopUpBtc}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route exact path={'/dashboard/:side/topup'} component={TopUp} />\n\t\t\t\t\t\t\t{/* <Route\n\t\t\t\t\t\t\t\tauth={this.props.auth}\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\n\t\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser'\n\t\t\t\t\t\t\t\tcomponent={AdvertiserStats}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher'\n\t\t\t\t\t\t\t\tcomponent={PublisherStats}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route component={PageNotFound} />\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\troot: {\n\t\t\t// flexGrow: 1,\n\t\t\theight: '100vh',\n\t\t},\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\theight: '100vh',\n\t\t\tflexGrow: '1',\n\t\t},\n\t\tactions: {\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t},\n\t\tbuttons: {\n\t\t\tbackgroundColor: theme.palette.grey[200],\n\t\t},\n\t\tadxVersion: {\n\t\t\t// position: 'absolute',\n\t\t\t// left: spacing,\n\t\t\t// bottom: spacing\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\t// marginTop: '1.5vh',\n\t\t\t// width: '17.92vh',\n\t\t\t// height: '6vh',\n\t\t\theight: '2rem',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tnoBg: {\n\t\t\tbackground: 0,\n\t\t\tboxShadow: 'none',\n\t\t\toverflow: 'visible',\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\t// position: 'relative',\n\t\t\tjustifyContent: 'center',\n\t\t\tpadding: 24,\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t// '&:first-child': {\n\t\t\t// \tpaddingTop: spacing,\n\t\t\t// },\n\t\t\t// overflow: 'visible',\n\t\t\t// maxHeight: '100vh'\n\t\t},\n\t}\n}\n","import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport { Box, Divider } from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport Img from 'components/common/img/Img'\nimport classnames from 'classnames'\nimport { getAllWallets } from 'services/wallet/wallet'\nimport { execute, initIdentity, confirmAction } from 'actions'\nimport { selectAuth, selectAccount, selectRegistrationAllowed } from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { formatAddress } from 'helpers/formatters'\nimport { push } from 'connected-react-router'\nimport { t } from 'selectors'\nimport { removeFromLocalStorage } from 'helpers/localStorageHelpers'\n\nconst RRButton = withReactRouterLink(Button)\nconst useStyles = makeStyles(styles)\n\nconst AuthSelect = () => {\n\tconst classes = useStyles()\n\tconst [wallets, setWallets] = useState([])\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\tconst auth = useSelector(selectAuth)\n\tconst account = useSelector(selectAccount)\n\tconst { wallet, identity } = account || {}\n\n\tuseEffect(() => {\n\t\tconst allWallets = getAllWallets()\n\t\tconst wallets = allWallets.filter(\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\n\t\t)\n\t\tsetWallets(wallets)\n\t}, [wallet])\n\n\tconst goTo = (to, confirmLogout, onConfirm) => {\n\t\tconst toExecute = () => {\n\t\t\tlogOut()\n\t\t\texecute(push(to))\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\n\t\t\t\tonConfirm()\n\t\t\t}\n\t\t}\n\t\tif (auth && confirmLogout) {\n\t\t\texecute(\n\t\t\t\tconfirmAction(toExecute, null, {\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TEXT', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\n\t\t\t\t\t\t\tidentity.address,\n\t\t\t\t\t\t],\n\t\t\t\t\t}),\n\t\t\t\t})\n\t\t\t)\n\t\t} else {\n\t\t\ttoExecute()\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='stretch'\n\t\t\tjustifyContent='space-between'\n\t\t>\n\t\t\t<Box p={2} alignItems='center'>\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{auth && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<RRButton\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tto='/side-select'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CONTINUE_AS', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\twallet.email || formatAddress(identity.address),\n\t\t\t\t\t\t\t\twallet.authType,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</RRButton>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t{wallets.map(w => (\n\t\t\t\t<Box key={w.name} m={1} display='flex'>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tconfirmAction(\n\t\t\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\t\t\tremoveFromLocalStorage(w.key)\n\t\t\t\t\t\t\t\t\t\tsetWallets(wallets.filter(i => i.key !== w.key))\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tconfirmLabel: t('CONFIRM_YES'),\n\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\n\t\t\t\t\t\t\t\t\t\ttitle: t('CONFIRM_DIALOG_REMOVE_SAVED_AUTH_TITLE'),\n\t\t\t\t\t\t\t\t\t\ttext: t('CONFIRM_DIALOG_REMOVE_SAVED_AUTH_TEXT', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\n\t\t\t\t\t\t\t\t\t\t\t\tidentity.address,\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Close />\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t))}\n\t\t\t{(wallets.length > 0 || auth) && <Divider />}\n\t\t\t{showRegistration && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\n\t\t\t\t>\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\n\t\t\t\t\t\tclassName={classes.btnLogo}\n\t\t\t\t\t/>\n\t\t\t\t\t{t('METAMASK')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.trezorBtn}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tclasses.btnLogo,\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* {t('TREZOR')} */}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default AuthSelect\n","export const styles = theme => {\n\treturn {\n\t\tactions: {\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tlimitedWidthBtn: {\n\t\t\twordBreak: 'break-word',\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tbtnLogo: {\n\t\t\theight: '2rem',\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tbtnLogoNoTxt: {\n\t\t\tmarginRight: 0,\n\t\t},\n\t\tmetamaskBtn: {\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\tcolor: theme.palette.common.black,\n\t\t},\n\t\ttrezorBtn: {\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\tcolor: theme.palette.common.black,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Hidden from '@material-ui/core/Hidden'\nimport Anchor from 'components/common/anchor/anchor'\nimport packageJson from './../../../package.json'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\nimport { t } from 'selectors'\nimport { Typography } from '@material-ui/core'\n\nexport default function ConnectHoc(Decorated) {\n\tfunction Connect({ classes, ...rest }) {\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Grid\n\t\t\t\t\tclassName={classes.container}\n\t\t\t\t\tcontainer\n\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t// spacing={2}\n\t\t\t\t>\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\n\t\t\t\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={2}>\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tp={2}\n\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('HELP')}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn withStyles(styles)(Connect)\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\taddrListItem: {\n\t\t\t'&:hover': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\taddrInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\tflexGrow: 1,\n\t\t\tpaddingTop: spacing,\n\t\t\twhiteSpace: 'normal',\n\t\t\t'& strong': {\n\t\t\t\tmarginRight: spacing * 2,\n\t\t\t},\n\t\t},\n\t\taddrInfoLabel: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tfontWeight: 'bold',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t},\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t\t// marginTop: spacing * 2,\n\t\t\t// position: 'absolute',\n\t\t\t// top: 70,\n\t\t\t// left: 0,\n\t\t\t// right: 0,\n\t\t\t// bottom: 0\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\ttabLogo: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: spacing * 4,\n\t\t\tmaxHeight: '100%',\n\t\t\twidth: 'auto',\n\t\t},\n\t\ttabLabel: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tdlBtnImg: {\n\t\t\tmaxWidth: '100%',\n\t\t\tmaxHeight: spacing * 9,\n\t\t\twidth: 'auto',\n\t\t\theight: 'auto',\n\t\t},\n\t\tleftBtnIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '-6vh',\n\t\t\tleft: 0,\n\t\t},\n\t\tlogo: {\n\t\t\twidth: '12.8vh',\n\t\t\theight: '5vh',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { List, ListItem, ListItemText } from '@material-ui/core'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { selectWalletAddress, execute } from 'actions'\n\nconst useStyles = makeStyles(styles)\n\nexport function AddrItem({ stats }) {\n\tconst { balanceEth, tokensBalances, address } = stats\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<ListItemText\n\t\t\tprimary={address}\n\t\t\tsecondary={\n\t\t\t\t<span className={classes.addrInfo}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<span> ETH </span>\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\n\t\t\t\t\t</span>\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<span> {symbol} </span>\n\t\t\t\t\t\t\t<strong> {balance} </strong>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</span>\n\t\t\t}\n\t\t/>\n\t)\n}\n\nexport const AddressSelect = ({\n\taddresses,\n\taddress,\n\twaitingAction,\n\tactionWaitingLabel,\n\tselectLabel,\n\tsignType,\n\tauthType,\n\thdWalletAddrPath,\n\tclasses,\n}) => {\n\treturn (\n\t\t<ContentBox>\n\t\t\t<ContentStickyTop>\n\t\t\t\t{waitingAction ? <TopLoading msg={actionWaitingLabel} /> : selectLabel}\n\t\t\t</ContentStickyTop>\n\t\t\t<ContentBody>\n\t\t\t\t<List>\n\t\t\t\t\t{addresses.map((addrData, hdWalletAddrIdx) => (\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\tkey={addrData.address}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tselectWalletAddress({\n\t\t\t\t\t\t\t\t\t\taddrData,\n\t\t\t\t\t\t\t\t\t\thdWalletAddrPath,\n\t\t\t\t\t\t\t\t\t\thdWalletAddrIdx,\n\t\t\t\t\t\t\t\t\t\tsignType,\n\t\t\t\t\t\t\t\t\t\tauthType,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tselected={address === addrData.address}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<AddrItem stats={addrData} address={addrData.address} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))}\n\t\t\t\t</List>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\nimport METAMASK_IMG from 'resources/metamask.png'\nimport Anchor from 'components/common/anchor/anchor'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport Box from '@material-ui/core/Box'\nimport { checkAuthMetamask, execute } from 'actions'\nimport { getEthereumProvider } from 'services/smart-contracts/ethers'\nimport { t, selectIdentity, selectSpinnerById } from 'selectors'\nimport { CHECKING_METAMASK_AUTH } from 'constants/spinners'\n\nconst useStyles = makeStyles(styles)\n\nfunction AuthMetamask() {\n\tconst classes = useStyles()\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\n\tconst { address } = wallet\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\n\tconst isOpera =\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\n\t\tfalse\n\t)\n\n\tconst waitingAddrsData = useSelector(state =>\n\t\tselectSpinnerById(state, CHECKING_METAMASK_AUTH)\n\t)\n\n\tuseEffect(() => {\n\t\tconst setEth = async () => {\n\t\t\tconst ethereumProvider = await getEthereumProvider()\n\t\t\tsetIsMetamaskEthereumProvider(\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\n\t\t\t)\n\t\t}\n\n\t\tsetEth()\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (installingMetamask) {\n\t\t\t// Refreshes page after user comes back\n\t\t\t// from installing Metamask\n\t\t\twindow.onfocus = () => {\n\t\t\t\twindow.location.reload()\n\t\t\t\tsetInstallingMetamask(false)\n\t\t\t}\n\t\t}\n\t}, [installingMetamask])\n\n\treturn (\n\t\t<ContentBox className={classes.tabBox}>\n\t\t\t{waitingAddrsData ? (\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<Typography variant='subtitle1'>{t('METAMASK_INFO')}</Typography>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\twidth={1}\n\t\t\t\t>\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t{t('METAMASK_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\tkey={'metamask-anchor'}\n\t\t\t\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\n\t\t\t\t\t\t\t\talt={'metamask logo'}\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{address ? (\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\n\t\t\t\t\t\t\t{stats ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Typography variant='subtitle1' color='primary'>\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => execute(checkAuthMetamask())}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : null}\n\t\t\t\t</Box>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AuthMetamask\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Anchor from 'components/common/anchor/anchor'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\nimport { AddressSelect } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\nimport {\n\tAUTH_WAITING_ADDRESS_DATA,\n\tAUTH_WAITING_TREZOR_ACTION,\n} from 'constants/spinners'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { t, selectIdentity, selectSpinnerById } from 'selectors'\nimport { connectTrezor, execute } from 'actions'\n\nconst useStyles = makeStyles(styles)\n\nfunction AuthTrezor() {\n\tconst classes = useStyles()\n\tconst { wallet = {}, addresses = [], hdWalletAddrPath } = useSelector(\n\t\tselectIdentity\n\t)\n\tconst { address } = wallet\n\n\tconst waitingTrezorAction = useSelector(state =>\n\t\tselectSpinnerById(state, AUTH_WAITING_TREZOR_ACTION)\n\t)\n\n\tconst waitingAddrsData = useSelector(state =>\n\t\tselectSpinnerById(state, AUTH_WAITING_ADDRESS_DATA)\n\t)\n\n\treturn addresses.length ? (\n\t\t<AddressSelect\n\t\t\twaitingAction={waitingTrezorAction}\n\t\t\tactionWaitingLabel={t('TREZOR_WAITING_ACTION')}\n\t\t\tselectLabel={t('SELECT_ADDR_TREZOR')}\n\t\t\taddress={address}\n\t\t\taddresses={addresses}\n\t\t\tsignType={AUTH_TYPES.TREZOR.signType}\n\t\t\tauthType={AUTH_TYPES.TREZOR.name}\n\t\t\thdWalletAddrPath={hdWalletAddrPath}\n\t\t\tclasses={classes}\n\t\t/>\n\t) : (\n\t\t<ContentBox className={classes.tabBox}>\n\t\t\t{waitingAddrsData ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : waitingTrezorAction ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : null}\n\n\t\t\t<ContentBody>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\twidth={1}\n\t\t\t\t>\n\t\t\t\t\t<Typography variant='subtitle1' gutterBottom>\n\t\t\t\t\t\t{t('TREZOR_INFO')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t{t('TREZOR_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\tkey='trezor-wallet'\n\t\t\t\t\t\t\t\t\thref='https://trezor.io/'\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tTREZOR Wallet\n\t\t\t\t\t\t\t\t</Anchor>,\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\tkey='trezor-bridge'\n\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tTREZOR Bridge\n\t\t\t\t\t\t\t\t</Anchor>,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\n\t\t\t\t\t\t\t\talt={'https://trezor.io'}\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{!waitingAddrsData && !waitingTrezorAction && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => execute(connectTrezor())}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AuthTrezor\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport { selectLocationQuery } from 'selectors'\nimport AuthMetamask from './AuthMetamask'\nimport AuthTrezor from './AuthTrezor'\n\nconst useStyles = makeStyles(theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t},\n\t}\n})\n\nfunction AuthMethod(props) {\n\tconst classes = useStyles()\n\tconst query = useSelector(selectLocationQuery)\n\tconst method = query['external']\n\n\treturn (\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\n\t\t\t\t{method === 'metamask' && <AuthMetamask {...props} />}\n\t\t\t\t{method === 'trezor' && <AuthTrezor {...props} />}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default AuthMethod\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport Dropdown from 'components/common/dropdown'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n\tselectKnowUsFromSource,\n} from 'selectors'\nimport { execute, updateIdentity } from 'actions'\n\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst knowFromSource = selectKnowUsFromSource()\n\nconst QuickInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\n\t]\n\n\t// Errors\n\tconst {\n\t\temail,\n\t\temailCheck,\n\t\tpassword,\n\t\tpasswordCheck,\n\t\ttosCheck,\n\t\tknowFrom,\n\t\tmoreInfo,\n\t} = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner || sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpassword && !!password.dirty\n\t\t\t\t\t\t\t\t\t\t? password.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='passwordCheck'\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tname='knowFrom'\n\t\t\t\t\t\t\t\tlabel={t('knowFrom', { isProp: true })}\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('knowFrom', val))}\n\t\t\t\t\t\t\t\tsource={knowFromSource}\n\t\t\t\t\t\t\t\tvalue={identity.knowFrom || ''}\n\t\t\t\t\t\t\t\thtmlId='timeframe-select'\n\t\t\t\t\t\t\t\terror={knowFrom && !!knowFrom.dirty}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tknowFrom && !!knowFrom.dirty\n\t\t\t\t\t\t\t\t\t\t? knowFrom.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('KNOW_FROM_CHECK_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{(identity.knowFrom === 'event' ||\n\t\t\t\t\t\t\tidentity.knowFrom === 'other') && (\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tlabel={t('moreInfo', { isProp: true })}\n\t\t\t\t\t\t\t\t\tname='moreInfo'\n\t\t\t\t\t\t\t\t\tvalue={identity.moreInfo || ''}\n\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('moreInfo', ev.target.value))\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={moreInfo && !!moreInfo.dirty}\n\t\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\tmoreInfo && !!moreInfo.dirty\n\t\t\t\t\t\t\t\t\t\t\t? moreInfo.errMsg\n\t\t\t\t\t\t\t\t\t\t\t: t('MORE_INFO_CHECK_RULES')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n\tselectKnowUsFromSource,\n} from 'selectors'\nimport Anchor from 'components/common/anchor/anchor'\nimport { execute, updateIdentity } from 'actions'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport Dropdown from 'components/common/dropdown'\nimport { CREATING_SESSION } from 'constants/spinners'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst knowFromSource = selectKnowUsFromSource()\n\nconst FulInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\tconst { wallet = {} } = identity\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\t// Errors\n\tconst {\n\t\temail,\n\t\temailCheck,\n\t\ttosCheck,\n\t\taccessWarningCheck,\n\t\tknowFrom,\n\t\tmoreInfo,\n\t} = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t{walletAddress}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tname='knowFrom'\n\t\t\t\t\t\t\t\tlabel={t('knowFrom', { isProp: true })}\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('knowFrom', val))}\n\t\t\t\t\t\t\t\tsource={knowFromSource}\n\t\t\t\t\t\t\t\tvalue={identity.knowFrom || ''}\n\t\t\t\t\t\t\t\thtmlId='timeframe-select'\n\t\t\t\t\t\t\t\terror={knowFrom && !!knowFrom.dirty}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tknowFrom && !!knowFrom.dirty\n\t\t\t\t\t\t\t\t\t\t? knowFrom.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('KNOW_FROM_CHECK_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{(identity.knowFrom === 'event' ||\n\t\t\t\t\t\t\tidentity.knowFrom === 'other') && (\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tlabel={t('moreInfo', { isProp: true })}\n\t\t\t\t\t\t\t\t\tname='moreInfo'\n\t\t\t\t\t\t\t\t\tvalue={identity.moreInfo || ''}\n\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('moreInfo', ev.target.value))\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={moreInfo && !!moreInfo.dirty}\n\t\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\tmoreInfo && !!moreInfo.dirty\n\t\t\t\t\t\t\t\t\t\t\t? moreInfo.errMsg\n\t\t\t\t\t\t\t\t\t\t\t: t('MORE_INFO_CHECK_RULES')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FulInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { execute, updateIdentity } from 'actions'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst QuickLogin = props => {\n\tconst { validateId } = props\n\n\tconst identity = useSelector(selectIdentity)\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\n\t]\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { wallet } = validations\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('QUICK_LOGIN_INFO', { args: [identity.email] })}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickLogin\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport { push } from 'connected-react-router'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\texecute,\n\tupdateIdentity,\n\townerIdentities as updateOwnerIdentities,\n} from 'actions'\nimport {\n\tselectSpinnerById,\n\tselectIdentity,\n\tt,\n\tselectSearchParams,\n\tselectRegistrationAllowed,\n} from 'selectors'\nimport Dropdown from 'components/common/dropdown'\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst getIdentitiesForDropdown = (ownerIdentities = []) =>\n\townerIdentities.map(id => {\n\t\treturn {\n\t\t\tvalue: id.identity + '-' + id.privLevel,\n\t\t\tlabel: id.ens\n\t\t\t\t? t('IDENTITY_OPTION_DATA_ENS', {\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.ens, id.identity],\n\t\t\t\t  })\n\t\t\t\t: t('IDENTITY_OPTION_DATA', {\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.identity],\n\t\t\t\t  }),\n\t\t}\n\t})\n\nfunction FullLogin(props) {\n\tconst identity = useSelector(selectIdentity)\n\tconst {\n\t\twalletAddr,\n\t\twallet = {},\n\t\townerIdentities,\n\t\tidentityContractAddress,\n\t} = identity\n\tconst walletAddress = wallet.address || walletAddr\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\n\t)\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\n\tconst searchParams = useSelector(selectSearchParams)\n\tsearchParams.set('step', '1')\n\n\tconst search = searchParams.toString()\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\n\tuseEffect(() => {\n\t\texecute(\n\t\t\tupdateOwnerIdentities({ owner: walletAddress, authType: wallet.authType })\n\t\t)\n\t\t// We need it just once on mount\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities)}\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{showRegistration && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FullLogin\n","import React from 'react'\nimport AuthMethod from './ownerAuth/AuthMethod'\nimport QuickInfo from './QuickInfo'\nimport FullInfo from './FullInfo'\nimport QuickLogin from './QuickLogin'\nimport FullLogin from './FullLogin'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport { push } from 'connected-react-router'\n\nimport {\n\texecute,\n\tvalidateQuickLogin,\n\tvalidateStandardLogin,\n\tvalidateQuickInfo,\n\tvalidateFullInfo,\n\tvalidateContractOwner,\n\tresetIdentity,\n} from 'actions'\n\nconst cancelFunction = () => {\n\texecute(resetIdentity())\n\texecute(push('/'))\n}\n\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\n\nconst common = {\n\tcancelFunction,\n\tvalidateIdBase: 'identity-',\n}\n\nexport const LoginStandardIdentity = props => {\n\treturn (\n\t\t<FormSteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-login'\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tcomponent: AuthMethod,\n\t\t\t\t\tvalidationFn: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\n\t\t\t\t\tcomponent: FullLogin,\n\t\t\t\t\tvalidationFn: finalValidationStandard,\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateStandardIdentity = props => {\n\treturn (\n\t\t<FormSteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-create'\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tcomponent: AuthMethod,\n\t\t\t\t\tvalidationFn: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'FULL_INFO',\n\t\t\t\t\tcomponent: FullInfo,\n\t\t\t\t\tvalidationFn: ({ validateId, dirty }) =>\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateQuickIdentity = props => (\n\t<FormSteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-create'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_INFO',\n\t\t\t\tcomponent: QuickInfo,\n\t\t\t\tvalidationFn: ({ validateId, dirty }) =>\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const LoginQuickIdentity = props => (\n\t<FormSteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-login'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_LOGIN',\n\t\t\t\tcomponent: QuickLogin,\n\t\t\t\tvalidationFn: finalValidationQuick,\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const DemoIdentity = props => (\n\t<FormSteps {...props} {...common} steps={[]} />\n)\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\n\t</g>,\n\n\t'AdexPublisher',\n\t'0 0 114 110'\n)\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\n\t</g>,\n\t'AdexAdvertiser',\n\t'0 0 109 94'\n)\n","import React, { Component } from 'react'\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport Translate from 'components/translate/Translate'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst SideBox = ({\n\tsalePoints = [],\n\tlinkTitle,\n\ticon,\n\ttitle,\n\tdisabled,\n\tclasses,\n\t...other\n}) => (\n\t<div\n\t\t{...other}\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\n\t>\n\t\t<div className={classes.icon}>{icon}</div>\n\t\t<h2>{title}</h2>\n\t\t<ul className={classes.salePoints}>\n\t\t\t{salePoints.map(function(point, key) {\n\t\t\t\treturn <li key={key}> {point} </li>\n\t\t\t})}\n\t\t</ul>\n\t</div>\n)\n\nconst RRSideBox = withReactRouterLink(SideBox)\n\nclass SideSelect extends Component {\n\trender() {\n\t\tlet { t, classes } = this.props\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={true}\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\n\t\t\t\tBackdropProps={{\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\troot: classes.backdrop,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tfullWidth\n\t\t\t\tmaxWidth='sm'\n\t\t\t>\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<AdvertiserLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/advertiser'\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<PublisherLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/publisher'\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n\nexport default Translate(withStyles(styles)(SideSelect))\n","export const styles = () => {\n\treturn {\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tsideBox: {\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\theight: 'auto',\n\t\t\ttextAlign: 'center',\n\t\t\tverticalAlign: 'top',\n\t\t\topacity: 0.7,\n\t\t\t'&:hover:not(.disabled)': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t\topacity: 1,\n\t\t\t},\n\t\t\t'&.disabled': {\n\t\t\t\topacity: 0.3,\n\t\t\t},\n\t\t\t'@media(max-width:425px)': {\n\t\t\t\twidth: '100%',\n\t\t\t},\n\t\t},\n\t\ticon: {\n\t\t\twidth: 110,\n\t\t\theight: 110,\n\t\t\tmargin: 'auto',\n\t\t},\n\t\tsalePoints: {\n\t\t\tpadding: 0,\n\t\t\t'& li': {\n\t\t\t\tdisplay: 'block',\n\t\t\t\tlistStyle: 'none',\n\t\t\t},\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Logo from 'components/common/icons/AdexIconTxt'\nimport Typography from '@material-ui/core/Typography'\nimport Anchor from 'components/common/anchor/anchor'\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\ttextAlign: 'center',\n\t},\n\tvitalik: {\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\n\t\tbackgroundPosition: 'center',\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundSize: 'contain',\n\t},\n\tcontainer: {\n\t\tmaxWidth: theme.breakpoints.values.md,\n\t\tmargin: 'auto',\n\t},\n\tlogo: {\n\t\theight: '5rem',\n\t\twidth: '100%',\n\t},\n}))\n\nexport default function Home({ t, ...rest }) {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box\n\t\t\twidth={1}\n\t\t\theight={1}\n\t\t\tclassName={classes.root}\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='center'\n\t\t\tjustifyContent='center'\n\t\t>\n\t\t\t<Box\n\t\t\t\tclassName={classes.container}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='row'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='space-evenly'\n\t\t\t\tflexWrap='wrap'\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box\n\t\t\t\tflexGrow={1}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='column'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='center'\n\t\t\t\tmaxWidth='md'\n\t\t\t\tclassName={classes.container}\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Logo className={classes.logo} />\n\t\t\t\t</Box>\n\n\t\t\t\t{/* <Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={1}>\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t{/* <Box p={1}>\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box\n\t\t\t\t\theight='30%'\n\t\t\t\t\tposition='relative'\n\t\t\t\t\tclassName={classes.vitalik}\n\t\t\t\t\talignSelf='stretch'\n\t\t\t\t></Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport { styles } from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport default function DialogHoc(Decorated) {\n\tfunction JustDialog({ ...rest }) {\n\t\tconst classes = useStyles()\n\n\t\treturn (\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\n\t\t\t\t<DialogContent classes={{ root: classes.content }}>\n\t\t\t\t\t<Decorated {...rest} />\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\treturn JustDialog\n}\n","import React, { useEffect } from 'react'\nimport { HashRouter as Router } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport {\n\tmetamaskChecks,\n\tmetamaskNetworkCheck,\n\tgetRelayerConfig,\n\texecute,\n\tensureQuickWalletBackup,\n\tupdateRegistrationAllowed,\n\tupdateEasterEggsAllowed,\n\thandleRedirectParams,\n\thandleSignupLink,\n} from 'actions'\nimport { Route, Switch, Redirect } from 'react-router'\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\nimport ConnectHoc from 'components/signin/ConnectHoc'\nimport {\n\tCreateQuickIdentity,\n\tLoginStandardIdentity,\n\tCreateStandardIdentity,\n\tLoginQuickIdentity,\n} from 'components/signin/identity/Identity'\nimport SideSelect from 'components/signin/side-select/SideSelect'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport Home from 'components/signin/Home'\nimport JustDialog from 'components/common/dialog/JustDialog'\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\nimport Translate from 'components/translate/Translate'\nimport { selectAuth, selectWallet, selectLocation } from 'selectors'\nimport { getMetamaskEthereum } from 'services/smart-contracts/ethers'\n\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\nconst ConnectedLoginStandardIdentity = ConnectHoc(\n\tJustDialog(LoginStandardIdentity)\n)\nconst ConnectedCreateStandardIdentity = ConnectHoc(\n\tJustDialog(CreateStandardIdentity)\n)\nconst ConnectedRoot = ConnectHoc(Home)\n\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...other}\n\t\t\trender={props =>\n\t\t\t\tauth === true ? ( //|| true\n\t\t\t\t\t<Component {...props} />\n\t\t\t\t) : (\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t)\n}\n\nconst handleLegacyWallet = async wallet => {\n\tconst { type, email, password, authType } = wallet || {}\n\n\tif (!type && email && password && authType === 'grant') {\n\t\tawait migrateLegacyWallet({ email, password })\n\t\tawait removeLegacyKey({ email, password })\n\t}\n\n\tif (email && password && authType) {\n\t\texecute(ensureQuickWalletBackup())\n\t}\n}\n\nconst Root = () => {\n\tconst auth = useSelector(selectAuth)\n\tconst wallet = useSelector(selectWallet)\n\tconst location = useSelector(selectLocation)\n\n\tuseEffect(() => {\n\t\t;(async function checkMetamask() {\n\t\t\tawait getMetamaskEthereum()\n\t\t\texecute(metamaskChecks())\n\t\t})()\n\n\t\texecute(getRelayerConfig())\n\t\texecute(handleRedirectParams(location.search))\n\t\texecute(handleSignupLink(location.search))\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tuseEffect(() => {\n\t\thandleLegacyWallet(wallet)\n\t}, [wallet])\n\n\tuseEffect(() => {\n\t\texecute(metamaskNetworkCheck())\n\t\texecute(updateRegistrationAllowed(location.search))\n\t\texecute(updateEasterEggsAllowed(location.search))\n\t}, [location])\n\n\treturn (\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<PrivateRoute\n\t\t\t\t\tauth={auth}\n\t\t\t\t\tpath='/dashboard/:side'\n\t\t\t\t\tcomponent={Dashboard}\n\t\t\t\t/>\n\t\t\t\t<PrivateRoute auth={auth} path='/side-select' component={SideSelect} />\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/quick'\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/login/full'\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/full'\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\n\t\t\t\t<Route>\n\t\t\t\t\t<PageNotFound />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t)\n}\n\nexport default Translate(Root)\n","import React, { Component } from 'react'\nimport 'react-image-crop/dist/ReactCrop.css'\nimport './App.css'\nimport { Provider } from 'react-redux'\nimport { persistor, store } from 'store'\nimport history from 'store/history'\nimport { ConnectedRouter } from 'connected-react-router'\nimport Toast from 'components/toast/Toast'\nimport Confirm from 'components/confirm/Confirm'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport Root from './Root'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport { themeMUI } from './themeMUi'\nimport { DateUtils } from 'helpers/dateUtils'\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport CacheBuster from './CacheBuster'\n\n// console.log('initial store', store.getState())\n\nconst onBeforeLift = () => {\n\t// take some action before the gate lifts\n}\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\n\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t<MuiPickersUtilsProvider utils={DateUtils}>\n\t\t\t\t\t\t<Provider store={store}>\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\n\t\t\t\t\t\t\t\t\t<CacheBuster>\n\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\n\t\t\t\t\t\t\t\t\t\t\t<Root />\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</CacheBuster>\n\t\t\t\t\t\t\t\t</ConnectedRouter>\n\t\t\t\t\t\t\t</PersistGate>\n\t\t\t\t\t\t</Provider>\n\t\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n)\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error)\n\t\t})\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type')\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t)\n\t\t})\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister()\n\t\t})\n\t}\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App/App'\nimport { unregister } from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\nunregister()\n","export const ADD_ITEM = 'ADD_ITEM'\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\nexport const DELETE_ITEM = 'DELETE_ITEM'\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\nexport const UPDATE_GLOBAL_UI = 'UPDATE_GLOBAL_UI'\nexport const UPDATE_UI_BY_IDENTITY = 'UPDATE_UI_BY_IDENTITY'\nexport const UPDATE_UI_BY_IDENTITY_AND_SIDE = 'UPDATE_UI_BY_IDENTITY_AND_SIDE'\nexport const UPDATE_MEMORY_UI = 'UPDATE_MEMORY_UI'\nexport const ADD_TOAST = 'ADD_TOAST'\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\nexport const UPDATE_NAV = 'UPDATE_NAV'\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\nexport const UNIT_PLACE_BID = 'PLACE_BID'\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\nexport const RESET_ALL_NEW_TRANSACTIONS = 'RESET_ALL_NEW_TRANSACTIONS'\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\nexport const RESET_WALLET = 'RESET_WALLET'\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\nexport const UPDATE_ADVANCED_ANALYTICS = 'UPDATE_ADVANCED_ANALYTICS'\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\nexport const UPDATE_CHANNELS_WITH_BALANCE_ALL =\n\t'UPDATE_CHANNELS_WITH_BALANCE_ALL'\nexport const RESET_CHANNELS_WITH_BALANCE_ALL = 'RESET_CHANNELS_WITH_BALANCE_ALL'\nexport const UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE =\n\t'UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE'\nexport const RESET_CHANNELS_WITH_OUTSTANDING_BALANCE =\n\t'RESET_CHANNELS_WITH_OUTSTANDING_BALANCE'\nexport const UPDATE_DEMAND_ANALYTICS = 'UPDATE_DEMAND_ANALYTICS'\nexport const UPDATE_SELECTED_ITEMS = 'UPDATE_SELECTED_ITEMS'\nexport const UPDATE_RESOLVE_ENS_ADDRESS = 'UPDATE_RESOLVE_ENS_ADDRESS'\nexport const UPDATE_ANALYTICS_PERIOD = 'UPDATE_ANALYTICS_PERIOD'\nexport const UPDATE_PUBLISHER_RECEIPTS = 'UPDATE_PUBLISHER_RECEIPTS'\nexport const RESET_SELECTED_ITEMS = 'RESET_SELECTED_ITEMS'\nexport const UPDATE_ANALYTICS_LAST_CHECKED = 'UPDATE_ANALYTICS_LAST_CHECKED'\nexport const UPDATE_TARGETING_ANALYTICS = 'UPDATE_TARGETING_ANALYTICS'\n","import {\n\tgetState,\n\texecute,\n\tresetAllNewItems,\n\tresetAllItems,\n\tresetAllBids,\n\tresetIdentity,\n\tresetAccount,\n\tresetAnalytics,\n\tresetChannelsWithBalanceAll,\n\tresetChannelsWithOutstandingBalance,\n\tresetAllNewTransaction,\n\tupdateMemoryUi,\n} from 'actions'\n\nimport { campaignsLoop } from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport { advancedAnalyticsLoop } from 'services/store-data/analytics'\n\nimport { push } from 'connected-react-router'\n\nexport const logOut = skipRedirect => {\n\texecute(updateMemoryUi('initialDataLoaded', false))\n\texecute(resetAccount())\n\tadvancedAnalyticsLoop.stop()\n\tcampaignsLoop.stop()\n\tstatsLoop.stop()\n\tif (!skipRedirect) {\n\t\texecute(push('/'))\n\t}\n\texecute(resetIdentity())\n\texecute(resetAllItems())\n\texecute(resetAllNewItems())\n\texecute(resetAllBids())\n\texecute(resetAnalytics())\n\texecute(resetChannelsWithBalanceAll())\n\texecute(resetChannelsWithOutstandingBalance())\n\texecute(resetAllNewTransaction())\n}\n\nexport const isDemoMode = () => {\n\treturn getState().persist.account._authType === 'demo'\n}\n\nexport const getAccount = () => {\n\treturn getState().persist.account\n}\n","const MAX_ASPECT_TOLERANCE = 5\n\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\n\nconst getVideoSize = src =>\n\tnew Promise(resolve => {\n\t\tconst video = document.createElement('video')\n\t\tvideo.src = src\n\n\t\tvideo.onloadedmetadata = ({ target }) => {\n\t\t\treturn resolve({\n\t\t\t\twidth: target.videoWidth,\n\t\t\t\theight: target.videoHeight,\n\t\t\t})\n\t\t}\n\t})\n\nconst getImageSize = src =>\n\tnew Promise(resolve => {\n\t\tconst image = new Image()\n\t\timage.src = src\n\t\timage.onload = function() {\n\t\t\treturn resolve({\n\t\t\t\twidth: this.width,\n\t\t\t\theight: this.height,\n\t\t\t})\n\t\t}\n\t})\n\nexport const getMediaSize = ({ mime, src }) =>\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\n\nexport const checkExactishAspect = (\n\twidthTarget,\n\twidth,\n\theightTarget,\n\theight,\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\n) => {\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\n\t\treturn false\n\t}\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\n\tconst aspect = parseFloat(width / height)\n\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\n\n\tconst isValid =\n\t\twidthTarget <= width &&\n\t\theightTarget <= height &&\n\t\taspectDiff <= maxPercentTolerance\n\n\treturn isValid\n}\n","import Identity from './build/Identity.json'\nimport AdExCore from './build/AdExCore.json'\nimport Dai from './build/Dai.json'\nimport IdentityFactory from './build/IdentityFactory.json'\nimport AdExENSManager from './abi/AdExENSManager.json'\nimport ReverseRegistrar from './abi/ReverseRegistrar.json'\nimport ERC20 from './abi/ERC20Token.json'\n\nexport const contracts = {\n\tIdentity: {\n\t\tabi: Identity.abi,\n\t},\n\tAdExENSManager: {\n\t\taddress: process.env.ADEX_ENS_ADDR,\n\t\tpublicResolver: process.env.REVERSE_REGISTRAR_PUBLIC_RESOLVER,\n\t\tabi: AdExENSManager,\n\t},\n\tReverseRegistrar: {\n\t\taddress: process.env.REVERSE_REGISTRAR_ADDR,\n\t\tparentDomain: process.env.REVERSE_REGISTRAR_PARENT,\n\t\tabi: ReverseRegistrar,\n\t},\n\tAdExCore: {\n\t\taddress: process.env.ADEX_CORE_ADDR,\n\t\tabi: AdExCore.abi,\n\t},\n\tDAI: {\n\t\taddress: process.env.DAI_TOKEN_ADDR,\n\t\tabi: Dai.abi,\n\t\tdecimals: 18,\n\t},\n\tIdentityFactory: {\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\n\t\tabi: IdentityFactory.abi,\n\t},\n\tERC20: {\n\t\tabi: ERC20,\n\t},\n}\n","import { formatUnits, commify } from 'ethers/utils'\nimport MomentUtils from '@date-io/moment'\nconst moment = new MomentUtils()\n//TODO: use dateUtils\n\nexport const DEFAULT_DATETIME_FORMAT = 'YYYY-MM-DD HH:mm'\nexport const DEFAULT_DATE_FORMAT = 'YYYY-MM-DD'\n\nexport const formatDateTime = (\n\ttimestamp,\n\tformat = DEFAULT_DATETIME_FORMAT,\n\tnoDateLabel = 'no date'\n) => {\n\tif (!timestamp) {\n\t\treturn noDateLabel\n\t}\n\tconst date = moment.date(timestamp)\n\treturn date.format(format)\n}\n\nexport const formatDate = (\n\ttimestamp,\n\tformat = DEFAULT_DATE_FORMAT,\n\tnoDateLabel = 'no date'\n) => {\n\tif (!timestamp) {\n\t\treturn noDateLabel\n\t}\n\tconst date = moment.date(timestamp)\n\treturn date.format(format)\n}\n\nexport const formatTokenAmount = (\n\tamountString = '0',\n\tdecimals = 18,\n\tpretty,\n\ttoFixed\n) => {\n\tconst formatted = formatUnits(amountString, decimals)\n\tif (pretty) {\n\t\treturn commify(formatted)\n\t} else if (typeof toFixed === 'number') {\n\t\t// We want truncated not rounded\n\t\treturn parseFloat(formatted)\n\t\t\t.toFixed(toFixed + 4)\n\t\t\t.slice(0, -4)\n\t} else {\n\t\treturn formatted\n\t}\n}\n\nexport const formatAddress = (address = '', joinSymbol = '...') => {\n\treturn `${address.substring(0, 8)}${joinSymbol}${address.substring(36, 42)}`\n}\n\nexport const formatNumberWithCommas = x => {\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n}\n\nexport const formatFloatNumberWithCommas = x => {\n\tconst parts = x.toString().split('.')\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n\treturn parts.join('.')\n}\n\nexport const formatNumberWithoutCommas = x => {\n\treturn x\n\t\t.toString()\n\t\t.split(',')\n\t\t.join('')\n}\n\nexport const formatAbbrNum = (number, decPlaces) => {\n\t// 2 decimal places => 100, 3 => 1000, etc\n\tdecPlaces = Math.pow(10, decPlaces)\n\n\t// Enumerate number abbreviations\n\tvar abbrev = ['k', 'm', 'b', 't']\n\n\t// Go through the array backwards, so we do the largest first\n\tfor (var i = abbrev.length - 1; i >= 0; i--) {\n\t\t// Convert array index to \"1000\", \"1000000\", etc\n\t\tvar size = Math.pow(10, (i + 1) * 3)\n\n\t\t// If the number is bigger or equal do the abbreviation\n\t\tif (size <= number) {\n\t\t\t// Here, we multiply by decPlaces, round, and then divide by decPlaces.\n\t\t\t// This gives us nice rounding to a particular decimal place.\n\t\t\tnumber = Math.round((number * decPlaces) / size) / decPlaces\n\n\t\t\t// Handle special case where we round up to the next abbreviation\n\t\t\tif (number === 1000 && i < abbrev.length - 1) {\n\t\t\t\tnumber = 1\n\t\t\t\ti++\n\t\t\t}\n\n\t\t\t// Add the letter for the abbreviation\n\t\t\tnumber += abbrev[i]\n\n\t\t\t// We are done... stop\n\t\t\tbreak\n\t\t}\n\t}\n\n\treturn number\n}\n\nexport const truncateString = (string, maxLength = 50) => {\n\tif (!string) return ''\n\tif (string.length <= maxLength) return string\n\treturn `${string.substring(0, maxLength).trim()}...`\n}\n","import { items as ItemsConstants } from 'adex-constants'\n\nconst { ItemsTypes, AdTypesByValue, AdSizesByValue } = ItemsConstants\n\nexport const sortCollections = items => {\n\tlet collections = {\n\t\tcampaigns: [],\n\t\tadUnits: [],\n\t\tchannels: [],\n\t\tadSlots: [],\n\t}\n\n\tfor (let i = 0; i < items.length; i++) {\n\t\tlet item = items[i]\n\t\tif (item._type === ItemsTypes.Campaign) collections.campaigns.push(item)\n\t\tif (item._type === ItemsTypes.AdUnit) collections.adUnits.push(item)\n\t\tif (item._type === ItemsTypes.Channel) collections.channel.push(item)\n\t\tif (item._type === ItemsTypes.AdSlot) collections.adSlots.push(item)\n\t}\n\n\treturn collections\n}\n\nexport const cloneObject = obj => {\n\treturn Object.assign(Object.create(obj), obj)\n}\n\nexport const getTypeName = id => {\n\tfor (var key in ItemsTypes) {\n\t\tif (ItemsTypes.hasOwnProperty(key)) {\n\t\t\tif (ItemsTypes[key].id === id) {\n\t\t\t\treturn ItemsTypes[key].name\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport const groupItemsForCollection = ({ collectionId, allItems = {} }) => {\n\tlet grouped = Object.values(allItems).reduce(\n\t\t(memo, item, index) => {\n\t\t\tif (item._items.indexOf(collectionId) > -1) {\n\t\t\t\tmemo.items.push(item)\n\t\t\t} else {\n\t\t\t\tmemo.otherItems.push(item)\n\t\t\t}\n\n\t\t\treturn memo\n\t\t},\n\t\t{ items: [], otherItems: [] }\n\t)\n\n\treturn grouped\n}\n\nexport const itemAdTypeLabel = ({ adType }) => {\n\treturn (AdTypesByValue[adType] || {}).label\n}\n\nexport const itemAdSizeLabel = ({ size, t }) => {\n\tconst adSize = AdSizesByValue[size] || {}\n\treturn t(adSize.label, { args: adSize.labelArgs || [] })\n}\n\nexport const getWidAndHightFromType = type => {\n\ttype = type || 'legacy_300x250'\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n","export default class Looper {\n\tconstructor({ timeout, syncAction, loopName = '', stopOn }) {\n\t\tif (!timeout) {\n\t\t\tthrow new Error('LOOPER timeout prop is required')\n\t\t}\n\n\t\tif (typeof syncAction !== 'function') {\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\n\t\t}\n\n\t\tthis.loopTimeout = null\n\t\tthis.timeout = timeout\n\t\tthis.syncAction = syncAction\n\t\tthis.loopName = loopName\n\t\tthis.stopOn = stopOn\n\t}\n\n\tclearLoopTimeout = () => {\n\t\tif (this.loopTimeout) {\n\t\t\tclearTimeout(this.loopTimeout)\n\t\t\tthis.loopTimeout = null\n\t\t}\n\t}\n\n\tsyncData = async opts => {\n\t\tthis.makeStopCheck()\n\t\tawait this.syncAction()\n\t\tthis.makeStopCheck()\n\t}\n\n\tstartLoop = async opts => {\n\t\ttry {\n\t\t\tawait this.syncData(opts)\n\t\t\tthis.checkLoop()\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\n\t\t\tthis.checkLoop()\n\t\t}\n\t}\n\n\tcheckLoop = () => {\n\t\tthis.clearLoopTimeout()\n\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\n\t}\n\n\tmakeStopCheck = () => {\n\t\tif (typeof this.stopOn === 'function' && this.stopOn()) {\n\t\t\tthis.stop()\n\t\t}\n\t}\n\n\tstart = async onSync => {\n\t\tthis.clearLoopTimeout()\n\t\tawait this.startLoop()\n\t\tthis.makeStopCheck()\n\t\tif (typeof onSync === 'function') {\n\t\t\tonSync()\n\t\t}\n\t}\n\n\tstop = () => {\n\t\tthis.clearLoopTimeout()\n\t}\n}\n","import Loop from './loop'\nimport {\n\texecute,\n\tupdateAccountAnalytics,\n\tupdateAccountAdvancedAnalytics,\n} from 'actions'\nimport { getState } from 'store'\nimport { selectAuth } from 'selectors'\n\nconst LOOP_TIMEOUT = 60 * 1000\n\nconst analyticsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () =>\n\t\tselectAuth(getState()) && (await execute(updateAccountAnalytics())),\n\tloopName: '_ANALYTICS',\n\tstopOn: () => !selectAuth(getState()),\n})\n\nconst analyticsLoopCustom = ({ timeout, syncAction, stopOn }) =>\n\tnew Loop({\n\t\ttimeout: timeout,\n\t\tsyncAction: async () => syncAction(),\n\t\tloopName: '_ANALYTICS_CUSTOM',\n\t\tstopOn: () => !selectAuth(getState()) || stopOn,\n\t})\n\nconst advancedAnalyticsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () =>\n\t\tselectAuth(getState()) && (await execute(updateAccountAdvancedAnalytics())),\n\tloopName: '_ANALYTICS_CAMPAIGNS_ADVANCED',\n\tstopOn: () => !selectAuth(getState()),\n})\n\nexport { analyticsLoop, advancedAnalyticsLoop, analyticsLoopCustom }\n","import MomentUtils from '@date-io/moment'\r\nimport moment from 'moment'\r\nimport 'moment/min/locales'\r\n\r\n// We can't use the new version of @date-io/moment or @date-io/date-fns\r\n// because the datepickers will crash, but we need some more functionality\r\n// as adding hours and start / end of weeks. This is why I have created an\r\n// extention class. We use this as MuiPickersUtilsProvider as well\r\nexport class DateUtils extends MomentUtils {\r\n\tstartOfWeek(date) {\r\n\t\treturn date.clone().startOf('week')\r\n\t}\r\n\r\n\tendOfWeek(date) {\r\n\t\treturn date.clone().endOf('week')\r\n\t}\r\n\r\n\tisWithinInterval(date, { start, end }) {\r\n\t\treturn date.clone().isBetween(start, end, null, '[]')\r\n\t}\r\n\r\n\tadd(date, ammount, unit) {\r\n\t\treturn date.add(ammount, unit)\r\n\t}\r\n\r\n\taddHours(date, hours) {\r\n\t\treturn date.clone().add(hours, 'hour')\r\n\t}\r\n\r\n\tstartOf(date, period) {\r\n\t\treturn date.clone().startOf(period)\r\n\t}\r\n\r\n\tendOf(date, period) {\r\n\t\treturn date.clone().endOf(period)\r\n\t}\r\n\r\n\taddWeeks(date, weeks) {\r\n\t\treturn date.clone().add(weeks, 'week')\r\n\t}\r\n\r\n\tgetUTCOffset(date = this.moment()) {\r\n\t\treturn this.moment(date).utcOffset() / 60\r\n\t}\r\n\r\n\tgetUnix(date) {\r\n\t\treturn date.unix()\r\n\t}\r\n\tgetLocaleDate(locale) {\r\n\t\treturn this.moment.localeData(locale)\r\n\t}\r\n\r\n\tupdateLocale({ locale = 'en', dow, doy }) {\r\n\t\tconst defaultLocaleData = this.getLocaleDate(locale)\r\n\t\tthis.moment.updateLocale(locale, {\r\n\t\t\tweek: {\r\n\t\t\t\tdow: dow || defaultLocaleData.firstDayOfWeek(),\r\n\t\t\t\tdoy: doy || defaultLocaleData.firstDayOfYear(),\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tgetNearestSixHoursUTC(hoursToRound, date) {\r\n\t\tconst now = dateUtils.date(date)\r\n\t\tconst hoursMulti = Math.floor(dateUtils.getHours(now) / hoursToRound)\r\n\t\tconst nearestSix = dateUtils.setHours(\r\n\t\t\tnow,\r\n\t\t\thoursMulti * hoursToRound + dateUtils.getUTCOffset(now)\r\n\t\t)\r\n\t\treturn dateUtils.setMinutes(dateUtils.setSeconds(nearestSix, 0), 0)\r\n\t}\r\n}\r\n\r\nexport function makeJSDateObject(date) {\r\n\tif (moment.isMoment(date)) {\r\n\t\treturn date.clone()\r\n\t}\r\n\r\n\tif (date instanceof Date) {\r\n\t\treturn new Date(date.getTime())\r\n\t}\r\n\r\n\treturn date\r\n}\r\n\r\nconst dateUtils = new DateUtils()\r\ndateUtils.updateLocale({\r\n\tdow: dateUtils\r\n\t\t.getLocaleDate(window.navigator.language.toLowerCase())\r\n\t\t.firstDayOfWeek(),\r\n})\r\n\r\nexport default dateUtils\r\n","import dateUtils from 'helpers/dateUtils'\nimport { t } from 'selectors'\n\nconst SECOND = 1000\nconst MINUTE = 60 * SECOND\nconst HOUR = 60 * MINUTE\nconst DAY = 24 * HOUR\nconst WEEK = 7 * DAY\nconst MONTH = 30 * DAY\nconst YEAR = 365 * DAY\n\nexport const fillEmptyTime = (\n\tprevAggr,\n\ttimeframe,\n\tdefaultValue = 0,\n\tfillAfterLast = 0,\n\tperiod\n) => {\n\tconst now = Date.now()\n\tconst time = {\n\t\tinterval: period,\n\t\tstep: { ammount: 1, unit: 'minute' },\n\t}\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\t\ttime.step = { ammount: 1, unit: 'minute' }\n\t\t\tbreak\n\t\tcase 'day':\n\t\t\ttime.step = { ammount: 1, unit: 'hour' }\n\t\t\tbreak\n\t\tcase 'week':\n\t\t\ttime.step = { ammount: 6, unit: 'hour' }\n\t\t\tbreak\n\t\tdefault:\n\t\t\treturn prevAggr\n\t}\n\tconst newAggr = []\n\n\tfor (\n\t\tvar m = dateUtils.date(time.interval.start);\n\t\tdateUtils.getDiff(m, time.interval.end) <= 0;\n\t\tdateUtils.add(m, time.step.ammount, time.step.unit)\n\t) {\n\t\tnewAggr.push({ value: defaultValue, time: dateUtils.getUnix(m) * 1000 })\n\t}\n\n\tconst prevAggrInInterval = prevAggr\n\t\t.filter(a => {\n\t\t\tconst m = dateUtils.date(a.time)\n\t\t\treturn (\n\t\t\t\tdateUtils.getDiff(m, time.interval.start) >= 0 &&\n\t\t\t\tdateUtils.getDiff(m, time.interval.end) <= 0\n\t\t\t)\n\t\t})\n\t\t.sort((a, b) => b.time - a.time)\n\n\tconst lastWithValueTime = (prevAggrInInterval[0] || {}).time || now\n\n\tconst data = [...prevAggrInInterval, ...newAggr].reduce((data, a) => {\n\t\tconst newData = { ...data }\n\t\tconst isNullValue = a.value === null || data[a.time] === null\n\t\tconst value =\n\t\t\ta.time <= lastWithValueTime\n\t\t\t\t? isNullValue\n\t\t\t\t\t? null\n\t\t\t\t\t: data[a.time] || a.value || defaultValue\n\t\t\t\t: fillAfterLast\n\n\t\tnewData[a.time] = a.time <= now ? value : null\n\n\t\treturn newData\n\t}, {})\n\n\tconst result = Object.entries(data)\n\t\t.map(([key, value]) => ({\n\t\t\tvalue,\n\t\t\ttime: +key,\n\t\t}))\n\t\t.sort((a, b) => a.time - b.time)\n\n\treturn result\n}\n\nexport const DATETIME_EXPORT_FORMAT = 'YYYY-MM-DD HH:mm:ss'\n\nexport const getTimePeriods = ({ timeframe, start }) => {\n\tlet end = null\n\tconst startCopy = start\n\tconst startOfWeek = dateUtils.date(startCopy).startOf('week')\n\tconst endOfWeek = dateUtils.date(startCopy).endOf('week')\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\t\tstart = +dateUtils.date(startCopy).startOf('hour')\n\t\t\tend = +dateUtils.date(startCopy).endOf('hour')\n\t\t\tbreak\n\t\tcase 'day':\n\t\t\tstart = +dateUtils.date(startCopy).startOf('day')\n\t\t\tend = +dateUtils.date(startCopy).endOf('day')\n\t\t\tbreak\n\t\tcase 'week':\n\t\t\tstart = +dateUtils.addHours(\n\t\t\t\tstartOfWeek,\n\t\t\t\tdateUtils.getUTCOffset(startOfWeek)\n\t\t\t)\n\t\t\tend = +dateUtils.addHours(endOfWeek, dateUtils.getUTCOffset(endOfWeek))\n\t\t\tbreak\n\t\tdefault:\n\t\t\tbreak\n\t}\n\n\tstart = +start\n\n\treturn { start, end }\n}\n\nexport const getBorderPeriodStart = ({ timeframe, start, next = false }) => {\n\tconst startCopy = start\n\tconst direction = next ? 1 : -1\n\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\t\tstart = +dateUtils.addHours(dateUtils.date(start), direction)\n\t\t\tbreak\n\t\tcase 'day':\n\t\t\tstart = +dateUtils.addDays(dateUtils.date(start), direction)\n\t\t\tbreak\n\t\tcase 'week':\n\t\t\tstart = +dateUtils.addWeeks(dateUtils.date(start), direction)\n\t\t\tbreak\n\t\tdefault:\n\t\t\tstart = +dateUtils.addDays(dateUtils.date(start), direction)\n\t\t\tbreak\n\t}\n\tif (dateUtils.isAfter(dateUtils.date(start), dateUtils.date())) {\n\t\tstart = startCopy\n\t}\n\n\treturn start\n}\n\nconst TIME_INTERVALS = [\n\t{ label: 'YEAR', ms: YEAR },\n\t{ label: 'MONTH', ms: MONTH },\n\t{ label: 'WEEK', ms: WEEK },\n\t{ label: 'DAY', ms: DAY },\n\t{ label: 'HOUR', ms: HOUR },\n\t{ label: 'MINUTE', ms: MINUTE },\n\t{ label: 'SECOND', ms: SECOND },\n]\n\nexport const timeAgo = (time, since = Date.now()) => {\n\tconst ms = Math.floor(since - time)\n\tconst interval = TIME_INTERVALS.find(i => i.ms < ms)\n\tif (!interval) {\n\t\treturn t('JUST_NOW')\n\t}\n\n\tconst intervalTimes = Math.floor(ms / interval.ms)\n\treturn t('TIME_AGO', {\n\t\targs: [intervalTimes, interval.label + (intervalTimes > 1 ? 'S' : '')],\n\t})\n}\n","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\n\nlet initialState = {\n\taccount: new Account(),\n\tsignin: {\n\t\tname: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\tpassConfirm: '',\n\t\tseed: '',\n\t\tpublicKey: '',\n\t\tseedCheck: [],\n\t\tauthenticated: false,\n\t},\n\tnewItem: {\n\t\tCampaign: new Campaign({\n\t\t\taudienceInput: { version: '1', inputs: {} },\n\t\t\ttemp: { useUtmTags: true, useUtmSrcWithPub: true },\n\t\t}).plainObj(),\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\n\t\tAdSlot: new AdSlot({\n\t\t\trulesInput: { version: '1', inputs: { autoSetMinCPM: false } },\n\t\t}).plainObj(),\n\t},\n\tcurrentItem: {},\n\tselectedItems: {\n\t\tcampaigns: [],\n\t\tadUnits: [],\n\t\tslots: [],\n\t},\n\titems: {\n\t\tCampaign: {},\n\t\tAdUnit: {},\n\t\tAdSlot: {},\n\t\tWebsite: {},\n\t\tAudience: {},\n\t},\n\tspinners: {},\n\tui: {\n\t\tglobal: {},\n\t\tbyIdentity: {},\n\t},\n\tuiMemory: {},\n\ttoasts: [],\n\tconfirm: {\n\t\tdata: {},\n\t},\n\tnav: {\n\t\tside: '',\n\t},\n\tlanguage: 'en-US',\n\tvalidations: {},\n\tnewTransactions: {\n\t\tdefault: {},\n\t},\n\tweb3Transactions: {},\n\ttargeting: {\n\t\ttargetingData: [],\n\t\tminByCategory: {},\n\t\tcountryTiersCoefficients: {},\n\t},\n\tidentity: {},\n\tethNetwork: {\n\t\tnetworkId: null,\n\t\tgasData: {},\n\t},\n\twallet: {},\n\tconfig: {\n\t\trelayer: {},\n\t\tmarket: {},\n\t\tvalidators: {},\n\t},\n\tanalytics: {},\n\tchannels: {\n\t\twithBalanceAll: {},\n\t\twithOutstandingBalance: [],\n\t},\n\tensAddresses: {},\n}\n\nexport default initialState\n","export const CREATING_SESSION = 'CREATING_SESSION'\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\nexport const UPDATING_ACCOUNT_IDENTITY = 'UPDATING_ACCOUNT_IDENTITY'\nexport const UPDATING_SLOTS_DEMAND = 'UPDATING_SLOTS_DEMAND'\nexport const PRINTING_CAMPAIGNS_RECEIPTS = 'PRINTING_CAMPAIGNS_RECEIPTS'\nexport const FETCHING_PUBLISHER_RECEIPTS = 'FETCHING_PUBLISHER_RECEIPTS'\nexport const CHECKING_METAMASK_AUTH = 'CHECKING_METAMASK_AUTH'\nexport const AUTH_WAITING_TREZOR_ACTION = 'AUTH_WAITING_TREZOR_ACTION'\nexport const AUTH_WAITING_ADDRESS_DATA = 'AUTH_WAITING_ADDRESS_DATA'\nexport const UPDATING_TARGETING_DATA = 'UPDATING_TARGETING_DATA'\n","// Nodejs encryption with CTR\nconst crypto = require('crypto')\n\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\nconst CIPHER_ALG = 'aes-256-cbc'\nconst IV_LENGTH = 16\nconst HASH_ALG = 'sha256'\n\nconst getKeyHash = key => {\n\tconst hash = crypto.createHash(HASH_ALG)\n\thash.update(key)\n\tconst hashed = hash.digest()\n\treturn hashed\n}\n\nexport const encrypt = async (text, key) => {\n\tif (!text) return ''\n\tif (!key) {\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\n\t}\n\tconst iv = crypto.randomBytes(IV_LENGTH)\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst encr = cipher.update(text)\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\n\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\n}\n\nexport const decrypt = async (text, key) => {\n\tconst textParts = text.split(':')\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst decr = decipher.update(encryptedText)\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\n\n\treturn decrypted.toString()\n}\n\nexport const encryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\n\tcrypted += cipher.final('hex')\n\treturn crypted\n}\n\nexport const decryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\n\tlet dec = decipher.update(text, 'hex', 'utf8')\n\tdec += decipher.final('utf8')\n\treturn dec\n}\n","import { exchange as ExchangeConstants } from 'adex-constants'\nimport { constants } from 'adex-models'\n\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\nconst { SignatureModes } = constants\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nexport const AVATAR_MAX_WIDTH = 600\nexport const AVATAR_MAX_HEIGHT = 400\n\nexport const SORT_PROPERTIES_BIDS = [\n\t{ value: '_state', label: '' },\n\t{ value: '_target', label: '' },\n\t{ value: '_amount', label: '' },\n\t{ value: '_timeout', label: '' },\n]\n\nexport const FILTER_PROPERTIES_BIDS = {\n\t_state: {\n\t\tlabel: '_state',\n\t\tlabelIsProp: true,\n\t\tvalues: Object.keys(BID_STATES).map(key => {\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\n\t\t}),\n\t},\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\n}\n\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\n}\n\nexport const SORT_PROPERTIES_ITEMS = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n\t{ value: 'type' },\n]\n\nexport const SORT_PROPERTIES_COLLECTION = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n]\n\nexport const FILTER_PROPERTIES_ITEMS = {\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\n}\n\nexport const AUTH_TYPES = {\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\n}\n\nexport const NETWORK_STATUS = {\n\t0: 'pending',\n\t1: 'success',\n\t2: 'failed',\n}\n\nexport const ETHEREUM_NETWORKS = {\n\t1: { name: 'Mainnet', for: 'production' },\n\t5: { name: 'Goerli', for: 'development' },\n\tproduction: { name: 'Mainnet', for: 'production' },\n\tdevelopment: { name: 'Goerli', for: 'development' },\n}\n\nexport const SORT_PROPERTIES_CAMPAIGN = [\n\t{ value: 'created', label: 'Created' },\n\t{ value: 'status.name', label: 'Status' },\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\n\t{ value: 'activeFrom', label: 'Starts' },\n\t{ value: 'depositAmount', label: 'depositAmount' },\n\t{ value: 'maxPerImpression', label: 'cpm' },\n]\n\nexport const FILTER_PROPERTIES_CAMPAIGN = {\n\t'status.name': {\n\t\tlabel: 'ststus',\n\t\tlabelIsProp: true,\n\t\tvalues: [\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\n\t\t\t{ value: 'Offline', label: 'Offline' },\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\n\t\t\t{ value: 'Ready', label: 'Ready' },\n\t\t\t{ value: 'Active', label: 'Active' },\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\n\t\t\t{ value: 'Expired', label: 'Expired' },\n\t\t],\n\t},\n}\n\nexport const UTM_PARAMS = {\n\tutm_source: 'ADEX',\n\tutm_medium: 'CPM',\n\tutm_campaign: 'none',\n\tutm_content: 'none',\n}\n\nexport const VALIDATOR_ANALYTICS_METRICS = [\n\t'eventPayouts', //\n\t'eventCounts',\n]\nexport const VALIDATOR_ANALYTICS_SIDES = [\n\t'advertiser',\n\t'publisher', //\n]\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = [\n\t'IMPRESSION', //\n\t'CLICK',\n]\n\n// TEMP: disable long periods\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\n\t{ label: 'LABEL_HOUR', value: 'hour' },\n\t{ label: 'LABEL_DAY', value: 'day' },\n\t{ label: 'LABEL_WEEK', value: 'week' },\n\t// { label: 'LABEL_MONTH', value: 'month' },\n\t// { label: 'LABEL_YEAR', value: 'year' },\n]\n\nexport const WHERE_YOU_KNOW_US = [\n\t{ label: 'LABEL_GOOGLE', value: 'search_engine' },\n\t{ label: 'LABEL_TWITTER', value: 'twitter' },\n\t{ label: 'LABEL_FACEBOOK', value: 'facebook' },\n\t{ label: 'LABEL_REDDIT', value: 'reddit' },\n\t{ label: 'LABEL_EVENT', value: 'event' },\n\t{ label: 'LABEL_FRIEND', value: 'friend' },\n\t{ label: 'LABEL_OTHER', value: 'other' },\n]\n\nexport const MOON_GRAVITY_ACCELERATION = 1.625\nexport const MOON_TO_EARTH_WEIGHT = 0.166\n\nexport const WALLET_ACTIONS_MSGS = {\n\t[AUTH_TYPES.METAMASK.name]: [\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\n\t],\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\n\t[AUTH_TYPES.QUICK.name]: [\n\t\t{ message: 'QUICK_WAITING_MSG' },\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\n\t],\n\t[AUTH_TYPES.GRANT.name]: [\n\t\t{ message: 'GRANT_WAITING_MSG' },\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\n\t],\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\n}\n","import { createHashHistory } from 'history'\n\nconst history = createHashHistory()\n\nhistory.listen(location => {\n\twindow.gtag &&\n\t\twindow.gtag('config', process.env.GA_CODE, {\n\t\t\tpage_path: location.pathname + location.search,\n\t\t})\n})\n\nexport default history\n","import Loop from './loop'\nimport { getState } from 'store'\nimport { selectAuth } from 'selectors'\nimport { updateUserCampaigns, execute } from 'actions'\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\n\n// 30 seconds = market statusLoopTick\nconst LOOP_TIMEOUT =\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\n\nconst campaignsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () =>\n\t\tselectAuth(getState()) && (await execute(updateUserCampaigns())),\n\tloopName: '_CAMPAIGNS',\n\tstopOn: () => !selectAuth(getState()),\n})\n\nexport { campaignsLoop }\n","import Loop from './loop'\nimport { getState } from 'store'\nimport { selectAuth } from 'selectors'\nimport { execute, updateAccountStats } from 'actions'\n\nconst LOOP_TIMEOUT = 60 * 1000\n\nconst accountStatsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () =>\n\t\tselectAuth(getState()) && (await execute(updateAccountStats())),\n\tloopName: '_ACCOUNTS_STATS',\n\tstopOn: () => !selectAuth(getState()),\n})\n\nexport default accountStatsLoop\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","import React from 'react'\nimport { Link } from '@material-ui/core'\nimport { OpenInNew } from '@material-ui/icons'\n\nconst getUrl = url => {\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\n\tif (url) {\n\t\turl = '//' + url\n\t}\n\n\treturn url\n}\n\nconst Anchor = ({\n\thref,\n\ttarget,\n\tchildren,\n\tlabel,\n\tunderline,\n\texternalIcon,\n\tcolor,\n\tcomponent,\n\t...rest\n}) => {\n\tconst isExternal = target && target === '_blank'\n\tconst url = isExternal ? getUrl(href) : href\n\n\tconst linkProps = {\n\t\tunderline: underline || 'none',\n\t\tcolor: color || 'inherit',\n\t\tdraggable: 'false',\n\t\t...(isExternal && { rel: 'noopener noreferrer' }),\n\t\ttarget,\n\t\thref: url,\n\t\tstyle: { wordBreak: 'break-all' }, // TODO: add it where needed only\n\t\t...(component ? { component } : {}),\n\t\t...rest,\n\t}\n\treturn (\n\t\t<Link {...linkProps}>\n\t\t\t{!component && (children || label)}\n\t\t\t{!component && externalIcon && (\n\t\t\t\t<OpenInNew style={{ fontSize: 'small' }} />\n\t\t\t)}\n\t\t</Link>\n\t)\n}\n\nexport const ExternalAnchor = ({ href, children, style, ...rest }) => (\n\t<Anchor\n\t\tstyle={{ fontWeight: 'bold' }}\n\t\tunderline='always'\n\t\ttarget='_blank'\n\t\tcolor='primary'\n\t\texternalIcon\n\t\thref={href}\n\t\t{...rest}\n\t>\n\t\t{children}\n\t</Anchor>\n)\n\nexport default Anchor\n","import { store } from 'store'\n\nexport const execute = store.dispatch\n\nexport const dispatch = store.dispatch\n\nexport const getState = store.getState\n","export const getErrorMsg = err => {\n\tif (!err) {\n\t\treturn ''\n\t} else if (typeof err === 'object') {\n\t\treturn err.msg || err.message || err.errMsg || err.error\n\t} else if (Array.isArray(err)) {\n\t\treturn err.join(', ')\n\t} else {\n\t\treturn err\n\t}\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport * as types from 'constants/actionTypes'\nimport Helper from 'helpers/miscHelpers'\nimport {\n\tselectCompanyData,\n\tselectAccountIdentityAddr,\n\tselectIdentitySideAnalyticsTimeframe,\n\tselectIdentitySideAnalyticsPeriod,\n\tselectSide,\n\tselectMemoryUi,\n\tt,\n} from 'selectors'\nimport { getTimePeriods, getBorderPeriodStart } from 'helpers/timeHelpers'\nimport dateUtils from 'helpers/dateUtils'\nimport { getErrorMsg } from 'helpers/errors'\n\nexport function updateSpinner(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SPINNER,\n\t\t\tspinner: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function updateGlobalUi(item, value, category) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_GLOBAL_UI,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t\tcategory: category,\n\t\t})\n\t}\n}\n\nexport function updateMemoryUi(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_MEMORY_UI,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function updateInitialDataLoaded(dataType, loaded) {\n\treturn function(dispatch, getState) {\n\t\tconst { initialDataLoaded } = selectMemoryUi(getState())\n\t\tif (initialDataLoaded !== true) {\n\t\t\tconst newData = { ...(initialDataLoaded || {}) }\n\t\t\tnewData[dataType] = loaded\n\t\t\treturn dispatch({\n\t\t\t\ttype: types.UPDATE_MEMORY_UI,\n\t\t\t\titem: 'initialDataLoaded',\n\t\t\t\tvalue: newData,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function updateUiByIdentity(item, value, category) {\n\treturn function(dispatch, getState) {\n\t\tconst identity = selectAccountIdentityAddr(getState())\n\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY,\n\t\t\tidentity,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t\tcategory: category,\n\t\t})\n\t}\n}\n\nexport function updateIdentitySideUi(item, value) {\n\treturn function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst identity = selectAccountIdentityAddr(state)\n\t\tconst side = selectSide(state)\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY_AND_SIDE,\n\t\t\tidentity,\n\t\t\titem,\n\t\t\tvalue,\n\t\t\tside,\n\t\t})\n\t}\n}\n\nexport function addToast({\n\ttype,\n\taction,\n\tlabel = '',\n\ttimeout = false,\n\tunclosable,\n\tanchorOrigin,\n\ttop,\n}) {\n\treturn function(dispatch) {\n\t\tconst id = Helper.getGuid()\n\t\tdispatch({\n\t\t\ttype: types.ADD_TOAST,\n\t\t\ttoast: {\n\t\t\t\ttype,\n\t\t\t\taction,\n\t\t\t\tlabel,\n\t\t\t\ttimeout,\n\t\t\t\tunclosable,\n\t\t\t\tanchorOrigin,\n\t\t\t\ttop,\n\t\t\t\tid,\n\t\t\t},\n\t\t})\n\n\t\treturn id\n\t}\n}\n\nexport function removeToast(toastId) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.REMOVE_TOAST,\n\t\t\ttoast: toastId,\n\t\t})\n\t}\n}\n\nexport function confirmAction(\n\tonConfirm,\n\tonCancel,\n\t{\n\t\tconfirmLabel = '',\n\t\tcancelLabel = '',\n\t\ttitle = '',\n\t\ttext = '',\n\t\tnoCancel = false,\n\t\tnoConfirm = false,\n\t} = {},\n\tnoActionBtns,\n\tactive\n) {\n\treturn async function(dispatch) {\n\t\treturn await dispatch({\n\t\t\ttype: types.CONFIRM_ACTION,\n\t\t\tconfirm: {\n\t\t\t\tonConfirm: onConfirm,\n\t\t\t\tonCancel: onCancel,\n\t\t\t\tdata: {\n\t\t\t\t\tconfirmLabel: confirmLabel,\n\t\t\t\t\tcancelLabel: cancelLabel,\n\t\t\t\t\ttitle: title,\n\t\t\t\t\ttext: text,\n\t\t\t\t\tnoCancel: noCancel,\n\t\t\t\t\tnoConfirm: noConfirm,\n\t\t\t\t},\n\t\t\t\tnoActionBtns,\n\t\t\t\tactive,\n\t\t\t},\n\t\t})\n\t}\n}\n\nexport function updateNav(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NAV,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function changeLanguage(lang) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CHANGE_LANGUAGE,\n\t\t\tlang: lang,\n\t\t})\n\t}\n}\n\nexport function updateRegistrationAllowed(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\n\t\t\tupdateGlobalUi('allowRegistration', true)(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateCompanyData(newData) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst companyData = selectCompanyData(getState())\n\t\t\tconst newCompanyData = { ...companyData, ...newData }\n\t\t\tupdateUiByIdentity('companyData', newCompanyData)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_COMPANY_DATA', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPDATING_COMPANY_DATA'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateSelectedItems(collection, selectedItems) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SELECTED_ITEMS,\n\t\t\tselectedItems,\n\t\t\tcollection,\n\t\t})\n\t}\n}\n\nexport function resetSelectedItems() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_SELECTED_ITEMS,\n\t\t})\n\t}\n}\n\nexport function updateSelectedCampaigns(selectedItems) {\n\treturn function(dispatch) {\n\t\treturn updateSelectedItems('campaigns', selectedItems)(dispatch)\n\t}\n}\n\nexport function refreshCacheAndReload({ version }) {\n\treturn function(dispatch) {\n\t\ttry {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\taction: (\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (caches) {\n\t\t\t\t\t\t\t\t// Service worker cache should be cleared with caches.delete()\n\t\t\t\t\t\t\t\tcaches.keys().then(async function(names) {\n\t\t\t\t\t\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twindow.location.reload(true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('REFRESH')}\n\t\t\t\t\t</Button>\n\t\t\t\t),\n\t\t\t\tlabel: t('SUCCESS_UPDATING_NEW_APP_VERSION', {\n\t\t\t\t\targs: [version],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPDATING_APP'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function notifyNewTOS() {\n\treturn function(dispatch) {\n\t\ttry {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tunclosable: true,\n\t\t\t\taction: (\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\twindow.open('https://www.adex.network/tos', '_blank')\n\t\t\t\t\t\t\twindow.location.reload(true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t</Button>\n\t\t\t\t),\n\t\t\t\tlabel: t('NOTIFICATION_NEW_TOS', {\n\t\t\t\t\targs: [t('TOS_CHECK')],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPDATING_APP'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function handleRedirectParams(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('confirm-email')\n\t\tconst identity = searchParams.get('confirm-identity')\n\t\tconst grant = searchParams.get('confirm-grant')\n\t\tconst side = (searchParams.get('go-to-side') || '').toLowerCase()\n\n\t\tif (email && identity && !grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('CONFIRM_IDENTITY_EMAIL', {\n\t\t\t\t\targs: [email, identity],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} else if (email && identity && grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('CONFIRM_IDENTITY_EMAIL_GRANT', {\n\t\t\t\t\targs: [email, identity, grant],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tif (['advertiser', 'publisher'].includes(side)) {\n\t\t\tupdateGlobalUi('goToSide', side)(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateEasterEggsAllowed(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tif (\n\t\t\tsearchParams.get(process.env.EASTER_EGGS_PARAM) ===\n\t\t\tprocess.env.EASTER_EGGS_VALUE\n\t\t) {\n\t\t\tupdateGlobalUi('allowEasterEggs', true)(dispatch)\n\t\t}\n\t}\n}\n\nexport function updatePrivilegesWarningAccepted(accepted) {\n\treturn function(dispatch, getState) {\n\t\tupdateUiByIdentity('privilegesWarningAccepted', accepted)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateMissingRevenueDataPointAccepted(accepted) {\n\treturn function(dispatch, getState) {\n\t\tupdateUiByIdentity('missingRevenueDataPointsAccepted', accepted)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function hideGettingStarted(side) {\n\treturn function(dispatch, getState) {\n\t\tupdateUiByIdentity('hideGettingStarted', true, side)(dispatch, getState)\n\t}\n}\n\nexport function setGettingStartedExpanded(expanded) {\n\treturn function(dispatch, getState) {\n\t\tupdateUiByIdentity('gettingStartedExpanded', expanded)(dispatch, getState)\n\t}\n}\n\nexport function updateIdSideAnalyticsChartPeriod(periodStart) {\n\treturn function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\n\t\tconst { start, end } = getTimePeriods({ timeframe, start: periodStart })\n\t\tupdateIdentitySideUi('sideAnalyticsPeriod', { start, end })(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateAnalyticsPeriodPrevNextLive({\n\tnext = false,\n\tlive = false,\n}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(getState())\n\t\t\tlet { start } = selectIdentitySideAnalyticsPeriod(getState())\n\n\t\t\tif (live) {\n\t\t\t\tstart = +dateUtils.date()\n\t\t\t} else {\n\t\t\t\tstart = getBorderPeriodStart({ timeframe, start, next })\n\t\t\t}\n\n\t\t\tupdateIdSideAnalyticsChartPeriod(start)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS_PREV_PERIOD', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_ANALYTICS_PREV_PERIOD', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateIdSideAnalyticsChartTimeframe(timeframe) {\n\treturn function(dispatch, getState) {\n\t\tupdateIdentitySideUi('sideAnalyticsTimeframe', timeframe)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t\tupdateAnalyticsPeriodPrevNextLive({ live: true })(dispatch, getState)\n\t}\n}\n","import { ethers, constants } from 'ethers'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { isEthAddress } from 'helpers/validators'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\n\nexport const isEthAddressERC20 = async (addr = '', authType) => {\n\ttry {\n\t\tif (isEthAddress(addr)) {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\t\tawait Promise.all([\n\t\t\t\tcontract.totalSupply(),\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\n\t\t\t])\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t} catch (error) {\n\t\treturn false\n\t}\n}\n\nexport const getERC20Balance = async ({\n\taddr = '',\n\tbalanceFor = '',\n\tauthType,\n}) => {\n\ttry {\n\t\tconst { provider } = await getEthers(authType)\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\tconst balance = await contract.balanceOf(balanceFor)\n\n\t\treturn balance\n\t} catch (error) {\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\n\t\treturn null\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\n\nexport const isConnectionLost = async authType => {\n\ttry {\n\t\t// When we remove Metamask\n\t\t// if in 5 sec doesn't connect will\n\t\t// return that connection is lost\n\t\tconst eth = await Promise.race([\n\t\t\tgetEthers(authType),\n\t\t\tnew Promise((resolve, reject) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\treject('Timed out')\n\t\t\t\t}, 5000)\n\t\t\t}),\n\t\t])\n\t\tawait eth.provider.getBlockNumber()\n\t\treturn false\n\t} catch (error) {\n\t\treturn true\n\t}\n}\n","import { utils } from 'ethers'\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\nimport { getEthers } from 'services/smart-contracts/ethers'\n/*eslint-disable */\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\n/*eslint-enable */\n\nexport const validUrl = url => {\n\turl = url || ''\n\tconst isValid = urlRegex.test(url)\n\treturn isValid\n}\n\nexport const validateNumber = numberStr => {\n\tnumberStr = numberStr || ''\n\tconst isValid =\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\n\treturn isValid\n}\n\n// > 0\nexport const validPositiveInt = intStr => {\n\tintStr = intStr || ''\n\tconst isValid = onlyDigitsRegex.test(intStr)\n\treturn isValid\n}\n\nexport const validName = name => {\n\tlet msg = ''\n\tconst errMsgArgs = []\n\tif (!name) {\n\t\tmsg = 'ERR_REQUIRED_FIELD'\n\t} else if (name.length < 4) {\n\t\tmsg = 'ERR_MIN_LENGTH'\n\t\terrMsgArgs.push(4)\n\t} else if (name.length > 128) {\n\t\tmsg = 'ERR_MAX_LENGTH'\n\t\terrMsgArgs.push(128)\n\t}\n\n\treturn {\n\t\tmsg,\n\t\terrMsgArgs,\n\t}\n}\n\nexport const validPassword = password => {\n\tpassword = password || ''\n\tconst isValid = passwordRegex.test(password)\n\treturn isValid\n}\n\nexport const isEthAddress = (addr = '') => {\n\ttry {\n\t\tutils.getAddress(addr)\n\t} catch (e) {\n\t\treturn false\n\t}\n\treturn true\n}\n\nexport const isEthAddressZero = (addr = '') => {\n\treturn isEthAddress(addr)\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\n\t\t: false\n}\n\nexport const validEthAddress = async ({\n\taddr = '',\n\tnonZeroAddr,\n\tnonERC20,\n\tauthType,\n}) => {\n\tlet msg = ''\n\ttry {\n\t\tconst notEthAddress = !addr || !isEthAddress(addr)\n\t\tif (notEthAddress) {\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\n\t\t} else {\n\t\t\tconst ethAddressZero = isEthAddressZero(addr)\n\t\t\tif (nonZeroAddr && ethAddressZero) {\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\n\t\t\t} else {\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\n\t\t\t\tif (connectionLost) {\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t\t\t\t} else {\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tif (error === 'Non-Ethereum browser detected.')\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t}\n\treturn { msg }\n}\n\nexport const freeAdExENS = async ({ username = '', authType }) => {\n\tlet msg = ''\n\ttry {\n\t\tif (username === '') {\n\t\t\tmsg = 'ERR_ENS_REQUIRED'\n\t\t} else {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst ensAddress = await provider.resolveName(\n\t\t\t\t`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`\n\t\t\t)\n\n\t\t\tif (ensAddress && !isEthAddressZero(ensAddress)) msg = 'ERR_ENS_NOT_FREE'\n\t\t}\n\t} catch (error) {\n\t\tif (error.code === 'INVALID_ARGUMENT') {\n\t\t\tmsg = 'ERR_INVALID_ARGUMENT_ENS'\n\t\t} else {\n\t\t\tmsg = 'ERR_ENS_CHECK'\n\t\t}\n\t}\n\treturn { msg }\n}\n","import Helper from 'helpers/miscHelpers'\nimport { getState } from 'actions'\nimport { selectAuthSig } from 'selectors'\nimport { isDemoMode } from 'services/store-data/auth'\nimport { t } from 'selectors'\n\nexport const handleRequesterErrorRes = ({ res, text }) => {\n\tlet message = text\n\ttry {\n\t\tconst textObj = JSON.parse(text)\n\t\tmessage =\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\n\t} catch {}\n\n\tthrow new Error(\n\t\tt('SERVICE_ERROR_MSG', {\n\t\t\targs: [res.url, res.status, res.statusText, message],\n\t\t})\n\t)\n}\n\nclass AdexNodeRequester {\n\tconstructor({ baseUrl }) {\n\t\tthis.baseUrl = baseUrl\n\t}\n\n\tgetAuthHeaders = ({ authSig } = {}) => {\n\t\tconst authSignature = selectAuthSig(getState())\n\t\treturn {\n\t\t\t'X-User-Signature': authSig || authSignature,\n\t\t}\n\t}\n\n\tnoCacheHeaders = {\n\t\t'Cache-Control': 'no-cache',\n\t\tExpires: '0',\n\t\tPragma: 'no-cache',\n\t}\n\n\tgetUrl = (base, route, query) => {\n\t\tlet url = base + '/'\n\t\tif (route) {\n\t\t\troute = route.replace(/^\\//, '')\n\t\t\turl += route\n\t\t}\n\n\t\turl += query\n\n\t\treturn url\n\t}\n\n\tfetch = ({\n\t\troute = '',\n\t\tqueryParams = {},\n\t\tmethod = 'GET',\n\t\tbody,\n\t\theaders = {},\n\t\tuserAddr,\n\t\tauthSig = '',\n\t\tauthToken,\n\t\tnoCache = false,\n\t}) => {\n\t\tconst qp = { ...queryParams }\n\t\tif (isDemoMode()) {\n\t\t\tqp.demo = true\n\t\t}\n\n\t\tconst query = Helper.getQuery(qp)\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\n\n\t\tconst hdrs = {\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\n\t\t\t...this.getAuthHeaders({ authSig }),\n\t\t\t...headers,\n\t\t}\n\t\treturn fetch(url, {\n\t\t\tmethod: method,\n\t\t\theaders: hdrs,\n\t\t\tbody: body,\n\t\t})\n\t}\n}\n\nexport default AdexNodeRequester\n","import requester from './requester'\n\nexport default requester\nexport * from './requester'\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\n\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getOwnerIdentities = ({ owner }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/by-owner/${owner}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getIdentityData = ({ identityAddr }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getRelayerConfigData = () => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'relayer/cfg',\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}/execute`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttxnsRaw,\n\t\t\t\tsignatures,\n\t\t\t\tidentityAddr,\n\t\t\t\tchannel,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const regAccount = ({\n\towner,\n\temail,\n\tknowFrom,\n\tmoreInfo,\n\tbytecode,\n\tidentityFactoryAddr,\n\tbaseIdentityAddr,\n\tsalt,\n\tidentityAddr,\n\tprivileges,\n\troutineAuthorizationsRaw,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\towner,\n\t\t\t\temail,\n\t\t\t\tknowFrom,\n\t\t\t\tmoreInfo,\n\t\t\t\tbytecode,\n\t\t\t\tidentityFactoryAddr,\n\t\t\t\tbaseIdentityAddr,\n\t\t\t\tsalt,\n\t\t\t\tidentityAddr,\n\t\t\t\tprivileges,\n\t\t\t\troutineAuthorizationsRaw,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getQuickWallet = ({ hash }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail,\n\t\t\t\tsalt,\n\t\t\t\thash,\n\t\t\t\tencryptedWallet,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getEmail = ({ email }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/email/${encodeURIComponent(email)}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n","import * as types from 'constants/actionTypes'\nimport { validEthAddress, freeAdExENS } from '../helpers/validators'\nimport { translate } from 'services/translations/translations'\nimport { addToast, updateSpinner } from './uiActions'\nimport { bigNumberify, parseUnits } from 'ethers/utils'\nimport { validations, Joi, schemas, constants } from 'adex-models'\nimport { validPassword } from 'helpers/validators'\nimport {\n\tt,\n\tselectAuthType,\n\tselectAccountStatsRaw,\n\tselectAccountStatsFormatted,\n\tselectMainToken,\n} from 'selectors'\nimport { getErrorMsg } from 'helpers/errors'\nimport { getEmail } from 'services/adex-relayer/actions'\nimport { formatTokenAmount } from 'helpers/formatters'\nconst { IdentityPrivilegeLevel } = constants\n\nconst { campaignPut, account } = schemas\nconst { isNumberString } = validations\n\nexport function validateAddress({ addr, dirty, validate, name, nonERC20 }) {\n\treturn async function(dispatch, getState) {\n\t\tconst authType = selectAuthType(getState())\n\t\ttry {\n\t\t\tif (validate) validate(name, { isValid: false })\n\t\t\tupdateSpinner(name, dirty)(dispatch)\n\t\t\tconst { msg } = await validEthAddress({\n\t\t\t\taddr,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tnonERC20,\n\t\t\t\tauthType,\n\t\t\t})\n\t\t\tconst isValid = !msg\n\n\t\t\tif (validate) {\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(name, false)(dispatch)\n\t}\n}\n\nexport function updateValidationErrors(item, newErrors) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\terrors: newErrors,\n\t\t})\n\t}\n}\n\nexport function resetValidationErrors(item, key) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\tkey,\n\t\t})\n\t}\n}\n\nexport function validate(\n\tvalidateId,\n\tkey,\n\t{\n\t\tisValid,\n\t\terr = { msg: '', args: [], fields: {} },\n\t\tdirty = false,\n\t\tremoveAll = false,\n\t}\n) {\n\treturn async function(dispatch, getState) {\n\t\tif (!isValid) {\n\t\t\tlet errors = {}\n\t\t\terrors[key] = {\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\n\t\t\t\terrFields: err.fields,\n\t\t\t\tdirty: dirty,\n\t\t\t}\n\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\n\t\t} else if (removeAll) {\n\t\t\tresetValidationErrors(validateId)(dispatch)\n\t\t} else {\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\n\t\t}\n\n\t\treturn isValid\n\t}\n}\n\nexport const handleAfterValidation = async ({\n\tisValid,\n\tonValid,\n\tonInvalid,\n}) => {\n\tif (isValid && typeof onValid === 'function') {\n\t\tawait onValid()\n\t}\n\tif (!isValid && typeof onInvalid === 'function') {\n\t\tawait onInvalid()\n\t}\n}\n\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\n\t\tvalidate(validateId, 'emailCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePassword(validateId, password, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = validPassword(password)\n\t\tvalidate(validateId, 'password', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PASSWORD' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePasswordCheck(\n\tvalidateId,\n\tpasswordCheck,\n\tpassword,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\n\t\tvalidate(validateId, 'passwordCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateTOS(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'tosCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateENS({ username, dirty, validateId, authType }) {\n\treturn async function(dispatch) {\n\t\tconst { msg } = await freeAdExENS({\n\t\t\tusername,\n\t\t\tauthType,\n\t\t})\n\t\tconst isValid = !msg\n\t\tvalidate(validateId, 'username', {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\nexport function validateWallet(validateId, wallet, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!wallet && !!wallet.address\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateIdentityContractOwner(\n\tvalidateId,\n\tidentityContractOwner,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!identityContractOwner\n\t\tvalidate(validateId, 'identityContractOwner', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\nexport function validateKnowFrom(validateId, knowFrom, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!knowFrom\n\t\tvalidate(validateId, 'knowFrom', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_WHERE_YOU_KNOW_US_DROPDOWN_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateMoreInfo(validateId, knowFrom, moreInfo, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\tknowFrom === 'other' || knowFrom === 'event' ? !!moreInfo : true\n\t\tvalidate(validateId, 'moreInfo', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_WHERE_YOU_KNOW_US_MOREINFO_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateAccessWarning(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'accessWarningCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\n// export function validateCampaignMinTargetingScore({\n// \tvalidateId,\n// \tadUnits,\n// \tminTargetingScore,\n// \tdirty,\n// }) {\n// \treturn async function(dispatch, getState) {\n// \t\tconst isValid =\n// \t\t\t!minTargetingScore ||\n// \t\t\t(adUnits.length && adUnits.every(u => !!u.targeting.length))\n// \t\tvalidate(validateId, 'minTargetingScore', {\n// \t\t\tisValid,\n// \t\t\terr: { msg: 'ERR_MIN_TARGETING_SCORE' },\n// \t\t\tdirty,\n// \t\t})(dispatch)\n\n// \t\treturn isValid\n// \t}\n// }\n\nexport function validateCampaignUnits({ validateId, adUnits, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!adUnits && adUnits.length\n\t\tvalidate(validateId, 'adUnits', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignValidators({ validateId, validators, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\t!!validators &&\n\t\t\tvalidators.length === 2 &&\n\t\t\t!!validators[0] &&\n\t\t\t!!validators[1] &&\n\t\t\t!!validators[0].id &&\n\t\t\t!!validators[0].url &&\n\t\t\tvalidators[0].feeNum !== undefined &&\n\t\t\tvalidators[0].feeDen !== undefined &&\n\t\t\tvalidators[0].feeAddr !== undefined &&\n\t\t\t!!validators[1].id &&\n\t\t\t!!validators[1].url &&\n\t\t\tvalidators[1].feeNum !== undefined &&\n\t\t\tvalidators[1].feeDen !== undefined &&\n\t\t\tvalidators[0].feeAddr !== undefined\n\n\t\tvalidate(validateId, 'validators', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nconst validateAmounts = ({\n\tmaxDeposit = bigNumberify(0),\n\tdepositAmount,\n\tminPerImpression,\n}) => {\n\tlet error = null\n\tif (!depositAmount.isZero() && depositAmount.gt(maxDeposit)) {\n\t\terror = {\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\n\t\t\tprop: 'depositAmount',\n\t\t}\n\t}\n\tif (!depositAmount.isZero() && depositAmount.lt(minPerImpression)) {\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\n\t}\n\tif (depositAmount.lte(bigNumberify(0))) {\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\n\t}\n\tif (minPerImpression.lte(bigNumberify(0))) {\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\n\t}\n\n\treturn { error }\n}\n\nexport function validateFees({\n\tvalidateId,\n\tfeesAmountBN,\n\tamountToSpendBN,\n\terrorMsg = '',\n\tdirty,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tlet isValid = true\n\t\tlet msg = errorMsg\n\t\tlet args = []\n\t\tconst state = getState()\n\n\t\tconst {\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\n\t\t} = selectAccountStatsRaw(state)\n\t\tconst {\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\n\t\t} = selectAccountStatsFormatted(state)\n\t\tconst amountNeeded = bigNumberify(feesAmountBN).add(\n\t\t\tbigNumberify(amountToSpendBN)\n\t\t)\n\n\t\tconst { symbol, decimals } = selectMainToken(state)\n\n\t\tif (amountNeeded.gt(bigNumberify(availableIdentityBalanceMainTokenRaw))) {\n\t\t\tconst amountNeededFormatted = formatTokenAmount(\n\t\t\t\tamountNeeded,\n\t\t\t\tdecimals,\n\t\t\t\tnull,\n\t\t\t\t2\n\t\t\t)\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_TX_INSUFFICIENT_BALANCE'\n\t\t\targs = [\n\t\t\t\tamountNeededFormatted,\n\t\t\t\tsymbol,\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\n\t\t\t\tsymbol,\n\t\t\t]\n\t\t}\n\n\t\tawait validate(validateId, 'fees', {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateWithdrawAmount({\n\tvalidateId,\n\tamountToWithdraw,\n\tavailableIdentityBalanceMainTokenRaw,\n\tavailableIdentityBalanceMainTokenFormatted,\n\tdecimals,\n\tsymbol,\n\tdirty,\n}) {\n\treturn async function(dispatch) {\n\t\tlet isValid = isNumberString(amountToWithdraw)\n\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\n\t\tlet args = []\n\t\tconst amount = isValid ? parseUnits(amountToWithdraw, decimals) : null\n\t\tif (isValid && amount.isZero()) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_ZERO_WITHDRAW_AMOUNT'\n\t\t} else if (\n\t\t\tisValid &&\n\t\t\tamount.gt(bigNumberify(availableIdentityBalanceMainTokenRaw))\n\t\t) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\n\t\t\targs = [availableIdentityBalanceMainTokenFormatted, symbol]\n\t\t}\n\n\t\tawait validate(validateId, 'amountToWithdraw', {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateNumberString({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\tintegerOnly,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tlet isValid = isNumberString(value)\n\t\tlet msg = 'ERR_INVALID_AMOUNT'\n\n\t\tif (isValid && integerOnly) {\n\t\t\tconst int = parseInt(value, 10)\n\t\t\tif (int.toString() !== value.toString()) {\n\t\t\t\tisValid = false\n\t\t\t\tmsg = 'ERR_INVALID_INTEGER_NUMBER'\n\t\t\t}\n\t\t}\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg, args: [value] },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignAmount({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\terrMsg,\n\tdepositAmount,\n\tpricingBounds,\n\tmaxDeposit,\n\tdecimals,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValidNumber = isNumberString(value)\n\t\tlet isValid = isValidNumber && !!parseUnits(value, decimals)\n\t\tlet msg = errMsg || 'ERR_INVALID_AMOUNT'\n\n\t\tif (isValid) {\n\t\t\tconst deposit = prop === 'depositAmount' ? value : depositAmount\n\t\t\tconst min =\n\t\t\t\tprop === 'pricingBounds_min' ? value : pricingBounds.IMPRESSION.min\n\n\t\t\tconst isValidDeposit = isNumberString(deposit)\n\t\t\tconst isValidMin = isNumberString(min)\n\n\t\t\tif (isValidDeposit && isValidMin) {\n\t\t\t\tconst result = validateAmounts({\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t\tdepositAmount: parseUnits(deposit, decimals),\n\t\t\t\t\tminPerImpression: parseUnits(min, decimals),\n\t\t\t\t})\n\n\t\t\t\tisValid = !result.error\n\t\t\t\tmsg = result.error ? result.error.message : ''\n\t\t\t}\n\t\t}\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nconst MIN_CAMPAIGN_PERIOD = 1 * 60 * 60 * 1000 // 1 hour\n\nconst getCampaignDatesValidation = ({\n\tcreated = Date.now(),\n\twithdrawPeriodStart,\n\tactiveFrom,\n}) => {\n\tlet error = null\n\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'withdrawPeriodStart' }\n\t} else if (\n\t\twithdrawPeriodStart &&\n\t\tactiveFrom &&\n\t\twithdrawPeriodStart - activeFrom < MIN_CAMPAIGN_PERIOD\n\t) {\n\t\terror = {\n\t\t\tmessage: 'ERR_MIN_CAMPAIGN_PERIOD',\n\t\t\targs: ['1', 'HOUR'],\n\t\t\tprop: 'withdrawPeriodStart',\n\t\t}\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\n\t} else if (activeFrom && activeFrom < created) {\n\t\terror = { message: 'ERR_START_BEFORE_NOW' }\n\t} else if (activeFrom && !withdrawPeriodStart) {\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\n\t}\n\n\treturn { error }\n}\n\nexport function validateCampaignDates({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\twithdrawPeriodStart,\n\tactiveFrom,\n\tcreated,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst withdraw =\n\t\t\tprop === 'withdrawPeriodStart' ? value : withdrawPeriodStart\n\t\tconst from = prop === 'activeFrom' ? value : activeFrom\n\n\t\tconst result = getCampaignDatesValidation({\n\t\t\twithdrawPeriodStart: withdraw,\n\t\t\tactiveFrom: from,\n\t\t\tcreated,\n\t\t})\n\n\t\tvalidate(validateId, 'activeFrom', {\n\t\t\tisValid: !!from,\n\t\t\terr: {\n\t\t\t\tmsg: 'ERR_NO_DATE_SET',\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tvalidate(validateId, 'withdrawPeriodStart', {\n\t\t\tisValid: !(result.error && result.error.prop === 'withdrawPeriodStart'),\n\t\t\terr: {\n\t\t\t\tmsg: result.error ? result.error.message : '',\n\t\t\t\targs: result.error && (result.error.args || []),\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tconst isValid = !result.error\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignTitle({ validateId, title, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst result = Joi.validate(title, campaignPut.title)\n\n\t\tconst isValid = !result.error\n\n\t\tvalidate(validateId, 'title', {\n\t\t\tisValid,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEthAddress({\n\tvalidateId,\n\tprop,\n\taddr,\n\tnonZeroAddr = true,\n\tnonERC20 = true,\n\tdirty,\n\tauthType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { msg } = await validEthAddress({\n\t\t\taddr,\n\t\t\tnonZeroAddr,\n\t\t\tnonERC20,\n\t\t\tauthType,\n\t\t})\n\n\t\tconst isValid = !msg\n\n\t\tawait validate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePrivilegesAddress({\n\tvalidateId,\n\tsetAddr = '',\n\twalletAddr = '',\n\tprivLevel,\n\tauthType,\n\twarningAccepted,\n\tdirty,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst isCurrentAddress =\n\t\t\tsetAddr && setAddr.toLowerCase() === walletAddr.toLowerCase()\n\t\tlet isValid = warningAccepted || !isCurrentAddress\n\n\t\tlet msg = ''\n\t\tconst args = [`PRIV_${privLevel}_LABEL`, authType.toUpperCase()]\n\t\tif (isCurrentAddress && privLevel === 0) {\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_0'\n\t\t} else if (isCurrentAddress && privLevel === 1) {\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_1'\n\t\t} else if (isCurrentAddress && privLevel >= 2) {\n\t\t\tisValid = true\n\t\t} else if (!isCurrentAddress) {\n\t\t\tisValid = true\n\t\t}\n\n\t\tawait validate(validateId, 'setAddrWarning', {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn { isValid, msg }\n\t}\n}\n\nexport function validatePrivLevel({ validateId, privLevel, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\tObject.values(IdentityPrivilegeLevel).indexOf(privLevel) > -1\n\t\tawait validate(validateId, 'privLevel', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PRIV_LEVEL_NOT_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateSchemaProp({ validateId, value, prop, schema, dirty }) {\n\treturn async function(dispatch) {\n\t\tconst result = Joi.validate(value, schema)\n\t\tconst isValid = !result.error\n\n\t\tawait validate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEmail(validateId, email, dirty, validateNotExisting) {\n\treturn async function(dispatch) {\n\t\tconst result = Joi.validate(email, account.email)\n\t\tlet isValid = !result.error\n\t\tlet msg = result.error ? result.error.message : ''\n\n\t\tif (validateNotExisting && isValid) {\n\t\t\tconst { existing } = (await getEmail({ email })) || {}\n\t\t\tisValid = existing === false\n\t\t\tmsg = 'EMAIL_ALREADY_USED'\n\t\t}\n\n\t\tawait validate(validateId, 'email', {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport const locationAudienceInputError = ({ apply, ...values } = {}) => {\n\tif (!apply) {\n\t\treturn 'ERR_LOCATION_AUDIENCE_NOT_SELECTED'\n\t} else if (apply === 'in' && !values.in.length) {\n\t\treturn 'ERR_LOCATION_AUDIENCE_IN_NOT_SELECTED'\n\t} else if (apply === 'nin' && !values.nin.length) {\n\t\treturn 'ERR_LOCATION_AUDIENCE_NIN_NOT_SELECTED'\n\t}\n}\n\nexport const publishersAudienceInputError = ({ apply, ...values } = {}) => {\n\tif (!apply) {\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_NOT_SELECTED'\n\t} else if (apply === 'in' && (!values.in || !values.in.length)) {\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_IN_NOT_SELECTED'\n\t} else if (apply === 'nin' && (!values.nin || !values.nin.length)) {\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_NIN_NOT_SELECTED'\n\t}\n}\n\nexport const categoriesAudienceInputError = ({\n\tapply = [],\n\t...values\n} = {}) => {\n\tif (!apply.includes('in')) {\n\t\treturn 'ERR_CATEGORIES_AUDIENCE_NOT_SELECTED'\n\t} else if (apply.includes('in') && (!values.in || !values.in.length)) {\n\t\treturn 'ERR_CATEGORIES_AUDIENCE_IN_NOT_SELECTED'\n\t}\n}\n\nexport function validateAudience({ validateId, propName, inputs, dirty }) {\n\treturn async function(dispatch) {\n\t\tconst { location, categories, publishers } = inputs\n\n\t\tconst errors = [\n\t\t\tlocationAudienceInputError(location),\n\t\t\tpublishersAudienceInputError(publishers),\n\t\t\tcategoriesAudienceInputError(categories),\n\t\t]\n\n\t\tconst isValid = errors.every(e => !e)\n\t\tconst errArgs = errors\n\t\t\t.filter(e => !!e)\n\t\t\t.map(e => t(e))\n\t\t\t.join(', ')\n\n\t\tawait validate(validateId, propName, {\n\t\t\tisValid,\n\t\t\terr: {\n\t\t\t\tmsg: 'ERR_AUDIENCE_INPUT',\n\t\t\t\targs: [errArgs],\n\t\t\t\tfields: {\n\t\t\t\t\tlocation: !!errors[0],\n\t\t\t\t\tpublishers: !!errors[1],\n\t\t\t\t\tcategories: !!errors[2],\n\t\t\t\t},\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n","import { validate } from 'actions'\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\n\nexport function validateMediaSize({\n\tvalidateId,\n\tmedia,\n\tpropName,\n\tdirty,\n\twidthTarget,\n\theightTarget,\n\tmsg,\n\texact,\n\trequired,\n} = {}) {\n\treturn async function(dispatch) {\n\t\tconst { mime, tempUrl } = media\n\t\tlet isValid = mime && tempUrl\n\t\tlet args = [widthTarget, heightTarget, 'px']\n\n\t\tif (!required && !media.tempUrl) {\n\t\t\tisValid = true\n\t\t}\n\n\t\tif (required && isValid) {\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\n\t\t\tconst mediaWidth = size.width\n\t\t\tconst mediaHeight = size.height\n\n\t\t\tif (exact) {\n\t\t\t\tisValid = checkExactishAspect(\n\t\t\t\t\twidthTarget,\n\t\t\t\t\tmediaWidth,\n\t\t\t\t\theightTarget,\n\t\t\t\t\tmediaHeight\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\n\t\t\t\tisValid = false\n\t\t\t}\n\t\t}\n\n\t\tawait validate(validateId, propName, {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { logOut } from 'services/store-data/auth'\nimport moment from 'moment'\n\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\n\nconst processResponse = (res, dontThrow, skipRedirect) => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\tif (res.status === 401 || res.status === 403) {\n\t\t\tlogOut(skipRedirect)\n\t\t}\n\t\tif (!dontThrow) {\n\t\t\thandleRequesterErrorRes({ res, text })\n\t\t}\n\t})\n}\n\nexport const getSession = ({\n\tidentity,\n\tmode,\n\tsignature,\n\tauthToken,\n\thash,\n\ttypedData,\n\tsignerAddress,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'auth/',\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tidentity,\n\t\t\t\tmode,\n\t\t\t\tsignature,\n\t\t\t\tauthToken,\n\t\t\t\thash,\n\t\t\t\ttypedData,\n\t\t\t\tsignerAddress,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const checkSession = ({ authSig, skipErrToast }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'session',\n\t\t\tmethod: 'GET',\n\t\t\tauthSig,\n\t\t\tskipErrToast,\n\t\t})\n\t\t.then(res => processResponse(res, true, true))\n}\n\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\n\tconst formData = new FormData()\n\tformData.append('media', imageBlob, imageName)\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'media',\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nconst convertItemToJSON = item => {\n\tconst itemToConvert = { ...item }\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\n\t}\n\n\treturn JSON.stringify(itemToConvert)\n}\n\nexport const getAdUnits = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAdUnitById = ({ unitId }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `units/${unitId}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdUnit = ({ unit, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdUnit = ({ unit, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `units/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAdSlots = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getTargetingData = () => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots/targeting-data',\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdSlot = ({ slot, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdSlot = ({ slot, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `slots/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getUserCampaigns = ({ authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns/by-owner',\n\t\t\tmethod: 'GET',\n\t\t\tnoCache: true,\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${campaign.id}/close`,\n\t\t\tmethod: 'PUT',\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getCampaigns = ({\n\tall,\n\tstatuses,\n\tbyEarner,\n\tbyCreator,\n\tcacheBrake,\n} = {}) => {\n\tconst queryParams = {\n\t\t...(all && { all: true }),\n\t\t...(statuses && { status: statuses.join(',') }),\n\t\tbyEarner,\n\t\tbyCreator,\n\t\t...(cacheBrake && { cacheBrake: Date.now() }),\n\t}\n\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateCampaign = ({ campaign, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(campaign),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const verifyWebsite = ({ websiteUrl }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots/verify-website',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON({ websiteUrl }),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getUserAudiences = () => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'audiences',\n\t\t\tmethod: 'GET',\n\t\t\tnoCache: true,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getUserAudienceByCampaign = ({ campaignId }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `audiences/${campaignId}`,\n\t\t\tmethod: 'GET',\n\t\t\tnoCache: true,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const putAudience = ({ audience, id }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `audiences/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(audience),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAudience = ({ audience }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `audiences`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(audience),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n","import { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\n\nconst autocompleteLocationsSingleSelect = () => {\n\treturn constants.AllCountries.map(country => {\n\t\treturn {\n\t\t\tlabel: country.name,\n\t\t\tvalue: country.value,\n\t\t}\n\t})\n}\n\nconst autocompleteGendersSingleSelect = () => {\n\treturn constants.Genders.map(gender => {\n\t\treturn {\n\t\t\tlabel: translate(gender.split('_')[1]),\n\t\t\tvalue: gender,\n\t\t}\n\t})\n}\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nexport const AcLocations = autocompleteLocationsSingleSelect()\nexport const AcGenders = autocompleteGendersSingleSelect()\nexport const AcTags = autocompleteTagsSingleSelect()\n\nexport const SOURCES = {\n\tlocations: { src: AcLocations, collection: 'targeting' },\n\tgenders: { src: AcGenders, collection: 'targeting' },\n\ttags: { src: AcTags, collection: 'targeting' },\n\tcustom: { src: [], collection: 'targeting' },\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\tgetAdUnits,\n\tgetAdSlots,\n\tgetUserAudiences,\n\tuploadImage,\n\tupdateAdSlot,\n\tupdateAdUnit,\n\tupdateCampaign,\n\tputAudience,\n} from 'services/adex-market/actions'\nimport { execute, addToast as AddToastUi, updateSpinner } from 'actions'\nimport { push } from 'connected-react-router'\nimport { Base, AdSlot, AdUnit, helpers, Campaign, Audience } from 'adex-models'\n\nimport { translate } from 'services/translations/translations'\n\nimport initialState from 'store/initialState'\nimport { getMediaSize } from 'helpers/mediaHelpers'\nimport { getErrorMsg } from 'helpers/errors'\nimport { SOURCES } from 'constants/targeting'\nimport { selectAccount, selectAuth, selectItemByTypeAndId } from 'selectors'\n\nconst addToast = ({ type, toastStr, args, dispatch }) => {\n\treturn AddToastUi({\n\t\tdispatch: dispatch,\n\t\ttype: type,\n\t\tlabel: translate(toastStr, { args: args }),\n\t\ttimeout: 5000,\n\t})(dispatch)\n}\n\nexport const getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\n\treturn fetch(tempUrl)\n\t\t.then(resp => {\n\t\t\treturn resp.blob()\n\t\t})\n\t\t.then(imgBlob => {\n\t\t\tURL.revokeObjectURL(tempUrl)\n\t\t\treturn uploadImage({\n\t\t\t\timageBlob: imgBlob,\n\t\t\t\timageName: 'image.jpeg',\n\t\t\t\tauthSig: authSig,\n\t\t\t})\n\t\t})\n}\n\nexport function getAllItems(onDataUpdated) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst { address } = account.identity\n\t\t\tconst units = getAdUnits({ identity: address })\n\t\t\tconst slots = getAdSlots({ identity: address })\n\t\t\tconst audiences = getUserAudiences()\n\n\t\t\tconst [resUnits, resSlots, resAudiences] = await Promise.all([\n\t\t\t\tunits,\n\t\t\t\tslots,\n\t\t\t\taudiences,\n\t\t\t])\n\t\t\tconst userSlots = resSlots.slots || []\n\t\t\tconst userPassbackUnits = (resSlots.passbackUnits || []).reduce(\n\t\t\t\t(passbacks, u) => {\n\t\t\t\t\tconst { id, mediaMime, mediaUrl, targetUrl } = u\n\t\t\t\t\tpassbacks[id] = { mediaMime, mediaUrl, targetUrl }\n\n\t\t\t\t\treturn passbacks\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t)\n\n\t\t\tconst slotsWithUnits = userSlots.map(async s => ({\n\t\t\t\t...s,\n\t\t\t\t...(s.fallbackUnit ? userPassbackUnits[s.fallbackUnit] : {}),\n\t\t\t}))\n\n\t\t\tconst slotWithUnitsRes = await Promise.all(slotsWithUnits)\n\t\t\tif (selectAuth(getState())) {\n\t\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\n\t\t\t\tupdateItems({\n\t\t\t\t\titems: slotWithUnitsRes,\n\t\t\t\t\titemType: 'AdSlot',\n\t\t\t\t})(dispatch)\n\t\t\t\tupdateItems({\n\t\t\t\t\titems: resAudiences.audiences,\n\t\t\t\t\titemType: 'Audience',\n\t\t\t\t})(dispatch)\n\t\t\t\tupdateItems({ items: resSlots.websites || [], itemType: 'Website' })(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tif (typeof onDataUpdated === 'function') {\n\t\t\t\t\tonDataUpdated()\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\n\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t})\n\t\t}\n\t}\n}\n\n// Accepts the entire new item and replace so be careful!\nexport function updateItem({\n\titem,\n\titemType,\n\taction = 'UPDATING',\n\tonSuccess,\n\tgoToTableOnSuccess = false,\n} = {}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { id } = item\n\t\tupdateSpinner(action + id, true)(dispatch)\n\t\ttry {\n\t\t\tconst newItem = { ...item }\n\t\t\tlet updatedItem = null\n\t\t\tlet objModel = null\n\t\t\tlet path = ''\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot': // In case newItem.website is null (very few slots)\n\t\t\t\t\tnewItem.website = newItem.website || ''\n\t\t\t\t\tconst slot = new AdSlot(newItem).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id })).slot\n\t\t\t\t\tobjModel = AdSlot\n\t\t\t\t\tpath = '/dashboard/publisher/slots'\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tconst unit = new AdUnit(newItem).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id })).unit\n\t\t\t\t\tobjModel = AdUnit\n\t\t\t\t\tpath = '/dashboard/advertiser/units'\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tconst campaign = new Campaign(newItem).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id })).campaign\n\t\t\t\t\tobjModel = Campaign\n\t\t\t\t\tpath = '/dashboard/advertiser/campaigns'\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'Audience':\n\t\t\t\t\tconst audience = new Audience(newItem).marketUpdate\n\t\t\t\t\tupdatedItem = (await putAudience({ audience, id })).audience\n\t\t\t\t\tobjModel = Audience\n\t\t\t\t\tpath = '/dashboard/advertiser/audiences'\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\n\t\t\t}\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\n\t\t\t\titemType,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: `SUCCESS_${action}_ITEM`,\n\t\t\t\targs: [itemType, item.title],\n\t\t\t})\n\n\t\t\tif (goToTableOnSuccess) {\n\t\t\t\texecute(push(path))\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_${action}_ITEM`, err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: `ERR_${action}_ITEM`,\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t\tupdateSpinner(action + item.id, false)(dispatch)\n\t}\n}\n\nconst findSourceByTag = tag => {\n\treturn Object.keys(SOURCES).find(\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\n\t)\n}\n\nexport function cloneItem({ item, itemType, objModel } = {}) {\n\treturn async function(dispatch) {\n\t\ttry {\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\n\t\t\tnewItem.id = ''\n\t\t\tnewItem.temp = {\n\t\t\t\t...initialState.newItem[itemType].temp,\n\t\t\t\ttargets: item.targeting.map((t, index) => {\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\n\t\t\t\t\treturn {\n\t\t\t\t\t\tkey: index,\n\t\t\t\t\t\tcollection: 'targeting',\n\t\t\t\t\t\tsource: key,\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\ttarget: { ...t },\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t}\n\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\n\t\t\t\tnewItem.mediaUrl,\n\t\t\t\tprocess.env.IPFS_GATEWAY\n\t\t\t)\n\n\t\t\tconst response = await fetch(tempUrl)\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\n\t\t\tconst mediaSize = await getMediaSize({\n\t\t\t\tmime: newItem.mediaMime,\n\t\t\t\tsrc: mediaURL,\n\t\t\t})\n\n\t\t\tconst temp = {\n\t\t\t\t...newItem.temp,\n\t\t\t\tmime: item.mediaMime,\n\t\t\t\ttempUrl: mediaURL,\n\t\t\t\twidth: mediaSize.width,\n\t\t\t\theight: mediaSize.height,\n\t\t\t}\n\n\t\t\tnewItem.temp = temp\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\t\titem: newItem,\n\t\t\t\titemType,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error(err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function archiveItem({ itemId, itemType, goToTableOnSuccess } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tconst selectedItem = selectItemByTypeAndId(getState(), itemType, itemId)\n\t\tconst item = { ...selectedItem }\n\t\titem.archived = true\n\n\t\tawait updateItem({\n\t\t\titem,\n\t\t\titemType,\n\t\t\taction: 'ARCHIVING',\n\t\t\tgoToTableOnSuccess,\n\t\t})(dispatch, getState)\n\t}\n}\n\nexport function setCurrentItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.SET_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function updateCurrentItem(item, newMeta) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t\tmeta: newMeta,\n\t\t})\n\t}\n}\n\nexport function updateItems({ items, itemType }) {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\n\t\t\titems: items,\n\t\t\titemType: itemType,\n\t\t})\n\t}\n}\n\nexport const resetAllItems = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_ITEMS,\n\t\t})\n\t}\n}\n\nexport const addNewTag = ({ tag }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_NEW_TAG,\n\t\t\ttag: tag,\n\t\t})\n\t}\n}\n","export const addSig = ({\n\taddr = '',\n\tsig,\n\tmode,\n\texpiryTime,\n\tidentity = 'notset',\n}) => {\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\n\t\tthrow new Error('addSig - all args are required')\n\t}\n\n\tlocalStorage.setItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\n\t\tsig + '-' + expiryTime\n\t)\n}\n\nexport const getSig = ({ addr = '', identity = '', mode }) => {\n\tlet sigAndTIme = localStorage.getItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\n\t)\n\n\tif (!sigAndTIme) {\n\t\treturn null\n\t}\n\n\tsigAndTIme = sigAndTIme.split('-')\n\tlet sig = sigAndTIme[0]\n\tlet time = sigAndTIme[1]\n\n\tif (!time || parseInt(time, 10) <= Date.now()) {\n\t\treturn null\n\t} else {\n\t\treturn sig\n\t}\n}\n","import { Signer, utils } from 'ethers'\nimport TrezorConnect from 'trezor-connect'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\n\nTrezorConnect.manifest({\n\temail: 'contactus@adex.network',\n\tappUrl: 'http://adex.network',\n})\n\nexport default class TrezorSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\n\t\tconst bundle = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tbundle.push({\n\t\t\t\tpath: this.path + `/${index}`,\n\t\t\t\tshowOnTrezor: false,\n\t\t\t})\n\t\t}\n\n\t\treturn { bundle }\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\n\t\t\tthis.getAddsParams({ from, to })\n\t\t)\n\n\t\treturn { success, payload }\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\n\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\n\t\t\tpath: this.path,\n\t\t\ttransaction: txProps,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst signature = {\n\t\t\t\tr: payload.r,\n\t\t\t\ts: payload.s,\n\t\t\t\tv: parseInt(payload.v),\n\t\t\t}\n\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\t\treturn txSigned\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\n\t\t\tpath: this.path,\n\t\t\tmessage: message,\n\t\t\thex: !!opts.hex,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst res = {\n\t\t\t\t/*\n\t\t\t\t * NOTE: SignatureTypes.GETH\n\t\t\t\t * Current TrezorConnect window does not\n\t\t\t\t * accept device with old firmware\n\t\t\t\t */\n\t\t\t\tsignature: '0x' + payload.signature,\n\t\t\t\thash: message,\n\t\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\t\taddress: payload.address,\n\t\t\t}\n\n\t\t\treturn res\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tconnect = provider => {\n\t\treturn new TrezorSigner(provider, { path: this.path })\n\t}\n}\n","import { Signer, utils, Wallet } from 'ethers'\nimport { getLocalWallet } from 'services/wallet/wallet'\nimport { constants } from 'adex-models'\n\nexport default class LocalSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\n\t\tthis._provider = provider\n\t\tthis._opts = opts\n\t}\n\n\tgetWallet = async () => {\n\t\tif (this._wallet) {\n\t\t\treturn this._wallet\n\t\t} else {\n\t\t\tconst { email, password, authType } = this._opts\n\t\t\tconst walletData = await getLocalWallet({\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\n\t\t\treturn this._wallet\n\t\t}\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn await this.getWallet().address\n\t}\n\n\tsignTx = async params => {\n\t\tconst signetTx = await this.getWallet().sign(params)\n\t\treturn signetTx\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst wallet = await this.getWallet()\n\n\t\tconst signature = await wallet.signMessage(message)\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: wallet.address,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LocalSigner(provider, {\n\t\t\temail: this.email,\n\t\t\tpassword: this.password,\n\t\t})\n\t}\n}\n","import { Signer, utils } from 'ethers'\nimport { constants } from 'adex-models'\n\nexport default class MetaMaskSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._signer = provider.getSigner()\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn this._signer.getAddress()\n\t}\n\n\tsendTransaction = async params => {\n\t\treturn this._signer.sendTransaction(params)\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst signature = await this._signer.signMessage(message)\n\t\t// TODO: support EIP712\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: await this._signer.getAddress(),\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new MetaMaskSigner(provider)\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { utils } from 'ethers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\nimport LocalSigner from 'services/smart-contracts/signers/local'\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\n\nexport async function getSigner({ wallet, provider }) {\n\t// TODO: Maybe get provider here?\n\tconst { authType, path, email, password } = wallet\n\n\tif (authType === AUTH_TYPES.METAMASK.name) {\n\t\tconst signer = new MetaMaskSigner(provider)\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.TREZOR.name) {\n\t\tconst signer = new TrezorSigner(provider, { path })\n\t\treturn signer\n\t}\n\tif (\n\t\tauthType === AUTH_TYPES.GRANT.name ||\n\t\tauthType === AUTH_TYPES.QUICK.name\n\t) {\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\n\n\t\treturn signer\n\t}\n\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\n}\n\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\nexport const getTypedDataHash = ({ typedData }) => {\n\tconst values = typedData.map(entry => {\n\t\treturn typeof entry.value === 'string'\n\t\t\t? utils.toUtf8Bytes(entry.value)\n\t\t\t: utils.hexlify(entry.value)\n\t})\n\tconst valuesHash = utils.keccak256.apply(null, values)\n\tconst schema = typedData.map(entry => {\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\n\t})\n\n\tconst schemaHash = utils.keccak256.apply(null, schema)\n\tconst hash = utils.solidityKeccak256(\n\t\t['bytes32', 'bytes32'],\n\t\t[schemaHash, valuesHash]\n\t)\n\n\treturn hash\n}\n\nexport async function getAuthSig({ wallet }) {\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst authToken = Math.floor(\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\n\t).toString()\n\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\n\tconst hash = getTypedDataHash({ typedData })\n\tconst signature = await signer.signMessage(hash, { hex: true })\n\n\treturn {\n\t\t...signature,\n\t\tauthToken,\n\t\thash,\n\t}\n}\n\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\n\tconst { provider } = await getEthers(authType)\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\n\n\treturn Promise.all(receipts)\n}\n\nexport async function signTx({ tx, signer }) {\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\n\t\thex: true,\n\t})\n\tconst signature = splitSig(sig.signature)\n\treturn signature\n}\n\nexport async function getMultipleTxSignatures({ txns, signer }) {\n\tconst signatures = []\n\tfor (const tx of txns) {\n\t\tsignatures.push(await signTx({ tx, signer }))\n\t}\n\n\treturn signatures\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport ewt from './ewt'\n\nconst BEARER_PREFIX = 'Bearer '\nconst ANALYTICS_DATA_VALIDATOR_URL = process.env.ANALYTICS_DATA_VALIDATOR_URL\n\nconst getValidatorRequester = ({ baseUrl }) => {\n\treturn new Requester({ baseUrl })\n}\n\nconst getRequesters = ({ campaign }) => {\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\n\tconst followerRequester = getValidatorRequester({\n\t\tbaseUrl: follower.url,\n\t})\n\n\treturn {\n\t\tleader: { requester: leaderRequester, validator: leader },\n\t\tfollower: { requester: followerRequester, validator: follower },\n\t}\n}\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\n\tconst { identity, wallet } = account\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\n\tif (existingAuth) {\n\t\treturn existingAuth\n\t}\n\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst payload = {\n\t\tid: validatorId,\n\t\tidentity: identity.address,\n\t\tera: Math.floor(Date.now() / 60000),\n\t}\n\n\tconst token = ewt.sign(signer, payload)\n\n\treturn token\n}\n\nconst sendMessage = async ({ campaign, options, account }) => {\n\tconst { follower, leader } = getRequesters({ campaign })\n\n\tconst followerAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: follower.validator.id,\n\t\taccount,\n\t})\n\tconst leaderAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: leader.validator.id,\n\t\taccount,\n\t})\n\tconst followerResult = await follower.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\tconst leaderResult = await leader.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn {\n\t\tresults: {\n\t\t\tfollowerResult,\n\t\t\tleaderResult,\n\t\t},\n\t\tauthTokens: {\n\t\t\t[follower.id]: followerAuthToken,\n\t\t\t[leader.id]: leaderAuthToken,\n\t\t},\n\t}\n}\n\nexport const lastApprovedState = ({ campaign }) => {\n\tconst { leader } = getRequesters({ campaign })\n\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `channel/${campaign.id}/last-approved`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaign = ({ campaign, account }) => {\n\tconst options = {\n\t\troute: `channel/${campaign.id}/events`,\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\n\t\theaders: { 'Content-Type': 'application/json' },\n\t}\n\n\treturn sendMessage({ campaign, options, account })\n}\n\nexport const updateTargeting = ({ campaign, account, targetingRules }) => {\n\tconst options = {\n\t\troute: `channel/${campaign.id}/events`,\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({\n\t\t\tevents: [{ type: 'UPDATE_TARGETING', targetingRules }],\n\t\t}),\n\t\theaders: { 'Content-Type': 'application/json' },\n\t}\n\n\treturn sendMessage({ campaign, options, account })\n}\n\nexport const identityAnalytics = async ({\n\tleaderAuth,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n\tside,\n\tsegmentByChannel,\n\tstart,\n\tend,\n}) => {\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/${side}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: {\n\t\t\t\tmetric,\n\t\t\t\ttimeframe,\n\t\t\t\tlimit,\n\t\t\t\tsegmentByChannel,\n\t\t\t\teventType,\n\t\t\t\tstart,\n\t\t\t\tend,\n\t\t\t},\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn { aggregates, metric }\n}\n\nexport const identityAdvancedAnalytics = async ({ leaderAuth, eventType }) => {\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/advanced`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType },\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn aggregates\n}\n\nexport const campaignAnalytics = ({\n\tcampaign,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n}) => {\n\tconst { leader } = getRequesters({ campaign })\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `/analytics/${campaign.id}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const timeBasedAnalytics = async ({\n\tleaderAuth,\n\tlimit,\n\ttimeframe,\n\teventType,\n\tmetric,\n\tside,\n\tstart,\n\tend,\n\tsegmentByChannel,\n}) => {\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst result = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/${side}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: {\n\t\t\t\tlimit,\n\t\t\t\ttimeframe,\n\t\t\t\teventType,\n\t\t\t\tmetric,\n\t\t\t\tstart,\n\t\t\t\tend,\n\t\t\t\tsegmentByChannel,\n\t\t\t},\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\treturn result\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { constants } from 'adex-models'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport { bigNumberify, formatEther } from 'ethers/utils'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport {\n\tselectRelayerConfig,\n\tselectMainToken,\n\tselectRoutineWithdrawTokens,\n\tselectFeeTokenWhitelist,\n} from 'selectors'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\n\tif (token.address === mainToken.address) {\n\t\treturn balance\n\t}\n\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\n\n\t// approve + swap txns\n\tconst swapFees = bigNumberify(feeToken.min).mul(bigNumberify(2))\n\n\tconst isAvailable = swapFees.mul(bigNumberify(2)).lte(balance)\n\treturn isAvailable ? balance : bigNumberify(0)\n}\n\nexport const getTotalAccountRevenue = async ({ all }) => {\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\n\tconst totalRevenue = await Object.values(all).reduce(\n\t\tasync (revenuePr, { balance, depositAsset } = {}) => {\n\t\t\tconst revenue = await revenuePr\n\n\t\t\tconst token = withdrawTokens[depositAsset]\n\n\t\t\tconst hasMinBalance = bigNumberify(balance).gt(\n\t\t\t\tbigNumberify(token.minFinal)\n\t\t\t)\n\n\t\t\tconst balanceMainToken = hasMinBalance\n\t\t\t\t? await tokenInMainTokenValue({\n\t\t\t\t\t\ttoken,\n\t\t\t\t\t\tbalance,\n\t\t\t\t  })\n\t\t\t\t: bigNumberify(0)\n\n\t\t\treturn revenue.add(balanceMainToken)\n\t\t},\n\t\tPromise.resolve(bigNumberify(0))\n\t)\n\n\treturn totalRevenue\n}\n\nexport const getWithdrawTokensBalances = async ({\n\tauthType,\n\taddress,\n\tgetFullBalances,\n}) => {\n\tconst { getToken } = await getEthers(authType)\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\n\t\tconst tokenContract = getToken(token)\n\n\t\tconst balance = await tokenContract.balanceOf(address)\n\n\t\tconst available = getFullBalances\n\t\t\t? balance\n\t\t\t: tokenAvailableBalance({\n\t\t\t\t\ttoken,\n\t\t\t\t\tmainToken,\n\t\t\t\t\tbalance,\n\t\t\t  })\n\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: available,\n\t\t})\n\n\t\treturn { token, balance: available, balanceMainToken }\n\t})\n\n\tconst balances = await Promise.all(balancesCalls)\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\n\t\t(data, balanceData) => {\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\n\t\t\t\tbalanceData.balanceMainToken\n\t\t\t)\n\n\t\t\tif (balanceData.token.address === mainToken.address) {\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\n\t\t\t}\n\n\t\t\treturn data\n\t\t},\n\t\t{\n\t\t\ttotalBalanceInMainToken: bigNumberify(0),\n\t\t\tmainTokenBalance: bigNumberify(0),\n\t\t}\n\t)\n\n\treturn {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t\ttotalBalanceInMainToken,\n\t}\n}\n\nexport async function getAddressBalances({\n\taddress,\n\tauthType,\n\tgetFullBalances,\n}) {\n\tconst { provider } = await getEthers(authType)\n\n\tconst calls = [\n\t\tprovider.getBalance(address.address),\n\t\tgetWithdrawTokensBalances({\n\t\t\tauthType,\n\t\t\taddress: address.address,\n\t\t\tgetFullBalances,\n\t\t}),\n\t]\n\n\tconst balances = await Promise.all(calls)\n\tconst formatted = {\n\t\taddress: address.address,\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\n\t\tbalanceEth: formatEther(balances[0].toString()),\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\n\t\t\treturn {\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\n\t\t\t\tsymbol: token.symbol,\n\t\t\t}\n\t\t}),\n\t}\n\n\treturn formatted\n}\n\nexport async function getAccountStats({\n\taccount,\n\toutstandingBalanceMainToken = {\n\t\ttotal: bigNumberify('0'),\n\t\tavailable: bigNumberify('0'),\n\t},\n\tall,\n}) {\n\tconst { wallet, identity } = account\n\tconst { authType } = wallet\n\tconst { address } = identity\n\tconst { getIdentity } = await getEthers(authType)\n\tconst { decimals } = selectMainToken()\n\n\tconst { status = {} } = identity\n\tconst identityContract = getIdentity({ address })\n\tlet privilegesAction\n\ttry {\n\t\tawait identityContract.deployed()\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\n\t} catch {\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\n\t}\n\n\tconst calls = [\n\t\tgetWithdrawTokensBalances({ authType, address }),\n\t\tprivilegesAction,\n\t\tgetTotalAccountRevenue({ all }),\n\t]\n\n\tconst [\n\t\tidentityWithdrawTokensBalancesBalances = {},\n\t\twalletPrivileges,\n\t\ttotalRevenue,\n\t] = await Promise.all(\n\t\tcalls.map(c =>\n\t\t\tc\n\t\t\t\t.then(res => res)\n\t\t\t\t.catch(e => {\n\t\t\t\t\treturn undefined\n\t\t\t\t})\n\t\t)\n\t)\n\n\tconst identityBalanceMainToken =\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken ||\n\t\tbigNumberify(0)\n\n\t// BigNumber values for balances\n\tconst raw = {\n\t\tidentityWithdrawTokensBalancesBalances,\n\t\twalletPrivileges,\n\t\tidentityBalanceMainToken,\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.available\n\t\t),\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.total\n\t\t),\n\t\ttotalRevenue,\n\t}\n\n\tconst formatted = {\n\t\twalletAddress: wallet.address,\n\t\twalletAuthType: wallet.authType,\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\n\t\tidentityAddress: identity.address,\n\t\tidentityBalanceMainToken: formatTokenAmount(\n\t\t\tidentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\toutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.outstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalOutstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.availableIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalRevenue: formatTokenAmount(\n\t\t\traw.totalRevenue || '0',\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t}\n\n\treturn {\n\t\traw,\n\t\tformatted,\n\t}\n}\n\n// NOTE: currently working because DAI and SAI has the same price and decimals\n// We should use getOutstandingBalanceMainToken if changed\nexport async function getOutstandingBalance({ withBalance }) {\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable } = ch\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstanding)\n\t\tcurrent.available = current.available.add(\n\t\t\tbigNumberify(outstandingAvailable)\n\t\t)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\n\tconst tokens = selectRoutineWithdrawTokens()\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\n\t\tconst { depositAsset } = channel\n\t\tconst token = tokens[depositAsset]\n\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: outstandingAvailable,\n\t\t})\n\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstandingMT)\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getAllValidatorsAuthForIdentity({\n\twithBalance,\n\taccount,\n}) {\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\n\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\n\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\tconst keys = Object.keys(allValidators)\n\n\tconst tokenCalls = keys.map(async key => {\n\t\tif (allValidators[key]) {\n\t\t\treturn allValidators[key]\n\t\t} else {\n\t\t\tconst token = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: key,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\treturn token\n\t\t}\n\t})\n\n\tconst allTokens = await Promise.all(tokenCalls)\n\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[key]: allTokens[index],\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\treturn validatorsAuth\n}\n\nconst saiDaiConversion = async ({ token, balance }) => balance\n\nconst valueInMainTokenConversions = {\n\t// SAI\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\n\t\t// DAI\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\n\t},\n\t// DAI\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\n\t\t// SAI\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\n\t},\n}\n\nexport async function tokenInMainTokenValue({ token, balance }) {\n\tconst { address } = selectMainToken()\n\n\tif (address === token.address) {\n\t\treturn balance\n\t}\n\n\tconst valueInMainToken = await valueInMainTokenConversions[\n\t\taddress.toLowerCase()\n\t][token.address.toLowerCase()]({\n\t\ttoken,\n\t\tbalance,\n\t})\n\n\treturn valueInMainToken\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetSigner,\n\tgetMultipleTxSignatures,\n} from 'services/smart-contracts/actions/ethers'\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\nimport { Contract } from 'ethers'\nimport {\n\tbigNumberify,\n\tparseUnits,\n\tgetAddress,\n\tInterface,\n\tkeccak256,\n\tid,\n} from 'ethers/utils'\nimport { generateAddress2 } from 'ethereumjs-util'\nimport { executeTx } from 'services/adex-relayer'\nimport {\n\tselectRelayerConfig,\n\tselectMainToken,\n\tselectFeeTokenWhitelist,\n\tselectSaiToken,\n\tt,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\nimport solc from 'solcBrowser'\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\nimport { contracts } from 'services/smart-contracts/contractsCfg'\nconst { AdExENSManager, ReverseRegistrar } = contracts\n\nconst ERC20 = new Interface(ERC20TokenABI)\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\nconst AdExENSManagerInterface = new Interface(AdExENSManager.abi)\nconst ReverseRegistrarInterface = new Interface(ReverseRegistrar.abi)\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\n\nexport async function getIdentityDeployData({\n\towner,\n\trelayerRoutineAuthValidUntil = 10648454444,\n}) {\n\tconst {\n\t\tidentityFactoryAddr,\n\t\trelayerAddr,\n\t\tbaseIdentityAddr,\n\t\tidentityRecoveryAddr,\n\t\tcoreAddr,\n\t\tmainToken,\n\t} = selectRelayerConfig()\n\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\n\n\tconst routineAuthorizationsRaw = [\n\t\t{\n\t\t\trelayer: relayerAddr,\n\t\t\toutpace: coreAddr,\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tfeeTokenAmount: '0x00',\n\t\t},\n\t]\n\n\tconst bytecode = getProxyDeployBytecode(\n\t\tbaseIdentityAddr,\n\t\tprivileges,\n\t\t{\n\t\t\tprivSlot: 0,\n\t\t\troutineAuthsSlot: 1,\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\n\t\t\t\tnew RoutineAuthorization(x).hash()\n\t\t\t),\n\t\t},\n\t\tsolc\n\t)\n\n\tconst salt = keccak256(owner)\n\n\tconst identityAddr = getAddress(\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\n\t)\n\n\treturn {\n\t\tidentityFactoryAddr,\n\t\tbaseIdentityAddr,\n\t\tbytecode,\n\t\tsalt,\n\t\tidentityAddr,\n\t\tprivileges,\n\t\troutineAuthorizationsRaw,\n\t}\n}\n\nexport async function withdrawFromIdentity({\n\taccount,\n\tamountToWithdraw,\n\twithdrawTo,\n\tgetFeesOnly,\n}) {\n\tconst mainToken = selectMainToken()\n\tconst { decimals, symbol, address: tokenAddr } = mainToken\n\tconst { wallet, identity, stats } = account\n\tconst { authType } = wallet\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, Identity, getToken } = await getEthers(authType)\n\n\tconst identityAddr = identity.address\n\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\n\n\tconst withdrawTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: tokenAddr,\n\t\tto: tokenAddr,\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\n\t\twithdrawTx: true,\n\t}\n\tconst txns = [withdrawTx]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: toWithdraw,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\n\tif (fees.totalBN.gt(mtBalance)) {\n\t\tthrow new Error(\n\t\t\tt('ERR_INSUFFICIENT_BALANCE_WITHDRAW', {\n\t\t\t\targs: [\n\t\t\t\t\t`${formatTokenAmount(\n\t\t\t\t\t\tmtBalance.toString(),\n\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t2\n\t\t\t\t\t)} ${symbol}`,\n\t\t\t\t\t`${fees.total} ${symbol}`,\n\t\t\t\t\t`${formatTokenAmount(toWithdraw.toString(), decimals)} ${symbol}`,\n\t\t\t\t],\n\t\t\t})\n\t\t)\n\t}\n\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\n\n\tlet actualWithdrawAmount = toWithdraw\n\n\tif (toWithdraw.gt(maxWithdraw)) {\n\t\tactualWithdrawAmount = maxWithdraw\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\n\t\t\tif (tx.withdrawTx) {\n\t\t\t\ttx.data = ERC20.functions.transfer.encode([\n\t\t\t\t\twithdrawTo,\n\t\t\t\t\tactualWithdrawAmount.toString(),\n\t\t\t\t])\n\t\t\t}\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\ttotalBN: fees.totalBN,\n\t\t\tactualWithdrawAmount,\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, decimals),\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function setIdentityPrivilege({\n\taccount,\n\tsetAddr,\n\tprivLevel,\n\tgetFeesOnly,\n}) {\n\tconst { wallet, identity } = account\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\tconst identityAddr = identity.address\n\n\tconst identityInterface = new Interface(Identity.abi)\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: identityAddr,\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t]),\n\t}\n\n\tconst txns = [tx1]\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tif (getFeesOnly) {\n\t\tconst { total, totalBN } = await getIdentityTxnsTotalFees({\n\t\t\ttxnsByFeeToken,\n\t\t})\n\t\treturn {\n\t\t\tfees: total,\n\t\t\ttotalBN,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\ttxnsByFeeToken,\n\t\tidentityAddr,\n\t\twallet,\n\t\tprovider,\n\t\textraData: {\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t},\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\nfunction txnsByTokenWithSaiToDaiSwap({\n\ttxns,\n\tmainToken,\n\tdaiAddr,\n\tsaiAddr,\n\tidentityAddr,\n}) {\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\n\t\t(current, tx, i) => {\n\t\t\tconst { withdrawAmountByToken } = tx\n\n\t\t\tconst needSaiToDaiSwap =\n\t\t\t\t!!saiAddr &&\n\t\t\t\t!!withdrawAmountByToken &&\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\n\t\t\t\tmainToken.address === daiAddr &&\n\t\t\t\tsaiAddr !== daiAddr\n\n\t\t\tlet feeTokenAddr = ''\n\n\t\t\tif (needSaiToDaiSwap) {\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\n\t\t\t\t\tbigNumberify(withdrawAmountByToken[saiAddr])\n\t\t\t\t)\n\t\t\t\tfeeTokenAddr = daiAddr\n\t\t\t}\n\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\n\t\t\t// normalize tx\n\t\t\ttx.feeTokenAddr = feeTokenAddr\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\n\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = [\n\t\t\t\t...(current.txnsByFeeToken[feeTokenAddr] || []),\n\t\t\t\ttx,\n\t\t\t]\n\n\t\t\treturn current\n\t\t},\n\t\t{\n\t\t\tsaiWithdrawAmount: bigNumberify('0'),\n\t\t\ttxnsByFeeToken: {},\n\t\t}\n\t)\n\n\treturn { txnsByFeeToken, saiWithdrawAmount }\n}\n\nexport async function addIdentityENS({ username = '', account, getFeesOnly }) {\n\tconst { wallet, identity } = account\n\tconst { provider, MainToken, getToken, Identity } = await getEthers(\n\t\twallet.authType\n\t)\n\tconst identityAddr = identity.address\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: AdExENSManager.address,\n\t\tdata: AdExENSManagerInterface.functions.registerAndSetup.encode([\n\t\t\tAdExENSManager.publicResolver,\n\t\t\tid(username),\n\t\t\tidentityAddr,\n\t\t]),\n\t}\n\n\tconst tx2 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: ReverseRegistrar.address,\n\t\tdata: ReverseRegistrarInterface.functions.setName.encode([\n\t\t\t`${username}.${ReverseRegistrar.parentDomain}`,\n\t\t]),\n\t}\n\n\tconst txns = [tx1, tx2]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { total, totalBN } = await getIdentityTxnsTotalFees({\n\t\ttxnsByFeeToken,\n\t\tmainToken,\n\t})\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: total,\n\t\t\ttotalBN,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function getIdentityTxnsWithNoncesAndFees({\n\tamountInMainTokenNeeded = '0',\n\ttxns = [],\n\tidentityAddr,\n\tprovider,\n\tIdentity,\n\taccount,\n\tgetToken,\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst saiToken = selectSaiToken()\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\n\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\n\tlet identityContract = null\n\n\tif (isDeployed) {\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\n\t}\n\n\tconst initialNonce = isDeployed\n\t\t? (await identityContract.nonce()).toNumber()\n\t\t: 0\n\n\tconst feesForMainTxns = txns.length\n\t\t? bigNumberify(\n\t\t\t\t!initialNonce\n\t\t\t\t\t? mainTokenWithFees.minDeploy\n\t\t\t\t\t: mainTokenWithFees.minRecommended\n\t\t  ).add(\n\t\t\t\tbigNumberify(mainTokenWithFees.minRecommended).mul(\n\t\t\t\t\tbigNumberify(txns.length - 1)\n\t\t\t\t)\n\t\t  )\n\t\t: bigNumberify(0)\n\n\tconst totalAmountInMainTokenNeeded = feesForMainTxns.add(\n\t\tbigNumberify(amountInMainTokenNeeded)\n\t)\n\n\tconst {\n\t\tsweepTxns = [],\n\t\tswapAmountsByToken = {},\n\t} = await getSweepingTxnsIfNeeded({\n\t\tamountInMainTokenNeeded: totalAmountInMainTokenNeeded,\n\n\t\taccount,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns: sweepTxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// 1st - always get sweeping txns (channelWithdraw)\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\n\t// 3rd - make other txns with the main token only\n\n\t// TODO: make it work with other tokens\n\t// TODO: change getSwapAmountsByToken if more swaps are supported\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\n\t\t.add(bigNumberify(swapAmountsByToken[saiAddr] || 0))\n\n\tif (!saiSwapAmount.isZero()) {\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\n\t\t\t...(await swapSaiToDaiTxns({\n\t\t\t\tgetToken,\n\t\t\t\tidentityAddr,\n\t\t\t\tdaiAddr,\n\t\t\t\tsaiToken,\n\t\t\t\tswapAmount: saiSwapAmount,\n\t\t\t})),\n\t\t]\n\t}\n\n\tconst allFeeTokens = [\n\t\t...new Set([\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\n\t\t]),\n\t]\n\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\n\t\ttxns[token] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\n\t\t]\n\n\t\treturn txns\n\t}, {})\n\n\tlet currentNonce = initialNonce\n\n\tObject.keys(txnsByFeeToken).forEach(key => {\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\n\t\t\tconst { routinesSweepTxCount = 0, extraTxFeesCount = 0, isSweepTx } = tx\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\n\t\t\tconst txFeeAmount = isSweepTx ? feeToken.min : feeToken.minRecommended\n\n\t\t\tconst minFeeAmount = bigNumberify(\n\t\t\t\tcurrentNonce === 0 ? feeToken.minDeploy : txFeeAmount\n\t\t\t)\n\n\t\t\tconst sweepRoutinesFeeAmount = bigNumberify(routinesSweepTxCount).mul(\n\t\t\t\tbigNumberify(feeToken.min)\n\t\t\t)\n\n\t\t\tconst extraFeesAmount = bigNumberify(extraTxFeesCount).mul(\n\t\t\t\tbigNumberify(feeToken.minRecommended)\n\t\t\t)\n\n\t\t\t// Total relayer fees for the transaction\n\t\t\tconst feeAmount = minFeeAmount\n\t\t\t\t.add(sweepRoutinesFeeAmount)\n\t\t\t\t.add(extraFeesAmount)\n\t\t\t\t.toString()\n\n\t\t\t// fees that are not pre calculated with in the total identity balance\n\t\t\tconst nonIdentityBalanceFeeAmount = bigNumberify(feeAmount)\n\t\t\t\t.sub(bigNumberify(isSweepTx ? feeToken.min : 0))\n\t\t\t\t.sub(bigNumberify(routinesSweepTxCount).mul(bigNumberify(feeToken.min)))\n\t\t\t\t.toString()\n\n\t\t\tconst txWithNonce = {\n\t\t\t\t...tx,\n\t\t\t\tfeeTokenAddr: feeToken.address,\n\t\t\t\tfeeAmount,\n\t\t\t\tnonce: currentNonce,\n\t\t\t\tnonIdentityBalanceFeeAmount,\n\t\t\t}\n\n\t\t\tcurrentNonce += 1\n\n\t\t\treturn txWithNonce\n\t\t})\n\t})\n\n\treturn txnsByFeeToken\n}\n\nexport async function getApproveTxns({\n\tgetToken,\n\ttoken,\n\tidentityAddr,\n\tfeeTokenAddr,\n\tapproveForAddress,\n\tapproveAmount,\n}) {\n\tconst tokenContract = getToken(token)\n\n\tconst allowance = await tokenContract.allowance(\n\t\tidentityAddr,\n\t\tapproveForAddress\n\t)\n\n\tconst approveTxns = []\n\n\tif (!allowance.isZero()) {\n\t\tapproveTxns.push({\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: token.address,\n\t\t\tdata: ERC20.functions.approve.encode([approveForAddress, 0]),\n\t\t})\n\t}\n\n\tapproveTxns.push({\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: feeTokenAddr,\n\t\tto: token.address,\n\t\tdata: ERC20.functions.approve.encode([approveForAddress, approveAmount]),\n\t})\n\n\treturn approveTxns\n}\n\nasync function swapSaiToDaiTxns({\n\tidentityAddr,\n\tdaiAddr,\n\tsaiToken,\n\tswapAmount,\n\tgetToken,\n}) {\n\tconst approveTxns = await getApproveTxns({\n\t\tgetToken,\n\t\ttoken: saiToken,\n\t\tidentityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\n\t\tapproveAmount: swapAmount,\n\t})\n\n\tconst swapTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tto: SCD_MCD_MIGRATION_ADDR,\n\t\tdata: ScdMcdMigration.functions.swapSaiToDai.encode([swapAmount]),\n\t}\n\n\treturn [...approveTxns, swapTx]\n}\n\n// TODO: use byToken where needed\n// currently works because only using SAI and DAI only\nexport async function getIdentityTxnsTotalFees({\n\ttxnsByFeeToken,\n\tmainToken = {},\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst bigZero = bigNumberify('0')\n\tconst feesData = Object.values(txnsByFeeToken)\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\n\t\t.reduce(\n\t\t\t(result, tx) => {\n\t\t\t\tconst txFeeAmount = bigNumberify(tx.nonIdentityBalanceFeeAmount)\n\t\t\t\tresult.total = result.total.add(txFeeAmount)\n\n\t\t\t\tresult.byToken[tx.feeTokenAddr] = (\n\t\t\t\t\tresult.byToken[tx.feeTokenAddr] || bigZero\n\t\t\t\t).add(txFeeAmount)\n\n\t\t\t\treturn result\n\t\t\t},\n\t\t\t{ total: bigZero, byToken: {} }\n\t\t)\n\n\tconst byToken = Object.entries(feesData.byToken).map(([key, value]) => {\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\n\t\treturn {\n\t\t\taddress: key,\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\n\t\t\tsymbol,\n\t\t\tfeeFormatted: `${formatTokenAmount(\n\t\t\t\tvalue.toString(),\n\t\t\t\tdecimals,\n\t\t\t\tfalse,\n\t\t\t\t4\n\t\t\t)} ${symbol}`,\n\t\t}\n\t})\n\n\tconst fees = {\n\t\t// TODO: change to return total as BN and add totalFormatted\n\t\ttotal: formatTokenAmount(\n\t\t\tfeesData.total.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalBN: feesData.total,\n\t\tbyToken,\n\t}\n\n\treturn fees\n}\n\nexport async function processExecuteByFeeTokens({\n\ttxnsByFeeToken,\n\twallet,\n\tprovider,\n\tidentityAddr,\n\textraData = {},\n}) {\n\tconst signer = await getSigner({ wallet, provider })\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\n\t\tconst data = {\n\t\t\ttxnsRaw,\n\t\t\tsignatures,\n\t\t\tidentityAddr,\n\t\t\t...extraData,\n\t\t}\n\n\t\tif (\n\t\t\tprocess.env.BUILD_TYPE === 'staging' ||\n\t\t\tprocess.env.NODE_ENV === 'development'\n\t\t) {\n\t\t\tconsole.log('data', JSON.stringify(data, null, 2))\n\t\t}\n\n\t\tconst result = await executeTx(data)\n\n\t\treturn {\n\t\t\tresult,\n\t\t}\n\t})\n\n\tconst results = await Promise.all(all)\n\n\treturn results\n}\n\nexport async function withdrawOtherTokensFromIdentity({\n\taccount,\n\tamountToWithdraw,\n\ttokenAddress,\n\ttokenDecimals,\n\twithdrawTo,\n\tgetFeesOnly,\n}) {\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { wallet, identity } = account\n\tconst { authType } = wallet\n\tconst { provider, Identity, getToken } = await getEthers(authType)\n\tconst decimals = parseInt(tokenDecimals, 10)\n\n\tconst identityAddr = identity.address\n\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\n\n\tconst withdrawTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: mainToken.address,\n\t\tto: tokenAddress,\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\n\t}\n\tconst txns = [withdrawTx]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\ttoGet: formatTokenAmount(toWithdraw, decimals),\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n","import crypto from 'crypto'\nimport { Channel, splitSig, RoutineOps } from 'adex-protocol-eth/js'\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetIdentityTxnsWithNoncesAndFees,\n\tgetIdentityTxnsTotalFees,\n\tprocessExecuteByFeeTokens,\n\tgetApproveTxns,\n} from 'services/smart-contracts/actions/identity'\nimport { contracts } from '../contractsCfg'\nimport { closeCampaign } from 'services/adex-validator/actions'\nimport { Campaign, AdUnit } from 'adex-models'\nimport { getCampaigns } from 'services/adex-market/actions'\nimport {\n\tbigNumberify,\n\trandomBytes,\n\tparseUnits,\n\tInterface,\n\tgetAddress,\n} from 'ethers/utils'\nimport {\n\tselectFeeTokenWhitelist,\n\tselectRoutineWithdrawTokens,\n\tselectMainFeeToken,\n\tselectMainToken,\n\tselectSaiToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\nimport { selectChannelsWithUserBalancesEligible } from 'selectors'\nimport { getState } from 'store'\n\nconst { AdExCore } = contracts\nconst Core = new Interface(AdExCore.abi)\nconst IdentityInterface = new Interface(IdentityABI)\n\nconst timeframe = 5 * 60 * 1000 // 1 event per 5 minutes\nconst VALID_UNTIL_COEFFICIENT = 0.5\nconst VALID_UNTIL_MIN_PERIOD = 15 * 24 * 60 * 60 * 1000 // 15 days in ms\nconst OUTSTANDING_STATUSES = {\n\tActive: true,\n\tReady: true,\n\tExhausted: true,\n\tOffline: true,\n\tUnhealthy: true,\n\tWithdraw: true,\n}\n\nconst EXTRA_PROCESS_TIME = 69 * 60 // 69 min in seconds\n\nfunction toEthereumChannel(channel) {\n\tconst specHash = crypto\n\t\t.createHash('sha256')\n\t\t.update(JSON.stringify(channel.spec))\n\t\t.digest()\n\n\treturn new Channel({\n\t\ttitle: channel.title,\n\t\tcreator: channel.creator,\n\t\ttokenAddr: channel.depositAsset,\n\t\ttokenAmount: channel.depositAmount,\n\t\tvalidUntil: channel.validUntil,\n\t\tvalidators: channel.spec.validators.map(v => v.id),\n\t\tspec: specHash,\n\t})\n}\n\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\n\tconst period = withdrawPeriodStart - activeFrom\n\tconst validUntil =\n\t\twithdrawPeriodStart +\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\n\n\treturn Math.floor(validUntil / 1000)\n}\n\nfunction userInputToTokenValue({ input, decimals, divider = 1 }) {\n\treturn parseUnits(input || '0', decimals)\n\t\t.div(bigNumberify(divider))\n\t\t.toString()\n}\n\nfunction getReadyCampaign(campaign, identity, mainToken) {\n\tconst { decimals } = mainToken\n\tconst newCampaign = new Campaign(campaign)\n\n\tnewCampaign.creator = identity.address\n\tnewCampaign.created = Date.now()\n\tnewCampaign.validUntil = getValidUntil(\n\t\tnewCampaign.activeFrom,\n\t\tnewCampaign.withdrawPeriodStart\n\t)\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\n\tnewCampaign.depositAmount = userInputToTokenValue({\n\t\tinput: newCampaign.depositAmount,\n\t\tdecimals,\n\t})\n\n\tconst validators = newCampaign.validators.map(v => {\n\t\tconst deposit = bigNumberify(newCampaign.depositAmount || 0)\n\t\tconst fee = deposit\n\t\t\t.mul(bigNumberify(v.feeNum || 1))\n\t\t\t.div(bigNumberify(v.feeDen || 1))\n\t\t\t.toString()\n\n\t\tconst validator = {\n\t\t\tid: v.id,\n\t\t\turl: v.url,\n\t\t\tfee,\n\t\t}\n\n\t\tif (v.feeAddr) {\n\t\t\tvalidator.feeAddr = v.feeAddr\n\t\t}\n\n\t\treturn validator\n\t})\n\n\tnewCampaign.validators = validators\n\n\tconst pricingBounds = { ...newCampaign.pricingBounds }\n\tconst impression = { ...pricingBounds.IMPRESSION }\n\n\timpression.min = userInputToTokenValue({\n\t\tinput: impression.min,\n\t\tdecimals,\n\t\tdivider: 1000, // Input is for CPM (1000)\n\t})\n\timpression.max = userInputToTokenValue({\n\t\tinput: impression.max,\n\t\tdecimals,\n\t\tdivider: 1000, // Input is for CPM (1000)\n\t})\n\tpricingBounds.IMPRESSION = impression\n\n\t// TODO: CLICK when available\n\tnewCampaign.pricingBounds = pricingBounds\n\n\t// TEMP: legacy compatibility\n\tnewCampaign.minPerImpression = impression.min\n\tnewCampaign.maxPerImpression = impression.max\n\n\tnewCampaign.depositAsset = mainToken.address\n\tnewCampaign.eventSubmission = {\n\t\tallow: [\n\t\t\t{\n\t\t\t\tuids: [\n\t\t\t\t\tnewCampaign.creator,\n\t\t\t\t\tnewCampaign.validators[0].id,\n\t\t\t\t\tnewCampaign.validators[1].id,\n\t\t\t\t],\n\t\t\t},\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\n\t\t],\n\t}\n\n\tnewCampaign.status = {\n\t\tname: 'Pending',\n\t\thumanFriendlyName: 'Pending',\n\t\tlastChecked: Date.now(),\n\t}\n\n\treturn newCampaign\n}\n\nconst getWithdrawnPerUserOutstanding = async ({\n\tAdExCore,\n\tchannel,\n\tbalance,\n\tidentityAddr,\n}) => {\n\treturn bigNumberify(balance).sub(\n\t\tawait AdExCore.functions.withdrawnPerUser(channel.id, identityAddr)\n\t)\n}\n\nexport async function getChannelsWithOutstanding({ identityAddr, wallet }) {\n\tconst { authType } = wallet\n\tconst channels = await getCampaigns({ all: true, byEarner: identityAddr })\n\tconst { AdExCore } = await getEthers(authType)\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\n\n\tconst allChannels = await Promise.all(\n\t\tchannels\n\t\t\t.filter(\n\t\t\t\tchannel =>\n\t\t\t\t\tchannel &&\n\t\t\t\t\tchannel.status &&\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\n\t\t\t)\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedBalances } = channel.status\n\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\n\t\t\t\t\t(balances, e) => {\n\t\t\t\t\t\tconst [address, balance] = e\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (getAddress(address)) {\n\t\t\t\t\t\t\t\tbalances[address] = balance\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch {}\n\t\t\t\t\t\treturn balances\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t)\n\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\n\n\t\t\t\treturn channel\n\t\t\t})\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\n\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\n\t\t\t\treturn {\n\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\tlastApprovedBalances,\n\t\t\t\t\tbTree,\n\t\t\t\t\tchannel,\n\t\t\t\t}\n\t\t\t})\n\t\t\t.filter(({ bTree }) => {\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\n\t\t\t})\n\t\t\t.map(\n\t\t\t\tasync ({ channel, lastApprovedSigs, lastApprovedBalances, bTree }) => {\n\t\t\t\t\t//  mTree,\n\t\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\n\n\t\t\t\t\tconst outstanding = await getWithdrawnPerUserOutstanding({\n\t\t\t\t\t\tAdExCore,\n\t\t\t\t\t\tchannel,\n\t\t\t\t\t\tbalance,\n\t\t\t\t\t\tidentityAddr,\n\t\t\t\t\t})\n\n\t\t\t\t\tconst outstandingAvailable = outstanding.sub(\n\t\t\t\t\t\tbigNumberify(feeTokenWhitelist[channel.depositAsset].min)\n\t\t\t\t\t)\n\n\t\t\t\t\tconst balanceNum = bigNumberify(channel.depositAmount)\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[0].fee || 0))\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[1].fee || 0))\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tchannel,\n\t\t\t\t\t\tbalance,\n\t\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\t\toutstanding,\n\t\t\t\t\t\toutstandingAvailable,\n\t\t\t\t\t\tlastApprovedBalances,\n\t\t\t\t\t\tbalanceNum,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t)\n\n\tconst all = Object.assign(\n\t\t{},\n\t\t...allChannels.map(c => {\n\t\t\tconst { channel, balance } = c\n\t\t\tconst { id, depositAmount, depositAsset, status, spec } = channel\n\t\t\tconst balanceNum = bigNumberify(depositAmount)\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[0].fee))\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[1].fee))\n\t\t\t\t.toString()\n\n\t\t\treturn {\n\t\t\t\t[c.channel.id.toLowerCase()]: {\n\t\t\t\t\tid,\n\t\t\t\t\tbalance,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tdepositAsset,\n\t\t\t\t\tbalanceNum,\n\t\t\t\t\tstatus: status.name,\n\t\t\t\t\tadUnits: spec.adUnits, //TODO: add only what needed\n\t\t\t\t},\n\t\t\t}\n\t\t})\n\t)\n\n\tconst withOutstandingBalance = allChannels.filter(x => {\n\t\treturn (\n\t\t\tOUTSTANDING_STATUSES[x.channel.status.name] &&\n\t\t\tnew Date((x.channel.validUntil - EXTRA_PROCESS_TIME) * 1000) >\n\t\t\t\tDate.now() &&\n\t\t\tx.outstanding.gt(\n\t\t\t\tbigNumberify(routineWithdrawTokens[x.channel.depositAsset].minPlatform)\n\t\t\t) &&\n\t\t\tx.outstandingAvailable.gt(bigNumberify('0'))\n\t\t)\n\t})\n\n\treturn { all, withOutstandingBalance }\n}\n\nasync function getChannelsToSweepFrom({ amountToSweep, withBalance = [] }) {\n\tconst { eligible } = withBalance\n\t\t.sort((c1, c2) => {\n\t\t\treturn bigNumberify(c2.outstandingAvailable).gt(\n\t\t\t\tbigNumberify(c1.outstandingAvailable)\n\t\t\t)\n\t\t})\n\t\t.reduce(\n\t\t\t(data, c) => {\n\t\t\t\tconst current = { ...data }\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\n\t\t\t\t\tcurrent.eligible.push(c)\n\t\t\t\t\tcurrent.sum = current.sum.add(bigNumberify(c.outstandingAvailable))\n\t\t\t\t}\n\n\t\t\t\treturn current\n\t\t\t},\n\t\t\t{ sum: bigNumberify(0), eligible: [] }\n\t\t)\n\n\treturn eligible\n}\n\nconst getChannelWithdrawData = ({\n\tidentityAddr,\n\tbalance,\n\tlastApprovedBalances,\n\tlastApprovedSigs,\n\tethChannelTuple,\n}) => {\n\tconst bTree = new BalanceTree(lastApprovedBalances)\n\tconst proof = bTree.getProof(identityAddr)\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\n\tconst root = bTree.mTree.getRoot()\n\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\n}\n\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\n\t\t(data, tx) => {\n\t\t\tconst updated = { ...data }\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || bigNumberify(0)\n\t\t\t).add(bigNumberify(tx.withdrawAmountByToken[tx.feeTokenAddr]))\n\n\t\t\treturn updated\n\t\t},\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\n\t)\n\n\tconst data = IdentityInterface.functions.executeRoutines.encode([\n\t\troutineAuthTuple,\n\t\troutineOpts,\n\t])\n\n\tconst routinesTx = {\n\t\tidentityContract: identityAddr,\n\t\tto: identityAddr,\n\t\tdata,\n\t\twithdrawAmountByToken,\n\t\troutinesSweepTxCount: routineOpts.length,\n\t}\n\n\treturn routinesTx\n}\n\nfunction getIdentityRoutineAuthTuple(identity) {\n\treturn identity &&\n\t\tidentity.relayerData &&\n\t\tidentity.relayerData.deployData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t: null\n}\n\nfunction is41identity(routineAuthTuple) {\n\tconst is41 = routineAuthTuple && routineAuthTuple.length === 5\n\n\treturn is41\n}\n\nfunction hasValidExecuteRoutines(routineAuthTuple) {\n\tconst hasValidRoutines =\n\t\tis41identity(routineAuthTuple) &&\n\t\tparseInt((routineAuthTuple[2], 16) - EXTRA_PROCESS_TIME) * 1000 > Date.now()\n\n\treturn hasValidRoutines\n}\n\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\n\tconst { wallet, identity } = account\n\t// TODO: pass withBalance as prop\n\tconst withBalance = selectChannelsWithUserBalancesEligible(getState())\n\n\tconst { AdExCore } = await getEthers(wallet.authType)\n\tconst identityAddr = identity.address\n\tconst channelsToSweep = await getChannelsToSweepFrom({\n\t\tamountToSweep,\n\t\tidentityAddr,\n\t\twithBalance,\n\t})\n\n\tconst txns = channelsToSweep.map((c, i) => {\n\t\tconst {\n\t\t\tlastApprovedBalances,\n\t\t\tchannel,\n\t\t\tlastApprovedSigs,\n\t\t\toutstanding,\n\t\t\t// outstandingAvailable,\n\t\t\tbalance,\n\t\t} = c\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\n\n\t\tconst data = getChannelWithdrawData({\n\t\t\tidentityAddr,\n\t\t\tbalance,\n\t\t\tlastApprovedBalances,\n\t\t\tlastApprovedSigs,\n\t\t\tethChannelTuple,\n\t\t})\n\n\t\treturn {\n\t\t\tidentityContract: identityAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tfeeTokenAddr: channel.depositAsset,\n\t\t\tdata,\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\n\t\t}\n\t})\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\n\tlet encodedTxns = null\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\n\t\tencodedTxns = [\n\t\t\tgetSweepExecuteRoutineTx({\n\t\t\t\ttxns,\n\t\t\t\tidentityAddr,\n\t\t\t\troutineAuthTuple,\n\t\t\t}),\n\t\t]\n\t} else {\n\t\tencodedTxns = txns.map(tx => {\n\t\t\ttx.data = Core.functions.channelWithdraw.encode(tx.data)\n\t\t\ttx.isSweepTx = true\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\treturn encodedTxns\n}\n\nfunction getSwapAmountsByToken({ balances }) {\n\tconst mainToken = selectMainToken()\n\tconst saiToken = selectSaiToken()\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\n\t\t(swaps, balance) => {\n\t\t\t// TODO: currently work only for SAI to DAI swap\n\t\t\tif (\n\t\t\t\tsaiToken &&\n\t\t\t\tsaiToken.address &&\n\t\t\t\tbalance.token.address !== mainToken.address &&\n\t\t\t\t// TEMP: remove that check when all tokens swaps are available\n\t\t\t\tbalance.token.address === saiToken.address\n\t\t\t) {\n\t\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\n\t\t\t\t\tbalance.balanceMainToken\n\t\t\t\t)\n\t\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\n\t\t\t}\n\t\t\treturn swaps\n\t\t},\n\t\t{\n\t\t\tswapsSumInMainToken: bigNumberify(0),\n\t\t\tswapsByToken: {},\n\t\t}\n\t)\n\n\treturn { swapsByToken, swapsSumInMainToken }\n}\n\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\n// amountNeeded must be in MainToken\nexport async function getSweepingTxnsIfNeeded({\n\tamountInMainTokenNeeded,\n\taccount,\n}) {\n\tconst needed = bigNumberify(amountInMainTokenNeeded)\n\tconst {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t} = account.stats.raw.identityWithdrawTokensBalancesBalances\n\n\tlet currentBalanceInUse = bigNumberify(mainTokenBalance)\n\n\tconst sweepData = {\n\t\tsweepTxns: [],\n\t\tswapAmountsByToken: {},\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\t// Swaps\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\n\t\t\tbalances,\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\n\t\t})\n\n\t\tsweepData.swapAmountsByToken = swapsByToken\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\n\t\t\taccount,\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\n\t\t})\n\t}\n\n\treturn sweepData\n}\n\nexport function getChannelId({ campaign, account }) {\n\tconst { identity } = account\n\tconst mainToken = selectMainFeeToken()\n\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\n\tconst openReady = readyCampaign.openReady\n\tconst ethChannel = toEthereumChannel(openReady)\n\tconst id = ethChannel.hashHex(AdExCore.address)\n\n\treturn id\n}\n\nexport async function openChannel({\n\tcampaign,\n\taccount,\n\tgetFeesOnly,\n\tgetMaxFees,\n}) {\n\tconst { wallet, identity, stats } = account\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\n\tconst mainToken = selectMainFeeToken()\n\tconst depositAmount = getMaxFees\n\t\t? availableIdentityBalanceMainToken\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\n\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\n\tconst openReady = readyCampaign.openReady\n\tconst ethChannel = toEthereumChannel(openReady)\n\tconst channel = {\n\t\t...openReady,\n\t\tid: ethChannel.hashHex(AdExCore.address),\n\t}\n\tconst identityAddr = openReady.creator\n\tconst feeTokenAddr = mainToken.address\n\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\tconst hasIdentityChannelOpen = is41identity(routineAuthTuple)\n\n\tconst txns = []\n\n\tif (hasIdentityChannelOpen) {\n\t\tconst identityChannelOpenTx = {\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: identityAddr,\n\t\t\tdata: IdentityInterface.functions.channelOpen.encode([\n\t\t\t\tAdExCore.address,\n\t\t\t\tethChannel.toSolidityTuple(),\n\t\t\t]),\n\t\t\textraTxFeesCount: 1,\n\t\t}\n\t\ttxns.push(identityChannelOpenTx)\n\t} else {\n\t\tconst approveTxns = await getApproveTxns({\n\t\t\tgetToken,\n\t\t\ttoken: mainToken,\n\t\t\tidentityAddr,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tapproveForAddress: AdExCore.address,\n\t\t\tapproveAmount: depositAmount,\n\t\t})\n\n\t\tconst channelOpenTx = {\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\n\t\t}\n\t\ttxns.push(...approveTxns, channelOpenTx)\n\t}\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: depositAmount,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t})\n\n\tconst { total, totalBN } = await getIdentityTxnsTotalFees({ txnsByFeeToken })\n\tconst bigZero = bigNumberify(0)\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\tconst maxAvailable = mtBalance.sub(totalBN).lt(bigZero)\n\t\t? bigZero\n\t\t: mtBalance.sub(totalBN)\n\tconst maxAvailableFormatted = formatTokenAmount(\n\t\tmaxAvailable.toString(),\n\t\tmainToken.decimals || 18,\n\t\tfalse,\n\t\t2\n\t)\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfeesFormatted: total,\n\t\t\tfees: totalBN,\n\t\t\tmaxAvailable,\n\t\t\tmaxAvailableFormatted,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t\textraData: { channel },\n\t})\n\n\treadyCampaign.id = channel.id\n\tconst storeCampaign = { ...readyCampaign }\n\tstoreCampaign.spec = { ...openReady.spec }\n\treturn {\n\t\tresult,\n\t\tstoreCampaign,\n\t}\n}\n\nexport async function closeChannel({ account, campaign }) {\n\tconst result = await closeCampaign({ account, campaign })\n\treturn result\n}\n","import { bigNumberify } from 'ethers/utils'\nimport { selectRoutineWithdrawTokens, selectMainToken } from 'selectors'\nimport { tokenInMainTokenValue } from 'services/smart-contracts/actions/stats'\nimport { formatTokenAmount } from 'helpers/formatters'\n\nimport { getCampaigns } from './actions'\n\nexport async function getUnitsStatsByType() {\n\tconst { decimals } = selectMainToken()\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\n\tconst allChannels = await getCampaigns()\n\n\tconst channels = allChannels.filter(\n\t\tchannel => !!withdrawTokens[channel.depositAsset]\n\t)\n\n\tconst unitsByType = channels.reduce((units, channel) => {\n\t\tconst byType = { ...units }\n\t\tchannel.spec.adUnits.forEach(unit => {\n\t\t\tbyType[unit.type] = byType[unit.type] || []\n\t\t\tbyType[unit.type].push(channel)\n\t\t})\n\n\t\treturn byType\n\t}, {})\n\n\tconst unitsByTypeStats = Object.keys(unitsByType).reduce(\n\t\tasync (prevStats, key) => {\n\t\t\tconst stats = await prevStats\n\t\t\tconst channelsByType = unitsByType[key]\n\n\t\t\tlet totalPerImpression = bigNumberify('0')\n\t\t\tlet totalVolume = bigNumberify('0')\n\n\t\t\tfor (let index = 0; index < channelsByType.length; index++) {\n\t\t\t\tconst channel = channelsByType[index]\n\n\t\t\t\tconst minPerImpression = await tokenInMainTokenValue({\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\n\t\t\t\t\tbalance: bigNumberify(channel.spec.minPerImpression),\n\t\t\t\t})\n\t\t\t\tconst depositAmount = await tokenInMainTokenValue({\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\n\t\t\t\t\tbalance: bigNumberify(channel.depositAmount),\n\t\t\t\t})\n\n\t\t\t\ttotalPerImpression = totalPerImpression.add(minPerImpression)\n\t\t\t\ttotalVolume = totalVolume.add(depositAmount)\n\t\t\t}\n\n\t\t\tconst avgPerImpression = totalPerImpression.div(\n\t\t\t\tbigNumberify(channelsByType.length)\n\t\t\t)\n\t\t\tconst avgCPM = avgPerImpression.mul(bigNumberify('1000'))\n\n\t\t\tconst statsByType = { ...stats }\n\t\t\tstatsByType[key] = {}\n\t\t\tstatsByType[key].raw = {\n\t\t\t\ttotalVolume,\n\t\t\t\tavgPerImpression,\n\t\t\t\tavgCPM,\n\t\t\t}\n\n\t\t\tstatsByType[key].formatted = {\n\t\t\t\ttotalVolume: formatTokenAmount(totalVolume, decimals, false, 2),\n\t\t\t\tavgPerImpression: formatTokenAmount(\n\t\t\t\t\tavgPerImpression,\n\t\t\t\t\tdecimals,\n\t\t\t\t\tfalse,\n\t\t\t\t\t2\n\t\t\t\t),\n\t\t\t\tavgCPM: formatTokenAmount(avgCPM, decimals, false, 4),\n\t\t\t}\n\n\t\t\treturn statsByType\n\t\t},\n\t\tPromise.resolve({})\n\t)\n\n\treturn unitsByTypeStats\n}\n","import * as types from 'constants/actionTypes'\nimport throttle from 'lodash.throttle'\nimport { addToast, removeToast, updateSpinner, isAccountChanged } from 'actions'\nimport { translate } from 'services/translations/translations'\nimport {\n\tgetValidatorAuthToken,\n\tidentityAnalytics,\n\tidentityAdvancedAnalytics,\n\ttimeBasedAnalytics,\n} from 'services/adex-validator/actions'\nimport { updateValidatorAuthTokens } from './accountActions'\nimport {\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\n\tVALIDATOR_ANALYTICS_METRICS,\n} from 'constants/misc'\nimport {\n\tUPDATING_SLOTS_DEMAND,\n\tUPDATING_TARGETING_DATA,\n} from 'constants/spinners'\nimport { getErrorMsg } from 'helpers/errors'\nimport { fillEmptyTime } from 'helpers/timeHelpers'\nimport { getUnitsStatsByType } from 'services/adex-market/aggregates'\nimport { getTargetingData } from 'services/adex-market/actions'\nimport {\n\tselectChannelsWithUserBalancesAll,\n\tselectFeeTokenWhitelist,\n\tselectRoutineWithdrawTokens,\n\tselectAnalyticsDataSide,\n\tselectAccount,\n\tselectStatsChartData,\n\tselectAnalyticsLiveTimestamp,\n\tselectPublisherReceiptsPresentMonths,\n\tselectIdentitySideAnalyticsTimeframe,\n\tselectIdentitySideAnalyticsPeriod,\n\tselectMonthsRange,\n} from 'selectors'\nimport { bigNumberify } from 'ethers/utils'\nimport moment from 'moment'\nimport { FETCHING_PUBLISHER_RECEIPTS } from 'constants/spinners'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\nconst analyticsParams = ({ timeframe, side }) => {\n\tconst callsParams = []\n\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric =>\n\t\t\tcallsParams.push({\n\t\t\t\tmetric,\n\t\t\t\ttimeframe,\n\t\t\t\tside,\n\t\t\t\teventType,\n\t\t\t\t...(side === 'for-publisher' &&\n\t\t\t\t\tmetric === 'eventPayouts' && { segmentByChannel: true }),\n\t\t\t})\n\t\t)\n\t)\n\n\treturn callsParams\n}\n\nconst analyticsCampaignsParams = () => {\n\tconst callsParams = []\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tcallsParams.push({ eventType })\n\t)\n\treturn callsParams\n}\n\nfunction aggrByChannelsSegments({\n\taggr,\n\tallChannels,\n\tfeeTokens,\n\twithdrawTokens,\n}) {\n\tif (!Object.keys(allChannels).length) {\n\t\treturn []\n\t}\n\t// NOTE: No need to sort them again because fillEmptyTime\n\t// is sorting by time after adding the empty time values\n\tconst { aggregations, all } = aggr\n\t\t.sort((a, b) => b.time - a.time)\n\t\t.reduce(\n\t\t\t(data, a) => {\n\t\t\t\tconst { time } = a\n\t\t\t\tconst { aggregations, channels, all } = data\n\t\t\t\tconst channelId = a.channelId.toLowerCase()\n\n\t\t\t\tconst { depositAmount, balanceNum, depositAsset, status } =\n\t\t\t\t\tallChannels[channelId] || {}\n\n\t\t\t\tconst { minPlatform, minFinal } = withdrawTokens[depositAsset]\n\t\t\t\tconst { min } = feeTokens[depositAsset]\n\t\t\t\tconst isExpired = status === 'Expired'\n\t\t\t\tconst minBalance = isExpired ? minFinal : minPlatform\n\n\t\t\t\tconst current = channels[channelId] || { aggr: [] }\n\n\t\t\t\tconst value = bigNumberify(a.value || 0)\n\t\t\t\t\t.mul(bigNumberify(balanceNum || 1))\n\t\t\t\t\t.div(bigNumberify(depositAmount || 1))\n\n\t\t\t\tcurrent.aggr.push({ value, time })\n\n\t\t\t\tconst currentAggr = aggregations[time] || {\n\t\t\t\t\ttime,\n\t\t\t\t\tvalue: bigNumberify(0),\n\t\t\t\t}\n\t\t\t\tconst currentChannelValue = bigNumberify(current.value || 0).add(value)\n\n\t\t\t\tconst hasMinBalance = currentChannelValue.gt(bigNumberify(minBalance))\n\t\t\t\tconst currentTimeValue = currentAggr.value\n\n\t\t\t\tcurrent.value = currentChannelValue\n\n\t\t\t\tif (hasMinBalance && !current.feeSubtracted) {\n\t\t\t\t\tcurrent.feeSubtracted = true\n\t\t\t\t\tconst currentAvailable = currentChannelValue.sub(bigNumberify(min))\n\t\t\t\t\tconst currentAdded = bigNumberify(0)\n\t\t\t\t\tconst points = current.aggr\n\n\t\t\t\t\tfor (let index = points.length - 1; index >= 0; index--) {\n\t\t\t\t\t\tconst point = points[index]\n\t\t\t\t\t\tcurrentAdded.add(point.value)\n\n\t\t\t\t\t\tconst curInnerAggr = aggregations[point.time] || {\n\t\t\t\t\t\t\ttime,\n\t\t\t\t\t\t\tvalue: bigNumberify(0),\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (currentAdded.lt(currentAvailable)) {\n\t\t\t\t\t\t\tcurInnerAggr.value = curInnerAggr.value.add(point.value)\n\t\t\t\t\t\t\taggregations[point.time] = curInnerAggr\n\t\t\t\t\t\t} else\n\t\t\t\t\t\t\tcurInnerAggr.value = curInnerAggr.value.add(\n\t\t\t\t\t\t\t\tcurrentAdded.sub(currentAvailable)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\taggregations[point.time] = curInnerAggr\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t} else if (hasMinBalance && current.feeSubtracted) {\n\t\t\t\t\tcurrentAggr.value = value.add(currentTimeValue)\n\t\t\t\t}\n\n\t\t\t\tchannels[channelId] = current\n\t\t\t\taggregations[time] = currentAggr\n\t\t\t\tall[time] = a.value || all[time]\n\n\t\t\t\treturn { aggregations, channels, all }\n\t\t\t},\n\t\t\t{ aggregations: {}, channels: {}, all: {} }\n\t\t)\n\n\t// NOTE: force to null values when value under limits but not naturally 0\n\tconst aggrWithNullValues = Object.values(aggregations).map(\n\t\t({ time, value }) => {\n\t\t\tconst isNull =\n\t\t\t\tall[time] === undefined ||\n\t\t\t\t(bigNumberify(value).isZero() && all[time] !== '0')\n\t\t\treturn { time, value: isNull ? null : value }\n\t\t}\n\t)\n\n\treturn aggrWithNullValues\n}\n\nexport const updateAccountAnalyticsThrottled = () => (dispatch, getState) => {\n\treturn updateAccountAnalytics(dispatch, getState)\n}\n\nexport const updateAccountAnalytics = throttle(\n\tasync function(dispatch, getState) {\n\t\tupdateAnalyticsLastChecked()(dispatch)\n\t\tconst state = getState()\n\t\tconst account = selectAccount(state)\n\t\tconst side = selectAnalyticsDataSide(state)\n\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\n\t\tconst allChannels = selectChannelsWithUserBalancesAll(state)\n\t\tconst { start, end } = selectIdentitySideAnalyticsPeriod(state)\n\t\tconst feeTokens = selectFeeTokenWhitelist(state)\n\t\tconst withdrawTokens = selectRoutineWithdrawTokens(state)\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsParams({ timeframe, side })\n\t\t\tlet accountChanged = false\n\t\t\tconst liveTimestamp = selectAnalyticsLiveTimestamp(state)\n\t\t\tconst timeframeIsLive = liveTimestamp === start\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\tconst { datasets, labels } = selectStatsChartData(state, {\n\t\t\t\t\t...opts,\n\t\t\t\t})\n\n\t\t\t\tif (timeframeIsLive || datasets.length === 0 || labels.length === 0) {\n\t\t\t\t\tidentityAnalytics({\n\t\t\t\t\t\t...opts,\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\tend,\n\t\t\t\t\t\tleaderAuth,\n\t\t\t\t\t})\n\t\t\t\t\t\t.then(({ aggregates, metric }) => {\n\t\t\t\t\t\t\tconst aggrByChannelSegments =\n\t\t\t\t\t\t\t\tside === 'for-publisher' && metric === 'eventPayouts'\n\n\t\t\t\t\t\t\tlet aggr = aggrByChannelSegments\n\t\t\t\t\t\t\t\t? aggrByChannelsSegments({\n\t\t\t\t\t\t\t\t\t\taggr: aggregates.aggr,\n\t\t\t\t\t\t\t\t\t\tallChannels,\n\t\t\t\t\t\t\t\t\t\tfeeTokens,\n\t\t\t\t\t\t\t\t\t\twithdrawTokens,\n\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t: aggregates.aggr\n\t\t\t\t\t\t\tconst fillAfterLast = aggrByChannelSegments ? null : 0\n\n\t\t\t\t\t\t\taggregates.aggr = fillEmptyTime(\n\t\t\t\t\t\t\t\taggr,\n\t\t\t\t\t\t\t\ttimeframe,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tfillAfterLast,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstart,\n\t\t\t\t\t\t\t\t\tend,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\taccountChanged =\n\t\t\t\t\t\t\t\taccountChanged || isAccountChanged(getState, account)\n\n\t\t\t\t\t\t\tif (!accountChanged) {\n\t\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\n\t\t\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\t\t\ttimestamp: liveTimestamp === start ? 'live' : start,\n\t\t\t\t\t\t\t\t\tvalue: { ...aggregates }, // ADD TIME as well\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\tawait Promise.all(allAnalytics)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t},\n\t1000,\n\t{ leading: false, trailing: true }\n)\n\nexport function updateAccountAdvancedAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account } = getState().persist\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsCampaignsParams()\n\t\t\tlet accountChanged = false\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\ttry {\n\t\t\t\t\tconst value = await identityAdvancedAnalytics({\n\t\t\t\t\t\t...opts,\n\t\t\t\t\t\tleaderAuth,\n\t\t\t\t\t})\n\n\t\t\t\t\taccountChanged = accountChanged || isAccountChanged(getState, account)\n\n\t\t\t\t\treturn { opts, value }\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS_SINGLE', err)\n\t\t\t\t\treturn null\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tconst data = await Promise.all(allAnalytics)\n\n\t\t\tif (!accountChanged) {\n\t\t\t\tdata\n\t\t\t\t\t.filter(x => !!x)\n\t\t\t\t\t.forEach(({ opts, value }) =>\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: types.UPDATE_ADVANCED_ANALYTICS,\n\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_CAMPAIGN_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function getReceiptData(startDate, endDate) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst { account } = state.persist\n\t\ttry {\n\t\t\tawait updateSpinner(FETCHING_PUBLISHER_RECEIPTS, true)(dispatch)\n\t\t\tconst presentMonths = selectPublisherReceiptsPresentMonths(state)\n\t\t\tconst monthsWanted = selectMonthsRange(startDate, endDate)\n\t\t\tconst monthsNeeded = monthsWanted\n\t\t\t\t.filter(val => !presentMonths.includes(val))\n\t\t\t\t.sort()\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tif (monthsNeeded.length > 0) {\n\t\t\t\tconst timeframe = 'month'\n\t\t\t\tconst limit = 500\n\t\t\t\tconst promises = []\n\t\t\t\tconst startDateNeeded = monthsNeeded[0]\n\t\t\t\tconst endDateNeeded = monthsNeeded[monthsNeeded.length - 1]\n\t\t\t\t//limit of request is 500 days\n\t\t\t\tfor (\n\t\t\t\t\tvar m = moment(startDateNeeded);\n\t\t\t\t\tm.diff(endDateNeeded) <= 0;\n\t\t\t\t\tm.add(limit, 'day')\n\t\t\t\t) {\n\t\t\t\t\tpromises.push(\n\t\t\t\t\t\ttimeBasedAnalytics({\n\t\t\t\t\t\t\tleaderAuth,\n\t\t\t\t\t\t\ttimeframe,\n\t\t\t\t\t\t\tlimit,\n\t\t\t\t\t\t\tside: 'for-publisher',\n\t\t\t\t\t\t\teventType: 'IMPRESSION',\n\t\t\t\t\t\t\tmetric: 'eventCounts',\n\t\t\t\t\t\t\tstart: +moment(startDateNeeded),\n\t\t\t\t\t\t\tend: +moment(endDateNeeded).endOf('month'),\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ttimeBasedAnalytics({\n\t\t\t\t\t\t\tleaderAuth,\n\t\t\t\t\t\t\ttimeframe,\n\t\t\t\t\t\t\tlimit,\n\t\t\t\t\t\t\tside: 'for-publisher',\n\t\t\t\t\t\t\teventType: 'IMPRESSION',\n\t\t\t\t\t\t\tmetric: 'eventPayouts',\n\t\t\t\t\t\t\tstart: +moment(startDateNeeded),\n\t\t\t\t\t\t\tend: +moment(endDateNeeded).endOf('month'),\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tconst resolvedPromises = await Promise.all(promises)\n\t\t\t\tlet impressions = []\n\t\t\t\tlet payouts = []\n\t\t\t\tfor (let i = 0; i < resolvedPromises.length; i += 2) {\n\t\t\t\t\timpressions = [...impressions, ...resolvedPromises[i].aggr]\n\t\t\t\t\tpayouts = [...payouts, ...resolvedPromises[i + 1].aggr]\n\t\t\t\t}\n\t\t\t\tconst result = {}\n\t\t\t\t// add wanted dates\n\t\t\t\tconst getMonthTimeStamp = date => +moment(date).startOf('month')\n\t\t\t\tmonthsNeeded.forEach(date => {\n\t\t\t\t\tconst month = getMonthTimeStamp(date)\n\t\t\t\t\tif (!result[month]) {\n\t\t\t\t\t\tresult[month] = {}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\timpressions.forEach((item, i) => {\n\t\t\t\t\tconst month = getMonthTimeStamp(item.time)\n\t\t\t\t\tif (result[month]) {\n\t\t\t\t\t\tresult[month][item.time] = {\n\t\t\t\t\t\t\timpressions: item.value,\n\t\t\t\t\t\t\tpayouts: payouts[i].value,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: types.UPDATE_PUBLISHER_RECEIPTS,\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\t...result,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t\tawait updateSpinner(FETCHING_PUBLISHER_RECEIPTS, false)(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.log(err)\n\t\t}\n\t}\n}\n\nexport function resetAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ANALYTICS,\n\t\t})\n\t}\n}\n\nexport function updateAnalyticsLastChecked() {\n\treturn async function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ANALYTICS_LAST_CHECKED,\n\t\t\tvalue: Date.now(),\n\t\t})\n\t}\n}\n\nexport const updateSlotsDemand = throttle(\n\tasync function(dispatch) {\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, true)(dispatch)\n\t\ttry {\n\t\t\tconst demandAnalytics = await getUnitsStatsByType()\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_DEMAND_ANALYTICS,\n\t\t\t\tvalue: demandAnalytics,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_SLOTS_DEMAND_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_SLOTS_DEMAND_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, false)(dispatch)\n\t},\n\t5 * 60 * 1000,\n\t{ leading: true, trailing: false }\n)\n\nexport const updateTargetingData = throttle(\n\tasync function(dispatch) {\n\t\tawait updateSpinner(UPDATING_TARGETING_DATA, true)(dispatch)\n\t\ttry {\n\t\t\tconst {\n\t\t\t\ttargetingData,\n\t\t\t\tminByCategory,\n\t\t\t\tcountryTiersCoefficients,\n\t\t\t} = await getTargetingData()\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_TARGETING_ANALYTICS,\n\t\t\t\tvalue: { targetingData, minByCategory, countryTiersCoefficients },\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_TARGETING_DATA_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_TARGETING_DATA_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tawait updateSpinner(UPDATING_TARGETING_DATA, false)(dispatch)\n\t},\n\t5 * 60 * 1000,\n\t{ leading: true, trailing: false }\n)\n\nexport const updateSlotsDemandThrottled = () => dispatch => {\n\treturn updateSlotsDemand(dispatch)\n}\n\nexport const updateTargetingDataThrottled = () => dispatch => {\n\treturn updateTargetingData(dispatch)\n}\n","import * as types from 'constants/actionTypes'\nimport { addSig, getSig } from 'services/auth/auth'\nimport { getSession, checkSession } from 'services/adex-market/actions'\nimport {\n\tgetRelayerConfigData,\n\tgetQuickWallet,\n\tbackupWallet,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { updateSpinner, updateGlobalUi } from 'actions'\nimport { translate } from 'services/translations/translations'\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\nimport {\n\tremoveLegacyKey,\n\tgetWalletHash,\n\tgenerateSalt,\n\tgetRecoveryWalletData,\n} from 'services/wallet/wallet'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport {\n\tgetAccountStats,\n\tgetOutstandingBalance,\n} from 'services/smart-contracts/actions/stats'\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\nimport {\n\taddToast,\n\tconfirmAction,\n\tupdateMemoryUi,\n\tupdateInitialDataLoaded,\n} from './uiActions'\nimport { getAllItems } from './itemActions'\nimport {\n\tupdateSlotsDemandThrottled,\n\tupdateTargetingDataThrottled,\n} from './analyticsActions'\nimport {\n\tgetEthereumProvider,\n\tethereumNetworkId,\n\tgetMetamaskEthereum,\n} from 'services/smart-contracts/ethers'\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\nimport {\n\tselectAccount,\n\tselectIdentity,\n\tselectAuth,\n\tselectWallet,\n\tselectSearchParams,\n\tselectAuthType,\n\tselectAccountIdentity,\n\tselectLoginDirectSide,\n} from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { getErrorMsg } from 'helpers/errors'\nimport { push } from 'connected-react-router'\nimport {\n\tCREATING_SESSION,\n\tQUICK_WALLET_BACKUP,\n\tUPDATING_ACCOUNT_IDENTITY,\n} from 'constants/spinners'\nimport { campaignsLoop } from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport {\n\tanalyticsLoop,\n\tadvancedAnalyticsLoop,\n} from 'services/store-data/analytics'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\n// MEMORY STORAGE\nexport function updateSignin(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SIGNIN,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetSignin() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_SIGNIN,\n\t\t})\n\t}\n}\n\n// PERSISTENT STORAGE\nexport function createAccount(acc) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CREATE_ACCOUNT,\n\t\t\taccount: acc,\n\t\t})\n\t}\n}\n\n// LOGOUT\nexport function resetAccount() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ACCOUNT,\n\t\t})\n\t}\n}\n\nexport function updateAccount({ meta, newValues }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ACCOUNT,\n\t\t\tmeta: meta,\n\t\t\tnewValues: newValues,\n\t\t})\n\t}\n}\n\nexport function updateChannelsWithBalanceAll(channels) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_BALANCE_ALL,\n\t\t\tchannels,\n\t\t})\n\t}\n}\n\nexport function resetChannelsWithBalanceAll() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_CHANNELS_WITH_BALANCE_ALL,\n\t\t})\n\t}\n}\n\nexport function updateChannelsWithOutstandingBalance(channels) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\n\t\t\tchannels,\n\t\t})\n\t}\n}\n\nexport function resetChannelsWithOutstandingBalance() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\n\t\t})\n\t}\n}\n\n// getIdentityStatistics tooks to long some times\n// if the account is change we do not update the account\n// TODO: we can use something for abortable tasks\nexport function isAccountChanged(getState, account) {\n\tconst hasAuth = selectAuth(getState())\n\tconst accountCheck = selectAccount(getState())\n\tconst accountChanged =\n\t\t!hasAuth ||\n\t\t!accountCheck.wallet.address ||\n\t\taccountCheck.wallet.address !== account.wallet.address ||\n\t\t!accountCheck.identity.address ||\n\t\t!accountCheck.identity.address !== !account.identity.address\n\n\treturn accountChanged\n}\n\nexport function updateAccountStats() {\n\treturn async function(dispatch, getState) {\n\t\tconst account = selectAccount(getState())\n\t\ttry {\n\t\t\tconst { identity, wallet } = account\n\t\t\tconst { address } = identity\n\t\t\tconst { all, withOutstandingBalance } = await getChannelsWithOutstanding({\n\t\t\t\tidentityAddr: address,\n\t\t\t\twallet,\n\t\t\t})\n\n\t\t\tif (!isAccountChanged(getState, account)) {\n\t\t\t\tupdateChannelsWithBalanceAll(all)(dispatch)\n\t\t\t\tupdateInitialDataLoaded('allChannels', true)(dispatch, getState)\n\t\t\t}\n\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\n\t\t\t\twallet,\n\t\t\t\taddress,\n\t\t\t\twithBalance: withOutstandingBalance,\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\n\t\t\t})\n\n\t\t\tconst { formatted, raw } = await getAccountStats({\n\t\t\t\taccount,\n\t\t\t\toutstandingBalanceMainToken,\n\t\t\t\tall,\n\t\t\t})\n\n\t\t\tif (!isAccountChanged(getState, account)) {\n\t\t\t\tawait updateChannelsWithOutstandingBalance(withOutstandingBalance)(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tawait updateAccount({\n\t\t\t\t\tnewValues: { stats: { formatted, raw } },\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_STATS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAccountIdentityData(onDataUpdated) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\n\t\tconst identity = selectAccountIdentity(getState())\n\n\t\ttry {\n\t\t\tconst relayerData =\n\t\t\t\t(await getIdentityData({\n\t\t\t\t\tidentityAddr: identity.address,\n\t\t\t\t})) || {}\n\n\t\t\tconst updatedIdentity = { ...identity }\n\n\t\t\tupdatedIdentity.currentPrivileges = relayerData.currentPrivileges\n\t\t\tupdatedIdentity.isLimitedVolume = relayerData.isLimitedVolume\n\t\t\tupdatedIdentity.relayerData = relayerData\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { identity: updatedIdentity },\n\t\t\t})(dispatch)\n\t\t\tif (typeof onDataUpdated === 'function') {\n\t\t\t\tonDataUpdated()\n\t\t\t}\n\t\t} catch (err) {\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_ACCOUNT_IDENTITY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\n\t}\n}\n\nexport function updateValidatorAuthTokens({ newAuth }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { identity } = getState().persist.account\n\n\t\tconst newIdentity = { ...identity }\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\n\n\t\t// We don't want to update account if there is no actual change\n\t\tif (\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\n\t\t\tJSON.stringify(newTokens)\n\t\t) {\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\n\t\t}\n\t}\n}\n\nexport function createSession({\n\twallet,\n\tidentity = {},\n\temail,\n\tdeleteLegacyKey,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\n\t\ttry {\n\t\t\tconst newWallet = { ...wallet }\n\t\t\tconst sessionSignature =\n\t\t\t\tgetSig({\n\t\t\t\t\taddr: newWallet.address,\n\t\t\t\t\tmode: newWallet.authType,\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t}) || null\n\n\t\t\tconst hasSession =\n\t\t\t\t!!sessionSignature &&\n\t\t\t\t(await checkSession({\n\t\t\t\t\tauthSig: sessionSignature,\n\t\t\t\t\tskipErrToast: true,\n\t\t\t\t}))\n\n\t\t\tif (hasSession) {\n\t\t\t\tnewWallet.authSig = sessionSignature\n\t\t\t} else {\n\t\t\t\tconst {\n\t\t\t\t\tsignature,\n\t\t\t\t\tmode,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\n\n\t\t\t\tconst { status, expiryTime } = await getSession({\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\tmode: mode,\n\t\t\t\t\tsignature,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t\tsignerAddress: newWallet.address,\n\t\t\t\t})\n\n\t\t\t\tif (status === 'OK') {\n\t\t\t\t\taddSig({\n\t\t\t\t\t\taddr: wallet.address,\n\t\t\t\t\t\tsig: signature,\n\t\t\t\t\t\tmode: wallet.authType,\n\t\t\t\t\t\texpiryTime: expiryTime,\n\t\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\t})\n\t\t\t\t\tnewWallet.authSig = signature\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst account = {\n\t\t\t\temail: email,\n\t\t\t\twallet: newWallet,\n\t\t\t\tidentity: { ...identity },\n\t\t\t}\n\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taccount.identity.validatorAuthTokens = {\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\n\t\t\t}\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { ...account },\n\t\t\t})(dispatch)\n\n\t\t\tif (deleteLegacyKey) {\n\t\t\t\tawait removeLegacyKey({\n\t\t\t\t\temail: wallet.email,\n\t\t\t\t\tpassword: wallet.password,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst side = selectLoginDirectSide(getState())\n\t\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\n\n\t\t\tif (['advertiser', 'publisher'].includes(side)) {\n\t\t\t\tdispatch(push(`/dashboard/${side}`))\n\t\t\t\tupdateGlobalUi('goToSide', '')(dispatch)\n\t\t\t} else {\n\t\t\t\tdispatch(push('/side-select'))\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\n\t}\n}\n\nexport function getRelayerConfig() {\n\treturn async function(dispatch) {\n\t\tconst cfg = await getRelayerConfigData()\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\n\t\t\tcfg,\n\t\t})\n\t}\n}\n\nasync function isMetamaskMatters(getState) {\n\tconst state = getState()\n\tconst searchParams = selectSearchParams(state)\n\tconst authType = selectAuthType(state)\n\n\tconst doesItMatter =\n\t\tauthType === AUTH_TYPES.METAMASK.name ||\n\t\t(!authType &&\n\t\t\tsearchParams.get('external') === 'metamask' &&\n\t\t\t(await getEthereumProvider()) === AUTH_TYPES.METAMASK.name)\n\n\treturn doesItMatter\n}\n\nexport function onMetamaskNetworkChange({ id } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tif (\n\t\t\t(await isMetamaskMatters(getState)) &&\n\t\t\tprocess.env.NODE_ENV !== (ETHEREUM_NETWORKS[id] || {}).for\n\t\t) {\n\t\t\tconfirmAction(\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\ttitle: translate('WARNING'),\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\ttrue\n\t\t\t)(dispatch)\n\t\t} else {\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\n\t\t}\n\t}\n}\n\nexport const onMetamaskAccountChange = (accountAddress = '') => {\n\treturn async function(_, getState) {\n\t\tconst state = getState()\n\t\tconst hasAuth = selectAuth(state)\n\t\tconst account = selectAccount(state)\n\t\tconst { authType, address = '' } = account.wallet\n\n\t\tif (\n\t\t\thasAuth &&\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\n\t\t\t(!accountAddress ||\n\t\t\t\taddress.toLowerCase() !== accountAddress.toLowerCase())\n\t\t) {\n\t\t\tlogOut()\n\t\t} else if (!hasAuth) {\n\t\t\tconst identity = selectIdentity(state)\n\t\t\tconst { identityContractOwner } = identity\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\n\t\t}\n\t}\n}\n\nexport function metamaskAccountCheck() {\n\treturn async function(_, getState) {\n\t\tconst isMatters = await isMetamaskMatters(getState)\n\t\tif (isMatters) {\n\t\t\tconst mmEthereum = await getMetamaskEthereum()\n\t\t\t// NOTE:\n\t\t\t// after refresh if metamask is enabled ethereum.selectedAddress is ok,\n\t\t\t// but it is open in new tab is undefined and them most secure way is to call enable() again\n\t\t\t// or just some unknown timeout that may not work\n\t\t\t// the reason for the timeout for the enable is because if it is not enabled and there is\n\t\t\t// auth we need to log out\n\n\t\t\tconst selectedAddress =\n\t\t\t\tmmEthereum && mmEthereum.selectedAddress\n\t\t\t\t\t? mmEthereum.selectedAddress\n\t\t\t\t\t: (await Promise.race([\n\t\t\t\t\t\t\tmmEthereum.enable(),\n\t\t\t\t\t\t\tnew Promise(resolve => {\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tresolve([null])\n\t\t\t\t\t\t\t\t}, 666)\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t  ]))[0]\n\t\t\tonMetamaskAccountChange(selectedAddress)(_, getState)\n\t\t}\n\t}\n}\n\nexport function metamaskNetworkCheck() {\n\treturn async function(_, getState) {\n\t\tconst id = await ethereumNetworkId()\n\t\tonMetamaskNetworkChange({ id })(_, getState)\n\t}\n}\n\nexport function metamaskChecks() {\n\treturn async function(_, getState) {\n\t\tmetamaskNetworkCheck()(_, getState)\n\t\tmetamaskAccountCheck()(_, getState)\n\t\tif (window.ethereum) {\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\n\t\t\t\tconsole.log('acc changed', accounts[0])\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\n\t\t\t})\n\t\t\twindow.ethereum.on('networkChanged', network => {\n\t\t\t\tconsole.log('networkChanged', network)\n\t\t\t\tonMetamaskNetworkChange({ id: network })(_, getState)\n\t\t\t})\n\t\t}\n\t}\n}\n\nasync function hasBackup({ email, password }) {\n\tconst salt = generateSalt(email)\n\tconst hash = await getWalletHash({ salt, password })\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\n\n\treturn !!encryptedWallet && encryptedWallet.wallet\n}\n\nasync function makeBackup({ email, password, authType }) {\n\tconst walletSalt = generateSalt(email)\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\n\tconst encryptedWallet = await getRecoveryWalletData({\n\t\temail,\n\t\tpassword,\n\t\tauthType,\n\t})\n\n\tawait backupWallet({\n\t\temail,\n\t\tsalt: walletSalt,\n\t\thash: walletHash,\n\t\tencryptedWallet,\n\t})\n}\n\nexport function ensureQuickWalletBackup() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\n\t\ttry {\n\t\t\tconst { email, password, authType } = selectWallet(getState())\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\n\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\n\t\t\t\tawait makeBackup({ email, password, authType })\n\t\t\t}\n\t\t} catch (err) {}\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\n\t}\n}\n\nexport function loadAccountData() {\n\treturn async function(dispatch, getState) {\n\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\n\t\tconst account = selectAccount(getState())\n\t\t!isAccountChanged(getState, account) &&\n\t\t\t(await updateAccountIdentityData(() =>\n\t\t\t\tupdateInitialDataLoaded('accountIdentityData', true)(dispatch, getState)\n\t\t\t)(dispatch, getState))\n\n\t\tconst items = getAllItems(() =>\n\t\t\tupdateInitialDataLoaded('allItems', true)(dispatch, getState)\n\t\t)(dispatch, getState)\n\n\t\tconst advancedAnalytics = advancedAnalyticsLoop.start(() =>\n\t\t\tupdateInitialDataLoaded('advancedAnalytics', true)(dispatch, getState)\n\t\t)\n\t\tconst campaigns = campaignsLoop.start(() =>\n\t\t\tupdateInitialDataLoaded('campaigns', true)(dispatch, getState)\n\t\t)\n\t\tconst demand = updateSlotsDemandThrottled()(dispatch, getState)\n\t\tconst targetingData = updateTargetingDataThrottled()(dispatch, getState)\n\n\t\tawait Promise.all[\n\t\t\t(items, advancedAnalytics, campaigns, demand, targetingData)\n\t\t]\n\n\t\tawait statsLoop.start(() =>\n\t\t\tupdateInitialDataLoaded('stats', true)(dispatch, getState)\n\t\t)\n\n\t\tupdateMemoryUi('initialDataLoaded', true)(dispatch, getState)\n\t}\n}\n\nexport function stopAccountDataUpdate() {\n\treturn async function(dispatch, getState) {\n\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\n\t\tanalyticsLoop.stop()\n\t\tadvancedAnalyticsLoop.stop()\n\t\tcampaignsLoop.stop()\n\t\tstatsLoop.stop()\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { getQuickWallet } from 'services/adex-relayer/actions'\nimport { updateSpinner, addToast, handleAfterValidation } from 'actions'\nimport {\n\tgetOwnerIdentities,\n\tregAccount,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { createSession } from './accountActions'\nimport { getIdentityDeployData } from 'services/smart-contracts/actions/identity'\nimport {\n\taddDataToWallet,\n\tgetWalletHash,\n\tgetLocalWallet,\n\tmigrateLegacyWallet,\n\twalletInfo,\n\tcreateLocalWallet,\n\tgenerateSalt,\n} from 'services/wallet/wallet'\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\nimport { selectIdentity, selectAuthType, t } from 'selectors'\nimport { AUTH_TYPES } from 'constants/misc'\nimport {\n\tvalidate,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tvalidateTOS,\n\tvalidateWallet,\n\tvalidateIdentityContractOwner,\n\tvalidateAccessWarning,\n\tvalidateKnowFrom,\n\tvalidateMoreInfo,\n} from './validationActions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tGETTING_OWNER_IDENTITIES,\n\tUPLOADING_ACCOUNT_DATA,\n\tCHECKING_METAMASK_AUTH,\n\tAUTH_WAITING_TREZOR_ACTION,\n\tAUTH_WAITING_ADDRESS_DATA,\n} from 'constants/spinners'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\n\n// MEMORY STORAGE\nexport function updateIdentity(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetIdentity() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\t}\n}\n\nexport function initIdentity({ email, authType }) {\n\treturn function(dispatch) {\n\t\tdispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\n\t\tdispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'email',\n\t\t\tvalue: email,\n\t\t})\n\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'authType',\n\t\t\tvalue: authType,\n\t\t})\n\t}\n}\n\n// MEMORY STORAGE\nexport function updateWallet(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WALLET,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetWallet() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WALLET,\n\t\t})\n\t}\n}\n\nexport function onUploadLocalWallet(event) {\n\treturn async function(dispatch) {\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\tconst file = event.target.files[0]\n\t\tconst reader = new FileReader()\n\n\t\treader.onload = ev => {\n\t\t\ttry {\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\n\t\t\t\tif (\n\t\t\t\t\t!obj ||\n\t\t\t\t\t!obj.key ||\n\t\t\t\t\t!obj.wallet ||\n\t\t\t\t\t!obj.wallet.data ||\n\t\t\t\t\t!obj.wallet.identity ||\n\t\t\t\t\t!obj.wallet.privileges\n\t\t\t\t) {\n\t\t\t\t\tthrow new Error(t('INVALID_JSON_DATA'))\n\t\t\t\t} else {\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\n\t\t\t\t\taddToast({\n\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\tlabel: t('SUCCESS_UPLOADING_ACCOUNT_DATA'),\n\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t})(dispatch)\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\t\targs: [err.message],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\t}\n\n\t\tconst onError = err => {\n\t\t\tconsole.error('Error uploading account data.', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\n\t\t}\n\n\t\treader.onerror = err => {\n\t\t\treader.abort()\n\t\t\tonError(err)\n\t\t}\n\n\t\treader.onabort = ev => {\n\t\t\tonError(t('ABORTING_DATA_UPLOAD'))\n\t\t}\n\n\t\treader.readAsText(file)\n\t}\n}\n\nexport function ownerIdentities({ owner, authType }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\n\t\ttry {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\n\t\t\tconst data = Object.entries(identityData).map(\n\t\t\t\tasync ([identityAddr, privLevel]) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst ens = await provider.lookupAddress(identityAddr)\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tidentity: identityAddr,\n\t\t\t\t\t\t\tprivLevel,\n\t\t\t\t\t\t\tens,\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch {\n\t\t\t\t\t\treturn null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\n\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_OWNER_IDENTITIES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\n\t}\n}\n\nexport function login() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst {\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tknowFrom,\n\t\t\t\tmoreInfo,\n\t\t\t\tidentityData,\n\t\t\t\tidentityTxData,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t\tregisterAccount,\n\t\t\t} = selectIdentity(getState())\n\n\t\t\tif (registerAccount) {\n\t\t\t\tawait regAccount({\n\t\t\t\t\towner: wallet.address,\n\t\t\t\t\temail: email.toLowerCase(),\n\t\t\t\t\tknowFrom,\n\t\t\t\t\tmoreInfo,\n\t\t\t\t\t...identityTxData,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst relayerData =\n\t\t\t\t(await getIdentityData({\n\t\t\t\t\tidentityAddr: identityData.address,\n\t\t\t\t})) || {}\n\t\t\tconst identity = {\n\t\t\t\t...identityData,\n\t\t\t\taddress: relayerData.deployData._id,\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\n\t\t\t\trelayerData,\n\t\t\t}\n\t\t\tif (identity.currentPrivileges[wallet.address] > 0) {\n\t\t\t\tawait createSession({\n\t\t\t\t\tidentity,\n\t\t\t\t\twallet,\n\t\t\t\t\temail,\n\t\t\t\t\tdeleteLegacyKey,\n\t\t\t\t})(dispatch, getState)\n\t\t\t} else {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ACCOUNT_NONE_PRIVILEGES'),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_LOGIN', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateQuickLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { password, email, authType } = identity\n\n\t\tlet wallet = {}\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\n\t\tlet actualAuthType = authType\n\n\t\ttry {\n\t\t\tif (email && password) {\n\t\t\t\tlet walletData = await getLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t})\n\n\t\t\t\tif (!walletData) {\n\t\t\t\t\tconst salt = generateSalt(email)\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\n\t\t\t\t\tconst { encryptedWallet } =\n\t\t\t\t\t\t(await getQuickWallet({\n\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t})) || {}\n\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tbackupWallet.wallet &&\n\t\t\t\t\t\tbackupWallet.key &&\n\t\t\t\t\t\tbackupWallet.wallet.data &&\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\n\t\t\t\t\t\tbackupWallet.wallet.privileges\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\n\t\t\t\t\t\tactualAuthType = info.authType\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\n\n\t\t\t\t\t\twalletData = await getLocalWallet({\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t\tpassword,\n\t\t\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\n\t\t\t\t\twallet = { ...walletData.data }\n\t\t\t\t\twallet.email = email\n\t\t\t\t\twallet.password = password\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\n\t\t\t\t\twallet.identity = {\n\t\t\t\t\t\taddress: walletData.identity,\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!authType) {\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\n\t\t\terror = err\n\t\t}\n\n\t\tconst isValid = !!wallet.address\n\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tif (isValid) {\n\t\t\tawait login()(dispatch, getState)\n\t\t}\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateStandardLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst identity = selectIdentity(getState())\n\t\t\tconst { wallet, identityContractAddress } = identity\n\t\t\tconst { address } = wallet\n\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\n\t\t\tconst identityData = {\n\t\t\t\taddress: identityDataSplit[0],\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\n\t\t\t}\n\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\tconst isValid = !!identityData.address\n\n\t\t\tvalidate(validateId, 'identityContractAddress', {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\n\t\t\t\tdirty: dirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_STANDARD_LOGIN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\n\treturn async function(dispatch, getState) {\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, wallet } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\n\t\t\tif (!identityAddr && wallet && !!email) {\n\t\t\t\tconst walletAddr = wallet.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: txData.identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_FULL_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickDeploy({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, password } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && email && password\n\n\t\t\tif (!identityAddr && email && password) {\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\n\n\t\t\t\tconst walletData = await createLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t})\n\n\t\t\t\twalletData.email = email\n\t\t\t\twalletData.password = password\n\n\t\t\t\tconst walletAddr = walletData.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\n\t\t\t\tconst identityAddr = txData.identityAddr\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'identity',\n\t\t\t\t\tdataValue: identityAddr,\n\t\t\t\t})\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'privileges',\n\t\t\t\t\tdataValue: identityData.privileges,\n\t\t\t\t})\n\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = !!identityAddr\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_QUICK_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\tpassword,\n\t\t\tpasswordCheck,\n\t\t\ttosCheck,\n\t\t\tknowFrom,\n\t\t\tmoreInfo,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t\tvalidateKnowFrom(validateId, knowFrom, dirty)(dispatch),\n\t\t\tvalidateMoreInfo(validateId, knowFrom, moreInfo, dirty)(dispatch),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\t\t}\n\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\twallet,\n\t\t\tidentityContractOwner,\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\ttosCheck,\n\t\t\tknowFrom,\n\t\t\tmoreInfo,\n\t\t\taccessWarningCheck,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\t// validate wallet again in case of step skip\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\n\t\t\t// validate step fields\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidateKnowFrom(validateId, knowFrom, dirty)(dispatch),\n\t\t\tvalidateMoreInfo(validateId, knowFrom, moreInfo, dirty)(dispatch),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateFullDeploy({\n\t\t\t\tvalidateId,\n\t\t\t\tdirty,\n\t\t\t\tskipSpinnerUpdate: true,\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateContractOwner({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityContractOwner, wallet } = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function updateIdentityWallet({\n\taddress,\n\tauthType,\n\thdWalletAddrPath,\n\thdWalletAddrIdx,\n\tpath,\n\tchainId,\n\tsignType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst wallet = {\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tpath,\n\t\t\tchainId,\n\t\t\tsignType,\n\t\t}\n\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\n\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t}\n}\n\nexport function handleSignupLink(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('signup-email')\n\n\t\tif (email) {\n\t\t\tupdateIdentity('email', email)(dispatch)\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\n\t\t}\n\t}\n}\n\nexport function resolveEnsAddress({ address }) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst authType = selectAuthType(state)\n\t\tupdateSpinner(`ens-${address}`, true)(dispatch)\n\n\t\ttry {\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst name = await provider.lookupAddress(address)\n\t\t\treturn dispatch({\n\t\t\t\ttype: types.UPDATE_RESOLVE_ENS_ADDRESS,\n\t\t\t\titem: address,\n\t\t\t\tvalue: name,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_RESOLVING_ENS_ADDRESS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_RESOLVING_ENS_ADDRESS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(`ens-${address}`, false)(dispatch)\n\t}\n}\n\nexport function checkAuthMetamask() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(CHECKING_METAMASK_AUTH, true)(dispatch)\n\n\t\ttry {\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst wallet = {\n\t\t\t\tauthType: authType,\n\t\t\t}\n\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\n\t\t\tconst address = await metamaskSigner.getAddress()\n\t\t\tconst stats = await getAddressBalances({\n\t\t\t\taddress: { address },\n\t\t\t\tauthType,\n\t\t\t\tgetFullBalances: true,\n\t\t\t})\n\n\t\t\tupdateIdentity('stats', stats)(dispatch, getState)\n\n\t\t\tupdateIdentityWallet({\n\t\t\t\taddress,\n\t\t\t\tauthType: AUTH_TYPES.METAMASK.name,\n\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\n\t\t\t})(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_AUTH_METAMASK', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(CHECKING_METAMASK_AUTH, false)(dispatch)\n\t}\n}\n\nexport function connectTrezor() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(AUTH_WAITING_TREZOR_ACTION, true)(dispatch)\n\t\ttry {\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\n\n\t\t\tconst wallet = {\n\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\t}\n\n\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\n\n\t\t\tconst { payload, success } = await trezorSigner.getAddresses({\n\t\t\t\tfrom: 0,\n\t\t\t\tto: 19,\n\t\t\t})\n\n\t\t\tif (success && !payload.error) {\n\t\t\t\tupdateSpinner(AUTH_WAITING_ADDRESS_DATA, false)(dispatch)\n\n\t\t\t\tconst allAddressesData = payload.map(address =>\n\t\t\t\t\tgetAddressBalances({ address, authType: AUTH_TYPES.TREZOR.name })\n\t\t\t\t)\n\n\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\tupdateIdentity('addresses', results)(dispatch, getState)\n\t\t\t\tupdateIdentity('hdWalletAddrPath', trezorSigner.path)(\n\t\t\t\t\tdispatch,\n\t\t\t\t\tgetState\n\t\t\t\t)\n\t\t\t} else throw new Error(payload.error || 'TREZOR_ERR')\n\n\t\t\tupdateSpinner('AUTH_WAITING_ADDRESS_DATA', false)(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_AUTH_TREZOR', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_AUTH_TREZOR', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(AUTH_WAITING_ADDRESS_DATA, false)(dispatch)\n\t\tupdateSpinner(AUTH_WAITING_TREZOR_ACTION, false)(dispatch)\n\t}\n}\n\nexport function selectWalletAddress({\n\taddrData,\n\thdWalletAddrIdx,\n\thdWalletAddrPath,\n\tsignType,\n\tauthType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { address, path } = addrData\n\n\t\tupdateIdentityWallet({\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\tsignType,\n\t\t\tpath,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t})(dispatch, getState)\n\t}\n}\n","import * as types from 'constants/actionTypes'\n\n// MEMORY STORAGE\nexport function updateNewBid({ bidId, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetNewBid({ bidId }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\n\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_BIDS,\n\t\t\tadvBids: advBids,\n\t\t\tpubBids: pubBids,\n\t\t\tbidsById: bidsById,\n\t\t})\n\t}\n}\nexport const resetAllBids = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_BIDS,\n\t\t})\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { formatUnits } from 'ethers/utils'\r\n\r\nexport const getGasPrice = async (authType, format = 'wei') => {\r\n\tconst { provider } = await getEthers(authType)\r\n\tconst gasPrice = await provider.getGasPrice()\r\n\treturn formatUnits(gasPrice.toNumber(), format)\r\n}\r\n","import * as types from 'constants/actionTypes'\nimport {\n\tupdateSpinner,\n\thandleAfterValidation,\n\tupdateAccountIdentityData,\n\tvalidateEthAddress,\n\tvalidatePrivilegesAddress,\n\tvalidatePrivLevel,\n\tvalidateWithdrawAmount,\n\taddToast,\n\tvalidateFees,\n\tvalidateENS,\n\tvalidateNumberString,\n} from 'actions'\nimport {\n\tselectNewTransactionById,\n\tselectWalletAddress,\n\tselectAuthType,\n\tselectAccount,\n\tselectAccountStatsFormatted,\n\tselectAccountStatsRaw,\n\tselectMainToken,\n\tselectGasPriceCap,\n\tt,\n} from 'selectors'\nimport { getErrorMsg } from 'helpers/errors'\nimport { getGasPrice } from 'services/gas/actions'\nimport { formatUnits } from 'ethers/utils'\nimport {\n\twithdrawFromIdentity,\n\tsetIdentityPrivilege,\n\taddIdentityENS,\n\twithdrawOtherTokensFromIdentity,\n} from 'services/smart-contracts/actions/identity'\nimport Helper from 'helpers/miscHelpers'\n\n// MEMORY STORAGE\nexport function updateNewTransaction({ tx, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetAllNewTransaction() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_NEW_TRANSACTIONS,\n\t\t})\n\t}\n}\n\nexport function resetNewTransaction({ tx }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t})\n\t}\n}\n\nexport function checkNetworkCongestion() {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst gasPriceCap = selectGasPriceCap(state)\n\t\tconst gasPriceCapGwei = formatUnits(gasPriceCap, 'gwei')\n\t\tconst authType = selectAuthType(state)\n\t\tconst gasPrice = await getGasPrice(authType, 'gwei')\n\t\tif (+gasPriceCapGwei < +gasPrice) {\n\t\t\taddToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: t('WARNING_NETWORK_CONGESTED'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\n// PERSIST STORAGE\nexport function addWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\tif (!tx || !tx.hash || !addr) return\n\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\n\t\t\tvalue: tx,\n\t\t\ttx: tx.hash,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\n// TODO: make update multiple\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function resetWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function validatePrivilegesChange({\n\tstepsId,\n\tvalidateId,\n\ttxId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tconst identityData = updateAccountIdentityData()(dispatch, getState)\n\t\tif (dirty) {\n\t\t\tawait identityData\n\t\t}\n\n\t\tconst state = getState()\n\t\tconst { setAddr, warningAccepted, privLevel } = selectNewTransactionById(\n\t\t\tstate,\n\t\t\tstepsId\n\t\t)\n\t\tconst walletAddr = selectWalletAddress(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: setAddr,\n\t\t\t\tprop: 'setAddr',\n\t\t\t\tnonERC20: true,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidatePrivLevel({\n\t\t\t\tvalidateId,\n\t\t\t\tprivLevel,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tconst validation = await validatePrivilegesAddress({\n\t\t\t\tvalidateId,\n\t\t\t\tsetAddr,\n\t\t\t\twalletAddr,\n\t\t\t\twarningAccepted,\n\t\t\t\tprivLevel,\n\t\t\t\tdirty,\n\t\t\t\tauthType,\n\t\t\t})(dispatch)\n\n\t\t\tisValid = validation.isValid\n\n\t\t\tawait updateNewTransaction({\n\t\t\t\ttx: stepsId,\n\t\t\t\tkey: 'warningMsg',\n\t\t\t\tvalue: validation.msg,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tif (isValid) {\n\t\t\tconst account = selectAccount(state)\n\t\t\tconst feesData = await setIdentityPrivilege({\n\t\t\t\tprivLevel,\n\t\t\t\tsetAddr,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tawait updateNewTransaction({\n\t\t\t\ttx: stepsId,\n\t\t\t\tkey: 'feesData',\n\t\t\t\tvalue: feesData,\n\t\t\t})(dispatch, getState)\n\n\t\t\tisValid = await validateFees({\n\t\t\t\tvalidateId,\n\t\t\t\tfeesAmountBN: feesData.totalBN,\n\t\t\t\tamountToSpendBN: '0',\n\t\t\t\tdirty,\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function updateIdentityPrivilege({ setAddr, privLevel }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await setIdentityPrivilege({\n\t\t\t\taccount,\n\t\t\t\tsetAddr,\n\t\t\t\tprivLevel,\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [result],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateIdentityWithdraw({\n\tstepsId,\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tawait updateAccountIdentityData()(dispatch, getState)\n\n\t\tconst state = getState()\n\t\tconst account = selectAccount(state)\n\t\tconst { symbol, decimals } = selectMainToken(state)\n\t\tconst { amountToWithdraw, withdrawTo } = selectNewTransactionById(\n\t\t\tstate,\n\t\t\tstepsId\n\t\t)\n\t\tconst {\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\n\t\t} = selectAccountStatsRaw(state)\n\t\tconst {\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\n\t\t} = selectAccountStatsFormatted(state)\n\n\t\t// const walletAddr = selectWalletAddress(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: withdrawTo,\n\t\t\t\tprop: 'withdrawTo',\n\t\t\t\tnonERC20: true,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateWithdrawAmount({\n\t\t\t\tvalidateId,\n\t\t\t\tamountToWithdraw,\n\t\t\t\tavailableIdentityBalanceMainTokenRaw,\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\n\t\t\t\tdecimals,\n\t\t\t\tsymbol,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tlet feesData = null\n\n\t\tif (isValid) {\n\t\t\ttry {\n\t\t\t\tfeesData = await withdrawFromIdentity({\n\t\t\t\t\taccount,\n\t\t\t\t\tamountToWithdraw,\n\t\t\t\t\twithdrawTo,\n\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t})\n\n\t\t\t\tawait updateNewTransaction({\n\t\t\t\t\ttx: stepsId,\n\t\t\t\t\tkey: 'feesData',\n\t\t\t\t\tvalue: feesData,\n\t\t\t\t})(dispatch, getState)\n\n\t\t\t\tisValid = await validateFees({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tfeesAmountBN: feesData.totalBN,\n\t\t\t\t\tamountToSpendBN: feesData.actualWithdrawAmount,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch, getState)\n\t\t\t} catch (err) {\n\t\t\t\tisValid = false\n\t\t\t}\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateIdentityWithdrawAny({\n\tstepsId,\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tawait updateAccountIdentityData()(dispatch, getState)\n\n\t\tconst state = getState()\n\t\tconst account = selectAccount(state)\n\t\tconst {\n\t\t\tamountToWithdraw,\n\t\t\twithdrawTo,\n\t\t\ttokenAddress,\n\t\t\ttokenDecimals,\n\t\t} = selectNewTransactionById(state, stepsId)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: withdrawTo,\n\t\t\t\tprop: 'withdrawTo',\n\t\t\t\tnonERC20: true,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: tokenAddress,\n\t\t\t\tprop: 'tokenAddress',\n\t\t\t\tnonERC20: false,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateNumberString({\n\t\t\t\tvalidateId,\n\t\t\t\tprop: 'amountToWithdraw',\n\t\t\t\tvalue: amountToWithdraw,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateNumberString({\n\t\t\t\tvalidateId,\n\t\t\t\tprop: 'tokenDecimals',\n\t\t\t\tvalue: tokenDecimals,\n\t\t\t\tintegerOnly: true,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tlet feesData = null\n\n\t\tif (isValid) {\n\t\t\ttry {\n\t\t\t\tfeesData = await withdrawOtherTokensFromIdentity({\n\t\t\t\t\taccount,\n\t\t\t\t\tamountToWithdraw,\n\t\t\t\t\twithdrawTo,\n\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t})\n\n\t\t\t\tawait updateNewTransaction({\n\t\t\t\t\ttx: stepsId,\n\t\t\t\t\tkey: 'feesData',\n\t\t\t\t\tvalue: feesData,\n\t\t\t\t})(dispatch, getState)\n\n\t\t\t\tisValid = await validateFees({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tfeesAmountBN: feesData.totalBN,\n\t\t\t\t\tamountToSpendBN: feesData.actualWithdrawAmount,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch, getState)\n\t\t\t} catch (err) {\n\t\t\t\tisValid = false\n\t\t\t}\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function identityWithdrawAny({\n\tamountToWithdraw,\n\twithdrawTo,\n\ttokenAddress,\n\ttokenDecimals,\n}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await withdrawOtherTokensFromIdentity({\n\t\t\t\taccount,\n\t\t\t\tamountToWithdraw,\n\t\t\t\twithdrawTo,\n\t\t\t\ttokenAddress,\n\t\t\t\ttokenDecimals,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await withdrawFromIdentity({\n\t\t\t\taccount,\n\t\t\t\tamountToWithdraw,\n\t\t\t\twithdrawTo,\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [result],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateENSChange({\n\tstepsId,\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tconst identityData = updateAccountIdentityData()(dispatch, getState)\n\t\tif (dirty) {\n\t\t\tawait identityData\n\t\t}\n\n\t\tconst state = getState()\n\t\tconst { username } = selectNewTransactionById(state, stepsId)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateENS({\n\t\t\t\tvalidateId,\n\t\t\t\tauthType,\n\t\t\t\tusername,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tconst account = selectAccount(state)\n\t\t\tconst feesData = await addIdentityENS({\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tawait updateNewTransaction({\n\t\t\t\ttx: stepsId,\n\t\t\t\tkey: 'feesData',\n\t\t\t\tvalue: feesData,\n\t\t\t})(dispatch, getState)\n\n\t\t\tisValid = await validateFees({\n\t\t\t\tvalidateId,\n\t\t\t\tfeesAmountBN: feesData.totalBN,\n\t\t\t\tamountToSpendBN: '0',\n\t\t\t\tdirty,\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function setIdentityENS({ username }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tawait addIdentityENS({\n\t\t\t\tusername,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('ENS_SETUP_NOTIFICATION', { args: [username] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_SETTING_ENS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_SETTING_ENS', {\n\t\t\t\t\targs: [err],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function completeTx({\n\tstepsId,\n\tcompeteAction,\n\tvalidateId,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tawait updateNewTransaction({\n\t\t\ttx: stepsId,\n\t\t\tkey: 'waitingForWalletAction',\n\t\t\tvalue: true,\n\t\t})(dispatch)\n\n\t\tlet isValid = false\n\n\t\ttry {\n\t\t\tconst state = getState()\n\n\t\t\tconst transaction = selectNewTransactionById(state, stepsId)\n\n\t\t\tawait competeAction({ ...transaction })(dispatch, getState)\n\t\t\tisValid = true\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_TRANSACTION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t\tawait updateNewTransaction({\n\t\t\ttx: stepsId,\n\t\t\tkey: 'waitingForWalletAction',\n\t\t\tvalue: false,\n\t\t})(dispatch)\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t// TODO: reset tx if OK\n\t}\n}\n","import {\n\tUPDATE_NEW_ITEM,\n\tRESET_NEW_ITEM,\n\tRESET_ALL_NEW_ITEMS,\n} from 'constants/actionTypes'\nimport { selectNewItemByTypeAndId } from 'selectors'\nimport { Base, Models } from 'adex-models'\nimport { updateSpinner, handleAfterValidation } from 'actions'\n\nexport function updateNewItem(item, newValues, itemType, objModel, itemId) {\n\titem = Base.updateObject({ item, newValues, objModel })\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: UPDATE_NEW_ITEM,\n\t\t\titem,\n\t\t\titemType,\n\t\t\titemId,\n\t\t})\n\t}\n}\n\nexport function resetNewItem(itemType, itemId) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: RESET_NEW_ITEM,\n\t\t\titemType,\n\t\t\titemId,\n\t\t})\n\t}\n}\n\nexport function resetAllNewItems() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: RESET_ALL_NEW_ITEMS,\n\t\t})\n\t}\n}\n\nexport function updateNewItemAction(type, prop, value, newValues, itemId) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst currentItem = selectNewItemByTypeAndId(state, type, itemId)\n\t\tawait updateNewItem(\n\t\t\tcurrentItem,\n\t\t\tnewValues || { [prop]: value },\n\t\t\ttype,\n\t\t\tModels.itemClassByName[type],\n\t\t\titemId\n\t\t)(dispatch)\n\t}\n}\n\nexport function updateNewSlot(prop, value, newValues, itemId) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateNewItemAction('AdSlot', prop, value, newValues, itemId)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateNewUnit(prop, value, newValues) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateNewItemAction('AdUnit', prop, value, newValues)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateNewCampaign(prop, value, newValues) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateNewItemAction('Campaign', prop, value, newValues)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateNewAudience(prop, value, newValues, itemId) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateNewItemAction('Audience', prop, value, newValues, itemId)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateNewItemTarget({\n\tcollection,\n\titemType,\n\titemId,\n\ttarget = {},\n\tindex,\n\tremove,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst { temp } = selectNewItemByTypeAndId(state, itemType, itemId)\n\t\t// We are keeping the state in temp because it dirty with extra data\n\t\tconst targets = [...(temp.targets || [])]\n\t\tconst hasIndex = Number.isInteger(index)\n\n\t\tif (hasIndex && !remove) {\n\t\t\t// NOTE: when updated with index target has only { target: { tag, score }}\n\t\t\ttargets[index] = { ...(targets[index] || {}), ...target }\n\t\t} else if (hasIndex && remove) {\n\t\t\ttargets.splice(index, 1)\n\t\t} else {\n\t\t\t// NOTE: when updated w/o index target has no key\n\t\t\ttargets.push({ ...target, key: targets.length })\n\t\t}\n\n\t\t// The actual targets added to the spec\n\t\tconst filtered = targets.filter(x => x.target.tag).map(x => x.target)\n\n\t\tconst newValues = {\n\t\t\t[collection]: filtered,\n\t\t\ttemp: { ...temp, targets },\n\t\t}\n\n\t\tawait updateNewItemAction(itemType, null, null, newValues, itemId)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateTargetRuleInput({\n\tparameter,\n\titemType,\n\titemId,\n\ttarget = {},\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst item = selectNewItemByTypeAndId(state, itemType, itemId)\n\t\tconst isAudience = itemType === 'Audience'\n\n\t\tconst newValues = { ...item }\n\n\t\tconst newInputs = {\n\t\t\t...(isAudience ? newValues.inputs : newValues.audienceInput.inputs),\n\t\t}\n\n\t\tnewInputs[parameter] = { ...target }\n\n\t\tif (isAudience) {\n\t\t\tnewValues.inputs = newInputs\n\t\t} else {\n\t\t\tnewValues.audienceInput = {\n\t\t\t\tversion: newValues.audienceInput.version || '1',\n\t\t\t\t...newValues.audienceInput,\n\t\t\t\tinputs: newInputs,\n\t\t\t}\n\t\t}\n\n\t\tawait updateNewItemAction(itemType, null, null, newValues, itemId)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function completeItem({\n\titemType,\n\tcompeteAction,\n\tvalidateId,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tlet isValid = false\n\t\ttry {\n\t\t\tawait competeAction()(dispatch, getState)\n\t\t\tisValid = true\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ITEM', err)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tif (isValid) {\n\t\t\tresetNewItem(itemType)(dispatch)\n\t\t}\n\t}\n}\n","import { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\nimport { addToast, updateSpinner } from 'actions'\nimport { postAudience, putAudience } from 'services/adex-market/actions'\n\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tt,\n\tselectNewAudience,\n\tselectNewItemByTypeAndId,\n\tselectAudienceById,\n} from 'selectors'\nimport {\n\tvalidateSchemaProp,\n\thandleAfterValidation,\n\tvalidateAudience,\n\tupdateNewItem,\n} from 'actions'\nimport { Audience, schemas } from 'adex-models'\n\nconst { audiencePost, audiencePut } = schemas\n\nexport function updateAudienceInput({\n\tupdateField,\n\titemId,\n\tonValid,\n\tvalidateId,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst { inputs } = selectNewItemByTypeAndId(state, 'Audience', itemId)\n\n\t\tconst isValid = await validateAudience({\n\t\t\tvalidateId,\n\t\t\tinputs,\n\t\t\tdirty: true,\n\t\t\tpropName: 'inputs',\n\t\t})(dispatch)\n\n\t\tif (isValid) {\n\t\t\tawait updateField('inputs', inputs)\n\t\t\tonValid()\n\t\t}\n\t}\n}\n\nexport function validateAndUpdateAudience({ validateId, dirty, item, update }) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst { id, title, version, inputs } = item\n\n\t\t\tconst audience = new Audience(item).marketUpdate\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: audiencePut.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: version,\n\t\t\t\t\tprop: 'version',\n\t\t\t\t\tschema: audiencePut.version,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateAudience({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tinputs,\n\t\t\t\t\tdirty,\n\t\t\t\t\tpropName: 'inputs',\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: audience,\n\t\t\t\t\tprop: 'audience',\n\t\t\t\t\tschema: audiencePut,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (isValid && update) {\n\t\t\t\tconst updatedAudience = (await putAudience({\n\t\t\t\t\taudience,\n\t\t\t\t\tid,\n\t\t\t\t})).audience\n\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\t\titem: new Audience(updatedAudience).plainObj(),\n\t\t\t\t\titemType: 'Audience',\n\t\t\t\t})\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['AUDIENCE', updatedAudience.title],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t} else if (!isValid && update) {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['AUDIENCE', getErrorMsg('INVALID_DATA')],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'error',\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\targs: ['AUDIENCE', getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function mapCurrentToNewAudience({ itemId, dirtyProps }) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst item = selectAudienceById(state, itemId)\n\t\tconst audience = selectNewItemByTypeAndId(state, 'Audience', itemId)\n\n\t\tconst inputs = dirtyProps.includes('inputs') ? audience.inputs : item.inputs\n\n\t\tupdateNewItem(\n\t\t\titem,\n\t\t\t{ inputs: { ...inputs } },\n\t\t\t'Audience',\n\t\t\tAudience,\n\t\t\titem.id\n\t\t)(dispatch, getState)\n\t}\n}\n\nexport function saveAudience({ audienceInput, campaignId } = {}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst newAudience = { ...(audienceInput || selectNewAudience(state)) }\n\t\t\tnewAudience.campaignId = campaignId || null\n\t\t\tif (campaignId) {\n\t\t\t\tnewAudience.title = null\n\t\t\t}\n\n\t\t\tconst audience = new Audience({\n\t\t\t\t...newAudience,\n\t\t\t}).marketAdd\n\n\t\t\tconst resItem = await postAudience({\n\t\t\t\taudience,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: ADD_ITEM,\n\t\t\t\titem: resItem,\n\t\t\t\titemType: 'Audience',\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'success',\n\t\t\t\tlabel: t('AUDIENCE_SAVED', {\n\t\t\t\t\targs: [newAudience.title || campaignId],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_AUDIENCE', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'error',\n\t\t\t\tlabel: t('ERR_CREATING_AUDIENCE', {\n\t\t\t\t\targs: ['AUDIENCE', getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\n\t\t}\n\t}\n}\n\nexport function validateAudienceBasics({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tlet isValid = false\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst audience = selectNewAudience(state)\n\t\t\tconst { title, inputs, version } = audience\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: audiencePost.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: version,\n\t\t\t\t\tprop: 'version',\n\t\t\t\t\tschema: audiencePost.version,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tisValid = validations.every(v => v === true)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_SLOT_BASIC', err)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateAudienceInput({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst { inputs = {} } = selectNewAudience(state)\n\n\t\t\tconst isValid = await validateAudience({\n\t\t\t\tvalidateId,\n\t\t\t\tinputs,\n\t\t\t\tdirty,\n\t\t\t\tpropName: 'inputs',\n\t\t\t})(dispatch)\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {\n\t\t\tconsole.log('err', err)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import url from 'url'\nimport { UTM_PARAMS } from 'constants/misc'\n\nexport const addUrlUtmTracking = ({ targetUrl, campaign, content, src }) => {\n\tif (!!targetUrl) {\n\t\tconst URL = url.parse(targetUrl, true)\n\t\tURL.search = null\n\n\t\tif (URL.protocol && URL.host) {\n\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\n\t\t\tif (campaign) {\n\t\t\t\tquery['utm_campaign'] = campaign\n\t\t\t}\n\t\t\tif (content) {\n\t\t\t\tquery['utm_content'] = content\n\t\t\t}\n\t\t\tif (src) {\n\t\t\t\tquery['utm_source'] = src\n\t\t\t}\n\t\t\tURL.query = query\n\n\t\t\treturn url.format(URL)\n\t\t}\n\t}\n\n\treturn targetUrl\n}\n","import { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\nimport {\n\texecute,\n\taddToast,\n\tupdateSpinner,\n\tupdateItems,\n\tupdateValidatorAuthTokens,\n\tupdateNewCampaign,\n\thandleAfterValidation,\n\tvalidateCampaignValidators,\n\tvalidateCampaignAmount,\n\tvalidateCampaignTitle,\n\tvalidateCampaignDates,\n\tvalidateCampaignUnits,\n\tvalidateSchemaProp,\n\tvalidateAudience,\n\tconfirmAction,\n\tupdateSelectedItems,\n\tsaveAudience,\n\tupdateNewItem,\n} from 'actions'\nimport { push } from 'connected-react-router'\nimport { schemas, Campaign, helpers } from 'adex-models'\nimport { parseUnits } from 'ethers/utils'\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\nimport {\n\topenChannel,\n\tcloseChannel,\n} from 'services/smart-contracts/actions/core'\nimport {\n\tlastApprovedState,\n\tupdateTargeting,\n} from 'services/adex-validator/actions'\nimport {\n\tcloseCampaignMarket,\n\tupdateCampaign,\n\tgetCampaigns,\n} from 'services/adex-market/actions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tt,\n\tselectAccount,\n\tselectNewCampaign,\n\tselectCampaignById,\n\tselectAuthSig,\n\tselectAuth,\n\tselectMainToken,\n\tselectNewItemByTypeAndId,\n\tselectAudienceByCampaignId,\n\tselectTargetingAnalytics,\n\tselectTargetingAnalyticsMinByCategories,\n\tselectTargetingAnalyticsCountryTiersCoefficients,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport {\n\tOPENING_CAMPAIGN,\n\tGETTING_CAMPAIGNS_FEES,\n\tPRINTING_CAMPAIGNS_RECEIPTS,\n} from 'constants/spinners'\nimport Helper from 'helpers/miscHelpers'\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\n\nconst { audienceInputToTargetingRules, getSuggestedPricingBounds } = helpers\n\nconst { campaignPut } = schemas\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_LEADER_FEE_NUM = process.env.VALIDATOR_LEADER_FEE_NUM\nconst VALIDATOR_LEADER_FEE_DEN = process.env.VALIDATOR_LEADER_FEE_DEN\nconst VALIDATOR_LEADER_FEE_ADDR = process.env.VALIDATOR_LEADER_FEE_ADDR\n\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\nconst VALIDATOR_FOLLOWER_FEE_NUM = process.env.VALIDATOR_FOLLOWER_FEE_NUM\nconst VALIDATOR_FOLLOWER_FEE_DEN = process.env.VALIDATOR_FOLLOWER_FEE_DEN\nconst VALIDATOR_FOLLOWER_FEE_ADDR = process.env.VALIDATOR_FOLLOWER_FEE_ADDR\n\n// updatedCampaign updated campaign class instance\nfunction updateCampaignOnMarket({ updated, toastLabel, toastArgs, toastType }) {\n\treturn async function(dispatch, getState) {\n\t\tconst updatedCampaign = (await updateCampaign({\n\t\t\tcampaign: updated.marketUpdate,\n\t\t\tid: updated.id,\n\t\t})).campaign\n\n\t\tdispatch({\n\t\t\ttype: UPDATE_ITEM,\n\t\t\titem: new Campaign({\n\t\t\t\t...updatedCampaign.spec,\n\t\t\t\t...updatedCampaign,\n\t\t\t}).plainObj(),\n\t\t\titemType: 'Campaign',\n\t\t})\n\t\taddToast({\n\t\t\ttype: toastType || 'success',\n\t\t\tlabel: t(toastLabel, {\n\t\t\t\targs: toastArgs || ['CAMPAIGN', updatedCampaign.title],\n\t\t\t}),\n\t\t\ttimeout: 50000,\n\t\t})(dispatch)\n\n\t\t// Make sure to update tables\n\t\tawait updateUserCampaigns()(dispatch, getState)\n\t}\n}\n\nexport function openCampaign() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst selectedCampaign = selectNewCampaign(state)\n\t\t\tconst account = selectAccount(state)\n\t\t\tconst campaign = { ...selectedCampaign }\n\n\t\t\tif (campaign.temp.useUtmTags) {\n\t\t\t\tcampaign.adUnits = [...campaign.adUnits].map((unit, index) => ({\n\t\t\t\t\t...unit,\n\t\t\t\t\ttargetUrl: addUrlUtmTracking({\n\t\t\t\t\t\ttargetUrl: unit.targetUrl,\n\t\t\t\t\t\tcampaign: campaign.title,\n\t\t\t\t\t\tcontent: `${index + 1}_${unit.type}`,\n\t\t\t\t\t\t...(campaign.temp.useUtmSrcWithPub\n\t\t\t\t\t\t\t? { src: 'adex_PUBHOSTNAME' }\n\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t}),\n\t\t\t\t}))\n\t\t\t}\n\n\t\t\tawait getAllValidatorsAuthForIdentity({\n\t\t\t\twithBalance: [{ channel: campaign }],\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tconst { storeCampaign } = await openChannel({\n\t\t\t\tcampaign,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tawait saveAudience({\n\t\t\t\tcampaignId: storeCampaign.id,\n\t\t\t\taudienceInput: campaign.audienceInput,\n\t\t\t})(dispatch, getState)\n\n\t\t\tdispatch({\n\t\t\t\ttype: ADD_ITEM,\n\t\t\t\titem: new Campaign({\n\t\t\t\t\t...storeCampaign.spec,\n\t\t\t\t\t...storeCampaign,\n\t\t\t\t}).plainObj(),\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('OPENING_CAMPAIGN_SENT_TO_RELAYER', {\n\t\t\t\t\targs: [storeCampaign.id],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_OPENING_CAMPAIGN', {\n\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t\tthrow new Error('ERR_OPENING_CAMPAIGN', err)\n\t\t}\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\n\t\treturn true\n\t}\n}\n\nexport const updateCampaignState = ({ campaign }) => {\n\treturn async dispatch => {\n\t\ttry {\n\t\t\tconst state = await lastApprovedState({ campaign })\n\t\t\tconst newCampaign = { ...campaign }\n\t\t\tnewCampaign.state = state\n\n\t\t\treturn dispatch({\n\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\titem: newCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_LAST_STATUS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\n// TEMP for testing in production until 4.1 is deployed\nfunction getHumanFriendlyName(campaign) {\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\n\t\treturn 'Closed'\n\tswitch ((campaign.status || {}).name) {\n\t\tcase 'Pending':\n\t\t\treturn 'Pending'\n\t\tcase 'Active':\n\t\tcase 'Ready':\n\t\tcase 'Initializing':\n\t\tcase 'Waiting':\n\t\tcase 'Offline':\n\t\tcase 'Disconnected':\n\t\tcase 'Unhealthy':\n\t\tcase 'Invalid':\n\t\t\treturn 'Active'\n\t\tcase 'Expired':\n\t\tcase 'Exhausted':\n\t\tcase 'Withdraw':\n\t\t\treturn 'Completed'\n\t\tdefault:\n\t\t\treturn 'N/A'\n\t}\n}\n\nexport function updateCampaignAudienceInput({\n\tupdateField,\n\tfieldName,\n\titemId,\n\tvalidateId,\n\tonValid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst { audienceInput } = selectNewItemByTypeAndId(\n\t\t\tstate,\n\t\t\t'Campaign',\n\t\t\titemId\n\t\t)\n\n\t\tconst isValid = await validateAudience({\n\t\t\tvalidateId,\n\t\t\tinputs: audienceInput.inputs,\n\t\t\tdirty: true,\n\t\t\tpropName: 'audienceInput',\n\t\t})(dispatch)\n\n\t\tif (isValid) {\n\t\t\tawait updateField(\n\t\t\t\t'audienceInput',\n\t\t\t\taudienceInput,\n\t\t\t\tfieldName\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tname: fieldName,\n\t\t\t\t\t  }\n\t\t\t\t\t: null\n\t\t\t)\n\t\t\tonValid()\n\t\t}\n\t}\n}\n\nexport function mapCurrentToNewCampaignAudienceInput({ itemId, dirtyProps }) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst item = selectCampaignById(state, itemId)\n\t\tconst campaign = selectNewItemByTypeAndId(state, 'Campaign', itemId)\n\t\tconst initialAudienceInput = selectAudienceByCampaignId(state, itemId)\n\t\tconst itemAudienceInput =\n\t\t\titem.audienceInput && Object.keys(item.audienceInput.inputs).length\n\t\t\t\t? item.audienceInput\n\t\t\t\t: initialAudienceInput\n\n\t\tconst audienceInput = dirtyProps.some(p =>\n\t\t\t['audienceInput', 'campaignAdvanced'].includes(p.name || p)\n\t\t)\n\t\t\t? campaign.audienceInput\n\t\t\t: item.audienceInput || itemAudienceInput\n\n\t\tupdateNewItem(\n\t\t\titem,\n\t\t\t{ audienceInput: { ...audienceInput } },\n\t\t\t'Campaign',\n\t\t\tCampaign,\n\t\t\titem.id\n\t\t)(dispatch, getState)\n\t}\n}\n\nexport function updateUserCampaigns() {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst hasAuth = selectAuth(state)\n\t\tconst { identity } = selectAccount(state)\n\t\tconst { address } = identity\n\n\t\tif (hasAuth && address) {\n\t\t\ttry {\n\t\t\t\tconst campaigns = await getCampaigns({\n\t\t\t\t\tall: true,\n\t\t\t\t\tbyCreator: address,\n\t\t\t\t\tcacheBrake: true,\n\t\t\t\t})\n\t\t\t\tlet campaignsMapped = campaigns\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tc =>\n\t\t\t\t\t\t\tc.id &&\n\t\t\t\t\t\t\tc.creator &&\n\t\t\t\t\t\t\tc.creator.toLowerCase() === address.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\t.map(c => {\n\t\t\t\t\t\tconst campaign = {\n\t\t\t\t\t\t\t...c.spec,\n\t\t\t\t\t\t\t...c,\n\t\t\t\t\t\t\ttargetingRules: c.targetingRules || c.spec.targetingRules,\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn campaign\n\t\t\t\t\t})\n\n\t\t\t\tupdateItems({\n\t\t\t\t\titems: campaignsMapped,\n\t\t\t\t\titemType: 'Campaign',\n\t\t\t\t})(dispatch)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\n\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGNS', {\n\t\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function closeCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(`closing-campaign-${campaign.id}`, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst { account } = state.persist\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\n\t\t\tconst newCampaign = { ...campaign }\n\t\t\tnewCampaign.status = {\n\t\t\t\t...newCampaign.status,\n\t\t\t\thumanFriendlyName: 'Closed',\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\titem: newCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\t\t\tawait updateUserCampaigns()(dispatch, getState)\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('SUCCESS_CLOSING_CAMPAIGN'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_CLOSING_CAMPAIGN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(`closing-campaign-${campaign.id}`, false)(dispatch)\n\t}\n}\n\nexport function pauseOrResumeCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(`pausing-campaign-${campaign.id}`, true)(dispatch)\n\t\tlet action = 'PAUSING'\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst { account } = state.persist\n\t\t\tconst updated = new Campaign(campaign)\n\n\t\t\tconst currentTargetingRules = updated.targetingRules || []\n\t\t\tconst newRules = [...currentTargetingRules]\n\n\t\t\tconst isPaused = (currentTargetingRules[0] || {}).onlyShowIf === false\n\t\t\tif (isPaused) {\n\t\t\t\taction = 'RESUMING'\n\t\t\t\tnewRules.shift()\n\t\t\t} else {\n\t\t\t\tnewRules.unshift({ onlyShowIf: false })\n\t\t\t}\n\n\t\t\tupdated.targetingRules = newRules\n\n\t\t\tconst { authTokens } = await updateTargeting({\n\t\t\t\taccount,\n\t\t\t\tcampaign: updated,\n\t\t\t\ttargetingRules: newRules,\n\t\t\t})\n\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\n\t\t\tawait updateCampaignOnMarket({\n\t\t\t\tupdated,\n\t\t\t\ttoastLabel: `SUCCESS_${action}_CAMPAIGN`,\n\t\t\t})(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_${action}_CAMPAIGN`, err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t(`ERR_${action}_CAMPAIGN`, {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(`pausing-campaign-${campaign.id}`, false)(dispatch)\n\t}\n}\n\nexport function excludeOrIncludeWebsites({\n\tcampaignId,\n\thostnames,\n\texclude,\n\taction,\n\tonSuccess,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(`${action}-campaign-website${campaignId}`, true)(dispatch)\n\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst campaign = selectCampaignById(state, campaignId)\n\t\t\tconst targetingData = selectTargetingAnalytics(state)\n\t\t\tconst { account } = state.persist\n\t\t\tconst updated = new Campaign(campaign)\n\n\t\t\tconst campaignAudienceInput = selectAudienceByCampaignId(\n\t\t\t\tstate,\n\t\t\t\tcampaignId\n\t\t\t)\n\n\t\t\t// Add default value for legacy campaigns\n\t\t\tconst newAudienceInput = {\n\t\t\t\tversion: '1',\n\t\t\t\tinputs: { publishers: {} },\n\t\t\t\t...campaignAudienceInput,\n\t\t\t}\n\t\t\tnewAudienceInput.inputs = { ...newAudienceInput.inputs }\n\t\t\tnewAudienceInput.inputs.publishers = {\n\t\t\t\t...newAudienceInput.inputs.publishers,\n\t\t\t}\n\n\t\t\tconst { inputs = {} } = newAudienceInput\n\t\t\tconst { publishers = {} } = inputs\n\n\t\t\t// exclude\n\t\t\tif (exclude && publishers.apply && publishers.apply === 'in') {\n\t\t\t\tconst newIn = [...(publishers.in || [])].filter(value => {\n\t\t\t\t\tconst { hostname } = JSON.parse(value)\n\t\t\t\t\treturn !hostnames.includes(hostname)\n\t\t\t\t})\n\t\t\t\tnewAudienceInput.inputs.publishers.in = newIn\n\t\t\t}\n\t\t\t// include\n\t\t\telse if (!exclude && publishers.apply && publishers.apply === 'in') {\n\t\t\t\tconst newIn = [...hostnames]\n\t\t\t\t\t// Filter already included\n\t\t\t\t\t.filter(h => [...(publishers.in || [])].some(x => x.includes(h)))\n\t\t\t\t\t.map(hostname =>\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\thostname,\n\t\t\t\t\t\t\tpublisher: (\n\t\t\t\t\t\t\t\ttargetingData.find(x => x.hostname === hostname) || {}\n\t\t\t\t\t\t\t).owner,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\n\t\t\t\tnewAudienceInput.inputs.publishers.in = (publishers.in || []).concat(\n\t\t\t\t\tnewIn\n\t\t\t\t)\n\t\t\t}\n\t\t\t// exclude\n\t\t\telse if (exclude && publishers.apply && publishers.apply === 'nin') {\n\t\t\t\tconst newNin = hostnames\n\t\t\t\t\t// Filter already excluded\n\t\t\t\t\t.filter(h => ![...(publishers.nin || [])].some(x => x.includes(h)))\n\t\t\t\t\t.map(hostname =>\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\thostname,\n\t\t\t\t\t\t\tpublisher: (\n\t\t\t\t\t\t\t\ttargetingData.find(x => x.hostname === hostname) || {}\n\t\t\t\t\t\t\t).owner,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = (publishers.nin || []).concat(\n\t\t\t\t\tnewNin\n\t\t\t\t)\n\t\t\t}\n\t\t\t// include\n\t\t\telse if (!exclude && publishers.apply && publishers.apply === 'nin') {\n\t\t\t\tconst newNin = [...(publishers.nin || [])]\n\t\t\t\t\t// Filter selected\n\t\t\t\t\t.filter(value => {\n\t\t\t\t\t\tconst { hostname } = JSON.parse(value)\n\t\t\t\t\t\treturn !hostnames.includes(hostname)\n\t\t\t\t\t})\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = newNin\n\t\t\t}\n\t\t\t// exclude\n\t\t\telse if (\n\t\t\t\texclude &&\n\t\t\t\t(!publishers.apply ||\n\t\t\t\t\t(publishers.apply && publishers.apply === 'allin'))\n\t\t\t) {\n\t\t\t\tconst newNin = [...hostnames].map(hostname =>\n\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\thostname,\n\t\t\t\t\t\tpublisher: (targetingData.find(x => x.hostname === hostname) || {})\n\t\t\t\t\t\t\t.owner,\n\t\t\t\t\t})\n\t\t\t\t)\n\n\t\t\t\tnewAudienceInput.inputs.publishers.apply = 'nin'\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = newNin\n\t\t\t}\n\t\t\t// include\n\t\t\telse if (\n\t\t\t\t!exclude &&\n\t\t\t\t(!publishers.apply ||\n\t\t\t\t\t(publishers.apply && publishers.apply === 'allin'))\n\t\t\t) {\n\t\t\t\t// There is nothing to do\n\t\t\t\treturn addToast({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tlabel: t(`SUCCESS_${action}_WEBSITE`, {\n\t\t\t\t\t\targs: [hostnames.length, updated.title],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tnewAudienceInput.inputs.publishers.apply === 'nin' &&\n\t\t\t\t!newAudienceInput.inputs.publishers.nin.length\n\t\t\t) {\n\t\t\t\tnewAudienceInput.inputs.publishers.apply = 'allin'\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = null\n\t\t\t}\n\n\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\n\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\n\t\t\t\tstate\n\t\t\t)\n\n\t\t\tconst { decimals } = selectMainToken(state)\n\t\t\tconst { pricingBounds, minPerImpression, maxPerImpression } = campaign\n\n\t\t\t// Legacy campaigns shim\n\t\t\tconst campaignPricingBounds = pricingBounds || {\n\t\t\t\tIMPRESSION: {\n\t\t\t\t\tmin: minPerImpression,\n\t\t\t\t\tmax: maxPerImpression,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tconst newRules = audienceInputToTargetingRules({\n\t\t\t\taudienceInput: newAudienceInput,\n\t\t\t\tminByCategory,\n\t\t\t\tcountryTiersCoefficients,\n\t\t\t\tpricingBounds: campaignPricingBounds,\n\t\t\t\tdecimals,\n\t\t\t})\n\n\t\t\tupdated.targetingRules = newRules\n\t\t\tupdated.audienceInput = newAudienceInput\n\n\t\t\tconst { authTokens } = await updateTargeting({\n\t\t\t\taccount,\n\t\t\t\tcampaign: updated,\n\t\t\t\ttargetingRules: newRules,\n\t\t\t})\n\n\t\t\tconst updatedCampaign = (await updateCampaign({\n\t\t\t\tcampaign: updated.marketUpdate,\n\t\t\t\tid: updated.id,\n\t\t\t})).campaign\n\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\n\t\t\tlet toastType = 'success'\n\t\t\tlet toastLabel = `SUCCESS_${action}_WEBSITE`\n\n\t\t\tif (\n\t\t\t\tnewAudienceInput.inputs.publishers.apply === 'in' &&\n\t\t\t\t!newAudienceInput.inputs.publishers.in.length\n\t\t\t) {\n\t\t\t\ttoastType = 'warning'\n\t\t\t\ttoastLabel = `WARNING_NO_PUBLISHERS_${action}_WEBSITE`\n\t\t\t}\n\n\t\t\tawait updateCampaignOnMarket({\n\t\t\t\tupdated,\n\t\t\t\ttoastType,\n\t\t\t\ttoastLabel,\n\t\t\t\troastArgs: [hostnames.length, updatedCampaign.title],\n\t\t\t})(dispatch, getState)\n\n\t\t\tif (typeof onSuccess === 'function') {\n\t\t\t\tonSuccess()\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_${action}_WEBSITE`, err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t(`ERR_${action}_WEBSITE`, {\n\t\t\t\t\targs: [hostnames.length, getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(`${action}-campaign-website${campaignId}`, true)(dispatch)\n\t}\n}\n\nconst tempValidators = [\n\t{\n\t\tid: VALIDATOR_LEADER_ID,\n\t\turl: VALIDATOR_LEADER_URL,\n\t\tfeeNum: VALIDATOR_LEADER_FEE_NUM,\n\t\tfeeDen: VALIDATOR_LEADER_FEE_DEN,\n\t\tfeeAddr: VALIDATOR_LEADER_FEE_ADDR,\n\t},\n\t{\n\t\tid: VALIDATOR_FOLLOWER_ID,\n\t\turl: VALIDATOR_FOLLOWER_URL,\n\t\tfeeNum: VALIDATOR_FOLLOWER_FEE_NUM,\n\t\tfeeDen: VALIDATOR_FOLLOWER_FEE_DEN,\n\t\tfeeAddr: VALIDATOR_FOLLOWER_FEE_ADDR,\n\t},\n]\n\nexport function validateNewCampaignAdUnits({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst state = getState()\n\t\tconst campaign = selectNewCampaign(state)\n\t\tconst { adUnits } = campaign\n\n\t\tconst isValid = await validateCampaignUnits({ validateId, adUnits, dirty })(\n\t\t\tdispatch\n\t\t)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateCampaignAudienceInput({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst { audienceInput = {}, temp } = selectNewCampaign(state)\n\t\t\tconst { inputs } = audienceInput\n\n\t\t\tconst isValid = await validateAudience({\n\t\t\t\tvalidateId,\n\t\t\t\tinputs,\n\t\t\t\tdirty,\n\t\t\t\tpropName: 'audienceInput',\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\n\t\t\t\t\tstate\n\t\t\t\t)\n\t\t\t\tconst pricingBounds = getSuggestedPricingBounds({\n\t\t\t\t\tminByCategory,\n\t\t\t\t\tcountryTiersCoefficients,\n\t\t\t\t\taudienceInput,\n\t\t\t\t})\n\n\t\t\t\tawait updateNewCampaign('temp', {\n\t\t\t\t\t...temp,\n\t\t\t\t\tsuggestedPricingBounds: pricingBounds,\n\t\t\t\t})(dispatch, getState)\n\n\t\t\t\t// Update pricingBounds here in order to avoid value check at nex steps\n\t\t\t\tawait updateNewCampaign('pricingBounds', pricingBounds)(\n\t\t\t\t\tdispatch,\n\t\t\t\t\tgetState\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {\n\t\t\tconsole.log('err', err)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateNewCampaignFinance({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst { decimals } = selectMainToken(state)\n\t\t\tconst campaign = selectNewCampaign(state)\n\t\t\tconst {\n\t\t\t\tvalidators,\n\t\t\t\tdepositAmount,\n\t\t\t\ttitle,\n\t\t\t\tactiveFrom,\n\t\t\t\twithdrawPeriodStart,\n\t\t\t\tcreated,\n\t\t\t\tpricingBounds,\n\t\t\t\taudienceInput,\n\t\t\t\t// minTargetingScore,\n\t\t\t\t// adUnits,\n\t\t\t\ttemp = {},\n\t\t\t} = campaign\n\n\t\t\tconst { maxChannelFees, maxDeposit } = temp\n\n\t\t\tconst newCampaign = { ...campaign }\n\n\t\t\tif (!validators || !validators.length) {\n\t\t\t\t// TODO: temp - will need dropdown selector for the follower validator\n\t\t\t\tnewCampaign.validators = tempValidators\n\t\t\t\tawait updateNewCampaign('validators', newCampaign.validators)(\n\t\t\t\t\tdispatch,\n\t\t\t\t\tgetState\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateCampaignValidators({ validateId, validators, dirty })(dispatch),\n\t\t\t\tvalidateCampaignAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'depositAmount',\n\t\t\t\t\tvalue: depositAmount,\n\t\t\t\t\tdirty,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tpricingBounds,\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t\tdecimals,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'pricingBounds_min',\n\t\t\t\t\tvalue: pricingBounds.IMPRESSION ? pricingBounds.IMPRESSION.min : null,\n\t\t\t\t\tdirty,\n\t\t\t\t\tpricingBounds,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t\tdecimals,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignTitle({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\ttitle,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignDates({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'activeFrom',\n\t\t\t\t\tvalue: activeFrom,\n\t\t\t\t\tdirty,\n\t\t\t\t\tactiveFrom,\n\t\t\t\t\twithdrawPeriodStart,\n\t\t\t\t\tcreated,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignDates({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'withdrawPeriodStart',\n\t\t\t\t\tvalue: withdrawPeriodStart,\n\t\t\t\t\tdirty,\n\t\t\t\t\tactiveFrom,\n\t\t\t\t\twithdrawPeriodStart,\n\t\t\t\t\tcreated,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (typeof maxChannelFees !== 'string') {\n\t\t\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\n\n\t\t\t\tconst account = selectAccount(state)\n\n\t\t\t\tconst {\n\t\t\t\t\tfeesFormatted,\n\t\t\t\t\tmaxAvailable,\n\t\t\t\t\tmaxAvailableFormatted,\n\t\t\t\t} = await openChannel({\n\t\t\t\t\tcampaign: { ...newCampaign },\n\t\t\t\t\taccount,\n\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t\tgetMaxFees: true,\n\t\t\t\t})\n\n\t\t\t\tconst newTemp = { ...temp }\n\t\t\t\tnewTemp.maxChannelFees = feesFormatted\n\t\t\t\tnewTemp.maxDeposit = maxAvailable\n\t\t\t\tnewTemp.maxDepositFormatted = maxAvailableFormatted\n\n\t\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\n\t\t\t}\n\n\t\t\tif (isValid) {\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\n\t\t\t\t\tstate\n\t\t\t\t)\n\n\t\t\t\t// TODO: make function in models\n\t\t\t\tconst pricingBoundsInTokenValue = { ...pricingBounds }\n\t\t\t\tconst impression = { ...pricingBoundsInTokenValue.IMPRESSION }\n\t\t\t\timpression.min = parseUnits(impression.min, decimals)\n\t\t\t\timpression.max = parseUnits(impression.max, decimals)\n\t\t\t\tpricingBoundsInTokenValue.IMPRESSION = impression\n\n\t\t\t\tconst targetingRules = audienceInputToTargetingRules({\n\t\t\t\t\taudienceInput,\n\t\t\t\t\tminByCategory,\n\t\t\t\t\tcountryTiersCoefficients,\n\t\t\t\t\tpricingBounds: pricingBoundsInTokenValue,\n\t\t\t\t\tdecimals,\n\t\t\t\t})\n\t\t\t\tawait updateNewCampaign('targetingRules', targetingRules)(\n\t\t\t\t\tdispatch,\n\t\t\t\t\tgetState\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_CAMPAIGN_FINANCE', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_CAMPAIGN_FINANCE', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function getCampaignActualFees() {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst campaign = selectNewCampaign(state)\n\t\t\tconst mainToken = selectMainToken(state)\n\t\t\tconst { temp = {}, depositAmount } = campaign\n\n\t\t\tconst account = selectAccount(state)\n\n\t\t\tconst { feesFormatted, fees } = await openChannel({\n\t\t\t\tcampaign: { ...campaign },\n\t\t\t\taccount,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t})\n\n\t\t\tconst totalSpend = parseUnits(depositAmount, mainToken.decimals).add(fees)\n\n\t\t\tconst totalSpendFormatted = formatTokenAmount(\n\t\t\t\ttotalSpend.toString(),\n\t\t\t\tmainToken.decimals || 18,\n\t\t\t\tfalse,\n\t\t\t\ttrue\n\t\t\t)\n\n\t\t\tconst newTemp = { ...temp }\n\t\t\tnewTemp.feesFormatted = feesFormatted\n\t\t\tnewTemp.totalSpendFormatted = totalSpendFormatted\n\n\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_FEES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_FEES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\n\t}\n}\n\nexport function handlePrintSelectedReceiptsAdvertiser(selected) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, true)(dispatch)\n\t\tconfirmAction(\n\t\t\tasync () => {\n\t\t\t\tawait updateSelectedItems('campaigns', selected)(dispatch)\n\t\t\t\tawait dispatch(push('/dashboard/advertiser/receipts'))\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\n\t\t\t},\n\t\t\tasync () => {\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\n\t\t\t},\n\t\t\t{\n\t\t\t\tcancelLabel: t('CANCEL'),\n\t\t\t\tconfirmLabel: t('OK'),\n\t\t\t\ttitle: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TITLE'),\n\t\t\t\ttext: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TEXT'),\n\t\t\t}\n\t\t)(dispatch, getState)\n\t}\n}\n\nexport function validateAndUpdateCampaign({\n\tvalidateId,\n\tdirty,\n\titem,\n\tupdate,\n\tdirtyProps,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst {\n\t\t\t\ttitle,\n\t\t\t\taudienceInput,\n\t\t\t\tpricingBounds,\n\t\t\t\tminPerImpression,\n\t\t\t\tmaxPerImpression,\n\t\t\t} = item\n\n\t\t\tconst updated = new Campaign(item)\n\t\t\tconst isAudienceUpdated = dirtyProps.includes('audienceInput')\n\n\t\t\tif (isAudienceUpdated) {\n\t\t\t\tconst state = getState()\n\t\t\t\tconst { decimals } = selectMainToken(state)\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\n\t\t\t\t\tstate\n\t\t\t\t)\n\n\t\t\t\t// TODO: fix it when it is possible to edit pricing bounds\n\t\t\t\t// Legacy campaigns shim\n\t\t\t\tconst campaignPricingBounds =\n\t\t\t\t\tpricingBounds && pricingBounds.IMPRESSION\n\t\t\t\t\t\t? pricingBounds\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\tIMPRESSION: {\n\t\t\t\t\t\t\t\t\tmin: pricingBounds.min || minPerImpression,\n\t\t\t\t\t\t\t\t\tmax: pricingBounds.min || maxPerImpression,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  }\n\n\t\t\t\tupdated.targetingRules = audienceInputToTargetingRules({\n\t\t\t\t\taudienceInput,\n\t\t\t\t\tminByCategory,\n\t\t\t\t\tcountryTiersCoefficients,\n\t\t\t\t\tpricingBounds: campaignPricingBounds,\n\t\t\t\t\tdecimals,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateCampaignTitle({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\ttitle,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: updated.marketUpdate,\n\t\t\t\t\tprop: 'campaign',\n\t\t\t\t\tschema: campaignPut,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (isValid && update) {\n\t\t\t\tif (isAudienceUpdated) {\n\t\t\t\t\tconst state = getState()\n\t\t\t\t\tconst account = selectAccount(state)\n\t\t\t\t\tconst { authTokens } = await updateTargeting({\n\t\t\t\t\t\taccount,\n\t\t\t\t\t\tcampaign: updated,\n\t\t\t\t\t\ttargetingRules: updated.targetingRules,\n\t\t\t\t\t})\n\t\t\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\n\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\tgetState\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tawait updateCampaignOnMarket({\n\t\t\t\t\tupdated,\n\t\t\t\t\ttoastLabel: 'SUCCESS_UPDATING_ITEM',\n\t\t\t\t})(dispatch, getState)\n\t\t\t} else if (!isValid && update) {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['CAMPAIGN', getErrorMsg('INVALID_DATA')],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\targs: ['CAMPAIGN', Helper.getErrMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import { parseUnits, bigNumberify } from 'ethers/utils'\n\nexport const numStringCPMtoImpression = ({ numStr, decimals }) => {\n\tif (numStr === null || numStr === undefined) {\n\t\treturn numStr\n\t}\n\n\treturn parseUnits(numStr, decimals)\n\t\t.div(bigNumberify(1000))\n\t\t.toString()\n}\n","export const getImgObjectUrlFromExternalUrl = async imgUrl => {\n\tconst res = await fetch(imgUrl)\n\tconst blob = await res.blob()\n\tconst objectUrl = URL.createObjectURL(blob)\n\n\treturn objectUrl\n}\n","import {\n\tupdateSpinner,\n\thandleAfterValidation,\n\tvalidateSchemaProp,\n\tvalidateNumberString,\n\tvalidateMediaSize,\n\tupdateNewSlot,\n\taddToast,\n\tvalidate,\n\tgetImgsIpfsFromBlob,\n\tupdateNewItem,\n} from 'actions'\nimport { numStringCPMtoImpression } from 'helpers/numbers'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tselectMainToken,\n\tselectNewAdSlot,\n\tselectAuthSig,\n\tt,\n\tselectNewItemByTypeAndId,\n\tselectAdSlotById,\n} from 'selectors'\nimport { schemas, AdSlot, AdUnit, helpers } from 'adex-models'\nimport {\n\tverifyWebsite,\n\tpostAdUnit,\n\tpostAdSlot,\n\tupdateAdSlot,\n} from 'services/adex-market/actions'\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\n\nimport { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\nimport { ipfsSrc } from 'helpers/ipfsHelpers'\nimport { getImgObjectUrlFromExternalUrl } from 'services/images/blob'\n\nconst { adSlotPost, adUnitPost, adSlotPut } = schemas\nconst { slotRulesInputToTargetingRules } = helpers\n\nasync function getFallbackUnit({\n\tmediaMime,\n\ttempUrl,\n\ttargetUrl,\n\ttype,\n\tauthSig,\n\ttitle,\n\tdescription,\n}) {\n\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\ttempUrl,\n\t\tauthSig,\n\t})).ipfs\n\n\tconst unit = new AdUnit({\n\t\ttype,\n\t\tmediaUrl: `ipfs://${imageIpfs}`,\n\t\ttargetUrl,\n\t\tmediaMime,\n\t\tcreated: Date.now(),\n\t\ttitle,\n\t\tdescription,\n\t\ttargeting: [],\n\t\ttags: [],\n\t\tpassback: true,\n\t})\n\n\tconst resUnit = await postAdUnit({\n\t\tunit: unit.marketAdd,\n\t\tauthSig,\n\t})\n\n\treturn resUnit\n}\n\nexport function validateNewSlotBasics({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tlet isValid = false\n\t\ttry {\n\t\t\tconst mainToken = selectMainToken()\n\t\t\tconst state = getState()\n\t\t\tconst slot = selectNewAdSlot(state)\n\t\t\tconst {\n\t\t\t\ttitle,\n\t\t\t\tdescription,\n\t\t\t\ttype,\n\t\t\t\twebsite,\n\t\t\t\tminPerImpression = null,\n\t\t\t\trulesInput,\n\t\t\t\ttemp,\n\t\t\t} = slot\n\n\t\t\tconst { autoSetMinCPM } = temp\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: adSlotPost.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: description,\n\t\t\t\t\tprop: 'description',\n\t\t\t\t\tschema: adSlotPost.description,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: type,\n\t\t\t\t\tprop: 'type',\n\t\t\t\t\tschema: adSlotPost.type,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: website,\n\t\t\t\t\tprop: 'website',\n\t\t\t\t\tschema: adSlotPost.website,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tisValid = validations.every(v => v === true)\n\n\t\t\tif (isValid && !autoSetMinCPM && minPerImpression !== null) {\n\t\t\t\tisValid = await validateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\t\tnumStr: minPerImpression || null,\n\t\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t\t}),\n\t\t\t\t\t},\n\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\tschema: adSlotPost.minPerImpression,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\n\t\t\tconst { hostname, issues, categories, suggestedMinCPM } = isValid\n\t\t\t\t? await verifyWebsite({ websiteUrl: website })\n\t\t\t\t: {}\n\t\t\tconst newTemp = { ...temp, hostname, issues, categories, suggestedMinCPM }\n\t\t\tconst rules = slotRulesInputToTargetingRules({\n\t\t\t\trulesInput,\n\t\t\t\tsuggestedMinCPM:\n\t\t\t\t\t!!autoSetMinCPM || minPerImpression === null\n\t\t\t\t\t\t? suggestedMinCPM\n\t\t\t\t\t\t: minPerImpression,\n\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t})\n\n\t\t\tupdateNewSlot('temp', newTemp)(dispatch, getState)\n\t\t\tupdateNewSlot('rules', rules)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\t// NOTE: Just log - most probably the error can be from verifyWebsite\n\t\t\t// bet this doesn't matter at that point\n\t\t\tconsole.error('ERR_VALIDATING_SLOT_BASIC', err)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateNewSlotPassback({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n\titemId,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst state = getState()\n\t\tconst {\n\t\t\ttype,\n\t\t\ttargetUrl,\n\t\t\ttemp: { useFallback, tempUrl, mime },\n\t\t} = selectNewItemByTypeAndId(state, 'AdSlot', itemId)\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tconst validations = await Promise.all([\n\t\t\t...(useFallback\n\t\t\t\t? [\n\t\t\t\t\t\tvalidateMediaSize({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tpropName: 'temp',\n\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmedia: {\n\t\t\t\t\t\t\t\ttempUrl,\n\t\t\t\t\t\t\t\tmime,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})(dispatch),\n\t\t\t\t  ]\n\t\t\t\t: [\n\t\t\t\t\t\tvalidate(validateId, 'temp', {\n\t\t\t\t\t\t\tisValid: true,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t})(dispatch),\n\t\t\t\t  ]),\n\t\t\t...(useFallback\n\t\t\t\t? [\n\t\t\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tvalue: targetUrl,\n\t\t\t\t\t\t\tprop: 'targetUrl',\n\t\t\t\t\t\t\tschema: adUnitPost.targetUrl,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t})(dispatch),\n\t\t\t\t  ]\n\t\t\t\t: [\n\t\t\t\t\t\tvalidate(validateId, 'targetUrl', {\n\t\t\t\t\t\t\tisValid: true,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t})(dispatch),\n\t\t\t\t  ]),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function saveSlot() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst item = selectNewAdSlot(state)\n\t\t\tconst newItem = { ...item }\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst mainToken = selectMainToken()\n\t\t\tlet fallbackUnit = null\n\t\t\tif (newItem.temp.useFallback) {\n\t\t\t\tfallbackUnit = (await getFallbackUnit({\n\t\t\t\t\tmediaMime: newItem.temp.mime,\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\n\t\t\t\t\ttype: newItem.type,\n\t\t\t\t\tauthSig,\n\t\t\t\t\ttitle: newItem.title,\n\t\t\t\t\tdescription: newItem.description,\n\t\t\t\t})).ipfs\n\t\t\t}\n\n\t\t\tnewItem.fallbackUnit = fallbackUnit\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tif (newItem.minPerImpression) {\n\t\t\t\tnewItem.minPerImpression = {\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\tnumStr: newItem.minPerImpression,\n\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst resItem = await postAdSlot({\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: ADD_ITEM,\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\n\t\t\t\titemType: 'AdSlot',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('SUCCESS_CREATING_ITEM', { args: ['ADSLOT', newItem.title] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_CREATING_ITEM', {\n\t\t\t\t\targs: ['ADSLOT', getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\n\t\t}\n\t}\n}\n\nexport function updateWebsiteVerification({ id, website }) {\n\treturn async function(dispatch, getState) {\n\t\tconst websiteUrl = website || 'https://' + id\n\t\tupdateSpinner('vilifying' + websiteUrl, true)(dispatch)\n\t\ttry {\n\t\t\tconst { issues, updated, hostname } = await verifyWebsite({\n\t\t\t\twebsiteUrl,\n\t\t\t})\n\t\t\tconst item = { id: hostname, issues, updated }\n\n\t\t\tdispatch({\n\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\titem,\n\t\t\t\titemType: 'Website',\n\t\t\t})\n\n\t\t\tif (issues && issues.length) {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'warning',\n\t\t\t\t\tlabel: t('UPDATING_WS_VERIFICATION_WITH_ISSUES', {\n\t\t\t\t\t\targs: [websiteUrl],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t} else {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_WS_VERIFICATION', {\n\t\t\t\t\t\targs: [websiteUrl],\n\t\t\t\t\t}),\n\t\t\t\t\targs: [websiteUrl],\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_WS_VERIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'error',\n\n\t\t\t\tlabel: t('ERR_UPDATING_WS_VERIFICATION', {\n\t\t\t\t\targs: [id, err],\n\t\t\t\t}),\n\t\t\t\targs: [id, err],\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner('vilifying' + websiteUrl, false)(dispatch)\n\t}\n}\n\nexport function mapCurrentToNewPassback({ itemId, dirtyProps }) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst item = selectAdSlotById(state, itemId)\n\t\tconst newItem = selectNewItemByTypeAndId(state, 'AdSlot', itemId)\n\n\t\tconst isDirty = ['mediaUrl', 'mediaMime', 'targetUrl'].some(prop =>\n\t\t\tdirtyProps.includes(prop)\n\t\t)\n\n\t\tconst { mediaUrl, mediaMime, targetUrl } = item\n\t\tconst newValues = {}\n\t\tif (isDirty) {\n\t\t\tnewValues.temp = {\n\t\t\t\t...newItem.temp,\n\t\t\t}\n\t\t\tnewValues.targetUrl = newItem.targetUrl\n\t\t} else {\n\t\t\tconst tempUrl = mediaUrl\n\t\t\t\t? await getImgObjectUrlFromExternalUrl(ipfsSrc(mediaUrl))\n\t\t\t\t: mediaUrl\n\n\t\t\tnewValues.temp = {\n\t\t\t\t...item.temp,\n\t\t\t\ttempUrl,\n\t\t\t\tmime: mediaMime,\n\t\t\t\tuseFallback: !!(mediaUrl || mediaMime || targetUrl),\n\t\t\t}\n\t\t\tnewValues.targetUrl = targetUrl\n\t\t}\n\n\t\tupdateNewItem(item, newValues, 'AdSlot', AdSlot, item.id)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateSlotPasback({\n\tupdateMultipleFields,\n\titemId,\n\tonValid: onValidProp,\n\tvalidateId,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst { temp, targetUrl } = selectNewItemByTypeAndId(\n\t\t\tstate,\n\t\t\t'AdSlot',\n\t\t\titemId\n\t\t)\n\t\tconst { tempUrl, mime, useFallback } = temp\n\n\t\tconst newValues = {\n\t\t\ttargetUrl: useFallback ? targetUrl : '',\n\t\t\tmediaUrl: useFallback ? tempUrl : '',\n\t\t\tmediaMime: useFallback ? mime : '',\n\t\t}\n\n\t\tconst onValid = () => {\n\t\t\tupdateMultipleFields(newValues, [\n\t\t\t\t{\n\t\t\t\t\tname: 'passbackData',\n\t\t\t\t\tfields: ['targetUrl', 'mediaUrl', 'mediaMime'],\n\t\t\t\t},\n\t\t\t])\n\t\t\tonValidProp()\n\t\t}\n\n\t\tawait validateNewSlotPassback({\n\t\t\tvalidateId,\n\t\t\tdirty: true,\n\t\t\tonValid,\n\t\t\titemId,\n\t\t})(dispatch, getState)\n\t}\n}\n\nexport function validateAndUpdateSlot({\n\tvalidateId,\n\tdirty,\n\titem,\n\tupdate,\n\tdirtyProps,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst mainToken = selectMainToken()\n\t\t\tconst {\n\t\t\t\tid,\n\t\t\t\ttype,\n\t\t\t\ttitle,\n\t\t\t\tdescription,\n\t\t\t\tminPerImpression,\n\t\t\t\twebsite,\n\t\t\t\tmediaUrl,\n\t\t\t\tmediaMime,\n\t\t\t\ttargetUrl,\n\t\t\t\trulesInput: slotRulesInput,\n\t\t\t} = item\n\n\t\t\t// Because of old slot and default value null\n\t\t\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\n\n\t\t\tconst { autoSetMinCPM } = rulesInput.inputs\n\n\t\t\tconst newSlot = new AdSlot(item)\n\t\t\tconst updateMinPerImpression =\n\t\t\t\ttypeof minPerImpression === 'string' && !autoSetMinCPM\n\n\t\t\tconst updateRules = dirtyProps.some(\n\t\t\t\tprop => prop && prop.name === 'rulesInput'\n\t\t\t)\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: adSlotPut.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: description,\n\t\t\t\t\tprop: 'description',\n\t\t\t\t\tschema: adSlotPut.description,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: website,\n\t\t\t\t\tprop: 'website',\n\t\t\t\t\tschema: adSlotPut.website,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tupdateMinPerImpression\n\t\t\t\t\t? validateNumberString({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\tvalue: minPerImpression,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t  })(dispatch)\n\t\t\t\t\t: true,\n\t\t\t\tupdateRules\n\t\t\t\t\t? validateNumberString({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tprop: 'rulesInput',\n\t\t\t\t\t\t\tvalue: rulesInput,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t  })(dispatch)\n\t\t\t\t\t: true,\n\t\t\t])\n\n\t\t\tlet isValid = validations.every(v => v === true)\n\n\t\t\tlet minCPM = minPerImpression\n\t\t\tlet newRules = null\n\t\t\tlet suggestedMinCPM = null\n\n\t\t\tif (isValid && updateMinPerImpression && !autoSetMinCPM) {\n\t\t\t\tminCPM = {\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\tnumStr: minPerImpression || null,\n\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (isValid && autoSetMinCPM) {\n\t\t\t\tsuggestedMinCPM = (await verifyWebsite({ websiteUrl: website }))\n\t\t\t\t\t.suggestedMinCPM\n\t\t\t}\n\n\t\t\tif (isValid && (updateMinPerImpression || updateRules)) {\n\t\t\t\tnewRules = slotRulesInputToTargetingRules({\n\t\t\t\t\trulesInput,\n\t\t\t\t\tsuggestedMinCPM: !!autoSetMinCPM ? suggestedMinCPM : minPerImpression,\n\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst isPassbackUpdated = dirtyProps.some(\n\t\t\t\tprop => prop && prop.name === 'passbackData'\n\t\t\t)\n\n\t\t\tconst fallbackData = {\n\t\t\t\tmediaMime,\n\t\t\t\tmediaUrl,\n\t\t\t\ttargetUrl,\n\t\t\t}\n\n\t\t\tlet newUnit = null\n\t\t\tif (isValid && isPassbackUpdated && update) {\n\t\t\t\tif (mediaUrl && mediaMime && targetUrl) {\n\t\t\t\t\tconst authSig = selectAuthSig(state)\n\t\t\t\t\tnewUnit = await getFallbackUnit({\n\t\t\t\t\t\tmediaMime,\n\t\t\t\t\t\ttempUrl: mediaUrl,\n\t\t\t\t\t\ttargetUrl,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tauthSig,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tdescription,\n\t\t\t\t\t})\n\n\t\t\t\t\tnewSlot.fallbackUnit = newUnit.ipfs\n\t\t\t\t\tfallbackData.mediaMime = newUnit.mediaMime\n\t\t\t\t\tfallbackData.mediaUrl = newUnit.mediaUrl\n\t\t\t\t\tfallbackData.targetUrl = newUnit.targetUrl\n\t\t\t\t} else {\n\t\t\t\t\tnewSlot.fallbackUnit = null\n\t\t\t\t\tfallbackData.mediaMime = ''\n\t\t\t\t\tfallbackData.mediaUrl = ''\n\t\t\t\t\tfallbackData.targetUrl = ''\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnewSlot.minPerImpression =\n\t\t\t\tupdateMinPerImpression && !autoSetMinCPM ? minCPM : null\n\n\t\t\tif (updateRules) {\n\t\t\t\tnewSlot.rules = newRules\n\t\t\t}\n\n\t\t\tconst slot = newSlot.marketUpdate\n\n\t\t\tif (isValid) {\n\t\t\t\tconst finalValidations = await Promise.all([\n\t\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\tvalue: newSlot.minPerImpression,\n\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\tschema: adSlotPut.minPerImpression,\n\t\t\t\t\t\tdirty,\n\t\t\t\t\t})(dispatch),\n\t\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\tvalue: newSlot.rules,\n\t\t\t\t\t\tprop: 'rules',\n\t\t\t\t\t\tschema: adSlotPut.rules,\n\t\t\t\t\t\tdirty,\n\t\t\t\t\t})(dispatch),\n\t\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\tvalue: slot,\n\t\t\t\t\t\tprop: 'slot',\n\t\t\t\t\t\tschema: adSlotPut,\n\t\t\t\t\t\tdirty,\n\t\t\t\t\t})(dispatch),\n\t\t\t\t])\n\n\t\t\t\tisValid = finalValidations.every(v => v === true)\n\t\t\t}\n\n\t\t\tif (isValid && update) {\n\t\t\t\tconst updatedSlot = (await updateAdSlot({ slot, id })).slot\n\n\t\t\t\tif (dirtyProps.includes('website')) {\n\t\t\t\t\tawait updateWebsiteVerification({ website })(dispatch)\n\t\t\t\t}\n\n\t\t\t\tif (newUnit) {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: ADD_ITEM,\n\t\t\t\t\t\titem: new AdUnit(newUnit).plainObj(),\n\t\t\t\t\t\titemType: 'AdUnit',\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\t\titem: new AdSlot({ ...updatedSlot, ...fallbackData }).plainObj(),\n\t\t\t\t\titemType: 'AdSlot',\n\t\t\t\t})\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['ADSLOT', updatedSlot.title],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t} else if (!isValid && update) {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['ADSLOT', getErrorMsg('INVALID_DATA')],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'error',\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\targs: ['ADSLOT', getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import {\n\tupdateSpinner,\n\thandleAfterValidation,\n\tvalidateSchemaProp,\n\tvalidateMediaSize,\n\tvalidate,\n\taddToast,\n\tgetImgsIpfsFromBlob,\n} from 'actions'\nimport { selectNewAdUnit, selectAuthSig, t } from 'selectors'\nimport { schemas, AdUnit } from 'adex-models'\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\n\nimport { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\nimport Helper from 'helpers/miscHelpers'\n\nimport { postAdUnit, updateAdUnit } from 'services/adex-market/actions'\n\nconst { adUnitPost, adUnitPut } = schemas\n\nexport function validateNewUnitBasics({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst { title, description, type, targetUrl } = selectNewAdUnit(state)\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: adUnitPost.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: description,\n\t\t\t\t\tprop: 'description',\n\t\t\t\t\tschema: adUnitPost.description,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: type,\n\t\t\t\t\tprop: 'type',\n\t\t\t\t\tschema: adUnitPost.type,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: targetUrl,\n\t\t\t\t\tprop: 'targetUrl',\n\t\t\t\t\tschema: adUnitPost.targetUrl,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tlet isValid = validations.every(v => v === true)\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateNewUnitMedia({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst state = getState()\n\t\tconst {\n\t\t\ttype,\n\t\t\ttemp: { tempUrl, mime },\n\t\t} = selectNewAdUnit(state)\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateMediaSize({\n\t\t\t\tvalidateId,\n\t\t\t\tdirty,\n\t\t\t\tpropName: 'temp',\n\t\t\t\twidthTarget: width,\n\t\t\t\theightTarget: height,\n\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\texact: true,\n\t\t\t\trequired: true,\n\t\t\t\tmedia: {\n\t\t\t\t\ttempUrl,\n\t\t\t\t\tmime,\n\t\t\t\t},\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function saveUnit() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst item = selectNewAdUnit(state)\n\t\t\tconst newItem = { ...item }\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\tauthSig,\n\t\t\t})).ipfs\n\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\n\t\t\tnewItem.mediaMime = newItem.temp.mime\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tconst resItem = await postAdUnit({\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: ADD_ITEM,\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\n\t\t\t\titemType: 'AdUnit',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_CREATING_ITEM', {\n\t\t\t\t\targs: ['AdUnit', Helper.getErrMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\n\t\t}\n\t}\n}\n\nexport function validateAndUpdateUnit({ validateId, dirty, item, update }) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst { id, title, description } = item\n\n\t\t\tconst unit = new AdUnit(item).marketUpdate\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: adUnitPut.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: description,\n\t\t\t\t\tprop: 'description',\n\t\t\t\t\tschema: adUnitPut.description,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: unit,\n\t\t\t\t\tprop: 'unit',\n\t\t\t\t\tschema: adUnitPut,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (isValid && update) {\n\t\t\t\tconst updatedUnit = (await updateAdUnit({ unit, id })).unit\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\t\titem: new AdUnit(updatedUnit).plainObj(),\n\t\t\t\t\titemType: 'AdUnit',\n\t\t\t\t})\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['ADUNIT', updatedUnit.title],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\targs: ['ADUNIT', Helper.getErrMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import * as common from './common'\nimport * as uiActions from './uiActions'\nimport * as validationActions from './validationActions'\nimport * as mediaValidations from './mediaValidations'\nimport * as itemActions from './itemActions'\nimport * as accountActions from './accountActions'\nimport * as identityActions from './identityActions'\nimport * as bidActions from './bidActions'\nimport * as transactionActions from './transactionActions'\nimport * as analyticsActions from './analyticsActions'\nimport * as newItemsActions from './newItemsActions'\nimport * as audienceActions from './audienceActions'\nimport * as campaignActions from './campaignActions'\nimport * as slotActions from './slotActions'\nimport * as unitActions from './unitActions'\n\n// keep it for class components that use connect and actions prop\n// without needing to change the code\nexport default {\n\t...common,\n\t...uiActions,\n\t...validationActions,\n\t...mediaValidations,\n\t...itemActions,\n\t...accountActions,\n\t...identityActions,\n\t...bidActions,\n\t...transactionActions,\n\t...analyticsActions,\n\t...newItemsActions,\n\t...audienceActions,\n\t...campaignActions,\n\t...slotActions,\n\t...unitActions,\n}\n\n// used for minimal deps in hook components\n// import { execute, addTost } from 'actions'\n// execute(addTost())\nexport * from './common'\nexport * from './validationActions'\nexport * from './mediaValidations'\nexport * from './uiActions'\nexport * from './itemActions'\nexport * from './accountActions'\nexport * from './identityActions'\nexport * from './bidActions'\nexport * from './transactionActions'\nexport * from './analyticsActions'\nexport * from './newItemsActions'\nexport * from './audienceActions'\nexport * from './campaignActions'\nexport * from './slotActions'\nexport * from './unitActions'\n","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","import { ethers, Contract } from 'ethers'\nimport { contracts } from './contractsCfg'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { selectRelayerConfig } from 'selectors'\n\nethers.errors.setLogLevel('error')\n\nconst { AdExCore, Identity, IdentityFactory } = contracts\n\nconst getAdexCore = provider => {\n\tconst { coreAddr } = selectRelayerConfig()\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\n}\n\nconst getMainToken = provider => {\n\tconst { mainToken = {} } = selectRelayerConfig()\n\treturn new Contract(\n\t\tmainToken.address,\n\t\tcontracts[mainToken.standard].abi,\n\t\tprovider\n\t)\n}\n\nconst getToken = ({ provider, standard, address }) => {\n\treturn new Contract(address, contracts[standard].abi, provider)\n}\n\nconst getIdentity = ({ provider, address }) => {\n\tconst identityContract = new Contract(address, Identity.abi, provider)\n\n\treturn identityContract\n}\n\nconst getIdentityFactory = provider => {\n\tconst { identityFactoryAddr } = selectRelayerConfig()\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\n}\n\nconst getEthersResult = provider => {\n\tconst adexCore = getAdexCore(provider)\n\tconst mainToken = getMainToken(provider)\n\tconst identityFactory = getIdentityFactory(provider)\n\n\tconst results = {\n\t\tprovider,\n\t\tAdExCore: adexCore,\n\t\tIdentity: Identity,\n\t\tDai: mainToken,\n\t\tMainToken: mainToken,\n\t\tIdentityFactory: identityFactory,\n\t\tgetToken: ({ standard, address }) =>\n\t\t\tgetToken({ provider, standard, address }),\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\n\t}\n\n\treturn results\n}\n\nconst localWeb3 = () => {\n\tconst provider = new ethers.providers.JsonRpcProvider(\n\t\tprocess.env.WEB3_NODE_ADDR\n\t)\n\treturn getEthersResult(provider)\n}\n\nconst loadInjectedWeb3 = new Promise((resolve, reject) => {\n\twindow.addEventListener('load', () => {\n\t\tconst ethereum = window.ethereum\n\t\tconst web3 = window.web3\n\t\treturn resolve({\n\t\t\tethereum,\n\t\t\tweb3,\n\t\t})\n\t})\n})\n\nconst injectedWeb3 = async () => {\n\tconst { web3, ethereum } = await loadInjectedWeb3\n\tlet provider = null\n\n\tif (ethereum) {\n\t\ttry {\n\t\t\tawait ethereum.enable()\n\n\t\t\tprovider = new ethers.providers.Web3Provider(ethereum)\n\n\t\t\treturn getEthersResult(provider)\n\t\t} catch (err) {\n\t\t\tconsole.error('Err getting injected ethereum.', err)\n\t\t\tthrow new Error(err.message)\n\t\t}\n\t}\n\t// Legacy dapp browsers...\n\t// TODO: we just have to throw or show notification\n\t// At the moment if it throws it will show error toast but not always.\n\telse if (web3) {\n\t\tconsole.error('Legacy web3 browser detected. It is not supported!')\n\t\tconsole.error('Fallback to local web3 provider')\n\t\treturn await localWeb3()\n\t} else {\n\t\tconsole.error('Non-Ethereum browser detected.')\n\t\tconsole.error('Fallback to local web3 provider')\n\t\treturn await localWeb3()\n\t}\n}\n\nconst getLocalWeb3 = async () => {\n\t// console.log('getLocalWeb3')\n\treturn localWeb3()\n}\n\nconst getEthers = mode => {\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\n\t *   and this results in Trezor popup block by the browser\n\t */\n\tif (mode === AUTH_TYPES.METAMASK.name) {\n\t\treturn injectedWeb3()\n\t} else {\n\t\treturn getLocalWeb3()\n\t}\n}\n\nconst ethereumNetworkId = async () => {\n\tconst { ethereum } = await loadInjectedWeb3\n\tif (ethereum) {\n\t\tconst id = parseInt(ethereum.networkVersion, 10)\n\t\treturn id\n\t} else {\n\t\treturn null\n\t}\n}\n\nconst getEthereumProvider = async () => {\n\tconst { ethereum } = await loadInjectedWeb3\n\tif (!ethereum) {\n\t\treturn null\n\t}\n\n\tif (ethereum.isMetaMask) {\n\t\treturn AUTH_TYPES.METAMASK.name\n\t}\n\n\treturn null\n}\n\nconst getMetamaskEthereum = async () => {\n\tconst { ethereum } = await loadInjectedWeb3\n\n\tif (ethereum && ethereum.isMetaMask) {\n\t\treturn ethereum\n\t}\n\n\treturn null\n}\n\nexport {\n\tgetEthers,\n\tethereumNetworkId,\n\tgetEthereumProvider,\n\tgetMetamaskEthereum,\n}\n","module.exports = __webpack_public_path__ + \"static/media/GS-email-ic.7f647acc.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-create-ic.8de20f7a.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-launch-ic.b4a8f505.png\";","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nconst updateCfg = (current, type, cfg) => {\n\tconst newCfg = { ...current }\n\tnewCfg[type] = { ...cfg }\n\treturn newCfg\n}\n\nexport default function uiReducer(state = initialState.config, action) {\n\tswitch (action.type) {\n\t\tcase UPDATE_RELAYER_CFG:\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import account from './accountReducer'\nimport signin from './signinReducer'\nimport identity from './identityReducer'\nimport wallet from './walletReducer'\nimport items from './itemsReducer'\nimport newItem from './newItemsReducer'\n// import currentItem from './currentItemsReducer'\nimport spinners from './spinnersReducer'\nimport ui from './uiReducer'\nimport uiMemory from './uiMemoryReducer'\nimport toasts from './toastsReducer'\nimport confirm from './confirmReducer'\nimport nav from './navReducer'\nimport language from './languageReducer'\nimport validations from './validateItemsReducer'\nimport newTransactions from './newTransactionsReducer'\nimport web3Transactions from './web3TransactionsReducer'\nimport targeting from './targetingReducer'\nimport config from './configReducer'\nimport analytics from './analyticsReducer'\nimport channels from './channelsReducer'\nimport selectedItems from './selectedItemsReducer'\nimport ensAddresses from './ensReducer'\nimport { filterActions } from 'redux-ignore'\nimport * as types from 'constants/actionTypes'\n\nexport const persistReducers = {\n\taccount,\n\tui, //: filterActions(ui, [types.UPDATE_UI]),\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\n\tlanguage,\n\tweb3Transactions,\n\ttargeting,\n\tconfig,\n\tensAddresses,\n}\n\nexport const memoryReducers = {\n\tuiMemory,\n\tchannels,\n\tanalytics,\n\tsignin,\n\tidentity,\n\twallet,\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\n\ttoasts,\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\n\tvalidations,\n\tselectedItems,\n\tnewTransactions,\n}\n","import {\n\tCREATE_ACCOUNT,\n\tRESET_ACCOUNT,\n\tUPDATE_ACCOUNT,\n} from '../constants/actionTypes'\nimport initialState from 'store/initialState'\nimport { Base, Account } from 'adex-models'\n\nexport default function accountReducer(state = initialState.account, action) {\n\tlet newState\n\tlet newAccount\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase CREATE_ACCOUNT:\n\t\t\tnewAccount = { ...action.account }\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase RESET_ACCOUNT:\n\t\t\tnewAccount = initialState.account\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase UPDATE_ACCOUNT:\n\t\t\tnewAccount = Base.updateObject({\n\t\t\t\titem: newState,\n\t\t\t\tnewValues: { ...action.newValues },\n\t\t\t\tobjModel: Account,\n\t\t\t})\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_GLOBAL_UI,\n\tUPDATE_UI_BY_IDENTITY,\n\tUPDATE_UI_BY_IDENTITY_AND_SIDE,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function uiReducer(state = initialState.ui, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_UI_BY_IDENTITY:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.byIdentity = { ...newState.byIdentity }\n\t\t\tnewState.byIdentity[action.identity] = {\n\t\t\t\t...newState.byIdentity[action.identity],\n\t\t\t}\n\t\t\tif (action.category) {\n\t\t\t\tnewState.byIdentity[action.identity][action.category] = {\n\t\t\t\t\t...newState.byIdentity[action.identity][action.category],\n\t\t\t\t}\n\t\t\t\tnewState.byIdentity[action.identity][action.category][action.item] =\n\t\t\t\t\taction.value\n\t\t\t} else {\n\t\t\t\tnewState.byIdentity[action.identity][action.item] = action.value\n\t\t\t}\n\t\t\treturn newState\n\n\t\tcase UPDATE_UI_BY_IDENTITY_AND_SIDE:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.byIdentity = { ...(newState.byIdentity || {}) }\n\t\t\tnewState.byIdentity[action.identity] = {\n\t\t\t\t...(newState.byIdentity[action.identity] || {}),\n\t\t\t}\n\t\t\tnewState.byIdentity[action.identity][action.side] = {\n\t\t\t\t...(newState.byIdentity[action.identity][action.side] || {}),\n\t\t\t}\n\t\t\tnewState.byIdentity[action.identity][action.side][action.item] =\n\t\t\t\taction.value\n\n\t\t\treturn newState\n\t\tcase UPDATE_GLOBAL_UI:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.global = { ...newState.global }\n\t\t\tif (action.category) {\n\t\t\t\tnewState.global[action.category] = { ...newState[action.category] }\n\t\t\t\tnewState.global[action.category][action.item] = action.value\n\t\t\t} else {\n\t\t\t\tnewState.global[action.item] = action.value\n\t\t\t}\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_ITEM,\n\tDELETE_ITEM,\n\tUPDATE_ITEM,\n\tREMOVE_ITEM_FROM_ITEM,\n\tADD_ITEM_TO_ITEM,\n\tUPDATE_ALL_ITEMS,\n\tRESET_ALL_ITEMS,\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\nimport initialState from 'store/initialState'\nimport { Item } from 'adex-models'\n\nexport default function itemsReducer(state = initialState.items, action) {\n\tlet newState\n\tlet newCollection\n\tlet newItem\n\tlet collectionId\n\tlet item\n\n\tconst collection = (state = {}, action) => {\n\t\tif (!action.item) return state\n\t\treturn {\n\t\t\t...state,\n\t\t\t[action.item.id]: { ...action.item },\n\t\t}\n\t}\n\n\tconst removeCollectionProp = (collection = {}, prop) => {\n\t\tlet newCol = { ...collection }\n\t\tdelete newCol[prop]\n\t\treturn newCol\n\t}\n\n\tif (action.item && action.itemType) {\n\t\tnewState = { ...state }\n\t\titem = { ...action.item }\n\t\tcollectionId = action.itemType\n\t}\n\n\tswitch (action.type) {\n\t\tcase ADD_ITEM:\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\n\t\t\t// id is going to be set when it comes here\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase ADD_ITEM_TO_ITEM:\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase DELETE_ITEM:\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase REMOVE_ITEM_FROM_ITEM:\n\t\t\tnewItem = Item.removeItem(\n\t\t\t\tnewState[collectionId][item._id],\n\t\t\t\taction.toRemove\n\t\t\t)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ITEM:\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ALL_ITEMS:\n\t\t\tnewState = { ...state }\n\t\t\tconst newItems = action.items.reduce((items, item) => {\n\t\t\t\tconst currentItems = { ...items }\n\t\t\t\tconst newItem = { ...item }\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\n\t\t\t\treturn currentItems\n\t\t\t}, {})\n\n\t\t\tnewState[action.itemType] = { ...newState[action.itemType], ...newItems }\n\t\t\treturn newState\n\t\tcase RESET_ALL_ITEMS:\n\t\t\tnewState = { ...initialState.items }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import initialState from 'store/initialState'\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\nimport { setLang } from 'services/translations/translations'\n\nexport default function languageReducer(state = initialState.language, action) {\n\tswitch (action.type) {\n\t\tcase CHANGE_LANGUAGE:\n\t\t\tlet newLang = action.lang || state\n\t\t\tsetLang(newLang)\n\t\t\treturn newLang\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_WEB3_TRANSACTION,\n\tUPDATE_WEB3_TRANSACTION,\n\tRESET_WEB3_TRANSACTION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function web3TransactionsReducer(\n\tstate = initialState.web3Transactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\tlet newAddrTxs\n\tlet pendingTxs\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateObj = ({ obj, key, val }) => {\n\t\tobj = obj || {}\n\t\tobj[key] = val\n\n\t\treturn obj\n\t}\n\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\n\t\t\tpTxs.push(newTx.hash)\n\t\t} else {\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\n\t\t}\n\n\t\treturn pTxs\n\t}\n\n\tif (!action.addr) {\n\t\treturn state\n\t}\n\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\n\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\n\t// If we keep the transactions on the node we can clean them from local storage on address change\n\tswitch (action.type) {\n\t\tcase ADD_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...action.value }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase UPDATE_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase RESET_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: { txHash: action.tx },\n\t\t\t})\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_TARGETING_ANALYTICS } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function targetingReducer(\n\tstate = initialState.targeting,\n\taction\n) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_TARGETING_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState = action.value\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_RESOLVE_ENS_ADDRESS } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function ensReducer(state = initialState.ensAddresses, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_RESOLVE_ENS_ADDRESS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_MEMORY_UI } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function uiMemoryReducer(state = initialState.uiMemory, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_MEMORY_UI:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_CHANNELS_WITH_BALANCE_ALL,\n\tRESET_CHANNELS_WITH_BALANCE_ALL,\n\tUPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\n\tRESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function channelsReducer(state = initialState.channels, action) {\n\tlet newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_CHANNELS_WITH_BALANCE_ALL:\n\t\t\tnewState.withBalanceAll = { ...action.channels }\n\t\t\treturn newState\n\t\tcase RESET_CHANNELS_WITH_BALANCE_ALL:\n\t\t\tnewState.withBalanceAll = initialState.channels.withBalanceAll\n\t\t\treturn newState\n\t\tcase UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE:\n\t\t\tnewState.withOutstandingBalance = [...action.channels]\n\t\t\treturn newState\n\t\tcase RESET_CHANNELS_WITH_OUTSTANDING_BALANCE:\n\t\t\tnewState.withOutstandingBalance =\n\t\t\t\tinitialState.channels.withOutstandingBalance\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ANALYTICS,\n\tRESET_ANALYTICS,\n\tUPDATE_ANALYTICS_TIMEFRAME,\n\tUPDATE_ANALYTICS_PERIOD,\n\tUPDATE_ANALYTICS_LAST_CHECKED,\n\tUPDATE_PUBLISHER_RECEIPTS,\n\tUPDATE_ADVANCED_ANALYTICS,\n\tUPDATE_DEMAND_ANALYTICS,\n\tUPDATE_TARGETING_ANALYTICS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function analyticsReducer(\n\tstate = initialState.analytics,\n\taction\n) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.timeframe = action.value\n\t\t\treturn newState\n\t\tcase UPDATE_ANALYTICS_LAST_CHECKED:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.lastChecked = action.value\n\t\t\treturn newState\n\t\tcase UPDATE_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.side] = { ...newState[action.side] }\n\t\t\tnewState[action.side][action.eventType] = {\n\t\t\t\t...newState[action.side][action.eventType],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric][\n\t\t\t\taction.timeframe\n\t\t\t] = {\n\t\t\t\t...newState[action.side][action.eventType][action.metric][\n\t\t\t\t\taction.timeframe\n\t\t\t\t],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric][action.timeframe][\n\t\t\t\taction.timestamp\n\t\t\t] = { ...action.value }\n\t\t\treturn newState\n\t\tcase UPDATE_ADVANCED_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.advanced = { ...newState.advanced }\n\t\t\tnewState.advanced[action.eventType] = {\n\t\t\t\t...action.value,\n\t\t\t}\n\t\t\treturn newState\n\t\tcase UPDATE_DEMAND_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.demand = action.value\n\t\t\treturn newState\n\t\tcase UPDATE_PUBLISHER_RECEIPTS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.receipts = { ...newState.receipts, ...action.value }\n\t\t\treturn newState\n\t\tcase RESET_ANALYTICS:\n\t\t\tnewState = { ...initialState.analytics }\n\t\t\treturn newState\n\t\tcase UPDATE_ANALYTICS_PERIOD:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.period = action.value\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function signinReducer(state = initialState.signin, action) {\n\tlet newState\n\tlet newSignin\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SIGNIN:\n\t\t\tnewSignin = { ...newState }\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\n\t\t\t\tnewSignin[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewSignin[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newSignin\n\n\t\t\treturn newState\n\n\t\tcase RESET_SIGNIN:\n\t\t\tnewSignin = { ...initialState.signin }\n\t\t\tnewState = newSignin\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function identityReducer(state = initialState.identity, action) {\n\tlet newState\n\tlet newIdentity\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_IDENTITY:\n\t\t\tnewIdentity = newState\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewIdentity[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newIdentity\n\n\t\t\treturn newState\n\n\t\tcase RESET_IDENTITY:\n\t\t\tnewIdentity = { ...initialState.identity }\n\t\t\tnewState = newIdentity\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function walletReducer(state = initialState.wallet, action) {\n\tlet newState\n\tlet newWallet\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_WALLET:\n\t\t\tnewWallet = newState\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\n\t\t\t\tnewWallet[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewWallet[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newWallet\n\n\t\t\treturn newState\n\n\t\tcase RESET_WALLET:\n\t\t\tnewWallet = { ...initialState.wallet }\n\t\t\tnewState = newWallet\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_NEW_ITEM,\n\tRESET_NEW_ITEM,\n\tRESET_ALL_NEW_ITEMS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newItemsReducer(state = initialState.newItem, action) {\n\tlet newState\n\tlet newItem\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...action.item }\n\t\t\tif (action.itemId) {\n\t\t\t\tnewState[action.itemId] = newItem\n\t\t\t} else {\n\t\t\t\tnewState[action.itemType] = newItem\n\t\t\t}\n\n\t\t\treturn newState\n\n\t\tcase RESET_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...initialState.newItem[action.itemType] }\n\t\t\tif (action.itemId) {\n\t\t\t\tnewState[action.itemId] = newItem\n\t\t\t} else {\n\t\t\t\tnewState[action.itemType] = newItem\n\t\t\t}\n\n\t\t\treturn newState\n\n\t\tcase RESET_ALL_NEW_ITEMS:\n\t\t\tnewState = { ...initialState.newItem }\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function spinnersReducer(state = initialState.spinners, action) {\n\tconst newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SPINNER:\n\t\t\tnewState[action.spinner] = action.value\n\n\t\t\treturn newState\n\t\tcase UPDATE_ITEM:\n\t\t\tnewState['update' + action.item._id] = false\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function toastsReducer(state = initialState.toasts, action) {\n\tlet newState\n\tlet newToast\n\n\tswitch (action.type) {\n\t\tcase ADD_TOAST:\n\t\t\tnewToast = { ...action.toast }\n\t\t\tnewToast.added = Date.now()\n\t\t\tnewState = [newToast, ...state]\n\t\t\treturn newState\n\n\t\tcase REMOVE_TOAST:\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n// import Helper from './../helpers/miscHelpers'\n\nexport default function confirmReducer(state = initialState.confirm, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase CONFIRM_ACTION:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.data = { ...action.confirm.data }\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\n\t\t\tnewState.onCancel = action.confirm.onCancel\n\t\t\tnewState.active =\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\n\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\n\t\t\tnewState.calledOn = Date.now()\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_NAV } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function navReducer(state = initialState.nav, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NAV:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ITEM_VALIDATION,\n\tRESET_ITEM_VALIDATION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function validateItemsReducer(\n\tstate = initialState.validations,\n\taction\n) {\n\tlet newState\n\tlet newErrors\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tcase RESET_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item] }\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\n\t\t\t\tdelete newErrors[action.key]\n\t\t\t} else if (newErrors && !action.key) {\n\t\t\t\tnewErrors = {}\n\t\t\t}\n\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\r\n\tUPDATE_SELECTED_ITEMS,\r\n\tRESET_SELECTED_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function selectedItemsReducer(\r\n\tstate = initialState.selectedItems,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.collection] = action.selectedItems\r\n\t\t\treturn newState\r\n\t\tcase RESET_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...initialState.selectedItems }\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\n\tUPDATE_NEW_TRANSACTION,\n\tRESET_NEW_TRANSACTION,\n\tRESET_ALL_NEW_TRANSACTIONS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newTransactionsReducer(\n\tstate = initialState.newTransactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateTx = ({ tx, key, val }) => {\n\t\ttx = tx || {}\n\t\ttx[key] = val\n\n\t\treturn tx\n\t}\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_TRANSACTION:\n\t\t\tnewTx = {\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\n\t\t\t}\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\n\n\t\t\t// console.log('newTx', newTx)\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tcase RESET_NEW_TRANSACTION:\n\t\t\tnewTx = { ...initialState.newTransactions.default }\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tcase RESET_ALL_NEW_TRANSACTIONS:\n\t\t\tnewState = initialState.newTransactions\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\nimport thunk from 'redux-thunk'\nimport { persistReducers, memoryReducers } from 'reducers'\nimport history from './history'\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\nimport { persistStore, persistCombineReducers } from 'redux-persist'\nimport localStorage from 'redux-persist/lib/storage'\n// import session from 'redux-persist/lib/storage/session'\n\nconst reduxRouterMiddleware = routerMiddleware(history)\n\nconst persistConfig = {\n\tkey: 'persist',\n\tstorage: localStorage,\n}\n\n// const configSession = {\n//   key: 'session',\n//   storage: session,\n// }\n\n// const rootReducer = combineReducers(reducers)\n\n// TODO: make session reducer(signin) - RAM reducer (no persist)\nconst rootReducer = combineReducers({\n\tpersist: persistCombineReducers(persistConfig, persistReducers),\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\n\trouter: connectRouter(history),\n})\n\nconst logger = store => next => action => {\n\t// if (action.type === 'UPDATE_NEWITEM') {\n\t//   return next(action)\n\t// }\n\n\tconsole.groupCollapsed(action.type)\n\tconsole.info('dispatching', action)\n\tlet result = next(action)\n\tconsole.log('next state', store.getState())\n\tconsole.groupEnd(action.type)\n\treturn result\n}\n\nfunction configureStoreProd(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t]\n\n\tif (process.env.BUILD_TYPE === 'staging') {\n\t\tmiddlewares.push(logger)\n\t}\n\n\tlet store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcompose(applyMiddleware(...middlewares))\n\t)\n\n\tlet persistor = persistStore(store)\n\n\treturn { persistor, store }\n}\n\nfunction configureStoreDev(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\n\t\treduxImmutableStateInvariant(),\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t\tlogger,\n\t]\n\n\tconst composeEnhancers =\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\n\tconst store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\n\t)\n\n\tif (module.hot) {\n\t\t// Enable Webpack hot module replacement for reducers\n\t\tmodule.hot.accept('../reducers', () => {\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\n\t\t\tstore.replaceReducer(nextReducer)\n\t\t})\n\t}\n\n\tlet persistor = persistStore(store)\n\treturn { persistor, store }\n}\n\nconst configureStore =\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\n\nexport default configureStore()\n","import configureStore from './configureStore'\n\nexport default configureStore\n\nexport const store = configureStore.store\nexport const persistor = configureStore.persistor\nexport const dispatch = store.dispatch\nexport const getState = store.getState\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\nimport { lime, grey } from '@material-ui/core/colors'\n\nconst WHITE = '#fff'\nexport const PRIMARY = '#1B75BC'\nexport const PRIMARY_LIGHT = '#5fa3ef'\nexport const PRIMARY_LIGHTEST = '#96d4ff'\nexport const PRIMARY_DARK = '#004a8b'\nexport const PRIMARY_DARKEST = '#00235d'\n\nexport const SECONDARY = '#1BC69F'\nexport const SECONDARY_LIGHT = '#65fad0'\nexport const SECONDARY_DARK = '#009471'\n\nexport const ALEX_GREY = '#3C3C3C'\nexport const ALEX_GREY_LIGHT = '#666'\nexport const ALEX_GREY_DARK = '#161616'\n\nexport const GANDALF_GREY = '#C4C4C4'\n\nexport const ACCENT_ONE = '#FF6942'\nexport const ACCENT_ONE_LIGHT = '#FF9B6F'\nexport const ACCENT_ONE_DARK = '#c53616'\n\nexport const ACCENT_TWO = '#FFAC00'\nexport const ACCENT_TWO_LIGHT = '#ffde4b'\nexport const ACCENT_TWO_DARK = '#c67d00'\n\nexport const ERROR_COLOR = '#FF4269'\nexport const ERROR_LIGHT = '#ff7a97'\nexport const ERROR_DARK = '#c6003f'\n\nconst primary = {\n\tmain: PRIMARY,\n\tdark: PRIMARY_DARK,\n\tlight: PRIMARY_LIGHT,\n\tlightest: PRIMARY_LIGHTEST,\n\tcontrastText: WHITE,\n}\n\nconst secondary = {\n\tmain: SECONDARY,\n\tdark: SECONDARY_DARK,\n\tlight: SECONDARY_LIGHT,\n\tcontrastText: WHITE,\n}\n\nexport const palette = {\n\tprimary,\n\tsecondary,\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\n\tgrey: {\n\t\tmain: ALEX_GREY,\n\t\tcontrastText: WHITE,\n\t\tlight: ACCENT_ONE_LIGHT,\n\t\tdark: ALEX_GREY_DARK,\n\t},\n\tappBar: { main: grey[200], contrastText: grey[900] },\n\terror: {\n\t\tmain: ERROR_COLOR,\n\t\tlight: ACCENT_TWO_LIGHT,\n\t\tdark: ACCENT_TWO_DARK,\n\t\tcontrastText: WHITE,\n\t},\n\twarning: {\n\t\tmain: ACCENT_TWO,\n\t\tlight: ERROR_LIGHT,\n\t\tdark: ERROR_DARK,\n\t\tcontrastText: WHITE,\n\t},\n\tinfo: primary,\n\tsuccess: secondary,\n\tfirst: lime,\n\tcontrastThreshold: 3,\n\ttonalOffset: 0.2,\n\ttext: grey,\n\taction: {\n\t\tdisabledBackground: grey[200],\n\t\tdisabled: grey[500],\n\t},\n}\n\nconst defaultTheme = createMuiTheme()\n\nexport const theme = createMuiTheme({\n\ttypography: {\n\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n\t\tfontSize: 13.42,\n\t},\n\tpalette: { ...palette },\n\toverrides: {\n\t\tMuiButton: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tborderColor: ALEX_GREY,\n\t\t\t},\n\t\t\tcontained: {\n\t\t\t\tbackgroundColor: ALEX_GREY,\n\t\t\t\tcolor: WHITE,\n\t\t\t\tboxShadow: 0,\n\t\t\t\t'&:hover': {\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\n\t\t\t\t\tboxShadow: 0,\n\t\t\t\t\t'@media (hover: none)': {\n\t\t\t\t\t\tboxShadow: 0,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t'&$focusVisible': {\n\t\t\t\t\tboxShadow: 0,\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\n\t\t\t\t},\n\t\t\t\t'&:active': {\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\n\n\t\t\t\t\tboxShadow: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tMuiTableCell: {\n\t\t\thead: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t\troot: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t},\n\t\tMuiPaper: {\n\t\t\trounded: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTooltip: {\n\t\t\ttooltip: { borderRadius: 0 },\n\t\t},\n\t\tMuiSelect: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiInputLabel: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiOutlinedInput: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiAlert: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\toutlinedSuccess: {\n\t\t\t\tbackgroundColor: WHITE,\n\t\t\t},\n\t\t\toutlinedInfo: {\n\t\t\t\tbackgroundColor: WHITE,\n\t\t\t},\n\t\t\toutlinedWarning: {\n\t\t\t\tbackgroundColor: WHITE,\n\t\t\t},\n\t\t\toutlinedError: {\n\t\t\t\tbackgroundColor: WHITE,\n\t\t\t},\n\t\t},\n\t\t// MuiStepIcon: {\n\t\t//     root: {\n\t\t//         color: 'yellow',\n\t\t//         '&$active': {\n\t\t//             color: 'orange'\n\t\t//         }\n\t\t//     },\n\t\t//     active: {\n\t\t//         color: 'yellow'\n\t\t//     }\n\t\t// },\n\t\tMuiTableFooter: {\n\t\t\troot: {\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tflex: 0,\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMuiAppBar: {\n\t\t\tcolorDefault: {\n\t\t\t\tbackgroundColor: palette.appBar.main,\n\t\t\t\tcolor: palette.appBar.contrastText,\n\t\t\t},\n\t\t},\n\t\tMUIDataTablePagination: {\n\t\t\ttoolbar: {\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMUIDataTableFilter: {\n\t\t\troot: {\n\t\t\t\tmaxWidth: '400px',\n\t\t\t},\n\t\t},\n\t\t// Think of accessing an element not a class\n\t\tMuiGridListTile: {\n\t\t\troot: {\n\t\t\t\twidth: '100% !important',\n\t\t\t},\n\t\t},\n\t\tMUIDataTableBodyCell: {\n\t\t\tstackedCommon: {\n\t\t\t\t[defaultTheme.breakpoints.down('sm')]: {\n\t\t\t\t\tdisplay: 'inline-flex',\n\t\t\t\t\theight: 'auto',\n\t\t\t\t\tborderBottom: 'none',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tMUIDataTable: {\n\t\t\troot: {\n\t\t\t\tborder: '1px solid black',\n\t\t\t},\n\t\t},\n\t\tMUIDataTableBody: {\n\t\t\temptyTitle: {\n\t\t\t\tpadding: defaultTheme.spacing(2),\n\t\t\t\twidth: '100%',\n\t\t\t},\n\t\t},\n\t},\n})\n\nexport const themeMUI = responsiveFontSizes(theme, {\n\toptions: ['xs', 'sm', 'md', 'lg', 'xl'],\n\tfactor: 3,\n})\n","import adexTranslations from 'adex-translations'\nimport { removeTags } from 'helpers/sanitizer'\nimport { isValidElement, cloneElement } from 'react'\n\nconst translations = adexTranslations()\n\nlet lang = 'en-US'\n\nconst interpolate = (tpl, args) => {\n\tif (typeof tpl !== 'string') {\n\t\treturn ''\n\t}\n\n\tconst pattern = new RegExp(/\\${(\\w+)}/, 'gi')\n\tconst parts = tpl.split(pattern)\n\n\tconst interpolated = parts.map((p, i) => {\n\t\tconst element = args[p] || p\n\t\tif (isValidElement(element) && !element.key) {\n\t\t\tconst withKey = cloneElement(element, { key: i })\n\n\t\t\treturn withKey\n\t\t}\n\n\t\treturn element\n\t})\n\n\tif (interpolated.every(i => typeof i === 'string' || typeof i === 'number')) {\n\t\treturn interpolated.join('')\n\t}\n\n\treturn interpolated\n}\n\nexport const translate = (\n\tval = '',\n\t{ isProp = false, args = [''], toUpperCase = false } = {},\n\tlanguage = lang\n) => {\n\tlet key = val + ''\n\tif (isProp) {\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\n\t}\n\tif (toUpperCase) {\n\t\tkey = key.toUpperCase()\n\t}\n\n\tkey = key.toUpperCase()\n\n\tlet translation = removeTags(translations[language][key] || val)\n\n\tif (args.length && Array.isArray(args)) {\n\t\tconst translatedArgs = args.map(a => {\n\t\t\tif (typeof a === 'string') {\n\t\t\t\treturn translations[language][a] || a\n\t\t\t} else {\n\t\t\t\treturn a\n\t\t\t}\n\t\t})\n\n\t\ttranslation = interpolate(translation, translatedArgs)\n\t}\n\n\treturn translation\n}\n\n// TODO: fix that\nexport const setLang = lng => {\n\tlang = lng\n}\n","export const removeTags = dirty => {\n\tif (!dirty || typeof dirty !== 'string') return ''\n\n\treturn (\n\t\tdirty\n\t\t\t// Replace <strong>, <em>, <br>, <u>, <b> and <i> with {strong}, etc...\n\t\t\t.replace(/<(\\/?strong|em|br|[ubi])>/gi, '{{$1}}')\n\t\t\t// Strip any remaining HTML tags\n\t\t\t.replace(/<(?:.|\\n)*?>/gm, '')\n\t\t\t// Replace {strong} ... with <strong> ...\n\t\t\t.replace(/{{(\\/?strong|em|br|[ubi])}}/gi, '<$1>')\n\t)\n}\n","import base64 from 'base64url'\nimport ethers from 'ethers'\n\n// see https://github.com/ethereum/EIPs/issues/1341\n// Implements EIP 1341: Ethereum Web Tokens\n\nconst HEADER = base64.encode(\n\tJSON.stringify({\n\t\ttype: 'JWT',\n\t\talg: 'ETH',\n\t})\n)\n\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\n// .address is always checksummed\nfunction sign(signer, payload) {\n\tconst payloadEncoded = base64.encode(\n\t\tJSON.stringify({\n\t\t\t...payload,\n\t\t\taddress: signer.address,\n\t\t})\n\t)\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\n\t})\n}\n\nfunction verify(token) {\n\tconst parts = token.split('.')\n\tif (parts.length !== 3) {\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\n\t}\n\tconst msg = parts.slice(0, 2).join('.')\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\n\ttry {\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\n\t\treturn Promise.resolve({ from, payload })\n\t} catch (e) {\n\t\treturn Promise.reject(e)\n\t}\n}\n\nexport default { sign, verify }\n","module.exports = Module;","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","import moment from 'moment'\n\n// TODO: separate exports - not class\nclass Helper {\n\tgetGuid() {\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t}\n\n\tgetRndHash32(prefix) {\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t\tif (prefix) {\n\t\t\th = prefix + h.substring(prefix.length)\n\t\t}\n\t\treturn h\n\t}\n\n\tgetRandomInt(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\n\t}\n\n\tgetRandomBool() {\n\t\treturn !!this.getRandomInt(0, 1)\n\t}\n\n\tgetRandomPropFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\n\t}\n\n\tgetRandomKeyFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn keys[(keys.length * Math.random()) << 0]\n\t}\n\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\n\t\t// TODO: fix +/- 1 day bug\n\t\tlet initial = moment.isMoment(initialMoment)\n\t\t\t? initialMoment.valueOf()\n\t\t\t: undefined\n\n\t\treturn moment(initial)\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\n\t}\n\n\thexToRgbaColorString = (hex, alpha) => {\n\t\tif (!hex || typeof hex !== 'string') {\n\t\t\tthrow new Error('Invalid color')\n\t\t} else if (hex.length === 4) {\n\t\t\thex = hex + hex.substr(1, 4)\n\t\t}\n\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\n\t\t\talpha = 1\n\t\t}\n\n\t\tconst hexToDec = h => {\n\t\t\treturn parseInt('0x' + h, 16)\n\t\t}\n\n\t\tlet r = hexToDec(hex.substr(1, 2))\n\t\tlet g = hexToDec(hex.substr(3, 2))\n\t\tlet b = hexToDec(hex.substr(5, 2))\n\n\t\treturn `rgba(${r},${g},${b},${alpha})`\n\t}\n\n\tgetQuery(queryParams) {\n\t\tif (\n\t\t\t!queryParams ||\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\n\t\t) {\n\t\t\treturn ''\n\t\t}\n\t\treturn (\n\t\t\t'?' +\n\t\t\t\tObject.keys(queryParams)\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\n\t\t\t\t\t.map(key => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tencodeURIComponent(key) +\n\t\t\t\t\t\t\t'=' +\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\n\t\t\t\t\t\t)\n\t\t\t\t\t}, '')\n\t\t\t\t\t.join('&') || ''\n\t\t)\n\t}\n\n\tgetErrMsg = err => {\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\n\n\t\tif (stack.length > 1) {\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\n\t\t} else {\n\t\t\treturn (err.error || err || '').toString()\n\t\t}\n\t}\n\n\tisInt = int => {\n\t\treturn typeof int === 'number' && int % 1 === 0\n\t}\n\n\tshuffleArray = array => {\n\t\treturn [...array].sort(() => Math.random() - 0.5)\n\t}\n}\n\nexport default new Helper()\n","import { ethers, utils } from 'ethers'\nimport pbkdf2 from 'pbkdf2'\nimport {\n\tencrypt,\n\tdecrypt,\n\tencryptLegacy,\n\tdecryptLegacy,\n} from 'services/crypto/crypto'\nimport {\n\tloadFromLocalStorage,\n\tsaveToLocalStorage,\n\tgetKeys,\n\tremoveFromLocalStorage,\n} from 'helpers/localStorageHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\n\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\n\treturn new Promise((resolve, reject) => {\n\t\tpbkdf2.pbkdf2(\n\t\t\tpass,\n\t\t\tsalt,\n\t\t\titerations,\n\t\t\tkeylen,\n\t\t\tdigiset,\n\t\t\t(err, derivedKey) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn reject(err)\n\t\t\t\t}\n\n\t\t\t\tconst res = derivedKey.toString(encoding)\n\n\t\t\t\treturn resolve(res)\n\t\t\t}\n\t\t)\n\t})\n}\n\nasync function getCipherKey({ email, password }) {\n\tconst pass = generateSalt(password)\n\tconst salt = generateSalt(email)\n\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn key\n}\n\nfunction isLegacyCrypto(authType) {\n\treturn !authType || authType === 'legacy' || authType === 'grant'\n}\n\n// Returns 12 random words\nexport function getRandomMnemonic() {\n\tconst randomEntropy = utils.randomBytes(16)\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\n\n\treturn mnemonic\n}\n\nexport async function generateWallet(mnemonic) {\n\tconst seed = mnemonic || getRandomMnemonic()\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\n\n\treturn {\n\t\tmnemonic,\n\t\tprivateKey: wallet.privateKey,\n\t\taddress: wallet.address,\n\t\tpath: wallet.path,\n\t}\n}\n\nasync function encrKey({ email, password, authType }) {\n\tif (!authType) {\n\t\treturn await encryptLegacy(email, password)\n\t} else if (typeof authType === 'string') {\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\n\t} else {\n\t\tthrow new Error('INVALID_TYPE')\n\t}\n}\n\nexport async function encrData({ email = '', password, data, authType }) {\n\tconst isLegacy = isLegacyCrypto(authType)\n\tconst jsonData = JSON.stringify(data)\n\tif (isLegacy) {\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\n\t\treturn legacyEncrypted\n\t} else {\n\t\tconst encrypted = await encrypt(\n\t\t\tjsonData,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t\treturn encrypted\n\t}\n}\n\nexport async function decrData({ email = '', password, data, authType }) {\n\tlet decryptedStr = ''\n\tconst isLegacy = isLegacyCrypto(authType)\n\n\tif (isLegacy) {\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\n\t} else {\n\t\tdecryptedStr = await decrypt(\n\t\t\tdata,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t}\n\n\ttry {\n\t\tconst decr = JSON.parse(decryptedStr)\n\t\treturn decr\n\t} catch (err) {\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\n\t}\n}\n\nexport async function createLocalWallet({\n\temail = '',\n\tpassword = '',\n\tmnemonic,\n\tauthType = '',\n}) {\n\tconst walletData = await generateWallet(mnemonic)\n\tconst key = await encrKey({ email, password, authType })\n\tconst data = await encrData({ data: walletData, email, password, authType })\n\tawait saveToLocalStorage({ data }, key)\n\n\twalletData.authType = authType\n\treturn walletData\n}\n\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\n\tconst wallet = await getLocalWallet({\n\t\temail,\n\t\tpassword,\n\t\tgetEncrypted: true,\n\t})\n\n\tif (wallet && wallet.data) {\n\t\tconst newKey = await encrKey({\n\t\t\temail,\n\t\t\tpassword,\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\n\t\t})\n\t\tsaveToLocalStorage(wallet, newKey)\n\t}\n}\n\nexport async function removeLegacyKey({ email = '', password = '' }) {\n\tconst key = await encrKey({ email, password })\n\tremoveFromLocalStorage(key)\n}\n\nexport async function addDataToWallet({\n\temail = '',\n\tpassword = '',\n\tdataKey = '',\n\tdataValue = '',\n\tauthType,\n}) {\n\tif (dataKey === 'data') {\n\t\tthrow new Error('INVALID_DATA_KEY')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (!wallet) {\n\t\tthrow new Error('WALLET_NOT_FOUND')\n\t}\n\n\tconst data = await encrData({ data: dataValue, email, password, authType })\n\twallet[dataKey] = data\n\tsaveToLocalStorage(wallet, key)\n}\n\nexport async function getRecoveryWalletData({ email, password, authType }) {\n\tif (!email || !password) {\n\t\treturn null\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\treturn {\n\t\tkey,\n\t\twallet,\n\t}\n}\n\nexport async function getLocalWallet({\n\temail,\n\tpassword,\n\tauthType,\n\tgetEncrypted,\n}) {\n\tif (!email || !password) {\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (wallet) {\n\t\tif (getEncrypted) {\n\t\t\treturn wallet\n\t\t}\n\n\t\tconst walletKeys = Object.keys(wallet)\n\n\t\tconst decrypts = walletKeys.map(async key => {\n\t\t\t// props[key] = await decrData({\n\t\t\t// \tdata: wallet[key],\n\t\t\t// \temail,\n\t\t\t// \tpassword,\n\t\t\t// \tauthType,\n\t\t\t// })\n\n\t\t\tconst decryptedData = await decrData({\n\t\t\t\tdata: wallet[key],\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\treturn decryptedData\n\t\t})\n\n\t\tconst decryptedData = await Promise.all(decrypts)\n\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\n\t\t\tprops[key] = decryptedData[index]\n\t\t\treturn props\n\t\t}, {})\n\n\t\treturn decryptedWallet\n\t} else {\n\t\treturn null\n\t}\n}\n\nfunction isWallet(item) {\n\treturn item && item.data && item.identity && item.privileges\n}\n\nexport function walletInfo(key, index, wallet) {\n\tconst split = key.split('-')\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\n\tconst authType = split[1] || 'legacy'\n\tconst name = mail || `Grant account # ${index + 1}`\n\n\tconst info = {\n\t\tkey,\n\t\twallet,\n\t\tname,\n\t\tauthType,\n\t}\n\n\treturn info\n}\n\nexport function getAllWallets() {\n\tconst walletKeys = getKeys()\n\t\t.map(key => {\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\titem: loadFromLocalStorage(key),\n\t\t\t}\n\t\t})\n\t\t.filter(({ item }) => isWallet(item))\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\n\n\treturn walletKeys\n}\n\nexport async function getWalletHash({ salt, password }) {\n\tconst passwordId = utils.id(password)\n\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn hash\n}\n\nexport function generateSalt(dataStr) {\n\tif (typeof dataStr !== 'string') {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\n\t} else if (!dataStr.length) {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\n\t}\n\n\tconst id = utils.id(dataStr)\n\tconst salt = utils.keccak256(id)\n\treturn salt\n}\n","module.exports = __webpack_public_path__ + \"static/media/404-no.0ec9cb01.png\";","module.exports = __webpack_public_path__ + \"static/media/404-yes.ade3b1a3.png\";","module.exports = __webpack_public_path__ + \"static/media/ramp.a70bdb13.svg\";","module.exports = __webpack_public_path__ + \"static/media/wyre.88a9c74f.svg\";","module.exports = __webpack_public_path__ + \"static/media/paytrie.e3ec2363.svg\";","module.exports = __webpack_public_path__ + \"static/media/GS-fund-ic.a3c1ce2c.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MWE5YjZhZS0zYjg3LWZlNDAtYjc2Zi05ZWQwZGY2M2IzOWMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowZjAyOTAwYy1mYWQxLTZkNDctYmMyZi0wZDg0ZTg5MDgzZDUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NTk2YjBhMi02OWJjLTVjNGUtOTIxZS1hNjcwMGNjZjIzYjQiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1OTZiMGEyLTY5YmMtNWM0ZS05MjFlLWE2NzAwY2NmMjNiNCIgc3RFdnQ6d2hlbj0iMjAyMC0wMi0xN1QxNjowODoxMSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjYxYTliNmFlLTNiODctZmU0MC1iNzZmLTllZDBkZjYzYjM5YyIgc3RFdnQ6d2hlbj0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pq0lBPoAABGCSURBVHja7d0JlBT1ncDx8TauuyYRdxVdTXY3Hk9WfZrEczUx3jMwI/c9HIJBOQSCQECQWwGVQ2PkUkCQYNQowWON0c0q66pI9OGiAkEuueWQ4Zb/VrUzzdycAz09n99739cw0wNidX1e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\"","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { refreshCacheAndReload, execute, notifyNewTOS } from 'actions'\r\nglobal.meta = {\r\n\tcurrentVersion: packageJson.version,\r\n\tcurrentTOS: packageJson.tosVersion,\r\n}\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst semverGreaterThan = (versionA = '', versionB = '') => {\r\n\t\tconst versionsA = versionA.split(/\\./g)\r\n\r\n\t\tconst versionsB = versionB.split(/\\./g)\r\n\t\twhile (versionsA.length || versionsB.length) {\r\n\t\t\tconst a = Number(versionsA.shift())\r\n\r\n\t\t\tconst b = Number(versionsB.shift())\r\n\t\t\t// eslint-disable-next-line no-continue\r\n\t\t\tif (a === b) continue\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\treturn a > b || isNaN(b)\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(7)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst { latestVersion, latestTOS } = meta\r\n\t\t\t\tconst { currentVersion, currentTOS } = global.meta || {}\r\n\t\t\t\tconst shouldForceRefresh =\r\n\t\t\t\t\t!global.meta || semverGreaterThan(latestVersion, currentVersion)\r\n\t\t\t\tif (shouldForceRefresh) {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\trefreshCacheAndReload({\r\n\t\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tconst shouldNotifyNewTOS =\r\n\t\t\t\t\t!global.meta || semverGreaterThan(latestTOS, currentTOS)\r\n\t\t\t\tif (shouldNotifyNewTOS) {\r\n\t\t\t\t\texecute(notifyNewTOS())\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n"],"sourceRoot":""}