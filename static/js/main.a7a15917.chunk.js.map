{"version":3,"sources":["selectors/selectors.js","selectors/configSelectors.js","selectors/accountSelectors.js","selectors/identitySelectors.js","selectors/uiSelectors.js","selectors/translationsSelectors.js","selectors/itemsSelectors.js","selectors/newItemsSelectors.js","selectors/analyticsSelectors.js","selectors/validationsSelectors.js","selectors/targetingSelectors.js","selectors/newTransactionSelectors.js","selectors/tablesDataSelectors.js","selectors/chartsSelectors.js","selectors/dataSelectors.js","selectors/gettingStartedSelectors.js","selectors/locationSelectors.js","selectors/index.js","helpers/localStorageHelpers.js","helpers/ipfsHelpers.js","resources/home-wallpaper.jpg","components/toast/Toast.js","components/confirm/Confirm.js","components/common/rr_hoc/RRHoc.js","components/common/icons/createSvgIconCustom.js","components/common/icons/CampaignIcon.js","components/dashboard/dashboard/SideSwitch.js","components/common/icons/AdexIconTxt.js","components/common/spinners/index.js","components/dashboard/dashboard/SideNav.js","components/common/button_menu/ButtonMenuMui.js","components/translate/Translate.js","helpers/logosHelpers.js","components/dashboard/dashboard/styles.js","components/dashboard/dashboard/TopBar.js","components/common/img/Img.js","components/common/img/styles.js","components/dashboard/containers/Tables/MUIDataTableEnhanced.js","components/dashboard/containers/Tables/tableHelpers.js","components/dashboard/containers/Tables/styles.js","components/dashboard/containers/Tables/commonFilters.js","components/dashboard/containers/Tables/tableHooks.js","components/dashboard/containers/Tables/toolbars.js","components/dashboard/containers/Tables/CampaignsTable.js","components/common/OutlinedPropView/OutlinedPropView.js","components/dashboard/containers/ItemCommon/SaveBtn.js","components/dashboard/containers/ItemCommon/itemCommonNew.js","components/dashboard/containers/ItemCommon/styles.js","components/dashboard/containers/ItemCommon/itemHooks.js","components/common/stepper/MaterialUiStepper.js","components/common/stepper/styles.js","components/common/stepper/FormSteps.js","components/common/dialog/styles.js","components/common/dialog/WithDialog.js","components/common/dropdown/Dropdown.js","components/dashboard/forms/items/AdUnit/AdUnitBasic.js","services/images/crop.js","components/dashboard/forms/ImgForm/ImgForm.js","components/dashboard/forms/ImgForm/styles.js","components/dashboard/forms/items/AdUnit/AdUnitMedia.js","components/common/dialog/content.js","components/dashboard/containers/TargetsList/TargetsList.js","components/dashboard/forms/items/styles.js","components/dashboard/forms/items/AdUnit/AdUnitFormPreview.js","components/dashboard/forms/items/Campaign/CampaignUnits.js","components/common/DateTimePicker/DateTimePicker.js","components/common/DateTimePicker/styles.js","components/dashboard/forms/items/Campaign/CampaignFinance.js","components/dashboard/forms/FormsCommon.js","components/dashboard/containers/AudiencePreview/AudiencePreview.js","components/dashboard/forms/items/Campaign/CampaignFormPreview.js","components/common/autocomplete/Autocomplete.js","components/dashboard/forms/items/AdSlot/AdSlotBasic.js","components/dashboard/forms/items/AdSlot/AdSlotMedia.js","components/dashboard/forms/items/Audience/AudienceBasic.js","components/dashboard/forms/items/Audience/NewAudiencePreview.js","components/dashboard/forms/items/NewTargetingRules.js","components/dashboard/containers/Slot/WebsiteIssues.js","components/dashboard/forms/items/AdSlot/AdSlotPreview.js","components/dashboard/forms/items/NewItems.js","components/dashboard/containers/Tables/AdUnitsTable.js","components/dashboard/containers/Tables/AdSlotsTable.js","components/dashboard/containers/Tables/AudiencesTable.js","components/dashboard/charts/options.js","components/dashboard/charts/campaigns/CampaignStatsDoughnut.js","components/dashboard/containers/Tables/CampaignStatsBreakdownTable.js","components/dashboard/containers/Receipt/styles.js","components/dashboard/containers/Receipt/PublisherReceiptTpl.js","components/page_not_found/PageNotFound.js","components/page_not_found/styles.js","components/dashboard/containers/Receipt/CampaignReceiptTpl.js","components/dashboard/containers/Receipt/CompanyDetails.js","components/dashboard/containers/Receipt/Receipt.js","components/dashboard/containers/Tables/StatsByCountryTable.js","components/dashboard/charts/map/MapChart.js","components/dashboard/containers/Campaign/CampaignEdits.js","components/dashboard/containers/Campaign/CampaignBasic.js","components/dashboard/containers/Campaign/CampaignAudience.js","components/dashboard/charts/simplified.js","hooks/useWindowSize.js","components/common/tooltips/index.js","components/dashboard/containers/DashboardStats/StatsCard.js","components/common/DatePicker/styles.js","components/common/DatePicker/DatePicker.js","components/dashboard/containers/DashboardStats/styles.js","hooks/useKeyPress.js","components/dashboard/containers/DashboardStats/BasicStats.js","components/dashboard/containers/Campaign/CampaignStatsByTimeframe.js","components/dashboard/containers/Campaign/Campaign.js","components/dashboard/containers/DashboardStats/AdvertiserStats.js","components/dashboard/containers/Tables/BestEarnersTable.js","components/dashboard/containers/DashboardStats/PublisherStats.js","components/dashboard/containers/Unit/Unit.js","components/dashboard/containers/Slot/SlotEdits.js","components/dashboard/containers/Slot/SlotBasic.js","components/dashboard/containers/Slot/IntegrationCode.js","components/dashboard/containers/Slot/styles.js","components/dashboard/containers/Slot/Slot.js","components/dashboard/containers/Audience/Audience.js","components/dashboard/containers/Websites/Websites.js","components/dashboard/forms/web3/WithdrawFromIdentity.js","components/dashboard/forms/web3/WithdrawAnyTokenFromIdentity.js","components/dashboard/forms/web3/SeAddressPrivilege.js","components/dashboard/forms/web3/SetAccountENSPage.js","components/dashboard/forms/web3/previews.js","components/dashboard/forms/web3/TransactionPreview.js","components/dashboard/forms/web3/styles.js","components/dashboard/forms/web3/transactions.js","components/dashboard/account/AccountInfo.js","components/dashboard/account/styles.js","components/dashboard/deposit/styles.js","helpers/popupHelper.js","services/onramp/index.js","components/dashboard/deposit/Ramp.js","components/dashboard/deposit/TopUp.js","components/dashboard/deposit/TopUpChangelly.js","components/dashboard/getting-started/Colorlib.js","components/dashboard/getting-started/Tutorials.js","components/dashboard/getting-started/GettingStarted.js","components/dashboard/dashboard/Dashboard.js","components/signin/styles.js","components/signin/auth-select/AuthSelect.js","components/signin/auth-select/styles.js","components/signin/ConnectHoc.js","components/signin/identity/ownerAuth/styles.js","components/signin/identity/ownerAuth/AuthCommon.js","components/signin/identity/ownerAuth/AuthMetamask.js","components/signin/identity/ownerAuth/AuthTrezor.js","components/signin/identity/ownerAuth/AuthMethod.js","components/signin/identity/QuickInfo.js","components/signin/identity/FullInfo.js","components/signin/identity/QuickLogin.js","components/signin/identity/FullLogin.js","components/signin/identity/Identity.js","components/common/icons/AdexPublisher.js","components/common/icons/AdexAdvertiser.js","components/signin/side-select/SideSelect.js","components/signin/side-select/styles.js","components/signin/Home.js","components/common/dialog/JustDialog.js","components/App/Root.js","components/App/App.js","serviceWorker.js","index.js","constants/actionTypes.js","services/store-data/auth.js","helpers/mediaHelpers.js","services/smart-contracts/contractsCfg.js","helpers/dateUtils.js","helpers/formatters.js","helpers/itemsHelpers.js","services/store-data/loop.js","services/store-data/analytics.js","constants/misc.js","constants/spinners.js","services/crypto/crypto.js","store/initialState.js","store/history.js","services/store-data/campaigns.js","services/store-data/account.js","resources/no-image-box-eddie.jpg","components/common/anchor/anchor.js","actions/common.js","helpers/errors.js","actions/uiActions.js","services/smart-contracts/actions/erc20.js","services/smart-contracts/actions/common.js","helpers/validators.js","services/requester/requester.js","services/requester/index.js","services/adex-relayer/actions.js","actions/validationActions.js","actions/mediaValidations.js","services/adex-market/actions.js","constants/targeting.js","actions/itemActions.js","services/auth/auth.js","services/smart-contracts/signers/trezor.js","services/smart-contracts/signers/local.js","services/smart-contracts/signers/metamask.js","services/smart-contracts/actions/ethers.js","services/adex-validator/actions.js","services/smart-contracts/actions/stats.js","services/smart-contracts/actions/identity.js","services/smart-contracts/actions/core.js","services/adex-market/aggregates.js","actions/analyticsActions.js","actions/accountActions.js","actions/identityActions.js","actions/bidActions.js","services/gas/actions.js","actions/transactionActions.js","actions/newItemsActions.js","actions/audienceActions.js","helpers/utmHelpers.js","actions/campaignActions.js","helpers/numbers.js","services/images/blob.js","actions/slotActions.js","actions/unitActions.js","actions/index.js","resources/trezor-logo-h.png","services/smart-contracts/ethers.js","resources/getting-started/GS-email-ic.png","resources/getting-started/GS-create-ic.png","resources/getting-started/GS-launch-ic.png","reducers/configReducer.js","reducers/index.js","reducers/accountReducer.js","reducers/uiReducer.js","reducers/itemsReducer.js","reducers/languageReducer.js","reducers/web3TransactionsReducer.js","reducers/targetingReducer.js","reducers/ensReducer.js","reducers/uiMemoryReducer.js","reducers/channelsReducer.js","reducers/analyticsReducer.js","reducers/signinReducer.js","reducers/identityReducer.js","reducers/walletReducer.js","reducers/newItemsReducer.js","reducers/spinnersReducer.js","reducers/toastsReducer.js","reducers/confirmReducer.js","reducers/navReducer.js","reducers/validateItemsReducer.js","reducers/selectedItemsReducer.js","reducers/newTransactionsReducer.js","store/configureStore.js","store/index.js","components/App/themeMUi.js","services/translations/translations.js","helpers/sanitizer.js","../../adex-translations/index.js","services/adex-validator/ewt.js","../external \"Module\"","helpers/miscHelpers.js","resources/metamask-logo.png","resources/demo-logo.png","resources/video-placeholder.jpg","services/wallet/wallet.js","resources/404-no.png","resources/404-yes.png","resources/ramp.svg","resources/wyre.svg","resources/paytrie.svg","resources/transak.svg","resources/changelly.svg","resources/getting-started/GS-fund-ic.png","resources/getting-started/GS-place-ic.png","resources/download-metamask.png","resources/metamask.png","resources/eddie/eddie-14.png","components/App/CacheBuster.js","helpers/analyticsTimeHelpers.js"],"names":["createDeepEqualSelector","createSelectorCreator","defaultMemoize","isEqual","creatArrayOnlyLengthChangeSelector","a","arguments","length","undefined","b","selectRelayerConfig","state","getState","persist","config","relayer","selectFeeTokenWhitelist","createSelector","_ref","feeTokenWhitelist","reduce","all","t","tokens","Object","objectSpread","address","selectRoutineWithdrawTokens","_ref2","routineWithdrawTokens","selectRoutineWithdrawTokensAddresses","_ref3","map","selectMainToken","relayerConfig","_ref4","mainToken","selectIdentityRecoveryAddr","_ref5","identityRecoveryAddr","selectGasPriceCap","_ref6","gasPriceCap","selectSaiToken","_ref7","saiAddr","selectMainFeeToken","_ref8","selectAccount","account","selectChannels","memory","channels","selectAuth","wallet","identity","authSig","authType","selectWallet","selectEmail","email","selectAuthSig","split","selectWalletAddress","selectAuthType","selectAccountIdentity","selectAccountIdentityAddr","selectAccountStats","_ref9","stats","selectAccountStatsRaw","_ref10","settings","_ref11","raw","selectAccountStatsFormatted","_ref12","formatted","selectAccountIdentityDeployData","_ref13","relayerData","routineAuthorizationsData","_ref14","_ref14$relayerData","deployData","selectChannelsWithUserBalancesEligible","_ref15","withOutstandingBalance","toConsumableArray","selectChannelsWithUserBalancesAll","_ref16","withBalanceAll","selectAccountIdentityCurrentPrivileges","_ref17","_ref17$relayerData","currentPrivileges","selectWalletPrivileges","selectAccountIdentityCreatedDate","_ref18","created","dateUtils","date","selectIdentity","selectEnsAddressByAddr","ensAddresses","_","selectSide","nav","side","selectMemoryUi","uiMemory","selectGlobalUi","ui","global","selectConfirm","confirm","selectSpinners","spinners","selectIdentityUi","byIdentity","identityAddr","identitiesUi","selectIdentitySideUi","identityUi","selectCompanyData","companyData","selectSpinnerById","id","selectWeb3SyncSpinnerByValidateId","validateId","SYNC_WEB3_DATA","selectRegistrationAllowed","ids","allowRegistration","process","selectEasterEggsAllowed","allowEasterEggs","selectPrivilegesWarningAccepted","privilegesWarningAccepted","selectSideSpecificUI","selectHideGettingStarted","hideGettingStarted","selectGettingStartedExpanded","gettingStartedExpanded","selectSelectedCampaigns","selectedItems","campaigns","selectLoginDirectSide","goToSide","selectInitialDataLoadedByData","dataType","initialDataLoaded","selectInitialDataLoaded","_ref10$initialDataLoa","every","type","selectCampaignIdInDetails","campaignId","selectLoginSelectedIdentity","loginSelectedIdentity","selectAnalyticsDataSide","concat","selectIdentitySideAnalyticsTimeframe","_ref13$sideAnalyticsT","sideAnalyticsTimeframe","selectIdentitySideAnalyticsPeriod","_ref14$sideAnalyticsP","sideAnalyticsPeriod","start","startOfDay","end","endOfDay","selectLang","language","selectTranslations","val","opts","lang","_opts$isProp","isProp","_opts$args","args","_opts$components","components","translate","selectItems","items","selectItemsByType","itemType","selectItemByTypeAndId","selectItemsArrayByType","values","selectCampaigns","selectCampaignById","selectCampaignUnitsById","adUnits","selectCampaignInDetails","selectCampaignWithAnalyticsById","campaign","clicks","selectCampaignEventsCount","impressions","selectCampaignsArray","selectAdUnits","selectAdUnitById","selectAdUnitsArray","selectAdSlots","adSlots","selectAdSlotsArray","selectAdSlotById","selectWebsites","websites","selectWebsitesArray","selectWebsiteByWebsite","ws","url","parse","hostname","selectAudiences","audiences","selectAudiencesArray","selectAudienceById","selectAudienceByCampaignId","audienceInput","inputs","location","categories","publishers","advanced","find","x","selectSavedAudiences","filter","title","selectNewItems","newItem","selectNewItemByTypeAndId","itemId","initialState","selectNewCampaign","Campaign","CampaignModel","selectNewAdUnit","AdUnit","AdUnitModel","selectNewAdSlot","AdSlot","AdSlotModel","selectNewAudience","Audience","AudienceModel","selectAnalytics","analytics","selectTargeting","targeting","selectAdvancedAnalytics","selectAnalyticsLastChecked","lastChecked","Date","selectAnalyticsLiveTimestamp","timeframe","currentDate","Math","min","withdrawPeriodStart","hourStart","addMinutes","startOfMinute","dayStart","addHours","startOfHour","weekStart","addDays","getHourSpanStart","monthStart","addMonths","yearStart","startOfMonth","selectDemandAnalytics","demand","selectDemandAnalyticsByType","selectTargetingAnalytics","_ref4$targetingData","targetingData","selectTargetingAnalyticsMinByCategories","_ref5$minByCategory","minByCategory","selectTargetingAnalyticsCountryTiersCoefficients","_ref6$countryTiersCoe","countryTiersCoefficients","selectVerifiedActiveTargetingAnalytics","targetingAnalytics","bySlotCount","byType","types","forEach","campaignsEarnedFrom","selectTargetingAnalyticsCurrentlyUsedTypes","item","u","selectTargetingAnalyticsByType","filterByType","some","includes","selectAdvancedAnalyticsByType","Array","from","c","add","Set","owner","alexaRank","set","Map","sort","campaignAnalytics","selectTotalStatsByAdUnits","adUnitId","slicedToArray","analyticsByChannel","byChannelStats","acc","curr","reportChannelToAdUnit","selectPublisherStatsByType","publisherStats","selectPublisherStatsByCountry","reportPublisherToCountry","selectPublisherPayStatsByCountry","reportPublisherToCountryPay","selectPublisherStatsAdUnit","reportPublisherToAdUnit","selectPublisherStatsAdUnitPay","reportPublisherToAdUnitPay","selectPublisherStatsAdSlot","reportPublisherToAdSlot","selectPublisherStatsAdSlotPay","reportPublisherToAdSlotPay","selectPublisherAggrStatsByCountry","byCountry","max","apply","total","value","Number","selectAllAdUnitsInChannels","units","_ref19$adUnits","ipfs","selectPublisherAdvanceStatsToAdUnit","_ref20","_ref21","impressionsByAdUnit","clicksByAdUnit","impressionsPayByAdUnit","clicksPayByAdUnit","i","impressionsPay","clicksPay","selectPublisherAdvanceStatsToAdSlot","_ref22","_ref23","impressionsByAdSlot","clicksByAdSlot","impressionsPayByAdSlot","clicksPayByAdSlot","selectPublisherTotalImpressions","_ref24","selectCampaignAnalyticsByChannelStats","_ref25","_ref26","_ref27","analyticsByType","selectCampaignAnalyticsByChannelToCountry","_ref28","_ref29","reportChannelToCountry","selectCampaignAnalyticsByChannelToCountryPay","_ref30","_ref31","reportChannelToCountryPay","selectCampaignAggrStatsByCountry","_ref32","selectCampaignAnalyticsByChannelToAdUnit","_ref33","_ref34","selectAnalyticsDataAggr","_ref35","_ref36","_ref38","eventType","metric","liveTimestamp","_analytics$side","_analytics$side$event","_analytics$side$event2","_analytics$side$event3","_analytics$side$event4","aggr","selectTotalImpressions","_ref39","eventCounts","_ref40","selectTotalClicks","_ref41","_ref42","selectTotalMoney","_ref43","eventPayouts","_ref44","formatTokenAmount","selectTotalImpressionsWithPayouts","_ref45","_ref46","_ref47","e","time","_ref48","selectAverageCPM","_ref49","_ref50","totalMoney","totalImpressions","selectStatsChartData","_ref52","noLastOne","rest","objectWithoutProperties","data","_ref53","_ref53$data","slice","memo","label","getPeriodDataPointLabel","labels","push","datasets","_ref51","parseFloat","parseInt","parseValueByMetric","selectChartDatapointsImpressions","_ref54","_ref55","selectChartDatapointsClicks","_ref57","_ref58","selectChartDatapointsPayouts","_ref60","_ref61","selectChartDatapointsCPM","_ref63","_ref64","_ref65","payouts","result","n","toFixed","selectPublisherReceipts","_ref66","receipts","selectPublisherReceiptsPresentMonths","keys","r","selectAnalyticsNowLabel","format","DEFAULT_DATETIME_FORMAT","setMinutes","selectAnalyticsMinAndMaxDates","dateCreated","activeFrom","_campaign$status","status","minDate","getMinStartDateTimeByTimeframe","maxDate","closedDate","selectValidations","validations","selectValidationsById","_ref$targetingData","_ref2$minByCategory","_ref3$countryTiersCoe","selectMinTargetingCpm","coefficients","selectTargetingCategoriesByType","mapTargetingDataToPublishers","reachPerMillion","selectTargetingPublishersByType","selectTargetingCategories","selectAllTargetingPublishers","autocompleteLocationsSingleSelect","tiers","constants","CountryTiers","name","ruleValue","countries","extraLabel","join","group","AllCountries","toUpperCase","autocompleteCategoriesMultiSelectIn","cat","IabCategories","wrbshrinkerWebsiteApiV3Categories","autocompleteCategoriesMultiSelectNin","getPublisherExtraDataLabel","publisher","autocompletePublishersMultiSelectIn","pub","JSON","stringify","extraData","autocompletePublishersMultiSelectNin","audienceSources","parameter","applyType","actions","minSelected","extraInfo","react_default","createElement","anchor_anchor","href","disabledValues","helper","selectAutocompleteAudienceSources","locations","catIn","catNin","pubIn","pubNin","singleValuesSrc","multipleValuesSrc","in","nin","selectAudienceSourcesWithOptions","sourcesData","s","source","selectAudienceValidations","__","___","selectAudienceInputsDataByItem","____","advancedOnly","allSrcsWithOptions","selectedItem","isCampaignAudienceItem","errors","errorParameters","dirty","errFields","SOURCES","allSrcs","disabled","selectedPublishersCategories","p","has","getDisabledValues","selectNewTransactionById","newTransactions","txns","CountryNames","numericToAlpha2","selectCampaignsTableData","archived","_ref$decimals","depositAsset","decimals","_item$spec","spec","_item$adUnits","firstUnit","to","toReceipt","media","mediaUrl","mediaMime","humanFriendlyName","originalName","depositAmount","formatUnits","fundsDistributedRatio","ctr","minPerImpression","receiptReady","receiptAvailable","selectCampaignsMaxImpressions","selectCampaignsMaxClicks","selectCampaignsMaxDeposit","_ref2$decimals","selectAdSlotsTableData","slots","replace","earnings","selectAdUnitsTableData","selectOnImage","selectAudiencesTableData","version","updated","mapByCountryTableData","impressionsByCountry","clicksByCountry","impressionsAggrByCountry","impressionsPayByCountry","clicksPayByCountry","addEarnings","key","countryName","percentImpressions","averageCPM","selectPublisherStatsByCountryData","selectCampaignAnalyticsToCountryData","selectPublisherStatsByCountryTableData","selectCampaignAnalyticsToCountryTableData","mapByCountryMapChartData","colorScale","scaleLinear","domain","range","PRIMARY_LIGHTEST","PRIMARY_DARKEST","hoverColor","SECONDARY","pressedColor","SECONDARY_LIGHT","chartData","chartCountriesData","objects","geometries","tooltipElements","formatAbbrNum","properties","fillColor","grey","selectPublisherStatsByCountryMapChartData","selectCampaignAnalyticsToCountryMapChartData","selectBestEarnersTableData","selectCampaignStatsTableData","campaignAudienceInput","imprStats","reportChannelToHostname","clickStats","earnStats","reportChannelToHostnamePay","rules","isBlacklisted","website","selectCampaignStatsMaxValues","channelId","current","newResult","totalClicks","totalEarnings","maxClicks","maxCTR","maxImpressions","maxEarnings","selectAdUnitsStatsMaxValues","selectPublisherReceiptsStatsByMonthTableData","token","_ref16$decimals","_i","_Object$entries","entries","_ref19","selectPublisherReceiptsStatsByMonthTotalValues","totalPayouts","selectCampaignDoughnutStats","chartColors","maxDataSets","_Object$keys$sort$red","newData","impressionsData","clicksData","backgroundColor","hoverBackgroundColor","borderWidth","selectSlotTypesSourceWithDemands","symbol","AdUnitsTypes","dA","bigNumberify","avgCPM","dB","gt","index","hasPopularGroup","hasNoDemandGroup","demandIfo","totalVolume","selectVerifiedActiveTypes","verified","typeData","get","byOwner","minSlotCount","revenue","totalEarned","totalRevenue","toString","selectUnitTypesSourceWithRecommendations","verifiedTypes","totoShare","_ref4$revenue","typeRest","share","hasLessPopularGroup","selectMonthsRange","startDate","endDate","months","m","moment","startOf","diff","selectReceiptMonths","monthsEnd","monthTimestamp","endOf","selectFromSource","labelValueMapping","translated","selectKnowUsFromSource","WHERE_YOU_KNOW_US","websitesAutocompleteSrc","issues","selectHasCreatedAdUnit","adUnitsArray","selectHasCreatedCampaign","campaignsArray","selectHasConfirmedEmail","_ref$meta","meta","emailConfirmed","selectHasFundedAccount","hasCampaign","identityBalanceMainToken","selectHasCreatedAdSlot","adSlotsArray","selectHasAdSlotImpressions","selectHas5000Impressions","sectStepsData","hasCreatedAdUnit","hasCreatedCampaign","hasCreatedAdSlot","hasConfirmedEmail","hasFundedAccount","hasImpressions","has5000Impressions","selectLocation","router","selectLocationQuery","search","query","selectSearchParams","URLSearchParams","ITEMS_SELECTORS","receipt","SIDES","advertiser","selectDashboardBreadcrumbs","_ref4$pathname","pathname","paths","sideDashboard","sideDashboardBC","restBC","prev","selector","bc","restCopy","receiptAt","indexOf","__webpack_require__","d","__webpack_exports__","configSelectors_selectRelayerConfig","translationsSelectors_t","loadFromLocalStorage","localStorage","getItem","err","saveToLocalStorage","serialized","setItem","console","warn","removeFromLocalStorage","removeItem","getKeys","ipfsSrc","adex_models__WEBPACK_IMPORTED_MODULE_0__","src","Regexes","ipfsRegex","test","helpers","getMediaUrlWithProvider","module","exports","typeToSeverity","accept","success","warning","info","cancel","error","Toast","_Component","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","close","setState","active","setTimeout","removeToast","toast","inherits","createClass","nextProps","nextToast","toasts","isWindowReloading","_this2","anchorOrigin","vertical","horizontal","top","Snackbar","open","autoHideDuration","timeout","onClose","unclosable","Alert","severity","variant","action","react","IconButton","aria-label","color","size","onClick","Close","Component","connect","dispatch","bindActionCreators","Confirm","children","_useState","useState","_useState2","setOpen","_useSelector","useSelector","onConfirm","onCancel","calledOn","noActionBtns","_useSelector$data","_useSelector$data$tit","_useSelector$data$tex","text","confirmLabel","cancelLabel","useEffect","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","withReactRouterLink","Decorated","_React$Component","_getPrototypeOf2","_len","_key","resolveToLocation","path","history","createHref","handleClick","asyncToGenerator","regenerator_default","mark","_callee","event","_this$props","wrap","_context","next","preventDefault","stopPropagation","stop","_x","_this$props2","forwardedRef","match","staticContext","toLocation","assign","ref","React","WithRouter","withRouter","forwardRef","createSvgIconCustom","displayName","viewBox","Icon","SvgIcon","pure","muiName","sideIndex","0","1","handleChange","ev","execute","useTabsStyles","makeStyles","theme","indicator","background","useTabStyles","activeColor","palette","primary","main","root","minWidth","&$selected","common","white","&:hover","hover","selected","SideSwitch","className","tabsClasses","tabClasses","Box","bgcolor","Divider","Tabs","classes","onChange","textColor","Tab","fill","InputLoading","_ref$color","LinearProgress","LoadingSection","loading","display","flex","alignItems","ml","mr","CircularProgress","RRListItem","ListItem","RRAdexIconTxt","AdexIconTxt","ETH_SCAN_ADDR_HOST","useStyles","contrastText","activeBgColor","navigation","paper","sntPadding","paddingTop","navListRoot","secondary","flexDirection","justifyContent","navList","position","left","right","bottom","overflowY","overflowX","sideNavToolbar","padding","paddingLeft","borderTopWidth","borderTopColor","divider","borderTopStyle","&:focus","& .MuiListItemIcon-root","adxLink","hint","sideSwitch","marginBottom","spacing","icon","height","width","cursor","amount","fontSize","typography","pxToRem","SideNav","routerLocation","availableIdentityBalanceMainToken","flexGrow","spinners_LoadingSection","Typography","component","button","dashboard_SideSwitch","List","classnames","defineProperty","ListItemIcon","Dashboard_default","ListItemText","List_default","Fragment","CampaignIcon","Group_default","WebSharp_default","Receipt","MonetizationOn_default","target","HelpOutline_default","SwapHoriz_default","AccountBox_default","getFullYear","packageJson","ImgIcon","alt","style","marginRight","ButtonMenu","btnStyle","rightIcon","leftIconSrc","anchorEl","setAnchorEl","handleClose","leftIcon","ButtonMenuMui_ImgIcon","currentTarget","aria-haspopup","aria-controls","maxWidth","overflow","textOverflow","Menu","Boolean","getContentAnchorEl","transformOrigin","Children","child","cloneElement","Translate","_ref$isProp","_ref$args","getAuthLogo","AUTH_TYPES","METAMASK","metamaskLogo","TREZOR","trezorLogo","DEMO","demoLogo","styles","_drawerPaper","_content","marginTop","appBar","breakpoints","up","paddingRight","flexRow","flexBasis","paddingBottom","&:last-child","toolbarControls","toolbarTitle","toolbar","flexFlow","drawerPaper","content","default","marginLeft","down","contentInner","margin","breadcrumbElement","RRMenuItem","MenuItem","RRLink","Link","handleDrawerToggle","imgSrc","breadcrumbs","btnMenuLabel","formatAddress","AppBar","Toolbar","Hidden","mdUp","pl","Menu_default","smDown","Breadcrumbs","noWrap","pr","lib_default","diameter","seed","jsNumberForAddress","ButtonMenuMui","ExpandMore_default","caption","logOut","ExitToApp_default","MAX_IMG_LOAD_TIME","Img","handleToggle","componentWillReceiveProps","nextSrc","thisSrc","nextFallback","fallbackSrc","isVideoMedia","displayVideo","document","setDisplayVideo","image","fallback","NO_IMAGE","displayImage","Image","setDisplayImage","clearLoadTimeout","loadTimeout","clearTimeout","onFail","onerror","onload","onabort","bind","assertThisInitialized","videoSrc","onloadedmetadata","allowVideo","isVideo","VIDEO_IMAGE","Fab","fullscreenIcon","Fullscreen_default","renderFullscreenDialog","_this$state","dialog","dialogImageParent","draggable","dialogImage","imgLoading","onDragStart","autoPlay","muted","loop","controls","_this$props3","allowFullscreen","classNameImg","fullScreenOnClick","_this$state2","wrapper","img","fullScreenBtn","circular","withStyles","minHeight","@media(max-width:744px)","@media(max-height:823px)","@media(max-width:1080px)","maxHeight","objectFit","generalTableOptions","rowsPerPage","rowsPerPageOptions","setTableProps","align","textLabels","body","noMatch","toolTip","columnHeaderTooltip","column","pagination","previous","displayRows","downloadCsv","print","viewColumns","filterTable","reset","titleAria","selectedRows","delete","deleteAria","progress","MUIDataTableEnhanced","columns","options","dist_default","elevation","noSearch","download","noDownload","noPrint","selectableRows","rowSelectable","disableToolbarSelect","toolbarEnabled","responsive","mapStatusIcons","humanFriendlyStatus","xs","md","ls","waitIcon","HourglassFull_default","doneIcon","DoneAll_default","warningIcon","Warning_default","cashIcon","toLowerCase","cellImg","& > *","sliderFilterOptions","_ref$initial","initial","_ref$filterTitle","filterTitle","_ref$stepsCount","stepsCount","_ref$stepsPrecision","stepsPrecision","step","steps","precision","getSliderStep","filterType","customFilterListOptions","render","v","update","filterList","filterPos","filterOptions","names","logic","rowNumber","filters","formated","gutterBottom","pt","Slider","marks","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","valueLabelFormat","useTableData","selectorArgs","getColumns","setData","_useState3","_useState4","setColumns","selectedData","reloadData","useCallback","buttonProgress","ReloadData","handleReload","Tooltip","Refresh","PrintAllReceipts","handlePrintAllReceipts","receiptsSpinner","PRINTING_CAMPAIGNS_RECEIPTS","startIcon","Print","RRIconButton","RRImg","getCols","maxDeposit","customBodyRender","truncateString","commify","sortDirection","formatDate","formatDateTime","enterDelay","Visibility","getOptions","onDownload","buildHead","buildBody","mappedData","trim","customToolbar","customToolbarSelect","displayData","setSelectedRows","selectedIndexes","dataIndex","handlePrintSelectedReceiptsAdvertiser","CampaignsTable","campaignsLoaded","_useTableData","PropBaseComponent","inputRef","OutlinedPropView","py","FormControl","fullWidth","InputLabel","shrink","disableAnimation","OutlinedInput","notched","readOnly","inputComponent","inputProps","wordWrap","buttonSuccess","dark","fabProgress","zIndex","SaveBtn","spinner","_ref$dirtyProps","dirtyProps","save","Check","Save","card","mediaRoot","basicInfo","flexWrap","buttonRight","buttonLeft","textField","changesLine","changeChip","editIcon","mediaPropChip","changeControls","changeControlsPaper","borderColor","itemTabsBar","itemTabsContainer","borderTop","DirtyProps","returnPropToInitialState","react_router","when","message","Info","Chip","onDelete","deleteIcon","UndoOutlined","ChangeControls","hookProps","Collapse","Paper","itemCommonNew_DirtyProps","SaveBtn_SaveBtn","WALLET_ACTIONS_MSGS","msg","my","ItemTabsContainer","noBackground","ItemTabsBar","ItemSpecProp","prop","_ref4$value","helperText","InputProps","TextField","ItemTitle","errTitle","updateField","setActiveFields","_ref5$activeFields","activeFields","showError","errMsg","errMsgArgs","endAdornment","InputAdornment","Edit","ItemDescription","description","errDescription","_ref6$activeFields","maxLength","multiline","rows","ItemAdType","OpenInNewIconBtn","OpenInNew","IconButtonWithRef","itemCommonNew_OpenInNewIconBtn","ItemTargetURL","_ref9$targetUrl","targetUrl","ItemFallbackMediaURL","_ref10$targetUrl","MediaCard","_ref11$mediaUrl","_ref11$mediaMime","_ref11$label","Card","raised","CardMedia","img_Img","ItemWebsite","_ref12$item","_ref12$initialItemSta","initialItemState","_ref12$activeFields","dangerouslySetInnerHTML","__html","ArchiveItemBtn","_ref13$itemType","isIconBtn","onSuccess","goToTableOnSuccess","labelArgs","confirmAction","archiveItem","ArchiveSharp","useItem","objModel","validateAndUpdateFn","setInitialItemState","_useState5","_useState6","setFields","_useState7","_useState8","setDirtyProps","_useState9","_useState10","setValidateId","storeItem","params","field","validate","dirtyIndex","findIndex","newDirtyProps","dpValue","splice","fields","dp","updateMultipleFields","newValues","dirtyFields","Base","updateObject","errColor","&$active","stepperWrapper","pagePaper","textAlign","@media(max-width:475px)","mobileStepper","buttonProgressWrapper","errChip","& svg","StepperNav","currentPage","window","innerWidth","MobileStepper","activeStep","Stepper","alternativeLabel","page","Step","StepLabel","MaterialStepper","_props$initialPage","initialPage","_props$steps","closeDialog","setCurrentPage","isBack","setIsBack","canReverse","pageProps","Comp","validationFn","onValid","stepsId","completeFn","_page$completeBtnTitl","completeBtnTitle","dirtyErrors","dirtyErrs","getDirtyValidationErrors","validationSpinner","stepsSpinner","isValidPage","goToPage","nextStep","canGoBack","goToPreviousPage","_callee2","_context2","goToNextPage","_callee3","_context3","handleComplete","_callee4","_context4","onKeyPressed","_callee5","_context5","_x2","onKeyPress","mb","stepperNav","MaterialUiStepper_StepperNav","mt","Error_default","cancelFunction","FormSteps","stepperSteps","setSteps","_useSelector$step","updatedSteps","MaterialUiStepper","dialogTitle","contentBox","propRow","contentBody","contentTopLoadingCircular","flexShrink","contentTopLoading","& > div","textBtn","btnIconLeft","leftCol","textTransform","rightCol","progressCircleCenter","floating","breakLong","wordBreak","overflowWrap","hyphens","demoImg","demoBody","contentStickyTop","fullContentMessage","TextBtn","Transition","Slide","direction","WithDialogHoc","WithDialog","_props$disableBackdro","disableBackdropClick","iconButton","textButton","fabButton","btnLabelArgs","mini","btnLabel","dialogActions","onBeforeOpen","btnProps","ButtonComponent","btnLabelTranslated","first","second","TransitionComponent","disableTypography","Cancel_default","formControl","groupHeader","menuItem","whiteSpace","ExtraLabel","isArray","Dropdown","_props$label","_props$source","_props$htmlId","htmlId","_props$disabled","_props$error","_props$fullWidth","required","noSrcLabel","IconComponent","htmlFor","Select","ListSubheader","Dropdown_ExtraLabel","InfoSharp","FormHelperText","spinners_InputLoading","AdUnitBasic","typesSources","_useSelector2","errTargetUrl","errType","Grid","container","updateNewUnit","dropdown_Dropdown","getCroppedImgUrl","crop","fileName","canvas","scaleX","naturalWidth","scaleY","naturalHeight","sourceWidth","sourceHeight","getContext","drawImage","y","finalCanvas","bl","bctx","blur","floor","Promise","resolve","reject","toBlob","file","URL","createObjectURL","dropzone","border","imgDropzonePreview","dropzoneBtn","uploadActions","ImgForm","additionalInfo","aspect","imgRef","setImgRef","setCrop","cropMode","setCropMode","imgName","setImgName","mime","setMime","_useState11","_useState12","setImgSrc","onLoad","preventBubbling","nativeEvent","stopImmediatePropagation","onRemove","revokeObjectURL","tempUrl","saveCropped","croppedBlob","sent","imgForm","common_OutlinedPropView_OutlinedPropView","alignContent","sm","ReactCrop_min_default","imageStyle","onImageLoaded","Clear","dist_es","onDrop","acceptedFiles","rejectedFiles","objectUrl","uploadInfo","Crop","CloudUpload","AdUnitMedia","temp","errImg","_getWidAndHightFromTy","getWidAndHightFromType","ImgForm_ImgForm","mediaProps","PropRow","LocationOnIcon","WcIcon","ChildCareIcon","ContentBox","ContentBody","ContentStickyTop","TopLoading","subMsg","FullContentSpinner","FullContentMessage","_ref7$msgs","msgs","_ref7$color","strong","imgPreview","imgPreviewWrapper","AdUnitPreview","content_PropRow","CampaignUnits","selectedUnits","allAdUnits","allAdUnitsArray","hasAdUnits","Tables_AdUnitsTable","handleSelect","selectedItemsIds","newTemp","updateNewCampaign","noClone","noActions","NewItems_NewUnitDialog","CalendarIconAdor","_ref$icon","DateRange","iconColor","onIconClick","onLiveClick","onNextClick","NavigateNextRounded","Update","DateTimePicker","calendarIcon","onBackClick","_ref2$InputProps","roundHour","now","utils","DateTimePicker_CalendarIconAdor","startAdornment","NavigateBeforeRounded","datepickerContrastInput","datepickerContrastLabel","&$datepickerContrastLabelFocused","datepickerContrastLabelFocused","datepickerContrastUnderline","&:after","&:before","_ref3$InputProps","DateTimePicker_DateTimePicker","InputLabelProps","FormLabelClasses","focused","underline","isNumberString","MomentUtils","getTotalImpressions","dep","minBound","maxBound","CampaignFinance","invalidFields","validators","campaignPricingBounds","pricingBounds","_campaign$temp","maxChannelFees","maxDepositFormatted","useUtmTags","_temp$suggestedPricin","suggestedPricingBounds","IMPRESSION","useUtmSrcWithPub","GETTING_CAMPAIGNS_FEES","valueOf","errDepAmnt","errMin","pricingBounds_min","errMax","pricingBounds_max","errFrom","errTo","leader","follower","updatePricingBoundsImpression","newPricingBounds","impression","validateNumberString","itemCommonNew_ItemSpecProp","common_DateTimePicker_DateTimePicker","emptyLabel","inputVariant","disablePast","FormGroup","row","FormControlLabel","control","Checkbox","checked","NewItems_CampaignTargetingRules","WalletAction","FeesBreakdown","_ref2$breakdownFormat","breakdownFormatted","ExpansionPanel","square","ExpansionPanelSummary","expandIcon","ExpandMoreSharp","disablePadding","dense","subheader","feeAmount","deployFee","executeAction","txnsFee","sweepTxnsCount","sweepTxnsFeeAmount","AudiencePreview","_ref$audienceInput","_audienceInput$locati","subHeader","_audienceInput$catego","_audienceInput$publis","CampaignFormPreview","feesSpinner","openingSpinner","OPENING_CAMPAIGN","networkCongested","setNetworkCongested","_useSelector$targetin","targetingRules","_useSelector$audience","_useSelector$temp","feesFormatted","totalSpendFormatted","_ref$IMPRESSION","_audienceInput$inputs","_checkNetwork","checkNetworkCongestion","getCampaignActualFees","checkNetwork","FormsCommon_WalletAction","AlertTitle","FormsCommon_FeesBreakdown","includeIncentivized","disableFrequencyCapping","limitDailyAverageSpending","containers_AudiencePreview_AudiencePreview","StatusIcon","CheckSharp","ErrorSharp","createFilterOptions","AutocompleteWithCreate","initialValue","changeOnInputUpdate","setValue","Autocomplete","inputValue","onInputChange","filtered","selectOnFocus","getLimitTagsText","more","limitTags","groupBy","option","getOptionLabel","renderOption","freeSolo","renderInput","multiple","errorText","onInit","hideSelectedOnDisable","disableCloseOnSelect","_ref2$disabledSrcValu","disabledSrcValues","enableCreate","srcValue","getOptionDisabled","getOptionSelected","opt","Autocomplete_ExtraLabel","renderTags","getCustomizedTagProps","AdSlotBasic","websitesSrc","adTypesSource","minCPM","_newItem$title","_newItem$description","_newItem$website","_newItem$type","slotRulesInput","rulesInput","_rulesInput$inputs","allowAdultContent","autoSetMinCPM","UPDATING_SLOTS_DEMAND","errWebsite","updateSlotsDemandThrottled","updateNewSlot","Autocomplete_AutocompleteWithCreate","AdSlotMedia","_temp$useFallback","useFallback","errFallbackUrl","Switch","AudienceBasic","updateNewAudience","slider","markLabel","opacity","parameterIcon","PublicSharp","LocalOfferSharp","WebAssetSharp","MoreHorizSharp","Sources","_ref$source","collection","placeholder","_ref$target","actionType","currentApply","getApply","autocomplete_Autocomplete","openOnClick","_objectSpread2","updateTargetRuleInput","_objectSpread3","getMultipleActionsUsedValues","currentAction","Targets","_ref3$source","_ref3$extraInfo","_ref3$target","applyValue","RadioGroup","_clsx","Radio","clsx","NewTargetingRules_Sources","_clsx3","NewTargetingRules","tabIndex","setTabIndex","scrollButtons","indicatorColor","NewTargetingRules_Targets","getIssue","issue","RenderIssue","ALL_ISSUES","SLOT_ISSUE_BLACKLISTED","LooksOneSharp","shortLabel","SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED","LooksTwoSharp","SLOT_ISSUE_SOMEONE_ELSE_VERIFIED","Looks3Sharp","WebsiteVerifyBtn","lastUpdated","canUpdate","RefreshSharp","updateWebsiteVerification","timeAgo","WebsiteIssues","asKeyWords","tryAgainBtn","site","defaultIssues","WebsiteIssues_WebsiteVerifyBtn","_getIssue","WebsiteIssuesLegend","SlotFallback","AdSlotPreview","typeDemand","_temp$categories","suggestedMinCPM","AdSlotPreview_SlotFallback","CampaignTargetingRules","items_NewTargetingRules","AudienceRules","NewUnitStepsWithDialog","stepper_FormSteps","resetNewItem","validateIdBase","validateNewUnitBasics","validateNewUnitMedia","AdUnitFormPreview","completeItem","competeAction","saveUnit","imgLabel","noDefaultImg","itemModel","NewUnitDialog","copyProps","darkerBackground","FileCopy_default","NewCloneUnitDialog","NewCampaignStepsWithDialog","validateNewCampaignAdUnits","validateCampaignAudienceInput","onInvalid","validateNewCampaignFinance","openCampaign","imgAdditionalInfo","NewCampaignDialog","NewCampaignFromAudience","NewSlotStepsWithDialog","validateNewSlotBasics","validateNewSlotPassback","saveSlot","descriptionHelperTxt","NewSlotDialog","NewAudienceWithDialog","validateAudienceBasics","skipRules","validateAudienceInput","NewAudiencePreview","saveAudience","NewAudienceDialog","ImgComponent","AdUnitsTable_RRIconButton","NewItems_NewCloneUnitDialog","cloneItem","itemCommonNew_ArchiveItemBtn","onRowsSelect","rowsSelected","AdUnitsTable","_props$selected","itemsLoaded","setSelectorArgs","allRowsSelected","AdSlotsTable_RRImg","AdSlotsTable_RRIconButton","AdSlotsTable","RRTypography","setCellProps","setCellHeaderProps","AudiencesTable_RRIconButton","VisibilitySharp","NewItems_NewCampaignFromAudience","AudiencesTable","CHARTS_COLORS","CHARTS_COMMON_OPTIONS","tooltips","mode","cornerRadius","Helper","hexToRgbaColorString","merge","defaults","CampaignStatsDoughnut","_ref$maxDataSets","_ref$chartColors","react_chartjs_2_es","legend","animation","callbacks","datasetIndex","tableMeta","rowData","formatNumberWithCommas","IncludeOrExcludeWebsitesBtn","exclude","_ref2$hostnames","hostnames","excludeOrIncludeWebsites","endIcon","WebsitesActions","_ref3$hostnames","lg","CampaignStatsBreakdownTable_IncludeOrExcludeWebsitesBtn","BlockSharp","actionData","CampaignStatsBreakdownTable_WebsitesActions","CampaignStatsBreakdownTable","isActive","canSendMsgs","allowActions","dottedDivider","borderBottom","solidDevider","breakdownTable","breakAll","pageBreak","pageBreakAfter","a4","PublisherReceiptTpl","monthBreakdown","cpm","_useSelector3","companyName","firstLastName","country","unix","toHexString","substr","isFinite","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","RRButton","G404","PageNotFound","subtitle","goToTxt","goToPath","skipGoToButton","justify","PageNotFound_G404","IMG_404_1","IMG_404_2","CampaignReceiptTpl","campaignBreakdown","creator","page_not_found_PageNotFound","CompanyDetails","updateCompanyData","invoice","useRef","useParams","selectedCampaigns","selectedByPropsOrParams","receiptsAdvertiser","setStartDate","setEndDate","setDirty","dates","validateStartDate","validateEndDate","startDateError","endDateError","monthMappingStartPeriod","setDate","monthMappingEndPeriod","fetchingPublisherReceiptsSpinner","FETCHING_PUBLISHER_RECEIPTS","setReceipts","resetSelectedItems","Receipt_CompanyDetails","react_to_print_lib_default","pageStyle","trigger","DateRangeSharp","GetApp","getReceiptData","showEarnings","StatsByCountryTable","noViewColumns","MapChart","setContent","index_umd","data-tip","projection","projectionConfig","scale","maxZoom","geography","_ref2$geographies","geographies","geo","_geo$properties","rsmKey","onMouseEnter","onMouseLeave","stroke","outline","pressed","index_es","ALEX_GREY","TargetingRulesEdit","fieldName","stepTitle","updateCampaignAudienceInput","CampaignBasic","maxPerImpression","_ref4$advanced","_selectMainToken","isPaused","onlyShowIf","pauseAction","cpmMin","cpmMax","closeSpinner","pauseSpinner","itemCommonNew_MediaCard","_getCloseCampaignsFee","deposit","totalFees","sum","fee","feesPercent","mul","div","toNumber","nonDistributedFunds","sub","feesToPay","percent","toPay","nonDistributed","getCloseCampaignsFees","closeCampaign","StopSharp","pauseOrResumeCampaign","StarSharp","PauseSharp","itemCommonNew_ItemTitle","mapCurrentToNewCampaignAudienceInput","CampaignAudience","NewItems_NewAudienceDialog","commonDsProps","lineTension","pointRadius","pointHitRadius","FONT","DefaultLabel","_ref$label","SimpleStatistics","data1","data2","data3","data4","_ref2$data1Active","data1Active","_ref2$data2Active","data2Active","_ref2$data3Active","data3Active","_ref2$data4Active","data4Active","dataSynced","_ref2$defaultLabels","defaultLabels","_ref2$options","_ref2$xLabel","xLabel","_ref2$y1Label","y1Label","_ref2$y2Label","y2Label","_ref2$y3Label","y3Label","_ref2$y4Label","y4Label","_ref2$y1Color","y1Color","_ref2$y2Color","y2Color","_ref2$y3Color","y3Color","_ref2$y4Color","y4Color","nowLabel","windowSize","hasWindow","getWindowSize","innerHeight","setWindowSize","onResize","addEventListener","removeEventListener","useWindowSize","chartHeight","Chart","pluginService","register","beforeDraw","chart","ctx","tooltip","_active","controller","tooltipPosition","chartScalesy1","scales","topY","bottomY","beginPath","moveTo","lineTo","lineWidth","setLineDash","strokeStyle","GANDALF_GREY","restore","yAxisID","hidden","pointBackgroundColor","linesOptions","layout","annotation","annotations","scaleID","borderDash","enabled","fontFamily","maintainAspectRatio","intersect","titleFontSize","bodyFontSize","bodyFontFamily","titleFontFamily","xPadding","yPadding","bodySpacing","caretSize","displayColors","yLabel","formatFloatNumberWithCommas","xAxes","gridLines","drawBorder","drawTicks","scaleLabel","labelString","ticks","autoSkip","maxTicksLimit","maxRotation","callback","yAxes","beginAtZero","stepSize","plugins","ChartAnnotation","px","simplified_DefaultLabel","boxShadow","shadows","useStylesArrow","black","popper","&[x-placement*=\"bottom\"] $arrow","&::before","&[x-placement*=\"top\"] $arrow","&[x-placement*=\"right\"] $arrow","&[x-placement*=\"left\"] $arrow","arrow","borderStyle","ArrowTooltip","_useStylesArrow","_React$useState","_React$useState2","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","element","_ref$bgColor","bgColor","_ref2$bgColor","infoCard","linkCard","&:hover, &:focus","visibilityIcon","StatsCard","explain","dataVisible","VIcon","VisibilityOff","dayWrapper","day","customDayHighlight","borderRadius","nonCurrentMonthDay","highlightNonCurrentMonthDay","highlight","firstHighlight","extend","borderTopLeftRadius","borderBottomLeftRadius","endHighlight","borderTopRightRadius","borderBottomRightRadius","dayDisabled","pointerEvents","DatePicker","_this$props$InputProp","esm_DatePicker","DatePicker_CalendarIconAdor","dayIsFuture","DatePicker_DatePicker","isAfter","PeriodDatePicker","period","renderDay","selectedDate","dayInCurrentMonth","_clsx2","dateClone","makeJSDateObject","selectedDateClone","dayIsBetween","isWithinInterval","isFirstDay","isSameDay","isLastDay","wrapperClassName","dayClassName","shouldDisableDate","views","infoStatsContainer","dashboardCardBody","cardIcon","transform","datePicker","useKeyPress","targetKey","keyPressed","setKeyPressed","downHandler","upHandler","timeoutMap","hour","week","month","year","timeFrames","VALIDATOR_ANALYTICS_TIMEFRAMES","tf","metrics","PRIMARY","ACCENT_TWO","ACCENT_ONE","getDefaultLabels","DatePickerSwitch","_ref2$period","labelFunc","getPeriodLabel","minutesStep","BasicStats","SPACE","ARROW_LEFT","ARROW_RIGHT","isAuth","uiSide","setLoop","allChannelsLoaded","advAnalyticsLoaded","setData1Active","setData2Active","setData3Active","setData4Active","goNext","updateAnalyticsPeriodPrevNextLive","goPrev","goLive","live","updateAccountAnalyticsThrottled","analyticsLoopCustom","syncAction","_syncAction","t0","abrupt","updateIdSideAnalyticsChartTimeframe","BasicStats_DatePickerSwitch","updateIdSideAnalyticsChartPeriod","disableFuture","maxDateMessage","minDateMessage","strictCompareDates","DashboardStats_StatsCard","Mouse","esm_MonetizationOn","Equalizer","simplified_SimpleStatistics","CampaignStatsByTimeframe","_useItem","validateAndUpdateCampaign","dataLoaded","_item$status","updateMemoryUi","itemCommonNew_ItemTabsBar","itemCommonNew_ChangeControls","itemCommonNew_ItemTabsContainer","CampaignBasic_CampaignBasic","CampaignAudience_CampaignAudience","order","Tables_CampaignStatsBreakdownTable","campaigns_CampaignStatsDoughnut","map_MapChart","Tables_StatsByCountryTable","CampaignStatsByTimeframe_CampaignStatsByTimeframe","Receipt_Receipt","AdvertiserStats","imgProps","BestEarnersTable","_props$selector","_props$title","PublisherStats","Tables_BestEarnersTable","Unit","validateAndUpdateUnit","itemCommonNew_ItemDescription","itemCommonNew_ItemAdType","itemCommonNew_ItemTargetURL","PassbackEdit","updateSlotPasback","SlotAdvancedRules","_ref2$item","_ref2$activeFields","SlotEdits","mapCurrentToNewPassback","SlotBasic","_hookProps$validation","itemCommonNew_ItemFallbackMediaURL","SlotEdits_SlotEdits","SlotEdits_SlotAdvancedRules","itemCommonNew_ItemWebsite","ADVIEW_URL","adviewUrl","origin","protocol","host","AUTO_HIDE_STRING","integrationCode","alignSelf","IntegrationCode","_ref$slot","slot","tags","fallbackUnit","isEmailConfirmed","sizes","publisherAddr","whitelistedTokens","whitelistedType","randomize","marketSlot","encodeURIComponent","iframeStr","onCopy","addToast","copy","Slot","validateAndUpdateSlot","SlotBasic_SlotBasic","IntegrationCode_IntegrationCode","updateAudienceInput","_useItem$item","Audience_TargetingRulesEdit","mapCurrentToNewAudience","list","inline","Websites","disableSticky","WarningSharp","ListItemSecondaryAction","WithdrawFromIdentity","amountToWithdraw","withdrawTo","syncSpinner","_useSelector4","errAmount","errAddr","errFees","fees","updateNewTransaction","tx","WithdrawAnyTokenFromIdentity","tokenAddress","tokenDecimals","errTokenAddress","errTokenDecimals","IdentityPrivilegeLevel","PRIV_LEVELS_SRC","SeAddressPrivilege","setAddr","privLevel","warningAccepted","warningMsg","setAddrWarning","errPrivLvl","SetAccountENSPage","username","errUsername","IdentityWithdrawPreview","feesData","toGet","SetPrivilegePreview","SetENSPreview","IdentityWithdrawAnyPreview","A700","centralSpinner","TransactionPreview","previewWarnMsgs","txId","waitingForWalletAction","_useSelector2$feesDat","_useSelector2$errors","classNameLeft","classNameRight","previews_IdentityWithdrawPreview","previews_SetPrivilegePreview","previews_IdentityWithdrawAnyPreview","previews_SetENSPreview","FormStepsWithDialog","txCommon","resetNewTransaction","WithdrawTokenFromIdentity","saveBtnLabel","validateIdentityWithdraw","completeTx","identityWithdraw","SetIdentityPrivilege","validatePrivilegesChange","updateIdentityPrivilege","WithdrawAnyTokenFromIdentityPage","validateIdentityWithdrawAny","identityWithdrawAny","SetAccountENS","validateENSChange","setIdentityENS","VALIDATOR_LEADER_URL","VALIDATOR_LEADER_ID","VALIDATOR_FOLLOWER_URL","VALIDATOR_FOLLOWER_ID","AccountItem","actionBtn","advancedList","iconBtnLeft","AccountPrivilageItem","currUserPrivileges","canMakeTx","privileges","privColors","AccountInfo_AccountItem","VpnKey","Lock","transactions_SetIdentityPrivilege","identityAvailable","AccountInfo","_useSelector$authType","identityAddress","walletAddress","identityEnsName","expanded","setExpanded","transactions_SetAccountENS","AccountInfo_RRButton","CreditCard_default","transactions_WithdrawTokenFromIdentity","identityAvailableRaw","heading","transactions_WithdrawAnyTokenFromIdentity","copyBtn","userSelect","infoGrid","infoTitle","popupCenter","w","h","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","documentElement","clientWidth","screen","clientHeight","systemZoom","availWidth","newWindow","focus","RAMP_HOST_API_KEY","TRANSAK_API_KEY","TRANSAK_ENV","fiatProvidersDetails","accountId","dest","referenceId","destCurrency","openWyre","WYRE_LOGO","imgAlt","feeInfo","limitInfo","currencies","widget","RampInstantSDK","hostAppName","hostLogoUrl","swapAsset","userAddress","hostApiKey","domNodes","overlay","show","openOnRampNetwork","RAMP_LOGO","addr","rightSideLabel","openPayTrie","PAYTRIE_LOGO","transak","transakSDK","apiKey","environment","cryptoCurrencyList","defaultCryptoCurrency","disableWalletAddressForm","themeColor","redirectURL","hostURL","widgetHeight","widgetWidth","init","on","ALL_EVENTS","log","EVENTS","TRANSAK_ORDER_SUCCESSFUL","orderData","openTransak","TRANSAK_LOGO","cryptoProvidersDetails","CHANGELLY_LOGO","ProviderListItem","disableElevation","Providers","providersDetails","disableGutters","Ramp_ProviderListItem","FiatProviders","Ramp_Providers","CryptoProviders","TopUp","esm_FileCopy","pb","Ramp_FiatProviders","Ramp_CryptoProviders","getChangellyIframe","TopUpChangelly","widgetIframeHtml","useColorlibStepIconStyles","transition","completed","star","ColorlibConnector","DEFAULT_SIZE","line","backgroundSize","LINES_WIDTH","StepConnector","ColorlibStepIcon","backgroundImage","CheckCircle","createAdUnitTutorial","fundAccountTutorial","launchFirstCampaign","createAdSlot","placeAdSlot","mobile","stepper","instructions","expansionPanel","& .MuiExpansionPanelSummary-expandIcon","checkmark","getSteps","contentCompleted","EmailEddie","check","CreateEddie","tutorial","FundEddie","LaunchEddie","PlaceEddie","GettingStarted","stepsData","isGettingStartedHidden","setActiveStep","sideSteps","currentStep","indexOfFirstIncompleteStep","setGettingStartedExpanded","esm_ExpandMore","CheckCircleOutline","ExpansionPanelDetails","nextButton","KeyboardArrowRight","backButton","KeyboardArrowLeft","nonLinear","connector","StepButton","StepIconComponent","StepIconProps","Campaigns","NewItems_NewCampaignDialog","Add","Tables_CampaignsTable","AdUnits","AdSlots","NewItems_NewSlotDialog","Tables_AdSlotsTable","Audiences","Tables_AudiencesTable","Dashboard","mobileOpen","setMobileOpen","showTxPrivLevelWarning","_updateInitialData","loadAccountData","updateInitialData","stopAccountDataUpdate","resolveEnsAddress","updateNav","drawer","dashboard_SideNav","TopBar","Drawer","anchor","ModalProps","keepMounted","implementation","updatePrivilegesWarningAccepted","exact","Account","signinContainer","backgroundRepeat","backgroundPosition","require","buttons","adxVersion","adexLogoTop","logo","dialogPaper","noBg","backdrop","limitedWidthBtn","btnLogo","btnLogoNoTxt","metamaskBtn","trezorBtn","AuthSelect","wallets","setWallets","showRegistration","auth","getAllWallets","goTo","confirmLogout","toExecute","AuthSelect_RRButton","initIdentity","ConnectHoc","xl","ArrowDropDown_default","auth_select_AuthSelect","addrListItem","addrInfo","& strong","addrInfoLabel","fontWeight","&:first-child","tabsContainer","tabLogo","tabLabel","dlBtnImg","leftBtnIcon","AddrItem","balanceEth","tokensBalances","balance","AddressSelect","addresses","waitingAction","actionWaitingLabel","selectLabel","signType","hdWalletAddrPath","addrData","hdWalletAddrIdx","AuthMetamask","_useSelector$wallet","installingMetamask","setInstallingMetamask","isOpera","opr","opera","navigator","userAgent","isMetamaskEthereumProvider","setIsMetamaskEthereumProvider","waitingAddrsData","CHECKING_METAMASK_AUTH","ethereumProvider","getEthereumProviderName","setEth","onfocus","reload","tabBox","METAMASK_IMG","METAMASK_DL_IMG","metamaskLAbel","checkAuthMetamask","AuthTrezor","_useSelector$addresse","waitingTrezorAction","AUTH_WAITING_TREZOR_ACTION","AUTH_WAITING_ADDRESS_DATA","AuthCommon_AddressSelect","TREZOR_DL_IMG","connectTrezor","AuthMethod","method","ownerAuth_AuthMetamask","ownerAuth_AuthTrezor","knowFromSource","QuickInfo","sessionSpinner","CREATING_SESSION","walletMsgs","emailCheck","password","passwordCheck","tosCheck","knowFrom","moreInfo","updateIdentity","FulInfo","_identity$wallet","walletAddr","accessWarningCheck","QuickLogin","getIdentitiesForDropdown","ens","FullLogin","ownerIdentities","identityContractAddress","GETTING_OWNER_IDENTITIES","searchParams","updateOwnerIdentities","finalValidationQuick","validateQuickLogin","finalValidationStandard","validateStandardLogin","validateOwner","validateContractOwner","resetIdentity","RRSideBox","_ref$salePoints","salePoints","linkTitle","other","sideBox","point","SideSelect","BackdropProps","AdexAdvertiser","AdexPublisher","verticalAlign","&:hover:not(.disabled)","&.disabled","@media(max-width:425px)","& li","listStyle","vitalik","SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP","DialogHoc","esm_extends","ConnectedCreateQuickIdentity","JustDialog","validateQuickInfo","final","ConnectedQuickLogin","ConnectedLoginStandardIdentity","ConnectedCreateStandardIdentity","FullInfo","validateFullInfo","ConnectedRoot","PrivateRoute","handleLegacyWallet","migrateLegacyWallet","removeLegacyKey","ensureQuickWalletBackup","_initialChecks","getMetamaskEthereum","metamaskChecks","getRelayerConfig","handleRedirectParams","handleSignupLink","initialChecks","metamaskNetworkCheck","updateRegistrationAllowed","updateEasterEggsAllowed","react_router_dom","Root_PrivateRoute","onBeforeLift","App","ThemeProvider","themeMUI","CssBaseline","useUtils_cfb96ac9","DateUtils","es","store","integration_react","persistor","esm","CacheBuster","App_Root","toast_Toast","confirm_Confirm","ReactDOM","components_App_App","getElementById","serviceWorker","ready","then","registration","unregister","ADD_ITEM","UPDATE_ITEM","UPDATE_NEW_ITEM","RESET_NEW_ITEM","RESET_ALL_NEW_ITEMS","DELETE_ITEM","REMOVE_ITEM_FROM_ITEM","ADD_ITEM_TO_ITEM","UPDATE_ALL_ITEMS","RESET_ALL_ITEMS","SET_CURRENT_ITEM","UPDATE_CURRENT_ITEM","UPDATE_SPINNER","UPDATE_GLOBAL_UI","UPDATE_UI_BY_IDENTITY","UPDATE_UI_BY_IDENTITY_AND_SIDE","UPDATE_MEMORY_UI","ADD_TOAST","REMOVE_TOAST","CONFIRM_ACTION","UPDATE_NAV","CHANGE_LANGUAGE","UPDATE_ITEM_VALIDATION","RESET_ITEM_VALIDATION","UPDATE_NEW_BID","RESET_NEW_BID","UPDATE_SIGNIN","RESET_SIGNIN","CREATE_ACCOUNT","UPDATE_ACCOUNT","RESET_ACCOUNT","UPDATE_NEW_TRANSACTION","RESET_NEW_TRANSACTION","RESET_ALL_NEW_TRANSACTIONS","ADD_WEB3_TRANSACTION","UPDATE_WEB3_TRANSACTION","RESET_WEB3_TRANSACTION","UPDATE_ALL_BIDS","RESET_ALL_BIDS","ADD_NEW_TAG","UPDATE_IDENTITY","RESET_IDENTITY","UPDATE_WALLET","RESET_WALLET","UPDATE_RELAYER_CFG","UPDATE_ANALYTICS_TIMEFRAME","UPDATE_ANALYTICS","UPDATE_ADVANCED_ANALYTICS","RESET_ANALYTICS","UPDATE_CHANNELS_WITH_BALANCE_ALL","RESET_CHANNELS_WITH_BALANCE_ALL","UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE","RESET_CHANNELS_WITH_OUTSTANDING_BALANCE","UPDATE_DEMAND_ANALYTICS","UPDATE_SELECTED_ITEMS","UPDATE_RESOLVE_ENS_ADDRESS","UPDATE_ANALYTICS_PERIOD","UPDATE_PUBLISHER_RECEIPTS","RESET_SELECTED_ITEMS","UPDATE_ANALYTICS_LAST_CHECKED","UPDATE_TARGETING_ANALYTICS","isDemoMode","actions__WEBPACK_IMPORTED_MODULE_0__","services_store_data_campaigns__WEBPACK_IMPORTED_MODULE_1__","services_store_data_account__WEBPACK_IMPORTED_MODULE_2__","services_store_data_analytics__WEBPACK_IMPORTED_MODULE_3__","connected_react_router__WEBPACK_IMPORTED_MODULE_4__","skipRedirect","resetAccount","advancedAnalyticsLoop","campaignsLoop","statsLoop","resetAllItems","resetAllNewItems","resetAllBids","resetAnalytics","resetChannelsWithBalanceAll","resetChannelsWithOutstandingBalance","resetAllNewTransaction","_authType","getMediaSize","checkExactishAspect","video","videoWidth","videoHeight","getVideoSize","getImageSize","widthTarget","heightTarget","maxPercentTolerance","targetAspect","aspectDiff","abs","contracts","_build_Identity_json__WEBPACK_IMPORTED_MODULE_0__","_build_AdExCore_json__WEBPACK_IMPORTED_MODULE_1__","_build_Dai_json__WEBPACK_IMPORTED_MODULE_2__","_build_IdentityFactory_json__WEBPACK_IMPORTED_MODULE_3__","_abi_AdExENSManager_json__WEBPACK_IMPORTED_MODULE_4__","_abi_ReverseRegistrar_json__WEBPACK_IMPORTED_MODULE_5__","_abi_ERC20Token_json__WEBPACK_IMPORTED_MODULE_6__","Identity","abi","AdExENSManager","publicResolver","ReverseRegistrar","parentDomain","AdExCore","DAI","Dai","IdentityFactory","ERC20","_MomentUtils","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","clone","isBetween","ammount","unit","minutes","hours","weeks","years","utcOffset","offset","sign","Intl","DateTimeFormat","resolvedOptions","timeZone","locale","localeData","_ref2$locale","dow","doy","defaultLocaleData","getLocaleDate","updateLocale","firstDayOfWeek","firstDayOfYear","span","getHours","spanStartHour","withSpanStartHour","setHours","formatString","isMoment","getTime","ethers_utils__WEBPACK_IMPORTED_MODULE_0__","timestamp","noDateLabel","amountString","pretty","joinSymbol","substring","parts","number","decPlaces","pow","abbrev","round","string","adex_constants__WEBPACK_IMPORTED_MODULE_0__","ItemsConstants","ItemsTypes","AdTypesByValue","AdSizesByValue","Looper","_ref$loopName","loopName","stopOn","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","clearLoopTimeout","loopTimeout","syncData","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","makeStopCheck","startLoop","checkLoop","onSync","_x3","Error","analyticsLoop","Loop","updateAccountAnalytics","_syncAction3","_syncAction4","updateAccountAdvancedAnalytics","BID_STATES","ExchangeConstants","TIMEOUTS","SignatureModes","READONLY","GETH","limit","GRANT","QUICK","SEED","ETHEREUM_NETWORKS","for","5","production","development","UTM_PARAMS","utm_source","utm_medium","utm_campaign","utm_content","VALIDATOR_ANALYTICS_METRICS","VALIDATOR_ANALYTICS_EVENT_TYPES","MOON_GRAVITY_ACCELERATION","MOON_TO_EARTH_WEIGHT","_WALLET_ACTIONS_MSGS","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","EXECUTE_ACTIONS","withdraw","privilegesChange","ensChange","QUICK_WALLET_BACKUP","UPLOADING_ACCOUNT_DATA","UPDATING_ACCOUNT_IDENTITY","UPDATING_TARGETING_DATA","crypto","getKeyHash","hash","createHash","digest","encrypt","iv","cipher","encr","encrypted","randomBytes","createCipheriv","Buffer","decrypt","textParts","encryptedText","decipher","decr","decrypted","shift","createDecipheriv","_x4","encryptLegacy","crypted","createCipher","_x5","_x6","decryptLegacy","dec","createDecipher","_x7","_x8","signin","passConfirm","publicKey","seedCheck","authenticated","plainObj","addUtmLink","currentItem","Website","web3Transactions","ethNetwork","networkId","gasData","market","history__WEBPACK_IMPORTED_MODULE_0__","createHashHistory","listen","gtag","page_path","LOOP_TIMEOUT","updateUserCampaigns","accountStatsLoop","updateAccountStats","Anchor","externalIcon","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__","isExternal","getUrl","linkProps","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","rel","react__WEBPACK_IMPORTED_MODULE_4___default","_material_ui_core_esm_Link__WEBPACK_IMPORTED_MODULE_0__","_material_ui_icons_esm_OpenInNew__WEBPACK_IMPORTED_MODULE_1__","ExternalAnchor","getErrorMsg","updateSpinner","updateGlobalUi","category","updateInitialDataLoaded","loaded","updateUiByIdentity","updateIdentitySideUi","_ref$timeout","getGuid","toastId","_ref2$confirmLabel","_ref2$cancelLabel","_ref2$title","_ref2$text","_ref2$noCancel","noCancel","_ref2$noConfirm","noConfirm","changeLanguage","updateSelectedItems","updateSelectedCampaigns","refreshCacheAndReload","caches","notifyNewTOS","grant","selectedIdentity","accepted","periodStart","_getTimePeriods","getTimePeriods","callEnd","_ref7$next","_ref7$live","_selectAnalyticsMinAn","_selectIdentitySideAn","startIsLive","getBorderPeriodStart","isEthAddressERC20","provider","contract","_args","isEthAddress","getEthers","ethers","Contract","ERC20TokenABI","totalSupply","balanceOf","AddressZero","allowance","isConnectionLost","eth","race","getBlockNumber","passwordRegex","validPassword","getAddress","isEthAddressZero","isZero","validEthAddress","_ref$addr","nonZeroAddr","nonERC20","_ref$quickCheck","quickCheck","ethAddressZero","ethAddressERC20","freeAdExENS","_ref3$username","ensAddress","resolveName","code","handleRequesterErrorRes","res","textObj","_unused","statusText","requester","AdexNodeRequester","baseUrl","getAuthHeaders","authSignature","X-User-Signature","noCacheHeaders","Cache-Control","Expires","Pragma","base","route","fetch","_ref4$route","_ref4$queryParams","queryParams","_ref4$method","_ref4$headers","headers","_ref4$authSig","userAddr","_ref4$noCache","authToken","noCache","qp","demo","getQuery","hdrs","Requester","processResponse","json","getOwnerIdentities","getIdentityData","getRelayerConfigData","executeTx","txnsRaw","signatures","channel","Content-Type","regAccount","bytecode","identityFactoryAddr","baseIdentityAddr","salt","routineAuthorizationsRaw","getQuickWallet","backupWallet","encryptedWallet","getEmail","campaignPut","schemas","validateAddress","isValid","updateValidationErrors","newErrors","resetValidationErrors","_ref4$err","_ref4$dirty","_ref4$removeAll","removeAll","handleAfterValidation","validateEmailCheck","validatePassword","_x9","validatePasswordCheck","_callee6","_context6","_x10","_x11","validateTOS","_callee7","_context7","_x12","_x13","validateENS","_callee8","_context8","_x14","validateWallet","_callee9","_context9","_x15","_x16","validateIdentityContractOwner","identityContractOwner","_callee10","_context10","_x17","_x18","validateKnowFrom","_callee11","_context11","_x19","_x20","validateMoreInfo","_callee12","_context12","_x21","_x22","validateAccessWarning","_callee13","_context13","_x23","_x24","validateCampaignUnits","_callee14","_context14","_x25","_x26","validateCampaignValidators","_callee15","_context15","feeNum","feeDen","feeAddr","_x27","_x28","validateAmounts","_ref24$maxDeposit","lt","lte","validateFees","feesAmountBN","amountToSpendBN","_ref25$errorMsg","errorMsg","_callee16","_selectAccountStatsRa","availableIdentityBalanceMainTokenRaw","_selectAccountStatsFo","availableIdentityBalanceMainTokenFormatted","amountNeeded","amountNeededFormatted","_context16","_x29","_x30","validateWithdrawAmount","_callee17","_context17","parseUnits","_x31","integerOnly","_callee18","_context18","_x32","_x33","validateCampaignAmount","_callee19","isValidNumber","isValidDeposit","isValidMin","_context19","_x34","_x35","getCampaignDatesValidation","_ref33$created","validateCampaignDates","_callee20","_context20","_x36","_x37","validateCampaignTitle","_ref37","_callee21","_context21","Joi","_x38","_x39","validateEthAddress","_ref38$nonZeroAddr","_ref38$nonERC","_callee22","_context22","_x40","_x41","validatePrivilegesAddress","_ref41$setAddr","_ref41$walletAddr","_callee23","isCurrentAddress","_context23","_x42","_x43","validatePrivLevel","_callee24","_context24","_x44","_x45","validateSchemaProp","schema","_callee25","_context25","_x46","validateEmail","validateNotExisting","_callee26","existing","_context26","_x47","locationAudienceInputError","publishersAudienceInputError","categoriesAudienceInputError","_ref51$apply","validateAudience","propName","_callee27","errArgs","_context27","_x48","validateMediaSize","mediaWidth","mediaHeight","dontThrow","getSession","signature","typedData","signerAddress","checkSession","skipErrToast","convertItemToJSON","itemToConvert","getAdUnits","postAdUnit","updateAdUnit","getAdSlots","postAdSlot","updateAdSlot","closeCampaignMarket","getCampaigns","statuses","byEarner","byCreator","cacheBrake","updateCampaign","verifyWebsite","websiteUrl","getUserAudiences","putAudience","audience","postAudience","genders","Genders","gender","PredefinedTags","tag","_id","custom","toastStr","AddToastUi","getImgsIpfsFromBlob","resp","blob","imgBlob","imageBlob","_ref3$imageName","imageName","formData","FormData","append","uploadImage","getAllItems","onDataUpdated","resUnits","resSlots","resAudiences","userSlots","userPassbackUnits","slotsWithUnits","slotWithUnitsRes","passbackUnits","passbacks","updateItems","updateItem","_ref7$action","_ref7$goToTableOnSucc","updatedItem","marketUpdate","t1","findSourceByTag","response","mediaURL","mediaSize","targets","t2","setCurrentItem","updateCurrentItem","newMeta","addNewTag","addSig","sig","expiryTime","_ref$identity","getSig","_ref2$addr","_ref2$identity","sigAndTIme","DEFAULT_HD_PATH","TrezorConnect","manifest","appUrl","TrezorSigner","getAddsParams","_ref$from","_ref$to","bundle","showOnTrezor","getAddresses","_ref3$from","_ref3$to","payload","ethereumGetAddress","signTx","txProps","txSigned","resolveProperties","hexlify","ethereumSignTransaction","transaction","serializeTransaction","sendTransaction","txData","signMessage","_args4","ethereumSignMessage","hex","_provider","_path","Signer","LocalSigner","getWallet","_this$_opts","walletData","_wallet","_opts","getLocalWallet","Wallet","privateKey","signetTx","_args5","arrayify","MetaMaskSigner","_signer","_args3","t3","getSigner","_getSigner","signer","_signer2","getTypedDataHash","entry","toUtf8Bytes","valuesHash","keccak256","schemaHash","solidityKeccak256","getAuthSig","_getAuthSig","random","MAX_SAFE_INTEGER","_signTx","Transaction","hashHex","splitSig","getMultipleTxSignatures","_getMultipleTxSignatures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","getValidatorRequester","getRequesters","validator","getValidatorAuthToken","validatorId","existingAuth","validatorAuthTokens","era","ewt","sendMessage","_authTokens","_getRequesters","followerAuthToken","leaderAuthToken","followerResult","leaderResult","authorization","results","authTokens","lastApprovedState","events","updateTargeting","identityAnalytics","leaderAuth","segmentByChannel","weekHoursSpan","aggregates","timezone","getCurrentTimezone","identityAdvancedAnalytics","timeBasedAnalytics","privilegesNames","valueToKey","tokenAvailableBalance","feeToken","getTotalAccountRevenue","withdrawTokens","revenuePr","balanceMainToken","tokenInMainTokenValue","getWithdrawTokensBalances","getFullBalances","getToken","_selectRelayerConfig","balancesCalls","balances","_balances$reduce","totalBalanceInMainToken","mainTokenBalance","tokenContract","available","balanceData","getAddressBalances","_getAddressBalances","calls","getBalance","serializedPath","formatEther","getAccountStats","_getAccountStats","_ref11$outstandingBal","outstandingBalanceMainToken","getIdentity","_identity$status","identityContract","privilegesAction","_ref22$","identityWithdrawTokensBalancesBalances","walletPrivileges","deployed","catch","totalOutstandingBalanceMainToken","totalIdentityBalanceMainToken","walletAuthType","getOutstandingBalance","_getOutstandingBalance","withBalance","bigZero","allOutstanding","amounts","ch","outstanding","outstandingAvailable","getAllValidatorsAuthForIdentity","_getAllValidatorsAuthForIdentity","allValidators","tokenCalls","allTokens","validatorsAuth","saiDaiConversion","valueInMainTokenConversions","0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359","0x6b175474e89094c44da98b954eedeac495271d0f","_tokenInMainTokenValue","_selectMainToken2","valueInMainToken","Interface","ScdMcdMigration","ScdMcdMigrationABI","AdExENSManagerInterface","ReverseRegistrarInterface","SCD_MCD_MIGRATION_ADDR","getIdentityDeployData","_getIdentityDeployData","_ref$relayerRoutineAu","relayerRoutineAuthValidUntil","relayerAddr","coreAddr","outpace","validUntil","feeTokenAddr","feeTokenAmount","getProxyDeployBytecode","privSlot","routineAuthsSlot","routineAuthorizations","RoutineAuthorization","solc","generateAddress2","withdrawFromIdentity","_withdrawFromIdentity","getFeesOnly","tokenAddr","toWithdraw","withdrawTx","txnsByFeeToken","mtBalance","maxWithdraw","actualWithdrawAmount","functions","transfer","encode","getIdentityTxnsWithNoncesAndFees","amountInMainTokenNeeded","getIdentityTxnsTotalFees","totalBN","processExecuteByFeeTokens","setIdentityPrivilege","_setIdentityPrivilege","MainToken","identityInterface","tx1","setAddrPrivilege","txnsByTokenWithSaiToDaiSwap","daiAddr","_txns$reduce","withdrawAmountByToken","saiWithdrawAmount","addIdentityENS","_addIdentityENS","_ref5$username","tx2","_selectRelayerConfig2","registerAndSetup","setName","_getIdentityTxnsWithNoncesAndFees","_ref6$amountInMainTok","_ref6$executeAction","_ref6$txns","saiToken","_selectRelayerConfig3","mainTokenWithFees","isDeployed","initialNonce","baseFee","mainTxnsFees","feesForMainTxns","totalAmountInMainTokenNeeded","_ref17$sweepTxns","sweepTxns","_ref17$swapAmountsByT","swapAmountsByToken","sweepTxnsByToken","otherTxnsByToken","saiSwapAmount","allFeeTokens","currentNonce","getCode","nonce","executeBaseFee","minRecommended","minDeploy","getSweepingTxnsIfNeeded","t4","swapSaiToDaiTxns","swapAmount","t5","t6","_tx$routinesSweepTxCo","routinesSweepTxCount","_tx$extraTxFeesCount","extraTxFeesCount","isSweepTx","isDeployTx","txFeeAmount","addBaseFee","sweepRoutinesFeeAmount","extraFeesAmount","nonIdentityBalanceFeeAmount","feesBreakdown","txWithNonce","getApproveTxns","_getApproveTxns","approveForAddress","approveAmount","approveTxns","approve","swapTx","swapSaiToDai","_getIdentityTxnsTotalFees","_ref9$mainToken","_Object$values$reduce","byToken","totalBreakdown","byTokenFormatted","byFeeToken","txnsCount","_feeTokenWhitelist$ke","feeFormatted","_processExecuteByFeeTokens","_ref10$extraData","withdrawOtherTokensFromIdentity","_withdrawOtherTokensFromIdentity","_selectRelayerConfig4","Core","IdentityInterface","IdentityABI","VALID_UNTIL_COEFFICIENT","VALID_UNTIL_MIN_PERIOD","OUTSTANDING_STATUSES","Active","Ready","Exhausted","Offline","Unhealthy","Withdraw","EXTRA_PROCESS_TIME","toEthereumChannel","specHash","Channel","tokenAmount","userInputToTokenValue","input","_ref$divider","getReadyCampaign","newCampaign","getValidUntil","eventSubmission","allow","uids","rateLimit","getWithdrawnPerUserOutstanding","withdrawnPerUser","getChannelsWithOutstanding","_getChannelsWithOutstanding","allChannels","lastApprovedBalances","lastApprovedSigs","validBalances","_e","_channel$status","bTree","BalanceTree","balanceNum","getChannelsToSweepFrom","amountToSweep","_ref6$withBalance","_withBalance$sort$red","eligible","c1","c2","getChannelWithdrawData","ethChannelTuple","proof","getProof","vsig1","vsig2","mTree","getRoot","getSweepExecuteRoutineTx","routineAuthTuple","routineOpts","RoutineOps","channelWithdraw","executeRoutines","getIdentityRoutineAuthTuple","is41identity","hasValidExecuteRoutines","getSweepChannelsTxns","_getSweepChannelsTxns","channelsToSweep","encodedTxns","toSolidityTuple","getSwapAmountsByToken","swaps","swapsSumInMainToken","swapsByToken","_getSweepingTxnsIfNeeded","needed","_account$stats$raw$id","currentBalanceInUse","sweepData","_getSwapAmountsByToke","amountToSwapInMainToken","openChannel","_openChannel","getMaxFees","readyCampaign","openReady","ethChannel","hasIdentityChannelOpen","identityChannelOpenTx","channelOpenTx","maxAvailable","maxAvailableFormatted","storeCampaign","channelOpen","closeChannel","_closeChannel","getUnitsStatsByType","_getUnitsStatsByType","unitsByType","unitsByTypeStats","prevStats","channelsByType","totalPerImpression","avgPerImpression","statsByType","analyticsParams","callsParams","DEFAULT_WEEK_HOURS_SPAN","analyticsCampaignsParams","aggrByChannelsSegments","_aggr$sort$reduce","aggregations","currentAggr","currentChannelValue","currentTimeValue","throttle","feeTokens","accountChanged","timeframeIsLive","allAnalytics","updateAnalyticsLastChecked","updateValidatorAuthTokens","newAuth","_selectStatsChartData","aggrByChannelSegments","fillAfterLast","fillEmptyTime","isAccountChanged","leading","trailing","presentMonths","monthsWanted","monthsNeeded","promises","startDateNeeded","endDateNeeded","resolvedPromises","getMonthTimeStamp","updateSlotsDemand","demandAnalytics","updateTargetingData","updateTargetingDataThrottled","updateSignin","resetSignin","createAccount","updateAccount","updateChannelsWithBalanceAll","updateChannelsWithOutstandingBalance","hasAuth","accountCheck","updateAccountIdentityData","updatedIdentity","isLimitedVolume","newIdentity","newTokens","createSession","_ref8$identity","deleteLegacyKey","newWallet","sessionSignature","leaderValidatorAuth","cfg","isMetamaskMatters","doesItMatter","onMetamaskNetworkChange","onMetamaskAccountChange","accountAddress","_account$wallet","_account$wallet$addre","metamaskAccountCheck","selectedAddress","getMetamaskSelectedAddress","ethereumNetworkId","ethereum","accounts","chainId","hasBackup","generateSalt","getWalletHash","makeBackup","walletSalt","walletHash","getRecoveryWalletData","_selectWallet","isLocal","beforeWeb3","updateWallet","resetWallet","onUploadLocalWallet","reader","onError","files","FileReader","obj","abort","readAsText","identityData","lookupAddress","login","_selectIdentity","identityTxData","registerAccount","actualAuthType","walletInfo","identityPrivileges","identityDataSplit","validateFullDeploy","skipSpinnerUpdate","validateQuickDeploy","_identityAddr","createLocalWallet","addDataToWallet","dataKey","dataValue","updateIdentityWallet","metamaskSigner","trezorSigner","allAddressesData","updateNewBid","bidId","resetNewBid","updateBids","advBids","pubBids","bidsById","getGasPrice","gasPrice","showToast","gasPriceCapGwei","addWeb3Transaction","updateWeb3Transaction","resetWeb3Transaction","_selectNewTransaction","inputValidations","validation","_selectNewTransaction2","_selectNewTransaction3","_selectNewTransaction4","getErrMsg","updateNewItem","updateNewItemAction","Models","itemClassByName","updateNewItemTarget","_ref7$target","remove","_newValues","_selectNewItemByTypeA","hasIndex","isInteger","_ref9$target","isAudience","newInputs","audiencePost","audiencePut","validateAndUpdateAudience","updatedAudience","newAudience","resItem","marketAdd","_selectNewAudience","_selectNewAudience$in","addUrlUtmTracking","audienceInputToTargetingRules","getSuggestedPricingBounds","updateCampaignOnMarket","toastLabel","toastArgs","toastType","updatedCampaign","selectedCampaign","updateCampaignState","getHumanFriendlyName","initialAudienceInput","itemAudienceInput","_selectAccount","currentTargetingRules","newRules","unshift","newAudienceInput","_newAudienceInput$inp","_inputs$publishers","newIn","_newIn","newNin","_newNin","_newNin2","roastArgs","tempValidators","_selectNewCampaign","_selectNewCampaign$au","pricingBoundsInTokenValue","_campaign$temp2","totalSpend","isAudienceUpdated","_selectMainToken3","_state","numStringCPMtoImpression","numStr","getImgObjectUrlFromExternalUrl","imgUrl","adSlotPost","adUnitPost","adSlotPut","slotRulesInputToTargetingRules","getFallbackUnit","imageIpfs","resUnit","passback","_slot$minPerImpressio","_ref4$inputs","_selectNewItemByTypeA2","isDirty","onValidProp","_selectNewItemByTypeA3","newSlot","updateMinPerImpression","updateRules","rulesCPM","isPassbackUpdated","fallbackData","newUnit","finalValidations","updatedSlot","adUnitPut","_selectNewAdUnit","_selectNewAdUnit2","_selectNewAdUnit2$tem","updatedUnit","uiActions","validationActions","mediaValidations","itemActions","accountActions","identityActions","bidActions","transactionActions","analyticsActions","newItemsActions","audienceActions","campaignActions","slotActions","unitActions","setLogLevel","getEthersResult","adexCore","getAdexCore","standard","getMainToken","identityFactory","getIdentityFactory","localWeb3","providers","JsonRpcProvider","loadInjectedWeb3","detectEthereumProvider","isMetaMask","request","connectMetaMask","injectedWeb3Provider","Web3Provider","getLocalWeb3Provider","networkVersion","updateCfg","newCfg","persistReducers","newState","filterActions","newCollection","collectionId","Item","addItem","toAdd","newCol","removeCollectionProp","toRemove","newItems","currentItems","newLang","setLang","newTx","newAddrTxs","pendingTxs","updatePendingTxs","pTxs","updateObj","txHash","memoryReducers","newSignin","newToast","added","hasOwnProperty","updateTx","reduxRouterMiddleware","routerMiddleware","persistConfig","storage","rootReducer","combineReducers","persistCombineReducers","connectRouter","configureStore","middlewares","thunk","createStore","compose","applyMiddleware","persistStore","store_store","store_persistor","light","lightest","accentOne","accentTwo","lime","contrastThreshold","tonalOffset","disabledBackground","defaultTheme","createMuiTheme","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","overrides","MuiButton","outlined","contained","@media (hover: none)","&$focusVisible","&:active","MuiTableCell","head","MuiPaper","rounded","MuiTooltip","MuiSelect","MuiInputLabel","MuiOutlinedInput","MuiAlert","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","MuiTableFooter","MuiAppBar","colorDefault","MUIDataTablePagination","MUIDataTableFilter","MuiGridListTile","MUIDataTableBodyCell","stackedCommon","MUIDataTable","MUIDataTableBody","emptyTitle","responsiveFontSizes","factor","translations_translate","translations","adexTranslations","_ref$toUpperCase","translation","tpl","pattern","RegExp","interpolated","isValidElement","interpolate","lng","bg-BG","de-DE","en-US","es-ES","fr-FR","hr-HR","hu-HU","it-IT","nl-NL","pt-BR","pt-PT","ru-RU","se-SE","sr-RS","zh-CN","onlyTranslated","HEADER","base64","alg","payloadEncoded","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","sigBuf","verify","verifyMessage","decode","Module","alpha","hexToDec","g","stack","isInt","int","shuffleArray","array","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","prefix","getRandomInt","maxDaysPast","maxDaysAhead","initialMoment","performance","TYPE_RELOAD","pbkdf2Async","pass","iterations","keylen","digiset","encoding","pbkdf2","derivedKey","getCipherKey","isLegacyCrypto","getRandomMnemonic","randomEntropy","HDNode","entropyToMnemonic","generateWallet","_generateWallet","mnemonic","fromMnemonic","encrKey","encrData","_encrData","_ref3$email","isLegacy","jsonData","legacyEncrypted","decrData","_decrData","_ref4$email","decryptedStr","_createLocalWallet","_ref5$email","_ref5$password","_ref5$authType","_migrateLegacyWallet","_ref6$email","_ref6$password","newKey","getEncrypted","_removeLegacyKey","_ref7$email","_ref7$password","_addDataToWallet","_ref8$email","_ref8$password","_ref8$dataKey","_ref8$dataValue","_getRecoveryWalletData","_getLocalWallet","walletKeys","decrypts","decryptedData","decryptedWallet","mail","isWallet","_getWalletHash","passwordId","dataStr","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","selectors__WEBPACK_IMPORTED_MODULE_2__","_package_json__WEBPACK_IMPORTED_MODULE_3__","actions__WEBPACK_IMPORTED_MODULE_4__","semverGreaterThan","versionA","versionB","versionsA","versionsB","isNaN","cache","latestVersion","latestTOS","currentVersion","currentTOS","tosVersion","MONTH","YEAR","prevAggr","defaultValue","interval","newAggr","initialTime","endTime","prevAggrInInterval","lastWithValueTime","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","isNullValue","_home_paunov_git_adex_platform_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","startCopy","borderStart","_ref4$next","_ref4$startIsLive","limitedStart","isBefore","startOfWeek","addWeeks","startOfYear","addYears","TIME_INTERVALS","ms","since","intervalTimes","periodEnd"],"mappings":"sHAIaA,EAA0BC,YACtCC,IACAC,KAGYC,EAAqCH,YACjDC,IACA,eAACG,EAADC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAK,GAAIG,EAATH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAa,GAAb,OAAoBD,EAAEE,SAAWE,EAAEF,wBCPvBG,EAAsB,SAAAC,GAClC,OAAQA,GAASC,eAAYC,QAAQC,OAAOC,SAqChCC,EAA0BC,YACtC,CAACP,GACD,SAAAQ,GACC,OAD0BA,EAAxBC,kBACuBC,OAAO,SAACC,EAAKC,GACrC,IAAMC,EAAMC,OAAAC,EAAA,EAAAD,CAAA,GAAQH,GAGpB,OAFAE,EAAOD,EAAEI,SAAWJ,EAEbC,GACL,MAIQI,EAA8BV,YAC1C,CAACP,GACD,SAAAkB,GACC,OAD8BA,EAA5BC,sBAC2BT,OAAO,SAACC,EAAKC,GACzC,IAAMC,EAAMC,OAAAC,EAAA,EAAAD,CAAA,GAAQH,GAGpB,OAFAE,EAAOD,EAAEI,SAAWJ,EAEbC,GACL,MAIQO,EAAuCb,YACnD,CAACP,GACD,SAAAqB,GACC,OAD8BA,EAA5BF,sBAC2BG,IAAI,SAAAV,GAAC,OAAIA,EAAEI,YAY7BO,GARehB,YAC3B,CAACP,GACD,SAAAwB,GAEC,OADSV,OAAAC,EAAA,EAAAD,CAAA,GAAQU,KAKYjB,YAC9B,CAACP,GACD,SAAAyB,GAAA,OAAAA,EAAGC,WAA6B,MAGpBC,EAA6BpB,YACzC,CAACP,GACD,SAAA4B,GAAA,OAAAA,EAAGC,uBAGSC,EAAoBvB,YAChC,CAACP,GACD,SAAA+B,GAAA,OAAAA,EAAGC,cAGSC,EAAiB1B,YAC7B,CAACP,EAAqBiB,GACtB,SAAAiB,EAAcf,GAAd,OAAwCA,EAAxCe,EAAGC,WAGSC,EAAqB7B,YACjC,CAACP,EAAqBM,GACtB,SAAA+B,EAAgB5B,GACf,OAAOA,EAD8B4B,EAAnCX,UACiCV,2BCpGxBsB,EAAgB,SAAArC,GAAK,OAAIA,EAAME,QAAQoC,SAAW,IAClDC,EAAiB,SAAAvC,GAAK,OAAIA,EAAMwC,OAAOC,UAEvCC,EAAapC,YACzB+B,EACA,SAAA9B,GAAA,IAAGoC,EAAHpC,EAAGoC,OAAQC,EAAXrC,EAAWqC,SAAX,QACGD,KACAA,EAAO5B,WACP4B,EAAOE,WACPF,EAAOG,YACPF,EAAS7B,UAGAgC,EAAe1D,EAC3BgD,EACA,SAAApB,GAAA,OAAAA,EAAG0B,QAAuB,KAGdK,EAAc1C,YAC1B+B,EACA,SAAAjB,GAAA,OAAAA,EAAG6B,QAQSC,GALsB5C,YAClC0C,EACA,SAAAC,GAAK,OAAOA,EAAQA,EAAME,MAAM,KAAK,GAAK,OAGd7C,YAC5ByC,EACA,SAAAvB,GAAA,OAAAA,EAAGqB,WAGSO,EAAsB9C,YAClCyC,EACA,SAAApB,GAAA,OAAAA,EAAGZ,UAGSsC,EAAiB/C,YAC7ByC,EACA,SAAAjB,GAAA,OAAAA,EAAGgB,WAGSQ,EAAwBhD,YACpC+B,EACA,SAAAJ,GAAA,OAAAA,EAAGW,UAA2B,KAGlBW,EAA4BjD,YACxCgD,EACA,SAAAlB,GAAA,OAAAA,EAAGrB,UAGSyC,EAAqBlD,YACjC+B,EACA,SAAAoB,GAAA,OAAAA,EAAGC,OAAqB,KAQZC,GALwBrD,YACpC+B,EACA,SAAAuB,GAAA,OAAAA,EAAGC,UAA2B,KAGMvD,YACpCkD,EACA,SAAAM,GAAA,OAAAA,EAAGC,KAAiB,MAGRC,EAA8B1D,YAC1CkD,EACA,SAAAS,GAAA,OAAAA,EAAGC,WAA6B,KAapBC,GAVwC7D,YACpDgD,EACA,SAAAc,GAAA,IAAGC,EAAHD,EAAGC,YAAH,OACCA,GACAA,EAAYC,2BACZD,EAAYC,0BAA0B,GACnCD,EAAYC,0BAA0B,GACtC,OAG0ChE,YAC9CgD,EACA,SAAAiB,GAAA,IAAAC,EAAAD,EAAGF,YAAH,gBAAAG,EAAiB,GAAjBA,GAAsCC,YAAc,MAGxCC,EAAyCpE,YACrDiC,EACA,SAAAoC,GAAA,IAAGC,EAAHD,EAAGC,uBAAH,OAAA/D,OAAAgE,EAAA,EAAAhE,CAAqC+D,GAA0B,MAGnDE,EAAoCxE,YAChDiC,EACA,SAAAwC,GAAA,IAAGC,EAAHD,EAAGC,eAAH,OAAAnE,OAAAC,EAAA,EAAAD,CAAA,GAA+BmE,GAAkB,MAGrCC,EAAyC3E,YACrDgD,EACA,SAAA4B,GAAA,IAAAC,EAAAD,EAAGb,YAAH,OAAAc,OAAA,IAAAA,EAAwC,GAAxCA,GAAkBC,mBAAoD,KAG1DC,EAAyB/E,YACrC,CAAC2E,EAAwC7B,GACzC,kBAAAzD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAc,IAAdA,UAAAC,OAAA,EAAAD,UAAA,QAAAE,IAAqD,IAGzCyF,EAAmChF,YAC/C6D,EACA,SAAAoB,GAAA,IAAGC,EAAHD,EAAGC,QAAH,OAAiBC,IAAUC,KAAKF,GAAW,gBChH/BG,EAAiB,SAAA3F,GAAK,OAAIA,EAAMwC,OAAOI,UAIvCgD,EAAyBtF,YACrC,CAHiC,SAAAN,GAAK,OAAIA,EAAME,QAAQ2F,cAGnC,SAACC,EAAG/E,GAAJ,OAAgBA,IACrC,SAAC8E,EAAc9E,GAAf,OAA2B8E,EAAa9E,IAAY,aCAxCgF,EAAa,SAAA/F,GAAK,OAAIA,EAAMwC,OAAOwD,IAAIC,MACvCC,EAAiB,SAAAlG,GAAK,OAAIA,EAAMwC,OAAO2D,UACvCC,EAAiB,SAAApG,GAAK,OAAIA,EAAME,QAAQmG,GAAGC,QAG3CC,EAAgB,SAAAvG,GAAK,OAAIA,EAAMwC,OAAOgE,SAEtCC,EAAiB,SAAAzG,GAAK,OAAIA,EAAMwC,OAAOkE,UAEvCC,EAAmBrG,YAC/B,CAACiD,EAPgC,SAAAvD,GAAK,OAAIA,EAAME,QAAQmG,GAAGO,aAQ3D,SAACC,EAAcC,GAAf,OAAgCA,EAAaD,IAAiB,KAGlDE,EAAuBzG,YACnC,CAACqG,EAAkBZ,GACnB,SAACiB,EAAYf,GAAb,OAAsBe,EAAWf,IAAS,KAG9BgB,EAAoB3G,YAChC,CAACqG,GACD,SAAApG,GAAA,OAAAA,EAAG2G,aAAiC,KAGxBC,EAAoB7G,YAChC,CAACmG,EAAgB,SAACX,EAAGsB,GAAJ,OAAWA,IAC5B,SAACV,EAAUU,GAAX,OAAkBV,EAASU,KAGfC,EAAoC/G,YAChD,CAACmG,EAAgB,SAACX,EAAGwB,GAAJ,OAAmBA,IACpC,SAACZ,EAAUY,GAAX,OAA0BZ,EAASa,IAAiBD,KAQxCE,GAL8BlH,YAC1C,CAACmG,EAAgB,SAACX,EAAG2B,GAAJ,OAAYA,IAC7B,SAACf,EAAUe,GAAX,OAAmBA,EAAIpG,IAAI,SAAA+F,GAAE,OAAIV,EAASU,OAGF9G,YACxC8F,EACA,SAAAnF,KAAGyG,kBAAH,OA5CyBC,KA+CbC,GAA0BtH,YACtC8F,EACA,SAAAhF,GAAA,OAAAA,EAAGyG,kBAGSC,GAAkCxH,YAC9CqG,EACA,SAAAnF,GAAA,QAAAA,EAAGuG,4BAGSC,GAAuB1H,YACnC,CAACqG,EAAkBZ,GACnB,SAACM,EAAIJ,GAAL,OAAcI,EAAGJ,IAAS,KAGdgC,GAA2B3H,YACvC,CAAC0H,IACD,SAAArG,GAAA,OAAAA,EAAGuG,qBAGSC,GAA+B7H,YAC3CqG,EACA,SAAA7E,GAAA,IAAGsG,EAAHtG,EAAGsG,uBAAH,YAE4BvI,IAA3BuI,KAAgDA,IAGrCC,GAA0B/H,YAnEJ,SAAAN,GAAK,OAAIA,EAAMwC,OAAO8F,eAqExD,SAAArG,GAAA,OAAAA,EAAGsG,WAA6B,KAGpBC,GAAwBlI,YACpC8F,EACA,SAAAhE,GAAA,OAAAA,EAAGqG,UAA2B,KAGlBC,GAAgCpI,YAC5C,CAAC4F,EAAgB,SAACJ,EAAG6C,GAAJ,OAAiBA,IAClC,SAAAlF,EAAwBkF,GAAxB,IAAGC,EAAHnF,EAAGmF,kBAAH,OACuB,IAAtBA,GAC8B,kBAAtBA,GAAkCA,EAAkBD,KAEjDE,GAA0BvI,YACtC4F,EACA,SAAAtC,GAAA,IAAAkF,EAAAlF,EAAGgF,yBAAH,IAAAE,KAAA,OACuB,IAAtBF,GAC8B,kBAAtBA,GACP,CACC,sBACA,WACA,QACA,YACA,qBACCG,MAAM,SAAAC,GAAI,QAAMJ,EAAkBI,OAG1BC,GAA4B3I,YACxC4F,EACA,SAAApC,GAAA,OAAAA,EAAGoF,aAGSC,GAA8B7I,YAC1C4F,EACA,SAAAjC,GAAA,OAAAA,EAAGmF,wBAGSC,GAA0B/I,YACtC,CAACyF,EAAYkD,IACb,SAAChD,EAAMiD,GAAP,OAAuBA,IAA0BjD,EAAI,OAAAqD,OAAUrD,GAAS,MAG5DsD,GAAuCjJ,YACnD,CAACyG,GACD,eAAAyC,GAAA7J,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAsC,IAAnC8J,uBAAH,gBAAAD,EAA4B,MAA5BA,IAGYE,GAAoCpJ,YAChD,CAACyG,GACD,eAAA4C,GAAAhK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAKI,IAJHiK,oBADD,gBAAAD,EACuB,CACrBE,MAAOpE,IAAUqE,WAAWrE,IAAUC,QACtCqE,IAAKtE,IAAUuE,SAASvE,IAAUC,SAHpCiE,aC/HYM,GAAa,SAAAjK,GAAK,OAAIA,EAAME,QAAQgK,UAEpCC,GAAqB7J,YACjC,CACC2J,GACA,SAACnE,EAAGsE,GACH,MAAO,CAAEA,MAAKC,KADQ1K,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,MAIjB,SAAC2K,EAAD/J,GAAyB,IAAhB6J,EAAgB7J,EAAhB6J,IAAKC,EAAW9J,EAAX8J,KAAWE,EACiCF,EAAjDG,cADgB,IAAAD,KAAAE,EACiCJ,EAAjCK,YADA,IAAAD,EACO,CAAC,IADRA,EAAAE,EACiCN,EAApBO,kBADb,IAAAD,EAC0B,GAD1BA,EAExB,OAAOE,aAAUT,EAAK,CAAEI,SAAQE,OAAME,cAAcN,KAOzC3J,GAAI,SAACyJ,EAAKC,GACtB,OAAOF,GAAmBlK,cAAYmK,EAAKC,yBCpB/BS,GAAc,SAAA9K,GAAK,OAAIA,EAAME,QAAQ6K,OAErCC,GAAoB1K,YAChC,CAACwK,GAAa,SAAChF,EAAGmF,GAAJ,OAAiBA,IAC/B,SAACF,EAAOE,GAAR,OAAqBF,EAAME,IAAa,KAG5BC,GAAwB5K,YACpC,CAACwK,GAAa,SAAChF,EAAGmF,EAAU7D,GAAd,MAAsB,CAAE6D,WAAU7D,QAChD,SAAC2D,EAADxK,GAAA,IAAU0K,EAAV1K,EAAU0K,SAAU7D,EAApB7G,EAAoB6G,GAApB,OAA8B2D,EAAME,IAAa,IAAI7D,IAAO,KAEhD+D,GAAyB7K,YACrC,CAAC0K,GAAmB,SAAClF,EAAGmF,GAAJ,OAAiBA,IACrC,eAACF,EAADpL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAS,GAAT,OAAgBkB,OAAOuK,OAAOL,KAGlBM,GAAkB/K,YAC9B,SAAAN,GAAK,OAAIgL,GAAkBhL,EAAO,aAClC,SAAAuI,GAAS,OAAIA,IAGD+C,GAAqBhL,YACjC,CAAC+K,GAAiB,SAACvF,EAAGsB,GAAJ,OAAWA,IAC7B,SAACmB,EAAWnB,GAAZ,OAAmBmB,EAAUnB,KAGjBmE,GAA0BjL,YACtC,CAACgL,GAAoB,SAACxF,EAAGsB,GAAJ,OAAWA,IAChC,kBAAAzH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAe,IAAZ6L,SAA8B,KAGrBC,GAA0BnL,YACtC,CAAC2I,GAA2B,SAAAjJ,GAAK,OAAIA,IACrC,SAACkJ,EAAYlJ,GAAb,OAAuBsL,GAAmBtL,EAAOkJ,KAGrCwC,GAAkCpL,YAC9C,CAAC+K,GAAiB,SAACvF,EAAGsB,GAAJ,OAAWA,IAC7B,SAACmB,EAAWnB,GACX,IAAMuE,EAAQ9K,OAAAC,EAAA,EAAAD,CAAA,GAAS0H,EAAUnB,IAAO,IAGxC,OAFAuE,EAASC,OAASC,GAA0B,QAASzE,GACrDuE,EAASG,YAAcD,GAA0B,aAAczE,GACxDuE,IAIII,GAAuBzL,YACnC,SAAAN,GAAK,OAAImL,GAAuBnL,EAAO,aACvC,SAAAuI,GAAS,OAAIA,IAGDyD,GAAgB1L,YAC5B,SAAAN,GAAK,OAAIgL,GAAkBhL,EAAO,WAClC,SAAAwL,GAAO,OAAIA,IAGCS,GAAmB3L,YAC/B,CAAC0L,GAAe,SAAClG,EAAGsB,GAAJ,OAAWA,IAC3B,SAAC2D,EAAO3D,GAAR,OAAe2D,EAAM3D,KAGT8E,GAAqB5L,YACjC,SAAAN,GAAK,OAAImL,GAAuBnL,EAAO,WACvC,SAAAwL,GAAO,OAAIA,IAGCW,GAAgB7L,YAC5B,SAAAN,GAAK,OAAIgL,GAAkBhL,EAAO,WAClC,SAAAoM,GAAO,OAAIA,IAGCC,GAAqB/L,YACjC,SAAAN,GAAK,OAAImL,GAAuBnL,EAAO,WACvC,SAAAoM,GAAO,OAAIA,IAGCE,GAAmBhM,YAC/B,CAAC6L,GAAe,SAACrG,EAAGsB,GAAJ,OAAWA,IAC3B,SAAC2D,EAAO3D,GAAR,OAAe2D,EAAM3D,KAGTmF,GAAiBjM,YAC7B,SAAAN,GAAK,OAAIgL,GAAkBhL,EAAO,YAClC,SAAAwM,GAAQ,OAAIA,IAGAC,GAAsBnM,YAClC,SAAAN,GAAK,OAAImL,GAAuBnL,EAAO,YACvC,SAAAwM,GAAQ,OAAIA,IAQAE,IALoBpM,YAChC,CAACiM,GAAgB,SAACzG,EAAGsB,GAAJ,OAAWA,IAC5B,SAAC2D,EAAO3D,GAAR,OAAe2D,EAAM3D,KAGgB9G,YACrC,CAACiM,GAAgB,SAACzG,EAAG6G,GAAJ,OAAWA,IAC5B,SAAC5B,EAAO4B,GAAR,OAAgBA,GAAK5B,EAAM6B,KAAIC,MAAMF,GAAIG,WAAkB,MAG/CC,GAAkBzM,YAC9B,SAAAN,GAAK,OAAIgL,GAAkBhL,EAAO,aAClC,SAAAgN,GAAS,OAAIA,IAGDC,GAAuB3M,YACnC,SAAAN,GAAK,OAAImL,GAAuBnL,EAAO,aACvC,SAAAgN,GAAS,OAAIA,IAGDE,GAAqB5M,YACjC,CAACyM,GAAiB,SAACjH,EAAGsB,GAAJ,OAAWA,IAC7B,SAAC2D,EAAO3D,GAAR,OAAe2D,EAAM3D,KAGT+F,GAA6B7M,YACzC,CAACgL,GAAoB2B,GAAsB,SAACnH,EAAGsB,GAAJ,OAAWA,IACtD,SAACuE,EAAUZ,EAAO3D,GAUjB,OARCuE,GACAA,EAASyB,eACTzB,EAASyB,cAAcC,SACtB1B,EAASyB,cAAcC,OAAOC,UAC9B3B,EAASyB,cAAcC,OAAOE,YAC9B5B,EAASyB,cAAcC,OAAOG,YAC9B7B,EAASyB,cAAcC,OAAOI,UAG7B9B,EAASyB,cACTrC,EAAM2C,KAAK,SAAAC,GAAC,OAAIA,GAAKA,EAAEzE,aAAe9B,MAI9BwG,GAAuBtN,YACnC,CAAC2M,IACD,SAAAlC,GAAK,OAAIA,EAAM8C,OAAO,SAAAF,GAAC,OAAIA,IAAMA,EAAEzE,YAAcyE,EAAEG,4BCjIvCC,GAAiB,SAAA/N,GAAK,OAAIA,EAAMwC,OAAOwL,SAQvCC,IANsB3N,YAClC,CAACyN,GAAgB,SAACjI,EAAGkD,GAAJ,OAAaA,IAC9B,SAAC+B,EAAO/B,GAAR,OAAiB+B,EAAM/B,KAIgB1I,YACvC,CAACyN,GAAgB,SAACjI,EAAGkD,EAAMkF,GAAV,MAAsB,CAAElF,OAAMkF,YAC/C,SAACnD,EAADxK,GAAA,IAAUyI,EAAVzI,EAAUyI,KAAMkF,EAAhB3N,EAAgB2N,OAAhB,OACEA,EAASnD,EAAMmD,GAAUnD,EAAM/B,KAAhCnI,OAAAC,EAAA,EAAAD,CAAA,GAA+CsN,KAAaH,QAAQhF,OAGzDoF,GAAoB9N,YAChCyN,GACA,SAAA9M,GAAA,IAAGoN,EAAHpN,EAAGoN,SAAH,OAAkB,IAAIC,YAAcD,KAGxBE,GAAkBjO,YAC9ByN,GACA,SAAA3M,GAAA,IAAGoN,EAAHpN,EAAGoN,OAAH,OAAgB,IAAIC,UAAYD,KAGpBE,GAAkBpO,YAC9ByN,GACA,SAAAvM,GAAA,IAAGmN,EAAHnN,EAAGmN,OAAH,OAAgB,IAAIC,UAAYD,KAGpBE,GAAoBvO,YAChCyN,GACA,SAAApM,GAAA,IAAGmN,EAAHnN,EAAGmN,SAAH,OAAkB,IAAIC,YAAcD,yCCpBxBE,GAAkB,SAAAhP,GAAK,OAAIA,EAAMwC,OAAOyM,WACxCC,GAAkB,SAAAlP,GAAK,OAAIA,EAAME,QAAQiP,WAWzCC,IAPsB9O,YAClC,CAAC0O,GAAiB,SAAClJ,EAAGG,GAAJ,OAAaA,IAC/B,SAACgJ,EAAWhJ,GACX,OAAOgJ,EAAUhJ,IAAS,KAIW3F,YACtC,CAAC0O,IACD,SAAAC,GAAS,OAAIA,EAAUxB,UAAY,MAGvB4B,GAA6B/O,YACzC0O,GACA,SAAAzO,GACC,OADoBA,EAAlB+O,aACoB,IAAIC,OAIfC,GAA+BlP,YAC3C,CACCiJ,GACA8F,GACA5D,IAED,SAACgE,EAAWH,EAAa3D,GACxB,IAAM+D,EAAc/D,EACjBlG,IAAUC,KACViK,KAAKC,IAAIjE,EAASkE,qBAAsBpK,IAAUC,SAElDD,IAAUC,KAAK4J,GACdzF,EAAQpE,IAAUC,KAAKgK,GAC3B,OAAQD,GACP,IAAK,OACJ,IAAMK,EAAYrK,IAAUsK,WAAWL,GAAc,IACrD7F,EAAQpE,IAAUuK,cAAcF,GAChC,MACD,IAAK,MACJ,IAAMG,EAAWxK,IAAUyK,SAASR,GAAc,IAClD7F,EAAQpE,IAAU0K,YAAYF,GAC9B,MACD,IAAK,OACJ,IAAMG,EAAY3K,IAAU4K,QAAQX,GAAc,GAClD7F,EAAQpE,IAAU6K,iBAAiBF,EAAW,GAC9C,MACD,IAAK,QACJ,IAAMG,EAAa9K,IAAU4K,QAC5B5K,IAAU+K,UAAUd,GAAc,GAClC,GAED7F,EAAQpE,IAAUqE,WAAWyG,GAC7B,MACD,IAAK,OACJ,IAAME,EAAYhL,IAAU+K,UAAUd,GAAc,IACpD7F,EAAQpE,IAAUiL,aAAaD,GAC/B,MACD,QACC5G,EAAQpE,IAAU0K,YAAYtG,GAIhC,OAAQA,IASG8G,IAL0BrQ,YACtC,CAAC0O,IACD,SAAA/N,GAAA,OAAAA,EAAGsH,WAA6B,KAGIjI,YACpC,CAAC0O,IACD,SAAA5N,GAAA,OAAAA,EAAGwP,QAAuB,MAGdC,GAA8BvQ,YAC1C,CAACqQ,GAAuB,SAAC7K,EAAGkD,GAAJ,OAAaA,IACrC,SAAC4H,EAAQ5H,GAAT,OAAkB4H,EAAO5H,IAAS,KAGtB8H,GAA2BxQ,YACvC,CAAC4O,IACD,SAAA1N,GAAA,IAAAuP,EAAAvP,EAAGwP,cAAH,gBAAAD,EAAmB,GAAnBA,IAGYE,GAA0C3Q,YACtD,CAAC4O,IACD,SAAAvN,GAAA,IAAAuP,EAAAvP,EAAGwP,cAAH,gBAAAD,EAAmB,GAAnBA,IAGYE,GAAmD9Q,YAC/D,CAAC4O,IACD,SAAApN,GAAA,IAAAuP,EAAAvP,EAAGwP,yBAAH,gBAAAD,EAA8B,GAA9BA,IAGYE,GAAyCjR,YACrD,CAACwQ,IACD,SAAAU,GACC,IAAMC,EAAcD,EAAmB/Q,OAAO,SAACiR,EAAQ/D,GAKtD,OAJAA,EAAEgE,MAAMC,QAAQ,SAAAjR,GACf+Q,EAAO/Q,IAAM+Q,EAAO/Q,IAAM,GAAK,IAGzB+Q,GACL,IAEH,OAAOF,EACL3D,OACA,SAAAF,GAAC,QACEA,EAAEJ,YACJI,EAAEJ,WAAW3N,QACb+N,EAAEgE,OACFhE,EAAEgE,MAAM/R,UACN+N,EAAEkE,sBAELxQ,IAAI,SAAAV,GAAC,OAAAE,OAAAC,EAAA,EAAAD,CAAA,GACFF,EADE,CAELgR,MAAOhR,EAAEgR,MAAM9D,OAAO,SAAAF,GAAC,OAAI8D,EAAY9D,IAvHb,QAyH1BE,OAAO,SAAAF,GAAC,OAAIA,EAAEgE,MAAM/R,WAIXkS,GAA6CxR,YACzD,CAAC2N,IACD,SAAA8D,GACC,OAAOA,GAAQA,EAAKvG,QAAUuG,EAAKvG,QAAQnK,IAAI,SAAA2Q,GAAC,OAAIA,EAAEhJ,OAAQ,OAInDiJ,GAAiC3R,YAC7C,CACCiR,GACAO,IAED,SAACN,EAAoBG,GACpB,IAAMO,EAAeP,GAASA,EAAM/R,OAEpC,OAAO4R,EAAmB3D,OACzB,SAAAF,GAAC,OACCuE,GAAiBA,GAAgBP,EAAMQ,KAAK,SAAAxR,GAAC,OAAIgN,EAAEgE,MAAMS,SAASzR,SA4E1D0R,IAvEkC/R,YAC9C,CAAC2R,IACD,SAAA9C,GAAS,OACRmD,MAAMC,KACLpD,EAAU1O,OAAO,SAAC8M,EAAYI,GAE7B,OADAA,EAAEJ,WAAWqE,QAAQ,SAAAY,GAAC,OAAIjF,EAAWkF,IAAID,KAClCjF,GACL,IAAImF,QAIqCpS,YAC9C,CAAC2R,IACD,SAAA9C,GACC,OAAOmD,MAAMC,KACZpD,EACE1O,OAAO,SAAC+M,EAADvL,GAA4D,IAA7C0Q,EAA6C1Q,EAA7C0Q,MAAO7F,EAAsC7K,EAAtC6K,SAAU8F,EAA4B3Q,EAA5B2Q,UAAWrF,EAAiBtL,EAAjBsL,WAElD,OADAC,EAAWqF,IAAI/F,EAAU,CAAE6F,QAAO7F,WAAU8F,YAAWrF,eAChDC,GACL,IAAIsF,KACN1H,UACD2H,KAAK,SAACrT,EAAGI,GACV,OAAIJ,EAAEkT,YAAc9S,EAAE8S,WACb,EACElT,EAAEkT,WAAa9S,EAAE8S,UACpBlT,EAAEkT,UAAY9S,EAAE8S,YACZlT,EAAEkT,WAAa9S,EAAE8S,UACrB,OAQ8BtS,YACxC,CAACwQ,IACD,SAAA3B,GAAS,OACRmD,MAAMC,KACLpD,EAAU1O,OAAO,SAAC8M,EAAYI,GAE7B,OADAA,EAAEJ,WAAWqE,QAAQ,SAAAY,GAAC,OAAIjF,EAAWkF,IAAID,KAClCjF,GACL,IAAImF,QAKkCpS,YAC3C,CAACwQ,IACD,SAAA3B,GACC,OAAOmD,MAAMC,KACZpD,EACE1O,OAAO,SAAC+M,EAADpL,GAA4D,IAA7CuQ,EAA6CvQ,EAA7CuQ,MAAO7F,EAAsC1K,EAAtC0K,SAAU8F,EAA4BxQ,EAA5BwQ,UAAWrF,EAAiBnL,EAAjBmL,WAElD,OADAC,EAAWqF,IAAI/F,EAAU,CAAE6F,QAAO7F,WAAU8F,YAAWrF,eAChDC,GACL,IAAIsF,KACN1H,UACD2H,KAAK,SAACrT,EAAGI,GACV,OAAIJ,EAAEkT,YAAc9S,EAAE8S,UACd,EACGlT,EAAEkT,WAAa9S,EAAE8S,UACpBlT,EAAEkT,UAAY9S,EAAE8S,YACZlT,EAAEkT,WAAa9S,EAAE8S,WACpB,OAQiCtS,YAC5C,CAAC8O,GAAyB,SAACtJ,EAAGkD,GAAJ,OAAaA,IACvC,SAACgK,EAAmBhK,GAApB,OAA6BgK,EAAkBhK,IAAS,MAG5CiK,GAA4B3S,YACxC,SAACN,EAADyD,GAAA,IAAUuF,EAAVvF,EAAUuF,KAAMkK,EAAhBzP,EAAgByP,SAAhB,MAA+B,CAC9Bb,GAA8BrS,EAAOgJ,GACrC,CAAEkK,cAEH,SAAAtP,GAAA,IAAAE,EAAAjD,OAAAsS,GAAA,EAAAtS,CAAA+C,EAAA,GAAEwP,EAAFtP,EAAA,GAAwBoP,EAAxBpP,EAAA,GAAwBoP,SAAxB,OACCrS,OAAOuK,OAAOgI,EAAmBC,gBAAkB,IAAI5S,OACtD,SAAC6S,EAAKC,GAAN,OAAeD,EAAMC,EAAKC,sBAAsBN,IAAa,GAC7D,KAIUO,GAA6BnT,YACzC,SAACN,EAAOgJ,GAAR,OAAiBqJ,GAA8BrS,EAAOgJ,IACtD,SAAA/E,GAAA,OAAAA,EAAGyP,gBAAuC,KAE9BC,GAAgCrT,YAC5C,SAACN,EAAOgJ,GAAR,OAAiByK,GAA2BzT,EAAOgJ,IACnD,SAAA5E,GAAA,OAAAA,EAAGwP,0BAA2D,KAGlDC,GAAmCvT,YAC/C,SAACN,EAAOgJ,GAAR,OAAiByK,GAA2BzT,EAAOgJ,IACnD,SAAAzE,GAAA,OAAAA,EAAGuP,6BAAiE,KAGxDC,GAA6BzT,YACzC,SAACN,EAAOgJ,GAAR,OAAiByK,GAA2BzT,EAAOgJ,IACnD,SAAArE,GAAA,OAAAA,EAAGqP,yBAAyD,KAGhDC,GAAgC3T,YAC5C,SAACN,EAAOgJ,GAAR,OAAiByK,GAA2BzT,EAAOgJ,IACnD,SAAAjE,GAAA,OAAAA,EAAGmP,4BAA+D,KAGtDC,GAA6B7T,YACzC,SAACN,EAAOgJ,GAAR,OAAiByK,GAA2BzT,EAAOgJ,IACnD,SAAA9D,GAAA,OAAAA,EAAGkP,yBAAyD,KAGhDC,GAAgC/T,YAC5C,SAACN,EAAOgJ,GAAR,OAAiByK,GAA2BzT,EAAOgJ,IACnD,SAAAzD,GAAA,OAAAA,EAAG+O,4BAA+D,KAGtDC,GAAoCjU,YAChD,SAACN,EAAOgJ,GAAR,OAAiB2K,GAA8B3T,EAAOgJ,IACtD,eAACwL,EAAD7U,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAa,GAAb,MAAqB,CACpB8U,IAAK9E,KAAK8E,IAAIC,MAAM,KAAM7T,OAAOuK,OAAOoJ,IACxCG,MAAO9T,OAAOuK,OAAOoJ,GAAW/T,OAC/B,SAACf,EAAGkV,GAAJ,OAAclV,GAAKmV,OAAOD,IAAU,IACpC,MAKUE,GAA6BxU,YACzC,SAAAN,GAAK,OAAI8E,EAAkC9E,IAC3C,SAAAgF,GAAc,OACbnE,OAAOuK,OAAOpG,GAAgBvE,OAAO,SAACsU,GAAiC,IAAAC,GAAArV,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAjB6L,QAO9C,YAPsE,IAAAwJ,EAAd,GAAcA,GAC9DpD,QAAQ,SAAAI,GACf,IAAM5K,EAAK4K,EAAE5K,IAAM4K,EAAEiD,KACjB7N,IAAO2N,EAAM3N,KAChB2N,EAAM3N,GAANvG,OAAAC,EAAA,EAAAD,CAAA,GAAiBmR,EAAjB,CAAoB5K,UAGf2N,GACL,MAGQG,GAAsC5U,YAClD,SAAAN,GAAK,MAAI,CACR8U,GAA2B9U,GAC3B+T,GAA2B/T,EAAO,cAClC+T,GAA2B/T,EAAO,SAClCiU,GAA8BjU,EAAO,cACrCiU,GAA8BjU,EAAO,WAEtC,SAAAmV,GAAA,IAAAC,EAAAvU,OAAAsS,GAAA,EAAAtS,CAAAsU,EAAA,GACC3J,EADD4J,EAAA,GAECC,EAFDD,EAAA,GAGCE,EAHDF,EAAA,GAICG,EAJDH,EAAA,GAKCI,EALDJ,EAAA,UAOCvU,OAAOuK,OAAOI,GACZqC,OAAO,SAAA4H,GAAC,YAAkC5V,IAA9BwV,EAAoBI,EAAErO,MAClC/F,IAAI,SAAA0Q,GAAI,OAAAlR,OAAAC,EAAA,EAAAD,CAAA,GACLkR,EADK,CAERjG,YAAauJ,EAAoBtD,EAAK3K,IACtCwE,OAAQ0J,EAAevD,EAAK3K,IAC5BsO,eAAgBb,OAAOU,EAAuBxD,EAAK3K,KAAO,GAC1DuO,UAAWd,OAAOW,EAAkBzD,EAAK3K,KAAO,SAIvCwO,GAAsCtV,YAClD,SAAAN,GAAK,MAAI,CACRmU,GAA2BnU,EAAO,cAClCmU,GAA2BnU,EAAO,SAClCqU,GAA8BrU,EAAO,cACrCqU,GAA8BrU,EAAO,WAEtC,SAAA6V,GAAA,IAAAC,EAAAjV,OAAAsS,GAAA,EAAAtS,CAAAgV,EAAA,SAKO,CACNE,oBANDD,EAAA,GAOCE,eAPDF,EAAA,GAQCG,uBARDH,EAAA,GASCI,kBATDJ,EAAA,MAaYK,GAAkC7V,YAC9C,SAAAN,GAAK,OAAIyT,GAA2BzT,EAAO,eAC3C,SAAAoW,GAAiC,IAA9BpC,EAA8BoC,EAA9BpC,wBAQF,OAPyBA,EACtBnT,OAAOuK,OAAO4I,GAAyBvT,OACvC,SAACf,EAAGkV,GAAJ,OAAclV,EAAImV,OAAOD,IAAU,GACnC,GAEA,IAMQyB,GAAwC/V,YACpD,SAACN,GAAD,IAAAsW,EAAA3W,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA+B,GAArBqJ,EAAVsN,EAAUtN,KAAME,EAAhBoN,EAAgBpN,WAAhB,MAAsC,CACrCmJ,GAA8BrS,EAAOgJ,GACrCE,IAED,SAAAqN,GAAA,IAAAC,EAAA3V,OAAAsS,GAAA,EAAAtS,CAAA0V,EAAA,GAAEE,EAAFD,EAAA,GAAmBtN,EAAnBsN,EAAA,UACEC,EAAgBpD,gBAAkB,IAAInK,IAAe,KAG3CwN,GAA4CpW,YACxD,SAACN,GAAD,IAAA2W,EAAAhX,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA+B,GAArBqJ,EAAV2N,EAAU3N,KAAME,EAAhByN,EAAgBzN,WAAhB,OACCmN,GAAsCrW,EAAO,CAAEgJ,OAAME,gBACtD,SAAA0N,GAAA,OAAAA,EAAGC,wBAAuD,KAG9CC,GAA+CxW,YAC3D,SAACN,GAAD,IAAA+W,EAAApX,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA+B,GAArBqJ,EAAV+N,EAAU/N,KAAME,EAAhB6N,EAAgB7N,WAAhB,OACCmN,GAAsCrW,EAAO,CAAEgJ,OAAME,gBACtD,SAAA8N,GAAA,OAAAA,EAAGC,2BAA6D,KAGpDC,GAAmC5W,YAC/C,SAACN,GAAD,IAAAmX,EAAAxX,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA+B,GAArBqJ,EAAVmO,EAAUnO,KAAME,EAAhBiO,EAAgBjO,WAAhB,OACCwN,GAA0C1W,EAAO,CAAEgJ,OAAME,gBAC1D,eAACsL,EAAD7U,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAa,GAAb,MAAqB,CACpB8U,IAAK9E,KAAK8E,IAAIC,MAAM,KAAM7T,OAAOuK,OAAOoJ,IACxCG,MAAO9T,OAAOuK,OAAOoJ,GAAW/T,OAC/B,SAACf,EAAGkV,GAAJ,OAAclV,GAAKmV,OAAOD,IAAU,IACpC,MAKUwC,GAA2C9W,YACvD,SAACN,GAAD,IAAAqX,EAAA1X,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA+B,GAArBqJ,EAAVqO,EAAUrO,KAAME,EAAhBmO,EAAgBnO,WAAhB,OACCmN,GAAsCrW,EAAO,CAAEgJ,OAAME,gBAEtD,SAAAoO,GAAA,OAAAA,EAAG9D,uBAAqD,KAY5C+D,IAT+BjX,YAC3C,SAACN,GAAD,IAAAwX,EAAA7X,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA+B,GAArBqJ,EAAVwO,EAAUxO,KAAME,EAAhBsO,EAAgBtO,WAAhB,OACCmN,GAAsCrW,EAAO,CAAEgJ,OAAME,gBACtD,SAAAuO,GAAA,IAAGjE,EAAHiE,EAAGjE,sBAAH,OACCA,EACG7D,KAAK8E,IAAIC,MAAM,KAAM7T,OAAOuK,OAAOoI,IACnC,IAGkClT,YACtC,CACC0O,GACAtF,GACA,SAAC5D,GAAD,OAAAnG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAW,IACX6P,IAED,WAKK,IAJJP,EAIItP,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAJQ,GACVkK,GAGElK,UAAAC,OAAA,EAAAD,UAAA,QAAAE,GAHFgK,MAGE6N,EAAA/X,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAFFoG,EAEEyR,EAFFzR,KAAM0R,EAEJD,EAFIC,UAAWC,EAEfF,EAFeE,OAAQnI,EAEvBiI,EAFuBjI,UAC3BoI,EACIlY,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAAiY,EAgBA7I,EATFhJ,GAPE8R,GAAAD,OAAA,IAAAA,EAeC,GAfDA,GAQDH,GARCK,GAAAD,OAAA,IAAAA,EAcE,GAdFA,GASAH,GATAK,GAAAD,OAAA,IAAAA,EAaG,GAbHA,GAUCvI,GAVDyI,GAAAD,OAAA,IAAAA,EAYI,GAZJA,GAWEJ,IAAkBhO,EAAQ,OAASA,GAOzC,OAlBIqO,OAAA,IAAAA,EAWwD,GAXxDA,GAW+CC,QAW9C,SAAStM,GAA0B7C,EAAME,GAC/C,OAAOrI,OAAOuK,OAEbgM,GAAyCnX,cAAY,CACpD+I,OACAE,gBAEAzI,OAAO,SAACf,EAAGI,GAAJ,OAAUJ,EAAII,GAAG,GAGpB,IAAMsY,GAAyB9X,YACrC,SAACN,GAAD,IAAAqY,EAAA1Y,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBsG,EAAVoS,EAAUpS,KAAMwJ,EAAhB4I,EAAgB5I,UAAhB,OACC8H,GAAwBvX,EAAO,CAC9BiG,OACAwJ,YACAkI,UAAW,aACXC,OAAQ,iBAEV,SAAAU,GAAW,OACVA,EACGA,EAAY7X,OAAO,SAACf,EAAD6Y,GAAA,IAAM3D,EAAN2D,EAAM3D,MAAN,OAAkBlV,EAAImV,OAAOD,IAAU,GAAG,GAC7D,OAGQ4D,GAAoBlY,YAChC,SAACN,GAAD,IAAAyY,EAAA9Y,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBsG,EAAVwS,EAAUxS,KAAMwJ,EAAhBgJ,EAAgBhJ,UAAhB,OACC8H,GAAwBvX,EAAO,CAC9BiG,OACAwJ,YACAkI,UAAW,QACXC,OAAQ,iBAEV,SAAAU,GAAW,OACVA,EACGA,EAAY7X,OAAO,SAACf,EAADgZ,GAAA,IAAM9D,EAAN8D,EAAM9D,MAAN,OAAkBlV,EAAImV,OAAOD,IAAU,GAAG,GAC7D,OAGQ+D,GAAmBrY,YAC/B,SAACN,GAAD,IAAA4Y,EAAAjZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBsG,EAAV2S,EAAU3S,KAAMwJ,EAAhBmJ,EAAgBnJ,UAAhB,OACC8H,GAAwBvX,EAAO,CAC9BiG,OACAwJ,YACAkI,UAAW,aACXC,OAAQ,kBAEV,SAAAiB,GAAY,OACXA,EACGA,EAAapY,OACb,SAACf,EAADoZ,GAAA,IAAMlE,EAANkE,EAAMlE,MAAN,OAAkBlV,EAAImV,OAAOkE,aAAkBnE,GAAS,EAAG,MAAQ,GACnE,GAEA,OAGQoE,GAAoC1Y,YAChD,SAACN,GAAD,IAAAiZ,EAAAtZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBsG,EAAVgT,EAAUhT,KAAMwJ,EAAhBwJ,EAAgBxJ,UAAhB,MAAqC,CACpC8H,GAAwBvX,EAAO,CAC9BiG,OACAwJ,YACAkI,UAAW,aACXC,OAAQ,gBAETL,GAAwBvX,EAAO,CAC9BiG,OACAwJ,YACAkI,UAAW,aACXC,OAAQ,mBAGV,SAAAsB,GAAA,IAAAC,EAAAtY,OAAAsS,GAAA,EAAAtS,CAAAqY,EAAA,GAAEZ,EAAFa,EAAA,GAAeN,EAAfM,EAAA,UACCb,GAAeO,EACZP,EACCzK,OACA,SAAA2E,GAAC,OAEY,QADXqG,EAAanL,KAAK,SAAA0L,GAAC,OAAIA,EAAEC,OAAS7G,EAAE6G,QAAS,CAAEzE,MAAO,OACrDA,QAEHnU,OAAO,SAACf,EAAD4Z,KAAMD,KAAN,IAAYzE,EAAZ0E,EAAY1E,MAAZ,OAAwBlV,EAAImV,OAAOD,IAAU,GAAG,GACxD,OAGQ2E,GAAmBjZ,YAC/B,CACC,SAACN,GAAD,IAAAwZ,EAAA7Z,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBsG,EAAVuT,EAAUvT,KAAMwJ,EAAhB+J,EAAgB/J,UAAhB,OACCkJ,GAAiB3Y,EAAO,CAAEiG,OAAMwJ,eACjC,SAACzP,GAAD,IAAAyZ,EAAA9Z,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBsG,EAAVwT,EAAUxT,KAAMwJ,EAAhBgK,EAAgBhK,UAAhB,OACCuJ,GAAkChZ,EAAO,CAAEiG,OAAMwJ,gBAEnD,SAACiK,EAAYC,GAAb,OACgB,OAAfD,GAA4C,OAArBC,EACnB,IAAO9E,OAAO6E,GAAe7E,OAAO8E,GACrC,OAcQC,GAAuBtZ,YACnC,CACC,SAACN,GAAuC,IAAA6Z,EAAAla,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAvBma,EAA8BD,EAA9BC,UAAcC,EAAgBlZ,OAAAmZ,GAAA,EAAAnZ,CAAAgZ,EAAA,eACvC,OAAOhZ,OAAAC,EAAA,EAAAD,CAAA,CAAEoZ,KAAM1C,GAAwBvX,EAAO+Z,GAAOD,aAAcC,KAGrE,SAAAG,GAA0D,IAAAC,EAAAD,EAAvDD,YAAuD,IAAAE,EAAhD,GAAgDA,EAA5CL,EAA4CI,EAA5CJ,UAAWlC,EAAiCsC,EAAjCtC,OAAQnI,EAAyByK,EAAzBzK,UAAyB5O,OAAAmZ,GAAA,EAAAnZ,CAAAqZ,EAAA,2CAEzD,OADaJ,EAAYG,EAAKG,MAAM,GAAI,GAAKH,GACjCxZ,OACX,SAAC4Z,EAAMtI,GAAS,IACPsH,EAAgBtH,EAAhBsH,KAAMzE,EAAU7C,EAAV6C,MACV0F,EAAQC,aAAwB,CAAE9K,YAAW4J,SAMjD,OAJAgB,EAAKG,OAAOC,KAAKH,GACjBD,EAAKK,SAASD,KACH,OAAV7F,EA1BsB,SAAA+F,GAAuB,IAApB/F,EAAoB+F,EAApB/F,MAC7B,OADiD+F,EAAb/C,QAEnC,IAAK,eACJ,OAAOgD,WAAW7B,aAAkBnE,EAAO,KAC5C,IAAK,cACJ,OAAOiG,SAASjG,EAAO,IACxB,QACC,OAAOA,GAmBYkG,CAAmB,CAAElG,QAAOgD,WAAYhD,GAEnDyF,GAER,CACCG,OAAQ,GACRE,SAAU,OAMDK,GAAmCza,YAC/C,SAACN,GAAD,IAAAgb,EAAArb,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBsG,EAAV+U,EAAU/U,KAAMwJ,EAAhBuL,EAAgBvL,UAAhB,MAAqC,CACpCmK,GAAqB5Z,EAAO,CAC3BiG,OACAwJ,YACAkI,UAAW,aACXC,OAAQ,cACRkC,WAAW,MAGb,SAAAmB,GAAA,OAAApa,OAAAsS,GAAA,EAAAtS,CAAAoa,EAAA,QAGYC,GAA8B5a,YAC1C,SAACN,GAAD,IAAAmb,EAAAxb,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBsG,EAAVkV,EAAUlV,KAAMwJ,EAAhB0L,EAAgB1L,UAAhB,MAAqC,CACpCmK,GAAqB5Z,EAAO,CAC3BiG,OACAwJ,YACAkI,UAAW,QACXC,OAAQ,cACRkC,WAAW,MAGb,SAAAsB,GAAA,OAAAva,OAAAsS,GAAA,EAAAtS,CAAAua,EAAA,QAGYC,GAA+B/a,YAC3C,SAACN,GAAD,IAAAsb,EAAA3b,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBsG,EAAVqV,EAAUrV,KAAMwJ,EAAhB6L,EAAgB7L,UAAhB,MAAqC,CACpCmK,GAAqB5Z,EAAO,CAC3BiG,OACAwJ,YACAkI,UAAW,aACXC,OAAQ,eACRkC,WAAW,MAGb,SAAAyB,GAAA,OAAA1a,OAAAsS,GAAA,EAAAtS,CAAA0a,EAAA,QAGYC,GAA2Blb,YACvC,SAACN,GAAD,IAAAyb,EAAA9b,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8B,GAApBsG,EAAVwV,EAAUxV,KAAMwJ,EAAhBgM,EAAgBhM,UAAhB,MAAqC,CACpC4L,GAA6Brb,EAAO,CAAEiG,OAAMwJ,cAC5CsL,GAAiC/a,EAAO,CAAEiG,OAAMwJ,gBAEjD,SAAAiM,GAA4B,IAAAC,EAAA9a,OAAAsS,GAAA,EAAAtS,CAAA6a,EAAA,GAA1BE,EAA0BD,EAAA,GAAjB7P,EAAiB6P,EAAA,GACrBE,EAAS,CACdrB,OAAQ,GACRE,SAAU,IAQX,OANAmB,EAAOrB,OAASoB,EAAQpB,OACxBqB,EAAOnB,SAAWkB,EAAQlB,SAASrZ,IAAI,SAACya,EAAGrG,GAC1C,OAAmC,IAA5B3J,EAAY4O,SAASjF,IACvBqG,EAAIhQ,EAAY4O,SAASjF,GAAM,KAAMsG,QAAQ,GAC/CD,IAEGD,IAIIG,GAA0B1b,YACtC,CAAC0O,IACD,SAAAiN,GAAA,OAAAA,EAAGC,UAA2B,KAGlBC,GAAuC7b,YACnD,CAAC0b,IACD,SAAAE,GAAQ,OAAIrb,OAAOub,KAAKF,GAAU7a,IAAI,SAAAgb,GAAC,OAAKA,MAGhCC,GAA0Bhc,YACtC,CAACiJ,GAAsC8F,IACvC,SAACI,EAAWH,GACX,OAAQG,GACP,IAAK,OACJ,OAAOhK,IAAU8W,OAChB9W,IAAUC,KAAK4J,GACfkN,MAEF,IAAK,MACJ,OAAO/W,IAAU8W,OAChB9W,IAAUgX,WAAWhX,IAAUC,KAAK4J,GAAc,GAClDkN,MAEF,IAAK,OACJ,OAAO/W,IAAU8W,OAChB9W,IAAU6K,iBAAiBhB,EAAa,GACxCkN,MAEF,QACC,OAAO/W,IAAU8W,OAAO9W,IAAUC,OAAQ8W,SAKjCE,GAAgCpc,YAC5C,CACCmL,GACAnG,EACAiE,IAED,WAA2C,IAA1CoC,EAA0ChM,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/B,GAAIgd,EAA2Bhd,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAd4P,EAAc9P,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAClC+c,EAAiDjR,EAAjDiR,WAAY/M,EAAqClE,EAArCkE,oBADsBgN,EACelR,EAAhBmR,cADC,IAAAD,EACQ,GADRA,EAY1C,MAAO,CACNE,SAVeC,aAA+B,CAC9CvN,YACA4J,KAAM5T,IAAUC,KAAKkX,GAAcD,KASnCM,SAPeD,aAA+B,CAC9CvN,YACA4J,KAAMyD,EAAOI,YAAcrN,GAAuBpK,IAAUC,YC7rBlDyX,GAAoB,SAAAnd,GAAK,OAAIA,EAAMwC,OAAO4a,aAE1CC,GAAwB/c,YACpC,CAAC6c,GAAmB,SAACrX,EAAGsB,GAAJ,OAAWA,IAC/B,SAACgW,EAAahW,GAAd,OAAqBgW,EAAYhW,SAGY9G,YAC7C,CAAC6c,GAAmB,SAACrX,EAAG2B,GAAJ,OAAYA,IAChC,SAAC2V,EAAa3V,GAAd,OAAsBA,EAAIpG,IAAI,SAAA+F,GAAE,OAAIgW,EAAYhW,iCCHpC8H,GAAkB,SAAAlP,GAAK,OAAIA,EAAME,QAAQiP,WAKzC2B,GAA2BxQ,YACvC,CAAC4O,IACD,SAAA3O,GAAA,IAAA+c,EAAA/c,EAAGyQ,cAAH,gBAAAsM,EAAmB,GAAnBA,IAGYrM,GAA0C3Q,YACtD,CAAC4O,IACD,SAAAjO,GAAA,IAAAsc,EAAAtc,EAAGkQ,cAAH,gBAAAoM,EAAmB,GAAnBA,IAGYnM,GAAmD9Q,YAC/D,CAAC4O,IACD,SAAA9N,GAAA,IAAAoc,EAAApc,EAAGkQ,yBAAH,gBAAAkM,EAA8B,GAA9BA,IAGYC,GAAwBnd,YACpC,CACC2Q,GACAG,IAED,SAACD,EAAeuM,GAKf,OAJe7c,OAAOuK,OAAO+F,GAAe4B,KAAK,SAACrT,EAAGI,GAAJ,OAAUJ,EAAII,IAAG,IAAM,IACzDe,OAAOuK,OAAOsS,GAAc3K,KAAK,SAACrT,EAAGI,GAAJ,OAAUJ,EAAII,IAAG,IAAM,GAxBvC,KA+BrByR,GAAyCjR,YACrD,CAACwQ,IACD,SAAAU,GACC,IAAMC,EAAcD,EAAmB/Q,OAAO,SAACiR,EAAQ/D,GAKtD,OAJAA,EAAEgE,MAAMC,QAAQ,SAAAjR,GACf+Q,EAAO/Q,IAAM+Q,EAAO/Q,IAAM,GAAK,IAGzB+Q,GACL,IAEH,OAAOF,EACL3D,OACA,SAAAF,GAAC,QACEA,EAAEJ,YACJI,EAAEJ,WAAW3N,QACb+N,EAAEgE,OACFhE,EAAEgE,MAAM/R,UACN+N,EAAEkE,sBAELxQ,IAAI,SAAAV,GAAC,OAAAE,OAAAC,EAAA,EAAAD,CAAA,GACFF,EADE,CAELgR,MAAOhR,EAAEgR,MAAM9D,OAAO,SAAAF,GAAC,OAAI8D,EAAY9D,IAtDb,QAwD1BE,OAAO,SAAAF,GAAC,OAAIA,EAAEgE,MAAM/R,WAIXkS,GAA6CxR,YACzD,CAAC2N,IACD,SAAA8D,GACC,OAAOA,GAAQA,EAAKvG,QAAUuG,EAAKvG,QAAQnK,IAAI,SAAA2Q,GAAC,OAAIA,EAAEhJ,OAAQ,OAInDiJ,GAAiC3R,YAC7C,CACCiR,GACAO,IAED,SAACN,EAAoBG,GACpB,IAAMO,EAAeP,GAASA,EAAM/R,OAEpC,OAAO4R,EAAmB3D,OACzB,SAAAF,GAAC,OACCuE,GAAiBA,GAAgBP,EAAMQ,KAAK,SAAAxR,GAAC,OAAIgN,EAAEgE,MAAMS,SAASzR,SAK1Dgd,GAAkCrd,YAC9C,CAAC2R,IACD,SAAA9C,GAAS,OACRmD,MAAMC,KACLpD,EAAU1O,OAAO,SAAC8M,EAAYI,GAE7B,OADAA,EAAEJ,WAAWqE,QAAQ,SAAAY,GAAC,OAAIjF,EAAWkF,IAAID,KAClCjF,GACL,IAAImF,QAIJkL,GAA+B,SAAA5M,GAAa,OACjDsB,MAAMC,KACLvB,EACEvQ,OACA,SACC+M,EADDhM,GAGK,IADFmR,EACEnR,EADFmR,MAAO7F,EACLtL,EADKsL,SAAU8F,EACfpR,EADeoR,UAAWrF,EAC1B/L,EAD0B+L,WAAYsQ,EACtCrc,EADsCqc,gBAS1C,OAPArQ,EAAWqF,IAAI/F,EAAU,CACxB6F,QACA7F,WACA8F,YACArF,aACAsQ,oBAEMrQ,GAER,IAAIsF,KAEJ1H,WAGS0S,GAAkCxd,YAC9C,CAAC2R,IACD,SAAA9C,GACC,OAAOyO,GAA6BzO,GAAW4D,KAAK,SAACrT,EAAGI,GACvD,OAAIJ,EAAEkT,YAAc9S,EAAE8S,WACb,EACElT,EAAEkT,WAAa9S,EAAE8S,UACpBlT,EAAEkT,UAAY9S,EAAE8S,YACZlT,EAAEkT,WAAa9S,EAAE8S,UACrB,OAQEmL,GAA4Bzd,YACxC,CAACwQ,IACD,SAAA3B,GAAS,OACRmD,MAAMC,KACLpD,EAAU1O,OAAO,SAAC8M,EAAYI,GAE7B,OADAA,EAAEJ,WAAWqE,QAAQ,SAAAY,GAAC,OAAIjF,EAAWkF,IAAID,KAClCjF,GACL,IAAImF,QAKGsL,GAA+B1d,YAC3C,CAACwQ,IACD,SAAA3B,GACC,OAAOyO,GAA6BzO,GAAW4D,KAAK,SAACrT,EAAGI,GACvD,OAAIJ,EAAEkT,YAAc9S,EAAE8S,UACd,EACGlT,EAAEkT,WAAa9S,EAAE8S,UACpBlT,EAAEkT,UAAY9S,EAAE8S,YACZlT,EAAEkT,WAAa9S,EAAE8S,WACpB,OASNqL,GAAoC3d,YACzC,GACA,WACC,IAAM4d,EAAQrd,OAAOuK,OAAO+S,aAAUC,cAAc/c,IACnD,eAAAM,EAAAhC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAkC,GAA/B0e,EAAH1c,EAAG0c,KAAMC,EAAT3c,EAAS2c,UAAWC,EAApB5c,EAAoB4c,UAApB,MAA0C,CACzCjE,MAAO3Z,GAAE0d,GACTG,WAAYD,EAAUE,KAAK,MAC3B7J,MAAO0J,EACPI,MAAO/d,GAAE,cAGLD,EAAMyd,aAAUQ,aAAatd,IAAI,eAAAS,EAAAnC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAuB,GAApB0e,EAAHvc,EAAGuc,KAAMC,EAATxc,EAASwc,UAAT,MAA+B,CACrEhE,MAAO3Z,GAAE0d,GACTzJ,MAAO0J,EACPI,MAAOL,EAAK,GAAGO,iBAGhB,SAAAtV,OAAAzI,OAAAgE,EAAA,EAAAhE,CAAWqd,GAAXrd,OAAAgE,EAAA,EAAAhE,CAAqBH,MAIjBme,GAAsCve,YAC3C,CAACqd,IACD,SAAApQ,GAAU,MACT,CAAC,CAAE+M,MAAO3Z,GAAE,kBAAmBiU,MAAO,QAAStL,OAC9CiE,EAAWlM,IAAI,SAAAyd,GAAG,MAAK,CACtBxE,MAAO3Z,GAAEoe,iBAAcC,kCAAkCF,IAAQA,GACjElK,MAAOkK,QAKLG,GAAuC3e,YAC5C,CAACyd,IACD,SAAAxQ,GAAU,OACTA,EAAWlM,IAAI,SAAAyd,GAAG,MAAK,CACtBxE,MAAO3Z,GAAEoe,iBAAcC,kCAAkCF,IAAQA,GACjElK,MAAOkK,OAIJI,GAA6B,SAAAC,GAAS,MAAI,IAAA7V,OAC5C3I,GAAE,YAD0C,MAAA2I,OAC1B6V,EAAUrS,UADgB,GAAAxD,OAE5C3I,GAAE,cAF0C,MAAA2I,OAExB6V,EAAUvM,WAAa,KAFC,GAAAtJ,OAG5C3I,GAAE,qBAH0C,MAAA2I,OAGjB6V,EAAUtB,iBAAmB,KAHZ,GAAAvU,OAI5C3I,GAAE,cAJ0C,MAAA2I,QAIvB6V,EAAU5R,YAAc,IAC9ClM,IACA,SAAAyd,GAAG,UAAAxV,OAAQyV,iBAAcC,kCAAkCF,IAAQA,EAAhE,OAEHL,KAAK,SAGFW,GAAsC9e,YAC3C,CAACwd,IACD,SAAAtQ,GAAU,OACTA,EAAWnM,IAAI,SAAAge,GAAG,MAAK,CACtB/E,MAAO+E,EAAIvS,SACX8H,MAAO0K,KAAKC,UAAU,CAAEzS,SAAUuS,EAAIvS,SAAUqS,UAAWE,EAAI1M,QAC/D6L,WAAYU,GAA2BG,GACvCG,UAAWH,OAIRI,GAAuCnf,YAC5C,CAAC0d,IACD,SAAAxQ,GAAU,OACTA,EAAWnM,IAAI,SAAAge,GAAG,MAAK,CACtB/E,MAAO+E,EAAIvS,SACX8H,MAAO0K,KAAKC,UAAU,CAAEzS,SAAUuS,EAAIvS,SAAUqS,UAAWE,EAAI1M,QAC/D6L,WAAYU,GAA2BG,GACvCG,UAAWH,OAIDK,GAAkB,CAC9B,CACCC,UAAW,WACXC,UAAW,SACXC,QAAS,CACR,CAAE7W,KAAM,KAAMsR,MAAO3Z,GAAE,oBAAqBmf,YAAa,GACzD,CAAE9W,KAAM,MAAOsR,MAAO3Z,GAAE,sBAAuBmf,YAAa,GAC5D,CAAE9W,KAAM,QAASsR,MAAO3Z,GAAE,mBAAoBiU,MAAO,QAEtDmL,UAAWpf,GAAE,sBAAuB,CACnC+J,KAAM,CACLsV,GAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCC,KAAM,4DAELxf,GAAE,aAKP,CACCgf,UAAW,aACXC,UAAW,WACXC,QAAS,CACR,CAAE7W,KAAM,KAAMsR,MAAO3Z,GAAE,iBAAkBmf,YAAa,GACtD,CACC9W,KAAM,MACNsR,MAAO3Z,GAAE,sBACTmf,YAAa,EACbM,eAAgB,CAAC,UAIpB,CACCT,UAAW,aACXC,UAAW,SACXC,QAAS,CACR,CAAE7W,KAAM,KAAMsR,MAAO3Z,GAAE,yBAA0Bmf,YAAa,GAC9D,CAAE9W,KAAM,MAAOsR,MAAO3Z,GAAE,yBAA0Bmf,YAAa,GAC/D,CAAE9W,KAAM,QAASsR,MAAO3Z,GAAE,mBAAoBiU,MAAO,SAGvD,CACC+K,UAAW,WACXC,UAAW,oBACXC,QAAS,CACR,CACCjL,MAAO,sBACP0F,MAAO3Z,GAAE,gCACT0f,OACCL,GAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCC,KACC,0FAGAxf,GAAE,gBAIN,CACCiU,MAAO,0BACP0F,MAAO3Z,GAAE,6BACT0f,OACCL,GAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCC,KACC,uFAGAxf,GAAE,gBAIN,CACCiU,MAAO,4BACP0F,MAAO3Z,GAAE,gCACT0f,OACCL,GAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCC,KACC,kGAGAxf,GAAE,mBAQH2f,GAAoChgB,YACzC,CACC2d,GACAY,GACAI,GACAG,GACAK,IAED,SAACc,EAAWC,EAAOC,EAAQC,EAAOC,GAAlC,MAA8C,CAC7CrT,SAAU,CACTsT,gBAAiBL,GAElBhT,WAAY,CACXsT,kBAAmB,CAClBC,GAAIN,EACJO,IAAKN,IAGPjT,WAAY,CACXqT,kBAAmB,CAClBC,GAAIJ,EACJK,IAAKJ,OA+DIK,IAzDiC1gB,YAC7C,CAAC2N,IACD,SAAA8D,GACC,OAAOA,GAAQA,EAAKvG,QAAUuG,EAAKvG,QAAQnK,IAAI,SAAA2Q,GAAC,OAAIA,EAAEhJ,OAAQ,OAsDhB1I,YAC/C,CAACggB,IACD,SAAAW,GAAW,OACVvB,GAAgBre,IAAI,SAAA6f,GACnB,IAAMC,GAAUF,EAAYC,EAAEvB,YAAc,IAAIkB,kBAC7CI,EAAYC,EAAEvB,WAAWkB,kBACzB,GAOH,OALKI,EAAYC,EAAEvB,YAAc,IAAIiB,iBACpCM,EAAErB,QAAQjO,QAAQ,SAAAlS,GACjByhB,EAAOzhB,EAAEsJ,MAAQtJ,EAAEkV,OAASqM,EAAYC,EAAEvB,WAAWiB,kBAGhD/f,OAAAC,EAAA,EAAAD,CAAA,GACHqgB,EADJ,CAECC,gBAKSC,GAA4B9gB,YACxC,CAAC6c,GAAmB,SAACrX,EAAGub,EAAIC,EAAKha,GAAb,OAA4BA,IAChD,SAAC8V,EAAahW,GAAd,OAAqBgW,EAAYhW,KAGrBma,GAAiCjhB,YAC7C,CACC0gB,GACA/S,GACAmT,GACA,SAACtb,EAAGub,EAAIC,EAAKE,EAAMC,GAAnB,OAAoCA,IAErC,SAACC,EAAoBC,GAAiD,IAAnCvE,EAAmCzd,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAArB,GAAI8hB,EAAiB9hB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC/D+hB,EAAyBD,KAAkBA,EAAavU,cAExDyU,EACLzE,EAAYwE,EAAyB,gBAAkB,WAAa,GAE/DE,EAAkBD,EAAOE,OAAQF,EAAOG,WAAkB,GAE1D3U,GACJuU,EACED,EAAavU,cAAcC,OAC3BsU,EAAatU,SAAW,GA+C5B,MAF0B,CAAE4U,QA3CZP,EACd7T,OAAO,SAAAqT,GAAC,OACNO,EAA+B,aAAhBP,EAAEvB,UAA2C,aAAhBuB,EAAEvB,YAEhDte,IAAI,SAAA6f,GACJ,IAAMd,EApGgB,SAACnG,EAAMkH,EAAQ9T,EAAQ6U,GAChD,IAAMC,EAAW,GAEjB,GACoB,eAAnBlI,EAAK0F,WACLtS,EAAOE,YACPF,EAAOE,WAAWmH,OAClBrH,EAAOE,WAAWmH,MAAMtC,SAAS,OACjC/E,EAAOE,WAAWuT,IAClBzT,EAAOE,WAAWuT,GAAGlhB,OAErBuiB,EAASrB,GAAKzT,EAAOE,WAAWuT,GAAG1O,SAAS,OACzC,GACA+O,EACCtT,OACA,SAAAF,GAAC,OACCA,EAAE6R,UAAUjS,WAAW4E,KAAK,SAAAK,GAAC,OAC7BnF,EAAOE,WAAWuT,GAAG1O,SAASI,OAGhCnR,IAAI,SAAAmR,GAAC,OAAIA,EAAEoC,aACT,GACa,eAAnBqF,EAAK0F,WACLtS,EAAOG,YACPH,EAAOG,WAAWkH,OACU,OAA5BrH,EAAOG,WAAWkH,OAClBrH,EAAOG,WAAWsT,IAClBzT,EAAOG,WAAWsT,GAAGlhB,OACpB,CACD,IAAMwiB,EAA+B,IAAI1P,IACzCwP,EACExU,KAAK,SAAAwT,GAAC,MAAoB,eAAhBA,EAAEvB,YACZwB,OAAOL,GAAGlP,QAAQ,SAAAyQ,GACdhV,EAAOG,WAAWsT,GAAG1O,SAASiQ,EAAEzN,QACnCyN,EAAE7C,UAAUjS,WAAWqE,QAAQ,SAAAY,GAAC,OAC/B4P,EAA6B3P,IAAID,OAKrC2P,EAASrB,GAAKK,EACZtT,OACA,SAAA2E,GAAC,MAAgB,QAAZA,EAAEoC,QAAoBwN,EAA6BE,IAAI9P,EAAEoC,SAE9DvT,IAAI,SAAAmR,GAAC,OAAIA,EAAEoC,QAGd,OAAOuN,EAqDmBI,CACtBrB,EAEAA,EAAEC,OAAOL,GACTzT,EACAqU,GAGKP,EAAMtgB,OAAAC,EAAA,EAAAD,CAAA,GAAQqgB,EAAEC,QAuBtB,OArBGA,EAAOL,IACTK,EAAOL,GAAGlhB,QACRwgB,EAAeU,IACjBV,EAAeU,GAAGlhB,SAElBuhB,EAAOL,GAAKjgB,OAAAgE,EAAA,EAAAhE,CAAIsgB,EAAOL,IAAI/N,KAAK,SAACrT,EAAGI,GACnC,OACCsgB,EAAeU,GAAG1O,SAAS1S,EAAEkV,SAC5BwL,EAAeU,GAAG1O,SAAStS,EAAE8U,OAEvB,GAENwL,EAAeU,GAAG1O,SAAS1S,EAAEkV,QAC9BwL,EAAeU,GAAG1O,SAAStS,EAAE8U,QAErB,EAGF,KAGF/T,OAAAC,EAAA,EAAAD,CAAA,GACHqgB,EADJ,CAECC,SACAf,qBAIkC/S,SAAQyU,qBCtflCU,GAA2BliB,YACvC,CAHoC,SAAAN,GAAK,OAAIA,EAAMwC,OAAOigB,iBAGlC,SAAC3c,EAAGsB,GAAJ,OAAWA,IACnC,SAACsb,EAAMtb,GAAP,OAAcsb,EAAKtb,IAAO,sDCkCnBub,GAAkCxE,aAAlCwE,aAAcC,GAAoBzE,aAApByE,gBAETC,GAA2BviB,YACvC,CAACyL,GAAsB/K,EAA6B,SAAC8E,EAAGG,GAAJ,OAAaA,IACjE,SAACsC,EAAW3H,EAAQqF,GAApB,OACCsC,EACEsF,OAAO,SAAAF,GAAC,OAAKA,EAAEmV,WACfzhB,IAAI,SAAA0Q,GAAQ,IAAAgR,GACcniB,EAAOmR,EAAKiR,eAAiB,IAA/CC,gBADI,IAAAF,EACO,GADPA,EAEJ3b,EAAgC2K,EAAhC3K,GAFI8b,EAE4BnR,EAA5BoR,YAFA,IAAAD,EAEO,GAFPA,EAAAE,EAE4BrR,EAAjBvG,QAEjB6X,QAJM,IAAAD,EAEqB,GAFrBA,GAIc,IAAM,GAE1BE,EAAE,cAAAha,OAAiBrD,EAAjB,eAAAqD,OAAmClC,GACrCmc,EAAS,cAAAja,OAAiBrD,EAAjB,aAAAqD,OAAiClC,GAEhD,MAAO,CACNoc,MAAO,CACNvd,OACAmB,KACAqc,SAAUJ,EAAUI,UAAY,GAChCC,UAAWL,EAAUK,WAAa,GAClCJ,MAEDxV,MAAOiE,EAAKjE,MACZgP,OAAQ,CACP6G,kBAAmB5R,EAAK+K,OAAO6G,kBAC/BC,aAAc7R,EAAK+K,OAAOuB,MAE3BwF,cAAehP,OACdiP,uBAAY/R,EAAK8R,eAAiB,IAAKZ,IAExCc,sBAAuBhS,EAAK+K,OAAOiH,uBAAyB,EAC5DjY,YAAaD,GAA0B,aAAczE,GACrDwE,OAAQC,GAA0B,QAASzE,GAE3C4c,IACEnY,GAA0B,QAASzE,GACnCyE,GAA0B,aAAczE,GACxC,KAAO,EAET6c,iBAAkB,CACjB7c,KACA6c,iBAMK,IALJpP,OACCiP,uBACCX,EAAKc,kBAAoBlS,EAAKkS,kBAAoB,IAClDhB,KAIJzd,QAASuM,EAAKvM,QACdoX,WAAYuG,EAAKvG,YAAc7K,EAAK6K,WACpC/M,oBACCsT,EAAKtT,qBAAuBkC,EAAKlC,oBAClCgQ,QAAS,CACR5Z,OAEAmB,KACAkc,KACAC,YACAW,cACoC,WAAlCnS,EAAK+K,OAAO6G,mBACsB,cAAlC5R,EAAK+K,OAAO6G,qBACS,cAArB5R,EAAK+K,OAAOuB,MACS,YAArBtM,EAAK+K,OAAOuB,OAEfjX,KACA+c,iBACmC,WAAlCpS,EAAK+K,OAAO6G,mBACsB,cAAlC5R,EAAK+K,OAAO6G,uBAULS,IALyC3kB,EACrDojB,GACA,SAAA5I,GAAI,OAAIA,IAGoC3Z,YAC5CyL,GACA,SAAAxD,GAAS,OACRoH,KAAK8E,IAAIC,MAAM,KAAMnM,EAAUlH,IAAI,SAAAoU,GAAC,OAAIZ,OAAOY,EAAE3J,aAAe,OAAQ,KAG7DuY,GAA2B/jB,YACvCyL,GACA,SAAAxD,GAAS,OACRoH,KAAK8E,IAAIC,MAAM,KAAMnM,EAAUlH,IAAI,SAAAoU,GAAC,OAAIZ,OAAOY,EAAE7J,QAAU,OAAQ,IAGxD0Y,GAA4BhkB,YACxC,CAACyL,GAAsB/K,GACvB,SAACuH,EAAW3H,GAAZ,OACC+O,KAAK8E,IAAIC,MACR,KACAnM,EAAUlH,IAAI,SAAAoU,GAAK,IAAA8O,GACQ3jB,EAAO6U,EAAEuN,eAAiB,IAA5CC,gBADU,IAAAsB,EACC,GADDA,EAElB,OAAO1P,OAAOiP,uBAAYrO,EAAEoO,cAAeZ,IAAa,QAK/CuB,GAAyBlkB,YACrC,CAAC+L,GAAoBuJ,GAAqC,SAAC9P,EAAGG,GAAJ,OAAaA,IACvE,SACCwe,EADDrjB,EAQC6E,GARD,IAGE8P,EAHF3U,EAGE2U,oBACAC,EAJF5U,EAIE4U,eACAC,EALF7U,EAKE6U,uBACAC,EANF9U,EAME8U,kBANF,OAUCuO,EACE5W,OAAO,SAAAF,GAAC,OAAKA,EAAEmV,WACfzhB,IAAI,SAAA0Q,GACJ,IAAM3K,EAAK2K,EAAK3K,IAAM2K,EAAKkD,KACrBqO,EAAE,cAAAha,OAAiBrD,EAAjB,WAAAqD,OAA+BlC,GAE/B0G,EAA8CiE,EAA9CjE,MAAO2V,EAAuC1R,EAAvC0R,SAAUC,EAA6B3R,EAA7B2R,UAAW1a,EAAkB+I,EAAlB/I,KAAMxD,EAAYuM,EAAZvM,QAEpCoG,EAASoK,EAAe5O,GACxB0E,EAAciK,EAAoB3O,GACxC,MAAO,CACNoc,MAAO,CACNpc,KACAqc,WACAC,YACAJ,MAEDxV,MAAOA,EACP9E,KAAMA,EAAK0b,QAAQ,UAAW,IAC9Blf,QAASA,EACTsG,cACAF,SACAoY,KAAOpY,GAAU,IAAME,GAAe,GAAM,IAC5C6Y,SACC9P,OAAOoB,EAAuB7O,IAAO,GACrCyN,OAAOqB,EAAkB9O,IAAO,GACjCyY,QAAS,CACRyD,KACAvR,OACA3K,KACA0G,cAMO8W,GAAyBtkB,YACrC,CACC,SAACN,EAADwB,GAAwC,IAA9ByE,EAA8BzE,EAA9ByE,KAAMiD,EAAwB1H,EAAxB0H,WAAY6B,EAAYvJ,EAAZuJ,MAE3B,MAAO,CACN8Z,gBAFuB9Z,EAGvB9E,OACA8E,MACCA,IACC7B,EACEqC,GAAwBvL,EAAOkJ,GAC/B8C,GAAchM,IAClBqV,oBAAqB,SAAAjO,GAAE,OACtB8B,EACGkO,GAAyCpX,EAAO,CAChDgJ,KAAM,aACNE,eACG9B,GACH6L,GAA0BjT,EAAO,CACjCgJ,KAAM,aACNkK,SAAU9L,KAEdkO,eAAgB,SAAAlO,GAAE,OACjB8B,EACGkO,GAAyCpX,EAAO,CAChDgJ,KAAM,QACNE,eACG9B,GACH6L,GAA0BjT,EAAO,CACjCgJ,KAAM,QACNkK,SAAU9L,QAKjB,SAAAzF,GAAA,IAAGkjB,EAAHljB,EAAGkjB,cAAe5e,EAAlBtE,EAAkBsE,KAAM8E,EAAxBpJ,EAAwBoJ,MAAOsK,EAA/B1T,EAA+B0T,oBAAqBC,EAApD3T,EAAoD2T,eAApD,OACCzU,OAAOuK,OAAOL,GACZ8C,OAAO,SAAAF,GAAC,OAAKA,EAAEmV,WACfzhB,IAAI,SAAA0Q,GACJ,IAAM3K,EAAK2K,EAAK3K,IAAM2K,EAAKkD,KACrBqO,EAAE,cAAAha,OAAiBrD,EAAjB,WAAAqD,OAA+BlC,GAC/B0G,EAA8CiE,EAA9CjE,MAAO2V,EAAuC1R,EAAvC0R,SAAUC,EAA6B3R,EAA7B2R,UAAW1a,EAAkB+I,EAAlB/I,KAAMxD,EAAYuM,EAAZvM,QAE1C,MAAO,CACN4B,KACAoc,MAAO,CACNqB,gBACAzd,KACAqc,WACAC,YACAJ,MAEDxX,YAAauJ,EAAoBjO,IAAO,EACxCwE,OAAQ0J,EAAelO,IAAO,EAC9B4c,IAAM1O,EAAelO,GAAMiO,EAAoBjO,GAAO,KAAO,EAC7D0G,QACA9E,OACAxD,UACAqa,QAAS,CACRzY,KACA0G,QACAwV,KACAvR,aAMO+S,GAA2BxkB,YACvC,CAACsN,IACD,SAAAZ,GAAS,OACRA,EACEa,OAAO,SAAAF,GAAC,OAAKA,EAAEmV,WACfzhB,IAAI,SAAA0Q,GAAQ,IACJ3K,EAAiD2K,EAAjD3K,GAAI0G,EAA6CiE,EAA7CjE,MAAOT,EAAsC0E,EAAtC1E,OAAQ0X,EAA8BhT,EAA9BgT,QAASvf,EAAqBuM,EAArBvM,QAASwf,EAAYjT,EAAZiT,QAI7C,MAAO,CACNlX,MAAO,CACNA,MAAOA,GAAS1G,EAChBkc,GALM,mCAAAha,OAAsClC,IAO7C5B,UACAwf,UACAnF,QAAS,CACRzY,KACAgG,cAAe,CAAEC,SAAQ0X,WACzBjX,QACAwV,GAAE,mCAAAha,OAAqClC,SAMvC6d,GAAwB,WAMnB,IAAAnjB,EAAAnC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GALHulB,EAKUpjB,EALVojB,qBACAC,EAIUrjB,EAJVqjB,gBACAC,EAGUtjB,EAHVsjB,yBACAC,EAEUvjB,EAFVujB,wBACAC,EACUxjB,EADVwjB,mBAEMC,EAAcF,GAA2BC,EAE/C,OAAOzkB,OAAOub,KAAK8I,GAAsB7jB,IAAI,SAAAmkB,GAC5C,OAAO3kB,OAAAC,EAAA,EAAAD,CAAA,CACN4kB,YAAa9C,GAAa6C,GAC1B1Z,YAAaoZ,EAAqBM,IAAQ,EAC1CE,oBACGR,EAAqBM,IAAQ,IAC7BJ,EAAyBzQ,OAAS,GACpC,IACD/I,OAAQuZ,EAAgBK,IAAQ,EAEhCxB,KACGmB,EAAgBK,IAAQ,IAAMN,EAAqBM,IAAQ,GAAM,KAChED,GAAe,CAClBZ,UACEU,EAAwBG,IAAQ,IAAMF,EAAmBE,IAAQ,GACnEG,WACE9Q,OAAOwQ,EAAwBG,IAAQ,GACvC3Q,OAAOqQ,EAAqBM,IAAQ,GACrC,SAMQI,GAAoCtlB,YAChD,CACC,SAAAN,GAAK,OAAI2T,GAA8B3T,EAAO,eAC9C,SAAAA,GAAK,OAAI2T,GAA8B3T,EAAO,UAC9C,SAAAA,GAAK,OAAIuU,GAAkCvU,EAAO,eAClD,SAAAA,GAAK,OAAI6T,GAAiC7T,EAAO,eACjD,SAAAA,GAAK,OAAI6T,GAAiC7T,EAAO,WAElD,SACCklB,EACAC,EACAC,EACAC,EACAC,GALD,MAMM,CACLJ,uBACAC,kBACAC,2BACAC,0BACAC,wBAIWO,GAAuCvlB,YACnD,SAACN,EAADiC,GAA2B,IAAjBiH,EAAiBjH,EAAjBiH,WACT,MAAO,CACNwN,GAA0C1W,EAAO,CAChDgJ,KAAM,aACNE,eAEDwN,GAA0C1W,EAAO,CAChDgJ,KAAM,QACNE,eAEDgO,GAAiClX,EAAO,CACvCkJ,aACAF,KAAM,eAEP8N,GAA6C9W,EAAO,CACnDgJ,KAAM,aACNE,eAED4N,GAA6C9W,EAAO,CACnDgJ,KAAM,QACNE,iBAIH,SAAA9G,GAMM,IAAAqB,EAAA5C,OAAAsS,GAAA,EAAAtS,CAAAuB,EAAA,GACL,MAAO,CACN8iB,qBAFIzhB,EAAA,GAGJ0hB,gBAHI1hB,EAAA,GAIJ2hB,yBAJI3hB,EAAA,GAKJ4hB,wBALI5hB,EAAA,GAMJ6hB,mBANI7hB,EAAA,MAWMqiB,GAAyCxlB,YACrDslB,GACA,SAAA3L,GAAI,OAAIgL,GAAsBhL,KAGlB8L,GAA4CzlB,YACxD,CACC,SAACN,EAAD4D,GAA2B,IAAjBsF,EAAiBtF,EAAjBsF,WACT,OAAO2c,GAAqC7lB,EAAO,CAAEkJ,iBAGvD,SAAA+Q,GAAI,OAAIgL,GAAsBhL,KAGzB+L,GAA2B,WAItB,IAAAliB,EAAAnE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAHHulB,EAGUphB,EAHVohB,qBACAC,EAEUrhB,EAFVqhB,gBACAC,EACUthB,EADVshB,yBAEMa,EAAaC,eACjBC,OAAO,CAAC,EAAGf,EAAyB3Q,MACpC2R,MAAM,CAACC,KAAkBC,OAErBC,EAAaC,KACbC,EAAeC,KACfC,EAAS9lB,OAAAC,EAAA,EAAAD,CAAA,GAAQ+lB,IA+BvB,OA7BAD,EAAUE,QAAQtI,UAAUuI,WAAaF,GAAmBC,QAAQtI,UAAUuI,WAAWzlB,IACxF,SAAA4Y,GACC,IAAM7S,EAAKwb,GAAgB3I,EAAK7S,IAC1B0E,EAAcoZ,EAAqB9d,IAAO,EAC1CwE,EAASuZ,EAAgB/d,IAAO,EAChCiX,EAAOsE,GAAavb,IAAO6S,EAAKoE,KAChCqH,GACH5Z,GAAe,GAAKsZ,EAAyBzQ,MAAS,KAAO,EAC1DqP,GAAQpY,GAAU,IAAME,GAAe,GAAM,KAAO,EACpDib,EAAkB,IAAAzd,OACpB+U,EADoB,QAAA/U,OAEpB3I,GAAE,qBAFkB,MAAA2I,OAEO0d,aAAclb,EAAa,IAFlC,GAAAxC,OAGpB3I,GAAE,gBAHkB,MAAA2I,OAGE0d,aAAcpb,EAAQ,IAHxB,GAAAtC,OAIpB3I,GAAE,cAJkB,MAAA2I,OAIAoc,EAAmB3J,QAAQ,GAJ3B,SAAAzS,OAKpB3I,GAAE,aALkB,MAAA2I,OAKD0a,EAAIjI,QAAQ,GALX,OAUlBkL,EAAa,CAClB5I,OACA6I,UAJiBpb,EAAc,EAAIma,EAAWna,GAAeqb,KAAK,KAKlEJ,mBAGD,OAAOlmB,OAAAC,EAAA,EAAAD,CAAA,GAAKoZ,EAAZ,CAAkBgN,iBAIb,CAAEN,YAAWJ,aAAYE,iBAGpBW,GAA4C9mB,YACxD,CAACslB,IACD,SAAA3L,GAAI,OAAI+L,GAAyB/L,KAGrBoN,GAA+C/mB,YAC3D,CACC,SAACN,EAADiE,GAAA,IAAUiF,EAAVjF,EAAUiF,WAAV,OACC2c,GAAqC7lB,EAAO,CAAEkJ,iBAEhD,SAAA+Q,GAAI,OAAI+L,GAAyB/L,KAGrBqN,GAA6BhnB,YACzC4U,GACA,SAAAnK,GAAK,OACJA,EAAM1J,IAAI,SAAA0Q,GAAQ,IAEhB3K,EAQG2K,EARH3K,GACAqc,EAOG1R,EAPH0R,SACAC,EAMG3R,EANH2R,UACA1a,EAKG+I,EALH/I,KACA8C,EAIGiG,EAJHjG,YACAF,EAGGmG,EAHHnG,OAID,MAAO,CACNxE,KACAoc,MAAO,CACNpc,KACAqc,WACAC,aAED1a,OACA8C,cACAF,SACAoY,KAAOpY,GAAU,IAAME,GAAe,GAAM,IAC5C6Y,SAZG5S,EAFH2D,eAEG3D,EADH4D,eAkBS4R,GAA+BjnB,YAC3C,CACC6M,GACA,SAACnN,EAAOkJ,GACP,MAAO,CACN4C,YAAauK,GAAsCrW,EAAO,CACzDgJ,KAAM,aACNE,eAED0C,OAAQyK,GAAsCrW,EAAO,CACpDgJ,KAAM,QACNE,kBAKJ,SAACse,EAADpjB,GAAoD,IAA1B0H,EAA0B1H,EAA1B0H,YAAaF,EAAaxH,EAAbwH,OAChC6b,EAAY3b,EAAY4b,yBAA2B,GACnDC,EAAa/b,EAAO8b,yBAA2B,GAC/CE,EAAY9b,EAAY+b,4BAA8B,GAEtDC,EAAQN,EACXA,EAAsBna,OAAOG,WAC7B,KAEH,OAAO3M,OAAOub,KAAKqL,GAAWpmB,IAAI,SAAAmkB,GAAG,MAAK,CACzCuC,cACCD,IACkB,QAAhBA,EAAMpT,QACNoT,EAAM/G,KAAO,IAAI5O,KAAK,SAAAxE,GAAC,OAAIA,EAAEyE,SAASoT,MACtB,OAAhBsC,EAAMpT,SACJoT,EAAMhH,IAAM,IAAI3O,KAAK,SAAAxE,GAAC,OAAIA,EAAEyE,SAASoT,MAE1CwC,QAASxC,EACT1Z,YAAa2b,EAAUjC,IAAQ,EAC/BxB,KAAO2D,EAAWnC,IAAQ,IAAMiC,EAAUjC,IAAQ,GAAM,IACxDb,SAAU9P,OAAO+S,EAAUpC,IAAQ,GACnCG,WACE9Q,OAAO+S,EAAUpC,IAAQ,GAAK3Q,OAAO4S,EAAUjC,IAAQ,GAAM,IAC/D5Z,OAAQ+b,EAAWnC,IAAQ,OAoBjByC,IAf4B3nB,YACxC,SAACN,EAAOkoB,GAAR,OAAsBX,GAA6BvnB,EAAOkoB,IAC1D,SAAAjO,GAAI,OACHA,EAAKxZ,OACJ,SAACob,EAAQsM,GACR,IAAMC,EAASvnB,OAAAC,EAAA,EAAAD,CAAA,GAAQgb,GAIvB,OAHAuM,EAAUC,aAAeF,EAAQvc,OACjCwc,EAAUzO,kBAAoBwO,EAAQrc,YACtCsc,EAAUE,eAAiBH,EAAQxD,SAC5ByD,GAER,CAAEC,YAAa,EAAG1O,iBAAkB,EAAG2O,cAAe,MAIbhoB,YAC3C,SAACN,EAAOkoB,GAAR,OAAsBX,GAA6BvnB,EAAOkoB,IAC1D,SAAAjO,GAAI,OACHA,EAAKxZ,OACJ,SAACob,EAAQsM,GACR,IAAMC,EAASvnB,OAAAC,EAAA,EAAAD,CAAA,GAAQgb,GAYvB,OAVAuM,EAAUG,UAAY5Y,KAAK8E,IAAI0T,EAAQvc,OAAQwc,EAAUG,WACzDH,EAAUI,OAAS7Y,KAAK8E,IAAI0T,EAAQnE,IAAKoE,EAAUI,QACnDJ,EAAUK,eAAiB9Y,KAAK8E,IAC/B0T,EAAQrc,YACRsc,EAAUK,gBAEXL,EAAUM,YAAc/Y,KAAK8E,IAC5B0T,EAAQxD,SACRyD,EAAUM,aAEJN,GAER,CAAEG,UAAW,EAAGE,eAAgB,EAAGC,YAAa,EAAGF,OAAQ,OAIjDG,GAA8BroB,YAC1C,SAACN,EAADuE,GAAA,IAAU0B,EAAV1B,EAAU0B,KAAM8E,EAAhBxG,EAAgBwG,MAAO7B,EAAvB3E,EAAuB2E,WAAvB,OACC0b,GAAuB5kB,EAAO,CAAEiG,OAAM8E,QAAO7B,gBAC9C,SAAA+Q,GAAI,OACHA,EAAKxZ,OACJ,SAACob,EAAQsM,GACR,IAAMC,EAASvnB,OAAAC,EAAA,EAAAD,CAAA,GAAQgb,GAQvB,OANAuM,EAAUG,UAAY5Y,KAAK8E,IAAI0T,EAAQvc,OAAQwc,EAAUG,WACzDH,EAAUI,OAAS7Y,KAAK8E,IAAI0T,EAAQnE,IAAKoE,EAAUI,QACnDJ,EAAUK,eAAiB9Y,KAAK8E,IAC/B0T,EAAQrc,YACRsc,EAAUK,gBAEJL,GAER,CAAEG,UAAW,EAAGE,eAAgB,EAAGD,OAAQ,MAIjCI,GAA+CtoB,YAC3D,CAAC0O,GAAiB1N,EAAiB,SAACwE,EAAGJ,GAAJ,OAAaA,IAChD,SAAAf,EAAekkB,EAAOnjB,GAAS,IAA5BwW,EAA4BvX,EAA5BuX,SACIL,EAAS,GACf,GAAIK,GAAYA,EAASxW,GAExB,IAF+B,IAAAojB,GACLD,GAAS,IAA3B5F,gBADuB,IAAA6F,EACZ,GADYA,EAE/BC,EAAA,EAAAC,EAAyBnoB,OAAOooB,QAAQ/M,EAASxW,IAAjDqjB,EAAAC,EAAAppB,OAAAmpB,IAAyD,KAAAG,EAAAF,EAAAD,GAAAxjB,EAAA1E,OAAAsS,GAAA,EAAAtS,CAAAqoB,EAAA,GAA/C1D,EAA+CjgB,EAAA,GAA1CqP,EAA0CrP,EAAA,GACxDsW,EAAOpB,KAAK,CACX3O,YAAa8I,EAAM9I,YACnB8P,QAAS/G,OAAOiP,uBAAYlP,EAAMgH,SAAW,IAAKqH,IAClDvd,MAAO8f,IAIV,OAAO3J,IAIIsN,GAAiD7oB,YAC7D,CAACsoB,IACD,SAAA3O,GAAI,OACHA,EAAKxZ,OACJ,SAACob,EAAQsM,GACR,IAAMC,EAASvnB,OAAAC,EAAA,EAAAD,CAAA,GAAQgb,GAGvB,OAFAuM,EAAUgB,eAAiBjB,EAAQvM,QACnCwM,EAAUzO,mBAAqBwO,EAAQrc,YAChCsc,GAER,CAAEgB,aAAc,EAAGzP,iBAAkB,MCtmB3B0P,GAA8B/oB,YAC1C,SAACN,EAADO,GAAqD,IAA3C2I,EAA2C3I,EAA3C2I,WAAYogB,EAA+B/oB,EAA/B+oB,YAAaC,EAAkBhpB,EAAlBgpB,YAC5Bta,EAAY,CACjBnD,YAAauK,GAAsCrW,EAAO,CACzDgJ,KAAM,aACNE,eAED0C,OAAQyK,GAAsCrW,EAAO,CACpDgJ,KAAM,QACNE,gBAIF,OAAOrI,OAAAC,EAAA,EAAAD,CAAA,GAAKoO,EAAZ,CAAuBqa,cAAaC,iBAErC,SAAAtoB,GAAuD,IAApD6K,EAAoD7K,EAApD6K,YAAaF,EAAuC3K,EAAvC2K,OAAQ0d,EAA+BroB,EAA/BqoB,YAAaC,EAAkBtoB,EAAlBsoB,YAC9B9B,EAAY3b,EAAY4b,yBAA2B,GACnDC,EAAa/b,EAAO8b,yBAA2B,GAFC8B,EAIN3oB,OAAOub,KAAKqL,GAC1D1U,KAAK,SAACrT,EAAGI,GAAJ,OAAU2nB,EAAU3nB,GAAK2nB,EAAU/nB,KACxCe,OACA,SAACwZ,EAAMuL,EAAK/P,GACX,IAAMgU,EAAO5oB,OAAAC,EAAA,EAAAD,CAAA,GAAQoZ,GAerB,OAdIxE,EAAI8T,GACPE,EAAQjP,OAAOC,KAAK+K,GACpBiE,EAAQC,gBAAgBjP,KAAKgN,EAAUjC,IAAQ,GAC/CvL,EAAK0P,WAAWlP,KAAKkN,EAAWnC,IAAQ,KAExCvL,EAAKO,OAAO+O,GAAe5oB,GAAE,mBAE7BsZ,EAAKyP,gBAAgBH,IACnBtP,EAAKyP,gBAAgBH,IAAgB,IAAM9B,EAAUjC,IAAQ,GAE/DvL,EAAK0P,WAAWJ,IACdtP,EAAK0P,WAAWJ,IAAgB,IAAM5B,EAAWnC,IAAQ,IAGrDiE,GAER,CAAEjP,OAAQ,GAAIkP,gBAAiB,GAAIC,WAAY,KArBzCnP,EAJ8CgP,EAI9ChP,OAAQkP,EAJsCF,EAItCE,gBAAiBC,EAJqBH,EAIrBG,WA4CjC,MApBa,CACZnP,SACAE,SAAU,CACT,CACCkP,gBAAiBN,EACjBO,qBAAsBP,EACtBQ,YAAa,EACb7P,KAAMyP,EACNpP,MAAO3Z,GAAE,4BAEV,CACCipB,gBAAiBN,EACjBO,qBAAsBP,EACtBQ,YAAa,EACb7P,KAAM0P,EACNrP,MAAO3Z,GAAE,wDChDDopB,GAAmCzpB,YAC/C,CAACqQ,GAAuBrP,GACxB,SAACsP,EAADrQ,GAAwB,IAAbypB,EAAazpB,EAAbypB,OAoDV,OAnDmB7L,aAAU8L,aAAa5oB,IAAI,SAAA2H,GAC7C,MAAO,CACN4L,MAAO5L,EACPsR,MAAOtR,EAAK7F,MAAM,KAAK,GACvByN,OAAQA,EAAO5H,MAGf+J,KAAK,SAACrT,EAAGI,GACT,IAAMoqB,EAAKC,wBAAazqB,EAAEkR,OAASlR,EAAEkR,OAAO7M,IAAIqmB,OAAS,GACnDC,EAAKF,wBAAarqB,EAAE8Q,OAAS9Q,EAAE8Q,OAAO7M,IAAIqmB,OAAS,GAEzD,OAAOF,EAAGI,GAAGD,IAAO,EAAIA,EAAGC,GAAGJ,GAAM,EAAI,IAExCzpB,OACA,SAACwZ,EAAMjR,EAAMuhB,GACZ,IAAMd,EAAO5oB,OAAAC,EAAA,EAAAD,CAAA,GAAQoZ,GACfkH,EAASsI,EAAQtI,OACjBgH,EAAUnf,EAehB,GAdc,IAAVuhB,GAAevhB,EAAK4H,SACvB6Y,EAAQe,iBAAkB,EAC1BrJ,EAAO1G,KAAK,CAAEiE,MAAO/d,GAAE,0BAGtB8oB,EAAQgB,mBACThB,EAAQe,iBACE,IAAVD,GACCvhB,EAAK4H,SAEN6Y,EAAQgB,kBAAmB,EAC3BtJ,EAAO1G,KAAK,CAAEiE,MAAO/d,GAAE,4BAGpBwnB,EAAQvX,OAAQ,CACnB,IAAM8Z,EAAY/pB,GAAE,wBAAyB,CAC5C+J,KAAM,CACLyd,EAAQvX,OAAO1M,UAAUkmB,OACzBJ,EACA7B,EAAQvX,OAAO1M,UAAUymB,YACzBX,KAGF7B,EAAQ7N,MAAR,GAAAhR,OAAmB6e,EAAQ7N,MAA3B,MAAAhR,OAAqCohB,EAArC,KAMD,OAJAvJ,EAAO1G,KAAK0N,GAEZsB,EAAQtI,OAASA,EAEVsI,GAER,CAAEtI,OAAQ,GAAIqJ,iBAAiB,EAAOC,kBAAkB,IAjDlDtJ,SAuDGyJ,GAA4BtqB,YACxC,CAACiR,GAAwCjQ,GACzC,SAACkQ,EAADvQ,GAAsC,IAAfgiB,EAAehiB,EAAfgiB,SAChB4H,EAAWrZ,EAAmB/Q,OAAO,SAACkR,EAAOsI,GAmBlD,OAlBAA,EAAKtI,MAAMC,QAAQ,SAAAjR,GAClB,IAAMmqB,EAAWnZ,EAAMoZ,IAAIpqB,IAAM,CAChCqqB,QAAS,GACTC,aAAc,GAGfH,EAASE,QAAQ/Q,EAAKtH,OAASmY,EAASE,QAAQ/Q,EAAKtH,QAAU,GAE/DmY,EAASE,QAAQ/Q,EAAKtH,OAAOuY,QAC5BJ,EAASE,QAAQ/Q,EAAKtH,OAAOuY,SAAWjR,EAAKkR,aAAe,IAE7DL,EAASE,QAAQ/Q,EAAKtH,OAAOd,oBAC5BiZ,EAASE,QAAQ/Q,EAAKtH,OAAOd,qBAC7BoI,EAAKpI,qBACL,EACDF,EAAMkB,IAAIlS,EAAGmqB,KAGPnZ,GACL,IAAImB,KAaP,OAXA+X,EAASjZ,QAAQ,SAACgD,EAAO4Q,GACxB,IAAM4F,EAAevqB,OAAOuK,OAAOwJ,EAAMoW,SAASvqB,OACjD,SAACkU,GAAD,IAAQ0H,EAAR1c,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAY,GAAZ,OAAmBgV,EAAMlC,IAAI0X,wBAAa9N,EAAE6O,SAAW,OACvDf,wBAAa,MAGdU,EAAShY,IAAI2S,EAAK,CACjB0F,QAAStQ,WAAWkJ,uBAAYsH,EAAaC,WAAYpI,QAIpD4H,IAIIS,GAA2ChrB,YACvD,CAACsqB,GAA2BtpB,GAC5B,SAACiqB,IAAmC5rB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAXqqB,OAAkB,IAC7BwB,EAAYlZ,MAAMC,KAAKgZ,EAAcngB,UAAU3K,OACpD,SAACkU,EAADnT,GAAA,IAAAiqB,EAAAjqB,EAAU0pB,QAAV,OAA4BvW,QAA5B,IAAA8W,EAAoB,EAApBA,IACA,GA+CD,OA5CmBtN,aAAU8L,aAAa5oB,IAAI,SAAA2H,GAAI,MAAK,CACtD4L,MAAO5L,EAEPkiB,SAAUK,EAAcR,IAAI/hB,IAAS,IAAIkiB,SAAW,KAEnDnY,KAAK,SAACrT,EAAGI,GACT,OAAOA,EAAEorB,QAAUxrB,EAAEwrB,UAErBzqB,OACA,SAACwZ,EAAMjR,EAAMuhB,GACZ,IAAMd,EAAO5oB,OAAAC,EAAA,EAAAD,CAAA,GAAQoZ,GACfkH,EAASsI,EAAQtI,OACf+J,EAAyBliB,EAAzBkiB,QAAYQ,EAHE7qB,OAAAmZ,GAAA,EAAAnZ,CAGWmI,EAHX,aAIhBmf,EAAOtnB,OAAAC,EAAA,EAAAD,CAAA,GAAQ6qB,GACrBvD,EAAQ7N,MAAQ6N,EAAQvT,MAAMzR,MAAM,KAAK,GAC3B,IAAVonB,GAAeW,EAAU,IAC5BzB,EAAQe,iBAAkB,EAC1BrJ,EAAO1G,KAAK,CAAEiE,MAAO/d,GAAE,+BAGxB,IAAMgrB,EAAQT,EAAUM,EAexB,OAbE/B,EAAQmC,qBACTnC,EAAQe,iBACE,IAAVD,GACAoB,GAAS,MAETlC,EAAQmC,qBAAsB,EAC9BzK,EAAO1G,KAAK,CAAEiE,MAAO/d,GAAE,+BAGxBwgB,EAAO1G,KAAK0N,GAEZsB,EAAQtI,OAASA,EAEVsI,GAER,CACCtI,OAAQ,GACRqJ,iBAAiB,EACjBoB,qBAAqB,IAxChBzK,SAgDG0K,GAAoBvrB,YAChC,CACC,SAACwrB,EAAWC,GAAZ,MAAyB,CACxBD,YACAC,aAGF,SAAApqB,GAEC,IAF2B,IAAzBmqB,EAAyBnqB,EAAzBmqB,UAAWC,EAAcpqB,EAAdoqB,QACPC,EAAS,GAEVC,EAAIC,KAAOJ,GAAWK,QAAQ,SAClCF,EAAEG,KAAKF,KAAOH,GAASI,QAAQ,WAAa,EAC5CF,EAAExZ,IAAI,EAAG,SAETuZ,EAAOvR,MAAMwR,GAEd,OAAOD,IAIIK,GAAsB/rB,YAClC,CAACurB,GAAmB,SAAC/lB,EAAGub,EAAIiL,GAAR,OAAsBA,IAC1C,SAACN,EAAQM,GAAT,OACCN,EAAO3qB,IAAI,SAAAkrB,GAAc,MAAK,CAC7B3X,MAAO2X,EACPjS,MAASgS,EACNJ,KAAOK,GACNC,MAAM,SACNjQ,OAAO,iBACR2P,KAAOK,GAAgBhQ,OAAO,sBAIvBkQ,GAAmBnsB,YAC/B,SAAAosB,GAAiB,OAAIA,GACrB,SAAAvL,GAAM,OACLA,EAAO9f,IAAI,SAAA4Y,GACV,IAAM0S,EAAU9rB,OAAAC,EAAA,EAAAD,CAAA,GAAQoZ,GAExB,OADA0S,EAAWrS,MAAQ3Z,GAAEsZ,EAAKK,OACnBqS,MAIGC,GAAyBtsB,YACrC,kBAAMmsB,GAAiBI,OACvB,SAAA1L,GAAM,OAAIA,IAGE2L,GAA0BxsB,YACtCmM,GACA,SAAAD,GAAQ,OACPA,EAASnL,IAAI,SAAAsL,GACZ,IAAMqb,EAAO,WAAA1e,OAAcqD,EAAGvF,IAC9B,MAAO,CACNkT,MAAO0N,EACPpT,MAAOoT,EACPlL,OAAQnQ,EAAGogB,QAAUpgB,EAAGogB,OAAOntB,OAAS,QAAU,eCrNzCotB,GAAyB1sB,YACrC,CAAC4L,IACD,SAAA+gB,GAAY,OAAIA,EAAartB,OAAS,IAG1BstB,GAA2B5sB,YACvC,CAACyL,IACD,SAAAohB,GAAc,OAAIA,EAAevtB,OAAS,IAG9BwtB,GAA0B9sB,YACtC,CAAC6D,GACD,SAAA5D,GAAA,IAAA8sB,EAAA9sB,EAAG+sB,KAAH,kBAAAD,EAAU,GAAVA,GAA0BE,iBAGdC,GAAyBltB,YACrC,CAAC0D,EAA6BkpB,IAC9B,SAAAjsB,EAA+BwsB,GAA/B,IAAGC,EAAHzsB,EAAGysB,yBAAH,OACCD,GAAe5Y,OAAO6Y,GAA4B,IAGvCC,GAAyBrtB,YACrC+L,GACA,SAAAuhB,GAAY,OAAIA,EAAahuB,OAAS,IAG1BiuB,GAA6BvtB,YACzC6V,GACA,SAAAwD,GAAgB,OAAIA,EAAmB,IAE3BmU,GAA2BxtB,YACvC6V,GACA,SAAAwD,GAAgB,OAAIA,EAAmB,MAG3BoU,GAAgBztB,YAC5B,CACC0sB,GACAE,GACAS,GACAP,GACAI,GACAK,GACAC,IAED,SACCE,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAPD,MAQM,CACLN,mBACAC,qBACAC,mBACAC,oBACAC,mBACAC,iBACAC,wBC7DWC,GAAiB,SAAAvuB,GAAK,OAAIA,EAAMwuB,OAAOlhB,UAOvCmhB,IALenuB,YAC3BiuB,GACA,SAAAhuB,GAAA,OAAAA,EAAGmuB,SAG+BpuB,YAClCiuB,GACA,SAAAttB,GAAA,OAAAA,EAAG0tB,OAAqB,MAGZC,GAAqBtuB,YACjCiuB,GACA,SAAAntB,GAAA,IAAGstB,EAAHttB,EAAGstB,OAAH,OAAgB,IAAIG,gBAAgBH,KAG/BI,GAAkB,CACvBvmB,UAAW+C,GACXyjB,QAASzjB,GACTyJ,MAAO9I,GACPwY,MAAOnY,IAGF0iB,GAAQ,CACbC,YAAY,EACZ9P,WAAW,GAGC+P,GAA6B5uB,YACzC,CAACiuB,GAAgB,SAAAvuB,GAAK,OAAIA,GAAO+F,GACjC,SAAAvE,EAAoBxB,EAAOiG,GAAS,IAAAkpB,EAAA3tB,EAAjC4tB,SACIC,QAD6B,IAAAF,EAAtB,GAAsBA,GACZhsB,MAAM,KAAK0K,OAAO,SAAAF,GAAC,QAAMA,IAC1C2hB,EAAgBD,EAAMjV,MAAM,EAAG,GAGrC,GAAyB,cAArBkV,EAAc,KAAuBN,GAAMM,EAAc,IAC5D,MAAO,GAGR,IAAMC,EAAkB,CACvBjM,GAAE,IAAAha,OAAMgmB,EAAc7Q,KAAK,MAC3BnE,MAAO,aAGFP,EAAOsV,EAAMjV,MAAM,GAEnBoV,EAASzV,EAAK1Y,IAAI,SAACsM,EAAG4c,GAC3B,IAAMkF,EAAO1V,EAAKwQ,EAAQ,GACpBmF,EAAWZ,GAAgBW,GAE7BnV,EAAQ3M,EAER+hB,IAEHpV,GADkBoV,EAAS1vB,EAAO2N,IAAM,IAAhCG,OACSwM,GAGlB,IAAMqV,EAAK,CACVrV,SAGD,GAAIiQ,EAAQxQ,EAAKna,OAAS,EAAG,CAC5B,IAAMgwB,EAAQ/uB,OAAAgE,EAAA,EAAAhE,CAAOkZ,GAEf8V,EAAYD,EAASE,QAAQ,WAG/BD,GAAa,IAChBD,EAASC,GAAsB,eAAT5pB,EAAwB,YAAc,YAG7D0pB,EAAGrM,GAAH,GAAAha,OAAWimB,EAAgBjM,GAA3B,KAAAha,OAAiCsmB,EAC/BxV,MAAM,EAAGmQ,EAAQ,GACjB9L,KAAK,MAGR,OAAOkR,IAWR,MARoB,CAACJ,GAADjmB,OAAAzI,OAAAgE,EAAA,EAAAhE,CAAqB2uB,IAAQnuB,IAAI,SAAAvB,GAAC,OAAAe,OAAAC,EAAA,EAAAD,CAAA,GAClDf,EADkD,CAErDwa,MACC3Z,GAAEb,EAAEwa,MAAMsE,iBAAmB9e,EAAEwa,MAAMsE,cAClCje,GAAEb,EAAEwa,MAAMsE,eACV9e,EAAEwa,WAGe,KCjGxByV,EAAAC,EAAAC,EAAA,sBAAA5wB,IAAA0wB,EAAAC,EAAAC,EAAA,sBAAAxwB,IAAAswB,EAAAC,EAAAC,EAAA,uBAAAC,IAAAH,EAAAC,EAAAC,EAAA,uBAAA5vB,IAAA0vB,EAAAC,EAAAC,EAAA,uBAAAjvB,IAAA+uB,EAAAC,EAAAC,EAAA,uBAAA9uB,IAAA4uB,EAAAC,EAAAC,EAAA,uBAAA3uB,IAAAyuB,EAAAC,EAAAC,EAAA,uBAAAvuB,IAAAquB,EAAAC,EAAAC,EAAA,uBAAApuB,IAAAkuB,EAAAC,EAAAC,EAAA,uBAAAjuB,IAAA+tB,EAAAC,EAAAC,EAAA,uBAAA9tB,IAAA4tB,EAAAC,EAAAC,EAAA,sBAAA5tB,IAAA0tB,EAAAC,EAAAC,EAAA,sBAAAvtB,IAAAqtB,EAAAC,EAAAC,EAAA,uBAAAltB,IAAAgtB,EAAAC,EAAAC,EAAA,uBAAAjtB,IAAA+sB,EAAAC,EAAAC,EAAA,sBAAA/sB,IAAA6sB,EAAAC,EAAAC,EAAA,uBAAA7sB,IAAA2sB,EAAAC,EAAAC,EAAA,sBAAA5sB,IAAA0sB,EAAAC,EAAAC,EAAA,sBAAA3sB,IAAAysB,EAAAC,EAAAC,EAAA,sBAAA1sB,IAAAwsB,EAAAC,EAAAC,EAAA,sBAAAtsB,IAAAosB,EAAAC,EAAAC,EAAA,sBAAAjsB,IAAA+rB,EAAAC,EAAAC,EAAA,sBAAA9rB,IAAA4rB,EAAAC,EAAAC,EAAA,uBAAAvrB,IAAAqrB,EAAAC,EAAAC,EAAA,uBAAAnrB,IAAAirB,EAAAC,EAAAC,EAAA,sBAAAhrB,IAAA8qB,EAAAC,EAAAC,EAAA,uBAAA5qB,IAAA0qB,EAAAC,EAAAC,EAAA,sBAAA3qB,IAAAyqB,EAAAC,EAAAC,EAAA,uBAAAtqB,IAAAoqB,EAAAC,EAAAC,EAAA,uBAAArqB,IAAAmqB,EAAAC,EAAAC,EAAA,uBAAAlqB,IAAAgqB,EAAAC,EAAAC,EAAA,uBAAA/pB,IAAA6pB,EAAAC,EAAAC,EAAA,uBAAA1pB,IAAAwpB,EAAAC,EAAAC,EAAA,uBAAAhpB,IAAA8oB,EAAAC,EAAAC,EAAA,uBAAA9oB,IAAA4oB,EAAAC,EAAAC,EAAA,uBAAA5oB,IAAA0oB,EAAAC,EAAAC,EAAA,uBAAAzoB,IAAAuoB,EAAAC,EAAAC,EAAA,uBAAAroB,KAAAmoB,EAAAC,EAAAC,EAAA,uBAAAnoB,KAAAioB,EAAAC,EAAAC,EAAA,uBAAAhoB,KAAA8nB,EAAAC,EAAAC,EAAA,uBAAA9nB,KAAA4nB,EAAAC,EAAAC,EAAA,uBAAA5nB,KAAA0nB,EAAAC,EAAAC,EAAA,uBAAAznB,KAAAunB,EAAAC,EAAAC,EAAA,uBAAAvnB,KAAAqnB,EAAAC,EAAAC,EAAA,uBAAApnB,KAAAknB,EAAAC,EAAAC,EAAA,sBAAAhnB,KAAA8mB,EAAAC,EAAAC,EAAA,uBAAA9mB,KAAA4mB,EAAAC,EAAAC,EAAA,sBAAA5mB,KAAA0mB,EAAAC,EAAAC,EAAA,uBAAA1mB,KAAAwmB,EAAAC,EAAAC,EAAA,uBAAAvmB,KAAAqmB,EAAAC,EAAAC,EAAA,uBAAAhmB,KAAA8lB,EAAAC,EAAAC,EAAA,uBAAAE,KAAAJ,EAAAC,EAAAC,EAAA,uBAAA/kB,KAAA6kB,EAAAC,EAAAC,EAAA,sBAAA3kB,KAAAykB,EAAAC,EAAAC,EAAA,sBAAA1kB,KAAAwkB,EAAAC,EAAAC,EAAA,sBAAAxkB,KAAAskB,EAAAC,EAAAC,EAAA,sBAAAvkB,KAAAqkB,EAAAC,EAAAC,EAAA,sBAAAlkB,KAAAgkB,EAAAC,EAAAC,EAAA,sBAAAjkB,KAAA+jB,EAAAC,EAAAC,EAAA,sBAAAhkB,KAAA8jB,EAAAC,EAAAC,EAAA,sBAAA/jB,KAAA6jB,EAAAC,EAAAC,EAAA,sBAAA5jB,KAAA0jB,EAAAC,EAAAC,EAAA,sBAAA3jB,KAAAyjB,EAAAC,EAAAC,EAAA,uBAAAxjB,KAAAsjB,EAAAC,EAAAC,EAAA,uBAAAvjB,KAAAqjB,EAAAC,EAAAC,EAAA,sBAAA/iB,KAAA6iB,EAAAC,EAAAC,EAAA,sBAAA9iB,KAAA4iB,EAAAC,EAAAC,EAAA,uBAAAriB,KAAAmiB,EAAAC,EAAAC,EAAA,uBAAAhiB,KAAA8hB,EAAAC,EAAAC,EAAA,uBAAA7hB,KAAA2hB,EAAAC,EAAAC,EAAA,uBAAA1hB,KAAAwhB,EAAAC,EAAAC,EAAA,uBAAAvhB,KAAAqhB,EAAAC,EAAAC,EAAA,uBAAAphB,KAAAkhB,EAAAC,EAAAC,EAAA,sBAAAjhB,KAAA+gB,EAAAC,EAAAC,EAAA,sBAAAzgB,KAAAugB,EAAAC,EAAAC,EAAA,uBAAAtf,KAAAof,EAAAC,EAAAC,EAAA,uBAAApf,KAAAkf,EAAAC,EAAAC,EAAA,uBAAAnf,KAAAif,EAAAC,EAAAC,EAAA,uBAAAhf,KAAA8e,EAAAC,EAAAC,EAAA,uBAAA7e,KAAA2e,EAAAC,EAAAC,EAAA,uBAAA1e,KAAAwe,EAAAC,EAAAC,EAAA,uBAAAhd,KAAA8c,EAAAC,EAAAC,EAAA,uBAAAtc,KAAAoc,EAAAC,EAAAC,EAAA,uBAAApc,KAAAkc,EAAAC,EAAAC,EAAA,uBAAA1b,KAAAwb,EAAAC,EAAAC,EAAA,uBAAA/a,KAAA6a,EAAAC,EAAAC,EAAA,uBAAAra,KAAAma,EAAAC,EAAAC,EAAA,uBAAA9Z,KAAA4Z,EAAAC,EAAAC,EAAA,sBAAA5Z,KAAA0Z,EAAAC,EAAAC,EAAA,sBAAAvZ,KAAAqZ,EAAAC,EAAAC,EAAA,sBAAAnZ,KAAAiZ,EAAAC,EAAAC,EAAA,sBAAA/Y,KAAA6Y,EAAAC,EAAAC,EAAA,sBAAA7Y,KAAA2Y,EAAAC,EAAAC,EAAA,sBAAApkB,KAAAkkB,EAAAC,EAAAC,EAAA,uBAAA7X,KAAA2X,EAAAC,EAAAC,EAAA,uBAAAzX,KAAAuX,EAAAC,EAAAC,EAAA,uBAAAtX,KAAAoX,EAAAC,EAAAC,EAAA,sBAAA1W,KAAAwW,EAAAC,EAAAC,EAAA,uBAAArW,KAAAmW,EAAAC,EAAAC,EAAA,uBAAAlV,KAAAgV,EAAAC,EAAAC,EAAA,uBAAA/U,KAAA6U,EAAAC,EAAAC,EAAA,uBAAA5U,KAAA0U,EAAAC,EAAAC,EAAA,uBAAAzU,KAAAuU,EAAAC,EAAAC,EAAA,uBAAA9T,KAAA4T,EAAAC,EAAAC,EAAA,sBAAA3T,KAAAyT,EAAAC,EAAAC,EAAA,sBAAAvT,KAAAqT,EAAAC,EAAAC,EAAA,uBAAA9S,KAAA4S,EAAAC,EAAAC,EAAA,uBAAA5S,KAAA0S,EAAAC,EAAAC,EAAA,mBAAAF,EAAAC,EAAAC,EAAA,mBAAAF,EAAAC,EAAAC,EAAA,mBAAAF,EAAAC,EAAAC,EAAA,uBAAAxS,KAAAsS,EAAAC,EAAAC,EAAA,mBAAAF,EAAAC,EAAAC,EAAA,sBAAA1O,KAAAwO,EAAAC,EAAAC,EAAA,uBAAAzN,KAAAuN,EAAAC,EAAAC,EAAA,uBAAApN,KAAAkN,EAAAC,EAAAC,EAAA,uBAAA7L,KAAA2L,EAAAC,EAAAC,EAAA,sBAAA5L,KAAA0L,EAAAC,EAAAC,EAAA,sBAAA3L,KAAAyL,EAAAC,EAAAC,EAAA,sBAAAzL,KAAAuL,EAAAC,EAAAC,EAAA,sBAAArL,KAAAmL,EAAAC,EAAAC,EAAA,sBAAAnL,KAAAiL,EAAAC,EAAAC,EAAA,uBAAAnK,KAAAiK,EAAAC,EAAAC,EAAA,sBAAAlK,KAAAgK,EAAAC,EAAAC,EAAA,uBAAA7I,KAAA2I,EAAAC,EAAAC,EAAA,sBAAA5I,KAAA0I,EAAAC,EAAAC,EAAA,sBAAA3I,KAAAyI,EAAAC,EAAAC,EAAA,sBAAA1I,KAAAwI,EAAAC,EAAAC,EAAA,sBAAAhI,KAAA8H,EAAAC,EAAAC,EAAA,sBAAAtH,KAAAoH,EAAAC,EAAAC,EAAA,uBAAArH,KAAAmH,EAAAC,EAAAC,EAAA,uBAAA9G,KAAA4G,EAAAC,EAAAC,EAAA,sBAAA5G,KAAA0G,EAAAC,EAAAC,EAAA,uBAAAlG,KAAAgG,EAAAC,EAAAC,EAAA,uBAAA3E,KAAAyE,EAAAC,EAAAC,EAAA,uBAAApE,KAAAkE,EAAAC,EAAAC,EAAA,uBAAA5D,KAAA0D,EAAAC,EAAAC,EAAA,uBAAArD,KAAAmD,EAAAC,EAAAC,EAAA,uBAAAnD,KAAAiD,EAAAC,EAAAC,EAAA,uBAAA7C,KAAA2C,EAAAC,EAAAC,EAAA,sBAAAlC,KAAAgC,EAAAC,EAAAC,EAAA,uBAAA1B,KAAAwB,EAAAC,EAAAC,EAAA,uBAAAxB,KAAAsB,EAAAC,EAAAC,EAAA,uBAAArB,KAAAmB,EAAAC,EAAAC,EAAA,uBAAAf,uCCAO,SAASkB,EAAqB5K,GACpC,IACC,IAAMvL,EAAOoW,aAAaC,QAAQ9K,GAClC,GAAa,OAATvL,EACH,OAED,OAAOqF,KAAKzS,MAAMoN,GACjB,MAAOsW,GACR,QAIK,SAASC,EAAmBvW,EAAMuL,GACxC,IACC,IAAMiL,EAAanR,KAAKC,UAAUtF,GAClCoW,aAAaK,QAAQlL,EAAKiL,GACzB,MAAOF,GACRI,QAAQC,KAAKL,IAIR,SAASM,EAAuBrL,GACtC6K,aAAaS,WAAWtL,GAGlB,SAASuL,IACf,OAAOlwB,OAAOub,KAAKiU,cA1BpBN,EAAAC,EAAAC,EAAA,sBAAAG,IAAAL,EAAAC,EAAAC,EAAA,sBAAAO,IAAAT,EAAAC,EAAAC,EAAA,sBAAAY,IAAAd,EAAAC,EAAAC,EAAA,sBAAAc,sCCAAhB,EAAAC,EAAAC,EAAA,sBAAAe,IAAA,IAAAC,EAAAlB,EAAA,IAEaiB,EAAU,SAAAE,GACtB,OAAMA,GAAO9T,cAAY+T,QAAQC,UAAUC,KAAKH,GACxCI,UAAQC,wBAAwBL,EAAKvpB,mCAGtCupB,yBCPRM,EAAAC,QAAiB1B,EAAA1N,EAAuB,wRCUlCqP,EAAiB,CACtBC,OAAQ,UACRC,QAAS,UACTC,QAAS,UACTC,KAAM,OACNC,OAAQ,QACRC,MAAO,SAGKC,EAAb,SAAAC,GACC,SAAAD,EAAYE,GAAO,IAAAC,EAAA,OAAAvxB,OAAAwxB,EAAA,EAAAxxB,CAAAyxB,KAAAL,IAClBG,EAAAvxB,OAAA0xB,EAAA,EAAA1xB,CAAAyxB,KAAAzxB,OAAA2xB,EAAA,EAAA3xB,CAAAoxB,GAAAQ,KAAAH,KAAMH,KA0BPO,MAAQ,SAAAtrB,GACPgrB,EAAKO,SAAS,CAAEC,QAAQ,IACxBC,WAAW,kBAAMT,EAAKD,MAAMtS,QAAQiT,YAAY1rB,IAAK,MA1BrDgrB,EAAKpyB,MAAQ,CACZ4yB,QAAQ,EACRG,MAAO,IALUX,EADpB,OAAAvxB,OAAAmyB,EAAA,EAAAnyB,CAAAoxB,EAAAC,GAAArxB,OAAAoyB,EAAA,EAAApyB,CAAAoxB,EAAA,EAAAzM,IAAA,4BAAA5Q,MAAA,SAU2Bse,GACzB,IAAIH,EAAQT,KAAKtyB,MAAM+yB,MACnBI,EAAYD,EAAUE,OAAO,GAE5BD,EAKAE,iBACeF,GAAaJ,EAAM3rB,KAAO+rB,EAAU/rB,IAGtDkrB,KAAKK,SAAS,CAAEC,QAAQ,EAAMG,MAAOI,IARtCb,KAAKK,SAAS,CAAEC,QAAQ,EAAOG,MAAO,OAfzC,CAAAvN,IAAA,SAAA5Q,MAAA,WAiCU,IAAA0e,EAAAhB,KACAS,EAAUT,KAAKtyB,MAAf+yB,MAER,IAAKA,EAAO,OAAO,KAEnB,IAAMQ,EAAeR,EAAMQ,cAAgB,CAC1CC,SAAU,SACVC,WAAY,UAQb,OALIV,EAAMW,MACTH,EAAaE,WAAa,SAC1BF,EAAaC,SAAW,OAIxBxT,EAAAtgB,EAAAugB,cAAA0T,EAAA,GACCC,KAAMtB,KAAKtyB,MAAM4yB,OACjBiB,iBAAkBd,EAAMe,SAAW,EACnCC,QAAS,kBAAOhB,EAAMiB,YAAcV,EAAKZ,MAAMK,EAAM3rB,KACrDmsB,aAAcA,GAEdvT,EAAAtgB,EAAAugB,cAAAgU,EAAA,GACCC,SAAUxC,EAAeqB,EAAM/pB,MAC/BmrB,QAAQ,SACRC,OACCpU,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACEtB,EAAMqB,QAAUrB,EAAMqB,QACrBrB,EAAMiB,YACPhU,EAAAtgB,EAAAugB,cAAAqU,EAAA,GACC9O,IAAG,SAAAlc,OAAWypB,EAAM3rB,IACpBmtB,aAAW,QACXC,MAAM,UACNC,KAAK,QACLC,QAAS,kBAAO3B,EAAMiB,YAAcV,EAAKZ,MAAMK,EAAM3rB,MAErD4Y,EAAAtgB,EAAAugB,cAAA0U,EAAA,YAMF5B,EAAMzY,OAAS,IAAI+Q,iBA3E1B4G,EAAA,CAA2B2C,aAqGZC,kBAdf,SAAyB70B,GAGxB,MAAO,CACNozB,OAFYpzB,EAAMwC,OAEH4wB,QAAU,KAI3B,SAA4B0B,GAC3B,MAAO,CACNjV,QAASkV,YAAmBlV,IAASiV,KAIxBD,CAGb5C,wECpDa+C,MA1DR,SAAAz0B,GAA+B,IAAZ00B,EAAY10B,EAAZ00B,SAAYC,EACbC,oBAAS,GADIC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAC9BtB,EAD8BwB,EAAA,GACxBC,EADwBD,EAAA,GAAAE,EAUjCC,YAAYhvB,MANfivB,EAJoCF,EAIpCE,UACAC,EALoCH,EAKpCG,SACA7C,EANoC0C,EAMpC1C,OACA8C,EAPoCJ,EAOpCI,SACAC,EARoCL,EAQpCK,aARoCC,EAAAN,EASpCrb,KAToC4b,EAAAD,EAS5B9nB,aAT4B,IAAA+nB,EASpB,GAToBA,EAAAC,EAAAF,EAShBG,YATgB,IAAAD,EAST,GATSA,EASLE,EATKJ,EASLI,aAAcC,EATTL,EASSK,YAsB9C,OAnBAC,oBAAU,WACTb,IAAUzC,IACR,CAACA,EAAQ8C,IAkBX1V,EAAAtgB,EAAAugB,cAAAkW,EAAA,GAAQvC,KAAMA,GACb5T,EAAAtgB,EAAAugB,cAAAmW,EAAA,GAAahvB,GAAG,sBAAsB0G,GACtCkS,EAAAtgB,EAAAugB,cAAAoW,EAAA,OACCrW,EAAAtgB,EAAAugB,cAAAqW,EAAA,GAAmBlvB,GAAG,4BACpB2uB,GAEDd,IAEAU,GACD3V,EAAAtgB,EAAAugB,cAAAsW,EAAA,OACEN,GACAjW,EAAAtgB,EAAAugB,cAAAuW,EAAA,GAAQ9B,QApBE,WACU,oBAAbe,GACVA,IAGDJ,GAAQ,IAeqBb,MAAM,WAC7ByB,GAGFD,GACAhW,EAAAtgB,EAAAugB,cAAAuW,EAAA,GAAQ9B,QAhCG,WACU,oBAAdc,GACVA,IAEDH,GAAQ,IA4BsBb,MAAM,UAAUiC,WAAS,GACjDT,0KC1DKU,GAAsB,SAAA9B,GAAa,IACzC+B,EADyC,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAzE,EAAAvxB,OAAAwxB,EAAA,EAAAxxB,CAAAyxB,KAAAqE,GAAA,QAAAG,EAAAn3B,UAAAC,OAAA8K,EAAA,IAAA4H,MAAAwkB,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAArsB,EAAAqsB,GAAAp3B,UAAAo3B,GAAA,OAAA3E,EAAAvxB,OAAA0xB,EAAA,EAAA1xB,CAAAyxB,MAAAuE,EAAAh2B,OAAA2xB,EAAA,EAAA3xB,CAAA81B,IAAAlE,KAAA/d,MAAAmiB,EAAA,CAAAvE,MAAAhpB,OAAAoB,MAE9CssB,kBAAoB,SAAA1T,GACnB,IAAM2T,EAAqB,kBAAP3T,EAAkBA,EAAK,CAAE8L,SAAU9L,GAEvD,OADa8O,EAAKD,MAAM+E,QAAQC,WAAWF,IAJE7E,EAQ9CgF,YAR8C,eAAA72B,EAAAM,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAQhC,SAAAC,EAAMC,GAAN,IAAAC,EAAApU,EAAAoR,EAAA,OAAA4C,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,UACbJ,EAAMK,iBACNL,EAAMM,kBAFOL,EAGWtF,EAAKD,MAArB7O,EAHKoU,EAGLpU,KAAIoR,EAHCgD,EAGDhD,UAEsB,oBAAZA,EALT,CAAAkD,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EAMNnD,IANM,OAOZtC,EAAKD,MAAM+E,QAAQzc,KAAK6I,GAPZsU,EAAAC,KAAA,gBASZzF,EAAKD,MAAM+E,QAAQzc,KAAK6I,GATZ,yBAAAsU,EAAAI,SAAAR,MARgC,gBAAAS,GAAA,OAAA13B,EAAAmU,MAAA4d,KAAA3yB,YAAA,GAAAyyB,EAAA,OAAAvxB,OAAAmyB,EAAA,EAAAnyB,CAAA81B,EAAAC,GAAA/1B,OAAAoyB,EAAA,EAAApyB,CAAA81B,EAAA,EAAAnR,IAAA,SAAA5Q,MAAA,WA2BrC,IAAAsjB,EAUJ5F,KAAKH,MARRgG,EAFOD,EAEPC,aACA7U,EAHO4U,EAGP5U,GAMGvJ,GATIme,EAIPE,MAJOF,EAKP5qB,SALO4qB,EAMPhB,QANOgB,EAOPG,cAPOH,EAQPxD,QARO7zB,OAAAmZ,EAAA,EAAAnZ,CAAAq3B,EAAA,+EAWFI,EAAahG,KAAK0E,kBAAkB1T,GAE1C,OACCtD,EAAAtgB,EAAAugB,cAAC2U,EAAD/zB,OAAA03B,OAAA,CACCC,IAAKL,GACDpe,EAFL,CAGCoG,KAAMmY,EACN5D,QAASpC,KAAK8E,mBA7C6BT,EAAA,CACvB8B,IAAM7D,WAkDxB8D,EAAaC,YAAWhC,GAE9B,OAAOiC,qBAAW,SAACzG,EAAOqG,GAAR,OACjBxY,EAAAtgB,EAAAugB,cAACyY,EAAD73B,OAAA03B,OAAA,GAAgBpG,EAAhB,CAAuBgG,aAAcK,uCCtDxBK,GAAA,SAAC5B,EAAM6B,GAA8B,IAAjBC,EAAiBp5B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACxCq5B,EAAO,SAAA7G,GAAK,OACfnS,EAAAtgB,EAAAugB,cAACgZ,GAAA,EAADp4B,OAAA03B,OAAA,CAASQ,QAASA,GAAa5G,GAC7B8E,IAQH,OAJA+B,EAAKF,YAAcA,GACnBE,EAAOE,KAAKF,IACPG,QAAU,UAERH,GCZOH,MACd7Y,EAAAtgB,EAAAugB,cAAA,SACCD,EAAAtgB,EAAAugB,cAAA,QAAM+P,EAAE,0MACRhQ,EAAAtgB,EAAAugB,cAAA,QAAM+P,EAAE,oLAGT,WACA,sHCFKoJ,GAAY,CACjBnK,WAAY,EACZ9P,UAAW,EACXka,EAAK,aACLC,EAAK,aAGAC,GAAe,SAACC,EAAIjP,GACzBkP,YAAQhf,aAAI,cAAAnR,OAAe8vB,GAAU7O,EAAQ,QAGxCmP,GAAgBC,aAAW,SAAAC,GAChC,MAAO,CACNC,UAAW,CAIVC,WAAY,QAKTC,GAAeJ,aAAW,SAAAC,GAC/B,IAAMI,EAAc,SAAAz5B,KAAG0F,KAAH,OAEhB2zB,EAAMK,QAAQC,QAAQC,MAE1B,MAAO,CACNC,KAAM,CACLC,SAAU,GACVC,aAAc,CACb9F,MAAOoF,EAAMK,QAAQM,OAAOC,MAC5B5Q,gBAAiBoQ,GAElBS,UAAW,CACV7Q,gBAAiBgQ,EAAMK,QAAQ7F,OAAOsG,QAGxCC,SAAU,CACTnG,MAAOoF,EAAMK,QAAQM,OAAOC,MAC5B5Q,gBAAiBoQ,MA6BLY,GAxBI,SAAA35B,GAAyB,IAAtBgF,EAAsBhF,EAAtBgF,KAAM40B,EAAgB55B,EAAhB45B,UACrBC,EAAcpB,GAAc,CAAEzzB,SAC9B80B,EAAahB,GAAa,CAAE9zB,SAClC,OACC+Z,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWA,GACf7a,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKC,QAAQ,oBACZjb,EAAAtgB,EAAAugB,cAAAib,EAAA,QACAlb,EAAAtgB,EAAAugB,cAAAkb,GAAA,GACCC,QAASN,EACTlmB,MAAOwkB,GAAUnzB,GACjBo1B,SAAU9B,GACV+B,UAAU,UACVnH,QAAQ,YACRI,aAAW,eAEXvU,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKH,QAASL,EAAYzgB,MAAO3Z,aAAE,gBACnCqf,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKH,QAASL,EAAYzgB,MAAO3Z,aAAE,gBAEpCqf,EAAAtgB,EAAAugB,cAAAib,EAAA,WCpEWrC,MACd7Y,EAAAtgB,EAAAugB,cAAA,SACCD,EAAAtgB,EAAAugB,cAAA,QACCub,KAAK,kBACLxL,EAAE,mdAEHhQ,EAAAtgB,EAAAugB,cAAA,QACCub,KAAK,oBACLxL,EAAE,uMAEHhQ,EAAAtgB,EAAAugB,cAAA,QACCub,KAAK,kBACLxL,EAAE,wgDAGJ,WACA,8LChBYyL,GAAe,SAAAl7B,GAAA,IAAGs6B,EAAHt6B,EAAGs6B,UAAHa,EAAAn7B,EAAci0B,aAAd,IAAAkH,EAAsB,UAAtBA,EAAA,OAC3B1b,EAAAtgB,EAAAugB,cAAA0b,GAAA,GAAgBd,UAAWA,EAAWrG,MAAOA,KAGjCoH,GAAiB,SAAA36B,GAAA,IAAG46B,EAAH56B,EAAG46B,QAAS5G,EAAZh0B,EAAYg0B,SAAZ,OAC7BjV,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKc,QAAQ,OAAOC,KAAK,IAAIC,WAAW,UACvChc,EAAAtgB,EAAAugB,cAAA+a,EAAA,OAAM/F,GACNjV,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiB,GAAI,EAAGC,GAAI,GACdL,GAAW7b,EAAAtgB,EAAAugB,cAAAkc,GAAA,WCyBTC,GAAa1F,GAAoB2F,KACjCC,GAAgB5F,GAAoB6F,IAClCC,GAAuB70B,gCAEzB80B,GAAY9C,aAAW,SAAAC,GAC5B,IAAMI,EAAc,SAAAz5B,KAAG0F,KAAH,OAEhB2zB,EAAMK,QAAQC,QAAQwC,cAGpBC,EAAgB,SAAA17B,KAAGgF,KAAH,OAElB2zB,EAAMK,QAAQC,QAAQC,MAG1B,MAAO,CACNyC,WAAY,CACXhT,gBAAiBgQ,EAAMK,QAAQH,WAAW+C,OAE3CC,WAAY,CACXC,WAAY,GAEbC,YAAa,CACZxI,MAAOoF,EAAMK,QAAQlE,KAAKkH,UAC1BnB,QAAS,OACToB,cAAe,SACfC,eAAgB,iBAEjBC,QAAS,CACRC,SAAU,WACV3J,IAAK,EACL4J,KAAM,EACNC,MAAO,EACPC,OAAQ,IACRC,UAAW,OACXC,UAAW,UAEZC,eAAgB,GAChB5Y,QAAS,CACRsY,SAAU,WACVG,OAAQ,EACRF,KAAM,EACNC,MAAO,EACPK,QAAS,GACTC,YAAa,GACbC,eAAgB,EAChBC,eAAgBnE,EAAMK,QAAQ+D,QAC9BC,eAAgB,SAEjBrL,OAAQ,CACP4B,MAAOwF,EACPpQ,gBAAiB+S,EACjBuB,UAAW,CACVtU,gBAAiB+S,GAElBlC,UAAW,CACV7Q,gBAAiB+S,EACjBnI,MAAOwF,EACPmE,0BAA2B,CAC1B3J,MAAOwF,IAGTmE,0BAA2B,CAC1B3J,MAAOoF,EAAMK,QAAQM,OAAOC,QAG9B4D,QAAS,CACR5J,MAAOoF,EAAMK,QAAQlE,KAAKsI,KAC1B5D,UAAW,CACVjG,MAAOoF,EAAMK,QAAQlE,KAAKkH,YAG5BqB,WAAY,CACXC,aAAY,GAAAj1B,OAAKswB,EAAM4E,QAAQ,GAAnB,OAEbC,KAAM,CACLC,OAAQ,GACRC,MAAO,OACPC,OAAQ,WAETC,OAAQ,CACPC,SAAUlF,EAAMmF,WAAWC,QAAQ,QA8QvBC,OAzQf,SAAiB9M,GAChB,IAAMlsB,EAAOsvB,YAAYxvB,MACnBnD,EAAW2yB,YAAYhyB,KACvB63B,EAAUqB,GAAU,CAAEx2B,SACtBi5B,EAAiB3J,YAAYhH,MAC3BvE,EAAWuL,YAAYj0B,MAAvB0oB,OAGF1c,EAAW4xB,EAAe9P,SAASjsB,MAAM,KAAK,GAE9C4H,EADwB,eAAT9E,EACQ,QAAU,QAC/Bk5B,EAAsC5J,YAC7CvxB,KADOm7B,kCAIR,MAAgB,eAATl5B,GAAkC,cAATA,EAAuB,KACtD+Z,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CACCc,QAAQ,OACRoB,cAAc,SACdC,eAAe,gBACfiC,SAAS,KAETpf,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,KACChb,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,KACChb,EAAAtgB,EAAAugB,cAACoc,EAAA,EAAD,KACCrc,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,KACChb,EAAAtgB,EAAAugB,cAACqc,GAAD,CAEChZ,GAAI,CAAE8L,SAAU,cAAgBnpB,GAChC40B,UAAWO,EAAQqD,OAEpBze,EAAAtgB,EAAAugB,cAACof,GAAD,CACCxD,SACEsD,GACqC,IAAtCA,GAGDnf,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CACCnL,QAAQ,SACR2H,QAAQ,QACRyD,UAAU,MACV/K,MAAM,cACN4G,QAAS,CAAEoE,OAAQpE,EAAQyD,SAE3B7e,EAAAtgB,EAAAugB,cAAA,iBAAA3W,OAAY61B,GACX,EADD,KAAA71B,OACM0gB,KAEPhK,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYnL,QAAQ,SAASoL,UAAU,MAAMzD,QAAQ,SACnDn7B,aAAE,yBAMRqf,EAAAtgB,EAAAugB,cAACwf,GAAD,CAAY5E,UAAWO,EAAQkD,WAAYr4B,KAAMA,EAAMtF,EAAGA,QAG3Dqf,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CACCc,QAAQ,OACRoB,cAAc,SACdC,eAAe,gBACfpB,KAAK,KAEL/b,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,KACChb,EAAAtgB,EAAAugB,cAACyf,EAAA,EAAD,KACC1f,EAAAtgB,EAAAugB,cAACib,EAAA,EAAD,MACAlb,EAAAtgB,EAAAugB,cAACmc,GAAD,CACCoD,QAAM,EACNlc,GAAI,CAAE8L,SAAU,cAAgBnpB,GAChC40B,UAAW8E,KAAW9+B,OAAA++B,EAAA,EAAA/+B,CAAA,GAAGu6B,EAAQxI,QAAUtlB,KAE3C0S,EAAAtgB,EAAAugB,cAAC4f,EAAA,EAAD,KACC7f,EAAAtgB,EAAAugB,cAAC6f,GAAApgC,EAAD,OAEDsgB,EAAAtgB,EAAAugB,cAAC8f,EAAA,EAAD,CAAc7F,QAASv5B,aAAE,gBAE1Bqf,EAAAtgB,EAAAugB,cAACib,EAAA,EAAD,MACAlb,EAAAtgB,EAAAugB,cAACmc,GAAD,CACCoD,QAAM,EACNlc,GAAI,CAAE8L,SAAU,cAAgBnpB,EAAO,IAAM8E,GAC7C8vB,UAAW8E,KAAW9+B,OAAA++B,EAAA,EAAA/+B,CAAA,GACpBu6B,EAAQxI,OAAStlB,IAAavC,KAGhCiV,EAAAtgB,EAAAugB,cAAC4f,EAAA,EAAD,KACC7f,EAAAtgB,EAAAugB,cAAC+f,GAAAtgC,EAAD,OAEDsgB,EAAAtgB,EAAAugB,cAAC8f,EAAA,EAAD,CAAc7F,QAASv5B,aAAEoK,EAAM6T,kBAEhCoB,EAAAtgB,EAAAugB,cAACib,EAAA,EAAD,MACU,eAATj1B,GACA+Z,EAAAtgB,EAAAugB,cAAAD,EAAAtgB,EAAAugC,SAAA,KACCjgB,EAAAtgB,EAAAugB,cAACmc,GAAD,CACCoD,QAAM,EACNlc,GAAI,CAAE8L,SAAU,mCAChByL,UAAW8E,KAAW9+B,OAAA++B,EAAA,EAAA/+B,CAAA,GACpBu6B,EAAQxI,OAAsB,cAAbtlB,KAGnB0S,EAAAtgB,EAAAugB,cAAC4f,EAAA,EAAD,KACC7f,EAAAtgB,EAAAugB,cAACigB,GAAD,OAEDlgB,EAAAtgB,EAAAugB,cAAC8f,EAAA,EAAD,CAAc7F,QAASv5B,aAAE,gBAE1Bqf,EAAAtgB,EAAAugB,cAACib,EAAA,EAAD,MACAlb,EAAAtgB,EAAAugB,cAACmc,GAAD,CACCoD,QAAM,EACNlc,GAAI,CAAE8L,SAAU,mCAChByL,UAAW8E,KAAW9+B,OAAA++B,EAAA,EAAA/+B,CAAA,GACpBu6B,EAAQxI,OAAsB,cAAbtlB,KAGnB0S,EAAAtgB,EAAAugB,cAAC4f,EAAA,EAAD,KACC7f,EAAAtgB,EAAAugB,cAACkgB,GAAAzgC,EAAD,OAEDsgB,EAAAtgB,EAAAugB,cAAC8f,EAAA,EAAD,CAAc7F,QAASv5B,aAAE,gBAE1Bqf,EAAAtgB,EAAAugB,cAACib,EAAA,EAAD,OAGQ,cAATj1B,GACA+Z,EAAAtgB,EAAAugB,cAAAD,EAAAtgB,EAAAugC,SAAA,KACCjgB,EAAAtgB,EAAAugB,cAACmc,GAAD,CACCoD,QAAM,EACNlc,GAAI,CAAE8L,SAAU,iCAChByL,UAAW8E,KAAW9+B,OAAA++B,EAAA,EAAA/+B,CAAA,GACpBu6B,EAAQxI,OAAsB,aAAbtlB,KAGnB0S,EAAAtgB,EAAAugB,cAAC4f,EAAA,EAAD,KACC7f,EAAAtgB,EAAAugB,cAACmgB,GAAA1gC,EAAD,OAEDsgB,EAAAtgB,EAAAugB,cAAC8f,EAAA,EAAD,CAAc7F,QAASv5B,aAAE,eAE1Bqf,EAAAtgB,EAAAugB,cAACib,EAAA,EAAD,MACAlb,EAAAtgB,EAAAugB,cAACmc,GAAD,CACCoD,QAAM,EACNlc,GAAI,CAAE8L,SAAU,iCAChByL,UAAW8E,KAAW9+B,OAAA++B,EAAA,EAAA/+B,CAAA,GACpBu6B,EAAQxI,OAAsB,aAAbtlB,KAGnB0S,EAAAtgB,EAAAugB,cAAC4f,EAAA,EAAD,KACC7f,EAAAtgB,EAAAugB,cAAAogB,EAAA,SAEDrgB,EAAAtgB,EAAAugB,cAAC8f,EAAA,EAAD,CAAc7F,QAASv5B,aAAE,eAE1Bqf,EAAAtgB,EAAAugB,cAACib,EAAA,EAAD,SAKJlb,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,KACChb,EAAAtgB,EAAAugB,cAACyf,EAAA,EAAD,KACC1f,EAAAtgB,EAAAugB,cAACib,EAAA,EAAD,MACAlb,EAAAtgB,EAAAugB,cAACmc,GAAD,CACCoD,QAAM,EACNlc,GAAI,CAAE8L,SAAU,cAAgBnpB,EAAO,UACvC40B,UAAW8E,KAAW9+B,OAAA++B,EAAA,EAAA/+B,CAAA,GACpBu6B,EAAQxI,OAAsB,UAAbtlB,KAGnB0S,EAAAtgB,EAAAugB,cAAC4f,EAAA,EAAD,KACC7f,EAAAtgB,EAAAugB,cAACqgB,GAAA5gC,EAAD,CAAoB80B,MAAM,eAE3BxU,EAAAtgB,EAAAugB,cAAC8f,EAAA,EAAD,CAAc7F,QAASv5B,aAAE,aAE1Bqf,EAAAtgB,EAAAugB,cAACib,EAAA,EAAD,MACAlb,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CAAQqgB,OAAO,SAASpgB,KAAI,GAAA7W,OAAK3B,uCAChCqY,EAAAtgB,EAAAugB,cAACoc,EAAA,EAAD,CAAUmD,QAAM,GACfxf,EAAAtgB,EAAAugB,cAAC4f,EAAA,EAAD,KACC7f,EAAAtgB,EAAAugB,cAACugB,GAAA9gC,EAAD,OAEDsgB,EAAAtgB,EAAAugB,cAAC8f,EAAA,EAAD,CAAc7F,QAASv5B,aAAE,YAI3Bqf,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CAAQqgB,OAAO,SAASpgB,KAAI,GAAA7W,OAAKkzB,GAAqB55B,IACrDod,EAAAtgB,EAAAugB,cAACoc,EAAA,EAAD,CAAUmD,QAAM,GACfxf,EAAAtgB,EAAAugB,cAAC4f,EAAA,EAAD,KACC7f,EAAAtgB,EAAAugB,cAACwgB,GAAA/gC,EAAD,OAEDsgB,EAAAtgB,EAAAugB,cAAC8f,EAAA,EAAD,CAAc7F,QAASv5B,aAAE,oBAI3Bqf,EAAAtgB,EAAAugB,cAACmc,GAAD,CACCoD,QAAM,EACNlc,GAAI,CAAE8L,SAAU,cAAgBnpB,EAAO,YACvC40B,UAAW8E,KAAW9+B,OAAA++B,EAAA,EAAA/+B,CAAA,GACpBu6B,EAAQxI,OAAsB,YAAbtlB,KAGnB0S,EAAAtgB,EAAAugB,cAAC4f,EAAA,EAAD,KACC7f,EAAAtgB,EAAAugB,cAACygB,GAAAhhC,EAAD,OAEDsgB,EAAAtgB,EAAAugB,cAAC8f,EAAA,EAAD,CAAc7F,QAASv5B,aAAE,iBAM7Bqf,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,KACChb,EAAAtgB,EAAAugB,cAACib,EAAA,EAAD,MACAlb,EAAAtgB,EAAAugB,cAACoc,EAAA,EAAD,KACCrc,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,KACChb,EAAAtgB,EAAAugB,cAAA,WACCD,EAAAtgB,EAAAugB,cAAA,aACE,IADF,SAES,IAAI1Q,MAAOoxB,cAFpB,QAGC3gB,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CAAQqgB,OAAO,SAASpgB,KAAMxY,6BAA9B,wBAKFqY,EAAAtgB,EAAAugB,cAAA,WACCD,EAAAtgB,EAAAugB,cAAA,aACCD,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCqgB,OAAO,SACPpgB,KAAI,GAAA7W,OAAK3B,4BAAL,SAEHhH,aAAE,UAINqf,EAAAtgB,EAAAugB,cAAA,WACCD,EAAAtgB,EAAAugB,cAAA,aACCD,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCqgB,OAAO,SACPpgB,KACCxY,2EAHF,qBASDqY,EAAAtgB,EAAAugB,cAAA,oBACAD,EAAAtgB,EAAAugB,cAAA,aACCD,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCqgB,OAAO,SACPpgB,KACCxY,2EAHF,cAUFqY,EAAAtgB,EAAAugB,cAAA,WACCD,EAAAtgB,EAAAugB,cAAA,aACCD,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCqgB,OAAO,SACPpgB,KAAK,+EAFN,KAIIygB,GAAY7b,QAJhB,4ECjXF8b,GAAU,SAAAtgC,GAAa,IAAV2wB,EAAU3wB,EAAV2wB,IAClB,OACClR,EAAAtgB,EAAAugB,cAAA,OACCiR,IAAKA,EACLwN,OAAQ,GACRC,MAAM,OACNmC,IAAI,OACJC,MAAO,CAAEC,YAAa,MAmEVC,OA9Df,SAAAhgC,GAA+E,IAAzDg0B,EAAyDh0B,EAAzDg0B,SAAUiM,EAA+CjgC,EAA/CigC,SAAU5mB,EAAqCrZ,EAArCqZ,MAAO6mB,EAA8BlgC,EAA9BkgC,UAAWC,EAAmBngC,EAAnBmgC,YAAah6B,EAAMnG,EAANmG,GAAM8tB,EAC9CC,mBAAS,MADqCC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GACvEmM,EADuEjM,EAAA,GAC7DkM,EAD6DlM,EAAA,GAOxEmM,EAAc,WACnBD,EAAY,OAGPE,EAAWJ,EAAcphB,EAAAtgB,EAAAugB,cAACwhB,GAAD,CAASvQ,IAAKkQ,IAAkB,KAE/D,OACCphB,EAAAtgB,EAAAugB,cAAAD,EAAAtgB,EAAAugC,SAAA,KACCjgB,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACCuK,MAAOG,EACPxM,QAdgB,SAAA+C,GAClB6J,EAAY7J,EAAMiK,gBAchBC,gBAAc,OACdC,gBAAex6B,GAEdo6B,EACDxhB,EAAAtgB,EAAAugB,cAAA,QACC8gB,MAAO,CACNc,SAAU,IACVC,SAAU,SACVC,aAAc,aAGdznB,GAED6mB,GAEFnhB,EAAAtgB,EAAAugB,cAAA+hB,GAAA,GACC56B,GAAIA,EACJwsB,KAAMqO,QAAQZ,GACdA,SAAUA,EACVa,mBAAoB,KACpB3O,aAAc,CACbC,SAAU,SACVC,WAAY,SAEb0O,gBAAiB,CAChB3O,SAAU,MACVC,WAAY,SAEbiB,QAAS6M,EACTxN,QAASwN,GAERa,WAAS/gC,IAAI4zB,EAAU,SAAAoN,GAAK,OAC5BC,uBAAaD,EAAO,CACnB3N,QAAS,WACuB,oBAAxB2N,EAAMlQ,MAAMuC,SAA0B2N,EAAMlQ,MAAMuC,UACzD6M,0CC/DQ,SAASgB,GAAU5L,GAajC,OAZA,SAAoBxE,GACnB,IAAMjoB,EAAWqrB,YAAYtrB,MAQ7B,OAAO+V,EAAAtgB,EAAAugB,cAAC0W,EAAD91B,OAAA03B,OAAA,GAAepG,EAAf,CAAsBxxB,EANnB,SAACyJ,GAA8C,IAAA7J,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAO6iC,EAAAjiC,EAAvCiK,cAAuC,IAAAg4B,KAAAC,EAAAliC,EAAvBmK,YAAuB,IAAA+3B,EAAhB,CAAC,IAAeA,EAGxD,OAFoB53B,aAAUT,EAAK,CAAEI,SAAQE,QAAQR,oFCL3Cw4B,GAAc,SAAA5/B,GAC1B,OAAQA,GACP,KAAK6/B,KAAWC,SAASvkB,KACxB,OAAOwkB,KACR,KAAKF,KAAWG,OAAOzkB,KACtB,OAAO0kB,KACR,KAAKJ,KAAWK,KAAK3kB,KACpB,OAAO4kB,KACR,QACC,MAAO,8ECXGC,GAAS,SAAAtJ,GAAS,IAAAuJ,EAAAC,EAC9B,MAAO,CACNhJ,KAAM,CACLiJ,UAAW,GACXjE,SAAU,EACV0C,SAAU,SACVzE,SAAU,WACVvB,QAAS,OACT4C,OAAQ,qBACRC,MAAO,SAER2E,OAAOziC,OAAA++B,EAAA,EAAA/+B,CAAA,CACN6yB,IAAK,EACL4J,KAAM,EACNC,MAAO,EACPoB,MAAO,OACPtB,SAAU,SAETzD,EAAM2J,YAAYC,GAAG,MAAQ,CAE7BlG,KAvBgB,MA0BlBvB,KAAM,CACLA,KAAM,EACNmB,cAAe,MACfpB,QAAS,OACTE,WAAY,SACZyH,aAAc7J,EAAM4E,QAAQ,GAC5BX,YAAajE,EAAM4E,QAAQ,IAG5BkF,QAAS,CACR5H,QAAS,OACTE,WAAY,SACZ2H,UAAW,OACXC,cAAehK,EAAM4E,QAAQ,GAC7BqF,eAAgB,CACfJ,aAxCyB,MA2C3BK,gBAAiB,CAChB3G,eAAgB,YAEjB4G,aAAc,CACb5G,eAAgB,cAEjB6G,QAAS,CACRC,SAAU,OACVvF,OAAQ,GACR+E,aAAc,EACd5F,YAAa,GAEdqG,aAAWf,EAAA,CACVxE,MAzDiB,KAwDP99B,OAAA++B,EAAA,EAAA/+B,CAAAsiC,EAETvJ,EAAM2J,YAAYC,GAAG,MAAQ,CAC7BnG,SAAU,UAHDx8B,OAAA++B,EAAA,EAAA/+B,CAAAsiC,EAAA,kBAKO,QALPA,GAOXgB,SAAOf,EAAA,CACNhE,SAAU,EACVxV,gBAAiBgQ,EAAMK,QAAQH,WAAWsK,QAC1CxG,QAAShE,EAAM4E,QAAQ,GACvBzB,WAAYnD,EAAM4E,QAAQ,GAC1BsD,SAAU,QALJjhC,OAAA++B,EAAA,EAAA/+B,CAAAuiC,EAMLxJ,EAAM2J,YAAYC,GAAG,MAAQ,CAC7Ba,WAtEgB,IAuEhBzG,QAAShE,EAAM4E,QAAQ,GACvBzB,WAAYnD,EAAM4E,QAAQ,KATrB39B,OAAA++B,EAAA,EAAA/+B,CAAAuiC,EAYLxJ,EAAM2J,YAAYe,KAAK,MAAQ,CAC/B1G,QAAShE,EAAM4E,QAAQ,KAblB4E,GAgBPmB,aAAa1jC,OAAA++B,EAAA,EAAA/+B,CAAA,CACZghC,SAAU,KACV2C,OAAQ,QAEP5K,EAAM2J,YAAYe,KAAK,MAAQ,CAC/BV,cAAe,IAAMhK,EAAM4E,QAAQ,KAGrCiG,kBAAkB5jC,OAAA++B,EAAA,EAAA/+B,CAAA,CACjBghC,SAAQ,gBAAAv4B,OAAkBswB,EAAM4E,QAAQ,GAAhC,QACP5E,EAAM2J,YAAYC,GAAG,MAAQ,CAC7B3B,SAAQ,gBAAAv4B,OAAkBswB,EAAM4E,QAAQ,GA1FxB,IACS,IAyFjB,oBCxDNkG,GAAahO,GAAoBiO,GAAA,GACjCC,GAASlO,GAAoBmO,GAAA,GAC7BpI,GAAY9C,aAAWuJ,IA4GdX,UA1Gf,SAAAhiC,GAAiD,IAA/BukC,EAA+BvkC,EAA/BukC,mBAAoB7+B,EAAW1F,EAAX0F,KAAMtF,EAAKJ,EAALI,EACrCy6B,EAAUqB,KACVn6B,EAAUizB,YAAYlzB,KACtB0iC,EAASrC,GAAYpgC,EAAQK,OAAOG,UACpCkiC,EAAczP,YAAYrG,MAC1B+V,EACuB,SAA5B3iC,EAAQK,OAAOG,SACZnC,EAAE,aACF2B,EAAQW,OACRiiC,aAAc5iC,EAAQK,OAAO5B,UAC7BJ,EAAE,cAEN,OACCqf,EAAAtgB,EAAAugB,cAAAklB,GAAA,GAAQtK,UAAWO,EAAQkI,OAAQ9O,MAAM,UAAU6I,SAAS,UAC3Drd,EAAAtgB,EAAAugB,cAAAmlB,GAAA,GAASvK,UAAWO,EAAQ4I,SAC3BhkB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCc,QAAQ,OACRoB,cAAc,MACdkC,SAAS,IACTpD,WAAW,SACXmB,eAAe,iBAEfnd,EAAAtgB,EAAAugB,cAAAolB,EAAA,GAAQC,MAAI,GACXtlB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKuK,GAAI,GACRvlB,EAAAtgB,EAAAugB,cAAAqU,EAAA,GACCE,MAAM,UACND,aAAW,cACXG,QAASoQ,GAET9kB,EAAAtgB,EAAAugB,cAACulB,GAAA9lC,EAAD,SAKHsgB,EAAAtgB,EAAAugB,cAAAolB,EAAA,GAAQI,QAAM,GACbzlB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKc,QAAQ,OAAOsD,SAAS,IAAImG,GAAI,GACpCvlB,EAAAtgB,EAAAugB,cAAAylB,GAAA,GAAanR,aAAW,cACtByQ,EAAY3jC,IAAI,SAAAJ,EAAgBspB,GAAhB,IAAGjH,EAAHriB,EAAGqiB,GAAIhJ,EAAPrZ,EAAOqZ,MAAP,OAChBgJ,GAAMiH,EAAQya,EAAYplC,OAAS,EAClCogB,EAAAtgB,EAAAugB,cAAC2kB,GAAD,CAAQpf,IAAG,GAAAlc,OAAKihB,EAAL,KAAAjhB,OAAcga,GAAMA,GAAIA,GACjChJ,GAGF0F,EAAAtgB,EAAAugB,cAAAqf,GAAA,GACClE,QAAS,CAAEhB,KAAMgB,EAAQqJ,mBACzBkB,QAAM,EACNpG,UAAU,MACV/Z,IAAG,GAAAlc,OAAKihB,EAAL,KAAAjhB,OAAcgR,GACjBka,MAAM,eAELla,QAQP0F,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKc,QAAQ,OAAOoB,cAAc,MAAMlB,WAAW,SAAS4J,GAAI,GAE/D5lB,EAAAtgB,EAAAugB,cAAC4lB,GAAAnmC,EAAD,CACComC,SAAU,GACVC,KAAMC,8BAAmB1jC,EAAQK,OAAO5B,WAEzCif,EAAAtgB,EAAAugB,cAACgmB,GAAD,CACC7+B,GAAG,cACHg6B,YAAa2D,EACb5D,UAAWnhB,EAAAtgB,EAAAugB,cAACimB,GAAAxmC,EAAD,MACX4a,MAAO2qB,GAEPjlB,EAAAtgB,EAAAugB,cAACykB,GAAD,CACC9vB,MAAM,UACN0O,GAAI,CAAE8L,SAAU,cAAgBnpB,EAAO,YACvCkgC,QAASxlC,EAAE,YAEXqf,EAAAtgB,EAAAugB,cAAA4f,EAAA,OACC7f,EAAAtgB,EAAAugB,cAACygB,GAAAhhC,EAAD,OAEDsgB,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACC3E,QAAS,CAAElB,QAASkB,EAAQlB,SAC5BA,QAASv5B,EAAE,cAIbqf,EAAAtgB,EAAAugB,cAAA0kB,GAAA,GACC/vB,MAAM,SACN8f,QAAS,WACR0R,iBAGDpmB,EAAAtgB,EAAAugB,cAAA4f,EAAA,OACC7f,EAAAtgB,EAAAugB,cAAComB,GAAA3mC,EAAD,OAEDsgB,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACC3E,QAAS,CAAElB,QAASkB,EAAQlB,SAC5BA,QAASv5B,EAAE,0KClHd2lC,GAAoB,IACpBC,eACL,SAAAA,EAAYpU,GAAO,IAAAC,EAAA,OAAAvxB,OAAAwxB,EAAA,EAAAxxB,CAAAyxB,KAAAiU,IAClBnU,EAAAvxB,OAAA0xB,EAAA,EAAA1xB,CAAAyxB,KAAAzxB,OAAA2xB,EAAA,EAAA3xB,CAAA0lC,GAAA9T,KAAAH,KAAMH,KAYPqU,aAAe,SAAAhN,GACdA,GAAMA,EAAGzB,iBAAmByB,EAAGzB,kBAC/ByB,GAAMA,EAAG1B,gBAAkB0B,EAAG1B,iBAC9B,IAAIlF,EAASR,EAAKpyB,MAAM4yB,OACxBR,EAAKO,SAAS,CAAEC,QAASA,KAjBPR,EA6CnBqU,0BAA4B,SAAAvT,GAC3B,IAAMwT,EAAU1V,aAAQkC,EAAUhC,KAC5ByV,EAAU3V,aAAQoB,EAAKD,MAAMjB,KAC7B0V,EAAe5V,aAAQkC,EAAU2T,aAC/BnjB,EAAcwP,EAAdxP,UAEJgjB,IAAYC,MACGjjB,GAAaojB,aAAapjB,IAG3C0O,EAAK2U,aAAe3U,EAAK2U,cAAgBC,SAAS/mB,cAAc,SAChEmS,EAAK6U,gBAAgB,CACpBC,MAAOlW,aAAQ0V,GACfS,SAAUnW,aAAQ4V,IAAiBQ,SAGpChV,EAAKiV,aAAejV,EAAKiV,cAAgB,IAAIC,MAC7ClV,EAAKmV,gBAAgB,CACpBL,MAAOlW,aAAQ0V,GACfS,SAAUnW,aAAQ4V,IAAiBQ,UAhEpBhV,EAgFnBoV,iBAAmB,WACdpV,EAAKqV,cACRC,aAAatV,EAAKqV,aAClBrV,EAAKqV,YAAc,OAnFFrV,EAuFnBuV,OAAS,SAACR,EAAUD,GACf9U,EAAKiV,eACRjV,EAAKiV,aAAaO,QAAU,KAC5BxV,EAAKiV,aAAaQ,OAAS,KAC3BzV,EAAKiV,aAAaS,QAAU,KAE5B1V,EAAKoV,mBACLpV,EAAKiV,aAAanW,IAAMiW,GAGzB/U,EAAKoV,mBAELpV,EAAKO,SAAS,CACboS,OAAQoC,GAAY,QApGH/U,EAwGnBmV,gBAAkB,SAAAhnC,GAAyB,IAAtB2mC,EAAsB3mC,EAAtB2mC,MAAOC,EAAe5mC,EAAf4mC,SAC3B/U,EAAKoV,mBACLpV,EAAKqV,YAAc5U,WAAW,WAC7BT,EAAKuV,OAAOR,EAAUD,IACpBZ,IAEHlU,EAAKiV,aAAaO,QAAUxV,EAAKiV,aAAaS,QAAU1V,EAAKuV,OAAOI,KAAZlnC,OAAAmnC,GAAA,EAAAnnC,CAAAuxB,GAEvD+U,GAGD/U,EAAKiV,aAAaQ,OAAS,WAC1BzV,EAAKoV,mBACLpV,EAAKO,SAAS,CACboS,OAAQmC,EACRe,SAAU,QAIZ7V,EAAKiV,aAAanW,IAAMgW,GA3HN9U,EA8HnB6U,gBAAkB,SAAAhmC,GAAyB,IAAtBimC,EAAsBjmC,EAAtBimC,MAAOC,EAAelmC,EAAfkmC,SAC3B/U,EAAKoV,mBACLpV,EAAK2U,aAAa7V,IAAMgW,EAExB9U,EAAKqV,YAAc5U,WAAW,WAC7BT,EAAKuV,OAAOR,IACVb,IAEHlU,EAAK2U,aAAamB,iBAAmB,SAAA9mC,GAAgBA,EAAbm/B,OACvCnO,EAAKoV,mBACLpV,EAAKO,SAAS,CACbsV,SAAUf,EACVnC,OAAQ,SAxIV3S,EAAKpyB,MAAQ,CACZ+kC,OAAQ,KACRnS,QAAQ,EACRqV,SAAU,MAGX7V,EAAKmV,gBAAkBnV,EAAKmV,gBAAgBQ,KAArBlnC,OAAAmnC,GAAA,EAAAnnC,CAAAuxB,IACvBA,EAAK6U,gBAAkB7U,EAAK6U,gBAAgBc,KAArBlnC,OAAAmnC,GAAA,EAAAnnC,CAAAuxB,IACvBA,EAAKqV,YAAc,KAVDrV,mFAoBC,IAAAsF,EACiCpF,KAAKH,MAAjDjB,EADWwG,EACXxG,IAAK2V,EADMnP,EACNmP,YAAanjB,EADPgU,EACOhU,UAAWykB,EADlBzQ,EACkByQ,WAC/BC,IAAY1kB,GAAaojB,aAAapjB,GAE5C,GAAI0kB,IAAYD,EACf,OAAO7V,KAAKK,SAAS,CACpBoS,OAAQsD,OAIND,GACH9V,KAAKyU,aAAeC,SAAS/mB,cAAc,SAC3CqS,KAAK2U,gBAAgB,CACpBC,MAAOlW,aAAQE,GACfiW,SAAUnW,aAAQ6V,IAAgBO,SAGnC9U,KAAK+U,aAAe,IAAIC,MACxBhV,KAAKiV,gBAAgB,CACpBL,MAAOlW,aAAQE,GACfiW,SAAUnW,aAAQ6V,IAAgBO,uDA+BpC9U,KAAKkV,mBACDlV,KAAK+U,eACR/U,KAAK+U,aAAaO,QAAU,KAC5BtV,KAAK+U,aAAaQ,OAAS,KAC3BvV,KAAK+U,aAAaS,QAAU,KAC5BxV,KAAK+U,aAAe,8CAmEN,IAAA/T,EAAAhB,KACP8I,EAAY9I,KAAKH,MAAjBiJ,QACR,OACCpb,EAAAtgB,EAAAugB,cAAA,YACCD,EAAAtgB,EAAAugB,cAACqoB,GAAA,EAAD,CACC7T,KAAK,QACLD,MAAM,UACNqG,UAAW8E,KAAWvE,EAAQmN,gBAC9B7T,QAAS,WACRpB,EAAKkT,iBAGNxmB,EAAAtgB,EAAAugB,cAACuoB,GAAA9oC,EAAD,OAEA4yB,KAAKmW,2EAKgB,IAAAvQ,EACU5F,KAAKH,MAA/BxxB,EADgBu3B,EAChBv3B,EAAGmgC,EADa5I,EACb4I,IAAK1F,EADQlD,EACRkD,QAASpyB,EADDkvB,EACClvB,KADD0/B,EAEapW,KAAKtyB,MAAlC4yB,EAFgB8V,EAEhB9V,OAAQmS,EAFQ2D,EAER3D,OAAQkD,EAFAS,EAEAT,SAExB,OACCjoB,EAAAtgB,EAAAugB,cAACkW,EAAA,EAAD,CACCvC,KAAMhB,EACN5pB,KAAMA,GAAQ,SACd64B,UAAU,EACV9N,QAASzB,KAAKkU,aACdpL,QAAS,CAAEyB,MAAOzB,EAAQuN,SAE1B3oB,EAAAtgB,EAAAugB,cAACoW,EAAA,EAAD,CAAewE,UAAWO,EAAQwN,mBAChC7D,EACA/kB,EAAAtgB,EAAAugB,cAAA,OACC6gB,IAAKA,EACL5P,IAAK6T,EACL8D,UAAU,QACVhO,UAAW8E,KAAWvE,EAAQ0N,YAAa1N,EAAQ2N,YACnDC,YAAa,SAAAvR,GAAK,OAAIA,EAAMK,oBAG7B9X,EAAAtgB,EAAAugB,cAAA,SACCiR,IAAK+W,EACLgB,UAAQ,EACRC,OAAK,EACLC,MAAI,EACJC,UAAQ,EACRvO,UAAW8E,KAAWvE,EAAQ0N,YAAa1N,EAAQ2N,eAItD/oB,EAAAtgB,EAAAugB,cAACsW,EAAA,EAAD,KACCvW,EAAAtgB,EAAAugB,cAACuW,EAAA,EAAD,CAAQ9B,QAASpC,KAAKkU,aAAchS,MAAM,WACxC7zB,EAAE,6CAOC,IAAA0oC,EASJ/W,KAAKH,MAPR2O,EAFOuI,EAEPvI,IACAwI,EAHOD,EAGPC,gBACAzO,EAJOwO,EAIPxO,UACA0O,EALOF,EAKPE,aACAnO,EANOiO,EAMPjO,QACAoO,EAPOH,EAOPG,kBACA9U,EARO2U,EAQP3U,QARO+U,EAUqBnX,KAAKtyB,MAA1B+kC,EAVA0E,EAUA1E,OAAQkD,EAVRwB,EAUQxB,SAChB,OAAOlD,GAAUkD,EAChBjoB,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAW8E,KAAW9E,EAAWO,EAAQsO,UAC1C3E,EACF/kB,EAAAtgB,EAAAugB,cAAA,OACC6gB,IAAKA,EACL5P,IAAKoB,KAAKtyB,MAAM+kC,OAChB8D,UAAU,QACVhO,UAAW8E,KACVvE,EAAQ2N,WACR3N,EAAQuO,IACRJ,GAEDP,YAAa,SAAAvR,GAAK,OAAIA,EAAMK,kBAC5BpD,QAASA,GAAY8U,GAAqBlX,KAAKkU,eAGhDxmB,EAAAtgB,EAAAugB,cAAA,SACCiR,IAAK+W,EACLpN,UAAW8E,KAAWvE,EAAQ2N,WAAY3N,EAAQuO,KAClDV,UAAQ,EACRC,OAAK,EACLC,MAAI,EACJzU,QAASA,GAAY8U,GAAqBlX,KAAKkU,eAGhD8C,GAAmBhX,KAAKsX,gBACxBJ,GAAqBlX,KAAKmW,0BAG5BzoB,EAAAtgB,EAAAugB,cAAA,QAAM4a,UAAW8E,KAAWvE,EAAQ2N,WAAYlO,IAC/C7a,EAAAtgB,EAAAugB,cAAA,QAAM4a,UAAWO,EAAQyO,UACxB7pB,EAAAtgB,EAAAugB,cAACkc,GAAA,EAAD,eAtPavH,aAsQH2N,MAAUuH,aC1RH,SAAAlQ,GAAK,MAAK,CAC/BmP,WAAY,CACXrV,IAAK,EACL4J,KAAM,EACNqB,MAAO,OACPD,OAAQ,OACRrB,SAAU,WACVvB,QAAS,gBAEV+N,SAAU,CACTxM,SAAU,WACV3J,IAAK,mBACL4J,KAAM,mBACNxB,QAAS,gBAEVyM,eAAgB,CACflL,SAAU,WACV3J,IAAKkG,EAAM4E,QAAQ,GACnBjB,MAAO3D,EAAM4E,QAAQ,GACrBI,OAAQ,UACRD,MAAO,OACPD,OAAQ,OACRqL,UAAW,QAEZpB,OAAQ,CACPqB,0BAA2B,CAC1B3P,SAAQ,gBAAA/wB,OAAkBswB,EAAM4E,QAAQ,GAAhC,QAETyL,2BAA4B,CAC3BF,UAAW,SAGbnB,kBAAmB,CAClBsB,2BAA4B,CAC3BrI,SAAU,OACVsI,UAAW,QACXrO,QAAS,QACT0I,OAAQ,QAETwF,0BAA2B,CAC1BnM,YAAa,EACb4F,aAAc,IAGhBqF,YAAa,CACZpK,OAAQ,OACRmD,SAAU,QAEX8H,IAAK,CACJhL,MAAO,OACPD,OAAQ,OACR0L,UAAW,WAEZV,QAAS,CACRhL,OAAQ,OACRC,MAAO,UDmOgBmL,CAAmBvD,0BEpRtC8D,GAAsB,CAC3BC,YAAa,EACbC,mBAAoB,CAAC,EAAG,GAAI,GAAI,GAAI,KACpCC,cAAe,WACd,MAAO,CACN5M,QAAS,UACTnJ,KAAM,QACNkK,MAAO,OACP8L,MAAO,WAGTC,WAAY,CACXC,KAAM,CACLC,QAASjqC,aAAE,kBACXkqC,QAASlqC,aAAE,iBACXmqC,oBAAqB,SAAAC,GAAM,SAAAzhC,OACvB3I,aAAE,uBAAwB,CAC5B+J,KAAM,CAACqgC,EAAOzwB,OAASywB,QAG1BC,WAAY,CACXnT,KAAMl3B,aAAE,cACRsqC,SAAUtqC,aAAE,cACZ2pC,YAAa3pC,aAAE,uBACfuqC,YAAavqC,aAAE,uBAEhBqjC,QAAS,CACRtV,OAAQ/tB,aAAE,gBACVwqC,YAAaxqC,aAAE,gBACfyqC,MAAOzqC,aAAE,eACT0qC,YAAa1qC,aAAE,mBACf2qC,YAAa3qC,aAAE,iBAEhBkN,OAAQ,CACPnN,IAAKC,aAAE,oBACPmN,MAAOnN,aAAE,sBACT4qC,MAAO5qC,aAAE,uBAEV0qC,YAAa,CACZv9B,MAAOnN,aAAE,mBACT6qC,UAAW7qC,aAAE,yBAEd8qC,aAAc,CACb1V,KAAMp1B,aAAE,uBACR+qC,OAAQ/qC,aAAE,gBACVgrC,WAAYhrC,aAAE,4BAKX87B,GAAY9C,aAAW,SAAAC,GAC5B,MAAO,CACNgS,SAAU,CACTjN,MAAO,WAKK,SAASkN,GAAqB1Z,GAAO,IAC3CrkB,EAA2CqkB,EAA3CrkB,MAAOmM,EAAoCkY,EAApClY,KAAM6xB,EAA8B3Z,EAA9B2Z,QAASC,EAAqB5Z,EAArB4Z,QAASlQ,EAAY1J,EAAZ0J,QACjCT,EAAUqB,KAChB,OACCzc,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAC+rB,GAAAtsC,EAAD,CACCoO,MAAOA,EACPmM,KAAMA,EACN6xB,QAASA,EACTC,QAAOlrC,OAAAC,GAAA,EAAAD,CAAA,GACHwpC,GACA0B,EAFG,CAGNE,UAAW,EACX9X,QAAS,WACTzF,QAASyD,EAAM+Z,SACfC,UAAWha,EAAMia,WACjBhB,OAAQjZ,EAAMka,QACdC,eAAgBna,EAAMoa,cAAgB,WAAa,OACnDC,sBAAsBra,EAAMsa,eAC5BC,WAAY,cAGb7Q,GAAW7b,EAAAtgB,EAAAugB,cAAA0b,GAAA,GAAgBd,UAAWO,EAAQwQ,+EChF5Ce,GAAiB,SAACC,GAA2C,IAAtB9vB,EAAsBnd,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,GAAI80B,EAAS90B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC5D4+B,EAAO,CACZoO,GAAI,CAAE/N,SAAU,IAChBgO,GAAI,CAAEhO,SAAU,IAChBiO,GAAI,CAAEjO,SAAU,KAEXkO,EAAWhtB,EAAAtgB,EAAAugB,cAACgtB,GAAAvtC,EAAD,CAAmBqhC,MAAOtC,EAAKhK,GAAOD,MAAO,cACxD0Y,EAAWltB,EAAAtgB,EAAAugB,cAACktB,GAAAztC,EAAD,CAAaqhC,MAAOtC,EAAKhK,GAAOD,MAAO,YAClD4Y,EAAcptB,EAAAtgB,EAAAugB,cAACotB,GAAA3tC,EAAD,CAAaqhC,MAAOtC,EAAKhK,GAAOD,MAAO,UACrD8Y,EAAWttB,EAAAtgB,EAAAugB,cAACqgB,GAAA5gC,EAAD,CAAoBqhC,MAAOtC,EAAKhK,GAAOD,MAAO,cAC/D,GAA4B,WAAxBoY,GAA6D,cAAzB9vB,EAAOywB,cAC9C,OAAOP,EACR,OAAQlwB,EAAOywB,eACd,IAAK,SACL,IAAK,QACJ,OAAOL,EACR,IAAK,UACL,IAAK,eACL,IAAK,UACJ,OAAOF,EACR,IAAK,UACL,IAAK,eACL,IAAK,YACL,IAAK,UACJ,OAAOI,EACR,IAAK,WACJ,OAAOE,EACR,QACC,MAAO,cClCGpK,GAAS,SAAAtJ,GAAK,MAAK,CAC/B4T,QAAS,CAER9O,OAAQ,GACRC,MAAO,GACPC,OAAQ,UACR9C,QAAS,QAEVjc,QAAS,CACR4tB,QAAS,CACRjJ,OAAQ5K,EAAM4E,QAAQ,kBCEZkP,GAAsB,SAAAntC,GAK7B,IAAAotC,EAAAptC,EAJLqtC,eAIK,IAAAD,EAJK,GAILA,EAAAE,EAAAttC,EAHLutC,mBAGK,IAAAD,EAHS,GAGTA,EAAAE,EAAAxtC,EAFLytC,kBAEK,IAAAD,EAFQ,GAERA,EAAAE,EAAA1tC,EADL2tC,sBACK,IAAAD,EADY,EACZA,EACCr+B,EAAMg+B,EAAQ,IAAM,EACpBn5B,EAAMm5B,EAAQ,IAAM,IACpBO,EAhBe,SAACv+B,EAAK6E,EAAK25B,GAAyB,IAAlBC,EAAkB1uC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,EAKnD,OAFcib,aAFDnG,EAAM7E,GACCw+B,GACUryB,QAAQsyB,IAazBC,CAAc1+B,EAAK6E,EAAKu5B,EAAYE,GACjD,MAAO,CACNrgC,QAAQ,EACRiuB,QAAS,OACTyS,WAAY,SACZC,wBAAyB,CACxBC,OAAQ,SAAAC,GAAC,SAAAplC,OACLwkC,EADK,MAAAxkC,OACW0d,aAAc0nB,EAAE,GAAI,GAD/B,OAAAplC,OACuC0d,aAAc0nB,EAAE,GAAI,KACpEC,OAAQ,SAACC,EAAYC,EAAWtkB,GAE/B,OADAqkB,EAAWrkB,GAAS,GACbqkB,IAITE,cAAe,CACdC,MAAO,GACPC,MAAO,SAACC,EAAWC,GAClB,IAAMC,EAAWt6B,OAAOo6B,EAAU5jB,WAAW3G,QAAQ,WAAY,KACjE,OAAIwqB,EAAQtvC,OAAS,IACbuvC,EAAWD,EAAQ,IAAMC,EAAWD,EAAQ,KAIrDpT,QAAS,SAAC8S,EAAYvT,EAAU9Q,EAAOwgB,GACtC,OACC/qB,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYl4B,GAAE,gBAAAkC,OAAkByhC,EAAO1sB,MAAQ+wB,cAAY,GACzDtB,GAEF9tB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKuK,GAAI,EAAGK,GAAI,EAAGyJ,GAAI,GACtBrvB,EAAAtgB,EAAAugB,cAAAqvB,GAAA,GACC1/B,IAAKA,EACL6E,IAAKA,EACL86B,MAAO,CACN,CACC36B,MAAOhF,EACP0K,MAAO0M,aAAcpX,EAAK,IAE3B,CACCgF,MAAOH,EACP6F,MAAO0M,aAAcvS,EAAK,KAI5B05B,KAAMA,EACNv5B,MACCg6B,EAAWrkB,GAAO3qB,OAAS,EAAIgvC,EAAWrkB,GAASqjB,EAEpDvS,SAAU,SAACv1B,EAAG0pC,GACbnU,EAASmU,EAAUjlB,EAAOwgB,IAE3B0E,kBAAkB,OAClBC,kBAAA,gBAAApmC,OAAiCyhC,EAAO1sB,MACxCsxB,iBAAkB,SAAAjB,GAAC,OAAI1nB,aAAc0nB,EAAG,IACxCkB,iBAAkB,SAAAlB,GAAC,OAAI1nB,aAAc0nB,EAAG,YCtEzC,SAASmB,GAATtvC,GAA8D,IAAtCmvB,EAAsCnvB,EAAtCmvB,SAAUogB,EAA4BvvC,EAA5BuvC,aAAcC,EAAcxvC,EAAdwvC,WAChDnnC,EAAoB2sB,YAAY1sB,MAD8BqsB,EAE5CC,mBAAS,IAFmCC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAE7Djb,EAF6Dmb,EAAA,GAEvD4a,EAFuD5a,EAAA,GAAA6a,EAGtC9a,mBAAS,IAH6B+a,EAAArvC,OAAAsS,EAAA,EAAAtS,CAAAovC,EAAA,GAG7DnE,EAH6DoE,EAAA,GAGpDC,EAHoDD,EAAA,GAK9DE,EAAe7a,YAAY,SAAAv1B,GAAK,OAAI0vB,EAAS1vB,EAAO8vC,KAEpDO,EAAaC,sBAAY,WAC9BN,EAAQI,GACRD,EAAWJ,MACT,CAACA,EAAYK,IAOhB,OALAla,oBAAU,WACTma,KAEE,CAACD,EAAaxwC,OAAQ8vB,EAAUogB,EAAclnC,IAE1C,CAAEqR,OAAM6xB,UAASuE,+CCPnB5T,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtC8P,QAAS,CACRlF,OAAQ5K,EAAM4E,QAAQ,GACtBnB,SAAU,YAEXkT,eAAgB,CACflT,SAAU,WACV3J,IAAK,MACL4J,KAAM,MACN+F,WAAY,GACZgB,YAAa,OAIR,SAASmM,GAATjwC,GAAsC,IAAhBkwC,EAAgBlwC,EAAhBkwC,aAC5B,OACCzwB,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAAywB,GAAA,GAAS5iC,MAAOnN,aAAE,gBACjBqf,EAAAtgB,EAAAugB,cAAAqU,EAAA,GAAYI,QAAS+b,GACpBzwB,EAAAtgB,EAAAugB,cAAA0wB,GAAA,WAmBE,SAASC,GAATxvC,GAAgE,IAApCyvC,EAAoCzvC,EAApCyvC,uBAAwB1uB,EAAY/gB,EAAZ+gB,SACpDiZ,EAAUqB,KACVqU,EAAkBvb,YAAY,SAAAv1B,GAAK,OACxCmH,aAAkBnH,EAAO+wC,QAG1B,OACC/wB,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAAywB,GAAA,GAAS5iC,MAAOnN,aAAE,uBACjBqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiB,GAAI,EAAGC,GAAI,GACflc,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQsO,SACvB1pB,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACCwa,UAAWhxB,EAAAtgB,EAAAugB,cAAAgxB,GAAA,QACXvc,QAASmc,EACT1c,QAAQ,YACRK,MAAM,UACNrS,SAAUA,GAAY2uB,GAErBnwC,aAAE,uBAEHmwC,GACA9wB,EAAAtgB,EAAAugB,cAAAkc,GAAA,GAAkB1H,KAAM,GAAIoG,UAAWO,EAAQmV,qBC7CtD,IAAMW,GAAexa,GAAoBpC,EAAA,GACnC6c,GAAQza,GAAoB6P,IAE5B9J,GAAY9C,aAAWuJ,IAEvBkO,GAAU,SAAA7wC,GAAA,IACf66B,EADe76B,EACf66B,QACApR,EAFezpB,EAEfypB,OACAvB,EAHeloB,EAGfkoB,eACA4oB,EAJe9wC,EAIf8wC,WACA9oB,EALehoB,EAKfgoB,UALe,MAMV,CACL,CACClK,KAAM,KACN0tB,QAAS,CACRjQ,QAAS,WACTjuB,QAAQ,IAGV,CACCwQ,KAAM,mBACN0tB,QAAS,CACRjQ,QAAS,WACTqQ,UAAU,EACVt+B,QAAQ,IAGV,CACCwQ,KAAM,QACN/D,MAAO3Z,aAAE,cACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNo5B,UAAU,EACVmF,iBAAkB,SAAArwC,GAA2CA,EAAxCgF,KAAwC,IAAlCmB,EAAkCnG,EAAlCmG,GAAIqc,EAA8BxiB,EAA9BwiB,SAAUC,EAAoBziB,EAApByiB,UAAWJ,EAASriB,EAATqiB,GACnD,OACCtD,EAAAtgB,EAAAugB,cAACkxB,GAAD,CACC3rB,IAAKpe,EACLyzB,UAAW8E,KAAWvE,EAAQoS,SAC9Btc,IAAKzN,EACLqd,IAAK15B,EACLsc,UAAWA,EACXykB,YAAU,EACV7kB,GAAIA,OAMT,CACCjF,KAAM,SACN/D,MAAO3Z,aAAE,eACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACN+7B,cAAe,CACdC,MAAO,CAAC,SAAU,SAAU,aAC5BC,MAAO,SAAClyB,EAAQoyB,GACf,QAAIA,EAAQtvC,SAAgBsvC,EAAQ98B,SAAS0K,EAAO6G,qBAItD2tB,iBAAkB,SAAAlwC,GAAA,IAAGuiB,EAAHviB,EAAGuiB,kBAAmBC,EAAtBxiB,EAAsBwiB,aAAcxc,EAApChG,EAAoCgG,GAApC,OACjB4Y,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,CAAU7O,IAAKpe,GACbzG,aAAEgjB,EAAmB,CAAE/E,aAAa,IAAS,IAC7C+tB,GAAehpB,EAAmBC,EAAc,UAMrD,CACCvF,KAAM,QACN/D,MAAO3Z,aAAE,cACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,eAACxjC,EAADnO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAS,GAAT,OAAgB4xC,aAAezjC,EAAO,OAG1D,CACCuQ,KAAM,gBACN/D,MAAO3Z,aAAE,gBACTorC,QAAQlrC,OAAAC,GAAA,EAAAD,CAAA,CACPkS,MAAM,EACNu+B,iBAAkB,SAAAztB,GAAa,OAC9B7D,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,QAAA/qB,OAAcua,EAAc9H,QAAQ,GAApC,KAAAzS,OAA0C0gB,MAExC0jB,GAAoB,CACtBE,QAAS,CAAC,EAAGyD,GACbvD,YAAantC,aAAE,sBAIlB,CACC0d,KAAM,wBACN/D,MAAO3Z,aAAE,eACTorC,QAAQlrC,OAAAC,GAAA,EAAAD,CAAA,CACPkS,MAAM,EACNu+B,iBAAkB,SAAAvtB,GAAqB,SAAAza,SACjCya,GAAyB,GAAK,IAAIhI,QAAQ,GADT,QAEpC2xB,GAAoB,CACtBE,QAAS,CAAC,EAAG,KACbE,YAAantC,aAAE,0BAIlB,CACC0d,KAAM,cACN/D,MAAO3Z,aAAE,qBACTorC,QAAQlrC,OAAAC,GAAA,EAAAD,CAAA,CACPkS,MAAM,EACNu+B,iBAAkB,SAAAxlC,GAAW,OAAI0lC,mBAAQ1lC,GAAe,KACrD4hC,GAAoB,CACtBE,QAAS,CAAC,EAAGnlB,GACbqlB,YAAantC,aAAE,0BAIlB,CACC0d,KAAM,SACN/D,MAAO3Z,aAAE,sBACTorC,QAAQlrC,OAAAC,GAAA,EAAAD,CAAA,CACPkS,MAAM,EACNu+B,iBAAkB,SAAA1lC,GAAM,OAAI4lC,mBAAQ5lC,GAAU,KAC3C8hC,GAAoB,CACtBE,QAAS,CAAC,EAAGrlB,GACbulB,YAAantC,aAAE,qBAIlB,CACC0d,KAAM,MACN/D,MAAO3Z,aAAE,aACTorC,QAAQlrC,OAAAC,GAAA,EAAAD,CAAA,CACPkS,MAAM,EACNu+B,iBAAkB,SAAAttB,GAAG,SAAA1a,QAAQ0a,GAAO,GAAGjI,QAAQ,GAA1B,QAClB2xB,GAAoB,CACtBE,QAAS,CAAC,EAAG,KACbE,YAAantC,aAAE,kBAIlB,CACC0d,KAAM,mBACN/D,MAAO3Z,aAAE,YACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,SAAA9vC,GAAA,IAAGyiB,EAAHziB,EAAGyiB,iBAAkB7c,EAArB5F,EAAqB4F,GAArB,OACjB4Y,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,CAAU7O,IAAKpe,GAAf,GAAAkC,OAAuB2a,EAAiBlI,QACvC,GADD,KAAAzS,OAEK0gB,OAIR,CACC3L,KAAM,UACN/D,MAAO3Z,aAAE,gBACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACN0+B,cAAe,OACfH,iBAAkB,SAAA9rC,GAAO,OAAIksC,aAAWlsC,MAG1C,CACC6Y,KAAM,aACN/D,MAAO3Z,aAAE,eACTorC,QAAS,CACRl+B,QAAQ,EACRiuB,SAAS,EACT/oB,MAAM,EACNu+B,iBAAkB,SAAA10B,GAAU,OAAI+0B,aAAe/0B,MAGjD,CACCyB,KAAM,sBACN/D,MAAO3Z,aAAE,aACTorC,QAAS,CACRl+B,QAAQ,EACRiuB,SAAS,EACT/oB,MAAM,EACNu+B,iBAAkB,SAAAzhC,GAAmB,OACpC8hC,aAAe9hC,MAGlB,CACCwO,KAAM,UACN/D,MAAO3Z,aAAE,WACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNo5B,UAAU,EACVmF,iBAAkB,SAAA3vC,KAAGsE,KAAH,IAASmB,EAATzF,EAASyF,GAAI8c,EAAbviB,EAAauiB,aAAcZ,EAA3B3hB,EAA2B2hB,GAAIC,EAA/B5hB,EAA+B4hB,UAA/B,OACjBvD,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,CAAU7O,IAAKpe,GACd4Y,EAAAtgB,EAAAugB,cAAAywB,GAAA,GACC5iC,MAAOnN,aAAE,cAETixC,WAAY,KAEZ5xB,EAAAtgB,EAAAugB,cAACixB,GAAD,CAAc5tB,GAAIA,EAAI6Q,QAAQ,YAAYI,aAAW,WACpDvU,EAAAtgB,EAAAugB,cAAA4xB,GAAA,GAAYrd,MAAM,cAGpBxU,EAAAtgB,EAAAugB,cAAAywB,GAAA,GACC5iC,MACCoW,EACGvjB,aAAE,gBACF,uDAGJixC,WAAY,KAKZ5xB,EAAAtgB,EAAAugB,cAAA,YACCD,EAAAtgB,EAAAugB,cAACixB,GAAD,CACC5tB,GAAIC,EACJ4Q,QAAQ,YACRI,aAAW,SACXpS,UAAW+B,GAEXlE,EAAAtgB,EAAAugB,cAAAogB,EAAA,GAAS7L,MAAOtQ,EAAe,UAAY,sBA+B7C4tB,GAAa,SAAAhwC,KAAGmhB,SAAH,IAAa+G,EAAbloB,EAAakoB,OAAQqmB,EAArBvuC,EAAqBuuC,WAArB,MAAuC,CACzD9B,WAAY,cACZjC,eAAgB,OAChByF,WAAY,SAACC,EAAWC,EAAWnG,EAAS7xB,GAAhC,OAxBM,SAAC+3B,EAAWC,EAAWnG,EAAS7xB,EAAMgJ,EAAU+G,GAClE,IAAMkoB,EAAaj4B,EAAK5Y,IAAI,SAAAoU,GAAC,MAAK,CACjC8U,MAAO9U,EAAE8U,MACTtQ,KAAM,CACLxE,EAAEwE,KAAK,GACPxE,EAAEwE,KAAK,GACPxE,EAAEwE,KAAK,GACPxE,EAAEwE,KAAK,GAAG0J,kBAJL,GAAAra,OAKFmM,EAAEwE,KAAK,GALL,KAAA3Q,OAKW0gB,GALX,GAAA1gB,SAMAmM,EAAEwE,KAAK,IAAM,GAAK,IAAI8B,QAAQ,GAN9B,MAOLtG,EAAEwE,KAAK,GACPxE,EAAEwE,KAAK,GACPxE,EAAEwE,KAAK,GACP03B,aAAel8B,EAAEwE,KAAK,IACtB03B,aAAel8B,EAAEwE,KAAK,KACtB03B,aAAel8B,EAAEwE,KAAK,SAGxB,MAAO,GAAA3Q,OAAG0oC,EAAUlG,IAAbxiC,OAAwB2oC,EAAUC,IAAcC,OAOtDJ,CAAWC,EAAWC,EAAWnG,EAAS7xB,EAAMgJ,EAAU+G,IAC3DooB,cAAe,kBAAMpyB,EAAAtgB,EAAAugB,cAACuwB,GAAD,CAAYC,aAAcJ,KAC/CgC,oBAAqB,SAAC5G,EAAc6G,EAAaC,GAChD,IAAMC,EAAkB/G,EAAaxxB,KAAK5Y,IAAI,SAAAoU,GAAC,OAAIA,EAAEg9B,YAC/CnqC,EAAgBgqC,EACpBzkC,OAAO,SAAAkE,GAAI,OAAIygC,EAAgBpgC,SAASL,EAAK0gC,YAAc1gC,EAAKkI,KAAK,KACrE5Y,IAAI,SAAA0Q,GAAI,OAAIA,EAAKkI,KAAK,KACxB,OACC+F,EAAAtgB,EAAAugB,cAAC2wB,GAAD,CACCC,uBAAwB,kBACvBpX,YAAQiZ,YAAsCpqC,KAE/C6Z,SAAmC,IAAzB7Z,EAAc1I,YA+Cb+yC,OAzCf,SAAwBxgB,GACvB,IAAMiJ,EAAUqB,KACVx2B,EAAOsvB,YAAYxvB,MACnB0iB,EAAiB8M,YAAYnR,MAC7BmE,EAAYgN,YAAYlR,KACxBgtB,EAAa9b,YAAYjR,KALDgR,EAMDC,YAAYj0B,MAAjC0oB,EANsBsL,EAMtBtL,OAAQ/G,EANcqS,EAMdrS,SACV2vB,EAAkBrd,YAAY,SAAAv1B,GAAK,OACxC0I,aAA8B1I,EAAO,eARR6yC,EAWQhD,GAAa,CAClDngB,SAAU7M,KACVitB,aAAc7pC,EACd8pC,WAAY,kBACXqB,GAAQ,CACPnuB,WACAmY,UACApR,SACAvB,iBACAF,YACA8oB,kBAVKp3B,EAXsB44B,EAWtB54B,KAAM6xB,EAXgB+G,EAWhB/G,QAASuE,EAXOwC,EAWPxC,WAcjBtE,EAAU+F,GAAW,CAAE7uB,WAAU+G,SAAQqmB,eAE/C,OACCrwB,EAAAtgB,EAAAugB,cAAC4rB,GAADhrC,OAAA03B,OAAA,CACCzqB,MAAOnN,aAAE,iBACTsZ,KAAMA,EACN6xB,QAASA,EACTC,QAASA,EACTQ,eAAa,EACbE,gBAAc,EACd5Q,SAAU+W,GACNzgB,iJCjVD2gB,GAAoB,SAAAvyC,GAAA,IAAGqU,EAAHrU,EAAGqU,MAAoBmF,GAAvBxZ,EAAUwyC,SAAVlyC,OAAAmZ,EAAA,EAAAnZ,CAAAN,EAAA,8BACzByf,EAAAtgB,EAAAugB,cAAA+a,EAAA,EAASjhB,EAAOnF,IAyBFo+B,GAtBU,SAAA/xC,GAAA,IAAGqZ,EAAHrZ,EAAGqZ,MAAO1F,EAAV3T,EAAU2T,MAAO4vB,EAAjBvjC,EAAiBujC,OAAjB,OACxBxkB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAAAizB,GAAA,GAAa/e,QAAQ,WAAWgf,WAAS,GACxCnzB,EAAAtgB,EAAAugB,cAAAmzB,GAAA,GAAYC,QAAM,EAACC,kBAAgB,GACjCh5B,GAGF0F,EAAAtgB,EAAAugB,cAAAszB,GAAA,GACC/O,OAAQA,EACR2O,WAAS,EACTK,SAAO,EACPC,UAAQ,EACRp1B,KAAM/D,EACNA,MAAOA,EACPo5B,eAAgBZ,GAChBa,WAAY,CAAE5S,MAAO,CAAErC,OAAQ,OAAQkV,SAAU,eACjDh/B,MAAOA,2BCIL6nB,GAAY9C,aAvBI,SAAAC,GAAK,MAAK,CAC/BQ,KAAM,CACL0B,QAAS,OACTE,WAAY,UAEb0N,QAAS,CACRrM,SAAU,YAEXwW,cAAe,CACdjqB,gBAAiBgQ,EAAMK,QAAQrI,QAAQuI,KACvC3F,MAAOoF,EAAMK,QAAQrI,QAAQ8K,aAC7BjC,UAAW,CACV7Q,gBAAiBgQ,EAAMK,QAAQrI,QAAQkiB,OAGzCC,YAAa,CACZ1W,SAAU,WACV3J,KAAM,EACN4J,MAAO,EACP0W,OAAQ,MAMGC,GAAU,SAAA1zC,GAMjB,IALL2zC,EAKK3zC,EALL2zC,QACAtiB,EAIKrxB,EAJLqxB,QAIKuiB,EAAA5zC,EAHL6zC,kBAGK,IAAAD,EAHQ,GAGRA,EAFLE,EAEK9zC,EAFL8zC,KACAlyB,EACK5hB,EADL4hB,SAEMiZ,EAAUqB,KAChB,QACG2X,EAAWx0C,QACZogB,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQsO,SACvB1pB,EAAAtgB,EAAAugB,cAAAqoB,GAAA,GACC7T,KAAK,SACLD,MAAM,UACNE,QAAS2f,EACTlyB,SAAUA,GAAY+xB,IAAYE,EAAWx0C,QAG5CgyB,EAAU5R,EAAAtgB,EAAAugB,cAAAq0B,GAAA,QAAYt0B,EAAAtgB,EAAAugB,cAAAs0B,GAAA,WAErBL,GACFl0B,EAAAtgB,EAAAugB,cAAAkc,GAAA,GACC1H,KAAM,GACNoG,UAAWO,EAAQ2Y,YACnBvf,MAAM,gBCPNiI,GAAY9C,aC/CI,SAAAC,GACrB,IAAM4E,EAAU5E,EAAM4E,QAAQ,GAG9B,MAAO,CACNgW,KAAM,CACL5qB,gBAAiBgQ,EAAMK,QAAQ9S,KAAKgT,KACpCwE,MAAO,OACP7C,QAAS,QACTuB,SAAU,WACVwE,SAAU,QAEX4S,UAAW,CACV/V,OAAQ,EACR3B,WAZa,SAabM,SAAU,WACVyE,SAAU,UAEX6H,IAAK,CACJtM,SAAU,WACV3J,IAAK,EACL8J,OAAQ,EACRF,KAAM,EACNC,MAAO,EACPiH,OAAQ,OAGR9F,OAAQ,OACRmD,SAAU,OACVlD,MAAO,OACPwL,UAAW,QAEZuK,UAAW,CACV5Y,QAAS,OACToB,cAAe,MACflB,WAAY,QACZ2Y,SAAU,QAEXC,YAAa,CACZvQ,WAAY7F,GAEbxM,MAAO,CACNwC,MAAOoF,EAAMK,QAAQjI,MAAMmI,MAE5B7f,MAAO,CACNikB,aAAcC,EACdhK,MAAOoF,EAAMK,QAAQlE,KAAKsI,MAG3BwW,WAAY,CACX7T,YAAaxC,GAGdsW,UAAW,CACVvW,aAAcC,EACdwC,YAAaxC,GAEd9K,IAAK,CACJoI,QAAS,OACToB,cAAe,SACfyX,SAAU,OACV9S,SAAU,OAEXkT,YAAa,CACZjZ,QAAS,OACToB,cAAe,MACfyX,SAAU,OACV3Y,WAAY,UAEbgZ,WAAY,CACXhU,YAAaxC,EACbD,aAAcC,EAAU,EACxB6E,UAAW7E,EAAU,GAEtByW,SAAU,CACT5X,SAAU,WACVG,OAAQgB,EACRjB,MAAOiB,GAER0W,cAAe,CACd7X,SAAU,WACV3J,IAAK8K,EACLlB,KAAMkB,GAEP2W,eAAgB,CACf9X,SAAU,SACV3J,IAAK,EACLsgB,OAAQpa,EAAMoa,OAAO1Q,QAEtB8R,oBAAoBv0C,OAAA++B,EAAA,EAAA/+B,CAAA,CACnBw0C,YAAazb,EAAMK,QAAQgD,UAAU9C,MAGpCP,EAAM2J,YAAYe,KAAK,MAAQ,CAC/B/F,aAAc,IAGhB+W,YAAa,GAGbC,kBAAmB,CAClBC,UAAW,EACX5rB,gBAAiBgQ,EAAMK,QAAQH,WAAWsK,YDrDhCqR,GAAa,SAAAl1C,GAAmD,IAAA4zC,EAAA5zC,EAAhD6zC,kBAAgD,IAAAD,EAAnC,GAAmCA,EAA/BuB,EAA+Bn1C,EAA/Bm1C,yBACvCta,EAAUqB,KAEhB,OACCzc,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CAAQC,OAAQxB,EAAWx0C,OAAQi2C,QAASl1C,aAAE,6BAC3CyzC,EAAWx0C,QACbogB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCc,QAAQ,OACRsD,SAAU,EACVlC,cAAc,MACdlB,WAAW,SACXmB,eAAe,aACfwX,SAAS,OACTzY,GAAI,GAEJlc,EAAAtgB,EAAAugB,cAAA61B,GAAA,GAAMthB,MAAM,YAAYqG,UAAWO,EAAQ4Z,aAC3Ch1B,EAAAtgB,EAAAugB,cAAA,QAAM4a,UAAWO,EAAQ4Z,YAAar0C,aAAE,mBAAxC,KACCyzC,EAAW/yC,IAAI,SAAAghB,GACf,OACCrC,EAAAtgB,EAAAugB,cAAA81B,GAAA,GACC5hB,QAAQ,WACRM,KAAK,QACLD,MAAM,YACNqG,UAAWO,EAAQ4Z,WACnBxvB,IAAKnD,EAAEhE,MAAQgE,EACf/H,MAAO3Z,aAAE0hB,EAAEhE,MAAQgE,EAAG,CAAE7X,QAAQ,IAChCwrC,SAAU,WACTN,EAAyBrzB,IAE1B4zB,WAAYj2B,EAAAtgB,EAAAugB,cAAAi2B,GAAA,eAUPC,GAAiB,SAAAC,GAC7B,IAAMhb,EAAUqB,KACV35B,EAAWyyB,YAAYlyB,KAE7B,OACC2c,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQ+Z,gBACvBn1B,EAAAtgB,EAAAugB,cAAAo2B,GAAA,GAAUviB,QAAS,GAAIhT,KAAMs1B,EAAUhC,WAAWx0C,QACjDogB,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,WAAW0G,UAAWO,EAAQga,qBAC5Cp1B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCc,QAAQ,OACRoB,cAAc,MACdlB,WAAW,SACXmB,eAAe,gBACf9a,EAAG,GAEHrC,EAAAtgB,EAAAugB,cAACs2B,GAAeH,GAChBp2B,EAAAtgB,EAAAugB,cAACu2B,GAAYJ,KAGdA,EAAUlC,SAAWkC,EAAUhC,WAAWhiC,SAAS,kBACnD4N,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACEyb,KAAoB3zC,GAAY,WAAWzB,IAAI,SAACq1C,EAAKjhC,GAAN,OAC/CuK,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK2b,GAAI,EAAGnxB,IAAKkxB,EAAIb,QAAUpgC,GAC9BuK,EAAAtgB,EAAAugB,cAAAgU,EAAA,GAAOzO,IAAK/P,EAAGye,SAAS,OAAOC,QAAQ,YACrCxzB,aAAE+1C,EAAIb,iBAWHe,GAAoB,SAAA31C,GAAgC,IAA7Bg0B,EAA6Bh0B,EAA7Bg0B,SAAU4hB,EAAmB51C,EAAnB41C,aACvCzb,EAAUqB,KAEhB,OACCzc,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GACCzb,UAAWO,EAAQma,kBACnBxU,MAAO8V,EAAe,CAAE/c,WAAY,GAAM,GAC1C3F,QAAQ,YAEPc,IAKS6hB,GAAc,SAAA11C,GAAkB,IAAf6zB,EAAe7zB,EAAf6zB,SACvBmG,EAAUqB,KAEhB,OACCzc,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOzb,UAAWO,EAAQka,YAAanhB,QAAQ,YAC7Cc,IAKS8hB,GAAe,SAAAv1C,GAOtB,IANLw1C,EAMKx1C,EANLw1C,KACA18B,EAKK9Y,EALL8Y,MAKK28B,EAAAz1C,EAJLoT,aAIK,IAAAqiC,EAJG,GAIHA,EAHLC,EAGK11C,EAHL01C,WACAC,EAEK31C,EAFL21C,WACGp9B,EACElZ,OAAAmZ,EAAA,EAAAnZ,CAAAW,EAAA,oDACL,OACCwe,EAAAtgB,EAAAugB,cAAAm3B,GAAA,EAAAv2C,OAAA03B,OAAA,CACC4a,WAAS,EACT/rC,GAAI4vC,EACJ18B,MAAOA,EACPtR,KAAK,OACLw7B,OAAO,QACPnmB,KAAM24B,EACNpiC,MAAOA,GAAS,GAEhB6+B,UAAQ,EACRyD,WAAYA,EACZ/iB,QAAQ,WACRgjB,WAAYA,GACRp9B,KAKMs9B,GAAY,SAAA11C,GAOnB,IANLmM,EAMKnM,EANLmM,MACAwpC,EAKK31C,EALL21C,SACAC,EAIK51C,EAJL41C,YACAC,EAGK71C,EAHL61C,gBACA9B,EAEK/zC,EAFL+zC,yBAEK+B,EAAA91C,EADL+1C,aAEM9kB,UADD,IAAA6kB,EADU,GACVA,GACyB3pC,MACxB6pC,IAAcL,GAAYA,EAASv1B,MACzC,OACC/B,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACT/rC,GAAG,aACHkT,MAAO3Z,aAAE,QAAS,CAAE6J,QAAQ,IAC5BxB,KAAK,OACLqV,KAAK,QACLzJ,MAAO9G,GAAS,GAChButB,SAAU,SAAA7B,GACT+d,EAAY,QAAS/d,EAAG+G,OAAO3rB,QAEhCuN,UAAWyQ,EACXZ,MAAO2lB,EACPT,WACCS,EAAYh3C,aAAE22C,EAASM,OAAQ,CAAEltC,KAAM4sC,EAASO,aAAgB,GAEjE1jB,QAAQ,WACRgjB,WAAY,CACXW,aACC93B,EAAAtgB,EAAAugB,cAAA83B,GAAA,GAAgB1a,SAAS,OACxBrd,EAAAtgB,EAAAugB,cAAAqU,EAAA,GAECE,MAAM,YACNE,QAAS,kBACR9B,EACG8iB,EAAyB,SACzB8B,EAAgB,SAAS,KAG5B5kB,EAAS5S,EAAAtgB,EAAAugB,cAAAi2B,GAAA,QAAmBl2B,EAAAtgB,EAAAugB,cAAA+3B,GAAA,cASvBC,GAAkB,SAAAn2C,GAOzB,IANLo2C,EAMKp2C,EANLo2C,YACAC,EAKKr2C,EALLq2C,eACAZ,EAIKz1C,EAJLy1C,YACAC,EAGK11C,EAHL01C,gBACA9B,EAEK5zC,EAFL4zC,yBAEK0C,EAAAt2C,EADL41C,oBACK,IAAAU,EADU,GACVA,EACCxlB,IAAW8kB,EAAaQ,YACxBP,IAAcQ,GAAkBA,EAAep2B,MACrD,OACC/B,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACT/rC,GAAG,mBACHkT,MAAO3Z,aAAE,cAAe,CAAE6J,QAAQ,IAClCxB,KAAK,OACLqV,KAAK,cACLzJ,MAAOsjC,GAAe,GACtB7c,SAAU,SAAA7B,GACT+d,EAAY,cAAe/d,EAAG+G,OAAO3rB,QAEtCyjC,UAAW,KACXC,WAAS,EACTC,KAAM,EACNp2B,UAAWu1B,EAAaQ,YACxBlmB,MAAO2lB,EACPT,WACCS,EACGh3C,aAAEw3C,EAAeP,OAAQ,CACzBltC,KAAMytC,EAAeN,aAErB,GAEJ1jB,QAAQ,WACRgjB,WAAY,CACXW,aACC93B,EAAAtgB,EAAAugB,cAAA83B,GAAA,GAAgB1a,SAAS,OACxBrd,EAAAtgB,EAAAugB,cAAAqU,EAAA,GAECE,MAAM,YACNE,QAAS,kBACR9B,EACG8iB,EAAyB,eACzB8B,EAAgB,eAAe,KAGlC5kB,EAAS5S,EAAAtgB,EAAAugB,cAAAi2B,GAAA,QAAmBl2B,EAAAtgB,EAAAugB,cAAA+3B,GAAA,cASvBQ,GAAa,SAAAv2C,GAAc,IAAX+G,EAAW/G,EAAX+G,KAC5B,OACCgX,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACT/rC,GAAG,YACHkT,MAAO3Z,aAAE,OAAQ,CAAE6J,QAAQ,IAC3BxB,KAAK,OACLqV,KAAK,OACLzJ,MAAO5L,GAAQ,GACfmZ,UAAU,EACVgS,QAAQ,cAKLskB,GAAmB,SAAAr2C,GAAgCA,EAA7B+1B,aAA6B,IAAZhG,EAAYtxB,OAAAmZ,EAAA,EAAAnZ,CAAAuB,EAAA,kBACxD,OACC4d,EAAAtgB,EAAAugB,cAAAqU,EAAA,EAAgBnC,EACfnS,EAAAtgB,EAAAugB,cAAAy4B,GAAA,UAKGC,GAAoB/f,qBAAW,SAACzG,EAAOqG,GAAR,OACpCxY,EAAAtgB,EAAAugB,cAAC24B,GAAD/3C,OAAA03B,OAAA,GAAsBpG,EAAtB,CAA6BgG,aAAcK,OAG/BqgB,GAAgB,SAAAp1C,GAA+B,IAAAq1C,EAAAr1C,EAA5Bs1C,iBAA4B,IAAAD,EAAhB,GAAgBA,EAAZx+B,EAAY7W,EAAZ6W,MAC/C,OACC0F,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACT/rC,GAAG,iBACHkT,MAAO3Z,aAAE2Z,GAAS,kBAClBtR,KAAK,OACLqV,KAAK,YACLzJ,MAAOmkC,EACP52B,UAAU,EACVgS,QAAQ,WACRgjB,WAAY,CACXW,aACC93B,EAAAtgB,EAAAugB,cAAA83B,GAAA,GAAgB1a,SAAS,OACxBrd,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCsU,MAAM,UACNrU,KAAM44B,EACNxZ,UAAWoZ,UASLK,GAAuB,SAAAp1C,GAAwB,IAAAq1C,EAAAr1C,EAArBm1C,iBAAqB,IAAAE,EAAT,GAASA,EAE3D,OACCj5B,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACT/rC,GAAG,iBACHkT,MAAO3Z,aAAE,sBACTqI,KAAK,OACLqV,KAAK,YACLzJ,MAAOmkC,EACP52B,UAAU,EACVgS,QAAQ,WACRgjB,WAAY,CACXW,aACC93B,EAAAtgB,EAAAugB,cAAA83B,GAAA,GAAgB1a,SAAS,OACxBrd,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCsU,MAAM,UACNrU,KAAM44B,EACNxZ,UAAWoZ,UASLO,GAAY,SAAAp1C,GAAmD,IAAAq1C,EAAAr1C,EAAhD2f,gBAAgD,IAAA01B,EAArC,GAAqCA,EAAAC,EAAAt1C,EAAjC4f,iBAAiC,IAAA01B,EAArB,GAAqBA,EAAAC,EAAAv1C,EAAjBwW,aAAiB,IAAA++B,EAAT,GAASA,EACrEje,EAAUqB,KAChB,OACCzc,EAAAtgB,EAAAugB,cAAAq5B,GAAA,GAAMze,UAAWO,EAAQoZ,KAAM+E,QAAQ,EAAOplB,QAAQ,YACrDnU,EAAAtgB,EAAAugB,cAAAu5B,GAAA,GAAWpe,QAAS,CAAEhB,KAAMgB,EAAQqZ,YACnCz0B,EAAAtgB,EAAAugB,cAACw5B,GAAD,CACCnQ,iBAAiB,EACjBpY,IAAKzN,EACLqd,IAAKxmB,GAAS3Z,aAAE,SAChBk6B,UAAWO,EAAQuO,IACnBjmB,UAAWA,EACXykB,YAAU,IAEV7tB,GACA0F,EAAAtgB,EAAAugB,cAAA81B,GAAA,GAAMthB,KAAK,QAAQoG,UAAWO,EAAQ8Z,cAAe56B,MAAOA,OAOpDo/B,GAAc,SAAAz1C,GAQrB,IAAA01C,EAAA11C,EAPL8N,YAOK,IAAA4nC,EAPE,GAOFA,EAAAC,EAAA31C,EANL41C,wBAMK,IAAAD,EANc,GAMdA,EALLx8B,EAKKnZ,EALLmZ,YACAm6B,EAIKtzC,EAJLszC,YACAC,EAGKvzC,EAHLuzC,gBACA9B,EAEKzxC,EAFLyxC,yBAEKoE,EAAA71C,EADLyzC,oBACK,IAAAoC,EADU,GACVA,EACG9xB,EAAYjW,EAAZiW,QACF4K,IAAW8kB,EAAa1vB,QACbgK,EAAU5U,EAAnB4K,QACF2vB,IAAc3lB,GAASA,EAAMjQ,MAEnC,OACC/B,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACT/rC,GAAG,eACHkT,MAAO3Z,aAAE,gBACTqI,KAAK,OACLqV,KAAK,UACLzJ,MAAOoT,GAAW,IAClBqT,SAAU,SAAA7B,GACT+d,EAAY,WAAY/d,EAAG+G,OAAO3rB,OAAS,IAAIu9B,SAEhDhwB,WAAY03B,EAAiB7xB,UAAY4K,EACzCZ,MAAO2lB,EACPT,WACCS,EACCh3C,aAAEqxB,EAAM4lB,OAAQ,CAAEltC,KAAMsnB,EAAM6lB,aAE9B73B,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACEqjB,EAAa1vB,SACbhI,EAAAtgB,EAAAugB,cAAA,QACC85B,wBAAyB,CACxBC,OAAQr5C,aAAE,0BAIbqf,EAAAtgB,EAAAugB,cAAA,QACC85B,wBAAyB,CACxBC,OAAQr5C,aAAE,iCAMfwzB,QAAQ,WACRgjB,WAAY,CACXW,cAAe+B,EAAiB7xB,SAC/BhI,EAAAtgB,EAAAugB,cAAA83B,GAAA,GAAgB1a,SAAS,OACxBrd,EAAAtgB,EAAAugB,cAAAqU,EAAA,GAECE,MAAM,YACNE,QAAS,kBACR9B,EACG8iB,EAAyB,WACzB8B,EAAgB,WAAW,KAG9B5kB,EAAS5S,EAAAtgB,EAAAugB,cAAAi2B,GAAA,QAAmBl2B,EAAAtgB,EAAAugB,cAAA+3B,GAAA,cASvBiC,GAAiB,SAAA71C,GAQxB,IAPL8J,EAOK9J,EAPL8J,OAOKgsC,EAAA91C,EANL6G,gBAMK,IAAAivC,EANM,GAMNA,EALLpsC,EAKK1J,EALL0J,MACAqsC,EAIK/1C,EAJL+1C,UACAC,EAGKh2C,EAHLg2C,UACAC,EAEKj2C,EAFLi2C,mBACAlH,EACK/uC,EADL+uC,UAEMmH,EAAYrvC,EAAS2T,cAErB8V,EAAU,WACf+E,YACC8gB,YACC,kBACC9gB,YACC+gB,YAAY,CAAEtsC,SAAQjD,WAAUmvC,YAAWC,yBAE7C,KACA,CACCrkB,aAAcr1B,aAAC,wBAA0B,CACxC+J,KAAM,CAAC4vC,KAERrkB,YAAat1B,aAAE,UACfmN,MAAOnN,aAAC,wBAA0B,CACjC+J,KAAM,CAAC4vC,EAAWxsC,KAEnBioB,KAAMp1B,aAAC,uBAAyB,CAC/B+J,KAAM,CAAC4vC,EAAWxsC,SAMvB,OACCkS,EAAAtgB,EAAAugB,cAAAywB,GAAA,GACC5iC,MAAOnN,aAAE,gBAAiB,CAAE+J,KAAM,CAAC4vC,KACnC/lB,aAAW,WAEV4lB,EACAn6B,EAAAtgB,EAAAugB,cAAAqU,EAAA,GAAYI,QAASA,EAASH,aAAA,WAAAjrB,OAAuB4E,IACpD8R,EAAAtgB,EAAAugB,cAAAw6B,GAAA,GAAajmB,MAAM,YAGpBxU,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACC2c,UAAWA,EACX3e,MAAM,UACNL,QAAQ,YACRO,QAASA,EACTH,aAAA,WAAAjrB,OAAuB4E,IAEtBvN,aAAE,gCEzeD,SAAS+5C,GAATn6C,GAAqE,IAAlD0K,EAAkD1K,EAAlD0K,SAAUmtB,EAAwC73B,EAAxC63B,MAAOuiB,EAAiCp6C,EAAjCo6C,SAAUC,EAAuBr6C,EAAvBq6C,oBAAuB1lB,EACnDC,mBAAS,IAD0CC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GACpEnjB,EADoEqjB,EAAA,GAC9D1E,EAD8D0E,EAAA,GAAA6a,EAE3B9a,mBAAS,IAFkB+a,EAAArvC,OAAAsS,EAAA,EAAAtS,CAAAovC,EAAA,GAEpE4J,EAFoE3J,EAAA,GAElD2K,EAFkD3K,EAAA,GAAA4K,EAGzC3lB,mBAAS,IAHgC4lB,EAAAl6C,OAAAsS,EAAA,EAAAtS,CAAAi6C,EAAA,GAGpEpD,EAHoEqD,EAAA,GAGtDC,EAHsDD,EAAA,GAAAE,EAIvC9lB,mBAAS,IAJ8B+lB,EAAAr6C,OAAAsS,EAAA,EAAAtS,CAAAo6C,EAAA,GAIpE7G,EAJoE8G,EAAA,GAIxDC,EAJwDD,EAAA,GAAAE,EAKvCjmB,mBAAS,kBAL8BkmB,EAAAx6C,OAAAsS,EAAA,EAAAtS,CAAAu6C,EAAA,GAKpE9zC,EALoE+zC,EAAA,GAKxDC,EALwDD,EAAA,GAOrEE,EAAYhmB,YAAY,SAAAv1B,GAAK,OAClCkL,aAAsBlL,EAAOiL,EAAUmtB,EAAMojB,OAAOttC,UAG/CkP,EAAcmY,YACnB,SAAAv1B,GAAK,OAAIqd,aAAsBrd,EAAOsH,IAAe,KAGhD4sC,EAAU3e,YAAY,SAAAv1B,GAAK,OAAImH,aAAkBnH,EAAOsH,KAE9D4uB,oBAAU,WACT,IAAM0X,EAAU,IAAI+M,EAASY,GAC7B7qB,EAAQkd,GACRiN,EAAoBjN,GACpB0N,EAAa,UAAAhyC,OAAWyI,EAAK3K,MAC3B,CAAC2K,EAAK3K,GAAIuzC,EAAUY,IAEvB,IAAM/D,EAAkBlH,sBACvB,SAACmL,EAAO7mC,GACPomC,EAAUn6C,OAAAC,GAAA,EAAAD,CAAA,GAAK62C,EAAN72C,OAAA++B,EAAA,EAAA/+B,CAAA,GAAqB46C,EAAQ7mC,MAEvC,CAAC8iC,IAGIgE,EAAWpL,sBAChB,SAAAvuB,GAAK,OACJ0X,YAAQmhB,EAAoB,CAAE7oC,OAAMzK,aAAYya,QAAOqyB,iBACxD,CAACA,EAAYriC,EAAM6oC,EAAqBtzC,IAGnC+sC,EAAO/D,sBAAWzvC,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAC,SAAAC,IAAA,OAAAF,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EAClB4B,YACLmhB,EAAoB,CACnB7oC,OACAzK,aACAya,OAAO,EACP4sB,QAAQ,EACRyF,gBAPsB,OAUxB+G,EAAc,IACdH,EAAU,IAXc,wBAAApjB,EAAAI,SAAAR,MAYtB,CAAC4c,EAAYriC,EAAM6oC,EAAqBtzC,IAErCouC,EAA2BpF,sBAChC,SAAA0G,GACC,IAAMhpC,EAAU,IAAI2sC,EAAS5oC,GACvB4pC,EAAavH,EAAWwH,UAC7B,SAAAv5B,GAAC,OAAKA,EAAEhE,MAAQgE,MAAQ20B,EAAK34B,MAAQ24B,KAGtC,GAAI2E,GAAc,EAAG,CACpB,IAAME,EAAah7C,OAAAgE,GAAA,EAAAhE,CAAOuzC,GACpB0H,EAAUD,EAAcF,GAC9BE,EAAcE,OAAOJ,EAAY,GAE7BG,EAAQE,OACXF,EAAQE,OAAOpqC,QACd,SAAAolC,GAAI,OAAKhpC,EAAQgpC,GAAQ6C,EAAiB7C,KAG3ChpC,EAAQ8tC,GAAWjC,EAAiB7C,GAGrCtmB,EAAQ1iB,GACRmtC,EAAcU,GACdrE,EAAgBR,EAAK34B,MAAQ24B,GAAM,GACnC0E,GAAS,KAGX,CAACtH,EAAYyF,EAAkB9nC,EAAM4oC,EAAUnD,EAAiBkE,IAG3DnE,EAAcjH,sBACnB,SAACmL,EAAO7mC,EAAOknC,GACd,IAAM9tC,EAAU,IAAI2sC,EAAS5oC,GAC7B/D,EAAQytC,GAAS7mC,EAEjB8b,EAAQ1iB,GAER,IAAMiuC,EAAK7H,EAAWh6B,MAAM,GAEvB6hC,EAAG9pC,KAAK,SAAAkQ,GAAC,OAAKA,EAAEhE,MAAQgE,MAAQy5B,EAAUA,EAAQz9B,KAAOo9B,MAC7DQ,EAAGxhC,KAAKqhC,GAAWL,GAEpBN,EAAcc,IAEf,CAAC7H,EAAYriC,EAAM4oC,IAGduB,EAAuB5L,sBAC5B,SAAC6L,GAAgC,IAArBC,EAAqBz8C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACnBqlB,EAAUq3B,QAAKC,aAAa,CAAEvqC,OAAMoqC,YAAWxB,aAErDjqB,EAAQ,IAAIiqB,EAAS31B,IAErB,IAAMi3B,EAAK7H,EAAWh6B,MAAM,GAC5BgiC,EAAYxqC,QAAQ,SAAA6pC,GACdQ,EAAG9pC,KAAK,SAAAkQ,GAAC,OAAKA,EAAEhE,MAAQgE,MAAQo5B,EAAMp9B,MAAQo9B,MAClDQ,EAAGxhC,KAAKghC,KAGVN,EAAcc,IAEf,CAAC7H,EAAYriC,EAAM4oC,IAGpB,MAAO,CACN5oC,OACA8nC,mBACAnC,eACAF,kBACApD,aACAsB,2BACAgG,WACAp0C,aACA8V,cACAm6B,cACA2E,uBACAhI,UACAG,yECzGI5X,GAAY9C,aChCI,SAAAC,GACrB,IAAM4E,EAAU5E,EAAM4E,QAAQ,GAExB+d,GADK3iB,EAAM4E,QAAQ,GACR5E,EAAMK,QAAQjI,MAAMmI,MACrC,MAAO,CACNC,KAAM,CACL5F,MAAO,SACPgoB,WAAY,CACXhoB,MAAO,UAGT5B,OAAQ,CACP4B,MAAO,UAERioB,eAAgB,CACfpf,SAAU,WACVyE,SAAU,SACVtE,OAAQ,EACRF,KAAM,EACNC,MAAO,EACP7J,IAAK,GAENgpB,UAAW,CACV3gB,KAAM,WACN0B,UAAW,OACXC,UAAW,SACXgB,OAAQ,EACRd,QAASY,GAEVjB,MAAO,CACNof,UAAW,QACX7gB,QAAS,eACT6C,MAAO,MACPie,0BAA2B,CAC1Bje,MAAO,QAGTrB,KAAM,CACLxB,QAAS,eACT6gB,UAAW,OACXhe,MAAO,MACPie,0BAA2B,CAC1Bje,MAAO,QAGTke,cAAe,CACd1f,eAAgB,UAEjB2f,sBAAuB,CACtBzY,WAAY7F,EACZnB,SAAU,YAEXkT,eAAgB,CACflT,SAAU,WACV3J,IAAK,MACL4J,KAAM,MACN+F,WAAY,GACZgB,YAAa,IAEd0Y,QAAS,CACRvoB,MAAO+nB,EACPlH,YAAakH,EACbS,QAAS,CACRxoB,MAAO+nB,GAERvb,YAAaxC,EACbD,aAAcC,MD/BXye,GAAa,SAAA18C,GAA+C,IAA5C6tC,EAA4C7tC,EAA5C6tC,MAAO8O,EAAqC38C,EAArC28C,YAAa9hB,EAAwB76B,EAAxB66B,QAAwBv6B,OAAAmZ,EAAA,EAAAnZ,CAAAN,EAAA,mCACjE,OAAI48C,OAAOC,YAAc,IAEvBp9B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCe,MAAI,EACJmB,cAAc,SACdlB,WAAW,SACXmB,eAAe,UAEfnd,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYmL,MAAM,WACf2D,EAAM8O,IAAgB,IAAIpvC,QAI9BkS,EAAAtgB,EAAAugB,cAAAo9B,GAAA,GACCC,WAAYJ,EACZ9O,MAAOA,EAAMxuC,OACby9B,SAAS,SACTlJ,QAAQ,OACRsW,MAAM,SACN5P,UAAWO,EAAQyhB,kBAOvB78B,EAAAtgB,EAAAugB,cAAAs9B,GAAA,GAAYC,kBAAgB,EAACF,WAAYJ,GACvC9O,EAAM/sC,IAAI,SAACo8C,EAAMhoC,GACjB,OACCuK,EAAAtgB,EAAAugB,cAAAy9B,GAAA,GAAMl4B,IAAKi4B,EAAK3vC,OACfkS,EAAAtgB,EAAAugB,cAAA09B,GAAA,OAAYF,EAAK3vC,YA6NR8vC,GArNS,SAAAzrB,GAAS,IAAA0rB,EAM5B1rB,EAJH2rB,mBAF+B,IAAAD,EAEjB,EAFiBA,EAAAE,EAM5B5rB,EAHHic,aAH+B,IAAA2P,EAGvB,GAHuBA,EAI/BC,EAEG7rB,EAFH6rB,YAGK5iB,EAAUqB,KAPgBvH,EASMC,oBAAU2oB,GAThB1oB,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GASzBgoB,EATyB9nB,EAAA,GASZ6oB,EATY7oB,EAAA,GAAA6a,EAUJ9a,oBAAS,GAVL+a,EAAArvC,OAAAsS,EAAA,EAAAtS,CAAAovC,EAAA,GAUzBiO,EAVyBhO,EAAA,GAUjBiO,EAViBjO,EAAA,GAW1BkO,EAAahQ,EAAMxuC,OAASs9C,GAAeA,EAAc,EAEzDO,EAAOrP,EAAM8O,IAAgB,GAC7BmB,EAAYZ,EAAKtrB,OAAS,GACxB7qB,EAAe+2C,EAAf/2C,WACFg3C,EAAOb,EAAKle,WAAa,KAE9Bgf,EAKGd,EALHc,aACAC,EAIGf,EAJHe,QACAC,EAGGhB,EAHHgB,QACAC,EAEGjB,EAFHiB,WArB+BC,EAuB5BlB,EADHmB,wBAtB+B,IAAAD,EAsBZ,GAtBYA,EAyB1BvhC,EAAcmY,YAAY,SAAAv1B,GAAK,OACpCqd,aAAsBrd,EAAOsH,KAGxBu3C,EArF0B,WAAsB,IAArBzhC,EAAqBzd,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAS/C,OARekB,OAAOub,KAAKgB,GAAa3c,OAAO,SAACq+C,EAAWt5B,GAC1D,IAAM+K,EAAMnT,EAAYoI,GAIxB,OAHI+K,EAAIxO,OACP+8B,EAAUrkC,KAAK,CAAEi8B,IAAKnmB,EAAIqnB,OAAQ6D,MAAO96C,aAAE6kB,EAAK,CAAEhb,QAAQ,MAEpDs0C,GACL,IA8EiBC,CAAyB3hC,GAEvC4hC,EAAoBzpB,YAAY,SAAAv1B,GAAK,OAC1CmH,aAAkBnH,EAAOsH,KAGpB23C,EAAe1pB,YAAY,SAAAv1B,GAAK,OAAImH,aAAkBnH,EAAOy+C,KAE7DvK,EAAU8K,GAAqBC,EAE/BC,EAAc5O,sBAAY,WAC/B,OAAQzvC,OAAOub,KAAKgB,GAAe,IAAIxd,QACrC,CAACwd,IAIE+hC,EAAW7O,sBAAW,eAAArvC,EAAAJ,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAC3B,SAAAC,EAAM4nB,GAAN,IAAAC,EAAA,OAAA/nB,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,OAEOwnB,EAAYD,EAAWlC,GADVkC,EAAWlC,GAGZmC,IACjBpB,EAAemB,GALjB,wBAAAxnB,EAAAI,SAAAR,MAD2B,gBAAAS,GAAA,OAAAh3B,EAAAyT,MAAA4d,KAAA3yB,YAAA,GAS3B,CAACu9C,IAGIoC,EAAmBhP,sBAAWzvC,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAC,SAAAgoB,IAAA,OAAAjoB,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,OAChCumB,IACHe,EAASjC,EAAc,GACvBiB,GAAU,IAHyB,wBAAAqB,EAAAxnB,SAAAunB,MAKlC,CAACnB,EAAYlB,EAAaiC,IAEvBM,EAAenP,sBAAWzvC,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAC,SAAAmoB,IAAA,OAAApoB,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,OAChCsmB,GAAU,GACNI,EACHA,EAAa,CACZE,UACAn3C,aACAya,OAAO,EACPy8B,QAASA,GAAY,kBAAMW,EAASjC,EAAc,MAEzCgC,KACVC,EAASjC,EAAc,GAVQ,wBAAAyC,EAAA3nB,SAAA0nB,MAY9B,CACFxC,EACAiC,EACAD,EACAV,EACAD,EACAE,EACAn3C,IAGKs4C,EAAiBtP,sBAAWzvC,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAC,SAAAsoB,IAAA,OAAAvoB,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cAAAioB,EAAAjoB,KAAA,EAC5B6mB,EAAW,CAChBD,UACAn3C,aACAk3C,QAAS,iBAA6B,oBAAhBR,GAA8BA,OAJnB,wBAAA8B,EAAA9nB,SAAA6nB,MAMhC,CAAC7B,EAAaU,EAAYD,EAASn3C,IAEtC4uB,oBAAU,YACJgoB,GAAUK,GACdA,EAAa,CAAEE,UAASn3C,aAAYya,OAAO,KAE1C,CAACm7B,EAAaqB,EAAcE,EAASn3C,EAAY42C,IAEpD,IAAM6B,EAAezP,sBAAW,eAAAxuC,EAAAjB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAC/B,SAAAyoB,EAAMxmB,GAAN,OAAAlC,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,OACgB,UAAX2B,EAAGhU,MACNgU,EAAG1B,iBACH2nB,KAHF,wBAAAQ,EAAAjoB,SAAAgoB,MAD+B,gBAAAE,GAAA,OAAAp+C,EAAA4S,MAAA4d,KAAA3yB,YAAA,GAO/B,CAAC8/C,IAGF,OACCz/B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCH,UAAWO,EAAQqhB,eACnB0D,WAAYJ,EACZjkB,QAAQ,OACRoB,cAAc,SACdlB,WAAW,iBAEXhc,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GACClb,QAAS,CACRhB,KAAMgB,EAAQilB,YAEfpU,UAAW,GAEXjsB,EAAAtgB,EAAAugB,cAACqgC,GAADz/C,OAAA03B,OAAA,GACKpG,EADL,CAECic,MAAOA,EACPhT,QAASA,EACT8hB,YAAaA,EACbiC,SAAUA,OAKbn/B,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GACClb,QAAS,CACRhB,KAAMgB,EAAQshB,WAEfzQ,UAAW,KAERqS,GAAQt+B,EAAAtgB,EAAAugB,cAACq+B,EAASD,MAGnBQ,EAAYj/C,QACdogB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKxG,MAAM,aAAa+rB,GAAI,GAC1B1B,EAAYx9C,IAAI,SAAAkvB,GAAG,OACnBvQ,EAAAtgB,EAAAugB,cAAA81B,GAAA,GACCvwB,IAAK+K,EAAIkrB,MACTrgB,QAAS,CAAEhB,KAAMgB,EAAQ2hB,SACzBte,KAAMze,EAAAtgB,EAAAugB,cAACugC,GAAA9gD,EAAD,MACNy0B,QAAQ,WACRM,KAAK,QACLna,MAAK,GAAAhR,OAAKinB,EAAIkrB,MAAT,MAAAnyC,OAAmBinB,EAAImmB,KAC5BliB,MAAM,eAMVxU,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,GACRvgC,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQkC,MACtB8gB,GACAp+B,EAAAtgB,EAAAugB,cAAAuW,EAAA,GAAQ9B,QAAS4qB,GAAmB3+C,aAAE,UAIxCqf,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQmC,OACS,oBAAxBkgB,EAAKgD,gBACZzgC,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACC9B,QAAS,WACe,oBAAhBspB,GAA8BA,IACrCP,EAAKgD,eAAehC,KAGpB99C,aAAE,WAILqf,EAAAtgB,EAAAugB,cAAA,QAAM4a,UAAWO,EAAQ0hB,uBACD,oBAAf4B,EACP1+B,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACCrU,SAAU+xB,EACV/f,QAAQ,YACRK,MAAM,UACNE,QAASkrB,GAERj/C,aAAEi+C,GAAoB,cAGxB5+B,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACCrU,SAAU+xB,EACV/f,QAAQ,YACRK,MAAM,UACNE,QAAS+qB,GAER9+C,aAAE,aAGJuzC,GACAl0B,EAAAtgB,EAAAugB,cAAAkc,GAAA,GAAkB1H,KAAM,GAAIoG,UAAWO,EAAQmV,sBE9QtD,SAASmQ,GAATngD,GAA6E,IAAxDkgD,EAAwDlgD,EAAxDkgD,eAAgBhC,EAAwCl+C,EAAxCk+C,QAASrQ,EAA+B7tC,EAA/B6tC,MAAO4P,EAAwBz9C,EAAxBy9C,YAAgBjkC,EAAQlZ,OAAAmZ,EAAA,EAAAnZ,CAAAN,EAAA,oDAAA20B,EAC3CC,mBAAS,IADkCC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GACrEyrB,EADqEvrB,EAAA,GACvDwrB,EADuDxrB,EAAA,GAAAyrB,EAEvDtrB,YAAY9G,MAAzB0f,YAFoE,IAAA0S,EAE7D,EAF6DA,EAiB5E,OAbA3qB,oBAAU,WACT,IAAM4qB,EAAe1S,EAAM/sC,IAAI,SAAC6f,EAAGqJ,GAAJ,OAAA1pB,OAAAC,GAAA,EAAAD,CAAA,GAC3BqgB,EAD2B,CAE9Bu9B,UACA3wC,MAAOnN,aAAEugB,EAAEpT,OACX2yC,iBACAtuB,MAAMtxB,OAAAC,GAAA,EAAAD,CAAA,GAAMkZ,EAAP,CAAa0kC,UAASn3C,WAAYm3C,EAAU,IAAMl0B,QAGxDq2B,EAASE,IAEP,CAACrC,IAGHz+B,EAAAtgB,EAAAugB,cAAC8gC,GAAD,CACCjD,YAAa3P,EACbC,MAAOuS,EACP3C,YAAaA,IAUDplB,4BAAW,SAACzG,EAAOqG,GAAR,OACzBxY,EAAAtgB,EAAAugB,cAACygC,GAAD7/C,OAAA03B,OAAA,GAAepG,EAAf,CAAsBgG,aAAcK,iBCtCxB0K,GAAS,SAAAtJ,GACrB,IAAM4E,EAAU5E,EAAM4E,QAAQ,GAC9B,MAAO,CACNmK,OAAQ,CACPjK,OAAM,gBAAAp1B,OAAkBk1B,EAAlB,OACNnE,SAAU,KACVwH,SAAU,KACVjY,gBAAiBgQ,EAAMK,QAAQqJ,OAAOnJ,KACtC+P,2BAA4B,CAC3BrI,SAAU,OACVxH,SAAQ,gBAAA/wB,OAAkBk1B,EAAlB,SAGVwiB,YAAa,CACZllB,QAAS,OACToB,cAAe,MACflB,WAAY,SACZmB,eAAgB,gBAChByW,SAAU,aACVpP,OAAQhG,EACR6F,WAAYzK,EAAM4E,QAAQ,GAC1BD,aAAc,EACdX,QAAS,GAEVuG,QAAS,CACRrI,QAAS,OACToB,cAAe,SACfnB,KAAM,WACNsB,SAAU,WACVO,QAAS,EACT4G,OAAQhG,EACRsD,SAAU,UACVrE,UAAW,QAEZwjB,WAAY,CACXnlB,QAAS,OACToB,cAAe,SACfnB,KAAM,GAEPmlB,QAAS,CACR1c,OAAQ,SACR7F,MAAO,QAERwiB,YAAa,CACZ/hB,SAAU,GAEXgiB,0BAA2B,CAC1BC,WAAY,EACZrgB,YAAapH,EAAM4E,QAAQ,IAE5B8iB,kBAAmB,CAClBxlB,QAAS,OACToB,cAAe,MACfC,eAAgB,SAChBnB,WAAY,SACZulB,UAAW,CACV3jB,QAAShE,EAAM4E,QAAQ,KAGzBgjB,QAAS,CACR5iB,OAAQ,WAET6iB,YAAa,CACZzgB,YAAapH,EAAM4E,QAAQ,IAE5BkjB,QAAQ7gD,OAAA++B,EAAA,EAAA/+B,CAAA,CACP8gD,cAAe,YAEfhF,UAAW,SACV/iB,EAAM2J,YAAYe,KAAK,MAAQ,CAC/BqY,UAAW,SAGbiF,SAAU,CACTjF,UAAW,QAEZkF,qBAAsB,CACrBxkB,SAAU,WACVC,KAAM,mBACN5J,IAAK,oBAENouB,SAASjhD,OAAA++B,EAAA,EAAA/+B,CAAA,CACRw8B,SAAU,SACV3J,IAAK,EACL4J,KAAM,EACNiB,aAAc3E,EAAM4E,QAAQ,GAC5BwV,OAAQpa,EAAMoa,OAAO1Q,OACrB0Z,QAAS,CACRhc,YAAapH,EAAM4E,QAAQ,KAE3B5E,EAAM2J,YAAYe,KAAK,MAAQ,CAC/B/F,aAAc,EACdlB,SAAU,QACV3J,IAAK,OACL4J,KAAM,OACNE,OAAQgB,EACRjB,MAAOiB,IAGTujB,UAAW,CACVC,UAAW,aACXC,aAAc,aACdC,QAAS,QAEVC,QAAS,CACRzuB,IAAK,OACL4J,KAAM,OACNC,MAAO,EACPC,OAAQ,EACRmB,MAAO,QACPD,OAAQ,OACRrB,SAAU,YAEX+kB,SAAU,CACT/kB,SAAU,YAEXglB,iBAAkB,CACjB9jB,aAAc,OACdlB,SAAU,SACV3J,IAAK,EACLsgB,OAAQpa,EAAMoa,OAAO1Q,OACrB1Z,gBAAiBgQ,EAAMK,QAAQqJ,OAAOnJ,MAEvCmoB,mBAAoB,CACnBxmB,QAAS,OACTC,KAAM,EACNmB,cAAe,SACfC,eAAgB,SAChBnB,WAAY,iCCjGTumB,GAAUzY,aAAW5G,GAAX4G,CAbA,SAAAvpC,GAA4D,IAAzD+Z,EAAyD/Z,EAAzD+Z,MAAOugB,EAAkDt6B,EAAlDs6B,UAAWO,EAAuC76B,EAAvC66B,QAAS2F,EAA8BxgC,EAA9BwgC,MAAOrM,EAAuBn0B,EAAvBm0B,QAAuB7zB,OAAAmZ,EAAA,EAAAnZ,CAAAN,EAAA,mDAC3E,OACCyf,EAAAtgB,EAAAugB,cAAA,QACC4a,UAAW8E,KAAWvE,EAAQomB,QAAS3mB,GACvCkG,MAAOA,EACPrM,QAASA,GAER,IACApa,EAAO,OAOLkoC,GAAa/pB,IAAMG,WAAW,SAAoBzG,EAAOqG,GAC9D,OAAOxY,EAAAtgB,EAAAugB,cAACwiC,GAAA,EAAD5hD,OAAA03B,OAAA,CAAOmqB,UAAU,KAAKlqB,IAAKA,GAASrG,MAGtCsK,GAAY9C,aAAWuJ,IAEd,SAASyf,GAAchsB,GACrC,SAASisB,EAAWzwB,GAAO,IAAA0wB,EAsBtB1wB,EApBH2wB,4BAFyB,IAAAD,KAGzB1qB,EAmBGhG,EAnBHgG,aACA4qB,EAkBG5wB,EAlBH4wB,WACAC,EAiBG7wB,EAjBH6wB,WACAC,EAgBG9wB,EAhBH8wB,UACA9uB,EAeGhC,EAfHgC,QACAK,EAcGrC,EAdHqC,MACAC,EAaGtC,EAbHsC,KAEAyuB,GAWG/wB,EAZHgxB,KAYGhxB,EAXH+wB,cACAE,EAUGjxB,EAVHixB,SACAjhC,EASGgQ,EATHhQ,SACA0Y,EAQG1I,EARH0I,UACA4D,EAOGtM,EAPHsM,KACA3wB,EAMGqkB,EANHrkB,MACAu1C,EAKGlxB,EALHkxB,cACA3uB,EAIGvC,EAJHuC,QACAye,EAGGhhB,EAHHghB,UACAmQ,EAEGnxB,EAFHmxB,aACGvpC,EArBsBlZ,OAAAmZ,EAAA,EAAAnZ,CAsBtBsxB,EAtBsB,oOAwBpBoxB,EAAW,CAChB/uB,QACAC,OACAN,WAGKiH,EAAUqB,KA9BUvH,EA+BFC,oBAAS,GA/BPC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GA+BnBtB,EA/BmBwB,EAAA,GA+BbC,EA/BaD,EAAA,GAiCpBoR,EAAY,eAAAvlC,EAAAJ,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAC,IAAA,OAAAF,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,UACQ,oBAAjByrB,GAAgC1vB,EADvB,CAAAgE,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EAEbyrB,IAFa,OAKpBjuB,GAASzB,GALW,wBAAAgE,EAAAI,SAAAR,MAAH,yBAAAv2B,EAAAyT,MAAA4d,KAAA3yB,YAAA,GAQZy3B,EAAW,eAAAh2B,EAAAP,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAgoB,EAAM/lB,GAAN,OAAAlC,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cACnB2B,GAAMA,EAAGzB,iBAAmByB,EAAGzB,kBAC/ByB,GAAMA,EAAG1B,gBAAkB0B,EAAG1B,iBAFX0nB,EAAA3nB,KAAA,EAGb2O,IAHa,WAIf9R,EAJe,CAAA8qB,EAAA3nB,KAAA,eAAA2nB,EAAA3nB,KAAA,EAIAnD,IAJA,wBAAA8qB,EAAAxnB,SAAAunB,MAAH,gBAAAtnB,GAAA,OAAA72B,EAAAsT,MAAA4d,KAAA3yB,YAAA,GAWb6jD,EAAkB,KAElBT,EACHS,EAAkBlvB,IACR0uB,EACVQ,EAAkBjB,GACRU,EACVO,EAAkBlb,MAElBkb,EAAkBhtB,IAClB+sB,EAASpQ,UAAYA,GAGtB,IAAMsQ,EAAqBL,EACxBziD,aAAEyiD,EAAU,CAAE14C,KAAMw4C,GAAgB,CAAC,MACrC,GAEH,OACCljC,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAACujC,EAAD3iD,OAAA03B,OAAA,CACCpW,SAAUA,EACVoS,aAAYkvB,EACZnpC,MAAOmpC,EACP/uB,QAAS,SAAA8E,GAAE,OAAIpC,EAAYoC,KACvB+pB,EALL,CAMC1oB,UAAW8E,KACV9E,EADoBh6B,OAAA++B,EAAA,EAAA/+B,CAAA,GAEjBu6B,EAAQ0mB,WAAamB,GAFJpiD,OAAA++B,EAAA,EAAA/+B,CAAA,GAGjBu6B,EAAQsoB,MAAkB,UAAVlvB,GAHC3zB,OAAA++B,EAAA,EAAA/+B,CAAA,GAIjBu6B,EAAQuoB,OAAmB,WAAVnvB,MAGpBiK,GACCskB,GAAcU,GAEjBzjC,EAAAtgB,EAAAugB,cAACkW,EAAA,EAAD,CACC2sB,qBAAsBA,EAItBlvB,KAAMA,EACNG,QAASyS,EACTod,oBAAqBpB,GACrBpnB,QAAS,CAAEyB,MAAOzB,EAAQuN,SAI1B3oB,EAAAtgB,EAAAugB,cAACmW,EAAA,EAAD,CACCytB,mBAAiB,EACjBzoB,QAAS,CACRhB,KAAMuF,KAAWvE,EAAQ4lB,YAAa5lB,EAAQ2mB,aAG/C/hC,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYnL,QAAQ,aAAaxzB,aAAEmN,IACnCkS,EAAAtgB,EAAAugB,cAACqU,EAAA,EAAD,CAAYI,QAAS8R,EAAc/R,KAAK,SACvCzU,EAAAtgB,EAAAugB,cAAC6jC,GAAApkD,EAAD,QAGFsgB,EAAAtgB,EAAAugB,cAACoW,EAAA,EAAD,CAAe+E,QAAS,CAAEhB,KAAMgB,EAAQ+I,UACvCnkB,EAAAtgB,EAAAugB,cAAC0W,EAAD91B,OAAA03B,OAAA,CAAWC,IAAKL,GAAkBpe,EAAlC,CAAwCikC,YA/DxB,WACnB3oB,GAAQ,QAgELguB,GAAiBrjC,EAAAtgB,EAAAugB,cAACsW,EAAA,EAAD,KAAgB8sB,KAatC,OAAOzqB,qBAAW,SAACzG,EAAOqG,GAAR,OACjBxY,EAAAtgB,EAAAugB,cAAC2iC,EAAD/hD,OAAA03B,OAAA,GAAgBpG,EAAhB,CAAuBgG,aAAcK,wECtIjCiE,GAAY9C,aAbI,SAAAC,GAAK,MAAK,CAC/BmqB,YAAa,CACZ1pB,SAAU,KAEX2pB,YAAa,CACZp6B,gBAAiBgQ,EAAMK,QAAQH,WAAW+C,OAE3ConB,SAAU,CACTC,WAAY,eACZlC,UAAW,iBAMPmC,GAAa,SAAA5jD,GAAA,IAAG+Z,EAAH/Z,EAAG+Z,MAAH,OAClBhI,MAAM8xC,QAAQ9pC,GACb0F,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACE/Z,EAAMjZ,IAAI,SAACsM,EAAG4c,GAAJ,OACVvK,EAAAtgB,EAAAugB,cAAAqf,GAAA,GACC9Z,IAAK+E,EACLuR,QAAQ,QACR3H,QAAQ,UACRK,MAAM,WAEL7mB,MAKJ2M,GAgHa+pC,OA7Gf,SAAkBlyB,GACjB,IAAMiJ,EAAUqB,KAGfpB,EAeGlJ,EAfHkJ,SAJuBipB,EAmBpBnyB,EAdH7X,aALuB,IAAAgqC,EAKf,GALeA,EAMvB1vC,EAaGud,EAbHvd,MANuB2vC,EAmBpBpyB,EAZHhR,cAPuB,IAAAojC,EAOd,GAPcA,EAAAC,EAmBpBryB,EAXHsyB,cARuB,IAAAD,EAQd,UARcA,EAAAE,EAmBpBvyB,EAVHhQ,gBATuB,IAAAuiC,KAAAC,EAmBpBxyB,EATHH,aAVuB,IAAA2yB,KAWvBzN,EAQG/kB,EARH+kB,WAXuB0N,EAmBpBzyB,EAPHghB,iBAZuB,IAAAyR,KAavB/pB,EAMG1I,EANH0I,UACAgqB,EAKG1yB,EALH0yB,SACAhpB,EAIG1J,EAJH0J,QACAipB,EAGG3yB,EAHH2yB,WACA3wB,EAEGhC,EAFHgC,QACA4wB,EACG5yB,EADH4yB,cAQD,OACC/kC,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACIlT,EAAOvhB,SAAWi8B,EACpB7b,EAAAtgB,EAAAugB,cAAAizB,GAAA,GACCrY,UAAW8E,KAAW9E,EAAWO,EAAQ2oB,aACzC5hC,SAAUA,EACV6P,MAAOA,EACPmhB,UAAWA,EACXhf,QAASA,GAETnU,EAAAtgB,EAAAugB,cAAAmzB,GAAA,GAAY4R,QAASP,EAAQI,SAAUA,GACrCvqC,GAEF0F,EAAAtgB,EAAAugB,cAAAglC,GAAA,GACC3qC,MAAOA,EACP1F,MAAOA,EAAMxN,IAAMwN,EACnBymB,SArBgB,SAAA5D,GACpB4D,EAAS5D,EAAM8I,OAAO3rB,QAqBlBmwC,cAAeA,GAEdlkD,OAAAgE,GAAA,EAAAhE,CAAIsgB,GAAQ9f,IAAI,SAAA6vB,GAChB,OAAOA,EAAIxS,MACVsB,EAAAtgB,EAAAugB,cAAAilC,GAAA,GACCrqB,UAAWO,EAAQ4oB,YACnBx+B,IAAK0L,EAAIxS,MAAML,MAAQ6S,EAAIxS,OAE1BwS,EAAIxS,MAAML,MAAQ6S,EAAIxS,OAGxBsB,EAAAtgB,EAAAugB,cAAA0kB,GAAA,GACCnf,IAAK0L,EAAItc,MAAM4Q,KAAO0L,EAAItc,MAAMxN,IAAM8pB,EAAItc,MAC1CimB,UAAWO,EAAQ6oB,SACnBrvC,MAAOsc,EAAItc,MAAMxN,IAAM8pB,EAAItc,OAE1Bsc,EAAI5W,QACF4W,EAAI1S,YACNwB,EAAAtgB,EAAAugB,cAAAywB,GAAA,GAAS5iC,MAAOkS,EAAAtgB,EAAAugB,cAACklC,GAAD,CAAY7qC,MAAO4W,EAAI1S,cACtCwB,EAAAtgB,EAAAugB,cAAAmlC,GAAA,GACCvqB,UAAWO,EAAQrb,UACnB+e,SAAS,QACTtK,MAAM,iBAQZ0iB,GAAcl3B,EAAAtgB,EAAAugB,cAAAolC,GAAA,OAAiBnO,IAGjCl3B,EAAAtgB,EAAAugB,cAAAD,EAAAtgB,EAAAugC,SAAA,KACCjgB,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,UAAWA,EACXnqC,KAAK,OACLmrB,QAASA,EACThS,UAAQ,EACRvN,MAAOinB,EAAUl7B,aAAE,gBAAkBmkD,EACrC5N,WAAYA,MAEVrb,GAAW7b,EAAAtgB,EAAAugB,cAACqlC,GAAD,SC1BJC,OAnGf,SAAAhlD,GAAqC,IAAd+G,EAAc/G,EAAd+G,WAAcguB,EACYC,YAAYhnB,MAApDT,EAD4BwnB,EAC5BxnB,MAAOoqC,EADqB5iB,EACrB4iB,YAAaa,EADQzjB,EACRyjB,UAAW/vC,EADHssB,EACGtsB,KACjCw8C,EAAejwB,YAAYjK,MAFGm6B,EAShClwB,YAAY,SAAAv1B,GAAK,OAAIqd,aAAsBrd,EAAOsH,IAAe,KAJ7DgwC,EAL4BmO,EAKnC33C,MACaqqC,EANsBsN,EAMnCvN,YACWwN,EAPwBD,EAOnC1M,UACM4M,EAR6BF,EAQnCz8C,KAGD,OACCgX,EAAAtgB,EAAAugB,cAAA,WACCD,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,OACL67C,UAAQ,EACRvqC,MAAO3Z,aAAE,QAAS,CAAE6J,QAAQ,IAC5B6T,KAAK,QACLzJ,MAAO9G,EACPutB,SAAU,SAAA7B,GAAE,OAAIC,YAAQqsB,aAAc,QAAStsB,EAAG+G,OAAO3rB,SACzDod,MAAOslB,KAAcA,EAASv1B,MAC9Bs2B,UAAW,IACXnB,WACCI,GAAcA,EAASv1B,MAAQu1B,EAASM,OAASj3C,aAAE,mBAItDqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,OACLsvC,WAAS,EACTC,KAAM,EACNj+B,MAAO3Z,aAAE,cAAe,CAAE6J,QAAQ,IAClCoK,MAAOsjC,EACP7c,SAAU,SAAA7B,GAAE,OACXC,YAAQqsB,aAAc,cAAetsB,EAAG+G,OAAO3rB,SAEhDod,MAAOmmB,KAAoBA,EAAep2B,MAC1Cs2B,UAAW,IACXnB,WACCiB,GAAoBA,EAAep2B,MAChCo2B,EAAeP,OACfj3C,aAAE,yBAIRqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,OACL67C,UAAQ,EACRvqC,MAAO3Z,aAAE,YAAa,CAAE6J,QAAQ,IAChCoK,MAAOmkC,EACP1d,SAAU,SAAA7B,GAAE,OACXC,YAAQqsB,aAAc,YAAatsB,EAAG+G,OAAO3rB,SAE9Cod,MAAO0zB,KAAkBA,EAAa3jC,MACtCm1B,WACCwO,GAAkBA,EAAa3jC,MAC5B2jC,EAAa9N,OACbj3C,aAAE,uBAIRqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAC8lC,GAAD,CACC5S,WAAS,EACThf,QAAQ,WACR0wB,UAAQ,EACRxpB,SAAU,SAAAzmB,GAAK,OAAI6kB,YAAQqsB,aAAc,OAAQlxC,KACjDuM,OAAQqkC,EACR5wC,MAAO5L,EAAO,GACdsR,MAAO3Z,aAAE,SAAU,CAAE6J,QAAQ,IAC7Bi6C,OAAO,aACPpmC,KAAK,SACL2T,MAAO2zB,KAAaA,EAAQ5jC,MAC5Bm1B,WACCyO,GAAaA,EAAQ5jC,MAClB4jC,EAAQ/N,OACRj3C,aAAE,uFC7FCqlD,GAAmB,SAAC9e,EAAO+e,EAAMC,EAAUzxB,GACvD,IAAM0xB,EAASnf,SAAS/mB,cAAc,UAChCmmC,EAASlf,EAAMmf,aAAenf,EAAMvI,MACpC2nB,EAASpf,EAAMqf,cAAgBrf,EAAMxI,OAErC8nB,EAAcP,EAAKtnB,MAAQynB,EAC3BK,EAAeR,EAAKvnB,OAAS4nB,EACnCH,EAAOxnB,MAAQ6nB,EACfL,EAAOznB,OAAS+nB,EACJN,EAAOO,WAAW,MAE1BC,UACHzf,EACA+e,EAAKt4C,EAAIy4C,EACTH,EAAKW,EAAIN,EACTE,EACAC,EACA,EACA,EACAD,EACAC,GAGD,IAAII,EAAcV,EAElB,GAAI1xB,GAAQA,EAAKkK,OAASlK,EAAKiK,OAAQ,CAEtC,IAAMooB,EAAK9f,SAAS/mB,cAAc,UAClC6mC,EAAGnoB,MAAQ6nB,EACXM,EAAGpoB,OAAS+nB,EACZ,IAAMM,EAAOD,EAAGJ,WAAW,MACrBM,EAAOr3C,KAAKs3C,MAAMT,EAAc/xB,EAAKkK,MAAQ,GACnDooB,EAAKl5C,OAAL,QAAAvE,OAAsB09C,EAAtB,OACAD,EAAKJ,UAAUR,EAAQ,EAAG,EAAGK,EAAaC,IAE1CI,EAAc7f,SAAS/mB,cAAc,WACzB0e,MAAQlK,EAAKkK,MACzBkoB,EAAYnoB,OAASjK,EAAKiK,OAEbmoB,EAAYH,WAAW,MAE/BC,UACJG,EACA,EACA,EACAN,EACAC,EACA,EACA,EACAhyB,EAAKkK,MACLlK,EAAKiK,QAIP,OAAO,IAAIwoB,QAAQ,SAACC,EAASC,GAC5BP,EAAYQ,OACX,SAAAC,GACMA,GACJF,EAAO,uBAERE,EAAKjpC,KAAO6nC,EACZiB,EAAQI,IAAIC,gBAAgBF,KAE7B,aACA,MClDG7qB,GAAY9C,aCpBI,SAAAC,GACrB,IAAM4E,EAAU5E,EAAM4E,QAAQ,GAC9B,MAAO,CACNipB,SAAU,CACTlpB,aAAcC,EACd1C,QAAS,OACToB,cAAe,SACfnB,KAAM,MACN2C,OAAQ,OACRC,MAAO,OACP+oB,OAAM,cAAAp+C,OAAgBswB,EAAMK,QAAQ9S,KAAKgT,MACzCL,WAAYF,EAAMK,QAAQH,WAAWsK,QACrCxG,QAAS,GACTgB,OAAQ,UACRkD,SAAU,UAEX6lB,mBAAoB,CACnBjpB,OAAQ,IACRC,MAAO,OACPkD,SAAU,OACVsI,UAAW,OACXrO,QAAS,OACTE,WAAY,SACZkB,cAAe,SACfC,eAAgB,UAEjByqB,YAAa,CACZrpB,aAAcC,EACdwC,YAAaxC,GAEdgD,SAAU,CACTR,YAAaxC,GAEdqpB,cAAe,CACdxkB,UAAW7E,MD2NCspB,OAvOf,SAAiB31B,GAChB,IAAMiJ,EAAUqB,KACRhI,EAAkDtC,EAAlDsC,KAAM4G,EAA4ClJ,EAA5CkJ,SAAU/gB,EAAkC6X,EAAlC7X,MAAOytC,EAA2B51B,EAA3B41B,eAAgBnQ,EAAWzlB,EAAXylB,OACzCoQ,EAASvzB,EAAOA,EAAKkK,MAAQlK,EAAKiK,YAAS7+B,EAH1Bq1B,EAKKC,mBAAS,MALdC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAKhB+yB,EALgB7yB,EAAA,GAKR8yB,EALQ9yB,EAAA,GAAA6a,EAMC9a,mBAAS,CAAE6yB,WANZ9X,EAAArvC,OAAAsS,EAAA,EAAAtS,CAAAovC,EAAA,GAMhBgW,EANgB/V,EAAA,GAMViY,EANUjY,EAAA,GAAA4K,EAOS3lB,oBAAS,GAPlB4lB,EAAAl6C,OAAAsS,EAAA,EAAAtS,CAAAi6C,EAAA,GAOhBsN,EAPgBrN,EAAA,GAONsN,EAPMtN,EAAA,GAAAE,EAQO9lB,mBAAS,IARhB+lB,EAAAr6C,OAAAsS,EAAA,EAAAtS,CAAAo6C,EAAA,GAQhBqN,EARgBpN,EAAA,GAQPqN,EAROrN,EAAA,GAAAE,EASCjmB,mBAAShD,EAAMq2B,MAThBnN,EAAAx6C,OAAAsS,EAAA,EAAAtS,CAAAu6C,EAAA,GAShBoN,EATgBnN,EAAA,GASVoN,EATUpN,EAAA,GAAAqN,EAUKvzB,mBAAShD,EAAM4S,QAVpB4jB,EAAA9nD,OAAAsS,EAAA,EAAAtS,CAAA6nD,EAAA,GAUhB3jB,EAVgB4jB,EAAA,GAURC,EAVQD,EAAA,GAYvBzyB,oBAAU,WACTiyB,EAAQ,CAAEH,YACR,CAACA,IAEJ9xB,oBAAU,WACTuyB,EAAQt2B,EAAMq2B,MACdI,EAAUz2B,EAAM4S,SACd,CAAC5S,EAAMq2B,KAAMr2B,EAAM4S,SAEtB,IAAM8jB,EAASvY,sBAAY,SAAA3G,GAC1Bue,EAAUve,IACR,IAiBGmf,EAAkB,SAAA1vC,GACnBA,EAAE2e,iBACL3e,EAAE2e,kBAEC3e,EAAE2vC,aACL3vC,EAAE2vC,YAAYC,4BAIVC,EAAW,SAAA7vC,GAChB0vC,EAAgB1vC,GAEZ2rB,IACHwiB,IAAI2B,gBAAgBnkB,GACpB6jB,EAAU,IACVL,EAAW,IACXltB,EAAS,CAAE8tB,QAAS,KAAMX,KAAM,SAI5BY,EAAW,eAAA7oD,EAAAM,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAC,IAAA,IAAA6xB,EAAA,OAAA/xB,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,YACfowB,GAAUhC,EAAKtnB,MAAQ,GAAKsnB,EAAKvnB,OAAS,GAD3B,CAAA9G,EAAAC,KAAA,gBAAAD,EAAAC,KAAA,EAEQmuB,GACzBiC,EACAhC,EAFyC,WAAA38C,OAG9Bg/C,GACX7zB,GANiB,OAEZ40B,EAFYzxB,EAAA0xB,KAQlB/B,IAAI2B,gBAAgBnkB,GACpB6jB,EAAUS,GACVhB,GAAY,GACZhtB,EAAS,CACR8tB,QAASE,EACTb,SAbiB5wB,EAAAC,KAAA,kCAAAD,EAAAI,SAAAR,MAAH,yBAAAj3B,EAAAmU,MAAA4d,KAAA3yB,YAAA,GAoEXsoC,EAAWnB,aAAa0hB,GAC9B,OACCxoC,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQmuB,SACvBvpC,EAAAtgB,EAAAugB,cAACupC,GAAD,CACClvC,MACCyqB,GAAUujB,EAAV,GAAAh/C,OACMgR,GAAS,QADf,MAAAhR,OAC2Bg/C,GACxBhuC,GAAS,eAEb1F,MACCoL,EAAAtgB,EAAAugB,cAAA,WACCD,EAAAtgB,EAAAugB,cAAA,WACEmoC,EACApoC,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQqsB,SAAU/yB,QAASo0B,GAC1C9oC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GACCC,WAAS,EACTrnB,QAAS,EACTirB,aAAa,SACbztB,WAAW,UAEXhc,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC23C,GAAI,GAAI5c,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKH,UAAWO,EAAQusB,oBACvB3nC,EAAAtgB,EAAAugB,cAAC0pC,GAAAjqD,EAAD,CACCkqD,WAAY,CACX/nB,SAAU,OACVsI,UAAW,QAEZ0f,cAAehB,EACf5C,KAAMA,EACN/0B,IAAK6T,GAAU,GACf1J,SAAU,SAAA7oB,GAAC,OAAI21C,EAAQ31C,QAK1BwN,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC23C,GAAI,GAAI5c,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAY9K,MAAM,UAAU4a,cAAY,GACtCzuC,aAAE,kBAEJqf,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACCrC,QAAQ,YACRK,MAAM,UACNE,QAAS00B,EACTjnC,UAAW8jC,EAAKtnB,QAAUsnB,EAAKvnB,OAC/B7D,UAAWO,EAAQwsB,aAEnB5nC,EAAAtgB,EAAAugB,cAAAs0B,GAAA,GAAU1Z,UAAWO,EAAQoG,WAC5B7gC,aAAE,uBAEJqf,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACCrC,QAAQ,YACRO,QAAS,kBAAM2zB,GAAY,IAC3BxtB,UAAWO,EAAQwsB,aAEnB5nC,EAAAtgB,EAAAugB,cAAA6pC,GAAA,GAAWjvB,UAAWO,EAAQoG,WAC7B7gC,aAAE,4BAMPqf,EAAAtgB,EAAAugB,cAAC8pC,GAAA,EAAD,CACCp4B,OAAO,uBACPq4B,OAtKO,SAACC,EAAeC,GAC9B,IAAM5C,EAAO2C,EAAc,GAC3B,GAAK3C,EAAL,CACA,IAAM6C,EAAY5C,IAAIC,gBAAgBF,GACtCsB,EAAUuB,GACV5B,EAAWjB,EAAKjpC,MAChBoqC,EAAQnB,EAAKt+C,MAGbqyB,EAAS,CACR8tB,QAASgB,EACT3B,KAAMlB,EAAKt+C,SA4JL6xB,UAAWO,EAAQqsB,UAEnBznC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GACCC,WAAS,EACTrnB,QAAS,EACTirB,aAAa,SACbztB,WAAW,UAEXhc,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC23C,GAAI,GAAI5c,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKH,UAAWO,EAAQusB,oBACtB1f,EACAjoB,EAAAtgB,EAAAugB,cAAA,SAAOmpB,UAAQ,EAAClY,IAAK6T,EAAQ/7B,KAAK,cAElCgX,EAAAtgB,EAAAugB,cAACw5B,GAAD,CAAKvoB,IAAK6T,EAAQjE,IAAK,WAI1B9gB,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC23C,GAAI,GAAI5c,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAlIS,WAClB,OACCD,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQgvB,YACtBrlB,IAAW+B,aAAa0hB,GACxBxoC,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQysB,iBAEpBpzB,GACFzU,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACCrC,QAAQ,YACRK,MAAM,UACNE,QAAS,SAAAtb,GACR0vC,EAAgB1vC,GAChBivC,GAAY,IAEbxtB,UAAWO,EAAQwsB,aAEnB5nC,EAAAtgB,EAAAugB,cAAAoqC,GAAA,GAAUxvB,UAAWO,EAAQoG,WAC5B7gC,aAAE,kBAbN,OAiBCqf,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACCrC,QAAQ,YACRO,QAASu0B,EACTpuB,UAAWO,EAAQwsB,aAEnB5nC,EAAAtgB,EAAAugB,cAAA6pC,GAAA,GAAWjvB,UAAWO,EAAQoG,WAC7B7gC,aAAE,oBAILqf,EAAAtgB,EAAAugB,cAAAqqC,GAAA,QAEDtqC,EAAAtgB,EAAAugB,cAAA,WACCD,EAAAtgB,EAAAugB,cAAA,gBAAQtf,aAAE,2BAAV,MAEDqf,EAAAtgB,EAAAugB,cAAA,WACCD,EAAAtgB,EAAAugB,cAAA,0CAEDD,EAAAtgB,EAAAugB,cAAA,WACCD,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYzE,UAAWO,EAAQwc,OAAQpjB,MAAM,SAC3CojB,MAyFI,UAML53B,EAAAtgB,EAAAugB,cAAA,WACCD,EAAAtgB,EAAAugB,cAAA,iBAAS8nC,EAAT,qBE3LQwC,OA3Cf,SAAAhqD,GAAqC,IAAd+G,EAAc/G,EAAd+G,WAAcguB,EACbC,YAAYhnB,MAA3BvF,EAD4BssB,EAC5BtsB,KAAMwhD,EADsBl1B,EACtBk1B,KACAC,EAAWl1B,YACxB,SAAAv1B,GAAK,OAAIqd,aAAsBrd,EAAOsH,IAAe,KAD9CkjD,KAF4BE,EAKVC,aAAuB3hD,GAAzC21B,EAL4B+rB,EAK5B/rB,MAAOD,EALqBgsB,EAKrBhsB,OACPyqB,EAAkBqB,EAAlBrB,QAASX,EAASgC,EAAThC,KAEjB,OACCxoC,EAAAtgB,EAAAugB,cAAA,WACCD,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,GACd7lC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAC2qC,GAAD,CACCtwC,MAAO3Z,aAAE,yBACTokC,OAAQokB,GAAW,GACnBX,KAAMA,GAAQ,GACdntB,SAAU,SAAAwvB,GAAU,OACnBpxB,YACCqsB,aAAc,OAADjlD,OAAAC,GAAA,EAAAD,CAAA,GACT2pD,EACAK,MAIN9C,eAAgBpnD,aAAE,uBAAwB,CACzC+J,KAAM,CAACi0B,EAAOD,EAAQ,QAEvBkZ,OAAQ6S,GAAUA,EAAO1oC,MAAQ0oC,EAAO7S,OAAS,GACjDnjB,KAAM,CACLkK,MAAOA,EACPD,OAAQA,kFC7BFosB,WCMFC,KACFC,KACHC,KDRiB,SAAA1qD,GAAA,IAAG+8B,EAAH/8B,EAAG+8B,KAAMC,EAATh9B,EAASg9B,MAAT,OACtBvd,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAACupC,GAAD,CAAkBlvC,MAAOgjB,EAAM1oB,MAAO2oB,OAsF3B2tB,GAAaphB,aAAW5G,GAAX4G,CAlFP,SAAA7oC,KAAGm6B,QAAH,IAAYnG,EAAZh0B,EAAYg0B,SAAU4F,EAAtB55B,EAAsB45B,UAAtB,OAClB7a,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACC2D,MAAO,EACPD,OAAQ,EACR5C,QAAQ,OACRoB,cAAc,SACdrC,UAAWA,GAEV5F,KA2EUk2B,GAAcrhB,aAAW5G,GAAX4G,CAvEP,SAAA1oC,KAAGg6B,QAAH,IAAYnG,EAAZ7zB,EAAY6zB,SAAU4F,EAAtBz5B,EAAsBy5B,UAAtB,OACnB7a,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKoE,SAAU,EAAGvE,UAAWA,GAC3B5F,KAsEUm2B,GAAmBthB,aAAW5G,GAAX4G,CAlEP,SAAAtoC,GAAA,IAAG45B,EAAH55B,EAAG45B,QAASnG,EAAZzzB,EAAYyzB,SAAZzzB,EAAsBq5B,UAAtB,OACxB7a,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAW8E,KAAWvE,EAAQinB,mBAAoBptB,KAkE3Co2B,GAAavhB,aAAW5G,GAAX4G,CA/DP,SAAAnoC,GAAA,IAAGy5B,EAAHz5B,EAAGy5B,QAASsb,EAAZ/0C,EAAY+0C,IAAK4U,EAAjB3pD,EAAiB2pD,OAAjB3pD,EAAyBk5B,UAAzB,OAClB7a,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAW8E,KAAWvE,EAAQkmB,oBAClCthC,EAAAtgB,EAAAugB,cAAAkc,GAAA,GAAkBtB,UAAWO,EAAQgmB,0BAA2B3sB,KAAM,KACtEzU,EAAAtgB,EAAAugB,cAAA,WACCD,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYC,UAAU,OAAtB,IAA8BmX,EAA9B,KACC4U,GACAtrC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYC,UAAU,OACrBvf,EAAAtgB,EAAAugB,cAAA,cAASqrC,QAyDDC,GAAqBzhB,aAAW5G,GAAX4G,CAlDP,SAAAhoC,GAAA,IAAGs5B,EAAHt5B,EAAGs5B,QAAH,OAC1Bpb,EAAAtgB,EAAAugB,cAAAkc,GAAA,GACCtB,UAAW8E,KAAWvE,EAAQymB,sBAC9BptB,KAAM,OAgDK+2B,GAAqB1hB,aAAW5G,GAAX4G,CA5CP,SAAA7nC,GAAA,IAC1BgzB,EAD0BhzB,EAC1BgzB,SAD0Bw2B,EAAAxpD,EAE1BypD,YAF0B,IAAAD,EAEnB,GAFmBA,EAG1BvX,EAH0BjyC,EAG1BiyC,QAH0ByX,EAAA1pD,EAI1BuyB,aAJ0B,IAAAm3B,EAIlB,UAJkBA,EAAA,OAM1B3rC,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACC2D,MAAO,EACPD,OAAQ,EACR5C,QAAQ,OACRoB,cAAc,SACdlB,WAAW,SACXmB,eAAe,SACflC,QAAO,GAAA3xB,OAAKkrB,EAAL,SACPA,MAAK,GAAAlrB,OAAKkrB,EAAL,kBAEJ0f,GACAl0B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAAAkc,GAAA,GACC3H,MAAM,UAENC,KAAM,MAIRQ,EACAy2B,EACC79C,OAAO,SAAAF,GAAC,QAAMA,GAAKA,EAAEkoC,UACrBx0C,IAAI,SAACq1C,EAAKnsB,GACV,IAAMsrB,EAAUl1C,aAAE+1C,EAAIb,QAAS,CAAEnrC,KAAMgsC,EAAIhsC,OAC3C,OACCsV,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAY9Z,IAAK+E,EAAOgV,UAAU,OAChCmX,EAAIkV,OAAS5rC,EAAAtgB,EAAAugB,cAAA,cAAS41B,GAAoBA,QE3FpC3S,GAAS,SAAAtJ,GAErB,MAAO,CACNiyB,WAAY,CACX1hB,UAAW,IACXxL,MAAO,OACPkD,SAAU,OACVnD,OAAQ,QAETotB,kBAAmB,CAClBptB,OAAQ,iBCILjC,GAAY9C,aAAWuJ,IA+Dd6oB,OA7Df,WACC,IAAM3wB,EAAUqB,KADQnH,EAEyCC,YAChEhnB,MADOvF,EAFgBssB,EAEhBtsB,KAAM8E,EAFUwnB,EAEVxnB,MAAOoqC,EAFG5iB,EAEH4iB,YAAasS,EAFVl1B,EAEUk1B,KAAiBzR,GAF3BzjB,EAEgBnmB,UAFhBmmB,EAE2ByjB,WAG7ClyC,EAAe0uB,YAAYhyB,KAEjC,OACCyc,EAAAtgB,EAAAugB,cAACirC,GAAD,KACClrC,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACCnrC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,GACd7lC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CAAS1uB,KAAM38B,aAAE,QAAS,CAAE6J,QAAQ,IAAS+yB,MAAOzvB,KAGrDkS,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CAAS1uB,KAAM38B,aAAE,QAAS,CAAE6J,QAAQ,IAAS+yB,MAAO12B,KAGrDmZ,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,YAAa,CAAE6J,QAAQ,IAC/B+yB,MAAOwb,KAIT/4B,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CAAS1uB,KAAM38B,aAAE,OAAQ,CAAE6J,QAAQ,IAAS+yB,MAAOv0B,KAGpDgX,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,cAAe,CAAE6J,QAAQ,IACjC+yB,MAAO2a,KAITl4B,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,SACR48B,MACCvd,EAAAtgB,EAAAugB,cAACw5B,GAAD,CACCnQ,iBAAiB,EACjBlO,QAAS,CACRuO,IAAKvO,EAAQywB,WACbniB,QAAStO,EAAQ0wB,mBAElB56B,IAAKs5B,EAAKrB,SAAW,GACrBroB,IAAKhzB,EACL4V,UAAW8mC,EAAKhC,KAChBrgB,YAAU,WCMJ8jB,OA1Df,SAAuB95B,GAAO,IACrBq4B,EAASj1B,YAAYnnB,MAArBo8C,KACA0B,EAAkB1B,EAAlB0B,cACFC,EAAa52B,YAAYvpB,KACzBogD,EAAkB72B,YAAYrpB,KAC9BmgD,EAAaD,GAAmBA,EAAgBxsD,OActD,OACCogB,EAAAtgB,EAAAugB,cAAA,WACCD,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CACCC,WAAS,EACTrnB,QAAS,EACTkkB,UAAW2J,EAAa,KAAO,SAC/BrwB,WAAYqwB,EAAa,KAAO,UAEhCrsC,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACEkB,EACArsC,EAAAtgB,EAAAugB,cAACqsC,GAAD,CACC3xB,SAAUuxB,EACVnhD,MAAOqhD,EACP1Q,SAAUvpB,EAAMupB,SAChB6Q,aA3Bc,WAAgD,IAAAhsD,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAtC6yC,EAA6CjyC,EAA7CiyC,gBAAiBga,EAA4BjsD,EAA5BisD,iBAClCz3C,EAAQlU,OAAOuK,OAAOohD,GAAkBnrD,IAAI,SAAAuT,GACjD,OAAOu3C,EAAWv3C,KAGb63C,EAAO5rD,OAAAC,GAAA,EAAAD,CAAA,GAAQ2pD,GACrBiC,EAAQP,cAAgB1Z,EAExB/Y,YAAQizB,aAAkB,UAAW33C,IACrC0kB,YAAQizB,aAAkB,OAAQD,KAmB5BE,SAAO,EACPvgB,YAAU,EACVG,eAAa,EACbF,SAAO,EACPugB,WAAS,IAGV5sC,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAMC,WAAS,EAACnD,UAAU,SAAS1mB,WAAW,UAC7Chc,EAAAtgB,EAAAugB,cAAA,SAAItf,aAAE,gCACNqf,EAAAtgB,EAAAugB,cAAC4sC,GAAD,CACC14B,QAAQ,YACRK,MAAM,YACN4uB,SAAS,6GC/CZ0J,GAAmB,SAAAvsD,GAAA,IAAAwsD,EAAAxsD,EACxBk+B,YADwB,IAAAsuB,EACjB/sC,EAAAtgB,EAAAugB,cAAA+sC,GAAA,QADiBD,EAExBE,EAFwB1sD,EAExB0sD,UACAC,EAHwB3sD,EAGxB2sD,YACAC,EAJwB5sD,EAIxB4sD,YACAC,EALwB7sD,EAKxB6sD,YALwB,OAOxBptC,EAAAtgB,EAAAugB,cAAC83B,GAAA,EAAD,CAAgB1a,SAAS,OACvB+vB,GACAptC,EAAAtgB,EAAAugB,cAACqU,EAAA,EAAD,CAAYE,MAAOy4B,EAAWv4B,QAAS04B,EAAa34B,KAAK,SACxDzU,EAAAtgB,EAAAugB,cAAAotC,GAAA,SAGFrtC,EAAAtgB,EAAAugB,cAACqU,EAAA,EAAD,CAAYE,MAAOy4B,EAAWv4B,QAASw4B,EAAaz4B,KAAK,SACvDgK,GAED0uB,GACAntC,EAAAtgB,EAAAugB,cAACqU,EAAA,EAAD,CAAYE,MAAOy4B,EAAWv4B,QAASy4B,EAAa14B,KAAK,SACxDzU,EAAAtgB,EAAAugB,cAAAqtC,GAAA,WAMG,SAASC,GAATtsD,GAWJ,IAVFusD,EAUEvsD,EAVFusD,aACA/uB,EASEx9B,EATFw9B,KACAwuB,EAQEhsD,EARFgsD,UACAC,EAOEjsD,EAPFisD,YACAE,EAMEnsD,EANFmsD,YACAD,EAKElsD,EALFksD,YACAM,EAIExsD,EAJFwsD,YAIEC,EAAAzsD,EAHFk2C,kBAGE,IAAAuW,EAHW,GAGXA,EAFFC,EAEE1sD,EAFF0sD,UACG5zC,EACDlZ,OAAAmZ,EAAA,EAAAnZ,CAAAI,EAAA,sHACI2sD,EAAMC,KAAMnoD,KAAK6J,KAAKq+C,OACtBloD,EAAOioD,EAAYE,KAAMpxC,WAAWmxC,EAAK,GAAKA,EACpD,OACC5tC,EAAAtgB,EAAAugB,cAACstC,GAAA,EAAD1sD,OAAA03B,OAAA,CACC3jB,MAAOlP,EACPyxC,WAAUt2C,OAAAC,GAAA,EAAAD,CAAA,GACNs2C,EADM,CAETh1B,SAAUpI,EAAKoI,SACf21B,aAAc0V,EACbxtC,EAAAtgB,EAAAugB,cAAC6tC,GAAD,CACCrvB,KAAMA,EACNwuB,UAAWA,EACXC,YAAaA,EACbE,YAAaA,EACbD,YAAaA,IAEX,KACJY,eAAgBN,EACfztC,EAAAtgB,EAAAugB,cAAC83B,GAAA,EAAD,CAAgB1a,SAAS,SACxBrd,EAAAtgB,EAAAugB,cAACqU,EAAA,EAAD,CAAYE,MAAOy4B,EAAWv4B,QAAS+4B,EAAah5B,KAAK,SACxDzU,EAAAtgB,EAAAugB,cAAA+tC,GAAA,UAGC,QAEDj0C,IAKQwzC,cAkCuBzjB,aClHhB,SAAAlQ,GACrB,MAAO,CACNq0B,wBAAyB,CACxBz5B,MAAOoF,EAAMK,QAAQM,OAAOC,OAE7B0zB,wBAAyB,CACxB15B,MAAOoF,EAAMK,QAAQM,OAAOC,MAC5B2zB,mCAAoC,CACnC35B,MAAOoF,EAAMK,QAAQM,OAAOC,QAG9B4zB,+BAAgC,GAChCC,4BAA6B,CAC5BC,UAAW,CAEV5G,OAAQ,gBAET6G,WAAY,CACX7G,OAAQ,mBDgG0B5d,CAhCT,SAAA1oC,GAMvB,IALLg6B,EAKKh6B,EALLg6B,QACAoyB,EAIKpsD,EAJLosD,aACA/uB,EAGKr9B,EAHLq9B,KAGK+vB,EAAAptD,EAFL+1C,kBAEK,IAAAqX,EAFQ,GAERA,EADFz0C,EACElZ,OAAAmZ,EAAA,EAAAnZ,CAAAO,EAAA,gDACL,OACC4e,EAAAtgB,EAAAugB,cAACwuC,GAAD5tD,OAAA03B,OAAA,CACCm2B,gBAAiB,CAChBtzB,QAAS,CACRhB,KAAMgB,EAAQ8yB,yBAEfS,iBAAkB,CACjBv0B,KAAMgB,EAAQ8yB,wBACdU,QAASxzB,EAAQgzB,iCAGnBjX,WAAUt2C,OAAAC,GAAA,EAAAD,CAAA,GACNs2C,EADM,CAETh1B,SAAUpI,EAAKoI,SACfiZ,QAAS,CACRhB,KAAMgB,EAAQ6yB,wBACdY,UAAWzzB,EAAQizB,6BAEpBvW,aAAc0V,EAAextC,EAAAtgB,EAAAugB,cAAC6tC,GAAD,CAAkBrvB,KAAMA,IAAW,QAE7D1kB,uBEhFC+0C,GAAmB1xC,eAAnB0xC,eAEF5iC,GAAS,IAAI6iC,KAEbC,GAAsB,SAAAzuD,GAAiC,IAA9BsjB,EAA8BtjB,EAA9BsjB,cAAejU,EAAerP,EAAfqP,IAAK6E,EAAUlU,EAAVkU,IAClD,IACC,IAAMw6C,EAAMH,GAAejrC,IAAkBjJ,WAAWiJ,GAClDqrC,EAAWJ,GAAel/C,IAAQgL,WAAWhL,GAC7Cu/C,EAAWL,GAAer6C,IAAQmG,WAAWnG,GACnD,GAAKw6C,EAEE,IAAKC,GAAaC,EAGlB,CACN,IAAMrjD,EAAc+hD,SAAMrc,QAAQ7hC,KAAKs3C,MAAOgI,EAAMC,EAAY,MAChE,OAAOvuD,aAAE,0BAA2B,CAAE+J,KAAM,CAACoB,KAJ7C,MAAO,GAFP,OAAOnL,aAAE,mBAQT,MAAO4vB,GACR,MAAO,KAwUM6+B,OApUf,SAAAnuD,GAAkD,IAAvBqG,EAAuBrG,EAAvBqG,WAAeyS,EAAQlZ,OAAAmZ,EAAA,EAAAnZ,CAAAI,EAAA,gBAC3CouD,EAAgB95B,YACrB,SAAAv1B,GAAK,OAAIqd,aAAsBrd,EAAOsH,IAAe,KAG9C0iB,EAAWuL,YAAYj0B,MAAvB0oB,OACFre,EAAW4pB,YAAYnnB,MAG5BN,EASGnC,EATHmC,MACAwhD,EAQG3jD,EARH2jD,WACAzrC,EAOGlY,EAPHkY,cACe0rC,EAMZ5jD,EANH6jD,cAEA5yC,EAIGjR,EAJHiR,WACA/M,EAGGlE,EAHHkE,oBAfgD4/C,EAkB7C9jD,EADH6+C,YAjBgD,IAAAiF,EAiBzC,GAjByCA,EAqBhDC,EAKGlF,EALHkF,eACAC,EAIGnF,EAJHmF,oBACAC,EAGGpF,EAHHoF,WAvBgDC,EA0B7CrF,EAFHsF,8BAxBgD,IAAAD,EAwBvB,CAAEE,WAAY,IAxBSF,EAyBhDG,EACGxF,EADHwF,iBAIKR,EAAgBD,GAAyB,CAAEQ,WAAY,IAEvD7b,EAAU3e,YAAY,SAAAv1B,GAAK,OAChCmH,aAAkBnH,EAAOiwD,QAGpB19C,EAAOqK,QAAc/c,EACrByjB,EAAKzT,QAAuBhQ,EAC5B+tD,EAAM1hC,GAAOxmB,OAAOwqD,UAGlB5Y,EAMJ+X,EANHvhD,MACeqiD,EAKZd,EALHxrC,cACmBusC,EAIhBf,EAJHgB,kBACmBC,EAGhBjB,EAHHkB,kBACYC,EAETnB,EAFHzyC,WACqB6zC,EAClBpB,EADHx/C,oBAGK6gD,EAASpB,EAAW,IAAM,GAC1BqB,EAAWrB,EAAW,IAAM,GAE5BxjD,EAAckjD,GAAoB,CACvCnrC,gBACAjU,IAAK4/C,EAAcO,WAAWngD,IAC9B6E,IAAK+6C,EAAcO,WAAWt7C,MAGzBm8C,EAAgC,SAAC5nD,EAAM4L,GAC5C,IAAMi8C,EAAgBhwD,OAAAC,GAAA,EAAAD,CAAA,GAAQ2uD,GACxBsB,EAAUjwD,OAAAC,GAAA,EAAAD,CAAA,GAAQ2uD,EAAcO,YACtCe,EAAW9nD,GAAQ4L,EACnBi8C,EAAiBd,WAAae,EAC9Br3B,YAAQizB,aAAkB,gBAAiBmE,IAC3Cp3B,YACCs3B,aAAqB,CACpBzpD,aACA0vC,KAAI,iBAAA1tC,OAAmBN,GACvB4L,QACAmN,OAAO,MAKV,OACC/B,EAAAtgB,EAAAugB,cAAA,WACEi0B,EACAl0B,EAAAtgB,EAAAugB,cAACsrC,GAAD,MAEAvrC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,IAC9B9sB,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACTnqC,KAAK,OACLmrB,QAAQ,WACR0wB,UAAQ,EACRvqC,MAAO3Z,aAAE,QAAS,CAAE6J,QAAQ,IAC5B6T,KAAK,QACLzJ,MAAO9G,EACPutB,SAAU,SAAA7B,GACTC,YAAQizB,aAAkB,QAASlzB,EAAG+G,OAAO3rB,SAE9Cod,MAAOslB,KAAcA,EAASv1B,MAC9Bs2B,UAAW,IACXnB,WACCI,GAAcA,EAASv1B,MACpBu1B,EAASM,OACTj3C,aAAE,uBAKRqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,GAC9B9sB,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACC12C,MAAO3Z,aAAE,0BACTq2C,KAAK,mBACLpiC,MAAO87C,EAAO9jD,KAAO,GACrBsqC,WAAYwZ,EAAOtpD,GACnB+a,UAAQ,KAIVnC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,GAC9B9sB,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACC12C,MAAO3Z,aAAE,0BACTq2C,KAAK,qBACLpiC,MAAO+7C,EAAS/jD,KAAO,GACvBsqC,WAAYyZ,EAASvpD,GACrB+a,UAAQ,KAIVnC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,IAC9B9sB,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,OACL67C,UAAQ,EACRvqC,MAAO3Z,aAAE,uBAAwB,CAChC+J,KAAM,CAACilD,EAAqB3lC,EAAQ0lC,EAAgB1lC,KAErD3L,KAAK,gBACLzJ,MAAOiP,EACPwX,SAAU,SAAA7B,GACT,IAAM5kB,EAAQ4kB,EAAG+G,OAAO3rB,MACxB6kB,YAAQizB,aAAkB,gBAAiB93C,IAC3C6kB,YACCs3B,aAAqB,CACpBzpD,aACA0vC,KAAM,gBACNpiC,QACAmN,OAAO,MAIViQ,MAAOm+B,KAAgBA,EAAWpuC,MAClCs2B,UAAW,IACXnB,WACCiZ,GAAgBA,EAAWpuC,MACxBouC,EAAWvY,OACX9rC,KAINkU,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,GAC9B9sB,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,OACL67C,UAAQ,EACRvqC,MAAO3Z,aAAE,iBACT0d,KAAK,oBACLzJ,MAAO46C,EAAcO,WAAWngD,IAChCyrB,SAAU,SAAA7B,GACT,IAAM5kB,EAAQ4kB,EAAG+G,OAAO3rB,MACxBg8C,EAA8B,MAAOh8C,IAEtCod,MAAOo+B,KAAYA,EAAOruC,MAC1Bs2B,UAAW,IACXnB,WACCkZ,GAAYA,EAAOruC,MAChBquC,EAAOxY,OACPj3C,aAAE,qBAAsB,CACxB+J,KAAM,CAAColD,EAAuBC,WAAWngD,IAAKoa,QAKpDhK,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,GAC9B9sB,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,OACL67C,UAAQ,EACRvqC,MAAO3Z,aAAE,iBACT0d,KAAK,oBACLzJ,MAAO46C,EAAcO,WAAWt7C,IAChC4mB,SAAU,SAAA7B,GACT,IAAM5kB,EAAQ4kB,EAAG+G,OAAO3rB,MACxBg8C,EAA8B,MAAOh8C,IAEtCod,MAAOs+B,KAAYA,EAAOvuC,MAC1Bs2B,UAAW,IACXnB,WACCoZ,GAAYA,EAAOvuC,MAChBuuC,EAAO1Y,OACPj3C,aAAE,qBAAsB,CACxB+J,KAAM,CAAColD,EAAuBC,WAAWt7C,IAAKuV,QAKpDhK,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,GAC9B9sB,EAAAtgB,EAAAugB,cAACgxC,GAAD,CACCC,WAAYvwD,aAAE,sBACdwwD,aAAa,WACbC,aAAW,EACXje,WAAS,EACTqa,cAAY,EACZlzC,MAAO3Z,aAAE,mBACToc,QAAS6wC,EACT3wC,QAASqG,EACT+X,SAAU,SAAAjxB,GACTqvB,YAAQizB,aAAkB,aAActiD,EAAI8lD,aAE7Ct7C,MAAOrC,GAAQ,KACfyf,MAAOw+B,KAAaA,EAAQzuC,MAC5Bm1B,WACCsZ,GAAaA,EAAQzuC,MAClByuC,EAAQ5Y,OACRj3C,aAAE,sCAIRqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,GAC9B9sB,EAAAtgB,EAAAugB,cAACgxC,GAAD,CACCC,WAAYvwD,aAAE,oBACdwwD,aAAa,WACbC,aAAW,EACXje,WAAS,EACTqa,cAAY,EACZlzC,MAAO3Z,aAAE,iBACToc,QAASxK,GAAQq7C,EACjBvyB,SAAU,SAAAjxB,GAAG,OACZqvB,YAAQizB,aAAkB,sBAAuBtiD,EAAI8lD,aAEtDt7C,MAAO0O,GAAM,KACb0O,MAAOy+B,KAAWA,EAAM1uC,MACxBm1B,WACCuZ,GAAWA,EAAM1uC,MACd0uC,EAAM7Y,OACNj3C,aAAE,+BAIRqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,GAC9B9sB,EAAAtgB,EAAAugB,cAAAizB,GAAA,OACClzB,EAAAtgB,EAAAugB,cAAAoxC,GAAA,GAAWC,KAAG,GACbtxC,EAAAtgB,EAAAugB,cAAAsxC,GAAA,GACCC,QACCxxC,EAAAtgB,EAAAugB,cAAAwxC,GAAA,GACCC,UAAW9B,EACXv0B,SAAU,SAAA7B,GAAE,OACXC,YACCizB,aAAkB,OAAD7rD,OAAAC,GAAA,EAAAD,CAAA,GACb2pD,EADa,CAEhBoF,WAAYp2B,EAAG+G,OAAOmxB,aAIzB98C,MAAM,eAGR0F,MAAO3Z,aAAE,6BAGXqf,EAAAtgB,EAAAugB,cAAAolC,GAAA,OACE1kD,aAAE,8BAA+B,CACjC+J,KAAM,CACLsV,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CAAgBC,KAAK,qGACnBxf,aAAE,oBAMRqf,EAAAtgB,EAAAugB,cAAAizB,GAAA,GAAa/wB,UAAWytC,GACvB5vC,EAAAtgB,EAAAugB,cAAAoxC,GAAA,GAAWC,KAAG,GACbtxC,EAAAtgB,EAAAugB,cAAAsxC,GAAA,GACCC,QACCxxC,EAAAtgB,EAAAugB,cAAAwxC,GAAA,GACCC,UAAW1B,EACX30B,SAAU,SAAA7B,GAAE,OACXC,YACCizB,aAAkB,OAAD7rD,OAAAC,GAAA,EAAAD,CAAA,GACb2pD,EADa,CAEhBwF,iBAAkBx2B,EAAG+G,OAAOmxB,aAI/B98C,MAAM,qBAGR0F,MAAO3Z,aAAE,gCAGXqf,EAAAtgB,EAAAugB,cAAAolC,GAAA,OACE1kD,aAAE,iCAAkC,CACpC+J,KAAM,CAELsV,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CAAgBC,KAAK,qGACnBxf,aAAE,qBAOTqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,GAC9B9sB,EAAAtgB,EAAAugB,cAAC0xC,GAAD9wD,OAAA03B,OAAA,GACKxe,EADL,CAECzS,WAAYA,EACZma,cAAY,kDC3VNmwC,GAAe,SAAArxD,GAAqB,IAE5C+qD,EAF0B3qD,EAAkBJ,EAAlBI,EAC1B+1C,EAAM,GAEV,OAHgDn2C,EAAfuC,UAIhC,KAAK6/B,KAAWC,SAASvkB,KACxBq4B,EAAM,0BACN4U,EAAS,+BACT,MACD,KAAK3oB,KAAWG,OAAOzkB,KACtBq4B,EAAM,wBACN,MACD,QACCA,EAAM,0BAIR,OAAO12B,EAAAtgB,EAAAugB,cAACorC,GAAD,CAAY3U,IAAK/1C,EAAE+1C,GAAM4U,OAAQ3qD,EAAE2qD,MAG9BuG,GAAgB,SAAA5wD,GAAA,IAAA6wD,EAAA7wD,EAAG8wD,0BAAH,IAAAD,EAAwB,GAAxBA,EAA4B9nC,EAA5B/oB,EAA4B+oB,OAA5B,OAC5BhK,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAAA+xC,GAAA,GAAgBC,QAAQ,EAAM99B,QAAQ,YACrCnU,EAAAtgB,EAAAugB,cAAAiyC,GAAA,GACCC,WAAYnyC,EAAAtgB,EAAAugB,cAAAmyC,GAAA,QACZxwB,gBAAc,iBACdx6B,GAAG,kBAEH4Y,EAAAtgB,EAAAugB,cAAAqf,GAAA,OAAa3+B,aAAE,6BAEhBqf,EAAAtgB,EAAAugB,cAAAyf,EAAA,GACC2yB,gBAAc,EACdC,OAAK,EACLC,UACCvyC,EAAAtgB,EAAAugB,cAAAilC,GAAA,GAAe3lB,UAAU,OACvB5+B,aAAE,eAAgB,CAClB+J,KAAM,CAACqnD,EAAmBS,UAAWxoC,SAKrC+nC,EAAmBU,WACrBzyC,EAAAtgB,EAAAugB,cAAAoc,EAAA,OACCrc,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACC7F,QAASv5B,aAAE,gBAAiB,CAC3B+J,KAAM,CAACqnD,EAAmBU,UAAWzoC,QAKzChK,EAAAtgB,EAAAugB,cAAAoc,EAAA,OACCrc,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACC7F,QAASv5B,aAAE,cAAe,CACzB+J,KAAM,CACLqnD,EAAmBW,cACnBX,EAAmBY,QACnB3oC,UAKD+nC,EAAmBa,gBACrB5yC,EAAAtgB,EAAAugB,cAAAoc,EAAA,OACCrc,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACC7F,QAASv5B,aAAE,eAAgB,CAC1B+J,KAAM,CACLqnD,EAAmBa,eACnBb,EAAmBc,mBACnB7oC,YC3EDrH,GAA+BxE,aAA/BwE,aAAcvE,GAAiBD,aAAjBC,aAkHP00C,GAhHS,SAAAvyD,GAA8C,IAAAwyD,EAAAxyD,EAA3C6M,qBAA2C,IAAA2lD,EAA3B,GAA2BA,EAAvBjlD,EAAuBvN,EAAvBuN,MAAuBklD,GAAAzyD,EAAhB0yD,UAMjD7lD,EAJHE,iBAFoE,IAAA0lD,EAEzD,GAFyDA,EAAAE,EAMjE9lD,EAHHG,kBAHoE,IAAA2lD,EAGvD,GAHuDA,EAAAC,EAMjE/lD,EAFHI,kBAJoE,IAAA2lD,EAIvD,GAJuDA,EAMjE/lD,EADHK,SAGD,OACCuS,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACEltB,GAASkS,EAAAtgB,EAAAugB,cAACupC,GAAD,CAAkBlvC,MAAO3Z,aAAE,SAAUiU,MAAO9G,IAEnDR,EAASoH,MACXsL,EAAAtgB,EAAAugB,cAACupC,GAAD,CACChlB,OAAO,QACPlqB,MAAO3Z,aAAC,YAAA2I,OAAagE,EAASoH,MAAMkK,gBACpChK,MACoB,UAAnBtH,EAASoH,MACRsL,EAAAtgB,EAAAugB,cAAA81B,GAAA,GACC5hB,QAAQ,WACRM,KAAK,QACLna,MAAO3Z,aAAE,oBAGT2M,EAASA,EAASoH,QAAU,IAAIrT,IAAI,SAAAsM,GAAC,OACrCqS,EAAAtgB,EAAAugB,cAAAywB,GAAA,GACClrB,IAAK7X,EACLG,MACCsQ,GAAazQ,GACVyQ,GAAazQ,GAAG4Q,UAAUE,KAAK,MAC/B9d,aAAEgiB,GAAahV,IAAMA,GAAK,KAG9BqS,EAAAtgB,EAAAugB,cAAA81B,GAAA,GAAM5hB,QAAQ,WAAWM,KAAK,QAAQna,MAAO3Z,aAAEgN,GAAK,WAOzDqS,EAAAtgB,EAAAugB,cAACupC,GAAD,CACChlB,OAAO,QACPlqB,MAAO3Z,aAAC,YACRiU,MAAOjU,aAAE,kBAIR4M,EAAWmH,MACbnH,EAAWmH,MAAMrT,IAAI,SAAAqT,GAAK,OACzBsL,EAAAtgB,EAAAugB,cAACupC,GAAD,CACChkC,IAAK9Q,EACL8vB,OAAO,QACPlqB,MAAO3Z,aAAC,cAAA2I,QAAgBoL,GAAS,IAAIkK,gBACrChK,OAAQrH,EAAWmH,IAAU,IAAIrT,IAAI,SAAAyd,GAAG,OACvCkB,EAAAtgB,EAAAugB,cAAA81B,GAAA,GACCvwB,IAAK1G,EACLqV,QAAQ,WACRM,KAAK,QACLna,MAAO3Z,aACNoe,iBAAcC,kCAAkCF,IAAQA,WAO7DkB,EAAAtgB,EAAAugB,cAACupC,GAAD,CACChlB,OAAO,QACPlqB,MAAO3Z,aAAC,cACRiU,MAAOjU,aAAE,kBAIV6M,EAAWkH,MACXsL,EAAAtgB,EAAAugB,cAACupC,GAAD,CACChlB,OAAO,QACPlqB,MAAO3Z,aAAC,cAAA2I,OAAekE,EAAWkH,MAAMkK,gBACxChK,MACsB,UAArBpH,EAAWkH,MACVsL,EAAAtgB,EAAAugB,cAAA81B,GAAA,GACC5hB,QAAQ,WACRM,KAAK,QACLna,MAAO3Z,aAAE,qBAGT6M,EAAWA,EAAWkH,QAAU,IAAIrT,IAAI,SAACsM,EAAG4c,GAAJ,OACxCvK,EAAAtgB,EAAAugB,cAAA81B,GAAA,GACCvwB,IAAK+E,EACL4J,QAAQ,WACRM,KAAK,QACLna,OAAQgF,KAAKzS,MAAMc,IAAM,IAAIb,eAOlCkT,EAAAtgB,EAAAugB,cAACupC,GAAD,CACChlB,OAAO,QACPlqB,MAAO3Z,aAAC,cACRiU,MAAOjU,aAAE,oBCwKCyyD,OAjPf,WACC,IAAMvsD,EAAe0uB,YAAYhyB,KAC3BT,EAAWyyB,YAAYlyB,KAErB2mB,EADUuL,YAAYj0B,MACtB0oB,OACFqpC,EAAc99B,YAAY,SAAAv1B,GAAK,OACpCmH,aAAkBnH,EAAOiwD,QAGpBqD,EAAiB/9B,YAAY,SAAAv1B,GAAK,OACvCmH,aAAkBnH,EAAOuzD,QAVIr+B,EAYkBC,oBAAS,GAZ3BC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAYvBs+B,EAZuBp+B,EAAA,GAYLq+B,EAZKr+B,EAAA,GAAAE,EA8B1BC,YAAYnnB,MAffN,EAf6BwnB,EAe7BxnB,MAEAtC,EAjB6B8pB,EAiB7B9pB,QACA8jD,EAlB6Bh6B,EAkB7Bg6B,WACAzrC,EAnB6ByR,EAmB7BzR,cACA2rC,EApB6Bl6B,EAoB7Bk6B,cAGA3/C,EAvB6BylB,EAuB7BzlB,oBACA+M,EAxB6B0Y,EAwB7B1Y,WAxB6B82C,EAAAp+B,EA0B7Bq+B,sBA1B6B,IAAAD,EA0BZ,GA1BYA,EAAAE,EAAAt+B,EA2B7BloB,qBA3B6B,IAAAwmD,EA2Bb,GA3BaA,EAAAC,EAAAv+B,EA6B7Bk1B,YA7B6B,IAAAqJ,EA6BtB,GA7BsBA,EAgCtBC,EAA2DtJ,EAA3DsJ,cAAeC,EAA4CvJ,EAA5CuJ,oBAAqBhC,EAAuBvH,EAAvBuH,mBAhCdiC,GAiCFxE,GAAiB,IAArCO,kBAjCsB,IAAAiE,EAiCT,GAjCSA,EAAAC,EAkCJ7mD,EAAcC,OAAhCI,gBAlCsB,IAAAwmD,EAkCX,GAlCWA,EAgD9B,OAZA/9B,oBAAU,WAAM,SAAAg+B,IAAA,OAAAA,EAAArzD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KACf,SAAAC,IAAA,IAAAkf,EAAA,OAAApf,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACmB4B,YAAQ06B,eAD3B,QACOzd,EADP9e,EAAA0xB,OAIEmK,EAAoB/c,GAJtB,wBAAA9e,EAAAI,SAAAR,OADe9iB,MAAA4d,KAAA3yB,WAQf85B,YAAQ26B,eARO,WAAAF,EAAAx/C,MAAA4d,KAAA3yB,WASf00D,IACE,IAEIhB,EACNrzC,EAAAtgB,EAAAugB,cAACsrC,GAAD,MAEAvrC,EAAAtgB,EAAAugB,cAACirC,GAAD,KACEoI,GAAkBE,EAClBxzC,EAAAtgB,EAAAugB,cAACmrC,GAAD,KACEkI,GACAtzC,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAACq0C,GAAD,CAAc3zD,EAAGA,KAAGmC,SAAUA,KAG/B0wD,GACAxzC,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAAAgU,EAAA,GAAOC,SAAS,UAAUC,QAAQ,SAAS89B,QAAM,GAChDjyC,EAAAtgB,EAAAugB,cAAAs0C,GAAA,OAAa5zD,aAAE,oBACd6yD,KAKF,KACJxzC,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACCnrC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,GACd7lC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CAAS1uB,KAAM38B,aAAE,QAAS,CAAE6J,QAAQ,IAAS+yB,MAAOzvB,KAGrDkS,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CAAS1uB,KAAM38B,aAAE,QAAS,CAAE6J,QAAQ,IAAS+yB,MAAO12B,KAGrDmZ,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,IACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,gBAAiB,CAAE6J,QAAQ,IACnC+yB,MAAK,GAAAj0B,OAAKua,EAAL,KAAAva,OAAsB0gB,MAI7BhK,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,iBACR48B,MAAK,GAAAj0B,OAAKymD,EAAWngD,IAAhB,KAAAtG,OAAuB0gB,MAI9BhK,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,iBACR48B,MAAK,GAAAj0B,OAAKymD,EAAWt7C,IAAhB,KAAAnL,OAAuB0gB,MAI9BhK,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,QACR48B,WACmB19B,IAAlBi0D,EAAA,GAAAxqD,OACIwqD,EADJ,KAAAxqD,OACqB0gB,GAEpBhK,EAAAtgB,EAAAugB,cAAAkc,GAAA,GAAkB1H,KAAM,QAM5BzU,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,4BACR48B,WACyB19B,IAAxBk0D,EAAA,GAAAzqD,OACIyqD,EADJ,KAAAzqD,OAC2B0gB,GAE1BhK,EAAAtgB,EAAAugB,cAAAkc,GAAA,GAAkB1H,KAAM,QAM5BzU,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACu0C,GAAD,CACCzC,mBAAoBA,EACpB/nC,OAAQA,KAIVhK,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,aAAc,CAAE6J,QAAQ,IAChC+yB,MAAOoU,aAAe/0B,MAIxBoD,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,sBAAuB,CAAE6J,QAAQ,IACzC+yB,MAAOoU,aAAe9hC,MAWxBmQ,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,IACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,aAAc,CAAE6J,QAAQ,IAChC+yB,MACCvd,EAAAtgB,EAAAugB,cAAA,WACEqvC,EAAWjuD,IAAI,SAAA+I,GAAG,OAClB4V,EAAAtgB,EAAAugB,cAAA,OAAKuF,IAAKpb,EAAIhD,IAAd,GAAAkC,OAAsBc,EAAIwC,IAA1B,OAAAtD,OAAmCc,EAAIhD,WAM5C4Y,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAC,0BACP48B,MAAO58B,aAAE6pD,EAAKoF,WAAa,MAAQ,SAIrC5vC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAC,6BACP48B,MAAO58B,aAAE6pD,EAAKwF,iBAAmB,MAAQ,SAI3ChwC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAC,sCACP48B,MAAO58B,aAAE8M,EAASgnD,oBAAsB,MAAQ,SAGlDz0C,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAC,mCACP48B,MAAO58B,aAAE8M,EAASinD,wBAA0B,MAAQ,SAGtD10C,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAC,sCACP48B,MAAO58B,aAAE8M,EAASknD,0BAA4B,MAAQ,SAIxD30C,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,IACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,YACR48B,MAAOvd,EAAAtgB,EAAAugB,cAAC20C,GAAD,CAAiBxnD,cAAeA,EAAcC,YAIvD2S,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,UAAW,CAAE6J,QAAQ,IAC7B+yB,MACCvd,EAAAtgB,EAAAugB,cAACqsC,GAAD,CACCvhD,MAAOS,EACP0gC,UAAQ,EACR0gB,WAAS,EACTxgB,YAAU,EACVC,SAAO,OAMXrsB,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAA+xC,GAAA,GAAgBC,QAAQ,EAAM99B,QAAQ,YACrCnU,EAAAtgB,EAAAugB,cAAAiyC,GAAA,GACCC,WAAYnyC,EAAAtgB,EAAAugB,cAAAmyC,GAAA,QACZxwB,gBAAc,0BACdx6B,GAAG,0BAEH4Y,EAAAtgB,EAAAugB,cAAAqf,GAAA,OAAa3+B,aAAE,qBAEhBqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,EAAGmS,MAAM,oBAAoByG,QAAQ,aAC5Cjb,EAAAtgB,EAAAugB,cAAA,WAAMX,KAAKC,UAAUo0C,GAAkB,GAAI,KAAM,qDC5PnDkB,GAAa,CAClBjjC,QAAS5R,EAAAtgB,EAAAugB,cAAA60C,GAAA,GAAYtgC,MAAM,cAC3BxC,MAAOhS,EAAAtgB,EAAAugB,cAAA80C,GAAA,GAAYvgC,MAAM,WAGpBiI,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtC7Z,UAAW,CACVskB,WAAYzK,EAAM4E,QAAQ,OAItB2lB,GAAa,SAAA5jD,GAAA,IAAG+Z,EAAH/Z,EAAG+Z,MAAH,OAClBhI,MAAM8xC,QAAQ9pC,GACb0F,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACE/Z,EAAMjZ,IAAI,SAACsM,EAAG4c,GAAJ,OACVvK,EAAAtgB,EAAAugB,cAAAqf,GAAA,GACC9Z,IAAK+E,EACLuR,QAAQ,QACR3H,QAAQ,UACRK,MAAM,WAEL7mB,MAKJ2M,GA+HF,IAAMzM,GAASmnD,eAEFC,GAAyB,SAAA7zD,GAWhC,IAVL+f,EAUK/f,EAVL+f,OACA7G,EASKlZ,EATLkZ,MACA6Z,EAQK/yB,EARL+yB,QACAnC,EAOK5wB,EAPL4wB,MACAklB,EAMK91C,EANL81C,WACA/D,EAKK/xC,EALL+xC,UACA+hB,EAIK9zD,EAJL8zD,aACA/yC,EAGK/gB,EAHL+gB,SACAkZ,EAEKj6B,EAFLi6B,SACA85B,EACK/zD,EADL+zD,oBACKjgC,EACqBC,mBAAS,MAD9BC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GACEtgB,EADFwgB,EAAA,GACSggC,EADThgC,EAAA,GAOL,OAJAc,oBAAU,WACTk/B,EAAS,CAAE96C,MAAO46C,EAActgD,MAAOsgD,KACrC,CAACA,IAGHl1C,EAAAtgB,EAAAugB,cAACo1C,GAAA,EAAD,CACCzgD,MAAOA,EACPymB,SAAU,SAAC5D,EAAO+X,GAEjB,GAAIA,IAAaA,EAAS8lB,YAAc9lB,EAAS56B,OAAQ,CACxD,IAAMA,EAAQ46B,EAAS8lB,YAAc9lB,EAAS56B,MAC9CwgD,EAAS,CACR96C,MAAOk1B,EAASl1B,OAAS1F,EACzBA,UAEDymB,EAASzmB,QAETwgD,EAAS5lB,GACTnU,EAAS,KAGXk6B,cAAe,SAAC/7B,EAAI5kB,GACfugD,GACH95B,EAASzmB,IAGXk6B,cAAe,SAAC/C,EAASyP,GACxB,IAAMga,EAAW3nD,GAAOk+B,EAASyP,GAUjC,OAPK2Z,GAA6C,KAAtB3Z,EAAO8Z,YAClCE,EAAS/6C,KAAK,CACb66C,WAAY9Z,EAAO8Z,WACnBh7C,MAAK,QAAAhR,OAAUkyC,EAAO8Z,WAAjB,OAIAE,GAERC,eAAa,EAGbtzC,SAAUA,EACV4pB,QAAS5qB,EACTu0C,iBAAkB,SAAAC,GAAI,SAAArsD,OAAOqsD,EAAP,UACtBC,UAAW,EACXC,QAAS,SAAAC,GAAM,OAAIA,EAAOp3C,OAC1Bq3C,eAAgB,SAAAD,GAEf,MAAsB,kBAAXA,EACHA,EAGJA,EAAOR,WACHQ,EAAOR,WAGRQ,EAAOx7C,OAEf07C,aAAc,SAAAF,GAAM,OACnBA,EAAOh5C,OACNkD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCc,QAAQ,OACRqB,eAAe,gBACfD,cAAc,MACdlB,WAAW,SACX2C,MAAO,GAENm3B,EAAOx7C,MAEPu6C,GAAWiB,EAAOh5C,SAAWg5C,EAAOh5C,QAGtCg5C,EAAOx7C,OAGT27C,UAAWd,EACXe,YAAa,SAAA1a,GAAM,OAClBx7B,EAAAtgB,EAAAugB,cAAAm3B,GAAA,EAAAv2C,OAAA03B,OAAA,GACKijB,EADL,CAECxpB,MAAOA,EACPmhB,UAAWA,EACX74B,MAAOA,EACP48B,WAAYA,EACZ/iB,QAASA,SAeCkhC,GA/Of,SAAAp0D,GAgBG,IAfFkgB,EAeElgB,EAfFkgB,OACAg1C,EAcEl1D,EAdFk1D,SACA77C,EAaErZ,EAbFqZ,MACA6Z,EAYElzB,EAZFkzB,QACAnC,EAWE/wB,EAXF+wB,MACAokC,EAUEn1D,EAVFm1D,UACAC,EASEp1D,EATFo1D,OACAzhD,EAQE3T,EARF2T,MACAymB,EAOEp6B,EAPFo6B,SACA8X,EAMElyC,EANFkyC,UACAhxB,EAKElhB,EALFkhB,SACAm0C,EAIEr1D,EAJFq1D,sBACAC,EAGEt1D,EAHFs1D,qBAGEC,EAAAv1D,EAFFw1D,yBAEE,IAAAD,EAFkB,GAElBA,EACIp7B,GADJn6B,EADFy1D,aAEgBj6B,MAEhBvG,oBAAU,WACS,oBAAXmgC,GAAyBA,KAE9B,IAEH,IAAM98B,EAAe,SAAAxnB,GAEnBspB,EADG86B,EACMpkD,EAAK1Q,IAAI,SAAAoU,GAAC,OAAIA,EAAEb,OAASa,EAAE6E,OAAS7E,IAEpC1D,IAAOA,EAAK6C,OAAS7C,EAAKuI,QAAgBvI,IAI/C4kD,EAAWR,EACd7jD,MAAM8xC,QAAQxvC,GACbA,EAAMvT,IAAI,SAAAqtC,GAAC,OAAIvtB,EAAOzT,KAAK,SAAAwT,GAAC,OAAIA,EAAEtM,QAAU85B,KAAM,KAClD,GACDvtB,EAAOzT,KAAK,SAAAwT,GAAC,OAAIA,EAAEtM,QAAUA,KAAUA,EAE1C,OACCoL,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAACo1C,GAAA,EAAD,CACCc,SAAUA,EACVI,qBAAsBA,EACtBxqB,QAAS5qB,EACTgB,SAAUA,EACV0zC,QAAS,SAAAC,GAAM,OAAIA,EAAOp3C,OAC1B9J,MAAO+hD,EACPZ,eAAgB,SAAAD,GAAM,OAAIA,EAAOx7C,OAASw7C,EAAOz3C,MAAQy3C,GACzDJ,iBAAkB,SAAAC,GAAI,SAAArsD,OAAOqsD,EAAP,UACtBC,UAAW,GACXgB,kBAAmB,SAAAd,GAAM,OACxBW,EAAkBtkD,KAAK,SAAAxE,GAAC,OAAKmoD,EAAOlhD,OAASkhD,KAAYnoD,KAE1DkpD,kBAAmB,SAACC,GAAkB,IAAb1sD,EAAazK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAK9B,QAHGm3D,KACA1sD,GACF,CAACkV,KAAKC,UAAUnV,GAAMA,EAAKA,EAAIwK,OAAOxC,SAAS0kD,EAAIliD,QAIrDymB,SAAU,SAACv1B,EAAG0pC,GAAJ,OAAiBjW,EAAaiW,IACxC0mB,YAAa,SAAA1a,GACZ,OACCx7B,EAAAtgB,EAAAugB,cAAAm3B,GAAA,EAAAv2C,OAAA03B,OAAA,GACKijB,EADL,CAEClhC,MAAOA,EACP6Z,QAASA,EACTgf,UAAWA,EACXnhB,MAAOA,MAIVgkC,aAAc,SAAAF,GAAM,OACnB91C,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCxV,IAAKswC,EAAOx7C,MACZwhB,QAAQ,OACRoB,cAAc,MACdlB,WAAW,UAEXhc,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYxD,QAAQ,UAAUg6B,EAAOx7C,SAClCw7C,EAAOt3C,YACTwB,EAAAtgB,EAAAugB,cAAAywB,GAAA,GAAS5iC,MAAOkS,EAAAtgB,EAAAugB,cAAC82C,GAAD,CAAYz8C,MAAOw7C,EAAOt3C,cACzCwB,EAAAtgB,EAAAugB,cAAAmlC,GAAA,GACCvqB,UAAWO,EAAQrb,UACnB+e,SAAS,QACTtK,MAAM,eAMXwiC,WAAY,SAACpiD,EAAOqiD,GAAR,OACXriD,EAAMvT,IACL,SAACy0D,EAAQvrC,GAAT,QACGpI,GAAYm0C,KACXR,EAAOt3C,WACTwB,EAAAtgB,EAAAugB,cAAAywB,GAAA,GACClrB,IAAKswC,EAAOlhD,MAAQ,GAAK2V,EACzBzc,MAAOkS,EAAAtgB,EAAAugB,cAAC82C,GAAD,CAAYz8C,MAAOw7C,EAAOt3C,YAAc,MAE/CwB,EAAAtgB,EAAAugB,cAAA81B,GAAA,EAAAl1C,OAAA03B,OAAA,CACCje,MAAOw7C,EAAOx7C,OAASw7C,GACnBmB,EAAsB,CAAE1sC,aAI9BvK,EAAAtgB,EAAAugB,cAAA81B,GAAA,EAAAl1C,OAAA03B,OAAA,CACCje,MAAOw7C,EAAOx7C,OAASw7C,GACnBmB,EAAsB,CAAE1sC,kBAMjCyH,GACAhS,EAAAtgB,EAAAugB,cAAAolC,GAAA,GAAgBrzB,OAAK,EAAC5qB,GAAG,wBACvBgvD,KC8HSc,OA1Pf,SAAA32D,GAAqC,IAAd+G,EAAc/G,EAAd+G,WACd0iB,EAAWuL,YAAYj0B,MAAvB0oB,OACFhc,EAAUunB,YAAY7mB,MACtByoD,EAAc5hC,YAAYzI,MAC1BsqC,EAAgB7hC,YAAYxL,MAC5BstC,EAAS9hC,YAAY9X,MALS65C,EAahCtpD,EANHF,aAPmC,IAAAwpD,EAO3B,GAP2BA,EAAAC,EAahCvpD,EALHkqC,mBARmC,IAAAqf,EAQrB,GARqBA,EAAAC,EAahCxpD,EAJHga,eATmC,IAAAwvC,EASzB,GATyBA,EAAAC,EAahCzpD,EAHHhF,YAVmC,IAAAyuD,EAU5B,GAV4BA,EAWvBC,EAET1pD,EAFH2pD,WACA1zC,EACGjW,EADHiW,iBAGK0zC,EAAaD,GAAkB,CAAE3yC,QAAS,IAAK1X,OAAQ,IAfzBuqD,EAiBSD,EAAWtqD,OAAhDwqD,EAjB4BD,EAiB5BC,kBAAmBC,EAjBSF,EAiBTE,cAErB5jB,EAAU3e,YAAY,SAAAv1B,GAAK,OAChCmH,aAAkBnH,EAAO+3D,QApBUtS,EA6BhClwB,YAAY,SAAAv1B,GAAK,OAAIqd,aAAsBrd,EAAOsH,IAAe,KAL7DgwC,EAxB4BmO,EAwBnC33C,MACaqqC,EAzBsBsN,EAyBnCvN,YACS8f,EA1B0BvS,EA0BnCz9B,QACM29B,EA3B6BF,EA2BnCz8C,KACkBonD,EA5BiB3K,EA4BnCxhC,iBAYD,OATAiS,oBAAU,WACTuD,YAAQw+B,gBAGHH,GAAsC,OAArB7zC,GACrBwV,YAAQy+B,aAAc,mBAAoBb,EAAOt7C,QAAQ,MAExD,CAAC+7C,EAAeT,EAAQpzC,IAG1BjE,EAAAtgB,EAAAugB,cAAA,WACEi0B,EACAl0B,EAAAtgB,EAAAugB,cAACsrC,GAAD,MAEAvrC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,OACL67C,UAAQ,EACRvqC,MAAO,WAAa3Z,aAAE,QAAS,CAAE6J,QAAQ,IACzC6T,KAAK,OACLzJ,MAAO9G,EACPutB,SAAU,SAAA7B,GAAE,OAAIC,YAAQy+B,aAAc,QAAS1+B,EAAG+G,OAAO3rB,SACzDod,MAAOslB,KAAcA,EAASv1B,MAC9Bs2B,UAAW,IACXnB,WACCI,GAAcA,EAASv1B,MACpBu1B,EAASM,OACTj3C,aAAE,mBAIRqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,OACLsvC,WAAS,EACTC,KAAM,EACNj+B,MAAO3Z,aAAE,cAAe,CAAE6J,QAAQ,IAClCoK,MAAOsjC,EACP7c,SAAU,SAAA7B,GAAE,OACXC,YAAQy+B,aAAc,cAAe1+B,EAAG+G,OAAO3rB,SAEhDod,MAAOmmB,KAAoBA,EAAep2B,MAC1Cs2B,UAAW,IACXnB,WACCiB,GAAoBA,EAAep2B,MAChCo2B,EAAeP,OACfj3C,aAAE,yBAIRqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACk4C,GAAD,CACChD,qBAAmB,EACnBD,aAAcltC,EACdmM,QAAQ,WACRhT,OAAQg2C,EACRhkB,WAAS,EACT74B,MAAO3Z,aAAE,gBACTqxB,MAAOgmC,KAAgBA,EAAWj2C,MAClCm1B,WACC8gB,GAAgBA,EAAWj2C,MAC1Bi2C,EAAWpgB,OAEX53B,EAAAtgB,EAAAugB,cAAA,QACC85B,wBAAyB,CACxBC,OAAQr5C,aAAE,gCAKd06B,SAAU,SAAAzmB,GACT6kB,YAAQy+B,aAAc,WAAYtjD,GAAS,IAAIu9B,aAIlDnyB,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAC8lC,GAAD,CACC5S,WAAS,EACThf,QAAQ,WACR0wB,UAAQ,EACRxpB,SAAU,SAAAzmB,GAAK,OAAI6kB,YAAQy+B,aAAc,OAAQtjD,KACjDuM,OAAQi2C,EACRxiD,MAAO5L,EAAO,GACdsR,MAAO3Z,aAAE,SAAU,CAAE6J,QAAQ,IAC7Bi6C,OAAO,aACPpmC,KAAK,SACL2T,MAAO2zB,KAAaA,EAAQ5jC,MAC5Bs2B,UAAW,IACXnB,WACCyO,GAAaA,EAAQ5jC,MAClB4jC,EAAQ/N,OACRj3C,aAAE,uBAIRqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAA+xC,GAAA,GAAgBC,QAAQ,EAAM99B,QAAQ,YACrCnU,EAAAtgB,EAAAugB,cAAAiyC,GAAA,GACCC,WAAYnyC,EAAAtgB,EAAAugB,cAAAmyC,GAAA,QACZxwB,gBAAc,sBACdx6B,GAAG,uBAEH4Y,EAAAtgB,EAAAugB,cAAAqf,GAAA,OAAa3+B,aAAE,mBAEhBqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,OACL67C,UAAQ,EACRvqC,MAAO3Z,aAAE,qBAAsB,CAAE+J,KAAM,CAACsf,KACxC3L,KAAK,mBACLzJ,MAAOqP,GAAoB,GAC3B9B,WAAY21C,EACZz8B,SAAU,SAAA7B,GACT,IAAM5kB,EAAQ4kB,EAAG+G,OAAO3rB,MACxB6kB,YAAQy+B,aAAc,mBAAoBtjD,IAC1C6kB,YACCs3B,aAAqB,CACpBzpD,aACA0vC,KAAM,mBACNpiC,QACAmN,OAAO,MAIViQ,MAAOo+B,KAAYA,EAAOruC,MAC1Bs2B,UAAW,IACXnB,WACCkZ,GAAYA,EAAOruC,MAChBquC,EAAOxY,OACPj3C,aAAE,iCAKRqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACupC,GAAD,CACClvC,MAAO3Z,aAAE,2BACTiU,MACCoL,EAAAtgB,EAAAugB,cAAAizB,GAAA,OACClzB,EAAAtgB,EAAAugB,cAAAoxC,GAAA,GAAWC,KAAG,GACbtxC,EAAAtgB,EAAAugB,cAAAsxC,GAAA,GACCC,QACCxxC,EAAAtgB,EAAAugB,cAAAwxC,GAAA,GACCC,UAAWoG,EACXz8B,SAAU,SAAA7B,GAAE,OACXC,YACCy+B,aAAc,aAADr3D,OAAAC,GAAA,EAAAD,CAAA,GACT82D,EADS,CAEZtqD,OAAOxM,OAAAC,GAAA,EAAAD,CAAA,GACH82D,EAAWtqD,OADT,CAELyqD,cAAet+B,EAAG+G,OAAOmxB,eAK7B98C,MAAM,kBAGR0F,MAAO3Z,aAAE,uCAOfqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACupC,GAAD,CACClvC,MAAO3Z,aAAE,4BACTiU,MACCoL,EAAAtgB,EAAAugB,cAAAizB,GAAA,OACClzB,EAAAtgB,EAAAugB,cAAAoxC,GAAA,GAAWC,KAAG,GACbtxC,EAAAtgB,EAAAugB,cAAAsxC,GAAA,GACCC,QACCxxC,EAAAtgB,EAAAugB,cAAAwxC,GAAA,GACCC,UAAWmG,EACXx8B,SAAU,SAAA7B,GAAE,OACXC,YACCy+B,aAAc,aAADr3D,OAAAC,GAAA,EAAAD,CAAA,GACT82D,EADS,CAEZtqD,OAAOxM,OAAAC,GAAA,EAAAD,CAAA,GACH82D,EAAWtqD,OADT,CAELwqD,kBAAmBr+B,EAAG+G,OAAOmxB,eAKjC98C,MAAM,sBAGR0F,MAAO3Z,aAAE,yDC/ITy3D,OA5Gf,SAAA73D,GAA6C,IAAtB+G,EAAsB/G,EAAtB+G,WAAY4G,EAAU3N,EAAV2N,OAAUonB,EACVC,YAAY,SAAAv1B,GAAK,OAClDiO,aAAyBjO,EAAO,SAAUkO,KADnClF,EADoCssB,EACpCtsB,KAAM+vC,EAD8BzjB,EAC9ByjB,UAAWyR,EADmBl1B,EACnBk1B,KADmB6N,EAKG7N,EAAvC8N,mBALoC,IAAAD,KAKflP,EAAkBqB,EAAlBrB,QAASX,EAASgC,EAAThC,KALM/C,EAOQlwB,YACnD,SAAAv1B,GAAK,OAAIqd,aAAsBrd,EAAOsH,IAAe,KADxCmjD,EAP8BhF,EAOpC+E,KAAyB+N,EAPW9S,EAOtB1M,UAPsB2R,EAUlBC,aAAuB3hD,GAAzC21B,EAVoC+rB,EAUpC/rB,MAAOD,EAV6BgsB,EAU7BhsB,OAEf,OACC1e,EAAAtgB,EAAAugB,cAAA,WACCD,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACupC,GAAD,CACClvC,MAAO3Z,aAAE,qBACTiU,MACCoL,EAAAtgB,EAAAugB,cAAAsxC,GAAA,GACCC,QACCxxC,EAAAtgB,EAAAugB,cAAAu4C,GAAA,GACC9G,QAAS4G,EACTj9B,SAAU,SAAA7B,GAAE,OACXC,YACCy+B,aACC,OADYr3D,OAAAC,GAAA,EAAAD,CAAA,GAGR2pD,EAHQ,CAIX8N,YAAa9+B,EAAG+G,OAAOmxB,UAExB,KACAxjD,OAMLoM,MAAO3Z,aAAE,+BAMbqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAAo2B,GAAA,GAAUv1B,GAAIw3C,GACbt4C,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,OACL67C,UAAQ,EACRvqC,MAAO3Z,aAAE,YAAa,CAAE6J,QAAQ,IAChCoK,MAAOmkC,EACP1d,SAAU,SAAA7B,GAAE,OACXC,YACCy+B,aAAc,YAAa1+B,EAAG+G,OAAO3rB,MAAO,KAAM1G,KAGpD8jB,MAAOumC,KAAoBA,EAAex2C,MAC1Cm1B,WACCqhB,GAAoBA,EAAex2C,MAChCw2C,EAAe3gB,OACfj3C,aAAE,+BAIRqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAC2qC,GAAD,CACCtwC,MAAO3Z,aAAE,6BACTokC,OAAQokB,GAAW,GACnBX,KAAMA,GAAQ,GACdntB,SAAU,SAAAwvB,GAAU,OACnBpxB,YACCy+B,aACC,OADYr3D,OAAAC,GAAA,EAAAD,CAAA,GAGR2pD,EACAK,GAEJ,KACA38C,KAIH65C,eAAgBpnD,aAAE,2BAA4B,CAC7C+J,KAAM,CAACi0B,EAAOD,EAAQ,QAEvBkZ,OAAQ6S,GAAUA,EAAO1oC,MAAQ0oC,EAAO7S,OAAS,GACjDnjB,KAAM,CACLkK,QACAD,mBC7DK+5B,OAtCf,SAAAl4D,GAAuC,IAAd+G,EAAc/G,EAAd+G,WAChBwG,EAAUynB,YAAY1mB,MAAtBf,MAEOwpC,EAAa/hB,YAC3B,SAAAv1B,GAAK,OAAIqd,aAAsBrd,EAAOsH,IAAe,KAD9CwG,MAIR,OACCkS,EAAAtgB,EAAAugB,cAAA,WACCD,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,OACL67C,UAAQ,EACRvqC,MAAO3Z,aAAE,QAAS,CAAE6J,QAAQ,IAC5B6T,KAAK,QACLzJ,MAAO9G,EACPutB,SAAU,SAAA7B,GAAE,OACXC,YAAQi/B,aAAkB,QAASl/B,EAAG+G,OAAO3rB,SAE9Cod,MAAOslB,KAAcA,EAASv1B,MAC9Bs2B,UAAW,IACXnB,WACCI,GAAcA,EAASv1B,MAAQu1B,EAASM,OAASj3C,aAAE,sBChB3CorD,OAZf,WAAyB,IAAAz2B,EACWC,YAAY1mB,MAAvCf,EADgBwnB,EAChBxnB,MAAOT,EADSioB,EACTjoB,OAEf,OAHwBioB,EACDvQ,QAGtB/E,EAAAtgB,EAAAugB,cAACirC,GAAD,KACClrC,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACCnrC,EAAAtgB,EAAAugB,cAAC20C,GAAD,CAAiBxnD,cAAeC,EAAQS,MAAOA,2ECoB7C2uB,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtC++B,OAAQ,CACP/6B,QAAS,YAEVg7B,UAAW,CACVllC,IAAK,QAENvR,SAAU,CACT02C,QAAS,IAEV/3C,GAAI,CACH0T,MAAOoF,EAAMK,QAAQrI,QAAQuI,MAE9BpZ,IAAK,CACJyT,MAAOoF,EAAMK,QAAQjI,MAAMmI,SAIvB2+B,GAAgB,CACrBxrD,SAAU0S,EAAAtgB,EAAAugB,cAAA84C,GAAA,QACVxrD,WAAYyS,EAAAtgB,EAAAugB,cAAA+4C,GAAA,QACZxrD,WAAYwS,EAAAtgB,EAAAugB,cAAAg5C,GAAA,QACZxrD,SAAUuS,EAAAtgB,EAAAugB,cAAAi5C,GAAA,SAQLC,GAAU,SAAA54D,GAeV,IAdL6G,EAcK7G,EAdL6G,GAcKgyD,EAAA74D,EAbL4gB,cAaK,IAAAi4C,EAbI,GAaJA,EAZLC,EAYK94D,EAZL84D,WACAC,EAWK/4D,EAXL+4D,YACAh/C,EAUK/Z,EAVL+Z,MACAiQ,EASKhqB,EATLgqB,MASKgvC,EAAAh5D,EARLggC,cAQK,IAAAg5B,EARI,GAQJA,EAPL55C,EAOKpf,EAPLof,UACAzR,EAMK3N,EANL2N,OACAjD,EAKK1K,EALL0K,SACAuuD,EAIKj5D,EAJLi5D,WACA55C,EAGKrf,EAHLqf,UACAuC,EAEK5hB,EAFL4hB,SACAs0C,EACKl2D,EADLk2D,kBAEM/hD,EArBU,SAACkL,GAAD,IAAY65C,EAAZ95D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA2B,GAAI65D,EAA/B75D,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAA,MACF,WAAd+f,EACG45C,EACA,GAAAlwD,OAAAzI,OAAAgE,GAAA,EAAAhE,CAAI44D,GAAJ,CAAkBD,IAAY3rD,OAAO,SAAClN,EAAG8U,EAAG/U,GAAP,OAAeA,EAAIovB,QAAQnvB,KAAO8U,IAkB5DikD,CAAS95C,EAAW2gB,EAAO7rB,MAAO8kD,GAEhD,OAAOr4C,EAAOvhB,OACbogB,EAAAtgB,EAAAugB,cAAC05C,GAAD,CACCxD,UAAQ,EACR/uD,GAAIA,EACJ+rC,WAAS,EACTuP,UAAU,OACVkX,aAAW,EACX/U,UAAU,EACV1iC,SAAUA,EACVm0C,uBAAqB,EACrBG,kBAAmBA,EACnBF,sBAAoB,EAOpBl7B,SAAU,SAAAzmB,GAAS,IAAAilD,EAClBpgC,YACCqgC,aAAsB,CACrBvvC,QACAtf,WACAiD,SACAyR,YACA4gB,OAAO1/B,OAAAC,GAAA,EAAAD,CAAA,GACH0/B,GADEs5B,EAAA,GAAAh5D,OAAA++B,EAAA,EAAA/+B,CAAAg5D,EAECL,EAAa5kD,GAFd/T,OAAA++B,EAAA,EAAA/+B,CAAAg5D,EAAA,QAEqBnlD,GAFrBmlD,IAINR,iBAIH/+C,MAAOA,EACPg/C,YAAaA,EACbn4C,OAAQA,EACRvM,MAAO2rB,EAAOi5B,IAAe,GAC7BrlC,QAAQ,aAGTnU,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,OACL67C,UAAQ,EACR1iC,SAAUA,EACV9D,KAAK,OACLzJ,MAAO2rB,EAAO3rB,MACd0F,MAAOA,EACP+gB,SAAU,SAAA7B,GAAE,IAAAugC,EAAA,OACXtgC,YACCqgC,aAAsB,CACrBvvC,QACAtf,WACAiD,SACAyR,YACA4gB,OAAO1/B,OAAAC,GAAA,EAAAD,CAAA,GAAM0/B,GAAPw5B,EAAA,GAAAl5D,OAAA++B,EAAA,EAAA/+B,CAAAk5D,EAAqBP,EAAahgC,EAAG+G,OAAO3rB,OAA5C/T,OAAA++B,EAAA,EAAA/+B,CAAAk5D,EAAA,QAAmDrlD,GAAnDqlD,IACNV,iBAIHhhB,UAAW,OAKR2hB,GAA+B,SAAA/4D,GAAwC,IAArC4e,EAAqC5e,EAArC4e,QAASo6C,EAA4Bh5D,EAA5Bg5D,cAAe15B,EAAat/B,EAAbs/B,OAY/D,OAX8B1gB,EAC5BhS,OAAO,SAAAnO,GAAC,OAAIA,EAAEsJ,OAASixD,EAAcjxD,OACrCvI,OAAO,SAACC,EAAKhB,GACb,SAAA4J,OAAAzI,OAAAgE,GAAA,EAAAhE,CACIH,GADJG,OAAAgE,GAAA,EAAAhE,CAEK0/B,EAAO7gC,EAAEsJ,OAAS,IAFvBnI,OAAAgE,GAAA,EAAAhE,CAGKo5D,EAAc75C,gBAAkB,MAEnC,IACFvS,OAAO,SAACF,EAAG8H,EAAG/U,GAAP,OAAeA,EAAIovB,QAAQniB,KAAO8H,KAKtCykD,GAAU,SAAA94D,GAkBVA,EAjBLiM,OAiBK,IAAA8sD,EAAA/4D,EAhBL+f,cAgBK,IAAAg5C,EAhBI,GAgBJA,EAAAC,EAAAh5D,EAfL2e,iBAeK,IAAAq6C,EAfO,KAePA,EAdLf,EAcKj4D,EAdLi4D,WACAC,EAaKl4D,EAbLk4D,YACAh/C,EAYKlZ,EAZLkZ,MACAiQ,EAWKnpB,EAXLmpB,MAWK8vC,EAAAj5D,EAVLm/B,cAUK,IAAA85B,EAVI,GAUJA,EATL16C,EASKve,EATLue,UAGAE,EAMKze,EANLye,QACAD,EAKKxe,EALLwe,UACA1R,EAIK9M,EAJL8M,OACAjD,EAGK7J,EAHL6J,SACAmV,EAEKhf,EAFLgf,eAGMgb,GADDh6B,EADL6gB,QAEgBwa,MACVr1B,EAAE,UAAAkC,OAAaihB,GACf+vC,EAAa/5B,EAAO7rB,OAASmL,EAAQ,GAAG7W,KAE9C,OACCgX,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCc,QAAQ,OACRoB,cAAc,SACdyB,MAAO,EACPD,OAAQ,EACRvB,eAAe,iBAEfnd,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACgB,WAAdpb,GACAI,EAAAtgB,EAAAugB,cAAAs6C,GAAA,GACChmC,aAAY5U,EACZtB,KAAMsB,EACN/K,MAAO0lD,EACPj/B,SAAU,SAAA7B,GAAE,OACXC,YACCqgC,aAAsB,CACrB7uD,WACAiD,SACAyR,YACA4gB,OAAO1/B,OAAAC,GAAA,EAAAD,CAAA,GAAM0/B,EAAP,CAAe7rB,MAAO8kB,EAAG+G,OAAO3rB,QACtCykD,kBAKFx5C,EAAQxe,IAAI,SAAA3B,GAAC,IAAA86D,EAAA,OACbx6C,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKxV,IAAK7F,EAAYjgB,EAAEsJ,MACvBgX,EAAAtgB,EAAAugB,cAAAsxC,GAAA,GACCC,QACCxxC,EAAAtgB,EAAAugB,cAAAw6C,GAAA,GACC5/B,UAAW6/B,cAAIF,EAAA,GAAA35D,OAAA++B,EAAA,EAAA/+B,CAAA25D,EACbp/B,EAAQta,GAAK,CAAC,KAAM,SAAS1O,SAAS1S,EAAEsJ,OAD3BnI,OAAA++B,EAAA,EAAA/+B,CAAA25D,EAEbp/B,EAAQra,IAAiB,QAAXrhB,EAAEsJ,MAFHwxD,IAIfhmC,MAAM,YAGR5f,MAAOlV,EAAEsJ,KACTsR,MAAO5a,EAAE4a,MACTugB,UAAW6/B,aAAK75D,OAAA++B,EAAA,EAAA/+B,CAAA,GACdu6B,EAAQjZ,SAAWziB,EAAEsJ,OAASsxD,MAI9B56D,EAAEkV,MACJlV,EAAEkV,MAEFoL,EAAAtgB,EAAAugB,cAAC06C,GAAD,CACCvzD,GAAIA,EACJ+Z,OAAQA,EAAOzhB,EAAEsJ,MACjBqwD,WAAYA,EACZC,YAAaA,EACbn3C,SAAUziB,EAAEsJ,OAASsxD,EACrBhgD,MAAOA,EACPiQ,MAAOA,EACPgW,OAAQA,EACR5gB,UAAWA,EACXzR,OAAQA,EACRsrD,WAAY95D,EAAEsJ,KACd4W,UAAWA,EACX3U,SAAUA,EACVwrD,kBAAmBr2C,EAAe1gB,EAAEsJ,YAO3B,aAAd4W,GACAC,EAAQxe,IAAI,SAAA3B,GAAC,IAAAk7D,EAAA,OACZ56C,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKxV,IAAK7F,EAAYjgB,EAAEsJ,MACvBgX,EAAAtgB,EAAAugB,cAAAqf,GAAA,GACCzE,UAAW6/B,cAAIE,EAAA,GAAA/5D,OAAA++B,EAAA,EAAA/+B,CAAA+5D,EACbx/B,EAAQta,GAAK,CAAC,KAAM,SAAS1O,SAAS1S,EAAEsJ,OAD3BnI,OAAA++B,EAAA,EAAA/+B,CAAA+5D,EAEbx/B,EAAQra,IAAiB,QAAXrhB,EAAEsJ,MAFH4xD,KAKdl7D,EAAE4a,OAED5a,EAAEkV,MACJlV,EAAEkV,MAEFoL,EAAAtgB,EAAAugB,cAAC06C,GAAD,CACCvzD,GAAIA,EACJ+Z,OAAQA,EAAOzhB,EAAEsJ,MACjBqwD,WAAYA,EACZC,YAAaA,EACbh/C,MAAOA,EACPiQ,MAAOA,EACPgW,OAAQA,EACR5gB,UAAWA,EACXzR,OAAQA,EACRsrD,WAAY95D,EAAEsJ,KACd4W,UAAWA,EACX3U,SAAUA,EACVwrD,kBAAmBuD,GAA6B,CAC/Cn6C,UACAo6C,cAAev6D,EACf6gC,WACEj3B,OAAO8W,EAAe1gB,EAAEsJ,OAAS,SAK1B,sBAAd4W,GACAC,EAAQxe,IAAI,SAAA3B,GAAC,OACZsgB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKxV,IAAK7F,EAAYjgB,EAAEkV,OACvBoL,EAAAtgB,EAAAugB,cAAAizB,GAAA,OACClzB,EAAAtgB,EAAAugB,cAAAsxC,GAAA,GACCC,QACCxxC,EAAAtgB,EAAAugB,cAAAwxC,GAAA,GACCC,UAAWnxB,EAAO7gC,EAAEkV,OACpByJ,KAAM3e,EAAEkV,MACRymB,SAAU,SAAA7B,GAAE,OACXC,YACCqgC,aAAsB,CACrBvvC,QACAtf,WACAiD,SACAyR,YACA4gB,OAAO1/B,OAAAC,GAAA,EAAAD,CAAA,GACH0/B,EADE1/B,OAAA++B,EAAA,EAAA/+B,CAAA,GAGHnB,EAAEkV,MAAQ4kB,EAAG+G,OAAOmxB,UAGvB2H,mBAML/+C,MAAO5a,EAAE4a,QAEV0F,EAAAtgB,EAAAugB,cAAAolC,GAAA,OAAiB3lD,EAAE2gB,aAKxBL,EAAAtgB,EAAAugB,cAAA+a,EAAA,OAAMjb,KA+EM86C,GA1EW,SAAAr5D,GAAoD,IAAjDyJ,EAAiDzJ,EAAjDyJ,SAAUiD,EAAuC1M,EAAvC0M,OAAQ5G,EAA+B9F,EAA/B8F,WAAYma,EAAmBjgB,EAAnBigB,aAAmByT,EAC7CC,mBAAS,GADoCC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GACtE4lC,EADsE1lC,EAAA,GAC5D2lC,EAD4D3lC,EAAA,GAEvEgG,EAAUqB,KAF6DnH,EAIhCC,YAAY,SAAAv1B,GAAK,OAC7DuhB,YACCvhB,EACAiL,EACAiD,EACA5G,EACAma,KANMQ,EAJqEqT,EAIrErT,QAAS5U,EAJ4DioB,EAI5DjoB,OAAQyU,EAJoDwT,EAIpDxT,gBAJoDngB,EAe5EsgB,EAAQ64C,IAAa,GADdn7C,EAdqEhe,EAcrEge,UAAWwB,EAd0Dxf,EAc1Dwf,OAAQtB,EAdkDle,EAclDke,QAASD,EAdyCje,EAczCie,UAAWQ,EAd8Bze,EAc9Bye,eAAgBL,EAdcpe,EAcdoe,UAG/D,OACCC,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKc,QAAQ,OAAOoB,cAAc,SAASyB,MAAO,EAAGD,OAAQ,IAC1Djd,GACDzB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOjZ,SAAS,SAASlJ,QAAQ,YAChCnU,EAAAtgB,EAAAugB,cAAAkb,GAAA,GACCvmB,MAAOkmD,EACPz/B,SAAU,SAAC7B,EAAIjP,GAAL,OAAewwC,EAAYxwC,IACrC4J,QAAQ,aACR6mC,cAAc,OACdC,eAAe,UACf3/B,UAAU,WAETrZ,EAAQ5gB,IAAI,SAAAS,EAAgByoB,GAAhB,IAAG5K,EAAH7d,EAAG6d,UAAH,OACZK,EAAAtgB,EAAAugB,cAAAsb,GAAA,GACC/V,IAAK7F,EACLrF,MAAOqF,EACP8e,KACC3c,EAAgBnC,GACfK,EAAAtgB,EAAAugB,cAAA80C,GAAA,GAASvgC,MAAM,UAEfskC,GAAcn5C,UAStBK,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKc,QAAQ,OAAOsD,SAAS,KAC5Bpf,EAAAtgB,EAAAugB,cAACi7C,GAAD,CACC7tD,OAAQA,EACRkzB,OAAQlzB,EAAOsS,GACf6F,IAAK7F,EACLA,UAAWA,EACXrF,MAAO3Z,aAAEgf,GACT25C,YAAa34D,aAAEgf,GACfwB,OAAQA,GAAU,GAClBpB,UAAWA,EACXK,eAAgBA,GAAkB,GAClC6B,QAASA,EACTpC,QAASA,EACTD,UAAWA,EACX1R,OAAQA,EACRjD,SAAUA,EACVmwB,QAASA,wDCzWD+/B,GAAW,SAAAC,GACvB,IAAMnhD,EAAO,CACZK,MAAO8gD,EACP1wD,KAAM,IAEP,OAAQ0wD,GACP,IAAK,sCASJ,OARAnhD,EAAKvP,KAAO,CACX,CACC1B,KAAM,SACNmX,KACC,gGACD7F,MAAO,SAGFL,EACR,IAAK,oCASJ,OARAA,EAAKvP,KAAO,CACX,CACC1B,KAAM,SACNmX,KACC,+GACD7F,MAAO,SAGFL,EAER,QACC,OAAOA,IAIJwiB,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtCic,QAAS,CACR/Z,QAAS,YAIJ,SAASu/B,GAAT96D,GAAsC,IAAf+Z,EAAe/Z,EAAf+Z,MAAO5P,EAAQnK,EAARmK,KACpC,OAAOA,EAAKyH,KAAK,SAAAzS,GAAC,MAAe,WAAXA,EAAEsJ,OACvBrI,aAAE2Z,EAAO,CACR5P,KAAMA,EAAKrJ,IAAI,SAAC3B,EAAG6qB,GAAJ,MACH,WAAX7qB,EAAEsJ,KACDgX,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CAAgBsF,IAAK+E,EAAOpK,KAAMzgB,EAAEygB,MAApC,IAAA7W,OACM3I,aAAEjB,EAAE4a,SAGV3Z,aAAEjB,OAKLsgB,EAAAtgB,EAAAugB,cAAA,OACC85B,wBAAyB,CACxBC,OAAQr5C,aAAE2Z,EAAO,CAAE5P,YAMhB,IAAM4wD,GAAa,CACzBC,uBAAwB,CAAE98B,KAAK+8B,GAAA,EAAgBC,WAAY96D,aAAE,gBAC7D+6D,kCAAmC,CAClCj9B,KAAKk9B,GAAA,EACLF,WAAY96D,aAAE,iBAEfi7D,iCAAkC,CACjCn9B,KAAKo9B,GAAA,EACLJ,WAAY96D,aAAE,8BAIHm7D,GAAmB,SAAA76D,GAAsC,IAAnCmG,EAAmCnG,EAAnCmG,GAAI4gB,EAA+B/mB,EAA/B+mB,QAAS+E,EAAsB9rB,EAAtB8rB,OAAQ/H,EAAc/jB,EAAd+jB,QACjD+2C,EAAc/2C,EAAUzV,KAAKq+C,MAAQ,IAAIr+C,KAAKyV,GAASkrC,UAAY,KACnE8L,GAAah3C,GAAW+2C,EA5EJ,KA6E1B,QACGhvC,EAAOntB,QACRogB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK2b,GAAI,GACR32B,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACCrU,UAAW65C,EACX7oB,WAAS,EACThf,QAAQ,YACRK,MAAM,UACNwc,UAAWhxB,EAAAtgB,EAAAugB,cAAAg8C,GAAA,QACXvnC,QAAS,kBAAM+E,YAAQyiC,aAA0B,CAAE90D,KAAI4gB,eAEtDrnB,aAAE,gBAEFq7D,GACDh8C,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,UAAU2H,QAAQ,QAAQ2O,MAAM,SAClD9pC,aAAE,2BAA4B,CAC9B+J,KAAM,CAACyxD,aAAQ,IAAI5sD,KAAKyV,GAASkrC,iBASjC,SAASkM,GAATh7D,GAAqE,IAA5C2rB,EAA4C3rB,EAA5C2rB,OAAQ/E,EAAoC5mB,EAApC4mB,QAASq0C,EAA2Bj7D,EAA3Bi7D,WAAYC,EAAel7D,EAAfk7D,YACtDlhC,EAAUqB,KACV8/B,EAAOhnC,YAAY,SAAAv1B,GAAK,OAAI0M,aAAuB1M,EAAOgoB,KAC1Dw0C,EAAiBx0C,EAAsC,GAA5B,CAAC,yBAC5B/N,EAAO8S,GAAUwvC,EAAKxvC,QAAUyvC,EAEtC,OACCx8C,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACIpa,EAAKra,OACPogB,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACEkoC,EAAKn1D,IAAMk1D,GAAet8C,EAAAtgB,EAAAugB,cAACw8C,GAAqBF,GAChDtiD,EAAK5Y,IAAI,SAAC+F,EAAImjB,GAAU,IAAAmyC,EACAvB,GAAS/zD,GAAzBkT,EADgBoiD,EAChBpiD,MAAO5P,EADSgyD,EACThyD,KACf,OAAS2xD,EACRr8C,EAAAtgB,EAAAugB,cAAAywB,GAAA,GACClrB,IAAKpe,EACL0G,MAAOkS,EAAAtgB,EAAAugB,cAACo7C,GAAD,CAAa/gD,MAAOA,EAAO5P,KAAMA,KAExCsV,EAAAtgB,EAAAugB,cAAA81B,GAAA,GAAMthB,KAAK,QAAQna,MAAOghD,GAAWhhD,GAAOmhD,cAG7Cz7C,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKxV,IAAKpe,EAAIuvC,GAAc,IAAVpsB,GAAeA,EAAQtQ,EAAKra,OAAS,EAAI,GAC1DogB,EAAAtgB,EAAAugB,cAAAgU,EAAA,GAAOC,SAAS,UAAUC,QAAQ,WAAWiH,QAASA,GACrDpb,EAAAtgB,EAAAugB,cAACo7C,GAAD,CAAa/gD,MAAOA,EAAO5P,KAAMA,SAMjC2xD,EACLr8C,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,UAAUK,MAAM,aAClC7zB,aAAE,qBAGJqf,EAAAtgB,EAAAugB,cAAAgU,EAAA,GAAOC,SAAS,UAAUC,QAAQ,WAAWiH,QAASA,GACpDz6B,aAAE,sBAOD,SAASg8D,KACf,OACC38C,EAAAtgB,EAAAugB,cAAAyf,EAAA,GAAM4yB,OAAK,EAACD,gBAAc,GACzBryC,EAAAtgB,EAAAugB,cAAAoc,EAAA,OACCrc,EAAAtgB,EAAAugB,cAAA4f,EAAA,OACC7f,EAAAtgB,EAAAugB,cAAAmlC,GAAA,SAEDplC,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACC7F,QAASv5B,aAAE,yBAA0B,CACpC+J,KAAM,CAAC,GAAI,QAAS,EAAG,eCvJ7B,IAAM+xB,GAAY9C,aAAWuJ,IAEvB05B,GAAe,SAAAr8D,GAAwB,IAArBopC,EAAqBppC,EAArBopC,IAAKoP,EAAgBx4C,EAAhBw4C,UACtB3d,EAAUqB,KAChB,OACCzc,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,gBAAiB,CAAE6J,QAAQ,IACnC+yB,MACCvd,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CAAQC,KAAM44B,EAAWxY,OAAO,UAC9BwY,KAIJ/4B,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,2BACR48B,MACCvd,EAAAtgB,EAAAugB,cAACw5B,GAAD,CACCnQ,iBAAiB,EACjBlO,QAAS,CACRuO,IAAKvO,EAAQywB,WACbniB,QAAStO,EAAQ0wB,mBAElB56B,IAAKyY,EAAIwf,SAAW,GACpBroB,IAAKiY,EACLr1B,UAAWimB,EAAI6e,KACfrgB,YAAU,QAsKD00B,GA9JO,WAAM,IAAAvnC,EAWvBC,YAAY7mB,MATf1F,EAF0BssB,EAE1BtsB,KACA8E,EAH0BwnB,EAG1BxnB,MACAoqC,EAJ0B5iB,EAI1B4iB,YACAlwB,EAL0BsN,EAK1BtN,QACAwiC,EAN0Bl1B,EAM1Bk1B,KACAzR,EAP0BzjB,EAO1ByjB,UACAjxB,EAR0BwN,EAQ1BxN,MACA6vC,EAT0BriC,EAS1BqiC,WACA1zC,EAV0BqR,EAU1BrR,iBAGKpd,EAAe0uB,YAAYhyB,KACzBymB,EAAWuL,YAAYj0B,MAAvB0oB,OACF8yC,EAAavnC,YAAY,SAAAv1B,GAAK,OACnC6Q,aAA4B7Q,EAAOgJ,KAhBT4uD,EAkBkBD,EAAWtqD,OAAhDwqD,EAlBmBD,EAkBnBC,kBAAmBC,EAlBAF,EAkBAE,cAlBAiF,EAmBkBvS,EAArCj9C,kBAnBmB,IAAAwvD,EAmBN,GAnBMA,EAmBFC,EAAoBxS,EAApBwS,gBACzB,OACCh9C,EAAAtgB,EAAAugB,cAACirC,GAAD,KACClrC,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACCnrC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,GACd7lC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CAAS1uB,KAAM38B,aAAE,QAAS,CAAE6J,QAAQ,IAAS+yB,MAAOzvB,KAGrDkS,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CAAS1uB,KAAM38B,aAAE,OAAQ,CAAE6J,QAAQ,IAAS+yB,MAAOv0B,KAGpDgX,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CAAS1uB,KAAM38B,aAAE,UAAW,CAAE6J,QAAQ,IAAS+yB,MAAOvV,KAGvDhI,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CAAS1uB,KAAM38B,aAAE,QAAS,CAAE6J,QAAQ,IAAS+yB,MAAO12B,KAGrDmZ,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,eAAgB,CAAE+J,KAAM,CAACsf,KACjCuT,MACCu6B,EACGn3D,aAAE,kCAAmC,CACrC+J,KAAM,CAACsyD,EAAiBhzC,KAExBrpB,aAAE,oCAAqC,CACvC+J,KAAM,CAACuZ,EAAkB+F,QAM/BhK,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,4BACR48B,MAAOs6B,EAAoBl3D,aAAE,OAASA,aAAE,SAI1Cqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,IACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,cAAe,CAAE6J,QAAQ,IACjC+yB,MAAO2a,KAITl4B,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,IACtB9sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,sBACR48B,MAAOhwB,EAAWlM,IAAI,SAAAyd,GAAG,OACxBkB,EAAAtgB,EAAAugB,cAAA81B,GAAA,GACCvwB,IAAK1G,EACLqV,QAAQ,WACRM,KAAK,QACLna,MAAO3Z,aACNoe,iBAAcC,kCAAkCF,IAAQA,UAO7DkB,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACCzuB,MACCvd,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYC,UAAU,MAAM/K,MAAM,UAAU4a,cAAY,GACvDpvB,EAAAtgB,EAAAugB,cAAA,OACC85B,wBAAyB,CACxBC,OAAQr5C,aAAE,4BAIbqf,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYC,UAAU,MAAM/K,MAAM,UAAU4a,cAAY,GACvDpvB,EAAAtgB,EAAAugB,cAAA,OACC85B,wBAAyB,CACxBC,OAAQr5C,aAAE,uCASdm8D,IAAeA,EAAW/4D,MAC5Bic,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,mBACR48B,MACCvd,EAAAtgB,EAAAugB,cAAAgU,EAAA,GAAOC,SAAS,UAAUC,QAAQ,YAChCxzB,aAAE,yBAA0B,CAAE+J,KAAM,CAAC1B,SAO1CwhD,EAAK19C,UAAY09C,EAAKz9B,QAAUy9B,EAAKz9B,OAAOntB,QAC5CogB,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACC1uB,KAAM38B,aAAE,kBACR48B,MAAOvd,EAAAtgB,EAAAugB,cAACm8C,GAAD,CAAervC,OAAQy9B,EAAKz9B,YAItC/M,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,IACrB0d,EAAK8N,YACLt4C,EAAAtgB,EAAAugB,cAACg9C,GAAD,CAActzB,IAAK6gB,EAAMzR,UAAWA,IAEpC/4B,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CAAS1uB,KAAM38B,aAAE,iBAAkB48B,MAAO58B,aAAE,SAG9Cqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAAA+xC,GAAA,GAAgBC,QAAQ,EAAM99B,QAAQ,YACrCnU,EAAAtgB,EAAAugB,cAAAiyC,GAAA,GACCC,WAAYnyC,EAAAtgB,EAAAugB,cAAAmyC,GAAA,QACZxwB,gBAAc,qBACdx6B,GAAG,qBAEH4Y,EAAAtgB,EAAAugB,cAAAqf,GAAA,OAAa3+B,aAAE,gBAEhBqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,EAAGmS,MAAM,oBAAoByG,QAAQ,aAC5Cjb,EAAAtgB,EAAAugB,cAAA,WAAMX,KAAKC,UAAUuI,GAAS,GAAI,KAAM,YC/KpCo1C,GAAyB,SAAA/qC,GAAK,OAC1CnS,EAAAtgB,EAAAugB,cAACk9C,GAADt8D,OAAA03B,OAAA,GAAuBpG,EAAvB,CAA8BlnB,SAAS,eAG3BmyD,GAAgB,SAAAjrC,GAAK,OACjCnS,EAAAtgB,EAAAugB,cAACk9C,GAADt8D,OAAA03B,OAAA,GAAuBpG,EAAvB,CAA8BlnB,SAAS,eA0ClCoyD,GAAyBza,GAtCH,SAAAzwB,GAAK,OAChCnS,EAAAtgB,EAAAugB,cAACq9C,GAADz8D,OAAA03B,OAAA,GACKpG,EADL,CAECsuB,eAAgB,kBAAMhnB,YAAQ8jC,YAAa,YAC3CC,eAAe,cACfvyD,SAAS,SACTwzC,QAAQ,cACRrQ,MAAO,CACN,CACCtgC,MAAO,kBACPyxB,UAAWgmB,GACXhH,aAAc,SAAApsB,GAAK,OAAIsH,YAAQgkC,aAAsBtrC,MAEtD,CACCrkB,MAAO,kBACPyxB,UAAWgrB,GACXhM,aAAc,SAAApsB,GAAK,OAAIsH,YAAQikC,aAAqBvrC,MAErD,CACCrkB,MAAO,wBACP8wC,iBAAkB,OAClBrf,UAAWo+B,GACXjf,WAAY,SAAAvsB,GAAK,OAChBsH,YACCmkC,YAAa/8D,OAAAC,GAAA,EAAAD,CAAA,GACTsxB,EADQ,CAEXlnB,SAAU,SACV4yD,cAAeC,YAKpBC,SAAS,wBACTC,cAAY,EACZC,UAAWzvD,eAMA0vD,GAAgB,SAAA/rC,GAAK,OACjCnS,EAAAtgB,EAAAugB,cAACo9C,GAADx8D,OAAA03B,OAAA,GACKpG,EADL,CAECixB,SAAS,WACTt1C,MAAM,sBAIFqwD,GAAY,CACjBC,kBAAkB,EAClB3/B,KAAMze,EAAAtgB,EAAAugB,cAACo+C,GAAA3+D,EAAD,CAAc80B,MAAM,aAGd8pC,GAAqB,SAAAnsC,GAAK,OACtCnS,EAAAtgB,EAAAugB,cAACo9C,GAADx8D,OAAA03B,OAAA,GAA4BpG,EAAWgsC,GAAvC,CAAkDrwD,MAAM,oBAsDnDywD,GAA6B3b,GAlDH,SAAAzwB,GAAK,OACpCnS,EAAAtgB,EAAAugB,cAACq9C,GAADz8D,OAAA03B,OAAA,GACKpG,EADL,CAECsuB,eAAgB,kBAAMhnB,YAAQ8jC,YAAa,cAC3CC,eAAe,gBACfvyD,SAAS,WACTwzC,QAAQ,gBACRrQ,MAAO,CACN,CACCtgC,MAAO,sBACPyxB,UAAW0sB,GACX1N,aAAc,SAAApsB,GAAK,OAAIsH,YAAQ+kC,aAA2BrsC,MAE3D,CACCrkB,MAAO,yBACPyxB,UAAW29B,GACX3e,aAAc,SAAApsB,GAAK,OAAIsH,YAAQglC,aAA8BtsC,MAE9D,CACCrkB,MAAO,wBACPyxB,UAAW6vB,GACX7Q,aAAc,SAAAh+C,GAAA,IAAG+G,EAAH/G,EAAG+G,WAAYya,EAAfxhB,EAAewhB,MAAOy8B,EAAtBj+C,EAAsBi+C,QAASkgB,EAA/Bn+D,EAA+Bm+D,UAA/B,OACbjlC,YACCklC,aAA2B,CAC1Br3D,aACAya,QACAy8B,UACAkgB,iBAIJ,CACC5wD,MAAO,wBACP8wC,iBAAkB,gBAClBrf,UAAW6zB,GACX1U,WAAY,SAAAvsB,GAAK,OAChBsH,YACCmkC,YAAa/8D,OAAAC,GAAA,EAAAD,CAAA,GACTsxB,EADQ,CAEXlnB,SAAU,WACV4yD,cAAee,WAKpBX,UAAW5vD,YACXwwD,kBAAkB,oCAMPC,GAAoB,SAAA3sC,GAAK,OACrCnS,EAAAtgB,EAAAugB,cAACs+C,GAAD19D,OAAA03B,OAAA,CACC6qB,SAAS,eACTt1C,MAAM,uBACFqkB,KAIO4sC,GAA0B,SAAA5sC,GAAK,OAC3CnS,EAAAtgB,EAAAugB,cAACs+C,GAAD19D,OAAA03B,OAAA,GAAgCpG,EAAhC,CAAuCrkB,MAAM,iCAmDxCkxD,GAAyBpc,GA/CH,SAAAzwB,GAAK,OAChCnS,EAAAtgB,EAAAugB,cAACq9C,GAADz8D,OAAA03B,OAAA,GACKpG,EADL,CAECsuB,eAAgB,kBAAMhnB,YAAQ8jC,YAAa,YAC3CC,eAAe,cACfvyD,SAAS,SACTwzC,QAAQ,YACRrQ,MAAO,CACN,CACCtgC,MAAO,kBACPyxB,UAAW23B,GACX3Y,aAAc,SAAAt9C,GAAA,IAAGqG,EAAHrG,EAAGqG,WAAYya,EAAf9gB,EAAe8gB,MAAOy8B,EAAtBv9C,EAAsBu9C,QAASkgB,EAA/Bz9D,EAA+By9D,UAA/B,OACbjlC,YACCwlC,aAAsB,CACrB33D,aACAya,QACAy8B,UACAkgB,iBAIJ,CACC5wD,MAAO,qBACPyxB,UAAW64B,GACX7Z,aAAc,SAAApsB,GAAK,OAAIsH,YAAQylC,aAAwB/sC,MAExD,CACCrkB,MAAO,wBACP8wC,iBAAkB,OAClBrf,UAAWs9B,GACXne,WAAY,SAAAvsB,GAAK,OAChBsH,YACCmkC,YAAa/8D,OAAAC,GAAA,EAAAD,CAAA,GACTsxB,EADQ,CAEXlnB,SAAU,SACV4yD,cAAesB,YAKpBpB,SAAS,wBACTc,kBAAkB,uBAClBO,qBAAqB,0BACrBnB,UAAWtvD,eAMA0wD,GAAgB,SAAAltC,GAAK,OACjCnS,EAAAtgB,EAAAugB,cAAC++C,GAADn+D,OAAA03B,OAAA,GACKpG,EADL,CAECixB,SAAS,WACTt1C,MAAM,sBA8DKwxD,GAAwB1c,GAxDR,SAAAzwB,GAAK,OACjCnS,EAAAtgB,EAAAugB,cAACq9C,GAADz8D,OAAA03B,OAAA,GACKpG,EADL,CAECsuB,eAAgB,kBAAMhnB,YAAQ8jC,YAAa,cAC3CC,eAAe,gBACfvyD,SAAS,WACTwzC,QAAQ,gBACRrQ,MAAK,CACJ,CACCtgC,MAAO,sBACPyxB,UAAWk5B,GACXla,aAAc,SAAAn9C,GAAA,IAAGkG,EAAHlG,EAAGkG,WAAYya,EAAf3gB,EAAe2gB,MAAOy8B,EAAtBp9C,EAAsBo9C,QAASkgB,EAA/Bt9D,EAA+Bs9D,UAA/B,OACbjlC,YACC8lC,aAAuB,CACtBj4D,aACAya,QACAy8B,UACAkgB,kBAVAp1D,OAAAzI,OAAAgE,GAAA,EAAAhE,CAcAsxB,EAAMqtC,UACP,GACA,CACA,CACC1xD,MAAO,gBACPyxB,UAAW69B,GACX7e,aAAc,SAAA/8C,GAAA,IAAG8F,EAAH9F,EAAG8F,WAAYya,EAAfvgB,EAAeugB,MAAOy8B,EAAtBh9C,EAAsBg9C,QAASkgB,EAA/Bl9D,EAA+Bk9D,UAA/B,OACbjlC,YACCgmC,aAAsB,CACrBn4D,aACAya,QACAy8B,UACAkgB,mBA1BH,CA+BJ,CACC5wD,MAAO,wBACP8wC,iBAAkB,OAClBrf,UAAWmgC,GACXhhB,WAAY,SAAAvsB,GAAK,OAChBsH,YACCmkC,YAAa/8D,OAAAC,GAAA,EAAAD,CAAA,GACTsxB,EADQ,CAEXlnB,SAAU,WACV4yD,cAAe8B,aAKpB1B,UAAWnvD,iBAMA8wD,GAAoB,SAAAztC,GAAK,OACrCnS,EAAAtgB,EAAAugB,cAACq/C,GAADz+D,OAAA03B,OAAA,CACC6qB,SAAS,eACTt1C,MAAM,uBACFqkB,KCxQA+e,GAAexa,GAAoBpC,EAAA,GACnC6c,GAAQza,GAAoB6P,IAE5B9J,GAAY9C,aAAWuJ,IAEvBkO,GAAU,SAAA7wC,GAAA,IACf66B,EADe76B,EACf66B,QACAwxB,EAFersD,EAEfqsD,UACAD,EAHepsD,EAGfosD,QACAlkC,EAJeloB,EAIfkoB,eACAF,EALehoB,EAKfgoB,UACAC,EANejoB,EAMfioB,OANe,MAOV,CACL,CACCnK,KAAM,QACN/D,MAAO3Z,aAAE,cACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNo5B,UAAU,EACVmF,iBAAkB,SAAArwC,GAAoD,IAAjD4jB,EAAiD5jB,EAAjD4jB,cAAezd,EAAkCnG,EAAlCmG,GAAIqc,EAA8BxiB,EAA9BwiB,SAAUC,EAAoBziB,EAApByiB,UAAWJ,EAASriB,EAATqiB,GACtDu8C,EAAeh7C,EAAgB0hB,GAAM4K,GAC3C,OACCnxB,EAAAtgB,EAAAugB,cAAC4/C,EAADh/D,OAAA03B,OAAA,CACC/S,IAAKpe,EACLoiC,mBAAmB,EACnB3O,UAAW8E,KAAWvE,EAAQoS,SAC9Btc,IAAKzN,EACLqd,IAAK15B,EACLsc,UAAWA,EACXykB,YAAU,GACJtjB,EAAyB,GAAT,CAAEvB,WAM7B,CACCjF,KAAM,QACN/D,MAAO3Z,aAAE,cACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EAENu+B,iBAAkB,eAACxjC,EAADnO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAS,GAAT,OAAgB4xC,aAAezjC,EAAO,OAG1D,CACCuQ,KAAM,cACN/D,MAAO3Z,aAAE,qBACTorC,QAAQlrC,OAAAC,GAAA,EAAAD,CAAA,CACPkS,MAAM,EACNu+B,iBAAkB,SAAAxlC,GAAW,OAAI0lC,mBAAQ1lC,GAAe,KACrD4hC,GAAoB,CACtBE,QAAS,CAAC,EAAGnlB,GACbqlB,YAAantC,aAAE,0BAIlB,CACC0d,KAAM,SACN/D,MAAO3Z,aAAE,sBACTorC,QAAQlrC,OAAAC,GAAA,EAAAD,CAAA,CACPkS,MAAM,EACNu+B,iBAAkB,SAAA1lC,GAAM,OAAI4lC,mBAAQ5lC,GAAU,KAC3C8hC,GAAoB,CACtBE,QAAS,CAAC,EAAGrlB,GACbulB,YAAantC,aAAE,qBAIlB,CACC0d,KAAM,MACN/D,MAAO3Z,aAAE,aACTorC,QAAQlrC,OAAAC,GAAA,EAAAD,CAAA,CACPkS,MAAM,EACNu+B,iBAAkB,SAAAttB,GAAG,SAAA1a,OAAOuL,OAAOmP,GAAKjI,QAAQ,GAA3B,QAClB2xB,GAAoB,CACtBE,QAAS,CAAC,EAAGplB,EAAOzM,QAAQ,IAC5B+xB,YAAantC,aAAE,kBAIlB,CACC0d,KAAM,OACN/D,MAAO3Z,aAAE,aACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,kBAAA3xC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,IAAY+kB,QAAQ,UAAW,OAG3D,CACCrG,KAAM,UACN/D,MAAO3Z,aAAE,gBACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACN0+B,cAAe,OACfH,iBAAkB,SAAA9rC,GAAO,OAAImsC,aAAensC,MAG9C,CACC6Y,KAAM,UACN/D,MAAO3Z,aAAE,WACTorC,QAAS,CACRl+B,QAAQ,EACRiuB,SAAU8wB,EACV75C,MAAM,EACNo5B,UAAU,EACVmF,iBAAkB,SAAAlwC,GAAA,IAAGkiB,EAAHliB,EAAGkiB,GAAIvR,EAAP3Q,EAAO2Q,KAAM3K,EAAbhG,EAAagG,GAAI0G,EAAjB1M,EAAiB0M,MAAjB,OACjBkS,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKxV,IAAKpe,EAAIyzB,UAAWO,EAAQvb,SAChCG,EAAAtgB,EAAAugB,cAAAywB,GAAA,GACC5iC,MAAOnN,aAAE,cAETixC,WAAY,KAEZ5xB,EAAAtgB,EAAAugB,cAAC6/C,GAAD,CAAcx8C,GAAIA,EAAI6Q,QAAQ,YAAYI,aAAW,WACpDvU,EAAAtgB,EAAAugB,cAAA4xB,GAAA,GAAYrd,MAAM,eAGlBm4B,GACD3sC,EAAAtgB,EAAAugB,cAAAywB,GAAA,GACC5iC,MAAOnN,aAAE,iBAETixC,WAAY,KAEZ5xB,EAAAtgB,EAAAugB,cAAA,YACCD,EAAAtgB,EAAAugB,cAAC8/C,GAAD,CACCzc,aAAc,kBACb7pB,YACCumC,YAAU,CACTjuD,OACA9G,SAAU,SACV0vC,SAAUnsC,cAIbu0C,YAAU,MAKd/iC,EAAAtgB,EAAAugB,cAACggD,GAAD,CACCh1D,SAAS,SACTiD,OAAQ9G,EACR0G,MAAOA,EACPqsC,WAAS,UAqBTrI,GAAa,SAAAtwC,GAAA,IAAG0+D,EAAH1+D,EAAG0+D,aAAc7vB,EAAjB7uC,EAAiB6uC,WAAjB,MAA6C,CAC/D9B,WAAY,cACZ4xB,aAFkB3+D,EAA6Bm5B,SAG/CyX,cAAe,kBAAMpyB,EAAAtgB,EAAAugB,cAACuwB,GAAD,CAAYC,aAAcJ,KAC/C0B,WAAY,SAACC,EAAWC,EAAWnG,EAAS7xB,GAAhC,OAjBM,SAAC+3B,EAAWC,EAAWnG,EAAS7xB,GAClD,IAAMi4B,EAAaj4B,EAAK5Y,IAAI,SAAAoU,GAAC,MAAK,CACjC8U,MAAO9U,EAAE8U,MACTtQ,KAAM,CACLxE,EAAEwE,KAAK,GAAG7S,GACVqO,EAAEwE,KAAK,GACPxE,EAAEwE,KAAK,GAAGyK,QAAQ,UAAW,IAC7BitB,aAAel8B,EAAEwE,KAAK,QAGxB,MAAO,GAAA3Q,OAAG0oC,EAAUlG,IAAbxiC,OAAwB2oC,EAAUC,IAAcC,OAQtDJ,CAAWC,EAAWC,EAAWnG,EAAS7xB,IAC3CimD,iBAsEcE,OAnEf,SAAsBjuC,GACrB,IAAMiJ,EAAUqB,KACVx2B,EAAOsvB,YAAYxvB,MAExB6mD,EAMGz6B,EANHy6B,UACAD,EAKGx6B,EALHw6B,QACAzjD,EAIGipB,EAJHjpB,WACAqjD,EAGGp6B,EAHHo6B,aAP2B8T,EAUxBluC,EAFHwI,gBAR2B,IAAA0lC,EAQhB,GARgBA,EAS3Bt1D,EACGonB,EADHpnB,MAT2BuqB,EAYkBC,YAAY,SAAAv1B,GAAK,OAC9D2oB,YAA4B3oB,EAAO,CAAEiG,OAAMiD,iBADpCqf,EAZoB+M,EAYpB/M,UAAWE,EAZS6M,EAYT7M,eAAgBD,EAZP8M,EAYO9M,OAG7B83C,EAAc/qC,YAAY,SAAAv1B,GAAK,OACpC0I,aAA8B1I,EAAO,cAhBVk1B,EAmBYC,mBAAS,IAnBrBC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAmBrB4a,EAnBqB1a,EAAA,GAmBPmrC,EAnBOnrC,EAAA,GAAAyd,EAqBUhD,GAAa,CAClDngB,SAAU9K,IACVkrB,eACAC,WAAY,kBACXqB,GAAQ,CACPhW,UACAwxB,YACAD,UACAlkC,iBACAF,YACAC,cAVKvO,EArBoB44B,EAqBpB54B,KAAM6xB,EArBc+G,EAqBd/G,QAASuE,EArBKwC,EAqBLxC,WAmBvBna,oBAAU,WACTqqC,EAAgB,CAAEt6D,OAAMiD,aAAY6B,WAClC,CAAC9E,EAAMiD,EAAY6B,IAEtB,IAAMm1D,EAAe5vB,sBACpB,SAACxqC,EAAG06D,GACH,IAAMhuB,EAAkBguB,EAAgBn/D,IAAI,SAAAiwD,GAAG,OAAIA,EAAI7e,YACjD+Z,EAAmBha,EAAgBnxC,IAAI,SAAAoU,GAAC,OAAIwE,EAAKxE,GAAGrO,KAE1DmlD,GAAgBA,EAAa,CAAE/Z,kBAAiBga,sBAEjD,CAACvyC,EAAMsyC,IAGFxgB,EAAU+F,GAAW,CAAEouB,eAAcvlC,WAAU0V,eACrD,OACCrwB,EAAAtgB,EAAAugB,cAAC4rB,GAADhrC,OAAA03B,OAAA,CACCzqB,MAAO5E,EAAavI,aAAE,qBAAuBA,aAAE,aAC/CsZ,KAAMA,EACN6xB,QAASA,EACTC,QAASA,EACTlQ,SAAUykC,GACNnuC,KClPD+e,GAAexa,GAAoBpC,EAAA,GACnC6c,GAAQza,GAAoB6P,IAE5B9J,GAAY9C,aAAWuJ,IAEvBkO,GAAU,SAAA7wC,GAAA,IAAG66B,EAAH76B,EAAG66B,QAASpR,EAAZzpB,EAAYypB,OAAZ,MAAyB,CACxC,CACC3L,KAAM,QACN/D,MAAO3Z,aAAE,cACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNo5B,UAAU,EACVmF,iBAAkB,SAAArwC,GAAqC,IAAlCmG,EAAkCnG,EAAlCmG,GAAIqc,EAA8BxiB,EAA9BwiB,SAAUC,EAAoBziB,EAApByiB,UAAWJ,EAASriB,EAATqiB,GAC7C,OACCtD,EAAAtgB,EAAAugB,cAACwgD,GAAD,CACCj7C,IAAKpe,EACLoiC,mBAAmB,EACnB3O,UAAW8E,KAAWvE,EAAQoS,SAC9Btc,IAAKzN,EACLqd,IAAK15B,EACLsc,UAAWA,EACXykB,YAAU,EACV7kB,GAAIA,OAMT,CACCjF,KAAM,QACN/D,MAAO3Z,aAAE,cACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,SAAAxjC,GAAK,OAAIyjC,aAAezjC,EAAO,OAGnD,CACCuQ,KAAM,OACN/D,MAAO3Z,aAAE,aACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,IAGR,CACCsL,KAAM,UACN/D,MAAO3Z,aAAE,gBACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACN0+B,cAAe,OACfH,iBAAkB,SAAA9rC,GAAO,OAAImsC,aAAensC,MAG9C,CACC6Y,KAAM,cACN/D,MAAO3Z,aAAE,qBACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,SAAAxlC,GAAW,OAAI0lC,mBAAQ1lC,GAAe,MAG1D,CACCuS,KAAM,SACN/D,MAAO3Z,aAAE,gBACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,SAAA1lC,GAAM,OAAI4lC,mBAAQ5lC,GAAU,MAGhD,CACCyS,KAAM,MACN/D,MAAO3Z,aAAE,aACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,SAAAttB,GAAG,SAAA1a,OAAO0a,EAAIjI,QAAQ,GAAnB,SAGvB,CACCsC,KAAM,WACN/D,MAAO3Z,aAAE,kBACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,SAAA3sB,GAAQ,SAAArb,OAAOqb,EAAS5I,QAAQ,GAAxB,KAAAzS,OAA8B0gB,MAG1D,CACC3L,KAAM,UACN/D,MAAO3Z,aAAE,WACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNo5B,UAAU,EACVmF,iBAAkB,SAAAlwC,GAAA,IAAGkiB,EAAHliB,EAAGkiB,GAAIvR,EAAP3Q,EAAO2Q,KAAM3K,EAAbhG,EAAagG,GAAI0G,EAAjB1M,EAAiB0M,MAAjB,OACjBkS,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKxV,IAAKpe,EAAIyzB,UAAWO,EAAQvb,SAChCG,EAAAtgB,EAAAugB,cAAAywB,GAAA,GACClrB,IAAKzT,EAAK3K,GACV0G,MAAOnN,aAAE,cAETixC,WAAY,IACZrd,aAAW,QAEXvU,EAAAtgB,EAAAugB,cAACygD,GAAD,CAAcp9C,GAAIA,EAAI6Q,QAAQ,aAC7BnU,EAAAtgB,EAAAugB,cAAA4xB,GAAA,GAAYrd,MAAM,cAGpBxU,EAAAtgB,EAAAugB,cAACggD,GAAD,CACCh1D,SAAS,SACTiD,OAAQ9G,EACR0G,MAAOA,EACPqsC,WAAS,UAqBTrI,GAAa,SAAAtwC,GAAA,IAAG6uC,EAAH7uC,EAAG6uC,WAAH,MAAqB,CACvC9B,WAAY,cACZjC,eAAgB,OAChB8F,cAAe,kBAAMpyB,EAAAtgB,EAAAugB,cAACuwB,GAAD,CAAYC,aAAcJ,KAC/C0B,WAAY,SAACC,EAAWC,EAAWnG,EAAS7xB,GAAhC,OAjBM,SAAC+3B,EAAWC,EAAWnG,EAAS7xB,GAClD,IAAMi4B,EAAaj4B,EAAK5Y,IAAI,SAAAoU,GAAC,MAAK,CACjC8U,MAAO9U,EAAE8U,MACTtQ,KAAM,CACLxE,EAAEwE,KAAK,GAAG7S,GACVqO,EAAEwE,KAAK,GACPxE,EAAEwE,KAAK,GAAGyK,QAAQ,UAAW,IAC7BitB,aAAel8B,EAAEwE,KAAK,QAGxB,MAAO,GAAA3Q,OAAG0oC,EAAUlG,IAAbxiC,OAAwB2oC,EAAUC,IAAcC,OAQtDJ,CAAWC,EAAWC,EAAWnG,EAAS7xB,MAmC7B0mD,OAhCf,SAAsBxuC,GACrB,IAAMiJ,EAAUqB,KACVx2B,EAAOsvB,YAAYxvB,MACjBikB,EAAWuL,YAAYj0B,MAAvB0oB,OACFs2C,EAAc/qC,YAAY,SAAAv1B,GAAK,OACpC0I,aAA8B1I,EAAO,cALV6yC,EAQUhD,GAAa,CAClDngB,SAAUlL,IACVsrB,aAAc7pC,EACd8pC,WAAY,kBACXqB,GAAQ,CACPhW,UACApR,cANK/P,EARoB44B,EAQpB54B,KAAM6xB,EARc+G,EAQd/G,QAASuE,EARKwC,EAQLxC,WAUjBtE,EAAU+F,GAAW,CAAEzB,eAE7B,OACCrwB,EAAAtgB,EAAAugB,cAAC4rB,GAADhrC,OAAA03B,OAAA,CACCzqB,MAAOnN,aAAE,aACTsZ,KAAMA,EACN6xB,QAASA,EACTC,QAASA,EACTlQ,SAAUykC,GACNnuC,eC5KDsK,GAAY9C,aAAWuJ,IACvBgO,GAAexa,GAAoBpC,EAAA,GACnCssC,GAAelqC,GAAoB4I,GAAA,GAEnC8R,GAAU,SAAA7wC,GAAA,IAAG66B,EAAH76B,EAAG66B,QAAH76B,EAAYypB,OAAZ,MAAyB,CACxC,CACC3L,KAAM,QACN/D,MAAO3Z,aAAE,cACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACN8tD,aAAc,iBAAO,CAAE9/B,MAAO,CAAEnC,OAAQ,aACxC0S,iBAAkB,SAAArwC,GAAA,IAAG6M,EAAH7M,EAAG6M,MAAOwV,EAAVriB,EAAUqiB,GAAV,OACjBtD,EAAAtgB,EAAAugB,cAAC2gD,GAAD,CAAcp7C,IAAK1X,EAAOwV,GAAIA,GAC5BxV,MAKL,CACCuQ,KAAM,UACN/D,MAAO3Z,aAAE,gBACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACN0+B,cAAe,OACfH,iBAAkB,SAAA9rC,GAAO,OAAIksC,aAAWlsC,MAG1C,CACC6Y,KAAM,UACN/D,MAAO3Z,aAAE,gBACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,SAAA9rC,GAAO,OAAIksC,aAAWlsC,OAAS3F,EAAWc,aAAE,SAGhE,CACC0d,KAAM,UACN/D,MAAO3Z,aAAE,WACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACN+tD,mBAAoB,iBAAO,CAAE//B,MAAO,CAAE4b,UAAW,WACjDkkB,aAAc,iBAAO,CAAE9/B,MAAO,CAAE4b,UAAW,WAC3CrL,iBAAkB,SAAAlwC,GAAA,IAAGgG,EAAHhG,EAAGgG,GAAIgG,EAAPhM,EAAOgM,cAAekW,EAAtBliB,EAAsBkiB,GAAIxV,EAA1B1M,EAA0B0M,MAA1B,OACjBkS,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKxV,IAAKpe,EAAIyzB,UAAWO,EAAQvb,SAChCG,EAAAtgB,EAAAugB,cAAAywB,GAAA,GAAS5iC,MAAOnN,aAAE,cAAe4zB,aAAW,QAC3CvU,EAAAtgB,EAAAugB,cAAC8gD,GAAD,CAAcz9C,GAAIA,EAAIiR,aAAW,WAChCvU,EAAAtgB,EAAAugB,cAAA+gD,GAAA,GAAYxsC,MAAM,cAGpBxU,EAAAtgB,EAAAugB,cAAAywB,GAAA,GACC5iC,MAAOnN,aAAE,oCACT4zB,aAAW,gBAEXvU,EAAAtgB,EAAAugB,cAAA,YACCD,EAAAtgB,EAAAugB,cAACghD,GAAD,CACC3d,aAAc,kBACb7pB,YACCizB,aAAkB,gBAAD7rD,OAAAC,GAAA,EAAAD,CAAA,GACbuM,MAINqxB,KAAMze,EAAAtgB,EAAAugB,cAACigB,GAAD,CAAc1L,MAAM,cAC1BuuB,YAAU,MAIb/iC,EAAAtgB,EAAAugB,cAACggD,GAAD,CACCh1D,SAAS,WACTiD,OAAQ9G,EACR0G,MAAOA,EACPqsC,WAAS,UAQTrI,GAAa,SAAAtwC,GAAA,IAAG6uC,EAAH7uC,EAAG6uC,WAAH,MAAqB,CACvC9B,WAAY,cACZjC,eAAgB,OAChB8F,cAAe,kBAAMpyB,EAAAtgB,EAAAugB,cAACuwB,GAAD,CAAYC,aAAcJ,OAmCjC6wB,OAhCf,SAAwB/uC,GACvB,IAAMiJ,EAAUqB,KACVx2B,EAAOsvB,YAAYxvB,MACjBikB,EAAWuL,YAAYj0B,MAAvB0oB,OACFs2C,EAAc/qC,YAAY,SAAAv1B,GAAK,OACpC0I,aAA8B1I,EAAO,cALR6yC,EAQQhD,GAAa,CAClDngB,SAAU5K,IACVgrB,aAAc7pC,EACd8pC,WAAY,kBACXqB,GAAQ,CACPhW,UACApR,cANK/P,EARsB44B,EAQtB54B,KAAM6xB,EARgB+G,EAQhB/G,QAASuE,EAROwC,EAQPxC,WAUjBtE,EAAU+F,GAAW,CAAEzB,eAE7B,OACCrwB,EAAAtgB,EAAAugB,cAAC4rB,GAADhrC,OAAA03B,OAAA,CACCzqB,MAAOnN,aAAE,mBACTsZ,KAAMA,EACN6xB,QAASA,EACTC,QAASA,EACTlQ,SAAUykC,GACNnuC,oCCrIMgvC,GAAgB,CAC5B,UACA,UACA,UACA,UACA,UACA,WAGUC,GAAwB,CAClC10B,YAAY,EACZ20B,SAAU,CACTC,KAAM,QACNC,aAAc,EACd33C,gBAAiB43C,IAAOC,qBAAqB,UAAW,MAU1DC,KAAMC,KAAU,CAAEr7D,OAAQ86D,KC2BXQ,OAlDf,SAAArhE,GAIG,IAHF2I,EAGE3I,EAHF2I,WAGE24D,EAAAthE,EAFFgpB,mBAEE,IAAAs4C,EAFYV,GAAcvhE,OAE1BiiE,EAAAC,EAAAvhE,EADF+oB,mBACE,IAAAw4C,EADYX,GACZW,EACI7nD,EAAOsb,YAAY,SAAAv1B,GAAK,OAC7BqpB,YAA4BrpB,EAAO,CAClCkJ,aACAogB,cACAC,kBAIF,OACCvJ,EAAAtgB,EAAAugB,cAAC8hD,GAAA,EAAD,CACCpjC,MAAO,IACPD,OAAQ,IACRzkB,KAAMA,EACN8xB,QAAS,CACRW,YAAY,EACZs1B,OAAQ,CACP3kC,SAAU,UAEXvvB,MAAO,CACNguB,SAAS,EACT/F,KAAMp1B,aAAE,6BAETshE,WAAW,EACXZ,SAAU,CACTa,UAAW,CACV5nD,MAAO,SAASvI,EAAMkI,GACrB,OACCA,EAAKS,SAAS3I,EAAKowD,cAAc7nD,MACjC,KACAL,EAAKO,OAAOzI,EAAKwY,OACjB,KACAtQ,EAAKS,SAAS3I,EAAKowD,cAAcloD,KAAKlI,EAAKwY,wBCtB7CkS,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtC8P,QAAS,CACRlF,OAAQ5K,EAAM4E,QAAQ,GACtBnB,SAAU,YAEXkT,eAAgB,CACflT,SAAU,WACV3J,IAAK,MACL4J,KAAM,MACN+F,WAAY,GACZgB,YAAa,OAIT+M,GAAU,SAAA7wC,GAAA,IACfypB,EADezpB,EACfypB,OACAzB,EAFehoB,EAEfgoB,UACAE,EAHeloB,EAGfkoB,eACAC,EAJenoB,EAIfmoB,YACAF,EALejoB,EAKfioB,OALe,MAMV,CACL,CACCnK,KAAM,gBACN0tB,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNo5B,UAAU,EACVrQ,SAAS,IAGX,CAECzd,KAAM,UACN0tB,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNo5B,UAAU,EACVrQ,SAAS,IAGX,CACCzd,KAAM,UACN/D,MAAO3Z,aAAE,WACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,SAAC9rB,EAAK48C,GACvB,OAAOA,EAAUC,QAAQ,GACxBriD,EAAAtgB,EAAAugB,cAAAywB,GAAA,GAASlrB,IAAKA,EAAK1X,MAAOnN,aAAE,wBAC3Bqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKxG,MAAM,cAAchP,IAG1BxF,EAAAtgB,EAAAugB,cAAA+a,EAAA,OAAMxV,MAKV,CACCnH,KAAM,cACN/D,MAAO3Z,aAAE,qBACTorC,QAAQlrC,OAAAC,GAAA,EAAAD,CAAA,CACP4wC,cAAe,OACfH,iBAAkB,SAAAxlC,GAAW,OAAIw2D,aAAuBx2D,GAAe,KACpE4hC,GAAoB,CACtBE,QAAS,CAAC,EAAGnlB,GACbqlB,YAAantC,aAAE,0BAIlB,CACC0d,KAAM,WACN/D,MAAO3Z,aAAE,oBACTorC,QAAQlrC,OAAAC,GAAA,EAAAD,CAAA,CACPywC,iBAAkB,SAAA3sB,GAAQ,SAAArb,OACtBg5D,cAAwB39C,GAAY,GAAG5I,QAAQ,IADzB,KAAAzS,OACgC0gB,KACvD0jB,GAAoB,CACtBE,QAAS,CAAC,EAAGllB,GACbolB,YAAantC,aAAE,uBAIlB,CACC0d,KAAM,aACN/D,MAAO3Z,aAAE,qBACTorC,QAAS,CACRl+B,QAAQ,EACRyjC,iBAAkB,SAAA3rB,GAAU,SAAArc,OACxBg5D,cAAwB38C,GAAc,GAAG5J,QAAQ,IADzB,KAAAzS,OACgC0gB,MAG9D,CACC3L,KAAM,SACN/D,MAAO3Z,aAAE,sBACTorC,QAAQlrC,OAAAC,GAAA,EAAAD,CAAA,CACPkS,MAAM,EACNu+B,iBAAkB,SAAA1lC,GAAM,OAAI02D,aAAuB12D,GAAU,KAC1D8hC,GAAoB,CACtBE,QAAS,CAAC,EAAGrlB,GACbulB,YAAantC,aAAE,qBAIlB,CACC0d,KAAM,MACN/D,MAAO3Z,aAAE,OACTorC,QAAQlrC,OAAAC,GAAA,EAAAD,CAAA,CACPkS,MAAM,EACNu+B,iBAAkB,SAAAttB,GAAG,SAAA1a,OAAO0a,EAAIjI,QAAQ,GAAnB,QAClB2xB,GAAoB,CACtBE,QAAS,CAAC,EAAGplB,GACbslB,YAAantC,aAAE,cACfqtC,WAAY,GACZE,eAAgB,QAMdq0B,GAA8B,SAAAthE,GAQ9B,IAPLmzB,EAOKnzB,EAPLmzB,OACAouC,EAMKvhE,EANLuhE,QAMKC,EAAAxhE,EALLyhE,iBAKK,IAAAD,EALO,GAKPA,EAJLv5D,EAIKjI,EAJLiI,WACAu1B,EAGKx9B,EAHLw9B,KACAjK,EAEKvzB,EAFLuzB,MACA4lB,EACKn5C,EADLm5C,UAEMhf,EAAUqB,KACVyX,EAAU3e,YAAY,SAAAv1B,GAAK,OAChCmH,aAAkBnH,EAAD,GAAAsJ,OAAW8qB,EAAX,cAAA9qB,OAA8BJ,MAEhD,OACC8W,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQsO,SACvB1pB,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACCrC,QAAQ,YACRK,MAAOA,EACPC,KAAK,SACL0e,WAAS,EACTze,QAAS,WACR+E,YACC8gB,YACC,kBACC9gB,YACCkpC,YAAyB,CACxBz5D,aACAw5D,YACAF,UACApuC,SACAgmB,gBAGH,KACA,CACCpkB,aAAcr1B,aAAC,GAAA2I,OAAI8qB,EAAJ,2BACf6B,YAAat1B,aAAE,UACfmN,MAAOnN,aAAC,GAAA2I,OAAI8qB,EAAJ,2BAAqC,CAC5C1pB,KAAM,CAACg4D,EAAU9iE,UAElBm2B,KAAMp1B,aAAC,GAAA2I,OAAI8qB,EAAJ,0BAAoC,CAC1C1pB,KAAM,CAACg4D,EAAU9iE,cAMtBuiB,SAAU+xB,EACV0uB,QAASnkC,GAER99B,aAAC,OAAA2I,OAAQ8qB,EAAR,eAEF8f,GACAl0B,EAAAtgB,EAAAugB,cAAAkc,GAAA,GAAkB1H,KAAM,GAAIoG,UAAWO,EAAQmV,mBAM7CsyB,GAAkB,SAAAzhE,GAA+C,IAA5C8H,EAA4C9H,EAA5C8H,WAA4C45D,EAAA1hE,EAAhCshE,iBAAgC,IAAAI,EAApB,GAAoBA,EAAhB1oB,EAAgBh5C,EAAhBg5C,UACtD,OACCp6B,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,EAAGxC,WAAW,UACtChc,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,EAAG5c,GAAI,GAAIi2B,GAAI,GACrC/iD,EAAAtgB,EAAAugB,cAAC+iD,GAAD,CACC5uC,OAAO,UACPsuC,UAAWA,EACXF,SAAS,EACTt5D,WAAYA,EACZu1B,KAAMze,EAAAtgB,EAAAugB,cAAAgjD,GAAA,QACN7oB,UAAWA,KAGbp6B,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,EAAG5c,GAAI,GAAIi2B,GAAI,GACrC/iD,EAAAtgB,EAAAugB,cAAC+iD,GAAD,CACCxuC,MAAM,YACNJ,OAAO,UACPsuC,UAAWA,EACXx5D,WAAYA,EACZu1B,KAAMze,EAAAtgB,EAAAugB,cAAA60C,GAAA,QACN1a,UAAWA,OAOVtI,GAAa,SAAAtwC,GAAA,IAAG6uC,EAAH7uC,EAAG6uC,WAAYnnC,EAAf1H,EAAe0H,WAAf,MAAiC,CACnDqlC,WAAY,cACZjC,eAAgB,OAChB8F,cAAe,kBAAMpyB,EAAAtgB,EAAAugB,cAACuwB,GAAD,CAAYC,aAAcJ,KAC/C/F,YAAa,GACb+H,oBAAqB,SAAC5G,EAAc6G,EAAaC,GAChD,IAAMC,EAAkB/G,EAAaxxB,KAAK5Y,IAAI,SAAAoU,GAAC,OAAIA,EAAEg9B,YAC/CiwB,EAAYpwB,EAChBzkC,OAAO,SAAAkE,GAAI,OAAIygC,EAAgBpgC,SAASL,EAAK0gC,YAAc1gC,EAAKkI,KAAK,KACrE5Y,IAAI,SAAA0Q,GAAI,OAAIA,EAAKkI,KAAK,KAElBipD,EAAa,CAClBh6D,aACAw5D,YACAtoB,UAAW/J,GAGZ,OAAOrwB,EAAAtgB,EAAAugB,cAACkjD,GAAoBD,MAsCfE,OAlCf,SAAAzhE,GAA4E,IAArCuH,EAAqCvH,EAArCuH,WAAYm6D,EAAyB1hE,EAAzB0hE,SAAUC,EAAe3hE,EAAf2hE,YACpDt5C,EAAWuL,YAAYj0B,MAAvB0oB,OADmEy7B,EAGhBlwB,YAC1D,SAAAv1B,GAAK,OAAIioB,YAA6BjoB,EAAOkJ,KADtCqf,EAHmEk9B,EAGnEl9B,UAAWE,EAHwDg9B,EAGxDh9B,eAAgBC,EAHwC+8B,EAGxC/8B,YAAaF,EAH2Bi9B,EAG3Bj9B,OAI1C+6C,EAAeF,GAAYC,EAP0CzwB,EASrChD,GAAa,CAClDngB,SAAUnI,IACVuoB,aAAc5mC,EACd6mC,WAAY,kBACXqB,GAAQ,CAAEpnB,SAAQzB,YAAWE,iBAAgBC,cAAaF,cAJpDvO,EATmE44B,EASnE54B,KAAM6xB,EAT6D+G,EAS7D/G,QAASuE,EAToDwC,EASpDxC,WAOjBtE,EAAU+F,GAAW,CAAEzB,aAAYnnC,aAAYm6D,WAAUC,gBAE/D,OACCtjD,EAAAtgB,EAAAugB,cAAC4rB,GAAD,CACC/9B,MAAOnN,aAAE,4BACTsZ,KAAMA,EACN6xB,QAASA,EACTC,QAASA,EACTQ,cAAeg3B,EACf92B,gBAAc,8HC/QJvJ,GAAS,SAAAtJ,GACrB,MAAO,CACN6E,KAAM,CACLC,OAAQ,OACRC,MAAO,QAER6kC,cAAe,CACdC,aAAY,gBAAAn6D,OAAkBswB,EAAMK,QAAQ9S,KAAKgT,OAElDupC,aAAc,CACbD,aAAY,eAAAn6D,OAAiBswB,EAAMK,QAAQ9S,KAAKgT,OAEjDwpC,eAAgB,CACfhlC,MAAO,OACPge,UAAW,QAEZinB,SAAU,CACT1f,WAAY,SACZlC,UAAW,aAEZ6hB,UAAW,CACVC,eAAgB,UAEjBC,GAAI,CACHplC,MAAO,QACPoL,UAAW,QACXnM,QAAS,OAEVgO,SAAU,CACTjN,MAAO,UCKJlC,GAAY9C,aAAWuJ,IAEtB,SAAS8gC,KAAmC,IAAbt+D,GAAa/F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,IAAT+F,KAC/B01B,EAAUqB,KACRzS,EAAWuL,YAAYj0B,MAAvB0oB,OACFnjB,EAAe0uB,YAAYhyB,KAE3B0gE,EAAiB1uC,YAAY,SAAAv1B,GAAK,OACvC4oB,aAA6C5oB,EAAO0F,KANH+/C,EASPlwB,YAAY,SAAAv1B,GAAK,OAC3DmpB,aAA+CnpB,EAAO0F,KAD/C0jB,EAT0Cq8B,EAS1Cr8B,aAAczP,EAT4B8rC,EAS5B9rC,iBAGhBuqD,GAAQ96C,EAAezP,EAAoB,KAAMoC,QAAQ,GAZbooD,EAcO5uC,YACxDtuB,MADOm9D,EAd0CD,EAc1CC,YAAaC,EAd6BF,EAc7BE,cAAetjE,EAdcojE,EAcdpjE,QAASujE,EAdKH,EAcLG,QAG7C,OACCtkD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,EAAG+9B,GAAI,EAAGvlB,UAAW8E,KAAWvE,EAAQyoC,WAAYllC,MAAO,GAClE3e,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,EAAGtkB,QAAQ,OAAOqB,eAAe,gBAAgBwX,SAAS,QAClE30B,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,KAAKib,cAAY,GAArC,GAAA9lC,OAA0C3I,aAAE,cAAe,CAC1D+J,KAAM,CAAC05D,GAAe,WAEvBpkD,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,KAAKib,cAAY,GAArC,GAAA9lC,OAA0C3I,aAAE,qBAAsB,CACjE+J,KAAM,CAACw6B,aAAcr+B,QAEtBmZ,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,QAAQib,cAAY,GAAxC,GAAA9lC,OAA6C3I,aAAE,aAAc,CAC5D+J,KAAM,CAELw6B,aAAa,GAAA57B,OACT6gB,wBAGS,IAFX+B,KAAOxmB,GACLymB,QAAQ,SACRo4C,QACDC,eALUl7D,OAKMzC,EAAa49D,OAAO,IACtC,WAKJzkD,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAACsc,GAAD,CAAa1B,UAAW8E,KAAWvE,EAAQqD,UAG7Cze,EAAAtgB,EAAAugB,cAAAib,EAAA,QACAlb,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCulB,GAAI,EACJzkB,QAAQ,OACRqB,eAAe,gBACfssB,aAAa,SACbvsB,cAAc,MACdyX,SAAS,QAET30B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKc,QAAQ,OAAOoB,cAAc,UACjCld,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aACnBnU,EAAAtgB,EAAAugB,cAAA,cAAStf,aAAE,6BAEZqf,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASiwC,GAC7BpkD,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASkwC,GAC7BrkD,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASpzB,GAC7Bif,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASmwC,IAE9BtkD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASxzB,aAAE,yBAC/Bqf,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aACnBnU,EAAAtgB,EAAAugB,cAAA,cACEyxB,aACAxlB,KAAOxmB,GACL8mB,MAAM,SACNjQ,OAAO,mBAMdyD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,EAAGtkB,QAAQ,OAAOoB,cAAc,SAASlB,WAAW,YAC5Dhc,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,KAAKsW,MAAM,SAC7B9pC,aAAE,mBAEJqf,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,KAAKsW,MAAM,SAC9BzqB,EAAAtgB,EAAAugB,cAAA,iBAAA3W,OAAYg5D,aACXl5C,EAAarN,QAAQ,IADtB,KAAAzS,OAEK0gB,OAKRhK,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKc,QAAQ,OAAOqB,eAAe,iBAClCnd,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,MAAMxzB,aAAE,gCAG9Bqf,EAAAtgB,EAAAugB,cAAAib,EAAA,GAASL,UAAW8E,KAAWvE,EAAQooC,iBACvCxjD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,EAAGzkB,QAAQ,OAAOqB,eAAe,iBACzCnd,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAClBxzB,aAAE,kBAAmB,CACrB+J,KAAM,CACLwhB,KAAOxmB,GACLymB,QAAQ,SACR5P,OAAO,cACT2P,KAAOxmB,GACL8mB,MAAM,SACNjQ,OAAO,mBAKbyD,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,YAAYsW,MAAM,SACrCzqB,EAAAtgB,EAAAugB,cAAA,iBAAA3W,OAAYg5D,aACXl5C,EAAarN,QAAQ,IADtB,KAAAzS,OAEK0gB,OAIRhK,EAAAtgB,EAAAugB,cAAAib,EAAA,QACAlb,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,EAAGzkB,QAAQ,OAAOqB,eAAe,iBACzCnd,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASxzB,aAAE,uBAEhCqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aACnBnU,EAAAtgB,EAAAugB,cAAA,cAASqiD,aAAuB3oD,OAInCqG,EAAAtgB,EAAAugB,cAAAib,EAAA,QACAlb,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,EAAGzkB,QAAQ,OAAOqB,eAAe,iBACzCnd,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASxzB,aAAE,mBAEhCqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aACnBnU,EAAAtgB,EAAAugB,cAAA,iBAAA3W,OAAYo7D,SAASR,GAAOA,EAAMrvD,OAAO,GAAGkH,QAAQ,QAIvDiE,EAAAtgB,EAAAugB,cAAAib,EAAA,QACC+oC,EAAerkE,OAAS,EACxBogB,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,EAAGzkB,QAAQ,OAAOqB,eAAe,iBACzCnd,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,KAAKib,cAAY,GACnCzuC,aAAE,iCAINqf,EAAAtgB,EAAAugB,cAAAib,EAAA,GAASL,UAAW8E,KAAWvE,EAAQooC,iBACvCxjD,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAA0kD,GAAA,OACC3kD,EAAAtgB,EAAAugB,cAAA2kD,GAAA,GAAOnwC,KAAK,SACXzU,EAAAtgB,EAAAugB,cAAA4kD,GAAA,OACC7kD,EAAAtgB,EAAAugB,cAAA6kD,GAAA,GAAUjqC,UAAW8E,KAAWvE,EAAQooC,gBACvCxjD,EAAAtgB,EAAAugB,cAAA8kD,GAAA,GAAWt6B,MAAM,QAChBzqB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aACnBnU,EAAAtgB,EAAAugB,cAAA,cAAStf,aAAE,iBAGbqf,EAAAtgB,EAAAugB,cAAA8kD,GAAA,GAAWt6B,MAAM,SAChBzqB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aACnBnU,EAAAtgB,EAAAugB,cAAA,cAAStf,aAAE,wBAGbqf,EAAAtgB,EAAAugB,cAAA8kD,GAAA,GAAWt6B,MAAM,SAChBzqB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aACnBnU,EAAAtgB,EAAAugB,cAAA,iBAAA3W,OAAY3I,aAAE,kBAAd,MAAA2I,OAAoC0gB,EAApC,UAKJhK,EAAAtgB,EAAAugB,cAAA+kD,GAAA,OACEf,EACClxD,KAAK,SAACrT,EAAGI,GAAJ,OAAUJ,EAAEgG,KAAO5F,EAAE4F,OAC1BrE,IAAI,SAACqC,EAAO+R,GAAR,OACJuK,EAAAtgB,EAAAugB,cAAA6kD,GAAA,GAAUt/C,IAAK/P,GACduK,EAAAtgB,EAAAugB,cAAA8kD,GAAA,GAAWt6B,MAAM,QAChBzqB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAApB,GAAA7qB,OACKqoC,aAAejuC,EAAMgC,KAAM,iBAGjCsa,EAAAtgB,EAAAugB,cAAA8kD,GAAA,GAAWt6B,MAAM,SAChBzqB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAClBmuC,aAAuB5+D,EAAMoI,eAGhCkU,EAAAtgB,EAAAugB,cAAA8kD,GAAA,GAAWt6B,MAAM,SAChBzqB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAApB,GAAA7qB,OACKg5D,aACH5+D,EAAMkY,QAAQG,QAAQ,eAYjCiE,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCulB,GAAI,EACJzkB,QAAQ,OACRqB,eAAe,eACfssB,aAAa,UAEbzpC,EAAAtgB,EAAAugB,cAAAqf,GAAA,OAAa3+B,aAAE,0ECvOdskE,GAAWvuC,GAAoBF,KAE/B0uC,GAAO,SAAA3kE,GAAA,IAAGk0B,EAAHl0B,EAAGk0B,KAAH,OACZzU,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAIpY,GACdzU,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYnL,QAAO,IAAA7qB,OAAM,EAAImrB,GAAQsM,MAAO,CAAE4gB,cAAe,cAC3DhhD,aAAE,UAKAwkE,oLACI,IAAAztC,EAQJpF,KAAKH,MANRiJ,EAFO1D,EAEP0D,QACAttB,EAHO4pB,EAGP5pB,MACAs3D,EAJO1tC,EAIP0tC,SACAC,EALO3tC,EAKP2tC,QACAC,EANO5tC,EAMP4tC,SACAC,EAPO7tC,EAOP6tC,eAED,OACCvlD,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQsO,SACvB1pB,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAMC,WAAS,EAACrnB,QAAS,EAAGgnC,QAAQ,SAASxpC,WAAW,UACvDhc,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYzE,UAAWO,EAAQrF,KAAM5B,QAAQ,KAAKsW,MAAM,UACtD9pC,aAAEmN,GAAS,QAGZs3D,GACAplD,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYzE,UAAWO,EAAQrF,KAAM5B,QAAQ,aAC3CxzB,aAAEykE,KAKNplD,EAAAtgB,EAAAugB,cAACwlD,GAAD,CAAMhxC,KAAM,IACZzU,EAAAtgB,EAAAugB,cAACwlD,GAAD,CAAMhxC,KAAM,IACZzU,EAAAtgB,EAAAugB,cAACwlD,GAAD,CAAMhxC,KAAM,IACZzU,EAAAtgB,EAAAugB,cAACwlD,GAAD,CAAMhxC,KAAM,IACZzU,EAAAtgB,EAAAugB,cAACwlD,GAAD,CAAMhxC,KAAM,IACZzU,EAAAtgB,EAAAugB,cAACwlD,GAAD,CAAMhxC,KAAM,IACZzU,EAAAtgB,EAAAugB,cAACwlD,GAAD,CAAMhxC,KAAM,IAEZzU,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,EAAG6c,GAAI,GACrB1pC,EAAAtgB,EAAAugB,cAACw5B,GAAD,CAAKvoB,IAAKw0C,KAAW5kC,IAAK,KAAMjG,UAAWO,EAAQuO,OAEpD3pB,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,EAAG6c,GAAI,GACrB1pC,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYqG,QAAM,EAAC9K,UAAWO,EAAQrF,KAAM5B,QAAQ,SAClDgpB,OAAO7vC,SAAS6S,MAElBH,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYqG,QAAM,EAAC9K,UAAWO,EAAQrF,KAAM5B,QAAQ,SAClDgpB,OAAO7vC,SAAS6S,MAElBH,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYqG,QAAM,EAAC9K,UAAWO,EAAQrF,KAAM5B,QAAQ,SAClDgpB,OAAO7vC,SAAS6S,MAElBH,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYqG,QAAM,EAAC9K,UAAWO,EAAQrF,KAAM5B,QAAQ,SAClDgpB,OAAO7vC,SAAS6S,OAGnBH,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,EAAG6c,GAAI,GACrB1pC,EAAAtgB,EAAAugB,cAACw5B,GAAD,CAAKvoB,IAAKy0C,KAAW7kC,IAAK,MAAOjG,UAAWO,EAAQuO,OAErD3pB,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,EAAG6c,GAAI,IACnB6b,GACDvlD,EAAAtgB,EAAAugB,cAACglD,GAAD,CACC9wC,QAAQ,YACR7Q,GAAIgiD,GAAY,IAChB7wC,KAAK,QACLD,MAAM,WAEL7zB,aAAE0kE,GAAW,sBA7DK5sC,IAAM7D,WA+ElB2N,MAAUuH,aCvGH,SAAAlQ,GACrB,IAAM4E,EAAU5E,EAAM4E,QAAQ,GAC9B,MAAO,CACNkL,QAAS,CACRlF,OAAM,GAAAl7B,OAAe,EAAVk1B,EAAL,WACNqD,SAAU,KAEX8H,IAAK,CACJ9H,SAAU,OACVnD,OAAQ,UD8FcoL,CAAmBq7B,KEtEtC1oC,GAAY9C,aAAWuJ,IAEtB,SAAS0iC,KAAwC,IAAnB18D,GAAmBvJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,IAAfuJ,WAC9BkyB,EAAUqB,KADuCnH,EAE1BC,YAAYj0B,MAAjC0oB,EAF+CsL,EAE/CtL,OAAQ/G,EAFuCqS,EAEvCrS,SACVpc,EAAe0uB,YAAYhyB,KAC3BsiE,EAAoBtwC,YAAY,SAAAv1B,GAAK,OAC1CunB,YAA6BvnB,EAAOkJ,KAE/ByC,EAAW4pB,YAAY,SAAAv1B,GAAK,OACjC0L,YAAgC1L,EAAOkJ,KAReu8C,EAUElwB,YACxDtuB,MADOm9D,EAV+C3e,EAU/C2e,YAAaC,EAVkC5e,EAUlC4e,cAAetjE,EAVmB0kD,EAUnB1kD,QAASujE,EAVU7e,EAUV6e,QAGvC3gD,GAAqBhY,EAASmR,QAAU,IAAI6G,kBAC5CO,EACiB,WAAtBP,GAAwD,cAAtBA,EACnC,OAAKhY,EAASwX,MAASxX,EAASm6D,QAY3B5hD,EAEJlE,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,EAAG+9B,GAAI,EAAGvlB,UAAW8E,KAAWvE,EAAQyoC,WAAYllC,MAAO,GAClE3e,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,EAAGtkB,QAAQ,OAAOqB,eAAe,gBAAgBwX,SAAS,QAClE30B,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,KAAKib,cAAY,GAArC,GAAA9lC,OAA0C3I,aAAE,cAAe,CAC1D+J,KAAM,CAAC05D,GAAe,WAEvBpkD,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,KAAKib,cAAY,GAArC,GAAA9lC,OAA0C3I,aAAE,qBAAsB,CACjE+J,KAAM,CAACw6B,aAAcr+B,QAEtBmZ,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,QAAQib,cAAY,GAAxC,GAAA9lC,OAA6C3I,aAAE,aAAc,CAC5D+J,KAAM,CAACw6B,aAAch8B,EAAY,WAGnC8W,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAACsc,GAAD,CAAa1B,UAAW8E,KAAWvE,EAAQqD,UAG7Cze,EAAAtgB,EAAAugB,cAAAib,EAAA,QACAlb,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCulB,GAAI,EACJzkB,QAAQ,OACRqB,eAAe,gBACfssB,aAAa,SACbvsB,cAAc,MACdyX,SAAS,QAET30B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKc,QAAQ,OAAOoB,cAAc,UACjCld,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aACnBnU,EAAAtgB,EAAAugB,cAAA,cAAStf,aAAE,6BAEZqf,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASiwC,GAC7BpkD,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASkwC,GAC7BrkD,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASpzB,GAC7Bif,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASmwC,IAE9BtkD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASxzB,aAAE,yBAC/Bqf,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aAEnBnU,EAAAtgB,EAAAugB,cAAA,cAAS0xB,aAAehmC,EAASkE,wBAGnCmQ,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASxzB,aAAE,wBAC/Bqf,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aACnBnU,EAAAtgB,EAAAugB,cAAA,cAASilB,aAAch8B,OAI1B8W,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,EAAGtkB,QAAQ,OAAOoB,cAAc,SAASlB,WAAW,YAC5Dhc,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,KAAKsW,MAAM,SAC7B9pC,aAAE,iBAEJqf,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,KAAKsW,MAAM,SAC9BzqB,EAAAtgB,EAAAugB,cAAA,iBAAA3W,OAAYg5D,cAEVztD,OAAOiP,uBAAYnY,EAASkY,eAAiB,IAAKZ,KACjDtX,EAASmR,OAAOiH,sBAAwB,MACxChI,QAAQ,IAJX,KAAAzS,OAKK0gB,OAKRhK,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKc,QAAQ,OAAOqB,eAAe,iBAClCnd,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,MAAMxzB,aAAE,gCAG9Bqf,EAAAtgB,EAAAugB,cAAAib,EAAA,GAASL,UAAW8E,KAAWvE,EAAQooC,iBACvCxjD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,EAAGzkB,QAAQ,OAAOqB,eAAe,iBACzCnd,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAClBxzB,aAAE,kBAAmB,CACrB+J,KAAM,CACLinC,aAAehmC,EAASiR,YACxB+0B,aAAehmC,EAASkE,0BAK5BmQ,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aACnBnU,EAAAtgB,EAAAugB,cAAA,iBAAA3W,OACCqC,EAASmR,OAAOiH,uBAAyBpY,EAASkY,cAC/C2tB,mBACA38B,OACCiP,uBAAYnY,EAASkY,eAAiB,MAAMZ,KAE3CtX,EAASmR,OAAOiH,sBAAwB,MAE1ClP,OAAO,GAAGkH,QAAQ,GARtB,KAAAzS,OASI0gB,OAIPhK,EAAAtgB,EAAAugB,cAAAib,EAAA,QACAlb,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,EAAGzkB,QAAQ,OAAOqB,eAAe,iBACzCnd,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASxzB,aAAE,uBAEhCqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aACnBnU,EAAAtgB,EAAAugB,cAAA,cAASqiD,aAAuB32D,EAASG,iBAI5CkU,EAAAtgB,EAAAugB,cAAAib,EAAA,QACAlb,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,EAAGzkB,QAAQ,OAAOqB,eAAe,iBACzCnd,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASxzB,aAAE,kBAEhCqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aACnBnU,EAAAtgB,EAAAugB,cAAA,cAASqiD,aAAuB32D,EAASC,YAI5CoU,EAAAtgB,EAAAugB,cAAAib,EAAA,QAEC2qC,EAAkBjmE,OAAS,GAC3BogB,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,EAAGzkB,QAAQ,OAAOqB,eAAe,iBACzCnd,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,KAAKib,cAAY,GACnCzuC,aAAE,iCAINqf,EAAAtgB,EAAAugB,cAAAib,EAAA,GAASL,UAAW8E,KAAWvE,EAAQooC,iBACvCxjD,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAA0kD,GAAA,OACC3kD,EAAAtgB,EAAAugB,cAAA2kD,GAAA,GAAOnwC,KAAK,SACXzU,EAAAtgB,EAAAugB,cAAA4kD,GAAA,OACC7kD,EAAAtgB,EAAAugB,cAAA6kD,GAAA,GAAUjqC,UAAW8E,KAAWvE,EAAQooC,gBACvCxjD,EAAAtgB,EAAAugB,cAAA8kD,GAAA,GAAWt6B,MAAM,QAChBzqB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aACnBnU,EAAAtgB,EAAAugB,cAAA,cAAStf,aAAE,cAGbqf,EAAAtgB,EAAAugB,cAAA8kD,GAAA,GAAWt6B,MAAM,SAChBzqB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aACnBnU,EAAAtgB,EAAAugB,cAAA,cAAStf,aAAE,wBAGbqf,EAAAtgB,EAAAugB,cAAA8kD,GAAA,GAAWt6B,MAAM,SAChBzqB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aACnBnU,EAAAtgB,EAAAugB,cAAA,cAAStf,aAAE,yBAGbqf,EAAAtgB,EAAAugB,cAAA8kD,GAAA,GAAWt6B,MAAM,SAChBzqB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,aACnBnU,EAAAtgB,EAAAugB,cAAA,iBAAA3W,OACK3I,aAAE,oBADP,MAAA2I,OAC+B0gB,EAD/B,UAOJhK,EAAAtgB,EAAAugB,cAAA+kD,GAAA,OACEa,EACC9yD,KAAK,SAACrT,EAAGI,GAAJ,OAAUA,EAAE6kB,SAAWjlB,EAAEilB,WAC9BtjB,IAAI,SAACqC,EAAO+R,GAAR,OACJuK,EAAAtgB,EAAAugB,cAAA6kD,GAAA,GAAUt/C,IAAK/P,GACduK,EAAAtgB,EAAAugB,cAAA8kD,GAAA,GACCt6B,MAAM,OACN5P,UAAW8E,KAAWvE,EAAQwoC,WAE9B5jD,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAClBzwB,EAAMskB,UAGThI,EAAAtgB,EAAAugB,cAAA8kD,GAAA,OACC/kD,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYmL,MAAM,QAAQtW,QAAQ,SAChCmuC,aAAuB5+D,EAAMoI,eAGhCkU,EAAAtgB,EAAAugB,cAAA8kD,GAAA,OACC/kD,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYmL,MAAM,QAAQtW,QAAQ,SAChCmuC,aAAuB5+D,EAAMkI,UAGhCoU,EAAAtgB,EAAAugB,cAAA8kD,GAAA,OACC/kD,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYmL,MAAM,QAAQtW,QAAQ,SAAlC,GAAA7qB,OACKg5D,aACH5+D,EAAMihB,SAAS5I,QAAQ,gBA5LX,KAVxBiE,EAAAtgB,EAAAugB,cAAC8lD,GAAD,CACCj4D,MAAOnN,aAAE,wBACTykE,SAAUzkE,aAAE,0BAA2B,CACtC+J,KAAM,CAAC,WAAYxB,KAEpBo8D,SAAQ,wBACRD,QAAQ,oBCoBGW,OAzEf,SAAwB7zC,GAAO,IAAAmD,EAC2BC,YACxDtuB,MADOm9D,EADsB9uC,EACtB8uC,YAAaC,EADS/uC,EACT+uC,cAAetjE,EADNu0B,EACMv0B,QAASujE,EADfhvC,EACegvC,QAI7C,OACCtkD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAY8P,cAAY,EAACjb,QAAQ,MAC/BxzB,aAAE,4BAGLqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIk2B,GAAI,GACtB/iD,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACC98B,MAAO3Z,aAAE,gBACTiU,MAAOwvD,GAAe,GACtB/oC,SAAU,SAAA7B,GAAE,OACXC,YAAQwsC,aAAkB,CAAE7B,YAAa5qC,EAAG+G,OAAO3rB,UAEpDu+B,WAAS,EACThf,QAAQ,cAIVnU,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIk2B,GAAI,GACtB/iD,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACC98B,MAAO3Z,aAAE,mBACTiU,MAAOyvD,GAAiB,GACxBhpC,SAAU,SAAA7B,GAAE,OACXC,YAAQwsC,aAAkB,CAAE5B,cAAe7qC,EAAG+G,OAAO3rB,UAEtDu+B,WAAS,EACThf,QAAQ,cAIVnU,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIk2B,GAAI,GACtB/iD,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACC98B,MAAO3Z,aAAE,WACTiU,MAAO7T,GAAW,GAClBs6B,SAAU,SAAA7B,GAAE,OACXC,YAAQwsC,aAAkB,CAAEllE,QAASy4B,EAAG+G,OAAO3rB,UAEhDu+B,WAAS,EACThf,QAAQ,cAIVnU,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIk2B,GAAI,GACtB/iD,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACC98B,MAAO3Z,aAAE,WACTiU,MAAO0vD,GAAW,GAClBjpC,SAAU,SAAA7B,GAAE,OACXC,YAAQwsC,aAAkB,CAAE3B,QAAS9qC,EAAG+G,OAAO3rB,UAEhDu+B,WAAS,EACThf,QAAQ,cAIVnU,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIk2B,GAAI,GACrB5wC,EAAM8C,eC/CRwH,GAAY9C,aAAWuJ,IAE7B,SAAS7C,GAAQlO,GAChB,IAAMiJ,EAAUqB,KACVypC,EAAUC,mBACVlgE,EAAOsvB,YAAYxvB,MAEjBmI,EAAWk4D,cAAXl4D,OACFm4D,EAAoB9wC,YAAY,SAAAv1B,GAAK,OAAIqI,aAAwBrI,KACjEsmE,EAA0Bn0C,EAAMjkB,QAAUA,EAC1Cq4D,EAAqBD,EACxB,CAACA,GACDD,EAGK7gE,EAAY+vB,YAAY,SAAAv1B,GAAK,OACpCmE,YAAgCnE,KADzBwF,QAbe0vB,EAgBWC,mBAAS,IAhBpBC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAgBhBpJ,EAhBgBsJ,EAAA,GAgBLoxC,EAhBKpxC,EAAA,GAAA6a,EAiBO9a,mBAAS,IAjBhB+a,EAAArvC,OAAAsS,EAAA,EAAAtS,CAAAovC,EAAA,GAiBhBlkB,EAjBgBmkB,EAAA,GAiBPu2B,EAjBOv2B,EAAA,GAAA4K,EAkBG3lB,oBAAS,GAlBZ4lB,EAAAl6C,OAAAsS,EAAA,EAAAtS,CAAAi6C,EAAA,GAkBhB/4B,EAlBgBg5B,EAAA,GAkBT2rB,EAlBS3rB,EAAA,GAmBjB4rB,EAAQpxC,YAAY,kBAAMlJ,aAAoBP,EAAWC,KACzD66C,EACL96C,GAAaC,GAAyB,KAAdD,GAAgC,KAAZC,EACvC86C,EACL96C,GAAWD,GAA2B,KAAdA,GAAgC,KAAZC,EACvC+6C,GAAkBF,GAAqB7kD,EACvCglD,GAAgBF,GAAmB9kD,EACnCilD,EAA0BzxC,YAAY,kBAC3ClJ,aAAoB7mB,GAAS,IAAI+J,MAAO03D,QAAQ,IAAI,KAE/CC,EAAwB3xC,YAAY,kBACzClJ,aAAoB7mB,GAAS,IAAI+J,MAAO03D,QAAQ,IAAI,KAG/CE,EAAmC5xC,YAAY,SAAAv1B,GAAK,OACzDmH,aAAkBnH,EAAOonE,QAlCHnsB,EAsCS9lB,mBAASoxC,GAAsB,IAtCxCrrB,EAAAr6C,OAAAsS,EAAA,EAAAtS,CAAAo6C,EAAA,GAsChB/+B,EAtCgBg/B,EAAA,GAsCNmsB,EAtCMnsB,EAAA,GAwCvBhlB,oBAAU,WACT,OAAO,WACNuD,YAAQ6tC,iBAEP,IAUH,MAAa,eAATrhE,GAA6C,IAApBiW,EAAStc,OAC9BogB,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CAAUryB,GAAI,oCAErBtD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKc,QAAQ,OAAOqB,eAAe,SAASssB,aAAa,UACxDzpC,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCc,QAAQ,OACRqB,eAAe,SACfssB,aAAa,SACbvsB,cAAc,SACdkC,SAAU,EACV0C,SAAS,UAET9hB,EAAAtgB,EAAAugB,cAACsnD,GAAD,KACCvnD,EAAAtgB,EAAAugB,cAACunD,GAAA9nE,EAAD,CACC+nE,UACC,yGAEDC,QAAS,kBACR1nD,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACCwa,UAAWhxB,EAAAtgB,EAAAugB,cAAAgxB,GAAA,QACX9c,QAAQ,YACRM,KAAK,QACLD,MAAM,UACNrS,SACU,cAATlc,IACqB,IAApBiW,EAAStc,QAAgBunE,GAE3Bh0B,WAAS,GAER,GAAA7pC,OAACg9D,EAEI3lE,aAAE,iBADFA,aAAE,yBAIVwjC,QAAS,kBAAM+hC,EAAQ/9C,YAGf,cAATliB,GACA+Z,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACC3Y,EAAG,EACHyZ,QAAQ,OACRqB,eAAe,gBACfnB,WAAW,aACXkB,cAAc,MACdyX,SAAS,QAET30B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK/O,EAAG,EAAG6P,QAAQ,OAAOC,KAAM,GAC/B/b,EAAAtgB,EAAAugB,cAAC8lC,GAAD,CACC5xB,QAAQ,WACRgf,WAAS,EACThyB,OAAMtgB,OAAAgE,GAAA,EAAAhE,CAAMmmE,GACZ3rC,SAAU,SAAAjxB,GACTs8D,GAAS,GACTF,EAAap8D,IAEd4nB,MAAO80C,EACP5vB,WACC4vB,GAAgC,KAAdh7C,EACfnrB,aAAE,oBACFA,aAAE,qBAENiU,MAAOkX,EACPxR,MAAO3Z,aAAE,gBACT0d,KAAK,YACLomC,OAAO,oBACPM,cAAa4iB,GAAA,KAGf3nD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK/O,EAAG,EAAG6P,QAAQ,OAAOC,KAAM,GAC/B/b,EAAAtgB,EAAAugB,cAAC8lC,GAAD,CACC5xB,QAAQ,WACRgf,WAAS,EACThyB,OAAMtgB,OAAAgE,GAAA,EAAAhE,CAAMqmE,GACZ7rC,SAAU,SAAAjxB,GACTs8D,GAAS,GACTD,EAAWr8D,IAEZ4nB,MAAO+0C,EACP7vB,WACC6vB,GAA4B,KAAZh7C,EACbprB,aAAE,kBACFA,aAAE,mBAENiU,MAAOmX,EACPzR,MAAO3Z,aAAE,cACT0d,KAAK,UACLomC,OAAO,kBACPM,cAAa4iB,GAAA,KAGf3nD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK/O,EAAG,EAAG6P,QAAQ,OAAOC,KAAM,GAC/B/b,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACCuK,MAAO,CAAEgJ,UAAW,OACpBoJ,WAAS,EACT1e,KAAK,QACLuc,UAAWhxB,EAAAtgB,EAAAugB,cAAA2nD,GAAA,QACXzzC,QAAQ,YACRK,MAAM,UACNE,QAAS,kBA1GhBgyC,GAAS,QACLE,GAAqBC,IACxBptC,YAAQouC,YAAe/7C,EAAWC,IAClCs7C,EAAYV,EAAMtlE,IAAI,SAAA0Q,GAAI,OAAIA,EAAK6C,aAyG5BjU,aAAE,mBAILwmE,GACAnnD,EAAAtgB,EAAAugB,cAAA0b,GAAA,GAAgBd,UAAWO,EAAQwQ,YAItC5rB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,EAAGzkB,QAAQ,OAAOE,WAAW,SAASmB,eAAe,UAC5DjhB,EAAStc,OAAS,GAClBogB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK2D,MAAO,GACX3e,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKxC,IAAK0tC,GACRhqD,EAAS7a,IAAI,SAAA0Q,GAAI,MACR,eAAT9L,EACC+Z,EAAAtgB,EAAAugB,cAAC2lD,GAAD,CAAoB18D,WAAY6I,EAAMyT,IAAKzT,KAEN,IAArCo1D,GACCnnD,EAAAtgB,EAAAugB,cAAC+jD,GAAD,CAAqBt+D,KAAMqM,EAAMyT,IAAKzT,YC7LlD,IAAMq/B,GAAU,SAAA7wC,GAAA,IAAGunE,EAAHvnE,EAAGunE,aAAc99C,EAAjBzpB,EAAiBypB,OAAjB,OACf,CACC3L,KAAM,cACN/D,MAAO3Z,aAAE,gBACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNo5B,UAAU,IAGZ,CACC9tB,KAAM,cACN/D,MAAO3Z,aAAE,qBACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACN0+B,cAAe,OACfH,iBAAkB,SAAAxlC,GAAW,OAAI0lC,mBAAQ1lC,GAAe,MAG1D,CACCuS,KAAM,qBACN/D,MAAO3Z,aAAE,cACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,SAAA5rB,GAAkB,SAAApc,OAChCoc,EAAmB3J,QAAQ,GADK,SAItC,CACCsC,KAAM,SACN/D,MAAO3Z,aAAE,gBACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,SAAAxlC,GAAW,OAAI0lC,mBAAQ1lC,GAAe,MAG1D,CACCuS,KAAM,MACN/D,MAAO3Z,aAAE,aACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,SAAAttB,GAAG,SAAA1a,OAAO0a,EAAIjI,QAAQ,GAAnB,UA7CRzS,OAAAzI,OAAAgE,GAAA,EAAAhE,CAgDXinE,EACD,CACA,CACCzpD,KAAM,aACN/D,MAAO3Z,aAAE,qBACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,SAAA3rB,GAAU,SAAArc,OACxBkoC,mBAAQ7rB,EAAW5J,QAAQ,IADH,KAAAzS,OACU0gB,MAGxC,CACC3L,KAAM,WACN/D,MAAO3Z,aAAE,kBACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,SAAA3sB,GAAQ,SAAArb,OACtBkoC,mBAAQ7sB,EAAS5I,QAAQ,IADH,KAAAzS,OACU0gB,OAItC,MAGE8nB,GAAa,SAAA7wC,GAAA,IAAGovC,EAAHpvC,EAAGovC,WAAH,MAA+B,CACjD9B,WAAY,cACZ4xB,aAFkBl/D,EAAe05B,SAGjC2P,YAAa,GACb8H,cAAe,kBAAMpyB,EAAAtgB,EAAAugB,cAACuwB,GAAD,CAAYC,aAAcJ,OAqCjC03B,OAlCf,SAA6B51C,GAAO,IAC3BzC,EAA0CyC,EAA1CzC,SAD2B2wC,EACeluC,EAAhCwI,gBADiB,IAAA0lC,EACN,GADMA,EACFyH,EAAiB31C,EAAjB21C,aACzB99C,EAAWuL,YAAYj0B,MAAvB0oB,OAF2B6oB,EAIGhD,GAAa,CAClDngB,WACAqgB,WAAY,kBACXqB,GAAQ,CACPpnB,SACA89C,oBALK7tD,EAJ2B44B,EAI3B54B,KAAM6xB,EAJqB+G,EAIrB/G,QAASuE,EAJYwC,EAIZxC,WASjBtE,EAAU+F,GAAW,CAAEnX,WAAU0V,eACvC,OACCrwB,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAC4rB,GAADhrC,OAAA03B,OAAA,CACCte,KAAMA,EACN6xB,QAASA,EACTC,QAASA,EACTG,UAAQ,EACRG,SAAO,EACP27B,eAAa,GACT71C,mCCrCO81C,GAjEE,SAAA1nE,GAAkB,IAAfmvB,EAAenvB,EAAfmvB,SAAe4F,EACcC,YAAY7F,GAApD/I,EAD0B2O,EAC1B3O,UAAWJ,EADe+O,EACf/O,WAAYE,EADG6O,EACH7O,aADGyO,EAGJC,mBAAS,IAHLC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAG3BiP,EAH2B/O,EAAA,GAGlB8yC,EAHkB9yC,EAAA,GAKlC,OACCpV,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOrK,UAAW,EAAG9X,QAAQ,WAAW89B,QAAM,GAC7CjyC,EAAAtgB,EAAAugB,cAACkoD,GAAA,cAAD,CACCC,WAAS,YACTC,WAAW,cACXC,iBAAkB,CACjBC,MAAO,KAER5pC,MAAO,IACPD,OAAQ,KAER1e,EAAAtgB,EAAAugB,cAACkoD,GAAA,cAAD,CAAeK,QAAS,GACvBxoD,EAAAtgB,EAAAugB,cAACkoD,GAAA,YAAD,CAAaM,UAAW9hD,GACtB,SAAA1lB,GAA0B,IAAAynE,EAAAznE,EAAvB0nE,YACH,YAD0B,IAAAD,EAAT,GAASA,GACPrnE,IAAI,SAAAunE,GAAO,IAAAC,EACUD,EAAI3hD,WAAnCF,EADqB8hD,EACrB9hD,gBAAiBG,EADI2hD,EACJ3hD,UACzB,OACClH,EAAAtgB,EAAAugB,cAACkoD,GAAA,UAAD,CACC3iD,IAAKojD,EAAIE,OACTL,UAAWG,EACXG,aAAc,WACbb,EAAWnhD,IAEZiiD,aAAc,WACbd,EAAW,KAEZ1sC,KAAMtU,EACN6Z,MAAO,CACNqD,QAAS,CACR6kC,OAAQ,QACRC,QAAS,QAEVxuC,MAAO,CACNc,KAAMjV,EACN2iD,QAAS,QAEVC,QAAS,CACR3tC,KAAM/U,EACNyiD,QAAS,mBAWf/kC,GACFnkB,EAAAtgB,EAAAugB,cAACmpD,GAAA,EAAD,CAAc1hB,QAAQ,EAAO99B,gBAAiBy/C,MAC5C/2D,MAAM8xC,QAAQjgB,GACZA,EAAQ9iC,IAAI,SAACsM,EAAG8H,GAAJ,OAAUuK,EAAAtgB,EAAAugB,cAAA,OAAKuF,IAAK/P,GAAI9H,KACpCw2B,mCC3BKmlC,GAAqB1mB,GApCX,SAAAriD,GAMjB,IALLg3C,EAKKh3C,EALLg3C,YACAgyB,EAIKhpE,EAJLgpE,UACAC,EAGKjpE,EAHLipE,UACAt7D,EAEK3N,EAFL2N,OACGikB,EACEtxB,OAAAmZ,EAAA,EAAAnZ,CAAAN,EAAA,kDACL,OACCyf,EAAAtgB,EAAAugB,cAACq9C,GAADz8D,OAAA03B,OAAA,GACKpG,EADL,CAECsuB,eAAgB,kBAAMhnB,YAAQ8jC,YAAa,WAAYrvD,KACvDA,OAAQA,EACRsvD,eAAc,mBAAAl0D,OAAqB4E,EAArB,KACdjD,SAAS,WACTwzC,QAAO,mBAAAn1C,OAAqB4E,GAC5BkgC,MAAO,CACN,CACCtgC,MAAO07D,GAAa,oBACpBjqC,UAAW29B,GACXte,iBAAkB,KAClBF,WAAY,SAAAvsB,GAAK,OAChBsH,YACCgwC,aAA4B5oE,OAAAC,GAAA,EAAAD,CAAA,CAC3B02C,cACArpC,SACAq7D,aACGp3C,QAKR8rC,UAAW5vD,iBCoCRouB,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtC8P,QAAS,CACRlF,OAAQ5K,EAAM4E,QAAQ,GACtBnB,SAAU,YAEXkT,eAAgB,CACflT,SAAU,WACV3J,IAAK,MACL4J,KAAM,MACN+F,WAAY,GACZgB,YAAa,OAIFqlC,GAAgB,SAAAtoE,GAKvB,IAJL2Q,EAIK3Q,EAJL2Q,KACAuxD,EAGKliE,EAHLkiE,YACAD,EAEKjiE,EAFLiiE,SACGjtB,EACEv1C,OAAAmZ,EAAA,EAAAnZ,CAAAO,EAAA,mCACCg6B,EAAUqB,KAEf3uB,EAQGiE,EARHjE,MAHIsV,EAWDrR,EAPHvG,eAJI,IAAA4X,EAIM,GAJNA,EAKJosC,EAMGz9C,EANHy9C,cACA3rC,EAKG9R,EALH8R,cACAyrC,EAIGv9C,EAJHu9C,WACArrC,EAGGlS,EAHHkS,iBACA0lD,EAEG53D,EAFH43D,iBATIC,IAWD73D,EADH3E,eAE2C,IAAIC,QAAU,IAAlDI,gBAZH,IAAAm8D,EAYc,GAZdA,EAAAC,EAawBvoE,eAArB2hB,EAbH4mD,EAaG5mD,SAAU+G,EAbb6/C,EAaa7/C,OACHstB,EAAalB,EAAUh5B,YAA9BtP,MAdHnM,EAgB2B6J,EAAQ,IAAM,GAAtCiY,EAhBH9hB,EAgBG8hB,SAAUC,EAhBb/hB,EAgBa+hB,UACZ5G,EAAS/K,EAAK+K,QAAU,GACtB6G,EAA6C7G,EAA7C6G,kBAAmBI,EAA0BjH,EAA1BiH,sBACrB+lD,GAAiE,MAApD/3D,EAAK4hD,gBAAkB,IAAI,IAAM,IAAIoW,WAClDC,EAAcF,EAAW,SAAW,QAEpCva,EAAwBC,GAAiB,CAAEO,WAAY,IACvDka,EAAS1a,EAAsB3/C,KAAOqU,GAAoB,EAC1DimD,EAAS3a,EAAsB96C,KAAOk1D,GAAoB,EAE1DQ,EAAe50C,YAAY,SAAAv1B,GAAK,OACrCmH,aAAkBnH,EAAD,oBAAAsJ,OAA4ByI,EAAK3K,OAG7CgjE,EAAe70C,YAAY,SAAAv1B,GAAK,OACrCmH,aAAkBnH,EAAD,oBAAAsJ,OAA4ByI,EAAK3K,OAGnD,OACC4Y,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,EAAGi2B,GAAI,GACrC/iD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK2b,GAAI,GACR32B,EAAAtgB,EAAAugB,cAACoqD,GAAD,CAAW5mD,SAAUA,EAAUC,UAAWA,KAE1C2/C,GACArjD,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,EAAGxC,WAAW,UACtChc,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,EAAG5c,GAAI,GAAIi2B,GAAI,GACrC/iD,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQsO,SACvB1pB,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACCrC,QAAQ,YACRK,MAAM,YACNC,KAAK,QACL0e,WAAS,EACTze,QAAS,WAAM,IAAA41C,EAhHM,SAAA/pE,GAKxB,IAJLsjB,EAIKtjB,EAJLsjB,cACAyrC,EAGK/uD,EAHL+uD,WACAvrC,EAEKxjB,EAFLwjB,sBACAd,EACK1iB,EADL0iB,SAEMsnD,EAAUpgD,wBAAatG,GACvB2mD,EAAYlb,EAAW7uD,OAC5B,SAACgqE,EAADxpE,GAAA,IAAQypE,EAARzpE,EAAQypE,IAAR,OAAkBD,EAAIh4D,IAAI0X,wBAAaugD,KACvCvgD,wBAAa,IAGRwgD,EACLH,EACEI,IAAIzgD,wBAAa,MACjB0gD,IAAIN,GACJO,WAAa,IAEVC,EAAsBR,EAAQS,IACnCT,EACEK,IAAI7mD,GACJ8mD,IAAI1gD,wBAAa,MACjBkB,YAGG4/C,EAAYT,EAAUQ,IAC3BR,EACEI,IAAI7mD,GACJ8mD,IAAI1gD,wBAAa,MACjBkB,YAYH,MAAO,CAAE6/C,QATOP,EAAY5uD,QAAQ,GAAK,IASvBovD,MARJpyD,aAAkBkyD,EAAWhoD,GAAU,EAAO,GAQnCmoD,eAPFryD,aACtBgyD,EACA9nD,GACA,EACA,IA+EYooD,CAAsB,CACzBxnD,gBACAyrC,aACAvrC,0BANAmnD,EAFaZ,EAEbY,QACAC,EAHab,EAGba,MACAC,EAJad,EAIbc,eAMD3xC,YACC8gB,YACC,kBAAM9gB,YAAQ6xC,YAAc,CAAE3/D,SAAUoG,MACxC,KACA,CACCikB,aAAcr1B,aAAE,gCAChBs1B,YAAat1B,aAAE,UACfmN,MAAOnN,aAAE,+BAAgC,CACxC+J,KAAM,CAACoD,KAERioB,KAAMp1B,aAAE,8BAA+B,CACtC+J,KAAM,CAACwgE,EAASC,EAAOC,EAAgBphD,SAM5C7H,SAAUgoD,IAAiB7G,EAC3BV,QAAS5iD,EAAAtgB,EAAAugB,cAAAsrD,GAAA,SAER5qE,aAAE,uBAEHwpE,GACAnqD,EAAAtgB,EAAAugB,cAAAkc,GAAA,GACC1H,KAAM,GACNoG,UAAWO,EAAQmV,mBAMvBvwB,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,EAAG5c,GAAI,GAAIi2B,GAAI,GACrC/iD,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQsO,SACvB1pB,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACCrC,QAAQ,YACRK,MAAM,YACNC,KAAK,QACL0e,WAAS,EACTze,QAAS,WACR+E,YACC8gB,YACC,kBACC9gB,YAAQ+xC,YAAsB,CAAE7/D,SAAUoG,MAC3C,KACA,CACCikB,aAAcr1B,aAAC,GAAA2I,OACX0gE,EADW,4BAGf/zC,YAAat1B,aAAE,UACfmN,MAAOnN,aAAC,GAAA2I,OAAI0gE,EAAJ,2BAA0C,CACjDt/D,KAAM,CAACoD,KAERioB,KAAMp1B,aAAC,GAAA2I,OAAI0gE,EAAJ,0BAAyC,CAC/Ct/D,KAAM,SAMXyX,SAAUioD,IAAiB9G,EAC3BV,QAASkH,EAAW9pD,EAAAtgB,EAAAugB,cAAAwrD,GAAA,QAAgBzrD,EAAAtgB,EAAAugB,cAAAyrD,GAAA,SAEnC/qE,aAAC,OAAA2I,OAAQ0gE,EAAR,eAEFI,GACApqD,EAAAtgB,EAAAugB,cAAAkc,GAAA,GACC1H,KAAM,GACNoG,UAAWO,EAAQmV,qBAS1BvwB,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,EAAGi2B,GAAI,GACrC/iD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,GACRvgC,EAAAtgB,EAAAugB,cAAC0rD,GAAD9qE,OAAA03B,OAAA,CAAWzqB,MAAOA,EAAOwpC,SAAUA,GAAclB,KAElDp2B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,GACRvgC,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACCha,KAAM,KACNpiC,MAAO7C,EAAK3K,GACZkT,MAAO3Z,aAAE,KAAM,CAAE6J,QAAQ,OAI3BwV,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,GAC9B9sB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK2b,GAAI,GACR32B,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACCha,KAAM,oBACNpiC,MAAOjU,aAAEgjB,EAAmB,CAAE/E,aAAa,IAC3CtE,MAAO3Z,aAAE,SAAU,CAAE6J,QAAQ,IAC7B2sC,WAAY,CACXW,aACC93B,EAAAtgB,EAAAugB,cAAA83B,GAAA,GAAgB1a,SAAS,OACvBsP,GAAehpB,EAAmB7G,EAAOuB,KAAM,WAMrD2B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK2b,GAAI,GACR32B,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACCha,KAAM,UACNpiC,MAAO+8B,aAAe5/B,EAAKvM,SAC3B8U,MAAO3Z,aAAE,UAAW,CAAE6J,QAAQ,OAGhCwV,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK2b,GAAI,GACR32B,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACCha,KAAM,aACNpiC,MAAO+8B,aAAe5/B,EAAK6K,YAC3BtC,MAAO3Z,aAAE,aAAc,CAAE6J,QAAQ,OAGnCwV,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK2b,GAAI,GACR32B,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACCha,KAAM,sBACNpiC,MAAO+8B,aAAe5/B,EAAKlC,qBAC3ByK,MAAO3Z,aAAE,sBAAuB,CAAE6J,QAAQ,QAW7CwV,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,GAC9B9sB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK2b,GAAI,GACR32B,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACCha,KAAM,wBACNpiC,QAASmP,GAAyB,GAAK,IAAIhI,QAAQ,GACnDzB,MAAO3Z,aAAE,mBAAoB,CAAE+J,KAAM,CAAC,UAGxCsV,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK2b,GAAI,GACR32B,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACCha,KAAM,gBACNpiC,MACCmE,aAAkBhH,EAAK8R,cAAeZ,GAAY,IAAM+G,EAEzD1P,MAAO3Z,aAAE,gBAAiB,CAAE6J,QAAQ,OAGtCwV,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK2b,GAAI,GACR32B,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACCha,KAAM,UACNpiC,MACCmE,aACCoR,wBAAa8/C,GAAU,GAAGW,IAAI,KAC9B3nD,GACA,GAED,IACA+G,EAED1P,MAAO3Z,aAAE,cAGXqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK2b,GAAI,GACR32B,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACCha,KAAM,UACNpiC,MACCmE,aACCoR,wBAAa+/C,GAAU,GAAGU,IAAI,KAC9B3nD,GACA,GAED,IACA+G,EAED1P,MAAO3Z,aAAE,gBAKbqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,EAAGH,GAAI,GACfpgC,EAAAtgB,EAAAugB,cAAAib,EAAA,SAEDlb,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,EAAG6Q,GAAI,GAC/BrvB,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,GAAIi2B,GAAI,GACtC/iD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK2b,GAAI,GACR32B,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACCha,KAAM,qCACNpiC,MAAOjU,aAAE8M,EAASgnD,oBAAsB,MAAQ,MAChDn6C,MAAO3Z,aAAE,yCAGXqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK2b,GAAI,GACR32B,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACCha,KAAM,kCACNpiC,MAAOjU,aAAE8M,EAASinD,wBAA0B,MAAQ,MACpDp6C,MAAO3Z,aAAE,uCAIZqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,GAAIi2B,GAAI,GACtC/iD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK2b,GAAI,GACR32B,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACCha,KAAM,qCACNpiC,MAAOjU,aAAE8M,EAASknD,0BAA4B,MAAQ,MACtDr6C,MAAO3Z,aAAE,yCAGXqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,GACP8iB,GACArjD,EAAAtgB,EAAAugB,cAACqpD,GAAD,CACCn2B,WAAS,EACT1xB,cAAY,EACZ8nD,UAAU,mBACVC,UAAU,yBACVpmB,SAAS,yBACTt1C,MAAM,+BACNI,OAAQ6D,EAAK3K,GACb+a,UAAWmhD,EACXxgB,sBAAoB,EACpBvL,YAAanB,EAAUmB,YACvB/iB,MAAM,YACNL,QAAQ,YACRO,QAAS,kBACR+E,YACCmyC,YAAqC,CACpC19D,OAAQ6D,EAAK3K,GACbgtC,WAAYgC,EAAUhC,uBCvW5B3X,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtC/Z,QAAS,CACR4tB,QAAS,CACRzM,YAAapH,EAAM4E,QAAQ,GAC3BD,aAAc3E,EAAM4E,QAAQ,QAKlBqtC,GAAmB,SAAAtrE,GAK1B,IAJLwR,EAIKxR,EAJLwR,KACAsxD,EAGK9iE,EAHL8iE,SACAC,EAEK/iE,EAFL+iE,YACGltB,EACEv1C,OAAAmZ,EAAA,EAAAnZ,CAAAN,EAAA,mCACC66B,EAAUqB,KACVjV,EACL+N,YAAY,SAAAv1B,GAAK,OAAImN,YAA2BnN,EAAO+R,EAAK3K,OAAQ,GAE/DgG,EACL2E,EAAK3E,eAAiBvM,OAAOub,KAAKrK,EAAK3E,cAAcC,QAAQzN,OAC1DmS,EAAK3E,cACLoa,EAEJ,OACCxH,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAC20C,GAAD,CAAiBxnD,cAAeA,EAAcC,UAE/C2S,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKH,UAAWO,EAAQvb,SACtBwjD,GACArjD,EAAAtgB,EAAAugB,cAACqpD,GAAD,CACClmB,SAAS,kBACTt1C,MAAM,2BACNI,OAAQ6D,EAAK3K,GACb+a,UAAWmhD,EACXxgB,sBAAoB,EACpBvL,YAAanB,EAAUmB,YACvB/iB,MAAM,YACNL,QAAQ,YACRO,QAAS,kBACR+E,YACCmyC,YAAqC,CACpC19D,OAAQ6D,EAAK3K,GACbgtC,WAAYgC,EAAUhC,iBAO3Bp0B,EAAAtgB,EAAAugB,cAACghD,GAAD,CACC7d,SAAS,6BACT5uB,MAAM,UACNL,QAAQ,YACRmvB,aAAc,kBACb7pB,YACCizB,aAAkB,gBAAD7rD,OAAAC,GAAA,EAAAD,CAAA,GACbuM,QAMP4S,EAAAtgB,EAAAugB,cAAC6rD,GAAD,CACC1oB,SAAS,gBACTt1C,MAAM,sBACN0mB,MAAM,UACNL,QAAQ,YACRmvB,aAAc,kBACb7pB,YACCi/B,aAAkB,KAAM,KAAP73D,OAAAC,GAAA,EAAAD,CAAA,GACbuM,UAOT4S,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAA+xC,GAAA,GAAgBC,QAAQ,EAAM99B,QAAQ,YACrCnU,EAAAtgB,EAAAugB,cAAAiyC,GAAA,GACCC,WAAYnyC,EAAAtgB,EAAAugB,cAAAmyC,GAAA,QACZxwB,gBAAc,0BACdx6B,GAAG,0BAEH4Y,EAAAtgB,EAAAugB,cAAAqf,GAAA,OAAa3+B,aAAE,qBAEhBqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,EAAGmS,MAAM,oBAAoByG,QAAQ,aAC5Cjb,EAAAtgB,EAAAugB,cAAA,WACEX,KAAKC,UACLxN,EAAK4hD,gBAAkB5hD,EAAKoR,KAAKwwC,gBAAkB,GACnD,KACA,iDCvGR,IAAMoY,GAAgB,CACrBvwC,MAAM,EACNwwC,YAAa,EACbliD,YAAa,EACbmiD,YAAa,EACbC,eAAgB,IAIXC,GAAO,SAIPC,GAAe,SAAA7rE,GAAA,IAAA8rE,EAAA9rE,EAAG+Z,aAAH,IAAA+xD,EAAW,GAAXA,EAAe5hC,EAAflqC,EAAekqC,MAAf,OACpBnwB,EAAMnX,MAAM,KAAK9B,IAAI,SAACsM,EAAG4c,EAAO7pB,GAAX,OACpBsf,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAY9Z,IAAK7X,EAAI4c,EAAOgV,UAAU,MAAMpL,QAAQ,UAAUsW,MAAOA,GACnE98B,MAIS2+D,GAAmB,SAAArrE,GAqB1B,IApBLsrE,EAoBKtrE,EApBLsrE,MACAC,EAmBKvrE,EAnBLurE,MACAC,EAkBKxrE,EAlBLwrE,MACAC,EAiBKzrE,EAjBLyrE,MAiBKC,EAAA1rE,EAhBL2rE,mBAgBK,IAAAD,KAAAE,EAAA5rE,EAfL6rE,mBAeK,IAAAD,KAAAE,EAAA9rE,EAdL+rE,mBAcK,IAAAD,KAAAE,EAAAhsE,EAbLisE,mBAaK,IAAAD,KAZLE,EAYKlsE,EAZLksE,WAYKC,EAAAnsE,EAXLosE,qBAWK,IAAAD,EAXW,GAWXA,EAAAE,EAAArsE,EAVL8qC,eAUK,IAAAuhC,EAVK,GAULA,EAAAC,EAAAtsE,EATLusE,cASK,IAAAD,EATI,YASJA,EAAAE,EAAAxsE,EARLysE,eAQK,IAAAD,EARK,QAQLA,EAAAE,EAAA1sE,EAPL2sE,eAOK,IAAAD,EAPK,QAOLA,EAAAE,EAAA5sE,EANL6sE,eAMK,IAAAD,EANK,QAMLA,EAAAE,EAAA9sE,EALL+sE,eAKK,IAAAD,EALK,QAKLA,EAAAE,EAAAhtE,EAJLitE,eAIK,IAAAD,EAJK9M,GAAc,GAInB8M,EAAAE,EAAAltE,EAHLmtE,eAGK,IAAAD,EAHKhN,GAAc,GAGnBgN,EAAAE,EAAAptE,EAFLqtE,eAEK,IAAAD,EAFKlN,GAAc,GAEnBkN,EAAAE,EAAAttE,EADLutE,eACK,IAAAD,EADKpN,GAAc,GACnBoN,EACGvkD,EAAWuL,YAAYj0B,MAAvB0oB,OACFykD,EAAWl5C,YAAYjZ,KACvBoyD,ECvDA,WACN,IAAMC,EAA8B,kBAAXxxB,OAEzB,SAASyxB,IACR,MAAO,CACNjwC,MAAOgwC,EAAYxxB,OAAOC,WAAa,EACvC1e,OAAQiwC,EAAYxxB,OAAO0xB,YAAc,GANZ,IAAA35C,EAUKC,mBAASy5C,GAVdx5C,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAUxBw5C,EAVwBt5C,EAAA,GAUZ05C,EAVY15C,EAAA,GA2B/B,OAfAc,oBAAU,WACT,IAAKy4C,EACJ,OAAO,EAGR,SAASI,IACRD,EAAcF,KAKf,OAFAzxB,OAAO6xB,iBAAiB,SAAUD,GAE3B,kBAAM5xB,OAAO8xB,oBAAoB,SAAUF,KAEhD,CAACJ,IAEGD,ED4BYQ,GACbC,EAAcx/D,KAAKC,IACxBD,KAAK8E,IAAI9E,KAAKs3C,OAAOynB,EAAWhwC,QAAU,GAAK,KAAM,KACrD,KAGDxI,oBAAU,WACTk5C,KAAMC,cAAcC,SAAS,CAC5BC,WAAY,SAASC,GACpB,IAAMC,EAAMD,EAAMC,IAClB,GAAID,EAAME,QAAQC,SAAWH,EAAME,QAAQC,QAAQ/vE,OAAQ,CAC1D,IACM+N,EADc6hE,EAAMI,WAAWF,QAAQC,QAAQ,GAC/BE,kBAAkBliE,EAClCmiE,EAAgBN,EAAMO,OAAO,YACnC,GAAID,EAAe,CAClB,IAAME,EAAOF,EAAcp8C,IACrBu8C,EAAUH,EAActyC,OAC9BiyC,EAAIp7B,OACJo7B,EAAIS,YACJT,EAAIU,OAAOxiE,EAAGqiE,GACdP,EAAIW,OAAOziE,EAAGsiE,GACdR,EAAIY,UAtDS,EAuDbZ,EAAIa,YAAY,CAxDJ,MAyDZb,EAAIc,YAAcC,KAClBf,EAAIxG,SACJwG,EAAIgB,iBAOT,IAAM9pD,EAAY,CACjBnM,OAAQ2yD,EAAaZ,EAAM/xD,OAAS6yD,EACpC3yD,SAAU,CAAC7Z,OAAAC,GAAA,EAAAD,CAAA,GAENkrE,GAFK,CAGRniD,gBAAiB43C,IAAOC,qBAAqByM,EAAS,GACtD74B,YAAamsB,IAAOC,qBAAqByM,EAAS,GAClD5zD,MAAOozD,EACPzzD,KAAMkzD,EAAaZ,EAAM7xD,SAAW,GACpCg2D,QAAS,WACTC,QAAS/D,IARD/rE,OAAAC,GAAA,EAAAD,CAAA,GAWLkrE,GAXK,CAYRniD,gBAAiB43C,IAAOC,qBAAqB2M,EAAS,GACtD/4B,YAAamsB,IAAOC,qBAAqB2M,EAAS,GAClD9zD,MAAOszD,EACP3zD,KAAMkzD,EAAaX,EAAM9xD,SAAW,GACpCg2D,QAAS,WACTC,QAAS7D,IAjBDjsE,OAAAC,GAAA,EAAAD,CAAA,GAoBLkrE,GApBK,CAqBRniD,gBAAiB43C,IAAOC,qBAAqB6M,EAAS,GACtDj5B,YAAamsB,IAAOC,qBAAqB6M,EAAS,GAClDh0D,MAAOwzD,EACP7zD,KAAMkzD,EAAaV,EAAM/xD,SAAW,GACpCg2D,QAAS,WACTC,QAAS3D,IA1BDnsE,OAAAC,GAAA,EAAAD,CAAA,GA6BLkrE,GA7BK,CA8BRniD,gBAAiB43C,IAAOC,qBAAqB+M,EAAS,GACtDn5B,YAAamsB,IAAOC,qBAAqB+M,EAAS,GAClDoC,qBAAsBpC,EACtBl0D,MAAO0zD,EACP/zD,KAAMkzD,EAAaT,EAAMhyD,SAAW,GACpCg2D,QAAS,WACTC,QAASzD,MAKN2D,EAAe,CACpB5O,WAAW,EACXv1B,YAAY,EACZokC,OAAQ,CACPlzC,QAAS,CACRlK,IAAK,KAGPq9C,WAAY,CACXC,YAAa,CACZ,CACChoE,KAAM,OACNs4D,KAAM,WACN2P,QAAS,WAETr8D,MAAO65D,EACPp5B,YAAag0B,KACbv/C,YA7Hc,EA8HdonD,WAAY,CA/HC,KAgIb52D,MAAO,CACN6pB,QAASxjC,aAAE,OACXwwE,SAAS,EACT9zC,SAAU,SACVkkC,aAAc,EACd33C,gBAAiBy/C,KACjBvqC,SAxIoB,KAyIpBsyC,WAAYjF,OAMhBkF,qBAAqB,EACrBvjE,MAAO,CACNguB,SAAS,EACT/F,KAAMgW,EAAQj+B,OAEfk0D,OAAQ,CACPlmC,SAAS,GAEVulC,SAAU,CACTz3C,gBAAiB,QACjB03C,KAAM,QACNgQ,WAAW,EACXC,cA3JuB,KA4JvBC,aA5JuB,KA6JvBC,eAAgBtF,GAChBuF,gBAAiBvF,GACjBwF,SAAU,EACVC,SAAU,EACVrQ,aAAc,EACdsQ,YAAa,EACbC,UAAW,EACXC,eAAe,EACf7P,UAAW,CACV5nD,MAAO,SAAS3Z,EAAGqvB,GAElB,IAAIw9C,EAASx9C,EAAEtV,SAAS/Z,EAAEwhE,cAAc7nD,MACpC03D,EACHxE,IAAWM,EAAX,GAAAxkE,OACM2oE,aAA4BtxE,EAAEqxE,QADpC,KAAA1oE,OAC+C0gB,GAC5CioD,aAA4BtxE,EAAEqxE,QAClC,SAAA1oE,OAAUkkE,EAAV,MAAAlkE,OAAqB0oE,MAIxBt3C,MAAO,CACN4mC,KAAM,QACNgQ,WAAW,GAGZvB,OAAQ,CACPmC,MAAO,CACN,CACCp2C,SAAS,EACTq2C,UAAW,CACVr2C,SAAS,EACTs2C,YAAY,EACZC,WAAW,GAEZC,WAAY,CACXx2C,SAAS,EACTy2C,YAAa5xE,aAAE6sE,GAAU,aACzB1uC,SAlMoB,KAmMpBsyC,WAAYjF,IAEbqG,MAAO,CACNC,UAAU,EACVC,cAAe,EACfC,YAAa,EACb/0C,SAAU,GACVkB,SA1MoB,KA2MpBsyC,WAAYjF,GACZyG,SAAU,iBAAM,OAInBC,MAAO,CACN,CAEC/2C,SAAS,EACTq2C,UAAW,CACVr2C,SAAS,EACTs2C,YAAY,EACZC,WAAW,GAEZG,MAAO,CACNM,aAAa,EACbJ,cAAe,GACfK,SAAU,EACVnjE,IAAK,EACL6E,IAAK,GACLm+D,SAAU,iBAAM,KAEjBN,WAAY,CACXx2C,SAAS,GAEV9yB,KAAM,SACN5B,GAAI,2BAEL,CACC00B,SAAS,EACT02C,MAAO,CACNM,aAAa,GAEd9pE,KAAM,SACN5B,GAAI,YAEL,CACC4B,KAAM,SACN8yB,SAAS,EACT10B,GAAI,WACJorE,MAAO,CACNM,aAAa,IAGf,CACC9pE,KAAM,SACN8yB,SAAS,EACT10B,GAAI,WACJorE,MAAO,CACNM,aAAa,EAIbJ,cAAe,IAGjB,CACC1pE,KAAM,SACN8yB,SAAS,EACT10B,GAAI,WACJorE,MAAO,CACNM,aAAa,OAOlB,OACC9yD,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK0D,OAAQywC,GACZnvD,EAAAtgB,EAAAugB,cAAC8hD,GAAA,EAAD,CACCrjC,OAAQywC,EACRl1D,KAAM0M,EACNolB,QAAS8kC,EACTmC,QAAS,CAACC,OAGZjzD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCc,QAAQ,OACRoB,cAAc,MACdC,eAAe,gBACfnB,WAAW,SACXk3C,GAAI,EACJv+B,SAAS,QAET30B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKoE,SAAS,KACbpf,EAAAtgB,EAAAugB,cAACkzD,GAAD,CAAc74D,MAAO+yD,EAAc,GAAI5iC,MAAM,UAG9CzqB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKoE,SAAS,KACbpf,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYC,UAAU,MAAMpL,QAAQ,UAAUsW,MAAM,UAClD9pC,aAAE6sE,GAAU,eAIfxtD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKoE,SAAS,KACbpf,EAAAtgB,EAAAugB,cAACkzD,GAAD,CAAc74D,MAAO+yD,EAAc,GAAI5iC,MAAM,wBE7QtBX,aAAW,SAAAlQ,GAAK,MAAK,CAChD81C,QAAS,CACR9lD,gBAAiBgQ,EAAMK,QAAQM,OAAOC,MACtChG,MAAO,sBACP4+C,UAAWx5C,EAAMy5C,QAAQ,GACzBv0C,SAAU,MALgBgL,CAOxB4G,MAPG,IASD4iC,GAAiB35C,aAAW,SAAAC,GAAK,MAAK,CAC3C81C,QAAS,CACRryC,SAAU,WACVzT,gBAAiBgQ,EAAMK,QAAQM,OAAOg5C,OAEvCC,QA7DuBh/C,EA6DAoF,EAAMK,QAAQM,OAAOg5C,MA5DrC,CACNE,kCAAmC,CAClC//C,IAAK,EACL4J,KAAM,EACN+F,UAAW,UACX1E,MAAO,MACPD,OAAQ,MACRg1C,YAAa,CACZ5pD,YAAa,gBACburB,YAAW,2BAAA/rC,OAA6BkrB,EAA7B,kBAGbm/C,+BAAgC,CAC/Bn2C,OAAQ,EACRF,KAAM,EACNiB,aAAc,UACdI,MAAO,MACPD,OAAQ,MACRg1C,YAAa,CACZ5pD,YAAa,gBACburB,YAAW,GAAA/rC,OAAKkrB,EAAL,0CAGbo/C,iCAAkC,CACjCt2C,KAAM,EACN+G,WAAY,UACZ3F,OAAQ,MACRC,MAAO,MACP+0C,YAAa,CACZ5pD,YAAa,gBACburB,YAAW,eAAA/rC,OAAiBkrB,EAAjB,8BAGbq/C,gCAAiC,CAChCt2C,MAAO,EACPyD,YAAa,UACbtC,OAAQ,MACRC,MAAO,MACP+0C,YAAa,CACZ5pD,YAAa,gBACburB,YAAW,uCAAA/rC,OAAyCkrB,OAqBvDs/C,MAAO,CACNz2C,SAAU,WACVyB,SAAU,EACV40C,YAAa,CACZvvC,QAAS,KACTK,OAAQ,OACR1I,QAAS,QACT6C,MAAO,EACPD,OAAQ,EACRq1C,YAAa,WAvEhB,IAAwBv/C,IA4EjB,SAASw/C,GAAa7hD,GAAO,IAAA8hD,EACLX,KAAtBQ,EAD2BG,EAC3BH,MAAU14C,EADiBv6B,OAAAmZ,EAAA,EAAAnZ,CAAAozE,EAAA,WAAAC,EAEHz7C,IAAMtD,SAAS,MAFZg/C,EAAAtzE,OAAAsS,EAAA,EAAAtS,CAAAqzE,EAAA,GAE5BE,EAF4BD,EAAA,GAElBE,EAFkBF,EAAA,GAInC,OACCn0D,EAAAtgB,EAAAugB,cAACywB,GAAA,EAAD7vC,OAAA03B,OAAA,CACC6C,QAASA,EACTk5C,YAAa,CACZC,cAAe,CACdC,UAAW,CACVV,MAAO,CACN3C,QAASlvC,QAAQmyC,GACjBK,QAASL,OAKTjiD,EAZL,CAaCrkB,MACCkS,EAAAtgB,EAAAugB,cAACD,EAAAtgB,EAAMugC,SAAP,KACE9N,EAAMrkB,MACPkS,EAAAtgB,EAAAugB,cAAA,QAAM4a,UAAWi5C,EAAOt7C,IAAK67C,QAWPvqC,aAAW,SAAAlQ,GAAK,MAAK,CAC/C81C,QAAS,CACR9lD,gBAAiB,UACjB4K,MAAO,sBACPqN,SAAU,IACV/C,SAAUlF,EAAMmF,WAAWC,QAAQ,IACnC0oB,OAAQ,uBANiB5d,CAQvB4G,MARG,ICxGDjU,GAAY9C,aAAW,SAAAC,GAC5B,MAAO,CACNQ,KAAM,CACLwE,OAAQ,UACRvB,SAAU,WACVzT,gBAAiB,SAAArpB,GAAA,IAAAm0E,EAAAn0E,EAAGo0E,eAAH,IAAAD,EAAa,GAAbA,EAAA,OACf96C,EAAMK,QAAQ06C,IAAY,IAAIx6C,MAAQP,EAAMK,QAAQH,WAAWsK,SACjE5P,MAAO,SAAAvzB,GAAA,IAAA2zE,EAAA3zE,EAAG0zE,eAAH,IAAAC,EAAa,GAAbA,EAAA,OACLh7C,EAAMK,QAAQ06C,IAAY,IAAIj4C,cAC/B9C,EAAMK,QAAQlE,KAAKmE,UAErB26C,SAAU,CACTz1C,SAAU,GAEX01C,SAAU,CACTC,mBAAoB,CACnBn2C,OAAQ,YAGVgN,SAAU,CACTpO,OAAQ,EACRF,KAAM,EACND,SAAU,WACVsB,MAAO,QAERq2C,eAAgB,CACfxgD,MAAOoF,EAAMK,QAAQM,OAAOC,MAC5B6C,SAAU,WACV3J,IAAKkG,EAAM4E,QAAQ,IACnBjB,MAAO3D,EAAM4E,QAAQ,IACrBq6B,QAAS,QAqFGoc,GAhFG,SAAA9iD,GAAS,IAEzBrkB,EASGqkB,EATHrkB,MACAs3D,EAQGjzC,EARHizC,SACA0P,EAOG3iD,EAPH2iD,SACA7/C,EAMG9C,EANH8C,SACAP,EAKGvC,EALHuC,QACAigD,EAIGxiD,EAJHwiD,QACA94C,EAGG1J,EAHH0J,QACAq5C,EAEG/iD,EAFH+iD,QACAC,EACGhjD,EADHgjD,YAGK/5C,EAAUqB,GAAU,CAAEk4C,UAASQ,gBAE/BC,EAAQD,EAAWtjC,GAAA,EAAAwjC,GAAA,EAEzB,OACCr1D,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACC8G,SAAS,SACTzf,EAAG,EACH8R,QAAQ,WACR0G,UAAW8E,KAAWvE,EAAQhB,KAATv5B,OAAA++B,EAAA,EAAA/+B,CAAA,GACnBu6B,EAAQ05C,WAAaA,IAEvBpgD,QAASA,EACToH,QAAQ,OACRoB,cAAc,SACdC,eAAe,SACfssB,aAAa,UACb9U,SAAS,OACTvV,SAAU,GAEVpf,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCc,QAAQ,OACRoB,cAAc,MACdC,eAAe,aACfwX,SAAS,OACT3Y,WAAW,SACX4J,GAAI,GAEHlR,GAAW1U,EAAAtgB,EAAAugB,cAACm1D,EAAD,CAAOv6C,UAAWO,EAAQ45C,eAAgBvgD,KAAK,UAC1D3mB,GACAkS,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,KAAKwR,QAAM,GAC7B73B,IAKHs3D,IACC8P,EACAl1D,EAAAtgB,EAAAugB,cAAC+zD,GAAD,CACClmE,MACCkS,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYC,UAAU,MAAMpL,QAAQ,WAClC+gD,IAIHl1D,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYC,UAAU,OACpB6lC,EADF,IACYplD,EAAAtgB,EAAAugB,cAAA61B,GAAA,GAAM/U,MAAO,CAAEjC,SAAU,QAItC9e,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYC,UAAU,OAAO6lC,IAE9BnwC,GAGD4G,GAAW7b,EAAAtgB,EAAAugB,cAAC0b,GAAA,EAAD,CAAgBd,UAAWO,EAAQwQ,wBCjHrC1I,GAAS,SAAAtJ,GACrB,MAAO,CACNq0B,wBAAyB,CACxBz5B,MAAOoF,EAAMK,QAAQM,OAAOC,OAE7B0zB,wBAAyB,CACxB15B,MAAOoF,EAAMK,QAAQM,OAAOC,MAC5B2zB,mCAAoC,CACnC35B,MAAOoF,EAAMK,QAAQM,OAAOC,QAG9B4zB,+BAAgC,GAChCC,4BAA6B,CAC5BC,UAAW,CAEV5G,OAAQ,gBAET6G,WAAY,CACX7G,OAAQ,iBAGV4tB,WAAY,CACXj4C,SAAU,YAEXk4C,IAAK,CACJ52C,MAAO,GACPD,OAAQ,GACRI,SAAUlF,EAAMmF,WAAWoH,QAAQrH,SACnC0F,OAAQ,QACRhQ,MAAO,WAERghD,mBAAoB,CACnBn4C,SAAU,WACV3J,IAAK,EACL8J,OAAQ,EACRF,KAAM,MACNC,MAAO,MACPmqB,OAAM,aAAAp+C,OAAeswB,EAAMK,QAAQgD,UAAU9C,MAC7Cs7C,aAAc,OAEfC,mBAAoB,CACnBlhD,MAAOoF,EAAMK,QAAQlE,KAAK5T,UAE3BwzD,4BAA6B,CAC5BnhD,MAAO,WAERohD,UAAW,CACV97C,WAAYF,EAAMK,QAAQC,QAAQC,KAClC3F,MAAOoF,EAAMK,QAAQM,OAAOC,OAE7Bq7C,eAAgB,CACfC,OAAQ,YACRC,oBAAqB,MACrBC,uBAAwB,OAEzBC,aAAc,CACbH,OAAQ,YACRI,qBAAsB,MACtBC,wBAAyB,OAE1BC,YAAa,CACZ5hD,MAAO,sBACP6hD,cAAe,UC/CZvpB,GAAmB,SAAAvsD,GAAA,IAAAwsD,EAAAxsD,EACxBk+B,YADwB,IAAAsuB,EACjB/sC,EAAAtgB,EAAAugB,cAAA0nD,GAAA,QADiB5a,EAExBE,EAFwB1sD,EAExB0sD,UACAC,EAHwB3sD,EAGxB2sD,YACAE,EAJwB7sD,EAIxB6sD,YACAD,EALwB5sD,EAKxB4sD,YALwB,OAOxBntC,EAAAtgB,EAAAugB,cAAC83B,GAAA,EAAD,CAAgB1a,SAAS,OACvB+vB,GACAptC,EAAAtgB,EAAAugB,cAACqU,EAAA,EAAD,CAAYE,MAAOy4B,EAAWv4B,QAAS04B,EAAa34B,KAAK,SACxDzU,EAAAtgB,EAAAugB,cAAAotC,GAAA,SAGFrtC,EAAAtgB,EAAAugB,cAACqU,EAAA,EAAD,CAAYE,MAAOy4B,EAAWv4B,QAASw4B,EAAaz4B,KAAK,SACvDgK,GAED0uB,GACAntC,EAAAtgB,EAAAugB,cAACqU,EAAA,EAAD,CAAYE,MAAOy4B,EAAWv4B,QAASy4B,EAAa14B,KAAK,SACxDzU,EAAAtgB,EAAAugB,cAAAqtC,GAAA,WAMSgpB,GAAb,SAAApkD,GAAA,SAAAokD,IAAA,OAAAz1E,OAAAwxB,EAAA,EAAAxxB,CAAAyxB,KAAAgkD,GAAAz1E,OAAA0xB,EAAA,EAAA1xB,CAAAyxB,KAAAzxB,OAAA2xB,EAAA,EAAA3xB,CAAAy1E,GAAA5hE,MAAA4d,KAAA3yB,YAAA,OAAAkB,OAAAmyB,EAAA,EAAAnyB,CAAAy1E,EAAApkD,GAAArxB,OAAAoyB,EAAA,EAAApyB,CAAAy1E,EAAA,EAAA9wD,IAAA,SAAA5Q,MAAA,WACU,IAAA8iB,EAWJpF,KAAKH,MATRq7B,EAFO91B,EAEP81B,aACA/uB,EAHO/G,EAGP+G,KACAwuB,EAJOv1B,EAIPu1B,UAJOspB,EAAA7+C,EAKPyf,kBALO,IAAAo/B,EAKM,GALNA,EAMPrpB,EANOx1B,EAMPw1B,YACAE,EAPO11B,EAOP01B,YACAD,EAROz1B,EAQPy1B,YACAM,EATO/1B,EASP+1B,YACG1zC,EAVIlZ,OAAAmZ,EAAA,EAAAnZ,CAAA62B,EAAA,0GAYR,OACC1X,EAAAtgB,EAAAugB,cAACu2D,GAAA,EAAD31E,OAAA03B,OAAA,CACC4e,WAAUt2C,OAAAC,GAAA,EAAAD,CAAA,GACNs2C,EADM,CAETh1B,SAAUpI,EAAKoI,SACf21B,aAAc0V,EACbxtC,EAAAtgB,EAAAugB,cAACw2D,GAAD,CACCh4C,KAAMA,EACNwuB,UAAWA,EACXC,YAAaA,EACbE,YAAaA,EACbD,YAAaA,IAEX,KACJY,eAAgBN,EACfztC,EAAAtgB,EAAAugB,cAAC83B,GAAA,EAAD,CAAgB1a,SAAS,SACxBrd,EAAAtgB,EAAAugB,cAACqU,EAAA,EAAD,CAAYE,MAAOy4B,EAAWv4B,QAAS+4B,EAAah5B,KAAK,SACxDzU,EAAAtgB,EAAAugB,cAAA+tC,GAAA,UAGC,QAEDj0C,QAnCRu8D,EAAA,CAAgC1hD,aA6E1B8hD,IAF4B5sC,aAAW5G,GAAX4G,CAhCT,SAAA7oC,GAMnB,IALLm6B,EAKKn6B,EALLm6B,QACAoyB,EAIKvsD,EAJLusD,aACA/uB,EAGKx9B,EAHLw9B,KAGKivB,EAAAzsD,EAFLk2C,kBAEK,IAAAuW,EAFQ,GAERA,EADF3zC,EACElZ,OAAAmZ,EAAA,EAAAnZ,CAAAI,EAAA,gDACL,OACC+e,EAAAtgB,EAAAugB,cAAC02D,GAAD91E,OAAA03B,OAAA,CACCm2B,gBAAiB,CAChBtzB,QAAS,CACRhB,KAAMgB,EAAQ8yB,yBAEfS,iBAAkB,CACjBv0B,KAAMgB,EAAQ8yB,wBACdU,QAASxzB,EAAQgzB,iCAGnBjX,WAAUt2C,OAAAC,GAAA,EAAAD,CAAA,GACNs2C,EADM,CAETh1B,SAAUpI,EAAKoI,SACfiZ,QAAS,CACRhB,KAAMgB,EAAQ6yB,wBACdY,UAAWzzB,EAAQizB,6BAEpBvW,aAAc0V,EAAextC,EAAAtgB,EAAAugB,cAACw2D,GAAD,CAAkBh4C,KAAMA,IAAW,QAE7D1kB,MAOa,SAAArU,GAAI,OAAID,KAAUmxE,QAAQlxE,EAAMD,KAAUC,UA6EvD,IAAMmxE,GAAmB/sC,aAAW5G,GAAX4G,CA3EhC,SAAA1oC,GAA8D,IAA5Bg6B,EAA4Bh6B,EAA5Bg6B,QAAS07C,EAAmB11E,EAAnB01E,OAAW/8D,EAAQlZ,OAAAmZ,EAAA,EAAAnZ,CAAAO,EAAA,sBAiDzD6b,EAAUxX,KAAUC,OAExB,OAAQoxE,GACP,IAAK,OACJ75D,EAAUxX,KAAU4K,QAAQ5K,KAAUC,QAAS,GAC/C,MACD,IAAK,QACJuX,EAAUxX,KAAU4K,QAAQ5K,KAAU+K,UAAU/K,KAAUC,QAAS,GAAI,GAOzE,OACCsa,EAAAtgB,EAAAugB,cAAC02D,GAAD91E,OAAA03B,OAAA,CACCje,MAAM,cACNy8D,UAjE2B,SAACrxE,EAAMsxE,EAAcC,GAAsB,IAAAzc,EAAA0c,EACnEC,EAAYC,aAAiB1xE,GAC7B2xE,EAAoBD,aAAiBJ,GAEnCntE,EAAQpE,KAAUqE,WAAWutE,GAC/BttE,EAAMtE,KAAUC,KAAKmE,GAEzB,OAAQitE,GACP,IAAK,OACJ/sE,EAAMtE,KAAUqE,WAAWrE,KAAU4K,QAAQxG,EAAO,IACpDoT,EAAUxX,KAAU4K,QAAQ5K,KAAUC,QAAS,GAC/C,MACD,IAAK,QACJqE,EAAMtE,KAAUqE,WACfrE,KAAU4K,QAAQ5K,KAAU+K,UAAU3G,EAAO,IAAK,IAEnDoT,EAAUxX,KAAU4K,QAAQ5K,KAAU+K,UAAU/K,KAAUC,OAAQ,GAAI,GAOxE,IAAM4xE,EAAe7xE,KAAU8xE,iBAAiBJ,EAAW,CAAEttE,QAAOE,QAC9DytE,EAAa/xE,KAAUgyE,UAAUN,EAAWttE,GAC5C6tE,EAAYjyE,KAAUgyE,UAAUN,EAAWptE,GAE3C4tE,EAAmBjd,cAAIF,EAAA,GAAA35D,OAAA++B,EAAA,EAAA/+B,CAAA25D,EAC3Bp/B,EAAQw6C,UAAY0B,GADOz2E,OAAA++B,EAAA,EAAA/+B,CAAA25D,EAE3Bp/B,EAAQy6C,eAAiB2B,GAFE32E,OAAA++B,EAAA,EAAA/+B,CAAA25D,EAG3Bp/B,EAAQ66C,aAAeyB,GAHIld,IAMvBod,EAAeld,aAAKt/B,EAAQm6C,KAAT2B,EAAA,GAAAr2E,OAAA++B,EAAA,EAAA/+B,CAAAq2E,EACvB97C,EAAQs6C,oBAAsBuB,GADPp2E,OAAA++B,EAAA,EAAA/+B,CAAAq2E,EAEvB97C,EAAQu6C,6BAA+BsB,GAAqBK,GAFrCz2E,OAAA++B,EAAA,EAAA/+B,CAAAq2E,EAGvB97C,EAAQg7C,YAAcM,GAAYS,IAHXD,IAMzB,OACCl3D,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAW88C,GACf33D,EAAAtgB,EAAAugB,cAACqU,EAAA,EAAD,CAAYuG,UAAW+8C,GACtB53D,EAAAtgB,EAAAugB,cAAA,gBAAQxa,KAAU8W,OAAO46D,EAAW,KAApC,QAwBFU,kBAAmB,SAAAnyE,GAAI,OAAIgxE,GAAYhxE,IACvCoyE,MAAO,CAAC,OAAQ,QAAS,QACzB76D,QAASA,GACLlD,MC5LMmpB,GAAS,SAAAtJ,GACrB,IAAM4E,EAAU5E,EAAM4E,QAAQ,GAE9B,MAAO,CACNu5C,mBAAoB,CACnBj8C,QAAS,OACToB,cAAe,MACfyX,SAAU,OACVxX,eAAgB,UAChBuB,OAAQ,QAETm2C,SAAU,CACTrwC,OAAQhG,EACRY,SAAU,GAEX01C,SAAU,CACTC,mBAAoB,CACnBn2C,OAAQ,YAGVo5C,kBAAmB,CAClBxzC,OAAQhG,EACRZ,QAASY,EACTG,MAAK,eAAAr1B,OAA2B,EAAVk1B,EAAjB,QAENy5C,SAAU,CACT56C,SAAU,WACVG,OAAQ,QACRD,MAAO,QACPuB,SAAU,QACV+5B,QAAS,OACTqf,UAAW,iBACX7B,cAAe,QAGhB8B,WAAY,CACXp7C,WAAY,MACZ6G,cAAe,SCnCX,SAASw0C,GAAYC,GAAW,IAAAnjD,EACFC,oBAAS,GADPC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAC/BojD,EAD+BljD,EAAA,GACnBmjD,EADmBnjD,EAAA,GAIhCojD,EAAc,SAAAh/C,GACfA,EAAGhU,MAAQ6yD,IACd7+C,EAAG1B,iBACHygD,GAAc,KAKVE,EAAY,SAAAj/C,GACbA,EAAGhU,MAAQ6yD,IACd7+C,EAAG1B,iBACHygD,GAAc,KAahB,OATAriD,oBAAU,WAGT,OAFAinB,OAAO6xB,iBAAiB,UAAWwJ,GACnCr7B,OAAO6xB,iBAAiB,QAASyJ,GAC1B,WACNt7B,OAAO8xB,oBAAoB,UAAWuJ,GACtCr7B,OAAO8xB,oBAAoB,QAASwJ,KAEnC,CAACD,EAAaC,IAEVH,gBCmCFI,GAAa,CAClBC,KAHW,IAIXpD,IAAK,IACLqD,KAAM,KACNC,MAAO,KACPC,KAAM,OAGDC,GAAaC,KAA+B33E,IAAI,SAAA43E,GACrD,IAAMtsD,EAAU9rB,OAAAC,GAAA,EAAAD,CAAA,GAAQo4E,GAExB,OADAtsD,EAAWrS,MAAQ3Z,aAAEs4E,EAAG3+D,OACjBqS,IAGFusD,GAAU,CACf/5D,UAAW,CACV,CACC7E,MAAO3Z,aAAE,qBACTiU,MAAO,cACP4f,MAAO2kD,MAER,CACC7+D,MAAO3Z,aAAE,gBACTiU,MAAO,cACP4f,MAAOhO,MAER,CACClM,MAAO3Z,aAAE,iBACTiU,MAAO,eACP4f,MAAO4kD,MAER,CACC9+D,MAAO3Z,aAAE,YACT6zB,MAAO60C,OAGTp6C,WAAY,CACX,CACC3U,MAAO3Z,aAAE,qBACTiU,MAAO,cACP4f,MAAO2kD,MAER,CACC7+D,MAAO3Z,aAAE,gBACTiU,MAAO,cACP4f,MAAOhO,MAER,CACClM,MAAO3Z,aAAE,eACTiU,MAAO,eACP4f,MAAO6kD,MAER,CACC/+D,MAAO3Z,aAAE,YACT6zB,MAAO60C,QAKJiQ,GAAmB,SAAA/4E,GAAA,IAAGkP,EAAHlP,EAAGkP,UAAW5F,EAAdtJ,EAAcsJ,MAAOE,EAArBxJ,EAAqBwJ,IAArB,MAA+B,CACvDwQ,aAAwB,CAAE9K,YAAW4J,KAAMxP,IAC3C0Q,aAAwB,CAAE9K,YAAW4J,KAAMtP,MAGtCwvE,GAAmB,SAAAt4E,GAAoD,IAAjDwO,EAAiDxO,EAAjDwO,UAAiD+pE,EAAAv4E,EAAtC61E,OAAUjtE,EAA4B2vE,EAA5B3vE,MAAOE,EAAqByvE,EAArBzvE,IAAUgQ,EAAWlZ,OAAAmZ,EAAA,EAAAnZ,CAAAI,EAAA,wBAC5E,OAAQwO,GACP,IAAK,OACJ,OACCuQ,EAAAtgB,EAAAugB,cAAC42D,GAADh2E,OAAA03B,OAAA,GACKxe,EADL,CAEC+8D,OAAO,OACP2C,UAAW,SAAArvE,GAAG,OAAIsvE,aAAe,CAAEjqE,YAAW5F,QAAOE,YAGxD,IAAK,MACJ,OACCiW,EAAAtgB,EAAAugB,cAAC02D,GAAD91E,OAAA03B,OAAA,GACKxe,EADL,CAEC0/D,UAAW,SAAArvE,GAAG,OAAIsvE,aAAe,CAAEjqE,YAAW5F,QAAOE,YAGxD,IAAK,OACJ,OACCiW,EAAAtgB,EAAAugB,cAACgxC,GAADpwD,OAAA03B,OAAA,GACKxe,EADL,CAEC+9D,MAAO,CAAC,OAAQ,SAChBnqB,WAAS,EACTgsB,YAAa,GACbF,UAAW,SAAArvE,GAAG,OAAIsvE,aAAe,CAAEjqE,YAAW5F,QAAOE,YAGxD,IAAK,QACJ,OACCiW,EAAAtgB,EAAAugB,cAAC42D,GAADh2E,OAAA03B,OAAA,GACKxe,EADL,CAEC+8D,OAAO,QACP2C,UAAW,SAAArvE,GAAG,OAAIsvE,aAAe,CAAEjqE,YAAW5F,QAAOE,YAGxD,IAAK,OACJ,OACCiW,EAAAtgB,EAAAugB,cAAC02D,GAAD91E,OAAA03B,OAAA,GACKxe,EADL,CAEC+9D,MAAO,CAAC,OAAQ,SAChB76D,QAASxX,KAAU+K,UAAU/K,KAAUC,QAAS,IAChD+zE,UAAW,SAAArvE,GAAG,OAAIsvE,aAAe,CAAEjqE,YAAW5F,QAAOE,YAGxD,QACC,OAAOiW,EAAAtgB,EAAAugB,cAAC02D,GAAe58D,KAInB,SAAS6/D,KACf,IACMx+C,EADYzB,aAAWuJ,GACbzG,GACVo9C,EAAQzB,GAAY,KACpB0B,EAAa1B,GAAY,aACzB2B,EAAc3B,GAAY,cACxBpuD,EAAWuL,YAAYj0B,MAAvB0oB,OACFgwD,EAASzkD,YAAY,SAAAv1B,GAAK,OAAI0C,YAAW1C,KAPnBylD,EAQLlwB,YAAY7rB,MAA3BG,EARoB47C,EAQpB57C,MAAOE,EARa07C,EAQb17C,IACT0F,EAAY8lB,YAAYhsB,MACxB0wE,EAAS1kD,YAAYxvB,MAErBE,EAAOsvB,YAAYlsB,KAZG86D,EAaC5uC,YAAY7Y,KAAjCK,EAboBonD,EAapBpnD,QAASE,EAbWknD,EAaXlnD,QAbWiY,EAcJC,qBAdIC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAcrBiU,EAdqB/T,EAAA,GAcf8kD,EAde9kD,EAAA,GAetB+kD,EAAoB5kD,YAAY,SAAAv1B,GAAK,OAC1C0I,aAA8B1I,EAAO,iBAEhCo6E,EAAqB7kD,YAAY,SAAAv1B,GAAK,OAC3C0I,aAA8B1I,EAAO,uBAEhCsgE,EAAc/qC,YAAY,SAAAv1B,GAAK,OACpC0I,aAA8B1I,EAAO,cAEhC4I,EACLuxE,GAAqBC,GAAsB9Z,EAzBhBrwB,EA0BU9a,oBAAS,GA1BnB+a,EAAArvC,OAAAsS,EAAA,EAAAtS,CAAAovC,EAAA,GA0BrB28B,EA1BqB18B,EAAA,GA0BRmqC,EA1BQnqC,EAAA,GAAA4K,EA2BU3lB,oBAAS,GA3BnB4lB,EAAAl6C,OAAAsS,EAAA,EAAAtS,CAAAi6C,EAAA,GA2BrBgyB,EA3BqB/xB,EAAA,GA2BRu/B,EA3BQv/B,EAAA,GAAAE,EA4BU9lB,oBAAS,GA5BnB+lB,EAAAr6C,OAAAsS,EAAA,EAAAtS,CAAAo6C,EAAA,GA4BrB+xB,EA5BqB9xB,EAAA,GA4BRq/B,EA5BQr/B,EAAA,GAAAE,EA6BUjmB,oBAAS,GA7BnBkmB,EAAAx6C,OAAAsS,EAAA,EAAAtS,CAAAu6C,EAAA,GA6BrB8xB,EA7BqB7xB,EAAA,GA6BRm/B,EA7BQn/B,EAAA,GA+BtBgyB,EAAgBiM,GAAiB,CAAE7pE,YAAW5F,QAAOE,QAErD4P,EAAmB4b,YAAY,SAAAv1B,GAAK,OACzCoY,aAAuBpY,EAAO,CAC7BiG,OACAwJ,gBAII4Y,EAAckN,YAAY,SAAAv1B,GAAK,OACpCwY,aAAkBxY,EAAO,CACxBiG,OACAwJ,gBAIIiK,EAAa6b,YAAY,SAAAv1B,GAAK,OACnC2Y,aAAiB3Y,EAAO,CACvBiG,OACAwJ,gBAIIkW,EAAa4P,YAAY,SAAAv1B,GAAK,OACnCuZ,YAAiBvZ,EAAO,CACvBiG,OACAwJ,gBAIImM,EAAU2Z,YAAY,SAAAv1B,GAAK,OAChCqb,aAA6Brb,EAAO,CAAEiG,OAAMwJ,gBAGvC3D,GAAcypB,YAAY,SAAAv1B,GAAK,OACpC+a,aAAiC/a,EAAO,CAAEiG,OAAMwJ,gBAG3C7D,GAAS2pB,YAAY,SAAAv1B,GAAK,OAC/Bkb,aAA4Blb,EAAO,CAAEiG,OAAMwJ,gBAGtCy0D,GAAM3uC,YAAY,SAAAv1B,GAAK,OAC5Bwb,aAAyBxb,EAAO,CAAEiG,OAAMwJ,gBAGnCgrE,GAAS,WACdhhD,YAAQihD,aAAkC,CAAE7iD,MAAM,MAG7C8iD,GAAS,WACdlhD,YAAQihD,aAAkC,CAAE7iD,MAAM,MAG7C+iD,GAAS,WACdnhD,YAAQihD,aAAkC,CAAEG,MAAM,MAGnD3kD,oBAAU,WACT2jD,GAASe,KACTb,GAAeU,KACfX,GAAca,MACZ,CAACb,EAAYC,EAAaF,IAE7B3jD,oBAAU,WACLttB,GAAqB3C,GAAQwJ,GAAa5F,GAC7C4vB,YAAQqhD,iBAEP,CAAClyE,EAAmB3C,EAAMwJ,EAAW5F,IAExCqsB,oBAAU,WACLttB,GAAqB3C,GACxB20E,MAEC,CAAChyE,EAAmB3C,IAEvBiwB,oBAAU,WAET,OADAttB,GAAqBugC,GAAQA,EAAKt/B,QAC3B,WACNs/B,GAAQA,EAAKnR,SAEZ,CAACpvB,EAAmBugC,IAEvBjT,oBAAU,WACTiT,GAAQA,EAAKnR,OACbkiD,EACCa,aAAoB,CACnBjnD,QAAS4kD,GAAWjpE,GACpBurE,WAAU,eAAAC,EAAAp6E,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAE,SAAAgoB,IAAA,OAAAjoB,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,OACXhF,WAAUhyB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KACT,SAAAC,IAAA,OAAAF,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,UAAAD,EAAAsjD,GACClB,GADDpiD,EAAAsjD,GAAA,CAAAtjD,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EACkB4B,YAAQqhD,gBAD1B,OAAAljD,EAAAsjD,GAAAtjD,EAAA0xB,KAAA,cAAA1xB,EAAAujD,OAAA,SAAAvjD,EAAAsjD,IAAA,wBAAAtjD,EAAAI,SAAAR,MAEAkhD,GAAWjpE,GACTF,KAAKq+C,MAAQ8qB,GAAWjpE,GACzB,KANS,wBAAA+vC,EAAAxnB,SAAAunB,MAAF,yBAAA07B,EAAAvmE,MAAA4d,KAAA3yB,YAAA,OAYV,CAAC8P,EAAWuqE,IAEf,IAAM7M,KACHvkE,GACF,CACCkD,GAAY0O,OAAO1O,GAAY0O,OAAO5a,OAAS,GAC/Cgc,EAAQpB,OAAOoB,EAAQpB,OAAO5a,OAAS,IACtCmJ,MAAM,SAAA4E,GAAC,QAAMA,GAAKA,IAAM/B,GAAO4O,OAAO5O,GAAO4O,OAAO5a,OAAS,MAC/D,CAAC+Z,EAAkBD,EAAYiM,EAAY0C,GAAatf,MACvD,SAAA4E,GAAC,OAAU,OAANA,IAGP,OACCssE,GACCj6D,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCc,QAAQ,OACRoB,cAAc,MACdyX,SAAS,OACT3Y,WAAW,WAEXhc,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCc,QAAQ,OACRoB,cAAc,MACdyX,SAAS,OACTvV,SAAU,EACVpD,WAAW,SAEXhc,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK/O,EAAG,EAAGgQ,GAAI,EAAGmD,SAAS,KAC1Bpf,EAAAtgB,EAAAugB,cAAC8lC,GAAD,CACC5S,WAAS,EACThf,QAAQ,WACR7Z,MAAO3Z,aAAE,oBAET06B,SAAU,SAAAjxB,GAETqvB,YAAQ2hD,aAAoChxE,KAE7C+W,OAAQ43D,GACRnkE,MAAOnF,EACPg1C,OAAO,sBAGTzkC,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK/O,EAAG,EAAGgQ,GAAI,EAAGmD,SAAS,KAC1Bpf,EAAAtgB,EAAAugB,cAACo7D,GAAD,CACCvE,OAAQ,CAAEjtE,QAAOE,OACjB0F,UAAWA,EACXmF,MAAO/K,EACP8vE,YAAa,GACbt+C,SAAU,SAAAjxB,GACTqvB,YAAQ6hD,aAAiClxE,KAE1C+sC,WAAY,CAAEmB,WAAW,EAAMzd,UAAWO,EAAQ+8C,YAClDoD,eAAa,EACbpqB,aAAa,WACbhe,WAAS,EACTqa,cAAY,EACZlzC,MAAO3Z,aAAE,oBACTsc,QAASA,EACTF,QAASA,EAETy+D,eAAe,GACfC,eAAe,GACfC,oBAAkB,EAClBjuB,YAAa,SAAAr0C,GACZA,EAAE2e,kBACF4iD,MAEDxtB,YAAa,SAAA/zC,GACZA,EAAE2e,kBACF6iD,MAEDxtB,YAAa,SAAAh0C,GACZA,EAAE2e,kBACF0iD,UAKJz6D,EAAAtgB,EAAAugB,cAAC07D,GAAD,CACChH,QAAQ,UACRvP,SAAUzkE,aAAE,2BACZk7B,SAAUsxC,GACVr/D,MAAK,GAAAxE,OAAKg5D,aAAuB3oD,GAAoB,IACrDu7D,QAASv0E,aAAE,6BACX+zB,QAAS,kBAAM2lD,GAAgBzN,IAC/BuI,YAAavI,GAEb5sD,EAAAtgB,EAAAugB,cAAA4xB,GAAA,GAAYhX,UAAWO,EAAQ68C,YAEhCj4D,EAAAtgB,EAAAugB,cAAC07D,GAAD,CACChH,QAAQ,YACRvP,SAAUzkE,aAAE,sBACZu0E,QAASv0E,aAAE,wBACXk7B,SAAUsxC,GACVr/D,MAAK,GAAAxE,OAAKg5D,aAAuBj6C,GAAe,GAA3C,MAAA/e,OAAkDsR,WACrDyN,EAAc1O,EAAoB,KAAO,GACzCoC,QAAQ,GAFL,OAAAzS,OAEa3I,aAAE,aAFf,KAGL+zB,QAAS,kBAAM4lD,GAAgBxN,IAC/BqI,YAAarI,GAEb9sD,EAAAtgB,EAAAugB,cAAA27D,GAAA,GAAO/gD,UAAWO,EAAQ68C,YAEf,eAAXgC,GACAj6D,EAAAtgB,EAAAugB,cAAC07D,GAAD,CACChH,QAAQ,YACRvP,SAAUzkE,aAAE,qBACZu0E,QAASv0E,aAAE,sBAAuB,CAAE+J,KAAM,CAACsf,KAC3Clc,MAAK,KAAAxE,OAAOg5D,aACX1nD,WAAWlB,GAAc,GAAGqC,QAAQ,IADhC,KAAAzS,OAEA0gB,GACL6R,SAAUsxC,GACVz4C,QAAS,kBAAM6lD,GAAgBvN,IAC/BmI,YAAanI,GAEbhtD,EAAAtgB,EAAAugB,cAAA47D,GAAA,GAAgBhhD,UAAWO,EAAQ68C,YAIzB,cAAXgC,GACAj6D,EAAAtgB,EAAAugB,cAAC07D,GAAD,CACChH,QAAQ,YACRvP,SAAUzkE,aAAE,uBACZu0E,QAASv0E,aAAE,yBACXmN,MAAK,KAAAxE,OAAOg5D,aACX1nD,WAAWlB,GAAc,GAAGqC,QAAQ,IADhC,KAAAzS,OAEA0gB,GACL6R,SAAUsxC,GACVz4C,QAAS,kBAAM6lD,GAAgBvN,IAC/BmI,YAAanI,GAEbhtD,EAAAtgB,EAAAugB,cAAA47D,GAAA,GAAgBhhD,UAAWO,EAAQ68C,YAGrCj4D,EAAAtgB,EAAAugB,cAAC07D,GAAD,CACChH,QAAQ,OACRvP,SAAUzkE,aAAE,iBACZu0E,QAASv0E,aAAE,mBACXk7B,SAAUsxC,GACVr/D,MAAK,KAAAxE,OAAOg5D,aACX1nD,WAAW+K,GAAc,GAAG5J,QAAQ,IADhC,KAAAzS,OAEA0gB,EAFA,UAGL0K,QAAS,kBAAM8lD,GAAgBtN,IAC/BiI,YAAajI,GAEbltD,EAAAtgB,EAAAugB,cAAA67D,GAAA,GAAWjhD,UAAWO,EAAQ68C,aAIhCj4D,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,GACRvgC,EAAAtgB,EAAAugB,cAAC87D,GAAD,CACClyE,MAAOA,EACPE,IAAKA,EACL0F,UAAWA,EACXs8B,QAAS,CACRj+B,OACEirE,GAAWrrE,KAAK,SAAAhO,GAAC,OAAIA,EAAEkV,QAAUnF,KAAc,IAAI6K,OAAS,IAE/D+yD,cAAeA,EACfd,MAAOzgE,GACP0gE,MAAO5gE,GACP6gE,MAAO7wD,EACP8wD,MAAOxI,GACP0I,YAAaA,EACbE,YAAaA,EACbE,YAAaA,EACbE,YAAaA,EACbC,WAAYA,GACZO,QAASwL,GAAQe,GAAQ,GAAG3/D,MAC5B4zD,QAASgL,GAAQe,GAAQ,GAAGzlD,MAC5Bo5C,QAASsL,GAAQe,GAAQ,GAAG3/D,MAC5B8zD,QAAS8K,GAAQe,GAAQ,GAAGzlD,MAC5Bs5C,QAASoL,GAAQe,GAAQ,GAAG3/D,MAC5Bg0D,QAAS4K,GAAQe,GAAQ,GAAGzlD,MAC5Bw5C,QAASkL,GAAQe,GAAQ,GAAG3/D,MAC5Bk0D,QAAS0K,GAAQe,GAAQ,GAAGzlD,UC5d3B,IAAMwnD,GAA2B,SAAAz7E,GAAc,IAAXwR,EAAWxR,EAAXwR,KAC1C,OACCiO,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,EAAG5c,GAAI,EAAGi2B,GAAI,GACpC/iD,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACCha,KAAM,UACNpiC,MAAO+8B,aAAe5/B,EAAKvM,SAC3B8U,MAAO3Z,aAAE,UAAW,CAAE6J,QAAQ,QAIjCwV,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,EAAG5c,GAAI,EAAGi2B,GAAI,GACpC/iD,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACCha,KAAM,aACNpiC,MAAO+8B,aAAe5/B,EAAK6K,YAC3BtC,MAAO3Z,aAAE,aAAc,CAAE6J,QAAQ,QAIpCwV,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,EAAG5c,GAAI,EAAGi2B,GAAI,GACpC/iD,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAC+wC,GAAD,CACCha,KAAM,sBACNpiC,MAAO+8B,aAAe5/B,EAAKlC,qBAC3ByK,MAAO3Z,aAAE,sBAAuB,CAAE6J,QAAQ,QAK7CwV,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAC25D,GAAD,UC8LUvrE,OA/Lf,SAAA9N,GAA6B,IAAT63B,EAAS73B,EAAT63B,MAASlD,EACIC,mBAAS,GADbC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GACrB4lC,EADqB1lC,EAAA,GACX2lC,EADW3lC,EAAA,GAAA6mD,EAEGvhC,GAAQ,CACtCzvC,SAAU,WACVmtB,QACAuiB,SAAUrsC,YACVssC,oBAAqBshC,OAJdnqE,EAFoBkqE,EAEpBlqE,KAASqkC,EAFWv1C,OAAAmZ,EAAA,EAAAnZ,CAAAo7E,EAAA,UAQtBE,EAAa5mD,YAAY,SAAAv1B,GAAK,OACnC0I,aAA8B1I,EAAO,uBAGhC2L,EAAW,IAAI2C,YAAcyD,GAC3B4R,GAAsBhY,EAASmR,QAAU,IAAzC6G,kBACF+sC,EAAS/kD,EAASwX,KAAKmsC,WAAW,GAClCqB,EAAWhlD,EAASwX,KAAKmsC,WAAW,GACpCpmD,EAAayC,EAASvE,GAhBAg1E,EAiBJrqE,EAAhB+K,cAjBoB,IAAAs/D,EAiBX,GAjBWA,EAkBtB9Y,EACLxmD,EAAOuB,MACP,CAAC,QAAS,SAAU,aAAajM,SAAS0K,EAAOuB,OACpB,WAA7BvB,EAAO6G,kBAEF0/C,EAAwC,WAA7BvmD,EAAO6G,kBAUxB,OARAuS,oBAAU,WAGT,OAFAuD,YAAQ4iD,aAAe,aAAcnzE,IAE9B,WACNuwB,YAAQ4iD,aAAe,kBAAcx8E,MAEpC,CAACqJ,IAGH8W,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAACq8D,GAAD,KACCt8D,EAAAtgB,EAAAugB,cAAAkb,GAAA,GACCvmB,MAAOkmD,EACPz/B,SAAU,SAAC7B,EAAIjP,GAAL,OAAewwC,EAAYxwC,IACrC4J,QAAQ,aACR6mC,cAAc,OACdC,eAAe,UACf3/B,UAAU,WAEVtb,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKjhB,MAAO3Z,aAAE,mBACdqf,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKjhB,MAAO3Z,aAAE,uBACdqf,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKjhB,MAAO3Z,aAAE,mBACdqf,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKjhB,MAAO3Z,aAAE,mBACdqf,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKjhB,MAAO3Z,aAAE,qBACdqf,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKjhB,MAAO3Z,aAAE,oBACdqf,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKjhB,MAAO3Z,aAAE,gBACb,CAAC,SAAU,aAAayR,SAASuR,IACjC3D,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKjhB,MAAO3Z,aAAE,eAIjBqf,EAAAtgB,EAAAugB,cAACs8D,GAAmBnmC,GACpBp2B,EAAAtgB,EAAAugB,cAACu8D,GAAD,KACe,IAAb1hB,GACA96C,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAACw8D,GAAD57E,OAAA03B,OAAA,CACCxmB,KAAMA,GACFqkC,EAFL,CAGCktB,YAAaA,EACbD,SAAUA,MAIC,IAAbvI,GACA96C,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAACy8D,GAAD77E,OAAA03B,OAAA,CACCxmB,KAAMA,GACFqkC,EAFL,CAGCktB,YAAaA,EACbD,SAAUA,MAIC,IAAbvI,GACA96C,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,IACL85D,GAAcn8D,EAAAtgB,EAAAugB,cAAA0b,GAAA,QAChB3b,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCc,QAAQ,OACRoB,cAAc,MACdyX,SAAS,OACTvV,SAAS,IACTjC,eAAe,UAEfnd,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKoE,SAAS,IAAIu9C,MAAO,CAAE9vC,GAAI,EAAGC,GAAI,EAAGi2B,GAAI,IAC5C/iD,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAAC28D,GAAD,CACC1zE,WAAYA,EACZo6D,YAAaA,EACbD,SAAUA,MAIbrjD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,EAAGs6D,MAAO,CAAE9vC,GAAI,EAAGC,GAAI,EAAGi2B,GAAI,IACrC/iD,EAAAtgB,EAAAugB,cAAC48D,GAAD,CAAuB3zE,WAAYA,OAKzB,IAAb4xD,GACA96C,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,EAAGxC,WAAW,cACtChc,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASsW,MAAM,UACjC9pC,aAAE,uBAAwB,CAAE+J,KAAM,CAAC,KAAM,aAG1CyxE,GAAcn8D,EAAAtgB,EAAAugB,cAAA0b,GAAA,SAEjB3b,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GAAIi2B,GAAI,GAC9B/iD,EAAAtgB,EAAAugB,cAAC68D,GAAD,CACCptD,SAAU,SAAA1vB,GAAK,OACdqnB,YAA6CrnB,EAAO,CACnDkJ,mBAKJ8W,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GAAIi2B,GAAI,GAC9B/iD,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAAC88D,GAAD,CACCrtD,SAAU,SAAA1vB,GAAK,OACd+lB,YAA0C/lB,EAAO,CAChDkJ,gBAGF4+D,cAAY,QAQJ,IAAbhN,GACA96C,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAAC+8D,GAAD,CAA0BjrE,KAAMA,KAGpB,IAAb+oD,GAAkB96C,EAAAtgB,EAAAugB,cAACqsC,GAAD,CAAcpjD,WAAYA,EAAYyjD,SAAO,IAClD,IAAbmO,GACA96C,EAAAtgB,EAAAugB,cAAAyf,EAAA,OACC1f,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCqgB,OAAO,SACPpgB,KAAI,GAAA7W,OAAKonD,EAAO9jD,IAAZ,aAAAtD,OAA2BJ,EAA3B,YAEJ8W,EAAAtgB,EAAAugB,cAAAoc,EAAA,GAAUmD,QAAM,GACfxf,EAAAtgB,EAAAugB,cAAA8f,EAAA,GAAc7F,QAASv5B,aAAE,qBAG3Bqf,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCqgB,OAAO,SACPpgB,KAAI,GAAA7W,OAAKonD,EAAO9jD,IAAZ,aAAAtD,OAA2BJ,EAA3B,sCAEJ8W,EAAAtgB,EAAAugB,cAAAoc,EAAA,GAAUmD,QAAM,GACfxf,EAAAtgB,EAAAugB,cAAA8f,EAAA,GAAc7F,QAASv5B,aAAE,4BAG3Bqf,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCqgB,OAAO,SACPpgB,KAAI,GAAA7W,OAAKqnD,EAAS/jD,IAAd,aAAAtD,OAA6BJ,EAA7B,YAEJ8W,EAAAtgB,EAAAugB,cAAAoc,EAAA,GAAUmD,QAAM,GACfxf,EAAAtgB,EAAAugB,cAAA8f,EAAA,GAAc7F,QAASv5B,aAAE,uBAG3Bqf,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCqgB,OAAO,SACPpgB,KAAI,GAAA7W,OAAKqnD,EAAS/jD,IAAd,aAAAtD,OAA6BJ,EAA7B,sCAEJ8W,EAAAtgB,EAAAugB,cAAAoc,EAAA,GAAUmD,QAAM,GACfxf,EAAAtgB,EAAAugB,cAAA8f,EAAA,GAAc7F,QAASv5B,aAAE,+BAKf,IAAbm6D,GAAkB96C,EAAAtgB,EAAAugB,cAACg9D,GAAD,CAAS/uE,OAAQhF,OCpNjC,SAASg0E,KAAkB,IAAAhoD,EACDC,mBAAS,GADRC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAC1B4lC,EAD0B1lC,EAAA,GAChB2lC,EADgB3lC,EAAA,GAGjC,OACCpV,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAACq8D,GAAD,KACCt8D,EAAAtgB,EAAAugB,cAAAkb,GAAA,GACCvmB,MAAOkmD,EACPz/B,SAAU,SAAC7B,EAAIjP,GAAL,OAAewwC,EAAYxwC,IACrC4J,QAAQ,aACR6mC,cAAc,OACdC,eAAe,UACf3/B,UAAU,WAEVtb,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKjhB,MAAO3Z,aAAE,cAGhBqf,EAAAtgB,EAAAugB,cAACu8D,GAAD,KACe,IAAb1hB,GACA96C,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAAC25D,GAAD,CAAY3zE,KAAK,kBCZvB,IAAMkrC,GAAQza,GAAoB6P,IAE5B9J,GAAY9C,aAAWuJ,IAEvBkO,GAAU,SAAA7wC,GAAA,IAAG66B,EAAH76B,EAAG66B,QAASpR,EAAZzpB,EAAYypB,OAAZ,MAAyB,CACxC,CACC3L,KAAM,QACN/D,MAAO3Z,aAAE,cACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNo5B,UAAU,EACVmF,iBAAkB,SAAArwC,GAAqC,IAAlCmG,EAAkCnG,EAAlCmG,GAAIqc,EAA8BxiB,EAA9BwiB,SAAUC,EAAoBziB,EAApByiB,UAAWJ,EAASriB,EAATqiB,GACvCu8C,EAAev8C,EAAK6tB,GAAQ5K,GAC5B42C,EAAW75D,EAAK,CAAEA,MAAO,CAAEkmB,mBAAmB,GACpD,OACCxpB,EAAAtgB,EAAAugB,cAAC4/C,EAADh/D,OAAA03B,OAAA,CACC/S,IAAKpe,EACLyzB,UAAW8E,KAAWvE,EAAQoS,SAC9Btc,IAAKzN,EACLqd,IAAK15B,EACLsc,UAAWA,EACXykB,YAAU,GACNg1C,OAMT,CACC9+D,KAAM,OACN/D,MAAO3Z,aAAE,aACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,kBAAA3xC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,IAAY+kB,QAAQ,UAAW,OAG3D,CACCrG,KAAM,cACN/D,MAAO3Z,aAAE,qBACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,SAAAxlC,GAAW,OAAI0lC,mBAAQ1lC,GAAe,MAG1D,CACCuS,KAAM,SACN/D,MAAO3Z,aAAE,gBACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,SAAA1lC,GAAM,OAAI4lC,mBAAQ5lC,GAAU,MAGhD,CACCyS,KAAM,MACN/D,MAAO3Z,aAAE,aACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACN0+B,cAAe,OACfH,iBAAkB,SAAAttB,GAAG,SAAA1a,OAAO0a,EAAIjI,QAAQ,GAAnB,SAGvB,CACCsC,KAAM,WACN/D,MAAO3Z,aAAE,kBACTorC,QAAS,CACRl+B,QAAQ,EACRkF,MAAM,EACNu+B,iBAAkB,SAAA3sB,GAAQ,SAAArb,OAAOqb,EAAS5I,QAAQ,GAAxB,KAAAzS,OAA8B0gB,QAarD8nB,GAAa,SAAA1wC,GAAA,IAAG8+D,EAAH9+D,EAAG8+D,aAAc7vB,EAAjBjvC,EAAiBivC,WAAjB,MAA6C,CAC/D9B,WAAY,cACZ4xB,aAFkB/+D,EAA6Bu5B,SAG/CyX,cAAe,kBAAMpyB,EAAAtgB,EAAAugB,cAACuwB,GAAD,CAAYC,aAAcJ,KAC/C0B,WAAY,SAACC,EAAWC,EAAWnG,EAAS7xB,GAAhC,OAZM,SAAC+3B,EAAWC,EAAWnG,EAAS7xB,GAClD,IAAMi4B,EAAaj4B,EAAK5Y,IAAI,SAAAoU,GAAC,MAAK,CACjC8U,MAAO9U,EAAE8U,MACTtQ,KAAM,CAACxE,EAAEwE,KAAK,GAAG7S,GAAIqO,EAAEwE,KAAK,GAAGyK,QAAQ,UAAW,IAAKjP,EAAEwE,KAAK,OAE/D,MAAO,GAAA3Q,OAAG0oC,EAAUlG,IAAbxiC,OAAwB2oC,EAAUC,IAAcC,OAQtDJ,CAAWC,EAAWC,EAAWnG,EAAS7xB,IAC3CimD,eACA51B,YAAa,IAuDC8yC,OApDf,SAA0BjrD,GAAO,IAE/By6B,EAMGz6B,EANHy6B,UACAD,EAKGx6B,EALHw6B,QACAJ,EAIGp6B,EAJHo6B,aAJ+B8T,EAQ5BluC,EAHHwI,gBAL+B,IAAA0lC,EAKpB,GALoBA,EAAAgd,EAQ5BlrD,EAFHzC,gBAN+B,IAAA2tD,EAMpB/1D,IANoB+1D,EAAAC,EAQ5BnrD,EADHrkB,aAP+B,IAAAwvE,EAOvB,GAPuBA,EAS1BliD,EAAUqB,KACRzS,EAAWuL,YAAYj0B,MAAvB0oB,OACFmyD,EAAa5mD,YAAY,SAAAv1B,GAAK,OACnC0I,aAA8B1I,EAAO,uBAZN6yC,EAeMhD,GAAa,CAClDngB,WACAqgB,WAAY,kBACXqB,GAAQ,CACPhW,UACAwxB,YACAD,UACA3iC,cAPK/P,EAfwB44B,EAexB54B,KAAM6xB,EAfkB+G,EAelB/G,QAASuE,EAfSwC,EAeTxC,WAWjB6vB,EAAe5vB,sBACpB,SAACxqC,EAAG06D,GACH,IAAMhuB,EAAkBguB,EAAgBn/D,IAAI,SAAAiwD,GAAG,OAAIA,EAAI7e,YACjD+Z,EAAmBha,EAAgBnxC,IAAI,SAAAoU,GAAC,OAAIwE,EAAKxE,GAAGrO,KAE1DmlD,GAAgBA,EAAa,CAAE/Z,kBAAiBga,sBAEjD,CAACvyC,EAAMsyC,IAGFxgB,EAAU+F,GAAW,CAAEouB,eAAcvlC,WAAU0V,eACrD,OACCrwB,EAAAtgB,EAAAugB,cAAC4rB,GAAD,CACC/9B,MAAOnN,aAAEmN,GACTmM,KAAMA,EACN6xB,QAASA,EACTC,QAASA,EACTlQ,SAAUsgD,EACVjwC,UAAQ,EACRE,YAAU,EACVC,SAAO,EACP27B,eAAa,KCpIT,SAASuV,KAAiB,IAAAroD,EACAC,mBAAS,GADTC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GACzB4lC,EADyB1lC,EAAA,GACf2lC,EADe3lC,EAAA,GAE1B+mD,EAAa5mD,YAAY,SAAAv1B,GAAK,OACnC0I,aAA8B1I,EAAO,uBAGtC,OACCggB,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAACq8D,GAAD,KACCt8D,EAAAtgB,EAAAugB,cAAAkb,GAAA,GACCvmB,MAAOkmD,EACPz/B,SAAU,SAAC7B,EAAIjP,GAAL,OAAewwC,EAAYxwC,IACrC4J,QAAQ,aACR6mC,cAAc,OACdC,eAAe,UACf3/B,UAAU,WAEVtb,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKjhB,MAAO3Z,aAAE,YACdqf,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKjhB,MAAO3Z,aAAE,kBACdqf,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKjhB,MAAO3Z,aAAE,sCAGhBqf,EAAAtgB,EAAAugB,cAACu8D,GAAD,CAAmB3lC,cAAY,GAChB,IAAbikB,GACA96C,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAAC25D,GAAD,CAAY3zE,KAAK,eAGL,IAAb60D,GACA96C,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,SAASsW,MAAM,UACjC9pC,aAAE,uBAAwB,CAAE+J,KAAM,CAAC,KAAM,aAG1CyxE,GAAcn8D,EAAAtgB,EAAAugB,cAAA0b,GAAA,SAEjB3b,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GAAIi2B,GAAI,GAC9B/iD,EAAAtgB,EAAAugB,cAAC68D,GAAD,CACCptD,SAAUtI,QAIZpH,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,GAAIi2B,GAAI,GAC9B/iD,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAAC88D,GAAD,CACCrtD,SAAU5J,WASF,IAAbg1C,GAEA96C,EAAAtgB,EAAAugB,cAACu9D,GAAD,CACC9tD,SAAUpI,IACVxZ,MAAM,qCCsBG2vE,OA3Ff,SAAAl9E,GAAyB,IAAT63B,EAAS73B,EAAT63B,MAASlD,EACQC,mBAAS,GADjBC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GACjB4lC,EADiB1lC,EAAA,GACP2lC,EADO3lC,EAAA,GAAA6mD,EAG0CvhC,GAAQ,CACzEzvC,SAAU,SACVmtB,QACAuiB,SAAUnsC,UACVosC,oBAAqB8iC,OAJd3rE,EAHgBkqE,EAGhBlqE,KAAMqL,EAHU6+D,EAGV7+D,YAAsCg5B,GAH5B6lC,EAGG30E,WAHH20E,EAGevgC,SAHf76C,OAAAmZ,EAAA,EAAAnZ,CAAAo7E,EAAA,iDAWvB70E,EAQG2K,EARH3K,GACA0G,EAOGiE,EAPHjE,MACAgV,EAMG/Q,EANH+Q,SACAo1B,EAKGnmC,EALHmmC,YACAz0B,EAIG1R,EAJH0R,SACAC,EAGG3R,EAHH2R,UACA1a,EAEG+I,EAFH/I,KACA+vC,EACGhnC,EADHgnC,UAEczB,EAA0Cl6B,EAAjDtP,MAA8BqqC,EAAmB/6B,EAAhC86B,YAEzB,OAAKnmC,EAGJiO,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAACq8D,GAAD,KACCt8D,EAAAtgB,EAAAugB,cAAAkb,GAAA,GACCvmB,MAAOkmD,EACPz/B,SAAU,SAAC7B,EAAIjP,GAAL,OAAewwC,EAAYxwC,IACrC4J,QAAQ,aACR6mC,cAAc,OACdC,eAAe,UACf3/B,UAAU,WAEVtb,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKjhB,MAAO3Z,aAAE,eAGhBqf,EAAAtgB,EAAAugB,cAACs8D,GAAmBnmC,GACpBp2B,EAAAtgB,EAAAugB,cAACu8D,GAAD,KACCx8D,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,EAAGi2B,GAAI,GACrC/iD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAACoqD,GAAD,CACC5mD,SAAUA,EACVC,UAAWA,EACXpJ,MAAO3Z,aAAE,4BAGTmiB,GACD9C,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAACggD,GAAD,CACC9sB,WAAS,EACTloC,SAAS,SACTiD,OAAQ9G,EACR0G,MAAOA,EACPusC,oBAAkB,MAKtBr6B,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,EAAGi2B,GAAI,GACrC/iD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAAC0rD,GAAD9qE,OAAA03B,OAAA,CAAWzqB,MAAOA,EAAOwpC,SAAUA,GAAclB,KAElDp2B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAAC09D,GAAD98E,OAAA03B,OAAA,CACC2f,YAAaA,EACbC,eAAgBA,GACZ/B,KAGNp2B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAAC29D,GAAD,CAAY50E,KAAMA,KAEnBgX,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAAC49D,GAAD,CAAe9kC,UAAWA,UAvDf/4B,EAAAtgB,EAAAugB,cAAA,yBCeb69D,GAAel7B,GAzBQ,SAAAriD,GAAgD,IAA7C27C,EAA6C37C,EAA7C27C,qBAAsBhuC,EAAuB3N,EAAvB2N,OAAWikB,EAAYtxB,OAAAmZ,EAAA,EAAAnZ,CAAAN,EAAA,mCAC5E,OACCyf,EAAAtgB,EAAAugB,cAACq9C,GAADz8D,OAAA03B,OAAA,GACKpG,EADL,CAECsuB,eAAgB,kBAAMhnB,YAAQ8jC,YAAa,SAAUrvD,KACrDA,OAAQA,EACRsvD,eAAe,cACfvyD,SAAS,SACTwzC,QAAQ,YACRrQ,MAAO,CACN,CACCtgC,MAAO,qBACPyxB,UAAW64B,GACXxZ,iBAAkB,KAClBF,WAAY,SAAAvsB,GAAK,OAChBsH,YACCskD,aAAkBl9E,OAAAC,GAAA,EAAAD,CAAA,CAAEq7C,uBAAsBhuC,UAAWikB,QAIzD8rC,UAAWtvD,eAODqvE,GAAoB,SAAA/8E,GAS3B,IAAAg9E,EAAAh9E,EARL8Q,YAQK,IAAAksE,EARE,GAQFA,EANL7gE,GAMKnc,EAPLi7C,qBAOKj7C,EANLmc,aACA9V,EAKKrG,EALLqG,WACAiwC,EAIKt2C,EAJLs2C,YACAC,EAGKv2C,EAHLu2C,gBACA9B,EAEKz0C,EAFLy0C,yBAEKwoC,EAAAj9E,EADLy2C,oBACK,IAAAwmC,EADU,GACVA,EAAArU,EACiCvoE,eAA9BP,EADH8oE,EACG9oE,QAASkiB,EADZ4mD,EACY5mD,SAAU+G,EADtB6/C,EACsB7/C,OACnB/F,EAAiDlS,EAAjDkS,iBACF0zC,EADmD5lD,EAA/B4lD,YACW,CAAE5yC,QAAS,IAAK1X,OAAQ,IAHxDuqD,EAIwCD,EAAWtqD,OAAhDyqD,EAJHF,EAIGE,cAAeD,EAJlBD,EAIkBC,kBACjBjlC,IAAW8kB,EAAazzB,iBACJmsC,EAAWhzC,EAA7B6G,iBACF0zB,IAAcyY,GAAUA,EAAOruC,MAC/Bs1C,EACuB,kBAArBpzC,EACJlL,aACAoR,yBAAcpY,EAAKkS,kBAAoB,IAAIljB,IAAY,KAAK6pE,IAAI,KAChE3nD,GACA,GAEAgB,EAEJ,OACCjE,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,OACL67C,UAAQ,EACRvqC,MAAO3Z,aAAE,4BAA6B,CAAE+J,KAAM,CAACsf,KAC/C3L,KAAK,mBACLzJ,MAAOyiD,GAAU,GACjBl1C,WAAY21C,IAAkBllC,EAC9ByI,SAAU,SAAA7B,GACT,IAAM5kB,EAAQ4kB,EAAG+G,OAAO3rB,MACxB2iC,EAAY,mBAAoB3iC,EAAO,CACtCyJ,KAAM,eACN29B,OAAQ,CAAC,aAAc,sBAExBviB,YACCs3B,aAAqB,CACpBzpD,aACA0vC,KAAM,mBACNpiC,QACAmN,OAAO,MAIViQ,MAAO2lB,EACPU,UAAW,IACXnB,WACCS,EAAYyY,EAAOxY,OAASj3C,aAAE,8BAE/Bw2C,WACE2gB,EAkBE,GAjBA,CACAhgB,aACC93B,EAAAtgB,EAAAugB,cAAA83B,GAAA,GAAgB1a,SAAS,OACxBrd,EAAAtgB,EAAAugB,cAAAqU,EAAA,GAECE,MAAM,YACNE,QAAS,kBACR9B,EACG8iB,EAAyB,oBACzB8B,EAAgB,oBAAoB,KAGvC5kB,EAAS5S,EAAAtgB,EAAAugB,cAAAi2B,GAAA,QAAmBl2B,EAAAtgB,EAAAugB,cAAA+3B,GAAA,cAUtCh4B,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACupC,GAAD,CACClvC,MAAO3Z,aAAE,2BACTiU,MACCoL,EAAAtgB,EAAAugB,cAAAizB,GAAA,OACClzB,EAAAtgB,EAAAugB,cAAAoxC,GAAA,GAAWC,KAAG,GACbtxC,EAAAtgB,EAAAugB,cAAAsxC,GAAA,GACCC,QACCxxC,EAAAtgB,EAAAugB,cAAAwxC,GAAA,GACCC,UAAWoG,EACXz8B,SAAU,SAAA7B,GACT,IAAMk4B,EAAUl4B,EAAG+G,OAAOmxB,QAC1Bna,EACC,aADU12C,OAAAC,GAAA,EAAAD,CAAA,GAGN82D,EAHM,CAITtqD,OAAOxM,OAAAC,GAAA,EAAAD,CAAA,GACH82D,EAAWtqD,OADT,CAELyqD,cAAepG,MAGjB,CACCrzC,KAAM,eACN29B,OAAQ,CAAC,aAAc,uBAI1BpnC,MAAM,kBAGR0F,MAAO3Z,aAAE,uCAOfqf,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACupC,GAAD,CACClvC,MAAO3Z,aAAE,4BACTiU,MACCoL,EAAAtgB,EAAAugB,cAAAizB,GAAA,OACClzB,EAAAtgB,EAAAugB,cAAAoxC,GAAA,GAAWC,KAAG,GACbtxC,EAAAtgB,EAAAugB,cAAAsxC,GAAA,GACCC,QACCxxC,EAAAtgB,EAAAugB,cAAAwxC,GAAA,GACCC,UAAWmG,EACXx8B,SAAU,SAAA7B,GAAE,OACX+d,EACC,aADU12C,OAAAC,GAAA,EAAAD,CAAA,GAGN82D,EAHM,CAITtqD,OAAOxM,OAAAC,GAAA,EAAAD,CAAA,GACH82D,EAAWtqD,OADT,CAELwqD,kBAAmBr+B,EAAG+G,OAAOmxB,YAG/B,CACCrzC,KAAM,eACN29B,OAAQ,CAAC,aAAc,uBAI1BpnC,MAAM,sBAGR0F,MAAO3Z,aAAE,0CAWLw9E,GAAY,SAAA/8E,GAA4B,IAAzB2Q,EAAyB3Q,EAAzB2Q,KAASqkC,EAAgBv1C,OAAAmZ,EAAA,EAAAnZ,CAAAO,EAAA,UACpD,OACC4e,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKc,QAAQ,OAAOoB,cAAc,MAAMyX,SAAS,QAChD30B,EAAAtgB,EAAAugB,cAAC69D,GAAD,CACC3qC,WAAS,EACT1e,KAAK,QACLN,QAAQ,YACRK,MAAM,YACN4uB,SAAS,kBACTt1C,MAAM,uBACNI,OAAQ6D,EAAK3K,GACb07C,sBAAoB,EACpB5G,qBAAsB9F,EAAU8F,qBAChCxnB,QAAS,kBACR+E,YACC2kD,YAAwB,CACvBlwE,OAAQ6D,EAAK3K,GACbgtC,WAAYgC,EAAUhC,mBClNhBiqC,GAAY,SAAA99E,GAA4B,IAAzBwR,EAAyBxR,EAAzBwR,KAASqkC,EAAgBv1C,OAAAmZ,EAAA,EAAAnZ,CAAAN,EAAA,UAEnD6G,EAUG2K,EAVH3K,GACA0G,EASGiE,EATHjE,MACAoqC,EAQGnmC,EARHmmC,YACAz0B,EAOG1R,EAPH0R,SACAC,EAMG3R,EANH2R,UACA1a,EAKG+I,EALH/I,KACA+vC,EAIGhnC,EAJHgnC,UACA/wB,EAGGjW,EAHHiW,QACAlF,EAEG/Q,EAFH+Q,SACAgF,EACG/V,EADH+V,MAXmDw2D,EAaKloC,EAAUh5B,YAApDk6B,EAbqCgnC,EAa5CxwE,MAA8BqqC,EAbcmmC,EAa3BpmC,YAEzB,OACCl4B,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,EAAGi2B,GAAI,GACrC/iD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAACoqD,GAAD,CACC5mD,SAAUA,EACVC,UAAWA,EACXpJ,MAAO3Z,aAAE,gCAGXqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAACs+D,GAAD,CAAsBxlC,UAAWA,KAElC/4B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAACu+D,GAAD39E,OAAA03B,OAAA,CAAWxmB,KAAMA,GAAUqkC,MAE1BtzB,GACD9C,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAACggD,GAAD,CACC9sB,WAAS,EACTloC,SAAS,SACTiD,OAAQ9G,EACR0G,MAAOA,EACPusC,oBAAkB,KAIrBr6B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAAA+xC,GAAA,GAAgBC,QAAQ,EAAM99B,QAAQ,YACrCnU,EAAAtgB,EAAAugB,cAAAiyC,GAAA,GACCC,WAAYnyC,EAAAtgB,EAAAugB,cAAAmyC,GAAA,QACZxwB,gBAAc,sBACdx6B,GAAG,uBAEH4Y,EAAAtgB,EAAAugB,cAAAqf,GAAA,OAAa3+B,aAAE,mBAEhBqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAACw+D,GAAD59E,OAAA03B,OAAA,CAAmBxmB,KAAMA,GAAUqkC,OAItCp2B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAAA+xC,GAAA,GAAgBC,QAAQ,EAAM99B,QAAQ,YACrCnU,EAAAtgB,EAAAugB,cAAAiyC,GAAA,GACCC,WAAYnyC,EAAAtgB,EAAAugB,cAAAmyC,GAAA,QACZxwB,gBAAc,qBACdx6B,GAAG,qBAEH4Y,EAAAtgB,EAAAugB,cAAAqf,GAAA,OAAa3+B,aAAE,gBAEhBqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,EAAGmS,MAAM,oBAAoByG,QAAQ,aAC5Cjb,EAAAtgB,EAAAugB,cAAA,WAAMX,KAAKC,UAAUuI,GAAS,GAAI,KAAM,QAK5C9H,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,EAAGi2B,GAAI,GACrC/iD,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAAC0rD,GAAD9qE,OAAA03B,OAAA,CAAWzqB,MAAOA,EAAOwpC,SAAUA,GAAclB,KAElDp2B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAAC09D,GAAD98E,OAAA03B,OAAA,CACC2f,YAAaA,EACbC,eAAgBA,GACZ/B,KAGNp2B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAAC29D,GAAD,CAAY50E,KAAMA,KAGnBgX,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAACy+D,GAAD79E,OAAA03B,OAAA,CAAaxmB,KAAMA,GAAUqkC,KAE9Bp2B,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAACupC,GAAD,CACClvC,MAAO3Z,aAAE,wBACTiU,MAAOoL,EAAAtgB,EAAAugB,cAACm8C,GAAD,CAAep0C,QAASA,EAASs0C,aAAW,QAItDt8C,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,GAAI5c,GAAI,GAAIi2B,GAAI,kDCtGtC4b,GAAah3E,oCACbi3E,GAAYhyE,KAAIC,MAAM8xE,IACtBE,GAAM,GAAAv1E,OAAMs1E,GAAUE,SAAhB,MAAAx1E,OAA6Bs1E,GAAUG,MAE7CC,GAAgB,yGAAA11E,OAC4Bu1E,GAD5B,2NAYhBpiD,GAAY9C,aCpCI,SAAAC,GACrB,MAAO,CACNqlD,gBAAiB,CAChB/6B,WAAY,WACZlC,UAAW,aACXxd,OAAQ,EACR06C,UAAW,iBDgCDC,GAAkB,SAAA5+E,GAAmB,IAAA6+E,EAAA7+E,EAAhB8+E,YAAgB,IAAAD,EAAT,GAASA,EAC3ChkD,EAAUqB,KACRr1B,EAAiCi4E,EAAjCj4E,GAAI4B,EAA6Bq2E,EAA7Br2E,KAAMs2E,EAAuBD,EAAvBC,KAAMC,EAAiBF,EAAjBE,aAClB14E,EAAe0uB,YAAYhyB,KAC3Bi8E,EAAmBjqD,YAAYnI,MAEjCqyD,EAAQz2E,EAAK7F,MAAM,KAAK,GAAGA,MAAM,KACrCs8E,EAAQ,CACP9gD,MAAO8gD,EAAM,GACb/gD,OAAQ+gD,EAAM,IAGf,IAAM1zC,EAAU,CACf2zC,cAAe74E,EACf84E,kBAAmBx+E,eACnBy+E,gBAAiB52E,EACjB62E,WAAW,EACX1wE,UAAWmwE,GAAQ,GAEnB3gD,MAAO8gD,EAAM9gD,MACbD,OAAQ+gD,EAAM/gD,OACdza,iBAAkB,IAElBs7D,eACAO,WAAY14E,GAGTunB,EAAQoxD,mBAAmBzgE,KAAKC,UAAU,CAAEwsB,aAI5Ci0C,EACH,sBAAA12E,OAHSq1E,GAAahwD,EAGtB,mBAAArlB,OAEWm2E,EAAM9gD,MAFjB,oBAAAr1B,OAGYm2E,EAAM/gD,OAHlB,kFAAAp1B,OAOY01E,GAPZ,oBAoBD,OAAOQ,EACNx/D,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK8G,SAAS,UACb9hB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCc,QAAQ,OACRoB,cAAc,MACdlB,WAAW,SACXmB,eAAe,gBACf+1C,GAAI,GAEJlzD,EAAAtgB,EAAAugB,cAAAqf,GAAA,OAAa3+B,aAAE,qBACfqf,EAAAtgB,EAAAugB,cAAAqU,EAAA,GACCE,MAAM,UACNyrD,OAAQ,kBACPC,YAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,uBACTmzB,QAAS,OAGXY,QAAS,WACRyrD,KAAKH,GACLvmD,YACCymD,YAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,uBACTmzB,QAAS,SAKZ9T,EAAAtgB,EAAAugB,cAACo+C,GAAA3+D,EAAD,UAKJsgB,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,EAAGmS,MAAM,oBAAoByG,QAAQ,aAC5Cjb,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQ6jD,iBAAkBe,MAG3Cr4E,GASFqY,EAAAtgB,EAAAugB,cAAAgU,EAAA,GAAOC,SAAS,UAAUC,QAAQ,YACjCnU,EAAAtgB,EAAAugB,cAAAs0C,GAAA,OAAa5zD,aAAE,sCACfqf,EAAAtgB,EAAAugB,cAAA,OACC85B,wBAAyB,CACxBC,OAAQr5C,aAAE,uCE5FAy/E,OAtCf,SAAA7/E,GAAyB,IAAT63B,EAAS73B,EAAT63B,MAASlD,EACQC,mBAAS,GADjBC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GACjB4lC,EADiB1lC,EAAA,GACP2lC,EADO3lC,EAAA,GAAA6mD,EAEOvhC,GAAQ,CACtCzvC,SAAU,SACVmtB,QACAuiB,SAAUhsC,UACVisC,oBAAqBylC,OAJdtuE,EAFgBkqE,EAEhBlqE,KAASqkC,EAFOv1C,OAAAmZ,EAAA,EAAAnZ,CAAAo7E,EAAA,UASxB,OACCj8D,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAACq8D,GAAD,KACCt8D,EAAAtgB,EAAAugB,cAAAkb,GAAA,GACCvmB,MAAOkmD,EACPz/B,SAAU,SAAC7B,EAAIjP,GAAL,OAAewwC,EAAYxwC,IACrCywC,cAAc,OACdC,eAAe,UACf3/B,UAAU,WAEVtb,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKjhB,MAAO3Z,aAAE,eACdqf,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKjhB,MAAO3Z,aAAE,mBAKhBqf,EAAAtgB,EAAAugB,cAACs8D,GAAmBnmC,GACpBp2B,EAAAtgB,EAAAugB,cAACu8D,GAAD,KACe,IAAb1hB,GAAkB96C,EAAAtgB,EAAAugB,cAACqgE,GAADz/E,OAAA03B,OAAA,CAAWxmB,KAAMA,GAAUqkC,IAChC,IAAb0kB,GAAkB96C,EAAAtgB,EAAAugB,cAACsgE,GAAD,CAAiBlB,KAAMttE,OCXxC0qB,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtC/Z,QAAS,CACRwjB,UAAWzJ,EAAM4E,QAAQ,GACzBiP,QAAS,CACRzM,YAAapH,EAAM4E,QAAQ,GAC3BD,aAAc3E,EAAM4E,QAAQ,QA4BzB8qC,GAAqB1mB,GAvBG,SAAAriD,GAAuC,IAApCg3C,EAAoCh3C,EAApCg3C,YAAarpC,EAAuB3N,EAAvB2N,OAAWikB,EAAYtxB,OAAAmZ,EAAA,EAAAnZ,CAAAN,EAAA,0BACpE,OACCyf,EAAAtgB,EAAAugB,cAACq9C,GAADz8D,OAAA03B,OAAA,GACKpG,EADL,CAECsuB,eAAgB,kBAAMhnB,YAAQ8jC,YAAa,WAAYrvD,KACvDA,OAAQA,EACRsvD,eAAc,mBAAAl0D,OAAqB4E,EAArB,KACdjD,SAAS,WACTwzC,QAAO,mBAAAn1C,OAAqB4E,GAC5BkgC,MAAO,CACN,CACCtgC,MAAO,iBACPyxB,UAAW69B,GACXxe,iBAAkB,KAClBF,WAAY,SAAAvsB,GAAK,OAChBsH,YAAQ+mD,aAAoB3/E,OAAAC,GAAA,EAAAD,CAAA,CAAE02C,cAAarpC,UAAWikB,QAGzD8rC,UAAWlvD,iBA4GCD,OArGf,SAAA7N,GAA6B,IAATm3B,EAASn3B,EAATm3B,MAASlD,EACIC,mBAAS,GADbC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GACrB4lC,EADqB1lC,EAAA,GACX2lC,EADW3lC,EAAA,GAGtBgG,EAAUqB,KAHYw/C,EAKqBvhC,GAAQ,CACxDzvC,SAAU,WACVmtB,QACAuiB,SAAU5rC,YACV6rC,2BAT2B6lC,EAAAxE,EAKpBlqE,YALoB,IAAA0uE,EAKb,GALaA,EAKTrjE,EALS6+D,EAKT7+D,YAAgBg5B,EALPv1C,OAAAmZ,EAAA,EAAAnZ,CAAAo7E,EAAA,wBAYpB5uE,EAAgC0E,EAAhC1E,OAAQS,EAAwBiE,EAAxBjE,MAAO1G,EAAiB2K,EAAjB3K,GAAI0b,EAAa/Q,EAAb+Q,SACZw0B,EAAal6B,EAApBtP,MAER,OACCkS,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAACq8D,GAAD,KACCt8D,EAAAtgB,EAAAugB,cAAAkb,GAAA,GACCvmB,MAAOkmD,EACPz/B,SAAU,SAAC7B,EAAIjP,GAAL,OAAewwC,EAAYxwC,IACrC4J,QAAQ,aACR6mC,cAAc,OACdC,eAAe,UACf3/B,UAAU,WAEVtb,EAAAtgB,EAAAugB,cAAAsb,GAAA,GAAKjhB,MAAO3Z,aAAE,qBAGhBqf,EAAAtgB,EAAAugB,cAACs8D,GAAmBnmC,GACpBp2B,EAAAtgB,EAAAugB,cAACu8D,GAAD,KACCx8D,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,EAAGgtB,GAAI,GACdrvB,EAAAtgB,EAAAugB,cAAC0rD,GAAD9qE,OAAA03B,OAAA,CAAWzqB,MAAOA,EAAOwpC,SAAUA,GAAclB,IAEjDp2B,EAAAtgB,EAAAugB,cAAC20C,GAAD,CAAiBxnD,cAAeC,IAEhC2S,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKH,UAAWO,EAAQvb,SACvBG,EAAAtgB,EAAAugB,cAACygE,GAAD,CACCt9B,SAAS,kBACTt1C,MAAM,2BACNI,OAAQ9G,EACR07C,sBAAoB,EACpBvL,YAAanB,EAAUmB,YACvB/iB,MAAM,YACNL,QAAQ,YACRO,QAAS,kBACR+E,YACCknD,YAAwB,CACvBzyE,OAAQ9G,EACRgtC,WAAYgC,EAAUhC,iBAM1Bp0B,EAAAtgB,EAAAugB,cAACghD,GAAD,CACC7d,SAAS,6BACT5uB,MAAM,UACNL,QAAQ,YACRmvB,aAAc,kBACb7pB,YACCizB,aAAkB,gBAAD7rD,OAAAC,GAAA,EAAAD,CAAA,GACbkR,QAMPiO,EAAAtgB,EAAAugB,cAAC6rD,GAAD,CACC1oB,SAAS,yBACT5uB,MAAM,UACNL,QAAQ,YACRmvB,aAAc,kBACb7pB,YACCi/B,aAAkB,KAAM,KAAP73D,OAAAC,GAAA,EAAAD,CAAA,GACbkR,EADa,CAEhBjE,MAAOA,EAAQ,eAMjBgV,GACD9C,EAAAtgB,EAAAugB,cAACggD,GAAD,CACCh1D,SAAS,WACTiD,OAAQ9G,EACR0G,MAAOA,EACPusC,oBAAkB,mBCpIpB5d,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtCgnD,KAAM,CACLjiD,MAAO,QAERkiD,OAAQ,CACP/kD,QAAS,SACTkmB,UAAW,aAEZnwB,QAAS,CACR2C,MAAOoF,EAAMK,QAAQpI,QAAQsI,MAE9BvI,QAAS,CACR4C,MAAOoF,EAAMK,QAAQrI,QAAQuI,SAIhB,SAAS2mD,KACvB,IAAM1lD,EAAUqB,KACVjwB,EAAW+oB,YAAY9oB,MAE7B,OACCuT,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAAAyf,EAAA,GAAM7E,UAAWO,EAAQwlD,KAAMtuB,OAAK,EAACD,gBAAc,GAClDryC,EAAAtgB,EAAAugB,cAAAilC,GAAA,GAAe67B,eAAa,GAC1BpgF,aAAE,wBAEH6L,EAASnL,IAAI,SAAAd,EAA0BgqB,GAAU,IAAjCnjB,EAAiC7G,EAAjC6G,GAAI2lB,EAA6BxsB,EAA7BwsB,OAAQ/H,EAAqBzkB,EAArBykB,QAC5B,OACChF,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,CAAU7O,IAAKpe,GACd4Y,EAAAtgB,EAAAugB,cAAAoc,EAAA,OACCrc,EAAAtgB,EAAAugB,cAAA4f,EAAA,OACE9S,EAAOntB,OACPogB,EAAAtgB,EAAAugB,cAAA+gE,GAAA,GAAcnmD,UAAWO,EAAQvJ,UAEjC7R,EAAAtgB,EAAAugB,cAAA60C,GAAA,GAAYj6B,UAAWO,EAAQxJ,WAGjC5R,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACC7F,QAAS9yB,EACT61B,UAAWjd,EAAAtgB,EAAAugB,cAACm8C,GAAD,CAAervC,OAAQA,EAAQsvC,YAAU,MAErDr8C,EAAAtgB,EAAAugB,cAAAghE,GAAA,OACCjhE,EAAAtgB,EAAAugB,cAACw8C,GAAD,CACCr1D,GAAIA,EACJ2lB,OAAQA,EACR/H,QAASA,MAIXuF,EAAQ/d,EAAS5M,OAAS,GAAKogB,EAAAtgB,EAAAugB,cAAAib,EAAA,cAOtClb,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,GACRvgC,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAAC08C,GAAD,iCC+DUukB,GA3Hc,WAAkC,IAAA3gF,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAxB8+C,EAA+Bl+C,EAA/Bk+C,QAASn3C,EAAsB/G,EAAtB+G,WAChC0iB,EAAWuL,YAAYj0B,MAAvB0oB,OACmCvV,EAAQ8gB,YAClDvxB,KADOm7B,kCAFsDglC,EAMrB5uC,YAAY,SAAAv1B,GAAK,OACzDwiB,aAAyBxiB,EAAOy+C,KADzB0iC,EANsDhd,EAMtDgd,iBAAkBC,EANoCjd,EAMpCid,WAIpBltC,EAAU3e,YAAY,SAAAv1B,GAAK,OAAImH,aAAkBnH,EAAOsH,KACxD+5E,EAAc9rD,YAAY,SAAAv1B,GAAK,OACpCqH,aAAkCrH,EAAOsH,KAZoBg6E,EAmB1D/rD,YAAY,SAAAv1B,GAAK,OAAIqd,aAAsBrd,EAAOsH,IAAe,KAHlDi6E,EAhB2CD,EAgB7DH,iBACYK,EAjBiDF,EAiB7DF,WACMK,EAlBuDH,EAkB7DI,KAGD,OACC1hE,EAAAtgB,EAAAugB,cAACirC,GAAD,KACEm2B,EACArhE,EAAAtgB,EAAAugB,cAACurC,GAAD,CACCE,KAAM,CAAC,CAAE7V,QAAS,kBAClB3B,SAAS,IAGVl0B,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACCnrC,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,YAAY2H,QAAQ,SACtCn7B,aAAE,4DAA6D,CAC/D+J,KAAM,CAAC+J,EAAKuV,OAIfhK,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCj1B,SAAU+xB,EACVlrC,KAAK,OACLmrB,QAAQ,WACR0wB,UAAQ,EACR1R,WAAS,EACT74B,MAAO3Z,aAAE,eACT0d,KAAK,aACLzJ,MAAOwsE,GAAc,GACrB/lD,SAAU,SAAA7B,GAAE,OACXC,YACCkoD,aAAqB,CACpBC,GAAInjC,EACJj5B,IAAK,aACL5Q,MAAO4kB,EAAG+G,OAAO3rB,UAIpBod,MAAOwvD,KAAaA,EAAQz/D,MAC5Bm1B,WAAYsqC,GAAaA,EAAQz/D,MAAQy/D,EAAQ5pC,OAAS,KAE1D1D,EAAUl0B,EAAAtgB,EAAAugB,cAACqlC,GAAD,MAAmB,MAE/BtlC,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCj1B,SAAU+xB,EACVlrC,KAAK,OACLmrB,QAAQ,WACRgf,WAAS,EACT0R,UAAQ,EACRvqC,MAAO3Z,aAAE,uBACT0d,KAAK,mBACLzJ,MAAOusE,GAAoB,GAC3B9lD,SAAU,SAAA7B,GAAE,OACXC,YACCkoD,aAAqB,CACpBC,GAAInjC,EACJj5B,IAAK,mBACL5Q,MAAO4kB,EAAG+G,OAAO3rB,UAIpBod,MAAOuvD,KAAeA,EAAUx/D,MAChCm1B,WACCl3B,EAAAtgB,EAAAugB,cAAA,YACCD,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACC/B,KAAK,QACLC,QAAS,WACR+E,YACCkoD,aAAqB,CACpBC,GAAInjC,EACJj5B,IAAK,mBACL5Q,MAAOH,OAKT9T,aAAE,yBAA0B,CAC5B+J,KAAM,CAAC+J,EAAKuV,MAGdhK,EAAAtgB,EAAAugB,cAAA,YACEshE,GAAeA,EAAUx/D,MAAQw/D,EAAU3pC,OAAS,QAMzD6pC,GAAWA,EAAQ1/D,OAAS0/D,EAAQ7pC,QACpC53B,EAAAtgB,EAAAugB,cAAAgU,EAAA,GAAOE,QAAQ,WAAWD,SAAS,SACjCutD,EAAQ7pC,WC2BDiqC,GAzIsB,WAAkC,IAAAthF,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAxB8+C,EAA+Bl+C,EAA/Bk+C,QAASn3C,EAAsB/G,EAAtB+G,WAAsBguB,EAMlEC,YAAY,SAAAv1B,GAAK,OAAIwiB,aAAyBxiB,EAAOy+C,KAJxD0iC,EAFqE7rD,EAErE6rD,iBACAC,EAHqE9rD,EAGrE8rD,WACAU,EAJqExsD,EAIrEwsD,aACAC,EALqEzsD,EAKrEysD,cAGK7tC,EAAU3e,YAAY,SAAAv1B,GAAK,OAAImH,aAAkBnH,EAAOsH,KACxD+5E,EAAc9rD,YAAY,SAAAv1B,GAAK,OACpCqH,aAAkCrH,EAAOsH,KAV4Bm+C,EAmBlElwB,YAAY,SAAAv1B,GAAK,OAAIqd,aAAsBrd,EAAOsH,IAAe,KALlDi6E,EAdmD97B,EAcrE07B,iBACYK,EAfyD/7B,EAerE27B,WACcY,EAhBuDv8B,EAgBrEq8B,aACeG,EAjBsDx8B,EAiBrEs8B,cACMN,EAlB+Dh8B,EAkBrEi8B,KAGD,OACC1hE,EAAAtgB,EAAAugB,cAACirC,GAAD,KACEm2B,EACArhE,EAAAtgB,EAAAugB,cAACurC,GAAD,CACCE,KAAM,CAAC,CAAE7V,QAAS,kBAClB3B,SAAS,IAGVl0B,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACCnrC,EAAAtgB,EAAAugB,cAACm3B,GAAA,EAAD,CACCj1B,SAAU+xB,EACVlrC,KAAK,OACL67C,UAAQ,EACR1R,WAAS,EACT74B,MAAO3Z,aAAE,0BACT0d,KAAK,eACLzJ,MAAOktE,GAAgB,GACvBzmD,SAAU,SAAA7B,GAAE,OACXC,YACCkoD,aAAqB,CACpBC,GAAInjC,EACJj5B,IAAK,eACL5Q,MAAO4kB,EAAG+G,OAAO3rB,UAIpBod,MAAOgwD,KAAqBA,EAAgBjgE,MAC5Cm1B,WACC8qC,GAAqBA,EAAgBjgE,MAClCigE,EAAgBpqC,OAChB,KAIL53B,EAAAtgB,EAAAugB,cAACm3B,GAAA,EAAD,CACCpuC,KAAK,OACLmZ,SAAU+xB,EACVf,WAAS,EACT0R,UAAQ,EACRvqC,MAAO3Z,aAAE,+BACT0d,KAAK,gBACLzJ,MAAOmtE,GAAiB,GACxB1mD,SAAU,SAAA7B,GAAE,OACXC,YACCkoD,aAAqB,CACpBC,GAAInjC,EACJj5B,IAAK,gBACL5Q,MAAO4kB,EAAG+G,OAAO3rB,UAIpBod,MAAOiwD,KAAsBA,EAAiBlgE,MAC9Cm1B,WACC+qC,GAAsBA,EAAiBlgE,MACpCkgE,EAAiBrqC,OACjB,KAGL53B,EAAAtgB,EAAAugB,cAACm3B,GAAA,EAAD,CACCj1B,SAAU+xB,EACVlrC,KAAK,OACL67C,UAAQ,EACR1R,WAAS,EACT74B,MAAO3Z,aAAE,eACT0d,KAAK,aACLzJ,MAAOwsE,GAAc,GACrB/lD,SAAU,SAAA7B,GAAE,OACXC,YACCkoD,aAAqB,CACpBC,GAAInjC,EACJj5B,IAAK,aACL5Q,MAAO4kB,EAAG+G,OAAO3rB,UAIpBod,MAAOwvD,KAAaA,EAAQz/D,MAC5Bm1B,WAAYsqC,GAAaA,EAAQz/D,MAAQy/D,EAAQ5pC,OAAS,KAE1D1D,EAAUl0B,EAAAtgB,EAAAugB,cAACqlC,GAAD,MAAmB,KAC9BtlC,EAAAtgB,EAAAugB,cAACm3B,GAAA,EAAD,CACCj1B,SAAU+xB,EACVlrC,KAAK,OACLmqC,WAAS,EACT0R,UAAQ,EACRvqC,MAAO3Z,aAAE,uBACT0d,KAAK,mBACLzJ,MAAOusE,GAAoB,GAC3B9lD,SAAU,SAAA7B,GAAE,OACXC,YACCkoD,aAAqB,CACpBC,GAAInjC,EACJj5B,IAAK,mBACL5Q,MAAO4kB,EAAG+G,OAAO3rB,UAIpBod,MAAOuvD,KAAeA,EAAUx/D,MAChCm1B,WAAYqqC,GAAeA,EAAUx/D,MAAQw/D,EAAU3pC,OAAS,KAEhE6pC,GAAWA,EAAQ1/D,OAAS0/D,EAAQ7pC,QACpC53B,EAAAtgB,EAAAugB,cAAAgU,EAAA,GAAOE,QAAQ,WAAWD,SAAS,SACjCutD,EAAQ7pC,WCnHRsqC,GAA2B/jE,aAA3B+jE,uBAEFC,GAAkBthF,OAAOuK,OAAO82E,IAAwB7gF,IAAI,SAAAuT,GACjE,MAAO,CACNA,QACA0F,MAAO3Z,aAAC,QAAA2I,OAASsL,EAAT,WACRkd,KAAMnxB,aAAC,QAAA2I,OAASsL,EAAT,aAkJMwtE,OA9If,WAA0D,IAAA7hF,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAxB8+C,EAA4Bl+C,EAA5Bk+C,QAASn3C,EAAmB/G,EAAnB+G,WAAmBguB,EACGC,YAC3D,SAAAv1B,GAAK,OAAIwiB,aAAyBxiB,EAAOy+C,KADlC4jC,EADiD/sD,EACjD+sD,QAASC,EADwChtD,EACxCgtD,UAAWC,EAD6BjtD,EAC7BitD,gBAAiBC,EADYltD,EACZktD,WADY/8B,EAUrDlwB,YAAY,SAAAv1B,GAAK,OAAIqd,aAAsBrd,EAAOsH,IAAe,KAJ3Dk6E,EAN+C/7B,EAMxD48B,QACgBxwD,EAPwC4zB,EAOxDg9B,eACWC,EAR6Cj9B,EAQxD68B,UACMb,EATkDh8B,EASxDi8B,KAGKL,EAAc9rD,YAAY,SAAAv1B,GAAK,OACpCqH,aAAkCrH,EAAOsH,KAG1C,OACC0Y,EAAAtgB,EAAAugB,cAACirC,GAAD,KACEm2B,EACArhE,EAAAtgB,EAAAugB,cAACurC,GAAD,CACCE,KAAM,CAAC,CAAE7V,QAAS,kBAClB3B,SAAS,IAGVl0B,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACCnrC,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,YAAY2H,QAAQ,SACtCn7B,aAAE,oCADJ,MAIDqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACCpuC,KAAK,OACLmrB,QAAQ,WACR0wB,UAAQ,EACR1R,WAAS,EACT74B,MAAO3Z,aAAE,0BACT0d,KAAK,UACLzJ,MAAOytE,GAAW,GAClBhnD,SAAU,SAAA7B,GAAE,OACXC,YACCkoD,aAAqB,CACpBC,GAAInjC,EACJj5B,IAAK,UACL5Q,MAAO4kB,EAAG+G,OAAO3rB,UAIpBod,MAAOwvD,KAAaA,EAAQz/D,MAC5Bm1B,WAAYsqC,GAAaA,EAAQz/D,MAAQy/D,EAAQ5pC,OAAS,MAG5D53B,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAC8lC,GAAD,CACClB,UAAQ,EACR1wB,QAAQ,WACR7Z,MAAO3Z,aAAE,qBAET06B,SAAU,SAAAjxB,GAAG,OACZqvB,YACCkoD,aAAqB,CACpBC,GAAInjC,EACJj5B,IAAK,YACL5Q,MAAOxK,MAIV+W,OAAQghE,GACRvtE,MAA4B,kBAAd0tE,EAAyBA,EAAY,GACnD79B,OAAO,kBACPtR,WAAS,EACTnhB,MAAO0wD,KAAgBA,EAAW3gE,MAClCm1B,WACCwrC,GAAgBA,EAAW3gE,MACxB2gE,EAAW9qC,OACXj3C,aAAE,mCAIRqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,UAAU2H,QAAQ,QAAQsT,cAAY,GACxDzuC,aAAE,yBADJ,KAGCwhF,GAAgB9gF,IAAI,SAAAsM,GAAC,OACrBqS,EAAAtgB,EAAAugB,cAAAqf,GAAA,GACC9Z,IAAK7X,EAAEiH,MACPuf,QAAQ,UACR2H,QAAQ,QACRsT,cAAY,GAEZpvB,EAAAtgB,EAAAugB,cAAA,cAAStS,EAAE2M,MAAX,KAND,IAM8B3M,EAAEmkB,QAGjC9R,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,UAAU2H,QAAQ,QAAQsT,cAAY,GAA1D,KACIzuC,aAAE,sBAGLkxB,GAAW0wD,GAAmBC,IAC/BxiE,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAizB,GAAA,GACClhB,MAAOH,GAAWA,EAAQ9P,MAC1Bwd,UAAU,YAEVvf,EAAAtgB,EAAAugB,cAAAsxC,GAAA,GACCC,QACCxxC,EAAAtgB,EAAAugB,cAAAwxC,GAAA,GACCC,UAAW6wB,EACXlnD,SAAU,SAAA7B,GAAE,OACXC,YACCkoD,aAAqB,CACpBC,GAAInjC,EACJj5B,IAAK,kBACL5Q,MAAO4kB,EAAG+G,OAAOmxB,YAIpB98C,MAAM,kBACN4f,MAAM,YAGRla,MAAO3Z,cAAGkxB,GAAW,IAAI+lB,QAAU4qC,OAKtCf,GAAWA,EAAQ1/D,OAAS0/D,EAAQ7pC,QACpC53B,EAAAtgB,EAAAugB,cAAAgU,EAAA,GAAOE,QAAQ,WAAWD,SAAS,SACjCutD,EAAQ7pC,WCvED+qC,OA3Ef,WAAyD,IAAApiF,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAxB8+C,EAA4Bl+C,EAA5Bk+C,QAASn3C,EAAmB/G,EAAnB+G,WAC7Bs7E,EAAartD,YAAY,SAAAv1B,GAAK,OACrCwiB,aAAyBxiB,EAAOy+C,KADzBmkC,SADgDn9B,EAKPlwB,YAChD,SAAAv1B,GAAK,OAAIqd,aAAsBrd,EAAOsH,IAAe,KADpCu7E,EALsCp9B,EAKhDm9B,SAA6BnB,EALmBh8B,EAKzBi8B,KAGzBL,EAAc9rD,YAAY,SAAAv1B,GAAK,OACpCqH,aAAkCrH,EAAOsH,KAG1C,OACC0Y,EAAAtgB,EAAAugB,cAACirC,GAAD,KACEm2B,EACArhE,EAAAtgB,EAAAugB,cAACurC,GAAD,CACCE,KAAM,CAAC,CAAE7V,QAAS,kBAClB3B,SAAS,IAGVl0B,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACCnrC,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAQ,YAAY2H,QAAQ,SACtCn7B,aAAE,qBADJ,MAIDqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAm3B,GAAA,GACC3gB,WAAS,EACTztB,KAAK,OACLmrB,QAAQ,WACR0wB,UAAQ,EACR1R,WAAS,EACT74B,MAAO3Z,aAAE,sBACT0d,KAAK,WACLzJ,MAAOguE,GAAY,GACnBvnD,SAAU,SAAA7B,GAAE,OACXC,YACCkoD,aAAqB,CACpBC,GAAInjC,EACJj5B,IAAK,WACL5Q,MAAO4kB,EAAG+G,OAAO3rB,UAIpBuiC,WAAY,CACXW,aACC93B,EAAAtgB,EAAAugB,cAAA83B,GAAA,GAAgB1a,SAAS,OAAzB,IAAA/zB,OACM3B,cAIRqqB,MAAO6wD,KAAiBA,EAAY9gE,MACpCm1B,WACC2rC,GAAiBA,EAAY9gE,MAAQ8gE,EAAYjrC,OAAS,MAI5D6pC,GAAWA,EAAQ1/D,OAAS0/D,EAAQ7pC,QACpC53B,EAAAtgB,EAAAugB,cAAAgU,EAAA,GAAOE,QAAQ,WAAWD,SAAS,SACjCutD,EAAQ7pC,WCxEHkrC,GAA0B,SAAAviF,GAAA,IACtC6gF,EADsC7gF,EACtC6gF,WACAhmD,EAFsC76B,EAEtC66B,QACA2nD,EAHsCxiF,EAGtCwiF,SACA5B,EAJsC5gF,EAItC4gF,iBACAn3D,EALsCzpB,EAKtCypB,OALsC,OAOtChK,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACCxmC,IAAI,aACJ8X,KAAM38B,aAAE,aAAc,CAAE6J,QAAQ,IAChC+yB,OAAQ6jD,GAAc,IAAI/1D,aAE3BrL,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACCxmC,IAAI,mBACJ8X,KAAM38B,aAAE,mBAAoB,CAAE6J,QAAQ,IACtC+yB,MACCvd,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACClF,UAAWO,EAAQr6B,QACnBk8B,UAAWt8B,aAAE,uBAAwB,CACpC+J,KAAM,CAACq4E,EAASrB,KAAM13D,EAAQ+4D,EAASC,MAAOh5D,KAE/CkQ,QAAO,GAAA5wB,OAAK63E,EAAL,KAAA73E,OAAyB0gB,SAOxBi5D,GAAsB,SAAAhiF,GAAA,IAClCohF,EADkCphF,EAClCohF,QACAjnD,EAFkCn6B,EAElCm6B,QACA2nD,EAHkC9hF,EAGlC8hF,SACAT,EAJkCrhF,EAIlCqhF,UACAt4D,EALkC/oB,EAKlC+oB,OALkC,OAOlChK,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACCxmC,IAAI,UACJ8X,KAAM38B,aAAE,UAAW,CAAE6J,QAAQ,IAC7B+yB,OAAQ8kD,GAAW,IAAIh3D,aAExBrL,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACCxmC,IAAI,YACJ8X,KAAM38B,aAAE,YAAa,CAAE6J,QAAQ,IAC/B+yB,MACCvd,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACClF,UAAWO,EAAQr6B,QACnBk8B,UAAWt8B,aAAE,2BAA4B,CACxC+J,KAAM,CAACq4E,EAASrB,KAAM13D,KAEvBkQ,QAASv5B,aAAC,QAAA2I,OAASg5E,EAAT,iBAOFY,GAAgB,SAAA9hF,GAAA,IAC5BwhF,EAD4BxhF,EAC5BwhF,SACA7hF,EAF4BK,EAE5BL,QACAq6B,EAH4Bh6B,EAG5Bg6B,QACA2nD,EAJ4B3hF,EAI5B2hF,SACA/4D,EAL4B5oB,EAK5B4oB,OAL4B,OAO5BhK,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACCxmC,IAAI,OACJ8X,KAAM38B,aAAE,sBACR48B,OAAQx8B,GAAW,IAAIsqB,aAExBrL,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACCxmC,IAAI,WACJ8X,KAAM38B,aAAE,WAAY,CAAE6J,QAAQ,IAC9B+yB,MACCvd,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACClF,UAAWO,EAAQr6B,QACnBk8B,UAAWt8B,aAAE,oBAAqB,CACjC+J,KAAM,CACLq4E,EAASrB,KACT13D,EAFK,GAAA1gB,OAGFs5E,EAHE,KAAAt5E,OAGU3B,eAGjBuyB,QAAO,GAAA5wB,OAAKs5E,EAAL,KAAAt5E,OAAiB3B,kBAOhBw7E,GAA6B,SAAA3hF,GAAA,IACzC4/E,EADyC5/E,EACzC4/E,WACAU,EAFyCtgF,EAEzCsgF,aACA1mD,EAHyC55B,EAGzC45B,QACA2nD,EAJyCvhF,EAIzCuhF,SACA5B,EALyC3/E,EAKzC2/E,iBALyC,OAOzCnhE,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACCxmC,IAAI,aACJ8X,KAAM38B,aAAE,aAAc,CAAE6J,QAAQ,IAChC+yB,OAAQ6jD,GAAc,IAAI/1D,aAE3BrL,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACCxmC,IAAI,eACJ8X,KAAM38B,aAAE,eAAgB,CAAE6J,QAAQ,IAClC+yB,OAAQukD,GAAgB,IAAIz2D,aAE7BrL,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACCxmC,IAAI,mBACJ8X,KAAM38B,aAAE,mBAAoB,CAAE6J,QAAQ,IACtC+yB,MACCvd,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACClF,UAAWO,EAAQr6B,QACnBk8B,UAAWt8B,aAAE,uBAAwB,CACpC+J,KAAM,CAACq4E,EAASrB,KAAM,GAAIqB,EAASC,MAAO,MAE3C9oD,QAASinD,EAAmB,UCxF3B1kD,GAAY9C,aCpCI,SAAAC,GAErB,MAAO,CACN5H,MAAO,CACNwC,MAAOoF,EAAMK,QAAQjI,MAAMmI,MAE5BtI,QAAS,CACR2C,MAAOoF,EAAMK,QAAQpI,QAAQuxD,MAE9BC,eAAgB,CACfhmD,SAAU,WACVC,KAAM,mBACN5J,IAAK,qBAENm4B,WAAY,CACXntB,OAAQ,IACRC,MAAO,OACPkD,SAAU,OACVuxC,UAAWx5C,EAAMy5C,QAAQ,ODkKbiQ,OA9If,SAA4BnxD,GAC3B,IAAMiJ,EAAUqB,KACR8mD,EAA6BpxD,EAA7BoxD,gBAAiB9kC,EAAYtsB,EAAZssB,QACnB+kC,EAAO/kC,EACPn8C,EAAUizB,YAAYlzB,KACpBtB,EAAYuB,EAAQM,SAApB7B,QACAipB,EAAWuL,YAAYj0B,MAAvB0oB,OACFkqB,EAAU3e,YAAY,SAAAv1B,GAAK,OAAImH,aAAkBnH,EAAOy+C,KAP5BgH,EAkB9BlwB,YAAY,SAAAv1B,GAAK,OAAIwiB,aAAyBxiB,EAAOwjF,KATxDpC,EATiC37B,EASjC27B,WACAD,EAViC17B,EAUjC07B,iBACAsC,EAXiCh+B,EAWjCg+B,uBACApB,EAZiC58B,EAYjC48B,QACAO,EAbiCn9B,EAajCm9B,SACAN,EAdiC78B,EAcjC68B,UACAR,EAfiCr8B,EAejCq8B,aAfiC4B,EAAAj+B,EAgBjCs9B,gBAhBiC,IAAAW,EAgBtB,GAhBsBA,EAAAC,EAAAl+B,EAiBjC5jC,cAjBiC,IAAA8hE,EAiBxB,GAjBwBA,EAAAzuD,EAmBcC,oBAAS,GAnBvBC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAmB3Bs+B,EAnB2Bp+B,EAAA,GAmBTq+B,EAnBSr+B,EAAA,GAiClC,OAZAc,oBAAU,WAAM,SAAAg+B,IAAA,OAAAA,EAAArzD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KACf,SAAAC,IAAA,IAAAkf,EAAA,OAAApf,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACmB4B,YAAQ06B,eAD3B,QACOzd,EADP9e,EAAA0xB,OAIEmK,EAAoB/c,GAJtB,wBAAA9e,EAAAI,SAAAR,OADe9iB,MAAA4d,KAAA3yB,YAAA,WAAAu0D,EAAAx/C,MAAA4d,KAAA3yB,WASf00D,IACE,IAGFr0C,EAAAtgB,EAAAugB,cAAA,WACEi0B,EACAl0B,EAAAtgB,EAAAugB,cAACsrC,GAAD,MAEAvrC,EAAAtgB,EAAAugB,cAACirC,GAAD,KACEu4B,GAA0BjwB,EAC1BxzC,EAAAtgB,EAAAugB,cAACmrC,GAAD,KACEq4B,GACAzjE,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAACq0C,GAAD,CAAc3zD,EAAGA,KAAGmC,SAAUR,EAAQK,OAAOG,YAG9C0wD,GACAxzC,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAAAgU,EAAA,GAAOC,SAAS,UAAUC,QAAQ,SAAS89B,QAAM,GAChDjyC,EAAAtgB,EAAAugB,cAAAs0C,GAAA,OAAa5zD,aAAE,oBACd6yD,KAKF,KACJxzC,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACEtpC,EAAOjiB,OACLiiB,EAAOxgB,IAAI,SAACkvB,EAAKhG,GAAN,OACXvK,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACCxmC,IAAK+E,EACLq5D,cAAexoD,EAAQpJ,MACvB6xD,eAAgBzoD,EAAQpJ,MACxBsL,KAAMtd,EAAAtgB,EAAAugB,cAACugC,GAAA9gD,EAAD,MACN69B,MAAOhN,MAGR,KAEFgzD,EACEA,EAAgBliF,IAAI,SAACq1C,EAAKnsB,GAAN,OACpBvK,EAAAtgB,EAAAugB,cAAC+rC,GAAD,CACCxmC,IAAK+E,EACLq5D,cAAexoD,EAAQvJ,QACvBgyD,eAAgBzoD,EAAQvJ,QACxByL,KAAMtd,EAAAtgB,EAAAugB,cAACotB,GAAA3tC,EAAD,MACN69B,MAAO58B,aAAE+1C,EAAIA,IAAK,CAAEhsC,KAAMgsC,EAAIhsC,WAG/B,KAEU,yBAAZ+zC,GACAz+B,EAAAtgB,EAAAugB,cAAC6jE,GAAD,CACCnjF,EAAGA,KACHygF,WAAYA,EACZhmD,QAASA,EACT2nD,SAAUA,EACV5B,iBAAkBA,EAClBn3D,OAAQA,IAIG,yBAAZy0B,GACAz+B,EAAAtgB,EAAAugB,cAAC8jE,GAAD,CACCpjF,EAAGA,KACH0hF,QAASA,EACTjnD,QAASA,EACT2nD,SAAUA,EACVT,UAAWA,EACXt4D,OAAQA,IAIG,4BAAZy0B,GACAz+B,EAAAtgB,EAAAugB,cAAC+jE,GAAD,CACCrjF,EAAGA,KACHygF,WAAYA,EACZhmD,QAASA,EACT2nD,SAAUA,EACV5B,iBAAkBA,EAClBW,aAAcA,EACd93D,OAAQA,IAIG,WAAZy0B,GACAz+B,EAAAtgB,EAAAugB,cAACgkE,GAAD,CACCtjF,EAAGA,KACH0hF,QAASA,EACTjnD,QAASA,EACT2nD,SAAUA,EACVhiF,QAASA,EACTipB,OAAQA,EACR44D,SAAUA,IAGZ5iE,EAAAtgB,EAAAugB,cAACu0C,GAAD,CACCzC,mBAAoBgxB,EAAShxB,mBAC7B/nC,OAAQA,QEhJTk6D,GAAsBthC,GAAWlC,IAMjCyjC,GAAW,CAChB1jC,eALsB,SAAAhC,GACtBhlB,YAAQ2qD,YAAoB,CAAExC,GAAInjC,MAKlC2f,kBAAkB,GAGNimB,GAA4B,SAAAlyD,GAAK,OAC7CnS,EAAAtgB,EAAAugB,cAACikE,GAADrjF,OAAA03B,OAAA,GACKpG,EADL,CAECixB,SAAS,qCACTkhC,aAAa,0CACbx2E,MAAM,uCACN2wC,QAAQ,wBACJ0lC,GANL,CAOC/1C,MAAO,CACN,CACCtgC,MAAO,sCACPyxB,UAAW2hD,GACX3iC,aAAc,SAAApsB,GAAK,OAAIsH,YAAQ8qD,aAAyBpyD,MAEzD,CACCrkB,MAAO,sBACP8wC,iBAAkB,UAClBrf,UAAW+jD,GACX5kC,WAAY,SAAAvsB,GAAK,OAChBsH,YACC+qD,YAAW3jF,OAAAC,GAAA,EAAAD,CAAA,GACPsxB,EADM,CAET0rC,cAAe4mB,eAQTC,GAAuB,SAAAnkF,GAAkCA,EAA/B0zC,QAA+B,IAAtB35B,EAAsB/Z,EAAtB+Z,MAAU6X,EAAYtxB,OAAAmZ,EAAA,EAAAnZ,CAAAN,EAAA,qBACrE,OACCyf,EAAAtgB,EAAAugB,cAACikE,GAADrjF,OAAA03B,OAAA,GACKpG,EADL,CAECixB,SAAU9oC,GAAS,qCACnBgqE,aAAa,0CACbx2E,MAAM,uCACN2wC,QAAQ,wBACJ0lC,GANL,CAOC/1C,MAAO,CACN,CACCtgC,MAAO,sCACPyxB,UAAW6iD,GACX7jC,aAAc,SAAApsB,GAAK,OAAIsH,YAAQkrD,aAAyBxyD,MAEzD,CACCrkB,MAAO,sBACP8wC,iBAAkB,UAClBrf,UAAW+jD,GACX5kC,WAAY,SAAAvsB,GAAK,OAChBsH,YACC+qD,YAAW3jF,OAAAC,GAAA,EAAAD,CAAA,GACPsxB,EADM,CAET0rC,cAAe+mB,gBASV/C,GAA+B,SAAA1vD,GAAK,OAChDnS,EAAAtgB,EAAAugB,cAACikE,GAADrjF,OAAA03B,OAAA,GACKpG,EADL,CAECixB,SAAS,yCACTkhC,aAAa,0CACbx2E,MAAM,uCACN2wC,QAAQ,2BACJ0lC,GANL,CAOC/1C,MAAO,CACN,CACCtgC,MAAO,sCACPyxB,UAAWslD,GACXtmC,aAAc,SAAApsB,GAAK,OAAIsH,YAAQqrD,aAA4B3yD,MAE5D,CACCrkB,MAAO,sBACP8wC,iBAAkB,UAClBrf,UAAW+jD,GACX5kC,WAAY,SAAAvsB,GAAK,OAChBsH,YACC+qD,YAAW3jF,OAAAC,GAAA,EAAAD,CAAA,GACPsxB,EADM,CAET0rC,cAAeknB,eAQTC,GAAgB,SAAA7yD,GAAK,OACjCnS,EAAAtgB,EAAAugB,cAACikE,GAADrjF,OAAA03B,OAAA,GACKpG,EADL,CAECixB,SAAS,sBACTkhC,aAAa,2BACbx2E,MAAM,wBACN2wC,QAAQ,UACJ0lC,GANL,CAOC/1C,MAAO,CACN,CACCtgC,MAAO,uBACPyxB,UAAWojD,GACXpkC,aAAc,SAAApsB,GAAK,OAAIsH,YAAQwrD,aAAkB9yD,MAElD,CACCrkB,MAAO,sBACP8wC,iBAAkB,UAClBrf,UAAW+jD,GACX5kC,WAAY,SAAAvsB,GAAK,OAChBsH,YACC+qD,YAAW3jF,OAAAC,GAAA,EAAAD,CAAA,GACPsxB,EADM,CAET0rC,cAAeqnB,qCCnGhBjgB,GAAWvuC,GAAoBF,EAAA,GAE/B2uD,GAAuBx9E,kCACvBy9E,GAAsBz9E,6CACtB09E,GAAyB19E,gCACzB29E,GAAwB39E,6CAExB49E,GAAc,SAAAhlF,GAAqB,IAAlB+8B,EAAkB/8B,EAAlB+8B,KAAMC,EAAYh9B,EAAZg9B,MACtBnC,EAAUqB,KAChB,OACCzc,EAAAtgB,EAAAugB,cAAAoc,EAAA,OACCrc,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GACCC,WAAS,EACThrB,UAAWO,EAAQhB,KACnBoE,QAAS,EACTgnC,QAAQ,SACRxpC,WAAW,UAEXhc,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,EAAG5c,GAAI,GAC5BxP,GAEFtd,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,EAAG5c,GAAI,GAC5BvP,MAOAd,GAAY9C,aC7EI,SAAAC,GAErB,MAAO,CACNQ,KAAM,CACLgF,SAAU,GAEXomD,UAAW,CACVhhD,OANc5K,EAAM4E,QAAQ,IAQ7Bz9B,QAAS,CACR6yC,SAAU,aACVoO,UAAW,YACX5iB,SAAU,GAEXqmD,aAAc,CACb9mD,MAAO,QAER+mD,YAAa,CACZ1kD,YAAapH,EAAM4E,QAAQ,ODkT9B,SAASmnD,GAAqBxzD,GAC7B,IAAMiJ,EAAUqB,KACVmpD,EAAqBrwD,YAAYlwB,MACjCwgF,EAAYD,EAAqB,EAC/B7kF,EAA2CoxB,EAA3CpxB,QAAS+kF,EAAkC3zD,EAAlC2zD,WAAY39D,EAAsBgK,EAAtBhK,QAASrlB,EAAaqvB,EAAbrvB,SAChCijF,EAAa,CAAC,WAAY,YAAa,WACrC5mD,EAAsC5J,YAC7CvxB,KADOm7B,kCAGR,OACCnf,EAAAtgB,EAAAugB,cAAC+lE,GAAD,CACC1oD,KACCtd,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GACCC,WAAS,EACTnD,UAAU,MACVlkB,QAAS,EACTxC,WAAW,SACXwpC,QAAQ,cAERxlD,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,GACTiO,EAAAtgB,EAAAugB,cAAAgmE,GAAA,GAAQzxD,MAAOuxD,EAAWD,MAE3B9lE,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,GACTiO,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACClF,UAAWO,EAAQr6B,QACnBm5B,QAASla,EAAAtgB,EAAAugB,cAAAqf,GAAA,OAAa4F,aAAcnkC,IACpCk8B,UAAWt8B,aAAE,oBAAqB,CACjC+J,KAAM,SAAApB,OAASw8E,EAAT,iBAMXvoD,MACCvd,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACnD,UAAU,MAAM8iB,QAAQ,SAASxpC,WAAW,UAC1D7T,EACAnI,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACCrC,QAAQ,YACRgf,WAAS,EACThxB,UAAQ,EACR6uB,UAAWhxB,EAAAtgB,EAAAugB,cAAAimE,GAAA,QACXzxD,KAAK,QACLD,MAAOuxD,EAAWH,IANnB,GAAAt8E,OAQK3I,aAAE,gBARP,OAAA2I,OAQ4BxG,IAG5Bkd,EAAAtgB,EAAAugB,cAACkmE,GAAD,CACChkE,UAAW0jE,EACX1yC,WAAS,EACT3e,MAAM,UACNL,QAAQ,YACR7Z,MAAM,mBACNoa,QAAS,kBACR+E,YACCkoD,aAAqB,CACpBC,GAAI,uBACJp8D,IAAK,UACL5Q,MAAO7T,MAIV0zB,KAAK,QACL2xD,kBAAmBjnD,OASXknD,OA7Tf,WAAuB,IAAAC,EACI/wD,YAAYxyB,MAA9BD,gBADc,IAAAwjF,EACH,GADGA,EAEhBC,EAAkBhxD,YAAYhyB,KAC9BuiF,EAAavwD,YAAYlwB,MACzBY,EAAOsvB,YAAYxvB,MACnB8/E,EAAYC,EAAa,EACzB1gF,EAAoBmwB,YAAYtwB,KAChCrD,EAAuB2zB,YAAY7zB,MACjCsoB,EAAWuL,YAAYj0B,MAAvB0oB,OARcm6C,EAalB5uC,YAAYvxB,KAHfwiF,EAVqBriB,EAUrBqiB,cACA94D,EAXqBy2C,EAWrBz2C,yBACAyR,EAZqBglC,EAYrBhlC,kCAGKsnD,EAAkBlxD,YAAY,SAAAv1B,GAAK,OACxC4F,aAAuB5F,EAAOumF,KAGzB1+E,EAAkB0tB,YAAY3tB,MAnBdstB,EAqBUC,oBAAS,GArBnBC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAqBfwxD,EArBetxD,EAAA,GAqBLuxD,EArBKvxD,EAAA,GAuBhBgG,EAAUqB,KAMhB,OACCzc,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAAAyf,EAAA,GAAM7E,UAAWO,EAAQhB,KAAMi4B,gBAAc,GAC5CryC,EAAAtgB,EAAAugB,cAAAilC,GAAA,GAAe67B,eAAa,GAAEpgF,aAAE,iBAChCqf,EAAAtgB,EAAAugB,cAAC+lE,GAAD,CACC1oD,KACCtd,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKc,QAAQ,OAAOoB,cAAc,MAAMyX,SAAS,QAChD30B,EAAAtgB,EAAAugB,cAAA8f,EAAA,EAAAl/B,OAAA03B,OAAA,CACCsC,UAAWO,EAAQr6B,SACd0lF,GAAmB,CACvBvsD,QAASusD,EACTxpD,UAAWspD,IAENE,GAAmB,CACxBvsD,QAASqsD,EACTtpD,UAAWt8B,aAAE,kBAGfqf,EAAAtgB,EAAAugB,cAAAqU,EAAA,GACCE,MAAM,UACNE,QAAS,WACRyrD,KAAKoG,GACL9sD,YACCymD,YAAS,CACRl3E,KAAM,OACNsR,MAAO3Z,aAAE,uBACTmzB,QAAS,SAKZ9T,EAAAtgB,EAAAugB,cAACo+C,GAAA3+D,EAAD,QAIH69B,QACGgpD,GACDvmE,EAAAtgB,EAAAugB,cAAC2mE,GAAD,CACCzkE,UAAW0jE,EACX1yC,WAAS,EACThf,QAAQ,YACRK,MAAM,UACN3L,MAAM,MACN4L,KAAK,QACL2xD,kBAAmBjnD,MAMvBnf,EAAAtgB,EAAAugB,cAAAib,EAAA,QACAlb,EAAAtgB,EAAAugB,cAAC+lE,GAAD,CACC1oD,KACCtd,EAAAtgB,EAAAugB,cAACof,GAAD,CACCxD,SACEnO,GAAyD,IAA7BA,GAG9B1N,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACClF,UAAWO,EAAQr6B,QACnBm5B,QAAO,GAAA5wB,OAAK61B,GACX,EADM,KAAA71B,OACD0gB,GACNiT,UAAWt8B,aAAE,iDAIhB48B,MACCvd,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAAC4mE,GAAD,CACCvjE,GAAE,cAAAha,OAAgBrD,EAAhB,UACFktC,WAAS,EACThf,QAAQ,YACRK,MAAM,YACND,aAAW,SACXE,KAAK,SAELzU,EAAAtgB,EAAAugB,cAAC6mE,GAAApnF,EAAD,CAAgBm7B,UAAWO,EAAQsqD,cAClC/kF,aAAE,YAGLqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAAC8mE,GAAD,CACC5kE,UAAW0jE,EACX1yC,WAAS,EACThf,QAAQ,YACRK,MAAM,UACN4xD,kBAAmBjnD,EACnB6nD,qBAAsB7nD,EACtBtW,MAAOmB,EACPyK,KAAK,gBAQZzU,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,GACRvgC,EAAAtgB,EAAAugB,cAAA+xC,GAAA,GACC00B,SAAUA,EACVrrD,SA1GuB,WAC1BsrD,GAAaD,IA0GVz0B,QAAQ,EACR99B,QAAQ,YAERnU,EAAAtgB,EAAAugB,cAAAiyC,GAAA,GACCC,WAAYnyC,EAAAtgB,EAAAugB,cAACimB,GAAAxmC,EAAD,MACZkiC,gBAAc,mBACdx6B,GAAG,mBAEH4Y,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYzE,UAAWO,EAAQ6rD,SAC7BtmF,aAAE,uCAGLqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAib,EAAA,QACAlb,EAAAtgB,EAAAugB,cAAC+lE,GAAD,CACC1oD,KACCtd,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACClF,UAAWO,EAAQr6B,QACnBk8B,UAAW,GACX/C,QAASv5B,aAAE,qBAGb48B,MACCvd,EAAAtgB,EAAAugB,cAACkmE,GAAD,CACChkE,UAAW0jE,EACX1yC,WAAS,EACThf,QAAQ,YACRK,MAAM,YACNC,KAAK,QACL2xD,kBAAmBjnD,MAItBnf,EAAAtgB,EAAAugB,cAAAib,EAAA,QACAlb,EAAAtgB,EAAAugB,cAAAilC,GAAA,GAAe67B,eAAa,GAC1BpgF,aAAE,4BAEJqf,EAAAtgB,EAAAugB,cAAAyf,EAAA,GAAM2yB,gBAAc,GACnBryC,EAAAtgB,EAAAugB,cAAC0lE,GAAD,CACC5kF,QAASylF,EACTV,WAAYA,EACZhjF,SAAUA,EACVqlB,SAAO,IAEPtnB,OAAOub,KAAKhX,GACXyI,OAAO,SAAAnO,GAAC,OAAIA,IAAMkC,GAAwBlC,IAAM8mF,IAChDnlF,IAAI,SAACN,EAASykB,GAAV,OACJxF,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,CAAU7O,IAAKA,GACdxF,EAAAtgB,EAAAugB,cAAC0lE,GAAD,CACC5kF,QAASA,EACT+kF,WAAY1gF,EAAkBrE,SAKnCif,EAAAtgB,EAAAugB,cAAAib,EAAA,QACAlb,EAAAtgB,EAAAugB,cAAAyf,EAAA,GAAMtE,QAAS,CAAEhB,KAAMgB,EAAQqqD,eAC9BzlE,EAAAtgB,EAAAugB,cAAAoc,EAAA,OACCrc,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACClF,UAAWO,EAAQr6B,QACnBm5B,QAASv5B,aAAE,sBAAuB,CACjC+J,KAAM,CAACw6B,aAAckgD,OAEtBnoD,UAAWt8B,aAAE,uBAAwB,CACpC+J,KAAM,CAACy6E,SAIVnlE,EAAAtgB,EAAAugB,cAAAoc,EAAA,OACCrc,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACClF,UAAWO,EAAQr6B,QACnBm5B,QAASv5B,aAAE,wBAAyB,CACnC+J,KAAM,CAACw6B,aAAcogD,OAEtBroD,UAAWt8B,aAAE,yBAA0B,CACtC+J,KAAM,CAAC26E,SAKTx9E,GACAmY,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAAib,EAAA,QACAlb,EAAAtgB,EAAAugB,cAAAoc,EAAA,OACCrc,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCc,QAAQ,OACR6Y,SAAU,OACV5Y,KAAK,IACLoB,eAAe,gBACfnB,WAAW,UAEXhc,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKoE,SAAS,KACbpf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKiY,GAAI,GACRjzB,EAAAtgB,EAAAugB,cAACinE,GAAD,CACC/zC,WAAS,EACThf,QAAQ,YACRK,MAAM,UACNC,KAAK,+BEpTNyO,GAAS,SAAAtJ,GACrB,MAAO,CACNutD,QAAS,CACRv9D,gBAAiB,UACjBq4B,aAAc,WACdmlC,WAAY,OACZzlC,cAAe,QAEhB7zC,MAAO,CACNgxB,SAAU,OACV6d,UAAW,SACXgF,cAAe,aAEhByjB,SAAU,CACTtmC,SAAU,OACV6d,UAAW,SACXgF,cAAe,aAEhB9kB,MAAO,CACN6B,OAAQ,QAET5M,KAAM,CACLgN,SAAU,QAEXuoD,SAAU,CACT1qC,UAAW,SAEZ2qC,UAAW,CACVxoD,SAAU,QAEX6K,IAAK,CACJhL,MAAO,oBC/BG4oD,GAAc,SAAAhnF,GAA0B,IAAvBqM,EAAuBrM,EAAvBqM,IAAKkB,EAAkBvN,EAAlBuN,MAAO05E,EAAWjnF,EAAXinF,EAAGC,EAAQlnF,EAARknF,EAEtCC,OACiB7nF,IAAtBs9C,OAAOwqC,WAA2BxqC,OAAOwqC,WAAaxqC,OAAOyqC,QACxDC,OACgBhoF,IAArBs9C,OAAO2qC,UAA0B3qC,OAAO2qC,UAAY3qC,OAAO4qC,QAEtDppD,EAAQwe,OAAOC,WAClBD,OAAOC,WACPpW,SAASghD,gBAAgBC,YACzBjhD,SAASghD,gBAAgBC,YACzB9qC,OAAO+qC,OAAOvpD,MACXD,EAASye,OAAO0xB,YACnB1xB,OAAO0xB,YACP7nC,SAASghD,gBAAgBG,aACzBnhD,SAASghD,gBAAgBG,aACzBhrC,OAAO+qC,OAAOxpD,OAEX0pD,EAAazpD,EAAQwe,OAAO+qC,OAAOG,WACnC/qD,GAAQqB,EAAQ6oD,GAAK,EAAIY,EAAaV,EACtCh0D,GAAOgL,EAAS+oD,GAAK,EAAIW,EAAaP,EACtCS,EAAYnrC,OAAOvpB,KACxBhnB,EACAkB,EAFiB,0DAAAxE,OAKTk+E,EAAIY,EALK,mBAAA9+E,OAMRm+E,EAAIW,EANI,gBAAA9+E,OAOXoqB,EAPW,iBAAApqB,OAQVg0B,EARU,YAYd6f,OAAOorC,OAAOD,EAAUC,iCCzB+B5gF,ilEAApD6gF,wBAAmBC,sBAAiBC,2HCmBtCjsD,GAAY9C,aAAWuJ,IAEvBylD,GAAuB,CAC5B,CACC76E,MAAOnN,aAAE,eACT+zB,QAAS,SAAAvC,GAAK,ODrBQ,SAAA5xB,GAAoC,IAAjCqoF,EAAiCroF,EAAjCqoF,UAAW5+D,EAAsBzpB,EAAtBypB,OAAWjQ,EAAWlZ,OAAAmZ,EAAA,EAAAnZ,CAAAN,EAAA,wBACrDgnD,EAAM36C,KAAIC,MALA,sCAKgB,GAChC06C,EAAI74B,OAAS,KACTk6D,GACHrhC,EAAI54B,MAAJ9tB,OAAAC,GAAA,EAAAD,CAAA,GACI0mD,EAAI54B,MADR,CAECk6D,KAAMD,EAAS,YAAAt/E,OAAes/E,GAAc,KAC5CE,YAAaF,EACbG,aAAc/+D,GACXjQ,GAEJwtE,GAAY,CACX36E,IAAKA,KAAI2P,OAAOgrC,GAChBz5C,MAAOnN,aAAE,gBACT6mF,EAAG,IACHC,EAAG,OAGJ92D,QAAQqB,MAAM,mCCGIg3D,CAAS72D,IAC3B4S,OAAQkkD,KACRC,OAAQvoF,aAAE,QACVwoF,QAASxoF,aAAE,aACXyoF,UAAWzoF,aAAE,eACb0oF,WAAY1oF,aAAE,oBAEf,CACCmN,MAAOnN,aAAE,iBACT+zB,QAAS,SAAAvC,GAAK,ODYiB,SAAA/wB,GAA2B,IAAxBwnF,EAAwBxnF,EAAxBwnF,UAAW5+D,EAAa5oB,EAAb4oB,OACxCs/D,EAAS,IAAIC,KAAe,CACjCC,YAAa,cACbC,YAAa,gDACbt1D,QAAS,OACTu1D,UAAW1/D,EACX2/D,YAAaf,EACbgB,WAAYpB,KAEbc,EAAOO,SAASC,QAAQ/oD,MAAMiT,OAAS,KACvCs1C,EAAOS,OCtBYC,CAAkB73D,IACpC4S,OAAQklD,KACRf,OAAQvoF,aAAE,QACVwoF,QAASxoF,aAAE,aACXyoF,UAAWzoF,aAAE,eACb0oF,WAAY1oF,aAAE,oBAEf,CACCmN,MAAOnN,aAAE,iBACT+zB,QAAS,SAAAvC,GAAK,ODhBW,SAAAlxB,GAA2C,IAAxC2nF,EAAwC3nF,EAAxC2nF,UAAW3lF,EAA6BhC,EAA7BgC,MAAO+mB,EAAsB/oB,EAAtB+oB,OAAWjQ,EAAWlZ,OAAAmZ,EAAA,EAAAnZ,CAAAI,EAAA,gCAC/DsmD,EAAM36C,KAAIC,MA7BW,2CA6BgB,GAC3C06C,EAAI74B,OAAS,KACb64B,EAAI54B,MAAJ9tB,OAAAC,GAAA,EAAAD,CAAA,GACI0mD,EAAI54B,MADR,CAECu7D,KAAMtB,EACN3lF,QACAknF,eAAgBngE,GACbjQ,GAEJwtE,GAAY,CAEX36E,IAAKA,KAAI2P,OAAOgrC,GAChBz5C,MAAOnN,aAAE,mBACT6mF,EAAG,IACHC,EAAG,MCCe2C,CAAYj4D,IAC9B4S,OAAQslD,KACRnB,OAAQvoF,aAAE,WACVwoF,QAASxoF,aAAE,gBACXyoF,UAAWzoF,aAAE,kBACb0oF,WAAY1oF,aAAE,uBAEf,CACCmN,MAAOnN,aAAE,mCACT+zB,QAAS,SAAAvC,GAAK,ODOW,SAAA3wB,GAA2B,IAAxBonF,EAAwBpnF,EAAxBonF,UAAW5+D,EAAaxoB,EAAbwoB,OAClCsgE,EAAU,IAAIC,KAAW,CAC9BC,OAAQ/B,GACRgC,YAAa/B,GACbgC,mBAAoB1gE,EACpB2gE,sBAAuB3gE,EACvB4gE,0BAA0B,EAC1BpE,cAAeoC,EACfiC,WAAY,SAEZ5nF,MAAO,GACP6nF,YAAa,GACbC,QAAS5tC,OAAO7vC,SAASuxE,OACzBmM,aAAc,oBACdC,YAAa,SAGdX,EAAQY,OAGRZ,EAAQa,GAAGb,EAAQc,WAAY,SAAAnxE,GAC9B0W,QAAQ06D,IAAIpxE,KAIbqwE,EAAQa,GAAGb,EAAQgB,OAAOC,yBAA0B,SAAAC,GACnD76D,QAAQ06D,IAAIG,GACZlB,EAAQ53D,UClCU+4D,CAAYt5D,IAC9B4S,OAAQ2mD,KACRxC,OAAQvoF,aAAE,WACVwoF,QAASxoF,aAAE,gBACXyoF,UAAWzoF,aAAE,kBACb0oF,WAAY1oF,aAAE,wBAIVgrF,GAAyB,CAC9B,CACC79E,MAAOnN,aAAE,sBACT+zB,QAAS,SAAAn0B,GAAA,IAAG0F,EAAH1F,EAAG0F,KAAH,OAAcwzB,YAAQhf,aAAI,cAAAnR,OAAerD,EAAf,uBACnC8+B,OAAQ6mD,KACR1C,OAAQvoF,aAAE,aACVwoF,QAASxoF,aAAE,kBACXyoF,UAAWzoF,aAAE,kBACb0oF,WAAY1oF,aAAE,uBAAwB,CAAE+J,KAAM,CAAC,qBAI3CmhF,GAAmB,SAAA5qF,GAOnB,IANL8jC,EAMK9jC,EANL8jC,OACAmkD,EAKKjoF,EALLioF,OACAp7E,EAIK7M,EAJL6M,MACAq7E,EAGKloF,EAHLkoF,QACAC,EAEKnoF,EAFLmoF,UACAC,EACKpoF,EADLooF,WAEMjuD,EAAUqB,KAChB,OACCzc,EAAAtgB,EAAAugB,cAAAuW,EAAA,GAAQ/B,KAAK,QAAQ0e,WAAS,EAAC24C,kBAAgB,EAACjxD,UAAWO,EAAQ+rD,SAClEnnE,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,EAAGsc,MAAM,QAChB3e,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GACCC,WAAS,EACTnD,UAAU,MACV8iB,QAAQ,gBACRxpC,WAAW,UAEXhc,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,EAAG5c,GAAI,GAC7B9sB,EAAAtgB,EAAAugB,cAACw5B,GAAD,CAAK5e,UAAWO,EAAQuO,IAAK7I,IAAKooD,EAAQh4D,IAAK6T,KAEhD/kB,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAAC86B,GAAI,GAAI6c,GAAI,EAAG5c,GAAI,EAAGjS,UAAWO,EAAQisD,UACnDrnE,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYzE,UAAWO,EAAQksD,WAAYx5E,GAC1C,CAACq7E,EAASC,EAAWC,GAAYhoF,IAAI,SAAC0Q,EAAMyT,GAAP,OACrCxF,EAAAtgB,EAAAugB,cAAAqf,GAAA,GACC9Z,IAAG,QAAAlc,OAAUkc,GACbqV,UAAWO,EAAQtJ,KACnByN,UAAU,IACV/K,MAAM,iBAELziB,UAUHg6E,GAAY,SAAA3qF,GAAA,IAAG4qF,EAAH5qF,EAAG4qF,iBAAkBpD,EAArBxnF,EAAqBwnF,UAAW5+D,EAAhC5oB,EAAgC4oB,OAAQ/mB,EAAxC7B,EAAwC6B,MAAOgD,EAA/C7E,EAA+C6E,KAA/C,OACjB+Z,EAAAtgB,EAAAugB,cAAAyf,EAAA,GAAM2yB,gBAAc,GAClB25B,EAAiB3qF,IAAI,SAAC0Q,EAAMyT,GAAP,OACrBxF,EAAAtgB,EAAAugB,cAAAoc,EAAA,GACC4vD,gBAAc,EACdzmE,IAAKA,EACLkP,QAAS,kBAAM3iB,EAAK2iB,QAAQ,CAAEk0D,YAAW5+D,SAAQ/mB,QAAOgD,WAExD+Z,EAAAtgB,EAAAugB,cAACisE,GAAD,CACC1mE,IAAKA,EACL1X,MAAOiE,EAAKjE,MACZi3B,OAAQhzB,EAAKgzB,OACbmkD,OAAQn3E,EAAKm3E,OACbC,QAASp3E,EAAKo3E,QACdC,UAAWr3E,EAAKq3E,UAChBC,WAAYt3E,EAAKs3E,kBAOT8C,GAAgB,SAAA3qF,GAAA,IAAGonF,EAAHpnF,EAAGonF,UAAW5+D,EAAdxoB,EAAcwoB,OAAQ/mB,EAAtBzB,EAAsByB,MAAtB,OAC5B+c,EAAAtgB,EAAAugB,cAACmsE,GAAD,CACCJ,iBAAkBrD,GAClBC,UAAWA,EACX5+D,OAAQA,EACR/mB,MAAOA,KAIIopF,GAAkB,SAAA1qF,GAAA,IAAGinF,EAAHjnF,EAAGinF,UAAW5+D,EAAdroB,EAAcqoB,OAAQ/mB,EAAtBtB,EAAsBsB,MAAOgD,EAA7BtE,EAA6BsE,KAA7B,OAC9B+Z,EAAAtgB,EAAAugB,cAACmsE,GAAD,CACCJ,iBAAkBL,GAClB/C,UAAWA,EACX5+D,OAAQA,EACR/mB,MAAOA,EACPgD,KAAMA,KC5IFw2B,GAAY9C,aAAWuJ,IAEd,SAASopD,KACvB,IAAMlxD,EAAUqB,KACVmsD,EAAYrzD,YAAYhyB,KACtBymB,EAAWuL,YAAYj0B,MAAvB0oB,OACF/mB,EAAQsyB,YAAYvyB,MACpBiD,EAAOsvB,YAAYxvB,MAEzB,OACCia,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAACgxD,GAAI,EAAGj2B,GAAI,EAAGD,GAAI,IAC5B7sB,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,WAAW0G,UAAWO,EAAQyB,OAC5C7c,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACC3Y,EAAG,EACHyZ,QAAQ,OACRoB,cAAc,SAEdwB,OAAQ,GAER1e,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYzE,UAAWO,EAAQttB,OAAQnN,aAAE,QACzCqf,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYzE,UAAWO,EAAQgqC,SAAUh2B,cAAY,GACnDzuC,aAAE,mBAEJqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,GACRvgC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYmL,MAAM,SAASlL,UAAU,IAAI/K,MAAM,iBAC7C7zB,aAAE,8BAINqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACC9B,QAAS,WACRyrD,KAAKyI,GACLnvD,YACCymD,YAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,uBACTmzB,QAAS,QAIZ+G,UAAWO,EAAQ+rD,QACnB1yD,KAAK,QACLD,MAAM,UACNs3D,kBAAgB,EAChB34C,WAAS,EACTyvB,QAAS5iD,EAAAtgB,EAAAugB,cAAAssE,GAAA,GAAUztD,SAAS,QAAQtK,MAAM,cAEzCo0D,OAMN5oE,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAACgxD,GAAI,EAAGj2B,GAAI,EAAGD,GAAI,IAC5B7sB,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,WAAW0G,UAAWO,EAAQyB,OAC5C7c,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACC3Y,EAAG,EACHmqE,GAAI,EACJ1wD,QAAQ,OACRoB,cAAc,SAEdwB,OAAQ,GAER1e,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYzE,UAAWO,EAAQttB,OAC7BnN,aAAE,kBAEJqf,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYzE,UAAWO,EAAQgqC,SAAUh2B,cAAY,GACnDzuC,aAAE,8BAEJqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,GACRvgC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYmL,MAAM,SAASlL,UAAU,IAAI/K,MAAM,iBAC7C7zB,aAAE,kBAINqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAACwsE,GAAD,CACC7D,UAAWA,EACX5+D,OAAQA,EACR/mB,MAAOA,QAMZ+c,EAAAtgB,EAAAugB,cAAA2lC,GAAA,GAAM7zC,MAAI,EAACgxD,GAAI,EAAGj2B,GAAI,EAAGD,GAAI,IAC5B7sB,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,WAAW0G,UAAWO,EAAQyB,OAC5C7c,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACC3Y,EAAG,EACHmqE,GAAI,EACJ1wD,QAAQ,OACRoB,cAAc,SAEdwB,OAAQ,GAER1e,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYzE,UAAWO,EAAQttB,OAC7BnN,aAAE,4BAEJqf,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYzE,UAAWO,EAAQgqC,SAAUh2B,cAAY,GACnDzuC,aAAE,oBAEJqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKulB,GAAI,GACRvgC,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYmL,MAAM,SAASlL,UAAU,IAAI/K,MAAM,iBAC7C7zB,aAAE,mCAINqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAACysE,GAAD,CACC9D,UAAWA,EACX5+D,OAAQA,EACR/mB,MAAOA,EACPgD,KAAMA,SCjId,IAYM0mF,GAAqB,SAAApG,GAAe,wGAAAj9E,OAGwCi9E,EAHxC,uKAAAj9E,OAZtB,gSAYsB,gHAwB3BsjF,OAff,SAAwBz6D,GACvB,IAAMtrB,EAAe0uB,YAAYhyB,KAC3BspF,EAAmBF,GAAmB9lF,GAE5C,OACCmZ,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,KACJxb,GACFmZ,EAAAtgB,EAAAugB,cAAA,OAAK85B,wBAAyB,CAAEC,OAAQ6yC,iMCtBvCC,GAA4BnzD,aAAW,SAAAC,GAAK,MAAK,CACtDQ,KAAM,CACLxQ,gBAAiB,cACjBoqB,OAAQ,EACRrV,MAAO,SAAAxM,GAAK,OANO,IAOnBuM,OAAQ,SAAAvM,GAAK,OAPM,IAQnB2J,QAAS,OACT25C,aAAc,MACdt4C,eAAgB,SAChBnB,WAAY,SACZ0rB,OAAM,GAAAp+C,OAbY,EAaZ,aAAAA,OAA4BswB,EAAMK,QAAQlE,KAAK,MACrDg3D,WAAY,OACZtyD,UAAW,CACV24C,UAAW,+BACX8E,UAAW,qBAGbtlD,OAAQ,CACP80B,OAAM,GAAAp+C,OArBY,EAqBZ,aAAAA,OAA4B6vE,KAA5B,gBAEP6T,UAAW,CACVtlC,OAAM,GAAAp+C,OAxBY,EAwBZ,aAAAA,OAA4B8vE,OAEnC6T,KAAM,CACL5vD,SAAU,WACVzT,gBAAiBgQ,EAAMK,QAAQM,OAAOC,MACtChG,MAAO4kD,KACP1lD,IAAK,OACL6J,MAAO,OACPk4C,aAAc,UAIHyX,GAAoBpjD,aAAW,SAAAlQ,GAAK,MAAK,CACrD4jB,iBAAkB,CACjB9pB,IAAKy5D,GACL7vD,KAAI,eAAAh0B,OAAiB6jF,GAAjB,OACJ5vD,MAAK,cAAAj0B,OAAgB6jF,GAAhB,QAENC,KAAM,CACL1uD,OA3CkB,EA4ClBgpB,OAAQ,EACR5tB,WAAU,yDAAAxwB,OACTswB,EAAMK,QAAQlE,KAAK,MAEpBs3D,eAAc,GAAA/jF,OAAKgkF,GAAL,SAZiBxjD,CAc7ByjD,MAEG,SAASC,GAAiBr7D,GAAO,IAAAqoC,EACjCp/B,EAAU0xD,GAA0B36D,GAClCS,EAA4BT,EAA5BS,OAAQo6D,EAAoB76D,EAApB66D,UAAWvuD,EAAStM,EAATsM,KAE3B,OACCze,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCH,UAAW6/B,aAAKt/B,EAAQhB,MAATogC,EAAA,GAAA35D,OAAA++B,EAAA,EAAA/+B,CAAA25D,EACbp/B,EAAQ4xD,UAAYA,GADPnsF,OAAA++B,EAAA,EAAA/+B,CAAA25D,EAEbp/B,EAAQxI,OAASA,GAFJ4nC,IAIfz5B,MAAO,CACN0sD,gBAAe,OAAAnkF,OAASm1B,EAAT,KACf4uD,eAAgB,UAGhBL,GAAahtE,EAAAtgB,EAAAugB,cAAAytE,GAAA,GAAa7yD,UAAW6/B,aAAKt/B,EAAQ6xD,SCtE/C,IAAMU,GAAuB,WAGnC,IAFA,IAAMv/C,EAAQ,GAEL34B,EAAI,EAAGA,GAAK,EAAGA,IACvB24B,EAAM3zB,KAAN,gCAAAnR,OAA2CmM,IAE5C,OAAOgkB,YACN8gB,YAAc,KAAM,KAAM,CACzBvkB,aAAcr1B,aAAE,MAChBmN,MAAOnN,aAAE,iCACTo1B,KACC/V,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAA,UACEmuB,EAAM/sC,IAAI,SAAA8sC,GAAI,OACdnuB,EAAAtgB,EAAAugB,cAAA,MAAI85B,wBAAyB,CAAEC,OAAQr5C,aAAEwtC,SAG3CnuB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GACCya,wBAAyB,CACxBC,OAAQr5C,aAAE,uCASJitF,GAAsB,WAGlC,IAFA,IAAMx/C,EAAQ,GAEL34B,EAAI,EAAGA,GAAK,EAAGA,IACvB24B,EAAM3zB,KAAN,0BAAAnR,OAAqCmM,IAEtC,OAAOgkB,YACN8gB,YAAc,KAAM,KAAM,CACzBvkB,aAAcr1B,aAAE,MAChBmN,MAAOnN,aAAE,2BACTo1B,KACC/V,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAAqf,GAAA,OAAa3+B,aAAE,4BACfqf,EAAAtgB,EAAAugB,cAAA,UACEmuB,EAAM/sC,IAAI,SAAA8sC,GAAI,OACdnuB,EAAAtgB,EAAAugB,cAAA,MAAI85B,wBAAyB,CAAEC,OAAQr5C,aAAEwtC,SAG3CnuB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAY8P,cAAY,GACtBzuC,aAAE,8BAA+B,CACjC+J,KAAM,CACLsV,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCC,KACC,4GAGAxf,aAAE,aAKPqf,EAAAtgB,EAAAugB,cAAAqf,GAAA,OAAa3+B,aAAE,+BAOPktF,GAAsB,WAGlC,IAFA,IAAMz/C,EAAQ,GAEL34B,EAAI,EAAGA,GAAK,EAAGA,IACvB24B,EAAM3zB,KAAN,iCAAAnR,OAA4CmM,IAE7C,OAAOgkB,YACN8gB,YAAc,KAAM,KAAM,CACzBvkB,aAAcr1B,aAAE,MAChBmN,MAAOnN,aAAE,kCACTo1B,KACC/V,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAAqf,GAAA,OAAa3+B,aAAE,mCACfqf,EAAAtgB,EAAAugB,cAAA,UACEmuB,EAAM/sC,IAAI,SAAA8sC,GAAI,OACdnuB,EAAAtgB,EAAAugB,cAAA,MAAI85B,wBAAyB,CAAEC,OAAQr5C,aAAEwtC,SAG3CnuB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GACCya,wBAAyB,CACxBC,OAAQr5C,aAAE,wCASJmtF,GAAe,WAG3B,IAFA,IAAM1/C,EAAQ,GAEL34B,EAAI,EAAGA,GAAK,EAAGA,IACvB24B,EAAM3zB,KAAN,gCAAAnR,OAA2CmM,IAE5C,OAAOgkB,YACN8gB,YAAc,KAAM,KAAM,CACzBvkB,aAAcr1B,aAAE,MAChBmN,MAAOnN,aAAE,iCACTo1B,KACC/V,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAA,UACEmuB,EAAM/sC,IAAI,SAAA8sC,GAAI,OACdnuB,EAAAtgB,EAAAugB,cAAA,MAAI85B,wBAAyB,CAAEC,OAAQr5C,aAAEwtC,SAG3CnuB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GACCya,wBAAyB,CACxBC,OAAQr5C,aAAE,uCASJotF,GAAc,WAG1B,IAFA,IAAM3/C,EAAQ,GAEL34B,EAAI,EAAGA,GAAK,EAAGA,IACvB24B,EAAM3zB,KAAN,+BAAAnR,OAA0CmM,IAE3C,OAAOgkB,YACN8gB,YAAc,KAAM,KAAM,CACzBvkB,aAAcr1B,aAAE,MAChBmN,MAAOnN,aAAE,gCACTo1B,KACC/V,EAAAtgB,EAAAugB,cAACoU,EAAA,SAAD,KACCrU,EAAAtgB,EAAAugB,cAAA,UACEmuB,EAAM/sC,IAAI,SAAA8sC,GAAI,OACdnuB,EAAAtgB,EAAAugB,cAAA,MAAI85B,wBAAyB,CAAEC,OAAQr5C,aAAEwtC,SAG3CnuB,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAY8P,cAAY,GACtBzuC,aAAE,qCAEJqf,EAAAtgB,EAAAugB,cAAAqf,GAAA,OACCtf,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CAAgBC,KAAM,iCACpBxf,aAAE,wCAGLqf,EAAAtgB,EAAAugB,cAAAqf,GAAA,OACCtf,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCC,KACC,+DAGAxf,aAAE,uCANL,UCxGC87B,GAAY9C,aAAW,SAAAC,GAM5B,MAAO,CACNo0D,OAAQ,CACPpkE,gBAAiB,cACjBmS,KAAM,GAEPkyD,QAAS,CACRrkE,gBAAiB,eAElB4V,OAAQ,CACPwB,YAAapH,EAAM4E,QAAQ,IAE5B0vD,aAAc,CACb7qD,UAAWzJ,EAAM4E,QAAQ,GACzBD,aAAc3E,EAAM4E,QAAQ,IAE7B2vD,eAAgB,CACf35D,MAAOoF,EAAMK,QAAQC,QAAQC,KAC7BvQ,gBAtB6B,SAAArpB,KAAG0F,KAAH,OAE3B2zB,EAAMK,QAAQH,WAAW+C,OAqB3BuxD,yCAA0C,CACzC55D,MAAOoF,EAAMK,QAAQC,QAAQC,OAG/Bk0D,UAAW,CACV75D,MAAO4kD,SAKJkV,GAAW,SAAArtF,GAAA,IAChB+sB,EADgB/sB,EAChB+sB,iBACAC,EAFgBhtB,EAEhBgtB,mBACAC,EAHgBjtB,EAGhBitB,iBACAC,EAJgBltB,EAIhBktB,kBACAC,EALgBntB,EAKhBmtB,iBACAC,EANgBptB,EAMhBotB,eACAC,EAPgBrtB,EAOhBqtB,mBAPgB,MAQV,CACNW,WAAY,CACX,CACC3U,MAAO3Z,aAAE,gCACTwjC,QACCnkB,EAAAtgB,EAAAugB,cAAA,QACC85B,wBAAyB,CACxBC,OAAQr5C,aAAE,qCAIb4tF,iBAAkB5tF,aAAE,mCACpB89B,KAAM+vD,KACNC,MAAOtgE,GAER,CACC7T,MAAO3Z,aAAE,2BACTwjC,QAASxjC,aAAE,6BACX4tF,iBAAkB5tF,aAAE,iCACpB89B,KAAMiwD,KACND,MAAOzgE,EACP2gE,SAAUhB,IAEX,CACCrzE,MAAO3Z,aAAE,+BACTwjC,QAASxjC,aAAE,iCACX4tF,iBAAkB5tF,aAAE,8BACpB89B,KAAMmwD,KACNH,MAAOrgE,EACPugE,SAAUf,IAEX,CACCtzE,MAAO3Z,aAAE,iCACTwjC,QAASxjC,aAAE,mCACX4tF,iBAAkB5tF,aAAE,qCACpB89B,KAAMowD,KACNJ,MAAOxgE,EACP0gE,SAAUd,KASZ1uE,UAAW,CACV,CACC7E,MAAO3Z,aAAE,gCACTwjC,QACCnkB,EAAAtgB,EAAAugB,cAAA,QACC85B,wBAAyB,CACxBC,OAAQr5C,aAAE,qCAIb4tF,iBAAkB5tF,aAAE,mCACpB89B,KAAM+vD,KACNC,MAAOtgE,GAER,CACC7T,MAAO3Z,aAAE,2BACTwjC,QAASxjC,aAAE,6BACX4tF,iBAAkB5tF,aAAE,oCACpB89B,KAAMiwD,KACND,MAAOvgE,EACPygE,SAAUb,IAEX,CACCxzE,MAAO3Z,aAAE,6BACTwjC,QAASxjC,aAAE,6BACX4tF,iBAAkB5tF,aAAE,mCACpB89B,KAAMqwD,KACNL,MAAOpgE,EACPsgE,SAAUZ,IAEX,CACCzzE,MAAO3Z,aAAE,6BACTwjC,QAASxjC,aAAE,+BACX4tF,iBAAkB5tF,aAAE,sCACpB89B,KAAMowD,KACNJ,MAAOngE,MAWK,SAASygE,GAAe58D,GAAO,IACrClsB,EAASksB,EAATlsB,KACFm1B,EAAUqB,GAAU,CAAEx2B,SAEtB+oF,EAAYz5D,YAAYxH,KAExBkhE,EAAyB15D,YAAYttB,MACrCy+E,EAAWnxD,YAAYptB,MAPgB+sB,EAQnBC,mBAAS,IARUC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAQtCkZ,EARsChZ,EAAA,GAQ/BwrB,EAR+BxrB,EAAA,GAAA8+C,EAUTz7C,IAAMtD,SAAS,GAVNg/C,EAAAtzE,OAAAsS,EAAA,EAAAtS,CAAAqzE,EAAA,GAUtC52B,EAVsC62B,EAAA,GAU1B+a,EAV0B/a,EAAA,GAYvCgb,EAAY/gD,EAAMnoC,IAAS,GAC3BmpF,EAAcD,EAAU7xC,IAAe,GAEvC+xC,EAA6BF,EAAUvzC,UAAU,SAAAzN,GAAI,OAAKA,EAAKsgD,QA8BrE,OAZAv4D,oBAAU,WACT0qB,EAAS0tC,GAASU,KAChB,CAACA,IACJ94D,oBAAU,WACTg5D,GACiC,IAAhCG,EACGA,EACAF,EAAUvvF,OAAS,IAGrB,CAACwuC,EAAOihD,KAGTJ,KACCE,EAAUvvF,QACXogB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAA+xC,GAAA,GACC00B,SAAUA,EACVrrD,SAAU,kBAAM5B,YAAQ61D,cAA2B5I,KACnDz0B,QAAQ,EACR99B,QAAQ,YAERnU,EAAAtgB,EAAAugB,cAAAiyC,GAAA,GACCC,WAAYnyC,EAAAtgB,EAAAugB,cAAAsvE,GAAA,QACZn0D,QAAS,CAAEhB,KAAMgB,EAAQ+yD,gBACzBvsD,gBAAc,yBACdx6B,GAAG,0BAEH4Y,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACC2D,MAAO,EACP7C,QAAQ,OACRoB,cAAc,MACdlB,WAAW,SACXmB,eAAe,iBAEfnd,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYnL,QAAS,MAArB,GAAA7qB,OACK3I,aAAE,2BADP,MAAA2I,OAEW,cAATrD,EAAuBtF,aAAE,aAAeA,aAAE,cAF5C,MAMAqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKc,QAAQ,OAAOoB,cAAc,MAAMlB,WAAW,UACjDmzD,EAAU9tF,IAAI,SAAAD,EAAyBmpB,GAAU,IAAhCjQ,EAAgClZ,EAAhCkZ,MACX0e,GAD2C53B,EAAzBq9B,KAAyBr9B,EAAnBqtF,MACZf,GAAA,EAAA8B,GAAA,GACJpW,KAEd,OACCp5D,EAAAtgB,EAAAugB,cAAAywB,GAAA,GAAS5iC,MAAOwM,EAAOkL,IAAK+E,GAC3BvK,EAAAtgB,EAAAugB,cAAC+Y,EAAD,CAAM6B,UAAWO,EAAQizD,kBAQ/BruE,EAAAtgB,EAAAugB,cAAAwvE,GAAA,OACCzvE,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK2D,MAAO,GACX3e,EAAAtgB,EAAAugB,cAAAolB,EAAA,GAAQC,MAAI,GACXtlB,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,EAAG8a,eAAgB,SAAUrB,QAAQ,QAC5C9b,EAAAtgB,EAAAugB,cAACutE,GAAD,CACC/uD,KAAM2wD,EAAY3wD,KAClBuuD,UAAWoC,EAAYX,MACvBh6D,KAAK,UAGPzU,EAAAtgB,EAAAugB,cAAAo9B,GAAA,GACCxiB,UAAWO,EAAQ4yD,OACnB5/C,MAAO+gD,EAAUvvF,OACjBy9B,SAAS,SACTlJ,QAAQ,WACRmpB,WAAYA,EACZoyC,WACC1vE,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACC/B,KAAK,QACLC,QAvFS,WAClBw6D,EAAc5xC,EAAa,IAuFlBn7B,SAAUm7B,IAAe6xC,EAAUvvF,OAAS,GAE3Ce,aAAE,QACHqf,EAAAtgB,EAAAugB,cAAA0vE,GAAA,SAGFC,WACC5vE,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACC/B,KAAK,QACLC,QA9FS,WAClBw6D,EAAc5xC,EAAa,IA8FlBn7B,SAAyB,IAAfm7B,GAEVt9B,EAAAtgB,EAAAugB,cAAA4vE,GAAA,QACClvF,aAAE,YAKPqf,EAAAtgB,EAAAugB,cAAAolB,EAAA,GAAQI,QAAM,GACbzlB,EAAAtgB,EAAAugB,cAAAs9B,GAAA,GACCniB,QAAS,CAAEhB,KAAMgB,EAAQ6yD,SACzB6B,WAAS,EACTtyC,kBAAgB,EAChBF,WAAYA,EACZyyC,UAAW/vE,EAAAtgB,EAAAugB,cAACitE,GAAD,OAEViC,EAAU9tF,IAAI,SAAAG,EAAyB+oB,GAAzB,IAtHJ4jB,EAsHO7zB,EAAH9Y,EAAG8Y,MAAOmkB,EAAVj9B,EAAUi9B,KAAMgwD,EAAhBjtF,EAAgBitF,MAAhB,OACdzuE,EAAAtgB,EAAAugB,cAAAy9B,GAAA,GAAMl4B,IAAKlL,GACV0F,EAAAtgB,EAAAugB,cAAA+vE,GAAA,GAAYt7D,SAxHHyZ,EAwHuB5jB,EAxHf,WAC1B2kE,EAAc/gD,MAwHJnuB,EAAAtgB,EAAAugB,cAAA09B,GAAA,GACCsyC,kBAAmBzC,GACnB0C,cAAe,CAAEzxD,OAAMuuD,UAAWyB,IAEjCn0E,SAOP0F,EAAAtgB,EAAAugB,cAAA+a,EAAA,QACkC,IAAhCq0D,EACArvE,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCc,QAAQ,OACRqB,eAAgB,gBAChBwX,SAAS,QAET30B,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYzE,UAAWO,EAAQ8yD,cAC9BluE,EAAAtgB,EAAAugB,cAAA,cAAStf,aAAE,8BAEZqf,EAAAtgB,EAAAugB,cAAAuW,EAAA,GACChC,MAAM,UACNE,QArIY,WACrBw6D,EAAc,GACdz1D,YAAQvxB,YAAmBjC,KAoIlB40B,UAAWO,EAAQoE,OACnBwR,UAAWhxB,EAAAtgB,EAAAugB,cAAA0U,EAAA,SAEVh0B,aAAE,aAILqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAAqf,GAAA,GACCnL,QAAS,QACT0G,UAAWO,EAAQ8yD,cAEnBluE,EAAAtgB,EAAAugB,cAAA,cACEtf,aAAE,wBAAyB,CAC3B+J,KAAM,CAAC4yC,EAAa,EAAG8xC,EAAY90E,OAAS,MACzC,IACH80E,EAAYX,MAAQ9tF,aAAE,aAAe,KAGvCyuF,EAAYX,MACZzuE,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYzE,UAAWO,EAAQ8yD,cAC7BkB,EAAYb,kBAGdvuE,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYzE,UAAWO,EAAQ8yD,cAC7BkB,EAAYjrD,QAAS,IACrBirD,EAAYT,UACZhuF,aAAE,wCAAyC,CAC1C+J,KAAM,CACLsV,EAAAtgB,EAAAugB,cAAA4kB,GAAA,GACCrf,IAAI,oBACJrF,KAAK,IACLuU,QAAS,SAAAtb,GACRA,EAAE0e,iBACFs3D,EAAYT,YAEb9zD,UAAWO,EAAQ8yD,aACnB15D,MAAO,UACPq6B,UAAW,SAEVluD,aAAE,2BC7UnB,IAAMwvF,GAAY,WACjB,IACMhuE,EADaoT,YAAYlwB,OACA,EAC/B,OACC2a,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAACmwE,GAAD,CACCjuE,SAAUA,EACV8gC,WAAS,EACT9uB,QAAQ,WACRK,MAAM,YACN4uB,SAAS,eACT3uB,KAAK,SACLgK,KAAMze,EAAAtgB,EAAAugB,cAAAowE,EAAA,UAEPrwE,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAACqwE,GAAD,SAMEC,GAAU,kBACfvwE,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAC4sC,GAAD,CACC5J,WAAS,EACT9uB,QAAQ,WACRK,MAAM,YACN4uB,SAAS,WACT3uB,KAAK,SACLgK,KAAMze,EAAAtgB,EAAAugB,cAAAowE,EAAA,UAEPrwE,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAACqsC,GAAD,SAKGkkC,GAAU,kBACfxwE,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAACwwE,GAAD,CACCxtC,WAAS,EACT9uB,QAAQ,WACRK,MAAM,YACN4uB,SAAS,WACT3uB,KAAK,SACLgK,KAAMze,EAAAtgB,EAAAugB,cAAAowE,EAAA,UAEPrwE,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAACywE,GAAD,SAKGC,GAAY,kBACjB3wE,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACChb,EAAAtgB,EAAAugB,cAAC6rD,GAAD,CACC7oB,WAAS,EACT9uB,QAAQ,WACRK,MAAM,YACN4uB,SAAS,eACT3uB,KAAK,SACLgK,KAAMze,EAAAtgB,EAAAugB,cAAAowE,EAAA,UAEPrwE,EAAAtgB,EAAAugB,cAAAq2B,EAAA,GAAOniB,QAAQ,YACdnU,EAAAtgB,EAAAugB,cAAC2wE,GAAD,SAKGn0D,GAAY9C,aAAWuJ,IAiMd2tD,OA/Lf,SAAmB1+D,GAAO,IAAA+C,EACWC,oBAAS,GADpBC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAClB47D,EADkB17D,EAAA,GACN27D,EADM37D,EAAA,GAEnBr0B,EAAUw0B,YAAYhyB,KACtBuiF,EAAavwD,YAAYlwB,MACzB0C,EAA4BwtB,YAAYztB,MACxCkpF,EAAyBlL,GAAc,IAAM/9E,EAG3C9B,EADUksB,EAAViG,MACeojB,OAAfv1C,KACFm1B,EAAUqB,KAEV0/C,EAAa5mD,YAAY1sB,MAE/BqtB,oBAAU,WAAM,SAAA+6D,IAAA,OAAAA,EAAApwF,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KACf,SAAAC,IAAA,OAAAF,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,OACC4B,YAAQy3D,eADT,wBAAAt5D,EAAAI,SAAAR,OADe9iB,MAAA4d,KAAA3yB,WAOf,OAPe,WAAAsxF,EAAAv8E,MAAA4d,KAAA3yB,WAKfwxF,GAEO,WACN13D,YAAQ23D,kBAEP,IAEHl7D,oBAAU,WACTuD,YAAQ43D,aAAkB,CAAEtwF,cAC1B,CAACA,IAEJm1B,oBAAU,WACTuD,YAAQ63D,aAAU,OAAQrrF,KACxB,CAACA,IAEJ,IAAM6+B,EAAqB,WAC1BisD,GAAeD,IAGVS,EAASvxE,EAAAtgB,EAAAugB,cAACuxE,GAAD,CAASvrF,KAAMA,IAE9B,OACC+Z,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQhB,MACvBpa,EAAAtgB,EAAAugB,cAACwxE,GAAD,CACCxrF,KAAMA,EACN2tB,KAAMk9D,EACNhsD,mBAAoBA,IAErB9kB,EAAAtgB,EAAAugB,cAAAolB,EAAA,GAAQC,MAAI,GACXtlB,EAAAtgB,EAAAugB,cAAAyxE,EAAA,GACCv9D,QAAQ,YACRw9D,OAAO,OACP/9D,KAAMk9D,EACN/8D,QAAS+Q,EACT1J,QAAS,CACRyB,MAAOzB,EAAQ8I,aAEhB0tD,WAAY,CACXC,aAAa,IAGbN,IAGHvxE,EAAAtgB,EAAAugB,cAAAolB,EAAA,GAAQI,QAAM,EAACqsD,eAAe,OAC7B9xE,EAAAtgB,EAAAugB,cAAAyxE,EAAA,GACCv9D,QAAQ,YACRP,MAAI,EACJwH,QAAS,CACRyB,MAAOzB,EAAQ8I,cAGfqtD,IAIHvxE,EAAAtgB,EAAAugB,cAAA,QAAM4a,UAAWO,EAAQ+I,SACxBnkB,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQmJ,cACvBvkB,EAAAtgB,EAAAugB,cAAA+a,EAAA,OACEg2D,GACAhxE,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAAgU,EAAA,GACCE,QAAQ,WACRD,SAAS,OACTH,QAAS,WACR0F,YAAQs4D,cAAgC,MAGxCpxF,aAAE,+BAAgC,CAClC+J,KAAM,SAAApB,OAASw8E,EAAT,eAMT3J,GAAcn8D,EAAAtgB,EAAAugB,cAAC8uE,GAAD,CAAgB9oF,KAAMA,IACrC+Z,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,KACC31B,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,kCACLsI,UAAW4wD,KAEZnwE,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,8BACLsI,UAAWgxD,KAEZvwE,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,kCACLsI,UAAWoxD,KAEZ3wE,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,0CACLsI,UAAWzwB,KAEZkR,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,iCACLsI,UAAWc,KAEZrgB,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,0CACLsI,UAAWlxB,KAEZ2R,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,wCACLsI,UAAWc,KAEZrgB,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,sCACLsI,UAAWk+C,KAEZz9D,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,6BACLsI,UAAWixD,KAEZxwE,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,qCACLsI,UAAW6gD,KAEZpgE,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,gCACLsI,UAAWuhD,KAEZ9gE,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,gCACLsI,UAAWc,KAEZrgB,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAM,2BACNsI,UAAW0yD,KAEZjyE,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAM,mCACNsI,UAAWqtD,KAEZ5sE,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CAAOq8C,OAAK,EAAC/6D,KAAM,yBAA0BsI,UAAW+sD,KAOxDtsE,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,wBACLsI,UAAW29C,KAEZl9D,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,uBACLsI,UAAWg+C,KAEZv9D,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CAAOpW,UAAW4lC,WClTZjiC,GAAS,SAAAtJ,GACrB,IAAM4E,EAAU5E,EAAM4E,QAAQ,GAC9B,MAAO,CACNpE,KAAM,CAELsE,OAAQ,SAETwzD,gBAAiB,CAChBx0D,UAAW,SACXD,UAAW,OACXsM,UAAW,QACXooD,iBAAkB,YAClB9E,eAAgB,QAChB+E,mBAAoB,SACpB/0D,SAAU,YAEXwoB,UAAW,CACVnnB,OAAQ,QACRU,SAAU,KAEXvf,QAAS,CACR4tE,gBAAe,OAAAnkF,OAAS+oF,EAAQ,MAAjB,KACfF,iBAAkB,YAClB9E,eAAgB,QAChB+E,mBAAoB,UAErBE,QAAS,CACR1oE,gBAAiBgQ,EAAMK,QAAQ9S,KAAK,MAErCorE,WAAY,GAKZC,YAAa,CACZ71C,UAAW,UAEZ81C,KAAM,CAIL/zD,OAAQ,QAETg0D,YAAa,CACZh0D,OAAQ,OACR8F,OAAkB,EAAVhG,GAETm0D,KAAM,CACL74D,WAAY,EACZs5C,UAAW,OACXtxC,SAAU,WAEX8wD,SAAU,CACThpE,gBAAiB,4BAElBua,QAAS,CACRrI,QAAS,OACToB,cAAe,SACfnB,KAAM,WAENoB,eAAgB,SAChBS,QAAS,yBCxCNqnC,GAAWvuC,GAAoBF,KAC/BiG,GAAY9C,aCtBI,SAAAC,GACrB,MAAO,CACN/Z,QAAS,CACRsd,eAAgB,UAEjB01D,gBAAiB,CAChB7wC,UAAW,aACXrF,UAAW,UAEZm2C,QAAS,CACRp0D,OAAQ,OACRsC,YAAapH,EAAM4E,QAAQ,IAE5Bu0D,aAAc,CACb/xD,YAAa,GAEdgyD,YAAa,CACZppE,gBAAiBgQ,EAAMK,QAAQM,OAAOC,MACtChG,MAAOoF,EAAMK,QAAQM,OAAOg5C,OAE7B0f,UAAW,CACVrpE,gBAAiBgQ,EAAMK,QAAQM,OAAOC,MACtChG,MAAOoF,EAAMK,QAAQM,OAAOg5C,UDmMhB2f,GAjMI,WAClB,IAAM93D,EAAUqB,KADQvH,EAEMC,mBAAS,IAFfC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAEjBi+D,EAFiB/9D,EAAA,GAERg+D,EAFQh+D,EAAA,GAIlBi+D,EAAmB99D,YAAY/tB,MAC/B8rF,EAAO/9D,YAAY7yB,KALDnC,EAMRg1B,YAAYlzB,MACY,GAAhCM,EAPgBpC,EAOhBoC,OAAQC,EAPQrC,EAORqC,SAEhBszB,oBAAU,WACT,IACMi9D,EADaI,eACQ1lF,OAC1B,SAAA25E,GAAC,MAAmB,WAAfA,EAAE1kF,UAAyB0kF,EAAEnpE,OAAS1b,EAAOM,QAEnDmwF,EAAWD,IACT,CAACxwF,IAEJ,IAAM6wF,EAAO,SAAClwE,EAAImwE,EAAej+D,GAChC,IAAMk+D,EAAY,WACjBttD,eACA3M,YAAQhf,aAAK6I,IACTkS,GAAkC,oBAAdA,GACvBA,KAGE89D,GAAQG,EACXh6D,YACC8gB,YAAcm5C,EAAW,KAAM,CAC9B19D,aAAcr1B,aAAE,qBAChBs1B,YAAat1B,aAAE,mBACfmN,MAAOnN,aAAE,iCACTo1B,KAAMp1B,aAAE,+BAAgC,CACvC+J,KAAM,EACJ/H,EAAOM,OAAUN,EAAOG,UAAY,IAAK8b,cAC1Chc,EAAS7B,cAMb2yF,KAIF,OACC1zE,EAAAtgB,EAAAugB,cAAA+a,EAAA,GACCc,QAAQ,OACRoB,cAAc,SACdlB,WAAW,UACXmB,eAAe,iBAEfnd,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK3Y,EAAG,EAAG2Z,WAAW,UACrBhc,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYmL,MAAM,SAAStW,QAAQ,YAAY2H,QAAQ,SACrDn7B,aAAE,uBAGJ2yF,GACAtzE,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK/O,EAAG,GACPjM,EAAAtgB,EAAAugB,cAAC0zE,GAAD,CACCx/D,QAAQ,YACR7Q,GAAG,eACHmR,KAAK,QACLD,MAAM,UACN2e,WAAS,EACTtY,UAAWO,EAAQy3D,iBAElBlyF,aAAE,cAAe,CACjB+J,KAAM,CACL/H,EAAOM,OAASiiC,aAActiC,EAAS7B,SACvC4B,EAAOG,cAMXqwF,EAAQ9xF,IAAI,SAAAmmF,GAAC,OACbxnE,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAKxV,IAAKgiE,EAAEnpE,KAAM4N,EAAG,EAAG6P,QAAQ,QAC/B9b,EAAAtgB,EAAAugB,cAACuW,EAAA,EAAD,CACCrC,QAAQ,YACRM,KAAK,QACLD,MAAM,UACN2e,WAAS,EACTtY,UAAWO,EAAQy3D,gBACnBn+D,QAAS,WACR8+D,EAAK,gBAAgB,EAAM,kBAC1B/5D,YAAQm6D,YAAa,CAAE3wF,MAAOukF,EAAEnpE,KAAMvb,SAAU0kF,EAAE1kF,gBAInDnC,aAAE,aAAc,CAAE+J,KAAM,CAAC88E,EAAEnpE,SAE7B2B,EAAAtgB,EAAAugB,cAACuW,EAAA,EAAD,CACCrC,QAAQ,YACRM,KAAK,QACLC,QAAS,WACR+E,YACC8gB,YACC,WACC1pB,aAAuB22D,EAAEhiE,KACzB4tE,EAAWD,EAAQtlF,OAAO,SAAA4H,GAAC,OAAIA,EAAE+P,MAAQgiE,EAAEhiE,QAE5C,KACA,CACCwQ,aAAcr1B,aAAE,eAChBs1B,YAAat1B,aAAE,UACfmN,MAAOnN,aAAE,0CACTo1B,KAAMp1B,aAAE,wCAAyC,CAChD+J,KAAM,EACJ/H,EAAOM,OAAUN,EAAOG,UAAY,IAAK8b,cAC1Chc,EAAS7B,gBAQfif,EAAAtgB,EAAAugB,cAAA0U,EAAA,aAIDw+D,EAAQvzF,OAAS,GAAK0zF,IAAStzE,EAAAtgB,EAAAugB,cAAAib,EAAA,QAChCm4D,GACArzE,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK/O,EAAG,GACPjM,EAAAtgB,EAAAugB,cAACuW,EAAA,EAAD,CACCrC,QAAQ,YACRM,KAAK,QACLD,MAAM,YACN2e,WAAS,EACTtY,UAAWO,EAAQy3D,gBACnBn+D,QAAS,WACR8+D,EAAK,iBAAiB,KAGtB7yF,aAAE,0BAINqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK/O,EAAG,GACPjM,EAAAtgB,EAAAugB,cAACuW,EAAA,EAAD,CACCrC,QAAQ,YACRM,KAAK,QACLD,MAAM,UACN2e,WAAS,EACTtY,UAAWO,EAAQy3D,gBACnBn+D,QAAS,kBAAM8+D,EAAK,gBAAgB,KAEnC7yF,aAAE,yBAILqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK/O,EAAG,GACPjM,EAAAtgB,EAAAugB,cAACuW,EAAA,EAAD,CACCrC,QAAQ,WACRM,KAAK,QACLD,MAAM,UACN2e,WAAS,EACTtY,UAAW8E,KAAWvE,EAAQ43D,YAAa53D,EAAQy3D,iBACnDn+D,QAAS,kBAAM8+D,EAAK,iCAAiC,KAErDxzE,EAAAtgB,EAAAugB,cAAA,OACCiR,IAAKwR,GAAY,YACjB5B,IAAKngC,aAAE,sBACPk6B,UAAWO,EAAQ03D,UAEnBnyF,aAAE,cAGLqf,EAAAtgB,EAAAugB,cAAA+a,EAAA,GAAK/O,EAAG,GACPjM,EAAAtgB,EAAAugB,cAACuW,EAAA,EAAD,CACCrC,QAAQ,WACRM,KAAK,QACLD,MAAM,UACN2e,WAAS,EACTtY,UAAWO,EAAQ63D,UACnBv+D,QAAS,kBAAM8+D,EAAK,+BAA+B,KAEnDxzE,EAAAtgB,EAAAugB,cAAA,OACCiR,IAAKwR,GAAY,UACjB5B,IAAKngC,aAAE,oBACPk6B,UAAW8E,KACVvE,EAAQ03D,QACR13D,EAAQ23D,aACR33D,EAAQy3D,4CElMA,SAASgB,GAAWl9D,GA+DlC,OAAOmT,aAAW5G,GAAX4G,CA9DP,SAAAvpC,GAAuC,IAApB66B,EAAoB76B,EAApB66B,QAAYrhB,EAAQlZ,OAAAmZ,EAAA,EAAAnZ,CAAAN,EAAA,aACtC,OACCyf,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQhB,MACvBpa,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CACC/qB,UAAWO,EAAQyqB,UACnBA,WAAS,EACT7pB,WAAW,WAGXhc,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM/qB,UAAWO,EAAQvb,QAAS9N,MAAI,EAAC86B,GAAI,GAAIC,GAAI,EAAGi2B,GAAI,EAAG+wB,GAAI,GAChE9zE,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAK2D,MAAO,EAAGD,OAAQ,EAAGrc,EAAG,GAC5BrC,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAK2D,MAAO,EAAGD,OAAQ,EAAGrB,SAAS,YAClCrd,EAAAtgB,EAAAugB,cAAC0W,EAAD91B,OAAA03B,OAAA,CAAW53B,EAAGA,MAAOoZ,IACrBiG,EAAAtgB,EAAAugB,cAAColB,EAAA,EAAD,CAAQC,MAAI,GACXtlB,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAKc,QAAQ,OAAOqB,eAAe,UAClCnd,EAAAtgB,EAAAugB,cAAC8zE,GAAAr0F,EAAD,CAAmB80B,MAAM,UAAUsK,SAAS,eAMjD9e,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,GAAIC,GAAI,EAAGi2B,GAAI,EAAG+wB,GAAI,GACpC9zE,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CACCc,QAAQ,OACRoB,cAAc,SACdlB,WAAW,UACXmB,eAAe,gBACf4D,MAAO,CAAErC,OAAQ,SAEjB1e,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAK3Y,EAAG,EAAG2Z,WAAW,UACrBhc,EAAAtgB,EAAAugB,cAAAqf,GAAA,GAAYmL,MAAM,SAAStW,QAAQ,MACjCxzB,aAAE,gBAGLqf,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAAC+zE,GAAej6E,IAEjBiG,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CACC3Y,EAAG,EACHyZ,QAAQ,OACRoB,cAAc,SACdlB,WAAW,SACX2Y,SAAS,QAET30B,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACC2a,UAAWO,EAAQgD,QACnBmC,OAAO,SACPpgB,KAAI,GAAA7W,OAAK3B,uCAERhH,aAAE,SAEJqf,EAAAtgB,EAAAugB,cAAA,SAAO4a,UAAWO,EAAQm3D,YAA1B,KAAAjpF,OACOs3B,GAAY7b,QADnB,+DCjEKme,GAAS,SAAAtJ,GACrB,IAAM4E,EAAU5E,EAAM4E,QAAQ,GAC9B,MAAO,CACNy1D,aAAc,CACbx5D,UAAW,CACVmE,OAAQ,YAGVs1D,SAAU,CACTp4D,QAAS,OACT6Y,SAAU,OACVvV,SAAU,EACVrC,WAAYyB,EACZ0lB,WAAY,SACZiwC,WAAY,CACXnzD,YAAuB,EAAVxC,IAGf41D,cAAe,CACd5/D,MAAOoF,EAAMK,QAAQlE,KAAKsI,KAC1Bg2D,WAAY,QAEb3B,YAAa,CACZh0D,OAAQ,OACR8F,OAAkB,EAAVhG,GAET2F,QAAS,CACRrI,QAAS,OACToB,cAAe,SACfnB,KAAM,WACNsB,SAAU,WACVO,QAAS,EACT4G,OAAM,KAAAl7B,OAAOk1B,EAAP,OAAAl1B,OAAoBk1B,EAApB,OAAAl1B,OAAiCk1B,EAAjC,MACN81D,gBAAiB,CAChBv3D,WAAYyB,GAEbsD,SAAU,WAEXyyD,cAAe,CACdz4D,QAAS,OACTsD,SAAU,EACV3B,UAAW,OACXJ,SAAU,WACVmH,OAAQhG,GAQTo0D,SAAU,CACThpE,gBAAiB,4BAElB4qE,QAAS,CACR3yD,SAAU,OACVnD,OAAkB,EAAVF,EACR2L,UAAW,OACXxL,MAAO,QAER81D,SAAU,CACT34D,QAAS,OACToB,cAAe,MACflB,WAAY,SACZmB,eAAgB,UAEjBu3D,SAAU,CACT7yD,SAAU,OACVsI,UAAqB,EAAV3L,EACXG,MAAO,OACPD,OAAQ,QAETi2D,YAAa,CACZ3zD,YAAaxC,GAEdg0D,YAAa,CACZn1D,SAAU,WACV3J,IAAK,OACL4J,KAAM,GAEPm1D,KAAM,CACL9zD,MAAO,SACPD,OAAQ,SCtELjC,GAAY9C,aAAWuJ,IAEtB,SAAS0xD,GAATr0F,GAA6B,IAATmD,EAASnD,EAATmD,MAClBmxF,EAAwCnxF,EAAxCmxF,WAAYC,EAA4BpxF,EAA5BoxF,eAAgB/zF,EAAY2C,EAAZ3C,QAC9Bq6B,EAAUqB,KAEhB,OACCzc,EAAAtgB,EAAAugB,cAAA8f,EAAA,GACC7F,QAASn5B,EACTk8B,UACCjd,EAAAtgB,EAAAugB,cAAA,QAAM4a,UAAWO,EAAQ84D,UACxBl0E,EAAAtgB,EAAAugB,cAAA,YACCD,EAAAtgB,EAAAugB,cAAA,qBACAD,EAAAtgB,EAAAugB,cAAA,kBAAU40E,EAAV,MAEAC,EAAezzF,IAAI,SAAAJ,GAAA,IAAG+oB,EAAH/oB,EAAG+oB,OAAQ+qE,EAAX9zF,EAAW8zF,QAAX,OACnB/0E,EAAAtgB,EAAAugB,cAAA,YACCD,EAAAtgB,EAAAugB,cAAA,gBAAQ+J,EAAR,KACAhK,EAAAtgB,EAAAugB,cAAA,kBAAU80E,EAAV,WASA,IAAMC,GAAgB,SAAA5zF,GAUvB,IATL6zF,EASK7zF,EATL6zF,UACAl0F,EAQKK,EARLL,QACAm0F,EAOK9zF,EAPL8zF,cACAC,EAMK/zF,EANL+zF,mBACAC,EAKKh0F,EALLg0F,YACAC,EAIKj0F,EAJLi0F,SACAvyF,EAGK1B,EAHL0B,SACAwyF,EAEKl0F,EAFLk0F,iBACAl6D,EACKh6B,EADLg6B,QAEA,OACCpb,EAAAtgB,EAAAugB,cAACirC,GAAD,KACClrC,EAAAtgB,EAAAugB,cAACmrC,GAAD,KACE8pC,EAAgBl1E,EAAAtgB,EAAAugB,cAACorC,GAAD,CAAY3U,IAAKy+C,IAAyBC,GAE5Dp1E,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACCnrC,EAAAtgB,EAAAugB,cAAAyf,EAAA,OACEu1D,EAAU5zF,IAAI,SAACk0F,EAAUC,GAAX,OACdx1E,EAAAtgB,EAAAugB,cAAAoc,EAAA,GACCjB,QAAS,CAAEhB,KAAMgB,EAAQ64D,cACzBzuE,IAAK+vE,EAASx0F,QACd2zB,QAAS,kBACR+E,YACCr2B,aAAoB,CACnBmyF,WACAD,mBACAE,kBACAH,WACAvyF,eAIH63B,SAAU55B,IAAYw0F,EAASx0F,SAE/Bif,EAAAtgB,EAAAugB,cAAC20E,GAAD,CAAUlxF,MAAO6xF,EAAUx0F,QAASw0F,EAASx0F,0BCpD9C07B,GAAY9C,aAAWuJ,IAmIduyD,OAjIf,WACC,IAAMr6D,EAAUqB,KADOnH,EAEQC,YAAY5vB,MAFpB+vF,EAAApgE,EAEf3yB,cAFe,IAAA+yF,EAEN,GAFMA,EAEFhyF,EAFE4xB,EAEF5xB,MACb3C,EAAY4B,EAAZ5B,QAHem0B,EAI6BC,oBAAS,GAJtCC,EAAAv0B,OAAAsS,EAAA,EAAAtS,CAAAq0B,EAAA,GAIhBygE,EAJgBvgE,EAAA,GAIIwgE,EAJJxgE,EAAA,GAKjBygE,IACH14C,OAAO24C,OAAS34C,OAAO44C,OAASC,UAAUC,UAAUnmE,QAAQ,UAAY,EANpDmgB,EAO6C9a,oBACnE,GARsB+a,EAAArvC,OAAAsS,EAAA,EAAAtS,CAAAovC,EAAA,GAOhBimD,EAPgBhmD,EAAA,GAOYimD,EAPZjmD,EAAA,GAWjBkmD,EAAmB7gE,YAAY,SAAAv1B,GAAK,OACzCmH,aAAkBnH,EAAOq2F,QAyB1B,OAtBAngE,oBAAU,YACG,eAAA31B,EAAAM,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAC,IAAA,IAAA8+D,EAAA,OAAAh/D,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACiB0+D,eADjB,OACRD,EADQ1+D,EAAA0xB,KAEd6sC,EACCG,IAAqB3zD,KAAWC,SAASvkB,MAH5B,wBAAAuZ,EAAAI,SAAAR,MAAH,yBAAAj3B,EAAAmU,MAAA4d,KAAA3yB,YAAA,EAOZ62F,IACE,IAEHtgE,oBAAU,WACLy/D,IAGHx4C,OAAOs5C,QAAU,WAChBt5C,OAAO7vC,SAASopF,SAChBd,GAAsB,MAGtB,CAACD,IAGH31E,EAAAtgB,EAAAugB,cAACirC,GAAD,CAAYrwB,UAAWO,EAAQu7D,QAC7BP,EACAp2E,EAAAtgB,EAAAugB,cAACorC,GAAD,CAAY3U,IAAK/1C,aAAE,gCAChB,KACJqf,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACCnrC,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYnL,QAAQ,aAAaxzB,aAAE,kBACnCqf,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CACCc,QAAQ,OACRoB,cAAc,SACdlB,WAAW,SACXmB,eAAe,SACfwB,MAAO,GAELu3D,EAwCDl2E,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAA,OACCiR,IAAK0lE,KACL91D,IAAK,gBACLjG,UAAWO,EAAQs5D,YA3CrB10E,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,KACChb,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,KACE3+B,aAAE,4BAA6B,CAC/B+J,KAAM,CACLsV,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCsF,IAAK,kBACLrF,KACC01E,EACG,6EACA,uBAEJt1D,OAAO,UAPR,6BAeJvgB,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAKulB,GAAI,GACRvgC,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCC,KACC01E,EACG,6EACA,uBAEJt1D,OAAO,SACP7L,QAAS,kBAAMkhE,GAAsB,KAErC51E,EAAAtgB,EAAAugB,cAAA,OACCiR,IAAK2lE,KACL/1D,IAAK,mBACLjG,UAAWO,EAAQs5D,cAevB3zF,EACAif,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQ07D,eACtBpzF,EACAsc,EAAAtgB,EAAAugB,cAAAD,EAAAtgB,EAAAugC,SAAA,KACCjgB,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYnL,QAAQ,YAAYK,MAAM,WACpC7zB,aAAE,mCAEJqf,EAAAtgB,EAAAugB,cAAC20E,GAAD,CAAUlxF,MAAOA,EAAOwmF,KAAMnpF,KAG/BJ,aAAE,2BAA4B,CAAE+J,KAAM,CAAC3J,MAGtCm1F,EACHl2E,EAAAtgB,EAAAugB,cAACuW,EAAA,EAAD,CACC9B,QAAS,kBAAM+E,YAAQs9D,gBACvB5iE,QAAQ,YACRK,MAAM,UACNrS,SAAUi0E,GAETz1F,aAAE,+BAED,SC1HH87B,GAAY9C,aAAWuJ,IAiGd8zD,OA/Ff,WACC,IAAM57D,EAAUqB,KADKnH,EAEqCC,YACzD5vB,MAHoB+vF,EAAApgE,EAEb3yB,cAFa,IAAA+yF,EAEJ,GAFIA,EAAAuB,EAAA3hE,EAEA2/D,iBAFA,IAAAgC,EAEY,GAFZA,EAEgB3B,EAFhBhgE,EAEgBggE,iBAG7Bv0F,EAAY4B,EAAZ5B,QAEFm2F,EAAsB3hE,YAAY,SAAAv1B,GAAK,OAC5CmH,aAAkBnH,EAAOm3F,QAGpBf,EAAmB7gE,YAAY,SAAAv1B,GAAK,OACzCmH,aAAkBnH,EAAOo3F,QAG1B,OAAOnC,EAAUr1F,OAChBogB,EAAAtgB,EAAAugB,cAACo3E,GAAD,CACCnC,cAAegC,EACf/B,mBAAoBx0F,aAAE,yBACtBy0F,YAAaz0F,aAAE,sBACfI,QAASA,EACTk0F,UAAWA,EACXI,SAAU1yD,KAAWG,OAAOuyD,SAC5BvyF,SAAU6/B,KAAWG,OAAOzkB,KAC5Bi3E,iBAAkBA,EAClBl6D,QAASA,IAGVpb,EAAAtgB,EAAAugB,cAACirC,GAAD,CAAYrwB,UAAWO,EAAQu7D,QAC7BP,EACAp2E,EAAAtgB,EAAAugB,cAACmrC,GAAD,KACCprC,EAAAtgB,EAAAugB,cAACorC,GAAD,CAAY3U,IAAK/1C,aAAE,gCAEjBu2F,EACHl3E,EAAAtgB,EAAAugB,cAACmrC,GAAD,KACCprC,EAAAtgB,EAAAugB,cAACorC,GAAD,CAAY3U,IAAK/1C,aAAE,4BAEjB,KAEJqf,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACCnrC,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CACCc,QAAQ,OACRoB,cAAc,SACdlB,WAAW,SACXmB,eAAe,SACfwB,MAAO,GAEP3e,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYnL,QAAQ,YAAYib,cAAY,GAC1CzuC,aAAE,gBAGJqf,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAY8P,cAAY,GACtBzuC,aAAE,0BAA2B,CAC7B+J,KAAM,CACLsV,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCsF,IAAI,gBACJrF,KAAK,qBACLogB,OAAO,UAHR,iBAOAvgB,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCsF,IAAI,gBACJrF,KAAK,oCACLogB,OAAO,UAHR,qBAUHvgB,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAKolB,GAAI,GACRpgC,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CAAQC,KAAK,oBAAoBogB,OAAO,UACvCvgB,EAAAtgB,EAAAugB,cAAA,OACCiR,IAAKomE,KACLx2D,IAAK,oBACLjG,UAAWO,EAAQs5D,cAIpB0B,IAAqBc,GACtBl3E,EAAAtgB,EAAAugB,cAACuW,EAAA,EAAD,CACC9B,QAAS,kBAAM+E,YAAQ89D,gBACvBpjE,QAAQ,YACRK,MAAM,WAEL7zB,aAAE,4BCxGJ87B,GAAY9C,aAAW,SAAAC,GAG5B,MAAO,CACN26D,cAAe,CACdz4D,QAAS,OACTsD,SAAU,EACV3B,UAAW,OACXJ,SAAU,WACVmH,OARc5K,EAAM4E,QAAQ,OA4BhBg5D,OAff,SAAoBrlE,GACnB,IAAMiJ,EAAUqB,KAEVg7D,EADQliE,YAAY9G,MACN,SAEpB,OACCzO,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAMC,WAAS,EAACrnB,QAAS,EAAGkkB,UAAU,MAAM+G,aAAa,cACxDzpC,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,GAAIhS,UAAWO,EAAQm5D,eACzB,aAAXkD,GAAyBz3E,EAAAtgB,EAAAugB,cAACy3E,GAAiBvlE,GAChC,WAAXslE,GAAuBz3E,EAAAtgB,EAAAugB,cAAC03E,GAAexlE,MCLtCylE,GAAiBhrE,eAuMRirE,GArMG,SAAA1lE,GAAS,IAClB7qB,EAAe6qB,EAAf7qB,WACF1E,EAAW2yB,YAAY5vB,MACvByX,EAAcmY,YACnB,SAAAv1B,GAAK,OAAIqd,aAAsBrd,EAAOsH,IAAe,KAEhD4sC,EAAU3e,YAAY,SAAAv1B,GAAK,OAAImH,aAAkBnH,EAAOsH,KACxDwwF,EAAiBviE,YAAY,SAAAv1B,GAAK,OACvCmH,aAAkBnH,EAAO+3F,QAEpBC,EAAa,CAClB,CAAEniD,QAAS,2BACXiiD,EAAiB,CAAEjiD,QAAS,iCAAoC,IAKhE5yC,EAOGma,EAPHna,MACAg1F,EAMG76E,EANH66E,WACAC,EAKG96E,EALH86E,SACAC,EAIG/6E,EAJH+6E,cACAC,EAGGh7E,EAHHg7E,SACAC,EAEGj7E,EAFHi7E,SACAC,EACGl7E,EADHk7E,SAED,OACCt4E,EAAAtgB,EAAAugB,cAACirC,GAAD,KACEhX,GAAW4jD,EACX93E,EAAAtgB,EAAAugB,cAACurC,GAAD,CACCE,KAAMssC,EACN9jD,SAAS,IAGVl0B,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACCnrC,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACm3B,GAAA,EAAD,CACCjE,WAAS,EACTnqC,KAAK,OACLmrB,QAAQ,WACR0wB,UAAQ,EACRvqC,MAAO3Z,aAAE,QAAS,CAAE6J,QAAQ,IAC5B6T,KAAK,QACLzJ,MAAOhS,EAASK,OAAS,GACzBo4B,SAAU,SAAA7B,GAAE,OACXC,YAAQ8+D,aAAe,QAAS/+D,EAAG+G,OAAO3rB,SAE3Cod,MAAO/uB,KAAWA,EAAM8e,MACxBs2B,UAAW,IACXnB,WACCj0C,GAAWA,EAAM8e,MAAQ9e,EAAM20C,OAASj3C,aAAE,wBAI7Cqf,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACm3B,GAAA,EAAD,CACCjE,WAAS,EACTnqC,KAAK,OACLmrB,QAAQ,WACR0wB,UAAQ,EACRvqC,MAAO3Z,aAAE,aAAc,CAAE6J,QAAQ,IACjC6T,KAAK,aACLzJ,MAAOhS,EAASq1F,YAAc,GAC9B58D,SAAU,SAAA7B,GAAE,OACXC,YAAQ8+D,aAAe,aAAc/+D,EAAG+G,OAAO3rB,SAEhDod,MAAOimE,KAAgBA,EAAWl2E,MAClCs2B,UAAW,IACXnB,WACC+gD,GAAgBA,EAAWl2E,MACxBk2E,EAAWrgD,OACXj3C,aAAE,uBAIRqf,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACm3B,GAAA,EAAD,CACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,WACL67C,UAAQ,EACRvqC,MAAO3Z,aAAE,WAAY,CAAE6J,QAAQ,IAC/B6T,KAAK,WACLzJ,MAAOhS,EAASs1F,UAAY,GAC5B78D,SAAU,SAAA7B,GAAE,OACXC,YAAQ8+D,aAAe,WAAY/+D,EAAG+G,OAAO3rB,SAE9Cod,MAAOkmE,KAAcA,EAASn2E,MAC9Bs2B,UAAW,IACXnB,WACCghD,GAAcA,EAASn2E,MACpBm2E,EAAStgD,OACTj3C,aAAE,qBAIRqf,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACm3B,GAAA,EAAD,CACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,WACL67C,UAAQ,EACRvqC,MAAO3Z,aAAE,gBAAiB,CAAE6J,QAAQ,IACpC6T,KAAK,gBACLzJ,MAAOhS,EAASu1F,eAAiB,GACjC98D,SAAU,SAAA7B,GAAE,OACXC,YAAQ8+D,aAAe,gBAAiB/+D,EAAG+G,OAAO3rB,SAEnDod,MAAOmmE,KAAmBA,EAAcp2E,MACxCs2B,UAAW,IACXnB,WACCihD,GAAmBA,EAAcp2E,MAC9Bo2E,EAAcvgD,OACdj3C,aAAE,2BAIRqf,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAC8lC,GAAD,CACClB,UAAQ,EACR1R,WAAS,EACThf,QAAQ,WACR9V,KAAK,WACL/D,MAAO3Z,aAAE,WAAY,CAAE6J,QAAQ,IAC/B6wB,SAAU,SAAAjxB,GAAG,OAAIqvB,YAAQ8+D,aAAe,WAAYnuF,KACpD+W,OAAQy2E,GACRhjF,MAAOhS,EAASy1F,UAAY,GAC5B5zC,OAAO,mBACPzyB,MAAOqmE,KAAcA,EAASt2E,MAC9Bm1B,WACCmhD,GAAcA,EAASt2E,MACpBs2E,EAASzgD,OACTj3C,aAAE,6BAIgB,UAAtBiC,EAASy1F,UACY,UAAtBz1F,EAASy1F,WACTr4E,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACm3B,GAAA,EAAD,CACCjE,WAAS,EACThf,QAAQ,WACR0wB,UAAQ,EACRvqC,MAAO3Z,aAAE,WAAY,CAAE6J,QAAQ,IAC/B6T,KAAK,WACLzJ,MAAOhS,EAAS01F,UAAY,GAC5Bj9D,SAAU,SAAA7B,GAAE,OACXC,YAAQ8+D,aAAe,WAAY/+D,EAAG+G,OAAO3rB,SAE9Cod,MAAOsmE,KAAcA,EAASv2E,MAC9Bs2B,UAAW,IACXnB,WACCohD,GAAcA,EAASv2E,MACpBu2E,EAAS1gD,OACTj3C,aAAE,4BAKTqf,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACizB,GAAA,EAAD,CACC2R,UAAQ,EACR7yB,MAAOomE,GAAYA,EAASr2E,MAC5Bwd,UAAU,YAEVvf,EAAAtgB,EAAAugB,cAACsxC,GAAA,EAAD,CACCC,QACCxxC,EAAAtgB,EAAAugB,cAACwxC,GAAA,EAAD,CACCC,UAAW9uD,EAASw1F,SACpB/8D,SAAU,SAAA7B,GAAE,OACXC,YAAQ8+D,aAAe,WAAY/+D,EAAG+G,OAAOmxB,WAE9C98C,MAAM,WACN4f,MAAM,YAGRla,MACC0F,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCqgB,OAAO,SACPpgB,KAAI,GAAA7W,OAAK3B,iCAERhH,aAAE,gBAILy3F,KAAcA,EAASr2E,OACvB/B,EAAAtgB,EAAAugB,cAAColC,GAAA,EAAD,KAAiB+yC,EAASxgD,cC5L7BggD,GAAiBhrE,eA8LR4rE,GA5LC,SAAArmE,GAAS,IAChB7qB,EAAe6qB,EAAf7qB,WACF1E,EAAW2yB,YAAY5vB,MAFL8yF,EAGA71F,EAAhBD,cAHgB,IAAA81F,EAGP,GAHOA,EAIlBr7E,EAAcmY,YACnB,SAAAv1B,GAAK,OAAIqd,aAAsBrd,EAAOsH,IAAe,KAGhDwwF,EAAiBviE,YAAY,SAAAv1B,GAAK,OACvCmH,aAAkBnH,EAAO+3F,QAGpBvR,GAAiB5jF,EAASD,QAAU,IAAI5B,SAAW6B,EAAS81F,WAE5DV,EAAavhD,KAAoB9zC,EAAOG,UAAY,WAGzDG,EAMGma,EANHna,MACAg1F,EAKG76E,EALH66E,WACAG,EAIGh7E,EAJHg7E,SACAO,EAGGv7E,EAHHu7E,mBACAN,EAEGj7E,EAFHi7E,SACAC,EACGl7E,EADHk7E,SAED,OACCt4E,EAAAtgB,EAAAugB,cAACirC,GAAD,KACE4sC,EACA93E,EAAAtgB,EAAAugB,cAACurC,GAAD,CACCE,KAAMssC,EACN9jD,SAAS,IAGVl0B,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACCnrC,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACb25C,GAEFxmE,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACm3B,GAAA,EAAD,CACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,OACL67C,UAAQ,EACRvqC,MAAO3Z,aAAE,QAAS,CAAE6J,QAAQ,IAC5B6T,KAAK,QACLzJ,MAAOhS,EAASK,OAAS,GACzBo4B,SAAU,SAAA7B,GAAE,OACXC,YAAQ8+D,aAAe,QAAS/+D,EAAG+G,OAAO3rB,SAE3Cod,MAAO/uB,KAAWA,EAAM8e,MACxBs2B,UAAW,IACXnB,WACCj0C,GAAWA,EAAM8e,MAAQ9e,EAAM20C,OAASj3C,aAAE,wBAI7Cqf,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACm3B,GAAA,EAAD,CACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,OACL67C,UAAQ,EACRvqC,MAAO3Z,aAAE,aAAc,CAAE6J,QAAQ,IACjC6T,KAAK,aACLzJ,MAAOhS,EAASq1F,YAAc,GAC9B58D,SAAU,SAAA7B,GAAE,OACXC,YAAQ8+D,aAAe,aAAc/+D,EAAG+G,OAAO3rB,SAEhDod,MAAOimE,KAAgBA,EAAWl2E,MAClCs2B,UAAW,IACXnB,WACC+gD,GAAgBA,EAAWl2E,MACxBk2E,EAAWrgD,OACXj3C,aAAE,uBAIRqf,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAC8lC,GAAD,CACClB,UAAQ,EACR1R,WAAS,EACThf,QAAQ,WACR9V,KAAK,WACL/D,MAAO3Z,aAAE,WAAY,CAAE6J,QAAQ,IAC/B6wB,SAAU,SAAAjxB,GAAG,OAAIqvB,YAAQ8+D,aAAe,WAAYnuF,KACpD+W,OAAQy2E,GACRhjF,MAAOhS,EAASy1F,UAAY,GAC5B5zC,OAAO,mBACPzyB,MAAOqmE,KAAcA,EAASt2E,MAC9Bm1B,WACCmhD,GAAcA,EAASt2E,MACpBs2E,EAASzgD,OACTj3C,aAAE,6BAIgB,UAAtBiC,EAASy1F,UACY,UAAtBz1F,EAASy1F,WACTr4E,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACm3B,GAAA,EAAD,CACCjE,WAAS,EACT0R,UAAQ,EACR1wB,QAAQ,WACR7Z,MAAO3Z,aAAE,WAAY,CAAE6J,QAAQ,IAC/B6T,KAAK,WACLzJ,MAAOhS,EAAS01F,UAAY,GAC5Bj9D,SAAU,SAAA7B,GAAE,OACXC,YAAQ8+D,aAAe,WAAY/+D,EAAG+G,OAAO3rB,SAE9Cod,MAAOsmE,KAAcA,EAASv2E,MAC9Bs2B,UAAW,IACXnB,WACCohD,GAAcA,EAASv2E,MACpBu2E,EAAS1gD,OACTj3C,aAAE,4BAKTqf,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACizB,GAAA,EAAD,CACC2R,UAAQ,EACR7yB,MAAO2mE,GAAsBA,EAAmB52E,MAChDwd,UAAU,YAEVvf,EAAAtgB,EAAAugB,cAACsxC,GAAA,EAAD,CACCC,QACCxxC,EAAAtgB,EAAAugB,cAACwxC,GAAA,EAAD,CACCC,UAAW9uD,EAAS+1F,mBACpBt9D,SAAU,SAAA7B,GAAE,OACXC,YACC8+D,aACC,qBACA/+D,EAAG+G,OAAOmxB,WAIb98C,MAAM,qBACN4f,MAAM,YAGRla,MAAO3Z,aAAE,4BAA6B,CACrC+J,KAAM,CAAC/H,EAAOG,cAGf61F,KAAwBA,EAAmB52E,OAC3C/B,EAAAtgB,EAAAugB,cAAColC,GAAA,EAAD,KAAiBszC,EAAmB/gD,UAIvC53B,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACizB,GAAA,EAAD,CACC2R,UAAQ,EACR7yB,MAAOomE,GAAYA,EAASr2E,MAC5Bwd,UAAU,YAEVvf,EAAAtgB,EAAAugB,cAACsxC,GAAA,EAAD,CACCC,QACCxxC,EAAAtgB,EAAAugB,cAACwxC,GAAA,EAAD,CACCC,UAAW9uD,EAASw1F,SACpB/8D,SAAU,SAAA7B,GAAE,OACXC,YAAQ8+D,aAAe,WAAY/+D,EAAG+G,OAAOmxB,WAE9C98C,MAAM,WACN4f,MAAM,YAGRla,MACC0F,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCqgB,OAAO,SACPpgB,KAAI,GAAA7W,OAAK3B,iCAERhH,aAAE,gBAILy3F,KAAcA,EAASr2E,OACvB/B,EAAAtgB,EAAAugB,cAAColC,GAAA,EAAD,KAAiB+yC,EAASxgD,cCtFpBghD,GApGI,SAAAzmE,GAAS,IACnB7qB,EAAe6qB,EAAf7qB,WAEF1E,EAAW2yB,YAAY5vB,MAEvBuuC,EAAU3e,YAAY,SAAAv1B,GAAK,OAChCmH,aAAkBnH,EAAO+3F,QAWlBp1F,EAJY4yB,YACnB,SAAAv1B,GAAK,OAAIqd,aAAsBrd,EAAOsH,IAAe,KAG9C3E,OAER,OACCqd,EAAAtgB,EAAAugB,cAACirC,GAAD,KACEhX,EACAl0B,EAAAtgB,EAAAugB,cAACurC,GAAD,CACCE,KAfe,CAClB,CAAE7V,QAAS,2BACX,CAAEA,QAAS,kCAcR3B,SAAS,IAGVl0B,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACCnrC,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CACCC,WAAS,EACTrnB,QAAS,EAETirB,aAAa,gBACbztB,WAAW,UAEXhc,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYnL,QAAQ,QAAQK,MAAM,UAAU4a,cAAY,GACtDzuC,aAAE,mBAAoB,CAAE+J,KAAM,CAAC9H,EAASK,WAI3C+c,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACm3B,GAAA,EAAD,CACCj1B,WAAYvf,EAASE,SACrBqwC,WAAS,EACThf,QAAQ,WACRnrB,KAAK,OACL67C,UAAQ,EACRvqC,MAAO3Z,aAAE,QAAS,CAAE6J,QAAQ,IAC5B6T,KAAK,QACLzJ,MAAOhS,EAASK,OAAS,GACzBo4B,SAAU,SAAA7B,GAAE,OACXC,YAAQ8+D,aAAe,QAAS/+D,EAAG+G,OAAO3rB,YAK7CoL,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACm3B,GAAA,EAAD,CACCjE,WAAS,EACThf,QAAQ,WACRnrB,KAAK,WACL67C,UAAQ,EACRvqC,MAAO3Z,aAAE,WAAY,CAAE6J,QAAQ,IAC/B6T,KAAK,WACLzJ,MAAOhS,EAASs1F,UAAY,GAC5B78D,SAAU,SAAA7B,GAAE,OACXC,YAAQ8+D,aAAe,WAAY/+D,EAAG+G,OAAO3rB,YAI/CjS,KAAYA,EAAOof,OACnB/B,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYnL,QAAQ,QAAQK,MAAM,QAAQ4a,cAAY,GACpDzsC,EAAOi1C,SAIX53B,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,MACXjqC,EAAS81F,YACX14E,EAAAtgB,EAAAugB,cAAA,WACCD,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYnL,QAAQ,QAAQib,cAAY,GACtCzuC,aAAE,yBAA0B,CAC5B+J,KAAM,CAAC9H,EAASiE,yBCjFvBgyF,GAA2B,kBAAAl5F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAmB,IACnC0B,IAAI,SAAA+F,GACnB,MAAO,CACNwN,MAAOxN,EAAGxE,SAAW,IAAMwE,EAAGk7E,UAC9BhoE,MAAOlT,EAAG0xF,IACPn4F,aAAE,2BAA4B,CAC9B+J,KAAM,SAAApB,OAASlC,EAAGk7E,UAAZ,UAA+Bl7E,EAAG0xF,IAAK1xF,EAAGxE,YAEhDjC,aAAE,uBAAwB,CAC1B+J,KAAM,SAAApB,OAASlC,EAAGk7E,UAAZ,UAA+Bl7E,EAAGxE,gBA+F/Bm2F,OA1Ff,SAAmB5mE,GAClB,IAAMvvB,EAAW2yB,YAAY5vB,MAE5B+yF,EAIG91F,EAJH81F,WAHwBD,EAOrB71F,EAHHD,cAJwB,IAAA81F,EAIf,GAJeA,EAKxBO,EAEGp2F,EAFHo2F,gBACAC,EACGr2F,EADHq2F,wBAEKzS,EAAgB7jF,EAAO5B,SAAW23F,EAClCxkD,EAAU3e,YAAY,SAAAv1B,GAAK,OAChCmH,aAAkBnH,EAAOk5F,QAEpBpB,EAAiBviE,YAAY,SAAAv1B,GAAK,OACvCmH,aAAkBnH,EAAO+3F,QAGpBC,EAAavhD,KAAoB9zC,EAAOG,UAAY,WAEpDq2F,EAAe5jE,YAAY3G,MACjCuqE,EAAatmF,IAAI,OAAQ,KAEzB,IAAM6b,EAASyqE,EAAa9tE,WAEtBgoE,EAAmB99D,YAAY/tB,MAQrC,OANA0uB,oBAAU,WACTuD,YAAQ2/D,aAAsB,CAAEzmF,MAAO6zE,MAGrC,IAGFxmE,EAAAtgB,EAAAugB,cAACirC,GAAD,KACE4sC,EACA93E,EAAAtgB,EAAAugB,cAACurC,GAAD,CACCE,KAAMssC,EACN9jD,SAAS,IAGVl0B,EAAAtgB,EAAAugB,cAACkrC,GAAD,KACCnrC,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CACCC,WAAS,EACTrnB,QAAS,EAETirB,aAAa,gBACbztB,WAAW,UAEXhc,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAMC,WAAS,EAACrnB,QAAS,GACxBxe,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYnL,QAAQ,QAAQK,MAAM,UAAU4a,cAAY,GACtDzuC,aAAE,qBAGLqf,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAAC8lC,GAAD,CACC5xB,QAAQ,WACR7Z,MAAO3Z,aAAE,mBACTu2C,WAAYv2C,aAAE,wBACd06B,SAAU,SAAAjxB,GAAG,OACZqvB,YAAQ8+D,aAAe,0BAA2BnuF,KAEnD+W,OAAQ03E,GAAyBG,GACjCpkF,MAAOqkF,GAA2B,GAClCx0C,OAAO,gCACPtR,WAAS,EACTtX,UAAWqY,EACX4Q,WAAYnkD,aAAE,yBAA0B,CACvC+J,KAAM,CAAC87E,QAIT6M,GACArzE,EAAAtgB,EAAAugB,cAAC2lC,GAAA,EAAD,CAAM7zC,MAAI,EAAC86B,GAAI,IACd7sB,EAAAtgB,EAAAugB,cAACuW,EAAA,EAAD,CACC9B,QAAS,kBAAM+E,YAAQhf,aAAI,gBAAAnR,OAAiBolB,OAE3C/tB,aAAE,oCC1FR04F,GAAuB,SAAA94F,GAAA,IAAG+G,EAAH/G,EAAG+G,WAAYya,EAAfxhB,EAAewhB,MAAOy8B,EAAtBj+C,EAAsBi+C,QAASkgB,EAA/Bn+D,EAA+Bm+D,UAA/B,OAC5BjlC,YAAQ6/D,aAAmB,CAAEhyF,aAAYya,QAAOy8B,UAASkgB,gBAEpD66B,GAA0B,SAAAt4F,GAAA,IAAGqG,EAAHrG,EAAGqG,WAAYya,EAAf9gB,EAAe8gB,MAAOy8B,EAAtBv9C,EAAsBu9C,QAASkgB,EAA/Bz9D,EAA+By9D,UAA/B,OAC/BjlC,YAAQ+/D,aAAsB,CAAElyF,aAAYya,QAAOy8B,UAASkgB,gBAEvD+6B,GAAgB,SAAAr4F,GAAA,IAAGkG,EAAHlG,EAAGkG,WAAYya,EAAf3gB,EAAe2gB,MAAOy8B,EAAtBp9C,EAAsBo9C,QAASkgB,EAA/Bt9D,EAA+Bs9D,UAA/B,OACrBjlC,YAAQigE,aAAsB,CAAEpyF,aAAYya,QAAOy8B,UAASkgB,gBAEvDnkC,GAAS,CACdkmB,eAfsB,WACtBhnB,YAAQkgE,eACRlgE,YAAQhf,aAAK,OAcb+iD,eAAgB,aChCF3kC,MACd7Y,EAAAtgB,EAAAugB,cAAA,SACCD,EAAAtgB,EAAAugB,cAAA,QAAM+P,EAAE,83NAGT,gBACA,eCNc6I,MACd7Y,EAAAtgB,EAAAugB,cAAA,SACCD,EAAAtgB,EAAAugB,cAAA,QAAM+P,EAAE,g9HAET,iBACA,cC2BK4pE,GAAYljE,GAvBF,SAAAn2B,GAAA,IAAAs5F,EAAAt5F,EACfu5F,kBADe,IAAAD,EACF,GADEA,EAGfp7D,GAHel+B,EAEfw5F,UAFex5F,EAGfk+B,MACA3wB,EAJevN,EAIfuN,MACAqU,EALe5hB,EAKf4hB,SACAiZ,EANe76B,EAMf66B,QACG4+D,EAPYn5F,OAAAmZ,EAAA,EAAAnZ,CAAAN,EAAA,uEASfyf,EAAAtgB,EAAAugB,cAAA,MAAApf,OAAA03B,OAAA,GACKyhE,EADL,CAECn/D,UAAW8E,KAAWvE,EAAQ6+D,QAATp5F,OAAA++B,EAAA,EAAA/+B,CAAA,GAAqBu6B,EAAQjZ,SAAWA,MAE7DnC,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAWO,EAAQqD,MAAOA,GAC/Bze,EAAAtgB,EAAAugB,cAAA,UAAKnS,GACLkS,EAAAtgB,EAAAugB,cAAA,MAAI4a,UAAWO,EAAQ0+D,YACrBA,EAAWz4F,IAAI,SAAS64F,EAAO10E,GAC/B,OAAOxF,EAAAtgB,EAAAugB,cAAA,MAAIuF,IAAKA,GAAT,IAAgB00E,EAAhB,WAQLC,oLACI,IAAAziE,EACapF,KAAKH,MAApBxxB,EADE+2B,EACF/2B,EAAGy6B,EADD1D,EACC0D,QACT,OACCpb,EAAAtgB,EAAAugB,cAACkW,EAAA,EAAD,CACCvC,MAAM,EACNwH,QAAS,CAAEyB,MAAOzB,EAAQs3D,aAC1B0H,cAAe,CACdh/D,QAAS,CACRhB,KAAMgB,EAAQw3D,WAGhBz/C,WAAS,EACTtR,SAAS,MAET7hB,EAAAtgB,EAAAugB,cAACmW,EAAA,EAAD,KAAcz1B,EAAE,gBAChBqf,EAAAtgB,EAAAugB,cAACoW,EAAA,EAAD,KACCrW,EAAAtgB,EAAAugB,cAAC25E,GAAD,CACCx+D,QAASA,EACTttB,MAAOnN,EAAE,cACT89B,KACCze,EAAAtgB,EAAAugB,cAACo6E,GAAD,CACCt5D,MAAO,CAAEpC,MAAO,IAAKD,OAAQ,KAC7BlK,MAAM,YAGRslE,WAAY,CACXn5F,EAAE,oBACFA,EAAE,oBACFA,EAAE,qBAEH2iB,GAAG,wBACHy2E,UAAWp5F,EAAE,mBAIdqf,EAAAtgB,EAAAugB,cAAC25E,GAAD,CACCx+D,QAASA,EACTttB,MAAOnN,EAAE,aACT89B,KACCze,EAAAtgB,EAAAugB,cAACq6E,GAAD,CACCv5D,MAAO,CAAEpC,MAAO,IAAKD,OAAQ,KAC7BlK,MAAM,YAGRslE,WAAY,CACXn5F,EAAE,oBACFA,EAAE,oBACFA,EAAE,qBAEH2iB,GAAG,uBACHy2E,UAAWp5F,EAAE,2BAnDMi0B,aA4DV2N,MAAUuH,aCjGH,WACrB,MAAO,CACN8oD,SAAU,CACThpE,gBAAiB,4BAElBqwE,QAAS,CACRn+D,QAAS,eACT6C,MAAO,MACPD,OAAQ,OACRie,UAAW,SACX49C,cAAe,MACf1hC,QAAS,GACT2hC,yBAA0B,CACzB57D,OAAQ,UACRi6B,QAAS,GAEV4hC,aAAc,CACb5hC,QAAS,IAEV6hC,0BAA2B,CAC1B/7D,MAAO,SAGTF,KAAM,CACLE,MAAO,IACPD,OAAQ,IACR8F,OAAQ,QAETs1D,WAAY,CACXl8D,QAAS,EACT+8D,OAAQ,CACP7+D,QAAS,QACT8+D,UAAW,WDiEU9wD,CAAmBqwD,0BEzFtC19D,GAAY9C,aAAW,SAAAC,GAAK,MAAK,CACtCQ,KAAM,CACLuiB,UAAW,UAEZk+C,QAAS,CACRpN,gBAAe,OAAAnkF,OAASwxF,KAAT,KACf1I,mBAAoB,SACpBD,iBAAkB,YAClB9E,eAAgB,WAEjBxnC,UAAW,CACVhkB,SAAUjI,EAAM2J,YAAYn4B,OAAO0hC,GACnCtI,OAAQ,QAETiuD,KAAM,CACL/zD,OAAQ,OACRC,MAAO,yBClBHlC,GAAY9C,aAAWuJ,IAEd,SAAS63D,GAAUpkE,GAajC,OAZA,SAAAp2B,GAAiC,IAARwZ,EAAQlZ,OAAAm6F,GAAA,EAAAn6F,CAAA,GAAAN,GAC1B66B,EAAUqB,KAEhB,OACCzc,EAAAtgB,EAAAugB,cAACkW,EAAA,EAAD,CAAQvC,MAAM,EAAMwH,QAAS,CAAEyB,MAAOzB,EAAQuN,SAC7C3oB,EAAAtgB,EAAAugB,cAACoW,EAAA,EAAD,CAAe+E,QAAS,CAAEhB,KAAMgB,EAAQ+I,UACvCnkB,EAAAtgB,EAAAugB,cAAC0W,EAAc5c,MCiBpB,IAAMkhF,GAA+BpH,GAAWqH,GPqDb,SAAA/oE,GAAK,OACvCnS,EAAAtgB,EAAAugB,cAACq9C,GAADz8D,OAAA03B,OAAA,GACKpG,EACAoI,GAFL,CAGCkkB,QAAQ,wBACRrQ,MAAO,CACN,CACCtgC,MAAO,aACPyxB,UAAWs4D,GACXt5C,aAAc,SAAA58C,GAAA,IAAG2F,EAAH3F,EAAG2F,WAAYya,EAAfpgB,EAAeogB,MAAf,OACb0X,YAAQ0hE,aAAkB,CAAE7zF,aAAYya,YACzCq5E,OAAO,UO/DLC,GAAsBxH,GAAWqH,GPqEL,SAAA/oE,GAAK,OACtCnS,EAAAtgB,EAAAugB,cAACq9C,GAADz8D,OAAA03B,OAAA,GACKpG,EACAoI,GAFL,CAGCkkB,QAAQ,uBACRrQ,MAAO,CACN,CACCtgC,MAAO,cACPyxB,UAAWq5D,GACXr6C,aAAc86C,GACd+B,OAAO,UO9ELE,GAAiCzH,GACtCqH,GPGoC,SAAA/oE,GACpC,OACCnS,EAAAtgB,EAAAugB,cAACq9C,GAADz8D,OAAA03B,OAAA,GACKpG,EACAoI,GAFL,CAGCkkB,QAAQ,sBACRrQ,MAAO,CACN,CACCtgC,MAAO,6BACPyxB,UAAWi4D,GACXj5C,aAAck7C,IAEf,CACC3rF,MAAO,4BACPyxB,UAAWw5D,GACXx6C,aAAcg7C,GACd6B,OAAO,UOjBNG,GAAkC1H,GACvCqH,GPuBqC,SAAA/oE,GACrC,OACCnS,EAAAtgB,EAAAugB,cAACq9C,GAADz8D,OAAA03B,OAAA,GACKpG,EACAoI,GAFL,CAGCkkB,QAAQ,uBACRrQ,MAAO,CACN,CACCtgC,MAAO,6BACPyxB,UAAWi4D,GACXj5C,aAAck7C,IAEf,CACC3rF,MAAO,YACPyxB,UAAWi8D,GACXj9C,aAAc,SAAA/8C,GAAA,IAAG8F,EAAH9F,EAAG8F,WAAYya,EAAfvgB,EAAeugB,MAAf,OACb0X,YAAQgiE,aAAiB,CAAEn0F,aAAYya,YACxCq5E,OAAO,UOtCNM,GAAgB7H,GFZP,SAAAtzF,GAA8B,IAAdI,EAAcJ,EAAdI,EACxBy6B,GADsCv6B,OAAAmZ,EAAA,EAAAnZ,CAAAN,EAAA,OAC5Bk8B,MAEhB,OACCzc,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CACC2D,MAAO,EACPD,OAAQ,EACR7D,UAAWO,EAAQhB,KACnB0B,QAAQ,OACRoB,cAAc,SACdlB,WAAW,SACXmB,eAAe,UAEfnd,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CACCH,UAAWO,EAAQyqB,UACnB/pB,QAAQ,OACRoB,cAAc,MACdlB,WAAW,SACXmB,eAAe,eACfwX,SAAS,QAET30B,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCsU,MAAM,UACNqG,UAAWO,EAAQgD,QACnBmC,OAAO,SACPpgB,KAAK,4BAEJxf,EAAE,oBAGLqf,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCsU,MAAM,UACNqG,UAAWO,EAAQgD,QACnBmC,OAAO,SACPpgB,KAAK,uCAEJxf,EAAE,kCAGLqf,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAACC,GAAA,EAAD,CACCsU,MAAM,UACNqG,UAAWO,EAAQgD,QACnBmC,OAAO,SACPpgB,KAAK,4CAEJxf,EAAE,oCAINqf,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CACCoE,SAAU,EACVtD,QAAQ,OACRoB,cAAc,SACdlB,WAAW,SACXmB,eAAe,SACf0E,SAAS,KACThH,UAAWO,EAAQyqB,WAEnB7lC,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAACsc,GAAD,CAAM1B,UAAWO,EAAQq3D,QAqB1BzyE,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYnL,QAAQ,KAAKib,cAAY,GACpCpvB,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAKq5D,WAAW,mBAAmBpoE,EAAG,GACpCtrB,EAAE,iBAINqf,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAK3Y,EAAG,GACPrC,EAAAtgB,EAAAugB,cAACqf,GAAA,EAAD,CAAYnL,QAAQ,KAAKib,cAAY,GACpCpvB,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CAAKq5D,WAAW,kBAAkBpoE,EAAG,GACnCtrB,EAAE,oBASNqf,EAAAtgB,EAAAugB,cAAC+a,EAAA,EAAD,CACC0D,OAAO,MACPrB,SAAS,WACTxC,UAAWO,EAAQy/D,QACnB3b,UAAU,gBE5FTyc,GAAe,SAAAp7F,GAA8C,IAAhCq0B,EAAgCr0B,EAA3Cg/B,UAAsB+zD,EAAqB/yF,EAArB+yF,KAAS0G,EAAYn5F,OAAAmZ,EAAA,EAAAnZ,CAAAN,EAAA,sBAClE,OACCyf,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD90C,OAAA03B,OAAA,GACKyhE,EADL,CAECvrD,OAAQ,SAAAtc,GAAK,OACH,IAATmhE,EACCtzE,EAAAtgB,EAAAugB,cAAC2U,EAAczC,GAEfnS,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CAAUryB,GAAI,CAAE8L,SAAU,IAAKpvB,MAAO,CAAEuS,KAAM4f,EAAM7kB,kBAOnDsuF,GAAkB,eAAA36F,EAAAJ,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAC,EAAM70B,GAAN,IAAAvB,EAAA4H,EAAA/F,EAAAi1F,EAAAp1F,EAAA,OAAAw0B,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,UAClB7uB,GADkB5H,EACkBuB,GAAU,IAA9CqG,KAAM/F,EADY7B,EACZ6B,MAAOi1F,EADK92F,EACL82F,SAAUp1F,EADL1B,EACK0B,SAE1BkG,IAAQ/F,IAASi1F,GAAyB,UAAbp1F,EAHR,CAAA80B,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EAInBgkE,aAAoB,CAAE54F,QAAOi1F,aAJV,cAAAtgE,EAAAC,KAAA,EAKnBikE,aAAgB,CAAE74F,QAAOi1F,aALN,OAQtBj1F,GAASi1F,GAAYp1F,GACxB22B,YAAQsiE,eATiB,wBAAAnkE,EAAAI,SAAAR,MAAH,gBAAAS,GAAA,OAAAh3B,EAAAyT,MAAA4d,KAAA3yB,YAAA,GA6ET4iC,MAhEF,WACZ,IAAM+wD,EAAO/9D,YAAY7yB,KACnBC,EAAS4yB,YAAYxyB,MACrBuK,EAAWioB,YAAYhH,MA2B7B,OAzBA2H,oBAAU,WAAM,SAAA8lE,IAAA,OAAAA,EAAAn7F,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KACf,SAAAgoB,IAAA,OAAAjoB,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAAA2nB,EAAA3nB,KAAA,EACOokE,eADP,OAECxiE,YAAQyiE,eAERziE,YAAQ0iE,eACR1iE,YAAQ2iE,YAAqB9uF,EAASohB,SACtC+K,YAAQ4iE,YAAiB/uF,EAASohB,SANnC,wBAAA8wB,EAAAxnB,SAAAunB,OADe7qC,MAAA4d,KAAA3yB,YAAA,WAAAq8F,EAAAtnF,MAAA4d,KAAA3yB,WAUf28F,IAGE,IAEHpmE,oBAAU,WACT0lE,GAAmBj5F,IACjB,CAACA,IAEJuzB,oBAAU,WACTuD,YAAQ8iE,eACR9iE,YAAQ+iE,aAA0BlvF,EAASohB,SAC3C+K,YAAQgjE,aAAwBnvF,EAASohB,UACvC,CAACphB,IAGH0S,EAAAtgB,EAAAugB,cAACy8E,EAAA,EAAD,KACC18E,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,KACC31B,EAAAtgB,EAAAugB,cAAC08E,GAAD,CACCrJ,KAAMA,EACNr8D,KAAK,mBACLsI,UAAWsxD,KAEZ7wE,EAAAtgB,EAAAugB,cAAC08E,GAAD,CAAcrJ,KAAMA,EAAMr8D,KAAK,eAAesI,UAAW46D,KACzDn6E,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CAAOq8C,OAAK,EAAC/6D,KAAK,IAAIsI,UAAWm8D,KACjC17E,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,gBACLsI,UAAW07D,KAEZj7E,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,cACLsI,UAAW+7D,KAEZt7E,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CACCq8C,OAAK,EACL/6D,KAAK,eACLsI,UAAWg8D,KAEZv7E,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,CAAOq8C,OAAK,EAAC/6D,KAAK,eAAesI,UAAW87D,KAC5Cr7E,EAAAtgB,EAAAugB,cAAC01B,EAAA,EAAD,KACC31B,EAAAtgB,EAAAugB,cAAC8lD,GAAD,kDC3GC62B,GAAe,aA+BNC,oLAzBb,OACC78E,EAAAtgB,EAAAugB,cAACD,EAAAtgB,EAAMugC,SAAP,KACCjgB,EAAAtgB,EAAAugB,cAAC68E,GAAA,EAAD,CAAkBljE,MAAOmjE,MACxB/8E,EAAAtgB,EAAAugB,cAAC+8E,GAAA,EAAD,MACAh9E,EAAAtgB,EAAAugB,cAACg9E,GAAA,EAAD,CAAyBpvC,MAAOqvC,MAC/Bl9E,EAAAtgB,EAAAugB,cAACk9E,EAAA,EAAD,CAAUC,MAAOA,KAChBp9E,EAAAtgB,EAAAugB,cAACo9E,EAAA,EAAD,CAAaT,aAAcA,GAAcU,UAAWA,KACnDt9E,EAAAtgB,EAAAugB,cAACs9E,EAAA,EAAD,CAAiBrmE,QAASA,KACzBlX,EAAAtgB,EAAAugB,cAACu9E,GAAA,EAAD,KACCx9E,EAAAtgB,EAAAugB,cAAA,OAAK4a,UAAU,aACd7a,EAAAtgB,EAAAugB,cAACw9E,GAAD,MACAz9E,EAAAtgB,EAAAugB,cAACy9E,EAAD,MACA19E,EAAAtgB,EAAAugB,cAAC09E,EAAD,qBAdO/oE,aCZEqN,QACU,cAA7Bkb,OAAO7vC,SAASR,UAEc,UAA7BqwC,OAAO7vC,SAASR,UAEhBqwC,OAAO7vC,SAASR,SAASsrB,MACxB,2DCZHwlE,IAASnvD,OAAOzuB,EAAAtgB,EAAAugB,cAAC49E,GAAD,MAAS72D,SAAS82D,eAAe,SD2H5C,kBAAmB9H,WACtBA,UAAU+H,cAAcC,MAAMC,KAAK,SAAAC,GAClCA,EAAaC,gDEnIhBpuE,EAAAC,EAAAC,EAAA,sBAAAmuE,IAAAruE,EAAAC,EAAAC,EAAA,sBAAAouE,IAAAtuE,EAAAC,EAAAC,EAAA,sBAAAquE,IAAAvuE,EAAAC,EAAAC,EAAA,sBAAAsuE,IAAAxuE,EAAAC,EAAAC,EAAA,sBAAAuuE,IAAAzuE,EAAAC,EAAAC,EAAA,sBAAAwuE,IAAA1uE,EAAAC,EAAAC,EAAA,sBAAAyuE,IAAA3uE,EAAAC,EAAAC,EAAA,sBAAA0uE,IAAA5uE,EAAAC,EAAAC,EAAA,sBAAA2uE,IAAA7uE,EAAAC,EAAAC,EAAA,sBAAA4uE,IAAA9uE,EAAAC,EAAAC,EAAA,sBAAA6uE,IAAA/uE,EAAAC,EAAAC,EAAA,sBAAA8uE,IAAAhvE,EAAAC,EAAAC,EAAA,uBAAA+uE,IAAAjvE,EAAAC,EAAAC,EAAA,sBAAAgvE,IAAAlvE,EAAAC,EAAAC,EAAA,uBAAAivE,IAAAnvE,EAAAC,EAAAC,EAAA,uBAAAkvE,IAAApvE,EAAAC,EAAAC,EAAA,sBAAAmvE,IAAArvE,EAAAC,EAAAC,EAAA,sBAAAovE,IAAAtvE,EAAAC,EAAAC,EAAA,sBAAAqvE,IAAAvvE,EAAAC,EAAAC,EAAA,sBAAAsvE,IAAAxvE,EAAAC,EAAAC,EAAA,sBAAAuvE,IAAAzvE,EAAAC,EAAAC,EAAA,sBAAAwvE,IAAA1vE,EAAAC,EAAAC,EAAA,sBAAAyvE,IAAA3vE,EAAAC,EAAAC,EAAA,sBAAA0vE,IAAA5vE,EAAAC,EAAAC,EAAA,sBAAA2vE,IAAA7vE,EAAAC,EAAAC,EAAA,sBAAA4vE,IAAA9vE,EAAAC,EAAAC,EAAA,uBAAA6vE,IAAA/vE,EAAAC,EAAAC,EAAA,sBAAA8vE,IAAAhwE,EAAAC,EAAAC,EAAA,sBAAA+vE,IAAAjwE,EAAAC,EAAAC,EAAA,sBAAAgwE,IAAAlwE,EAAAC,EAAAC,EAAA,sBAAAiwE,IAAAnwE,EAAAC,EAAAC,EAAA,sBAAAkwE,IAAApwE,EAAAC,EAAAC,EAAA,sBAAAmwE,IAAArwE,EAAAC,EAAAC,EAAA,sBAAAowE,IAAAtwE,EAAAC,EAAAC,EAAA,sBAAAqwE,IAAAvwE,EAAAC,EAAAC,EAAA,uBAAAswE,IAAAxwE,EAAAC,EAAAC,EAAA,sBAAAuwE,IAAAzwE,EAAAC,EAAAC,EAAA,sBAAAwwE,IAAA1wE,EAAAC,EAAAC,EAAA,sBAAAywE,IAAA3wE,EAAAC,EAAAC,EAAA,sBAAA0wE,IAAA5wE,EAAAC,EAAAC,EAAA,sBAAA2wE,IAAA7wE,EAAAC,EAAAC,EAAA,sBAAA4wE,IAAA9wE,EAAAC,EAAAC,EAAA,uBAAA6wE,IAAA/wE,EAAAC,EAAAC,EAAA,sBAAA8wE,IAAAhxE,EAAAC,EAAAC,EAAA,sBAAA+wE,IAAAjxE,EAAAC,EAAAC,EAAA,sBAAAgxE,IAAAlxE,EAAAC,EAAAC,EAAA,sBAAAixE,IAAAnxE,EAAAC,EAAAC,EAAA,sBAAAkxE,IAAApxE,EAAAC,EAAAC,EAAA,sBAAAmxE,IAAArxE,EAAAC,EAAAC,EAAA,sBAAAoxE,IAAAtxE,EAAAC,EAAAC,EAAA,sBAAAqxE,IAAAvxE,EAAAC,EAAAC,EAAA,sBAAAsxE,KAAAxxE,EAAAC,EAAAC,EAAA,sBAAAuxE,KAAAzxE,EAAAC,EAAAC,EAAA,sBAAAwxE,KAAA1xE,EAAAC,EAAAC,EAAA,uBAAAyxE,KAAA3xE,EAAAC,EAAAC,EAAA,uBAAA0xE,KAAA5xE,EAAAC,EAAAC,EAAA,sBAAA2xE,KAAA7xE,EAAAC,EAAAC,EAAA,sBAAA4xE,KAAA9xE,EAAAC,EAAAC,EAAA,sBAAA6xE,KAAA/xE,EAAAC,EAAAC,EAAA,sBAAA8xE,KAAAhyE,EAAAC,EAAAC,EAAA,uBAAA+xE,KAAO,IAAM5D,EAAW,WACXC,EAAc,cACdC,EAAkB,iBAClBC,EAAiB,gBACjBC,EAAsB,qBACtBC,EAAc,cACdC,EAAwB,wBACxBC,EAAmB,mBACnBC,EAAmB,mBACnBC,EAAkB,kBAClBC,EAAmB,kBACnBC,EAAsB,qBAEtBC,EAAiB,iBACjBC,EAAmB,mBACnBC,EAAwB,wBACxBC,EAAiC,iCACjCC,EAAmB,mBACnBC,EAAY,YACZC,EAAe,eACfC,EAAiB,iBACjBC,EAAa,aACbC,EAAkB,kBAClBC,EAAyB,yBACzBC,EAAwB,wBAKxBC,EAAiB,iBACjBC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAe,eACfC,EAAiB,iBACjBC,EAAiB,iBACjBC,EAAgB,gBAChBC,EAAyB,yBACzBC,EAAwB,wBACxBC,EAA6B,6BAC7BC,EAAuB,uBACvBC,EAA0B,0BAC1BC,EAAyB,yBACzBC,EAAkB,kBAClBC,EAAiB,iBACjBC,EAAc,cACdC,EAAkB,kBAClBC,EAAiB,iBACjBC,EAAgB,gBAChBC,EAAe,eACfC,EAAqB,qBACrBC,EAA6B,6BAC7BC,EAAmB,mBACnBC,EAA4B,4BAC5BC,EAAkB,kBAClBC,EACZ,mCACYC,EAAkC,kCAClCC,GACZ,2CACYC,GACZ,0CACYC,GAA0B,0BAC1BC,GAAwB,wBACxBC,GAA6B,6BAC7BC,GAA0B,0BAC1BC,GAA4B,4BAC5BC,GAAuB,uBACvBC,GAAgC,gCAChCC,GAA6B,+DCpE1CjyE,EAAAC,EAAAC,EAAA,sBAAAmW,IAAArW,EAAAC,EAAAC,EAAA,sBAAAgyE,IAAA,IAAAC,EAAAnyE,EAAA,GAAAoyE,EAAApyE,EAAA,KAAAqyE,EAAAryE,EAAA,KAAAsyE,EAAAtyE,EAAA,KAAAuyE,EAAAvyE,EAAA,IAqBaqW,EAAS,SAAAm8D,GACrB9oE,YAAQ4iD,aAAe,qBAAqB,IAC5C5iD,YAAQ+oE,eACRC,IAAsBzqE,OACtB0qE,IAAc1qE,OACd2qE,IAAU3qE,OACLuqE,GACJ9oE,YAAQhf,YAAK,MAEdgf,YAAQkgE,eACRlgE,YAAQmpE,eACRnpE,YAAQopE,eACRppE,YAAQqpE,eACRrpE,YAAQspE,eACRtpE,YAAQupE,eACRvpE,YAAQwpE,eACRxpE,YAAQypE,gBAGIjB,EAAa,WACzB,MAAgD,SAAzChiG,cAAWC,QAAQoC,QAAQ6gG,6CCzCnCpzE,EAAAC,EAAAC,EAAA,sBAAA6W,IAAA/W,EAAAC,EAAAC,EAAA,sBAAAmzE,IAAArzE,EAAAC,EAAAC,EAAA,sBAAAozE,IAAA,IAEav8D,EAAe,iBAAsC,WAAtCnnC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,IAAYwD,MAAM,KAAK,IA2B9CigG,EAAe,SAAAniG,GAAA,IAAGunD,EAAHvnD,EAAGunD,KAAMt3B,EAATjwB,EAASiwB,IAAT,OAC3B4V,EAAa0hB,GA1BO,SAAAt3B,GAAG,OACvB,IAAIg2B,QAAQ,SAAAC,GACX,IAAMm8C,EAAQt8D,SAAS/mB,cAAc,SACrCqjF,EAAMpyE,IAAMA,EAEZoyE,EAAMp7D,iBAAmB,SAAA3nC,GAAgB,IAAbggC,EAAahgC,EAAbggC,OAC3B,OAAO4mB,EAAQ,CACdxoB,MAAO4B,EAAOgjE,WACd7kE,OAAQ6B,EAAOijE,iBAkBGC,CAAavyE,GAbd,SAAAA,GAAG,OACvB,IAAIg2B,QAAQ,SAAAC,GACX,IAAMjgB,EAAQ,IAAII,MAClBJ,EAAMhW,IAAMA,EACZgW,EAAMW,OAAS,WACd,OAAOsf,EAAQ,CACdxoB,MAAOrM,KAAKqM,MACZD,OAAQpM,KAAKoM,YAMyBglE,CAAaxyE,IAE1CmyE,EAAsB,SAClCM,EACAhlE,EACAilE,EACAllE,GAEI,IADJmlE,EACIlkG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAtCwB,EAuC5B,GAAIgkG,GAAe,GAAKhlE,GAAS,GAAKilE,GAAgB,GAAKllE,GAAU,EACpE,OAAO,EAER,IAAMolE,EAAelpF,WAAW+oF,EAAcC,GACxC57C,EAASptC,WAAW+jB,EAAQD,GAE5BqlE,EAAap0F,KAAKq0F,KAAMF,EAAe97C,GAAU87C,EAAgB,KAOvE,OAJCH,GAAehlE,GACfilE,GAAgBllE,GAChBqlE,GAAcF,qCClDhB9zE,EAAAC,EAAAC,EAAA,sBAAAg0E,IAAA,IAAAC,EAAAn0E,EAAA,KAAAo0E,EAAAp0E,EAAA,KAAAq0E,EAAAr0E,EAAA,KAAAs0E,EAAAt0E,EAAA,KAAAu0E,EAAAv0E,EAAA,KAAAw0E,EAAAx0E,EAAA,KAAAy0E,EAAAz0E,EAAA,KAQak0E,EAAY,CACxBQ,SAAU,CACTC,IAAKD,EAASC,KAEfC,eAAgB,CACf5jG,QAAS4G,6CACTi9F,eAAgBj9F,6CAChB+8F,IAAKC,GAENE,iBAAkB,CACjB9jG,QAAS4G,6CACTm9F,aAAcn9F,WACd+8F,IAAKG,GAENE,SAAU,CACThkG,QAAS4G,6CACT+8F,IAAKK,EAASL,KAEfM,IAAK,CACJjkG,QAAS4G,6CACT+8F,IAAKO,EAAIP,IACTzhF,SAAU,IAEXiiF,gBAAiB,CAChBnkG,QAAS4G,6CACT+8F,IAAKQ,EAAgBR,KAEtBS,MAAO,CACNT,IAAKS,2KC5BMjI,UAAb,SAAAkI,GAAA,SAAAlI,IAAA,OAAAr8F,OAAAwkG,EAAA,EAAAxkG,CAAAyxB,KAAA4qE,GAAAr8F,OAAAykG,EAAA,EAAAzkG,CAAAyxB,KAAAzxB,OAAA0kG,EAAA,EAAA1kG,CAAAq8F,GAAAxoF,MAAA4d,KAAA3yB,YAAA,OAAAkB,OAAA2kG,EAAA,EAAA3kG,CAAAq8F,EAAAkI,GAAAvkG,OAAA4kG,EAAA,EAAA5kG,CAAAq8F,EAAA,EAAA13E,IAAA,gBAAA5Q,MAAA,SACelP,GACb,OAAOA,EAAKggG,QAAQv5E,QAAQ,YAF9B,CAAA3G,IAAA,cAAA5Q,MAAA,SAKalP,GACX,OAAOA,EAAKggG,QAAQv5E,QAAQ,UAN9B,CAAA3G,IAAA,cAAA5Q,MAAA,SASalP,GACX,OAAOA,EAAKggG,QAAQv5E,QAAQ,UAV9B,CAAA3G,IAAA,cAAA5Q,MAAA,SAaalP,GACX,OAAOA,EAAKggG,QAAQv5E,QAAQ,UAd9B,CAAA3G,IAAA,YAAA5Q,MAAA,SAiBWlP,GACT,OAAOA,EAAKggG,QAAQl5E,MAAM,UAlB5B,CAAAhH,IAAA,mBAAA5Q,MAAA,SAqBkBlP,EArBlBnF,GAqBwC,IAAdsJ,EAActJ,EAAdsJ,MAAOE,EAAOxJ,EAAPwJ,IAC/B,OAAOrE,EAAKggG,QAAQC,UAAU97F,EAAOE,EAAK,KAAM,QAtBlD,CAAAyb,IAAA,MAAA5Q,MAAA,SAyBKlP,EAAMkgG,EAASC,GAClB,OAAOngG,EAAK+M,IAAImzF,EAASC,KA1B3B,CAAArgF,IAAA,aAAA5Q,MAAA,SA6BYlP,EAAMogG,GAChB,OAAOpgG,EAAKggG,QAAQjzF,IAAIqzF,EAAS,YA9BnC,CAAAtgF,IAAA,WAAA5Q,MAAA,SAiCUlP,EAAMqgG,GACd,OAAOrgG,EAAKggG,QAAQjzF,IAAIszF,EAAO,UAlCjC,CAAAvgF,IAAA,UAAA5Q,MAAA,SAqCSlP,EAAMoxE,GACb,OAAOpxE,EAAKggG,QAAQv5E,QAAQ2qD,KAtC9B,CAAAtxD,IAAA,QAAA5Q,MAAA,SAyCOlP,EAAMoxE,GACX,OAAOpxE,EAAKggG,QAAQl5E,MAAMsqD,KA1C5B,CAAAtxD,IAAA,WAAA5Q,MAAA,SA6CUlP,EAAMsgG,GACd,OAAOtgG,EAAKggG,QAAQjzF,IAAIuzF,EAAO,UA9CjC,CAAAxgF,IAAA,YAAA5Q,MAAA,SAiDWlP,EAAMsmB,GACf,OAAOtmB,EAAKggG,QAAQjzF,IAAIuZ,EAAQ,WAlDlC,CAAAxG,IAAA,WAAA5Q,MAAA,SAqDUlP,EAAMugG,GACd,OAAOvgG,EAAKggG,QAAQjzF,IAAIwzF,EAAO,UAtDjC,CAAAzgF,IAAA,eAAA5Q,MAAA,WAyDoC,IAAtBlP,EAAsB/F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf2yB,KAAKpG,SACxB,OAAOoG,KAAKpG,OAAOxmB,GAAMwgG,YAAc,KA1DzC,CAAA1gF,IAAA,wBAAA5Q,MAAA,WA6D6C,IAAtBlP,EAAsB/F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf2yB,KAAKpG,SAC3Bi6E,EAAS7zE,KAAKpG,OAAOxmB,GAAMwgG,YAC3BE,EAAOD,GAAU,EAAI,IAAM,IAC3BJ,EAAQp2F,KAAKq0F,IAAIr0F,KAAKs3C,MAAMk/C,EAAS,KAAK96E,WAC1Cy6E,GAAWK,EAAS,IAAI96E,WAE9B,SAAA/hB,OAAU88F,GAAV98F,OAAkC,IAAjBy8F,EAAMnmG,OAAe,IAAMmmG,EAAQA,EAApD,KAAAz8F,OACoB,IAAnBw8F,EAAQlmG,OAAe,IAAMkmG,EAAUA,KApE1C,CAAAtgF,IAAA,qBAAA5Q,MAAA,SAwEoBlP,GAClB,OAAO,IAAIy3C,OAAOkpD,KAAKC,eAAe5gG,GAAM6gG,kBAAkBC,WAzEhE,CAAAhhF,IAAA,UAAA5Q,MAAA,SA4ESlP,GACP,OAAOA,EAAK6+D,SA7Ed,CAAA/+C,IAAA,gBAAA5Q,MAAA,SA+Ee6xF,GACb,OAAOn0E,KAAKpG,OAAOw6E,WAAWD,KAhFhC,CAAAjhF,IAAA,eAAA5Q,MAAA,SAAA3T,GAmF2C,IAAA0lG,EAAA1lG,EAA3BwlG,cAA2B,IAAAE,EAAlB,KAAkBA,EAAZC,EAAY3lG,EAAZ2lG,IAAKC,EAAO5lG,EAAP4lG,IAC5BC,EAAoBx0E,KAAKy0E,cAAcN,GAC7Cn0E,KAAKpG,OAAO86E,aAAaP,EAAQ,CAChC7tB,KAAM,CACLguB,IAAKA,GAAOE,EAAkBG,iBAC9BJ,IAAKA,GAAOC,EAAkBI,sBAxFlC,CAAA1hF,IAAA,mBAAA5Q,MAAA,SA6FkBlP,EAAMyhG,GACtB,IAAMh/E,EAAU1iB,EAAUC,KAAKA,GACzBizE,EAAOlzE,EAAU2hG,SAASj/E,GAC1Bk/E,EAAgB13F,KAAKs3C,MAAM0xB,EAAQA,EAAOwuB,GAC1CG,EAAoB7hG,EAAU8hG,SAASp/E,EAASk/E,GAEtD,OAAO5hG,EAAU0K,YAAYm3F,KAnG/B,CAAA9hF,IAAA,SAAA5Q,MAAA,SAsGQlP,EAAM8hG,GACZ,OAAOl1E,KAAKpG,OAAOxmB,GAAM6W,OAAOirF,OAvGlCtK,EAAA,CAA+BnuC,MA2GxB,SAASqoB,EAAiB1xE,GAChC,OAAIwmB,IAAOu7E,SAAS/hG,GACZA,EAAKggG,QAGThgG,aAAgB6J,KACZ,IAAIA,KAAK7J,EAAKgiG,WAGfhiG,EAGR,IAAMD,EAAY,IAAIy3F,EACtBz3F,EAAUuhG,aAAa,CACtBJ,IAAKnhG,EACHshG,cAAc5pD,OAAO64C,UAAU9rF,SAASqjC,eACxC05D,mBAGYxhG,uCCtIfsqB,EAAAC,EAAAC,EAAA,sBAAAzT,IAAAuT,EAAAC,EAAAC,EAAA,sBAAA0hB,IAAA5hB,EAAAC,EAAAC,EAAA,sBAAAyhB,IAAA3hB,EAAAC,EAAAC,EAAA,sBAAAlX,IAAAgX,EAAAC,EAAAC,EAAA,sBAAAiV,IAAAnV,EAAAC,EAAAC,EAAA,sBAAAqyC,IAAAvyC,EAAAC,EAAAC,EAAA,sBAAAgiD,IAAAliD,EAAAC,EAAAC,EAAA,sBAAAjJ,IAAA+I,EAAAC,EAAAC,EAAA,sBAAAshB,IAAA,IAAAo2D,EAAA53E,EAAA,IAEM7D,EAAS,IAFf6D,EAAA,KAEmBg/B,GAGNvyC,EAA0B,mBAG1Bm1B,EAAiB,SAC7Bi2D,GAGI,IAFJrrF,EAEI5c,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFK6c,EACTqrF,EACIloG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADU,UAEd,OAAKioG,EAGQ17E,EAAOxmB,KAAKkiG,GACbrrF,OAAOA,GAHXsrF,GAMIn2D,EAAa,SACzBk2D,GAGI,IAFJrrF,EAEI5c,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAlB8B,aAiBlCkoG,EACIloG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADU,UAEd,OAAKioG,EAGQ17E,EAAOxmB,KAAKkiG,GACbrrF,OAAOA,GAHXsrF,GAMI9uF,EAAoB,WAK5B,IAJJ+uF,EAIInoG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAJW,IACfsjB,EAGItjB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHO,GACXooG,EAEIpoG,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EADJkc,EACIpc,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACEqE,EAAY4f,sBAAYgkF,EAAc7kF,GAC5C,OAAI8kF,EACIv2D,kBAAQttC,GACc,kBAAZ6X,EAEVnB,WAAW1W,GAChB6X,QAAQA,EAAU,GAClB3B,MAAM,GAAI,GAELlW,GAIIghC,EAAgB,WAAsC,IAArCnkC,EAAqCpB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA3B,GAAIqoG,EAAuBroG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAV,MACxD,SAAA2J,OAAUvI,EAAQknG,UAAU,EAAG,IAA/B3+F,OAAoC0+F,GAApC1+F,OAAiDvI,EAAQknG,UAAU,GAAI,MAG3D3lC,EAAyB,SAAA30D,GACrC,OAAOA,EAAE0d,WAAW3G,QAAQ,wBAAyB,MAGzCutD,EAA8B,SAAAtkE,GAC1C,IAAMu6F,EAAQv6F,EAAE0d,WAAWloB,MAAM,KAEjC,OADA+kG,EAAM,GAAKA,EAAM,GAAGxjF,QAAQ,wBAAyB,KAC9CwjF,EAAMzpF,KAAK,MAUNuI,EAAgB,SAACmhF,EAAQC,GAErCA,EAAYz4F,KAAK04F,IAAI,GAAID,GAMzB,IAHA,IAAIE,EAAS,CAAC,IAAK,IAAK,IAAK,KAGpB7yF,EAAI6yF,EAAO1oG,OAAS,EAAG6V,GAAK,EAAGA,IAAK,CAE5C,IAAIgf,EAAO9kB,KAAK04F,IAAI,GAAc,GAAT5yF,EAAI,IAG7B,GAAIgf,GAAQ0zE,EAAQ,CAMJ,OAHfA,EAASx4F,KAAK44F,MAAOJ,EAASC,EAAa3zE,GAAQ2zE,IAG5B3yF,EAAI6yF,EAAO1oG,OAAS,IAC1CuoG,EAAS,EACT1yF,KAID0yF,GAAUG,EAAO7yF,GAGjB,OAIF,OAAO0yF,GAGK52D,EAAiB,SAACi3D,GAA2B,IAAnBnwD,EAAmB14C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAClD,OAAK6oG,EACDA,EAAO5oG,QAAUy4C,EAAkBmwD,EACvC,GAAAl/F,OAAUk/F,EAAOP,UAAU,EAAG5vD,GAAWlG,OAAzC,OAFoB,sCC5GrBpiB,EAAAC,EAAAC,EAAA,sBAAA06B,IAAA,IAAA89C,EAAA14E,EAAA,KA+Da46B,GA7D0C+9C,QAA/CC,WAA+CD,QAAnCE,eAAmCF,QAAnBG,eA6DE,SAAA7/F,GAErC,KADAA,EAAOA,GAAQ,kBAEd,MAAO,CACN21B,MAAO,EACPD,OAAQ,GAIV,IAAM+gD,EAAQz2E,EAAK7F,MAAM,KAAK,GAAGA,MAAM,KACvC,MAAO,CACNw7B,MAAO9jB,SAAS4kE,EAAM,GAAI,IAC1B/gD,OAAQ7jB,SAAS4kE,EAAM,GAAI,4GC3ERqpB,EACpB,SAAAA,EAAAvoG,GAA4D,IAAA6xB,EAAAE,KAA9CwB,EAA8CvzB,EAA9CuzB,QAASknD,EAAqCz6E,EAArCy6E,WAAqC+tB,EAAAxoG,EAAzByoG,gBAAyB,IAAAD,EAAd,GAAcA,EAAVE,EAAU1oG,EAAV0oG,OACjD,GAD2DpoG,OAAAqoG,EAAA,EAAAroG,CAAAyxB,KAAAw2E,GAAAx2E,KAgB5D62E,iBAAmB,WACd/2E,EAAKg3E,cACR1hE,aAAatV,EAAKg3E,aAClBh3E,EAAKg3E,YAAc,OAnBuC92E,KAuB5D+2E,SAvB4D,eAAApoG,EAAAJ,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAuBjD,SAAAC,EAAMntB,GAAN,OAAAk/F,EAAA7pG,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cACVzF,EAAKo3E,gBADK5xE,EAAAC,KAAA,EAEJzF,EAAK4oD,aAFD,OAGV5oD,EAAKo3E,gBAHK,wBAAA5xE,EAAAI,SAAAR,MAvBiD,gBAAAS,GAAA,OAAAh3B,EAAAyT,MAAA4d,KAAA3yB,YAAA,GAAA2yB,KA6B5Dm3E,UA7B4D,eAAAroG,EAAAP,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KA6BhD,SAAAgoB,EAAMl1C,GAAN,OAAAk/F,EAAA7pG,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAAA2nB,EAAA/vB,KAAA,EAAA+vB,EAAA3nB,KAAA,EAEJzF,EAAKi3E,SAASh/F,GAFV,OAGV+nB,EAAKs3E,YAHKlqD,EAAA3nB,KAAA,gBAAA2nB,EAAA/vB,KAAA,EAAA+vB,EAAA07B,GAAA17B,EAAA,SAKV7uB,QAAQqB,MAAR,WAAA1oB,OAAyB8oB,EAAK42E,UAA9BxpD,EAAA07B,IACA9oD,EAAKs3E,YANK,yBAAAlqD,EAAAxnB,SAAAunB,EAAA,iBA7BgD,gBAAAW,GAAA,OAAA9+C,EAAAsT,MAAA4d,KAAA3yB,YAAA,GAAA2yB,KAuC5Do3E,UAAY,WACXt3E,EAAK+2E,mBAEL/2E,EAAKg3E,YAAcv2E,WAAWT,EAAKq3E,UAAWr3E,EAAK0B,UA1CQxB,KA6C5Dk3E,cAAgB,WACY,oBAAhBp3E,EAAK62E,QAAyB72E,EAAK62E,UAC7C72E,EAAK4F,QA/CqD1F,KAmD5DzoB,MAnD4D,eAAArI,EAAAX,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAmDpD,SAAAmoB,EAAMiqD,GAAN,OAAAJ,EAAA7pG,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,cACPzF,EAAK+2E,mBADExpD,EAAA9nB,KAAA,EAEDzF,EAAKq3E,YAFJ,OAGPr3E,EAAKo3E,gBACiB,oBAAXG,GACVA,IALM,wBAAAhqD,EAAA3nB,SAAA0nB,MAnDoD,gBAAAkqD,GAAA,OAAApoG,EAAAkT,MAAA4d,KAAA3yB,YAAA,GAAA2yB,KA4D5D0F,KAAO,WACN5F,EAAK+2E,qBA5DAr1E,EACJ,MAAM,IAAI+1E,MAAM,mCAGjB,GAA0B,oBAAf7uB,EACV,MAAM,IAAI6uB,MAAM,kDAGjBv3E,KAAK82E,YAAc,KACnB92E,KAAKwB,QAAUA,EACfxB,KAAK0oD,WAAaA,EAClB1oD,KAAK02E,SAAWA,EAChB12E,KAAK22E,OAASA,+LCHVa,EAAgB,IAAIC,IAAK,CAC9Bj2E,QAHoB,IAIpBknD,WAAU,eAAAC,EAAAp6E,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAE,SAAAC,IAAA,OAAA+xE,EAAA7pG,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,UAAAD,EAAAsjD,GACXx4E,YAAWzC,gBADA23B,EAAAsjD,GAAA,CAAAtjD,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EACsB4B,YAAQuwE,gBAD9B,OAAApyE,EAAAsjD,GAAAtjD,EAAA0xB,KAAA,cAAA1xB,EAAAujD,OAAA,SAAAvjD,EAAAsjD,IAAA,wBAAAtjD,EAAAI,SAAAR,MAAF,yBAAAyjD,EAAAvmE,MAAA4d,KAAA3yB,YAAA,GAEVqpG,SAAU,aACVC,OAAQ,kBAAOvmG,YAAWzC,kBAGrB86E,EAAsB,SAAAx6E,GAAA,IAAGuzB,EAAHvzB,EAAGuzB,QAASknD,EAAZz6E,EAAYy6E,WAAYiuB,EAAxB1oG,EAAwB0oG,OAAxB,OAC3B,IAAIc,IAAK,CACRj2E,QAASA,EACTknD,WAAU,eAAAivB,EAAAppG,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAE,SAAAgoB,IAAA,OAAAgqD,EAAA7pG,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAAA2nB,EAAA27B,OAAA,SAAYH,KAAZ,wBAAAx7B,EAAAxnB,SAAAunB,MAAF,yBAAA0qD,EAAAv1F,MAAA4d,KAAA3yB,YAAA,GACVqpG,SAAU,oBACVC,OAAQ,kBAAOvmG,YAAWzC,gBAAegpG,MAGrCxG,EAAwB,IAAIsH,IAAK,CACtCj2E,QAnBoB,IAoBpBknD,WAAU,eAAAkvB,EAAArpG,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAE,SAAAmoB,IAAA,OAAA6pD,EAAA7pG,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,UAAA8nB,EAAAu7B,GACXx4E,YAAWzC,gBADA0/C,EAAAu7B,GAAA,CAAAv7B,EAAA9nB,KAAA,eAAA8nB,EAAA9nB,KAAA,EACsB4B,YAAQ0wE,gBAD9B,OAAAxqD,EAAAu7B,GAAAv7B,EAAA2J,KAAA,cAAA3J,EAAAw7B,OAAA,SAAAx7B,EAAAu7B,IAAA,wBAAAv7B,EAAA3nB,SAAA0nB,MAAF,yBAAAwqD,EAAAx1F,MAAA4d,KAAA3yB,YAAA,GAEVqpG,SAAU,gCACVC,OAAQ,kBAAOvmG,YAAWzC,kbC7BnBmqG,EAAyBC,WAAzBD,WAAYE,EAAaD,WAAbC,SACZC,EAAmBpsF,YAAnBosF,eAgDK5nE,GA/CGxkB,YAAU8L,aAAa5oB,IAAI,SAAA2H,GAC1C,MAAO,CACN4L,MAAO5L,EACPsR,MAAOtR,EAAK7F,MAAM,KAAK,MAkBftC,OAAOub,KAAKguF,GAAY/oG,IAAI,SAAAmkB,GACnC,MAAO,CAAE5Q,MAAOw1F,EAAW5kF,GAAKpe,GAAIkT,MAAO8vF,EAAW5kF,GAAKlL,SAyBpC,CACzBkwF,SAAU,CAAEnsF,KAAM,YAClBukB,SAAU,CAAEvkB,KAAM,WAAYg3E,SAAUkV,EAAeE,KAAMC,MAAO,GACpE5nE,OAAQ,CAAEzkB,KAAM,SAAUg3E,SAAUkV,EAAeE,KAAMC,MAAO,GAChE1nE,KAAM,CAAE3kB,KAAM,OAAQg3E,SAAUkV,EAAeE,KAAMC,MAAO,GAC5DC,MAAO,CAAEtsF,KAAM,QAASg3E,SAAUkV,EAAeE,KAAMC,MAAO,IAC9DE,MAAO,CAAEvsF,KAAM,QAASg3E,SAAUkV,EAAeE,KAAMC,MAAO,IAC9DG,KAAM,CAAExsF,KAAM,OAAQg3E,SAAUkV,EAAeE,KAAMC,MAAO,OAShDI,EAAoB,CAChCxxE,EAAG,CAAEjb,KAAM,UAAW0sF,IAAK,cAC3BC,EAAG,CAAE3sF,KAAM,SAAU0sF,IAAK,eAC1BE,WAAY,CAAE5sF,KAAM,UAAW0sF,IAAK,cACpCG,YAAa,CAAE7sF,KAAM,SAAU0sF,IAAK,gBA+BxBI,EAAa,CACzBC,WAAY,OACZC,WAAY,MACZC,aAAc,OACdC,YAAa,QAGDC,EAA8B,CAC1C,eACA,eAMYC,EAAkC,CAC9C,aACA,SAGYzyB,EAAiC,CAC7C,CAAE1+D,MAAO,aAAc1F,MAAO,QAC9B,CAAE0F,MAAO,YAAa1F,MAAO,OAC7B,CAAE0F,MAAO,aAAc1F,MAAO,QAC9B,CAAE0F,MAAO,cAAe1F,MAAO,SAC/B,CAAE0F,MAAO,aAAc1F,MAAO,SAGlBiY,EAAoB,CAChC,CAAEvS,MAAO,eAAgB1F,MAAO,iBAChC,CAAE0F,MAAO,gBAAiB1F,MAAO,WACjC,CAAE0F,MAAO,iBAAkB1F,MAAO,YAClC,CAAE0F,MAAO,eAAgB1F,MAAO,UAChC,CAAE0F,MAAO,cAAe1F,MAAO,SAC/B,CAAE0F,MAAO,eAAgB1F,MAAO,UAChC,CAAE0F,MAAO,cAAe1F,MAAO,UAGnB82F,EAA4B,MAC5BC,EAAuB,KAEvBl1D,GAAmBm1D,EAAA,GAAA/qG,OAAAgrG,EAAA,EAAAhrG,CAAA+qG,EAC9BjpE,EAAWC,SAASvkB,KAAO,CAC3B,CAAEw3B,QAAS,2BACX,CAAEA,QAAS,+BAAgC+V,QAAQ,KAHrB/qD,OAAAgrG,EAAA,EAAAhrG,CAAA+qG,EAK9BjpE,EAAWG,OAAOzkB,KAAO,CAAC,CAAEw3B,QAAS,2BALPh1C,OAAAgrG,EAAA,EAAAhrG,CAAA+qG,EAM9BjpE,EAAWioE,MAAMvsF,KAAO,CACxB,CAAEw3B,QAAS,qBACX,CAAEA,QAAS,4BARmBh1C,OAAAgrG,EAAA,EAAAhrG,CAAA+qG,EAU9BjpE,EAAWgoE,MAAMtsF,KAAO,CACxB,CAAEw3B,QAAS,qBACX,CAAEA,QAAS,4BAZmBh1C,OAAAgrG,EAAA,EAAAhrG,CAAA+qG,EAAA,UActB,CAAC,CAAE/1D,QAAS,6BAdU+1D,GAiBnBE,EAAkB,CAC9BC,SAAU,WACVC,iBAAkB,oBAClBC,UAAW,aACXrtC,aAAc,gBACdx6B,QAAS,47PCtKVrU,EAAAC,EAAAC,EAAA,sBAAA8nE,IAAAhoE,EAAAC,EAAAC,EAAA,sBAAAi8E,IAAAn8E,EAAAC,EAAAC,EAAA,sBAAAipE,IAAAnpE,EAAAC,EAAAC,EAAA,sBAAAk8E,IAAAp8E,EAAAC,EAAAC,EAAA,sBAAAsjC,IAAAxjC,EAAAC,EAAAC,EAAA,sBAAAggC,IAAAlgC,EAAAC,EAAAC,EAAA,sBAAAm8E,IAAAr8E,EAAAC,EAAAC,EAAA,sBAAA8nC,IAAAhoC,EAAAC,EAAAC,EAAA,sBAAA8gB,IAAAhhB,EAAAC,EAAAC,EAAA,sBAAAm3C,IAAAr3C,EAAAC,EAAAC,EAAA,sBAAAomE,IAAAtmE,EAAAC,EAAAC,EAAA,sBAAAknE,IAAApnE,EAAAC,EAAAC,EAAA,sBAAAmnE,IAAArnE,EAAAC,EAAAC,EAAA,sBAAAo8E,IAAAt8E,EAAAC,EAAAC,EAAA,sBAAA1oB,IAAO,IAAMwwF,EAAmB,mBACnBmU,EAAsB,sBACtBhT,EAA2B,2BAC3BiT,EAAyB,yBACzB54C,EAAmB,mBACnBtD,EAAyB,yBACzBm8C,EAA4B,4BAC5Br0C,EAAwB,wBACxBhnB,EAA8B,8BAC9Bq2B,EAA8B,8BAC9BivB,EAAyB,yBACzBc,EAA6B,6BAC7BC,EAA4B,4BAC5BiV,EAA0B,0BAC1B9kG,EAAiB,+NCbxB+kG,EAASja,EAAQ,KAOjBka,EAAa,SAAA/mF,GAClB,IAAMgnF,EAAOF,EAAOG,WAHJ,UAMhB,OAFAD,EAAK79D,OAAOnpB,GACGgnF,EAAKE,UAIRC,EAAO,eAAApsG,EAAAM,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAG,SAAAC,EAAOzB,EAAMvQ,GAAb,IAAAonF,EAAAC,EAAAC,EAAAC,EAAA,OAAAxD,EAAA7pG,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,UACjB9B,EADiB,CAAA6B,EAAAC,KAAA,eAAAD,EAAAujD,OAAA,SACJ,IADI,UAEjB31D,EAFiB,CAAAoS,EAAAC,KAAA,cAGf,IAAIgyE,MAAM,0BAHK,cAKhB+C,EAAKN,EAAOU,YAfD,IAgBXH,EAASP,EAAOW,eAjBJ,cAiB+BV,EAAW/mF,GAAMonF,GAC5DE,EAAOD,EAAOl+D,OAAO5Y,GACrBg3E,EAAYG,EAAO5jG,OAAO,CAACwjG,EAAMD,EAAOzR,UARxBxjE,EAAAujD,OAAA,YAAA7xE,OAUZsjG,EAAGvhF,SAAS,OAVA,KAAA/hB,OAUUyjG,EAAU1hF,SAAS,SAV7B,wBAAAuM,EAAAI,SAAAR,MAAH,gBAAAS,EAAAioB,GAAA,OAAA3/C,EAAAmU,MAAA4d,KAAA3yB,YAAA,GAaPwtG,EAAO,eAAAlsG,EAAAJ,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAG,SAAAgoB,EAAOxpB,EAAMvQ,GAAb,IAAA4nF,EAAAR,EAAAS,EAAAC,EAAAC,EAAAC,EAAA,OAAAjE,EAAA7pG,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAChBu1E,EAAYr3E,EAAK5yB,MAAM,KACvBypG,EAAKM,EAAO36F,KAAK66F,EAAUK,QAAS,OACpCJ,EAAgBH,EAAO36F,KAAK66F,EAAU3uF,KAAK,KAAM,OACjD6uF,EAAWhB,EAAOoB,iBA5BN,cA4BmCnB,EAAW/mF,GAAMonF,GAChEW,EAAOD,EAAS3+D,OAAO0+D,GACvBG,EAAYN,EAAO5jG,OAAO,CAACikG,EAAMD,EAASlS,UAN1B57C,EAAA27B,OAAA,SAQfqyB,EAAUniF,YARK,wBAAAm0B,EAAAxnB,SAAAunB,MAAH,gBAAAqqD,EAAA+D,GAAA,OAAA1sG,EAAAyT,MAAA4d,KAAA3yB,YAAA,GAWPiuG,EAAa,eAAAxsG,EAAAP,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAG,SAAAmoB,EAAO3pB,EAAMmiE,GAAb,IAAA2U,EAAAgB,EAAA,OAAAtE,EAAA7pG,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,UACvB9B,EADuB,CAAA4pB,EAAA9nB,KAAA,eAAA8nB,EAAAw7B,OAAA,SACV,IADU,cAEtB0xB,EAASP,EAAOwB,aAtCG,cAsC6B5V,GAClD2V,EAAUhB,EAAOl+D,OAAO5Y,EAAM,OAAQ,OAC1C83E,GAAWhB,EAAOzR,MAAM,OAJIz7C,EAAAw7B,OAAA,SAKrB0yB,GALqB,wBAAAluD,EAAA3nB,SAAA0nB,MAAH,gBAAAquD,EAAAC,GAAA,OAAA5sG,EAAAsT,MAAA4d,KAAA3yB,YAAA,GAQbsuG,EAAa,eAAAzsG,EAAAX,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAG,SAAAsoB,EAAO9pB,EAAMmiE,GAAb,IAAAoV,EAAAY,EAAA,OAAA3E,EAAA7pG,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,UACvB9B,EADuB,CAAA+pB,EAAAjoB,KAAA,eAAAioB,EAAAq7B,OAAA,SACV,IADU,cAEtBmyB,EAAWhB,EAAO6B,eA9CC,cA8CiCjW,GACtDgW,EAAMZ,EAAS3+D,OAAO5Y,EAAM,MAAO,QACvCm4E,GAAOZ,EAASlS,MAAM,QAJMt7C,EAAAq7B,OAAA,SAKrB+yB,GALqB,wBAAApuD,EAAA9nB,SAAA6nB,MAAH,gBAAAuuD,EAAAC,GAAA,OAAA7sG,EAAAkT,MAAA4d,KAAA3yB,YAAA,8DC/C1B,IAAAsxB,EAAAlB,EAAA,IAEI5hB,EAAe,CAClB7L,QAAS,IAAI2vF,UACbqc,OAAQ,CACPjwF,KAAM,GACNpb,MAAO,GACPi1F,SAAU,GACVqW,YAAa,GACbxoE,KAAM,GACNyoE,UAAW,GACXC,UAAW,GACXC,eAAe,GAEhB1gG,QAAS,CACRK,SAAU,IAAIA,WAAS,CACtBjB,cAAe,CAAE2X,QAAS,IAAK1X,OAAQ,IACvCm9C,KAAM,CAAEoF,YAAY,EAAMI,kBAAkB,KAC1C2+C,WACHngG,OAAQ,IAAIA,SAAO,CAAEg8C,KAAM,CAAEokD,YAAY,KAAUD,WACnDhgG,OAAQ,IAAIA,SAAO,CAClBgpD,WAAY,CAAE5yC,QAAS,IAAK1X,OAAQ,CAAEyqD,eAAe,MACnD62C,YAEJE,YAAa,GACbvmG,cAAe,CACdC,UAAW,GACXiD,QAAS,GACTiZ,MAAO,IAER1Z,MAAO,CACNsD,SAAU,GACVG,OAAQ,GACRG,OAAQ,GACRmgG,QAAS,GACThgG,SAAU,IAEXpI,SAAU,GACVL,GAAI,CACHC,OAAQ,GACRM,WAAY,IAEbT,SAAU,GACVitB,OAAQ,GACR5sB,QAAS,CACRyT,KAAM,IAEPjU,IAAK,CACJC,KAAM,IAEPiE,SAAU,QACVkT,YAAa,GACbqF,gBAAiB,CAChB2hB,QAAS,IAEV2qE,iBAAkB,GAClB5/F,UAAW,CACV6B,cAAe,GACfG,cAAe,GACfG,yBAA0B,IAE3B1O,SAAU,GACVosG,WAAY,CACXC,UAAW,KACXC,QAAS,IAEVvsG,OAAQ,GACRxC,OAAQ,CACPC,QAAS,GACT+uG,OAAQ,GACR7/C,WAAY,IAEbrgD,UAAW,GACXxM,SAAU,CACTuC,eAAgB,GAChBJ,uBAAwB,IAEzBiB,aAAc,IAGAsI,wCChFf,IAAAihG,EAAAr/E,EAAA,KAEMmH,EAAUm4E,cAEhBn4E,EAAQo4E,OAAO,SAAAhiG,GACd6vC,OAAOoyD,MACNpyD,OAAOoyD,KAAK,SAAU5nG,iBAAqB,CAC1C6nG,UAAWliG,EAAS8hB,SAAW9hB,EAASohB,WAI5BwI,0ICJTu4E,EACiE,KAArE,GAAK9/F,KAAKs3C,MAAMykD,IAA4BC,MAExCjJ,EAAgB,IAAIqH,IAAK,CAC9Bj2E,QAAS27E,EACTz0B,WAAU,eAAAC,EAAAp6E,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAE,SAAAC,IAAA,OAAA+xE,EAAA7pG,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,UAAAD,EAAAsjD,GACXx4E,YAAWzC,gBADA23B,EAAAsjD,GAAA,CAAAtjD,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EACsB4B,YAAQi2E,gBAD9B,OAAA93E,EAAAsjD,GAAAtjD,EAAA0xB,KAAA,cAAA1xB,EAAAujD,OAAA,SAAAvjD,EAAAsjD,IAAA,wBAAAtjD,EAAAI,SAAAR,MAAF,yBAAAyjD,EAAAvmE,MAAA4d,KAAA3yB,YAAA,GAEVqpG,SAAU,aACVC,OAAQ,kBAAOvmG,YAAWzC,8GCRrB0vG,EAAmB,IAAI5F,IAAK,CACjCj2E,QAHoB,IAIpBknD,WAAU,eAAAC,EAAAp6E,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAE,SAAAC,IAAA,OAAA+xE,EAAA7pG,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,UAAAD,EAAAsjD,GACXx4E,YAAWzC,gBADA23B,EAAAsjD,GAAA,CAAAtjD,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EACsB4B,YAAQm2E,gBAD9B,OAAAh4E,EAAAsjD,GAAAtjD,EAAA0xB,KAAA,cAAA1xB,EAAAujD,OAAA,SAAAvjD,EAAAsjD,IAAA,wBAAAtjD,EAAAI,SAAAR,MAAF,yBAAAyjD,EAAAvmE,MAAA4d,KAAA3yB,YAAA,GAEVqpG,SAAU,kBACVC,OAAQ,kBAAOvmG,YAAWzC,kBAGZ0vG,2BCffn+E,EAAAC,QAAiB1B,EAAA1N,EAAuB,qKCalCwtF,EAAS,SAAAtvG,GAUT,IATL4f,EASK5f,EATL4f,KACAogB,EAQKhgC,EARLggC,OACAtL,EAOK10B,EAPL00B,SACA3a,EAMK/Z,EANL+Z,MACAu0C,EAKKtuD,EALLsuD,UACAihD,EAIKvvG,EAJLuvG,aACAt7E,EAGKj0B,EAHLi0B,MACA+K,EAEKh/B,EAFLg/B,UACGxlB,EACElZ,OAAAkvG,EAAA,EAAAlvG,CAAAN,EAAA,qFACCyvG,EAAazvE,GAAqB,WAAXA,EACvB3zB,EAAMojG,EArBE,SAAApjG,GAMd,OALAA,GAAOA,GAAO,IAAI8X,QAAQ,mBAAoB,OAE7C9X,EAAM,KAAOA,GAGPA,EAekBqjG,CAAO9vF,GAAQA,EAElC+vF,EAASrvG,OAAAsvG,EAAA,EAAAtvG,CAAA,CACdguD,UAAWA,GAAa,OACxBr6B,MAAOA,GAAS,UAChBqU,UAAW,SACPmnE,GAAc,CAAEI,IAAK,uBAJX,CAKd7vE,SACApgB,KAAMvT,EACNm0B,MAAO,CAAEihB,UAAW,cAChBziB,EAAY,CAAEA,aAAc,GAC7BxlB,GAEJ,OACCs2F,EAAA3wG,EAAAugB,cAAAqwF,EAAA,EAAUJ,GACP3wE,IAActK,GAAY3a,IAC1BilB,GAAauwE,GACdO,EAAA3wG,EAAAugB,cAAAswF,EAAA,GAAWxvE,MAAO,CAAEjC,SAAU,aAMrB0xE,EAAiB,SAAAvvG,GAAA,IAAGkf,EAAHlf,EAAGkf,KAAM8U,EAATh0B,EAASg0B,SAAoBlb,GAA7B9Y,EAAmB8/B,MAAnBlgC,OAAAkvG,EAAA,EAAAlvG,CAAAI,EAAA,qCAC7BovG,EAAA3wG,EAAAugB,cAAC4vF,EAADhvG,OAAA03B,OAAA,CACCwI,MAAO,CAAEszD,WAAY,QACrBxlC,UAAU,SACVtuB,OAAO,SACP/L,MAAM,UACNs7E,cAAY,EACZ3vF,KAAMA,GACFpG,GAEHkb,IAIY46E,knTC5DFp2E,EAAU2jE,IAAMtoE,SAEhBA,EAAWsoE,IAAMtoE,SAEjB70B,EAAWm9F,IAAMn9F,wFCNjBwwG,EAAc,SAAAlgF,GAC1B,OAAKA,EAEqB,kBAARA,EACVA,EAAImmB,KAAOnmB,EAAIslB,SAAWtlB,EAAIqnB,QAAUrnB,EAAIyB,MACzC1f,MAAM8xC,QAAQ7zB,GACjBA,EAAI9R,KAAK,MAET8R,EANA,ICmBF,SAASmgF,EAAc3+F,EAAM6C,GACnC,OAAO,SAASkgB,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,KACNuiC,QAASniC,EACT6C,MAAOA,KAKH,SAAS+7F,EAAe5+F,EAAM6C,EAAOg8F,GAC3C,OAAO,SAAS97E,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACNI,KAAMA,EACN6C,MAAOA,EACPg8F,SAAUA,KAKN,SAASv0B,EAAetqE,EAAM6C,GACpC,OAAO,SAASkgB,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACNI,KAAMA,EACN6C,MAAOA,KAKH,SAASi8F,EAAwBloG,EAAUmoG,GACjD,OAAO,SAASh8E,EAAU70B,GAAU,IAC3B2I,EAAsB1C,aAAejG,KAArC2I,kBACR,IAA0B,IAAtBA,EAA4B,CAC/B,IAAM6gB,EAAO5oB,OAAAC,EAAA,EAAAD,CAAA,GAAS+H,GAAqB,IAE3C,OADA6gB,EAAQ9gB,GAAYmoG,EACbh8E,EAAS,CACf9rB,KAAM2I,IACNI,KAAM,oBACN6C,MAAO6U,MAMJ,SAASsnF,EAAmBh/F,EAAM6C,EAAOg8F,GAC/C,OAAO,SAAS97E,EAAU70B,GACzB,IAAM2C,EAAWW,YAA0BtD,KAE3C,OAAO60B,EAAS,CACf9rB,KAAM2I,KACN/O,WACAmP,KAAMA,EACN6C,MAAOA,EACPg8F,SAAUA,KAKN,SAASI,EAAqBj/F,EAAM6C,GAC1C,OAAO,SAASkgB,EAAU70B,GACzB,IAAMD,EAAQC,IACR2C,EAAWW,YAA0BvD,GACrCiG,EAAOF,aAAW/F,GACxB,OAAO80B,EAAS,CACf9rB,KAAM2I,KACN/O,WACAmP,OACA6C,QACA3O,UAKI,SAASi6E,EAAT3/E,GAQJ,IAPFyI,EAOEzI,EAPFyI,KACAorB,EAME7zB,EANF6zB,OAMEi4C,EAAA9rE,EALF+Z,aAKE,IAAA+xD,EALM,GAKNA,EAAA4kC,EAAA1wG,EAJFuzB,eAIE,IAAAm9E,KAHFj9E,EAGEzzB,EAHFyzB,WACAT,EAEEhzB,EAFFgzB,aACAG,EACEnzB,EADFmzB,IAEA,OAAO,SAASoB,GACf,IAAM1tB,EAAKo6D,IAAO0vC,UAelB,OAdAp8E,EAAS,CACR9rB,KAAM2I,IACNohB,MAAO,CACN/pB,OACAorB,SACA9Z,QACAwZ,UACAE,aACAT,eACAG,MACAtsB,QAIKA,GAIF,SAAS0rB,EAAYq+E,GAC3B,OAAO,SAASr8E,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACNohB,MAAOo+E,KAKH,SAAS52D,EACf/kB,EACAC,GAWC,IAAAx0B,EAAAtB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHG,GAGHyxG,EAAAnwG,EATA+0B,oBASA,IAAAo7E,EATe,GASfA,EAAAC,EAAApwG,EARAg1B,mBAQA,IAAAo7E,EARc,GAQdA,EAAAC,EAAArwG,EAPA6M,aAOA,IAAAwjG,EAPQ,GAORA,EAAAC,EAAAtwG,EANA80B,YAMA,IAAAw7E,EANO,GAMPA,EAAAC,EAAAvwG,EALAwwG,gBAKA,IAAAD,KAAAE,EAAAzwG,EAJA0wG,iBAIA,IAAAD,KAFD/7E,EAECh2B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EADD+yB,EACCjzB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACD,sBAAAuB,EAAAP,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAC,EAAe1C,GAAf,OAAAwC,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACO/C,EAAS,CACrB9rB,KAAM2I,IACNnL,QAAS,CACRgvB,UAAWA,EACXC,SAAUA,EACVxb,KAAM,CACL+b,aAAcA,EACdC,YAAaA,EACbnoB,MAAOA,EACPioB,KAAMA,EACN07E,SAAUA,EACVE,UAAWA,GAEZh8E,eACA/C,YAfI,cAAAgF,EAAAujD,OAAA,SAAAvjD,EAAA0xB,MAAA,wBAAA1xB,EAAAI,SAAAR,MAAP,gBAAAS,GAAA,OAAA72B,EAAAsT,MAAA4d,KAAA3yB,YAAA,GAqBM,SAAS2xF,EAAUv/E,EAAM6C,GAC/B,OAAO,SAASkgB,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACNI,KAAMA,EACN6C,MAAOA,KAKH,SAASg9F,EAAetnG,GAC9B,OAAO,SAASwqB,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACNrH,KAAMA,KAKF,SAASkyF,EAA0B9tE,GACzC,OAAO,SAASoG,GAEmB,iBADb,IAAIjG,gBAAgBH,GACxB3D,IAAI,UACpB4lF,EAAe,qBAAqB,EAApCA,CAA0C77E,IAKtC,SAASmxC,EAAkBx8C,GACjC,sBAAAjoB,EAAAX,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAgoB,EAAezqB,EAAU70B,GAAzB,IAAAiH,EAAA,OAAAowB,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,OACN,IACO3wB,EAAcD,aAAkBhH,KAEtC8wG,EAAmB,cAHhBlwG,OAAAC,EAAA,EAAAD,CAAA,GAEyBqG,EAAgBuiB,GAC5CsnF,CAAkDj8E,EAAU70B,GAC3D,MAAOswB,GACRI,QAAQqB,MAAM,4BAA6BzB,GAC3C2vD,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,6BACTmzB,QAAS,KAHVosD,CAIGprD,GAXE,wBAAA0qB,EAAAxnB,SAAAunB,MAAP,gBAAAW,EAAA0pD,GAAA,OAAApoG,EAAAkT,MAAA4d,KAAA3yB,YAAA,GAgBM,SAASkyG,EAAoBx4C,EAAY/wD,GAC/C,OAAO,SAASwsB,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,KACNrJ,gBACA+wD,gBAKI,SAASiO,IACf,OAAO,SAASxyC,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,OAKF,SAASmgG,EAAwBxpG,GACvC,OAAO,SAASwsB,GACf,OAAO+8E,EAAoB,YAAavpG,EAAjCupG,CAAgD/8E,IAIlD,SAASi9E,EAATpwG,GAA4C,IAAXojB,EAAWpjB,EAAXojB,QACvC,OAAO,SAAS+P,GACf,IACCorD,EAAS,CACRl3E,KAAM,SACNorB,OAECpU,EAAAtgB,EAAAugB,cAACuW,EAAA,EAAD,CACChC,MAAM,UACNC,KAAK,QACLN,QAAQ,YACRO,QAAS,WACJs9E,QAEHA,OAAO51F,OAAO6hF,KAAd,eAAAn8F,EAAAjB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAmB,SAAAmoB,EAAe3Q,GAAf,OAAAzX,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,cAAA8nB,EAAA9nB,KAAA,EACZqvB,QAAQxmD,IAAIquC,EAAM1tC,IAAI,SAAAgd,GAAI,OAAI2zF,OAAOtmE,OAAOrtB,MADhC,wBAAAshC,EAAA3nB,SAAA0nB,MAAnB,gBAAAiuD,GAAA,OAAA7rG,EAAA4S,MAAA4d,KAAA3yB,YAAA,IAIDw9C,OAAO7vC,SAASopF,QAAO,KAGvB/1F,aAAE,YAGL2Z,MAAO3Z,aAAE,mCAAoC,CAC5C+J,KAAM,CAACqa,KAER+O,QAAS,KAxBVosD,CAyBGprD,GACF,MAAOvE,GACRI,QAAQqB,MAAM,mBAAoBzB,GAClC2vD,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,oBACTmzB,QAAS,KAHVosD,CAIGprD,KAKC,SAASm9E,IACf,OAAO,SAASn9E,GACf,IACCorD,EAAS,CACRl3E,KAAM,SACNgrB,YAAY,EACZI,OAECpU,EAAAtgB,EAAAugB,cAACuW,EAAA,EAAD,CACChC,MAAM,UACNC,KAAK,QACLN,QAAQ,YACRO,QAAS,WACRyoB,OAAOvpB,KAAK,+BAAgC,UAC5CupB,OAAO7vC,SAASopF,QAAO,KAGvB/1F,aAAE,cAGL2Z,MAAO3Z,aAAE,uBAAwB,CAChC+J,KAAM,CAAC/J,aAAE,gBAEVmzB,QAAS,KApBVosD,CAqBGprD,GACF,MAAOvE,GACRI,QAAQqB,MAAM,mBAAoBzB,GAClC2vD,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,oBACTmzB,QAAS,KAHVosD,CAIGprD,KAKC,SAASsnE,EAAqB1tE,GACpC,OAAO,SAASoG,GACf,IAAMqkE,EAAe,IAAItqE,gBAAgBH,GAEnCzrB,EAAQk2F,EAAapuE,IAAI,iBACzBnoB,EAAWu2F,EAAapuE,IAAI,oBAC5BmnF,EAAQ/Y,EAAapuE,IAAI,iBACzB9kB,GAAQkzF,EAAapuE,IAAI,eAAiB,IAAIwiB,cAC9C4kE,EAAmBhZ,EAAapuE,IAAI,yBAEtC9nB,GAASL,IAAasvG,EACzBhyB,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,yBAA0B,CAClC+J,KAAM,CAACzH,EAAOL,KAEfkxB,QAAS,KALVosD,CAMGprD,GACO7xB,GAASL,GAAYsvG,GAC/BhyB,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,+BAAgC,CACxC+J,KAAM,CAACzH,EAAOL,EAAUsvG,KAEzBp+E,QAAS,KALVosD,CAMGprD,GAGA,CAAC,aAAc,aAAa1iB,SAASnM,IACxC0qG,EAAe,WAAY1qG,EAA3B0qG,CAAiC77E,GAG5Bq9E,GACL91B,EAAe,wBAAyB81B,EAAxC91B,CAA0DvnD,IAKtD,SAAS2nE,EAAwB/tE,GACvC,OAAO,SAASoG,GAKdntB,UAJoB,IAAIknB,gBAAgBH,GAG3B3D,IAAIpjB,cAGjBgpG,EAAe,mBAAmB,EAAlCA,CAAwC77E,IAKpC,SAASi9D,GAAgCqgB,GAC/C,OAAO,SAASt9E,EAAU70B,GACzB8wG,EAAmB,4BAA6BqB,EAAhDrB,CACCj8E,EACA70B,IAKI,SAASiI,GAAmBjC,GAClC,OAAO,SAAS6uB,EAAU70B,GACzB8wG,EAAmB,sBAAsB,EAAM9qG,EAA/C8qG,CAAqDj8E,EAAU70B,IAI1D,SAASqvF,GAA0B5I,GACzC,OAAO,SAAS5xD,EAAU70B,GACzB8wG,EAAmB,yBAA0BrqB,EAA7CqqB,CAAuDj8E,EAAU70B,IAI5D,SAASq7E,GAAiC+2B,GAChD,OAAO,SAASv9E,EAAU70B,GACzB,IAAMD,EAAQC,IACRwP,EAAYlG,aAAqCvJ,GAFpBsyG,EAGHC,YAAe,CAC9C9iG,YACA5F,MAAOwoG,IAERrB,EAAqB,sBAAuB,CAAEnnG,MAPXyoG,EAG3BzoG,MAI6CE,IAPlBuoG,EAGpBvoG,IAI2CyoG,QAPvBF,EAGfE,SAIpBxB,CACCl8E,EACA70B,IAKI,SAASy6E,GAATz4E,GAGJ,IAAAwwG,EAAAxwG,EAFF41B,YAEE,IAAA46E,KAAAC,EAAAzwG,EADF44E,YACE,IAAA63B,KACF,sBAAAtwG,EAAAvB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsoB,EAAe/qB,EAAU70B,GAAzB,IAAAD,EAAA2yG,EAAA51F,EAAAE,EAAAxN,EAAAmjG,EAAA/oG,EAAAgpG,EAAA,OAAAv7E,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,OACN,IACO73B,EAAQC,IADX0yG,EAE0Bj2F,YAA8B1c,GAAnD+c,EAFL41F,EAEK51F,QAASE,EAFd01F,EAEc11F,QACXxN,EAAYlG,aAAqCvJ,GAHpD4yG,EAIalpG,aAAkC1J,GAA5C6J,EAJH+oG,EAIG/oG,MAEFgxE,EACHhxE,EAAQ2F,YAA6BxP,IAE/B6yG,EAAchpG,IAAU2F,YAA6BxP,GAC3D6J,EAAQipG,YAAqB,CAC5BrjG,YACA5F,QACAguB,OACAg7E,cACA91F,UACAE,aAIFq+D,GAAiCzxE,EAAjCyxE,CAAwCxmD,EAAU70B,GACjD,MAAOswB,GACRI,QAAQqB,MAAM,4BAA6BzB,GAC3C2vD,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,4BAA6B,CACrC+J,KAAM,CAAC+lG,EAAYlgF,MAEpBuD,QAAS,KALVosD,CAMGprD,GA9BE,wBAAAgrB,EAAA9nB,SAAA6nB,MAAP,gBAAAkuD,EAAAC,GAAA,OAAA5rG,EAAAsS,MAAA4d,KAAA3yB,YAAA,GAmCM,SAASy7E,GAAoC3rE,GACnD,OAAO,SAASqlB,EAAU70B,GACzB+wG,EAAqB,yBAA0BvhG,EAA/CuhG,CACCl8E,EACA70B,GAEDy6E,GAAkC,CAAEG,MAAM,GAA1CH,CAAkD5lD,EAAU70B,sDCxbjD8yG,GAAiB,eAAAxyG,EAAAM,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAC,IAAA,IAAA0yD,EAAAjpF,EAAA+xG,EAAAC,EAAAC,EAAAvzG,UAAA,OAAA23B,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,UAAOqyD,EAAPgpB,EAAAtzG,OAAA,QAAAC,IAAAqzG,EAAA,GAAAA,EAAA,GAAc,GAAdt7E,EAAAnI,KAAA,GAE3B0jF,GAAajpB,GAFc,CAAAtyD,EAAAC,KAAA,gBAAAD,EAAAC,KAAA,EAGHu7E,aAAUzwE,KAAW6nE,UAHlB,cAAAvpG,EAAA22B,EAAA0xB,KAGtB0pD,EAHsB/xG,EAGtB+xG,SACFC,EAAW,IAAII,UAAOC,SAASppB,EAAMqpB,GAAeP,GAJ5Bp7E,EAAAC,KAAA,GAKxBqvB,QAAQxmD,IAAI,CACjBuyG,EAASO,cACTP,EAASQ,UAAUt1F,aAAUu1F,aAC7BT,EAASU,UAAUx1F,aAAUu1F,YAAav1F,aAAUu1F,eARvB,eAAA97E,EAAAujD,OAAA,UAUvB,GAVuB,eAAAvjD,EAAAujD,OAAA,UAYxB,GAZwB,eAAAvjD,EAAAnI,KAAA,GAAAmI,EAAAsjD,GAAAtjD,EAAA,SAAAA,EAAAujD,OAAA,UAcxB,GAdwB,yBAAAvjD,EAAAI,SAAAR,EAAA,kBAAH,yBAAAj3B,EAAAmU,MAAA4d,KAAA3yB,YAAA,GCJjBi0G,GAAgB,eAAArzG,EAAAM,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAC,EAAM10B,GAAN,IAAA+wG,EAAA,OAAAv8E,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAAD,EAAAnI,KAAA,EAAAmI,EAAAC,KAAA,EAKZqvB,QAAQ4sD,KAAK,CAC9BV,aAAUtwG,GACV,IAAIokD,QAAQ,SAACC,EAASC,GACrBv0B,WAAW,WACVu0B,EAAO,cACL,SAVyB,cAKxBysD,EALwBj8E,EAAA0xB,KAAA1xB,EAAAC,KAAA,EAaxBg8E,EAAIb,SAASe,iBAbW,cAAAn8E,EAAAujD,OAAA,UAcvB,GAduB,cAAAvjD,EAAAnI,KAAA,EAAAmI,EAAAsjD,GAAAtjD,EAAA,SAAAA,EAAAujD,OAAA,UAgBvB,GAhBuB,yBAAAvjD,EAAAI,SAAAR,EAAA,iBAAH,gBAAAS,GAAA,OAAA13B,EAAAmU,MAAA4d,KAAA3yB,YAAA,GCOvBq0G,GAAgB,8CA0CTC,GAAgB,SAAA/b,GAG5B,OAFAA,EAAWA,GAAY,GACP8b,GAAc3iF,KAAK6mE,IAIvBib,GAAe,WAAe,IAAdjpB,EAAcvqF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACnC,IACCkuD,SAAMqmD,WAAWhqB,GAChB,MAAO9wE,GACR,OAAO,EAER,OAAO,GAGK+6F,GAAmB,WAAe,IAAdjqB,EAAcvqF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACvC,QAAOwzG,GAAajpB,IACjBr8B,SAAM1jC,aAAa0jC,SAAMqmD,WAAWhqB,IAAOkqB,UAIlCC,GAAe,eAAApzG,EAAAJ,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAC,EAAAj3B,GAAA,IAAA+zG,EAAApqB,EAAAqqB,EAAAC,EAAA1xG,EAAA2xG,EAAAC,EAAAh+D,EAAAi+D,EAAAC,EAAA,OAAAt9E,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,UAAAy8E,EAAA/zG,EAC9B2pF,YAD8B,IAAAoqB,EACvB,GADuBA,EAE9BC,EAF8Bh0G,EAE9Bg0G,YACAC,EAH8Bj0G,EAG9Bi0G,SACA1xG,EAJ8BvC,EAI9BuC,SAJ8B2xG,EAAAl0G,EAK9Bm0G,kBAL8B,IAAAD,KAO1B/9D,EAAM,GAPoB9e,EAAAnI,KAAA,KASNy6D,IAASipB,GAAajpB,IAThB,CAAAtyD,EAAAC,KAAA,QAW5B6e,EAAM,0BAXsB9e,EAAAC,KAAA,mBAYjB68E,EAZiB,CAAA98E,EAAAC,KAAA,YAatB88E,EAAiBR,GAAiBjqB,IACpCqqB,IAAeI,EAdS,CAAA/8E,EAAAC,KAAA,SAe3B6e,EAAM,+BAfqB9e,EAAAC,KAAA,wBAAAD,EAAAC,KAAA,GAiBE+7E,GAAiB9wG,GAjBnB,YAAA80B,EAAA0xB,KAAA,CAAA1xB,EAAAC,KAAA,SAmB1B6e,EAAM,8BAnBoB9e,EAAAC,KAAA,wBAAAD,EAAAC,KAAA,GAqBIk7E,GAAkB7oB,GArBtB,QAqBpB0qB,EArBoBh9E,EAAA0xB,MAsBrBqrD,GAAkBH,GAAYI,IAClCl+D,EAAM,iCAvBmB,QAAA9e,EAAAC,KAAA,iBAAAD,EAAAnI,KAAA,GAAAmI,EAAAsjD,GAAAtjD,EAAA,SA4Bf,mCAAVA,EAAAsjD,KACHxkC,EAAM,+BA7BsB,eAAA9e,EAAAujD,OAAA,SA+BvB,CAAEzkC,QA/BqB,yBAAA9e,EAAAI,SAAAR,EAAA,kBAAH,gBAAAS,GAAA,OAAAh3B,EAAAyT,MAAA4d,KAAA3yB,YAAA,GAkCfk1G,GAAW,eAAArzG,EAAAX,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAgoB,EAAAn+C,GAAA,IAAA0zG,EAAAlyB,EAAAlsC,EAAA/0C,EAAAqxG,EAAA+B,EAAA,OAAAz9E,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,UAAAi9E,EAAA1zG,EAASwhF,gBAAT,IAAAkyB,EAAoB,GAApBA,EACtBp+D,EAAM,GADgB8I,EAAA/vB,KAAA,EAGR,KAAbmzD,EAHqB,CAAApjC,EAAA3nB,KAAA,QAIxB6e,EAAM,mBAJkB8I,EAAA3nB,KAAA,uBAAA2nB,EAAA3nB,KAAA,EAMGu7E,aAAUzwE,KAAW6nE,UANxB,cAAA7oG,EAAA69C,EAAA8J,KAMhB0pD,EANgBrxG,EAMhBqxG,SANgBxzD,EAAA3nB,KAAA,GAOCm7E,EAASgC,YAAT,GAAA1rG,OACrBs5E,EADqB,KAAAt5E,OACT3B,aARQ,SAOlBotG,EAPkBv1D,EAAA8J,QAWL6qD,GAAiBY,KAAar+D,EAAM,oBAX/B,QAAA8I,EAAA3nB,KAAA,iBAAA2nB,EAAA/vB,KAAA,GAAA+vB,EAAA07B,GAAA17B,EAAA,SAexB9I,EADkB,qBAAf8I,EAAA07B,GAAM+5B,KACH,2BAEA,gBAjBkB,eAAAz1D,EAAA27B,OAAA,SAoBnB,CAAEzkC,QApBiB,yBAAA8I,EAAAxnB,SAAAunB,EAAA,kBAAH,gBAAAW,GAAA,OAAA1+C,EAAAkT,MAAA4d,KAAA3yB,YAAA,iDCpGXu1G,GAA0B,SAAA30G,GAAmB,IAAhB40G,EAAgB50G,EAAhB40G,IAAKp/E,EAAWx1B,EAAXw1B,KAC1C8f,EAAU9f,EACd,IACC,IAAMq/E,EAAU91F,KAAKzS,MAAMkpB,GAC3B8f,EACCu/D,EAAQv/D,SAAWu/D,EAAQ1+D,KAAO0+D,EAAQx9D,QAAUw9D,EAAQpjF,OAAS+D,EACrE,MAAAs/E,IAEF,MAAM,IAAIxL,MACTlpG,aAAE,oBAAqB,CACtB+J,KAAM,CAACyqG,EAAIvoG,IAAKuoG,EAAIr4F,OAAQq4F,EAAIG,WAAYz/D,OCdhC0/D,GDoBd,SAAAC,EAAAv0G,GAAyB,IAAAmxB,EAAAE,KAAXmjF,EAAWx0G,EAAXw0G,QAAW50G,OAAAwxB,GAAA,EAAAxxB,CAAAyxB,KAAAkjF,GAAAljF,KAIzBojF,eAAiB,WAAsB,IAAnB7yG,GAAmBlD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAAZkD,QACb8yG,EAAgBzyG,YAAcjD,KACpC,MAAO,CACN21G,mBAAoB/yG,GAAW8yG,IAPRrjF,KAWzBujF,eAAiB,CAChBC,gBAAiB,WACjBC,QAAS,IACTC,OAAQ,YAdgB1jF,KAiBzB29E,OAAS,SAACgG,EAAMC,EAAOvnF,GACtB,IAAI/hB,EAAMqpG,EAAO,IAQjB,OAPIC,IAEHtpG,GADAspG,EAAQA,EAAMxxF,QAAQ,MAAO,KAI9B9X,GAAO+hB,GAxBiB2D,KA6BzB6jF,MAAQ,SAAA30G,GAUF,IAAA40G,EAAA50G,EATL00G,aASK,IAAAE,EATG,GASHA,EAAAC,EAAA70G,EARL80G,mBAQK,IAAAD,EARS,GAQTA,EAAAE,EAAA/0G,EAPLi2F,cAOK,IAAA8e,EAPI,MAOJA,EANL5rE,EAMKnpC,EANLmpC,KAMK6rE,EAAAh1G,EALLi1G,eAKK,IAAAD,EALK,GAKLA,EAAAE,GAAAl1G,EAJLm1G,SAIKn1G,EAHLqB,gBAGK,IAAA6zG,EAHK,GAGLA,EAAAE,GAAAp1G,EAFLq1G,UAEKr1G,EADLs1G,gBACK,IAAAF,KACCG,EAAEl2G,OAAAC,EAAA,EAAAD,CAAA,GAAQy1G,GACZrU,iBACH8U,EAAGC,MAAO,GAGX,IAAMroF,EAAQ6yC,IAAOy1C,SAASF,GACxBnqG,EAAMwlB,EAAK69E,OAAO79E,EAAKqjF,QAASS,EAAOvnF,GAEvCuoF,EAAIr2G,OAAAC,EAAA,EAAAD,CAAA,GACLi2G,EAAU1kF,EAAKyjF,eAAiB,GACjCzjF,EAAKsjF,eAAe,CAAE7yG,YACtB4zG,GAEJ,OAAON,MAAMvpG,EAAK,CACjB6qF,OAAQA,EACRgf,QAASS,EACTvsE,KAAMA,KAvDPrY,KAAKmjF,QAAUA,GEpBXF,GAAY,IAAI4B,GAAU,CAAE1B,QADR9tG,iCAGpByvG,GAAkB,SAAAjC,GACvB,OAAIA,EAAIr4F,QAAU,KAAOq4F,EAAIr4F,OAAS,IAC9Bq4F,EAAIkC,OAGLlC,EAAIp/E,OAAOkoE,KAAK,SAAAloE,GACtBm/E,GAAwB,CAAEC,MAAKp/E,YAIpBuhF,GAAqB,SAAA/2G,GAAe,IAAZoS,EAAYpS,EAAZoS,MACpC,OAAO4iG,GACLY,MAAM,CACND,MAAK,qBAAA5sG,OAAuBqJ,GAC5B8kF,OAAQ,QAERwG,KAAKmZ,KAGKG,GAAkB,SAAAt2G,GAAsB,IAAnB4F,EAAmB5F,EAAnB4F,aACjC,OAAO0uG,GACLY,MAAM,CACND,MAAK,YAAA5sG,OAAczC,GACnB4wF,OAAQ,QAERwG,KAAKmZ,KAGKI,GAAuB,WACnC,OAAOjC,GACLY,MAAM,CACND,MAAO,cACPze,OAAQ,QAERwG,KAAKmZ,KAGKK,GAAY,SAAAr2G,GAAoD,IAAjDs2G,EAAiDt2G,EAAjDs2G,QAASC,EAAwCv2G,EAAxCu2G,WAAY9wG,EAA4BzF,EAA5ByF,aAAc+wG,EAAcx2G,EAAdw2G,QAC9D,OAAOrC,GACLY,MAAM,CACND,MAAK,YAAA5sG,OAAczC,EAAd,YACL4wF,OAAQ,OACR9sD,KAAMrrB,KAAKC,UAAU,CACpBm4F,UACAC,aACA9wG,eACA+wG,YAEDnB,QAAS,CAAEoB,eAAgB,sBAE3B5Z,KAAKmZ,KAGKU,GAAa,SAAAt2G,GAYpB,IAXLmR,EAWKnR,EAXLmR,MACA1P,EAUKzB,EAVLyB,MACAo1F,EASK72F,EATL62F,SACAC,EAQK92F,EARL82F,SACAyf,EAOKv2G,EAPLu2G,SACAC,EAMKx2G,EANLw2G,oBACAC,EAKKz2G,EALLy2G,iBACAC,EAIK12G,EAJL02G,KACArxG,EAGKrF,EAHLqF,aACAi/E,EAEKtkF,EAFLskF,WACAqyB,EACK32G,EADL22G,yBAEA,OAAO5C,GACLY,MAAM,CACND,MAAK,YAAA5sG,OAAczC,GACnB4wF,OAAQ,OACR9sD,KAAMrrB,KAAKC,UAAU,CACpB5M,QACA1P,QACAo1F,WACAC,WACAyf,WACAC,sBACAC,mBACAC,OACArxG,eACAi/E,aACAqyB,6BAED1B,QAAS,CAAEoB,eAAgB,sBAE3B5Z,KAAKmZ,KAGKgB,GAAiB,SAAAz2G,GAAc,IAAX6qG,EAAW7qG,EAAX6qG,KAChC,OAAO+I,GACLY,MAAM,CACND,MAAK,UAAA5sG,OAAYy2E,mBAAmBysB,IACpC/U,OAAQ,QAERwG,KAAKmZ,KAGKiB,GAAe,SAAAv2G,GAA4C,IAAzCmB,EAAyCnB,EAAzCmB,MAAOi1G,EAAkCp2G,EAAlCo2G,KAAM1L,EAA4B1qG,EAA5B0qG,KAAM8L,EAAsBx2G,EAAtBw2G,gBACjD,OAAO/C,GACLY,MAAM,CACND,MAAK,SACLze,OAAQ,OACR9sD,KAAMrrB,KAAKC,UAAU,CACpBtc,QACAi1G,OACA1L,OACA8L,oBAED7B,QAAS,CAAEoB,eAAgB,sBAE3B5Z,KAAKmZ,KAGKmB,GAAW,SAAAt2G,GAAe,IAAZgB,EAAYhB,EAAZgB,MAC1B,OAAOsyG,GACLY,MAAM,CACND,MAAK,kBAAA5sG,OAAoBy2E,mBAAmB98E,IAC5Cw0F,OAAQ,QAERwG,KAAKmZ,cC3GAl1B,GAA2B/jE,aAA3B+jE,uBAEAs2B,GAAyBC,WAAzBD,YAAal2G,GAAYm2G,WAAZn2G,QACbwsD,GAAmB1xC,eAAnB0xC,eAED,SAAS4pD,GAATn4G,GAAoE,IAAzC2pF,EAAyC3pF,EAAzC2pF,KAAMnoE,EAAmCxhB,EAAnCwhB,MAAO25B,EAA4Bn7C,EAA5Bm7C,SAAUr9B,EAAkB9d,EAAlB8d,KAAMm2F,EAAYj0G,EAAZi0G,SAC9D,sBAAAvzG,EAAAJ,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAC,EAAe1C,EAAU70B,GAAzB,IAAA6C,EAAA1B,EAAAs1C,EAAAiiE,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cACA/0B,EAAWO,YAAepD,KAD1B23B,EAAAnI,KAAA,EAGDisB,GAAUA,EAASr9B,EAAM,CAAEs6F,SAAS,IACxCjI,EAAcryF,EAAM0D,EAApB2uF,CAA2B57E,GAJtB8C,EAAAC,KAAA,EAKiBw8E,GAAgB,CACrCnqB,OACAqqB,aAAa,EACbC,WACA1xG,aATI,OAAA1B,EAAAw2B,EAAA0xB,KAKG5S,EALHt1C,EAKGs1C,IAMFiiE,GAAWjiE,EAEbgF,GACHA,EAASr9B,EAAM,CAAEs6F,QAASA,EAASpoF,IAAK,CAAEmmB,IAAKA,GAAO30B,MAAOA,IAdzD6V,EAAAC,KAAA,iBAAAD,EAAAnI,KAAA,GAAAmI,EAAAsjD,GAAAtjD,EAAA,SAiBLjH,QAAQqB,MAAM,6BAAd4F,EAAAsjD,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAOzP,aAAU,6BAA8B,CAC9CH,KAAM,CAAC+lG,EAAW74E,EAAAsjD,OAEnBpnD,QAAS,KALVosD,CAMGprD,GAxBE,QA0BN47E,EAAcryF,GAAM,EAApBqyF,CAA2B57E,GA1BrB,yBAAA8C,EAAAI,SAAAR,EAAA,kBAAP,gBAAAS,EAAAioB,GAAA,OAAAj/C,EAAAyT,MAAA4d,KAAA3yB,YAAA,GA8BM,SAASi5G,GAAuB7mG,EAAM8mG,GAC5C,OAAO,SAAS/jF,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACNI,OACA8P,OAAQg3F,KAKJ,SAASC,GAAsB/mG,EAAMyT,GAC3C,OAAO,SAASsP,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACNI,OACAyT,SAKI,SAASk2B,GACfp0C,EACAke,EAFMhkB,GASL,IALAm3G,EAKAn3G,EALAm3G,QAKAI,EAAAv3G,EAJA+uB,WAIA,IAAAwoF,EAJM,CAAEriE,IAAK,GAAIhsC,KAAM,GAAIsxC,OAAQ,IAInC+8D,EAAAC,EAAAx3G,EAHAugB,aAGA,IAAAi3F,KAAAC,EAAAz3G,EAFA03G,iBAEA,IAAAD,KACD,sBAAAt3G,EAAAd,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAgoB,EAAezqB,EAAU70B,GAAzB,IAAA4hB,EAAA,OAAAyV,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cACD8gF,EASMO,EACVJ,GAAsBxxG,EAAtBwxG,CAAkChkF,GAElCgkF,GAAsBxxG,EAAYke,EAAlCszF,CAAuChkF,KAXnCjT,EAAS,IACN2D,GAAO,CACboyB,OAAQj3C,aAAE4vB,EAAImmB,IAAK,CAAEhsC,KAAM6lB,EAAI7lB,OAC/BsX,UAAWuO,EAAIyrB,OACfj6B,MAAOA,GAGR62F,GAAuBtxG,EAAYua,EAAnC+2F,CAA2C9jF,IATtC0qB,EAAA27B,OAAA,SAgBCw9B,GAhBD,wBAAAn5D,EAAAxnB,SAAAunB,MAAP,gBAAAqqD,EAAA+D,GAAA,OAAAhsG,EAAA+S,MAAA4d,KAAA3yB,YAAA,GAoBM,IAAMw5G,GAAqB,eAAAl3G,EAAApB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAmoB,EAAA59C,GAAA,IAAA62G,EAAAn6D,EAAAkgB,EAAA,OAAApnC,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,UACpC8gF,EADoC72G,EACpC62G,QACAn6D,EAFoC18C,EAEpC08C,QACAkgB,EAHoC58D,EAGpC48D,WAEIi6C,GAA8B,oBAAZn6D,EALc,CAAAmB,EAAA9nB,KAAA,eAAA8nB,EAAA9nB,KAAA,EAM7B2mB,IAN6B,UAQ/Bm6D,GAAgC,oBAAdj6C,EARa,CAAA/e,EAAA9nB,KAAA,eAAA8nB,EAAA9nB,KAAA,EAS7B6mC,IAT6B,wBAAA/e,EAAA3nB,SAAA0nB,MAAH,gBAAAquD,GAAA,OAAA9rG,EAAAyS,MAAA4d,KAAA3yB,YAAA,GAa3B,SAASy5G,GAAmB9xG,EAAY2wF,EAAYh1F,EAAO8e,GACjE,sBAAA3f,EAAAvB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsoB,EAAe/qB,EAAU70B,GAAzB,IAAA04G,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cAEN6jB,GAASp0C,EAAY,aAAc,CAClCqxG,QAFKA,IAAY1gB,KAAgBh1F,GAASg1F,IAAeh1F,EAGzDstB,IAAK,CAAEmmB,IAAK,mBACZ30B,SAHD25B,CAIG5mB,GANGgrB,EAAAq7B,OAAA,SAQCw9B,GARD,wBAAA74D,EAAA9nB,SAAA6nB,MAAP,gBAAAmuD,EAAAI,GAAA,OAAAhsG,EAAAsS,MAAA4d,KAAA3yB,YAAA,GAYM,SAAS05G,GAAiB/xG,EAAY4wF,EAAUn2E,GACtD,sBAAAte,EAAA5C,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAyoB,EAAelrB,EAAU70B,GAAzB,IAAA04G,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,cACA8gF,EAAU1E,GAAc/b,GAC9Bx8C,GAASp0C,EAAY,WAAY,CAChCqxG,UACApoF,IAAK,CAAEmmB,IAAK,gBACZ30B,SAHD25B,CAIG5mB,GANGmrB,EAAAk7B,OAAA,SAQCw9B,GARD,wBAAA14D,EAAAjoB,SAAAgoB,MAAP,gBAAAquD,EAAAiL,GAAA,OAAA71G,EAAAiR,MAAA4d,KAAA3yB,YAAA,GAYM,SAAS45G,GACfjyG,EACA6wF,EACAD,EACAn2E,GAEA,sBAAAne,EAAA/C,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAiiF,EAAe1kF,EAAU70B,GAAzB,IAAA04G,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAA8hF,GAAA,cAAAA,EAAAhqF,KAAAgqF,EAAA5hF,MAAA,cAEN6jB,GAASp0C,EAAY,gBAAiB,CACrCqxG,QAFKA,IAAYxgB,KAAmBD,GAAYC,IAAkBD,EAGlE3nE,IAAK,CAAEmmB,IAAK,sBACZ30B,MAAOA,GAHR25B,CAIG5mB,GANG2kF,EAAAt+B,OAAA,SAQCw9B,GARD,wBAAAc,EAAAzhF,SAAAwhF,MAAP,gBAAAE,EAAAC,GAAA,OAAA/1G,EAAA8Q,MAAA4d,KAAA3yB,YAAA,GAYM,SAASi6G,GAAYtyG,EAAY8qG,EAAUrwF,GACjD,sBAAAje,EAAAjD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsiF,EAAe/kF,EAAU70B,GAAzB,IAAA04G,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAmiF,GAAA,cAAAA,EAAArqF,KAAAqqF,EAAAjiF,MAAA,cAEN6jB,GAASp0C,EAAY,WAAY,CAChCqxG,QAFKA,IAAYvG,EAGjB7hF,IAAK,CAAEmmB,IAAK,iBACZ30B,SAHD25B,CAIG5mB,GANGglF,EAAA3+B,OAAA,SAQCw9B,GARD,wBAAAmB,EAAA9hF,SAAA6hF,MAAP,gBAAAE,EAAAC,GAAA,OAAAl2G,EAAA4Q,MAAA4d,KAAA3yB,YAAA,GAYM,SAASs6G,GAATh2G,GAAsD,IAA/B2+E,EAA+B3+E,EAA/B2+E,SAAU7gE,EAAqB9d,EAArB8d,MAAOza,EAAcrD,EAAdqD,WAC9C,sBAAAlD,EAAAvD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA2iF,EAAeplF,GAAf,IAAAvwB,EAAAmyC,EAAAiiE,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAwiF,GAAA,cAAAA,EAAA1qF,KAAA0qF,EAAAtiF,MAAA,cAAAsiF,EAAAtiF,KAAA,EACgBg9E,GAAY,CACjCjyB,aAFK,cAAAr+E,EAAA41G,EAAA7wD,KACE5S,EADFnyC,EACEmyC,IAIRgF,GAASp0C,EAAY,WAAY,CAChCqxG,QAFKA,GAAWjiE,EAGhBnmB,IAAK,CAAEmmB,OACP30B,SAHD25B,CAIG5mB,GATGqlF,EAAAh/B,OAAA,SAWCw9B,GAXD,wBAAAwB,EAAAniF,SAAAkiF,MAAP,gBAAAE,GAAA,OAAAh2G,EAAAsQ,MAAA4d,KAAA3yB,YAAA,GAcM,SAAS06G,GAAe/yG,EAAY3E,EAAQof,GAClD,sBAAApd,EAAA9D,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA+iF,EAAexlF,EAAU70B,GAAzB,IAAA04G,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAA4iF,GAAA,cAAAA,EAAA9qF,KAAA8qF,EAAA1iF,MAAA,cACA8gF,IAAYh2G,KAAYA,EAAO5B,QACrC26C,GAASp0C,EAAY,SAAU,CAC9BqxG,UACApoF,IAAK,CAAEmmB,IAAK,0BACZ30B,SAHD25B,CAIG5mB,GANGylF,EAAAp/B,OAAA,SAQCw9B,GARD,wBAAA4B,EAAAviF,SAAAsiF,MAAP,gBAAAE,EAAAC,GAAA,OAAA91G,EAAA+P,MAAA4d,KAAA3yB,YAAA,GAYM,SAAS+6G,GACfpzG,EACAqzG,EACA54F,GAEA,sBAAAhd,EAAAlE,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAqjF,EAAe9lF,EAAU70B,GAAzB,IAAA04G,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAkjF,GAAA,cAAAA,EAAAprF,KAAAorF,EAAAhjF,MAAA,cAEN6jB,GAASp0C,EAAY,wBAAyB,CAC7CqxG,QAFKA,IAAYgC,EAGjBpqF,IAAK,CAAEmmB,IAAK,kCACZ30B,SAHD25B,CAIG5mB,GANG+lF,EAAA1/B,OAAA,SAQCw9B,GARD,wBAAAkC,EAAA7iF,SAAA4iF,MAAP,gBAAAE,EAAAC,GAAA,OAAAh2G,EAAA2P,MAAA4d,KAAA3yB,YAAA,GAWM,SAASq7G,GAAiB1zG,EAAY+wF,EAAUt2E,GACtD,sBAAA7c,EAAArE,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA0jF,EAAenmF,EAAU70B,GAAzB,IAAA04G,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAujF,GAAA,cAAAA,EAAAzrF,KAAAyrF,EAAArjF,MAAA,cAEN6jB,GAASp0C,EAAY,WAAY,CAChCqxG,QAFKA,IAAYtgB,EAGjB9nE,IAAK,CAAEmmB,IAAK,wCACZ30B,SAHD25B,CAIG5mB,GANGomF,EAAA//B,OAAA,SAQCw9B,GARD,wBAAAuC,EAAAljF,SAAAijF,MAAP,gBAAAE,EAAAC,GAAA,OAAAl2G,EAAAwP,MAAA4d,KAAA3yB,YAAA,GAYM,SAAS07G,GAAiB/zG,EAAY+wF,EAAUC,EAAUv2E,GAChE,sBAAAxc,EAAA1E,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA+jF,EAAexmF,EAAU70B,GAAzB,IAAA04G,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAA4jF,GAAA,cAAAA,EAAA9rF,KAAA8rF,EAAA1jF,MAAA,cAGN6jB,GAASp0C,EAAY,WAAY,CAChCqxG,QAHKA,EACQ,UAAbtgB,GAAqC,UAAbA,KAAyBC,EAGjD/nE,IAAK,CAAEmmB,IAAK,wCACZ30B,SAHD25B,CAIG5mB,GAPGymF,EAAApgC,OAAA,SASCw9B,GATD,wBAAA4C,EAAAvjF,SAAAsjF,MAAP,gBAAAE,EAAAC,GAAA,OAAAl2G,EAAAmP,MAAA4d,KAAA3yB,YAAA,GAaM,SAAS+7G,GAAsBp0G,EAAY8qG,EAAUrwF,GAC3D,sBAAAmH,EAAAroB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAokF,EAAe7mF,EAAU70B,GAAzB,IAAA04G,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAikF,GAAA,cAAAA,EAAAnsF,KAAAmsF,EAAA/jF,MAAA,cAEN6jB,GAASp0C,EAAY,qBAAsB,CAC1CqxG,QAFKA,IAAYvG,EAGjB7hF,IAAK,CAAEmmB,IAAK,4BACZ30B,SAHD25B,CAIG5mB,GANG8mF,EAAAzgC,OAAA,SAQCw9B,GARD,wBAAAiD,EAAA5jF,SAAA2jF,MAAP,gBAAAE,EAAAC,GAAA,OAAA5yF,EAAAxU,MAAA4d,KAAA3yB,YAAA,GAgCM,SAASo8G,GAAT5mG,GAA+D,IAA9B7N,EAA8B6N,EAA9B7N,WAAYkE,EAAkB2J,EAAlB3J,QAASuW,EAAS5M,EAAT4M,MAC5D,sBAAA3M,EAAAvU,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAykF,EAAelnF,EAAU70B,GAAzB,IAAA04G,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAskF,GAAA,cAAAA,EAAAxsF,KAAAwsF,EAAApkF,MAAA,cACA8gF,IAAYntG,GAAWA,EAAQ5L,OACrC87C,GAASp0C,EAAY,UAAW,CAC/BqxG,UACApoF,IAAK,CAAEmmB,IAAK,wBACZ30B,SAHD25B,CAIG5mB,GANGmnF,EAAA9gC,OAAA,SAQCw9B,GARD,wBAAAsD,EAAAjkF,SAAAgkF,MAAP,gBAAAE,EAAAC,GAAA,OAAA/mG,EAAAV,MAAA4d,KAAA3yB,YAAA,GAYM,SAASy8G,GAATvmG,GAAuE,IAAjCvO,EAAiCuO,EAAjCvO,WAAYgoD,EAAqBz5C,EAArBy5C,WAAYvtC,EAASlM,EAATkM,MACpE,sBAAAjM,EAAAjV,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA8kF,EAAevnF,EAAU70B,GAAzB,IAAA04G,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAA2kF,GAAA,cAAAA,EAAA7sF,KAAA6sF,EAAAzkF,MAAA,cACA8gF,IACHrpD,GACoB,IAAtBA,EAAW1vD,UACT0vD,EAAW,MACXA,EAAW,MACXA,EAAW,GAAGloD,MACdkoD,EAAW,GAAG1iD,UACS/M,IAAzByvD,EAAW,GAAGitD,aACW18G,IAAzByvD,EAAW,GAAGktD,aACY38G,IAA1ByvD,EAAW,GAAGmtD,WACZntD,EAAW,GAAGloD,MACdkoD,EAAW,GAAG1iD,UACS/M,IAAzByvD,EAAW,GAAGitD,aACW18G,IAAzByvD,EAAW,GAAGktD,aACY38G,IAA1ByvD,EAAW,GAAGmtD,QAEf/gE,GAASp0C,EAAY,aAAc,CAClCqxG,UACApoF,IAAK,CAAEmmB,IAAK,kBACZ30B,SAHD25B,CAIG5mB,GArBGwnF,EAAAnhC,OAAA,SAuBCw9B,GAvBD,wBAAA2D,EAAAtkF,SAAAqkF,MAAP,gBAAAK,EAAAC,GAAA,OAAA7mG,EAAApB,MAAA4d,KAAA3yB,YAAA,GA2BD,IAAMi9G,GAAkB,SAAAxmG,GAIlB,IAAAymG,EAAAzmG,EAHLi7B,kBAGK,IAAAwrE,EAHQ1yF,wBAAa,GAGrB0yF,EAFLh5F,EAEKzN,EAFLyN,cACAI,EACK7N,EADL6N,iBAEI+N,EAAQ,KAiBZ,OAhBKnO,EAAcuwF,UAAYvwF,EAAcyG,GAAG+mB,KAC/Crf,EAAQ,CACP6jB,QAAS,oCACTmB,KAAM,mBAGHnzB,EAAcuwF,UAAYvwF,EAAci5F,GAAG74F,KAC/C+N,EAAQ,CAAE6jB,QAAS,uBAAwBmB,KAAM,qBAE9CnzB,EAAck5F,IAAI5yF,wBAAa,MAClC6H,EAAQ,CAAE6jB,QAAS,mBAAoBmB,KAAM,kBAE1C/yB,EAAiB84F,IAAI5yF,wBAAa,MACrC6H,EAAQ,CAAE6jB,QAAS,eAAgBmB,KAAM,qBAGnC,CAAEhlB,UAGH,SAASgrF,GAAT1mG,GAMJ,IALFhP,EAKEgP,EALFhP,WACA21G,EAIE3mG,EAJF2mG,aACAC,EAGE5mG,EAHF4mG,gBAGEC,EAAA7mG,EAFF8mG,gBAEE,IAAAD,EAFS,GAETA,EADFp7F,EACEzL,EADFyL,MAEA,sBAAAxL,EAAA1V,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA8lF,EAAevoF,EAAU70B,GAAzB,IAAA04G,EAAAjiE,EAAAhsC,EAAA1K,EAAAs9G,EAAAC,EAAAC,EAAAC,EAAAC,EAAA7zC,EAAA7/C,EAAA/G,EAAA06F,EAAA,OAAArmF,EAAA53B,EAAAi4B,KAAA,SAAAimF,GAAA,cAAAA,EAAAnuF,KAAAmuF,EAAA/lF,MAAA,cACF8gF,GAAU,EACVjiE,EAAM0mE,EACN1yG,EAAO,GACL1K,EAAQC,IAJRq9G,EAQF35G,YAAsB3D,GADUu9G,EAP9BD,EAOLn+E,kCAPKq+E,EAWFx5G,YAA4BhE,GADIy9G,EAV9BD,EAULr+E,kCAEKu+E,EAAevzF,wBAAa8yF,GAAcxqG,IAC/C0X,wBAAa+yF,IAbRrzC,EAgBuBvoE,aAAgBtB,GAArCgqB,EAhBF6/C,EAgBE7/C,OAAQ/G,EAhBV4mD,EAgBU5mD,SAEZy6F,EAAapzF,GAAGH,wBAAaozF,MAC1BI,EAAwB5kG,aAC7B2kG,EACAz6F,EACA,KACA,GAED01F,GAAU,EACVjiE,EAAM,8BACNhsC,EAAO,CACNizG,EACA3zF,EACAyzF,EACAzzF,IA/BI4zF,EAAA/lF,KAAA,GAmCA6jB,GAASp0C,EAAY,OAAQ,CAClCqxG,UACApoF,IAAK,CAAEmmB,MAAKhsC,QACZqX,SAHK25B,CAIH5mB,GAvCG,eAAA8oF,EAAAziC,OAAA,SAyCCw9B,GAzCD,yBAAAiF,EAAA5lF,SAAAqlF,MAAP,gBAAAQ,EAAAC,GAAA,OAAAvnG,EAAA7B,MAAA4d,KAAA3yB,YAAA,GA6CM,SAASo+G,GAATvnG,GAQJ,IAPFlP,EAOEkP,EAPFlP,WACA65E,EAME3qE,EANF2qE,iBACAo8B,EAKE/mG,EALF+mG,qCACAE,EAIEjnG,EAJFinG,2CACAx6F,EAGEzM,EAHFyM,SACA+G,EAEExT,EAFFwT,OACAjI,EACEvL,EADFuL,MAEA,sBAAApL,EAAA9V,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAymF,EAAelpF,GAAf,IAAA6jF,EAAAjiE,EAAAhsC,EAAAm0B,EAAA,OAAAvH,EAAA53B,EAAAi4B,KAAA,SAAAsmF,GAAA,cAAAA,EAAAxuF,KAAAwuF,EAAApmF,MAAA,cACF8gF,EAAU7pD,GAAeqyB,GAEzBzqC,EAAM,2BACNhsC,EAAO,GACLm0B,EAAS85E,EAAUuF,sBAAW/8B,EAAkBl+D,GAAY,KAC9D01F,GAAW95E,EAAOu1E,UACrBuE,GAAU,EACVjiE,EAAM,4BAENiiE,GACA95E,EAAOvU,GAAGH,wBAAaozF,MAEvB5E,GAAU,EACVjiE,EAAM,6BACNhsC,EAAO,CAAC+yG,EAA4CzzF,IAf/Ci0F,EAAApmF,KAAA,EAkBA6jB,GAASp0C,EAAY,mBAAoB,CAC9CqxG,UACApoF,IAAK,CAAEmmB,MAAKhsC,QACZqX,SAHK25B,CAIH5mB,GAtBG,cAAAmpF,EAAA9iC,OAAA,SAwBCw9B,GAxBD,wBAAAsF,EAAAjmF,SAAAgmF,MAAP,gBAAAG,GAAA,OAAAxnG,EAAAjC,MAAA4d,KAAA3yB,YAAA,GA4BM,SAASoxD,GAATn6C,GAMJ,IALFtP,EAKEsP,EALFtP,WACA0vC,EAIEpgC,EAJFogC,KACApiC,EAGEgC,EAHFhC,MACAmN,EAEEnL,EAFFmL,MACAq8F,EACExnG,EADFwnG,YAEA,sBAAArnG,EAAAlW,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA8mF,EAAevpF,EAAU70B,GAAzB,IAAA04G,EAAAjiE,EAAA,OAAApf,EAAA53B,EAAAi4B,KAAA,SAAA2mF,GAAA,cAAAA,EAAA7uF,KAAA6uF,EAAAzmF,MAAA,cACF8gF,EAAU7pD,GAAel6C,GACzB8hC,EAAM,qBAENiiE,GAAWyF,GACFvjG,SAASjG,EAAO,IACpByW,aAAezW,EAAMyW,aAC5BstF,GAAU,EACVjiE,EAAM,8BAIRgF,GAASp0C,EAAY0vC,EAAM,CAC1B2hE,UACApoF,IAAK,CAAEmmB,MAAKhsC,KAAM,CAACkK,IACnBmN,SAHD25B,CAIG5mB,GAhBGwpF,EAAAnjC,OAAA,SAkBCw9B,GAlBD,wBAAA2F,EAAAtmF,SAAAqmF,MAAP,gBAAAE,EAAAC,GAAA,OAAAznG,EAAArC,MAAA4d,KAAA3yB,YAAA,GAsBM,SAAS8+G,GAATznG,GAUJ,IATF1P,EASE0P,EATF1P,WACA0vC,EAQEhgC,EARFggC,KACApiC,EAOEoC,EAPFpC,MACAmN,EAME/K,EANF+K,MACA61B,EAKE5gC,EALF4gC,OACA/zB,EAIE7M,EAJF6M,cACA2rC,EAGEx4C,EAHFw4C,cACAne,EAEEr6B,EAFFq6B,WACApuB,EACEjM,EADFiM,SAEA,sBAAA9L,EAAAtW,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAmnF,EAAe5pF,EAAU70B,GAAzB,IAAA0+G,EAAAhG,EAAAjiE,EAAA6zB,EAAA36D,EAAAgvG,EAAAC,EAAAhjG,EAAA,OAAAyb,EAAA53B,EAAAi4B,KAAA,SAAAmnF,GAAA,cAAAA,EAAArvF,KAAAqvF,EAAAjnF,MAAA,cACA8mF,EAAgB7vD,GAAel6C,GACjC+jG,EAAUgG,KAAmBT,sBAAWtpG,EAAOqO,GAC/CyzB,EAAMkB,GAAU,qBAEhB+gE,IACGpuC,EAAmB,kBAATvzB,EAA2BpiC,EAAQiP,EAC7CjU,EACI,sBAATonC,EAA+BpiC,EAAQ46C,EAAcO,WAAWngD,IAE3DgvG,EAAiB9vD,GAAeyb,GAChCs0C,EAAa/vD,GAAel/C,GAE9BgvG,GAAkBC,IACfhjG,EAAS+gG,GAAgB,CAC9BvrE,aACAxtB,cAAeq6F,sBAAW3zC,EAAStnD,GACnCgB,iBAAkBi6F,sBAAWtuG,EAAKqT,KAGnC01F,GAAW98F,EAAOmW,MAClB0kB,EAAM76B,EAAOmW,MAAQnW,EAAOmW,MAAM6jB,QAAU,KAI9C6F,GAASp0C,EAAY0vC,EAAM,CAC1B2hE,UACApoF,IAAK,CAAEmmB,OACP30B,SAHD25B,CAIG5mB,GA7BGgqF,EAAA3jC,OAAA,SA+BCw9B,GA/BD,wBAAAmG,EAAA9mF,SAAA0mF,MAAP,gBAAAK,EAAAC,GAAA,OAAA7nG,EAAAzC,MAAA4d,KAAA3yB,YAAA,GAmCD,IAEMs/G,GAA6B,SAAA5nG,GAI7B,IAAA6nG,EAAA7nG,EAHL7R,eAGK,IAAA05G,EAHK3vG,KAAKq+C,MAGVsxD,EAFLrvG,EAEKwH,EAFLxH,oBACA+M,EACKvF,EADLuF,WAEIoV,EAAQ,KAwBZ,OAtBIniB,GAAuB+M,GAAc/M,GAAuB+M,EAC/DoV,EAAQ,CAAE6jB,QAAS,uBAAwBmB,KAAM,uBAEjDnnC,GACA+M,GACA/M,EAAsB+M,EAdI,KAgB1BoV,EAAQ,CACP6jB,QAAS,0BACTnrC,KAAM,CAAC,IAAK,QACZssC,KAAM,uBAEGnnC,GAAuBA,EAAsBrK,EACvDwsB,EAAQ,CAAE6jB,QAAS,qBAAsBmB,KAAM,uBACrCp6B,GAAcA,EAAapX,EACrCwsB,EAAQ,CAAE6jB,QAAS,wBACTj5B,IAAe/M,EACzBmiB,EAAQ,CAAE6jB,QAAS,aAAcmB,KAAM,uBAC3BnnC,GAAuB+M,IACnCoV,EAAQ,CAAE6jB,QAAS,kBAAmBmB,KAAM,wBAGtC,CAAEhlB,UAGH,SAASmtF,GAAT7nG,GAQJ,IAPFhQ,EAOEgQ,EAPFhQ,WACA0vC,EAME1/B,EANF0/B,KACApiC,EAKE0C,EALF1C,MACAmN,EAIEzK,EAJFyK,MACAlS,EAGEyH,EAHFzH,oBACA+M,EAEEtF,EAFFsF,WACApX,EACE8R,EADF9R,QAEA,sBAAAgS,EAAA3W,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA6nF,EAAetqF,EAAU70B,GAAzB,IAAAsS,EAAAsJ,EAAA88F,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAA0nF,GAAA,cAAAA,EAAA5vF,KAAA4vF,EAAAxnF,MAAA,cAKAhc,EAASojG,GAA2B,CACzCpvG,oBAJS,wBAATmnC,EAAiCpiC,EAAQ/E,EAKzC+M,WAJKrK,EAAgB,eAATykC,EAAwBpiC,EAAQgI,EAK5CpX,YAGDk2C,GAASp0C,EAAY,aAAc,CAClCqxG,UAAWpmG,EACXge,IAAK,CACJmmB,IAAK,mBAEN30B,MAAOA,GALR25B,CAMG5mB,GAEH4mB,GAASp0C,EAAY,sBAAuB,CAC3CqxG,UAAW98F,EAAOmW,OAA+B,wBAAtBnW,EAAOmW,MAAMglB,MACxCzmB,IAAK,CACJmmB,IAAK76B,EAAOmW,MAAQnW,EAAOmW,MAAM6jB,QAAU,GAC3CnrC,KAAMmR,EAAOmW,QAAUnW,EAAOmW,MAAMtnB,MAAQ,KAE7CqX,MAAOA,GANR25B,CAOG5mB,GAEG6jF,GAAW98F,EAAOmW,MA5BlBqtF,EAAAlkC,OAAA,SA8BCw9B,GA9BD,wBAAA0G,EAAArnF,SAAAonF,MAAP,gBAAAE,EAAAC,GAAA,OAAA/nG,EAAA9C,MAAA4d,KAAA3yB,YAAA,GAkCM,SAAS6/G,GAAT/nG,GAA6D,IAA5BnQ,EAA4BmQ,EAA5BnQ,WAAYwG,EAAgB2J,EAAhB3J,MAAOiU,EAAStK,EAATsK,MAC1D,sBAAA09F,EAAA5+G,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAmoF,EAAe5qF,EAAU70B,GAAzB,IAAA4b,EAAA88F,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAgoF,GAAA,cAAAA,EAAAlwF,KAAAkwF,EAAA9nF,MAAA,cACAhc,EAAS+jG,OAAIlkE,SAAS5tC,EAAO0qG,GAAY1qG,OAEzC6qG,GAAW98F,EAAOmW,MAExB0pB,GAASp0C,EAAY,QAAS,CAC7BqxG,UACApoF,IAAK,CAAEmmB,IAAK76B,EAAOmW,MAAQnW,EAAOmW,MAAM6jB,QAAU,IAClD9zB,MAAOA,GAHR25B,CAIG5mB,GATG6qF,EAAAxkC,OAAA,SAWCw9B,GAXD,wBAAAgH,EAAA3nF,SAAA0nF,MAAP,gBAAAG,EAAAC,GAAA,OAAAL,EAAA/qG,MAAA4d,KAAA3yB,YAAA,GAeM,SAASogH,GAATroG,GASJ,IARFpQ,EAQEoQ,EARFpQ,WACA0vC,EAOEt/B,EAPFs/B,KACAkzC,EAMExyE,EANFwyE,KAME81B,EAAAtoG,EALF68F,mBAKE,IAAAyL,KAAAC,EAAAvoG,EAJF88F,gBAIE,IAAAyL,KAHFl+F,EAGErK,EAHFqK,MACAjf,EAEE4U,EAFF5U,SACA4xG,EACEh9F,EADFg9F,WAEA,sBAAAr8F,EAAAxX,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA2oF,EAAeprF,EAAU70B,GAAzB,IAAAsY,EAAAm+B,EAAAiiE,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAwoF,GAAA,cAAAA,EAAA1wF,KAAA0wF,EAAAtoF,MAAA,cAAAsoF,EAAAtoF,KAAA,EACgBw8E,GAAgB,CACrCnqB,OACAqqB,cACAC,WACA1xG,WACA4xG,eANK,cAAAn8F,EAAA4nG,EAAA72D,KACE5S,EADFn+B,EACEm+B,IAQFiiE,GAAWjiE,EATXypE,EAAAtoF,KAAA,EAWA6jB,GAASp0C,EAAY0vC,EAAM,CAChC2hE,UACApoF,IAAK,CAAEmmB,OACP30B,SAHK25B,CAIH5mB,GAfG,cAAAqrF,EAAAhlC,OAAA,SAiBCw9B,GAjBD,wBAAAwH,EAAAnoF,SAAAkoF,MAAP,gBAAAE,EAAAC,GAAA,OAAAhoG,EAAA3D,MAAA4d,KAAA3yB,YAAA,GAqBM,SAAS2gH,GAAT7nG,GAQJ,IAPFnR,EAOEmR,EAPFnR,WAOEi5G,EAAA9nG,EANF4pE,eAME,IAAAk+B,EANQ,GAMRA,EAAAC,EAAA/nG,EALFigF,kBAKE,IAAA8nB,EALW,GAKXA,EAJFl+B,EAIE7pE,EAJF6pE,UACAx/E,EAGE2V,EAHF3V,SACAy/E,EAEE9pE,EAFF8pE,gBACAxgE,EACEtJ,EADFsJ,MAEA,sBAAArJ,EAAA7X,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAkpF,EAAe3rF,EAAU70B,GAAzB,IAAAygH,EAAA/H,EAAAjiE,EAAAhsC,EAAA,OAAA4sB,EAAA53B,EAAAi4B,KAAA,SAAAgpF,GAAA,cAAAA,EAAAlxF,KAAAkxF,EAAA9oF,MAAA,cACA6oF,EACLr+B,GAAWA,EAAQ90C,gBAAkBmrD,EAAWnrD,cAC7CorE,EAAUp2B,IAAoBm+B,EAE9BhqE,EAAM,GACJhsC,EAAO,SAAApB,OAASg5E,EAAT,UAA4Bx/E,EAAS8b,eAC9C8hG,GAAkC,IAAdp+B,EACvB5rC,EAAM,yBACIgqE,GAAkC,IAAdp+B,EAC9B5rC,EAAM,yBACIgqE,GAAoBp+B,GAAa,EAC3Cq2B,GAAU,EACC+H,IACX/H,GAAU,GAdLgI,EAAA9oF,KAAA,EAiBA6jB,GAASp0C,EAAY,iBAAkB,CAC5CqxG,UACApoF,IAAK,CAAEmmB,MAAKhsC,QACZqX,SAHK25B,CAIH5mB,GArBG,cAAA6rF,EAAAxlC,OAAA,SAuBC,CAAEw9B,UAASjiE,QAvBZ,wBAAAiqE,EAAA3oF,SAAAyoF,MAAP,gBAAAG,EAAAC,GAAA,OAAAnoG,EAAAhE,MAAA4d,KAAA3yB,YAAA,GA2BM,SAASmhH,GAATloG,GAA6D,IAAhCtR,EAAgCsR,EAAhCtR,WAAYg7E,EAAoB1pE,EAApB0pE,UAAWvgE,EAASnJ,EAATmJ,MAC1D,sBAAAjJ,EAAAjY,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAwpF,EAAejsF,EAAU70B,GAAzB,IAAA04G,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAqpF,GAAA,cAAAA,EAAAvxF,KAAAuxF,EAAAnpF,MAAA,cACA8gF,EACL93G,OAAOuK,OAAO82E,IAAwBpyD,QAAQwyD,IAAc,EAFvD0+B,EAAAnpF,KAAA,EAGA6jB,GAASp0C,EAAY,YAAa,CACvCqxG,UACApoF,IAAK,CAAEmmB,IAAK,+BACZ30B,SAHK25B,CAIH5mB,GAPG,cAAAksF,EAAA7lC,OAAA,SASCw9B,GATD,wBAAAqI,EAAAhpF,SAAA+oF,MAAP,gBAAAE,EAAAC,GAAA,OAAApoG,EAAApE,MAAA4d,KAAA3yB,YAAA,GAaM,SAASwhH,GAATloG,GAAwE,IAA1C3R,EAA0C2R,EAA1C3R,WAAYsN,EAA8BqE,EAA9BrE,MAAOoiC,EAAuB/9B,EAAvB+9B,KAAMoqE,EAAiBnoG,EAAjBmoG,OAAQr/F,EAAS9I,EAAT8I,MACrE,sBAAA7I,EAAArY,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA8pF,EAAevsF,GAAf,IAAAjZ,EAAA88F,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAA2pF,GAAA,cAAAA,EAAA7xF,KAAA6xF,EAAAzpF,MAAA,cACAhc,EAAS+jG,OAAIlkE,SAAS9mC,EAAOwsG,GAC7BzI,GAAW98F,EAAOmW,MAFlBsvF,EAAAzpF,KAAA,EAIA6jB,GAASp0C,EAAY0vC,EAAM,CAChC2hE,UACApoF,IAAK,CAAEmmB,IAAK76B,EAAOmW,MAAQnW,EAAOmW,MAAM6jB,QAAU,IAClD9zB,MAAOA,GAHF25B,CAIH5mB,GARG,cAAAwsF,EAAAnmC,OAAA,SAUCw9B,GAVD,wBAAA2I,EAAAtpF,SAAAqpF,MAAP,gBAAAE,GAAA,OAAAroG,EAAAxE,MAAA4d,KAAA3yB,YAAA,GAcM,SAAS6hH,GAAcl6G,EAAYrE,EAAO8e,EAAO0/F,GACvD,sBAAAtoG,EAAAtY,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAmqF,EAAe5sF,GAAf,IAAAjZ,EAAA88F,EAAAjiE,EAAAp9B,EAAAqoG,EAAA,OAAArqF,EAAA53B,EAAAi4B,KAAA,SAAAiqF,GAAA,cAAAA,EAAAnyF,KAAAmyF,EAAA/pF,MAAA,UACAhc,EAAS+jG,OAAIlkE,SAASz4C,EAAOX,GAAQW,OACvC01G,GAAW98F,EAAOmW,MAClB0kB,EAAM76B,EAAOmW,MAAQnW,EAAOmW,MAAM6jB,QAAU,IAE5C4rE,IAAuB9I,EALrB,CAAAiJ,EAAA/pF,KAAA,gBAAA+pF,EAAA/pF,KAAA,EAMuB0gF,GAAS,CAAEt1G,UANlC,UAAA2+G,EAAA1mC,GAAA0mC,EAAAt4D,KAAAs4D,EAAA1mC,GAAA,CAAA0mC,EAAA/pF,KAAA,QAAA+pF,EAAA1mC,GAM+C,GAN/C,OAAA5hE,EAAAsoG,EAAA1mC,GAMGymC,EANHroG,EAMGqoG,SACRhJ,GAAuB,IAAbgJ,EACVjrE,EAAM,qBARD,eAAAkrE,EAAA/pF,KAAA,GAWA6jB,GAASp0C,EAAY,QAAS,CACnCqxG,UACApoF,IAAK,CAAEmmB,OACP30B,SAHK25B,CAIH5mB,GAfG,eAAA8sF,EAAAzmC,OAAA,SAiBCw9B,GAjBD,yBAAAiJ,EAAA5pF,SAAA0pF,MAAP,gBAAAG,GAAA,OAAA1oG,EAAAzE,MAAA4d,KAAA3yB,YAAA,GAqBM,IAAMmiH,GAA6B,WAA+B,IAAAtoG,EAAA7Z,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAArB+U,EAA4B8E,EAA5B9E,MAAUtJ,EAAkBvK,OAAAmZ,GAAA,EAAAnZ,CAAA2Y,EAAA,WACxE,OAAK9E,EAEgB,OAAVA,GAAmBtJ,EAAO0V,GAAGlhB,OAEnB,QAAV8U,GAAoBtJ,EAAO2V,IAAInhB,YAAnC,EACC,yCAFA,wCAFA,sCAQImiH,GAA+B,WAA+B,IAAAtoG,EAAA9Z,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAArB+U,EAA4B+E,EAA5B/E,MAAUtJ,EAAkBvK,OAAAmZ,GAAA,EAAAnZ,CAAA4Y,EAAA,WAC1E,OAAK/E,EAEgB,OAAVA,GAAoBtJ,EAAO0V,IAAO1V,EAAO0V,GAAGlhB,OAElC,QAAV8U,GAAqBtJ,EAAO2V,KAAQ3V,EAAO2V,IAAInhB,YAAnD,EACC,2CAFA,0CAFA,wCAQIoiH,GAA+B,WAGjC,IAAArnG,EAAAhb,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAOsiH,EAAAtnG,EAFVjG,aAEU,IAAAutG,EAFF,GAEEA,EADP72G,EACOvK,OAAAmZ,GAAA,EAAAnZ,CAAA8Z,EAAA,WACV,OAAKjG,EAAMtC,SAAS,OAETsC,EAAMtC,SAAS,OAAWhH,EAAO0V,IAAO1V,EAAO0V,GAAGlhB,YAAtD,EACC,0CAFA,wCAMF,SAASsiH,GAATroG,GAAmE,IAAvCvS,EAAuCuS,EAAvCvS,WAAY66G,EAA2BtoG,EAA3BsoG,SAAU90G,EAAiBwM,EAAjBxM,OAAQ0U,EAASlI,EAATkI,MAChE,sBAAA7H,EAAArZ,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA6qF,EAAettF,GAAf,IAAAxnB,EAAAC,EAAAC,EAAAqU,EAAA82F,EAAA0J,EAAA,OAAA/qF,EAAA53B,EAAAi4B,KAAA,SAAA2qF,GAAA,cAAAA,EAAA7yF,KAAA6yF,EAAAzqF,MAAA,cACEvqB,EAAqCD,EAArCC,SAAUC,EAA2BF,EAA3BE,WAAYC,EAAeH,EAAfG,WAExBqU,EAAS,CACdigG,GAA2Bx0G,GAC3By0G,GAA6Bv0G,GAC7Bw0G,GAA6Bz0G,IAGxBorG,EAAU92F,EAAO9Y,MAAM,SAAAqQ,GAAC,OAAKA,IAC7BipG,EAAUxgG,EACdhU,OAAO,SAAAuL,GAAC,QAAMA,IACd/X,IAAI,SAAA+X,GAAC,OAAIzY,aAAEyY,KACXqF,KAAK,MAbD6jG,EAAAzqF,KAAA,EAeA6jB,GAASp0C,EAAY66G,EAAU,CACpCxJ,UACApoF,IAAK,CACJmmB,IAAK,qBACLhsC,KAAM,CAAC23G,GACPrmE,OAAQ,CACP1uC,WAAYuU,EAAO,GACnBrU,aAAcqU,EAAO,GACrBtU,aAAcsU,EAAO,KAGvBE,MAAOA,GAXF25B,CAYH5mB,GA3BG,cAAAwtF,EAAAnnC,OAAA,SA6BCw9B,GA7BD,wBAAA2J,EAAAtqF,SAAAoqF,MAAP,gBAAAG,GAAA,OAAAroG,EAAAxF,MAAA4d,KAAA3yB,YAAA,iBC3uBM,SAAS6iH,KAUR,IAAAjiH,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GATH2H,EASO/G,EATP+G,WACAkc,EAQOjjB,EARPijB,MACA2+F,EAOO5hH,EAPP4hH,SACApgG,EAMOxhB,EANPwhB,MACA4hF,EAKOpjG,EALPojG,YACAC,EAIOrjG,EAJPqjG,aACAltD,EAGOn2C,EAHPm2C,IACAs7C,EAEOzxF,EAFPyxF,MACAntC,EACOtkD,EADPskD,SAEA,sBAAA5jD,EAAAJ,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAC,EAAe1C,GAAf,IAAA0zB,EAAAW,EAAAwvD,EAAAjuG,EAAA+pB,EAAAguF,EAAAC,EAAA,OAAAprF,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,UACE2wB,EAAkBhlC,EAAlBglC,KAAMW,EAAY3lC,EAAZ2lC,QACVwvD,EAAUnwD,GAAQW,EAClBz+C,EAAO,CAACi5F,EAAaC,EAAc,MAElC/+C,GAAarhC,EAAM2lC,UACvBwvD,GAAU,IAGP9zD,IAAY8zD,EATV,CAAA/gF,EAAAC,KAAA,gBAAAD,EAAAC,KAAA,EAUcurE,aAAa,CAAE56C,KAAMhlC,EAAMglC,KAAMt3B,IAAK1N,EAAM2lC,UAV1D,OAUC10B,EAVDmD,EAAA0xB,KAWCm5D,EAAahuF,EAAKkK,MAClB+jF,EAAcjuF,EAAKiK,OAErBszD,IACH2mB,EAAUtV,aACTM,EACA8e,EACA7e,EACA8e,KAIG1wB,IAAU2R,EAAc8e,GAAc7e,EAAe8e,KACzD/J,GAAU,GAxBN,eAAA/gF,EAAAC,KAAA,GA4BA6jB,GAASp0C,EAAY66G,EAAU,CACpCxJ,UACApoF,IAAK,CAAEmmB,MAAKhsC,QACZqX,SAHK25B,CAIH5mB,GAhCG,eAAA8C,EAAAujD,OAAA,SAkCCw9B,GAlCD,yBAAA/gF,EAAAI,SAAAR,MAAP,gBAAAS,GAAA,OAAAh3B,EAAAyT,MAAA4d,KAAA3yB,YAAA,oCCTK41G,GAAY,IAAI4B,GAAU,CAAE1B,QADT9tG,gCAGnByvG,GAAkB,SAACjC,EAAKwN,EAAWpgB,GACxC,OAAI4S,EAAIr4F,QAAU,KAAOq4F,EAAIr4F,OAAS,IAC9Bq4F,EAAIkC,OAGLlC,EAAIp/E,OAAOkoE,KAAK,SAAAloE,GACH,MAAfo/E,EAAIr4F,QAAiC,MAAfq4F,EAAIr4F,QAC7BspB,aAAOm8D,GAEHogB,GACJzN,GAAwB,CAAEC,MAAKp/E,YAKrB6sF,GAAa,SAAAriH,GAQpB,IAPLqC,EAOKrC,EAPLqC,SACA0+D,EAMK/gE,EANL+gE,KACAuhD,EAKKtiH,EALLsiH,UACAhM,EAIKt2G,EAJLs2G,UACArK,EAGKjsG,EAHLisG,KACAsW,EAEKviH,EAFLuiH,UACAC,EACKxiH,EADLwiH,cAEA,OAAOxN,GACLY,MAAM,CACND,MAAO,QACPze,OAAQ,OACR9sD,KAAMrrB,KAAKC,UAAU,CACpB3c,WACA0+D,OACAuhD,YACAhM,YACArK,OACAsW,YACAC,kBAEDtM,QAAS,CAAEoB,eAAgB,sBAE3B5Z,KAAKmZ,KAGK4L,GAAe,SAAA/hH,GAA+B,IAA5B4B,EAA4B5B,EAA5B4B,QAASogH,EAAmBhiH,EAAnBgiH,aACvC,OAAO1N,GACLY,MAAM,CACND,MAAO,UACPze,OAAQ,MACR50F,UACAogH,iBAEAhlB,KAAK,SAAAkX,GAAG,OAAIiC,GAAgBjC,GAAK,GAAM,MAgBpC+N,GAAoB,SAAAnxG,GACzB,IAAMoxG,EAAatiH,OAAAC,EAAA,EAAAD,CAAA,GAAQkR,GAK3B,OAJIoxG,EAAc39G,SAAW0mB,KAAOu7E,SAAS0b,EAAc39G,WAC1D29G,EAAc39G,QAAU0mB,KAAOq4C,KAAK4+C,EAAc39G,SAAW,KAGvD8Z,KAAKC,UAAU4jG,IAGVC,GAAa,SAAA5hH,GAAkB,IAAfoB,EAAepB,EAAfoB,SAC5B,OAAO2yG,GACLY,MAAM,CACND,MAAO,QACPze,OAAQ,MACR6e,YAAa,CAAE1zG,cAEfq7F,KAAKmZ,KAYKiM,GAAa,SAAAvhH,GAAuB,IAApB+jG,EAAoB/jG,EAApB+jG,KAAMhjG,EAAcf,EAAde,QAClC,OAAO0yG,GACLY,MAAM,CACND,MAAO,QACPze,OAAQ,OACR9sD,KAAMu4E,GAAkBrd,GACxBhjG,UACA4zG,QAAS,CAAEoB,eAAgB,sBAE3B5Z,KAAKmZ,KAGKkM,GAAe,SAAArhH,GAA2B,IAAxB4jG,EAAwB5jG,EAAxB4jG,KAAMz+F,EAAkBnF,EAAlBmF,GAAIvE,EAAcZ,EAAdY,QACxC,OAAO0yG,GACLY,MAAM,CACND,MAAK,SAAA5sG,OAAWlC,GAChBqwF,OAAQ,MACR9sD,KAAMu4E,GAAkBrd,GACxBhjG,UACA4zG,QAAS,CAAEoB,eAAgB,sBAE3B5Z,KAAKmZ,KAGKmM,GAAa,SAAAnhH,GAAkB,IAAfQ,EAAeR,EAAfQ,SAC5B,OAAO2yG,GACLY,MAAM,CACND,MAAO,QACPze,OAAQ,MACR6e,YAAa,CAAE1zG,cAEfq7F,KAAKmZ,KAYKoM,GAAa,SAAA//G,GAAuB,IAApB47E,EAAoB57E,EAApB47E,KAAMx8E,EAAcY,EAAdZ,QAClC,OAAO0yG,GACLY,MAAM,CACND,MAAO,QACPze,OAAQ,OACR9sD,KAAMu4E,GAAkB7jC,GACxBx8E,UACA4zG,QAAS,CAAEoB,eAAgB,sBAE3B5Z,KAAKmZ,KAGKqM,GAAe,SAAA7/G,GAA2B,IAAxBy7E,EAAwBz7E,EAAxBy7E,KAAMj4E,EAAkBxD,EAAlBwD,GAAIvE,EAAce,EAAdf,QACxC,OAAO0yG,GACLY,MAAM,CACND,MAAK,SAAA5sG,OAAWlC,GAChBqwF,OAAQ,MACR9sD,KAAMu4E,GAAkB7jC,GACxBx8E,UACA4zG,QAAS,CAAEoB,eAAgB,sBAE3B5Z,KAAKmZ,KAcKsM,GAAsB,SAAAz/G,GAA2B,IAAxB0H,EAAwB1H,EAAxB0H,SAAU9I,EAAcoB,EAAdpB,QAC/C,OAAO0yG,GACLY,MAAM,CACND,MAAK,aAAA5sG,OAAeqC,EAASvE,GAAxB,UACLqwF,OAAQ,MACR50F,UACA4zG,QAAS,CAAEoB,eAAgB,sBAE3B5Z,KAAKmZ,KAGKuM,GAAe,WAMjB,IAAAv/G,EAAAzE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GALHe,EAKU0D,EALV1D,IACAkjH,EAIUx/G,EAJVw/G,SACAC,EAGUz/G,EAHVy/G,SACAC,EAEU1/G,EAFV0/G,UACAC,EACU3/G,EADV2/G,WAEMzN,EAAWz1G,OAAAC,EAAA,EAAAD,CAAA,GACZH,GAAO,CAAEA,KAAK,GACdkjH,GAAY,CAAE9mG,OAAQ8mG,EAASnlG,KAAK,MAFxB,CAGhBolG,WACAC,aACIC,GAAc,CAAEA,WAAYx0G,KAAKq+C,QAGtC,OAAO2nD,GACLY,MAAM,CACND,MAAO,YACPze,OAAQ,MACR6e,gBAEArY,KAAKmZ,KAGK4M,GAAiB,SAAAz/G,GAA+B,IAA5BoH,EAA4BpH,EAA5BoH,SAAUvE,EAAkB7C,EAAlB6C,GAAIvE,EAAc0B,EAAd1B,QAC9C,OAAO0yG,GACLY,MAAM,CACND,MAAK,aAAA5sG,OAAelC,GACpBqwF,OAAQ,MACR9sD,KAAMu4E,GAAkBv3G,GACxB9I,UACA4zG,QAAS,CAAEoB,eAAgB,sBAE3B5Z,KAAKmZ,KAGK6M,GAAgB,SAAAt/G,GAAoB,IAAjBu/G,EAAiBv/G,EAAjBu/G,WAC/B,OAAO3O,GACLY,MAAM,CACND,MAAO,uBACPze,OAAQ,OACR9sD,KAAMu4E,GAAkB,CAAEgB,eAC1BzN,QAAS,CAAEoB,eAAgB,sBAE3B5Z,KAAKmZ,KAGK+M,GAAmB,WAC/B,OAAO5O,GACLY,MAAM,CACND,MAAO,YACPze,OAAQ,MACRqf,SAAS,IAET7Y,KAAKmZ,KAaKgN,GAAc,SAAAl/G,GAAsB,IAAnBm/G,EAAmBn/G,EAAnBm/G,SAAUj9G,EAASlC,EAATkC,GACvC,OAAOmuG,GACLY,MAAM,CACND,MAAK,aAAA5sG,OAAelC,GACpBqwF,OAAQ,MACR9sD,KAAMu4E,GAAkBmB,GACxB5N,QAAS,CAAEoB,eAAgB,sBAE3B5Z,KAAKmZ,KAGKkN,GAAe,SAAA/+G,GAAkB,IAAf8+G,EAAe9+G,EAAf8+G,SAC9B,OAAO9O,GACLY,MAAM,CACND,MAAK,YACLze,OAAQ,OACR9sD,KAAMu4E,GAAkBmB,GACxB5N,QAAS,CAAEoB,eAAgB,sBAE3B5Z,KAAKmZ,uBClPKn1F,GAAU,CACtB1B,UAAW,CAAE2Q,IA/BN/S,aAAUQ,aAAatd,IAAI,SAAAijE,GACjC,MAAO,CACNhqD,MAAOgqD,EAAQjmD,KACfzJ,MAAO0vD,EAAQ1vD,SA4BcykD,WAAY,aAC3CkrD,QAAS,CAAErzF,IAvBJ/S,aAAUqmG,QAAQnjH,IAAI,SAAAojH,GAC5B,MAAO,CACNnqG,MAAOzP,aAAU45G,EAAOthH,MAAM,KAAK,IACnCyR,MAAO6vG,KAoBkBprD,WAAY,aACvCimB,KAAM,CAAEpuD,IAfD/S,aAAUumG,eAAerjH,IAAI,SAAAsjH,GACnC,MAAO,CACNrqG,MAAOqqG,EAAIC,IACXhwG,MAAO+vG,EAAIC,OAYQvrD,WAAY,aACjCwrD,OAAQ,CAAE3zF,IAAK,GAAImoC,WAAY,cCf1B6mB,GAAW,SAAA3/E,GAAwC,IAArCyI,EAAqCzI,EAArCyI,KAAM87G,EAA+BvkH,EAA/BukH,SAAUp6G,EAAqBnK,EAArBmK,KAAMoqB,EAAev0B,EAAfu0B,SACzC,OAAOiwF,EAAW,CACjBjwF,SAAUA,EACV9rB,KAAMA,EACNsR,MAAOzP,aAAUi6G,EAAU,CAAEp6G,KAAMA,IACnCopB,QAAS,KAJHixF,CAKJjwF,IAGSkwF,GAAsB,SAAA/jH,GAA0B,IAAvBkoD,EAAuBloD,EAAvBkoD,QAAStmD,EAAc5B,EAAd4B,QAC9C,OAAOszG,MAAMhtD,GACX80C,KAAK,SAAAgnB,GACL,OAAOA,EAAKC,SAEZjnB,KAAK,SAAAknB,GAEL,OADA59D,IAAI2B,gBAAgBC,GFsBI,SAAA/nD,GAA4C,IAAzCgkH,EAAyChkH,EAAzCgkH,UAAyCC,EAAAjkH,EAA9BkkH,iBAA8B,IAAAD,EAAlB,GAAkBA,EAAdxiH,EAAczB,EAAdyB,QAClD0iH,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASL,EAAWE,GAC7B/P,GACLY,MAAM,CACND,MAAO,QACPze,OAAQ,OACR9sD,KAAM46E,EACN1iH,YAEAo7F,KAAKmZ,IE/BEsO,CAAY,CAClBN,UAAWD,EACXG,UAAW,aACXziH,QAASA,OAKN,SAAS8iH,GAAYC,GAC3B,sBAAAxkH,EAAAP,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAgoB,EAAezqB,EAAU70B,GAAzB,IAAAqC,EAAAvB,EAAAgU,EAAA0P,EAAAzX,EAAAxL,EAAAG,EAAAkkH,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAA7uF,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAAA2nB,EAAA/vB,KAAA,EAECntB,EAAUD,YAAcpC,KACtBc,EAAYuB,EAAQM,SAApB7B,QACFgU,EAAQquG,GAAW,CAAExgH,SAAU7B,IAC/B0jB,EAAQ8+F,GAAW,CAAE3gH,SAAU7B,IAC/BiM,EAAYm3G,KANb3kE,EAAA3nB,KAAA,EAQ4CqvB,QAAQxmD,IAAI,CAC5DqU,EACA0P,EACAzX,IAXI,cAAAxL,EAAAg+C,EAAA8J,KAAA3nD,EAAAd,OAAAsS,GAAA,EAAAtS,CAAAW,EAAA,GAQEqkH,EARFlkH,EAAA,GAQYmkH,EARZnkH,EAAA,GAQsBokH,EARtBpkH,EAAA,GAaCqkH,EAAYF,EAASrhG,OAAS,GAC9BwhG,GAAqBH,EAASM,eAAiB,IAAI3lH,OACxD,SAAC4lH,EAAWr0G,GAAM,IACT5K,EAAuC4K,EAAvC5K,GAAIsc,EAAmC1R,EAAnC0R,UAAWD,EAAwBzR,EAAxByR,SAAUs1B,EAAc/mC,EAAd+mC,UAGjC,OAFAstE,EAAUj/G,GAAM,CAAEsc,YAAWD,WAAUs1B,aAEhCstE,GAER,IAGKH,EAAiBF,EAAU3kH,IAAV,eAAAS,EAAAjB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAc,SAAAC,EAAMtW,GAAN,OAAAoW,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAAD,EAAAujD,OAAA,SAAAt6E,OAAAC,EAAA,EAAAD,CAAA,GACjCqgB,EACCA,EAAEq+D,aAAe0mC,EAAkB/kG,EAAEq+D,cAAgB,KAFrB,wBAAA3nD,EAAAI,SAAAR,MAAd,gBAAAoyE,GAAA,OAAA9nG,EAAA4S,MAAA4d,KAAA3yB,YAAA,IAxBlB6/C,EAAA3nB,KAAA,GA6B0BqvB,QAAQxmD,IAAIwlH,GA7BtC,QA6BCC,EA7BD3mE,EAAA8J,KA8BD5mD,YAAWzC,OACdqmH,GAAY,CAAEv7G,MAAO86G,EAAU56G,SAAU,UAAzCq7G,CAAqDxxF,GACrDwxF,GAAY,CACXv7G,MAAOo7G,EACPl7G,SAAU,UAFXq7G,CAGGxxF,GACHwxF,GAAY,CACXv7G,MAAOg7G,EAAa/4G,UACpB/B,SAAU,YAFXq7G,CAGGxxF,GACHwxF,GAAY,CAAEv7G,MAAO+6G,EAASt5G,UAAY,GAAIvB,SAAU,WAAxDq7G,CACCxxF,GAE4B,oBAAlB8wF,GACVA,KA5CGpmE,EAAA3nB,KAAA,iBAAA2nB,EAAA/vB,KAAA,GAAA+vB,EAAA07B,GAAA17B,EAAA,SAgDL7uB,QAAQqB,MAAM,oBAAdwtB,EAAA07B,IACAgF,GAAS,CACRprD,WACA9rB,KAAM,SACN87G,SAAU,oBACVp6G,KAAM,CAAC+lG,EAAWjxD,EAAA07B,OArDd,yBAAA17B,EAAAxnB,SAAAunB,EAAA,kBAAP,gBAAAtnB,EAAAioB,GAAA,OAAA9+C,EAAAsT,MAAA4d,KAAA3yB,YAAA,GA4DM,SAAS4mH,KAMR,IAAAtkH,EAAAtC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GALHoS,EAKO9P,EALP8P,KACA9G,EAIOhJ,EAJPgJ,SAIOu7G,EAAAvkH,EAHPmyB,cAGO,IAAAoyF,EAHE,WAGFA,EAAAC,GAAAxkH,EAFPm4C,UAEOn4C,EADPo4C,2BACO,IAAAosE,KACP,sBAAArkH,EAAAvB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAmoB,EAAe5qB,EAAU70B,GAAzB,IAAAmH,EAAA4G,EAAA04G,EAAA/rE,EAAA1jB,EAAAooD,EAAAwmB,EAAAl6F,EAAA04G,EAAA,OAAA/sF,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,OACEzwB,EAAO2K,EAAP3K,GACRspG,EAAct8E,EAAShtB,GAAI,EAA3BspG,CAAiC57E,GAF3B6qB,EAAAlwB,KAAA,EAICzhB,EAJDnN,OAAAC,EAAA,EAAAD,CAAA,GAIgBkR,GACjB20G,EAAc,KACd/rE,EAAW,KACX1jB,EAAO,GAPN0oB,EAAAu7B,GASGjwE,EATH00C,EAAA9nB,KAUC,WAVD8nB,EAAAu7B,GAAA,GAiBC,WAjBDv7B,EAAAu7B,GAAA,GAuBC,aAvBDv7B,EAAAu7B,GAAA,GA8BC,aA9BDv7B,EAAAu7B,GAAA,2BAWHltE,EAAQga,QAAUha,EAAQga,SAAW,GAC/Bq3D,EAAO,IAAI1wE,UAAOX,GAAS24G,aAZ9BhnE,EAAA9nB,KAAA,GAakB4rF,GAAa,CAAEpkC,OAAMj4E,OAbvC,eAaHs/G,EAbG/mE,EAAA2J,KAa8C+1B,KACjD1kC,EAAWhsC,UACXsoB,EAAO,6BAfJ0oB,EAAAw7B,OAAA,2BAkBG0qB,EAAO,IAAIr3F,UAAOR,GAAS24G,aAlB9BhnE,EAAA9nB,KAAA,GAmBkByrF,GAAa,CAAEzd,OAAMz+F,OAnBvC,eAmBHs/G,EAnBG/mE,EAAA2J,KAmB8Cu8C,KACjDlrD,EAAWnsC,UACXyoB,EAAO,8BArBJ0oB,EAAAw7B,OAAA,2BAwBGxvE,EAAW,IAAI0C,YAASL,GAAS24G,aAxBpChnE,EAAA9nB,KAAA,GAyBkBmsF,GAAe,CAAEr4G,WAAUvE,OAzB7C,eAyBHs/G,EAzBG/mE,EAAA2J,KAyBoD39C,SACvDgvC,EAAWtsC,YACX4oB,EAAO,kCA3BJ0oB,EAAAw7B,OAAA,2BA+BGkpC,EAAW,IAAIv1G,YAASd,GAAS24G,aA/BpChnE,EAAA9nB,KAAA,GAgCkBusF,GAAY,CAAEC,WAAUj9G,OAhC1C,eAgCHs/G,EAhCG/mE,EAAA2J,KAgCiD+6D,SACpD1pE,EAAW7rC,YACXmoB,EAAO,kCAlCJ0oB,EAAAw7B,OAAA,0BAqCG,IAAI0uB,MAAMh/F,aAAU,sBArCvB,QAwCLiqB,EAAS,CACR9rB,KAAM2I,IACNI,KAAM,IAAI4oC,EAAS+rE,GAAa/X,WAChC1jG,aAGDi1E,GAAS,CACRprD,WACA9rB,KAAM,SACN87G,SAAQ,WAAAx7G,OAAa8qB,EAAb,SACR1pB,KAAM,CAACO,EAAU8G,EAAKjE,SAGnBusC,GACH5gB,EAAQhf,aAAKwc,IAtDT0oB,EAAA9nB,KAAA,iBAAA8nB,EAAAlwB,KAAA,GAAAkwB,EAAAinE,GAAAjnE,EAAA,SAyDLhvB,QAAQqB,MAAR,OAAA1oB,OAAqB8qB,EAArB,SAAAurB,EAAAinE,IACA1mC,GAAS,CACRprD,WACA9rB,KAAM,SACN87G,SAAQ,OAAAx7G,OAAS8qB,EAAT,SACR1pB,KAAM,CAACO,EAAD00C,EAAAinE,MA9DF,QAiENlW,EAAct8E,EAASriB,EAAK3K,IAAI,EAAhCspG,CAAuC57E,GAjEjC,yBAAA6qB,EAAA3nB,SAAA0nB,EAAA,kBAAP,gBAAAiuD,EAAAI,GAAA,OAAA3rG,EAAAsS,MAAA4d,KAAA3yB,YAAA,GAqED,IAAMknH,GAAkB,SAAAlC,GACvB,OAAO9jH,OAAOub,KAAK6F,IAASvU,KAC3B,SAAAqE,GAAI,OAAIkQ,GAAQlQ,GAAMmf,IAAIrjB,OAAO,SAAAoM,GAAI,OAAIA,EAAKrF,QAAU+vG,IAAK/kH,OAAS,KAIjE,SAASogE,KAA6C,IAAAv8D,EAAA9D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAA7BoS,EAAiCtO,EAAjCsO,KAAM9G,EAA2BxH,EAA3BwH,SAAU0vC,EAAiBl3C,EAAjBk3C,SAC3C,sBAAA/2C,EAAA/C,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsoB,EAAe/qB,GAAf,IAAA9mB,EAAAm7C,EAAA29D,EAAAC,EAAAC,EAAAx8D,EAAA,OAAAlzB,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cAAAioB,EAAArwB,KAAA,GAECzhB,EAAUquC,QAAKC,aAAa,CAAEvqC,OAAM4oC,cAClCvzC,GAAK,GACb4G,EAAQw8C,KAAR3pD,OAAAC,EAAA,EAAAD,CAAA,GACIsN,KAAaH,QAAQ/C,GAAUu/C,KADnC,CAECy8D,QAASl1G,EAAK5C,UAAU9N,IAAI,SAACV,EAAG4pB,GAC/B,IAAM/E,EAAMqhG,GAAgBlmH,EAAEgkH,MAAQ,GACtC,MAAO,CACNn/F,IAAK+E,EACL8uC,WAAY,YACZl4C,OAAQqE,EACRlL,MAAOzP,aAAS,gBAAAvB,OAAiBkc,EAAI5G,gBACrC06C,YAAazuD,aAAS,gBAAAvB,OAAiBkc,EAAI5G,gBAC3C2hB,OAAO1/B,OAAAC,EAAA,EAAAD,CAAA,GAAMF,QAKVwoD,EAAU73B,WAAQC,wBACvBvjB,EAAQyV,SACR9b,mCArBIm4C,EAAAjoB,KAAA,EAwBkBs+E,MAAMhtD,GAxBxB,cAwBC29D,EAxBDhnE,EAAAwJ,KAAAxJ,EAAAo7B,GAyBY3zB,IAzBZzH,EAAAjoB,KAAA,GAyBsCivF,EAAS5B,OAzB/C,eAAAplE,EAAA8mE,GAAA9mE,EAAAwJ,KAyBCy9D,EAzBDjnE,EAAAo7B,GAyBgB1zB,gBAzBhB/0B,KAAAqtB,EAAAo7B,GAAAp7B,EAAA8mE,IAAA9mE,EAAAjoB,KAAA,GA0BmBurE,aAAa,CACpC56C,KAAMx6C,EAAQ0V,UACdwN,IAAK61F,IA5BD,QA0BCC,EA1BDlnE,EAAAwJ,KA+BCkB,EA/BD3pD,OAAAC,EAAA,EAAAD,CAAA,GAgCDmN,EAAQw8C,KAhCP,CAiCJhC,KAAMz2C,EAAK2R,UACXylC,QAAS49D,EACTpoF,MAAOqoF,EAAUroF,MACjBD,OAAQsoF,EAAUtoF,SAGnB1wB,EAAQw8C,KAAOA,EAEf11B,EAAS,CACR9rB,KAAM2I,IACNI,KAAM/D,EACN/C,aA5CI60C,EAAAjoB,KAAA,iBAAAioB,EAAArwB,KAAA,GAAAqwB,EAAAonE,GAAApnE,EAAA,SA+CLnvB,QAAQqB,MAAR8tB,EAAAonE,IACAhnC,GAAS,CACRprD,SAAUA,EACV9rB,KAAM,SACN87G,SAAU,mBACVp6G,KAAM,CAACO,EAAD60C,EAAAonE,MApDF,yBAAApnE,EAAA9nB,SAAA6nB,EAAA,kBAAP,gBAAAmuD,GAAA,OAAApqG,EAAA8Q,MAAA4d,KAAA3yB,YAAA,GA0DM,SAAS66C,KAA2D,IAAA12C,EAAAnE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAzCuO,EAA6CpK,EAA7CoK,OAAQjD,EAAqCnH,EAArCmH,SAAUovC,EAA2Bv2C,EAA3Bu2C,mBAC/C,sBAAAp2C,EAAApD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAyoB,EAAelrB,EAAU70B,GAAzB,IAAA0hB,EAAA5P,EAAA,OAAAulB,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,cACAlW,EAAezW,aAAsBjL,IAAYgL,EAAUiD,IAC3D6D,EAFAlR,OAAAC,EAAA,EAAAD,CAAA,GAEY8gB,IACbmB,UAAW,EAHVm9B,EAAApoB,KAAA,EAKA0uF,GAAW,CAChBx0G,OACA9G,WACAmpB,OAAQ,YACRimB,sBAJKksE,CAKHzxF,EAAU70B,GAVP,wBAAAggD,EAAAjoB,SAAAgoB,MAAP,gBAAAouD,EAAAC,GAAA,OAAApqG,EAAAyQ,MAAA4d,KAAA3yB,YAAA,GAcM,SAASwnH,GAAep1G,GAC9B,OAAO,SAAS+iB,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACNI,KAAMA,KAKF,SAASq1G,GAAkBr1G,EAAMs1G,GACvC,OAAO,SAASvyF,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACNI,KAAMA,EACNub,KAAM+5F,KAKF,SAASf,GAATliH,GAA0C,IAAnB2G,EAAmB3G,EAAnB2G,MAAOE,EAAY7G,EAAZ6G,SACpC,OAAO,SAAA6pB,GACN,OAAOA,EAAS,CACf9rB,KAAM2I,IACN5G,MAAOA,EACPE,SAAUA,KAKN,IAAM23F,GAAgB,WAC5B,OAAO,SAAA9tE,GACN,OAAOA,EAAS,CACf9rB,KAAM2I,QAKI21G,GAAY,SAAA/iH,GAAa,IAAVogH,EAAUpgH,EAAVogH,IAC3B,OAAO,SAAA7vF,GACN,OAAOA,EAAS,CACf9rB,KAAM2I,IACNgzG,IAAKA,eCjTK4C,GAAS,SAAAhnH,GAMhB,IAAA+zG,EAAA/zG,EALL2pF,YAKK,IAAAoqB,EALE,GAKFA,EAJLkT,EAIKjnH,EAJLinH,IACAlmD,EAGK/gE,EAHL+gE,KACAmmD,EAEKlnH,EAFLknH,WAEKC,EAAAnnH,EADLqC,gBACK,IAAA8kH,EADM,SACNA,EACL,IAAKx9B,IAASs9B,IAAQC,QAAuB5nH,IAATyhE,EACnC,MAAM,IAAIuoC,MAAM,kCAGjBx5E,aAAaK,QACZ,QAAU4wC,EAAO,IAAM4oB,EAAK38C,cAAgB,IAAM3qC,EAClD4kH,EAAM,IAAMC,IAIDE,GAAS,SAAA1mH,GAAwC,IAAA2mH,EAAA3mH,EAArCipF,YAAqC,IAAA09B,EAA9B,GAA8BA,EAAAC,EAAA5mH,EAA1B2B,gBAA0B,IAAAilH,EAAf,GAAeA,EAAXvmD,EAAWrgE,EAAXqgE,KAC9CwmD,EAAaz3F,aAAaC,QAC7B,QAAUgxC,EAAO,IAAM4oB,EAAK38C,cAAgB,IAAM3qC,GAGnD,IAAKklH,EACJ,OAAO,KAIR,IAAIN,GADJM,EAAaA,EAAW3kH,MAAM,MACT,GACjBkW,EAAOyuG,EAAW,GAEtB,OAAKzuG,GAAQwB,SAASxB,EAAM,KAAO9J,KAAKq+C,MAChC,KAEA45D,4DC7BHO,GAAkB,iBAExBC,KAAcC,SAAS,CACtBhlH,MAAO,yBACPilH,OAAQ,4BAGYC,eACpB,SAAAA,EAAYnV,GAAqB,IAAA5gF,EAAX/nB,EAAW1K,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAkB,OAAAwxB,GAAA,EAAAxxB,CAAAyxB,KAAA61F,IAChC/1F,EAAAvxB,OAAA0xB,GAAA,EAAA1xB,CAAAyxB,KAAAzxB,OAAA2xB,GAAA,EAAA3xB,CAAAsnH,GAAA11F,KAAAH,QAYD81F,cAAgB,WAEf,IAF+C,IAAA7nH,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAAO0oH,EAAA9nH,EAA7BgS,YAA6B,IAAA81G,EAAtB,EAAsBA,EAAAC,EAAA/nH,EAAnB+iB,UAAmB,IAAAglG,EAAd,GAAcA,EACzCC,EAAS,GACNh+F,EAAQhY,EAAMgY,EAAQjH,EAAIiH,IAClCg+F,EAAO9tG,KAAK,CACXwc,KAAM7E,EAAK6E,KAAL,IAAA3tB,OAAgBihB,GACtBi+F,cAAc,IAIhB,MAAO,CAAED,WAtBuBn2F,EAyBjCq2F,aAzBiC5nH,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAyBlB,SAAAC,IAAA,IAAAp2B,EAAAsnH,EAAAn2G,EAAAo2G,EAAArlG,EAAA9hB,EAAAowB,EAAAg3F,EAAA1V,EAAAvzG,UAAA,OAAA23B,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAAz2B,EAAA8xG,EAAAtzG,OAAA,QAAAC,IAAAqzG,EAAA,GAAAA,EAAA,GAA8B,GAA9BwV,EAAAtnH,EAASmR,YAAT,IAAAm2G,EAAgB,EAAhBA,EAAAC,EAAAvnH,EAAmBkiB,UAAnB,IAAAqlG,EAAwB,EAAxBA,EAAA/wF,EAAAC,KAAA,EACqBmwF,KAAca,mBAChDz2F,EAAKg2F,cAAc,CAAE71G,OAAM+Q,QAFd,cAAA9hB,EAAAo2B,EAAA0xB,KACN13B,EADMpwB,EACNowB,QAASg3F,EADHpnH,EACGonH,QADHhxF,EAAAujD,OAAA,SAKP,CAAEvpD,UAASg3F,YALJ,wBAAAhxF,EAAAI,SAAAR,MAzBkBpF,EAiCjC02F,OAjCiC,eAAAnnH,EAAAd,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAiCxB,SAAAgoB,EAAM/D,GAAN,IAAAutE,EAAAjnH,EAAA8vB,EAAAg3F,EAAA/F,EAAAmG,EAAA,OAAA1xF,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAAA2nB,EAAA3nB,KAAA,EACcg2B,SAAMo7D,kBAAkBztE,GADtC,cACFutE,EADEvpE,EAAA8J,MAGA10C,MAAQm0G,EAAQn0G,OAASi5C,SAAMq7D,QAAQ,GAHvC1pE,EAAA3nB,KAAA,EAK2BmwF,KAAcmB,wBAAwB,CACxElyF,KAAM7E,EAAK6E,KACXmyF,YAAaL,IAPN,UAAAjnH,EAAA09C,EAAA8J,KAKA13B,EALA9vB,EAKA8vB,QAASg3F,EALT9mH,EAKS8mH,SAKbh3F,EAVI,CAAA4tB,EAAA3nB,KAAA,gBAWDgrF,EAAY,CACjBxmG,EAAGusG,EAAQvsG,EACX6E,EAAG0nG,EAAQ1nG,EACXwtB,EAAG7zB,SAAS+tG,EAAQl6E,IAGfs6E,EAAWn7D,SAAMw7D,qBAAqBN,EAASlG,GAjB9CrjE,EAAA27B,OAAA,SAmBA6tC,GAnBA,cAqBD,IAAInf,MAAM+e,EAAQ52F,OArBjB,yBAAAwtB,EAAAxnB,SAAAunB,MAjCwB,gBAAAtnB,GAAA,OAAAt2B,EAAA+S,MAAA4d,KAAA3yB,YAAA,GAAAyyB,EA0DjCk3F,gBA1DiC,eAAArnH,EAAApB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KA0Df,SAAAmoB,EAAMlE,GAAN,IAAAwtE,EAAAO,EAAA,OAAAjyF,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,cAAA8nB,EAAA9nB,KAAA,EACMzF,EAAK02F,OAAOttE,GADlB,cACXwtE,EADWrpE,EAAA2J,KAEXigE,EAASn3F,EAAK4gF,SAASsW,gBAAgBN,GAF5BrpE,EAAAw7B,OAAA,SAGVouC,GAHU,wBAAA5pE,EAAA3nB,SAAA0nB,MA1De,gBAAAQ,GAAA,OAAAj+C,EAAAyS,MAAA4d,KAAA3yB,YAAA,GAAAyyB,EAgEjCo3F,YAhEiC,eAAApnH,EAAAvB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAgEnB,SAAAsoB,EAAOhK,GAAP,IAAAxrC,EAAA5G,EAAAmuB,EAAAg3F,EAAAzT,EAAAsU,EAAA9pH,UAAA,OAAA23B,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cAAgBxtB,EAAhBo/G,EAAA7pH,OAAA,QAAAC,IAAA4pH,EAAA,GAAAA,EAAA,GAAuB,GAAvB3pE,EAAAjoB,KAAA,EACsBmwF,KAAc0B,oBAAoB,CACpEzyF,KAAM7E,EAAK6E,KACX4e,QAASA,EACT8zE,MAAOt/G,EAAKs/G,MAJA,UAAAlmH,EAAAq8C,EAAAwJ,KACL13B,EADKnuB,EACLmuB,QAASg3F,EADJnlH,EACImlH,SAMbh3F,EAPS,CAAAkuB,EAAAjoB,KAAA,gBAQNs9E,EAAM,CAMX0N,UAAW,KAAO+F,EAAQ/F,UAC1BrW,KAAM32D,EACNyrB,KAAMnjD,aAAUosF,eAAeE,KAC/B1pG,QAAS6nH,EAAQ7nH,SAjBN++C,EAAAq7B,OAAA,SAoBLg6B,GApBK,cAsBN,IAAItL,MAAM+e,EAAQ52F,OAtBZ,yBAAA8tB,EAAA9nB,SAAA6nB,MAhEmB,gBAAA+pD,GAAA,OAAAxnG,EAAAsS,MAAA4d,KAAA3yB,YAAA,GAAAyyB,EA0FjCyC,QAAU,SAAAm+E,GACT,OAAO,IAAImV,EAAanV,EAAU,CAAE/7E,KAAM7E,EAAK6E,QAzF/C7E,EAAKw3F,UAAY5W,EACjB5gF,EAAKy3F,MAAQx/G,EAAK4sB,MAAQ8wF,GAHM31F,sEAOhC,OAAOE,KAAKu3F,uCAGZ,OAAOv3F,KAAKs3F,iBAX4BE,oBCPrBC,eACpB,SAAAA,EAAY/W,GAAqB,IAAA5gF,EAAX/nB,EAAW1K,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAI,OAAAkB,OAAAwxB,GAAA,EAAAxxB,CAAAyxB,KAAAy3F,IAChC33F,EAAAvxB,OAAA0xB,GAAA,EAAA1xB,CAAAyxB,KAAAzxB,OAAA2xB,GAAA,EAAA3xB,CAAAkpH,GAAAt3F,KAAAH,QAMD03F,UAPiCnpH,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAOrB,SAAAC,IAAA,IAAAyyF,EAAAhnH,EAAAi1F,EAAAp1F,EAAAonH,EAAA,OAAA5yF,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,WACPzF,EAAK+3F,QADE,CAAAvyF,EAAAC,KAAA,eAAAD,EAAAujD,OAAA,SAEH/oD,EAAK+3F,SAFF,cAAAF,EAI4B73F,EAAKg4F,MAAnCnnH,EAJEgnH,EAIFhnH,MAAOi1F,EAJL+xB,EAIK/xB,SAAUp1F,EAJfmnH,EAIennH,SAJf80B,EAAAC,KAAA,EAKewyF,aAAe,CACvCpnH,QACAi1F,WACAp1F,aARS,cAKJonH,EALItyF,EAAA0xB,KAWVl3B,EAAK+3F,QAAU,IAAIG,UAAOJ,EAAWjwG,KAAKswG,WAAYn4F,EAAKw3F,WAXjDhyF,EAAAujD,OAAA,SAYH/oD,EAAK+3F,SAZF,yBAAAvyF,EAAAI,SAAAR,MAPqBpF,EA2BjC8hF,WA3BiCrzG,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KA2BpB,SAAAgoB,IAAA,OAAAjoB,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAAA2nB,EAAA3nB,KAAA,EACCzF,EAAK43F,YAAYjpH,QADlB,cAAAy+C,EAAA27B,OAAA,SAAA37B,EAAA8J,MAAA,wBAAA9J,EAAAxnB,SAAAunB,MA3BoBntB,EA+BjC02F,OA/BiC,eAAA1nH,EAAAP,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KA+BxB,SAAAmoB,EAAMlE,GAAN,IAAAgvE,EAAA,OAAAlzF,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,cAAA8nB,EAAA9nB,KAAA,EACezF,EAAK43F,YAAY5jB,KAAK5qD,GADrC,cACFgvE,EADE7qE,EAAA2J,KAAA3J,EAAAw7B,OAAA,SAEDqvC,GAFC,wBAAA7qE,EAAA3nB,SAAA0nB,MA/BwB,gBAAAznB,GAAA,OAAA72B,EAAAsT,MAAA4d,KAAA3yB,YAAA,GAAAyyB,EAoCjCk3F,gBApCiC,eAAA9nH,EAAAX,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAoCf,SAAAsoB,EAAMrE,GAAN,IAAAwtE,EAAAO,EAAA,OAAAjyF,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cAAAioB,EAAAjoB,KAAA,EACMzF,EAAK02F,OAAOttE,GADlB,cACXwtE,EADWlpE,EAAAwJ,KAEXigE,EAASn3F,EAAK4gF,SAASsW,gBAAgBN,GAF5BlpE,EAAAq7B,OAAA,SAGVouC,GAHU,wBAAAzpE,EAAA9nB,SAAA6nB,MApCe,gBAAAK,GAAA,OAAA1+C,EAAAkT,MAAA4d,KAAA3yB,YAAA,GAAAyyB,EA0CjCo3F,YA1CiC,eAAA7nH,EAAAd,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KA0CnB,SAAAyoB,EAAOnK,GAAP,IAAAlzC,EAAAkgH,EAAA1N,EAAAsV,EAAA9qH,UAAA,OAAA23B,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,cAAA4yF,EAAA7qH,OAAA,QAAAC,IAAA4qH,EAAA,GAAAA,EAAA,GAAuB,IAC3Bd,MACR9zE,EAAUgY,SAAM68D,SAAS70E,IAFboK,EAAApoB,KAAA,EAKQzF,EAAK43F,YALb,cAKPrnH,EALOs9C,EAAAqJ,KAAArJ,EAAApoB,KAAA,EAOWl1B,EAAO6mH,YAAY3zE,GAP9B,cAOPgtE,EAPO5iE,EAAAqJ,KAQP6rD,EAAM,CACX0N,YACArW,KAAM32D,EACNyrB,KAAMnjD,aAAUosF,eAAeE,KAC/B1pG,QAAS4B,EAAO5B,SAZJk/C,EAAAk7B,OAAA,SAeNg6B,GAfM,yBAAAl1D,EAAAjoB,SAAAgoB,MA1CmB,gBAAA4pD,GAAA,OAAAjoG,EAAA+S,MAAA4d,KAAA3yB,YAAA,GAAAyyB,EA4DjCyC,QAAU,SAAAm+E,GACT,OAAO,IAAI+W,EAAY/W,EAAU,CAChC/vG,MAAOmvB,EAAKnvB,MACZi1F,SAAU9lE,EAAK8lE,YA5DhB9lE,EAAKw3F,UAAY5W,EACjB5gF,EAAKg4F,MAAQ//G,EAJmB+nB,0EAwBhC,OAAOE,KAAKs3F,iBAzB2BE,WCDpBa,eACpB,SAAAA,EAAY3X,GAAqB,IAAA5gF,EAAAzyB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,UAAAkB,OAAAwxB,GAAA,EAAAxxB,CAAAyxB,KAAAq4F,IAChCv4F,EAAAvxB,OAAA0xB,GAAA,EAAA1xB,CAAAyxB,KAAAzxB,OAAA2xB,GAAA,EAAA3xB,CAAA8pH,GAAAl4F,KAAAH,QASD4hF,WAViCrzG,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAUpB,SAAAC,IAAA,OAAAF,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAAD,EAAAujD,OAAA,SACL/oD,EAAKw4F,QAAQ1W,cADR,wBAAAt8E,EAAAI,SAAAR,MAVoBpF,EAcjCk3F,gBAdiC,eAAAroH,EAAAJ,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAcf,SAAAgoB,EAAM/D,GAAN,OAAAlkB,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAAA2nB,EAAA27B,OAAA,SACV/oD,EAAKw4F,QAAQtB,gBAAgB9tE,IADnB,wBAAAgE,EAAAxnB,SAAAunB,MAde,gBAAAtnB,GAAA,OAAAh3B,EAAAyT,MAAA4d,KAAA3yB,YAAA,GAAAyyB,EAkBjCo3F,YAlBiC,eAAApoH,EAAAP,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAkBnB,SAAAmoB,EAAO7J,GAAP,IAAAgtE,EAAA1N,EAAA0V,EAAAlrH,UAAA,OAAA23B,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,cAAAgzF,EAAAjrH,OAAA,QAAAC,IAAAgrH,EAAA,GAAAA,EAAA,GAAuB,IAC3BlB,MACR9zE,EAAUgY,SAAM68D,SAAS70E,IAFb8J,EAAA9nB,KAAA,EAKWzF,EAAKw4F,QAAQpB,YAAY3zE,GALpC,cAKPgtE,EALOljE,EAAA2J,KAAA3J,EAAAu7B,GAQZ2nC,EARYljE,EAAAinE,GASN/wE,EATM8J,EAAAunE,GAUN/oG,aAAUosF,eAAeE,KAVnB9qD,EAAA9nB,KAAA,GAWGzF,EAAKw4F,QAAQ1W,aAXhB,eAAAv0D,EAAAmrE,GAAAnrE,EAAA2J,KAOP6rD,EAPO,CAQZ0N,UARYljE,EAAAu7B,GASZsxB,KATY7sD,EAAAinE,GAUZtlD,KAVY3hB,EAAAunE,GAWZnmH,QAXY4+C,EAAAmrE,IAAAnrE,EAAAw7B,OAAA,SAcNg6B,GAdM,yBAAAx1D,EAAA3nB,SAAA0nB,MAlBmB,gBAAAQ,GAAA,OAAA9+C,EAAAsT,MAAA4d,KAAA3yB,YAAA,GAAAyyB,EAmCjCyC,QAAU,SAAAm+E,GACT,OAAO,IAAI2X,EAAe3X,IAlC1B5gF,EAAKw3F,UAAY5W,EACjB5gF,EAAKw4F,QAAU5X,EAAS+X,YAHQ34F,0EAOhC,OAAOE,KAAKs3F,iBAR8BE,qBCKrC,SAAeiB,GAAtB9yF,GAAA,OAAA+yF,GAAAt2G,MAAA4d,KAAA3yB,wDAAO,SAAA63B,EAAAj3B,GAAA,IAAAoC,EAAAqwG,EAAAlwG,EAAAm0B,EAAAh0B,EAAAi1F,EAAA+yB,EAAAL,EAAAM,EAAA,OAAA5zF,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,UAA2Bl1B,EAA3BpC,EAA2BoC,OAAQqwG,EAAnCzyG,EAAmCyyG,SAEjClwG,EAAoCH,EAApCG,SAAUm0B,EAA0Bt0B,EAA1Bs0B,KAAMh0B,EAAoBN,EAApBM,MAAOi1F,EAAav1F,EAAbu1F,SAE3Bp1F,IAAa6/B,KAAWC,SAASvkB,KAJ/B,CAAAuZ,EAAAC,KAAA,eAKCozF,EAAS,IAAIN,GAAe3X,GAL7Bp7E,EAAAujD,OAAA,SAME8vC,GANF,UAQFnoH,IAAa6/B,KAAWG,OAAOzkB,KAR7B,CAAAuZ,EAAAC,KAAA,eASCozF,EAAS,IAAI9C,GAAanV,EAAU,CAAE/7E,SATvCW,EAAAujD,OAAA,SAUE8vC,GAVF,UAaLnoH,IAAa6/B,KAAWgoE,MAAMtsF,MAC9Bvb,IAAa6/B,KAAWioE,MAAMvsF,KAdzB,CAAAuZ,EAAAC,KAAA,gBAgBCozF,EAAS,IAAIlB,GAAY/W,EAAU,CAAE/vG,QAAOi1F,WAAUp1F,aAhBvD80B,EAAAujD,OAAA,SAkBE8vC,GAlBF,cAqBA,IAAIphB,MAAJ,2BAAAvgG,OAAqC3G,EAAOG,WArB5C,yBAAA80B,EAAAI,SAAAR,6BAyBA,IAAM2zF,GAAmB,SAAAlqH,GAAmB,IAAhB6hH,EAAgB7hH,EAAhB6hH,UAC5B13G,EAAS03G,EAAUzhH,IAAI,SAAA+pH,GAC5B,MAA8B,kBAAhBA,EAAMx2G,MACjBi5C,SAAMw9D,YAAYD,EAAMx2G,OACxBi5C,SAAMq7D,QAAQkC,EAAMx2G,SAElB02G,EAAaz9D,SAAM09D,UAAU72G,MAAM,KAAMtJ,GACzCg2G,EAAS0B,EAAUzhH,IAAI,SAAA+pH,GAC5B,OAAOv9D,SAAMw9D,YAAYD,EAAMpiH,KAAO,IAAMoiH,EAAM/sG,QAG7CmtG,EAAa39D,SAAM09D,UAAU72G,MAAM,KAAM0sG,GAM/C,OALavzD,SAAM49D,kBAClB,CAAC,UAAW,WACZ,CAACD,EAAYF,KAMR,SAAeI,GAAtBxrE,GAAA,OAAAyrE,GAAAj3G,MAAA4d,KAAA3yB,wDAAO,SAAA4/C,EAAAn+C,GAAA,IAAAuB,EAAAV,EAAA+wG,EAAAiY,EAAApU,EAAArK,EAAAqW,EAAA,OAAAvrF,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAA4Bl1B,EAA5BvB,EAA4BuB,OAA5B68C,EAAA3nB,KAAA,EACqBu7E,aAAUzwG,EAAOG,UADtC,cAAAb,EAAAu9C,EAAA8J,KACE0pD,EADF/wG,EACE+wG,SADFxzD,EAAA3nB,KAAA,EAEekzF,GAAU,CAAEpoH,SAAQqwG,aAFnC,cAEAiY,EAFAzrE,EAAA8J,KAIAutD,EAAYlnG,KAAKs3C,MACtBt3C,KAAKi8G,SAAW/2G,OAAOg3G,kBACtBxgG,WAGImhF,EAAO2e,GAAiB,CAAErI,UADd,CAAC,CAAE95G,KAAM,OAAQqV,KAAM,aAAczJ,MAAOiiG,MARxDr3D,EAAA3nB,KAAA,GAUkBozF,EAAOzB,YAAYhd,EAAM,CAAEmd,KAAK,IAVlD,eAUA9G,EAVArjE,EAAA8J,KAAA9J,EAAA27B,OAAA,SAAAt6E,OAAAC,EAAA,EAAAD,CAAA,GAaFgiH,EAbE,CAcLhM,YACArK,UAfK,yBAAAhtD,EAAAxnB,SAAAunB,6BA0BA,SAAeupE,GAAtBnb,GAAA,OAAAme,GAAAp3G,MAAA4d,KAAA3yB,wDAAO,SAAAkgD,EAAAl+C,GAAA,IAAAigF,EAAAqpC,EAAAzD,EAAA3E,EAAA,OAAAvrF,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cAAwB+pD,EAAxBjgF,EAAwBigF,GAAIqpC,EAA5BtpH,EAA4BspH,OAA5BnrE,EAAAjoB,KAAA,EACYozF,EAAOzB,YAAY,IAAIuC,eAAYnqC,GAAIoqC,UAAW,CACnErC,KAAK,IAFA,cACAnC,EADA1nE,EAAAwJ,KAIAu5D,EAAYoJ,oBAASzE,EAAI3E,WAJzB/iE,EAAAq7B,OAAA,SAKC0nC,GALD,wBAAA/iE,EAAA9nB,SAAA6nB,6BAQA,SAAeqsE,GAAtBne,GAAA,OAAAoe,GAAAz3G,MAAA4d,KAAA3yB,wDAAO,SAAAqgD,EAAAl+C,GAAA,IAAA4gB,EAAAuoG,EAAAtT,EAAAyU,EAAAC,EAAAC,EAAAC,EAAAC,EAAA5qC,EAAA,OAAAtqD,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,OAAyCnV,EAAzC5gB,EAAyC4gB,KAAMuoG,EAA/CnpH,EAA+CmpH,OAC/CtT,EAAa,GADbyU,GAAA,EAAAC,GAAA,EAAAC,OAAAzsH,EAAAogD,EAAAxwB,KAAA,EAAA88F,EAEW7pG,EAFX+pG,OAAAC,YAAA,UAAAN,GAAAI,EAAAD,EAAA10F,QAAA80F,KAAA,CAAA1sE,EAAApoB,KAAA,gBAEK+pD,EAFL4qC,EAAA53G,MAAAqrC,EAAAi7B,GAGLy8B,EAHK13D,EAAApoB,KAAA,GAGiBixF,GAAO,CAAElnC,KAAIqpC,WAH9B,QAAAhrE,EAAA2mE,GAAA3mE,EAAAqJ,KAAArJ,EAAAi7B,GAGMzgE,KAHNgY,KAAAwtB,EAAAi7B,GAAAj7B,EAAA2mE,IAAA,QAAAwF,GAAA,EAAAnsE,EAAApoB,KAAA,gBAAAooB,EAAApoB,KAAA,iBAAAooB,EAAAxwB,KAAA,GAAAwwB,EAAAinE,GAAAjnE,EAAA,SAAAosE,GAAA,EAAAC,EAAArsE,EAAAinE,GAAA,QAAAjnE,EAAAxwB,KAAA,GAAAwwB,EAAAxwB,KAAA,GAAA28F,GAAA,MAAAG,EAAAK,QAAAL,EAAAK,SAAA,WAAA3sE,EAAAxwB,KAAA,IAAA48F,EAAA,CAAApsE,EAAApoB,KAAA,eAAAy0F,EAAA,eAAArsE,EAAA4sE,OAAA,mBAAA5sE,EAAA4sE,OAAA,mBAAA5sE,EAAAk7B,OAAA,SAMCw8B,GAND,yBAAA13D,EAAAjoB,SAAAgoB,EAAA,kFC9ED8sE,GAAwB,SAAAvsH,GAAiB,IAAdk1G,EAAcl1G,EAAdk1G,QAChC,OAAO,IAAI0B,GAAU,CAAE1B,aAGlBsX,GAAgB,SAAA9rH,GAAkB,IAAf0K,EAAe1K,EAAf0K,SAClB+kD,GAAU/kD,EAAS2jD,YAAc3jD,EAASwX,KAAKmsC,YAAY,GAC3DqB,GAAYhlD,EAAS2jD,YAAc3jD,EAASwX,KAAKmsC,YAAY,GAMnE,MAAO,CACNoB,OAAQ,CAAE6kD,UANauX,GAAsB,CAAErX,QAAS/kD,EAAO9jD,MAMzBogH,UAAWt8D,GACjDC,SAAU,CAAE4kD,UANauX,GAAsB,CAC/CrX,QAAS9kD,EAAS/jD,MAKwBogH,UAAWr8D,KAIjDymD,GAAkB,SAAAjC,GACvB,OAAIA,EAAIr4F,QAAU,KAAOq4F,EAAIr4F,OAAS,IAC9Bq4F,EAAIkC,OAGLlC,EAAIp/E,OAAOkoE,KAAK,SAAAloE,GACtBm/E,GAAwB,CAAEC,MAAKp/E,YAIpBk3F,GAAqB,eAAAzrH,EAAAX,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAC,EAAAp2B,GAAA,IAAA8rH,EAAA5qH,EAAAM,EAAAD,EAAAwqH,EAAAxrH,EAAAqxG,EAAAiY,EAAArC,EAAA//F,EAAA,OAAAyO,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,UAASq1F,EAAT9rH,EAAS8rH,YAAa5qH,EAAtBlB,EAAsBkB,QAClDM,EAAqBN,EAArBM,SAAUD,EAAWL,EAAXK,SACZwqH,GAAgBvqH,EAASwqH,qBAAuB,IAAIF,IAFtB,CAAAt1F,EAAAC,KAAA,eAAAD,EAAAujD,OAAA,SAI5BgyC,GAJ4B,cAAAv1F,EAAAC,KAAA,EAOTu7E,aAAUzwG,EAAOG,UAPR,cAAAnB,EAAAi2B,EAAA0xB,KAO5B0pD,EAP4BrxG,EAO5BqxG,SAP4Bp7E,EAAAC,KAAA,GAQfkzF,GAAU,CAAEpoH,SAAQqwG,aARL,eAQ9BiY,EAR8BrzF,EAAA0xB,KAU9Bs/D,EAAU,CACfxhH,GAAI8lH,EACJtqH,SAAUA,EAAS7B,QACnBssH,IAAK19G,KAAKs3C,MAAM13C,KAAKq+C,MAAQ,MAGxB/kC,EAAQykG,KAAIlnB,KAAK6kB,EAAQrC,GAhBKhxF,EAAAujD,OAAA,SAkB7BtyD,GAlB6B,yBAAA+O,EAAAI,SAAAR,MAAH,gBAAAS,GAAA,OAAAz2B,EAAAkT,MAAA4d,KAAA3yB,YAAA,GAqB5B4tH,GAAW,eAAAtrH,EAAApB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAgoB,EAAAz9C,GAAA,IAAA0rH,EAAA7hH,EAAAogC,EAAAzpC,EAAAmrH,EAAA98D,EAAAD,EAAAg9D,EAAAC,EAAAC,EAAAC,EAAA,OAAAv2F,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAASlsB,EAAT7J,EAAS6J,SAAUogC,EAAnBjqC,EAAmBiqC,QAASzpC,EAA5BR,EAA4BQ,QAA5BmrH,EACUV,GAAc,CAAEphH,aAArCglD,EADW88D,EACX98D,SAAUD,EADC+8D,EACD/8D,OADClR,EAAA3nB,KAAA,EAGao1F,GAAsB,CACrDC,YAAav8D,EAASq8D,UAAU5lH,GAChC9E,YALkB,cAGborH,EAHaluE,EAAA8J,KAAA9J,EAAA3nB,KAAA,EAOWo1F,GAAsB,CACnDC,YAAax8D,EAAOs8D,UAAU5lH,GAC9B9E,YATkB,cAObqrH,EAPanuE,EAAA8J,KAAA9J,EAAA3nB,KAAA,GAWU84B,EAAS4kD,UACpCY,MAD2Bt1G,OAAAC,EAAA,EAAAD,CAAA,GAExBkrC,EAFwB,CAG3B0qE,QAAQ51G,OAAAC,EAAA,EAAAD,CAAA,GACJkrC,EAAQ0qE,QADL,CAENqX,cApEkB,UAoEaJ,OAGhCzvB,KAAKmZ,IAnBY,eAWbwW,EAXapuE,EAAA8J,KAAA9J,EAAA3nB,KAAA,GAqBQ64B,EAAO6kD,UAChCY,MADyBt1G,OAAAC,EAAA,EAAAD,CAAA,GAEtBkrC,EAFsB,CAGzB0qE,QAAQ51G,OAAAC,EAAA,EAAAD,CAAA,GACJkrC,EAAQ0qE,QADL,CAENqX,cA9EkB,UA8EaH,OAGhC1vB,KAAKmZ,IA7BY,eAqBbyW,EArBaruE,EAAA8J,KAAA9J,EAAA27B,OAAA,SA+BZ,CACN4yC,QAAS,CACRH,iBACAC,gBAEDG,YAAUR,EAAA,GAAA3sH,OAAA++B,GAAA,EAAA/+B,CAAA2sH,EACR78D,EAASvpD,GAAKsmH,GADN7sH,OAAA++B,GAAA,EAAA/+B,CAAA2sH,EAER98D,EAAOtpD,GAAKumH,GAFJH,KApCQ,yBAAAhuE,EAAAxnB,SAAAunB,MAAH,gBAAAW,GAAA,OAAAj+C,EAAAyS,MAAA4d,KAAA3yB,YAAA,GA2CJsuH,GAAoB,SAAA7rH,GAAkB,IAAfuJ,EAAevJ,EAAfuJ,SAGnC,OAFmBohH,GAAc,CAAEphH,aAA3B+kD,OAEM6kD,UACZY,MAAM,CACND,MAAK,WAAA5sG,OAAaqC,EAASvE,GAAtB,kBACLqwF,OAAQ,QAERwG,KAAKmZ,KAGK9rC,GAAgB,SAAA7nE,GAA2B,IAAxBkI,EAAwBlI,EAAxBkI,SAAUrJ,EAAcmB,EAAdnB,QACnCypC,EAAU,CACfmqE,MAAK,WAAA5sG,OAAaqC,EAASvE,GAAtB,WACLqwF,OAAQ,OACR9sD,KAAMrrB,KAAKC,UAAU,CAAE2uG,OAAQ,CAAC,CAAEllH,KAAM,YACxCytG,QAAS,CAAEoB,eAAgB,qBAG5B,OAAO0V,GAAY,CAAE5hH,WAAUogC,UAASzpC,aAG5B6rH,GAAkB,SAAAvqH,GAA2C,IAAxC+H,EAAwC/H,EAAxC+H,SAAUrJ,EAA8BsB,EAA9BtB,QAASqxD,EAAqB/vD,EAArB+vD,eAC9C5nB,EAAU,CACfmqE,MAAK,WAAA5sG,OAAaqC,EAASvE,GAAtB,WACLqwF,OAAQ,OACR9sD,KAAMrrB,KAAKC,UAAU,CACpB2uG,OAAQ,CAAC,CAAEllH,KAAM,mBAAoB2qD,qBAEtC8iD,QAAS,CAAEoB,eAAgB,qBAG5B,OAAO0V,GAAY,CAAE5hH,WAAUogC,UAASzpC,aAG5B8rH,GAAiB,eAAAnqH,EAAApD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAmoB,EAAA57C,GAAA,IAAAuqH,EAAA12G,EAAAC,EAAAnI,EAAAi7F,EAAAzkG,EAAAqoH,EAAAzkH,EAAAE,EAAAwkH,EAAAhZ,EAAAiZ,EAAA,OAAAl3F,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,cAChCw2F,EADgCvqH,EAChCuqH,WACA12G,EAFgC7T,EAEhC6T,UACAC,EAHgC9T,EAGhC8T,OACAnI,EAJgC3L,EAIhC2L,UACAi7F,EALgC5mG,EAKhC4mG,MACAzkG,EANgCnC,EAMhCmC,KACAqoH,EAPgCxqH,EAOhCwqH,iBACAzkH,EARgC/F,EAQhC+F,MACAE,EATgCjG,EAShCiG,IACAwkH,EAVgCzqH,EAUhCyqH,cA3IoC5mH,6BA8I9B4tG,EAAYuX,GAAsB,CAAErX,QA9IN9tG,+BAiIJg4C,EAAA9nB,KAAA,EAeP09E,EACvBY,MAAM,CACND,MAAK,cAAA5sG,OAAgBrD,GACrBwxF,OAAQ,MACR6e,YAAa,CACZ1+F,SACAnI,YACAi7F,QACA4jB,mBACA32G,YACA9N,QACAE,MACAwkH,gBACAE,SAAUhpH,KAAUipH,sBAErBjY,QAAS,CACRqX,cAjKkB,UAiKaO,KAGhCpwB,KAAKmZ,IAlCyB,cAe1BoX,EAf0B7uE,EAAA2J,KAAA3J,EAAAw7B,OAAA,SAoCzB,CAAEqzC,aAAY52G,WApCW,wBAAA+nC,EAAA3nB,SAAA0nB,MAAH,gBAAAkqD,GAAA,OAAA3lG,EAAAyQ,MAAA4d,KAAA3yB,YAAA,GAuCjBgvH,GAAyB,eAAApqH,EAAA1D,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAsoB,EAAAz7C,GAAA,IAAAiqH,EAAA12G,EAAA49F,EAAAiZ,EAAA,OAAAl3F,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cAASw2F,EAATjqH,EAASiqH,WAAY12G,EAArBvT,EAAqBuT,UAxKzBhQ,6BA0K9B4tG,EAAYuX,GAAsB,CAAErX,QA1KN9tG,+BAwKIm4C,EAAAjoB,KAAA,EAIf09E,EACvBY,MAAM,CACND,MAAK,sBACLze,OAAQ,MACR6e,YAAa,CAAE3+F,aACf8+F,QAAS,CACRqX,cAnLkB,UAmLaO,KAGhCpwB,KAAKmZ,IAbiC,cAIlCoX,EAJkC1uE,EAAAwJ,KAAAxJ,EAAAq7B,OAAA,SAejCqzC,GAfiC,wBAAA1uE,EAAA9nB,SAAA6nB,MAAH,gBAAA8tD,GAAA,OAAAppG,EAAAmQ,MAAA4d,KAAA3yB,YAAA,GAmCzBivH,GAAkB,eAAA1pH,EAAArE,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAyoB,EAAAj7C,GAAA,IAAAspH,EAAA3jB,EAAAj7F,EAAAkI,EAAAC,EAAA3R,EAAA4D,EAAAE,EAAAukH,EAAA/Y,EAAA15F,EAAA,OAAAyb,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,cACjCw2F,EADiCtpH,EACjCspH,WACA3jB,EAFiC3lG,EAEjC2lG,MACAj7F,EAHiC1K,EAGjC0K,UACAkI,EAJiC5S,EAIjC4S,UACAC,EALiC7S,EAKjC6S,OACA3R,EANiClB,EAMjCkB,KACA4D,EAPiC9E,EAOjC8E,MACAE,EARiChF,EAQjCgF,IACAukH,EATiCvpH,EASjCupH,iBApNoC3mH,6BAuN9B4tG,EAAYuX,GAAsB,CAAErX,QAvNN9tG,+BA2MHs4C,EAAApoB,KAAA,EAcZ09E,EACnBY,MAAM,CACND,MAAK,cAAA5sG,OAAgBrD,GACrBwxF,OAAQ,MACR6e,YAAa,CACZ5L,QACAj7F,YACAkI,YACAC,SACA/N,QACAE,MACAukH,oBAED7X,QAAS,CACRqX,cAxOkB,UAwOaO,KAGhCpwB,KAAKmZ,IA/B0B,cAc3Bv7F,EAd2BokC,EAAAqJ,KAAArJ,EAAAk7B,OAAA,SAgC1Bt/D,GAhC0B,wBAAAokC,EAAAjoB,SAAAgoB,MAAH,gBAAA+tD,GAAA,OAAA7oG,EAAAwP,MAAA4d,KAAA3yB,YAAA,GCrMzBkvH,GAAkB1wG,aAAU2wG,WAAW3wG,aAAU+jE,wBAEjD6sC,GAAwB,SAAAxuH,GAAmC,IAAhCsoB,EAAgCtoB,EAAhCsoB,MAAOksE,EAAyBx0F,EAAzBw0F,QAAStzF,EAAgBlB,EAAhBkB,UAChD,GAAIonB,EAAM9nB,UAAYU,EAAUV,QAC/B,OAAOg0F,EAGR,IAAMi6B,EAAW3uH,eAA0BwoB,EAAM9nB,SAMjD,OAHiBopB,wBAAa6kG,EAASp/G,KAAKg7D,IAAIzgD,wBAAa,IAEhCygD,IAAIzgD,wBAAa,IAAI4yF,IAAIhoB,GACjCA,EAAU5qE,wBAAa,IAGhC8kG,GAAsB,eAAA7tH,EAAAP,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAgoB,EAAAt+C,GAAA,IAAAP,EAAAwuH,EAAA9jG,EAAA,OAAAkM,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAASn3B,EAATO,EAASP,IACxCwuH,EAAiBluH,eADcw+C,EAAA3nB,KAAA,EAEVh3B,OAAOuK,OAAO1K,GAAKD,OAAnB,eAAAe,EAAAX,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAC1B,SAAAC,EAAO23F,GAAP,IAAAxtH,EAAAozF,EAAA/xE,EAAAkI,EAAArC,EAAAumG,EAAAlc,EAAAvzG,UAAA,OAAA23B,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAAl2B,EAAAuxG,EAAAtzG,OAAA,QAAAC,IAAAqzG,EAAA,GAAAA,EAAA,GAA8C,GAA1Bne,EAApBpzF,EAAoBozF,QAAS/xE,EAA7BrhB,EAA6BqhB,aAA7B4U,EAAAC,KAAA,EACuBs3F,EADvB,UACOjkG,EADP0M,EAAA0xB,KAGOzgC,EAAQqmG,EAAelsG,IAOPmH,wBAAa4qE,GAASzqE,GAAGH,wBAAa,IAV7D,CAAAyN,EAAAC,KAAA,gBAAAD,EAAAC,KAAA,EAaUw3F,GAAsB,CAC5BxmG,QACAksE,YAfJ,OAAAn9D,EAAAsjD,GAAAtjD,EAAA0xB,KAAA1xB,EAAAC,KAAA,iBAAAD,EAAAsjD,GAiBI/wD,wBAAa,GAjBjB,eAYOilG,EAZPx3F,EAAAsjD,GAAAtjD,EAAAujD,OAAA,SAmBQjwD,EAAQzY,IAAI28G,IAnBpB,yBAAAx3F,EAAAI,SAAAR,MAD0B,gBAAA0oB,GAAA,OAAA1+C,EAAAkT,MAAA4d,KAAA3yB,YAAA,GAsB1BunD,QAAQC,QAAQh9B,wBAAa,KAxBO,cAE/BiB,EAF+Bo0B,EAAA8J,KAAA9J,EAAA27B,OAAA,SA2B9B/vD,GA3B8B,wBAAAo0B,EAAAxnB,SAAAunB,MAAH,gBAAAtnB,GAAA,OAAA72B,EAAAsT,MAAA4d,KAAA3yB,YAAA,GA8BtB2vH,GAAyB,eAAArtH,EAAApB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAsoB,EAAA/9C,GAAA,IAAAf,EAAAwuH,EAAAntH,EAAAotH,EAAAC,EAAAvuH,EAAAO,EAAAiuH,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAx4F,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cACxC92B,EADwCe,EACxCf,QACAwuH,EAFwCztH,EAExCytH,gBAFwCzvE,EAAAjoB,KAAA,EAIbu7E,aAAUzwE,KAAW6nE,UAJR,cAAApoG,EAAA09C,EAAAwJ,KAIhCkmE,EAJgCptH,EAIhCotH,SAJgCC,EAKK1vH,eAArCmB,EALgCuuH,EAKhCvuH,sBAAuBO,EALSguH,EAKThuH,UACzBiuH,EAAgBxuH,EAAsBG,IAAtB,eAAAoC,EAAA5C,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAA0B,SAAAmoB,EAAM72B,GAAN,IAAAknG,EAAAh7B,EAAAi7B,EAAAZ,EAAA,OAAA93F,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,cACzCk4F,EAAgBP,EAAS3mG,GADgB82B,EAAA9nB,KAAA,EAGzBk4F,EAActc,UAAU1yG,GAHC,cAGzCg0F,EAHyCp1C,EAAA2J,KAKzC0mE,EAAYT,EACfx6B,EACAg6B,GAAsB,CACtBlmG,QACApnB,YACAszF,YAV4Cp1C,EAAA9nB,KAAA,EAahBw3F,GAAsB,CACpDxmG,QACAksE,QAASi7B,IAfqC,cAazCZ,EAbyCzvE,EAAA2J,KAAA3J,EAAAw7B,OAAA,SAkBxC,CAAEtyD,QAAOksE,QAASi7B,EAAWZ,qBAlBW,wBAAAzvE,EAAA3nB,SAAA0nB,MAA1B,gBAAAiuD,GAAA,OAAAlqG,EAAAiR,MAAA4d,KAAA3yB,YAAA,IANkBmgD,EAAAjoB,KAAA,EA2BjBqvB,QAAQxmD,IAAIgvH,GA3BK,cA2BlCC,EA3BkC7vE,EAAAwJ,KAAAsmE,EA4BcD,EAASlvH,OAC9D,SAACwZ,EAAMg2G,GASN,OARAh2G,EAAK41G,wBAA0B51G,EAAK41G,wBAAwBp9G,IAC3Dw9G,EAAYb,kBAGTa,EAAYpnG,MAAM9nB,UAAYU,EAAUV,UAC3CkZ,EAAK61G,iBAAmBG,EAAYl7B,SAG9B96E,GAER,CACC41G,wBAAyB1lG,wBAAa,GACtC2lG,iBAAkB3lG,wBAAa,KAdzB0lG,EA5BgCD,EA4BhCC,wBAAyBC,EA5BOF,EA4BPE,iBA5BOhwE,EAAAq7B,OAAA,SA8CjC,CACNw0C,WACAG,mBACAD,4BAjDuC,yBAAA/vE,EAAA9nB,SAAA6nB,MAAH,gBAAA+pD,GAAA,OAAA3nG,EAAAyS,MAAA4d,KAAA3yB,YAAA,GAqD/B,SAAeuwH,GAAtBniB,GAAA,OAAAoiB,GAAAz7G,MAAA4d,KAAA3yB,wDAAO,SAAA65G,EAAA51G,GAAA,IAAA7C,EAAAwuH,EAAAhqH,EAAAytG,EAAAod,EAAAT,EAAAzrH,EAAA,OAAAozB,EAAA53B,EAAAi4B,KAAA,SAAA8hF,GAAA,cAAAA,EAAAhqF,KAAAgqF,EAAA5hF,MAAA,cAAoC92B,EAApC6C,EAAoC7C,QAASwuH,EAA7C3rH,EAA6C2rH,gBAA7C9V,EAAA5hF,KAAA,EACqBu7E,aAAUzwE,KAAW6nE,UAD1C,cAAAjlG,EAAAk0G,EAAAnwD,KACE0pD,EADFztG,EACEytG,SAEFod,EAAQ,CACbpd,EAASqd,WAAWtvH,EAAQA,SAC5BuuH,GAA0B,CACzBvuH,QAASA,EAAQA,QACjBwuH,qBAPI9V,EAAA5hF,KAAA,EAWiBqvB,QAAQxmD,IAAI0vH,GAX7B,cAWAT,EAXAlW,EAAAnwD,KAYAplD,EAAY,CACjBnD,QAASA,EAAQA,QACjBk2B,KAAMl2B,EAAQuvH,gBAAkBvvH,EAAQk2B,KACxC49D,WAAY07B,uBAAYZ,EAAS,GAAGtkG,YACpCypE,eAAgB66B,EAAS,GAAGA,SAAStuH,IAAI,SAAA6nB,GAAwB,IAArBL,EAAqBK,EAArBL,MAAOksE,EAAc7rE,EAAd6rE,QAClD,MAAO,CACNA,QAASh8E,aAAkBg8E,EAASlsE,EAAM5F,UAAU,EAAO,GAC3D+G,OAAQnB,EAAMmB,WAnBXyvF,EAAAt+B,OAAA,SAwBCj3E,GAxBD,yBAAAu1G,EAAAzhF,SAAAwhF,6BA2BA,SAAegX,GAAtBxiB,GAAA,OAAAyiB,GAAA/7G,MAAA4d,KAAA3yB,wDAAO,SAAAk6G,EAAA/1G,GAAA,IAAAxB,EAAAouH,EAAAC,EAAAjwH,EAAAiC,EAAAC,EAAA7B,EAAAoU,EAAAy7G,EAAA/mD,EAAA5mD,EAAA4tG,EAAA/zG,EAAAg0G,EAAAC,EAAAX,EAAAh7G,EAAAS,EAAAm7G,EAAAC,EAAAC,EAAA9lG,EAAAsC,EAAA3pB,EAAAG,EAAA,OAAAozB,EAAA53B,EAAAi4B,KAAA,SAAAmiF,GAAA,cAAAA,EAAArqF,KAAAqqF,EAAAjiF,MAAA,cACNv1B,EADMwB,EACNxB,QADMouH,EAAA5sH,EAEN6sH,mCAFM,IAAAD,EAEwB,CAC7B/7G,MAAOwV,wBAAa,KACpB6lG,UAAW7lG,wBAAa,MAJnBumG,EAMNhwH,EANMoD,EAMNpD,IAEQiC,EAAqBL,EAArBK,OAAQC,EAAaN,EAAbM,SACR7B,EAAY6B,EAAZ7B,QATF+4G,EAAAjiF,KAAA,EAUwBu7E,aAAUzwE,KAAW6nE,UAV7C,cAAAr1F,EAAA2kG,EAAAxwD,KAUEsnE,EAVFz7G,EAUEy7G,YAVF/mD,EAWevoE,eAAb2hB,EAXF4mD,EAWE5mD,SAXF4tG,EAakBjuH,EAAhBka,cAbF,IAAA+zG,EAaW,GAbXA,EAcAC,EAAmBF,EAAY,CAAE7vH,YAdjC+4G,EAAArqF,KAAA,GAAAqqF,EAAAjiF,KAAA,GAiBCi5F,EAAiBK,WAjBlB,QAkBLJ,EAAmBD,EAAiBhrC,WAAWnjF,EAAO5B,SAlBjD+4G,EAAAjiF,KAAA,iBAAAiiF,EAAArqF,KAAA,GAAAqqF,EAAA5+B,GAAA4+B,EAAA,UAoBLiX,EAAmB7pE,QAAQC,QAAQrqC,EAAO9T,MAAQ,gBApB7C,eAuBAonH,EAAQ,CACbd,GAA0B,CAAEvuH,YAC5BgwH,EACA9B,GAAuB,CAAEvuH,SA1BpBo5G,EAAAjiF,KAAA,GAiCIqvB,QAAQxmD,IACjB0vH,EAAM/uH,IAAI,SAAAmR,GAAC,OACVA,EACEyrF,KAAK,SAAAkX,GAAG,OAAIA,IACZic,MAAM,SAAAh4G,SArCJ,eAAAhE,EAAA0kG,EAAAxwD,KAAAzzC,EAAAhV,OAAAsS,GAAA,EAAAtS,CAAAuU,EAAA,GAAA47G,EAAAn7G,EAAA,GA8BLo7G,OA9BK,IAAAD,EA8BoC,GA9BpCA,EA+BLE,EA/BKr7G,EAAA,GAgCLuV,EAhCKvV,EAAA,GA2CA6X,EACLujG,EAAuCpB,yBACvC1lG,wBAAa,GAGRpmB,EAAM,CACXktH,yCACAC,mBACAxjG,2BACAijG,4BAA6BA,EAA4BX,UACzDqB,iCAAkCV,EAA4Bh8G,MAC9DwqB,kCAAmCzR,EAAyBjb,IAC3Dk+G,EAA4BX,WAE7BsB,8BAA+B5jG,EAAyBjb,IACvDk+G,EAA4Bh8G,OAE7ByW,gBAGKlnB,EAAY,CACjBsiF,cAAe7jF,EAAO5B,QACtBwwH,eAAgB5uH,EAAOG,SACvBouH,iBAAkBrC,GAAgBqC,GAClC3qC,gBAAiB3jF,EAAS7B,QAC1B2sB,yBAA0B3U,aACzB2U,EACAzK,GACA,EACA,GAED0tG,4BAA6B53G,aAC5BhV,EAAI4sH,4BACJ1tG,GACA,EACA,GAEDouG,iCAAkCt4G,aACjChV,EAAIstH,iCACJpuG,GACA,EACA,GAEDkc,kCAAmCpmB,aAClChV,EAAIo7B,kCACJlc,GACA,EACA,GAEDquG,8BAA+Bv4G,aAC9BhV,EAAIutH,8BACJruG,GACA,EACA,GAEDmI,aAAcrS,aACbhV,EAAIqnB,cAAgB,IACpBnI,GACA,EACA,IAtGI62F,EAAA3+B,OAAA,SA0GC,CACNp3E,MACAG,cA5GK,yBAAA41G,EAAA9hF,SAAA6hF,EAAA,0CAkHA,SAAe2X,GAAtBpjB,GAAA,OAAAqjB,GAAA/8G,MAAA4d,KAAA3yB,wDAAO,SAAAu6G,EAAAj2G,GAAA,IAAAytH,EAAAC,EAAA/jF,EAAAgkF,EAAA,OAAAt6F,EAAA53B,EAAAi4B,KAAA,SAAAwiF,GAAA,cAAAA,EAAA1qF,KAAA0qF,EAAAtiF,MAAA,cAAuC65F,EAAvCztH,EAAuCytH,YACvCC,EAAUxnG,wBAAa,GAEvByjB,EAAU,CAAEj5B,MAAOg9G,EAAS3B,UAAW2B,GAEvCC,EAAiBF,EAAYjxH,OAAO,SAACoxH,EAASC,GAAO,IAClDC,EAAsCD,EAAtCC,YAAaC,EAAyBF,EAAzBE,qBACf7pG,EAAOtnB,OAAAC,EAAA,EAAAD,CAAA,GAAQgxH,GAMrB,OALA1pG,EAAQxT,MAAQwT,EAAQxT,MAAMlC,IAAIs/G,GAClC5pG,EAAQ6nG,UAAY7nG,EAAQ6nG,UAAUv9G,IACrC0X,wBAAa6nG,IAGP7pG,GACLylB,GAdGusE,EAAAh/B,OAAA,SAgBCy2C,GAhBD,wBAAAzX,EAAAniF,SAAAkiF,6BA8CA,SAAe+X,GAAtB3Y,GAAA,OAAA4Y,GAAAx9G,MAAA4d,KAAA3yB,wDAAO,SAAAs7G,EAAA12G,GAAA,IAAAmtH,EAAApvH,EAAA8qH,EAAA+E,EAAA/1G,EAAAg2G,EAAAC,EAAAC,EAAA,OAAAh7F,EAAA53B,EAAAi4B,KAAA,SAAAujF,GAAA,cAAAA,EAAAzrF,KAAAyrF,EAAArjF,MAAA,cACN65F,EADMntH,EACNmtH,YACApvH,EAFMiC,EAENjC,QAEM8qH,EAAsB9qH,EAAQM,SAASwqH,qBAAuB,GAE9D+E,EAAgBT,EAAYjxH,OAAO,SAACC,EAADoV,GAAsB,IAAA+jD,EAAd+9C,EAAc9hG,EAAd8hG,QAC1ClnD,GAAUknD,EAAQtoD,YAAcsoD,EAAQz0F,KAAKmsC,YAAY,GAAGloD,GAC5DupD,GAAYinD,EAAQtoD,YAAcsoD,EAAQz0F,KAAKmsC,YAAY,GAAGloD,GAQpE,OANgBvG,OAAAC,EAAA,EAAAD,CAAA,GACZH,GADYm5D,EAAA,GAAAh5D,OAAA++B,GAAA,EAAA/+B,CAAAg5D,EAEdnJ,EAAShwD,EAAIgwD,IAAW08D,EAAoB18D,IAAW,MAFzC7vD,OAAA++B,GAAA,EAAA/+B,CAAAg5D,EAGdlJ,EAAWjwD,EAAIiwD,IAAay8D,EAAoBz8D,IAAa,MAH/CkJ,KAOd,IAEGz9C,EAAOvb,OAAOub,KAAK+1G,GAEnBC,EAAah2G,EAAK/a,IAAL,eAAA+U,EAAAvV,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAS,SAAAqjF,EAAMp1F,GAAN,IAAAqD,EAAA,OAAAyO,EAAA53B,EAAAi4B,KAAA,SAAAkjF,GAAA,cAAAA,EAAAprF,KAAAorF,EAAAhjF,MAAA,WACvBs6F,EAAc3sG,GADS,CAAAq1F,EAAAhjF,KAAA,eAAAgjF,EAAA1/B,OAAA,SAEnBg3C,EAAc3sG,IAFK,cAAAq1F,EAAAhjF,KAAA,EAINo1F,GAAsB,CACzCC,YAAa1nG,EACbljB,YANyB,cAIpBumB,EAJoBgyF,EAAAvxD,KAAAuxD,EAAA1/B,OAAA,SASnBtyD,GATmB,wBAAAgyF,EAAA7iF,SAAA4iF,MAAT,gBAAAb,GAAA,OAAA3jG,EAAA1B,MAAA4d,KAAA3yB,YAAA,IArBbu7G,EAAArjF,KAAA,EAkCkBqvB,QAAQxmD,IAAI0xH,GAlC9B,cAkCAC,EAlCAnX,EAAA5xD,KAoCAgpE,EAAiBl2G,EAAK3b,OAAO,SAACC,EAAK8kB,EAAK+E,GAM7C,OALgB1pB,OAAAC,EAAA,EAAAD,CAAA,GACZH,EADYG,OAAA++B,GAAA,EAAA/+B,CAAA,GAEd2kB,EAAM6sG,EAAU9nG,MAIhB,IA3CG2wF,EAAA//B,OAAA,SA6CCm3C,GA7CD,yBAAApX,EAAAljF,SAAAijF,6BAgDP,IAAMsX,GAAgB,eAAAxtH,EAAAlE,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAyoB,EAAAr7C,GAAA,IAAAowF,EAAA,OAAAz9D,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,cAAAlzB,EAASkkB,MAAOksE,EAAhBpwF,EAAgBowF,QAAhB90C,EAAAk7B,OAAA,SAA8B4Z,GAA9B,wBAAA90C,EAAAjoB,SAAAgoB,MAAH,gBAAA05D,GAAA,OAAA30G,EAAA2P,MAAA4d,KAAA3yB,YAAA,GAEhB6yH,GAA8B,CAEnCC,6CAA8C,CAE7CC,6CAA8CH,IAG/CG,6CAA8C,CAE7CD,6CAA8CF,KAIzC,SAAelD,GAAtB1V,GAAA,OAAAgZ,GAAAj+G,MAAA4d,KAAA3yB,wDAAO,SAAA27G,EAAAp2G,GAAA,IAAA2jB,EAAAksE,EAAA69B,EAAA7xH,EAAA8xH,EAAA,OAAAv7F,EAAA53B,EAAAi4B,KAAA,SAAA4jF,GAAA,cAAAA,EAAA9rF,KAAA8rF,EAAA1jF,MAAA,UAAuChP,EAAvC3jB,EAAuC2jB,MAAOksE,EAA9C7vF,EAA8C6vF,QAA9C69B,EACctxH,gBAAZP,EADF6xH,EACE7xH,WAEQ8nB,EAAM9nB,QAHhB,CAAAw6G,EAAA1jF,KAAA,eAAA0jF,EAAApgC,OAAA,SAIE4Z,GAJF,cAAAwmB,EAAA1jF,KAAA,EAOyB26F,GAC9BzxH,EAAQwsC,eACP1kB,EAAM9nB,QAAQwsC,eAAe,CAC9B1kB,QACAksE,YAXK,cAOA89B,EAPAtX,EAAAjyD,KAAAiyD,EAAApgC,OAAA,SAcC03C,GAdD,wBAAAtX,EAAAvjF,SAAAsjF,2JC1UC3W,GAAqCV,KAArCU,eAAgBE,GAAqBZ,KAArBY,iBAElBM,GAAQ,IAAI2tB,aAAUvf,IACtBwf,GAAkB,IAAID,aAAUE,IAChCC,GAA0B,IAAIH,aAAUnuB,GAAeD,KACvDwuB,GAA4B,IAAIJ,aAAUjuB,GAAiBH,KACzDyuB,GAA2BxrH,6CAE5B,SAAeyrH,GAAtBn7F,GAAA,OAAAo7F,GAAA3+G,MAAA4d,KAAA3yB,wDAAO,SAAA63B,EAAAj3B,GAAA,IAAAoS,EAAA2gH,EAAAC,EAAA9D,EAAAzX,EAAAwb,EAAAvb,EAAAr2G,EAAA6xH,EAAAhyH,EAAAqkF,EAAAqyB,EAAAJ,EAAAG,EAAArxG,EAAA,OAAAywB,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cACNllB,EADMpS,EACNoS,MADM2gH,EAAA/yH,EAENgzH,oCAFM,IAAAD,EAEyB,YAFzBA,EAAA7D,EAWF1vH,eANHi4G,EALKyX,EAKLzX,oBACAwb,EANK/D,EAML+D,YACAvb,EAPKwX,EAOLxX,iBACAr2G,EARK6tH,EAQL7tH,qBACA6xH,EATKhE,EASLgE,SACAhyH,EAVKguH,EAULhuH,UAGKqkF,EAAa,CAAC,CAACnzE,EAAO,GAAI,CAAC/Q,EAAsB,IAEjDu2G,EAA2B,CAChC,CACC/3G,QAASozH,EACTE,QAASD,EACTE,WAAYJ,EACZK,aAAcnyH,EAAUV,QACxB8yH,eAAgB,SAIZ9b,EAAW+b,kCAChB7b,EACAnyB,EACA,CACCiuC,SAAU,EACVC,iBAAkB,EAClBC,sBAAuB9b,EAAyB92G,IAAI,SAAAsM,GAAC,OACpD,IAAIumH,wBAAqBvmH,GAAG6+F,UAG9B2nB,MAGKjc,EAAOqT,qBAAU54G,GAEjB9L,EAAeqtG,sBAAU,KAAA5qG,OACzB8qH,4BAAiBpc,EAAqBE,EAAMH,GAAU1sF,SAAS,SAzC/DuM,EAAAujD,OAAA,SA4CC,CACN68B,sBACAC,mBACAF,WACAG,OACArxG,eACAi/E,aACAqyB,6BAnDK,wBAAAvgF,EAAAI,SAAAR,6BAuDA,SAAe68F,GAAtBn0E,GAAA,OAAAo0E,GAAA5/G,MAAA4d,KAAA3yB,wDAAO,SAAA4/C,EAAAt+C,GAAA,IAAAqB,EAAA6+E,EAAAC,EAAAmzC,EAAA9yH,EAAAwhB,EAAA+G,EAAAwqG,EAAA7xH,EAAAC,EAAAc,EAAAZ,EAAAq8B,EAAAl7B,EAAA+uG,EAAAvO,EAAA+qB,EAAA3oH,EAAA4tH,EAAAC,EAAAhyG,EAAAiyG,EAAAjzC,EAAAkzC,EAAAC,EAAAC,EAAAj5G,EAAA,OAAAyb,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cACNv1B,EADMrB,EACNqB,QACA6+E,EAFMlgF,EAENkgF,iBACAC,EAHMngF,EAGNmgF,WACAmzC,EAJMtzH,EAINszH,YAEM9yH,EAAYH,eACV2hB,EAAyCxhB,EAAzCwhB,SAAU+G,EAA+BvoB,EAA/BuoB,OAAiBwqG,EAAc/yH,EAAvBV,QAClB4B,EAA4BL,EAA5BK,OAAQC,EAAoBN,EAApBM,SAAUc,EAAUpB,EAAVoB,MAClBZ,EAAaH,EAAbG,SACAq8B,EAAsCz7B,EAAMK,IAA5Co7B,kCAVFqgB,EAAA3nB,KAAA,EAWyCu7E,aAAUtwG,GAXnD,cAAAmB,EAAAu7C,EAAA8J,KAWE0pD,EAXF/uG,EAWE+uG,SAAUvO,EAXZxgG,EAWYwgG,SAAU+qB,EAXtBvrH,EAWsBurH,SAEtB3oH,EAAejE,EAAS7B,QAExB0zH,EAAavW,sBAAW/8B,EAAkBl+D,GAE1CyxG,EAAa,CAClB5D,iBAAkBjqH,EAClB+sH,aAAcY,EACdlxG,GAAIkxG,EACJv6G,KAAMkrF,GAAM4vB,UAAUC,SAASC,OAAO,CAAC7zC,EAAYqzC,IACnDC,YAAY,GAEPhyG,EAAO,CAACgyG,GAxBRl1E,EAAA3nB,KAAA,GA0BuBq9F,GAAiC,CAC7DC,wBAAyBV,EACzB/xG,OACA7b,eACAmsG,WACAvO,WACAniG,UACAktH,WACA98D,cAAeo5C,KAAgBC,WAlC1B,eA0BA4oB,EA1BAn1E,EAAA8J,KAAA9J,EAAA3nB,KAAA,GAqCau9F,GAAyB,CAAET,iBAAgBlzH,cArCxD,WAqCAigF,EArCAliC,EAAA8J,KAsCAsrE,EAAYzqG,wBAAagV,IAE3BuiD,EAAK2zC,QAAQ/qG,GAAGsqG,GAxCd,CAAAp1E,EAAA3nB,KAAA,eAyCC,IAAIgyE,MACTlpG,aAAE,oCAAqC,CACtC+J,KAAM,IAAApB,OACFyP,aACF67G,EAAUvpG,WACVpI,GACA,EACA,GALI,KAAA3Z,OAMA0gB,GANA,GAAA1gB,OAOFo4E,EAAK/sE,MAPH,KAAArL,OAOY0gB,GAPZ,GAAA1gB,OAQFyP,aAAkB07G,EAAWppG,WAAYpI,GARvC,KAAA3Z,OAQoD0gB,OAnDvD,WAyDA6qG,EAAcD,EAAU5pD,IAAI0W,EAAK2zC,SAEnCP,EAAuBL,EAEvBA,EAAWnqG,GAAGuqG,KACjBC,EAAuBD,EACvBF,EAAeH,GAAaG,EAAeH,GAAWnzH,IAAI,SAAAugF,GAQzD,OAPIA,EAAG8yC,aACN9yC,EAAG3nE,KAAOkrF,GAAM4vB,UAAUC,SAASC,OAAO,CACzC7zC,EACA0zC,EAAqBzpG,cAIhBu2D,MAIL2yC,EA3EE,CAAA/0E,EAAA3nB,KAAA,gBAAA2nB,EAAA27B,OAAA,SA4EE,CACNuG,KAAMA,EAAK/sE,MACX0gH,QAAS3zC,EAAK2zC,QACdP,uBACA9xC,MAAOjqE,aAAkB+7G,EAAsB7xG,GAC/C8uC,mBAAoB2vB,EAAK3vB,qBAjFrB,eAAAvS,EAAA3nB,KAAA,GAqFey9F,GAA0B,CAC9CzuH,eACA8tH,iBACAhyH,SACAqwG,aAzFK,eAqFAn3F,EArFA2jC,EAAA8J,KAAA9J,EAAA27B,OAAA,SA4FC,CACNt/D,WA7FK,yBAAA2jC,EAAAxnB,SAAAunB,6BAiGA,SAAeg2E,GAAtB3rB,GAAA,OAAA4rB,GAAA9gH,MAAA4d,KAAA3yB,wDAAO,SAAA+/C,EAAAt+C,GAAA,IAAAkB,EAAA+/E,EAAAC,EAAAiyC,EAAA5xH,EAAAC,EAAAwB,EAAA4uG,EAAAyiB,EAAAhxB,EAAA+qB,EAAA3oH,EAAA6uH,EAAAC,EAAAjzG,EAAAiyG,EAAApwH,EAAAoQ,EAAA0gH,EAAAtjE,EAAAl2C,EAAA,OAAAyb,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,cACNv1B,EADMlB,EACNkB,QACA+/E,EAFMjhF,EAENihF,QACAC,EAHMlhF,EAGNkhF,UACAiyC,EAJMnzH,EAINmzH,YAEQ5xH,EAAqBL,EAArBK,OAAQC,EAAaN,EAAbM,SANV+8C,EAAA9nB,KAAA,EAOoDu7E,aACzDzwG,EAAOG,UARF,cAAAsB,EAAAu7C,EAAA2J,KAOE0pD,EAPF5uG,EAOE4uG,SAAUyiB,EAPZrxH,EAOYqxH,UAAWhxB,EAPvBrgG,EAOuBqgG,SAAU+qB,EAPjCprH,EAOiCorH,SAGjC3oH,EAAejE,EAAS7B,QAExB20H,EAAoB,IAAI5C,aAAUruB,EAASC,KAE3CixB,EAAM,CACX7E,iBAAkBjqH,EAClB+sH,aAAc6B,EAAU10H,QACxBuiB,GAAIzc,EACJoT,KAAMy7G,EAAkBX,UAAUa,iBAAiBX,OAAO,CACzD5yC,EACAC,KAII5/D,EAAO,CAACizG,GAxBRh2E,EAAA9nB,KAAA,GAyBuBq9F,GAAiC,CAC7DxyG,OACA7b,eACAmsG,WACAvO,WACAniG,UACAktH,WACA98D,cAAeo5C,KAAgBE,mBAhC1B,WAyBA2oB,EAzBAh1E,EAAA2J,MAmCFirE,EAnCE,CAAA50E,EAAA9nB,KAAA,gBAAA8nB,EAAA9nB,KAAA,GAwCKu9F,GAAyB,CAClCT,mBAzCI,eAAApwH,EAAAo7C,EAAA2J,KAqCJ30C,EArCIpQ,EAqCJoQ,MACA0gH,EAtCI9wH,EAsCJ8wH,QACAtjE,EAvCIxtD,EAuCJwtD,mBAvCIpS,EAAAw7B,OAAA,SA2CE,CACNuG,KAAM/sE,EACN0gH,UACAtjE,uBA9CI,eAAApS,EAAA9nB,KAAA,GAkDey9F,GAA0B,CAC9CX,iBACA9tH,eACAlE,SACAqwG,WACAxzF,UAAW,CACV6iE,UACAC,eAzDI,eAkDAzmE,EAlDA8jC,EAAA2J,KAAA3J,EAAAw7B,OAAA,SA6DC,CACNt/D,WA9DK,yBAAA8jC,EAAA3nB,SAAA0nB,6BAiEP,SAASm2E,GAATr0H,GAMG,IALFkhB,EAKElhB,EALFkhB,KACAjhB,EAIED,EAJFC,UACAq0H,EAGEt0H,EAHFs0H,QACA5zH,EAEEV,EAFFU,QACA2E,EACErF,EADFqF,aACEkvH,EAC4CrzG,EAAKjiB,OAClD,SAAC0nB,EAASy5D,EAAInsE,GAAM,IACXugH,EAA0Bp0C,EAA1Bo0C,sBAUJpC,EAAe,GAmBnB,QA1BG1xH,KACA8zH,KACAA,EAAsB9zH,KACvB0/E,EAAGgyC,eAAiB1xH,IAAY0/E,EAAGgyC,eACpCnyH,EAAUV,UAAY+0H,GACtB5zH,IAAY4zH,IAKZ3tG,EAAQ8tG,kBAAoB9tG,EAAQ8tG,kBAAkBxjH,IACrD0X,wBAAa6rG,EAAsB9zH,KAEpC0xH,EAAekC,GAGhBlC,EAAeA,GAAgBhyC,EAAGgyC,cAAgBnyH,EAAUV,QAE5D6gF,EAAGgyC,aAAeA,EAClBhyC,EAAGkvC,kBAAoBlvC,EAAGkvC,kBAAoBjqH,GAAc0mC,cAE5DplB,EAAQwsG,eAAef,GAAvB,GAAAtqH,OAAAzI,OAAAgE,GAAA,EAAAhE,CACKsnB,EAAQwsG,eAAef,IAAiB,IAD7C,CAEChyC,IAGMz5D,GAER,CACC8tG,kBAAmB9rG,wBAAa,KAChCwqG,eAAgB,KAIlB,MAAO,CAAEA,eAxCPoB,EACMpB,eAuCiBsB,kBAxCvBF,EACsBE,mBA0ClB,SAAeC,GAAtBvoB,GAAA,OAAAwoB,GAAAzhH,MAAA4d,KAAA3yB,wDAAO,SAAAkgD,EAAAl+C,GAAA,IAAAy0H,EAAAxzC,EAAAtgF,EAAAiyH,EAAA5xH,EAAAC,EAAA+B,EAAAquG,EAAAyiB,EAAAjG,EAAA/qB,EAAA59F,EAAA8uH,EAAAU,EAAA3zG,EAAAiyG,EAAA2B,EAAA70H,EAAAsD,EAAA4P,EAAA0gH,EAAAtjE,EAAAl2C,EAAA,OAAAyb,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cAAAu+F,EAAAz0H,EAAgCihF,gBAAhC,IAAAwzC,EAA2C,GAA3CA,EAA+C9zH,EAA/CX,EAA+CW,QAASiyH,EAAxD5yH,EAAwD4yH,YACtD5xH,EAAqBL,EAArBK,OAAQC,EAAaN,EAAbM,SADVk9C,EAAAjoB,KAAA,EAEoDu7E,aACzDzwG,EAAOG,UAHF,cAAA6B,EAAAm7C,EAAAwJ,KAEE0pD,EAFFruG,EAEEquG,SAAUyiB,EAFZ9wH,EAEY8wH,UAAWjG,EAFvB7qH,EAEuB6qH,SAAU/qB,EAFjC9/F,EAEiC8/F,SAGjC59F,EAAejE,EAAS7B,QAExB40H,EAAM,CACX7E,iBAAkBjqH,EAClB+sH,aAAc6B,EAAU10H,QACxBuiB,GAAIqhF,GAAe5jG,QACnBkZ,KAAMg5G,GAAwB8B,UAAUwB,iBAAiBtB,OAAO,CAC/DtwB,GAAeC,eACfx9F,cAAGw7E,GACH/7E,KAIIwvH,EAAM,CACXvF,iBAAkBjqH,EAClB+sH,aAAc6B,EAAU10H,QACxBuiB,GAAIuhF,GAAiB9jG,QACrBkZ,KAAMi5G,GAA0B6B,UAAUyB,QAAQvB,OAAO,IAAA3rH,OACrDs5E,EADqD,KAAAt5E,OACzCu7F,GAAiBC,iBAI5BpiF,EAAO,CAACizG,EAAKU,GA3Bbv2E,EAAAjoB,KAAA,GA6BuBq9F,GAAiC,CAC7DxyG,OACA7b,eACAmsG,WACAvO,WACAniG,UACAktH,WACA98D,cAAeo5C,KAAgBG,YApC1B,eA6BA0oB,EA7BA70E,EAAAwJ,KAAAgtE,EAuCgBv2H,eAAd0B,EAvCF60H,EAuCE70H,UAvCFq+C,EAAAjoB,KAAA,GAwC+Cu9F,GACpD,CACCT,iBACAlzH,cA3CI,WAAAsD,EAAA+6C,EAAAwJ,KAwCE30C,EAxCF5P,EAwCE4P,MAAO0gH,EAxCTtwH,EAwCSswH,QAAStjE,EAxClBhtD,EAwCkBgtD,oBAMpBwiE,EA9CE,CAAAz0E,EAAAjoB,KAAA,gBAAAioB,EAAAq7B,OAAA,SA+CE,CACNuG,KAAM/sE,EACN0gH,UACAtjE,uBAlDI,eAAAjS,EAAAjoB,KAAA,GAsDey9F,GAA0B,CAC9CzuH,eACA8tH,iBACAhyH,SACAqwG,aA1DK,eAsDAn3F,EAtDAikC,EAAAwJ,KAAAxJ,EAAAq7B,OAAA,SA6DC,CACNt/D,WA9DK,yBAAAikC,EAAA9nB,SAAA6nB,6BAkEA,SAAeq1E,GAAtBnnB,GAAA,OAAA0oB,GAAA/hH,MAAA4d,KAAA3yB,wDAAO,SAAAqgD,EAAAl+C,GAAA,IAAA40H,EAAAvB,EAAAwB,EAAAjkE,EAAAkkE,EAAAl0G,EAAA7b,EAAAmsG,EAAAvO,EAAAniG,EAAAktH,EAAAhvH,EAAAq2H,EAAAC,EAAAr1H,EAAAq0H,EAAA5zH,EAAA60H,EAAAC,EAAAlG,EAAAmG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAnyH,EAAAoyH,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAlD,EAAAmD,EAAA,OAAAxgG,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,cAAA6+F,EAAA50H,EACNqzH,+BADM,IAAAuB,EACoB,IADpBA,EAAAC,EAAA70H,EAEN4wD,qBAFM,IAAAikE,EAEU,UAFVA,EAAAC,EAAA90H,EAGN4gB,YAHM,IAAAk0G,EAGC,GAHDA,EAIN/vH,EAJM/E,EAIN+E,aACAmsG,EALMlxG,EAKNkxG,SACAvO,EANM3iG,EAMN2iG,SACAniG,EAPMR,EAONQ,QACAktH,EARM1tH,EAQN0tH,SAEMhvH,EAAoBH,eACpBw2H,EAAW70H,eAXX80H,EAYkC/2H,eAAhC0B,EAZFq1H,EAYEr1H,UAAWq0H,EAZbgB,EAYahB,QAAS5zH,EAZtB40H,EAYsB50H,QACtB60H,EAAoBv2H,EAAkBiB,EAAUV,SAbhDk/C,EAAApoB,KAAA,EAekBm7E,EAAS+kB,QAAQlxH,GAfnC,UAAAo5C,EAAAi7B,GAAAj7B,EAAAqJ,KAeF0tE,EAAwD,OAftD/2E,EAAAi7B,GAgBF41C,EAAmB,KAEnBkG,IACHlG,EAAmB,IAAIxd,YAASzsG,EAAc49F,EAASC,IAAKsO,KAGxCgkB,EAtBf,CAAA/2E,EAAApoB,KAAA,gBAAAooB,EAAApoB,KAAA,GAuBIi5F,EAAiBkH,QAvBrB,QAAA/3E,EAAA2mE,GAAA3mE,EAAAqJ,KAuB8BwhB,WAvB9B7qB,EAAApoB,KAAA,iBAAAooB,EAAA2mE,GAwBH,EAxBG,eAsBAqQ,EAtBAh3E,EAAA2mE,GA0BAsQ,EAAU/sG,yBACd4sG,EAAkBkB,gBAAkB,IAAIvlE,IAAkB,KAGtDykE,EAAez0G,EAAK9iB,OACvBuqB,wBACC8sG,EAEEF,EAAkBmB,eADlBnB,EAAkBoB,WAEnB1lH,IACF0X,wBAAa4sG,EAAkBmB,gBAAgBttD,IAC9CzgD,wBAAazH,EAAK9iB,OAAS,KAG5BuqB,wBAAa,GAEVitG,EAAkBF,EAAQzkH,IAAI0kH,GAE9BE,EAA+BD,EAAgB3kH,IACpD0X,wBAAagrG,IA7CRl1E,EAAApoB,KAAA,GAmDIugG,GAAwB,CACjCjD,wBAAyBkC,EAEzB/0H,YAtDK,WAAA4C,EAAA+6C,EAAAqJ,KAAAguE,EAAApyH,EAiDLqyH,iBAjDK,IAAAD,EAiDO,GAjDPA,EAAAE,EAAAtyH,EAkDLuyH,0BAlDK,IAAAD,EAkDgB,GAlDhBA,EA0DAE,EAAmB7B,GAA4B,CACpDnzG,KAAM60G,EACN91H,YACAq0H,UACA5zH,UACA2E,iBAIK8wH,EAAmB9B,GAA4B,CACpDnzG,OACAjhB,YACAq0H,UACA5zH,UACA2E,kBASK+wH,EAAgBF,EAAiBzB,kBACrCxjH,IAAIklH,EAAiB1B,mBACrBxjH,IAAI0X,wBAAastG,EAAmBv1H,IAAY,KAE/BkyG,SArFb,CAAAn0D,EAAApoB,KAAA,gBAAAooB,EAAAinE,GAAA,GAAAjnE,EAAA6qE,GAAAjqH,OAAAgE,GAAA,EAAAhE,CAuFA62H,EAAiB/C,eAAemB,IAAY,IAvF5C71E,EAAAo4E,GAAAxzH,GAAA,EAAAo7C,EAAApoB,KAAA,GAwFMygG,GAAiB,CAC1B9I,WACA3oH,eACAivH,UACAe,WACA0B,WAAYX,IA7FT,QAAA33E,EAAAu4E,GAAAv4E,EAAAqJ,KAAArJ,EAAAw4E,IAAA,EAAAx4E,EAAAo4E,IAAAp4E,EAAAu4E,IAsFLd,EAAiB/C,eAAemB,GAtF3B71E,EAAAinE,GAAA59G,OAAAmpB,KAAAwtB,EAAAinE,GAAAjnE,EAAA6qE,GAAA7qE,EAAAw4E,IAAA,eAkGAZ,EAlGAh3H,OAAAgE,GAAA,EAAAhE,CAmGF,IAAI6R,IAAJ,GAAApJ,OAAAzI,OAAAgE,GAAA,EAAAhE,CACCA,OAAOub,KAAKs7G,EAAiB/C,iBAD9B9zH,OAAAgE,GAAA,EAAAhE,CAECA,OAAOub,KAAKu7G,EAAiBhD,oBAI5BA,EAAiBkD,EAAap3H,OAAO,SAACiiB,EAAMmG,GAMjD,OALAnG,EAAKmG,GAAL,GAAAvf,OAAAzI,OAAAgE,GAAA,EAAAhE,CACK62H,EAAiB/C,eAAe9rG,IAAU,IAD/ChoB,OAAAgE,GAAA,EAAAhE,CAEK82H,EAAiBhD,eAAe9rG,IAAU,KAGxCnG,GACL,IAECo1G,EAAeb,GACA,EAEnBp2H,OAAOub,KAAKu4G,GAAgB/iH,QAAQ,SAAA4T,GACnCmvG,EAAenvG,GAAOmvG,EAAenvG,GAAKnkB,IAAI,SAAAugF,GAAM,IAAA82C,EACmB92C,EAA9D+2C,4BAD2C,IAAAD,EACpB,EADoBA,EAAAE,EACmBh3C,EAApCi3C,wBADiB,IAAAD,EACE,EADFA,EACKE,EAAcl3C,EAAdk3C,UAClD9J,EAAWxuH,EAAkBohF,EAAGgyC,cAChCmF,EAA8B,IAAjBjB,EAEbkB,EAAcD,EACjB/J,EAASmJ,UACTW,EACA9J,EAASp/G,IACTo/G,EAASkJ,eAENe,GACaH,GAAal3C,EAAGgyC,eAAiBnyH,EAAUV,QAExDm4H,EAAyB/uG,wBAAawuG,GAAsB/tD,IACjEzgD,wBAAa6kG,EAASp/G,MAGjBupH,EAAkBhvG,wBAAa0uG,GAAkBjuD,IACtDzgD,wBAAa6kG,EAASkJ,iBAIjB1lE,EAAYroC,wBAAa6uG,GAC7BvmH,IAAIymH,GACJzmH,IAAI0mH,GACJ1mH,IAAIwmH,EAAa/B,EAAU/sG,wBAAa,IACxCkB,WAII+tG,EAA8BjvG,wBAAaqoC,GAK3C6mE,EAAax4H,OAAAC,EAAA,EAAAD,CAAA,GACdo4H,EAAa,CAAE/B,WAAY,GADb,CAElByB,uBACAO,yBACAL,mBACAM,kBACA3mE,YACAwmE,cACAD,aACAD,cAGKQ,EAAWz4H,OAAAC,EAAA,EAAAD,CAAA,GACb+gF,EADa,CAEhBgyC,aAAc5E,EAASjuH,QACvByxD,YACAwlE,MAAOF,EACPsB,8BACAC,gBACA3mE,kBAKD,OAFAolE,GAAgB,EAETwB,MAlLHr5E,EAAAk7B,OAAA,SAsLCw5C,GAtLD,yBAAA10E,EAAAjoB,SAAAgoB,6BAyLA,SAAeu5E,GAAtBvrB,GAAA,OAAAwrB,GAAA9kH,MAAA4d,KAAA3yB,wDAAO,SAAA65G,EAAAv3G,GAAA,IAAAutH,EAAA3mG,EAAAhiB,EAAA+sH,EAAA6F,EAAAC,EAAA3J,EAAApc,EAAAgmB,EAAA,OAAAriG,EAAA53B,EAAAi4B,KAAA,SAAA8hF,GAAA,cAAAA,EAAAhqF,KAAAgqF,EAAA5hF,MAAA,cACN23F,EADMvtH,EACNutH,SACA3mG,EAFM5mB,EAEN4mB,MACAhiB,EAHM5E,EAGN4E,aACA+sH,EAJM3xH,EAIN2xH,aACA6F,EALMx3H,EAKNw3H,kBACAC,EANMz3H,EAMNy3H,cAEM3J,EAAgBP,EAAS3mG,GARzB4wF,EAAA5hF,KAAA,EAUkBk4F,EAAcpc,UACrC9sG,EACA4yH,GAZK,cAUA9lB,EAVA8F,EAAAnwD,KAeAqwE,EAAc,GAEfhmB,EAAUS,UACdulB,EAAYl/G,KAAK,CAChBq2G,iBAAkBjqH,EAClB+sH,aAAcA,EACdtwG,GAAIuF,EAAM9nB,QACVkZ,KAAMkrF,GAAM4vB,UAAU6E,QAAQ3E,OAAO,CAACwE,EAAmB,MAI3DE,EAAYl/G,KAAK,CAChBq2G,iBAAkBjqH,EAClB+sH,aAAcA,EACdtwG,GAAIuF,EAAM9nB,QACVkZ,KAAMkrF,GAAM4vB,UAAU6E,QAAQ3E,OAAO,CAACwE,EAAmBC,MA9BpDjgB,EAAAt+B,OAAA,SAiCCw+C,GAjCD,wBAAAlgB,EAAAzhF,SAAAwhF,sCAoCQ8e,mFAAf,SAAAze,EAAAz3G,GAAA,IAAAyE,EAAAivH,EAAAe,EAAA0B,EAAA/I,EAAAmK,EAAAE,EAAA,OAAAviG,EAAA53B,EAAAi4B,KAAA,SAAAmiF,GAAA,cAAAA,EAAArqF,KAAAqqF,EAAAjiF,MAAA,cACChxB,EADDzE,EACCyE,aACAivH,EAFD1zH,EAEC0zH,QACAe,EAHDz0H,EAGCy0H,SACA0B,EAJDn2H,EAICm2H,WACA/I,EALDptH,EAKCotH,SALD1V,EAAAjiF,KAAA,EAO2B0hG,GAAe,CACxC/J,WACA3mG,MAAOguG,EACPhwH,eACA+sH,aAAckC,EACd2D,kBAAmBtG,GACnBuG,cAAenB,IAbjB,cAOOoB,EAPP7f,EAAAxwD,KAgBOuwE,EAAS,CACd/I,iBAAkBjqH,EAClB+sH,aAAckC,EACdxyG,GAAI6vG,GACJl5G,KAAM84G,GAAgBgC,UAAU+E,aAAa7E,OAAO,CAACsD,KApBvDze,EAAA3+B,OAAA,YAAA7xE,OAAAzI,OAAAgE,GAAA,EAAAhE,CAuBY84H,GAvBZ,CAuByBE,KAvBzB,wBAAA/f,EAAA9hF,SAAA6hF,6BA4BO,SAAeub,GAAtB/mB,GAAA,OAAA0rB,GAAArlH,MAAA4d,KAAA3yB,wDAAO,SAAAu6G,EAAAz2G,GAAA,IAAAkxH,EAAAqF,EAAAv4H,EAAAjB,EAAAmxH,EAAAsI,EAAAtlH,EAAAulH,EAAAC,EAAAC,EAAAroE,EAAA2vB,EAAA,OAAApqD,EAAA53B,EAAAi4B,KAAA,SAAAwiF,GAAA,cAAAA,EAAA1qF,KAAA0qF,EAAAtiF,MAAA,cACN88F,EADMlxH,EACNkxH,eADMqF,EAAAv2H,EAENhC,iBAFM,IAAAu4H,EAEM,GAFNA,EAIAx5H,EAAoBH,eACpBsxH,EAAUxnG,wBAAa,KALvB8vG,EAMqCp5H,OAAOuK,OAAOupH,GACvDl0H,OAAO,SAACC,EAAK25H,GAAN,OAAqB35H,EAAI4I,OAAO+wH,IAAa,IACpD55H,OACA,SAACob,EAAQ+lE,GAAO,IAEdy3C,EAIGz3C,EAJHy3C,cACAD,EAGGx3C,EAHHw3C,4BACAxF,EAEGhyC,EAFHgyC,aACAlhE,EACGkvB,EADHlvB,cAEO/9C,EAAmCkH,EAAnClH,MAAOulH,EAA4Br+G,EAA5Bq+G,QAASC,EAAmBt+G,EAAnBs+G,eAClBnB,EAAc7uG,wBAAaivG,GA+CjC,OA7CAv9G,EAAOlH,MAAQA,EAAMlC,IAAIumH,GACzBn9G,EAAOq+G,QAAQtG,IAAiBsG,EAAQtG,IAAiBjC,GAASl/G,IACjEumH,GAGDn9G,EAAOs+G,eAAiB,CACvBjD,QAAS/sG,wBAAagwG,EAAejD,SAAW,KAAKzkH,IACpD0X,wBAAakvG,EAAcnC,SAAW,MAEvCgC,uBAAwB/uG,wBACvBgwG,EAAejB,wBAA0B,KACxCzmH,IAAI0X,wBAAakvG,EAAcH,yBACjCC,gBAAiBhvG,wBAChBgwG,EAAehB,iBAAmB,KACjC1mH,IAAI0X,wBAAakvG,EAAcF,kBACjC3mE,UAAWroC,wBAAagwG,EAAe3nE,WAAa,KAAK//C,IACxD0X,wBAAakvG,EAAc7mE,YAE5BmmE,sBACEwB,EAAexB,sBAAwB,IACvCU,EAAcV,sBAAwB,GACxCE,kBACEsB,EAAetB,kBAAoB,IACnCQ,EAAcR,kBAAoB,GACpCyB,UACCH,EAAeG,WAAajB,EAAcP,UAAY,EAAI,GAC3DlmE,eACCunE,EAAevnE,gBACdunE,EAAexB,sBAAwB,IACvCU,EAAcP,UAAY,EAAI,GAChCjmE,mBAAoB1oC,wBACnBgwG,EAAetnE,oBAAsB,KACpCpgD,IACD0X,wBACCkvG,EAAcP,UACXO,EAAcL,YACdK,EAAcH,yBAGnBzmE,UAAW4mE,EAAcN,WACtB5uG,wBAAakvG,EAAcL,aAC3B,KACHtmE,iBAGM72C,GAER,CACClH,MAAOg9G,EACPuI,QAAS,GACTC,eAAgB,CAAEG,UAAW,EAAG1nE,eAAgB,KA/D3Cj+C,EANFslH,EAMEtlH,MAAOulH,EANTD,EAMSC,QAASC,EANlBF,EAMkBE,eAmElBC,EAAmBv5H,OAAOooB,QAAQixG,GAAS74H,IAAI,SAAAkE,GAAkB,IAAA2jB,EAAAroB,OAAAsS,GAAA,EAAAtS,CAAA0E,EAAA,GAAhBigB,EAAgB0D,EAAA,GAAXtU,EAAWsU,EAAA,GAAAqxG,EACzC/5H,EAAkBglB,GAAvCvC,EAD8Ds3G,EAC9Dt3G,SAAU+G,EADoDuwG,EACpDvwG,OAClB,MAAO,CACNjpB,QAASykB,EACTklD,IAAK3xD,aAAkBnE,EAAMyW,WAAYpI,GACzC+G,SACAwwG,aAAY,GAAAlxH,OAAKyP,aAChBnE,EAAMyW,WACNpI,GACA,EACA,GAJW,KAAA3Z,OAKP0gB,MAID+nC,EAxFAlxD,OAAAC,EAAA,EAAAD,CAAA,GAyFFs5H,EAzFE,CA0FLjD,QAASn+G,aACRohH,EAAejD,QAAQ7rG,WACvB5pB,EAAUwhB,UAAY,IACtB,EACA,GAEDuvC,UAAWz5C,aACVohH,EAAe3nE,UAAUnnC,WACzB5pB,EAAUwhB,UAAY,IACtB,EACA,GAEDi2G,uBAAwBngH,aACvBohH,EAAejB,uBAAuB7tG,WACtC5pB,EAAUwhB,UAAY,IACtB,EACA,GAEDk2G,gBAAiBpgH,aAChBohH,EAAehB,gBAAgB9tG,WAC/B5pB,EAAUwhB,UAAY,IACtB,EACA,GAED0vC,QAAS55C,aACRohH,EAAe3nE,UACbwY,IAAImvD,EAAetnE,oBACnBxnC,WACF5pB,EAAUwhB,UAAY,IACtB,EACA,GAED4vC,mBAAoB95C,aACnBohH,EAAetnE,mBAAmBxnC,WAClC5pB,EAAUwhB,UAAY,IACtB,EACA,GAEDwvC,UAAW0nE,EAAe1nE,UACvB15C,aACAohH,EAAe1nE,UAAUpnC,WACzB5pB,EAAUwhB,UAAY,IACtB,EACA,GAEA,OAGEy+D,EAAO,CAEZ/sE,MAAOoE,aACNpE,EAAM0W,WACN5pB,EAAUwhB,UAAY,IACtB,EACA,GAED8uC,qBACAsjE,QAAS1gH,EACTulH,QAASE,GApJJjgB,EAAAh/B,OAAA,SAuJCuG,GAvJD,wBAAAy4B,EAAAniF,SAAAkiF,6BA0JA,SAAeob,GAAtBhc,GAAA,OAAAmhB,GAAA/lH,MAAA4d,KAAA3yB,wDAAO,SAAAi7G,EAAAh3G,GAAA,IAAA+wH,EAAAhyH,EAAAqwG,EAAAnsG,EAAA6zH,EAAAl7G,EAAAyrG,EAAAvqH,EAAAqtH,EAAA,OAAAz2F,EAAA53B,EAAAi4B,KAAA,SAAAkjF,GAAA,cAAAA,EAAAprF,KAAAorF,EAAAhjF,MAAA,cACN88F,EADM/wH,EACN+wH,eACAhyH,EAFMiB,EAENjB,OACAqwG,EAHMpvG,EAGNovG,SACAnsG,EAJMjD,EAINiD,aAJM6zH,EAAA92H,EAKN4b,iBALM,IAAAk7G,EAKM,GALNA,EAAA7f,EAAAhjF,KAAA,EAOekzF,GAAU,CAAEpoH,SAAQqwG,aAPnC,cAOAiY,EAPApQ,EAAAvxD,KAQA5oD,EAAMG,OAAOuK,OAAOupH,GAAgBtzH,IAA9B,eAAA8T,EAAAtU,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAkC,SAAA+iF,EAAM5C,GAAN,IAAAC,EAAA19F,EAAA4B,EAAA,OAAAyb,EAAA53B,EAAAi4B,KAAA,SAAA4iF,GAAA,cAAAA,EAAA9qF,KAAA8qF,EAAA1iF,MAAA,cAAA0iF,EAAA1iF,KAAA,EACpBq0F,GAAwB,CAAExpG,KAAMg1F,EAASuT,WADrB,cACvCtT,EADuC4C,EAAAjxD,KAEvCrvC,EAFuCpZ,OAAAC,EAAA,EAAAD,CAAA,CAG5C62G,UACAC,aACA9wG,gBACG2Y,GANyC+6F,EAAA1iF,KAAA,EAgBxB4/E,GAAUx9F,GAhBc,cAgBvC4B,EAhBuC0+F,EAAAjxD,KAAAixD,EAAAp/B,OAAA,SAkBtC,CACNt/D,WAnB4C,wBAAA0+F,EAAAviF,SAAAsiF,MAAlC,gBAAAX,GAAA,OAAAxkG,EAAAT,MAAA4d,KAAA3yB,YAAA,IARNk7G,EAAAhjF,KAAA,EA+BgBqvB,QAAQxmD,IAAIA,GA/B5B,cA+BAqtH,EA/BAlT,EAAAvxD,KAAAuxD,EAAA1/B,OAAA,SAiCC4yC,GAjCD,wBAAAlT,EAAA7iF,SAAA4iF,6BAoCA,SAAe+f,GAAtBjhB,GAAA,OAAAkhB,GAAAlmH,MAAA4d,KAAA3yB,wDAAO,SAAAs7G,EAAAn3G,GAAA,IAAAxB,EAAA6+E,EAAAW,EAAAC,EAAAX,EAAAmzC,EAAAsG,EAAAp5H,EAAAkB,EAAAC,EAAAE,EAAAsS,EAAA49F,EAAAvO,EAAA+qB,EAAAvsG,EAAApc,EAAA4tH,EAAAC,EAAAhyG,EAAAiyG,EAAAjzC,EAAA7lE,EAAA,OAAAyb,EAAA53B,EAAAi4B,KAAA,SAAAujF,GAAA,cAAAA,EAAAzrF,KAAAyrF,EAAArjF,MAAA,cACNv1B,EADMwB,EACNxB,QACA6+E,EAFMr9E,EAENq9E,iBACAW,EAHMh+E,EAGNg+E,aACAC,EAJMj+E,EAINi+E,cACAX,EALMt9E,EAKNs9E,WACAmzC,EANMzwH,EAMNywH,YANMsG,EAQgB96H,eAAd0B,EARFo5H,EAQEp5H,UACAkB,EAAqBL,EAArBK,OAAQC,EAAaN,EAAbM,SACRE,EAAaH,EAAbG,SAVFo4G,EAAArjF,KAAA,EAWyCu7E,aAAUtwG,GAXnD,cAAAsS,EAAA8lG,EAAA5xD,KAWE0pD,EAXF59F,EAWE49F,SAAUvO,EAXZrvF,EAWYqvF,SAAU+qB,EAXtBp6G,EAWsBo6G,SACtBvsG,EAAWpI,SAASknE,EAAe,IAEnCl7E,EAAejE,EAAS7B,QAExB0zH,EAAavW,sBAAW/8B,EAAkBl+D,GAE1CyxG,EAAa,CAClB5D,iBAAkBjqH,EAClB+sH,aAAcnyH,EAAUV,QACxBuiB,GAAIw+D,EACJ7nE,KAAMkrF,GAAM4vB,UAAUC,SAASC,OAAO,CAAC7zC,EAAYqzC,KAE9C/xG,EAAO,CAACgyG,GAxBRxZ,EAAArjF,KAAA,GA0BuBq9F,GAAiC,CAC7DxyG,OACA7b,eACAmsG,WACAvO,WACAniG,UACAktH,WACA98D,cAAeo5C,KAAgBC,WAjC1B,eA0BA4oB,EA1BAzZ,EAAA5xD,KAAA4xD,EAAArjF,KAAA,GAoCau9F,GAAyB,CAAET,iBAAgBlzH,cApCxD,WAoCAigF,EApCAw5B,EAAA5xD,MAsCFirE,EAtCE,CAAArZ,EAAArjF,KAAA,gBAAAqjF,EAAA//B,OAAA,SAuCE,CACNuG,KAAMA,EAAK/sE,MACXo9C,mBAAoB2vB,EAAK3vB,mBACzBixB,MAAOjqE,aAAkB07G,EAAYxxG,KA1CjC,eAAAi4F,EAAArjF,KAAA,GA8Cey9F,GAA0B,CAC9CzuH,eACA8tH,iBACAhyH,SACAqwG,aAlDK,eA8CAn3F,EA9CAq/F,EAAA5xD,KAAA4xD,EAAA//B,OAAA,SAqDC,CACNt/D,WAtDK,yBAAAq/F,EAAAljF,SAAAijF,2CCzwBClW,GAAad,KAAbc,SACF+1B,GAAO,IAAIhI,aAAU/tB,GAASL,KAC9Bq2B,GAAoB,IAAIjI,aAAUkI,IAElCvrH,GAAY,IACZwrH,GAA0B,GAC1BC,GAAyB,OACzBC,GAAuB,CAC5BC,QAAQ,EACRC,OAAO,EACPC,WAAW,EACXC,SAAS,EACTC,WAAW,EACXC,UAAU,GAGLC,GAAqB,KAE3B,SAASC,GAAkB/jB,GAC1B,IAAMgkB,EAAWtvB,KACfG,WAAW,UACX99D,OAAOrvB,KAAKC,UAAUq4F,EAAQz0F,OAC9BupF,SAEF,OAAO,IAAImvB,WAAQ,CAClB/tH,MAAO8pG,EAAQ9pG,MACfg4D,QAAS8xC,EAAQ9xC,QACjB0uD,UAAW5c,EAAQ50F,aACnB84G,YAAalkB,EAAQ/zF,cACrB8vG,WAAY/b,EAAQ+b,WACpBrkE,WAAYsoD,EAAQz0F,KAAKmsC,WAAWjuD,IAAI,SAAAqtC,GAAC,OAAIA,EAAEtnC,KAC/C+b,KAAMy4G,IAaR,SAASG,GAATx7H,GAAiE,IAAhCy7H,EAAgCz7H,EAAhCy7H,MAAO/4G,EAAyB1iB,EAAzB0iB,SAAyBg5G,EAAA17H,EAAfy9B,eAAe,IAAAi+F,EAAL,EAAKA,EAChE,OAAO/d,sBAAW8d,GAAS,IAAK/4G,GAC9B4nD,IAAI1gD,wBAAa6T,IACjB3S,WAGH,SAAS6wG,GAAiBvwH,EAAU/I,EAAUnB,GAAW,IAChDwhB,EAAaxhB,EAAbwhB,SACFk5G,EAAc,IAAI9tH,YAAS1C,GAEjCwwH,EAAYr2D,QAAUljE,EAAS7B,QAC/Bo7H,EAAY32H,QAAU+J,KAAKq+C,MAC3BuuE,EAAYxI,WArBb,SAAuB/2G,EAAY/M,GAClC,IAAMinE,EAASjnE,EAAsB+M,EAC/B+2G,EACL9jH,EACAF,KAAK8E,IAAIqiE,EAASmkD,GAAyBC,IAE5C,OAAOvrH,KAAKs3C,MAAM0sE,EAAa,KAeNyI,CACxBD,EAAYv/G,WACZu/G,EAAYtsH,qBAEbssH,EAAYnE,MAAQ7tG,wBAAa6iF,uBAAY,KAAK3hF,WAClD8wG,EAAY3wH,QAAU2wH,EAAY3wH,QAAQnK,IAAI,SAAAwkG,GAAI,OAAI,IAAIr3F,UAAOq3F,GAAM1iF,OACvEg5G,EAAYt4G,cAAgBk4G,GAAsB,CACjDC,MAAOG,EAAYt4G,cACnBZ,aAGD,IAAMqsC,EAAa6sE,EAAY7sE,WAAWjuD,IAAI,SAAAqtC,GAC7C,IACMg8B,EADUvgD,wBAAagyG,EAAYt4G,eAAiB,GAExD+mD,IAAIzgD,wBAAaukB,EAAE6tE,QAAU,IAC7B1xC,IAAI1gD,wBAAaukB,EAAE8tE,QAAU,IAC7BnxF,WAEI2hG,EAAY,CACjB5lH,GAAIsnC,EAAEtnC,GACNwF,IAAK8hC,EAAE9hC,IACP89D,OAOD,OAJIh8B,EAAE+tE,UACLuQ,EAAUvQ,QAAU/tE,EAAE+tE,SAGhBuQ,IAGRmP,EAAY7sE,WAAaA,EAEzB,IAAME,EAAa3uD,OAAAC,EAAA,EAAAD,CAAA,GAAQs7H,EAAY3sE,eACjCsB,EAAUjwD,OAAAC,EAAA,EAAAD,CAAA,GAAQ2uD,EAAcO,YAyCtC,OAvCAe,EAAWlhD,IAAMmsH,GAAsB,CACtCC,MAAOlrE,EAAWlhD,IAClBqT,WACA+a,QAAS,MAEV8yB,EAAWr8C,IAAMsnH,GAAsB,CACtCC,MAAOlrE,EAAWr8C,IAClBwO,WACA+a,QAAS,MAEVwxB,EAAcO,WAAae,EAG3BqrE,EAAY3sE,cAAgBA,EAG5B2sE,EAAYl4G,iBAAmB6sC,EAAWlhD,IAC1CusH,EAAYxyD,iBAAmB7Y,EAAWr8C,IAE1C0nH,EAAYn5G,aAAevhB,EAAUV,QACrCo7H,EAAYE,gBAAkB,CAC7BC,MAAO,CACN,CACCC,KAAM,CACLJ,EAAYr2D,QACZq2D,EAAY7sE,WAAW,GAAGloD,GAC1B+0H,EAAY7sE,WAAW,GAAGloD,KAG5B,CAAEm1H,KAAM,KAAMC,UAAW,CAAExzH,KAAM,KAAMyG,iBAIzC0sH,EAAYr/G,OAAS,CACpBuB,KAAM,UACNsF,kBAAmB,UACnBrU,YAAaC,KAAKq+C,OAGZuuE,EAGR,IAAMM,GAA8B,eAAAr7H,EAAAP,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAC,EAAAv2B,GAAA,IAAA22G,EAAA7iB,EAAAluF,EAAArF,EAAAujG,EAAA,OAAAztE,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cACtC+/E,EADsC32G,EACtC22G,QACA7iB,EAFsC9zF,EAEtC8zF,QACAluF,EAHsC5F,EAGtC4F,aAHsC+wB,EAAAC,KAAA,EAKXu7E,aAAUzwE,KAAW6nE,UALV,cAAAhpG,EAAAo2B,EAAA0xB,KAK9By7C,EAL8BvjG,EAK9BujG,SAL8BntE,EAAAsjD,GAM/B/wD,wBAAa4qE,GANkBn9D,EAAAC,KAAA,EAO/BktE,EAASgwB,UAAU2H,iBAAiB9kB,EAAQxwG,GAAIP,GAPjB,cAAA+wB,EAAAgvF,GAAAhvF,EAAA0xB,KAAA1xB,EAAAujD,OAAA,SAAAvjD,EAAAsjD,GAMTlQ,IANSv4C,KAAAmF,EAAAsjD,GAAAtjD,EAAAgvF,KAAA,yBAAAhvF,EAAAI,SAAAR,MAAH,gBAAAS,GAAA,OAAA72B,EAAAsT,MAAA4d,KAAA3yB,YAAA,GAW7B,SAAeg9H,GAAtBz8E,GAAA,OAAA08E,GAAAloH,MAAA4d,KAAA3yB,wDAAO,SAAA+/C,EAAA/9C,GAAA,IAAAkF,EAAApE,EAAAvB,EAAA27H,EAAAn8H,EAAAkE,EAAA,OAAA0yB,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,cAA4ChxB,EAA5ClF,EAA4CkF,aAA5C84C,EAAA9nB,KAAA,EACiB8rF,GAAa,CAAEjjH,KAAK,EAAMmjH,SAAUh9G,IADrD,cACApE,EADAk9C,EAAA2J,KAIApoD,EAAwBF,eAJxB2+C,EAAA9nB,KAAA,EAMoBqvB,QAAQxmD,IACjC+B,EACEoL,OACA,SAAA+pG,GAAO,OACNA,GACAA,EAAQ96F,QACR86F,EAAQ96F,OAAOggH,sBACfllB,EAAQ96F,OAAOigH,kBACf77H,EAAsB02G,EAAQ50F,gBAE/B3hB,IAAI,SAAAu2G,GAAW,IACPklB,EAAyBllB,EAAQ96F,OAAjCggH,qBAEFE,EAAgBn8H,OAAOooB,QAAQ6zG,GAAsBr8H,OAC1D,SAACkvH,EAAUv2G,GAAM,IAAA6jH,EAAAp8H,OAAAsS,GAAA,EAAAtS,CACWuY,EADX,GACTrY,EADSk8H,EAAA,GACAloC,EADAkoC,EAAA,GAEhB,IACK/oB,sBAAWnzG,KACd4uH,EAAS5uH,GAAWg0F,GAEpB,MAAAsgB,IACF,OAAOsa,GAER,IAKD,OAFA/X,EAAQ96F,OAAOggH,qBAAuBE,EAE/BplB,IAEPv2G,IAAI,SAAAu2G,GAAW,IAAAslB,EACoCtlB,EAAQ96F,OAAnDigH,EADOG,EACPH,iBAAkBD,EADXI,EACWJ,qBAG1B,MAAO,CACNC,mBACAD,uBACAK,MAJa,IAAIC,KAAYN,GAK7BllB,aAGD/pG,OAAO,SAAAlJ,GAAe,IAAZw4H,EAAYx4H,EAAZw4H,MACV,OAAOA,IAAUA,EAAM9M,WAAWxpH,GAAcutG,WAEhD/yG,IA3CF,eAAA6D,EAAArE,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KA4CE,SAAAgoB,EAAAx6C,GAAA,IAAA6yG,EAAAmlB,EAAAD,EAAAK,EAAApoC,EAAAg9B,EAAAC,EAAAqL,EAAA,OAAA/lG,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAAS+/E,EAAT7yG,EAAS6yG,QAASmlB,EAAlBh4H,EAAkBg4H,iBAAkBD,EAApC/3H,EAAoC+3H,qBAAsBK,EAA1Dp4H,EAA0Do4H,MAEnDpoC,EAAUooC,EAAM9M,WAAWxpH,GAAcwkB,WAFhDm0B,EAAA3nB,KAAA,EAI2B4kG,GAA+B,CACxD7kB,UACA7iB,UACAluF,iBAPF,cAIOkrH,EAJPvyE,EAAA8J,KAeO0oE,EAAuBD,EAEvBsL,EAAalzG,wBAAaytF,EAAQ/zF,eACtCmnD,IAAI7gD,wBAAaytF,EAAQz0F,KAAKmsC,WAAW,GAAGob,KAAO,IACnDM,IAAI7gD,wBAAaytF,EAAQz0F,KAAKmsC,WAAW,GAAGob,KAAO,IAnBtDlrB,EAAA27B,OAAA,SAqBQ,CACNy8B,UACA7iB,UACAgoC,mBACAhL,cACAC,uBACA8K,uBACAO,eA5BF,wBAAA79E,EAAAxnB,SAAAunB,MA5CF,gBAAA8uD,GAAA,OAAAnpG,EAAAwP,MAAA4d,KAAA3yB,YAAA,KAPK,cAMAk9H,EANAl9E,EAAA2J,KAqFA5oD,EAAMG,OAAO03B,OAAP7jB,MAAA7T,OAAM,CACjB,IADiByI,OAAAzI,OAAAgE,GAAA,EAAAhE,CAEdg8H,EAAYx7H,IAAI,SAAAmR,GAAK,IACfolG,EAAqBplG,EAArBolG,QAAS7iB,EAAYviF,EAAZuiF,QACT3tF,EAAkDwwG,EAAlDxwG,GAAIyc,EAA8C+zF,EAA9C/zF,cAAeb,EAA+B40F,EAA/B50F,aAAclG,EAAiB86F,EAAjB96F,OAAQqG,EAASy0F,EAATz0F,KAC3Ck6G,EAAalzG,wBAAatG,GAC9BmnD,IAAI7gD,wBAAa3X,EAAEolG,QAAQz0F,KAAKmsC,WAAW,GAAGob,MAC9CM,IAAI7gD,wBAAa3X,EAAEolG,QAAQz0F,KAAKmsC,WAAW,GAAGob,MAC9Cr/C,WAEF,OAAOxqB,OAAA++B,GAAA,EAAA/+B,CAAA,GACL2R,EAAEolG,QAAQxwG,GAAGmmC,cAAgB,CAC7BnmC,KACA2tF,UACAlxE,gBACAb,eACAq6G,aACAvgH,OAAQA,EAAOuB,KACf7S,QAAS2X,EAAK3X,eAMZ5G,EAAyBi4H,EAAYhvH,OAAO,SAAAF,GACjD,OACCwtH,GAAqBxtH,EAAEiqG,QAAQ96F,OAAOuB,OACtC,IAAI9O,KAAmD,KAA7C5B,EAAEiqG,QAAQ+b,WAAa+H,KAChCnsH,KAAKq+C,OAKNjgD,EAAEqkH,qBAAqB1nG,GAAGH,wBAAa,QAtHnCw1B,EAAAw7B,OAAA,SA0HC,CAAEz6E,MAAKkE,2BA1HR,yBAAA+6C,EAAA3nB,SAAA0nB,sCA6HQ49E,mFAAf,SAAAz9E,EAAA/9C,GAAA,IAAAy7H,EAAAC,EAAAC,EAAAC,EAAA,OAAApmG,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cAAwC0lG,EAAxCz7H,EAAwCy7H,cAAxCC,EAAA17H,EAAuD4vH,YAAvD+L,QAAA,IAAAD,EAAqE,GAArEA,GAEGzqH,KAAK,SAAC4qH,EAAIC,GACV,OAAOzzG,wBAAayzG,EAAG5L,sBAAsB1nG,GAC5CH,wBAAawzG,EAAG3L,yBAGjBvxH,OACA,SAACwZ,EAAMzH,GACN,IAAM2V,EAAOtnB,OAAAC,EAAA,EAAAD,CAAA,GAAQoZ,GAMrB,OALIkO,EAAQsiD,IAAIqyC,GAAGygB,KAClBp1G,EAAQu1G,SAASjjH,KAAKjI,GACtB2V,EAAQsiD,IAAMtiD,EAAQsiD,IAAIh4D,IAAI0X,wBAAa3X,EAAEw/G,wBAGvC7pG,GAER,CAAEsiD,IAAKtgD,wBAAa,GAAIuzG,SAAU,KAhB5BA,EADTD,EACSC,SADT59E,EAAAq7B,OAAA,SAoBQuiD,GApBR,wBAAA59E,EAAA9nB,SAAA6nB,6BAuBA,IAAMg+E,GAAyB,SAAA57H,GAMzB,IALL4E,EAKK5E,EALL4E,aACAkuF,EAIK9yF,EAJL8yF,QACA+nC,EAGK76H,EAHL66H,qBACAC,EAEK96H,EAFL86H,iBACAe,EACK77H,EADL67H,gBAEMX,EAAQ,IAAIC,KAAYN,GACxBiB,EAAQZ,EAAMa,SAASn3H,GACvBo3H,EAAQhS,oBAAS8Q,EAAiB,IAClCmB,EAAQjS,oBAAS8Q,EAAiB,IAGxC,MAAO,CAACe,EAFKX,EAAMgB,MAAMC,UAEM,CAACH,EAAOC,GAAQH,EAAOhpC,IAGvD,SAASspC,GAATj8H,GAA4E,IAAxCsgB,EAAwCtgB,EAAxCsgB,KAAM7b,EAAkCzE,EAAlCyE,aAAcy3H,EAAoBl8H,EAApBk8H,iBAAoBvI,EAC5BrzG,EAAKjiB,OACnD,SAACwZ,EAAM2nE,GACN,IAAM58D,EAAOnkB,OAAAC,EAAA,EAAAD,CAAA,GAAQoZ,GAMrB,OALA+K,EAAQu5G,YAAY9jH,KAAK+jH,cAAWC,gBAAgB78C,EAAG3nE,OACvD+K,EAAQgxG,sBAAsBp0C,EAAGgyC,eAChC35G,EAAK+7G,sBAAsBp0C,EAAGgyC,eAAiBzpG,wBAAa,IAC3D1X,IAAI0X,wBAAay3D,EAAGo0C,sBAAsBp0C,EAAGgyC,gBAExC5uG,GAER,CAAEu5G,YAAa,GAAIvI,sBAAuB,KAVnCuI,EADmExI,EACnEwI,YAAavI,EADsDD,EACtDC,sBA0BrB,MARmB,CAClBlF,iBAAkBjqH,EAClByc,GAAIzc,EACJoT,KARY8gH,GAAkBhG,UAAU2J,gBAAgBzJ,OAAO,CAC/DqJ,EACAC,IAOAvI,wBACA2C,qBAAsB4F,EAAY3+H,QAMpC,SAAS++H,GAA4B/7H,GACpC,OAAOA,GACNA,EAASyB,aACTzB,EAASyB,YAAYI,YACrB7B,EAASyB,YAAYI,WAAWH,2BAChC1B,EAASyB,YAAYI,WAAWH,0BAA0B,GACxD1B,EAASyB,YAAYI,WAAWH,0BAA0B,GAC1D,KAGJ,SAASs6H,GAAaN,GAGrB,OAFaA,GAAgD,IAA5BA,EAAiB1+H,OAKnD,SAASi/H,GAAwBP,GAKhC,OAHCM,GAAaN,IAC8C,IAA3DzjH,UAAUyjH,EAAiB,GAAI,GAAM5C,KAA6BnsH,KAAKq+C,MAKlE,SAAekxE,GAAtBnxB,GAAA,OAAAoxB,GAAArqH,MAAA4d,KAAA3yB,wDAAO,SAAAqgD,EAAAv8C,GAAA,IAAAnB,EAAAi7H,EAAA36H,EAAA8uH,EAAAxoG,EAAA67E,EAAAl+F,EAAAm4H,EAAAt8G,EAAA47G,EAAAW,EAAA,OAAA3nG,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,cAAsCv1B,EAAtCmB,EAAsCnB,QAASi7H,EAA/C95H,EAA+C85H,cAC7C36H,EAAaN,EAAbM,SAEF8uH,EAAchtH,aAAuCzE,eAHrDggD,EAAApoB,KAAA,EAKqBu7E,aAAUzwE,KAAW6nE,UAL1C,cAAAthF,EAAA+2B,EAAAqJ,KAKEy7C,EALF77E,EAKE67E,SACFl+F,EAAejE,EAAS7B,QANxBk/C,EAAApoB,KAAA,GAOwBylG,GAAuB,CACpDC,gBACA12H,eACA6qH,gBAVK,eAOAsN,EAPA/+E,EAAAqJ,KAaA5mC,EAAOs8G,EAAgB39H,IAAI,SAACmR,EAAGiD,GAAM,IAEzCqnH,EAMGtqH,EANHsqH,qBACAllB,EAKGplG,EALHolG,QACAmlB,EAIGvqH,EAJHuqH,iBACAhL,EAGGv/G,EAHHu/G,YAEAh9B,EACGviF,EADHuiF,QAEK+oC,EAAkBnC,GAAkB/jB,GAASsnB,kBAE7CjlH,EAAO4jH,GAAuB,CACnCh3H,eACAkuF,UACA+nC,uBACAC,mBACAe,oBAGD,MAAO,CACNhN,iBAAkBjqH,EAClByc,GAAIyhF,EAAShkG,QACb6yH,aAAchc,EAAQ50F,aACtB/I,OACA+7G,sBAAsBn1H,OAAA++B,GAAA,EAAA/+B,CAAA,GAAI+2G,EAAQ50F,aAAe+uG,MAG7CuM,EAAmBK,GAA4B/7H,GAEjDq8H,EAAc,KAEjBA,EADGJ,GAAwBP,GACb,CACbD,GAAyB,CACxB37G,OACA7b,eACAy3H,sBAIY57G,EAAKrhB,IAAI,SAAAugF,GAItB,OAHAA,EAAG3nE,KAAO6gH,GAAK/F,UAAU0J,gBAAgBxJ,OAAOrzC,EAAG3nE,MACnD2nE,EAAGk3C,WAAY,EAERl3C,IAxDH3hC,EAAAk7B,OAAA,SA4DC8jD,GA5DD,yBAAAh/E,EAAAjoB,SAAAgoB,6BA+DP,SAASm/E,GAATv7H,GAA6C,IAAZ+rH,EAAY/rH,EAAZ+rH,SAC1BluH,EAAYH,eACZu1H,EAAW70H,eAF2B4tH,EAGED,EAASlvH,OACtD,SAAC2+H,EAAOrqC,GAcP,OAXC8hC,GACAA,EAAS91H,SACTg0F,EAAQlsE,MAAM9nB,UAAYU,EAAUV,SAEpCg0F,EAAQlsE,MAAM9nB,UAAY81H,EAAS91H,UAEnCq+H,EAAMC,oBAAsBD,EAAMC,oBAAoB5sH,IACrDsiF,EAAQq6B,kBAETgQ,EAAME,aAAavqC,EAAQlsE,MAAM9nB,SAAWg0F,EAAQA,SAE9CqqC,GAER,CACCC,oBAAqBl1G,wBAAa,GAClCm1G,aAAc,KAIhB,MAAO,CAAEA,aA1BmC1P,EAGpC0P,aAuBeD,oBA1BqBzP,EAGtByP,qBA4BhB,SAAejH,GAAtBrqB,GAAA,OAAAwxB,GAAA7qH,MAAA4d,KAAA3yB,wDAAO,SAAA65G,EAAA11G,GAAA,IAAAqxH,EAAA7yH,EAAAk9H,EAAAC,EAAA9P,EAAAG,EAAA4P,EAAAC,EAAAC,EAAAN,EAAAD,EAAA,OAAA/nG,EAAA53B,EAAAi4B,KAAA,SAAA8hF,GAAA,cAAAA,EAAAhqF,KAAAgqF,EAAA5hF,MAAA,UACNs9F,EADMrxH,EACNqxH,wBACA7yH,EAFMwB,EAENxB,QAEMk9H,EAASr1G,wBAAagrG,GAJtBsK,EAQFn9H,EAAQoB,MAAMK,IAAIktH,uCAFrBtB,EANK8P,EAML9P,SACAG,EAPK2P,EAOL3P,iBAGG4P,EAAsBv1G,wBAAa2lG,GAEjC6P,EAAY,CACjBpI,UAAW,GACXE,mBAAoB,IAGjB+H,EAAOl1G,GAAGo1G,KAAsBE,EAEWT,GAAsB,CACnExP,WACAkQ,wBAAyBL,EAAOx0D,IAAI00D,KAF7BJ,EAF2BM,EAE3BN,aAAcD,EAFaO,EAEbP,oBAKtBM,EAAUlI,mBAAqB6H,EAC/BI,EAAsBA,EAAoBjtH,IAAI4sH,KAG3CG,EAAOl1G,GAAGo1G,GA5BR,CAAAjmB,EAAA5hF,KAAA,gBAAA4hF,EAAA5hF,KAAA,EA6BuBinG,GAAqB,CAChDx8H,UACAi7H,cAAeiC,EAAOx0D,IAAI00D,KA/BtB,OA6BLC,EAAUpI,UA7BL9d,EAAAnwD,KAAA,eAAAmwD,EAAAt+B,OAAA,SAmCCwkD,GAnCD,yBAAAlmB,EAAAzhF,SAAAwhF,6BAkDA,SAAesmB,GAAtB9xB,GAAA,OAAA+xB,GAAArrH,MAAA4d,KAAA3yB,wDAAO,SAAAk6G,EAAAz1G,GAAA,IAAAuH,EAAArJ,EAAAiyH,EAAAyL,EAAAr9H,EAAAC,EAAAc,EAAAy7B,EAAAhqB,EAAA69F,EAAAjO,EAAAN,EAAA+qB,EAAA/tH,EAAAoiB,EAAAo8G,EAAAC,EAAAC,EAAAvoB,EAAA/wG,EAAA+sH,EAAA0K,EAAA8B,EAAA19G,EAAA29G,EAAA1G,EAAA2G,EAAA3L,EAAAv/G,EAAAT,EAAA0gH,EAAAtjE,EAAA4/D,EAAAiD,EAAA2L,EAAAC,EAAA3kH,EAAA4kH,EAAA,OAAAnpG,EAAA53B,EAAAi4B,KAAA,SAAAmiF,GAAA,cAAAA,EAAArqF,KAAAqqF,EAAAjiF,MAAA,cACNlsB,EADMvH,EACNuH,SACArJ,EAFM8B,EAEN9B,QACAiyH,EAHMnwH,EAGNmwH,YACAyL,EAJM57H,EAIN47H,WAEQr9H,EAA4BL,EAA5BK,OAAQC,EAAoBN,EAApBM,SAAUc,EAAUpB,EAAVoB,MAClBy7B,EAAsCz7B,EAAMK,IAA5Co7B,kCAPF26E,EAAAjiF,KAAA,EAQmDu7E,aACxDzwG,EAAOG,UATF,UAAAqS,EAAA2kG,EAAAxwD,KAQE0pD,EARF79F,EAQE69F,SAAUjO,EARZ5vF,EAQY4vF,SAAUN,EARtBtvF,EAQsBsvF,SAAU+qB,EARhCr6G,EAQgCq6G,SAIhC/tH,EAAYU,eACZ0hB,EAAgBm8G,EACnB7gG,EACA++E,sBAAWvyG,EAASkY,cAAepiB,EAAUwhB,UAAUoI,WAEpD40G,EAAgB/D,GAAiBvwH,EAAU/I,EAAUnB,GACrDy+H,EAAYD,EAAcC,UAC1BC,EAAaxE,GAAkBuE,GAC/BtoB,EApBA/2G,OAAAC,EAAA,EAAAD,CAAA,GAqBFq/H,EArBE,CAsBL94H,GAAI+4H,EAAWnU,QAAQjnB,EAAShkG,WAE3B8F,EAAeq5H,EAAUp6D,QACzB8tD,EAAenyH,EAAUV,QAEzBu9H,EAAmBK,GAA4B/7H,GAC/Cw9H,EAAyBxB,GAAaN,GAEtC57G,EAAO,IAET09G,EAhCE,CAAAtmB,EAAAjiF,KAAA,SAiCCwoG,EAAwB,CAC7BvP,iBAAkBjqH,EAClB+sH,aAAcA,EACdtwG,GAAIzc,EACJoT,KAAM8gH,GAAkBhG,UAAU2L,YAAYzL,OAAO,CACpDlwB,EAAShkG,QACTo/H,EAAWjB,oBAEZrG,iBAAkB,GAEnBn2G,EAAKjI,KAAK4lH,GA3CLvmB,EAAAjiF,KAAA,wBAAAiiF,EAAAjiF,KAAA,GA6CqB0hG,GAAe,CACxC/J,WACA3mG,MAAOpnB,EACPoF,eACA+sH,aAAcnyH,EAAUV,QACxB04H,kBAAmB10B,EAAShkG,QAC5B24H,cAAe71G,IAnDX,QA6CC81G,EA7CD7f,EAAAxwD,KAsDCg3E,EAAgB,CACrBxP,iBAAkBjqH,EAClB+sH,aAAcA,EACdtwG,GAAIyhF,EAAShkG,QACbkZ,KAAM6gH,GAAK/F,UAAU2L,YAAYzL,OAAO,CAACkL,EAAWjB,qBAErDx8G,EAAKjI,KAAL/F,MAAAgO,EAAI7hB,OAAAgE,GAAA,EAAAhE,CAAS84H,GAATrwH,OAAA,CAAsBg3H,KA5DrB,eAAAxmB,EAAAjiF,KAAA,GA+DuBq9F,GAAiC,CAC7DC,wBAAyBtxG,EACzBnB,OACA7b,eACAmsG,WACAvO,WACAniG,UACAktH,WACA98D,cAAeo5C,KAAgBltC,eAvE1B,eA+DA+1D,EA/DA7a,EAAAxwD,KAAAwwD,EAAAjiF,KAAA,GA0E+Cu9F,GACpD,CAAET,mBA3EG,WAAAv/G,EAAA0kG,EAAAxwD,KA0EE30C,EA1EFS,EA0EET,MAAO0gH,EA1ETjgH,EA0ESigH,QAAStjE,EA1ElB38C,EA0EkB28C,mBAGlB4/D,EAAUxnG,wBAAa,GACvByqG,EAAYzqG,wBAAagV,GACzBohG,EAAe3L,EAAU5pD,IAAIqqD,GAASvY,GAAG6U,GAC5CA,EACAiD,EAAU5pD,IAAIqqD,GACXmL,EAAwBznH,aAC7BwnH,EAAal1G,WACb5pB,EAAUwhB,UAAY,IACtB,EACA,IAGGsxG,EAzFE,CAAAza,EAAAjiF,KAAA,gBAAAiiF,EAAA3+B,OAAA,SA0FE,CACNrnB,cAAen/C,EACf+sE,KAAM2zC,EACNkL,eACAC,wBACAzuE,uBA/FI,eAAA+nD,EAAAjiF,KAAA,GAmGey9F,GAA0B,CAC9CzuH,eACA8tH,iBACAhyH,SACAqwG,WACAxzF,UAAW,CAAEo4F,aAxGR,eAmGA/7F,EAnGAi+F,EAAAxwD,KA2GN22E,EAAc74H,GAAKwwG,EAAQxwG,IACrBq5H,EA5GA5/H,OAAAC,EAAA,EAAAD,CAAA,GA4GqBo/H,IACb98G,KAAdtiB,OAAAC,EAAA,EAAAD,CAAA,GAA0Bq/H,EAAU/8G,MA7G9B22F,EAAA3+B,OAAA,SA8GC,CACNt/D,SACA4kH,kBAhHK,yBAAA3mB,EAAA9hF,SAAA6hF,6BAoHA,SAAe8mB,GAAtBvyB,GAAA,OAAAwyB,GAAAlsH,MAAA4d,KAAA3yB,wDAAO,SAAAu6G,EAAA31G,GAAA,IAAAjC,EAAAqJ,EAAAkQ,EAAA,OAAAyb,EAAA53B,EAAAi4B,KAAA,SAAAwiF,GAAA,cAAAA,EAAA1qF,KAAA0qF,EAAAtiF,MAAA,cAA8Bv1B,EAA9BiC,EAA8BjC,QAASqJ,EAAvCpH,EAAuCoH,SAAvCwuG,EAAAtiF,KAAA,EACeyzC,GAAc,CAAEhpE,UAASqJ,aADxC,cACAkQ,EADAs+F,EAAA7wD,KAAA6wD,EAAAh/B,OAAA,SAECt/D,GAFD,wBAAAs+F,EAAAniF,SAAAkiF,+DC1oBA,SAAe2mB,KAAtB,OAAAC,GAAApsH,MAAA4d,KAAA3yB,wDAAO,SAAA4/C,IAAA,IAAAsqB,EAAA5mD,EAAAisG,EAAA2N,EAAAp6H,EAAAs+H,EAAAC,EAAA,OAAA1pG,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAAAgyC,EACevoE,eAAb2hB,EADF4mD,EACE5mD,SACFisG,EAAiBluH,eAFjBw+C,EAAA3nB,KAAA,EAGoB8rF,KAHpB,cAGAkZ,EAHAr9E,EAAA8J,KAKA7mD,EAAWo6H,EAAYhvH,OAC5B,SAAA+pG,GAAO,QAAMsX,EAAetX,EAAQ50F,gBAG/B+9G,EAAct+H,EAAShC,OAAO,SAACsU,EAAO6iG,GAC3C,IAAMlmG,EAAM7Q,OAAAC,EAAA,EAAAD,CAAA,GAAQkU,GAMpB,OALA6iG,EAAQz0F,KAAK3X,QAAQoG,QAAQ,SAAAi0F,GAC5Bn0F,EAAOm0F,EAAK78F,MAAQ0I,EAAOm0F,EAAK78F,OAAS,GACzC0I,EAAOm0F,EAAK78F,MAAMyR,KAAKm9F,KAGjBlmG,GACL,IAEGsvH,EAAmBngI,OAAOub,KAAK2kH,GAAatgI,OAAzB,eAAAF,EAAAM,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KACxB,SAAAC,EAAOypG,EAAWz7G,GAAlB,IAAA9hB,EAAAw9H,EAAAC,EAAAx2G,EAAAJ,EAAAqtF,EAAA3zF,EAAAJ,EAAAu9G,EAAAh3G,EAAAi3G,EAAA,OAAA/pG,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACqBopG,EADrB,OACOv9H,EADPk0B,EAAA0xB,KAEO43E,EAAiBH,EAAYv7G,GAE/B27G,EAAqBh3G,wBAAa,KAClCQ,EAAcR,wBAAa,KAEtBI,EAAQ,EAPlB,YAOqBA,EAAQ22G,EAAethI,QAP5C,CAAAg4B,EAAAC,KAAA,gBAQQ+/E,EAAUspB,EAAe32G,GARjCqN,EAAAC,KAAA,GAUiCw3F,GAAsB,CACpDxmG,MAAOqmG,EAAetX,EAAQ50F,cAC9B+xE,QAAS5qE,wBAAaytF,EAAQz0F,KAAKc,oBAZtC,eAUQA,EAVR2T,EAAA0xB,KAAA1xB,EAAAC,KAAA,GAc8Bw3F,GAAsB,CACjDxmG,MAAOqmG,EAAetX,EAAQ50F,cAC9B+xE,QAAS5qE,wBAAaytF,EAAQ/zF,iBAhBjC,QAcQA,EAdR+T,EAAA0xB,KAmBE63E,EAAqBA,EAAmB1uH,IAAIwR,GAC5C0G,EAAcA,EAAYlY,IAAIoR,GApBhC,QAOoD0G,IAPpDqN,EAAAC,KAAA,uBAuBOupG,EAAmBD,EAAmBt2D,IAC3C1gD,wBAAa+2G,EAAethI,SAEvBwqB,EAASg3G,EAAiBx2D,IAAIzgD,wBAAa,UAE3Ck3G,EA5BPxgI,OAAAC,EAAA,EAAAD,CAAA,GA4B0B6C,IACb8hB,GAAO,GACnB67G,EAAY77G,GAAKzhB,IAAM,CACtB4mB,cACAy2G,mBACAh3G,UAGDi3G,EAAY77G,GAAKthB,UAAY,CAC5BymB,YAAa5R,aAAkB4R,EAAa1H,GAAU,EAAO,GAC7Dm+G,iBAAkBroH,aACjBqoH,EACAn+G,GACA,EACA,GAEDmH,OAAQrR,aAAkBqR,EAAQnH,GAAU,EAAO,IA5CrD2U,EAAAujD,OAAA,SA+CQkmD,GA/CR,yBAAAzpG,EAAAI,SAAAR,MADwB,gBAAAS,EAAAioB,GAAA,OAAA3/C,EAAAmU,MAAA4d,KAAA3yB,YAAA,GAkDxBunD,QAAQC,QAAQ,KArEX3H,EAAA27B,OAAA,SAwEC6lD,GAxED,wBAAAxhF,EAAAxnB,SAAAunB,6BCkCP,IAAM6lC,GAAsBz9E,6CAEtB25H,GAAkB,SAAA/gI,GAAyB,IAAtBkP,EAAsBlP,EAAtBkP,UAAWxJ,EAAW1F,EAAX0F,KAC/Bs7H,EAAc,GAmBpB,OAjBA91B,KAAgC75F,QAAQ,SAAA+F,GAAS,OAChD6zF,KAA4B55F,QAAQ,SAAAgG,GACnC,IAAM02G,EACI,kBAATroH,GAAuC,iBAAX2R,QAAmC/X,EAC1D6qG,EAAQ4jB,EAAmB,KAAW,IAC5CiT,EAAY9mH,KAAK,CAChB7C,SACAnI,YACAxJ,OACA0R,YACA42G,cAAeiT,IACflT,mBACA5jB,cAKI62B,GAGFE,GAA2B,WAChC,IAAMF,EAAc,GAIpB,OAHA91B,KAAgC75F,QAAQ,SAAA+F,GAAS,OAChD4pH,EAAY9mH,KAAK,CAAE9C,gBAEb4pH,GAGR,SAASG,GAATzgI,GAAuE,IAArCkX,EAAqClX,EAArCkX,KAAM0kH,EAA+B57H,EAA/B47H,YAA+B57H,EAAlBiuH,eACpD,IAAKruH,OAAOub,KAAKygH,GAAaj9H,OAC7B,MAAO,GAF8D,IAAA+hI,EAMxCxpH,EAC5BpF,KAAK,SAACrT,EAAGI,GAAJ,OAAUA,EAAEuZ,KAAO3Z,EAAE2Z,OAC1B5Y,OACA,SAACwZ,EAAMva,GAAM,IACJ2Z,EAAS3Z,EAAT2Z,KACAuoH,EAAgC3nH,EAAhC2nH,aAAcn/H,EAAkBwX,EAAlBxX,SAAU/B,EAAQuZ,EAARvZ,IAC1BwnB,EAAYxoB,EAAEwoB,UAAUqlB,cAHlBnsC,EAURy7H,EAAY30G,IAAc,GAL7BrE,EALWziB,EAKXyiB,cACAw5G,EANWj8H,EAMXi8H,WAeKl1G,EAAU1lB,EAASylB,IAAc,CAAE/P,KAAM,IAEzCvD,EAAQuV,wBAAazqB,EAAEkV,OAAS,GACpCg2D,IAAIzgD,wBAAakzG,GAAc,IAC/BxyD,IAAI1gD,wBAAatG,GAAiB,IAEpCsE,EAAQhQ,KAAKsC,KAAK,CAAE7F,QAAOyE,SAE3B,IAAMwoH,EAAcD,EAAavoH,IAAS,CACzCA,OACAzE,MAAOuV,wBAAa,IAEf23G,EAAsB33G,wBAAahC,EAAQvT,OAAS,GAAGnC,IAAImC,GAE3DmtH,EAAmBF,EAAYjtH,MAWrC,OATAuT,EAAQvT,MAAQktH,EAEhBD,EAAYjtH,MAAQA,EAAMnC,IAAIsvH,GAE9Bt/H,EAASylB,GAAaC,EACtBy5G,EAAavoH,GAAQwoH,EACrBnhI,EAAI2Y,GAAQ3Z,EAAEkV,OAASlU,EAAI2Y,GAGpB,CAAEuoH,eAAcn/H,WAAU/B,QAElC,CAAEkhI,aAAc,GAAIn/H,SAAU,GAAI/B,IAAK,KAnDjCkhI,EAN8DD,EAM9DC,aAAclhI,EANgDihI,EAMhDjhI,IAgEtB,OAT2BG,OAAOuK,OAAOw2H,GAAcvgI,IACtD,SAAAG,GAAqB,IAAlB6X,EAAkB7X,EAAlB6X,KAAMzE,EAAYpT,EAAZoT,MAIR,MAAO,CAAEyE,OAAMzE,WAFA/U,IAAda,EAAI2Y,IACH8Q,wBAAavV,GAAOw/F,UAA0B,MAAd1zG,EAAI2Y,GACP,KAAOzE,KAOlC,IAAMkmE,GAAkC,kBAAM,SAAChmD,EAAU70B,GAC/D,OAAO+pG,GAAuBl1E,EAAU70B,KAG5B+pG,GAAyBg4B,KAAQ,eAAArgI,EAAAd,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAC7C,SAAAgoB,EAAezqB,EAAU70B,GAAzB,IAAAD,EAAAsC,EAAA2D,EAAAwJ,EAAAotH,EAAAjqB,EAAA/oG,EAAAE,EAAAyoG,EAAAyvB,EAAA/S,EAAA/d,EAAAkd,EAAA7yE,EAAA0mF,EAAArqH,EAAAsqH,EAAAC,EAAA,OAAA9qG,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cACCwqG,KAA6BvtG,GACvB90B,EAAQC,IACRqC,EAAUD,YAAcrC,GACxBiG,EAAOoD,YAAwBrJ,GAC/ByP,EAAYlG,aAAqCvJ,GACjD68H,EAAc/3H,aAAkC9E,GANvD4yG,EAOiClpG,aAAkC1J,GAA1D6J,EAPT+oG,EAOS/oG,MAAOE,EAPhB6oG,EAOgB7oG,IAAKyoG,EAPrBI,EAOqBJ,QACdyvB,EAAY5hI,aAAwBL,GACpCkvH,EAAiBluH,aAA4BhB,GATpDw/C,EAAA/vB,KAAA,EAWQ0hF,EAAUjxB,EAAS,CACxBl3E,KAAM,UACNsR,MAAOzP,aAAU,wBACjBipB,SAAS,EACTE,YAAY,EACZN,KAAK,GALUwsD,CAMbprD,GAjBL0qB,EAAA3nB,KAAA,GAmB2Bo1F,GAAsB,CAC9CC,YAAa9nC,GACb9iF,YArBH,eAmBQ+rH,EAnBR7uE,EAAA8J,KAwBEx2B,EAAYq+E,EAAZr+E,CAAqBgC,GAErBwtG,GAA0B,CACzBC,QAAQ1hI,OAAA++B,GAAA,EAAA/+B,CAAA,GAAIukF,GAAsBipC,IADnCiU,CAEGxtG,EAAU70B,GAEPu7C,EAAS8lF,GAAgB,CAAE7xH,YAAWxJ,SACxCi8H,GAAiB,EACfrqH,EAAgBrI,YAA6BxP,GAC7CmiI,EAAkBtqH,IAAkBhO,EACpCu4H,EAAe5mF,EAAOn6C,IAAP,eAAAS,EAAAjB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAW,SAAAC,EAAMntB,GAAN,IAAAm4H,EAAA9nH,EAAAF,EAAA,OAAA8c,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,OAAA2qG,EACF5oH,aAAqB5Z,EAADa,OAAAC,EAAA,EAAAD,CAAA,GAC7CwJ,IADIqQ,EADuB8nH,EACvB9nH,SAAUF,EADagoH,EACbhoH,QAId2nH,GAAuC,IAApBznH,EAAS9a,QAAkC,IAAlB4a,EAAO5a,SACtDwuH,GAAkBvtH,OAAAC,EAAA,EAAAD,CAAA,GACdwJ,EADa,CAEhBR,QACAE,IAAKyoG,GAAWzoG,EAChBskH,gBAECpwB,KAAK,SAAAh8F,GAA4B,IAAzBusH,EAAyBvsH,EAAzBusH,WAAY52G,EAAa3V,EAAb2V,OACd6qH,EACI,kBAATx8H,GAAuC,iBAAX2R,EAEzBO,EAAOsqH,EACRf,GAAuB,CACvBvpH,KAAMq2G,EAAWr2G,KACjB0kH,cACAoF,YACA/S,mBAEAV,EAAWr2G,KACRuqH,EAAgBD,EAAwB,KAAO,EAErDjU,EAAWr2G,KAAOwqH,YACjBxqH,EACA1I,EACA,EACAizH,EACA,CACC74H,QACAE,SAGFm4H,EACCA,GAAkBU,GAAiB3iI,EAAUqC,KAG7CwyB,EAASj0B,OAAAC,EAAA,EAAAD,CAAA,CACRmI,KAAM2I,KACHtH,EAFI,CAGPu9F,UAAW/vF,IAAkBhO,EAAQ,OAASA,EAC9C+K,MAAM/T,OAAAC,EAAA,EAAAD,CAAA,GAAM2tH,QAId4C,MAAM,SAAA7gG,GACNI,QAAQqB,MAAM,uBAAwBzB,KAjDV,wBAAAqH,EAAAI,SAAAR,MAAX,gBAAAoyE,GAAA,OAAA9nG,EAAA4S,MAAA4d,KAAA3yB,YAAA,IAlCvB6/C,EAAA3nB,KAAA,GAuFQqvB,QAAQxmD,IAAI0hI,GAvFpB,QAAA5iF,EAAA3nB,KAAA,iBAAA2nB,EAAA/vB,KAAA,GAAA+vB,EAAA07B,GAAA17B,EAAA,SAyFE7uB,QAAQqB,MAAM,gBAAdwtB,EAAA07B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAOzP,aAAU,gBAAiB,CAAEH,KAAM,CAAC+lG,EAAWjxD,EAAA07B,OACtDpnD,QAAS,KAHVosD,CAIGprD,GA9FL,yBAAA0qB,EAAAxnB,SAAAunB,EAAA,kBAD6C,gBAAAtnB,EAAAioB,GAAA,OAAAv+C,EAAA+S,MAAA4d,KAAA3yB,YAAA,GAkG7C,IACA,CAAEkjI,SAAS,EAAOC,UAAU,IAGtB,SAAS34B,KACf,sBAAA/nG,EAAAvB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsoB,EAAe/qB,EAAU70B,GAAzB,IAAAqC,EAAA6uG,EAAAkd,EAAA7yE,EAAA0mF,EAAAE,EAAAnoH,EAAA,OAAAqd,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cACEv1B,EAAYrC,IAAWC,QAAvBoC,QADFw9C,EAAArwB,KAAA,EAGC0hF,EAAUjxB,EAAS,CACxBl3E,KAAM,UACNsR,MAAOzP,aAAU,wBACjBipB,SAAS,EACTE,YAAY,EACZN,KAAK,GALUwsD,CAMbprD,GATEgrB,EAAAjoB,KAAA,EAWoBo1F,GAAsB,CAC9CC,YAAa9nC,GACb9iF,YAbI,cAWC+rH,EAXDvuE,EAAAwJ,KAgBLx2B,EAAYq+E,EAAZr+E,CAAqBgC,GAErBwtG,GAA0B,CACzBC,QAAQ1hI,OAAA++B,GAAA,EAAA/+B,CAAA,GAAIukF,GAAsBipC,IADnCiU,CAEGxtG,EAAU70B,GAEPu7C,EAASimF,KACXS,GAAiB,EACfE,EAAe5mF,EAAOn6C,IAAP,eAAAoC,EAAA5C,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAW,SAAAmoB,EAAMr1C,GAAN,IAAAuK,EAAA,OAAA0iB,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,cAAA8nB,EAAAlwB,KAAA,EAAAkwB,EAAA9nB,KAAA,EAEV82F,GAA0B9tH,OAAAC,EAAA,EAAAD,CAAA,GAC1CwJ,EADyC,CAE5CgkH,gBAJ6B,cAExBz5G,EAFwB+qC,EAAA2J,KAO9B44E,EAAiBA,GAAkBU,GAAiB3iI,EAAUqC,GAPhCq9C,EAAAw7B,OAAA,SASvB,CAAE9wE,OAAMuK,UATe,cAAA+qC,EAAAlwB,KAAA,EAAAkwB,EAAAu7B,GAAAv7B,EAAA,SAW9BhvB,QAAQqB,MAAM,gCAAd2tB,EAAAu7B,IAX8Bv7B,EAAAw7B,OAAA,SAYvB,MAZuB,yBAAAx7B,EAAA3nB,SAAA0nB,EAAA,iBAAX,gBAAAsuD,GAAA,OAAAvqG,EAAAiR,MAAA4d,KAAA3yB,YAAA,IAxBhBmgD,EAAAjoB,KAAA,GAwCcqvB,QAAQxmD,IAAI0hI,GAxC1B,QAwCCnoH,EAxCD6lC,EAAAwJ,KA0CA44E,GACJjoH,EACEpM,OAAO,SAAAF,GAAC,QAAMA,IACdiE,QAAQ,SAAAhO,GAAA,IAAGyG,EAAHzG,EAAGyG,KAAMuK,EAAThR,EAASgR,MAAT,OACRkgB,EAASj0B,OAAAC,EAAA,EAAAD,CAAA,CACRmI,KAAM2I,KACHtH,EAFI,CAGPuK,aAjDCkrC,EAAAjoB,KAAA,iBAAAioB,EAAArwB,KAAA,GAAAqwB,EAAAo7B,GAAAp7B,EAAA,SAsDLnvB,QAAQqB,MAAM,yBAAd8tB,EAAAo7B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAOzP,aAAU,yBAA0B,CAC1CH,KAAM,CAAC+lG,EAAW3wD,EAAAo7B,OAEnBpnD,QAAS,KALVosD,CAMGprD,GA7DE,yBAAAgrB,EAAA9nB,SAAA6nB,EAAA,kBAAP,gBAAA8tD,EAAAI,GAAA,OAAA3rG,EAAAsS,MAAA4d,KAAA3yB,YAAA,GAkEM,SAASkoE,GAAe/7C,EAAWC,GACzC,sBAAAjoB,EAAAjD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAyoB,EAAelrB,EAAU70B,GAAzB,IAAAD,EAAAsC,EAAAygI,EAAAC,EAAAC,EAAA5U,EAAA6U,EAAAC,EAAAC,EAAAn3G,EAAAo3G,EAAAv3H,EAAA8P,EAAAnG,EAAAoG,EAAAynH,EAAA,OAAAhsG,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,cACA73B,EAAQC,IACNqC,EAAYtC,EAAME,QAAlBoC,QAFF29C,EAAAxwB,KAAA,EAAAwwB,EAAApoB,KAAA,EAIC64E,EAActpC,MAA6B,EAA3CspC,CAAiD57E,GAJlD,cAKCiuG,EAAgB5mH,aAAqCnc,GACrDgjI,EAAen3G,aAAkBC,EAAWC,GAC5Ck3G,EAAeD,EACnBn1H,OAAO,SAAAzD,GAAG,OAAK24H,EAAc3wH,SAAShI,KACtC2I,OATGktC,EAAApoB,KAAA,GAWoBo1F,GAAsB,CAC9CC,YAAa9nC,GACb9iF,YAbI,WAWC+rH,EAXDpuE,EAAAqJ,KAeLg5E,GAA0B,CACzBC,QAAQ1hI,OAAA++B,GAAA,EAAA/+B,CAAA,GAAIukF,GAAsBipC,IADnCiU,CAEGxtG,EAAU70B,KAETgjI,EAAarjI,OAAS,GAnBrB,CAAAqgD,EAAApoB,KAAA,SA0BJ,IANkB,QACJ,IACRqrG,EAAW,GACXC,EAAkBF,EAAa,GAC/BG,EAAgBH,EAAaA,EAAarjI,OAAS,GAGpDqsB,EAAIC,KAAOi3G,GACfl3G,EAAEG,KAAKg3G,IAAkB,EACzBn3G,EAAExZ,IARW,IAQA,OAEbywH,EAASzoH,KACRm0G,GAAmB,CAClBP,aACA5+G,UAde,QAefi7F,MAdW,IAeXzkG,KAAM,gBACN0R,UAAW,aACXC,OAAQ,cACR/N,OAAQqiB,KAAOi3G,GACfp5H,KAAMmiB,KAAOk3G,GAAe52G,MAAM,WAEnCoiG,GAAmB,CAClBP,aACA5+G,UAxBe,QAyBfi7F,MAxBW,IAyBXzkG,KAAM,gBACN0R,UAAW,aACXC,OAAQ,eACR/N,OAAQqiB,KAAOi3G,GACfp5H,KAAMmiB,KAAOk3G,GAAe52G,MAAM,YAlDjC,OAAAyzB,EAAApoB,KAAA,GAsD2BqvB,QAAQxmD,IAAIwiI,GAtDvC,QAyDJ,IAHMG,EAtDFpjF,EAAAqJ,KAuDAx9C,EAAc,GACd8P,EAAU,GACLnG,EAAI,EAAGA,EAAI4tH,EAAiBzjI,OAAQ6V,GAAK,EACjD3J,EAAW,GAAAxC,OAAAzI,OAAAgE,GAAA,EAAAhE,CAAOiL,GAAPjL,OAAAgE,GAAA,EAAAhE,CAAuBwiI,EAAiB5tH,GAAG0C,OACtDyD,EAAO,GAAAtS,OAAAzI,OAAAgE,GAAA,EAAAhE,CAAO+a,GAAP/a,OAAAgE,GAAA,EAAAhE,CAAmBwiI,EAAiB5tH,EAAI,GAAG0C,OAE7C0D,EAAS,GAETynH,EAAoB,SAAA59H,GAAI,OAAKwmB,KAAOxmB,GAAMymB,QAAQ,UACxD82G,EAAarxH,QAAQ,SAAAlM,GACpB,IAAMmzE,EAAQyqD,EAAkB59H,GAC3BmW,EAAOg9D,KACXh9D,EAAOg9D,GAAS,MAGlB/sE,EAAY8F,QAAQ,SAACG,EAAM0D,GAC1B,IAAMojE,EAAQyqD,EAAkBvxH,EAAKsH,MACjCwC,EAAOg9D,KACVh9D,EAAOg9D,GAAO9mE,EAAKsH,MAAQ,CAC1BvN,YAAaiG,EAAK6C,MAClBgH,QAASA,EAAQnG,GAAGb,UAIvBkgB,EAAS,CACR9rB,KAAM2I,IACNiD,MAAM/T,OAAAC,EAAA,EAAAD,CAAA,GACFgb,KAlFD,eAAAokC,EAAApoB,KAAA,GAsFC64E,EAActpC,MAA6B,EAA3CspC,CAAkD57E,GAtFnD,QAAAmrB,EAAApoB,KAAA,iBAAAooB,EAAAxwB,KAAA,GAAAwwB,EAAAi7B,GAAAj7B,EAAA,SAwFLtvB,QAAQ06D,IAARprC,EAAAi7B,IAxFK,yBAAAj7B,EAAAjoB,SAAAgoB,EAAA,kBAAP,gBAAAouD,EAAAC,GAAA,OAAAvqG,EAAA4Q,MAAA4d,KAAA3yB,YAAA,GA6FM,SAASojG,KACf,sBAAA9+F,EAAApD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAiiF,EAAe1kF,EAAU70B,GAAzB,OAAAq3B,EAAA53B,EAAAi4B,KAAA,SAAA8hF,GAAA,cAAAA,EAAAhqF,KAAAgqF,EAAA5hF,MAAA,cAAA4hF,EAAAt+B,OAAA,SACCrmD,EAAS,CACf9rB,KAAM2I,OAFD,wBAAA8nG,EAAAzhF,SAAAwhF,MAAP,gBAAAF,EAAAI,GAAA,OAAAz1G,EAAAyQ,MAAA4d,KAAA3yB,YAAA,GAOM,SAAS0iI,KACf,sBAAAj+H,EAAAvD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsiF,EAAe/kF,GAAf,OAAAwC,EAAA53B,EAAAi4B,KAAA,SAAAmiF,GAAA,cAAAA,EAAArqF,KAAAqqF,EAAAjiF,MAAA,cAAAiiF,EAAA3+B,OAAA,SACCrmD,EAAS,CACf9rB,KAAM2I,IACNiD,MAAO,IAAIrF,QAHN,wBAAAuqG,EAAA9hF,SAAA6hF,MAAP,gBAAAF,GAAA,OAAAv1G,EAAAsQ,MAAA4d,KAAA3yB,YAAA,GAQM,IAAM4jI,GAAoBvB,KAAQ,eAAAz9H,EAAA1D,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KACxC,SAAA2iF,EAAeplF,GAAf,IAAA0uG,EAAA,OAAAlsG,EAAA53B,EAAAi4B,KAAA,SAAAwiF,GAAA,cAAAA,EAAA1qF,KAAA0qF,EAAAtiF,MAAA,cAAAsiF,EAAAtiF,KAAA,EACO64E,EAAc34C,MAAuB,EAArC24C,CAA2C57E,GADlD,cAAAqlF,EAAA1qF,KAAA,EAAA0qF,EAAAtiF,KAAA,EAGgCgpG,KAHhC,OAGQ2C,EAHRrpB,EAAA7wD,KAKEx0B,EAAS,CACR9rB,KAAM2I,IACNiD,MAAO4uH,IAPVrpB,EAAAtiF,KAAA,gBAAAsiF,EAAA1qF,KAAA,EAAA0qF,EAAAj/B,GAAAi/B,EAAA,SAUExpF,QAAQqB,MAAM,6BAAdmoF,EAAAj/B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAOzP,aAAU,6BAA8B,CAC9CH,KAAM,CAAC+lG,EAAW0J,EAAAj/B,OAEnBpnD,QAAS,KALVosD,CAMGprD,GAjBL,eAAAqlF,EAAAtiF,KAAA,GAmBO64E,EAAc34C,MAAuB,EAArC24C,CAA4C57E,GAnBnD,yBAAAqlF,EAAAniF,SAAAkiF,EAAA,iBADwC,gBAAAH,GAAA,OAAAx1G,EAAAmQ,MAAA4d,KAAA3yB,YAAA,GAsBxC,IACA,CAAEkjI,SAAS,EAAMC,UAAU,IAGfW,GAAsBzB,KAAQ,eAAAr9H,EAAA9D,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAC1C,SAAA+iF,EAAexlF,GAAf,IAAA/vB,EAAAiM,EAAAG,EAAAG,EAAA,OAAAgmB,EAAA53B,EAAAi4B,KAAA,SAAA4iF,GAAA,cAAAA,EAAA9qF,KAAA8qF,EAAA1iF,MAAA,cAAA0iF,EAAA1iF,KAAA,EACO64E,EAAcrE,MAAyB,EAAvCqE,CAA6C57E,GADpD,cAAAylF,EAAA9qF,KAAA,EAAA8qF,EAAA1iF,KAAA,EblUO09E,GACLY,MAAM,CACND,MAAO,uBACPze,OAAQ,QAERwG,KAAKmZ,Ia6TP,OAAAryG,EAAAw1G,EAAAjxD,KAIGt4C,EAJHjM,EAIGiM,cACAG,EALHpM,EAKGoM,cACAG,EANHvM,EAMGuM,yBAGDwjB,EAAS,CACR9rB,KAAM2I,KACNiD,MAAO,CAAE5D,gBAAeG,gBAAeG,8BAX1CipG,EAAA1iF,KAAA,iBAAA0iF,EAAA9qF,KAAA,GAAA8qF,EAAAr/B,GAAAq/B,EAAA,SAcE5pF,QAAQqB,MAAM,+BAAduoF,EAAAr/B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAOzP,aAAU,+BAAgC,CAChDH,KAAM,CAAC+lG,EAAW8J,EAAAr/B,OAEnBpnD,QAAS,KALVosD,CAMGprD,GArBL,eAAAylF,EAAA1iF,KAAA,GAuBO64E,EAAcrE,MAAyB,EAAvCqE,CAA8C57E,GAvBrD,yBAAAylF,EAAAviF,SAAAsiF,EAAA,kBAD0C,gBAAAN,GAAA,OAAAr1G,EAAA+P,MAAA4d,KAAA3yB,YAAA,GA0B1C,IACA,CAAEkjI,SAAS,EAAMC,UAAU,IAGf7qE,GAA6B,kBAAM,SAAAnjC,GAC/C,OAAOyuG,GAAkBzuG,KAGb4uG,GAA+B,kBAAM,SAAA5uG,GACjD,OAAO2uG,GAAoB3uG,mCCzatBswD,GAAsBz9E,6CAGrB,SAASg8H,GAAa3sF,EAAMpiC,GAClC,OAAO,SAASkgB,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,KACNqlC,KAAMA,EACNpiC,MAAOA,KAKH,SAASgvH,KACf,OAAO,SAAS9uG,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,OAMF,SAASkyH,GAAcvwH,GAC7B,OAAO,SAASwhB,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACNrP,QAASgR,KAML,SAASkvF,KACf,OAAO,SAAS1tE,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,OAKF,SAASmyH,GAATvjI,GAA4C,IAAnB+sB,EAAmB/sB,EAAnB+sB,KAAM6uB,EAAa57C,EAAb47C,UACrC,OAAO,SAASrnB,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACN2b,KAAMA,EACN6uB,UAAWA,KAKP,SAAS4nF,GAA6BthI,GAC5C,OAAO,SAASqyB,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACNlP,cAKI,SAASugG,KACf,OAAO,SAASluE,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,OAKF,SAASqyH,GAAqCvhI,GACpD,OAAO,SAASqyB,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACNlP,cAKI,SAASwgG,KACf,OAAO,SAASnuE,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,OAQF,SAASixH,GAAiB3iI,EAAUqC,GAC1C,IAAM2hI,EAAUvhI,YAAWzC,KACrBikI,EAAe7hI,YAAcpC,KAQnC,OANEgkI,IACAC,EAAavhI,OAAO5B,SACrBmjI,EAAavhI,OAAO5B,UAAYuB,EAAQK,OAAO5B,UAC9CmjI,EAAathI,SAAS7B,UACtBmjI,EAAathI,SAAS7B,WAAauB,EAAQM,SAAS7B,QAKhD,SAAS6uG,KACf,sBAAA3uG,EAAAJ,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAC,EAAe1C,EAAU70B,GAAzB,IAAAqC,EAAAM,EAAA7B,EAAAK,EAAAV,EAAAkE,EAAA+rH,EAAAnvH,EAAA0C,EAAAH,EAAA,OAAAuzB,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cACAv1B,EAAUD,YAAcpC,KADxB23B,EAAAnI,KAAA,EAGG7sB,EAAaN,EAAbM,SACA7B,EAAY6B,EAAZ7B,QAJH62B,EAAAC,KAAA,EAKyC8kG,GAA2B,CACxE91H,aAAc9F,IANV,cAAAK,EAAAw2B,EAAA0xB,KAKG5oD,EALHU,EAKGV,IAAKkE,EALRxD,EAKQwD,uBAIRg+H,GAAiB3iI,EAAUqC,KAC/ByhI,GAA6BrjI,EAA7BqjI,CAAkCjvG,GAClC+7E,EAAwB,eAAe,EAAvCA,CAA6C/7E,EAAU70B,IAXnD23B,EAAAC,KAAA,GAcqC25F,GAAsB,CAC/DE,YAAa9sH,IACXwsH,MAAM,SAAA7gG,GACRI,QAAQqB,MAAM,2BAA4BzB,KAjBtC,eAcCogG,EAdD/4F,EAAA0xB,KAAA1xB,EAAAC,KAAA,GAoB4B24F,GAAgB,CAChDluH,UACAquH,8BACAjwH,QAvBI,WAAAc,EAAAo2B,EAAA0xB,KAoBGplD,EApBH1C,EAoBG0C,UAAWH,EApBdvC,EAoBcuC,IAMd6+H,GAAiB3iI,EAAUqC,GA1B3B,CAAAs1B,EAAAC,KAAA,gBAAAD,EAAAC,KAAA,GA2BEmsG,GAAqCp/H,EAArCo/H,CACLlvG,GA5BG,eAAA8C,EAAAC,KAAA,GA8BEisG,GAAc,CACnB3nF,UAAW,CAAEz4C,MAAO,CAAEQ,YAAWH,SAD5B+/H,CAEHhvG,GAhCC,QAAA8C,EAAAC,KAAA,iBAAAD,EAAAnI,KAAA,GAAAmI,EAAAsjD,GAAAtjD,EAAA,SAmCLjH,QAAQqB,MAAM,YAAd4F,EAAAsjD,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAOzP,aAAU,YAAa,CAAEH,KAAM,CAAC+lG,EAAW74E,EAAAsjD,OAClDpnD,QAAS,KAHVosD,CAIGprD,GAxCE,yBAAA8C,EAAAI,SAAAR,EAAA,kBAAP,gBAAAS,EAAAioB,GAAA,OAAAj/C,EAAAyT,MAAA4d,KAAA3yB,YAAA,GA6CM,SAASwkI,GAA0Bve,GACzC,sBAAAjkH,EAAAd,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAgoB,EAAezqB,EAAU70B,GAAzB,IAAA2C,EAAAyB,EAAA+/H,EAAA,OAAA9sG,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cACN64E,EAActE,MAA2B,EAAzCsE,CAA+C57E,GACzClyB,EAAWU,YAAsBrD,KAFjCu/C,EAAA/vB,KAAA,EAAA+vB,EAAA3nB,KAAA,EAMG0/E,GAAgB,CACtB1wG,aAAcjE,EAAS7B,UAPpB,UAAAy+C,EAAA07B,GAAA17B,EAAA8J,KAAA9J,EAAA07B,GAAA,CAAA17B,EAAA3nB,KAAA,QAAA2nB,EAAA07B,GAQG,GARH,OAKC72E,EALDm7C,EAAA07B,IAUCkpD,EAVDvjI,OAAAC,EAAA,EAAAD,CAAA,GAUwB+B,IAEbwC,kBAAoBf,EAAYe,kBAChDg/H,EAAgBC,gBAAkBhgI,EAAYggI,gBAC9CD,EAAgB//H,YAAcA,EAE9By/H,GAAc,CACb3nF,UAAW,CAAEv5C,SAAUwhI,IADxBN,CAEGhvG,GAC0B,oBAAlB8wF,GACVA,IApBIpmE,EAAA3nB,KAAA,iBAAA2nB,EAAA/vB,KAAA,GAAA+vB,EAAAonE,GAAApnE,EAAA,SAuBL0gC,EAAS,CACRl3E,KAAM,SACNsR,MAAOzP,aAAU,gCAAiC,CACjDH,KAAM,CAAC+lG,EAAWjxD,EAAAonE,OAEnB9yF,QAAS,KALVosD,CAMGprD,GA7BE,QA+BN47E,EAActE,MAA2B,EAAzCsE,CAA+C57E,GA/BzC,yBAAA0qB,EAAAxnB,SAAAunB,EAAA,kBAAP,gBAAAqqD,EAAA+D,GAAA,OAAAhsG,EAAA+S,MAAA4d,KAAA3yB,YAAA,GAmCM,SAAS2iI,GAATxgI,GAAgD,IAAXygI,EAAWzgI,EAAXygI,QAC3C,sBAAAtgI,EAAApB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAmoB,EAAe5qB,EAAU70B,GAAzB,IAAA2C,EAAA0hI,EAAAC,EAAA,OAAAjtG,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,OACEj1B,EAAa3C,IAAWC,QAAQoC,QAAhCM,SAEF0hI,EAHAzjI,OAAAC,EAAA,EAAAD,CAAA,GAGmB+B,GACnB2hI,EAJA1jI,OAAAC,EAAA,EAAAD,CAAA,GAIkByjI,EAAYlX,qBAAuB,GAAQmV,GAIlEjjH,KAAKC,UAAU+kH,EAAYlX,uBAC3B9tG,KAAKC,UAAUglH,KAEfD,EAAYlX,oBAAsBmX,EAClCT,GAAc,CAAE3nF,UAAW,CAAEv5C,SAAU0hI,IAAvCR,CAAwDhvG,IAZnD,wBAAA6qB,EAAA3nB,SAAA0nB,MAAP,gBAAAquD,EAAAC,GAAA,OAAA/rG,EAAAyS,MAAA4d,KAAA3yB,YAAA,GAiBM,SAAS6kI,GAATpiI,GAKJ,IAJFO,EAIEP,EAJFO,OAIE8hI,EAAAriI,EAHFQ,gBAGE,IAAA6hI,EAHS,GAGTA,EAFFxhI,EAEEb,EAFFa,MACAyhI,EACEtiI,EADFsiI,gBAEA,sBAAAjhI,EAAA5C,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsoB,EAAe/qB,EAAU70B,GAAzB,IAAA0kI,EAAAC,EAAAhhI,EAAAi/G,EAAAvhD,EAAAu1C,EAAArK,EAAAsW,EAAAh/G,EAAAgZ,EAAA2qG,EAAAnlH,EAAAuiI,EAAA5+H,EAAA,OAAAqxB,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,UACN64E,EAAc3Y,MAAkB,EAAhC2Y,CAAsC57E,GADhCgrB,EAAArwB,KAAA,EAGCk1G,EAHD9jI,OAAAC,EAAA,EAAAD,CAAA,GAGkB8B,GACjBiiI,EACLjd,GAAO,CACNz9B,KAAMy6C,EAAU5jI,QAChBugE,KAAMqjE,EAAU7hI,SAChBF,SAAUA,EAAS7B,WACd,KATF++C,EAAAo7B,KAYF0pD,GAZE9kF,EAAAo7B,GAAA,CAAAp7B,EAAAjoB,KAAA,eAAAioB,EAAAjoB,KAAA,EAaGmrF,GAAa,CACnBngH,QAAS+hI,EACT3hB,cAAc,IAfX,OAAAnjE,EAAAo7B,GAAAp7B,EAAAwJ,KAAA,WAAAxJ,EAAAo7B,GAAA,CAAAp7B,EAAAjoB,KAAA,SAmBJ8sG,EAAU9hI,QAAU+hI,EAnBhB9kF,EAAAjoB,KAAA,wBAAAioB,EAAAjoB,KAAA,GA2BM6zF,GAAW,CAAE/oH,OAAQgiI,IA3B3B,eAAA/gI,EAAAk8C,EAAAwJ,KAsBHu5D,EAtBGj/G,EAsBHi/G,UACAvhD,EAvBG19D,EAuBH09D,KACAu1C,EAxBGjzG,EAwBHizG,UACArK,EAzBG5oG,EAyBH4oG,KACAsW,EA1BGl/G,EA0BHk/G,UA1BGhjE,EAAAjoB,KAAA,GA6BiC+qF,GAAW,CAC/ChgH,SAAUA,EAAS7B,QACnBugE,KAAMA,EACNuhD,YACAhM,YACArK,OACAsW,YACAC,cAAe4hB,EAAU5jI,UApCtB,QAAA+C,EAAAg8C,EAAAwJ,KA6BIxsC,EA7BJhZ,EA6BIgZ,OAAQ2qG,EA7BZ3jH,EA6BY2jH,WAUD,OAAX3qG,IACHyqG,GAAO,CACNr9B,KAAMvnF,EAAO5B,QACbymH,IAAK3E,EACLvhD,KAAM3+D,EAAOG,SACb2kH,WAAYA,EACZ7kH,SAAUA,EAAS7B,UAEpB4jI,EAAU9hI,QAAUggH,GA/CjB,eAmDCvgH,EAAU,CACfW,MAAOA,EACPN,OAAQgiI,EACR/hI,SAAS/B,OAAAC,EAAA,EAAAD,CAAA,GAAM+B,IAtDXk9C,EAAAjoB,KAAA,GAyD6Bo1F,GAAsB,CACvDC,YAAa9nC,GACb9iF,YA3DI,WAyDCuiI,EAzDD/kF,EAAAwJ,KA8DLhnD,EAAQM,SAASwqH,oBAAjBvsH,OAAA++B,GAAA,EAAA/+B,CAAA,GACEukF,GAAsBy/C,GAGxBf,GAAc,CACb3nF,UAAUt7C,OAAAC,EAAA,EAAAD,CAAA,GAAMyB,IADjBwhI,CAEGhvG,IAEC4vG,EAtEC,CAAA5kF,EAAAjoB,KAAA,gBAAAioB,EAAAjoB,KAAA,GAuEEikE,aAAgB,CACrB74F,MAAON,EAAOM,MACdi1F,SAAUv1F,EAAOu1F,WAzEd,QA6ECjyF,EAAOuC,aAAsBvI,KACnCo8E,EAAe,qBAAqB,EAApCA,CAA2CvnD,EAAU70B,GAEjD,CAAC,aAAc,aAAamS,SAASnM,IACxC6uB,EAASra,aAAI,cAAAnR,OAAerD,KAC5B0qG,EAAe,WAAY,GAA3BA,CAA+B77E,IAE/BA,EAASra,aAAK,iBApFVqlC,EAAAjoB,KAAA,iBAAAioB,EAAArwB,KAAA,GAAAqwB,EAAA8mE,GAAA9mE,EAAA,SAuFLnvB,QAAQqB,MAAM,sBAAd8tB,EAAA8mE,IACA1mC,EAAS,CACRl3E,KAAM,SACNsR,MAAOzP,aAAU,sBAAuB,CAAEH,KAAM,CAAC+lG,EAAW3wD,EAAA8mE,OAC5D9yF,QAAS,KAHVosD,CAIGprD,GA5FE,QA+FN47E,EAAc3Y,MAAkB,EAAhC2Y,CAAuC57E,GA/FjC,yBAAAgrB,EAAA9nB,SAAA6nB,EAAA,kBAAP,gBAAAuuD,EAAAC,GAAA,OAAA5qG,EAAAiR,MAAA4d,KAAA3yB,YAAA,GAmGM,SAASw8F,KACf,sBAAAl4F,EAAApD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAyoB,EAAelrB,GAAf,IAAAgwG,EAAA,OAAAxtG,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,cAAAooB,EAAApoB,KAAA,EACY2/E,KADZ,cACAstB,EADA7kF,EAAAqJ,KAAArJ,EAAAk7B,OAAA,SAECrmD,EAAS,CACf9rB,KAAM2I,IACNmzH,SAJK,wBAAA7kF,EAAAjoB,SAAAgoB,MAAP,gBAAAs5D,GAAA,OAAAr1G,EAAAyQ,MAAA4d,KAAA3yB,YAAA,YAScolI,mFAAf,SAAA1oB,EAAiCp8G,GAAjC,IAAAD,EAAAm5F,EAAAr2F,EAAAkiI,EAAA,OAAA1tG,EAAA53B,EAAAi4B,KAAA,SAAA2kF,GAAA,cAAAA,EAAA7sF,KAAA6sF,EAAAzkF,MAAA,UACO73B,EAAQC,IACRk5F,EAAevqE,aAAmB5uB,GAClC8C,EAAWO,YAAerD,GAHjCs8G,EAAAphC,GAMEp4E,IAAa6/B,KAAWC,SAASvkB,KANnCi+F,EAAAphC,GAAA,CAAAohC,EAAAzkF,KAAA,YAAAykF,EAAAsK,IAOI9jH,GACgC,aAAjCq2F,EAAapuE,IAAI,aARpBuxF,EAAAsK,GAAA,CAAAtK,EAAAzkF,KAAA,gBAAAykF,EAAAzkF,KAAA,EASU0+D,eATV,OAAA+lB,EAAA4K,GAAA5K,EAAAhzD,KAAAgzD,EAAAwO,GASyCnoF,KAAWC,SAASvkB,KAT7Di+F,EAAAsK,GAAAtK,EAAA4K,KAAA5K,EAAAwO,GAAA,QAAAxO,EAAAphC,GAAAohC,EAAAsK,GAAA,eAKOoe,EALP1oB,EAAAphC,GAAAohC,EAAAnhC,OAAA,SAWQ6pD,GAXR,yBAAA1oB,EAAAtkF,SAAAqkF,6BAcO,SAAS4oB,KAAqC,IAAX79H,GAAWzH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,IAAPyH,GACzC,sBAAA7C,EAAA1D,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAiiF,EAAe1kF,EAAU70B,GAAzB,OAAAq3B,EAAA53B,EAAAi4B,KAAA,SAAA8hF,GAAA,cAAAA,EAAAhqF,KAAAgqF,EAAA5hF,MAAA,cAAA4hF,EAAA5hF,KAAA,EAEEktG,GAAkB9kI,GAFpB,UAAAw5G,EAAAv+B,GAAAu+B,EAAAnwD,MAAAmwD,EAAAv+B,GAAA,CAAAu+B,EAAA5hF,KAAA,QAAA4hF,EAAAv+B,GAGLvzE,gBAA0BmjG,KAAkB1jG,IAAO,IAAI2jG,IAHlD,WAAA0O,EAAAv+B,GAAA,CAAAu+B,EAAA5hF,KAAA,QAKL0iB,EACC,KACA,KACA,CACCzsC,MAAOjD,aAAU,WACjBkrB,KAAMlrB,aAAU,mCAAoC,CACnDH,KAAM,CAACogG,KAAiB,WAAuBzsF,UAGjD,EATDk8B,CAUEzlB,GAfG2kF,EAAA5hF,KAAA,gBAiBL0iB,EAAc,KAAM,KAAM,IAAI,GAAM,EAApCA,CAA2CzlB,GAjBtC,yBAAA2kF,EAAAzhF,SAAAwhF,MAAP,gBAAAG,EAAAI,GAAA,OAAAx1G,EAAAmQ,MAAA4d,KAAA3yB,YAAA,GAsBM,IAAMulI,GAA0B,WAAyB,IAAxBC,EAAwBxlI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACxD,sBAAAgF,EAAA9D,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsiF,EAAe/zG,EAAG7F,GAAlB,IAAAD,EAAAikI,EAAA3hI,EAAA8iI,EAAAtiI,EAAAuiI,EAAAtkI,EAAA6B,EAAA+3G,EAAA,OAAArjF,EAAA53B,EAAAi4B,KAAA,SAAAmiF,GAAA,cAAAA,EAAArqF,KAAAqqF,EAAAjiF,MAAA,OACA73B,EAAQC,IACRgkI,EAAUvhI,YAAW1C,GACrBsC,EAAUD,YAAcrC,GAHxBolI,EAI6B9iI,EAAQK,OAAnCG,EAJFsiI,EAIEtiI,SAJFuiI,EAAAD,EAIYrkI,eAJZ,IAAAskI,EAIsB,GAJtBA,GAOLpB,GACAnhI,IAAa6/B,KAAWC,SAASvkB,MAC/B8mH,GACDpkI,EAAQwsC,gBAAkB43F,EAAe53F,cAG/B02F,IACLrhI,EAAW+C,aAAe3F,GACxB26G,EAA0B/3G,EAA1B+3G,sBACRv0E,cAAQu0E,GAAyBA,IAA0BwqB,IAJ3D/+F,eAZK,wBAAA0zE,EAAA9hF,SAAA6hF,MAAP,gBAAAG,EAAAI,GAAA,OAAAz1G,EAAA+P,MAAA4d,KAAA3yB,YAAA,IAqBM,SAAS2lI,KACf,sBAAAvgI,EAAAlE,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA2iF,EAAep0G,EAAG7F,GAAlB,IAAAslI,EAAA,OAAAjuG,EAAA53B,EAAAi4B,KAAA,SAAAwiF,GAAA,cAAAA,EAAA1qF,KAAA0qF,EAAAtiF,MAAA,cAAAsiF,EAAAtiF,KAAA,EACkBktG,GAAkB9kI,GADpC,WAAAk6G,EAAA7wD,KAAA,CAAA6wD,EAAAtiF,KAAA,eAAAsiF,EAAAtiF,KAAA,EAGyB2tG,eAHzB,OAGCD,EAHDprB,EAAA7wD,KAIL47E,GAAwBK,EAAxBL,CAAyCp/H,EAAG7F,GAJvC,wBAAAk6G,EAAAniF,SAAAkiF,MAAP,gBAAAM,EAAAC,GAAA,OAAA11G,EAAA2P,MAAA4d,KAAA3yB,YAAA,GASM,SAAS48F,KACf,sBAAAr3F,EAAArE,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA+iF,EAAex0G,EAAG7F,GAAlB,OAAAq3B,EAAA53B,EAAAi4B,KAAA,SAAA4iF,GAAA,cAAAA,EAAA9qF,KAAA8qF,EAAA1iF,MAAA,cAAA0iF,EAAA1iF,KAAA,EACW4tG,eADX,OAENR,GAAwB,CAAE79H,GAFpBmzG,EAAAjxD,MAEN27E,CAAgCn/H,EAAG7F,GAF7B,wBAAAs6G,EAAAviF,SAAAsiF,MAAP,gBAAAQ,EAAAC,GAAA,OAAA71G,EAAAwP,MAAA4d,KAAA3yB,YAAA,GAMM,SAASu8F,KACf,sBAAA32F,EAAA1E,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAqjF,EAAe90G,EAAG7F,GAAlB,OAAAq3B,EAAA53B,EAAAi4B,KAAA,SAAAkjF,GAAA,cAAAA,EAAAprF,KAAAorF,EAAAhjF,MAAA,OACN0kE,KAAuBz2F,EAAG7F,GAC1BqlI,KAAuBx/H,EAAG7F,GACtBk9C,OAAOuoF,WACVvoF,OAAOuoF,SAASv6C,GAAG,kBAAmB,SAAAw6C,GACrCh1G,QAAQ06D,IAAI,cAAes6C,EAAS,IACpCT,GAAwBS,EAAS,GAAjCT,CAAqCp/H,EAAG7F,KAEzCk9C,OAAOuoF,SAASv6C,GAAG,eAAgB,SAAAy6C,GAClCj1G,QAAQ06D,IAAI,eAAgBu6C,GAC5BzoF,OAAO7vC,SAASopF,YAVZ,wBAAAmkB,EAAA7iF,SAAA4iF,MAAP,gBAAAO,EAAAC,GAAA,OAAA71G,EAAAmP,MAAA4d,KAAA3yB,YAAA,YAgBckmI,mFAAf,SAAAxoB,EAAAn0F,GAAA,IAAAjmB,EAAAi1F,EAAAggB,EAAA1L,EAAAl2F,EAAAgiG,EAAA,OAAAhhF,EAAA53B,EAAAi4B,KAAA,SAAAimF,GAAA,cAAAA,EAAAnuF,KAAAmuF,EAAA/lF,MAAA,cAA2B50B,EAA3BimB,EAA2BjmB,MAAOi1F,EAAlChvE,EAAkCgvE,SAC3BggB,EAAO4tB,aAAa7iI,GAD3B26G,EAAA/lF,KAAA,EAEoBkuG,aAAc,CAAE7tB,OAAMhgB,aAF1C,cAEOsU,EAFPoR,EAAAt0D,KAAAs0D,EAAA/lF,KAAA,EAGmCugF,GAAe,CAAE5L,SAHpD,cAAAl2F,EAAAsnG,EAAAt0D,KAGSgvD,EAHThiG,EAGSgiG,gBAHTsF,EAAAziC,OAAA,WAKUm9B,GAAmBA,EAAgB31G,QAL7C,yBAAAi7G,EAAA5lF,SAAAqlF,sCAQe2oB,mFAAf,SAAAhoB,EAAA7oG,GAAA,IAAAlS,EAAAi1F,EAAAp1F,EAAAmjI,EAAAC,EAAA5tB,EAAA,OAAAhhF,EAAA53B,EAAAi4B,KAAA,SAAAsmF,GAAA,cAAAA,EAAAxuF,KAAAwuF,EAAApmF,MAAA,cAA4B50B,EAA5BkS,EAA4BlS,MAAOi1F,EAAnC/iF,EAAmC+iF,SAAUp1F,EAA7CqS,EAA6CrS,SACtCmjI,EAAaH,aAAa7iI,GADjCg7G,EAAApmF,KAAA,EAE0BkuG,aAAc,CAAE7tB,KAAM+tB,EAAY/tC,aAF5D,cAEOguC,EAFPjoB,EAAA30D,KAAA20D,EAAApmF,KAAA,EAG+BsuG,aAAsB,CACnDljI,QACAi1F,WACAp1F,aANF,cAGOw1G,EAHP2F,EAAA30D,KAAA20D,EAAApmF,KAAA,GASOwgF,GAAa,CAClBp1G,QACAi1G,KAAM+tB,EACNz5B,KAAM05B,EACN5tB,oBAbF,yBAAA2F,EAAAjmF,SAAAgmF,6BAiBO,SAASjiB,KACf,sBAAA3mF,EAAAvU,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA0jF,EAAenmF,EAAU70B,GAAzB,IAAAmmI,EAAAnjI,EAAAi1F,EAAAp1F,EAAAujI,EAAA,OAAA/uG,EAAA53B,EAAAi4B,KAAA,SAAAujF,GAAA,cAAAA,EAAAzrF,KAAAyrF,EAAArjF,MAAA,UACN64E,EAAcxE,MAAqB,EAAnCwE,CAAyC57E,GADnComF,EAAAzrF,KAAA,EAAA22G,EAGiCrjI,aAAa9C,KAA3CgD,EAHHmjI,EAGGnjI,MAAOi1F,EAHVkuC,EAGUluC,SAAUp1F,EAHpBsjI,EAGoBtjI,SACnBujI,EAAuB,UAAbvjI,GAAqC,UAAbA,EAJnCo4G,EAAAhgC,GAMDmrD,GANCnrB,EAAAhgC,GAAA,CAAAggC,EAAArjF,KAAA,eAAAqjF,EAAArjF,KAAA,EAMkBguG,GAAU,CAAE5iI,QAAOi1F,aANrC,OAAAgjB,EAAAhgC,IAAAggC,EAAA5xD,KAAA,WAAA4xD,EAAAhgC,GAAA,CAAAggC,EAAArjF,KAAA,gBAAAqjF,EAAArjF,KAAA,GAOEmuG,GAAW,CAAE/iI,QAAOi1F,WAAUp1F,aAPhC,QAAAo4G,EAAArjF,KAAA,iBAAAqjF,EAAAzrF,KAAA,GAAAyrF,EAAA0L,GAAA1L,EAAA,iBAUNxK,EAAcxE,MAAqB,EAAnCwE,CAA0C57E,GAVpC,yBAAAomF,EAAAljF,SAAAijF,EAAA,kBAAP,gBAAAY,EAAAC,GAAA,OAAA1mG,EAAAV,MAAA4d,KAAA3yB,YAAA,GAcM,SAASuxF,KACf,sBAAAr7E,EAAAhV,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA+jF,EAAexmF,EAAU70B,GAAzB,IAAAqC,EAAA0O,EAAA,OAAAsmB,EAAA53B,EAAAi4B,KAAA,SAAA4jF,GAAA,cAAAA,EAAA9rF,KAAA8rF,EAAA1jF,MAAA,UACNwkD,EAAe,qBAAqB,EAApCA,CAA2CvnD,EAAU70B,GAC/CqC,EAAUD,YAAcpC,KAFxBs7G,EAAArgC,IAGL0nD,GAAiB3iI,EAAUqC,IAHtBi5G,EAAArgC,GAAA,CAAAqgC,EAAA1jF,KAAA,eAAA0jF,EAAA1jF,KAAA,EAIEssG,GAA0B,kBAChCtzB,EAAwB,uBAAuB,EAA/CA,CAAqD/7E,EAAU70B,IADzDkkI,CAELrvG,EAAU70B,GANP,cAQQ0lH,GAAY,kBACzB9U,EAAwB,YAAY,EAApCA,CAA0C/7E,EAAU70B,IADvC0lH,CAEZ7wF,EAAU70B,GAEcwiG,KAAsB54F,MAAM,kBACrDgnG,EAAwB,qBAAqB,EAA7CA,CAAmD/7E,EAAU70B,KAE5CyiG,KAAc74F,MAAM,kBACrCgnG,EAAwB,aAAa,EAArCA,CAA2C/7E,EAAU70B,KAEvCg4D,KAA6BnjC,EAAU70B,GAChD+Q,EAAgB0yH,KAA+B5uG,EAAU70B,GAnBzDs7G,EAAA1jF,KAAA,GAqBAqvB,QAAQxmD,IACiCsQ,GAtBzC,eAAAuqG,EAAA1jF,KAAA,GAyBA8qE,KAAU94F,MAAM,kBACrBgnG,EAAwB,SAAS,EAAjCA,CAAuC/7E,EAAU70B,KA1B5C,QA6BNo8E,EAAe,qBAAqB,EAApCA,CAA0CvnD,EAAU70B,GA7B9C,yBAAAs7G,EAAAvjF,SAAAsjF,MAAP,gBAAAY,EAAAC,GAAA,OAAAtmG,EAAAnB,MAAA4d,KAAA3yB,YAAA,GAiCM,SAASyxF,KACf,sBAAAt7E,EAAAjV,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAokF,EAAe7mF,EAAU70B,GAAzB,OAAAq3B,EAAA53B,EAAAi4B,KAAA,SAAAikF,GAAA,cAAAA,EAAAnsF,KAAAmsF,EAAA/jF,MAAA,OACNwkD,EAAe,qBAAqB,EAApCA,CAA2CvnD,EAAU70B,GACrD6pG,KAAc9xE,OACdyqE,KAAsBzqE,OACtB0qE,KAAc1qE,OACd2qE,KAAU3qE,OALJ,wBAAA4jF,EAAA5jF,SAAA2jF,MAAP,gBAAAe,EAAAC,GAAA,OAAA7mG,EAAApB,MAAA4d,KAAA3yB,YAAA,GAUM,SAAS2mI,KAA4B,IAAjBh/H,EAAiB3H,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GACvC,sBAAAyW,EAAAvV,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAykF,EAAelnF,EAAU70B,GAAzB,OAAAq3B,EAAA53B,EAAAi4B,KAAA,SAAAskF,GAAA,cAAAA,EAAAxsF,KAAAwsF,EAAApkF,MAAA,cAAAokF,EAAApkF,KAAA,EACA64E,EAAcnpG,KAAiBD,GAAY,EAA3CopG,CAAiD57E,GADjD,cAAAmnF,EAAApkF,KAAA,EAEAskE,KAAmBrnE,EAAU70B,GAF7B,cAAAg8G,EAAApkF,KAAA,EAGAssG,KAA4BrvG,EAAU70B,GAHtC,cAAAg8G,EAAApkF,KAAA,EAQA,IAAIqvB,QAAQ,SAAAC,GAAO,OAAIt0B,WAAWs0B,EAAS,OAR3C,cAAA80D,EAAApkF,KAAA,GASA64E,EAAcnpG,KAAiBD,GAAY,EAA3CopG,CAAkD57E,GATlD,yBAAAmnF,EAAAjkF,SAAAgkF,MAAP,gBAAA6B,EAAAC,GAAA,OAAA1nG,EAAA1B,MAAA4d,KAAA3yB,YAAA,iBC5fM,SAAS44F,GAAevhD,EAAMpiC,GACpC,OAAO,SAASkgB,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACNqlC,KAAMA,EACNpiC,MAAOA,KAKH,SAAS+kF,KACf,OAAO,SAAS7kE,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,OAKF,SAASiiF,GAATrzF,GAA2C,IAAnB0C,EAAmB1C,EAAnB0C,MAAOH,EAAYvC,EAAZuC,SACrC,OAAO,SAASgyB,GAWf,OAVAA,EAAS,CACR9rB,KAAM2I,MAGPmjB,EAAS,CACR9rB,KAAM2I,IACNqlC,KAAM,QACNpiC,MAAO3R,IAGD6xB,EAAS,CACf9rB,KAAM2I,IACNqlC,KAAM,WACNpiC,MAAO9R,KAMH,SAASyjI,GAAavvF,EAAMpiC,GAClC,OAAO,SAASkgB,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,KACNqlC,KAAMA,EACNpiC,MAAOA,KAKH,SAAS4xH,KACf,OAAO,SAAS1xG,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,OAKF,SAAS80H,GAAoBhvG,GACnC,sBAAAx2B,EAAAJ,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAC,EAAe1C,GAAf,IAAAwyB,EAAAo/E,EAAAC,EAAA,OAAArvG,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,OACN64E,EAAcvE,MAAwB,EAAtCuE,CAA4C57E,GACtCwyB,EAAO7vB,EAAM8I,OAAOqmG,MAAM,IAC1BF,EAAS,IAAIG,YAEZh/F,OAAS,SAAArO,GACf,IACC,IAAMstG,EAAMxnH,KAAKzS,MAAM2sB,EAAG+G,OAAO1kB,QACjC,KACEirH,GACAA,EAAIthH,KACJshH,EAAInkI,QACJmkI,EAAInkI,OAAOsX,MACX6sH,EAAInkI,OAAOC,UACXkkI,EAAInkI,OAAOmjF,YAEZ,MAAM,IAAI+jB,MAAMlpG,aAAE,sBAElB6vB,aAAmBs2G,EAAInkI,OAAQmkI,EAAIthH,KACnC+yE,GAAe,sBAAuBuuC,EAAIthH,IAA1C+yE,CAA+CzjE,GAC/CorD,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,kCACTmzB,QAAS,KAHVosD,CAIGprD,GAEH,MAAOvE,GACRI,QAAQqB,MAAM,sCAAuCzB,GACrD2vD,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,6BAA8B,CACtC+J,KAAM,CAAC6lB,EAAIslB,WAEZ/hB,QAAS,KALVosD,CAMGprD,GAEJ47E,EAAcvE,MAAwB,EAAtCuE,CAA4C57E,IAGvC6xG,EAAU,SAAAp2G,GACfI,QAAQqB,MAAM,gCAAiCzB,GAC/C2vD,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,6BAA8B,CACtC+J,KAAM,CAAC+lG,EAAYlgF,MAEpBuD,QAAS,KALVosD,CAMGprD,GACH47E,EAAcvE,MAAwB,EAAtCuE,CAA6C57E,IAG9C4xG,EAAO9+F,QAAU,SAAArX,GAChBm2G,EAAOK,QACPJ,EAAQp2G,IAGTm2G,EAAO5+F,QAAU,SAAAtO,GAChBmtG,EAAQhmI,aAAE,0BAGX+lI,EAAOM,WAAW1/E,GA5DZ,wBAAA1vB,EAAAI,SAAAR,MAAP,gBAAAS,GAAA,OAAAh3B,EAAAyT,MAAA4d,KAAA3yB,YAAA,GAgEM,SAASy5F,GAATh4F,GAA0C,IAATuR,EAASvR,EAATuR,MACvC,sBAAAnR,EAAAX,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAmoB,EAAe5qB,EAAU70B,GAAzB,IAAA0B,EAAAqxG,EAAAi0B,EAAA79H,EAAA6Q,EAAA,OAAAqd,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,cACN64E,EAAcxX,MAA0B,EAAxCwX,CAA8C57E,GADxC6qB,EAAAlwB,KAAA,EAAAkwB,EAAA9nB,KAAA,EAGsBu7E,aAAUzwE,KAAW6nE,UAH3C,cAAA7oG,EAAAg+C,EAAA2J,KAGG0pD,EAHHrxG,EAGGqxG,SAHHrzD,EAAA9nB,KAAA,EAIsBy/E,GAAmB,CAAE3kG,UAJ3C,cAICs0H,EAJDtnF,EAAA2J,KAKClgD,EAAwBD,aAA4BlJ,KACpDga,EAAOpZ,OAAOooB,QAAQg+G,GAC1Bp5H,OACA,SAAAF,GAAC,QACEA,KACAA,EAAE,MACDvE,GACAuE,EAAE,GAAG4/B,gBAAkBnkC,EAAsBmkC,iBAGjDlsC,IATW,eAAAY,EAAApB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KASP,SAAAgoB,EAAAz9C,GAAA,IAAAM,EAAAyE,EAAAy7E,EAAAwW,EAAA,OAAAxhE,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAAAz1B,EAAAvB,OAAAsS,GAAA,EAAAtS,CAAAiB,EAAA,GAAQ+E,EAARzE,EAAA,GAAsBkgF,EAAtBlgF,EAAA,GAAAo9C,EAAA/vB,KAAA,EAAA+vB,EAAA3nB,KAAA,EAEem7E,EAASk0B,cAAcrgI,GAFtC,cAEGiyF,EAFHt5C,EAAA8J,KAAA9J,EAAA27B,OAAA,SAGI,CACNv4E,SAAUiE,EACVy7E,YACAwW,QANE,cAAAt5C,EAAA/vB,KAAA,EAAA+vB,EAAA07B,GAAA17B,EAAA,SAAAA,EAAA27B,OAAA,SASI,MATJ,yBAAA37B,EAAAxnB,SAAAunB,EAAA,iBATO,gBAAAouD,GAAA,OAAA1rG,EAAAyS,MAAA4d,KAAA3yB,YAAA,IANRggD,EAAA9nB,KAAA,GA4B0BqvB,QAAQxmD,IAAIuZ,GA5BtC,QAAA0lC,EAAAu7B,GA4BoD,SAAAvtE,GAAC,QAAMA,GAEhE4qF,GAAe,kBA9BV54C,EAAA2J,KA4B6Cz7C,OA5B7C8xC,EAAAu7B,IA8BLqd,CAAmDzjE,GA9B9C6qB,EAAA9nB,KAAA,iBAAA8nB,EAAAlwB,KAAA,GAAAkwB,EAAAinE,GAAAjnE,EAAA,SAgCLhvB,QAAQqB,MAAM,+BAAd2tB,EAAAinE,IACA1mC,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,+BAAgC,CACxC+J,KAAM,CAAC+lG,EAAW9wD,EAAAinE,OAEnB9yF,QAAS,KALVosD,CAMGprD,GAvCE,QAyCN47E,EAAcxX,MAA0B,EAAxCwX,CAA+C57E,GAzCzC,yBAAA6qB,EAAA3nB,SAAA0nB,EAAA,kBAAP,gBAAAQ,EAAA0pD,GAAA,OAAApoG,EAAAkT,MAAA4d,KAAA3yB,YAAA,GA6CM,SAASwnI,KACf,sBAAA1jI,EAAA5C,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsoB,EAAe/qB,EAAU70B,GAAzB,IAAAmnI,EAAAzkI,EAAAM,EAAAo1F,EAAAC,EAAA2uC,EAAAI,EAAA3C,EAAArgI,EAAAzB,EAAA,OAAA00B,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,UAAAioB,EAAArwB,KAAA,EAAA23G,EAWDzhI,aAAe1F,KARlB0C,EAHIykI,EAGJzkI,OACAM,EAJImkI,EAIJnkI,MACAo1F,EALI+uC,EAKJ/uC,SACAC,EANI8uC,EAMJ9uC,SACA2uC,EAPIG,EAOJH,aACAI,EARID,EAQJC,eACA3C,EATI0C,EASJ1C,iBATI0C,EAUJE,gBAVI,CAAAxnF,EAAAjoB,KAAA,eAAAioB,EAAAjoB,KAAA,EAcEigF,GAAWj3G,OAAAC,EAAA,EAAAD,CAAA,CAChB8R,MAAOhQ,EAAO5B,QACdkC,MAAOA,EAAMsqC,cACb8qD,WACAC,YACG+uC,IAnBA,cAAAvnF,EAAAjoB,KAAA,EAwBG0/E,GAAgB,CACtB1wG,aAAcogI,EAAalmI,UAzBxB,UAAA++C,EAAAo7B,GAAAp7B,EAAAwJ,KAAAxJ,EAAAo7B,GAAA,CAAAp7B,EAAAjoB,KAAA,SAAAioB,EAAAo7B,GA0BG,GA1BH,WAuBC72E,EAvBDy7C,EAAAo7B,MA2BCt4E,EA3BD/B,OAAAC,EAAA,EAAAD,CAAA,GA4BDomI,EA5BC,CA6BJlmI,QAASsD,EAAYI,WAAWmgH,IAChCx/G,kBAAmBf,EAAYe,kBAC/Bi/H,gBAAiBhgI,EAAYggI,gBAC7BhgI,iBAEYe,kBAAkBzC,EAAO5B,SAAW,GAlC5C,CAAA++C,EAAAjoB,KAAA,gBAAAioB,EAAAjoB,KAAA,GAmCE2sG,GAAc,CACnB5hI,WACAD,SACAM,QACAyhI,mBAJKF,CAKH1vG,EAAU70B,GAxCT,QAAA6/C,EAAAjoB,KAAA,iBA0CJqoD,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,2BACTmzB,QAAS,KAHVosD,CAIGprD,GA9CC,QAAAgrB,EAAAjoB,KAAA,iBAAAioB,EAAArwB,KAAA,GAAAqwB,EAAA8mE,GAAA9mE,EAAA,SAiDLnvB,QAAQqB,MAAM,YAAd8tB,EAAA8mE,IACA1mC,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,YAAa,CAAE+J,KAAM,CAAC+lG,EAAW3wD,EAAA8mE,OAC1C9yF,QAAS,KAHVosD,CAIGprD,GAtDE,yBAAAgrB,EAAA9nB,SAAA6nB,EAAA,kBAAP,gBAAAkuD,EAAAC,GAAA,OAAAvqG,EAAAiR,MAAA4d,KAAA3yB,YAAA,GA2DM,SAAS25F,GAAT11F,GAAmD,IAArB0D,EAAqB1D,EAArB0D,WAAYya,EAASne,EAATme,MAChD,sBAAAje,EAAAjD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAyoB,EAAelrB,EAAU70B,GAAzB,IAAA2C,EAAAs1F,EAAAj1F,EAAAH,EAAAH,EAAAqvB,EAAAu1G,EAAArd,EAAAhS,EAAA1L,EAAAvoG,EAAAq0G,EAAAD,EAAAvmF,EAAA6mF,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,UACN64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GAC1BlyB,EAAW+C,aAAe1F,KACxBi4F,EAA8Bt1F,EAA9Bs1F,SAAUj1F,EAAoBL,EAApBK,MAAOH,EAAaF,EAAbE,SAErBH,EAAS,GACTqvB,EAAQ,4BACRu1G,EAAiBzkI,EAPfm9C,EAAAxwB,KAAA,GAUDxsB,IAASi1F,EAVR,CAAAj4C,EAAApoB,KAAA,gBAAAooB,EAAApoB,KAAA,GAWmBwyF,aAAe,CACrCpnH,QACAi1F,WACAp1F,SAAUykI,IAdP,WAWArd,EAXAjqE,EAAAqJ,KAAA,CAAArJ,EAAApoB,KAAA,gBAkBGqgF,EAAO4tB,aAAa7iI,GAlBvBg9C,EAAApoB,KAAA,GAmBgBkuG,aAAc,CAAE7tB,OAAMhgB,aAnBtC,eAmBGsU,EAnBHvsD,EAAAqJ,KAAArJ,EAAApoB,KAAA,GAqBKugF,GAAe,CACrB5L,SAtBC,WAAAvsD,EAAAi7B,GAAAj7B,EAAAqJ,KAAArJ,EAAAi7B,GAAA,CAAAj7B,EAAApoB,KAAA,SAAAooB,EAAAi7B,GAuBK,GAvBL,WAAAj3E,EAAAg8C,EAAAi7B,GAoBKo9B,EApBLr0G,EAoBKq0G,mBAKFD,EAAeC,GAAmB,IAG1B31G,QACb01G,EAAa7yF,KACb6yF,EAAa11G,OAAOsX,MACpBo+F,EAAa11G,OAAOC,UACpBy1G,EAAa11G,OAAOmjF,YAhClB,CAAA7lC,EAAApoB,KAAA,gBAkCI/F,EAAO01G,aAAWnvB,EAAa7yF,IAAK,SAAU,MACpD+hH,EAAiBz1G,EAAKhvB,SACtB0tB,aAAmB6nF,EAAa11G,OAAQ01G,EAAa7yF,KApCnDy6B,EAAApoB,KAAA,GAsCiBwyF,aAAe,CACjCpnH,QACAi1F,WACAp1F,SAAUykI,IAzCT,QAsCFrd,EAtCEjqE,EAAAqJ,KAAA,aA8CE4gE,GAAcA,EAAWjwG,MAAQiwG,EAAWjwG,KAAKlZ,SA9CnD,CAAAk/C,EAAApoB,KAAA,aA+CHl1B,EAAM9B,OAAAC,EAAA,EAAAD,CAAA,GAAQqpH,EAAWjwG,OAClBhX,MAAQA,EACfN,EAAOu1F,SAAWA,EAClBv1F,EAAOG,SAAWykI,GAAkB5kG,KAAWgoE,MAAMtsF,KACrD1b,EAAOC,SAAW,CACjB7B,QAASmpH,EAAWtnH,SACpBkjF,WAAYokC,EAAWpkC,YAAcokC,EAAWud,oBAG5C3kI,EAxDF,CAAAm9C,EAAApoB,KAAA,gBAAAooB,EAAApoB,KAAA,GAyDIgkE,aAAoB,CAAE54F,QAAOi1F,aAzDjC,QA0DFK,GAAe,mBAAmB,EAAlCA,CAAwCzjE,GA1DtC,QA8DJyjE,GAAe,eAAgB2xB,EAAaA,EAAWtnH,SAAW,KAAlE21F,CACCzjE,GAEDyjE,GAAe,SAAU51F,EAAzB41F,CAAiCzjE,GACjCyjE,GAAe,aAAc51F,EAAO5B,QAApCw3F,CAA6CzjE,GAC7CyjE,GAAe,eAAgB51F,EAAOC,SAAtC21F,CAAgDzjE,GAnE5C,QAAAmrB,EAAApoB,KAAA,iBAAAooB,EAAAxwB,KAAA,GAAAwwB,EAAA2mE,GAAA3mE,EAAA,SAsELtvB,QAAQqB,MAAM,yBAAdiuB,EAAA2mE,IACA50F,EAAKiuB,EAAA2mE,GAvEA,WA0EAjO,IAAYh2G,EAAO5B,QAEzB26C,GAASp0C,EAAY,SAAU,CAC9BqxG,UACApoF,IAAK,CAAEmmB,IAAK,yBAA0BhsC,KAAM,CAAC+lG,EAAYz+E,KACzDjQ,MAAOA,GAHR25B,CAIG5mB,IAEC6jF,EAlFE,CAAA14D,EAAApoB,KAAA,gBAAAooB,EAAApoB,KAAA,GAmFCsvG,KAAQryG,EAAU70B,GAnFnB,QAqFNywG,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GArF3B,yBAAAmrB,EAAAjoB,SAAAgoB,EAAA,kBAAP,gBAAAouD,EAAAC,GAAA,OAAAvqG,EAAA4Q,MAAA4d,KAAA3yB,YAAA,GAyFM,SAAS65F,GAATp1F,GAAsD,IAArBkD,EAAqBlD,EAArBkD,WAAYya,EAAS3d,EAAT2d,MACnD,sBAAAxd,EAAA1D,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAiiF,EAAe1kF,EAAU70B,GAAzB,IAAA2C,EAAAD,EAAAs2F,EAAAl4F,EAAA2mI,EAAAT,EAAAtuB,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAA8hF,GAAA,cAAAA,EAAAhqF,KAAAgqF,EAAA5hF,MAAA,UACN64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GAD1B2kF,EAAAhqF,KAAA,EAGC7sB,EAAW+C,aAAe1F,KACxB0C,EAAoCC,EAApCD,OAAQs2F,EAA4Br2F,EAA5Bq2F,wBACRl4F,EAAY4B,EAAZ5B,QAEF2mI,GAAqBzuC,GAA2B,IAAI91F,MAAM,KAC1D8jI,EAAe,CACpBlmI,QAAS2mI,EAAkB,GAC3B5hD,WAAYjrE,SAAS6sH,EAAkB,IAAM,IAG9CnvC,GAAe,SAAU51F,EAAzB41F,CAAiCzjE,GACjCyjE,GAAe,aAAcx3F,EAA7Bw3F,CAAsCzjE,GACtCyjE,GAAe,eAAgB0uC,EAA/B1uC,CAA6CzjE,GAI7C4mB,GAASp0C,EAAY,0BAA2B,CAC/CqxG,QAHKA,IAAYsuB,EAAalmI,QAI9BwvB,IAAK,CAAEmmB,IAAK,6BACZ30B,MAAOA,GAHR25B,CAIG5mB,IAEC6jF,EAzBC,CAAAc,EAAA5hF,KAAA,gBAAA4hF,EAAA5hF,KAAA,GA0BEsvG,KAAQryG,EAAU70B,GA1BpB,QAAAw5G,EAAA5hF,KAAA,iBAAA4hF,EAAAhqF,KAAA,GAAAgqF,EAAAv+B,GAAAu+B,EAAA,SA6BL9oF,QAAQqB,MAAM,gCAAdynF,EAAAv+B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,gCAAiC,CACzC+J,KAAM,CAAC+lG,EAAWgJ,EAAAv+B,OAEnBpnD,QAAS,KALVosD,CAMGprD,GApCE,QAuCN47E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GAvC3B,yBAAA2kF,EAAAzhF,SAAAwhF,EAAA,kBAAP,gBAAAF,EAAAI,GAAA,OAAAn1G,EAAAmQ,MAAA4d,KAAA3yB,YAAA,GA2CM,SAASgoI,GAAThjI,GAAsE,IAAxC2C,EAAwC3C,EAAxC2C,WAAYya,EAA4Bpd,EAA5Bod,MAAO6lH,EAAqBjjI,EAArBijI,kBACvD,sBAAA7iI,EAAAlE,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsiF,EAAe/kF,EAAU70B,GAAzB,IAAA2C,EAAAiE,EAAA5D,EAAAN,EAAAg2G,EAAAjgB,EAAA6wB,EAAA0d,EAAA,OAAA3vG,EAAA53B,EAAAi4B,KAAA,SAAAmiF,GAAA,cAAAA,EAAArqF,KAAAqqF,EAAAjiF,MAAA,WACL+vG,GAAqBl3B,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GAChDlyB,EAAW+C,aAAe1F,KACxB4G,EAAgCjE,EAAhCiE,aAAc5D,EAAkBL,EAAlBK,MAAON,EAAWC,EAAXD,OAHvBm3G,EAAArqF,KAAA,EAKDkpF,IAAY9xG,KAAkBlE,KAAYM,EACzC4D,IAAgBlE,IAAYM,EAN5B,CAAA62G,EAAAjiF,KAAA,gBAOE6gE,EAAa/1F,EAAO5B,QAPtB+4G,EAAAjiF,KAAA,EASiBu7F,GAAsB,CAAEzgH,MAAO+lF,IAThD,OASE6wB,EATFzP,EAAAxwD,KAUE29E,EAAe,CACpBlmI,QAASwoH,EAAO1iH,aAChBi/E,WAAYyjC,EAAOzjC,YAGpByS,GAAe,eAAgBgxB,EAAO1iH,aAAtC0xF,CAAoDzjE,GACpDyjE,GAAe,iBAAkBgxB,EAAjChxB,CAAyCzjE,GACzCyjE,GAAe,eAAgB0uC,EAA/B1uC,CAA6CzjE,GAE7CyjE,GAAe,SAAU51F,EAAzB41F,CAAiCzjE,GACjCyjE,GAAe,aAAcG,EAA7BH,CAAyCzjE,GACzCyjE,GAAe,mBAAmB,EAAlCA,CAAwCzjE,GAExC6jF,EAAU4Q,EAAO1iH,gBAAkBlE,KAAYM,EAvB3C,eAAA62G,EAAAjiF,KAAA,GA0BC6jB,GAASp0C,EAAY,eAAgB,CAC1CqxG,UACApoF,IAAK,CAAEmmB,IAAK,8BACZ30B,SAHK25B,CAIH5mB,GA9BE,YAgCD6jF,EAhCC,CAAAmB,EAAAjiF,KAAA,gBAAAiiF,EAAAjiF,KAAA,GAiCEsvG,KAAQryG,EAAU70B,GAjCpB,QAAA65G,EAAAjiF,KAAA,iBAAAiiF,EAAArqF,KAAA,GAAAqqF,EAAA5+B,GAAA4+B,EAAA,SAoCLnpF,QAAQqB,MAAM,6BAAd8nF,EAAA5+B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,6BAA8B,CACtC+J,KAAM,CAAC+lG,EAAWqJ,EAAA5+B,OAEnBpnD,QAAS,KALVosD,CAMGprD,GA3CE,SA8CL8yG,GAAqBl3B,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GA9CjD,yBAAAglF,EAAA9hF,SAAA6hF,EAAA,kBAAP,gBAAAF,EAAAI,GAAA,OAAAh1G,EAAA2P,MAAA4d,KAAA3yB,YAAA,GAkDM,SAASkoI,GAAT3iI,GAAoD,IAArBoC,EAAqBpC,EAArBoC,WAAYya,EAAS7c,EAAT6c,MACjD,sBAAAxc,EAAA1E,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA2iF,EAAeplF,EAAU70B,GAAzB,IAAA2C,EAAAiE,EAAA5D,EAAAi1F,EAAAygB,EAAA71G,EAAAonH,EAAAxxB,EAAA6wB,EAAAue,EAAAb,EAAA,OAAA3vG,EAAA53B,EAAAi4B,KAAA,SAAAwiF,GAAA,cAAAA,EAAA1qF,KAAA0qF,EAAAtiF,MAAA,UACN64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GAC1BlyB,EAAW+C,aAAe1F,KACxB4G,EAAkCjE,EAAlCiE,aAAc5D,EAAoBL,EAApBK,MAAOi1F,EAAat1F,EAAbs1F,SAHvBiiB,EAAA1qF,KAAA,EAKDkpF,IAAY9xG,GAAgB5D,GAASi1F,EAEpCrxF,IAAgB5D,IAASi1F,EAPzB,CAAAiiB,EAAAtiF,KAAA,gBAQE/0B,EAAW6/B,KAAWioE,MAAMvsF,KAR9B87F,EAAAtiF,KAAA,EAUqBkwG,aAAkB,CAC1C9kI,QACAi1F,WACAp1F,aAbG,cAUEonH,EAVF/P,EAAA7wD,MAgBOrmD,MAAQA,EACnBinH,EAAWhyB,SAAWA,EAEhBQ,EAAawxB,EAAWnpH,QAnB1Bo5G,EAAAtiF,KAAA,GAqBiBu7F,GAAsB,CAAEzgH,MAAO+lF,IArBhD,eAqBE6wB,EArBFpP,EAAA7wD,KAuBEziD,EAAe0iH,EAAO1iH,aACtBogI,EAAe,CACpBlmI,QAAS8F,EACTi/E,WAAYyjC,EAAOzjC,YA1BhBq0B,EAAAtiF,KAAA,GA6BEmwG,aAAgB,CACrB/kI,QACAi1F,WACAp1F,WACAmlI,QAAS,WACTC,UAAWrhI,IAlCR,eAAAszG,EAAAtiF,KAAA,GAoCEmwG,aAAgB,CACrB/kI,QACAi1F,WACAp1F,WACAmlI,QAAS,aACTC,UAAWjB,EAAanhD,aAzCrB,QA4CJyS,GAAe,eAAgB1xF,EAA/B0xF,CAA6CzjE,GAC7CyjE,GAAe,iBAAkBgxB,EAAjChxB,CAAyCzjE,GACzCyjE,GAAe,eAAgB0uC,EAA/B1uC,CAA6CzjE,GAE7CyjE,GAAe,SAAU2xB,EAAzB3xB,CAAqCzjE,GACrCyjE,GAAe,aAAcG,EAA7BH,CAAyCzjE,GACzCyjE,GAAe,mBAAmB,EAAlCA,CAAwCzjE,GAExC6jF,IAAY9xG,EApDR,eAAAszG,EAAAtiF,KAAA,GAuDC6jB,GAASp0C,EAAY,eAAgB,CAC1CqxG,UACApoF,IAAK,CAAEmmB,IAAK,8BACZ30B,SAHK25B,CAIH5mB,GA3DE,YA6DD6jF,EA7DC,CAAAwB,EAAAtiF,KAAA,gBAAAsiF,EAAAtiF,KAAA,GA8DEsvG,KAAQryG,EAAU70B,GA9DpB,QAAAk6G,EAAAtiF,KAAA,iBAAAsiF,EAAA1qF,KAAA,GAAA0qF,EAAAj/B,GAAAi/B,EAAA,SAiELxpF,QAAQqB,MAAM,8BAAdmoF,EAAAj/B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,8BAA+B,CACvC+J,KAAM,CAAC+lG,EAAW0J,EAAAj/B,OAEnBpnD,QAAS,KALVosD,CAMGprD,GAxEE,QA2EN47E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GA3E3B,yBAAAqlF,EAAAniF,SAAAkiF,EAAA,kBAAP,gBAAAF,EAAAI,GAAA,OAAA70G,EAAAmP,MAAA4d,KAAA3yB,YAAA,GA+EM,SAASw7F,GAATjyE,GAAsE,IAAzC5hB,EAAyC4hB,EAAzC5hB,WAAYya,EAA6BmH,EAA7BnH,MAAOy8B,EAAsBt1B,EAAtBs1B,QAASkgB,EAAax1C,EAAbw1C,UAC/D,sBAAAvpD,EAAAtU,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA+iF,EAAexlF,EAAU70B,GAAzB,IAAA2C,EAAAK,EAAAg1F,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAl7E,EAAAu7F,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAA4iF,GAAA,cAAAA,EAAA9qF,KAAA8qF,EAAA1iF,MAAA,cACAj1B,EAAW+C,aAAe1F,KAE/BgD,EAOGL,EAPHK,MACAg1F,EAMGr1F,EANHq1F,WACAC,EAKGt1F,EALHs1F,SACAC,EAIGv1F,EAJHu1F,cACAC,EAGGx1F,EAHHw1F,SACAC,EAEGz1F,EAFHy1F,SACAC,EACG11F,EADH01F,SATKiiB,EAAA1iF,KAAA,EAYoBqvB,QAAQxmD,IAAI,CACrC8gH,GAAcl6G,EAAYrE,EAAO8e,GAAO,EAAxCy/F,CAA8C1sF,GAC9CskF,GAAmB9xG,EAAY2wF,EAAYh1F,EAAO8e,EAAlDq3F,CAAyDtkF,GACzDukF,GAAiB/xG,EAAY4wF,EAAUn2E,EAAvCs3F,CAA8CvkF,GAC9CykF,GAAsBjyG,EAAY6wF,EAAeD,EAAUn2E,EAA3Dw3F,CACCzkF,GAEDkmF,GAAiB1zG,EAAY+wF,EAAUt2E,EAAvCi5F,CAA8ClmF,GAC9CumF,GAAiB/zG,EAAY+wF,EAAUC,EAAUv2E,EAAjDs5F,CAAwDvmF,GACxD8kF,GAAYtyG,EAAY8wF,EAAUr2E,EAAlC63F,CAAyC9kF,KArBpC,UAYA1X,EAZAm9F,EAAAjxD,OAwBAqvD,EAAUv7F,EAAYrU,MAAM,SAAA2lC,GAAC,OAAU,IAANA,KAxBjC,CAAA6rE,EAAA1iF,KAAA,gBA2BL64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GA3B3BylF,EAAA1iF,KAAA,GA4BCgwG,GAAoB,CAAEvgI,aAAYya,QAAO6lH,mBAAmB,GAA5DC,CACL/yG,EACA70B,GA9BI,QAkCNk5G,GAAsB,CAAER,UAASn6D,UAASkgB,cAE1CgyC,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GApC3B,yBAAAylF,EAAAviF,SAAAsiF,MAAP,gBAAAE,EAAAC,GAAA,OAAAtlG,EAAAT,MAAA4d,KAAA3yB,YAAA,GAwCM,SAAS87F,GAATrmF,GAAqE,IAAzC9N,EAAyC8N,EAAzC9N,WAAYya,EAA6B3M,EAA7B2M,MAA6B3M,EAAtBopC,QAAsBppC,EAAbspD,UAC9D,sBAAA7oD,EAAAhV,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAqjF,EAAe9lF,EAAU70B,GAAzB,IAAA2C,EAAAD,EAAAg4G,EAAA13G,EAAAg1F,EAAAG,EAAAC,EAAAC,EAAAK,EAAAv7E,EAAA,OAAAka,EAAA53B,EAAAi4B,KAAA,SAAAkjF,GAAA,cAAAA,EAAAprF,KAAAorF,EAAAhjF,MAAA,cACAj1B,EAAW+C,aAAe1F,KAE/B0C,EAQGC,EARHD,OACAg4G,EAOG/3G,EAPH+3G,sBACA13G,EAMGL,EANHK,MACAg1F,EAKGr1F,EALHq1F,WACAG,EAIGx1F,EAJHw1F,SACAC,EAGGz1F,EAHHy1F,SACAC,EAEG11F,EAFH01F,SACAK,EACG/1F,EADH+1F,mBAVKkiB,EAAAhjF,KAAA,EAaoBqvB,QAAQxmD,IAAI,CAErC25G,GAAe/yG,EAAY3E,EAAQof,EAAnCs4F,CAA0CvlF,GAC1C4lF,GAA8BpzG,EAAYqzG,EAAuB54F,EAAjE24F,CACC5lF,GAID0sF,GAAcl6G,EAAYrE,EAAO8e,GAAO,EAAxCy/F,CAA8C1sF,GAC9CskF,GAAmB9xG,EAAY2wF,EAAYh1F,EAAO8e,EAAlDq3F,CAAyDtkF,GACzDkmF,GAAiB1zG,EAAY+wF,EAAUt2E,EAAvCi5F,CAA8ClmF,GAC9CumF,GAAiB/zG,EAAY+wF,EAAUC,EAAUv2E,EAAjDs5F,CAAwDvmF,GACxD8kF,GAAYtyG,EAAY8wF,EAAUr2E,EAAlC63F,CAAyC9kF,GACzC4mF,GAAsBp0G,EAAYqxF,EAAoB52E,EAAtD25F,CAA6D5mF,KA1BxD,UAaA1X,EAbAy9F,EAAAvxD,MA6BUlsC,EAAYrU,MAAM,SAAA2lC,GAAC,OAAU,IAANA,IA7BjC,CAAAmsE,EAAAhjF,KAAA,gBAgCL64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GAhC3B+lF,EAAAhjF,KAAA,GAiCC8vG,GAAmB,CACxBrgI,aACAya,QACA6lH,mBAAmB,GAHdD,CAIH7yG,EAAU70B,GArCR,QA0CNywG,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GA1C3B,yBAAA+lF,EAAA7iF,SAAA4iF,MAAP,gBAAAE,EAAAC,GAAA,OAAAllG,EAAAnB,MAAA4d,KAAA3yB,YAAA,GA8CM,SAAS+5F,GAAT5jF,GAKJ,IAJFxO,EAIEwO,EAJFxO,WACAya,EAGEjM,EAHFiM,MACAy8B,EAEE1oC,EAFF0oC,QACAkgB,EACE5oD,EADF4oD,UAEA,sBAAAtoD,EAAAvV,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA0jF,EAAenmF,EAAU70B,GAAzB,IAAA2C,EAAA+3G,EAAAh4G,EAAAya,EAAAu7F,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAujF,GAAA,cAAAA,EAAAzrF,KAAAyrF,EAAArjF,MAAA,cACN64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GAE1BlyB,EAAW+C,aAAe1F,KACxB06G,EAAkC/3G,EAAlC+3G,sBAAuBh4G,EAAWC,EAAXD,OAJzBu4G,EAAArjF,KAAA,EAMoBqvB,QAAQxmD,IAAI,CACrC25G,GAAe/yG,EAAY3E,EAAQof,EAAnCs4F,CAA0CvlF,GAC1C4lF,GAA8BpzG,EAAYqzG,EAAuB54F,EAAjE24F,CACC5lF,KATI,cAMA1X,EANA89F,EAAA5xD,KAaAqvD,EAAUv7F,EAAYrU,MAAM,SAAA2lC,GAAC,OAAU,IAANA,IAbjCwsE,EAAArjF,KAAA,EAeAshF,GAAsB,CAAER,UAASn6D,UAASkgB,cAf1C,OAiBNgyC,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GAjB3B,yBAAAomF,EAAAljF,SAAAijF,MAAP,gBAAAE,EAAAC,GAAA,OAAAhlG,EAAA1B,MAAA4d,KAAA3yB,YAAA,GAqBM,SAASwoI,GAAT7xH,GAQJ,IAPFvV,EAOEuV,EAPFvV,QACA+B,EAMEwT,EANFxT,SACAwyF,EAKEh/E,EALFg/E,iBACAE,EAIEl/E,EAJFk/E,gBACAv+D,EAGE3gB,EAHF2gB,KACA2uG,EAEEtvH,EAFFsvH,QACAvwC,EACE/+E,EADF++E,SAEA,sBAAA9+E,EAAA1V,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA+jF,EAAexmF,EAAU70B,GAAzB,IAAA0C,EAAA,OAAA20B,EAAA53B,EAAAi4B,KAAA,SAAA4jF,GAAA,cAAAA,EAAA9rF,KAAA8rF,EAAA1jF,MAAA,OAWN0gE,GAAe,yBAVT51F,EAAS,CACd5B,UACA+B,WACAwyF,mBACAE,kBACAv+D,OACA2uG,UACAvwC,aAG8Ct0F,QAA/Cw3F,CAAwDzjE,GACxDyjE,GAAe,SAAU51F,EAAzB41F,CAAiCzjE,GAZ3B,wBAAAymF,EAAAvjF,SAAAsjF,MAAP,gBAAAE,EAAAC,GAAA,OAAAllG,EAAA7B,MAAA4d,KAAA3yB,YAAA,GAgBM,SAAS08F,GAAiB3tE,GAChC,OAAO,SAASoG,GACf,IAEM7xB,EAFe,IAAI4rB,gBAAgBH,GAEd3D,IAAI,gBAE3B9nB,IACHs1F,GAAe,QAASt1F,EAAxBs1F,CAA+BzjE,GAC/ByjE,GAAe,aAAct1F,EAA7Bs1F,CAAoCzjE,KAKhC,SAASu8D,GAAT76E,GAAwC,IAAXzV,EAAWyV,EAAXzV,QACnC,sBAAA4V,EAAA9V,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAokF,EAAe7mF,EAAU70B,GAAzB,IAAA2W,EAAAo8F,EAAA30F,EAAA,OAAAiZ,EAAA53B,EAAAi4B,KAAA,SAAAikF,GAAA,cAAAA,EAAAnsF,KAAAmsF,EAAA/jF,MAAA,cACN64E,EAAa,OAAApnG,OAAQvI,IAAW,EAAhC2vG,CAAsC57E,GADhC8mF,EAAAnsF,KAAA,EAAAmsF,EAAA/jF,KAAA,EAIsBu7E,aAAUzwE,KAAW6nE,UAJ3C,cAAA5zF,EAAAglG,EAAAtyD,KAIG0pD,EAJHp8F,EAIGo8F,SAJH4I,EAAA/jF,KAAA,EAKcm7E,EAASk0B,cAAcnmI,GALrC,cAKCsd,EALDu9F,EAAAtyD,KAAAsyD,EAAAzgC,OAAA,SAMErmD,EAAS,CACf9rB,KAAM2I,KACNI,KAAMhR,EACN6T,MAAOyJ,KATH,QAAAu9F,EAAAnsF,KAAA,GAAAmsF,EAAA1gC,GAAA0gC,EAAA,SAYLjrF,QAAQqB,MAAM,4BAAd4pF,EAAA1gC,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,4BAA6B,CACrC+J,KAAM,CAAC+lG,EAAWmL,EAAA1gC,OAEnBpnD,QAAS,KALVosD,CAMGprD,GAnBE,QAqBN47E,EAAa,OAAApnG,OAAQvI,IAAW,EAAhC2vG,CAAuC57E,GArBjC,yBAAA8mF,EAAA5jF,SAAA2jF,EAAA,kBAAP,gBAAAE,EAAAC,GAAA,OAAAnlG,EAAAjC,MAAA4d,KAAA3yB,YAAA,GAyBM,SAASo3F,KACf,sBAAAhgF,EAAAlW,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAykF,EAAelnF,EAAU70B,GAAzB,IAAA6C,EAAAkU,EAAAg8F,EAAArwG,EAAAylI,EAAArnI,EAAA,OAAAu2B,EAAA53B,EAAAi4B,KAAA,SAAAskF,GAAA,cAAAA,EAAAxsF,KAAAwsF,EAAApkF,MAAA,cACN64E,EAAcra,MAAwB,EAAtCqa,CAA4C57E,GADtCmnF,EAAAxsF,KAAA,EAIC3sB,EAAW6/B,KAAWC,SAASvkB,KAJhC49F,EAAApkF,KAAA,EAKsBu7E,aAAUtwG,GALhC,cAAAkU,EAAAilG,EAAA3yD,KAKG0pD,EALHh8F,EAKGg8F,SACFrwG,EAAS,CACdG,YAPIm5G,EAAApkF,KAAA,GAUwBkzF,GAAU,CAAEpoH,SAAQqwG,aAV5C,eAUCo1B,EAVDnsB,EAAA3yD,KAAA2yD,EAAApkF,KAAA,GAWiBuwG,EAAel0B,aAXhC,eAWCnzG,EAXDk7G,EAAA3yD,KAAA2yD,EAAApkF,KAAA,GAYeq4F,GAAmB,CACtCnvH,QAAS,CAAEA,WACXwuH,iBAAiB,IAdb,QAiBLh3B,GAAe,QAjBV0jB,EAAA3yD,KAiBLivC,CAA+BzjE,EAAU70B,GAEzCkoI,GAAqB,CACpBpnI,UACA+B,WACAuyF,SAAU1yD,KAAWC,SAASyyD,UAH/B8yC,CAIGrzG,EAAU70B,GAvBRg8G,EAAApkF,KAAA,iBAAAokF,EAAAxsF,KAAA,GAAAwsF,EAAA/gC,GAAA+gC,EAAA,SAyBLtrF,QAAQqB,MAAM,oBAAdiqF,EAAA/gC,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,oBAAqB,CAC7B+J,KAAM,CAAC+lG,EAAWwL,EAAA/gC,OAEnBpnD,QAAS,KALVosD,CAMGprD,GAhCE,QAkCN47E,EAAcra,MAAwB,EAAtCqa,CAA6C57E,GAlCvC,yBAAAmnF,EAAAjkF,SAAAgkF,EAAA,kBAAP,gBAAAE,EAAAC,GAAA,OAAAplG,EAAArC,MAAA4d,KAAA3yB,YAAA,GAsCM,SAAS43F,KACf,sBAAApgF,EAAAtW,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA8kF,EAAevnF,EAAU70B,GAAzB,IAAAoX,EAAA27F,EAAArwG,EAAA0lI,EAAA/wH,EAAAsxG,EAAA0f,EAAA,OAAAhxG,EAAA53B,EAAAi4B,KAAA,SAAA2kF,GAAA,cAAAA,EAAA7sF,KAAA6sF,EAAAzkF,MAAA,cACN64E,EAAcvZ,MAA4B,EAA1CuZ,CAAgD57E,GAD1CwnF,EAAA7sF,KAAA,EAAA6sF,EAAAzkF,KAAA,EAGsBu7E,aAAUzwE,KAAWG,OAAOzkB,MAHlD,cAAAhH,EAAAilG,EAAAhzD,KAGG0pD,EAHH37F,EAGG27F,SAEFrwG,EAAS,CACdG,SAAU6/B,KAAWG,OAAOzkB,MANxBi+F,EAAAzkF,KAAA,EASsBkzF,GAAU,CAAE/X,WAAUrwG,WAT5C,cASC0lI,EATD/rB,EAAAhzD,KAAAgzD,EAAAzkF,KAAA,GAW8BwwG,EAAa5f,aAAa,CAC5Dl2G,KAAM,EACN+Q,GAAI,KAbA,WAAAhM,EAAAglG,EAAAhzD,KAWGs/D,EAXHtxG,EAWGsxG,SAXHtxG,EAWYsa,SAKDg3F,EAAQ52F,MAhBnB,CAAAsqF,EAAAzkF,KAAA,gBAiBJ64E,EAActZ,MAA2B,EAAzCsZ,CAAgD57E,GAE1CwzG,EAAmB1f,EAAQvnH,IAAI,SAAAN,GAAO,OAC3CmvH,GAAmB,CAAEnvH,cApBlBu7G,EAAAzkF,KAAA,GAuBkBqvB,QAAQxmD,IAAI4nI,GAvB9B,QAyBJ/vC,GAAe,YAzBX+jB,EAAAhzD,KAyBJivC,CAAqCzjE,EAAU70B,GAC/Cs4F,GAAe,mBAAoB8vC,EAAapxG,KAAhDshE,CACCzjE,EACA70B,GA5BGq8G,EAAAzkF,KAAA,uBA8BQ,IAAIgyE,MAAM+e,EAAQ52F,OAAS,cA9BnC,QAgCL0+E,EAAc,6BAA6B,EAA3CA,CAAkD57E,GAhC7CwnF,EAAAzkF,KAAA,iBAAAykF,EAAA7sF,KAAA,GAAA6sF,EAAAphC,GAAAohC,EAAA,SAkCL3rF,QAAQqB,MAAM,kBAAdsqF,EAAAphC,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,kBAAmB,CAC3B+J,KAAM,CAAC+lG,EAAW6L,EAAAphC,OAEnBpnD,QAAS,KALVosD,CAMGprD,GAzCE,QA2CN47E,EAActZ,MAA2B,EAAzCsZ,CAAgD57E,GAChD47E,EAAcvZ,MAA4B,EAA1CuZ,CAAiD57E,GA5C3C,yBAAAwnF,EAAAtkF,SAAAqkF,EAAA,kBAAP,gBAAAK,EAAAC,GAAA,OAAAxlG,EAAAzC,MAAA4d,KAAA3yB,YAAA,GAgDM,SAASyD,GAAToU,GAMJ,IALF+9E,EAKE/9E,EALF+9E,SACAC,EAIEh+E,EAJFg+E,gBACAF,EAGE99E,EAHF89E,iBACAD,EAEE79E,EAFF69E,SACAvyF,EACE0U,EADF1U,SAEA,sBAAA2U,EAAA5W,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA8lF,EAAevoF,EAAU70B,GAAzB,IAAAc,EAAAk2B,EAAA,OAAAK,EAAA53B,EAAAi4B,KAAA,SAAAimF,GAAA,cAAAA,EAAAnuF,KAAAmuF,EAAA/lF,MAAA,OACE92B,EAAkBw0F,EAAlBx0F,QAASk2B,EAASs+D,EAATt+D,KAEjBkxG,GAAqB,CACpBpnI,UACA+B,WACAuyF,WACAp+D,OACAq+D,mBACAE,mBAND2yC,CAOGrzG,EAAU70B,GAVP,wBAAA29G,EAAA5lF,SAAAqlF,MAAP,gBAAAQ,EAAAC,GAAA,OAAArmG,EAAA/C,MAAA4d,KAAA3yB,YAAA,GCjzBM,SAAS4oI,GAAThoI,GAA6C,IAArBioI,EAAqBjoI,EAArBioI,MAAOhjH,EAAcjlB,EAAdilB,IAAK5Q,EAASrU,EAATqU,MAC1C,OAAO,SAASkgB,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACN62H,MAAOA,EACPhjH,IAAKA,EACL5Q,MAAOA,KAKH,SAAS6zH,GAATxnI,GAAgC,IAATunI,EAASvnI,EAATunI,MAC7B,OAAO,SAAS1zG,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACN62H,MAAOA,KAOH,IAAME,GAAa,SAAAtnI,GAAoC,IAAjCunI,EAAiCvnI,EAAjCunI,QAASC,EAAwBxnI,EAAxBwnI,QAASC,EAAeznI,EAAfynI,SAC9C,OAAO,SAAA/zG,GACN,OAAOA,EAAS,CACf9rB,KAAM2I,IACNg3H,QAASA,EACTC,QAASA,EACTC,SAAUA,MAIA/lC,GAAe,WAC3B,OAAO,SAAAhuE,GACN,OAAOA,EAAS,CACf9rB,KAAM2I,QClCIm3H,GAAW,eAAAvoI,EAAAM,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAC,IAAA,IAAAjb,EAAAtb,EAAA+xG,EAAA+1B,EAAA71B,EAAAvzG,UAAA,OAAA23B,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAOtb,EAAP22F,EAAAtzG,OAAA,QAAAC,IAAAqzG,EAAA,GAAAA,EAAA,GAAgB,MAAhBt7E,EAAAC,KAAA,EACCu7E,aAAUzwE,KAAW6nE,UADtB,cAAAvpG,EAAA22B,EAAA0xB,KAClB0pD,EADkB/xG,EAClB+xG,SADkBp7E,EAAAC,KAAA,EAEHm7E,EAAS81B,cAFN,cAEpBC,EAFoBnxG,EAAA0xB,KAAA1xB,EAAAujD,OAAA,SAGnBr3D,uBAAYilH,EAASj+D,WAAYvuD,IAHd,wBAAAqb,EAAAI,SAAAR,MAAH,yBAAAj3B,EAAAmU,MAAA4d,KAAA3yB,YAAA,GCkCjB,SAASgiF,GAATphF,GAAkD,IAAlBqhF,EAAkBrhF,EAAlBqhF,GAAIp8D,EAAcjlB,EAAdilB,IAAK5Q,EAASrU,EAATqU,MAC/C,OAAO,SAASkgB,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACNiwE,GAAIA,EACJp8D,IAAKA,EACL5Q,MAAOA,KAKH,SAASsuF,KACf,OAAO,SAASpuE,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,OAKF,SAASyyE,GAATnjF,GAAqC,IAAN2gF,EAAM3gF,EAAN2gF,GACrC,OAAO,SAAS9sD,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACNiwE,GAAIA,KAKA,SAASztB,GAAuB60E,GACtC,sBAAA5nI,EAAAP,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAC,EAAe1C,EAAU70B,GAAzB,IAAAD,EAAA+B,EAAAknI,EAAAF,EAAA,OAAAzxG,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cACA73B,EAAQC,IACR8B,EAAcF,aAAkB7B,GAChCipI,EAAkBnlH,uBAAY/hB,EAAa,QAH3C61B,EAAAC,KAAA,EAIiBixG,GAAY,QAJ7B,UAIAC,EAJAnxG,EAAA0xB,QAKD2/E,GAAmBF,GALlB,CAAAnxG,EAAAC,KAAA,eAMDmxG,GACH9oD,EAAS,CACRl3E,KAAM,UACNsR,MAAO3Z,aAAE,6BACTmzB,QAAS,KAHVosD,CAIGprD,GAXC8C,EAAAujD,OAAA,SAcEx6E,aAAE,8BAdJ,wBAAAi3B,EAAAI,SAAAR,MAAP,gBAAAS,EAAAioB,GAAA,OAAA9+C,EAAAsT,MAAA4d,KAAA3yB,YAAA,GAoBM,SAASupI,GAAT1nI,GAA0C,IAAZogF,EAAYpgF,EAAZogF,GAAIsI,EAAQ1oF,EAAR0oF,KACxC,OAAO,SAASp1D,GACf,GAAK8sD,GAAOA,EAAG4qB,MAAStiB,EAExB,OAAOp1D,EAAS,CACf9rB,KAAM2I,IACNiD,MAAOgtE,EACPA,GAAIA,EAAG4qB,KACPtiB,KAAMA,KAMF,SAASi/C,GAATxnI,GAAyD,IAAxBigF,EAAwBjgF,EAAxBigF,GAAIp8D,EAAoB7jB,EAApB6jB,IAAK5Q,EAAejT,EAAfiT,MAAOs1E,EAAQvoF,EAARuoF,KACvD,OAAO,SAASp1D,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,KACNiwE,GAAIA,EACJp8D,IAAKA,EACL5Q,MAAOA,EACPs1E,KAAMA,KAKF,SAASk/C,GAATtnI,GAA4C,IAAZ8/E,EAAY9/E,EAAZ8/E,GAAIsI,EAAQpoF,EAARooF,KAC1C,OAAO,SAASp1D,GACf,OAAOA,EAAS,CACf9rB,KAAM2I,IACNiwE,GAAIA,EACJsI,KAAMA,KAKF,SAASvF,GAAT1iF,GAOJ,IANFw8C,EAMEx8C,EANFw8C,QACAn3C,EAKErF,EALFqF,WAEAya,GAGE9f,EAJFuhF,KAIEvhF,EAHF8f,OACAy8B,EAEEv8C,EAFFu8C,QACAkgB,EACEz8D,EADFy8D,UAEA,sBAAAt8D,EAAAvB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAgoB,EAAezqB,EAAU70B,GAAzB,IAAAD,EAAAqpI,EAAAhnD,EAAAE,EAAAD,EAAAoW,EAAA51F,EAAAwmI,EAAA3wB,EAAA4wB,EAAAjnI,EAAAygF,EAAA,OAAAzrD,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAAA2nB,EAAA3nB,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,UAED/S,EAFC,CAAAy9B,EAAA3nB,KAAA,eAAA2nB,EAAA3nB,KAAA,EAGCyuG,GAAWh/H,EAAXg/H,CAAuBxxG,EAAU70B,GAHlC,cAKAD,EAAQC,IALRopI,EAM0C7mH,aAC/CxiB,EACAy+C,GAFO4jC,EANFgnD,EAMEhnD,QAASE,EANX8mD,EAMW9mD,gBAAiBD,EAN5B+mD,EAM4B/mD,UAI5BoW,EAAat1F,aAAoBpD,GACjC8C,EAAWO,YAAerD,GAX1Bw/C,EAAA3nB,KAAA,GAayBqvB,QAAQxmD,IAAI,CAC1Cq/G,GAAmB,CAClBz4G,aACA4iF,KAAM7H,EACNrrC,KAAM,UACNw9D,UAAU,EACVD,aAAa,EACbzxG,WACAif,QACA2yF,YAAa3yF,GARdg+F,CASGjrF,GACHgsF,GAAkB,CACjBx5G,aACAg7E,YACAvgE,SAHD++F,CAIGhsF,KA5BE,WAaAw0G,EAbA9pF,EAAA8J,OA+BFqvD,EAAU2wB,EAAiBvgI,MAAM,SAAA2lC,GAAC,OAAU,IAANA,KA/BpC,CAAA8Q,EAAA3nB,KAAA,gBAAA2nB,EAAA3nB,KAAA,GAkCoByoF,GAA0B,CAClDh5G,aACA+6E,UACAqW,aACAnW,kBACAD,YACAvgE,QACAjf,YAPwBw9G,CAQtBxrF,GA1CE,eAkCCy0G,EAlCD/pF,EAAA8J,KA4CLqvD,EAAU4wB,EAAW5wB,QA5ChBn5D,EAAA3nB,KAAA,GA8CC8pD,GAAqB,CAC1BC,GAAInjC,EACJj5B,IAAK,aACL5Q,MAAO20H,EAAW7yF,KAHbirC,CAIH7sD,GAlDE,YAqDF6jF,EArDE,CAAAn5D,EAAA3nB,KAAA,gBAsDCv1B,EAAUD,YAAcrC,GAtDzBw/C,EAAA3nB,KAAA,GAuDkB09F,GAAqB,CAC3CjzC,YACAD,UACAkyC,aAAa,EACbjyH,YA3DI,eAuDCygF,EAvDDvjC,EAAA8J,KAAA9J,EAAA3nB,KAAA,GA8DC8pD,GAAqB,CAC1BC,GAAInjC,EACJj5B,IAAK,WACL5Q,MAAOmuE,GAHFpB,CAIH7sD,EAAU70B,GAlER,eAAAu/C,EAAA3nB,KAAA,GAoEWmlF,GAAa,CAC5B11G,aACA21G,aAAcl6B,EAASsyC,QACvBnY,gBAAiB,IACjBn7F,SAJei7F,CAKbloF,EAAU70B,GAzER,QAoEL04G,EApEKn5D,EAAA8J,KAAA,eAAA9J,EAAA3nB,KAAA,GA4EAshF,GAAsB,CAAER,UAASn6D,UAASkgB,cA5E1C,eAAAlf,EAAA3nB,KAAA,GA8EA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GA9EjC,yBAAA0qB,EAAAxnB,SAAAunB,MAAP,gBAAAqqD,EAAA+D,GAAA,OAAAvrG,EAAAsS,MAAA4d,KAAA3yB,YAAA,GAkFM,SAASilF,GAATnhF,GAAyD,IAAtB4+E,EAAsB5+E,EAAtB4+E,QAASC,EAAa7+E,EAAb6+E,UAClD,sBAAA1+E,EAAA/C,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAmoB,EAAe5qB,EAAU70B,GAAzB,IAAAqC,EAAAuZ,EAAA,OAAAyb,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,cAAA8nB,EAAAlwB,KAAA,EAECntB,EAAUD,YAAcpC,KAFzB0/C,EAAA9nB,KAAA,EAGgB09F,GAAqB,CACzCjzH,UACA+/E,UACAC,cANI,OAGCzmE,EAHD8jC,EAAA2J,KAQL42B,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,sCAAuC,CAC/C+J,KAAM,CAACmR,KAERiY,QAAS,MAbL6rB,EAAA9nB,KAAA,gBAAA8nB,EAAAlwB,KAAA,EAAAkwB,EAAAu7B,GAAAv7B,EAAA,SAgBLhvB,QAAQqB,MAAM,0CAAd2tB,EAAAu7B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,0CAA2C,CACnD+J,KAAM,CAAC+lG,EAAW9wD,EAAAu7B,OAEnBpnD,QAAS,KALVosD,CAMGprD,GAvBE,yBAAA6qB,EAAA3nB,SAAA0nB,EAAA,iBAAP,gBAAAquD,EAAAC,GAAA,OAAApqG,EAAA8Q,MAAA4d,KAAA3yB,YAAA,GA4BM,SAAS4kF,GAATzgF,GAMJ,IALF26C,EAKE36C,EALF26C,QACAn3C,EAIExD,EAJFwD,WACAya,EAGEje,EAHFie,MACAy8B,EAEE16C,EAFF06C,QACAkgB,EACE56D,EADF46D,UAEA,sBAAAz6D,EAAApD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsoB,EAAe/qB,EAAU70B,GAAzB,IAAAD,EAAAsC,EAAAunE,EAAA7/C,EAAA/G,EAAAumH,EAAAroD,EAAAC,EAAAk8B,EAAAC,EAAAC,EAAAC,EAAA36G,EAAAwmI,EAAA3wB,EAAA51B,EAAA,OAAAzrD,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cAAAioB,EAAAjoB,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,UAED/S,EAFC,CAAA+9B,EAAAjoB,KAAA,eAAAioB,EAAAjoB,KAAA,EAGCyuG,GAAWh/H,EAAXg/H,CAAuBxxG,EAAU70B,GAHlC,cAKAD,EAAQC,IACRqC,EAAUD,YAAcrC,GANxB6pE,EAOuBvoE,aAAgBtB,GAArCgqB,EAPF6/C,EAOE7/C,OAAQ/G,EAPV4mD,EAOU5mD,SAPVumH,EAQmChnH,aACxCxiB,EACAy+C,GAFO0iC,EARFqoD,EAQEroD,iBAAkBC,EARpBooD,EAQoBpoD,WARpBk8B,EAcF35G,YAAsB3D,GADUu9G,EAb9BD,EAaLn+E,kCAbKq+E,EAiBFx5G,YAA4BhE,GADIy9G,EAhB9BD,EAgBLr+E,kCAIKr8B,EAAWO,YAAerD,GApB1B8/C,EAAAjoB,KAAA,GAsByBqvB,QAAQxmD,IAAI,CAC1Cq/G,GAAmB,CAClBz4G,aACA4iF,KAAM9I,EACNpqC,KAAM,aACNw9D,UAAU,EACVD,aAAa,EACbzxG,WACAif,QACA2yF,YAAa3yF,GARdg+F,CASGjrF,GACHipF,GAAuB,CACtBz2G,aACA65E,mBACAo8B,uCACAE,6CACAx6F,WACA+G,SACAjI,SAPDg8F,CAQGjpF,KAzCE,WAsBAw0G,EAtBAxpF,EAAAwJ,KA4CFqvD,EAAU2wB,EAAiBvgI,MAAM,SAAA2lC,GAAC,OAAU,IAANA,IAEtCq0C,EAAW,MAEX41B,EAhDE,CAAA74D,EAAAjoB,KAAA,gBAAAioB,EAAArwB,KAAA,GAAAqwB,EAAAjoB,KAAA,GAkDaw8F,GAAqB,CACrC/xH,UACA6+E,mBACAC,aACAmzC,aAAa,IAtDV,eAkDJxxC,EAlDIjjC,EAAAwJ,KAAAxJ,EAAAjoB,KAAA,GAyDE8pD,GAAqB,CAC1BC,GAAInjC,EACJj5B,IAAK,WACL5Q,MAAOmuE,GAHFpB,CAIH7sD,EAAU70B,GA7DT,eAAA6/C,EAAAjoB,KAAA,GA+DYmlF,GAAa,CAC5B11G,aACA21G,aAAcl6B,EAASsyC,QACvBnY,gBAAiBn6B,EAAS+xC,qBAC1B/yG,SAJei7F,CAKbloF,EAAU70B,GApET,QA+DJ04G,EA/DI74D,EAAAwJ,KAAAxJ,EAAAjoB,KAAA,iBAAAioB,EAAArwB,KAAA,GAAAqwB,EAAAo7B,GAAAp7B,EAAA,UAsEJnvB,QAAQqB,MAAM,2BAAd8tB,EAAAo7B,IAEAy9B,GAAU,EAxEN,eAAA74D,EAAAjoB,KAAA,GA4EAshF,GAAsB,CAAER,UAASn6D,UAASkgB,cA5E1C,eAAA5e,EAAAjoB,KAAA,GA8EA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GA9EjC,yBAAAgrB,EAAA9nB,SAAA6nB,EAAA,mBAAP,gBAAAuuD,EAAAC,GAAA,OAAApqG,EAAAyQ,MAAA4d,KAAA3yB,YAAA,GAkFM,SAASmlF,GAAT1gF,GAMJ,IALFq6C,EAKEr6C,EALFq6C,QACAn3C,EAIElD,EAJFkD,WACAya,EAGE3d,EAHF2d,MACAy8B,EAEEp6C,EAFFo6C,QACAkgB,EACEt6D,EADFs6D,UAEA,sBAAAn6D,EAAA1D,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAyoB,EAAelrB,EAAU70B,GAAzB,IAAAD,EAAAsC,EAAAmnI,EAAAtoD,EAAAC,EAAAU,EAAAC,EAAAj/E,EAAAwmI,EAAA3wB,EAAA51B,EAAA,OAAAzrD,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,cAAAooB,EAAApoB,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,UAED/S,EAFC,CAAAk+B,EAAApoB,KAAA,eAAAooB,EAAApoB,KAAA,EAGCyuG,GAAWh/H,EAAXg/H,CAAuBxxG,EAAU70B,GAHlC,cAKAD,EAAQC,IACRqC,EAAUD,YAAcrC,GANxBypI,EAYFjnH,aAAyBxiB,EAAOy+C,GAJnC0iC,EARKsoD,EAQLtoD,iBACAC,EATKqoD,EASLroD,WACAU,EAVK2nD,EAUL3nD,aACAC,EAXK0nD,EAWL1nD,cAEKj/E,EAAWO,YAAerD,GAb1BigD,EAAApoB,KAAA,GAeyBqvB,QAAQxmD,IAAI,CAC1Cq/G,GAAmB,CAClBz4G,aACA4iF,KAAM9I,EACNpqC,KAAM,aACNw9D,UAAU,EACVD,aAAa,EACbzxG,WACAif,QACA2yF,YAAa3yF,GARdg+F,CASGjrF,GACHirF,GAAmB,CAClBz4G,aACA4iF,KAAMpI,EACN9qC,KAAM,eACNw9D,UAAU,EACVD,aAAa,EACbzxG,WACAif,QACA2yF,YAAa3yF,GARdg+F,CASGjrF,GACHi8B,GAAqB,CACpBzpD,aACA0vC,KAAM,mBACNpiC,MAAOusE,EACPp/D,SAJDgvC,CAKGj8B,GACHi8B,GAAqB,CACpBzpD,aACA0vC,KAAM,gBACNpiC,MAAOmtE,EACPq8B,aAAa,EACbr8F,SALDgvC,CAMGj8B,KAhDE,WAeAw0G,EAfArpF,EAAAqJ,KAmDFqvD,EAAU2wB,EAAiBvgI,MAAM,SAAA2lC,GAAC,OAAU,IAANA,IAEtCq0C,EAAW,MAEX41B,EAvDE,CAAA14D,EAAApoB,KAAA,gBAAAooB,EAAAxwB,KAAA,GAAAwwB,EAAApoB,KAAA,GAyDa8iG,GAAgC,CAChDr4H,UACA6+E,mBACAC,aACAmzC,aAAa,IA7DV,eAyDJxxC,EAzDI9iC,EAAAqJ,KAAArJ,EAAApoB,KAAA,GAgEE8pD,GAAqB,CAC1BC,GAAInjC,EACJj5B,IAAK,WACL5Q,MAAOmuE,GAHFpB,CAIH7sD,EAAU70B,GApET,eAAAggD,EAAApoB,KAAA,GAsEYmlF,GAAa,CAC5B11G,aACA21G,aAAcl6B,EAASsyC,QACvBnY,gBAAiBn6B,EAAS+xC,qBAC1B/yG,SAJei7F,CAKbloF,EAAU70B,GA3ET,QAsEJ04G,EAtEI14D,EAAAqJ,KAAArJ,EAAApoB,KAAA,iBAAAooB,EAAAxwB,KAAA,GAAAwwB,EAAAi7B,GAAAj7B,EAAA,UA6EJtvB,QAAQqB,MAAM,8BAAdiuB,EAAAi7B,IACAy9B,GAAU,EA9EN,eAAA14D,EAAApoB,KAAA,GAkFAshF,GAAsB,CAAER,UAASn6D,UAASkgB,cAlF1C,eAAAze,EAAApoB,KAAA,GAoFA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GApFjC,yBAAAmrB,EAAAjoB,SAAAgoB,EAAA,mBAAP,gBAAAs5D,EAAAI,GAAA,OAAAn1G,EAAAmQ,MAAA4d,KAAA3yB,YAAA,GAwFM,SAASolF,GAATpgF,GAKJ,IAJFw8E,EAIEx8E,EAJFw8E,iBACAC,EAGEz8E,EAHFy8E,WACAU,EAEEn9E,EAFFm9E,aACAC,EACEp9E,EADFo9E,cAEA,sBAAAh9E,EAAAlE,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAiiF,EAAe1kF,EAAU70B,GAAzB,IAAAqC,EAAAuZ,EAAA,OAAAyb,EAAA53B,EAAAi4B,KAAA,SAAA8hF,GAAA,cAAAA,EAAAhqF,KAAAgqF,EAAA5hF,MAAA,cAAA4hF,EAAAhqF,KAAA,EAECntB,EAAUD,YAAcpC,KAFzBw5G,EAAA5hF,KAAA,EAGgB8iG,GAAgC,CACpDr4H,UACA6+E,mBACAC,aACAU,eACAC,kBARI,OAGClmE,EAHD49F,EAAAnwD,KAWL42B,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,iCAAkC,CAAE+J,KAAM,CAACmR,KACpDiY,QAAS,KAHVosD,CAIGprD,GAfE2kF,EAAA5hF,KAAA,gBAAA4hF,EAAAhqF,KAAA,EAAAgqF,EAAAv+B,GAAAu+B,EAAA,SAiBL9oF,QAAQqB,MAAM,qCAAdynF,EAAAv+B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,qCAAsC,CAC9C+J,KAAM,CAAC+lG,EAAWgJ,EAAAv+B,OAEnBpnD,QAAS,KALVosD,CAMGprD,GAxBE,yBAAA2kF,EAAAzhF,SAAAwhF,EAAA,iBAAP,gBAAAG,EAAAI,GAAA,OAAAh1G,EAAA2P,MAAA4d,KAAA3yB,YAAA,GA6BM,SAAS8kF,GAATv/E,GAA4D,IAAhCi8E,EAAgCj8E,EAAhCi8E,iBAAkBC,EAAcl8E,EAAdk8E,WACpD,sBAAA77E,EAAA1E,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsiF,EAAe/kF,EAAU70B,GAAzB,IAAAqC,EAAAuZ,EAAA,OAAAyb,EAAA53B,EAAAi4B,KAAA,SAAAmiF,GAAA,cAAAA,EAAArqF,KAAAqqF,EAAAjiF,MAAA,cAAAiiF,EAAArqF,KAAA,EAECntB,EAAUD,YAAcpC,KAFzB65G,EAAAjiF,KAAA,EAGgBw8F,GAAqB,CACzC/xH,UACA6+E,mBACAC,eANI,OAGCvlE,EAHDi+F,EAAAxwD,KAQL42B,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,iCAAkC,CAC1C+J,KAAM,CAACmR,KAERiY,QAAS,KALVosD,CAMGprD,GAdEglF,EAAAjiF,KAAA,gBAAAiiF,EAAArqF,KAAA,EAAAqqF,EAAA5+B,GAAA4+B,EAAA,SAgBLnpF,QAAQqB,MAAM,qCAAd8nF,EAAA5+B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,qCAAsC,CAC9C+J,KAAM,CAAC+lG,EAAWqJ,EAAA5+B,OAEnBpnD,QAAS,KALVosD,CAMGprD,GAvBE,yBAAAglF,EAAA9hF,SAAA6hF,EAAA,iBAAP,gBAAAG,EAAAI,GAAA,OAAA70G,EAAAmP,MAAA4d,KAAA3yB,YAAA,GA4BM,SAASslF,GAAT/7D,GAMJ,IALFu1B,EAKEv1B,EALFu1B,QACAn3C,EAIE4hB,EAJF5hB,WACAya,EAGEmH,EAHFnH,MACAy8B,EAEEt1B,EAFFs1B,QACAkgB,EACEx1C,EADFw1C,UAEA,sBAAAvpD,EAAAtU,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA2iF,EAAeplF,EAAU70B,GAAzB,IAAAD,EAAA0pI,EAAA9mD,EAAA0mD,EAAA3wB,EAAAr2G,EAAAygF,EAAA,OAAAzrD,EAAA53B,EAAAi4B,KAAA,SAAAwiF,GAAA,cAAAA,EAAA1qF,KAAA0qF,EAAAtiF,MAAA,cAAAsiF,EAAAtiF,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,UAED/S,EAFC,CAAAo4F,EAAAtiF,KAAA,eAAAsiF,EAAAtiF,KAAA,EAGCyuG,GAAWh/H,EAAXg/H,CAAuBxxG,EAAU70B,GAHlC,cAKAD,EAAQC,IALRypI,EAMelnH,aAAyBxiB,EAAOy+C,GAA7CmkC,EANF8mD,EAME9mD,SANFu3B,EAAAtiF,KAAA,EAQyBqvB,QAAQxmD,IAAI,CAC1Cu5G,GAAY,CACX3yG,aACAs7E,WACA7gE,SAHDk4F,CAIGnlF,KAbE,UAQAw0G,EARAnvB,EAAA7wD,OAgBFqvD,EAAU2wB,EAAiBvgI,MAAM,SAAA2lC,GAAC,OAAU,IAANA,KAhBpC,CAAAyrE,EAAAtiF,KAAA,gBAmBCv1B,EAAUD,YAAcrC,GAnBzBm6G,EAAAtiF,KAAA,GAoBkBq+F,GAAe,CACrC3B,aAAa,EACbjyH,YAtBI,eAoBCygF,EApBDo3B,EAAA7wD,KAAA6wD,EAAAtiF,KAAA,GAyBC8pD,GAAqB,CAC1BC,GAAInjC,EACJj5B,IAAK,WACL5Q,MAAOmuE,GAHFpB,CAIH7sD,EAAU70B,GA7BR,eAAAk6G,EAAAtiF,KAAA,GA+BWmlF,GAAa,CAC5B11G,aACA21G,aAAcl6B,EAASsyC,QACvBnY,gBAAiB,IACjBn7F,SAJei7F,CAKbloF,EAAU70B,GApCR,QA+BL04G,EA/BKwB,EAAA7wD,KAAA,eAAA6wD,EAAAtiF,KAAA,GAuCAshF,GAAsB,CAAER,UAASn6D,UAASkgB,cAvC1C,eAAAy7C,EAAAtiF,KAAA,GAyCA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GAzCjC,yBAAAqlF,EAAAniF,SAAAkiF,MAAP,gBAAAM,EAAAC,GAAA,OAAAtlG,EAAAT,MAAA4d,KAAA3yB,YAAA,GA6CM,SAASulF,GAAT9vE,GAAsC,IAAZwtE,EAAYxtE,EAAZwtE,SAChC,sBAAA/sE,EAAAhV,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA+iF,EAAexlF,EAAU70B,GAAzB,IAAAqC,EAAA,OAAAg1B,EAAA53B,EAAAi4B,KAAA,SAAA4iF,GAAA,cAAAA,EAAA9qF,KAAA8qF,EAAA1iF,MAAA,cAAA0iF,EAAA9qF,KAAA,EAECntB,EAAUD,YAAcpC,KAFzBs6G,EAAA1iF,KAAA,EAGCq+F,GAAe,CACpBtzC,WACAtgF,YALI,OAQL49E,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,yBAA0B,CAAE+J,KAAM,CAACk4E,KAC5C9uD,QAAS,KAHVosD,CAIGprD,GAZEylF,EAAA1iF,KAAA,gBAAA0iF,EAAA9qF,KAAA,EAAA8qF,EAAAr/B,GAAAq/B,EAAA,SAcL5pF,QAAQqB,MAAM,kBAAduoF,EAAAr/B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,kBAAmB,CAC3B+J,KAAM,CAAA6vG,EAAAr/B,MAEPpnD,QAAS,KALVosD,CAMGprD,GArBE,yBAAAylF,EAAAviF,SAAAsiF,EAAA,iBAAP,gBAAAQ,EAAAC,GAAA,OAAAllG,EAAAnB,MAAA4d,KAAA3yB,YAAA,GA0BM,SAAS6kF,GAAT1uE,GAMJ,IALF2oC,EAKE3oC,EALF2oC,QACAof,EAIE/nD,EAJF+nD,cACAv2D,EAGEwO,EAHFxO,WACAk3C,EAEE1oC,EAFF0oC,QACAkgB,EACE5oD,EADF4oD,UAEA,sBAAAtoD,EAAAvV,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAqjF,EAAe9lF,EAAU70B,GAAzB,IAAA04G,EAAA34G,EAAAopH,EAAA,OAAA9xF,EAAA53B,EAAAi4B,KAAA,SAAAkjF,GAAA,cAAAA,EAAAprF,KAAAorF,EAAAhjF,MAAA,cAAAgjF,EAAAhjF,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,cAAA+lF,EAAAhjF,KAAA,EAEA8pD,GAAqB,CAC1BC,GAAInjC,EACJj5B,IAAK,yBACL5Q,OAAO,GAHF+sE,CAIH7sD,GANG,cAQF6jF,GAAU,EARRkC,EAAAprF,KAAA,EAWCzvB,EAAQC,IAERmpH,EAAc5mG,aAAyBxiB,EAAOy+C,GAb/Co8D,EAAAhjF,KAAA,GAeCgmC,EAAch9D,OAAAC,EAAA,EAAAD,CAAA,GAAKuoH,GAAnBvrD,CAAkC/oC,EAAU70B,GAf7C,QAgBL04G,GAAU,EAhBLkC,EAAAhjF,KAAA,iBAAAgjF,EAAAprF,KAAA,GAAAorF,EAAA3/B,GAAA2/B,EAAA,SAkBLlqF,QAAQqB,MAAM,kBAAd6oF,EAAA3/B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,kBAAmB,CAAE+J,KAAM,CAAC82D,IAAOmoE,UAAP9uB,EAAA3/B,OACrCpnD,QAAS,KAHVosD,CAIGprD,GAvBE,eAAA+lF,EAAAhjF,KAAA,GA0BA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GA1BjC,eAAA+lF,EAAAhjF,KAAA,GA2BA8pD,GAAqB,CAC1BC,GAAInjC,EACJj5B,IAAK,yBACL5Q,OAAO,GAHF+sE,CAIH7sD,GA/BG,eAAA+lF,EAAAhjF,KAAA,GAgCAshF,GAAsB,CAAER,UAASn6D,UAASkgB,cAhC1C,yBAAAm8C,EAAA7iF,SAAA4iF,EAAA,kBAAP,gBAAAO,EAAAC,GAAA,OAAAhlG,EAAA1B,MAAA4d,KAAA3yB,YAAA,GCvjBM,SAASiqI,GAAc73H,EAAMoqC,EAAWlxC,EAAU0vC,EAAUzsC,GAElE,OADA6D,EAAOsqC,QAAKC,aAAa,CAAEvqC,OAAMoqC,YAAWxB,aACrC,SAAS7lB,GACf,OAAOA,EAAS,CACf9rB,KAAMs1F,IACNvsF,OACA9G,WACAiD,YAKI,SAASqvD,GAAatyD,EAAUiD,GACtC,OAAO,SAAS4mB,GACf,OAAOA,EAAS,CACf9rB,KAAMu1F,IACNtzF,WACAiD,YAKI,SAAS20F,KACf,OAAO,SAAS/tE,GACf,OAAOA,EAAS,CACf9rB,KAAMw1F,OAKF,SAASqrC,GAAoB7gI,EAAMguC,EAAMpiC,EAAOunC,EAAWjuC,GACjE,sBAAA3N,EAAAM,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAC,EAAe1C,EAAU70B,GAAzB,IAAAD,EAAA6uG,EAAA,OAAAv3E,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cACA73B,EAAQC,IACR4uG,EAAc5gG,aAAyBjO,EAAOgJ,EAAMkF,GAFpD0pB,EAAAC,KAAA,EAGA+xG,GACL/6B,EACA1yD,GAASt7C,OAAA++B,GAAA,EAAA/+B,CAAA,GAAOm2C,EAAOpiC,GACvB5L,EACA8gI,UAAOC,gBAAgB/gI,GACvBkF,EALK07H,CAMJ90G,GATI,wBAAA8C,EAAAI,SAAAR,MAAP,gBAAAS,EAAAioB,GAAA,OAAA3/C,EAAAmU,MAAA4d,KAAA3yB,YAAA,GAaM,SAASu4D,GAAclhB,EAAMpiC,EAAOunC,EAAWjuC,GACrD,sBAAA9M,EAAAP,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAgoB,EAAezqB,EAAU70B,GAAzB,OAAAq3B,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAAA2nB,EAAA3nB,KAAA,EACAgyG,GAAoB,SAAU7yF,EAAMpiC,EAAOunC,EAAWjuC,EAAtD27H,CACL/0G,EACA70B,GAHK,wBAAAu/C,EAAAxnB,SAAAunB,MAAP,gBAAAqqD,EAAA+D,GAAA,OAAAvsG,EAAAsT,MAAA4d,KAAA3yB,YAAA,GAQM,SAASmmD,GAAc9O,EAAMpiC,EAAOunC,GAC1C,sBAAA36C,EAAAX,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAmoB,EAAe5qB,EAAU70B,GAAzB,OAAAq3B,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,cAAA8nB,EAAA9nB,KAAA,EACAgyG,GAAoB,SAAU7yF,EAAMpiC,EAAOunC,EAA3C0tF,CACL/0G,EACA70B,GAHK,wBAAA0/C,EAAA3nB,SAAA0nB,MAAP,gBAAAquD,EAAAC,GAAA,OAAAxsG,EAAAkT,MAAA4d,KAAA3yB,YAAA,GAQM,SAAS+sD,GAAkB1V,EAAMpiC,EAAOunC,GAC9C,sBAAAx6C,EAAAd,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsoB,EAAe/qB,EAAU70B,GAAzB,OAAAq3B,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cAAAioB,EAAAjoB,KAAA,EACAgyG,GAAoB,WAAY7yF,EAAMpiC,EAAOunC,EAA7C0tF,CACL/0G,EACA70B,GAHK,wBAAA6/C,EAAA9nB,SAAA6nB,MAAP,gBAAAuuD,EAAAC,GAAA,OAAA1sG,EAAA+S,MAAA4d,KAAA3yB,YAAA,GAQM,SAAS+4D,GAAkB1hB,EAAMpiC,EAAOunC,EAAWjuC,GACzD,sBAAApM,EAAAjB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAyoB,EAAelrB,EAAU70B,GAAzB,OAAAq3B,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,cAAAooB,EAAApoB,KAAA,EACAgyG,GAAoB,WAAY7yF,EAAMpiC,EAAOunC,EAAWjuC,EAAxD27H,CACL/0G,EACA70B,GAHK,wBAAAggD,EAAAjoB,SAAAgoB,MAAP,gBAAAs5D,EAAAI,GAAA,OAAA53G,EAAA4S,MAAA4d,KAAA3yB,YAAA,GAQM,SAASqqI,GAAT/nI,GAOJ,IANFo3D,EAMEp3D,EANFo3D,WACApuD,EAKEhJ,EALFgJ,SACAiD,EAIEjM,EAJFiM,OAIE+7H,EAAAhoI,EAHFs+B,cAGE,IAAA0pG,EAHO,GAGPA,EAFF1/G,EAEEtoB,EAFFsoB,MACA2/G,EACEjoI,EADFioI,OAEA,sBAAA9nI,EAAAvB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAiiF,EAAe1kF,EAAU70B,GAAzB,IAAAkqI,EAAAnqI,EAAAoqI,EAAA5/E,EAAAy8D,EAAAojB,EAAA70E,EAAArZ,EAAA,OAAA7kB,EAAA53B,EAAAi4B,KAAA,SAAA8hF,GAAA,cAAAA,EAAAhqF,KAAAgqF,EAAA5hF,MAAA,cACA73B,EAAQC,IADRmqI,EAEWn8H,aAAyBjO,EAAOiL,EAAUiD,GAAnDs8C,EAFF4/E,EAEE5/E,KAEFy8D,EAJApmH,OAAAgE,GAAA,EAAAhE,CAIe2pD,EAAKy8D,SAAW,KAC/BojB,EAAWx1H,OAAOy1H,UAAU//G,MAEjB2/G,EAEhBjjB,EAAQ18F,GAAR1pB,OAAAC,EAAA,EAAAD,CAAA,GAAuBomH,EAAQ18F,IAAU,GAAQgW,GACvC8pG,GAAYH,EACtBjjB,EAAQlrE,OAAOxxB,EAAO,GAGtB08F,EAAQxsG,KAAR5Z,OAAAC,EAAA,EAAAD,CAAA,GAAkB0/B,EAAlB,CAA0B/a,IAAKyhG,EAAQrnH,UAIlC41D,EAAWyxD,EAAQp5G,OAAO,SAAAF,GAAC,OAAIA,EAAE4yB,OAAOokF,MAAKtjH,IAAI,SAAAsM,GAAC,OAAIA,EAAE4yB,SAlBxD4pG,EAAA,GAAAtpI,OAAA++B,GAAA,EAAA/+B,CAAAspI,EAqBJ9wE,EAAa7D,GArBT30D,OAAA++B,GAAA,EAAA/+B,CAAAspI,EAAA,OAAAtpI,OAAAC,EAAA,EAAAD,CAAA,GAsBM2pD,EAtBN,CAsBYy8D,aAFZ9qE,EApBAguF,EAAA1wB,EAAA5hF,KAAA,EAyBAgyG,GAAoB5+H,EAAU,KAAM,KAAMkxC,EAAWjuC,EAArD27H,CACL/0G,EACA70B,GA3BK,wBAAAw5G,EAAAzhF,SAAAwhF,MAAP,gBAAAG,EAAAI,GAAA,OAAA33G,EAAAsS,MAAA4d,KAAA3yB,YAAA,GAgCM,SAASm6D,GAATr2D,GAKJ,IAJFkc,EAIElc,EAJFkc,UACA1U,EAGExH,EAHFwH,SACAiD,EAEEzK,EAFFyK,OAEEq8H,EAAA9mI,EADF88B,cACE,IAAAgqG,EADO,GACPA,EACF,sBAAA3mI,EAAA/C,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsiF,EAAe/kF,EAAU70B,GAAzB,IAAAD,EAAA+R,EAAAy4H,EAAAruF,EAAAsuF,EAAA,OAAAnzG,EAAA53B,EAAAi4B,KAAA,SAAAmiF,GAAA,cAAAA,EAAArqF,KAAAqqF,EAAAjiF,MAAA,cACA73B,EAAQC,IACR8R,EAAO9D,aAAyBjO,EAAOiL,EAAUiD,GACjDs8H,EAA0B,aAAbv/H,EAEbkxC,EALAt7C,OAAAC,EAAA,EAAAD,CAAA,GAKiBkR,IAEjB04H,EAPA5pI,OAAAC,EAAA,EAAAD,CAAA,GAQD2pI,EAAaruF,EAAU9uC,OAAS8uC,EAAU/uC,cAAcC,SAGnDsS,GAAV9e,OAAAC,EAAA,EAAAD,CAAA,GAA4B0/B,GAExBiqG,EACHruF,EAAU9uC,OAASo9H,EAEnBtuF,EAAU/uC,cAAVvM,OAAAC,EAAA,EAAAD,CAAA,CACCkkB,QAASo3B,EAAU/uC,cAAc2X,SAAW,KACzCo3B,EAAU/uC,cAFd,CAGCC,OAAQo9H,IAnBJ3wB,EAAAjiF,KAAA,EAuBAgyG,GAAoB5+H,EAAU,KAAM,KAAMkxC,EAAWjuC,EAArD27H,CACL/0G,EACA70B,GAzBK,wBAAA65G,EAAA9hF,SAAA6hF,MAAP,gBAAAG,EAAAI,GAAA,OAAAx2G,EAAA8Q,MAAA4d,KAAA3yB,YAAA,GA8BM,SAASi+D,GAAT95D,GAMJ,IALFmH,EAKEnH,EALFmH,SACA4yD,EAIE/5D,EAJF+5D,cACAv2D,EAGExD,EAHFwD,WACAk3C,EAEE16C,EAFF06C,QACAkgB,EACE56D,EADF46D,UAEA,sBAAAz6D,EAAApD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA2iF,EAAeplF,EAAU70B,GAAzB,IAAA04G,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAwiF,GAAA,cAAAA,EAAA1qF,KAAA0qF,EAAAtiF,MAAA,cAAAsiF,EAAAtiF,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,cAEF6jF,GAAU,EAFRwB,EAAA1qF,KAAA,EAAA0qF,EAAAtiF,KAAA,EAICgmC,IAAgB/oC,EAAU70B,GAJ3B,OAKL04G,GAAU,EALLwB,EAAAtiF,KAAA,gBAAAsiF,EAAA1qF,KAAA,EAAA0qF,EAAAj/B,GAAAi/B,EAAA,SAOLxpF,QAAQqB,MAAM,WAAdmoF,EAAAj/B,IAPK,eAAAi/B,EAAAtiF,KAAA,GAUA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GAVjC,eAAAqlF,EAAAtiF,KAAA,GAYAshF,GAAsB,CAAER,UAASn6D,UAASkgB,cAZ1C,QAaFi6C,GACHp7C,GAAatyD,EAAbsyD,CAAuBzoC,GAdlB,yBAAAqlF,EAAAniF,SAAAkiF,EAAA,iBAAP,gBAAAM,EAAAC,GAAA,OAAAx2G,EAAAyQ,MAAA4d,KAAA3yB,YAAA,OCzJO+qI,GAA8BjyB,WAA9BiyB,aAAcC,GAAgBlyB,WAAhBkyB,YAEf,SAASnqD,GAATjgF,GAKJ,IAJFg3C,EAIEh3C,EAJFg3C,YACArpC,EAGE3N,EAHF2N,OACAswC,EAEEj+C,EAFFi+C,QACAl3C,EACE/G,EADF+G,WAEA,sBAAArG,EAAAJ,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAC,EAAe1C,EAAU70B,GAAzB,IAAAD,EAAAoqI,EAAA/8H,EAAA,OAAAiqB,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cACA73B,EAAQC,IADRmqI,EAEan8H,aAAyBjO,EAAO,WAAYkO,GAAvDb,EAFF+8H,EAEE/8H,OAFFuqB,EAAAC,KAAA,EAIgBqqF,GAAiB,CACtC56G,aACA+F,SACA0U,OAAO,EACPogG,SAAU,UAJWD,CAKnBptF,GATG,WAAA8C,EAAA0xB,KAAA,CAAA1xB,EAAAC,KAAA,eAAAD,EAAAC,KAAA,EAYC0f,EAAY,SAAUlqC,GAZvB,OAaLmxC,IAbK,wBAAA5mB,EAAAI,SAAAR,MAAP,gBAAAS,EAAAioB,GAAA,OAAAj/C,EAAAyT,MAAA4d,KAAA3yB,YAAA,GAkBM,SAASirI,GAATxpI,GAAwE,IAAnCkG,EAAmClG,EAAnCkG,WAAYya,EAAuB3gB,EAAvB2gB,MAAOhQ,EAAgB3Q,EAAhB2Q,KAAM48B,EAAUvtC,EAAVutC,OACpE,sBAAAntC,EAAAX,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAgoB,EAAezqB,EAAU70B,GAAzB,IAAAmH,EAAA0G,EAAAiX,EAAA1X,EAAAg3G,EAAAjnG,EAAAu7F,EAAAkyB,EAAA,OAAAvzG,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAAA2nB,EAAA3nB,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,cAAA0qB,EAAA/vB,KAAA,EAGGroB,EAA+B2K,EAA/B3K,GAAI0G,EAA2BiE,EAA3BjE,MAAOiX,EAAoBhT,EAApBgT,QAAS1X,EAAW0E,EAAX1E,OAEtBg3G,EAAW,IAAIv1G,YAASiD,GAAM40G,aAL/BnnE,EAAA3nB,KAAA,EAOqBqvB,QAAQxmD,IAAI,CACrCygH,GAAmB,CAClB75G,aACAsN,MAAO9G,EACPkpC,KAAM,QACNoqE,OAAQupB,GAAY78H,MACpBiU,SALDo/F,CAMGrsF,GACHqsF,GAAmB,CAClB75G,aACAsN,MAAOmQ,EACPiyB,KAAM,UACNoqE,OAAQupB,GAAY5lH,QACpBhD,SALDo/F,CAMGrsF,GACHotF,GAAiB,CAChB56G,aACA+F,SACA0U,QACAogG,SAAU,UAJXD,CAKGptF,GACHqsF,GAAmB,CAClB75G,aACAsN,MAAOyvG,EACPrtE,KAAM,WACNoqE,OAAQupB,GACR5oH,SALDo/F,CAMGrsF,KAlCC,UAOC1X,EAPDoiC,EAAA8J,OAqCCqvD,EAAUv7F,EAAYrU,MAAM,SAAA2lC,GAAC,OAAU,IAANA,OAExBC,EAvCV,CAAA6Q,EAAA3nB,KAAA,gBAAA2nB,EAAA3nB,KAAA,GAwC2BusF,GAAY,CAC1CC,WACAj9G,OA1CG,QAwCEyjI,EAxCFrrF,EAAA8J,KA2CA+6D,SAEJvvF,EAAS,CACR9rB,KAAMq1F,IACNtsF,KAAM,IAAIjD,YAAS+7H,GAAiBl8B,WACpC1jG,SAAU,aAEXi1E,EAAS,CACRl3E,KAAM,UACNsR,MAAO3Z,aAAE,wBAAyB,CACjC+J,KAAM,CAAC,WAAYmgI,EAAgB/8H,SAEpCgmB,QAAS,KALVosD,CAMGprD,GAxDC0qB,EAAA3nB,KAAA,kBAyDO8gF,GAAWhqE,GACtBuxC,EAAS,CACRl3E,KAAM,QACNsR,MAAO3Z,aAAE,oBAAqB,CAC7B+J,KAAM,CAAC,WAAY+lG,EAAY,mBAEhC38E,QAAS,KALVosD,CAMGprD,GAhEC,QAAA0qB,EAAA3nB,KAAA,iBAAA2nB,EAAA/vB,KAAA,GAAA+vB,EAAA07B,GAAA17B,EAAA,SAmEL7uB,QAAQqB,MAAM,oBAAdwtB,EAAA07B,IACAgF,EAAS,CACRl3E,KAAM,QACNsR,MAAO3Z,aAAE,oBAAqB,CAC7B+J,KAAM,CAAC,WAAY+lG,EAAWjxD,EAAA07B,OAE/BpnD,QAAS,KALVosD,CAMGprD,GA1EE,eAAA0qB,EAAA3nB,KAAA,GA6EA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GA7EjC,yBAAA0qB,EAAAxnB,SAAAunB,EAAA,kBAAP,gBAAAqqD,EAAA+D,GAAA,OAAAnsG,EAAAkT,MAAA4d,KAAA3yB,YAAA,GAiFM,SAASghF,GAATh/E,GAAyD,IAAtBuM,EAAsBvM,EAAtBuM,OAAQkmC,EAAczyC,EAAdyyC,WACjD,sBAAAtyC,EAAAjB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAmoB,EAAe5qB,EAAU70B,GAAzB,IAAAD,EAAA+R,EAAAsyG,EAAAh3G,EAAA,OAAAiqB,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,OACA73B,EAAQC,IACR8R,EAAO7E,YAAmBlN,EAAOkO,GACjCm2G,EAAWp2G,aAAyBjO,EAAO,WAAYkO,GAEvDb,EAAS+mC,EAAWhiC,SAAS,UAAYiyG,EAASh3G,OAAS0E,EAAK1E,OAEtEu8H,GACC73H,EACA,CAAE1E,OAAOxM,OAAAC,EAAA,EAAAD,CAAA,GAAMwM,IACf,WACAyB,YACAiD,EAAK3K,GALNwiI,CAME90G,EAAU70B,GAbN,wBAAA0/C,EAAA3nB,SAAA0nB,MAAP,gBAAAquD,EAAAC,GAAA,OAAAlsG,EAAA4S,MAAA4d,KAAA3yB,YAAA,GAiBM,SAASggE,KAAiD,IAAA19D,EAAAtC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAA9ByN,EAAkCnL,EAAlCmL,cAAelE,EAAmBjH,EAAnBiH,WAC7C,sBAAA9G,EAAAvB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsoB,EAAe/qB,EAAU70B,GAAzB,IAAAD,EAAA8qI,EAAAzmB,EAAA0mB,EAAA,OAAAzzG,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cAAAioB,EAAArwB,KAAA,EAECzvB,EAAQC,KACR6qI,EAHDjqI,OAAAC,EAAA,EAAAD,CAAA,GAGqBuM,GAAiByB,aAAkB7O,KACjDkJ,WAAaA,GAAc,KACnCA,IACH4hI,EAAYh9H,MAAQ,MAGfu2G,EAAW,IAAIv1G,YAAJjO,OAAAC,EAAA,EAAAD,CAAA,GACbiqI,IACDE,UAXElrF,EAAAjoB,KAAA,EAaiBysF,GAAa,CAClCD,aAdI,OAaC0mB,EAbDjrF,EAAAwJ,KAiBLx0B,EAAS,CACR9rB,KAAMo1F,IACNrsF,KAAMg5H,EACN9/H,SAAU,aAEXi1E,EAAS,CACRl3E,KAAM,UACNsR,MAAO3Z,aAAE,iBAAkB,CAC1B+J,KAAM,CAACogI,EAAYh9H,OAAS5E,KAE7B4qB,QAAS,KALVosD,CAMGprD,GA5BEgrB,EAAAjoB,KAAA,uBAAAioB,EAAArwB,KAAA,GAAAqwB,EAAAo7B,GAAAp7B,EAAA,SA8BLnvB,QAAQqB,MAAM,wBAAd8tB,EAAAo7B,IACAgF,EAAS,CACRl3E,KAAM,QACNsR,MAAO3Z,aAAE,wBAAyB,CACjC+J,KAAM,CAAC,WAAY+lG,EAAW3wD,EAAAo7B,OAE/BpnD,QAAS,KALVosD,CAMGprD,GACG,IAAI+0E,MAAM,oBAAV/pD,EAAAo7B,IAtCD,yBAAAp7B,EAAA9nB,SAAA6nB,EAAA,kBAAP,gBAAAuuD,EAAAC,GAAA,OAAAjsG,EAAAsS,MAAA4d,KAAA3yB,YAAA,GA2CM,SAAS4/D,GAAT97D,GAKJ,IAJF6D,EAIE7D,EAJF6D,WACAya,EAGEte,EAHFse,MACAy8B,EAEE/6C,EAFF+6C,QACAkgB,EACEj7D,EADFi7D,UAEA,sBAAA96D,EAAA/C,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAyoB,EAAelrB,EAAU70B,GAAzB,IAAA04G,EAAA34G,EAAAqkH,EAAAv2G,EAAAiX,EAAA3H,EAAA,OAAAka,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,cAAAooB,EAAApoB,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,cAGF6jF,GAAU,EAHR14D,EAAAxwB,KAAA,EAKCzvB,EAAQC,IACRokH,EAAWx1G,aAAkB7O,GAC3B8N,EAA2Bu2G,EAA3Bv2G,MAA2Bu2G,EAApBh3G,OAAQ0X,EAAYs/F,EAAZt/F,QAPlBk7B,EAAApoB,KAAA,EASqBqvB,QAAQxmD,IAAI,CACrCygH,GAAmB,CAClB75G,aACAsN,MAAO9G,EACPkpC,KAAM,QACNoqE,OAAQspB,GAAa58H,MACrBiU,SALDo/F,CAMGrsF,GACHqsF,GAAmB,CAClB75G,aACAsN,MAAOmQ,EACPiyB,KAAM,UACNoqE,OAAQspB,GAAa3lH,QACrBhD,SALDo/F,CAMGrsF,KAvBC,OASC1X,EATD6iC,EAAAqJ,KA0BLqvD,EAAUv7F,EAAYrU,MAAM,SAAA2lC,GAAC,OAAU,IAANA,IA1B5BuR,EAAApoB,KAAA,iBAAAooB,EAAAxwB,KAAA,GAAAwwB,EAAAi7B,GAAAj7B,EAAA,SA4BLtvB,QAAQqB,MAAM,4BAAdiuB,EAAAi7B,IA5BK,eAAAj7B,EAAApoB,KAAA,GA+BAshF,GAAsB,CAAER,UAASn6D,UAASkgB,cA/B1C,eAAAze,EAAApoB,KAAA,GAgCA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GAhCjC,yBAAAmrB,EAAAjoB,SAAAgoB,EAAA,kBAAP,gBAAAs5D,EAAAI,GAAA,OAAA91G,EAAA8Q,MAAA4d,KAAA3yB,YAAA,GAoCM,SAAS8/D,GAAT37D,GAKJ,IAJFwD,EAIExD,EAJFwD,WACAya,EAGEje,EAHFie,MACAy8B,EAEE16C,EAFF06C,QACAkgB,EACE56D,EADF46D,UAEA,sBAAAz6D,EAAApD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAiiF,EAAe1kF,EAAU70B,GAAzB,IAAAD,EAAAirI,EAAAC,EAAA79H,EAAAsrG,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAA8hF,GAAA,cAAAA,EAAAhqF,KAAAgqF,EAAA5hF,MAAA,cAAA4hF,EAAA5hF,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,cAAA2kF,EAAAhqF,KAAA,EAGCzvB,EAAQC,IAHTgrI,EAImBp8H,aAAkB7O,GAJrCkrI,EAAAD,EAIG59H,cAJH,IAAA69H,EAIY,GAJZA,EAAAzxB,EAAA5hF,KAAA,EAMiBqqF,GAAiB,CACtC56G,aACA+F,SACA0U,QACAogG,SAAU,UAJWD,CAKnBptF,GAXE,cAMC6jF,EANDc,EAAAnwD,KAAAmwD,EAAA5hF,KAAA,GAaCshF,GAAsB,CAAER,UAASn6D,UAASkgB,cAb3C,QAAA+6C,EAAA5hF,KAAA,iBAAA4hF,EAAAhqF,KAAA,GAAAgqF,EAAAv+B,GAAAu+B,EAAA,SAeL9oF,QAAQ06D,IAAI,MAAZouB,EAAAv+B,IAfK,eAAAu+B,EAAA5hF,KAAA,GAkBA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GAlBjC,yBAAA2kF,EAAAzhF,SAAAwhF,EAAA,kBAAP,gBAAAG,EAAAI,GAAA,OAAA91G,EAAAyQ,MAAA4d,KAAA3yB,YAAA,4BC1OYwrI,GAAoB,SAAA5qI,GAA2C,IAAxCw4C,EAAwCx4C,EAAxCw4C,UAAWptC,EAA6BpL,EAA7BoL,SAAUw4B,EAAmB5jC,EAAnB4jC,QAASjT,EAAU3wB,EAAV2wB,IACjE,GAAM6nB,EAAW,CAChB,IAAMwO,EAAM36C,KAAIC,MAAMksC,GAAW,GAGjC,GAFAwO,EAAI74B,OAAS,KAET64B,EAAIu3B,UAAYv3B,EAAIw3B,KAAM,CAC7B,IAAMpwD,EAAK9tB,OAAAC,EAAA,EAAAD,CAAA,GAAQsqG,KAAe5jD,EAAI54B,OAYtC,OAXIhjB,IACHgjB,EAAK,aAAmBhjB,GAErBw4B,IACHxV,EAAK,YAAkBwV,GAEpBjT,IACHvC,EAAK,WAAiBuC,GAEvBq2B,EAAI54B,MAAQA,EAEL/hB,KAAI2P,OAAOgrC,IAIpB,OAAOxO,GCsCAqyF,GAA6D95G,WAA7D85G,8BAA+BC,GAA8B/5G,WAA9B+5G,0BAE/B7yB,GAAgBC,WAAhBD,YAeR,SAAS8yB,GAAT/qI,GAA+E,IAA7CykB,EAA6CzkB,EAA7CykB,QAASumH,EAAoChrI,EAApCgrI,WAAYC,EAAwBjrI,EAAxBirI,UAAWC,EAAalrI,EAAbkrI,UACjE,sBAAAxqI,EAAAJ,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAC,EAAe1C,EAAU70B,GAAzB,IAAAyrI,EAAA,OAAAp0G,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACyBmsF,GAAe,CAC7Cr4G,SAAUqZ,EAAQ2hG,aAClBv/G,GAAI4d,EAAQ5d,KAHP,cACAskI,EADA9zG,EAAA0xB,KAIF39C,SAEJmpB,EAAS,CACR9rB,KAAMq1F,IACNtsF,KAAM,IAAI1D,YAAJxN,OAAAC,EAAA,EAAAD,CAAA,GACF6qI,EAAgBvoH,KAChBuoH,IACD/8B,WACH1jG,SAAU,aAEXi1E,EAAS,CACRl3E,KAAMyiI,GAAa,UACnBnxH,MAAO3Z,aAAE4qI,EAAY,CACpB7gI,KAAM8gI,GAAa,CAAC,WAAYE,EAAgB59H,SAEjDgmB,QAAS,KALVosD,CAMGprD,GApBG8C,EAAAC,KAAA,EAuBA63E,KAAsB56E,EAAU70B,GAvBhC,wBAAA23B,EAAAI,SAAAR,MAAP,gBAAAS,EAAAioB,GAAA,OAAAj/C,EAAAyT,MAAA4d,KAAA3yB,YAAA,GA2BM,SAASi/D,KACf,sBAAAx9D,EAAAP,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAgoB,EAAezqB,EAAU70B,GAAzB,IAAAD,EAAA2rI,EAAArpI,EAAAqJ,EAAAnK,EAAAi/H,EAAA,OAAAnpG,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cACN64E,EAAcn9C,MAAkB,EAAhCm9C,CAAsC57E,GADhC0qB,EAAA/vB,KAAA,EAGCzvB,EAAQC,IACR0rI,EAAmBv9H,aAAkBpO,GACrCsC,EAAUD,YAAcrC,IACxB2L,EAND9K,OAAAC,EAAA,EAAAD,CAAA,GAMiB8qI,IAETnhF,KAAKoF,aACjBjkD,EAASH,QAAU3K,OAAAgE,GAAA,EAAAhE,CAAI8K,EAASH,SAASnK,IAAI,SAACwkG,EAAMt7E,GAAP,OAAA1pB,OAAAC,EAAA,EAAAD,CAAA,GACzCglG,EADyC,CAE5C9sD,UAAWoyF,GAAkBtqI,OAAAC,EAAA,EAAAD,CAAA,CAC5Bk4C,UAAW8sD,EAAK9sD,UAChBptC,SAAUA,EAASmC,MACnBq2B,QAAO,GAAA76B,OAAKihB,EAAQ,EAAb,KAAAjhB,OAAkBu8F,EAAK78F,OAC1B2C,EAAS6+C,KAAKwF,iBACf,CAAE9+B,IAAK,oBACP,UAjBDsuB,EAAA3nB,KAAA,EAsBCo6F,GAAgC,CACrCP,YAAa,CAAC,CAAE9Z,QAASjsG,IACzBrJ,YAxBI,cAAAk9C,EAAA3nB,KAAA,GA2B2BioG,GAAY,CAC3Cn0H,WACArJ,YA7BI,eAAAd,EAAAg+C,EAAA8J,KA2BGm3E,EA3BHj/H,EA2BGi/H,cA3BHjhF,EAAA3nB,KAAA,GAgCC8nC,GAAa,CAClBz2D,WAAYu3H,EAAcr5H,GAC1BgG,cAAezB,EAASyB,eAFnBuyD,CAGH7qC,EAAU70B,GAnCR,QAqCL60B,EAAS,CACR9rB,KAAMo1F,IACNrsF,KAAM,IAAI1D,YAAJxN,OAAAC,EAAA,EAAAD,CAAA,GACF4/H,EAAct9G,KACds9G,IACD9xB,WACH1jG,SAAU,aAEXi1E,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,mCAAoC,CAC5C+J,KAAM,CAAC+1H,EAAcr5H,MAEtB0sB,QAAS,KALVosD,CAMGprD,GAnDE0qB,EAAA3nB,KAAA,uBAAA2nB,EAAA/vB,KAAA,GAAA+vB,EAAA07B,GAAA17B,EAAA,SAqDL7uB,QAAQqB,MAAM,uBAAdwtB,EAAA07B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,uBAAwB,CAChC+J,KAAM,CAAC82D,IAAOmoE,UAAPnqF,EAAA07B,OAERpnD,QAAS,KALVosD,CAMGprD,GACG,IAAI+0E,MAAM,uBAAVrqD,EAAA07B,IA7DD,eA+DNw1B,EAAcn9C,MAAkB,EAAhCm9C,CAAuC57E,GA/DjC0qB,EAAA27B,OAAA,UAgEC,GAhED,yBAAA37B,EAAAxnB,SAAAunB,EAAA,kBAAP,gBAAAqqD,EAAA+D,GAAA,OAAAvsG,EAAAsT,MAAA4d,KAAA3yB,YAAA,GAoEM,IAAMisI,GAAsB,SAAAjqI,GAAkB,IAAfgK,EAAehK,EAAfgK,SACrC,sBAAA7J,EAAAjB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAmoB,EAAM5qB,GAAN,IAAA90B,EAAAm8H,EAAA,OAAA7kG,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,cAAA8nB,EAAAlwB,KAAA,EAAAkwB,EAAA9nB,KAAA,EAEeo2F,GAAkB,CAAEtiH,aAFnC,cAEC3L,EAFD2/C,EAAA2J,MAGC6yE,EAHDt7H,OAAAC,EAAA,EAAAD,CAAA,GAGoB8K,IACb3L,MAAQA,EAJf2/C,EAAAw7B,OAAA,SAMErmD,EAAS,CACf9rB,KAAMq1F,IACNtsF,KAAMoqH,EACNlxH,SAAU,cATN,OAAA00C,EAAAlwB,KAAA,EAAAkwB,EAAAu7B,GAAAv7B,EAAA,SAYLhvB,QAAQqB,MAAM,mCAAd2tB,EAAAu7B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,mCAAoC,CAC5C+J,KAAM,CAAC+lG,EAAW9wD,EAAAu7B,OAEnBpnD,QAAS,KALVosD,CAMGprD,GAnBE,yBAAA6qB,EAAA3nB,SAAA0nB,EAAA,iBAAP,gBAAAquD,GAAA,OAAAjsG,EAAA4S,MAAA4d,KAAA3yB,YAAA,IAyBD,SAASksI,GAAqBlgI,GAC7B,GAAIA,EAASmR,QAAgD,WAAtCnR,EAASmR,OAAO6G,kBACtC,MAAO,SACR,QAAShY,EAASmR,QAAU,IAAIuB,MAC/B,IAAK,UACJ,MAAO,UACR,IAAK,SACL,IAAK,QACL,IAAK,eACL,IAAK,UACL,IAAK,UACL,IAAK,eACL,IAAK,YACL,IAAK,UACJ,MAAO,SACR,IAAK,UACL,IAAK,YACL,IAAK,WACJ,MAAO,YACR,QACC,MAAO,OAIH,SAASorD,GAATxnE,GAMJ,IALFs1C,EAKEt1C,EALFs1C,YACAgyB,EAIEtnE,EAJFsnE,UACAr7D,EAGEjM,EAHFiM,OACA5G,EAEErF,EAFFqF,WACAk3C,EACEv8C,EADFu8C,QAEA,sBAAAp8C,EAAAvB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsoB,EAAe/qB,EAAU70B,GAAzB,IAAAD,EAAAoqI,EAAAh9H,EAAA,OAAAkqB,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cACA73B,EAAQC,IADRmqI,EAEoBn8H,aACzBjO,EACA,WACAkO,GAHOd,EAFFg9H,EAEEh9H,cAFF0yC,EAAAjoB,KAAA,EAQgBqqF,GAAiB,CACtC56G,aACA+F,OAAQD,EAAcC,OACtB0U,OAAO,EACPogG,SAAU,iBAJWD,CAKnBptF,GAbG,WAAAgrB,EAAAwJ,KAAA,CAAAxJ,EAAAjoB,KAAA,eAAAioB,EAAAjoB,KAAA,EAgBC0f,EACL,gBACAnqC,EACAm8D,EACG,CACAlrD,KAAMkrD,GAEN,MAvBC,OAyBL/qB,IAzBK,wBAAAsB,EAAA9nB,SAAA6nB,MAAP,gBAAAmuD,EAAAI,GAAA,OAAAhsG,EAAAsS,MAAA4d,KAAA3yB,YAAA,GA8BM,SAASisE,GAATnoE,GAAsE,IAAtByK,EAAsBzK,EAAtByK,OAAQkmC,EAAc3wC,EAAd2wC,WAC9D,sBAAAxwC,EAAA/C,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAyoB,EAAelrB,EAAU70B,GAAzB,IAAAD,EAAA+R,EAAApG,EAAAmgI,EAAAC,EAAA3+H,EAAA,OAAAkqB,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,OACA73B,EAAQC,IACR8R,EAAOzG,YAAmBtL,EAAOkO,GACjCvC,EAAWsC,aAAyBjO,EAAO,WAAYkO,GACvD49H,EAAuB3+H,YAA2BnN,EAAOkO,GACzD69H,EACLh6H,EAAK3E,eAAiBvM,OAAOub,KAAKrK,EAAK3E,cAAcC,QAAQzN,OAC1DmS,EAAK3E,cACL0+H,EAEE1+H,EAAgBgnC,EAAWjiC,KAAK,SAAAkQ,GAAC,MACtC,CAAC,gBAAiB,oBAAoBjQ,SAASiQ,EAAEhE,MAAQgE,KAEvD1W,EAASyB,cACT2E,EAAK3E,eAAiB2+H,EAEzBnC,GACC73H,EACA,CAAE3E,cAAcvM,OAAAC,EAAA,EAAAD,CAAA,GAAMuM,IACtB,WACAiB,YACA0D,EAAK3K,GALNwiI,CAME90G,EAAU70B,GAtBN,wBAAAggD,EAAAjoB,SAAAgoB,MAAP,gBAAAquD,EAAAiL,GAAA,OAAA11G,EAAA8Q,MAAA4d,KAAA3yB,YAAA,GA0BM,SAAS+vG,KACf,sBAAA5rG,EAAAjD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAiiF,EAAe1kF,EAAU70B,GAAzB,IAAAD,EAAAikI,EAAA+H,EAAAppI,EAAA7B,EAAAwH,EAAA,OAAA+uB,EAAA53B,EAAAi4B,KAAA,SAAA8hF,GAAA,cAAAA,EAAAhqF,KAAAgqF,EAAA5hF,MAAA,UACA73B,EAAQC,IACRgkI,EAAUvhI,YAAW1C,GAFrBgsI,EAGe3pI,YAAcrC,GAA3B4C,EAHFopI,EAGEppI,SACA7B,EAAY6B,EAAZ7B,SAEJkjI,IAAWljI,EANT,CAAA04G,EAAA5hF,KAAA,gBAAA4hF,EAAAhqF,KAAA,EAAAgqF,EAAA5hF,KAAA,EAQoB8rF,GAAa,CACpCjjH,KAAK,EACLojH,UAAW/iH,EACXgjH,YAAY,IAXT,OAQEx7G,EARFkxG,EAAAnwD,KAkCJg9D,GAAY,CACXv7G,MAtBqBxC,EACpBsF,OACA,SAAA2E,GAAC,OACAA,EAAEpL,IACFoL,EAAEszD,SACFtzD,EAAEszD,QAAQv4B,gBAAkBxsC,EAAQwsC,gBAErClsC,IAAI,SAAAmR,GACJ,IAAM7G,EAAQ9K,OAAAC,EAAA,EAAAD,CAAA,GACV2R,EAAE2Q,KACF3Q,EAFU,CAGbmhD,eAAgBnhD,EAAEmhD,gBAAkBnhD,EAAE2Q,KAAKwwC,iBAO5C,OAJKhoD,EAASgY,oBACbhY,EAASmR,OAAO6G,kBAAoBkoH,GAAqBlgI,IAGnDA,IAKRV,SAAU,YAFXq7G,CAGGxxF,GArCC2kF,EAAA5hF,KAAA,iBAAA4hF,EAAAhqF,KAAA,GAAAgqF,EAAAv+B,GAAAu+B,EAAA,SAuCJ9oF,QAAQqB,MAAM,wBAAdynF,EAAAv+B,IAEAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,wBAAyB,CACjC+J,KAAM,CAAC+lG,EAAWgJ,EAAAv+B,OAEnBpnD,QAAS,KALVosD,CAMGprD,GA/CC,yBAAA2kF,EAAAzhF,SAAAwhF,EAAA,kBAAP,gBAAAE,EAAAC,GAAA,OAAA71G,EAAA4Q,MAAA4d,KAAA3yB,YAAA,GAqDM,SAAS2rE,GAATrnE,GAAqC,IAAZ0H,EAAY1H,EAAZ0H,SAC/B,sBAAAvH,EAAAvD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsiF,EAAe/kF,EAAU70B,GAAzB,IAAAD,EAAA6C,EAAAP,EAAAiC,EAAAypH,EAAAmO,EAAA,OAAA7kG,EAAA53B,EAAAi4B,KAAA,SAAAmiF,GAAA,cAAAA,EAAArqF,KAAAqqF,EAAAjiF,MAAA,cACN64E,EAAa,oBAAApnG,OAAqBqC,EAASvE,KAAM,EAAjDspG,CAAuD57E,GADjDglF,EAAArqF,KAAA,EAGCzvB,EAAQC,IACR4C,EAAUK,YAAclD,GACtBsC,EAAYtC,EAAME,QAAlBoC,QALHw3G,EAAAjiF,KAAA,EAMwB8oG,GAAa,CAAEr+H,UAASqJ,aANhD,cAAApH,EAAAu1G,EAAAxwD,KAMG0kE,EANHzpH,EAMGypH,WANHlU,EAAAjiF,KAAA,GAOC6rF,GAAoB,CAAE/3G,WAAU9I,YAPjC,eAQCs5H,EARDt7H,OAAAC,EAAA,EAAAD,CAAA,GAQoB8K,IACbmR,OAAZjc,OAAAC,EAAA,EAAAD,CAAA,GACIs7H,EAAYr/G,OADhB,CAEC6G,kBAAmB,WAEpBmR,EAAS,CACR9rB,KAAMq1F,IACNtsF,KAAMoqH,EACNlxH,SAAU,aAhBN6uG,EAAAjiF,KAAA,GAkBCyqG,GAA0B,CAAEC,QAASvU,GAArCsU,CACLxtG,EACA70B,GApBI,eAAA65G,EAAAjiF,KAAA,GAsBC63E,KAAsB56E,EAAU70B,GAtBjC,QAuBLw5B,EAAQhf,aAAK,oCACbylE,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,4BACTmzB,QAAS,KAHVosD,CAIGprD,GA5BEglF,EAAAjiF,KAAA,iBAAAiiF,EAAArqF,KAAA,GAAAqqF,EAAA5+B,GAAA4+B,EAAA,SA8BLnpF,QAAQqB,MAAM,uBAAd8nF,EAAA5+B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,uBAAwB,CAChC+J,KAAM,CAAC+lG,EAAWqJ,EAAA5+B,OAEnBpnD,QAAS,KALVosD,CAMGprD,GArCE,QAuCN47E,EAAa,oBAAApnG,OAAqBqC,EAASvE,KAAM,EAAjDspG,CAAwD57E,GAvClD,yBAAAglF,EAAA9hF,SAAA6hF,EAAA,kBAAP,gBAAAE,EAAAC,GAAA,OAAA51G,EAAAsQ,MAAA4d,KAAA3yB,YAAA,GA2CM,SAAS6rE,GAAT7mE,GAA6C,IAAZgH,EAAYhH,EAAZgH,SACvC,sBAAA5G,EAAAlE,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA2iF,EAAeplF,EAAU70B,GAAzB,IAAAm0B,EAAAp0B,EAAAsC,EAAA0iB,EAAAinH,EAAAC,EAAAhnI,EAAA8oH,EAAA,OAAA12F,EAAA53B,EAAAi4B,KAAA,SAAAwiF,GAAA,cAAAA,EAAA1qF,KAAA0qF,EAAAtiF,MAAA,cACN64E,EAAa,oBAAApnG,OAAqBqC,EAASvE,KAAM,EAAjDspG,CAAuD57E,GACnDV,EAAS,UAFP+lF,EAAA1qF,KAAA,EAICzvB,EAAQC,IACNqC,EAAYtC,EAAME,QAAlBoC,QACF0iB,EAAU,IAAI3W,YAAS1C,GAEvBsgI,EAAwBjnH,EAAQ2uC,gBAAkB,GAClDu4E,EATDrrI,OAAAgE,GAAA,EAAAhE,CASgBorI,IAE4C,KAA/CA,EAAsB,IAAM,IAAIliE,YAEjD31C,EAAS,WACT83G,EAASz+B,SAETy+B,EAASC,QAAQ,CAAEpiE,YAAY,IAGhC/kD,EAAQ2uC,eAAiBu4E,EAnBpB/xB,EAAAtiF,KAAA,GAqBwBs2F,GAAgB,CAC5C7rH,UACAqJ,SAAUqZ,EACV2uC,eAAgBu4E,IAxBZ,eAAAhnI,EAAAi1G,EAAA7wD,KAqBG0kE,EArBH9oH,EAqBG8oH,WArBH7T,EAAAtiF,KAAA,GA2BCyqG,GAA0B,CAAEC,QAASvU,GAArCsU,CACLxtG,EACA70B,GA7BI,eAAAk6G,EAAAtiF,KAAA,GAgCCyzG,GAAuB,CAC5BtmH,UACAumH,WAAU,WAAAjiI,OAAa8qB,EAAb,cAFLk3G,CAGHx2G,EAAU70B,GAnCR,QAAAk6G,EAAAtiF,KAAA,iBAAAsiF,EAAA1qF,KAAA,GAAA0qF,EAAAj/B,GAAAi/B,EAAA,SAqCLxpF,QAAQqB,MAAR,OAAA1oB,OAAqB8qB,EAArB,aAAA+lF,EAAAj/B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAC,OAAA2I,OAAQ8qB,EAAR,aAA2B,CAClC1pB,KAAM,CAAC+lG,EAAW0J,EAAAj/B,OAEnBpnD,QAAS,KALVosD,CAMGprD,GA5CE,QA8CN47E,EAAa,oBAAApnG,OAAqBqC,EAASvE,KAAM,EAAjDspG,CAAwD57E,GA9ClD,yBAAAqlF,EAAAniF,SAAAkiF,EAAA,kBAAP,gBAAAE,EAAAI,GAAA,OAAAz1G,EAAA2P,MAAA4d,KAAA3yB,YAAA,GAkDM,SAASgjE,GAATp9D,GAMJ,IALF2D,EAKE3D,EALF2D,WACAw5D,EAIEn9D,EAJFm9D,UACAF,EAGEj9D,EAHFi9D,QACApuC,EAEE7uB,EAFF6uB,OACAgmB,EACE70C,EADF60C,UAEA,sBAAAlxB,EAAAroB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA+iF,EAAexlF,EAAU70B,GAAzB,IAAAD,EAAA2L,EAAAqF,EAAA1O,EAAA0iB,EAAAwC,EAAA4kH,EAAAC,EAAAC,EAAA9+H,EAAA++H,EAAAC,EAAAC,EAAAC,EAAAC,EAAAx7H,EAAAG,EAAAu4D,EAAA5mD,EAAAusC,EAAAvrC,EAAA0lD,EAAAuiE,EAAA/2H,EAAA64G,EAAA0d,EAAAD,EAAAF,EAAA,OAAAj0G,EAAA53B,EAAAi4B,KAAA,SAAA4iF,GAAA,cAAAA,EAAA9qF,KAAA8qF,EAAA1iF,MAAA,UACN64E,EAAa,GAAApnG,OAAI8qB,EAAJ,qBAAA9qB,OAA8BJ,IAAc,EAAzDwnG,CAA+D57E,GADzDylF,EAAA9qF,KAAA,EAICzvB,EAAQC,IACR0L,EAAWL,YAAmBtL,EAAOkJ,GACrC8H,EAAgBF,aAAyB9Q,GACvCsC,EAAYtC,EAAME,QAAlBoC,QACF0iB,EAAU,IAAI3W,YAAS1C,GAEvB6b,EAAwBra,YAC7BnN,EACAkJ,IAIKkjI,EAhBDvrI,OAAAC,EAAA,EAAAD,CAAA,CAiBJkkB,QAAS,IACT1X,OAAQ,CAAEG,WAAY,KACnBga,IAEana,OAAjBxM,OAAAC,EAAA,EAAAD,CAAA,GAA+BurI,EAAiB/+H,QAChD++H,EAAiB/+H,OAAOG,WAAxB3M,OAAAC,EAAA,EAAAD,CAAA,GACIurI,EAAiB/+H,OAAOG,YAvBvB6+H,EA0BmBD,EAAhB/+H,OA1BHi/H,QAAA,IAAAD,EA0BY,GA1BZA,GA2BG7+H,kBA3BH,IAAA8+H,EA2BgB,GA3BhBA,GA8BD9pE,IAAWh1D,EAAWkH,OAA8B,OAArBlH,EAAWkH,MA9BzC,CAAA6lG,EAAA1iF,KAAA,SA+BE00G,EAAQ1rI,OAAAgE,GAAA,EAAAhE,CAAK2M,EAAWsT,IAAM,IAAKjT,OAAO,SAAA+G,GAAS,IAChD9H,EAAawS,KAAKzS,MAAM+H,GAAxB9H,SACR,OAAQ41D,EAAUtwD,SAAStF,KAE5Bs/H,EAAiB/+H,OAAOG,WAAWsT,GAAKyrH,EAnCpChyB,EAAA1iF,KAAA,oBAsCK2qC,IAAWh1D,EAAWkH,OAA8B,OAArBlH,EAAWkH,MAtC/C,CAAA6lG,EAAA1iF,KAAA,SAuCE00G,EAAQ1rI,OAAAgE,GAAA,EAAAhE,CAAI6hE,GAEhB70D,OAAO,SAAA45E,GAAC,OAAI5mF,OAAAgE,GAAA,EAAAhE,CAAK2M,EAAWsT,IAAM,IAAK3O,KAAK,SAAAxE,GAAC,OAAIA,EAAEyE,SAASq1E,OAC5DpmF,IAAI,SAAAyL,GAAQ,OACZwS,KAAKC,UAAU,CACdzS,WACAqS,WACCnO,EAActD,KAAK,SAAAC,GAAC,OAAIA,EAAEb,WAAaA,KAAa,IACnD6F,UAILy5H,EAAiB/+H,OAAOG,WAAWsT,IAAMtT,EAAWsT,IAAM,IAAIxX,OAC7DijI,GApDGhyB,EAAA1iF,KAAA,qBAwDI2qC,IAAWh1D,EAAWkH,OAA8B,QAArBlH,EAAWkH,MAxD9C,CAAA6lG,EAAA1iF,KAAA,SAyDE40G,EAAS/pE,EAEb70D,OAAO,SAAA45E,GAAC,OAAK5mF,OAAAgE,GAAA,EAAAhE,CAAK2M,EAAWuT,KAAO,IAAK5O,KAAK,SAAAxE,GAAC,OAAIA,EAAEyE,SAASq1E,OAC9DpmF,IAAI,SAAAyL,GAAQ,OACZwS,KAAKC,UAAU,CACdzS,WACAqS,WACCnO,EAActD,KAAK,SAAAC,GAAC,OAAIA,EAAEb,WAAaA,KAAa,IACnD6F,UAILy5H,EAAiB/+H,OAAOG,WAAWuT,KAAOvT,EAAWuT,KAAO,IAAIzX,OAC/DmjI,GAtEGlyB,EAAA1iF,KAAA,oBA0EK2qC,IAAWh1D,EAAWkH,OAA8B,QAArBlH,EAAWkH,MA1E/C,CAAA6lG,EAAA1iF,KAAA,SA2EE40G,EAAS5rI,OAAAgE,GAAA,EAAAhE,CAAK2M,EAAWuT,KAAO,IAEpClT,OAAO,SAAA+G,GAAS,IACR9H,EAAawS,KAAKzS,MAAM+H,GAAxB9H,SACR,OAAQ41D,EAAUtwD,SAAStF,KAE7Bs/H,EAAiB/+H,OAAOG,WAAWuT,IAAM0rH,EAjFrClyB,EAAA1iF,KAAA,qBAqFJ2qC,GACEh1D,EAAWkH,SACXlH,EAAWkH,OAA8B,UAArBlH,EAAWkH,OAvF7B,CAAA6lG,EAAA1iF,KAAA,SAyFE40G,EAAS5rI,OAAAgE,GAAA,EAAAhE,CAAI6hE,GAAWrhE,IAAI,SAAAyL,GAAQ,OACzCwS,KAAKC,UAAU,CACdzS,WACAqS,WAAYnO,EAActD,KAAK,SAAAC,GAAC,OAAIA,EAAEb,WAAaA,KAAa,IAC9D6F,UAIJy5H,EAAiB/+H,OAAOG,WAAWkH,MAAQ,MAC3C03H,EAAiB/+H,OAAOG,WAAWuT,IAAM0rH,EAlGrClyB,EAAA1iF,KAAA,oBAsGH2qC,GACCh1D,EAAWkH,SACXlH,EAAWkH,OAA8B,UAArBlH,EAAWkH,OAxG7B,CAAA6lG,EAAA1iF,KAAA,gBAAA0iF,EAAAp/B,OAAA,SA2GG+E,EAAS,CACfl3E,KAAM,UACNsR,MAAO3Z,aAAC,WAAA2I,OAAY8qB,EAAZ,YAA8B,CACrC1pB,KAAM,CAACg4D,EAAU9iE,OAAQolB,EAAQlX,SAElCgmB,QAAS,KALHosD,CAMJprD,IAjHC,cAqHyC,QAA7Cs3G,EAAiB/+H,OAAOG,WAAWkH,OAClC03H,EAAiB/+H,OAAOG,WAAWuT,IAAInhB,SAExCwsI,EAAiB/+H,OAAOG,WAAWkH,MAAQ,QAC3C03H,EAAiB/+H,OAAOG,WAAWuT,IAAM,MAGpC5P,EAAgBF,aAAwCjR,GACxDsR,EAA2BF,aAChCpR,GA9HI6pE,EAiIgBvoE,aAAgBtB,GAA7BijB,EAjIH4mD,EAiIG5mD,SACAusC,EAAsD7jD,EAAtD6jD,cAAevrC,EAAuCtY,EAAvCsY,iBAAkB0lD,EAAqBh+D,EAArBg+D,iBAUnCuiE,EAAWd,GAA8B,CAC9Ch+H,cAAeg/H,EACfj7H,gBACAG,2BACAk+C,cAX6BA,GAAiB,CAC9CO,WAAY,CACXngD,IAAKqU,EACLxP,IAAKk1D,IASN1mD,aAGD+B,EAAQ2uC,eAAiBu4E,EACzBlnH,EAAQ5X,cAAgBg/H,EArJnB7xB,EAAA1iF,KAAA,GAuJwBs2F,GAAgB,CAC5C7rH,UACAqJ,SAAUqZ,EACV2uC,eAAgBu4E,IA1JZ,eAAA/2H,EAAAolG,EAAAjxD,KAuJG0kE,EAvJH74G,EAuJG64G,WAvJHzT,EAAA1iF,KAAA,GA6J0BmsF,GAAe,CAC7Cr4G,SAAUqZ,EAAQ2hG,aAClBv/G,GAAI4d,EAAQ5d,KA/JR,eA6JCskI,EA7JDnxB,EAAAjxD,KAgKD39C,SAhKC4uG,EAAA1iF,KAAA,GAkKCyqG,GAA0B,CAAEC,QAASvU,GAArCsU,CACLxtG,EACA70B,GApKI,eAuKDwrI,EAAY,UACZF,EAxKC,WAAAjiI,OAwKuB8qB,EAxKvB,YA2KyC,OAA7Cg4G,EAAiB/+H,OAAOG,WAAWkH,OAClC03H,EAAiB/+H,OAAOG,WAAWsT,GAAGlhB,SAEvC6rI,EAAY,UACZF,EAAU,yBAAAjiI,OAA4B8qB,EAA5B,aA/KNmmF,EAAA1iF,KAAA,GAkLCyzG,GAAuB,CAC5BtmH,UACAymH,YACAF,aACAqB,UAAW,CAAClqE,EAAU9iE,OAAQ8rI,EAAgB59H,QAJzCw9H,CAKHx2G,EAAU70B,GAvLR,QAyLoB,oBAAdm6C,GACVA,IA1LImgE,EAAA1iF,KAAA,iBAAA0iF,EAAA9qF,KAAA,GAAA8qF,EAAAr/B,GAAAq/B,EAAA,SA6LL5pF,QAAQqB,MAAR,OAAA1oB,OAAqB8qB,EAArB,YAAAmmF,EAAAr/B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAC,OAAA2I,OAAQ8qB,EAAR,YAA0B,CACjC1pB,KAAM,CAACg4D,EAAU9iE,OAAQ6wG,EAAW8J,EAAAr/B,OAErCpnD,QAAS,KALVosD,CAMGprD,GApME,QAsMN47E,EAAa,GAAApnG,OAAI8qB,EAAJ,qBAAA9qB,OAA8BJ,IAAc,EAAzDwnG,CAA+D57E,GAtMzD,yBAAAylF,EAAAviF,SAAAsiF,EAAA,kBAAP,gBAAAG,EAAAK,GAAA,OAAA5xF,EAAAxU,MAAA4d,KAAA3yB,YAAA,GA0MD,IAAMktI,GAAiB,CACtB,CACCzlI,GAvkB0BO,6CAwkB1BiF,IAzkB2BjF,kCA0kB3B40G,OAxkB+B50G,IAykB/B60G,OAxkB+B70G,MAykB/B80G,QAxkBgC90G,IA0kBjC,CACCP,GAxkB4BO,6CAykB5BiF,IA1kB6BjF,gCA2kB7B40G,OAzkBiC50G,KA0kBjC60G,OAzkBiC70G,OA0kBjC80G,QAzkBkC90G,+CA6kB7B,SAAS62D,GAATppD,GAKJ,IAJF9N,EAIE8N,EAJF9N,WACAya,EAGE3M,EAHF2M,MACAy8B,EAEEppC,EAFFopC,QACAkgB,EACEtpD,EADFspD,UAEA,sBAAA7oD,EAAAhV,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAqjF,EAAe9lF,EAAU70B,GAAzB,IAAAD,EAAA2L,EAAAH,EAAAmtG,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAkjF,GAAA,cAAAA,EAAAprF,KAAAorF,EAAAhjF,MAAA,cAAAgjF,EAAAhjF,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,UAED/S,EAFC,CAAA84F,EAAAhjF,KAAA,eAAAgjF,EAAAhjF,KAAA,EAGCyuG,GAAWh/H,EAAXg/H,CAAuBxxG,EAAU70B,GAHlC,cAMAD,EAAQC,IACR0L,EAAWyC,aAAkBpO,GAC3BwL,EAAYG,EAAZH,QARFqvG,EAAAhjF,KAAA,GAUgBkkF,GAAsB,CAAEz0G,aAAYkE,UAASuW,SAA7Cg6F,CACrBjnF,GAXK,eAUA6jF,EAVAkC,EAAAvxD,KAAAuxD,EAAAhjF,KAAA,GAcAshF,GAAsB,CAAER,UAASn6D,UAASkgB,cAd1C,eAAAm8C,EAAAhjF,KAAA,GAeA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GAfjC,yBAAA+lF,EAAA7iF,SAAA4iF,MAAP,gBAAAG,EAAAI,GAAA,OAAAtlG,EAAAnB,MAAA4d,KAAA3yB,YAAA,GAmBM,SAAS8+D,GAAT3oD,GAKJ,IAJFxO,EAIEwO,EAJFxO,WACAya,EAGEjM,EAHFiM,MACAy8B,EAEE1oC,EAFF0oC,QACAkgB,EACE5oD,EADF4oD,UAEA,sBAAAtoD,EAAAvV,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA0jF,EAAenmF,EAAU70B,GAAzB,IAAAD,EAAA8sI,EAAAC,EAAA3/H,EAAAoiD,EAAAhF,EAAAn9C,EAAAsrG,EAAAxnG,EAAAG,EAAAw+C,EAAA,OAAAx4B,EAAA53B,EAAAi4B,KAAA,SAAAujF,GAAA,cAAAA,EAAAzrF,KAAAyrF,EAAArjF,MAAA,cAAAqjF,EAAArjF,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,cAAAomF,EAAAzrF,KAAA,EAGCzvB,EAAQC,IAHT6sI,EAI+C1+H,aACnDpO,GALI+sI,EAAAD,EAIG1/H,qBAJH,IAAA2/H,EAImB,GAJnBA,EAIuBv9E,EAJvBs9E,EAIuBt9E,cAAehF,EAJtCsiF,EAIsCtiF,KAGnCn9C,EAAWD,EAAXC,OAPH6tG,EAAArjF,KAAA,EASiBqqF,GAAiB,CACtC56G,aACA+F,SACA0U,QACAogG,SAAU,iBAJWD,CAKnBptF,GAdE,YASC6jF,EATDuC,EAAA5xD,MAAA,CAAA4xD,EAAArjF,KAAA,gBAiBE1mB,EAAgBF,aAAwCjR,GACxDsR,EAA2BF,aAChCpR,GAEK8vD,EAAyBu7E,GAA0B,CACxDl6H,gBACAG,2BACAlE,kBAxBG8tG,EAAArjF,KAAA,GA2BE60B,GAAkB,OAAD7rD,OAAAC,EAAA,EAAAD,CAAA,GACnB2pD,EADmB,CAEtBsF,2BAFKpD,CAGH53B,EAAU70B,GA9BT,WAmCFuvD,IACCA,EAAa,YAAkBA,EAAa,OApC3C,CAAA0rD,EAAArjF,KAAA,gBAAAqjF,EAAArjF,KAAA,GAsCG60B,GAAkB,gBAAiBoD,EAAnCpD,CACL53B,EACA70B,GAxCE,eAAAi7G,EAAArjF,KAAA,GA4CCshF,GAAsB,CAAER,UAASn6D,UAASkgB,cA5C3C,QAAAw8C,EAAArjF,KAAA,iBAAAqjF,EAAAzrF,KAAA,GAAAyrF,EAAAhgC,GAAAggC,EAAA,SA8CLvqF,QAAQ06D,IAAI,MAAZ6vB,EAAAhgC,IA9CK,eAAAggC,EAAArjF,KAAA,GAiDA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GAjDjC,yBAAAomF,EAAAljF,SAAAijF,EAAA,kBAAP,gBAAAG,EAAAI,GAAA,OAAAplG,EAAA1B,MAAA4d,KAAA3yB,YAAA,GAqDM,SAASg/D,GAATroD,GAKJ,IAJFhP,EAIEgP,EAJFhP,WACAya,EAGEzL,EAHFyL,MACAy8B,EAEEloC,EAFFkoC,QACAkgB,EACEpoD,EADFooD,UAEA,sBAAAnoD,EAAA1V,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA+jF,EAAexmF,EAAU70B,GAAzB,IAAAD,EAAA4yH,EAAA3vG,EAAAtX,EAAA2jD,EAAAzrC,EAAA/V,EAAA8O,EAAA/M,EAAArK,EAAAgqD,EAAApiD,EAAAqiD,EAAAjF,EAAAkF,EAAAre,EAAA8qF,EAAA/+G,EAAAu7F,EAAAr2G,EAAAkU,EAAAs9C,EAAAysE,EAAAC,EAAA/zE,EAAAt7C,EAAAG,EAAA07H,EAAAl8E,EAAA6C,EAAA,OAAAr8B,EAAA53B,EAAAi4B,KAAA,SAAA4jF,GAAA,cAAAA,EAAA9rF,KAAA8rF,EAAA1jF,MAAA,cAAA0jF,EAAA1jF,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,UAAAymF,EAAA9rF,KAAA,EAGCzvB,EAAQC,IAHT2yH,EAIgBtxH,aAAgBtB,GAA7BijB,EAJH2vG,EAIG3vG,SACFtX,EAAWyC,aAAkBpO,GAElCsvD,EAWG3jD,EAXH2jD,WACAzrC,EAUGlY,EAVHkY,cACA/V,EASGnC,EATHmC,MACA8O,EAQGjR,EARHiR,WACA/M,EAOGlE,EAPHkE,oBACArK,EAMGmG,EANHnG,QACAgqD,EAKG7jD,EALH6jD,cACApiD,EAIGzB,EAJHyB,cAdIqiD,EAkBD9jD,EADH6+C,KAGOkF,GAHPlF,OAjBI,IAAAiF,EAiBG,GAjBHA,GAoBGC,eAAgBre,EAAemZ,EAAfnZ,WAElB8qF,EAtBDt7H,OAAAC,EAAA,EAAAD,CAAA,GAsBoB8K,GAEpB2jD,GAAeA,EAAW1vD,OAxB1B,CAAA27G,EAAA1jF,KAAA,gBA0BJskG,EAAY7sE,WAAau9E,GA1BrBtxB,EAAA1jF,KAAA,GA2BE60B,GAAkB,aAAcyvE,EAAY7sE,WAA5C5C,CACL53B,EACA70B,GA7BG,eAAAs7G,EAAA1jF,KAAA,GAiCqBqvB,QAAQxmD,IAAI,CACrC07G,GAA2B,CAAE90G,aAAYgoD,aAAYvtC,SAArDq6F,CAA8DtnF,GAC9D2pF,GAAuB,CACtBn3G,aACA0vC,KAAM,gBACNpiC,MAAOiP,EACP9B,QACA8B,gBACA2rC,gBACA5X,QAAS71B,GAAS,iBAClBsvB,aACApuB,YATDw7F,CAUG3pF,GACH2pF,GAAuB,CACtBn3G,aACA0vC,KAAM,oBACNpiC,MAAO46C,EAAcO,WAAaP,EAAcO,WAAWngD,IAAM,KACjEmS,QACAytC,gBACA3rC,gBACA+zB,QAAS71B,GAAS,iBAClBsvB,aACApuB,YATDw7F,CAUG3pF,GACH0qF,GAAsB,CACrBl4G,aACAwG,QACAiU,SAHDy9F,CAIG1qF,GACHqqF,GAAsB,CACrB73G,aACA0vC,KAAM,aACNpiC,MAAOgI,EACPmF,QACAnF,aACA/M,sBACArK,WAPD25G,CAQGrqF,GACHqqF,GAAsB,CACrB73G,aACA0vC,KAAM,sBACNpiC,MAAO/E,EACPkS,QACAnF,aACA/M,sBACArK,WAPD25G,CAQGrqF,KA/EC,WAiCC1X,EAjCDm+F,EAAAjyD,KAkFCqvD,EAAUv7F,EAAYrU,MAAM,SAAA2lC,GAAC,OAAU,IAANA,IAET,kBAAnBghB,EApFN,CAAA6rD,EAAA1jF,KAAA,gBAAA0jF,EAAA1jF,KAAA,GAqFE64E,EAAczgD,MAAwB,EAAtCygD,CAA4C57E,GArF9C,eAuFExyB,EAAUD,YAAcrC,GAvF1Bu7G,EAAA1jF,KAAA,GA6FMioG,GAAY,CACrBn0H,SAAS9K,OAAAC,EAAA,EAAAD,CAAA,GAAMs7H,GACf75H,UACAiyH,aAAa,EACbyL,YAAY,IAjGT,eAAAxpH,EAAA+kG,EAAAjyD,KA0FHwK,EA1FGt9C,EA0FHs9C,cACAysE,EA3FG/pH,EA2FH+pH,aACAC,EA5FGhqH,EA4FHgqH,uBAQK/zE,EApGF5rD,OAAAC,EAAA,EAAAD,CAAA,GAoGiB2pD,IACbkF,eAAiBoE,EACzBrH,EAAQpb,WAAakvF,EACrB9zE,EAAQkD,oBAAsB6wE,EAvG1BjlB,EAAA1jF,KAAA,GAyGE60B,GAAkB,OAAQD,EAA1BC,CAAmC53B,EAAU70B,GAzG/C,YA4GD04G,EA5GC,CAAA4C,EAAA1jF,KAAA,gBA6GE1mB,EAAgBF,aAAwCjR,GACxDsR,EAA2BF,aAChCpR,GAIKgtI,EAnHFnsI,OAAAC,EAAA,EAAAD,CAAA,GAmHmC2uD,IACjCsB,EApHFjwD,OAAAC,EAAA,EAAAD,CAAA,GAoHoBmsI,EAA0Bj9E,aACvCngD,IAAMsuG,sBAAWptD,EAAWlhD,IAAKqT,GAC5C6tC,EAAWr8C,IAAMypG,sBAAWptD,EAAWr8C,IAAKwO,GAC5C+pH,EAA0Bj9E,WAAae,EAEjC6C,EAAiBy3E,GAA8B,CACpDh+H,gBACA+D,gBACAG,2BACAk+C,cAAew9E,EACf/pH,aA9HGs4F,EAAA1jF,KAAA,GAgIE60B,GAAkB,iBAAkBiH,EAApCjH,CACL53B,EACA70B,GAlIG,eAAAs7G,EAAA1jF,KAAA,GAsICshF,GAAsB,CAAER,UAASn6D,UAASkgB,cAtI3C,QAAA68C,EAAA1jF,KAAA,iBAAA0jF,EAAA9rF,KAAA,GAAA8rF,EAAArgC,GAAAqgC,EAAA,SAwIL5qF,QAAQqB,MAAM,kCAAdupF,EAAArgC,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,kCAAmC,CAC3C+J,KAAM,CAAC+lG,EAAW8K,EAAArgC,OAEnBpnD,QAAS,KALVosD,CAMGprD,GA/IE,eAAAymF,EAAA1jF,KAAA,GAkJA64E,EAAczgD,MAAwB,EAAtCygD,CAA6C57E,GAlJ7C,eAAAymF,EAAA1jF,KAAA,GAmJA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GAnJjC,yBAAAymF,EAAAvjF,SAAAsjF,EAAA,kBAAP,gBAAAG,EAAAI,GAAA,OAAAtlG,EAAA7B,MAAA4d,KAAA3yB,YAAA,GAuJM,SAASy0D,KACf,sBAAAz9C,EAAA9V,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAokF,EAAe7mF,EAAU70B,GAAzB,IAAAD,EAAA2L,EAAAlK,EAAAwrI,EAAAziF,EAAA3mC,EAAAvhB,EAAAsU,EAAAk9C,EAAA4tB,EAAA3vB,EAAAm7E,EAAAn5E,EAAAtH,EAAA,OAAAn1B,EAAA53B,EAAAi4B,KAAA,SAAAikF,GAAA,cAAAA,EAAAnsF,KAAAmsF,EAAA/jF,MAAA,cAAA+jF,EAAA/jF,KAAA,EACA64E,EAAczgD,MAAwB,EAAtCygD,CAA4C57E,GAD5C,cAAA8mF,EAAAnsF,KAAA,EAGCzvB,EAAQC,IACR0L,EAAWyC,aAAkBpO,GAC7ByB,EAAYH,aAAgBtB,GAL7BitI,EAMgCthI,EAA7B6+C,YANH,IAAAyiF,EAMU,GANVA,EAMcppH,EAAkBlY,EAAlBkY,cAEbvhB,EAAUD,YAAcrC,GARzB47G,EAAA/jF,KAAA,GAUqDioG,GAAY,CACrEn0H,SAAS9K,OAAAC,EAAA,EAAAD,CAAA,GAAM8K,GACfrJ,UACAiyH,aAAa,IAbT,eAAA39G,EAAAglG,EAAAtyD,KAUGwK,EAVHl9C,EAUGk9C,cAAe4tB,EAVlB9qE,EAUkB8qE,KAAM3vB,EAVxBn7C,EAUwBm7C,mBAMvBm7E,EAAahvB,sBAAWr6F,EAAepiB,EAAUwhB,UAAUxQ,IAAIivE,GAE/D3tB,EAAsBh7C,aAC3Bm0H,EAAW7hH,WACX5pB,EAAUwhB,UAAY,IACtB,GACA,IAGKwpC,EAzBD5rD,OAAAC,EAAA,EAAAD,CAAA,GAyBgB2pD,IACbsJ,cAAgBA,EACxBrH,EAAQsH,oBAAsBA,EAC9BtH,EAAQsF,mBAAqBA,EA5BxB6pD,EAAA/jF,KAAA,GA8BC60B,GAAkB,OAAQD,EAA1BC,CAAmC53B,EAAU70B,GA9B9C,QAAA27G,EAAA/jF,KAAA,iBAAA+jF,EAAAnsF,KAAA,GAAAmsF,EAAA1gC,GAAA0gC,EAAA,SAgCLjrF,QAAQqB,MAAM,4BAAd4pF,EAAA1gC,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,4BAA6B,CACrC+J,KAAM,CAAC+lG,EAAWmL,EAAA1gC,OAEnBpnD,QAAS,KALVosD,CAMGprD,GAvCE,eAAA8mF,EAAA/jF,KAAA,GA0CA64E,EAAczgD,MAAwB,EAAtCygD,CAA6C57E,GA1C7C,yBAAA8mF,EAAA5jF,SAAA2jF,EAAA,kBAAP,gBAAAG,EAAAI,GAAA,OAAAvlG,EAAAjC,MAAA4d,KAAA3yB,YAAA,GA8CM,SAAS+yC,GAAsC/X,GACrD,sBAAA5jB,EAAAlW,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAA8lF,EAAevoF,EAAU70B,GAAzB,OAAAq3B,EAAA53B,EAAAi4B,KAAA,SAAAimF,GAAA,cAAAA,EAAAnuF,KAAAmuF,EAAA/lF,MAAA,cAAA+lF,EAAA/lF,KAAA,EACA64E,EAAc3/D,MAA6B,EAA3C2/D,CAAiD57E,GADjD,OAENylB,EAAa15C,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KACZ,SAAAykF,IAAA,OAAA1kF,EAAA53B,EAAAi4B,KAAA,SAAAskF,GAAA,cAAAA,EAAAxsF,KAAAwsF,EAAApkF,MAAA,cAAAokF,EAAApkF,KAAA,EACOg6E,EAAoB,YAAal3E,EAAjCk3E,CAA2C/8E,GADlD,cAAAmnF,EAAApkF,KAAA,EAEO/C,EAASra,aAAK,mCAFrB,cAAAwhG,EAAApkF,KAAA,EAGO64E,EAAc3/D,MAA6B,EAA3C2/D,CAAkD57E,GAHzD,wBAAAmnF,EAAAjkF,SAAAgkF,MADYn7G,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAMZ,SAAA8kF,IAAA,OAAA/kF,EAAA53B,EAAAi4B,KAAA,SAAA2kF,GAAA,cAAAA,EAAA7sF,KAAA6sF,EAAAzkF,MAAA,cAAAykF,EAAAzkF,KAAA,EACO64E,EAAc3/D,MAA6B,EAA3C2/D,CAAkD57E,GADzD,wBAAAwnF,EAAAtkF,SAAAqkF,MAGA,CACCpmF,YAAat1B,aAAE,UACfq1B,aAAcr1B,aAAE,MAChBmN,MAAOnN,aAAE,2CACTo1B,KAAMp1B,aAAE,2CAbV45C,CAeEzlB,EAAU70B,GAjBN,wBAAA29G,EAAA5lF,SAAAqlF,MAAP,gBAAAlB,EAAAO,GAAA,OAAA3lG,EAAArC,MAAA4d,KAAA3yB,YAAA,GAqBM,SAASu8E,GAAT7kE,GAMJ,IALF/P,EAKE+P,EALF/P,WACAya,EAIE1K,EAJF0K,MACAhQ,EAGEsF,EAHFtF,KACA48B,EAEEt3B,EAFFs3B,OACAyF,EACE/8B,EADF+8B,WAEA,sBAAA98B,EAAAzW,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAymF,EAAelpF,EAAU70B,GAAzB,IAAA6N,EAAAV,EAAAoiD,EAAAvrC,EAAA0lD,EAAA3kD,EAAAmoH,EAAAntI,EAAAotI,EAAAnqH,EAAA9R,EAAAG,EAAAi+C,EAAAnyC,EAAAu7F,EAAA00B,EAAA/qI,EAAAkV,EAAAw2G,EAAA,OAAA12F,EAAA53B,EAAAi4B,KAAA,SAAAsmF,GAAA,cAAAA,EAAAxuF,KAAAwuF,EAAApmF,MAAA,cAAAomF,EAAApmF,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,cAAAmpF,EAAAxuF,KAAA,EAIJ3hB,EAKGiE,EALHjE,MACAV,EAIG2E,EAJH3E,cACAoiD,EAGGz9C,EAHHy9C,cACAvrC,EAEGlS,EAFHkS,iBACA0lD,EACG53D,EADH43D,iBAGK3kD,EAAU,IAAI3W,YAAS0D,IACvBo7H,EAAoB/4F,EAAWhiC,SAAS,oBAGvCpS,EAAQC,IADQmtI,EAED9rI,aAAgBtB,GAA7BijB,EAFcmqH,EAEdnqH,SACF9R,EAAgBF,aAAwCjR,GACxDsR,EAA2BF,aAChCpR,GAKKuvD,EACLC,GAAiBA,EAAcO,WAC5BP,EACA,CACAO,WAAY,CACXngD,IAAK4/C,EAAc5/C,KAAOqU,EAC1BxP,IAAK+6C,EAAc5/C,KAAO+5D,IAI/B3kD,EAAQ2uC,eAAiBy3E,GAA8B,CACtDh+H,gBACA+D,gBACAG,2BACAk+C,cAAeD,EACftsC,cAvCGg7F,EAAApmF,KAAA,EA2CqBqvB,QAAQxmD,IAAI,CACrC8+G,GAAsB,CACrBl4G,aACAwG,QACAiU,SAHDy9F,CAIG1qF,GACHqsF,GAAmB,CAClB75G,aACAsN,MAAOoQ,EAAQ2hG,aACf3vE,KAAM,WACNoqE,OAAQ5I,GACRz2F,SALDo/F,CAMGrsF,KAvDC,UA2CC1X,EA3CD6gG,EAAA30D,OA0DCqvD,EAAUv7F,EAAYrU,MAAM,SAAA2lC,GAAC,OAAU,IAANA,OAExBC,EA5DV,CAAAsvE,EAAApmF,KAAA,aA6DAs1G,EA7DA,CAAAlvB,EAAApmF,KAAA,gBA8DG73B,EAAQC,IACRqC,EAAUD,YAAcrC,GA/D3Bi+G,EAAApmF,KAAA,GAgE0Bs2F,GAAgB,CAC5C7rH,UACAqJ,SAAUqZ,EACV2uC,eAAgB3uC,EAAQ2uC,iBAnEtB,eAAAn8C,EAAAymG,EAAA30D,KAgEK0kE,EAhELx2G,EAgEKw2G,WAhEL/P,EAAApmF,KAAA,GAqEGyqG,GAA0B,CAAEC,QAASvU,GAArCsU,CACLxtG,EACA70B,GAvEE,eAAAg+G,EAAApmF,KAAA,GA2EEyzG,GAAuB,CAC5BtmH,UACAumH,WAAY,yBAFPD,CAGHx2G,EAAU70B,GA9ET,QAAAg+G,EAAApmF,KAAA,kBA+EO8gF,GAAWhqE,GACtBuxC,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,oBAAqB,CAC7B+J,KAAM,CAAC,WAAY+lG,EAAY,mBAEhC38E,QAAS,KALVosD,CAMGprD,GAtFC,QAAAmpF,EAAApmF,KAAA,iBAAAomF,EAAAxuF,KAAA,GAAAwuF,EAAA/iC,GAAA+iC,EAAA,SAyFLttF,QAAQqB,MAAM,oBAAdisF,EAAA/iC,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,oBAAqB,CAC7B+J,KAAM,CAAC,WAAY82D,IAAOmoE,UAAP1rB,EAAA/iC,OAEpBpnD,QAAS,KALVosD,CAMGprD,GAhGE,eAAAmpF,EAAApmF,KAAA,GAmGA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GAnGjC,yBAAAmpF,EAAAjmF,SAAAgmF,EAAA,kBAAP,gBAAArB,EAAAkB,GAAA,OAAAvmG,EAAA5C,MAAA4d,KAAA3yB,YAAA,GCr9BM,IAAM2tI,GAA2B,SAAA/sI,GAA0B,IAAvBgtI,EAAuBhtI,EAAvBgtI,OAAQtqH,EAAe1iB,EAAf0iB,SAClD,OAAe,OAAXsqH,QAA8B1tI,IAAX0tI,EACfA,EAGDrvB,sBAAWqvB,EAAQtqH,GACxB4nD,IAAI1gD,wBAAa,MACjBkB,gCCTUmiH,GAA8B,eAAAjtI,EAAAM,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAG,SAAAC,EAAMi2G,GAAN,IAAAt4B,EAAA+P,EAAA/6D,EAAA,OAAA7yB,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EAC3Bs+E,MAAMs3B,GADqB,cACvCt4B,EADuCv9E,EAAA0xB,KAAA1xB,EAAAC,KAAA,EAE1Bs9E,EAAI+P,OAFsB,cAEvCA,EAFuCttF,EAAA0xB,KAGvCa,EAAY5C,IAAIC,gBAAgB09D,GAHOttF,EAAAujD,OAAA,SAKtChxB,GALsC,wBAAAvyB,EAAAI,SAAAR,MAAH,gBAAAS,GAAA,OAAA13B,EAAAmU,MAAA4d,KAAA3yB,YAAA,GCoCnC+tI,GAAsCj1B,WAAtCi1B,WAAYC,GAA0Bl1B,WAA1Bk1B,WAAYC,GAAcn1B,WAAdm1B,UACxBC,GAAmCv8G,WAAnCu8G,wCAEOC,mFAAf,SAAA5zB,EAAA35G,GAAA,IAAAmjB,EAAAylC,EAAApQ,EAAA/vC,EAAAnG,EAAAiL,EAAAoqC,EAAA61F,EAAAloC,EAAAmoC,EAAA,OAAA12G,EAAA53B,EAAAi4B,KAAA,SAAAwiF,GAAA,cAAAA,EAAA1qF,KAAA0qF,EAAAtiF,MAAA,cACCnU,EADDnjB,EACCmjB,UACAylC,EAFD5oD,EAEC4oD,QACApQ,EAHDx4C,EAGCw4C,UACA/vC,EAJDzI,EAICyI,KACAnG,EALDtC,EAKCsC,QACAiL,EANDvN,EAMCuN,MACAoqC,EAPD33C,EAOC23C,YAPDiiE,EAAAtiF,KAAA,EAS0BmtF,GAAoB,CAC5C77D,UACAtmD,YAXF,cASOkrI,EATP5zB,EAAA7wD,KAYKr0C,KAEE4wF,EAAO,IAAIr3F,UAAO,CACvBxF,OACAya,SAAQ,UAAAna,OAAYykI,GACpBh1F,YACAr1B,YACAle,QAAS+J,KAAKq+C,MACd9/C,QACAoqC,cACA/oC,UAAW,GACXmwE,KAAM,GACN2uD,UAAU,IAxBZ9zB,EAAAtiF,KAAA,EA2BuBwrF,GAAW,CAChCxd,KAAMA,EAAKmlC,UACXnoI,YA7BF,cA2BOmrI,EA3BP7zB,EAAA7wD,KAAA6wD,EAAAh/B,OAAA,SAgCQ6yD,GAhCR,wBAAA7zB,EAAAniF,SAAAkiF,6BAmCO,SAASj7C,GAATh+D,GAKJ,IAJFqG,EAIErG,EAJFqG,WACAya,EAGE9gB,EAHF8gB,MACAy8B,EAEEv9C,EAFFu9C,QACAkgB,EACEz9D,EADFy9D,UAEA,sBAAAt9D,EAAAP,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAC,EAAe1C,EAAU70B,GAAzB,IAAA04G,EAAAl3G,EAAAzB,EAAAq/E,EAAAvxE,EAAAoqC,EAAAlvC,EAAAgf,EAAAkmH,EAAAjqH,EAAA0zC,EAAAnN,EAAA2jF,EAAAr2E,EAAA16C,EAAAzb,EAAAmL,EAAAigB,EAAAxf,EAAAyvD,EAAAvQ,EAAA3kC,EAAA,OAAAwP,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,cAEF6jF,GAAU,EAFR/gF,EAAAnI,KAAA,EAIChuB,EAAYH,eACZtB,EAAQC,IACRo/E,EAAO3wE,aAAgB1O,GAE5B8N,EAOGuxE,EAPHvxE,MACAoqC,EAMGmnC,EANHnnC,YACAlvC,EAKGq2E,EALHr2E,KACAgf,EAIGq3D,EAJHr3D,QAXIkmH,EAeD7uD,EAHHp7D,wBAZI,IAAAiqH,EAYe,KAZfA,EAaJv2E,EAEG0nB,EAFH1nB,WACAnN,EACG60B,EADH70B,KAdI2jF,GAiBmBx2E,GAAc,IAA9BtqD,OACAyqD,QAlBH,IAAAq2E,EAiBY,GAjBZA,GAkBGr2E,cAlBHlgC,EAAAC,KAAA,GAoBqBqvB,QAAQxmD,IAAI,CACrCygH,GAAmB,CAClB75G,aACAsN,MAAO9G,EACPkpC,KAAM,QACNoqE,OAAQssB,GAAW5/H,MACnBiU,SALDo/F,CAMGrsF,GACHqsF,GAAmB,CAClB75G,aACAsN,MAAOsjC,EACPlB,KAAM,cACNoqE,OAAQssB,GAAWx1F,YACnBn2B,SALDo/F,CAMGrsF,GACHqsF,GAAmB,CAClB75G,aACAsN,MAAO5L,EACPguC,KAAM,OACNoqE,OAAQssB,GAAW1kI,KACnB+Y,SALDo/F,CAMGrsF,GACHqsF,GAAmB,CAClB75G,aACAsN,MAAOoT,EACPgvB,KAAM,UACNoqE,OAAQssB,GAAW1lH,QACnBjG,SALDo/F,CAMGrsF,KAhDC,WAoBC1X,EApBDwa,EAAA0xB,OAmDLqvD,EAAUv7F,EAAYrU,MAAM,SAAA2lC,GAAC,OAAU,IAANA,MAEjBopB,GAAsC,OAArB7zC,EArD5B,CAAA2T,EAAAC,KAAA,gBAAAD,EAAAC,KAAA,GAsDYspF,GAAmB,CAClC75G,aACAsN,MAAM/T,OAAA++B,GAAA,EAAA/+B,CAAA,GACJY,EAAUV,QAAUusI,GAAyB,CAC7CC,OAAQtpH,GAAoB,KAC5BhB,SAAUxhB,EAAUwhB,YAGtB+zB,KAAM,mBACNoqE,OAAQssB,GAAWzpH,iBACnBlC,SAVeo/F,CAWbrsF,GAjEC,QAsDJ6jF,EAtDI/gF,EAAA0xB,KAAA,YAoEqDqvD,EApErD,CAAA/gF,EAAAC,KAAA,gBAAAD,EAAAC,KAAA,GAqEIosF,GAAc,CAAEC,WAAYl8F,IArEhC,QAAA4P,EAAAsjD,GAAAtjD,EAAA0xB,KAAA1xB,EAAAC,KAAA,iBAAAD,EAAAsjD,GAsEF,GAtEE,QAAAv5E,EAAAi2B,EAAAsjD,GAoEGpuE,EApEHnL,EAoEGmL,SAAUigB,EApEbprB,EAoEaorB,OAAQxf,EApErB5L,EAoEqB4L,WAAYyvD,EApEjCr7D,EAoEiCq7D,gBAGhCvQ,EAvED5rD,OAAAC,EAAA,EAAAD,CAAA,GAuEgB2pD,EAvEhB,CAuEsB19C,WAAUigB,SAAQxf,aAAYyvD,oBAInDl1C,EAAQ+lH,GAA+B,CAC5Cl2E,aACAqF,gBAJiBlF,EAAgBkF,EAAkB/4C,EAKnDhB,SAAUxhB,EAAUwhB,WAGrBi1C,GAAc,OAAQzL,EAAtByL,CAA+BpjC,EAAU70B,GACzCi4D,GAAc,QAASpwC,EAAvBowC,CAA8BpjC,EAAU70B,GAlFnC23B,EAAAC,KAAA,iBAAAD,EAAAnI,KAAA,GAAAmI,EAAAgvF,GAAAhvF,EAAA,SAsFLjH,QAAQqB,MAAM,4BAAd4F,EAAAgvF,IAtFK,eAAAhvF,EAAAC,KAAA,GAyFAshF,GAAsB,CAAER,UAASn6D,UAASkgB,cAzF1C,eAAA9mC,EAAAC,KAAA,GA0FA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GA1FjC,yBAAA8C,EAAAI,SAAAR,EAAA,kBAAP,gBAAA0oB,EAAA0pD,GAAA,OAAAxoG,EAAAsT,MAAA4d,KAAA3yB,YAAA,GA8FM,SAASu/D,GAATp9D,GAMJ,IALFwF,EAKExF,EALFwF,WACAya,EAIEjgB,EAJFigB,MACAy8B,EAGE18C,EAHF08C,QACAkgB,EAEE58D,EAFF48D,UACAxwD,EACEpM,EADFoM,OAEA,sBAAAjM,EAAApB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAgoB,EAAezqB,EAAU70B,GAAzB,IAAAD,EAAAoqI,EAAAphI,EAAA+vC,EAAAq1F,EAAA91E,EAAAnP,EAAAX,EAAAkC,EAAA/rB,EAAAD,EAAAthB,EAAAu7F,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAAA2nB,EAAA3nB,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,cAGA90B,EAAQC,IAHRmqI,EAQFn8H,aAAyBjO,EAAO,SAAUkO,GAH7ClF,EALKohI,EAKLphI,KACA+vC,EANKqxF,EAMLrxF,UANKq1F,EAAAhE,EAOL5/E,KAAQ8N,EAPH81E,EAOG91E,YAAanP,EAPhBilF,EAOgBjlF,QAASX,EAPzB4lF,EAOyB5lF,KAPzBkC,EAUoBC,aAAuB3hD,GAAzC21B,EAVF+rB,EAUE/rB,MAAOD,EAVTgsB,EAUShsB,OAVT8gB,EAAA3nB,KAAA,EAYoBqvB,QAAQxmD,IAAR,GAAA4I,OAAAzI,OAAAgE,GAAA,EAAAhE,CACrBy3D,EACD,CACAkqD,GAAkB,CACjBl7G,aACAya,QACAogG,SAAU,OACVxe,YAAahlE,EACbilE,aAAcllE,EACdgY,IAAK,qBACLs7C,OAAO,EACPntC,UAAU,EACVrhC,MAAO,CACN2lC,UACAX,SAXFg6D,CAaG1tF,IAEH,CACA4mB,GAASp0C,EAAY,OAAQ,CAC5BqxG,SAAS,EACT52F,SAFD25B,CAGG5mB,KAtBmBj0B,OAAAgE,GAAA,EAAAhE,CAwBrBy3D,EACD,CACA6oD,GAAmB,CAClB75G,aACAsN,MAAOmkC,EACP/B,KAAM,YACNoqE,OAAQusB,GAAW50F,UACnBh3B,SALDo/F,CAMGrsF,IAEH,CACA4mB,GAASp0C,EAAY,YAAa,CACjCqxG,SAAS,EACT52F,SAFD25B,CAGG5mB,OAlDD,cAYA1X,EAZAoiC,EAAA8J,KAsDAqvD,EAAUv7F,EAAYrU,MAAM,SAAA2lC,GAAC,OAAU,IAANA,IAtDjC8Q,EAAA3nB,KAAA,GAwDAshF,GAAsB,CAAER,UAASn6D,UAASkgB,cAxD1C,eAAAlf,EAAA3nB,KAAA,GAyDA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GAzDjC,yBAAA0qB,EAAAxnB,SAAAunB,MAAP,gBAAAouD,EAAAI,GAAA,OAAA9rG,EAAAyS,MAAA4d,KAAA3yB,YAAA,GA6DM,SAASw/D,KACf,sBAAA/8D,EAAAvB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAmoB,EAAe5qB,EAAU70B,GAAzB,IAAAD,EAAA+R,EAAA/D,EAAAnL,EAAApB,EAAA89E,EAAAt7D,EAAA8mH,EAAA,OAAAzzG,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,UAAA8nB,EAAAlwB,KAAA,EAECzvB,EAAQC,IACR8R,EAAOrD,aAAgB1O,GACvBgO,EAJDnN,OAAAC,EAAA,EAAAD,CAAA,GAIgBkR,GACflP,EAAUK,YAAclD,GACxByB,EAAYH,eACdi+E,EAAe,MACfvxE,EAAQw8C,KAAK8N,YARZ,CAAA3Y,EAAA9nB,KAAA,gBAAA8nB,EAAA9nB,KAAA,GASkBi2G,GAAgB,CACrCpqH,UAAW1V,EAAQw8C,KAAKhC,KACxBW,QAASn7C,EAAQw8C,KAAKrB,QACtBpQ,UAAW/qC,EAAQ+qC,UACnB/vC,KAAMgF,EAAQhF,KACdnG,UACAiL,MAAOE,EAAQF,MACfoqC,YAAalqC,EAAQkqC,cAhBlB,QASJqnC,EATI5/B,EAAA2J,KAiBAr0C,KAjBA,eAoBLjH,EAAQuxE,aAAeA,EACvBvxE,EAAQxI,QAAU+J,KAAKq+C,OAEjB3pC,EAAmBjW,EAAQ2pD,WAAWtqD,OAAOyqD,cAChD9pD,EAAQw8C,KAAKwS,gBACbhvD,EAAQiW,oBAGVjW,EAAQiW,iBAARpjB,OAAA++B,GAAA,EAAA/+B,CAAA,GACEY,EAAUV,QAAUusI,GAAyB,CAC7CC,OAAQtpH,EACRhB,SAAUxhB,EAAUwhB,aA/BlB08B,EAAA9nB,KAAA,GAoCiB2rF,GAAW,CAChCnkC,KAAM,IAAI1wE,UAAOX,GAASg9H,UAC1BnoI,YAtCI,QAoCCkoI,EApCDprF,EAAA2J,KAyCLx0B,EAAS,CACR9rB,KAAMo1F,IACNrsF,KAAM,IAAIpD,UAAOo8H,GAASp8B,WAC1B1jG,SAAU,WAGXi1E,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,wBAAyB,CAAE+J,KAAM,CAAC,SAAUsD,EAAQF,SAC7DgmB,QAAS,KAHVosD,CAIGprD,GAnDE6qB,EAAA9nB,KAAA,uBAAA8nB,EAAAlwB,KAAA,GAAAkwB,EAAAu7B,GAAAv7B,EAAA,SAqDLhvB,QAAQqB,MAAM,oBAAd2tB,EAAAu7B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,oBAAqB,CAC7B+J,KAAM,CAAC,SAAU+lG,EAAW9wD,EAAAu7B,OAE7BpnD,QAAS,KALVosD,CAMGprD,GACG,IAAI+0E,MAAM,oBAAVlqD,EAAAu7B,IA7DD,yBAAAv7B,EAAA3nB,SAAA0nB,EAAA,kBAAP,gBAAAsuD,EAAAI,GAAA,OAAAhsG,EAAAsS,MAAA4d,KAAA3yB,YAAA,GAkEM,SAASu8D,GAATz4D,GAAoD,IAAf2D,EAAe3D,EAAf2D,GAAI4gB,EAAWvkB,EAAXukB,QAC/C,sBAAApkB,EAAA/C,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsoB,EAAe/qB,EAAU70B,GAAzB,IAAAikH,EAAApgH,EAAAipB,EAAA/H,EAAAlY,EAAAiF,EAAA,OAAAulB,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cAEN64E,EAAc,aADRwT,EAAal8F,GAAW,WAAa5gB,IACH,EAAxCspG,CAA8C57E,GAFxCgrB,EAAArwB,KAAA,EAAAqwB,EAAAjoB,KAAA,EAIuCosF,GAAc,CACzDC,eALI,OAAApgH,EAAAg8C,EAAAwJ,KAIGv8B,EAJHjpB,EAIGipB,OAAQ/H,EAJXlhB,EAIWkhB,QAASlY,EAJpBhJ,EAIoBgJ,SAGnBiF,EAAO,CAAE3K,GAAI0F,EAAUigB,SAAQ/H,WAErC8P,EAAS,CACR9rB,KAAMq1F,IACNtsF,OACA9G,SAAU,YAGP8hB,GAAUA,EAAOntB,OACpBsgF,EAAS,CACRl3E,KAAM,UACNsR,MAAO3Z,aAAE,uCAAwC,CAChD+J,KAAM,CAACw5G,KAERpwF,QAAS,KALVosD,CAMGprD,GAEHorD,EAAS,CACRl3E,KAAM,UACNsR,MAAO3Z,aAAE,mCAAoC,CAC5C+J,KAAM,CAACw5G,KAERx5G,KAAM,CAACw5G,GACPpwF,QAAS,KANVosD,CAOGprD,GA/BCgrB,EAAAjoB,KAAA,iBAAAioB,EAAArwB,KAAA,GAAAqwB,EAAAo7B,GAAAp7B,EAAA,SAkCLnvB,QAAQqB,MAAM,+BAAd8tB,EAAAo7B,IACAgF,EAAS,CACRl3E,KAAM,QAENsR,MAAO3Z,aAAE,+BAAgC,CACxC+J,KAAM,CAACtD,EAAD04C,EAAAo7B,MAEPxwE,KAAM,CAACtD,EAAD04C,EAAAo7B,IACNpnD,QAAS,KAPVosD,CAQGprD,GA3CE,QA6CN47E,EAAc,YAAcwT,GAAY,EAAxCxT,CAA+C57E,GA7CzC,yBAAAgrB,EAAA9nB,SAAA6nB,EAAA,kBAAP,gBAAAwuD,EAAAiL,GAAA,OAAA11G,EAAA8Q,MAAA4d,KAAA3yB,YAAA,GAiDM,SAASy+E,GAATn6E,GAAyD,IAAtBiK,EAAsBjK,EAAtBiK,OAAQkmC,EAAcnwC,EAAdmwC,WACjD,sBAAAhwC,EAAAvD,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAyoB,EAAelrB,EAAU70B,GAAzB,IAAAD,EAAA+R,EAAA/D,EAAAqgI,EAAA5qH,EAAAC,EAAAq1B,EAAAoD,EAAAgN,EAAA,OAAA7xB,EAAA53B,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,UACA73B,EAAQC,IACR8R,EAAOzF,YAAiBtM,EAAOkO,GAC/BF,EAAUC,aAAyBjO,EAAO,SAAUkO,GAEpDmgI,EAAU,CAAC,WAAY,YAAa,aAAal8H,KAAK,SAAA6kC,GAAI,OAC/D5C,EAAWhiC,SAAS4kC,KAGbvzB,EAAmC1R,EAAnC0R,SAAUC,EAAyB3R,EAAzB2R,UAAWq1B,EAAchnC,EAAdgnC,UACvBoD,EAAY,IACdkyF,EAXE,CAAApuF,EAAApoB,KAAA,SAYLskB,EAAUqO,KAAV3pD,OAAAC,EAAA,EAAAD,CAAA,GACImN,EAAQw8C,MAEZrO,EAAUpD,UAAY/qC,EAAQ+qC,UAfzBkH,EAAApoB,KAAA,qBAiBWpU,EAjBX,CAAAw8B,EAAApoB,KAAA,gBAAAooB,EAAApoB,KAAA,GAkBI21G,GAA+Bx8G,aAAQvN,IAlB3C,QAAAw8B,EAAAi7B,GAAAj7B,EAAAqJ,KAAArJ,EAAApoB,KAAA,iBAAAooB,EAAAi7B,GAmBFz3D,EAnBE,QAiBC0lC,EAjBDlJ,EAAAi7B,GAqBL/+B,EAAUqO,KAAV3pD,OAAAC,EAAA,EAAAD,CAAA,GACIkR,EAAKy4C,KADT,CAECrB,UACAX,KAAM9kC,EACN40C,eAAgB70C,GAAYC,GAAaq1B,KAE1CoD,EAAUpD,UAAYA,EA3BjB,QA8BN6wF,GAAc73H,EAAMoqC,EAAW,SAAUxtC,UAAQoD,EAAK3K,GAAtDwiI,CACC90G,EACA70B,GAhCK,yBAAAggD,EAAAjoB,SAAAgoB,MAAP,gBAAA05D,EAAAC,GAAA,OAAAv1G,EAAAsQ,MAAA4d,KAAA3yB,YAAA,GAqCM,SAASo+E,GAATx5E,GAKJ,IAJF23C,EAIE33C,EAJF23C,qBACAhuC,EAGE3J,EAHF2J,OACSogI,EAEP/pI,EAFFi6C,QACAl3C,EACE/C,EADF+C,WAEA,sBAAA3C,EAAA9D,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAiiF,EAAe1kF,EAAU70B,GAAzB,IAAAD,EAAAuuI,EAAA/jF,EAAAzR,EAAAoQ,EAAAX,EAAA8P,EAAAnc,EAAAqC,EAAA,OAAAlnB,EAAA53B,EAAAi4B,KAAA,SAAA8hF,GAAA,cAAAA,EAAAhqF,KAAAgqF,EAAA5hF,MAAA,cACA73B,EAAQC,IADRsuI,EAEsBtgI,aAC3BjO,EACA,SACAkO,GAHOs8C,EAFF+jF,EAEE/jF,KAAMzR,EAFRw1F,EAEQx1F,UAKNoQ,EAA+BqB,EAA/BrB,QAASX,EAAsBgC,EAAtBhC,KAAM8P,EAAgB9N,EAAhB8N,YAEjBnc,EAAY,CACjBpD,UAAWuf,EAAcvf,EAAY,GACrCt1B,SAAU60C,EAAcnP,EAAU,GAClCzlC,UAAW40C,EAAc9P,EAAO,IAG3BhK,EAAU,WACftC,EAAqBC,EAAW,CAC/B,CACC99B,KAAM,eACN29B,OAAQ,CAAC,YAAa,WAAY,gBAGpCsyF,KAtBK70B,EAAA5hF,KAAA,EAyBAqnC,GAAwB,CAC7B53D,aACAya,OAAO,EACPy8B,UACAtwC,UAJKgxD,CAKHpqC,EAAU70B,GA9BP,wBAAAw5G,EAAAzhF,SAAAwhF,MAAP,gBAAAO,EAAAC,GAAA,OAAAr1G,EAAA+P,MAAA4d,KAAA3yB,YAAA,GAkCM,SAAS0gF,GAATt7E,GAMJ,IALFuC,EAKEvC,EALFuC,WACAya,EAIEhd,EAJFgd,MACAhQ,EAGEhN,EAHFgN,KACA48B,EAEE5pC,EAFF4pC,OACAyF,EACErvC,EADFqvC,WAEA,sBAAAlvC,EAAArE,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsiF,EAAe/kF,EAAU70B,GAAzB,IAAAD,EAAAyB,EAAA2F,EAAA4B,EAAA8E,EAAAoqC,EAAAj0B,EAAA+D,EAAAvE,EAAAC,EAAAq1B,EAAA2e,EAAAC,EAAAG,EAAA02E,EAAAC,EAAAC,EAAAtxH,EAAAu7F,EAAAthD,EAAA60E,EAAAyC,EAAAC,EAAAC,EAAAC,EAAAjsI,EAAAw8E,EAAA0vD,EAAAC,EAAA,OAAA13G,EAAA53B,EAAAi4B,KAAA,SAAAmiF,GAAA,cAAAA,EAAArqF,KAAAqqF,EAAAjiF,MAAA,cAAAiiF,EAAAjiF,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,cAAAglF,EAAArqF,KAAA,EAGCzvB,EAAQC,IACRwB,EAAYH,eAEjB8F,EAUG2K,EAVH3K,GACA4B,EASG+I,EATH/I,KACA8E,EAQGiE,EARHjE,MACAoqC,EAOGnmC,EAPHmmC,YACAj0B,EAMGlS,EANHkS,iBACA+D,EAKGjW,EALHiW,QACAvE,EAIG1R,EAJH0R,SACAC,EAGG3R,EAHH2R,UACAq1B,EAEGhnC,EAFHgnC,UACY2e,EACT3lD,EADH4lD,WAMOG,GAFFH,EAAaD,GAAkB,CAAE3yC,QAAS,IAAK1X,OAAQ,KAExBA,OAA7ByqD,cAEF02E,EAAU,IAAI7/H,UAAOoD,GACrB08H,EACuB,kBAArBxqH,IAAkC6zC,EAEpC42E,EAAct6F,EAAWjiC,KAC9B,SAAA6kC,GAAI,OACHA,IACe,eAAdA,EAAK34B,OACJ24B,EAAKgF,QAAU,IAAI5pC,SAAS,iBA/B3B0nG,EAAAjiF,KAAA,GAkCqBqvB,QAAQxmD,IAAI,CACrCygH,GAAmB,CAClB75G,aACAsN,MAAO9G,EACPkpC,KAAM,QACNoqE,OAAQwsB,GAAU9/H,MAClBiU,SALDo/F,CAMGrsF,GACHqsF,GAAmB,CAClB75G,aACAsN,MAAOsjC,EACPlB,KAAM,cACNoqE,OAAQwsB,GAAU11F,YAClBn2B,SALDo/F,CAMGrsF,GACHqsF,GAAmB,CAClB75G,aACAsN,MAAOoT,EACPgvB,KAAM,UACNoqE,OAAQwsB,GAAU5lH,QAClBjG,SALDo/F,CAMGrsF,IACH25G,GACG19E,GAAqB,CACrBzpD,aACA0vC,KAAM,mBACNpiC,MAAOqP,EACPlC,SAJAgvC,CAKGj8B,IAEN45G,GACGvtB,GAAmB,CACnB75G,aACA0vC,KAAM,aACNpiC,MAAO+iD,EACPypD,OAAQwsB,GAAUj2E,WAClB51C,SALAo/F,CAMGrsF,KAvEF,WAkCC1X,EAlCD08F,EAAAxwD,KA2EDqvD,EAAUv7F,EAAYrU,MAAM,SAAA2lC,GAAC,OAAU,IAANA,IAEjC2oB,EAAS,KACT60E,EAAW,KACXyC,EAAW,MAEXh2B,GAAY7gD,IAAiB22E,EAjF5B,CAAA30B,EAAAjiF,KAAA,YAkFC5T,KAAoBrJ,WAAWqJ,IAAqB,GAlFrD,CAAA61F,EAAAjiF,KAAA,eAmFG,IAAIgyE,MAAM,gCAnFb,QAsFJ8kC,EAAW1qH,EAtFP61F,EAAAjiF,KAAA,qBAuFM8gF,IAAW7gD,EAvFjB,CAAAgiD,EAAAjiF,KAAA,gBAAAiiF,EAAAjiF,KAAA,GAwFcosF,GAAc,CAAEC,WAAYl8F,IAxF1C,WAwFJ2mH,EAxFI70B,EAAAxwD,KAyFF0T,gBAzFE,CAAA88C,EAAAjiF,KAAA,eA4FG,IAAIgyE,MAAM,0BA5Fb,QAAAiQ,EAAAjiF,KAAA,iBA8FM8gF,IACVg2B,EACG1qH,GAAgD,kBAArBA,EAC1BH,uBACAqG,wBAAatpB,OAAOuK,OAAO6Y,GAAkB,IAAI2mD,IAAI,KACrDnpE,EAAUwhB,UAEVgB,GArGA,WAwGD00F,IAAY81B,GAA0BC,KACzCxC,EAAW2B,GAA+B,CACzCl2E,aACAqF,gBAAiB2xE,EACjB1rH,SAAUxhB,EAAUwhB,WAGrBo0C,EAAMx2D,OAAA++B,GAAA,EAAA/+B,CAAA,GACJY,EAAUV,QAAUusI,GAAyB,CAC7CC,OAAQoB,GAAY,KACpB1rH,SAAUxhB,EAAUwhB,YAItBurH,EAAQvqH,iBAAmBozC,EAC3Bm3E,EAAQ1mH,MAAQokH,GAGX0C,EAAoBx6F,EAAWjiC,KACpC,SAAA6kC,GAAI,OAAIA,GAAsB,iBAAdA,EAAK34B,OAGhBwwH,EAAe,CACpBnrH,YACAD,WACAs1B,aAGG+1F,EAAU,OACVn2B,GAAWi2B,GAAqBjgG,GArI/B,CAAAmrE,EAAAjiF,KAAA,cAsIApU,GAAYC,GAAaq1B,GAtIzB,CAAA+gE,EAAAjiF,KAAA,gBAuIGh1B,EAAUK,YAAclD,GAvI3B85G,EAAAjiF,KAAA,GAwIai2G,GAAgB,CAC/BpqH,YACAylC,QAAS1lC,EACTs1B,YACA/vC,OACAnG,UACAiL,QACAoqC,gBA/IE,QAwIH42F,EAxIGh1B,EAAAxwD,KAkJHklF,EAAQjvD,aAAeuvD,EAAQ75H,KAC/B45H,EAAanrH,UAAYorH,EAAQprH,UACjCmrH,EAAaprH,SAAWqrH,EAAQrrH,SAChCorH,EAAa91F,UAAY+1F,EAAQ/1F,UArJ9B+gE,EAAAjiF,KAAA,iBAuJH22G,EAAQjvD,aAAe,KACvBsvD,EAAanrH,UAAY,GACzBmrH,EAAaprH,SAAW,GACxBorH,EAAa91F,UAAY,GA1JtB,WA8JCsmC,EAAOmvD,EAAQ7nB,cAEjBhO,EAhKC,CAAAmB,EAAAjiF,KAAA,gBAAAiiF,EAAAjiF,KAAA,GAiK2BqvB,QAAQxmD,IAAI,CAC1CygH,GAAmB,CAClB75G,aACAsN,MAAO45H,EAAQvqH,iBACf+yB,KAAM,mBACNoqE,OAAQwsB,GAAU3pH,iBAClBlC,SALDo/F,CAMGrsF,GACHqsF,GAAmB,CAClB75G,aACAsN,MAAO45H,EAAQ1mH,MACfkvB,KAAM,QACNoqE,OAAQwsB,GAAU9lH,MAClB/F,SALDo/F,CAMGrsF,GACHqsF,GAAmB,CAClB75G,aACAsN,MAAOyqE,EACProC,KAAM,OACNoqE,OAAQwsB,GACR7rH,SALDo/F,CAMGrsF,KAtLA,QAiKEi6G,EAjKFj1B,EAAAxwD,KAyLJqvD,EAAUo2B,EAAiBhmI,MAAM,SAAA2lC,GAAC,OAAU,IAANA,IAzLlC,YA4LDiqE,IAAWhqE,EA5LV,CAAAmrE,EAAAjiF,KAAA,gBAAAiiF,EAAAjiF,KAAA,GA6LuB4rF,GAAa,CAAEpkC,OAAMj4E,OA7L5C,WA6LE4nI,EA7LFl1B,EAAAxwD,KA6LmD+1B,MAEnDjrC,EAAWhiC,SAAS,WA/LpB,CAAA0nG,EAAAjiF,KAAA,gBAAAiiF,EAAAjiF,KAAA,GAgMGqkC,GAA0B,CAAEl0C,WAA5Bk0C,CAAuCpnC,GAhM1C,QAmMAg6G,GACHh6G,EAAS,CACR9rB,KAAMo1F,IACNrsF,KAAM,IAAIvD,UAAOsgI,GAASngC,WAC1B1jG,SAAU,WAIZ6pB,EAAS,CACR9rB,KAAMq1F,IACNtsF,KAAM,IAAIpD,UAAJ9N,OAAAC,EAAA,EAAAD,CAAA,GAAgBmuI,EAAgBH,IAAgBlgC,WACtD1jG,SAAU,WAEXi1E,EAAS,CACRl3E,KAAM,UACNsR,MAAO3Z,aAAE,wBAAyB,CACjC+J,KAAM,CAAC,SAAUskI,EAAYlhI,SAE9BgmB,QAAS,KALVosD,CAMGprD,GAtNCglF,EAAAjiF,KAAA,kBAuNO8gF,GAAWhqE,GACtBuxC,EAAS,CACRl3E,KAAM,QACNsR,MAAO3Z,aAAE,oBAAqB,CAC7B+J,KAAM,CAAC,SAAU+lG,EAAY,mBAE9B38E,QAAS,KALVosD,CAMGprD,GA9NC,QAAAglF,EAAAjiF,KAAA,iBAAAiiF,EAAArqF,KAAA,GAAAqqF,EAAA5+B,GAAA4+B,EAAA,SAiOLnpF,QAAQqB,MAAM,oBAAd8nF,EAAA5+B,IACAgF,EAAS,CACRl3E,KAAM,QACNsR,MAAO3Z,aAAE,oBAAqB,CAC7B+J,KAAM,CAAC,SAAU+lG,EAAWqJ,EAAA5+B,OAE7BpnD,QAAS,KALVosD,CAMGprD,GAxOE,eAAAglF,EAAAjiF,KAAA,GA2OA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GA3OjC,yBAAAglF,EAAA9hF,SAAA6hF,EAAA,kBAAP,gBAAAO,EAAAI,GAAA,OAAAt1G,EAAAwP,MAAA4d,KAAA3yB,YAAA,OC1aOguI,GAA0Bl1B,WAA1Bk1B,WAAYsB,GAAcx2B,WAAdw2B,UAEb,SAASxxE,GAATl9D,GAKJ,IAJF+G,EAIE/G,EAJF+G,WACAya,EAGExhB,EAHFwhB,MACAy8B,EAEEj+C,EAFFi+C,QACAkgB,EACEn+D,EADFm+D,UAEA,sBAAAz9D,EAAAJ,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAC,EAAe1C,EAAU70B,GAAzB,IAAAD,EAAAkvI,EAAAphI,EAAAoqC,EAAAlvC,EAAA+vC,EAAA37B,EAAAu7F,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,cAAA8C,EAAAnI,KAAA,EAGCzvB,EAAQC,IAHTivI,EAI2C3gI,aAAgBvO,GAAxD8N,EAJHohI,EAIGphI,MAAOoqC,EAJVg3F,EAIUh3F,YAAalvC,EAJvBkmI,EAIuBlmI,KAAM+vC,EAJ7Bm2F,EAI6Bn2F,UAJ7BnhB,EAAAC,KAAA,EAMqBqvB,QAAQxmD,IAAI,CACrCygH,GAAmB,CAClB75G,aACAsN,MAAO9G,EACPkpC,KAAM,QACNoqE,OAAQusB,GAAW7/H,MACnBiU,SALDo/F,CAMGrsF,GACHqsF,GAAmB,CAClB75G,aACAsN,MAAOsjC,EACPlB,KAAM,cACNoqE,OAAQusB,GAAWz1F,YACnBn2B,SALDo/F,CAMGrsF,GACHqsF,GAAmB,CAClB75G,aACAsN,MAAO5L,EACPguC,KAAM,OACNoqE,OAAQusB,GAAW3kI,KACnB+Y,SALDo/F,CAMGrsF,GACHqsF,GAAmB,CAClB75G,aACAsN,MAAOmkC,EACP/B,KAAM,YACNoqE,OAAQusB,GAAW50F,UACnBh3B,SALDo/F,CAMGrsF,KAlCC,cAMC1X,EANDwa,EAAA0xB,KAqCDqvD,EAAUv7F,EAAYrU,MAAM,SAAA2lC,GAAC,OAAU,IAANA,IArChC9W,EAAAC,KAAA,GAuCCshF,GAAsB,CAAER,UAASn6D,UAASkgB,cAvC3C,QAAA9mC,EAAAC,KAAA,iBAAAD,EAAAnI,KAAA,GAAAmI,EAAAsjD,GAAAtjD,EAAA,wBAAAA,EAAAC,KAAA,GA0CA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GA1CjC,yBAAA8C,EAAAI,SAAAR,EAAA,kBAAP,gBAAAS,EAAAioB,GAAA,OAAAj/C,EAAAyT,MAAA4d,KAAA3yB,YAAA,GA8CM,SAAS+9D,GAATt8D,GAKJ,IAJFkG,EAIElG,EAJFkG,WACAya,EAGE3gB,EAHF2gB,MACAy8B,EAEEp9C,EAFFo9C,QACAkgB,EACEt9D,EADFs9D,UAEA,sBAAAl9D,EAAAX,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAgoB,EAAezqB,EAAU70B,GAAzB,IAAAD,EAAAmvI,EAAAnmI,EAAAomI,EAAAjmF,EAAAX,EAAAkC,EAAA/rB,EAAAD,EAAAthB,EAAAu7F,EAAA,OAAArhF,EAAA53B,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAAA2nB,EAAA3nB,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,cAGA90B,EAAQC,IAHRkvI,EAOF5gI,aAAgBvO,GAFnBgJ,EALKmmI,EAKLnmI,KALKomI,EAAAD,EAML3kF,KAAQrB,EANHimF,EAMGjmF,QAASX,EANZ4mF,EAMY5mF,KANZkC,EASoBC,aAAuB3hD,GAAzC21B,EATF+rB,EASE/rB,MAAOD,EATTgsB,EASShsB,OATT8gB,EAAA3nB,KAAA,EAWoBqvB,QAAQxmD,IAAI,CACrC8hH,GAAkB,CACjBl7G,aACAya,QACAogG,SAAU,OACVxe,YAAahlE,EACbilE,aAAcllE,EACdgY,IAAK,qBACLs7C,OAAO,EACPntC,UAAU,EACVrhC,MAAO,CACN2lC,UACAX,SAXFg6D,CAaG1tF,KAzBE,cAWA1X,EAXAoiC,EAAA8J,KA4BAqvD,EAAUv7F,EAAYrU,MAAM,SAAA2lC,GAAC,OAAU,IAANA,IA5BjC8Q,EAAA3nB,KAAA,GA8BAshF,GAAsB,CAAER,UAASn6D,UAASkgB,cA9B1C,eAAAlf,EAAA3nB,KAAA,GA+BA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GA/BjC,yBAAA0qB,EAAAxnB,SAAAunB,MAAP,gBAAAqqD,EAAA+D,GAAA,OAAAnsG,EAAAkT,MAAA4d,KAAA3yB,YAAA,GAmCM,SAASm+D,KACf,sBAAAn8D,EAAAd,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAmoB,EAAe5qB,EAAU70B,GAAzB,IAAAD,EAAA+R,EAAA/D,EAAAnL,EAAAkrI,EAAAhD,EAAA,OAAAzzG,EAAA53B,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,cAAA8nB,EAAAlwB,KAAA,EAECzvB,EAAQC,IACR8R,EAAOxD,aAAgBvO,GACvBgO,EAJDnN,OAAAC,EAAA,EAAAD,CAAA,GAIgBkR,GACflP,EAAUK,YAAclD,GALzB2/C,EAAA9nB,KAAA,EAMoBmtF,GAAoB,CAC5C77D,QAASn7C,EAAQw8C,KAAKrB,QACtBtmD,YARI,cAMCkrI,EANDpuF,EAAA2J,KASDr0C,KAEJjH,EAAQyV,SAAR,UAAAna,OAA6BykI,GAC7B//H,EAAQ0V,UAAY1V,EAAQw8C,KAAKhC,KACjCx6C,EAAQxI,QAAU+J,KAAKq+C,MAblBjO,EAAA9nB,KAAA,GAeiBwrF,GAAW,CAChCxd,KAAM,IAAIr3F,UAAOR,GAASg9H,UAC1BnoI,YAjBI,QAeCkoI,EAfDprF,EAAA2J,KAoBLx0B,EAAS,CACR9rB,KAAMo1F,IACNrsF,KAAM,IAAIvD,UAAOu8H,GAASp8B,WAC1B1jG,SAAU,WAGXi1E,EAAS,CACRprD,SAAUA,EACV9rB,KAAM,SACN87G,SAAU,wBACVp6G,KAAM,CAAC,SAAUsD,EAAQF,SA9BrB6xC,EAAA9nB,KAAA,uBAAA8nB,EAAAlwB,KAAA,GAAAkwB,EAAAu7B,GAAAv7B,EAAA,SAiCLhvB,QAAQqB,MAAM,oBAAd2tB,EAAAu7B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,oBAAqB,CAC7B+J,KAAM,CAAC,SAAU82D,IAAOmoE,UAAPhqF,EAAAu7B,OAElBpnD,QAAS,KALVosD,CAMGprD,GACG,IAAI+0E,MAAM,oBAAVlqD,EAAAu7B,IAzCD,yBAAAv7B,EAAA3nB,SAAA0nB,EAAA,kBAAP,gBAAAquD,EAAAC,GAAA,OAAArsG,EAAA+S,MAAA4d,KAAA3yB,YAAA,GA8CM,SAAS+9E,GAAT57E,GAAoE,IAAnCwF,EAAmCxF,EAAnCwF,WAAYya,EAAuBjgB,EAAvBigB,MAAOhQ,EAAgBjQ,EAAhBiQ,KAAM48B,EAAU7sC,EAAV6sC,OAChE,sBAAA1sC,EAAApB,OAAAw2B,EAAA,EAAAx2B,CAAAy2B,EAAA53B,EAAA63B,KAAO,SAAAsoB,EAAe/qB,EAAU70B,GAAzB,IAAAmH,EAAA0G,EAAAoqC,EAAA2tD,EAAAzoF,EAAAiyH,EAAA,OAAA/3G,EAAA53B,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cAAAioB,EAAAjoB,KAAA,EACA64E,EAAcppG,GAAY,EAA1BopG,CAAgC57E,GADhC,cAAAgrB,EAAArwB,KAAA,EAGGroB,EAA2B2K,EAA3B3K,GAAI0G,EAAuBiE,EAAvBjE,MAAOoqC,EAAgBnmC,EAAhBmmC,YAEb2tD,EAAO,IAAIr3F,UAAOuD,GAAM40G,aALzB7mE,EAAAjoB,KAAA,EAOqBqvB,QAAQxmD,IAAI,CACrCygH,GAAmB,CAClB75G,aACAsN,MAAO9G,EACPkpC,KAAM,QACNoqE,OAAQ6tB,GAAUnhI,MAClBiU,SALDo/F,CAMGrsF,GACHqsF,GAAmB,CAClB75G,aACAsN,MAAOsjC,EACPlB,KAAM,cACNoqE,OAAQ6tB,GAAU/2F,YAClBn2B,SALDo/F,CAMGrsF,GACHqsF,GAAmB,CAClB75G,aACAsN,MAAOixF,EACP7uD,KAAM,OACNoqE,OAAQ6tB,GACRltH,SALDo/F,CAMGrsF,KA5BC,UAOC1X,EAPD0iC,EAAAwJ,MA+BWlsC,EAAYrU,MAAM,SAAA2lC,GAAC,OAAU,IAANA,MAExBC,EAjCV,CAAAmR,EAAAjoB,KAAA,gBAAAioB,EAAAjoB,KAAA,GAkCuByrF,GAAa,CAAEzd,OAAMz+F,OAlC5C,QAkCEioI,EAlCFvvF,EAAAwJ,KAkCmDu8C,KACvD/wE,EAAS,CACR9rB,KAAMq1F,IACNtsF,KAAM,IAAIvD,UAAO6gI,GAAa1gC,WAC9B1jG,SAAU,WAEXi1E,EAAS,CACRl3E,KAAM,UACNsR,MAAO3Z,aAAE,wBAAyB,CACjC+J,KAAM,CAAC,SAAU2kI,EAAYvhI,SAE9BgmB,QAAS,KALVosD,CAMGprD,GA9CC,QAAAgrB,EAAAjoB,KAAA,iBAAAioB,EAAArwB,KAAA,GAAAqwB,EAAAo7B,GAAAp7B,EAAA,SAiDLnvB,QAAQqB,MAAM,oBAAd8tB,EAAAo7B,IACAgF,EAAS,CACRl3E,KAAM,SACNsR,MAAO3Z,aAAE,oBAAqB,CAC7B+J,KAAM,CAAC,SAAU82D,IAAOmoE,UAAP7pF,EAAAo7B,OAElBpnD,QAAS,KALVosD,CAMGprD,GAxDE,eAAAgrB,EAAAjoB,KAAA,GA2DA64E,EAAcppG,GAAY,EAA1BopG,CAAiC57E,GA3DjC,yBAAAgrB,EAAA9nB,SAAA6nB,EAAA,kBAAP,gBAAAuuD,EAAAC,GAAA,OAAApsG,EAAAyS,MAAA4d,KAAA3yB,YAAA,qyIC/IcswB,EAAA,EAAApvB,OAAAC,EAAA,MACXy5B,EACA+0G,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,wBCjCJ3+G,EAAAC,QAAiB1B,EAAA1N,EAAuB,wTCMxCgxF,SAAOxxF,OAAOuuH,YAAY,aAElBrrC,EAAwCd,IAAxCc,SAAUN,EAA8BR,IAA9BQ,SAAUS,EAAoBjB,IAApBiB,gBA+BtBmrC,EAAkB,SAAAr9B,GACvB,IAAMs9B,EA9Ba,SAAAt9B,GAAY,IACvBygB,EAAa1zH,eAAb0zH,SACR,OAAO,IAAIngB,WAASmgB,EAAU1uB,EAASL,IAAKsO,GA4B3Bu9B,CAAYv9B,GACvBvxG,EA1Bc,SAAAuxG,GAAY,IAAA8jB,EACL/2H,eAAnB0B,iBADwB,IAAAq1H,EACZ,GADYA,EAEhC,OAAO,IAAIxjB,WACV7xG,EAAUV,QACVkjG,IAAUxiG,EAAU+uI,UAAU9rC,IAC9BsO,GAqBiBy9B,CAAaz9B,GACzB09B,EARoB,SAAA19B,GAAY,IAC9BgF,EAAwBj4G,eAAxBi4G,oBACR,OAAO,IAAI1E,WAAS0E,EAAqB9S,EAAgBR,IAAKsO,GAMtC29B,CAAmB39B,GAc3C,MAZgB,CACfA,WACAjO,SAAUurC,EACV7rC,SAAUA,EACVQ,IAAKxjG,EACLg0H,UAAWh0H,EACXyjG,gBAAiBwrC,EACjBlhB,SAAU,SAAApuH,GAAA,IAAGovI,EAAHpvI,EAAGovI,SAAUzvI,EAAbK,EAAaL,QAAb,OA3BK,SAAAR,GAAqC,IAAlCyyG,EAAkCzyG,EAAlCyyG,SAAUw9B,EAAwBjwI,EAAxBiwI,SAAUzvI,EAAcR,EAAdQ,QACvC,OAAO,IAAIuyG,WAASvyG,EAASkjG,IAAUusC,GAAU9rC,IAAKsO,GA2BpDwc,CAAS,CAAExc,WAAUw9B,WAAUzvI,aAChC6vH,YAAa,SAAApvH,GAAA,IAAGT,EAAHS,EAAGT,QAAH,OAzBK,SAAAE,GAA2B,IAAxB+xG,EAAwB/xG,EAAxB+xG,SAAUjyG,EAAcE,EAAdF,QAGhC,OAFyB,IAAIuyG,WAASvyG,EAAS0jG,EAASC,IAAKsO,GAwB9B4d,CAAY,CAAE5d,WAAUjyG,eAMlD6vI,EAAY,WACjB,IAAM59B,EAAW,IAAIK,SAAOw9B,UAAUC,gBACrCnpI,iEAED,OAAO0oI,EAAgBr9B,IAGlB+9B,EAAmB,IAAI7pF,QAAJ,eAAAvlD,EAAAd,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAY,SAAAC,EAAO2vB,EAASC,GAAhB,IAAA4rD,EAAA,OAAAzJ,EAAA7pG,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAAAD,EAAAC,KAAA,EACbm5G,MADa,OAC9Bh+B,EAD8Bp7E,EAAA0xB,KAG9BnM,OAAOuoF,UAAY1yB,IAAa71D,OAAOuoF,WAC5C/0G,QAAQqB,MAAM,2CACdo1B,EAAO,IAAIyiD,MAAM,6CAKlB1iD,EAAQ,CACPu+E,SAAUvoF,OAAOuoF,WAXkB,wBAAA9tG,EAAAI,SAAAR,MAAZ,gBAAAS,EAAAioB,GAAA,OAAAv+C,EAAA+S,MAAA4d,KAAA3yB,YAAA,IAenB6lI,EAA0B,eAAA1jI,EAAAjB,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAG,SAAAgoB,IAAA,IAAAt9C,EAAAyjI,EAAAC,EAAA,OAAAp8B,EAAA7pG,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cAAA2nB,EAAA3nB,KAAA,EACPk5G,EADO,UAAA9uI,EAAAu9C,EAAA8J,OAC1Bo8E,EAD0BzjI,EAC1ByjI,YAEQA,EAASuL,WAHS,CAAAzxF,EAAA3nB,KAAA,gBAAA2nB,EAAA/vB,KAAA,EAAA+vB,EAAA3nB,KAAA,EAKT6tG,EAASwL,QAAQ,CAAEz5C,OAAQ,iBALlB,cAK1BkuC,EAL0BnmF,EAAA8J,KAAA9J,EAAA27B,OAAA,SAMzBwqD,EAAS,IANgB,cAAAnmF,EAAA/vB,KAAA,GAAA+vB,EAAA07B,GAAA17B,EAAA,SAQhC7uB,QAAQ06D,IAAI,6DACN,IAAIwe,MAAJrqD,EAAA07B,IAT0B,yBAAA17B,EAAAxnB,SAAAunB,EAAA,kBAAH,yBAAAz9C,EAAA4S,MAAA4d,KAAA3yB,YAAA,GAc1BwxI,EAAe,eAAA/uI,EAAAvB,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAG,SAAAmoB,EAAMgmF,GAAN,OAAAn8B,EAAA7pG,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,cAAA8nB,EAAAlwB,KAAA,EAAAkwB,EAAA9nB,KAAA,EAEQ2tG,IAFR,UAAA7lF,EAAA2J,KAAA,CAAA3J,EAAA9nB,KAAA,eAAA8nB,EAAA9nB,KAAA,EAKY6tG,EAASwL,QAAQ,CACjDz5C,OAAQ,wBANY,OAAA93C,EAAA2J,KAAA,OAAA3J,EAAA9nB,KAAA,iBAAA8nB,EAAAlwB,KAAA,GAAAkwB,EAAAu7B,GAAAv7B,EAAA,SAWL,OAAbA,EAAAu7B,GAAI+5B,KAGPtkF,QAAQ06D,IAAI,+BAEZ16D,QAAQqB,MAAR2tB,EAAAu7B,IAhBqB,yBAAAv7B,EAAA3nB,SAAA0nB,EAAA,kBAAH,gBAAAkqD,GAAA,OAAAxnG,EAAAsS,MAAA4d,KAAA3yB,YAAA,GAsBfyxI,EAAoB,eAAA3tI,EAAA5C,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAG,SAAAsoB,IAAA,IAAAj8C,EAAA8hI,EAAA1yB,EAAA,OAAAzJ,EAAA7pG,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,cAAAioB,EAAAjoB,KAAA,EACDk5G,EADC,UAAAntI,EAAAk8C,EAAAwJ,OACpBo8E,EADoB9hI,EACpB8hI,UADoB,CAAA5lF,EAAAjoB,KAAA,gBAAAioB,EAAArwB,KAAA,EAAAqwB,EAAAjoB,KAAA,EAKpBs5G,EAAgBzL,GALI,cAOpB1yB,EAAW,IAAIK,SAAOw9B,UAAUQ,aAAa3L,GAPzB5lF,EAAAq7B,OAAA,SASnBk1D,EAAgBr9B,IATG,cAAAlzD,EAAArwB,KAAA,GAAAqwB,EAAAo7B,GAAAp7B,EAAA,SAW1BnvB,QAAQqB,MAAM,iCAAd8tB,EAAAo7B,IACM,IAAI2uB,MAAM/pD,EAAAo7B,GAAIrlC,SAZM,yBAAAiK,EAAA9nB,SAAA6nB,EAAA,kBAAH,yBAAAp8C,EAAAiR,MAAA4d,KAAA3yB,YAAA,GAiBpB2xI,EAAoB,eAAAxtI,EAAAjD,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAG,SAAAyoB,IAAA,OAAAupD,EAAA7pG,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,cAAAooB,EAAAk7B,OAAA,SAErBy1D,KAFqB,wBAAA3wF,EAAAjoB,SAAAgoB,MAAH,yBAAAl8C,EAAA4Q,MAAA4d,KAAA3yB,YAAA,GAKpByzG,EAAY,SAAA9xC,GAIjB,OAAIA,IAAS3+B,IAAWC,SAASvkB,KACzB+yH,IAEAE,KAIH7L,EAAiB,eAAAxhI,EAAApD,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAG,SAAAiiF,IAAA,IAAAp1G,EAAAshI,EAAAt+H,EAAA,OAAAmiG,EAAA7pG,EAAAi4B,KAAA,SAAA8hF,GAAA,cAAAA,EAAAhqF,KAAAgqF,EAAA5hF,MAAA,cAAA4hF,EAAA5hF,KAAA,EACEk5G,EADF,UAAA3sI,EAAAq1G,EAAAnwD,OACjBo8E,EADiBthI,EACjBshI,UADiB,CAAAjsB,EAAA5hF,KAAA,eAGlBzwB,EAAKyT,SAAS6qH,EAAS6L,eAAgB,IAHrB93B,EAAAt+B,OAAA,SAIjB/zE,GAJiB,cAAAqyG,EAAAt+B,OAAA,SAMjB,MANiB,yBAAAs+B,EAAAzhF,SAAAwhF,MAAH,yBAAAv1G,EAAAyQ,MAAA4d,KAAA3yB,YAAA,GAUjB42F,EAAuB,eAAAhyF,EAAA1D,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAG,SAAAsiF,IAAA,IAAAl1G,EAAA+gI,EAAA,OAAAn8B,EAAA7pG,EAAAi4B,KAAA,SAAAmiF,GAAA,cAAAA,EAAArqF,KAAAqqF,EAAAjiF,MAAA,cAAAiiF,EAAAjiF,KAAA,EACJk5G,EADI,UAAApsI,EAAAm1G,EAAAxwD,KACvBo8E,EADuB/gI,EACvB+gI,SADuB,CAAA5rB,EAAAjiF,KAAA,eAAAiiF,EAAA3+B,OAAA,SAIvB,MAJuB,WAO3BuqD,EAASuL,WAPkB,CAAAn3B,EAAAjiF,KAAA,eAAAiiF,EAAA3+B,OAAA,SAQvBx4C,IAAWC,SAASvkB,MARG,cAAAy7F,EAAA3+B,OAAA,SAWxB,MAXwB,wBAAA2+B,EAAA9hF,SAAA6hF,MAAH,yBAAAt1G,EAAAmQ,MAAA4d,KAAA3yB,YAAA,GAcvBs8F,EAAmB,eAAAl3F,EAAAlE,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAG,SAAA2iF,IAAA,IAAAh1G,EAAAwgI,EAAA,OAAAn8B,EAAA7pG,EAAAi4B,KAAA,SAAAwiF,GAAA,cAAAA,EAAA1qF,KAAA0qF,EAAAtiF,MAAA,cAAAsiF,EAAAtiF,KAAA,EACAk5G,EADA,UAAA7rI,EAAAi1G,EAAA7wD,OACnBo8E,EADmBxgI,EACnBwgI,YAEQA,EAASuL,WAHE,CAAA92B,EAAAtiF,KAAA,eAAAsiF,EAAAh/B,OAAA,SAInBuqD,GAJmB,cAAAvrB,EAAAh/B,OAAA,SAOpB,MAPoB,wBAAAg/B,EAAAniF,SAAAkiF,MAAH,yBAAAn1G,EAAA2P,MAAA4d,KAAA3yB,YAAA,wBC9KzB6xB,EAAAC,QAAiB1B,EAAA1N,EAAuB,6DCAxCmP,EAAAC,QAAiB1B,EAAA1N,EAAuB,8DCAxCmP,EAAAC,QAAiB1B,EAAA1N,EAAuB,2KCGxC,IAAMmvH,EAAY,SAACrpH,EAASnf,EAAM87H,GACjC,IAAM2M,EAAM5wI,OAAAC,EAAA,EAAAD,CAAA,GAAQsnB,GAEpB,OADAspH,EAAOzoI,GAAPnI,OAAAC,EAAA,EAAAD,CAAA,GAAoBikI,GACb2M,gBCoBKC,EAAkB,CAC9BpvI,QCnBc,WAA8D,IACxEqvI,EADkC3xI,EAAsCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9BwO,IAAa7L,QAAS8xB,EAAQz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAM5E,OAFA8xI,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAERo0B,EAAOprB,MACd,KAAKg3F,IAGJ,OADA2xC,EADU9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQuzB,EAAO9xB,SAG1B,KAAK49F,IAGJ,OADAyxC,EADaxjI,IAAa7L,QAG3B,KAAK29F,IAOJ,OADA0xC,EALat1F,OAAKC,aAAa,CAC9BvqC,KAAM4/H,EACNx1F,UAAUt7C,OAAAC,EAAA,EAAAD,CAAA,GAAMuzB,EAAO+nB,WACvBxB,SAAUs3C,YAKZ,QACC,OAAOjyF,IDLTqG,GErBc,WAAoD,IAC9DsrI,EAD6B3xI,EAAiCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBwO,IAAa9H,GAAI+tB,EAAQz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAElE,OAAQu0B,EAAOprB,MACd,KAAKk2F,KAeJ,OAdAyyC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP4G,WAAT/F,OAAAC,EAAA,EAAAD,CAAA,GAA2B8wI,EAAS/qI,YACpC+qI,EAAS/qI,WAAWwtB,EAAOxxB,UAA3B/B,OAAAC,EAAA,EAAAD,CAAA,GACI8wI,EAAS/qI,WAAWwtB,EAAOxxB,WAE3BwxB,EAAOw8E,UACV+gC,EAAS/qI,WAAWwtB,EAAOxxB,UAAUwxB,EAAOw8E,UAA5C/vG,OAAAC,EAAA,EAAAD,CAAA,GACI8wI,EAAS/qI,WAAWwtB,EAAOxxB,UAAUwxB,EAAOw8E,WAEhD+gC,EAAS/qI,WAAWwtB,EAAOxxB,UAAUwxB,EAAOw8E,UAAUx8E,EAAOriB,MAC5DqiB,EAAOxf,OAER+8H,EAAS/qI,WAAWwtB,EAAOxxB,UAAUwxB,EAAOriB,MAAQqiB,EAAOxf,MAErD+8H,EAER,KAAKxyC,KAYJ,OAXAwyC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP4G,WAAT/F,OAAAC,EAAA,EAAAD,CAAA,GAA4B8wI,EAAS/qI,YAAc,IACnD+qI,EAAS/qI,WAAWwtB,EAAOxxB,UAA3B/B,OAAAC,EAAA,EAAAD,CAAA,GACK8wI,EAAS/qI,WAAWwtB,EAAOxxB,WAAa,IAE7C+uI,EAAS/qI,WAAWwtB,EAAOxxB,UAAUwxB,EAAOnuB,MAA5CpF,OAAAC,EAAA,EAAAD,CAAA,GACK8wI,EAAS/qI,WAAWwtB,EAAOxxB,UAAUwxB,EAAOnuB,OAAS,IAE1D0rI,EAAS/qI,WAAWwtB,EAAOxxB,UAAUwxB,EAAOnuB,MAAMmuB,EAAOriB,MACxDqiB,EAAOxf,MAED+8H,EACR,KAAK1yC,IASJ,OARA0yC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPsG,OAATzF,OAAAC,EAAA,EAAAD,CAAA,GAAuB8wI,EAASrrI,QAC5B8tB,EAAOw8E,UACV+gC,EAASrrI,OAAO8tB,EAAOw8E,UAAvB/vG,OAAAC,EAAA,EAAAD,CAAA,GAAwC8wI,EAASv9G,EAAOw8E,WACxD+gC,EAASrrI,OAAO8tB,EAAOw8E,UAAUx8E,EAAOriB,MAAQqiB,EAAOxf,OAEvD+8H,EAASrrI,OAAO8tB,EAAOriB,MAAQqiB,EAAOxf,MAEhC+8H,EACR,QACC,OAAO3xI,IFtBT+K,MAAO6mI,wBGjBO,WAA0D,IACpED,EACAE,EACA7jI,EACA8jI,EACA//H,EALgC/R,EAAoCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA5BwO,IAAapD,MAAOqpB,EAAQz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAOlEw5D,EAAa,WAAwB,IAAvBr5D,EAAuBL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIy0B,EAAWz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC1C,OAAKu0B,EAAOriB,KACLlR,OAAAC,EAAA,EAAAD,CAAA,GACHb,EADJa,OAAA++B,EAAA,EAAA/+B,CAAA,GAEEuzB,EAAOriB,KAAK3K,GAFdvG,OAAAC,EAAA,EAAAD,CAAA,GAEwBuzB,EAAOriB,QAHN/R,GAmB1B,OANIo0B,EAAOriB,MAAQqiB,EAAOnpB,WACzB0mI,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChB+R,EAAIlR,OAAAC,EAAA,EAAAD,CAAA,GAAQuzB,EAAOriB,MACnB+/H,EAAe19G,EAAOnpB,UAGfmpB,EAAOprB,MACd,KAAKo1F,IASJ,OANApwF,EAAU+D,EACV8/H,EAAgBx4E,EAAWs4E,EAASG,GAAVjxI,OAAAC,EAAA,EAAAD,CAAA,GACtBuzB,EADsB,CAEzBriB,KAAM/D,KAEP2jI,EAASG,GAAgBD,EAClBF,EAER,KAAKhzC,IAOJ,OANA3wF,EAAU+jI,OAAKC,QAAQL,EAASG,GAAc//H,EAAK6yG,KAAMxwF,EAAO69G,OAChEJ,EAAgBx4E,EAAWs4E,EAASG,GAAVjxI,OAAAC,EAAA,EAAAD,CAAA,GACtBuzB,EADsB,CAEzBriB,KAAM/D,KAEP2jI,EAASG,GAAgBD,EAClBF,EAER,KAAKlzC,IAGJ,OAFAozC,EAlC2B,WAA2B,IAA1Bx4E,EAA0B15D,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAb,GAAIq3C,EAASr3C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACnDqyI,EAAMrxI,OAAAC,EAAA,EAAAD,CAAA,GAAQw4D,GAElB,cADO64E,EAAOl7F,GACPk7F,EA+BUC,CAAqBR,EAASG,GAAe//H,EAAK6yG,KAClE+sB,EAASG,GAAgBD,EAClBF,EAER,KAAKjzC,IAUJ,OATA1wF,EAAU+jI,OAAKjhH,WACd6gH,EAASG,GAAc//H,EAAK6yG,KAC5BxwF,EAAOg+G,UAERP,EAAgBx4E,EAAWs4E,EAASG,GAAVjxI,OAAAC,EAAA,EAAAD,CAAA,GACtBuzB,EADsB,CAEzBriB,KAAM/D,KAEP2jI,EAASG,GAAgBD,EAClBF,EAER,KAAKtzC,IAOJ,OANArwF,EAAU+D,EACV8/H,EAAgBx4E,EAAWs4E,EAASG,GAAVjxI,OAAAC,EAAA,EAAAD,CAAA,GACtBuzB,EADsB,CAEzBriB,KAAM/D,KAEP2jI,EAASG,GAAgBD,EAClBF,EAER,KAAK/yC,IACJ+yC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChB,IAAMqyI,EAAWj+G,EAAOrpB,MAAMtK,OAAO,SAACsK,EAAOgH,GAC5C,IAAMugI,EAAYzxI,OAAAC,EAAA,EAAAD,CAAA,GAAQkK,GACpBiD,EAAOnN,OAAAC,EAAA,EAAAD,CAAA,GAAQkR,GAErB,OADAugI,EAAatkI,EAAQ5G,IAAM4G,EAAQiH,MAAQjH,EACpCskI,GACL,IAGH,OADAX,EAASv9G,EAAOnpB,UAAhBpK,OAAAC,EAAA,EAAAD,CAAA,GAAiC8wI,EAASv9G,EAAOnpB,UAAconI,GACxDV,EACR,KAAK9yC,IAEJ,OADA8yC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQsN,IAAapD,OAG9B,QACC,OAAO/K,IHzEmB,SAAAo0B,GAAM,OAAIA,EAAOprB,KAAKovB,MAAM,WACxDluB,SI1Bc,WAAgE,IAAvClK,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/BwO,IAAajE,SAAUkqB,EAAQz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC9E,OAAQu0B,EAAOprB,MACd,KAAKy2F,IACJ,IAAI8yC,EAAUn+G,EAAO9pB,MAAQtK,EAE7B,OADAwyI,YAAQD,GACDA,EACR,QACC,OAAOvyI,IJoBT+uG,iBKxBc,WAGb,IACG4iC,EACAc,EACAC,EACAC,EANJ3yI,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOwO,IAAa4gG,iBACrB36E,EACCz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAMD8xI,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAGhB,IAOM4yI,EAAmB,SAAA3xI,GAAqB,IAAlB4xI,EAAkB5xI,EAAlB4xI,KAAMJ,EAAYxxI,EAAZwxI,MAOjC,OANqB,IAAjBA,EAAM31H,QAAgB+1H,EAAK/iH,QAAQ2iH,EAAMjmC,MAC5CqmC,EAAKp4H,KAAKg4H,EAAMjmC,MAEhBqmC,EAAOA,EAAKhlI,OAAO,SAAA+zE,GAAE,OAAIA,IAAO6wD,EAAMjmC,OAGhCqmC,GAGR,IAAKz+G,EAAO81D,KACX,OAAOlqF,EAQR,OALA0yI,EAAU7xI,OAAAC,EAAA,EAAAD,CAAA,GAAS8wI,EAASv9G,EAAO81D,OAAS,IAC5CyoD,EAAU9xI,OAAAgE,EAAA,EAAAhE,CAAQ6xI,EAAWC,YAAc,IAInCv+G,EAAOprB,MACd,KAAKs3F,IAQJ,OAPAmyC,EAAK5xI,OAAAC,EAAA,EAAAD,CAAA,GAAQuzB,EAAOxf,OACpB89H,EAAWt+G,EAAOwtD,IAAM6wD,EACxBC,EAAWC,WAAaC,EAAiB,CACxCC,KAAMF,EACNF,MAAOA,IAERd,EAASv9G,EAAO81D,MAAQwoD,EACjBf,EACR,KAAKpxC,KASJ,OAPAkyC,EAtCgB,SAAAlyI,GAAuB,IAApBumI,EAAoBvmI,EAApBumI,IAAKthH,EAAejlB,EAAfilB,IAAKpb,EAAU7J,EAAV6J,IAI9B,OAHA08H,EAAMA,GAAO,IACTthH,GAAOpb,EAEJ08H,EAkCEgM,CAAU,CAAEhM,IADpB2L,EAAK5xI,OAAAC,EAAA,EAAAD,CAAA,GAAS6xI,EAAWt+G,EAAOwtD,KAAO,IACPp8D,IAAK4O,EAAO5O,IAAKpb,IAAKgqB,EAAOxf,QAC7D89H,EAAWt+G,EAAOwtD,IAAM6wD,EACxBC,EAAWC,WAAaC,EAAiB,CACxCC,KAAMF,EACNF,MAAOA,IAERd,EAASv9G,EAAO81D,MAAQwoD,EACjBf,EACR,KAAKnxC,IAQJ,OAPAiyC,EAAK5xI,OAAAC,EAAA,EAAAD,CAAA,GAAQsN,IAAa4gG,iBAAiB3qE,SAC3CsuG,EAAWt+G,EAAOwtD,IAAM6wD,EACxBC,EAAWC,WAAaC,EAAiB,CACxCC,KAAMF,EACNF,MAAO,CAAEM,OAAQ3+G,EAAOwtD,MAEzB+vD,EAASv9G,EAAOwtD,IAAM6wD,EACfd,EACR,QACC,OAAO3xI,IL3CTmP,UM7Bc,WAGb,IAFDnP,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOwO,IAAagB,UACrBilB,EACCz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGD,OAAQu0B,EAAOprB,MACd,KAAKg5F,KAGJ,OAFQnhG,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GACLo0B,EAAOxf,MAEnB,QACC,OAAO5U,INkBTG,ODxBc,WAAwD,IAArCH,EAAqCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7BwO,IAAahO,OAAQi0B,EAAQz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACtE,OAAQu0B,EAAOprB,MACd,KAAKg4F,IACJ,OAAOwwC,EAAUxxI,EAAO,UAAWo0B,EAAO0wG,KAC3C,QACC,OAAO9kI,ICoBT6F,aO/Bc,WAA+D,IACzE8rI,EAD8B3xI,EAA2CL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAnCwO,IAAatI,aAAcuuB,EAAQz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAE7E,OAAQu0B,EAAOprB,MACd,KAAK24F,KAGJ,OAFAgwC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPo0B,EAAOriB,MAAQqiB,EAAOxf,MACxB+8H,EAER,QACC,OAAO3xI,KPyBGgzI,EAAiB,CAC7B7sI,SQnCc,WAAgE,IAC1EwrI,EADmC3xI,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/BwO,IAAahI,SAAUiuB,EAAQz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAE9E,OAAQu0B,EAAOprB,MACd,KAAKo2F,IAGJ,OAFAuyC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPo0B,EAAOriB,MAAQqiB,EAAOxf,MACxB+8H,EACR,QACC,OAAO3xI,IR4BTyC,SS/Bc,WAAgE,IAAvCzC,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/BwO,IAAa1L,SAAU2xB,EAAQz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC1E8xI,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAEpB,OAAQo0B,EAAOprB,MACd,KAAKq4F,IAEJ,OADAswC,EAAS3sI,eAATnE,OAAAC,EAAA,EAAAD,CAAA,GAA+BuzB,EAAO3xB,UAC/BkvI,EACR,KAAKrwC,IAEJ,OADAqwC,EAAS3sI,eAAiBmJ,IAAa1L,SAASuC,eACzC2sI,EACR,KAAKpwC,IAEJ,OADAowC,EAAS/sI,uBAAT/D,OAAAgE,EAAA,EAAAhE,CAAsCuzB,EAAO3xB,UACtCkvI,EACR,KAAKnwC,IAGJ,OAFAmwC,EAAS/sI,uBACRuJ,IAAa1L,SAASmC,uBAChB+sI,EAER,QACC,OAAO3xI,ITaTiP,UU3Bc,WAGb,IACG0iI,EAHJ3xI,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOwO,IAAac,UACrBmlB,EACCz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGD,OAAQu0B,EAAOprB,MACd,KAAKi4F,IAGJ,OAFA0wC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPyP,UAAY2kB,EAAOxf,MACrB+8H,EACR,KAAK5vC,IAGJ,OAFA4vC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPsP,YAAc8kB,EAAOxf,MACvB+8H,EACR,KAAKzwC,IAmBJ,OAlBAywC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPo0B,EAAOnuB,MAAhBpF,OAAAC,EAAA,EAAAD,CAAA,GAA6B8wI,EAASv9G,EAAOnuB,OAC7C0rI,EAASv9G,EAAOnuB,MAAMmuB,EAAOzc,WAA7B9W,OAAAC,EAAA,EAAAD,CAAA,GACI8wI,EAASv9G,EAAOnuB,MAAMmuB,EAAOzc,YAEjCg6H,EAASv9G,EAAOnuB,MAAMmuB,EAAOzc,WAAWyc,EAAOxc,QAA/C/W,OAAAC,EAAA,EAAAD,CAAA,GACI8wI,EAASv9G,EAAOnuB,MAAMmuB,EAAOzc,WAAWyc,EAAOxc,SAEnD+5H,EAASv9G,EAAOnuB,MAAMmuB,EAAOzc,WAAWyc,EAAOxc,QAC9Cwc,EAAO3kB,WADR5O,OAAAC,EAAA,EAAAD,CAAA,GAGI8wI,EAASv9G,EAAOnuB,MAAMmuB,EAAOzc,WAAWyc,EAAOxc,QACjDwc,EAAO3kB,YAGTkiI,EAASv9G,EAAOnuB,MAAMmuB,EAAOzc,WAAWyc,EAAOxc,QAAQwc,EAAO3kB,WAC7D2kB,EAAOwzE,WADR/mG,OAAAC,EAAA,EAAAD,CAAA,GAESuzB,EAAOxf,OACT+8H,EACR,KAAKxwC,IAMJ,OALAwwC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPyN,SAAT5M,OAAAC,EAAA,EAAAD,CAAA,GAAyB8wI,EAASlkI,UAClCkkI,EAASlkI,SAAS2mB,EAAOzc,WAAzB9W,OAAAC,EAAA,EAAAD,CAAA,GACIuzB,EAAOxf,OAEJ+8H,EACR,KAAKlwC,IAGJ,OAFAkwC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP4Q,OAASwjB,EAAOxf,MAClB+8H,EACR,KAAK9vC,IAGJ,OAFA8vC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPkc,SAATrb,OAAAC,EAAA,EAAAD,CAAA,GAAyB8wI,EAASz1H,SAAakY,EAAOxf,OAC/C+8H,EACR,KAAKvwC,IAEJ,OADAuwC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQsN,IAAac,WAE9B,KAAK2yF,IAGJ,OAFA+vC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACP82E,OAAS1iD,EAAOxf,MAClB+8H,EACR,QACC,OAAO3xI,IV9BTsuG,OWtCc,WAA4D,IACtEqjC,EACAsB,EAFiCjzI,EAAqCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7BwO,IAAamgG,OAAQl6E,EAAQz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAM1E,OAFA8xI,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAERo0B,EAAOprB,MACd,KAAK82F,KAUJ,OATAmzC,EAASpyI,OAAAC,EAAA,EAAAD,CAAA,GAAQ8wI,GACbr/H,MAAM8xC,QAAQ6uF,EAAU7+G,EAAO4iB,OAClCi8F,EAAU7+G,EAAO4iB,MAAjBn2C,OAAAgE,EAAA,EAAAhE,CAA6BuzB,EAAOxf,OAEpCq+H,EAAU7+G,EAAO4iB,MAAQ5iB,EAAOxf,MAGjC+8H,EAAWsB,EAIZ,KAAKlzC,IAGJ,OADA4xC,EADAsB,EAASpyI,OAAAC,EAAA,EAAAD,CAAA,GAAQsN,IAAamgG,QAI/B,QACC,OAAOtuG,IXcT4C,SYvCc,WAAgE,IAC1E+uI,EACArN,EAFmCtkI,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/BwO,IAAavL,SAAUwxB,EAAQz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAM9E,OAFA8xI,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAERo0B,EAAOprB,MACd,KAAK43F,IAUJ,OATA0jC,EAAcqN,EACVr/H,MAAM8xC,QAAQkgF,EAAYlwG,EAAO4iB,OACpCstF,EAAYlwG,EAAO4iB,MAAnBn2C,OAAAgE,EAAA,EAAAhE,CAA+BuzB,EAAOxf,OAEtC0vH,EAAYlwG,EAAO4iB,MAAQ5iB,EAAOxf,MAGnC+8H,EAAWrN,EAIZ,KAAKzjC,IAGJ,OADA8wC,EADArN,EAAWzjI,OAAAC,EAAA,EAAAD,CAAA,GAAQsN,IAAavL,UAIjC,QACC,OAAO5C,IZeT2C,OaxCc,WAA4D,IACtEgvI,EACAhN,EAFiC3kI,EAAqCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7BwO,IAAaxL,OAAQyxB,EAAQz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAM1E,OAFA8xI,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAERo0B,EAAOprB,MACd,KAAK83F,KAUJ,OATA6jC,EAAYgN,EACRr/H,MAAM8xC,QAAQugF,EAAUvwG,EAAO4iB,OAClC2tF,EAAUvwG,EAAO4iB,MAAjBn2C,OAAAgE,EAAA,EAAAhE,CAA6BuzB,EAAOxf,OAEpC+vH,EAAUvwG,EAAO4iB,MAAQ5iB,EAAOxf,MAGjC+8H,EAAWhN,EAIZ,KAAK5jC,IAGJ,OADA4wC,EADAhN,EAAS9jI,OAAAC,EAAA,EAAAD,CAAA,GAAQsN,IAAaxL,QAI/B,QACC,OAAO3C,IbgBTgO,QAAS4jI,wBcrCK,WAA+D,IACzED,EACA3jI,EAFmChO,EAAsCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9BwO,IAAaH,QAASomB,EAAQz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAI7E,OAAQu0B,EAAOprB,MACd,KAAKs1F,IASJ,OARAqzC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChBgO,EAAOnN,OAAAC,EAAA,EAAAD,CAAA,GAAQuzB,EAAOriB,MAClBqiB,EAAOlmB,OACVyjI,EAASv9G,EAAOlmB,QAAUF,EAE1B2jI,EAASv9G,EAAOnpB,UAAY+C,EAGtB2jI,EAER,KAAKpzC,IASJ,OARAozC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChBgO,EAAOnN,OAAAC,EAAA,EAAAD,CAAA,GAAQsN,IAAaH,QAAQomB,EAAOnpB,WACvCmpB,EAAOlmB,OACVyjI,EAASv9G,EAAOlmB,QAAUF,EAE1B2jI,EAASv9G,EAAOnpB,UAAY+C,EAGtB2jI,EAER,KAAKnzC,IAGJ,OAFAmzC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQsN,IAAaH,SAI9B,QACC,OAAOhO,IdIuB,SAAAo0B,GAAM,OAAIA,EAAOprB,KAAKovB,MAAM,cAC5D1xB,SAAUkrI,wBe1CI,WAAgE,IAAvC5xI,EAAuCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA/BwO,IAAazH,SAAU0tB,EAAQz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACxE8xI,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAEtB,OAAQo0B,EAAOprB,MACd,KAAKg2F,KAGJ,OAFA2yC,EAASv9G,EAAO8f,SAAW9f,EAAOxf,MAE3B+8H,EACR,KAAKtzC,IAEJ,OADAszC,EAAS,SAAWv9G,EAAOriB,KAAK6yG,MAAO,EAChC+sB,EAER,QACC,OAAO3xI,If6ByB,CAAC2R,OACnCyhB,OgB3Cc,WAA4D,IAEtE8/G,EAFiClzI,EAAqCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA7BwO,IAAailB,OAAQgB,EAAQz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAI1E,OAAQu0B,EAAOprB,MACd,KAAKq2F,IAIJ,OAHA6zC,EAAQryI,OAAAC,EAAA,EAAAD,CAAA,GAAQuzB,EAAOrB,QACdogH,MAAQ5jI,KAAKq+C,MACd,CAAIslF,GAAJ5pI,OAAAzI,OAAAgE,EAAA,EAAAhE,CAAiBb,IAG1B,KAAKs/F,IAEJ,OADWt/F,EAAM6N,OAAO,SAAAlN,GAAC,OAAIA,EAAEyG,KAAOgtB,EAAOrB,QAE9C,QACC,OAAO/yB,IhB6BTwG,QAASorI,wBiB3CK,WAA8D,IACxED,EADkC3xI,EAAsCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA9BwO,IAAa3H,QAAS4tB,EAAQz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAG5E,OAAQu0B,EAAOprB,MACd,KAAKu2F,IAWJ,OAVAoyC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPia,KAATpZ,OAAAC,EAAA,EAAAD,CAAA,GAAqBuzB,EAAO5tB,QAAQyT,MACpC03H,EAASn8G,UAAYpB,EAAO5tB,QAAQgvB,UACpCm8G,EAASl8G,SAAWrB,EAAO5tB,QAAQivB,SACnCk8G,EAAS/+G,YACkB/yB,IAA1Bu0B,EAAO5tB,QAAQosB,QAAuBwB,EAAO5tB,QAAQosB,OACtD++G,EAASh8G,eAAiBvB,EAAO5tB,QAAQmvB,aAGzCg8G,EAASj8G,SAAWnmB,KAAKq+C,MAClB+jF,EAER,QACC,OAAO3xI,IjByBuB,CAAC2R,MACjC3L,IAAK4rI,wBkB7CS,WAAsD,IAChED,EAD8B3xI,EAAkCL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA1BwO,IAAanI,IAAKouB,EAAQz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGpE,OAAQu0B,EAAOprB,MACd,KAAKw2F,IAGJ,OAFAmyC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPo0B,EAAOriB,MAAQqiB,EAAOxf,MACxB+8H,EAER,QACC,OAAO3xI,IlBmCe,CAAC2R,MACzByL,YmB3Cc,WAGb,IACGu0H,EACA94B,EAJJ74G,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOwO,IAAaiP,YACrBgX,EACCz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAID,OAAQu0B,EAAOprB,MACd,KAAK02F,IAKJ,OAJAiyC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAChB64G,EAASh4G,OAAAC,EAAA,EAAAD,CAAA,GAAQ8wI,EAASv9G,EAAOriB,MAAUqiB,EAAOvS,QAClD8vH,EAASv9G,EAAOriB,MAAQ8mG,EAEjB84B,EAER,KAAKhyC,IAYJ,OAXAgyC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IAChB64G,EAASh4G,OAAAC,EAAA,EAAAD,CAAA,GAAQ8wI,EAASv9G,EAAOriB,SAChB8mG,EAAUu6B,eAAeh/G,EAAO5O,YAEzCqzF,EAAUzkF,EAAO5O,KACdqzF,IAAczkF,EAAO5O,MAC/BqzF,EAAY,IAGb84B,EAASv9G,EAAOriB,MAAQ8mG,EAEjB84B,EAER,QACC,OAAO3xI,InBcTsI,coB5Cc,WAGb,IACGqpI,EAHJ3xI,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOwO,IAAa7F,cACrB8rB,EACCz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAGD,OAAQu0B,EAAOprB,MACd,KAAK04F,KAGJ,OAFAiwC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,IACPo0B,EAAOilC,YAAcjlC,EAAO9rB,cAC9BqpI,EACR,KAAK7vC,IAEJ,OADA6vC,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQsN,IAAa7F,eAE9B,QACC,OAAOtI,IpB8BTyiB,gBqB5Cc,WAGb,IACGkvH,EACAc,EAJJzyI,EAECL,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFOwO,IAAasU,gBACrB2R,EACCz0B,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAcD,OAVA8xI,EAAQ9wI,OAAAC,EAAA,EAAAD,CAAA,GAAQb,GAURo0B,EAAOprB,MACd,KAAKm3F,IAQJ,OAJAsyC,EAZe,SAAAlyI,GAAsB,IAAnBqhF,EAAmBrhF,EAAnBqhF,GAAIp8D,EAAejlB,EAAfilB,IAAKpb,EAAU7J,EAAV6J,IAI5B,OAHAw3E,EAAKA,GAAM,IACRp8D,GAAOpb,EAEHw3E,EAQEyxD,CAAS,CAAEzxD,GAHnB6wD,EAAK5xI,OAAAC,EAAA,EAAAD,CAAA,GACA8wI,EAASv9G,EAAOwtD,KAAOzzE,IAAasU,gBAAgB2hB,SAE3B5e,IAAK4O,EAAO5O,IAAKpb,IAAKgqB,EAAOxf,QAG3D+8H,EAASv9G,EAAOwtD,IAAM6wD,EACfd,EACR,KAAKvxC,IAGJ,OAFAqyC,EAAK5xI,OAAAC,EAAA,EAAAD,CAAA,GAAQsN,IAAasU,gBAAgB2hB,SAC1CutG,EAASv9G,EAAOwtD,IAAM6wD,EACfd,EACR,KAAKtxC,IAEJ,OADAsxC,EAAWxjI,IAAasU,gBAEzB,QACC,OAAOziB,2DChCJszI,EAAwBC,YAAiBr8G,KAEzCs8G,EAAgB,CACrBhuH,IAAK,UACLiuH,QAASpjH,KAWJqjH,EAAcC,YAAgB,CACnCzzI,QAAS0zI,YAAuBJ,EAAe9B,GAC/ClvI,OAAQmxI,YAAgBX,GACxBxkH,OAAQqlH,YAAc38G,OA2EvB,IAGe48G,EA9Df,SAA4B3lI,GAC3B,IAAM4lI,EAAc,CAKnBC,IACAV,GAOGl2C,EAAQ62C,YACXP,EACAvlI,EACA+lI,YAAQC,IAAez/H,WAAf,EAAmBq/H,KAK5B,MAAO,CAAEz2C,UAFO82C,YAAah3C,GAETA,SAwCN02C,GC1Gf/jH,EAAAC,EAAAC,EAAA,sBAAAokH,IAAAtkH,EAAAC,EAAAC,EAAA,sBAAAqkH,IAAAvkH,EAAAC,EAAAC,EAAA,sBAAAhwB,IAEe6zI,IAEF12C,EAAQ02C,EAAe12C,MACvBE,EAAYw2C,EAAex2C,UAE3Br9F,GADWm9F,EAAMtoE,SACNsoE,EAAMn9F,kaCHjBk5E,EAAU,UAEV9yD,EAAmB,UAEnBC,EAAkB,UAElBE,EAAY,UACZE,EAAkB,UAGlB2iD,EAAY,UAIZmH,EAAe,UAEf6I,EAAa,UAIbD,EAAa,UAQpBl/C,EAAU,CACfC,KAAMg/C,EACNrlC,KA3B2B,UA4B3BygG,MA9B4B,UA+B5BC,SAAUnuH,EACVqW,aAlCa,QAqCRO,EAAY,CACjB9C,KAAM3T,EACNstB,KA9B6B,UA+B7BygG,MAAO7tH,EACPgW,aAzCa,QA4CDzC,EAAU,CACtBC,UACA+C,YACAw3G,UAAW,CAAEt6G,KAAMk/C,EAAYk7D,MA7BA,UA6ByB73G,aA/C3C,QAgDbg4G,UAAW,CAAEv6G,KAAMi/C,EAAYm7D,MA1BA,UA0ByB73G,aAhD3C,QAiDbvV,KAAM,CACLgT,KAAMkvC,EACN3sC,aAnDY,OAoDZ63G,MAlC8B,UAmC9BzgG,KAxC4B,WA0C7BxQ,OAAQ,CAAEnJ,KAAMhT,IAAK,KAAMuV,aAAcvV,IAAK,MAC9C6K,MAAO,CACNmI,KAhCyB,UAiCzBo6G,MApC8B,UAqC9BzgG,KApC6B,UAqC7BpX,aA5DY,QA8Db7K,QAAS,CACRsI,KAAMi/C,EACNm7D,MAtCyB,UAuCzBzgG,KAtCwB,UAuCxBpX,aAlEY,QAoEb5K,KAAMoI,EACNtI,QAASqL,EACTymB,MAAOixF,IACPC,kBAAmB,EACnBC,YAAa,GACb9+G,KAAM5O,IACNiN,OAAQ,CACP0gH,mBAAoB3tH,IAAK,KACzBhF,SAAUgF,IAAK,OAIX4tH,EAAeC,cAERp7G,EAAQo7G,YAAe,CACnCj2G,WAAY,CACXqyC,WAAY,6CACZtyC,SAAU,OAEX7E,QAAQp5B,OAAAo0I,EAAA,EAAAp0I,CAAA,GAAMo5B,GACdi7G,UAAW,CACVC,UAAW,CACV/6G,KAAM,CACLq7C,aAAc,GAEf2/D,SAAU,CACT3/D,aAAc,EACdpgC,YAAag0B,GAEdgsE,UAAW,CACVzrH,gBAAiBy/C,EACjB70C,MAnGU,OAoGV4+C,UAAW,EACX34C,UAAW,CACV7Q,gBA1F0B,OA2F1BwpD,UAAW,EACXkiE,uBAAwB,CACvBliE,UAAW,IAGbmiE,iBAAkB,CACjBniE,UAAW,EACXxpD,gBAlG0B,QAoG3B4rH,WAAY,CACX5rH,gBArG0B,OAuG1BwpD,UAAW,KAIdqiE,aAAc,CACbC,KAAM,CACLxxF,WAAY,UAEb9pB,KAAM,CACL8pB,WAAY,WAGdyxF,SAAU,CACTC,QAAS,CACRngE,aAAc,IAGhBogE,WAAY,CACXnmE,QAAS,CAAE+F,aAAc,IAE1BqgE,UAAW,CACVV,SAAU,CACT3/D,aAAc,IAGhBsgE,cAAe,CACdX,SAAU,CACT3/D,aAAc,IAGhBugE,iBAAkB,CACjB57G,KAAM,CACLq7C,aAAc,IAGhBwgE,SAAU,CACT77G,KAAM,CACLq7C,aAAc,GAEfygE,gBAAiB,CAChBtsH,gBA3JU,QA6JXusH,aAAc,CACbvsH,gBA9JU,QAgKXwsH,gBAAiB,CAChBxsH,gBAjKU,QAmKXysH,cAAe,CACdzsH,gBApKU,SAkLZ0sH,eAAgB,CACfl8G,KAAM,CACL0B,QAAS,OACTC,KAAM,EACN6B,QAAS,IAGX24G,UAAW,CACVC,aAAc,CACb5sH,gBAAiBqQ,EAAQqJ,OAAOnJ,KAChC3F,MAAOyF,EAAQqJ,OAAO5G,eAGxB+5G,uBAAwB,CACvBzyG,QAAS,CACRpG,QAAS,IAGX84G,mBAAoB,CACnBt8G,KAAM,CACLyH,SAAU,UAIZ80G,gBAAiB,CAChBv8G,KAAM,CACLuE,MAAO,oBAGTi4G,qBAAsB,CACrBC,cAAch2I,OAAAgrG,EAAA,EAAAhrG,CAAA,GACZk0I,EAAaxxG,YAAYe,KAAK,MAAQ,CACtCxI,QAAS,cACT4C,OAAQ,OACR+kC,aAAc,UAIjBqzE,aAAc,CACb18G,KAAM,CACLstB,OAAQ,oBAGVqvF,iBAAkB,CACjBC,WAAY,CACXp5G,QAASm3G,EAAav2G,QAAQ,GAC9BG,MAAO,YAMEo+D,EAAWk6C,YAAoBr9G,EAAO,CAClDmS,QAAS,CAAC,KAAM,KAAM,KAAM,KAAM,MAClCmrG,OAAQ,kEC3OTnnH,EAAAC,EAAAC,EAAA,sBAAAknH,IAAApnH,EAAAC,EAAAC,EAAA,sBAAAuiH,IAIA,IAAM4E,EAAeC,MAEjB/sI,EAAO,QA4BEO,EAAY,WAIpB,IAHJT,EAGIzK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHE,GAGFY,EAAAZ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFmD,GAEnD6iC,EAAAjiC,EAFFiK,cAEE,IAAAg4B,KAAAC,EAAAliC,EAFcmK,YAEd,IAAA+3B,EAFqB,CAAC,IAEtBA,EAAA60G,EAAA/2I,EAF2Bqe,mBAE3B,IAAA04H,KADJptI,EACIvK,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADO2K,EAEPkb,EAAMpb,EAAM,GACZI,IACHgb,EAAM,QAAUA,EAAId,QAAQ,KAAM,KAE/B9F,IACH4G,EAAMA,EAAI5G,eAGX4G,EAAMA,EAAI5G,cAEV,ICjDyBmD,EDiDrBw1H,GCjDqBx1H,EDiDIq1H,EAAaltI,GAAUsb,IAAQpb,IChD7B,kBAAV2X,EAGpBA,EAEE2C,QAAQ,8BAA+B,UAEvCA,QAAQ,iBAAkB,IAE1BA,QAAQ,gCAAiC,QATI,GDkD5Cha,EAAK9K,QAAU0S,MAAM8xC,QAAQ15C,KAShC6sI,EApDkB,SAACC,EAAK9sI,GACzB,GAAmB,kBAAR8sI,EACV,MAAO,GAGR,IAAMC,EAAU,IAAIC,OAAO,YAAa,MAGlCC,EAFQH,EAAIr0I,MAAMs0I,GAEGp2I,IAAI,SAACghB,EAAG5M,GAClC,IAAMg/D,EAAU/pE,EAAK2X,IAAMA,EAC3B,OAAIu1H,yBAAenjE,KAAaA,EAAQjvD,IACvB8c,uBAAamyC,EAAS,CAAEjvD,IAAK/P,IAKvCg/D,IAGR,OAAIkjE,EAAa5uI,MAAM,SAAA0M,GAAC,MAAiB,kBAANA,GAA+B,kBAANA,IACpDkiI,EAAal5H,KAAK,IAGnBk5H,EA6BQE,CAAYN,EARH7sI,EAAKrJ,IAAI,SAAA3B,GAC/B,MAAiB,kBAANA,GACH03I,EAAaltI,GAAUxK,IAEvBA,MAOV,OAAO63I,GAIK/E,EAAU,SAAAsF,GACtBxtI,EAAOwtI,wBElERtmH,EAAAC,QAAA,WACA,OACAsmH,QAAahoH,EAAQ,KACrBioH,QAAajoH,EAAQ,KACrBkoH,QAAaloH,EAAQ,KACrBmoH,QAAanoH,EAAQ,KACrBooH,QAAapoH,EAAQ,KACrBqoH,QAAaroH,EAAQ,KACrBsoH,QAAatoH,EAAQ,KACrBuoH,QAAavoH,EAAQ,KACrBwoH,QAAaxoH,EAAQ,KACrByoH,QAAazoH,EAAQ,KACrB0oH,QAAa1oH,EAAQ,KACrB2oH,QAAa3oH,EAAQ,KACrB4oH,QAAa5oH,EAAQ,KACrB6oH,QAAa7oH,EAAQ,KACrB8oH,QAAa9oH,EAAQ,OAKrByB,EAAAC,QAAA/wB,IAAA,0IACA8wB,EAAAC,QAAAqnH,eAAA,g+YClBMC,EAASC,IAAO/jB,OACrB31G,KAAKC,UAAU,CACdvW,KAAM,MACNiwI,IAAK,SAmCQhpH,EAAA,GAAEm2E,KA7BjB,SAAc6kB,EAAQrC,GACrB,IAAMswB,EAAiBF,IAAO/jB,OAC7B31G,KAAKC,UAAL1e,OAAAs4I,EAAA,EAAAt4I,CAAA,GACI+nH,EADJ,CAEC7nH,QAASkqH,EAAOlqH,YAGlB,OAAOkqH,EAAOzB,YAAP,GAAAlgH,OAAsByvI,EAAtB,KAAAzvI,OAAgC4vI,IAAkBj7C,KAAK,SAASupB,GACtE,IAAM4xB,EAASlsC,EAAO36F,KAAKi1G,EAAI3E,UAAUzoG,MAAM,GAAI,OACnD,SAAA9Q,OAAUyvI,EAAV,KAAAzvI,OAAoB4vI,EAApB,KAAA5vI,OAAsC0vI,IAAO/jB,OAAOmkB,OAoB/BC,OAhBvB,SAAgBxwH,GACf,IAAMq/E,EAAQr/E,EAAM1lB,MAAM,KAC1B,GAAqB,IAAjB+kG,EAAMtoG,OACT,OAAOsnD,QAAQE,OAAO,IAAIyiD,MAAM,yCAEjC,IAAMnzD,EAAMwxD,EAAM9tF,MAAM,EAAG,GAAGqE,KAAK,KAC7B26H,EAASlsC,EAAO36F,KAAK21F,EAAM,GAAI,UACrC,IACC,IAAM31F,EAAO8gG,IAAOxlD,MAAMyrF,cAAc5iG,EAAK0iG,GACvCxwB,EAAUtpG,KAAKzS,MAAMmsI,IAAOO,OAAOrxC,EAAM,KAC/C,OAAOhhD,QAAQC,QAAQ,CAAE50C,OAAMq2G,YAC9B,MAAOxvG,GACR,OAAO8tC,QAAQE,OAAOhuC,mDCxCxBoY,EAAAC,QAAA+nH,86DCGMh4E,mDAmDLC,qBAAuB,SAACkoD,EAAK8vB,GAC5B,IAAK9vB,GAAsB,kBAARA,EAClB,MAAM,IAAI9f,MAAM,iBACS,IAAf8f,EAAI/pH,SACd+pH,GAAYA,EAAIllD,OAAO,EAAG,IAGN,kBAAVg1E,GAAuC,qBAAVA,IACvCA,EAAQ,GAGT,IAAMC,EAAW,SAAAjyD,GAChB,OAAO5sE,SAAS,KAAO4sE,EAAG,KAGvBprE,EAAIq9H,EAAS/vB,EAAIllD,OAAO,EAAG,IAC3Bk1E,EAAID,EAAS/vB,EAAIllD,OAAO,EAAG,IAC3B3kE,EAAI45I,EAAS/vB,EAAIllD,OAAO,EAAG,IAE/B,cAAAn7D,OAAe+S,EAAf,KAAA/S,OAAoBqwI,EAApB,KAAArwI,OAAyBxJ,EAAzB,KAAAwJ,OAA8BmwI,EAA9B,WAyBD9P,UAAY,SAAAp5G,GACX,IAAIqpH,GAASrpH,EAAIslB,SAAWtlB,GAAO,IAAIlF,WAAWloB,MAAM,eAExD,OAAIy2I,EAAMh6I,OAAS,GACV2wB,EAAIlS,KAAOkS,EAAIlS,KAAO,KAAO,IAAMu7H,EAAM,GAAGvuH,YAE5CkF,EAAIyB,OAASzB,GAAO,IAAIlF,iBAIlCwuH,MAAQ,SAAAC,GACP,MAAsB,kBAARA,GAAoBA,EAAM,IAAM,QAG/CC,aAAe,SAAAC,GACd,OAAOn5I,OAAAo5I,EAAA,EAAAp5I,CAAIm5I,GAAOjnI,KAAK,kBAAMpD,KAAKi8G,SAAW,4DA5G7C,MAAO,uCAAuClnG,QAAQ,QAAS,SAAAlS,GAC9D,IAAI6J,EAAqB,GAAhB1M,KAAKi8G,SAAiB,EAE/B,OADW,MAANp5G,EAAY6J,EAAS,EAAJA,EAAW,GACxBgP,SAAS,2CAIP6uH,GACZ,IAAIzyD,EAAI,mCAAmC/iE,QAAQ,QAAS,SAAAlS,GAC3D,IAAI6J,EAAqB,GAAhB1M,KAAKi8G,SAAiB,EAE/B,OADW,MAANp5G,EAAY6J,EAAS,EAAJA,EAAW,GACxBgP,SAAS,MAKnB,OAHI6uH,IACHzyD,EAAIyyD,EAASzyD,EAAEwgB,UAAUiyC,EAAOt6I,SAE1B6nF,uCAGK73E,EAAK6E,GACjB,OAAO9E,KAAKs3C,MAAMt3C,KAAKi8G,UAAYn3G,EAAM7E,EAAM,GAAKA,2CAIpD,QAAS0iB,KAAK6nH,aAAa,EAAG,gDAGVrT,GACpB,IAAI1qH,EAAOvb,OAAOub,KAAK0qH,GACvB,OAAOA,EAAI1qH,EAAMA,EAAKxc,OAAS+P,KAAKi8G,UAAa,gDAG9Bkb,GACnB,IAAI1qH,EAAOvb,OAAOub,KAAK0qH,GACvB,OAAO1qH,EAAMA,EAAKxc,OAAS+P,KAAKi8G,UAAa,0CAG/BwuB,EAAaC,EAAcC,GAEzC,IAAI1sG,EAAU1hB,IAAOu7E,SAAS6yC,GAC3BA,EAAcpqF,eACdrwD,EAEH,OAAOqsB,IAAO0hB,GACZn7B,IAAI6f,KAAK6nH,cAAcC,EAAaC,GAAe,KACnD5nI,IAAI6f,KAAK6nH,cAAc,GAAI,IAAK,KAChC1nI,IAAI6f,KAAK6nH,cAAc,GAAI,IAAK,sCAyB1B7jC,GACR,OACEA,GACuB,kBAAhBA,IAA6Bz1G,OAAOub,KAAKk6F,GAAa12G,OAEvD,GAGP,IACCiB,OAAOub,KAAKk6F,GACVzoG,OAAO,SAAA2X,GAAG,YAAyB3lB,IAArBy2G,EAAY9wF,KAC1BnkB,IAAI,SAAAmkB,GACJ,OACCu6D,mBAAmBv6D,GACnB,IACAu6D,mBAAmBu2B,EAAY9wF,KAE9B,IACF/G,KAAK,OAAQ,WAuBN4U,EAAoB,WAChC,OACC8pB,OAAOo9F,aACPA,YAAY39G,WAAW5zB,OAASuxI,YAAY39G,WAAW49G,aAI1CvqH,EAAA,MAAIuxC,uBC5HnBhwC,EAAAC,QAAiB1B,EAAA1N,EAAuB,6DCAxCmP,EAAAC,QAAA,s+QCAAD,EAAAC,QAAiB1B,EAAA1N,EAAuB,8dCgBxC,SAASo4H,EAAYC,EAAMxiC,EAAMyiC,EAAYC,EAAQC,EAASC,GAC7D,OAAO,IAAI5zF,QAAQ,SAACC,EAASC,GAC5B2zF,IAAOA,OACNL,EACAxiC,EACAyiC,EACAC,EACAC,EACA,SAACtqH,EAAKyqH,GACL,GAAIzqH,EACH,OAAO62B,EAAO72B,GAGf,IAAM4kF,EAAM6lC,EAAW3vH,SAASyvH,GAEhC,OAAO3zF,EAAQguD,gBAMJ8lC,+EAAf,SAAAzjH,EAAAj3B,GAAA,IAAA0C,EAAAi1F,EAAAwiD,EAAAxiC,EAAA1yF,EAAA,OAAA+jF,EAAA7pG,EAAAi4B,KAAA,SAAAC,GAAA,cAAAA,EAAAnI,KAAAmI,EAAAC,MAAA,cAA8B50B,EAA9B1C,EAA8B0C,MAAOi1F,EAArC33F,EAAqC23F,SAC9BwiD,EAAO5U,EAAa5tC,GACpBggB,EAAO4tB,EAAa7iI,GAF3B20B,EAAAC,KAAA,EAImB4iH,EAAYC,EAAMxiC,EAAM,IAAO,GAAI,SAAU,OAJhE,cAIO1yF,EAJPoS,EAAA0xB,KAAA1xB,EAAAujD,OAAA,SAMQ31D,GANR,wBAAAoS,EAAAI,SAAAR,6BASA,SAAS0jH,EAAep4I,GACvB,OAAQA,GAAyB,WAAbA,GAAsC,UAAbA,EAIvC,SAASq4I,IACf,IAAMC,EAAgBvtF,QAAMm/C,YAAY,IAGxC,OAFiBn/C,QAAMwtF,OAAOC,kBAAkBF,GAK1C,SAAeG,EAAtBr7F,GAAA,OAAAs7F,EAAA9mI,MAAA4d,KAAA3yB,sDAAO,SAAA4/C,EAA8Bk8F,GAA9B,IAAA11G,EAAApjC,EAAA,OAAA4mG,EAAA7pG,EAAAi4B,KAAA,SAAA6nB,GAAA,cAAAA,EAAA/vB,KAAA+vB,EAAA3nB,MAAA,cACAkO,EAAO01G,GAAYN,IACnBx4I,EAAS0wG,SAAOiX,OAAOoxB,aAAa31G,GAFpCyZ,EAAA27B,OAAA,SAIC,CACNsgE,WACAlxB,WAAY5nH,EAAO4nH,WACnBxpH,QAAS4B,EAAO5B,QAChBk2B,KAAMt0B,EAAOs0B,OARR,wBAAAuoB,EAAAxnB,SAAAunB,sCAYQo8F,+EAAf,SAAAj8F,EAAAz+C,GAAA,IAAAgC,EAAAi1F,EAAAp1F,EAAA,OAAAymG,EAAA7pG,EAAAi4B,KAAA,SAAAgoB,GAAA,cAAAA,EAAAlwB,KAAAkwB,EAAA9nB,MAAA,UAAyB50B,EAAzBhC,EAAyBgC,MAAOi1F,EAAhCj3F,EAAgCi3F,SAAUp1F,EAA1C7B,EAA0C6B,SAA1C,CAAA68C,EAAA9nB,KAAA,eAAA8nB,EAAA9nB,KAAA,EAEe+1E,YAAc3qG,EAAOi1F,GAFpC,cAAAv4C,EAAAw7B,OAAA,SAAAx7B,EAAA2J,MAAA,UAGgC,kBAAbxmD,EAHnB,CAAA68C,EAAA9nB,KAAA,gBAAA8nB,EAAAw7B,OAAA,iBAAA7xE,OAIiBxG,EAJjB,YAAAwG,OAIoCrG,EAAMsqC,gBAJ1C,cAMQ,IAAIs8D,MAAM,gBANlB,yBAAAlqD,EAAA3nB,SAAA0nB,6BAUO,SAAek8F,EAAtBjuC,GAAA,OAAAkuC,EAAAnnI,MAAA4d,KAAA3yB,sDAAO,SAAAkgD,EAAAz+C,GAAA,IAAA06I,EAAA74I,EAAAi1F,EAAAj+E,EAAAnX,EAAAi5I,EAAAC,EAAAC,EAAAlvC,EAAA,OAAAxD,EAAA7pG,EAAAi4B,KAAA,SAAAmoB,GAAA,cAAAA,EAAArwB,KAAAqwB,EAAAjoB,MAAA,UAAAikH,EAAA16I,EAA0B6B,aAA1B,IAAA64I,EAAkC,GAAlCA,EAAsC5jD,EAAtC92F,EAAsC82F,SAAUj+E,EAAhD7Y,EAAgD6Y,KAAMnX,EAAtD1B,EAAsD0B,SACtDi5I,EAAWb,EAAep4I,GAC1Bk5I,EAAW18H,KAAKC,UAAUtF,IAC5B8hI,EAHE,CAAAj8F,EAAAjoB,KAAA,gBAAAioB,EAAAjoB,KAAA,EAIyB+1E,YAAcouC,EAAU/4I,EAAQi1F,GAJzD,cAIC+jD,EAJDn8F,EAAAwJ,KAAAxJ,EAAAq7B,OAAA,SAKE8gE,GALF,eAAAn8F,EAAAo7B,GAOmByxB,IAPnB7sD,EAAA8mE,GAQJo1B,EARIl8F,EAAAjoB,KAAA,GASEojH,EAAa,CAAEh4I,MAAOA,EAAMsqC,cAAe2qD,aAT7C,eAAAp4C,EAAAonE,GAAApnE,EAAAwJ,KAAAxJ,EAAAjoB,KAAA,MAAAioB,EAAAo7B,IAAAp7B,EAAA8mE,GAAA9mE,EAAAonE,IAAA,eAOCna,EAPDjtD,EAAAwJ,KAAAxJ,EAAAq7B,OAAA,SAWE4xB,GAXF,yBAAAjtD,EAAA9nB,SAAA6nB,6BAeA,SAAeq8F,EAAtBnuC,GAAA,OAAAouC,EAAAznI,MAAA4d,KAAA3yB,sDAAO,SAAAqgD,EAAAx+C,GAAA,IAAA46I,EAAAn5I,EAAAi1F,EAAAj+E,EAAAnX,EAAAu5I,EAAA9uC,EAAA,OAAAhE,EAAA7pG,EAAAi4B,KAAA,SAAAsoB,GAAA,cAAAA,EAAAxwB,KAAAwwB,EAAApoB,MAAA,UAAAukH,EAAA56I,EAA0ByB,aAA1B,IAAAm5I,EAAkC,GAAlCA,EAAsClkD,EAAtC12F,EAAsC02F,SAAUj+E,EAAhDzY,EAAgDyY,KAAMnX,EAAtDtB,EAAsDsB,SACxDu5I,EAAe,IACFnB,EAAep4I,GAF1B,CAAAm9C,EAAApoB,KAAA,eAAAooB,EAAApoB,KAAA,EAKgBo2E,YAAch0F,EAAMhX,EAAQi1F,GAL5C,OAKLmkD,EALKp8F,EAAAqJ,KAAArJ,EAAApoB,KAAA,uBAAAooB,EAAAi7B,GAOgBiyB,IAPhBltD,EAAA2mE,GAQJ3sG,EARIgmC,EAAApoB,KAAA,GASEojH,EAAa,CAAEh4I,MAAOA,EAAMsqC,cAAe2qD,aAT7C,eAAAj4C,EAAAinE,GAAAjnE,EAAAqJ,KAAArJ,EAAApoB,KAAA,MAAAooB,EAAAi7B,IAAAj7B,EAAA2mE,GAAA3mE,EAAAinE,IAAA,QAOLm1B,EAPKp8F,EAAAqJ,KAAA,eAAArJ,EAAAxwB,KAAA,GAcC89E,EAAOjuF,KAAKzS,MAAMwvI,GAdnBp8F,EAAAk7B,OAAA,SAeEoyB,GAfF,cAAAttD,EAAAxwB,KAAA,GAAAwwB,EAAA6qE,GAAA7qE,EAAA,UAiBC,IAAI4pD,MAAM,4BAAV5pD,EAAA6qE,IAjBD,yBAAA7qE,EAAAjoB,SAAAgoB,EAAA,0CAqBA,SAAe+nF,EAAtB/5B,GAAA,OAAAsuC,EAAA5nI,MAAA4d,KAAA3yB,sDAAO,SAAA65G,EAAA73G,GAAA,IAAA46I,EAAAt5I,EAAAu5I,EAAAtkD,EAAAujD,EAAAgB,EAAA35I,EAAAonH,EAAA1kG,EAAAvL,EAAA,OAAAsvF,EAAA7pG,EAAAi4B,KAAA,SAAA8hF,GAAA,cAAAA,EAAAhqF,KAAAgqF,EAAA5hF,MAAA,cAAA0kH,EAAA56I,EACNsB,aADM,IAAAs5I,EACE,GADFA,EAAAC,EAAA76I,EAENu2F,gBAFM,IAAAskD,EAEK,GAFLA,EAGNf,EAHM95I,EAGN85I,SAHMgB,EAAA96I,EAINmB,gBAJM,IAAA25I,EAIK,GAJLA,EAAAhjC,EAAA5hF,KAAA,EAMmB0jH,EAAeE,GANlC,cAMAvxB,EANAzQ,EAAAnwD,KAAAmwD,EAAA5hF,KAAA,EAOY8jH,EAAQ,CAAE14I,QAAOi1F,WAAUp1F,aAPvC,cAOA0iB,EAPAi0F,EAAAnwD,KAAAmwD,EAAA5hF,KAAA,EAQa+jH,EAAS,CAAE3hI,KAAMiwG,EAAYjnH,QAAOi1F,WAAUp1F,aAR3D,cAQAmX,EARAw/F,EAAAnwD,KAAAmwD,EAAA5hF,KAAA,GASArH,YAAmB,CAAEvW,QAAQuL,GAT7B,eAWN0kG,EAAWpnH,SAAWA,EAXhB22G,EAAAt+B,OAAA,SAYC+uC,GAZD,yBAAAzQ,EAAAzhF,SAAAwhF,6BAeA,SAAe3d,EAAtBuS,GAAA,OAAAsuC,EAAAhoI,MAAA4d,KAAA3yB,sDAAO,SAAAk6G,EAAA/3G,GAAA,IAAA66I,EAAA15I,EAAA25I,EAAA1kD,EAAAv1F,EAAAk6I,EAAA,OAAAtzC,EAAA7pG,EAAAi4B,KAAA,SAAAmiF,GAAA,cAAAA,EAAArqF,KAAAqqF,EAAAjiF,MAAA,cAAA8kH,EAAA76I,EAAqCmB,aAArC,IAAA05I,EAA6C,GAA7CA,EAAAC,EAAA96I,EAAiDo2F,gBAAjD,IAAA0kD,EAA4D,GAA5DA,EAAA9iC,EAAAjiF,KAAA,EACewyF,EAAe,CACnCpnH,QACAi1F,WACA4kD,cAAc,IAJT,YACAn6I,EADAm3G,EAAAxwD,QAOQ3mD,EAAOsX,KAPf,CAAA6/F,EAAAjiF,KAAA,eAAAiiF,EAAAjiF,KAAA,EAQgB8jH,EAAQ,CAC5B14I,QACAi1F,WACAp1F,SAAU6/B,IAAWgoE,MAAMtsF,OAXvB,OAQCw+H,EARD/iC,EAAAxwD,KAaL94B,YAAmB7tB,EAAQk6I,GAbtB,wBAAA/iC,EAAA9hF,SAAA6hF,6BAiBA,SAAe/d,EAAtBuS,GAAA,OAAA0uC,EAAAroI,MAAA4d,KAAA3yB,sDAAO,SAAAu6G,EAAAj4G,GAAA,IAAA+6I,EAAA/5I,EAAAg6I,EAAA/kD,EAAA1yE,EAAA,OAAA+jF,EAAA7pG,EAAAi4B,KAAA,SAAAwiF,GAAA,cAAAA,EAAA1qF,KAAA0qF,EAAAtiF,MAAA,cAAAmlH,EAAA/6I,EAAiCgB,aAAjC,IAAA+5I,EAAyC,GAAzCA,EAAAC,EAAAh7I,EAA6Ci2F,gBAA7C,IAAA+kD,EAAwD,GAAxDA,EAAA9iC,EAAAtiF,KAAA,EACY8jH,EAAQ,CAAE14I,QAAOi1F,aAD7B,OACA1yE,EADA20F,EAAA7wD,KAENz4B,YAAuBrL,GAFjB,wBAAA20F,EAAAniF,SAAAkiF,6BAKA,SAAe8tB,EAAtB1uB,GAAA,OAAA4jC,EAAAxoI,MAAA4d,KAAA3yB,sDAAO,SAAA26G,EAAAl4G,GAAA,IAAA+6I,EAAAl6I,EAAAm6I,EAAAllD,EAAAmlD,EAAApV,EAAAqV,EAAApV,EAAAplI,EAAA0iB,EAAA7iB,EAAAsX,EAAA,OAAAsvF,EAAA7pG,EAAAi4B,KAAA,SAAA4iF,GAAA,cAAAA,EAAA9qF,KAAA8qF,EAAA1iF,MAAA,UAAAslH,EAAA/6I,EACNa,aADM,IAAAk6I,EACE,GADFA,EAAAC,EAAAh7I,EAEN81F,gBAFM,IAAAklD,EAEK,GAFLA,EAAAC,EAAAj7I,EAGN6lI,eAHM,IAAAoV,EAGI,GAHJA,EAAAC,EAAAl7I,EAIN8lI,iBAJM,IAAAoV,EAIM,GAJNA,EAKNx6I,EALMV,EAKNU,SAEgB,SAAZmlI,EAPE,CAAA1tB,EAAA1iF,KAAA,cAQC,IAAIgyE,MAAM,oBARX,cAAA0Q,EAAA1iF,KAAA,EAWY8jH,EAAQ,CAAE14I,QAAOi1F,WAAUp1F,aAXvC,UAWA0iB,EAXA+0F,EAAAjxD,KAYA3mD,EAASytB,YAAqB5K,GAZ9B,CAAA+0F,EAAA1iF,KAAA,cAeC,IAAIgyE,MAAM,oBAfX,cAAA0Q,EAAA1iF,KAAA,GAkBa+jH,EAAS,CAAE3hI,KAAMiuH,EAAWjlI,QAAOi1F,WAAUp1F,aAlB1D,QAkBAmX,EAlBAsgG,EAAAjxD,KAmBN3mD,EAAOslI,GAAWhuH,EAClBuW,YAAmB7tB,EAAQ6iB,GApBrB,yBAAA+0F,EAAAviF,SAAAsiF,6BAuBA,SAAe6rB,EAAtBzsB,GAAA,OAAA6jC,EAAA7oI,MAAA4d,KAAA3yB,sDAAO,SAAAi7G,EAAAn3G,GAAA,IAAAR,EAAAi1F,EAAAp1F,EAAA0iB,EAAA7iB,EAAA,OAAA4mG,EAAA7pG,EAAAi4B,KAAA,SAAAkjF,GAAA,cAAAA,EAAAprF,KAAAorF,EAAAhjF,MAAA,UAAuC50B,EAAvCQ,EAAuCR,MAAOi1F,EAA9Cz0F,EAA8Cy0F,SAAUp1F,EAAxDW,EAAwDX,SACzDG,GAAUi1F,EADT,CAAA2iB,EAAAhjF,KAAA,eAAAgjF,EAAA1/B,OAAA,SAEE,MAFF,cAAA0/B,EAAAhjF,KAAA,EAKY8jH,EAAQ,CAAE14I,QAAOi1F,WAAUp1F,aALvC,cAKA0iB,EALAq1F,EAAAvxD,KAMA3mD,EAASytB,YAAqB5K,GAN9Bq1F,EAAA1/B,OAAA,SAQC,CACN31D,MACA7iB,WAVK,wBAAAk4G,EAAA7iF,SAAA4iF,6BAcA,SAAeyP,EAAtB1Q,GAAA,OAAA6jC,EAAA9oI,MAAA4d,KAAA3yB,sDAAO,SAAA27G,EAAA13G,GAAA,IAAAX,EAAAi1F,EAAAp1F,EAAAg6I,EAAAt3H,EAAA7iB,EAAA86I,EAAAC,EAAAC,EAAAC,EAAA,OAAAr0C,EAAA7pG,EAAAi4B,KAAA,SAAA4jF,GAAA,cAAAA,EAAA9rF,KAAA8rF,EAAA1jF,MAAA,UACN50B,EADMW,EACNX,MACAi1F,EAFMt0F,EAENs0F,SACAp1F,EAHMc,EAGNd,SACAg6I,EAJMl5I,EAINk5I,aAEK75I,GAAUi1F,EANT,CAAAqjB,EAAA1jF,KAAA,cAOC,IAAIgyE,MAAM,+BAPX,cAAA0R,EAAA1jF,KAAA,EAUY8jH,EAAQ,CAAE14I,QAAOi1F,WAAUp1F,aAVvC,UAUA0iB,EAVA+1F,EAAAjyD,OAWA3mD,EAASytB,YAAqB5K,IAX9B,CAAA+1F,EAAA1jF,KAAA,aAcDilH,EAdC,CAAAvhC,EAAA1jF,KAAA,gBAAA0jF,EAAApgC,OAAA,SAeGx4E,GAfH,eAkBC86I,EAAa58I,OAAOub,KAAKzZ,GAEzB+6I,EAAWD,EAAWp8I,IAAX,eAAAkD,EAAA1D,OAAAyoG,EAAA,EAAAzoG,CAAA0oG,EAAA7pG,EAAA63B,KAAe,SAAA0jF,EAAMz1F,GAAN,IAAAm4H,EAAA,OAAAp0C,EAAA7pG,EAAAi4B,KAAA,SAAAujF,GAAA,cAAAA,EAAAzrF,KAAAyrF,EAAArjF,MAAA,cAAAqjF,EAAArjF,KAAA,EAQHqkH,EAAS,CACpCjiI,KAAMtX,EAAO6iB,GACbviB,QACAi1F,WACAp1F,aAZ8B,cAQzB66I,EARyBziC,EAAA5xD,KAAA4xD,EAAA//B,OAAA,SAexBwiE,GAfwB,wBAAAziC,EAAAljF,SAAAijF,MAAf,gBAAAjB,GAAA,OAAAz1G,EAAAmQ,MAAA4d,KAAA3yB,YAAA,IApBZ47G,EAAA1jF,KAAA,GAsCuBqvB,QAAQxmD,IAAIg9I,GAtCnC,eAsCCC,EAtCDpiC,EAAAjyD,KAwCCs0F,EAAkBH,EAAWh9I,OAAO,SAAC0xB,EAAO3M,EAAK+E,GAEtD,OADA4H,EAAM3M,GAAOm4H,EAAcpzH,GACpB4H,GACL,IA3CEopF,EAAApgC,OAAA,SA6CEyiE,GA7CF,eAAAriC,EAAApgC,OAAA,SA+CE,MA/CF,yBAAAogC,EAAAvjF,SAAAsjF,6BAuDA,SAASksB,EAAWhiH,EAAK+E,EAAO5nB,GACtC,IAAMQ,EAAQqiB,EAAIriB,MAAM,KAClB06I,EAAO16I,EAAMvD,QAAU,EAAIuD,EAAMiX,MAAM,EAAGjX,EAAMvD,QAAQ6e,KAAK,KAAO,KACpE3b,EAAWK,EAAM,IAAM,SAU7B,MAPa,CACZqiB,MACA7iB,SACA0b,KALYw/H,GAAI,mBAAAv0I,OAAuBihB,EAAQ,GAM/CznB,YAMK,SAASywF,IAWf,OAVmBxiE,cACjB1vB,IAAI,SAAAmkB,GACJ,MAAO,CACNA,MACAzT,KAAMqe,YAAqB5K,MAG5B3X,OAAO,SAAA/J,GAAA,OA5BV,SAAkBiO,GACjB,OAAOA,GAAQA,EAAKkI,MAAQlI,EAAKnP,UAAYmP,EAAK+zE,WA2B3Bg4D,CAAdh6I,EAAGiO,QACV1Q,IAAI,SAAA4C,EAAgBsmB,GAAhB,IAAGxY,EAAH9N,EAAG8N,KAAH,OAA0By1H,EAA1BvjI,EAASuhB,IAAiC+E,EAAOxY,KAKjD,SAAeg0H,EAAtBhsB,GAAA,OAAAgkC,EAAArpI,MAAA4d,KAAA3yB,sDAAO,SAAAg8G,EAAAv3G,GAAA,IAAA8zG,EAAAhgB,EAAA8lD,EAAAxxC,EAAA,OAAAjD,EAAA7pG,EAAAi4B,KAAA,SAAAikF,GAAA,cAAAA,EAAAnsF,KAAAmsF,EAAA/jF,MAAA,cAA+BqgF,EAA/B9zG,EAA+B8zG,KAAMhgB,EAArC9zF,EAAqC8zF,SACrC8lD,EAAanwF,QAAMzmD,GAAG8wF,GADtB0jB,EAAA/jF,KAAA,EAGa4iH,EAAYuD,EAAY9lC,EAAM,IAAO,GAAI,SAAU,OAHhE,cAGA1L,EAHAoP,EAAAtyD,KAAAsyD,EAAAzgC,OAAA,SAKCqxB,GALD,wBAAAoP,EAAA5jF,SAAA2jF,6BAQA,SAASmqB,EAAamY,GAC5B,GAAuB,kBAAZA,EACV,MAAM,IAAIp0C,MAAM,8BACV,IAAKo0C,EAAQr+I,OACnB,MAAM,IAAIiqG,MAAM,gCAGjB,IAAMziG,EAAKymD,QAAMzmD,GAAG62I,GAEpB,OADapwF,QAAM09D,UAAUnkH,yBCnS9BoqB,EAAAC,QAAiB1B,EAAA1N,EAAuB,wDCAxCmP,EAAAC,QAAiB1B,EAAA1N,EAAuB,yDCAxCmP,EAAAC,QAAiB1B,EAAA1N,EAAuB,sDCAxCmP,EAAAC,QAAiB1B,EAAA1N,EAAuB,sDCAxCmP,EAAAC,QAAiB1B,EAAA1N,EAAuB,yDCAxCmP,EAAAC,QAAiB1B,EAAA1N,EAAuB,yDCAxCmP,EAAAC,QAAiB1B,EAAA1N,EAAuB,2DCAxCmP,EAAAC,QAAiB1B,EAAA1N,EAAuB,0DCAxCmP,EAAAC,QAAA,snQCAAD,EAAAC,QAAiB1B,EAAA1N,EAAuB,mECAxCmP,EAAAC,QAAiB1B,EAAA1N,EAAuB,0DCAxCmP,EAAAC,QAAiB1B,EAAA1N,EAAuB,wECAxC,SAAA/b,GAAAypB,EAAAC,EAAAC,EAAA,sBAAAutE,IAAA,IAAA0gD,EAAAnuH,EAAA,GAAAouH,EAAApuH,EAAA,GAAAquH,EAAAruH,EAAA,GAAAsuH,EAAAtuH,EAAA,KAAAuuH,EAAAvuH,EAAA,GAUe,SAASytE,EAAYrrE,GACnC,IAAM7kB,EAAWioB,YAAYhH,OAAmB,GAC1CgwH,EAAoB,WAIzB,IAJ2D,IAAjCC,EAAiC7+I,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtB,GAAI8+I,EAAkB9+I,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAC9C++I,EAAYF,EAASr7I,MAAM,OAE3Bw7I,EAAYF,EAASt7I,MAAM,OAC1Bu7I,EAAU9+I,QAAU++I,EAAU/+I,QAAQ,CAC5C,IAAMF,EAAImV,OAAO6pI,EAAUjxC,SAErB3tG,EAAI+U,OAAO8pI,EAAUlxC,SAE3B,GAAI/tG,IAAMI,EAEV,OAAOJ,EAAII,GAAK8+I,MAAM9+I,GAEvB,OAAO,GA6BR,OA1BAo2B,oBAAU,WACT,IAAI7Z,EAAI1M,KAAKi8G,SACXvgG,SAAS,IACT48E,UAAU,GACZkO,MAAK,gBAAA7sG,OAAiB+S,GAAK,CAAEwiI,MAAO,aAClC5gD,KAAK,SAAA6oB,GAAQ,OAAIA,EAASzP,SAC1BpZ,KAAK,SAAA3wE,GAAQ,IACLwxH,EAA6BxxH,EAA7BwxH,cAAeC,EAAczxH,EAAdyxH,UADVx+I,EAE0B+F,EAAOgnB,MAAQ,GAA9C0xH,EAFKz+I,EAELy+I,eAAgBC,EAFX1+I,EAEW0+I,aAEtB34I,EAAOgnB,MAAQixH,EAAkBO,EAAeE,KAEjDvlH,YACCs4E,YAAsB,CACrBhtF,QAAS+5H,OAKVx4I,EAAOgnB,MAAQixH,EAAkBQ,EAAWE,KAE7CxlH,YAAQw4E,kBAGT,CAAC3kG,IAEG6kB,EAAM8C,SAjDd3uB,EAAOgnB,KAAO,CACb0xH,eAAgBp+G,EAAY7b,QAC5Bk6H,WAAYr+G,EAAYs+G,6bCEnBC,EAAQxvI,KAAKs3C,MAAMm4F,QAEZ5d,EAA0B,EAE1BmB,EAAgB,SAC5B0c,EACA5vI,GAII,IAHJ6vI,EAGI3/I,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAHW,EACf+iI,EAEI/iI,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAFY,EAChBm3E,EACIn3E,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACE+tD,EAAMr+C,KAAKq+C,MACXv0C,EAAO,CACZkmI,SAAUzoE,EACV3oC,KAAM,CAAE2oC,OAAQ,EAAGqwB,KAAM,WAE1B,OAAQ13F,GACP,IAAK,OACJ4J,EAAK80B,KAAO,CACX03D,KAAM,SACNhnE,OAAQ,GAET,MACD,IAAK,MACJxlB,EAAK80B,KAAO,CAAE03D,KAAM,OAAQhnE,OAAQ,GACpC,MACD,IAAK,OACJxlB,EAAK80B,KAAO,CAAE03D,KAAM,OAAQhnE,OAAQ2iG,GACpC,MACD,IAAK,QACJnoH,EAAK80B,KAAO,CAAE03D,KAAM,MAAOhnE,OAAQ,GACnC,MACD,IAAK,OACJxlB,EAAK80B,KAAO,CAAE03D,KAAM,QAAShnE,OAAQ,GACrC,MACD,QACC,OAAOwgH,EAMT,IAJA,IAAMG,EAAU,GAEZC,GAAeh6I,IAAUC,KAAK2T,EAAKkmI,SAAS11I,OAC5C61I,EAAU/vI,KAAKC,IAAIyJ,EAAKkmI,SAASx1I,KAAMtE,IAAUC,QAEhDumB,GAAKxmB,IAAUC,KAAK+5I,GACxBxzH,GAAKyzH,EACLzzH,GAAKxmB,IAAUgN,IAAIhN,IAAUC,KAAKumB,GAAI5S,EAAK80B,KAAKtP,OAAQxlB,EAAK80B,KAAK03D,MAElE25C,EAAQ/kI,KAAK,CAAE7F,MAAO0qI,EAAcjmI,KAAM4S,IAE3C,IAAM0zH,EAAqBN,EACzBxxI,OAAO,SAAAnO,GACP,IAAMusB,EAAIvsB,EAAE2Z,KACZ,OAAO4S,EAAIwzH,GAAe,GAAKxzH,EAAIyzH,GAAW,IAE9C3sI,KAAK,SAACrT,EAAGI,GAAJ,OAAUA,EAAEuZ,KAAO3Z,EAAE2Z,OAEtBumI,GAAqBD,EAAmB,IAAM,IAAItmI,MAAQu0C,EAE1D3zC,EAAO,GAAA3Q,OAAAzI,OAAAg/I,EAAA,EAAAh/I,CAAI8+I,GAAuBH,GAAS/+I,OAAO,SAACwZ,EAAMva,GAC9D,IAAM+pB,EAAO5oB,OAAAo0I,EAAA,EAAAp0I,CAAA,GAAQoZ,GACf6lI,EAA0B,OAAZpgJ,EAAEkV,OAAmC,OAAjBqF,EAAKva,EAAE2Z,MACzCzE,EACLlV,EAAE2Z,MAAQumI,EACPE,EACC,KACA7lI,EAAKva,EAAE2Z,OAAS3Z,EAAEkV,OAAS0qI,EAC5B5c,EAIJ,OAFAj5G,EAAQ/pB,EAAE2Z,MAAQ3Z,EAAE2Z,MAAQu0C,EAAMh5C,EAAQ,KAEnC6U,GACL,IASH,OAPe5oB,OAAOooB,QAAQhP,GAC5B5Y,IAAI,SAAAd,GAAA,IAAAU,EAAAJ,OAAAk/I,EAAA,EAAAl/I,CAAAN,EAAA,GAAEilB,EAAFvkB,EAAA,SAAmB,CACvB2T,MADI3T,EAAA,GAEJoY,MAAOmM,KAEPzS,KAAK,SAACrT,EAAGI,GAAJ,OAAUJ,EAAE2Z,KAAOvZ,EAAEuZ,QAOhBk5F,EAAiB,SAAAnxG,GAA0B,IAAvBqO,EAAuBrO,EAAvBqO,UAAW5F,EAAYzI,EAAZyI,MACvCE,EAAM,KACNyoG,EAAU,KACRwtC,EAAYv6I,IAAUC,KAAKmE,GAEjC,OAAQ4F,GACP,IAAK,OACJ5F,EAAQpE,IAAUuK,cAAcgwI,GAChCj2I,EAAMtE,IAAUsK,WAAWlG,EAAO,IAClC2oG,EAAU/sG,IAAUsK,WAAWhG,EAAK,GACpC,MACD,IAAK,MACJF,EAAQpE,IAAU0K,YAAY6vI,GAC9Bj2I,EAAMtE,IAAUyK,SAASrG,EAAO,IAChC2oG,EAAU/sG,IAAUyK,SAASnG,EAAK,GAClC,MACD,IAAK,OACJF,EAAQpE,IAAU6K,iBAAiB0vI,EAAWxe,GAC9Cz3H,EAAMtE,IAAU4K,QAAQxG,EAAO,GAC/B2oG,EAAU/sG,IAAUyK,SAASnG,EAAK,GAClC,MACD,IAAK,QACJF,EAAQpE,IAAUqE,WAAWk2I,GAC7Bj2I,EAAMtE,IAAU4K,QAAQ5K,IAAU+K,UAAU3G,EAAO,IAAK,GACxD2oG,EAAU/sG,IAAU4K,QAAQtG,EAAK,GACjC,MACD,IAAK,OACJF,EAAQpE,IAAUC,KAAKs6I,GAAW7zH,QAAQ,SAC1CpiB,EAAMtE,IAAU+K,UAAU3G,EAAO,IACjC2oG,EAAU/sG,IAAU+K,UAAUzG,EAAK,GAUrC,MAAO,CAAEF,MAJTA,GAASA,EAIOE,IAHhBA,EAAM4F,KAAKC,KAAK7F,GAAMtE,IAAUC,QAGX8sG,QAFrBA,GAAWA,IAKCM,EAAuB,SAAAtxG,GAO9B,IAGDy+I,EATJxwI,EAMKjO,EANLiO,UACA5F,EAKKrI,EALLqI,MAKKq2I,EAAA1+I,EAJLq2B,YAIK,IAAAqoH,KAAAC,EAAA3+I,EAHLqxG,mBAGK,IAAAstC,KAFLpjI,EAEKvb,EAFLub,QACAE,EACKzb,EADLyb,QAEM+iI,EAAYv6I,IAAUC,KAAKmE,GAC3B64C,EAAY7qB,EAAO,GAAK,EAE1BuoH,EAAeJ,EAkBnB,OAfCnoH,GACA5a,GACAxX,IAAUmxE,QAAQopE,EAAWv6I,IAAUC,KAAKuX,MAE5CmjI,EAAe36I,IAAUC,KAAKuX,KAI7B4a,GACD9a,GACAtX,IAAU46I,SAASL,EAAWv6I,IAAUC,KAAKqX,MAE7CqjI,EAAe36I,IAAUC,KAAKqX,IAGvBtN,GACP,IAAK,OACJwwI,EACCptC,IAAgBh7E,EACbpyB,IAAU0K,YAAYiwI,GACtB36I,IAAUyK,SAASkwI,EAAc19F,GACrC,MACD,IAAK,MACJ,IAAM6yB,EACLs9B,IAAgBh7E,EACbpyB,IAAUqE,WAAWs2I,GACrB36I,IAAU4K,QAAQ+vI,EAAc19F,GACpCu9F,EAAcx6I,IAAUqE,WAAWyrE,GACnC,MACD,IAAK,OACJ,IAAMqD,EACLi6B,IAAgBh7E,EACbpyB,IAAU66I,YAAYN,GACtBv6I,IAAU86I,SAASP,EAAWt9F,GAClCu9F,EAAcx6I,IAAUqE,WAAW8uE,GACnC,MACD,IAAK,QACJ,IAAMC,EACLg6B,IAAgBh7E,EACbpyB,IAAUiL,aAAa0vI,GACvB36I,IAAU+K,UAAU4vI,EAAc19F,GACtCu9F,EAAcx6I,IAAUiL,aAAamoE,GACrC,MACD,IAAK,OACJ,IAAMC,EACL+5B,IAAgBh7E,EACbpyB,IAAU+6I,YAAYJ,GACtB36I,IAAUg7I,SAASL,EAAc19F,GACrCu9F,EAAcx6I,IAAUiL,aAAaooE,GACrC,MACD,QACC,MAAM,IAAI+wB,MAAM,qBAMlB,OAJIpkG,IAAUmxE,QAAQqpE,EAAax6I,IAAUC,UAC5Cu6I,EAAcD,IAGPC,GAGIjjI,EAAiC,SAAArb,GAAyB,IAAtB8N,EAAsB9N,EAAtB8N,UAAW4J,EAAW1X,EAAX0X,KACrDzJ,EAAMnK,IAAUC,KAAK2T,GAC3B,OAAQ5J,GACP,IAAK,OACJ,OAAOhK,IAAUsK,WAAWH,GAAM,IACnC,IAAK,MACJ,OAAOnK,IAAUyK,SAASN,GAAM,IACjC,IAAK,OACJ,OAAOnK,IAAU4K,QAAQT,GAAM,GAChC,IAAK,QACJ,OAAOnK,IAAU4K,QAAQ5K,IAAU+K,UAAUZ,GAAM,GAAI,GACxD,IAAK,OACJ,OAAOnK,IAAU+K,UAAUZ,GAAM,IAClC,QACC,OAAOA,IAIJ8wI,EAAiB,CACtB,CAAEpmI,MAAO,OAAQqmI,GA7NL,SA8NZ,CAAErmI,MAAO,QAASqmI,GAAIxB,GACtB,CAAE7kI,MAAO,OAAQqmI,GAhOL,QAiOZ,CAAErmI,MAAO,MAAOqmI,GAlOL,OAmOX,CAAErmI,MAAO,OAAQqmI,GApOL,MAqOZ,CAAErmI,MAAO,SAAUqmI,GAtOL,KAuOd,CAAErmI,MAAO,SAAUqmI,GAxOL,MA2OFxkF,EAAU,SAAC9iD,GAA6B,IAAvBunI,EAAuBjhJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf4P,KAAKq+C,MACpC+yF,EAAKhxI,KAAKs3C,MAAM25F,EAAQvnI,GACxBkmI,EAAWmB,EAAehzI,KAAK,SAAA+H,GAAC,OAAIA,EAAEkrI,GAAKA,IACjD,IAAKpB,EACJ,OAAO5+I,aAAE,YAGV,IAAMkgJ,EAAgBlxI,KAAKs3C,MAAM05F,EAAKpB,EAASoB,IAC/C,OAAOhgJ,aAAE,WAAY,CACpB+J,KAAM,CAACm2I,EAAetB,EAASjlI,OAASumI,EAAgB,EAAI,IAAM,QAYvDnnE,EAAiB,SAAA53E,GAA+B,IAA5B2N,EAA4B3N,EAA5B2N,UAAW5F,EAAiB/H,EAAjB+H,MAAOE,EAAUjI,EAAViI,IAClD,OAAQ0F,GACP,IAAK,OACL,IAAK,MACL,IAAK,OACJ,SAAAnG,OAAU7D,IAAU8W,OAAO1S,EAAO,oBAAlC,SAAAP,OACD7D,IAAU8W,OAAOxS,EAAK,qBACtB,IAAK,QACJ,SAAAT,OAAU7D,IAAU8W,OAAO1S,EAAO,cAAlC,SAAAP,OACD7D,IAAU8W,OAAOxS,EAAK,eACtB,IAAK,OACJ,SAAAT,OAAU7D,IAAU8W,OAAO1S,EAAO,WAAlC,SAAAP,OACD7D,IAAU8W,OAAOxS,EAAK,YACtB,QACC,MAAM,IAAI8/F,MAAM,uBAINtvF,EAA0B,SAAAtY,GAAyB,IAAtBwN,EAAsBxN,EAAtBwN,UAAW4J,EAAWpX,EAAXoX,KACpD,OAAQ5J,GACP,IAAK,OACL,IAAK,MACJ,SAAAnG,OAAU7D,IAAU8W,OAAOlD,EAAM,qBAClC,IAAK,OACJ,IAAMynI,GAAar7I,IAAUsK,WAC5BtK,IAAUyK,SAASzK,IAAUC,KAAK2T,GAAO,IACxC,GAEF,SAAA/P,OAAU7D,IAAU8W,OAAOlD,EAAM,oBAAjC,SAAA/P,OACD7D,IAAU8W,OAAOukI,EAAW,qBAC5B,IAAK,QACJ,SAAAx3I,OAAU7D,IAAU8W,OAAOlD,EAAM,eAClC,IAAK,OACJ,SAAA/P,OAAU7D,IAAU8W,OAAOlD,EAAM,YAClC,QACC,MAAM,IAAIwwF,MAAM","file":"static/js/main.a7a15917.chunk.js","sourcesContent":["import { createSelectorCreator, defaultMemoize } from 'reselect'\nimport isEqual from 'lodash.isequal'\n\n// deep equal memoization instad reference check\nexport const createDeepEqualSelector = createSelectorCreator(\n\tdefaultMemoize,\n\tisEqual\n)\n\nexport const creatArrayOnlyLengthChangeSelector = createSelectorCreator(\n\tdefaultMemoize,\n\t(a = [], b = []) => a.length === b.length\n)\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\n\n// can be used outside  components\nexport const selectRelayerConfig = state => {\n\treturn (state || getState()).persist.config.relayer\n}\n\n// - relayer cfg\n// network,\n// feeTokenWhitelist:\n// [\n// \t{\n// \t\taddress,\n// \t\tsymbol,\n// \t\tdecimals,\n// \t\tstandard,\n// \t\tmin,\n// \t\tminDeploy,\n// \t\tminRecommended,\n// \t\texecuteBaseFee: {\n// \t\t\tWITHDRAW: '4200000000000000000',\n// \t\t\tPRIVILEGES_CHANGE: '1000000000000000000',\n// \t\t\tENS_CHANGE: '1000000000000000000',\n// \t\t\tDEFAULT: '1000000000000000000',\n// \t\t},\n// \t},\n// ],\n// routineWithdrawTokens, // [{ address, symbol, decimals, standard, minWeekly, minFinal, minPlatform }],\n// coreAddr,\n// baseIdentityAddr,\n// identityFactoryAddr,\n// registryAddr,\n// daiAddr,\n// marketUrl,\n// identityRecoveryAddr,\n// weeklyFeeAmount,\n// mainToken, // { address, symbol, decimals, standard },\n// advertiserMinGrantAmount\n// relayerAddr\n// gasPriceCap\n\nexport const selectFeeTokenWhitelist = createSelector(\n\t[selectRelayerConfig],\n\t({ feeTokenWhitelist }) => {\n\t\treturn feeTokenWhitelist.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokens = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.reduce((all, t) => {\n\t\t\tconst tokens = { ...all }\n\t\t\ttokens[t.address] = t\n\n\t\t\treturn tokens\n\t\t}, {})\n\t}\n)\n\nexport const selectRoutineWithdrawTokensAddresses = createSelector(\n\t[selectRelayerConfig],\n\t({ routineWithdrawTokens }) => {\n\t\treturn routineWithdrawTokens.map(t => t.address)\n\t}\n)\n\nexport const selectConfig = createSelector(\n\t[selectRelayerConfig],\n\trelayerConfig => {\n\t\tconst cfg = { ...relayerConfig }\n\t\treturn cfg\n\t}\n)\n\nexport const selectMainToken = createSelector(\n\t[selectRelayerConfig],\n\t({ mainToken }) => mainToken || {}\n)\n\nexport const selectIdentityRecoveryAddr = createSelector(\n\t[selectRelayerConfig],\n\t({ identityRecoveryAddr }) => identityRecoveryAddr\n)\n\nexport const selectGasPriceCap = createSelector(\n\t[selectRelayerConfig],\n\t({ gasPriceCap }) => gasPriceCap\n)\n\nexport const selectSaiToken = createSelector(\n\t[selectRelayerConfig, selectRoutineWithdrawTokens],\n\t({ saiAddr }, routineWithdrawTokens) => routineWithdrawTokens[saiAddr]\n)\n\nexport const selectMainFeeToken = createSelector(\n\t[selectRelayerConfig, selectFeeTokenWhitelist],\n\t({ mainToken }, feeTokenWhitelist) => {\n\t\treturn feeTokenWhitelist[mainToken.address]\n\t}\n)\n","import dateUtils from 'helpers/dateUtils'\nimport { createSelector } from 'reselect'\nimport { createDeepEqualSelector } from 'selectors'\n\nexport const selectAccount = state => state.persist.account || {}\nexport const selectChannels = state => state.memory.channels\n\nexport const selectAuth = createSelector(\n\tselectAccount,\n\t({ wallet, identity }) =>\n\t\t!!wallet &&\n\t\t!!wallet.address &&\n\t\t!!wallet.authSig &&\n\t\t!!wallet.authType &&\n\t\t!!identity.address\n)\n\nexport const selectWallet = createDeepEqualSelector(\n\tselectAccount,\n\t({ wallet }) => wallet || {}\n)\n\nexport const selectEmail = createSelector(\n\tselectAccount,\n\t({ email }) => email\n)\n\nexport const selectEmailProvider = createSelector(\n\tselectEmail,\n\temail => (!!email ? email.split('@')[1] : null)\n)\n\nexport const selectAuthSig = createSelector(\n\tselectWallet,\n\t({ authSig }) => authSig\n)\n\nexport const selectWalletAddress = createSelector(\n\tselectWallet,\n\t({ address }) => address\n)\n\nexport const selectAuthType = createSelector(\n\tselectWallet,\n\t({ authType }) => authType\n)\n\nexport const selectAccountIdentity = createSelector(\n\tselectAccount,\n\t({ identity }) => identity || {}\n)\n\nexport const selectAccountIdentityAddr = createSelector(\n\tselectAccountIdentity,\n\t({ address }) => address\n)\n\nexport const selectAccountStats = createSelector(\n\tselectAccount,\n\t({ stats }) => stats || {}\n)\n\nexport const selectAccountSettings = createSelector(\n\tselectAccount,\n\t({ settings }) => settings || {}\n)\n\nexport const selectAccountStatsRaw = createSelector(\n\tselectAccountStats,\n\t({ raw }) => raw || {}\n)\n\nexport const selectAccountStatsFormatted = createSelector(\n\tselectAccountStats,\n\t({ formatted }) => formatted || {}\n)\n\nexport const selectAccountIdentityRoutineAuthTuple = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData }) =>\n\t\trelayerData &&\n\t\trelayerData.routineAuthorizationsData &&\n\t\trelayerData.routineAuthorizationsData[0]\n\t\t\t? relayerData.routineAuthorizationsData[0]\n\t\t\t: null\n)\n\nexport const selectAccountIdentityDeployData = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData = {} }) => relayerData.deployData || {}\n)\n\nexport const selectChannelsWithUserBalancesEligible = createSelector(\n\tselectChannels,\n\t({ withOutstandingBalance }) => [...(withOutstandingBalance || [])]\n)\n\nexport const selectChannelsWithUserBalancesAll = createSelector(\n\tselectChannels,\n\t({ withBalanceAll }) => ({ ...(withBalanceAll || {}) })\n)\n\nexport const selectAccountIdentityCurrentPrivileges = createSelector(\n\tselectAccountIdentity,\n\t({ relayerData: { currentPrivileges } = {} }) => currentPrivileges || {}\n)\n\nexport const selectWalletPrivileges = createSelector(\n\t[selectAccountIdentityCurrentPrivileges, selectWalletAddress],\n\t(privileges = {}, address) => privileges[address] || 0\n)\n\nexport const selectAccountIdentityCreatedDate = createSelector(\n\tselectAccountIdentityDeployData,\n\t({ created }) => dateUtils.date(created || '2018-10-01')\n)\n","import { createSelector } from 'reselect'\n\nexport const selectIdentity = state => state.memory.identity\n\nexport const selectEnsAddresses = state => state.persist.ensAddresses\n\nexport const selectEnsAddressByAddr = createSelector(\n\t[selectEnsAddresses, (_, address) => address],\n\t(ensAddresses, address) => ensAddresses[address] || ''\n)\n","import { createSelector } from 'reselect'\nimport dateUtils from 'helpers/dateUtils'\nimport { selectAccountIdentityAddr } from './accountSelectors'\nimport { SYNC_WEB3_DATA } from 'constants/spinners'\n\nconst REGISTRATION_OPEN = process.env.REGISTRATION_OPEN === 'true'\n\nexport const selectNavTitle = state => state.memory.nav.navTitle\nexport const selectSide = state => state.memory.nav.side\nexport const selectMemoryUi = state => state.memory.uiMemory\nexport const selectGlobalUi = state => state.persist.ui.global\nexport const selectIdentitiesUi = state => state.persist.ui.byIdentity\nexport const selectSelectedItems = state => state.memory.selectedItems\nexport const selectConfirm = state => state.memory.confirm\n\nexport const selectSpinners = state => state.memory.spinners\n\nexport const selectIdentityUi = createSelector(\n\t[selectAccountIdentityAddr, selectIdentitiesUi],\n\t(identityAddr, identitiesUi) => identitiesUi[identityAddr] || {}\n)\n\nexport const selectIdentitySideUi = createSelector(\n\t[selectIdentityUi, selectSide],\n\t(identityUi, side) => identityUi[side] || {}\n)\n\nexport const selectCompanyData = createSelector(\n\t[selectIdentityUi],\n\t({ companyData }) => companyData || {}\n)\n\nexport const selectSpinnerById = createSelector(\n\t[selectSpinners, (_, id) => id],\n\t(spinners, id) => spinners[id]\n)\n\nexport const selectWeb3SyncSpinnerByValidateId = createSelector(\n\t[selectSpinners, (_, validateId) => validateId],\n\t(spinners, validateId) => spinners[SYNC_WEB3_DATA + validateId]\n)\n\nexport const selectMultipleSpinnersByIds = createSelector(\n\t[selectSpinners, (_, ids) => ids],\n\t(spinners, ids) => ids.map(id => spinners[id])\n)\n\nexport const selectRegistrationAllowed = createSelector(\n\tselectGlobalUi,\n\t({ allowRegistration }) => REGISTRATION_OPEN || !!allowRegistration\n)\n\nexport const selectEasterEggsAllowed = createSelector(\n\tselectGlobalUi,\n\t({ allowEasterEggs }) => allowEasterEggs\n)\n\nexport const selectPrivilegesWarningAccepted = createSelector(\n\tselectIdentityUi,\n\t({ privilegesWarningAccepted }) => !!privilegesWarningAccepted\n)\n\nexport const selectSideSpecificUI = createSelector(\n\t[selectIdentityUi, selectSide],\n\t(ui, side) => ui[side] || {}\n)\n\nexport const selectHideGettingStarted = createSelector(\n\t[selectSideSpecificUI],\n\t({ hideGettingStarted }) => hideGettingStarted\n)\n\nexport const selectGettingStartedExpanded = createSelector(\n\tselectIdentityUi,\n\t({ gettingStartedExpanded }) =>\n\t\t// NOTE: default is open but cant set initial state\n\t\tgettingStartedExpanded === undefined ? true : !!gettingStartedExpanded\n)\n\nexport const selectSelectedCampaigns = createSelector(\n\tselectSelectedItems,\n\t({ campaigns }) => campaigns || []\n)\n\nexport const selectLoginDirectSide = createSelector(\n\tselectGlobalUi,\n\t({ goToSide }) => goToSide || ''\n)\n\nexport const selectInitialDataLoadedByData = createSelector(\n\t[selectMemoryUi, (_, dataType) => dataType],\n\t({ initialDataLoaded }, dataType) =>\n\t\tinitialDataLoaded === true ||\n\t\t(typeof initialDataLoaded === 'object' && initialDataLoaded[dataType])\n)\nexport const selectInitialDataLoaded = createSelector(\n\tselectMemoryUi,\n\t({ initialDataLoaded = false }) =>\n\t\tinitialDataLoaded === true ||\n\t\t(typeof initialDataLoaded === 'object' &&\n\t\t\t[\n\t\t\t\t'accountIdentityData',\n\t\t\t\t'allItems',\n\t\t\t\t'stats',\n\t\t\t\t'campaigns',\n\t\t\t\t'advancedAnalytics',\n\t\t\t].every(type => !!initialDataLoaded[type]))\n)\n\nexport const selectCampaignIdInDetails = createSelector(\n\tselectMemoryUi,\n\t({ campaignId }) => campaignId\n)\n\nexport const selectLoginSelectedIdentity = createSelector(\n\tselectMemoryUi,\n\t({ loginSelectedIdentity }) => loginSelectedIdentity\n)\n\nexport const selectAnalyticsDataSide = createSelector(\n\t[selectSide, selectCampaignIdInDetails],\n\t(side, campaignId) => (campaignId ? campaignId : side ? `for-${side}` : '')\n)\n\nexport const selectIdentitySideAnalyticsTimeframe = createSelector(\n\t[selectIdentitySideUi],\n\t({ sideAnalyticsTimeframe = 'day' } = {}) => sideAnalyticsTimeframe\n)\n\nexport const selectIdentitySideAnalyticsPeriod = createSelector(\n\t[selectIdentitySideUi],\n\t({\n\t\tsideAnalyticsPeriod = {\n\t\t\tstart: dateUtils.startOfDay(dateUtils.date()),\n\t\t\tend: dateUtils.endOfDay(dateUtils.date()),\n\t\t},\n\t} = {}) => sideAnalyticsPeriod\n)\n","import { createSelector } from 'reselect'\nimport { translate } from 'services/translations/translations'\nimport { getState } from 'store'\n\nexport const selectLang = state => state.persist.language\n\nexport const selectTranslations = createSelector(\n\t[\n\t\tselectLang,\n\t\t(_, val, opts = {}) => {\n\t\t\treturn { val, opts }\n\t\t},\n\t],\n\t(lang, { val, opts }) => {\n\t\tconst { isProp = false, args = [''], components = [] } = opts\n\t\treturn translate(val, { isProp, args, components }, lang)\n\t}\n)\n\n// Need to useSelector for language in top component where this will be used\n// Now this is don by using Translate Hoc on Root\n// It will work in actions too as the state isg get when they are called and don't need update\nexport const t = (val, opts) => {\n\treturn selectTranslations(getState(), val, opts)\n}\n","import { createSelector } from 'reselect'\nimport { selectCampaignEventsCount, selectCampaignIdInDetails } from 'selectors'\nimport url from 'url'\nexport const selectItems = state => state.persist.items\n\nexport const selectItemsByType = createSelector(\n\t[selectItems, (_, itemType) => itemType],\n\t(items, itemType) => items[itemType] || {}\n)\n\nexport const selectItemByTypeAndId = createSelector(\n\t[selectItems, (_, itemType, id) => ({ itemType, id })],\n\t(items, { itemType, id }) => (items[itemType] || {})[id] || {}\n)\nexport const selectItemsArrayByType = createSelector(\n\t[selectItemsByType, (_, itemType) => itemType],\n\t(items = {}) => Object.values(items)\n)\n\nexport const selectCampaigns = createSelector(\n\tstate => selectItemsByType(state, 'Campaign'),\n\tcampaigns => campaigns\n)\n\nexport const selectCampaignById = createSelector(\n\t[selectCampaigns, (_, id) => id],\n\t(campaigns, id) => campaigns[id]\n)\n\nexport const selectCampaignUnitsById = createSelector(\n\t[selectCampaignById, (_, id) => id],\n\t({ adUnits } = {}) => adUnits || []\n)\n\nexport const selectCampaignInDetails = createSelector(\n\t[selectCampaignIdInDetails, state => state],\n\t(campaignId, state) => selectCampaignById(state, campaignId)\n)\n\nexport const selectCampaignWithAnalyticsById = createSelector(\n\t[selectCampaigns, (_, id) => id],\n\t(campaigns, id) => {\n\t\tconst campaign = { ...(campaigns[id] || {}) }\n\t\tcampaign.clicks = selectCampaignEventsCount('CLICK', id)\n\t\tcampaign.impressions = selectCampaignEventsCount('IMPRESSION', id)\n\t\treturn campaign\n\t}\n)\n\nexport const selectCampaignsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'Campaign'),\n\tcampaigns => campaigns\n)\n\nexport const selectAdUnits = createSelector(\n\tstate => selectItemsByType(state, 'AdUnit'),\n\tadUnits => adUnits\n)\n\nexport const selectAdUnitById = createSelector(\n\t[selectAdUnits, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectAdUnitsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'AdUnit'),\n\tadUnits => adUnits\n)\n\nexport const selectAdSlots = createSelector(\n\tstate => selectItemsByType(state, 'AdSlot'),\n\tadSlots => adSlots\n)\n\nexport const selectAdSlotsArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'AdSlot'),\n\tadSlots => adSlots\n)\n\nexport const selectAdSlotById = createSelector(\n\t[selectAdSlots, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectWebsites = createSelector(\n\tstate => selectItemsByType(state, 'Website'),\n\twebsites => websites\n)\n\nexport const selectWebsitesArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'Website'),\n\twebsites => websites\n)\n\nexport const selectWebsiteById = createSelector(\n\t[selectWebsites, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectWebsiteByWebsite = createSelector(\n\t[selectWebsites, (_, ws) => ws],\n\t(items, ws) => (ws ? items[url.parse(ws).hostname] || {} : {})\n)\n\nexport const selectAudiences = createSelector(\n\tstate => selectItemsByType(state, 'Audience'),\n\taudiences => audiences\n)\n\nexport const selectAudiencesArray = createSelector(\n\tstate => selectItemsArrayByType(state, 'Audience'),\n\taudiences => audiences\n)\n\nexport const selectAudienceById = createSelector(\n\t[selectAudiences, (_, id) => id],\n\t(items, id) => items[id]\n)\n\nexport const selectAudienceByCampaignId = createSelector(\n\t[selectCampaignById, selectAudiencesArray, (_, id) => id],\n\t(campaign, items, id) => {\n\t\tconst hasCampaignAudienceUpdated =\n\t\t\tcampaign &&\n\t\t\tcampaign.audienceInput &&\n\t\t\tcampaign.audienceInput.inputs &&\n\t\t\t(campaign.audienceInput.inputs.location ||\n\t\t\t\tcampaign.audienceInput.inputs.categories ||\n\t\t\t\tcampaign.audienceInput.inputs.publishers ||\n\t\t\t\tcampaign.audienceInput.inputs.advanced)\n\n\t\treturn hasCampaignAudienceUpdated\n\t\t\t? campaign.audienceInput\n\t\t\t: items.find(x => x && x.campaignId === id)\n\t}\n)\n\nexport const selectSavedAudiences = createSelector(\n\t[selectAudiencesArray],\n\titems => items.filter(x => x && !x.campaignId && x.title)\n)\n","import {\n\tCampaign as CampaignModel,\n\tAdUnit as AdUnitModel,\n\tAdSlot as AdSlotModel,\n\tAudience as AudienceModel,\n} from 'adex-models'\nimport initialState from 'store/initialState'\n\nimport { createSelector } from 'reselect'\n\nexport const selectNewItems = state => state.memory.newItem\n\nexport const selectNewItemByType = createSelector(\n\t[selectNewItems, (_, type) => type],\n\t(items, type) => items[type]\n)\n\n// NOTE: currently used only for existing items update\nexport const selectNewItemByTypeAndId = createSelector(\n\t[selectNewItems, (_, type, itemId) => ({ type, itemId })],\n\t(items, { type, itemId }) =>\n\t\t(itemId ? items[itemId] : items[type]) || { ...initialState.newItem[type] }\n)\n\nexport const selectNewCampaign = createSelector(\n\tselectNewItems,\n\t({ Campaign }) => new CampaignModel(Campaign)\n)\n\nexport const selectNewAdUnit = createSelector(\n\tselectNewItems,\n\t({ AdUnit }) => new AdUnitModel(AdUnit)\n)\n\nexport const selectNewAdSlot = createSelector(\n\tselectNewItems,\n\t({ AdSlot }) => new AdSlotModel(AdSlot)\n)\n\nexport const selectNewAudience = createSelector(\n\tselectNewItems,\n\t({ Audience }) => new AudienceModel(Audience)\n)\n","import { getState } from 'store'\nimport { createSelector } from 'reselect'\nimport {\n\tselectChannelsWithUserBalancesAll,\n\tselectIdentitySideAnalyticsTimeframe,\n\tselectAccountIdentityCreatedDate,\n\tselectCampaignInDetails,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport {\n\tgetPeriodDataPointLabel,\n\tgetMinStartDateTimeByTimeframe,\n} from 'helpers/analyticsTimeHelpers'\nimport {\n\tselectNewItemByTypeAndId,\n\tselectIdentitySideAnalyticsPeriod,\n} from 'selectors'\nimport dateUtils from 'helpers/dateUtils'\nimport { DEFAULT_DATETIME_FORMAT } from 'helpers/formatters'\nimport { t } from './translationsSelectors'\n\nexport const selectAnalytics = state => state.memory.analytics\nexport const selectTargeting = state => state.persist.targeting\n\nconst MIN_SLOTS_FOR_AD_TYPE = 2\n\nexport const selectAnalyticsData = createSelector(\n\t[selectAnalytics, (_, side) => side],\n\t(analytics, side) => {\n\t\treturn analytics[side] || {}\n\t}\n)\n\nexport const selectAdvancedAnalytics = createSelector(\n\t[selectAnalytics],\n\tanalytics => analytics.advanced || {}\n)\n\nexport const selectAnalyticsLastChecked = createSelector(\n\tselectAnalytics,\n\t({ lastChecked }) => {\n\t\treturn lastChecked || new Date()\n\t}\n)\n\nexport const selectAnalyticsLiveTimestamp = createSelector(\n\t[\n\t\tselectIdentitySideAnalyticsTimeframe,\n\t\tselectAnalyticsLastChecked,\n\t\tselectCampaignInDetails,\n\t],\n\t(timeframe, lastChecked, campaign) => {\n\t\tconst currentDate = campaign\n\t\t\t? dateUtils.date(\n\t\t\t\t\tMath.min(campaign.withdrawPeriodStart, +dateUtils.date())\n\t\t\t  )\n\t\t\t: dateUtils.date(lastChecked)\n\t\tlet start = dateUtils.date(currentDate)\n\t\tswitch (timeframe) {\n\t\t\tcase 'hour':\n\t\t\t\tconst hourStart = dateUtils.addMinutes(currentDate, -59)\n\t\t\t\tstart = dateUtils.startOfMinute(hourStart)\n\t\t\t\tbreak\n\t\t\tcase 'day':\n\t\t\t\tconst dayStart = dateUtils.addHours(currentDate, -23)\n\t\t\t\tstart = dateUtils.startOfHour(dayStart)\n\t\t\t\tbreak\n\t\t\tcase 'week':\n\t\t\t\tconst weekStart = dateUtils.addDays(currentDate, -6)\n\t\t\t\tstart = dateUtils.getHourSpanStart(weekStart, 3)\n\t\t\t\tbreak\n\t\t\tcase 'month':\n\t\t\t\tconst monthStart = dateUtils.addDays(\n\t\t\t\t\tdateUtils.addMonths(currentDate, -1),\n\t\t\t\t\t1\n\t\t\t\t)\n\t\t\t\tstart = dateUtils.startOfDay(monthStart)\n\t\t\t\tbreak\n\t\t\tcase 'year':\n\t\t\t\tconst yearStart = dateUtils.addMonths(currentDate, -11)\n\t\t\t\tstart = dateUtils.startOfMonth(yearStart)\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tstart = dateUtils.startOfHour(start)\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn +start\n\t}\n)\n\nexport const selectCampaignAnalytics = createSelector(\n\t[selectAnalytics],\n\t({ campaigns }) => campaigns || {}\n)\n\nexport const selectDemandAnalytics = createSelector(\n\t[selectAnalytics],\n\t({ demand }) => demand || {}\n)\n\nexport const selectDemandAnalyticsByType = createSelector(\n\t[selectDemandAnalytics, (_, type) => type],\n\t(demand, type) => demand[type] || {}\n)\n\nexport const selectTargetingAnalytics = createSelector(\n\t[selectTargeting],\n\t({ targetingData = [] }) => targetingData\n)\n\nexport const selectTargetingAnalyticsMinByCategories = createSelector(\n\t[selectTargeting],\n\t({ minByCategory = {} }) => minByCategory\n)\n\nexport const selectTargetingAnalyticsCountryTiersCoefficients = createSelector(\n\t[selectTargeting],\n\t({ countryTiersCoefficients = {} }) => countryTiersCoefficients\n)\n\nexport const selectVerifiedActiveTargetingAnalytics = createSelector(\n\t[selectTargetingAnalytics],\n\ttargetingAnalytics => {\n\t\tconst bySlotCount = targetingAnalytics.reduce((byType, x) => {\n\t\t\tx.types.forEach(t => {\n\t\t\t\tbyType[t] = (byType[t] || 0) + 1\n\t\t\t})\n\n\t\t\treturn byType\n\t\t}, {})\n\n\t\treturn targetingAnalytics\n\t\t\t.filter(\n\t\t\t\tx =>\n\t\t\t\t\t!!x.categories &&\n\t\t\t\t\tx.categories.length &&\n\t\t\t\t\tx.types &&\n\t\t\t\t\tx.types.length &&\n\t\t\t\t\t!!x.campaignsEarnedFrom\n\t\t\t)\n\t\t\t.map(t => ({\n\t\t\t\t...t,\n\t\t\t\ttypes: t.types.filter(x => bySlotCount[x] >= MIN_SLOTS_FOR_AD_TYPE),\n\t\t\t}))\n\t\t\t.filter(x => x.types.length)\n\t}\n)\n\nexport const selectTargetingAnalyticsCurrentlyUsedTypes = createSelector(\n\t[selectNewItemByTypeAndId],\n\titem => {\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\n\t}\n)\n\nexport const selectTargetingAnalyticsByType = createSelector(\n\t[\n\t\tselectVerifiedActiveTargetingAnalytics,\n\t\tselectTargetingAnalyticsCurrentlyUsedTypes,\n\t],\n\t(targetingAnalytics, types) => {\n\t\tconst filterByType = types && types.length\n\n\t\treturn targetingAnalytics.filter(\n\t\t\tx =>\n\t\t\t\t!filterByType || (filterByType && types.some(t => x.types.includes(t)))\n\t\t)\n\t}\n)\n\nexport const selectTargetingCategoriesByType = createSelector(\n\t[selectTargetingAnalyticsByType],\n\ttargeting =>\n\t\tArray.from(\n\t\t\ttargeting.reduce((categories, x) => {\n\t\t\t\tx.categories.forEach(c => categories.add(c))\n\t\t\t\treturn categories\n\t\t\t}, new Set())\n\t\t)\n)\n\nexport const selectTargetingPublishersByType = createSelector(\n\t[selectTargetingAnalyticsByType],\n\ttargeting => {\n\t\treturn Array.from(\n\t\t\ttargeting\n\t\t\t\t.reduce((publishers, { owner, hostname, alexaRank, categories }) => {\n\t\t\t\t\tpublishers.set(hostname, { owner, hostname, alexaRank, categories })\n\t\t\t\t\treturn publishers\n\t\t\t\t}, new Map())\n\t\t\t\t.values()\n\t\t).sort((a, b) => {\n\t\t\tif (a.alexaRank && !b.alexaRank) {\n\t\t\t\treturn -1\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\n\t\t\t\treturn a.alexaRank - b.alexaRank\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\n\t\t\t\treturn 1\n\t\t\t} else {\n\t\t\t\treturn 1\n\t\t\t}\n\t\t})\n\t}\n)\n\nexport const selectTargetingCategories = createSelector(\n\t[selectTargetingAnalytics],\n\ttargeting =>\n\t\tArray.from(\n\t\t\ttargeting.reduce((categories, x) => {\n\t\t\t\tx.categories.forEach(c => categories.add(c))\n\t\t\t\treturn categories\n\t\t\t}, new Set())\n\t\t)\n)\n\n// It is used for exclusion so they are not filtered and are sorted from worst to best\nexport const selectAllTargetingPublishers = createSelector(\n\t[selectTargetingAnalytics],\n\ttargeting => {\n\t\treturn Array.from(\n\t\t\ttargeting\n\t\t\t\t.reduce((publishers, { owner, hostname, alexaRank, categories }) => {\n\t\t\t\t\tpublishers.set(hostname, { owner, hostname, alexaRank, categories })\n\t\t\t\t\treturn publishers\n\t\t\t\t}, new Map())\n\t\t\t\t.values()\n\t\t).sort((a, b) => {\n\t\t\tif (a.alexaRank && !b.alexaRank) {\n\t\t\t\treturn 1\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\n\t\t\t\treturn a.alexaRank - b.alexaRank\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\n\t\t\t\treturn -1\n\t\t\t} else {\n\t\t\t\treturn -1\n\t\t\t}\n\t\t})\n\t}\n)\n\nexport const selectAdvancedAnalyticsByType = createSelector(\n\t[selectAdvancedAnalytics, (_, type) => type],\n\t(campaignAnalytics, type) => campaignAnalytics[type] || {}\n)\n\nexport const selectTotalStatsByAdUnits = createSelector(\n\t(state, { type, adUnitId }) => [\n\t\tselectAdvancedAnalyticsByType(state, type),\n\t\t{ adUnitId },\n\t],\n\t([analyticsByChannel, { adUnitId }]) =>\n\t\tObject.values(analyticsByChannel.byChannelStats || {}).reduce(\n\t\t\t(acc, curr) => acc + curr.reportChannelToAdUnit[adUnitId] || 0,\n\t\t\t0\n\t\t)\n)\n\nexport const selectPublisherStatsByType = createSelector(\n\t(state, type) => selectAdvancedAnalyticsByType(state, type),\n\t({ publisherStats }) => publisherStats || {}\n)\nexport const selectPublisherStatsByCountry = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToCountry }) => reportPublisherToCountry || {}\n)\n\nexport const selectPublisherPayStatsByCountry = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToCountryPay }) => reportPublisherToCountryPay || {}\n)\n\nexport const selectPublisherStatsAdUnit = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToAdUnit }) => reportPublisherToAdUnit || {}\n)\n\nexport const selectPublisherStatsAdUnitPay = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToAdUnitPay }) => reportPublisherToAdUnitPay || {}\n)\n\nexport const selectPublisherStatsAdSlot = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToAdSlot }) => reportPublisherToAdSlot || {}\n)\n\nexport const selectPublisherStatsAdSlotPay = createSelector(\n\t(state, type) => selectPublisherStatsByType(state, type),\n\t({ reportPublisherToAdSlotPay }) => reportPublisherToAdSlotPay || {}\n)\n\nexport const selectPublisherAggrStatsByCountry = createSelector(\n\t(state, type) => selectPublisherStatsByCountry(state, type),\n\t(byCountry = {}) => ({\n\t\tmax: Math.max.apply(null, Object.values(byCountry)),\n\t\ttotal: Object.values(byCountry).reduce(\n\t\t\t(a, value) => a + (Number(value) || 0),\n\t\t\t0\n\t\t),\n\t})\n)\n\nexport const selectAllAdUnitsInChannels = createSelector(\n\tstate => selectChannelsWithUserBalancesAll(state),\n\twithBalanceAll =>\n\t\tObject.values(withBalanceAll).reduce((units, { adUnits = [] } = {}) => {\n\t\t\tadUnits.forEach(u => {\n\t\t\t\tconst id = u.id || u.ipfs\n\t\t\t\tif (id && !units[id]) {\n\t\t\t\t\tunits[id] = { ...u, id }\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn units\n\t\t}, {})\n)\n\nexport const selectPublisherAdvanceStatsToAdUnit = createSelector(\n\tstate => [\n\t\tselectAllAdUnitsInChannels(state),\n\t\tselectPublisherStatsAdUnit(state, 'IMPRESSION'),\n\t\tselectPublisherStatsAdUnit(state, 'CLICK'),\n\t\tselectPublisherStatsAdUnitPay(state, 'IMPRESSION'),\n\t\tselectPublisherStatsAdUnitPay(state, 'CLICK'),\n\t],\n\t([\n\t\tadUnits,\n\t\timpressionsByAdUnit,\n\t\tclicksByAdUnit,\n\t\timpressionsPayByAdUnit,\n\t\tclicksPayByAdUnit,\n\t]) =>\n\t\tObject.values(adUnits)\n\t\t\t.filter(i => impressionsByAdUnit[i.id] !== undefined)\n\t\t\t.map(item => ({\n\t\t\t\t...item,\n\t\t\t\timpressions: impressionsByAdUnit[item.id],\n\t\t\t\tclicks: clicksByAdUnit[item.id],\n\t\t\t\timpressionsPay: Number(impressionsPayByAdUnit[item.id] || 0),\n\t\t\t\tclicksPay: Number(clicksPayByAdUnit[item.id] || 0),\n\t\t\t}))\n)\n\nexport const selectPublisherAdvanceStatsToAdSlot = createSelector(\n\tstate => [\n\t\tselectPublisherStatsAdSlot(state, 'IMPRESSION'),\n\t\tselectPublisherStatsAdSlot(state, 'CLICK'),\n\t\tselectPublisherStatsAdSlotPay(state, 'IMPRESSION'),\n\t\tselectPublisherStatsAdSlotPay(state, 'CLICK'),\n\t],\n\t([\n\t\timpressionsByAdSlot,\n\t\tclicksByAdSlot,\n\t\timpressionsPayByAdSlot,\n\t\tclicksPayByAdSlot,\n\t]) => ({\n\t\timpressionsByAdSlot,\n\t\tclicksByAdSlot,\n\t\timpressionsPayByAdSlot,\n\t\tclicksPayByAdSlot,\n\t})\n)\n\nexport const selectPublisherTotalImpressions = createSelector(\n\tstate => selectPublisherStatsByType(state, 'IMPRESSION'),\n\t({ reportPublisherToAdUnit }) => {\n\t\tconst totalImpressions = reportPublisherToAdUnit\n\t\t\t? Object.values(reportPublisherToAdUnit).reduce(\n\t\t\t\t\t(a, value) => a + Number(value) || 0,\n\t\t\t\t\t0\n\t\t\t  )\n\t\t\t: 0\n\n\t\treturn totalImpressions\n\t}\n)\n\nexport const selectCampaignAnalyticsByChannelStats = createSelector(\n\t(state, { type, campaignId } = {}) => [\n\t\tselectAdvancedAnalyticsByType(state, type),\n\t\tcampaignId,\n\t],\n\t([analyticsByType, campaignId]) =>\n\t\t(analyticsByType.byChannelStats || {})[campaignId] || {}\n)\n\nexport const selectCampaignAnalyticsByChannelToCountry = createSelector(\n\t(state, { type, campaignId } = {}) =>\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\n\t({ reportChannelToCountry }) => reportChannelToCountry || {}\n)\n\nexport const selectCampaignAnalyticsByChannelToCountryPay = createSelector(\n\t(state, { type, campaignId } = {}) =>\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\n\t({ reportChannelToCountryPay }) => reportChannelToCountryPay || {}\n)\n\nexport const selectCampaignAggrStatsByCountry = createSelector(\n\t(state, { type, campaignId } = {}) =>\n\t\tselectCampaignAnalyticsByChannelToCountry(state, { type, campaignId }),\n\t(byCountry = {}) => ({\n\t\tmax: Math.max.apply(null, Object.values(byCountry)),\n\t\ttotal: Object.values(byCountry).reduce(\n\t\t\t(a, value) => a + (Number(value) || 0),\n\t\t\t0\n\t\t),\n\t})\n)\n\nexport const selectCampaignAnalyticsByChannelToAdUnit = createSelector(\n\t(state, { type, campaignId } = {}) =>\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\n\n\t({ reportChannelToAdUnit }) => reportChannelToAdUnit || {}\n)\n\nexport const selectMaxAdUnitStatByChannel = createSelector(\n\t(state, { type, campaignId } = {}) =>\n\t\tselectCampaignAnalyticsByChannelStats(state, { type, campaignId }),\n\t({ reportChannelToAdUnit }) =>\n\t\treportChannelToAdUnit\n\t\t\t? Math.max.apply(null, Object.values(reportChannelToAdUnit))\n\t\t\t: 0\n)\n\nexport const selectAnalyticsDataAggr = createSelector(\n\t[\n\t\tselectAnalytics,\n\t\tselectIdentitySideAnalyticsPeriod,\n\t\t(_, opts = {}) => opts,\n\t\tselectAnalyticsLiveTimestamp,\n\t],\n\t(\n\t\tanalytics = {},\n\t\t{ start },\n\t\t{ side, eventType, metric, timeframe },\n\t\tliveTimestamp\n\t) => {\n\t\t// return analytics[side]['eventType'][metric][timeframe].aggr\n\t\t// NOTE: It was working fine with default initial state but\n\t\t// when eventType CLICK was added if you were logged and had\n\t\t// old analytics the initialState is not applied === boom.\n\n\t\tconst {\n\t\t\t[side]: {\n\t\t\t\t[eventType]: {\n\t\t\t\t\t[metric]: {\n\t\t\t\t\t\t[timeframe]: {\n\t\t\t\t\t\t\t[liveTimestamp === start ? 'live' : start]: { aggr } = {},\n\t\t\t\t\t\t} = {},\n\t\t\t\t\t} = {},\n\t\t\t\t} = {},\n\t\t\t} = {},\n\t\t} = analytics\n\n\t\treturn aggr\n\t}\n)\n\nexport function selectCampaignEventsCount(type, campaignId) {\n\treturn Object.values(\n\t\t// TODO: fix this selector w/o using getState\n\t\tselectCampaignAnalyticsByChannelToAdUnit(getState(), {\n\t\t\ttype,\n\t\t\tcampaignId,\n\t\t})\n\t).reduce((a, b) => a + b, 0)\n}\n\nexport const selectTotalImpressions = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalClicks = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'CLICK',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\teventCounts =>\n\t\teventCounts\n\t\t\t? eventCounts.reduce((a, { value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectTotalMoney = createSelector(\n\t(state, { side, timeframe } = {}) =>\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t}),\n\teventPayouts =>\n\t\teventPayouts\n\t\t\t? eventPayouts.reduce(\n\t\t\t\t\t(a, { value }) => a + Number(formatTokenAmount(value || 0, 18)) || 0,\n\t\t\t\t\t0\n\t\t\t  )\n\t\t\t: null\n)\n\nexport const selectTotalImpressionsWithPayouts = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t}),\n\t\tselectAnalyticsDataAggr(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t}),\n\t],\n\t([eventCounts, eventPayouts]) =>\n\t\teventCounts && eventPayouts\n\t\t\t? eventCounts\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tc =>\n\t\t\t\t\t\t\t(eventPayouts.find(e => e.time === c.time) || { value: null })\n\t\t\t\t\t\t\t\t.value !== null\n\t\t\t\t\t)\n\t\t\t\t\t.reduce((a, { time, value }) => a + Number(value) || 0, 0)\n\t\t\t: null\n)\n\nexport const selectAverageCPM = createSelector(\n\t[\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalMoney(state, { side, timeframe }),\n\t\t(state, { side, timeframe } = {}) =>\n\t\t\tselectTotalImpressionsWithPayouts(state, { side, timeframe }),\n\t],\n\t(totalMoney, totalImpressions) =>\n\t\ttotalMoney !== null && totalImpressions !== null\n\t\t\t? (1000 * Number(totalMoney)) / Number(totalImpressions)\n\t\t\t: null\n)\n\nconst parseValueByMetric = ({ value, metric }) => {\n\tswitch (metric) {\n\t\tcase 'eventPayouts':\n\t\t\treturn parseFloat(formatTokenAmount(value, 18))\n\t\tcase 'eventCounts':\n\t\t\treturn parseInt(value, 10)\n\t\tdefault:\n\t\t\treturn value\n\t}\n}\n\nexport const selectStatsChartData = createSelector(\n\t[\n\t\t(state, { noLastOne, ...rest } = {}) => {\n\t\t\treturn { data: selectAnalyticsDataAggr(state, rest), noLastOne, ...rest }\n\t\t},\n\t],\n\t({ data = [], noLastOne, metric, timeframe, ...rest }) => {\n\t\tconst aggr = noLastOne ? data.slice(0, -1) : data\n\t\treturn aggr.reduce(\n\t\t\t(memo, item) => {\n\t\t\t\tconst { time, value } = item\n\t\t\t\tlet label = getPeriodDataPointLabel({ timeframe, time })\n\n\t\t\t\tmemo.labels.push(label)\n\t\t\t\tmemo.datasets.push(\n\t\t\t\t\tvalue !== null ? parseValueByMetric({ value, metric }) : value\n\t\t\t\t)\n\t\t\t\treturn memo\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabels: [],\n\t\t\t\tdatasets: [],\n\t\t\t}\n\t\t)\n\t}\n)\n\nexport const selectChartDatapointsImpressions = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: false,\n\t\t}),\n\t],\n\t([impressions]) => impressions\n)\n\nexport const selectChartDatapointsClicks = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'CLICK',\n\t\t\tmetric: 'eventCounts',\n\t\t\tnoLastOne: false,\n\t\t}),\n\t],\n\t([clicks]) => clicks\n)\n\nexport const selectChartDatapointsPayouts = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectStatsChartData(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t\teventType: 'IMPRESSION',\n\t\t\tmetric: 'eventPayouts',\n\t\t\tnoLastOne: false,\n\t\t}),\n\t],\n\t([payouts]) => payouts\n)\n\nexport const selectChartDatapointsCPM = createSelector(\n\t(state, { side, timeframe } = {}) => [\n\t\tselectChartDatapointsPayouts(state, { side, timeframe }),\n\t\tselectChartDatapointsImpressions(state, { side, timeframe }),\n\t],\n\t([payouts, impressions]) => {\n\t\tconst result = {\n\t\t\tlabels: [],\n\t\t\tdatasets: [],\n\t\t}\n\t\tresult.labels = payouts.labels\n\t\tresult.datasets = payouts.datasets.map((n, i) => {\n\t\t\treturn impressions.datasets[i] !== 0\n\t\t\t\t? ((n / impressions.datasets[i]) * 1000).toFixed(6)\n\t\t\t\t: n\n\t\t})\n\t\treturn result\n\t}\n)\n\nexport const selectPublisherReceipts = createSelector(\n\t[selectAnalytics],\n\t({ receipts }) => receipts || {}\n)\n\nexport const selectPublisherReceiptsPresentMonths = createSelector(\n\t[selectPublisherReceipts],\n\treceipts => Object.keys(receipts).map(r => +r)\n)\n\nexport const selectAnalyticsNowLabel = createSelector(\n\t[selectIdentitySideAnalyticsTimeframe, selectAnalyticsLastChecked],\n\t(timeframe, lastChecked) => {\n\t\tswitch (timeframe) {\n\t\t\tcase 'hour':\n\t\t\t\treturn dateUtils.format(\n\t\t\t\t\tdateUtils.date(lastChecked),\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\n\t\t\t\t)\n\t\t\tcase 'day':\n\t\t\t\treturn dateUtils.format(\n\t\t\t\t\tdateUtils.setMinutes(dateUtils.date(lastChecked), 0),\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\n\t\t\t\t)\n\t\t\tcase 'week':\n\t\t\t\treturn dateUtils.format(\n\t\t\t\t\tdateUtils.getHourSpanStart(lastChecked, 3),\n\t\t\t\t\tDEFAULT_DATETIME_FORMAT\n\t\t\t\t)\n\t\t\tdefault:\n\t\t\t\treturn dateUtils.format(dateUtils.date(), DEFAULT_DATETIME_FORMAT)\n\t\t}\n\t}\n)\n\nexport const selectAnalyticsMinAndMaxDates = createSelector(\n\t[\n\t\tselectCampaignInDetails,\n\t\tselectAccountIdentityCreatedDate,\n\t\tselectIdentitySideAnalyticsTimeframe,\n\t],\n\t(campaign = {}, dateCreated, timeframe) => {\n\t\tconst { activeFrom, withdrawPeriodStart, status = {} } = campaign\n\n\t\tconst minDate = getMinStartDateTimeByTimeframe({\n\t\t\ttimeframe,\n\t\t\ttime: dateUtils.date(activeFrom || dateCreated),\n\t\t})\n\t\tconst maxDate = getMinStartDateTimeByTimeframe({\n\t\t\ttimeframe,\n\t\t\ttime: status.closedDate || withdrawPeriodStart || dateUtils.date(),\n\t\t})\n\n\t\treturn {\n\t\t\tminDate: +minDate,\n\t\t\tmaxDate: +maxDate,\n\t\t}\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectValidations = state => state.memory.validations\n\nexport const selectValidationsById = createSelector(\n\t[selectValidations, (_, id) => id],\n\t(validations, id) => validations[id]\n)\n\nexport const selectMultipleValidationsByIds = createSelector(\n\t[selectValidations, (_, ids) => ids],\n\t(validations, ids) => ids.map(id => validations[id])\n)\n","import React from 'react'\nimport { createSelector } from 'reselect'\nimport { selectNewItemByTypeAndId, selectValidations } from 'selectors'\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\nimport { constants, IabCategories } from 'adex-models'\n\nimport { t } from './translationsSelectors'\n\nexport const selectTargeting = state => state.persist.targeting\n\nconst MIN_SLOTS_FOR_AD_TYPE = 2\nconst GLOBAL_MIN_CPM_MULTIPLIER = 0.7\n\nexport const selectTargetingAnalytics = createSelector(\n\t[selectTargeting],\n\t({ targetingData = [] }) => targetingData\n)\n\nexport const selectTargetingAnalyticsMinByCategories = createSelector(\n\t[selectTargeting],\n\t({ minByCategory = {} }) => minByCategory\n)\n\nexport const selectTargetingAnalyticsCountryTiersCoefficients = createSelector(\n\t[selectTargeting],\n\t({ countryTiersCoefficients = {} }) => countryTiersCoefficients\n)\n\nexport const selectMinTargetingCpm = createSelector(\n\t[\n\t\tselectTargetingAnalyticsMinByCategories,\n\t\tselectTargetingAnalyticsCountryTiersCoefficients,\n\t],\n\t(minByCategory, coefficients) => {\n\t\tconst minCat = Object.values(minByCategory).sort((a, b) => a - b)[0] || 0\n\t\tconst minCof = Object.values(coefficients).sort((a, b) => a - b)[0] || 0\n\t\tconst minCPM = minCat * minCof * GLOBAL_MIN_CPM_MULTIPLIER\n\n\t\treturn minCPM\n\t}\n)\n\nexport const selectVerifiedActiveTargetingAnalytics = createSelector(\n\t[selectTargetingAnalytics],\n\ttargetingAnalytics => {\n\t\tconst bySlotCount = targetingAnalytics.reduce((byType, x) => {\n\t\t\tx.types.forEach(t => {\n\t\t\t\tbyType[t] = (byType[t] || 0) + 1\n\t\t\t})\n\n\t\t\treturn byType\n\t\t}, {})\n\n\t\treturn targetingAnalytics\n\t\t\t.filter(\n\t\t\t\tx =>\n\t\t\t\t\t!!x.categories &&\n\t\t\t\t\tx.categories.length &&\n\t\t\t\t\tx.types &&\n\t\t\t\t\tx.types.length &&\n\t\t\t\t\t!!x.campaignsEarnedFrom\n\t\t\t)\n\t\t\t.map(t => ({\n\t\t\t\t...t,\n\t\t\t\ttypes: t.types.filter(x => bySlotCount[x] >= MIN_SLOTS_FOR_AD_TYPE),\n\t\t\t}))\n\t\t\t.filter(x => x.types.length)\n\t}\n)\n\nexport const selectTargetingAnalyticsCurrentlyUsedTypes = createSelector(\n\t[selectNewItemByTypeAndId],\n\titem => {\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\n\t}\n)\n\nexport const selectTargetingAnalyticsByType = createSelector(\n\t[\n\t\tselectVerifiedActiveTargetingAnalytics,\n\t\tselectTargetingAnalyticsCurrentlyUsedTypes,\n\t],\n\t(targetingAnalytics, types) => {\n\t\tconst filterByType = types && types.length\n\n\t\treturn targetingAnalytics.filter(\n\t\t\tx =>\n\t\t\t\t!filterByType || (filterByType && types.some(t => x.types.includes(t)))\n\t\t)\n\t}\n)\n\nexport const selectTargetingCategoriesByType = createSelector(\n\t[selectTargetingAnalyticsByType],\n\ttargeting =>\n\t\tArray.from(\n\t\t\ttargeting.reduce((categories, x) => {\n\t\t\t\tx.categories.forEach(c => categories.add(c))\n\t\t\t\treturn categories\n\t\t\t}, new Set())\n\t\t)\n)\n\nconst mapTargetingDataToPublishers = targetingData =>\n\tArray.from(\n\t\ttargetingData\n\t\t\t.reduce(\n\t\t\t\t(\n\t\t\t\t\tpublishers,\n\t\t\t\t\t{ owner, hostname, alexaRank, categories, reachPerMillion }\n\t\t\t\t) => {\n\t\t\t\t\tpublishers.set(hostname, {\n\t\t\t\t\t\towner,\n\t\t\t\t\t\thostname,\n\t\t\t\t\t\talexaRank,\n\t\t\t\t\t\tcategories,\n\t\t\t\t\t\treachPerMillion,\n\t\t\t\t\t})\n\t\t\t\t\treturn publishers\n\t\t\t\t},\n\t\t\t\tnew Map()\n\t\t\t)\n\t\t\t.values()\n\t)\n\nexport const selectTargetingPublishersByType = createSelector(\n\t[selectTargetingAnalyticsByType],\n\ttargeting => {\n\t\treturn mapTargetingDataToPublishers(targeting).sort((a, b) => {\n\t\t\tif (a.alexaRank && !b.alexaRank) {\n\t\t\t\treturn -1\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\n\t\t\t\treturn a.alexaRank - b.alexaRank\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\n\t\t\t\treturn 1\n\t\t\t} else {\n\t\t\t\treturn 1\n\t\t\t}\n\t\t})\n\t}\n)\n\nexport const selectTargetingCategories = createSelector(\n\t[selectTargetingAnalytics],\n\ttargeting =>\n\t\tArray.from(\n\t\t\ttargeting.reduce((categories, x) => {\n\t\t\t\tx.categories.forEach(c => categories.add(c))\n\t\t\t\treturn categories\n\t\t\t}, new Set())\n\t\t)\n)\n\n// It is used for exclusion so they are not filtered and are sorted from worst to best\nexport const selectAllTargetingPublishers = createSelector(\n\t[selectTargetingAnalytics],\n\ttargeting => {\n\t\treturn mapTargetingDataToPublishers(targeting).sort((a, b) => {\n\t\t\tif (a.alexaRank && !b.alexaRank) {\n\t\t\t\treturn 1\n\t\t\t} else if (a.alexaRank && b.alexaRank) {\n\t\t\t\treturn a.alexaRank - b.alexaRank\n\t\t\t} else if (!a.alexaRank && b.alexaRank) {\n\t\t\t\treturn -1\n\t\t\t} else {\n\t\t\t\treturn -1\n\t\t\t}\n\t\t})\n\t}\n)\n\n// NOTE: it can be constant but we may need some dynamic data\nconst autocompleteLocationsSingleSelect = createSelector(\n\t[],\n\t() => {\n\t\tconst tiers = Object.values(constants.CountryTiers).map(\n\t\t\t({ name, ruleValue, countries } = {}) => ({\n\t\t\t\tlabel: t(name),\n\t\t\t\textraLabel: countries.join(', '),\n\t\t\t\tvalue: ruleValue,\n\t\t\t\tgroup: t('BY_TIER'),\n\t\t\t})\n\t\t)\n\t\tconst all = constants.AllCountries.map(({ name, ruleValue } = {}) => ({\n\t\t\tlabel: t(name),\n\t\t\tvalue: ruleValue,\n\t\t\tgroup: name[0].toUpperCase(),\n\t\t}))\n\n\t\treturn [...tiers, ...all]\n\t}\n)\n\nconst autocompleteCategoriesMultiSelectIn = createSelector(\n\t[selectTargetingCategoriesByType],\n\tcategories =>\n\t\t[{ label: t('ALL_CATEGORIES'), value: 'ALL' }].concat(\n\t\t\tcategories.map(cat => ({\n\t\t\t\tlabel: t(IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat),\n\t\t\t\tvalue: cat,\n\t\t\t}))\n\t\t)\n)\n\nconst autocompleteCategoriesMultiSelectNin = createSelector(\n\t[selectTargetingCategories],\n\tcategories =>\n\t\tcategories.map(cat => ({\n\t\t\tlabel: t(IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat),\n\t\t\tvalue: cat,\n\t\t}))\n)\n\nconst getPublisherExtraDataLabel = publisher => [\n\t`${t('HOSTNAME')}: ${publisher.hostname}`,\n\t`${t('ALEXA_RANK')}: ${publisher.alexaRank || '-'}`,\n\t`${t('REACH_PER_MILLION')}: ${publisher.reachPerMillion || '-'}`,\n\t`${t('CATEGORIES')}: ${(publisher.categories || [])\n\t\t.map(\n\t\t\tcat => `\"${IabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat}\"`\n\t\t)\n\t\t.join(', ')}`,\n]\n\nconst autocompletePublishersMultiSelectIn = createSelector(\n\t[selectTargetingPublishersByType],\n\tpublishers =>\n\t\tpublishers.map(pub => ({\n\t\t\tlabel: pub.hostname,\n\t\t\tvalue: JSON.stringify({ hostname: pub.hostname, publisher: pub.owner }),\n\t\t\textraLabel: getPublisherExtraDataLabel(pub),\n\t\t\textraData: pub,\n\t\t}))\n)\n\nconst autocompletePublishersMultiSelectNin = createSelector(\n\t[selectAllTargetingPublishers],\n\tpublishers =>\n\t\tpublishers.map(pub => ({\n\t\t\tlabel: pub.hostname,\n\t\t\tvalue: JSON.stringify({ hostname: pub.hostname, publisher: pub.owner }),\n\t\t\textraLabel: getPublisherExtraDataLabel(pub),\n\t\t\textraData: pub,\n\t\t}))\n)\n\nexport const audienceSources = [\n\t{\n\t\tparameter: 'location',\n\t\tapplyType: 'single',\n\t\tactions: [\n\t\t\t{ type: 'in', label: t('TARGET_COUNTRIES'), minSelected: 1 },\n\t\t\t{ type: 'nin', label: t('EXCLUDED_COUNTRIES'), minSelected: 1 },\n\t\t\t{ type: 'allin', label: t('SHOW_EVERYWHERE'), value: 'ALL' },\n\t\t],\n\t\textraInfo: t('LOCATION_TIERS_INFO', {\n\t\t\targs: [\n\t\t\t\t<ExternalAnchor\n\t\t\t\t\thref={'https://help.adex.network/hc/en-us/articles/360014629020'}\n\t\t\t\t>\n\t\t\t\t\t{t('HERE')}\n\t\t\t\t</ExternalAnchor>,\n\t\t\t],\n\t\t}),\n\t},\n\t{\n\t\tparameter: 'categories',\n\t\tapplyType: 'multiple',\n\t\tactions: [\n\t\t\t{ type: 'in', label: t('SHOW_SELECTED'), minSelected: 1 },\n\t\t\t{\n\t\t\t\ttype: 'nin',\n\t\t\t\tlabel: t('DONT_SHOW_SELECTED'),\n\t\t\t\tminSelected: 1,\n\t\t\t\tdisabledValues: ['ALL'],\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tparameter: 'publishers',\n\t\tapplyType: 'single',\n\t\tactions: [\n\t\t\t{ type: 'in', label: t('SHOW_ONLY_IN_SELECTED'), minSelected: 1 },\n\t\t\t{ type: 'nin', label: t('DONT_SHOW_IN_SELECTED'), minSelected: 1 },\n\t\t\t{ type: 'allin', label: t('SHOW_EVERYWHERE'), value: 'ALL' },\n\t\t],\n\t},\n\t{\n\t\tparameter: 'advanced',\n\t\tapplyType: 'multiple-checkbox',\n\t\tactions: [\n\t\t\t{\n\t\t\t\tvalue: 'includeIncentivized',\n\t\t\t\tlabel: t('INCLUDE_INCENTIVIZED_TRAFFIC'),\n\t\t\t\thelper: (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014543380-What-is-incentivized-traffic-'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LEARN_MORE')}\n\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: 'disableFrequencyCapping',\n\t\t\t\tlabel: t('DISABLE_FREQUENCY_CAPPING'),\n\t\t\t\thelper: (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014597299-What-is-frequency-capping-'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LEARN_MORE')}\n\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: 'limitDailyAverageSpending',\n\t\t\t\tlabel: t('LIMIT_AVERAGE_DAILY_SPENDING'),\n\t\t\t\thelper: (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360014597319-How-to-limit-your-average-daily-spend'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LEARN_MORE')}\n\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t),\n\t\t\t},\n\t\t],\n\t},\n]\n\nconst selectAutocompleteAudienceSources = createSelector(\n\t[\n\t\tautocompleteLocationsSingleSelect,\n\t\tautocompleteCategoriesMultiSelectIn,\n\t\tautocompleteCategoriesMultiSelectNin,\n\t\tautocompletePublishersMultiSelectIn,\n\t\tautocompletePublishersMultiSelectNin,\n\t],\n\t(locations, catIn, catNin, pubIn, pubNin) => ({\n\t\tlocation: {\n\t\t\tsingleValuesSrc: locations,\n\t\t},\n\t\tcategories: {\n\t\t\tmultipleValuesSrc: {\n\t\t\t\tin: catIn,\n\t\t\t\tnin: catNin,\n\t\t\t},\n\t\t},\n\t\tpublishers: {\n\t\t\tmultipleValuesSrc: {\n\t\t\t\tin: pubIn,\n\t\t\t\tnin: pubNin,\n\t\t\t},\n\t\t},\n\t})\n)\n\nexport const selectAudienceInputItemOptions = createSelector(\n\t[selectNewItemByTypeAndId],\n\titem => {\n\t\treturn item && item.adUnits ? item.adUnits.map(u => u.type) : null\n\t}\n)\n\nconst getDisabledValues = (data, source, inputs, allSrcs) => {\n\tconst disabled = []\n\n\tif (\n\t\tdata.parameter === 'publishers' &&\n\t\tinputs.categories &&\n\t\tinputs.categories.apply &&\n\t\tinputs.categories.apply.includes('in') &&\n\t\tinputs.categories.in &&\n\t\tinputs.categories.in.length\n\t) {\n\t\tdisabled.in = inputs.categories.in.includes('ALL')\n\t\t\t? []\n\t\t\t: source\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tx =>\n\t\t\t\t\t\t\t!x.extraData.categories.some(c =>\n\t\t\t\t\t\t\t\tinputs.categories.in.includes(c)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t.map(c => c.value)\n\t} else if (\n\t\tdata.parameter === 'categories' &&\n\t\tinputs.publishers &&\n\t\tinputs.publishers.apply &&\n\t\tinputs.publishers.apply === 'in' &&\n\t\tinputs.publishers.in &&\n\t\tinputs.publishers.in.length\n\t) {\n\t\tconst selectedPublishersCategories = new Set()\n\t\tallSrcs\n\t\t\t.find(s => s.parameter === 'publishers')\n\t\t\t.source.in.forEach(p => {\n\t\t\t\tif (inputs.publishers.in.includes(p.value)) {\n\t\t\t\t\tp.extraData.categories.forEach(c =>\n\t\t\t\t\t\tselectedPublishersCategories.add(c)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t})\n\n\t\tdisabled.in = source\n\t\t\t.filter(\n\t\t\t\tc => c.value !== 'ALL' && !selectedPublishersCategories.has(c.value)\n\t\t\t)\n\t\t\t.map(c => c.value)\n\t}\n\n\treturn disabled\n}\n\nexport const selectAudienceSourcesWithOptions = createSelector(\n\t[selectAutocompleteAudienceSources],\n\tsourcesData =>\n\t\taudienceSources.map(s => {\n\t\t\tconst source = (sourcesData[s.parameter] || {}).multipleValuesSrc\n\t\t\t\t? sourcesData[s.parameter].multipleValuesSrc\n\t\t\t\t: {}\n\n\t\t\tif ((sourcesData[s.parameter] || {}).singleValuesSrc) {\n\t\t\t\ts.actions.forEach(a => {\n\t\t\t\t\tsource[a.type] = a.value || sourcesData[s.parameter].singleValuesSrc\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...s,\n\t\t\t\tsource,\n\t\t\t}\n\t\t})\n)\n\nexport const selectAudienceValidations = createSelector(\n\t[selectValidations, (_, __, ___, validateId) => validateId],\n\t(validations, id) => validations[id]\n)\n\nexport const selectAudienceInputsDataByItem = createSelector(\n\t[\n\t\tselectAudienceSourcesWithOptions,\n\t\tselectNewItemByTypeAndId,\n\t\tselectAudienceValidations,\n\t\t(_, __, ___, ____, advancedOnly) => advancedOnly,\n\t],\n\t(allSrcsWithOptions, selectedItem, validations = {}, advancedOnly) => {\n\t\tconst isCampaignAudienceItem = selectedItem && !!selectedItem.audienceInput\n\n\t\tconst errors =\n\t\t\tvalidations[isCampaignAudienceItem ? 'audienceInput' : 'inputs'] || {}\n\n\t\tconst errorParameters = errors.dirty ? errors.errFields || {} : {}\n\n\t\tconst inputs =\n\t\t\t(isCampaignAudienceItem\n\t\t\t\t? selectedItem.audienceInput.inputs\n\t\t\t\t: selectedItem.inputs) || {}\n\n\t\tconst SOURCES = allSrcsWithOptions\n\t\t\t.filter(s =>\n\t\t\t\t!!advancedOnly ? s.parameter === 'advanced' : s.parameter !== 'advanced'\n\t\t\t)\n\t\t\t.map(s => {\n\t\t\t\tconst disabledValues = getDisabledValues(\n\t\t\t\t\ts,\n\t\t\t\t\t//TODO: temp only used for in, so there is no point making it to work with other action types\n\t\t\t\t\ts.source.in,\n\t\t\t\t\tinputs,\n\t\t\t\t\tallSrcsWithOptions\n\t\t\t\t)\n\n\t\t\t\tconst source = { ...s.source }\n\t\t\t\tif (\n\t\t\t\t\t!!source.in &&\n\t\t\t\t\tsource.in.length &&\n\t\t\t\t\t!!disabledValues.in &&\n\t\t\t\t\tdisabledValues.in.length\n\t\t\t\t) {\n\t\t\t\t\tsource.in = [...source.in].sort((a, b) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tdisabledValues.in.includes(a.value) &&\n\t\t\t\t\t\t\t!disabledValues.in.includes(b.value)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn 1\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t!disabledValues.in.includes(a.value) &&\n\t\t\t\t\t\t\tdisabledValues.in.includes(b.value)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn -1\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn 0\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\t...s,\n\t\t\t\t\tsource,\n\t\t\t\t\tdisabledValues,\n\t\t\t\t}\n\t\t\t})\n\n\t\tconst audienceInputData = { SOURCES, inputs, errorParameters }\n\n\t\treturn audienceInputData\n\t}\n)\n","import { createSelector } from 'reselect'\n\nexport const selectNewTransactions = state => state.memory.newTransactions\n\nexport const selectNewTransactionById = createSelector(\n\t[selectNewTransactions, (_, id) => id],\n\t(txns, id) => txns[id] || {}\n)\n","import { createSelector } from 'reselect'\nimport {\n\tt,\n\tselectCampaignsArray,\n\tselectRoutineWithdrawTokens,\n\tselectAdSlotsArray,\n\tselectAdUnits,\n\tcreatArrayOnlyLengthChangeSelector,\n\tselectCampaignAnalyticsByChannelStats,\n\tselectCampaignEventsCount,\n\tselectCampaignAnalyticsByChannelToAdUnit,\n\tselectTotalStatsByAdUnits,\n\tselectCampaignUnitsById,\n\tselectMainToken,\n\tselectAnalytics,\n\tselectPublisherAdvanceStatsToAdUnit,\n\tselectPublisherStatsByCountry,\n\tselectCampaignAnalyticsByChannelToCountry,\n\tselectCampaignAnalyticsByChannelToCountryPay,\n\tselectPublisherAggrStatsByCountry,\n\tselectCampaignAggrStatsByCountry,\n\tselectPublisherPayStatsByCountry,\n\tselectPublisherAdvanceStatsToAdSlot,\n\tselectSavedAudiences,\n\tselectAudienceByCampaignId,\n\tselectCampaignById,\n} from 'selectors'\nimport { formatUnits } from 'ethers/utils'\nimport chartCountriesData from 'world-atlas/countries-50m.json'\nimport { scaleLinear } from 'd3-scale'\nimport { formatAbbrNum } from 'helpers/formatters'\nimport {\n\tPRIMARY_DARKEST,\n\tPRIMARY_LIGHTEST,\n\tSECONDARY,\n\tSECONDARY_LIGHT,\n} from 'components/App/themeMUi'\nimport { grey } from '@material-ui/core/colors'\nimport { constants } from 'adex-models'\nimport { number } from 'prop-types'\nconst { CountryNames, numericToAlpha2 } = constants\n\nexport const selectCampaignsTableData = createSelector(\n\t[selectCampaignsArray, selectRoutineWithdrawTokens, (_, side) => side],\n\t(campaigns, tokens, side) =>\n\t\tcampaigns\n\t\t\t.filter(x => !x.archived)\n\t\t\t.map(item => {\n\t\t\t\tconst { decimals = 18 } = tokens[item.depositAsset] || {}\n\t\t\t\tconst { id, spec = {}, adUnits = [] } = item\n\n\t\t\t\tconst firstUnit = adUnits[0] || {}\n\n\t\t\t\tconst to = `/dashboard/${side}/campaigns/${id}`\n\t\t\t\tconst toReceipt = `/dashboard/${side}/receipt/${id}`\n\n\t\t\t\treturn {\n\t\t\t\t\tmedia: {\n\t\t\t\t\t\tside,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tmediaUrl: firstUnit.mediaUrl || '',\n\t\t\t\t\t\tmediaMime: firstUnit.mediaMime || '',\n\t\t\t\t\t\tto,\n\t\t\t\t\t},\n\t\t\t\t\ttitle: item.title,\n\t\t\t\t\tstatus: {\n\t\t\t\t\t\thumanFriendlyName: item.status.humanFriendlyName,\n\t\t\t\t\t\toriginalName: item.status.name,\n\t\t\t\t\t},\n\t\t\t\t\tdepositAmount: Number(\n\t\t\t\t\t\tformatUnits(item.depositAmount || '0', decimals)\n\t\t\t\t\t),\n\t\t\t\t\tfundsDistributedRatio: item.status.fundsDistributedRatio || 0,\n\t\t\t\t\timpressions: selectCampaignEventsCount('IMPRESSION', id),\n\t\t\t\t\tclicks: selectCampaignEventsCount('CLICK', id),\n\n\t\t\t\t\tctr:\n\t\t\t\t\t\t(selectCampaignEventsCount('CLICK', id) /\n\t\t\t\t\t\t\tselectCampaignEventsCount('IMPRESSION', id)) *\n\t\t\t\t\t\t\t100 || 0,\n\n\t\t\t\t\tminPerImpression: {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tminPerImpression:\n\t\t\t\t\t\t\tNumber(\n\t\t\t\t\t\t\t\tformatUnits(\n\t\t\t\t\t\t\t\t\tspec.minPerImpression || item.minPerImpression || '0',\n\t\t\t\t\t\t\t\t\tdecimals\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) * 1000,\n\t\t\t\t\t},\n\t\t\t\t\tcreated: item.created,\n\t\t\t\t\tactiveFrom: spec.activeFrom || item.activeFrom,\n\t\t\t\t\twithdrawPeriodStart:\n\t\t\t\t\t\tspec.withdrawPeriodStart || item.withdrawPeriodStart,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tside,\n\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tto,\n\t\t\t\t\t\ttoReceipt,\n\t\t\t\t\t\treceiptReady:\n\t\t\t\t\t\t\t(item.status.humanFriendlyName === 'Closed' ||\n\t\t\t\t\t\t\t\titem.status.humanFriendlyName === 'Completed') &&\n\t\t\t\t\t\t\t(item.status.name === 'Exhausted' ||\n\t\t\t\t\t\t\t\titem.status.name === 'Expired'),\n\t\t\t\t\t},\n\t\t\t\t\tid,\n\t\t\t\t\treceiptAvailable:\n\t\t\t\t\t\titem.status.humanFriendlyName === 'Closed' ||\n\t\t\t\t\t\titem.status.humanFriendlyName === 'Completed',\n\t\t\t\t}\n\t\t\t})\n)\n\nexport const selectCampaignsTableDataOnLengthChange = creatArrayOnlyLengthChangeSelector(\n\tselectCampaignsTableData,\n\tdata => data\n)\n\nexport const selectCampaignsMaxImpressions = createSelector(\n\tselectCampaignsArray,\n\tcampaigns =>\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.impressions || 0))) || 1\n)\n\nexport const selectCampaignsMaxClicks = createSelector(\n\tselectCampaignsArray,\n\tcampaigns =>\n\t\tMath.max.apply(null, campaigns.map(i => Number(i.clicks || 0))) || 1\n)\n\nexport const selectCampaignsMaxDeposit = createSelector(\n\t[selectCampaignsArray, selectRoutineWithdrawTokens],\n\t(campaigns, tokens) =>\n\t\tMath.max.apply(\n\t\t\tnull,\n\t\t\tcampaigns.map(i => {\n\t\t\t\tconst { decimals = 18 } = tokens[i.depositAsset] || {}\n\t\t\t\treturn Number(formatUnits(i.depositAmount, decimals) || 0)\n\t\t\t})\n\t\t)\n)\n\nexport const selectAdSlotsTableData = createSelector(\n\t[selectAdSlotsArray, selectPublisherAdvanceStatsToAdSlot, (_, side) => side],\n\t(\n\t\tslots,\n\t\t{\n\t\t\timpressionsByAdSlot,\n\t\t\tclicksByAdSlot,\n\t\t\timpressionsPayByAdSlot,\n\t\t\tclicksPayByAdSlot,\n\t\t},\n\t\tside\n\t) =>\n\t\tslots\n\t\t\t.filter(x => !x.archived)\n\t\t\t.map(item => {\n\t\t\t\tconst id = item.id || item.ipfs\n\t\t\t\tconst to = `/dashboard/${side}/slots/${id}`\n\n\t\t\t\tconst { title, mediaUrl, mediaMime, type, created } = item\n\n\t\t\t\tconst clicks = clicksByAdSlot[id]\n\t\t\t\tconst impressions = impressionsByAdSlot[id]\n\t\t\t\treturn {\n\t\t\t\t\tmedia: {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tmediaUrl,\n\t\t\t\t\t\tmediaMime,\n\t\t\t\t\t\tto,\n\t\t\t\t\t},\n\t\t\t\t\ttitle: title,\n\t\t\t\t\ttype: type.replace('legacy_', ''),\n\t\t\t\t\tcreated: created,\n\t\t\t\t\timpressions,\n\t\t\t\t\tclicks,\n\t\t\t\t\tctr: ((clicks || 0) / (impressions || 1)) * 100,\n\t\t\t\t\tearnings:\n\t\t\t\t\t\tNumber(impressionsPayByAdSlot[id] || 0) +\n\t\t\t\t\t\tNumber(clicksPayByAdSlot[id] || 0),\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tto,\n\t\t\t\t\t\titem,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t})\n)\n\nexport const selectAdUnitsTableData = createSelector(\n\t[\n\t\t(state, { side, campaignId, items }) => {\n\t\t\tconst selectOnImage = !!items\n\t\t\treturn {\n\t\t\t\tselectOnImage,\n\t\t\t\tside,\n\t\t\t\titems:\n\t\t\t\t\titems ||\n\t\t\t\t\t(campaignId\n\t\t\t\t\t\t? selectCampaignUnitsById(state, campaignId)\n\t\t\t\t\t\t: selectAdUnits(state)),\n\t\t\t\timpressionsByAdUnit: id =>\n\t\t\t\t\tcampaignId\n\t\t\t\t\t\t? selectCampaignAnalyticsByChannelToAdUnit(state, {\n\t\t\t\t\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\t\t\t\t\tcampaignId,\n\t\t\t\t\t\t  })[id]\n\t\t\t\t\t\t: selectTotalStatsByAdUnits(state, {\n\t\t\t\t\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\t\t\t\t\tadUnitId: id,\n\t\t\t\t\t\t  }),\n\t\t\t\tclicksByAdUnit: id =>\n\t\t\t\t\tcampaignId\n\t\t\t\t\t\t? selectCampaignAnalyticsByChannelToAdUnit(state, {\n\t\t\t\t\t\t\t\ttype: 'CLICK',\n\t\t\t\t\t\t\t\tcampaignId,\n\t\t\t\t\t\t  })[id]\n\t\t\t\t\t\t: selectTotalStatsByAdUnits(state, {\n\t\t\t\t\t\t\t\ttype: 'CLICK',\n\t\t\t\t\t\t\t\tadUnitId: id,\n\t\t\t\t\t\t  }),\n\t\t\t}\n\t\t},\n\t],\n\t({ selectOnImage, side, items, impressionsByAdUnit, clicksByAdUnit }) =>\n\t\tObject.values(items)\n\t\t\t.filter(x => !x.archived)\n\t\t\t.map(item => {\n\t\t\t\tconst id = item.id || item.ipfs\n\t\t\t\tconst to = `/dashboard/${side}/units/${id}`\n\t\t\t\tconst { title, mediaUrl, mediaMime, type, created } = item\n\n\t\t\t\treturn {\n\t\t\t\t\tid,\n\t\t\t\t\tmedia: {\n\t\t\t\t\t\tselectOnImage,\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tmediaUrl,\n\t\t\t\t\t\tmediaMime,\n\t\t\t\t\t\tto,\n\t\t\t\t\t},\n\t\t\t\t\timpressions: impressionsByAdUnit(id) || 0,\n\t\t\t\t\tclicks: clicksByAdUnit(id) || 0,\n\t\t\t\t\tctr: (clicksByAdUnit(id) / impressionsByAdUnit(id)) * 100 || 0,\n\t\t\t\t\ttitle,\n\t\t\t\t\ttype,\n\t\t\t\t\tcreated,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tto,\n\t\t\t\t\t\titem,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t})\n)\n\nexport const selectAudiencesTableData = createSelector(\n\t[selectSavedAudiences],\n\taudiences =>\n\t\taudiences\n\t\t\t.filter(x => !x.archived)\n\t\t\t.map(item => {\n\t\t\t\tconst { id, title, inputs, version, created, updated } = item\n\n\t\t\t\tconst to = `/dashboard/advertiser/audiences/${id}`\n\n\t\t\t\treturn {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\ttitle: title || id,\n\t\t\t\t\t\tto,\n\t\t\t\t\t},\n\t\t\t\t\tcreated,\n\t\t\t\t\tupdated,\n\t\t\t\t\tactions: {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\taudienceInput: { inputs, version },\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tto: `/dashboard/advertiser/audiences/${id}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t})\n)\n\nconst mapByCountryTableData = ({\n\timpressionsByCountry,\n\tclicksByCountry,\n\timpressionsAggrByCountry,\n\timpressionsPayByCountry,\n\tclicksPayByCountry,\n} = {}) => {\n\tconst addEarnings = impressionsPayByCountry && clicksPayByCountry\n\t// NOTE: assume that there are no click without impressions\n\treturn Object.keys(impressionsByCountry).map(key => {\n\t\treturn {\n\t\t\tcountryName: CountryNames[key],\n\t\t\timpressions: impressionsByCountry[key] || 0,\n\t\t\tpercentImpressions:\n\t\t\t\t((impressionsByCountry[key] || 0) /\n\t\t\t\t\t(impressionsAggrByCountry.total || 1)) *\n\t\t\t\t100,\n\t\t\tclicks: clicksByCountry[key] || 0,\n\n\t\t\tctr:\n\t\t\t\t((clicksByCountry[key] || 0) / (impressionsByCountry[key] || 1)) * 100,\n\t\t\t...(addEarnings && {\n\t\t\t\tearnings:\n\t\t\t\t\t(impressionsPayByCountry[key] || 0) + (clicksPayByCountry[key] || 0),\n\t\t\t\taverageCPM:\n\t\t\t\t\t(Number(impressionsPayByCountry[key] || 0) /\n\t\t\t\t\t\tNumber(impressionsByCountry[key] || 1)) *\n\t\t\t\t\t1000,\n\t\t\t}),\n\t\t}\n\t})\n}\n\nexport const selectPublisherStatsByCountryData = createSelector(\n\t[\n\t\tstate => selectPublisherStatsByCountry(state, 'IMPRESSION'),\n\t\tstate => selectPublisherStatsByCountry(state, 'CLICK'),\n\t\tstate => selectPublisherAggrStatsByCountry(state, 'IMPRESSION'),\n\t\tstate => selectPublisherPayStatsByCountry(state, 'IMPRESSION'),\n\t\tstate => selectPublisherPayStatsByCountry(state, 'CLICK'),\n\t],\n\t(\n\t\timpressionsByCountry,\n\t\tclicksByCountry,\n\t\timpressionsAggrByCountry,\n\t\timpressionsPayByCountry,\n\t\tclicksPayByCountry\n\t) => ({\n\t\timpressionsByCountry,\n\t\tclicksByCountry,\n\t\timpressionsAggrByCountry,\n\t\timpressionsPayByCountry,\n\t\tclicksPayByCountry,\n\t})\n)\n\nexport const selectCampaignAnalyticsToCountryData = createSelector(\n\t(state, { campaignId }) => {\n\t\treturn [\n\t\t\tselectCampaignAnalyticsByChannelToCountry(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tselectCampaignAnalyticsByChannelToCountry(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tselectCampaignAggrStatsByCountry(state, {\n\t\t\t\tcampaignId,\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t}),\n\t\t\tselectCampaignAnalyticsByChannelToCountryPay(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tselectCampaignAnalyticsByChannelToCountryPay(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t]\n\t},\n\t([\n\t\timpressionsByCountry,\n\t\tclicksByCountry,\n\t\timpressionsAggrByCountry,\n\t\timpressionsPayByCountry,\n\t\tclicksPayByCountry,\n\t]) => {\n\t\treturn {\n\t\t\timpressionsByCountry,\n\t\t\tclicksByCountry,\n\t\t\timpressionsAggrByCountry,\n\t\t\timpressionsPayByCountry,\n\t\t\tclicksPayByCountry,\n\t\t}\n\t}\n)\n\nexport const selectPublisherStatsByCountryTableData = createSelector(\n\tselectPublisherStatsByCountryData,\n\tdata => mapByCountryTableData(data)\n)\n\nexport const selectCampaignAnalyticsToCountryTableData = createSelector(\n\t[\n\t\t(state, { campaignId }) => {\n\t\t\treturn selectCampaignAnalyticsToCountryData(state, { campaignId })\n\t\t},\n\t],\n\tdata => mapByCountryTableData(data)\n)\n\nconst mapByCountryMapChartData = ({\n\timpressionsByCountry,\n\tclicksByCountry,\n\timpressionsAggrByCountry,\n} = {}) => {\n\tconst colorScale = scaleLinear()\n\t\t.domain([0, impressionsAggrByCountry.max])\n\t\t.range([PRIMARY_LIGHTEST, PRIMARY_DARKEST])\n\n\tconst hoverColor = SECONDARY\n\tconst pressedColor = SECONDARY_LIGHT\n\tconst chartData = { ...chartCountriesData }\n\n\tchartData.objects.countries.geometries = chartCountriesData.objects.countries.geometries.map(\n\t\tdata => {\n\t\t\tconst id = numericToAlpha2(data.id)\n\t\t\tconst impressions = impressionsByCountry[id] || 0\n\t\t\tconst clicks = clicksByCountry[id] || 0\n\t\t\tconst name = CountryNames[id] || data.name\n\t\t\tconst percentImpressions =\n\t\t\t\t((impressions || 0) / impressionsAggrByCountry.total) * 100 || 0\n\t\t\tconst ctr = ((clicks || 0) / (impressions || 1)) * 100 || 0\n\t\t\tconst tooltipElements = [\n\t\t\t\t`${name}:`,\n\t\t\t\t`${t('LABEL_IMPRESSIONS')}: ${formatAbbrNum(impressions, 2)}`,\n\t\t\t\t`${t('LABEL_CLICKS')}: ${formatAbbrNum(clicks, 2)}`,\n\t\t\t\t`${t('LABEL_PERC')}: ${percentImpressions.toFixed(2)} %`,\n\t\t\t\t`${t('LABEL_CTR')}: ${ctr.toFixed(4)} %`,\n\t\t\t]\n\n\t\t\tconst fillColor = impressions > 0 ? colorScale(impressions) : grey[400]\n\n\t\t\tconst properties = {\n\t\t\t\tname,\n\t\t\t\tfillColor,\n\t\t\t\ttooltipElements,\n\t\t\t}\n\n\t\t\treturn { ...data, properties }\n\t\t}\n\t)\n\n\treturn { chartData, hoverColor, pressedColor }\n}\n\nexport const selectPublisherStatsByCountryMapChartData = createSelector(\n\t[selectPublisherStatsByCountryData],\n\tdata => mapByCountryMapChartData(data)\n)\n\nexport const selectCampaignAnalyticsToCountryMapChartData = createSelector(\n\t[\n\t\t(state, { campaignId }) =>\n\t\t\tselectCampaignAnalyticsToCountryData(state, { campaignId }),\n\t],\n\tdata => mapByCountryMapChartData(data)\n)\n\nexport const selectBestEarnersTableData = createSelector(\n\tselectPublisherAdvanceStatsToAdUnit,\n\titems =>\n\t\titems.map(item => {\n\t\t\tconst {\n\t\t\t\tid,\n\t\t\t\tmediaUrl,\n\t\t\t\tmediaMime,\n\t\t\t\ttype,\n\t\t\t\timpressions,\n\t\t\t\tclicks,\n\t\t\t\timpressionsPay,\n\t\t\t\tclicksPay,\n\t\t\t} = item\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\tmedia: {\n\t\t\t\t\tid,\n\t\t\t\t\tmediaUrl,\n\t\t\t\t\tmediaMime,\n\t\t\t\t},\n\t\t\t\ttype,\n\t\t\t\timpressions,\n\t\t\t\tclicks,\n\t\t\t\tctr: ((clicks || 0) / (impressions || 1)) * 100,\n\t\t\t\tearnings: impressionsPay + clicksPay,\n\t\t\t}\n\t\t})\n)\n\nexport const selectCampaignStatsTableData = createSelector(\n\t[\n\t\tselectAudienceByCampaignId,\n\t\t(state, campaignId) => {\n\t\t\treturn {\n\t\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\t\tcampaignId,\n\t\t\t\t}),\n\t\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\t\ttype: 'CLICK',\n\t\t\t\t\tcampaignId,\n\t\t\t\t}),\n\t\t\t}\n\t\t},\n\t],\n\t(campaignAudienceInput, { impressions, clicks }) => {\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\n\t\tconst earnStats = impressions.reportChannelToHostnamePay || {}\n\n\t\tconst rules = campaignAudienceInput\n\t\t\t? campaignAudienceInput.inputs.publishers\n\t\t\t: null\n\n\t\treturn Object.keys(imprStats).map(key => ({\n\t\t\tisBlacklisted:\n\t\t\t\trules &&\n\t\t\t\t((rules.apply === 'nin' &&\n\t\t\t\t\t(rules.nin || []).some(x => x.includes(key))) ||\n\t\t\t\t\t(rules.apply === 'ni' &&\n\t\t\t\t\t\t!(rules.in || []).some(x => x.includes(key)))),\n\n\t\t\twebsite: key,\n\t\t\timpressions: imprStats[key] || 0,\n\t\t\tctr: ((clickStats[key] || 0) / (imprStats[key] || 1)) * 100,\n\t\t\tearnings: Number(earnStats[key] || 0),\n\t\t\taverageCPM:\n\t\t\t\t(Number(earnStats[key] || 0) / Number(imprStats[key] || 1)) * 1000,\n\t\t\tclicks: clickStats[key] || 0,\n\t\t}))\n\t}\n)\n\nexport const selectCampaignTotalValues = createSelector(\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\t\t\t\tnewResult.totalClicks += current.clicks\n\t\t\t\tnewResult.totalImpressions += current.impressions\n\t\t\t\tnewResult.totalEarnings += current.earnings\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ totalClicks: 0, totalImpressions: 0, totalEarnings: 0 }\n\t\t)\n)\n\nexport const selectCampaignStatsMaxValues = createSelector(\n\t(state, channelId) => selectCampaignStatsTableData(state, channelId),\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\n\t\t\t\tnewResult.maxImpressions = Math.max(\n\t\t\t\t\tcurrent.impressions,\n\t\t\t\t\tnewResult.maxImpressions\n\t\t\t\t)\n\t\t\t\tnewResult.maxEarnings = Math.max(\n\t\t\t\t\tcurrent.earnings,\n\t\t\t\t\tnewResult.maxEarnings\n\t\t\t\t)\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxEarnings: 0, maxCTR: 0 }\n\t\t)\n)\n\nexport const selectAdUnitsStatsMaxValues = createSelector(\n\t(state, { side, items, campaignId }) =>\n\t\tselectAdUnitsTableData(state, { side, items, campaignId }),\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\n\t\t\t\tnewResult.maxClicks = Math.max(current.clicks, newResult.maxClicks)\n\t\t\t\tnewResult.maxCTR = Math.max(current.ctr, newResult.maxCTR)\n\t\t\t\tnewResult.maxImpressions = Math.max(\n\t\t\t\t\tcurrent.impressions,\n\t\t\t\t\tnewResult.maxImpressions\n\t\t\t\t)\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ maxClicks: 0, maxImpressions: 0, maxCTR: 0 }\n\t\t)\n)\n\nexport const selectPublisherReceiptsStatsByMonthTableData = createSelector(\n\t[selectAnalytics, selectMainToken, (_, date) => date],\n\t({ receipts }, token, date) => {\n\t\tconst result = []\n\t\tif (receipts && receipts[date]) {\n\t\t\tconst { decimals = 18 } = token || {}\n\t\t\tfor (let [key, value] of Object.entries(receipts[date])) {\n\t\t\t\tresult.push({\n\t\t\t\t\timpressions: value.impressions,\n\t\t\t\t\tpayouts: Number(formatUnits(value.payouts || '0', decimals)),\n\t\t\t\t\tdate: +key,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\treturn result\n\t}\n)\n\nexport const selectPublisherReceiptsStatsByMonthTotalValues = createSelector(\n\t[selectPublisherReceiptsStatsByMonthTableData],\n\tdata =>\n\t\tdata.reduce(\n\t\t\t(result, current) => {\n\t\t\t\tconst newResult = { ...result }\n\t\t\t\tnewResult.totalPayouts += +current.payouts\n\t\t\t\tnewResult.totalImpressions += +current.impressions\n\t\t\t\treturn newResult\n\t\t\t},\n\t\t\t{ totalPayouts: 0, totalImpressions: 0 }\n\t\t)\n)\n","import { createSelector } from 'reselect'\nimport { t, selectCampaignAnalyticsByChannelStats } from 'selectors'\n\nexport const selectCampaignDoughnutStats = createSelector(\n\t(state, { campaignId, chartColors, maxDataSets }) => {\n\t\tconst analytics = {\n\t\t\timpressions: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'IMPRESSION',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t\tclicks: selectCampaignAnalyticsByChannelStats(state, {\n\t\t\t\ttype: 'CLICK',\n\t\t\t\tcampaignId,\n\t\t\t}),\n\t\t}\n\n\t\treturn { ...analytics, chartColors, maxDataSets }\n\t},\n\t({ impressions, clicks, chartColors, maxDataSets }) => {\n\t\tconst imprStats = impressions.reportChannelToHostname || {}\n\t\tconst clickStats = clicks.reportChannelToHostname || {}\n\n\t\tconst { labels, impressionsData, clicksData } = Object.keys(imprStats)\n\t\t\t.sort((a, b) => imprStats[b] - imprStats[a])\n\t\t\t.reduce(\n\t\t\t\t(data, key, i) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tif (i < maxDataSets) {\n\t\t\t\t\t\tnewData.labels.push(key)\n\t\t\t\t\t\tnewData.impressionsData.push(imprStats[key] || 0)\n\t\t\t\t\t\tdata.clicksData.push(clickStats[key] || 0)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata.labels[maxDataSets] = t('PIE_CHART_OTHER')\n\n\t\t\t\t\t\tdata.impressionsData[maxDataSets] =\n\t\t\t\t\t\t\t(data.impressionsData[maxDataSets] || 0) + (imprStats[key] || 0)\n\n\t\t\t\t\t\tdata.clicksData[maxDataSets] =\n\t\t\t\t\t\t\t(data.clicksData[maxDataSets] || 0) + (clickStats[key] || 0)\n\t\t\t\t\t}\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{ labels: [], impressionsData: [], clicksData: [] }\n\t\t\t)\n\n\t\tconst data = {\n\t\t\tlabels,\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: chartColors,\n\t\t\t\t\thoverBackgroundColor: chartColors,\n\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\tdata: impressionsData,\n\t\t\t\t\tlabel: t('CHART_LABEL_IMPRESSIONS'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tbackgroundColor: chartColors,\n\t\t\t\t\thoverBackgroundColor: chartColors,\n\t\t\t\t\tborderWidth: 0,\n\t\t\t\t\tdata: clicksData,\n\t\t\t\t\tlabel: t('CHART_LABEL_CLICKS'),\n\t\t\t\t},\n\t\t\t],\n\t\t}\n\n\t\treturn data\n\t}\n)\n","import { bigNumberify, formatUnits } from 'ethers/utils'\nimport {\n\tt,\n\tselectDemandAnalytics,\n\tselectMainToken,\n\tselectWebsitesArray,\n\tselectVerifiedActiveTargetingAnalytics,\n} from 'selectors'\nimport { createSelector } from 'reselect'\nimport { constants } from 'adex-models'\nimport { WHERE_YOU_KNOW_US } from 'constants/misc'\nimport moment from 'moment'\n\nexport const selectSlotTypesSourceWithDemands = createSelector(\n\t[selectDemandAnalytics, selectMainToken],\n\t(demand, { symbol }) => {\n\t\tconst { source } = constants.AdUnitsTypes.map(type => {\n\t\t\treturn {\n\t\t\t\tvalue: type,\n\t\t\t\tlabel: type.split('_')[1],\n\t\t\t\tdemand: demand[type],\n\t\t\t}\n\t\t})\n\t\t\t.sort((a, b) => {\n\t\t\t\tconst dA = bigNumberify(a.demand ? a.demand.raw.avgCPM : 0)\n\t\t\t\tconst dB = bigNumberify(b.demand ? b.demand.raw.avgCPM : 0)\n\n\t\t\t\treturn dA.gt(dB) ? -1 : dB.gt(dA) ? 1 : 0\n\t\t\t})\n\t\t\t.reduce(\n\t\t\t\t(data, type, index) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tconst source = newData.source\n\t\t\t\t\tconst current = type\n\t\t\t\t\tif (index === 0 && type.demand) {\n\t\t\t\t\t\tnewData.hasPopularGroup = true\n\t\t\t\t\t\tsource.push({ group: t('POPULAR_SLOTS_TYPES') })\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\t!newData.hasNoDemandGroup &&\n\t\t\t\t\t\tnewData.hasPopularGroup &&\n\t\t\t\t\t\tindex !== 0 &&\n\t\t\t\t\t\t!type.demand\n\t\t\t\t\t) {\n\t\t\t\t\t\tnewData.hasNoDemandGroup = true\n\t\t\t\t\t\tsource.push({ group: t('NO_DEMAND_SLOTS_TYPES') })\n\t\t\t\t\t}\n\n\t\t\t\t\tif (current.demand) {\n\t\t\t\t\t\tconst demandIfo = t('SLOT_TYPE_DEMAND_INFO', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.avgCPM,\n\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t\tcurrent.demand.formatted.totalVolume,\n\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})\n\t\t\t\t\t\tcurrent.label = `${current.label} (${demandIfo})`\n\t\t\t\t\t}\n\t\t\t\t\tsource.push(current)\n\n\t\t\t\t\tnewData.source = source\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{ source: [], hasPopularGroup: false, hasNoDemandGroup: false }\n\t\t\t)\n\t\treturn source\n\t}\n)\n\nexport const selectVerifiedActiveTypes = createSelector(\n\t[selectVerifiedActiveTargetingAnalytics, selectMainToken],\n\t(targetingAnalytics, { decimals }) => {\n\t\tconst verified = targetingAnalytics.reduce((types, data) => {\n\t\t\tdata.types.forEach(t => {\n\t\t\t\tconst typeData = types.get(t) || {\n\t\t\t\t\tbyOwner: {},\n\t\t\t\t\tminSlotCount: 1,\n\t\t\t\t}\n\n\t\t\t\ttypeData.byOwner[data.owner] = typeData.byOwner[data.owner] || {}\n\t\t\t\t// As totalEarned is by owner we need it once\n\t\t\t\ttypeData.byOwner[data.owner].revenue =\n\t\t\t\t\ttypeData.byOwner[data.owner].revenue || data.totalEarned || '0'\n\n\t\t\t\ttypeData.byOwner[data.owner].campaignsEarnedFrom =\n\t\t\t\t\ttypeData.byOwner[data.owner].campaignsEarnedFrom ||\n\t\t\t\t\tdata.campaignsEarnedFrom ||\n\t\t\t\t\t1\n\t\t\t\ttypes.set(t, typeData)\n\t\t\t})\n\n\t\t\treturn types\n\t\t}, new Map())\n\n\t\tverified.forEach((value, key) => {\n\t\t\tconst totalRevenue = Object.values(value.byOwner).reduce(\n\t\t\t\t(total, r = {}) => total.add(bigNumberify(r.revenue || '0')),\n\t\t\t\tbigNumberify('0')\n\t\t\t)\n\n\t\t\tverified.set(key, {\n\t\t\t\trevenue: parseFloat(formatUnits(totalRevenue.toString(), decimals)),\n\t\t\t})\n\t\t})\n\n\t\treturn verified\n\t}\n)\n\nexport const selectUnitTypesSourceWithRecommendations = createSelector(\n\t[selectVerifiedActiveTypes, selectMainToken],\n\t(verifiedTypes, { symbol } = {}) => {\n\t\tconst totoShare = Array.from(verifiedTypes.values()).reduce(\n\t\t\t(total, { revenue = 0 }) => total + revenue,\n\t\t\t1\n\t\t)\n\n\t\tconst { source } = constants.AdUnitsTypes.map(type => ({\n\t\t\tvalue: type,\n\n\t\t\trevenue: (verifiedTypes.get(type) || {}).revenue || 0,\n\t\t}))\n\t\t\t.sort((a, b) => {\n\t\t\t\treturn b.revenue - a.revenue\n\t\t\t})\n\t\t\t.reduce(\n\t\t\t\t(data, type, index) => {\n\t\t\t\t\tconst newData = { ...data }\n\t\t\t\t\tconst source = newData.source\n\t\t\t\t\tconst { revenue, ...typeRest } = type\n\t\t\t\t\tconst current = { ...typeRest }\n\t\t\t\t\tcurrent.label = current.value.split('_')[1]\n\t\t\t\t\tif (index === 0 && revenue > 0) {\n\t\t\t\t\t\tnewData.hasPopularGroup = true\n\t\t\t\t\t\tsource.push({ group: t('MOST_POPULAR_UNITS_TYPES') })\n\t\t\t\t\t}\n\n\t\t\t\t\tconst share = revenue / totoShare\n\t\t\t\t\tif (\n\t\t\t\t\t\t!newData.hasLessPopularGroup &&\n\t\t\t\t\t\tnewData.hasPopularGroup &&\n\t\t\t\t\t\tindex !== 0 &&\n\t\t\t\t\t\tshare <= 0.01 // less than 1%\n\t\t\t\t\t) {\n\t\t\t\t\t\tnewData.hasLessPopularGroup = true\n\t\t\t\t\t\tsource.push({ group: t('LESS_POPULAR_UNITS_TYPES') })\n\t\t\t\t\t}\n\n\t\t\t\t\tsource.push(current)\n\n\t\t\t\t\tnewData.source = source\n\n\t\t\t\t\treturn newData\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tsource: [],\n\t\t\t\t\thasPopularGroup: false,\n\t\t\t\t\thasLessPopularGroup: false,\n\t\t\t\t}\n\t\t\t)\n\n\t\treturn source\n\t}\n)\n\nexport const selectMonthsRange = createSelector(\n\t[\n\t\t(startDate, endDate) => ({\n\t\t\tstartDate,\n\t\t\tendDate,\n\t\t}),\n\t],\n\t({ startDate, endDate }) => {\n\t\tconst months = []\n\t\tfor (\n\t\t\tvar m = moment(startDate).startOf('month');\n\t\t\tm.diff(moment(endDate).startOf('month')) <= 0;\n\t\t\tm.add(1, 'month')\n\t\t) {\n\t\t\tmonths.push(+m)\n\t\t}\n\t\treturn months\n\t}\n)\n\nexport const selectReceiptMonths = createSelector(\n\t[selectMonthsRange, (_, __, monthsEnd) => monthsEnd],\n\t(months, monthsEnd) =>\n\t\tmonths.map(monthTimestamp => ({\n\t\t\tvalue: monthTimestamp,\n\t\t\tlabel: !!monthsEnd\n\t\t\t\t? moment(monthTimestamp)\n\t\t\t\t\t\t.endOf('month')\n\t\t\t\t\t\t.format('Do MMMM, YYYY')\n\t\t\t\t: moment(monthTimestamp).format('Do MMMM, YYYY'),\n\t\t}))\n)\n\nexport const selectFromSource = createSelector(\n\tlabelValueMapping => labelValueMapping,\n\tsource =>\n\t\tsource.map(data => {\n\t\t\tconst translated = { ...data }\n\t\t\ttranslated.label = t(data.label)\n\t\t\treturn translated\n\t\t})\n)\n\nexport const selectKnowUsFromSource = createSelector(\n\t() => selectFromSource(WHERE_YOU_KNOW_US),\n\tsource => source\n)\n\nexport const websitesAutocompleteSrc = createSelector(\n\tselectWebsitesArray,\n\twebsites =>\n\t\twebsites.map(ws => {\n\t\t\tconst website = `https://${ws.id}`\n\t\t\treturn {\n\t\t\t\tlabel: website,\n\t\t\t\tvalue: website,\n\t\t\t\tstatus: ws.issues && ws.issues.length ? 'error' : 'success',\n\t\t\t}\n\t\t})\n)\n","import { createSelector } from 'reselect'\r\nimport {\r\n\tselectAdUnitsArray,\r\n\tselectCampaignsArray,\r\n\tselectAdSlotsArray,\r\n\tselectAccountIdentityDeployData,\r\n\tselectAccountStatsFormatted,\r\n\tselectPublisherTotalImpressions,\r\n} from 'selectors'\r\n\r\nexport const selectHasCreatedAdUnit = createSelector(\r\n\t[selectAdUnitsArray],\r\n\tadUnitsArray => adUnitsArray.length > 0\r\n)\r\n\r\nexport const selectHasCreatedCampaign = createSelector(\r\n\t[selectCampaignsArray],\r\n\tcampaignsArray => campaignsArray.length > 0\r\n)\r\n\r\nexport const selectHasConfirmedEmail = createSelector(\r\n\t[selectAccountIdentityDeployData],\r\n\t({ meta = {} }) => !!meta.emailConfirmed\r\n)\r\n\r\nexport const selectHasFundedAccount = createSelector(\r\n\t[selectAccountStatsFormatted, selectHasCreatedCampaign],\r\n\t({ identityBalanceMainToken }, hasCampaign) =>\r\n\t\thasCampaign || Number(identityBalanceMainToken) > 0\r\n)\r\n\r\nexport const selectHasCreatedAdSlot = createSelector(\r\n\tselectAdSlotsArray,\r\n\tadSlotsArray => adSlotsArray.length > 0\r\n)\r\n\r\nexport const selectHasAdSlotImpressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 0\r\n)\r\nexport const selectHas5000Impressions = createSelector(\r\n\tselectPublisherTotalImpressions,\r\n\ttotalImpressions => totalImpressions > 5000\r\n)\r\n\r\nexport const sectStepsData = createSelector(\r\n\t[\r\n\t\tselectHasCreatedAdUnit,\r\n\t\tselectHasCreatedCampaign,\r\n\t\tselectHasCreatedAdSlot,\r\n\t\tselectHasConfirmedEmail,\r\n\t\tselectHasFundedAccount,\r\n\t\tselectHasAdSlotImpressions,\r\n\t\tselectHas5000Impressions,\r\n\t],\r\n\t(\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions\r\n\t) => ({\r\n\t\thasCreatedAdUnit,\r\n\t\thasCreatedCampaign,\r\n\t\thasCreatedAdSlot,\r\n\t\thasConfirmedEmail,\r\n\t\thasFundedAccount,\r\n\t\thasImpressions,\r\n\t\thas5000Impressions,\r\n\t})\r\n)\r\n","import { createSelector } from 'reselect'\nimport {\n\tselectCampaignById,\n\tselectAdUnitById,\n\tselectAdSlotById,\n\tselectSide,\n\tt,\n} from 'selectors'\n\nexport const selectLocation = state => state.router.location\n\nexport const selectSearch = createSelector(\n\tselectLocation,\n\t({ search }) => search\n)\n\nexport const selectLocationQuery = createSelector(\n\tselectLocation,\n\t({ query }) => query || {}\n)\n\nexport const selectSearchParams = createSelector(\n\tselectLocation,\n\t({ search }) => new URLSearchParams(search)\n)\n\nconst ITEMS_SELECTORS = {\n\tcampaigns: selectCampaignById,\n\treceipt: selectCampaignById,\n\tunits: selectAdUnitById,\n\tslots: selectAdSlotById,\n}\n\nconst SIDES = {\n\tadvertiser: true,\n\tpublisher: true,\n}\n\nexport const selectDashboardBreadcrumbs = createSelector(\n\t[selectLocation, state => state, selectSide],\n\t({ pathname = '' }, state, side) => {\n\t\tconst paths = pathname.split('/').filter(x => !!x)\n\t\tconst sideDashboard = paths.slice(0, 2)\n\n\t\t// NOTE: no breadcrumbs if no side dashboard\n\t\tif (sideDashboard[0] !== 'dashboard' || !SIDES[sideDashboard[1]]) {\n\t\t\treturn []\n\t\t}\n\n\t\tconst sideDashboardBC = {\n\t\t\tto: `/${sideDashboard.join('/')}`,\n\t\t\tlabel: 'dashboard',\n\t\t}\n\n\t\tconst rest = paths.slice(2)\n\n\t\tconst restBC = rest.map((x, index) => {\n\t\t\tconst prev = rest[index - 1]\n\t\t\tconst selector = ITEMS_SELECTORS[prev]\n\n\t\t\tlet label = x\n\n\t\t\tif (selector) {\n\t\t\t\tconst { title } = selector(state, x) || {}\n\t\t\t\tlabel = title || label\n\t\t\t}\n\n\t\t\tconst bc = {\n\t\t\t\tlabel,\n\t\t\t}\n\n\t\t\tif (index < rest.length - 1) {\n\t\t\t\tconst restCopy = [...rest]\n\n\t\t\t\tconst receiptAt = restCopy.indexOf('receipt')\n\t\t\t\t// NOTE: go to campaign on receipt breadcrumb\n\t\t\t\t// We need a better way\n\t\t\t\tif (receiptAt >= 0) {\n\t\t\t\t\trestCopy[receiptAt] = side === 'advertiser' ? 'campaigns' : 'receipts'\n\t\t\t\t}\n\n\t\t\t\tbc.to = `${sideDashboardBC.to}/${restCopy\n\t\t\t\t\t.slice(0, index + 1)\n\t\t\t\t\t.join('/')}`\n\t\t\t}\n\n\t\t\treturn bc\n\t\t})\n\n\t\tconst breadcrumbs = [sideDashboardBC, ...restBC].map(b => ({\n\t\t\t...b,\n\t\t\tlabel:\n\t\t\t\tt(b.label.toUpperCase()) !== b.label.toUpperCase()\n\t\t\t\t\t? t(b.label.toUpperCase())\n\t\t\t\t\t: b.label,\n\t\t}))\n\n\t\treturn breadcrumbs || []\n\t}\n)\n","export * from './selectors'\nexport * from './configSelectors'\nexport * from './accountSelectors'\nexport * from './identitySelectors'\nexport * from './uiSelectors'\nexport * from './translationsSelectors'\nexport * from './itemsSelectors'\nexport * from './newItemsSelectors'\nexport * from './analyticsSelectors'\nexport * from './validationsSelectors'\nexport * from './targetingSelectors'\nexport * from './newTransactionSelectors'\nexport * from './tablesDataSelectors'\nexport * from './chartsSelectors'\nexport * from './dataSelectors'\nexport * from './gettingStartedSelectors'\nexport * from './locationSelectors'\n","export function loadFromLocalStorage(key) {\n\ttry {\n\t\tconst data = localStorage.getItem(key)\n\t\tif (data === null) {\n\t\t\treturn undefined\n\t\t}\n\t\treturn JSON.parse(data)\n\t} catch (err) {\n\t\treturn undefined\n\t}\n}\n\nexport function saveToLocalStorage(data, key) {\n\ttry {\n\t\tconst serialized = JSON.stringify(data)\n\t\tlocalStorage.setItem(key, serialized)\n\t} catch (err) {\n\t\tconsole.warn(err)\n\t}\n}\n\nexport function removeFromLocalStorage(key) {\n\tlocalStorage.removeItem(key)\n}\n\nexport function getKeys() {\n\treturn Object.keys(localStorage)\n}\n","import { validations, helpers } from 'adex-models'\n\nexport const ipfsSrc = src => {\n\tif (!!src && validations.Regexes.ipfsRegex.test(src)) {\n\t\treturn helpers.getMediaUrlWithProvider(src, process.env.IPFS_GATEWAY)\n\t}\n\n\treturn src\n}\n","module.exports = __webpack_public_path__ + \"static/media/home-wallpaper.9793fae1.jpg\";","import React, { Component, Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport actions from 'actions'\nimport { Snackbar, IconButton } from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport { Alert } from '@material-ui/lab'\nimport { isWindowReloading } from 'helpers/miscHelpers'\n\nconst typeToSeverity = {\n\taccept: 'success',\n\tsuccess: 'success',\n\twarning: 'warning',\n\tinfo: 'info',\n\tcancel: 'error',\n\terror: 'error',\n}\n\nexport class Toast extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tactive: false,\n\t\t\ttoast: {},\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tlet toast = this.state.toast\n\t\tlet nextToast = nextProps.toasts[0]\n\n\t\tif (!nextToast) {\n\t\t\tthis.setState({ active: false, toast: {} })\n\t\t\treturn\n\t\t}\n\n\t\tif (!isWindowReloading()) {\n\t\t\tlet isNewToast = !!nextToast && toast.id !== nextToast.id\n\n\t\t\tif (isNewToast) {\n\t\t\t\tthis.setState({ active: true, toast: nextToast })\n\t\t\t}\n\t\t}\n\t}\n\n\tclose = id => {\n\t\tthis.setState({ active: false })\n\t\tsetTimeout(() => this.props.actions.removeToast(id), 100)\n\t}\n\n\trender() {\n\t\tconst { toast } = this.state\n\n\t\tif (!toast) return null\n\n\t\tconst anchorOrigin = toast.anchorOrigin || {\n\t\t\tvertical: 'bottom',\n\t\t\thorizontal: 'center',\n\t\t}\n\n\t\tif (toast.top) {\n\t\t\tanchorOrigin.horizontal = 'center'\n\t\t\tanchorOrigin.vertical = 'top'\n\t\t}\n\n\t\treturn (\n\t\t\t<Snackbar\n\t\t\t\topen={this.state.active}\n\t\t\t\tautoHideDuration={toast.timeout || 0}\n\t\t\t\tonClose={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\tanchorOrigin={anchorOrigin}\n\t\t\t>\n\t\t\t\t<Alert\n\t\t\t\t\tseverity={typeToSeverity[toast.type]}\n\t\t\t\t\tvariant='filled'\n\t\t\t\t\taction={\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t{toast.action && toast.action}\n\t\t\t\t\t\t\t{!toast.unclosable && (\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tkey={`close-${toast.id}`}\n\t\t\t\t\t\t\t\t\taria-label='Close'\n\t\t\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tonClick={() => !toast.unclosable && this.close(toast.id)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{(toast.label || '').toString()}\n\t\t\t\t</Alert>\n\t\t\t</Snackbar>\n\t\t)\n\t}\n}\n\nToast.propTypes = {\n\tactions: PropTypes.object.isRequired,\n\ttoasts: PropTypes.array.isRequired,\n}\n\nfunction mapStateToProps(state) {\n\t// let persist = state.persist\n\tlet memory = state.memory\n\treturn {\n\t\ttoasts: memory.toasts || [],\n\t}\n}\n\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tactions: bindActionCreators(actions, dispatch),\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Toast)\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { selectConfirm } from 'selectors'\n\nimport {\n\tDialog,\n\tButton,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle,\n} from '@material-ui/core'\n\nexport function Confirm({ children }) {\n\tconst [open, setOpen] = useState(false)\n\n\tconst {\n\t\tonConfirm,\n\t\tonCancel,\n\t\tactive,\n\t\tcalledOn,\n\t\tnoActionBtns,\n\t\tdata: { title = '', text = '', confirmLabel, cancelLabel },\n\t} = useSelector(selectConfirm)\n\n\tuseEffect(() => {\n\t\tsetOpen(!!active)\n\t}, [active, calledOn])\n\n\tconst confirm = () => {\n\t\tif (typeof onConfirm === 'function') {\n\t\t\tonConfirm()\n\t\t}\n\t\tsetOpen(false)\n\t}\n\n\tconst cancel = () => {\n\t\tif (typeof onCancel === 'function') {\n\t\t\tonCancel()\n\t\t}\n\n\t\tsetOpen(false)\n\t}\n\n\treturn (\n\t\t<Dialog open={open}>\n\t\t\t<DialogTitle id='alert-dialog-title'>{title}</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<DialogContentText id='alert-dialog-description'>\n\t\t\t\t\t{text}\n\t\t\t\t</DialogContentText>\n\t\t\t\t{children}\n\t\t\t</DialogContent>\n\t\t\t{!noActionBtns && (\n\t\t\t\t<DialogActions>\n\t\t\t\t\t{cancelLabel && (\n\t\t\t\t\t\t<Button onClick={cancel} color='primary'>\n\t\t\t\t\t\t\t{cancelLabel}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{confirmLabel && (\n\t\t\t\t\t\t<Button onClick={confirm} color='primary' autoFocus>\n\t\t\t\t\t\t\t{confirmLabel}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</DialogActions>\n\t\t\t)}\n\t\t</Dialog>\n\t)\n}\n\nexport default Confirm\n","import React, { forwardRef } from 'react'\n// import PropTypes from 'prop-types'\nimport { withRouter } from 'react-router'\n\nexport const withReactRouterLink = Component => {\n\tclass Decorated extends React.Component {\n\t\tresolveToLocation = to => {\n\t\t\tconst path = typeof to === 'object' ? to : { pathname: to }\n\t\t\tconst href = this.props.history.createHref(path)\n\t\t\treturn href\n\t\t}\n\n\t\thandleClick = async event => {\n\t\t\tevent.preventDefault()\n\t\t\tevent.stopPropagation()\n\t\t\tconst { to, onClick } = this.props\n\n\t\t\tif (onClick && typeof onClick === 'function') {\n\t\t\t\tawait onClick()\n\t\t\t\tthis.props.history.push(to)\n\t\t\t} else {\n\t\t\t\tthis.props.history.push(to)\n\t\t\t}\n\t\t}\n\n\t\t// TODO: check if it works without infinite loops\n\t\t// shouldComponentUpdate(nextProps, nextState) {\n\t\t//   // const { to } = this.props;\n\t\t//   return this.resolveToLocation(this.props.to) !== this.resolveToLocation(nextProps.to)\n\t\t// }\n\n\t\trender() {\n\t\t\tconst {\n\t\t\t\tforwardedRef,\n\t\t\t\tto,\n\t\t\t\tmatch,\n\t\t\t\tlocation,\n\t\t\t\thistory,\n\t\t\t\tstaticContext,\n\t\t\t\tonClick,\n\t\t\t\t...rest\n\t\t\t} = this.props\n\t\t\tconst toLocation = this.resolveToLocation(to)\n\n\t\t\treturn (\n\t\t\t\t<Component\n\t\t\t\t\tref={forwardedRef}\n\t\t\t\t\t{...rest}\n\t\t\t\t\thref={toLocation}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\tconst WithRouter = withRouter(Decorated)\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithRouter {...props} forwardedRef={ref} />\n\t))\n}\n","import React from 'react'\nimport SvgIcon from '@material-ui/core/SvgIcon'\nimport pure from 'recompose/pure'\n\nexport default (path, displayName, viewBox = '') => {\n\tlet Icon = props => (\n\t\t<SvgIcon viewBox={viewBox} {...props}>\n\t\t\t{path}\n\t\t</SvgIcon>\n\t)\n\n\tIcon.displayName = displayName\n\tIcon = pure(Icon)\n\tIcon.muiName = 'SvgIcon'\n\n\treturn Icon\n}\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M7.23,5.37,1.4,5.3A1.34,1.34,0,0,0,0,6.63L.07,10.3a1.42,1.42,0,0,0,1.08,1.32,1.52,1.52,0,0,0,.37,0H2.2L.88,16.39a.72.72,0,0,0,.47.85h0a1.93,1.93,0,0,0,1.45-.05,1.7,1.7,0,0,0,.93-1L5.2,11.71l2.15,0Z' />\n\t\t<path d='M24.33,5.95,24.38,0a.05.05,0,0,0,0,0h0L9.16,4.9l.08,7.33,14.65,4.46a.28.28,0,0,0,.24,0,.25.25,0,0,0,.11-.2l0-4.16h0V10.94a2.14,2.14,0,0,0,1.82-2.4A2.24,2.24,0,0,0,24.33,5.95Z' />\n\t</g>,\n\n\t'Campaign',\n\t'0 0 26.12 17.37'\n)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Box, Tabs, Tab, Divider } from '@material-ui/core'\nimport { push } from 'connected-react-router'\nimport { execute } from 'actions'\nimport { t } from 'selectors'\nimport { Paper } from '@material-ui/core'\n\nconst sideIndex = {\n\tadvertiser: 0,\n\tpublisher: 1,\n\t'0': 'advertiser',\n\t'1': 'publisher',\n}\n\nconst handleChange = (ev, index) => {\n\texecute(push(`/dashboard/${sideIndex[index + '']}`))\n}\n\nconst useTabsStyles = makeStyles(theme => {\n\treturn {\n\t\tindicator: {\n\t\t\t// NOTE: we use Tab background color as indicator\n\t\t\t// There is an animation for the Tabs indicator that looks out of\n\t\t\t// sync with Tab background change\n\t\t\tbackground: '0',\n\t\t},\n\t}\n})\n\nconst useTabStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.primary.main\n\t\t\t: theme.palette.primary.main\n\treturn {\n\t\troot: {\n\t\t\tminWidth: 30,\n\t\t\t'&$selected': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t\tbackgroundColor: activeColor,\n\t\t\t},\n\t\t\t'&:hover': {\n\t\t\t\tbackgroundColor: theme.palette.action.hover,\n\t\t\t},\n\t\t},\n\t\tselected: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\tbackgroundColor: activeColor,\n\t\t},\n\t}\n})\n\nconst SideSwitch = ({ side, className }) => {\n\tconst tabsClasses = useTabsStyles({ side })\n\tconst tabClasses = useTabStyles({ side })\n\treturn (\n\t\t<div className={className}>\n\t\t\t<Box bgcolor='background.paper'>\n\t\t\t\t<Divider />\n\t\t\t\t<Tabs\n\t\t\t\t\tclasses={tabsClasses}\n\t\t\t\t\tvalue={sideIndex[side]}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t\tvariant='fullWidth'\n\t\t\t\t\taria-label='side select'\n\t\t\t\t>\n\t\t\t\t\t<Tab classes={tabClasses} label={t('ADVERTISER')} />\n\t\t\t\t\t<Tab classes={tabClasses} label={t('PUBLISHER')} />\n\t\t\t\t</Tabs>\n\t\t\t\t<Divider />\n\t\t\t</Box>\n\t\t</div>\n\t)\n}\n\nexport default SideSwitch\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M44.995,49.818 L36.605,58.060 L22.494,44.199 L8.383,58.060 L-0.007,49.818 L14.104,35.957 L-0.007,22.095 L8.383,13.853 L22.494,27.715 L36.605,13.853 L44.995,22.095 L30.884,35.957 L44.995,49.818 ZM22.494,13.562 L16.296,19.724 L9.354,12.904 L17.594,4.809 L22.494,-0.004 L27.394,4.809 L35.634,12.904 L28.692,19.724 L22.494,13.562 ZM22.494,58.438 L28.692,52.276 L35.634,59.095 L27.394,67.190 L22.494,72.003 L17.594,67.190 L9.354,59.095 L16.296,52.276 L22.494,58.438 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(27, 117, 188)'\n\t\t\td='M30.884,35.997 L44.995,22.124 L36.605,13.876 L22.494,27.748 L8.383,13.876 L-0.007,22.124 L14.104,35.997 L-0.007,49.869 L8.383,58.117 L22.494,44.245 L36.605,58.117 L44.995,49.869 L30.884,35.997 Z'\n\t\t/>\n\t\t<path\n\t\t\tfill='rgb(60, 60, 59)'\n\t\t\td='M185.004,59.417 L181.713,59.417 L171.925,45.572 L162.080,59.417 L158.961,59.417 L170.237,43.460 L159.391,28.389 L162.653,28.389 L171.925,41.463 L181.112,28.389 L184.231,28.389 L173.556,43.460 L185.004,59.417 ZM130.972,17.685 L153.839,17.685 L153.839,20.369 L133.893,20.369 L133.893,36.154 L152.722,36.154 L152.722,38.837 L133.893,38.837 L133.893,56.733 L153.839,56.733 L153.839,59.417 L130.972,59.417 L130.972,17.685 ZM117.235,54.680 L117.005,54.680 C114.640,58.219 111.243,59.989 106.817,59.989 C102.525,59.989 99.243,58.656 96.972,55.991 C94.700,53.326 93.566,49.444 93.566,44.345 C93.566,38.979 94.693,34.878 96.945,32.043 C99.196,29.208 102.468,27.790 106.760,27.790 C109.011,27.790 110.958,28.199 112.599,29.018 C114.240,29.836 115.708,31.235 117.005,33.214 L117.178,33.214 C117.062,30.816 117.005,28.466 117.005,26.164 L117.005,15.003 L119.810,15.003 L119.810,59.417 L117.949,59.417 L117.235,54.680 ZM117.005,43.859 C117.005,39.064 116.200,35.615 114.588,33.513 C112.975,31.411 110.365,30.360 106.760,30.360 C103.365,30.360 100.812,31.549 99.105,33.927 C97.397,36.306 96.545,39.760 96.545,44.288 C96.545,53.079 99.967,57.475 106.817,57.475 C110.328,57.475 112.903,56.459 114.544,54.420 C116.185,52.385 117.005,49.025 117.005,44.345 L117.005,43.859 ZM81.062,44.688 L64.061,44.688 L58.224,59.417 L54.990,59.417 L71.818,17.514 L73.679,17.514 L90.160,59.417 L86.872,59.417 L81.062,44.688 ZM74.393,27.020 C73.916,25.840 73.342,24.203 72.675,22.111 C72.161,23.937 71.598,25.592 70.988,27.077 L65.121,42.061 L80.089,42.061 L74.393,27.020 Z'\n\t\t/>\n\t</g>,\n\t'AdexIcon',\n\t'0 0 185 72'\n)\n","import React from 'react'\nimport { LinearProgress, Box, CircularProgress } from '@material-ui/core'\n\nexport const InputLoading = ({ className, color = 'primary' }) => (\n\t<LinearProgress className={className} color={color} />\n)\n\nexport const LoadingSection = ({ loading, children }) => (\n\t<Box display='flex' flex='1' alignItems='center'>\n\t\t<Box>{children}</Box>\n\t\t<Box ml={2} mr={2}>\n\t\t\t{loading && <CircularProgress />}\n\t\t</Box>\n\t</Box>\n)\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListDivider from '@material-ui/core/Divider'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\nimport classnames from 'classnames'\nimport packageJson from './../../../../package.json'\nimport Anchor from 'components/common/anchor/anchor'\nimport SideSwitch from './SideSwitch'\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport DashboardIcon from '@material-ui/icons/Dashboard'\nimport SwapHorizontalIcon from '@material-ui/icons/SwapHoriz'\nimport { Receipt } from '@material-ui/icons'\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport Box from '@material-ui/core/Box'\nimport ListIcon from '@material-ui/icons/List'\nimport AudienceIcon from '@material-ui/icons/Group'\nimport WebsitesIcon from '@material-ui/icons/WebSharp'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { LoadingSection } from 'components/common/spinners'\nimport {\n\tt,\n\tselectSide,\n\tselectLocation,\n\tselectAccountIdentityAddr,\n\tselectAccountStatsFormatted,\n\tselectMainToken,\n} from 'selectors'\n\nconst RRListItem = withReactRouterLink(ListItem)\nconst RRAdexIconTxt = withReactRouterLink(AdexIconTxt)\nconst { ETH_SCAN_ADDR_HOST } = process.env\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.primary.contrastText\n\t\t\t: theme.palette.primary.contrastText\n\n\tconst activeBgColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.primary.main\n\t\t\t: theme.palette.primary.main\n\n\treturn {\n\t\tnavigation: {\n\t\t\tbackgroundColor: theme.palette.background.paper,\n\t\t},\n\t\tsntPadding: {\n\t\t\tpaddingTop: 0,\n\t\t},\n\t\tnavListRoot: {\n\t\t\tcolor: theme.palette.text.secondary,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'space-between',\n\t\t},\n\t\tnavList: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 100,\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t},\n\t\tsideNavToolbar: {},\n\t\tversion: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tpadding: 10,\n\t\t\tpaddingLeft: 16,\n\t\t\tborderTopWidth: 1,\n\t\t\tborderTopColor: theme.palette.divider,\n\t\t\tborderTopStyle: 'solid',\n\t\t},\n\t\tactive: {\n\t\t\tcolor: activeColor,\n\t\t\tbackgroundColor: activeBgColor,\n\t\t\t'&:focus': {\n\t\t\t\tbackgroundColor: activeBgColor,\n\t\t\t},\n\t\t\t'&:hover': {\n\t\t\t\tbackgroundColor: activeBgColor,\n\t\t\t\tcolor: activeColor,\n\t\t\t\t'& .MuiListItemIcon-root': {\n\t\t\t\t\tcolor: activeColor,\n\t\t\t\t},\n\t\t\t},\n\t\t\t'& .MuiListItemIcon-root': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tadxLink: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\t'&:hover': {\n\t\t\t\tcolor: theme.palette.text.secondary,\n\t\t\t},\n\t\t},\n\t\tsideSwitch: {\n\t\t\tmarginBottom: `${theme.spacing(2)}px`,\n\t\t},\n\t\ticon: {\n\t\t\theight: 32,\n\t\t\twidth: 'auto',\n\t\t\tcursor: 'pointer',\n\t\t},\n\t\tamount: {\n\t\t\tfontSize: theme.typography.pxToRem(18),\n\t\t},\n\t}\n})\n\nfunction SideNav(props) {\n\tconst side = useSelector(selectSide)\n\tconst identity = useSelector(selectAccountIdentityAddr)\n\tconst classes = useStyles({ side })\n\tconst routerLocation = useSelector(selectLocation)\n\tconst { symbol } = useSelector(selectMainToken)\n\n\t// TODO: test location\n\tconst location = routerLocation.pathname.split('/')[3]\n\tconst isAdvertiser = side === 'advertiser'\n\tconst items = isAdvertiser ? 'units' : 'slots'\n\tconst { availableIdentityBalanceMainToken } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\n\treturn side !== 'advertiser' && side !== 'publisher' ? null : (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\tjustifyContent='space-between'\n\t\t\tflexGrow='1'\n\t\t>\n\t\t\t<Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<RRAdexIconTxt\n\t\t\t\t\t\t\t\t// @cryptofan\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\n\t\t\t\t\t\t\t\tclassName={classes.icon}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t\t!availableIdentityBalanceMainToken &&\n\t\t\t\t\t\t\t\t\tavailableIdentityBalanceMainToken !== 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tvariant='button'\n\t\t\t\t\t\t\t\t\tdisplay='block'\n\t\t\t\t\t\t\t\t\tcomponent='div'\n\t\t\t\t\t\t\t\t\tcolor='textPrimary'\n\t\t\t\t\t\t\t\t\tclasses={{ button: classes.amount }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<strong>{`${availableIdentityBalanceMainToken ||\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}</strong>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant='button' component='div' display='block'>\n\t\t\t\t\t\t\t\t\t{t('IDENTITY_BALANCE')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Box>\n\t\t\t\t<SideSwitch className={classes.sideSwitch} side={side} t={t} />\n\t\t\t</Box>\n\n\t\t\t<Box\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='column'\n\t\t\t\tjustifyContent='space-between'\n\t\t\t\tflex='1'\n\t\t\t>\n\t\t\t\t<Box>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side }}\n\t\t\t\t\t\t\tclassName={classnames({ [classes.active]: !location })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<DashboardIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('DASHBOARD')} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/' + items }}\n\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t[classes.active]: location === items,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<ListIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t(items.toUpperCase())} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t{side === 'advertiser' && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/campaigns' }}\n\t\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'campaigns',\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<CampaignIcon />\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('CAMPAIGNS')} />\n\t\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/advertiser/audiences' }}\n\t\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'audiences',\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<AudienceIcon />\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('AUDIENCES')} />\n\t\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{side === 'publisher' && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/publisher/websites' }}\n\t\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'websites',\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<WebsitesIcon />\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('WEBSITES')} />\n\t\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/publisher/receipts' }}\n\t\t\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t\t\t[classes.active]: location === 'receipts',\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<Receipt />\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ListItemText primary={t('RECEIPTS')} />\n\t\t\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</List>\n\t\t\t\t</Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/topup' }}\n\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t[classes.active]: location === 'topup',\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<MonetizationOnIcon color='secondary' />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('TOP_UP')} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<Anchor target='_blank' href={`${process.env.ADEX_HELP_URL}`}>\n\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<HelpOutlineIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('HELP')} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t\t<Anchor target='_blank' href={`${ETH_SCAN_ADDR_HOST + identity}`}>\n\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<SwapHorizontalIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('TRANSACTIONS')} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</Anchor>\n\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\t\tclassName={classnames({\n\t\t\t\t\t\t\t\t[classes.active]: location === 'account',\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t('ACCOUNT')} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t</List>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\n\t\t\t<Box>\n\t\t\t\t<ListDivider />\n\t\t\t\t<ListItem>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\n\t\t\t\t\t\t\t\t<Anchor target='_blank' href={process.env.ADEX_SITE_HOST}>\n\t\t\t\t\t\t\t\t\tAdEx Network OÜ\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_SITE_HOST}/tos`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('TOS')}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\tprocess.env.ETH_SCAN_ADDR_HOST + process.env.ADX_TOKEN_ADDR\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tAdEx (ADX) Token\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t<small> / </small>\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\tprocess.env.ETH_SCAN_ADDR_HOST + process.env.ADEX_CORE_ADDR\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tAdExCore\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref='https://github.com/AdExNetwork/adex-platform/blob/development/CHANGELOG.md.'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tv.{packageJson.version}-beta\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Box>\n\t\t\t\t</ListItem>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default SideNav\n","import React, { useState, Children, cloneElement } from 'react'\nimport { Menu, Button } from '@material-ui/core'\n\nconst ImgIcon = ({ src }) => {\n\treturn (\n\t\t<img\n\t\t\tsrc={src}\n\t\t\theight={36}\n\t\t\twidth='auto'\n\t\t\talt='logo'\n\t\t\tstyle={{ marginRight: 5 }}\n\t\t/>\n\t)\n}\n\nfunction ButtonMenu({ children, btnStyle, label, rightIcon, leftIconSrc, id }) {\n\tconst [anchorEl, setAnchorEl] = useState(null)\n\n\tconst handleMenu = event => {\n\t\tsetAnchorEl(event.currentTarget)\n\t}\n\n\tconst handleClose = () => {\n\t\tsetAnchorEl(null)\n\t}\n\n\tconst leftIcon = leftIconSrc ? <ImgIcon src={leftIconSrc} /> : null\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tstyle={btnStyle}\n\t\t\t\tonClick={handleMenu}\n\t\t\t\taria-haspopup='true'\n\t\t\t\taria-controls={id}\n\t\t\t>\n\t\t\t\t{leftIcon}\n\t\t\t\t<span\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmaxWidth: 150,\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\ttextOverflow: 'ellipsis',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</span>\n\t\t\t\t{rightIcon}\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\tid={id}\n\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: 'bottom',\n\t\t\t\t\thorizontal: 'right',\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: 'top',\n\t\t\t\t\thorizontal: 'right',\n\t\t\t\t}}\n\t\t\t\tonClick={handleClose}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{Children.map(children, child =>\n\t\t\t\t\tcloneElement(child, {\n\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\ttypeof child.props.onClick === 'function' && child.props.onClick()\n\t\t\t\t\t\t\thandleClose()\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t)}\n\t\t\t</Menu>\n\t\t</>\n\t)\n}\n\nexport default ButtonMenu\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { translate } from 'services/translations/translations'\nimport { selectLang } from 'selectors'\n\nexport default function Translate(Decorated) {\n\tfunction Translated(props) {\n\t\tconst language = useSelector(selectLang)\n\n\t\tconst t = (val, { isProp = false, args = [''] } = {}) => {\n\t\t\tconst translation = translate(val, { isProp, args }, language)\n\n\t\t\treturn translation\n\t\t}\n\n\t\treturn <Decorated {...props} t={t} />\n\t}\n\n\treturn Translated\n}\n","import { AUTH_TYPES } from 'constants/misc'\nimport metamaskLogo from 'resources/metamask-logo.png'\nimport trezorLogo from 'resources/trezor-logo-h.png'\nimport demoLogo from 'resources/demo-logo.png'\n\nexport const getAuthLogo = authType => {\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\treturn metamaskLogo\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\treturn trezorLogo\n\t\tcase AUTH_TYPES.DEMO.name:\n\t\t\treturn demoLogo\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n","const drawerWidth = 250\nconst lastRowRightReserved = 169\n\nexport const styles = theme => {\n\treturn {\n\t\troot: {\n\t\t\tmarginTop: 69,\n\t\t\tflexGrow: 1,\n\t\t\toverflow: 'hidden',\n\t\t\tposition: 'relative',\n\t\t\tdisplay: 'flex',\n\t\t\theight: 'calc(100vh - 69px)',\n\t\t\twidth: '100vw',\n\t\t},\n\t\tappBar: {\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\twidth: 'auto',\n\t\t\tposition: 'fixed',\n\t\t\t// marginLeft: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\t// width: `calc(100% - ${drawerWidth}px)`,\n\t\t\t\tleft: drawerWidth,\n\t\t\t},\n\t\t},\n\t\tflex: {\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'row',\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tpaddingRight: theme.spacing(2),\n\t\t\tpaddingLeft: theme.spacing(2),\n\t\t},\n\n\t\tflexRow: {\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tflexBasis: '100%',\n\t\t\tpaddingBottom: theme.spacing(1),\n\t\t\t'&:last-child': {\n\t\t\t\tpaddingRight: lastRowRightReserved,\n\t\t\t},\n\t\t},\n\t\ttoolbarControls: {\n\t\t\tjustifyContent: 'flex-end',\n\t\t},\n\t\ttoolbarTitle: {\n\t\t\tjustifyContent: 'flex-start',\n\t\t},\n\t\ttoolbar: {\n\t\t\tflexFlow: 'wrap',\n\t\t\theight: 69,\n\t\t\tpaddingRight: 0,\n\t\t\tpaddingLeft: 0,\n\t\t},\n\t\tdrawerPaper: {\n\t\t\twidth: drawerWidth,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tposition: 'fixed',\n\t\t\t},\n\t\t\tbackgroundColor: '#fff',\n\t\t},\n\t\tcontent: {\n\t\t\tflexGrow: 1,\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\tpadding: theme.spacing(2),\n\t\t\tpaddingTop: theme.spacing(2),\n\t\t\toverflow: 'auto',\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tmarginLeft: drawerWidth,\n\t\t\t\tpadding: theme.spacing(2),\n\t\t\t\tpaddingTop: theme.spacing(2),\n\t\t\t},\n\n\t\t\t[theme.breakpoints.down('xs')]: {\n\t\t\t\tpadding: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\tcontentInner: {\n\t\t\tmaxWidth: 1420,\n\t\t\tmargin: 'auto',\n\t\t\t// Because of the floating button and table paging\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\tpaddingBottom: 146 + theme.spacing(2),\n\t\t\t},\n\t\t},\n\t\tbreadcrumbElement: {\n\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5)}px)`,\n\t\t\t[theme.breakpoints.up('md')]: {\n\t\t\t\tmaxWidth: `calc(100vw - ${theme.spacing(5) +\n\t\t\t\t\tdrawerWidth +\n\t\t\t\t\tlastRowRightReserved}px)`,\n\t\t\t},\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n// import AdexIconTxt from 'components/common/icons/AdexIconTxt'\nimport ButtonMenu from 'components/common/button_menu/ButtonMenuMui'\nimport Jazzicon, { jsNumberForAddress } from 'react-jazzicon'\nimport Translate from 'components/translate/Translate'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\n// import ChangeLang from 'components/translate/ChangeLang'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport { logOut } from 'services/store-data/auth'\n\nimport {\n\tAppBar,\n\tToolbar,\n\tTypography,\n\tBreadcrumbs,\n\tIconButton,\n\tListItemIcon,\n\tListItemText,\n\tLink,\n\tMenuItem,\n\tBox,\n\tHidden,\n} from '@material-ui/core'\n\nimport AccountBoxIcon from '@material-ui/icons/AccountBox'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport { makeStyles } from '@material-ui/core/styles'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { selectAccount, selectDashboardBreadcrumbs } from 'selectors'\nimport { styles } from './styles'\nimport { formatAddress } from 'helpers/formatters'\n\nconst RRMenuItem = withReactRouterLink(MenuItem)\nconst RRLink = withReactRouterLink(Link)\nconst useStyles = makeStyles(styles)\n\nfunction TopNav({ handleDrawerToggle, side, t }) {\n\tconst classes = useStyles()\n\tconst account = useSelector(selectAccount)\n\tconst imgSrc = getAuthLogo(account.wallet.authType)\n\tconst breadcrumbs = useSelector(selectDashboardBreadcrumbs)\n\tconst btnMenuLabel =\n\t\taccount.wallet.authType === 'demo'\n\t\t\t? t('DEMO_MODE')\n\t\t\t: account.email ||\n\t\t\t  formatAddress(account.wallet.address) ||\n\t\t\t  t('NOT_LOGGED')\n\n\treturn (\n\t\t<AppBar className={classes.appBar} color='default' position='sticky'>\n\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='row'\n\t\t\t\t\tflexGrow='1'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t>\n\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t<Box pl={1}>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\t\t\taria-label='open drawer'\n\t\t\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Hidden>\n\n\t\t\t\t\t<Hidden smDown>\n\t\t\t\t\t\t<Box display='flex' flexGrow='1' pl={2}>\n\t\t\t\t\t\t\t<Breadcrumbs aria-label='breadcrumb'>\n\t\t\t\t\t\t\t\t{breadcrumbs.map(({ to, label }, index) =>\n\t\t\t\t\t\t\t\t\tto && index < breadcrumbs.length - 1 ? (\n\t\t\t\t\t\t\t\t\t\t<RRLink key={`${index}-${to}`} to={to}>\n\t\t\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t\t\t</RRLink>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.breadcrumbElement }}\n\t\t\t\t\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t\t\t\t\t\tcomponent='div'\n\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-${label}`}\n\t\t\t\t\t\t\t\t\t\t\tcolor='textPrimary'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Breadcrumbs>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Hidden>\n\n\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center' pr={1}>\n\t\t\t\t\t\t{/* <ChangeLang /> */}\n\t\t\t\t\t\t<Jazzicon\n\t\t\t\t\t\t\tdiameter={30}\n\t\t\t\t\t\t\tseed={jsNumberForAddress(account.wallet.address)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ButtonMenu\n\t\t\t\t\t\t\tid='menu-appbar'\n\t\t\t\t\t\t\tleftIconSrc={imgSrc}\n\t\t\t\t\t\t\trightIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\tlabel={btnMenuLabel}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RRMenuItem\n\t\t\t\t\t\t\t\tvalue='account'\n\t\t\t\t\t\t\t\tto={{ pathname: '/dashboard/' + side + '/account' }}\n\t\t\t\t\t\t\t\tcaption={t('ACCOUNT')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<AccountBoxIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('ACCOUNT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</RRMenuItem>\n\t\t\t\t\t\t\t{/* <MenuDivider /> */}\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tvalue='logout'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tlogOut()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ExitToAppIcon />\n\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclasses={{ primary: classes.primary }}\n\t\t\t\t\t\t\t\t\tprimary={t('LOGOUT')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</ButtonMenu>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n\nexport default Translate(TopNav)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport NO_IMAGE from 'resources/no-image-box-eddie.jpg'\nimport VIDEO_IMAGE from 'resources/video-placeholder.jpg'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\n// import IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport Translate from 'components/translate/Translate'\nimport { ipfsSrc } from 'helpers/ipfsHelpers'\nimport { isVideoMedia } from 'helpers/mediaHelpers'\n\nconst MAX_IMG_LOAD_TIME = 7000\nclass Img extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\timgSrc: null,\n\t\t\tactive: false,\n\t\t\tvideoSrc: null,\n\t\t}\n\n\t\tthis.setDisplayImage = this.setDisplayImage.bind(this)\n\t\tthis.setDisplayVideo = this.setDisplayVideo.bind(this)\n\t\tthis.loadTimeout = null\n\t}\n\n\thandleToggle = ev => {\n\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\tev && ev.preventDefault && ev.preventDefault()\n\t\tlet active = this.state.active\n\t\tthis.setState({ active: !active })\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { src, fallbackSrc, mediaMime, allowVideo } = this.props\n\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\tif (isVideo && !allowVideo) {\n\t\t\treturn this.setState({\n\t\t\t\timgSrc: VIDEO_IMAGE,\n\t\t\t})\n\t\t}\n\n\t\tif (isVideo) {\n\t\t\tthis.displayVideo = document.createElement('video')\n\t\t\tthis.setDisplayVideo({\n\t\t\t\timage: ipfsSrc(src),\n\t\t\t\tfallback: ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t} else {\n\t\t\tthis.displayImage = new Image()\n\t\t\tthis.setDisplayImage({\n\t\t\t\timage: ipfsSrc(src),\n\t\t\t\tfallback: ipfsSrc(fallbackSrc) || NO_IMAGE,\n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps = nextProps => {\n\t\tconst nextSrc = ipfsSrc(nextProps.src)\n\t\tconst thisSrc = ipfsSrc(this.props.src)\n\t\tconst nextFallback = ipfsSrc(nextProps.fallbackSrc)\n\t\tconst { mediaMime } = nextProps\n\n\t\tif (nextSrc !== thisSrc) {\n\t\t\tconst isVideo = !!mediaMime && isVideoMedia(mediaMime)\n\n\t\t\tif (isVideo) {\n\t\t\t\tthis.displayVideo = this.displayVideo || document.createElement('video')\n\t\t\t\tthis.setDisplayVideo({\n\t\t\t\t\timage: ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.displayImage = this.displayImage || new Image()\n\t\t\t\tthis.setDisplayImage({\n\t\t\t\t\timage: ipfsSrc(nextSrc),\n\t\t\t\t\tfallback: ipfsSrc(nextFallback) || NO_IMAGE,\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.clearLoadTimeout()\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\t\t\tthis.displayImage = null\n\t\t}\n\t}\n\n\tclearLoadTimeout = () => {\n\t\tif (this.loadTimeout) {\n\t\t\tclearTimeout(this.loadTimeout)\n\t\t\tthis.loadTimeout = null\n\t\t}\n\t}\n\n\tonFail = (fallback, image) => {\n\t\tif (this.displayImage) {\n\t\t\tthis.displayImage.onerror = null\n\t\t\tthis.displayImage.onload = null\n\t\t\tthis.displayImage.onabort = null\n\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.displayImage.src = fallback\n\t\t}\n\n\t\tthis.clearLoadTimeout()\n\n\t\tthis.setState({\n\t\t\timgSrc: fallback || null,\n\t\t})\n\t}\n\n\tsetDisplayImage = ({ image, fallback }) => {\n\t\tthis.clearLoadTimeout()\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback, image)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayImage.onerror = this.displayImage.onabort = this.onFail.bind(\n\t\t\tthis,\n\t\t\tfallback\n\t\t)\n\n\t\tthis.displayImage.onload = () => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\timgSrc: image,\n\t\t\t\tvideoSrc: null,\n\t\t\t})\n\t\t}\n\n\t\tthis.displayImage.src = image\n\t}\n\n\tsetDisplayVideo = ({ image, fallback }) => {\n\t\tthis.clearLoadTimeout()\n\t\tthis.displayVideo.src = image\n\n\t\tthis.loadTimeout = setTimeout(() => {\n\t\t\tthis.onFail(fallback)\n\t\t}, MAX_IMG_LOAD_TIME)\n\n\t\tthis.displayVideo.onloadedmetadata = ({ target }) => {\n\t\t\tthis.clearLoadTimeout()\n\t\t\tthis.setState({\n\t\t\t\tvideoSrc: image,\n\t\t\t\timgSrc: null,\n\t\t\t})\n\t\t}\n\t}\n\n\tfullScreenBtn() {\n\t\tconst { classes } = this.props\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<Fab\n\t\t\t\t\tsize='small'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tclassName={classnames(classes.fullscreenIcon)}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.handleToggle()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FullscreenIcon />\n\t\t\t\t</Fab>\n\t\t\t\t{this.renderFullscreenDialog()}\n\t\t\t</span>\n\t\t)\n\t}\n\n\trenderFullscreenDialog() {\n\t\tconst { t, alt, classes, type } = this.props\n\t\tconst { active, imgSrc, videoSrc } = this.state\n\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={active}\n\t\t\t\ttype={type || 'normal'}\n\t\t\t\tmaxWidth={false}\n\t\t\t\tonClose={this.handleToggle}\n\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t>\n\t\t\t\t<DialogContent className={classes.dialogImageParent}>\n\t\t\t\t\t{imgSrc ? (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\t\tsrc={imgSrc}\n\t\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\tcontrols\n\t\t\t\t\t\t\tclassName={classnames(classes.dialogImage, classes.imgLoading)}\n\t\t\t\t\t\t></video>\n\t\t\t\t\t)}\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={this.handleToggle} color='primary'>\n\t\t\t\t\t\t{t('CLOSE')}\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\talt,\n\t\t\tallowFullscreen,\n\t\t\tclassName,\n\t\t\tclassNameImg,\n\t\t\tclasses,\n\t\t\tfullScreenOnClick,\n\t\t\tonClick,\n\t\t} = this.props\n\t\tconst { imgSrc, videoSrc } = this.state\n\t\treturn imgSrc || videoSrc ? (\n\t\t\t<div className={classnames(className, classes.wrapper)}>\n\t\t\t\t{!!imgSrc ? (\n\t\t\t\t\t<img\n\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\tsrc={this.state.imgSrc}\n\t\t\t\t\t\tdraggable='false'\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tclasses.imgLoading,\n\t\t\t\t\t\t\tclasses.img,\n\t\t\t\t\t\t\tclassNameImg\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tonDragStart={event => event.preventDefault() /*Firefox*/}\n\t\t\t\t\t\tonClick={onClick || (fullScreenOnClick && this.handleToggle)}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<video\n\t\t\t\t\t\tsrc={videoSrc}\n\t\t\t\t\t\tclassName={classnames(classes.imgLoading, classes.img)}\n\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\tmuted\n\t\t\t\t\t\tloop\n\t\t\t\t\t\tonClick={onClick || (fullScreenOnClick && this.handleToggle)}\n\t\t\t\t\t></video>\n\t\t\t\t)}\n\t\t\t\t{allowFullscreen && this.fullScreenBtn()}\n\t\t\t\t{fullScreenOnClick && this.renderFullscreenDialog()}\n\t\t\t</div>\n\t\t) : (\n\t\t\t<span className={classnames(classes.imgLoading, className)}>\n\t\t\t\t<span className={classes.circular}>\n\t\t\t\t\t<CircularProgress />\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t)\n\t}\n}\n\nImg.propTypes = {\n\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\tfallbackSrc: PropTypes.string,\n\talt: PropTypes.string,\n\tallowFullscreen: PropTypes.bool,\n\tfullScreenOnClick: PropTypes.bool,\n\tmediaMime: PropTypes.string,\n}\n\nexport default Translate(withStyles(styles)(Img))\n","export const styles = theme => ({\n\timgLoading: {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: 'auto',\n\t\theight: '100%',\n\t\tposition: 'relative',\n\t\tdisplay: 'inline-block',\n\t},\n\tcircular: {\n\t\tposition: 'relative',\n\t\ttop: 'calc(50% - 20px)', //UGLY but works best - DEFAULT circular size is 40px\n\t\tleft: 'calc(50% - 20px)',\n\t\tdisplay: 'inline-block',\n\t},\n\tfullscreenIcon: {\n\t\tposition: 'absolute',\n\t\ttop: theme.spacing(1),\n\t\tright: theme.spacing(1),\n\t\tcursor: 'pointer',\n\t\twidth: '30px',\n\t\theight: '30px',\n\t\tminHeight: '24px',\n\t},\n\tdialog: {\n\t\t'@media(max-width:744px)': {\n\t\t\tminWidth: `calc(100vw - ${theme.spacing(2)}px)`,\n\t\t},\n\t\t'@media(max-height:823px)': {\n\t\t\tminHeight: 'auto',\n\t\t},\n\t},\n\tdialogImageParent: {\n\t\t'@media(max-width:1080px)': {\n\t\t\tmaxWidth: '80vw',\n\t\t\tmaxHeight: '100vw',\n\t\t\tdisplay: 'block',\n\t\t\tmargin: 'auto',\n\t\t},\n\t\t'@media(max-width:744px)': {\n\t\t\tpaddingLeft: 0,\n\t\t\tpaddingRight: 0,\n\t\t},\n\t},\n\tdialogImage: {\n\t\theight: 'auto',\n\t\tmaxWidth: '80vw',\n\t},\n\timg: {\n\t\twidth: '100%',\n\t\theight: '100%',\n\t\tobjectFit: 'contain',\n\t},\n\twrapper: {\n\t\theight: '100%',\n\t\twidth: '100%',\n\t},\n})\n","import React from 'react'\nimport MUIDataTable from 'mui-datatables'\nimport { LinearProgress, Box } from '@material-ui/core'\nimport { t } from 'selectors'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst generalTableOptions = {\n\trowsPerPage: 5,\n\trowsPerPageOptions: [5, 10, 25, 50, 100],\n\tsetTableProps: () => {\n\t\treturn {\n\t\t\tpadding: 'default',\n\t\t\tsize: 'small',\n\t\t\twidth: '100%',\n\t\t\talign: 'center',\n\t\t}\n\t},\n\ttextLabels: {\n\t\tbody: {\n\t\t\tnoMatch: t('TABLE_NO_MATCH'),\n\t\t\ttoolTip: t('TABLE_TOOLTIP'),\n\t\t\tcolumnHeaderTooltip: column =>\n\t\t\t\t`${t('TABLE_HEADER_TOOLTIP', {\n\t\t\t\t\targs: [column.label || column],\n\t\t\t\t})}`,\n\t\t},\n\t\tpagination: {\n\t\t\tnext: t('TABLE_NEXT'),\n\t\t\tprevious: t('TABLE_PREV'),\n\t\t\trowsPerPage: t('TABLE_ROWS_PER_PAGE'),\n\t\t\tdisplayRows: t('TABLE_DISPLAY_ROWS'),\n\t\t},\n\t\ttoolbar: {\n\t\t\tsearch: t('TABLE_SEARCH'),\n\t\t\tdownloadCsv: t('TABLE_DL_CSV'),\n\t\t\tprint: t('TABLE_PRINT'),\n\t\t\tviewColumns: t('TABLE_VIEW_COLS'),\n\t\t\tfilterTable: t('TABLE_FILTER'),\n\t\t},\n\t\tfilter: {\n\t\t\tall: t('TABLE_FILTER_ALL'),\n\t\t\ttitle: t('TABLE_FILTER_TITLE'),\n\t\t\treset: t('TABLE_FILTER_RESET'),\n\t\t},\n\t\tviewColumns: {\n\t\t\ttitle: t('TABLE_SHOW_COLS'),\n\t\t\ttitleAria: t('TABLE_SHOW_HIDE_COLS'),\n\t\t},\n\t\tselectedRows: {\n\t\t\ttext: t('TABLE_SELECTED_ROWS'),\n\t\t\tdelete: t('TABLE_DELETE'),\n\t\t\tdeleteAria: t('TABLE_DELETE_SELECTED'),\n\t\t},\n\t},\n}\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\tprogress: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n})\n\nexport default function MUIDataTableEnhanced(props) {\n\tconst { title, data, columns, options, loading } = props\n\tconst classes = useStyles()\n\treturn (\n\t\t<Box>\n\t\t\t<MUIDataTable\n\t\t\t\ttitle={title}\n\t\t\t\tdata={data}\n\t\t\t\tcolumns={columns}\n\t\t\t\toptions={{\n\t\t\t\t\t...generalTableOptions,\n\t\t\t\t\t...options,\n\t\t\t\t\televation: 0,\n\t\t\t\t\tvariant: 'outlined',\n\t\t\t\t\tsearch: !props.noSearch,\n\t\t\t\t\tdownload: !props.noDownload,\n\t\t\t\t\tprint: !props.noPrint,\n\t\t\t\t\tselectableRows: props.rowSelectable ? 'multiple' : 'none',\n\t\t\t\t\tdisableToolbarSelect: props.toolbarEnabled ? false : true,\n\t\t\t\t\tresponsive: 'stacked',\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\n\t\t</Box>\n\t)\n}\n","import React from 'react'\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport HourglassFullIcon from '@material-ui/icons/HourglassFull'\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn'\n\nconst mapStatusIcons = (humanFriendlyStatus, status = '', size) => {\n\tconst icon = {\n\t\txs: { fontSize: 10 },\n\t\tmd: { fontSize: 15 },\n\t\tls: { fontSize: 20 },\n\t}\n\tconst waitIcon = <HourglassFullIcon style={icon[size]} color={'secondary'} />\n\tconst doneIcon = <DoneAllIcon style={icon[size]} color={'primary'} />\n\tconst warningIcon = <WarningIcon style={icon[size]} color={'error'} />\n\tconst cashIcon = <MonetizationOnIcon style={icon[size]} color={'secondary'} />\n\tif (humanFriendlyStatus === 'Closed' && status.toLowerCase() !== 'exhausted')\n\t\treturn waitIcon\n\tswitch (status.toLowerCase()) {\n\t\tcase 'active':\n\t\tcase 'ready':\n\t\t\treturn doneIcon\n\t\tcase 'pending':\n\t\tcase 'initializing':\n\t\tcase 'waiting':\n\t\t\treturn waitIcon\n\t\tcase 'offline':\n\t\tcase 'disconnected':\n\t\tcase 'unhealthy':\n\t\tcase 'invalid':\n\t\t\treturn warningIcon\n\t\tcase 'withdraw':\n\t\t\treturn cashIcon\n\t\tdefault:\n\t\t\treturn ''\n\t}\n}\n\nexport { mapStatusIcons }\n","export const styles = theme => ({\r\n\tcellImg: {\r\n\t\t// Fixed width to avoid col resizing while loading\r\n\t\theight: 46,\r\n\t\twidth: 69,\r\n\t\tcursor: 'pointer',\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\tactions: {\r\n\t\t'& > *': {\r\n\t\t\tmargin: theme.spacing(0.5),\r\n\t\t},\r\n\t},\r\n})\r\n","import React from 'react'\nimport { Typography, Slider, Box } from '@material-ui/core'\nimport { formatAbbrNum } from 'helpers/formatters'\n\nconst getSliderStep = (min, max, steps, precision = 2) => {\n\tconst diff = max - min\n\tconst step = diff / steps\n\tconst fixed = parseFloat(step.toFixed(precision))\n\n\treturn fixed\n}\n\nexport const sliderFilterOptions = ({\n\tinitial = [],\n\tfilterTitle = '',\n\tstepsCount = 20,\n\tstepsPrecision = 2,\n}) => {\n\tconst min = initial[0] || 0\n\tconst max = initial[1] || 100\n\tconst step = getSliderStep(min, max, stepsCount, stepsPrecision)\n\treturn {\n\t\tfilter: true,\n\t\tdisplay: 'true',\n\t\tfilterType: 'custom',\n\t\tcustomFilterListOptions: {\n\t\t\trender: v =>\n\t\t\t\t`${filterTitle}: ${formatAbbrNum(v[0], 2)} - ${formatAbbrNum(v[1], 2)}`,\n\t\t\tupdate: (filterList, filterPos, index) => {\n\t\t\t\tfilterList[index] = []\n\t\t\t\treturn filterList\n\t\t\t},\n\t\t},\n\n\t\tfilterOptions: {\n\t\t\tnames: [],\n\t\t\tlogic: (rowNumber, filters) => {\n\t\t\t\tconst formated = Number(rowNumber.toString().replace(/[^0-9.]/g, ''))\n\t\t\t\tif (filters.length > 0) {\n\t\t\t\t\treturn formated < filters[0] || formated > filters[1]\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t},\n\t\t\tdisplay: (filterList, onChange, index, column) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography id={`range-slider-${column.name}`} gutterBottom>\n\t\t\t\t\t\t\t{filterTitle}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box pl={2} pr={3} pt={2}>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tmin={min}\n\t\t\t\t\t\t\t\tmax={max}\n\t\t\t\t\t\t\t\tmarks={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: min,\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(min, 2),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvalue: max,\n\t\t\t\t\t\t\t\t\t\tlabel: formatAbbrNum(max, 2),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t// Max 20 steps (5,000,000 impressions step 1 ...)\n\t\t\t\t\t\t\t\tstep={step}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\tfilterList[index].length > 0 ? filterList[index] : initial\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonChange={(_, newValue) => {\n\t\t\t\t\t\t\t\t\tonChange(newValue, index, column)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalueLabelDisplay='auto'\n\t\t\t\t\t\t\t\taria-labelledby={`range-slider-${column.name}`}\n\t\t\t\t\t\t\t\tgetAriaValueText={v => formatAbbrNum(v, 2)}\n\t\t\t\t\t\t\t\tvalueLabelFormat={v => formatAbbrNum(v, 2)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t}\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport { useSelector } from 'react-redux'\nimport { selectInitialDataLoaded } from 'selectors'\n\nexport function useTableData({ selector, selectorArgs, getColumns }) {\n\tconst initialDataLoaded = useSelector(selectInitialDataLoaded)\n\tconst [data, setData] = useState([])\n\tconst [columns, setColumns] = useState([])\n\n\tconst selectedData = useSelector(state => selector(state, selectorArgs))\n\n\tconst reloadData = useCallback(() => {\n\t\tsetData(selectedData)\n\t\tsetColumns(getColumns())\n\t}, [getColumns, selectedData])\n\n\tuseEffect(() => {\n\t\treloadData()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [selectedData.length, selector, selectorArgs, initialDataLoaded])\n\n\treturn { data, columns, reloadData }\n}\n","import React, { Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tIconButton,\n\tTooltip,\n\tBox,\n\tButton,\n\tCircularProgress,\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Refresh, Receipt, Print } from '@material-ui/icons'\nimport { t, selectSpinnerById } from 'selectors'\nimport { PRINTING_CAMPAIGNS_RECEIPTS } from 'constants/spinners'\n\nconst useStyles = makeStyles(theme => ({\n\twrapper: {\n\t\tmargin: theme.spacing(1),\n\t\tposition: 'relative',\n\t},\n\tbuttonProgress: {\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}))\n\nexport function ReloadData({ handleReload }) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip title={t('RELOAD_DATA')}>\n\t\t\t\t<IconButton onClick={handleReload}>\n\t\t\t\t\t<Refresh />\n\t\t\t\t</IconButton>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n\nexport function ViewAllReceipts({ handleViewAllReceipts }) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip title={t('VIEW_ALL_RECEIPTS_DATA')}>\n\t\t\t\t<IconButton onClick={handleViewAllReceipts}>\n\t\t\t\t\t<Receipt />\n\t\t\t\t</IconButton>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n\nexport function PrintAllReceipts({ handlePrintAllReceipts, disabled }) {\n\tconst classes = useStyles()\n\tconst receiptsSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, PRINTING_CAMPAIGNS_RECEIPTS)\n\t)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Tooltip title={t('RECEIPTS_PRINT_ALL')}>\n\t\t\t\t<Box ml={2} mr={2}>\n\t\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tstartIcon={<Print />}\n\t\t\t\t\t\t\tonClick={handlePrintAllReceipts}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisabled={disabled || receiptsSpinner}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('RECEIPTS_PRINT_ALL')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{receiptsSpinner && (\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</Box>\n\t\t\t</Tooltip>\n\t\t</Fragment>\n\t)\n}\n","import React, { Fragment } from 'react'\nimport classnames from 'classnames'\nimport { Tooltip, IconButton } from '@material-ui/core'\nimport { Visibility, Receipt } from '@material-ui/icons'\nimport Img from 'components/common/img/Img'\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport {\n\tt,\n\tselectCampaignsTableData,\n\tselectMainToken,\n\tselectSide,\n\tselectCampaignsMaxImpressions,\n\tselectCampaignsMaxClicks,\n\tselectCampaignsMaxDeposit,\n\tselectInitialDataLoadedByData,\n} from 'selectors'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { commify } from 'ethers/utils'\nimport { execute, handlePrintSelectedReceiptsAdvertiser } from 'actions'\nimport { useSelector } from 'react-redux'\nimport { styles } from './styles'\nimport { formatDateTime, truncateString, formatDate } from 'helpers/formatters'\nimport { sliderFilterOptions } from './commonFilters'\nimport { useTableData } from './tableHooks'\nimport { ReloadData, PrintAllReceipts } from './toolbars'\n\nconst RRIconButton = withReactRouterLink(IconButton)\nconst RRImg = withReactRouterLink(Img)\n\nconst useStyles = makeStyles(styles)\n\nconst getCols = ({\n\tclasses,\n\tsymbol,\n\tmaxImpressions,\n\tmaxDeposit,\n\tmaxClicks,\n}) => [\n\t{\n\t\tname: 'id',\n\t\toptions: {\n\t\t\tdisplay: 'excluded',\n\t\t\tfilter: false,\n\t\t},\n\t},\n\t{\n\t\tname: 'receiptAvailable',\n\t\toptions: {\n\t\t\tdisplay: 'excluded',\n\t\t\tdownload: false,\n\t\t\tfilter: false,\n\t\t},\n\t},\n\t{\n\t\tname: 'media',\n\t\tlabel: t('PROP_MEDIA'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: false,\n\t\t\tdownload: false,\n\t\t\tcustomBodyRender: ({ side, id, mediaUrl, mediaMime, to }) => {\n\t\t\t\treturn (\n\t\t\t\t\t<RRImg\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\n\t\t\t\t\t\tsrc={mediaUrl}\n\t\t\t\t\t\talt={id}\n\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\tto={to}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tname: 'status',\n\t\tlabel: t('PROP_STATUS'),\n\t\toptions: {\n\t\t\tfilter: true,\n\t\t\tsort: false,\n\t\t\tfilterOptions: {\n\t\t\t\tnames: ['Active', 'Closed', 'Completed'],\n\t\t\t\tlogic: (status, filters) => {\n\t\t\t\t\tif (filters.length) return !filters.includes(status.humanFriendlyName)\n\t\t\t\t\treturn false\n\t\t\t\t},\n\t\t\t},\n\t\t\tcustomBodyRender: ({ humanFriendlyName, originalName, id }) => (\n\t\t\t\t<Fragment key={id}>\n\t\t\t\t\t{t(humanFriendlyName, { toUpperCase: true })}{' '}\n\t\t\t\t\t{mapStatusIcons(humanFriendlyName, originalName, 'xs')}\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t\t// TODO: Sorting issue\n\t\t},\n\t},\n\t{\n\t\tname: 'title',\n\t\tlabel: t('PROP_TITLE'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\n\t\t},\n\t},\n\t{\n\t\tname: 'depositAmount',\n\t\tlabel: t('PROP_DEPOSIT'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: depositAmount => (\n\t\t\t\t<Fragment>{`${depositAmount.toFixed(2)} ${symbol}`}</Fragment>\n\t\t\t),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxDeposit],\n\t\t\t\tfilterTitle: t('DEPOSIT_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'fundsDistributedRatio',\n\t\tlabel: t('PROP_SERVED'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: fundsDistributedRatio =>\n\t\t\t\t`${((fundsDistributedRatio || 0) / 10).toFixed(2)} %`,\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, 100],\n\t\t\t\tfilterTitle: t('DISTRIBUTED_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'impressions',\n\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxImpressions],\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'clicks',\n\t\tlabel: t('CHART_LABEL_CLICKS'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, maxClicks],\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'ctr',\n\t\tlabel: t('LABEL_CTR'),\n\t\toptions: {\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: ctr => `${(ctr || 0).toFixed(2)} %`,\n\t\t\t...sliderFilterOptions({\n\t\t\t\tinitial: [0, 100],\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\n\t\t\t}),\n\t\t},\n\t},\n\t{\n\t\tname: 'minPerImpression',\n\t\tlabel: t('PROP_CPM'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: ({ minPerImpression, id }) => (\n\t\t\t\t<Fragment key={id}>{`${minPerImpression.toFixed(\n\t\t\t\t\t2\n\t\t\t\t)} ${symbol}`}</Fragment>\n\t\t\t),\n\t\t},\n\t},\n\t{\n\t\tname: 'created',\n\t\tlabel: t('PROP_CREATED'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tsortDirection: 'desc',\n\t\t\tcustomBodyRender: created => formatDate(created),\n\t\t},\n\t},\n\t{\n\t\tname: 'activeFrom',\n\t\tlabel: t('PROP_STARTS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tdisplay: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: activeFrom => formatDateTime(activeFrom),\n\t\t},\n\t},\n\t{\n\t\tname: 'withdrawPeriodStart',\n\t\tlabel: t('PROP_ENDS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tdisplay: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: withdrawPeriodStart =>\n\t\t\t\tformatDateTime(withdrawPeriodStart),\n\t\t},\n\t},\n\t{\n\t\tname: 'actions',\n\t\tlabel: t('ACTIONS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tdownload: false,\n\t\t\tcustomBodyRender: ({ side, id, receiptReady, to, toReceipt }) => (\n\t\t\t\t<Fragment key={id}>\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\n\t\t\t\t\t\t// placement='top'\n\t\t\t\t\t\tenterDelay={1000}\n\t\t\t\t\t>\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\n\t\t\t\t\t\t\t<Visibility color='primary' />\n\t\t\t\t\t\t</RRIconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\treceiptReady\n\t\t\t\t\t\t\t\t? t('RECEIPT_VIEW')\n\t\t\t\t\t\t\t\t: 'Report not available until the campaign is completed'\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// placement='top'\n\t\t\t\t\t\tenterDelay={1000}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* SPAN needed to enable tooltip on hover of disabled element\n\t\t\t\t\t\t https://material-ui.com/components/tooltips/#disabled-elements\n\t\t\t\t\t\t*/}\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<RRIconButton\n\t\t\t\t\t\t\t\tto={toReceipt}\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\taria-label='receip'\n\t\t\t\t\t\t\t\tdisabled={!receiptReady}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Receipt color={receiptReady ? 'primary' : 'disabled'} />\n\t\t\t\t\t\t\t</RRIconButton>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t},\n\t},\n]\n\nconst onDownload = (buildHead, buildBody, columns, data, decimals, symbol) => {\n\tconst mappedData = data.map(i => ({\n\t\tindex: i.index,\n\t\tdata: [\n\t\t\ti.data[0],\n\t\t\ti.data[1],\n\t\t\ti.data[2],\n\t\t\ti.data[3].humanFriendlyName,\n\t\t\t`${i.data[4]} ${symbol}`,\n\t\t\t`${((i.data[5] || 0) / 10).toFixed(2)} %`,\n\t\t\ti.data[6],\n\t\t\ti.data[7],\n\t\t\ti.data[8],\n\t\t\tformatDateTime(i.data[9]),\n\t\t\tformatDateTime(i.data[10]),\n\t\t\tformatDateTime(i.data[11]),\n\t\t],\n\t}))\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\n}\n\nconst getOptions = ({ decimals, symbol, reloadData }) => ({\n\tfilterType: 'multiselect',\n\tselectableRows: 'none',\n\tonDownload: (buildHead, buildBody, columns, data) =>\n\t\tonDownload(buildHead, buildBody, columns, data, decimals, symbol),\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\n\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\n\t\tconst selectedItems = displayData\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\n\t\t\t.map(item => item.data[0])\n\t\treturn (\n\t\t\t<PrintAllReceipts\n\t\t\t\thandlePrintAllReceipts={() =>\n\t\t\t\t\texecute(handlePrintSelectedReceiptsAdvertiser(selectedItems))\n\t\t\t\t}\n\t\t\t\tdisabled={selectedItems.length === 0}\n\t\t\t/>\n\t\t)\n\t},\n})\n\nfunction CampaignsTable(props) {\n\tconst classes = useStyles()\n\tconst side = useSelector(selectSide)\n\tconst maxImpressions = useSelector(selectCampaignsMaxImpressions)\n\tconst maxClicks = useSelector(selectCampaignsMaxClicks)\n\tconst maxDeposit = useSelector(selectCampaignsMaxDeposit)\n\tconst { symbol, decimals } = useSelector(selectMainToken)\n\tconst campaignsLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'campaigns')\n\t)\n\n\tconst { data, columns, reloadData } = useTableData({\n\t\tselector: selectCampaignsTableData,\n\t\tselectorArgs: side,\n\t\tgetColumns: () =>\n\t\t\tgetCols({\n\t\t\t\tdecimals,\n\t\t\t\tclasses,\n\t\t\t\tsymbol,\n\t\t\t\tmaxImpressions,\n\t\t\t\tmaxClicks,\n\t\t\t\tmaxDeposit,\n\t\t\t}),\n\t})\n\n\tconst options = getOptions({ decimals, symbol, reloadData })\n\n\treturn (\n\t\t<MUIDataTableEnhanced\n\t\t\ttitle={t('ALL_CAMPAIGNS')}\n\t\t\tdata={data}\n\t\t\tcolumns={columns}\n\t\t\toptions={options}\n\t\t\trowSelectable\n\t\t\ttoolbarEnabled\n\t\t\tloading={!campaignsLoaded}\n\t\t\t{...props}\n\t\t/>\n\t)\n}\n\nexport default CampaignsTable\n","import React from 'react'\n\nimport { OutlinedInput, InputLabel, FormControl, Box } from '@material-ui/core'\n\nconst PropBaseComponent = ({ value, inputRef, ...rest }) => (\n\t<Box {...rest}>{value}</Box>\n)\n\nconst OutlinedPropView = ({ label, value, margin }) => (\n\t<Box py={1}>\n\t\t<FormControl variant='outlined' fullWidth>\n\t\t\t<InputLabel shrink disableAnimation>\n\t\t\t\t{label}\n\t\t\t</InputLabel>\n\n\t\t\t<OutlinedInput\n\t\t\t\tmargin={margin}\n\t\t\t\tfullWidth\n\t\t\t\tnotched\n\t\t\t\treadOnly\n\t\t\t\tname={label}\n\t\t\t\tlabel={label}\n\t\t\t\tinputComponent={PropBaseComponent}\n\t\t\t\tinputProps={{ style: { height: 'auto', wordWrap: 'break-word' } }}\n\t\t\t\tvalue={value}\n\t\t\t/>\n\t\t</FormControl>\n\t</Box>\n)\n\nexport default OutlinedPropView\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { CircularProgress, Fab } from '@material-ui/core'\nimport { Check, Save } from '@material-ui/icons'\n\nexport const styles = theme => ({\n\troot: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t},\n\twrapper: {\n\t\tposition: 'relative',\n\t},\n\tbuttonSuccess: {\n\t\tbackgroundColor: theme.palette.success.main,\n\t\tcolor: theme.palette.success.contrastText,\n\t\t'&:hover': {\n\t\t\tbackgroundColor: theme.palette.success.dark,\n\t\t},\n\t},\n\tfabProgress: {\n\t\tposition: 'absolute',\n\t\ttop: -5,\n\t\tleft: -5,\n\t\tzIndex: 1,\n\t},\n})\n\nconst useStyles = makeStyles(styles)\n\nexport const SaveBtn = ({\n\tspinner,\n\tsuccess,\n\tdirtyProps = [],\n\tsave,\n\tdisabled,\n}) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t!!dirtyProps.length && (\n\t\t\t<div className={classes.wrapper}>\n\t\t\t\t<Fab\n\t\t\t\t\tsize='medium'\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tonClick={save}\n\t\t\t\t\tdisabled={disabled || spinner || !dirtyProps.length}\n\t\t\t\t>\n\t\t\t\t\t{/*TODO: Success */}\n\t\t\t\t\t{success ? <Check /> : <Save />}\n\t\t\t\t</Fab>\n\t\t\t\t{!!spinner && (\n\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\tsize={58}\n\t\t\t\t\t\tclassName={classes.fabProgress}\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t)\n}\n","import React, { Fragment, forwardRef } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Prompt } from 'react-router'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tChip,\n\tInputAdornment,\n\tIconButton,\n\tTooltip,\n\tCard,\n\tCardMedia,\n\tTextField,\n\tBox,\n\tPaper,\n\tCollapse,\n\tButton,\n\tFormControl,\n\tFormControlLabel,\n\tFormGroup,\n\tFormHelperText,\n\tCheckbox,\n\tGrid,\n} from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\nimport {\n\tInfo,\n\tEdit,\n\tUndoOutlined,\n\tOpenInNew,\n\tArchiveSharp as ArchiveIcon,\n} from '@material-ui/icons'\nimport Img from 'components/common/img/Img'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { bigNumberify } from 'ethers/utils'\nimport { t, selectMainToken, selectAuthType } from 'selectors'\nimport {\n\texecute,\n\tconfirmAction,\n\tarchiveItem,\n\tvalidateNumberString,\n} from 'actions'\nimport { styles } from './styles'\nimport { SaveBtn } from './SaveBtn'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst useStyles = makeStyles(styles)\n\nexport const DirtyProps = ({ dirtyProps = [], returnPropToInitialState }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Prompt when={!!dirtyProps.length} message={t('UNSAVED_CHANGES_ALERT')} />\n\t\t\t{!!dirtyProps.length && (\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexGrow={1}\n\t\t\t\t\tflexDirection='row'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='flex-start'\n\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\tmr={1}\n\t\t\t\t>\n\t\t\t\t\t<Info color='secondary' className={classes.changeChip} />\n\t\t\t\t\t<span className={classes.changeChip}>{t('UNSAVED_CHANGES')}:</span>\n\t\t\t\t\t{dirtyProps.map(p => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\tclassName={classes.changeChip}\n\t\t\t\t\t\t\t\tkey={p.name || p}\n\t\t\t\t\t\t\t\tlabel={t(p.name || p, { isProp: true })}\n\t\t\t\t\t\t\t\tonDelete={() => {\n\t\t\t\t\t\t\t\t\treturnPropToInitialState(p)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdeleteIcon={<UndoOutlined />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n\nexport const ChangeControls = hookProps => {\n\tconst classes = useStyles()\n\tconst authType = useSelector(selectAuthType)\n\n\treturn (\n\t\t<div className={classes.changeControls}>\n\t\t\t<Collapse timeout={69} in={!!hookProps.dirtyProps.length}>\n\t\t\t\t<Paper variant='outlined' className={classes.changeControlsPaper}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\tp={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DirtyProps {...hookProps} />\n\t\t\t\t\t\t<SaveBtn {...hookProps} />\n\t\t\t\t\t</Box>\n\t\t\t\t</Paper>\n\t\t\t\t{hookProps.spinner && hookProps.dirtyProps.includes('audienceInput') && (\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t{WALLET_ACTIONS_MSGS[authType || 'default'].map((msg, i) => (\n\t\t\t\t\t\t\t<Box my={1} key={msg.message + i}>\n\t\t\t\t\t\t\t\t<Alert key={i} severity='info' variant='outlined'>\n\t\t\t\t\t\t\t\t\t{t(msg.message)}\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</Collapse>\n\t\t</div>\n\t)\n}\n\nexport const ItemTabsContainer = ({ children, noBackground }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Paper\n\t\t\tclassName={classes.itemTabsContainer}\n\t\t\tstyle={noBackground ? { background: 0 } : {}}\n\t\t\tvariant='outlined'\n\t\t>\n\t\t\t{children}\n\t\t</Paper>\n\t)\n}\n\nexport const ItemTabsBar = ({ children }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Paper className={classes.itemTabsBar} variant='outlined'>\n\t\t\t{children}\n\t\t</Paper>\n\t)\n}\n\nexport const ItemSpecProp = ({\n\tprop,\n\tlabel,\n\tvalue = '',\n\thelperText,\n\tInputProps,\n\t...rest\n}) => {\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid={prop}\n\t\t\tlabel={label}\n\t\t\ttype='text'\n\t\t\tmargin='dense'\n\t\t\tname={prop}\n\t\t\tvalue={value || ''}\n\t\t\t// disabled\n\t\t\treadOnly\n\t\t\thelperText={helperText}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={InputProps}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const ItemTitle = ({\n\ttitle,\n\terrTitle,\n\tupdateField,\n\tsetActiveFields,\n\treturnPropToInitialState,\n\tactiveFields = {},\n}) => {\n\tconst active = !!activeFields.title\n\tconst showError = !!errTitle && errTitle.dirty\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-title'\n\t\t\tlabel={t('title', { isProp: true })}\n\t\t\ttype='text'\n\t\t\tname='title'\n\t\t\tvalue={title || ''}\n\t\t\tonChange={ev => {\n\t\t\t\tupdateField('title', ev.target.value)\n\t\t\t}}\n\t\t\tdisabled={!active}\n\t\t\terror={showError}\n\t\t\thelperText={\n\t\t\t\tshowError ? t(errTitle.errMsg, { args: errTitle.errMsgArgs }) : ''\n\t\t\t}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: (\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('title')\n\t\t\t\t\t\t\t\t\t: setActiveFields('title', true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const ItemDescription = ({\n\tdescription,\n\terrDescription,\n\tupdateField,\n\tsetActiveFields,\n\treturnPropToInitialState,\n\tactiveFields = {},\n}) => {\n\tconst active = !!activeFields.description\n\tconst showError = !!errDescription && errDescription.dirty\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-description'\n\t\t\tlabel={t('description', { isProp: true })}\n\t\t\ttype='text'\n\t\t\tname='description'\n\t\t\tvalue={description || ''}\n\t\t\tonChange={ev => {\n\t\t\t\tupdateField('description', ev.target.value)\n\t\t\t}}\n\t\t\tmaxLength={1024}\n\t\t\tmultiline\n\t\t\trows={2}\n\t\t\tdisabled={!activeFields.description}\n\t\t\terror={showError}\n\t\t\thelperText={\n\t\t\t\tshowError\n\t\t\t\t\t? t(errDescription.errMsg, {\n\t\t\t\t\t\t\targs: errDescription.errMsgArgs,\n\t\t\t\t\t  })\n\t\t\t\t\t: ''\n\t\t\t}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: (\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('description')\n\t\t\t\t\t\t\t\t\t: setActiveFields('description', true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const ItemAdType = ({ type }) => {\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-type'\n\t\t\tlabel={t('type', { isProp: true })}\n\t\t\ttype='text'\n\t\t\tname='type'\n\t\t\tvalue={type || ''}\n\t\t\tdisabled={true}\n\t\t\tvariant='outlined'\n\t\t/>\n\t)\n}\n\nconst OpenInNewIconBtn = ({ forwardedRef, ...props }) => {\n\treturn (\n\t\t<IconButton {...props}>\n\t\t\t<OpenInNew />\n\t\t</IconButton>\n\t)\n}\n\nconst IconButtonWithRef = forwardRef((props, ref) => (\n\t<OpenInNewIconBtn {...props} forwardedRef={ref} />\n))\n\nexport const ItemTargetURL = ({ targetUrl = '', label }) => {\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-targetUrl'\n\t\t\tlabel={t(label || 'PROP_TARGETURL')}\n\t\t\ttype='text'\n\t\t\tname='targetUrl'\n\t\t\tvalue={targetUrl}\n\t\t\tdisabled={true}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: (\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\thref={targetUrl}\n\t\t\t\t\t\t\tcomponent={IconButtonWithRef}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const ItemFallbackMediaURL = ({ targetUrl = '' }) => {\n\t// TODO: need to take it from fallbackUnit\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-targetUrl'\n\t\t\tlabel={t('PROP_FALLBACKADURL')}\n\t\t\ttype='text'\n\t\t\tname='targetUrl'\n\t\t\tvalue={targetUrl}\n\t\t\tdisabled={true}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: (\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\thref={targetUrl}\n\t\t\t\t\t\t\tcomponent={IconButtonWithRef}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const MediaCard = ({ mediaUrl = '', mediaMime = '', label = '' }) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<Card className={classes.card} raised={false} variant='outlined'>\n\t\t\t<CardMedia classes={{ root: classes.mediaRoot }}>\n\t\t\t\t<Img\n\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\tsrc={mediaUrl}\n\t\t\t\t\talt={label || t('MEDIA')}\n\t\t\t\t\tclassName={classes.img}\n\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\tallowVideo\n\t\t\t\t/>\n\t\t\t\t{label && (\n\t\t\t\t\t<Chip size='small' className={classes.mediaPropChip} label={label} />\n\t\t\t\t)}\n\t\t\t</CardMedia>\n\t\t</Card>\n\t)\n}\n\nexport const ItemWebsite = ({\n\titem = {},\n\tinitialItemState = {},\n\tvalidations,\n\tupdateField,\n\tsetActiveFields,\n\treturnPropToInitialState,\n\tactiveFields = {},\n}) => {\n\tconst { website } = item\n\tconst active = !!activeFields.website\n\tconst { website: error } = validations\n\tconst showError = !!error && error.dirty\n\n\treturn (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tid='item-website'\n\t\t\tlabel={t('SLOT_WEBSITE')}\n\t\t\ttype='text'\n\t\t\tname='website'\n\t\t\tvalue={website || ' '}\n\t\t\tonChange={ev => {\n\t\t\t\tupdateField('website', (ev.target.value || '').trim())\n\t\t\t}}\n\t\t\tdisabled={!!initialItemState.website || !active}\n\t\t\terror={showError}\n\t\t\thelperText={\n\t\t\t\tshowError ? (\n\t\t\t\t\tt(error.errMsg, { args: error.errMsgArgs })\n\t\t\t\t) : (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{activeFields.website && (\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t__html: t('SLOT_MIN_CPM_HELPER'),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Fragment>\n\t\t\t\t)\n\t\t\t}\n\t\t\tvariant='outlined'\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: !initialItemState.website && (\n\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\t? returnPropToInitialState('website')\n\t\t\t\t\t\t\t\t\t: setActiveFields('website', true)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const ArchiveItemBtn = ({\n\titemId,\n\titemType = '',\n\ttitle,\n\tisIconBtn,\n\tonSuccess,\n\tgoToTableOnSuccess,\n\tfullWidth,\n}) => {\n\tconst labelArgs = itemType.toUpperCase()\n\n\tconst onClick = () => {\n\t\texecute(\n\t\t\tconfirmAction(\n\t\t\t\t() =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tarchiveItem({ itemId, itemType, onSuccess, goToTableOnSuccess })\n\t\t\t\t\t),\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\tconfirmLabel: t(`ARCHIVE_CONFIRM_LABEL`, {\n\t\t\t\t\t\targs: [labelArgs],\n\t\t\t\t\t}),\n\t\t\t\t\tcancelLabel: t('CANCEL'),\n\t\t\t\t\ttitle: t(`ARCHIVE_CONFIRM_TITLE`, {\n\t\t\t\t\t\targs: [labelArgs, title],\n\t\t\t\t\t}),\n\t\t\t\t\ttext: t(`ARCHIVE_CONFIRM_INFO`, {\n\t\t\t\t\t\targs: [labelArgs, title],\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t)\n\t\t)\n\t}\n\treturn (\n\t\t<Tooltip\n\t\t\ttitle={t('LABEL_ARCHIVE', { args: [labelArgs] })}\n\t\t\taria-label='archive'\n\t\t>\n\t\t\t{isIconBtn ? (\n\t\t\t\t<IconButton onClick={onClick} aria-label={`archive-${itemId}`}>\n\t\t\t\t\t<ArchiveIcon color='action' />\n\t\t\t\t</IconButton>\n\t\t\t) : (\n\t\t\t\t<Button\n\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tonClick={onClick}\n\t\t\t\t\taria-label={`archive-${itemId}`}\n\t\t\t\t>\n\t\t\t\t\t{t('ARCHIVE')}\n\t\t\t\t</Button>\n\t\t\t)}\n\t\t</Tooltip>\n\t)\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst aspect = '56.25%'\n\n\treturn {\n\t\tcard: {\n\t\t\tbackgroundColor: theme.palette.grey.main,\n\t\t\twidth: '100%',\n\t\t\tdisplay: 'block',\n\t\t\tposition: 'relative',\n\t\t\tmaxWidth: '100%',\n\t\t},\n\t\tmediaRoot: {\n\t\t\theight: 0,\n\t\t\tpaddingTop: aspect, // 16:9\n\t\t\tposition: 'relative',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timg: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tmargin: 'auto',\n\t\t\t// minWidth: '50%',\n\t\t\t// minHeight: '50%',\n\t\t\theight: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\twidth: 'auto',\n\t\t\tmaxHeight: '100%',\n\t\t},\n\t\tbasicInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'start',\n\t\t\tflexWrap: 'wrap',\n\t\t},\n\t\tbuttonRight: {\n\t\t\tmarginLeft: spacing,\n\t\t},\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\tlabel: {\n\t\t\tmarginBottom: spacing,\n\t\t\tcolor: theme.palette.text.hint,\n\t\t},\n\n\t\tbuttonLeft: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\n\t\ttextField: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\ttop: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflexWrap: 'wrap',\n\t\t\tmaxWidth: '70%',\n\t\t},\n\t\tchangesLine: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\talignItems: 'center',\n\t\t},\n\t\tchangeChip: {\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing / 2,\n\t\t\tmarginTop: spacing / 2,\n\t\t},\n\t\teditIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: spacing,\n\t\t\tright: spacing,\n\t\t},\n\t\tmediaPropChip: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: spacing,\n\t\t\tleft: spacing,\n\t\t},\n\t\tchangeControls: {\n\t\t\tposition: 'sticky',\n\t\t\ttop: 0,\n\t\t\tzIndex: theme.zIndex.appBar,\n\t\t},\n\t\tchangeControlsPaper: {\n\t\t\tborderColor: theme.palette.secondary.main,\n\t\t\t// marginBottom: spacing,\n\t\t\t// marginTop: spacing,\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\tmarginBottom: 0,\n\t\t\t},\n\t\t},\n\t\titemTabsBar: {\n\t\t\t// borderBottom: 0,\n\t\t},\n\t\titemTabsContainer: {\n\t\t\tborderTop: 0,\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t},\n\t}\n}\n","import { useState, useEffect, useCallback } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tselectItemByTypeAndId,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport { execute } from 'actions'\nimport { Base } from 'adex-models'\n\nexport function useItem({ itemType, match, objModel, validateAndUpdateFn }) {\n\tconst [item, setItem] = useState({})\n\tconst [initialItemState, setInitialItemState] = useState({})\n\tconst [activeFields, setFields] = useState({})\n\tconst [dirtyProps, setDirtyProps] = useState([])\n\tconst [validateId, setValidateId] = useState('update-default')\n\n\tconst storeItem = useSelector(state =>\n\t\tselectItemByTypeAndId(state, itemType, match.params.itemId)\n\t)\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\n\tuseEffect(() => {\n\t\tconst initial = new objModel(storeItem)\n\t\tsetItem(initial)\n\t\tsetInitialItemState(initial)\n\t\tsetValidateId(`update-${item.id}`)\n\t}, [item.id, objModel, storeItem])\n\n\tconst setActiveFields = useCallback(\n\t\t(field, value) => {\n\t\t\tsetFields({ ...activeFields, [field]: value })\n\t\t},\n\t\t[activeFields]\n\t)\n\n\tconst validate = useCallback(\n\t\tdirty =>\n\t\t\texecute(validateAndUpdateFn({ item, validateId, dirty, dirtyProps })),\n\t\t[dirtyProps, item, validateAndUpdateFn, validateId]\n\t)\n\n\tconst save = useCallback(async () => {\n\t\tawait execute(\n\t\t\tvalidateAndUpdateFn({\n\t\t\t\titem,\n\t\t\t\tvalidateId,\n\t\t\t\tdirty: true,\n\t\t\t\tupdate: true,\n\t\t\t\tdirtyProps,\n\t\t\t})\n\t\t)\n\t\tsetDirtyProps([])\n\t\tsetFields({})\n\t}, [dirtyProps, item, validateAndUpdateFn, validateId])\n\n\tconst returnPropToInitialState = useCallback(\n\t\tprop => {\n\t\t\tconst newItem = new objModel(item)\n\t\t\tconst dirtyIndex = dirtyProps.findIndex(\n\t\t\t\tp => (p.name || p) === (prop.name || prop)\n\t\t\t)\n\n\t\t\tif (dirtyIndex > -1) {\n\t\t\t\tconst newDirtyProps = [...dirtyProps]\n\t\t\t\tconst dpValue = newDirtyProps[dirtyIndex]\n\t\t\t\tnewDirtyProps.splice(dirtyIndex, 1)\n\n\t\t\t\tif (dpValue.fields) {\n\t\t\t\t\tdpValue.fields.forEach(\n\t\t\t\t\t\tprop => (newItem[prop] = initialItemState[prop])\n\t\t\t\t\t)\n\t\t\t\t} else {\n\t\t\t\t\tnewItem[dpValue] = initialItemState[prop]\n\t\t\t\t}\n\n\t\t\t\tsetItem(newItem)\n\t\t\t\tsetDirtyProps(newDirtyProps)\n\t\t\t\tsetActiveFields(prop.name || prop, false)\n\t\t\t\tvalidate(false)\n\t\t\t}\n\t\t},\n\t\t[dirtyProps, initialItemState, item, objModel, setActiveFields, validate]\n\t)\n\n\tconst updateField = useCallback(\n\t\t(field, value, dpValue) => {\n\t\t\tconst newItem = new objModel(item)\n\t\t\tnewItem[field] = value\n\n\t\t\tsetItem(newItem)\n\n\t\t\tconst dp = dirtyProps.slice(0)\n\n\t\t\tif (!dp.some(p => (p.name || p) === (dpValue ? dpValue.name : field))) {\n\t\t\t\tdp.push(dpValue || field)\n\t\t\t}\n\t\t\tsetDirtyProps(dp)\n\t\t},\n\t\t[dirtyProps, item, objModel]\n\t)\n\n\tconst updateMultipleFields = useCallback(\n\t\t(newValues, dirtyFields = []) => {\n\t\t\tconst updated = Base.updateObject({ item, newValues, objModel })\n\n\t\t\tsetItem(new objModel(updated))\n\n\t\t\tconst dp = dirtyProps.slice(0)\n\t\t\tdirtyFields.forEach(field => {\n\t\t\t\tif (!dp.some(p => (p.name || p) === (field.name || field))) {\n\t\t\t\t\tdp.push(field)\n\t\t\t\t}\n\t\t\t})\n\t\t\tsetDirtyProps(dp)\n\t\t},\n\t\t[dirtyProps, item, objModel]\n\t)\n\n\treturn {\n\t\titem,\n\t\tinitialItemState,\n\t\tactiveFields,\n\t\tsetActiveFields,\n\t\tdirtyProps,\n\t\treturnPropToInitialState,\n\t\tvalidate,\n\t\tvalidateId,\n\t\tvalidations,\n\t\tupdateField,\n\t\tupdateMultipleFields,\n\t\tspinner,\n\t\tsave,\n\t}\n}\n","import React, { useEffect, useState, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tStepper as StepperMUI,\n\tMobileStepper,\n\tStep,\n\tStepLabel,\n\tButton,\n\tPaper,\n\tBox,\n\tChip,\n\tCircularProgress,\n\tTypography,\n} from '@material-ui/core'\nimport { styles } from './styles'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport { t, selectValidationsById, selectSpinnerById } from 'selectors'\n\nconst getDirtyValidationErrors = (validations = {}) => {\n\tconst errors = Object.keys(validations).reduce((dirtyErrs, key) => {\n\t\tconst err = validations[key]\n\t\tif (err.dirty) {\n\t\t\tdirtyErrs.push({ msg: err.errMsg, field: t(key, { isProp: true }) })\n\t\t}\n\t\treturn dirtyErrs\n\t}, [])\n\n\treturn errors\n}\n\nconst useStyles = makeStyles(styles)\n\n// const MyStep = ({ page, active, index, children, theme, canAdvance, canFinish, canReverse, setPageIndex, canAdvanceToPage, currentPage, goToPage, ...other }) => {}\nconst StepperNav = ({ steps, currentPage, classes, ...other }) => {\n\tif (window.innerWidth <= 768) {\n\t\treturn (\n\t\t\t<Box\n\t\t\t\tflex\n\t\t\t\tflexDirection='column'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='center'\n\t\t\t>\n\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Typography align='center'>\n\t\t\t\t\t\t\t{(steps[currentPage] || {}).title}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\n\t\t\t\t\t<MobileStepper\n\t\t\t\t\t\tactiveStep={currentPage}\n\t\t\t\t\t\tsteps={steps.length}\n\t\t\t\t\t\tposition='static'\n\t\t\t\t\t\tvariant='text'\n\t\t\t\t\t\talign='center'\n\t\t\t\t\t\tclassName={classes.mobileStepper}\n\t\t\t\t\t></MobileStepper>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t)\n\t}\n\treturn (\n\t\t<StepperMUI alternativeLabel activeStep={currentPage}>\n\t\t\t{steps.map((page, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Step key={page.title}>\n\t\t\t\t\t\t<StepLabel>{page.title}</StepLabel>\n\t\t\t\t\t</Step>\n\t\t\t\t)\n\t\t\t})}\n\t\t</StepperMUI>\n\t)\n}\n\nconst MaterialStepper = props => {\n\tconst {\n\t\tinitialPage = 0,\n\t\tsteps = [],\n\t\tcloseDialog,\n\t\t// ...rest\n\t} = props\n\tconst classes = useStyles()\n\n\tconst [currentPage, setCurrentPage] = useState(+initialPage)\n\tconst [isBack, setIsBack] = useState(false)\n\tconst canReverse = steps.length > currentPage && currentPage > 0\n\n\tconst page = steps[currentPage] || {}\n\tconst pageProps = page.props || {}\n\tconst { validateId } = pageProps\n\tconst Comp = page.component || null\n\tconst {\n\t\tvalidationFn,\n\t\tonValid,\n\t\tstepsId,\n\t\tcompleteFn,\n\t\tcompleteBtnTitle = '',\n\t} = page\n\n\tconst validations = useSelector(state =>\n\t\tselectValidationsById(state, validateId)\n\t)\n\n\tconst dirtyErrors = getDirtyValidationErrors(validations)\n\n\tconst validationSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, validateId)\n\t)\n\n\tconst stepsSpinner = useSelector(state => selectSpinnerById(state, stepsId))\n\n\tconst spinner = validationSpinner || stepsSpinner\n\n\tconst isValidPage = useCallback(() => {\n\t\treturn !Object.keys(validations || {}).length\n\t}, [validations])\n\n\t// const canAdvance = isValidPage() && !page.completeBtn\n\n\tconst goToPage = useCallback(\n\t\tasync nextStep => {\n\t\t\tconst canAdvance = nextStep > currentPage\n\t\t\tconst canGoBack = nextStep < currentPage\n\n\t\t\tif (canAdvance || canGoBack) {\n\t\t\t\tsetCurrentPage(nextStep)\n\t\t\t}\n\t\t},\n\t\t[currentPage]\n\t)\n\n\tconst goToPreviousPage = useCallback(async () => {\n\t\tif (canReverse) {\n\t\t\tgoToPage(currentPage - 1)\n\t\t\tsetIsBack(true)\n\t\t}\n\t}, [canReverse, currentPage, goToPage])\n\n\tconst goToNextPage = useCallback(async () => {\n\t\tsetIsBack(false)\n\t\tif (validationFn) {\n\t\t\tvalidationFn({\n\t\t\t\tstepsId,\n\t\t\t\tvalidateId,\n\t\t\t\tdirty: true,\n\t\t\t\tonValid: onValid || (() => goToPage(currentPage + 1)),\n\t\t\t})\n\t\t} else if (isValidPage()) {\n\t\t\tgoToPage(currentPage + 1)\n\t\t}\n\t}, [\n\t\tcurrentPage,\n\t\tgoToPage,\n\t\tisValidPage,\n\t\tonValid,\n\t\tvalidationFn,\n\t\tstepsId,\n\t\tvalidateId,\n\t])\n\n\tconst handleComplete = useCallback(async () => {\n\t\tawait completeFn({\n\t\t\tstepsId,\n\t\t\tvalidateId,\n\t\t\tonValid: () => typeof closeDialog === 'function' && closeDialog(),\n\t\t})\n\t}, [closeDialog, completeFn, stepsId, validateId])\n\n\tuseEffect(() => {\n\t\tif (!isBack && validationFn) {\n\t\t\tvalidationFn({ stepsId, validateId, dirty: false })\n\t\t}\n\t}, [currentPage, validationFn, stepsId, validateId, isBack])\n\n\tconst onKeyPressed = useCallback(\n\t\tasync ev => {\n\t\t\tif (ev.key === 'Enter') {\n\t\t\t\tev.preventDefault()\n\t\t\t\tgoToNextPage()\n\t\t\t}\n\t\t},\n\t\t[goToNextPage]\n\t)\n\n\treturn (\n\t\t<Box\n\t\t\tclassName={classes.stepperWrapper}\n\t\t\tonKeyPress={onKeyPressed}\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='space-between'\n\t\t>\n\t\t\t<Box mb={1}>\n\t\t\t\t<Paper\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\troot: classes.stepperNav,\n\t\t\t\t\t}}\n\t\t\t\t\televation={0}\n\t\t\t\t>\n\t\t\t\t\t<StepperNav\n\t\t\t\t\t\t{...props}\n\t\t\t\t\t\tsteps={steps}\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\tgoToPage={goToPage}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\n\t\t\t<Paper\n\t\t\t\tclasses={{\n\t\t\t\t\troot: classes.pagePaper,\n\t\t\t\t}}\n\t\t\t\televation={0}\n\t\t\t>\n\t\t\t\t{!!Comp && <Comp {...pageProps} />}\n\t\t\t</Paper>\n\n\t\t\t{!!dirtyErrors.length && (\n\t\t\t\t<Box color='error.main' mt={1}>\n\t\t\t\t\t{dirtyErrors.map(err => (\n\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\tkey={err.field}\n\t\t\t\t\t\t\tclasses={{ root: classes.errChip }}\n\t\t\t\t\t\t\ticon={<ErrorIcon />}\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\tlabel={`${err.field}: ${err.msg}`}\n\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t<Box mt={1}>\n\t\t\t\t<div className={classes.left}>\n\t\t\t\t\t{canReverse && (\n\t\t\t\t\t\t<Button onClick={goToPreviousPage}>{t('BACK')}</Button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className={classes.right}>\n\t\t\t\t\t{typeof page.cancelFunction === 'function' && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\ttypeof closeDialog === 'function' && closeDialog()\n\t\t\t\t\t\t\t\tpage.cancelFunction(stepsId)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('CANCEL')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<span className={classes.buttonProgressWrapper}>\n\t\t\t\t\t\t{typeof completeFn === 'function' ? (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={handleComplete}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(completeBtnTitle || 'DO_IT_NOW')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={goToNextPage}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t('CONTINUE')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{spinner && (\n\t\t\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nMaterialStepper.propTypes = {\n\tsteps: PropTypes.array.isRequired,\n}\n\nexport default MaterialStepper\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\tconst ds = theme.spacing(2)\n\tconst errColor = theme.palette.error.main\n\treturn {\n\t\troot: {\n\t\t\tcolor: 'purple',\n\t\t\t'&$active': {\n\t\t\t\tcolor: 'green',\n\t\t\t},\n\t\t},\n\t\tactive: {\n\t\t\tcolor: 'yellow',\n\t\t},\n\t\tstepperWrapper: {\n\t\t\tposition: 'absolute',\n\t\t\toverflow: 'hidden',\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\ttop: 0,\n\t\t},\n\t\tpagePaper: {\n\t\t\tflex: '1 1 auto',\n\t\t\toverflowY: 'auto',\n\t\t\toverflowX: 'hidden',\n\t\t\theight: 0,\n\t\t\tpadding: spacing,\n\t\t},\n\t\tright: {\n\t\t\ttextAlign: 'right',\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '86%',\n\t\t\t},\n\t\t},\n\t\tleft: {\n\t\t\tdisplay: 'inline-block',\n\t\t\ttextAlign: 'left',\n\t\t\twidth: '50%',\n\t\t\t'@media(max-width:475px)': {\n\t\t\t\twidth: '14%',\n\t\t\t},\n\t\t},\n\t\tmobileStepper: {\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tbuttonProgressWrapper: {\n\t\t\tmarginLeft: spacing,\n\t\t\tposition: 'relative',\n\t\t},\n\t\tbuttonProgress: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '50%',\n\t\t\tleft: '50%',\n\t\t\tmarginTop: -12,\n\t\t\tmarginLeft: -12,\n\t\t},\n\t\terrChip: {\n\t\t\tcolor: errColor,\n\t\t\tborderColor: errColor,\n\t\t\t'& svg': {\n\t\t\t\tcolor: errColor,\n\t\t\t},\n\t\t\tmarginRight: spacing,\n\t\t\tmarginBottom: spacing,\n\t\t},\n\t}\n}\n","import React, { forwardRef, useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport MaterialStepper from 'components/common/stepper/MaterialUiStepper'\nimport { t, selectLocationQuery } from 'selectors'\n\nfunction FormSteps({ cancelFunction, stepsId, steps, closeDialog, ...rest }) {\n\tconst [stepperSteps, setSteps] = useState([])\n\tconst { step = 0 } = useSelector(selectLocationQuery)\n\n\tuseEffect(() => {\n\t\tconst updatedSteps = steps.map((s, index) => ({\n\t\t\t...s,\n\t\t\tstepsId,\n\t\t\ttitle: t(s.title),\n\t\t\tcancelFunction,\n\t\t\tprops: { ...rest, stepsId, validateId: stepsId + '-' + index },\n\t\t}))\n\n\t\tsetSteps(updatedSteps)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [stepsId])\n\n\treturn (\n\t\t<MaterialStepper\n\t\t\tinitialPage={step}\n\t\t\tsteps={stepperSteps}\n\t\t\tcloseDialog={closeDialog}\n\t\t/>\n\t)\n}\n\nFormSteps.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tsteps: PropTypes.arrayOf(PropTypes.object),\n}\n\nexport default forwardRef((props, ref) => (\n\t<FormSteps {...props} forwardedRef={ref} />\n))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tdialog: {\n\t\t\theight: `calc(100vh - ${spacing}px)`,\n\t\t\tminWidth: 1024,\n\t\t\tmaxWidth: 1080,\n\t\t\tbackgroundColor: theme.palette.appBar.main,\n\t\t\t'@media(max-width:1080px)': {\n\t\t\t\tmaxWidth: '100%',\n\t\t\t\tminWidth: `calc(100vw - ${spacing}px)`,\n\t\t\t},\n\t\t},\n\t\tdialogTitle: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'space-between',\n\t\t\twordWrap: 'break-word',\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: theme.spacing(2),\n\t\t\tmarginBottom: 0,\n\t\t\tpadding: 0,\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: spacing,\n\t\t\toverflow: 'visible',\n\t\t\toverflowY: 'auto',\n\t\t},\n\t\tcontentBox: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: 1,\n\t\t},\n\t\tpropRow: {\n\t\t\tmargin: '10px 0',\n\t\t\twidth: '100%',\n\t\t},\n\t\tcontentBody: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tcontentTopLoadingCircular: {\n\t\t\tflexShrink: 0,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tcontentTopLoading: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t\t'& > div': {\n\t\t\t\tpadding: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttextBtn: {\n\t\t\tcursor: 'pointer',\n\t\t},\n\t\tbtnIconLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tleftCol: {\n\t\t\ttextTransform: 'uppercase',\n\t\t\t// color: var(--color-adex-neutral-contrast-lighter);\n\t\t\ttextAlign: 'right',\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\ttextAlign: 'left',\n\t\t\t},\n\t\t},\n\t\trightCol: {\n\t\t\ttextAlign: 'left',\n\t\t},\n\t\tprogressCircleCenter: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 30px)',\n\t\t\ttop: 'calc(50% - 30px)',\n\t\t},\n\t\tfloating: {\n\t\t\tposition: 'sticky',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tmarginBottom: theme.spacing(1),\n\t\t\tzIndex: theme.zIndex.appBar,\n\t\t\t'& svg': {\n\t\t\t\tmarginRight: theme.spacing(1),\n\t\t\t},\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\tmarginBottom: 0,\n\t\t\t\tposition: 'fixed',\n\t\t\t\ttop: 'auto',\n\t\t\t\tleft: 'auto',\n\t\t\t\tbottom: spacing,\n\t\t\t\tright: spacing,\n\t\t\t},\n\t\t},\n\t\tbreakLong: {\n\t\t\twordBreak: 'break-word',\n\t\t\toverflowWrap: 'break-word',\n\t\t\thyphens: 'auto',\n\t\t},\n\t\tdemoImg: {\n\t\t\ttop: 'auto',\n\t\t\tleft: 'auto',\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\twidth: '100px',\n\t\t\theight: 'auto',\n\t\t\tposition: 'absolute',\n\t\t},\n\t\tdemoBody: {\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontentStickyTop: {\n\t\t\tmarginBottom: '2rem',\n\t\t\tposition: 'sticky',\n\t\t\ttop: 0,\n\t\t\tzIndex: theme.zIndex.appBar,\n\t\t\tbackgroundColor: theme.palette.appBar.main,\n\t\t},\n\t\tfullContentMessage: {\n\t\t\tdisplay: 'flex',\n\t\t\tflex: 1,\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t},\n\t}\n}\n","import React, { Fragment, useState, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport Fab from '@material-ui/core/Fab'\nimport IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport classnames from 'classnames'\nimport Slide from '@material-ui/core/Slide'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Typography from '@material-ui/core/Typography'\nimport { t } from 'selectors'\n\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={classnames(classes.textBtn, className)}\n\t\t\tstyle={style}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{' '}\n\t\t\t{label}{' '}\n\t\t</span>\n\t)\n}\n\nconst TextBtn = withStyles(styles)(textBtn)\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction='up' ref={ref} {...props} />\n})\n\nconst useStyles = makeStyles(styles)\n\nexport default function WithDialogHoc(Decorated) {\n\tfunction WithDialog(props) {\n\t\tconst {\n\t\t\tdisableBackdropClick = false,\n\t\t\tforwardedRef,\n\t\t\ticonButton,\n\t\t\ttextButton,\n\t\t\tfabButton,\n\t\t\tvariant,\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tbtnLabelArgs,\n\t\t\tbtnLabel,\n\t\t\tdisabled,\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\ttitle,\n\t\t\tdialogActions,\n\t\t\tonClick,\n\t\t\tfullWidth,\n\t\t\tonBeforeOpen,\n\t\t\t...rest\n\t\t} = props\n\n\t\tconst btnProps = {\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tvariant,\n\t\t}\n\n\t\tconst classes = useStyles()\n\t\tconst [open, setOpen] = useState(false)\n\n\t\tconst handleToggle = async () => {\n\t\t\tif (typeof onBeforeOpen === 'function' && !open) {\n\t\t\t\tawait onBeforeOpen()\n\t\t\t}\n\n\t\t\tsetOpen(!open)\n\t\t}\n\n\t\tconst handleClick = async ev => {\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\t\tev && ev.preventDefault && ev.preventDefault()\n\t\t\tawait handleToggle()\n\t\t\tif (onClick) await onClick()\n\t\t}\n\n\t\tconst closeDialog = () => {\n\t\t\tsetOpen(false)\n\t\t}\n\n\t\tlet ButtonComponent = null\n\n\t\tif (iconButton) {\n\t\t\tButtonComponent = IconButton\n\t\t} else if (textButton) {\n\t\t\tButtonComponent = TextBtn\n\t\t} else if (fabButton) {\n\t\t\tButtonComponent = Fab\n\t\t} else {\n\t\t\tButtonComponent = Button\n\t\t\tbtnProps.fullWidth = fullWidth\n\t\t}\n\n\t\tconst btnLabelTranslated = btnLabel\n\t\t\t? t(btnLabel, { args: btnLabelArgs || [''] })\n\t\t\t: ''\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<ButtonComponent\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\taria-label={btnLabelTranslated}\n\t\t\t\t\tlabel={btnLabelTranslated}\n\t\t\t\t\tonClick={ev => handleClick(ev)}\n\t\t\t\t\t{...btnProps}\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\n\t\t\t\t\t\t{ [classes.first]: color === 'first' },\n\t\t\t\t\t\t{ [classes.second]: color === 'second' }\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{icon}\n\t\t\t\t\t{!iconButton && btnLabelTranslated}\n\t\t\t\t</ButtonComponent>\n\t\t\t\t<Dialog\n\t\t\t\t\tdisableBackdropClick={disableBackdropClick}\n\t\t\t\t\t// disableEscapeKeyDown\n\t\t\t\t\t// maxWidth=\"xs\"\n\t\t\t\t\t// fullScreen\n\t\t\t\t\topen={open}\n\t\t\t\t\tonClose={handleToggle}\n\t\t\t\t\tTransitionComponent={Transition}\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t\t\t// onEscKeyDown={handleToggle}\n\t\t\t\t\t// onOverlayClick={handleToggle}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle\n\t\t\t\t\t\tdisableTypography\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\troot: classnames(classes.dialogTitle, classes.breakLong),\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography variant='subtitle1'>{t(title)}</Typography>\n\t\t\t\t\t\t<IconButton onClick={handleToggle} size='small'>\n\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\n\t\t\t\t</Dialog>\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\tWithDialog.propTypes = {\n\t\tbtnLabel: PropTypes.string,\n\t\ttitle: PropTypes.string.isRequired,\n\t\tfloating: PropTypes.bool,\n\t\tonBeforeOpen: PropTypes.func,\n\t}\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithDialog {...props} forwardedRef={ref} />\n\t))\n}\n","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tTextField,\n\tListSubheader,\n\tInputLabel,\n\tMenuItem,\n\tFormHelperText,\n\tFormControl,\n\tTooltip,\n\tTypography,\n\tSelect,\n} from '@material-ui/core'\nimport { InfoSharp } from '@material-ui/icons'\n\nimport { InputLoading } from 'components/common/spinners/'\nimport classnames from 'classnames'\nimport { t } from 'selectors'\n\nexport const styles = theme => ({\n\tformControl: {\n\t\tminWidth: 120,\n\t},\n\tgroupHeader: {\n\t\tbackgroundColor: theme.palette.background.paper,\n\t},\n\tmenuItem: {\n\t\twhiteSpace: 'break-spaces',\n\t\twordBreak: 'break-word',\n\t},\n})\n\nconst useStyles = makeStyles(styles)\n\nconst ExtraLabel = ({ label }) =>\n\tArray.isArray(label) ? (\n\t\t<Fragment>\n\t\t\t{label.map((x, index) => (\n\t\t\t\t<Typography\n\t\t\t\t\tkey={index}\n\t\t\t\t\tdisplay='block'\n\t\t\t\t\tvariant='caption'\n\t\t\t\t\tcolor='inherit'\n\t\t\t\t>\n\t\t\t\t\t{x}\n\t\t\t\t</Typography>\n\t\t\t))}\n\t\t</Fragment>\n\t) : (\n\t\tlabel\n\t)\n\nfunction Dropdown(props) {\n\tconst classes = useStyles()\n\n\tconst {\n\t\tonChange,\n\t\tlabel = '',\n\t\tvalue,\n\t\tsource = [],\n\t\thtmlId = 'some-id',\n\t\tdisabled = false,\n\t\terror = false,\n\t\thelperText,\n\t\tfullWidth = false,\n\t\tclassName,\n\t\trequired,\n\t\tloading,\n\t\tnoSrcLabel,\n\t\tvariant,\n\t\tIconComponent,\n\t} = props\n\n\tconst handleChange = event => {\n\t\tonChange(event.target.value)\n\t}\n\n\t// TODO: add native renderer for mobile devices when supported\n\treturn (\n\t\t<Fragment>\n\t\t\t{!!source.length && !loading ? (\n\t\t\t\t<FormControl\n\t\t\t\t\tclassName={classnames(className, classes.formControl)}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\terror={error}\n\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\tvariant={variant}\n\t\t\t\t>\n\t\t\t\t\t<InputLabel htmlFor={htmlId} required={required}>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</InputLabel>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tvalue={value.id || value}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tIconComponent={IconComponent}\n\t\t\t\t\t>\n\t\t\t\t\t\t{[...source].map(src => {\n\t\t\t\t\t\t\treturn src.group ? (\n\t\t\t\t\t\t\t\t<ListSubheader\n\t\t\t\t\t\t\t\t\tclassName={classes.groupHeader}\n\t\t\t\t\t\t\t\t\tkey={src.group.name || src.group}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{src.group.name || src.group}\n\t\t\t\t\t\t\t\t</ListSubheader>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tkey={src.value.key || src.value.id || src.value}\n\t\t\t\t\t\t\t\t\tclassName={classes.menuItem}\n\t\t\t\t\t\t\t\t\tvalue={src.value.id || src.value}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{src.label}\n\t\t\t\t\t\t\t\t\t{!!src.extraLabel && (\n\t\t\t\t\t\t\t\t\t\t<Tooltip title={<ExtraLabel label={src.extraLabel} />}>\n\t\t\t\t\t\t\t\t\t\t\t<InfoSharp\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraInfo}\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize='small'\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Select>\n\t\t\t\t\t{helperText && <FormHelperText>{helperText}</FormHelperText>}\n\t\t\t\t</FormControl>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tvariant={variant}\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t\tvalue={loading ? t('LOADING_DATA') : noSrcLabel}\n\t\t\t\t\t\thelperText={helperText}\n\t\t\t\t\t/>\n\t\t\t\t\t{!!loading && <InputLoading />}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n\nDropdown.propTypes = {\n\tlabel: PropTypes.string,\n\tonChange: PropTypes.func.isRequired,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string,\n\t\tPropTypes.bool,\n\t]),\n\tsource: PropTypes.array.isRequired, //([{label: 'some label', value: 'some value'}])\n\tdisabled: PropTypes.bool,\n\terror: PropTypes.bool,\n\thtmlId: PropTypes.string.isRequired,\n\tdisplayEmpty: PropTypes.bool,\n\thelperText: PropTypes.string,\n\tIconComponent: PropTypes.elementType,\n}\n\nexport default Dropdown\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { Grid, TextField } from '@material-ui/core'\nimport Dropdown from 'components/common/dropdown'\nimport { execute, updateNewUnit } from 'actions'\nimport {\n\tt,\n\tselectValidationsById,\n\tselectNewAdUnit,\n\tselectUnitTypesSourceWithRecommendations,\n} from 'selectors'\n\nfunction AdUnitBasic({ validateId }) {\n\tconst { title, description, targetUrl, type } = useSelector(selectNewAdUnit)\n\tconst typesSources = useSelector(selectUnitTypesSourceWithRecommendations)\n\n\tconst {\n\t\ttitle: errTitle,\n\t\tdescription: errDescription,\n\t\ttargetUrl: errTargetUrl,\n\t\ttype: errType,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\tname='title'\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\tonChange={ev => execute(updateNewUnit('title', ev.target.value))}\n\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrTitle && !!errTitle.dirty ? errTitle.errMsg : t('TITLE_HELPER')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tmultiline\n\t\t\t\t\t\trows={3}\n\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(updateNewUnit('description', ev.target.value))\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(updateNewUnit('targetUrl', ev.target.value))\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errTargetUrl && !!errTargetUrl.dirty}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrTargetUrl && !!errTargetUrl.dirty\n\t\t\t\t\t\t\t\t? errTargetUrl.errMsg\n\t\t\t\t\t\t\t\t: t('TARGETIRL_HELPER')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tonChange={value => execute(updateNewUnit('type', value))}\n\t\t\t\t\t\tsource={typesSources}\n\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\terror={errType && !!errType.dirty}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrType && !!errType.dirty\n\t\t\t\t\t\t\t\t? errType.errMsg\n\t\t\t\t\t\t\t\t: t('UNIT_TYPE_HELPER')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nAdUnitBasic.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdUnitBasic\n","/**\n * @param {HTMLImageElement} image - Image File Object\n * @param {Object} crop - crop Object from react-image-crop\n * @param {String} fileName - Name of the returned file in Promise\n * @param {Object} size - { width, height } - for image scale\n */\nexport const getCroppedImgUrl = (image, crop, fileName, size) => {\n\tconst canvas = document.createElement('canvas')\n\tconst scaleX = image.naturalWidth / image.width\n\tconst scaleY = image.naturalHeight / image.height\n\n\tconst sourceWidth = crop.width * scaleX\n\tconst sourceHeight = crop.height * scaleY\n\tcanvas.width = sourceWidth\n\tcanvas.height = sourceHeight\n\tconst ctx = canvas.getContext('2d')\n\n\tctx.drawImage(\n\t\timage,\n\t\tcrop.x * scaleX,\n\t\tcrop.y * scaleY,\n\t\tsourceWidth,\n\t\tsourceHeight,\n\t\t0,\n\t\t0,\n\t\tsourceWidth,\n\t\tsourceHeight\n\t)\n\n\tlet finalCanvas = canvas\n\n\tif (size && size.width && size.height) {\n\t\t// Pre blurred img\n\t\tconst bl = document.createElement('canvas')\n\t\tbl.width = sourceWidth\n\t\tbl.height = sourceHeight\n\t\tconst bctx = bl.getContext('2d')\n\t\tconst blur = Math.floor(sourceWidth / size.width / 3)\n\t\tbctx.filter = `blur(${blur}px)`\n\t\tbctx.drawImage(canvas, 0, 0, sourceWidth, sourceHeight)\n\n\t\tfinalCanvas = document.createElement('canvas')\n\t\tfinalCanvas.width = size.width\n\t\tfinalCanvas.height = size.height\n\n\t\tconst sctx = finalCanvas.getContext('2d')\n\n\t\tsctx.drawImage(\n\t\t\tbl,\n\t\t\t0,\n\t\t\t0,\n\t\t\tsourceWidth,\n\t\t\tsourceHeight,\n\t\t\t0,\n\t\t\t0,\n\t\t\tsize.width,\n\t\t\tsize.height\n\t\t)\n\t}\n\n\treturn new Promise((resolve, reject) => {\n\t\tfinalCanvas.toBlob(\n\t\t\tfile => {\n\t\t\t\tif (!file) {\n\t\t\t\t\treject('Error cropping file')\n\t\t\t\t}\n\t\t\t\tfile.name = fileName\n\t\t\t\tresolve(URL.createObjectURL(file))\n\t\t\t},\n\t\t\t'image/jpeg',\n\t\t\t1\n\t\t)\n\t})\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport Img from 'components/common/img/Img'\n// import debounce from 'debounce'\nimport Dropzone from 'react-dropzone'\nimport { Button, Typography, Grid, Box } from '@material-ui/core'\nimport ReactCrop from 'react-image-crop'\nimport { getCroppedImgUrl } from 'services/images/crop'\nimport {\n\tCrop as CropIcon,\n\tClear as ClearIcon,\n\tSave as SaveIcon,\n\tCloudUpload as FileUploadIcon,\n} from '@material-ui/icons'\nimport { isVideoMedia } from 'helpers/mediaHelpers.js'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { t } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction ImgForm(props) {\n\tconst classes = useStyles()\n\tconst { size, onChange, label, additionalInfo, errMsg } = props\n\tconst aspect = size ? size.width / size.height : undefined\n\n\tconst [imgRef, setImgRef] = useState(null)\n\tconst [crop, setCrop] = useState({ aspect })\n\tconst [cropMode, setCropMode] = useState(false)\n\tconst [imgName, setImgName] = useState('')\n\tconst [mime, setMime] = useState(props.mime)\n\tconst [imgSrc, setImgSrc] = useState(props.imgSrc)\n\n\tuseEffect(() => {\n\t\tsetCrop({ aspect })\n\t}, [aspect])\n\n\tuseEffect(() => {\n\t\tsetMime(props.mime)\n\t\tsetImgSrc(props.imgSrc)\n\t}, [props.mime, props.imgSrc])\n\n\tconst onLoad = useCallback(img => {\n\t\tsetImgRef(img)\n\t}, [])\n\n\tconst onDrop = (acceptedFiles, rejectedFiles) => {\n\t\tconst file = acceptedFiles[0]\n\t\tif (!file) return\n\t\tconst objectUrl = URL.createObjectURL(file)\n\t\tsetImgSrc(objectUrl)\n\t\tsetImgName(file.name)\n\t\tsetMime(file.type)\n\n\t\t// TODO: Maybe get width and height here instead on ing validation hoc\n\t\tonChange({\n\t\t\ttempUrl: objectUrl,\n\t\t\tmime: file.type,\n\t\t})\n\t}\n\n\tconst preventBubbling = e => {\n\t\tif (e.stopPropagation) {\n\t\t\te.stopPropagation()\n\t\t}\n\t\tif (e.nativeEvent) {\n\t\t\te.nativeEvent.stopImmediatePropagation()\n\t\t}\n\t}\n\n\tconst onRemove = e => {\n\t\tpreventBubbling(e)\n\n\t\tif (imgSrc) {\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tsetImgSrc('')\n\t\t\tsetImgName('')\n\t\t\tonChange({ tempUrl: null, mime: null })\n\t\t}\n\t}\n\n\tconst saveCropped = async () => {\n\t\tif (imgRef && crop.width > 1 && crop.height > 1) {\n\t\t\tconst croppedBlob = await getCroppedImgUrl(\n\t\t\t\timgRef,\n\t\t\t\tcrop,\n\t\t\t\t`cropped-${imgName}`,\n\t\t\t\tsize\n\t\t\t)\n\t\t\tURL.revokeObjectURL(imgSrc)\n\t\t\tsetImgSrc(croppedBlob)\n\t\t\tsetCropMode(false)\n\t\t\tonChange({\n\t\t\t\ttempUrl: croppedBlob,\n\t\t\t\tmime,\n\t\t\t})\n\t\t} else {\n\t\t\t// TODO: Error\n\t\t}\n\t}\n\n\tconst UploadInfo = () => {\n\t\treturn (\n\t\t\t<div className={classes.uploadInfo}>\n\t\t\t\t{imgSrc && !isVideoMedia(mime) ? (\n\t\t\t\t\t<div className={classes.uploadActions}>\n\t\t\t\t\t\t{/* TEMP: make size required */}\n\t\t\t\t\t\t{!!size && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\tpreventBubbling(e)\n\t\t\t\t\t\t\t\t\tsetCropMode(true)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CropIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t{t('IMG_FORM_CROP')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={onRemove}\n\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t{t('IMG_FORM_CLEAR')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<FileUploadIcon />\n\t\t\t\t)}\n\t\t\t\t<div>\n\t\t\t\t\t<span> {t('DRAG_AND_DROP_TO_UPLOAD')} </span>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<small> (max 2MB; .jpeg, .jpg) </small>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Typography className={classes.errMsg} color='error'>\n\t\t\t\t\t\t{errMsg}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tconst videoSrc = isVideoMedia(mime)\n\treturn (\n\t\t<div className={classes.imgForm}>\n\t\t\t<OutlinedPropView\n\t\t\t\tlabel={\n\t\t\t\t\timgSrc && imgName\n\t\t\t\t\t\t? `${label || 'Image'}: ${imgName}`\n\t\t\t\t\t\t: label || 'Upload image'\n\t\t\t\t}\n\t\t\t\tvalue={\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{cropMode ? (\n\t\t\t\t\t\t\t\t<div className={classes.dropzone} onClick={preventBubbling}>\n\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.imgDropzonePreview}>\n\t\t\t\t\t\t\t\t\t\t\t\t<ReactCrop\n\t\t\t\t\t\t\t\t\t\t\t\t\timageStyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxHeight: '30vh',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonImageLoaded={onLoad}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcrop={crop}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imgSrc || ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={c => setCrop(c)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t\t\t<Typography color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('CROP_MODE_MSG')}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={saveCropped}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!crop.width || !crop.height}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<SaveIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_SAVE_CROP')}\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setCropMode(false)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.dropzoneBtn}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.leftIcon} />\n\t\t\t\t\t\t\t\t\t\t\t\t{t('IMG_FORM_CANCEL_CROP')}\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Dropzone\n\t\t\t\t\t\t\t\t\taccept='.jpeg,.jpg,.png,.mp4'\n\t\t\t\t\t\t\t\t\tonDrop={onDrop}\n\t\t\t\t\t\t\t\t\tclassName={classes.dropzone}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\t\t\talignContent='center'\n\t\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={8}>\n\t\t\t\t\t\t\t\t\t\t\t<Box className={classes.imgDropzonePreview}>\n\t\t\t\t\t\t\t\t\t\t\t\t{videoSrc ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<video controls src={imgSrc} type='video/mp4'></video>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Img src={imgSrc} alt={'name'} />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t<Grid item sm={12} md={4}>\n\t\t\t\t\t\t\t\t\t\t\t<UploadInfo />\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Dropzone>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<small> {additionalInfo} </small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nImgForm.propTypes = {\n\tlabel: PropTypes.string,\n\tsize: PropTypes.object,\n}\n\nexport default ImgForm\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\tdropzone: {\n\t\t\tmarginBottom: spacing,\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1',\n\t\t\theight: 'auto',\n\t\t\twidth: 'auto',\n\t\t\tborder: `1px dashed ${theme.palette.grey.main}`,\n\t\t\tbackground: theme.palette.background.default,\n\t\t\tpadding: 10,\n\t\t\tcursor: 'pointer',\n\t\t\toverflow: 'hidden',\n\t\t},\n\t\timgDropzonePreview: {\n\t\t\theight: 320,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\tmaxHeight: '30vh',\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tflexDirection: 'column',\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tdropzoneBtn: {\n\t\t\tmarginBottom: spacing,\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tleftIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tuploadActions: {\n\t\t\tmarginTop: spacing,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport { Grid } from '@material-ui/core'\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\nimport { updateNewUnit, execute } from 'actions'\nimport { t, selectNewAdUnit, selectValidationsById } from 'selectors'\n\nfunction AdUnitMedia({ validateId }) {\n\tconst { type, temp } = useSelector(selectNewAdUnit)\n\tconst { temp: errImg } = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst { width, height } = getWidAndHightFromType(type)\n\tconst { tempUrl, mime } = temp\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<ImgForm\n\t\t\t\t\t\tlabel={t('UNIT_BANNER_IMG_LABEL')}\n\t\t\t\t\t\timgSrc={tempUrl || ''}\n\t\t\t\t\t\tmime={mime || ''}\n\t\t\t\t\t\tonChange={mediaProps =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewUnit('temp', {\n\t\t\t\t\t\t\t\t\t...temp,\n\t\t\t\t\t\t\t\t\t...mediaProps,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tadditionalInfo={t('UNIT_BANNER_IMG_INFO', {\n\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t})}\n\t\t\t\t\t\terrMsg={errImg && errImg.dirty ? errImg.errMsg : ''}\n\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nAdUnitMedia.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdUnitMedia\n","import React from 'react'\n\nimport { CircularProgress, Typography, Box } from '@material-ui/core'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { styles } from './styles.js'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { t } from 'selectors'\n\n// TODO: Use it with Grid in previews - we can have more than one in row\nexport const PropRow = ({ left, right }) => (\n\t<Box p={1}>\n\t\t<OutlinedPropView label={left} value={right} />\n\t</Box>\n)\n\nconst contentBox = ({ classes, children, className }) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\tclassName={className}\n\t>\n\t\t{children}\n\t</Box>\n)\n\nconst contentBody = ({ classes, children, className }) => (\n\t<Box flexGrow={1} className={className}>\n\t\t{children}\n\t</Box>\n)\n\nconst contentStickyTop = ({ classes, children, className }) => (\n\t<div className={classnames(classes.contentStickyTop)}>{children}</div>\n)\n\nconst topLoading = ({ classes, msg, subMsg, className }) => (\n\t<div className={classnames(classes.contentTopLoading)}>\n\t\t<CircularProgress className={classes.contentTopLoadingCircular} size={50} />\n\t\t<div>\n\t\t\t<Typography component='div'> {msg} </Typography>\n\t\t\t{subMsg && (\n\t\t\t\t<Typography component='div'>\n\t\t\t\t\t<strong>{subMsg}</strong>\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t</div>\n\t</div>\n)\n\nconst fullContentSpinner = ({ classes }) => (\n\t<CircularProgress\n\t\tclassName={classnames(classes.progressCircleCenter)}\n\t\tsize={50}\n\t/>\n)\n\nconst fullContentMessage = ({\n\tchildren,\n\tmsgs = [],\n\tspinner,\n\tcolor = 'primary',\n}) => (\n\t<Box\n\t\twidth={1}\n\t\theight={1}\n\t\tdisplay='flex'\n\t\tflexDirection='column'\n\t\talignItems='center'\n\t\tjustifyContent='center'\n\t\tbgcolor={`${color}.main`}\n\t\tcolor={`${color}.contrastText`}\n\t>\n\t\t{spinner && (\n\t\t\t<Box p={4}>\n\t\t\t\t<CircularProgress\n\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t// className={classes.contentTopLoadingCircular}\n\t\t\t\t\tsize={69}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t)}\n\t\t{children}\n\t\t{msgs\n\t\t\t.filter(x => !!x && x.message)\n\t\t\t.map((msg, index) => {\n\t\t\t\tconst message = t(msg.message, { args: msg.args })\n\t\t\t\treturn (\n\t\t\t\t\t<Typography key={index} component='div'>\n\t\t\t\t\t\t{msg.strong ? <strong>{message}</strong> : message}\n\t\t\t\t\t</Typography>\n\t\t\t\t)\n\t\t\t})}\n\t</Box>\n)\n\nexport const ContentBox = withStyles(styles)(contentBox)\nexport const ContentBody = withStyles(styles)(contentBody)\nexport const ContentStickyTop = withStyles(styles)(contentStickyTop)\nexport const TopLoading = withStyles(styles)(topLoading)\nexport const FullContentSpinner = withStyles(styles)(fullContentSpinner)\nexport const FullContentMessage = withStyles(styles)(fullContentMessage)\n","import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport LocationOnIcon from '@material-ui/icons/LocationOn'\nimport WcIcon from '@material-ui/icons/Wc'\nimport ChildCareIcon from '@material-ui/icons/ChildCare'\nimport CompareArrows from '@material-ui/icons/CompareArrows'\n\nimport { t } from 'selectors'\n\nconst targetIcon = {\n\tlocation: LocationOnIcon,\n\tgender: WcIcon,\n\tage: ChildCareIcon,\n}\n\nconst getTargetType = tag => {\n\tconst type = tag.split('_')[0] || 'tags'\n\treturn type\n}\n\nconst TargetArrayValues = ({ target, addDivider, selected }) => {\n\tconst type = getTargetType(target.tag)\n\tconst TargetIcon = targetIcon[type] || CompareArrows\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ListItem selected={selected}>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<TargetIcon />\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText primary={t(target.tag, { isTarget: true })} />\n\t\t\t\t<ListItemSecondaryAction>{target.score}</ListItemSecondaryAction>\n\t\t\t</ListItem>\n\t\t</Fragment>\n\t)\n}\n\nconst TargetsList = ({ targets = [], subHeader }) => (\n\t<List\n\t\tdense\n\t\tsubheader={subHeader ? <ListSubheader>{t(subHeader)}</ListSubheader> : null}\n\t>\n\t\t{targets.map((target, index) => {\n\t\t\treturn (\n\t\t\t\t<TargetArrayValues\n\t\t\t\t\tselected={index % 2 === 0}\n\t\t\t\t\ttarget={target}\n\t\t\t\t\tkey={target.tag + target.score + index}\n\t\t\t\t\taddDivider={targets.length - 1 > index}\n\t\t\t\t/>\n\t\t\t)\n\t\t})}\n\t</List>\n)\n\nTargetsList.propTypes = {\n\ttargets: PropTypes.array,\n\tsubHeader: PropTypes.string,\n}\n\nexport default TargetsList\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\timgPreview: {\n\t\t\tmaxHeight: 225,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t},\n\t\timgPreviewWrapper: {\n\t\t\theight: 'max-content',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Img from 'components/common/img/Img'\nimport TargetsList from 'components/dashboard/containers/TargetsList'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { Grid } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from '../styles'\nimport { t, selectNewAdUnit, selectAccountIdentityAddr } from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nfunction AdUnitPreview() {\n\tconst classes = useStyles()\n\tconst { type, title, description, temp, targeting, targetUrl } = useSelector(\n\t\tselectNewAdUnit\n\t)\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t<ContentBody>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\tright={targetUrl}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\t\tright={description}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('MEDIA')}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\t\t\timg: classes.imgPreview,\n\t\t\t\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsrc={temp.tempUrl || ''}\n\t\t\t\t\t\t\t\t\talt={title}\n\t\t\t\t\t\t\t\t\tmediaMime={temp.mime}\n\t\t\t\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AdUnitPreview\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { ContentBody } from 'components/common/dialog/content'\nimport { NewUnitDialog } from 'components/dashboard/forms/items/NewItems'\nimport {\n\tt,\n\tselectAdUnitsArray,\n\tselectAdUnits,\n\tselectNewCampaign,\n} from 'selectors'\nimport { updateNewCampaign, execute } from 'actions'\n\nfunction CampaignUnits(props) {\n\tconst { temp } = useSelector(selectNewCampaign)\n\tconst { selectedUnits } = temp\n\tconst allAdUnits = useSelector(selectAdUnits)\n\tconst allAdUnitsArray = useSelector(selectAdUnitsArray)\n\tconst hasAdUnits = allAdUnitsArray && allAdUnitsArray.length\n\n\tconst handleSelect = ({ selectedIndexes, selectedItemsIds } = {}) => {\n\t\tconst units = Object.values(selectedItemsIds).map(value => {\n\t\t\treturn allAdUnits[value]\n\t\t})\n\n\t\tconst newTemp = { ...temp }\n\t\tnewTemp.selectedUnits = selectedIndexes\n\n\t\texecute(updateNewCampaign('adUnits', units))\n\t\texecute(updateNewCampaign('temp', newTemp))\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tspacing={2}\n\t\t\t\tdirection={hasAdUnits ? null : 'column'}\n\t\t\t\talignItems={hasAdUnits ? null : 'center'}\n\t\t\t>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{hasAdUnits ? (\n\t\t\t\t\t\t\t<AdUnitsTable\n\t\t\t\t\t\t\t\tselected={selectedUnits}\n\t\t\t\t\t\t\t\titems={allAdUnitsArray}\n\t\t\t\t\t\t\t\tvalidate={props.validate}\n\t\t\t\t\t\t\t\thandleSelect={handleSelect}\n\t\t\t\t\t\t\t\tnoClone\n\t\t\t\t\t\t\t\tnoDownload\n\t\t\t\t\t\t\t\trowSelectable\n\t\t\t\t\t\t\t\tnoPrint\n\t\t\t\t\t\t\t\tnoActions\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Grid container direction='column' alignItems='center'>\n\t\t\t\t\t\t\t\t<p>{t('ERR_CAMPAIGN_REQUIRES_UNITS')}</p>\n\t\t\t\t\t\t\t\t<NewUnitDialog\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tbtnLabel='NEW_UNIT'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default CampaignUnits\n","import React from 'react'\nimport { DateTimePicker as MuiDateTimePicker } from '@material-ui/pickers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport {\n\tDateRange,\n\tNavigateNextRounded,\n\tNavigateBeforeRounded,\n\tUpdate,\n} from '@material-ui/icons'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport utils from 'helpers/dateUtils'\n\nconst CalendarIconAdor = ({\n\ticon = <DateRange />,\n\ticonColor,\n\tonIconClick,\n\tonLiveClick,\n\tonNextClick,\n}) => (\n\t<InputAdornment position='end'>\n\t\t{onNextClick && (\n\t\t\t<IconButton color={iconColor} onClick={onNextClick} size='small'>\n\t\t\t\t<NavigateNextRounded />\n\t\t\t</IconButton>\n\t\t)}\n\t\t<IconButton color={iconColor} onClick={onIconClick} size='small'>\n\t\t\t{icon}\n\t\t</IconButton>\n\t\t{onLiveClick && (\n\t\t\t<IconButton color={iconColor} onClick={onLiveClick} size='small'>\n\t\t\t\t<Update />\n\t\t\t</IconButton>\n\t\t)}\n\t</InputAdornment>\n)\n\nexport function DateTimePicker({\n\tcalendarIcon,\n\ticon,\n\ticonColor,\n\tonIconClick,\n\tonNextClick,\n\tonLiveClick,\n\tonBackClick,\n\tInputProps = {},\n\troundHour,\n\t...rest\n}) {\n\tconst now = utils.date(Date.now())\n\tconst date = roundHour ? utils.setMinutes(now, 0) : now\n\treturn (\n\t\t<MuiDateTimePicker\n\t\t\tvalue={date}\n\t\t\tInputProps={{\n\t\t\t\t...InputProps,\n\t\t\t\tdisabled: rest.disabled,\n\t\t\t\tendAdornment: calendarIcon ? (\n\t\t\t\t\t<CalendarIconAdor\n\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\ticonColor={iconColor}\n\t\t\t\t\t\tonIconClick={onIconClick}\n\t\t\t\t\t\tonNextClick={onNextClick}\n\t\t\t\t\t\tonLiveClick={onLiveClick}\n\t\t\t\t\t/>\n\t\t\t\t) : null,\n\t\t\t\tstartAdornment: onBackClick ? (\n\t\t\t\t\t<InputAdornment position='start'>\n\t\t\t\t\t\t<IconButton color={iconColor} onClick={onBackClick} size='small'>\n\t\t\t\t\t\t\t<NavigateBeforeRounded />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t) : null,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport default DateTimePicker\n\nconst dateTimePickerStyled = ({\n\tclasses,\n\tcalendarIcon,\n\ticon,\n\tInputProps = {},\n\t...rest\n}) => {\n\treturn (\n\t\t<DateTimePicker\n\t\t\tInputLabelProps={{\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t},\n\t\t\t\tFormLabelClasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tInputProps={{\n\t\t\t\t...InputProps,\n\t\t\t\tdisabled: rest.disabled,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastInput,\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\n\t\t\t\t},\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const DateTimePickerContrast = withStyles(styles)(dateTimePickerStyled)\n","export const styles = theme => {\n\treturn {\n\t\tdatepickerContrastInput: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\tdatepickerContrastLabel: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\t'&$datepickerContrastLabelFocused': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tdatepickerContrastLabelFocused: {},\n\t\tdatepickerContrastUnderline: {\n\t\t\t'&:after': {\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t\t'&:before': {\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport {\n\tGrid,\n\tFormGroup,\n\tFormControlLabel,\n\tFormControl,\n\tFormHelperText,\n\tCheckbox,\n\tTextField,\n} from '@material-ui/core'\nimport DateTimePicker from 'components/common/DateTimePicker'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport { utils } from 'ethers'\nimport MomentUtils from '@date-io/moment'\nimport { ItemSpecProp } from 'components/dashboard/containers/ItemCommon/'\nimport { CampaignTargetingRules } from 'components/dashboard/forms/items/NewItems'\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\nimport {\n\tselectSpinnerById,\n\tselectMainToken,\n\tselectNewCampaign,\n\tselectValidationsById,\n\tt,\n} from 'selectors'\nimport { execute, updateNewCampaign, validateNumberString } from 'actions'\nimport { GETTING_CAMPAIGNS_FEES } from 'constants/spinners'\nimport { validations } from 'adex-models'\nconst { isNumberString } = validations\n\nconst moment = new MomentUtils()\n\nconst getTotalImpressions = ({ depositAmount, min, max }) => {\n\ttry {\n\t\tconst dep = isNumberString(depositAmount) && parseFloat(depositAmount)\n\t\tconst minBound = isNumberString(min) && parseFloat(min)\n\t\tconst maxBound = isNumberString(max) && parseFloat(max)\n\t\tif (!dep) {\n\t\t\treturn t('DEPOSIT_NOT_SET')\n\t\t} else if (!minBound || !maxBound) {\n\t\t\treturn ''\n\t\t\t// return t('BOUNDS_NOT_NOT_SET')\n\t\t} else {\n\t\t\tconst impressions = utils.commify(Math.floor((dep / minBound) * 1000))\n\t\t\treturn t('TOTAL_IMPRESSIONS_UP_TO', { args: [impressions] })\n\t\t}\n\t} catch (err) {\n\t\treturn ''\n\t}\n}\n\nfunction CampaignFinance({ validateId, ...rest }) {\n\tconst invalidFields = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst campaign = useSelector(selectNewCampaign)\n\n\tconst {\n\t\ttitle,\n\t\tvalidators,\n\t\tdepositAmount,\n\t\tpricingBounds: campaignPricingBounds,\n\t\t// depositAsset,\n\t\tactiveFrom,\n\t\twithdrawPeriodStart,\n\t\t// minTargetingScore,\n\t\ttemp = {},\n\t} = campaign\n\n\tconst {\n\t\tmaxChannelFees,\n\t\tmaxDepositFormatted,\n\t\tuseUtmTags,\n\t\tsuggestedPricingBounds = { IMPRESSION: {} },\n\t\tuseUtmSrcWithPub,\n\t} = temp\n\n\t// if pricingBounds is null\n\tconst pricingBounds = campaignPricingBounds || { IMPRESSION: {} }\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\t)\n\n\tconst from = activeFrom || undefined\n\tconst to = withdrawPeriodStart || undefined\n\tconst now = moment.date().valueOf()\n\n\tconst {\n\t\ttitle: errTitle,\n\t\tdepositAmount: errDepAmnt,\n\t\tpricingBounds_min: errMin,\n\t\tpricingBounds_max: errMax,\n\t\tactiveFrom: errFrom,\n\t\twithdrawPeriodStart: errTo,\n\t} = invalidFields\n\n\tconst leader = validators[0] || {}\n\tconst follower = validators[1] || {}\n\n\tconst impressions = getTotalImpressions({\n\t\tdepositAmount,\n\t\tmin: pricingBounds.IMPRESSION.min,\n\t\tmax: pricingBounds.IMPRESSION.max,\n\t})\n\n\tconst updatePricingBoundsImpression = (type, value) => {\n\t\tconst newPricingBounds = { ...pricingBounds }\n\t\tconst impression = { ...pricingBounds.IMPRESSION }\n\t\timpression[type] = value\n\t\tnewPricingBounds.IMPRESSION = impression\n\t\texecute(updateNewCampaign('pricingBounds', newPricingBounds))\n\t\texecute(\n\t\t\tvalidateNumberString({\n\t\t\t\tvalidateId,\n\t\t\t\tprop: `pricingBounds_${type}`,\n\t\t\t\tvalue,\n\t\t\t\tdirty: true,\n\t\t\t})\n\t\t)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('title', ev.target.value))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER_TXT') // TODO\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\tlabel={t('ADV_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\tprop='leader-validator'\n\t\t\t\t\t\t\tvalue={leader.url || ''}\n\t\t\t\t\t\t\thelperText={leader.id}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\tlabel={t('PUB_PLATFORM_VALIDATOR')}\n\t\t\t\t\t\t\tprop='follower-validator'\n\t\t\t\t\t\t\tvalue={follower.url || ''}\n\t\t\t\t\t\t\thelperText={follower.id}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('DEPOSIT_AMOUNT_LABEL', {\n\t\t\t\t\t\t\t\targs: [maxDepositFormatted, symbol, maxChannelFees, symbol],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tname='depositAmount'\n\t\t\t\t\t\t\tvalue={depositAmount}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('depositAmount', value))\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tprop: 'depositAmount',\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errDepAmnt && !!errDepAmnt.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDepAmnt && !!errDepAmnt.dirty\n\t\t\t\t\t\t\t\t\t? errDepAmnt.errMsg\n\t\t\t\t\t\t\t\t\t: impressions\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('CPM_MIN_LABEL')}\n\t\t\t\t\t\t\tname='pricingBounds_min'\n\t\t\t\t\t\t\tvalue={pricingBounds.IMPRESSION.min}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\tupdatePricingBoundsImpression('min', value)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\n\t\t\t\t\t\t\t\t\t? errMin.errMsg\n\t\t\t\t\t\t\t\t\t: t('CPM_MIN_HELPER_TXT', {\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedPricingBounds.IMPRESSION.min, symbol],\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('CPM_MAX_LABEL')}\n\t\t\t\t\t\t\tname='pricingBounds_max'\n\t\t\t\t\t\t\tvalue={pricingBounds.IMPRESSION.max}\n\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\tupdatePricingBoundsImpression('max', value)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errMax && !!errMax.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrMax && !!errMax.dirty\n\t\t\t\t\t\t\t\t\t? errMax.errMsg\n\t\t\t\t\t\t\t\t\t: t('CPM_MAX_HELPER_TXT', {\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedPricingBounds.IMPRESSION.max, symbol],\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_START')}\n\t\t\t\t\t\t\tinputVariant='outlined'\n\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_STARTS')}\n\t\t\t\t\t\t\tminDate={now}\n\t\t\t\t\t\t\tmaxDate={to}\n\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('activeFrom', val.valueOf()))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvalue={from || null}\n\t\t\t\t\t\t\terror={errFrom && !!errFrom.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrFrom && !!errFrom.dirty\n\t\t\t\t\t\t\t\t\t? errFrom.errMsg\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_STARTS_FROM_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\t\temptyLabel={t('SET_CAMPAIGN_END')}\n\t\t\t\t\t\t\tinputVariant='outlined'\n\t\t\t\t\t\t\tdisablePast\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\tlabel={t('CAMPAIGN_ENDS')}\n\t\t\t\t\t\t\tminDate={from || now}\n\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\texecute(updateNewCampaign('withdrawPeriodStart', val.valueOf()))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue={to || null}\n\t\t\t\t\t\t\terror={errTo && !!errTo.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTo && !!errTo.dirty\n\t\t\t\t\t\t\t\t\t? errTo.errMsg\n\t\t\t\t\t\t\t\t\t: t('CAMPAIGN_ENDS_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!useUtmTags}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('temp', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseUtmTags: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='useUtmTags'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_AUTO_UTM_TAGS')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t{t('CAMPAIGN_AUTO_UTM_TAGS_INFO', {\n\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360011670859-How-to-add-UTM-links-and-track-campaigns'>\n\t\t\t\t\t\t\t\t\t\t\t{t('CHECK_HERE')}\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<FormControl disabled={!useUtmTags}>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!useUtmSrcWithPub}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('temp', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseUtmSrcWithPub: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='useUtmSrcWithPub'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_UTM_SRC_WITH_PUB')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t<FormHelperText>\n\t\t\t\t\t\t\t\t{t('CAMPAIGN_UTM_SRC_WITH_PUB_INFO', {\n\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t// TODO: link to help\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor href='https://help.adex.network/hc/en-us/articles/360011670859-How-to-add-UTM-links-and-track-campaigns'>\n\t\t\t\t\t\t\t\t\t\t\t{t('CHECK_HERE')}\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</FormHelperText>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<CampaignTargetingRules\n\t\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\t\tvalidateId={validateId}\n\t\t\t\t\t\t\tadvancedOnly\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nCampaignFinance.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default CampaignFinance\n","import React from 'react'\nimport {\n\tBox,\n\tList,\n\tListItem,\n\tListItemText,\n\tListSubheader,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n} from '@material-ui/core'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { TopLoading } from 'components/common/dialog/content'\nimport { t } from 'selectors'\n\nexport const WalletAction = ({ t, authType }) => {\n\tlet msg = ''\n\tlet subMsg\n\tswitch (authType) {\n\t\tcase AUTH_TYPES.METAMASK.name:\n\t\t\tmsg = 'METAMASK_WAITING_ACTION'\n\t\t\tsubMsg = 'METAMASK_WAITING_ACTION_INFO'\n\t\t\tbreak\n\t\tcase AUTH_TYPES.TREZOR.name:\n\t\t\tmsg = 'TREZOR_WAITING_ACTION'\n\t\t\tbreak\n\t\tdefault:\n\t\t\tmsg = 'WAITING_FOR_USER_ACTION'\n\t\t\tbreak\n\t}\n\n\treturn <TopLoading msg={t(msg)} subMsg={t(subMsg)} />\n}\n\nexport const FeesBreakdown = ({ breakdownFormatted = {}, symbol }) => (\n\t<Box p={1}>\n\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t<ExpansionPanelSummary\n\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\taria-controls='fees-breakdown'\n\t\t\t\tid='fees-breakdown'\n\t\t\t>\n\t\t\t\t<Typography>{t('FEES_BREAKDOWN_ADVANCED')}</Typography>\n\t\t\t</ExpansionPanelSummary>\n\t\t\t<List\n\t\t\t\tdisablePadding\n\t\t\t\tdense\n\t\t\t\tsubheader={\n\t\t\t\t\t<ListSubheader component='div'>\n\t\t\t\t\t\t{t('BD_TOTAL_FEE', {\n\t\t\t\t\t\t\targs: [breakdownFormatted.feeAmount, symbol],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ListSubheader>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{!!breakdownFormatted.deployFee && (\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tprimary={t('BD_DEPLOY_FEE', {\n\t\t\t\t\t\t\t\targs: [breakdownFormatted.deployFee, symbol],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t)}\n\t\t\t\t<ListItem>\n\t\t\t\t\t<ListItemText\n\t\t\t\t\t\tprimary={t('BD_TXNS_FEE', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\tbreakdownFormatted.executeAction,\n\t\t\t\t\t\t\t\tbreakdownFormatted.txnsFee,\n\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t</ListItem>\n\t\t\t\t{!!breakdownFormatted.sweepTxnsCount && (\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tprimary={t('BD_SWEEP_FEE', {\n\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\tbreakdownFormatted.sweepTxnsCount,\n\t\t\t\t\t\t\t\t\tbreakdownFormatted.sweepTxnsFeeAmount,\n\t\t\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t)}\n\t\t\t</List>\n\t\t</ExpansionPanel>\n\t</Box>\n)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { constants, IabCategories } from 'adex-models'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\n\nimport { t } from 'selectors'\nimport { Box, Chip, Tooltip } from '@material-ui/core'\n\nconst { CountryNames, CountryTiers } = constants\n\nconst AudiencePreview = ({ audienceInput = {}, title, subHeader }) => {\n\tconst {\n\t\tlocation = {},\n\t\tcategories = {},\n\t\tpublishers = {},\n\t\tadvanced = {},\n\t} = audienceInput\n\n\treturn (\n\t\t<Box>\n\t\t\t{title && <OutlinedPropView label={t('TITLE')} value={title} />}\n\n\t\t\t{!!location.apply ? (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`LOCATION_${location.apply.toUpperCase()}`)}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tlocation.apply === 'allin' ? (\n\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tlabel={t('ALL_COUNTRIES')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t(location[location.apply] || []).map(x => (\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\tkey={x}\n\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\tCountryTiers[x]\n\t\t\t\t\t\t\t\t\t\t\t? CountryTiers[x].countries.join(', ')\n\t\t\t\t\t\t\t\t\t\t\t: t(CountryNames[x] || x || '')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Chip variant='outlined' size='small' label={t(x || '')} />\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`LOCATION`)}\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{!!categories.apply ? (\n\t\t\t\tcategories.apply.map(apply => (\n\t\t\t\t\t<OutlinedPropView\n\t\t\t\t\t\tkey={apply}\n\t\t\t\t\t\tmargin='dense'\n\t\t\t\t\t\tlabel={t(`CATEGORIES_${(apply || '').toUpperCase()}`)}\n\t\t\t\t\t\tvalue={(categories[apply] || []).map(cat => (\n\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\tkey={cat}\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tlabel={t(\n\t\t\t\t\t\t\t\t\tIabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t/>\n\t\t\t\t))\n\t\t\t) : (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`CATEGORIES`)}\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{publishers.apply ? (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`PUBLISHERS_${publishers.apply.toUpperCase()}`)}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\tpublishers.apply === 'allin' ? (\n\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\tlabel={t('ALL_PUBLISHERS')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t(publishers[publishers.apply] || []).map((x, index) => (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tlabel={(JSON.parse(x) || {}).hostname}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tmargin='dense'\n\t\t\t\t\tlabel={t(`PUBLISHERS`)}\n\t\t\t\t\tvalue={t('NOT_SELECTED')}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</Box>\n\t)\n}\n\nAudiencePreview.propTypes = {\n\taudienceInput: PropTypes.object,\n\tsubHeader: PropTypes.string,\n}\n\nexport default AudiencePreview\n","import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tGrid,\n\tBox,\n\tCircularProgress,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n} from '@material-ui/core'\nimport { Alert, AlertTitle } from '@material-ui/lab'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport {\n\tWalletAction,\n\tFeesBreakdown,\n} from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\nimport { formatDateTime } from 'helpers/formatters'\nimport {\n\tselectAccountIdentityAddr,\n\tselectAuthType,\n\tselectMainToken,\n\tselectSpinnerById,\n\tselectNewCampaign,\n\tt,\n} from 'selectors'\nimport { execute, getCampaignActualFees, checkNetworkCongestion } from 'actions'\nimport { GETTING_CAMPAIGNS_FEES, OPENING_CAMPAIGN } from 'constants/spinners'\n\nfunction CampaignFormPreview() {\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst authType = useSelector(selectAuthType)\n\tconst mainToken = useSelector(selectMainToken)\n\tconst { symbol } = mainToken\n\tconst feesSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_CAMPAIGNS_FEES)\n\t)\n\n\tconst openingSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, OPENING_CAMPAIGN)\n\t)\n\tconst [networkCongested, setNetworkCongested] = useState(false)\n\n\tconst {\n\t\ttitle,\n\t\t// targeting,\n\t\tadUnits,\n\t\tvalidators,\n\t\tdepositAmount,\n\t\tpricingBounds,\n\t\t// maxPerImpression,\n\t\t// depositAsset,\n\t\twithdrawPeriodStart,\n\t\tactiveFrom,\n\t\t// minTargetingScore,\n\t\ttargetingRules = {},\n\t\taudienceInput = {},\n\t\t// nonce\n\t\ttemp = {},\n\t} = useSelector(selectNewCampaign)\n\n\tconst { feesFormatted, totalSpendFormatted, breakdownFormatted } = temp\n\tconst { IMPRESSION = {} } = pricingBounds || {}\n\tconst { advanced = {} } = audienceInput.inputs\n\n\tuseEffect(() => {\n\t\tasync function checkNetwork() {\n\t\t\tconst msg = await execute(checkNetworkCongestion())\n\n\t\t\tif (msg) {\n\t\t\t\tsetNetworkCongested(msg)\n\t\t\t}\n\t\t}\n\t\texecute(getCampaignActualFees())\n\t\tcheckNetwork()\n\t}, [])\n\n\treturn feesSpinner ? (\n\t\t<FullContentSpinner />\n\t) : (\n\t\t<ContentBox>\n\t\t\t{openingSpinner || networkCongested ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t{openingSpinner && (\n\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t<WalletAction t={t} authType={authType} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t\t{networkCongested && (\n\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t<Alert severity='warning' variant='filled' square>\n\t\t\t\t\t\t\t\t<AlertTitle>{t('NETWORK_WARNING')}</AlertTitle>\n\t\t\t\t\t\t\t\t{networkCongested}\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('depositAmount', { isProp: true })}\n\t\t\t\t\t\t\tright={`${depositAmount} ${symbol}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('CPM_MIN_LABEL')}\n\t\t\t\t\t\t\tright={`${IMPRESSION.min} ${symbol}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('CPM_MAX_LABEL')}\n\t\t\t\t\t\t\tright={`${IMPRESSION.max} ${symbol}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('FEES')}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\tfeesFormatted !== undefined ? (\n\t\t\t\t\t\t\t\t\t`${feesFormatted} ${symbol}`\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<CircularProgress size={42} />\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('CAMPAIGN_FEES_AND_BUDGET')}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\ttotalSpendFormatted !== undefined ? (\n\t\t\t\t\t\t\t\t\t`${totalSpendFormatted} ${symbol}`\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<CircularProgress size={42} />\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FeesBreakdown\n\t\t\t\t\t\t\tbreakdownFormatted={breakdownFormatted}\n\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t\tright={formatDateTime(activeFrom)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\t\tright={formatDateTime(withdrawPeriodStart)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t{/* <Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('CAMPAIGN_MIN_TARGETING')}\n\t\t\t\t\t\t\tright={t(minTargetingScore ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid> */}\n\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('validators', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{validators.map(val => (\n\t\t\t\t\t\t\t\t\t\t<div key={val.id}>{`${val.url} - ${val.id}`}</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t(`CAMPAIGN_AUTO_UTM_TAGS`)}\n\t\t\t\t\t\t\tright={t(temp.useUtmTags ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t(`CAMPAIGN_UTM_SRC_WITH_PUB`)}\n\t\t\t\t\t\t\tright={t(temp.useUtmSrcWithPub ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t(`INCLUDE_INCENTIVIZED_TRAFFIC_LABEL`)}\n\t\t\t\t\t\t\tright={t(advanced.includeIncentivized ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t(`DISABLE_FREQUENCY_CAPPING_LABEL`)}\n\t\t\t\t\t\t\tright={t(advanced.disableFrequencyCapping ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t(`LIMIT_AVERAGE_DAILY_SPENDING_LABEL`)}\n\t\t\t\t\t\t\tright={t(advanced.limitDailyAverageSpending ? 'YES' : 'NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('AUDIENCE')}\n\t\t\t\t\t\t\tright={<AudiencePreview audienceInput={audienceInput.inputs} />}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('adUnits', { isProp: true })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<AdUnitsTable\n\t\t\t\t\t\t\t\t\titems={adUnits}\n\t\t\t\t\t\t\t\t\tnoSearch\n\t\t\t\t\t\t\t\t\tnoActions\n\t\t\t\t\t\t\t\t\tnoDownload\n\t\t\t\t\t\t\t\t\tnoPrint\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\t\taria-controls='targeting-rules-content'\n\t\t\t\t\t\t\t\tid='targeting-rules-header'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography>{t('TARGETING_RULES')}</Typography>\n\t\t\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\n\t\t\t\t\t\t\t\t<pre>{JSON.stringify(targetingRules || [], null, 2)}</pre>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</ExpansionPanel>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default CampaignFormPreview\n","import React, { useEffect, Fragment, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tFormHelperText,\n\tTextField,\n\tBox,\n\tTooltip,\n\tTypography,\n\tChip,\n} from '@material-ui/core'\nimport AutocompleteMUI, {\n\tcreateFilterOptions,\n} from '@material-ui/lab/Autocomplete'\nimport { CheckSharp, ErrorSharp, InfoSharp } from '@material-ui/icons'\n\nconst StatusIcon = {\n\tsuccess: <CheckSharp color='secondary' />,\n\terror: <ErrorSharp color='error' />,\n}\n\nconst useStyles = makeStyles(theme => ({\n\textraInfo: {\n\t\tmarginLeft: theme.spacing(1),\n\t},\n}))\n\nconst ExtraLabel = ({ label }) =>\n\tArray.isArray(label) ? (\n\t\t<Fragment>\n\t\t\t{label.map((x, index) => (\n\t\t\t\t<Typography\n\t\t\t\t\tkey={index}\n\t\t\t\t\tdisplay='block'\n\t\t\t\t\tvariant='caption'\n\t\t\t\t\tcolor='inherit'\n\t\t\t\t>\n\t\t\t\t\t{x}\n\t\t\t\t</Typography>\n\t\t\t))}\n\t\t</Fragment>\n\t) : (\n\t\tlabel\n\t)\n\nfunction Autocomplete({\n\tsource,\n\tmultiple,\n\tlabel,\n\tvariant,\n\terror,\n\terrorText,\n\tonInit,\n\tvalue,\n\tonChange,\n\tfullWidth,\n\tdisabled,\n\thideSelectedOnDisable,\n\tdisableCloseOnSelect,\n\tdisabledSrcValues = [],\n\tenableCreate,\n}) {\n\tconst classes = useStyles()\n\n\tuseEffect(() => {\n\t\ttypeof onInit === 'function' && onInit()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst handleChange = item => {\n\t\tif (multiple) {\n\t\t\tonChange(item.map(i => i.value || i.label || i))\n\t\t} else {\n\t\t\tonChange(item ? item.value || item.label || item : item)\n\t\t}\n\t}\n\n\tconst srcValue = multiple\n\t\t? Array.isArray(value)\n\t\t\t? value.map(v => source.find(s => s.value === v) || '')\n\t\t\t: []\n\t\t: source.find(s => s.value === value) || value\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<AutocompleteMUI\n\t\t\t\tmultiple={multiple}\n\t\t\t\tdisableCloseOnSelect={disableCloseOnSelect}\n\t\t\t\toptions={source}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tgroupBy={option => option.group}\n\t\t\t\tvalue={srcValue}\n\t\t\t\tgetOptionLabel={option => option.label || option.name || option}\n\t\t\t\tgetLimitTagsText={more => `${more} more`}\n\t\t\t\tlimitTags={10}\n\t\t\t\tgetOptionDisabled={option =>\n\t\t\t\t\tdisabledSrcValues.some(x => (option.value || option) === x)\n\t\t\t\t}\n\t\t\t\tgetOptionSelected={(opt, val = '') => {\n\t\t\t\t\tconst isSelected =\n\t\t\t\t\t\t!!opt &&\n\t\t\t\t\t\t!!val &&\n\t\t\t\t\t\t[JSON.stringify(val), val, val.value].includes(opt.value)\n\t\t\t\t\treturn isSelected\n\t\t\t\t}}\n\t\t\t\t// freeSolo\n\t\t\t\tonChange={(_, newValue) => handleChange(newValue)}\n\t\t\t\trenderInput={params => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\tvariant={variant}\n\t\t\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t\trenderOption={option => (\n\t\t\t\t\t<Box\n\t\t\t\t\t\tkey={option.label}\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography display='inline'>{option.label}</Typography>\n\t\t\t\t\t\t{!!option.extraLabel && (\n\t\t\t\t\t\t\t<Tooltip title={<ExtraLabel label={option.extraLabel} />}>\n\t\t\t\t\t\t\t\t<InfoSharp\n\t\t\t\t\t\t\t\t\tclassName={classes.extraInfo}\n\t\t\t\t\t\t\t\t\tfontSize='small'\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\trenderTags={(value, getCustomizedTagProps) =>\n\t\t\t\t\tvalue.map(\n\t\t\t\t\t\t(option, index) =>\n\t\t\t\t\t\t\t!(disabled && hideSelectedOnDisable) &&\n\t\t\t\t\t\t\t(!!option.extraLabel ? (\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\tkey={option.value + '' + index}\n\t\t\t\t\t\t\t\t\ttitle={<ExtraLabel label={option.extraLabel || ''} />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\tlabel={option.label || option}\n\t\t\t\t\t\t\t\t\t\t{...getCustomizedTagProps({ index })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tlabel={option.label || option}\n\t\t\t\t\t\t\t\t\t{...getCustomizedTagProps({ index })}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{error && (\n\t\t\t\t<FormHelperText error id='component-error-text'>\n\t\t\t\t\t{errorText}\n\t\t\t\t</FormHelperText>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n\nconst filter = createFilterOptions()\n\nexport const AutocompleteWithCreate = ({\n\tsource,\n\tlabel,\n\tvariant,\n\terror,\n\thelperText,\n\tfullWidth,\n\tinitialValue,\n\tdisabled,\n\tonChange,\n\tchangeOnInputUpdate,\n}) => {\n\tconst [value, setValue] = useState(null)\n\n\tuseEffect(() => {\n\t\tsetValue({ label: initialValue, value: initialValue })\n\t}, [initialValue])\n\n\treturn (\n\t\t<AutocompleteMUI\n\t\t\tvalue={value}\n\t\t\tonChange={(event, newValue) => {\n\t\t\t\t// Create a new value from the user input\n\t\t\t\tif (newValue && (newValue.inputValue || newValue.value)) {\n\t\t\t\t\tconst value = newValue.inputValue || newValue.value\n\t\t\t\t\tsetValue({\n\t\t\t\t\t\tlabel: newValue.label || value,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t})\n\t\t\t\t\tonChange(value)\n\t\t\t\t} else {\n\t\t\t\t\tsetValue(newValue)\n\t\t\t\t\tonChange('')\n\t\t\t\t}\n\t\t\t}}\n\t\t\tonInputChange={(ev, value) => {\n\t\t\t\tif (changeOnInputUpdate) {\n\t\t\t\t\tonChange(value)\n\t\t\t\t}\n\t\t\t}}\n\t\t\tfilterOptions={(options, params) => {\n\t\t\t\tconst filtered = filter(options, params)\n\n\t\t\t\t// Suggest the creation of a new value\n\t\t\t\tif (!changeOnInputUpdate && params.inputValue !== '') {\n\t\t\t\t\tfiltered.push({\n\t\t\t\t\t\tinputValue: params.inputValue,\n\t\t\t\t\t\tlabel: `Add \"${params.inputValue}\"`,\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\treturn filtered\n\t\t\t}}\n\t\t\tselectOnFocus\n\t\t\t// clearOnBlur\n\t\t\t// handleHomeEndKeys\n\t\t\tdisabled={disabled}\n\t\t\toptions={source}\n\t\t\tgetLimitTagsText={more => `${more} more`}\n\t\t\tlimitTags={2}\n\t\t\tgroupBy={option => option.group}\n\t\t\tgetOptionLabel={option => {\n\t\t\t\t// Value selected with enter, right from the input\n\t\t\t\tif (typeof option === 'string') {\n\t\t\t\t\treturn option\n\t\t\t\t}\n\t\t\t\t// Add \"xxx\" option created dynamically\n\t\t\t\tif (option.inputValue) {\n\t\t\t\t\treturn option.inputValue\n\t\t\t\t}\n\t\t\t\t// Regular option\n\t\t\t\treturn option.label\n\t\t\t}}\n\t\t\trenderOption={option =>\n\t\t\t\toption.status ? (\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\twidth={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t{option.label}\n\n\t\t\t\t\t\t{StatusIcon[option.status] || option.status}\n\t\t\t\t\t</Box>\n\t\t\t\t) : (\n\t\t\t\t\toption.label\n\t\t\t\t)\n\t\t\t}\n\t\t\tfreeSolo={!changeOnInputUpdate}\n\t\t\trenderInput={params => (\n\t\t\t\t<TextField\n\t\t\t\t\t{...params}\n\t\t\t\t\terror={error}\n\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\thelperText={helperText}\n\t\t\t\t\tvariant={variant}\n\t\t\t\t/>\n\t\t\t)}\n\t\t/>\n\t)\n}\n\nAutocomplete.propTypes = {\n\tsource: PropTypes.array.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tonChange: PropTypes.func.isRequired,\n\tmultiple: PropTypes.bool,\n\tvariant: PropTypes.string,\n}\n\nexport default Autocomplete\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport {\n\tGrid,\n\tTextField,\n\tFormGroup,\n\tFormControlLabel,\n\tFormControl,\n\tCheckbox,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n\tBox,\n} from '@material-ui/core'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\nimport Dropdown from 'components/common/dropdown'\nimport { FullContentSpinner } from 'components/common/dialog/content'\nimport { AutocompleteWithCreate } from 'components/common/autocomplete'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport {\n\tt,\n\tselectNewAdSlot,\n\tselectValidationsById,\n\tselectSpinnerById,\n\tselectSlotTypesSourceWithDemands,\n\twebsitesAutocompleteSrc,\n\tselectMainToken,\n\tselectMinTargetingCpm,\n} from 'selectors'\nimport { UPDATING_SLOTS_DEMAND } from 'constants/spinners'\nimport {\n\tupdateSlotsDemandThrottled,\n\tupdateNewSlot,\n\tvalidateNumberString,\n\texecute,\n} from 'actions'\n\nfunction AdSlotBasic({ validateId }) {\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst newItem = useSelector(selectNewAdSlot)\n\tconst websitesSrc = useSelector(websitesAutocompleteSrc)\n\tconst adTypesSource = useSelector(selectSlotTypesSourceWithDemands)\n\tconst minCPM = useSelector(selectMinTargetingCpm)\n\tconst {\n\t\ttitle = '',\n\t\tdescription = '',\n\t\twebsite = '',\n\t\ttype = '',\n\t\trulesInput: slotRulesInput,\n\t\tminPerImpression,\n\t} = newItem\n\n\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\n\n\tconst { allowAdultContent, autoSetMinCPM } = rulesInput.inputs\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, UPDATING_SLOTS_DEMAND)\n\t)\n\n\tconst {\n\t\ttitle: errTitle,\n\t\tdescription: errDescription,\n\t\twebsite: errWebsite,\n\t\ttype: errType,\n\t\tminPerImpression: errMin,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\tuseEffect(() => {\n\t\texecute(updateSlotsDemandThrottled())\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\n\t\tif (!autoSetMinCPM && minPerImpression === null) {\n\t\t\texecute(updateNewSlot('minPerImpression', minCPM.toFixed(2)))\n\t\t}\n\t}, [autoSetMinCPM, minCPM, minPerImpression])\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={'Ad Slot ' + t('title', { isProp: true })}\n\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\tonChange={ev => execute(updateNewSlot('title', ev.target.value))}\n\t\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrTitle && !!errTitle.dirty\n\t\t\t\t\t\t\t\t\t? errTitle.errMsg\n\t\t\t\t\t\t\t\t\t: t('TITLE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tlabel={t('description', { isProp: true })}\n\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(updateNewSlot('description', ev.target.value))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\terror={errDescription && !!errDescription.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrDescription && !!errDescription.dirty\n\t\t\t\t\t\t\t\t\t? errDescription.errMsg\n\t\t\t\t\t\t\t\t\t: t('DESCRIPTION_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<AutocompleteWithCreate\n\t\t\t\t\t\t\tchangeOnInputUpdate\n\t\t\t\t\t\t\tinitialValue={website}\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tsource={websitesSrc}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tlabel={t('SLOT_WEBSITE')}\n\t\t\t\t\t\t\terror={errWebsite && !!errWebsite.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrWebsite && !!errWebsite.dirty ? (\n\t\t\t\t\t\t\t\t\terrWebsite.errMsg\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonChange={value => {\n\t\t\t\t\t\t\t\texecute(updateNewSlot('website', (value || '').trim()))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tonChange={value => execute(updateNewSlot('type', value))}\n\t\t\t\t\t\t\tsource={adTypesSource}\n\t\t\t\t\t\t\tvalue={type + ''}\n\t\t\t\t\t\t\tlabel={t('adType', { isProp: true })}\n\t\t\t\t\t\t\thtmlId='ad-type-dd'\n\t\t\t\t\t\t\tname='adType'\n\t\t\t\t\t\t\terror={errType && !!errType.dirty}\n\t\t\t\t\t\t\tmaxLength={300}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrType && !!errType.dirty\n\t\t\t\t\t\t\t\t\t? errType.errMsg\n\t\t\t\t\t\t\t\t\t: t('SLOT_TYPE_HELPER')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\t\taria-controls='slot-rules-advanced'\n\t\t\t\t\t\t\t\tid='slot-rules-advanced'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography>{t('SLOT_ADVANCED')}</Typography>\n\t\t\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL', { args: [symbol] })}\n\t\t\t\t\t\t\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\t\t\t\t\t\t\tvalue={minPerImpression || ''}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!!autoSetMinCPM}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateNewSlot('minPerImpression', value))\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\terror={errMin && !!errMin.dirty}\n\t\t\t\t\t\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\t\terrMin && !!errMin.dirty\n\t\t\t\t\t\t\t\t\t\t\t\t\t? errMin.errMsg\n\t\t\t\t\t\t\t\t\t\t\t\t\t: t('SLOT_MANUAL_CPM_MIN_HELPER')\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<OutlinedPropView\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_LABEL')}\n\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={!!autoSetMinCPM}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('rulesInput', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoSetMinCPM: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue='autoSetMinCPM'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_INFO_LABEL')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<OutlinedPropView\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT')}\n\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={!!allowAdultContent}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('rulesInput', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowAdultContent: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue='allowAdultContent'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT_INFO')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</ExpansionPanel>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nAdSlotBasic.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdSlotBasic\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport ImgForm from 'components/dashboard/forms/ImgForm'\nimport {\n\tGrid,\n\tTextField,\n\tCollapse,\n\tFormControlLabel,\n\tSwitch,\n} from '@material-ui/core'\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { t, selectNewItemByTypeAndId, selectValidationsById } from 'selectors'\nimport { updateNewSlot, execute } from 'actions'\n\nfunction AdSlotMedia({ validateId, itemId }) {\n\tconst { type, targetUrl, temp } = useSelector(state =>\n\t\tselectNewItemByTypeAndId(state, 'AdSlot', itemId)\n\t)\n\n\tconst { useFallback = false, tempUrl, mime } = temp\n\n\tconst { temp: errImg, targetUrl: errFallbackUrl } = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst { width, height } = getWidAndHightFromType(type)\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<OutlinedPropView\n\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA')}\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\t\tchecked={useFallback}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'temp',\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseFallback: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t\titemId\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('USE_FALLBACK_DATA_INFO')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Collapse in={useFallback}>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tlabel={t('targetUrl', { isProp: true })}\n\t\t\t\t\t\t\t\t\tvalue={targetUrl}\n\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot('targetUrl', ev.target.value, null, itemId)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={errFallbackUrl && !!errFallbackUrl.dirty}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\terrFallbackUrl && !!errFallbackUrl.dirty\n\t\t\t\t\t\t\t\t\t\t\t? errFallbackUrl.errMsg\n\t\t\t\t\t\t\t\t\t\t\t: t('FALLBACKTARGETURL_HELPER')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<ImgForm\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\n\t\t\t\t\t\t\t\t\timgSrc={tempUrl || ''}\n\t\t\t\t\t\t\t\t\tmime={mime || ''}\n\t\t\t\t\t\t\t\t\tonChange={mediaProps =>\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\tupdateNewSlot(\n\t\t\t\t\t\t\t\t\t\t\t\t'temp',\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t...temp,\n\t\t\t\t\t\t\t\t\t\t\t\t\t...mediaProps,\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\titemId\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tadditionalInfo={t('SLOT_FALLBACK_MEDIA_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [width, height, 'px'],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\terrMsg={errImg && errImg.dirty ? errImg.errMsg : ''}\n\t\t\t\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\t\t\t\theight,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Collapse>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nAdSlotMedia.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AdSlotMedia\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport PropTypes from 'prop-types'\nimport { Grid, TextField } from '@material-ui/core'\n\nimport { execute, updateNewAudience } from 'actions'\nimport { t, selectValidationsById, selectNewAudience } from 'selectors'\n\nfunction AudienceBasic({ validateId }) {\n\tconst { title } = useSelector(selectNewAudience)\n\n\tconst { title: errTitle } = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\treturn (\n\t\t<div>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('title', { isProp: true })}\n\t\t\t\t\t\tname='title'\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(updateNewAudience('title', ev.target.value))\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errTitle && !!errTitle.dirty}\n\t\t\t\t\t\tmaxLength={120}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrTitle && !!errTitle.dirty ? errTitle.errMsg : t('TITLE_HELPER')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nAudienceBasic.propTypes = {\n\tvalidateId: PropTypes.string.isRequired,\n}\n\nexport default AudienceBasic\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { ContentBox, ContentBody } from 'components/common/dialog/content'\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\nimport { selectNewAudience } from 'selectors'\n\nfunction AdUnitPreview() {\n\tconst { title, inputs, version } = useSelector(selectNewAudience)\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t<ContentBody>\n\t\t\t\t<AudiencePreview audienceInput={inputs} title={title} />\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AdUnitPreview\n","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport clsx from 'clsx'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tGrid,\n\tBox,\n\tTextField,\n\tPaper,\n\tTab,\n\tTabs,\n\tFormControlLabel,\n\tFormControl,\n\tFormHelperText,\n\tRadioGroup,\n\tRadio,\n\tTypography,\n\tCheckbox,\n} from '@material-ui/core'\nimport {\n\tPublicSharp as LocationIcon,\n\tLocalOfferSharp as CategoryIcon,\n\tWebAssetSharp as PublisherIcon,\n\tMoreHorizSharp as AdvIcon,\n\tErrorSharp as ErrIcon,\n} from '@material-ui/icons'\nimport Autocomplete from 'components/common/autocomplete'\n\nimport { t, selectAudienceInputsDataByItem } from 'selectors'\nimport { execute, updateTargetRuleInput } from 'actions'\n\nconst useStyles = makeStyles(theme => ({\n\tslider: {\n\t\tpadding: '22px 0px',\n\t},\n\tmarkLabel: {\n\t\ttop: '30px',\n\t},\n\tdisabled: {\n\t\topacity: 0.5,\n\t},\n\tin: {\n\t\tcolor: theme.palette.success.main,\n\t},\n\tnin: {\n\t\tcolor: theme.palette.error.main,\n\t},\n}))\n\nconst parameterIcon = {\n\tlocation: <LocationIcon />,\n\tcategories: <CategoryIcon />,\n\tpublishers: <PublisherIcon />,\n\tadvanced: <AdvIcon />,\n}\n\nconst getApply = (applyType, currentApply = [], actionType) =>\n\tapplyType === 'single'\n\t\t? actionType\n\t\t: [...currentApply, actionType].filter((t, i, all) => all.indexOf(t) === i)\n\nconst Sources = ({\n\tid,\n\tsource = [],\n\tcollection,\n\tplaceholder,\n\tlabel,\n\tindex,\n\ttarget = {},\n\tparameter,\n\titemId,\n\titemType,\n\tactionType,\n\tapplyType,\n\tdisabled,\n\tdisabledSrcValues,\n}) => {\n\tconst apply = getApply(applyType, target.apply, actionType)\n\n\treturn source.length ? (\n\t\t<Autocomplete\n\t\t\tmultiple\n\t\t\tid={id}\n\t\t\tfullWidth\n\t\t\tdirection='auto'\n\t\t\topenOnClick\n\t\t\trequired={true}\n\t\t\tdisabled={disabled}\n\t\t\thideSelectedOnDisable\n\t\t\tdisabledSrcValues={disabledSrcValues}\n\t\t\tdisableCloseOnSelect\n\t\t\t// error={invalidFields[id] && invalidFields[id].dirty}\n\t\t\t// errorText={\n\t\t\t// \tinvalidFields[id] && !!invalidFields[id].dirty\n\t\t\t// \t\t? invalidFields[id].errMsg\n\t\t\t// \t\t: null\n\t\t\t// }\n\t\t\tonChange={value => {\n\t\t\t\texecute(\n\t\t\t\t\tupdateTargetRuleInput({\n\t\t\t\t\t\tindex,\n\t\t\t\t\t\titemType,\n\t\t\t\t\t\titemId,\n\t\t\t\t\t\tparameter,\n\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t...target,\n\t\t\t\t\t\t\t...{ [actionType]: value, apply },\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcollection,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t}}\n\t\t\tlabel={label}\n\t\t\tplaceholder={placeholder}\n\t\t\tsource={source}\n\t\t\tvalue={target[actionType] || []}\n\t\t\tvariant='outlined'\n\t\t/>\n\t) : (\n\t\t<TextField\n\t\t\tfullWidth\n\t\t\tvariant='outlined'\n\t\t\ttype='text'\n\t\t\trequired\n\t\t\tdisabled={disabled}\n\t\t\tname='name'\n\t\t\tvalue={target.value}\n\t\t\tlabel={label}\n\t\t\tonChange={ev =>\n\t\t\t\texecute(\n\t\t\t\t\tupdateTargetRuleInput({\n\t\t\t\t\t\tindex,\n\t\t\t\t\t\titemType,\n\t\t\t\t\t\titemId,\n\t\t\t\t\t\tparameter,\n\t\t\t\t\t\ttarget: { ...target, ...{ [actionType]: ev.target.value, apply } },\n\t\t\t\t\t\tcollection,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t}\n\t\t\tmaxLength={120}\n\t\t/>\n\t)\n}\n\nconst getMultipleActionsUsedValues = ({ actions, currentAction, target }) => {\n\tconst currentSelectedValues = actions\n\t\t.filter(a => a.type !== currentAction.type)\n\t\t.reduce((all, a) => {\n\t\t\treturn [\n\t\t\t\t...all,\n\t\t\t\t...(target[a.type] || []),\n\t\t\t\t...(currentAction.disabledValues || []),\n\t\t\t]\n\t\t}, [])\n\t\t.filter((x, i, all) => all.indexOf(x) === i)\n\n\treturn currentSelectedValues\n}\n\nconst Targets = ({\n\tinputs,\n\tsource = {},\n\textraInfo = null,\n\tcollection,\n\tplaceholder,\n\tlabel,\n\tindex,\n\ttarget = {},\n\tparameter,\n\t// classes,\n\t// invalidFields,\n\tactions,\n\tapplyType,\n\titemId,\n\titemType,\n\tdisabledValues,\n\tSOURCES,\n}) => {\n\tconst classes = useStyles()\n\tconst id = `target-${index}`\n\tconst applyValue = target.apply || actions[0].type\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\twidth={1}\n\t\t\theight={1}\n\t\t\tjustifyContent='space-between'\n\t\t>\n\t\t\t<Box>\n\t\t\t\t{applyType === 'single' && (\n\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\taria-label={parameter}\n\t\t\t\t\t\tname={parameter}\n\t\t\t\t\t\tvalue={applyValue}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateTargetRuleInput({\n\t\t\t\t\t\t\t\t\titemType,\n\t\t\t\t\t\t\t\t\titemId,\n\t\t\t\t\t\t\t\t\tparameter,\n\t\t\t\t\t\t\t\t\ttarget: { ...target, apply: ev.target.value },\n\t\t\t\t\t\t\t\t\tcollection,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{actions.map(a => (\n\t\t\t\t\t\t\t<Box key={parameter + a.type}>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Radio\n\t\t\t\t\t\t\t\t\t\t\tclassName={clsx({\n\t\t\t\t\t\t\t\t\t\t\t\t[classes.in]: ['in', 'allin'].includes(a.type),\n\t\t\t\t\t\t\t\t\t\t\t\t[classes.nin]: a.type === 'nin',\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvalue={a.type}\n\t\t\t\t\t\t\t\t\tlabel={a.label}\n\t\t\t\t\t\t\t\t\tclassName={clsx({\n\t\t\t\t\t\t\t\t\t\t[classes.disabled]: a.type !== applyValue,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t{!!a.value ? (\n\t\t\t\t\t\t\t\t\ta.value\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Sources\n\t\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\t\tsource={source[a.type]}\n\t\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\t\t\t\tdisabled={a.type !== applyValue}\n\t\t\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\t\tparameter={parameter}\n\t\t\t\t\t\t\t\t\t\titemId={itemId}\n\t\t\t\t\t\t\t\t\t\tactionType={a.type}\n\t\t\t\t\t\t\t\t\t\tapplyType={applyType}\n\t\t\t\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t\t\t\t\tdisabledSrcValues={disabledValues[a.type]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</RadioGroup>\n\t\t\t\t)}\n\t\t\t\t{applyType === 'multiple' &&\n\t\t\t\t\tactions.map(a => (\n\t\t\t\t\t\t<Box key={parameter + a.type}>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tclassName={clsx({\n\t\t\t\t\t\t\t\t\t[classes.in]: ['in', 'allin'].includes(a.type),\n\t\t\t\t\t\t\t\t\t[classes.nin]: a.type === 'nin',\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{a.label}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{!!a.value ? (\n\t\t\t\t\t\t\t\ta.value\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Sources\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tsource={source[a.type]}\n\t\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\ttarget={target}\n\t\t\t\t\t\t\t\t\tparameter={parameter}\n\t\t\t\t\t\t\t\t\titemId={itemId}\n\t\t\t\t\t\t\t\t\tactionType={a.type}\n\t\t\t\t\t\t\t\t\tapplyType={applyType}\n\t\t\t\t\t\t\t\t\titemType={itemType}\n\t\t\t\t\t\t\t\t\tdisabledSrcValues={getMultipleActionsUsedValues({\n\t\t\t\t\t\t\t\t\t\tactions,\n\t\t\t\t\t\t\t\t\t\tcurrentAction: a,\n\t\t\t\t\t\t\t\t\t\ttarget,\n\t\t\t\t\t\t\t\t\t}).concat(disabledValues[a.type] || [])}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t))}\n\t\t\t\t{applyType === 'multiple-checkbox' &&\n\t\t\t\t\tactions.map(a => (\n\t\t\t\t\t\t<Box key={parameter + a.value}>\n\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!target[a.value]}\n\t\t\t\t\t\t\t\t\t\t\tname={a.value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateTargetRuleInput({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemType,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tparameter,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...target,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[a.value]: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcollection,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={a.label}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormHelperText>{a.helper}</FormHelperText>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t))}\n\t\t\t</Box>\n\t\t\t<Box>{extraInfo}</Box>\n\t\t</Box>\n\t)\n}\n\nconst NewTargetingRules = ({ itemType, itemId, validateId, advancedOnly }) => {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\tconst classes = useStyles()\n\n\tconst { SOURCES, inputs, errorParameters } = useSelector(state =>\n\t\tselectAudienceInputsDataByItem(\n\t\t\tstate,\n\t\t\titemType,\n\t\t\titemId,\n\t\t\tvalidateId,\n\t\t\tadvancedOnly\n\t\t)\n\t)\n\n\tconst { parameter, source, actions, applyType, disabledValues, extraInfo } =\n\t\tSOURCES[tabIndex] || {}\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' width={1} height={1}>\n\t\t\t{!advancedOnly && (\n\t\t\t\t<Box mb={2}>\n\t\t\t\t\t<Paper position='static' variant='outlined'>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\t\t\ttextColor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{SOURCES.map(({ parameter }, index) => (\n\t\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\t\tkey={parameter}\n\t\t\t\t\t\t\t\t\tlabel={parameter}\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\terrorParameters[parameter] ? (\n\t\t\t\t\t\t\t\t\t\t\t<ErrIcon color='error' />\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\tparameterIcon[parameter]\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t<Box display='flex' flexGrow='1'>\n\t\t\t\t<Targets\n\t\t\t\t\tinputs={inputs}\n\t\t\t\t\ttarget={inputs[parameter]}\n\t\t\t\t\tkey={parameter}\n\t\t\t\t\tparameter={parameter}\n\t\t\t\t\tlabel={t(parameter)}\n\t\t\t\t\tplaceholder={t(parameter)}\n\t\t\t\t\tsource={source || {}}\n\t\t\t\t\textraInfo={extraInfo}\n\t\t\t\t\tdisabledValues={disabledValues || {}}\n\t\t\t\t\tSOURCES={SOURCES}\n\t\t\t\t\tactions={actions}\n\t\t\t\t\tapplyType={applyType}\n\t\t\t\t\titemId={itemId}\n\t\t\t\t\titemType={itemType}\n\t\t\t\t\tclasses={classes}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nNewTargetingRules.propTypes = {\n\ttitle: PropTypes.string,\n}\n\nexport default NewTargetingRules\n","import React, { Fragment } from 'react'\nimport {\n\tBox,\n\tTooltip,\n\tList,\n\tListSubheader,\n\tListItemText,\n\tListItemIcon,\n\tListItem,\n\tButton,\n\tChip,\n\tTypography,\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { ExternalAnchor } from 'components/common/anchor/anchor'\nimport { Alert } from '@material-ui/lab'\nimport {\n\tLooksOneSharp,\n\tLooksTwoSharp,\n\tLooks3Sharp,\n\tLooks4Sharp,\n\tRefreshSharp,\n\tInfoSharp,\n} from '@material-ui/icons'\nimport { useSelector } from 'react-redux'\nimport { timeAgo } from 'helpers/analyticsTimeHelpers'\nimport { selectWebsiteByWebsite, t } from 'selectors'\nimport { execute, updateWebsiteVerification } from 'actions'\n\nconst UPDATE_AGAIN_AFTER = 2 * 60 * 60 * 1000 // 2 h\n\nexport const getIssue = issue => {\n\tconst data = {\n\t\tlabel: issue,\n\t\targs: [],\n\t}\n\tswitch (issue) {\n\t\tcase 'SLOT_ISSUE_INTEGRATION_NOT_VERIFIED':\n\t\t\tdata.args = [\n\t\t\t\t{\n\t\t\t\t\ttype: 'anchor',\n\t\t\t\t\thref:\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360013352340-How-to-verify-your-publisher-website',\n\t\t\t\t\tlabel: 'HERE',\n\t\t\t\t},\n\t\t\t]\n\t\t\treturn data\n\t\tcase 'SLOT_ISSUE_OWNERSHIP_NOT_VERIFIED':\n\t\t\tdata.args = [\n\t\t\t\t{\n\t\t\t\t\ttype: 'anchor',\n\t\t\t\t\thref:\n\t\t\t\t\t\t'https://help.adex.network/hc/en-us/articles/360012481519-How-to-add-DNS-TXT-record-for-your-publisher-domain',\n\t\t\t\t\tlabel: 'HERE',\n\t\t\t\t},\n\t\t\t]\n\t\t\treturn data\n\n\t\tdefault:\n\t\t\treturn data\n\t}\n}\n\nconst useStyles = makeStyles(theme => ({\n\tmessage: {\n\t\tdisplay: 'block',\n\t},\n}))\n\nexport function RenderIssue({ label, args }) {\n\treturn args.some(a => a.type === 'anchor') ? (\n\t\tt(label, {\n\t\t\targs: args.map((a, index) =>\n\t\t\t\ta.type === 'anchor' ? (\n\t\t\t\t\t<ExternalAnchor key={index} href={a.href}>\n\t\t\t\t\t\t{` ${t(a.label)}`}\n\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t) : (\n\t\t\t\t\tt(a)\n\t\t\t\t)\n\t\t\t),\n\t\t})\n\t) : (\n\t\t<div\n\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t__html: t(label, { args }),\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport const ALL_ISSUES = {\n\tSLOT_ISSUE_BLACKLISTED: { icon: LooksOneSharp, shortLabel: t('BLACKLISTED') },\n\tSLOT_ISSUE_OWNERSHIP_NOT_VERIFIED: {\n\t\ticon: LooksTwoSharp,\n\t\tshortLabel: t('NOT_VERIFIED'),\n\t},\n\tSLOT_ISSUE_SOMEONE_ELSE_VERIFIED: {\n\t\ticon: Looks3Sharp,\n\t\tshortLabel: t('VERIFIED_BY_SOMEONE_ELSE'),\n\t},\n}\n\nexport const WebsiteVerifyBtn = ({ id, website, issues, updated }) => {\n\tconst lastUpdated = updated ? Date.now() - new Date(updated).valueOf() : null\n\tconst canUpdate = !updated || lastUpdated > UPDATE_AGAIN_AFTER\n\treturn (\n\t\t!!issues.length && (\n\t\t\t<Box my={1}>\n\t\t\t\t<Button\n\t\t\t\t\tdisabled={!canUpdate}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tstartIcon={<RefreshSharp />}\n\t\t\t\t\tonClick={() => execute(updateWebsiteVerification({ id, website }))}\n\t\t\t\t>\n\t\t\t\t\t{t('TRY_VERIFY')}\n\t\t\t\t</Button>\n\t\t\t\t{!canUpdate && (\n\t\t\t\t\t<Typography variant='caption' display='block' align='right'>\n\t\t\t\t\t\t{t('VERIFICATION_UPDATED_AGO', {\n\t\t\t\t\t\t\targs: [timeAgo(new Date(updated).valueOf())],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t)\n\t)\n}\n\nexport function WebsiteIssues({ issues, website, asKeyWords, tryAgainBtn }) {\n\tconst classes = useStyles()\n\tconst site = useSelector(state => selectWebsiteByWebsite(state, website))\n\tconst defaultIssues = !website ? ['SLOT_ISSUE_NO_WEBSITE'] : []\n\tconst data = issues || site.issues || defaultIssues\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{!!data.length ? (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{site.id && tryAgainBtn && <WebsiteVerifyBtn {...site} />}\n\t\t\t\t\t{data.map((id, index) => {\n\t\t\t\t\t\tconst { label, args } = getIssue(id)\n\t\t\t\t\t\treturn !!asKeyWords ? (\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\ttitle={<RenderIssue label={label} args={args} />}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Chip size='small' label={ALL_ISSUES[label].shortLabel} />\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Box key={id} my={index !== 0 && index < data.length ? 1 : 0}>\n\t\t\t\t\t\t\t\t<Alert severity='warning' variant='outlined' classes={classes}>\n\t\t\t\t\t\t\t\t\t<RenderIssue label={label} args={args} />\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</Fragment>\n\t\t\t) : !!asKeyWords ? (\n\t\t\t\t<Typography variant='caption' color='secondary'>\n\t\t\t\t\t{t('WEBSITE_VERIFIED')}\n\t\t\t\t</Typography>\n\t\t\t) : (\n\t\t\t\t<Alert severity='success' variant='outlined' classes={classes}>\n\t\t\t\t\t{t('WEBSITE_VERIFIED')}\n\t\t\t\t</Alert>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n\nexport function WebsiteIssuesLegend() {\n\treturn (\n\t\t<List dense disablePadding>\n\t\t\t<ListItem>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<InfoSharp />\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={t('VERIFICATION_INFO_TEXT', {\n\t\t\t\t\t\targs: [24, 'HOURS', 2, 'HOURS'],\n\t\t\t\t\t})}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t</List>\n\t)\n}\n","import React, { Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tTypography,\n\tGrid,\n\tBox,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tChip,\n} from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\nimport { IabCategories } from 'adex-models'\nimport Img from 'components/common/img/Img'\nimport Anchor from 'components/common/anchor/anchor'\nimport { WebsiteIssues } from 'components/dashboard/containers/Slot/WebsiteIssues'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n} from 'components/common/dialog/content'\nimport { styles } from '../styles'\nimport {\n\tt,\n\tselectMainToken,\n\tselectNewAdSlot,\n\tselectAccountIdentityAddr,\n\tselectDemandAnalyticsByType,\n} from 'selectors'\n\nconst useStyles = makeStyles(styles)\n\nconst SlotFallback = ({ img, targetUrl }) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<Fragment>\n\t\t\t<PropRow\n\t\t\t\tleft={t('fallbackAdUrl', { isProp: true })}\n\t\t\t\tright={\n\t\t\t\t\t<Anchor href={targetUrl} target='_blank'>\n\t\t\t\t\t\t{targetUrl}\n\t\t\t\t\t</Anchor>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<PropRow\n\t\t\t\tleft={t('SLOT_FALLBACK_IMG_LABEL')}\n\t\t\t\tright={\n\t\t\t\t\t<Img\n\t\t\t\t\t\tallowFullscreen={true}\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\timg: classes.imgPreview,\n\t\t\t\t\t\t\twrapper: classes.imgPreviewWrapper,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsrc={img.tempUrl || ''}\n\t\t\t\t\t\talt={targetUrl}\n\t\t\t\t\t\tmediaMime={img.mime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t/>\n\t\t</Fragment>\n\t)\n}\n\nconst AdSlotPreview = () => {\n\tconst {\n\t\ttype,\n\t\ttitle,\n\t\tdescription,\n\t\twebsite,\n\t\ttemp,\n\t\ttargetUrl,\n\t\trules,\n\t\trulesInput,\n\t\tminPerImpression,\n\t} = useSelector(selectNewAdSlot)\n\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst typeDemand = useSelector(state =>\n\t\tselectDemandAnalyticsByType(state, type)\n\t)\n\tconst { allowAdultContent, autoSetMinCPM } = rulesInput.inputs\n\tconst { categories = [], suggestedMinCPM } = temp\n\treturn (\n\t\t<ContentBox>\n\t\t\t<ContentBody>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('title', { isProp: true })} right={title} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('type', { isProp: true })} right={type} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('website', { isProp: true })} right={website} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow left={t('owner', { isProp: true })} right={identityAddr} />\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('SLOT_MIN_CPM', { args: [symbol] })}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\tautoSetMinCPM\n\t\t\t\t\t\t\t\t\t? t('SLOT_AUTO_MIN_CPM_PREVIEW_LABEL', {\n\t\t\t\t\t\t\t\t\t\t\targs: [suggestedMinCPM, symbol],\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t: t('SLOT_MANUAL_MIN_CPM_PREVIEW_LABEL', {\n\t\t\t\t\t\t\t\t\t\t\targs: [minPerImpression, symbol],\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={6}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('SLOT_ALLOW_ADULT_CONTENT')}\n\t\t\t\t\t\t\tright={allowAdultContent ? t('YES') : t('NO')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('description', { isProp: true })}\n\t\t\t\t\t\t\tright={description}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tleft={t('WEBSITE_CATEGORIES')}\n\t\t\t\t\t\t\tright={categories.map(cat => (\n\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\tkey={cat}\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\tlabel={t(\n\t\t\t\t\t\t\t\t\t\tIabCategories.wrbshrinkerWebsiteApiV3Categories[cat] || cat\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_WARNING'),\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography component='div' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t\t__html: t('SLOT_WEBSITE_CODE_WARNING'),\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t{(!typeDemand || !typeDemand.raw) && (\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\tleft={t('DEMAND_WARNINGS')}\n\t\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t\t<Alert severity='warning' variant='outlined'>\n\t\t\t\t\t\t\t\t\t\t{t('SLOT_NO_CURRENT_DEMAND', { args: [type] })}\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{temp.hostname && temp.issues && temp.issues.length && (\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\tleft={t('WEBSITE_ISSUES')}\n\t\t\t\t\t\t\t\tright={<WebsiteIssues issues={temp.issues} />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t\t<Grid item xs={12} md={12}>\n\t\t\t\t\t\t{temp.useFallback ? (\n\t\t\t\t\t\t\t<SlotFallback img={temp} targetUrl={targetUrl} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<PropRow left={t('FALLBACK_DATA')} right={t('NO')} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-content'\n\t\t\t\t\t\t\t\t\tid='slot-rules-header'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_RULES')}</Typography>\n\t\t\t\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\n\t\t\t\t\t\t\t\t\t<pre>{JSON.stringify(rules || [], null, 2)}</pre>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</ExpansionPanel>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AdSlotPreview\n","import React from 'react'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport { AdUnit, AdSlot, Campaign, Audience } from 'adex-models'\nimport FileCopyIcon from '@material-ui/icons/FileCopy'\nimport AdUnitBasic from './AdUnit/AdUnitBasic'\nimport AdUnitMedia from './AdUnit/AdUnitMedia'\nimport AdUnitFormPreview from './AdUnit/AdUnitFormPreview'\nimport CampaignUnits from './Campaign/CampaignUnits'\nimport CampaignFinance from './Campaign/CampaignFinance'\nimport CampaignFormPreview from './Campaign/CampaignFormPreview'\nimport AdSlotBasic from './AdSlot/AdSlotBasic'\nimport AdSlotMedia from './AdSlot/AdSlotMedia'\nimport AudienceBasic from './Audience/AudienceBasic'\nimport NewAudiencePreview from './Audience/NewAudiencePreview'\nimport NewTargetingRules from './NewTargetingRules'\nimport AdSlotPreview from './AdSlot/AdSlotPreview'\n\nimport {\n\texecute,\n\tvalidateNewUnitBasics,\n\tvalidateNewCampaignFinance,\n\tvalidateNewCampaignAdUnits,\n\tvalidateNewSlotBasics,\n\tvalidateNewSlotPassback,\n\tvalidateNewUnitMedia,\n\tvalidateCampaignAudienceInput,\n\tvalidateAudienceBasics,\n\tvalidateAudienceInput,\n\tcompleteItem,\n\tresetNewItem,\n\tsaveUnit,\n\tsaveSlot,\n\tsaveAudience,\n\topenCampaign,\n} from 'actions'\n\nexport const CampaignTargetingRules = props => (\n\t<NewTargetingRules {...props} itemType='Campaign' />\n)\n\nexport const AudienceRules = props => (\n\t<NewTargetingRules {...props} itemType='Audience' />\n)\n\n// Ad unit\nexport const NewUnitSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tcancelFunction={() => execute(resetNewItem('AdUnit'))}\n\t\tvalidateIdBase='new-AdUnit-'\n\t\titemType='AdUnit'\n\t\tstepsId='new-adunit-'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'UNIT_BASIC_STEP',\n\t\t\t\tcomponent: AdUnitBasic,\n\t\t\t\tvalidationFn: props => execute(validateNewUnitBasics(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'UNIT_MEDIA_STEP',\n\t\t\t\tcomponent: AdUnitMedia,\n\t\t\t\tvalidationFn: props => execute(validateNewUnitMedia(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\t\tcompleteBtnTitle: 'SAVE',\n\t\t\t\tcomponent: AdUnitFormPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteItem({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\titemType: 'AdUnit',\n\t\t\t\t\t\t\tcompeteAction: saveUnit,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\timgLabel='UNIT_BANNER_IMG_LABEL'\n\t\tnoDefaultImg\n\t\titemModel={AdUnit}\n\t/>\n)\n\nconst NewUnitStepsWithDialog = WithDialog(NewUnitSteps)\n\nexport const NewUnitDialog = props => (\n\t<NewUnitStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='NEW_UNIT'\n\t\ttitle='CREATE_NEW_UNIT'\n\t/>\n)\n\nconst copyProps = {\n\tdarkerBackground: true,\n\ticon: <FileCopyIcon color='primary' />,\n}\n\nexport const NewCloneUnitDialog = props => (\n\t<NewUnitStepsWithDialog {...props} {...copyProps} title='CLONE_AD_UNIT' />\n)\n\n// Campaign\nexport const NewCampaignSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tcancelFunction={() => execute(resetNewItem('Campaign'))}\n\t\tvalidateIdBase='new-Campaign-'\n\t\titemType='Campaign'\n\t\tstepsId='new-campaign-'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_UNITS_STEP',\n\t\t\t\tcomponent: CampaignUnits,\n\t\t\t\tvalidationFn: props => execute(validateNewCampaignAdUnits(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_AUDIENCE_STEP',\n\t\t\t\tcomponent: CampaignTargetingRules,\n\t\t\t\tvalidationFn: props => execute(validateCampaignAudienceInput(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'CAMPAIGN_FINANCE_STEP',\n\t\t\t\tcomponent: CampaignFinance,\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewCampaignFinance({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\t\tcompleteBtnTitle: 'OPEN_CAMPAIGN',\n\t\t\t\tcomponent: CampaignFormPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteItem({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\titemType: 'Campaign',\n\t\t\t\t\t\t\tcompeteAction: openCampaign,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\titemModel={Campaign}\n\t\timgAdditionalInfo='CAMPAIGN_IMG_ADDITIONAL_INFO'\n\t/>\n)\n\nconst NewCampaignStepsWithDialog = WithDialog(NewCampaignSteps)\n\nexport const NewCampaignDialog = props => (\n\t<NewCampaignStepsWithDialog\n\t\tbtnLabel='NEW_CAMPAIGN'\n\t\ttitle='CREATE_NEW_CAMPAIGN'\n\t\t{...props}\n\t/>\n)\n\nexport const NewCampaignFromAudience = props => (\n\t<NewCampaignStepsWithDialog {...props} title='NEW_CAMPAIGN_FROM_AUDIENCE' />\n)\n\n// Ad slot\nexport const NewSlotSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tcancelFunction={() => execute(resetNewItem('AdSlot'))}\n\t\tvalidateIdBase='new-AdUnit-'\n\t\titemType='AdSlot'\n\t\tstepsId='new-slot-'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'SLOT_BASIC_STEP',\n\t\t\t\tcomponent: AdSlotBasic,\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateNewSlotBasics({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'SLOT_PASSBACK_STEP',\n\t\t\t\tcomponent: AdSlotMedia,\n\t\t\t\tvalidationFn: props => execute(validateNewSlotPassback(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\t\tcompleteBtnTitle: 'SAVE',\n\t\t\t\tcomponent: AdSlotPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteItem({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\titemType: 'AdSlot',\n\t\t\t\t\t\t\tcompeteAction: saveSlot,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\timgLabel='SLOT_AVATAR_IMG_LABEL'\n\t\timgAdditionalInfo='SLOT_AVATAR_IMG_INFO'\n\t\tdescriptionHelperTxt='SLOT_DESCRIPTION_HELPER'\n\t\titemModel={AdSlot}\n\t/>\n)\n\nconst NewSlotStepsWithDialog = WithDialog(NewSlotSteps)\n\nexport const NewSlotDialog = props => (\n\t<NewSlotStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='NEW_SLOT'\n\t\ttitle='CREATE_NEW_SLOT'\n\t/>\n)\n\n// Audience\n\nexport const AudienceSteps = props => (\n\t<FormSteps\n\t\t{...props}\n\t\tcancelFunction={() => execute(resetNewItem('Audience'))}\n\t\tvalidateIdBase='new-Audience-'\n\t\titemType='Audience'\n\t\tstepsId='new-audience-'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'AUDIENCE_BASIC_STEP',\n\t\t\t\tcomponent: AudienceBasic,\n\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tvalidateAudienceBasics({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t\t...(props.skipRules\n\t\t\t\t? []\n\t\t\t\t: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'AUDIENCE_STEP',\n\t\t\t\t\t\t\tcomponent: AudienceRules,\n\t\t\t\t\t\t\tvalidationFn: ({ validateId, dirty, onValid, onInvalid }) =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tvalidateAudienceInput({\n\t\t\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\t\t\t\tonValid,\n\t\t\t\t\t\t\t\t\t\tonInvalid,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t  ]),\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_SAVE_ITEM',\n\t\t\t\tcompleteBtnTitle: 'SAVE',\n\t\t\t\tcomponent: NewAudiencePreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteItem({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\titemType: 'Audience',\n\t\t\t\t\t\t\tcompeteAction: saveAudience,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t\titemModel={Audience}\n\t/>\n)\n\nexport const NewAudienceWithDialog = WithDialog(AudienceSteps)\n\nexport const NewAudienceDialog = props => (\n\t<NewAudienceWithDialog\n\t\tbtnLabel='NEW_AUDIENCE'\n\t\ttitle='CREATE_NEW_AUDIENCE'\n\t\t{...props}\n\t/>\n)\n","import React, { useEffect, useState, useCallback, Fragment } from 'react'\r\nimport classnames from 'classnames'\r\nimport { Tooltip, IconButton, Box } from '@material-ui/core'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport { commify } from 'ethers/utils'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport Img from 'components/common/img/Img'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport {\r\n\tt,\r\n\tselectAdUnitsTableData,\r\n\tselectSide,\r\n\tselectAdUnitsStatsMaxValues,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { NewCloneUnitDialog } from '../../forms/items/NewItems'\r\nimport { AdUnit } from 'adex-models'\r\nimport { execute, cloneItem } from 'actions'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({\r\n\tclasses,\r\n\tnoActions,\r\n\tnoClone,\r\n\tmaxImpressions,\r\n\tmaxClicks,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ selectOnImage, id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\tconst ImgComponent = selectOnImage ? Img : RRImg\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ImgComponent\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\t{...(!selectOnImage ? { to } : {})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\t// TODO: fix it with css\r\n\t\t\tcustomBodyRender: (title = '') => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${Number(ctr).toFixed(2)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR.toFixed(2)],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tdisplay: !noActions,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item, id, title }) => (\r\n\t\t\t\t<Box key={id} className={classes.actions}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained' aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t{!noClone && (\r\n\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\ttitle={t('TOOLTIP_CLONE')}\r\n\t\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t<NewCloneUnitDialog\r\n\t\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\t\tcloneItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\titemType: 'AdUnit',\r\n\t\t\t\t\t\t\t\t\t\t\t\tobjModel: AdUnit,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='AdUnit'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\r\n\tfilterType: 'multiselect',\r\n\trowsSelected: selected,\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n\tonRowsSelect,\r\n})\r\n\r\nfunction AdUnitsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst {\r\n\t\tnoActions,\r\n\t\tnoClone,\r\n\t\tcampaignId,\r\n\t\thandleSelect,\r\n\t\tselected = [],\r\n\t\titems,\r\n\t} = props\r\n\r\n\tconst { maxClicks, maxImpressions, maxCTR } = useSelector(state =>\r\n\t\tselectAdUnitsStatsMaxValues(state, { side, campaignId })\r\n\t)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst [selectorArgs, setSelectorArgs] = useState({})\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdUnitsTableData,\r\n\t\tselectorArgs,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tnoActions,\r\n\t\t\t\tnoClone,\r\n\t\t\t\tmaxImpressions,\r\n\t\t\t\tmaxClicks,\r\n\t\t\t\tmaxCTR,\r\n\t\t\t}),\r\n\t})\r\n\r\n\t// NOTE: despite useTableData hook the component is updating.\r\n\t// 'selectorArgs' are object and they have new reference on each update\r\n\t// that causes useTableData to update the data on selectorArgs change.\r\n\t// If selectorArgs are reference type we need to use useState fot them\r\n\t// TODO: find why useTableData causing this update\r\n\tuseEffect(() => {\r\n\t\tsetSelectorArgs({ side, campaignId, items })\r\n\t}, [side, campaignId, items])\r\n\r\n\tconst onRowsSelect = useCallback(\r\n\t\t(_, allRowsSelected) => {\r\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\r\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\r\n\r\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\r\n\t\t},\r\n\t\t[data, handleSelect]\r\n\t)\r\n\r\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={campaignId ? t('CAMPAIGN_AD_UNITS') : t('ALL_UNITS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdUnitsTable\r\n","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport { Box, IconButton, Tooltip } from '@material-ui/core'\r\nimport { commify } from 'ethers/utils'\r\nimport { Visibility } from '@material-ui/icons'\r\nimport Img from 'components/common/img/Img'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport {\r\n\tt,\r\n\tselectSide,\r\n\tselectAdSlotsTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { formatDateTime, truncateString } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\n\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRImg = withReactRouterLink(Img)\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst getCols = ({ classes, symbol }) => [\r\n\t{\r\n\t\tname: 'media',\r\n\t\tlabel: t('PROP_MEDIA'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RRImg\r\n\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\tfullScreenOnClick={true}\r\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\r\n\t\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\t\talt={id}\r\n\t\t\t\t\t\tmediaMime={mediaMime}\r\n\t\t\t\t\t\tallowVideo\r\n\t\t\t\t\t\tto={to}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: title => truncateString(title, 20),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'type',\r\n\t\tlabel: t('PROP_TYPE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDateTime(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('LABEL_CTR'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('LABEL_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: earnings => `${earnings.toFixed(2)} ${symbol}`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tdownload: false,\r\n\t\t\tcustomBodyRender: ({ to, item, id, title }) => (\r\n\t\t\t\t<Box key={id} className={classes.actions}>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\ttitle={t('LABEL_VIEW')}\r\n\t\t\t\t\t\t// placement='top'\r\n\t\t\t\t\t\tenterDelay={1000}\r\n\t\t\t\t\t\taria-label='view'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RRIconButton to={to} variant='contained'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='AdSlot'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst onDownload = (buildHead, buildBody, columns, data) => {\r\n\tconst mappedData = data.map(i => ({\r\n\t\tindex: i.index,\r\n\t\tdata: [\r\n\t\t\ti.data[0].id,\r\n\t\t\ti.data[1],\r\n\t\t\ti.data[2].replace('legacy_', ''),\r\n\t\t\tformatDateTime(i.data[3]),\r\n\t\t],\r\n\t}))\r\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\r\n}\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\tonDownload: (buildHead, buildBody, columns, data) =>\r\n\t\tonDownload(buildHead, buildBody, columns, data),\r\n})\r\n\r\nfunction AdSlotsTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAdSlotsTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('ALL_SLOTS')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AdSlotsTable\r\n","import React from 'react'\r\nimport { Tooltip, IconButton, Typography, Box } from '@material-ui/core'\r\nimport { VisibilitySharp as Visibility } from '@material-ui/icons'\r\nimport CampaignIcon from 'components/common/icons/CampaignIcon'\r\nimport { NewCampaignFromAudience } from 'components/dashboard/forms/items/NewItems'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport {\r\n\tt,\r\n\tselectSide,\r\n\tselectAudiencesTableData,\r\n\tselectMainToken,\r\n\tselectInitialDataLoadedByData,\r\n} from 'selectors'\r\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\r\nimport { ArchiveItemBtn } from 'components/dashboard/containers/ItemCommon'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'react-redux'\r\nimport { styles } from './styles'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nimport { execute, updateNewCampaign } from 'actions'\r\nimport { formatDate } from 'helpers/formatters'\r\n\r\nconst useStyles = makeStyles(styles)\r\nconst RRIconButton = withReactRouterLink(IconButton)\r\nconst RRTypography = withReactRouterLink(Typography)\r\n\r\nconst getCols = ({ classes, symbol }) => [\r\n\t{\r\n\t\tname: 'title',\r\n\t\tlabel: t('PROP_TITLE'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tsetCellProps: () => ({ style: { cursor: 'pointer' } }),\r\n\t\t\tcustomBodyRender: ({ title, to }) => (\r\n\t\t\t\t<RRTypography key={title} to={to}>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</RRTypography>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'created',\r\n\t\tlabel: t('PROP_CREATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: created => formatDate(created),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'updated',\r\n\t\tlabel: t('PROP_UPDATED'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: created => formatDate(created, undefined, t('-')),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'actions',\r\n\t\tlabel: t('ACTIONS'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tsetCellHeaderProps: () => ({ style: { textAlign: 'right' } }),\r\n\t\t\tsetCellProps: () => ({ style: { textAlign: 'right' } }),\r\n\t\t\tcustomBodyRender: ({ id, audienceInput, to, title }) => (\r\n\t\t\t\t<Box key={id} className={classes.actions}>\r\n\t\t\t\t\t<Tooltip title={t('LABEL_VIEW')} aria-label='view'>\r\n\t\t\t\t\t\t<RRIconButton to={to} aria-label='preview'>\r\n\t\t\t\t\t\t\t<Visibility color='primary' />\r\n\t\t\t\t\t\t</RRIconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\ttitle={t('LABEL_NEW_CAMPAIGN_FROM_AUDIENCE')}\r\n\t\t\t\t\t\taria-label='new-campaign'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<NewCampaignFromAudience\r\n\t\t\t\t\t\t\t\tonBeforeOpen={() =>\r\n\t\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\r\n\t\t\t\t\t\t\t\t\t\t\t...audienceInput,\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ticon={<CampaignIcon color='secondary' />}\r\n\t\t\t\t\t\t\t\ticonButton\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<ArchiveItemBtn\r\n\t\t\t\t\t\titemType='Audience'\r\n\t\t\t\t\t\titemId={id}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tisIconBtn\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Box>\r\n\t\t\t),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst getOptions = ({ reloadData }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n})\r\n\r\nfunction AudiencesTable(props) {\r\n\tconst classes = useStyles()\r\n\tconst side = useSelector(selectSide)\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst itemsLoaded = useSelector(state =>\r\n\t\tselectInitialDataLoadedByData(state, 'allItems')\r\n\t)\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectAudiencesTableData,\r\n\t\tselectorArgs: side,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({\r\n\t\t\t\tclasses,\r\n\t\t\t\tsymbol,\r\n\t\t\t}),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('SAVED_AUDIENCES')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\tloading={!itemsLoaded}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default AudiencesTable\r\n","import Helper from 'helpers/miscHelpers'\nimport { defaults } from 'react-chartjs-2'\nimport merge from 'lodash.merge'\n\n// export const CHARTS_COLORS = ['#0277BD', '#03A9F4', '#00E676', '#FFAB00', '#FF5722', '#616161']\n// Eddie colors\nexport const CHARTS_COLORS = [\n\t'#00BAFF',\n\t'#7EDBFF',\n\t'#FF9FA8',\n\t'#14DC9C',\n\t'#61FFB2',\n\t'#ABFFE5',\n]\n\nexport let CHARTS_COMMON_OPTIONS = {\n\tresponsive: true,\n\ttooltips: {\n\t\tmode: 'label',\n\t\tcornerRadius: 2,\n\t\tbackgroundColor: Helper.hexToRgbaColorString('#616161', 0.9),\n\t},\n}\n\nexport const hexColorsToRgbaArray = (colors, alpha) => {\n\treturn colors.map(color => {\n\t\treturn Helper.hexToRgbaColorString(color, alpha)\n\t})\n}\n\nmerge(defaults, { global: CHARTS_COMMON_OPTIONS })\n","import React from 'react'\r\nimport { Doughnut } from 'react-chartjs-2'\r\nimport { t, selectCampaignDoughnutStats } from 'selectors'\r\nimport { useSelector } from 'react-redux'\r\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction CampaignStatsDoughnut({\r\n\tcampaignId,\r\n\tmaxDataSets = CHARTS_COLORS.length,\r\n\tchartColors = CHARTS_COLORS,\r\n}) {\r\n\tconst data = useSelector(state =>\r\n\t\tselectCampaignDoughnutStats(state, {\r\n\t\t\tcampaignId,\r\n\t\t\tchartColors,\r\n\t\t\tmaxDataSets,\r\n\t\t})\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Doughnut\r\n\t\t\twidth={420}\r\n\t\t\theight={420}\r\n\t\t\tdata={data}\r\n\t\t\toptions={{\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tlegend: {\r\n\t\t\t\t\tposition: 'bottom',\r\n\t\t\t\t},\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\ttext: t('CAMPAIGN_STATS_PIE_CHART'),\r\n\t\t\t\t},\r\n\t\t\t\tanimation: false,\r\n\t\t\t\ttooltips: {\r\n\t\t\t\t\tcallbacks: {\r\n\t\t\t\t\t\tlabel: function(item, data) {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].label +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.labels[item.index] +\r\n\t\t\t\t\t\t\t\t': ' +\r\n\t\t\t\t\t\t\t\tdata.datasets[item.datasetIndex].data[item.index]\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsDoughnut.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsDoughnut\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Grid, Button, CircularProgress, Box, Tooltip } from '@material-ui/core'\r\nimport { BlockSharp, CheckSharp } from '@material-ui/icons'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectCampaignStatsMaxValues,\r\n\tselectMainToken,\r\n\tselectSpinnerById,\r\n\tselectCampaignById,\r\n} from 'selectors'\r\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\r\nimport { useSelector } from 'react-redux'\r\nimport { sliderFilterOptions } from './commonFilters'\r\nimport { formatNumberWithCommas } from 'helpers/formatters'\r\nimport { useTableData } from './tableHooks'\r\nimport { ReloadData } from './toolbars'\r\nimport { execute, excludeOrIncludeWebsites, confirmAction } from 'actions'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\twrapper: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tposition: 'relative',\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: '50%',\r\n\t\tleft: '50%',\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}))\r\n\r\nconst getCols = ({\r\n\tsymbol,\r\n\tmaxClicks,\r\n\tmaxImpressions,\r\n\tmaxEarnings,\r\n\tmaxCTR,\r\n}) => [\r\n\t{\r\n\t\tname: 'isBlacklisted',\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\t// NOTE: hidden - used for selected items\r\n\t\tname: 'website',\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tsort: false,\r\n\t\t\tdownload: false,\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'website',\r\n\t\tlabel: t('WEBSITE'),\r\n\t\toptions: {\r\n\t\t\tfilter: true,\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: (key, tableMeta) => {\r\n\t\t\t\treturn tableMeta.rowData[0] ? (\r\n\t\t\t\t\t<Tooltip key={key} title={t('WEBSITE_IS_EXCLUDED')}>\r\n\t\t\t\t\t\t<Box color='error.main'>{key}</Box>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Box>{key}</Box>\r\n\t\t\t\t)\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'impressions',\r\n\t\tlabel: t('LABEL_IMPRESSIONS'),\r\n\t\toptions: {\r\n\t\t\tsortDirection: 'desc',\r\n\t\t\tcustomBodyRender: impressions => formatNumberWithCommas(impressions || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxImpressions],\r\n\t\t\t\tfilterTitle: t('IMPRESSIONS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'earnings',\r\n\t\tlabel: t('WEBSITE_EARNINGS'),\r\n\t\toptions: {\r\n\t\t\tcustomBodyRender: earnings =>\r\n\t\t\t\t`${formatNumberWithCommas((earnings || 0).toFixed(2))} ${symbol}`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxEarnings],\r\n\t\t\t\tfilterTitle: t('EARNINGS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'averageCPM',\r\n\t\tlabel: t('LABEL_AVERAGE_CPM'),\r\n\t\toptions: {\r\n\t\t\tfilter: false,\r\n\t\t\tcustomBodyRender: averageCPM =>\r\n\t\t\t\t`${formatNumberWithCommas((averageCPM || 0).toFixed(2))} ${symbol}`,\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'clicks',\r\n\t\tlabel: t('CHART_LABEL_CLICKS'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: clicks => formatNumberWithCommas(clicks || 0),\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxClicks],\r\n\t\t\t\tfilterTitle: t('CLICKS_FILTER'),\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tname: 'ctr',\r\n\t\tlabel: t('CTR'),\r\n\t\toptions: {\r\n\t\t\tsort: true,\r\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\r\n\t\t\t...sliderFilterOptions({\r\n\t\t\t\tinitial: [0, maxCTR],\r\n\t\t\t\tfilterTitle: t('CTR_FILTER'),\r\n\t\t\t\tstepsCount: 20,\r\n\t\t\t\tstepsPrecision: 4,\r\n\t\t\t}),\r\n\t\t},\r\n\t},\r\n]\r\n\r\nconst IncludeOrExcludeWebsitesBtn = ({\r\n\taction,\r\n\texclude,\r\n\thostnames = [],\r\n\tcampaignId,\r\n\ticon,\r\n\tcolor,\r\n\tonSuccess,\r\n}) => {\r\n\tconst classes = useStyles()\r\n\tconst spinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, `${action}-campaign-${campaignId}`)\r\n\t)\r\n\treturn (\r\n\t\t<div className={classes.wrapper}>\r\n\t\t\t<Button\r\n\t\t\t\tvariant='contained'\r\n\t\t\t\tcolor={color}\r\n\t\t\t\tsize='medium'\r\n\t\t\t\tfullWidth\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\tconfirmAction(\r\n\t\t\t\t\t\t\t() =>\r\n\t\t\t\t\t\t\t\texecute(\r\n\t\t\t\t\t\t\t\t\texcludeOrIncludeWebsites({\r\n\t\t\t\t\t\t\t\t\t\tcampaignId,\r\n\t\t\t\t\t\t\t\t\t\thostnames,\r\n\t\t\t\t\t\t\t\t\t\texclude,\r\n\t\t\t\t\t\t\t\t\t\taction,\r\n\t\t\t\t\t\t\t\t\t\tonSuccess,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tconfirmLabel: t(`${action}_WEBSITES_ACTION_LABEL`),\r\n\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\r\n\t\t\t\t\t\t\t\ttitle: t(`${action}_WEBSITES_CONFIRM_TITLE`, {\r\n\t\t\t\t\t\t\t\t\targs: [hostnames.length],\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\ttext: t(`${action}_WEBSITES_CONFIRM_INFO`, {\r\n\t\t\t\t\t\t\t\t\targs: [hostnames.length],\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t}}\r\n\t\t\t\tdisabled={spinner}\r\n\t\t\t\tendIcon={icon}\r\n\t\t\t>\r\n\t\t\t\t{t(`BTN_${action}_WEBSITES`)}\r\n\t\t\t</Button>\r\n\t\t\t{spinner && (\r\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst WebsitesActions = ({ campaignId, hostnames = [], onSuccess }) => {\r\n\treturn (\r\n\t\t<Grid container spacing={1} alignItems='center'>\r\n\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t<IncludeOrExcludeWebsitesBtn\r\n\t\t\t\t\taction='EXCLUDE'\r\n\t\t\t\t\thostnames={hostnames}\r\n\t\t\t\t\texclude={true}\r\n\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\ticon={<BlockSharp />}\r\n\t\t\t\t\tonSuccess={onSuccess}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\r\n\t\t\t\t<IncludeOrExcludeWebsitesBtn\r\n\t\t\t\t\tcolor='secondary'\r\n\t\t\t\t\taction='INCLUDE'\r\n\t\t\t\t\thostnames={hostnames}\r\n\t\t\t\t\tcampaignId={campaignId}\r\n\t\t\t\t\ticon={<CheckSharp />}\r\n\t\t\t\t\tonSuccess={onSuccess}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t)\r\n}\r\n\r\nconst getOptions = ({ reloadData, campaignId }) => ({\r\n\tfilterType: 'multiselect',\r\n\tselectableRows: 'none',\r\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\r\n\trowsPerPage: 25,\r\n\tcustomToolbarSelect: (selectedRows, displayData, setSelectedRows) => {\r\n\t\tconst selectedIndexes = selectedRows.data.map(i => i.dataIndex)\r\n\t\tconst hostnames = displayData\r\n\t\t\t.filter(item => selectedIndexes.includes(item.dataIndex) && item.data[1])\r\n\t\t\t.map(item => item.data[1])\r\n\r\n\t\tconst actionData = {\r\n\t\t\tcampaignId,\r\n\t\t\thostnames,\r\n\t\t\tonSuccess: reloadData,\r\n\t\t}\r\n\r\n\t\treturn <WebsitesActions {...actionData} />\r\n\t},\r\n})\r\n\r\nfunction CampaignStatsBreakdownTable({ campaignId, isActive, canSendMsgs }) {\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\r\n\tconst { maxClicks, maxImpressions, maxEarnings, maxCTR } = useSelector(\r\n\t\tstate => selectCampaignStatsMaxValues(state, campaignId)\r\n\t)\r\n\r\n\tconst allowActions = isActive && canSendMsgs\r\n\r\n\tconst { data, columns, reloadData } = useTableData({\r\n\t\tselector: selectCampaignStatsTableData,\r\n\t\tselectorArgs: campaignId,\r\n\t\tgetColumns: () =>\r\n\t\t\tgetCols({ symbol, maxClicks, maxImpressions, maxEarnings, maxCTR }),\r\n\t})\r\n\r\n\tconst options = getOptions({ reloadData, campaignId, isActive, canSendMsgs })\r\n\r\n\treturn (\r\n\t\t<MUIDataTableEnhanced\r\n\t\t\ttitle={t('CAMPAIGN_STATS_BREAKDOWN')}\r\n\t\t\tdata={data}\r\n\t\t\tcolumns={columns}\r\n\t\t\toptions={options}\r\n\t\t\trowSelectable={allowActions}\r\n\t\t\ttoolbarEnabled\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nCampaignStatsBreakdownTable.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default CampaignStatsBreakdownTable\r\n","export const styles = theme => {\r\n\treturn {\r\n\t\ticon: {\r\n\t\t\theight: '3rem',\r\n\t\t\twidth: 'auto',\r\n\t\t},\r\n\t\tdottedDivider: {\r\n\t\t\tborderBottom: `0.5px dotted ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tsolidDevider: {\r\n\t\t\tborderBottom: `0.5px solid ${theme.palette.grey.main}`,\r\n\t\t},\r\n\t\tbreakdownTable: {\r\n\t\t\twidth: '100%',\r\n\t\t\ttextAlign: 'left',\r\n\t\t},\r\n\t\tbreakAll: {\r\n\t\t\twhiteSpace: 'normal',\r\n\t\t\twordBreak: 'break-all',\r\n\t\t},\r\n\t\tpageBreak: {\r\n\t\t\tpageBreakAfter: 'always',\r\n\t\t},\r\n\t\ta4: {\r\n\t\t\twidth: '210mm',\r\n\t\t\tminHeight: '297mm',\r\n\t\t\tpadding: '8mm',\r\n\t\t},\r\n\t\tprogress: {\r\n\t\t\twidth: '100%',\r\n\t\t},\r\n\t}\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTableContainer,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport {\r\n\tt,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCompanyData,\r\n\tselectPublisherReceiptsStatsByMonthTableData,\r\n\tselectPublisherReceiptsStatsByMonthTotalValues,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatDate,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { bigNumberify } from 'ethers/utils'\r\nimport moment from 'moment'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function PublisherReceiptTpl({ date } = {}) {\r\n\tconst classes = useStyles()\r\n\tconst { symbol } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\r\n\tconst monthBreakdown = useSelector(state =>\r\n\t\tselectPublisherReceiptsStatsByMonthTableData(state, date)\r\n\t)\r\n\r\n\tconst { totalPayouts, totalImpressions } = useSelector(state =>\r\n\t\tselectPublisherReceiptsStatsByMonthTotalValues(state, date)\r\n\t)\r\n\tconst cpm = ((totalPayouts / totalImpressions) * 1000).toFixed(2)\r\n\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\treturn (\r\n\t\t<Box p={2} mb={5} className={classnames(classes.pageBreak)} width={1}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between' flexWrap='wrap'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4' gutterBottom>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5' gutterBottom>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2' gutterBottom>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t//Unique receipt number made from identity address and the month of the receipt\r\n\t\t\t\t\t\t\tformatAddress(\r\n\t\t\t\t\t\t\t\t`${bigNumberify(\r\n\t\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t\t.startOf('month')\r\n\t\t\t\t\t\t\t\t\t\t.unix() * 1000\r\n\t\t\t\t\t\t\t\t).toHexString()}${identityAddr.substr(5)}`,\r\n\t\t\t\t\t\t\t\t'-'\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={3}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t{formatDate(\r\n\t\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD')\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mb={2} display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6' align='right'>\r\n\t\t\t\t\t\t{t('RECEIPT_EARNED')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant='h4' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\ttotalPayouts.toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t.startOf('month')\r\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t\tmoment(date)\r\n\t\t\t\t\t\t\t\t\t.endOf('month')\r\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD'),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\ttotalPayouts.toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(totalImpressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_AVG_CPM')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${isFinite(cpm) ? cpm : Number(0).toFixed(2)}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t{monthBreakdown.length > 0 ? (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<TableContainer>\r\n\t\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_DATE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{`${t('RECEIPT_EARNED')} (${symbol})`}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{monthBreakdown\r\n\t\t\t\t\t\t\t\t\t\t.sort((a, b) => a.date - b.date)\r\n\t\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatDateTime(stats.date, 'YYYY-MM-DD')}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.payouts.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t) : (\r\n\t\t\t\t<Box\r\n\t\t\t\t\tmt={2}\r\n\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\tjustifyContent='space-around'\r\n\t\t\t\t\talignContent='center'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Typography>{t('NO_REVENUE_THIS_MONTH')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nPublisherReceiptTpl.propTypes = {\r\n\tdate: PropTypes.any.isRequired,\r\n}\r\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport IMG_404_1 from 'resources/404-no.png'\nimport IMG_404_2 from 'resources/404-yes.png'\nimport Img from 'components/common/img/Img'\nimport Typography from '@material-ui/core/Typography'\nimport Grid from '@material-ui/core/Grid'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { withStyles } from '@material-ui/core/styles'\nimport Translate from 'components/translate/Translate'\nimport { styles } from './styles'\nimport { t } from 'selectors'\n\nconst RRButton = withReactRouterLink(Button)\n\nconst G404 = ({ size }) => (\n\t<Grid item xs={size}>\n\t\t<Typography variant={`h${6 - size}`} style={{ textTransform: 'uppercase' }}>\n\t\t\t{t('404')}\n\t\t</Typography>\n\t</Grid>\n)\n\nclass PageNotFound extends React.Component {\n\trender() {\n\t\tconst {\n\t\t\tclasses,\n\t\t\ttitle,\n\t\t\tsubtitle,\n\t\t\tgoToTxt,\n\t\t\tgoToPath,\n\t\t\tskipGoToButton,\n\t\t} = this.props\n\t\treturn (\n\t\t\t<div className={classes.wrapper}>\n\t\t\t\t<Grid container spacing={2} justify='center' alignItems='center'>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Typography className={classes.text} variant='h3' align='center'>\n\t\t\t\t\t\t\t{t(title || '404')}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t{subtitle && (\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>\n\t\t\t\t\t\t\t\t{t(subtitle)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<G404 size={3} />\n\t\t\t\t\t<G404 size={4} />\n\t\t\t\t\t<G404 size={2} />\n\t\t\t\t\t<G404 size={1} />\n\t\t\t\t\t<G404 size={5} />\n\t\t\t\t\t<G404 size={3} />\n\t\t\t\t\t<G404 size={2} />\n\n\t\t\t\t\t<Grid item xs={5} sm={3}>\n\t\t\t\t\t\t<Img src={IMG_404_1} alt={'no'} className={classes.img} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={9}>\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography noWrap className={classes.text} variant='body1'>\n\t\t\t\t\t\t\t{window.location.href}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={5} sm={3}>\n\t\t\t\t\t\t<Img src={IMG_404_2} alt={'yes'} className={classes.img} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={7} sm={9}>\n\t\t\t\t\t\t{!skipGoToButton && (\n\t\t\t\t\t\t\t<RRButton\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tto={goToPath || '/'}\n\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t(goToTxt || 'GO_HOME')}\n\t\t\t\t\t\t\t</RRButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nPageNotFound.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tgoToTxt: PropTypes.string,\n\tgoToPath: PropTypes.string,\n\tskipGoToButton: PropTypes.bool,\n}\n\nexport default Translate(withStyles(styles)(PageNotFound))\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\twrapper: {\n\t\t\tmargin: `${spacing * 2}px auto`,\n\t\t\tmaxWidth: 1000,\n\t\t},\n\t\timg: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: 'auto',\n\t\t},\n\t}\n}\n","import React, { Fragment } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tBox,\r\n\tTypography,\r\n\tDivider,\r\n\tTable,\r\n\tTableHead,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tTableContainer,\r\n} from '@material-ui/core'\r\nimport classnames from 'classnames'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AdexIconTxt from 'components/common/icons/AdexIconTxt'\r\nimport PageNotFound from 'components/page_not_found/PageNotFound'\r\nimport {\r\n\tt,\r\n\tselectCampaignStatsTableData,\r\n\tselectMainToken,\r\n\tselectAccountIdentityAddr,\r\n\tselectCampaignWithAnalyticsById,\r\n\tselectCompanyData,\r\n} from 'selectors'\r\nimport {\r\n\tformatAddress,\r\n\tformatDateTime,\r\n\tformatNumberWithCommas,\r\n} from 'helpers/formatters'\r\nimport { formatUnits, commify } from 'ethers/utils'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nexport function CampaignReceiptTpl({ campaignId } = {}) {\r\n\tconst classes = useStyles()\r\n\tconst { symbol, decimals } = useSelector(selectMainToken)\r\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\r\n\tconst campaignBreakdown = useSelector(state =>\r\n\t\tselectCampaignStatsTableData(state, campaignId)\r\n\t)\r\n\tconst campaign = useSelector(state =>\r\n\t\tselectCampaignWithAnalyticsById(state, campaignId)\r\n\t)\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\tconst humanFriendlyName = (campaign.status || {}).humanFriendlyName\r\n\tconst receiptReady =\r\n\t\thumanFriendlyName === 'Closed' || humanFriendlyName === 'Completed'\r\n\tif (!campaign.spec || !campaign.creator) {\r\n\t\treturn (\r\n\t\t\t<PageNotFound\r\n\t\t\t\ttitle={t('ITEM_NOT_FOUND_TITLE')}\r\n\t\t\t\tsubtitle={t('ITEM_NOT_FOUND_SUBTITLE', {\r\n\t\t\t\t\targs: ['CAMPAIGN', campaignId],\r\n\t\t\t\t})}\r\n\t\t\t\tgoToPath={`/dashboard/advertiser`}\r\n\t\t\t\tgoToTxt='GO_TO_DASHBOARD'\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\tif (!receiptReady) return null\r\n\treturn (\r\n\t\t<Box p={2} mb={5} className={classnames(classes.pageBreak)} width={1}>\r\n\t\t\t<Box mb={2} display='flex' justifyContent='space-between' flexWrap='wrap'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h4' gutterBottom>{`${t('RECEIPT_FOR', {\r\n\t\t\t\t\t\targs: [companyName || '...'],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='h5' gutterBottom>{`${t('RECEIPT_ACCOUNT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(identityAddr)],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t\t<Typography variant='body2' gutterBottom>{`${t('RECEIPT_ID', {\r\n\t\t\t\t\t\targs: [formatAddress(campaignId, '-')],\r\n\t\t\t\t\t})}`}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<AdexIconTxt className={classnames(classes.icon)} />\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box\r\n\t\t\t\tmt={3}\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='row'\r\n\t\t\t\tflexWrap='wrap'\r\n\t\t\t>\r\n\t\t\t\t<Box display='flex' flexDirection='column'>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{t('RECEIPT_COMPANY_DETAILS')}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{companyName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{firstLastName}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{address}</Typography>\r\n\t\t\t\t\t\t<Typography variant='body2'>{country}</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_PAYMENT_DATE')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t{/* TODO: Need a date when the campaign has beeen completed */}\r\n\t\t\t\t\t\t\t<strong>{formatDateTime(campaign.withdrawPeriodStart)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box mb={2}>\r\n\t\t\t\t\t\t<Typography variant='body2'>{t('RECEIPT_CAMPAIGN_ID')}</Typography>\r\n\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t<strong>{formatAddress(campaignId)}</strong>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box mb={2} display='flex' flexDirection='column' alignItems='flex-end'>\r\n\t\t\t\t\t<Typography variant='h6' align='right'>\r\n\t\t\t\t\t\t{t('RECEIPT_PAID')}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant='h4' align='right'>\r\n\t\t\t\t\t\t<strong>{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\tNumber(formatUnits(campaign.depositAmount || '0', decimals)) *\r\n\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t).toFixed(2)\r\n\t\t\t\t\t\t)} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{/* <Typography variant='p'>{`Total cost in USD ($XXX)`}</Typography> */}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Box display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='h6'>{t('RECEIPT_CAMPAIGN_OVERVIEW')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t{t('RECEIPT_FROM_TO', {\r\n\t\t\t\t\t\t\targs: [\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.activeFrom),\r\n\t\t\t\t\t\t\t\tformatDateTime(campaign.withdrawPeriodStart),\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{`${\r\n\t\t\t\t\t\t\tcampaign.status.fundsDistributedRatio && campaign.depositAmount\r\n\t\t\t\t\t\t\t\t? commify(\r\n\t\t\t\t\t\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t\t\t\t\t\tformatUnits(campaign.depositAmount || '\t0', decimals)\r\n\t\t\t\t\t\t\t\t\t\t) *\r\n\t\t\t\t\t\t\t\t\t\t\t(campaign.status.fundsDistributedRatio / 1000)\r\n\t\t\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t\t\t: Number(0).toFixed(2)\r\n\t\t\t\t\t\t} ${symbol}`}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_IMPRESSIONS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.impressions)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='body2'>{t('LABEL_CLICKS')}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t<strong>{formatNumberWithCommas(campaign.clicks)}</strong>\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t\t<Divider />\r\n\r\n\t\t\t{campaignBreakdown.length > 0 && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Box mt={2} display='flex' justifyContent='space-between'>\r\n\t\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t\t<Typography variant='h6' gutterBottom>\r\n\t\t\t\t\t\t\t\t{t('RECEIPT_CAMPAIGN_BREAKDOWN')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Divider className={classnames(classes.dottedDivider)} />\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<TableContainer>\r\n\t\t\t\t\t\t\t<Table size='small'>\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow className={classnames(classes.dottedDivider)}>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('WEBSITE')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('LABEL_IMPRESSIONS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{t('CHART_LABEL_CLICKS')}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='subtitle2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`${t('WEBSITE_EARNINGS')} (${symbol})`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{campaignBreakdown\r\n\t\t\t\t\t\t\t\t\t\t.sort((a, b) => b.earnings - a.earnings)\r\n\t\t\t\t\t\t\t\t\t\t.map((stats, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talign='left'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(classes.breakAll)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{stats.website}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.impressions)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatNumberWithCommas(stats.clicks)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography align='right' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{`${formatNumberWithCommas(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstats.earnings.toFixed(2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nCampaignReceiptTpl.propTypes = {\r\n\tcampaignId: PropTypes.string.isRequired,\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Box, Paper, Typography, TextField, Grid } from '@material-ui/core'\r\nimport { execute, updateCompanyData } from 'actions'\r\nimport { t, selectCompanyData } from 'selectors'\r\n\r\nfunction CompanyDetails(props) {\r\n\tconst { companyName, firstLastName, address, country } = useSelector(\r\n\t\tselectCompanyData\r\n\t)\r\n\r\n\treturn (\r\n\t\t<Box mb={1}>\r\n\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Typography gutterBottom variant='h5'>\r\n\t\t\t\t\t\t\t\t{t('COMPANY_DETAIL_HEADING')}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('COMPANY_NAME')}\r\n\t\t\t\t\t\t\t\tvalue={companyName || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ companyName: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('FIRST_LAST_NAME')}\r\n\t\t\t\t\t\t\t\tvalue={firstLastName || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ firstLastName: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('ADDRESS')}\r\n\t\t\t\t\t\t\t\tvalue={address || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ address: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel={t('COUNTRY')}\r\n\t\t\t\t\t\t\t\tvalue={country || ''}\r\n\t\t\t\t\t\t\t\tonChange={ev =>\r\n\t\t\t\t\t\t\t\t\texecute(updateCompanyData({ country: ev.target.value }))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} lg={6}>\r\n\t\t\t\t\t\t\t{props.children}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default CompanyDetails\r\n","import React, { useRef, useEffect, useState } from 'react'\r\nimport { useParams, Redirect } from 'react-router'\r\nimport { Box, Button, Paper } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ReactToPrint from 'react-to-print'\r\nimport { Print, DateRangeSharp, GetApp } from '@material-ui/icons'\r\nimport { PublisherReceiptTpl } from './PublisherReceiptTpl'\r\nimport { CampaignReceiptTpl } from './CampaignReceiptTpl'\r\nimport CompanyDetails from './CompanyDetails'\r\nimport { useSelector } from 'react-redux'\r\nimport {\r\n\tt,\r\n\tselectSelectedCampaigns,\r\n\tselectSide,\r\n\tselectSpinnerById,\r\n\tselectAccountIdentityDeployData,\r\n\tselectReceiptMonths,\r\n} from 'selectors'\r\nimport { execute, resetSelectedItems, getReceiptData } from 'actions'\r\nimport Dropdown from 'components/common/dropdown'\r\nimport { FETCHING_PUBLISHER_RECEIPTS } from 'constants/spinners'\r\nimport { LinearProgress } from '@material-ui/core'\r\nimport { styles } from './styles'\r\nconst useStyles = makeStyles(styles)\r\n\r\nfunction Receipt(props) {\r\n\tconst classes = useStyles()\r\n\tconst invoice = useRef()\r\n\tconst side = useSelector(selectSide)\r\n\t// Advertiser Receipt variables\r\n\tconst { itemId } = useParams()\r\n\tconst selectedCampaigns = useSelector(state => selectSelectedCampaigns(state))\r\n\tconst selectedByPropsOrParams = props.itemId || itemId\r\n\tconst receiptsAdvertiser = selectedByPropsOrParams\r\n\t\t? [selectedByPropsOrParams]\r\n\t\t: selectedCampaigns\r\n\r\n\t// Publisher Receipt variables\r\n\tconst { created } = useSelector(state =>\r\n\t\tselectAccountIdentityDeployData(state)\r\n\t)\r\n\tconst [startDate, setStartDate] = useState('')\r\n\tconst [endDate, setEndDate] = useState('')\r\n\tconst [dirty, setDirty] = useState(false)\r\n\tconst dates = useSelector(() => selectReceiptMonths(startDate, endDate))\r\n\tconst validateStartDate =\r\n\t\tstartDate <= endDate && startDate !== '' && endDate !== ''\r\n\tconst validateEndDate =\r\n\t\tendDate >= startDate && startDate !== '' && endDate !== ''\r\n\tconst startDateError = !validateStartDate && dirty\r\n\tconst endDateError = !validateEndDate && dirty\r\n\tconst monthMappingStartPeriod = useSelector(() =>\r\n\t\tselectReceiptMonths(created, new Date().setDate(0), false)\r\n\t)\r\n\tconst monthMappingEndPeriod = useSelector(() =>\r\n\t\tselectReceiptMonths(created, new Date().setDate(0), true)\r\n\t)\r\n\r\n\tconst fetchingPublisherReceiptsSpinner = useSelector(state =>\r\n\t\tselectSpinnerById(state, FETCHING_PUBLISHER_RECEIPTS)\r\n\t)\r\n\r\n\t// Receipts\r\n\tconst [receipts, setReceipts] = useState(receiptsAdvertiser || [])\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\texecute(resetSelectedItems())\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst getReceipts = () => {\r\n\t\tsetDirty(true)\r\n\t\tif (validateStartDate && validateEndDate) {\r\n\t\t\texecute(getReceiptData(startDate, endDate))\r\n\t\t\tsetReceipts(dates.map(item => item.value))\r\n\t\t}\r\n\t}\r\n\r\n\tif (side === 'advertiser' && receipts.length === 0)\r\n\t\treturn <Redirect to={'/dashboard/advertiser/campaigns'} />\r\n\treturn (\r\n\t\t<Box display='flex' justifyContent='center' alignContent='center'>\r\n\t\t\t<Box\r\n\t\t\t\tdisplay='flex'\r\n\t\t\t\tjustifyContent='center'\r\n\t\t\t\talignContent='center'\r\n\t\t\t\tflexDirection='column'\r\n\t\t\t\tflexGrow={1}\r\n\t\t\t\toverflow='hidden'\r\n\t\t\t>\r\n\t\t\t\t<CompanyDetails>\r\n\t\t\t\t\t<ReactToPrint\r\n\t\t\t\t\t\tpageStyle={\r\n\t\t\t\t\t\t\t'@page { size: A4 portrait; marks: none; } @media print { body { -webkit-print-color-adjust: exact; } }'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttrigger={() => (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstartIcon={<Print />}\r\n\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\tside === 'publisher' &&\r\n\t\t\t\t\t\t\t\t\t(receipts.length === 0 || fetchingPublisherReceiptsSpinner)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{!selectedByPropsOrParams\r\n\t\t\t\t\t\t\t\t\t? `${t('RECEIPTS_PRINT_ALL')}`\r\n\t\t\t\t\t\t\t\t\t: `${t('RECEIPT_PRINT')}`}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tcontent={() => invoice.current}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</CompanyDetails>\r\n\t\t\t\t{side === 'publisher' && (\r\n\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t<Box\r\n\t\t\t\t\t\t\tp={1}\r\n\t\t\t\t\t\t\tdisplay='flex'\r\n\t\t\t\t\t\t\tjustifyContent='space-between'\r\n\t\t\t\t\t\t\talignItems='flex-start'\r\n\t\t\t\t\t\t\tflexDirection='row'\r\n\t\t\t\t\t\t\tflexWrap='wrap'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsource={[...monthMappingStartPeriod]}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirty(true)\r\n\t\t\t\t\t\t\t\t\t\tsetStartDate(val)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={startDateError}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tstartDateError && startDate !== ''\r\n\t\t\t\t\t\t\t\t\t\t\t? t('START_DATE_ERROR')\r\n\t\t\t\t\t\t\t\t\t\t\t: t('HELPER_START_DATE')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={startDate}\r\n\t\t\t\t\t\t\t\t\tlabel={t('START_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tname='startDate'\r\n\t\t\t\t\t\t\t\t\thtmlId='start-date-select'\r\n\t\t\t\t\t\t\t\t\tIconComponent={DateRangeSharp}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsource={[...monthMappingEndPeriod]}\r\n\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\tsetDirty(true)\r\n\t\t\t\t\t\t\t\t\t\tsetEndDate(val)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={endDateError}\r\n\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\tendDateError && endDate !== ''\r\n\t\t\t\t\t\t\t\t\t\t\t? t('END_DATE_ERROR')\r\n\t\t\t\t\t\t\t\t\t\t\t: t('HELPER_END_DATE')\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvalue={endDate}\r\n\t\t\t\t\t\t\t\t\tlabel={t('END_PERIOD')}\r\n\t\t\t\t\t\t\t\t\tname='endDate'\r\n\t\t\t\t\t\t\t\t\thtmlId='end-date-select'\r\n\t\t\t\t\t\t\t\t\tIconComponent={DateRangeSharp}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t<Box m={1} display='flex' flex={1}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tstyle={{ minHeight: 54.63 }}\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tsize='large'\r\n\t\t\t\t\t\t\t\t\tstartIcon={<GetApp />}\r\n\t\t\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={() => getReceipts()}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('GET_RECEIPTS')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t{fetchingPublisherReceiptsSpinner && (\r\n\t\t\t\t\t\t\t<LinearProgress className={classes.progress} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t)}\r\n\t\t\t\t<Box mt={2} display='flex' alignItems='center' justifyContent='center'>\r\n\t\t\t\t\t{receipts.length > 0 && (\r\n\t\t\t\t\t\t<Box width={1}>\r\n\t\t\t\t\t\t\t<Paper variant='outlined'>\r\n\t\t\t\t\t\t\t\t<Box ref={invoice}>\r\n\t\t\t\t\t\t\t\t\t{receipts.map(item =>\r\n\t\t\t\t\t\t\t\t\t\tside === 'advertiser' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<CampaignReceiptTpl campaignId={item} key={item} />\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\tfetchingPublisherReceiptsSpinner === false && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PublisherReceiptTpl date={item} key={item} />\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Box>\r\n\t\t\t</Box>\r\n\t\t</Box>\r\n\t)\r\n}\r\nexport { Receipt }\r\n","import React from 'react'\nimport { commify } from 'ethers/utils'\nimport PropTypes from 'prop-types'\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\nimport { Box } from '@material-ui/core'\nimport { t, selectMainToken } from 'selectors'\nimport { useTableData } from './tableHooks'\nimport { ReloadData } from './toolbars'\nimport { useSelector } from 'react-redux'\n\nconst getCols = ({ showEarnings, symbol }) => [\n\t{\n\t\tname: 'countryName',\n\t\tlabel: t('PROP_COUNTRY'),\n\t\toptions: {\n\t\t\tfilter: true,\n\t\t\tsort: false,\n\t\t\tdownload: true,\n\t\t},\n\t},\n\t{\n\t\tname: 'impressions',\n\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tsortDirection: 'desc',\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\n\t\t},\n\t},\n\t{\n\t\tname: 'percentImpressions',\n\t\tlabel: t('LABEL_PERC'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: percentImpressions =>\n\t\t\t\t`${percentImpressions.toFixed(2)} %`,\n\t\t},\n\t},\n\t{\n\t\tname: 'clicks',\n\t\tlabel: t('LABEL_CLICKS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\n\t\t},\n\t},\n\t{\n\t\tname: 'ctr',\n\t\tlabel: t('LABEL_CTR'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\n\t\t},\n\t},\n\t...(showEarnings\n\t\t? [\n\t\t\t\t{\n\t\t\t\t\tname: 'averageCPM',\n\t\t\t\t\tlabel: t('LABEL_AVERAGE_CPM'),\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tfilter: false,\n\t\t\t\t\t\tsort: true,\n\t\t\t\t\t\tcustomBodyRender: averageCPM =>\n\t\t\t\t\t\t\t`${commify(averageCPM.toFixed(2))} ${symbol}`,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'earnings',\n\t\t\t\t\tlabel: t('LABEL_EARNINGS'),\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tfilter: false,\n\t\t\t\t\t\tsort: true,\n\t\t\t\t\t\tcustomBodyRender: earnings =>\n\t\t\t\t\t\t\t`${commify(earnings.toFixed(2))} ${symbol}`,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t  ]\n\t\t: []),\n]\n\nconst getOptions = ({ reloadData, selected }) => ({\n\tfilterType: 'multiselect',\n\trowsSelected: selected,\n\trowsPerPage: 10,\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\n})\n\nfunction StatsByCountryTable(props) {\n\tconst { selector, selected = [], showEarnings } = props\n\tconst { symbol } = useSelector(selectMainToken)\n\n\tconst { data, columns, reloadData } = useTableData({\n\t\tselector,\n\t\tgetColumns: () =>\n\t\t\tgetCols({\n\t\t\t\tsymbol,\n\t\t\t\tshowEarnings,\n\t\t\t}),\n\t})\n\n\tconst options = getOptions({ selected, reloadData })\n\treturn (\n\t\t<Box>\n\t\t\t<MUIDataTableEnhanced\n\t\t\t\tdata={data}\n\t\t\t\tcolumns={columns}\n\t\t\t\toptions={options}\n\t\t\t\tnoSearch\n\t\t\t\tnoPrint\n\t\t\t\tnoViewColumns\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t</Box>\n\t)\n}\n\nStatsByCountryTable.propTypes = {\n\tselector: PropTypes.func.isRequired,\n\tshowEarnings: PropTypes.bool,\n}\n\nexport default StatsByCountryTable\n","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tZoomableGroup,\n\tComposableMap,\n\tGeographies,\n\tGeography,\n} from 'react-simple-maps'\nimport { Paper } from '@material-ui/core'\nimport ReactTooltip from 'react-tooltip'\nimport { ALEX_GREY } from 'components/App/themeMUi'\n\nconst MapChart = ({ selector }) => {\n\tconst { chartData, hoverColor, pressedColor } = useSelector(selector)\n\n\tconst [content, setContent] = useState('')\n\n\treturn (\n\t\t<Paper elevation={2} variant='outlined' square>\n\t\t\t<ComposableMap\n\t\t\t\tdata-tip='chart-map'\n\t\t\t\tprojection='geoMercator'\n\t\t\t\tprojectionConfig={{\n\t\t\t\t\tscale: 100,\n\t\t\t\t}}\n\t\t\t\twidth={666}\n\t\t\t\theight={420}\n\t\t\t>\n\t\t\t\t<ZoomableGroup maxZoom={3}>\n\t\t\t\t\t<Geographies geography={chartData}>\n\t\t\t\t\t\t{({ geographies = [] }) => {\n\t\t\t\t\t\t\treturn geographies.map(geo => {\n\t\t\t\t\t\t\t\tconst { tooltipElements, fillColor } = geo.properties\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Geography\n\t\t\t\t\t\t\t\t\t\tkey={geo.rsmKey}\n\t\t\t\t\t\t\t\t\t\tgeography={geo}\n\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetContent(tooltipElements)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonMouseLeave={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetContent('')\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tfill={fillColor}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\t\tstroke: 'white',\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\thover: {\n\t\t\t\t\t\t\t\t\t\t\t\tfill: hoverColor,\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tpressed: {\n\t\t\t\t\t\t\t\t\t\t\t\tfill: pressedColor,\n\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t</Geographies>\n\t\t\t\t</ZoomableGroup>\n\t\t\t</ComposableMap>\n\t\t\t{/* TODO: use material-ui tooltip ot popover */}\n\t\t\t{!!content && (\n\t\t\t\t<ReactTooltip border={false} backgroundColor={ALEX_GREY}>\n\t\t\t\t\t{Array.isArray(content)\n\t\t\t\t\t\t? content.map((x, i) => <div key={i}>{x}</div>)\n\t\t\t\t\t\t: content}\n\t\t\t\t</ReactTooltip>\n\t\t\t)}\n\t\t</Paper>\n\t)\n}\n\nexport default MapChart\n","import React from 'react'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport { CampaignTargetingRules } from 'components/dashboard/forms/items/NewItems'\nimport { execute, resetNewItem, updateCampaignAudienceInput } from 'actions'\nimport { Campaign } from 'adex-models'\n\nconst TargetingSteps = ({\n\tupdateField,\n\tfieldName,\n\tstepTitle,\n\titemId,\n\t...props\n}) => {\n\treturn (\n\t\t<FormSteps\n\t\t\t{...props}\n\t\t\tcancelFunction={() => execute(resetNewItem('Campaign', itemId))}\n\t\t\titemId={itemId}\n\t\t\tvalidateIdBase={`update-campaign-${itemId}-`}\n\t\t\titemType='Campaign'\n\t\t\tstepsId={`update-campaign-${itemId}`}\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: stepTitle || 'CAMPAIGN_AUDIENCE',\n\t\t\t\t\tcomponent: CampaignTargetingRules,\n\t\t\t\t\tcompleteBtnTitle: 'OK',\n\t\t\t\t\tcompleteFn: props =>\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tupdateCampaignAudienceInput({\n\t\t\t\t\t\t\t\tupdateField,\n\t\t\t\t\t\t\t\titemId,\n\t\t\t\t\t\t\t\tfieldName,\n\t\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t]}\n\t\t\titemModel={Campaign}\n\t\t/>\n\t)\n}\n\nexport const TargetingRulesEdit = WithDialog(TargetingSteps)\n","import React from 'react'\nimport {\n\tGrid,\n\tBox,\n\tInputAdornment,\n\tButton,\n\tDivider,\n\tCircularProgress,\n} from '@material-ui/core'\nimport { StopSharp, PauseSharp, StarSharp } from '@material-ui/icons'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { bigNumberify } from 'ethers/utils'\nimport {\n\tItemTitle,\n\tMediaCard,\n\tItemSpecProp,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { TargetingRulesEdit } from 'components/dashboard/containers/Campaign/CampaignEdits'\nimport { formatDateTime, formatTokenAmount } from 'helpers/formatters'\nimport { mapStatusIcons } from 'components/dashboard/containers/Tables/tableHelpers'\nimport { t, selectMainToken, selectSpinnerById } from 'selectors'\nimport {\n\texecute,\n\tcloseCampaign,\n\tpauseOrResumeCampaign,\n\tconfirmAction,\n\tmapCurrentToNewCampaignAudienceInput,\n} from 'actions'\nimport { useSelector } from 'react-redux'\n\nconst getCloseCampaignsFees = ({\n\tdepositAmount,\n\tvalidators,\n\tfundsDistributedRatio,\n\tdecimals,\n}) => {\n\tconst deposit = bigNumberify(depositAmount)\n\tconst totalFees = validators.reduce(\n\t\t(sum, { fee }) => sum.add(bigNumberify(fee)),\n\t\tbigNumberify(0)\n\t)\n\n\tconst feesPercent =\n\t\ttotalFees\n\t\t\t.mul(bigNumberify(10000))\n\t\t\t.div(deposit)\n\t\t\t.toNumber() / 100\n\n\tconst nonDistributedFunds = deposit.sub(\n\t\tdeposit\n\t\t\t.mul(fundsDistributedRatio)\n\t\t\t.div(bigNumberify(1000))\n\t\t\t.toString()\n\t)\n\n\tconst feesToPay = totalFees.sub(\n\t\ttotalFees\n\t\t\t.mul(fundsDistributedRatio)\n\t\t\t.div(bigNumberify(1000))\n\t\t\t.toString()\n\t)\n\n\tconst percent = feesPercent.toFixed(2) + '%'\n\tconst toPay = formatTokenAmount(feesToPay, decimals, false, 2)\n\tconst nonDistributed = formatTokenAmount(\n\t\tnonDistributedFunds,\n\t\tdecimals,\n\t\tfalse,\n\t\t2\n\t)\n\n\treturn { percent, toPay, nonDistributed }\n}\n\nconst useStyles = makeStyles(theme => ({\n\twrapper: {\n\t\tmargin: theme.spacing(1),\n\t\tposition: 'relative',\n\t},\n\tbuttonProgress: {\n\t\tposition: 'absolute',\n\t\ttop: '50%',\n\t\tleft: '50%',\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}))\n\nexport const CampaignBasic = ({\n\titem,\n\tcanSendMsgs,\n\tisActive,\n\t...hookProps\n}) => {\n\tconst classes = useStyles()\n\tconst {\n\t\ttitle,\n\t\tadUnits = [],\n\t\tpricingBounds,\n\t\tdepositAmount,\n\t\tvalidators,\n\t\tminPerImpression,\n\t\tmaxPerImpression,\n\t\taudienceInput,\n\t} = item\n\tconst { advanced = {} } = (audienceInput || {}).inputs || {}\n\tconst { decimals, symbol } = selectMainToken()\n\tconst { title: errTitle } = hookProps.validations\n\n\tconst { mediaUrl, mediaMime } = adUnits[0] || {}\n\tconst status = item.status || {}\n\tconst { humanFriendlyName, fundsDistributedRatio } = status\n\tconst isPaused = ((item.targetingRules || [])[0] || {}).onlyShowIf === false\n\tconst pauseAction = isPaused ? 'RESUME' : 'PAUSE'\n\n\tconst campaignPricingBounds = pricingBounds || { IMPRESSION: {} }\n\tconst cpmMin = campaignPricingBounds.min || minPerImpression || 0\n\tconst cpmMax = campaignPricingBounds.max || maxPerImpression || 0\n\n\tconst closeSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, `closing-campaign-${item.id}`)\n\t)\n\n\tconst pauseSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, `pausing-campaign-${item.id}`)\n\t)\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\n\t\t\t\t<Box my={1}>\n\t\t\t\t\t<MediaCard mediaUrl={mediaUrl} mediaMime={mediaMime} />\n\t\t\t\t</Box>\n\t\t\t\t{isActive && (\n\t\t\t\t\t<Grid container spacing={1} alignItems='center'>\n\t\t\t\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\n\t\t\t\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\t\t\tpercent,\n\t\t\t\t\t\t\t\t\t\t\ttoPay,\n\t\t\t\t\t\t\t\t\t\t\tnonDistributed,\n\t\t\t\t\t\t\t\t\t\t} = getCloseCampaignsFees({\n\t\t\t\t\t\t\t\t\t\t\tdepositAmount,\n\t\t\t\t\t\t\t\t\t\t\tvalidators,\n\t\t\t\t\t\t\t\t\t\t\tfundsDistributedRatio,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\tconfirmAction(\n\t\t\t\t\t\t\t\t\t\t\t\t() => execute(closeCampaign({ campaign: item })),\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfirmLabel: t('CLOSE_CAMPAIGN_CONFIRM_LABEL'),\n\t\t\t\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: t('CLOSE_CAMPAIGN_CONFIRM_TITLE', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [title],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: t('CLOSE_CAMPAIGN_CONFIRM_INFO', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [percent, toPay, nonDistributed, symbol],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdisabled={closeSpinner || !canSendMsgs}\n\t\t\t\t\t\t\t\t\tendIcon={<StopSharp />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('BTN_CLOSE_CAMPAIGN')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{closeSpinner && (\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item xs={12} sm={6} md={12} lg={6}>\n\t\t\t\t\t\t\t<div className={classes.wrapper}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\tconfirmAction(\n\t\t\t\t\t\t\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\texecute(pauseOrResumeCampaign({ campaign: item })),\n\t\t\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfirmLabel: t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${pauseAction}_CAMPAIGN_CONFIRM_LABEL`\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: t(`${pauseAction}_CAMPAIGN_CONFIRM_TITLE`, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [title],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: t(`${pauseAction}_CAMPAIGN_CONFIRM_INFO`, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tdisabled={pauseSpinner || !canSendMsgs}\n\t\t\t\t\t\t\t\t\tendIcon={isPaused ? <StarSharp /> : <PauseSharp />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(`BTN_${pauseAction}_CAMPAIGN`)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{pauseSpinner && (\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</Grid>\n\n\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\n\t\t\t\t<Box mt={1}>\n\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\n\t\t\t\t</Box>\n\t\t\t\t<Box mt={1}>\n\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\tprop={'id'}\n\t\t\t\t\t\tvalue={item.id}\n\t\t\t\t\t\tlabel={t('id', { isProp: true })}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'humanFriendlyName'}\n\t\t\t\t\t\t\t\tvalue={t(humanFriendlyName, { toUpperCase: true })}\n\t\t\t\t\t\t\t\tlabel={t('status', { isProp: true })}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t{mapStatusIcons(humanFriendlyName, status.name, 'md')}\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'created'}\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\n\t\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'activeFrom'}\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\n\t\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'withdrawPeriodStart'}\n\t\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\n\t\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{/* <Box my={1}>\n\t\t\t\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\t\t\t\tprop={'CAMPAIGN_MIN_TARGETING'}\n\t\t\t\t\t\t\t\t\t\t\tvalue={item.minTargetingScore > 0 ? t('YES') : t('NO')}\n\t\t\t\t\t\t\t\t\t\t\tlabel={t('CAMPAIGN_MIN_TARGETING')}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Box> */}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6}>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'fundsDistributedRatio'}\n\t\t\t\t\t\t\t\tvalue={((fundsDistributedRatio || 0) / 10).toFixed(2)}\n\t\t\t\t\t\t\t\tlabel={t('PROP_DISTRIBUTED', { args: ['%'] })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'depositAmount'}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\tformatTokenAmount(item.depositAmount, decimals) + ' ' + symbol\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('depositAmount', { isProp: true })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'CPM_MIN'}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\tformatTokenAmount(\n\t\t\t\t\t\t\t\t\t\tbigNumberify(cpmMin || 0).mul(1000),\n\t\t\t\t\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('CPM_MIN')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'CPM_MAX'}\n\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\tformatTokenAmount(\n\t\t\t\t\t\t\t\t\t\tbigNumberify(cpmMax || 0).mul(1000),\n\t\t\t\t\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\tsymbol\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel={t('CPM_MAX')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Box mt={3} mb={1}>\n\t\t\t\t\t<Divider />\n\t\t\t\t</Box>\n\t\t\t\t<Grid container spacing={2} pt={2}>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'INCLUDE_INCENTIVIZED_TRAFFIC_LABEL'}\n\t\t\t\t\t\t\t\tvalue={t(advanced.includeIncentivized ? 'YES' : 'NO')}\n\t\t\t\t\t\t\t\tlabel={t('INCLUDE_INCENTIVIZED_TRAFFIC_LABEL')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'DISABLE_FREQUENCY_CAPPING_LABEL'}\n\t\t\t\t\t\t\t\tvalue={t(advanced.disableFrequencyCapping ? 'YES' : 'NO')}\n\t\t\t\t\t\t\t\tlabel={t('DISABLE_FREQUENCY_CAPPING_LABEL')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}>\n\t\t\t\t\t\t<Box my={0}>\n\t\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\t\tprop={'LIMIT_AVERAGE_DAILY_SPENDING_LABEL'}\n\t\t\t\t\t\t\t\tvalue={t(advanced.limitDailyAverageSpending ? 'YES' : 'NO')}\n\t\t\t\t\t\t\t\tlabel={t('LIMIT_AVERAGE_DAILY_SPENDING_LABEL')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t\t{isActive && (\n\t\t\t\t\t\t\t\t<TargetingRulesEdit\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tadvancedOnly\n\t\t\t\t\t\t\t\t\tfieldName='campaignAdvanced'\n\t\t\t\t\t\t\t\t\tstepTitle='PROP_CAMPAIGN_ADVANCED'\n\t\t\t\t\t\t\t\t\tbtnLabel='EDIT_CAMPAIGN_ADVANCED'\n\t\t\t\t\t\t\t\t\ttitle='EDIT_CAMPAIGN_ADVANCED_TITLE'\n\t\t\t\t\t\t\t\t\titemId={item.id}\n\t\t\t\t\t\t\t\t\tdisabled={!canSendMsgs}\n\t\t\t\t\t\t\t\t\tdisableBackdropClick\n\t\t\t\t\t\t\t\t\tupdateField={hookProps.updateField}\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\tmapCurrentToNewCampaignAudienceInput({\n\t\t\t\t\t\t\t\t\t\t\t\titemId: item.id,\n\t\t\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tBox,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n} from '@material-ui/core'\nimport { t, selectAudienceByCampaignId } from 'selectors'\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\nimport { NewCampaignFromAudience } from 'components/dashboard/forms/items/NewItems'\nimport {\n\texecute,\n\tupdateNewCampaign,\n\tupdateNewAudience,\n\tmapCurrentToNewCampaignAudienceInput,\n} from 'actions'\nimport { NewAudienceDialog } from 'components/dashboard/forms/items/NewItems'\nimport { TargetingRulesEdit } from 'components/dashboard/containers/Campaign/CampaignEdits'\n\nconst useStyles = makeStyles(theme => ({\n\tactions: {\n\t\t'& > *': {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t\tmarginBottom: theme.spacing(1),\n\t\t},\n\t},\n}))\n\nexport const CampaignAudience = ({\n\titem,\n\tisActive,\n\tcanSendMsgs,\n\t...hookProps\n}) => {\n\tconst classes = useStyles()\n\tconst campaignAudienceInput =\n\t\tuseSelector(state => selectAudienceByCampaignId(state, item.id)) || {}\n\n\tconst audienceInput =\n\t\titem.audienceInput && Object.keys(item.audienceInput.inputs).length\n\t\t\t? item.audienceInput\n\t\t\t: campaignAudienceInput\n\n\treturn (\n\t\t<Box>\n\t\t\t<Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<AudiencePreview audienceInput={audienceInput.inputs} />\n\t\t\t\t</Box>\n\t\t\t\t<Box className={classes.actions}>\n\t\t\t\t\t{isActive && (\n\t\t\t\t\t\t<TargetingRulesEdit\n\t\t\t\t\t\t\tbtnLabel='UPDATE_AUDIENCE'\n\t\t\t\t\t\t\ttitle='UPDATE_CAMPAIGN_AUDIENCE'\n\t\t\t\t\t\t\titemId={item.id}\n\t\t\t\t\t\t\tdisabled={!canSendMsgs}\n\t\t\t\t\t\t\tdisableBackdropClick\n\t\t\t\t\t\t\tupdateField={hookProps.updateField}\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tmapCurrentToNewCampaignAudienceInput({\n\t\t\t\t\t\t\t\t\t\titemId: item.id,\n\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<NewCampaignFromAudience\n\t\t\t\t\t\tbtnLabel='NEW_CAMPAIGN_FROM_AUDIENCE'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tonBeforeOpen={() =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\n\t\t\t\t\t\t\t\t\t...audienceInput,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<NewAudienceDialog\n\t\t\t\t\t\tbtnLabel='SAVE_AUDIENCE'\n\t\t\t\t\t\ttitle='CREATE_NEW_AUDIENCE'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tonBeforeOpen={() =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewAudience(null, null, {\n\t\t\t\t\t\t\t\t\t...audienceInput,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box>\n\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\taria-controls='targeting-rules-content'\n\t\t\t\t\t\tid='targeting-rules-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>{t('TARGETING_RULES')}</Typography>\n\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\n\t\t\t\t\t\t<pre>\n\t\t\t\t\t\t\t{JSON.stringify(\n\t\t\t\t\t\t\t\titem.targetingRules || item.spec.targetingRules || [],\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</pre>\n\t\t\t\t\t</Box>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React, { useEffect, useRef } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Line, Chart } from 'react-chartjs-2'\nimport { CHARTS_COLORS } from 'components/dashboard/charts/options'\nimport { GANDALF_GREY, ALEX_GREY } from 'components/App/themeMUi'\nimport { Box, Typography } from '@material-ui/core'\nimport Helper from 'helpers/miscHelpers'\nimport { selectMainToken, selectAnalyticsNowLabel } from 'selectors'\nimport { formatFloatNumberWithCommas } from 'helpers/formatters'\nimport * as ChartAnnotation from 'chartjs-plugin-annotation'\nimport { t } from 'selectors'\nimport { useWindowSize } from 'hooks/useWindowSize'\n\nconst commonDsProps = {\n\tfill: false,\n\tlineTension: 0,\n\tborderWidth: 2,\n\tpointRadius: 2,\n\tpointHitRadius: 10,\n}\n\nconst DEFAULT_FONT_SIZE = 14.2\nconst FONT = 'Roboto'\nconst DASH_SIZE = 4\nconst DASH_WIDTH = 2\n\nconst DefaultLabel = ({ label = '', align }) =>\n\tlabel.split('-').map((x, index, all) => (\n\t\t<Typography key={x + index} component='div' variant='caption' align={align}>\n\t\t\t{x}\n\t\t</Typography>\n\t))\n\nexport const SimpleStatistics = ({\n\tdata1,\n\tdata2,\n\tdata3,\n\tdata4,\n\tdata1Active = true,\n\tdata2Active = true,\n\tdata3Active = true,\n\tdata4Active = true,\n\tdataSynced,\n\tdefaultLabels = [],\n\toptions = {},\n\txLabel = 'TIMEFRAME',\n\ty1Label = 'DATA1',\n\ty2Label = 'DATA2',\n\ty3Label = 'DATA3',\n\ty4Label = 'DATA4',\n\ty1Color = CHARTS_COLORS[1],\n\ty2Color = CHARTS_COLORS[2],\n\ty3Color = CHARTS_COLORS[3],\n\ty4Color = CHARTS_COLORS[4],\n}) => {\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst nowLabel = useSelector(selectAnalyticsNowLabel)\n\tconst windowSize = useWindowSize()\n\tconst chartHeight = Math.min(\n\t\tMath.max(Math.floor((windowSize.height || 0) / 2.2), 240),\n\t\t420\n\t)\n\t// Vertical line / crosshair\n\tuseEffect(() => {\n\t\tChart.pluginService.register({\n\t\t\tbeforeDraw: function(chart) {\n\t\t\t\tconst ctx = chart.ctx\n\t\t\t\tif (chart.tooltip._active && chart.tooltip._active.length) {\n\t\t\t\t\tconst activePoint = chart.controller.tooltip._active[0]\n\t\t\t\t\tconst x = activePoint.tooltipPosition().x\n\t\t\t\t\tconst chartScalesy1 = chart.scales['y-axis-1']\n\t\t\t\t\tif (chartScalesy1) {\n\t\t\t\t\t\tconst topY = chartScalesy1.top\n\t\t\t\t\t\tconst bottomY = chartScalesy1.bottom\n\t\t\t\t\t\tctx.save()\n\t\t\t\t\t\tctx.beginPath()\n\t\t\t\t\t\tctx.moveTo(x, topY)\n\t\t\t\t\t\tctx.lineTo(x, bottomY)\n\t\t\t\t\t\tctx.lineWidth = DASH_WIDTH\n\t\t\t\t\t\tctx.setLineDash([DASH_SIZE, DASH_SIZE])\n\t\t\t\t\t\tctx.strokeStyle = GANDALF_GREY // color of the vertical line\n\t\t\t\t\t\tctx.stroke()\n\t\t\t\t\t\tctx.restore()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t})\n\n\tconst chartData = {\n\t\tlabels: dataSynced ? data1.labels : defaultLabels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y1Color, 1),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y1Color, 1),\n\t\t\t\tlabel: y1Label,\n\t\t\t\tdata: dataSynced ? data1.datasets : [],\n\t\t\t\tyAxisID: 'y-axis-1',\n\t\t\t\thidden: !data1Active,\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y2Color, 1),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y2Color, 1),\n\t\t\t\tlabel: y2Label,\n\t\t\t\tdata: dataSynced ? data2.datasets : [],\n\t\t\t\tyAxisID: 'y-axis-2',\n\t\t\t\thidden: !data2Active,\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y3Color, 1),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y3Color, 1),\n\t\t\t\tlabel: y3Label,\n\t\t\t\tdata: dataSynced ? data3.datasets : [],\n\t\t\t\tyAxisID: 'y-axis-3',\n\t\t\t\thidden: !data3Active,\n\t\t\t},\n\t\t\t{\n\t\t\t\t...commonDsProps,\n\t\t\t\tbackgroundColor: Helper.hexToRgbaColorString(y4Color, 1),\n\t\t\t\tborderColor: Helper.hexToRgbaColorString(y4Color, 1),\n\t\t\t\tpointBackgroundColor: y4Color,\n\t\t\t\tlabel: y4Label,\n\t\t\t\tdata: dataSynced ? data4.datasets : [],\n\t\t\t\tyAxisID: 'y-axis-4',\n\t\t\t\thidden: !data4Active,\n\t\t\t},\n\t\t],\n\t}\n\n\tconst linesOptions = {\n\t\tanimation: false,\n\t\tresponsive: true,\n\t\tlayout: {\n\t\t\tpadding: {\n\t\t\t\ttop: 16,\n\t\t\t},\n\t\t},\n\t\tannotation: {\n\t\t\tannotations: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'line',\n\t\t\t\t\tmode: 'vertical',\n\t\t\t\t\tscaleID: 'x-axis-0',\n\n\t\t\t\t\tvalue: nowLabel,\n\t\t\t\t\tborderColor: ALEX_GREY,\n\t\t\t\t\tborderWidth: DASH_WIDTH,\n\t\t\t\t\tborderDash: [DASH_SIZE, DASH_SIZE],\n\t\t\t\t\tlabel: {\n\t\t\t\t\t\tcontent: t('NOW'),\n\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\tposition: 'center',\n\t\t\t\t\t\tcornerRadius: 0,\n\t\t\t\t\t\tbackgroundColor: ALEX_GREY,\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\n\t\t\t\t\t\tfontFamily: FONT,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t// This and fixed height are used for proper mobile display of the chart\n\t\tmaintainAspectRatio: false,\n\t\ttitle: {\n\t\t\tdisplay: false,\n\t\t\ttext: options.title,\n\t\t},\n\t\tlegend: {\n\t\t\tdisplay: false,\n\t\t},\n\t\ttooltips: {\n\t\t\tbackgroundColor: 'black',\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t\ttitleFontSize: DEFAULT_FONT_SIZE,\n\t\t\tbodyFontSize: DEFAULT_FONT_SIZE,\n\t\t\tbodyFontFamily: FONT,\n\t\t\ttitleFontFamily: FONT,\n\t\t\txPadding: 8,\n\t\t\tyPadding: 8,\n\t\t\tcornerRadius: 0,\n\t\t\tbodySpacing: 4,\n\t\t\tcaretSize: 8,\n\t\t\tdisplayColors: true,\n\t\t\tcallbacks: {\n\t\t\t\tlabel: function(t, d) {\n\t\t\t\t\t// This adds currency MainToken (DAI) to y3Label in the tooltips\n\t\t\t\t\tvar xLabel = d.datasets[t.datasetIndex].label\n\t\t\t\t\tvar yLabel =\n\t\t\t\t\t\txLabel === y3Label\n\t\t\t\t\t\t\t? `${formatFloatNumberWithCommas(t.yLabel)} ${symbol}`\n\t\t\t\t\t\t\t: formatFloatNumberWithCommas(t.yLabel)\n\t\t\t\t\treturn `${xLabel}: ${yLabel}`\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\thover: {\n\t\t\tmode: 'index',\n\t\t\tintersect: false,\n\t\t},\n\n\t\tscales: {\n\t\t\txAxes: [\n\t\t\t\t{\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tdrawBorder: true,\n\t\t\t\t\t\tdrawTicks: true,\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\tlabelString: t(xLabel || 'TIMEFRAME'),\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\n\t\t\t\t\t\tfontFamily: FONT,\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tautoSkip: true,\n\t\t\t\t\t\tmaxTicksLimit: 2,\n\t\t\t\t\t\tmaxRotation: 0,\n\t\t\t\t\t\tpadding: -24,\n\t\t\t\t\t\tfontSize: DEFAULT_FONT_SIZE,\n\t\t\t\t\t\tfontFamily: FONT,\n\t\t\t\t\t\tcallback: () => '',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\t// NOTE: this one is just to show constant size grid lines\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tgridLines: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tdrawBorder: false,\n\t\t\t\t\t\tdrawTicks: false,\n\t\t\t\t\t},\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\tmaxTicksLimit: 11,\n\t\t\t\t\t\tstepSize: 1,\n\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\tmax: 10,\n\t\t\t\t\t\tcallback: () => '',\n\t\t\t\t\t},\n\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t},\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tid: 'y-axis-dummy-grid-lines',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tid: 'y-axis-1',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tid: 'y-axis-2',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tid: 'y-axis-3',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t// Hax - force to shift the data veridically\n\t\t\t\t\t\t// because chance for overlapping with -1 is very big\n\t\t\t\t\t\t// At same CPM impressions are the same curve as the sped one\n\t\t\t\t\t\tmaxTicksLimit: 3,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'linear',\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tid: 'y-axis-4',\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t}\n\n\treturn (\n\t\t<Box>\n\t\t\t<Box height={chartHeight}>\n\t\t\t\t<Line\n\t\t\t\t\theight={chartHeight}\n\t\t\t\t\tdata={chartData}\n\t\t\t\t\toptions={linesOptions}\n\t\t\t\t\tplugins={[ChartAnnotation]}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t\t<Box\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='row'\n\t\t\t\tjustifyContent='space-between'\n\t\t\t\talignItems='center'\n\t\t\t\tpx={1}\n\t\t\t\tflexWrap='wrap'\n\t\t\t>\n\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t<DefaultLabel label={defaultLabels[0]} align='left' />\n\t\t\t\t</Box>\n\n\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t<Typography component='div' variant='caption' align='center'>\n\t\t\t\t\t\t{t(xLabel || 'TIMEFRAME')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\n\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t<DefaultLabel label={defaultLabels[1]} align='right' />\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import { useState, useEffect } from 'react'\r\n\r\nexport function useWindowSize() {\r\n\tconst hasWindow = typeof window === 'object'\r\n\r\n\tfunction getWindowSize() {\r\n\t\treturn {\r\n\t\t\twidth: hasWindow ? window.innerWidth : 0,\r\n\t\t\theight: hasWindow ? window.innerHeight : 0,\r\n\t\t}\r\n\t}\r\n\r\n\tconst [windowSize, setWindowSize] = useState(getWindowSize)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!hasWindow) {\r\n\t\t\treturn false\r\n\t\t}\r\n\r\n\t\tfunction onResize() {\r\n\t\t\tsetWindowSize(getWindowSize())\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('resize', onResize)\r\n\r\n\t\treturn () => window.removeEventListener('resize', onResize)\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [hasWindow])\r\n\r\n\treturn windowSize\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nfunction arrowGenerator(color) {\r\n\treturn {\r\n\t\t'&[x-placement*=\"bottom\"] $arrow': {\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginTop: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '0 1em 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent ${color} transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"top\"] $arrow': {\r\n\t\t\tbottom: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tmarginBottom: '-0.95em',\r\n\t\t\twidth: '2em',\r\n\t\t\theight: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 0 1em',\r\n\t\t\t\tborderColor: `${color} transparent transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"right\"] $arrow': {\r\n\t\t\tleft: 0,\r\n\t\t\tmarginLeft: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 1em 1em 0',\r\n\t\t\t\tborderColor: `transparent ${color} transparent transparent`,\r\n\t\t\t},\r\n\t\t},\r\n\t\t'&[x-placement*=\"left\"] $arrow': {\r\n\t\t\tright: 0,\r\n\t\t\tmarginRight: '-0.95em',\r\n\t\t\theight: '2em',\r\n\t\t\twidth: '1em',\r\n\t\t\t'&::before': {\r\n\t\t\t\tborderWidth: '1em 0 1em 1em',\r\n\t\t\t\tborderColor: `transparent transparent transparent ${color}`,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n}\r\n\r\nexport const LightTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t},\r\n}))(Tooltip)\r\n\r\nconst useStylesArrow = makeStyles(theme => ({\r\n\ttooltip: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.black,\r\n\t},\r\n\tpopper: arrowGenerator(theme.palette.common.black),\r\n\tarrow: {\r\n\t\tposition: 'absolute',\r\n\t\tfontSize: 6,\r\n\t\t'&::before': {\r\n\t\t\tcontent: '\"\"',\r\n\t\t\tmargin: 'auto',\r\n\t\t\tdisplay: 'block',\r\n\t\t\twidth: 0,\r\n\t\t\theight: 0,\r\n\t\t\tborderStyle: 'solid',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport function ArrowTooltip(props) {\r\n\tconst { arrow, ...classes } = useStylesArrow()\r\n\tconst [arrowRef, setArrowRef] = React.useState(null)\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tclasses={classes}\r\n\t\t\tPopperProps={{\r\n\t\t\t\tpopperOptions: {\r\n\t\t\t\t\tmodifiers: {\r\n\t\t\t\t\t\tarrow: {\r\n\t\t\t\t\t\t\tenabled: Boolean(arrowRef),\r\n\t\t\t\t\t\t\telement: arrowRef,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{props.title}\r\n\t\t\t\t\t<span className={arrow} ref={setArrowRef} />\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nArrowTooltip.propTypes = {\r\n\ttitle: PropTypes.node,\r\n}\r\n\r\nexport const HtmlTooltip = withStyles(theme => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: '#f5f5f9',\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tmaxWidth: 220,\r\n\t\tfontSize: theme.typography.pxToRem(12),\r\n\t\tborder: '1px solid #dadde9',\r\n\t},\r\n}))(Tooltip)\r\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Box, Typography } from '@material-ui/core'\nimport classnames from 'classnames'\nimport { ArrowTooltip } from 'components/common/tooltips'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport { Info, Visibility, VisibilityOff } from '@material-ui/icons'\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\troot: {\n\t\t\tcursor: 'pointer',\n\t\t\tposition: 'relative',\n\t\t\tbackgroundColor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).main || theme.palette.background.default,\n\t\t\tcolor: ({ bgColor = '' }) =>\n\t\t\t\t(theme.palette[bgColor] || {}).contrastText ||\n\t\t\t\ttheme.palette.text.primary,\n\t\t},\n\t\tinfoCard: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tprogress: {\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tposition: 'absolute',\n\t\t\twidth: '100%',\n\t\t},\n\t\tvisibilityIcon: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\tposition: 'absolute',\n\t\t\ttop: theme.spacing(0.3),\n\t\t\tright: theme.spacing(0.5),\n\t\t\topacity: 0.69,\n\t\t},\n\t}\n})\n\nconst StatsCard = props => {\n\tconst {\n\t\ttitle,\n\t\tsubtitle,\n\t\tlinkCard,\n\t\tchildren,\n\t\tonClick,\n\t\tbgColor,\n\t\tloading,\n\t\texplain,\n\t\tdataVisible,\n\t} = props\n\n\tconst classes = useStyles({ bgColor, dataVisible })\n\n\tconst VIcon = dataVisible ? Visibility : VisibilityOff\n\n\treturn (\n\t\t<Box\n\t\t\toverflow='hidden'\n\t\t\tp={1}\n\t\t\tvariant='outlined'\n\t\t\tclassName={classnames(classes.root, {\n\t\t\t\t[classes.linkCard]: !!linkCard,\n\t\t\t})}\n\t\t\tonClick={onClick}\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\tjustifyContent='center'\n\t\t\talignContent='stretch'\n\t\t\tflexWrap='wrap'\n\t\t\tflexGrow={1}\n\t\t>\n\t\t\t<Box>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='row'\n\t\t\t\t\tjustifyContent='flex-start'\n\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tpr={3}\n\t\t\t\t>\n\t\t\t\t\t{onClick && <VIcon className={classes.visibilityIcon} size='large' />}\n\t\t\t\t\t{title && (\n\t\t\t\t\t\t<Typography variant='h6' noWrap>\n\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\n\t\t\t\t{subtitle &&\n\t\t\t\t\t(explain ? (\n\t\t\t\t\t\t<ArrowTooltip\n\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t<Typography component='div' variant='caption'>\n\t\t\t\t\t\t\t\t\t{explain}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Typography component='div'>\n\t\t\t\t\t\t\t\t{subtitle} <Info style={{ fontSize: 12 }} />\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</ArrowTooltip>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Typography component='div'>{subtitle}</Typography>\n\t\t\t\t\t))}\n\t\t\t\t{children}\n\t\t\t</Box>\n\n\t\t\t{loading && <LinearProgress className={classes.progress} />}\n\t\t</Box>\n\t)\n}\n\nStatsCard.propTypes = {\n\ttitle: PropTypes.string,\n\tsubtitle: PropTypes.string,\n\tlinkCard: PropTypes.bool,\n}\n\nexport default StatsCard\n","export const styles = theme => {\n\treturn {\n\t\tdatepickerContrastInput: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\tdatepickerContrastLabel: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\t'&$datepickerContrastLabelFocused': {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tdatepickerContrastLabelFocused: {},\n\t\tdatepickerContrastUnderline: {\n\t\t\t'&:after': {\n\t\t\t\t// borderBottomColor: theme.palette.common.white,\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t\t'&:before': {\n\t\t\t\tborder: '0 !important',\n\t\t\t},\n\t\t},\n\t\tdayWrapper: {\n\t\t\tposition: 'relative',\n\t\t},\n\t\tday: {\n\t\t\twidth: 36,\n\t\t\theight: 36,\n\t\t\tfontSize: theme.typography.caption.fontSize,\n\t\t\tmargin: '0 2px',\n\t\t\tcolor: 'inherit',\n\t\t},\n\t\tcustomDayHighlight: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: '2px',\n\t\t\tright: '2px',\n\t\t\tborder: `1px solid ${theme.palette.secondary.main}`,\n\t\t\tborderRadius: '50%',\n\t\t},\n\t\tnonCurrentMonthDay: {\n\t\t\tcolor: theme.palette.text.disabled,\n\t\t},\n\t\thighlightNonCurrentMonthDay: {\n\t\t\tcolor: '#676767',\n\t\t},\n\t\thighlight: {\n\t\t\tbackground: theme.palette.primary.main,\n\t\t\tcolor: theme.palette.common.white,\n\t\t},\n\t\tfirstHighlight: {\n\t\t\textend: 'highlight',\n\t\t\tborderTopLeftRadius: '50%',\n\t\t\tborderBottomLeftRadius: '50%',\n\t\t},\n\t\tendHighlight: {\n\t\t\textend: 'highlight',\n\t\t\tborderTopRightRadius: '50%',\n\t\t\tborderBottomRightRadius: '50%',\n\t\t},\n\t\tdayDisabled: {\n\t\t\tcolor: 'rgba(0, 0, 0, 0.38)',\n\t\t\tpointerEvents: 'none',\n\t\t},\n\t}\n}\n","import React, { Component } from 'react'\nimport { DatePicker as MuiDatePicker } from '@material-ui/pickers'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport {\n\tDateRangeSharp,\n\tNavigateNextRounded,\n\tNavigateBeforeRounded,\n\tUpdate,\n} from '@material-ui/icons'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport dateUtils, { makeJSDateObject } from 'helpers/dateUtils'\nimport clsx from 'clsx'\n\nconst CalendarIconAdor = ({\n\ticon = <DateRangeSharp />,\n\ticonColor,\n\tonIconClick,\n\tonNextClick,\n\tonLiveClick,\n}) => (\n\t<InputAdornment position='end'>\n\t\t{onNextClick && (\n\t\t\t<IconButton color={iconColor} onClick={onNextClick} size='small'>\n\t\t\t\t<NavigateNextRounded />\n\t\t\t</IconButton>\n\t\t)}\n\t\t<IconButton color={iconColor} onClick={onIconClick} size='small'>\n\t\t\t{icon}\n\t\t</IconButton>\n\t\t{onLiveClick && (\n\t\t\t<IconButton color={iconColor} onClick={onLiveClick} size='small'>\n\t\t\t\t<Update />\n\t\t\t</IconButton>\n\t\t)}\n\t</InputAdornment>\n)\n\nexport class DatePicker extends Component {\n\trender() {\n\t\tconst {\n\t\t\tcalendarIcon,\n\t\t\ticon,\n\t\t\ticonColor,\n\t\t\tInputProps = {},\n\t\t\tonIconClick,\n\t\t\tonNextClick,\n\t\t\tonLiveClick,\n\t\t\tonBackClick,\n\t\t\t...rest\n\t\t} = this.props\n\t\treturn (\n\t\t\t<MuiDatePicker\n\t\t\t\tInputProps={{\n\t\t\t\t\t...InputProps,\n\t\t\t\t\tdisabled: rest.disabled,\n\t\t\t\t\tendAdornment: calendarIcon ? (\n\t\t\t\t\t\t<CalendarIconAdor\n\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\ticonColor={iconColor}\n\t\t\t\t\t\t\tonIconClick={onIconClick}\n\t\t\t\t\t\t\tonNextClick={onNextClick}\n\t\t\t\t\t\t\tonLiveClick={onLiveClick}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null,\n\t\t\t\t\tstartAdornment: onBackClick ? (\n\t\t\t\t\t\t<InputAdornment position='start'>\n\t\t\t\t\t\t\t<IconButton color={iconColor} onClick={onBackClick} size='small'>\n\t\t\t\t\t\t\t\t<NavigateBeforeRounded />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t) : null,\n\t\t\t\t}}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t)\n\t}\n}\n\nexport default DatePicker\n\nconst datePickerStyled = ({\n\tclasses,\n\tcalendarIcon,\n\ticon,\n\tInputProps = {},\n\t...rest\n}) => {\n\treturn (\n\t\t<DatePicker\n\t\t\tInputLabelProps={{\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t},\n\t\t\t\tFormLabelClasses: {\n\t\t\t\t\troot: classes.datepickerContrastLabel,\n\t\t\t\t\tfocused: classes.datepickerContrastLabelFocused,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tInputProps={{\n\t\t\t\t...InputProps,\n\t\t\t\tdisabled: rest.disabled,\n\t\t\t\tclasses: {\n\t\t\t\t\troot: classes.datepickerContrastInput,\n\t\t\t\t\tunderline: classes.datepickerContrastUnderline,\n\t\t\t\t},\n\t\t\t\tendAdornment: calendarIcon ? <CalendarIconAdor icon={icon} /> : null,\n\t\t\t}}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const DatePickerContrast = withStyles(styles)(datePickerStyled)\n\nconst dayIsFuture = date => dateUtils.isAfter(date, dateUtils.date())\n\nfunction PeriodSelectDatePicker({ classes, period, ...rest }) {\n\tconst renderWrappedWeekDay = (date, selectedDate, dayInCurrentMonth) => {\n\t\tlet dateClone = makeJSDateObject(date)\n\t\tlet selectedDateClone = makeJSDateObject(selectedDate)\n\n\t\tconst start = dateUtils.startOfDay(selectedDateClone)\n\t\tlet end = dateUtils.date(start)\n\n\t\tswitch (period) {\n\t\t\tcase 'week':\n\t\t\t\tend = dateUtils.startOfDay(dateUtils.addDays(start, 6))\n\t\t\t\tmaxDate = dateUtils.addDays(dateUtils.date(), -6)\n\t\t\t\tbreak\n\t\t\tcase 'month':\n\t\t\t\tend = dateUtils.startOfDay(\n\t\t\t\t\tdateUtils.addDays(dateUtils.addMonths(start, 1), -1)\n\t\t\t\t)\n\t\t\t\tmaxDate = dateUtils.addDays(dateUtils.addMonths(dateUtils.date(), 1), 1)\n\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t}\n\n\t\tconst dayIsBetween = dateUtils.isWithinInterval(dateClone, { start, end })\n\t\tconst isFirstDay = dateUtils.isSameDay(dateClone, start)\n\t\tconst isLastDay = dateUtils.isSameDay(dateClone, end)\n\n\t\tconst wrapperClassName = clsx({\n\t\t\t[classes.highlight]: dayIsBetween,\n\t\t\t[classes.firstHighlight]: isFirstDay,\n\t\t\t[classes.endHighlight]: isLastDay,\n\t\t})\n\n\t\tconst dayClassName = clsx(classes.day, {\n\t\t\t[classes.nonCurrentMonthDay]: !dayInCurrentMonth,\n\t\t\t[classes.highlightNonCurrentMonthDay]: !dayInCurrentMonth && dayIsBetween,\n\t\t\t[classes.dayDisabled]: dayIsFuture(dateClone),\n\t\t})\n\n\t\treturn (\n\t\t\t<div className={wrapperClassName}>\n\t\t\t\t<IconButton className={dayClassName}>\n\t\t\t\t\t<span> {dateUtils.format(dateClone, 'D')} </span>\n\t\t\t\t</IconButton>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tlet maxDate = dateUtils.date()\n\n\tswitch (period) {\n\t\tcase 'week':\n\t\t\tmaxDate = dateUtils.addDays(dateUtils.date(), -6)\n\t\t\tbreak\n\t\tcase 'month':\n\t\t\tmaxDate = dateUtils.addDays(dateUtils.addMonths(dateUtils.date(), -1), 1)\n\n\t\t\tbreak\n\t\tdefault:\n\t\t\tbreak\n\t}\n\n\treturn (\n\t\t<DatePicker\n\t\t\tlabel='Week Picker'\n\t\t\trenderDay={renderWrappedWeekDay}\n\t\t\tshouldDisableDate={date => dayIsFuture(date)}\n\t\t\tviews={['year', 'month', 'date']}\n\t\t\tmaxDate={maxDate}\n\t\t\t{...rest}\n\t\t/>\n\t)\n}\n\nexport const PeriodDatePicker = withStyles(styles)(PeriodSelectDatePicker)\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\tinfoStatsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\tflexWrap: 'wrap',\n\t\t\tjustifyContent: 'stretch',\n\t\t\theight: '100%',\n\t\t},\n\t\tinfoCard: {\n\t\t\tmargin: spacing,\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tlinkCard: {\n\t\t\t'&:hover, &:focus': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\tdashboardCardBody: {\n\t\t\tmargin: spacing,\n\t\t\tpadding: spacing,\n\t\t\twidth: `calc(100% - ${spacing * 2}px)`,\n\t\t},\n\t\tcardIcon: {\n\t\t\tposition: 'absolute',\n\t\t\tbottom: '-33px',\n\t\t\tright: '-33px',\n\t\t\tfontSize: '120px',\n\t\t\topacity: '0.13',\n\t\t\ttransform: 'rotate(-45deg)',\n\t\t\tpointerEvents: 'none',\n\t\t},\n\t\t// NOTE: need this to match multilenie datepicker and dropdown heights\n\t\tdatePicker: {\n\t\t\tpaddingTop: 9.108,\n\t\t\tpaddingBottom: 9.108,\n\t\t},\n\t}\n}\n","import { useState, useEffect } from 'react'\r\n\r\nexport function useKeyPress(targetKey) {\r\n\tconst [keyPressed, setKeyPressed] = useState(false)\r\n\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\tconst downHandler = ev => {\r\n\t\tif (ev.key === targetKey) {\r\n\t\t\tev.preventDefault()\r\n\t\t\tsetKeyPressed(true)\r\n\t\t}\r\n\t}\r\n\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\tconst upHandler = ev => {\r\n\t\tif (ev.key === targetKey) {\r\n\t\t\tev.preventDefault()\r\n\t\t\tsetKeyPressed(false)\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('keydown', downHandler)\r\n\t\twindow.addEventListener('keyup', upHandler)\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', downHandler)\r\n\t\t\twindow.removeEventListener('keyup', upHandler)\r\n\t\t}\r\n\t}, [downHandler, upHandler])\r\n\r\n\treturn keyPressed\r\n}\r\n","import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tVisibility,\n\tMonetizationOn,\n\tMouse,\n\tEqualizer,\n} from '@material-ui/icons'\nimport { Box } from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\nimport { SimpleStatistics } from 'components/dashboard/charts/simplified'\nimport Dropdown from 'components/common/dropdown'\nimport { VALIDATOR_ANALYTICS_TIMEFRAMES } from 'constants/misc'\nimport StatsCard from './StatsCard'\nimport { makeStyles } from '@material-ui/core/styles'\nimport DateTimePicker from 'components/common/DateTimePicker'\nimport { PeriodDatePicker, DatePicker } from 'components/common/DatePicker'\nimport Anchor from 'components/common/anchor/anchor'\n\nimport {\n\tPRIMARY,\n\tSECONDARY,\n\tACCENT_ONE,\n\tACCENT_TWO,\n\tALEX_GREY,\n} from 'components/App/themeMUi'\nimport { styles } from './styles'\nimport { formatNumberWithCommas } from 'helpers/formatters'\nimport {\n\texecute,\n\tupdateIdSideAnalyticsChartTimeframe,\n\tupdateIdSideAnalyticsChartPeriod,\n\tupdateAnalyticsPeriodPrevNextLive,\n\tupdateAccountAnalyticsThrottled,\n} from 'actions'\nimport {\n\tt,\n\tselectTotalImpressions,\n\tselectTotalMoney,\n\tselectAverageCPM,\n\tselectMainToken,\n\tselectIdentitySideAnalyticsTimeframe,\n\tselectIdentitySideAnalyticsPeriod,\n\tselectTotalClicks,\n\tselectChartDatapointsCPM,\n\tselectChartDatapointsImpressions,\n\tselectChartDatapointsClicks,\n\tselectChartDatapointsPayouts,\n\tselectSide,\n\tselectAnalyticsDataSide,\n\tselectAuth,\n\tselectInitialDataLoadedByData,\n\tselectMissingRevenueDataPointsAccepted,\n\tselectAnalyticsMinAndMaxDates,\n} from 'selectors'\nimport dateUtils from 'helpers/dateUtils'\nimport { useKeyPress } from 'hooks/useKeyPress'\nimport { analyticsLoopCustom } from 'services/store-data/analytics'\nimport {\n\tgetPeriodLabel,\n\tgetPeriodDataPointLabel,\n} from 'helpers/analyticsTimeHelpers'\n\nconst min = 60 * 1000\n\nconst timeoutMap = {\n\thour: min,\n\tday: 10 * min,\n\tweek: 30 * min,\n\tmonth: 60 * 2 * min,\n\tyear: 60 * 24 * min,\n}\n\nconst timeFrames = VALIDATOR_ANALYTICS_TIMEFRAMES.map(tf => {\n\tconst translated = { ...tf }\n\ttranslated.label = t(tf.label)\n\treturn translated\n})\n\nconst metrics = {\n\tpublisher: [\n\t\t{\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CLICKS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: SECONDARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_REVENUE'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_TWO,\n\t\t},\n\t\t{\n\t\t\tlabel: t('PROP_CPM'),\n\t\t\tcolor: ALEX_GREY,\n\t\t},\n\t],\n\tadvertiser: [\n\t\t{\n\t\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: PRIMARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_CLICKS'),\n\t\t\tvalue: 'eventCounts',\n\t\t\tcolor: SECONDARY,\n\t\t},\n\t\t{\n\t\t\tlabel: t('LABEL_SPEND'),\n\t\t\tvalue: 'eventPayouts',\n\t\t\tcolor: ACCENT_ONE,\n\t\t},\n\t\t{\n\t\t\tlabel: t('PROP_CPM'),\n\t\t\tcolor: ALEX_GREY,\n\t\t},\n\t],\n}\n\nconst getDefaultLabels = ({ timeframe, start, end }) => [\n\tgetPeriodDataPointLabel({ timeframe, time: start }),\n\tgetPeriodDataPointLabel({ timeframe, time: end }),\n]\n\nconst DatePickerSwitch = ({ timeframe, period: { start, end }, ...rest }) => {\n\tswitch (timeframe) {\n\t\tcase 'week':\n\t\t\treturn (\n\t\t\t\t<PeriodDatePicker\n\t\t\t\t\t{...rest}\n\t\t\t\t\tperiod='week'\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\n\t\t\t\t/>\n\t\t\t)\n\t\tcase 'day':\n\t\t\treturn (\n\t\t\t\t<DatePicker\n\t\t\t\t\t{...rest}\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\n\t\t\t\t/>\n\t\t\t)\n\t\tcase 'hour':\n\t\t\treturn (\n\t\t\t\t<DateTimePicker\n\t\t\t\t\t{...rest}\n\t\t\t\t\tviews={['date', 'hours']}\n\t\t\t\t\troundHour\n\t\t\t\t\tminutesStep={60}\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\n\t\t\t\t/>\n\t\t\t)\n\t\tcase 'month':\n\t\t\treturn (\n\t\t\t\t<PeriodDatePicker\n\t\t\t\t\t{...rest}\n\t\t\t\t\tperiod='month'\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\n\t\t\t\t/>\n\t\t\t)\n\t\tcase 'year':\n\t\t\treturn (\n\t\t\t\t<DatePicker\n\t\t\t\t\t{...rest}\n\t\t\t\t\tviews={['year', 'month']}\n\t\t\t\t\tmaxDate={dateUtils.addMonths(dateUtils.date(), -11)}\n\t\t\t\t\tlabelFunc={val => getPeriodLabel({ timeframe, start, end })}\n\t\t\t\t/>\n\t\t\t)\n\t\tdefault:\n\t\t\treturn <DatePicker {...rest} />\n\t}\n}\n\nexport function BasicStats() {\n\tconst useStyles = makeStyles(styles)\n\tconst classes = useStyles()\n\tconst SPACE = useKeyPress(' ')\n\tconst ARROW_LEFT = useKeyPress('ArrowLeft')\n\tconst ARROW_RIGHT = useKeyPress('ArrowRight')\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst isAuth = useSelector(state => selectAuth(state))\n\tconst { start, end } = useSelector(selectIdentitySideAnalyticsPeriod)\n\tconst timeframe = useSelector(selectIdentitySideAnalyticsTimeframe)\n\tconst uiSide = useSelector(selectSide)\n\t// NOTE: side can be: for-publisher, for-advertiser ot current campaign in details Id\n\tconst side = useSelector(selectAnalyticsDataSide)\n\tconst { minDate, maxDate } = useSelector(selectAnalyticsMinAndMaxDates)\n\tconst [loop, setLoop] = useState()\n\tconst allChannelsLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'allChannels')\n\t)\n\tconst advAnalyticsLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\n\t)\n\tconst itemsLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'allItems')\n\t)\n\tconst initialDataLoaded =\n\t\tallChannelsLoaded && advAnalyticsLoaded && itemsLoaded\n\tconst [data1Active, setData1Active] = useState(true)\n\tconst [data2Active, setData2Active] = useState(true)\n\tconst [data3Active, setData3Active] = useState(true)\n\tconst [data4Active, setData4Active] = useState(true)\n\n\tconst defaultLabels = getDefaultLabels({ timeframe, start, end })\n\n\tconst totalImpressions = useSelector(state =>\n\t\tselectTotalImpressions(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalClicks = useSelector(state =>\n\t\tselectTotalClicks(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst totalMoney = useSelector(state =>\n\t\tselectTotalMoney(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst averageCPM = useSelector(state =>\n\t\tselectAverageCPM(state, {\n\t\t\tside,\n\t\t\ttimeframe,\n\t\t})\n\t)\n\n\tconst payouts = useSelector(state =>\n\t\tselectChartDatapointsPayouts(state, { side, timeframe })\n\t)\n\n\tconst impressions = useSelector(state =>\n\t\tselectChartDatapointsImpressions(state, { side, timeframe })\n\t)\n\n\tconst clicks = useSelector(state =>\n\t\tselectChartDatapointsClicks(state, { side, timeframe })\n\t)\n\n\tconst cpm = useSelector(state =>\n\t\tselectChartDatapointsCPM(state, { side, timeframe })\n\t)\n\n\tconst goNext = () => {\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ next: true }))\n\t}\n\n\tconst goPrev = () => {\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ next: false }))\n\t}\n\n\tconst goLive = () => {\n\t\texecute(updateAnalyticsPeriodPrevNextLive({ live: true }))\n\t}\n\n\tuseEffect(() => {\n\t\tSPACE && goLive()\n\t\tARROW_RIGHT && goNext()\n\t\tARROW_LEFT && goPrev()\n\t}, [ARROW_LEFT, ARROW_RIGHT, SPACE])\n\n\tuseEffect(() => {\n\t\tif (initialDataLoaded && side && timeframe && start) {\n\t\t\texecute(updateAccountAnalyticsThrottled())\n\t\t}\n\t}, [initialDataLoaded, side, timeframe, start])\n\n\tuseEffect(() => {\n\t\tif (initialDataLoaded && side) {\n\t\t\tgoLive()\n\t\t}\n\t}, [initialDataLoaded, side])\n\n\tuseEffect(() => {\n\t\tinitialDataLoaded && loop && loop.start()\n\t\treturn () => {\n\t\t\tloop && loop.stop()\n\t\t}\n\t}, [initialDataLoaded, loop])\n\n\tuseEffect(() => {\n\t\tloop && loop.stop()\n\t\tsetLoop(\n\t\t\tanalyticsLoopCustom({\n\t\t\t\ttimeout: timeoutMap[timeframe],\n\t\t\t\tsyncAction: async () => {\n\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\tasync () =>\n\t\t\t\t\t\t\tisAuth && (await execute(updateAccountAnalyticsThrottled())),\n\t\t\t\t\t\ttimeoutMap[timeframe] -\n\t\t\t\t\t\t\t(Date.now() % timeoutMap[timeframe]) +\n\t\t\t\t\t\t\t5 * 1000\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t})\n\t\t)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [timeframe, isAuth])\n\n\tconst dataSynced =\n\t\t!!initialDataLoaded &&\n\t\t[\n\t\t\timpressions.labels[impressions.labels.length - 1],\n\t\t\tpayouts.labels[payouts.labels.length - 1],\n\t\t].every(x => !!x && x === clicks.labels[clicks.labels.length - 1]) &&\n\t\t[totalImpressions, totalMoney, averageCPM, totalClicks].every(\n\t\t\tx => x !== null\n\t\t)\n\n\treturn (\n\t\tuiSide && (\n\t\t\t<Box>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='row'\n\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\talignItems='stretch'\n\t\t\t\t>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\talignItems='start'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box m={1} ml={0} flexGrow='1'>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tlabel={t('SELECT_TIMEFRAME')}\n\t\t\t\t\t\t\t\t// helperText={t(timeHints[timeframe])}\n\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\t//TODO: fix change of timeframe, set default period as well\n\t\t\t\t\t\t\t\t\texecute(updateIdSideAnalyticsChartTimeframe(val))\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tsource={timeFrames}\n\t\t\t\t\t\t\t\tvalue={timeframe}\n\t\t\t\t\t\t\t\thtmlId='timeframe-select'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box m={1} ml={0} flexGrow='1'>\n\t\t\t\t\t\t\t<DatePickerSwitch\n\t\t\t\t\t\t\t\tperiod={{ start, end }}\n\t\t\t\t\t\t\t\ttimeframe={timeframe}\n\t\t\t\t\t\t\t\tvalue={start}\n\t\t\t\t\t\t\t\tminutesStep={60}\n\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\texecute(updateIdSideAnalyticsChartPeriod(val))\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tInputProps={{ multiline: true, className: classes.datePicker }}\n\t\t\t\t\t\t\t\tdisableFuture\n\t\t\t\t\t\t\t\tinputVariant='outlined'\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tcalendarIcon\n\t\t\t\t\t\t\t\tlabel={t('ANALYTICS_PERIOD')}\n\t\t\t\t\t\t\t\tmaxDate={maxDate}\n\t\t\t\t\t\t\t\tminDate={minDate}\n\t\t\t\t\t\t\t\t// Only when picking future hours as they can't be disabled\n\t\t\t\t\t\t\t\tmaxDateMessage='' //{t('MAX_DATE_ERROR')}\n\t\t\t\t\t\t\t\tminDateMessage='' // we do not need error msgs e.g. for new accounts\n\t\t\t\t\t\t\t\tstrictCompareDates\n\t\t\t\t\t\t\t\tonBackClick={e => {\n\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\tgoPrev()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonLiveClick={e => {\n\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\tgoLive()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonNextClick={e => {\n\t\t\t\t\t\t\t\t\te.stopPropagation()\n\t\t\t\t\t\t\t\t\tgoNext()\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='primary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t\tloading={!dataSynced}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalImpressions || 0)}`}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_IMPRESSIONS')}\n\t\t\t\t\t\tonClick={() => setData1Active(!data1Active)}\n\t\t\t\t\t\tdataVisible={data1Active}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Visibility className={classes.cardIcon} />\n\t\t\t\t\t</StatsCard>\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='secondary'\n\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_CLICKS')}\n\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_CLICKS')}\n\t\t\t\t\t\tloading={!dataSynced}\n\t\t\t\t\t\ttitle={`${formatNumberWithCommas(totalClicks || 0)} (${parseFloat(\n\t\t\t\t\t\t\t(totalClicks / totalImpressions) * 100 || 0\n\t\t\t\t\t\t).toFixed(2)} % ${t('LABEL_CTR')})`}\n\t\t\t\t\t\tonClick={() => setData2Active(!data2Active)}\n\t\t\t\t\t\tdataVisible={data2Active}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Mouse className={classes.cardIcon} />\n\t\t\t\t\t</StatsCard>\n\t\t\t\t\t{uiSide === 'advertiser' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentOne'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_SPENT')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_SPENT', { args: [symbol] })}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={!dataSynced}\n\t\t\t\t\t\t\tonClick={() => setData3Active(!data3Active)}\n\t\t\t\t\t\t\tdataVisible={data3Active}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MonetizationOn className={classes.cardIcon} />\n\t\t\t\t\t\t</StatsCard>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{uiSide === 'publisher' && (\n\t\t\t\t\t\t<StatsCard\n\t\t\t\t\t\t\tbgColor='accentTwo'\n\t\t\t\t\t\t\tsubtitle={t('LABEL_TOTAL_REVENUE')}\n\t\t\t\t\t\t\texplain={t('EXPLAIN_TOTAL_REVENUE')}\n\t\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\t\tparseFloat(totalMoney || 0).toFixed(2)\n\t\t\t\t\t\t\t)} ${symbol}`}\n\t\t\t\t\t\t\tloading={!dataSynced}\n\t\t\t\t\t\t\tonClick={() => setData3Active(!data3Active)}\n\t\t\t\t\t\t\tdataVisible={data3Active}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MonetizationOn className={classes.cardIcon} />\n\t\t\t\t\t\t</StatsCard>\n\t\t\t\t\t)}\n\t\t\t\t\t<StatsCard\n\t\t\t\t\t\tbgColor='grey'\n\t\t\t\t\t\tsubtitle={t('LABEL_AVG_CPM')}\n\t\t\t\t\t\texplain={t('EXPLAIN_AVG_CPM')}\n\t\t\t\t\t\tloading={!dataSynced}\n\t\t\t\t\t\ttitle={`~ ${formatNumberWithCommas(\n\t\t\t\t\t\t\tparseFloat(averageCPM || 0).toFixed(2)\n\t\t\t\t\t\t)} ${symbol} / CPM`}\n\t\t\t\t\t\tonClick={() => setData4Active(!data4Active)}\n\t\t\t\t\t\tdataVisible={data4Active}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Equalizer className={classes.cardIcon} />\n\t\t\t\t\t</StatsCard>\n\t\t\t\t</Box>\n\n\t\t\t\t<Box mt={1}>\n\t\t\t\t\t<SimpleStatistics\n\t\t\t\t\t\tstart={start}\n\t\t\t\t\t\tend={end}\n\t\t\t\t\t\ttimeframe={timeframe}\n\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t(timeFrames.find(a => a.value === timeframe) || {}).label || '',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdefaultLabels={defaultLabels}\n\t\t\t\t\t\tdata1={impressions}\n\t\t\t\t\t\tdata2={clicks}\n\t\t\t\t\t\tdata3={payouts}\n\t\t\t\t\t\tdata4={cpm}\n\t\t\t\t\t\tdata1Active={data1Active}\n\t\t\t\t\t\tdata2Active={data2Active}\n\t\t\t\t\t\tdata3Active={data3Active}\n\t\t\t\t\t\tdata4Active={data4Active}\n\t\t\t\t\t\tdataSynced={dataSynced}\n\t\t\t\t\t\ty1Label={metrics[uiSide][0].label}\n\t\t\t\t\t\ty1Color={metrics[uiSide][0].color}\n\t\t\t\t\t\ty2Label={metrics[uiSide][1].label}\n\t\t\t\t\t\ty2Color={metrics[uiSide][1].color}\n\t\t\t\t\t\ty3Label={metrics[uiSide][2].label}\n\t\t\t\t\t\ty3Color={metrics[uiSide][2].color}\n\t\t\t\t\t\ty4Label={metrics[uiSide][3].label}\n\t\t\t\t\t\ty4Color={metrics[uiSide][3].color}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t)\n\t)\n}\n","import React from 'react'\nimport { Grid, Box } from '@material-ui/core'\n\nimport { ItemSpecProp } from 'components/dashboard/containers/ItemCommon/'\nimport { BasicStats } from 'components/dashboard/containers/DashboardStats/BasicStats'\nimport { formatDateTime } from 'helpers/formatters'\nimport { t } from 'selectors'\n\nexport const CampaignStatsByTimeframe = ({ item }) => {\n\treturn (\n\t\t<Box>\n\t\t\t<Grid container spacing={1}>\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\tprop={'created'}\n\t\t\t\t\t\t\tvalue={formatDateTime(item.created)}\n\t\t\t\t\t\t\tlabel={t('created', { isProp: true })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\tprop={'activeFrom'}\n\t\t\t\t\t\t\tvalue={formatDateTime(item.activeFrom)}\n\t\t\t\t\t\t\tlabel={t('activeFrom', { isProp: true })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={4} md={4} lg={4}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ItemSpecProp\n\t\t\t\t\t\t\tprop={'withdrawPeriodStart'}\n\t\t\t\t\t\t\tvalue={formatDateTime(item.withdrawPeriodStart)}\n\t\t\t\t\t\t\tlabel={t('withdrawPeriodStart', { isProp: true })}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<BasicStats />\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t)\n}\n","import React, { useState, Fragment, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport {\n\tGrid,\n\tBox,\n\tPaper,\n\tList,\n\tListItem,\n\tListItemText,\n\tTypography,\n\tTabs,\n\tTab,\n\tLinearProgress,\n} from '@material-ui/core'\nimport { AdUnitsTable } from 'components/dashboard/containers/Tables'\nimport { Campaign as CampaignModel } from 'adex-models'\nimport Anchor from 'components/common/anchor/anchor'\nimport CampaignStatsDoughnut from 'components/dashboard/charts/campaigns/CampaignStatsDoughnut'\nimport CampaignStatsBreakdownTable from 'components/dashboard/containers/Tables/CampaignStatsBreakdownTable'\nimport { Receipt } from 'components/dashboard/containers/Receipt'\nimport {\n\tselectCampaignAnalyticsToCountryTableData,\n\tselectCampaignAnalyticsToCountryMapChartData,\n\tselectInitialDataLoadedByData,\n\tt,\n} from 'selectors'\nimport StatsByCountryTable from 'components/dashboard/containers/Tables/StatsByCountryTable'\nimport MapChart from 'components/dashboard/charts/map/MapChart'\nimport { CampaignBasic } from './CampaignBasic'\nimport { CampaignAudience } from './CampaignAudience'\nimport { validateAndUpdateCampaign, updateMemoryUi, execute } from 'actions'\nimport {\n\tuseItem,\n\tChangeControls,\n\tItemTabsBar,\n\tItemTabsContainer,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { CampaignStatsByTimeframe } from './CampaignStatsByTimeframe'\n\nfunction Campaign({ match }) {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\tconst { item, ...hookProps } = useItem({\n\t\titemType: 'Campaign',\n\t\tmatch,\n\t\tobjModel: CampaignModel,\n\t\tvalidateAndUpdateFn: validateAndUpdateCampaign,\n\t})\n\tconst dataLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\n\t)\n\n\tconst campaign = new CampaignModel(item)\n\tconst { humanFriendlyName } = campaign.status || {}\n\tconst leader = campaign.spec.validators[0]\n\tconst follower = campaign.spec.validators[1]\n\tconst campaignId = campaign.id\n\tconst { status = {} } = item\n\tconst canSendMsgs =\n\t\tstatus.name &&\n\t\t['Ready', 'Active', 'Unhealthy'].includes(status.name) &&\n\t\tstatus.humanFriendlyName !== 'Closed'\n\n\tconst isActive = status.humanFriendlyName === 'Active'\n\n\tuseEffect(() => {\n\t\texecute(updateMemoryUi('campaignId', campaignId))\n\n\t\treturn () => {\n\t\t\texecute(updateMemoryUi('campaignId', undefined))\n\t\t}\n\t}, [campaignId])\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('CAMPAIGN_MAIN')} />\n\t\t\t\t\t<Tab label={t('CAMPAIGN_AUDIENCE')} />\n\t\t\t\t\t<Tab label={t('WEBSITE_STATS')} />\n\t\t\t\t\t<Tab label={t('COUNTRY_STATS')} />\n\t\t\t\t\t<Tab label={t('TIMEFRAME_STATS')} />\n\t\t\t\t\t<Tab label={t('CAMPAIGN_UNITS')} />\n\t\t\t\t\t<Tab label={t('VALIDATORS')} />\n\t\t\t\t\t{['Closed', 'Completed'].includes(humanFriendlyName) && (\n\t\t\t\t\t\t<Tab label={t('RECEIPT')} />\n\t\t\t\t\t)}\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ChangeControls {...hookProps} />\n\t\t\t<ItemTabsContainer>\n\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<CampaignBasic\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t{...hookProps}\n\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\n\t\t\t\t\t\t\tisActive={isActive}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 1 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<CampaignAudience\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\t{...hookProps}\n\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\n\t\t\t\t\t\t\tisActive={isActive}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 2 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t{!dataLoaded && <LinearProgress />}\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\tflexGrow='1'\n\t\t\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box flexGrow='1' order={{ xs: 2, md: 2, lg: 1 }}>\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t\t\t\t\t<CampaignStatsBreakdownTable\n\t\t\t\t\t\t\t\t\t\tcampaignId={campaignId}\n\t\t\t\t\t\t\t\t\t\tcanSendMsgs={canSendMsgs}\n\t\t\t\t\t\t\t\t\t\tisActive={isActive}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={2} order={{ xs: 1, md: 1, lg: 2 }}>\n\t\t\t\t\t\t\t\t<CampaignStatsDoughnut campaignId={campaignId} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 3 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Grid container spacing={1} alignItems='flex-start'>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography variant='button' align='center'>\n\t\t\t\t\t\t\t\t\t\t{t('COUNTRY_STATS_PERIOD', { args: ['30', 'DAYS'] })}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{!dataLoaded && <LinearProgress />}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\n\t\t\t\t\t\t\t\t<MapChart\n\t\t\t\t\t\t\t\t\tselector={state =>\n\t\t\t\t\t\t\t\t\t\tselectCampaignAnalyticsToCountryMapChartData(state, {\n\t\t\t\t\t\t\t\t\t\t\tcampaignId,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t\t\t\t\t<StatsByCountryTable\n\t\t\t\t\t\t\t\t\t\tselector={state =>\n\t\t\t\t\t\t\t\t\t\t\tselectCampaignAnalyticsToCountryTableData(state, {\n\t\t\t\t\t\t\t\t\t\t\t\tcampaignId,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tshowEarnings\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\n\t\t\t\t{tabIndex === 4 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<CampaignStatsByTimeframe item={item} />\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 5 && <AdUnitsTable campaignId={campaignId} noClone />}\n\t\t\t\t{tabIndex === 6 && (\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaignId}/status`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_STATUS')} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={`${leader.url}/channel/${campaignId}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('LEADER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaignId}/status`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_STATUS')} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\thref={`${follower.url}/channel/${campaignId}/last-approved?withHeartbeat=true`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t<ListItemText primary={t('FOLLOWER_LAST_APPROVED')} />\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</List>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 7 && <Receipt itemId={campaignId} />}\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n\nCampaign.propTypes = {\n\tmatch: PropTypes.object.isRequired,\n}\n\nexport default Campaign\n","import React, { Fragment, useState } from 'react'\nimport { Box, Tabs, Tab } from '@material-ui/core'\nimport { BasicStats } from './BasicStats'\nimport {\n\tItemTabsBar,\n\tItemTabsContainer,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { t } from 'selectors'\n\nexport function AdvertiserStats() {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('CHARTS')} />\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ItemTabsContainer>\n\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<BasicStats side='advertiser' />\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n","import React, { useCallback } from 'react'\nimport classnames from 'classnames'\nimport { commify } from 'ethers/utils'\nimport Img from 'components/common/img/Img'\nimport { useSelector } from 'react-redux'\nimport MUIDataTableEnhanced from 'components/dashboard/containers/Tables/MUIDataTableEnhanced'\nimport {\n\tt,\n\tselectBestEarnersTableData,\n\tselectMainToken,\n\tselectInitialDataLoadedByData,\n} from 'selectors'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { useTableData } from './tableHooks'\nimport { ReloadData } from './toolbars'\nconst RRImg = withReactRouterLink(Img)\n\nconst useStyles = makeStyles(styles)\n\nconst getCols = ({ classes, symbol }) => [\n\t{\n\t\tname: 'media',\n\t\tlabel: t('PROP_MEDIA'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: false,\n\t\t\tdownload: true,\n\t\t\tcustomBodyRender: ({ id, mediaUrl, mediaMime, to }) => {\n\t\t\t\tconst ImgComponent = to ? RRImg : Img\n\t\t\t\tconst imgProps = to ? { to } : { fullScreenOnClick: true }\n\t\t\t\treturn (\n\t\t\t\t\t<ImgComponent\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tclassName={classnames(classes.cellImg)}\n\t\t\t\t\t\tsrc={mediaUrl}\n\t\t\t\t\t\talt={id}\n\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\tallowVideo\n\t\t\t\t\t\t{...imgProps}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t},\n\t{\n\t\tname: 'type',\n\t\tlabel: t('PROP_TYPE'),\n\t\toptions: {\n\t\t\tfilter: true,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: (type = '') => type.replace('legacy_', ''),\n\t\t},\n\t},\n\t{\n\t\tname: 'impressions',\n\t\tlabel: t('LABEL_IMPRESSIONS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: impressions => commify(impressions || 0),\n\t\t},\n\t},\n\t{\n\t\tname: 'clicks',\n\t\tlabel: t('LABEL_CLICKS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: clicks => commify(clicks || 0),\n\t\t},\n\t},\n\t{\n\t\tname: 'ctr',\n\t\tlabel: t('LABEL_CTR'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tsortDirection: 'desc',\n\t\t\tcustomBodyRender: ctr => `${ctr.toFixed(4)} %`,\n\t\t},\n\t},\n\t{\n\t\tname: 'earnings',\n\t\tlabel: t('LABEL_EARNINGS'),\n\t\toptions: {\n\t\t\tfilter: false,\n\t\t\tsort: true,\n\t\t\tcustomBodyRender: earnings => `${earnings.toFixed(2)} ${symbol}`,\n\t\t},\n\t},\n]\n\nconst onDownload = (buildHead, buildBody, columns, data) => {\n\tconst mappedData = data.map(i => ({\n\t\tindex: i.index,\n\t\tdata: [i.data[0].id, i.data[1].replace('legacy_', ''), i.data[2]],\n\t}))\n\treturn `${buildHead(columns)}${buildBody(mappedData)}`.trim()\n}\n\nconst getOptions = ({ onRowsSelect, reloadData, selected }) => ({\n\tfilterType: 'multiselect',\n\trowsSelected: selected,\n\tcustomToolbar: () => <ReloadData handleReload={reloadData} />,\n\tonDownload: (buildHead, buildBody, columns, data) =>\n\t\tonDownload(buildHead, buildBody, columns, data),\n\tonRowsSelect,\n\trowsPerPage: 5,\n})\n\nfunction BestEarnersTable(props) {\n\tconst {\n\t\tnoActions,\n\t\tnoClone,\n\t\thandleSelect,\n\t\tselected = [],\n\t\tselector = selectBestEarnersTableData,\n\t\ttitle = '',\n\t} = props\n\tconst classes = useStyles()\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst dataLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\n\t)\n\n\tconst { data, columns, reloadData } = useTableData({\n\t\tselector,\n\t\tgetColumns: () =>\n\t\t\tgetCols({\n\t\t\t\tclasses,\n\t\t\t\tnoActions,\n\t\t\t\tnoClone,\n\t\t\t\tsymbol,\n\t\t\t}),\n\t})\n\n\tconst onRowsSelect = useCallback(\n\t\t(_, allRowsSelected) => {\n\t\t\tconst selectedIndexes = allRowsSelected.map(row => row.dataIndex)\n\t\t\tconst selectedItemsIds = selectedIndexes.map(i => data[i].id)\n\n\t\t\thandleSelect && handleSelect({ selectedIndexes, selectedItemsIds })\n\t\t},\n\t\t[data, handleSelect]\n\t)\n\n\tconst options = getOptions({ onRowsSelect, selected, reloadData })\n\treturn (\n\t\t<MUIDataTableEnhanced\n\t\t\ttitle={t(title)}\n\t\t\tdata={data}\n\t\t\tcolumns={columns}\n\t\t\toptions={options}\n\t\t\tloading={!dataLoaded}\n\t\t\tnoSearch\n\t\t\tnoDownload\n\t\t\tnoPrint\n\t\t\tnoViewColumns\n\t\t/>\n\t)\n}\n\nexport default BestEarnersTable\n","import React, { Fragment, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tBox,\n\tGrid,\n\tPaper,\n\tTypography,\n\tTab,\n\tTabs,\n\tLinearProgress,\n} from '@material-ui/core'\nimport {\n\tItemTabsBar,\n\tItemTabsContainer,\n} from 'components/dashboard/containers/ItemCommon/'\nimport BestEarnersTable from 'components/dashboard/containers/Tables/BestEarnersTable'\nimport StatsByCountryTable from 'components/dashboard/containers/Tables/StatsByCountryTable'\nimport MapChart from 'components/dashboard/charts/map/MapChart'\nimport { BasicStats } from './BasicStats'\nimport {\n\tt,\n\tselectPublisherStatsByCountryTableData,\n\tselectPublisherStatsByCountryMapChartData,\n\tselectBestEarnersTableData,\n\tselectInitialDataLoadedByData,\n} from 'selectors'\n\nexport function PublisherStats() {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\tconst dataLoaded = useSelector(state =>\n\t\tselectInitialDataLoadedByData(state, 'advancedAnalytics')\n\t)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('CHARTS')} />\n\t\t\t\t\t<Tab label={t('COUNTRY_DATA')} />\n\t\t\t\t\t<Tab label={t('TABLE_BEST_EARNERS_UNITS_TITLE')} />\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ItemTabsContainer noBackground>\n\t\t\t\t{tabIndex === 0 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<BasicStats side='publisher' />\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 1 && (\n\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t<Typography variant='button' align='center'>\n\t\t\t\t\t\t\t\t\t\t{t('COUNTRY_STATS_PERIOD', { args: ['30', 'DAYS'] })}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{!dataLoaded && <LinearProgress />}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\n\t\t\t\t\t\t\t\t<MapChart\n\t\t\t\t\t\t\t\t\tselector={selectPublisherStatsByCountryMapChartData}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t<Grid item xs={12} md={12} lg={6}>\n\t\t\t\t\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t\t\t\t\t<StatsByCountryTable\n\t\t\t\t\t\t\t\t\t\tselector={selectPublisherStatsByCountryTableData}\n\t\t\t\t\t\t\t\t\t\t// TODO: uncomment after 26.04.2020\n\t\t\t\t\t\t\t\t\t\t// showEarnings\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{tabIndex === 2 && (\n\t\t\t\t\t// <Box p={1}>\n\t\t\t\t\t<BestEarnersTable\n\t\t\t\t\t\tselector={selectBestEarnersTableData}\n\t\t\t\t\t\ttitle='TABLE_BEST_EARNERS_UNITS_TITLE'\n\t\t\t\t\t/>\n\t\t\t\t\t// </Box>\n\t\t\t\t)}\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n\nexport default PublisherStats\n","import React, { Fragment, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { Grid, Tabs, Tab, Box } from '@material-ui/core'\nimport {\n\tuseItem,\n\tChangeControls,\n\tItemTitle,\n\tItemDescription,\n\tItemAdType,\n\tItemTargetURL,\n\tMediaCard,\n\tArchiveItemBtn,\n\tItemTabsContainer,\n\tItemTabsBar,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { AdUnit } from 'adex-models'\nimport { validateAndUpdateUnit } from 'actions'\nimport { t } from 'selectors'\n\nfunction Unit({ match }) {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\n\tconst { item, validations, validateId, validate, ...hookProps } = useItem({\n\t\titemType: 'AdUnit',\n\t\tmatch,\n\t\tobjModel: AdUnit,\n\t\tvalidateAndUpdateFn: validateAndUpdateUnit,\n\t})\n\n\tconst {\n\t\tid,\n\t\ttitle,\n\t\tarchived,\n\t\tdescription,\n\t\tmediaUrl,\n\t\tmediaMime,\n\t\ttype,\n\t\ttargetUrl,\n\t} = item\n\tconst { title: errTitle, description: errDescription } = validations\n\n\tif (!item) return <h1>Unit '404'</h1>\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('AD_UNIT')} />\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ChangeControls {...hookProps} />\n\t\t\t<ItemTabsContainer>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\t\t\t\tlabel={t('UNIT_MEDIA_IMG_LABEL')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t{!archived && (\n\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t<ArchiveItemBtn\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\titemType='AdUnit'\n\t\t\t\t\t\t\t\t\t\titemId={id}\n\t\t\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\t\t\tgoToTableOnSuccess\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<ItemDescription\n\t\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\t\terrDescription={errDescription}\n\t\t\t\t\t\t\t\t\t{...hookProps}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<ItemAdType type={type} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<ItemTargetURL targetUrl={targetUrl} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Box>\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n\nUnit.propTypes = {\n\tmatch: PropTypes.object.isRequired,\n}\n\nexport default Unit\n","import React from 'react'\nimport {\n\tInputAdornment,\n\tIconButton,\n\tTextField,\n\tBox,\n\tFormControl,\n\tFormControlLabel,\n\tFormGroup,\n\tCheckbox,\n\tGrid,\n} from '@material-ui/core'\nimport { Edit, UndoOutlined } from '@material-ui/icons'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport AdSlotMedia from 'components/dashboard/forms/items/AdSlot/AdSlotMedia'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { bigNumberify } from 'ethers/utils'\n\nimport {\n\texecute,\n\tresetNewItem,\n\tupdateSlotPasback,\n\tmapCurrentToNewPassback,\n\tvalidateNumberString,\n} from 'actions'\nimport { t, selectMainToken } from 'selectors'\n\nimport { AdSlot } from 'adex-models'\n\nexport const PassbackSteps = ({ updateMultipleFields, itemId, ...props }) => {\n\treturn (\n\t\t<FormSteps\n\t\t\t{...props}\n\t\t\tcancelFunction={() => execute(resetNewItem('AdSlot', itemId))}\n\t\t\titemId={itemId}\n\t\t\tvalidateIdBase='new-AdUnit-'\n\t\t\titemType='AdSlot'\n\t\t\tstepsId='new-slot-'\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SLOT_PASSBACK_STEP',\n\t\t\t\t\tcomponent: AdSlotMedia,\n\t\t\t\t\tcompleteBtnTitle: 'OK',\n\t\t\t\t\tcompleteFn: props =>\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tupdateSlotPasback({ updateMultipleFields, itemId, ...props })\n\t\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t]}\n\t\t\titemModel={AdSlot}\n\t\t/>\n\t)\n}\n\nconst PassbackEdit = WithDialog(PassbackSteps)\n\nexport const SlotAdvancedRules = ({\n\titem = {},\n\tupdateMultipleFields,\n\tvalidations,\n\tvalidateId,\n\tupdateField,\n\tsetActiveFields,\n\treturnPropToInitialState,\n\tactiveFields = {},\n}) => {\n\tconst { address, decimals, symbol } = selectMainToken()\n\tconst { minPerImpression, rulesInput: slotRulesInput } = item\n\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\n\tconst { autoSetMinCPM, allowAdultContent } = rulesInput.inputs\n\tconst active = !!activeFields.minPerImpression\n\tconst { minPerImpression: errMin } = validations\n\tconst showError = !!errMin && errMin.dirty\n\tconst minCPM =\n\t\ttypeof minPerImpression === 'object'\n\t\t\t? formatTokenAmount(\n\t\t\t\t\tbigNumberify((item.minPerImpression || {})[address] || '0').mul(1000),\n\t\t\t\t\tdecimals,\n\t\t\t\t\ttrue\n\t\t\t  )\n\t\t\t: minPerImpression\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<TextField\n\t\t\t\t\tfullWidth\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={t('MIN_CPM_SLOT_LABEL_MANUAL', { args: [symbol] })}\n\t\t\t\t\tname='minPerImpression'\n\t\t\t\t\tvalue={minCPM || ''}\n\t\t\t\t\tdisabled={!!autoSetMinCPM || !active}\n\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\tconst value = ev.target.value\n\t\t\t\t\t\tupdateField('minPerImpression', value, {\n\t\t\t\t\t\t\tname: 'slotAdvanced',\n\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\n\t\t\t\t\t\t})\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tvalidateNumberString({\n\t\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\tdirty: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t\terror={showError}\n\t\t\t\t\tmaxLength={120}\n\t\t\t\t\thelperText={\n\t\t\t\t\t\tshowError ? errMin.errMsg : t('SLOT_MANUAL_CPM_MIN_HELPER')\n\t\t\t\t\t}\n\t\t\t\t\tInputProps={\n\t\t\t\t\t\t!autoSetMinCPM\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t// size='small'\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? returnPropToInitialState('minPerImpression')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: setActiveFields('minPerImpression', true)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{active ? <UndoOutlined /> : <Edit />}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: {}\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Grid>\n\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_LABEL')}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!autoSetMinCPM}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst checked = ev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\tupdateField(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'rulesInput',\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoSetMinCPM: checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'slotAdvanced',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tvalue='autoSetMinCPM'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_AUTO_MIN_CPM_INFO_LABEL')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<OutlinedPropView\n\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT')}\n\t\t\t\t\tvalue={\n\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!allowAdultContent}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\tupdateField(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'rulesInput',\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinputs: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...rulesInput.inputs,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowAdultContent: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'slotAdvanced',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: ['rulesInput', 'minPerImpression'],\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='allowAdultContent'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('SLOT_ALLOW_ADULT_CONTENT_INFO')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport const SlotEdits = ({ item, ...hookProps }) => {\n\treturn (\n\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\n\t\t\t<PassbackEdit\n\t\t\t\tfullWidth\n\t\t\t\tsize='large'\n\t\t\t\tvariant='contained'\n\t\t\t\tcolor='secondary'\n\t\t\t\tbtnLabel='UPDATE_PASSBACK'\n\t\t\t\ttitle='UPDATE_SLOT_PASSBACK'\n\t\t\t\titemId={item.id}\n\t\t\t\tdisableBackdropClick\n\t\t\t\tupdateMultipleFields={hookProps.updateMultipleFields}\n\t\t\t\tonClick={() =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tmapCurrentToNewPassback({\n\t\t\t\t\t\t\titemId: item.id,\n\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t/>\n\t\t</Box>\n\t)\n}\n","import React, { Fragment } from 'react'\nimport {\n\tGrid,\n\tBox,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n} from '@material-ui/core'\nimport { ExpandMoreSharp as ExpandMoreIcon } from '@material-ui/icons'\n\nimport { WebsiteIssues } from 'components/dashboard/containers/Slot/WebsiteIssues'\nimport OutlinedPropView from 'components/common/OutlinedPropView'\nimport { SlotEdits, SlotAdvancedRules } from './SlotEdits'\nimport {\n\tItemTitle,\n\tItemDescription,\n\tItemAdType,\n\tItemFallbackMediaURL,\n\tMediaCard,\n\tItemWebsite,\n\tArchiveItemBtn,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { t } from 'selectors'\n\nexport const SlotBasic = ({ item, ...hookProps }) => {\n\tconst {\n\t\tid,\n\t\ttitle,\n\t\tdescription,\n\t\tmediaUrl,\n\t\tmediaMime,\n\t\ttype,\n\t\ttargetUrl,\n\t\twebsite,\n\t\tarchived,\n\t\trules,\n\t} = item\n\tconst { title: errTitle, description: errDescription } = hookProps.validations\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box p={2}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={5}>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<MediaCard\n\t\t\t\t\t\t\t\tmediaUrl={mediaUrl}\n\t\t\t\t\t\t\t\tmediaMime={mediaMime}\n\t\t\t\t\t\t\t\tlabel={t('SLOT_FALLBACK_MEDIA_LABEL')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ItemFallbackMediaURL targetUrl={targetUrl} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<SlotEdits item={item} {...hookProps} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t{!archived && (\n\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t<ArchiveItemBtn\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\titemType='AdSlot'\n\t\t\t\t\t\t\t\t\titemId={id}\n\t\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\t\tgoToTableOnSuccess\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-advanced'\n\t\t\t\t\t\t\t\t\tid='slot-rules-advanced'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_ADVANCED')}</Typography>\n\t\t\t\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t\t<SlotAdvancedRules item={item} {...hookProps} />\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</ExpansionPanel>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ExpansionPanel square={true} variant='outlined'>\n\t\t\t\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\t\t\t\taria-controls='slot-rules-content'\n\t\t\t\t\t\t\t\t\tid='slot-rules-header'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Typography>{t('SLOT_RULES')}</Typography>\n\t\t\t\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\n\t\t\t\t\t\t\t\t\t<pre>{JSON.stringify(rules || [], null, 2)}</pre>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</ExpansionPanel>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={6} lg={7}>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ItemDescription\n\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\terrDescription={errDescription}\n\t\t\t\t\t\t\t\t{...hookProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ItemAdType type={type} />\n\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t<ItemWebsite item={item} {...hookProps} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<OutlinedPropView\n\t\t\t\t\t\t\t\tlabel={t('WEBSITE_VERIFICATION')}\n\t\t\t\t\t\t\t\tvalue={<WebsiteIssues website={website} tryAgainBtn />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={12} md={12} lg={6}></Grid>\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\t\t</Fragment>\n\t)\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport copy from 'copy-to-clipboard'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { Paper, IconButton, Box, Typography } from '@material-ui/core'\nimport { Alert, AlertTitle } from '@material-ui/lab'\n\nimport { execute, addToast } from 'actions'\n\nimport url from 'url'\nimport {\n\tselectRoutineWithdrawTokensAddresses,\n\tselectHasConfirmedEmail,\n\tselectAccountIdentityAddr,\n\tt,\n} from 'selectors'\n\nconst ADVIEW_URL = process.env.ADVIEW_URL\nconst adviewUrl = url.parse(ADVIEW_URL)\nconst origin = `${adviewUrl.protocol}//${adviewUrl.host}`\n\nconst AUTO_HIDE_STRING = `window.addEventListener('message', function(ev) { \n\t\tif (ev.data.hasOwnProperty('adexHeight') && ('${origin}' === ev.origin)) {\n\t\t\tfor (let f of document.getElementsByTagName('iframe')) {\t\n\t\t\t\tif (f.contentWindow === ev.source) {\n\t\t\t\t\tf.height = ev.data.adexHeight;\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t}, false)`\n\n// const ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\n\nconst useStyles = makeStyles(styles)\n\nexport const IntegrationCode = ({ slot = {} }) => {\n\tconst classes = useStyles()\n\tconst { id, type, tags, fallbackUnit } = slot\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst isEmailConfirmed = useSelector(selectHasConfirmedEmail)\n\n\tlet sizes = type.split('_')[1].split('x')\n\tsizes = {\n\t\twidth: sizes[0],\n\t\theight: sizes[1],\n\t}\n\n\tconst options = {\n\t\tpublisherAddr: identityAddr,\n\t\twhitelistedTokens: selectRoutineWithdrawTokensAddresses(),\n\t\twhitelistedType: type,\n\t\trandomize: true,\n\t\ttargeting: tags || [],\n\t\t// marketURL: ADEX_MARKET_HOST,\n\t\twidth: sizes.width,\n\t\theight: sizes.height,\n\t\tminPerImpression: '0',\n\t\t// minTargetingScore: '0',\n\t\tfallbackUnit,\n\t\tmarketSlot: id,\n\t}\n\n\tlet query = encodeURIComponent(JSON.stringify({ options }))\n\n\tlet src = ADVIEW_URL + query\n\n\tlet iframeStr =\n\t\t`<iframe\\n` +\n\t\t`\tsrc=\"${src}\"\\n` +\n\t\t`\twidth=\"${sizes.width}\"\\n` +\n\t\t`\theight=\"${sizes.height}\"\\n` +\n\t\t`\tscrolling=\"no\"\\n` +\n\t\t`\tframeborder=\"0\"\\n` +\n\t\t`\tstyle=\"border: 0;\"\\n` +\n\t\t`\tonload=\"${AUTO_HIDE_STRING}\"\\n` +\n\t\t`></iframe>`\n\n\t// TODO: Add copy to clipboard and tooltip or description how to use it\n\n\t// \t<Alert severity='warning' variant='outlined'>\n\t// \t<AlertTitle>{t('EMAIL_NOT_CONFIRMED_WARNING_TITLE')}</AlertTitle>\n\t// \t<div\n\t// \t\tdangerouslySetInnerHTML={{\n\t// \t\t\t__html: t('EMAIL_WARNING_SLOT_INTEGRATION'),\n\t// \t\t}}\n\t// \t/>\n\t// </Alert>\n\treturn isEmailConfirmed ? (\n\t\t<Box overflow='hidden'>\n\t\t\t<Box mb={1}>\n\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\tpx={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography>{t('INTEGRATION_CODE')}</Typography>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\tonCopy={() =>\n\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tcopy(iframeStr)\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CopyIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Box>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t\t<Paper variant='outlined'>\n\t\t\t\t<Box p={1} color='grey.contrastText' bgcolor='grey.main'>\n\t\t\t\t\t<pre className={classes.integrationCode}>{iframeStr}</pre>\n\t\t\t\t</Box>\n\t\t\t</Paper>\n\t\t\t{process.env.NODE_ENV !== 'production' && (\n\t\t\t\t<div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div className={classes.integrationLabel}> {t('AD_PREVIEW')}</div>\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: iframeStr }} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Box>\n\t) : (\n\t\t<Alert severity='warning' variant='outlined'>\n\t\t\t<AlertTitle>{t('EMAIL_NOT_CONFIRMED_WARNING_TITLE')}</AlertTitle>\n\t\t\t<div\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: t('EMAIL_WARNING_SLOT_INTEGRATION'),\n\t\t\t\t}}\n\t\t\t/>\n\t\t</Alert>\n\t)\n}\n\nIntegrationCode.propTypes = {\n\tslot: PropTypes.object.isRequired,\n}\n","export const styles = theme => {\n\treturn {\n\t\tintegrationCode: {\n\t\t\twhiteSpace: 'pre-wrap',\n\t\t\twordBreak: 'break-word',\n\t\t\tmargin: 0,\n\t\t\talignSelf: 'flex-start',\n\t\t},\n\t}\n}\n","import React, { Fragment, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { AdSlot } from 'adex-models'\nimport { Tabs, Tab } from '@material-ui/core'\nimport {\n\tuseItem,\n\tChangeControls,\n\tItemTabsBar,\n\tItemTabsContainer,\n} from 'components/dashboard/containers/ItemCommon/'\nimport { SlotBasic } from './SlotBasic'\nimport { IntegrationCode } from './IntegrationCode'\nimport { validateAndUpdateSlot } from 'actions'\nimport { t } from 'selectors'\n\nfunction Slot({ match }) {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\tconst { item, ...hookProps } = useItem({\n\t\titemType: 'AdSlot',\n\t\tmatch,\n\t\tobjModel: AdSlot,\n\t\tvalidateAndUpdateFn: validateAndUpdateSlot,\n\t})\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('SLOT_MAIN')} />\n\t\t\t\t\t<Tab label={t('INTEGRATION')} />\n\t\t\t\t\t{/* There are no stats displayed currently so I will just comment this out */}\n\t\t\t\t\t{/* <Tab label={t('STATISTICS')} /> */}\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ChangeControls {...hookProps} />\n\t\t\t<ItemTabsContainer>\n\t\t\t\t{tabIndex === 0 && <SlotBasic item={item} {...hookProps} />}\n\t\t\t\t{tabIndex === 1 && <IntegrationCode slot={item} />}\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n\nSlot.propTypes = {\n\tmatch: PropTypes.object.isRequired,\n}\n\nexport default Slot\n","import React, { Fragment, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport PropTypes from 'prop-types'\nimport { Audience as AudienceModel } from 'adex-models'\nimport { Tabs, Tab, Box } from '@material-ui/core'\nimport {\n\tuseItem,\n\tChangeControls,\n\tItemTitle,\n\tArchiveItemBtn,\n\tItemTabsContainer,\n\tItemTabsBar,\n} from 'components/dashboard/containers/ItemCommon/'\nimport AudiencePreview from 'components/dashboard/containers/AudiencePreview'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport {\n\tNewCampaignFromAudience,\n\tAudienceRules,\n} from 'components/dashboard/forms/items/NewItems'\nimport {\n\texecute,\n\tupdateNewCampaign,\n\tupdateNewAudience,\n\tresetNewItem,\n\tupdateAudienceInput,\n\tmapCurrentToNewAudience,\n} from 'actions'\nimport { NewAudienceDialog } from 'components/dashboard/forms/items/NewItems'\nimport { validateAndUpdateAudience as validateAndUpdateFn } from 'actions'\nimport { t } from 'selectors'\n\nconst useStyles = makeStyles(theme => ({\n\tactions: {\n\t\tmarginTop: theme.spacing(1),\n\t\t'& > *': {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t\tmarginBottom: theme.spacing(1),\n\t\t},\n\t},\n}))\n\nexport const TargetingSteps = ({ updateField, itemId, ...props }) => {\n\treturn (\n\t\t<FormSteps\n\t\t\t{...props}\n\t\t\tcancelFunction={() => execute(resetNewItem('Audience', itemId))}\n\t\t\titemId={itemId}\n\t\t\tvalidateIdBase={`update-audience-${itemId}-`}\n\t\t\titemType='Audience'\n\t\t\tstepsId={`update-campaign-${itemId}`}\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SAVED_AUDIENCE',\n\t\t\t\t\tcomponent: AudienceRules,\n\t\t\t\t\tcompleteBtnTitle: 'OK',\n\t\t\t\t\tcompleteFn: props =>\n\t\t\t\t\t\texecute(updateAudienceInput({ updateField, itemId, ...props })),\n\t\t\t\t},\n\t\t\t]}\n\t\t\titemModel={AudienceModel}\n\t\t/>\n\t)\n}\n\nconst TargetingRulesEdit = WithDialog(TargetingSteps)\n\nfunction Audience({ match }) {\n\tconst [tabIndex, setTabIndex] = useState(0)\n\n\tconst classes = useStyles()\n\n\tconst { item = {}, validations, ...hookProps } = useItem({\n\t\titemType: 'Audience',\n\t\tmatch,\n\t\tobjModel: AudienceModel,\n\t\tvalidateAndUpdateFn,\n\t})\n\n\tconst { inputs, title, id, archived } = item\n\tconst { title: errTitle } = validations\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ItemTabsBar>\n\t\t\t\t<Tabs\n\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\tonChange={(ev, index) => setTabIndex(index)}\n\t\t\t\t\tvariant='scrollable'\n\t\t\t\t\tscrollButtons='auto'\n\t\t\t\t\tindicatorColor='primary'\n\t\t\t\t\ttextColor='primary'\n\t\t\t\t>\n\t\t\t\t\t<Tab label={t('AUDIENCE_MAIN')} />\n\t\t\t\t</Tabs>\n\t\t\t</ItemTabsBar>\n\t\t\t<ChangeControls {...hookProps} />\n\t\t\t<ItemTabsContainer>\n\t\t\t\t<Box p={1} pt={2}>\n\t\t\t\t\t<ItemTitle title={title} errTitle={errTitle} {...hookProps} />\n\n\t\t\t\t\t<AudiencePreview audienceInput={inputs} />\n\n\t\t\t\t\t<Box className={classes.actions}>\n\t\t\t\t\t\t<TargetingRulesEdit\n\t\t\t\t\t\t\tbtnLabel='UPDATE_AUDIENCE'\n\t\t\t\t\t\t\ttitle='UPDATE_CAMPAIGN_AUDIENCE'\n\t\t\t\t\t\t\titemId={id}\n\t\t\t\t\t\t\tdisableBackdropClick\n\t\t\t\t\t\t\tupdateField={hookProps.updateField}\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tmapCurrentToNewAudience({\n\t\t\t\t\t\t\t\t\t\titemId: id,\n\t\t\t\t\t\t\t\t\t\tdirtyProps: hookProps.dirtyProps,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<NewCampaignFromAudience\n\t\t\t\t\t\t\tbtnLabel='NEW_CAMPAIGN_FROM_AUDIENCE'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonBeforeOpen={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewCampaign('audienceInput', {\n\t\t\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<NewAudienceDialog\n\t\t\t\t\t\t\tbtnLabel='NEW_AUDIENCE_FROM_THIS'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tonBeforeOpen={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewAudience(null, null, {\n\t\t\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\t\t\ttitle: title + ' (2)',\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{!archived && (\n\t\t\t\t\t\t\t<ArchiveItemBtn\n\t\t\t\t\t\t\t\titemType='Audience'\n\t\t\t\t\t\t\t\titemId={id}\n\t\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\t\tgoToTableOnSuccess\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</ItemTabsContainer>\n\t\t</Fragment>\n\t)\n}\n\nAudience.propTypes = {\n\tmatch: PropTypes.object.isRequired,\n}\n\nexport default Audience\n","import React, { Fragment } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport {\n\tList,\n\tListItem,\n\tDivider,\n\tListItemText,\n\tListItemIcon,\n\tListItemSecondaryAction,\n\tListSubheader,\n\tPaper,\n\tBox,\n} from '@material-ui/core'\nimport { CheckSharp, WarningSharp } from '@material-ui/icons'\nimport {\n\tWebsiteIssues,\n\tWebsiteIssuesLegend,\n\tWebsiteVerifyBtn,\n} from 'components/dashboard/containers/Slot/WebsiteIssues'\nimport { t, selectWebsitesArray } from 'selectors'\n\nconst useStyles = makeStyles(theme => ({\n\tlist: {\n\t\twidth: '100%',\n\t},\n\tinline: {\n\t\tdisplay: 'inline',\n\t\twordBreak: 'break-all',\n\t},\n\twarning: {\n\t\tcolor: theme.palette.warning.main,\n\t},\n\tsuccess: {\n\t\tcolor: theme.palette.success.main,\n\t},\n}))\n\nexport default function Websites() {\n\tconst classes = useStyles()\n\tconst websites = useSelector(selectWebsitesArray)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box>\n\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t<List className={classes.list} dense disablePadding>\n\t\t\t\t\t\t<ListSubheader disableSticky>\n\t\t\t\t\t\t\t{t('REGISTERED_WEBSITES')}\n\t\t\t\t\t\t</ListSubheader>\n\t\t\t\t\t\t{websites.map(({ id, issues, updated }, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Fragment key={id}>\n\t\t\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t\t{issues.length ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<WarningSharp className={classes.warning} />\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckSharp className={classes.success} />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\t\tprimary={id}\n\t\t\t\t\t\t\t\t\t\t\tsecondary={<WebsiteIssues issues={issues} asKeyWords />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t\t\t\t\t\t<WebsiteVerifyBtn\n\t\t\t\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\t\t\t\tissues={issues}\n\t\t\t\t\t\t\t\t\t\t\t\tupdated={updated}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t\t{index < websites.length - 1 && <Divider />}\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</List>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t\t<Box mt={2}>\n\t\t\t\t<Paper variant='outlined'>\n\t\t\t\t\t<WebsiteIssuesLegend />\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</Fragment>\n\t)\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport { TextField, Button, Box, Typography } from '@material-ui/core'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { InputLoading } from 'components/common/spinners/'\nimport {\n\tt,\n\tselectValidationsById,\n\tselectNewTransactionById,\n\tselectMainToken,\n\tselectSpinnerById,\n\tselectAccountStatsFormatted,\n\tselectWeb3SyncSpinnerByValidateId,\n} from 'selectors'\nimport { execute, updateNewTransaction } from 'actions'\nimport { Alert } from '@material-ui/lab'\n\nconst WithdrawFromIdentity = ({ stepsId, validateId } = {}) => {\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst { availableIdentityBalanceMainToken: max } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\n\tconst { amountToWithdraw, withdrawTo } = useSelector(state =>\n\t\tselectNewTransactionById(state, stepsId)\n\t)\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\tconst syncSpinner = useSelector(state =>\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\n\t)\n\n\tconst {\n\t\tamountToWithdraw: errAmount,\n\t\twithdrawTo: errAddr,\n\t\tfees: errFees,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{syncSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<Typography variant='subtitle1' display='block'>\n\t\t\t\t\t\t\t{t('EXCHANGE_CURRENT_MAIN_TOKEN_BALANCE_AVAILABLE_ON_IDENTITY', {\n\t\t\t\t\t\t\t\targs: [max, symbol],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\tkey: 'withdrawTo',\n\t\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{spinner ? <InputLoading /> : null}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tlabel={t('PROP_WITHDRAWAMOUNT')}\n\t\t\t\t\t\t\tname='amountToWithdraw'\n\t\t\t\t\t\t\tvalue={amountToWithdraw || ''}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\n\t\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: max,\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t('MAX_AMOUNT_TO_WITHDRAW', {\n\t\t\t\t\t\t\t\t\t\t\targs: [max, symbol],\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t{errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\n\t\t\t\t\t\t<Alert variant='outlined' severity='error'>\n\t\t\t\t\t\t\t{errFees.errMsg}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t)}\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nWithdrawFromIdentity.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t.isRequired,\n}\n\nexport default WithdrawFromIdentity\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport TextField from '@material-ui/core/TextField'\nimport { InputLoading } from 'components/common/spinners/'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport {\n\tt,\n\tselectValidationsById,\n\tselectNewTransactionById,\n\tselectSpinnerById,\n\tselectWeb3SyncSpinnerByValidateId,\n} from 'selectors'\nimport { execute, updateNewTransaction } from 'actions'\nimport { Alert } from '@material-ui/lab'\n\nconst WithdrawAnyTokenFromIdentity = ({ stepsId, validateId } = {}) => {\n\tconst {\n\t\tamountToWithdraw,\n\t\twithdrawTo,\n\t\ttokenAddress,\n\t\ttokenDecimals,\n\t} = useSelector(state => selectNewTransactionById(state, stepsId))\n\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\tconst syncSpinner = useSelector(state =>\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\n\t)\n\n\tconst {\n\t\tamountToWithdraw: errAmount,\n\t\twithdrawTo: errAddr,\n\t\ttokenAddress: errTokenAddress,\n\t\ttokenDecimals: errTokenDecimals,\n\t\tfees: errFees,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{syncSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tlabel={t('WITHDRAW_TOKEN_ADDRESS')}\n\t\t\t\t\t\tname='tokenAddress'\n\t\t\t\t\t\tvalue={tokenAddress || ''}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\tkey: 'tokenAddress',\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errTokenAddress && !!errTokenAddress.dirty}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrTokenAddress && !!errTokenAddress.dirty\n\t\t\t\t\t\t\t\t? errTokenAddress.errMsg\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<TextField\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('TOKENS_TO_WITHDRAW_DECIMALS')}\n\t\t\t\t\t\tname='tokenDecimals'\n\t\t\t\t\t\tvalue={tokenDecimals || ''}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\tkey: 'tokenDecimals',\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errTokenDecimals && !!errTokenDecimals.dirty}\n\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\terrTokenDecimals && !!errTokenDecimals.dirty\n\t\t\t\t\t\t\t\t? errTokenDecimals.errMsg\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tlabel={t('WITHDRAW_TO')}\n\t\t\t\t\t\tname='withdrawTo'\n\t\t\t\t\t\tvalue={withdrawTo || ''}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\tkey: 'withdrawTo',\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t\t/>\n\t\t\t\t\t{spinner ? <InputLoading /> : null}\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tdisabled={spinner}\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t('PROP_WITHDRAWAMOUNT')}\n\t\t\t\t\t\tname='amountToWithdraw'\n\t\t\t\t\t\tvalue={amountToWithdraw || ''}\n\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\tkey: 'amountToWithdraw',\n\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\terror={errAmount && !!errAmount.dirty}\n\t\t\t\t\t\thelperText={errAmount && !!errAmount.dirty ? errAmount.errMsg : ''}\n\t\t\t\t\t/>\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\n\t\t\t\t\t\t<Alert variant='outlined' severity='error'>\n\t\t\t\t\t\t\t{errFees.errMsg}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t)}\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nWithdrawAnyTokenFromIdentity.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t.isRequired,\n}\n\nexport default WithdrawAnyTokenFromIdentity\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport {\n\tBox,\n\tTextField,\n\tFormControlLabel,\n\tFormControl,\n\tCheckbox,\n\tTypography,\n} from '@material-ui/core'\nimport Dropdown from 'components/common/dropdown'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { constants } from 'adex-models'\nimport {\n\tt,\n\tselectValidationsById,\n\tselectNewTransactionById,\n\tselectWeb3SyncSpinnerByValidateId,\n} from 'selectors'\nimport { execute, updateNewTransaction } from 'actions'\nimport { Alert } from '@material-ui/lab'\n\nconst { IdentityPrivilegeLevel } = constants\n\nconst PRIV_LEVELS_SRC = Object.values(IdentityPrivilegeLevel).map(value => {\n\treturn {\n\t\tvalue,\n\t\tlabel: t(`PRIV_${value}_LABEL`),\n\t\tinfo: t(`PRIV_${value}_INFO`),\n\t}\n})\n\nfunction SeAddressPrivilege({ stepsId, validateId } = {}) {\n\tconst { setAddr, privLevel, warningAccepted, warningMsg } = useSelector(\n\t\tstate => selectNewTransactionById(state, stepsId)\n\t)\n\n\tconst {\n\t\tsetAddr: errAddr,\n\t\tsetAddrWarning: warning,\n\t\tprivLevel: errPrivLvl,\n\t\tfees: errFees,\n\t} = useSelector(state => selectValidationsById(state, validateId) || {})\n\n\tconst syncSpinner = useSelector(state =>\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\n\t)\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{syncSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<Typography variant='subtitle1' display='block'>\n\t\t\t\t\t\t\t{t('SET_IDENTITY_PRIVILEGE_MAIN_INFO')}:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tlabel={t('ADDR_TO_SET_PRIV_LEVEL')}\n\t\t\t\t\t\t\tname='setAddr'\n\t\t\t\t\t\t\tvalue={setAddr || ''}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\tkey: 'setAddr',\n\t\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\terror={errAddr && !!errAddr.dirty}\n\t\t\t\t\t\t\thelperText={errAddr && !!errAddr.dirty ? errAddr.errMsg : ''}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tlabel={t('SELECT_PRIV_LEVEL')}\n\t\t\t\t\t\t\t// helperText={t('SELECT_PRIV_LEVEL_HELPER_TXT')}\n\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\tkey: 'privLevel',\n\t\t\t\t\t\t\t\t\t\tvalue: val,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsource={PRIV_LEVELS_SRC}\n\t\t\t\t\t\t\tvalue={typeof privLevel === 'number' ? privLevel : ''}\n\t\t\t\t\t\t\thtmlId='label-privLevel'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\terror={errPrivLvl && !!errPrivLvl.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrPrivLvl && !!errPrivLvl.dirty\n\t\t\t\t\t\t\t\t\t? errPrivLvl.errMsg\n\t\t\t\t\t\t\t\t\t: t('SELECT_PRIV_LEVEL_HELPER_TXT')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\n\t\t\t\t\t\t\t{t('PRIV_LEVEL_INFO_LABEL')}:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t{PRIV_LEVELS_SRC.map(x => (\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tkey={x.value}\n\t\t\t\t\t\t\t\tvariant='caption'\n\t\t\t\t\t\t\t\tdisplay='block'\n\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<strong>{x.label}:</strong> {x.info}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<Typography variant='caption' display='block' gutterBottom>\n\t\t\t\t\t\t\t* {t('PRIV_LEVEL_INFO')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{(warning || warningAccepted || warningMsg) && (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\terror={warning && warning.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!warningAccepted}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: 'warningAccepted',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: ev.target.checked,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='warningAccepted'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t((warning || {}).errMsg || warningMsg)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\n\t\t\t\t\t\t<Alert variant='outlined' severity='error'>\n\t\t\t\t\t\t\t{errFees.errMsg}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t)}\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nSeAddressPrivilege.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t.isRequired,\n}\n\nexport default SeAddressPrivilege\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { useSelector } from 'react-redux'\nimport { execute, updateNewTransaction } from 'actions'\nimport { TextField, InputAdornment, Box, Typography } from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport {\n\tt,\n\tselectValidationsById,\n\tselectNewTransactionById,\n\tselectWeb3SyncSpinnerByValidateId,\n} from 'selectors'\n\nfunction SetAccountENSPage({ stepsId, validateId } = {}) {\n\tconst { username } = useSelector(state =>\n\t\tselectNewTransactionById(state, stepsId)\n\t)\n\n\tconst { username: errUsername, fees: errFees } = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst syncSpinner = useSelector(state =>\n\t\tselectWeb3SyncSpinnerByValidateId(state, validateId)\n\t)\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{syncSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={[{ message: 'SYNC_DATA_MSG' }]}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<Typography variant='subtitle1' display='block'>\n\t\t\t\t\t\t\t{t('SET_ENS_MAIN_INFO')}:\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tlabel={t('ENS_TO_SET_TO_ADDR')}\n\t\t\t\t\t\t\tname='username'\n\t\t\t\t\t\t\tvalue={username || ''}\n\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\ttx: stepsId,\n\t\t\t\t\t\t\t\t\t\tkey: 'username',\n\t\t\t\t\t\t\t\t\t\tvalue: ev.target.value,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t<InputAdornment position='end'>\n\t\t\t\t\t\t\t\t\t\t{`.${process.env.REVERSE_REGISTRAR_PARENT}`}\n\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\terror={errUsername && !!errUsername.dirty}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrUsername && !!errUsername.dirty ? errUsername.errMsg : ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{errFees && errFees.dirty && errFees.errMsg && (\n\t\t\t\t\t\t<Alert variant='outlined' severity='error'>\n\t\t\t\t\t\t\t{errFees.errMsg}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t)}\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nSetAccountENSPage.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tvalidateId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t\t.isRequired,\n}\n\nexport default SetAccountENSPage\n","import React from 'react'\nimport { Box, ListItemText } from '@material-ui/core'\n\nimport { PropRow } from 'components/common/dialog/content'\nimport { t } from 'selectors'\n\nexport const IdentityWithdrawPreview = ({\n\twithdrawTo,\n\tclasses,\n\tfeesData,\n\tamountToWithdraw,\n\tsymbol,\n}) => (\n\t<Box>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='amountToWithdraw'\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, symbol, feesData.toGet, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${amountToWithdraw} ${symbol}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</Box>\n)\n\nexport const SetPrivilegePreview = ({\n\tsetAddr,\n\tclasses,\n\tfeesData,\n\tprivLevel,\n\tsymbol,\n}) => (\n\t<Box>\n\t\t<PropRow\n\t\t\tkey='setAddr'\n\t\t\tleft={t('setAddr', { isProp: true })}\n\t\t\tright={(setAddr || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='privLevel'\n\t\t\tleft={t('privLevel', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('PRIV_LEVEL_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [feesData.fees, symbol],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={t(`PRIV_${privLevel}_LABEL`)}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</Box>\n)\n\nexport const SetENSPreview = ({\n\tusername,\n\taddress,\n\tclasses,\n\tfeesData,\n\tsymbol,\n}) => (\n\t<Box>\n\t\t<PropRow\n\t\t\tkey='addr'\n\t\t\tleft={t('ENS_ADDR_TO_BE_SET')}\n\t\t\tright={(address || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='username'\n\t\t\tleft={t('username', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('ENS_INFO_AND_FEES', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\tfeesData.fees,\n\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\t`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`,\n\t\t\t\t\t\t],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</Box>\n)\n\nexport const IdentityWithdrawAnyPreview = ({\n\twithdrawTo,\n\ttokenAddress,\n\tclasses,\n\tfeesData,\n\tamountToWithdraw,\n}) => (\n\t<Box>\n\t\t<PropRow\n\t\t\tkey='withdrawTo'\n\t\t\tleft={t('withdrawTo', { isProp: true })}\n\t\t\tright={(withdrawTo || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='tokenAddress'\n\t\t\tleft={t('tokenAddress', { isProp: true })}\n\t\t\tright={(tokenAddress || '').toString()}\n\t\t/>\n\t\t<PropRow\n\t\t\tkey='amountToWithdraw'\n\t\t\tleft={t('amountToWithdraw', { isProp: true })}\n\t\t\tright={\n\t\t\t\t<ListItemText\n\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\tsecondary={t('AMOUNT_WITHDRAW_INFO', {\n\t\t\t\t\t\targs: [feesData.fees, '', feesData.toGet, ''],\n\t\t\t\t\t})}\n\t\t\t\t\tprimary={amountToWithdraw + ' '}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t</Box>\n)\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport PropTypes from 'prop-types'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport { Alert, AlertTitle } from '@material-ui/lab'\nimport { Box } from '@material-ui/core'\nimport {\n\tWalletAction,\n\tFeesBreakdown,\n} from 'components/dashboard/forms/FormsCommon'\nimport {\n\tPropRow,\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tFullContentSpinner,\n} from 'components/common/dialog/content'\nimport { styles } from './styles'\nimport {\n\tIdentityWithdrawPreview,\n\tSetPrivilegePreview,\n\tSetENSPreview,\n\tIdentityWithdrawAnyPreview,\n} from './previews'\n\nimport {\n\tselectMainToken,\n\tt,\n\tselectSpinnerById,\n\tselectAccount,\n\tselectNewTransactionById,\n} from 'selectors'\nimport { execute, checkNetworkCongestion } from 'actions'\n\nconst useStyles = makeStyles(styles)\n\nfunction TransactionPreview(props) {\n\tconst classes = useStyles()\n\tconst { previewWarnMsgs, stepsId } = props\n\tconst txId = stepsId\n\tconst account = useSelector(selectAccount)\n\tconst { address } = account.identity\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst spinner = useSelector(state => selectSpinnerById(state, stepsId))\n\tconst {\n\t\twithdrawTo,\n\t\tamountToWithdraw,\n\t\twaitingForWalletAction,\n\t\tsetAddr,\n\t\tusername,\n\t\tprivLevel,\n\t\ttokenAddress,\n\t\tfeesData = {},\n\t\terrors = [],\n\t} = useSelector(state => selectNewTransactionById(state, txId))\n\tconst [networkCongested, setNetworkCongested] = useState(false)\n\n\tuseEffect(() => {\n\t\tasync function checkNetwork() {\n\t\t\tconst msg = await execute(checkNetworkCongestion())\n\n\t\t\tif (msg) {\n\t\t\t\tsetNetworkCongested(msg)\n\t\t\t}\n\t\t}\n\n\t\tcheckNetwork()\n\t}, [])\n\n\treturn (\n\t\t<div>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentSpinner />\n\t\t\t) : (\n\t\t\t\t<ContentBox>\n\t\t\t\t\t{waitingForWalletAction || networkCongested ? (\n\t\t\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t\t\t{waitingForWalletAction && (\n\t\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t\t<WalletAction t={t} authType={account.wallet.authType} />\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{networkCongested && (\n\t\t\t\t\t\t\t\t<Box p={1}>\n\t\t\t\t\t\t\t\t\t<Alert severity='warning' variant='filled' square>\n\t\t\t\t\t\t\t\t\t\t<AlertTitle>{t('NETWORK_WARNING')}</AlertTitle>\n\t\t\t\t\t\t\t\t\t\t{networkCongested}\n\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ContentStickyTop>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<ContentBody>\n\t\t\t\t\t\t{errors.length\n\t\t\t\t\t\t\t? errors.map((err, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.error}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.error}\n\t\t\t\t\t\t\t\t\t\tleft={<ErrorIcon />}\n\t\t\t\t\t\t\t\t\t\tright={err}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{previewWarnMsgs\n\t\t\t\t\t\t\t? previewWarnMsgs.map((msg, index) => (\n\t\t\t\t\t\t\t\t\t<PropRow\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tclassNameLeft={classes.warning}\n\t\t\t\t\t\t\t\t\t\tclassNameRight={classes.warning}\n\t\t\t\t\t\t\t\t\t\tleft={<WarningIcon />}\n\t\t\t\t\t\t\t\t\t\tright={t(msg.msg, { args: msg.args })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  ))\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t\t{stepsId === 'withdrawFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setIdentityPrivilege' && (\n\t\t\t\t\t\t\t<SetPrivilegePreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tprivLevel={privLevel}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'withdrawAnyFromIdentity' && (\n\t\t\t\t\t\t\t<IdentityWithdrawAnyPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\twithdrawTo={withdrawTo}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\tamountToWithdraw={amountToWithdraw}\n\t\t\t\t\t\t\t\ttokenAddress={tokenAddress}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{stepsId === 'setENS' && (\n\t\t\t\t\t\t\t<SetENSPreview\n\t\t\t\t\t\t\t\tt={t}\n\t\t\t\t\t\t\t\tsetAddr={setAddr}\n\t\t\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\t\t\tfeesData={feesData}\n\t\t\t\t\t\t\t\taddress={address}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t\tusername={username}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<FeesBreakdown\n\t\t\t\t\t\t\tbreakdownFormatted={feesData.breakdownFormatted}\n\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ContentBody>\n\t\t\t\t</ContentBox>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nTransactionPreview.propTypes = {\n\tstepsId: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\tpreviewMsgs: PropTypes.array,\n}\n\nexport default TransactionPreview\n","export const styles = theme => {\n\t// const spacing = theme.spacing(1)\n\treturn {\n\t\terror: {\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t\twarning: {\n\t\t\tcolor: theme.palette.warning.A700,\n\t\t},\n\t\tcentralSpinner: {\n\t\t\tposition: 'absolute',\n\t\t\tleft: 'calc(50% - 20px)',\n\t\t\ttop: ' calc(50% - 20px)',\n\t\t},\n\t\timgPreview: {\n\t\t\theight: 120,\n\t\t\twidth: 'auto',\n\t\t\tmaxWidth: '100%',\n\t\t\tboxShadow: theme.shadows[2],\n\t\t},\n\t}\n}\n","import React from 'react'\nimport WithdrawFromIdentity from './WithdrawFromIdentity'\nimport WithdrawAnyTokenFromIdentityPage from './WithdrawAnyTokenFromIdentity'\nimport SeAddressPrivilege from './SeAddressPrivilege'\nimport SetAccountENSPage from './SetAccountENSPage'\nimport TransactionPreview from './TransactionPreview'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport WithDialog from 'components/common/dialog/WithDialog'\nimport {\n\tidentityWithdraw,\n\tsetIdentityENS,\n\tvalidatePrivilegesChange,\n\tidentityWithdrawAny,\n\tvalidateIdentityWithdraw,\n\tcompleteTx,\n\texecute,\n\tresetNewTransaction,\n\tupdateIdentityPrivilege,\n\tvalidateENSChange,\n\tvalidateIdentityWithdrawAny,\n} from 'actions'\n\nconst FormStepsWithDialog = WithDialog(FormSteps)\n\nconst cancelFunction = stepsId => {\n\texecute(resetNewTransaction({ tx: stepsId }))\n}\n\nconst txCommon = {\n\tcancelFunction,\n\tdarkerBackground: true,\n}\n\nexport const WithdrawTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawFromIdentity'\n\t\t{...txCommon}\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tcomponent: WithdrawFromIdentity,\n\t\t\t\tvalidationFn: props => execute(validateIdentityWithdraw(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\n\t\t\t\tcomponent: TransactionPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteTx({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\tcompeteAction: identityWithdraw,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const SetIdentityPrivilege = ({ SaveBtn, label, ...props }) => {\n\treturn (\n\t\t<FormStepsWithDialog\n\t\t\t{...props}\n\t\t\tbtnLabel={label || 'ACCOUNT_SET_IDENTITY_PRIVILEGE_BTN'}\n\t\t\tsaveBtnLabel='ACCOUNT_SET_IDENTITY_PRIVILEGE_SAVE_BTN'\n\t\t\ttitle='ACCOUNT_SET_IDENTITY_PRIVILEGE_TITLE'\n\t\t\tstepsId='setIdentityPrivilege'\n\t\t\t{...txCommon}\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'ACCOUNT_SET_IDENTITY_PRIVILEGE_STEP',\n\t\t\t\t\tcomponent: SeAddressPrivilege,\n\t\t\t\t\tvalidationFn: props => execute(validatePrivilegesChange(props)),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\n\t\t\t\t\tcompleteBtnTitle: 'PROCEED',\n\t\t\t\t\tcomponent: TransactionPreview,\n\t\t\t\t\tcompleteFn: props =>\n\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\tcompleteTx({\n\t\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\t\tcompeteAction: updateIdentityPrivilege,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const WithdrawAnyTokenFromIdentity = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_WITHDRAW_ANY_FROM_IDENTITY_BTN'\n\t\tsaveBtnLabel='ACCOUNT_WITHDRAW_FROM_IDENTITY_SAVE_BTN'\n\t\ttitle='ACCOUNT_WITHDRAW_FROM_IDENTITY_TITLE'\n\t\tstepsId='withdrawAnyFromIdentity'\n\t\t{...txCommon}\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_WITHDRAW_FROM_IDENTITY_STEP',\n\t\t\t\tcomponent: WithdrawAnyTokenFromIdentityPage,\n\t\t\t\tvalidationFn: props => execute(validateIdentityWithdrawAny(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\n\t\t\t\tcomponent: TransactionPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteTx({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\tcompeteAction: identityWithdrawAny,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const SetAccountENS = props => (\n\t<FormStepsWithDialog\n\t\t{...props}\n\t\tbtnLabel='ACCOUNT_SET_ENS_BTN'\n\t\tsaveBtnLabel='ACCOUNT_SET_ENS_SAVE_BTN'\n\t\ttitle='ACCOUNT_SET_ENS_TITLE'\n\t\tstepsId='setENS'\n\t\t{...txCommon}\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'ACCOUNT_SET_ENS_STEP',\n\t\t\t\tcomponent: SetAccountENSPage,\n\t\t\t\tvalidationFn: props => execute(validateENSChange(props)),\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'PREVIEW_AND_MAKE_TX',\n\t\t\t\tcompleteBtnTitle: 'PROCEED',\n\t\t\t\tcomponent: TransactionPreview,\n\t\t\t\tcompleteFn: props =>\n\t\t\t\t\texecute(\n\t\t\t\t\t\tcompleteTx({\n\t\t\t\t\t\t\t...props,\n\t\t\t\t\t\t\tcompeteAction: setIdentityENS,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t},\n\t\t]}\n\t/>\n)\n","import React, { useState, Fragment } from 'react'\nimport { useSelector } from 'react-redux'\nimport {\n\tWithdrawTokenFromIdentity,\n\tWithdrawAnyTokenFromIdentity,\n\tSetIdentityPrivilege,\n\tSetAccountENS,\n} from 'components/dashboard/forms/web3/transactions'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tList,\n\tListItem,\n\tListItemText,\n\tDivider as ListDivider,\n\tListSubheader,\n\tButton,\n\tBox,\n\tExpansionPanel,\n\tExpansionPanelSummary,\n\tTypography,\n\tIconButton,\n\tPaper,\n\tGrid,\n} from '@material-ui/core'\nimport { VpnKey, Lock } from '@material-ui/icons'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { styles } from './styles.js'\nimport { LoadingSection } from 'components/common/spinners'\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\nimport CopyIcon from '@material-ui/icons/FileCopy'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc'\nimport copy from 'copy-to-clipboard'\nimport {\n\tt,\n\tselectWallet,\n\tselectAccountStatsFormatted,\n\tselectAccountIdentityAddr,\n\tselectWalletPrivileges,\n\tselectMainToken,\n\tselectEasterEggsAllowed,\n\tselectEnsAddressByAddr,\n\tselectAccountIdentityCurrentPrivileges,\n\tselectIdentityRecoveryAddr,\n\tselectSide,\n} from 'selectors'\nimport { execute, addToast, updateNewTransaction } from 'actions'\nimport { formatAddress } from 'helpers/formatters'\n\nconst RRButton = withReactRouterLink(Button)\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\n\nconst AccountItem = ({ left, right }) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<ListItem>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tclassName={classes.root}\n\t\t\t\tspacing={1}\n\t\t\t\tjustify='center'\n\t\t\t\talignItems='center'\n\t\t\t>\n\t\t\t\t<Grid item xs={12} sm={6} md={9}>\n\t\t\t\t\t{left}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={6} md={3}>\n\t\t\t\t\t{right}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</ListItem>\n\t)\n}\n\nconst useStyles = makeStyles(styles)\n\nfunction AccountInfo() {\n\tconst { authType = '' } = useSelector(selectWallet)\n\tconst identityAddress = useSelector(selectAccountIdentityAddr)\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst side = useSelector(selectSide)\n\tconst canMakeTx = privileges > 1\n\tconst currentPrivileges = useSelector(selectAccountIdentityCurrentPrivileges)\n\tconst identityRecoveryAddr = useSelector(selectIdentityRecoveryAddr)\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst {\n\t\twalletAddress,\n\t\tidentityBalanceMainToken,\n\t\tavailableIdentityBalanceMainToken,\n\t} = useSelector(selectAccountStatsFormatted)\n\n\tconst identityEnsName = useSelector(state =>\n\t\tselectEnsAddressByAddr(state, identityAddress)\n\t)\n\n\tconst allowEasterEggs = useSelector(selectEasterEggsAllowed)\n\n\tconst [expanded, setExpanded] = useState(false)\n\n\tconst classes = useStyles()\n\n\tconst handleExpandChange = () => {\n\t\tsetExpanded(!expanded)\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Paper variant='outlined'>\n\t\t\t\t<List className={classes.root} disablePadding>\n\t\t\t\t\t<ListSubheader disableSticky>{t('ADEX_ACCOUNT')}</ListSubheader>\n\t\t\t\t\t<AccountItem\n\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' flexWrap='wrap'>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\t{...(identityEnsName && {\n\t\t\t\t\t\t\t\t\t\tprimary: identityEnsName,\n\t\t\t\t\t\t\t\t\t\tsecondary: identityAddress,\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t{...(!identityEnsName && {\n\t\t\t\t\t\t\t\t\t\tprimary: identityAddress,\n\t\t\t\t\t\t\t\t\t\tsecondary: t('ENS_NOT_SET'),\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcopy(identityAddress)\n\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CopyIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t!!identityAddress && (\n\t\t\t\t\t\t\t\t<SetAccountENS\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t\ttoken='DAI'\n\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<ListDivider />\n\t\t\t\t\t<AccountItem\n\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t<LoadingSection\n\t\t\t\t\t\t\t\tloading={\n\t\t\t\t\t\t\t\t\t!identityBalanceMainToken && identityBalanceMainToken !== 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={`${availableIdentityBalanceMainToken ||\n\t\t\t\t\t\t\t\t\t\t0} ${symbol}`}\n\t\t\t\t\t\t\t\t\tsecondary={t('IDENTITY_MAIN_TOKEN_BALANCE_AVAILABLE_INFO')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</LoadingSection>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t<RRButton\n\t\t\t\t\t\t\t\t\t\tto={`/dashboard/${side}/topup`}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\t\taria-label='delete'\n\t\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<CreditCardIcon className={classes.iconBtnLeft} />\n\t\t\t\t\t\t\t\t\t\t{t('TOP_UP')}\n\t\t\t\t\t\t\t\t\t</RRButton>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t<WithdrawTokenFromIdentity\n\t\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\t\tidentityAvailableRaw={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t\t\ttoken={symbol}\n\t\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</List>\n\t\t\t</Paper>\n\t\t\t<Box mt={1}>\n\t\t\t\t<ExpansionPanel\n\t\t\t\t\texpanded={expanded}\n\t\t\t\t\tonChange={handleExpandChange}\n\t\t\t\t\tsquare={true}\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\t\taria-controls='panel1bh-content'\n\t\t\t\t\t\tid='panel1bh-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography className={classes.heading}>\n\t\t\t\t\t\t\t{t('ACCOUNT_ADVANCED_INFO_AND_ACTIONS')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<AccountItem\n\t\t\t\t\t\t\tleft={\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tsecondary={''}\n\t\t\t\t\t\t\t\t\tprimary={t('MANAGE_IDENTITY')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tright={\n\t\t\t\t\t\t\t\t<SetIdentityPrivilege\n\t\t\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<ListSubheader disableSticky>\n\t\t\t\t\t\t\t{t('WALLETS_WITH_PRIVILEGES')}\n\t\t\t\t\t\t</ListSubheader>\n\t\t\t\t\t\t<List disablePadding>\n\t\t\t\t\t\t\t<AccountPrivilageItem\n\t\t\t\t\t\t\t\taddress={walletAddress}\n\t\t\t\t\t\t\t\tprivileges={privileges}\n\t\t\t\t\t\t\t\tauthType={authType}\n\t\t\t\t\t\t\t\tcurrent\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{Object.keys(currentPrivileges)\n\t\t\t\t\t\t\t\t.filter(a => a !== identityRecoveryAddr && a !== walletAddress)\n\t\t\t\t\t\t\t\t.map((address, key) => (\n\t\t\t\t\t\t\t\t\t<Fragment key={key}>\n\t\t\t\t\t\t\t\t\t\t<AccountPrivilageItem\n\t\t\t\t\t\t\t\t\t\t\taddress={address}\n\t\t\t\t\t\t\t\t\t\t\tprivileges={currentPrivileges[address]}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t<List classes={{ root: classes.advancedList }}>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_LEADER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_LEADER_ID)],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_LEADER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_LEADER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\t\t\tprimary={t('VALIDATOR_FOLLOWER_ID', {\n\t\t\t\t\t\t\t\t\t\targs: [formatAddress(VALIDATOR_FOLLOWER_ID)],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\tsecondary={t('VALIDATOR_FOLLOWER_URL', {\n\t\t\t\t\t\t\t\t\t\targs: [VALIDATOR_FOLLOWER_URL],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ListItem>\n\n\t\t\t\t\t\t\t{allowEasterEggs && (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<ListDivider />\n\t\t\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\t\t\tflexWrap={'wrap'}\n\t\t\t\t\t\t\t\t\t\t\tflex='1'\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Box flexGrow='1'>\n\t\t\t\t\t\t\t\t\t\t\t\t<Box py={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<WithdrawAnyTokenFromIdentity\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t</Box>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</Box>\n\t\t</Fragment>\n\t)\n}\n\nfunction AccountPrivilageItem(props) {\n\tconst classes = useStyles()\n\tconst currUserPrivileges = useSelector(selectWalletPrivileges)\n\tconst canMakeTx = currUserPrivileges > 1\n\tconst { address, privileges, current, authType } = props\n\tconst privColors = ['disabled', 'secondary', 'primary']\n\tconst { availableIdentityBalanceMainToken } = useSelector(\n\t\tselectAccountStatsFormatted\n\t)\n\treturn (\n\t\t<AccountItem\n\t\t\tleft={\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tdirection='row'\n\t\t\t\t\tspacing={2}\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustify='flex-start'\n\t\t\t\t>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<VpnKey color={privColors[privileges]} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tclassName={classes.address}\n\t\t\t\t\t\t\tprimary={<Typography>{formatAddress(address)}</Typography>}\n\t\t\t\t\t\t\tsecondary={t('WALLET_PRIV_LABEL', {\n\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t}\n\t\t\tright={\n\t\t\t\t<Grid container direction='row' justify='center' alignItems='center'>\n\t\t\t\t\t{current ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\tstartIcon={<Lock />}\n\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\tcolor={privColors[currUserPrivileges]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${t('CURRENT_AUTH')} : ${authType}`}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<SetIdentityPrivilege\n\t\t\t\t\t\t\tdisabled={!canMakeTx}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tlabel='CHANGE_PRIVILEGE'\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tupdateNewTransaction({\n\t\t\t\t\t\t\t\t\t\ttx: 'setIdentityPrivilege',\n\t\t\t\t\t\t\t\t\t\tkey: 'setAddr',\n\t\t\t\t\t\t\t\t\t\tvalue: address,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\tidentityAvailable={availableIdentityBalanceMainToken}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Grid>\n\t\t\t}\n\t\t/>\n\t)\n}\n\nexport default AccountInfo\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tactionBtn: {\n\t\t\tmargin: spacing,\n\t\t},\n\t\taddress: {\n\t\t\twordWrap: 'break-word',\n\t\t\twordBreak: 'break-all',\n\t\t\tflexGrow: 0,\n\t\t},\n\t\tadvancedList: {\n\t\t\twidth: '100%',\n\t\t},\n\t\ticonBtnLeft: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t}\n}\n","export const styles = theme => {\n\treturn {\n\t\tcopyBtn: {\n\t\t\tbackgroundColor: '#E2EAED',\n\t\t\toverflowWrap: 'anywhere',\n\t\t\tuserSelect: 'text',\n\t\t\ttextTransform: 'none',\n\t\t},\n\t\ttitle: {\n\t\t\tfontSize: '2rem',\n\t\t\ttextAlign: 'center',\n\t\t\ttextTransform: 'uppercase',\n\t\t},\n\t\tsubtitle: {\n\t\t\tfontSize: '1rem',\n\t\t\ttextAlign: 'center',\n\t\t\ttextTransform: 'uppercase',\n\t\t},\n\t\tpaper: {\n\t\t\theight: '100%',\n\t\t},\n\t\tinfo: {\n\t\t\tfontSize: '10px',\n\t\t},\n\t\tinfoGrid: {\n\t\t\ttextAlign: 'right',\n\t\t},\n\t\tinfoTitle: {\n\t\t\tfontSize: '12px',\n\t\t},\n\t\timg: {\n\t\t\twidth: '100%',\n\t\t},\n\t}\n}\n","export const popupCenter = ({ url, title, w, h }) => {\r\n\t// Fixes dual-screen position                             Most browsers      Firefox\r\n\tconst dualScreenLeft =\r\n\t\twindow.screenLeft !== undefined ? window.screenLeft : window.screenX\r\n\tconst dualScreenTop =\r\n\t\twindow.screenTop !== undefined ? window.screenTop : window.screenY\r\n\r\n\tconst width = window.innerWidth\r\n\t\t? window.innerWidth\r\n\t\t: document.documentElement.clientWidth\r\n\t\t? document.documentElement.clientWidth\r\n\t\t: window.screen.width\r\n\tconst height = window.innerHeight\r\n\t\t? window.innerHeight\r\n\t\t: document.documentElement.clientHeight\r\n\t\t? document.documentElement.clientHeight\r\n\t\t: window.screen.height\r\n\r\n\tconst systemZoom = width / window.screen.availWidth\r\n\tconst left = (width - w) / 2 / systemZoom + dualScreenLeft\r\n\tconst top = (height - h) / 2 / systemZoom + dualScreenTop\r\n\tconst newWindow = window.open(\r\n\t\turl,\r\n\t\ttitle,\r\n\t\t`\r\n\t\ttoolbar=no,scrollbars=no,resizable=no\r\n\t\twidth=${w / systemZoom}, \r\n\t\theight=${h / systemZoom}, \r\n\t\ttop=${top}, \r\n\t\tleft=${left},\r\n\t\t`\r\n\t)\r\n\r\n\tif (window.focus) newWindow.focus()\r\n}\r\n","import { RampInstantSDK } from '@ramp-network/ramp-instant-sdk'\r\nimport { popupCenter } from 'helpers/popupHelper'\r\nimport transakSDK from '@transak/transak-sdk'\r\nimport url from 'url'\r\nimport { t } from 'selectors'\r\n\r\nconst PAYTRIE_PARTNER_URL = 'https://partner.paytrie.com/?app=876454'\r\nconst WYRE_URL = 'https://pay.sendwyre.com/purchase?'\r\nconst { RAMP_HOST_API_KEY, TRANSAK_API_KEY, TRANSAK_ENV } = process.env\r\n\r\n//https://docs.sendwyre.com/docs/wyre-widget-v2\r\nexport const openWyre = ({ accountId, symbol, ...rest }) => {\r\n\tconst URL = url.parse(WYRE_URL, true)\r\n\tURL.search = null\r\n\tif (accountId) {\r\n\t\tURL.query = {\r\n\t\t\t...URL.query,\r\n\t\t\tdest: accountId ? `ethereum:${accountId}` : null,\r\n\t\t\treferenceId: accountId,\r\n\t\t\tdestCurrency: symbol,\r\n\t\t\t...rest,\r\n\t\t}\r\n\t\tpopupCenter({\r\n\t\t\turl: url.format(URL),\r\n\t\t\ttitle: t('WYRE_DEPOSIT'),\r\n\t\t\tw: 450,\r\n\t\t\th: 700,\r\n\t\t})\r\n\t} else {\r\n\t\tconsole.error('WYRE_DEPOSIT_MISSING_DEST_PARAM')\r\n\t}\r\n}\r\n\r\n//https://paytrie.com/developer\r\nexport const openPayTrie = ({ accountId, email, symbol, ...rest }) => {\r\n\tconst URL = url.parse(PAYTRIE_PARTNER_URL, true)\r\n\tURL.search = null\r\n\tURL.query = {\r\n\t\t...URL.query,\r\n\t\taddr: accountId,\r\n\t\temail,\r\n\t\trightSideLabel: symbol,\r\n\t\t...rest,\r\n\t}\r\n\tpopupCenter({\r\n\t\t//TODO: Change testwyre to production\r\n\t\turl: url.format(URL),\r\n\t\ttitle: t('PAYTRIE_DEPOSIT'),\r\n\t\tw: 450,\r\n\t\th: 700,\r\n\t})\r\n}\r\n\r\nexport const openOnRampNetwork = ({ accountId, symbol }) => {\r\n\tconst widget = new RampInstantSDK({\r\n\t\thostAppName: 'AdExNetwork',\r\n\t\thostLogoUrl: 'https://www.adex.network/img/Adex-logo@2x.png',\r\n\t\tvariant: 'auto',\r\n\t\tswapAsset: symbol,\r\n\t\tuserAddress: accountId,\r\n\t\thostApiKey: RAMP_HOST_API_KEY,\r\n\t})\r\n\twidget.domNodes.overlay.style.zIndex = 1300\r\n\twidget.show()\r\n}\r\n\r\nexport const openTransak = ({ accountId, symbol }) => {\r\n\tconst transak = new transakSDK({\r\n\t\tapiKey: TRANSAK_API_KEY, // Your API Key\r\n\t\tenvironment: TRANSAK_ENV, // STAGING/PRODUCTION\r\n\t\tcryptoCurrencyList: symbol,\r\n\t\tdefaultCryptoCurrency: symbol,\r\n\t\tdisableWalletAddressForm: true,\r\n\t\twalletAddress: accountId, // Your customer's wallet address\r\n\t\tthemeColor: '000000', // App theme color\r\n\t\t// fiatCurrency: 'GBP', // INR/GBP\r\n\t\temail: '', // Your customer's email address\r\n\t\tredirectURL: '',\r\n\t\thostURL: window.location.origin,\r\n\t\twidgetHeight: 'calc(100% - 60px)',\r\n\t\twidgetWidth: '100%',\r\n\t})\r\n\r\n\ttransak.init()\r\n\r\n\t// To get all the events\r\n\ttransak.on(transak.ALL_EVENTS, data => {\r\n\t\tconsole.log(data)\r\n\t})\r\n\r\n\t// This will trigger when the user marks payment is made.\r\n\ttransak.on(transak.EVENTS.TRANSAK_ORDER_SUCCESSFUL, orderData => {\r\n\t\tconsole.log(orderData)\r\n\t\ttransak.close()\r\n\t})\r\n}\r\n","import React from 'react'\nimport {\n\tBox,\n\tTypography,\n\tButton,\n\tList,\n\tListItem,\n\tGrid,\n} from '@material-ui/core'\nimport { t } from 'selectors'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Img from 'components/common/img/Img'\nimport {\n\topenWyre,\n\topenPayTrie,\n\topenOnRampNetwork,\n\topenTransak,\n} from 'services/onramp'\nimport RAMP_LOGO from 'resources/ramp.svg'\nimport WYRE_LOGO from 'resources/wyre.svg'\nimport PAYTRIE_LOGO from 'resources/paytrie.svg'\nimport TRANSAK_LOGO from 'resources/transak.svg'\nimport CHANGELLY_LOGO from 'resources/changelly.svg'\nimport { styles } from './styles'\nimport { push } from 'connected-react-router'\nimport { execute } from 'actions'\n\nconst useStyles = makeStyles(styles)\n\nconst fiatProvidersDetails = [\n\t{\n\t\ttitle: t('CREDIT_CARD'),\n\t\tonClick: props => openWyre(props),\n\t\timgSrc: WYRE_LOGO,\n\t\timgAlt: t('WYRE'),\n\t\tfeeInfo: t('WYRE_FEES'),\n\t\tlimitInfo: t('WYRE_LIMITS'),\n\t\tcurrencies: t('WYRE_CURRENCIES'),\n\t},\n\t{\n\t\ttitle: t('BANK_TRANSFER'),\n\t\tonClick: props => openOnRampNetwork(props),\n\t\timgSrc: RAMP_LOGO,\n\t\timgAlt: t('RAMP'),\n\t\tfeeInfo: t('RAMP_FEES'),\n\t\tlimitInfo: t('RAMP_LIMITS'),\n\t\tcurrencies: t('RAMP_CURRENCIES'),\n\t},\n\t{\n\t\ttitle: t('BANK_TRANSFER'),\n\t\tonClick: props => openPayTrie(props),\n\t\timgSrc: PAYTRIE_LOGO,\n\t\timgAlt: t('PAYTRIE'),\n\t\tfeeInfo: t('PAYTRIE_FEES'),\n\t\tlimitInfo: t('PAYTRIE_LIMITS'),\n\t\tcurrencies: t('PAYTRIE_CURRENCIES'),\n\t},\n\t{\n\t\ttitle: t('BANK_TRANSFER_AND_CARD_PAYMENTS'),\n\t\tonClick: props => openTransak(props),\n\t\timgSrc: TRANSAK_LOGO,\n\t\timgAlt: t('TRANSAK'),\n\t\tfeeInfo: t('TRANSAK_FEES'),\n\t\tlimitInfo: t('TRANSAK_LIMITS'),\n\t\tcurrencies: t('TRANSAK_CURRENCIES'),\n\t},\n]\n\nconst cryptoProvidersDetails = [\n\t{\n\t\ttitle: t('CHANGELLY_TRANSFER'),\n\t\tonClick: ({ side }) => execute(push(`/dashboard/${side}/topup/changelly`)),\n\t\timgSrc: CHANGELLY_LOGO,\n\t\timgAlt: t('CHANGELLY'),\n\t\tfeeInfo: t('CHANGELLY_FEES'),\n\t\tlimitInfo: t('CHANGELLY_TIME'),\n\t\tcurrencies: t('CHANGELLY_CURRENCIES', { args: ['BTC, ETH, XRP'] }),\n\t},\n]\n\nconst ProviderListItem = ({\n\timgSrc,\n\timgAlt,\n\ttitle,\n\tfeeInfo,\n\tlimitInfo,\n\tcurrencies,\n}) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<Button size='large' fullWidth disableElevation className={classes.copyBtn}>\n\t\t\t<Box p={1} width='100%'>\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tdirection='row'\n\t\t\t\t\tjustify='space-between'\n\t\t\t\t\talignItems='center'\n\t\t\t\t>\n\t\t\t\t\t<Grid item xs={12} sm={4} md={4}>\n\t\t\t\t\t\t<Img className={classes.img} alt={imgAlt} src={imgSrc} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={8} md={8} className={classes.infoGrid}>\n\t\t\t\t\t\t<Typography className={classes.infoTitle}>{title}</Typography>\n\t\t\t\t\t\t{[feeInfo, limitInfo, currencies].map((item, key) => (\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tkey={`info-${key}`}\n\t\t\t\t\t\t\t\tclassName={classes.info}\n\t\t\t\t\t\t\t\tcomponent='p'\n\t\t\t\t\t\t\t\tcolor='textSecondary'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\t\t</Button>\n\t)\n}\n\nconst Providers = ({ providersDetails, accountId, symbol, email, side }) => (\n\t<List disablePadding>\n\t\t{providersDetails.map((item, key) => (\n\t\t\t<ListItem\n\t\t\t\tdisableGutters\n\t\t\t\tkey={key}\n\t\t\t\tonClick={() => item.onClick({ accountId, symbol, email, side })}\n\t\t\t>\n\t\t\t\t<ProviderListItem\n\t\t\t\t\tkey={key}\n\t\t\t\t\ttitle={item.title}\n\t\t\t\t\timgSrc={item.imgSrc}\n\t\t\t\t\timgAlt={item.imgAlt}\n\t\t\t\t\tfeeInfo={item.feeInfo}\n\t\t\t\t\tlimitInfo={item.limitInfo}\n\t\t\t\t\tcurrencies={item.currencies}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t))}\n\t</List>\n)\n\nexport const FiatProviders = ({ accountId, symbol, email }) => (\n\t<Providers\n\t\tprovidersDetails={fiatProvidersDetails}\n\t\taccountId={accountId}\n\t\tsymbol={symbol}\n\t\temail={email}\n\t/>\n)\n\nexport const CryptoProviders = ({ accountId, symbol, email, side }) => (\n\t<Providers\n\t\tprovidersDetails={cryptoProvidersDetails}\n\t\taccountId={accountId}\n\t\tsymbol={symbol}\n\t\temail={email}\n\t\tside={side}\n\t/>\n)\n","import React from 'react'\nimport { Box, Paper, Typography, Button, Grid } from '@material-ui/core'\nimport { FileCopy } from '@material-ui/icons'\nimport {\n\tt,\n\tselectAccountIdentityAddr,\n\tselectMainToken,\n\tselectEmail,\n\tselectSide,\n} from 'selectors'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport copy from 'copy-to-clipboard'\nimport { styles } from './styles'\nimport { execute, addToast } from 'actions'\nimport { FiatProviders, CryptoProviders } from './Ramp'\n\nconst useStyles = makeStyles(styles)\n\nexport default function TopUp() {\n\tconst classes = useStyles()\n\tconst accountId = useSelector(selectAccountIdentityAddr)\n\tconst { symbol } = useSelector(selectMainToken)\n\tconst email = useSelector(selectEmail)\n\tconst side = useSelector(selectSide)\n\n\treturn (\n\t\t<Grid container spacing={2}>\n\t\t\t<Grid item lg={4} md={6} xs={12}>\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tp={2}\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t// justifyContent='space-between'\n\t\t\t\t\t\theight={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Typography className={classes.title}>{t('DAI')}</Typography>\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\n\t\t\t\t\t\t\t\t{t('DIRECT_DEPOSIT')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\n\t\t\t\t\t\t\t\t\t{t('DAI_DIRECT_DEPOSIT_INFO')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tcopy(accountId)\n\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\taddToast({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\t\t\t\t\t\tlabel: t('COPIED_TO_CLIPBOARD'),\n\t\t\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName={classes.copyBtn}\n\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tendIcon={<FileCopy fontSize='small' color='disabled' />}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{accountId}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Paper>\n\t\t\t</Grid>\n\t\t\t<Grid item lg={4} md={6} xs={12}>\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tp={2}\n\t\t\t\t\t\tpb={1}\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t// justifyContent='space-between'\n\t\t\t\t\t\theight={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Typography className={classes.title}>\n\t\t\t\t\t\t\t\t{t('FIAT_CURRENCY')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\n\t\t\t\t\t\t\t\t{t('CREDIT_CARD_BANK_TRANSFER')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\n\t\t\t\t\t\t\t\t\t{t('ONRAMP_INFO')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<FiatProviders\n\t\t\t\t\t\t\t\taccountId={accountId}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t\temail={email}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Paper>\n\t\t\t</Grid>\n\t\t\t<Grid item lg={4} md={6} xs={12}>\n\t\t\t\t<Paper variant='outlined' className={classes.paper}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tp={2}\n\t\t\t\t\t\tpb={1}\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t// justifyContent='space-between'\n\t\t\t\t\t\theight={1}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Typography className={classes.title}>\n\t\t\t\t\t\t\t\t{t('CRYPTO_CURRENCY_DEPOSIT')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography className={classes.subtitle} gutterBottom>\n\t\t\t\t\t\t\t\t{t('CRYPTO_EXCHANGE')}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t<Typography align='center' component='p' color='textSecondary'>\n\t\t\t\t\t\t\t\t\t{t('CRYPTO_CURRENCY_DEPOSIT_INFO')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<CryptoProviders\n\t\t\t\t\t\t\t\taccountId={accountId}\n\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t\temail={email}\n\t\t\t\t\t\t\t\tside={side}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Paper>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Paper, Box } from '@material-ui/core'\nimport { selectAccountIdentityAddr } from 'selectors'\n\nconst onloadFunction = `\nfunction at(t) {\n\tvar e = t.target,\n\t\ti = e.parentNode,\n\t\tn = e.contentWindow,\n\t\tr = function() {\n\t\t\treturn n.postMessage({ width: i.offsetWidth }, 'https://widget.changelly.com');\n\t\t};\n\twindow.addEventListener('resize', r), r();\n};\nat.apply(this, arguments);\n`\nconst getChangellyIframe = identityAddress =>\n\t`\n\t<iframe \n\tsrc=\"https://widget.changelly.com?from=btc,eth,xrp&to=dai&amount=0.007&address=${identityAddress}&fromDefault=btc&toDefault=dai&theme=aqua&merchant_id=unl7fil0on3x48m1&payment_id=&v=2\" \n\twidth=\"100%\" height=\"600\" class=\"changelly\" scrolling=\"no\" \n\tonLoad=\"${onloadFunction}\" \n\tstyle=\"min-width: 100%; width: 100px; overflow-y: hidden; border: none\">Can't load widget</iframe>\n`\n\nfunction TopUpChangelly(props) {\n\tconst identityAddr = useSelector(selectAccountIdentityAddr)\n\tconst widgetIframeHtml = getChangellyIframe(identityAddr)\n\n\treturn (\n\t\t<Paper variant='outlined'>\n\t\t\t<Box p={2}>\n\t\t\t\t{!!identityAddr && (\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: widgetIframeHtml }} />\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t</Paper>\n\t)\n}\n\nexport default TopUpChangelly\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport clsx from 'clsx'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport { Box } from '@material-ui/core'\r\nimport { CheckCircle } from '@material-ui/icons'\r\nimport { PRIMARY, ACCENT_TWO } from 'components/App/themeMUi'\r\nimport StepConnector from '@material-ui/core/StepConnector'\r\n\r\nconst LINES_WIDTH = 3\r\nconst DEFAULT_SIZE = 80\r\n\r\nconst useColorlibStepIconStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tbackgroundColor: 'transparent',\r\n\t\tzIndex: 1,\r\n\t\twidth: props => DEFAULT_SIZE,\r\n\t\theight: props => DEFAULT_SIZE,\r\n\t\tdisplay: 'flex',\r\n\t\tborderRadius: '50%',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t\tborder: `${LINES_WIDTH}px solid ${theme.palette.text[500]}`,\r\n\t\ttransition: '0.5s',\r\n\t\t'&:hover': {\r\n\t\t\tboxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n\t\t\ttransform: 'translateY(-5px)',\r\n\t\t},\r\n\t},\r\n\tactive: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${PRIMARY} !important`,\r\n\t},\r\n\tcompleted: {\r\n\t\tborder: `${LINES_WIDTH}px solid ${ACCENT_TWO}`,\r\n\t},\r\n\tstar: {\r\n\t\tposition: 'relative',\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: ACCENT_TWO,\r\n\t\ttop: '-40%',\r\n\t\tright: '-32%',\r\n\t\tborderRadius: '50%',\r\n\t},\r\n}))\r\n\r\nexport const ColorlibConnector = withStyles(theme => ({\r\n\talternativeLabel: {\r\n\t\ttop: DEFAULT_SIZE / 2,\r\n\t\tleft: `calc(-50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t\tright: `calc(50% + ${DEFAULT_SIZE / 2}px)`,\r\n\t},\r\n\tline: {\r\n\t\theight: LINES_WIDTH,\r\n\t\tborder: 0,\r\n\t\tbackground: `linear-gradient(to right, transparent 50%, #fff 50%), ${\r\n\t\t\ttheme.palette.text[500]\r\n\t\t}`,\r\n\t\tbackgroundSize: `${LINES_WIDTH * 5}px`,\r\n\t},\r\n}))(StepConnector)\r\n\r\nexport function ColorlibStepIcon(props) {\r\n\tconst classes = useColorlibStepIconStyles(props)\r\n\tconst { active, completed, icon } = props\r\n\r\n\treturn (\r\n\t\t<Box\r\n\t\t\tclassName={clsx(classes.root, {\r\n\t\t\t\t[classes.completed]: completed,\r\n\t\t\t\t[classes.active]: active,\r\n\t\t\t})}\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundImage: `url(${icon})`,\r\n\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{completed && <CheckCircle className={clsx(classes.star)} />}\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nColorlibStepIcon.propTypes = {\r\n\tactive: PropTypes.bool,\r\n\tcompleted: PropTypes.bool,\r\n\ticon: PropTypes.node,\r\n}\r\n","import React, { Fragment } from 'react'\nimport { Typography } from '@material-ui/core'\nimport { confirmAction, execute } from 'actions'\nimport { t } from 'selectors'\nimport { ExternalAnchor } from 'components/common/anchor/'\n\nexport const createAdUnitTutorial = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 8; i++) {\n\t\tsteps.push(`TUTORIAL_CREATE_AD_UNIT_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_UNIT_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_UNIT_END'),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const fundAccountTutorial = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 4; i++) {\n\t\tsteps.push(`TUTORIAL_FUND_ACC_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\ttitle: t('TUTORIAL_FUND_ACC_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_START')}</Typography>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t{t('TUTORIAL_FUND_ACC_MORE_INFO', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t'https://www.adex.network/blog/adex-integrates-ramp-networks-fiat-onramp-advertisers-can-now-pay-in-fiat/'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('HERE')}\n\t\t\t\t\t\t\t\t</ExternalAnchor>,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>{t('TUTORIAL_FUND_ACC_END')}</Typography>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const launchFirstCampaign = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 5; i++) {\n\t\tsteps.push(`TUTORIAL_LAUNCH_CAMPAIGN_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\ttitle: t('TUTORIAL_LAUNCH_CAMPAIGN_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Typography>{t('TUTORIAL_LAUNCH_CAMPAIGN_START')}</Typography>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: t('TUTORIAL_LAUNCH_CAMPAIGN_END'),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const createAdSlot = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 7; i++) {\n\t\tsteps.push(`TUTORIAL_CREATE_AD_SLOT_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\ttitle: t('TUTORIAL_CREATE_AD_SLOT_TTILE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t__html: t('TUTORIAL_CREATE_AD_SLOT_END'),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n\nexport const placeAdSlot = () => {\n\tconst steps = []\n\n\tfor (let i = 1; i <= 2; i++) {\n\t\tsteps.push(`TUTORIAL_PLACE_AD_SLOT_STEP_${i}`)\n\t}\n\treturn execute(\n\t\tconfirmAction(null, null, {\n\t\t\tconfirmLabel: t('OK'),\n\t\t\ttitle: t('TUTORIAL_PLACE_AD_SLOT_TITLE'),\n\t\t\ttext: (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ol>\n\t\t\t\t\t\t{steps.map(step => (\n\t\t\t\t\t\t\t<li dangerouslySetInnerHTML={{ __html: t(step) }}></li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ol>\n\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_MORE_INFO')}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<ExternalAnchor href={'https://html.com/tags/iframe/'}>\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_1')}\n\t\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t'https://webcusp.com/iframe-wordpress-plugins-and-tutorials/'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('TUTORIAL_PLACE_AD_SLOT_INFO_LINK_2')}\n\t\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t\t\t,\n\t\t\t\t\t</Typography>\n\t\t\t\t</Fragment>\n\t\t\t),\n\t\t})\n\t)\n}\n","import React, { useEffect, useState } from 'react'\nimport { ACCENT_TWO } from 'components/App/themeMUi'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n\tBox,\n\tStepButton,\n\tMobileStepper,\n\tStepper,\n\tStep,\n\tStepLabel,\n\tButton,\n\tTypography,\n\tHidden,\n\tLink,\n\tExpansionPanel,\n\tExpansionPanelDetails,\n\tExpansionPanelSummary,\n\tTooltip,\n} from '@material-ui/core'\nimport {\n\tKeyboardArrowLeft,\n\tKeyboardArrowRight,\n\tExpandMore,\n\tClose,\n\tCheckCircleOutline,\n\tCheckCircle,\n} from '@material-ui/icons'\nimport EmailEddie from 'resources/getting-started/GS-email-ic.png'\nimport FundEddie from 'resources/getting-started/GS-fund-ic.png'\nimport CreateEddie from 'resources/getting-started/GS-create-ic.png'\nimport LaunchEddie from 'resources/getting-started/GS-launch-ic.png'\nimport PlaceEddie from 'resources/getting-started/GS-place-ic.png'\n// import BonusEddie from 'resources/getting-started/GS-bonus-ic.png'\nimport {\n\tt,\n\tsectStepsData,\n\tselectHideGettingStarted,\n\tselectGettingStartedExpanded,\n} from 'selectors'\nimport { useSelector } from 'react-redux'\nimport { ColorlibStepIcon, ColorlibConnector } from './Colorlib'\nimport { hideGettingStarted, setGettingStartedExpanded, execute } from 'actions'\nimport {\n\tcreateAdUnitTutorial,\n\tfundAccountTutorial,\n\tlaunchFirstCampaign,\n\tcreateAdSlot,\n\tplaceAdSlot,\n} from './Tutorials'\n\nconst useStyles = makeStyles(theme => {\n\tconst stepperBackgroundColor = ({ side }) =>\n\t\tside === 'advertiser'\n\t\t\t? theme.palette.background.paper\n\t\t\t: theme.palette.background.paper\n\n\treturn {\n\t\tmobile: {\n\t\t\tbackgroundColor: 'transparent',\n\t\t\tflex: 1,\n\t\t},\n\t\tstepper: {\n\t\t\tbackgroundColor: 'transparent',\n\t\t},\n\t\tbutton: {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tinstructions: {\n\t\t\tmarginTop: theme.spacing(1),\n\t\t\tmarginBottom: theme.spacing(1),\n\t\t},\n\t\texpansionPanel: {\n\t\t\tcolor: theme.palette.primary.main,\n\t\t\tbackgroundColor: stepperBackgroundColor,\n\t\t\t'& .MuiExpansionPanelSummary-expandIcon': {\n\t\t\t\tcolor: theme.palette.primary.main,\n\t\t\t},\n\t\t},\n\t\tcheckmark: {\n\t\t\tcolor: ACCENT_TWO,\n\t\t},\n\t}\n})\n\nconst getSteps = ({\n\thasCreatedAdUnit,\n\thasCreatedCampaign,\n\thasCreatedAdSlot,\n\thasConfirmedEmail,\n\thasFundedAccount,\n\thasImpressions,\n\thas5000Impressions,\n}) => ({\n\tadvertiser: [\n\t\t{\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\n\t\t\tcontent: (\n\t\t\t\t<span\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t),\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\n\t\t\ticon: EmailEddie,\n\t\t\tcheck: hasConfirmedEmail,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_ADD_UNIT_LABEL'),\n\t\t\tcontent: t('TUTORIAL_ADD_UNIT_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_CREATE_UNIT_COMPLETE'),\n\t\t\ticon: CreateEddie,\n\t\t\tcheck: hasCreatedAdUnit,\n\t\t\ttutorial: createAdUnitTutorial,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_FUND_ACCOUNT_LABEL'),\n\t\t\tcontent: t('TUTORIAL_FUND_ACCOUNT_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_FUND_ACC_COMPLETE'),\n\t\t\ticon: FundEddie,\n\t\t\tcheck: hasFundedAccount,\n\t\t\ttutorial: fundAccountTutorial,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_FIRST_CAMPAIGN_LABEL'),\n\t\t\tcontent: t('TUTORIAL_FIRST_CAMPAIGN_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_LAUNCH_CAMPAIGN_COMPLETE'),\n\t\t\ticon: LaunchEddie,\n\t\t\tcheck: hasCreatedCampaign,\n\t\t\ttutorial: launchFirstCampaign,\n\t\t},\n\t\t// {\n\t\t// \tlabel: 'Receive your bonus',\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\n\t\t// \ticon: BonusEddie,\n\t\t// \tcheck: false,\n\t\t// },\n\t],\n\tpublisher: [\n\t\t{\n\t\t\tlabel: t('TUTORIAL_CONFIRM_EMAIL_LABEL'),\n\t\t\tcontent: (\n\t\t\t\t<span\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: t('TUTORIAL_CONFIRM_EMAIL_CONTENT'),\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t),\n\t\t\tcontentCompleted: t('TUTORIAL_CONFIRM_EMAIL_COMPLETE'),\n\t\t\ticon: EmailEddie,\n\t\t\tcheck: hasConfirmedEmail,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_ADD_SLOT_LABEL'),\n\t\t\tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_CREATE_AD_SLOT_COMPLETE'),\n\t\t\ticon: CreateEddie,\n\t\t\tcheck: hasCreatedAdSlot,\n\t\t\ttutorial: createAdSlot,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_PLACE_SLOT_LABEL'),\n\t\t\tcontent: t('TUTORIAL_ADD_SLOT_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_PLACE_AD_SLOT_COMPLETE'),\n\t\t\ticon: PlaceEddie,\n\t\t\tcheck: hasImpressions,\n\t\t\ttutorial: placeAdSlot,\n\t\t},\n\t\t{\n\t\t\tlabel: t('TUTORIAL_REACH_5000_LABEL'),\n\t\t\tcontent: t('TUTORIAL_REACH_5000_CONTENT'),\n\t\t\tcontentCompleted: t('TUTORIAL_5000_IMPRESSIONS_COMPLETE'),\n\t\t\ticon: LaunchEddie,\n\t\t\tcheck: has5000Impressions,\n\t\t},\n\t\t// {\n\t\t// \tlabel: 'Receive your bonus',\n\t\t// \tcontent: \"Your account is ready. Let's create your first ad!\",\n\t\t// \ticon: BonusEddie,\n\t\t// \tcheck: false,\n\t\t// },\n\t],\n})\n\nexport default function GettingStarted(props) {\n\tconst { side } = props\n\tconst classes = useStyles({ side })\n\n\tconst stepsData = useSelector(sectStepsData)\n\n\tconst isGettingStartedHidden = useSelector(selectHideGettingStarted)\n\tconst expanded = useSelector(selectGettingStartedExpanded)\n\tconst [steps, setSteps] = useState({})\n\n\tconst [activeStep, setActiveStep] = React.useState(0)\n\n\tconst sideSteps = steps[side] || []\n\tconst currentStep = sideSteps[activeStep] || {}\n\n\tconst indexOfFirstIncompleteStep = sideSteps.findIndex(step => !step.check)\n\n\tconst handleStep = step => () => {\n\t\tsetActiveStep(step)\n\t}\n\n\tconst handleNext = () => {\n\t\tsetActiveStep(activeStep + 1)\n\t}\n\tconst handleBack = () => {\n\t\tsetActiveStep(activeStep - 1)\n\t}\n\n\tconst handleDismiss = () => {\n\t\tsetActiveStep(0)\n\t\texecute(hideGettingStarted(side))\n\t}\n\n\tuseEffect(() => {\n\t\tsetSteps(getSteps(stepsData))\n\t}, [stepsData])\n\tuseEffect(() => {\n\t\tsetActiveStep(\n\t\t\tindexOfFirstIncompleteStep !== -1\n\t\t\t\t? indexOfFirstIncompleteStep\n\t\t\t\t: sideSteps.length - 1\n\t\t)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [steps, indexOfFirstIncompleteStep])\n\t// TODO: wait for the data to be loaded before displaying the getting started\n\treturn (\n\t\t!isGettingStartedHidden &&\n\t\t!!sideSteps.length && (\n\t\t\t<Box mb={1}>\n\t\t\t\t<ExpansionPanel\n\t\t\t\t\texpanded={expanded}\n\t\t\t\t\tonChange={() => execute(setGettingStartedExpanded(!expanded))}\n\t\t\t\t\tsquare={true}\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t>\n\t\t\t\t\t<ExpansionPanelSummary\n\t\t\t\t\t\texpandIcon={<ExpandMore />}\n\t\t\t\t\t\tclasses={{ root: classes.expansionPanel }}\n\t\t\t\t\t\taria-controls='expand-getting-started'\n\t\t\t\t\t\tid='getting-started-header'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\twidth={1}\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Typography variant={'h6'}>\n\t\t\t\t\t\t\t\t{`${t('GETTING_STARTED_HEADING')} (${\n\t\t\t\t\t\t\t\t\tside === 'publisher' ? t('PUBLISHER') : t('ADVERTISER')\n\t\t\t\t\t\t\t\t})`}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center'>\n\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => {\n\t\t\t\t\t\t\t\t\tconst Icon = check ? CheckCircle : CheckCircleOutline\n\t\t\t\t\t\t\t\t\tconst color = ACCENT_TWO\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Tooltip title={label} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t<Icon className={classes.checkmark} />\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</ExpansionPanelSummary>\n\n\t\t\t\t\t<ExpansionPanelDetails>\n\t\t\t\t\t\t<Box width={1}>\n\t\t\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t\t\t<Box p={2} justifyContent={'center'} display='flex'>\n\t\t\t\t\t\t\t\t\t<ColorlibStepIcon\n\t\t\t\t\t\t\t\t\t\ticon={currentStep.icon}\n\t\t\t\t\t\t\t\t\t\tcompleted={currentStep.check}\n\t\t\t\t\t\t\t\t\t\tsize='35vw'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<MobileStepper\n\t\t\t\t\t\t\t\t\tclassName={classes.mobile}\n\t\t\t\t\t\t\t\t\tsteps={sideSteps.length}\n\t\t\t\t\t\t\t\t\tposition='static'\n\t\t\t\t\t\t\t\t\tvariant='progress'\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\n\t\t\t\t\t\t\t\t\tnextButton={\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleNext}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === sideSteps.length - 1}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('NEXT')}\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowRight />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbackButton={\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleBack}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={activeStep === 0}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<KeyboardArrowLeft />\n\t\t\t\t\t\t\t\t\t\t\t{t('BACK')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t<Hidden smDown>\n\t\t\t\t\t\t\t\t<Stepper\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.stepper }}\n\t\t\t\t\t\t\t\t\tnonLinear\n\t\t\t\t\t\t\t\t\talternativeLabel\n\t\t\t\t\t\t\t\t\tactiveStep={activeStep}\n\t\t\t\t\t\t\t\t\tconnector={<ColorlibConnector />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{sideSteps.map(({ label, icon, check }, index) => (\n\t\t\t\t\t\t\t\t\t\t<Step key={label}>\n\t\t\t\t\t\t\t\t\t\t\t<StepButton onClick={handleStep(index)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<StepLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconComponent={ColorlibStepIcon}\n\t\t\t\t\t\t\t\t\t\t\t\t\tStepIconProps={{ icon, completed: check }}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t\t\t\t\t</StepLabel>\n\t\t\t\t\t\t\t\t\t\t\t</StepButton>\n\t\t\t\t\t\t\t\t\t\t</Step>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Stepper>\n\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t{indexOfFirstIncompleteStep === -1 ? (\n\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\t\t\tjustifyContent={'space-between'}\n\t\t\t\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\n\t\t\t\t\t\t\t\t\t\t\t<strong>{t('GETTING_STARTED_FINISHED')}</strong>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleDismiss}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<Close />}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('DISMISS')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tvariant={'body1'}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('GETTING_STARTED_STEPS', {\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [activeStep + 1, currentStep.label || ''],\n\t\t\t\t\t\t\t\t\t\t\t\t})}{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.check ? t('COMPLETED') : ''}\n\t\t\t\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t{currentStep.check ? (\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.contentCompleted}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Typography className={classes.instructions}>\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.content}{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{currentStep.tutorial &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tt('GETTING_STARTED_NOT_SURE_SEE_TUTORIAL', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey='see-tutorial-link'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref='#'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentStep.tutorial()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.instructions}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={'primary'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tunderline={'hover'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t('OUR_TUTORIAL')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</ExpansionPanelDetails>\n\t\t\t\t</ExpansionPanel>\n\t\t\t</Box>\n\t\t)\n\t)\n}\n","import React, { useState, useEffect, Fragment } from 'react'\nimport SideNav from './SideNav'\nimport TopBar from './TopBar'\nimport { Route, Switch } from 'react-router'\nimport Campaign from 'components/dashboard/containers/Campaign'\nimport { Receipt } from 'components/dashboard/containers/Receipt'\nimport {\n\tPublisherStats,\n\tAdvertiserStats,\n} from 'components/dashboard/containers/DashboardStats'\nimport Unit from 'components/dashboard/containers/Unit'\nimport Slot from 'components/dashboard/containers/Slot'\nimport Audience from 'components/dashboard/containers/Audience'\nimport Websites from 'components/dashboard/containers/Websites'\nimport Account from 'components/dashboard/account/AccountInfo'\nimport TopUp from 'components/dashboard/deposit/TopUp'\nimport TopUpChangelly from 'components/dashboard/deposit/TopUpChangelly'\nimport {\n\tNewUnitDialog,\n\tNewCampaignDialog,\n\tNewSlotDialog,\n\tNewAudienceDialog,\n} from 'components/dashboard/forms/items/NewItems'\nimport {\n\tCampaignsTable,\n\tAdSlotsTable,\n\tAdUnitsTable,\n\tAudiencesTable,\n} from 'components/dashboard/containers/Tables'\nimport { Drawer, Box, Hidden, Paper } from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Add } from '@material-ui/icons'\nimport { styles } from './styles'\nimport {\n\texecute,\n\tresolveEnsAddress,\n\tupdatePrivilegesWarningAccepted,\n\tloadAccountData,\n\tstopAccountDataUpdate,\n\tupdateNav,\n} from 'actions'\nimport {\n\tt,\n\tselectAccountIdentityAddr,\n\tselectWalletPrivileges,\n\tselectPrivilegesWarningAccepted,\n\tselectInitialDataLoaded,\n} from 'selectors'\nimport { useSelector } from 'react-redux'\nimport GettingStarted from '../getting-started/GettingStarted'\n\nconst Campaigns = () => {\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst disabled = privileges <= 1\n\treturn (\n\t\t<Box>\n\t\t\t<NewCampaignDialog\n\t\t\t\tdisabled={disabled}\n\t\t\t\tfabButton\n\t\t\t\tvariant='extended'\n\t\t\t\tcolor='secondary'\n\t\t\t\tbtnLabel='NEW_CAMPAIGN'\n\t\t\t\tsize='medium'\n\t\t\t\ticon={<Add />}\n\t\t\t/>\n\t\t\t<Paper variant='outlined'>\n\t\t\t\t<CampaignsTable />\n\t\t\t</Paper>\n\t\t</Box>\n\t)\n}\n\nconst AdUnits = () => (\n\t<Box>\n\t\t<NewUnitDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_UNIT'\n\t\t\tsize='medium'\n\t\t\ticon={<Add />}\n\t\t/>\n\t\t<Paper variant='outlined'>\n\t\t\t<AdUnitsTable />\n\t\t</Paper>\n\t</Box>\n)\n\nconst AdSlots = () => (\n\t<Box>\n\t\t<NewSlotDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_SLOT'\n\t\t\tsize='medium'\n\t\t\ticon={<Add />}\n\t\t/>\n\t\t<Paper variant='outlined'>\n\t\t\t<AdSlotsTable />\n\t\t</Paper>\n\t</Box>\n)\n\nconst Audiences = () => (\n\t<Box>\n\t\t<NewAudienceDialog\n\t\t\tfabButton\n\t\t\tvariant='extended'\n\t\t\tcolor='secondary'\n\t\t\tbtnLabel='NEW_AUDIENCE'\n\t\t\tsize='medium'\n\t\t\ticon={<Add />}\n\t\t/>\n\t\t<Paper variant='outlined'>\n\t\t\t<AudiencesTable />\n\t\t</Paper>\n\t</Box>\n)\n\nconst useStyles = makeStyles(styles)\n\nfunction Dashboard(props) {\n\tconst [mobileOpen, setMobileOpen] = useState(false)\n\tconst address = useSelector(selectAccountIdentityAddr)\n\tconst privileges = useSelector(selectWalletPrivileges)\n\tconst privilegesWarningAccepted = useSelector(selectPrivilegesWarningAccepted)\n\tconst showTxPrivLevelWarning = privileges <= 1 && !privilegesWarningAccepted\n\n\tconst { match } = props\n\tconst { side } = match.params\n\tconst classes = useStyles()\n\n\tconst dataLoaded = useSelector(selectInitialDataLoaded)\n\n\tuseEffect(() => {\n\t\tasync function updateInitialData() {\n\t\t\texecute(loadAccountData())\n\t\t}\n\n\t\tupdateInitialData()\n\n\t\treturn () => {\n\t\t\texecute(stopAccountDataUpdate())\n\t\t}\n\t}, [])\n\n\tuseEffect(() => {\n\t\texecute(resolveEnsAddress({ address }))\n\t}, [address])\n\n\tuseEffect(() => {\n\t\texecute(updateNav('side', side))\n\t}, [side])\n\n\tconst handleDrawerToggle = () => {\n\t\tsetMobileOpen(!mobileOpen)\n\t}\n\n\tconst drawer = <SideNav side={side} />\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<TopBar\n\t\t\t\tside={side}\n\t\t\t\topen={mobileOpen}\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\n\t\t\t/>\n\t\t\t<Hidden mdUp>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='temporary'\n\t\t\t\t\tanchor='left'\n\t\t\t\t\topen={mobileOpen}\n\t\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t\tModalProps={{\n\t\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\t\t\t<Hidden smDown implementation='css'>\n\t\t\t\t<Drawer\n\t\t\t\t\tvariant='permanent'\n\t\t\t\t\topen\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</Hidden>\n\n\t\t\t<main className={classes.content}>\n\t\t\t\t<div className={classes.contentInner}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t{showTxPrivLevelWarning && (\n\t\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tseverity='info'\n\t\t\t\t\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\t\t\t\t\texecute(updatePrivilegesWarningAccepted(true))\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('PRIVILEGES_LEVEL_WARNING_MSG', {\n\t\t\t\t\t\t\t\t\t\targs: [`PRIV_${privileges}_LABEL`],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{dataLoaded && <GettingStarted side={side} />}\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns'\n\t\t\t\t\t\t\t\tcomponent={Campaigns}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/units'\n\t\t\t\t\t\t\t\tcomponent={AdUnits}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/audiences'\n\t\t\t\t\t\t\t\tcomponent={Audiences}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/audiences/:itemId'\n\t\t\t\t\t\t\t\tcomponent={Audience}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipts'\n\t\t\t\t\t\t\t\tcomponent={Receipt}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/campaigns/:itemId'\n\t\t\t\t\t\t\t\tcomponent={Campaign}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/receipt/:itemId'\n\t\t\t\t\t\t\t\tcomponent={Receipt}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser/units/:itemId'\n\t\t\t\t\t\t\t\tcomponent={Unit}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/slots'\n\t\t\t\t\t\t\t\tcomponent={AdSlots}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/slots/:itemId'\n\t\t\t\t\t\t\t\tcomponent={Slot}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/websites'\n\t\t\t\t\t\t\t\tcomponent={Websites}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher/receipts'\n\t\t\t\t\t\t\t\tcomponent={Receipt}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/account'}\n\t\t\t\t\t\t\t\tcomponent={Account}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/topup/changelly'}\n\t\t\t\t\t\t\t\tcomponent={TopUpChangelly}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route exact path={'/dashboard/:side/topup'} component={TopUp} />\n\t\t\t\t\t\t\t{/* <Route\n\t\t\t\t\t\t\t\tauth={this.props.auth}\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath={'/dashboard/:side/transactions'}\n\t\t\t\t\t\t\t\tcomponent={props => <Transactions {...props} />}\n\t\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/advertiser'\n\t\t\t\t\t\t\t\tcomponent={AdvertiserStats}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/dashboard/publisher'\n\t\t\t\t\t\t\t\tcomponent={PublisherStats}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route component={PageNotFound} />\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\troot: {\n\t\t\t// flexGrow: 1,\n\t\t\theight: '100vh',\n\t\t},\n\t\tsigninContainer: {\n\t\t\toverflowX: 'hidden',\n\t\t\toverflowY: 'auto',\n\t\t\tminHeight: '100vh',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t\tposition: 'relative',\n\t\t},\n\t\tcontainer: {\n\t\t\theight: '100vh',\n\t\t\tflexGrow: '1',\n\t\t},\n\t\tactions: {\n\t\t\tbackgroundImage: `url(${require('resources/home-wallpaper.jpg')})`,\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundSize: 'cover',\n\t\t\tbackgroundPosition: 'center',\n\t\t},\n\t\tbuttons: {\n\t\t\tbackgroundColor: theme.palette.grey[200],\n\t\t},\n\t\tadxVersion: {\n\t\t\t// position: 'absolute',\n\t\t\t// left: spacing,\n\t\t\t// bottom: spacing\n\t\t},\n\t\tadexLogoTop: {\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tlogo: {\n\t\t\t// marginTop: '1.5vh',\n\t\t\t// width: '17.92vh',\n\t\t\t// height: '6vh',\n\t\t\theight: '2rem',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tnoBg: {\n\t\t\tbackground: 0,\n\t\t\tboxShadow: 'none',\n\t\t\toverflow: 'visible',\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\t// position: 'relative',\n\t\t\tjustifyContent: 'center',\n\t\t\tpadding: 24,\n\t\t\t// margin: `${spacing}px ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t// '&:first-child': {\n\t\t\t// \tpaddingTop: spacing,\n\t\t\t// },\n\t\t\t// overflow: 'visible',\n\t\t\t// maxHeight: '100vh'\n\t\t},\n\t}\n}\n","import React, { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport { Box, Divider } from '@material-ui/core'\nimport { Close } from '@material-ui/icons'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { getAuthLogo } from 'helpers/logosHelpers'\nimport Img from 'components/common/img/Img'\nimport classnames from 'classnames'\nimport { getAllWallets } from 'services/wallet/wallet'\nimport { execute, initIdentity, confirmAction } from 'actions'\nimport { selectAuth, selectAccount, selectRegistrationAllowed } from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { formatAddress } from 'helpers/formatters'\nimport { push } from 'connected-react-router'\nimport { t } from 'selectors'\nimport { removeFromLocalStorage } from 'helpers/localStorageHelpers'\n\nconst RRButton = withReactRouterLink(Button)\nconst useStyles = makeStyles(styles)\n\nconst AuthSelect = () => {\n\tconst classes = useStyles()\n\tconst [wallets, setWallets] = useState([])\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\tconst auth = useSelector(selectAuth)\n\tconst account = useSelector(selectAccount)\n\tconst { wallet, identity } = account || {}\n\n\tuseEffect(() => {\n\t\tconst allWallets = getAllWallets()\n\t\tconst wallets = allWallets.filter(\n\t\t\tw => w.authType !== 'legacy' && w.name !== wallet.email\n\t\t)\n\t\tsetWallets(wallets)\n\t}, [wallet])\n\n\tconst goTo = (to, confirmLogout, onConfirm) => {\n\t\tconst toExecute = () => {\n\t\t\tlogOut()\n\t\t\texecute(push(to))\n\t\t\tif (onConfirm && typeof onConfirm === 'function') {\n\t\t\t\tonConfirm()\n\t\t\t}\n\t\t}\n\t\tif (auth && confirmLogout) {\n\t\t\texecute(\n\t\t\t\tconfirmAction(toExecute, null, {\n\t\t\t\t\tconfirmLabel: t('CONTINUE_NEW_AUTH'),\n\t\t\t\t\tcancelLabel: t('KEEP_MY_SESSION'),\n\t\t\t\t\ttitle: t('CONFIRM_DIALOG_NEW_AUTH_TITLE'),\n\t\t\t\t\ttext: t('CONFIRM_DIALOG_NEW_AUTH_TEXT', {\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\n\t\t\t\t\t\t\tidentity.address,\n\t\t\t\t\t\t],\n\t\t\t\t\t}),\n\t\t\t\t})\n\t\t\t)\n\t\t} else {\n\t\t\ttoExecute()\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='stretch'\n\t\t\tjustifyContent='space-between'\n\t\t>\n\t\t\t<Box p={2} alignItems='center'>\n\t\t\t\t<Typography align='center' variant='subtitle1' display='block'>\n\t\t\t\t\t{t('SIGN_UP_IN_SELECT')}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t{auth && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<RRButton\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tto='/side-select'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='default'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CONTINUE_AS', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\twallet.email || formatAddress(identity.address),\n\t\t\t\t\t\t\t\twallet.authType,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</RRButton>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t{wallets.map(w => (\n\t\t\t\t<Box key={w.name} m={1} display='flex'>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/login/quick', true, () =>\n\t\t\t\t\t\t\t\texecute(initIdentity({ email: w.name, authType: w.authType }))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('SIGN_IN_TO', { args: [w.name] })}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\tconfirmAction(\n\t\t\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\t\t\tremoveFromLocalStorage(w.key)\n\t\t\t\t\t\t\t\t\t\tsetWallets(wallets.filter(i => i.key !== w.key))\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tconfirmLabel: t('CONFIRM_YES'),\n\t\t\t\t\t\t\t\t\t\tcancelLabel: t('CANCEL'),\n\t\t\t\t\t\t\t\t\t\ttitle: t('CONFIRM_DIALOG_REMOVE_SAVED_AUTH_TITLE'),\n\t\t\t\t\t\t\t\t\t\ttext: t('CONFIRM_DIALOG_REMOVE_SAVED_AUTH_TEXT', {\n\t\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t\t(wallet.email || (wallet.authType || '')).toUpperCase(),\n\t\t\t\t\t\t\t\t\t\t\t\tidentity.address,\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Close />\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t))}\n\t\t\t{(wallets.length > 0 || auth) && <Divider />}\n\t\t\t{showRegistration && (\n\t\t\t\t<Box m={1}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tgoTo('/signup/quick', true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('CREATE_QUICK_ACCOUNT')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='contained'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='primary'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.limitedWidthBtn}\n\t\t\t\t\tonClick={() => goTo('/login/quick', true)}\n\t\t\t\t>\n\t\t\t\t\t{t('LOGIN_QUICK_ACCOUNT')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classnames(classes.metamaskBtn, classes.limitedWidthBtn)}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=metamask', true)}\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={getAuthLogo('metamask')}\n\t\t\t\t\t\talt={t('AUTH_WITH_METAMASK')}\n\t\t\t\t\t\tclassName={classes.btnLogo}\n\t\t\t\t\t/>\n\t\t\t\t\t{t('METAMASK')}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box m={1}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\tsize='large'\n\t\t\t\t\tcolor='default'\n\t\t\t\t\tfullWidth\n\t\t\t\t\tclassName={classes.trezorBtn}\n\t\t\t\t\tonClick={() => goTo('/login/full?external=trezor', true)}\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={getAuthLogo('trezor')}\n\t\t\t\t\t\talt={t('AUTH_WITH_TREZOR')}\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tclasses.btnLogo,\n\t\t\t\t\t\t\tclasses.btnLogoNoTxt,\n\t\t\t\t\t\t\tclasses.limitedWidthBtn\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* {t('TREZOR')} */}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default AuthSelect\n","export const styles = theme => {\n\treturn {\n\t\tactions: {\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tlimitedWidthBtn: {\n\t\t\twordBreak: 'break-word',\n\t\t\ttextAlign: 'center',\n\t\t},\n\t\tbtnLogo: {\n\t\t\theight: '2rem',\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tbtnLogoNoTxt: {\n\t\t\tmarginRight: 0,\n\t\t},\n\t\tmetamaskBtn: {\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\tcolor: theme.palette.common.black,\n\t\t},\n\t\ttrezorBtn: {\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\tcolor: theme.palette.common.black,\n\t\t},\n\t}\n}\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport Hidden from '@material-ui/core/Hidden'\nimport Anchor from 'components/common/anchor/anchor'\nimport packageJson from './../../../package.json'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport AuthSelect from 'components/signin/auth-select/AuthSelect'\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\nimport { t } from 'selectors'\nimport { Typography } from '@material-ui/core'\n\nexport default function ConnectHoc(Decorated) {\n\tfunction Connect({ classes, ...rest }) {\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Grid\n\t\t\t\t\tclassName={classes.container}\n\t\t\t\t\tcontainer\n\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t// spacing={2}\n\t\t\t\t>\n\t\t\t\t\t<Grid className={classes.actions} item xs={12} md={7} lg={8} xl={9}>\n\t\t\t\t\t\t<Box width={1} height={1} p={4}>\n\t\t\t\t\t\t\t<Box width={1} height={1} position='relative'>\n\t\t\t\t\t\t\t\t<Decorated t={t} {...rest} />\n\t\t\t\t\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center'>\n\t\t\t\t\t\t\t\t\t\t<ArrowDropDownIcon color='primary' fontSize='large' />\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={5} lg={4} xl={3}>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\talignItems='stretch'\n\t\t\t\t\t\t\tjustifyContent='space-between'\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box p={4} alignItems='center'>\n\t\t\t\t\t\t\t\t<Typography align='center' variant='h3'>\n\t\t\t\t\t\t\t\t\t{t('SIGN_UP_IN')}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box p={2}>\n\t\t\t\t\t\t\t\t<AuthSelect {...rest} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tp={2}\n\t\t\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\t\t\tflexDirection='column'\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\tflexWrap='wrap'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_HELP_URL}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t('HELP')}\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t<small className={classes.adxVersion}>\n\t\t\t\t\t\t\t\t\t{`v.${packageJson.version}-beta`}\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn withStyles(styles)(Connect)\n}\n","export const styles = theme => {\n\tconst spacing = theme.spacing(1)\n\treturn {\n\t\taddrListItem: {\n\t\t\t'&:hover': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t},\n\t\t},\n\t\taddrInfo: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\tflexGrow: 1,\n\t\t\tpaddingTop: spacing,\n\t\t\twhiteSpace: 'normal',\n\t\t\t'& strong': {\n\t\t\t\tmarginRight: spacing * 2,\n\t\t\t},\n\t\t},\n\t\taddrInfoLabel: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\tfontWeight: 'bold',\n\t\t},\n\t\tdialogPaper: {\n\t\t\theight: '80vh',\n\t\t\tmargin: spacing * 2,\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'column',\n\t\t\tflex: '1 1 auto',\n\t\t\tposition: 'relative',\n\t\t\tpadding: 0,\n\t\t\tmargin: `0 ${spacing}px ${spacing}px ${spacing}px`,\n\t\t\t'&:first-child': {\n\t\t\t\tpaddingTop: spacing,\n\t\t\t},\n\t\t\toverflow: 'visible',\n\t\t},\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t\t// marginTop: spacing * 2,\n\t\t\t// position: 'absolute',\n\t\t\t// top: 70,\n\t\t\t// left: 0,\n\t\t\t// right: 0,\n\t\t\t// bottom: 0\n\t\t},\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\ttabLogo: {\n\t\t\tmaxWidth: '100%',\n\t\t\theight: spacing * 4,\n\t\t\tmaxHeight: '100%',\n\t\t\twidth: 'auto',\n\t\t},\n\t\ttabLabel: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexDirection: 'row',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'center',\n\t\t},\n\t\tdlBtnImg: {\n\t\t\tmaxWidth: '100%',\n\t\t\tmaxHeight: spacing * 9,\n\t\t\twidth: 'auto',\n\t\t\theight: 'auto',\n\t\t},\n\t\tleftBtnIcon: {\n\t\t\tmarginRight: spacing,\n\t\t},\n\t\tadexLogoTop: {\n\t\t\tposition: 'absolute',\n\t\t\ttop: '-6vh',\n\t\t\tleft: 0,\n\t\t},\n\t\tlogo: {\n\t\t\twidth: '12.8vh',\n\t\t\theight: '5vh',\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { List, ListItem, ListItemText } from '@material-ui/core'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport { selectWalletAddress, execute } from 'actions'\n\nconst useStyles = makeStyles(styles)\n\nexport function AddrItem({ stats }) {\n\tconst { balanceEth, tokensBalances, address } = stats\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<ListItemText\n\t\t\tprimary={address}\n\t\t\tsecondary={\n\t\t\t\t<span className={classes.addrInfo}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<span> ETH </span>\n\t\t\t\t\t\t<strong> {balanceEth} </strong>\n\t\t\t\t\t</span>\n\t\t\t\t\t{tokensBalances.map(({ symbol, balance }) => (\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<span> {symbol} </span>\n\t\t\t\t\t\t\t<strong> {balance} </strong>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</span>\n\t\t\t}\n\t\t/>\n\t)\n}\n\nexport const AddressSelect = ({\n\taddresses,\n\taddress,\n\twaitingAction,\n\tactionWaitingLabel,\n\tselectLabel,\n\tsignType,\n\tauthType,\n\thdWalletAddrPath,\n\tclasses,\n}) => {\n\treturn (\n\t\t<ContentBox>\n\t\t\t<ContentStickyTop>\n\t\t\t\t{waitingAction ? <TopLoading msg={actionWaitingLabel} /> : selectLabel}\n\t\t\t</ContentStickyTop>\n\t\t\t<ContentBody>\n\t\t\t\t<List>\n\t\t\t\t\t{addresses.map((addrData, hdWalletAddrIdx) => (\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tclasses={{ root: classes.addrListItem }}\n\t\t\t\t\t\t\tkey={addrData.address}\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\tselectWalletAddress({\n\t\t\t\t\t\t\t\t\t\taddrData,\n\t\t\t\t\t\t\t\t\t\thdWalletAddrPath,\n\t\t\t\t\t\t\t\t\t\thdWalletAddrIdx,\n\t\t\t\t\t\t\t\t\t\tsignType,\n\t\t\t\t\t\t\t\t\t\tauthType,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tselected={address === addrData.address}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<AddrItem stats={addrData} address={addrData.address} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))}\n\t\t\t\t</List>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport METAMASK_DL_IMG from 'resources/download-metamask.png'\nimport METAMASK_IMG from 'resources/metamask.png'\nimport Anchor from 'components/common/anchor/anchor'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { AddrItem } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport Box from '@material-ui/core/Box'\nimport { checkAuthMetamask, execute } from 'actions'\nimport { getEthereumProviderName } from 'services/smart-contracts/ethers'\nimport { t, selectIdentity, selectSpinnerById } from 'selectors'\nimport { CHECKING_METAMASK_AUTH } from 'constants/spinners'\n\nconst useStyles = makeStyles(styles)\n\nfunction AuthMetamask() {\n\tconst classes = useStyles()\n\tconst { wallet = {}, stats } = useSelector(selectIdentity)\n\tconst { address } = wallet\n\tconst [installingMetamask, setInstallingMetamask] = useState(false)\n\tconst isOpera =\n\t\t!!window.opr || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0\n\tconst [isMetamaskEthereumProvider, setIsMetamaskEthereumProvider] = useState(\n\t\tfalse\n\t)\n\n\tconst waitingAddrsData = useSelector(state =>\n\t\tselectSpinnerById(state, CHECKING_METAMASK_AUTH)\n\t)\n\n\tuseEffect(() => {\n\t\tconst setEth = async () => {\n\t\t\tconst ethereumProvider = await getEthereumProviderName()\n\t\t\tsetIsMetamaskEthereumProvider(\n\t\t\t\tethereumProvider === AUTH_TYPES.METAMASK.name\n\t\t\t)\n\t\t}\n\n\t\tsetEth()\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (installingMetamask) {\n\t\t\t// Refreshes page after user comes back\n\t\t\t// from installing Metamask\n\t\t\twindow.onfocus = () => {\n\t\t\t\twindow.location.reload()\n\t\t\t\tsetInstallingMetamask(false)\n\t\t\t}\n\t\t}\n\t}, [installingMetamask])\n\n\treturn (\n\t\t<ContentBox className={classes.tabBox}>\n\t\t\t{waitingAddrsData ? (\n\t\t\t\t<TopLoading msg={t('METAMASK_WAITING_ADDR_INFO')} />\n\t\t\t) : null}\n\t\t\t<ContentBody>\n\t\t\t\t<Typography variant='subtitle1'>{t('METAMASK_INFO')}</Typography>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\twidth={1}\n\t\t\t\t>\n\t\t\t\t\t{!isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t{t('METAMASK_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\t\tkey={'metamask-anchor'}\n\t\t\t\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\thttps://metamask.io/\n\t\t\t\t\t\t\t\t\t\t\t</Anchor>,\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\tisOpera\n\t\t\t\t\t\t\t\t\t\t\t? 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n\t\t\t\t\t\t\t\t\t\t\t: 'https://metamask.io/'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\tonClick={() => setInstallingMetamask(true)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tsrc={METAMASK_DL_IMG}\n\t\t\t\t\t\t\t\t\t\talt={'Downlad metamask'}\n\t\t\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={METAMASK_IMG}\n\t\t\t\t\t\t\t\talt={'metamask logo'}\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{address ? (\n\t\t\t\t\t\t<div className={classes.metamaskLAbel}>\n\t\t\t\t\t\t\t{stats ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Typography variant='subtitle1' color='primary'>\n\t\t\t\t\t\t\t\t\t\t{t('METAMASK_CONTINUE_TO_NEXT_STEP')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<AddrItem stats={stats} addr={address} />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tt('AUTH_WITH_METAMASK_LABEL', { args: [address] })\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : isMetamaskEthereumProvider ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => execute(checkAuthMetamask())}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisabled={waitingAddrsData}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('AUTH_CONNECT_WITH_METAMASK')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : null}\n\t\t\t\t</Box>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AuthMetamask\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Anchor from 'components/common/anchor/anchor'\nimport Button from '@material-ui/core/Button'\nimport Box from '@material-ui/core/Box'\nimport Typography from '@material-ui/core/Typography'\nimport { AddressSelect } from './AuthCommon'\nimport {\n\tContentBox,\n\tContentBody,\n\tContentStickyTop,\n\tTopLoading,\n} from 'components/common/dialog/content'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\nimport TREZOR_DL_IMG from 'resources/trezor-logo-h.png'\nimport {\n\tAUTH_WAITING_ADDRESS_DATA,\n\tAUTH_WAITING_TREZOR_ACTION,\n} from 'constants/spinners'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { t, selectIdentity, selectSpinnerById } from 'selectors'\nimport { connectTrezor, execute } from 'actions'\n\nconst useStyles = makeStyles(styles)\n\nfunction AuthTrezor() {\n\tconst classes = useStyles()\n\tconst { wallet = {}, addresses = [], hdWalletAddrPath } = useSelector(\n\t\tselectIdentity\n\t)\n\tconst { address } = wallet\n\n\tconst waitingTrezorAction = useSelector(state =>\n\t\tselectSpinnerById(state, AUTH_WAITING_TREZOR_ACTION)\n\t)\n\n\tconst waitingAddrsData = useSelector(state =>\n\t\tselectSpinnerById(state, AUTH_WAITING_ADDRESS_DATA)\n\t)\n\n\treturn addresses.length ? (\n\t\t<AddressSelect\n\t\t\twaitingAction={waitingTrezorAction}\n\t\t\tactionWaitingLabel={t('TREZOR_WAITING_ACTION')}\n\t\t\tselectLabel={t('SELECT_ADDR_TREZOR')}\n\t\t\taddress={address}\n\t\t\taddresses={addresses}\n\t\t\tsignType={AUTH_TYPES.TREZOR.signType}\n\t\t\tauthType={AUTH_TYPES.TREZOR.name}\n\t\t\thdWalletAddrPath={hdWalletAddrPath}\n\t\t\tclasses={classes}\n\t\t/>\n\t) : (\n\t\t<ContentBox className={classes.tabBox}>\n\t\t\t{waitingAddrsData ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ADDRS_INFO')} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : waitingTrezorAction ? (\n\t\t\t\t<ContentStickyTop>\n\t\t\t\t\t<TopLoading msg={t('TREZOR_WAITING_ACTION')} />\n\t\t\t\t</ContentStickyTop>\n\t\t\t) : null}\n\n\t\t\t<ContentBody>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay='flex'\n\t\t\t\t\tflexDirection='column'\n\t\t\t\t\talignItems='center'\n\t\t\t\t\tjustifyContent='center'\n\t\t\t\t\twidth={1}\n\t\t\t\t>\n\t\t\t\t\t<Typography variant='subtitle1' gutterBottom>\n\t\t\t\t\t\t{t('TREZOR_INFO')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography gutterBottom>\n\t\t\t\t\t\t{t('TREZOR_BASIC_USAGE_INFO', {\n\t\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\tkey='trezor-wallet'\n\t\t\t\t\t\t\t\t\thref='https://trezor.io/'\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tTREZOR Wallet\n\t\t\t\t\t\t\t\t</Anchor>,\n\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\tkey='trezor-bridge'\n\t\t\t\t\t\t\t\t\thref='https://wallet.trezor.io/#/bridge'\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tTREZOR Bridge\n\t\t\t\t\t\t\t\t</Anchor>,\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Box mb={2}>\n\t\t\t\t\t\t<Anchor href='https://trezor.io' target='_blank'>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={TREZOR_DL_IMG}\n\t\t\t\t\t\t\t\talt={'https://trezor.io'}\n\t\t\t\t\t\t\t\tclassName={classes.dlBtnImg}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{!waitingAddrsData && !waitingTrezorAction && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => execute(connectTrezor())}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('CONNECT_WITH_TREZOR')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t</ContentBody>\n\t\t</ContentBox>\n\t)\n}\n\nexport default AuthTrezor\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport { selectLocationQuery } from 'selectors'\nimport AuthMetamask from './AuthMetamask'\nimport AuthTrezor from './AuthTrezor'\n\nconst useStyles = makeStyles(theme => {\n\tconst spacing = theme.spacing(1)\n\n\treturn {\n\t\ttabsContainer: {\n\t\t\tdisplay: 'flex',\n\t\t\tflexGrow: 1,\n\t\t\toverflowY: 'auto',\n\t\t\tposition: 'relative',\n\t\t\tmargin: spacing,\n\t\t},\n\t}\n})\n\nfunction AuthMethod(props) {\n\tconst classes = useStyles()\n\tconst query = useSelector(selectLocationQuery)\n\tconst method = query['external']\n\n\treturn (\n\t\t<Grid container spacing={2} direction='row' alignContent='flex-start'>\n\t\t\t<Grid item xs={12} className={classes.tabsContainer}>\n\t\t\t\t{method === 'metamask' && <AuthMetamask {...props} />}\n\t\t\t\t{method === 'trezor' && <AuthTrezor {...props} />}\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default AuthMethod\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport Anchor from 'components/common/anchor/anchor'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport Dropdown from 'components/common/dropdown'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n\tselectKnowUsFromSource,\n} from 'selectors'\nimport { execute, updateIdentity } from 'actions'\n\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst knowFromSource = selectKnowUsFromSource()\n\nconst QuickInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\tconst spinner = useSelector(state => selectSpinnerById(state, validateId))\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\tsessionSpinner ? { message: 'CREATING_SESSION_LOCAL_WALLET' } : {},\n\t]\n\n\t// Errors\n\tconst {\n\t\temail,\n\t\temailCheck,\n\t\tpassword,\n\t\tpasswordCheck,\n\t\ttosCheck,\n\t\tknowFrom,\n\t\tmoreInfo,\n\t} = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner || sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={password && !!password.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpassword && !!password.dirty\n\t\t\t\t\t\t\t\t\t\t? password.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('passwordCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='passwordCheck'\n\t\t\t\t\t\t\t\tvalue={identity.passwordCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('passwordCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={passwordCheck && !!passwordCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tpasswordCheck && !!passwordCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? passwordCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('PASSWORD_CHECK_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tname='knowFrom'\n\t\t\t\t\t\t\t\tlabel={t('knowFrom', { isProp: true })}\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('knowFrom', val))}\n\t\t\t\t\t\t\t\tsource={knowFromSource}\n\t\t\t\t\t\t\t\tvalue={identity.knowFrom || ''}\n\t\t\t\t\t\t\t\thtmlId='timeframe-select'\n\t\t\t\t\t\t\t\terror={knowFrom && !!knowFrom.dirty}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tknowFrom && !!knowFrom.dirty\n\t\t\t\t\t\t\t\t\t\t? knowFrom.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('KNOW_FROM_CHECK_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{(identity.knowFrom === 'event' ||\n\t\t\t\t\t\t\tidentity.knowFrom === 'other') && (\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tlabel={t('moreInfo', { isProp: true })}\n\t\t\t\t\t\t\t\t\tname='moreInfo'\n\t\t\t\t\t\t\t\t\tvalue={identity.moreInfo || ''}\n\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('moreInfo', ev.target.value))\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={moreInfo && !!moreInfo.dirty}\n\t\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\tmoreInfo && !!moreInfo.dirty\n\t\t\t\t\t\t\t\t\t\t\t? moreInfo.errMsg\n\t\t\t\t\t\t\t\t\t\t\t: t('MORE_INFO_CHECK_RULES')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl from '@material-ui/core/FormControl'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n\tselectKnowUsFromSource,\n} from 'selectors'\nimport Anchor from 'components/common/anchor/anchor'\nimport { execute, updateIdentity } from 'actions'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport Dropdown from 'components/common/dropdown'\nimport { CREATING_SESSION } from 'constants/spinners'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst knowFromSource = selectKnowUsFromSource()\n\nconst FulInfo = props => {\n\tconst { validateId } = props\n\tconst identity = useSelector(selectIdentity)\n\tconst { wallet = {} } = identity\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletAddress = (identity.wallet || {}).address || identity.walletAddr\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\t// Errors\n\tconst {\n\t\temail,\n\t\temailCheck,\n\t\ttosCheck,\n\t\taccessWarningCheck,\n\t\tknowFrom,\n\t\tmoreInfo,\n\t} = validations\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t{walletAddress}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={email && !!email.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temail && !!email.dirty ? email.errMsg : t('ENTER_VALID_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tlabel={t('emailCheck', { isProp: true })}\n\t\t\t\t\t\t\t\tname='emailCheck'\n\t\t\t\t\t\t\t\tvalue={identity.emailCheck || ''}\n\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\texecute(updateIdentity('emailCheck', ev.target.value))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\terror={emailCheck && !!emailCheck.dirty}\n\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\temailCheck && !!emailCheck.dirty\n\t\t\t\t\t\t\t\t\t\t? emailCheck.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('ENTER_SAME_EMAIL')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\tname='knowFrom'\n\t\t\t\t\t\t\t\tlabel={t('knowFrom', { isProp: true })}\n\t\t\t\t\t\t\t\tonChange={val => execute(updateIdentity('knowFrom', val))}\n\t\t\t\t\t\t\t\tsource={knowFromSource}\n\t\t\t\t\t\t\t\tvalue={identity.knowFrom || ''}\n\t\t\t\t\t\t\t\thtmlId='timeframe-select'\n\t\t\t\t\t\t\t\terror={knowFrom && !!knowFrom.dirty}\n\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\tknowFrom && !!knowFrom.dirty\n\t\t\t\t\t\t\t\t\t\t? knowFrom.errMsg\n\t\t\t\t\t\t\t\t\t\t: t('KNOW_FROM_CHECK_RULES')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{(identity.knowFrom === 'event' ||\n\t\t\t\t\t\t\tidentity.knowFrom === 'other') && (\n\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\tlabel={t('moreInfo', { isProp: true })}\n\t\t\t\t\t\t\t\t\tname='moreInfo'\n\t\t\t\t\t\t\t\t\tvalue={identity.moreInfo || ''}\n\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('moreInfo', ev.target.value))\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\terror={moreInfo && !!moreInfo.dirty}\n\t\t\t\t\t\t\t\t\tmaxLength={128}\n\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\tmoreInfo && !!moreInfo.dirty\n\t\t\t\t\t\t\t\t\t\t\t? moreInfo.errMsg\n\t\t\t\t\t\t\t\t\t\t\t: t('MORE_INFO_CHECK_RULES')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={accessWarningCheck && accessWarningCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.accessWarningCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdateIdentity(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'accessWarningCheck',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tev.target.checked\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='accessWarningCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={t('ACCESS_WARNING_FULL_CHECK', {\n\t\t\t\t\t\t\t\t\t\targs: [wallet.authType],\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{accessWarningCheck && !!accessWarningCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{accessWarningCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\terror={tosCheck && tosCheck.dirty}\n\t\t\t\t\t\t\t\tcomponent='fieldset'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tchecked={!!identity.tosCheck}\n\t\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('tosCheck', ev.target.checked))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tvalue='tosCheck'\n\t\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\t\thref={`${process.env.ADEX_TOS_URL}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{tosCheck && !!tosCheck.dirty && (\n\t\t\t\t\t\t\t\t\t<FormHelperText>{tosCheck.errMsg}</FormHelperText>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FulInfo\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { execute, updateIdentity } from 'actions'\nimport {\n\tt,\n\tselectIdentity,\n\tselectValidationsById,\n\tselectSpinnerById,\n} from 'selectors'\nimport { CREATING_SESSION } from 'constants/spinners'\n\nconst QuickLogin = props => {\n\tconst { validateId } = props\n\n\tconst identity = useSelector(selectIdentity)\n\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\tconst walletMsgs = [\n\t\t{ message: 'PROCESSING_LOCAL_WALLET' },\n\t\t{ message: 'CREATING_SESSION_LOCAL_WALLET' },\n\t]\n\n\tconst validations = useSelector(\n\t\tstate => selectValidationsById(state, validateId) || {}\n\t)\n\n\tconst { wallet } = validations\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{spinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('QUICK_LOGIN_INFO', { args: [identity.email] })}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tdisabled={!!identity.authType}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('email', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.email || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('email', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tlabel={t('password', { isProp: true })}\n\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\tvalue={identity.password || ''}\n\t\t\t\t\t\t\t\t\t\tonChange={ev =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('password', ev.target.value))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{wallet && !!wallet.dirty && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='error' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t{wallet.errMsg}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t{!!identity.walletAddr && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t\t\t{t('QUICK_IDENTITY_ADDRESS', {\n\t\t\t\t\t\t\t\t\t\t\t\t\targs: [identity.identityAddr],\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default QuickLogin\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport Button from '@material-ui/core/Button'\nimport { push } from 'connected-react-router'\nimport Typography from '@material-ui/core/Typography'\nimport { execute, updateIdentity, updateOwnerIdentities } from 'actions'\nimport {\n\tselectSpinnerById,\n\tselectIdentity,\n\tt,\n\tselectSearchParams,\n\tselectRegistrationAllowed,\n} from 'selectors'\nimport Dropdown from 'components/common/dropdown'\nimport { GETTING_OWNER_IDENTITIES, CREATING_SESSION } from 'constants/spinners'\nimport {\n\tContentBox,\n\tContentBody,\n\tFullContentMessage,\n} from 'components/common/dialog/content'\nimport { WALLET_ACTIONS_MSGS } from 'constants/misc'\n\nconst getIdentitiesForDropdown = (ownerIdentities = []) =>\n\townerIdentities.map(id => {\n\t\treturn {\n\t\t\tvalue: id.identity + '-' + id.privLevel,\n\t\t\tlabel: id.ens\n\t\t\t\t? t('IDENTITY_OPTION_DATA_ENS', {\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.ens, id.identity],\n\t\t\t\t  })\n\t\t\t\t: t('IDENTITY_OPTION_DATA', {\n\t\t\t\t\t\targs: [`PRIV_${id.privLevel}_LABEL`, id.identity],\n\t\t\t\t  }),\n\t\t}\n\t})\n\nfunction FullLogin(props) {\n\tconst identity = useSelector(selectIdentity)\n\tconst {\n\t\twalletAddr,\n\t\twallet = {},\n\t\townerIdentities,\n\t\tidentityContractAddress,\n\t} = identity\n\tconst walletAddress = wallet.address || walletAddr\n\tconst spinner = useSelector(state =>\n\t\tselectSpinnerById(state, GETTING_OWNER_IDENTITIES)\n\t)\n\tconst sessionSpinner = useSelector(state =>\n\t\tselectSpinnerById(state, CREATING_SESSION)\n\t)\n\n\tconst walletMsgs = WALLET_ACTIONS_MSGS[wallet.authType || 'default']\n\n\tconst searchParams = useSelector(selectSearchParams)\n\tsearchParams.set('step', '1')\n\n\tconst search = searchParams.toString()\n\n\tconst showRegistration = useSelector(selectRegistrationAllowed)\n\n\tuseEffect(() => {\n\t\texecute(updateOwnerIdentities({ owner: walletAddress }))\n\t\t// We need it just once on mount\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\treturn (\n\t\t<ContentBox>\n\t\t\t{sessionSpinner ? (\n\t\t\t\t<FullContentMessage\n\t\t\t\t\tmsgs={walletMsgs}\n\t\t\t\t\tspinner={true}\n\t\t\t\t></FullContentMessage>\n\t\t\t) : (\n\t\t\t\t<ContentBody>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t// direction='row'\n\t\t\t\t\t\talignContent='space-between'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography variant='body2' color='primary' gutterBottom>\n\t\t\t\t\t\t\t\t\t\t{t('FULL_LOGIN_INFO')}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Dropdown\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\t\t\t\tlabel={t('SELECT_IDENTITY')}\n\t\t\t\t\t\t\t\t\t\thelperText={t('SELECT_IDENTITY_INFO')}\n\t\t\t\t\t\t\t\t\t\tonChange={val =>\n\t\t\t\t\t\t\t\t\t\t\texecute(updateIdentity('identityContractAddress', val))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsource={getIdentitiesForDropdown(ownerIdentities)}\n\t\t\t\t\t\t\t\t\t\tvalue={identityContractAddress || ''}\n\t\t\t\t\t\t\t\t\t\thtmlId='label-identityContractAddress'\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tloading={!!spinner}\n\t\t\t\t\t\t\t\t\t\tnoSrcLabel={t('NO_IDENTITIES_FOR_ADDR', {\n\t\t\t\t\t\t\t\t\t\t\targs: [walletAddress],\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t{showRegistration && (\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => execute(push(`/signup/full?${search}`))}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{t('CREATE_NEW_IDENTITY_LINK')}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</ContentBody>\n\t\t\t)}\n\t\t</ContentBox>\n\t)\n}\n\nexport default FullLogin\n","import React from 'react'\nimport AuthMethod from './ownerAuth/AuthMethod'\nimport QuickInfo from './QuickInfo'\nimport FullInfo from './FullInfo'\nimport QuickLogin from './QuickLogin'\nimport FullLogin from './FullLogin'\nimport FormSteps from 'components/common/stepper/FormSteps'\nimport { push } from 'connected-react-router'\n\nimport {\n\texecute,\n\tvalidateQuickLogin,\n\tvalidateStandardLogin,\n\tvalidateQuickInfo,\n\tvalidateFullInfo,\n\tvalidateContractOwner,\n\tresetIdentity,\n} from 'actions'\n\nconst cancelFunction = () => {\n\texecute(resetIdentity())\n\texecute(push('/'))\n}\n\nconst finalValidationQuick = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateQuickLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst finalValidationStandard = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateStandardLogin({ validateId, dirty, onValid, onInvalid }))\n\nconst validateOwner = ({ validateId, dirty, onValid, onInvalid }) =>\n\texecute(validateContractOwner({ validateId, dirty, onValid, onInvalid }))\n\nconst common = {\n\tcancelFunction,\n\tvalidateIdBase: 'identity-',\n}\n\nexport const LoginStandardIdentity = props => {\n\treturn (\n\t\t<FormSteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-login'\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tcomponent: AuthMethod,\n\t\t\t\t\tvalidationFn: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'CONNECT_STANDARD_IDENTITY',\n\t\t\t\t\tcomponent: FullLogin,\n\t\t\t\t\tvalidationFn: finalValidationStandard,\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateStandardIdentity = props => {\n\treturn (\n\t\t<FormSteps\n\t\t\t{...props}\n\t\t\t{...common}\n\t\t\tstepsId='full-identity-create'\n\t\t\tsteps={[\n\t\t\t\t{\n\t\t\t\t\ttitle: 'SET_IDENTITY_OWNER_ADDRESS',\n\t\t\t\t\tcomponent: AuthMethod,\n\t\t\t\t\tvalidationFn: validateOwner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: 'FULL_INFO',\n\t\t\t\t\tcomponent: FullInfo,\n\t\t\t\t\tvalidationFn: ({ validateId, dirty }) =>\n\t\t\t\t\t\texecute(validateFullInfo({ validateId, dirty })),\n\t\t\t\t\tfinal: true,\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t)\n}\n\nexport const CreateQuickIdentity = props => (\n\t<FormSteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-create'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_INFO',\n\t\t\t\tcomponent: QuickInfo,\n\t\t\t\tvalidationFn: ({ validateId, dirty }) =>\n\t\t\t\t\texecute(validateQuickInfo({ validateId, dirty })),\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const LoginQuickIdentity = props => (\n\t<FormSteps\n\t\t{...props}\n\t\t{...common}\n\t\tstepsId='quick-identity-login'\n\t\tsteps={[\n\t\t\t{\n\t\t\t\ttitle: 'QUICK_LOGIN',\n\t\t\t\tcomponent: QuickLogin,\n\t\t\t\tvalidationFn: finalValidationQuick,\n\t\t\t\tfinal: true,\n\t\t\t},\n\t\t]}\n\t/>\n)\n\nexport const DemoIdentity = props => (\n\t<FormSteps {...props} {...common} steps={[]} />\n)\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M86.891,94.026 C86.593,95.583 84.640,96.840 83.475,97.808 C81.232,99.674 79.396,104.487 76.012,102.152 C71.905,99.319 69.555,102.487 66.477,103.167 C65.253,103.437 64.708,104.537 64.674,105.797 C64.598,108.535 62.881,109.216 60.527,109.179 C58.468,109.146 56.408,109.135 54.350,109.186 C51.427,109.259 48.991,108.824 49.175,105.026 C49.228,103.939 48.418,103.481 47.510,103.115 C45.715,102.391 43.911,101.676 42.179,100.820 C41.019,100.246 40.260,100.626 39.450,101.415 C37.489,103.324 35.656,102.985 33.877,101.081 C32.562,99.672 31.247,98.242 29.781,97.000 C28.673,96.060 27.835,95.091 27.494,94.069 C22.614,94.095 8.911,94.275 6.707,93.925 C3.748,93.456 1.658,91.566 1.080,88.468 C0.825,87.103 0.798,85.681 0.797,84.285 C0.781,59.822 0.775,35.358 0.792,10.895 C0.798,2.714 2.728,0.818 10.992,0.815 C41.709,0.804 72.426,0.803 103.143,0.810 C111.421,0.811 113.281,2.678 113.282,10.917 C113.286,35.508 113.296,60.100 113.278,84.691 C114.298,96.459 103.016,94.247 86.891,94.026 ZM32.262,90.401 C32.137,90.710 31.934,91.031 31.678,91.234 C31.113,91.681 30.794,92.097 30.633,92.495 C30.633,92.530 30.645,92.550 30.644,92.586 C30.634,92.838 30.591,93.042 30.529,93.219 C30.611,93.939 31.215,94.614 32.059,95.310 C33.105,96.173 33.981,97.243 34.919,98.234 C36.052,99.431 37.092,100.165 38.566,98.516 C39.445,97.532 40.766,97.446 42.072,97.985 C44.590,99.022 47.138,99.984 49.658,101.015 C51.169,101.634 52.013,102.737 52.003,104.443 C51.996,105.569 52.310,106.492 53.719,106.485 C55.893,106.474 58.068,106.460 60.241,106.503 C61.258,106.523 61.545,106.009 61.798,105.108 C62.667,102.013 70.839,97.030 73.935,97.791 C75.078,98.073 76.074,98.952 77.889,99.986 C78.633,99.034 79.392,97.750 80.443,96.785 C82.384,95.001 84.959,93.598 82.071,90.514 C81.378,89.775 81.775,88.502 82.125,87.530 C82.778,85.719 83.468,83.916 84.250,82.157 C85.214,79.987 85.955,77.503 89.141,77.752 C89.588,77.787 90.209,77.693 90.229,77.167 C90.328,74.547 90.472,71.917 90.337,69.304 C90.239,67.417 88.403,68.135 87.335,67.811 C85.508,67.257 85.101,65.621 84.399,64.248 C83.727,62.936 83.324,61.488 82.754,60.121 C81.854,57.962 80.961,55.844 83.149,53.862 C83.657,53.402 84.043,52.699 83.400,52.055 C81.627,50.278 79.951,48.358 77.967,46.848 C76.304,45.583 75.545,47.974 74.218,48.329 C73.894,48.416 73.443,48.642 73.250,48.511 C69.388,45.887 62.832,47.162 61.695,40.563 C61.629,40.182 61.207,39.572 60.933,39.563 C58.421,39.475 55.889,39.322 53.394,39.543 C51.417,39.719 52.313,41.752 51.753,42.873 C51.500,43.379 51.229,44.209 50.861,44.272 C46.430,45.025 42.940,50.944 37.592,46.743 C37.363,46.563 36.871,46.484 36.619,46.605 C34.194,47.762 32.733,50.027 30.922,51.851 C29.518,53.265 31.386,54.163 32.114,55.221 C32.740,56.129 32.572,57.207 32.159,58.186 C31.232,60.386 30.206,62.545 29.330,64.764 C28.613,66.579 27.641,67.955 25.475,67.997 C23.775,68.031 23.442,69.165 23.451,70.566 C23.461,72.167 23.468,73.769 23.458,75.371 C23.449,76.778 23.790,77.605 25.506,77.863 C28.500,78.312 33.382,87.639 32.262,90.401 ZM102.610,3.886 C73.555,3.885 44.500,3.884 15.445,3.887 C3.678,3.889 3.796,3.894 3.780,15.603 C3.775,19.207 4.855,20.474 8.576,20.435 C24.758,20.263 40.944,20.361 57.128,20.360 C71.910,20.360 86.693,20.364 101.475,20.359 C110.248,20.357 110.248,20.351 110.245,11.460 C110.243,4.471 109.656,3.887 102.610,3.886 ZM106.486,23.180 C90.044,23.224 73.602,23.204 57.160,23.203 C40.718,23.202 24.275,23.279 7.834,23.133 C4.785,23.106 3.799,24.074 3.811,27.029 C3.887,46.396 3.819,65.764 3.880,85.131 C3.895,89.813 5.146,90.889 9.871,90.953 C11.237,90.971 24.236,90.982 28.073,90.998 C28.283,90.705 28.536,90.407 28.845,90.103 C30.255,88.717 28.918,87.726 28.517,86.769 C27.370,84.030 26.982,81.288 22.883,80.103 C18.463,78.826 21.133,73.722 20.582,70.327 C20.253,68.306 20.746,65.689 22.839,65.567 C28.461,65.239 27.481,60.268 29.330,57.322 C29.655,56.805 29.205,56.231 28.797,55.809 C26.149,53.076 27.478,50.959 29.784,48.899 C31.138,47.691 32.339,46.314 33.636,45.041 C35.392,43.317 37.165,42.030 39.403,44.474 C40.126,45.264 41.188,45.438 42.243,44.887 C45.091,43.399 49.479,43.919 49.506,38.777 C49.512,37.582 51.195,36.509 52.964,36.583 C55.476,36.689 57.999,36.687 60.511,36.579 C63.013,36.472 64.248,37.537 64.706,40.013 C65.351,43.495 72.159,46.174 75.053,44.089 C76.439,43.091 77.650,42.578 78.992,43.856 C81.387,46.136 83.744,48.457 86.046,50.830 C86.485,51.282 86.593,52.056 86.859,52.693 C86.711,53.170 86.705,53.728 86.423,54.014 C82.817,57.673 86.542,60.632 87.375,63.837 C87.651,64.899 88.583,65.405 89.788,65.315 C92.411,65.117 93.136,66.788 93.193,68.975 C93.248,71.032 93.162,73.093 93.229,75.149 C93.325,78.106 93.222,80.812 89.122,80.679 C88.080,80.645 87.434,81.586 87.205,82.413 C86.426,85.236 83.898,87.698 85.659,91.003 C88.793,90.966 103.593,91.006 105.406,90.947 C108.603,90.843 110.270,89.341 110.263,85.955 C110.216,66.078 110.183,46.200 110.300,26.324 C110.318,23.239 108.749,23.174 106.486,23.180 ZM29.773,14.357 C28.417,14.194 27.457,13.770 27.473,12.270 C27.489,10.806 28.094,9.665 29.606,9.652 C30.990,9.641 31.944,10.550 32.068,12.041 C32.212,13.773 30.960,14.098 29.773,14.357 ZM21.115,14.302 C19.829,14.330 18.512,14.014 18.482,12.266 C18.455,10.747 19.375,9.812 20.720,9.656 C22.272,9.476 22.930,10.608 23.072,12.024 C23.198,13.465 22.410,14.273 21.115,14.302 ZM11.778,14.322 C10.595,14.199 9.463,13.513 9.544,12.215 C9.635,10.753 10.657,9.652 12.192,9.641 C13.747,9.631 14.083,10.981 14.344,12.066 C14.151,13.747 13.213,14.472 11.778,14.322 ZM57.002,55.432 C66.449,55.272 74.393,63.383 74.417,72.914 C74.440,82.540 66.723,90.298 57.086,90.336 C47.279,90.375 39.942,82.875 39.751,72.950 C39.551,62.532 48.194,55.580 57.002,55.432 ZM70.496,77.650 C70.905,76.512 71.827,74.963 69.847,74.639 C68.184,74.366 65.588,73.529 65.376,76.458 C65.160,79.436 63.743,81.984 62.811,85.765 C67.105,83.891 69.230,81.173 70.496,77.650 ZM65.489,70.106 C65.829,72.353 68.212,71.155 69.696,71.309 C70.870,71.432 71.276,70.540 70.953,69.544 C69.658,65.542 67.641,62.122 62.778,60.190 C63.680,63.912 65.003,66.892 65.489,70.106 ZM52.759,80.331 C52.801,80.450 52.853,80.567 52.914,80.677 C54.194,82.970 53.818,87.226 57.140,87.029 C59.949,86.862 60.313,83.038 61.170,80.458 C63.097,74.652 62.986,74.457 57.053,74.457 C50.997,74.457 50.792,74.738 52.759,80.331 ZM53.717,71.375 C54.731,71.349 55.745,71.370 56.759,71.365 C57.900,71.365 59.042,71.328 60.181,71.374 C61.939,71.444 62.485,70.510 62.081,68.986 C61.308,66.068 60.760,63.074 59.191,60.412 C57.594,57.703 55.999,58.304 54.769,60.553 C53.314,63.213 52.433,66.134 51.727,69.092 C51.321,70.798 52.118,71.415 53.717,71.375 ZM51.300,85.233 C50.576,83.414 49.943,82.161 49.588,80.834 C49.229,79.493 49.165,78.075 48.934,76.697 C48.515,74.184 46.605,74.421 44.804,74.516 C43.579,74.580 43.031,75.146 43.140,76.485 C43.406,79.737 47.159,84.094 51.300,85.233 ZM45.348,71.399 C46.892,71.311 48.150,71.611 48.574,70.059 C49.305,67.379 49.504,64.589 50.595,61.962 C51.056,60.852 50.092,60.538 49.000,61.222 C46.305,62.910 44.662,65.390 43.490,68.245 C42.562,70.509 43.157,71.698 45.348,71.399 Z' />\n\t</g>,\n\n\t'AdexPublisher',\n\t'0 0 114 110'\n)\n","import React from 'react'\nimport createSvgIconCustom from './createSvgIconCustom'\n\nexport default createSvgIconCustom(\n\t<g>\n\t\t<path d='M106.734,40.051 C105.039,40.089 103.342,40.061 101.646,40.059 C100.192,40.057 98.737,40.038 97.284,40.063 C96.153,40.083 95.774,39.347 95.784,38.444 C95.793,37.622 96.397,37.178 97.235,37.176 C100.386,37.167 103.536,37.161 106.686,37.175 C107.497,37.179 108.234,37.651 108.275,38.380 C108.325,39.250 107.777,40.028 106.734,40.051 ZM98.119,19.072 C97.536,19.630 96.934,20.404 95.998,19.549 C95.197,18.818 95.313,17.971 95.943,17.303 C98.242,14.867 100.591,12.477 102.976,10.124 C103.238,9.865 103.999,9.751 104.266,9.941 C104.704,10.251 104.927,10.865 105.237,11.345 C104.895,11.981 104.713,12.613 104.307,13.024 C102.279,15.074 100.204,17.078 98.119,19.072 ZM96.759,57.341 C97.886,57.190 105.012,64.344 105.054,65.796 C104.895,67.197 103.734,67.365 102.820,66.551 C100.393,64.390 98.088,62.076 95.898,59.674 C95.075,58.772 95.138,57.558 96.759,57.341 ZM81.020,51.185 C78.929,52.359 78.158,53.675 78.228,56.059 C78.404,62.022 78.286,67.993 78.298,73.962 C78.300,75.076 78.366,76.240 77.208,76.852 C75.795,77.600 75.267,76.151 74.584,75.512 C64.533,66.099 52.013,61.626 39.210,57.699 C39.094,57.664 38.971,57.645 38.850,57.636 C36.403,57.463 33.106,54.526 31.961,56.530 C30.593,58.923 31.832,62.735 33.116,65.558 C35.268,70.290 37.873,74.821 40.410,79.370 C42.114,82.427 43.106,85.589 42.671,89.105 C42.307,92.055 40.717,93.796 37.645,93.819 C32.649,93.855 27.649,93.930 22.659,93.751 C19.758,93.647 17.751,92.155 16.850,89.142 C13.795,78.918 10.606,68.735 7.471,58.535 C6.825,56.434 6.097,54.544 4.003,53.222 C1.691,51.761 1.044,49.161 1.029,46.506 C0.998,41.147 0.907,35.784 1.058,30.430 C1.215,24.841 4.155,22.064 9.829,21.939 C13.726,21.853 17.631,22.040 21.525,21.895 C41.631,21.143 59.881,15.561 74.760,1.279 C75.417,0.649 76.137,-0.190 77.296,0.369 C78.412,0.907 78.284,1.916 78.283,2.885 C78.281,6.173 78.282,9.462 78.285,12.750 C78.288,13.968 78.338,15.189 78.279,16.404 C78.061,20.885 78.389,24.327 83.056,27.522 C91.119,33.043 89.569,46.383 81.020,51.185 ZM36.700,78.405 C36.637,78.413 36.582,78.442 36.517,78.442 L16.485,78.442 C16.853,79.579 17.208,80.719 17.591,81.850 C17.663,82.063 17.718,82.242 17.785,82.445 L36.406,82.445 C37.599,81.377 37.779,79.511 36.700,78.405 ZM29.907,90.826 C32.339,90.826 34.771,90.792 37.202,90.837 C39.171,90.873 39.652,89.628 39.763,88.032 C39.878,86.383 39.063,85.869 37.986,85.629 L18.775,85.629 C20.507,91.531 20.105,90.813 29.907,90.826 ZM28.025,26.177 C27.523,24.656 26.356,24.809 25.057,24.810 C20.065,24.813 15.072,24.771 10.080,24.822 C5.857,24.865 3.908,26.853 3.866,31.145 C3.818,36.134 3.812,41.125 3.867,46.115 C3.907,49.829 5.920,52.140 9.596,52.266 C14.948,52.449 20.310,52.314 25.667,52.335 C27.330,52.342 28.088,51.626 28.039,49.903 C27.964,47.228 27.984,29.451 28.043,26.775 C28.047,26.589 28.036,26.384 28.025,26.177 ZM29.430,63.402 C29.022,61.630 28.552,59.841 28.439,58.038 C28.302,55.837 27.332,55.211 25.212,55.301 C21.450,55.460 17.676,55.342 13.906,55.349 C9.696,55.358 9.513,55.567 10.746,59.650 C11.337,61.607 11.920,63.566 12.503,65.525 L28.885,65.525 C29.615,65.125 29.658,64.389 29.430,63.402 ZM13.456,68.709 C14.110,70.895 14.772,73.080 15.452,75.258 L34.556,75.258 C34.656,75.148 33.101,72.367 32.952,72.040 C32.307,70.624 31.712,69.166 30.314,68.709 L13.456,68.709 ZM75.279,9.722 C75.278,8.668 75.583,7.527 74.563,6.282 C70.844,8.844 67.328,11.749 63.288,13.846 C54.399,18.459 44.999,21.574 35.229,23.680 C33.563,24.040 31.705,24.121 30.873,26.034 C30.869,26.335 30.855,26.635 30.861,26.906 C30.921,29.582 30.938,47.359 30.871,50.034 C30.827,51.783 31.574,52.948 33.257,53.136 C36.441,53.492 39.376,54.704 42.379,55.626 C52.818,58.831 62.909,62.857 71.900,69.223 C72.773,69.841 73.559,71.214 74.582,70.744 C75.847,70.163 75.268,68.563 75.270,67.414 C75.303,48.183 75.300,28.953 75.279,9.722 ZM80.617,29.153 C80.049,28.784 79.506,27.986 78.728,28.480 C78.023,28.928 78.311,29.798 78.303,30.488 C78.274,33.151 78.292,35.814 78.294,38.478 C78.294,41.383 78.301,44.289 78.291,47.194 C78.286,48.605 78.612,49.326 80.173,48.403 C86.657,44.571 86.938,33.261 80.617,29.153 Z' />\n\t</g>,\n\t'AdexAdvertiser',\n\t'0 0 109 94'\n)\n","import React, { Component } from 'react'\nimport PublisherLogo from 'components/common/icons/AdexPublisher'\nimport AdvertiserLogo from 'components/common/icons/AdexAdvertiser'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport { withReactRouterLink } from 'components/common/rr_hoc/RRHoc.js'\nimport Translate from 'components/translate/Translate'\nimport classnames from 'classnames'\nimport { withStyles } from '@material-ui/core/styles'\nimport { styles } from './styles'\n\nconst SideBox = ({\n\tsalePoints = [],\n\tlinkTitle,\n\ticon,\n\ttitle,\n\tdisabled,\n\tclasses,\n\t...other\n}) => (\n\t<div\n\t\t{...other}\n\t\tclassName={classnames(classes.sideBox, { [classes.disabled]: disabled })}\n\t>\n\t\t<div className={classes.icon}>{icon}</div>\n\t\t<h2>{title}</h2>\n\t\t<ul className={classes.salePoints}>\n\t\t\t{salePoints.map(function(point, key) {\n\t\t\t\treturn <li key={key}> {point} </li>\n\t\t\t})}\n\t\t</ul>\n\t</div>\n)\n\nconst RRSideBox = withReactRouterLink(SideBox)\n\nclass SideSelect extends Component {\n\trender() {\n\t\tlet { t, classes } = this.props\n\t\treturn (\n\t\t\t<Dialog\n\t\t\t\topen={true}\n\t\t\t\tclasses={{ paper: classes.dialogPaper }}\n\t\t\t\tBackdropProps={{\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\troot: classes.backdrop,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tfullWidth\n\t\t\t\tmaxWidth='sm'\n\t\t\t>\n\t\t\t\t<DialogTitle>{t('CHOOSE_SIDE')}</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('ADVERTISER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<AdvertiserLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_ADV_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/advertiser'\n\t\t\t\t\t\tlinkTitle={t('GO_ADVERTISER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\n\t\t\t\t\t<RRSideBox\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\ttitle={t('PUBLISHER')}\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<PublisherLogo\n\t\t\t\t\t\t\t\tstyle={{ width: 110, height: 110 }}\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsalePoints={[\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_1'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_2'),\n\t\t\t\t\t\t\tt('SALE_POINT_PUB_3'),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tto='/dashboard/publisher'\n\t\t\t\t\t\tlinkTitle={t('GO_PUBLISHER')}\n\t\t\t\t\t\t// disabled\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n}\n\nexport default Translate(withStyles(styles)(SideSelect))\n","export const styles = () => {\n\treturn {\n\t\tbackdrop: {\n\t\t\tbackgroundColor: 'rgba(255, 255, 255, 0.5)',\n\t\t},\n\t\tsideBox: {\n\t\t\tdisplay: 'inline-block',\n\t\t\twidth: '50%',\n\t\t\theight: 'auto',\n\t\t\ttextAlign: 'center',\n\t\t\tverticalAlign: 'top',\n\t\t\topacity: 0.7,\n\t\t\t'&:hover:not(.disabled)': {\n\t\t\t\tcursor: 'pointer',\n\t\t\t\topacity: 1,\n\t\t\t},\n\t\t\t'&.disabled': {\n\t\t\t\topacity: 0.3,\n\t\t\t},\n\t\t\t'@media(max-width:425px)': {\n\t\t\t\twidth: '100%',\n\t\t\t},\n\t\t},\n\t\ticon: {\n\t\t\twidth: 110,\n\t\t\theight: 110,\n\t\t\tmargin: 'auto',\n\t\t},\n\t\tsalePoints: {\n\t\t\tpadding: 0,\n\t\t\t'& li': {\n\t\t\t\tdisplay: 'block',\n\t\t\t\tlistStyle: 'none',\n\t\t\t},\n\t\t},\n\t}\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Box from '@material-ui/core/Box'\nimport Logo from 'components/common/icons/AdexIconTxt'\nimport Typography from '@material-ui/core/Typography'\nimport Anchor from 'components/common/anchor/anchor'\nimport SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP from 'resources/eddie/eddie-14.png'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\ttextAlign: 'center',\n\t},\n\tvitalik: {\n\t\tbackgroundImage: `url(${SNT_VITALIK_BUTERIN_RIDES_EDDIE_WHILE_PUMPING_IT_UP})`,\n\t\tbackgroundPosition: 'center',\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundSize: 'contain',\n\t},\n\tcontainer: {\n\t\tmaxWidth: theme.breakpoints.values.md,\n\t\tmargin: 'auto',\n\t},\n\tlogo: {\n\t\theight: '5rem',\n\t\twidth: '100%',\n\t},\n}))\n\nexport default function Home({ t, ...rest }) {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box\n\t\t\twidth={1}\n\t\t\theight={1}\n\t\t\tclassName={classes.root}\n\t\t\tdisplay='flex'\n\t\t\tflexDirection='column'\n\t\t\talignItems='center'\n\t\t\tjustifyContent='center'\n\t\t>\n\t\t\t<Box\n\t\t\t\tclassName={classes.container}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='row'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='space-evenly'\n\t\t\t\tflexWrap='wrap'\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_ADEX_HOME')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/publishers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_PUBLISHERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tclassName={classes.adxLink}\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\thref='https://www.adex.network/for-advertisers'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('LINK_BENEFITS_FOR_ADVERTISERS')}\n\t\t\t\t\t</Anchor>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box\n\t\t\t\tflexGrow={1}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='column'\n\t\t\t\talignItems='center'\n\t\t\t\tjustifyContent='center'\n\t\t\t\tmaxWidth='md'\n\t\t\t\tclassName={classes.container}\n\t\t\t>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Logo className={classes.logo} />\n\t\t\t\t</Box>\n\n\t\t\t\t{/* <Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={1}>\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_1')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_2')}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Typography variant='body1' gutterBottom>\n\t\t\t\t\t\t{t('FUTURE_OF_THE_ADS_INFO_3')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h2' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightNormal' m={1}>\n\t\t\t\t\t\t\t{t('HOME_TITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<Typography variant='h3' gutterBottom>\n\t\t\t\t\t\t<Box fontWeight='fontWeightLight' m={1}>\n\t\t\t\t\t\t\t{t('HOME_SUBTITLE')}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t{/* <Box p={1}>\n\t\t\t\t\t<Typography variant='h6' component='h6' gutterBottom>\n\t\t\t\t\t\t{t('GET_IN_TOUCH')}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box> */}\n\t\t\t\t<Box\n\t\t\t\t\theight='30%'\n\t\t\t\t\tposition='relative'\n\t\t\t\t\tclassName={classes.vitalik}\n\t\t\t\t\talignSelf='stretch'\n\t\t\t\t></Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport { styles } from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport default function DialogHoc(Decorated) {\n\tfunction JustDialog({ ...rest }) {\n\t\tconst classes = useStyles()\n\n\t\treturn (\n\t\t\t<Dialog open={true} classes={{ paper: classes.dialog }}>\n\t\t\t\t<DialogContent classes={{ root: classes.content }}>\n\t\t\t\t\t<Decorated {...rest} />\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t)\n\t}\n\n\treturn JustDialog\n}\n","import React, { useEffect } from 'react'\nimport { HashRouter as Router } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport {\n\tmetamaskChecks,\n\tmetamaskNetworkCheck,\n\tgetRelayerConfig,\n\texecute,\n\tensureQuickWalletBackup,\n\tupdateRegistrationAllowed,\n\tupdateEasterEggsAllowed,\n\thandleRedirectParams,\n\thandleSignupLink,\n} from 'actions'\nimport { Route, Switch, Redirect } from 'react-router'\nimport Dashboard from 'components/dashboard/dashboard/Dashboard'\nimport ConnectHoc from 'components/signin/ConnectHoc'\nimport {\n\tCreateQuickIdentity,\n\tLoginStandardIdentity,\n\tCreateStandardIdentity,\n\tLoginQuickIdentity,\n} from 'components/signin/identity/Identity'\nimport SideSelect from 'components/signin/side-select/SideSelect'\nimport PageNotFound from 'components/page_not_found/PageNotFound'\nimport Home from 'components/signin/Home'\nimport JustDialog from 'components/common/dialog/JustDialog'\nimport { migrateLegacyWallet, removeLegacyKey } from 'services/wallet/wallet'\nimport Translate from 'components/translate/Translate'\nimport { selectAuth, selectWallet, selectLocation } from 'selectors'\nimport { getMetamaskEthereum } from 'services/smart-contracts/ethers'\n\nconst ConnectedCreateQuickIdentity = ConnectHoc(JustDialog(CreateQuickIdentity))\nconst ConnectedQuickLogin = ConnectHoc(JustDialog(LoginQuickIdentity))\nconst ConnectedLoginStandardIdentity = ConnectHoc(\n\tJustDialog(LoginStandardIdentity)\n)\nconst ConnectedCreateStandardIdentity = ConnectHoc(\n\tJustDialog(CreateStandardIdentity)\n)\nconst ConnectedRoot = ConnectHoc(Home)\n\nconst PrivateRoute = ({ component: Component, auth, ...other }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...other}\n\t\t\trender={props =>\n\t\t\t\tauth === true ? ( //|| true\n\t\t\t\t\t<Component {...props} />\n\t\t\t\t) : (\n\t\t\t\t\t<Redirect to={{ pathname: '/', state: { from: props.location } }} />\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t)\n}\n\nconst handleLegacyWallet = async wallet => {\n\tconst { type, email, password, authType } = wallet || {}\n\n\tif (!type && email && password && authType === 'grant') {\n\t\tawait migrateLegacyWallet({ email, password })\n\t\tawait removeLegacyKey({ email, password })\n\t}\n\n\tif (email && password && authType) {\n\t\texecute(ensureQuickWalletBackup())\n\t}\n}\n\nconst Root = () => {\n\tconst auth = useSelector(selectAuth)\n\tconst wallet = useSelector(selectWallet)\n\tconst location = useSelector(selectLocation)\n\n\tuseEffect(() => {\n\t\tasync function initialChecks() {\n\t\t\tawait getMetamaskEthereum()\n\t\t\texecute(metamaskChecks())\n\n\t\t\texecute(getRelayerConfig())\n\t\t\texecute(handleRedirectParams(location.search))\n\t\t\texecute(handleSignupLink(location.search))\n\t\t}\n\n\t\tinitialChecks()\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tuseEffect(() => {\n\t\thandleLegacyWallet(wallet)\n\t}, [wallet])\n\n\tuseEffect(() => {\n\t\texecute(metamaskNetworkCheck())\n\t\texecute(updateRegistrationAllowed(location.search))\n\t\texecute(updateEasterEggsAllowed(location.search))\n\t}, [location])\n\n\treturn (\n\t\t<Router>\n\t\t\t<Switch>\n\t\t\t\t<PrivateRoute\n\t\t\t\t\tauth={auth}\n\t\t\t\t\tpath='/dashboard/:side'\n\t\t\t\t\tcomponent={Dashboard}\n\t\t\t\t/>\n\t\t\t\t<PrivateRoute auth={auth} path='/side-select' component={SideSelect} />\n\t\t\t\t<Route exact path='/' component={ConnectedRoot} />\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/quick'\n\t\t\t\t\tcomponent={ConnectedCreateQuickIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/login/full'\n\t\t\t\t\tcomponent={ConnectedLoginStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath='/signup/full'\n\t\t\t\t\tcomponent={ConnectedCreateStandardIdentity}\n\t\t\t\t/>\n\t\t\t\t<Route exact path='/login/quick' component={ConnectedQuickLogin} />\n\t\t\t\t<Route>\n\t\t\t\t\t<PageNotFound />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Router>\n\t)\n}\n\nexport default Translate(Root)\n","import React, { Component } from 'react'\nimport 'react-image-crop/dist/ReactCrop.css'\nimport './App.css'\nimport { Provider } from 'react-redux'\nimport { persistor, store } from 'store'\nimport history from 'store/history'\nimport { ConnectedRouter } from 'connected-react-router'\nimport Toast from 'components/toast/Toast'\nimport Confirm from 'components/confirm/Confirm'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport Root from './Root'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport { themeMUI } from './themeMUi'\nimport { DateUtils } from 'helpers/dateUtils'\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport CacheBuster from './CacheBuster'\n\n// console.log('initial store', store.getState())\n\nconst onBeforeLift = () => {\n\t// take some action before the gate lifts\n}\n\nclass App extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<MuiThemeProvider theme={themeMUI}>\n\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t<MuiPickersUtilsProvider utils={DateUtils}>\n\t\t\t\t\t\t<Provider store={store}>\n\t\t\t\t\t\t\t<PersistGate onBeforeLift={onBeforeLift} persistor={persistor}>\n\t\t\t\t\t\t\t\t<ConnectedRouter history={history}>\n\t\t\t\t\t\t\t\t\t<CacheBuster>\n\t\t\t\t\t\t\t\t\t\t<div className='adex-dapp'>\n\t\t\t\t\t\t\t\t\t\t\t<Root />\n\t\t\t\t\t\t\t\t\t\t\t<Toast />\n\t\t\t\t\t\t\t\t\t\t\t<Confirm />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</CacheBuster>\n\t\t\t\t\t\t\t\t</ConnectedRouter>\n\t\t\t\t\t\t\t</PersistGate>\n\t\t\t\t\t\t</Provider>\n\t\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t\t</MuiThemeProvider>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n)\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit http://bit.ly/CRA-PWA'\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error)\n\t\t})\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type')\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t)\n\t\t})\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister()\n\t\t})\n\t}\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App/App'\nimport { unregister } from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\nunregister()\n","export const ADD_ITEM = 'ADD_ITEM'\nexport const UPDATE_ITEM = 'UPDATE_ITEM'\nexport const UPDATE_NEW_ITEM = 'UPDATE_NEWITEM'\nexport const RESET_NEW_ITEM = 'RESET_NEWITEM'\nexport const RESET_ALL_NEW_ITEMS = 'RESET_ALL_NEWITEMS'\nexport const DELETE_ITEM = 'DELETE_ITEM'\nexport const REMOVE_ITEM_FROM_ITEM = 'REMOVE_ITEM_FROM_ITEM'\nexport const ADD_ITEM_TO_ITEM = 'ADD_ITEM_TO_ITEM'\nexport const UPDATE_ALL_ITEMS = 'UPDATE_ALL_ITEMS' // SYNC?\nexport const RESET_ALL_ITEMS = 'RESET_ALL_ITEMS'\nexport const SET_CURRENT_ITEM = 'SET_CURRENTITEM'\nexport const UPDATE_CURRENT_ITEM = 'UPDATE_CURRENTITEM'\nexport const SAVE_CURRENT_ITEM = 'SAVE_CURRENTITEM'\nexport const UPDATE_SPINNER = 'UPDATE_SPINNER'\nexport const UPDATE_GLOBAL_UI = 'UPDATE_GLOBAL_UI'\nexport const UPDATE_UI_BY_IDENTITY = 'UPDATE_UI_BY_IDENTITY'\nexport const UPDATE_UI_BY_IDENTITY_AND_SIDE = 'UPDATE_UI_BY_IDENTITY_AND_SIDE'\nexport const UPDATE_MEMORY_UI = 'UPDATE_MEMORY_UI'\nexport const ADD_TOAST = 'ADD_TOAST'\nexport const REMOVE_TOAST = 'REMOVE_TOAST'\nexport const CONFIRM_ACTION = 'CONFIRM_ACTION'\nexport const UPDATE_NAV = 'UPDATE_NAV'\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE'\nexport const UPDATE_ITEM_VALIDATION = 'UPDATE_ITEM_VALIDATION'\nexport const RESET_ITEM_VALIDATION = 'RESET_ITEM_VALIDATION'\nexport const UNIT_PLACE_BID = 'PLACE_BID'\nexport const UNIT_CANCEL_BID = 'UNIT_CANCEL_BID'\nexport const SLOT_ACCEPT_BID = 'SLOT_ACCEPT_BID'\nexport const SLOT_REJECT_BID = 'SLOT_REJECT_BID'\nexport const UPDATE_NEW_BID = 'UPDATE_NEW_BID'\nexport const RESET_NEW_BID = 'RESET_NEW_BID'\nexport const UPDATE_SIGNIN = 'UPDATE_SIGNIN'\nexport const RESET_SIGNIN = 'RESET_SIGNIN'\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT'\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT'\nexport const RESET_ACCOUNT = 'RESET_ACCOUNT'\nexport const UPDATE_NEW_TRANSACTION = 'UPDATE_NEW_TRANSACTION'\nexport const RESET_NEW_TRANSACTION = 'RESET_NEW_TRANSACTION'\nexport const RESET_ALL_NEW_TRANSACTIONS = 'RESET_ALL_NEW_TRANSACTIONS'\nexport const ADD_WEB3_TRANSACTION = 'ADD_WEB3_TRANSACTION'\nexport const UPDATE_WEB3_TRANSACTION = 'UPDATE_WEB3_TRANSACTION'\nexport const RESET_WEB3_TRANSACTION = 'RESET_WEB3_TRANSACTION'\nexport const UPDATE_ALL_BIDS = 'UPDATE_ALL_BIDS'\nexport const RESET_ALL_BIDS = 'RESET_ALL_BIDS'\nexport const ADD_NEW_TAG = 'ADD_NEW_TAG'\nexport const UPDATE_IDENTITY = 'UPDATE_IDENTITY'\nexport const RESET_IDENTITY = 'RESET_IDENTITY'\nexport const UPDATE_WALLET = 'UPDATE_WALLET'\nexport const RESET_WALLET = 'RESET_WALLET'\nexport const UPDATE_RELAYER_CFG = 'UPDATE_RELAYER_CFG'\nexport const UPDATE_ANALYTICS_TIMEFRAME = 'UPDATE_ANALYTICS_TIMEFRAME'\nexport const UPDATE_ANALYTICS = 'UPDATE_ANALYTICS'\nexport const UPDATE_ADVANCED_ANALYTICS = 'UPDATE_ADVANCED_ANALYTICS'\nexport const RESET_ANALYTICS = 'RESET_ANALYTICS'\nexport const UPDATE_CHANNELS_WITH_BALANCE_ALL =\n\t'UPDATE_CHANNELS_WITH_BALANCE_ALL'\nexport const RESET_CHANNELS_WITH_BALANCE_ALL = 'RESET_CHANNELS_WITH_BALANCE_ALL'\nexport const UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE =\n\t'UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE'\nexport const RESET_CHANNELS_WITH_OUTSTANDING_BALANCE =\n\t'RESET_CHANNELS_WITH_OUTSTANDING_BALANCE'\nexport const UPDATE_DEMAND_ANALYTICS = 'UPDATE_DEMAND_ANALYTICS'\nexport const UPDATE_SELECTED_ITEMS = 'UPDATE_SELECTED_ITEMS'\nexport const UPDATE_RESOLVE_ENS_ADDRESS = 'UPDATE_RESOLVE_ENS_ADDRESS'\nexport const UPDATE_ANALYTICS_PERIOD = 'UPDATE_ANALYTICS_PERIOD'\nexport const UPDATE_PUBLISHER_RECEIPTS = 'UPDATE_PUBLISHER_RECEIPTS'\nexport const RESET_SELECTED_ITEMS = 'RESET_SELECTED_ITEMS'\nexport const UPDATE_ANALYTICS_LAST_CHECKED = 'UPDATE_ANALYTICS_LAST_CHECKED'\nexport const UPDATE_TARGETING_ANALYTICS = 'UPDATE_TARGETING_ANALYTICS'\n","import {\n\tgetState,\n\texecute,\n\tresetAllNewItems,\n\tresetAllItems,\n\tresetAllBids,\n\tresetIdentity,\n\tresetAccount,\n\tresetAnalytics,\n\tresetChannelsWithBalanceAll,\n\tresetChannelsWithOutstandingBalance,\n\tresetAllNewTransaction,\n\tupdateMemoryUi,\n} from 'actions'\n\nimport { campaignsLoop } from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport { advancedAnalyticsLoop } from 'services/store-data/analytics'\n\nimport { push } from 'connected-react-router'\n\nexport const logOut = skipRedirect => {\n\texecute(updateMemoryUi('initialDataLoaded', false))\n\texecute(resetAccount())\n\tadvancedAnalyticsLoop.stop()\n\tcampaignsLoop.stop()\n\tstatsLoop.stop()\n\tif (!skipRedirect) {\n\t\texecute(push('/'))\n\t}\n\texecute(resetIdentity())\n\texecute(resetAllItems())\n\texecute(resetAllNewItems())\n\texecute(resetAllBids())\n\texecute(resetAnalytics())\n\texecute(resetChannelsWithBalanceAll())\n\texecute(resetChannelsWithOutstandingBalance())\n\texecute(resetAllNewTransaction())\n}\n\nexport const isDemoMode = () => {\n\treturn getState().persist.account._authType === 'demo'\n}\n\nexport const getAccount = () => {\n\treturn getState().persist.account\n}\n","const MAX_ASPECT_TOLERANCE = 5\n\nexport const isVideoMedia = (mime = '') => mime.split('/')[0] === 'video'\n\nconst getVideoSize = src =>\n\tnew Promise(resolve => {\n\t\tconst video = document.createElement('video')\n\t\tvideo.src = src\n\n\t\tvideo.onloadedmetadata = ({ target }) => {\n\t\t\treturn resolve({\n\t\t\t\twidth: target.videoWidth,\n\t\t\t\theight: target.videoHeight,\n\t\t\t})\n\t\t}\n\t})\n\nconst getImageSize = src =>\n\tnew Promise(resolve => {\n\t\tconst image = new Image()\n\t\timage.src = src\n\t\timage.onload = function() {\n\t\t\treturn resolve({\n\t\t\t\twidth: this.width,\n\t\t\t\theight: this.height,\n\t\t\t})\n\t\t}\n\t})\n\nexport const getMediaSize = ({ mime, src }) =>\n\tisVideoMedia(mime) ? getVideoSize(src) : getImageSize(src)\n\nexport const checkExactishAspect = (\n\twidthTarget,\n\twidth,\n\theightTarget,\n\theight,\n\tmaxPercentTolerance = MAX_ASPECT_TOLERANCE\n) => {\n\tif (widthTarget <= 0 || width <= 0 || heightTarget <= 0 || height <= 0) {\n\t\treturn false\n\t}\n\tconst targetAspect = parseFloat(widthTarget / heightTarget)\n\tconst aspect = parseFloat(width / height)\n\n\tconst aspectDiff = Math.abs(((targetAspect - aspect) / targetAspect) * 100)\n\n\tconst isValid =\n\t\twidthTarget <= width &&\n\t\theightTarget <= height &&\n\t\taspectDiff <= maxPercentTolerance\n\n\treturn isValid\n}\n","import Identity from './build/Identity.json'\nimport AdExCore from './build/AdExCore.json'\nimport Dai from './build/Dai.json'\nimport IdentityFactory from './build/IdentityFactory.json'\nimport AdExENSManager from './abi/AdExENSManager.json'\nimport ReverseRegistrar from './abi/ReverseRegistrar.json'\nimport ERC20 from './abi/ERC20Token.json'\n\nexport const contracts = {\n\tIdentity: {\n\t\tabi: Identity.abi,\n\t},\n\tAdExENSManager: {\n\t\taddress: process.env.ADEX_ENS_ADDR,\n\t\tpublicResolver: process.env.REVERSE_REGISTRAR_PUBLIC_RESOLVER,\n\t\tabi: AdExENSManager,\n\t},\n\tReverseRegistrar: {\n\t\taddress: process.env.REVERSE_REGISTRAR_ADDR,\n\t\tparentDomain: process.env.REVERSE_REGISTRAR_PARENT,\n\t\tabi: ReverseRegistrar,\n\t},\n\tAdExCore: {\n\t\taddress: process.env.ADEX_CORE_ADDR,\n\t\tabi: AdExCore.abi,\n\t},\n\tDAI: {\n\t\taddress: process.env.DAI_TOKEN_ADDR,\n\t\tabi: Dai.abi,\n\t\tdecimals: 18,\n\t},\n\tIdentityFactory: {\n\t\taddress: process.env.IDENTITY_FACTORY_ADDR,\n\t\tabi: IdentityFactory.abi,\n\t},\n\tERC20: {\n\t\tabi: ERC20,\n\t},\n}\n","import MomentUtils from '@date-io/moment'\r\nimport moment from 'moment'\r\nimport 'moment/min/locales'\r\n\r\n// We can't use the new version of @date-io/moment or @date-io/date-fns\r\n// because the datepickers will crash, but we need some more functionality\r\n// as adding hours and start / end of weeks. This is why I have created an\r\n// extention class. We use this as MuiPickersUtilsProvider as well\r\nexport class DateUtils extends MomentUtils {\r\n\tstartOfMinute(date) {\r\n\t\treturn date.clone().startOf('minute')\r\n\t}\r\n\r\n\tstartOfHour(date) {\r\n\t\treturn date.clone().startOf('hour')\r\n\t}\r\n\r\n\tstartOfWeek(date) {\r\n\t\treturn date.clone().startOf('week')\r\n\t}\r\n\r\n\tstartOfYear(date) {\r\n\t\treturn date.clone().startOf('year')\r\n\t}\r\n\r\n\tendOfWeek(date) {\r\n\t\treturn date.clone().endOf('week')\r\n\t}\r\n\r\n\tisWithinInterval(date, { start, end }) {\r\n\t\treturn date.clone().isBetween(start, end, null, '[]')\r\n\t}\r\n\r\n\tadd(date, ammount, unit) {\r\n\t\treturn date.add(ammount, unit)\r\n\t}\r\n\r\n\taddMinutes(date, minutes) {\r\n\t\treturn date.clone().add(minutes, 'minute')\r\n\t}\r\n\r\n\taddHours(date, hours) {\r\n\t\treturn date.clone().add(hours, 'hour')\r\n\t}\r\n\r\n\tstartOf(date, period) {\r\n\t\treturn date.clone().startOf(period)\r\n\t}\r\n\r\n\tendOf(date, period) {\r\n\t\treturn date.clone().endOf(period)\r\n\t}\r\n\r\n\taddWeeks(date, weeks) {\r\n\t\treturn date.clone().add(weeks, 'week')\r\n\t}\r\n\r\n\taddMonths(date, months) {\r\n\t\treturn date.clone().add(months, 'month')\r\n\t}\r\n\r\n\taddYears(date, years) {\r\n\t\treturn date.clone().add(years, 'year')\r\n\t}\r\n\r\n\tgetUTCOffset(date = this.moment()) {\r\n\t\treturn this.moment(date).utcOffset() / 60\r\n\t}\r\n\r\n\tgetUTCOffsetFormatted(date = this.moment()) {\r\n\t\tconst offset = this.moment(date).utcOffset()\r\n\t\tconst sign = offset >= 0 ? '+' : '-'\r\n\t\tconst hours = Math.abs(Math.floor(offset / 60)).toString()\r\n\t\tconst minutes = (offset % 60).toString()\r\n\r\n\t\treturn `${sign}${hours.length === 1 ? '0' + hours : hours}:${\r\n\t\t\tminutes.length === 1 ? '0' + minutes : minutes\r\n\t\t}`\r\n\t}\r\n\r\n\tgetCurrentTimezone(date) {\r\n\t\treturn new window.Intl.DateTimeFormat(date).resolvedOptions().timeZone\r\n\t}\r\n\r\n\tgetUnix(date) {\r\n\t\treturn date.unix()\r\n\t}\r\n\tgetLocaleDate(locale) {\r\n\t\treturn this.moment.localeData(locale)\r\n\t}\r\n\r\n\tupdateLocale({ locale = 'en', dow, doy }) {\r\n\t\tconst defaultLocaleData = this.getLocaleDate(locale)\r\n\t\tthis.moment.updateLocale(locale, {\r\n\t\t\tweek: {\r\n\t\t\t\tdow: dow || defaultLocaleData.firstDayOfWeek(),\r\n\t\t\t\tdoy: doy || defaultLocaleData.firstDayOfYear(),\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n\r\n\tgetHourSpanStart(date, span) {\r\n\t\tconst current = dateUtils.date(date)\r\n\t\tconst hour = dateUtils.getHours(current)\r\n\t\tconst spanStartHour = Math.floor(hour - (hour % span))\r\n\t\tconst withSpanStartHour = dateUtils.setHours(current, spanStartHour)\r\n\r\n\t\treturn dateUtils.startOfHour(withSpanStartHour)\r\n\t}\r\n\r\n\tformat(date, formatString) {\r\n\t\treturn this.moment(date).format(formatString)\r\n\t}\r\n}\r\n\r\nexport function makeJSDateObject(date) {\r\n\tif (moment.isMoment(date)) {\r\n\t\treturn date.clone()\r\n\t}\r\n\r\n\tif (date instanceof Date) {\r\n\t\treturn new Date(date.getTime())\r\n\t}\r\n\r\n\treturn date\r\n}\r\n\r\nconst dateUtils = new DateUtils()\r\ndateUtils.updateLocale({\r\n\tdow: dateUtils\r\n\t\t.getLocaleDate(window.navigator.language.toLowerCase())\r\n\t\t.firstDayOfWeek(),\r\n})\r\n\r\nexport default dateUtils\r\n","import { formatUnits, commify } from 'ethers/utils'\nimport MomentUtils from '@date-io/moment'\nconst moment = new MomentUtils()\n//TODO: use dateUtils\n\nexport const DEFAULT_DATETIME_FORMAT = 'YYYY/MM/DD HH:mm'\nexport const DEFAULT_DATE_FORMAT = 'YYYY/MM/DD'\n\nexport const formatDateTime = (\n\ttimestamp,\n\tformat = DEFAULT_DATETIME_FORMAT,\n\tnoDateLabel = 'no date'\n) => {\n\tif (!timestamp) {\n\t\treturn noDateLabel\n\t}\n\tconst date = moment.date(timestamp)\n\treturn date.format(format)\n}\n\nexport const formatDate = (\n\ttimestamp,\n\tformat = DEFAULT_DATE_FORMAT,\n\tnoDateLabel = 'no date'\n) => {\n\tif (!timestamp) {\n\t\treturn noDateLabel\n\t}\n\tconst date = moment.date(timestamp)\n\treturn date.format(format)\n}\n\nexport const formatTokenAmount = (\n\tamountString = '0',\n\tdecimals = 18,\n\tpretty,\n\ttoFixed\n) => {\n\tconst formatted = formatUnits(amountString, decimals)\n\tif (pretty) {\n\t\treturn commify(formatted)\n\t} else if (typeof toFixed === 'number') {\n\t\t// We want truncated not rounded\n\t\treturn parseFloat(formatted)\n\t\t\t.toFixed(toFixed + 4)\n\t\t\t.slice(0, -4)\n\t} else {\n\t\treturn formatted\n\t}\n}\n\nexport const formatAddress = (address = '', joinSymbol = '...') => {\n\treturn `${address.substring(0, 8)}${joinSymbol}${address.substring(36, 42)}`\n}\n\nexport const formatNumberWithCommas = x => {\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n}\n\nexport const formatFloatNumberWithCommas = x => {\n\tconst parts = x.toString().split('.')\n\tparts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n\treturn parts.join('.')\n}\n\nexport const formatNumberWithoutCommas = x => {\n\treturn x\n\t\t.toString()\n\t\t.split(',')\n\t\t.join('')\n}\n\nexport const formatAbbrNum = (number, decPlaces) => {\n\t// 2 decimal places => 100, 3 => 1000, etc\n\tdecPlaces = Math.pow(10, decPlaces)\n\n\t// Enumerate number abbreviations\n\tvar abbrev = ['k', 'm', 'b', 't']\n\n\t// Go through the array backwards, so we do the largest first\n\tfor (var i = abbrev.length - 1; i >= 0; i--) {\n\t\t// Convert array index to \"1000\", \"1000000\", etc\n\t\tvar size = Math.pow(10, (i + 1) * 3)\n\n\t\t// If the number is bigger or equal do the abbreviation\n\t\tif (size <= number) {\n\t\t\t// Here, we multiply by decPlaces, round, and then divide by decPlaces.\n\t\t\t// This gives us nice rounding to a particular decimal place.\n\t\t\tnumber = Math.round((number * decPlaces) / size) / decPlaces\n\n\t\t\t// Handle special case where we round up to the next abbreviation\n\t\t\tif (number === 1000 && i < abbrev.length - 1) {\n\t\t\t\tnumber = 1\n\t\t\t\ti++\n\t\t\t}\n\n\t\t\t// Add the letter for the abbreviation\n\t\t\tnumber += abbrev[i]\n\n\t\t\t// We are done... stop\n\t\t\tbreak\n\t\t}\n\t}\n\n\treturn number\n}\n\nexport const truncateString = (string, maxLength = 50) => {\n\tif (!string) return ''\n\tif (string.length <= maxLength) return string\n\treturn `${string.substring(0, maxLength).trim()}...`\n}\n","import { items as ItemsConstants } from 'adex-constants'\n\nconst { ItemsTypes, AdTypesByValue, AdSizesByValue } = ItemsConstants\n\nexport const sortCollections = items => {\n\tlet collections = {\n\t\tcampaigns: [],\n\t\tadUnits: [],\n\t\tchannels: [],\n\t\tadSlots: [],\n\t}\n\n\tfor (let i = 0; i < items.length; i++) {\n\t\tlet item = items[i]\n\t\tif (item._type === ItemsTypes.Campaign) collections.campaigns.push(item)\n\t\tif (item._type === ItemsTypes.AdUnit) collections.adUnits.push(item)\n\t\tif (item._type === ItemsTypes.Channel) collections.channel.push(item)\n\t\tif (item._type === ItemsTypes.AdSlot) collections.adSlots.push(item)\n\t}\n\n\treturn collections\n}\n\nexport const cloneObject = obj => {\n\treturn Object.assign(Object.create(obj), obj)\n}\n\nexport const getTypeName = id => {\n\tfor (var key in ItemsTypes) {\n\t\tif (ItemsTypes.hasOwnProperty(key)) {\n\t\t\tif (ItemsTypes[key].id === id) {\n\t\t\t\treturn ItemsTypes[key].name\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport const groupItemsForCollection = ({ collectionId, allItems = {} }) => {\n\tlet grouped = Object.values(allItems).reduce(\n\t\t(memo, item, index) => {\n\t\t\tif (item._items.indexOf(collectionId) > -1) {\n\t\t\t\tmemo.items.push(item)\n\t\t\t} else {\n\t\t\t\tmemo.otherItems.push(item)\n\t\t\t}\n\n\t\t\treturn memo\n\t\t},\n\t\t{ items: [], otherItems: [] }\n\t)\n\n\treturn grouped\n}\n\nexport const itemAdTypeLabel = ({ adType }) => {\n\treturn (AdTypesByValue[adType] || {}).label\n}\n\nexport const itemAdSizeLabel = ({ size, t }) => {\n\tconst adSize = AdSizesByValue[size] || {}\n\treturn t(adSize.label, { args: adSize.labelArgs || [] })\n}\n\nexport const getWidAndHightFromType = type => {\n\ttype = type || 'legacy_300x250'\n\tif (!type) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t}\n\t}\n\n\tconst sizes = type.split('_')[1].split('x')\n\treturn {\n\t\twidth: parseInt(sizes[0], 10),\n\t\theight: parseInt(sizes[1], 10),\n\t}\n}\n","export default class Looper {\n\tconstructor({ timeout, syncAction, loopName = '', stopOn }) {\n\t\tif (!timeout) {\n\t\t\tthrow new Error('LOOPER timeout prop is required')\n\t\t}\n\n\t\tif (typeof syncAction !== 'function') {\n\t\t\tthrow new Error('LOOPER syncAction prop is has to be a function')\n\t\t}\n\n\t\tthis.loopTimeout = null\n\t\tthis.timeout = timeout\n\t\tthis.syncAction = syncAction\n\t\tthis.loopName = loopName\n\t\tthis.stopOn = stopOn\n\t}\n\n\tclearLoopTimeout = () => {\n\t\tif (this.loopTimeout) {\n\t\t\tclearTimeout(this.loopTimeout)\n\t\t\tthis.loopTimeout = null\n\t\t}\n\t}\n\n\tsyncData = async opts => {\n\t\tthis.makeStopCheck()\n\t\tawait this.syncAction()\n\t\tthis.makeStopCheck()\n\t}\n\n\tstartLoop = async opts => {\n\t\ttry {\n\t\t\tawait this.syncData(opts)\n\t\t\tthis.checkLoop()\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_LOOP${this.loopName}`, err)\n\t\t\tthis.checkLoop()\n\t\t}\n\t}\n\n\tcheckLoop = () => {\n\t\tthis.clearLoopTimeout()\n\n\t\tthis.loopTimeout = setTimeout(this.startLoop, this.timeout)\n\t}\n\n\tmakeStopCheck = () => {\n\t\tif (typeof this.stopOn === 'function' && this.stopOn()) {\n\t\t\tthis.stop()\n\t\t}\n\t}\n\n\tstart = async onSync => {\n\t\tthis.clearLoopTimeout()\n\t\tawait this.startLoop()\n\t\tthis.makeStopCheck()\n\t\tif (typeof onSync === 'function') {\n\t\t\tonSync()\n\t\t}\n\t}\n\n\tstop = () => {\n\t\tthis.clearLoopTimeout()\n\t}\n}\n","import Loop from './loop'\nimport {\n\texecute,\n\tupdateAccountAnalytics,\n\tupdateAccountAdvancedAnalytics,\n} from 'actions'\nimport { getState } from 'store'\nimport { selectAuth } from 'selectors'\n\nconst LOOP_TIMEOUT = 60 * 1000\n\nconst analyticsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () =>\n\t\tselectAuth(getState()) && (await execute(updateAccountAnalytics())),\n\tloopName: '_ANALYTICS',\n\tstopOn: () => !selectAuth(getState()),\n})\n\nconst analyticsLoopCustom = ({ timeout, syncAction, stopOn }) =>\n\tnew Loop({\n\t\ttimeout: timeout,\n\t\tsyncAction: async () => syncAction(),\n\t\tloopName: '_ANALYTICS_CUSTOM',\n\t\tstopOn: () => !selectAuth(getState()) || stopOn,\n\t})\n\nconst advancedAnalyticsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () =>\n\t\tselectAuth(getState()) && (await execute(updateAccountAdvancedAnalytics())),\n\tloopName: '_ANALYTICS_CAMPAIGNS_ADVANCED',\n\tstopOn: () => !selectAuth(getState()),\n})\n\nexport { analyticsLoop, advancedAnalyticsLoop, analyticsLoopCustom }\n","import { exchange as ExchangeConstants } from 'adex-constants'\nimport { constants } from 'adex-models'\n\nconst { BID_STATES, TIMEOUTS } = ExchangeConstants\nconst { SignatureModes } = constants\nconst AdTypes = constants.AdUnitsTypes.map(type => {\n\treturn {\n\t\tvalue: type,\n\t\tlabel: type.split('_')[1],\n\t}\n})\n\nexport const AVATAR_MAX_WIDTH = 600\nexport const AVATAR_MAX_HEIGHT = 400\n\nexport const SORT_PROPERTIES_BIDS = [\n\t{ value: '_state', label: '' },\n\t{ value: '_target', label: '' },\n\t{ value: '_amount', label: '' },\n\t{ value: '_timeout', label: '' },\n]\n\nexport const FILTER_PROPERTIES_BIDS = {\n\t_state: {\n\t\tlabel: '_state',\n\t\tlabelIsProp: true,\n\t\tvalues: Object.keys(BID_STATES).map(key => {\n\t\t\treturn { value: BID_STATES[key].id, label: BID_STATES[key].label }\n\t\t}),\n\t},\n\t_timeout: { label: '_timeout', labelIsProp: true, values: TIMEOUTS },\n}\n\nexport const FILTER_PROPERTIES_BIDS_NO_STATE = {\n\t_timeout: FILTER_PROPERTIES_BIDS._timeout,\n}\n\nexport const SORT_PROPERTIES_ITEMS = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n\t{ value: 'type' },\n]\n\nexport const SORT_PROPERTIES_COLLECTION = [\n\t{ value: 'created' },\n\t{ value: 'title' },\n]\n\nexport const FILTER_PROPERTIES_ITEMS = {\n\ttype: { label: 'type', labelIsProp: true, values: AdTypes },\n}\n\nexport const AUTH_TYPES = {\n\tREADONLY: { name: 'readonly' },\n\tMETAMASK: { name: 'metamask', signType: SignatureModes.GETH, limit: 0 },\n\tTREZOR: { name: 'trezor', signType: SignatureModes.GETH, limit: 0 },\n\tDEMO: { name: 'demo', signType: SignatureModes.GETH, limit: 0 },\n\tGRANT: { name: 'grant', signType: SignatureModes.GETH, limit: 50 },\n\tQUICK: { name: 'quick', signType: SignatureModes.GETH, limit: 50 },\n\tSEED: { name: 'seed', signType: SignatureModes.GETH, limit: 500 },\n}\n\nexport const NETWORK_STATUS = {\n\t0: 'pending',\n\t1: 'success',\n\t2: 'failed',\n}\n\nexport const ETHEREUM_NETWORKS = {\n\t1: { name: 'Mainnet', for: 'production' },\n\t5: { name: 'Goerli', for: 'development' },\n\tproduction: { name: 'Mainnet', for: 'production' },\n\tdevelopment: { name: 'Goerli', for: 'development' },\n}\n\nexport const SORT_PROPERTIES_CAMPAIGN = [\n\t{ value: 'created', label: 'Created' },\n\t{ value: 'status.name', label: 'Status' },\n\t{ value: 'withdrawPeriodStart', label: 'Ends' },\n\t{ value: 'activeFrom', label: 'Starts' },\n\t{ value: 'depositAmount', label: 'depositAmount' },\n\t{ value: 'maxPerImpression', label: 'cpm' },\n]\n\nexport const FILTER_PROPERTIES_CAMPAIGN = {\n\t'status.name': {\n\t\tlabel: 'ststus',\n\t\tlabelIsProp: true,\n\t\tvalues: [\n\t\t\t{ value: 'Pending', label: 'Pending' }, // UI only state\n\t\t\t{ value: 'Initializing', label: 'Initializing' },\n\t\t\t{ value: 'Offline', label: 'Offline' },\n\t\t\t{ value: 'Disconnected', label: 'Disconnected' },\n\t\t\t{ value: 'Invalid', label: 'Invalid' },\n\t\t\t{ value: 'Unhealthy', label: 'Unhealthy' },\n\t\t\t{ value: 'Ready', label: 'Ready' },\n\t\t\t{ value: 'Active', label: 'Active' },\n\t\t\t{ value: 'Exhausted', label: 'Exhausted' },\n\t\t\t{ value: 'Expired', label: 'Expired' },\n\t\t],\n\t},\n}\n\nexport const UTM_PARAMS = {\n\tutm_source: 'ADEX',\n\tutm_medium: 'CPM',\n\tutm_campaign: 'none',\n\tutm_content: 'none',\n}\n\nexport const VALIDATOR_ANALYTICS_METRICS = [\n\t'eventPayouts', //\n\t'eventCounts',\n]\nexport const VALIDATOR_ANALYTICS_SIDES = [\n\t'advertiser',\n\t'publisher', //\n]\nexport const VALIDATOR_ANALYTICS_EVENT_TYPES = [\n\t'IMPRESSION', //\n\t'CLICK',\n]\n\nexport const VALIDATOR_ANALYTICS_TIMEFRAMES = [\n\t{ label: 'LABEL_HOUR', value: 'hour' },\n\t{ label: 'LABEL_DAY', value: 'day' },\n\t{ label: 'LABEL_WEEK', value: 'week' },\n\t{ label: 'LABEL_MONTH', value: 'month' },\n\t{ label: 'LABEL_YEAR', value: 'year' },\n]\n\nexport const WHERE_YOU_KNOW_US = [\n\t{ label: 'LABEL_GOOGLE', value: 'search_engine' },\n\t{ label: 'LABEL_TWITTER', value: 'twitter' },\n\t{ label: 'LABEL_FACEBOOK', value: 'facebook' },\n\t{ label: 'LABEL_REDDIT', value: 'reddit' },\n\t{ label: 'LABEL_EVENT', value: 'event' },\n\t{ label: 'LABEL_FRIEND', value: 'friend' },\n\t{ label: 'LABEL_OTHER', value: 'other' },\n]\n\nexport const MOON_GRAVITY_ACCELERATION = 1.625\nexport const MOON_TO_EARTH_WEIGHT = 0.166\n\nexport const WALLET_ACTIONS_MSGS = {\n\t[AUTH_TYPES.METAMASK.name]: [\n\t\t{ message: 'METAMASK_WAITING_ACTION' },\n\t\t{ message: 'METAMASK_WAITING_ACTION_INFO', strong: true },\n\t],\n\t[AUTH_TYPES.TREZOR.name]: [{ message: 'TREZOR_WAITING_ACTION' }],\n\t[AUTH_TYPES.QUICK.name]: [\n\t\t{ message: 'QUICK_WAITING_MSG' },\n\t\t{ message: 'QUICK_WAITING_MSG_INFO' },\n\t],\n\t[AUTH_TYPES.GRANT.name]: [\n\t\t{ message: 'GRANT_WAITING_MSG' },\n\t\t{ message: 'GRANT_WAITING_MSG_INFO' },\n\t],\n\tdefault: [{ message: 'WAITING_FOR_USER_ACTION' }],\n}\n\nexport const EXECUTE_ACTIONS = {\n\twithdraw: 'WITHDRAW',\n\tprivilegesChange: 'PRIVILEGES_CHANGE',\n\tensChange: 'ENS_CHANGE',\n\topenCampaign: 'OPEN_CAMPAIGN',\n\tdefault: 'DEFAULT',\n}\n","export const CREATING_SESSION = 'CREATING_SESSION'\nexport const QUICK_WALLET_BACKUP = 'QUICK_WALLET_BACKUP'\nexport const GETTING_OWNER_IDENTITIES = 'GETTING_OWNER_IDENTITIES'\nexport const UPLOADING_ACCOUNT_DATA = 'UPLOADING_ACCOUNT_DATA'\nexport const OPENING_CAMPAIGN = 'OPENING_CAMPAIGN'\nexport const GETTING_CAMPAIGNS_FEES = 'GETTING_CAMPAIGNS_FEES'\nexport const UPDATING_ACCOUNT_IDENTITY = 'UPDATING_ACCOUNT_IDENTITY'\nexport const UPDATING_SLOTS_DEMAND = 'UPDATING_SLOTS_DEMAND'\nexport const PRINTING_CAMPAIGNS_RECEIPTS = 'PRINTING_CAMPAIGNS_RECEIPTS'\nexport const FETCHING_PUBLISHER_RECEIPTS = 'FETCHING_PUBLISHER_RECEIPTS'\nexport const CHECKING_METAMASK_AUTH = 'CHECKING_METAMASK_AUTH'\nexport const AUTH_WAITING_TREZOR_ACTION = 'AUTH_WAITING_TREZOR_ACTION'\nexport const AUTH_WAITING_ADDRESS_DATA = 'AUTH_WAITING_ADDRESS_DATA'\nexport const UPDATING_TARGETING_DATA = 'UPDATING_TARGETING_DATA'\nexport const SYNC_WEB3_DATA = 'UPDATING_WEB3_DATA'\n","// Nodejs encryption with CTR\nconst crypto = require('crypto')\n\nconst CIPHER_LEGACY_ALG = 'aes-256-ctr'\nconst CIPHER_ALG = 'aes-256-cbc'\nconst IV_LENGTH = 16\nconst HASH_ALG = 'sha256'\n\nconst getKeyHash = key => {\n\tconst hash = crypto.createHash(HASH_ALG)\n\thash.update(key)\n\tconst hashed = hash.digest()\n\treturn hashed\n}\n\nexport const encrypt = async (text, key) => {\n\tif (!text) return ''\n\tif (!key) {\n\t\tthrow new Error('ERR_ENCRYPTING_NO_PASS')\n\t}\n\tconst iv = crypto.randomBytes(IV_LENGTH)\n\tconst cipher = crypto.createCipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst encr = cipher.update(text)\n\tconst encrypted = Buffer.concat([encr, cipher.final()])\n\n\treturn `${iv.toString('hex')}:${encrypted.toString('hex')}`\n}\n\nexport const decrypt = async (text, key) => {\n\tconst textParts = text.split(':')\n\tconst iv = Buffer.from(textParts.shift(), 'hex')\n\tconst encryptedText = Buffer.from(textParts.join(':'), 'hex')\n\tconst decipher = crypto.createDecipheriv(CIPHER_ALG, getKeyHash(key), iv)\n\tconst decr = decipher.update(encryptedText)\n\tconst decrypted = Buffer.concat([decr, decipher.final()])\n\n\treturn decrypted.toString()\n}\n\nexport const encryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst cipher = crypto.createCipher(CIPHER_LEGACY_ALG, password)\n\tlet crypted = cipher.update(text, 'utf8', 'hex')\n\tcrypted += cipher.final('hex')\n\treturn crypted\n}\n\nexport const decryptLegacy = async (text, password) => {\n\tif (!text) return ''\n\tconst decipher = crypto.createDecipher(CIPHER_LEGACY_ALG, password)\n\tlet dec = decipher.update(text, 'hex', 'utf8')\n\tdec += decipher.final('utf8')\n\treturn dec\n}\n","import { AdUnit, AdSlot, Campaign, Account } from 'adex-models'\n\nlet initialState = {\n\taccount: new Account(),\n\tsignin: {\n\t\tname: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\tpassConfirm: '',\n\t\tseed: '',\n\t\tpublicKey: '',\n\t\tseedCheck: [],\n\t\tauthenticated: false,\n\t},\n\tnewItem: {\n\t\tCampaign: new Campaign({\n\t\t\taudienceInput: { version: '1', inputs: {} },\n\t\t\ttemp: { useUtmTags: true, useUtmSrcWithPub: true },\n\t\t}).plainObj(),\n\t\tAdUnit: new AdUnit({ temp: { addUtmLink: true } }).plainObj(),\n\t\tAdSlot: new AdSlot({\n\t\t\trulesInput: { version: '1', inputs: { autoSetMinCPM: false } },\n\t\t}).plainObj(),\n\t},\n\tcurrentItem: {},\n\tselectedItems: {\n\t\tcampaigns: [],\n\t\tadUnits: [],\n\t\tslots: [],\n\t},\n\titems: {\n\t\tCampaign: {},\n\t\tAdUnit: {},\n\t\tAdSlot: {},\n\t\tWebsite: {},\n\t\tAudience: {},\n\t},\n\tspinners: {},\n\tui: {\n\t\tglobal: {},\n\t\tbyIdentity: {},\n\t},\n\tuiMemory: {},\n\ttoasts: [],\n\tconfirm: {\n\t\tdata: {},\n\t},\n\tnav: {\n\t\tside: '',\n\t},\n\tlanguage: 'en-US',\n\tvalidations: {},\n\tnewTransactions: {\n\t\tdefault: {},\n\t},\n\tweb3Transactions: {},\n\ttargeting: {\n\t\ttargetingData: [],\n\t\tminByCategory: {},\n\t\tcountryTiersCoefficients: {},\n\t},\n\tidentity: {},\n\tethNetwork: {\n\t\tnetworkId: null,\n\t\tgasData: {},\n\t},\n\twallet: {},\n\tconfig: {\n\t\trelayer: {},\n\t\tmarket: {},\n\t\tvalidators: {},\n\t},\n\tanalytics: {},\n\tchannels: {\n\t\twithBalanceAll: {},\n\t\twithOutstandingBalance: [],\n\t},\n\tensAddresses: {},\n}\n\nexport default initialState\n","import { createHashHistory } from 'history'\n\nconst history = createHashHistory()\n\nhistory.listen(location => {\n\twindow.gtag &&\n\t\twindow.gtag('config', process.env.GA_CODE, {\n\t\t\tpage_path: location.pathname + location.search,\n\t\t})\n})\n\nexport default history\n","import Loop from './loop'\nimport { getState } from 'store'\nimport { selectAuth } from 'selectors'\nimport { updateUserCampaigns, execute } from 'actions'\nimport { MOON_GRAVITY_ACCELERATION, MOON_TO_EARTH_WEIGHT } from 'constants/misc'\n\n// 30 seconds = market statusLoopTick\nconst LOOP_TIMEOUT =\n\t(69 - Math.floor(MOON_GRAVITY_ACCELERATION / MOON_TO_EARTH_WEIGHT)) * 500\n\nconst campaignsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () =>\n\t\tselectAuth(getState()) && (await execute(updateUserCampaigns())),\n\tloopName: '_CAMPAIGNS',\n\tstopOn: () => !selectAuth(getState()),\n})\n\nexport { campaignsLoop }\n","import Loop from './loop'\nimport { getState } from 'store'\nimport { selectAuth } from 'selectors'\nimport { execute, updateAccountStats } from 'actions'\n\nconst LOOP_TIMEOUT = 60 * 1000\n\nconst accountStatsLoop = new Loop({\n\ttimeout: LOOP_TIMEOUT,\n\tsyncAction: async () =>\n\t\tselectAuth(getState()) && (await execute(updateAccountStats())),\n\tloopName: '_ACCOUNTS_STATS',\n\tstopOn: () => !selectAuth(getState()),\n})\n\nexport default accountStatsLoop\n","module.exports = __webpack_public_path__ + \"static/media/no-image-box-eddie.09d4c583.jpg\";","import React from 'react'\nimport { Link } from '@material-ui/core'\nimport { OpenInNew } from '@material-ui/icons'\n\nconst getUrl = url => {\n\turl = (url || '').replace(/^(https?:)?\\/\\//i, '')\n\tif (url) {\n\t\turl = '//' + url\n\t}\n\n\treturn url\n}\n\nconst Anchor = ({\n\thref,\n\ttarget,\n\tchildren,\n\tlabel,\n\tunderline,\n\texternalIcon,\n\tcolor,\n\tcomponent,\n\t...rest\n}) => {\n\tconst isExternal = target && target === '_blank'\n\tconst url = isExternal ? getUrl(href) : href\n\n\tconst linkProps = {\n\t\tunderline: underline || 'none',\n\t\tcolor: color || 'inherit',\n\t\tdraggable: 'false',\n\t\t...(isExternal && { rel: 'noopener noreferrer' }),\n\t\ttarget,\n\t\thref: url,\n\t\tstyle: { wordBreak: 'break-all' }, // TODO: add it where needed only\n\t\t...(component ? { component } : {}),\n\t\t...rest,\n\t}\n\treturn (\n\t\t<Link {...linkProps}>\n\t\t\t{!component && (children || label)}\n\t\t\t{!component && externalIcon && (\n\t\t\t\t<OpenInNew style={{ fontSize: 'small' }} />\n\t\t\t)}\n\t\t</Link>\n\t)\n}\n\nexport const ExternalAnchor = ({ href, children, style, ...rest }) => (\n\t<Anchor\n\t\tstyle={{ fontWeight: 'bold' }}\n\t\tunderline='always'\n\t\ttarget='_blank'\n\t\tcolor='primary'\n\t\texternalIcon\n\t\thref={href}\n\t\t{...rest}\n\t>\n\t\t{children}\n\t</Anchor>\n)\n\nexport default Anchor\n","import { store } from 'store'\n\nexport const execute = store.dispatch\n\nexport const dispatch = store.dispatch\n\nexport const getState = store.getState\n","export const getErrorMsg = err => {\n\tif (!err) {\n\t\treturn ''\n\t} else if (typeof err === 'object') {\n\t\treturn err.msg || err.message || err.errMsg || err.error\n\t} else if (Array.isArray(err)) {\n\t\treturn err.join(', ')\n\t} else {\n\t\treturn err\n\t}\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport * as types from 'constants/actionTypes'\nimport Helper from 'helpers/miscHelpers'\nimport {\n\tselectCompanyData,\n\tselectAccountIdentityAddr,\n\tselectIdentitySideAnalyticsTimeframe,\n\tselectIdentitySideAnalyticsPeriod,\n\tselectSide,\n\tselectMemoryUi,\n\tselectAnalyticsLiveTimestamp,\n\tselectAnalyticsMinAndMaxDates,\n\tt,\n} from 'selectors'\nimport {\n\tgetTimePeriods,\n\tgetBorderPeriodStart,\n} from 'helpers/analyticsTimeHelpers'\nimport { getErrorMsg } from 'helpers/errors'\n\nexport function updateSpinner(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SPINNER,\n\t\t\tspinner: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function updateGlobalUi(item, value, category) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_GLOBAL_UI,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t\tcategory: category,\n\t\t})\n\t}\n}\n\nexport function updateMemoryUi(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_MEMORY_UI,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function updateInitialDataLoaded(dataType, loaded) {\n\treturn function(dispatch, getState) {\n\t\tconst { initialDataLoaded } = selectMemoryUi(getState())\n\t\tif (initialDataLoaded !== true) {\n\t\t\tconst newData = { ...(initialDataLoaded || {}) }\n\t\t\tnewData[dataType] = loaded\n\t\t\treturn dispatch({\n\t\t\t\ttype: types.UPDATE_MEMORY_UI,\n\t\t\t\titem: 'initialDataLoaded',\n\t\t\t\tvalue: newData,\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function updateUiByIdentity(item, value, category) {\n\treturn function(dispatch, getState) {\n\t\tconst identity = selectAccountIdentityAddr(getState())\n\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY,\n\t\t\tidentity,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t\tcategory: category,\n\t\t})\n\t}\n}\n\nexport function updateIdentitySideUi(item, value) {\n\treturn function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst identity = selectAccountIdentityAddr(state)\n\t\tconst side = selectSide(state)\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_UI_BY_IDENTITY_AND_SIDE,\n\t\t\tidentity,\n\t\t\titem,\n\t\t\tvalue,\n\t\t\tside,\n\t\t})\n\t}\n}\n\nexport function addToast({\n\ttype,\n\taction,\n\tlabel = '',\n\ttimeout = false,\n\tunclosable,\n\tanchorOrigin,\n\ttop,\n}) {\n\treturn function(dispatch) {\n\t\tconst id = Helper.getGuid()\n\t\tdispatch({\n\t\t\ttype: types.ADD_TOAST,\n\t\t\ttoast: {\n\t\t\t\ttype,\n\t\t\t\taction,\n\t\t\t\tlabel,\n\t\t\t\ttimeout,\n\t\t\t\tunclosable,\n\t\t\t\tanchorOrigin,\n\t\t\t\ttop,\n\t\t\t\tid,\n\t\t\t},\n\t\t})\n\n\t\treturn id\n\t}\n}\n\nexport function removeToast(toastId) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.REMOVE_TOAST,\n\t\t\ttoast: toastId,\n\t\t})\n\t}\n}\n\nexport function confirmAction(\n\tonConfirm,\n\tonCancel,\n\t{\n\t\tconfirmLabel = '',\n\t\tcancelLabel = '',\n\t\ttitle = '',\n\t\ttext = '',\n\t\tnoCancel = false,\n\t\tnoConfirm = false,\n\t} = {},\n\tnoActionBtns,\n\tactive\n) {\n\treturn async function(dispatch) {\n\t\treturn await dispatch({\n\t\t\ttype: types.CONFIRM_ACTION,\n\t\t\tconfirm: {\n\t\t\t\tonConfirm: onConfirm,\n\t\t\t\tonCancel: onCancel,\n\t\t\t\tdata: {\n\t\t\t\t\tconfirmLabel: confirmLabel,\n\t\t\t\t\tcancelLabel: cancelLabel,\n\t\t\t\t\ttitle: title,\n\t\t\t\t\ttext: text,\n\t\t\t\t\tnoCancel: noCancel,\n\t\t\t\t\tnoConfirm: noConfirm,\n\t\t\t\t},\n\t\t\t\tnoActionBtns,\n\t\t\t\tactive,\n\t\t\t},\n\t\t})\n\t}\n}\n\nexport function updateNav(item, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NAV,\n\t\t\titem: item,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function changeLanguage(lang) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CHANGE_LANGUAGE,\n\t\t\tlang: lang,\n\t\t})\n\t}\n}\n\nexport function updateRegistrationAllowed(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\t\tif (searchParams.get('eddie') === 'themoonicorn') {\n\t\t\tupdateGlobalUi('allowRegistration', true)(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateCompanyData(newData) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst companyData = selectCompanyData(getState())\n\t\t\tconst newCompanyData = { ...companyData, ...newData }\n\t\t\tupdateUiByIdentity('companyData', newCompanyData)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_COMPANY_DATA', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPDATING_COMPANY_DATA'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateSelectedItems(collection, selectedItems) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SELECTED_ITEMS,\n\t\t\tselectedItems,\n\t\t\tcollection,\n\t\t})\n\t}\n}\n\nexport function resetSelectedItems() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_SELECTED_ITEMS,\n\t\t})\n\t}\n}\n\nexport function updateSelectedCampaigns(selectedItems) {\n\treturn function(dispatch) {\n\t\treturn updateSelectedItems('campaigns', selectedItems)(dispatch)\n\t}\n}\n\nexport function refreshCacheAndReload({ version }) {\n\treturn function(dispatch) {\n\t\ttry {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\taction: (\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (caches) {\n\t\t\t\t\t\t\t\t// Service worker cache should be cleared with caches.delete()\n\t\t\t\t\t\t\t\tcaches.keys().then(async function(names) {\n\t\t\t\t\t\t\t\t\tawait Promise.all(names.map(name => caches.delete(name)))\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twindow.location.reload(true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('REFRESH')}\n\t\t\t\t\t</Button>\n\t\t\t\t),\n\t\t\t\tlabel: t('SUCCESS_UPDATING_NEW_APP_VERSION', {\n\t\t\t\t\targs: [version],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPDATING_APP'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function notifyNewTOS() {\n\treturn function(dispatch) {\n\t\ttry {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tunclosable: true,\n\t\t\t\taction: (\n\t\t\t\t\t// eslint-disable-next-line react/react-in-jsx-scope\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\tsize='small'\n\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\twindow.open('https://www.adex.network/tos', '_blank')\n\t\t\t\t\t\t\twindow.location.reload(true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('TOS_CHECK')}\n\t\t\t\t\t</Button>\n\t\t\t\t),\n\t\t\t\tlabel: t('NOTIFICATION_NEW_TOS', {\n\t\t\t\t\targs: [t('TOS_CHECK')],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_APP', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPDATING_APP'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function handleRedirectParams(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('confirm-email')\n\t\tconst identity = searchParams.get('confirm-identity')\n\t\tconst grant = searchParams.get('confirm-grant')\n\t\tconst side = (searchParams.get('go-to-side') || '').toLowerCase()\n\t\tconst selectedIdentity = searchParams.get('login-select-identity')\n\n\t\tif (email && identity && !grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('CONFIRM_IDENTITY_EMAIL', {\n\t\t\t\t\targs: [email, identity],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} else if (email && identity && grant) {\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('CONFIRM_IDENTITY_EMAIL_GRANT', {\n\t\t\t\t\targs: [email, identity, grant],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tif (['advertiser', 'publisher'].includes(side)) {\n\t\t\tupdateGlobalUi('goToSide', side)(dispatch)\n\t\t}\n\n\t\tif (!!selectedIdentity) {\n\t\t\tupdateMemoryUi('loginSelectedIdentity', selectedIdentity)(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateEasterEggsAllowed(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tif (\n\t\t\tsearchParams.get(process.env.EASTER_EGGS_PARAM) ===\n\t\t\tprocess.env.EASTER_EGGS_VALUE\n\t\t) {\n\t\t\tupdateGlobalUi('allowEasterEggs', true)(dispatch)\n\t\t}\n\t}\n}\n\nexport function updatePrivilegesWarningAccepted(accepted) {\n\treturn function(dispatch, getState) {\n\t\tupdateUiByIdentity('privilegesWarningAccepted', accepted)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function hideGettingStarted(side) {\n\treturn function(dispatch, getState) {\n\t\tupdateUiByIdentity('hideGettingStarted', true, side)(dispatch, getState)\n\t}\n}\n\nexport function setGettingStartedExpanded(expanded) {\n\treturn function(dispatch, getState) {\n\t\tupdateUiByIdentity('gettingStartedExpanded', expanded)(dispatch, getState)\n\t}\n}\n\nexport function updateIdSideAnalyticsChartPeriod(periodStart) {\n\treturn function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\n\t\tconst { start, end, callEnd } = getTimePeriods({\n\t\t\ttimeframe,\n\t\t\tstart: periodStart,\n\t\t})\n\t\tupdateIdentitySideUi('sideAnalyticsPeriod', { start, end, callEnd })(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateAnalyticsPeriodPrevNextLive({\n\tnext = false,\n\tlive = false,\n}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst { minDate, maxDate } = selectAnalyticsMinAndMaxDates(state)\n\t\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\n\t\t\tlet { start } = selectIdentitySideAnalyticsPeriod(state)\n\n\t\t\tif (live) {\n\t\t\t\tstart = selectAnalyticsLiveTimestamp(state)\n\t\t\t} else {\n\t\t\t\tconst startIsLive = start === selectAnalyticsLiveTimestamp(state)\n\t\t\t\tstart = getBorderPeriodStart({\n\t\t\t\t\ttimeframe,\n\t\t\t\t\tstart,\n\t\t\t\t\tnext,\n\t\t\t\t\tstartIsLive,\n\t\t\t\t\tminDate,\n\t\t\t\t\tmaxDate,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tupdateIdSideAnalyticsChartPeriod(start)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS_PREV_PERIOD', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_ANALYTICS_PREV_PERIOD', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateIdSideAnalyticsChartTimeframe(timeframe) {\n\treturn function(dispatch, getState) {\n\t\tupdateIdentitySideUi('sideAnalyticsTimeframe', timeframe)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t\tupdateAnalyticsPeriodPrevNextLive({ live: true })(dispatch, getState)\n\t}\n}\n","import { ethers, constants } from 'ethers'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { isEthAddress } from 'helpers/validators'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\nimport { AUTH_TYPES } from 'constants/misc'\n\nexport const isEthAddressERC20 = async (addr = '') => {\n\ttry {\n\t\tif (isEthAddress(addr)) {\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\n\t\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\t\tawait Promise.all([\n\t\t\t\tcontract.totalSupply(),\n\t\t\t\tcontract.balanceOf(constants.AddressZero),\n\t\t\t\tcontract.allowance(constants.AddressZero, constants.AddressZero),\n\t\t\t])\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t} catch (error) {\n\t\treturn false\n\t}\n}\n\nexport const getERC20Balance = async ({ addr = '', balanceFor = '' }) => {\n\ttry {\n\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\n\t\tconst contract = new ethers.Contract(addr, ERC20TokenABI, provider)\n\t\tconst balance = await contract.balanceOf(balanceFor)\n\n\t\treturn balance\n\t} catch (error) {\n\t\tconsole.error('ERR_GETTING_ERC20_BALANCE')\n\t\treturn null\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\n\nexport const isConnectionLost = async authType => {\n\ttry {\n\t\t// When we remove Metamask\n\t\t// if in 5 sec doesn't connect will\n\t\t// return that connection is lost\n\t\tconst eth = await Promise.race([\n\t\t\tgetEthers(authType),\n\t\t\tnew Promise((resolve, reject) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\treject('Timed out')\n\t\t\t\t}, 5000)\n\t\t\t}),\n\t\t])\n\t\tawait eth.provider.getBlockNumber()\n\t\treturn false\n\t} catch (error) {\n\t\treturn true\n\t}\n}\n","import { utils } from 'ethers'\nimport { isEthAddressERC20 } from 'services/smart-contracts/actions/erc20'\nimport { isConnectionLost } from 'services/smart-contracts/actions/common'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { AUTH_TYPES } from 'constants/misc'\n/*eslint-disable */\nconst urlRegex = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/\nconst onlyDigitsRegex = /^([1-9]+\\d*)$/\n// Min 8 chars - at least 1 uppercase, 1 lowercase, 1 digit\nconst passwordRegex = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/\n/*eslint-enable */\n\nexport const validUrl = url => {\n\turl = url || ''\n\tconst isValid = urlRegex.test(url)\n\treturn isValid\n}\n\nexport const validateNumber = numberStr => {\n\tnumberStr = numberStr || ''\n\tconst isValid =\n\t\t!isNaN(parseFloat(numberStr)) && isFinite(numberStr) && numberStr > 0\n\treturn isValid\n}\n\n// > 0\nexport const validPositiveInt = intStr => {\n\tintStr = intStr || ''\n\tconst isValid = onlyDigitsRegex.test(intStr)\n\treturn isValid\n}\n\nexport const validName = name => {\n\tlet msg = ''\n\tconst errMsgArgs = []\n\tif (!name) {\n\t\tmsg = 'ERR_REQUIRED_FIELD'\n\t} else if (name.length < 4) {\n\t\tmsg = 'ERR_MIN_LENGTH'\n\t\terrMsgArgs.push(4)\n\t} else if (name.length > 128) {\n\t\tmsg = 'ERR_MAX_LENGTH'\n\t\terrMsgArgs.push(128)\n\t}\n\n\treturn {\n\t\tmsg,\n\t\terrMsgArgs,\n\t}\n}\n\nexport const validPassword = password => {\n\tpassword = password || ''\n\tconst isValid = passwordRegex.test(password)\n\treturn isValid\n}\n\nexport const isEthAddress = (addr = '') => {\n\ttry {\n\t\tutils.getAddress(addr)\n\t} catch (e) {\n\t\treturn false\n\t}\n\treturn true\n}\n\nexport const isEthAddressZero = (addr = '') => {\n\treturn isEthAddress(addr)\n\t\t? utils.bigNumberify(utils.getAddress(addr)).isZero()\n\t\t: false\n}\n\nexport const validEthAddress = async ({\n\taddr = '',\n\tnonZeroAddr,\n\tnonERC20,\n\tauthType,\n\tquickCheck = false,\n}) => {\n\tlet msg = ''\n\ttry {\n\t\tconst notEthAddress = !addr || !isEthAddress(addr)\n\t\tif (notEthAddress) {\n\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS'\n\t\t} else if (!quickCheck) {\n\t\t\tconst ethAddressZero = isEthAddressZero(addr)\n\t\t\tif (nonZeroAddr && ethAddressZero) {\n\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_ZERO'\n\t\t\t} else {\n\t\t\t\tconst connectionLost = await isConnectionLost(authType)\n\t\t\t\tif (connectionLost) {\n\t\t\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t\t\t\t} else {\n\t\t\t\t\tconst ethAddressERC20 = await isEthAddressERC20(addr)\n\t\t\t\t\tif (!ethAddressZero && nonERC20 && ethAddressERC20)\n\t\t\t\t\t\tmsg = 'ERR_INVALID_ETH_ADDRESS_TOKEN'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tif (error === 'Non-Ethereum browser detected.')\n\t\t\tmsg = 'ERR_INVALID_CONNECTION_LOST'\n\t}\n\treturn { msg }\n}\n\nexport const freeAdExENS = async ({ username = '' }) => {\n\tlet msg = ''\n\ttry {\n\t\tif (username === '') {\n\t\t\tmsg = 'ERR_ENS_REQUIRED'\n\t\t} else {\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\n\t\t\tconst ensAddress = await provider.resolveName(\n\t\t\t\t`${username}.${process.env.REVERSE_REGISTRAR_PARENT}`\n\t\t\t)\n\n\t\t\tif (ensAddress && !isEthAddressZero(ensAddress)) msg = 'ERR_ENS_NOT_FREE'\n\t\t}\n\t} catch (error) {\n\t\tif (error.code === 'INVALID_ARGUMENT') {\n\t\t\tmsg = 'ERR_INVALID_ARGUMENT_ENS'\n\t\t} else {\n\t\t\tmsg = 'ERR_ENS_CHECK'\n\t\t}\n\t}\n\treturn { msg }\n}\n","import Helper from 'helpers/miscHelpers'\nimport { getState } from 'actions'\nimport { selectAuthSig } from 'selectors'\nimport { isDemoMode } from 'services/store-data/auth'\nimport { t } from 'selectors'\n\nexport const handleRequesterErrorRes = ({ res, text }) => {\n\tlet message = text\n\ttry {\n\t\tconst textObj = JSON.parse(text)\n\t\tmessage =\n\t\t\ttextObj.message || textObj.msg || textObj.errMsg || textObj.error || text\n\t} catch {}\n\n\tthrow new Error(\n\t\tt('SERVICE_ERROR_MSG', {\n\t\t\targs: [res.url, res.status, res.statusText, message],\n\t\t})\n\t)\n}\n\nclass AdexNodeRequester {\n\tconstructor({ baseUrl }) {\n\t\tthis.baseUrl = baseUrl\n\t}\n\n\tgetAuthHeaders = ({ authSig } = {}) => {\n\t\tconst authSignature = selectAuthSig(getState())\n\t\treturn {\n\t\t\t'X-User-Signature': authSig || authSignature,\n\t\t}\n\t}\n\n\tnoCacheHeaders = {\n\t\t'Cache-Control': 'no-cache',\n\t\tExpires: '0',\n\t\tPragma: 'no-cache',\n\t}\n\n\tgetUrl = (base, route, query) => {\n\t\tlet url = base + '/'\n\t\tif (route) {\n\t\t\troute = route.replace(/^\\//, '')\n\t\t\turl += route\n\t\t}\n\n\t\turl += query\n\n\t\treturn url\n\t}\n\n\tfetch = ({\n\t\troute = '',\n\t\tqueryParams = {},\n\t\tmethod = 'GET',\n\t\tbody,\n\t\theaders = {},\n\t\tuserAddr,\n\t\tauthSig = '',\n\t\tauthToken,\n\t\tnoCache = false,\n\t}) => {\n\t\tconst qp = { ...queryParams }\n\t\tif (isDemoMode()) {\n\t\t\tqp.demo = true\n\t\t}\n\n\t\tconst query = Helper.getQuery(qp)\n\t\tconst url = this.getUrl(this.baseUrl, route, query)\n\n\t\tconst hdrs = {\n\t\t\t...(noCache ? this.noCacheHeaders : {}),\n\t\t\t...this.getAuthHeaders({ authSig }),\n\t\t\t...headers,\n\t\t}\n\t\treturn fetch(url, {\n\t\t\tmethod: method,\n\t\t\theaders: hdrs,\n\t\t\tbody: body,\n\t\t})\n\t}\n}\n\nexport default AdexNodeRequester\n","import requester from './requester'\n\nexport default requester\nexport * from './requester'\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\n\nconst ADEX_RELAYER_HOST = process.env.ADEX_RELAYER_HOST\nconst requester = new Requester({ baseUrl: ADEX_RELAYER_HOST })\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getOwnerIdentities = ({ owner }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/by-owner/${owner}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getIdentityData = ({ identityAddr }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getRelayerConfigData = () => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'relayer/cfg',\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const executeTx = ({ txnsRaw, signatures, identityAddr, channel }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}/execute`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttxnsRaw,\n\t\t\t\tsignatures,\n\t\t\t\tidentityAddr,\n\t\t\t\tchannel,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const regAccount = ({\n\towner,\n\temail,\n\tknowFrom,\n\tmoreInfo,\n\tbytecode,\n\tidentityFactoryAddr,\n\tbaseIdentityAddr,\n\tsalt,\n\tidentityAddr,\n\tprivileges,\n\troutineAuthorizationsRaw,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/${identityAddr}`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\towner,\n\t\t\t\temail,\n\t\t\t\tknowFrom,\n\t\t\t\tmoreInfo,\n\t\t\t\tbytecode,\n\t\t\t\tidentityFactoryAddr,\n\t\t\t\tbaseIdentityAddr,\n\t\t\t\tsalt,\n\t\t\t\tidentityAddr,\n\t\t\t\tprivileges,\n\t\t\t\troutineAuthorizationsRaw,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getQuickWallet = ({ hash }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet/${encodeURIComponent(hash)}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const backupWallet = ({ email, salt, hash, encryptedWallet }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `wallet`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail,\n\t\t\t\tsalt,\n\t\t\t\thash,\n\t\t\t\tencryptedWallet,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getEmail = ({ email }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `identity/email/${encodeURIComponent(email)}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n","import * as types from 'constants/actionTypes'\nimport { validEthAddress, freeAdExENS } from '../helpers/validators'\nimport { translate } from 'services/translations/translations'\nimport { addToast, updateSpinner } from './uiActions'\nimport { bigNumberify, parseUnits } from 'ethers/utils'\nimport { validations, Joi, schemas, constants } from 'adex-models'\nimport { validPassword } from 'helpers/validators'\nimport {\n\tt,\n\tselectAuthType,\n\tselectAccountStatsRaw,\n\tselectAccountStatsFormatted,\n\tselectMainToken,\n} from 'selectors'\nimport { getErrorMsg } from 'helpers/errors'\nimport { getEmail } from 'services/adex-relayer/actions'\nimport { formatTokenAmount } from 'helpers/formatters'\nconst { IdentityPrivilegeLevel } = constants\n\nconst { campaignPut, account } = schemas\nconst { isNumberString } = validations\n\nexport function validateAddress({ addr, dirty, validate, name, nonERC20 }) {\n\treturn async function(dispatch, getState) {\n\t\tconst authType = selectAuthType(getState())\n\t\ttry {\n\t\t\tif (validate) validate(name, { isValid: false })\n\t\t\tupdateSpinner(name, dirty)(dispatch)\n\t\t\tconst { msg } = await validEthAddress({\n\t\t\t\taddr,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tnonERC20,\n\t\t\t\tauthType,\n\t\t\t})\n\t\t\tconst isValid = !msg\n\n\t\t\tif (validate) {\n\t\t\t\tvalidate(name, { isValid: isValid, err: { msg: msg }, dirty: dirty })\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_ETH_ADDRESS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_VALIDATING_ETH_ADDRESS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(name, false)(dispatch)\n\t}\n}\n\nexport function updateValidationErrors(item, newErrors) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\terrors: newErrors,\n\t\t})\n\t}\n}\n\nexport function resetValidationErrors(item, key) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ITEM_VALIDATION,\n\t\t\titem,\n\t\t\tkey,\n\t\t})\n\t}\n}\n\nexport function validate(\n\tvalidateId,\n\tkey,\n\t{\n\t\tisValid,\n\t\terr = { msg: '', args: [], fields: {} },\n\t\tdirty = false,\n\t\tremoveAll = false,\n\t}\n) {\n\treturn async function(dispatch, getState) {\n\t\tif (!isValid) {\n\t\t\tlet errors = {}\n\t\t\terrors[key] = {\n\t\t\t\terrMsg: t(err.msg, { args: err.args }),\n\t\t\t\terrFields: err.fields,\n\t\t\t\tdirty: dirty,\n\t\t\t}\n\n\t\t\tupdateValidationErrors(validateId, errors)(dispatch)\n\t\t} else if (removeAll) {\n\t\t\tresetValidationErrors(validateId)(dispatch)\n\t\t} else {\n\t\t\tresetValidationErrors(validateId, key)(dispatch)\n\t\t}\n\n\t\treturn isValid\n\t}\n}\n\nexport const handleAfterValidation = async ({\n\tisValid,\n\tonValid,\n\tonInvalid,\n}) => {\n\tif (isValid && typeof onValid === 'function') {\n\t\tawait onValid()\n\t}\n\tif (!isValid && typeof onInvalid === 'function') {\n\t\tawait onInvalid()\n\t}\n}\n\nexport function validateEmailCheck(validateId, emailCheck, email, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!emailCheck && !!email && emailCheck === email\n\t\tvalidate(validateId, 'emailCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_EMAIL_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePassword(validateId, password, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = validPassword(password)\n\t\tvalidate(validateId, 'password', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PASSWORD' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePasswordCheck(\n\tvalidateId,\n\tpasswordCheck,\n\tpassword,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!passwordCheck && !!password && passwordCheck === password\n\t\tvalidate(validateId, 'passwordCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PASSWORD_CHECK' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateTOS(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'tosCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_TOS_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateENS({ username, dirty, validateId }) {\n\treturn async function(dispatch) {\n\t\tconst { msg } = await freeAdExENS({\n\t\t\tusername,\n\t\t})\n\t\tconst isValid = !msg\n\t\tvalidate(validateId, 'username', {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\nexport function validateWallet(validateId, wallet, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!wallet && !!wallet.address\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_NO_WALLET_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateIdentityContractOwner(\n\tvalidateId,\n\tidentityContractOwner,\n\tdirty\n) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!identityContractOwner\n\t\tvalidate(validateId, 'identityContractOwner', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_NO_IDENTITY_CONTRACT_OWNER' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\nexport function validateKnowFrom(validateId, knowFrom, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!knowFrom\n\t\tvalidate(validateId, 'knowFrom', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_WHERE_YOU_KNOW_US_DROPDOWN_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateMoreInfo(validateId, knowFrom, moreInfo, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\tknowFrom === 'other' || knowFrom === 'event' ? !!moreInfo : true\n\t\tvalidate(validateId, 'moreInfo', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_WHERE_YOU_KNOW_US_MOREINFO_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateAccessWarning(validateId, accepted, dirty) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!accepted\n\t\tvalidate(validateId, 'accessWarningCheck', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_ACCESS_WARNING_CHECK' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\n// export function validateCampaignMinTargetingScore({\n// \tvalidateId,\n// \tadUnits,\n// \tminTargetingScore,\n// \tdirty,\n// }) {\n// \treturn async function(dispatch, getState) {\n// \t\tconst isValid =\n// \t\t\t!minTargetingScore ||\n// \t\t\t(adUnits.length && adUnits.every(u => !!u.targeting.length))\n// \t\tvalidate(validateId, 'minTargetingScore', {\n// \t\t\tisValid,\n// \t\t\terr: { msg: 'ERR_MIN_TARGETING_SCORE' },\n// \t\t\tdirty,\n// \t\t})(dispatch)\n\n// \t\treturn isValid\n// \t}\n// }\n\nexport function validateCampaignUnits({ validateId, adUnits, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid = !!adUnits && adUnits.length\n\t\tvalidate(validateId, 'adUnits', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_ADUNITS_REQUIRED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignValidators({ validateId, validators, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\t!!validators &&\n\t\t\tvalidators.length === 2 &&\n\t\t\t!!validators[0] &&\n\t\t\t!!validators[1] &&\n\t\t\t!!validators[0].id &&\n\t\t\t!!validators[0].url &&\n\t\t\tvalidators[0].feeNum !== undefined &&\n\t\t\tvalidators[0].feeDen !== undefined &&\n\t\t\tvalidators[0].feeAddr !== undefined &&\n\t\t\t!!validators[1].id &&\n\t\t\t!!validators[1].url &&\n\t\t\tvalidators[1].feeNum !== undefined &&\n\t\t\tvalidators[1].feeDen !== undefined &&\n\t\t\tvalidators[0].feeAddr !== undefined\n\n\t\tvalidate(validateId, 'validators', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_VALIDATORS' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nconst validateAmounts = ({\n\tmaxDeposit = bigNumberify(0),\n\tdepositAmount,\n\tminPerImpression,\n}) => {\n\tlet error = null\n\tif (!depositAmount.isZero() && depositAmount.gt(maxDeposit)) {\n\t\terror = {\n\t\t\tmessage: 'ERR_INSUFFICIENT_IDENTITY_BALANCE',\n\t\t\tprop: 'depositAmount',\n\t\t}\n\t}\n\tif (!depositAmount.isZero() && depositAmount.lt(minPerImpression)) {\n\t\terror = { message: 'ERR_CPM_OVER_DEPOSIT', prop: 'minPerImpression' }\n\t}\n\tif (depositAmount.lte(bigNumberify(0))) {\n\t\terror = { message: 'ERR_ZERO_DEPOSIT', prop: 'depositAmount' }\n\t}\n\tif (minPerImpression.lte(bigNumberify(0))) {\n\t\terror = { message: 'ERR_ZERO_CPM', prop: 'minPerImpression' }\n\t}\n\n\treturn { error }\n}\n\nexport function validateFees({\n\tvalidateId,\n\tfeesAmountBN,\n\tamountToSpendBN,\n\terrorMsg = '',\n\tdirty,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tlet isValid = true\n\t\tlet msg = errorMsg\n\t\tlet args = []\n\t\tconst state = getState()\n\n\t\tconst {\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\n\t\t} = selectAccountStatsRaw(state)\n\t\tconst {\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\n\t\t} = selectAccountStatsFormatted(state)\n\t\tconst amountNeeded = bigNumberify(feesAmountBN).add(\n\t\t\tbigNumberify(amountToSpendBN)\n\t\t)\n\n\t\tconst { symbol, decimals } = selectMainToken(state)\n\n\t\tif (amountNeeded.gt(bigNumberify(availableIdentityBalanceMainTokenRaw))) {\n\t\t\tconst amountNeededFormatted = formatTokenAmount(\n\t\t\t\tamountNeeded,\n\t\t\t\tdecimals,\n\t\t\t\tnull,\n\t\t\t\t2\n\t\t\t)\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_TX_INSUFFICIENT_BALANCE'\n\t\t\targs = [\n\t\t\t\tamountNeededFormatted,\n\t\t\t\tsymbol,\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\n\t\t\t\tsymbol,\n\t\t\t]\n\t\t}\n\n\t\tawait validate(validateId, 'fees', {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateWithdrawAmount({\n\tvalidateId,\n\tamountToWithdraw,\n\tavailableIdentityBalanceMainTokenRaw,\n\tavailableIdentityBalanceMainTokenFormatted,\n\tdecimals,\n\tsymbol,\n\tdirty,\n}) {\n\treturn async function(dispatch) {\n\t\tlet isValid = isNumberString(amountToWithdraw)\n\n\t\tlet msg = 'ERR_INVALID_AMOUNT_VALUE'\n\t\tlet args = []\n\t\tconst amount = isValid ? parseUnits(amountToWithdraw, decimals) : null\n\t\tif (isValid && amount.isZero()) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_ZERO_WITHDRAW_AMOUNT'\n\t\t} else if (\n\t\t\tisValid &&\n\t\t\tamount.gt(bigNumberify(availableIdentityBalanceMainTokenRaw))\n\t\t) {\n\t\t\tisValid = false\n\t\t\tmsg = 'ERR_MAX_AMOUNT_TO_WITHDRAW'\n\t\t\targs = [availableIdentityBalanceMainTokenFormatted, symbol]\n\t\t}\n\n\t\tawait validate(validateId, 'amountToWithdraw', {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateNumberString({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\tintegerOnly,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tlet isValid = isNumberString(value)\n\t\tlet msg = 'ERR_INVALID_AMOUNT'\n\n\t\tif (isValid && integerOnly) {\n\t\t\tconst int = parseInt(value, 10)\n\t\t\tif (int.toString() !== value.toString()) {\n\t\t\t\tisValid = false\n\t\t\t\tmsg = 'ERR_INVALID_INTEGER_NUMBER'\n\t\t\t}\n\t\t}\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg, args: [value] },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignAmount({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\terrMsg,\n\tdepositAmount,\n\tpricingBounds,\n\tmaxDeposit,\n\tdecimals,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValidNumber = isNumberString(value)\n\t\tlet isValid = isValidNumber && !!parseUnits(value, decimals)\n\t\tlet msg = errMsg || 'ERR_INVALID_AMOUNT'\n\n\t\tif (isValid) {\n\t\t\tconst deposit = prop === 'depositAmount' ? value : depositAmount\n\t\t\tconst min =\n\t\t\t\tprop === 'pricingBounds_min' ? value : pricingBounds.IMPRESSION.min\n\n\t\t\tconst isValidDeposit = isNumberString(deposit)\n\t\t\tconst isValidMin = isNumberString(min)\n\n\t\t\tif (isValidDeposit && isValidMin) {\n\t\t\t\tconst result = validateAmounts({\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t\tdepositAmount: parseUnits(deposit, decimals),\n\t\t\t\t\tminPerImpression: parseUnits(min, decimals),\n\t\t\t\t})\n\n\t\t\t\tisValid = !result.error\n\t\t\t\tmsg = result.error ? result.error.message : ''\n\t\t\t}\n\t\t}\n\n\t\tvalidate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nconst MIN_CAMPAIGN_PERIOD = 1 * 60 * 60 * 1000 // 1 hour\n\nconst getCampaignDatesValidation = ({\n\tcreated = Date.now(),\n\twithdrawPeriodStart,\n\tactiveFrom,\n}) => {\n\tlet error = null\n\n\tif (withdrawPeriodStart && activeFrom && withdrawPeriodStart <= activeFrom) {\n\t\terror = { message: 'ERR_END_BEFORE_START', prop: 'withdrawPeriodStart' }\n\t} else if (\n\t\twithdrawPeriodStart &&\n\t\tactiveFrom &&\n\t\twithdrawPeriodStart - activeFrom < MIN_CAMPAIGN_PERIOD\n\t) {\n\t\terror = {\n\t\t\tmessage: 'ERR_MIN_CAMPAIGN_PERIOD',\n\t\t\targs: ['1', 'HOUR'],\n\t\t\tprop: 'withdrawPeriodStart',\n\t\t}\n\t} else if (withdrawPeriodStart && withdrawPeriodStart < created) {\n\t\terror = { message: 'ERR_END_BEFORE_NOW', prop: 'withdrawPeriodStart' }\n\t} else if (activeFrom && activeFrom < created) {\n\t\terror = { message: 'ERR_START_BEFORE_NOW' }\n\t} else if (activeFrom && !withdrawPeriodStart) {\n\t\terror = { message: 'ERR_NO_END', prop: 'withdrawPeriodStart' }\n\t} else if (!(withdrawPeriodStart || activeFrom)) {\n\t\terror = { message: 'ERR_NO_DATE_SET', prop: 'withdrawPeriodStart' }\n\t}\n\n\treturn { error }\n}\n\nexport function validateCampaignDates({\n\tvalidateId,\n\tprop,\n\tvalue,\n\tdirty,\n\twithdrawPeriodStart,\n\tactiveFrom,\n\tcreated,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst withdraw =\n\t\t\tprop === 'withdrawPeriodStart' ? value : withdrawPeriodStart\n\t\tconst from = prop === 'activeFrom' ? value : activeFrom\n\n\t\tconst result = getCampaignDatesValidation({\n\t\t\twithdrawPeriodStart: withdraw,\n\t\t\tactiveFrom: from,\n\t\t\tcreated,\n\t\t})\n\n\t\tvalidate(validateId, 'activeFrom', {\n\t\t\tisValid: !!from,\n\t\t\terr: {\n\t\t\t\tmsg: 'ERR_NO_DATE_SET',\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tvalidate(validateId, 'withdrawPeriodStart', {\n\t\t\tisValid: !(result.error && result.error.prop === 'withdrawPeriodStart'),\n\t\t\terr: {\n\t\t\t\tmsg: result.error ? result.error.message : '',\n\t\t\t\targs: result.error && (result.error.args || []),\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tconst isValid = !result.error\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateCampaignTitle({ validateId, title, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst result = Joi.validate(title, campaignPut.title)\n\n\t\tconst isValid = !result.error\n\n\t\tvalidate(validateId, 'title', {\n\t\t\tisValid,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEthAddress({\n\tvalidateId,\n\tprop,\n\taddr,\n\tnonZeroAddr = true,\n\tnonERC20 = true,\n\tdirty,\n\tauthType,\n\tquickCheck,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { msg } = await validEthAddress({\n\t\t\taddr,\n\t\t\tnonZeroAddr,\n\t\t\tnonERC20,\n\t\t\tauthType,\n\t\t\tquickCheck,\n\t\t})\n\n\t\tconst isValid = !msg\n\n\t\tawait validate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validatePrivilegesAddress({\n\tvalidateId,\n\tsetAddr = '',\n\twalletAddr = '',\n\tprivLevel,\n\tauthType,\n\twarningAccepted,\n\tdirty,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst isCurrentAddress =\n\t\t\tsetAddr && setAddr.toLowerCase() === walletAddr.toLowerCase()\n\t\tlet isValid = warningAccepted || !isCurrentAddress\n\n\t\tlet msg = ''\n\t\tconst args = [`PRIV_${privLevel}_LABEL`, authType.toUpperCase()]\n\t\tif (isCurrentAddress && privLevel === 0) {\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_0'\n\t\t} else if (isCurrentAddress && privLevel === 1) {\n\t\t\tmsg = 'ERR_PRIV_LVL_CURRENT_1'\n\t\t} else if (isCurrentAddress && privLevel >= 2) {\n\t\t\tisValid = true\n\t\t} else if (!isCurrentAddress) {\n\t\t\tisValid = true\n\t\t}\n\n\t\tawait validate(validateId, 'setAddrWarning', {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn { isValid, msg }\n\t}\n}\n\nexport function validatePrivLevel({ validateId, privLevel, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tconst isValid =\n\t\t\tObject.values(IdentityPrivilegeLevel).indexOf(privLevel) > -1\n\t\tawait validate(validateId, 'privLevel', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_PRIV_LEVEL_NOT_SELECTED' },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateSchemaProp({ validateId, value, prop, schema, dirty }) {\n\treturn async function(dispatch) {\n\t\tconst result = Joi.validate(value, schema)\n\t\tconst isValid = !result.error\n\n\t\tawait validate(validateId, prop, {\n\t\t\tisValid,\n\t\t\terr: { msg: result.error ? result.error.message : '' },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport function validateEmail(validateId, email, dirty, validateNotExisting) {\n\treturn async function(dispatch) {\n\t\tconst result = Joi.validate(email, account.email)\n\t\tlet isValid = !result.error\n\t\tlet msg = result.error ? result.error.message : ''\n\n\t\tif (validateNotExisting && isValid) {\n\t\t\tconst { existing } = (await getEmail({ email })) || {}\n\t\t\tisValid = existing === false\n\t\t\tmsg = 'EMAIL_ALREADY_USED'\n\t\t}\n\n\t\tawait validate(validateId, 'email', {\n\t\t\tisValid,\n\t\t\terr: { msg },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n\nexport const locationAudienceInputError = ({ apply, ...values } = {}) => {\n\tif (!apply) {\n\t\treturn 'ERR_LOCATION_AUDIENCE_NOT_SELECTED'\n\t} else if (apply === 'in' && !values.in.length) {\n\t\treturn 'ERR_LOCATION_AUDIENCE_IN_NOT_SELECTED'\n\t} else if (apply === 'nin' && !values.nin.length) {\n\t\treturn 'ERR_LOCATION_AUDIENCE_NIN_NOT_SELECTED'\n\t}\n}\n\nexport const publishersAudienceInputError = ({ apply, ...values } = {}) => {\n\tif (!apply) {\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_NOT_SELECTED'\n\t} else if (apply === 'in' && (!values.in || !values.in.length)) {\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_IN_NOT_SELECTED'\n\t} else if (apply === 'nin' && (!values.nin || !values.nin.length)) {\n\t\treturn 'ERR_PUBLISHERS_AUDIENCE_NIN_NOT_SELECTED'\n\t}\n}\n\nexport const categoriesAudienceInputError = ({\n\tapply = [],\n\t...values\n} = {}) => {\n\tif (!apply.includes('in')) {\n\t\treturn 'ERR_CATEGORIES_AUDIENCE_NOT_SELECTED'\n\t} else if (apply.includes('in') && (!values.in || !values.in.length)) {\n\t\treturn 'ERR_CATEGORIES_AUDIENCE_IN_NOT_SELECTED'\n\t}\n}\n\nexport function validateAudience({ validateId, propName, inputs, dirty }) {\n\treturn async function(dispatch) {\n\t\tconst { location, categories, publishers } = inputs\n\n\t\tconst errors = [\n\t\t\tlocationAudienceInputError(location),\n\t\t\tpublishersAudienceInputError(publishers),\n\t\t\tcategoriesAudienceInputError(categories),\n\t\t]\n\n\t\tconst isValid = errors.every(e => !e)\n\t\tconst errArgs = errors\n\t\t\t.filter(e => !!e)\n\t\t\t.map(e => t(e))\n\t\t\t.join(', ')\n\n\t\tawait validate(validateId, propName, {\n\t\t\tisValid,\n\t\t\terr: {\n\t\t\t\tmsg: 'ERR_AUDIENCE_INPUT',\n\t\t\t\targs: [errArgs],\n\t\t\t\tfields: {\n\t\t\t\t\tlocation: !!errors[0],\n\t\t\t\t\tpublishers: !!errors[1],\n\t\t\t\t\tcategories: !!errors[2],\n\t\t\t\t},\n\t\t\t},\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n","import { validate } from 'actions'\nimport { getMediaSize, checkExactishAspect } from 'helpers/mediaHelpers'\n\nexport function validateMediaSize({\n\tvalidateId,\n\tmedia,\n\tpropName,\n\tdirty,\n\twidthTarget,\n\theightTarget,\n\tmsg,\n\texact,\n\trequired,\n} = {}) {\n\treturn async function(dispatch) {\n\t\tconst { mime, tempUrl } = media\n\t\tlet isValid = mime && tempUrl\n\t\tlet args = [widthTarget, heightTarget, 'px']\n\n\t\tif (!required && !media.tempUrl) {\n\t\t\tisValid = true\n\t\t}\n\n\t\tif (required && isValid) {\n\t\t\tconst size = await getMediaSize({ mime: media.mime, src: media.tempUrl })\n\t\t\tconst mediaWidth = size.width\n\t\t\tconst mediaHeight = size.height\n\n\t\t\tif (exact) {\n\t\t\t\tisValid = checkExactishAspect(\n\t\t\t\t\twidthTarget,\n\t\t\t\t\tmediaWidth,\n\t\t\t\t\theightTarget,\n\t\t\t\t\tmediaHeight\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif (!exact && (widthTarget < mediaWidth || heightTarget < mediaHeight)) {\n\t\t\t\tisValid = false\n\t\t\t}\n\t\t}\n\n\t\tawait validate(validateId, propName, {\n\t\t\tisValid,\n\t\t\terr: { msg, args },\n\t\t\tdirty,\n\t\t})(dispatch)\n\n\t\treturn isValid\n\t}\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { logOut } from 'services/store-data/auth'\nimport moment from 'moment'\n\nconst ADEX_MARKET_HOST = process.env.ADEX_MARKET_HOST\nconst requester = new Requester({ baseUrl: ADEX_MARKET_HOST })\n\nconst processResponse = (res, dontThrow, skipRedirect) => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\tif (res.status === 401 || res.status === 403) {\n\t\t\tlogOut(skipRedirect)\n\t\t}\n\t\tif (!dontThrow) {\n\t\t\thandleRequesterErrorRes({ res, text })\n\t\t}\n\t})\n}\n\nexport const getSession = ({\n\tidentity,\n\tmode,\n\tsignature,\n\tauthToken,\n\thash,\n\ttypedData,\n\tsignerAddress,\n}) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'auth/',\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify({\n\t\t\t\tidentity,\n\t\t\t\tmode,\n\t\t\t\tsignature,\n\t\t\t\tauthToken,\n\t\t\t\thash,\n\t\t\t\ttypedData,\n\t\t\t\tsignerAddress,\n\t\t\t}),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const checkSession = ({ authSig, skipErrToast }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'session',\n\t\t\tmethod: 'GET',\n\t\t\tauthSig,\n\t\t\tskipErrToast,\n\t\t})\n\t\t.then(res => processResponse(res, true, true))\n}\n\nexport const uploadImage = ({ imageBlob, imageName = '', authSig }) => {\n\tconst formData = new FormData()\n\tformData.append('media', imageBlob, imageName)\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'media',\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData,\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nconst convertItemToJSON = item => {\n\tconst itemToConvert = { ...item }\n\tif (itemToConvert.created && moment.isMoment(itemToConvert.created)) {\n\t\titemToConvert.created = moment.unix(itemToConvert.created) / 1000\n\t}\n\n\treturn JSON.stringify(itemToConvert)\n}\n\nexport const getAdUnits = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAdUnitById = ({ unitId }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `units/${unitId}`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdUnit = ({ unit, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'units',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdUnit = ({ unit, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `units/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(unit),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getAdSlots = ({ identity }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { identity },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getTargetingData = () => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots/targeting-data',\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAdSlot = ({ slot, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateAdSlot = ({ slot, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `slots/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(slot),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getUserCampaigns = ({ authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns/by-owner',\n\t\t\tmethod: 'GET',\n\t\t\tnoCache: true,\n\t\t\tauthSig,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaignMarket = ({ campaign, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${campaign.id}/close`,\n\t\t\tmethod: 'PUT',\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getCampaigns = ({\n\tall,\n\tstatuses,\n\tbyEarner,\n\tbyCreator,\n\tcacheBrake,\n} = {}) => {\n\tconst queryParams = {\n\t\t...(all && { all: true }),\n\t\t...(statuses && { status: statuses.join(',') }),\n\t\tbyEarner,\n\t\tbyCreator,\n\t\t...(cacheBrake && { cacheBrake: Date.now() }),\n\t}\n\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'campaigns',\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const updateCampaign = ({ campaign, id, authSig }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `campaigns/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(campaign),\n\t\t\tauthSig,\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const verifyWebsite = ({ websiteUrl }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'slots/verify-website',\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON({ websiteUrl }),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getUserAudiences = () => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: 'audiences',\n\t\t\tmethod: 'GET',\n\t\t\tnoCache: true,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const getUserAudienceByCampaign = ({ campaignId }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `audiences/${campaignId}`,\n\t\t\tmethod: 'GET',\n\t\t\tnoCache: true,\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const putAudience = ({ audience, id }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `audiences/${id}`,\n\t\t\tmethod: 'PUT',\n\t\t\tbody: convertItemToJSON(audience),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const postAudience = ({ audience }) => {\n\treturn requester\n\t\t.fetch({\n\t\t\troute: `audiences`,\n\t\t\tmethod: 'POST',\n\t\t\tbody: convertItemToJSON(audience),\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t})\n\t\t.then(processResponse)\n}\n","import { constants } from 'adex-models'\nimport { translate } from 'services/translations/translations'\n\nconst autocompleteLocationsSingleSelect = () => {\n\treturn constants.AllCountries.map(country => {\n\t\treturn {\n\t\t\tlabel: country.name,\n\t\t\tvalue: country.value,\n\t\t}\n\t})\n}\n\nconst autocompleteGendersSingleSelect = () => {\n\treturn constants.Genders.map(gender => {\n\t\treturn {\n\t\t\tlabel: translate(gender.split('_')[1]),\n\t\t\tvalue: gender,\n\t\t}\n\t})\n}\n\nconst autocompleteTagsSingleSelect = () => {\n\treturn constants.PredefinedTags.map(tag => {\n\t\treturn {\n\t\t\tlabel: tag._id,\n\t\t\tvalue: tag._id,\n\t\t}\n\t})\n}\n\nexport const AcLocations = autocompleteLocationsSingleSelect()\nexport const AcGenders = autocompleteGendersSingleSelect()\nexport const AcTags = autocompleteTagsSingleSelect()\n\nexport const SOURCES = {\n\tlocations: { src: AcLocations, collection: 'targeting' },\n\tgenders: { src: AcGenders, collection: 'targeting' },\n\ttags: { src: AcTags, collection: 'targeting' },\n\tcustom: { src: [], collection: 'targeting' },\n}\n","import * as types from 'constants/actionTypes'\nimport {\n\tgetAdUnits,\n\tgetAdSlots,\n\tgetUserAudiences,\n\tuploadImage,\n\tupdateAdSlot,\n\tupdateAdUnit,\n\tupdateCampaign,\n\tputAudience,\n} from 'services/adex-market/actions'\nimport { execute, addToast as AddToastUi, updateSpinner } from 'actions'\nimport { push } from 'connected-react-router'\nimport { Base, AdSlot, AdUnit, helpers, Campaign, Audience } from 'adex-models'\n\nimport { translate } from 'services/translations/translations'\n\nimport initialState from 'store/initialState'\nimport { getMediaSize } from 'helpers/mediaHelpers'\nimport { getErrorMsg } from 'helpers/errors'\nimport { SOURCES } from 'constants/targeting'\nimport { selectAccount, selectAuth, selectItemByTypeAndId } from 'selectors'\n\nconst addToast = ({ type, toastStr, args, dispatch }) => {\n\treturn AddToastUi({\n\t\tdispatch: dispatch,\n\t\ttype: type,\n\t\tlabel: translate(toastStr, { args: args }),\n\t\ttimeout: 5000,\n\t})(dispatch)\n}\n\nexport const getImgsIpfsFromBlob = ({ tempUrl, authSig }) => {\n\treturn fetch(tempUrl)\n\t\t.then(resp => {\n\t\t\treturn resp.blob()\n\t\t})\n\t\t.then(imgBlob => {\n\t\t\tURL.revokeObjectURL(tempUrl)\n\t\t\treturn uploadImage({\n\t\t\t\timageBlob: imgBlob,\n\t\t\t\timageName: 'image.jpeg',\n\t\t\t\tauthSig: authSig,\n\t\t\t})\n\t\t})\n}\n\nexport function getAllItems(onDataUpdated) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst { address } = account.identity\n\t\t\tconst units = getAdUnits({ identity: address })\n\t\t\tconst slots = getAdSlots({ identity: address })\n\t\t\tconst audiences = getUserAudiences()\n\n\t\t\tconst [resUnits, resSlots, resAudiences] = await Promise.all([\n\t\t\t\tunits,\n\t\t\t\tslots,\n\t\t\t\taudiences,\n\t\t\t])\n\t\t\tconst userSlots = resSlots.slots || []\n\t\t\tconst userPassbackUnits = (resSlots.passbackUnits || []).reduce(\n\t\t\t\t(passbacks, u) => {\n\t\t\t\t\tconst { id, mediaMime, mediaUrl, targetUrl } = u\n\t\t\t\t\tpassbacks[id] = { mediaMime, mediaUrl, targetUrl }\n\n\t\t\t\t\treturn passbacks\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t)\n\n\t\t\tconst slotsWithUnits = userSlots.map(async s => ({\n\t\t\t\t...s,\n\t\t\t\t...(s.fallbackUnit ? userPassbackUnits[s.fallbackUnit] : {}),\n\t\t\t}))\n\n\t\t\tconst slotWithUnitsRes = await Promise.all(slotsWithUnits)\n\t\t\tif (selectAuth(getState())) {\n\t\t\t\tupdateItems({ items: resUnits, itemType: 'AdUnit' })(dispatch)\n\t\t\t\tupdateItems({\n\t\t\t\t\titems: slotWithUnitsRes,\n\t\t\t\t\titemType: 'AdSlot',\n\t\t\t\t})(dispatch)\n\t\t\t\tupdateItems({\n\t\t\t\t\titems: resAudiences.audiences,\n\t\t\t\t\titemType: 'Audience',\n\t\t\t\t})(dispatch)\n\t\t\t\tupdateItems({ items: resSlots.websites || [], itemType: 'Website' })(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tif (typeof onDataUpdated === 'function') {\n\t\t\t\t\tonDataUpdated()\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_ITEMS', err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_GETTING_ITEMS',\n\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t})\n\t\t}\n\t}\n}\n\n// Accepts the entire new item and replace so be careful!\nexport function updateItem({\n\titem,\n\titemType,\n\taction = 'UPDATING',\n\tonSuccess,\n\tgoToTableOnSuccess = false,\n} = {}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { id } = item\n\t\tupdateSpinner(action + id, true)(dispatch)\n\t\ttry {\n\t\t\tconst newItem = { ...item }\n\t\t\tlet updatedItem = null\n\t\t\tlet objModel = null\n\t\t\tlet path = ''\n\n\t\t\tswitch (itemType) {\n\t\t\t\tcase 'AdSlot': // In case newItem.website is null (very few slots)\n\t\t\t\t\tnewItem.website = newItem.website || ''\n\t\t\t\t\tconst slot = new AdSlot(newItem).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdSlot({ slot, id })).slot\n\t\t\t\t\tobjModel = AdSlot\n\t\t\t\t\tpath = '/dashboard/publisher/slots'\n\t\t\t\t\tbreak\n\t\t\t\tcase 'AdUnit':\n\t\t\t\t\tconst unit = new AdUnit(newItem).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateAdUnit({ unit, id })).unit\n\t\t\t\t\tobjModel = AdUnit\n\t\t\t\t\tpath = '/dashboard/advertiser/units'\n\t\t\t\t\tbreak\n\t\t\t\tcase 'Campaign':\n\t\t\t\t\tconst campaign = new Campaign(newItem).marketUpdate\n\t\t\t\t\tupdatedItem = (await updateCampaign({ campaign, id })).campaign\n\t\t\t\t\tobjModel = Campaign\n\t\t\t\t\tpath = '/dashboard/advertiser/campaigns'\n\t\t\t\t\tbreak\n\n\t\t\t\tcase 'Audience':\n\t\t\t\t\tconst audience = new Audience(newItem).marketUpdate\n\t\t\t\t\tupdatedItem = (await putAudience({ audience, id })).audience\n\t\t\t\t\tobjModel = Audience\n\t\t\t\t\tpath = '/dashboard/advertiser/audiences'\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(translate('INVALID_ITEM_TYPE'))\n\t\t\t}\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_ITEM,\n\t\t\t\titem: new objModel(updatedItem).plainObj(),\n\t\t\t\titemType,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: `SUCCESS_${action}_ITEM`,\n\t\t\t\targs: [itemType, item.title],\n\t\t\t})\n\n\t\t\tif (goToTableOnSuccess) {\n\t\t\t\texecute(push(path))\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_${action}_ITEM`, err)\n\t\t\taddToast({\n\t\t\t\tdispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: `ERR_${action}_ITEM`,\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t\tupdateSpinner(action + item.id, false)(dispatch)\n\t}\n}\n\nconst findSourceByTag = tag => {\n\treturn Object.keys(SOURCES).find(\n\t\titem => SOURCES[item].src.filter(data => data.value === tag).length > 0\n\t)\n}\n\nexport function cloneItem({ item, itemType, objModel } = {}) {\n\treturn async function(dispatch) {\n\t\ttry {\n\t\t\tconst newItem = Base.updateObject({ item, objModel })\n\t\t\tnewItem.id = ''\n\t\t\tnewItem.temp = {\n\t\t\t\t...initialState.newItem[itemType].temp,\n\t\t\t\ttargets: item.targeting.map((t, index) => {\n\t\t\t\t\tconst key = findSourceByTag(t.tag) || ''\n\t\t\t\t\treturn {\n\t\t\t\t\t\tkey: index,\n\t\t\t\t\t\tcollection: 'targeting',\n\t\t\t\t\t\tsource: key,\n\t\t\t\t\t\tlabel: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\tplaceholder: translate(`TARGET_LABEL_${key.toUpperCase()}`),\n\t\t\t\t\t\ttarget: { ...t },\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t}\n\n\t\t\tconst tempUrl = helpers.getMediaUrlWithProvider(\n\t\t\t\tnewItem.mediaUrl,\n\t\t\t\tprocess.env.IPFS_GATEWAY\n\t\t\t)\n\n\t\t\tconst response = await fetch(tempUrl)\n\t\t\tconst mediaURL = URL.createObjectURL(await response.blob())\n\t\t\tconst mediaSize = await getMediaSize({\n\t\t\t\tmime: newItem.mediaMime,\n\t\t\t\tsrc: mediaURL,\n\t\t\t})\n\n\t\t\tconst temp = {\n\t\t\t\t...newItem.temp,\n\t\t\t\tmime: item.mediaMime,\n\t\t\t\ttempUrl: mediaURL,\n\t\t\t\twidth: mediaSize.width,\n\t\t\t\theight: mediaSize.height,\n\t\t\t}\n\n\t\t\tnewItem.temp = temp\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_NEW_ITEM,\n\t\t\t\titem: newItem,\n\t\t\t\titemType,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error(err)\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'cancel',\n\t\t\t\ttoastStr: 'ERR_CLONING_ITEM',\n\t\t\t\targs: [itemType, err],\n\t\t\t})\n\t\t}\n\t}\n}\n\nexport function archiveItem({ itemId, itemType, goToTableOnSuccess } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tconst selectedItem = selectItemByTypeAndId(getState(), itemType, itemId)\n\t\tconst item = { ...selectedItem }\n\t\titem.archived = true\n\n\t\tawait updateItem({\n\t\t\titem,\n\t\t\titemType,\n\t\t\taction: 'ARCHIVING',\n\t\t\tgoToTableOnSuccess,\n\t\t})(dispatch, getState)\n\t}\n}\n\nexport function setCurrentItem(item) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.SET_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t})\n\t}\n}\n\nexport function updateCurrentItem(item, newMeta) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CURRENT_ITEM,\n\t\t\titem: item,\n\t\t\tmeta: newMeta,\n\t\t})\n\t}\n}\n\nexport function updateItems({ items, itemType }) {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_ITEMS,\n\t\t\titems: items,\n\t\t\titemType: itemType,\n\t\t})\n\t}\n}\n\nexport const resetAllItems = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_ITEMS,\n\t\t})\n\t}\n}\n\nexport const addNewTag = ({ tag }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_NEW_TAG,\n\t\t\ttag: tag,\n\t\t})\n\t}\n}\n","export const addSig = ({\n\taddr = '',\n\tsig,\n\tmode,\n\texpiryTime,\n\tidentity = 'notset',\n}) => {\n\tif (!addr || !sig || !expiryTime || mode === undefined) {\n\t\tthrow new Error('addSig - all args are required')\n\t}\n\n\tlocalStorage.setItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity,\n\t\tsig + '-' + expiryTime\n\t)\n}\n\nexport const getSig = ({ addr = '', identity = '', mode }) => {\n\tlet sigAndTIme = localStorage.getItem(\n\t\t'addr-' + mode + '-' + addr.toLowerCase() + '-' + identity\n\t)\n\n\tif (!sigAndTIme) {\n\t\treturn null\n\t}\n\n\tsigAndTIme = sigAndTIme.split('-')\n\tlet sig = sigAndTIme[0]\n\tlet time = sigAndTIme[1]\n\n\tif (!time || parseInt(time, 10) <= Date.now()) {\n\t\treturn null\n\t} else {\n\t\treturn sig\n\t}\n}\n","import { Signer, utils } from 'ethers'\nimport TrezorConnect from 'trezor-connect'\nimport { constants } from 'adex-models'\n\nconst DEFAULT_HD_PATH = \"m/44'/60'/0'/0\"\n\nTrezorConnect.manifest({\n\temail: 'contactus@adex.network',\n\tappUrl: 'http://adex.network',\n})\n\nexport default class TrezorSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._path = opts.path || DEFAULT_HD_PATH\n\t}\n\n\tget path() {\n\t\treturn this._path\n\t}\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddsParams = ({ from = 0, to = 10 } = {}) => {\n\t\tconst bundle = []\n\t\tfor (let index = from; index < to; index++) {\n\t\t\tbundle.push({\n\t\t\t\tpath: this.path + `/${index}`,\n\t\t\t\tshowOnTrezor: false,\n\t\t\t})\n\t\t}\n\n\t\treturn { bundle }\n\t}\n\n\tgetAddresses = async ({ from = 0, to = 9 } = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumGetAddress(\n\t\t\tthis.getAddsParams({ from, to })\n\t\t)\n\n\t\treturn { success, payload }\n\t}\n\n\tsignTx = async params => {\n\t\tconst txProps = await utils.resolveProperties(params)\n\n\t\ttxProps.value = txProps.value || utils.hexlify(0)\n\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignTransaction({\n\t\t\tpath: this.path,\n\t\t\ttransaction: txProps,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst signature = {\n\t\t\t\tr: payload.r,\n\t\t\t\ts: payload.s,\n\t\t\t\tv: parseInt(payload.v),\n\t\t\t}\n\n\t\t\tconst txSigned = utils.serializeTransaction(txProps, signature)\n\n\t\t\treturn txSigned\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tconst { success, payload } = await TrezorConnect.ethereumSignMessage({\n\t\t\tpath: this.path,\n\t\t\tmessage: message,\n\t\t\thex: !!opts.hex,\n\t\t})\n\n\t\tif (success) {\n\t\t\tconst res = {\n\t\t\t\t/*\n\t\t\t\t * NOTE: SignatureTypes.GETH\n\t\t\t\t * Current TrezorConnect window does not\n\t\t\t\t * accept device with old firmware\n\t\t\t\t */\n\t\t\t\tsignature: '0x' + payload.signature,\n\t\t\t\thash: message,\n\t\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\t\taddress: payload.address,\n\t\t\t}\n\n\t\t\treturn res\n\t\t} else {\n\t\t\tthrow new Error(payload.error)\n\t\t}\n\t}\n\n\tconnect = provider => {\n\t\treturn new TrezorSigner(provider, { path: this.path })\n\t}\n}\n","import { Signer, utils, Wallet } from 'ethers'\nimport { getLocalWallet } from 'services/wallet/wallet'\nimport { constants } from 'adex-models'\n\nexport default class LocalSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\n\t\tthis._provider = provider\n\t\tthis._opts = opts\n\t}\n\n\tgetWallet = async () => {\n\t\tif (this._wallet) {\n\t\t\treturn this._wallet\n\t\t} else {\n\t\t\tconst { email, password, authType } = this._opts\n\t\t\tconst walletData = await getLocalWallet({\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\tthis._wallet = new Wallet(walletData.data.privateKey, this._provider)\n\t\t\treturn this._wallet\n\t\t}\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn await this.getWallet().address\n\t}\n\n\tsignTx = async params => {\n\t\tconst signetTx = await this.getWallet().sign(params)\n\t\treturn signetTx\n\t}\n\n\tsendTransaction = async params => {\n\t\tconst txSigned = await this.signTx(params)\n\t\tconst txData = this.provider.sendTransaction(txSigned)\n\t\treturn txData\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst wallet = await this.getWallet()\n\n\t\tconst signature = await wallet.signMessage(message)\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: wallet.address,\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new LocalSigner(provider, {\n\t\t\temail: this.email,\n\t\t\tpassword: this.password,\n\t\t})\n\t}\n}\n","import { Signer, utils } from 'ethers'\nimport { constants } from 'adex-models'\n\nexport default class MetaMaskSigner extends Signer {\n\tconstructor(provider, opts = {}) {\n\t\tsuper()\n\t\tthis._provider = provider\n\t\tthis._signer = provider.getSigner()\n\t}\n\n\tget provider() {\n\t\treturn this._provider\n\t}\n\n\tgetAddress = async () => {\n\t\treturn this._signer.getAddress()\n\t}\n\n\tsendTransaction = async params => {\n\t\treturn this._signer.sendTransaction(params)\n\t}\n\n\tsignMessage = async (message, opts = {}) => {\n\t\tif (opts.hex) {\n\t\t\tmessage = utils.arrayify(message)\n\t\t}\n\n\t\tconst signature = await this._signer.signMessage(message)\n\t\t// TODO: support EIP712\n\t\tconst res = {\n\t\t\tsignature,\n\t\t\thash: message,\n\t\t\tmode: constants.SignatureModes.GETH,\n\t\t\taddress: await this._signer.getAddress(),\n\t\t}\n\n\t\treturn res\n\t}\n\n\tconnect = provider => {\n\t\treturn new MetaMaskSigner(provider)\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { utils } from 'ethers'\nimport { AUTH_TYPES } from 'constants/misc'\nimport TrezorSigner from 'services/smart-contracts/signers/trezor'\nimport LocalSigner from 'services/smart-contracts/signers/local'\nimport MetaMaskSigner from 'services/smart-contracts/signers/metamask'\nimport { splitSig, Transaction } from 'adex-protocol-eth/js'\n\nexport async function getSigner({ wallet, provider }) {\n\t// TODO: Maybe get provider here?\n\tconst { authType, path, email, password } = wallet\n\n\tif (authType === AUTH_TYPES.METAMASK.name) {\n\t\tconst signer = new MetaMaskSigner(provider)\n\t\treturn signer\n\t}\n\tif (authType === AUTH_TYPES.TREZOR.name) {\n\t\tconst signer = new TrezorSigner(provider, { path })\n\t\treturn signer\n\t}\n\tif (\n\t\tauthType === AUTH_TYPES.GRANT.name ||\n\t\tauthType === AUTH_TYPES.QUICK.name\n\t) {\n\t\tconst signer = new LocalSigner(provider, { email, password, authType })\n\n\t\treturn signer\n\t}\n\n\tthrow new Error(`Invalid wallet authType ${wallet.authType}`)\n}\n\n// NOTE: works with typed data in format {type: 'solidity data type', name: 'string (label)', value: 'preferable string'}\nexport const getTypedDataHash = ({ typedData }) => {\n\tconst values = typedData.map(entry => {\n\t\treturn typeof entry.value === 'string'\n\t\t\t? utils.toUtf8Bytes(entry.value)\n\t\t\t: utils.hexlify(entry.value)\n\t})\n\tconst valuesHash = utils.keccak256.apply(null, values)\n\tconst schema = typedData.map(entry => {\n\t\treturn utils.toUtf8Bytes(entry.type + ' ' + entry.name)\n\t})\n\n\tconst schemaHash = utils.keccak256.apply(null, schema)\n\tconst hash = utils.solidityKeccak256(\n\t\t['bytes32', 'bytes32'],\n\t\t[schemaHash, valuesHash]\n\t)\n\n\treturn hash\n}\n\nexport async function getAuthSig({ wallet }) {\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst authToken = Math.floor(\n\t\tMath.random() * Number.MAX_SAFE_INTEGER\n\t).toString()\n\n\tconst typedData = [{ type: 'uint', name: 'Auth token', value: authToken }]\n\tconst hash = getTypedDataHash({ typedData })\n\tconst signature = await signer.signMessage(hash, { hex: true })\n\n\treturn {\n\t\t...signature,\n\t\tauthToken,\n\t\thash,\n\t}\n}\n\nexport async function getTransactionsReceipts({ txHashes = [], authType }) {\n\tconst { provider } = await getEthers(authType)\n\tconst receipts = txHashes.map(tx => provider.getTransactionReceipt(tx))\n\n\treturn Promise.all(receipts)\n}\n\nexport async function signTx({ tx, signer }) {\n\tconst sig = await signer.signMessage(new Transaction(tx).hashHex(), {\n\t\thex: true,\n\t})\n\tconst signature = splitSig(sig.signature)\n\treturn signature\n}\n\nexport async function getMultipleTxSignatures({ txns, signer }) {\n\tconst signatures = []\n\tfor (const tx of txns) {\n\t\tsignatures.push(await signTx({ tx, signer }))\n\t}\n\n\treturn signatures\n}\n","import Requester, { handleRequesterErrorRes } from 'services/requester'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport dateUtils from 'helpers/dateUtils'\nimport ewt from './ewt'\n\nconst BEARER_PREFIX = 'Bearer '\nconst ANALYTICS_DATA_VALIDATOR_URL = process.env.ANALYTICS_DATA_VALIDATOR_URL\n\nconst getValidatorRequester = ({ baseUrl }) => {\n\treturn new Requester({ baseUrl })\n}\n\nconst getRequesters = ({ campaign }) => {\n\tconst leader = (campaign.validators || campaign.spec.validators)[0]\n\tconst follower = (campaign.validators || campaign.spec.validators)[1]\n\tconst leaderRequester = getValidatorRequester({ baseUrl: leader.url })\n\tconst followerRequester = getValidatorRequester({\n\t\tbaseUrl: follower.url,\n\t})\n\n\treturn {\n\t\tleader: { requester: leaderRequester, validator: leader },\n\t\tfollower: { requester: followerRequester, validator: follower },\n\t}\n}\n\nconst processResponse = res => {\n\tif (res.status >= 200 && res.status < 400) {\n\t\treturn res.json()\n\t}\n\n\treturn res.text().then(text => {\n\t\thandleRequesterErrorRes({ res, text })\n\t})\n}\n\nexport const getValidatorAuthToken = async ({ validatorId, account }) => {\n\tconst { identity, wallet } = account\n\tconst existingAuth = (identity.validatorAuthTokens || {})[validatorId]\n\tif (existingAuth) {\n\t\treturn existingAuth\n\t}\n\n\tconst { provider } = await getEthers(wallet.authType)\n\tconst signer = await getSigner({ wallet, provider })\n\n\tconst payload = {\n\t\tid: validatorId,\n\t\tidentity: identity.address,\n\t\tera: Math.floor(Date.now() / 60000),\n\t}\n\n\tconst token = ewt.sign(signer, payload)\n\n\treturn token\n}\n\nconst sendMessage = async ({ campaign, options, account }) => {\n\tconst { follower, leader } = getRequesters({ campaign })\n\n\tconst followerAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: follower.validator.id,\n\t\taccount,\n\t})\n\tconst leaderAuthToken = await getValidatorAuthToken({\n\t\tvalidatorId: leader.validator.id,\n\t\taccount,\n\t})\n\tconst followerResult = await follower.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + followerAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\tconst leaderResult = await leader.requester\n\t\t.fetch({\n\t\t\t...options,\n\t\t\theaders: {\n\t\t\t\t...options.headers,\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuthToken,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn {\n\t\tresults: {\n\t\t\tfollowerResult,\n\t\t\tleaderResult,\n\t\t},\n\t\tauthTokens: {\n\t\t\t[follower.id]: followerAuthToken,\n\t\t\t[leader.id]: leaderAuthToken,\n\t\t},\n\t}\n}\n\nexport const lastApprovedState = ({ campaign }) => {\n\tconst { leader } = getRequesters({ campaign })\n\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `channel/${campaign.id}/last-approved`,\n\t\t\tmethod: 'GET',\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const closeCampaign = ({ campaign, account }) => {\n\tconst options = {\n\t\troute: `channel/${campaign.id}/events`,\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({ events: [{ type: 'CLOSE' }] }),\n\t\theaders: { 'Content-Type': 'application/json' },\n\t}\n\n\treturn sendMessage({ campaign, options, account })\n}\n\nexport const updateTargeting = ({ campaign, account, targetingRules }) => {\n\tconst options = {\n\t\troute: `channel/${campaign.id}/events`,\n\t\tmethod: 'POST',\n\t\tbody: JSON.stringify({\n\t\t\tevents: [{ type: 'UPDATE_TARGETING', targetingRules }],\n\t\t}),\n\t\theaders: { 'Content-Type': 'application/json' },\n\t}\n\n\treturn sendMessage({ campaign, options, account })\n}\n\nexport const identityAnalytics = async ({\n\tleaderAuth,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n\tside,\n\tsegmentByChannel,\n\tstart,\n\tend,\n\tweekHoursSpan,\n}) => {\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/${side}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: {\n\t\t\t\tmetric,\n\t\t\t\ttimeframe,\n\t\t\t\tlimit,\n\t\t\t\tsegmentByChannel,\n\t\t\t\teventType,\n\t\t\t\tstart,\n\t\t\t\tend,\n\t\t\t\tweekHoursSpan,\n\t\t\t\ttimezone: dateUtils.getCurrentTimezone(),\n\t\t\t},\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn { aggregates, metric }\n}\n\nexport const identityAdvancedAnalytics = async ({ leaderAuth, eventType }) => {\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst aggregates = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/advanced`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType },\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\n\treturn aggregates\n}\n\nexport const campaignAnalytics = ({\n\tcampaign,\n\teventType,\n\tmetric,\n\ttimeframe,\n\tlimit,\n}) => {\n\tconst { leader } = getRequesters({ campaign })\n\treturn leader.requester\n\t\t.fetch({\n\t\t\troute: `/analytics/${campaign.id}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: { eventType, metric, timeframe, limit },\n\t\t})\n\t\t.then(processResponse)\n}\n\nexport const timeBasedAnalytics = async ({\n\tleaderAuth,\n\tlimit,\n\ttimeframe,\n\teventType,\n\tmetric,\n\tside,\n\tstart,\n\tend,\n\tsegmentByChannel,\n}) => {\n\tconst baseUrl = ANALYTICS_DATA_VALIDATOR_URL\n\tconst requester = getValidatorRequester({ baseUrl })\n\n\tconst result = await requester\n\t\t.fetch({\n\t\t\troute: `/analytics/${side}`,\n\t\t\tmethod: 'GET',\n\t\t\tqueryParams: {\n\t\t\t\tlimit,\n\t\t\t\ttimeframe,\n\t\t\t\teventType,\n\t\t\t\tmetric,\n\t\t\t\tstart,\n\t\t\t\tend,\n\t\t\t\tsegmentByChannel,\n\t\t\t},\n\t\t\theaders: {\n\t\t\t\tauthorization: BEARER_PREFIX + leaderAuth,\n\t\t\t},\n\t\t})\n\t\t.then(processResponse)\n\treturn result\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport { constants } from 'adex-models'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport { bigNumberify, formatEther } from 'ethers/utils'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport {\n\tselectRelayerConfig,\n\tselectMainToken,\n\tselectRoutineWithdrawTokens,\n\tselectFeeTokenWhitelist,\n} from 'selectors'\nimport { AUTH_TYPES } from 'constants/misc'\n\nconst privilegesNames = constants.valueToKey(constants.IdentityPrivilegeLevel)\n\nconst tokenAvailableBalance = ({ token, balance, mainToken }) => {\n\tif (token.address === mainToken.address) {\n\t\treturn balance\n\t}\n\n\tconst feeToken = selectFeeTokenWhitelist()[token.address]\n\n\t// approve + swap txns\n\tconst swapFees = bigNumberify(feeToken.min).mul(bigNumberify(2))\n\n\tconst isAvailable = swapFees.mul(bigNumberify(2)).lte(balance)\n\treturn isAvailable ? balance : bigNumberify(0)\n}\n\nexport const getTotalAccountRevenue = async ({ all }) => {\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\n\tconst totalRevenue = await Object.values(all).reduce(\n\t\tasync (revenuePr, { balance, depositAsset } = {}) => {\n\t\t\tconst revenue = await revenuePr\n\n\t\t\tconst token = withdrawTokens[depositAsset]\n\n\t\t\t// const hasMinBalance = bigNumberify(balance).gt(\n\t\t\t// \tbigNumberify(token.minFinal)\n\t\t\t// )\n\n\t\t\t// NOTE: Show everything\n\t\t\tconst hasMinBalance = bigNumberify(balance).gt(bigNumberify(0))\n\n\t\t\tconst balanceMainToken = hasMinBalance\n\t\t\t\t? await tokenInMainTokenValue({\n\t\t\t\t\t\ttoken,\n\t\t\t\t\t\tbalance,\n\t\t\t\t  })\n\t\t\t\t: bigNumberify(0)\n\n\t\t\treturn revenue.add(balanceMainToken)\n\t\t},\n\t\tPromise.resolve(bigNumberify(0))\n\t)\n\n\treturn totalRevenue\n}\n\nexport const getWithdrawTokensBalances = async ({\n\taddress,\n\tgetFullBalances,\n}) => {\n\tconst { getToken } = await getEthers(AUTH_TYPES.READONLY)\n\tconst { routineWithdrawTokens, mainToken } = selectRelayerConfig()\n\tconst balancesCalls = routineWithdrawTokens.map(async token => {\n\t\tconst tokenContract = getToken(token)\n\n\t\tconst balance = await tokenContract.balanceOf(address)\n\n\t\tconst available = getFullBalances\n\t\t\t? balance\n\t\t\t: tokenAvailableBalance({\n\t\t\t\t\ttoken,\n\t\t\t\t\tmainToken,\n\t\t\t\t\tbalance,\n\t\t\t  })\n\n\t\tconst balanceMainToken = await tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: available,\n\t\t})\n\n\t\treturn { token, balance: available, balanceMainToken }\n\t})\n\n\tconst balances = await Promise.all(balancesCalls)\n\tconst { totalBalanceInMainToken, mainTokenBalance } = balances.reduce(\n\t\t(data, balanceData) => {\n\t\t\tdata.totalBalanceInMainToken = data.totalBalanceInMainToken.add(\n\t\t\t\tbalanceData.balanceMainToken\n\t\t\t)\n\n\t\t\tif (balanceData.token.address === mainToken.address) {\n\t\t\t\tdata.mainTokenBalance = balanceData.balance\n\t\t\t}\n\n\t\t\treturn data\n\t\t},\n\t\t{\n\t\t\ttotalBalanceInMainToken: bigNumberify(0),\n\t\t\tmainTokenBalance: bigNumberify(0),\n\t\t}\n\t)\n\n\treturn {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t\ttotalBalanceInMainToken,\n\t}\n}\n\nexport async function getAddressBalances({ address, getFullBalances }) {\n\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\n\n\tconst calls = [\n\t\tprovider.getBalance(address.address),\n\t\tgetWithdrawTokensBalances({\n\t\t\taddress: address.address,\n\t\t\tgetFullBalances,\n\t\t}),\n\t]\n\n\tconst balances = await Promise.all(calls)\n\tconst formatted = {\n\t\taddress: address.address,\n\t\tpath: address.serializedPath || address.path, // we are going to keep the entire path\n\t\tbalanceEth: formatEther(balances[0].toString()),\n\t\ttokensBalances: balances[1].balances.map(({ token, balance }) => {\n\t\t\treturn {\n\t\t\t\tbalance: formatTokenAmount(balance, token.decimals, false, 2),\n\t\t\t\tsymbol: token.symbol,\n\t\t\t}\n\t\t}),\n\t}\n\n\treturn formatted\n}\n\nexport async function getAccountStats({\n\taccount,\n\toutstandingBalanceMainToken = {\n\t\ttotal: bigNumberify('0'),\n\t\tavailable: bigNumberify('0'),\n\t},\n\tall,\n}) {\n\tconst { wallet, identity } = account\n\tconst { address } = identity\n\tconst { getIdentity } = await getEthers(AUTH_TYPES.READONLY)\n\tconst { decimals } = selectMainToken()\n\n\tconst { status = {} } = identity\n\tconst identityContract = getIdentity({ address })\n\tlet privilegesAction\n\ttry {\n\t\tawait identityContract.deployed()\n\t\tprivilegesAction = identityContract.privileges(wallet.address)\n\t} catch {\n\t\tprivilegesAction = Promise.resolve(status.type || 'Not Deployed')\n\t}\n\n\tconst calls = [\n\t\tgetWithdrawTokensBalances({ address }),\n\t\tprivilegesAction,\n\t\tgetTotalAccountRevenue({ all }),\n\t]\n\n\tconst [\n\t\tidentityWithdrawTokensBalancesBalances = {},\n\t\twalletPrivileges,\n\t\ttotalRevenue,\n\t] = await Promise.all(\n\t\tcalls.map(c =>\n\t\t\tc\n\t\t\t\t.then(res => res)\n\t\t\t\t.catch(e => {\n\t\t\t\t\treturn undefined\n\t\t\t\t})\n\t\t)\n\t)\n\n\tconst identityBalanceMainToken =\n\t\tidentityWithdrawTokensBalancesBalances.totalBalanceInMainToken ||\n\t\tbigNumberify(0)\n\n\t// BigNumber values for balances\n\tconst raw = {\n\t\tidentityWithdrawTokensBalancesBalances,\n\t\twalletPrivileges,\n\t\tidentityBalanceMainToken,\n\t\toutstandingBalanceMainToken: outstandingBalanceMainToken.available,\n\t\ttotalOutstandingBalanceMainToken: outstandingBalanceMainToken.total,\n\t\tavailableIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.available\n\t\t),\n\t\ttotalIdentityBalanceMainToken: identityBalanceMainToken.add(\n\t\t\toutstandingBalanceMainToken.total\n\t\t),\n\t\ttotalRevenue,\n\t}\n\n\tconst formatted = {\n\t\twalletAddress: wallet.address,\n\t\twalletAuthType: wallet.authType,\n\t\twalletPrivileges: privilegesNames[walletPrivileges],\n\t\tidentityAddress: identity.address,\n\t\tidentityBalanceMainToken: formatTokenAmount(\n\t\t\tidentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\toutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.outstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalOutstandingBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalOutstandingBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tavailableIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.availableIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalIdentityBalanceMainToken: formatTokenAmount(\n\t\t\traw.totalIdentityBalanceMainToken,\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttotalRevenue: formatTokenAmount(\n\t\t\traw.totalRevenue || '0',\n\t\t\tdecimals,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t}\n\n\treturn {\n\t\traw,\n\t\tformatted,\n\t}\n}\n\n// NOTE: currently working because DAI and SAI has the same price and decimals\n// We should use getOutstandingBalanceMainToken if changed\nexport async function getOutstandingBalance({ withBalance }) {\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable } = ch\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstanding)\n\t\tcurrent.available = current.available.add(\n\t\t\tbigNumberify(outstandingAvailable)\n\t\t)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getOutstandingBalanceMainToken({ withBalance }) {\n\tconst tokens = selectRoutineWithdrawTokens()\n\tconst bigZero = bigNumberify(0)\n\n\tconst initial = { total: bigZero, available: bigZero }\n\n\tconst allOutstanding = withBalance.reduce((amounts, ch) => {\n\t\tconst { outstanding, outstandingAvailable, channel } = ch\n\t\tconst { depositAsset } = channel\n\t\tconst token = tokens[depositAsset]\n\n\t\tconst outstandingMT = tokenInMainTokenValue({ token, balance: outstanding })\n\t\tconst outstandingAvailableMT = tokenInMainTokenValue({\n\t\t\ttoken,\n\t\t\tbalance: outstandingAvailable,\n\t\t})\n\n\t\tconst current = { ...amounts }\n\t\tcurrent.total = current.total.add(outstandingMT)\n\t\tcurrent.available = current.available.add(outstandingAvailableMT)\n\n\t\treturn current\n\t}, initial)\n\n\treturn allOutstanding\n}\n\nexport async function getAllValidatorsAuthForIdentity({\n\twithBalance,\n\taccount,\n}) {\n\tconst validatorAuthTokens = account.identity.validatorAuthTokens || {}\n\n\tconst allValidators = withBalance.reduce((all, { channel }) => {\n\t\tconst leader = (channel.validators || channel.spec.validators)[0].id\n\t\tconst follower = (channel.validators || channel.spec.validators)[1].id\n\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[leader]: all[leader] || validatorAuthTokens[leader] || null,\n\t\t\t[follower]: all[follower] || validatorAuthTokens[follower] || null,\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\tconst keys = Object.keys(allValidators)\n\n\tconst tokenCalls = keys.map(async key => {\n\t\tif (allValidators[key]) {\n\t\t\treturn allValidators[key]\n\t\t} else {\n\t\t\tconst token = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: key,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\treturn token\n\t\t}\n\t})\n\n\tconst allTokens = await Promise.all(tokenCalls)\n\n\tconst validatorsAuth = keys.reduce((all, key, index) => {\n\t\tconst validators = {\n\t\t\t...all,\n\t\t\t[key]: allTokens[index],\n\t\t}\n\n\t\treturn validators\n\t}, {})\n\n\treturn validatorsAuth\n}\n\nconst saiDaiConversion = async ({ token, balance }) => balance\n\nconst valueInMainTokenConversions = {\n\t// SAI\n\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': {\n\t\t// DAI\n\t\t'0x6b175474e89094c44da98b954eedeac495271d0f': saiDaiConversion,\n\t},\n\t// DAI\n\t'0x6b175474e89094c44da98b954eedeac495271d0f': {\n\t\t// SAI\n\t\t'0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359': saiDaiConversion,\n\t},\n}\n\nexport async function tokenInMainTokenValue({ token, balance }) {\n\tconst { address } = selectMainToken()\n\n\tif (address === token.address) {\n\t\treturn balance\n\t}\n\n\tconst valueInMainToken = await valueInMainTokenConversions[\n\t\taddress.toLowerCase()\n\t][token.address.toLowerCase()]({\n\t\ttoken,\n\t\tbalance,\n\t})\n\n\treturn valueInMainToken\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetSigner,\n\tgetMultipleTxSignatures,\n} from 'services/smart-contracts/actions/ethers'\nimport { getSweepingTxnsIfNeeded } from 'services/smart-contracts/actions/core'\nimport { Contract } from 'ethers'\nimport {\n\tbigNumberify,\n\tparseUnits,\n\tgetAddress,\n\tInterface,\n\tkeccak256,\n\tid,\n} from 'ethers/utils'\nimport { generateAddress2 } from 'ethereumjs-util'\nimport { executeTx } from 'services/adex-relayer'\nimport {\n\tselectRelayerConfig,\n\tselectMainToken,\n\tselectFeeTokenWhitelist,\n\tselectSaiToken,\n\tt,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport { getProxyDeployBytecode } from 'adex-protocol-eth/js/IdentityProxyDeploy'\nimport solc from 'solcBrowser'\nimport { RoutineAuthorization } from 'adex-protocol-eth/js/Identity'\nimport ERC20TokenABI from 'services/smart-contracts/abi/ERC20Token'\nimport ScdMcdMigrationABI from 'services/smart-contracts/abi/ScdMcdMigration'\nimport { EXECUTE_ACTIONS } from 'constants/misc'\nimport { contracts } from 'services/smart-contracts/contractsCfg'\nconst { AdExENSManager, ReverseRegistrar } = contracts\n\nconst ERC20 = new Interface(ERC20TokenABI)\nconst ScdMcdMigration = new Interface(ScdMcdMigrationABI)\nconst AdExENSManagerInterface = new Interface(AdExENSManager.abi)\nconst ReverseRegistrarInterface = new Interface(ReverseRegistrar.abi)\nconst { SCD_MCD_MIGRATION_ADDR } = process.env\n\nexport async function getIdentityDeployData({\n\towner,\n\trelayerRoutineAuthValidUntil = 10648454444,\n}) {\n\tconst {\n\t\tidentityFactoryAddr,\n\t\trelayerAddr,\n\t\tbaseIdentityAddr,\n\t\tidentityRecoveryAddr,\n\t\tcoreAddr,\n\t\tmainToken,\n\t} = selectRelayerConfig()\n\n\tconst privileges = [[owner, 2], [identityRecoveryAddr, 2]]\n\n\tconst routineAuthorizationsRaw = [\n\t\t{\n\t\t\trelayer: relayerAddr,\n\t\t\toutpace: coreAddr,\n\t\t\tvalidUntil: relayerRoutineAuthValidUntil,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tfeeTokenAmount: '0x00',\n\t\t},\n\t]\n\n\tconst bytecode = getProxyDeployBytecode(\n\t\tbaseIdentityAddr,\n\t\tprivileges,\n\t\t{\n\t\t\tprivSlot: 0,\n\t\t\troutineAuthsSlot: 1,\n\t\t\troutineAuthorizations: routineAuthorizationsRaw.map(x =>\n\t\t\t\tnew RoutineAuthorization(x).hash()\n\t\t\t),\n\t\t},\n\t\tsolc\n\t)\n\n\tconst salt = keccak256(owner)\n\n\tconst identityAddr = getAddress(\n\t\t`0x${generateAddress2(identityFactoryAddr, salt, bytecode).toString('hex')}`\n\t)\n\n\treturn {\n\t\tidentityFactoryAddr,\n\t\tbaseIdentityAddr,\n\t\tbytecode,\n\t\tsalt,\n\t\tidentityAddr,\n\t\tprivileges,\n\t\troutineAuthorizationsRaw,\n\t}\n}\n\nexport async function withdrawFromIdentity({\n\taccount,\n\tamountToWithdraw,\n\twithdrawTo,\n\tgetFeesOnly,\n}) {\n\tconst mainToken = selectMainToken()\n\tconst { decimals, symbol, address: tokenAddr } = mainToken\n\tconst { wallet, identity, stats } = account\n\tconst { authType } = wallet\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, Identity, getToken } = await getEthers(authType)\n\n\tconst identityAddr = identity.address\n\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\n\n\tconst withdrawTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: tokenAddr,\n\t\tto: tokenAddr,\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\n\t\twithdrawTx: true,\n\t}\n\tconst txns = [withdrawTx]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: toWithdraw,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t\texecuteAction: EXECUTE_ACTIONS.withdraw,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\n\tif (fees.totalBN.gt(mtBalance)) {\n\t\tthrow new Error(\n\t\t\tt('ERR_INSUFFICIENT_BALANCE_WITHDRAW', {\n\t\t\t\targs: [\n\t\t\t\t\t`${formatTokenAmount(\n\t\t\t\t\t\tmtBalance.toString(),\n\t\t\t\t\t\tdecimals,\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t2\n\t\t\t\t\t)} ${symbol}`,\n\t\t\t\t\t`${fees.total} ${symbol}`,\n\t\t\t\t\t`${formatTokenAmount(toWithdraw.toString(), decimals)} ${symbol}`,\n\t\t\t\t],\n\t\t\t})\n\t\t)\n\t}\n\n\tconst maxWithdraw = mtBalance.sub(fees.totalBN)\n\n\tlet actualWithdrawAmount = toWithdraw\n\n\tif (toWithdraw.gt(maxWithdraw)) {\n\t\tactualWithdrawAmount = maxWithdraw\n\t\ttxnsByFeeToken[tokenAddr] = txnsByFeeToken[tokenAddr].map(tx => {\n\t\t\tif (tx.withdrawTx) {\n\t\t\t\ttx.data = ERC20.functions.transfer.encode([\n\t\t\t\t\twithdrawTo,\n\t\t\t\t\tactualWithdrawAmount.toString(),\n\t\t\t\t])\n\t\t\t}\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\ttotalBN: fees.totalBN,\n\t\t\tactualWithdrawAmount,\n\t\t\ttoGet: formatTokenAmount(actualWithdrawAmount, decimals),\n\t\t\tbreakdownFormatted: fees.breakdownFormatted,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function setIdentityPrivilege({\n\taccount,\n\tsetAddr,\n\tprivLevel,\n\tgetFeesOnly,\n}) {\n\tconst { wallet, identity } = account\n\tconst { provider, MainToken, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\tconst identityAddr = identity.address\n\n\tconst identityInterface = new Interface(Identity.abi)\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: identityAddr,\n\t\tdata: identityInterface.functions.setAddrPrivilege.encode([\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t]),\n\t}\n\n\tconst txns = [tx1]\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t\texecuteAction: EXECUTE_ACTIONS.privilegesChange,\n\t})\n\n\tif (getFeesOnly) {\n\t\tconst {\n\t\t\ttotal,\n\t\t\ttotalBN,\n\t\t\tbreakdownFormatted,\n\t\t} = await getIdentityTxnsTotalFees({\n\t\t\ttxnsByFeeToken,\n\t\t})\n\t\treturn {\n\t\t\tfees: total,\n\t\t\ttotalBN,\n\t\t\tbreakdownFormatted,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\ttxnsByFeeToken,\n\t\tidentityAddr,\n\t\twallet,\n\t\tprovider,\n\t\textraData: {\n\t\t\tsetAddr,\n\t\t\tprivLevel,\n\t\t},\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\nfunction txnsByTokenWithSaiToDaiSwap({\n\ttxns,\n\tmainToken,\n\tdaiAddr,\n\tsaiAddr,\n\tidentityAddr,\n}) {\n\tconst { txnsByFeeToken, saiWithdrawAmount } = txns.reduce(\n\t\t(current, tx, i) => {\n\t\t\tconst { withdrawAmountByToken } = tx\n\n\t\t\tconst needSaiToDaiSwap =\n\t\t\t\t!!saiAddr &&\n\t\t\t\t!!withdrawAmountByToken &&\n\t\t\t\t!!withdrawAmountByToken[saiAddr] &&\n\t\t\t\t(tx.feeTokenAddr === saiAddr || !tx.feeTokenAddr) &&\n\t\t\t\tmainToken.address === daiAddr &&\n\t\t\t\tsaiAddr !== daiAddr\n\n\t\t\tlet feeTokenAddr = ''\n\n\t\t\tif (needSaiToDaiSwap) {\n\t\t\t\tcurrent.saiWithdrawAmount = current.saiWithdrawAmount.add(\n\t\t\t\t\tbigNumberify(withdrawAmountByToken[saiAddr])\n\t\t\t\t)\n\t\t\t\tfeeTokenAddr = daiAddr\n\t\t\t}\n\n\t\t\tfeeTokenAddr = feeTokenAddr || tx.feeTokenAddr || mainToken.address\n\t\t\t// normalize tx\n\t\t\ttx.feeTokenAddr = feeTokenAddr\n\t\t\ttx.identityContract = (tx.identityContract || identityAddr).toLowerCase()\n\n\t\t\tcurrent.txnsByFeeToken[feeTokenAddr] = [\n\t\t\t\t...(current.txnsByFeeToken[feeTokenAddr] || []),\n\t\t\t\ttx,\n\t\t\t]\n\n\t\t\treturn current\n\t\t},\n\t\t{\n\t\t\tsaiWithdrawAmount: bigNumberify('0'),\n\t\t\ttxnsByFeeToken: {},\n\t\t}\n\t)\n\n\treturn { txnsByFeeToken, saiWithdrawAmount }\n}\n\nexport async function addIdentityENS({ username = '', account, getFeesOnly }) {\n\tconst { wallet, identity } = account\n\tconst { provider, MainToken, getToken, Identity } = await getEthers(\n\t\twallet.authType\n\t)\n\tconst identityAddr = identity.address\n\n\tconst tx1 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: AdExENSManager.address,\n\t\tdata: AdExENSManagerInterface.functions.registerAndSetup.encode([\n\t\t\tAdExENSManager.publicResolver,\n\t\t\tid(username),\n\t\t\tidentityAddr,\n\t\t]),\n\t}\n\n\tconst tx2 = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: MainToken.address,\n\t\tto: ReverseRegistrar.address,\n\t\tdata: ReverseRegistrarInterface.functions.setName.encode([\n\t\t\t`${username}.${ReverseRegistrar.parentDomain}`,\n\t\t]),\n\t}\n\n\tconst txns = [tx1, tx2]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t\texecuteAction: EXECUTE_ACTIONS.ensChange,\n\t})\n\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { total, totalBN, breakdownFormatted } = await getIdentityTxnsTotalFees(\n\t\t{\n\t\t\ttxnsByFeeToken,\n\t\t\tmainToken,\n\t\t}\n\t)\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: total,\n\t\t\ttotalBN,\n\t\t\tbreakdownFormatted,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n\nexport async function getIdentityTxnsWithNoncesAndFees({\n\tamountInMainTokenNeeded = '0',\n\texecuteAction = 'DEFAULT',\n\ttxns = [],\n\tidentityAddr,\n\tprovider,\n\tIdentity,\n\taccount,\n\tgetToken,\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst saiToken = selectSaiToken()\n\tconst { mainToken, daiAddr, saiAddr } = selectRelayerConfig()\n\tconst mainTokenWithFees = feeTokenWhitelist[mainToken.address]\n\n\tlet isDeployed = (await provider.getCode(identityAddr)) !== '0x'\n\tlet identityContract = null\n\n\tif (isDeployed) {\n\t\tidentityContract = new Contract(identityAddr, Identity.abi, provider)\n\t}\n\n\tconst initialNonce = isDeployed\n\t\t? (await identityContract.nonce()).toNumber()\n\t\t: 0\n\n\tconst baseFee = bigNumberify(\n\t\t(mainTokenWithFees.executeBaseFee || {})[executeAction] || '0'\n\t)\n\n\tconst mainTxnsFees = txns.length\n\t\t? bigNumberify(\n\t\t\t\t!initialNonce\n\t\t\t\t\t? mainTokenWithFees.minDeploy\n\t\t\t\t\t: mainTokenWithFees.minRecommended\n\t\t  ).add(\n\t\t\t\tbigNumberify(mainTokenWithFees.minRecommended).mul(\n\t\t\t\t\tbigNumberify(txns.length - 1)\n\t\t\t\t)\n\t\t  )\n\t\t: bigNumberify(0)\n\n\tconst feesForMainTxns = baseFee.add(mainTxnsFees)\n\n\tconst totalAmountInMainTokenNeeded = feesForMainTxns.add(\n\t\tbigNumberify(amountInMainTokenNeeded)\n\t)\n\n\tconst {\n\t\tsweepTxns = [],\n\t\tswapAmountsByToken = {},\n\t} = await getSweepingTxnsIfNeeded({\n\t\tamountInMainTokenNeeded: totalAmountInMainTokenNeeded,\n\n\t\taccount,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst sweepTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns: sweepTxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// { txnsByFeeToken, saiWithdrawAmount }\n\tconst otherTxnsByToken = txnsByTokenWithSaiToDaiSwap({\n\t\ttxns,\n\t\tmainToken,\n\t\tdaiAddr,\n\t\tsaiAddr,\n\t\tidentityAddr,\n\t})\n\n\t// 1st - always get sweeping txns (channelWithdraw)\n\t// 2nd - swap SAI to DAI if needed (main token is DAI)\n\t// 3rd - make other txns with the main token only\n\n\t// TODO: make it work with other tokens\n\t// TODO: change getSwapAmountsByToken if more swaps are supported\n\tconst saiSwapAmount = sweepTxnsByToken.saiWithdrawAmount\n\t\t.add(otherTxnsByToken.saiWithdrawAmount)\n\t\t.add(bigNumberify(swapAmountsByToken[saiAddr] || 0))\n\n\tif (!saiSwapAmount.isZero()) {\n\t\tsweepTxnsByToken.txnsByFeeToken[daiAddr] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[daiAddr] || []),\n\t\t\t...(await swapSaiToDaiTxns({\n\t\t\t\tgetToken,\n\t\t\t\tidentityAddr,\n\t\t\t\tdaiAddr,\n\t\t\t\tsaiToken,\n\t\t\t\tswapAmount: saiSwapAmount,\n\t\t\t})),\n\t\t]\n\t}\n\n\tconst allFeeTokens = [\n\t\t...new Set([\n\t\t\t...Object.keys(sweepTxnsByToken.txnsByFeeToken),\n\t\t\t...Object.keys(otherTxnsByToken.txnsByFeeToken),\n\t\t]),\n\t]\n\n\tconst txnsByFeeToken = allFeeTokens.reduce((txns, token) => {\n\t\ttxns[token] = [\n\t\t\t...(sweepTxnsByToken.txnsByFeeToken[token] || []),\n\t\t\t...(otherTxnsByToken.txnsByFeeToken[token] || []),\n\t\t]\n\n\t\treturn txns\n\t}, {})\n\n\tlet currentNonce = initialNonce\n\tlet baseFeeAdded = false\n\n\tObject.keys(txnsByFeeToken).forEach(key => {\n\t\ttxnsByFeeToken[key] = txnsByFeeToken[key].map(tx => {\n\t\t\tconst { routinesSweepTxCount = 0, extraTxFeesCount = 0, isSweepTx } = tx\n\t\t\tconst feeToken = feeTokenWhitelist[tx.feeTokenAddr]\n\t\t\tconst isDeployTx = currentNonce === 0\n\n\t\t\tconst txFeeAmount = isDeployTx\n\t\t\t\t? feeToken.minDeploy\n\t\t\t\t: isSweepTx\n\t\t\t\t? feeToken.min\n\t\t\t\t: feeToken.minRecommended\n\n\t\t\tconst addBaseFee =\n\t\t\t\t!baseFeeAdded && !isSweepTx && tx.feeTokenAddr === mainToken.address\n\n\t\t\tconst sweepRoutinesFeeAmount = bigNumberify(routinesSweepTxCount).mul(\n\t\t\t\tbigNumberify(feeToken.min)\n\t\t\t)\n\n\t\t\tconst extraFeesAmount = bigNumberify(extraTxFeesCount).mul(\n\t\t\t\tbigNumberify(feeToken.minRecommended)\n\t\t\t)\n\n\t\t\t// Total relayer fees for the transaction\n\t\t\tconst feeAmount = bigNumberify(txFeeAmount)\n\t\t\t\t.add(sweepRoutinesFeeAmount)\n\t\t\t\t.add(extraFeesAmount)\n\t\t\t\t.add(addBaseFee ? baseFee : bigNumberify(0))\n\t\t\t\t.toString()\n\n\t\t\t// fees that are not pre calculated with in the total identity balance\n\t\t\t// There are no pre calculated fees in the balance\n\t\t\tconst nonIdentityBalanceFeeAmount = bigNumberify(feeAmount)\n\t\t\t// .sub(bigNumberify(isSweepTx ? feeToken.min : 0))\n\t\t\t// .sub(bigNumberify(routinesSweepTxCount).mul(bigNumberify(feeToken.min)))\n\t\t\t// .toString()\n\n\t\t\tconst feesBreakdown = {\n\t\t\t\t...(addBaseFee ? { baseFee } : {}),\n\t\t\t\troutinesSweepTxCount,\n\t\t\t\tsweepRoutinesFeeAmount,\n\t\t\t\textraTxFeesCount,\n\t\t\t\textraFeesAmount,\n\t\t\t\tfeeAmount,\n\t\t\t\ttxFeeAmount,\n\t\t\t\tisDeployTx,\n\t\t\t\tisSweepTx,\n\t\t\t}\n\n\t\t\tconst txWithNonce = {\n\t\t\t\t...tx,\n\t\t\t\tfeeTokenAddr: feeToken.address,\n\t\t\t\tfeeAmount,\n\t\t\t\tnonce: currentNonce,\n\t\t\t\tnonIdentityBalanceFeeAmount,\n\t\t\t\tfeesBreakdown,\n\t\t\t\texecuteAction,\n\t\t\t}\n\n\t\t\tcurrentNonce += 1\n\n\t\t\treturn txWithNonce\n\t\t})\n\t})\n\n\treturn txnsByFeeToken\n}\n\nexport async function getApproveTxns({\n\tgetToken,\n\ttoken,\n\tidentityAddr,\n\tfeeTokenAddr,\n\tapproveForAddress,\n\tapproveAmount,\n}) {\n\tconst tokenContract = getToken(token)\n\n\tconst allowance = await tokenContract.allowance(\n\t\tidentityAddr,\n\t\tapproveForAddress\n\t)\n\n\tconst approveTxns = []\n\n\tif (!allowance.isZero()) {\n\t\tapproveTxns.push({\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: token.address,\n\t\t\tdata: ERC20.functions.approve.encode([approveForAddress, 0]),\n\t\t})\n\t}\n\n\tapproveTxns.push({\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: feeTokenAddr,\n\t\tto: token.address,\n\t\tdata: ERC20.functions.approve.encode([approveForAddress, approveAmount]),\n\t})\n\n\treturn approveTxns\n}\n\nasync function swapSaiToDaiTxns({\n\tidentityAddr,\n\tdaiAddr,\n\tsaiToken,\n\tswapAmount,\n\tgetToken,\n}) {\n\tconst approveTxns = await getApproveTxns({\n\t\tgetToken,\n\t\ttoken: saiToken,\n\t\tidentityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tapproveForAddress: SCD_MCD_MIGRATION_ADDR,\n\t\tapproveAmount: swapAmount,\n\t})\n\n\tconst swapTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: daiAddr,\n\t\tto: SCD_MCD_MIGRATION_ADDR,\n\t\tdata: ScdMcdMigration.functions.swapSaiToDai.encode([swapAmount]),\n\t}\n\n\treturn [...approveTxns, swapTx]\n}\n\n// TODO: use byToken where needed\n// currently works because only using SAI and DAI only\nexport async function getIdentityTxnsTotalFees({\n\ttxnsByFeeToken,\n\tmainToken = {},\n}) {\n\tconst feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst bigZero = bigNumberify('0')\n\tconst { total, byToken, totalBreakdown } = Object.values(txnsByFeeToken)\n\t\t.reduce((all, byFeeToken) => all.concat(byFeeToken), [])\n\t\t.reduce(\n\t\t\t(result, tx) => {\n\t\t\t\tconst {\n\t\t\t\t\tfeesBreakdown,\n\t\t\t\t\tnonIdentityBalanceFeeAmount,\n\t\t\t\t\tfeeTokenAddr,\n\t\t\t\t\texecuteAction,\n\t\t\t\t} = tx\n\t\t\t\tconst { total, byToken, totalBreakdown } = result\n\t\t\t\tconst txFeeAmount = bigNumberify(nonIdentityBalanceFeeAmount)\n\n\t\t\t\tresult.total = total.add(txFeeAmount)\n\t\t\t\tresult.byToken[feeTokenAddr] = (byToken[feeTokenAddr] || bigZero).add(\n\t\t\t\t\ttxFeeAmount\n\t\t\t\t)\n\n\t\t\t\tresult.totalBreakdown = {\n\t\t\t\t\tbaseFee: bigNumberify(totalBreakdown.baseFee || '0').add(\n\t\t\t\t\t\tbigNumberify(feesBreakdown.baseFee || '0')\n\t\t\t\t\t),\n\t\t\t\t\tsweepRoutinesFeeAmount: bigNumberify(\n\t\t\t\t\t\ttotalBreakdown.sweepRoutinesFeeAmount || '0'\n\t\t\t\t\t).add(bigNumberify(feesBreakdown.sweepRoutinesFeeAmount)),\n\t\t\t\t\textraFeesAmount: bigNumberify(\n\t\t\t\t\t\ttotalBreakdown.extraFeesAmount || '0'\n\t\t\t\t\t).add(bigNumberify(feesBreakdown.extraFeesAmount)),\n\t\t\t\t\tfeeAmount: bigNumberify(totalBreakdown.feeAmount || '0').add(\n\t\t\t\t\t\tbigNumberify(feesBreakdown.feeAmount)\n\t\t\t\t\t),\n\t\t\t\t\troutinesSweepTxCount:\n\t\t\t\t\t\t(totalBreakdown.routinesSweepTxCount || 0) +\n\t\t\t\t\t\t(feesBreakdown.routinesSweepTxCount || 0),\n\t\t\t\t\textraTxFeesCount:\n\t\t\t\t\t\t(totalBreakdown.extraTxFeesCount || 0) +\n\t\t\t\t\t\t(feesBreakdown.extraTxFeesCount || 0),\n\t\t\t\t\ttxnsCount:\n\t\t\t\t\t\ttotalBreakdown.txnsCount + (feesBreakdown.isSweepTx ? 0 : 1),\n\t\t\t\t\tsweepTxnsCount:\n\t\t\t\t\t\ttotalBreakdown.sweepTxnsCount +\n\t\t\t\t\t\t(totalBreakdown.routinesSweepTxCount || 0) +\n\t\t\t\t\t\t(feesBreakdown.isSweepTx ? 1 : 0),\n\t\t\t\t\tsweepTxnsFeeAmount: bigNumberify(\n\t\t\t\t\t\ttotalBreakdown.sweepTxnsFeeAmount || '0'\n\t\t\t\t\t).add(\n\t\t\t\t\t\tbigNumberify(\n\t\t\t\t\t\t\tfeesBreakdown.isSweepTx\n\t\t\t\t\t\t\t\t? feesBreakdown.txFeeAmount\n\t\t\t\t\t\t\t\t: feesBreakdown.sweepRoutinesFeeAmount\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tdeployFee: feesBreakdown.isDeployTx\n\t\t\t\t\t\t? bigNumberify(feesBreakdown.txFeeAmount)\n\t\t\t\t\t\t: null,\n\t\t\t\t\texecuteAction,\n\t\t\t\t}\n\n\t\t\t\treturn result\n\t\t\t},\n\t\t\t{\n\t\t\t\ttotal: bigZero,\n\t\t\t\tbyToken: {},\n\t\t\t\ttotalBreakdown: { txnsCount: 0, sweepTxnsCount: 0 },\n\t\t\t}\n\t\t)\n\n\tconst byTokenFormatted = Object.entries(byToken).map(([key, value]) => {\n\t\tconst { decimals, symbol } = feeTokenWhitelist[key]\n\t\treturn {\n\t\t\taddress: key,\n\t\t\tfee: formatTokenAmount(value.toString(), decimals),\n\t\t\tsymbol,\n\t\t\tfeeFormatted: `${formatTokenAmount(\n\t\t\t\tvalue.toString(),\n\t\t\t\tdecimals,\n\t\t\t\tfalse,\n\t\t\t\t4\n\t\t\t)} ${symbol}`,\n\t\t}\n\t})\n\n\tconst breakdownFormatted = {\n\t\t...totalBreakdown,\n\t\tbaseFee: formatTokenAmount(\n\t\t\ttotalBreakdown.baseFee.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tfeeAmount: formatTokenAmount(\n\t\t\ttotalBreakdown.feeAmount.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tsweepRoutinesFeeAmount: formatTokenAmount(\n\t\t\ttotalBreakdown.sweepRoutinesFeeAmount.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\textraFeesAmount: formatTokenAmount(\n\t\t\ttotalBreakdown.extraFeesAmount.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\ttxnsFee: formatTokenAmount(\n\t\t\ttotalBreakdown.feeAmount\n\t\t\t\t.sub(totalBreakdown.sweepTxnsFeeAmount)\n\t\t\t\t.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tsweepTxnsFeeAmount: formatTokenAmount(\n\t\t\ttotalBreakdown.sweepTxnsFeeAmount.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tdeployFee: totalBreakdown.deployFee\n\t\t\t? formatTokenAmount(\n\t\t\t\t\ttotalBreakdown.deployFee.toString(),\n\t\t\t\t\tmainToken.decimals || 18,\n\t\t\t\t\tfalse,\n\t\t\t\t\t2\n\t\t\t  )\n\t\t\t: null,\n\t}\n\n\tconst fees = {\n\t\t// TODO: change to return total as BN and add totalFormatted\n\t\ttotal: formatTokenAmount(\n\t\t\ttotal.toString(),\n\t\t\tmainToken.decimals || 18,\n\t\t\tfalse,\n\t\t\t2\n\t\t),\n\t\tbreakdownFormatted,\n\t\ttotalBN: total,\n\t\tbyToken: byTokenFormatted,\n\t}\n\n\treturn fees\n}\n\nexport async function processExecuteByFeeTokens({\n\ttxnsByFeeToken,\n\twallet,\n\tprovider,\n\tidentityAddr,\n\textraData = {},\n}) {\n\tconst signer = await getSigner({ wallet, provider })\n\tconst all = Object.values(txnsByFeeToken).map(async txnsRaw => {\n\t\tconst signatures = await getMultipleTxSignatures({ txns: txnsRaw, signer })\n\t\tconst data = {\n\t\t\ttxnsRaw,\n\t\t\tsignatures,\n\t\t\tidentityAddr,\n\t\t\t...extraData,\n\t\t}\n\n\t\tif (\n\t\t\tprocess.env.BUILD_TYPE === 'staging' ||\n\t\t\tprocess.env.NODE_ENV === 'development'\n\t\t) {\n\t\t\tconsole.log('data', JSON.stringify(data, null, 2))\n\t\t}\n\n\t\tconst result = await executeTx(data)\n\n\t\treturn {\n\t\t\tresult,\n\t\t}\n\t})\n\n\tconst results = await Promise.all(all)\n\n\treturn results\n}\n\nexport async function withdrawOtherTokensFromIdentity({\n\taccount,\n\tamountToWithdraw,\n\ttokenAddress,\n\ttokenDecimals,\n\twithdrawTo,\n\tgetFeesOnly,\n}) {\n\tconst { mainToken } = selectRelayerConfig()\n\tconst { wallet, identity } = account\n\tconst { authType } = wallet\n\tconst { provider, Identity, getToken } = await getEthers(authType)\n\tconst decimals = parseInt(tokenDecimals, 10)\n\n\tconst identityAddr = identity.address\n\n\tconst toWithdraw = parseUnits(amountToWithdraw, decimals)\n\n\tconst withdrawTx = {\n\t\tidentityContract: identityAddr,\n\t\tfeeTokenAddr: mainToken.address,\n\t\tto: tokenAddress,\n\t\tdata: ERC20.functions.transfer.encode([withdrawTo, toWithdraw]),\n\t}\n\tconst txns = [withdrawTx]\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t\texecuteAction: EXECUTE_ACTIONS.withdraw,\n\t})\n\n\tconst fees = await getIdentityTxnsTotalFees({ txnsByFeeToken, mainToken })\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfees: fees.total,\n\t\t\tbreakdownFormatted: fees.breakdownFormatted,\n\t\t\ttoGet: formatTokenAmount(toWithdraw, decimals),\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t})\n\n\treturn {\n\t\tresult,\n\t}\n}\n","import crypto from 'crypto'\nimport { Channel, splitSig, RoutineOps } from 'adex-protocol-eth/js'\nimport BalanceTree from 'adex-protocol-eth/js/BalanceTree'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport {\n\tgetIdentityTxnsWithNoncesAndFees,\n\tgetIdentityTxnsTotalFees,\n\tprocessExecuteByFeeTokens,\n\tgetApproveTxns,\n} from 'services/smart-contracts/actions/identity'\nimport { contracts } from '../contractsCfg'\nimport { closeCampaign } from 'services/adex-validator/actions'\nimport { Campaign, AdUnit } from 'adex-models'\nimport { getCampaigns } from 'services/adex-market/actions'\nimport {\n\tbigNumberify,\n\trandomBytes,\n\tparseUnits,\n\tInterface,\n\tgetAddress,\n} from 'ethers/utils'\nimport {\n\t// selectFeeTokenWhitelist,\n\tselectRoutineWithdrawTokens,\n\tselectMainFeeToken,\n\tselectMainToken,\n\tselectSaiToken,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport IdentityABI from 'adex-protocol-eth/abi/Identity'\nimport { selectChannelsWithUserBalancesEligible } from 'selectors'\nimport { getState } from 'store'\nimport { AUTH_TYPES, EXECUTE_ACTIONS } from 'constants/misc'\n\nconst { AdExCore } = contracts\nconst Core = new Interface(AdExCore.abi)\nconst IdentityInterface = new Interface(IdentityABI)\n\nconst timeframe = 5 * 60 * 1000 // 1 event per 5 minutes\nconst VALID_UNTIL_COEFFICIENT = 0.5\nconst VALID_UNTIL_MIN_PERIOD = 15 * 24 * 60 * 60 * 1000 // 15 days in ms\nconst OUTSTANDING_STATUSES = {\n\tActive: true,\n\tReady: true,\n\tExhausted: true,\n\tOffline: true,\n\tUnhealthy: true,\n\tWithdraw: true,\n}\n\nconst EXTRA_PROCESS_TIME = 69 * 60 // 69 min in seconds\n\nfunction toEthereumChannel(channel) {\n\tconst specHash = crypto\n\t\t.createHash('sha256')\n\t\t.update(JSON.stringify(channel.spec))\n\t\t.digest()\n\n\treturn new Channel({\n\t\ttitle: channel.title,\n\t\tcreator: channel.creator,\n\t\ttokenAddr: channel.depositAsset,\n\t\ttokenAmount: channel.depositAmount,\n\t\tvalidUntil: channel.validUntil,\n\t\tvalidators: channel.spec.validators.map(v => v.id),\n\t\tspec: specHash,\n\t})\n}\n\nfunction getValidUntil(activeFrom, withdrawPeriodStart) {\n\tconst period = withdrawPeriodStart - activeFrom\n\tconst validUntil =\n\t\twithdrawPeriodStart +\n\t\tMath.max(period * VALID_UNTIL_COEFFICIENT, VALID_UNTIL_MIN_PERIOD)\n\n\treturn Math.floor(validUntil / 1000)\n}\n\nfunction userInputToTokenValue({ input, decimals, divider = 1 }) {\n\treturn parseUnits(input || '0', decimals)\n\t\t.div(bigNumberify(divider))\n\t\t.toString()\n}\n\nfunction getReadyCampaign(campaign, identity, mainToken) {\n\tconst { decimals } = mainToken\n\tconst newCampaign = new Campaign(campaign)\n\n\tnewCampaign.creator = identity.address\n\tnewCampaign.created = Date.now()\n\tnewCampaign.validUntil = getValidUntil(\n\t\tnewCampaign.activeFrom,\n\t\tnewCampaign.withdrawPeriodStart\n\t)\n\tnewCampaign.nonce = bigNumberify(randomBytes(32)).toString()\n\tnewCampaign.adUnits = newCampaign.adUnits.map(unit => new AdUnit(unit).spec)\n\tnewCampaign.depositAmount = userInputToTokenValue({\n\t\tinput: newCampaign.depositAmount,\n\t\tdecimals,\n\t})\n\n\tconst validators = newCampaign.validators.map(v => {\n\t\tconst deposit = bigNumberify(newCampaign.depositAmount || 0)\n\t\tconst fee = deposit\n\t\t\t.mul(bigNumberify(v.feeNum || 1))\n\t\t\t.div(bigNumberify(v.feeDen || 1))\n\t\t\t.toString()\n\n\t\tconst validator = {\n\t\t\tid: v.id,\n\t\t\turl: v.url,\n\t\t\tfee,\n\t\t}\n\n\t\tif (v.feeAddr) {\n\t\t\tvalidator.feeAddr = v.feeAddr\n\t\t}\n\n\t\treturn validator\n\t})\n\n\tnewCampaign.validators = validators\n\n\tconst pricingBounds = { ...newCampaign.pricingBounds }\n\tconst impression = { ...pricingBounds.IMPRESSION }\n\n\timpression.min = userInputToTokenValue({\n\t\tinput: impression.min,\n\t\tdecimals,\n\t\tdivider: 1000, // Input is for CPM (1000)\n\t})\n\timpression.max = userInputToTokenValue({\n\t\tinput: impression.max,\n\t\tdecimals,\n\t\tdivider: 1000, // Input is for CPM (1000)\n\t})\n\tpricingBounds.IMPRESSION = impression\n\n\t// TODO: CLICK when available\n\tnewCampaign.pricingBounds = pricingBounds\n\n\t// TEMP: legacy compatibility\n\tnewCampaign.minPerImpression = impression.min\n\tnewCampaign.maxPerImpression = impression.max\n\n\tnewCampaign.depositAsset = mainToken.address\n\tnewCampaign.eventSubmission = {\n\t\tallow: [\n\t\t\t{\n\t\t\t\tuids: [\n\t\t\t\t\tnewCampaign.creator,\n\t\t\t\t\tnewCampaign.validators[0].id,\n\t\t\t\t\tnewCampaign.validators[1].id,\n\t\t\t\t],\n\t\t\t},\n\t\t\t{ uids: null, rateLimit: { type: 'ip', timeframe } },\n\t\t],\n\t}\n\n\tnewCampaign.status = {\n\t\tname: 'Pending',\n\t\thumanFriendlyName: 'Pending',\n\t\tlastChecked: Date.now(),\n\t}\n\n\treturn newCampaign\n}\n\nconst getWithdrawnPerUserOutstanding = async ({\n\tchannel,\n\tbalance,\n\tidentityAddr,\n}) => {\n\tconst { AdExCore } = await getEthers(AUTH_TYPES.READONLY)\n\treturn bigNumberify(balance).sub(\n\t\tawait AdExCore.functions.withdrawnPerUser(channel.id, identityAddr)\n\t)\n}\n\nexport async function getChannelsWithOutstanding({ identityAddr }) {\n\tconst channels = await getCampaigns({ all: true, byEarner: identityAddr })\n\n\t// const feeTokenWhitelist = selectFeeTokenWhitelist()\n\tconst routineWithdrawTokens = selectRoutineWithdrawTokens()\n\n\tconst allChannels = await Promise.all(\n\t\tchannels\n\t\t\t.filter(\n\t\t\t\tchannel =>\n\t\t\t\t\tchannel &&\n\t\t\t\t\tchannel.status &&\n\t\t\t\t\tchannel.status.lastApprovedBalances &&\n\t\t\t\t\tchannel.status.lastApprovedSigs &&\n\t\t\t\t\troutineWithdrawTokens[channel.depositAsset]\n\t\t\t)\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedBalances } = channel.status\n\n\t\t\t\tconst validBalances = Object.entries(lastApprovedBalances).reduce(\n\t\t\t\t\t(balances, e) => {\n\t\t\t\t\t\tconst [address, balance] = e\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (getAddress(address)) {\n\t\t\t\t\t\t\t\tbalances[address] = balance\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch {}\n\t\t\t\t\t\treturn balances\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t)\n\n\t\t\t\tchannel.status.lastApprovedBalances = validBalances\n\n\t\t\t\treturn channel\n\t\t\t})\n\t\t\t.map(channel => {\n\t\t\t\tconst { lastApprovedSigs, lastApprovedBalances } = channel.status\n\n\t\t\t\tconst bTree = new BalanceTree(lastApprovedBalances)\n\t\t\t\treturn {\n\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\tlastApprovedBalances,\n\t\t\t\t\tbTree,\n\t\t\t\t\tchannel,\n\t\t\t\t}\n\t\t\t})\n\t\t\t.filter(({ bTree }) => {\n\t\t\t\treturn bTree && !bTree.getBalance(identityAddr).isZero()\n\t\t\t})\n\t\t\t.map(\n\t\t\t\tasync ({ channel, lastApprovedSigs, lastApprovedBalances, bTree }) => {\n\t\t\t\t\t//  mTree,\n\t\t\t\t\tconst balance = bTree.getBalance(identityAddr).toString()\n\n\t\t\t\t\tconst outstanding = await getWithdrawnPerUserOutstanding({\n\t\t\t\t\t\tchannel,\n\t\t\t\t\t\tbalance,\n\t\t\t\t\t\tidentityAddr,\n\t\t\t\t\t})\n\n\t\t\t\t\t// const outstandingAvailable = outstanding.sub(\n\t\t\t\t\t// \tbigNumberify(feeTokenWhitelist[channel.depositAsset].min)\n\t\t\t\t\t// )\n\n\t\t\t\t\t// NOTE: We will show everything - will add this to withdraw fees\n\t\t\t\t\tconst outstandingAvailable = outstanding\n\n\t\t\t\t\tconst balanceNum = bigNumberify(channel.depositAmount)\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[0].fee || 0))\n\t\t\t\t\t\t.sub(bigNumberify(channel.spec.validators[1].fee || 0))\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tchannel,\n\t\t\t\t\t\tbalance,\n\t\t\t\t\t\tlastApprovedSigs,\n\t\t\t\t\t\toutstanding,\n\t\t\t\t\t\toutstandingAvailable,\n\t\t\t\t\t\tlastApprovedBalances,\n\t\t\t\t\t\tbalanceNum,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t)\n\n\tconst all = Object.assign(\n\t\t{},\n\t\t...allChannels.map(c => {\n\t\t\tconst { channel, balance } = c\n\t\t\tconst { id, depositAmount, depositAsset, status, spec } = channel\n\t\t\tconst balanceNum = bigNumberify(depositAmount)\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[0].fee))\n\t\t\t\t.sub(bigNumberify(c.channel.spec.validators[1].fee))\n\t\t\t\t.toString()\n\n\t\t\treturn {\n\t\t\t\t[c.channel.id.toLowerCase()]: {\n\t\t\t\t\tid,\n\t\t\t\t\tbalance,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tdepositAsset,\n\t\t\t\t\tbalanceNum,\n\t\t\t\t\tstatus: status.name,\n\t\t\t\t\tadUnits: spec.adUnits, //TODO: add only what needed\n\t\t\t\t},\n\t\t\t}\n\t\t})\n\t)\n\n\tconst withOutstandingBalance = allChannels.filter(x => {\n\t\treturn (\n\t\t\tOUTSTANDING_STATUSES[x.channel.status.name] &&\n\t\t\tnew Date((x.channel.validUntil - EXTRA_PROCESS_TIME) * 1000) >\n\t\t\t\tDate.now() &&\n\t\t\t//NOTE: As we show everything there is no need for minPlatform check\n\t\t\t// x.outstanding.gt(\n\t\t\t// \tbigNumberify(routineWithdrawTokens[x.channel.depositAsset].minPlatform)\n\t\t\t// ) &&\n\t\t\tx.outstandingAvailable.gt(bigNumberify('0'))\n\t\t)\n\t})\n\n\treturn { all, withOutstandingBalance }\n}\n\nasync function getChannelsToSweepFrom({ amountToSweep, withBalance = [] }) {\n\tconst { eligible } = withBalance\n\t\t.sort((c1, c2) => {\n\t\t\treturn bigNumberify(c2.outstandingAvailable).gt(\n\t\t\t\tbigNumberify(c1.outstandingAvailable)\n\t\t\t)\n\t\t})\n\t\t.reduce(\n\t\t\t(data, c) => {\n\t\t\t\tconst current = { ...data }\n\t\t\t\tif (current.sum.lt(amountToSweep)) {\n\t\t\t\t\tcurrent.eligible.push(c)\n\t\t\t\t\tcurrent.sum = current.sum.add(bigNumberify(c.outstandingAvailable))\n\t\t\t\t}\n\n\t\t\t\treturn current\n\t\t\t},\n\t\t\t{ sum: bigNumberify(0), eligible: [] }\n\t\t)\n\n\treturn eligible\n}\n\nconst getChannelWithdrawData = ({\n\tidentityAddr,\n\tbalance,\n\tlastApprovedBalances,\n\tlastApprovedSigs,\n\tethChannelTuple,\n}) => {\n\tconst bTree = new BalanceTree(lastApprovedBalances)\n\tconst proof = bTree.getProof(identityAddr)\n\tconst vsig1 = splitSig(lastApprovedSigs[0])\n\tconst vsig2 = splitSig(lastApprovedSigs[1])\n\tconst root = bTree.mTree.getRoot()\n\n\treturn [ethChannelTuple, root, [vsig1, vsig2], proof, balance]\n}\n\nfunction getSweepExecuteRoutineTx({ txns, identityAddr, routineAuthTuple }) {\n\tconst { routineOpts, withdrawAmountByToken } = txns.reduce(\n\t\t(data, tx) => {\n\t\t\tconst updated = { ...data }\n\t\t\tupdated.routineOpts.push(RoutineOps.channelWithdraw(tx.data))\n\t\t\tupdated.withdrawAmountByToken[tx.feeTokenAddr] = (\n\t\t\t\tdata.withdrawAmountByToken[tx.feeTokenAddr] || bigNumberify(0)\n\t\t\t).add(bigNumberify(tx.withdrawAmountByToken[tx.feeTokenAddr]))\n\n\t\t\treturn updated\n\t\t},\n\t\t{ routineOpts: [], withdrawAmountByToken: {} }\n\t)\n\n\tconst data = IdentityInterface.functions.executeRoutines.encode([\n\t\troutineAuthTuple,\n\t\troutineOpts,\n\t])\n\n\tconst routinesTx = {\n\t\tidentityContract: identityAddr,\n\t\tto: identityAddr,\n\t\tdata,\n\t\twithdrawAmountByToken,\n\t\troutinesSweepTxCount: routineOpts.length,\n\t}\n\n\treturn routinesTx\n}\n\nfunction getIdentityRoutineAuthTuple(identity) {\n\treturn identity &&\n\t\tidentity.relayerData &&\n\t\tidentity.relayerData.deployData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData &&\n\t\tidentity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t? identity.relayerData.deployData.routineAuthorizationsData[0]\n\t\t: null\n}\n\nfunction is41identity(routineAuthTuple) {\n\tconst is41 = routineAuthTuple && routineAuthTuple.length === 5\n\n\treturn is41\n}\n\nfunction hasValidExecuteRoutines(routineAuthTuple) {\n\tconst hasValidRoutines =\n\t\tis41identity(routineAuthTuple) &&\n\t\tparseInt((routineAuthTuple[2], 16) - EXTRA_PROCESS_TIME) * 1000 > Date.now()\n\n\treturn hasValidRoutines\n}\n\nexport async function getSweepChannelsTxns({ account, amountToSweep }) {\n\tconst { identity } = account\n\t// TODO: pass withBalance as prop\n\tconst withBalance = selectChannelsWithUserBalancesEligible(getState())\n\n\tconst { AdExCore } = await getEthers(AUTH_TYPES.READONLY)\n\tconst identityAddr = identity.address\n\tconst channelsToSweep = await getChannelsToSweepFrom({\n\t\tamountToSweep,\n\t\tidentityAddr,\n\t\twithBalance,\n\t})\n\n\tconst txns = channelsToSweep.map((c, i) => {\n\t\tconst {\n\t\t\tlastApprovedBalances,\n\t\t\tchannel,\n\t\t\tlastApprovedSigs,\n\t\t\toutstanding,\n\t\t\t// outstandingAvailable,\n\t\t\tbalance,\n\t\t} = c\n\t\tconst ethChannelTuple = toEthereumChannel(channel).toSolidityTuple()\n\n\t\tconst data = getChannelWithdrawData({\n\t\t\tidentityAddr,\n\t\t\tbalance,\n\t\t\tlastApprovedBalances,\n\t\t\tlastApprovedSigs,\n\t\t\tethChannelTuple,\n\t\t})\n\n\t\treturn {\n\t\t\tidentityContract: identityAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tfeeTokenAddr: channel.depositAsset,\n\t\t\tdata,\n\t\t\twithdrawAmountByToken: { [channel.depositAsset]: outstanding },\n\t\t}\n\t})\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\n\tlet encodedTxns = null\n\tif (hasValidExecuteRoutines(routineAuthTuple)) {\n\t\tencodedTxns = [\n\t\t\tgetSweepExecuteRoutineTx({\n\t\t\t\ttxns,\n\t\t\t\tidentityAddr,\n\t\t\t\troutineAuthTuple,\n\t\t\t}),\n\t\t]\n\t} else {\n\t\tencodedTxns = txns.map(tx => {\n\t\t\ttx.data = Core.functions.channelWithdraw.encode(tx.data)\n\t\t\ttx.isSweepTx = true\n\n\t\t\treturn tx\n\t\t})\n\t}\n\n\treturn encodedTxns\n}\n\nfunction getSwapAmountsByToken({ balances }) {\n\tconst mainToken = selectMainToken()\n\tconst saiToken = selectSaiToken()\n\tconst { swapsByToken, swapsSumInMainToken } = balances.reduce(\n\t\t(swaps, balance) => {\n\t\t\t// TODO: currently work only for SAI to DAI swap\n\t\t\tif (\n\t\t\t\tsaiToken &&\n\t\t\t\tsaiToken.address &&\n\t\t\t\tbalance.token.address !== mainToken.address &&\n\t\t\t\t// TEMP: remove that check when all tokens swaps are available\n\t\t\t\tbalance.token.address === saiToken.address\n\t\t\t) {\n\t\t\t\tswaps.swapsSumInMainToken = swaps.swapsSumInMainToken.add(\n\t\t\t\t\tbalance.balanceMainToken\n\t\t\t\t)\n\t\t\t\tswaps.swapsByToken[balance.token.address] = balance.balance\n\t\t\t}\n\t\t\treturn swaps\n\t\t},\n\t\t{\n\t\t\tswapsSumInMainToken: bigNumberify(0),\n\t\t\tswapsByToken: {},\n\t\t}\n\t)\n\n\treturn { swapsByToken, swapsSumInMainToken }\n}\n\n// NOTE: withdraw from channels + prop for amount to swap by token to main token\n// amountNeeded must be in MainToken\nexport async function getSweepingTxnsIfNeeded({\n\tamountInMainTokenNeeded,\n\taccount,\n}) {\n\tconst needed = bigNumberify(amountInMainTokenNeeded)\n\tconst {\n\t\tbalances,\n\t\tmainTokenBalance,\n\t} = account.stats.raw.identityWithdrawTokensBalancesBalances\n\n\tlet currentBalanceInUse = bigNumberify(mainTokenBalance)\n\n\tconst sweepData = {\n\t\tsweepTxns: [],\n\t\tswapAmountsByToken: {},\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\t// Swaps\n\t\tconst { swapsByToken, swapsSumInMainToken } = getSwapAmountsByToken({\n\t\t\tbalances,\n\t\t\tamountToSwapInMainToken: needed.sub(currentBalanceInUse),\n\t\t})\n\n\t\tsweepData.swapAmountsByToken = swapsByToken\n\t\tcurrentBalanceInUse = currentBalanceInUse.add(swapsSumInMainToken)\n\t}\n\n\tif (needed.gt(currentBalanceInUse)) {\n\t\tsweepData.sweepTxns = await getSweepChannelsTxns({\n\t\t\taccount,\n\t\t\tamountToSweep: needed.sub(currentBalanceInUse),\n\t\t})\n\t}\n\n\treturn sweepData\n}\n\nexport function getChannelId({ campaign, account }) {\n\tconst { identity } = account\n\tconst mainToken = selectMainFeeToken()\n\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\n\tconst openReady = readyCampaign.openReady\n\tconst ethChannel = toEthereumChannel(openReady)\n\tconst id = ethChannel.hashHex(AdExCore.address)\n\n\treturn id\n}\n\nexport async function openChannel({\n\tcampaign,\n\taccount,\n\tgetFeesOnly,\n\tgetMaxFees,\n}) {\n\tconst { wallet, identity, stats } = account\n\tconst { availableIdentityBalanceMainToken } = stats.raw\n\tconst { provider, AdExCore, Identity, getToken } = await getEthers(\n\t\twallet.authType\n\t)\n\n\tconst mainToken = selectMainFeeToken()\n\tconst depositAmount = getMaxFees\n\t\t? availableIdentityBalanceMainToken\n\t\t: parseUnits(campaign.depositAmount, mainToken.decimals).toString()\n\n\tconst readyCampaign = getReadyCampaign(campaign, identity, mainToken)\n\tconst openReady = readyCampaign.openReady\n\tconst ethChannel = toEthereumChannel(openReady)\n\tconst channel = {\n\t\t...openReady,\n\t\tid: ethChannel.hashHex(AdExCore.address),\n\t}\n\tconst identityAddr = openReady.creator\n\tconst feeTokenAddr = mainToken.address\n\n\tconst routineAuthTuple = getIdentityRoutineAuthTuple(identity)\n\tconst hasIdentityChannelOpen = is41identity(routineAuthTuple)\n\n\tconst txns = []\n\n\tif (hasIdentityChannelOpen) {\n\t\tconst identityChannelOpenTx = {\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: identityAddr,\n\t\t\tdata: IdentityInterface.functions.channelOpen.encode([\n\t\t\t\tAdExCore.address,\n\t\t\t\tethChannel.toSolidityTuple(),\n\t\t\t]),\n\t\t\textraTxFeesCount: 1,\n\t\t}\n\t\ttxns.push(identityChannelOpenTx)\n\t} else {\n\t\tconst approveTxns = await getApproveTxns({\n\t\t\tgetToken,\n\t\t\ttoken: mainToken,\n\t\t\tidentityAddr,\n\t\t\tfeeTokenAddr: mainToken.address,\n\t\t\tapproveForAddress: AdExCore.address,\n\t\t\tapproveAmount: depositAmount,\n\t\t})\n\n\t\tconst channelOpenTx = {\n\t\t\tidentityContract: identityAddr,\n\t\t\tfeeTokenAddr: feeTokenAddr,\n\t\t\tto: AdExCore.address,\n\t\t\tdata: Core.functions.channelOpen.encode([ethChannel.toSolidityTuple()]),\n\t\t}\n\t\ttxns.push(...approveTxns, channelOpenTx)\n\t}\n\n\tconst txnsByFeeToken = await getIdentityTxnsWithNoncesAndFees({\n\t\tamountInMainTokenNeeded: depositAmount,\n\t\ttxns,\n\t\tidentityAddr,\n\t\tprovider,\n\t\tIdentity,\n\t\taccount,\n\t\tgetToken,\n\t\texecuteAction: EXECUTE_ACTIONS.openCampaign,\n\t})\n\n\tconst { total, totalBN, breakdownFormatted } = await getIdentityTxnsTotalFees(\n\t\t{ txnsByFeeToken }\n\t)\n\tconst bigZero = bigNumberify(0)\n\tconst mtBalance = bigNumberify(availableIdentityBalanceMainToken)\n\tconst maxAvailable = mtBalance.sub(totalBN).lt(bigZero)\n\t\t? bigZero\n\t\t: mtBalance.sub(totalBN)\n\tconst maxAvailableFormatted = formatTokenAmount(\n\t\tmaxAvailable.toString(),\n\t\tmainToken.decimals || 18,\n\t\tfalse,\n\t\t2\n\t)\n\n\tif (getFeesOnly) {\n\t\treturn {\n\t\t\tfeesFormatted: total,\n\t\t\tfees: totalBN,\n\t\t\tmaxAvailable,\n\t\t\tmaxAvailableFormatted,\n\t\t\tbreakdownFormatted,\n\t\t}\n\t}\n\n\tconst result = await processExecuteByFeeTokens({\n\t\tidentityAddr,\n\t\ttxnsByFeeToken,\n\t\twallet,\n\t\tprovider,\n\t\textraData: { channel },\n\t})\n\n\treadyCampaign.id = channel.id\n\tconst storeCampaign = { ...readyCampaign }\n\tstoreCampaign.spec = { ...openReady.spec }\n\treturn {\n\t\tresult,\n\t\tstoreCampaign,\n\t}\n}\n\nexport async function closeChannel({ account, campaign }) {\n\tconst result = await closeCampaign({ account, campaign })\n\treturn result\n}\n","import { bigNumberify } from 'ethers/utils'\nimport { selectRoutineWithdrawTokens, selectMainToken } from 'selectors'\nimport { tokenInMainTokenValue } from 'services/smart-contracts/actions/stats'\nimport { formatTokenAmount } from 'helpers/formatters'\n\nimport { getCampaigns } from './actions'\n\nexport async function getUnitsStatsByType() {\n\tconst { decimals } = selectMainToken()\n\tconst withdrawTokens = selectRoutineWithdrawTokens()\n\tconst allChannels = await getCampaigns()\n\n\tconst channels = allChannels.filter(\n\t\tchannel => !!withdrawTokens[channel.depositAsset]\n\t)\n\n\tconst unitsByType = channels.reduce((units, channel) => {\n\t\tconst byType = { ...units }\n\t\tchannel.spec.adUnits.forEach(unit => {\n\t\t\tbyType[unit.type] = byType[unit.type] || []\n\t\t\tbyType[unit.type].push(channel)\n\t\t})\n\n\t\treturn byType\n\t}, {})\n\n\tconst unitsByTypeStats = Object.keys(unitsByType).reduce(\n\t\tasync (prevStats, key) => {\n\t\t\tconst stats = await prevStats\n\t\t\tconst channelsByType = unitsByType[key]\n\n\t\t\tlet totalPerImpression = bigNumberify('0')\n\t\t\tlet totalVolume = bigNumberify('0')\n\n\t\t\tfor (let index = 0; index < channelsByType.length; index++) {\n\t\t\t\tconst channel = channelsByType[index]\n\n\t\t\t\tconst minPerImpression = await tokenInMainTokenValue({\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\n\t\t\t\t\tbalance: bigNumberify(channel.spec.minPerImpression),\n\t\t\t\t})\n\t\t\t\tconst depositAmount = await tokenInMainTokenValue({\n\t\t\t\t\ttoken: withdrawTokens[channel.depositAsset],\n\t\t\t\t\tbalance: bigNumberify(channel.depositAmount),\n\t\t\t\t})\n\n\t\t\t\ttotalPerImpression = totalPerImpression.add(minPerImpression)\n\t\t\t\ttotalVolume = totalVolume.add(depositAmount)\n\t\t\t}\n\n\t\t\tconst avgPerImpression = totalPerImpression.div(\n\t\t\t\tbigNumberify(channelsByType.length)\n\t\t\t)\n\t\t\tconst avgCPM = avgPerImpression.mul(bigNumberify('1000'))\n\n\t\t\tconst statsByType = { ...stats }\n\t\t\tstatsByType[key] = {}\n\t\t\tstatsByType[key].raw = {\n\t\t\t\ttotalVolume,\n\t\t\t\tavgPerImpression,\n\t\t\t\tavgCPM,\n\t\t\t}\n\n\t\t\tstatsByType[key].formatted = {\n\t\t\t\ttotalVolume: formatTokenAmount(totalVolume, decimals, false, 2),\n\t\t\t\tavgPerImpression: formatTokenAmount(\n\t\t\t\t\tavgPerImpression,\n\t\t\t\t\tdecimals,\n\t\t\t\t\tfalse,\n\t\t\t\t\t2\n\t\t\t\t),\n\t\t\t\tavgCPM: formatTokenAmount(avgCPM, decimals, false, 4),\n\t\t\t}\n\n\t\t\treturn statsByType\n\t\t},\n\t\tPromise.resolve({})\n\t)\n\n\treturn unitsByTypeStats\n}\n","import * as types from 'constants/actionTypes'\nimport throttle from 'lodash.throttle'\nimport { addToast, removeToast, updateSpinner, isAccountChanged } from 'actions'\nimport { translate } from 'services/translations/translations'\nimport {\n\tgetValidatorAuthToken,\n\tidentityAnalytics,\n\tidentityAdvancedAnalytics,\n\ttimeBasedAnalytics,\n} from 'services/adex-validator/actions'\nimport { updateValidatorAuthTokens } from './accountActions'\nimport {\n\tVALIDATOR_ANALYTICS_EVENT_TYPES,\n\tVALIDATOR_ANALYTICS_METRICS,\n} from 'constants/misc'\nimport {\n\tUPDATING_SLOTS_DEMAND,\n\tUPDATING_TARGETING_DATA,\n} from 'constants/spinners'\nimport { getErrorMsg } from 'helpers/errors'\nimport { fillEmptyTime } from 'helpers/analyticsTimeHelpers'\nimport { getUnitsStatsByType } from 'services/adex-market/aggregates'\nimport { getTargetingData } from 'services/adex-market/actions'\nimport {\n\tselectChannelsWithUserBalancesAll,\n\tselectFeeTokenWhitelist,\n\tselectRoutineWithdrawTokens,\n\tselectAnalyticsDataSide,\n\tselectAccount,\n\tselectStatsChartData,\n\tselectAnalyticsLiveTimestamp,\n\tselectPublisherReceiptsPresentMonths,\n\tselectIdentitySideAnalyticsTimeframe,\n\tselectIdentitySideAnalyticsPeriod,\n\tselectMonthsRange,\n} from 'selectors'\nimport { bigNumberify } from 'ethers/utils'\nimport moment from 'moment'\nimport { FETCHING_PUBLISHER_RECEIPTS } from 'constants/spinners'\nimport { DEFAULT_WEEK_HOURS_SPAN } from 'helpers/analyticsTimeHelpers'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\nconst analyticsParams = ({ timeframe, side }) => {\n\tconst callsParams = []\n\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tVALIDATOR_ANALYTICS_METRICS.forEach(metric => {\n\t\t\tconst segmentByChannel =\n\t\t\t\tside === 'for-publisher' && metric === 'eventPayouts' ? true : undefined\n\t\t\tconst limit = segmentByChannel ? 100 * 25 : 100\n\t\t\tcallsParams.push({\n\t\t\t\tmetric,\n\t\t\t\ttimeframe,\n\t\t\t\tside,\n\t\t\t\teventType,\n\t\t\t\tweekHoursSpan: DEFAULT_WEEK_HOURS_SPAN,\n\t\t\t\tsegmentByChannel,\n\t\t\t\tlimit,\n\t\t\t})\n\t\t})\n\t)\n\n\treturn callsParams\n}\n\nconst analyticsCampaignsParams = () => {\n\tconst callsParams = []\n\tVALIDATOR_ANALYTICS_EVENT_TYPES.forEach(eventType =>\n\t\tcallsParams.push({ eventType })\n\t)\n\treturn callsParams\n}\n\nfunction aggrByChannelsSegments({ aggr, allChannels, withdrawTokens }) {\n\tif (!Object.keys(allChannels).length) {\n\t\treturn []\n\t}\n\t// NOTE: No need to sort them again because fillEmptyTime\n\t// is sorting by time after adding the empty time values\n\tconst { aggregations, all } = aggr\n\t\t.sort((a, b) => b.time - a.time)\n\t\t.reduce(\n\t\t\t(data, a) => {\n\t\t\t\tconst { time } = a\n\t\t\t\tconst { aggregations, channels, all } = data\n\t\t\t\tconst channelId = a.channelId.toLowerCase()\n\t\t\t\tconst {\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tbalanceNum,\n\t\t\t\t\t//  depositAsset,\n\t\t\t\t\t//  status,\n\t\t\t\t\t// \tbalance\n\t\t\t\t} = allChannels[channelId] || {}\n\n\t\t\t\t// NOTE: check if the channel has lifetime min balance e.g. it is in the total balance\n\t\t\t\t// - need to be synced with relayer way for auto sweep - only when campaign is complete\n\n\t\t\t\t// const { minPlatform, minFinal } = withdrawTokens[depositAsset]\n\t\t\t\t// const isExpired = status === 'Expired'\n\t\t\t\t// const minBalance = isExpired ? minFinal : minPlatform\n\t\t\t\t// const hasMinBalance = bigNumberify(balance).gt(bigNumberify(minBalance))\n\n\t\t\t\t// if (hasMinBalance) {\n\t\t\t\tconst current = channels[channelId] || { aggr: [] }\n\n\t\t\t\tconst value = bigNumberify(a.value || 0)\n\t\t\t\t\t.mul(bigNumberify(balanceNum || 1))\n\t\t\t\t\t.div(bigNumberify(depositAmount || 1))\n\n\t\t\t\tcurrent.aggr.push({ value, time })\n\n\t\t\t\tconst currentAggr = aggregations[time] || {\n\t\t\t\t\ttime,\n\t\t\t\t\tvalue: bigNumberify(0),\n\t\t\t\t}\n\t\t\t\tconst currentChannelValue = bigNumberify(current.value || 0).add(value)\n\n\t\t\t\tconst currentTimeValue = currentAggr.value\n\n\t\t\t\tcurrent.value = currentChannelValue\n\n\t\t\t\tcurrentAggr.value = value.add(currentTimeValue)\n\n\t\t\t\tchannels[channelId] = current\n\t\t\t\taggregations[time] = currentAggr\n\t\t\t\tall[time] = a.value || all[time]\n\t\t\t\t// }\n\n\t\t\t\treturn { aggregations, channels, all }\n\t\t\t},\n\t\t\t{ aggregations: {}, channels: {}, all: {} }\n\t\t)\n\n\t// NOTE: force to null values when value under limits but not naturally 0\n\tconst aggrWithNullValues = Object.values(aggregations).map(\n\t\t({ time, value }) => {\n\t\t\tconst isNull =\n\t\t\t\tall[time] === undefined ||\n\t\t\t\t(bigNumberify(value).isZero() && all[time] !== '0')\n\t\t\treturn { time, value: isNull ? null : value }\n\t\t}\n\t)\n\n\treturn aggrWithNullValues\n}\n\nexport const updateAccountAnalyticsThrottled = () => (dispatch, getState) => {\n\treturn updateAccountAnalytics(dispatch, getState)\n}\n\nexport const updateAccountAnalytics = throttle(\n\tasync function(dispatch, getState) {\n\t\tupdateAnalyticsLastChecked()(dispatch)\n\t\tconst state = getState()\n\t\tconst account = selectAccount(state)\n\t\tconst side = selectAnalyticsDataSide(state)\n\t\tconst timeframe = selectIdentitySideAnalyticsTimeframe(state)\n\t\tconst allChannels = selectChannelsWithUserBalancesAll(state)\n\t\tconst { start, end, callEnd } = selectIdentitySideAnalyticsPeriod(state)\n\t\tconst feeTokens = selectFeeTokenWhitelist(state)\n\t\tconst withdrawTokens = selectRoutineWithdrawTokens(state)\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsParams({ timeframe, side })\n\t\t\tlet accountChanged = false\n\t\t\tconst liveTimestamp = selectAnalyticsLiveTimestamp(state)\n\t\t\tconst timeframeIsLive = liveTimestamp === start\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\tconst { datasets, labels } = selectStatsChartData(state, {\n\t\t\t\t\t...opts,\n\t\t\t\t})\n\n\t\t\t\tif (timeframeIsLive || datasets.length === 0 || labels.length === 0) {\n\t\t\t\t\tidentityAnalytics({\n\t\t\t\t\t\t...opts,\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\tend: callEnd || end,\n\t\t\t\t\t\tleaderAuth,\n\t\t\t\t\t})\n\t\t\t\t\t\t.then(({ aggregates, metric }) => {\n\t\t\t\t\t\t\tconst aggrByChannelSegments =\n\t\t\t\t\t\t\t\tside === 'for-publisher' && metric === 'eventPayouts'\n\n\t\t\t\t\t\t\tlet aggr = aggrByChannelSegments\n\t\t\t\t\t\t\t\t? aggrByChannelsSegments({\n\t\t\t\t\t\t\t\t\t\taggr: aggregates.aggr,\n\t\t\t\t\t\t\t\t\t\tallChannels,\n\t\t\t\t\t\t\t\t\t\tfeeTokens,\n\t\t\t\t\t\t\t\t\t\twithdrawTokens,\n\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t: aggregates.aggr\n\t\t\t\t\t\t\tconst fillAfterLast = aggrByChannelSegments ? null : 0\n\n\t\t\t\t\t\t\taggregates.aggr = fillEmptyTime(\n\t\t\t\t\t\t\t\taggr,\n\t\t\t\t\t\t\t\ttimeframe,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tfillAfterLast,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstart,\n\t\t\t\t\t\t\t\t\tend,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\taccountChanged =\n\t\t\t\t\t\t\t\taccountChanged || isAccountChanged(getState, account)\n\n\t\t\t\t\t\t\tif (!accountChanged) {\n\t\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\t\ttype: types.UPDATE_ANALYTICS,\n\t\t\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\t\t\ttimestamp: liveTimestamp === start ? 'live' : start,\n\t\t\t\t\t\t\t\t\tvalue: { ...aggregates }, // ADD TIME as well\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tconsole.error('ERR_ANALYTICS_SINGLE', err)\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\tawait Promise.all(allAnalytics)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_ANALYTICS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t},\n\t1000,\n\t{ leading: false, trailing: true }\n)\n\nexport function updateAccountAdvancedAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\tconst { account } = getState().persist\n\t\ttry {\n\t\t\tconst toastId = addToast({\n\t\t\t\ttype: 'warning',\n\t\t\t\tlabel: translate('SIGN_VALIDATORS_AUTH'),\n\t\t\t\ttimeout: false,\n\t\t\t\tunclosable: true,\n\t\t\t\ttop: true,\n\t\t\t})(dispatch)\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tremoveToast(toastId)(dispatch)\n\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tconst params = analyticsCampaignsParams()\n\t\t\tlet accountChanged = false\n\t\t\tconst allAnalytics = params.map(async opts => {\n\t\t\t\ttry {\n\t\t\t\t\tconst value = await identityAdvancedAnalytics({\n\t\t\t\t\t\t...opts,\n\t\t\t\t\t\tleaderAuth,\n\t\t\t\t\t})\n\n\t\t\t\t\taccountChanged = accountChanged || isAccountChanged(getState, account)\n\n\t\t\t\t\treturn { opts, value }\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS_SINGLE', err)\n\t\t\t\t\treturn null\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tconst data = await Promise.all(allAnalytics)\n\n\t\t\tif (!accountChanged) {\n\t\t\t\tdata\n\t\t\t\t\t.filter(x => !!x)\n\t\t\t\t\t.forEach(({ opts, value }) =>\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: types.UPDATE_ADVANCED_ANALYTICS,\n\t\t\t\t\t\t\t...opts,\n\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CAMPAIGN_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_CAMPAIGN_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function getReceiptData(startDate, endDate) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst { account } = state.persist\n\t\ttry {\n\t\t\tawait updateSpinner(FETCHING_PUBLISHER_RECEIPTS, true)(dispatch)\n\t\t\tconst presentMonths = selectPublisherReceiptsPresentMonths(state)\n\t\t\tconst monthsWanted = selectMonthsRange(startDate, endDate)\n\t\t\tconst monthsNeeded = monthsWanted\n\t\t\t\t.filter(val => !presentMonths.includes(val))\n\t\t\t\t.sort()\n\n\t\t\tconst leaderAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\t\t\tupdateValidatorAuthTokens({\n\t\t\t\tnewAuth: { [VALIDATOR_LEADER_ID]: leaderAuth },\n\t\t\t})(dispatch, getState)\n\n\t\t\tif (monthsNeeded.length > 0) {\n\t\t\t\tconst timeframe = 'month'\n\t\t\t\tconst limit = 500\n\t\t\t\tconst promises = []\n\t\t\t\tconst startDateNeeded = monthsNeeded[0]\n\t\t\t\tconst endDateNeeded = monthsNeeded[monthsNeeded.length - 1]\n\t\t\t\t//limit of request is 500 days\n\t\t\t\tfor (\n\t\t\t\t\tvar m = moment(startDateNeeded);\n\t\t\t\t\tm.diff(endDateNeeded) <= 0;\n\t\t\t\t\tm.add(limit, 'day')\n\t\t\t\t) {\n\t\t\t\t\tpromises.push(\n\t\t\t\t\t\ttimeBasedAnalytics({\n\t\t\t\t\t\t\tleaderAuth,\n\t\t\t\t\t\t\ttimeframe,\n\t\t\t\t\t\t\tlimit,\n\t\t\t\t\t\t\tside: 'for-publisher',\n\t\t\t\t\t\t\teventType: 'IMPRESSION',\n\t\t\t\t\t\t\tmetric: 'eventCounts',\n\t\t\t\t\t\t\tstart: +moment(startDateNeeded),\n\t\t\t\t\t\t\tend: +moment(endDateNeeded).endOf('month'),\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ttimeBasedAnalytics({\n\t\t\t\t\t\t\tleaderAuth,\n\t\t\t\t\t\t\ttimeframe,\n\t\t\t\t\t\t\tlimit,\n\t\t\t\t\t\t\tside: 'for-publisher',\n\t\t\t\t\t\t\teventType: 'IMPRESSION',\n\t\t\t\t\t\t\tmetric: 'eventPayouts',\n\t\t\t\t\t\t\tstart: +moment(startDateNeeded),\n\t\t\t\t\t\t\tend: +moment(endDateNeeded).endOf('month'),\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tconst resolvedPromises = await Promise.all(promises)\n\t\t\t\tlet impressions = []\n\t\t\t\tlet payouts = []\n\t\t\t\tfor (let i = 0; i < resolvedPromises.length; i += 2) {\n\t\t\t\t\timpressions = [...impressions, ...resolvedPromises[i].aggr]\n\t\t\t\t\tpayouts = [...payouts, ...resolvedPromises[i + 1].aggr]\n\t\t\t\t}\n\t\t\t\tconst result = {}\n\t\t\t\t// add wanted dates\n\t\t\t\tconst getMonthTimeStamp = date => +moment(date).startOf('month')\n\t\t\t\tmonthsNeeded.forEach(date => {\n\t\t\t\t\tconst month = getMonthTimeStamp(date)\n\t\t\t\t\tif (!result[month]) {\n\t\t\t\t\t\tresult[month] = {}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\timpressions.forEach((item, i) => {\n\t\t\t\t\tconst month = getMonthTimeStamp(item.time)\n\t\t\t\t\tif (result[month]) {\n\t\t\t\t\t\tresult[month][item.time] = {\n\t\t\t\t\t\t\timpressions: item.value,\n\t\t\t\t\t\t\tpayouts: payouts[i].value,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: types.UPDATE_PUBLISHER_RECEIPTS,\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\t...result,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t}\n\t\t\tawait updateSpinner(FETCHING_PUBLISHER_RECEIPTS, false)(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.log(err)\n\t\t}\n\t}\n}\n\nexport function resetAnalytics() {\n\treturn async function(dispatch, getState) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ANALYTICS,\n\t\t})\n\t}\n}\n\nexport function updateAnalyticsLastChecked() {\n\treturn async function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ANALYTICS_LAST_CHECKED,\n\t\t\tvalue: new Date(),\n\t\t})\n\t}\n}\n\nexport const updateSlotsDemand = throttle(\n\tasync function(dispatch) {\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, true)(dispatch)\n\t\ttry {\n\t\t\tconst demandAnalytics = await getUnitsStatsByType()\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_DEMAND_ANALYTICS,\n\t\t\t\tvalue: demandAnalytics,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_SLOTS_DEMAND_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_SLOTS_DEMAND_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tawait updateSpinner(UPDATING_SLOTS_DEMAND, false)(dispatch)\n\t},\n\t5 * 60 * 1000,\n\t{ leading: true, trailing: false }\n)\n\nexport const updateTargetingData = throttle(\n\tasync function(dispatch) {\n\t\tawait updateSpinner(UPDATING_TARGETING_DATA, true)(dispatch)\n\t\ttry {\n\t\t\tconst {\n\t\t\t\ttargetingData,\n\t\t\t\tminByCategory,\n\t\t\t\tcountryTiersCoefficients,\n\t\t\t} = await getTargetingData()\n\n\t\t\tdispatch({\n\t\t\t\ttype: types.UPDATE_TARGETING_ANALYTICS,\n\t\t\t\tvalue: { targetingData, minByCategory, countryTiersCoefficients },\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_TARGETING_DATA_ANALYTICS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_TARGETING_DATA_ANALYTICS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tawait updateSpinner(UPDATING_TARGETING_DATA, false)(dispatch)\n\t},\n\t5 * 60 * 1000,\n\t{ leading: true, trailing: false }\n)\n\nexport const updateSlotsDemandThrottled = () => dispatch => {\n\treturn updateSlotsDemand(dispatch)\n}\n\nexport const updateTargetingDataThrottled = () => dispatch => {\n\treturn updateTargetingData(dispatch)\n}\n","import * as types from 'constants/actionTypes'\nimport { addSig, getSig } from 'services/auth/auth'\nimport { getSession, checkSession } from 'services/adex-market/actions'\nimport {\n\tgetRelayerConfigData,\n\tgetQuickWallet,\n\tbackupWallet,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { updateSpinner, updateGlobalUi } from 'actions'\nimport { translate } from 'services/translations/translations'\nimport { getAuthSig } from 'services/smart-contracts/actions/ethers'\nimport {\n\tremoveLegacyKey,\n\tgetWalletHash,\n\tgenerateSalt,\n\tgetRecoveryWalletData,\n} from 'services/wallet/wallet'\nimport { getValidatorAuthToken } from 'services/adex-validator/actions'\nimport {\n\tgetAccountStats,\n\tgetOutstandingBalance,\n} from 'services/smart-contracts/actions/stats'\nimport { getChannelsWithOutstanding } from 'services/smart-contracts/actions/core'\nimport {\n\taddToast,\n\tconfirmAction,\n\tupdateMemoryUi,\n\tupdateInitialDataLoaded,\n} from './uiActions'\nimport { getAllItems } from './itemActions'\nimport {\n\tupdateSlotsDemandThrottled,\n\tupdateTargetingDataThrottled,\n} from './analyticsActions'\nimport {\n\tgetEthereumProviderName,\n\tethereumNetworkId,\n\tgetMetamaskSelectedAddress,\n} from 'services/smart-contracts/ethers'\nimport { AUTH_TYPES, ETHEREUM_NETWORKS } from 'constants/misc'\nimport {\n\tselectAccount,\n\tselectIdentity,\n\tselectAuth,\n\tselectWallet,\n\tselectSearchParams,\n\tselectAuthType,\n\tselectAccountIdentity,\n\tselectLoginDirectSide,\n} from 'selectors'\nimport { logOut } from 'services/store-data/auth'\nimport { getErrorMsg } from 'helpers/errors'\nimport { push } from 'connected-react-router'\nimport {\n\tCREATING_SESSION,\n\tQUICK_WALLET_BACKUP,\n\tUPDATING_ACCOUNT_IDENTITY,\n\tSYNC_WEB3_DATA,\n} from 'constants/spinners'\nimport { campaignsLoop } from 'services/store-data/campaigns'\nimport statsLoop from 'services/store-data/account'\nimport {\n\tanalyticsLoop,\n\tadvancedAnalyticsLoop,\n} from 'services/store-data/analytics'\n\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\n\n// MEMORY STORAGE\nexport function updateSignin(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_SIGNIN,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetSignin() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_SIGNIN,\n\t\t})\n\t}\n}\n\n// PERSISTENT STORAGE\nexport function createAccount(acc) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.CREATE_ACCOUNT,\n\t\t\taccount: acc,\n\t\t})\n\t}\n}\n\n// LOGOUT\nexport function resetAccount() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ACCOUNT,\n\t\t})\n\t}\n}\n\nexport function updateAccount({ meta, newValues }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ACCOUNT,\n\t\t\tmeta: meta,\n\t\t\tnewValues: newValues,\n\t\t})\n\t}\n}\n\nexport function updateChannelsWithBalanceAll(channels) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_BALANCE_ALL,\n\t\t\tchannels,\n\t\t})\n\t}\n}\n\nexport function resetChannelsWithBalanceAll() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_CHANNELS_WITH_BALANCE_ALL,\n\t\t})\n\t}\n}\n\nexport function updateChannelsWithOutstandingBalance(channels) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\n\t\t\tchannels,\n\t\t})\n\t}\n}\n\nexport function resetChannelsWithOutstandingBalance() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\n\t\t})\n\t}\n}\n\n// getIdentityStatistics tooks to long some times\n// if the account is change we do not update the account\n// TODO: we can use something for abortable tasks\nexport function isAccountChanged(getState, account) {\n\tconst hasAuth = selectAuth(getState())\n\tconst accountCheck = selectAccount(getState())\n\tconst accountChanged =\n\t\t!hasAuth ||\n\t\t!accountCheck.wallet.address ||\n\t\taccountCheck.wallet.address !== account.wallet.address ||\n\t\t!accountCheck.identity.address ||\n\t\t!accountCheck.identity.address !== !account.identity.address\n\n\treturn accountChanged\n}\n\nexport function updateAccountStats() {\n\treturn async function(dispatch, getState) {\n\t\tconst account = selectAccount(getState())\n\t\ttry {\n\t\t\tconst { identity } = account\n\t\t\tconst { address } = identity\n\t\t\tconst { all, withOutstandingBalance } = await getChannelsWithOutstanding({\n\t\t\t\tidentityAddr: address,\n\t\t\t})\n\n\t\t\tif (!isAccountChanged(getState, account)) {\n\t\t\t\tupdateChannelsWithBalanceAll(all)(dispatch)\n\t\t\t\tupdateInitialDataLoaded('allChannels', true)(dispatch, getState)\n\t\t\t}\n\n\t\t\tconst outstandingBalanceMainToken = await getOutstandingBalance({\n\t\t\t\twithBalance: withOutstandingBalance,\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.error('ERR_OUTSTANDING_BALANCES', err)\n\t\t\t})\n\n\t\t\tconst { formatted, raw } = await getAccountStats({\n\t\t\t\taccount,\n\t\t\t\toutstandingBalanceMainToken,\n\t\t\t\tall,\n\t\t\t})\n\n\t\t\tif (!isAccountChanged(getState, account)) {\n\t\t\t\tawait updateChannelsWithOutstandingBalance(withOutstandingBalance)(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tawait updateAccount({\n\t\t\t\t\tnewValues: { stats: { formatted, raw } },\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_STATS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_STATS', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function updateAccountIdentityData(onDataUpdated) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\n\t\tconst identity = selectAccountIdentity(getState())\n\n\t\ttry {\n\t\t\tconst relayerData =\n\t\t\t\t(await getIdentityData({\n\t\t\t\t\tidentityAddr: identity.address,\n\t\t\t\t})) || {}\n\n\t\t\tconst updatedIdentity = { ...identity }\n\n\t\t\tupdatedIdentity.currentPrivileges = relayerData.currentPrivileges\n\t\t\tupdatedIdentity.isLimitedVolume = relayerData.isLimitedVolume\n\t\t\tupdatedIdentity.relayerData = relayerData\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { identity: updatedIdentity },\n\t\t\t})(dispatch)\n\t\t\tif (typeof onDataUpdated === 'function') {\n\t\t\t\tonDataUpdated()\n\t\t\t}\n\t\t} catch (err) {\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_UPDATING_ACCOUNT_IDENTITY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(UPDATING_ACCOUNT_IDENTITY, true)(dispatch)\n\t}\n}\n\nexport function updateValidatorAuthTokens({ newAuth }) {\n\treturn async function(dispatch, getState) {\n\t\tconst { identity } = getState().persist.account\n\n\t\tconst newIdentity = { ...identity }\n\t\tconst newTokens = { ...(newIdentity.validatorAuthTokens || {}), ...newAuth }\n\n\t\t// We don't want to update account if there is no actual change\n\t\tif (\n\t\t\tJSON.stringify(newIdentity.validatorAuthTokens) !==\n\t\t\tJSON.stringify(newTokens)\n\t\t) {\n\t\t\tnewIdentity.validatorAuthTokens = newTokens\n\t\t\tupdateAccount({ newValues: { identity: newIdentity } })(dispatch)\n\t\t}\n\t}\n}\n\nexport function createSession({\n\twallet,\n\tidentity = {},\n\temail,\n\tdeleteLegacyKey,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(CREATING_SESSION, true)(dispatch)\n\t\ttry {\n\t\t\tconst newWallet = { ...wallet }\n\t\t\tconst sessionSignature =\n\t\t\t\tgetSig({\n\t\t\t\t\taddr: newWallet.address,\n\t\t\t\t\tmode: newWallet.authType,\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t}) || null\n\n\t\t\tconst hasSession =\n\t\t\t\t!!sessionSignature &&\n\t\t\t\t(await checkSession({\n\t\t\t\t\tauthSig: sessionSignature,\n\t\t\t\t\tskipErrToast: true,\n\t\t\t\t}))\n\n\t\t\tif (hasSession) {\n\t\t\t\tnewWallet.authSig = sessionSignature\n\t\t\t} else {\n\t\t\t\tconst {\n\t\t\t\t\tsignature,\n\t\t\t\t\tmode,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t} = await getAuthSig({ wallet: newWallet })\n\n\t\t\t\tconst { status, expiryTime } = await getSession({\n\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\tmode: mode,\n\t\t\t\t\tsignature,\n\t\t\t\t\tauthToken,\n\t\t\t\t\thash,\n\t\t\t\t\ttypedData,\n\t\t\t\t\tsignerAddress: newWallet.address,\n\t\t\t\t})\n\n\t\t\t\tif (status === 'OK') {\n\t\t\t\t\taddSig({\n\t\t\t\t\t\taddr: wallet.address,\n\t\t\t\t\t\tsig: signature,\n\t\t\t\t\t\tmode: wallet.authType,\n\t\t\t\t\t\texpiryTime: expiryTime,\n\t\t\t\t\t\tidentity: identity.address,\n\t\t\t\t\t})\n\t\t\t\t\tnewWallet.authSig = signature\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst account = {\n\t\t\t\temail: email,\n\t\t\t\twallet: newWallet,\n\t\t\t\tidentity: { ...identity },\n\t\t\t}\n\n\t\t\tconst leaderValidatorAuth = await getValidatorAuthToken({\n\t\t\t\tvalidatorId: VALIDATOR_LEADER_ID,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taccount.identity.validatorAuthTokens = {\n\t\t\t\t[VALIDATOR_LEADER_ID]: leaderValidatorAuth,\n\t\t\t}\n\n\t\t\tupdateAccount({\n\t\t\t\tnewValues: { ...account },\n\t\t\t})(dispatch)\n\n\t\t\tif (deleteLegacyKey) {\n\t\t\t\tawait removeLegacyKey({\n\t\t\t\t\temail: wallet.email,\n\t\t\t\t\tpassword: wallet.password,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst side = selectLoginDirectSide(getState())\n\t\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\n\n\t\t\tif (['advertiser', 'publisher'].includes(side)) {\n\t\t\t\tdispatch(push(`/dashboard/${side}`))\n\t\t\t\tupdateGlobalUi('goToSide', '')(dispatch)\n\t\t\t} else {\n\t\t\t\tdispatch(push('/side-select'))\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_SESSION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: translate('ERR_GETTING_SESSION', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(CREATING_SESSION, false)(dispatch)\n\t}\n}\n\nexport function getRelayerConfig() {\n\treturn async function(dispatch) {\n\t\tconst cfg = await getRelayerConfigData()\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_RELAYER_CFG,\n\t\t\tcfg,\n\t\t})\n\t}\n}\n\nasync function isMetamaskMatters(getState) {\n\tconst state = getState()\n\tconst searchParams = selectSearchParams(state)\n\tconst authType = selectAuthType(state)\n\n\tconst doesItMatter =\n\t\tauthType === AUTH_TYPES.METAMASK.name ||\n\t\t(!authType &&\n\t\t\tsearchParams.get('external') === 'metamask' &&\n\t\t\t(await getEthereumProviderName()) === AUTH_TYPES.METAMASK.name)\n\n\treturn doesItMatter\n}\n\nexport function onMetamaskNetworkChange({ id } = {}) {\n\treturn async function(dispatch, getState) {\n\t\tif (\n\t\t\t(await isMetamaskMatters(getState)) &&\n\t\t\tprocess.env.NODE_ENV !== (ETHEREUM_NETWORKS[id] || {}).for\n\t\t) {\n\t\t\tconfirmAction(\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\t{\n\t\t\t\t\ttitle: translate('WARNING'),\n\t\t\t\t\ttext: translate('WATNING_METAMASK_INVALID_NETWORK', {\n\t\t\t\t\t\targs: [ETHEREUM_NETWORKS[process.env.NODE_ENV].name],\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\ttrue\n\t\t\t)(dispatch)\n\t\t} else {\n\t\t\tconfirmAction(null, null, {}, true, false)(dispatch)\n\t\t}\n\t}\n}\n\nexport const onMetamaskAccountChange = (accountAddress = '') => {\n\treturn async function(_, getState) {\n\t\tconst state = getState()\n\t\tconst hasAuth = selectAuth(state)\n\t\tconst account = selectAccount(state)\n\t\tconst { authType, address = '' } = account.wallet\n\n\t\tif (\n\t\t\thasAuth &&\n\t\t\tauthType === AUTH_TYPES.METAMASK.name &&\n\t\t\t(!accountAddress ||\n\t\t\t\taddress.toLowerCase() !== accountAddress.toLowerCase())\n\t\t) {\n\t\t\tlogOut()\n\t\t} else if (!hasAuth) {\n\t\t\tconst identity = selectIdentity(state)\n\t\t\tconst { identityContractOwner } = identity\n\t\t\tlogOut(!identityContractOwner || identityContractOwner === accountAddress)\n\t\t}\n\t}\n}\n\nexport function metamaskAccountCheck() {\n\treturn async function(_, getState) {\n\t\tconst isMatters = await isMetamaskMatters(getState)\n\t\tif (isMatters) {\n\t\t\tconst selectedAddress = await getMetamaskSelectedAddress()\n\t\t\tonMetamaskAccountChange(selectedAddress)(_, getState)\n\t\t}\n\t}\n}\n\nexport function metamaskNetworkCheck() {\n\treturn async function(_, getState) {\n\t\tconst id = await ethereumNetworkId()\n\t\tonMetamaskNetworkChange({ id })(_, getState)\n\t}\n}\n\nexport function metamaskChecks() {\n\treturn async function(_, getState) {\n\t\tmetamaskNetworkCheck()(_, getState)\n\t\tmetamaskAccountCheck()(_, getState)\n\t\tif (window.ethereum) {\n\t\t\twindow.ethereum.on('accountsChanged', accounts => {\n\t\t\t\tconsole.log('acc changed', accounts[0])\n\t\t\t\tonMetamaskAccountChange(accounts[0])(_, getState)\n\t\t\t})\n\t\t\twindow.ethereum.on('chainChanged', chainId => {\n\t\t\t\tconsole.log('chainChanged', chainId)\n\t\t\t\twindow.location.reload()\n\t\t\t})\n\t\t}\n\t}\n}\n\nasync function hasBackup({ email, password }) {\n\tconst salt = generateSalt(email)\n\tconst hash = await getWalletHash({ salt, password })\n\tconst { encryptedWallet } = await getQuickWallet({ hash })\n\n\treturn !!encryptedWallet && encryptedWallet.wallet\n}\n\nasync function makeBackup({ email, password, authType }) {\n\tconst walletSalt = generateSalt(email)\n\tconst walletHash = await getWalletHash({ salt: walletSalt, password })\n\tconst encryptedWallet = await getRecoveryWalletData({\n\t\temail,\n\t\tpassword,\n\t\tauthType,\n\t})\n\n\tawait backupWallet({\n\t\temail,\n\t\tsalt: walletSalt,\n\t\thash: walletHash,\n\t\tencryptedWallet,\n\t})\n}\n\nexport function ensureQuickWalletBackup() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, true)(dispatch)\n\t\ttry {\n\t\t\tconst { email, password, authType } = selectWallet(getState())\n\t\t\tconst isLocal = authType === 'quick' || authType === 'grant'\n\n\t\t\tif (isLocal && !(await hasBackup({ email, password }))) {\n\t\t\t\tawait makeBackup({ email, password, authType })\n\t\t\t}\n\t\t} catch (err) {}\n\t\tupdateSpinner(QUICK_WALLET_BACKUP, false)(dispatch)\n\t}\n}\n\nexport function loadAccountData() {\n\treturn async function(dispatch, getState) {\n\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\n\t\tconst account = selectAccount(getState())\n\t\t!isAccountChanged(getState, account) &&\n\t\t\t(await updateAccountIdentityData(() =>\n\t\t\t\tupdateInitialDataLoaded('accountIdentityData', true)(dispatch, getState)\n\t\t\t)(dispatch, getState))\n\n\t\tconst items = getAllItems(() =>\n\t\t\tupdateInitialDataLoaded('allItems', true)(dispatch, getState)\n\t\t)(dispatch, getState)\n\n\t\tconst advancedAnalytics = advancedAnalyticsLoop.start(() =>\n\t\t\tupdateInitialDataLoaded('advancedAnalytics', true)(dispatch, getState)\n\t\t)\n\t\tconst campaigns = campaignsLoop.start(() =>\n\t\t\tupdateInitialDataLoaded('campaigns', true)(dispatch, getState)\n\t\t)\n\t\tconst demand = updateSlotsDemandThrottled()(dispatch, getState)\n\t\tconst targetingData = updateTargetingDataThrottled()(dispatch, getState)\n\n\t\tawait Promise.all[\n\t\t\t(items, advancedAnalytics, campaigns, demand, targetingData)\n\t\t]\n\n\t\tawait statsLoop.start(() =>\n\t\t\tupdateInitialDataLoaded('stats', true)(dispatch, getState)\n\t\t)\n\n\t\tupdateMemoryUi('initialDataLoaded', true)(dispatch, getState)\n\t}\n}\n\nexport function stopAccountDataUpdate() {\n\treturn async function(dispatch, getState) {\n\t\tupdateMemoryUi('initialDataLoaded', false)(dispatch, getState)\n\t\tanalyticsLoop.stop()\n\t\tadvancedAnalyticsLoop.stop()\n\t\tcampaignsLoop.stop()\n\t\tstatsLoop.stop()\n\t}\n}\n\n// NOTE: Need to be executed before each provider write action\nexport function beforeWeb3(validateId = '') {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(SYNC_WEB3_DATA + validateId, true)(dispatch)\n\t\tawait getRelayerConfig()(dispatch, getState)\n\t\tawait updateAccountIdentityData()(dispatch, getState)\n\t\t// NOTE: the stats are updated on 60 seconds and there is no need to update them\n\t\t// as it took too long time\n\t\t// await updateAccountStats()(dispatch, getState)\n\n\t\tawait new Promise(resolve => setTimeout(resolve, 300))\n\t\tawait updateSpinner(SYNC_WEB3_DATA + validateId, false)(dispatch)\n\t}\n}\n","import * as types from 'constants/actionTypes'\nimport { getQuickWallet } from 'services/adex-relayer/actions'\nimport { updateSpinner, addToast, handleAfterValidation } from 'actions'\nimport {\n\tgetOwnerIdentities,\n\tregAccount,\n\tgetIdentityData,\n} from 'services/adex-relayer/actions'\nimport { createSession } from './accountActions'\nimport { getIdentityDeployData } from 'services/smart-contracts/actions/identity'\nimport {\n\taddDataToWallet,\n\tgetWalletHash,\n\tgetLocalWallet,\n\tmigrateLegacyWallet,\n\twalletInfo,\n\tcreateLocalWallet,\n\tgenerateSalt,\n} from 'services/wallet/wallet'\nimport { saveToLocalStorage } from 'helpers/localStorageHelpers'\nimport {\n\tselectLoginSelectedIdentity,\n\tselectIdentity,\n\tselectAuthType,\n\tt,\n} from 'selectors'\nimport { AUTH_TYPES } from 'constants/misc'\nimport {\n\tvalidate,\n\tvalidateEmail,\n\tvalidateEmailCheck,\n\tvalidatePassword,\n\tvalidatePasswordCheck,\n\tvalidateTOS,\n\tvalidateWallet,\n\tvalidateIdentityContractOwner,\n\tvalidateAccessWarning,\n\tvalidateKnowFrom,\n\tvalidateMoreInfo,\n} from './validationActions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tGETTING_OWNER_IDENTITIES,\n\tUPLOADING_ACCOUNT_DATA,\n\tCHECKING_METAMASK_AUTH,\n\tAUTH_WAITING_TREZOR_ACTION,\n\tAUTH_WAITING_ADDRESS_DATA,\n} from 'constants/spinners'\nimport { getEthers } from 'services/smart-contracts/ethers'\nimport { getSigner } from 'services/smart-contracts/actions/ethers'\nimport { getAddressBalances } from 'services/smart-contracts/actions/stats'\n\n// MEMORY STORAGE\nexport function updateIdentity(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetIdentity() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\t}\n}\n\nexport function initIdentity({ email, authType }) {\n\treturn function(dispatch) {\n\t\tdispatch({\n\t\t\ttype: types.RESET_IDENTITY,\n\t\t})\n\n\t\tdispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'email',\n\t\t\tvalue: email,\n\t\t})\n\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_IDENTITY,\n\t\t\tprop: 'authType',\n\t\t\tvalue: authType,\n\t\t})\n\t}\n}\n\n// MEMORY STORAGE\nexport function updateWallet(prop, value) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WALLET,\n\t\t\tprop: prop,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetWallet() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WALLET,\n\t\t})\n\t}\n}\n\nexport function onUploadLocalWallet(event) {\n\treturn async function(dispatch) {\n\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\tconst file = event.target.files[0]\n\t\tconst reader = new FileReader()\n\n\t\treader.onload = ev => {\n\t\t\ttry {\n\t\t\t\tconst obj = JSON.parse(ev.target.result)\n\t\t\t\tif (\n\t\t\t\t\t!obj ||\n\t\t\t\t\t!obj.key ||\n\t\t\t\t\t!obj.wallet ||\n\t\t\t\t\t!obj.wallet.data ||\n\t\t\t\t\t!obj.wallet.identity ||\n\t\t\t\t\t!obj.wallet.privileges\n\t\t\t\t) {\n\t\t\t\t\tthrow new Error(t('INVALID_JSON_DATA'))\n\t\t\t\t} else {\n\t\t\t\t\tsaveToLocalStorage(obj.wallet, obj.key)\n\t\t\t\t\tupdateIdentity('uploadedLocalWallet', obj.key)(dispatch)\n\t\t\t\t\taddToast({\n\t\t\t\t\t\ttype: 'accept',\n\t\t\t\t\t\tlabel: t('SUCCESS_UPLOADING_ACCOUNT_DATA'),\n\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t})(dispatch)\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error uploading account json data: ', err)\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\t\targs: [err.message],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 5000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, true)(dispatch)\n\t\t}\n\n\t\tconst onError = err => {\n\t\t\tconsole.error('Error uploading account data.', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPLOADING_ACCOUNT_DATA', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 5000,\n\t\t\t})(dispatch)\n\t\t\tupdateSpinner(UPLOADING_ACCOUNT_DATA, false)(dispatch)\n\t\t}\n\n\t\treader.onerror = err => {\n\t\t\treader.abort()\n\t\t\tonError(err)\n\t\t}\n\n\t\treader.onabort = ev => {\n\t\t\tonError(t('ABORTING_DATA_UPLOAD'))\n\t\t}\n\n\t\treader.readAsText(file)\n\t}\n}\n\nexport function updateOwnerIdentities({ owner }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, true)(dispatch)\n\t\ttry {\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\n\t\t\tconst identityData = await getOwnerIdentities({ owner })\n\t\t\tconst loginSelectedIdentity = selectLoginSelectedIdentity(getState())\n\t\t\tconst data = Object.entries(identityData)\n\t\t\t\t.filter(\n\t\t\t\t\tx =>\n\t\t\t\t\t\t!!x &&\n\t\t\t\t\t\t!!x[0] &&\n\t\t\t\t\t\t(!!loginSelectedIdentity\n\t\t\t\t\t\t\t? x[0].toLowerCase() === loginSelectedIdentity.toLowerCase()\n\t\t\t\t\t\t\t: true)\n\t\t\t\t)\n\t\t\t\t.map(async ([identityAddr, privLevel]) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst ens = await provider.lookupAddress(identityAddr)\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tidentity: identityAddr,\n\t\t\t\t\t\t\tprivLevel,\n\t\t\t\t\t\t\tens,\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch {\n\t\t\t\t\t\treturn null\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\tconst ownerIdentities = (await Promise.all(data)).filter(x => !!x)\n\n\t\t\tupdateIdentity('ownerIdentities', ownerIdentities)(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_OWNER_IDENTITIES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_OWNER_IDENTITIES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(GETTING_OWNER_IDENTITIES, false)(dispatch)\n\t}\n}\n\nexport function login() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst {\n\t\t\t\twallet,\n\t\t\t\temail,\n\t\t\t\tknowFrom,\n\t\t\t\tmoreInfo,\n\t\t\t\tidentityData,\n\t\t\t\tidentityTxData,\n\t\t\t\tdeleteLegacyKey,\n\t\t\t\tregisterAccount,\n\t\t\t} = selectIdentity(getState())\n\n\t\t\tif (registerAccount) {\n\t\t\t\tawait regAccount({\n\t\t\t\t\towner: wallet.address,\n\t\t\t\t\temail: email.toLowerCase(),\n\t\t\t\t\tknowFrom,\n\t\t\t\t\tmoreInfo,\n\t\t\t\t\t...identityTxData,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst relayerData =\n\t\t\t\t(await getIdentityData({\n\t\t\t\t\tidentityAddr: identityData.address,\n\t\t\t\t})) || {}\n\t\t\tconst identity = {\n\t\t\t\t...identityData,\n\t\t\t\taddress: relayerData.deployData._id,\n\t\t\t\tcurrentPrivileges: relayerData.currentPrivileges,\n\t\t\t\tisLimitedVolume: relayerData.isLimitedVolume,\n\t\t\t\trelayerData,\n\t\t\t}\n\t\t\tif (identity.currentPrivileges[wallet.address] > 0) {\n\t\t\t\tawait createSession({\n\t\t\t\t\tidentity,\n\t\t\t\t\twallet,\n\t\t\t\t\temail,\n\t\t\t\t\tdeleteLegacyKey,\n\t\t\t\t})(dispatch, getState)\n\t\t\t} else {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ACCOUNT_NONE_PRIVILEGES'),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_LOGIN', { args: [getErrorMsg(err)] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateQuickLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { password, email, authType } = identity\n\n\t\tlet wallet = {}\n\t\tlet error = 'INVALID_EMAIL_OR_PASSWORD'\n\t\tlet actualAuthType = authType\n\n\t\ttry {\n\t\t\tif (email && password) {\n\t\t\t\tlet walletData = await getLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t})\n\n\t\t\t\tif (!walletData) {\n\t\t\t\t\tconst salt = generateSalt(email)\n\t\t\t\t\tconst hash = await getWalletHash({ salt, password })\n\t\t\t\t\tconst { encryptedWallet } =\n\t\t\t\t\t\t(await getQuickWallet({\n\t\t\t\t\t\t\thash,\n\t\t\t\t\t\t})) || {}\n\n\t\t\t\t\tconst backupWallet = encryptedWallet || {}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tbackupWallet.wallet &&\n\t\t\t\t\t\tbackupWallet.key &&\n\t\t\t\t\t\tbackupWallet.wallet.data &&\n\t\t\t\t\t\tbackupWallet.wallet.identity &&\n\t\t\t\t\t\tbackupWallet.wallet.privileges\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst info = walletInfo(backupWallet.key, 'backup', null)\n\t\t\t\t\t\tactualAuthType = info.authType\n\t\t\t\t\t\tsaveToLocalStorage(backupWallet.wallet, backupWallet.key)\n\n\t\t\t\t\t\twalletData = await getLocalWallet({\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t\tpassword,\n\t\t\t\t\t\t\tauthType: actualAuthType,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!!walletData && walletData.data && walletData.data.address) {\n\t\t\t\t\twallet = { ...walletData.data }\n\t\t\t\t\twallet.email = email\n\t\t\t\t\twallet.password = password\n\t\t\t\t\twallet.authType = actualAuthType || AUTH_TYPES.GRANT.name\n\t\t\t\t\twallet.identity = {\n\t\t\t\t\t\taddress: walletData.identity,\n\t\t\t\t\t\tprivileges: walletData.privileges || walletData.identityPrivileges,\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!authType) {\n\t\t\t\t\t\tawait migrateLegacyWallet({ email, password })\n\t\t\t\t\t\tupdateIdentity('deleteLegacyKey', true)(dispatch)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', walletData ? walletData.identity : null)(\n\t\t\t\t\tdispatch\n\t\t\t\t)\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', wallet.address)(dispatch)\n\t\t\t\tupdateIdentity('identityData', wallet.identity)(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_QUICK_WALLET_LOGIN', err)\n\t\t\terror = err\n\t\t}\n\n\t\tconst isValid = !!wallet.address\n\n\t\tvalidate(validateId, 'wallet', {\n\t\t\tisValid,\n\t\t\terr: { msg: 'ERR_QUICK_WALLET_LOGIN', args: [getErrorMsg(error)] },\n\t\t\tdirty: dirty,\n\t\t})(dispatch)\n\n\t\tif (isValid) {\n\t\t\tawait login()(dispatch, getState)\n\t\t}\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateStandardLogin({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst identity = selectIdentity(getState())\n\t\t\tconst { wallet, identityContractAddress } = identity\n\t\t\tconst { address } = wallet\n\n\t\t\tconst identityDataSplit = (identityContractAddress || '').split('-')\n\t\t\tconst identityData = {\n\t\t\t\taddress: identityDataSplit[0],\n\t\t\t\tprivileges: parseInt(identityDataSplit[1] || 0),\n\t\t\t}\n\n\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\tupdateIdentity('walletAddr', address)(dispatch)\n\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\tconst isValid = !!identityData.address\n\n\t\t\tvalidate(validateId, 'identityContractAddress', {\n\t\t\t\tisValid: isValid,\n\t\t\t\terr: { msg: 'ERR_EXTERNAL_WALLET_LOGIN' },\n\t\t\t\tdirty: dirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_STANDARD_LOGIN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_STANDARD_LOGIN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullDeploy({ validateId, dirty, skipSpinnerUpdate }) {\n\treturn async function(dispatch, getState) {\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, wallet } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && !!wallet && !!email\n\t\t\tif (!identityAddr && wallet && !!email) {\n\t\t\t\tconst walletAddr = wallet.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: txData.identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tupdateIdentity('identityAddr', txData.identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = txData.identityAddr && !!wallet && !!email\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_FULL_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_FULL_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\t!skipSpinnerUpdate && updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickDeploy({ validateId, dirty }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityAddr, email, password } = identity\n\t\ttry {\n\t\t\tlet isValid = !!identityAddr && email && password\n\n\t\t\tif (!identityAddr && email && password) {\n\t\t\t\tconst authType = AUTH_TYPES.QUICK.name\n\n\t\t\t\tconst walletData = await createLocalWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t})\n\n\t\t\t\twalletData.email = email\n\t\t\t\twalletData.password = password\n\n\t\t\t\tconst walletAddr = walletData.address\n\n\t\t\t\tconst txData = await getIdentityDeployData({ owner: walletAddr })\n\n\t\t\t\tconst identityAddr = txData.identityAddr\n\t\t\t\tconst identityData = {\n\t\t\t\t\taddress: identityAddr,\n\t\t\t\t\tprivileges: txData.privileges,\n\t\t\t\t}\n\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'identity',\n\t\t\t\t\tdataValue: identityAddr,\n\t\t\t\t})\n\t\t\t\tawait addDataToWallet({\n\t\t\t\t\temail,\n\t\t\t\t\tpassword,\n\t\t\t\t\tauthType,\n\t\t\t\t\tdataKey: 'privileges',\n\t\t\t\t\tdataValue: identityData.privileges,\n\t\t\t\t})\n\n\t\t\t\tupdateIdentity('identityAddr', identityAddr)(dispatch)\n\t\t\t\tupdateIdentity('identityTxData', txData)(dispatch)\n\t\t\t\tupdateIdentity('identityData', identityData)(dispatch)\n\n\t\t\t\tupdateIdentity('wallet', walletData)(dispatch)\n\t\t\t\tupdateIdentity('walletAddr', walletAddr)(dispatch)\n\t\t\t\tupdateIdentity('registerAccount', true)(dispatch)\n\n\t\t\t\tisValid = !!identityAddr\n\t\t\t}\n\n\t\t\tawait validate(validateId, 'identityAddr', {\n\t\t\t\tisValid,\n\t\t\t\terr: { msg: 'ERR_IDENTITY_NOT_GENERATED' },\n\t\t\t\tdirty,\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tawait login()(dispatch, getState)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_QUICK_DEPLOY', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_QUICK_DEPLOY', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateQuickInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\tpassword,\n\t\t\tpasswordCheck,\n\t\t\ttosCheck,\n\t\t\tknowFrom,\n\t\t\tmoreInfo,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidatePassword(validateId, password, dirty)(dispatch),\n\t\t\tvalidatePasswordCheck(validateId, passwordCheck, password, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t\tvalidateKnowFrom(validateId, knowFrom, dirty)(dispatch),\n\t\t\tvalidateMoreInfo(validateId, knowFrom, moreInfo, dirty)(dispatch),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateQuickDeploy({ validateId, dirty, skipSpinnerUpdate: true })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\t\t}\n\n\t\thandleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateFullInfo({ validateId, dirty, onValid, onInvalid }) {\n\treturn async function(dispatch, getState) {\n\t\tconst identity = selectIdentity(getState())\n\t\tconst {\n\t\t\twallet,\n\t\t\tidentityContractOwner,\n\t\t\temail,\n\t\t\temailCheck,\n\t\t\ttosCheck,\n\t\t\tknowFrom,\n\t\t\tmoreInfo,\n\t\t\taccessWarningCheck,\n\t\t} = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\t// validate wallet again in case of step skip\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\n\t\t\t// validate step fields\n\t\t\tvalidateEmail(validateId, email, dirty, true)(dispatch),\n\t\t\tvalidateEmailCheck(validateId, emailCheck, email, dirty)(dispatch),\n\t\t\tvalidateKnowFrom(validateId, knowFrom, dirty)(dispatch),\n\t\t\tvalidateMoreInfo(validateId, knowFrom, moreInfo, dirty)(dispatch),\n\t\t\tvalidateTOS(validateId, tosCheck, dirty)(dispatch),\n\t\t\tvalidateAccessWarning(validateId, accessWarningCheck, dirty)(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tupdateSpinner(validateId, true)(dispatch)\n\t\t\tawait validateFullDeploy({\n\t\t\t\tvalidateId,\n\t\t\t\tdirty,\n\t\t\t\tskipSpinnerUpdate: true,\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\t// handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateContractOwner({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(validateId, true)(dispatch)\n\n\t\tconst identity = selectIdentity(getState())\n\t\tconst { identityContractOwner, wallet } = identity\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateWallet(validateId, wallet, dirty)(dispatch),\n\t\t\tvalidateIdentityContractOwner(validateId, identityContractOwner, dirty)(\n\t\t\t\tdispatch\n\t\t\t),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tupdateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function updateIdentityWallet({\n\taddress,\n\tauthType,\n\thdWalletAddrPath,\n\thdWalletAddrIdx,\n\tpath,\n\tchainId,\n\tsignType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst wallet = {\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t\tpath,\n\t\t\tchainId,\n\t\t\tsignType,\n\t\t}\n\n\t\tupdateIdentity('identityContractOwner', wallet.address)(dispatch)\n\t\tupdateIdentity('wallet', wallet)(dispatch)\n\t}\n}\n\nexport function handleSignupLink(search) {\n\treturn function(dispatch) {\n\t\tconst searchParams = new URLSearchParams(search)\n\n\t\tconst email = searchParams.get('signup-email')\n\n\t\tif (email) {\n\t\t\tupdateIdentity('email', email)(dispatch)\n\t\t\tupdateIdentity('emailCheck', email)(dispatch)\n\t\t}\n\t}\n}\n\nexport function resolveEnsAddress({ address }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(`ens-${address}`, true)(dispatch)\n\n\t\ttry {\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\n\t\t\tconst name = await provider.lookupAddress(address)\n\t\t\treturn dispatch({\n\t\t\t\ttype: types.UPDATE_RESOLVE_ENS_ADDRESS,\n\t\t\t\titem: address,\n\t\t\t\tvalue: name,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_RESOLVING_ENS_ADDRESS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_RESOLVING_ENS_ADDRESS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(`ens-${address}`, false)(dispatch)\n\t}\n}\n\nexport function checkAuthMetamask() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(CHECKING_METAMASK_AUTH, true)(dispatch)\n\n\t\ttry {\n\t\t\tconst authType = AUTH_TYPES.METAMASK.name\n\t\t\tconst { provider } = await getEthers(authType)\n\t\t\tconst wallet = {\n\t\t\t\tauthType,\n\t\t\t}\n\n\t\t\tconst metamaskSigner = await getSigner({ wallet, provider })\n\t\t\tconst address = await metamaskSigner.getAddress()\n\t\t\tconst stats = await getAddressBalances({\n\t\t\t\taddress: { address },\n\t\t\t\tgetFullBalances: true,\n\t\t\t})\n\n\t\t\tupdateIdentity('stats', stats)(dispatch, getState)\n\n\t\t\tupdateIdentityWallet({\n\t\t\t\taddress,\n\t\t\t\tauthType,\n\t\t\t\tsignType: AUTH_TYPES.METAMASK.signType,\n\t\t\t})(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_AUTH_METAMASK', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_AUTH_METAMASK', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(CHECKING_METAMASK_AUTH, false)(dispatch)\n\t}\n}\n\nexport function connectTrezor() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(AUTH_WAITING_TREZOR_ACTION, true)(dispatch)\n\t\ttry {\n\t\t\tconst { provider } = await getEthers(AUTH_TYPES.TREZOR.name)\n\n\t\t\tconst wallet = {\n\t\t\t\tauthType: AUTH_TYPES.TREZOR.name,\n\t\t\t}\n\n\t\t\tconst trezorSigner = await getSigner({ provider, wallet })\n\n\t\t\tconst { payload, success } = await trezorSigner.getAddresses({\n\t\t\t\tfrom: 0,\n\t\t\t\tto: 19,\n\t\t\t})\n\n\t\t\tif (success && !payload.error) {\n\t\t\t\tupdateSpinner(AUTH_WAITING_ADDRESS_DATA, false)(dispatch)\n\n\t\t\t\tconst allAddressesData = payload.map(address =>\n\t\t\t\t\tgetAddressBalances({ address })\n\t\t\t\t)\n\n\t\t\t\tconst results = await Promise.all(allAddressesData)\n\n\t\t\t\tupdateIdentity('addresses', results)(dispatch, getState)\n\t\t\t\tupdateIdentity('hdWalletAddrPath', trezorSigner.path)(\n\t\t\t\t\tdispatch,\n\t\t\t\t\tgetState\n\t\t\t\t)\n\t\t\t} else throw new Error(payload.error || 'TREZOR_ERR')\n\n\t\t\tupdateSpinner('AUTH_WAITING_ADDRESS_DATA', false)(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_AUTH_TREZOR', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_AUTH_TREZOR', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(AUTH_WAITING_ADDRESS_DATA, false)(dispatch)\n\t\tupdateSpinner(AUTH_WAITING_TREZOR_ACTION, false)(dispatch)\n\t}\n}\n\nexport function selectWalletAddress({\n\taddrData,\n\thdWalletAddrIdx,\n\thdWalletAddrPath,\n\tsignType,\n\tauthType,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst { address, path } = addrData\n\n\t\tupdateIdentityWallet({\n\t\t\taddress,\n\t\t\tauthType,\n\t\t\tsignType,\n\t\t\tpath,\n\t\t\thdWalletAddrPath,\n\t\t\thdWalletAddrIdx,\n\t\t})(dispatch, getState)\n\t}\n}\n","import * as types from 'constants/actionTypes'\n\n// MEMORY STORAGE\nexport function updateNewBid({ bidId, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetNewBid({ bidId }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_BID,\n\t\t\tbidId: bidId,\n\t\t})\n\t}\n}\n\n// PERSIST STORAGE\n\nexport const updateBids = ({ advBids, pubBids, bidsById }) => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_ALL_BIDS,\n\t\t\tadvBids: advBids,\n\t\t\tpubBids: pubBids,\n\t\t\tbidsById: bidsById,\n\t\t})\n\t}\n}\nexport const resetAllBids = () => {\n\treturn dispatch => {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_BIDS,\n\t\t})\n\t}\n}\n","import { getEthers } from 'services/smart-contracts/ethers'\r\nimport { formatUnits } from 'ethers/utils'\r\nimport { AUTH_TYPES } from 'constants/misc'\r\n\r\nexport const getGasPrice = async (format = 'wei') => {\r\n\tconst { provider } = await getEthers(AUTH_TYPES.READONLY)\r\n\tconst gasPrice = await provider.getGasPrice()\r\n\treturn formatUnits(gasPrice.toNumber(), format)\r\n}\r\n","import * as types from 'constants/actionTypes'\nimport {\n\tupdateSpinner,\n\thandleAfterValidation,\n\tvalidateEthAddress,\n\tvalidatePrivilegesAddress,\n\tvalidatePrivLevel,\n\tvalidateWithdrawAmount,\n\taddToast,\n\tvalidateFees,\n\tvalidateENS,\n\tvalidateNumberString,\n\tbeforeWeb3,\n} from 'actions'\nimport {\n\tselectNewTransactionById,\n\tselectWalletAddress,\n\tselectAuthType,\n\tselectAccount,\n\tselectAccountStatsFormatted,\n\tselectAccountStatsRaw,\n\tselectMainToken,\n\tselectGasPriceCap,\n\tt,\n} from 'selectors'\nimport { getErrorMsg } from 'helpers/errors'\nimport { getGasPrice } from 'services/gas/actions'\nimport { formatUnits } from 'ethers/utils'\nimport {\n\twithdrawFromIdentity,\n\tsetIdentityPrivilege,\n\taddIdentityENS,\n\twithdrawOtherTokensFromIdentity,\n} from 'services/smart-contracts/actions/identity'\nimport Helper from 'helpers/miscHelpers'\nimport { SYNC_WEB3_DATA } from 'constants/spinners'\n\n// MEMORY STORAGE\nexport function updateNewTransaction({ tx, key, value }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t})\n\t}\n}\n\nexport function resetAllNewTransaction() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_ALL_NEW_TRANSACTIONS,\n\t\t})\n\t}\n}\n\nexport function resetNewTransaction({ tx }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_NEW_TRANSACTION,\n\t\t\ttx: tx,\n\t\t})\n\t}\n}\n\nexport function checkNetworkCongestion(showToast) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst gasPriceCap = selectGasPriceCap(state)\n\t\tconst gasPriceCapGwei = formatUnits(gasPriceCap, 'gwei')\n\t\tconst gasPrice = await getGasPrice('gwei')\n\t\tif (+gasPriceCapGwei < +gasPrice) {\n\t\t\tif (showToast) {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'warning',\n\t\t\t\t\tlabel: t('WARNING_NETWORK_CONGESTED'),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\n\t\t\treturn t('WARNING_NETWORK_CONGESTED')\n\t\t}\n\t}\n}\n\n// PERSIST STORAGE\nexport function addWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\tif (!tx || !tx.hash || !addr) return\n\n\t\treturn dispatch({\n\t\t\ttype: types.ADD_WEB3_TRANSACTION,\n\t\t\tvalue: tx,\n\t\t\ttx: tx.hash,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\n// TODO: make update multiple\nexport function updateWeb3Transaction({ tx, key, value, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.UPDATE_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\tkey: key,\n\t\t\tvalue: value,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function resetWeb3Transaction({ tx, addr }) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: types.RESET_WEB3_TRANSACTION,\n\t\t\ttx: tx,\n\t\t\taddr: addr,\n\t\t})\n\t}\n}\n\nexport function validatePrivilegesChange({\n\tstepsId,\n\tvalidateId,\n\ttxId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tif (!dirty) {\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\n\t\t}\n\t\tconst state = getState()\n\t\tconst { setAddr, warningAccepted, privLevel } = selectNewTransactionById(\n\t\t\tstate,\n\t\t\tstepsId\n\t\t)\n\t\tconst walletAddr = selectWalletAddress(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: setAddr,\n\t\t\t\tprop: 'setAddr',\n\t\t\t\tnonERC20: true,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t\tquickCheck: !dirty,\n\t\t\t})(dispatch),\n\t\t\tvalidatePrivLevel({\n\t\t\t\tvalidateId,\n\t\t\t\tprivLevel,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tconst validation = await validatePrivilegesAddress({\n\t\t\t\tvalidateId,\n\t\t\t\tsetAddr,\n\t\t\t\twalletAddr,\n\t\t\t\twarningAccepted,\n\t\t\t\tprivLevel,\n\t\t\t\tdirty,\n\t\t\t\tauthType,\n\t\t\t})(dispatch)\n\n\t\t\tisValid = validation.isValid\n\n\t\t\tawait updateNewTransaction({\n\t\t\t\ttx: stepsId,\n\t\t\t\tkey: 'warningMsg',\n\t\t\t\tvalue: validation.msg,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tif (isValid) {\n\t\t\tconst account = selectAccount(state)\n\t\t\tconst feesData = await setIdentityPrivilege({\n\t\t\t\tprivLevel,\n\t\t\t\tsetAddr,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tawait updateNewTransaction({\n\t\t\t\ttx: stepsId,\n\t\t\t\tkey: 'feesData',\n\t\t\t\tvalue: feesData,\n\t\t\t})(dispatch, getState)\n\n\t\t\tisValid = await validateFees({\n\t\t\t\tvalidateId,\n\t\t\t\tfeesAmountBN: feesData.totalBN,\n\t\t\t\tamountToSpendBN: '0',\n\t\t\t\tdirty,\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function updateIdentityPrivilege({ setAddr, privLevel }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await setIdentityPrivilege({\n\t\t\t\taccount,\n\t\t\t\tsetAddr,\n\t\t\t\tprivLevel,\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [result],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_IDENTITY_SET_ADDR_PRIV_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateIdentityWithdraw({\n\tstepsId,\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tif (!dirty) {\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\n\t\t}\n\t\tconst state = getState()\n\t\tconst account = selectAccount(state)\n\t\tconst { symbol, decimals } = selectMainToken(state)\n\t\tconst { amountToWithdraw, withdrawTo } = selectNewTransactionById(\n\t\t\tstate,\n\t\t\tstepsId\n\t\t)\n\t\tconst {\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenRaw,\n\t\t} = selectAccountStatsRaw(state)\n\t\tconst {\n\t\t\tavailableIdentityBalanceMainToken: availableIdentityBalanceMainTokenFormatted,\n\t\t} = selectAccountStatsFormatted(state)\n\n\t\t// const walletAddr = selectWalletAddress(state)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: withdrawTo,\n\t\t\t\tprop: 'withdrawTo',\n\t\t\t\tnonERC20: true,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t\tquickCheck: !dirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateWithdrawAmount({\n\t\t\t\tvalidateId,\n\t\t\t\tamountToWithdraw,\n\t\t\t\tavailableIdentityBalanceMainTokenRaw,\n\t\t\t\tavailableIdentityBalanceMainTokenFormatted,\n\t\t\t\tdecimals,\n\t\t\t\tsymbol,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tlet feesData = null\n\n\t\tif (isValid) {\n\t\t\ttry {\n\t\t\t\tfeesData = await withdrawFromIdentity({\n\t\t\t\t\taccount,\n\t\t\t\t\tamountToWithdraw,\n\t\t\t\t\twithdrawTo,\n\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t})\n\n\t\t\t\tawait updateNewTransaction({\n\t\t\t\t\ttx: stepsId,\n\t\t\t\t\tkey: 'feesData',\n\t\t\t\t\tvalue: feesData,\n\t\t\t\t})(dispatch, getState)\n\n\t\t\t\tisValid = await validateFees({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tfeesAmountBN: feesData.totalBN,\n\t\t\t\t\tamountToSpendBN: feesData.actualWithdrawAmount,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch, getState)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('validateIdentityWithdraw', err)\n\n\t\t\t\tisValid = false\n\t\t\t}\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateIdentityWithdrawAny({\n\tstepsId,\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tif (!dirty) {\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\n\t\t}\n\t\tconst state = getState()\n\t\tconst account = selectAccount(state)\n\t\tconst {\n\t\t\tamountToWithdraw,\n\t\t\twithdrawTo,\n\t\t\ttokenAddress,\n\t\t\ttokenDecimals,\n\t\t} = selectNewTransactionById(state, stepsId)\n\t\tconst authType = selectAuthType(state)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: withdrawTo,\n\t\t\t\tprop: 'withdrawTo',\n\t\t\t\tnonERC20: true,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t\tquickCheck: !dirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateEthAddress({\n\t\t\t\tvalidateId,\n\t\t\t\taddr: tokenAddress,\n\t\t\t\tprop: 'tokenAddress',\n\t\t\t\tnonERC20: false,\n\t\t\t\tnonZeroAddr: true,\n\t\t\t\tauthType,\n\t\t\t\tdirty,\n\t\t\t\tquickCheck: !dirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateNumberString({\n\t\t\t\tvalidateId,\n\t\t\t\tprop: 'amountToWithdraw',\n\t\t\t\tvalue: amountToWithdraw,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t\tvalidateNumberString({\n\t\t\t\tvalidateId,\n\t\t\t\tprop: 'tokenDecimals',\n\t\t\t\tvalue: tokenDecimals,\n\t\t\t\tintegerOnly: true,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tlet feesData = null\n\n\t\tif (isValid) {\n\t\t\ttry {\n\t\t\t\tfeesData = await withdrawOtherTokensFromIdentity({\n\t\t\t\t\taccount,\n\t\t\t\t\tamountToWithdraw,\n\t\t\t\t\twithdrawTo,\n\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t})\n\n\t\t\t\tawait updateNewTransaction({\n\t\t\t\t\ttx: stepsId,\n\t\t\t\t\tkey: 'feesData',\n\t\t\t\t\tvalue: feesData,\n\t\t\t\t})(dispatch, getState)\n\n\t\t\t\tisValid = await validateFees({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tfeesAmountBN: feesData.totalBN,\n\t\t\t\t\tamountToSpendBN: feesData.actualWithdrawAmount,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch, getState)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('validateIdentityWithdrawAny', err)\n\t\t\t\tisValid = false\n\t\t\t}\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function identityWithdrawAny({\n\tamountToWithdraw,\n\twithdrawTo,\n\ttokenAddress,\n\ttokenDecimals,\n}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await withdrawOtherTokensFromIdentity({\n\t\t\t\taccount,\n\t\t\t\tamountToWithdraw,\n\t\t\t\twithdrawTo,\n\t\t\t\ttokenAddress,\n\t\t\t\ttokenDecimals,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('IDENTITY_WITHDRAW_NOTIFICATION', { args: [result] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function identityWithdraw({ amountToWithdraw, withdrawTo }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tconst result = await withdrawFromIdentity({\n\t\t\t\taccount,\n\t\t\t\tamountToWithdraw,\n\t\t\t\twithdrawTo,\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [result],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_IDENTITY_WITHDRAW_NOTIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_IDENTITY_WITHDRAW_NOTIFICATION', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function validateENSChange({\n\tstepsId,\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tif (!dirty) {\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\n\t\t}\n\t\tconst state = getState()\n\t\tconst { username } = selectNewTransactionById(state, stepsId)\n\n\t\tconst inputValidations = await Promise.all([\n\t\t\tvalidateENS({\n\t\t\t\tvalidateId,\n\t\t\t\tusername,\n\t\t\t\tdirty,\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tlet isValid = inputValidations.every(v => v === true)\n\n\t\tif (isValid) {\n\t\t\tconst account = selectAccount(state)\n\t\t\tconst feesData = await addIdentityENS({\n\t\t\t\tgetFeesOnly: true,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tawait updateNewTransaction({\n\t\t\t\ttx: stepsId,\n\t\t\t\tkey: 'feesData',\n\t\t\t\tvalue: feesData,\n\t\t\t})(dispatch, getState)\n\n\t\t\tisValid = await validateFees({\n\t\t\t\tvalidateId,\n\t\t\t\tfeesAmountBN: feesData.totalBN,\n\t\t\t\tamountToSpendBN: '0',\n\t\t\t\tdirty,\n\t\t\t})(dispatch, getState)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function setIdentityENS({ username }) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst account = selectAccount(getState())\n\t\t\tawait addIdentityENS({\n\t\t\t\tusername,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('ENS_SETUP_NOTIFICATION', { args: [username] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_SETTING_ENS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_SETTING_ENS', {\n\t\t\t\t\targs: [err],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\nexport function completeTx({\n\tstepsId,\n\tcompeteAction,\n\tvalidateId,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tawait updateNewTransaction({\n\t\t\ttx: stepsId,\n\t\t\tkey: 'waitingForWalletAction',\n\t\t\tvalue: true,\n\t\t})(dispatch)\n\n\t\tlet isValid = false\n\n\t\ttry {\n\t\t\tconst state = getState()\n\n\t\t\tconst transaction = selectNewTransactionById(state, stepsId)\n\n\t\t\tawait competeAction({ ...transaction })(dispatch, getState)\n\t\t\tisValid = true\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_TRANSACTION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_TRANSACTION', { args: [Helper.getErrMsg(err)] }),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t\tawait updateNewTransaction({\n\t\t\ttx: stepsId,\n\t\t\tkey: 'waitingForWalletAction',\n\t\t\tvalue: false,\n\t\t})(dispatch)\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t// TODO: reset tx if OK\n\t}\n}\n","import {\n\tUPDATE_NEW_ITEM,\n\tRESET_NEW_ITEM,\n\tRESET_ALL_NEW_ITEMS,\n} from 'constants/actionTypes'\nimport { selectNewItemByTypeAndId } from 'selectors'\nimport { Base, Models } from 'adex-models'\nimport { updateSpinner, handleAfterValidation } from 'actions'\n\nexport function updateNewItem(item, newValues, itemType, objModel, itemId) {\n\titem = Base.updateObject({ item, newValues, objModel })\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: UPDATE_NEW_ITEM,\n\t\t\titem,\n\t\t\titemType,\n\t\t\titemId,\n\t\t})\n\t}\n}\n\nexport function resetNewItem(itemType, itemId) {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: RESET_NEW_ITEM,\n\t\t\titemType,\n\t\t\titemId,\n\t\t})\n\t}\n}\n\nexport function resetAllNewItems() {\n\treturn function(dispatch) {\n\t\treturn dispatch({\n\t\t\ttype: RESET_ALL_NEW_ITEMS,\n\t\t})\n\t}\n}\n\nexport function updateNewItemAction(type, prop, value, newValues, itemId) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst currentItem = selectNewItemByTypeAndId(state, type, itemId)\n\t\tawait updateNewItem(\n\t\t\tcurrentItem,\n\t\t\tnewValues || { [prop]: value },\n\t\t\ttype,\n\t\t\tModels.itemClassByName[type],\n\t\t\titemId\n\t\t)(dispatch)\n\t}\n}\n\nexport function updateNewSlot(prop, value, newValues, itemId) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateNewItemAction('AdSlot', prop, value, newValues, itemId)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateNewUnit(prop, value, newValues) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateNewItemAction('AdUnit', prop, value, newValues)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateNewCampaign(prop, value, newValues) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateNewItemAction('Campaign', prop, value, newValues)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateNewAudience(prop, value, newValues, itemId) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateNewItemAction('Audience', prop, value, newValues, itemId)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateNewItemTarget({\n\tcollection,\n\titemType,\n\titemId,\n\ttarget = {},\n\tindex,\n\tremove,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst { temp } = selectNewItemByTypeAndId(state, itemType, itemId)\n\t\t// We are keeping the state in temp because it dirty with extra data\n\t\tconst targets = [...(temp.targets || [])]\n\t\tconst hasIndex = Number.isInteger(index)\n\n\t\tif (hasIndex && !remove) {\n\t\t\t// NOTE: when updated with index target has only { target: { tag, score }}\n\t\t\ttargets[index] = { ...(targets[index] || {}), ...target }\n\t\t} else if (hasIndex && remove) {\n\t\t\ttargets.splice(index, 1)\n\t\t} else {\n\t\t\t// NOTE: when updated w/o index target has no key\n\t\t\ttargets.push({ ...target, key: targets.length })\n\t\t}\n\n\t\t// The actual targets added to the spec\n\t\tconst filtered = targets.filter(x => x.target.tag).map(x => x.target)\n\n\t\tconst newValues = {\n\t\t\t[collection]: filtered,\n\t\t\ttemp: { ...temp, targets },\n\t\t}\n\n\t\tawait updateNewItemAction(itemType, null, null, newValues, itemId)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateTargetRuleInput({\n\tparameter,\n\titemType,\n\titemId,\n\ttarget = {},\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst item = selectNewItemByTypeAndId(state, itemType, itemId)\n\t\tconst isAudience = itemType === 'Audience'\n\n\t\tconst newValues = { ...item }\n\n\t\tconst newInputs = {\n\t\t\t...(isAudience ? newValues.inputs : newValues.audienceInput.inputs),\n\t\t}\n\n\t\tnewInputs[parameter] = { ...target }\n\n\t\tif (isAudience) {\n\t\t\tnewValues.inputs = newInputs\n\t\t} else {\n\t\t\tnewValues.audienceInput = {\n\t\t\t\tversion: newValues.audienceInput.version || '1',\n\t\t\t\t...newValues.audienceInput,\n\t\t\t\tinputs: newInputs,\n\t\t\t}\n\t\t}\n\n\t\tawait updateNewItemAction(itemType, null, null, newValues, itemId)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function completeItem({\n\titemType,\n\tcompeteAction,\n\tvalidateId,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tlet isValid = false\n\t\ttry {\n\t\t\tawait competeAction()(dispatch, getState)\n\t\t\tisValid = true\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_ITEM', err)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tif (isValid) {\n\t\t\tresetNewItem(itemType)(dispatch)\n\t\t}\n\t}\n}\n","import { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\nimport { addToast, updateSpinner } from 'actions'\nimport { postAudience, putAudience } from 'services/adex-market/actions'\n\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tt,\n\tselectNewAudience,\n\tselectNewItemByTypeAndId,\n\tselectAudienceById,\n} from 'selectors'\nimport {\n\tvalidateSchemaProp,\n\thandleAfterValidation,\n\tvalidateAudience,\n\tupdateNewItem,\n} from 'actions'\nimport { Audience, schemas } from 'adex-models'\n\nconst { audiencePost, audiencePut } = schemas\n\nexport function updateAudienceInput({\n\tupdateField,\n\titemId,\n\tonValid,\n\tvalidateId,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst { inputs } = selectNewItemByTypeAndId(state, 'Audience', itemId)\n\n\t\tconst isValid = await validateAudience({\n\t\t\tvalidateId,\n\t\t\tinputs,\n\t\t\tdirty: true,\n\t\t\tpropName: 'inputs',\n\t\t})(dispatch)\n\n\t\tif (isValid) {\n\t\t\tawait updateField('inputs', inputs)\n\t\t\tonValid()\n\t\t}\n\t}\n}\n\nexport function validateAndUpdateAudience({ validateId, dirty, item, update }) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst { id, title, version, inputs } = item\n\n\t\t\tconst audience = new Audience(item).marketUpdate\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: audiencePut.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: version,\n\t\t\t\t\tprop: 'version',\n\t\t\t\t\tschema: audiencePut.version,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateAudience({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tinputs,\n\t\t\t\t\tdirty,\n\t\t\t\t\tpropName: 'inputs',\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: audience,\n\t\t\t\t\tprop: 'audience',\n\t\t\t\t\tschema: audiencePut,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (isValid && update) {\n\t\t\t\tconst updatedAudience = (await putAudience({\n\t\t\t\t\taudience,\n\t\t\t\t\tid,\n\t\t\t\t})).audience\n\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\t\titem: new Audience(updatedAudience).plainObj(),\n\t\t\t\t\titemType: 'Audience',\n\t\t\t\t})\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['AUDIENCE', updatedAudience.title],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t} else if (!isValid && update) {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['AUDIENCE', getErrorMsg('INVALID_DATA')],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'error',\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\targs: ['AUDIENCE', getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function mapCurrentToNewAudience({ itemId, dirtyProps }) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst item = selectAudienceById(state, itemId)\n\t\tconst audience = selectNewItemByTypeAndId(state, 'Audience', itemId)\n\n\t\tconst inputs = dirtyProps.includes('inputs') ? audience.inputs : item.inputs\n\n\t\tupdateNewItem(\n\t\t\titem,\n\t\t\t{ inputs: { ...inputs } },\n\t\t\t'Audience',\n\t\t\tAudience,\n\t\t\titem.id\n\t\t)(dispatch, getState)\n\t}\n}\n\nexport function saveAudience({ audienceInput, campaignId } = {}) {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst newAudience = { ...(audienceInput || selectNewAudience(state)) }\n\t\t\tnewAudience.campaignId = campaignId || null\n\t\t\tif (campaignId) {\n\t\t\t\tnewAudience.title = null\n\t\t\t}\n\n\t\t\tconst audience = new Audience({\n\t\t\t\t...newAudience,\n\t\t\t}).marketAdd\n\n\t\t\tconst resItem = await postAudience({\n\t\t\t\taudience,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: ADD_ITEM,\n\t\t\t\titem: resItem,\n\t\t\t\titemType: 'Audience',\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'success',\n\t\t\t\tlabel: t('AUDIENCE_SAVED', {\n\t\t\t\t\targs: [newAudience.title || campaignId],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_AUDIENCE', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'error',\n\t\t\t\tlabel: t('ERR_CREATING_AUDIENCE', {\n\t\t\t\t\targs: ['AUDIENCE', getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\n\t\t}\n\t}\n}\n\nexport function validateAudienceBasics({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tlet isValid = false\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst audience = selectNewAudience(state)\n\t\t\tconst { title, inputs, version } = audience\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: audiencePost.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: version,\n\t\t\t\t\tprop: 'version',\n\t\t\t\t\tschema: audiencePost.version,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tisValid = validations.every(v => v === true)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_SLOT_BASIC', err)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateAudienceInput({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst { inputs = {} } = selectNewAudience(state)\n\n\t\t\tconst isValid = await validateAudience({\n\t\t\t\tvalidateId,\n\t\t\t\tinputs,\n\t\t\t\tdirty,\n\t\t\t\tpropName: 'inputs',\n\t\t\t})(dispatch)\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {\n\t\t\tconsole.log('err', err)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import url from 'url'\nimport { UTM_PARAMS } from 'constants/misc'\n\nexport const addUrlUtmTracking = ({ targetUrl, campaign, content, src }) => {\n\tif (!!targetUrl) {\n\t\tconst URL = url.parse(targetUrl, true)\n\t\tURL.search = null\n\n\t\tif (URL.protocol && URL.host) {\n\t\t\tconst query = { ...UTM_PARAMS, ...URL.query }\n\t\t\tif (campaign) {\n\t\t\t\tquery['utm_campaign'] = campaign\n\t\t\t}\n\t\t\tif (content) {\n\t\t\t\tquery['utm_content'] = content\n\t\t\t}\n\t\t\tif (src) {\n\t\t\t\tquery['utm_source'] = src\n\t\t\t}\n\t\t\tURL.query = query\n\n\t\t\treturn url.format(URL)\n\t\t}\n\t}\n\n\treturn targetUrl\n}\n","import { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\nimport {\n\texecute,\n\taddToast,\n\tupdateSpinner,\n\tupdateItems,\n\tupdateValidatorAuthTokens,\n\tupdateNewCampaign,\n\thandleAfterValidation,\n\tvalidateCampaignValidators,\n\tvalidateCampaignAmount,\n\tvalidateCampaignTitle,\n\tvalidateCampaignDates,\n\tvalidateCampaignUnits,\n\tvalidateSchemaProp,\n\tvalidateAudience,\n\tconfirmAction,\n\tupdateSelectedItems,\n\tsaveAudience,\n\tupdateNewItem,\n\tbeforeWeb3,\n} from 'actions'\nimport { push } from 'connected-react-router'\nimport { schemas, Campaign, helpers } from 'adex-models'\nimport { parseUnits } from 'ethers/utils'\nimport { getAllValidatorsAuthForIdentity } from 'services/smart-contracts/actions/stats'\nimport {\n\topenChannel,\n\tcloseChannel,\n} from 'services/smart-contracts/actions/core'\nimport {\n\tlastApprovedState,\n\tupdateTargeting,\n} from 'services/adex-validator/actions'\nimport {\n\tcloseCampaignMarket,\n\tupdateCampaign,\n\tgetCampaigns,\n} from 'services/adex-market/actions'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tt,\n\tselectAccount,\n\tselectNewCampaign,\n\tselectCampaignById,\n\tselectAuthSig,\n\tselectAuth,\n\tselectMainToken,\n\tselectNewItemByTypeAndId,\n\tselectAudienceByCampaignId,\n\tselectTargetingAnalytics,\n\tselectTargetingAnalyticsMinByCategories,\n\tselectTargetingAnalyticsCountryTiersCoefficients,\n} from 'selectors'\nimport { formatTokenAmount } from 'helpers/formatters'\nimport {\n\tOPENING_CAMPAIGN,\n\tGETTING_CAMPAIGNS_FEES,\n\tPRINTING_CAMPAIGNS_RECEIPTS,\n} from 'constants/spinners'\nimport Helper from 'helpers/miscHelpers'\nimport { addUrlUtmTracking } from 'helpers/utmHelpers'\n\nconst { audienceInputToTargetingRules, getSuggestedPricingBounds } = helpers\n\nconst { campaignPut } = schemas\n\nconst VALIDATOR_LEADER_URL = process.env.VALIDATOR_LEADER_URL\nconst VALIDATOR_LEADER_ID = process.env.VALIDATOR_LEADER_ID\nconst VALIDATOR_LEADER_FEE_NUM = process.env.VALIDATOR_LEADER_FEE_NUM\nconst VALIDATOR_LEADER_FEE_DEN = process.env.VALIDATOR_LEADER_FEE_DEN\nconst VALIDATOR_LEADER_FEE_ADDR = process.env.VALIDATOR_LEADER_FEE_ADDR\n\nconst VALIDATOR_FOLLOWER_URL = process.env.VALIDATOR_FOLLOWER_URL\nconst VALIDATOR_FOLLOWER_ID = process.env.VALIDATOR_FOLLOWER_ID\nconst VALIDATOR_FOLLOWER_FEE_NUM = process.env.VALIDATOR_FOLLOWER_FEE_NUM\nconst VALIDATOR_FOLLOWER_FEE_DEN = process.env.VALIDATOR_FOLLOWER_FEE_DEN\nconst VALIDATOR_FOLLOWER_FEE_ADDR = process.env.VALIDATOR_FOLLOWER_FEE_ADDR\n\n// updatedCampaign updated campaign class instance\nfunction updateCampaignOnMarket({ updated, toastLabel, toastArgs, toastType }) {\n\treturn async function(dispatch, getState) {\n\t\tconst updatedCampaign = (await updateCampaign({\n\t\t\tcampaign: updated.marketUpdate,\n\t\t\tid: updated.id,\n\t\t})).campaign\n\n\t\tdispatch({\n\t\t\ttype: UPDATE_ITEM,\n\t\t\titem: new Campaign({\n\t\t\t\t...updatedCampaign.spec,\n\t\t\t\t...updatedCampaign,\n\t\t\t}).plainObj(),\n\t\t\titemType: 'Campaign',\n\t\t})\n\t\taddToast({\n\t\t\ttype: toastType || 'success',\n\t\t\tlabel: t(toastLabel, {\n\t\t\t\targs: toastArgs || ['CAMPAIGN', updatedCampaign.title],\n\t\t\t}),\n\t\t\ttimeout: 50000,\n\t\t})(dispatch)\n\n\t\t// Make sure to update tables\n\t\tawait updateUserCampaigns()(dispatch, getState)\n\t}\n}\n\nexport function openCampaign() {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(OPENING_CAMPAIGN, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst selectedCampaign = selectNewCampaign(state)\n\t\t\tconst account = selectAccount(state)\n\t\t\tconst campaign = { ...selectedCampaign }\n\n\t\t\tif (campaign.temp.useUtmTags) {\n\t\t\t\tcampaign.adUnits = [...campaign.adUnits].map((unit, index) => ({\n\t\t\t\t\t...unit,\n\t\t\t\t\ttargetUrl: addUrlUtmTracking({\n\t\t\t\t\t\ttargetUrl: unit.targetUrl,\n\t\t\t\t\t\tcampaign: campaign.title,\n\t\t\t\t\t\tcontent: `${index + 1}_${unit.type}`,\n\t\t\t\t\t\t...(campaign.temp.useUtmSrcWithPub\n\t\t\t\t\t\t\t? { src: 'adex_PUBHOSTNAME' }\n\t\t\t\t\t\t\t: {}),\n\t\t\t\t\t}),\n\t\t\t\t}))\n\t\t\t}\n\n\t\t\tawait getAllValidatorsAuthForIdentity({\n\t\t\t\twithBalance: [{ channel: campaign }],\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tconst { storeCampaign } = await openChannel({\n\t\t\t\tcampaign,\n\t\t\t\taccount,\n\t\t\t})\n\n\t\t\tawait saveAudience({\n\t\t\t\tcampaignId: storeCampaign.id,\n\t\t\t\taudienceInput: campaign.audienceInput,\n\t\t\t})(dispatch, getState)\n\n\t\t\tdispatch({\n\t\t\t\ttype: ADD_ITEM,\n\t\t\t\titem: new Campaign({\n\t\t\t\t\t...storeCampaign.spec,\n\t\t\t\t\t...storeCampaign,\n\t\t\t\t}).plainObj(),\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('OPENING_CAMPAIGN_SENT_TO_RELAYER', {\n\t\t\t\t\targs: [storeCampaign.id],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_OPENING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_OPENING_CAMPAIGN', {\n\t\t\t\t\targs: [Helper.getErrMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t\tthrow new Error('ERR_OPENING_CAMPAIGN', err)\n\t\t}\n\t\tupdateSpinner(OPENING_CAMPAIGN, false)(dispatch)\n\t\treturn true\n\t}\n}\n\nexport const updateCampaignState = ({ campaign }) => {\n\treturn async dispatch => {\n\t\ttry {\n\t\t\tconst state = await lastApprovedState({ campaign })\n\t\t\tconst newCampaign = { ...campaign }\n\t\t\tnewCampaign.state = state\n\n\t\t\treturn dispatch({\n\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\titem: newCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_LAST_STATUS', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_LAST_STATUS', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t}\n}\n\n// TEMP for testing in production until 4.1 is deployed\nfunction getHumanFriendlyName(campaign) {\n\tif (campaign.status && campaign.status.humanFriendlyName === 'Closed')\n\t\treturn 'Closed'\n\tswitch ((campaign.status || {}).name) {\n\t\tcase 'Pending':\n\t\t\treturn 'Pending'\n\t\tcase 'Active':\n\t\tcase 'Ready':\n\t\tcase 'Initializing':\n\t\tcase 'Waiting':\n\t\tcase 'Offline':\n\t\tcase 'Disconnected':\n\t\tcase 'Unhealthy':\n\t\tcase 'Invalid':\n\t\t\treturn 'Active'\n\t\tcase 'Expired':\n\t\tcase 'Exhausted':\n\t\tcase 'Withdraw':\n\t\t\treturn 'Completed'\n\t\tdefault:\n\t\t\treturn 'N/A'\n\t}\n}\n\nexport function updateCampaignAudienceInput({\n\tupdateField,\n\tfieldName,\n\titemId,\n\tvalidateId,\n\tonValid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst { audienceInput } = selectNewItemByTypeAndId(\n\t\t\tstate,\n\t\t\t'Campaign',\n\t\t\titemId\n\t\t)\n\n\t\tconst isValid = await validateAudience({\n\t\t\tvalidateId,\n\t\t\tinputs: audienceInput.inputs,\n\t\t\tdirty: true,\n\t\t\tpropName: 'audienceInput',\n\t\t})(dispatch)\n\n\t\tif (isValid) {\n\t\t\tawait updateField(\n\t\t\t\t'audienceInput',\n\t\t\t\taudienceInput,\n\t\t\t\tfieldName\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tname: fieldName,\n\t\t\t\t\t  }\n\t\t\t\t\t: null\n\t\t\t)\n\t\t\tonValid()\n\t\t}\n\t}\n}\n\nexport function mapCurrentToNewCampaignAudienceInput({ itemId, dirtyProps }) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst item = selectCampaignById(state, itemId)\n\t\tconst campaign = selectNewItemByTypeAndId(state, 'Campaign', itemId)\n\t\tconst initialAudienceInput = selectAudienceByCampaignId(state, itemId)\n\t\tconst itemAudienceInput =\n\t\t\titem.audienceInput && Object.keys(item.audienceInput.inputs).length\n\t\t\t\t? item.audienceInput\n\t\t\t\t: initialAudienceInput\n\n\t\tconst audienceInput = dirtyProps.some(p =>\n\t\t\t['audienceInput', 'campaignAdvanced'].includes(p.name || p)\n\t\t)\n\t\t\t? campaign.audienceInput\n\t\t\t: item.audienceInput || itemAudienceInput\n\n\t\tupdateNewItem(\n\t\t\titem,\n\t\t\t{ audienceInput: { ...audienceInput } },\n\t\t\t'Campaign',\n\t\t\tCampaign,\n\t\t\titem.id\n\t\t)(dispatch, getState)\n\t}\n}\n\nexport function updateUserCampaigns() {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst hasAuth = selectAuth(state)\n\t\tconst { identity } = selectAccount(state)\n\t\tconst { address } = identity\n\n\t\tif (hasAuth && address) {\n\t\t\ttry {\n\t\t\t\tconst campaigns = await getCampaigns({\n\t\t\t\t\tall: true,\n\t\t\t\t\tbyCreator: address,\n\t\t\t\t\tcacheBrake: true,\n\t\t\t\t})\n\t\t\t\tlet campaignsMapped = campaigns\n\t\t\t\t\t.filter(\n\t\t\t\t\t\tc =>\n\t\t\t\t\t\t\tc.id &&\n\t\t\t\t\t\t\tc.creator &&\n\t\t\t\t\t\t\tc.creator.toLowerCase() === address.toLowerCase()\n\t\t\t\t\t)\n\t\t\t\t\t.map(c => {\n\t\t\t\t\t\tconst campaign = {\n\t\t\t\t\t\t\t...c.spec,\n\t\t\t\t\t\t\t...c,\n\t\t\t\t\t\t\ttargetingRules: c.targetingRules || c.spec.targetingRules,\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!campaign.humanFriendlyName) {\n\t\t\t\t\t\t\tcampaign.status.humanFriendlyName = getHumanFriendlyName(campaign)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn campaign\n\t\t\t\t\t})\n\n\t\t\t\tupdateItems({\n\t\t\t\t\titems: campaignsMapped,\n\t\t\t\t\titemType: 'Campaign',\n\t\t\t\t})(dispatch)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('ERR_GETTING_CAMPAIGNS', err)\n\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGNS', {\n\t\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function closeCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(`closing-campaign-${campaign.id}`, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst { account } = state.persist\n\t\t\tconst { authTokens } = await closeChannel({ account, campaign })\n\t\t\tawait closeCampaignMarket({ campaign, authSig })\n\t\t\tconst newCampaign = { ...campaign }\n\t\t\tnewCampaign.status = {\n\t\t\t\t...newCampaign.status,\n\t\t\t\thumanFriendlyName: 'Closed',\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\titem: newCampaign,\n\t\t\t\titemType: 'Campaign',\n\t\t\t})\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\t\t\tawait updateUserCampaigns()(dispatch, getState)\n\t\t\texecute(push('/dashboard/advertiser/campaigns'))\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('SUCCESS_CLOSING_CAMPAIGN'),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CLOSING_CAMPAIGN', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_CLOSING_CAMPAIGN', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(`closing-campaign-${campaign.id}`, false)(dispatch)\n\t}\n}\n\nexport function pauseOrResumeCampaign({ campaign }) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(`pausing-campaign-${campaign.id}`, true)(dispatch)\n\t\tlet action = 'PAUSING'\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst { account } = state.persist\n\t\t\tconst updated = new Campaign(campaign)\n\n\t\t\tconst currentTargetingRules = updated.targetingRules || []\n\t\t\tconst newRules = [...currentTargetingRules]\n\n\t\t\tconst isPaused = (currentTargetingRules[0] || {}).onlyShowIf === false\n\t\t\tif (isPaused) {\n\t\t\t\taction = 'RESUMING'\n\t\t\t\tnewRules.shift()\n\t\t\t} else {\n\t\t\t\tnewRules.unshift({ onlyShowIf: false })\n\t\t\t}\n\n\t\t\tupdated.targetingRules = newRules\n\n\t\t\tconst { authTokens } = await updateTargeting({\n\t\t\t\taccount,\n\t\t\t\tcampaign: updated,\n\t\t\t\ttargetingRules: newRules,\n\t\t\t})\n\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\n\t\t\tawait updateCampaignOnMarket({\n\t\t\t\tupdated,\n\t\t\t\ttoastLabel: `SUCCESS_${action}_CAMPAIGN`,\n\t\t\t})(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_${action}_CAMPAIGN`, err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t(`ERR_${action}_CAMPAIGN`, {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(`pausing-campaign-${campaign.id}`, false)(dispatch)\n\t}\n}\n\nexport function excludeOrIncludeWebsites({\n\tcampaignId,\n\thostnames,\n\texclude,\n\taction,\n\tonSuccess,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tupdateSpinner(`${action}-campaign-website${campaignId}`, true)(dispatch)\n\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst campaign = selectCampaignById(state, campaignId)\n\t\t\tconst targetingData = selectTargetingAnalytics(state)\n\t\t\tconst { account } = state.persist\n\t\t\tconst updated = new Campaign(campaign)\n\n\t\t\tconst campaignAudienceInput = selectAudienceByCampaignId(\n\t\t\t\tstate,\n\t\t\t\tcampaignId\n\t\t\t)\n\n\t\t\t// Add default value for legacy campaigns\n\t\t\tconst newAudienceInput = {\n\t\t\t\tversion: '1',\n\t\t\t\tinputs: { publishers: {} },\n\t\t\t\t...campaignAudienceInput,\n\t\t\t}\n\t\t\tnewAudienceInput.inputs = { ...newAudienceInput.inputs }\n\t\t\tnewAudienceInput.inputs.publishers = {\n\t\t\t\t...newAudienceInput.inputs.publishers,\n\t\t\t}\n\n\t\t\tconst { inputs = {} } = newAudienceInput\n\t\t\tconst { publishers = {} } = inputs\n\n\t\t\t// exclude\n\t\t\tif (exclude && publishers.apply && publishers.apply === 'in') {\n\t\t\t\tconst newIn = [...(publishers.in || [])].filter(value => {\n\t\t\t\t\tconst { hostname } = JSON.parse(value)\n\t\t\t\t\treturn !hostnames.includes(hostname)\n\t\t\t\t})\n\t\t\t\tnewAudienceInput.inputs.publishers.in = newIn\n\t\t\t}\n\t\t\t// include\n\t\t\telse if (!exclude && publishers.apply && publishers.apply === 'in') {\n\t\t\t\tconst newIn = [...hostnames]\n\t\t\t\t\t// Filter already included\n\t\t\t\t\t.filter(h => [...(publishers.in || [])].some(x => x.includes(h)))\n\t\t\t\t\t.map(hostname =>\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\thostname,\n\t\t\t\t\t\t\tpublisher: (\n\t\t\t\t\t\t\t\ttargetingData.find(x => x.hostname === hostname) || {}\n\t\t\t\t\t\t\t).owner,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\n\t\t\t\tnewAudienceInput.inputs.publishers.in = (publishers.in || []).concat(\n\t\t\t\t\tnewIn\n\t\t\t\t)\n\t\t\t}\n\t\t\t// exclude\n\t\t\telse if (exclude && publishers.apply && publishers.apply === 'nin') {\n\t\t\t\tconst newNin = hostnames\n\t\t\t\t\t// Filter already excluded\n\t\t\t\t\t.filter(h => ![...(publishers.nin || [])].some(x => x.includes(h)))\n\t\t\t\t\t.map(hostname =>\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\thostname,\n\t\t\t\t\t\t\tpublisher: (\n\t\t\t\t\t\t\t\ttargetingData.find(x => x.hostname === hostname) || {}\n\t\t\t\t\t\t\t).owner,\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = (publishers.nin || []).concat(\n\t\t\t\t\tnewNin\n\t\t\t\t)\n\t\t\t}\n\t\t\t// include\n\t\t\telse if (!exclude && publishers.apply && publishers.apply === 'nin') {\n\t\t\t\tconst newNin = [...(publishers.nin || [])]\n\t\t\t\t\t// Filter selected\n\t\t\t\t\t.filter(value => {\n\t\t\t\t\t\tconst { hostname } = JSON.parse(value)\n\t\t\t\t\t\treturn !hostnames.includes(hostname)\n\t\t\t\t\t})\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = newNin\n\t\t\t}\n\t\t\t// exclude\n\t\t\telse if (\n\t\t\t\texclude &&\n\t\t\t\t(!publishers.apply ||\n\t\t\t\t\t(publishers.apply && publishers.apply === 'allin'))\n\t\t\t) {\n\t\t\t\tconst newNin = [...hostnames].map(hostname =>\n\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\thostname,\n\t\t\t\t\t\tpublisher: (targetingData.find(x => x.hostname === hostname) || {})\n\t\t\t\t\t\t\t.owner,\n\t\t\t\t\t})\n\t\t\t\t)\n\n\t\t\t\tnewAudienceInput.inputs.publishers.apply = 'nin'\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = newNin\n\t\t\t}\n\t\t\t// include\n\t\t\telse if (\n\t\t\t\t!exclude &&\n\t\t\t\t(!publishers.apply ||\n\t\t\t\t\t(publishers.apply && publishers.apply === 'allin'))\n\t\t\t) {\n\t\t\t\t// There is nothing to do\n\t\t\t\treturn addToast({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tlabel: t(`SUCCESS_${action}_WEBSITE`, {\n\t\t\t\t\t\targs: [hostnames.length, updated.title],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tnewAudienceInput.inputs.publishers.apply === 'nin' &&\n\t\t\t\t!newAudienceInput.inputs.publishers.nin.length\n\t\t\t) {\n\t\t\t\tnewAudienceInput.inputs.publishers.apply = 'allin'\n\t\t\t\tnewAudienceInput.inputs.publishers.nin = null\n\t\t\t}\n\n\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\n\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\n\t\t\t\tstate\n\t\t\t)\n\n\t\t\tconst { decimals } = selectMainToken(state)\n\t\t\tconst { pricingBounds, minPerImpression, maxPerImpression } = campaign\n\n\t\t\t// Legacy campaigns shim\n\t\t\tconst campaignPricingBounds = pricingBounds || {\n\t\t\t\tIMPRESSION: {\n\t\t\t\t\tmin: minPerImpression,\n\t\t\t\t\tmax: maxPerImpression,\n\t\t\t\t},\n\t\t\t}\n\n\t\t\tconst newRules = audienceInputToTargetingRules({\n\t\t\t\taudienceInput: newAudienceInput,\n\t\t\t\tminByCategory,\n\t\t\t\tcountryTiersCoefficients,\n\t\t\t\tpricingBounds: campaignPricingBounds,\n\t\t\t\tdecimals,\n\t\t\t})\n\n\t\t\tupdated.targetingRules = newRules\n\t\t\tupdated.audienceInput = newAudienceInput\n\n\t\t\tconst { authTokens } = await updateTargeting({\n\t\t\t\taccount,\n\t\t\t\tcampaign: updated,\n\t\t\t\ttargetingRules: newRules,\n\t\t\t})\n\n\t\t\tconst updatedCampaign = (await updateCampaign({\n\t\t\t\tcampaign: updated.marketUpdate,\n\t\t\t\tid: updated.id,\n\t\t\t})).campaign\n\n\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\n\t\t\t\tdispatch,\n\t\t\t\tgetState\n\t\t\t)\n\n\t\t\tlet toastType = 'success'\n\t\t\tlet toastLabel = `SUCCESS_${action}_WEBSITE`\n\n\t\t\tif (\n\t\t\t\tnewAudienceInput.inputs.publishers.apply === 'in' &&\n\t\t\t\t!newAudienceInput.inputs.publishers.in.length\n\t\t\t) {\n\t\t\t\ttoastType = 'warning'\n\t\t\t\ttoastLabel = `WARNING_NO_PUBLISHERS_${action}_WEBSITE`\n\t\t\t}\n\n\t\t\tawait updateCampaignOnMarket({\n\t\t\t\tupdated,\n\t\t\t\ttoastType,\n\t\t\t\ttoastLabel,\n\t\t\t\troastArgs: [hostnames.length, updatedCampaign.title],\n\t\t\t})(dispatch, getState)\n\n\t\t\tif (typeof onSuccess === 'function') {\n\t\t\t\tonSuccess()\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(`ERR_${action}_WEBSITE`, err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t(`ERR_${action}_WEBSITE`, {\n\t\t\t\t\targs: [hostnames.length, getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner(`${action}-campaign-website${campaignId}`, true)(dispatch)\n\t}\n}\n\nconst tempValidators = [\n\t{\n\t\tid: VALIDATOR_LEADER_ID,\n\t\turl: VALIDATOR_LEADER_URL,\n\t\tfeeNum: VALIDATOR_LEADER_FEE_NUM,\n\t\tfeeDen: VALIDATOR_LEADER_FEE_DEN,\n\t\tfeeAddr: VALIDATOR_LEADER_FEE_ADDR,\n\t},\n\t{\n\t\tid: VALIDATOR_FOLLOWER_ID,\n\t\turl: VALIDATOR_FOLLOWER_URL,\n\t\tfeeNum: VALIDATOR_FOLLOWER_FEE_NUM,\n\t\tfeeDen: VALIDATOR_FOLLOWER_FEE_DEN,\n\t\tfeeAddr: VALIDATOR_FOLLOWER_FEE_ADDR,\n\t},\n]\n\nexport function validateNewCampaignAdUnits({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tif (!dirty) {\n\t\t\tawait beforeWeb3(validateId)(dispatch, getState)\n\t\t}\n\n\t\tconst state = getState()\n\t\tconst campaign = selectNewCampaign(state)\n\t\tconst { adUnits } = campaign\n\n\t\tconst isValid = await validateCampaignUnits({ validateId, adUnits, dirty })(\n\t\t\tdispatch\n\t\t)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateCampaignAudienceInput({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst { audienceInput = {}, pricingBounds, temp } = selectNewCampaign(\n\t\t\t\tstate\n\t\t\t)\n\t\t\tconst { inputs } = audienceInput\n\n\t\t\tconst isValid = await validateAudience({\n\t\t\t\tvalidateId,\n\t\t\t\tinputs,\n\t\t\t\tdirty,\n\t\t\t\tpropName: 'audienceInput',\n\t\t\t})(dispatch)\n\n\t\t\tif (isValid) {\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\n\t\t\t\t\tstate\n\t\t\t\t)\n\t\t\t\tconst suggestedPricingBounds = getSuggestedPricingBounds({\n\t\t\t\t\tminByCategory,\n\t\t\t\t\tcountryTiersCoefficients,\n\t\t\t\t\taudienceInput,\n\t\t\t\t})\n\n\t\t\t\tawait updateNewCampaign('temp', {\n\t\t\t\t\t...temp,\n\t\t\t\t\tsuggestedPricingBounds,\n\t\t\t\t})(dispatch, getState)\n\n\t\t\t\t// Update pricingBounds here in order to avoid value check at next steps\n\t\t\t\t// Only if the bounds are not updated (step back or soft closed modal)\n\t\t\t\tif (\n\t\t\t\t\t!pricingBounds ||\n\t\t\t\t\t!(pricingBounds['IMPRESSION'] || pricingBounds['CLICK'])\n\t\t\t\t)\n\t\t\t\t\tawait updateNewCampaign('pricingBounds', suggestedPricingBounds)(\n\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\tgetState\n\t\t\t\t\t)\n\t\t\t}\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {\n\t\t\tconsole.log('err', err)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateNewCampaignFinance({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst { decimals } = selectMainToken(state)\n\t\t\tconst campaign = selectNewCampaign(state)\n\t\t\tconst {\n\t\t\t\tvalidators,\n\t\t\t\tdepositAmount,\n\t\t\t\ttitle,\n\t\t\t\tactiveFrom,\n\t\t\t\twithdrawPeriodStart,\n\t\t\t\tcreated,\n\t\t\t\tpricingBounds,\n\t\t\t\taudienceInput,\n\t\t\t\t// minTargetingScore,\n\t\t\t\t// adUnits,\n\t\t\t\ttemp = {},\n\t\t\t} = campaign\n\n\t\t\tconst { maxChannelFees, maxDeposit } = temp\n\n\t\t\tconst newCampaign = { ...campaign }\n\n\t\t\tif (!validators || !validators.length) {\n\t\t\t\t// TODO: temp - will need dropdown selector for the follower validator\n\t\t\t\tnewCampaign.validators = tempValidators\n\t\t\t\tawait updateNewCampaign('validators', newCampaign.validators)(\n\t\t\t\t\tdispatch,\n\t\t\t\t\tgetState\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateCampaignValidators({ validateId, validators, dirty })(dispatch),\n\t\t\t\tvalidateCampaignAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'depositAmount',\n\t\t\t\t\tvalue: depositAmount,\n\t\t\t\t\tdirty,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\tpricingBounds,\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t\tdecimals,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignAmount({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'pricingBounds_min',\n\t\t\t\t\tvalue: pricingBounds.IMPRESSION ? pricingBounds.IMPRESSION.min : null,\n\t\t\t\t\tdirty,\n\t\t\t\t\tpricingBounds,\n\t\t\t\t\tdepositAmount,\n\t\t\t\t\terrMsg: !dirty && 'REQUIRED_FIELD',\n\t\t\t\t\tmaxDeposit,\n\t\t\t\t\tdecimals,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignTitle({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\ttitle,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignDates({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'activeFrom',\n\t\t\t\t\tvalue: activeFrom,\n\t\t\t\t\tdirty,\n\t\t\t\t\tactiveFrom,\n\t\t\t\t\twithdrawPeriodStart,\n\t\t\t\t\tcreated,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateCampaignDates({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tprop: 'withdrawPeriodStart',\n\t\t\t\t\tvalue: withdrawPeriodStart,\n\t\t\t\t\tdirty,\n\t\t\t\t\tactiveFrom,\n\t\t\t\t\twithdrawPeriodStart,\n\t\t\t\t\tcreated,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (typeof maxChannelFees !== 'string') {\n\t\t\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\n\n\t\t\t\tconst account = selectAccount(state)\n\n\t\t\t\tconst {\n\t\t\t\t\tfeesFormatted,\n\t\t\t\t\tmaxAvailable,\n\t\t\t\t\tmaxAvailableFormatted,\n\t\t\t\t} = await openChannel({\n\t\t\t\t\tcampaign: { ...newCampaign },\n\t\t\t\t\taccount,\n\t\t\t\t\tgetFeesOnly: true,\n\t\t\t\t\tgetMaxFees: true,\n\t\t\t\t})\n\n\t\t\t\tconst newTemp = { ...temp }\n\t\t\t\tnewTemp.maxChannelFees = feesFormatted\n\t\t\t\tnewTemp.maxDeposit = maxAvailable\n\t\t\t\tnewTemp.maxDepositFormatted = maxAvailableFormatted\n\n\t\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\n\t\t\t}\n\n\t\t\tif (isValid) {\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\n\t\t\t\t\tstate\n\t\t\t\t)\n\n\t\t\t\t// TODO: make function in models\n\t\t\t\tconst pricingBoundsInTokenValue = { ...pricingBounds }\n\t\t\t\tconst impression = { ...pricingBoundsInTokenValue.IMPRESSION }\n\t\t\t\timpression.min = parseUnits(impression.min, decimals)\n\t\t\t\timpression.max = parseUnits(impression.max, decimals)\n\t\t\t\tpricingBoundsInTokenValue.IMPRESSION = impression\n\n\t\t\t\tconst targetingRules = audienceInputToTargetingRules({\n\t\t\t\t\taudienceInput,\n\t\t\t\t\tminByCategory,\n\t\t\t\t\tcountryTiersCoefficients,\n\t\t\t\t\tpricingBounds: pricingBoundsInTokenValue,\n\t\t\t\t\tdecimals,\n\t\t\t\t})\n\t\t\t\tawait updateNewCampaign('targetingRules', targetingRules)(\n\t\t\t\t\tdispatch,\n\t\t\t\t\tgetState\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_VALIDATING_CAMPAIGN_FINANCE', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_VALIDATING_CAMPAIGN_FINANCE', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function getCampaignActualFees() {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst campaign = selectNewCampaign(state)\n\t\t\tconst mainToken = selectMainToken(state)\n\t\t\tconst { temp = {}, depositAmount } = campaign\n\n\t\t\tconst account = selectAccount(state)\n\n\t\t\tconst { feesFormatted, fees, breakdownFormatted } = await openChannel({\n\t\t\t\tcampaign: { ...campaign },\n\t\t\t\taccount,\n\t\t\t\tgetFeesOnly: true,\n\t\t\t})\n\n\t\t\tconst totalSpend = parseUnits(depositAmount, mainToken.decimals).add(fees)\n\n\t\t\tconst totalSpendFormatted = formatTokenAmount(\n\t\t\t\ttotalSpend.toString(),\n\t\t\t\tmainToken.decimals || 18,\n\t\t\t\tfalse,\n\t\t\t\ttrue\n\t\t\t)\n\n\t\t\tconst newTemp = { ...temp }\n\t\t\tnewTemp.feesFormatted = feesFormatted\n\t\t\tnewTemp.totalSpendFormatted = totalSpendFormatted\n\t\t\tnewTemp.breakdownFormatted = breakdownFormatted\n\n\t\t\tawait updateNewCampaign('temp', newTemp)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_GETTING_CAMPAIGN_FEES', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_GETTING_CAMPAIGN_FEES', {\n\t\t\t\t\targs: [getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(GETTING_CAMPAIGNS_FEES, false)(dispatch)\n\t}\n}\n\nexport function handlePrintSelectedReceiptsAdvertiser(selected) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, true)(dispatch)\n\t\tconfirmAction(\n\t\t\tasync () => {\n\t\t\t\tawait updateSelectedItems('campaigns', selected)(dispatch)\n\t\t\t\tawait dispatch(push('/dashboard/advertiser/receipts'))\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\n\t\t\t},\n\t\t\tasync () => {\n\t\t\t\tawait updateSpinner(PRINTING_CAMPAIGNS_RECEIPTS, false)(dispatch)\n\t\t\t},\n\t\t\t{\n\t\t\t\tcancelLabel: t('CANCEL'),\n\t\t\t\tconfirmLabel: t('OK'),\n\t\t\t\ttitle: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TITLE'),\n\t\t\t\ttext: t('CONFIRM_DIALOG_PRINT_ALL_RECEIPTS_TEXT'),\n\t\t\t}\n\t\t)(dispatch, getState)\n\t}\n}\n\nexport function validateAndUpdateCampaign({\n\tvalidateId,\n\tdirty,\n\titem,\n\tupdate,\n\tdirtyProps,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst {\n\t\t\t\ttitle,\n\t\t\t\taudienceInput,\n\t\t\t\tpricingBounds,\n\t\t\t\tminPerImpression,\n\t\t\t\tmaxPerImpression,\n\t\t\t} = item\n\n\t\t\tconst updated = new Campaign(item)\n\t\t\tconst isAudienceUpdated = dirtyProps.includes('audienceInput')\n\n\t\t\tif (isAudienceUpdated) {\n\t\t\t\tconst state = getState()\n\t\t\t\tconst { decimals } = selectMainToken(state)\n\t\t\t\tconst minByCategory = selectTargetingAnalyticsMinByCategories(state)\n\t\t\t\tconst countryTiersCoefficients = selectTargetingAnalyticsCountryTiersCoefficients(\n\t\t\t\t\tstate\n\t\t\t\t)\n\n\t\t\t\t// TODO: fix it when it is possible to edit pricing bounds\n\t\t\t\t// Legacy campaigns shim\n\t\t\t\tconst campaignPricingBounds =\n\t\t\t\t\tpricingBounds && pricingBounds.IMPRESSION\n\t\t\t\t\t\t? pricingBounds\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\tIMPRESSION: {\n\t\t\t\t\t\t\t\t\tmin: pricingBounds.min || minPerImpression,\n\t\t\t\t\t\t\t\t\tmax: pricingBounds.min || maxPerImpression,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  }\n\n\t\t\t\tupdated.targetingRules = audienceInputToTargetingRules({\n\t\t\t\t\taudienceInput,\n\t\t\t\t\tminByCategory,\n\t\t\t\t\tcountryTiersCoefficients,\n\t\t\t\t\tpricingBounds: campaignPricingBounds,\n\t\t\t\t\tdecimals,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateCampaignTitle({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\ttitle,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: updated.marketUpdate,\n\t\t\t\t\tprop: 'campaign',\n\t\t\t\t\tschema: campaignPut,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (isValid && update) {\n\t\t\t\tif (isAudienceUpdated) {\n\t\t\t\t\tconst state = getState()\n\t\t\t\t\tconst account = selectAccount(state)\n\t\t\t\t\tconst { authTokens } = await updateTargeting({\n\t\t\t\t\t\taccount,\n\t\t\t\t\t\tcampaign: updated,\n\t\t\t\t\t\ttargetingRules: updated.targetingRules,\n\t\t\t\t\t})\n\t\t\t\t\tawait updateValidatorAuthTokens({ newAuth: authTokens })(\n\t\t\t\t\t\tdispatch,\n\t\t\t\t\t\tgetState\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\tawait updateCampaignOnMarket({\n\t\t\t\t\tupdated,\n\t\t\t\t\ttoastLabel: 'SUCCESS_UPDATING_ITEM',\n\t\t\t\t})(dispatch, getState)\n\t\t\t} else if (!isValid && update) {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'cancel',\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['CAMPAIGN', getErrorMsg('INVALID_DATA')],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\targs: ['CAMPAIGN', Helper.getErrMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import { parseUnits, bigNumberify } from 'ethers/utils'\n\nexport const numStringCPMtoImpression = ({ numStr, decimals }) => {\n\tif (numStr === null || numStr === undefined) {\n\t\treturn numStr\n\t}\n\n\treturn parseUnits(numStr, decimals)\n\t\t.div(bigNumberify(1000))\n\t\t.toString()\n}\n","export const getImgObjectUrlFromExternalUrl = async imgUrl => {\n\tconst res = await fetch(imgUrl)\n\tconst blob = await res.blob()\n\tconst objectUrl = URL.createObjectURL(blob)\n\n\treturn objectUrl\n}\n","import {\n\tupdateSpinner,\n\thandleAfterValidation,\n\tvalidateSchemaProp,\n\tvalidateNumberString,\n\tvalidateMediaSize,\n\tupdateNewSlot,\n\taddToast,\n\tvalidate,\n\tgetImgsIpfsFromBlob,\n\tupdateNewItem,\n} from 'actions'\nimport { numStringCPMtoImpression } from 'helpers/numbers'\nimport { getErrorMsg } from 'helpers/errors'\nimport {\n\tselectMainToken,\n\tselectNewAdSlot,\n\tselectAuthSig,\n\tt,\n\tselectNewItemByTypeAndId,\n\tselectAdSlotById,\n} from 'selectors'\nimport { schemas, AdSlot, AdUnit, helpers } from 'adex-models'\nimport {\n\tverifyWebsite,\n\tpostAdUnit,\n\tpostAdSlot,\n\tupdateAdSlot,\n} from 'services/adex-market/actions'\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\n\nimport { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\nimport { ipfsSrc } from 'helpers/ipfsHelpers'\nimport { getImgObjectUrlFromExternalUrl } from 'services/images/blob'\nimport { bigNumberify, formatUnits } from 'ethers/utils'\n\nconst { adSlotPost, adUnitPost, adSlotPut } = schemas\nconst { slotRulesInputToTargetingRules } = helpers\n\nasync function getFallbackUnit({\n\tmediaMime,\n\ttempUrl,\n\ttargetUrl,\n\ttype,\n\tauthSig,\n\ttitle,\n\tdescription,\n}) {\n\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\ttempUrl,\n\t\tauthSig,\n\t})).ipfs\n\n\tconst unit = new AdUnit({\n\t\ttype,\n\t\tmediaUrl: `ipfs://${imageIpfs}`,\n\t\ttargetUrl,\n\t\tmediaMime,\n\t\tcreated: Date.now(),\n\t\ttitle,\n\t\tdescription,\n\t\ttargeting: [],\n\t\ttags: [],\n\t\tpassback: true,\n\t})\n\n\tconst resUnit = await postAdUnit({\n\t\tunit: unit.marketAdd,\n\t\tauthSig,\n\t})\n\n\treturn resUnit\n}\n\nexport function validateNewSlotBasics({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\tlet isValid = false\n\t\ttry {\n\t\t\tconst mainToken = selectMainToken()\n\t\t\tconst state = getState()\n\t\t\tconst slot = selectNewAdSlot(state)\n\t\t\tconst {\n\t\t\t\ttitle,\n\t\t\t\tdescription,\n\t\t\t\ttype,\n\t\t\t\twebsite,\n\t\t\t\tminPerImpression = null,\n\t\t\t\trulesInput,\n\t\t\t\ttemp,\n\t\t\t} = slot\n\n\t\t\tconst { inputs = {} } = rulesInput || {}\n\t\t\tconst { autoSetMinCPM } = inputs\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: adSlotPost.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: description,\n\t\t\t\t\tprop: 'description',\n\t\t\t\t\tschema: adSlotPost.description,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: type,\n\t\t\t\t\tprop: 'type',\n\t\t\t\t\tschema: adSlotPost.type,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: website,\n\t\t\t\t\tprop: 'website',\n\t\t\t\t\tschema: adSlotPost.website,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tisValid = validations.every(v => v === true)\n\n\t\t\tif (isValid && !autoSetMinCPM && minPerImpression !== null) {\n\t\t\t\tisValid = await validateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\t\tnumStr: minPerImpression || null,\n\t\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t\t}),\n\t\t\t\t\t},\n\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\tschema: adSlotPost.minPerImpression,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\n\t\t\tconst { hostname, issues, categories, suggestedMinCPM } = isValid\n\t\t\t\t? await verifyWebsite({ websiteUrl: website })\n\t\t\t\t: {}\n\t\t\tconst newTemp = { ...temp, hostname, issues, categories, suggestedMinCPM }\n\n\t\t\tconst ruleCPM = !!autoSetMinCPM ? suggestedMinCPM : minPerImpression\n\n\t\t\tconst rules = slotRulesInputToTargetingRules({\n\t\t\t\trulesInput,\n\t\t\t\tsuggestedMinCPM: ruleCPM,\n\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t})\n\n\t\t\tupdateNewSlot('temp', newTemp)(dispatch, getState)\n\t\t\tupdateNewSlot('rules', rules)(dispatch, getState)\n\t\t} catch (err) {\n\t\t\t// NOTE: Just log - most probably the error can be from verifyWebsite\n\t\t\t// bet this doesn't matter at that point\n\t\t\tconsole.error('ERR_VALIDATING_SLOT_BASIC', err)\n\t\t}\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateNewSlotPassback({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n\titemId,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst state = getState()\n\t\tconst {\n\t\t\ttype,\n\t\t\ttargetUrl,\n\t\t\ttemp: { useFallback, tempUrl, mime },\n\t\t} = selectNewItemByTypeAndId(state, 'AdSlot', itemId)\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tconst validations = await Promise.all([\n\t\t\t...(useFallback\n\t\t\t\t? [\n\t\t\t\t\t\tvalidateMediaSize({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t\tpropName: 'temp',\n\t\t\t\t\t\t\twidthTarget: width,\n\t\t\t\t\t\t\theightTarget: height,\n\t\t\t\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\t\t\t\texact: true,\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmedia: {\n\t\t\t\t\t\t\t\ttempUrl,\n\t\t\t\t\t\t\t\tmime,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})(dispatch),\n\t\t\t\t  ]\n\t\t\t\t: [\n\t\t\t\t\t\tvalidate(validateId, 'temp', {\n\t\t\t\t\t\t\tisValid: true,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t})(dispatch),\n\t\t\t\t  ]),\n\t\t\t...(useFallback\n\t\t\t\t? [\n\t\t\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tvalue: targetUrl,\n\t\t\t\t\t\t\tprop: 'targetUrl',\n\t\t\t\t\t\t\tschema: adUnitPost.targetUrl,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t})(dispatch),\n\t\t\t\t  ]\n\t\t\t\t: [\n\t\t\t\t\t\tvalidate(validateId, 'targetUrl', {\n\t\t\t\t\t\t\tisValid: true,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t\t})(dispatch),\n\t\t\t\t  ]),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function saveSlot() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst item = selectNewAdSlot(state)\n\t\t\tconst newItem = { ...item }\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst mainToken = selectMainToken()\n\t\t\tlet fallbackUnit = null\n\t\t\tif (newItem.temp.useFallback) {\n\t\t\t\tfallbackUnit = (await getFallbackUnit({\n\t\t\t\t\tmediaMime: newItem.temp.mime,\n\t\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\t\ttargetUrl: newItem.targetUrl,\n\t\t\t\t\ttype: newItem.type,\n\t\t\t\t\tauthSig,\n\t\t\t\t\ttitle: newItem.title,\n\t\t\t\t\tdescription: newItem.description,\n\t\t\t\t})).ipfs\n\t\t\t}\n\n\t\t\tnewItem.fallbackUnit = fallbackUnit\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tconst minPerImpression = newItem.rulesInput.inputs.autoSetMinCPM\n\t\t\t\t? newItem.temp.suggestedMinCPM\n\t\t\t\t: newItem.minPerImpression\n\n\t\t\tif (minPerImpression) {\n\t\t\t\tnewItem.minPerImpression = {\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\tnumStr: minPerImpression,\n\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst resItem = await postAdSlot({\n\t\t\t\tslot: new AdSlot(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: ADD_ITEM,\n\t\t\t\titem: new AdSlot(resItem).plainObj(),\n\t\t\t\titemType: 'AdSlot',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\ttype: 'accept',\n\t\t\t\tlabel: t('SUCCESS_CREATING_ITEM', { args: ['ADSLOT', newItem.title] }),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_CREATING_ITEM', {\n\t\t\t\t\targs: ['ADSLOT', getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\n\t\t}\n\t}\n}\n\nexport function updateWebsiteVerification({ id, website }) {\n\treturn async function(dispatch, getState) {\n\t\tconst websiteUrl = website || 'https://' + id\n\t\tupdateSpinner('vilifying' + websiteUrl, true)(dispatch)\n\t\ttry {\n\t\t\tconst { issues, updated, hostname } = await verifyWebsite({\n\t\t\t\twebsiteUrl,\n\t\t\t})\n\t\t\tconst item = { id: hostname, issues, updated }\n\n\t\t\tdispatch({\n\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\titem,\n\t\t\t\titemType: 'Website',\n\t\t\t})\n\n\t\t\tif (issues && issues.length) {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'warning',\n\t\t\t\t\tlabel: t('UPDATING_WS_VERIFICATION_WITH_ISSUES', {\n\t\t\t\t\t\targs: [websiteUrl],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t} else {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_WS_VERIFICATION', {\n\t\t\t\t\t\targs: [websiteUrl],\n\t\t\t\t\t}),\n\t\t\t\t\targs: [websiteUrl],\n\t\t\t\t\ttimeout: 20000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_WS_VERIFICATION', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'error',\n\n\t\t\t\tlabel: t('ERR_UPDATING_WS_VERIFICATION', {\n\t\t\t\t\targs: [id, err],\n\t\t\t\t}),\n\t\t\t\targs: [id, err],\n\t\t\t\ttimeout: 20000,\n\t\t\t})(dispatch)\n\t\t}\n\t\tupdateSpinner('vilifying' + websiteUrl, false)(dispatch)\n\t}\n}\n\nexport function mapCurrentToNewPassback({ itemId, dirtyProps }) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst item = selectAdSlotById(state, itemId)\n\t\tconst newItem = selectNewItemByTypeAndId(state, 'AdSlot', itemId)\n\n\t\tconst isDirty = ['mediaUrl', 'mediaMime', 'targetUrl'].some(prop =>\n\t\t\tdirtyProps.includes(prop)\n\t\t)\n\n\t\tconst { mediaUrl, mediaMime, targetUrl } = item\n\t\tconst newValues = {}\n\t\tif (isDirty) {\n\t\t\tnewValues.temp = {\n\t\t\t\t...newItem.temp,\n\t\t\t}\n\t\t\tnewValues.targetUrl = newItem.targetUrl\n\t\t} else {\n\t\t\tconst tempUrl = mediaUrl\n\t\t\t\t? await getImgObjectUrlFromExternalUrl(ipfsSrc(mediaUrl))\n\t\t\t\t: mediaUrl\n\n\t\t\tnewValues.temp = {\n\t\t\t\t...item.temp,\n\t\t\t\ttempUrl,\n\t\t\t\tmime: mediaMime,\n\t\t\t\tuseFallback: !!(mediaUrl || mediaMime || targetUrl),\n\t\t\t}\n\t\t\tnewValues.targetUrl = targetUrl\n\t\t}\n\n\t\tupdateNewItem(item, newValues, 'AdSlot', AdSlot, item.id)(\n\t\t\tdispatch,\n\t\t\tgetState\n\t\t)\n\t}\n}\n\nexport function updateSlotPasback({\n\tupdateMultipleFields,\n\titemId,\n\tonValid: onValidProp,\n\tvalidateId,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tconst state = getState()\n\t\tconst { temp, targetUrl } = selectNewItemByTypeAndId(\n\t\t\tstate,\n\t\t\t'AdSlot',\n\t\t\titemId\n\t\t)\n\t\tconst { tempUrl, mime, useFallback } = temp\n\n\t\tconst newValues = {\n\t\t\ttargetUrl: useFallback ? targetUrl : '',\n\t\t\tmediaUrl: useFallback ? tempUrl : '',\n\t\t\tmediaMime: useFallback ? mime : '',\n\t\t}\n\n\t\tconst onValid = () => {\n\t\t\tupdateMultipleFields(newValues, [\n\t\t\t\t{\n\t\t\t\t\tname: 'passbackData',\n\t\t\t\t\tfields: ['targetUrl', 'mediaUrl', 'mediaMime'],\n\t\t\t\t},\n\t\t\t])\n\t\t\tonValidProp()\n\t\t}\n\n\t\tawait validateNewSlotPassback({\n\t\t\tvalidateId,\n\t\t\tdirty: true,\n\t\t\tonValid,\n\t\t\titemId,\n\t\t})(dispatch, getState)\n\t}\n}\n\nexport function validateAndUpdateSlot({\n\tvalidateId,\n\tdirty,\n\titem,\n\tupdate,\n\tdirtyProps,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst mainToken = selectMainToken()\n\t\t\tconst {\n\t\t\t\tid,\n\t\t\t\ttype,\n\t\t\t\ttitle,\n\t\t\t\tdescription,\n\t\t\t\tminPerImpression,\n\t\t\t\twebsite,\n\t\t\t\tmediaUrl,\n\t\t\t\tmediaMime,\n\t\t\t\ttargetUrl,\n\t\t\t\trulesInput: slotRulesInput,\n\t\t\t} = item\n\n\t\t\t// Because of old slot and default value null\n\t\t\tconst rulesInput = slotRulesInput || { version: '1', inputs: {} }\n\n\t\t\tconst { autoSetMinCPM } = rulesInput.inputs\n\n\t\t\tconst newSlot = new AdSlot(item)\n\t\t\tconst updateMinPerImpression =\n\t\t\t\ttypeof minPerImpression === 'string' && !autoSetMinCPM\n\n\t\t\tconst updateRules = dirtyProps.some(\n\t\t\t\tprop =>\n\t\t\t\t\tprop &&\n\t\t\t\t\t(prop.name === 'rulesInput' ||\n\t\t\t\t\t\t(prop.fields || []).includes('rulesInput'))\n\t\t\t)\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: adSlotPut.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: description,\n\t\t\t\t\tprop: 'description',\n\t\t\t\t\tschema: adSlotPut.description,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: website,\n\t\t\t\t\tprop: 'website',\n\t\t\t\t\tschema: adSlotPut.website,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tupdateMinPerImpression\n\t\t\t\t\t? validateNumberString({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\t\tvalue: minPerImpression,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t  })(dispatch)\n\t\t\t\t\t: true,\n\t\t\t\tupdateRules\n\t\t\t\t\t? validateSchemaProp({\n\t\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\t\tprop: 'rulesInput',\n\t\t\t\t\t\t\tvalue: rulesInput,\n\t\t\t\t\t\t\tschema: adSlotPut.rulesInput,\n\t\t\t\t\t\t\tdirty,\n\t\t\t\t\t  })(dispatch)\n\t\t\t\t\t: true,\n\t\t\t])\n\n\t\t\tlet isValid = validations.every(v => v === true)\n\n\t\t\tlet minCPM = null\n\t\t\tlet newRules = null\n\t\t\tlet rulesCPM = null\n\n\t\t\tif (isValid && !autoSetMinCPM && updateMinPerImpression) {\n\t\t\t\tif (!minPerImpression || parseFloat(minPerImpression) <= 0) {\n\t\t\t\t\tthrow new Error('INVALID_MANUAL_MIN_CPM_VALUE')\n\t\t\t\t}\n\n\t\t\t\trulesCPM = minPerImpression\n\t\t\t} else if (isValid && autoSetMinCPM) {\n\t\t\t\trulesCPM = (await verifyWebsite({ websiteUrl: website }))\n\t\t\t\t\t.suggestedMinCPM\n\n\t\t\t\tif (!rulesCPM) {\n\t\t\t\t\tthrow new Error('INVALID_AUTO_CPM_VALUE')\n\t\t\t\t}\n\t\t\t} else if (isValid) {\n\t\t\t\trulesCPM =\n\t\t\t\t\t!!minPerImpression && typeof minPerImpression === 'object'\n\t\t\t\t\t\t? formatUnits(\n\t\t\t\t\t\t\t\tbigNumberify(Object.values(minPerImpression)[0]).mul(1000),\n\t\t\t\t\t\t\t\tmainToken.decimals\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: minPerImpression\n\t\t\t}\n\n\t\t\tif (isValid && (updateMinPerImpression || updateRules)) {\n\t\t\t\tnewRules = slotRulesInputToTargetingRules({\n\t\t\t\t\trulesInput,\n\t\t\t\t\tsuggestedMinCPM: rulesCPM,\n\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t})\n\n\t\t\t\tminCPM = {\n\t\t\t\t\t[mainToken.address]: numStringCPMtoImpression({\n\t\t\t\t\t\tnumStr: rulesCPM || null,\n\t\t\t\t\t\tdecimals: mainToken.decimals,\n\t\t\t\t\t}),\n\t\t\t\t}\n\n\t\t\t\tnewSlot.minPerImpression = minCPM\n\t\t\t\tnewSlot.rules = newRules\n\t\t\t}\n\n\t\t\tconst isPassbackUpdated = dirtyProps.some(\n\t\t\t\tprop => prop && prop.name === 'passbackData'\n\t\t\t)\n\n\t\t\tconst fallbackData = {\n\t\t\t\tmediaMime,\n\t\t\t\tmediaUrl,\n\t\t\t\ttargetUrl,\n\t\t\t}\n\n\t\t\tlet newUnit = null\n\t\t\tif (isValid && isPassbackUpdated && update) {\n\t\t\t\tif (mediaUrl && mediaMime && targetUrl) {\n\t\t\t\t\tconst authSig = selectAuthSig(state)\n\t\t\t\t\tnewUnit = await getFallbackUnit({\n\t\t\t\t\t\tmediaMime,\n\t\t\t\t\t\ttempUrl: mediaUrl,\n\t\t\t\t\t\ttargetUrl,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tauthSig,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tdescription,\n\t\t\t\t\t})\n\n\t\t\t\t\tnewSlot.fallbackUnit = newUnit.ipfs\n\t\t\t\t\tfallbackData.mediaMime = newUnit.mediaMime\n\t\t\t\t\tfallbackData.mediaUrl = newUnit.mediaUrl\n\t\t\t\t\tfallbackData.targetUrl = newUnit.targetUrl\n\t\t\t\t} else {\n\t\t\t\t\tnewSlot.fallbackUnit = null\n\t\t\t\t\tfallbackData.mediaMime = ''\n\t\t\t\t\tfallbackData.mediaUrl = ''\n\t\t\t\t\tfallbackData.targetUrl = ''\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst slot = newSlot.marketUpdate\n\n\t\t\tif (isValid) {\n\t\t\t\tconst finalValidations = await Promise.all([\n\t\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\tvalue: newSlot.minPerImpression,\n\t\t\t\t\t\tprop: 'minPerImpression',\n\t\t\t\t\t\tschema: adSlotPut.minPerImpression,\n\t\t\t\t\t\tdirty,\n\t\t\t\t\t})(dispatch),\n\t\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\tvalue: newSlot.rules,\n\t\t\t\t\t\tprop: 'rules',\n\t\t\t\t\t\tschema: adSlotPut.rules,\n\t\t\t\t\t\tdirty,\n\t\t\t\t\t})(dispatch),\n\t\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\t\tvalidateId,\n\t\t\t\t\t\tvalue: slot,\n\t\t\t\t\t\tprop: 'slot',\n\t\t\t\t\t\tschema: adSlotPut,\n\t\t\t\t\t\tdirty,\n\t\t\t\t\t})(dispatch),\n\t\t\t\t])\n\n\t\t\t\tisValid = finalValidations.every(v => v === true)\n\t\t\t}\n\n\t\t\tif (isValid && update) {\n\t\t\t\tconst updatedSlot = (await updateAdSlot({ slot, id })).slot\n\n\t\t\t\tif (dirtyProps.includes('website')) {\n\t\t\t\t\tawait updateWebsiteVerification({ website })(dispatch)\n\t\t\t\t}\n\n\t\t\t\tif (newUnit) {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: ADD_ITEM,\n\t\t\t\t\t\titem: new AdUnit(newUnit).plainObj(),\n\t\t\t\t\t\titemType: 'AdUnit',\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\t\titem: new AdSlot({ ...updatedSlot, ...fallbackData }).plainObj(),\n\t\t\t\t\titemType: 'AdSlot',\n\t\t\t\t})\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['ADSLOT', updatedSlot.title],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t} else if (!isValid && update) {\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['ADSLOT', getErrorMsg('INVALID_DATA')],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'error',\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\targs: ['ADSLOT', getErrorMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import {\n\tupdateSpinner,\n\thandleAfterValidation,\n\tvalidateSchemaProp,\n\tvalidateMediaSize,\n\tvalidate,\n\taddToast,\n\tgetImgsIpfsFromBlob,\n} from 'actions'\nimport { selectNewAdUnit, selectAuthSig, t } from 'selectors'\nimport { schemas, AdUnit } from 'adex-models'\nimport { getWidAndHightFromType } from 'helpers/itemsHelpers'\n\nimport { ADD_ITEM, UPDATE_ITEM } from 'constants/actionTypes'\nimport Helper from 'helpers/miscHelpers'\n\nimport { postAdUnit, updateAdUnit } from 'services/adex-market/actions'\n\nconst { adUnitPost, adUnitPut } = schemas\n\nexport function validateNewUnitBasics({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst { title, description, type, targetUrl } = selectNewAdUnit(state)\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: adUnitPost.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: description,\n\t\t\t\t\tprop: 'description',\n\t\t\t\t\tschema: adUnitPost.description,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: type,\n\t\t\t\t\tprop: 'type',\n\t\t\t\t\tschema: adUnitPost.type,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: targetUrl,\n\t\t\t\t\tprop: 'targetUrl',\n\t\t\t\t\tschema: adUnitPost.targetUrl,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tlet isValid = validations.every(v => v === true)\n\n\t\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\t} catch (err) {}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function validateNewUnitMedia({\n\tvalidateId,\n\tdirty,\n\tonValid,\n\tonInvalid,\n}) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\n\t\tconst state = getState()\n\t\tconst {\n\t\t\ttype,\n\t\t\ttemp: { tempUrl, mime },\n\t\t} = selectNewAdUnit(state)\n\n\t\tconst { width, height } = getWidAndHightFromType(type)\n\n\t\tconst validations = await Promise.all([\n\t\t\tvalidateMediaSize({\n\t\t\t\tvalidateId,\n\t\t\t\tdirty,\n\t\t\t\tpropName: 'temp',\n\t\t\t\twidthTarget: width,\n\t\t\t\theightTarget: height,\n\t\t\t\tmsg: 'ERR_IMG_SIZE_EXACT',\n\t\t\t\texact: true,\n\t\t\t\trequired: true,\n\t\t\t\tmedia: {\n\t\t\t\t\ttempUrl,\n\t\t\t\t\tmime,\n\t\t\t\t},\n\t\t\t})(dispatch),\n\t\t])\n\n\t\tconst isValid = validations.every(v => v === true)\n\n\t\tawait handleAfterValidation({ isValid, onValid, onInvalid })\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n\nexport function saveUnit() {\n\treturn async function(dispatch, getState) {\n\t\ttry {\n\t\t\tconst state = getState()\n\t\t\tconst item = selectNewAdUnit(state)\n\t\t\tconst newItem = { ...item }\n\t\t\tconst authSig = selectAuthSig(state)\n\t\t\tconst imageIpfs = (await getImgsIpfsFromBlob({\n\t\t\t\ttempUrl: newItem.temp.tempUrl,\n\t\t\t\tauthSig,\n\t\t\t})).ipfs\n\n\t\t\tnewItem.mediaUrl = `ipfs://${imageIpfs}`\n\t\t\tnewItem.mediaMime = newItem.temp.mime\n\t\t\tnewItem.created = Date.now()\n\n\t\t\tconst resItem = await postAdUnit({\n\t\t\t\tunit: new AdUnit(newItem).marketAdd,\n\t\t\t\tauthSig,\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: ADD_ITEM,\n\t\t\t\titem: new AdUnit(resItem).plainObj(),\n\t\t\t\titemType: 'AdUnit',\n\t\t\t})\n\n\t\t\taddToast({\n\t\t\t\tdispatch: dispatch,\n\t\t\t\ttype: 'accept',\n\t\t\t\ttoastStr: 'SUCCESS_CREATING_ITEM',\n\t\t\t\targs: ['AdUnit', newItem.title],\n\t\t\t})\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_CREATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_CREATING_ITEM', {\n\t\t\t\t\targs: ['AdUnit', Helper.getErrMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t\tthrow new Error('ERR_CREATING_ITEM', err)\n\t\t}\n\t}\n}\n\nexport function validateAndUpdateUnit({ validateId, dirty, item, update }) {\n\treturn async function(dispatch, getState) {\n\t\tawait updateSpinner(validateId, true)(dispatch)\n\t\ttry {\n\t\t\tconst { id, title, description } = item\n\n\t\t\tconst unit = new AdUnit(item).marketUpdate\n\n\t\t\tconst validations = await Promise.all([\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: title,\n\t\t\t\t\tprop: 'title',\n\t\t\t\t\tschema: adUnitPut.title,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: description,\n\t\t\t\t\tprop: 'description',\n\t\t\t\t\tschema: adUnitPut.description,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t\tvalidateSchemaProp({\n\t\t\t\t\tvalidateId,\n\t\t\t\t\tvalue: unit,\n\t\t\t\t\tprop: 'unit',\n\t\t\t\t\tschema: adUnitPut,\n\t\t\t\t\tdirty,\n\t\t\t\t})(dispatch),\n\t\t\t])\n\n\t\t\tconst isValid = validations.every(v => v === true)\n\n\t\t\tif (isValid && update) {\n\t\t\t\tconst updatedUnit = (await updateAdUnit({ unit, id })).unit\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: UPDATE_ITEM,\n\t\t\t\t\titem: new AdUnit(updatedUnit).plainObj(),\n\t\t\t\t\titemType: 'AdUnit',\n\t\t\t\t})\n\t\t\t\taddToast({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tlabel: t('SUCCESS_UPDATING_ITEM', {\n\t\t\t\t\t\targs: ['ADUNIT', updatedUnit.title],\n\t\t\t\t\t}),\n\t\t\t\t\ttimeout: 50000,\n\t\t\t\t})(dispatch)\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('ERR_UPDATING_ITEM', err)\n\t\t\taddToast({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: t('ERR_UPDATING_ITEM', {\n\t\t\t\t\targs: ['ADUNIT', Helper.getErrMsg(err)],\n\t\t\t\t}),\n\t\t\t\ttimeout: 50000,\n\t\t\t})(dispatch)\n\t\t}\n\n\t\tawait updateSpinner(validateId, false)(dispatch)\n\t}\n}\n","import * as common from './common'\nimport * as uiActions from './uiActions'\nimport * as validationActions from './validationActions'\nimport * as mediaValidations from './mediaValidations'\nimport * as itemActions from './itemActions'\nimport * as accountActions from './accountActions'\nimport * as identityActions from './identityActions'\nimport * as bidActions from './bidActions'\nimport * as transactionActions from './transactionActions'\nimport * as analyticsActions from './analyticsActions'\nimport * as newItemsActions from './newItemsActions'\nimport * as audienceActions from './audienceActions'\nimport * as campaignActions from './campaignActions'\nimport * as slotActions from './slotActions'\nimport * as unitActions from './unitActions'\n\n// keep it for class components that use connect and actions prop\n// without needing to change the code\nexport default {\n\t...common,\n\t...uiActions,\n\t...validationActions,\n\t...mediaValidations,\n\t...itemActions,\n\t...accountActions,\n\t...identityActions,\n\t...bidActions,\n\t...transactionActions,\n\t...analyticsActions,\n\t...newItemsActions,\n\t...audienceActions,\n\t...campaignActions,\n\t...slotActions,\n\t...unitActions,\n}\n\n// used for minimal deps in hook components\n// import { execute, addTost } from 'actions'\n// execute(addTost())\nexport * from './common'\nexport * from './validationActions'\nexport * from './mediaValidations'\nexport * from './uiActions'\nexport * from './itemActions'\nexport * from './accountActions'\nexport * from './identityActions'\nexport * from './bidActions'\nexport * from './transactionActions'\nexport * from './analyticsActions'\nexport * from './newItemsActions'\nexport * from './audienceActions'\nexport * from './campaignActions'\nexport * from './slotActions'\nexport * from './unitActions'\n","module.exports = __webpack_public_path__ + \"static/media/trezor-logo-h.1da00f60.png\";","import { ethers, Contract } from 'ethers'\nimport detectEthereumProvider from '@metamask/detect-provider'\nimport { contracts } from './contractsCfg'\nimport { AUTH_TYPES } from 'constants/misc'\nimport { selectRelayerConfig } from 'selectors'\n\nethers.errors.setLogLevel('error')\n\nconst { AdExCore, Identity, IdentityFactory } = contracts\n\nconst getAdexCore = provider => {\n\tconst { coreAddr } = selectRelayerConfig()\n\treturn new Contract(coreAddr, AdExCore.abi, provider)\n}\n\nconst getMainToken = provider => {\n\tconst { mainToken = {} } = selectRelayerConfig()\n\treturn new Contract(\n\t\tmainToken.address,\n\t\tcontracts[mainToken.standard].abi,\n\t\tprovider\n\t)\n}\n\nconst getToken = ({ provider, standard, address }) => {\n\treturn new Contract(address, contracts[standard].abi, provider)\n}\n\nconst getIdentity = ({ provider, address }) => {\n\tconst identityContract = new Contract(address, Identity.abi, provider)\n\n\treturn identityContract\n}\n\nconst getIdentityFactory = provider => {\n\tconst { identityFactoryAddr } = selectRelayerConfig()\n\treturn new Contract(identityFactoryAddr, IdentityFactory.abi, provider)\n}\n\nconst getEthersResult = provider => {\n\tconst adexCore = getAdexCore(provider)\n\tconst mainToken = getMainToken(provider)\n\tconst identityFactory = getIdentityFactory(provider)\n\n\tconst results = {\n\t\tprovider,\n\t\tAdExCore: adexCore,\n\t\tIdentity: Identity,\n\t\tDai: mainToken,\n\t\tMainToken: mainToken,\n\t\tIdentityFactory: identityFactory,\n\t\tgetToken: ({ standard, address }) =>\n\t\t\tgetToken({ provider, standard, address }),\n\t\tgetIdentity: ({ address }) => getIdentity({ provider, address }),\n\t}\n\n\treturn results\n}\n\nconst localWeb3 = () => {\n\tconst provider = new ethers.providers.JsonRpcProvider(\n\t\tprocess.env.WEB3_NODE_ADDR\n\t)\n\treturn getEthersResult(provider)\n}\n\nconst loadInjectedWeb3 = new Promise(async (resolve, reject) => {\n\tconst provider = await detectEthereumProvider()\n\n\tif (!!window.ethereum && provider !== window.ethereum) {\n\t\tconsole.error('Do you have multiple wallets installed?')\n\t\treject(new Error('Do you have multiple wallets installed?'))\n\n\t\t// TODO: error or toast\n\t}\n\n\tresolve({\n\t\tethereum: window.ethereum,\n\t})\n})\n\nconst getMetamaskSelectedAddress = async () => {\n\tconst { ethereum } = await loadInjectedWeb3\n\n\tif (ethereum && ethereum.isMetaMask) {\n\t\ttry {\n\t\t\tconst accounts = await ethereum.request({ method: 'eth_accounts' })\n\t\t\treturn accounts[0]\n\t\t} catch (err) {\n\t\t\tconsole.log('(getMetamaskSelectedAddress): Please connect to MetaMask.')\n\t\t\tthrow new Error(err)\n\t\t}\n\t}\n}\n\nconst connectMetaMask = async ethereum => {\n\ttry {\n\t\tconst selectedAccount = await getMetamaskSelectedAddress()\n\n\t\tif (!selectedAccount) {\n\t\t\tconst requestedAddresses = await ethereum.request({\n\t\t\t\tmethod: 'eth_requestAccounts',\n\t\t\t})\n\t\t\t// console.log('requestedAddresses', requestedAddresses)\n\t\t}\n\t} catch (err) {\n\t\tif (err.code === 4001) {\n\t\t\t// EIP-1193 userRejectedRequest error\n\t\t\t// If this happens, the user rejected the connection request.\n\t\t\tconsole.log('Please connect to MetaMask.')\n\t\t} else {\n\t\t\tconsole.error(err)\n\t\t}\n\t\t// TODO: error or toast\n\t}\n}\n\nconst injectedWeb3Provider = async () => {\n\tconst { ethereum } = await loadInjectedWeb3\n\n\tif (ethereum) {\n\t\ttry {\n\t\t\tawait connectMetaMask(ethereum)\n\n\t\t\tconst provider = new ethers.providers.Web3Provider(ethereum)\n\n\t\t\treturn getEthersResult(provider)\n\t\t} catch (err) {\n\t\t\tconsole.error('Err getting injected ethereum.', err)\n\t\t\tthrow new Error(err.message)\n\t\t}\n\t}\n}\n\nconst getLocalWeb3Provider = async () => {\n\t// console.log('getLocalWeb3')\n\treturn localWeb3()\n}\n\nconst getEthers = mode => {\n\t/* NOTE: use Promise wrapper because despite getWeb3 is Promise itself it is not called by user action\n\t *   and this results in Trezor popup block by the browser\n\t */\n\tif (mode === AUTH_TYPES.METAMASK.name) {\n\t\treturn injectedWeb3Provider()\n\t} else {\n\t\treturn getLocalWeb3Provider()\n\t}\n}\n\nconst ethereumNetworkId = async () => {\n\tconst { ethereum } = await loadInjectedWeb3\n\tif (ethereum) {\n\t\tconst id = parseInt(ethereum.networkVersion, 10)\n\t\treturn id\n\t} else {\n\t\treturn null\n\t}\n}\n\nconst getEthereumProviderName = async () => {\n\tconst { ethereum } = await loadInjectedWeb3\n\n\tif (!ethereum) {\n\t\treturn null\n\t}\n\n\tif (ethereum.isMetaMask) {\n\t\treturn AUTH_TYPES.METAMASK.name\n\t}\n\n\treturn null\n}\n\nconst getMetamaskEthereum = async () => {\n\tconst { ethereum } = await loadInjectedWeb3\n\n\tif (ethereum && ethereum.isMetaMask) {\n\t\treturn ethereum\n\t}\n\n\treturn null\n}\n\nexport {\n\tgetEthers,\n\tethereumNetworkId,\n\tgetEthereumProviderName,\n\tgetMetamaskEthereum,\n\tgetMetamaskSelectedAddress,\n}\n","module.exports = __webpack_public_path__ + \"static/media/GS-email-ic.7f647acc.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-create-ic.8de20f7a.png\";","module.exports = __webpack_public_path__ + \"static/media/GS-launch-ic.b4a8f505.png\";","import { UPDATE_RELAYER_CFG } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nconst updateCfg = (current, type, cfg) => {\n\tconst newCfg = { ...current }\n\tnewCfg[type] = { ...cfg }\n\treturn newCfg\n}\n\nexport default function uiReducer(state = initialState.config, action) {\n\tswitch (action.type) {\n\t\tcase UPDATE_RELAYER_CFG:\n\t\t\treturn updateCfg(state, 'relayer', action.cfg)\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import account from './accountReducer'\nimport signin from './signinReducer'\nimport identity from './identityReducer'\nimport wallet from './walletReducer'\nimport items from './itemsReducer'\nimport newItem from './newItemsReducer'\n// import currentItem from './currentItemsReducer'\nimport spinners from './spinnersReducer'\nimport ui from './uiReducer'\nimport uiMemory from './uiMemoryReducer'\nimport toasts from './toastsReducer'\nimport confirm from './confirmReducer'\nimport nav from './navReducer'\nimport language from './languageReducer'\nimport validations from './validateItemsReducer'\nimport newTransactions from './newTransactionsReducer'\nimport web3Transactions from './web3TransactionsReducer'\nimport targeting from './targetingReducer'\nimport config from './configReducer'\nimport analytics from './analyticsReducer'\nimport channels from './channelsReducer'\nimport selectedItems from './selectedItemsReducer'\nimport ensAddresses from './ensReducer'\nimport { filterActions } from 'redux-ignore'\nimport * as types from 'constants/actionTypes'\n\nexport const persistReducers = {\n\taccount,\n\tui, //: filterActions(ui, [types.UPDATE_UI]),\n\titems: filterActions(items, action => action.type.match(/_ITEM/)),\n\tlanguage,\n\tweb3Transactions,\n\ttargeting,\n\tconfig,\n\tensAddresses,\n}\n\nexport const memoryReducers = {\n\tuiMemory,\n\tchannels,\n\tanalytics,\n\tsignin,\n\tidentity,\n\twallet,\n\tnewItem: filterActions(newItem, action => action.type.match(/_NEWITEM/)),\n\tspinners: filterActions(spinners, [types.UPDATE_SPINNER]),\n\ttoasts,\n\tconfirm: filterActions(confirm, [types.CONFIRM_ACTION]),\n\tnav: filterActions(nav, [types.UPDATE_NAV]),\n\tvalidations,\n\tselectedItems,\n\tnewTransactions,\n}\n","import {\n\tCREATE_ACCOUNT,\n\tRESET_ACCOUNT,\n\tUPDATE_ACCOUNT,\n} from '../constants/actionTypes'\nimport initialState from 'store/initialState'\nimport { Base, Account } from 'adex-models'\n\nexport default function accountReducer(state = initialState.account, action) {\n\tlet newState\n\tlet newAccount\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase CREATE_ACCOUNT:\n\t\t\tnewAccount = { ...action.account }\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase RESET_ACCOUNT:\n\t\t\tnewAccount = initialState.account\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\t\tcase UPDATE_ACCOUNT:\n\t\t\tnewAccount = Base.updateObject({\n\t\t\t\titem: newState,\n\t\t\t\tnewValues: { ...action.newValues },\n\t\t\t\tobjModel: Account,\n\t\t\t})\n\t\t\tnewState = newAccount\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_GLOBAL_UI,\n\tUPDATE_UI_BY_IDENTITY,\n\tUPDATE_UI_BY_IDENTITY_AND_SIDE,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function uiReducer(state = initialState.ui, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_UI_BY_IDENTITY:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.byIdentity = { ...newState.byIdentity }\n\t\t\tnewState.byIdentity[action.identity] = {\n\t\t\t\t...newState.byIdentity[action.identity],\n\t\t\t}\n\t\t\tif (action.category) {\n\t\t\t\tnewState.byIdentity[action.identity][action.category] = {\n\t\t\t\t\t...newState.byIdentity[action.identity][action.category],\n\t\t\t\t}\n\t\t\t\tnewState.byIdentity[action.identity][action.category][action.item] =\n\t\t\t\t\taction.value\n\t\t\t} else {\n\t\t\t\tnewState.byIdentity[action.identity][action.item] = action.value\n\t\t\t}\n\t\t\treturn newState\n\n\t\tcase UPDATE_UI_BY_IDENTITY_AND_SIDE:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.byIdentity = { ...(newState.byIdentity || {}) }\n\t\t\tnewState.byIdentity[action.identity] = {\n\t\t\t\t...(newState.byIdentity[action.identity] || {}),\n\t\t\t}\n\t\t\tnewState.byIdentity[action.identity][action.side] = {\n\t\t\t\t...(newState.byIdentity[action.identity][action.side] || {}),\n\t\t\t}\n\t\t\tnewState.byIdentity[action.identity][action.side][action.item] =\n\t\t\t\taction.value\n\n\t\t\treturn newState\n\t\tcase UPDATE_GLOBAL_UI:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.global = { ...newState.global }\n\t\t\tif (action.category) {\n\t\t\t\tnewState.global[action.category] = { ...newState[action.category] }\n\t\t\t\tnewState.global[action.category][action.item] = action.value\n\t\t\t} else {\n\t\t\t\tnewState.global[action.item] = action.value\n\t\t\t}\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_ITEM,\n\tDELETE_ITEM,\n\tUPDATE_ITEM,\n\tREMOVE_ITEM_FROM_ITEM,\n\tADD_ITEM_TO_ITEM,\n\tUPDATE_ALL_ITEMS,\n\tRESET_ALL_ITEMS,\n} from 'constants/actionTypes' // eslint-disable-line no-unused-vars\nimport initialState from 'store/initialState'\nimport { Item } from 'adex-models'\n\nexport default function itemsReducer(state = initialState.items, action) {\n\tlet newState\n\tlet newCollection\n\tlet newItem\n\tlet collectionId\n\tlet item\n\n\tconst collection = (state = {}, action) => {\n\t\tif (!action.item) return state\n\t\treturn {\n\t\t\t...state,\n\t\t\t[action.item.id]: { ...action.item },\n\t\t}\n\t}\n\n\tconst removeCollectionProp = (collection = {}, prop) => {\n\t\tlet newCol = { ...collection }\n\t\tdelete newCol[prop]\n\t\treturn newCol\n\t}\n\n\tif (action.item && action.itemType) {\n\t\tnewState = { ...state }\n\t\titem = { ...action.item }\n\t\tcollectionId = action.itemType\n\t}\n\n\tswitch (action.type) {\n\t\tcase ADD_ITEM:\n\t\t\t// TODO: the item should come here ready (with id from bc and ipsf)\n\t\t\t// id is going to be set when it comes here\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase ADD_ITEM_TO_ITEM:\n\t\t\tnewItem = Item.addItem(newState[collectionId][item._id], action.toAdd)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase DELETE_ITEM:\n\t\t\tnewCollection = removeCollectionProp(newState[collectionId], item._id)\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase REMOVE_ITEM_FROM_ITEM:\n\t\t\tnewItem = Item.removeItem(\n\t\t\t\tnewState[collectionId][item._id],\n\t\t\t\taction.toRemove\n\t\t\t)\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ITEM:\n\t\t\tnewItem = item\n\t\t\tnewCollection = collection(newState[collectionId], {\n\t\t\t\t...action,\n\t\t\t\titem: newItem,\n\t\t\t})\n\t\t\tnewState[collectionId] = newCollection\n\t\t\treturn newState\n\n\t\tcase UPDATE_ALL_ITEMS:\n\t\t\tnewState = { ...state }\n\t\t\tconst newItems = action.items.reduce((items, item) => {\n\t\t\t\tconst currentItems = { ...items }\n\t\t\t\tconst newItem = { ...item }\n\t\t\t\tcurrentItems[newItem.id || newItem.ipfs] = newItem\n\t\t\t\treturn currentItems\n\t\t\t}, {})\n\n\t\t\tnewState[action.itemType] = { ...newState[action.itemType], ...newItems }\n\t\t\treturn newState\n\t\tcase RESET_ALL_ITEMS:\n\t\t\tnewState = { ...initialState.items }\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import initialState from 'store/initialState'\nimport { CHANGE_LANGUAGE } from 'constants/actionTypes'\nimport { setLang } from 'services/translations/translations'\n\nexport default function languageReducer(state = initialState.language, action) {\n\tswitch (action.type) {\n\t\tcase CHANGE_LANGUAGE:\n\t\t\tlet newLang = action.lang || state\n\t\t\tsetLang(newLang)\n\t\t\treturn newLang\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tADD_WEB3_TRANSACTION,\n\tUPDATE_WEB3_TRANSACTION,\n\tRESET_WEB3_TRANSACTION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function web3TransactionsReducer(\n\tstate = initialState.web3Transactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\tlet newAddrTxs\n\tlet pendingTxs\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateObj = ({ obj, key, val }) => {\n\t\tobj = obj || {}\n\t\tobj[key] = val\n\n\t\treturn obj\n\t}\n\n\tconst updatePendingTxs = ({ pTxs, newTx }) => {\n\t\tif (newTx.status === 0 && pTxs.indexOf(newTx.hash)) {\n\t\t\tpTxs.push(newTx.hash)\n\t\t} else {\n\t\t\tpTxs = pTxs.filter(tx => tx !== newTx.hash)\n\t\t}\n\n\t\treturn pTxs\n\t}\n\n\tif (!action.addr) {\n\t\treturn state\n\t}\n\n\tnewAddrTxs = { ...(newState[action.addr] || {}) }\n\tpendingTxs = [...(newAddrTxs.pendingTxs || [])]\n\n\t// NOTE: keep transaction by address in order to keep them in the persist storage when the user is switch\n\t// If we keep the transactions on the node we can clean them from local storage on address change\n\tswitch (action.type) {\n\t\tcase ADD_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...action.value }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase UPDATE_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...(newAddrTxs[action.tx] || {}) }\n\t\t\tnewTx = updateObj({ obj: newTx, key: action.key, val: action.value })\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: newTx,\n\t\t\t})\n\t\t\tnewState[action.addr] = newAddrTxs\n\t\t\treturn newState\n\t\tcase RESET_WEB3_TRANSACTION:\n\t\t\tnewTx = { ...initialState.web3Transactions.default }\n\t\t\tnewAddrTxs[action.tx] = newTx\n\t\t\tnewAddrTxs.pendingTxs = updatePendingTxs({\n\t\t\t\tpTxs: pendingTxs,\n\t\t\t\tnewTx: { txHash: action.tx },\n\t\t\t})\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_TARGETING_ANALYTICS } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function targetingReducer(\n\tstate = initialState.targeting,\n\taction\n) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_TARGETING_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState = action.value\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_RESOLVE_ENS_ADDRESS } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function ensReducer(state = initialState.ensAddresses, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_RESOLVE_ENS_ADDRESS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_MEMORY_UI } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function uiMemoryReducer(state = initialState.uiMemory, action) {\n\tlet newState\n\tswitch (action.type) {\n\t\tcase UPDATE_MEMORY_UI:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_CHANNELS_WITH_BALANCE_ALL,\n\tRESET_CHANNELS_WITH_BALANCE_ALL,\n\tUPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE,\n\tRESET_CHANNELS_WITH_OUTSTANDING_BALANCE,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function channelsReducer(state = initialState.channels, action) {\n\tlet newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_CHANNELS_WITH_BALANCE_ALL:\n\t\t\tnewState.withBalanceAll = { ...action.channels }\n\t\t\treturn newState\n\t\tcase RESET_CHANNELS_WITH_BALANCE_ALL:\n\t\t\tnewState.withBalanceAll = initialState.channels.withBalanceAll\n\t\t\treturn newState\n\t\tcase UPDATE_CHANNELS_WITH_OUTSTANDING_BALANCE:\n\t\t\tnewState.withOutstandingBalance = [...action.channels]\n\t\t\treturn newState\n\t\tcase RESET_CHANNELS_WITH_OUTSTANDING_BALANCE:\n\t\t\tnewState.withOutstandingBalance =\n\t\t\t\tinitialState.channels.withOutstandingBalance\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ANALYTICS,\n\tRESET_ANALYTICS,\n\tUPDATE_ANALYTICS_TIMEFRAME,\n\tUPDATE_ANALYTICS_PERIOD,\n\tUPDATE_ANALYTICS_LAST_CHECKED,\n\tUPDATE_PUBLISHER_RECEIPTS,\n\tUPDATE_ADVANCED_ANALYTICS,\n\tUPDATE_DEMAND_ANALYTICS,\n\tUPDATE_TARGETING_ANALYTICS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function analyticsReducer(\n\tstate = initialState.analytics,\n\taction\n) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ANALYTICS_TIMEFRAME:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.timeframe = action.value\n\t\t\treturn newState\n\t\tcase UPDATE_ANALYTICS_LAST_CHECKED:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.lastChecked = action.value\n\t\t\treturn newState\n\t\tcase UPDATE_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.side] = { ...newState[action.side] }\n\t\t\tnewState[action.side][action.eventType] = {\n\t\t\t\t...newState[action.side][action.eventType],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric] = {\n\t\t\t\t...newState[action.side][action.eventType][action.metric],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric][\n\t\t\t\taction.timeframe\n\t\t\t] = {\n\t\t\t\t...newState[action.side][action.eventType][action.metric][\n\t\t\t\t\taction.timeframe\n\t\t\t\t],\n\t\t\t}\n\t\t\tnewState[action.side][action.eventType][action.metric][action.timeframe][\n\t\t\t\taction.timestamp\n\t\t\t] = { ...action.value }\n\t\t\treturn newState\n\t\tcase UPDATE_ADVANCED_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.advanced = { ...newState.advanced }\n\t\t\tnewState.advanced[action.eventType] = {\n\t\t\t\t...action.value,\n\t\t\t}\n\t\t\treturn newState\n\t\tcase UPDATE_DEMAND_ANALYTICS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.demand = action.value\n\t\t\treturn newState\n\t\tcase UPDATE_PUBLISHER_RECEIPTS:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.receipts = { ...newState.receipts, ...action.value }\n\t\t\treturn newState\n\t\tcase RESET_ANALYTICS:\n\t\t\tnewState = { ...initialState.analytics }\n\t\t\treturn newState\n\t\tcase UPDATE_ANALYTICS_PERIOD:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.period = action.value\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SIGNIN, RESET_SIGNIN } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function signinReducer(state = initialState.signin, action) {\n\tlet newState\n\tlet newSignin\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SIGNIN:\n\t\t\tnewSignin = { ...newState }\n\t\t\tif (Array.isArray(newSignin[action.prop])) {\n\t\t\t\tnewSignin[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewSignin[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newSignin\n\n\t\t\treturn newState\n\n\t\tcase RESET_SIGNIN:\n\t\t\tnewSignin = { ...initialState.signin }\n\t\t\tnewState = newSignin\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_IDENTITY, RESET_IDENTITY } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function identityReducer(state = initialState.identity, action) {\n\tlet newState\n\tlet newIdentity\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_IDENTITY:\n\t\t\tnewIdentity = newState\n\t\t\tif (Array.isArray(newIdentity[action.prop])) {\n\t\t\t\tnewIdentity[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewIdentity[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newIdentity\n\n\t\t\treturn newState\n\n\t\tcase RESET_IDENTITY:\n\t\t\tnewIdentity = { ...initialState.identity }\n\t\t\tnewState = newIdentity\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_WALLET, RESET_WALLET } from '../constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function walletReducer(state = initialState.wallet, action) {\n\tlet newState\n\tlet newWallet\n\n\tnewState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_WALLET:\n\t\t\tnewWallet = newState\n\t\t\tif (Array.isArray(newWallet[action.prop])) {\n\t\t\t\tnewWallet[action.prop] = [...action.value]\n\t\t\t} else {\n\t\t\t\tnewWallet[action.prop] = action.value\n\t\t\t}\n\n\t\t\tnewState = newWallet\n\n\t\t\treturn newState\n\n\t\tcase RESET_WALLET:\n\t\t\tnewWallet = { ...initialState.wallet }\n\t\t\tnewState = newWallet\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_NEW_ITEM,\n\tRESET_NEW_ITEM,\n\tRESET_ALL_NEW_ITEMS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newItemsReducer(state = initialState.newItem, action) {\n\tlet newState\n\tlet newItem\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...action.item }\n\t\t\tif (action.itemId) {\n\t\t\t\tnewState[action.itemId] = newItem\n\t\t\t} else {\n\t\t\t\tnewState[action.itemType] = newItem\n\t\t\t}\n\n\t\t\treturn newState\n\n\t\tcase RESET_NEW_ITEM:\n\t\t\tnewState = { ...state }\n\t\t\tnewItem = { ...initialState.newItem[action.itemType] }\n\t\t\tif (action.itemId) {\n\t\t\t\tnewState[action.itemId] = newItem\n\t\t\t} else {\n\t\t\t\tnewState[action.itemType] = newItem\n\t\t\t}\n\n\t\t\treturn newState\n\n\t\tcase RESET_ALL_NEW_ITEMS:\n\t\t\tnewState = { ...initialState.newItem }\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_SPINNER, UPDATE_ITEM } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function spinnersReducer(state = initialState.spinners, action) {\n\tconst newState = { ...state }\n\n\tswitch (action.type) {\n\t\tcase UPDATE_SPINNER:\n\t\t\tnewState[action.spinner] = action.value\n\n\t\t\treturn newState\n\t\tcase UPDATE_ITEM:\n\t\t\tnewState['update' + action.item._id] = false\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { ADD_TOAST, REMOVE_TOAST } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function toastsReducer(state = initialState.toasts, action) {\n\tlet newState\n\tlet newToast\n\n\tswitch (action.type) {\n\t\tcase ADD_TOAST:\n\t\t\tnewToast = { ...action.toast }\n\t\t\tnewToast.added = Date.now()\n\t\t\tnewState = [newToast, ...state]\n\t\t\treturn newState\n\n\t\tcase REMOVE_TOAST:\n\t\t\tnewState = state.filter(t => t.id !== action.toast)\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { CONFIRM_ACTION } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n// import Helper from './../helpers/miscHelpers'\n\nexport default function confirmReducer(state = initialState.confirm, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase CONFIRM_ACTION:\n\t\t\tnewState = { ...state }\n\t\t\tnewState.data = { ...action.confirm.data }\n\t\t\tnewState.onConfirm = action.confirm.onConfirm\n\t\t\tnewState.onCancel = action.confirm.onCancel\n\t\t\tnewState.active =\n\t\t\t\taction.confirm.active !== undefined ? action.confirm.active : true\n\t\t\tnewState.noActionBtns = !!action.confirm.noActionBtns\n\n\t\t\t// Force react-redux connect to update props if confirm is called again with same action\n\t\t\tnewState.calledOn = Date.now()\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { UPDATE_NAV } from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function navReducer(state = initialState.nav, action) {\n\tlet newState\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NAV:\n\t\t\tnewState = { ...state }\n\t\t\tnewState[action.item] = action.value\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\n\tUPDATE_ITEM_VALIDATION,\n\tRESET_ITEM_VALIDATION,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function validateItemsReducer(\n\tstate = initialState.validations,\n\taction\n) {\n\tlet newState\n\tlet newErrors\n\n\tswitch (action.type) {\n\t\tcase UPDATE_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item], ...action.errors }\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tcase RESET_ITEM_VALIDATION:\n\t\t\tnewState = { ...state }\n\t\t\tnewErrors = { ...newState[action.item] }\n\t\t\tif (newErrors && newErrors.hasOwnProperty(action.key)) {\n\t\t\t\t// TODO: Keep it like that or change canAdvance function\n\t\t\t\tdelete newErrors[action.key]\n\t\t\t} else if (newErrors && !action.key) {\n\t\t\t\tnewErrors = {}\n\t\t\t}\n\n\t\t\tnewState[action.item] = newErrors\n\n\t\t\treturn newState\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import {\r\n\tUPDATE_SELECTED_ITEMS,\r\n\tRESET_SELECTED_ITEMS,\r\n} from 'constants/actionTypes'\r\nimport initialState from 'store/initialState'\r\n\r\nexport default function selectedItemsReducer(\r\n\tstate = initialState.selectedItems,\r\n\taction\r\n) {\r\n\tlet newState\r\n\r\n\tswitch (action.type) {\r\n\t\tcase UPDATE_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...state }\r\n\t\t\tnewState[action.collection] = action.selectedItems\r\n\t\t\treturn newState\r\n\t\tcase RESET_SELECTED_ITEMS:\r\n\t\t\tnewState = { ...initialState.selectedItems }\r\n\t\t\treturn newState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\n\tUPDATE_NEW_TRANSACTION,\n\tRESET_NEW_TRANSACTION,\n\tRESET_ALL_NEW_TRANSACTIONS,\n} from 'constants/actionTypes'\nimport initialState from 'store/initialState'\n\nexport default function newTransactionsReducer(\n\tstate = initialState.newTransactions,\n\taction\n) {\n\tlet newState\n\tlet newTx\n\n\tnewState = { ...state }\n\n\t// No model update\n\tconst updateTx = ({ tx, key, val }) => {\n\t\ttx = tx || {}\n\t\ttx[key] = val\n\n\t\treturn tx\n\t}\n\n\tswitch (action.type) {\n\t\tcase UPDATE_NEW_TRANSACTION:\n\t\t\tnewTx = {\n\t\t\t\t...(newState[action.tx] || initialState.newTransactions.default),\n\t\t\t}\n\t\t\tnewTx = updateTx({ tx: newTx, key: action.key, val: action.value })\n\n\t\t\t// console.log('newTx', newTx)\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tcase RESET_NEW_TRANSACTION:\n\t\t\tnewTx = { ...initialState.newTransactions.default }\n\t\t\tnewState[action.tx] = newTx\n\t\t\treturn newState\n\t\tcase RESET_ALL_NEW_TRANSACTIONS:\n\t\t\tnewState = initialState.newTransactions\n\t\t\treturn newState\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n","import { createStore, compose, applyMiddleware, combineReducers } from 'redux'\nimport reduxImmutableStateInvariant from 'redux-immutable-state-invariant'\nimport thunk from 'redux-thunk'\nimport { persistReducers, memoryReducers } from 'reducers'\nimport history from './history'\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\nimport { persistStore, persistCombineReducers } from 'redux-persist'\nimport localStorage from 'redux-persist/lib/storage'\n// import session from 'redux-persist/lib/storage/session'\n\nconst reduxRouterMiddleware = routerMiddleware(history)\n\nconst persistConfig = {\n\tkey: 'persist',\n\tstorage: localStorage,\n}\n\n// const configSession = {\n//   key: 'session',\n//   storage: session,\n// }\n\n// const rootReducer = combineReducers(reducers)\n\n// TODO: make session reducer(signin) - RAM reducer (no persist)\nconst rootReducer = combineReducers({\n\tpersist: persistCombineReducers(persistConfig, persistReducers),\n\tmemory: combineReducers(memoryReducers), // persistCombineReducers(configSession, sessionReducers), //\n\trouter: connectRouter(history),\n})\n\nconst logger = store => next => action => {\n\t// if (action.type === 'UPDATE_NEWITEM') {\n\t//   return next(action)\n\t// }\n\n\tconsole.groupCollapsed(action.type)\n\tconsole.info('dispatching', action)\n\tlet result = next(action)\n\tconsole.log('next state', store.getState())\n\tconsole.groupEnd(action.type)\n\treturn result\n}\n\nfunction configureStoreProd(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t]\n\n\tif (process.env.BUILD_TYPE === 'staging') {\n\t\tmiddlewares.push(logger)\n\t}\n\n\tlet store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcompose(applyMiddleware(...middlewares))\n\t)\n\n\tlet persistor = persistStore(store)\n\n\treturn { persistor, store }\n}\n\nfunction configureStoreDev(initialState) {\n\tconst middlewares = [\n\t\t// Add other middleware on this line...\n\n\t\t// Redux middleware that spits an error on you when you try to mutate your state either inside a dispatch or between dispatches.\n\t\treduxImmutableStateInvariant(),\n\n\t\t// thunk middleware can also accept an extra argument to be passed to each thunk action\n\t\t// https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n\t\tthunk,\n\t\treduxRouterMiddleware,\n\t\tlogger,\n\t]\n\n\tconst composeEnhancers =\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // add support for Redux dev tools\n\tconst store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\n\t)\n\n\tif (module.hot) {\n\t\t// Enable Webpack hot module replacement for reducers\n\t\tmodule.hot.accept('../reducers', () => {\n\t\t\tconst nextReducer = require('../reducers').default // eslint-disable-line global-require\n\t\t\tstore.replaceReducer(nextReducer)\n\t\t})\n\t}\n\n\tlet persistor = persistStore(store)\n\treturn { persistor, store }\n}\n\nconst configureStore =\n\tprocess.env.NODE_ENV === 'production' ? configureStoreProd : configureStoreDev\n\nexport default configureStore()\n","import configureStore from './configureStore'\n\nexport default configureStore\n\nexport const store = configureStore.store\nexport const persistor = configureStore.persistor\nexport const dispatch = store.dispatch\nexport const getState = store.getState\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles'\nimport { lime, grey } from '@material-ui/core/colors'\n\nconst WHITE = '#fff'\nexport const PRIMARY = '#1B75BC'\nexport const PRIMARY_LIGHT = '#5fa3ef'\nexport const PRIMARY_LIGHTEST = '#96d4ff'\nexport const PRIMARY_DARK = '#004a8b'\nexport const PRIMARY_DARKEST = '#00235d'\n\nexport const SECONDARY = '#1BC69F'\nexport const SECONDARY_LIGHT = '#65fad0'\nexport const SECONDARY_DARK = '#009471'\n\nexport const ALEX_GREY = '#3C3C3C'\nexport const ALEX_GREY_LIGHT = '#666'\nexport const ALEX_GREY_DARK = '#161616'\n\nexport const GANDALF_GREY = '#C4C4C4'\n\nexport const ACCENT_ONE = '#FF6942'\nexport const ACCENT_ONE_LIGHT = '#FF9B6F'\nexport const ACCENT_ONE_DARK = '#c53616'\n\nexport const ACCENT_TWO = '#FFAC00'\nexport const ACCENT_TWO_LIGHT = '#ffde4b'\nexport const ACCENT_TWO_DARK = '#c67d00'\n\nexport const ERROR_COLOR = '#FF4269'\nexport const ERROR_LIGHT = '#ff7a97'\nexport const ERROR_DARK = '#c6003f'\n\nconst primary = {\n\tmain: PRIMARY,\n\tdark: PRIMARY_DARK,\n\tlight: PRIMARY_LIGHT,\n\tlightest: PRIMARY_LIGHTEST,\n\tcontrastText: WHITE,\n}\n\nconst secondary = {\n\tmain: SECONDARY,\n\tdark: SECONDARY_DARK,\n\tlight: SECONDARY_LIGHT,\n\tcontrastText: WHITE,\n}\n\nexport const palette = {\n\tprimary,\n\tsecondary,\n\taccentOne: { main: ACCENT_ONE, light: ACCENT_ONE_LIGHT, contrastText: WHITE },\n\taccentTwo: { main: ACCENT_TWO, light: ACCENT_TWO_LIGHT, contrastText: WHITE },\n\tgrey: {\n\t\tmain: ALEX_GREY,\n\t\tcontrastText: WHITE,\n\t\tlight: ACCENT_ONE_LIGHT,\n\t\tdark: ALEX_GREY_DARK,\n\t},\n\tappBar: { main: grey[200], contrastText: grey[900] },\n\terror: {\n\t\tmain: ERROR_COLOR,\n\t\tlight: ACCENT_TWO_LIGHT,\n\t\tdark: ACCENT_TWO_DARK,\n\t\tcontrastText: WHITE,\n\t},\n\twarning: {\n\t\tmain: ACCENT_TWO,\n\t\tlight: ERROR_LIGHT,\n\t\tdark: ERROR_DARK,\n\t\tcontrastText: WHITE,\n\t},\n\tinfo: primary,\n\tsuccess: secondary,\n\tfirst: lime,\n\tcontrastThreshold: 3,\n\ttonalOffset: 0.2,\n\ttext: grey,\n\taction: {\n\t\tdisabledBackground: grey[200],\n\t\tdisabled: grey[500],\n\t},\n}\n\nconst defaultTheme = createMuiTheme()\n\nexport const theme = createMuiTheme({\n\ttypography: {\n\t\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n\t\tfontSize: 13.42,\n\t},\n\tpalette: { ...palette },\n\toverrides: {\n\t\tMuiButton: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tborderColor: ALEX_GREY,\n\t\t\t},\n\t\t\tcontained: {\n\t\t\t\tbackgroundColor: ALEX_GREY,\n\t\t\t\tcolor: WHITE,\n\t\t\t\tboxShadow: 0,\n\t\t\t\t'&:hover': {\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\n\t\t\t\t\tboxShadow: 0,\n\t\t\t\t\t'@media (hover: none)': {\n\t\t\t\t\t\tboxShadow: 0,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t'&$focusVisible': {\n\t\t\t\t\tboxShadow: 0,\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\n\t\t\t\t},\n\t\t\t\t'&:active': {\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT,\n\n\t\t\t\t\tboxShadow: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tMuiTableCell: {\n\t\t\thead: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t\troot: {\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t},\n\t\t},\n\t\tMuiPaper: {\n\t\t\trounded: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiTooltip: {\n\t\t\ttooltip: { borderRadius: 0 },\n\t\t},\n\t\tMuiSelect: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiInputLabel: {\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiOutlinedInput: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t},\n\t\tMuiAlert: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t},\n\t\t\toutlinedSuccess: {\n\t\t\t\tbackgroundColor: WHITE,\n\t\t\t},\n\t\t\toutlinedInfo: {\n\t\t\t\tbackgroundColor: WHITE,\n\t\t\t},\n\t\t\toutlinedWarning: {\n\t\t\t\tbackgroundColor: WHITE,\n\t\t\t},\n\t\t\toutlinedError: {\n\t\t\t\tbackgroundColor: WHITE,\n\t\t\t},\n\t\t},\n\t\t// MuiStepIcon: {\n\t\t//     root: {\n\t\t//         color: 'yellow',\n\t\t//         '&$active': {\n\t\t//             color: 'orange'\n\t\t//         }\n\t\t//     },\n\t\t//     active: {\n\t\t//         color: 'yellow'\n\t\t//     }\n\t\t// },\n\t\tMuiTableFooter: {\n\t\t\troot: {\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tflex: 0,\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMuiAppBar: {\n\t\t\tcolorDefault: {\n\t\t\t\tbackgroundColor: palette.appBar.main,\n\t\t\t\tcolor: palette.appBar.contrastText,\n\t\t\t},\n\t\t},\n\t\tMUIDataTablePagination: {\n\t\t\ttoolbar: {\n\t\t\t\tpadding: 0,\n\t\t\t},\n\t\t},\n\t\tMUIDataTableFilter: {\n\t\t\troot: {\n\t\t\t\tmaxWidth: '400px',\n\t\t\t},\n\t\t},\n\t\t// Think of accessing an element not a class\n\t\tMuiGridListTile: {\n\t\t\troot: {\n\t\t\t\twidth: '100% !important',\n\t\t\t},\n\t\t},\n\t\tMUIDataTableBodyCell: {\n\t\t\tstackedCommon: {\n\t\t\t\t[defaultTheme.breakpoints.down('sm')]: {\n\t\t\t\t\tdisplay: 'inline-flex',\n\t\t\t\t\theight: 'auto',\n\t\t\t\t\tborderBottom: 'none',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tMUIDataTable: {\n\t\t\troot: {\n\t\t\t\tborder: '1px solid black',\n\t\t\t},\n\t\t},\n\t\tMUIDataTableBody: {\n\t\t\temptyTitle: {\n\t\t\t\tpadding: defaultTheme.spacing(2),\n\t\t\t\twidth: '100%',\n\t\t\t},\n\t\t},\n\t},\n})\n\nexport const themeMUI = responsiveFontSizes(theme, {\n\toptions: ['xs', 'sm', 'md', 'lg', 'xl'],\n\tfactor: 3,\n})\n","import adexTranslations from 'adex-translations'\nimport { removeTags } from 'helpers/sanitizer'\nimport { isValidElement, cloneElement } from 'react'\n\nconst translations = adexTranslations()\n\nlet lang = 'en-US'\n\nconst interpolate = (tpl, args) => {\n\tif (typeof tpl !== 'string') {\n\t\treturn ''\n\t}\n\n\tconst pattern = new RegExp(/\\${(\\w+)}/, 'gi')\n\tconst parts = tpl.split(pattern)\n\n\tconst interpolated = parts.map((p, i) => {\n\t\tconst element = args[p] || p\n\t\tif (isValidElement(element) && !element.key) {\n\t\t\tconst withKey = cloneElement(element, { key: i })\n\n\t\t\treturn withKey\n\t\t}\n\n\t\treturn element\n\t})\n\n\tif (interpolated.every(i => typeof i === 'string' || typeof i === 'number')) {\n\t\treturn interpolated.join('')\n\t}\n\n\treturn interpolated\n}\n\nexport const translate = (\n\tval = '',\n\t{ isProp = false, args = [''], toUpperCase = false } = {},\n\tlanguage = lang\n) => {\n\tlet key = val + ''\n\tif (isProp) {\n\t\tkey = 'PROP_' + key.replace(/^_/, '')\n\t}\n\tif (toUpperCase) {\n\t\tkey = key.toUpperCase()\n\t}\n\n\tkey = key.toUpperCase()\n\n\tlet translation = removeTags(translations[language][key] || val)\n\n\tif (args.length && Array.isArray(args)) {\n\t\tconst translatedArgs = args.map(a => {\n\t\t\tif (typeof a === 'string') {\n\t\t\t\treturn translations[language][a] || a\n\t\t\t} else {\n\t\t\t\treturn a\n\t\t\t}\n\t\t})\n\n\t\ttranslation = interpolate(translation, translatedArgs)\n\t}\n\n\treturn translation\n}\n\n// TODO: fix that\nexport const setLang = lng => {\n\tlang = lng\n}\n","export const removeTags = dirty => {\n\tif (!dirty || typeof dirty !== 'string') return ''\n\n\treturn (\n\t\tdirty\n\t\t\t// Replace <strong>, <em>, <br>, <u>, <b> and <i> with {strong}, etc...\n\t\t\t.replace(/<(\\/?strong|em|br|[ubi])>/gi, '{{$1}}')\n\t\t\t// Strip any remaining HTML tags\n\t\t\t.replace(/<(?:.|\\n)*?>/gm, '')\n\t\t\t// Replace {strong} ... with <strong> ...\n\t\t\t.replace(/{{(\\/?strong|em|br|[ubi])}}/gi, '<$1>')\n\t)\n}\n","// No automatic generation: we don't want to depend on fs, as we want to keep this universal\n// ls *-*.json | while read line; do printf \"\\\"`printf $line | cut -d '.' -f1`\\\": require(\\\"./$line\\\"),\\n\"; done\nmodule.exports = function () {\n  return {\n    \"bg-BG\": require(\"./bg-BG.json\"),\n    \"de-DE\": require(\"./de-DE.json\"),\n    \"en-US\": require(\"./en-US.json\"),\n    \"es-ES\": require(\"./es-ES.json\"),\n    \"fr-FR\": require(\"./fr-FR.json\"),\n    \"hr-HR\": require(\"./hr-HR.json\"),\n    \"hu-HU\": require(\"./hu-HU.json\"),\n    \"it-IT\": require(\"./it-IT.json\"),\n    \"nl-NL\": require(\"./nl-NL.json\"),\n    \"pt-BR\": require(\"./pt-BR.json\"),\n    \"pt-PT\": require(\"./pt-PT.json\"),\n    \"ru-RU\": require(\"./ru-RU.json\"),\n    \"se-SE\": require(\"./se-SE.json\"),\n    \"sr-RS\": require(\"./sr-RS.json\"),\n    \"zh-CN\": require(\"./zh-CN.json\")\n  };\n}; // ls *-*.json | while read line; do printf \"\\\"`printf $line | cut -d '.' -f1`\\\",\\n\"; done\n\n\nmodule.exports.all = [\"bg-BG\", \"da-DK\", \"de-DE\", \"en-US\", \"es-ES\", \"fr-FR\", \"he-IL\", \"hr-HR\", \"hu-HU\", \"it-IT\", \"nl-NL\", \"pt-BR\", \"pt-PT\", \"ru-RU\", \"se-SE\", \"sr-RS\", \"zh-CN\"];\nmodule.exports.onlyTranslated = [\"en-US\", \"es-ES\"];","import base64 from 'base64url'\nimport ethers from 'ethers'\n\n// see https://github.com/ethereum/EIPs/issues/1341\n// Implements EIP 1341: Ethereum Web Tokens\n\nconst HEADER = base64.encode(\n\tJSON.stringify({\n\t\ttype: 'JWT',\n\t\talg: 'ETH',\n\t})\n)\n\n// signer is always etherjs Wallet: https://docs.ethers.io/ethers.js/html/api-wallet.html\n// .address is always checksummed\nfunction sign(signer, payload) {\n\tconst payloadEncoded = base64.encode(\n\t\tJSON.stringify({\n\t\t\t...payload,\n\t\t\taddress: signer.address,\n\t\t})\n\t)\n\treturn signer.signMessage(`${HEADER}.${payloadEncoded}`).then(function(sig) {\n\t\tconst sigBuf = Buffer.from(sig.signature.slice(2), 'hex')\n\t\treturn `${HEADER}.${payloadEncoded}.${base64.encode(sigBuf)}`\n\t})\n}\n\nfunction verify(token) {\n\tconst parts = token.split('.')\n\tif (parts.length !== 3) {\n\t\treturn Promise.reject(new Error('verify: token needs to be of 3 parts'))\n\t}\n\tconst msg = parts.slice(0, 2).join('.')\n\tconst sigBuf = Buffer.from(parts[2], 'base64')\n\ttry {\n\t\tconst from = ethers.utils.verifyMessage(msg, sigBuf)\n\t\tconst payload = JSON.parse(base64.decode(parts[1]))\n\t\treturn Promise.resolve({ from, payload })\n\t} catch (e) {\n\t\treturn Promise.reject(e)\n\t}\n}\n\nexport default { sign, verify }\n","module.exports = Module;","import moment from 'moment'\n\n// TODO: separate exports - not class\nclass Helper {\n\tgetGuid() {\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t}\n\n\tgetRndHash32(prefix) {\n\t\tlet h = 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\tvar r = (Math.random() * 16) | 0,\n\t\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8 // eslint-disable-line no-mixed-operators\n\t\t\treturn v.toString(16)\n\t\t})\n\t\tif (prefix) {\n\t\t\th = prefix + h.substring(prefix.length)\n\t\t}\n\t\treturn h\n\t}\n\n\tgetRandomInt(min, max) {\n\t\treturn Math.floor(Math.random() * (max - min + 1) + min)\n\t}\n\n\tgetRandomBool() {\n\t\treturn !!this.getRandomInt(0, 1)\n\t}\n\n\tgetRandomPropFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn obj[keys[(keys.length * Math.random()) << 0]]\n\t}\n\n\tgetRandomKeyFromObj(obj) {\n\t\tvar keys = Object.keys(obj)\n\t\treturn keys[(keys.length * Math.random()) << 0]\n\t}\n\n\tgeRandomMoment(maxDaysPast, maxDaysAhead, initialMoment) {\n\t\t// TODO: fix +/- 1 day bug\n\t\tlet initial = moment.isMoment(initialMoment)\n\t\t\t? initialMoment.valueOf()\n\t\t\t: undefined\n\n\t\treturn moment(initial)\n\t\t\t.add(this.getRandomInt(-maxDaysPast, maxDaysAhead), 'd')\n\t\t\t.add(this.getRandomInt(-24, 24), 'h')\n\t\t\t.add(this.getRandomInt(-60, 60), 'm')\n\t}\n\n\thexToRgbaColorString = (hex, alpha) => {\n\t\tif (!hex || typeof hex !== 'string') {\n\t\t\tthrow new Error('Invalid color')\n\t\t} else if (hex.length === 4) {\n\t\t\thex = hex + hex.substr(1, 4)\n\t\t}\n\n\t\tif (typeof alpha === 'object' || typeof alpha === 'undefined') {\n\t\t\talpha = 1\n\t\t}\n\n\t\tconst hexToDec = h => {\n\t\t\treturn parseInt('0x' + h, 16)\n\t\t}\n\n\t\tlet r = hexToDec(hex.substr(1, 2))\n\t\tlet g = hexToDec(hex.substr(3, 2))\n\t\tlet b = hexToDec(hex.substr(5, 2))\n\n\t\treturn `rgba(${r},${g},${b},${alpha})`\n\t}\n\n\tgetQuery(queryParams) {\n\t\tif (\n\t\t\t!queryParams ||\n\t\t\t(typeof queryParams === 'object' && !Object.keys(queryParams).length)\n\t\t) {\n\t\t\treturn ''\n\t\t}\n\t\treturn (\n\t\t\t'?' +\n\t\t\t\tObject.keys(queryParams)\n\t\t\t\t\t.filter(key => queryParams[key] !== undefined)\n\t\t\t\t\t.map(key => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tencodeURIComponent(key) +\n\t\t\t\t\t\t\t'=' +\n\t\t\t\t\t\t\tencodeURIComponent(queryParams[key])\n\t\t\t\t\t\t)\n\t\t\t\t\t}, '')\n\t\t\t\t\t.join('&') || ''\n\t\t)\n\t}\n\n\tgetErrMsg = err => {\n\t\tlet stack = (err.message || err || '').toString().split(/\\r\\n|\\n|\\r/g)\n\n\t\tif (stack.length > 1) {\n\t\t\treturn (err.name ? err.name + ': ' : '') + stack[0].toString()\n\t\t} else {\n\t\t\treturn (err.error || err || '').toString()\n\t\t}\n\t}\n\n\tisInt = int => {\n\t\treturn typeof int === 'number' && int % 1 === 0\n\t}\n\n\tshuffleArray = array => {\n\t\treturn [...array].sort(() => Math.random() - 0.5)\n\t}\n}\n\nexport const isWindowReloading = () => {\n\treturn (\n\t\twindow.performance &&\n\t\tperformance.navigation.type === performance.navigation.TYPE_RELOAD\n\t)\n}\n\nexport default new Helper()\n","module.exports = __webpack_public_path__ + \"static/media/metamask-logo.45982b2b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/video-placeholder.f25010ce.jpg\";","import { ethers, utils } from 'ethers'\nimport pbkdf2 from 'pbkdf2'\nimport {\n\tencrypt,\n\tdecrypt,\n\tencryptLegacy,\n\tdecryptLegacy,\n} from 'services/crypto/crypto'\nimport {\n\tloadFromLocalStorage,\n\tsaveToLocalStorage,\n\tgetKeys,\n\tremoveFromLocalStorage,\n} from 'helpers/localStorageHelpers'\nimport { AUTH_TYPES } from 'constants/misc'\n\nfunction pbkdf2Async(pass, salt, iterations, keylen, digiset, encoding) {\n\treturn new Promise((resolve, reject) => {\n\t\tpbkdf2.pbkdf2(\n\t\t\tpass,\n\t\t\tsalt,\n\t\t\titerations,\n\t\t\tkeylen,\n\t\t\tdigiset,\n\t\t\t(err, derivedKey) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn reject(err)\n\t\t\t\t}\n\n\t\t\t\tconst res = derivedKey.toString(encoding)\n\n\t\t\t\treturn resolve(res)\n\t\t\t}\n\t\t)\n\t})\n}\n\nasync function getCipherKey({ email, password }) {\n\tconst pass = generateSalt(password)\n\tconst salt = generateSalt(email)\n\n\tconst key = await pbkdf2Async(pass, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn key\n}\n\nfunction isLegacyCrypto(authType) {\n\treturn !authType || authType === 'legacy' || authType === 'grant'\n}\n\n// Returns 12 random words\nexport function getRandomMnemonic() {\n\tconst randomEntropy = utils.randomBytes(16)\n\tconst mnemonic = utils.HDNode.entropyToMnemonic(randomEntropy)\n\n\treturn mnemonic\n}\n\nexport async function generateWallet(mnemonic) {\n\tconst seed = mnemonic || getRandomMnemonic()\n\tconst wallet = ethers.Wallet.fromMnemonic(seed)\n\n\treturn {\n\t\tmnemonic,\n\t\tprivateKey: wallet.privateKey,\n\t\taddress: wallet.address,\n\t\tpath: wallet.path,\n\t}\n}\n\nasync function encrKey({ email, password, authType }) {\n\tif (!authType) {\n\t\treturn await encryptLegacy(email, password)\n\t} else if (typeof authType === 'string') {\n\t\treturn `adex-${authType}-wallet-${email.toLowerCase()}`\n\t} else {\n\t\tthrow new Error('INVALID_TYPE')\n\t}\n}\n\nexport async function encrData({ email = '', password, data, authType }) {\n\tconst isLegacy = isLegacyCrypto(authType)\n\tconst jsonData = JSON.stringify(data)\n\tif (isLegacy) {\n\t\tconst legacyEncrypted = await encryptLegacy(jsonData, email + password)\n\t\treturn legacyEncrypted\n\t} else {\n\t\tconst encrypted = await encrypt(\n\t\t\tjsonData,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t\treturn encrypted\n\t}\n}\n\nexport async function decrData({ email = '', password, data, authType }) {\n\tlet decryptedStr = ''\n\tconst isLegacy = isLegacyCrypto(authType)\n\n\tif (isLegacy) {\n\t\tdecryptedStr = await decryptLegacy(data, email + password)\n\t} else {\n\t\tdecryptedStr = await decrypt(\n\t\t\tdata,\n\t\t\tawait getCipherKey({ email: email.toLowerCase(), password })\n\t\t)\n\t}\n\n\ttry {\n\t\tconst decr = JSON.parse(decryptedStr)\n\t\treturn decr\n\t} catch (err) {\n\t\tthrow new Error('INVALID_PASSWORD_OR_EMAIL', err)\n\t}\n}\n\nexport async function createLocalWallet({\n\temail = '',\n\tpassword = '',\n\tmnemonic,\n\tauthType = '',\n}) {\n\tconst walletData = await generateWallet(mnemonic)\n\tconst key = await encrKey({ email, password, authType })\n\tconst data = await encrData({ data: walletData, email, password, authType })\n\tawait saveToLocalStorage({ data }, key)\n\n\twalletData.authType = authType\n\treturn walletData\n}\n\nexport async function migrateLegacyWallet({ email = '', password = '' }) {\n\tconst wallet = await getLocalWallet({\n\t\temail,\n\t\tpassword,\n\t\tgetEncrypted: true,\n\t})\n\n\tif (wallet && wallet.data) {\n\t\tconst newKey = await encrKey({\n\t\t\temail,\n\t\t\tpassword,\n\t\t\tauthType: AUTH_TYPES.GRANT.name,\n\t\t})\n\t\tsaveToLocalStorage(wallet, newKey)\n\t}\n}\n\nexport async function removeLegacyKey({ email = '', password = '' }) {\n\tconst key = await encrKey({ email, password })\n\tremoveFromLocalStorage(key)\n}\n\nexport async function addDataToWallet({\n\temail = '',\n\tpassword = '',\n\tdataKey = '',\n\tdataValue = '',\n\tauthType,\n}) {\n\tif (dataKey === 'data') {\n\t\tthrow new Error('INVALID_DATA_KEY')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (!wallet) {\n\t\tthrow new Error('WALLET_NOT_FOUND')\n\t}\n\n\tconst data = await encrData({ data: dataValue, email, password, authType })\n\twallet[dataKey] = data\n\tsaveToLocalStorage(wallet, key)\n}\n\nexport async function getRecoveryWalletData({ email, password, authType }) {\n\tif (!email || !password) {\n\t\treturn null\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\treturn {\n\t\tkey,\n\t\twallet,\n\t}\n}\n\nexport async function getLocalWallet({\n\temail,\n\tpassword,\n\tauthType,\n\tgetEncrypted,\n}) {\n\tif (!email || !password) {\n\t\tthrow new Error('REQUIRED_EMAIL_AND_PASSWORD')\n\t}\n\n\tconst key = await encrKey({ email, password, authType })\n\tconst wallet = loadFromLocalStorage(key)\n\n\tif (wallet) {\n\t\tif (getEncrypted) {\n\t\t\treturn wallet\n\t\t}\n\n\t\tconst walletKeys = Object.keys(wallet)\n\n\t\tconst decrypts = walletKeys.map(async key => {\n\t\t\t// props[key] = await decrData({\n\t\t\t// \tdata: wallet[key],\n\t\t\t// \temail,\n\t\t\t// \tpassword,\n\t\t\t// \tauthType,\n\t\t\t// })\n\n\t\t\tconst decryptedData = await decrData({\n\t\t\t\tdata: wallet[key],\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\tauthType,\n\t\t\t})\n\n\t\t\treturn decryptedData\n\t\t})\n\n\t\tconst decryptedData = await Promise.all(decrypts)\n\n\t\tconst decryptedWallet = walletKeys.reduce((props, key, index) => {\n\t\t\tprops[key] = decryptedData[index]\n\t\t\treturn props\n\t\t}, {})\n\n\t\treturn decryptedWallet\n\t} else {\n\t\treturn null\n\t}\n}\n\nfunction isWallet(item) {\n\treturn item && item.data && item.identity && item.privileges\n}\n\nexport function walletInfo(key, index, wallet) {\n\tconst split = key.split('-')\n\tconst mail = split.length >= 3 ? split.slice(3, split.length).join('-') : null\n\tconst authType = split[1] || 'legacy'\n\tconst name = mail || `Grant account # ${index + 1}`\n\n\tconst info = {\n\t\tkey,\n\t\twallet,\n\t\tname,\n\t\tauthType,\n\t}\n\n\treturn info\n}\n\nexport function getAllWallets() {\n\tconst walletKeys = getKeys()\n\t\t.map(key => {\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\titem: loadFromLocalStorage(key),\n\t\t\t}\n\t\t})\n\t\t.filter(({ item }) => isWallet(item))\n\t\t.map(({ item, key }, index) => walletInfo(key, index, item))\n\n\treturn walletKeys\n}\n\nexport async function getWalletHash({ salt, password }) {\n\tconst passwordId = utils.id(password)\n\n\tconst hash = await pbkdf2Async(passwordId, salt, 10000, 64, 'sha512', 'hex')\n\n\treturn hash\n}\n\nexport function generateSalt(dataStr) {\n\tif (typeof dataStr !== 'string') {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_NOT_STR')\n\t} else if (!dataStr.length) {\n\t\tthrow new Error('ERR_GEN_SALT_INPUT_TOO_SHORT')\n\t}\n\n\tconst id = utils.id(dataStr)\n\tconst salt = utils.keccak256(id)\n\treturn salt\n}\n","module.exports = __webpack_public_path__ + \"static/media/404-no.0ec9cb01.png\";","module.exports = __webpack_public_path__ + \"static/media/404-yes.ade3b1a3.png\";","module.exports = __webpack_public_path__ + \"static/media/ramp.a70bdb13.svg\";","module.exports = __webpack_public_path__ + \"static/media/wyre.88a9c74f.svg\";","module.exports = __webpack_public_path__ + \"static/media/paytrie.e3ec2363.svg\";","module.exports = __webpack_public_path__ + \"static/media/transak.e906a179.svg\";","module.exports = __webpack_public_path__ + \"static/media/changelly.d1beb98c.svg\";","module.exports = __webpack_public_path__ + \"static/media/GS-fund-ic.a3c1ce2c.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTAyLTE3VDE2OjA4OjExKzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MWE5YjZhZS0zYjg3LWZlNDAtYjc2Zi05ZWQwZGY2M2IzOWMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowZjAyOTAwYy1mYWQxLTZkNDctYmMyZi0wZDg0ZTg5MDgzZDUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4NTk2YjBhMi02OWJjLTVjNGUtOTIxZS1hNjcwMGNjZjIzYjQiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1OTZiMGEyLTY5YmMtNWM0ZS05MjFlLWE2NzAwY2NmMjNiNCIgc3RFdnQ6d2hlbj0iMjAyMC0wMi0xN1QxNjowODoxMSswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjYxYTliNmFlLTNiODctZmU0MC1iNzZmLTllZDBkZjYzYjM5YyIgc3RFdnQ6d2hlbj0iMjAyMC0wMi0xN1QxNjowOToxNCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pq0lBPoAABGCSURBVHja7d0JlBT1ncDx8TauuyYRdxVdTXY3Hk9WfZrEczUx3jMwI/c9HIJBOQSCQECQWwGVQ2PkUkCQYNQowWON0c0q66pI9OGiAkEuueWQ4Zb/VrUzzdycAz09n99739cw0wNidX1e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\"","module.exports = __webpack_public_path__ + \"static/media/download-metamask.d5cb0c90.png\";","module.exports = __webpack_public_path__ + \"static/media/metamask.023762b6.png\";","module.exports = __webpack_public_path__ + \"static/media/eddie-14.8bd0ccfa.png\";","import { useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectLocation } from 'selectors'\r\nimport packageJson from '../../../package.json'\r\nimport { refreshCacheAndReload, execute, notifyNewTOS } from 'actions'\r\nglobal.meta = {\r\n\tcurrentVersion: packageJson.version,\r\n\tcurrentTOS: packageJson.tosVersion,\r\n}\r\n\r\nexport default function CacheBuster(props) {\r\n\tconst location = useSelector(selectLocation) || {}\r\n\tconst semverGreaterThan = (versionA = '', versionB = '') => {\r\n\t\tconst versionsA = versionA.split(/\\./g)\r\n\r\n\t\tconst versionsB = versionB.split(/\\./g)\r\n\t\twhile (versionsA.length || versionsB.length) {\r\n\t\t\tconst a = Number(versionsA.shift())\r\n\r\n\t\t\tconst b = Number(versionsB.shift())\r\n\t\t\t// eslint-disable-next-line no-continue\r\n\t\t\tif (a === b) continue\r\n\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\treturn a > b || isNaN(b)\r\n\t\t}\r\n\t\treturn false\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tlet r = Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(7)\r\n\t\tfetch(`/meta.json?r=${r}`, { cache: 'no-cache' })\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(meta => {\r\n\t\t\t\tconst { latestVersion, latestTOS } = meta\r\n\t\t\t\tconst { currentVersion, currentTOS } = global.meta || {}\r\n\t\t\t\tconst shouldForceRefresh =\r\n\t\t\t\t\t!global.meta || semverGreaterThan(latestVersion, currentVersion)\r\n\t\t\t\tif (shouldForceRefresh) {\r\n\t\t\t\t\texecute(\r\n\t\t\t\t\t\trefreshCacheAndReload({\r\n\t\t\t\t\t\t\tversion: latestVersion,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tconst shouldNotifyNewTOS =\r\n\t\t\t\t\t!global.meta || semverGreaterThan(latestTOS, currentTOS)\r\n\t\t\t\tif (shouldNotifyNewTOS) {\r\n\t\t\t\t\texecute(notifyNewTOS())\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}, [location])\r\n\r\n\treturn props.children\r\n}\r\n","import dateUtils from 'helpers/dateUtils'\nimport { t } from 'selectors'\n\nconst SECOND = 1000\nconst MINUTE = 60 * SECOND\nconst HOUR = 60 * MINUTE\nconst DAY = 24 * HOUR\nconst WEEK = 7 * DAY\nconst YEAR = 365 * DAY\nconst MONTH = Math.floor(YEAR / 12)\n\nexport const DEFAULT_WEEK_HOURS_SPAN = 3\n\nexport const fillEmptyTime = (\n\tprevAggr,\n\ttimeframe,\n\tdefaultValue = 0,\n\tfillAfterLast = 0,\n\tperiod\n) => {\n\tconst now = Date.now()\n\tconst time = {\n\t\tinterval: period,\n\t\tstep: { period: 1, span: 'minute' },\n\t}\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\t\ttime.step = {\n\t\t\t\tunit: 'minute',\n\t\t\t\tamount: 1,\n\t\t\t}\n\t\t\tbreak\n\t\tcase 'day':\n\t\t\ttime.step = { unit: 'hour', amount: 1 }\n\t\t\tbreak\n\t\tcase 'week':\n\t\t\ttime.step = { unit: 'hour', amount: DEFAULT_WEEK_HOURS_SPAN }\n\t\t\tbreak\n\t\tcase 'month':\n\t\t\ttime.step = { unit: 'day', amount: 1 }\n\t\t\tbreak\n\t\tcase 'year':\n\t\t\ttime.step = { unit: 'month', amount: 1 }\n\t\t\tbreak\n\t\tdefault:\n\t\t\treturn prevAggr\n\t}\n\tconst newAggr = []\n\n\tlet initialTime = +dateUtils.date(time.interval.start)\n\tlet endTime = Math.min(time.interval.end, +dateUtils.date())\n\tfor (\n\t\tlet m = +dateUtils.date(initialTime);\n\t\tm <= endTime;\n\t\tm = +dateUtils.add(dateUtils.date(m), time.step.amount, time.step.unit)\n\t) {\n\t\tnewAggr.push({ value: defaultValue, time: m })\n\t}\n\tconst prevAggrInInterval = prevAggr\n\t\t.filter(a => {\n\t\t\tconst m = a.time\n\t\t\treturn m - initialTime >= 0 && m - endTime <= 0\n\t\t})\n\t\t.sort((a, b) => b.time - a.time)\n\n\tconst lastWithValueTime = (prevAggrInInterval[0] || {}).time || now\n\n\tconst data = [...prevAggrInInterval, ...newAggr].reduce((data, a) => {\n\t\tconst newData = { ...data }\n\t\tconst isNullValue = a.value === null || data[a.time] === null\n\t\tconst value =\n\t\t\ta.time <= lastWithValueTime\n\t\t\t\t? isNullValue\n\t\t\t\t\t? null\n\t\t\t\t\t: data[a.time] || a.value || defaultValue\n\t\t\t\t: fillAfterLast\n\n\t\tnewData[a.time] = a.time <= now ? value : null\n\n\t\treturn newData\n\t}, {})\n\n\tconst result = Object.entries(data)\n\t\t.map(([key, value]) => ({\n\t\t\tvalue,\n\t\t\ttime: +key,\n\t\t}))\n\t\t.sort((a, b) => a.time - b.time)\n\n\treturn result\n}\n\nexport const DATETIME_EXPORT_FORMAT = 'YYYY-MM-DD HH:mm:ss'\n\nexport const getTimePeriods = ({ timeframe, start }) => {\n\tlet end = null\n\tlet callEnd = null\n\tconst startCopy = dateUtils.date(start)\n\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\t\tstart = dateUtils.startOfMinute(startCopy)\n\t\t\tend = dateUtils.addMinutes(start, 59)\n\t\t\tcallEnd = dateUtils.addMinutes(end, 1)\n\t\t\tbreak\n\t\tcase 'day':\n\t\t\tstart = dateUtils.startOfHour(startCopy)\n\t\t\tend = dateUtils.addHours(start, 23)\n\t\t\tcallEnd = dateUtils.addHours(end, 1)\n\t\t\tbreak\n\t\tcase 'week':\n\t\t\tstart = dateUtils.getHourSpanStart(startCopy, DEFAULT_WEEK_HOURS_SPAN)\n\t\t\tend = dateUtils.addDays(start, 6)\n\t\t\tcallEnd = dateUtils.addHours(end, 6)\n\t\t\tbreak\n\t\tcase 'month':\n\t\t\tstart = dateUtils.startOfDay(startCopy)\n\t\t\tend = dateUtils.addDays(dateUtils.addMonths(start, 1), -1)\n\t\t\tcallEnd = dateUtils.addDays(end, 1)\n\t\t\tbreak\n\t\tcase 'year':\n\t\t\tstart = dateUtils.date(startCopy).startOf('month')\n\t\t\tend = dateUtils.addMonths(start, 11)\n\t\t\tcallEnd = dateUtils.addMonths(end, 1)\n\t\t\tbreak\n\t\tdefault:\n\t\t\tbreak\n\t}\n\n\tstart = +start\n\tend = Math.min(+end, +dateUtils.date())\n\tcallEnd = +callEnd\n\n\treturn { start, end, callEnd }\n}\n\nexport const getBorderPeriodStart = ({\n\ttimeframe,\n\tstart,\n\tnext = false,\n\tstartIsLive = false,\n\tminDate,\n\tmaxDate,\n}) => {\n\tconst startCopy = dateUtils.date(start)\n\tconst direction = next ? 1 : -1\n\tlet borderStart\n\tlet limitedStart = startCopy\n\n\tif (\n\t\tnext &&\n\t\tmaxDate &&\n\t\tdateUtils.isAfter(startCopy, dateUtils.date(maxDate))\n\t) {\n\t\tlimitedStart = dateUtils.date(maxDate)\n\t}\n\n\tif (\n\t\t!next &&\n\t\tminDate &&\n\t\tdateUtils.isBefore(startCopy, dateUtils.date(minDate))\n\t) {\n\t\tlimitedStart = dateUtils.date(minDate)\n\t}\n\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\t\tborderStart =\n\t\t\t\tstartIsLive && !next\n\t\t\t\t\t? dateUtils.startOfHour(limitedStart)\n\t\t\t\t\t: dateUtils.addHours(limitedStart, direction)\n\t\t\tbreak\n\t\tcase 'day':\n\t\t\tconst day =\n\t\t\t\tstartIsLive && !next\n\t\t\t\t\t? dateUtils.startOfDay(limitedStart)\n\t\t\t\t\t: dateUtils.addDays(limitedStart, direction)\n\t\t\tborderStart = dateUtils.startOfDay(day)\n\t\t\tbreak\n\t\tcase 'week':\n\t\t\tconst week =\n\t\t\t\tstartIsLive && !next\n\t\t\t\t\t? dateUtils.startOfWeek(startCopy)\n\t\t\t\t\t: dateUtils.addWeeks(startCopy, direction)\n\t\t\tborderStart = dateUtils.startOfDay(week)\n\t\t\tbreak\n\t\tcase 'month':\n\t\t\tconst month =\n\t\t\t\tstartIsLive && !next\n\t\t\t\t\t? dateUtils.startOfMonth(limitedStart)\n\t\t\t\t\t: dateUtils.addMonths(limitedStart, direction)\n\t\t\tborderStart = dateUtils.startOfMonth(month)\n\t\t\tbreak\n\t\tcase 'year':\n\t\t\tconst year =\n\t\t\t\tstartIsLive && !next\n\t\t\t\t\t? dateUtils.startOfYear(limitedStart)\n\t\t\t\t\t: dateUtils.addYears(limitedStart, direction)\n\t\t\tborderStart = dateUtils.startOfMonth(year)\n\t\t\tbreak\n\t\tdefault:\n\t\t\tthrow new Error('INVALID_TIMEFRAME')\n\t}\n\tif (dateUtils.isAfter(borderStart, dateUtils.date())) {\n\t\tborderStart = startCopy\n\t}\n\n\treturn +borderStart\n}\n\nexport const getMinStartDateTimeByTimeframe = ({ timeframe, time }) => {\n\tconst min = dateUtils.date(time)\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\t\treturn dateUtils.addMinutes(min, -59)\n\t\tcase 'day':\n\t\t\treturn dateUtils.addHours(min, -23)\n\t\tcase 'week':\n\t\t\treturn dateUtils.addDays(min, -6)\n\t\tcase 'month':\n\t\t\treturn dateUtils.addDays(dateUtils.addMonths(min, -1), 1)\n\t\tcase 'year':\n\t\t\treturn dateUtils.addMonths(min, -11)\n\t\tdefault:\n\t\t\treturn min\n\t}\n}\n\nconst TIME_INTERVALS = [\n\t{ label: 'YEAR', ms: YEAR },\n\t{ label: 'MONTH', ms: MONTH },\n\t{ label: 'WEEK', ms: WEEK },\n\t{ label: 'DAY', ms: DAY },\n\t{ label: 'HOUR', ms: HOUR },\n\t{ label: 'MINUTE', ms: MINUTE },\n\t{ label: 'SECOND', ms: SECOND },\n]\n\nexport const timeAgo = (time, since = Date.now()) => {\n\tconst ms = Math.floor(since - time)\n\tconst interval = TIME_INTERVALS.find(i => i.ms < ms)\n\tif (!interval) {\n\t\treturn t('JUST_NOW')\n\t}\n\n\tconst intervalTimes = Math.floor(ms / interval.ms)\n\treturn t('TIME_AGO', {\n\t\targs: [intervalTimes, interval.label + (intervalTimes > 1 ? 'S' : '')],\n\t})\n}\n\nexport const DATE_TIME_FORMATS_BY_TIMEFRAME = {\n\tyear: { long: 'YYYY-MM', short: 'YYYY-MM' },\n\tmonth: { long: 'YYYY-MM-DD', short: 'YYYY-MM-DD' },\n\tweek: { long: 'YYYY-MM-DD HH:mm', short: 'YYYY-MM-DD HH:mm' },\n\tday: { long: 'YYYY-MM-DD HH:mm', short: 'YYYY-MM-DD HH:mm' },\n\thour: { long: 'YYYY-MM-DD HH:mm', short: 'YYYY-MM-DD HH:mm' },\n}\n\nexport const getPeriodLabel = ({ timeframe, start, end }) => {\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\tcase 'day':\n\t\tcase 'week':\n\t\t\treturn `${dateUtils.format(start, 'YYYY/MM/DD HH:mm')} - \n${dateUtils.format(end, 'YYYY/MM/DD HH:mm')}`\n\t\tcase 'month':\n\t\t\treturn `${dateUtils.format(start, 'YYYY/MM/DD')} - \n${dateUtils.format(end, 'YYYY/MM/DD')}`\n\t\tcase 'year':\n\t\t\treturn `${dateUtils.format(start, 'YYYY/MM')} - \n${dateUtils.format(end, 'YYYY/MM')}`\n\t\tdefault:\n\t\t\tthrow new Error('INVALID_TIMEFRAME')\n\t}\n}\n\nexport const getPeriodDataPointLabel = ({ timeframe, time }) => {\n\tswitch (timeframe) {\n\t\tcase 'hour':\n\t\tcase 'day':\n\t\t\treturn `${dateUtils.format(time, 'YYYY/MM/DD HH:mm')}`\n\t\tcase 'week':\n\t\t\tconst periodEnd = +dateUtils.addMinutes(\n\t\t\t\tdateUtils.addHours(dateUtils.date(time), 3),\n\t\t\t\t-1\n\t\t\t)\n\t\t\treturn `${dateUtils.format(time, 'YYYY/MM/DD HH:mm')} - \n${dateUtils.format(periodEnd, 'YYYY/MM/DD HH:mm')}`\n\t\tcase 'month':\n\t\t\treturn `${dateUtils.format(time, 'YYYY/MM/DD')}`\n\t\tcase 'year':\n\t\t\treturn `${dateUtils.format(time, 'YYYY/MM')}`\n\t\tdefault:\n\t\t\tthrow new Error('INVALID_TIMEFRAME')\n\t}\n}\n"],"sourceRoot":""}